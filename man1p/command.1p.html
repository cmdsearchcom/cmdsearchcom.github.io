<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:45:08 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>COMMAND(1P) POSIX Programmer&rsquo;s Manual
COMMAND(1P)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
command - execute a simple command</p>

<p style="margin-top: 1em">SYNOPSIS <br>
command [-p] command_name [argument ...]</p>

<p style="margin-top: 1em">command [ -v | -V ]
command_name</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The command utility shall cause the shell to treat the
arguments as a simple command, suppressing the shell
function lookup that is described in Command Search and
Execution, <br>
item 1b.</p>

<p style="margin-top: 1em">If the command_name is the same
as the name of one of the special built-in utilities, the
special properties in the enumerated list at the beginning
of Special Built-In Utilities <br>
shall not occur. In every other respect, if command_name is
not the name of a function, the effect of command (with no
options) shall be the same as omitting command.</p>

<p style="margin-top: 1em">On systems supporting the User
Portability Utilities option, the command utility also shall
provide information concerning how a command name is
interpreted by the shell; see -v <br>
and -V.</p>

<p style="margin-top: 1em">OPTIONS <br>
The command utility shall conform to the Base Definitions
volume of IEEE Std 1003.1-2001, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-top: 1em">The following options shall be
supported:</p>

<p style="margin-top: 1em">-p Perform the command search
using a default value for PATH that is guaranteed to find
all of the standard utilities.</p>

<p style="margin-top: 1em">-v (On systems supporting the
User Portability Utilities option.) Write a string to
standard output that indicates the pathname or command that
will be used by the shell, in <br>
the current shell execution environment (see Shell Execution
Environment ), to invoke command_name, but do not invoke
command_name.</p>

<p style="margin-top: 1em">* Utilities, regular built-in
utilities, command_names including a slash character, and
any implementation-defined functions that are found using
the PATH variable (as <br>
described in Command Search and Execution ), shall be
written as absolute pathnames.</p>

<p style="margin-top: 1em">* Shell functions, special
built-in utilities, regular built-in utilities not
associated with a PATH search, and shell reserved words
shall be written as just their <br>
names.</p>

<p style="margin-top: 1em">* An alias shall be written as a
command line that represents its alias definition.</p>

<p style="margin-top: 1em">* Otherwise, no output shall be
written and the exit status shall reflect that the name was
not found.</p>

<p style="margin-top: 1em">-V (On systems supporting the
User Portability Utilities option.) Write a string to
standard output that indicates how the name given in the
command_name operand will be <br>
interpreted by the shell, in the current shell execution
environment (see Shell Execution Environment ), but do not
invoke command_name. Although the format of this string <br>
is unspecified, it shall indicate in which of the following
categories command_name falls and shall include the
information stated:</p>

<p style="margin-top: 1em">* Utilities, regular built-in
utilities, and any implementation-defined functions that are
found using the PATH variable (as described in Command
Search and Execution ), <br>
shall be identified as such and include the absolute
pathname in the string.</p>

<p style="margin-top: 1em">* Other shell functions shall be
identified as functions.</p>

<p style="margin-top: 1em">* Aliases shall be identified as
aliases and their definitions included in the string.</p>

<p style="margin-top: 1em">* Special built-in utilities
shall be identified as special built-in utilities.</p>

<p style="margin-top: 1em">* Regular built-in utilities not
associated with a PATH search shall be identified as regular
built-in utilities. (The term &quot;regular&quot; need not
be used.)</p>

<p style="margin-top: 1em">* Shell reserved words shall be
identified as reserved words.</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operands shall be supported:</p>

<p style="margin-top: 1em">argument <br>
One of the strings treated as an argument to
command_name.</p>

<p style="margin-top: 1em">command_name</p>

<p style="margin-top: 1em">The name of a utility or a
special built-in utility.</p>

<p style="margin-top: 1em">STDIN <br>
Not used.</p>

<p style="margin-top: 1em">INPUT FILES <br>
None.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of command:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of IEEE Std 1003.1-2001,
Section 8.2, Internation&acirc; <br>
alization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE <br>
Determine the locale for the interpretation of sequences of
bytes of text data as characters (for example, single-byte
as opposed to multi-byte characters in arguments).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error and informative messages written to standard
<br>
output.</p>

<p style="margin-top: 1em">NLSPATH <br>
Determine the location of message catalogs for the
processing of LC_MESSAGES .</p>

<p style="margin-top: 1em">PATH Determine the search path
used during the command search described in Command Search
and Execution, except as described under the -p option.</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
When the -v option is specified, standard output shall be
formatted as:</p>

<p style="margin-top: 1em">&quot;%s0, &lt;pathname or
command&gt;</p>

<p style="margin-top: 1em">When the -V option is specified,
standard output shall be formatted as:</p>

<p style="margin-top: 1em">&quot;%s0,
&lt;unspecified&gt;</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used only for diagnostic
messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
None.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
When the -v or -V options are specified, the following exit
values shall be returned:</p>

<p style="margin-top: 1em">0 Successful completion.</p>

<p style="margin-top: 1em">&gt;0 The command_name could not
be found or an error occurred.</p>

<p style="margin-top: 1em">Otherwise, the following exit
values shall be returned:</p>

<p style="margin-top: 1em">126 The utility specified by
command_name was found but could not be invoked.</p>

<p style="margin-top: 1em">127 An error occurred in the
command utility or the utility specified by command_name
could not be found.</p>

<p style="margin-top: 1em">Otherwise, the exit status of
command shall be that of the simple command specified by the
arguments to command.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
Default.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
The order for command search allows functions to override
regular built-ins and path searches. This utility is
necessary to allow functions that have the same name as a
utility <br>
to call the utility (instead of a recursive call to the
function).</p>

<p style="margin-top: 1em">The system default path is
available using getconf; however, since getconf may need to
have the PATH set up before it can be called itself, the
following can be used:</p>

<p style="margin-top: 1em">command -p getconf _CS_PATH</p>

<p style="margin-top: 1em">There are some advantages to
suppressing the special characteristics of special built-ins
on occasion. For example:</p>

<p style="margin-top: 1em">command exec &gt;
unwritable-file</p>

<p style="margin-top: 1em">does not cause a non-interactive
script to abort, so that the output status can be checked by
the script.</p>

<p style="margin-top: 1em">The command, env, nohup, time,
and xargs utilities have been specified to use exit code 127
if an error occurs so that applications can distinguish
&quot;failure to find a utility&quot; <br>
from &quot;invoked utility exited with an error
indication&quot;. The value 127 was chosen because it is not
commonly used for other meanings; most utilities use small
values for &quot;normal <br>
error conditions&quot; and the values above 128 can be
confused with termination due to receipt of a signal. The
value 126 was chosen in a similar manner to indicate that
the utility <br>
could be found, but not invoked. Some scripts produce
meaningful error messages differentiating the 126 and 127
cases. The distinction between exit codes 126 and 127 is
based on <br>
KornShell practice that uses 127 when all attempts to exec
the utility fail with [ENOENT], and uses 126 when any
attempt to exec the utility fails for any other reason.</p>

<p style="margin-top: 1em">Since the -v and -V options of
command produce output in relation to the current shell
execution environment, command is generally provided as a
shell regular built-in. If it is <br>
called in a subshell or separate utility execution
environment, such as one of the following:</p>

<p style="margin-top: 1em">(PATH=foo command -v) <br>
nohup command -v</p>

<p style="margin-top: 1em">it does not necessarily produce
correct results. For example, when called with nohup or an
exec function, in a separate utility execution environment,
most implementations are <br>
not able to identify aliases, functions, or special
built-ins.</p>

<p style="margin-top: 1em">Two types of regular built-ins
could be encountered on a system and these are described
separately by command. The description of command search in
Command Search and Execution <br>
allows for a standard utility to be implemented as a regular
built-in as long as it is found in the appropriate place in
a PATH search. So, for example, command -v true might <br>
yield /bin/true or some similar pathname. Other
implementation-defined utilities that are not defined by
this volume of IEEE Std 1003.1-2001 might exist only as
built-ins and <br>
have no pathname associated with them. These produce output
identified as (regular) built-ins. Applications encountering
these are not able to count on execing them, using them <br>
with nohup, overriding them with a different PATH, and so
on.</p>

<p style="margin-top: 1em">EXAMPLES <br>
1. Make a version of cd that always prints out the new
working directory exactly once:</p>

<p style="margin-top: 1em">cd() { <br>
command cd &quot;$@&quot; &gt;/dev/null <br>
pwd <br>
}</p>

<p style="margin-top: 1em">2. Start off a &quot;secure
shell script&quot; in which the script avoids being spoofed
by its parent:</p>

<p style="margin-top: 1em">IFS=&rsquo; <br>
# The preceding value should be
&lt;space&gt;&lt;tab&gt;&lt;newline&gt;. <br>
# Set IFS to its default value.</p>

<p style="margin-top: 1em">nalias -a <br>
# Unset all possible aliases. <br>
# Note that unalias is escaped to prevent an alias <br>
# being used for unalias.</p>

<p style="margin-top: 1em">unset -f command <br>
# Ensure command is not a user function.</p>

<p style="margin-top: 1em">PATH=&quot;$(command -p getconf
_CS_PATH):$PATH&quot; <br>
# Put on a reliable PATH prefix.</p>

<p style="margin-top: 1em"># ...</p>

<p style="margin-top: 1em">At this point, given correct
permissions on the directories called by PATH, the script
has the ability to ensure that any utility it calls is the
intended one. It is being very <br>
cautious because it assumes that implementation extensions
may be present that would allow user functions to exist when
it is invoked; this capability is not specified by this <br>
volume of IEEE Std 1003.1-2001, but it is not prohibited as
an extension. For example, the ENV variable precedes the
invocation of the script with a user start-up script. Such a
<br>
script could define functions to spoof the application.</p>

<p style="margin-top: 1em">RATIONALE <br>
Since command is a regular built-in utility it is always
found prior to the PATH search.</p>

<p style="margin-top: 1em">There is nothing in the
description of command that implies the command line is
parsed any differently from that of any other simple
command. For example:</p>

<p style="margin-top: 1em">command a | b ; c</p>

<p style="margin-top: 1em">is not parsed in any special way
that causes &rsquo;|&rsquo; or &rsquo;;&rsquo; to be treated
other than a pipe operator or semicolon or that prevents
function lookup on b or c.</p>

<p style="margin-top: 1em">The command utility is somewhat
similar to the Eighth Edition shell builtin command, but
since command also goes to the file system to search for
utilities, the name builtin <br>
would not be intuitive.</p>

<p style="margin-top: 1em">The command utility is most
likely to be provided as a regular built-in. It is not
listed as a special built-in for the following reasons:</p>

<p style="margin-top: 1em">* The removal of exportable
functions made the special precedence of a special built-in
unnecessary.</p>

<p style="margin-top: 1em">* A special built-in has special
properties (see Special Built-In Utilities ) that were
inappropriate for invoking other utilities. For example, two
commands such as:</p>

<p style="margin-top: 1em">date &gt; unwritable-file</p>

<p style="margin-top: 1em">command date &gt;
unwritable-file</p>

<p style="margin-top: 1em">would have entirely different
results; in a non-interactive script, the former would
continue to execute the next command, the latter would
abort. Introducing this semantic dif&acirc; <br>
ference along with suppressing functions was seen to be
non-intuitive.</p>

<p style="margin-top: 1em">The -p option is present because
it is useful to be able to ensure a safe path search that
finds all the standard utilities. This search might not be
identical to the one that <br>
occurs through one of the exec functions (as defined in the
System Interfaces volume of IEEE Std 1003.1-2001) when PATH
is unset. At the very least, this feature is required to
<br>
allow the script to access the correct version of getconf so
that the value of the default path can be accurately
retrieved.</p>

<p style="margin-top: 1em">The command -v and -V options
were added to satisfy requirements from users that are
currently accomplished by three different historical
utilities: type in the System V shell, <br>
whence in the KornShell, and which in the C shell. Since
there is no historical agreement on how and what to
accomplish here, the POSIX command utility was enhanced and
the his&acirc; <br>
torical utilities were left unmodified. The C shell which
merely conducts a path search. The KornShell whence is more
elaborate-in addition to the categories required by POSIX,
<br>
it also reports on tracked aliases, exported aliases, and
undefined functions.</p>

<p style="margin-top: 1em">The output format of -V was left
mostly unspecified because human users are its only
audience. Applications should not be written to care about
this information; they can use the <br>
output of -v to differentiate between various types of
commands, but the additional information that may be emitted
by the more verbose -V is not needed and should not be
arbi&acirc; <br>
trarily constrained in its verbosity or localization for
application parsing reasons.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
Command Search and Execution, Shell Execution Environment,
Special Built-In Utilities, sh, type, the System Interfaces
volume of IEEE Std 1003.1-2001, exec</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2003 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 6,
Copyright (C) 2001-2003 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. In the event
<br>
of any discrepancy between this version and the original
IEEE and The Open Group Standard, the original IEEE and The
Open Group Standard is the referee document. The original
<br>
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p style="margin-top: 1em">IEEE/The Open Group 2003
COMMAND(1P)</p>
<hr>
</body>
</html>
