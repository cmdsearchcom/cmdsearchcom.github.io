<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>COMMAND(1P)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">COMMAND(1P)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">COMMAND(1P)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="PROLOG"><a class="selflink" href="#PROLOG">PROLOG</a></h1>
This manual page is part of the POSIX Programmer's Manual. The Linux
  implementation of this interface may differ (consult the corresponding Linux
  manual page for details of Linux behavior), or the interface may not be
  implemented on Linux.
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
command - execute a simple command
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>command</b> <b>[</b><b>-p</b><b>]</b> <i>command_name</i>
  <b>[</b><i>argument</i> <b>...</b><b>]</b><b></b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b>
<div class="Pp"></div>
<b>command</b> <b>[</b> <b>-v | -V</b> <b>]</b> <i>command_name</i><b></b>
  <b></b>
<div>&#x00A0;</div>
<b></b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>command</i> utility shall cause the shell to treat the arguments as a
  simple command, suppressing the shell function lookup that is described in
  <i>Command Search and Execution</i>, item 1b.
<div class="Pp"></div>
If the <i>command_name</i> is the same as the name of one of the special
  built-in utilities, the special properties in the enumerated list at the
  beginning of <i>Special Built-In Utilities</i> shall not occur. In every other
  respect, if <i>command_name</i> is not the name of a function, the effect of
  <i>command</i> (with no options) shall be the same as omitting <i>command</i>.
<div class="Pp"></div>
On systems supporting the User Portability Utilities option, the <i>command</i>
  utility also shall provide information concerning how a command name is
  interpreted by the shell; see <b>-v</b> and <b>-V</b>.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <i>command</i> utility shall conform to the Base Definitions volume of
  IEEE&#x00A0;Std&#x00A0;1003.1-2001, Section 12.2, Utility Syntax Guidelines.
<div class="Pp"></div>
The following options shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">Perform the command search using a default value for
      <i>PATH</i> that is guaranteed to find all of the standard utilities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">(On systems supporting the User Portability Utilities
      option.) Write a string to standard output that indicates the pathname or
      command that will be used by the shell, in the current shell execution
      environment (see <i>Shell Execution Environment</i> ), to invoke
      <i>command_name</i>, but do not invoke <i>command_name</i>.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Utilities, regular built-in utilities, <i>command_name</i>s
      including a slash character, and any implementation-defined functions that
      are found using the <i>PATH</i> variable (as described in <i>Command</i>
      <i>Search and Execution</i> ), shall be written as absolute
    pathnames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Shell functions, special built-in utilities, regular
      built-in utilities not associated with a <i>PATH</i> search, and shell
      reserved words shall be written as just their names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">An alias shall be written as a command line that represents
      its alias definition.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Otherwise, no output shall be written and the exit status
      shall reflect that the name was not found.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">(On systems supporting the User Portability Utilities
      option.) Write a string to standard output that indicates how the name
      given in the <i>command_name</i> operand will be interpreted by the shell,
      in the current shell execution environment (see <i>Shell Execution</i>
      <i>Environment</i> ), but do not invoke <i>command_name</i>. Although the
      format of this string is unspecified, it shall indicate in which of the
      following categories <i>command_name</i> falls and shall include the
      information stated:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Utilities, regular built-in utilities, and any
      implementation-defined functions that are found using the <i>PATH</i>
      variable (as described in <i>Command Search and Execution</i> ), shall be
      identified as such and include the absolute pathname in the string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Other shell functions shall be identified as
    functions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Aliases shall be identified as aliases and their
      definitions included in the string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Special built-in utilities shall be identified as special
      built-in utilities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Regular built-in utilities not associated with a
      <i>PATH</i> search shall be identified as regular built-in utilities. (The
      term &quot;regular&quot; need not be used.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Shell reserved words shall be identified as reserved
    words.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
The following operands shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><i>argument</i></dt>
  <dd class="It-tag">One of the strings treated as an argument to
      <i>command_name</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>command_name</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    The name of a utility or a special built-in utility.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="STDIN"><a class="selflink" href="#STDIN">STDIN</a></h1>
Not used.
<h1 class="Sh" title="Sh" id="INPUT_FILES"><a class="selflink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The following environment variables shall affect the execution of
  <i>command</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><i>LANG</i></dt>
  <dd class="It-tag">Provide a default value for the internationalization
      variables that are unset or null. (See the Base Definitions volume of
      IEEE&#x00A0;Std&#x00A0;1003.1-2001, Section 8.2, Internationalization
      Variables for the precedence of internationalization variables used to
      determine the values of locale categories.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_ALL</i></dt>
  <dd class="It-tag">If set to a non-empty string value, override the values of
      all the other internationalization variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_CTYPE</i></dt>
  <dd class="It-tag">Determine the locale for the interpretation of sequences of
      bytes of text data as characters (for example, single-byte as opposed to
      multi-byte characters in arguments).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_MESSAGES</i></dt>
  <dd class="It-tag">Determine the locale that should be used to affect the
      format and contents of diagnostic messages written to standard error and
      informative messages written to standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>NLSPATH</i></dt>
  <dd class="It-tag">Determine the location of message catalogs for the
      processing of <i>LC_MESSAGES</i> <i>.</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>PATH</i></dt>
  <dd class="It-tag">Determine the search path used during the command search
      described in <i>Command</i> <i>Search and Execution</i>, except as
      described under the <b>-p</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ASYNCHRONOUS_EVENTS"><a class="selflink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
Default.
<h1 class="Sh" title="Sh" id="STDOUT"><a class="selflink" href="#STDOUT">STDOUT</a></h1>
When the <b>-v</b> option is specified, standard output shall be formatted as:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>&quot;%s\n&quot;, &lt;</b><i>pathname or command</i><b>&gt;</b>
<b></b>
</pre>
</div>
<div class="Pp"></div>
When the <b>-V</b> option is specified, standard output shall be formatted as:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>&quot;%s\n&quot;, &lt;</b><i>unspecified</i><b>&gt;</b>
<b></b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="STDERR"><a class="selflink" href="#STDERR">STDERR</a></h1>
The standard error shall be used only for diagnostic messages.
<h1 class="Sh" title="Sh" id="OUTPUT_FILES"><a class="selflink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXTENDED_DESCRIPTION"><a class="selflink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
When the <b>-v</b> or <b>-V</b> options are specified, the following exit values
  shall be returned:
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;0</dt>
  <dd class="It-tag">Successful completion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&gt;0</dt>
  <dd class="It-tag">The <i>command_name</i> could not be found or an error
      occurred.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Otherwise, the following exit values shall be returned:
<dl class="Bl-tag">
  <dt class="It-tag">126</dt>
  <dd class="It-tag">The utility specified by <i>command_name</i> was found but
      could not be invoked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">127</dt>
  <dd class="It-tag">An error occurred in the <i>command</i> utility or the
      utility specified by <i>command_name</i> could not be found.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Otherwise, the exit status of <i>command</i> shall be that of the simple command
  specified by the arguments to <i>command</i>.
<h1 class="Sh" title="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="selflink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
Default.
<div class="Pp"></div>
<i>The following sections are informative.</i>
<h1 class="Sh" title="Sh" id="APPLICATION_USAGE"><a class="selflink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
The order for command search allows functions to override regular built-ins and
  path searches. This utility is necessary to allow functions that have the same
  name as a utility to call the utility (instead of a recursive call to the
  function).
<div class="Pp"></div>
The system default path is available using <i>getconf</i>; however, since
  <i>getconf</i> may need to have the <i>PATH</i> set up before it can be called
  itself, the following can be used:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>command -p getconf _CS_PATH</b>
<b></b>
</pre>
</div>
<div class="Pp"></div>
There are some advantages to suppressing the special characteristics of special
  built-ins on occasion. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>command exec &gt;</b> <i>unwritable-file</i>
</pre>
</div>
<div class="Pp"></div>
does not cause a non-interactive script to abort, so that the output status can
  be checked by the script.
<div class="Pp"></div>
The <i>command</i>, <i>env</i>, <i>nohup</i>, <i>time</i>, and <i>xargs</i>
  utilities have been specified to use exit code 127 if an error occurs so that
  applications can distinguish &quot;failure to find a utility&quot; from
  &quot;invoked utility exited with an error indication&quot;. The value 127 was
  chosen because it is not commonly used for other meanings; most utilities use
  small values for &quot;normal error conditions&quot; and the values above 128
  can be confused with termination due to receipt of a signal. The value 126 was
  chosen in a similar manner to indicate that the utility could be found, but
  not invoked. Some scripts produce meaningful error messages differentiating
  the 126 and 127 cases. The distinction between exit codes 126 and 127 is based
  on KornShell practice that uses 127 when all attempts to <i>exec</i> the
  utility fail with [ENOENT], and uses 126 when any attempt to <i>exec</i> the
  utility fails for any other reason.
<div class="Pp"></div>
Since the <b>-v</b> and <b>-V</b> options of <i>command</i> produce output in
  relation to the current shell execution environment, <i>command</i> is
  generally provided as a shell regular built-in. If it is called in a subshell
  or separate utility execution environment, such as one of the following:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>(PATH=foo command -v)</b>
<b> nohup command -v</b>
<b></b>
</pre>
</div>
<div class="Pp"></div>
it does not necessarily produce correct results. For example, when called with
  <i>nohup</i> or an <i>exec</i> function, in a separate utility execution
  environment, most implementations are not able to identify aliases, functions,
  or special built-ins.
<div class="Pp"></div>
Two types of regular built-ins could be encountered on a system and these are
  described separately by <i>command</i>. The description of command search in
  <i>Command Search and Execution</i> allows for a standard utility to be
  implemented as a regular built-in as long as it is found in the appropriate
  place in a <i>PATH</i> search. So, for example, <i>command</i> <b>-v</b>
  <i>true</i> might yield <b>/bin/true</b> or some similar pathname. Other
  implementation-defined utilities that are not defined by this volume of
  IEEE&#x00A0;Std&#x00A0;1003.1-2001 might exist only as built-ins and have no
  pathname associated with them. These produce output identified as (regular)
  built-ins. Applications encountering these are not able to count on
  <i>exec</i>ing them, using them with <i>nohup</i>, overriding them with a
  different <i>PATH</i>, and so on.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Make a version of <i>cd</i> that always prints out the new
      working directory exactly once:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>cd() {</b>
<b>    command cd &quot;$@&quot; &gt;/dev/null</b>
<b>    pwd</b>
<b>}</b>
<b></b>
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">Start off a &quot;secure shell script&quot; in which the
      script avoids being spoofed by its parent:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>IFS='</b>
<b>#    The preceding value should be &lt;space&gt;&lt;tab&gt;&lt;newline&gt;.</b>
<b>#    Set IFS to its default value.</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
\unalias -a
#    Unset all possible aliases.
#    Note that unalias is escaped to prevent an alias
#    being used for unalias.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
unset -f command
#    Ensure command is not a user function.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
PATH=&quot;$(command -p getconf _CS_PATH):$PATH&quot;
#    Put on a reliable PATH prefix.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
#    ...
<b></b>
</pre>
</div>
<div class="Pp"></div>
At this point, given correct permissions on the directories called by
  <i>PATH</i>, the script has the ability to ensure that any utility it calls is
  the intended one. It is being very cautious because it assumes that
  implementation extensions may be present that would allow user functions to
  exist when it is invoked; this capability is not specified by this volume of
  IEEE&#x00A0;Std&#x00A0;1003.1-2001, but it is not prohibited as an extension.
  For example, the <i>ENV</i> variable precedes the invocation of the script
  with a user start-up script. Such a script could define functions to spoof the
  application.
<h1 class="Sh" title="Sh" id="RATIONALE"><a class="selflink" href="#RATIONALE">RATIONALE</a></h1>
Since <i>command</i> is a regular built-in utility it is always found prior to
  the <i>PATH</i> search.
<div class="Pp"></div>
There is nothing in the description of <i>command</i> that implies the command
  line is parsed any differently from that of any other simple command. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>command a | b ; c</b>
<b></b>
</pre>
</div>
<div class="Pp"></div>
is not parsed in any special way that causes <b>'|'</b> or <b>';'</b> to be
  treated other than a pipe operator or semicolon or that prevents function
  lookup on <b>b</b> or <b>c</b>.
<div class="Pp"></div>
The <i>command</i> utility is somewhat similar to the Eighth Edition shell
  <i>builtin</i> command, but since <i>command</i> also goes to the file system
  to search for utilities, the name <i>builtin</i> would not be intuitive.
<div class="Pp"></div>
The <i>command</i> utility is most likely to be provided as a regular built-in.
  It is not listed as a special built-in for the following reasons:
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The removal of exportable functions made the special
      precedence of a special built-in unnecessary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">A special built-in has special properties (see <i>Special
      Built-In</i> <i>Utilities</i> ) that were inappropriate for invoking other
      utilities. For example, two commands such as:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<b>date &gt;</b> <i>unwritable-file</i><b></b>
<div>&#x00A0;</div>
<div class="Pp"></div>
command date &gt; <b> </b><i>unwritable-file</i><b></b>
</pre>
</div>
<div class="Pp"></div>
would have entirely different results; in a non-interactive script, the former
  would continue to execute the next command, the latter would abort.
  Introducing this semantic difference along with suppressing functions was seen
  to be non-intuitive.
<div class="Pp"></div>
The <b>-p</b> option is present because it is useful to be able to ensure a safe
  path search that finds all the standard utilities. This search might not be
  identical to the one that occurs through one of the <i>exec</i> functions (as
  defined in the System Interfaces volume of IEEE&#x00A0;Std&#x00A0;1003.1-2001)
  when <i>PATH</i> is unset. At the very least, this feature is required to
  allow the script to access the correct version of <i>getconf</i> so that the
  value of the default path can be accurately retrieved.
<div class="Pp"></div>
The <i>command</i> <b>-v</b> and <b>-V</b> options were added to satisfy
  requirements from users that are currently accomplished by three different
  historical utilities: <i>type</i> in the System V shell, <i>whence</i> in the
  KornShell, and <i>which</i> in the C shell. Since there is no historical
  agreement on how and what to accomplish here, the POSIX <i>command</i> utility
  was enhanced and the historical utilities were left unmodified. The C shell
  <i>which</i> merely conducts a path search. The KornShell <i>whence</i> is
  more elaborate-in addition to the categories required by POSIX, it also
  reports on tracked aliases, exported aliases, and undefined functions.
<div class="Pp"></div>
The output format of <b>-V</b> was left mostly unspecified because human users
  are its only audience. Applications should not be written to care about this
  information; they can use the output of <b>-v</b> to differentiate between
  various types of commands, but the additional information that may be emitted
  by the more verbose <b>-V</b> is not needed and should not be arbitrarily
  constrained in its verbosity or localization for application parsing reasons.
<h1 class="Sh" title="Sh" id="FUTURE_DIRECTIONS"><a class="selflink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
None.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>Command Search and Execution</i>, <i>Shell</i> <i>Execution Environment</i>,
  <i>Special Built-In Utilities</i>, <i>sh</i>, <i>type</i>, the System
  Interfaces volume of IEEE&#x00A0;Std&#x00A0;1003.1-2001, <i>exec</i>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Portions of this text are reprinted and reproduced in electronic form from IEEE
  Std 1003.1, 2003 Edition, Standard for Information Technology -- Portable
  Operating System Interface (POSIX), The Open Group Base Specifications Issue
  6, Copyright (C) 2001-2003 by the Institute of Electrical and Electronics
  Engineers, Inc and The Open Group. In the event of any discrepancy between
  this version and the original IEEE and The Open Group Standard, the original
  IEEE and The Open Group Standard is the referee document. The original
  Standard can be obtained online at http://www.opengroup.org/unix/online.html
  .</div>
<table class="foot">
  <tr>
    <td class="foot-date">2003</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</table>
</body>
</html>
