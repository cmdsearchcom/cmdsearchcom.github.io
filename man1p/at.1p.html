<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:45:05 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>AT(1P) POSIX Programmer&rsquo;s Manual AT(1P)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
at - execute commands at a later time</p>

<p style="margin-top: 1em">SYNOPSIS <br>
at [-m][-f file][-q queuename] -t time_arg</p>

<p style="margin-top: 1em">at [-m][-f file][-q queuename]
timespec ...</p>

<p style="margin-top: 1em">at -r at_job_id ...</p>

<p style="margin-top: 1em">at -l -q queuename</p>

<p style="margin-top: 1em">at -l [at_job_id ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The at utility shall read commands from standard input and
group them together as an at-job, to be executed at a later
time.</p>

<p style="margin-top: 1em">The at-job shall be executed in
a separate invocation of the shell, running in a separate
process group with no controlling terminal, except that the
environment variables, cur&acirc; <br>
rent working directory, file creation mask, and other
implementation-defined execution-time attributes in effect
when the at utility is executed shall be retained and used
when <br>
the at-job is executed.</p>

<p style="margin-top: 1em">When the at-job is submitted,
the at_job_id and scheduled time shall be written to
standard error. The at_job_id is an identifier that shall be
a string consisting solely of <br>
alphanumeric characters and the period character. The
at_job_id shall be assigned by the system when the job is
scheduled such that it uniquely identifies a particular
job.</p>

<p style="margin-top: 1em">User notification and the
processing of the job&rsquo;s standard output and standard
error are described under the -m option.</p>

<p style="margin-top: 1em">Users shall be permitted to use
at if their name appears in the file /usr/lib/cron/at.allow.
If that file does not exist, the file /usr/lib/cron/at.deny
shall be checked to <br>
determine whether the user shall be denied access to at. If
neither file exists, only a process with the appropriate
privileges shall be allowed to submit a job. If only at.deny
<br>
exists and is empty, global usage shall be permitted. The
at.allow and at.deny files shall consist of one user name
per line.</p>

<p style="margin-top: 1em">OPTIONS <br>
The at utility shall conform to the Base Definitions volume
of IEEE Std 1003.1-2001, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-top: 1em">The following options shall be
supported:</p>

<p style="margin-top: 1em">-f file <br>
Specify the pathname of a file to be used as the source of
the at-job, instead of standard input.</p>

<p style="margin-top: 1em">-l (The letter ell.) Report all
jobs scheduled for the invoking user if no at_job_id
operands are specified. If at_job_ids are specified, report
only information for these <br>
jobs. The output shall be written to standard output.</p>

<p style="margin-top: 1em">-m Send mail to the invoking
user after the at-job has run, announcing its completion.
Standard output and standard error produced by the at-job
shall be mailed to the user <br>
as well, unless redirected elsewhere. Mail shall be sent
even if the job produces no output.</p>

<p style="margin-top: 1em">If -m is not used, the
job&rsquo;s standard output and standard error shall be
provided to the user by means of mail, unless they are
redirected elsewhere; if there is no such output <br>
to provide, the implementation need not notify the user of
the job&rsquo;s completion.</p>

<p style="margin-top: 1em">-q queuename</p>

<p style="margin-top: 1em">Specify in which queue to
schedule a job for submission. When used with the -l option,
limit the search to that particular queue. By default,
at-jobs shall be scheduled in <br>
queue a. In contrast, queue b shall be reserved for batch
jobs; see batch. The meanings of all other queuenames are
implementation-defined. If -q is specified along with <br>
either of the -t time_arg or timespec arguments, the results
are unspecified.</p>

<p style="margin-top: 1em">-r Remove the jobs with the
specified at_job_id operands that were previously scheduled
by the at utility.</p>

<p style="margin-top: 1em">-t time_arg <br>
Submit the job to be run at the time specified by the time
option-argument, which the application shall ensure has the
format as specified by the touch -t time utility.</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operands shall be supported:</p>

<p style="margin-top: 1em">at_job_id <br>
The name reported by a previous invocation of the at utility
at the time the job was scheduled.</p>

<p style="margin-top: 1em">timespec <br>
Submit the job to be run at the date and time specified. All
of the timespec operands are interpreted as if they were
separated by &lt;space&gt;s and concatenated, and shall be
<br>
parsed as described in the grammar at the end of this
section. The date and time shall be interpreted as being in
the timezone of the user (as determined by the TZ
vari&acirc; <br>
able), unless a timezone name appears as part of time,
below.</p>

<p style="margin-top: 1em">In the POSIX locale, the
following describes the three parts of the time
specification string. All of the values from the LC_TIME
categories in the POSIX locale shall be recog&acirc; <br>
nized in a case-insensitive manner.</p>

<p style="margin-top: 1em">time <br>
The time can be specified as one, two, or four digits.
One-digit and two-digit numbers shall be taken to be hours;
four-digit numbers to be hours and minutes. The time can
<br>
alternatively be specified as two numbers separated by a
colon, meaning hour:minute. An AM/PM indication (one of the
values from the am_pm keywords in the LC_TIME locale <br>
category) can follow the time; otherwise, a 24-hour clock
time shall be understood. A timezone name can also follow to
further qualify the time. The acceptable timezone <br>
names are implementation-defined, except that they shall be
case-insensitive and the string utc is supported to indicate
the time is in Coordinated Universal Time. In the <br>
POSIX locale, the time field can also be one of the
following tokens:</p>

<p style="margin-top: 1em">midnight <br>
Indicates the time 12:00 am (00:00).</p>

<p style="margin-top: 1em">noon <br>
Indicates the time 12:00 pm.</p>

<p style="margin-top: 1em">now <br>
Indicates the current day and time. Invoking at &lt;now&gt;
shall submit an at-job for potentially immediate execution
(that is, subject only to unspecified scheduling <br>
delays).</p>

<p style="margin-top: 1em">date <br>
An optional date can be specified as either a month name
(one of the values from the mon or abmon keywords in the
LC_TIME locale category) followed by a day number (and <br>
possibly year number preceded by a comma), or a day of the
week (one of the values from the day or abday keywords in
the LC_TIME locale category). In the POSIX locale, two <br>
special days shall be recognized:</p>

<p style="margin-top: 1em">today <br>
Indicates the current day.</p>

<p style="margin-top: 1em">tomorrow <br>
Indicates the day following the current day.</p>

<p style="margin-top: 1em">If no date is given, today shall
be assumed if the given time is greater than the current
time, and tomorrow shall be assumed if it is less. If the
given month is less <br>
than the current month (and no year is given), next year
shall be assumed.</p>

<p style="margin-top: 1em">increment <br>
The optional increment shall be a number preceded by a plus
sign ( &rsquo;+&rsquo; ) and suffixed by one of the
following: minutes, hours, days, weeks, months, or years.
(The singular <br>
forms shall also be accepted.) The keyword next shall be
equivalent to an increment number of +1. For example, the
following are equivalent commands:</p>

<p style="margin-top: 1em">at 2pm + 1 week <br>
at 2pm next week</p>

<p style="margin-top: 1em">The following grammar describes
the precise format of timespec in the POSIX locale. The
general conventions for this style of grammar are described
in Grammar Conventions . This <br>
formal syntax shall take precedence over the preceding text
syntax description. The longest possible token or delimiter
shall be recognized at a given point. When used in a
time&acirc; <br>
spec, white space shall also delimit tokens.</p>

<p style="margin-top: 1em">%token hr24clock_hr_min <br>
%token hr24clock_hour <br>
/* <br>
An hr24clock_hr_min is a one, two, or four-digit number. A
one-digit <br>
or two-digit number constitutes an hr24clock_hour. An
hr24clock_hour <br>
may be any of the single digits [0,9], or may be double
digits, ranging <br>
from [00,23]. If an hr24clock_hr_min is a four-digit number,
the <br>
first two digits shall be a valid hr24clock_hour, while the
last two <br>
represent the number of minutes, from [00,59]. <br>
*/</p>

<p style="margin-top: 1em">%token wallclock_hr_min <br>
%token wallclock_hour <br>
/* <br>
A wallclock_hr_min is a one, two-digit, or four-digit
number. <br>
A one-digit or two-digit number constitutes a
wallclock_hour. <br>
A wallclock_hour may be any of the single digits [1,9], or
may <br>
be double digits, ranging from [01,12]. If a
wallclock_hr_min <br>
is a four-digit number, the first two digits shall be a
valid <br>
wallclock_hour, while the last two represent the number of
<br>
minutes, from [00,59]. <br>
*/</p>

<p style="margin-top: 1em">%token minute <br>
/* <br>
A minute is a one or two-digit number whose value can be
[0,9] <br>
or [00,59]. <br>
*/</p>

<p style="margin-top: 1em">%token day_number <br>
/* <br>
A day_number is a number in the range appropriate for the
particular <br>
month and year specified by month_name and year_number,
respectively. <br>
If no year_number is given, the current year is assumed if
the given <br>
date and time are later this year. If no year_number is
given and <br>
the date and time have already occurred this year and the
month is <br>
not the current month, next year is the assumed year. <br>
*/</p>

<p style="margin-top: 1em">%token year_number <br>
/* <br>
A year_number is a four-digit number representing the year
A.D., in <br>
which the at_job is to be run. <br>
*/</p>

<p style="margin-top: 1em">%token inc_number <br>
/* <br>
The inc_number is the number of times the succeeding
increment <br>
period is to be added to the specified date and time. <br>
*/</p>

<p style="margin-top: 1em">%token timezone_name <br>
/* <br>
The name of an optional timezone suffix to the time field,
in an <br>
implementation-defined format. <br>
*/</p>

<p style="margin-top: 1em">%token month_name <br>
/* <br>
One of the values from the mon or abmon keywords in the
LC_TIME <br>
locale category. <br>
*/</p>

<p style="margin-top: 1em">%token day_of_week <br>
/* <br>
One of the values from the day or abday keywords in the
LC_TIME <br>
locale category. <br>
*/</p>

<p style="margin-top: 1em">%token am_pm <br>
/* <br>
One of the values from the am_pm keyword in the LC_TIME
locale <br>
category. <br>
*/</p>

<p style="margin-top: 1em">%start timespec <br>
%% <br>
timespec : time <br>
| time date <br>
| time increment <br>
| time date increment <br>
| nowspec <br>
;</p>

<p style="margin-top: 1em">nowspec : &quot;now&quot; <br>
| &quot;now&quot; increment <br>
;</p>

<p style="margin-top: 1em">time : hr24clock_hr_min <br>
| hr24clock_hr_min timezone_name <br>
| hr24clock_hour &quot;:&quot; minute <br>
| hr24clock_hour &quot;:&quot; minute timezone_name <br>
| wallclock_hr_min am_pm <br>
| wallclock_hr_min am_pm timezone_name <br>
| wallclock_hour &quot;:&quot; minute am_pm <br>
| wallclock_hour &quot;:&quot; minute am_pm timezone_name
<br>
| &quot;noon&quot; <br>
| &quot;midnight&quot; <br>
;</p>

<p style="margin-top: 1em">date : month_name day_number
<br>
| month_name day_number &quot;,&quot; year_number <br>
| day_of_week <br>
| &quot;today&quot; <br>
| &quot;tomorrow&quot; <br>
;</p>

<p style="margin-top: 1em">increment : &quot;+&quot;
inc_number inc_period <br>
| &quot;next&quot; inc_period <br>
;</p>

<p style="margin-top: 1em">inc_period : &quot;minute&quot;
| &quot;minutes&quot; <br>
| &quot;hour&quot; | &quot;hours&quot; <br>
| &quot;day&quot; | &quot;days&quot; <br>
| &quot;week&quot; | &quot;weeks&quot; <br>
| &quot;month&quot; | &quot;months&quot; <br>
| &quot;year&quot; | &quot;years&quot; <br>
;</p>

<p style="margin-top: 1em">STDIN <br>
The standard input shall be a text file consisting of
commands acceptable to the shell command language described
in Shell Command Language . The standard input shall only be
<br>
used if no -f file option is specified.</p>

<p style="margin-top: 1em">INPUT FILES <br>
See the STDIN section.</p>

<p style="margin-top: 1em">The text files
/usr/lib/cron/at.allow and /usr/lib/cron/at.deny shall
contain zero or more user names, one per line, of users who
are, respectively, authorized or denied access <br>
to the at and batch utilities.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of at:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of IEEE Std 1003.1-2001,
Section 8.2, Internation&acirc; <br>
alization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE <br>
Determine the locale for the interpretation of sequences of
bytes of text data as characters (for example, single-byte
as opposed to multi-byte characters in arguments and <br>
input files).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error and informative messages written to standard
<br>
output.</p>

<p style="margin-top: 1em">NLSPATH <br>
Determine the location of message catalogs for the
processing of LC_MESSAGES .</p>

<p style="margin-top: 1em">LC_TIME <br>
Determine the format and contents for date and time strings
written and accepted by at.</p>

<p style="margin-top: 1em">SHELL Determine a name of a
command interpreter to be used to invoke the at-job. If the
variable is unset or null, sh shall be used. If it is set to
a value other than a name <br>
for sh, the implementation shall do one of the following:
use that shell; use sh; use the login shell from the user
database; or any of the preceding accompanied by a <br>
warning diagnostic about which was chosen.</p>

<p style="margin-top: 1em">TZ Determine the timezone. The
job shall be submitted for execution at the time specified
by timespec or -t time relative to the timezone specified by
the TZ variable. If <br>
timespec specifies a timezone, it shall override TZ. If
timespec does not specify a timezone and TZ is unset or
null, an unspecified default timezone shall be used.</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
When standard input is a terminal, prompts of unspecified
format for each line of the user input described in the
STDIN section may be written to standard output.</p>

<p style="margin-top: 1em">In the POSIX locale, the
following shall be written to the standard output for each
job when jobs are listed in response to the -l option:</p>

<p style="margin-top: 1em">&quot;%s%s0, at_job_id,
&lt;date&gt;</p>

<p style="margin-top: 1em">where date shall be equivalent
in format to the output of:</p>

<p style="margin-top: 1em">date +&quot;%a %b %e %T
%Y&quot;</p>

<p style="margin-top: 1em">The date and time written shall
be adjusted so that they appear in the timezone of the user
(as determined by the TZ variable).</p>

<p style="margin-top: 1em">STDERR <br>
In the POSIX locale, the following shall be written to
standard error when a job has been successfully
submitted:</p>

<p style="margin-top: 1em">&quot;job %s at %s0, at_job_id,
&lt;date&gt;</p>

<p style="margin-top: 1em">where date has the same format
as that described in the STDOUT section. Neither this, nor
warning messages concerning the selection of the command
interpreter, shall be consid&acirc; <br>
ered a diagnostic that changes the exit status.</p>

<p style="margin-top: 1em">Diagnostic messages, if any,
shall be written to standard error.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
None.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 The at utility successfully
submitted, removed, or listed a job or jobs.</p>

<p style="margin-top: 1em">&gt;0 An error occurred.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
The job shall not be scheduled, removed, or listed.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
The format of the at command line shown here is guaranteed
only for the POSIX locale. Other cultures may be supported
with substantially different interfaces, although
implemen&acirc; <br>
tations are encouraged to provide comparable levels of
functionality.</p>

<p style="margin-top: 1em">Since the commands run in a
separate shell invocation, running in a separate process
group with no controlling terminal, open file descriptors,
traps, and priority inherited from <br>
the invoking environment are lost.</p>

<p style="margin-top: 1em">Some implementations do not
allow substitution of different shells using SHELL. System V
systems, for example, have used the login shell value for
the user in /etc/passwd. To <br>
select reliably another command interpreter, the user must
include it as part of the script, such as:</p>

<p style="margin-top: 1em">$ at 1800 <br>
myshell myscript <br>
EOT <br>
job ... at ... <br>
$</p>

<p style="margin-top: 1em">EXAMPLES <br>
1. This sequence can be used at a terminal:</p>

<p style="margin-top: 1em">at -m 0730 tomorrow <br>
sort &lt; file &gt;outfile <br>
EOT</p>

<p style="margin-top: 1em">2. This sequence, which
demonstrates redirecting standard error to a pipe, is useful
in a command procedure (the sequence of output redirection
specifications is significant):</p>

<p style="margin-top: 1em">at now + 1 hour &lt;&lt;! <br>
diff file1 file2 2&gt;&amp;1 &gt;outfile | mailx mygroup
<br>
!</p>

<p style="margin-top: 1em">3. To have a job reschedule
itself, at can be invoked from within the at-job. For
example, this daily processing script named my.daily runs
every day (although crontab is a more <br>
appropriate vehicle for such work):</p>

<p style="margin-top: 1em"># my.daily runs every day <br>
daily processingat now tomorrow &lt; my.daily</p>

<p style="margin-top: 1em">4. The spacing of the three
portions of the POSIX locale timespec is quite flexible as
long as there are no ambiguities. Examples of various times
and operand presentation <br>
include:</p>

<p style="margin-top: 1em">at 0815am Jan 24 <br>
at 8 :15amjan24 <br>
at now &quot;+ 1day&quot; <br>
at 5 pm FRIday <br>
at &rsquo;17 <br>
utc+ <br>
30minutes&rsquo;</p>

<p style="margin-top: 1em">RATIONALE <br>
The at utility reads from standard input the commands to be
executed at a later time. It may be useful to redirect
standard output and standard error within the specified
com&acirc; <br>
mands.</p>

<p style="margin-top: 1em">The -t time option was added as
a new capability to support an internationalized way of
specifying a time for execution of the submitted job.</p>

<p style="margin-top: 1em">Early proposals added a
&quot;jobname&quot; concept as a way of giving submitted
jobs names that are meaningful to the user submitting them.
The historical, system-specified at_job_id <br>
gives no indication of what the job is. Upon further
reflection, it was decided that the benefit of this was not
worth the change in historical interface. The at
functionality is <br>
useful in simple environments, but in large or complex
situations, the functionality provided by the Batch Services
option is more suitable.</p>

<p style="margin-top: 1em">The -q option historically has
been an undocumented option, used mainly by the batch
utility.</p>

<p style="margin-top: 1em">The System V -m option was added
to provide a method for informing users that an at-job had
completed. Otherwise, users are only informed when output to
standard error or stan&acirc; <br>
dard output are not redirected.</p>

<p style="margin-top: 1em">The behavior of at &lt;now&gt;
was changed in an early proposal from being unspecified to
submitting a job for potentially immediate execution.
Historical BSD at implementations sup&acirc; <br>
port this. Historical System V implementations give an error
in that case, but a change to the System V versions should
have no backwards-compatibility ramifications.</p>

<p style="margin-top: 1em">On BSD-based systems, a -u user
option has allowed those with appropriate privileges to
access the work of other users. Since this is primarily a
system administration feature <br>
and is not universally implemented, it has been omitted.
Similarly, a specification for the output format for a user
with appropriate privileges viewing the queues of other
users <br>
has been omitted.</p>

<p style="margin-top: 1em">The -f file option from System V
is used instead of the BSD method of using the last operand
as the pathname. The BSD method is ambiguous-does:</p>

<p style="margin-top: 1em">at 1200 friday</p>

<p style="margin-top: 1em">mean the same thing if there is
a file named friday in the current directory?</p>

<p style="margin-top: 1em">The at_job_id is composed of a
limited character set in historical practice, and it is
mandated here to invalidate systems that might try using
characters that require shell <br>
quoting or that could not be easily parsed by shell
scripts.</p>

<p style="margin-top: 1em">The at utility varies between
System V and BSD systems in the way timezones are used. On
System V systems, the TZ variable affects the at-job
submission times and the times dis&acirc; <br>
played for the user. On BSD systems, TZ is not taken into
account. The BSD behavior is easily achieved with the
current specification. If the user wishes to have the
timezone <br>
default to that of the system, they merely need to issue the
at command immediately following an unsetting or null
assignment to TZ . For example:</p>

<p style="margin-top: 1em">TZ= at noon ...</p>

<p style="margin-top: 1em">gives the desired BSD
result.</p>

<p style="margin-top: 1em">While the yacc-like grammar
specified in the OPERANDS section is lexically unambiguous
with respect to the digit strings, a lexical analyzer would
probably be written to look for <br>
and return digit strings in those cases. The parser could
then check whether the digit string returned is a valid
day_number, year_number, and so on, based on the
context.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
batch, crontab</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2003 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 6,
Copyright (C) 2001-2003 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. In the event
<br>
of any discrepancy between this version and the original
IEEE and The Open Group Standard, the original IEEE and The
Open Group Standard is the referee document. The original
<br>
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p style="margin-top: 1em">IEEE/The Open Group 2003
AT(1P)</p>
<hr>
</body>
</html>
