<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:45:22 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TEST(1P) POSIX Programmer&rsquo;s Manual TEST(1P)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
test - evaluate expression</p>

<p style="margin-top: 1em">SYNOPSIS <br>
test [expression]</p>

<p style="margin-top: 1em">[ [expression] ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The test utility shall evaluate the expression and indicate
the result of the evaluation by its exit status. An exit
status of zero indicates that the expression evaluated as
<br>
true and an exit status of 1 indicates that the expression
evaluated as false.</p>

<p style="margin-top: 1em">In the second form of the
utility, which uses &quot;[]&quot; rather than test, the
application shall ensure that the square brackets are
separate arguments.</p>

<p style="margin-top: 1em">OPTIONS <br>
The test utility shall not recognize the &quot;--&quot;
argument in the manner specified by guideline 10 in the Base
Definitions volume of IEEE Std 1003.1-2001, Section 12.2,
Utility Syn&acirc; <br>
tax Guidelines.</p>

<p style="margin-top: 1em">No options shall be
supported.</p>

<p style="margin-top: 1em">OPERANDS <br>
The application shall ensure that all operators and elements
of primaries are presented as separate arguments to the test
utility.</p>

<p style="margin-top: 1em">The following primaries can be
used to construct expression:</p>

<p style="margin-top: 1em">-b file <br>
True if file exists and is a block special file.</p>

<p style="margin-top: 1em">-c file <br>
True if file exists and is a character special file.</p>

<p style="margin-top: 1em">-d file <br>
True if file exists and is a directory.</p>

<p style="margin-top: 1em">-e file <br>
True if file exists.</p>

<p style="margin-top: 1em">-f file <br>
True if file exists and is a regular file.</p>

<p style="margin-top: 1em">-g file <br>
True if file exists and its set-group-ID flag is set.</p>

<p style="margin-top: 1em">-h file <br>
True if file exists and is a symbolic link.</p>

<p style="margin-top: 1em">-L file <br>
True if file exists and is a symbolic link.</p>

<p style="margin-top: 1em">-n string <br>
True if the length of string is non-zero.</p>

<p style="margin-top: 1em">-p file <br>
True if file is a FIFO.</p>

<p style="margin-top: 1em">-r file <br>
True if file exists and is readable. True shall indicate
that permission to read from file will be granted, as
defined in File Read, Write, and Creation .</p>

<p style="margin-top: 1em">-S file <br>
True if file exists and is a socket.</p>

<p style="margin-top: 1em">-s file <br>
True if file exists and has a size greater than zero.</p>

<p style="margin-top: 1em">-t file_descriptor</p>

<p style="margin-top: 1em">True if the file whose file
descriptor number is file_descriptor is open and is
associated with a terminal.</p>

<p style="margin-top: 1em">-u file <br>
True if file exists and its set-user-ID flag is set.</p>

<p style="margin-top: 1em">-w file <br>
True if file exists and is writable. True shall indicate
that permission to write from file will be granted, as
defined in File Read, Write, and Creation .</p>

<p style="margin-top: 1em">-x file <br>
True if file exists and is executable. True shall indicate
that permission to execute file will be granted, as defined
in File Read, Write, and Creation . If file is a <br>
directory, true shall indicate that permission to search
file will be granted.</p>

<p style="margin-top: 1em">-z string <br>
True if the length of string string is zero.</p>

<p style="margin-top: 1em">string True if the string string
is not the null string.</p>

<p style="margin-top: 1em">s1 = s2 <br>
True if the strings s1 and s2 are identical.</p>

<p style="margin-top: 1em">s1 != s2 <br>
True if the strings s1 and s2 are not identical.</p>

<p style="margin-top: 1em">n1 -eq n2 <br>
True if the integers n1 and n2 are algebraically equal.</p>

<p style="margin-top: 1em">n1 -ne n2 <br>
True if the integers n1 and n2 are not algebraically
equal.</p>

<p style="margin-top: 1em">n1 -gt n2 <br>
True if the integer n1 is algebraically greater than the
integer n2.</p>

<p style="margin-top: 1em">n1 -ge n2 <br>
True if the integer n1 is algebraically greater than or
equal to the integer n2.</p>

<p style="margin-top: 1em">n1 -lt n2 <br>
True if the integer n1 is algebraically less than the
integer n2.</p>

<p style="margin-top: 1em">n1 -le n2 <br>
True if the integer n1 is algebraically less than or equal
to the integer n2.</p>

<p style="margin-top: 1em">expression1 -a expression2</p>

<p style="margin-top: 1em">True if both expression1 and
expression2 are true. The -a binary primary is left
associative. It has a higher precedence than -o.</p>

<p style="margin-top: 1em">expression1 -o expression2</p>

<p style="margin-top: 1em">True if either expression1 or
expression2 is true. The -o binary primary is left
associative.</p>

<p style="margin-top: 1em">With the exception of the -h
file and -L file primaries, if a file argument is a symbolic
link, test shall evaluate the expression by resolving the
symbolic link and using the <br>
file referenced by the link.</p>

<p style="margin-top: 1em">These primaries can be combined
with the following operators:</p>

<p style="margin-top: 1em">! expression <br>
True if expression is false.</p>

<p style="margin-top: 1em">( expression ) <br>
True if expression is true. The parentheses can be used to
alter the normal precedence and associativity.</p>

<p style="margin-top: 1em">The primaries with two elements
of the form:</p>

<p style="margin-top: 1em">-primary_operator
primary_operand</p>

<p style="margin-top: 1em">are known as unary primaries.
The primaries with three elements in either of the two
forms:</p>

<p style="margin-top: 1em">primary_operand
-primary_operator primary_operand</p>

<p style="margin-top: 1em">primary_operand primary_operator
primary_operand</p>

<p style="margin-top: 1em">are known as binary primaries.
Additional implementation-defined operators and
primary_operators may be provided by implementations. They
shall be of the form - operator where <br>
the first character of operator is not a digit.</p>

<p style="margin-top: 1em">The algorithm for determining
the precedence of the operators and the return value that
shall be generated is based on the number of arguments
presented to test. (However, when <br>
using the &quot;[...]&quot; form, the right-bracket final
argument shall not be counted in this algorithm.)</p>

<p style="margin-top: 1em">In the following list, $1, $2,
$3, and $4 represent the arguments presented to test:</p>

<p style="margin-top: 1em">0 arguments: <br>
Exit false (1).</p>

<p style="margin-top: 1em">1 argument: <br>
Exit true (0) if $1 is not null; otherwise, exit false.</p>

<p style="margin-top: 1em">2 arguments:</p>

<p style="margin-top: 1em">* If $1 is &rsquo;!&rsquo;, exit
true if $2 is null, false if $2 is not null.</p>

<p style="margin-top: 1em">* If $1 is a unary primary, exit
true if the unary test is true, false if the unary test is
false.</p>

<p style="margin-top: 1em">* Otherwise, produce unspecified
results.</p>

<p style="margin-top: 1em">3 arguments:</p>

<p style="margin-top: 1em">* If $2 is a binary primary,
perform the binary test of $1 and $3.</p>

<p style="margin-top: 1em">* If $1 is &rsquo;!&rsquo;,
negate the two-argument test of $2 and $3.</p>

<p style="margin-top: 1em">* If $1 is &rsquo;(&rsquo; and
$3 is &rsquo;)&rsquo;, perform the unary test of $2.</p>

<p style="margin-top: 1em">* Otherwise, produce unspecified
results.</p>

<p style="margin-top: 1em">4 arguments:</p>

<p style="margin-top: 1em">* If $1 is &rsquo;!&rsquo;,
negate the three-argument test of $2, $3, and $4.</p>

<p style="margin-top: 1em">* If $1 is &rsquo;(&rsquo; and
$4 is &rsquo;)&rsquo;, perform the two-argument test of $2
and $3.</p>

<p style="margin-top: 1em">* Otherwise, the results are
unspecified.</p>

<p style="margin-top: 1em">&gt;4 arguments: <br>
The results are unspecified.</p>

<p style="margin-top: 1em">On XSI-conformant systems,
combinations of primaries and operators shall be evaluated
using the precedence and associativity rules described
previously. In addition, the string <br>
comparison binary primaries &rsquo;=&rsquo; and
&quot;!=&quot; shall have a higher precedence than any unary
primary.</p>

<p style="margin-top: 1em">STDIN <br>
Not used.</p>

<p style="margin-top: 1em">INPUT FILES <br>
None.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of test:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of IEEE Std 1003.1-2001,
Section 8.2, Internation&acirc; <br>
alization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE <br>
Determine the locale for the interpretation of sequences of
bytes of text data as characters (for example, single-byte
as opposed to multi-byte characters in arguments).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error.</p>

<p style="margin-top: 1em">NLSPATH <br>
Determine the location of message catalogs for the
processing of LC_MESSAGES .</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
Not used.</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used only for diagnostic
messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
None.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 expression evaluated to
true.</p>

<p style="margin-top: 1em">1 expression evaluated to false
or expression was missing.</p>

<p style="margin-top: 1em">&gt;1 An error occurred.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
Default.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
Scripts should be careful when dealing with user-supplied
input that could be confused with primaries and operators.
Unless the application writer knows all the cases that
pro&acirc; <br>
duce input to the script, invocations like:</p>

<p style="margin-top: 1em">test &quot;$1&quot; -a
&quot;$2&quot;</p>

<p style="margin-top: 1em">should be written as:</p>

<p style="margin-top: 1em">test &quot;$1&quot; &amp;&amp;
test &quot;$2&quot;</p>

<p style="margin-top: 1em">to avoid problems if a user
supplied values such as $1 set to &rsquo;!&rsquo; and $2 set
to the null string. That is, in cases where maximal
portability is of concern, replace:</p>

<p style="margin-top: 1em">test expr1 -a expr2</p>

<p style="margin-top: 1em">with:</p>

<p style="margin-top: 1em">test expr1 &amp;&amp; test
expr2</p>

<p style="margin-top: 1em">and replace:</p>

<p style="margin-top: 1em">test expr1 -o expr2</p>

<p style="margin-top: 1em">with:</p>

<p style="margin-top: 1em">test expr1 || test expr2</p>

<p style="margin-top: 1em">but note that, in test, -a has
higher precedence than -o while &quot;&amp;&amp;&quot; and
&quot;||&quot; have equal precedence in the shell.</p>

<p style="margin-top: 1em">Parentheses or braces can be
used in the shell command language to effect grouping.</p>

<p style="margin-top: 1em">Parentheses must be escaped when
using sh; for example:</p>

<p style="margin-top: 1em">test expr1 -a expr2 -o expr3</p>

<p style="margin-top: 1em">This command is not always
portable outside XSI-conformant systems. The following form
can be used instead:</p>

<p style="margin-top: 1em">( test expr1 &amp;&amp; test
expr2 ) || test expr3</p>

<p style="margin-top: 1em">The two commands:</p>

<p style="margin-top: 1em">test &quot;$1&quot; <br>
test ! &quot;$1&quot;</p>

<p style="margin-top: 1em">could not be used reliably on
some historical systems. Unexpected results would occur if
such a string expression were used and $1 expanded to
&rsquo;!&rsquo;, &rsquo;(&rsquo;, or a known unary primary.
<br>
Better constructs are:</p>

<p style="margin-top: 1em">test -n &quot;$1&quot; <br>
test -z &quot;$1&quot; <br>
respectively.</p>

<p style="margin-top: 1em">Historical systems have also
been unreliable given the common construct:</p>

<p style="margin-top: 1em">test &quot;$response&quot; =
&quot;expected string&quot;</p>

<p style="margin-top: 1em">One of the following is a more
reliable form:</p>

<p style="margin-top: 1em">test &quot;X$response&quot; =
&quot;Xexpected string&quot; <br>
test &quot;expected string&quot; = &quot;$response&quot;</p>

<p style="margin-top: 1em">Note that the second form
assumes that expected string could not be confused with any
unary primary. If expected string starts with
&rsquo;-&rsquo;, &rsquo;(&rsquo;, &rsquo;!&rsquo;, or even
&rsquo;=&rsquo;, the first form <br>
should be used instead. Using the preceding rules without
the XSI marked extensions, any of the three comparison forms
is reliable, given any input. (However, note that the <br>
strings are quoted in all cases.)</p>

<p style="margin-top: 1em">Because the string comparison
binary primaries, &rsquo;=&rsquo; and &quot;!=&quot;, have a
higher precedence than any unary primary in the greater than
4 argument case, unexpected results can occur if <br>
arguments are not properly prepared. For example, in:</p>

<p style="margin-top: 1em">test -d $1 -o -d $2</p>

<p style="margin-top: 1em">If $1 evaluates to a possible
directory name of &rsquo;=&rsquo;, the first three arguments
are considered a string comparison, which shall cause a
syntax error when the second -d is encoun&acirc; <br>
tered. One of the following forms prevents this; the second
is preferred:</p>

<p style="margin-top: 1em">test -d &quot;$1&quot; -o -d
&quot;$2&quot; <br>
test -d &quot;$1&quot; || test -d &quot;$2&quot;</p>

<p style="margin-top: 1em">Also in the greater than 4
argument case:</p>

<p style="margin-top: 1em">test &quot;$1&quot; =
&quot;bat&quot; -a &quot;$2&quot; = &quot;ball&quot;</p>

<p style="margin-top: 1em">syntax errors occur if $1
evaluates to &rsquo;(&rsquo; or &rsquo;!&rsquo; . One of the
following forms prevents this; the third is preferred:</p>

<p style="margin-top: 1em">test &quot;X$1&quot; =
&quot;Xbat&quot; -a &quot;X$2&quot; = &quot;Xball&quot; <br>
test &quot;$1&quot; = &quot;bat&quot; &amp;&amp; test
&quot;$2&quot; = &quot;ball&quot; <br>
test &quot;X$1&quot; = &quot;Xbat&quot; &amp;&amp; test
&quot;X$2&quot; = &quot;Xball&quot;</p>

<p style="margin-top: 1em">EXAMPLES <br>
1. Exit if there are not two or three arguments (two
variations):</p>

<p style="margin-top: 1em">if [ $# -ne 2 -a $# -ne 3 ];
then exit 1; fi <br>
if [ $# -lt 2 -o $# -gt 3 ]; then exit 1; fi</p>

<p style="margin-top: 1em">2. Perform a mkdir if a
directory does not exist:</p>

<p style="margin-top: 1em">test ! -d tempdir &amp;&amp;
mkdir tempdir</p>

<p style="margin-top: 1em">3. Wait for a file to become
non-readable:</p>

<p style="margin-top: 1em">while test -r thefile <br>
do <br>
sleep 30 <br>
done <br>
echo &rsquo;&quot;thefile&quot; is no longer
readable&rsquo;</p>

<p style="margin-top: 1em">4. Perform a command if the
argument is one of three strings (two variations):</p>

<p style="margin-top: 1em">if [ &quot;$1&quot; =
&quot;pear&quot; ] || [ &quot;$1&quot; = &quot;grape&quot; ]
|| [ &quot;$1&quot; = &quot;apple&quot; ] <br>
then <br>
command <br>
fi</p>

<p style="margin-top: 1em">case &quot;$1&quot; in <br>
pear|grape|apple) command ;; <br>
esac</p>

<p style="margin-top: 1em">RATIONALE <br>
The KornShell-derived conditional command (double bracket
[[]]) was removed from the shell command language
description in an early proposal. Objections were raised
that the real <br>
problem is misuse of the test command ( [), and putting it
into the shell is the wrong way to fix the problem. Instead,
proper documentation and a new shell reserved word ( !) <br>
are sufficient.</p>

<p style="margin-top: 1em">Tests that require multiple test
operations can be done at the shell level using individual
invocations of the test command and shell logicals, rather
than using the error-prone <br>
-o flag of test.</p>

<p style="margin-top: 1em">XSI-conformant systems support
more than four arguments.</p>

<p style="margin-top: 1em">XSI-conformant systems support
the combining of primaries with the following
constructs:</p>

<p style="margin-top: 1em">expression1 -a expression2</p>

<p style="margin-top: 1em">True if both expression1 and
expression2 are true.</p>

<p style="margin-top: 1em">expression1 -o expression2</p>

<p style="margin-top: 1em">True if at least one of
expression1 and expression2 are true.</p>

<p style="margin-top: 1em">( expression )</p>

<p style="margin-top: 1em">True if expression is true.</p>

<p style="margin-top: 1em">In evaluating these more complex
combined expressions, the following precedence rules are
used:</p>

<p style="margin-top: 1em">* The unary primaries have
higher precedence than the algebraic binary primaries.</p>

<p style="margin-top: 1em">* The unary primaries have lower
precedence than the string binary primaries.</p>

<p style="margin-top: 1em">* The unary and binary primaries
have higher precedence than the unary string primary.</p>

<p style="margin-top: 1em">* The ! operator has higher
precedence than the -a operator, and the -a operator has
higher precedence than the -o operator.</p>

<p style="margin-top: 1em">* The -a and -o operators are
left associative.</p>

<p style="margin-top: 1em">* The parentheses can be used to
alter the normal precedence and associativity.</p>

<p style="margin-top: 1em">The BSD and System V versions of
-f are not the same. The BSD definition was:</p>

<p style="margin-top: 1em">-f file <br>
True if file exists and is not a directory.</p>

<p style="margin-top: 1em">The SVID version (true if the
file exists and is a regular file) was chosen for this
volume of IEEE Std 1003.1-2001 because its use is consistent
with the -b, -c, -d, and -p op&acirc; <br>
erands ( file exists and is a specific file type).</p>

<p style="margin-top: 1em">The -e primary, possessing
similar functionality to that provided by the C shell, was
added because it provides the only way for a shell script to
find out if a file exists with&acirc; <br>
out trying to open the file. Since implementations are
allowed to add additional file types, a portable script
cannot use:</p>

<p style="margin-top: 1em">test -b foo -o -c foo -o -d foo
-o -f foo -o -p foo</p>

<p style="margin-top: 1em">to find out if foo is an
existing file. On historical BSD systems, the existence of a
file could be determined by:</p>

<p style="margin-top: 1em">test -f foo -o -d foo</p>

<p style="margin-top: 1em">but there was no easy way to
determine that an existing file was a regular file. An early
proposal used the KornShell -a primary (with the same
meaning), but this was changed to <br>
-e because there were concerns about the high probability of
humans confusing the -a primary with the -a binary
operator.</p>

<p style="margin-top: 1em">The following options were not
included in this volume of IEEE Std 1003.1-2001, although
they are provided by some implementations. These operands
should not be used by new <br>
implementations for other purposes:</p>

<p style="margin-top: 1em">-k file <br>
True if file exists and its sticky bit is set.</p>

<p style="margin-top: 1em">-C file <br>
True if file is a contiguous file.</p>

<p style="margin-top: 1em">-V file <br>
True if file is a version file.</p>

<p style="margin-top: 1em">The following option was not
included because it was undocumented in most
implementations, has been removed from some implementations
(including System V), and the functionality <br>
is provided by the shell (see Parameter Expansion .</p>

<p style="margin-top: 1em">-l string <br>
The length of the string string.</p>

<p style="margin-top: 1em">The -b, -c, -g, -p, -u, and -x
operands are derived from the SVID; historical BSD does not
provide them. The -k operand is derived from System V;
historical BSD does not provide <br>
it.</p>

<p style="margin-top: 1em">On historical BSD systems, test
-w directory always returned false because test tried to
open the directory for writing, which always fails.</p>

<p style="margin-top: 1em">Some additional primaries newly
invented or from the KornShell appeared in an early proposal
as part of the conditional command ( [[]]): s1 &gt; s2, s1
&lt; s2, str = pattern, str != <br>
pattern, f1 -nt f2, f1 -ot f2, and f1 -ef f2. They were not
carried forward into the test utility when the conditional
command was removed from the shell because they have not
<br>
been included in the test utility built into historical
implementations of the sh utility.</p>

<p style="margin-top: 1em">The -t file_descriptor primary
is shown with a mandatory argument because the grammar is
ambiguous if it can be omitted. Historical implementations
have allowed it to be omitted, <br>
providing a default of 1.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
File Read, Write, and Creation, find</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2003 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 6,
Copyright (C) 2001-2003 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. In the event
<br>
of any discrepancy between this version and the original
IEEE and The Open Group Standard, the original IEEE and The
Open Group Standard is the referee document. The original
<br>
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p style="margin-top: 1em">IEEE/The Open Group 2003
TEST(1P)</p>
<hr>
</body>
</html>
