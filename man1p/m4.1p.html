<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:45:15 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>M4(1P) POSIX Programmer&rsquo;s Manual M4(1P)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
m4 - macro processor (DEVELOPMENT)</p>

<p style="margin-top: 1em">SYNOPSIS <br>
m4 [-s][-D name[=val]]...[-U name]... file...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The m4 utility is a macro processor that shall read one or
more text files, process them according to their included
macro statements, and write the results to standard
output.</p>

<p style="margin-top: 1em">OPTIONS <br>
The m4 utility shall conform to the Base Definitions volume
of IEEE Std 1003.1-2001, Section 12.2, Utility Syntax
Guidelines, except that the order of the -D and -U options
shall <br>
be significant.</p>

<p style="margin-top: 1em">The following options shall be
supported:</p>

<p style="margin-top: 1em">-s Enable line synchronization
output for the c99 preprocessor phase (that is, #line
directives).</p>

<p style="margin-top: 1em">-D name[=val]</p>

<p style="margin-top: 1em">Define name to val or to null if
= val is omitted.</p>

<p style="margin-top: 1em">-U name <br>
Undefine name.</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operand shall be supported:</p>

<p style="margin-top: 1em">file A pathname of a text file
to be processed. If no file is given, or if it is
&rsquo;-&rsquo;, the standard input shall be read.</p>

<p style="margin-top: 1em">STDIN <br>
The standard input shall be a text file that is used if no
file operand is given, or if it is &rsquo;-&rsquo; .</p>

<p style="margin-top: 1em">INPUT FILES <br>
The input file named by the file operand shall be a text
file.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of m4:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of IEEE Std 1003.1-2001,
Section 8.2, Internation&acirc; <br>
alization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE <br>
Determine the locale for the interpretation of sequences of
bytes of text data as characters (for example, single-byte
as opposed to multi-byte characters in arguments and <br>
input files).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error.</p>

<p style="margin-top: 1em">NLSPATH <br>
Determine the location of message catalogs for the
processing of LC_MESSAGES .</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
The standard output shall be the same as the input files,
after being processed for macro expansion.</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used to display strings with the
errprint macro, macro tracing enabled by the traceon macro,
the defined text for macros written by the dumpdef macro,
<br>
or for diagnostic messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
The m4 utility shall compare each token from the input
against the set of built-in and user-defined macros. If the
token matches the name of a macro, then the token shall be
<br>
replaced by the macro&rsquo;s defining text, if any, and
rescanned for matching macro names. Once no portion of the
token matches the name of a macro, it shall be written to
standard <br>
output. Macros may have arguments, in which case the
arguments shall be substituted into the defining text before
it is rescanned.</p>

<p style="margin-top: 1em">Macro calls have the form:</p>

<p style="margin-top: 1em">name(arg1, arg2, ..., argn)</p>

<p style="margin-top: 1em">Macro names shall consist of
letters, digits, and underscores, where the first character
is not a digit. Tokens not of this form shall not be treated
as macros.</p>

<p style="margin-top: 1em">The application shall ensure
that the left parenthesis immediately follows the name of
the macro. If a token matching the name of a macro is not
followed by a left parenthesis, <br>
it is handled as a use of that macro without arguments.</p>

<p style="margin-top: 1em">If a macro name is followed by a
left parenthesis, its arguments are the comma-separated
tokens between the left parenthesis and the matching right
parenthesis. Unquoted &lt;blank&gt;s <br>
and &lt;newline&gt;s preceding each argument shall be
ignored. All other characters, including trailing
&lt;blank&gt;s and &lt;newline&gt;s, are retained. Commas
enclosed between left and right <br>
parenthesis characters do not delimit arguments.</p>

<p style="margin-top: 1em">Arguments are positionally
defined and referenced. The string &quot;$1&quot; in the
defining text shall be replaced by the first argument.
Systems shall support at least nine arguments; <br>
only the first nine can be referenced, using the strings
&quot;$1&quot; to &quot;$9&quot;, inclusive. The string
&quot;$0&quot; is replaced with the name of the macro. The
string &quot;$#&quot; is replaced by the num&acirc; <br>
ber of arguments as a string. The string &quot;$*&quot; is
replaced by a list of all of the arguments, separated by
commas. The string &quot;$@&quot; is replaced by a list of
all of the arguments <br>
separated by commas, and each argument is quoted using the
current left and right quoting strings.</p>

<p style="margin-top: 1em">If fewer arguments are supplied
than are in the macro definition, the omitted arguments are
taken to be null. It is not an error if more arguments are
supplied than are in the <br>
macro definition.</p>

<p style="margin-top: 1em">No special meaning is given to
any characters enclosed between matching left and right
quoting strings, but the quoting strings are themselves
discarded. By default, the left <br>
quoting string consists of a grave accent (
&rsquo;&lsquo;&rsquo; ) and the right quoting string
consists of an acute accent ( &rsquo;&quot; ); see also the
changequote macro.</p>

<p style="margin-top: 1em">Comments are written but not
scanned for matching macro names; by default, the
begin-comment string consists of the number sign character
and the end-comment string consists of a <br>
&lt;newline&gt;. See also the changecom and dnl macros.</p>

<p style="margin-top: 1em">The m4 utility shall make
available the following built-in macros. They can be
redefined, but once this is done the original meaning is
lost. Their values shall be null unless <br>
otherwise stated. In the descriptions below, the term
defining text refers to the value of the macro: the second
argument to the define macro, among other things. Except for
the <br>
first argument to the eval macro, all numeric arguments to
built-in macros shall be interpreted as decimal values. The
string values produced as the defining text of the decr,
<br>
divnum, incr, index, len, and sysval built-in macros shall
be in the form of a decimal-constant as defined in the C
language.</p>

<p style="margin-top: 1em">changecom <br>
The changecom macro shall set the begin-comment and
end-comment strings. With no arguments, the comment
mechanism shall be disabled. With a single argument, that
argument <br>
shall become the begin-comment string and the
&lt;newline&gt; shall become the end-comment string. With
two arguments, the first argument shall become the
begin-comment string <br>
and the second argument shall become the end-comment string.
Systems shall support comment strings of at least five
characters.</p>

<p style="margin-top: 1em">changequote <br>
The changequote macro shall set the begin-quote and
end-quote strings. With no arguments, the quote strings
shall be set to the default values (that is,
&lsquo;&rsquo;). With a single <br>
argument, that argument shall become the begin-quote string
and the &lt;newline&gt; shall become the end-quote string.
With two arguments, the first argument shall become the <br>
begin-quote string and the second argument shall become the
end-quote string. Systems shall support quote strings of at
least five characters.</p>

<p style="margin-top: 1em">decr The defining text of the
decr macro shall be its first argument decremented by 1. It
shall be an error to specify an argument containing any
non-numeric characters.</p>

<p style="margin-top: 1em">define The second argument shall
become the defining text of the macro whose name is the
first argument.</p>

<p style="margin-top: 1em">defn The defining text of the
defn macro shall be the quoted definition (using the current
quoting strings) of its arguments.</p>

<p style="margin-top: 1em">divert The m4 utility maintains
nine temporary buffers, numbered 1 to 9, inclusive. When the
last of the input has been processed, any output that has
been placed in these buf&acirc; <br>
fers shall be written to standard output in buffer-numerical
order. The divert macro shall divert future output to the
buffer specified by its argument. Specifying no <br>
argument or an argument of 0 shall resume the normal output
process. Output diverted to a stream other than 0 to 9 shall
be discarded. It shall be an error to specify an <br>
argument containing any non-numeric characters.</p>

<p style="margin-top: 1em">divnum The defining text of the
divnum macro shall be the number of the current output
stream as a string.</p>

<p style="margin-top: 1em">dnl The dnl macro shall cause m4
to discard all input characters up to and including the next
&lt;newline&gt;.</p>

<p style="margin-top: 1em">dumpdef <br>
The dumpdef macro shall write the defined text to standard
error for each of the macros specified as arguments, or, if
no arguments are specified, for all macros.</p>

<p style="margin-top: 1em">errprint <br>
The errprint macro shall write its arguments to standard
error.</p>

<p style="margin-top: 1em">eval The eval macro shall
evaluate its first argument as an arithmetic expression,
using 32-bit signed integer arithmetic. All of the
C-language operators shall be supported, <br>
except for:</p>

<p style="margin-top: 1em">[] <br>
-&gt; <br>
++ <br>
-- <br>
(type) <br>
unary * <br>
sizeof, <br>
. <br>
?: <br>
unary &amp;</p>

<p style="margin-top: 1em">and all assignment operators. It
shall be an error to specify any of these operators.
Precedence and associativity shall be as in the ISO C
standard. Systems shall support octal <br>
and hexadecimal numbers as in the ISO C standard. The second
argument, if specified, shall set the radix for the result;
the default is 10. The third argument, if specified, <br>
sets the minimum number of digits in the result. It shall be
an error to specify the second or third argument containing
any non-numeric characters.</p>

<p style="margin-top: 1em">ifdef If the first argument to
the ifdef macro is defined, the defining text shall be the
second argument. Otherwise, the defining text shall be the
third argument, if speci&acirc; <br>
fied, or the null string, if not.</p>

<p style="margin-top: 1em">ifelse The ifelse macro takes
three or more arguments. If the first two arguments compare
as equal strings (after macro expansion of both arguments),
the defining text shall be <br>
the third argument. If the first two arguments do not
compare as equal strings and there are three arguments, the
defining text shall be null. If the first two arguments <br>
do not compare as equal strings and there are four or five
arguments, the defining text shall be the fourth argument.
If the first two arguments do not compare as equal <br>
strings and there are six or more arguments, the first three
arguments shall be discarded and processing shall restart
with the remaining arguments.</p>

<p style="margin-top: 1em">include <br>
The defining text for the include macro shall be the
contents of the file named by the first argument. It shall
be an error if the file cannot be read.</p>

<p style="margin-top: 1em">incr The defining text of the
incr macro shall be its first argument incremented by 1. It
shall be an error to specify an argument containing any
non-numeric characters.</p>

<p style="margin-top: 1em">index The defining text of the
index macro shall be the first character position (as a
string) in the first argument where a string matching the
second argument begins (zero <br>
origin), or -1 if the second argument does not occur.</p>

<p style="margin-top: 1em">len The defining text of the len
macro shall be the length (as a string) of the first
argument.</p>

<p style="margin-top: 1em">m4exit Exit from the m4 utility.
If the first argument is specified, it is the exit code. The
default is zero. It shall be an error to specify an argument
containing any non- <br>
numeric characters.</p>

<p style="margin-top: 1em">m4wrap The first argument shall
be processed when EOF is reached. If the m4wrap macro is
used multiple times, the arguments specified shall be
processed in the order in which the <br>
m4wrap macros were processed.</p>

<p style="margin-top: 1em">maketemp <br>
The defining text shall be the first argument, with any
trailing &rsquo;X&rsquo; characters replaced with the
current process ID as a string.</p>

<p style="margin-top: 1em">popdef The popdef macro shall
delete the current definition of its arguments, replacing
that definition with the previous one. If there is no
previous definition, the macro is <br>
undefined.</p>

<p style="margin-top: 1em">pushdef <br>
The pushdef macro shall be equivalent to the define macro
with the exception that it shall preserve any current
definition for future retrieval using the popdef macro.</p>

<p style="margin-top: 1em">shift The defining text for the
shift macro shall be all of its arguments except for the
first one.</p>

<p style="margin-top: 1em">sinclude <br>
The sinclude macro shall be equivalent to the include macro,
except that it shall not be an error if the file is
inaccessible.</p>

<p style="margin-top: 1em">substr The defining text for the
substr macro shall be the substring of the first argument
beginning at the zero-offset character position specified by
the second argument. The <br>
third argument, if specified, shall be the number of
characters to select; if not specified, the characters from
the starting point to the end of the first argument shall
<br>
become the defining text. It shall not be an error to
specify a starting point beyond the end of the first
argument and the defining text shall be null. It shall be an
<br>
error to specify an argument containing any non-numeric
characters.</p>

<p style="margin-top: 1em">syscmd The syscmd macro shall
interpret its first argument as a shell command line. The
defining text shall be the string result of that command. No
output redirection shall be <br>
performed by the m4 utility. The exit status value from the
command can be retrieved using the sysval macro.</p>

<p style="margin-top: 1em">sysval The defining text of the
sysval macro shall be the exit value of the utility last
invoked by the syscmd macro (as a string).</p>

<p style="margin-top: 1em">traceon <br>
The traceon macro shall enable tracing for the macros
specified as arguments, or, if no arguments are specified,
for all macros. The trace output shall be written to
stan&acirc; <br>
dard error in an unspecified format.</p>

<p style="margin-top: 1em">traceoff <br>
The traceoff macro shall disable tracing for the macros
specified as arguments, or, if no arguments are specified,
for all macros.</p>

<p style="margin-top: 1em">translit <br>
The defining text of the translit macro shall be the first
argument with every character that occurs in the second
argument replaced with the corresponding character from <br>
the third argument.</p>

<p style="margin-top: 1em">undefine <br>
The undefine macro shall delete all definitions (including
those preserved using the pushdef macro) of the macros named
by its arguments.</p>

<p style="margin-top: 1em">undivert <br>
The undivert macro shall cause immediate output of any text
in temporary buffers named as arguments, or all temporary
buffers if no arguments are specified. Buffers can be <br>
undiverted into other temporary buffers. Undiverting shall
discard the contents of the temporary buffer. It shall be an
error to specify an argument containing any non- <br>
numeric characters.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 Successful completion.</p>

<p style="margin-top: 1em">&gt;0 An error occurred</p>

<p style="margin-top: 1em">If the m4exit macro is used, the
exit value can be specified by the input file.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
Default.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
The defn macro is useful for renaming macros, especially
built-ins.</p>

<p style="margin-top: 1em">EXAMPLES <br>
If the file m4src contains the lines:</p>

<p style="margin-top: 1em">The value of &lsquo;VER&rsquo;
is &quot;VER&quot;. <br>
ifdef(&lsquo;VER&rsquo;, &quot;VER&quot; is defined to be
VER., VER is not defined.) <br>
ifelse(VER, 1, &quot;VER&quot; is &lsquo;VER&rsquo;.) <br>
ifelse(VER, 2, &quot;VER&quot; is &lsquo;VER&rsquo;.,
&quot;VER&quot; is not 2.) <br>
end</p>

<p style="margin-top: 1em">then the command</p>

<p style="margin-top: 1em">m4 m4src</p>

<p style="margin-top: 1em">or the command:</p>

<p style="margin-top: 1em">m4 -U VER m4src</p>

<p style="margin-top: 1em">produces the output:</p>

<p style="margin-top: 1em">The value of VER is
&quot;VER&quot;. <br>
VER is not defined.</p>

<p style="margin-top: 1em">VER is not 2. <br>
end</p>

<p style="margin-top: 1em">The command:</p>

<p style="margin-top: 1em">m4 -D VER m4src</p>

<p style="margin-top: 1em">produces the output:</p>

<p style="margin-top: 1em">The value of VER is
&quot;&quot;. <br>
VER is defined to be .</p>

<p style="margin-top: 1em">VER is not 2. <br>
end</p>

<p style="margin-top: 1em">The command:</p>

<p style="margin-top: 1em">m4 -D VER=1 m4src</p>

<p style="margin-top: 1em">produces the output:</p>

<p style="margin-top: 1em">The value of VER is
&quot;1&quot;. <br>
VER is defined to be 1. <br>
VER is 1. <br>
VER is not 2. <br>
end</p>

<p style="margin-top: 1em">The command:</p>

<p style="margin-top: 1em">m4 -D VER=2 m4src</p>

<p style="margin-top: 1em">produces the output: <br>
The value of VER is &quot;2&quot;. <br>
VER is defined to be 2.</p>

<p style="margin-top: 1em">VER is 2. <br>
end</p>

<p style="margin-top: 1em">RATIONALE <br>
None.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
c99</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2003 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 6,
Copyright (C) 2001-2003 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. In the event
<br>
of any discrepancy between this version and the original
IEEE and The Open Group Standard, the original IEEE and The
Open Group Standard is the referee document. The original
<br>
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p style="margin-top: 1em">IEEE/The Open Group 2003
M4(1P)</p>
<hr>
</body>
</html>
