<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:45:07 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CHMOD(1P) POSIX Programmer&rsquo;s Manual CHMOD(1P)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
chmod - change the file modes</p>

<p style="margin-top: 1em">SYNOPSIS <br>
chmod [-R] mode file ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The chmod utility shall change any or all of the file mode
bits of the file named by each file operand in the way
specified by the mode operand.</p>

<p style="margin-top: 1em">It is implementation-defined
whether and how the chmod utility affects any alternate or
additional file access control mechanism (see the Base
Definitions volume of <br>
IEEE Std 1003.1-2001, Section 4.4, File Access Permissions)
being used for the specified file.</p>

<p style="margin-top: 1em">Only a process whose effective
user ID matches the user ID of the file, or a process with
the appropriate privileges, shall be permitted to change the
file mode bits of a file.</p>

<p style="margin-top: 1em">OPTIONS <br>
The chmod utility shall conform to the Base Definitions
volume of IEEE Std 1003.1-2001, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-top: 1em">The following option shall be
supported:</p>

<p style="margin-top: 1em">-R Recursively change file mode
bits. For each file operand that names a directory, chmod
shall change the file mode bits of the directory and all
files in the file hierarchy <br>
below it.</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operands shall be supported:</p>

<p style="margin-top: 1em">mode Represents the change to be
made to the file mode bits of each file named by one of the
file operands; see the EXTENDED DESCRIPTION section.</p>

<p style="margin-top: 1em">file A pathname of a file whose
file mode bits shall be modified.</p>

<p style="margin-top: 1em">STDIN <br>
Not used.</p>

<p style="margin-top: 1em">INPUT FILES <br>
None.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of chmod:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of IEEE Std 1003.1-2001,
Section 8.2, Internation&acirc; <br>
alization Variables for the precedence of
internationalization variables used to determine the values
of locale categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE <br>
Determine the locale for the interpretation of sequences of
bytes of text data as characters (for example, single-byte
as opposed to multi-byte characters in arguments).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error.</p>

<p style="margin-top: 1em">NLSPATH <br>
Determine the location of message catalogs for the
processing of LC_MESSAGES .</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
Not used.</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used only for diagnostic
messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
The mode operand shall be either a symbolic_mode expression
or a non-negative octal integer. The symbolic_mode form is
described by the grammar later in this section.</p>

<p style="margin-top: 1em">Each clause shall specify an
operation to be performed on the current file mode bits of
each file. The operations shall be performed on each file in
the order in which the <br>
clauses are specified.</p>

<p style="margin-top: 1em">The who symbols u, g, and o
shall specify the user, group, and other parts of the file
mode bits, respectively. A who consisting of the symbol a
shall be equivalent to ugo.</p>

<p style="margin-top: 1em">The perm symbols r, w, and x
represent the read, write, and execute/ search portions of
file mode bits, respectively. The perm symbol s shall
represent the set-user-ID-on-execu&acirc; <br>
tion (when who contains or implies u) and
set-group-ID-on-execution (when who contains or implies g)
bits.</p>

<p style="margin-top: 1em">The perm symbol X shall
represent the execute/search portion of the file mode bits
if the file is a directory or if the current (unmodified)
file mode bits have at least one of <br>
the execute bits (S_IXUSR, S_IXGRP, or S_IXOTH) set. It
shall be ignored if the file is not a directory and none of
the execute bits are set in the current file mode bits.</p>

<p style="margin-top: 1em">The permcopy symbols u, g, and o
shall represent the current permissions associated with the
user, group, and other parts of the file mode bits,
respectively. For the remainder <br>
of this section, perm refers to the non-terminals perm and
permcopy in the grammar.</p>

<p style="margin-top: 1em">If multiple actionlists are
grouped with a single wholist in the grammar, each
actionlist shall be applied in the order specified with that
wholist. The op symbols shall repre&acirc; <br>
sent the operation performed, as follows:</p>

<p style="margin-top: 1em">+ If perm is not specified, the
&rsquo;+&rsquo; operation shall not change the file mode
bits.</p>

<p style="margin-top: 1em">If who is not specified, the
file mode bits represented by perm for the owner, group, and
other permissions, except for those with corresponding bits
in the file mode creation <br>
mask of the invoking process, shall be set.</p>

<p style="margin-top: 1em">Otherwise, the file mode bits
represented by the specified who and perm values shall be
set.</p>

<p style="margin-top: 1em">- If perm is not specified, the
&rsquo;-&rsquo; operation shall not change the file mode
bits.</p>

<p style="margin-top: 1em">If who is not specified, the
file mode bits represented by perm for the owner, group, and
other permissions, except for those with corresponding bits
in the file mode creation <br>
mask of the invoking process, shall be cleared.</p>

<p style="margin-top: 1em">Otherwise, the file mode bits
represented by the specified who and perm values shall be
cleared.</p>

<p style="margin-top: 1em">= Clear the file mode bits
specified by the who value, or, if no who value is
specified, all of the file mode bits specified in this
volume of IEEE Std 1003.1-2001.</p>

<p style="margin-top: 1em">If perm is not specified, the
&rsquo;=&rsquo; operation shall make no further
modifications to the file mode bits.</p>

<p style="margin-top: 1em">If who is not specified, the
file mode bits represented by perm for the owner, group, and
other permissions, except for those with corresponding bits
in the file mode creation <br>
mask of the invoking process, shall be set.</p>

<p style="margin-top: 1em">Otherwise, the file mode bits
represented by the specified who and perm values shall be
set.</p>

<p style="margin-top: 1em">When using the symbolic mode
form on a regular file, it is implementation-defined whether
or not:</p>

<p style="margin-top: 1em">* Requests to set the
set-user-ID-on-execution or set-group-ID-on-execution bit
when all execute bits are currently clear and none are being
set are ignored.</p>

<p style="margin-top: 1em">* Requests to clear all execute
bits also clear the set-user-ID-on-execution and
set-group-ID-on-execution bits.</p>

<p style="margin-top: 1em">* Requests to clear the
set-user-ID-on-execution or set-group-ID-on-execution bits
when all execute bits are currently clear are ignored.
However, if the command ls -l file <br>
writes an s in the position indicating that the
set-user-ID-on-execution or set-group-ID-on-execution is
set, the commands chmod u-s file or chmod g-s file,
respectively, <br>
shall not be ignored.</p>

<p style="margin-top: 1em">When using the symbolic mode
form on other file types, it is implementation-defined
whether or not requests to set or clear the
set-user-ID-on-execution or set-group-ID-on-execu&acirc;
<br>
tion bits are honored.</p>

<p style="margin-top: 1em">If the who symbol o is used in
conjunction with the perm symbol s with no other who symbols
being specified, the set-user-ID-on-execution and
set-group-ID-on-execution bits shall <br>
not be modified. It shall not be an error to specify the who
symbol o in conjunction with the perm symbol s.</p>

<p style="margin-top: 1em">The perm symbol t shall specify
the S_ISVTX bit. When used with a file of type directory, it
can be used with the who symbol a, or with no who symbol. It
shall not be an error to <br>
specify a who symbol of u, g, or o in conjunction with the
perm symbol t, but the meaning of these combinations is
unspecified. The effect when using the perm symbol t with
any <br>
file type other than directory is unspecified.</p>

<p style="margin-top: 1em">For an octal integer mode
operand, the file mode bits shall be set absolutely.</p>

<p style="margin-top: 1em">For each bit set in the octal
number, the corresponding file permission bit shown in the
following table shall be set; all other file permission bits
shall be cleared. For regu&acirc; <br>
lar files, for each bit set in the octal number
corresponding to the set-user-ID-on-execution or the
set-group-ID-on-execution, bits shown in the following table
shall be set; if <br>
these bits are not set in the octal number, they are
cleared. For other file types, it is implementation-defined
whether or not requests to set or clear the
set-user-ID-on-execu&acirc; <br>
tion or set-group-ID-on-execution bits are honored.</p>

<p style="margin-top: 1em">Octal Mode Bit Octal Mode Bit
Octal Mode Bit Octal Mode Bit <br>
4000 S_ISUID 0400 S_IRUSR 0040 S_IRGRP 0004 S_IROTH <br>
2000 S_ISGID 0200 S_IWUSR 0020 S_IWGRP 0002 S_IWOTH <br>
1000 S_ISVTX 0100 S_IXUSR 0010 S_IXGRP 0001 S_IXOTH</p>

<p style="margin-top: 1em">When bits are set in the octal
number other than those listed in the table above, the
behavior is unspecified.</p>

<p style="margin-top: 1em">Grammar for chmod <br>
The grammar and lexical conventions in this section describe
the syntax for the symbolic_mode operand. The general
conventions for this style of grammar are described in
Grammar <br>
Conventions . A valid symbolic_mode can be represented as
the non-terminal symbol symbolic_mode in the grammar. This
formal syntax shall take precedence over the preceding text
<br>
syntax description.</p>

<p style="margin-top: 1em">The lexical processing is based
entirely on single characters. Implementations need not
allow &lt;blank&gt;s within the single argument being
processed.</p>

<p style="margin-top: 1em">%start symbolic_mode <br>
%%</p>

<p style="margin-top: 1em">symbolic_mode : clause <br>
| symbolic_mode &rsquo;,&rsquo; clause <br>
;</p>

<p style="margin-top: 1em">clause : actionlist <br>
| wholist actionlist <br>
;</p>

<p style="margin-top: 1em">wholist : who <br>
| wholist who <br>
;</p>

<p style="margin-top: 1em">who : &rsquo;u&rsquo; |
&rsquo;g&rsquo; | &rsquo;o&rsquo; | &rsquo;a&rsquo; <br>
;</p>

<p style="margin-top: 1em">actionlist : action <br>
| actionlist action <br>
;</p>

<p style="margin-top: 1em">action : op <br>
| op permlist <br>
| op permcopy <br>
;</p>

<p style="margin-top: 1em">permcopy : &rsquo;u&rsquo; |
&rsquo;g&rsquo; | &rsquo;o&rsquo; <br>
;</p>

<p style="margin-top: 1em">op : &rsquo;+&rsquo; |
&rsquo;-&rsquo; | &rsquo;=&rsquo; <br>
;</p>

<p style="margin-top: 1em">permlist : perm <br>
| perm permlist <br>
;</p>

<p style="margin-top: 1em">perm : &rsquo;r&rsquo; |
&rsquo;w&rsquo; | &rsquo;x&rsquo; | &rsquo;X&rsquo; |
&rsquo;s&rsquo; | &rsquo;t&rsquo; <br>
;</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 The utility executed
successfully and all requested changes were made.</p>

<p style="margin-top: 1em">&gt;0 An error occurred.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
Default.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
Some implementations of the chmod utility change the mode of
a directory before the files in the directory when
performing a recursive ( -R option) change; others change
the <br>
directory mode after the files in the directory. If an
application tries to remove read or search permission for a
file hierarchy, the removal attempt fails if the directory
is <br>
changed first; on the other hand, trying to re-enable
permissions to a restricted hierarchy fails if directories
are changed last. Users should not try to make a hierarchy
inac&acirc; <br>
cessible to themselves.</p>

<p style="margin-top: 1em">Some implementations of chmod
never used the process&rsquo; umask when changing modes;
systems conformant with this volume of IEEE Std 1003.1-2001
do so when who is not specified. Note <br>
the difference between:</p>

<p style="margin-top: 1em">chmod a-w file</p>

<p style="margin-top: 1em">which removes all write
permissions, and:</p>

<p style="margin-top: 1em">chmod -- -w file</p>

<p style="margin-top: 1em">which removes write permissions
that would be allowed if file was created with the same
umask.</p>

<p style="margin-top: 1em">Conforming applications should
never assume that they know how the set-user-ID and
set-group-ID bits on directories are interpreted.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Mode Results <br>
a+= Equivalent to a+, a=; clears all file <br>
mode bits. <br>
go+-w Equivalent to go+, go- w; clears group <br>
and other write bits. <br>
g=o-w Equivalent to g= o, g- w; sets group bit <br>
to match other bits and then clears <br>
group write bit. <br>
g-r+w Equivalent to g- r, g+ w; clears group <br>
read bit and sets group write bit. <br>
uo=g Sets owner bits to match group bits and <br>
sets other bits to match group bits.</p>

<p style="margin-top: 1em">RATIONALE <br>
The functionality of chmod is described substantially
through references to concepts defined in the System
Interfaces volume of IEEE Std 1003.1-2001. In this way,
there is less <br>
duplication of effort required for describing the
interactions of permissions. However, the behavior of this
utility is not described in terms of the chmod() function
from the <br>
System Interfaces volume of IEEE Std 1003.1-2001 because
that specification requires certain side effects upon
alternate file access control mechanisms that might not be
appro&acirc; <br>
priate, depending on the implementation.</p>

<p style="margin-top: 1em">Implementations that support
mandatory file and record locking as specified by the 1984
/usr/group standard historically used the combination of
set-group-ID bit set and group <br>
execute bit clear to indicate mandatory locking. This
condition is usually set or cleared with the symbolic mode
perm symbol l instead of the perm symbols s and x so that
the <br>
mandatory locking mode is not changed without explicit
indication that that was what the user intended. Therefore,
the details on how the implementation treats these
conditions <br>
must be defined in the documentation. This volume of IEEE
Std 1003.1-2001 does not require mandatory locking (nor does
the System Interfaces volume of IEEE Std 1003.1-2001), but
<br>
does allow it as an extension. However, this volume of IEEE
Std 1003.1-2001 does require that the ls and chmod utilities
work consistently in this area. If ls -l file indicates <br>
that the set-group-ID bit is set, chmod g-s file must clear
it (assuming appropriate privileges exist to change
modes).</p>

<p style="margin-top: 1em">The System V and BSD versions
use different exit status codes. Some implementations used
the exit status as a count of the number of errors that
occurred; this practice is <br>
unworkable since it can overflow the range of valid exit
status values. This problem is avoided here by specifying
only 0 and &gt;0 as exit values.</p>

<p style="margin-top: 1em">The System Interfaces volume of
IEEE Std 1003.1-2001 indicates that implementation-defined
restrictions may cause the S_ISUID and S_ISGID bits to be
ignored. This volume of <br>
IEEE Std 1003.1-2001 allows the chmod utility to choose to
modify these bits before calling chmod() (or some function
providing equivalent capabilities) for non-regular files.
<br>
Among other things, this allows implementations that use the
set-user-ID and set-group-ID bits on directories to enable
extended features to handle these extensions in an
intel&acirc; <br>
ligent manner.</p>

<p style="margin-top: 1em">The X perm symbol was adopted
from BSD-based systems because it provides commonly desired
functionality when doing recursive ( -R option)
modifications. Similar functionality is <br>
not provided by the find utility. Historical BSD versions of
chmod, however, only supported X with op+; it has been
extended in this volume of IEEE Std 1003.1-2001 because it
is <br>
also useful with op=. (It has also been added for op- even
though it duplicates x, in this case, because it is
intuitive and easier to explain.)</p>

<p style="margin-top: 1em">The grammar was extended with
the permcopy non-terminal to allow historical-practice forms
of symbolic modes like o= u -g (that is, set the
&quot;other&quot; permissions to the permissions <br>
of &quot;owner&quot; minus the permissions of
&quot;group&quot;).</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ls, umask, the System Interfaces volume of IEEE Std
1003.1-2001, chmod()</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2003 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 6,
Copyright (C) 2001-2003 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. In the event
<br>
of any discrepancy between this version and the original
IEEE and The Open Group Standard, the original IEEE and The
Open Group Standard is the referee document. The original
<br>
Standard can be obtained online at
http://www.opengroup.org/unix/online.html .</p>

<p style="margin-top: 1em">IEEE/The Open Group 2003
CHMOD(1P)</p>
<hr>
</body>
</html>
