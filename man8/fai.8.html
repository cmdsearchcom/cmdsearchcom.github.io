<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>fai(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">fai(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">fai(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fai - Fully Automatic Installation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>fai</b> [<i>options</i>]<i> ACTION</i>
<div>&#x00A0;</div>
<b>fai</b> [<i>options</i>]<i> dirinstall DIRECTORY</i> [<i>options</i>]<i>
  install DIRECTORY</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
FAI allows for non-interactive initial installation and online maintenance
  (&quot;softupdates&quot;) of operating systems according to a user-defined
  configuration.
<div class="Pp"></div>
fai starts an fai-action, e.g. an installation or a softupdate. If the variable
  FAI_ACTION is defined, this action will be performed. The command line
  argument will override the value of FAI_ACTION. You can also define your own
  actions which will be executed when specified.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">ACTION is required.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C CFDIR</b></dt>
  <dd class="It-tag">Use CFDIR as the configuration directory. Default is
      /etc/fai.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c|--class </b><i>class[,class]</i></dt>
  <dd class="It-tag">Define classes. Multiple classes must be comma separated.
      If not specified, use the shell environment variable $classes (space
      separated). The first class has lowest priority.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h|--help</b></dt>
  <dd class="It-tag">Show help, version and summary of options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N|--new</b></dt>
  <dd class="It-tag">Renew the list of defined classes. By default, FAI uses the
      list of classes which was created during the first installation and skips
      calling fai-class(1). You need this option for the first softupdate if the
      system was not installed with FAI, you can also use it in subsequent
    runs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s|--cspace &lt;URL&gt;</b></dt>
  <dd class="It-tag">URL of the config space. See fai.conf for more information
      on the format and which types of protocol are supported. This overrides
      the setting of FAI_CONFIG_SRC in /etc/fai.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u|--hostname &lt;HOSTNAME&gt;</b></dt>
  <dd class="It-tag">Use this hostname instead the output of the hostname
      command. This is useful in conjunction with the dirinstall action, where
      you want to manually define a hostname that should be used for defining
      classes and for the network setup and other stuff. There, you don't want
      the name of the host where you run fai dirinstall to be used - because
      programs in a chroot, or in a virtualized OS instance should run with
      their own name, and install their own set of classes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v|--verbose</b></dt>
  <dd class="It-tag">Create verbose output.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>install</b></dt>
  <dd class="It-tag">starts a fully automatic installation:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">setup the fai environment (create ramdisk, get
      configuration data,...)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">define classes and variables</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">partition the local hard disk and create file systems</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.</dt>
  <dd class="It-tag">install new software packages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5.</dt>
  <dd class="It-tag">call configuration scripts</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">6.</dt>
  <dd class="It-tag">check and save the logfiles</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sysinfo</b></dt>
  <dd class="It-tag">starts a system rescue:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">setup the fai environment (create ramdisk, get
      configuration data,...)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">define classes and variables</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">do different types of hardware detection and print hardware
      info</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.</dt>
  <dd class="It-tag">save the logfiles</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>softupdate</b></dt>
  <dd class="It-tag">starts a softupdate:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">fetch FAI configuration according to /etc/fai/fai.conf</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">define classes and variables</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">update the installed packages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.</dt>
  <dd class="It-tag">install new software</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5.</dt>
  <dd class="It-tag">call configuration scripts</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">6.</dt>
  <dd class="It-tag">check and save the logfiles</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>inventory</b></dt>
  <dd class="It-tag">print hardware inventory:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">setup the fai environment</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">define classes and variables</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">List information about CPU, RAM, network devices, hard
      disks</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.</dt>
  <dd class="It-tag">save the logfiles</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dirinstall [DIR]</b></dt>
  <dd class="It-tag">Installation into a directory. This is nearly the same
      action as install except for skipping the task that partitions the hard
      disks and creates the file systems. Classes can be defined with option -c,
      or by giving the hostname with -u or --hostname and enabling automatic
      definition by class scripts from hostname with -N. (Without -N class
      scripts aren't executed)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Running with action &quot;install&quot; on a running system will almost
  certainly destroy it.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<br/>
 fai -v -s file:///srv/fai/config -cDEFAULT,FAIBASE dirinstall /srv/etchroot
<div style="height: 1.00em;">&#x00A0;</div>
This command will do an installation into the directory /src/etchroot. For
  defining variables, selecting the software packages and calling the
  customization script the classes DEFAULT, FAIBASE and LAST are used.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
This program is the central part of FAI (Fully Automatic Installation). See the
  FAI manual for more information on how to use FAI. The FAI homepage is
  http://fai-project.org.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This manual page was written by Henning Glawe &lt;glaweh@physik.fu-berlin.de&gt;
  and Thomas Lange &lt;lange@informatik.uni-koeln.de&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 2013</td>
    <td class="foot-os">FAI 4</td>
  </tr>
</table>
</body>
</html>
