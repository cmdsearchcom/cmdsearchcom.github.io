<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:02 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BLKDEACTIVATE(8) BLKDEACTIVATE(8)</p>

<p style="margin-top: 1em">NAME <br>
blkdeactivate &acirc; utility to deactivate block
devices</p>

<p style="margin-top: 1em">SYNOPSIS <br>
blkdeactivate [-d dm_options] [-e] [-h] [-l lvm_options] [-m
mpath_options] [-u] [-v] [device]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
blkdeactivate utility deactivates block devices. If a device
is mounted, the utility can unmount it automatically before
trying to deactivate. The utility currently supports <br>
device-mapper devices (DM), including LVM volumes and
software RAID MD devices. LVM volumes are handled directly
using the lvm(8) command, the rest of device-mapper based
devices <br>
are handled using the dmsetup(8) command. MD devices are
handled using the mdadm(8) command.</p>

<p style="margin-top: 1em">OPTIONS <br>
-d, --dmoption dm_options <br>
Comma separated list of device-mapper specific options.
Accepted dmsetup(8) options are:</p>

<p style="margin-top: 1em">retry Retry removal several
times in case of failure.</p>

<p style="margin-top: 1em">force Force device removal.</p>

<p style="margin-top: 1em">-e, --errors <br>
Show errors reported from tools called by blkdeactivate.
Without this option, any error messages from these external
tools are suppressed and the blkdeactivate itself pro&acirc;
<br>
vides only a summary message about device being skipped or
not.</p>

<p style="margin-top: 1em">-h, --help <br>
Display the help text.</p>

<p style="margin-top: 1em">-l, --lvmoption lvm_options <br>
Comma separated list of LVM specific options:</p>

<p style="margin-top: 1em">retry Retry removal several
times in case of failure.</p>

<p style="margin-top: 1em">wholevg <br>
Deactivate the whole LVM Volume Group when processing a
Logical Volume. Deactivating Volume Group as a whole takes
less time than deactivating each Logical Volume <br>
separately.</p>

<p style="margin-top: 1em">-m, --mpathoption mpath_options
<br>
Comma separated list of device-mapper multipath specific
options:</p>

<p style="margin-top: 1em">disablequeueing <br>
Disable queueing on all multipath devices first before
deactivation. This avoids a situation where blkdeactivate
may end up waiting if all paths are unavailable <br>
for any underlying device-mapper multipath device.</p>

<p style="margin-top: 1em">-u, --umount <br>
Unmount a mounted device before trying to deactivate it.
Without this option used, a device that is mounted is not
deactivated.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Run in verbose mode. Use --vv for even more verbose
mode.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Deactivate all supported block devices found in the system.
If a device is mounted, skip its deactivation.</p>

<p style="margin-top: 1em">blkdeactivate</p>

<p style="margin-top: 1em">Deactivate all supported block
devices found in the system. If a device is mounted, unmount
it first if possible.</p>

<p style="margin-top: 1em">blkdeactivate -u</p>

<p style="margin-top: 1em">Deactivate supplied device
together with all its holders. If any of the devices
processed is mounted, unmount it first if possible.</p>

<p style="margin-top: 1em">blkdeactivate -u
/dev/vg/lvol0</p>

<p style="margin-top: 1em">Deactivate all supported block
devices found in the system. Retry deactivation of
device-mapper devices in case the deactivation fails.
Deactivate the whole Volume Group at once <br>
when processing an LVM Logical Volume.</p>

<p style="margin-top: 1em">blkdeactivate -u -d retry -l
wholevg</p>

<p style="margin-top: 1em">Deactivate all supported block
devices found in the system. Retry deactivation of
device-mapper devices in case the deactivation fails and
force removal.</p>

<p style="margin-top: 1em">blkdeactivate -d force,retry</p>

<p style="margin-top: 1em">SEE ALSO <br>
dmsetup(8), lsblk(8), lvm(8), mdadm(8), multipathd(8),
umount(8)</p>

<p style="margin-top: 1em">Red Hat, Inc LVM TOOLS
2.02.166(2)-RHEL7 (2016-11-16) BLKDEACTIVATE(8)</p>
<hr>
</body>
</html>
