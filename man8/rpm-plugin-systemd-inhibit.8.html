<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>RPM-SYSTEMD-INHIBIT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RPM-SYSTEMD-INHIBIT(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">RPM-SYSTEMD-INHIBIT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
rpm-plugin-systemd-inhibit - Plugin for the RPM Package Manager
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Description"><a class="selflink" href="#Description">Description</a></h1>
This plugin for RPM prevents the system to enter shutdown, sleep or idle mode
  while there is a rpm transaction running to prevent system corruption that can
  occur if the transaction is interrupted by a reboot.
<div style="height: 1.00em;">&#x00A0;</div>
This is achieved by using the inhibit DBUS interface of systemd. The call is
  roughly equivalent to executing
<div style="height: 1.00em;">&#x00A0;</div>
<b>systemd-inhibit --mode=block --what=idle:sleep:shutdown --who=RPM
  --why=&quot;Transaction running&quot;</b>
<div style="height: 1.00em;">&#x00A0;</div>
See <b>systemd-inhibit(1)</b> for the details of this mechanism.
<div style="height: 1.00em;">&#x00A0;</div>
It is strongly advised to have the plugin installed on all systemd based
  systems.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Prerequisites"><a class="selflink" href="#Prerequisites">Prerequisites</a></h1>
For the plugin to work systemd has to be used as init system and though the DBUS
  system bus must be available. If the plugin cannot access the interface it
  gives a warning but does not stop the transaction.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Configuration"><a class="selflink" href="#Configuration">Configuration</a></h1>
The plugin currently does not have any configuration option other than turning
  it on and off. It can be disabled by commenting out the
  <i>%__transaction_systemd_inhibit</i> macro in main macros file (typically
  located at <i>/usr/lib/rpm/macros</i>) or otherwise change the value of the
  macro.
<div style="height: 1.00em;">&#x00A0;</div>
Another option is to remove the plugin from the system if it is packaged in its
  own sub package.</div>
<table class="foot">
  <tr>
    <td class="foot-date">14 Apr 2016</td>
    <td class="foot-os">Red Hat, Inc.</td>
  </tr>
</table>
</body>
</html>
