<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:25 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RPM-SYSTEMD-INHIBIT(8) System Manager&rsquo;s Manual
RPM-SYSTEMD-INHIBIT(8)</p>

<p style="margin-top: 1em">NAME <br>
rpm-plugin-systemd-inhibit - Plugin for the RPM Package
Manager</p>

<p style="margin-top: 1em">Description <br>
This plugin for RPM prevents the system to enter shutdown,
sleep or idle mode while there is a rpm transaction running
to prevent system corruption that can occur if the
transac&acirc; <br>
tion is interrupted by a reboot.</p>

<p style="margin-top: 1em">This is achieved by using the
inhibit DBUS interface of systemd. The call is roughly
equivalent to executing</p>

<p style="margin-top: 1em">systemd-inhibit --mode=block
--what=idle:sleep:shutdown --who=RPM --why=&quot;Transaction
running&quot;</p>

<p style="margin-top: 1em">See systemd-inhibit(1) for the
details of this mechanism.</p>

<p style="margin-top: 1em">It is strongly advised to have
the plugin installed on all systemd based systems.</p>

<p style="margin-top: 1em">Prerequisites <br>
For the plugin to work systemd has to be used as init system
and though the DBUS system bus must be available. If the
plugin cannot access the interface it gives a warning but
<br>
does not stop the transaction.</p>

<p style="margin-top: 1em">Configuration <br>
The plugin currently does not have any configuration option
other than turning it on and off. It can be disabled by
commenting out the %__transaction_systemd_inhibit macro in
<br>
main macros file (typically located at /usr/lib/rpm/macros)
or otherwise change the value of the macro.</p>

<p style="margin-top: 1em">Another option is to remove the
plugin from the system if it is packaged in its own sub
package.</p>

<p style="margin-top: 1em">Red Hat, Inc. 14 Apr 2016
RPM-SYSTEMD-INHIBIT(8)</p>
<hr>
</body>
</html>
