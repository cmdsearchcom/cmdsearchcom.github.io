<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:50 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CTL_CONVERSATIONSDB(8) Cyrus IMAP
CTL_CONVERSATIONSDB(8)</p>

<p style="margin-top: 1em">NAME <br>
ctl_conversationsdb - Cyrus IMAP documentation</p>

<p style="margin-top: 1em">Perform operations on the
conversations databases</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ctl_conversationsdb [ -C config-file ] -d userid &gt; text
<br>
ctl_conversationsdb [ -C config-file ] -u userid &lt; text
<br>
ctl_conversationsdb [ -C config-file ] [ -v ] [ -z | -b | -R
] userid <br>
ctl_conversationsdb [ -C config-file ] [ -v ] [ -z | -b | -R
] -r</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ctl_conversationsdb is used to perform various
administrative operations on a conversations database and
associated information in cyrus.index files.</p>

<p style="margin-top: 1em">ctl_conversationsdb reads its
configuration options out of the imapd.conf(5) file unless
specified otherwise by -C.</p>

<p style="margin-top: 1em">The configdirectory option in
imapd.conf(5) is used to determine the default location of
the conversations database.</p>

<p style="margin-top: 1em">In the first synopsis, the -d
option dumps the contents of a conversations database to
standard output in an ASCII format. In the second synopsis,
the resulting file is fed back <br>
in, using the -u option to &quot;undump&quot; from standard
input. This pair of commands is useful for disaster
recovery, or for changing the backend used to store the
conversations data&acirc; <br>
base.</p>

<p style="margin-top: 1em">The third synopsis is used to
reconstruct conversations information in various ways for a
specific user, and the fourth to reconstruct conversations
information for all users. <br>
See OPTIONS below for details.</p>

<p style="margin-top: 1em">This command was introduced in
version 3.0.</p>

<p style="margin-top: 1em">OPTIONS <br>
-C config-file <br>
Use the specified configuration file config-file rather than
the default imapd.conf(5).</p>

<p style="margin-top: 1em">-d userid <br>
Dump the conversations database which corresponds to the
user userid to standard output in an ASCII format. The
resulting file can be used to recreate a database using <br>
the -u option.</p>

<p style="margin-top: 1em">-u userid <br>
&quot;Undumps&quot; the conversations database corresponding
to the user userid, i.e. replaces all the entries with data
from ASCII records parsed from standard input. The output
<br>
from the -d option can be used as input.</p>

<p style="margin-top: 1em">-v Be more verbose when
running.</p>

<p style="margin-top: 1em">-r Be recursive; apply the main
operation to every user. Warning: do not combine with -u, it
will not do what you expect.</p>

<p style="margin-top: 1em">-z Remove all conversation
information from the conversations database for user userid,
and from all the user&rsquo;s mailboxes. The information can
all be recalculated (eventu&acirc; <br>
ally) from message headers, using the -b option.</p>

<p style="margin-top: 1em">-b Rebuild all conversation
information in the conversations database for user userid,
and in all the user&rsquo;s mailboxes, from the header
information in messages. Does not <br>
affect messages which already have conversation
information.</p>

<p style="margin-top: 1em">This is a bulk mode version of
what happens to each message when it arrives, and can be
used to add missing conversation information for past
messages, e.g. after using -z <br>
or after upgrading Cyrus from older versions. Note: this
operation uses information from cyrus.cache files so it does
not need to read every single message file.</p>

<p style="margin-top: 1em">-R Recalculate counts of
messages stored in existing conversations in the
conversations database for user userid. This is a limited
subset of -b; in particular it does not <br>
create conversations or assign messages to
conversations.</p>

<p style="margin-top: 1em">EXAMPLES <br>
[NB: Examples needed]</p>

<p style="margin-top: 1em">HISTORY <br>
This command was introduced in version 3.0.</p>

<p style="margin-top: 1em">FILES <br>
/etc/imapd.conf,
&lt;configurationdir&gt;/conversations.db</p>

<p style="margin-top: 1em">SEE ALSO <br>
imapd.conf(5), master(8)</p>

<p style="margin-top: 1em">AUTHOR <br>
The Cyrus Team, Nic Bernstein (Onlight)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
1993-2017, The Cyrus Team</p>

<p style="margin-top: 1em">3.0.3 August 11, 2017
CTL_CONVERSATIONSDB(8)</p>
<hr>
</body>
</html>
