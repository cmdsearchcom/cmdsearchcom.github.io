<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opendmarc-reports(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opendmarc-reports(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">opendmarc-reports(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>opendmarc-reports</b> - OpenDMARC aggregate report generation tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>opendmarc-reports</b> [options]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>opendmarc-reports</b> pulls data from an OpenDMARC database and generates
  periodic aggregate reports. The database is populated by a running
  <b>opendmarc-import(8)</b> on a message history file generated by an
  <b>opendmarc(8)</b> filter as messages arrive and are processed. This includes
  the collection of reporting URIs, which this script uses to make reports
  available to those that request them.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--day</i></dt>
  <dd class="It-tag">Generate reports on day boundaries. Overrides the value of
      <i>--interval</i> (see below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--dbhost=hostname</i></dt>
  <dd class="It-tag">Specifies the hostname on which the SQL server is running.
      Defaults to the value of the environment variable OPENDMARC_DBHOST, or
      &quot;localhost&quot; if the environment variable is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--dbname=name</i></dt>
  <dd class="It-tag">Specifies the SQL database name to be accessed. Defaults to
      the value of the environment variable OPENDMARC_DB, or
      &quot;opendmarc&quot; if the environment variable is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--dbpasswd=password</i></dt>
  <dd class="It-tag">Specifies the password for the SQL database to be accessed.
      Defaults to the value of the environment variable OPENDMARC_PASSWORD, or
      &quot;opendmarc&quot; if the environment variable is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--dbport=port</i></dt>
  <dd class="It-tag">Specifies the TCP port on which the SQL server is expected
      to be listening. Defaults to the value of the environment variable
      OPENDMARC_PORT, or 3306 if the environment variable is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--dbuser=user</i></dt>
  <dd class="It-tag">Specifies the SQL user to be used to access the database.
      Defaults to the value of the environment variable OPENDMARC_USER, or
      &quot;opendmarc&quot; if the environment variable is not set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--domain=name</i></dt>
  <dd class="It-tag">Generates a report (if one is due) for the named domain,
      rather than checking all of them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--help</i></dt>
  <dd class="It-tag">Prints a help message and terminates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--interval=secs</i></dt>
  <dd class="It-tag">Generates reports only for hosts that have not had a report
      generated in at least the last <i>secs</i> seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--nodomain=name</i></dt>
  <dd class="It-tag">Skips generating a report for the named domain. Can be
      specified multiple times to skip multiple reporting domains.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--noupdate</i></dt>
  <dd class="It-tag">Suppresses marking the time of the transmission of the
      report in the database. Normally this would be done to prevent reports
      from being sent too close together.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--report-email=addr</i></dt>
  <dd class="It-tag">Generates reports using the specified address, which is
      used in the report content and in the SMTP transaction. The default is
      &quot;postmaster@HOSTNAME&quot; where HOSTNAME is replaced by the hostname
      of the host generating the report.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--report-org=domain</i></dt>
  <dd class="It-tag">Generates reports using the specified domain name as the
      organization responsible for the report. This is used to create the
      archive filename and is included in the report content. The default is the
      hostname of the host generating the report.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--smtp-host=host</i></dt>
  <dd class="It-tag">Causes reports to be sent by transmitting them using SMTP
      to the named <i>host</i> which can be an IP address or a hostname. The
      default is &quot;127.0.0.1&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--smtp-port=port</i></dt>
  <dd class="It-tag">Causes reports to be sent by transmitting them using SMTP
      to the specified <i>port.</i> The default is 25.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--utc</i></dt>
  <dd class="It-tag">Instructs the database to change to the UTC timezone when
      generating output. Otherwise, the database default is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--verbose</i></dt>
  <dd class="It-tag">Increase the amount of verbosity written to standard
      output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--version</i></dt>
  <dd class="It-tag">Print version number and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page covers the version of <i>opendmarc-reports</i> that shipped with
  version 1.3.2 of <i>OpenDMARC.</i>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2012, 2014, 2015, The Trusted Domain Project. All rights reserved.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>opendmarc(8),</i> <i>opendmarc.conf(5),</i> <i>opendmarc-import(8)</i></div>
<table class="foot">
  <tr>
    <td class="foot-date">The Trusted Domain Project</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
