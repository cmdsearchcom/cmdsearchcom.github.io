<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PACEMAKER(8) System Administration Utilities
PACEMAKER(8)</p>

<p style="margin-top: 1em">NAME <br>
Pacemaker - Part of the Pacemaker cluster resource
manager</p>

<p style="margin-top: 1em">SYNOPSIS <br>
crm_simulate datasource operation [additional options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
crm_simulate - Tool for simulating the cluster&rsquo;s
response to events</p>

<p style="margin-top: 1em">OPTIONS <br>
-?, --help <br>
This text</p>

<p style="margin-top: 1em">-$, --version <br>
Version information</p>

<p style="margin-top: 1em">-Q, --quiet <br>
Display only essentialoutput</p>

<p style="margin-top: 1em">-V, --verbose <br>
Increase debug output</p>

<p style="margin-top: 1em">Operations: <br>
-R, --run <br>
Determine the cluster&rsquo;s response to the given
configuration and status</p>

<p style="margin-top: 1em">-S, --simulate Simulate the
transition&rsquo;s execution and display the resulting
cluster status</p>

<p style="margin-top: 1em">-X, --in-place Simulate the
transition&rsquo;s execution and store the result back to
the input file</p>

<p style="margin-top: 1em">-s, --show-scores <br>
Show allocation scores</p>

<p style="margin-top: 1em">-U, --show-utilization Show
utilization information</p>

<p style="margin-top: 1em">-P, --profile=value <br>
Run all tests in the named directory to create profiling
data</p>

<p style="margin-top: 1em">-j, --pending <br>
Display pending state if &rsquo;record-pending&rsquo; is
enabled</p>

<p style="margin-top: 1em">Synthetic Cluster Events: <br>
-u, --node-up=value <br>
Bring a node online</p>

<p style="margin-top: 1em">-d, --node-down=value <br>
Take a node offline</p>

<p style="margin-top: 1em">-f, --node-fail=value <br>
Mark a node as failed</p>

<p style="margin-top: 1em">-i, --op-inject=value <br>
Generate a failure for the cluster to react to in the
simulation</p>

<p style="margin-top: 1em">Value is of the form
${resource}_${task}_${interval}@${node}=${rc}. Eg.
memcached_monitor_20000@bart.example.com=7 For more
information on OCF return codes, refer to: <br>

http://www.clusterlabs.org/doc/en-US/Pacemaker/1.1/html/Pacemaker_Explained/s-ocf-return-codes.html</p>

<p style="margin-top: 1em">-F, --op-fail=value <br>
If the specified task occurs during the simulation, have it
fail with return code ${rc}</p>

<p style="margin-top: 1em">Value is of the form
${resource}_${task}_${interval}@${node}=${rc}. Eg.
memcached_stop_0@bart.example.com=1</p>

<p style="margin-top: 1em">The transition will normally
stop at the failed action. <br>
Save the result with --save-output and re-run with
--xml-file</p>

<p style="margin-top: 1em">-t, --set-datetime=value <br>
Set date/time</p>

<p style="margin-top: 1em">-q, --quorum=value <br>
Specify a value for quorum</p>

<p style="margin-top: 1em">-w, --watchdog=value <br>
Assume a watchdog device is active</p>

<p style="margin-top: 1em">-g, --ticket-grant=value <br>
Grant a ticket</p>

<p style="margin-top: 1em">-r, --ticket-revoke=value <br>
Revoke a ticket</p>

<p style="margin-top: 1em">-b, --ticket-standby=value <br>
Make a ticket standby</p>

<p style="margin-top: 1em">-e, --ticket-activate=value <br>
Activate a ticket</p>

<p style="margin-top: 1em">Output Options: <br>
-I, --save-input=value <br>
Save the input configuration to the named file</p>

<p style="margin-top: 1em">-O, --save-output=value <br>
Save the output configuration to the named file</p>

<p style="margin-top: 1em">-G, --save-graph=value <br>
Save the transition graph (XML format) to the named file</p>

<p style="margin-top: 1em">-D, --save-dotfile=value <br>
Save the transition graph (DOT format) to the named file</p>

<p style="margin-top: 1em">-a, --all-actions <br>
Display all possible actions in the DOT graph - even ones
not part of the transition</p>

<p style="margin-top: 1em">Data Source: <br>
-L, --live-check <br>
Connect to the CIB and use the current contents as input</p>

<p style="margin-top: 1em">-x, --xml-file=value <br>
Retrieve XML from the named file</p>

<p style="margin-top: 1em">-p, --xml-pipe <br>
Retrieve XML from stdin</p>

<p style="margin-top: 1em">EXAMPLES <br>
Pretend a recurring monitor action found memcached stopped
on node fred.example.com and, during recovery, that the
memcached stop action failed</p>

<p style="margin-top: 1em"># crm_simulate -LS --op-inject
memcached:0_monitor_20000@bart.example.com=7 --op-fail
memcached:0_stop_0@fred.example.com=1 --save-output
/tmp/memcached-test.xml</p>

<p style="margin-top: 1em">Now see what the reaction to the
stop failure would be</p>

<p style="margin-top: 1em"># crm_simulate -S --xml-file
/tmp/memcached-test.xml</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Andrew Beekhof</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to pacemaker@oss.clusterlabs.org</p>

<p style="margin-top: 1em">Pacemaker 1.1.15-11.el7_3.5 June
2017 PACEMAKER(8)</p>
<hr>
</body>
</html>
