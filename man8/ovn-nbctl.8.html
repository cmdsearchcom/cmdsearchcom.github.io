<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ovn-nbctl(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ovn-nbctl(8)</td>
    <td class="head-vol">Open vSwitch Manual</td>
    <td class="head-rtitle">ovn-nbctl(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ovn-nbctl - Open Virtual Network northbound db management utility
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ovn-nbctl</b> [<i>options</i>] <i>command</i> [<i>arg</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This utility can be used to manage the OVN northbound database
<h1 class="Sh" title="Sh" id="GENERAL_COMMANDS"><a class="selflink" href="#GENERAL_COMMANDS">GENERAL
  COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>init</b></dt>
  <dd class="It-tag">Initializes the database, if it is empty If the database
      has already been initialized, this command has no effect</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>show [</b><i>switch</i><b> |
    </b><i>router</i><b>]</b></dt>
  <dd class="It-tag">Prints a brief overview of the database contents If
      <i>switch</i> is provided, only records related to that logical switch are
      shown If <i>router</i> is provided, only records related to that logical
      router are shown</dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGICAL_SWITCH_COMMANDS"><a class="selflink" href="#LOGICAL_SWITCH_COMMANDS">LOGICAL
  SWITCH COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ls-add</b></dt>
  <dd class="It-tag">Creates a new, unnamed logical switch, which initially has
      no ports The switch does not have a name, other commands must refer to
      this switch by its UUID</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b> | <b>--add-duplicate</b>] <b>ls-add</b>
    <i>switch</i></dt>
  <dd class="It-tag">Creates a new logical switch named <i>switch</i>, which
      initially has no ports</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The OVN northbound database schema does not require logical
      switch names to be unique, but the whole point to the names is to provide
      an easy way for humans to refer to the switches, making duplicate names
      unhelpful Thus, without any options, this command regards it as an error
      if <i>switch</i> is a duplicate name With <b>--may-exist</b>, adding a
      duplicate name succeeds but does not create a new logical switch With
      <b>--add-duplicate</b>, the command really creates a new logical switch
      with a duplicate name It is an error to specify both options If there are
      multiple logical switches with a duplicate name, configure the logical
      switches using the UUID instead of the <i>switch</i> name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>ls-del</b> <i>switch</i></dt>
  <dd class="It-tag">Deletes <i>switch</i> It is an error if <i>switch</i> does
      not exist, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ls-list</b></dt>
  <dd class="It-tag">Lists all existing switches on standard output, one per
      line</dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGICAL_SWITCH_ACL_COMMANDS"><a class="selflink" href="#LOGICAL_SWITCH_ACL_COMMANDS">LOGICAL
  SWITCH ACL COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--log</b>] <b>acl-add</b> <i>switch</i>
    <i>direction</i> <i>priority</i> <i>match</i> <i>action</i></dt>
  <dd class="It-tag">Adds the specified ACL to <i>switch</i> <i>direction</i>
      must be either <b>from-lport</b> or <b>to-lport</b> <i>priority</i> must
      be between <b>0</b> and <b>32767</b>, inclusive If <b>--log</b> is
      specified, packet logging is enabled for the ACL A full description of the
      fields are in <b>ovn-nb</b>(5)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>acl-del</b> <i>switch</i> [<i>direction</i>
    [<i>priority</i> <i>match</i>]]</dt>
  <dd class="It-tag">Deletes ACLs from <i>switch</i> If only <i>switch</i> is
      supplied, all the ACLs from the logical switch are deleted If
      <i>direction</i> is also specified, then all the flows in that direction
      will be deleted from the logical switch If all the fields are given, then
      a single flow that matches all the fields will be deleted</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>acl-list</b> <i>switch</i></dt>
  <dd class="It-tag">Lists the ACLs on <i>switch</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGICAL_SWITCH_PORT_COMMANDS"><a class="selflink" href="#LOGICAL_SWITCH_PORT_COMMANDS">LOGICAL
  SWITCH PORT COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] <b>lsp-add</b> <i>switch</i>
    <i>port</i></dt>
  <dd class="It-tag">Creates on <i>lswitch</i> a new logical switch port named
      <i>port</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if a logical port named <i>port</i> already
      exists, unless <b>--may-exist</b> is specified Regardless of
      <b>--may-exist</b>, it is an error if the existing port is in some logical
      switch other than <i>switch</i> or if it has a parent port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] <b>lsp-add</b> <i>switch</i>
    <i>port</i> <i>parent</i> <i>tag_request</i></dt>
  <dd class="It-tag">Creates on <i>switch</i> a logical switch port named
      <i>port</i> that is a child of <i>parent</i> that is identified with VLAN
      ID <i>tag_request</i>, which must be between <b>0</b> and <b>4095</b>,
      inclusive If <i>tag_request</i> is <b>0</b>, <b>ovn-northd</b> generates a
      tag that is unique in the scope of <i>parent</i> This is useful in cases
      such as virtualized container environments where Open vSwitch does not
      have a direct connection to the container&#x2019;s port and it must be
      shared with the virtual machine&#x2019;s port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if a logical port named <i>port</i> already
      exists, unless <b>--may-exist</b> is specified Regardless of
      <b>--may-exist</b>, it is an error if the existing port is not in
      <i>switch</i> or if it does not have the specified <i>parent</i> and
      <i>tag_request</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lsp-del</b> <i>port</i></dt>
  <dd class="It-tag">Deletes <i>port</i> It is an error if <i>port</i> does not
      exist, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-list</b> <i>switch</i></dt>
  <dd class="It-tag">Lists all the logical switch ports within <i>switch</i> on
      standard output, one per line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-parent</b> <i>port</i></dt>
  <dd class="It-tag">If set, get the parent port of <i>port</i> If not set,
      print nothing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-tag</b> <i>port</i></dt>
  <dd class="It-tag">If set, get the tag for <i>port</i> traffic If not set,
      print nothing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-set-addresses</b> <i>port</i> [<i>address</i>]</dt>
  <dd class="It-tag">Sets the addresses associated with <i>port</i> to
      <i>address</i> Each <i>address</i> should be one of the following:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">an Ethernet address, optionally followed by a space and one
    or more IP addresses</dt>
  <dd class="It-tag">OVN delivers packets for the Ethernet address to this
    port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unknown</b></dt>
  <dd class="It-tag">OVN delivers unicast Ethernet packets whose destination MAC
      address is not in any logical port&#x2019;s addresses column to ports with
      address <b>unknown</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dynamic</b></dt>
  <dd class="It-tag">Use this keyword to make <b>ovn-northd</b> generate a
      globally unique MAC address and choose an unused IPv4 address with the
      logical port&#x2019;s subnet and store them in the port&#x2019;s
      <b>dynamic_addresses</b> column</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>router</b></dt>
  <dd class="It-tag">Accepted only when the <b>type</b> of the logical switch
      port is <b>router</b> This indicates that the Ethernet, IPv4, and IPv6
      addresses for this logical switch port should be obtained from the
      connected logical router port, as specified by <b>router-port</b> in
      <b>lsp-set-options</b></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Multiple addresses may be set If no <i>address</i> argument
      is given, <i>port</i> will have no addresses associated with it</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-addresses</b> <i>port</i></dt>
  <dd class="It-tag">Lists all the addresses associated with <i>port</i> on
      standard output, one per line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-set-port-security</b> <i>port</i>
    [<i>addrs</i>]</dt>
  <dd class="It-tag">Sets the port security addresses associated with
      <i>port</i> to <i>addrs</i> Multiple sets of addresses may be set by using
      multiple <i>addrs</i> arguments If no <i>addrs</i> argument is given,
      <i>port</i> will not have port security enabled</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Port security limits the addresses from which a logical
      port may send packets and to which it may receive packets See the
      <b>ovn-nb</b>(5) documentation for the <b>port_security</b> column in the
      <b>Logical_Switch_Port</b> table for details</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-port-security</b> <i>port</i></dt>
  <dd class="It-tag">Lists all the port security addresses associated with
      <i>port</i> on standard output, one per line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-up</b> <i>port</i></dt>
  <dd class="It-tag">Prints the state of <i>port</i>, either <b>up</b> or
      <b>down</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-set-enabled</b> <i>port</i> <i>state</i></dt>
  <dd class="It-tag">Set the administrative state of <i>port</i>, either
      <b>enabled</b> or <b>disabled</b> When a port is disabled, no traffic is
      allowed into or out of the port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-enabled</b> <i>port</i></dt>
  <dd class="It-tag">Prints the administrative state of <i>port</i>, either
      <b>enabled</b> or <b>disabled</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-set-type</b> <i>port</i> <i>type</i></dt>
  <dd class="It-tag">Set the type for the logical port No special types have
      been implemented yet</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-type</b> <i>port</i></dt>
  <dd class="It-tag">Get the type for the logical port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-set-options</b> <i>port</i> [<i>key=value</i>]</dt>
  <dd class="It-tag">Set type-specific key-value options for the logical
    port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lsp-get-options</b> <i>port</i></dt>
  <dd class="It-tag">Get the type-specific options for the logical port</dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGICAL_ROUTER_COMMANDS"><a class="selflink" href="#LOGICAL_ROUTER_COMMANDS">LOGICAL
  ROUTER COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lr-add</b></dt>
  <dd class="It-tag">Creates a new, unnamed logical router, which initially has
      no ports The router does not have a name, other commands must refer to
      this router by its UUID</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b> | <b>--add-duplicate</b>] <b>lr-add</b>
    <i>router</i></dt>
  <dd class="It-tag">Creates a new logical router named <i>router</i>, which
      initially has no ports</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The OVN northbound database schema does not require logical
      router names to be unique, but the whole point to the names is to provide
      an easy way for humans to refer to the routers, making duplicate names
      unhelpful Thus, without any options, this command regards it as an error
      if <i>router</i> is a duplicate name With <b>--may-exist</b>, adding a
      duplicate name succeeds but does not create a new logical router With
      <b>--add-duplicate</b>, the command really creates a new logical router
      with a duplicate name It is an error to specify both options If there are
      multiple logical routers with a duplicate name, configure the logical
      routers using the UUID instead of the <i>router</i> name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lr-del</b> <i>router</i></dt>
  <dd class="It-tag">Deletes <i>router</i> It is an error if <i>router</i> does
      not exist, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lr-list</b></dt>
  <dd class="It-tag">Lists all existing routers on standard output, one per
    line</dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGICAL_ROUTER_PORT_COMMANDS"><a class="selflink" href="#LOGICAL_ROUTER_PORT_COMMANDS">LOGICAL
  ROUTER PORT COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] <b>lrp-add</b> <i>router</i>
    <i>port</i> <i>mac</i> <i>network</i> [<b>peer=</b><i>peer</i>]</dt>
  <dd class="It-tag">Creates on <i>router</i> a new logical router port named
      <i>port</i> with Ethernet address <i>mac</i> and one or more IP
      address/netmask for each <i>network</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The optional argument <b>peer</b> identifies a logical
      router port that connects to this one The following example adds a router
      port with an IPv4 and IPv6 address with peer <b>lr1</b>:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>lrp-add lr0 lrp0 00:11:22:33:44:55 19216801/24
      2001:db8::1/64 peer=lr1</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if a logical router port named <i>port</i>
      already exists, unless <b>--may-exist</b> is specified Regardless of
      <b>--may-exist</b>, it is an error if the existing router port is in some
      logical router other than <i>router</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lrp-del</b> <i>port</i></dt>
  <dd class="It-tag">Deletes <i>port</i> It is an error if <i>port</i> does not
      exist, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lrp-list</b> <i>router</i></dt>
  <dd class="It-tag">Lists all the logical router ports within <i>router</i> on
      standard output, one per line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lrp-set-enabled</b> <i>port</i> <i>state</i></dt>
  <dd class="It-tag">Set the administrative state of <i>port</i>, either
      <b>enabled</b> or <b>disabled</b> When a port is disabled, no traffic is
      allowed into or out of the port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lrp-get-enabled</b> <i>port</i></dt>
  <dd class="It-tag">Prints the administrative state of <i>port</i>, either
      <b>enabled</b> or <b>disabled</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGICAL_ROUTER_STATIC_ROUTE_COMMANDS"><a class="selflink" href="#LOGICAL_ROUTER_STATIC_ROUTE_COMMANDS">LOGICAL
  ROUTER STATIC ROUTE COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] [<b>--policy</b>=<i>POLICY</i>]
    <b>lr-route-add</b> <i>router</i> <i>prefix</i> <i>nexthop</i>
    [<i>port</i>]</dt>
  <dd class="It-tag">Adds the specified route to <i>router</i> <i>prefix</i>
      describes an IPv4 or IPv6 prefix for this route, such as
      <b>1921681000/24</b> <i>nexthop</i> specifies the gateway to use for this
      route, which should be the IP address of one of <i>router</i> logical
      router ports or the IP address of a logical port If <i>port</i> is
      specified, packets that match this route will be sent out that port When
      <i>port</i> is omitted, OVN infers the output port based on
    <i>nexthop</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>--policy</b> describes the policy used to make routing
      decisions This should be one of &quot;dst-ip&quot; or &quot;src-ip&quot;
      If not specified, the default is &quot;dst-ip&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if a route with <i>prefix</i> already
      exists, unless <b>--may-exist</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lr-route-del</b> <i>router</i>
    [<i>prefix</i>]</dt>
  <dd class="It-tag">Deletes routes from <i>router</i> If only <i>router</i> is
      supplied, all the routes from the logical router are deleted If
      <i>prefix</i> is also specified, then all the routes that match the prefix
      will be deleted from the logical router</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if <i>prefix</i> is specified and there is
      no matching route entry, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lr-route-list</b> <i>router</i></dt>
  <dd class="It-tag">Lists the routes on <i>router</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="NAT_COMMANDS"><a class="selflink" href="#NAT_COMMANDS">NAT
  COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] <b>lr-nat-add</b> <i>router</i>
    <i>type</i> <i>external_ip</i> <i>logical_ip</i> [<i>logical_port</i>
    <i>external_mac</i>]</dt>
  <dd class="It-tag">Adds the specified NAT to <i>router</i> The <i>type</i>
      must be one of <b>snat</b>, <b>dnat</b>, or <b>dnat_and_snat</b> The
      <i>external_ip</i> is an IPv4 address The <i>logical_ip</i> is an IPv4
      network (eg 19216810/24) or an IPv4 address The <i>logical_port</i> and
      <i>external_mac</i> are only accepted when <i>router</i> is a distributed
      router (rather than a gateway router) and <i>type</i> is
      <b>dnat_and_snat</b> The <i>logical_port</i> is the name of an existing
      logical switch port where the <i>logical_ip</i> resides The
      <i>external_mac</i> is an Ethernet address</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When <i>type</i> is <b>dnat</b>, the externally visible IP
      address <i>external_ip</i> is DNATted to the IP address <i>logical_ip</i>
      in the logical space</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When <i>type</i> is <b>snat</b>, IP packets with their
      source IP address that either matches the IP address in <i>logical_ip</i>
      or is in the network provided by <i>logical_ip</i> is SNATed into the IP
      address in <i>external_ip</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When <i>type</i> is <b>dnat_and_snat</b>, the externally
      visible IP address <i>external_ip</i> is DNATted to the IP address
      <i>logical_ip</i> in the logical space In addition, IP packets with the
      source IP address that matches <i>logical_ip</i> is SNATed into the IP
      address in <i>external_ip</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When the <i>logical_port</i> and <i>external_mac</i> are
      specified, the NAT rule will be programmed on the chassis where the
      <i>logical_port</i> resides This includes ARP replies for the
      <i>external_ip</i>, which return the value of <i>external_mac</i> All
      packets transmitted with source IP address equal to <i>external_ip</i>
      will be sent using the <i>external_mac</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if a NAT already exists with the same values
      of <i>router</i>, <i>type</i>, <i>external_ip</i>, and <i>logical_ip</i>,
      unless <b>--may-exist</b> is specified When <b>--may-exist</b>,
      <i>logical_port</i>, and <i>external_mac</i> are all specified, the
      existing values of <i>logical_port</i> and <i>external_mac</i> are
      overwritten</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lr-nat-del</b> <i>router</i>
    [<i>type</i> [ <i>ip</i>]]</dt>
  <dd class="It-tag">Deletes NATs from <i>router</i> If only <i>router</i> is
      supplied, all the NATs from the logical router are deleted If <i>type</i>
      is also specified, then all the NATs that match the <i>type</i> will be
      deleted from the logical router If all the fields are given, then a single
      NAT rule that matches all the fields will be deleted When <i>type</i> is
      <b>snat</b>, the <i>ip</i> should be logical_ip When <i>type</i> is
      <b>dnat</b> or <b>dnat_and_snat</b>, the <i>ip</i> shoud be
    external_ip</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if <i>ip</i> is specified and there is no
      matching NAT entry, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lr-nat-list</b> <i>router</i></dt>
  <dd class="It-tag">Lists the NATs on <i>router</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="LOAD_BALANCER_COMMANDS"><a class="selflink" href="#LOAD_BALANCER_COMMANDS">LOAD
  BALANCER COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b> | <b>--add-duplicate</b>] <b>lb-add</b>
    <i>lb</i> <i>vip</i> <i>ips</i> [<i>protocol</i>]</dt>
  <dd class="It-tag">Creates a new load balancer named <i>lb</i> with the
      provided <i>vip</i> and <i>ips</i> or adds the <i>vip</i> to an existing
      <i>lb</i> <i>vip</i> should be a virtual IPv4 address (or an IPv4 address
      and a port number with <b>:</b> as a separator) Examples for <i>vip</i>
      are <b>19216814</b> and <b>19216815:8080</b> <i>ips</i> should be comma
      separated IPv4 endpoints (or comma separated IPv4 addresses and port
      numbers with <b>:</b> as a separator) Examples for <i>ips</i> are
      <b>10001,10002</b> <b></b>or <b>200010:8800,200011:8800</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The optional argument <i>protocol</i> must be either
      <b>tcp</b> or <b>udp</b> This argument is useful when a port number is
      provided as part of the <i>vip</i> If the <i>protocol</i> is unspecified
      and a port number is provided as part of the <i>vip</i>, OVN assumes the
      <i>protocol</i> to be <b>tcp</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is an error if the <i>vip</i> already exists in the load
      balancer named <i>lb</i>, unless <b>--may-exist</b> is specified With
      <b>--add-duplicate</b>, the command really creates a new load balancer
      with a duplicate name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The following example adds a load balancer</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>lb-add lb0 300010:80</b>
      <b>1921681010:80,1921681020:80,1921681030:80 udp</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lb-del</b> <i>lb</i>
    [<i>vip</i>]</dt>
  <dd class="It-tag">Deletes <i>lb</i> or the <i>vip</i> from <i>lb</i> If
      <i>vip</i> is supplied, only the <i>vip</i> will be deleted from the
      <i>lb</i> If only the <i>lb</i> is supplied, the <i>lb</i> will be deleted
      It is an error if <i>vip</i> does not already exist in <i>lb</i>, unless
      <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lb-list</b> [<i>lb</i>]</dt>
  <dd class="It-tag">Lists the LBs If <i>lb</i> is also specified, then only the
      specified <i>lb</i> will be listed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] <b>ls-lb-add</b> <i>switch</i>
    <i>lb</i></dt>
  <dd class="It-tag">Adds the specified <i>lb</i> to <i>switch</i> It is an
      error if a load balancer named <i>lb</i> already exists in the
      <i>switch</i>, unless <b>--may-exist</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>ls-lb-del</b> <i>switch</i>
    [<i>lb</i>]</dt>
  <dd class="It-tag">Removes <i>lb</i> from <i>switch</i> If only <i>switch</i>
      is supplied, all the LBs from the logical switch are removed If <i>lb</i>
      is also specified, then only the <i>lb</i> will be removed from the
      logical switch It is an error if <i>lb</i> does not exist in the
      <i>switch</i>, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ls-lb-list</b> <i>switch</i></dt>
  <dd class="It-tag">Lists the LBs for the given <i>switch</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--may-exist</b>] <b>lr-lb-add</b> <i>router</i>
    <i>lb</i></dt>
  <dd class="It-tag">Adds the specified <i>lb</i> to <i>router</i> It is an
      error if a load balancer named <i>lb</i> already exists in the
      <i>router</i>, unless <b>--may-exist</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>lr-lb-del</b> <i>router</i>
    [<i>lb</i>]</dt>
  <dd class="It-tag">Removes <i>lb</i> from <i>router</i> If only <i>router</i>
      is supplied, all the LBs from the logical router are removed If <i>lb</i>
      is also specified, then only the <i>lb</i> will be removed from the
      logical router It is an error if <i>lb</i> does not exist in the
      <i>router</i>, unless <b>--if-exists</b> is specified</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lr-lb-list</b> <i>router</i></dt>
  <dd class="It-tag">Lists the LBs for the given <i>router</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DHCP_OPTIONS_COMMANDS"><a class="selflink" href="#DHCP_OPTIONS_COMMANDS">DHCP
  OPTIONS COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dhcp-options-create</b> <i>cidr</i>
    [<i>key=value</i>]</dt>
  <dd class="It-tag">Creates a new DHCP Options entry in the <b>DHCP_Options</b>
      table with the specified <b>cidr</b> and optional <b>external-ids</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dhcp-options-list</b></dt>
  <dd class="It-tag">Lists the DHCP Options entries</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dhcp-options-del</b> <i>dhcp-option</i></dt>
  <dd class="It-tag">Deletes the DHCP Options entry referred by
      <i>dhcp-option</i> UUID</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dhcp-options-set-options</b> <i>dhcp-option</i>
    [<i>key=value</i>]</dt>
  <dd class="It-tag">Set the DHCP Options for the <i>dhcp-option</i> UUID</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dhcp-options-get-options</b> <i>dhcp-option</i></dt>
  <dd class="It-tag">Lists the DHCP Options for the <i>dhcp-option</i> UUID</dd>
</dl>
<h1 class="Sh" title="Sh" id="DATABASE_COMMANDS"><a class="selflink" href="#DATABASE_COMMANDS">DATABASE
  COMMANDS</a></h1>
These commands query and modify the contents of <b>ovsdb</b> tables They are a
  slight abstraction of the <b>ovsdb</b> interface and as suchthey operate at a
  lower level than other <b>ovn-nbctl</b> commands
<div class="Pp"></div>
<i>Identifying Tables, Records, and Columns</i>
<div class="Pp"></div>
Each of these commands has a <i>table</i> parameter to identify a table within
  the database Many of them also take a <i>record</i> parameter that identifies
  a particular record within a table The <i>record</i> parameter may be the UUID
  for a record, and many tables offer additional ways to identify records Some
  commands also take <i>column</i> parameters that identify a particular field
  within the records in a table
<div class="Pp"></div>
The following tables are currently defined:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Logical_Switch</b></dt>
  <dd class="It-tag">An L2 logical switch Records may be identified by name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Logical_Switch_Port</b></dt>
  <dd class="It-tag">A port within an L2 logical switch Records may be
      identified by name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ACL</b></dt>
  <dd class="It-tag">An ACL rule for a logical switch that points to it through
      its <i>acls</i> column</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Logical_Router</b></dt>
  <dd class="It-tag">An L3 logical router Records may be identified by name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Logical_Router_Port</b></dt>
  <dd class="It-tag">A port within an L3 logical router Records may be
      identified by name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Logical_Router_Static_Route</b></dt>
  <dd class="It-tag">A static route belonging to an L3 logical router</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Address_Set</b></dt>
  <dd class="It-tag">An address set that can be used in ACLs</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Load_Balancer</b></dt>
  <dd class="It-tag">A load balancer for a logical switch that points to it
      through its <i>load_balancer</i> column</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NAT</b></dt>
  <dd class="It-tag">A NAT rule for a Gateway router</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DHCP_Options</b></dt>
  <dd class="It-tag">DHCP options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NB_Global</b></dt>
  <dd class="It-tag">North bound global configurations</dd>
</dl>
</div>
<div class="Pp"></div>
<i>Database Values</i>
<div class="Pp"></div>
Each column in the database accepts a fixed type of data The currently defined
  basic types, and their representations, are:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">integer</dt>
  <dd class="It-tag">A decimal integer in the range -2**63 to 2**63-1,
    inclusive</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">real</dt>
  <dd class="It-tag">A floating-point number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Boolean</dt>
  <dd class="It-tag">True or false, written <b>true</b> or <b>false</b>,
      respectively</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">string</dt>
  <dd class="It-tag">An arbitrary Unicode string, except that null bytes are not
      allowed Quotes are optional for most strings that begin with an English
      letter or underscore and consist only of letters, underscores, hyphens,
      and periods However, <b>true</b> and <b>false</b> and strings that match
      the syntax of UUIDs (see below) must be enclosed in double quotes to
      distinguish them from other basic types When double quotes are used, the
      syntax is that of strings in JSON, eg backslashes may be used to escape
      special characters The empty string must be represented as a pair of
      double quotes ( <b>&quot;&quot;</b>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">UUID</dt>
  <dd class="It-tag">Either a universally unique identifier in the style of RFC
      4122, eg <b>f81d4fae-7dec-11d0-a765-00a0c91e6bf6</b>, or an
      <b>@</b><i>name</i> defined by a <b>get</b> or <b>create</b> command
      within the same <b>ovn-nbctl</b> invocation</dd>
</dl>
</div>
<div class="Pp"></div>
Multiple values in a single column may be separated by spaces or a single comma
  When multiple values are present, duplicates are not allowed, and order is not
  important Conversely, some database columns can have an empty set of values,
  represented as <b>[]</b>, and square brackets may optionally enclose other
  non-empty sets or single values as well
<div class="Pp"></div>
A few database columns are ``maps&#x2019;&#x2019; of key-value pairs, where the
  key and the value are each some fixed database type These are specified in the
  form <i>key</i><b>=</b><i>value</i>, where <i>key</i> and <i>value</i> follow
  the syntax for the column&#x2019;s key type and value type, respectively When
  multiple pairs are present (separated by spaces or a comma), duplicate keys
  are not allowed, and again the order is not important Duplicate values are
  allowed An empty map is represented as <b>{}</b> Curly braces may optionally
  enclose non-empty maps as well (but use quotes to prevent the shell from
  expanding <b>other-config={0=x,1=y}</b> into <b>other-config=0=x</b>
  <b>other-config=1=y</b>, which may not have the desired effect)
<div class="Pp"></div>
<i>Database Command Syntax</i>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>]
    [<b>--columns=</b><i>column</i>[<b>,</b> <i>column</i>]] <b>list</b>
    <i>table</i> [ <i>record</i>]</dt>
  <dd class="It-tag">Lists the data in each specified <i>record</i> If no
      records are specified, lists all the records in <i>table</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <b>--columns</b> is specified, only the requested
      columns are listed, in the specified order Otherwise, all columns are
      listed, in alphabetical order by column name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Without <b>--if-exists</b>, it is an error if any specified
      <i>record</i> does not exist With <b>--if-exists</b>, the command ignores
      any <i>record</i> that does not exist, without producing any output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--columns=</b><i>column</i>[<b>,</b><i>column</i>]]
    <b>find</b> <i>table</i>
    [<i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>]</dt>
  <dd class="It-tag">Lists the data in each record in <i>table</i> whose
      <i>column</i> equals <i>value</i> or, if <i>key</i> is specified, whose
      <i>column</i> contains a <i>key</i> with the specified <i>value</i> The
      following operators may be used where <b>=</b> is written in the syntax
      summary:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>= != &lt; &gt; &lt;= &gt;=</b></dt>
  <dd class="It-tag">Selects records in which <i>column</i>[<b>:</b><i>key</i>]
      equals, does not equal, is less than, is greater than, is less than or
      equal to, or is greater than or equal to <i>value</i>, respectively</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Consider <i>column</i>[<b>:</b><i>key</i>] and <i>value</i>
      as sets of elements Identical sets are considered equal Otherwise, if the
      sets have different numbers of elements, then the set with more elements
      is considered to be larger Otherwise, consider a element from each set
      pairwise, in increasing order within each set The first pair that differs
      determines the result (For a column that contains key-value pairs, first
      all the keys are compared, and values are considered only if the two sets
      contain identical keys)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{=} {!=}</b></dt>
  <dd class="It-tag">Test for set equality or inequality, respectively</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{&lt;=}</b></dt>
  <dd class="It-tag">Selects records in which <i>column</i>[<b>:</b><i>key</i>]
      is a subset of <i>value</i> For example, <b>flood-vlans{&lt;=}1,2</b>
      selects records in which the <b>flood-vlans</b> column is the empty set or
      contains 1 or 2 or both</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{&lt;}</b></dt>
  <dd class="It-tag">Selects records in which <i>column</i>[<b>:</b><i>key</i>]
      is a proper subset of <i>value</i> For example,
      <b>flood-vlans{&lt;}1,2</b> selects records in which the
      <b>flood-vlans</b> column is the empty set or contains 1 or 2 but not
    both</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{&gt;=} {&gt;}</b></dt>
  <dd class="It-tag">Same as <b>{&lt;=}</b> and <b>{&lt;}</b>, respectively,
      except that the relationship is reversed For example,
      <b>flood-vlans{&gt;=}1,2</b> selects records in which the
      <b>flood-vlans</b> column contains both 1 and 2</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For arithmetic operators (<b>= != &lt; &gt; &lt;=
      &gt;=</b>), when <i>key</i> is specified but a particular record&#x2019;s
      <i>column</i> does not contain <i>key</i>, the record is always omitted
      from the results Thus, the condition <b>other-config:mtu!=1500</b> matches
      records that have a <b>mtu</b> key whose value is not 1500, but not those
      that lack an <b>mtu</b> key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For the set operators, when <i>key</i> is specified but a
      particular record&#x2019;s <i>column</i> does not contain <i>key</i>, the
      comparison is done against an empty set Thus, the condition
      <b>other-config:mtu{!=}1500</b> matches records that have a <b>mtu</b> key
      whose value is not 1500 and those that lack an <b>mtu</b> key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Don&#x2019;t forget to escape <b>&lt;</b> or <b>&gt;</b>
      from interpretation by the shell</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <b>--columns</b> is specified, only the requested
      columns are listed, in the specified order Otherwise all columns are
      listed, in alphabetical order by column name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The UUIDs shown for rows created in the same
      <b>ovn-nbctl</b> invocation will be wrong</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] [<b>--id=@</b><i>name</i>] <b>get</b>
    <i>table record</i> [<i>column</i>[<b>:</b><i>key</i>]]</dt>
  <dd class="It-tag">Prints the value of each specified <i>column</i> in the
      given <i>record</i> in <i>table</i> For map columns, a <i>key</i> may
      optionally be specified, in which case the value associated with
      <i>key</i> in the column is printed, instead of the entire map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Without <b>--if-exists</b>, it is an error if <i>record</i>
      does not exist or <i>key</i> is specified, if <i>key</i> does not exist in
      <i>record</i> With <b>--if-exists</b>, a missing <i>record</i> yields no
      output and a missing <i>key</i> prints a blank line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <b>@</b><i>name</i> is specified, then the UUID for
      <i>record</i> may be referred to by that name later in the same
      <b>ovn-nbctl</b> invocation in contexts where a UUID is expected</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Both <b>--id</b> and the <i>column</i> arguments are
      optional, but usually at least one or the other should be specified If
      both are omitted, then <b>get</b> has no effect except to verify that
      <i>record</i> exists in <i>table</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>--id</b> and <b>--if-exists</b> cannot be used
    together</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>set</b> <i>table record
    column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i></dt>
  <dd class="It-tag">Sets the value of each specified <i>column</i> in the given
      <i>record</i> in <i>table</i> to <i>value</i> For map columns, a
      <i>key</i> may optionally be specified, in which case the value associated
      with <i>key</i> in that column is changed (or added, if none exists),
      instead of the entire map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Without <b>--if-exists</b>, it is an error if <i>record</i>
      does not exist With <b>--if-exists</b>, this command does nothing if
      <i>record</i> does not exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>add</b> <i>table record column</i>
    [ <i>key</i><b>=</b>]<i>value</i></dt>
  <dd class="It-tag">Adds the specified value or key-value pair to <i>column</i>
      in <i>record</i> in <i>table</i> If <i>column</i> is a map, then
      <i>key</i> is required, otherwise it is prohibited If <i>key</i> already
      exists in a map column, then the current <i>value</i> is not replaced (use
      the <b>set</b> command to replace an existing value)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Without <b>--if-exists</b>, it is an error if <i>record</i>
      does not exist With <b>--if-exists</b>, this command does nothing if
      <i>record</i> does not exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>remove</b> <i>table record column
    value</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[<b>--if-exists</b>] <b>remove</b> <i>table record column
      key</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[<b>--if-exists</b>] <b>remov</b> <i>table record column
      key</i> <b>=</b><i>value</i> Removes the specified values or key-value
      pairs from <i>column</i> in <i>record</i> in <i>table</i> The first form
      applies to columns that are not maps: each specified <i>value</i> is
      removed from the column The second and third forms apply to map columns:
      if only a <i>key</i> is specified, then any key-value pair with the given
      <i>key</i> is removed, regardless of its value; if a <i>value</i> is given
      then a pair is removed only if both key and value match</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is not an error if the column does not contain the
      specified key or value or pair</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Without <b>--if-exists</b>, it is an error if <i>record</i>
      does not exist With <b>--if-exists</b>, this command does nothing if
      <i>record</i> does not exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>clear</b> <i>table record
    column</i></dt>
  <dd class="It-tag">Sets each <i>column</i> in <i>record</i> in <i>table</i> to
      the empty set or empty map, as appropriate This command applies only to
      columns that are allowed to be empty</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Without <b>--if-exists</b>, it is an error if <i>record</i>
      does not exist With <b>--if-exists</b>, this command does nothing if
      <i>record</i> does not exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--id=@</b><i>name</i>] <b>create</b> <i>table
    column</i>[ <b>:</b><i>key</i>]<b>=</b><i>value</i></dt>
  <dd class="It-tag">Creates a new record in <i>table</i> and sets the initial
      values of each <i>column</i> Columns not explicitly set will receive their
      default values Outputs the UUID of the new row</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <b>@</b><i>name</i> is specified, then the UUID for the
      new row may be referred to by that name elsewhere in the same <b>\*(PN</b>
      invocation in contexts where a UUID is expected Such references may
      precede or follow the <b>create</b> command</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">Caution (ovs-vsctl as exmaple)</dt>
  <dd class="It-tag">Records in the Open vSwitch database are significant only
      when they can be reached directly or indirectly from the
      <b>Open_vSwitch</b> table Except for records in the <b>QoS</b> or
      <b>Queue</b> tables, records that are not reachable from the
      <b>Open_vSwitch</b> table are automatically deleted from the database This
      deletion happens immediately, without waiting for additional
      <b>ovs-vsctl</b> commands or other database activity Thus, a <b>create</b>
      command must generally be accompanied by additional commands <i>within the
      same</i> <b>ovs-vsctl</b> <i>invocation</i> to add a chain of references
      to the newly created record from the top-level <b>Open_vSwitch</b> record
      The <b>EXAMPLES</b> section gives some examples that show how to do
    this</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--if-exists</b>] <b>destroy</b> <i>table
    record</i></dt>
  <dd class="It-tag">Deletes each specified <i>record</i> from <i>table</i>
      Unless <b>--if-exists</b> is specified, each <i>record</i>s must
    exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--all destroy</b> <i>table</i></dt>
  <dd class="It-tag">Deletes all records from the <i>table</i></dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">Caution (ovs-vsctl as exmaple)</dt>
  <dd class="It-tag">The <b>destroy</b> command is only useful for records in
      the <b>QoS</b> or <b>Queue</b> tables Records in other tables are
      automatically deleted from the database when they become unreachable from
      the <b>Open_vSwitch</b> table This means that deleting the last reference
      to a record is sufficient for deleting the record itself For records in
      these tables, <b>destroy</b> is silently ignored See the <b>EXAMPLES</b>
      section below for more information</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wait-until</b> <i>table record</i>
    [<i>column</i>[<b>:</b> <i>key</i>]<b>=</b><i>value</i>]</dt>
  <dd class="It-tag">Waits until <i>table</i> contains a record named
      <i>record</i> whose <i>column</i> equals <i>value</i> or, if <i>key</i> is
      specified, whose <i>column</i> contains a <i>key</i> with the specified
      <i>value</i> Any of the operators <b>!=</b>, <b>&lt;</b>, <b>&gt;</b>,
      <b>&lt;=</b>, or <b>&gt;=</b> may be substituted for <b>=</b> to test for
      inequality, less than, greater than, less than or equal to, or greater
      than or equal to, respectively (Don&#x2019;t forget to escape <b>&lt;</b>
      or <b>&gt;</b> from interpretation by the shell)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If no <i>column</i>[<b>:</b><i>key</i>]<b>=</b><i>value</i>
      arguments are given, this command waits only until <i>record</i> exists If
      more than one such argument is given, the command waits until all of them
      are satisfied</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">Caution (ovs-vsctl as exmaple)</dt>
  <dd class="It-tag">Usually <b>wait-until</b> should be placed at the beginning
      of a set of <b>ovs-vsctl</b> commands For example, <b>wait-until bridge
      br0</b> <b>-- get bridge br0 datapath_id</b> waits until a bridge named
      <b>br0</b> is created, then prints its <b>datapath_id</b> column, whereas
      <b>get bridge br0 datapath_id -- wait-until bridge br0</b> will abort if
      no bridge named <b>br0</b> exists when <b>ovs-vsctl</b> initially connects
      to the database</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Consider specifying <b>--timeout=0</b> along with
      <b>--wait-until</b>, to prevent <b>ovn-nbctl</b> from terminating after
      waiting only at most 5 seconds</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>comment</b> [<i>arg</i>]</dt>
  <dd class="It-tag">This command has no effect on behavior, but any database
      log record created by the command will include the command and its
      arguments</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="SYNCHRONIZATION_COMMANDS"><a class="selflink" href="#SYNCHRONIZATION_COMMANDS">SYNCHRONIZATION
  COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">sync</dt>
  <dd class="It-tag">Ordinarily, <b>--wait=sb</b> or <b>--wait=hv</b> only waits
      for changes by the current <b>ovn-nbctl</b> invocation to take effect This
      means that, if none of the commands supplied to <b>ovn-nbctl</b> change
      the database, then the command does not wait at all With the <b>sync</b>
      command, however, <b>ovn-nbctl</b> waits even for earlier changes to the
      database to propagate down to the southbound database or all of the OVN
      chassis, according to the argument to <b>--wait</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="REMOTE_CONNECTIVITY_COMMANDS"><a class="selflink" href="#REMOTE_CONNECTIVITY_COMMANDS">REMOTE
  CONNECTIVITY COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get-connection</b></dt>
  <dd class="It-tag">Prints the configured connection(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>del-connection</b></dt>
  <dd class="It-tag">Deletes the configured connection(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-connection</b> <i>target</i></dt>
  <dd class="It-tag">Sets the configured manager target or targets</dd>
</dl>
<h1 class="Sh" title="Sh" id="SSL_CONFIGURATION_COMMANDS"><a class="selflink" href="#SSL_CONFIGURATION_COMMANDS">SSL
  CONFIGURATION COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get-ssl</b></dt>
  <dd class="It-tag">Prints the SSL configuration</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>del-ssl</b></dt>
  <dd class="It-tag">Deletes the current SSL configuration</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<b>--bootstrap</b>] <b>set-ssl</b> <i>private-key</i>
    <i>certificate</i> <i>ca-cert</i></dt>
  <dd class="It-tag">Sets the SSL configuration</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-wait</b> | <b>--wait=none</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wait=sb</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wait=hv</b></dt>
  <dd class="It-tag">These options control whether and how <b>ovn-nbctl</b>
      waits for the OVN system to become up-to-date with changes made in an
      <b>ovn-nbctl</b> invocation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">By default, or if <b>--no-wait</b> or <b>--wait=none</b>,
      <b>ovn-nbctl</b> exits immediately after confirming that changes have been
      committed to the northbound database, without waiting</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">With <b>--wait=sb</b>, before <b>ovn-nbctl</b> exits, it
      waits for <b>ovn-northd</b> to bring the southbound database up-to-date
      with the northbound database updates</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">With <b>--wait=hv</b>, before <b>ovn-nbctl</b> exits, it
      additionally waits for all OVN chassis (hypervisors and gateways) to
      become up-to-date with the northbound database updates (This can become an
      indefinite wait if any chassis is malfunctioning)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Ordinarily, <b>--wait=sb</b> or <b>--wait=hv</b> only waits
      for changes by the current <b>ovn-nbctl</b> invocation to take effect This
      means that, if none of the commands supplied to <b>ovn-nbctl</b> change
      the database, then the command does not wait at all Use the <b>sync</b>
      command to override this behavior</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--db</b> <i>database</i></dt>
  <dd class="It-tag">The OVSDB database remote to contact If the
      <b>OVN_NB_DB</b> environment variable is set, its value is used as the
      default Otherwise, the default is <b>unix:/var/run/openvswitch/dbsock</b>,
      but this default is unlikely to be useful outside of single-machine OVN
      test environments</dd>
</dl>
<h1 class="Sh" title="Sh" id="LOGGING_OPTIONS"><a class="selflink" href="#LOGGING_OPTIONS">LOGGING
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>[<i>spec</i>]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose=</b>[<i>spec</i>]</dt>
  <dd class="It-tag">Sets logging levels Without any <i>spec</i>, sets the log
      level for every module and destination to <b>dbg</b> Otherwise,
      <i>spec</i> is a list of words separated by spaces or commas or colons, up
      to one from each category below:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A valid module name, as displayed by the <b>vlog/list</b>
      command on <b>ovs-appctl</b>(8), limits the log level change to the
      specified module</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>syslog</b>, <b>console</b>, or <b>file</b>, to limit the
      log level change to only to the system log, to the console, or to a file,
      respectively (If <b>--detach</b> is specified, the daemon closes its
      standard file descriptors, so logging to the console will have no
    effect)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">On Windows platform, <b>syslog</b> is accepted as a word
      and is only useful along with the <b>--syslog-target</b> option (the word
      has no effect otherwise)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>off</b>, <b>emer</b>, <b>err</b>, <b>warn</b>,
      <b>info</b>, or <b>dbg</b>, to control the log level Messages of the given
      severity or higher will be logged, and messages of lower severity will be
      filtered out <b>off</b> filters out all messages See <b>ovs-appctl</b>(8)
      for a definition of each log level</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Case is not significant within <i>spec</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Regardless of the log levels set for <b>file</b>, logging
      to a file will not take place unless <b>--log-file</b> is also specified
      (see below)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For compatibility with older versions of OVS, <b>any</b> is
      accepted as a word but has no effect</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Sets the maximum logging verbosity level, equivalent to
      <b>--verbose=dbg</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-vPATTERN:</b><i>destination</i><b>:</b><i>pattern</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose=PATTERN:</b><i>destination</i><b>:</b><i>pattern</i></dt>
  <dd class="It-tag">Sets the log pattern for <i>destination</i> to
      <i>pattern</i> Refer to <b>ovs-appctl</b>(8) for a description of the
      valid syntax for <i>pattern</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-vFACILITY:</b><i>facility</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose=FACILITY:</b><i>facility</i></dt>
  <dd class="It-tag">Sets the RFC5424 facility of the log message
      <i>facility</i> can be one of <b>kern</b>, <b>user</b>, <b>mail</b>,
      <b>daemon</b>, <b>auth</b>, <b>syslog</b>, <b>lpr</b>, <b>news</b>,
      <b>uucp</b>, <b>clock</b>, <b>ftp</b>, <b>ntp</b>, <b>audit</b>,
      <b>alert</b>, <b>clock2</b>, <b>local0</b>, <b>local1</b>, <b>local2</b>,
      <b>local3</b>, <b>local4</b>, <b>local5</b>, <b>local6</b> or
      <b>local7</b> If this option is not specified, <b>daemon</b> is used as
      the default for the local system syslog and <b>local0</b> is used while
      sending a message to the target provided via the <b>--syslog-target</b>
      option</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-file</b>[<b>=</b><i>file</i>]</dt>
  <dd class="It-tag">Enables logging to a file If <i>file</i> is specified, then
      it is used as the exact name for the log file The default log file name
      used if <i>file</i> is omitted is
      <b>/var/log/openvswitch/</b><i>program</i> <b>log</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog-target=</b><i>host</i><b>:</b><i>port</i></dt>
  <dd class="It-tag">Send syslog messages to UDP <i>port</i> on <i>host</i>, in
      addition to the system syslog The <i>host</i> must be a numerical IP
      address, not a hostname</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog-method=</b><i>method</i></dt>
  <dd class="It-tag">Specify <i>method</i> as how syslog messages should be sent
      to syslog daemon The following forms are supported:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>libc</b>, to use the libc <b>syslog()</b> function This
      is the default behavior Downside of using this options is that libc adds
      fixed prefix to every message before it is actually sent to the syslog
      daemon over <b>/dev/log</b> UNIX domain socket</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>unix:</b><i>file</i><b></b>, to use a UNIX domain socket
      directly It is possible to specify arbitrary message format with this
      option However, <b>rsyslogd 89</b> and older versions use hard coded
      parser function anyway that limits UNIX domain socket use If you want to
      use arbitrary message format with older <b>rsyslogd</b> versions, then use
      UDP socket to localhost IP address instead</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>udp:</b><i>ip</i><b>:</b><i>port</i><b></b>, to use a
      UDP socket With this method it is possible to use arbitrary message format
      also with older <b>rsyslogd</b> When sending syslog messages over UDP
      socket extra precaution needs to be taken into account, for example,
      syslog daemon needs to be configured to listen on the specified UDP port,
      accidental iptables rules could be interfering with local syslog traffic
      and there are some security considerations that apply to UDP sockets, but
      do not apply to UNIX domain sockets</dd>
</dl>
</div>
<h2 class="Ss" title="Ss" id="PKI_Options"><a class="selflink" href="#PKI_Options">PKI
  Options</a></h2>
PKI configuration is required to use SSL for the connection to the database
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>privkeypem</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--private-key=</b><i>privkeypem</i></dt>
  <dd class="It-tag">Specifies a PEM file containing the private key used as
      identity for outgoing SSL connections</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>certpem</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--certificate=</b><i>certpem</i></dt>
  <dd class="It-tag">Specifies a PEM file containing a certificate that
      certifies the private key specified on <b>-p</b> or <b>--private-key</b>
      to be trustworthy The certificate must be signed by the certificate
      authority (CA) that the peer in SSL connections will use to verify it</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b> <i>cacertpem</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca-cert=</b><i>cacertpem</i></dt>
  <dd class="It-tag">Specifies a PEM file containing the CA certificate for
      verifying certificates presented to this program by SSL peers (This may be
      the same certificate that SSL peers use to verify the certificate
      specified on <b>-c</b> or <b>--certificate</b>, or it may be a different
      one, depending on the PKI design in use)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C none</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca-cert=none</b></dt>
  <dd class="It-tag">Disables verification of certificates presented by SSL
      peers This introduces a security risk, because it means that certificates
      cannot be verified to be those of known trusted hosts</dd>
</dl>
</div>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bootstrap-ca-cert=</b><i>cacertpem</i></dt>
  <dd class="It-tag">When <i>cacertpem</i> exists, this option has the same
      effect as <b>-C</b> or <b>--ca-cert</b> If it does not exist, then the
      executable will attempt to obtain the CA certificate from the SSL peer on
      its first SSL connection and save it to the named PEM file If it is
      successful, it will immediately drop the connection and reconnect, and
      from then on all SSL connections must be authenticated by a certificate
      signed by the CA certificate thus obtained</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option exposes the SSL connection to a
      man-in-the-middle attack obtaining the initial CA certificate, but it may
      be useful for bootstrapping</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is only useful if the SSL peer sends its CA
      certificate as part of the SSL certificate chain The SSL protocol does not
      require the server to send the CA certificate</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is mutually exclusive with <b>-C</b> and
      <b>--ca-cert</b></dd>
</dl>
</div>
<h2 class="Ss" title="Ss" id="Other_Options"><a class="selflink" href="#Other_Options">Other
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Prints a brief help message to the console</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Prints version information to the console</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">ovn-nbctl</td>
    <td class="foot-os">Open vSwitch 270</td>
  </tr>
</table>
</body>
</html>
