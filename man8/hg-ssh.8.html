<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HG-SSH(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HG-SSH(8)</td>
    <td class="head-vol">Mercurial Manual</td>
    <td class="head-rtitle">HG-SSH(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hg-ssh - restricted ssh login shell for Mercurial
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>hg-ssh</b> repositories...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>hg-ssh</b> is a wrapper for ssh access to a limited set of mercurial repos.
<div style="height: 1.00em;">&#x00A0;</div>
To be used in ~/.ssh/authorized_keys with the &quot;command&quot; option, see
  sshd(8): command=&quot;hg-ssh path/to/repo1 /path/to/repo2 ~/repo3
  ~user/repo4&quot; ssh-dss ... (probably together with these other useful
  options: no-port-forwarding,no-X11-forwarding,no-agent-forwarding)
<div style="height: 1.00em;">&#x00A0;</div>
This allows pull/push over ssh from/to the repositories given as arguments.
<div style="height: 1.00em;">&#x00A0;</div>
If all your repositories are subdirectories of a common directory, you can allow
  shorter paths with: command=&quot;cd path/to/my/repositories &amp;&amp; hg-ssh
  repo1 subdir/repo2&quot;
<div style="height: 1.00em;">&#x00A0;</div>
You can use pattern matching of your normal shell, e.g.: command=&quot;cd repos
  &amp;&amp; hg-ssh user/thomas/* projects/{mercurial,foo}&quot;
<div style="height: 1.00em;">&#x00A0;</div>
You can also add a --read-only flag to allow read-only access to a key, e.g.:
  command=&quot;hg-ssh --read-only repos/*&quot;
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Probably lots, please post them to the mailing list (see Resources below) when
  you find them.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>hg</b>(1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Matt Mackall &lt;mpm@selenic.com&gt;
<h1 class="Sh" title="Sh" id="RESOURCES"><a class="selflink" href="#RESOURCES">RESOURCES</a></h1>
Main Web Site: https://mercurial-scm.org/
<div style="height: 1.00em;">&#x00A0;</div>
Source code repository: https://www.mercurial-scm.org/repo/hg
<div style="height: 1.00em;">&#x00A0;</div>
Mailing list: https://www.mercurial-scm.org/mailman/listinfo/mercurial/
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright (C) 2005-2016 Matt Mackall. Free use of this software is granted under
  the terms of the GNU General Public License version 2 or any later version.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Thomas Arendsen Hein &lt;thomas@intevation.de&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Organization: Mercurial</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
