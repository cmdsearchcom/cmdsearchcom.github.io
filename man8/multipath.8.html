<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MULTIPATH(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MULTIPATH(8)</td>
    <td class="head-vol">Linux Administrator's Manual</td>
    <td class="head-rtitle">MULTIPATH(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
multipath - Device mapper target autoconfig
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>multipath</b> [<b>-v&#x00A0;</b><i>verbosity</i>]
  [<b>-b&#x00A0;</b><i>bindings_file</i>] [<b>-d</b>]
  [<b>-h</b>|<b>-l</b>|<b>-ll</b>|<b>-f</b>|<b>-t</b>|<b>-F</b>|<b>-B</b>|<b>-c</b>|<b>-q</b>|<b>-r</b>|<b>-r</b>|<b>-a</b>|<b>-A</b>|<b>-w</b>|<b>-W</b>]
  [<b>-p&#x00A0;</b><b>failover</b>|<b>multibus</b>|<b>group_by_serial</b>|<b>group_by_prio</b>|<b>group_by_node_name</b>]
  [<b>device</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>multipath</b> is used to detect multiple paths to devices for fail-over or
  performance reasons and coalesces them
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v level</b></dt>
  <dd class="It-tag">verbosity, print all paths and multipaths</dd>
</dl>
<div style="margin-left: 1.20in;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">no output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">print the created or updated multipath names only, for use
      to feed other tools like kpartx</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2 +</b></dt>
  <dd class="It-tag">print all info : detected paths, coalesced paths (ie
      multipaths) and device maps</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">print usage text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">dry run, do not create or update devmaps</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">show the current multipath topology from information
      fetched in sysfs and the device mapper</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ll</b></dt>
  <dd class="It-tag">show the current multipath topology from all available
      information (sysfs, the device mapper, path checkers ...)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">flush a multipath device map specified as parameter, if
      unused</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">flush all unused multipath device maps</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">print internal hardware table to stdout</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">force devmap reload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">ignore wwids file when processing devices</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b></dt>
  <dd class="It-tag">treat the bindings file as read only</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b bindings_file</b></dt>
  <dd class="It-tag">set user_friendly_names bindings file location. The default
      is /etc/multipath/bindings</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">check if a block device should be a path in a multipath
      device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b></dt>
  <dd class="It-tag">allow device tables with queue_if_no_path when multipathd
      is not running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">add the wwid for the specified device to the wwids
    file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b></dt>
  <dd class="It-tag">add wwids from any kernel command line mpath.wwid
      parameters to the wwids file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">remove the wwid for the specified device from the wwids
      file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b></dt>
  <dd class="It-tag">reset the wwids file to only include the current multipath
      devices</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T tm:valid</b></dt>
  <dd class="It-tag">check if <i>tm</i> matches the multipathd configuration
      timestamp value from <i>/run/multipathd/timestamp</i> If so, return
      success if <i>valid</i> is 1. Otherwise, return failure. If the timestamp
      doesn't match continue with multipath execution. This option is designed
      to be used with -c by the udev rules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b><i> policy</i></dt>
  <dd class="It-tag">force new maps to use the specified policy:</dd>
</dl>
<div style="margin-left: 1.20in;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>failover</b></dt>
  <dd class="It-tag">1 path per priority group</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>multibus</b></dt>
  <dd class="It-tag">all paths in 1 priority group</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group_by_serial</b></dt>
  <dd class="It-tag">1 priority group per serial</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group_by_prio</b></dt>
  <dd class="It-tag">1 priority group per priority value. Priorities are
      determined by callout programs specified as a global, per-controller or
      per-multipath option in the configuration file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group_by_node_name</b></dt>
  <dd class="It-tag">1 priority group per target node name. Target node names
      are fetched in /sys/class/fc_transport/target*/node_name.</dd>
</dl>
</div>
Existing maps are not modified.
<dl class="Bl-tag">
  <dt class="It-tag"><b>device</b></dt>
  <dd class="It-tag">update only the devmap the path pointed by <i>device</i> is
      in. <i>device</i> is in the /dev/sdb (as shown by udev in the $DEVNAME
      variable) or major:minor format. <i>device</i> may alternatively be a
      multipath mapname</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>multipathd</b>(8), <b>multipath.conf</b>(5), <b>kpartx</b>(8),
  <b>udev</b>(8), <b>dmsetup</b>(8) <b>hotplug</b>(8)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>multipath</b> was developed by Christophe Varoqui,
  &lt;christophe.varoqui@opensvc.com&gt; and others.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 2006</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
