<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:11:16 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>fsck.gfs2(8) System Manager&rsquo;s Manual
fsck.gfs2(8)</p>

<p style="margin-top: 1em">NAME <br>
fsck.gfs2 - Offline GFS and GFS2 file system checker</p>

<p style="margin-top: 1em">SYNOPSIS <br>
fsck.gfs2 [OPTION]... DEVICE</p>

<p style="margin-top: 1em">WARNING <br>
All computers must have the filesystem unmounted before
running fsck.gfs2. Failure to unmount from all nodes in a
cluster will likely result in filesystem corruption.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
fsck.gfs2 will check that the GFS or GFS2 file system on a
device is structurally valid. It should not be run on a
mounted file system. If file system corruption is detected,
<br>
it will attempt to repair the file system. There is a limit
to what fsck.gfs2 can do. If important file system
structures are destroyed, such that the checker cannot
determine <br>
what the repairs should be, reparations could fail.</p>

<p style="margin-top: 1em">GFS2 is a journaled file system,
and as such should be able to repair damage to the file
system on its own. However, faulty hardware has the ability
to write incomplete blocks <br>
to a file system thereby causing corruption that GFS2 cannot
fix. The first step to ensuring a healthy file system is the
selection of reliable hardware (i.e. storage systems <br>
that will write complete blocks - even in the event of power
failure).</p>

<p style="margin-top: 1em">Note: Most file system checkers
will not check the file system if it is &quot;clean&quot;
(i.e. unmounted since the last use). The fsck.gfs program
behaves differently because the storage <br>
may be shared among several nodes in a cluster, and
therefore problems may have been introduced on a different
computer. Therefore, fsck.gfs2 will always check the file
system <br>
unless the -p (preen) option is used, in which case it
follows special rules (see below).</p>

<p style="margin-top: 1em">fsck.gfs2 will log to the system
log on start and exit to aid debugging and
administration.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Same as the -p (preen) option.</p>

<p style="margin-top: 1em">-f Force checking even if the
file system seems clean.</p>

<p style="margin-top: 1em">-h Help.</p>

<p style="margin-top: 1em">This prints out the proper
command line usage syntax.</p>

<p style="margin-top: 1em">-q Quiet.</p>

<p style="margin-top: 1em">-n No to all questions.</p>

<p style="margin-top: 1em">By specifying this option,
fsck.gfs2 will only show the changes that would be made, but
not make any changes to the filesystem.</p>

<p style="margin-top: 1em">-p Preen (same as -a:
automatically repair the file system if it is dirty, and
safe to do so, otherwise exit.)</p>

<p style="margin-top: 1em">Note: If the file system has
locking protocol lock_nolock, the file system is considered
a non-shared storage device and the fsck is deemed safe.
However, fsck.gfs2 does <br>
not know whether it was called automatically from the init
process, due to options in the /etc/fstab file. Therefore,
if the locking protocol is lock_dlm and -a or -p was <br>
specified, fsck.gfs2 cannot determine whether the disk is
mounted by other nodes in the cluster. Therefore, the fsck
is deemed to be unsafe and a warning is given if any <br>
damage or dirty journals are found. In that case, the file
system should be unmounted from all nodes in the cluster and
fsck.gfs2 should be run manually without the -a or <br>
-p options.</p>

<p style="margin-top: 1em">-V Version.</p>

<p style="margin-top: 1em">Print out the program version
information.</p>

<p style="margin-top: 1em">-v Verbose operation.</p>

<p style="margin-top: 1em">Print more information while
running.</p>

<p style="margin-top: 1em">-y Yes to all questions.</p>

<p style="margin-top: 1em">By specifying this option,
fsck.gfs2 will not prompt before making changes.</p>
 
<p style="margin-top: 1em">fsck.gfs2(8)</p>
<hr>
</body>
</html>
