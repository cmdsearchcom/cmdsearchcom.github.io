<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BCMXCP_USB(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BCMXCP_USB(8)</td>
    <td class="head-vol">NUT Manual</td>
    <td class="head-rtitle">BCMXCP_USB(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bcmxcp_usb - Experimental driver for UPSes supporting the BCM/XCP protocol over
  USB
<h1 class="Sh" title="Sh" id="NOTE"><a class="selflink" href="#NOTE">NOTE</a></h1>
This man page only documents the hardware-specific features of the bcmxcp_usb
  driver. For information about the core driver, see <b>nutupsdrv</b>(8). This
  driver is a variant of the serial driver bcmxcp and uses the same core code.
<h1 class="Sh" title="Sh" id="SUPPORTED_HARDWARE"><a class="selflink" href="#SUPPORTED_HARDWARE">SUPPORTED
  HARDWARE</a></h1>
This driver should recognize all BCM/XCP-compatible UPSes that are connected via
  USB. It has been developed and tested on Powerware PW3501 hardware. It also
  has been tested on PW5110 hardware.
<h1 class="Sh" title="Sh" id="EXTRA_ARGUMENTS"><a class="selflink" href="#EXTRA_ARGUMENTS">EXTRA
  ARGUMENTS</a></h1>
This driver supports the following optional settings in the <b>ups.conf</b>(5).
<div class="Pp"></div>
<b>shutdown_delay=</b><i>delay</i>
<div style="margin-left: 4.00ex;">The number of seconds that the UPS should wait
  between receiving the shutdown command and actually shutting off.</div>
<h1 class="Sh" title="Sh" id="DEFAULT_VALUES_FOR_THE_EXTRA_ARGUMENTS"><a class="selflink" href="#DEFAULT_VALUES_FOR_THE_EXTRA_ARGUMENTS">DEFAULT
  VALUES FOR THE EXTRA ARGUMENTS</a></h1>
<b>shutdown_delay =</b><i>120</i>
<h1 class="Sh" title="Sh" id="INSTANT_COMMANDS"><a class="selflink" href="#INSTANT_COMMANDS">INSTANT
  COMMANDS</a></h1>
This driver supports the following Instant Commands:
<div class="Pp"></div>
<b>shutdown.return</b>
<div style="margin-left: 4.00ex;">Turn off the load and return when power is
  back.</div>
<div class="Pp"></div>
<b>shutdown.stayoff</b>
<div style="margin-left: 4.00ex;">Turn off the load and remain off.</div>
<div class="Pp"></div>
<b>test.battery.start</b>
<div style="margin-left: 4.00ex;">Start a battery test.</div>
<h1 class="Sh" title="Sh" id="TODO_LIST"><a class="selflink" href="#TODO_LIST">TODO
  LIST</a></h1>
<b>Report UPS alarm status</b>
<div style="margin-left: 4.00ex;">BCM/XCP supports reporting a wide range of UPS
  alarm conditions.</div>
<div class="Pp"></div>
<b>Report UPS statistics informations</b>
<div style="margin-left: 4.00ex;">BCM/XCP supports reporting of UPS statistics
  data.</div>
<h1 class="Sh" title="Sh" id="EXPERIMENTAL_DRIVER"><a class="selflink" href="#EXPERIMENTAL_DRIVER">EXPERIMENTAL
  DRIVER</a></h1>
This driver has been tagged experimental, even if it has been reported to be
  stable. Thus it is not suitable for production systems and it is not built by
  default. This is mainly due to the fact that it is a new driver.
<h1 class="Sh" title="Sh" id="INSTALLATION"><a class="selflink" href="#INSTALLATION">INSTALLATION</a></h1>
This driver is not built by default. You can build it by using &quot;configure
  --with-usb=yes&quot;. Note that it will also install other USB drivers.
<div style="height: 1.00em;">&#x00A0;</div>
You also need to install manually the hotplug files (libhidups and
  libhid.usermap), generally in etc/hotplug/usb/, to address the permission
  settings problem. Lastly note that the libhidups file must have execution flag
  set (ie using chmod +x ...).
<h1 class="Sh" title="Sh" id="IMPLEMENTATION"><a class="selflink" href="#IMPLEMENTATION">IMPLEMENTATION</a></h1>
bcmxcp_usb only supports 1 UPS at this time. You can put the &quot;auto&quot;
  value for port in ups.conf, i.e.:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
[pw3105]
        driver = bcmxcp_usb
        port = auto
</pre>
</div>
<h1 class="Sh" title="Sh" id="KNOWN_ISSUES_AND_BUGS"><a class="selflink" href="#KNOWN_ISSUES_AND_BUGS">KNOWN
  ISSUES AND BUGS</a></h1>
<h2 class="Ss" title="Ss" id="Got_EPERM:_Operation_not_permitted_upon_driver_startup&quot;&quot;"><a class="selflink" href="#Got_EPERM:_Operation_not_permitted_upon_driver_startup&quot;&quot;">
<div class="Pp"></div>
Got EPERM: Operation not permitted upon driver startup&quot;&quot;</a></h2>
You have forgotten to install the hotplug files, as explained in the
  INSTALLATION section above. Don&#x2019;t forget to restart hotplug so that it
  applies these changes.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Tore &#x00D8;rpetveit &lt;tore@orpetveit.net&gt;, Wolfgang Ocker
  &lt;weo@weo1.de&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<h2 class="Ss" title="Ss" id="The_core_driver:"><a class="selflink" href="#The_core_driver:">The
  core driver:</a></h2>
<b>nutupsdrv</b>(8)
<h2 class="Ss" title="Ss" id="Internet_resources:"><a class="selflink" href="#Internet_resources:">Internet
  resources:</a></h2>
The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</div>
<table class="foot">
  <tr>
    <td class="foot-date">12/29/2015</td>
    <td class="foot-os">Network UPS Tools 2.7.3.</td>
  </tr>
</table>
</body>
</html>
