<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ifplugd(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ifplugd(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">ifplugd(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ifplugd - A link detection daemon for ethernet devices
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ifplugd [</b><i>options</i><b>]</b> <b></b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
ifplugd is a daemon which will automatically configure your ethernet device when
  a cable is plugged in and automatically unconfigure it if the cable is pulled.
  This is useful on laptops with on-board network adapters, since it will only
  configure the interface when a cable is really connected.
<div style="height: 1.00em;">&#x00A0;</div>
It uses your distribution's native ifup/ifdown programs, but can be configured
  to do anything you wish when the state of the interface changes. It may ignore
  short unplugged whiles ( <b>-d</b> option) or plugged whiles (<b>-u</b>
  option).
<div style="height: 1.00em;">&#x00A0;</div>
ifplugd may be used in &quot;compatibility mode&quot; by specifying -F on the
  command line. Than ifplugd will treat network drivers which do not support
  link beat querying as always online.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a | --no-auto</b></dt>
  <dd class="It-tag">Do not enable interface automatically (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n | --no-daemon</b></dt>
  <dd class="It-tag">Do not daemonize (for debugging) (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s | --no-syslog</b></dt>
  <dd class="It-tag">Do not use syslog, use stdout instead (for debugging)
      (default: off).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b | --no-beep</b></dt>
  <dd class="It-tag">Do not beep (off), overrides <b>--no-beep-up</b> and
      <b>--no-beep-down</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U | --no-beep-up</b></dt>
  <dd class="It-tag">Do not beep on interface up (off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D | --no-beep-down</b></dt>
  <dd class="It-tag">Do not beep on interface down (off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f | --ignore-fail</b></dt>
  <dd class="It-tag">Ignore detection failure, retry instead. Failure is treated
      as &quot;no link&quot;. (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F | --ignore-fail-positive</b></dt>
  <dd class="It-tag">Ignore detection failure, retry instead. Failure is treated
      as &quot;link detected&quot;. (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i | --iface=</b> <i>IFACE</i></dt>
  <dd class="It-tag">Specify ethernet interface (default: eth0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r | --run=</b> <i>EXEC</i></dt>
  <dd class="It-tag">Specify program to execute when link status changes
      (default: <i>/etc/ifplugd/ifplugd.action</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I | --ignore-retval</b></dt>
  <dd class="It-tag">Don't exit on nonzero return value of program executed on
      link change. (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t | --poll-time=</b> <i>SECS</i></dt>
  <dd class="It-tag">Specify poll time in seconds (default: 1)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T | --poll-utime=</b> <i>USECS</i></dt>
  <dd class="It-tag">Specify poll time in microseconds, added to -t (default:
    0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u | --delay-up=</b> <i>SECS</i></dt>
  <dd class="It-tag">Specify delay for configuring interface (default: 0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d | --delay-down=</b> <i>SECS</i></dt>
  <dd class="It-tag">Specify delay for deconfiguring interface (default: 5)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m | --api-mode=</b> <i>MODE</i></dt>
  <dd class="It-tag">Force a specific link beat detection ioctl() API. Possible
      values are auto, iff, wlan, ethtool, mii, and priv for automatic
      detection, interface flag (IFF_RUNNING), wireless extension, SIOCETHTOOL,
      SIOCGMIIREG resp. SIOCPRIV. Only the first character of the argument is
      relevant, case insensitive. (default: auto)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p | --no-startup</b></dt>
  <dd class="It-tag">Don't call the script to bring up network on deamon start
      (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q | --no-shutdown</b></dt>
  <dd class="It-tag">Don't call the script for network shutdown on deamon quit
      (default: off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w | --wait-on-fork</b></dt>
  <dd class="It-tag">When daemonizing, wait until the background process
      finished with the initial link beat detection. When this is enabled, the
      parent process will return the link status on exit. 2 means link beat
      detected, 3 stands for link beat not detected, everything else is an
      error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W | --wait-on-kill</b></dt>
  <dd class="It-tag">When killing a running daemon (with -k) wait until the
      daemon died.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x | --extra-arg=</b> <i>ARG</i></dt>
  <dd class="It-tag">Specify an extra argument to be passed to the action
      script.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M | --monitor</b></dt>
  <dd class="It-tag">Don't fail when the network interface is not available,
      instead use NETLINK to monitor device avaibility. The is useful for PCMCIA
      devices and similar.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h | --help</b></dt>
  <dd class="It-tag">Show help</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k | --kill</b></dt>
  <dd class="It-tag">Kill a running daemon (Specify -i to select the daemon
      instance to kill)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c | --check-running</b></dt>
  <dd class="It-tag">Check if a daemon is running for a given network interface.
      Sets the return value to 0 if a daemon is already running or to 255 if
      not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v | --version</b></dt>
  <dd class="It-tag">Show version</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S | --supend</b></dt>
  <dd class="It-tag">Suspend a running daemon. The daemon will no longer check
      the link status until it is resumed (-R) again. (Specify -i to select the
      daemon instance to suspend.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R | --resume</b></dt>
  <dd class="It-tag">Resume a suspended daemon. (Specify -i to select the daemon
      instance to resume.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z | --info</b></dt>
  <dd class="It-tag">Request that a running daemon shall write its status
      information to syslog. (Specify -i to select the daemon instance to send
      the request to.)</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/etc/default/ifplugd</i>: this file is sourced by the init script
  <i>/etc/init.d/ifplugd</i> and contains the interface to be monitored and the
  options to be used.
<div style="height: 1.00em;">&#x00A0;</div>
<i>/etc/ifplugd/ifplugd.action</i>: this is the script which will be called by
  the daemon whenever the state of the interface changes. It takes two
  areguments: the first is the interface name (eg. eth0), the second either
  &quot;up&quot; or &quot;down&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<i>/var/run/ifplugd.&lt;iface&gt;.pid</i>: the pid file for ifplugd.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The action script will be called with two environment variables set:
<div style="height: 1.00em;">&#x00A0;</div>
<i>IFPLUGD_PREVIOUS</i> The previous link status. Either &quot;up&quot;,
  &quot;down&quot;, &quot;error&quot; or &quot;disabled&quot;. The former values
  should be obvious, the latter is set on daemon startup.
<div style="height: 1.00em;">&#x00A0;</div>
<i>IFPLUGD_CURRENT</i> The current link status. See above for possible values.
<h1 class="Sh" title="Sh" id="SIGNALS"><a class="selflink" href="#SIGNALS">SIGNALS</a></h1>
<i>SIGINT, SIGTERM</i> ifplugd will quit, possibly running the shutdown script.
  This is issued by passing -k to ifplugd.
<div style="height: 1.00em;">&#x00A0;</div>
<i>SIGQUIT</i> ifplugd will quit, the shutdown script is never run.
<div style="height: 1.00em;">&#x00A0;</div>
<i>SIGHUP</i> ifplugd will write its status information to syslog. This is
  issued by -z.
<div style="height: 1.00em;">&#x00A0;</div>
<i>SIGUSR1</i> ifplugd will go to suspend mode. (-S)
<div style="height: 1.00em;">&#x00A0;</div>
<i>SIGUSR2</i> ifplugd will resume from suspend mode. (-R)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
ifplugd was written by Lennart Poettering &lt;mzvscyhtq (at) 0pointer (dot)
  de&gt;. ifplugd is available at
  <b>http://0pointer.de/lennart/projects/ifplugd/</b>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ifplugd.conf(5)</b>, <b>ifup(8)</b>, <b>interfaces(5)</b>,
  <b>ifconfig(8)</b>, <b>ifplugstatus(8)</b>
<h1 class="Sh" title="Sh" id="COMMENTS"><a class="selflink" href="#COMMENTS">COMMENTS</a></h1>
This man page was written using <b>xmltoman(1)</b> by Oliver Kurth.</div>
<table class="foot">
  <tr>
    <td class="foot-date">User</td>
    <td class="foot-os">Manuals</td>
  </tr>
</table>
</body>
</html>
