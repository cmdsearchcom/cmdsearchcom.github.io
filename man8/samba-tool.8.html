<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SAMBA-TOOL(8) System Administration tools
SAMBA-TOOL(8)</p>

<p style="margin-top: 1em">NAME <br>
samba-tool - Main Samba administration tool.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
samba-tool [-h] [-W myworkgroup] [-U user] [-d debuglevel]
[--v]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(7) suite.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h|--help <br>
Show this help message and exit</p>

<p style="margin-top: 1em">--realm=REALM <br>
Set the realm name</p>

<p style="margin-top: 1em">--simple-bind-dn=DN <br>
DN to use for a simple bind</p>

<p style="margin-top: 1em">--password=PASSWORD <br>
Password</p>

<p style="margin-top: 1em">-U USERNAME|--username=USERNAME
<br>
Username</p>

<p style="margin-top: 1em">-W
WORKGROUP|--workgroup=WORKGROUP <br>
Workgroup</p>

<p style="margin-top: 1em">-N|--no-pass <br>
Don&rsquo;t ask for a password</p>

<p style="margin-top: 1em">-k KERBEROS|--kerberos=KERBEROS
<br>
Use Kerberos</p>

<p style="margin-top: 1em">--ipaddress=IPADDRESS <br>
IP address of the server</p>

<p style="margin-top: 1em">-d|--debuglevel=level <br>
level is an integer from 0 to 10. The default value if this
parameter is not specified is 1.</p>

<p style="margin-top: 1em">The higher this value, the more
detail will be logged to the log files about the activities
of the server. At level 0, only critical errors and serious
warnings will be <br>
logged. Level 1 is a reasonable level for day-to-day running
- it generates a small amount of information about
operations carried out.</p>

<p style="margin-top: 1em">Levels above 1 will generate
considerable amounts of log data, and should only be used
when investigating a problem. Levels above 3 are designed
for use only by developers <br>
and generate HUGE amounts of log data, most of which is
extremely cryptic.</p>

<p style="margin-top: 1em">Note that specifying this
parameter here will override the log level parameter in the
smb.conf file.</p>

<p style="margin-top: 1em">-V|--version <br>
Prints the program version number.</p>


<p style="margin-top: 1em">-s|--configfile=&lt;configuration
file&gt; <br>
The file specified contains the configuration details
required by the server. The information in this file
includes server-specific information such as what printcap
file to <br>
use, as well as descriptions of all the services that the
server is to provide. See smb.conf for more information. The
default configuration file name is determined at <br>
compile time.</p>

<p style="margin-top: 1em">-l|--log-basename=logdirectory
<br>
Base directory name for log/debug files. The extension
&quot;.progname&quot; will be appended (e.g. log.smbclient,
log.smbd, etc...). The log file is never removed by the
client.</p>


<p style="margin-top: 1em">--option=&lt;name&gt;=&lt;value&gt;
<br>
Set the smb.conf(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled-in defaults and options read from the
configuration file.</p>

<p style="margin-top: 1em">COMMANDS <br>
dbcheck <br>
Check the local AD database for errors.</p>

<p style="margin-top: 1em">delegation <br>
Manage Delegations.</p>

<p style="margin-top: 1em">delegation add-service
accountname principal [options] <br>
Add a service principal as msDS-AllowedToDelegateTo.</p>

<p style="margin-top: 1em">delegation del-service
accountname principal [options] <br>
Delete a service principal as msDS-AllowedToDelegateTo.</p>

<p style="margin-top: 1em">delegation for-any-protocol
accountname [(on|off)] [options] <br>
Set/unset UF_TRUSTED_TO_AUTHENTICATE_FOR_DELEGATION
(S4U2Proxy) for an account.</p>

<p style="margin-top: 1em">delegation for-any-service
accountname [(on|off)] [options] <br>
Set/unset UF_TRUSTED_FOR_DELEGATION for an account.</p>

<p style="margin-top: 1em">delegation show accountname
[options] <br>
Show the delegation setting of an account.</p>

<p style="margin-top: 1em">dns <br>
Manage Domain Name Service (DNS).</p>

<p style="margin-top: 1em">dns add server zone name
A|AAAA|PTR|CNAME|NS|MX|SRV|TXT data <br>
Add a DNS record.</p>

<p style="margin-top: 1em">dns delete server zone name
A|AAAA|PTR|CNAME|NS|MX|SRV|TXT data <br>
Delete a DNS record.</p>

<p style="margin-top: 1em">dns query server zone name
A|AAAA|PTR|CNAME|NS|MX|SRV|TXT|ALL [options] data <br>
Query a name.</p>

<p style="margin-top: 1em">dns roothints server [name]
[options] <br>
Query root hints.</p>

<p style="margin-top: 1em">dns serverinfo server [options]
<br>
Query server information.</p>

<p style="margin-top: 1em">dns update server zone name
A|AAAA|PTR|CNAME|NS|MX|SRV|TXT olddata newdata <br>
Update a DNS record.</p>

<p style="margin-top: 1em">dns zonecreate server zone
[options] <br>
Create a zone.</p>

<p style="margin-top: 1em">dns zonedelete server zone
[options] <br>
Delete a zone.</p>

<p style="margin-top: 1em">dns zoneinfo server zone
[options] <br>
Query zone information.</p>

<p style="margin-top: 1em">dns zonelist server [options]
<br>
List zones.</p>

<p style="margin-top: 1em">domain <br>
Manage Domain.</p>

<p style="margin-top: 1em">domain classicupgrade [options]
classic_smb_conf <br>
Upgrade from Samba classic (NT4-like) database to Samba AD
DC database.</p>

<p style="margin-top: 1em">domain dcpromo dnsdomain
[DC|RODC] [options] <br>
Promote an existing domain member or NT4 PDC to an AD
DC.</p>

<p style="margin-top: 1em">domain demote <br>
Demote ourselves from the role of domain controller.</p>

<p style="margin-top: 1em">domain exportkeytab keytab
[options] <br>
Dumps Kerberos keys of the domain into a keytab.</p>

<p style="margin-top: 1em">domain info ip_address [options]
<br>
Print basic info about a domain and the specified DC.</p>

<p style="margin-top: 1em">domain join dnsdomain
[DC|RODC|MEMBER|SUBDOMAIN] [options] <br>
Join a domain as either member or backup domain
controller.</p>

<p style="margin-top: 1em">domain level show|raise options
[options] <br>
Show/raise domain and forest function levels.</p>

<p style="margin-top: 1em">domain passwordsettings show|set
options [options] <br>
Show/set password settings.</p>

<p style="margin-top: 1em">domain provision <br>
Promote an existing domain member or NT4 PDC to an AD
DC.</p>

<p style="margin-top: 1em">domain trust <br>
Domain and forest trust management.</p>

<p style="margin-top: 1em">domain trust create DOMAIN
options [options] <br>
Create a domain or forest trust.</p>

<p style="margin-top: 1em">domain trust delete DOMAIN
options [options] <br>
Delete a domain trust.</p>

<p style="margin-top: 1em">domain trust list options
[options] <br>
List domain trusts.</p>

<p style="margin-top: 1em">domain trust namespaces [DOMAIN]
options [options] <br>
Manage forest trust namespaces.</p>

<p style="margin-top: 1em">domain trust show DOMAIN options
[options] <br>
Show trusted domain details.</p>

<p style="margin-top: 1em">domain trust validate DOMAIN
options [options] <br>
Validate a domain trust.</p>

<p style="margin-top: 1em">drs <br>
Manage Directory Replication Services (DRS).</p>

<p style="margin-top: 1em">drs bind <br>
Show DRS capabilities of a server.</p>

<p style="margin-top: 1em">drs kcc <br>
Trigger knowledge consistency center run.</p>

<p style="margin-top: 1em">drs options <br>
Query or change options for NTDS Settings object of a domain
controller.</p>

<p style="margin-top: 1em">drs replicate destination_DC
source_DC NC [options] <br>
Replicate a naming context between two DCs.</p>

<p style="margin-top: 1em">drs showrepl <br>
Show replication status.</p>

<p style="margin-top: 1em">dsacl <br>
Administer DS ACLs</p>

<p style="margin-top: 1em">dsacl set <br>
Modify access list on a directory object.</p>

<p style="margin-top: 1em">fsmo <br>
Manage Flexible Single Master Operations (FSMO).</p>

<p style="margin-top: 1em">fsmo seize [options] <br>
Seize the role.</p>

<p style="margin-top: 1em">fsmo show <br>
Show the roles.</p>

<p style="margin-top: 1em">fsmo transfer [options] <br>
Transfer the role.</p>

<p style="margin-top: 1em">gpo <br>
Manage Group Policy Objects (GPO).</p>

<p style="margin-top: 1em">gpo create displayname [options]
<br>
Create an empty GPO.</p>

<p style="margin-top: 1em">gpo del gpo [options] <br>
Delete GPO.</p>

<p style="margin-top: 1em">gpo dellink container_dn gpo
[options] <br>
Delete GPO link from a container.</p>

<p style="margin-top: 1em">gpo fetch gpo [options] <br>
Download a GPO.</p>

<p style="margin-top: 1em">gpo getinheritance container_dn
[options] <br>
Get inheritance flag for a container.</p>

<p style="margin-top: 1em">gpo getlink container_dn
[options] <br>
List GPO Links for a container.</p>

<p style="margin-top: 1em">gpo list username [options] <br>
List GPOs for an account.</p>

<p style="margin-top: 1em">gpo listall <br>
List all GPOs.</p>

<p style="margin-top: 1em">gpo listcontainers gpo [options]
<br>
List all linked containers for a GPO.</p>

<p style="margin-top: 1em">gpo setinheritance container_dn
block|inherit [options] <br>
Set inheritance flag on a container.</p>

<p style="margin-top: 1em">gpo setlink container_dn gpo
[options] <br>
Add or Update a GPO link to a container.</p>

<p style="margin-top: 1em">gpo show gpo [options] <br>
Show information for a GPO.</p>

<p style="margin-top: 1em">group <br>
Manage groups.</p>

<p style="margin-top: 1em">group add groupname [options]
<br>
Create a new AD group.</p>

<p style="margin-top: 1em">group addmembers groupname
members [options] <br>
Add members to an AD group.</p>

<p style="margin-top: 1em">group delete groupname [options]
<br>
Delete an AD group.</p>

<p style="margin-top: 1em">group list <br>
List all groups.</p>

<p style="margin-top: 1em">group listmembers groupname
[options] <br>
List all members of the specified AD group.</p>

<p style="margin-top: 1em">group removemembers groupname
members [options] <br>
Remove members from the specified AD group.</p>

<p style="margin-top: 1em">ldapcmp URL1 URL2
domain|configuration|schema|dnsdomain|dnsforest [options]
<br>
Compare two LDAP databases.</p>

<p style="margin-top: 1em">ntacl <br>
Manage NT ACLs.</p>

<p style="margin-top: 1em">ntacl get file [options] <br>
Get ACLs on a file.</p>

<p style="margin-top: 1em">ntacl set acl file [options]
<br>
Set ACLs on a file.</p>

<p style="margin-top: 1em">ntacl sysvolcheck <br>
Check sysvol ACLs match defaults (including correct ACLs on
GPOs).</p>

<p style="margin-top: 1em">ntacl sysvolreset <br>
Reset sysvol ACLs to defaults (including correct ACLs on
GPOs).</p>

<p style="margin-top: 1em">rodc <br>
Manage Read-Only Domain Controller (RODC).</p>

<p style="margin-top: 1em">rodc preload SID|DN|accountname
[options] <br>
Preload one account for an RODC.</p>

<p style="margin-top: 1em">sites <br>
Manage sites.</p>

<p style="margin-top: 1em">sites create site [options] <br>
Create a new site.</p>

<p style="margin-top: 1em">sites remove site [options] <br>
Delete an existing site.</p>

<p style="margin-top: 1em">spn <br>
Manage Service Principal Names (SPN).</p>

<p style="margin-top: 1em">spn add name user [options] <br>
Create a new SPN.</p>

<p style="margin-top: 1em">spn delete name [user] [options]
<br>
Delete an existing SPN.</p>

<p style="margin-top: 1em">spn list user [options] <br>
List SPNs of a given user.</p>

<p style="margin-top: 1em">testparm <br>
Check the syntax of the configuration file.</p>

<p style="margin-top: 1em">time <br>
Retrieve the time on a server.</p>

<p style="margin-top: 1em">user <br>
Manage users.</p>

<p style="margin-top: 1em">user add username [password]
<br>
Create a new user. Please note that this subcommand is
deprecated and available for compatibility reasons only.
Please use samba-tool user create instead.</p>

<p style="margin-top: 1em">user create username [password]
<br>
Create a new user in the Active Directory Domain.</p>

<p style="margin-top: 1em">user delete username [options]
<br>
Delete an existing user account.</p>

<p style="margin-top: 1em">user disable username <br>
Disable an user account.</p>

<p style="margin-top: 1em">user enable username <br>
Enable an user account.</p>

<p style="margin-top: 1em">user list <br>
List all users.</p>

<p style="margin-top: 1em">user password [options] <br>
Change password for an user account (the one provided in
authentication).</p>

<p style="margin-top: 1em">user setexpiry username
[options] <br>
Set the expiration of an user account.</p>

<p style="margin-top: 1em">user setpassword username
[options] <br>
Sets or resets the password of an user account.</p>

<p style="margin-top: 1em">user getpassword username
[options] <br>
Gets the password of an user account.</p>

<p style="margin-top: 1em">user syncpasswords
--cache-ldb-initialize [options] <br>
Syncs the passwords of all user accounts, using an optional
script.</p>

<p style="margin-top: 1em">Note that this command should
run on a single domain controller only (typically the
PDC-emulator).</p>

<p style="margin-top: 1em">vampire [options] domain <br>
Join and synchronise a remote AD domain to the local server.
Please note that samba-tool vampire is deprecated, please
use samba-tool domain join instead.</p>

<p style="margin-top: 1em">help <br>
Gives usage information.</p>

<p style="margin-top: 1em">VERSION <br>
This man page is complete for version 4 of the Samba
suite.</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">The samba-tool manpage was
written by Karolin Seeger.</p>

<p style="margin-top: 1em">Samba 4.5 07/13/2017
SAMBA-TOOL(8)</p>
<hr>
</body>
</html>
