<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>dpkg-divert(8) dpkg utilities dpkg-divert(8)</p>

<p style="margin-top: 1em">NAME <br>
dpkg-divert - override a package&rsquo;s version of a
file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dpkg-divert [option...] command</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dpkg-divert is the utility used to set up and update the
list of diversions.</p>

<p style="margin-top: 1em">File diversions are a way of
forcing dpkg(1) not to install a file into its location, but
to a diverted location. Diversions can be used through the
Debian package scripts to <br>
move a file away when it causes a conflict. System
administrators can also use it to override some
package&rsquo;s configuration file, or whenever some files
(which aren&rsquo;t marked as <br>
&rsquo;conffiles&rsquo;) need to be preserved by dpkg, when
installing a newer version of a package which contains those
files.</p>

<p style="margin-top: 1em">COMMANDS <br>
[--add] file <br>
Add a diversion for file.</p>

<p style="margin-top: 1em">--remove file <br>
Remove a diversion for file.</p>

<p style="margin-top: 1em">--list glob-pattern <br>
List diversions matching glob-pattern.</p>

<p style="margin-top: 1em">--listpackage file <br>
Print the name of the package that diverts file. Prints
LOCAL if file is locally diverted and nothing if file is not
diverted.</p>

<p style="margin-top: 1em">--truename file <br>
Print the real name for a diverted file.</p>

<p style="margin-top: 1em">OPTIONS <br>
--admindir directory <br>
Set the dpkg data directory to directory (default:
/var/lib/dpkg).</p>

<p style="margin-top: 1em">--divert divert-to <br>
divert-to is the location where the versions of file, as
provided by other packages, will be diverted.</p>

<p style="margin-top: 1em">--local <br>
Specifies that all packages&rsquo; versions of this file are
diverted. This means, that there are no exceptions, and
whatever package is installed, the file is diverted. This
<br>
can be used by an admin to install a locally modified
version.</p>

<p style="margin-top: 1em">--package package <br>
package is the name of a package whose copy of file will not
be diverted. i.e. file will be diverted for all packages
except package.</p>

<p style="margin-top: 1em">--quiet <br>
Quiet mode, i.e. no verbose output.</p>

<p style="margin-top: 1em">--rename <br>
Actually move the file aside (or back). dpkg-divert will
abort operation in case the destination file already
exists.</p>

<p style="margin-top: 1em">--test Test mode, i.e.
don&rsquo;t actually perform any changes, just
demonstrate.</p>

<p style="margin-top: 1em">-?, --help <br>
Show the usage message and exit.</p>

<p style="margin-top: 1em">--version <br>
Show the version and exit.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
DPKG_ADMINDIR <br>
If set and the --admindir option has not been specified, it
will be used as the dpkg data directory.</p>

<p style="margin-top: 1em">DPKG_MAINTSCRIPT_PACKAGE <br>
If set and the --local and --package options have not been
specified, dpkg-divert will use it as the package name.</p>

<p style="margin-top: 1em">FILES <br>
/var/lib/dpkg/diversions <br>
File which contains the current list of diversions of the
system. It is located in the dpkg administration directory,
along with other files important to dpkg, such as <br>
status or available. <br>
Note: dpkg-divert preserves the old copy of this file, with
extension -old, before replacing it with the new one.</p>

<p style="margin-top: 1em">NOTES <br>
When adding, default is --local and --divert
original.distrib. When removing, --package or --local and
--divert must match if specified.</p>

<p style="margin-top: 1em">Directories can&rsquo;t be
diverted with dpkg-divert.</p>

<p style="margin-top: 1em">Care should be taken when
diverting shared libraries, ldconfig(8) creates a symbolic
link based on the DT_SONAME field embedded in the library.
Because ldconfig doesn&rsquo;t honour <br>
diverts (only dpkg does), the symlink may end up pointing at
the diverted library, if a diverted library has the same
SONAME as the undiverted one.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To divert all copies of a /usr/bin/example to
/usr/bin/example.foo, i.e. directs all packages providing
/usr/bin/example to install it as /usr/bin/example.foo,
performing the <br>
rename if required:</p>

<p style="margin-top: 1em">dpkg-divert --divert
/usr/bin/example.foo --rename /usr/bin/example</p>

<p style="margin-top: 1em">To remove that diversion:</p>

<p style="margin-top: 1em">dpkg-divert --rename --remove
/usr/bin/example</p>

<p style="margin-top: 1em">To divert any package trying to
install /usr/bin/example to /usr/bin/example.foo, except
your own wibble package:</p>

<p style="margin-top: 1em">dpkg-divert --package wibble
--divert /usr/bin/example.foo --rename /usr/bin/example</p>

<p style="margin-top: 1em">To remove that diversion:</p>

<p style="margin-top: 1em">dpkg-divert --package wibble
--rename --remove /usr/bin/example</p>

<p style="margin-top: 1em">SEE ALSO <br>
dpkg(1).</p>

<p style="margin-top: 1em">Debian Project 2011-08-14
dpkg-divert(8)</p>
<hr>
</body>
</html>
