<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BLKIOMON(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BLKIOMON(8)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">BLKIOMON(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
blkiomon - monitor block device I/O based o blktrace data
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>blkiomon -I <i>interval</i> [ -h <i>file</i> ] [ -b <i>file</i> ]</b> [ -d
  <i>file</i> ] [ -D <i>file</i> ] [ -Q <i>path_name</i> -q <i>msg_queue_id</i>
  -m <i>msg_id</i> ] [ -V ]
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
blkiomon is a block device I/O monitor. It periodically generates per-device
  request size and request latency statistics from blktrace data. It provides
  histograms as well as data that can be used to calculate min, max, average and
  variance. For this purpose, it consumes D and C traces read from stdin. Note,
  that this doesn't work for logical volumes, as high-level drivers don't see
  the completion of the events (C).
<div style="height: 1.00em;">&#x00A0;</div>
There are options for binary output and human-readable output to files and
  stdout. Output to a message queue is supported as well.
<div style="height: 1.00em;">&#x00A0;</div>
There is no need to use blkparse with blkiomon. blkiomon is capable of consuming
  binary output written to stdout by blktrace.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-I <i>interval</i>
<div>&#x00A0;</div>
--interval= <i>interval</i>
<div style="margin-left: 5.00ex;">Set sample interval</div>
<div style="height: 1.00em;">&#x00A0;</div>
-h <i>file</i>
<div>&#x00A0;</div>
--human-readable= <i>file</i>
<div style="margin-left: 5.00ex;">Human-readable output file. Use '-' for
  stdout.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-b <i>file</i>
<div>&#x00A0;</div>
--binary= <i>file</i>
<div style="margin-left: 5.00ex;">Binary output file. Use '-' for stdout.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-d <i>file</i>
<div>&#x00A0;</div>
--dump-lldd= <i>file</i>
<div style="margin-left: 5.00ex;">Output file for data emitted by low level
  device driver.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-D <i>file</i>
<div>&#x00A0;</div>
--debug= <i>file</i>
<div style="margin-left: 5.00ex;">Output file for debugging data. Use '-' for
  stdout.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-Q <i>path_name</i>
<div>&#x00A0;</div>
--msg-queue= <i>path_name</i>
<div style="margin-left: 5.00ex;">Sets <i>path_name</i> as path name for
  existing message queue to be used for binary output.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-q <i>msg_queue_id</i>
<div>&#x00A0;</div>
--msg-queue-id= <i>msg_queue_id</i>
<div style="margin-left: 5.00ex;">Sets <i>msg_queue_id</i> as ID for an existing
  message queue to be used for binary output.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-m <i>msg_id</i>
<div>&#x00A0;</div>
--msg-id= <i>msg_id</i>
<div style="margin-left: 5.00ex;">Sets <i>msg_id</i> as message identifier to be
  used for binary output messages written to an existing message queue.</div>
<div style="height: 1.00em;">&#x00A0;</div>
-V
<div>&#x00A0;</div>
--version
<div style="margin-left: 5.00ex;">Print program version.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To get I/O statistics for /dev/sdw every 10 seconds for a period of one hour,
  use the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 % blktrace /dev/sdw -a issue -a complete -w 3600 -o - | blkiomon -I 10 -h -
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
blkiomon and this man page were written by Martin Peschke.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to &lt;linux-btrace@vger.kernel.org&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2008 IBM Corp.
<div>&#x00A0;</div>
This is free software. You may redistribute copies of it under the terms of the
  GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;. There
  is NO WARRANTY, to the extent permitted by law.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
btrace (8), blktrace (8), blkparse (1), verify_blkparse (1), blkrawverify (1),
  btt (1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 17, 2008</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
