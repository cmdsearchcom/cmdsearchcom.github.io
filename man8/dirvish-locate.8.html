<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DIRVISH-LOCATE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DIRVISH-LOCATE(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">DIRVISH-LOCATE(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dirvish-locate - locate file versions in dirvish images
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dirvish-locate</b> <i>vault[:branch]</i> <i>pattern</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Locate versions of files in a dirvish vault
<div style="height: 1.00em;">&#x00A0;</div>
The index of each image specified <i>vault</i> is searched for paths matching
  <i>pattern</i>. Each path found matching the <i>pattern</i> will be reported
  followed by a modification time of each version of the file and all images
  having a link to it.
<div style="height: 1.00em;">&#x00A0;</div>
The optional <i>branch</i> specification will restrict searching to the
  specified branch.
<div style="height: 1.00em;">&#x00A0;</div>
Images with an error status will be skipped as will any without index files. The
  index file may be compressed by gzip or bzip2. See <b>tree</b> and
  <b>index</b> in <b>dirvish.conf(5)</b> for details.
<div style="height: 1.00em;">&#x00A0;</div>
The <i>pattern</i> is a <b>perl</b> regular expression to match the final
  component of the path. Append <b>.*</b> to the end of the pattern if you wish
  to match any substring of the whole path or <b>$</b> if you wish to anchor the
  pattern to the end of the path. See <b>perlre(1)</b> for details.
<div style="height: 1.00em;">&#x00A0;</div>
Directories are excluded from matching as they would wind up matching every file
  within them anyway. Symlinks are also excluded from matching.
<div style="height: 1.00em;">&#x00A0;</div>
If the <i>pattern</i> matches too many paths <b>dirvish-locate</b> will only
  report the paths matched and not versions. As a sanity check if the number of
  matches is really excessive <b>dirvish-locate</b> will limit the number of
  images searched. Excessive matches is an indication of an insufficiently
  specific <i>pattern</i>. Use the resulting path list to compose a more
  specific one.
<h1 class="Sh" title="Sh" id="EXIT_CODES"><a class="selflink" href="#EXIT_CODES">EXIT
  CODES</a></h1>
To facilitate further automation and integration of <b>dirvish-locate</b> with
  other tools <b>dirvish-locate provides rationalised exit codes.</b> The exit
  codes are range based. While the code for a specific error may change from one
  version to another it will remain within the specified range. So don't test
  for specific exit codes but instead test for a range of values. To the degree
  possible higher value ranges indicate more severe errors.
<dl class="Bl-tag">
  <dt class="It-tag">0</dt>
  <dd class="It-tag">success 200-219 An error was encountered in loading a
      configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">220-254</dt>
  <dd class="It-tag">An error was detected in the configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">255</dt>
  <dd class="It-tag">Incorrect usage.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/dirvish/master.conf</b></dt>
  <dd class="It-tag">alternate master configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/dirvish.conf</b></dt>
  <dd class="It-tag">master configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>bank/vault/image/</i><b>summary</b></dt>
  <dd class="It-tag">image creation summary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>bank/vault/image/</i><b>index</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>bank/vault/image/</i><b>index.gz</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>bank/vault/image/</i><b>index.bz2</b></dt>
  <dd class="It-tag">dirvish index file.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<pre>
dirvish.conf(5)
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
