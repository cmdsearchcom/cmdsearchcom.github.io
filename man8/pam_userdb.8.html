<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PAM_USERDB(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PAM_USERDB(8)</td>
    <td class="head-vol">Linux-PAM Manual</td>
    <td class="head-rtitle">PAM_USERDB(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pam_userdb - PAM module to authenticate against a db database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 15.00ex; text-indent: -15.00ex;"><b>pam_userdb.so</b>
  db= <i>/path/database</i> [debug] [crypt=[crypt|none]] [icase] [dump]
  [try_first_pass] [use_first_pass] [unknown_ok] [key_only]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The pam_userdb module is used to verify a username/password pair against values
  stored in a Berkeley DB database. The database is indexed by the username, and
  the data fields corresponding to the username keys are the passwords.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>crypt=[crypt|none]</b>
<div style="margin-left: 4.00ex;">Indicates whether encrypted or plaintext
  passwords are stored in the database. If it is <b>crypt</b>, passwords should
  be stored in the database in <b>crypt</b>(3) form. If <b>none</b> is selected,
  passwords should be stored in the database as plaintext.</div>
<div class="Pp"></div>
<b>db=</b><b></b><i>/path/database</i>
<div style="margin-left: 4.00ex;">Use the /path/database database for performing
  lookup. There is no default; the module will return <b>PAM_IGNORE</b> if no
  database is provided. Note that the path to the database file should be
  specified without the .db suffix.</div>
<div class="Pp"></div>
<b>debug</b>
<div style="margin-left: 4.00ex;">Print debug information.</div>
<div class="Pp"></div>
<b>dump</b>
<div style="margin-left: 4.00ex;">Dump all the entries in the database to the
  log. Don't do this by default!</div>
<div class="Pp"></div>
<b>icase</b>
<div style="margin-left: 4.00ex;">Make the password verification to be case
  insensitive (ie when working with registration numbers and such). Only works
  with plaintext password storage.</div>
<div class="Pp"></div>
<b>try_first_pass</b>
<div style="margin-left: 4.00ex;">Use the authentication token previously
  obtained by another module that did the conversation with the application. If
  this token can not be obtained then the module will try to converse. This
  option can be used for stacking different modules that need to deal with the
  authentication tokens.</div>
<div class="Pp"></div>
<b>use_first_pass</b>
<div style="margin-left: 4.00ex;">Use the authentication token previously
  obtained by another module that did the conversation with the application. If
  this token can not be obtained then the module will fail. This option can be
  used for stacking different modules that need to deal with the authentication
  tokens.</div>
<div class="Pp"></div>
<b>unknown_ok</b>
<div style="margin-left: 4.00ex;">Do not return error when checking for a user
  that is not in the database. This can be used to stack more than one
  pam_userdb module that will check a username/password pair in more than a
  database.</div>
<div class="Pp"></div>
<b>key_only</b>
<div style="margin-left: 4.00ex;">The username and password are concatenated
  together in the database hash as 'username-password' with a random value. if
  the concatenation of the username and password with a dash in the middle
  returns any result, the user is valid. this is useful in cases where the
  username may not be unique but the username and password pair are.</div>
<h1 class="Sh" title="Sh" id="MODULE_TYPES_PROVIDED"><a class="selflink" href="#MODULE_TYPES_PROVIDED">MODULE
  TYPES PROVIDED</a></h1>
The <b>auth</b> and <b>account</b> module types are provided.
<h1 class="Sh" title="Sh" id="RETURN_VALUES"><a class="selflink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
PAM_AUTH_ERR
<div style="margin-left: 4.00ex;">Authentication failure.</div>
<div class="Pp"></div>
PAM_AUTHTOK_RECOVERY_ERR
<div style="margin-left: 4.00ex;">Authentication information cannot be
  recovered.</div>
<div class="Pp"></div>
PAM_BUF_ERR
<div style="margin-left: 4.00ex;">Memory buffer error.</div>
<div class="Pp"></div>
PAM_CONV_ERR
<div style="margin-left: 4.00ex;">Conversation failure.</div>
<div class="Pp"></div>
PAM_SERVICE_ERR
<div style="margin-left: 4.00ex;">Error in service module.</div>
<div class="Pp"></div>
PAM_SUCCESS
<div style="margin-left: 4.00ex;">Success.</div>
<div class="Pp"></div>
PAM_USER_UNKNOWN
<div style="margin-left: 4.00ex;">User not known to the underlying
  authentication module.</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<div style="margin-left: 4.00ex;">
<pre>
auth  sufficient pam_userdb.so icase db=/etc/dbtest
    
</pre>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>crypt</b>(3), <b>pam.conf</b>(5), <b>pam.d</b>(5), <b>pam</b>(8)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
pam_userdb was written by Cristian Gafton &gt;gafton@redhat.com&lt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">11/05/2016</td>
    <td class="foot-os">Linux-PAM Manual</td>
  </tr>
</table>
</body>
</html>
