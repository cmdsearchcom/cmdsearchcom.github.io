<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MODPROBE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MODPROBE(8)</td>
    <td class="head-vol">modprobe</td>
    <td class="head-rtitle">MODPROBE(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
modprobe - Add and remove modules from the Linux Kernel
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 9.00ex; text-indent: -9.00ex;"><b>modprobe</b>
  [ <b>-v</b>] [<b>-V</b>] [<b>-C&#x00A0;</b><b></b><i>config-file</i>]
  [<b>-n</b>] [ <b>-i</b>] [<b>-q</b>] [<b>-b</b>] [<i>modulename</i>]
  [<b></b><i>module&#x00A0;parameters</i>...]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 9.00ex; text-indent: -9.00ex;"><b>modprobe</b>
  [-r] [ <b>-v</b>] [<b>-n</b>] [<b>-i</b>] [<b></b><i>modulename</i>...]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 9.00ex; text-indent: -9.00ex;"><b>modprobe</b>
  [-c]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 9.00ex; text-indent: -9.00ex;"><b>modprobe</b>
  [--dump-modversions] [ <i>filename</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>modprobe</b> intelligently adds or removes a module from the Linux kernel:
  note that for convenience, there is no difference between _ and - in module
  names (automatic underscore conversion is performed). <b>modprobe</b> looks in
  the module directory /lib/modules/`uname -r` for all the modules and other
  files, except for the optional configuration files in the /etc/modprobe.d
  directory (see <b>modprobe.d</b>(5)). <b>modprobe</b> will also use module
  options specified on the kernel command line in the form of
  &lt;module&gt;.&lt;option&gt; and blacklists in the form of
  modprobe.blacklist=&lt;module&gt;.
<div class="Pp"></div>
Note that unlike in 2.4 series Linux kernels (which are not supported by this
  tool) this version of <b>modprobe</b> does not do anything to the module
  itself: the work of resolving symbols and understanding parameters is done
  inside the kernel. So module failure is sometimes accompanied by a kernel
  message: see <b>dmesg</b>(8).
<div class="Pp"></div>
<b>modprobe</b> expects an up-to-date modules.dep.bin file as generated by the
  corresponding <b>depmod</b> utility shipped along with <b>modprobe</b> (see
  <b>depmod</b>(8)). This file lists what other modules each module needs (if
  any), and <b>modprobe</b> uses this to add or remove these dependencies
  automatically.
<div class="Pp"></div>
If any arguments are given after the <i>modulename</i>, they are passed to the
  kernel (in addition to any options listed in the configuration file).
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-a</b>, <b>--all</b>
<div style="margin-left: 4.00ex;">Insert all module names on the command
  line.</div>
<div class="Pp"></div>
<b>-b</b>, <b>--use-blacklist</b>
<div style="margin-left: 4.00ex;">This option causes <b>modprobe</b> to apply
  the <b>blacklist</b> commands in the configuration files (if any) to module
  names as well. It is usually used by <b>udev</b>(7).</div>
<div class="Pp"></div>
<b>-C</b>, <b>--config</b>
<div style="margin-left: 4.00ex;">This option overrides the default
  configuration directory (/etc/modprobe.d).
<div style="height: 1.00em;">&#x00A0;</div>
This option is passed through <b>install</b> or <b>remove</b> commands to other
  <b>modprobe</b> commands in the MODPROBE_OPTIONS environment variable.</div>
<div class="Pp"></div>
<b>-c</b>, <b>--showconfig</b>
<div style="margin-left: 4.00ex;">Dump out the effective configuration from the
  config directory and exit.</div>
<div class="Pp"></div>
<b>--dump-modversions</b>
<div style="margin-left: 4.00ex;">Print out a list of module versioning
  information required by a module. This option is commonly used by
  distributions in order to package up a Linux kernel module using module
  versioning deps.</div>
<div class="Pp"></div>
<b>-d</b>, <b>--dirname</b>
<div style="margin-left: 4.00ex;">Root directory for modules, / by
  default.</div>
<div class="Pp"></div>
<b>--first-time</b>
<div style="margin-left: 4.00ex;">Normally, <b>modprobe</b> will succeed (and do
  nothing) if told to insert a module which is already present or to remove a
  module which isn't present. This is ideal for simple scripts; however, more
  complicated scripts often want to know whether <b>modprobe</b> really did
  something: this option makes modprobe fail in the case that it actually didn't
  do anything.</div>
<div class="Pp"></div>
<b>--force-vermagic</b>
<div style="margin-left: 4.00ex;">Every module contains a small string
  containing important information, such as the kernel and compiler versions. If
  a module fails to load and the kernel complains that the &quot;version
  magic&quot; doesn't match, you can use this option to remove it. Naturally,
  this check is there for your protection, so this using option is dangerous
  unless you know what you're doing.
<div style="height: 1.00em;">&#x00A0;</div>
This applies to any modules inserted: both the module (or alias) on the command
  line and any modules on which it depends.</div>
<div class="Pp"></div>
<b>--force-modversion</b>
<div style="margin-left: 4.00ex;">When modules are compiled with
  CONFIG_MODVERSIONS set, a section detailing the versions of every interfaced
  used by (or supplied by) the module is created. If a module fails to load and
  the kernel complains that the module disagrees about a version of some
  interface, you can use &quot;--force-modversion&quot; to remove the version
  information altogether. Naturally, this check is there for your protection, so
  using this option is dangerous unless you know what you're doing.
<div style="height: 1.00em;">&#x00A0;</div>
This applies any modules inserted: both the module (or alias) on the command
  line and any modules on which it depends.</div>
<div class="Pp"></div>
<b>-f</b>, <b>--force</b>
<div style="margin-left: 4.00ex;">Try to strip any versioning information from
  the module which might otherwise stop it from loading: this is the same as
  using both <b>--force-vermagic</b> and <b>--force-modversion</b>. Naturally,
  these checks are there for your protection, so using this option is dangerous
  unless you know what you are doing.
<div style="height: 1.00em;">&#x00A0;</div>
This applies to any modules inserted: both the module (or alias) on the command
  line and any modules it on which it depends.</div>
<div class="Pp"></div>
<b>-i</b>, <b>--ignore-install</b>, <b>--ignore-remove</b>
<div style="margin-left: 4.00ex;">This option causes <b>modprobe</b> to ignore
  <b>install</b> and <b>remove</b> commands in the configuration file (if any)
  for the module specified on the command line (any dependent modules are still
  subject to commands set for them in the configuration file). Both
  <b>install</b> and <b>remove</b> commands will currently be ignored when this
  option is used regardless of whether the request was more specifically made
  with only one or other (and not both) of <b>--ignore-install</b> or
  <b>--ignore-remove</b>. See <b>modprobe.d</b>(5).</div>
<div class="Pp"></div>
<b>-n</b>, <b>--dry-run</b>, <b>--show</b>
<div style="margin-left: 4.00ex;">This option does everything but actually
  insert or delete the modules (or run the install or remove commands). Combined
  with <b>-v</b>, it is useful for debugging problems. For historical reasons
  both <b>--dry-run</b> and <b>--show</b> actually mean the same thing and are
  interchangeable.</div>
<div class="Pp"></div>
<b>-q</b>, <b>--quiet</b>
<div style="margin-left: 4.00ex;">With this flag, <b>modprobe</b> won't print an
  error message if you try to remove or insert a module it can't find (and isn't
  an alias or <b>install</b>/<b>remove</b> command). However, it will still
  return with a non-zero exit status. The kernel uses this to opportunistically
  probe for modules which might exist using request_module.</div>
<div class="Pp"></div>
<b>-R</b>, <b>--resolve-alias</b>
<div style="margin-left: 4.00ex;">Print all module names matching an alias. This
  can be useful for debugging module alias problems.</div>
<div class="Pp"></div>
<b>-r</b>, <b>--remove</b>
<div style="margin-left: 4.00ex;">This option causes <b>modprobe</b> to remove
  rather than insert a module. If the modules it depends on are also unused,
  <b>modprobe</b> will try to remove them too. Unlike insertion, more than one
  module can be specified on the command line (it does not make sense to specify
  module parameters when removing modules).
<div style="height: 1.00em;">&#x00A0;</div>
There is usually no reason to remove modules, but some buggy modules require it.
  Your distribution kernel may not have been built to support removal of modules
  at all.</div>
<div class="Pp"></div>
<b>-S</b>, <b>--set-version</b>
<div style="margin-left: 4.00ex;">Set the kernel version, rather than using
  <b>uname</b>(2) to decide on the kernel version (which dictates where to find
  the modules).</div>
<div class="Pp"></div>
<b>--show-depends</b>
<div style="margin-left: 4.00ex;">List the dependencies of a module (or alias),
  including the module itself. This produces a (possibly empty) set of module
  filenames, one per line, each starting with &quot;insmod&quot; and is
  typically used by distributions to determine which modules to include when
  generating initrd/initramfs images. <b>Install</b> commands which apply are
  shown prefixed by &quot;install&quot;. It does not run any of the install
  commands. Note that <b>modinfo</b>(8) can be used to extract dependencies of a
  module from the module itself, but knows nothing of aliases or install
  commands.</div>
<div class="Pp"></div>
<b>-s</b>, <b>--syslog</b>
<div style="margin-left: 4.00ex;">This option causes any error messages to go
  through the syslog mechanism (as LOG_DAEMON with level LOG_NOTICE) rather than
  to standard error. This is also automatically enabled when stderr is
  unavailable.
<div style="height: 1.00em;">&#x00A0;</div>
This option is passed through <b>install</b> or <b>remove</b> commands to other
  <b>modprobe</b> commands in the MODPROBE_OPTIONS environment variable.</div>
<div class="Pp"></div>
<b>-V</b>, <b>--version</b>
<div style="margin-left: 4.00ex;">Show version of program and exit.</div>
<div class="Pp"></div>
<b>-v</b>, <b>--verbose</b>
<div style="margin-left: 4.00ex;">Print messages about what the program is
  doing. Usually <b>modprobe</b> only prints messages if something goes wrong.
<div style="height: 1.00em;">&#x00A0;</div>
This option is passed through <b>install</b> or <b>remove</b> commands to other
  <b>modprobe</b> commands in the MODPROBE_OPTIONS environment variable.</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The MODPROBE_OPTIONS environment variable can also be used to pass arguments to
  <b>modprobe</b>.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
This manual page originally Copyright 2002, Rusty Russell, IBM Corporation.
  Maintained by Jon Masters and others.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>modprobe.d</b>(5), <b>insmod</b>(8), <b>rmmod</b>(8), <b>lsmod</b>(8),
  <b>modinfo</b>(8)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>Jon Masters</b> &lt;jcm@jonmasters.org&gt;
<div style="margin-left: 4.00ex;">Developer</div>
<div class="Pp"></div>
<b>Robby Workman</b> &lt;rworkman@slackware.com&gt;
<div style="margin-left: 4.00ex;">Developer</div>
<div class="Pp"></div>
<b>Lucas De Marchi</b> &lt;lucas.de.marchi@gmail.com&gt;
<div style="margin-left: 4.00ex;">Developer</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">03/01/2015</td>
    <td class="foot-os">kmod</td>
  </tr>
</table>
</body>
</html>
