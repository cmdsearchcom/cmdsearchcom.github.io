<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:29 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MODPROBE(8) modprobe MODPROBE(8)</p>

<p style="margin-top: 1em">NAME <br>
modprobe - Add and remove modules from the Linux Kernel</p>

<p style="margin-top: 1em">SYNOPSIS <br>
modprobe [-v] [-V] [-C config-file] [-n] [-i] [-q] [-b]
[modulename] [module parameters...]</p>

<p style="margin-top: 1em">modprobe [-r] [-v] [-n] [-i]
[modulename...]</p>

<p style="margin-top: 1em">modprobe [-c]</p>

<p style="margin-top: 1em">modprobe [--dump-modversions]
[filename]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
modprobe intelligently adds or removes a module from the
Linux kernel: note that for convenience, there is no
difference between _ and - in module names (automatic
underscore <br>
conversion is performed). modprobe looks in the module
directory /lib/modules/&lsquo;uname -r&lsquo; for all the
modules and other files, except for the optional
configuration files in the <br>
/etc/modprobe.d directory (see modprobe.d(5)). modprobe will
also use module options specified on the kernel command line
in the form of &lt;module&gt;.&lt;option&gt; and blacklists
in the <br>
form of modprobe.blacklist=&lt;module&gt;.</p>

<p style="margin-top: 1em">Note that unlike in 2.4 series
Linux kernels (which are not supported by this tool) this
version of modprobe does not do anything to the module
itself: the work of resolving <br>
symbols and understanding parameters is done inside the
kernel. So module failure is sometimes accompanied by a
kernel message: see dmesg(8).</p>

<p style="margin-top: 1em">modprobe expects an up-to-date
modules.dep.bin file as generated by the corresponding
depmod utility shipped along with modprobe (see depmod(8)).
This file lists what other <br>
modules each module needs (if any), and modprobe uses this
to add or remove these dependencies automatically.</p>

<p style="margin-top: 1em">If any arguments are given after
the modulename, they are passed to the kernel (in addition
to any options listed in the configuration file).</p>

<p style="margin-top: 1em">OPTIONS <br>
-a, --all <br>
Insert all module names on the command line.</p>

<p style="margin-top: 1em">-b, --use-blacklist <br>
This option causes modprobe to apply the blacklist commands
in the configuration files (if any) to module names as well.
It is usually used by udev(7).</p>

<p style="margin-top: 1em">-C, --config <br>
This option overrides the default configuration directory
(/etc/modprobe.d).</p>

<p style="margin-top: 1em">This option is passed through
install or remove commands to other modprobe commands in the
MODPROBE_OPTIONS environment variable.</p>

<p style="margin-top: 1em">-c, --showconfig <br>
Dump out the effective configuration from the config
directory and exit.</p>

<p style="margin-top: 1em">--dump-modversions <br>
Print out a list of module versioning information required
by a module. This option is commonly used by distributions
in order to package up a Linux kernel module using <br>
module versioning deps.</p>

<p style="margin-top: 1em">-d, --dirname <br>
Root directory for modules, / by default.</p>

<p style="margin-top: 1em">--first-time <br>
Normally, modprobe will succeed (and do nothing) if told to
insert a module which is already present or to remove a
module which isn&rsquo;t present. This is ideal for simple
<br>
scripts; however, more complicated scripts often want to
know whether modprobe really did something: this option
makes modprobe fail in the case that it actually
didn&rsquo;t do <br>
anything.</p>

<p style="margin-top: 1em">--force-vermagic <br>
Every module contains a small string containing important
information, such as the kernel and compiler versions. If a
module fails to load and the kernel complains that the <br>
&quot;version magic&quot; doesn&rsquo;t match, you can use
this option to remove it. Naturally, this check is there for
your protection, so this using option is dangerous unless
you know <br>
what you&rsquo;re doing.</p>

<p style="margin-top: 1em">This applies to any modules
inserted: both the module (or alias) on the command line and
any modules on which it depends.</p>

<p style="margin-top: 1em">--force-modversion <br>
When modules are compiled with CONFIG_MODVERSIONS set, a
section detailing the versions of every interfaced used by
(or supplied by) the module is created. If a module fails
<br>
to load and the kernel complains that the module disagrees
about a version of some interface, you can use
&quot;--force-modversion&quot; to remove the version
information altogether. <br>
Naturally, this check is there for your protection, so using
this option is dangerous unless you know what you&rsquo;re
doing.</p>

<p style="margin-top: 1em">This applies any modules
inserted: both the module (or alias) on the command line and
any modules on which it depends.</p>

<p style="margin-top: 1em">-f, --force <br>
Try to strip any versioning information from the module
which might otherwise stop it from loading: this is the same
as using both --force-vermagic and --force-modversion. <br>
Naturally, these checks are there for your protection, so
using this option is dangerous unless you know what you are
doing.</p>

<p style="margin-top: 1em">This applies to any modules
inserted: both the module (or alias) on the command line and
any modules it on which it depends.</p>

<p style="margin-top: 1em">-i, --ignore-install,
--ignore-remove <br>
This option causes modprobe to ignore install and remove
commands in the configuration file (if any) for the module
specified on the command line (any dependent modules are
<br>
still subject to commands set for them in the configuration
file). Both install and remove commands will currently be
ignored when this option is used regardless of whether <br>
the request was more specifically made with only one or
other (and not both) of --ignore-install or --ignore-remove.
See modprobe.d(5).</p>

<p style="margin-top: 1em">-n, --dry-run, --show <br>
This option does everything but actually insert or delete
the modules (or run the install or remove commands).
Combined with -v, it is useful for debugging problems. For
<br>
historical reasons both --dry-run and --show actually mean
the same thing and are interchangeable.</p>

<p style="margin-top: 1em">-q, --quiet <br>
With this flag, modprobe won&rsquo;t print an error message
if you try to remove or insert a module it can&rsquo;t find
(and isn&rsquo;t an alias or install/remove command).
However, it will <br>
still return with a non-zero exit status. The kernel uses
this to opportunistically probe for modules which might
exist using request_module.</p>

<p style="margin-top: 1em">-R, --resolve-alias <br>
Print all module names matching an alias. This can be useful
for debugging module alias problems.</p>

<p style="margin-top: 1em">-r, --remove <br>
This option causes modprobe to remove rather than insert a
module. If the modules it depends on are also unused,
modprobe will try to remove them too. Unlike insertion, more
<br>
than one module can be specified on the command line (it
does not make sense to specify module parameters when
removing modules).</p>

<p style="margin-top: 1em">There is usually no reason to
remove modules, but some buggy modules require it. Your
distribution kernel may not have been built to support
removal of modules at all.</p>

<p style="margin-top: 1em">-S, --set-version <br>
Set the kernel version, rather than using uname(2) to decide
on the kernel version (which dictates where to find the
modules).</p>

<p style="margin-top: 1em">--show-depends <br>
List the dependencies of a module (or alias), including the
module itself. This produces a (possibly empty) set of
module filenames, one per line, each starting with
&quot;insmod&quot; <br>
and is typically used by distributions to determine which
modules to include when generating initrd/initramfs images.
Install commands which apply are shown prefixed by <br>
&quot;install&quot;. It does not run any of the install
commands. Note that modinfo(8) can be used to extract
dependencies of a module from the module itself, but knows
nothing of <br>
aliases or install commands.</p>

<p style="margin-top: 1em">-s, --syslog <br>
This option causes any error messages to go through the
syslog mechanism (as LOG_DAEMON with level LOG_NOTICE)
rather than to standard error. This is also automatically
<br>
enabled when stderr is unavailable.</p>

<p style="margin-top: 1em">This option is passed through
install or remove commands to other modprobe commands in the
MODPROBE_OPTIONS environment variable.</p>

<p style="margin-top: 1em">-V, --version <br>
Show version of program and exit.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Print messages about what the program is doing. Usually
modprobe only prints messages if something goes wrong.</p>

<p style="margin-top: 1em">This option is passed through
install or remove commands to other modprobe commands in the
MODPROBE_OPTIONS environment variable.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The MODPROBE_OPTIONS environment variable can also be used
to pass arguments to modprobe.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
This manual page originally Copyright 2002, Rusty Russell,
IBM Corporation. Maintained by Jon Masters and others.</p>

<p style="margin-top: 1em">SEE ALSO <br>
modprobe.d(5), insmod(8), rmmod(8), lsmod(8), modinfo(8)</p>

<p style="margin-top: 1em">AUTHORS <br>
Jon Masters &lt;jcm@jonmasters.org&gt; <br>
Developer</p>

<p style="margin-top: 1em">Robby Workman
&lt;rworkman@slackware.com&gt; <br>
Developer</p>

<p style="margin-top: 1em">Lucas De Marchi
&lt;lucas.de.marchi@gmail.com&gt; <br>
Developer</p>

<p style="margin-top: 1em">kmod 03/01/2015 MODPROBE(8)</p>
<hr>
</body>
</html>
