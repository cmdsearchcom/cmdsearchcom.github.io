<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PUPPET-CERTIFICATE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PUPPET-CERTIFICATE(8)</td>
    <td class="head-vol">Puppet manual</td>
    <td class="head-rtitle">PUPPET-CERTIFICATE(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>puppet-certificate</b> - Provide access to the CA for certificate management.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
puppet certificate <i>action</i> [--terminus TERMINUS] [--extra HASH]
  <i>--ca-location LOCATION</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This subcommand interacts with a local or remote Puppet certificate authority.
  Currently, its behavior is not a full superset of <b>puppet cert</b>;
  specifically, it is unable to mimic puppet cert&#x00B4;s &quot;clean&quot;
  option, and its &quot;generate&quot; action submits a CSR rather than creating
  a signed certificate.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Note that any setting that&#x00B4;s valid in the configuration file is also a
  valid long argument, although it may or may not be relevant to the present
  action. For example, <b>server</b> and <b>run_mode</b> are valid settings, so
  you can specify <b>--server &lt;servername&gt;</b>, or <b>--run_mode
  &lt;runmode&gt;</b> as an argument.
<div class="Pp"></div>
See the configuration file documentation at
  <i>https://docs.puppetlabs.com/references/stable/configuration.html</i> for
  the full list of acceptable parameters. A commented list of all configuration
  options can also be generated by running puppet with <b>--genconfig</b>.
<dl class="Bl-tag">
  <dt class="It-tag">--render-as FORMAT</dt>
  <dd class="It-tag">The format in which to render output. The most common
      formats are <b>json</b>, <b>s</b> (string), <b>yaml</b>, and
      <b>console</b>, but other options such as <b>dot</b> are sometimes
      available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--verbose</dt>
  <dd class="It-tag">Whether to log verbosely.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--debug</dt>
  <dd class="It-tag">Whether to log debug information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--ca-location LOCATION</dt>
  <dd class="It-tag">Whether to act on the local certificate authority or one
      provided by a remote puppet master. Allowed values are
      &#x00B4;local&#x00B4; and &#x00B4;remote.&#x00B4;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This option is required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--extra HASH</dt>
  <dd class="It-tag">A terminus can take additional arguments to refine the
      operation, which are passed as an arbitrary hash to the back-end. Anything
      passed as the extra value is just send direct to the back-end.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--terminus TERMINUS</dt>
  <dd class="It-tag">Indirector faces expose indirected subsystems of Puppet.
      These subsystems are each able to retrieve and alter a specific type of
      data (with the familiar actions of <b>find</b>, <b>search</b>,
      <b>save</b>, and <b>destroy</b>) from an arbitrary number of pluggable
      backends. In Puppet parlance, these backends are called terminuses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Almost all indirected subsystems have a <b>rest</b>
      terminus that interacts with the puppet master&#x00B4;s data. Most of them
      have additional terminuses for various local data models, which are in
      turn used by the indirected subsystem on the puppet master whenever it
      receives a remote request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The terminus for an action is often determined by context,
      but occasionally needs to be set explicitly. See the &quot;Notes&quot;
      section of this face&#x00B4;s manpage for more details.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>destroy</b> - Delete a certificate.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet certificate destroy [--terminus TERMINUS] [--extra
      HASH] <i>--ca-location LOCATION</i> <i>host</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Deletes a certificate. This action currently only works on
      the local CA.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Nothing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>find</b> - Retrieve a certificate.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet certificate find [--terminus TERMINUS] [--extra
      HASH] <i>--ca-location LOCATION</i> <i>host</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Retrieve a certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">An x509 SSL certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Note that this action has a side effect of caching a copy
      of the certificate in Puppet&#x00B4;s <b>ssldir</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>generate</b> - Generate a new certificate signing
    request.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet certificate generate [--terminus TERMINUS] [--extra
      HASH] <i>--ca-location LOCATION</i> [--dns-alt-names NAMES]
    <i>host</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Generates and submits a certificate signing request (CSR)
      for the specified host. This CSR will then have to be signed by a user
      with the proper authorization on the certificate authority.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Puppet agent usually handles CSR submission automatically.
      This action is primarily useful for requesting certificates for individual
      users and external applications.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>OPTIONS</b> <i>--dns-alt-names NAMES</i> - The
      comma-separated list of alternative DNS names to use for the local
    host.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When the node generates a CSR for itself, these are added
      to the request as the desired <b>subjectAltName</b> in the certificate:
      additional DNS labels that the certificate is also valid answering
    as.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This is generally required if you use a non-hostname
      <b>certname</b>, or if you want to use <b>puppet kick</b> or <b>puppet
      resource -H</b> and the primary certname does not match the DNS name you
      use to communicate with the host.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This is unnecessary for agents, unless you intend to use
      them as a server for <b>puppet kick</b> or remote <b>puppet resource</b>
      management.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It is rarely necessary for servers; it is usually helpful
      only if you need to have a pool of multiple load balanced masters, or for
      the same master to respond on two physically separate networks under
      different names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Nothing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>info</b> - Print the default terminus class for this
    face.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet certificate info [--terminus TERMINUS] [--extra
      HASH] <i>--ca-location LOCATION</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Prints the default terminus class for this subcommand. Note
      that different run modes may have different default termini; when in
      doubt, specify the run mode with the &#x00B4;--run_mode&#x00B4;
    option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list</b> - List all certificate signing requests.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet certificate list [--terminus TERMINUS] [--extra
      HASH] <i>--ca-location LOCATION</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">List all certificate signing requests.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">An array of #inspect output from CSR objects. This output
      is currently messy, but does contain the names of nodes requesting
      certificates. This action returns #inspect strings even when used from the
      Ruby API.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sign</b> - Sign a certificate signing request for
    HOST.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet certificate sign [--terminus TERMINUS] [--extra
      HASH] <i>--ca-location LOCATION</i> [--[no-]allow-dns-alt-names]
      <i>host</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Sign a certificate signing request for HOST.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>OPTIONS</b> <i>--[no-]allow-dns-alt-names</i> - Whether
      or not to accept DNS alt names in the certificate request</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">A string that appears to be (but isn&#x00B4;t) an x509
      certificate.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>generate</b>
<div class="Pp"></div>
Request a certificate for &quot;somenode&quot; from the site&#x00B4;s CA:
<div class="Pp"></div>
$ puppet certificate generate somenode.puppetlabs.lan --ca-location remote
<div class="Pp"></div>
<b>sign</b>
<div class="Pp"></div>
Sign somenode.puppetlabs.lan&#x00B4;s certificate:
<div class="Pp"></div>
$ puppet certificate sign somenode.puppetlabs.lan --ca-location remote
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
This subcommand is an indirector face, which exposes <b>find</b>, <b>search</b>,
  <b>save</b>, and <b>destroy</b> actions for an indirected subsystem of Puppet.
  Valid termini for this face include:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>ca</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>disabled_ca</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>file</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>rest</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT_AND_LICENSE"><a class="selflink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
Copyright 2011 by Puppet Labs Apache 2 license; see COPYING</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 2015</td>
    <td class="foot-os">Puppet Labs, LLC</td>
  </tr>
</table>
</body>
</html>
