<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CRM_REPORT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CRM_REPORT(8)</td>
    <td class="head-vol">System Administration Utilities</td>
    <td class="head-rtitle">CRM_REPORT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
crm_report - Part of the Pacemaker cluster resource manager
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>crm_report</b> <i>--from date-time </i>[<i>--to date-time</i>] [<i>additional
  options</i>] [ <i>dest</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
crm_report - Create a tarball containing everything needed when reporting
  cluster problems
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">increase verbosity</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>,--version</dt>
  <dd class="It-tag">software version</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features</b></dt>
  <dd class="It-tag">software features</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--from</b> time</dt>
  <dd class="It-tag">time prior to problems beginning: &quot;YYYY-M-D
      H:M:S&quot; (do not forget the quotes)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--to</b> time</dt>
  <dd class="It-tag">time at which all problems were resolved: &quot;YYYY-M-D
      H:M:S&quot; (default: 'now')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b>, <b>--cts</b> test</dt>
  <dd class="It-tag">CTS test or set of tests to extract</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cts-log</b></dt>
  <dd class="It-tag">CTS master logfile</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--nodes</b> nodes</dt>
  <dd class="It-tag">node names for this cluster only needed if the cluster is
      not active on the current machine accepts both <b>-n</b> &quot;a b&quot;
      and <b>-n</b> a <b>-n</b> b</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--logfile</b> file</dt>
  <dd class="It-tag">log file to collect, normally this will be determined
      automatically</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> patt</dt>
  <dd class="It-tag">additional regular expression to match variables to be
      removed (default: &quot;passw.*&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b> patt</dt>
  <dd class="It-tag">additional regular expression to match in log files for
      analysis (default: CRIT: ERROR:)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b></dt>
  <dd class="It-tag">collect only the logs specified by <b>-l</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>, <b>--single-node</b></dt>
  <dd class="It-tag">single node operation; don't try to start report collectors
      on other nodes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--cluster</b> type</dt>
  <dd class="It-tag">force the cluster type
      (corosync,openais,heartbeat,logmaster)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>, <b>--openais</b></dt>
  <dd class="It-tag">force the cluster type to be OpenAIS</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>, <b>--corosync</b></dt>
  <dd class="It-tag">force the cluster type to be CoroSync</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b>, <b>--heartbeat</b></dt>
  <dd class="It-tag">force the cluster type to be Heartbeat</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>, <b>--user</b> user</dt>
  <dd class="It-tag">ssh username for cluster nodes (default: root)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b>, <b>--depth</b></dt>
  <dd class="It-tag">search depth to use when attempting to locate files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--rsh</b></dt>
  <dd class="It-tag">specify the remote shell to use (default: ssh
    <b>-T</b>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sos-mode</b></dt>
  <dd class="It-tag">use defaults suitable for being called by sosreport tool
      (behavior subject to change and not useful to end users)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dest</b></dt>
  <dd class="It-tag">a custom destination directory/file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">dest</dt>
  <dd class="It-tag">a custom destination directory/file</dd>
</dl>
<div class="Pp"></div>
crm_report works best when run from a cluster node on a running cluster, but can
  be run from a stopped cluster node or a Pacemaker Remote node.
<div class="Pp"></div>
If neither <b>--nodes</b> nor <b>--single-node</b> is given, crm_report will
  guess the node list, but may have trouble detecting Pacemaker Remote nodes.
  Unless <b>--single-node</b> is given, the node names (whether specified by
  <b>--nodes</b> or detected automatically) must be resolvable and reachable via
  ssh.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">crm_report -f &quot;2011-12-14 13:05:00&quot;
      unexplained-apache-failure crm_report -f 2011-12-14 -t 2011-12-15
      something-that-took-multiple-days crm_report -f 13:05:00 -t 13:12:00
      brief-outage</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 2017</td>
    <td class="foot-os">crm_report 1.1.15-e174ec8</td>
  </tr>
</table>
</body>
</html>
