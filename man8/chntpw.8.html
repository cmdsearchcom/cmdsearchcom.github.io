<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CHNTPW(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CHNTPW(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">CHNTPW(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
chntpw - utility to overwrite passwords of Windows systems
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>chntpw</b> [<i>options</i>] &lt;<i>samfile</i>&gt; [<i>systemfile</i>]
  [<i>securityfile</i>] [<i>otherreghive</i>] [...]
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This manual page documents briefly the <b>chntpw</b> command. This manual page
  was written for the Debian distribution because the original program does not
  have a manual page.
<div class="Pp"></div>
<b>chntpw</b> is a utility to view some information and reset user passwords in
  a Windows NT/2000 SAM userdatabase file used by Microsoft Windows Operating
  System (in NT3.x and later versions). This file is usually located at
  \WINDOWS\system32\config\SAM on the Windows file system. It is not necessary
  to know the previous passwords to reset them. In addition it contains a simple
  registry editor and ahex-editor with which the information contained in a
  registry file can be browsed and modified.
<div style="height: 1.00em;">&#x00A0;</div>
This program should be able to handle both 32 and 64 bit Microsoft Windows and
  all versions from NT3.x up to Win8.1.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Show a summary of options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u username</b></dt>
  <dd class="It-tag">Username or username ID (RID) to change. The default is
      'Administrator'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">List all users in the SAM database and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">Interactive Menu system: list all users (as per -l option)
      and then ask for the user to change.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Registry editor with limited capabilities (but it does
      include write support). For a slightly more powerful editor see
      <b>reged</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Use buffer debugger instead (hex editor)
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>-L</b> Log all changed filenames to /tmp/changed. When this option is set
      the program automatically saves the changes in the hive files without
      prompting the user.
    <div style="height: 1.00em;">&#x00A0;</div>
    Be careful when using the <b>-L</b> option as a root user in a multiuser
      system. The filename is fixed and this can be used by malicious users
      (dropping a symlink with the same name) to overwrite system files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b></dt>
  <dd class="It-tag">Do not allocate more information, only allow the editing of
      existing values with same size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b></dt>
  <dd class="It-tag">Do not expand the hive file (safe mode).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Print verbose information and debug messages.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ntfs-3g /dev/sda1 /media/win ; cd
    /media/win/WINDOWS/system32/config/</b></dt>
  <dd class="It-tag">Mount the Windows file system and enters the directory
      <b>\WINDOWS\system32\config</b> where Windows stores the SAM
    database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>chntpw SAM system</b></dt>
  <dd class="It-tag">Opens registry hives <b>SAM</b> and <b>system</b> and
      change administrator account. This will work even if the name has been
      changed or it has been localized (since different language versions of NT
      use different administrator names).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>chntpw -l SAM</b></dt>
  <dd class="It-tag">Lists the users defined in the <b>SAM</b> registry
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>chntpw -u jabbathehutt SAM</b></dt>
  <dd class="It-tag">Prompts for password for <b>jabbathehutt</b> and changes it
      in the <b>SAM</b> registry file, if found (otherwise do nothing).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="KNOWN_BUGS"><a class="selflink" href="#KNOWN_BUGS">KNOWN
  BUGS</a></h1>
This program uses undocumented structures in the SAM database. Use with caution
  (i.e. make sure you make a backup of the file before any changes are done).
<div style="height: 1.00em;">&#x00A0;</div>
Password changing is only possible if the program has been specifically compiled
  with some cryptographic functions. This feature, however, only works properly
  in Windows NT and Windows 2000 systems. It might not work properly in Windows
  XP, Vista, Win7, Win8 and later systems.
<div style="height: 1.00em;">&#x00A0;</div>
In the Debian distribution this feature is not enabled.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>reged, samusrgrp, sampasswd</b>
<div style="height: 1.00em;">&#x00A0;</div>
If you are looking for an automated procedure for password recovery, you might
  want to check the bootdisks (can be used in CD and USB drives) provided by the
  upstream author at <b>http://pogostick.net/~pnh/ntpasswd/</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
You will find more information available on how this program works, including
  in-depth details on how the registry works, in the text files
  <i>/usr/share/doc/chntpw/README.txt</i> and
  <i>/usr/share/doc/chntpw/MANUAL.txt</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This program was written by Petter N Hagen.
<div style="height: 1.00em;">&#x00A0;</div>
This manual page was written by Javier Fernandez-Sanguino
  &lt;jfs@debian.org&gt;, for the Debian GNU/Linux system (but may be used by
  others).</div>
<table class="foot">
  <tr>
    <td class="foot-date">13th March 2010</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
