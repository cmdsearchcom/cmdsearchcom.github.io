<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:42 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ASTGENKEY(8) Linux Programmer&rsquo;s Manual
ASTGENKEY(8)</p>

<p style="margin-top: 1em">NAME <br>
astgenkey - generates keys for for Asterisk IAX2 RSA
authentication</p>

<p style="margin-top: 1em">SYNOPSIS <br>
astgenkey [ -q ] [ -n ] [ keyname ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
astgenkey This script generates an RSA private and public
key pair in PEM format for use by Asterisk. The private key
should be kept a secret, as it can be used to fake your <br>
system&rsquo;s identity. Thus by default (without the option
-n ) the script will create a passphrase-encrypted copy of
your secret key: without entering the passphrase you
won&rsquo;t be <br>
able to use it.</p>

<p style="margin-top: 1em">However if you want to use such
a key with Asterisk, you&rsquo;ll have to start it
interactively, because the scripts that start asterisk
can&rsquo;t use that encrypted key.</p>

<p style="margin-top: 1em">The key is identified by a name.
If you don&rsquo;t write the name on the command-line
you&rsquo;ll be prompted for one. The outputs of the script
are:</p>

<p style="margin-top: 1em">name.pub <br>
The public key: not secret. Send this to the other side.</p>

<p style="margin-top: 1em">name.key <br>
The private key: secret.</p>

<p style="margin-top: 1em">Those files should be copied to
/var/lib/asterisk/keys</p>

<p style="margin-top: 1em">(The private key: on your
system. The public key: on other systems)</p>

<p style="margin-top: 1em">To see the currently-installed
keys from the asterisk CLI, use the command</p>

<p style="margin-top: 1em">keys show</p>

<p style="margin-top: 1em">OPTIONS <br>
-q <br>
Run quietly.</p>

<p style="margin-top: 1em">-n <br>
Don&rsquo;t encrypt the private key.</p>

<p style="margin-top: 1em">SECURITY <br>
The keys are created, using the umask of the user running
the command. To create the keys in a secure manner, you
should check to ensure that your umask is first set to
disallow <br>
the private key from being world- readable, such as with the
following commands:</p>

<p style="margin-top: 1em">umask 0066</p>

<p style="margin-top: 1em">astgenkey yourkey</p>

<p style="margin-top: 1em">And then make the key accessible
to Asterisk (assuming you run it as user
&quot;asterisk&quot;).</p>

<p style="margin-top: 1em">chown asterisk
/var/lib/asterisk/keys/yourname.*</p>

<p style="margin-top: 1em">FILES <br>
/var/lib/asterisk/keys</p>

<p style="margin-top: 1em">SEE ALSO <br>
asterisk(8), genrsa(1), rsa(1),</p>


<p style="margin-top: 1em">http://www.voip-info.org/wiki-Asterisk+iax+rsa+auth</p>

<p style="margin-top: 1em">AUTHOR <br>
This manual page was written by Tzafrir Cohen
&lt;tzafrir.cohen@xorcom.com&gt; Permission is granted to
copy, distribute and/or modify this document under the terms
of the GNU General <br>
Public License, Version 2 any later version published by the
Free Software Foundation.</p>

<p style="margin-top: 1em">On Debian systems, the complete
text of the GNU General Public License can be found in
/usr/share/common-licenses/GPL-2.</p>

<p style="margin-top: 1em">Asterisk May 14th, 2005
ASTGENKEY(8)</p>
<hr>
</body>
</html>
