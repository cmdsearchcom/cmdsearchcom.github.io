<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GOIARDI(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GOIARDI(8)</td>
    <td class="head-vol">System Administration Utilities</td>
    <td class="head-rtitle">GOIARDI(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
goiardi - A Chef server written in Go
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<h2 class="Ss" title="Ss" id="Usage:"><a class="selflink" href="#Usage:">Usage:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">goiardi [OPTIONS]</dd>
</dl>
<h2 class="Ss" title="Ss" id="Application_Options:"><a class="selflink" href="#Application_Options:">Application
  Options:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--version</b></dt>
  <dd class="It-tag">Print version info.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Show verbose debug information. Repeat for more
    verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--config=</b></dt>
  <dd class="It-tag">Specify a config file to use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b>, <b>--ipaddress=</b></dt>
  <dd class="It-tag">Listen on a specific IP address.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b>, <b>--hostname=</b></dt>
  <dd class="It-tag">Hostname to use for this server. Defaults to hostname
      reported by the kernel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>, <b>--port=</b></dt>
  <dd class="It-tag">Port to listen on. If port is set to 443, SSL will be
      activated. (default: 4545)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z</b>, <b>--proxy-hostname=</b></dt>
  <dd class="It-tag">Hostname to report to clients if this goiardi server is
      behind a proxy using a different hostname. See also <b>--proxy-port</b>.
      Can be used with <b>--proxy-port</b> or alone, or not at all.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b>, <b>--proxy-port=</b></dt>
  <dd class="It-tag">Port to report to clients if this goiardi server is behind
      a proxy using a different port than the port goiardi is listening on. Can
      be used with <b>--proxy-hostname</b> or alone, or not at all.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--index-file=</b></dt>
  <dd class="It-tag">File to save search index data to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b>, <b>--data-file=</b></dt>
  <dd class="It-tag">File to save data store data to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b>, <b>--freeze-interval=</b></dt>
  <dd class="It-tag">Interval in seconds to freeze in-memory data structures to
      disk if there have been any changes (requires <b>-i</b>/--index-file and
      <b>-D</b>/--data-file options to be set). (Default 10 seconds.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>, <b>--log-file=</b></dt>
  <dd class="It-tag">Log to file X</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--syslog</b></dt>
  <dd class="It-tag">Log to syslog rather than a log file. Incompatible with
      <b>-L</b>/--log-file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--time-slew=</b></dt>
  <dd class="It-tag">Time difference allowed between the server's clock and the
      time in the X-OPS-TIMESTAMP header. Formatted like 5m, 150s, etc. Defaults
      to 15m.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--conf-root=</b></dt>
  <dd class="It-tag">Root directory for configs and certificates. Default: the
      directory the config file is in, or the current directory if no config
      file is set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>, <b>--use-auth</b></dt>
  <dd class="It-tag">Use authentication. Default: false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-ssl</b></dt>
  <dd class="It-tag">Use SSL for connections. If <b>--port</b> is set to 433,
      this will automatically be turned on. If it is set to 80, it will
      automatically be turned off. Default: off. Requires <b>--ssl-cert</b> and
      <b>--ssl-key</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssl-cert=</b></dt>
  <dd class="It-tag">SSL certificate file. If a relative path, will be set
      relative to <b>--conf-root</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssl-key=</b></dt>
  <dd class="It-tag">SSL key file. If a relative path, will be set relative to
      <b>--conf-root</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--https-urls</b></dt>
  <dd class="It-tag">Use 'https://' in URLs to server resources if goiardi is
      not using SSL for its connections. Useful when goiardi is sitting behind a
      reverse proxy that uses SSL, but is communicating with the proxy over
      HTTP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-webui</b></dt>
  <dd class="It-tag">If enabled, disables connections and logins to goiardi over
      the webui interface.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-mysql</b></dt>
  <dd class="It-tag">Use a MySQL database for data storage. Configure database
      options in the config file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-postgresql</b></dt>
  <dd class="It-tag">Use a PostgreSQL database for data storage. Configure
      database options in the config file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--local-filestore-dir=</b></dt>
  <dd class="It-tag">Directory to save uploaded files in. Optional when running
      in in-memory mode, *mandatory* (unless using S3 uploads) for SQL
    mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-events</b></dt>
  <dd class="It-tag">Log changes to chef objects.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b>, <b>--log-event-keep=</b></dt>
  <dd class="It-tag">Number of events to keep in the event log. If set, the
      event log will be checked periodically and pruned to this number of
      entries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>, <b>--export=</b></dt>
  <dd class="It-tag">Export all server data to the given file, exiting
      afterwards. Should be used with caution. Cannot be used at the same time
      as <b>-m</b>/--import.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--import=</b></dt>
  <dd class="It-tag">Import data from the given file, exiting afterwards. Cannot
      be used at the same time as <b>-x</b>/--export.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b>, <b>--obj-max-size=</b></dt>
  <dd class="It-tag">Maximum object size in bytes for the file store. Default
      10485760 bytes (10MB).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j</b>, <b>--json-req-max-size=</b></dt>
  <dd class="It-tag">Maximum size for a JSON request from the client. Per
      chef-pedant, default is 1000000.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-unsafe-mem-store</b></dt>
  <dd class="It-tag">Use the faster, but less safe, old method of storing data
      in the in-memory data store with pointers, rather than encoding the data
      with gob and giving a new copy of the object to each requestor. If this is
      enabled goiardi will run faster in in-memory mode, but one goroutine could
      change an object while it's being used by another. Has no effect when
      using an SQL backend.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--db-pool-size=</b></dt>
  <dd class="It-tag">Number of idle db connections to maintain. Only useful when
      using one of the SQL backends. Default is 0 - no idle connections
    retained</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-connections=</b></dt>
  <dd class="It-tag">Maximum number of connections allowed for the database.
      Only useful when using one of the SQL backends. Default is 0 -
    unlimited.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-serf</b></dt>
  <dd class="It-tag">If set, have goidari use serf to send and receive events
      and queries from a serf cluster. Required for shovey.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serf-event-announce</b></dt>
  <dd class="It-tag">Announce log events and joining the serf cluster over serf,
      as serf events. Requires <b>--use-serf</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serf-addr=</b></dt>
  <dd class="It-tag">IP address and port to use for RPC communication with a
      serf agent. Defaults to 127.0.0.1:7373.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-shovey</b></dt>
  <dd class="It-tag">Enable using shovey for sending jobs to nodes. Requires
      <b>--use-serf</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sign-priv-key=</b></dt>
  <dd class="It-tag">Path to RSA private key used to sign shovey requests.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dot-search</b></dt>
  <dd class="It-tag">If set, searches will use . to separate elements instead of
      _.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--convert-search</b></dt>
  <dd class="It-tag">If set, convert _ syntax searches to . syntax. Only useful
      if <b>--dot-search</b> is set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pg-search</b></dt>
  <dd class="It-tag">Use the new Postgres based search engine instead of the
      default ersatz Solr. Requires <b>--use-postgresql</b>, automatically turns
      on <b>--dot-search</b>. <b>--convert-search</b> is recommended, but not
      required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-statsd</b></dt>
  <dd class="It-tag">Whether or not to collect statistics about goiardi and send
      them to statsd.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--statsd-addr=</b></dt>
  <dd class="It-tag">IP address and port of statsd instance to connect to.
      (default 'localhost:8125')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--statsd-type=</b></dt>
  <dd class="It-tag">statsd format, can be either 'standard' or 'datadog'
      (default 'standard')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--statsd-instance=</b></dt>
  <dd class="It-tag">Statsd instance name to use for this server. Defaults to
      the server's hostname, with '.' replaced by '_'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-s3-upload</b></dt>
  <dd class="It-tag">Store cookbook files in S3 rather than locally in memory or
      on disk. This or <b>--local-filestore-dir</b> must be set in SQL mode.
      Cannot be used with in-memory mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--aws-region=</b></dt>
  <dd class="It-tag">AWS region to use S3 uploads.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--s3-bucket=</b></dt>
  <dd class="It-tag">The name of the S3 bucket storing the files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--aws-disable-ssl</b></dt>
  <dd class="It-tag">Set to disable SSL for the endpoint. Mostly useful just for
      testing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--s3-endpoint=</b></dt>
  <dd class="It-tag">Set a different endpoint than the default s3.amazonaws.com.
      Mostly useful for testing with a fake S3 service, or if using an
      S3-compatible service.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--s3-file-period=</b></dt>
  <dd class="It-tag">Length of time, in minutes, to allow files to be saved to
      or retrieved from S3 by the client. Defaults to 15 minutes.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Help_Options:"><a class="selflink" href="#Help_Options:">Help
  Options:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Show this help message</dd>
</dl>
<h1 class="Sh" title="Sh" id="COMPATIBILITY"><a class="selflink" href="#COMPATIBILITY">COMPATIBILITY</a></h1>
This version of Goiardi aims for compatibility with Chef Server version 11.1.7.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The complete Goiardi documentation is maintained as Sphinx docs online. The
  latest version can be found in the following URL:
<div>&#x00A0;</div>
https://goiardi.readthedocs.io/en/latest/.
<div>&#x00A0;</div>
If the <b>goiardi-doc</b> package is installed, you should be able to browse
  them offline by pointing your browser to the following local URL:
<div>&#x00A0;</div>
file:///usr/share/doc/goiardi-doc/html/index.html.
<div>&#x00A0;</div>
Please note this manpage was automatically generated by the Debian goiardi
  maintainers. Do not file bugs for its content to the Goiardi upstream
  authors.</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 2016</td>
    <td class="foot-os">goiardi version 0.11.0</td>
  </tr>
</table>
</body>
</html>
