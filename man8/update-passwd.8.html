<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>UPDATE-PASSWD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">UPDATE-PASSWD(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">UPDATE-PASSWD(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
update-passwd - safely update /etc/passwd, /etc/shadow and /etc/group
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>update-passwd</b> [<i>options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>update-passwd</b> handles updates of /etc/passwd, /etc/shadow and /etc/group
  on running Debian systems. It compares the current files to master copies,
  distributed in the base-passwd package, and updates all entries in the global
  system range (that is, 0&#x2013;99).
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>update-passwd</b> follows the usual GNU command line syntax, with long
  options starting with two dashes (&#x2018;-&#x2019;).
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>,&#x00A0;<b>--passwd-master=FILE</b></dt>
  <dd class="It-tag">Use FILE as the master copy of the passwd database. The
      default value is <i>/usr/share/base-passwd/passwd.master</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b>,&#x00A0;<b>--group-master=FILE</b></dt>
  <dd class="It-tag">Use FILE as the master copy of the group database. The
      default value is <i>/usr/share/base-passwd/group.master</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>,&#x00A0;<b>--passwd=FILE</b></dt>
  <dd class="It-tag">Use FILE as the system passwd database. The default value
      is <i>/etc/passwd</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>,&#x00A0;<b>--shadow=FILE</b></dt>
  <dd class="It-tag">Use FILE as the system shadow database. The default value
      is <i>/etc/shadow</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b>,&#x00A0;<b>--group=FILE</b></dt>
  <dd class="It-tag">Use FILE as the system group database. The default value is
      <i>/etc/group</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>,&#x00A0;<b>--sanity-check</b></dt>
  <dd class="It-tag">Only perform sanity-checks but don't do anything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>,&#x00A0;<b>--verbose</b></dt>
  <dd class="It-tag">Give detailed information about what we are doing. A second
      -v gives additional detail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>,&#x00A0;<b>--dry-run</b></dt>
  <dd class="It-tag">Don't do anything but only show what we would do.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>,&#x00A0;<b>--no-locking</b></dt>
  <dd class="It-tag">Don't attempt to lock the account database. This should
      only be used for debugging purposes. <b>I repeat: do not do this unless
      you are really sure you need this!</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>,&#x00A0;<b>--help</b></dt>
  <dd class="It-tag">Show a summary of how to use <b>update-passwd</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>,&#x00A0;<b>--version</b></dt>
  <dd class="It-tag">Show the version number</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">DEBIAN_HAS_FRONTEND</dt>
  <dd class="It-tag">If this environment variable is sent and the
      <b>--dry-run</b> flag was not given, <b>update-passwd</b> uses debconf to
      prompt for whether to make changes. Each proposed change will produce a
      separate prompt. User or group removals, UID or GID changes, and home
      directory changes will be asked with high priority. User or group
      additions and shell changes will be asked with medium priority. Questions
      about whether to move entries above the NIS compat inclusion entry or
      whether to change the GECOS of a user are asked at low priority.</dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
At this moment <b>update-passwd</b> does not verify the shadow-file. It should
  check if the entries in the passwd are also in shadow and vice versa, and that
  passwords are not present in both files.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Wichert Akkerman &lt;wakkerma@debian.org&gt;
<div class="Pp"></div>
This program was written for the Debian project, and is copyright
  1999&#x2013;2002 Wichert Akkerman and copyright 2002, 2003 Colin Watson. It is
  distributed under version 2 of the GNU General Public License.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Debian tools</td>
    <td class="foot-os">DEBIAN</td>
  </tr>
</table>
</body>
</html>
