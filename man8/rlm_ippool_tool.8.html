<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RLM_IPPOOL_TOOL(8) System Manager&rsquo;s Manual
RLM_IPPOOL_TOOL(8)</p>

<p style="margin-top: 1em">NAME <br>
rlm_ippool_tool - dump the contents of the FreeRadius ippool
database files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
If an ipaddress is specified then that address is used to
limit the actions or output.</p>

<p style="margin-top: 1em">rlm_ippool_tool [-a] [-c] [-o]
[-v] session-db index-db [ipaddress]</p>

<p style="margin-top: 1em">Mark the entry nasIP/nasPort as
having ipaddress</p>

<p style="margin-top: 1em">rlm_ippool_tool -n session-db
index-db ipaddress nasIP nasPort</p>

<p style="margin-top: 1em">Update old format database to
new.</p>

<p style="margin-top: 1em">rlm_ippool_tool -u session-db
new-session-db</p>

<p style="margin-top: 1em">DESCRIPTION <br>
rlm_ippool_tool dumps the contents of the FreeRADIUS ippool
databases for analyses or for removal of active (stuck?)
entries.</p>

<p style="margin-top: 1em">Or with the -n argument adds a
usage entry to the FreeRADIUS ippool databases.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Print all active entries.</p>

<p style="margin-top: 1em">-c Report number of active
entries.</p>

<p style="margin-top: 1em">-r Remove active entries.</p>

<p style="margin-top: 1em">-v Verbose report of all
entries.</p>

<p style="margin-top: 1em">-o Assume old database format
(nas/port pair, not md5 output).</p>

<p style="margin-top: 1em">-n Mark the entry nasIP/nasPort
as having ipaddress.</p>

<p style="margin-top: 1em">-u Update old format database to
new.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Given the syntax in the FreeRadius radiusd.conf:</p>

<p style="margin-top: 1em">ippool myippool { <br>
range-start = 192.0.2.0 <br>
range-stop = 192.0.2.255 <br>
[...] <br>
session-db = ${raddbdir}/ip-pool.db <br>
ip-index = ${raddbdir}/ip-index.db <br>
}</p>

<p style="margin-top: 1em">To see the number of active
entries in this pool, use:</p>

<p style="margin-top: 1em">$ rlm_ippool_tool -c ip-pool.db
ip-index.db <br>
13</p>

<p style="margin-top: 1em">To see all active entries in
this pool, use:</p>

<p style="margin-top: 1em">$ rlm_ippool_tool -a ip-pool.db
ip-index.db <br>
192.0.2.5 <br>
192.0.2.82 <br>
192.0.2.244 <br>
192.0.2.57 <br>
192.0.2.120 <br>
192.0.2.27 <br>
[...]</p>

<p style="margin-top: 1em">To see all information about the
active entries in the use, use:</p>

<p style="margin-top: 1em">$ rlm_ippool_tool -av ip-pool.db
ip-index.db <br>
NAS:172.16.1.1 port:0x2e8 - ipaddr:192.0.2.5 active:1 cli:0
num:1 <br>
NAS:172.16.1.1 port:0x17c - ipaddr:192.0.2.82 active:1 cli:0
num:1 <br>
NAS:172.16.1.1 port:0x106 - ipaddr:192.0.2.244 active:1
cli:0 num:1 <br>
NAS:172.16.1.1 port:0x157 - ipaddr:192.0.2.57 active:1 cli:0
num:1 <br>
NAS:172.16.1.1 port:0x2d8 - ipaddr:192.0.2.120 active:1
cli:0 num:1 <br>
NAS:172.16.1.1 port:0x162 - ipaddr:192.0.2.27 active:1 cli:0
num:1 <br>
[...]</p>

<p style="margin-top: 1em">To see only information of one
entry, use:</p>

<p style="margin-top: 1em">$ rlm_ippool_tool -v ip-pool.db
ip-index.db 192.0.2.1 <br>
NAS:172.16.1.1 port:0x90 - ipaddr:192.0.2.1 active:0 cli:0
num:0</p>

<p style="margin-top: 1em">To add an IP address usage
entry, use:</p>

<p style="margin-top: 1em">$ rlm_ippool_tool -n ip-pool.db
ip-index.db 192.0.0.1 172.16.1.1 0x90 <br>
rlm_ippool_tool: Allocating ip to nas/port: 172.16.1.1/144
<br>
rlm_ippool_tool: num: 1 <br>
rlm_ippool_tool: Allocated ip 192.0.2.1 to client on nas
172.16.1.1,port 144</p>

<p style="margin-top: 1em">SEE ALSO <br>
radiusd(8)</p>

<p style="margin-top: 1em">AUTHORS <br>
Currently part of the FreeRADIUS Project
(http://www.freeradius.org) Originally by Edwin Groothuis,
edwin@mavetju.org (http://www.mavetju.org)</p>

<p style="margin-top: 1em">Mailing list details are at
http://www.freeradius.org/</p>
 
<p style="margin-top: 1em">RLM_IPPOOL_TOOL(8)</p>
<hr>
</body>
</html>
