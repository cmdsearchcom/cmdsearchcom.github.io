<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opareport(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opareport(8)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opareport(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opareport
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>(All)</b> Provides powerful fabric analysis and reporting capabilities. Must
  be run on a host connected to the Intel(R) Omni-Path Fabric with the Intel(R)
  Omni-Path Fabric Suite FastFabric Toolset installed.
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
opareport [-v][-q] [-h <i>hfi</i>] [-p <i>port</i>]
<div>&#x00A0;</div>
[-o <i>report</i>] [-d <i>detail</i>] [-P|-H] [-N] [-x]
<div>&#x00A0;</div>
[-X <i>snapshot_input</i>] [-T <i>topology_input</i>] [-s] [-r] [-V]
<div>&#x00A0;</div>
[-i#8217#160; <i>seconds</i>] [-C] [-a] [-m] [-K <i>mkey</i>] [-M] [-A] [-c
  <i>file</i>] [-L]
<div>&#x00A0;</div>
[-F <i>point</i>] [-S <i>point</i>] [-D <i>point</i>] [-Q]
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--help</dt>
  <dd class="It-tag">Produces full help text.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v/--verbose</dt>
  <dd class="It-tag">Returns verbose output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-q/--quiet</dt>
  <dd class="It-tag">Disables progress reports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h/--hfi <i>hfi</i></dt>
  <dd class="It-tag">HFI, numbered 1..n. Using 0 specifies that the -p
      <i>port</i> port is a system-wide port number. Default is 0.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p/--port <i>port</i></dt>
  <dd class="It-tag">Port, numbered 1..n. If -h <i>hfi</i> is 0 then <i>port</i>
      is a system-wide port number. Default is 1.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o/--output <i>report</i></dt>
  <dd class="It-tag">Report type for output. Refer to <i>Report Types</i> for
      details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d/--detail <i>detail</i></dt>
  <dd class="It-tag">Level of detail 0-n for output. Default is 2.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-P/--persist</dt>
  <dd class="It-tag">Includes data persistent across reboots.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-H/--hard</dt>
  <dd class="It-tag">Includes permanent hardware data.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-N/--noname</dt>
  <dd class="It-tag">Omits node and IOC names.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-x/--xml</dt>
  <dd class="It-tag">Produces output in XML.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-X/--infile <i>snapshot_input</i></dt>
  <dd class="It-tag">Generates a report using the data in the snapshot_input
      file. snapshot_input must have been generated during a previous -o
      <i>snapshot</i> run. When used, the -s, -i, -C, and -a options are
      ignored. Not permitted with -o <i>route</i> and -F <i>route</i>. '-' may
      be used as the snapshot_input to specify stdin.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-T/--topology <i>topology_input</i></dt>
  <dd class="It-tag">Uses topology_input file to augment and verify fabric
      information. When used, various reports can be augmented with information
      not available electronically (such as cable labels and lengths). '-' may
      be used to specify stdin.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s/--stats</dt>
  <dd class="It-tag">Gets performance statistics for all ports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i/--interval <i>seconds</i></dt>
  <dd class="It-tag">Obtains performance statistics over interval
      <i>seconds</i>, clears all statistics, waits interval <i>seconds</i>, then
      generates report. Implies -s option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-C/--clear</dt>
  <dd class="It-tag">Clears performance statistics for all ports. Only
      statistics with error thresholds are cleared. A clear occurs after
      generating the report.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-a/--clearall</dt>
  <dd class="It-tag">Clears all performance statistics for all ports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m/--smadirect</dt>
  <dd class="It-tag">Accesses fabric information directly from SMA.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-K/--mkey <i>mkey</i></dt>
  <dd class="It-tag">SMA M_Key for direct SMA query. Default is 0.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-M/--pmadirect</dt>
  <dd class="It-tag">Accesses performance statistics using direct PMA.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-A/--allports</dt>
  <dd class="It-tag">Gets PortInfo for down switch ports. Uses direct SMA to get
      this data. If used with -M, also gets PMA stats for down-switch ports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c/--config <i>file</i></dt>
  <dd class="It-tag">Error thresholds configuration file. Default is
      /etc/sysconfig/opa/opamon.conf file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-L/--limit</dt>
  <dd class="It-tag">Limits operation to exact specified focus with -F for port
      error counters check (-o <i>errors</i>) and port counters clear (-C or
      -i). Normally, the neighbor of each selected port is also checked/cleared.
      Does not affect other reports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-F/--focus <i>point</i></dt>
  <dd class="It-tag">Focus area for report. Used for all reports except route to
      limit scope of report. Refer to <i>Point Syntax</i> for details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-S/--src <i>point</i></dt>
  <dd class="It-tag">Source for trace route, default is local port. Refer to
      <i>Point Syntax</i> for details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-D/--dest <i>point</i></dt>
  <dd class="It-tag">Destination for trace route. Refer to <i>Point Syntax</i>
      for details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-Q/--quietfocus</dt>
  <dd class="It-tag">Excludes focus description from report.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="-h_and_-p_options_permit_a_variety_of_selections:"><a class="selflink" href="#-h_and_-p_options_permit_a_variety_of_selections:">-h
  and -p options permit a variety of selections:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-h 0</dt>
  <dd class="It-tag">First active port in system (default).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h 0 -p 0</dt>
  <dd class="It-tag">First active port in system.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h <i>x</i></dt>
  <dd class="It-tag">First active port on HFI <i>x</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h <i>x</i>#8217#160;-p 0</dt>
  <dd class="It-tag">First active port on HFI <i>x</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h 0 -p <i>y</i></dt>
  <dd class="It-tag">Port <i>y</i>#8217#160;within system (no matter which ports
      are active).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h <i>x</i>#8217#160;-p <i>y</i></dt>
  <dd class="It-tag">HFI <i>x</i>, port <i>y</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Snapshot-Specific_Options"><a class="selflink" href="#Snapshot-Specific_Options">Snapshot-Specific
  Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-r/--routes</dt>
  <dd class="It-tag">Gets routing tables for all switches.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V/--vltables</dt>
  <dd class="It-tag">Gets QOS VL-related tables for all ports.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Report_Types"><a class="selflink" href="#Report_Types">Report
  Types</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">comps</dt>
  <dd class="It-tag">Summary of all systems and SMs in fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">brcomps</dt>
  <dd class="It-tag">Brief summary of all systems and SMs in fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodes</dt>
  <dd class="It-tag">Summary of all node types and SMs in fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">brnodes</dt>
  <dd class="It-tag">Brief summary of all node types and SMs in fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ious</dt>
  <dd class="It-tag">Summary of all IO units in the fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lids</dt>
  <dd class="It-tag">Summary of all LIDs in the fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">links</dt>
  <dd class="It-tag">Summary of all links.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">extlinks</dt>
  <dd class="It-tag">Summary of links external to systems.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">slowlinks</dt>
  <dd class="It-tag">Summary of links running slower than expected.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">slowconfiglinks</dt>
  <dd class="It-tag">Summary of links configured to run slower than supported,
      includes slowlinks.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">slowconnlinks</dt>
  <dd class="It-tag">Summary of links connected with mismatched speed potential,
      includes slowconfiglinks.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">misconfiglinks</dt>
  <dd class="It-tag">Summary of links configured to run slower than supported.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">misconnlinks</dt>
  <dd class="It-tag">Summary of links connected with mismatched speed potential.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">errors</dt>
  <dd class="It-tag">Summary of links whose errors exceed counts in the
      configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">otherports</dt>
  <dd class="It-tag">Summary of ports not connected to the fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">linear</dt>
  <dd class="It-tag">Summary of linear forwarding data base (FDB) for each
      switch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">mcast</dt>
  <dd class="It-tag">Summary of multicast FDB for each switch in the fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">portusage</dt>
  <dd class="It-tag">Summary of ports referenced in linear FDB for each switch,
      broken down by NodeType of DLID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">pathusage</dt>
  <dd class="It-tag">Summary of number of FI to FI paths routed through each
      switch port.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">treepathusage</dt>
  <dd class="It-tag">Analysis of number of FI to FI paths routed through each
      switch port for a FAT tree.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">portgroups</dt>
  <dd class="It-tag">Summary of adaptive routing port groups for each switch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">quarantinednodes</dt>
  <dd class="It-tag">Summary of quarantined nodes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">validateroutes</dt>
  <dd class="It-tag">Validates all routes in the fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">validatepgs</dt>
  <dd class="It-tag">Validates all port groups in the fabric.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">validatecreditloops</dt>
  <dd class="It-tag">Validates topology configuration of the fabric to identify
      any existing credit loops.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">vfinfo</dt>
  <dd class="It-tag">Summary of virtual fabric (vFabric) information.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">vfmember</dt>
  <dd class="It-tag">Summary of vFabric membership information.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifyfis</dt>
  <dd class="It-tag">Compares fabric (or snapshot) FIs to supplied topology and
      identifies differences and omissions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifysws</dt>
  <dd class="It-tag">Compares fabric (or snapshot) switches to supplied topology
      and identifies differences and omissions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifynodes</dt>
  <dd class="It-tag">Returns verifyfis and verifysws reports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifysms</dt>
  <dd class="It-tag">Compares fabric (or snapshot) SMs to supplied topology and
      identifies differences and omissions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifylinks</dt>
  <dd class="It-tag">Compares fabric (or snapshot) links to supplied topology
      and identifies differences and omissions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifyextlinks</dt>
  <dd class="It-tag">Compares fabric (or snapshot) links to supplied topology
      and identifies differences and omissions. Limits analysis to links
      external to systems.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verifyall</dt>
  <dd class="It-tag">Returns verifyfis, verifysws, verifysms, and verifylinks
      reports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">all</dt>
  <dd class="It-tag">Returns comps, nodes, ious, links, extlinks, slowconnlinks,
      and errors reports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">route</dt>
  <dd class="It-tag">Traces route between -S and -D points.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bfrctrl</dt>
  <dd class="It-tag">Reports Buffer Control Tables for all ports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">snapshot</dt>
  <dd class="It-tag">Outputs snapshot of the fabric state for later use as
      <i>snapshot_input</i>. This implies -x. May not be combined with other
      reports. When selected, -F, -P, -H, and -N options are ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">topology</dt>
  <dd class="It-tag">Outputs the topology of the fabric for later use as
      <i>topology_input</i>. This implies -x. May not be combined with other
      reports.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">none</dt>
  <dd class="It-tag">No report, useful to clear statistics.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Point_Syntax"><a class="selflink" href="#Point_Syntax">Point
  Syntax</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">gid: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric port GID of form: subnet:guid.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lid: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric LID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lid: <i>value</i>:node</dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric LID, selects entire node with given LID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lid: <i>value</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric LID of node, <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">portguid: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric port GUID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodeguid: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric node GUID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodeguid: <i>value1</i>: <i>port</i>: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is numeric node GUID, <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">iocguid: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric IOC GUID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">iocguid: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is numeric IOC GUID, <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">systemguid: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is numeric system image GUID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">systemguid: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is the numeric system image GUID, <i>value2</i> is port
      number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ioc: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is IOC Profile ID String (IOC Name).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ioc: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is IOC Profile ID String (IOC Name), <i>value2</i> is port
      number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">iocpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for IOC Profile ID String (IOC Name).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">iocpat: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is glob pattern for IOC Profile ID String (IOC Name),
      <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ioctype: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is IOC type (VNIC or SRP).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ioctype: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is IOC type (VNIC or SRP), <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">node: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is node description (node name).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">node: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is node description (node name), <i>value2</i> is port
      number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodepat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>#8217gt;value</i> is glob pattern for node description (node name).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodepat: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is the glob pattern for the node description (node name),
      <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodedetpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for node details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodedetpat: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is the glob pattern for the node details, <i>value2</i> is
      port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodetype: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is node type (SW, FI, or RT).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nodetype: <i>value1</i>:port: <i>value2</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value1</i> is node type (SW, FI, or RT), <i>value2</i> is port number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">rate: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is string for rate (25g, 50g, 75g, 100g), omits switch mgmt
      port 0.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">portstate: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is a string for state (init, armed, active).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">portphysstate: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is a string for PHYs state (polling, disabled, training,
      linkup, recovery, offline, test)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">mtucap: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is MTU size (2048, 4096, 8192, 10240), omits switch mgmt port
      0.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">labelpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable label.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lengthpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable length.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabledetpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabinflenpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable info length.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabinfvendnamepat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable info vendor name.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabinfvendpnpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable info vendor part number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabinfvendrevpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable info vendor revision.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabinftype: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is either optical, passive_copper, active_copper, or unknown.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cabinfvendsnpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for cable info vendor serial number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">linkdetpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for link details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">portdetpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for port details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">sm</dt>
  <dd class="It-tag">Master subnet manager (SM).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">smdetpat: <i>value</i></dt>
  <dd class="It-tag">
    <br/>
     <i>value</i> is glob pattern for SM details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">route: <i>point1</i>: <i>point2</i></dt>
  <dd class="It-tag">All ports along the routes between the two given points.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">linkqual: <i>value</i></dt>
  <dd class="It-tag">Ports with a link quality equal to <i>value</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">linkqualLE: <i>value</i></dt>
  <dd class="It-tag">Ports with a link quality less than or equal to
      <i>value</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">linkqualGE: <i>value</i></dt>
  <dd class="It-tag">Ports with a link quality greater than or equal to
      <i>value</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Examples"><a class="selflink" href="#Examples">Examples</a></h1>
opareport can generate hundreds of different reports. Commonly generated reports
  include the following:opareport -o comps -d 3
<div>&#x00A0;</div>
opareport -o errors -o slowlinks
<div>&#x00A0;</div>
opareport -o nodes -F portguid:0x00117500a000447b
<div>&#x00A0;</div>
opareport -o nodes -F nodeguid:0x001175009800447b:port:1
<div>&#x00A0;</div>
opareport -o nodes -F nodeguid:0x001175009800447b
<div>&#x00A0;</div>
opareport -o nodes -F 'node:duster hfi1_0'
<div>&#x00A0;</div>
opareport -o nodes -F 'node:duster hfi1_0:port:1'
<div>&#x00A0;</div>
opareport -o nodes -F 'nodepat:d*'
<div>&#x00A0;</div>
opareport -o nodes -F 'nodepat:d*:port:1'
<div>&#x00A0;</div>
opareport -o nodes -F 'nodedetpat:compute*'
<div>&#x00A0;</div>
opareport -o nodes -F 'nodedetpat:compute*:port:1'
<div>&#x00A0;</div>
opareport -o nodes -F nodetype:FI
<div>&#x00A0;</div>
opareport -o nodes -F nodetype:FI:port:1
<div>&#x00A0;</div>
opareport -o nodes -F lid:1
<div>&#x00A0;</div>
opareport -o nodes -F lid:1:node
<div>&#x00A0;</div>
opareport -o nodes -F lid:1:port:2
<div>&#x00A0;</div>
opareport -o nodes -F gid:0xfe80000000000000:0x00117500a000447b
<div>&#x00A0;</div>
opareport -o nodes -F systemguid:0x001175009800447b
<div>&#x00A0;</div>
opareport -o nodes -F systemguid:0x001175009800447b:port:1
<div>&#x00A0;</div>
opareport -o nodes -F iocguid:0x00117501300001e0
<div>&#x00A0;</div>
opareport -o nodes -F iocguid:0x00117501300001e0:port:2
<div>&#x00A0;</div>
opareport -o nodes -F 'ioc:Chassis 0x001175005000010C, Slot 2, IOC 1'
<div>&#x00A0;</div>
opareport -o nodes -F 'ioc:Chassis 0x001175005000010C, Slot 2, IOC 1:port:2'
<div>&#x00A0;</div>
opareport -o nodes -F 'iocpat:*Slot 2*'
<div>&#x00A0;</div>
opareport -o nodes -F 'iocpat:*Slot 2*:port:2'
<div>&#x00A0;</div>
opareport -o nodes -F ioctype:VNIC
<div>&#x00A0;</div>
opareport -o nodes -F ioctype:VNIC:port:2
<div>&#x00A0;</div>
opareport -o extlinks -F rate:5g
<div>&#x00A0;</div>
opareport -o extlinks -F portstate:armed
<div>&#x00A0;</div>
opareport -o extlinks -F portphysstate:linkup
<div>&#x00A0;</div>
opareport -o extlinks -F 'labelpat:S1345*'
<div>&#x00A0;</div>
opareport -o extlinks -F 'lengthpat:11m'
<div>&#x00A0;</div>
opareport -o extlinks -F 'cabledetpat:*gore*'
<div>&#x00A0;</div>
opareport -o extlinks -F 'linkdetpat:*core ISL*'
<div>&#x00A0;</div>
opareport -o extlinks -F 'portdetpat:*mgmt*'
<div>&#x00A0;</div>
opareport -o links -F mtucap:2048
<div>&#x00A0;</div>
opareport -o nodes -F sm
<div>&#x00A0;</div>
opareport -o nodes -F 'smdetpat:primary*'
<div>&#x00A0;</div>
opareport -o nodes -F 'route:node:duster hfi1_0:node:cuda hfi1_0'
<div>&#x00A0;</div>
opareport -o nodes -F 'route:node:duster hfi1_0:port:1:node:cuda hfi1_0:port:2'
<div>&#x00A0;</div>
opareport -s -o snapshot #8217gt; file
<div>&#x00A0;</div>
opareport -o topology #8217gt; topology.xml
<div>&#x00A0;</div>
opareport -o errors -X file
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Other_Information"><a class="selflink" href="#Other_Information">Other
  Information</a></h1>
opareport also supports operation with the Fabric Manager Performance Manager
  (PM)/Performance Manager Agent (PMA). When opareport detects the presence of a
  PMA, it automatically issues any required PortCounter queries and clears to
  the PMA to access the PMs running totals. If a PMA is not detected, then
  opareport directly accesses the PMAs on all the nodes. The -M option can force
  access to the PMA even if a PMA is present.
<div class="Pp"></div>
opareport takes advantage of these interfaces to obtain extensive information
  about the fabric from the subnet manager and the end nodes. Using this
  information, opareport is able to cross-reference it and produce analysis
  greatly beyond what any single subnet manager request could provide. As such,
  it exceeds the capabilities previously available in tools such as opasaquery
  and opafabricinfo.
<div class="Pp"></div>
opareport obtains and displays 64-bit data movement counters from the Fabric
  Manager PM/PA or directly from the fabric using the -M option. Snapshots
  generated by this version of opareport, in conjunction with the -s option, may
  report value out of range errors when used as input to older versions of
  opareport. However, the thresholds specified in opamon.conf and other input
  configuration files continue to only support 32-bit values for data movement
  counter thresholds.
<div class="Pp"></div>
opareport internally cross-references all this information so its output can be
  in user-friendly form. Reports include GUIDs, LIDs, and names for components.
  Obviously, these reports are easiest to read if the end user has taken the
  time to provide unique names for all the components in the fabric (node names
  and IOC names). All Intel components support this capability. For hosts, the
  node names are automatically assigned based on the network host name of the
  server. For switches and line cards, the names can be assigned using the
  element managers for each component.
<div class="Pp"></div>
Each run of opareport obtains up-to-date information from the fabric. At the
  start of the run opareport takes a few seconds to obtain all the fabric data,
  then it is output to stdout. The reports are sorted by GUIDs and other
  permanent information so they can be rerun in the future and produce output in
  the same order even if components have been rebooted. This is useful for
  comparison using simple tools like diff. opareport permits multiple reports to
  be requested for a single run (for example, one of each report type).
<div class="Pp"></div>
By default, opareport uses the first active port on the local system. However,
  if the Management Node is connected to more than one fabric (for example, a
  subnet), the Intel(R) Omni-Path Host Fabric Interface (HFI) and port may be
  specified to select the fabric to analyze.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
