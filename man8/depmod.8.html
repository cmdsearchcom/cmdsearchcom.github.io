<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DEPMOD(8) depmod DEPMOD(8)</p>

<p style="margin-top: 1em">NAME <br>
depmod - Generate modules.dep and map files.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
depmod [-b basedir] [-e] [-E Module.symvers] [-F System.map]
[-n] [-v] [-A] [-P prefix] [-w] [version]</p>

<p style="margin-top: 1em">depmod [-e] [-E Module.symvers]
[-F System.map] [-m] [-n] [-v] [-P prefix] [-w] [version]
[filename...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Linux kernel modules can provide services (called
&quot;symbols&quot;) for other modules to use (using one of
the EXPORT_SYMBOL variants in the code). If a second module
uses this symbol, <br>
that second module clearly depends on the first module.
These dependencies can get quite complex.</p>

<p style="margin-top: 1em">depmod creates a list of module
dependencies by reading each module under
/lib/modules/version and determining what symbols it exports
and what symbols it needs. By default, this <br>
list is written to modules.dep, and a binary hashed version
named modules.dep.bin, in the same directory. If filenames
are given on the command line, only those modules are <br>
examined (which is rarely useful unless all modules are
listed). depmod also creates a list of symbols provided by
modules in the file named modules.symbols and its binary
<br>
hashed version, modules.symbols.bin. Finally, depmod will
output a file named modules.devname if modules supply
special device names (devname) that should be populated in
/dev on <br>
boot (by a utility such as systemd-tmpfiles).</p>

<p style="margin-top: 1em">If a version is provided, then
that kernel version&rsquo;s module directory is used rather
than the current kernel version (as returned by uname
-r).</p>

<p style="margin-top: 1em">OPTIONS <br>
-a, --all <br>
Probe all modules. This option is enabled by default if no
file names are given in the command-line.</p>

<p style="margin-top: 1em">-A, --quick <br>
This option scans to see if any modules are newer than the
modules.dep file before any work is done: if not, it
silently exits rather than regenerating the files.</p>

<p style="margin-top: 1em">-b basedir, --basedir basedir
<br>
If your modules are not currently in the (normal) directory
/lib/modules/version, but in a staging area, you can specify
a basedir which is prepended to the directory name. <br>
This basedir is stripped from the resulting modules.dep
file, so it is ready to be moved into the normal location.
Use this option if you are a distribution vendor who needs
<br>
to pre-generate the meta-data files rather than running
depmod again later.</p>

<p style="margin-top: 1em">-C, --config file or directory
<br>
This option overrides the default configuration directory at
/etc/depmod.d/.</p>

<p style="margin-top: 1em">-e, --errsyms <br>
When combined with the -F option, this reports any symbols
which a module needs which are not supplied by other modules
or the kernel. Normally, any symbols not provided by <br>
modules are assumed to be provided by the kernel (which
should be true in a perfect world), but this assumption can
break especially when additionally updated third party <br>
drivers are not correctly installed or were built
incorrectly.</p>

<p style="margin-top: 1em">-E, --symvers <br>
When combined with the -e option, this reports any symbol
versions supplied by modules that do not match with the
symbol versions provided by the kernel in its <br>
Module.symvers. This option is mutually incompatible with
-F.</p>

<p style="margin-top: 1em">-F, --filesyms System.map <br>
Supplied with the System.map produced when the kernel was
built, this allows the -e option to report unresolved
symbols. This option is mutually incompatible with -E.</p>

<p style="margin-top: 1em">-h, --help <br>
Print the help message and exit.</p>

<p style="margin-top: 1em">-n, --show, --dry-run <br>
This sends the resulting modules.dep and the various map
files to standard output rather than writing them into the
module directory.</p>

<p style="margin-top: 1em">-P <br>
Some architectures prefix symbols with an extraneous
character. This specifies a prefix character (for example
&rsquo;_&rsquo;) to ignore.</p>

<p style="margin-top: 1em">-v, --verbose <br>
In verbose mode, depmod will print (to stdout) all the
symbols each module depends on and the module&rsquo;s file
name which provides that symbol.</p>

<p style="margin-top: 1em">-V, --version <br>
Show version of program and exit. See below for caveats when
run on older kernels.</p>

<p style="margin-top: 1em">-w <br>
Warn on duplicate dependencies, aliases, symbol versions,
etc.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
This manual page originally Copyright 2002, Rusty Russell,
IBM Corporation. Portions Copyright Jon Masters, and
others.</p>

<p style="margin-top: 1em">SEE ALSO <br>
depmod.d(5), modprobe(8), modules.dep(5)</p>

<p style="margin-top: 1em">AUTHORS <br>
Jon Masters &lt;jcm@jonmasters.org&gt; <br>
Developer</p>

<p style="margin-top: 1em">Robby Workman
&lt;rworkman@slackware.com&gt; <br>
Developer</p>

<p style="margin-top: 1em">Lucas De Marchi
&lt;lucas.de.marchi@gmail.com&gt; <br>
Developer</p>

<p style="margin-top: 1em">kmod 03/01/2015 DEPMOD(8)</p>
<hr>
</body>
</html>
