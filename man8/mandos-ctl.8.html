<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:15 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MANDOS-CTL(8) Mandos Manual MANDOS-CTL(8)</p>

<p style="margin-top: 1em">NAME <br>
mandos-ctl - Control or query the operation of the Mandos
server</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mandos-ctl {[--enable | -e <br>
|--disable | -d] <br>
[--bump-timeout | -b] <br>
[--start-checker] <br>
[--stop-checker] <br>
[--remove | -r] <br>
[--checker COMMAND | -c COMMAND] <br>
[--timeout TIME | -t TIME] <br>
[--extended-timeout TIME] <br>
[--interval TIME | -i TIME] <br>
[--approve-by-default <br>
|--deny-by-default] <br>
[--approval-delay TIME] <br>
[--approval-duration TIME] <br>
[--interval TIME | -i TIME] <br>
[--host STRING | -H STRING] <br>
[--secret FILENAME | -s FILENAME] <br>
[--approve | -A <br>
|--deny | -D]} <br>
{--all | -a | CLIENT...}</p>

<p style="margin-top: 1em">mandos-ctl [--verbose | -v <br>
|--dump-json | -j] [CLIENT...]</p>

<p style="margin-top: 1em">mandos-ctl {--is-enabled | -V}
CLIENT</p>

<p style="margin-top: 1em">mandos-ctl {--help | -h}</p>

<p style="margin-top: 1em">mandos-ctl {--version | -v}</p>

<p style="margin-top: 1em">mandos-ctl --check</p>

<p style="margin-top: 1em">DESCRIPTION <br>
mandos-ctl is a program to control or query the operation of
the Mandos server mandos(8).</p>

<p style="margin-top: 1em">This program can be used to
change client settings, approve or deny client requests, and
to remove clients from the server.</p>

<p style="margin-top: 1em">PURPOSE <br>
The purpose of this is to enable remote and unattended
rebooting of client host computer with an encrypted root
file system. See the section called &acirc;OVERVIEW&acirc;
for details.</p>

<p style="margin-top: 1em">OPTIONS <br>
--help, -h <br>
Show a help message and exit</p>

<p style="margin-top: 1em">--enable, -e <br>
Enable client(s). An enabled client will be eligble to
receive its secret.</p>

<p style="margin-top: 1em">--disable, -d <br>
Disable client(s). A disabled client will not be eligble to
receive its secret, and no checkers will be started for
it.</p>

<p style="margin-top: 1em">--bump-timeout <br>
Bump the timeout of the specified client(s), just as if a
checker had completed successfully for it/them.</p>

<p style="margin-top: 1em">--start-checker <br>
Start a new checker now for the specified client(s).</p>

<p style="margin-top: 1em">--stop-checker <br>
Stop any running checker for the specified client(s).</p>

<p style="margin-top: 1em">--remove, -r <br>
Remove the specified client(s) from the server.</p>

<p style="margin-top: 1em">--checker COMMAND, -c COMMAND
<br>
Set the checker option of the specified client(s); see
mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--timeout TIME, -t TIME <br>
Set the timeout option of the specified client(s); see
mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--extended-timeout TIME <br>
Set the extended_timeout option of the specified client(s);
see mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--interval TIME, -i TIME <br>
Set the interval option of the specified client(s); see
mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--approve-by-default,
--deny-by-default <br>
Set the approved_by_default option of the specified
client(s) to True or False, respectively; see
mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--approval-delay TIME <br>
Set the approval_delay option of the specified client(s);
see mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--approval-duration TIME <br>
Set the approval_duration option of the specified client(s);
see mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--host STRING, -H STRING <br>
Set the host option of the specified client(s); see
mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--secret FILENAME, -s FILENAME
<br>
Set the secfile option of the specified client(s); see
mandos-clients.conf(5).</p>

<p style="margin-top: 1em">--approve, -A <br>
Approve client(s) if currently waiting for approval.</p>

<p style="margin-top: 1em">--deny, -D <br>
Deny client(s) if currently waiting for approval.</p>

<p style="margin-top: 1em">--all, -a <br>
Make the client-modifying options modify all clients.</p>

<p style="margin-top: 1em">--verbose, -v <br>
Show all client settings, not just a subset.</p>

<p style="margin-top: 1em">--dump-json, -j <br>
Dump client settings as JSON to standard output.</p>

<p style="margin-top: 1em">--is-enabled, -V <br>
Check if a single client is enabled or not, and exit with a
successful exit status only if the client is enabled.</p>

<p style="margin-top: 1em">--check <br>
Run self-tests. This includes any unit tests, etc.</p>

<p style="margin-top: 1em">OVERVIEW <br>
This is part of the Mandos system for allowing computers to
have encrypted root file systems and at the same time be
capable of remote and/or unattended reboots. The computers
<br>
run a small client program in the initial RAM disk
environment which will communicate with a server over a
network. All network communication is encrypted using TLS.
The clients <br>
are identified by the server using an OpenPGP key; each
client has one unique to it. The server sends the clients an
encrypted password. The encrypted password is decrypted by
<br>
the clients using the same OpenPGP key, and the password is
then used to unlock the root file system, whereupon the
computers can continue booting normally.</p>

<p style="margin-top: 1em">This program is a small utility
to generate new OpenPGP keys for new Mandos clients, and to
generate sections for inclusion in clients.conf on the
server.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
If the --is-enabled option is used, the exit status will be
0 only if the specified client is enabled.</p>

<p style="margin-top: 1em">BUGS <br>
Please report bugs to the Mandos development mailing list:
&lt;mandos-dev@recompile.se&gt; (subscription required).
Note that this list is public. The developers can be reached
<br>
privately at &lt;mandos@recompile.se&gt; (OpenPGP key
fingerprint 153A 37F1 0BBA 0435 987F 2C4A 7223 2973 CA34
C2C4 for encrypted mail).</p>

<p style="margin-top: 1em">EXAMPLE <br>
To list all clients:</p>

<p style="margin-top: 1em">mandos-ctl</p>

<p style="margin-top: 1em">To list all settings for the
clients named &acirc;foo1.example.org&acirc; and
&acirc;foo2.example.org&acirc;:</p>

<p style="margin-top: 1em">mandos-ctl --verbose
foo1.example.org foo2.example.org</p>

<p style="margin-top: 1em">To enable all clients:</p>

<p style="margin-top: 1em">mandos-ctl --enable --all</p>

<p style="margin-top: 1em">To change timeout and interval
value for the clients named &acirc;foo1.example.org&acirc;
and &acirc;foo2.example.org&acirc;:</p>

<p style="margin-top: 1em">mandos-ctl
--timeout=&quot;5m&quot; --interval=&quot;1m&quot;
foo1.example.org foo2.example.org</p>

<p style="margin-top: 1em">To approve all clients currently
waiting for it:</p>

<p style="margin-top: 1em">mandos-ctl --approve --all</p>

<p style="margin-top: 1em">SECURITY <br>
This program must be permitted to access the Mandos server
via the D-Bus interface. This normally requires the root
user, but could be configured otherwise by reconfiguring the
<br>
D-Bus server.</p>

<p style="margin-top: 1em">SEE ALSO <br>
intro(8mandos), mandos(8), mandos-clients.conf(5),
mandos-monitor(8)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2010-2016 Teddy Hogeborn,
Bj&Atilde;&para;rn P&Atilde;&yen;hlsson</p>

<p style="margin-top: 1em">This manual page is free
software: you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the
Free Software Foundation, either <br>
version 3 of the License, or (at your option) any later
version.</p>

<p style="margin-top: 1em">This manual page is distributed
in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR <br>
PURPOSE. See the GNU General Public License for more
details.</p>

<p style="margin-top: 1em">You should have received a copy
of the GNU General Public License along with this program.
If not, see http://www.gnu.org/licenses/.</p>

<p style="margin-top: 1em">Mandos 1.7.14 2016-06-27
MANDOS-CTL(8)</p>
<hr>
</body>
</html>
