<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KNOTC(8) Knot DNS KNOTC(8)</p>

<p style="margin-top: 1em">NAME <br>
knotc - Knot DNS control utility</p>

<p style="margin-top: 1em">SYNOPSIS <br>
knotc [parameters] action [action_args]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
If no action is specified, the program is executed in
interactive mode.</p>

<p style="margin-top: 1em">Parameters <br>
-c, --config file <br>
Use a textual configuration file (default is
@config_dir@/knot.conf).</p>

<p style="margin-top: 1em">-C, --confdb directory <br>
Use a binary configuration database directory (default is
@storage_dir@/confdb). The default configuration database,
if exists, has a preference to the default configura&acirc;
<br>
tion file.</p>

<p style="margin-top: 1em">-s, --socket path <br>
Use a control UNIX socket path (default is
@run_dir@/knot.sock).</p>

<p style="margin-top: 1em">-t, --timeout seconds <br>
Use a control timeout in seconds. Set 0 for infinity
(default is 5).</p>

<p style="margin-top: 1em">-f, --force <br>
Forced operation. Overrides some checks.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Enable debug output.</p>

<p style="margin-top: 1em">-h, --help <br>
Print the program help.</p>

<p style="margin-top: 1em">-V, --version <br>
Print the program version.</p>

<p style="margin-top: 1em">Actions <br>
status Check if the server is running.</p>

<p style="margin-top: 1em">stop Stop the server if
running.</p>

<p style="margin-top: 1em">reload Reload the server
configuration and modified zone files. All open zone
transactions will be aborted!</p>

<p style="margin-top: 1em">stats [module[.counter]] <br>
Show global statistics counter(s). To print also counters
with value 0, use force option.</p>

<p style="margin-top: 1em">zone-check [zone...] <br>
Test if the server can load the zone. Semantic checks are
executed if enabled in the configuration. (*)</p>

<p style="margin-top: 1em">zone-memstats [zone...] <br>
Estimate memory use for the zone. (*)</p>

<p style="margin-top: 1em">zone-status [zone...] <br>
Show the zone status. (*)</p>

<p style="margin-top: 1em">zone-reload [zone...] <br>
Trigger a zone reload from a disk without checking its
modification time. For slave zone, the refresh from a master
server is scheduled; for master zone, the notification <br>
of slave servers is scheduled. An open zone transaction will
be aborted!</p>

<p style="margin-top: 1em">zone-refresh [zone...] <br>
Trigger a check for the zone serial on the zone&rsquo;s
master. If the master has a newer zone, a transfer is
scheduled. This command is valid for slave zones.</p>

<p style="margin-top: 1em">zone-retransfer [zone...] <br>
Trigger a zone transfer from the zone&rsquo;s master. The
server doesn&rsquo;t check the serial of the master&rsquo;s
zone. This command is valid for slave zones.</p>

<p style="margin-top: 1em">zone-flush [zone...] <br>
Trigger a zone journal flush into the zone file.</p>

<p style="margin-top: 1em">zone-sign [zone...] <br>
Trigger a DNSSEC re-sign of the zone. Existing signatures
will be dropped. This command is valid for zones with
automatic DNSSEC signing.</p>

<p style="margin-top: 1em">zone-read zone [owner [type]]
<br>
Get zone data that are currently being presented.</p>

<p style="margin-top: 1em">zone-begin zone... <br>
Begin a zone transaction.</p>

<p style="margin-top: 1em">zone-commit zone... <br>
Commit the zone transaction. All changes are applied to the
zone.</p>

<p style="margin-top: 1em">zone-abort zone... <br>
Abort the zone transaction. All changes are discarded.</p>

<p style="margin-top: 1em">zone-diff zone <br>
Get zone changes within the transaction.</p>

<p style="margin-top: 1em">zone-get zone [owner [type]]
<br>
Get zone data within the transaction.</p>

<p style="margin-top: 1em">zone-set zone owner [ttl] type
rdata <br>
Add zone record within the transaction. The first record in
a rrset requires a ttl value specified.</p>

<p style="margin-top: 1em">zone-unset zone owner [type
[rdata]] <br>
Remove zone data within the transaction.</p>

<p style="margin-top: 1em">zone-purge zone... <br>
Purge zone data, file, journal, and timers.</p>

<p style="margin-top: 1em">zone-stats zone
[module[.counter]] <br>
Show zone statistics counter(s). To print also counters with
value 0, use force option.</p>

<p style="margin-top: 1em">conf-init <br>
Initialize the configuration database. (*)</p>

<p style="margin-top: 1em">conf-check <br>
Check the server configuration. (*)</p>

<p style="margin-top: 1em">conf-import filename <br>
Import a configuration file into the configuration database.
Ensure the server is not using the configuration database!
(*)</p>

<p style="margin-top: 1em">conf-export filename <br>
Export the configuration database into a config file.
(*)</p>

<p style="margin-top: 1em">conf-list [item] <br>
List the configuration database sections or section
items.</p>

<p style="margin-top: 1em">conf-read [item] <br>
Read the item from the active configuration database.</p>

<p style="margin-top: 1em">conf-begin <br>
Begin a writing configuration database transaction. Only one
transaction can be opened at a time.</p>

<p style="margin-top: 1em">conf-commit <br>
Commit the configuration database transaction.</p>

<p style="margin-top: 1em">conf-abort <br>
Rollback the configuration database transaction.</p>

<p style="margin-top: 1em">conf-diff [item] <br>
Get the item difference in the transaction.</p>

<p style="margin-top: 1em">conf-get [item] <br>
Get the item data from the transaction.</p>

<p style="margin-top: 1em">conf-set item [data...] <br>
Set the item data in the transaction.</p>

<p style="margin-top: 1em">conf-unset [item] [data...] <br>
Unset the item data in the transaction.</p>

<p style="margin-top: 1em">Note <br>
Empty or -- zone parameter means all zones or all zones with
a transaction.</p>

<p style="margin-top: 1em">Use @ owner to denote the zone
name.</p>

<p style="margin-top: 1em">Type item parameter in the form
of section[[id]][.name].</p>

<p style="margin-top: 1em">(*) indicates a local operation
which requires a configuration.</p>

<p style="margin-top: 1em">Interactive mode <br>
The utility provides interactive mode with basic line
editing functionality, command completion, and command
history.</p>

<p style="margin-top: 1em">Interactive mode behavior can be
customized in ~/.editrc. Refer to editrc(5) for details.</p>

<p style="margin-top: 1em">Command history is saved in
~/.knotc_history.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Reload the whole server configuration <br>
$ knotc reload</p>

<p style="margin-top: 1em">Flush the example.com and
example.org zones <br>
$ knotc zone-flush example.com example.org</p>

<p style="margin-top: 1em">Get the current server
configuration <br>
$ knotc conf-read server</p>

<p style="margin-top: 1em">Get the list of the current
zones <br>
$ knotc conf-read zone.domain</p>

<p style="margin-top: 1em">Get the master remotes for the
example.com zone <br>
$ knotc conf-read &rsquo;zone[example.com].master&rsquo;</p>

<p style="margin-top: 1em">Add example.org zone with a
zonefile location <br>
$ knotc conf-begin <br>
$ knotc conf-set &rsquo;zone[example.org]&rsquo; <br>
$ knotc conf-set &rsquo;zone[example.org].file&rsquo;
&rsquo;/var/zones/example.org.zone&rsquo; <br>
$ knotc conf-commit</p>

<p style="margin-top: 1em">Get the SOA record for each
configured zone <br>
$ knotc zone-read -- @ SOA</p>

<p style="margin-top: 1em">SEE ALSO <br>
knotd(8), knot.conf(5), editrc(5).</p>

<p style="margin-top: 1em">AUTHOR <br>
CZ.NIC Labs &lt;http://www.knot-dns.cz&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright 2010&acirc;2017, CZ.NIC, z.s.p.o.</p>

<p style="margin-top: 1em">2.4.1 2017-02-10 KNOTC(8)</p>
<hr>
</body>
</html>
