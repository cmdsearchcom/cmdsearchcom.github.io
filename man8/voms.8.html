<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:34 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VOMS(8) VOMS Server VOMS(8)</p>

<p style="margin-top: 1em">NAME <br>
voms - VOMS server</p>

<p style="margin-top: 1em">SYNOPSIS <br>
voms [-foreground] [-port port] [-backlog pnum] [-logfile
file] [-globusid id] [-globuspwd file] [-passfile file]
[-x509_cert_dir path] [-x509_cert_file file] <br>
[-x509_user_cert file] [-x509_user_key file]
[-x509_user_proxy file] [-dbname name] [-username name] [-vo
name] [-timeout limit] [-test] [-conf file] [-uri uri] <br>
[-version] [-code c] [-loglevel lev] [-logtype type]
[-logformat str] [-logdateformat str] [-debug] [-sqlloc
path] [-compat] [-socktimeout num] [-logmax num]
[-newformat] <br>
[-skipcacheck] [-help] [-usage] [-globus version]
[-contactstring contact] [-mysql-port port] [-mysql-socket
socket] [-shortfqans] [-syslog] [-base64] [-nologfile]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
VOMS - Virtual Organization Membership Service.</p>

<p style="margin-top: 1em">For the initial setup of the
server, run the voms_install_db script as root.</p>

<p style="margin-top: 1em">OPTIONS <br>
Options may be specified indifferently with either a
&quot;-&quot; or &quot;--&quot; prefix. Their meaning is the
following.</p>

<p style="margin-top: 1em">-help</p>

<p style="margin-top: 1em">-usage</p>

<p style="margin-top: 1em">These options print a list of
options that the server accepts. They are synonyms.</p>

<p style="margin-top: 1em">-foreground</p>

<p style="margin-top: 1em">Runs part of the server in
foreground. Easier debugging.</p>

<p style="margin-top: 1em">-port port</p>

<p style="margin-top: 1em">Listens on port port. The
default is 754.</p>

<p style="margin-top: 1em">-backlog num</p>

<p style="margin-top: 1em">Sets the maximum backlof for the
connections. The default is 50.</p>

<p style="margin-top: 1em">-logfile file</p>

<p style="margin-top: 1em">Selects the file for logging.
The default is /ver/log/voms.</p>

<p style="margin-top: 1em">-globusid id</p>

<p style="margin-top: 1em">-globuspwd file</p>

<p style="margin-top: 1em">This options are supported for
backwards compatibility only. They have no effect, and
indeed do not get listed by the -help option.</p>

<p style="margin-top: 1em">-passfile file</p>

<p style="margin-top: 1em">Reads the password to access the
DB from file. The default is to read it from the console
during server&Acirc;&acute;s startup.</p>

<p style="margin-top: 1em">-x509_cert_dir path</p>

<p style="margin-top: 1em">-x509_cert_file file</p>

<p style="margin-top: 1em">-x509_user_cert file</p>

<p style="margin-top: 1em">-x509_user_key file</p>

<p style="margin-top: 1em">-x509_user_proxy file</p>

<p style="margin-top: 1em">These options set the respective
variables.</p>

<p style="margin-top: 1em">-dbname name</p>

<p style="margin-top: 1em">Sets the name of the DB. Default
voms.</p>

<p style="margin-top: 1em">-username name</p>

<p style="margin-top: 1em">Sets the name of the user for
the DB login. The default is voms.</p>

<p style="margin-top: 1em">-vo name</p>

<p style="margin-top: 1em">Sets the name of the VO that
owns this server. The default is unspecified.</p>

<p style="margin-top: 1em">-timeout limit</p>

<p style="margin-top: 1em">Sets the length of time that the
information is valid, measured in secods. The default is
86400 seconds (24 hours).</p>

<p style="margin-top: 1em">-test</p>

<p style="margin-top: 1em">Prints information about the
server startup and then exits.</p>

<p style="margin-top: 1em">-conf file</p>

<p style="margin-top: 1em">Reads option from the file file.
The options must be present one per line in the format
-option[=value] where the value part must obviously be
present only if it is required.</p>

<p style="margin-top: 1em">-uri uri</p>

<p style="margin-top: 1em">Defines the uri of the server
that will be included in the generated pseudo certificate.
The default value is hostname:port</p>

<p style="margin-top: 1em">-version</p>

<p style="margin-top: 1em">Prints information about the
server and then exits.</p>

<p style="margin-top: 1em">-code c</p>

<p style="margin-top: 1em">-globus version</p>

<p style="margin-top: 1em">These option are obsolete and
only present for backwards compatibility with old
installation. Currently, their values are ignored. Do not
specify them in new installations.</p>

<p style="margin-top: 1em">-logtype type</p>

<p style="margin-top: 1em">Sets the type of messages that
will be loggged. Acceptable values are:</p>

<p style="margin-top: 1em">&Acirc;&middot; 1 - STARTUP,
print startup messages.</p>

<p style="margin-top: 1em">&Acirc;&middot; 2 - REQUEST,
print messages during the request interpretation phase.</p>

<p style="margin-top: 1em">&Acirc;&middot; 4 - RESULT,
print messages during the result sending phase.</p>

<p style="margin-top: 1em">This values can be ORed together
to indicate that all the corresponding types of messages are
required. The default values is 255.</p>

<p style="margin-top: 1em">-loglevel lev</p>

<p style="margin-top: 1em">Sets the level of verbosity of
log messages. Acceptable values are:</p>

<p style="margin-top: 1em">&Acirc;&middot; 1 - LEV_NONE, do
not log anything.</p>

<p style="margin-top: 1em">&Acirc;&middot; 2 - LEV_ERROR,
the default, logs only error conditions.</p>

<p style="margin-top: 1em">&Acirc;&middot; 3 -
LEV_WARNINGS, logs also warning messages.</p>

<p style="margin-top: 1em">&Acirc;&middot; 4 - LEV_INFO,
logs also general informational messages.</p>

<p style="margin-top: 1em">&Acirc;&middot; 5 - LEV_DEBUG,
logs also a lot of debug messages. Setting this level of
verbosity overwrites the value of the -logtype option to
255.</p>

<p style="margin-top: 1em">Higher values include all
messages printed by lower ones, and values not documented
here are translated as the highest level possible,
LEV_DEBUG</p>

<p style="margin-top: 1em">-logformat str</p>

<p style="margin-top: 1em">Sets the format used by the
loggin system according toa printf-like format string with
the following directives format: [size][char] where size, if
present, sets the maximum <br>
length of the field and char selects the type of
substitution done. Possible values are the following:</p>

<p style="margin-top: 1em">&Acirc;&middot; % - Substitutes
a plain &Acirc;&acute;%&Acirc;&acute;.</p>

<p style="margin-top: 1em">&Acirc;&middot; d - Substitutes
the date. The date format is specified by the -logdateformat
option.</p>

<p style="margin-top: 1em">&Acirc;&middot; f - Substitutes
the name of the source file that logs the message.</p>

<p style="margin-top: 1em">&Acirc;&middot; F - Substitutes
the name of the function that logs the message.</p>

<p style="margin-top: 1em">&Acirc;&middot; h - Substitutes
the hostname of the machine hosting the service.</p>

<p style="margin-top: 1em">&Acirc;&middot; l - Substitutes
the line number that logs the message.</p>

<p style="margin-top: 1em">&Acirc;&middot; m - Substitutes
the message proper.</p>

<p style="margin-top: 1em">&Acirc;&middot; p - Substitutes
the process&Acirc;&acute; pid.</p>

<p style="margin-top: 1em">&Acirc;&middot; s - Substitutes
the service name (&quot;vomsd&quot;).</p>

<p style="margin-top: 1em">&Acirc;&middot; t - Substitutes
the number of the message type. (see the -logtype
option)</p>

<p style="margin-top: 1em">&Acirc;&middot; T - Substitutes
the name of the message type. (see the -logtype option)</p>

<p style="margin-top: 1em">&Acirc;&middot; v - Substitutes
the number of the message level. (see the -loglevel
option)</p>

<p style="margin-top: 1em">&Acirc;&middot; V - Substitutes
the name of the message level. (see the -loglevel
option)</p>

<p style="margin-top: 1em">The default value for this
options is: &quot;%d:%h:%s(%p):%V:%T:%F (%f:%l):%m&quot;</p>

<p style="margin-top: 1em">-logdateformat str</p>

<p style="margin-top: 1em">This option sets the format used
to print the date. The format is the same used by the
strftime(3) function, and its default value is:
&quot;%c&quot;.</p>

<p style="margin-top: 1em">-debug</p>

<p style="margin-top: 1em">This option puts the server into
debug mode. This mode automatically implies -loglevel 5.
Also, this option hurts scalability and is not suggested in
a production environment</p>

<p style="margin-top: 1em">-sqlloc /path/file</p>

<p style="margin-top: 1em">This option specifies the full
path for the DB access library. Please note that there is no
default for this option!</p>

<p style="margin-top: 1em">-socktimeout num</p>

<p style="margin-top: 1em">This option sets the amount of
time, in seconds, after which the server will drop an
inactive connection. The default is 60 seconds.</p>

<p style="margin-top: 1em">-maxlog num</p>

<p style="margin-top: 1em">This options sets the maximum
size of a log file. Please note that this size is
approximate, and may be exceeded by a few thousand bytes. In
any case, when the specified amount <br>
is surpassed, logfiles are rotated. The default is 10Mb</p>

<p style="margin-top: 1em">-newformat</p>

<p style="margin-top: 1em">This forces the server to
generate ACs in the new (correct) format. This is meant as a
compatibility feature to ease migration while the servers
upgrade to the new version.</p>

<p style="margin-top: 1em">-skipcacheck</p>

<p style="margin-top: 1em">This option, if specified,
forces voms to drop some of the checks done as the
authorization step before AC creation. Specifically, voms
will no longer be capable of <br>
distinguishing to certificates with the same DN but
different issuers. For obvious reasons, use of this option
is discouraged. Note also that activating this option
requires a <br>
previous check by the voms server administrator that there
are no certificates registered in the DB which the same DN
and different issuers. If there are, the result of a <br>
voms-proxy-init command for one of those users will be
unpredictable.</p>

<p style="margin-top: 1em">-contactstring contact</p>

<p style="margin-top: 1em">This string specifies
information on how to contact the DB server. Its exact
meaning depends on the DB backend used. For MySQL it is the
hostname of the MySQL server, and it <br>
defaults to &Acirc;&acute;localhost&Acirc;&acute;. For
Oracle it is the contactstring of the DB. However, for
oracle it is better to put what whould be the argument of
this string into the
&Acirc;&acute;tnsnames.ora&Acirc;&acute; <br>
file and ignore this option,</p>

<p style="margin-top: 1em">-mysql-port port</p>

<p style="margin-top: 1em">This option specified the port
on which the MySQL server is listening if it is different
from its 3306 default. This value is ignored for Oracle
backends.</p>

<p style="margin-top: 1em">-mysql-socket socket</p>

<p style="margin-top: 1em">MySQL servers may be configured
to allow access through a unix-level socket. This option
allows to specify this method of contact. However, it is
almost always better to contact <br>
the server through the port. This option is ignored for
Oracle backends.</p>

<p style="margin-top: 1em">-shortfqans</p>

<p style="margin-top: 1em">This option instructs the server
to always generate FQANs in their short form, i.e. without
the /Role=NULL and /Capability=NULL parts. Successive server
version will make this <br>
behaviour the default, and provide a -noshortfqans option to
fallback to the longer format. Specifying this option is
recommended.</p>

<p style="margin-top: 1em">-syslog</p>

<p style="margin-top: 1em">This option allows log messages
to be sent to syslog.</p>

<p style="margin-top: 1em">-base64</p>

<p style="margin-top: 1em">This option instructs the server
to use the base64 encoding for its messages, rather than the
in-house encoding. This option will be made the default in
future versions and <br>
-nobase64 will be provided to fallback to the inhouse
encoding. Specifying this option is recommended.</p>

<p style="margin-top: 1em">-nologfile</p>

<p style="margin-top: 1em">This option disables logging on
the voms specific logfile. Please note that specifying this
option without at the same time specifying -syslog implies
that no logging will take <br>
place.</p>

<p style="margin-top: 1em">BUGS <br>
EGEE Bug Tracking Tool[1]</p>

<p style="margin-top: 1em">SEE ALSO <br>
voms-proxy-init(1), voms-proxy-info(1),
voms-proxy-destroy(1)</p>

<p style="margin-top: 1em">EDT Auth Home page[2]</p>

<p style="margin-top: 1em">CVSweb[3]</p>

<p style="margin-top: 1em">RPM repository[4]</p>

<p style="margin-top: 1em">AUTHORS <br>
Vincenzo Ciaschini Vincenzo.Ciaschini@cnaf.infn.it.</p>

<p style="margin-top: 1em">Valerio Venturi
Valerio.Venturi@cnaf.infn.it.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) Members of the EGEE Collaboration. 2004. See
the beneficiaries list for details on the copyright
holders.</p>

<p style="margin-top: 1em">Licensed under the Apache
License, Version 2.0 (the &quot;License&quot;); you may not
use this file except in compliance with the License. You may
obtain a copy of the License at</p>


<p style="margin-top: 1em">www.apache.org/licenses/LICENSE-2.0[5]</p>

<p style="margin-top: 1em">Unless required by applicable
law or agreed to in writing, software distributed under the
License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY <br>
KIND, either express or implied. See the License for the
specific language governing permissions and limitations
under the License.</p>

<p style="margin-top: 1em">NOTES <br>
1. EGEE Bug Tracking Tool <br>
https://savannah.cern.ch/projects/jra1mdw/</p>

<p style="margin-top: 1em">2. EDT Auth Home page <br>
http://grid-auth.infn.it</p>

<p style="margin-top: 1em">3. CVSweb <br>
http://datagrid.in2p3.fr/cgi-bin/cvsweb.cgi/Auth/voms</p>

<p style="margin-top: 1em">4. RPM repository <br>

http://datagrid.in2p3.fr/distribution/autobuild/i386-rh7.3</p>

<p style="margin-top: 1em">5.
www.apache.org/licenses/LICENSE-2.0 <br>
http://www.apache.org/licenses/LICENSE-2.0</p>

<p style="margin-top: 1em">VOMS Server 12/14/2011
VOMS(8)</p>
<hr>
</body>
</html>
