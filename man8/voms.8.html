<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>VOMS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VOMS(8)</td>
    <td class="head-vol">VOMS Server</td>
    <td class="head-rtitle">VOMS(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
voms - VOMS server
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>voms</b>
  [-foreground] [-port&#x00A0; <i>port</i>] [-backlog&#x00A0;<i>pnum</i>]
  [-logfile&#x00A0; <i>file</i>] [-globusid&#x00A0;<i>id</i>]
  [-globuspwd&#x00A0; <i>file</i>] [-passfile&#x00A0;<i>file</i>]
  [-x509_cert_dir&#x00A0; <i>path</i>] [-x509_cert_file&#x00A0;<i>file</i>]
  [-x509_user_cert&#x00A0; <i>file</i>] [-x509_user_key&#x00A0;<i>file</i>]
  [-x509_user_proxy&#x00A0; <i>file</i>] [-dbname&#x00A0;<i>name</i>]
  [-username&#x00A0; <i>name</i>] [-vo&#x00A0;<i>&#x00A0;name</i>]
  [-timeout&#x00A0; <i>&#x00A0;limit</i>] [-test]
  [-conf&#x00A0;<i>&#x00A0;file</i>] [-uri&#x00A0; <i>&#x00A0;uri</i>]
  [-version] [-code&#x00A0; <i>c</i>] [-loglevel&#x00A0;<i>lev</i>]
  [-logtype&#x00A0; <i>type</i>] [-logformat&#x00A0;<i>str</i>]
  [-logdateformat&#x00A0; <i>str</i>] [-debug] [-sqlloc&#x00A0;<i>path</i>]
  [-compat] [-socktimeout&#x00A0; <i>num</i>] [-logmax&#x00A0;<i>num</i>]
  [-newformat] [-skipcacheck] [-help] [-usage] [-globus&#x00A0; <i>version</i>]
  [-contactstring&#x00A0; <i>contact</i>] [-mysql-port&#x00A0;<i>port</i>]
  [-mysql-socket&#x00A0; <i>socket</i>] [-shortfqans] [-syslog] [-base64]
  [-nologfile]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
VOMS - Virtual Organization Membership Service.
<div class="Pp"></div>
For the initial setup of the server, run the voms_install_db script as root.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Options may be specified indifferently with either a &quot;-&quot; or
  &quot;--&quot; prefix. Their meaning is the following.
<div class="Pp"></div>
<b>-help</b>
<div class="Pp"></div>
<b>-usage</b>
<div class="Pp"></div>
These options print a list of options that the server accepts. They are
  synonyms.
<div class="Pp"></div>
<b>-foreground</b>
<div class="Pp"></div>
Runs part of the server in foreground. Easier debugging.
<div class="Pp"></div>
<b>-port</b> <i>port</i>
<div class="Pp"></div>
Listens on port <i>port</i>. The default is 754.
<div class="Pp"></div>
<b>-backlog</b> <i>num</i>
<div class="Pp"></div>
Sets the maximum backlof for the connections. The default is 50.
<div class="Pp"></div>
<b>-logfile</b> <i>file</i>
<div class="Pp"></div>
Selects the file for logging. The default is /ver/log/voms.
<div class="Pp"></div>
<b>-globusid</b> <i>id</i>
<div class="Pp"></div>
<b>-globuspwd</b> <i>file</i>
<div class="Pp"></div>
This options are supported for backwards compatibility only. They have no
  effect, and indeed do not get listed by the -help option.
<div class="Pp"></div>
<b>-passfile</b> <i>file</i>
<div class="Pp"></div>
Reads the password to access the DB from <i>file</i>. The default is to read it
  from the console during server&#x00B4;s startup.
<div class="Pp"></div>
<b>-x509_cert_dir</b> <i>path</i>
<div class="Pp"></div>
<b>-x509_cert_file</b> <i>file</i>
<div class="Pp"></div>
<b>-x509_user_cert</b> <i>file</i>
<div class="Pp"></div>
<b>-x509_user_key</b> <i>file</i>
<div class="Pp"></div>
<b>-x509_user_proxy</b> <i>file</i>
<div class="Pp"></div>
These options set the respective variables.
<div class="Pp"></div>
<b>-dbname</b> <i>name</i>
<div class="Pp"></div>
Sets the name of the DB. Default <i>voms</i>.
<div class="Pp"></div>
<b>-username</b> <i>name</i>
<div class="Pp"></div>
Sets the name of the user for the DB login. The default is <i>voms</i>.
<div class="Pp"></div>
<b>-vo</b> <i>name</i>
<div class="Pp"></div>
Sets the name of the VO that owns this server. The default is
  <i>unspecified</i>.
<div class="Pp"></div>
<b>-timeout</b> <i>limit</i>
<div class="Pp"></div>
Sets the length of time that the information is valid, measured in secods. The
  default is 86400 seconds (24 hours).
<div class="Pp"></div>
<b>-test</b>
<div class="Pp"></div>
Prints information about the server startup and then exits.
<div class="Pp"></div>
<b>-conf</b> <i>file</i>
<div class="Pp"></div>
Reads option from the file <i>file</i>. The options must be present one per line
  in the format <b>-option[=value]</b> where the value part must obviously be
  present only if it is required.
<div class="Pp"></div>
<b>-uri</b> <i>uri</i>
<div class="Pp"></div>
Defines the uri of the server that will be included in the generated pseudo
  certificate. The default value is hostname:port
<div class="Pp"></div>
<b>-version</b>
<div class="Pp"></div>
Prints information about the server and then exits.
<div class="Pp"></div>
<b>-code</b> <i>c</i>
<div class="Pp"></div>
<b>-globus</b> <i>version</i>
<div class="Pp"></div>
These option are obsolete and only present for backwards compatibility with old
  installation. Currently, their values are ignored. Do not specify them in new
  installations.
<div class="Pp"></div>
<b>-logtype</b> <i>type</i>
<div class="Pp"></div>
Sets the type of messages that will be loggged. Acceptable values are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;1 - STARTUP, print startup
  messages.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;2 - REQUEST, print messages during the
  request interpretation phase.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;4 - RESULT, print messages during the
  result sending phase.</div>
<div class="Pp"></div>
This values can be ORed together to indicate that all the corresponding types of
  messages are required. The default values is 255.
<div class="Pp"></div>
<b>-loglevel</b> <i>lev</i>
<div class="Pp"></div>
Sets the level of verbosity of log messages. Acceptable values are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;1 - LEV_NONE, do not log
  anything.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;2 - LEV_ERROR, the default, logs only
  error conditions.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;3 - LEV_WARNINGS, logs also warning
  messages.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;4 - LEV_INFO, logs also general
  informational messages.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;5 - LEV_DEBUG, logs also a lot of
  debug messages. Setting this level of verbosity overwrites the value of the
  <b>-logtype</b> option to 255.</div>
<div class="Pp"></div>
Higher values include all messages printed by lower ones, and values not
  documented here are translated as the highest level possible, LEV_DEBUG
<div class="Pp"></div>
<b>-logformat</b> <i>str</i>
<div class="Pp"></div>
Sets the format used by the loggin system according toa printf-like format
  string with the following directives format: <i>\%[size][char]</i> where size,
  if present, sets the maximum length of the field and <i>char</i> selects the
  type of substitution done. Possible values are the following:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;% - Substitutes a plain
  &#x00B4;%&#x00B4;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;d - Substitutes the date. The date
  format is specified by the <b>-logdateformat</b> option.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;f - Substitutes the name of the source
  file that logs the message.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;F - Substitutes the name of the
  function that logs the message.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;h - Substitutes the hostname of the
  machine hosting the service.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;l - Substitutes the line number that
  logs the message.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;m - Substitutes the message
  proper.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;p - Substitutes the process&#x00B4;
  pid.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;s - Substitutes the service name
  (&quot;vomsd&quot;).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;t - Substitutes the number of the
  message type. (see the <b>-logtype</b> option)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;T - Substitutes the name of the
  message type. (see the <b>-logtype</b> option)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;v - Substitutes the number of the
  message level. (see the <b>-loglevel</b> option)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;V - Substitutes the name of the
  message level. (see the <b>-loglevel</b> option)</div>
<div class="Pp"></div>
The default value for this options is: &quot;%d:%h:%s(%p):%V:%T:%F
  (%f:%l):%m&quot;
<div class="Pp"></div>
<b>-logdateformat</b> <i>str</i>
<div class="Pp"></div>
This option sets the format used to print the date. The format is the same used
  by the strftime(3) function, and its default value is: &quot;%c&quot;.
<div class="Pp"></div>
<b>-debug</b>
<div class="Pp"></div>
This option puts the server into debug mode. This mode automatically implies
  <b>-loglevel 5</b>. Also, this option hurts scalability and is not suggested
  in a production environment
<div class="Pp"></div>
<b>-sqlloc</b> <i>/path/file</i>
<div class="Pp"></div>
This option specifies the full path for the DB access library. Please note that
  there is no default for this option!
<div class="Pp"></div>
<b>-socktimeout</b> <i>num</i>
<div class="Pp"></div>
This option sets the amount of time, in seconds, after which the server will
  drop an inactive connection. The default is 60 seconds.
<div class="Pp"></div>
<b>-maxlog</b> <i>num</i>
<div class="Pp"></div>
This options sets the maximum size of a log file. Please note that this size is
  approximate, and may be exceeded by a few thousand bytes. In any case, when
  the specified amount is surpassed, logfiles are rotated. The default is 10Mb
<div class="Pp"></div>
<b>-newformat</b>
<div class="Pp"></div>
This forces the server to generate ACs in the new (correct) format. This is
  meant as a compatibility feature to ease migration while the servers upgrade
  to the new version.
<div class="Pp"></div>
<b>-skipcacheck</b>
<div class="Pp"></div>
This option, if specified, forces voms to drop some of the checks done as the
  authorization step before AC creation. Specifically, voms will no longer be
  capable of distinguishing to certificates with the same DN but different
  issuers. For obvious reasons, use of this option is discouraged. Note also
  that activating this option requires a previous check by the voms server
  administrator that there are no certificates registered in the DB which the
  same DN and different issuers. If there are, the result of a voms-proxy-init
  command for one of those users will be unpredictable.
<div class="Pp"></div>
<b>-contactstring</b> <i>contact</i>
<div class="Pp"></div>
This string specifies information on how to contact the DB server. Its exact
  meaning depends on the DB backend used. For MySQL it is the hostname of the
  MySQL server, and it defaults to &#x00B4;localhost&#x00B4;. For Oracle it is
  the contactstring of the DB. However, for oracle it is better to put what
  whould be the argument of this string into the &#x00B4;tnsnames.ora&#x00B4;
  file and ignore this option,
<div class="Pp"></div>
<b>-mysql-port </b> <i>port</i>
<div class="Pp"></div>
This option specified the port on which the MySQL server is listening if it is
  different from its 3306 default. This value is ignored for Oracle backends.
<div class="Pp"></div>
<b>-mysql-socket</b> <i>socket</i>
<div class="Pp"></div>
MySQL servers may be configured to allow access through a unix-level socket.
  This option allows to specify this method of contact. However, it is almost
  always better to contact the server through the port. This option is ignored
  for Oracle backends.
<div class="Pp"></div>
<b>-shortfqans</b>
<div class="Pp"></div>
This option instructs the server to always generate FQANs in their short form,
  i.e. without the /Role=NULL and /Capability=NULL parts. Successive server
  version will make this behaviour the default, and provide a
  <b>-noshortfqans</b> option to fallback to the longer format. Specifying this
  option is recommended.
<div class="Pp"></div>
<b>-syslog</b>
<div class="Pp"></div>
This option allows log messages to be sent to syslog.
<div class="Pp"></div>
<b>-base64</b>
<div class="Pp"></div>
This option instructs the server to use the base64 encoding for its messages,
  rather than the in-house encoding. This option will be made the default in
  future versions and <b>-nobase64</b> will be provided to fallback to the
  inhouse encoding. Specifying this option is recommended.
<div class="Pp"></div>
<b>-nologfile</b>
<div class="Pp"></div>
This option disables logging on the voms specific logfile. Please note that
  specifying this option without at the same time specifying <b>-syslog</b>
  implies that no logging will take place.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
<b>EGEE Bug Tracking Tool</b>[1]
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
voms-proxy-init(1), voms-proxy-info(1), voms-proxy-destroy(1)
<div class="Pp"></div>
<b>EDT Auth Home page</b>[2]
<div class="Pp"></div>
<b>CVSweb</b>[3]
<div class="Pp"></div>
<b>RPM repository</b>[4]
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Vincenzo Ciaschini Vincenzo.Ciaschini@cnaf.infn.it.
<div class="Pp"></div>
Valerio Venturi Valerio.Venturi@cnaf.infn.it.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) Members of the EGEE Collaboration. 2004. See the beneficiaries
  list for details on the copyright holders.
<div class="Pp"></div>
Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you
  may not use this file except in compliance with the License. You may obtain a
  copy of the License at
<div class="Pp"></div>
<b>www.apache.org/licenses/LICENSE-2.0</b>[5]
<div class="Pp"></div>
Unless required by applicable law or agreed to in writing, software distributed
  under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">EGEE Bug Tracking Tool</dd>
</dl>
<div style="margin-left: 4.00ex;">https://savannah.cern.ch/projects/jra1mdw/</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">EDT Auth Home page</dd>
</dl>
<div style="margin-left: 4.00ex;">http://grid-auth.infn.it</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">CVSweb</dd>
</dl>
<div style="margin-left: 4.00ex;">http://datagrid.in2p3.fr/cgi-bin/cvsweb.cgi/Auth/voms</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag">RPM repository</dd>
</dl>
<div style="margin-left: 4.00ex;">http://datagrid.in2p3.fr/distribution/autobuild/i386-rh7.3</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 5.</dt>
  <dd class="It-tag">www.apache.org/licenses/LICENSE-2.0</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.apache.org/licenses/LICENSE-2.0</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">12/14/2011</td>
    <td class="foot-os">VOMS Server</td>
  </tr>
</table>
</body>
</html>
