<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DOCKER(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DOCKER(8)</td>
    <td class="head-vol">SEPTEMBER 2015</td>
    <td class="head-rtitle">DOCKER(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dockerd - Enable daemon mode
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dockerd</b> [ <b>--add-runtime</b>[=<i>[]</i>]] [
  <b>--add-registry</b>[=<i>[]</i>]] [
  <b>--api-cors-header</b>=[=<i>API-CORS-HEADER</i>]] [
  <b>--authorization-plugin</b>[= <i>[]</i>]] [
  <b>-b</b>|<b>--bridge</b>[=<i>BRIDGE</i>]] [ <b>--bip</b>[=<i>BIP</i>]] [
  <b>--block-registry</b>[= <i>[]</i>]] [ <b>--cgroup-parent</b>[=<i>[]</i>]] [
  <b>--cluster-store</b>[=<i>[]</i>]] [ <b>--cluster-advertise</b>[=<i>[]</i>]]
  [ <b>--cluster-store-opt</b>[=<i>map[]</i>]] [
  <b>--config-file</b>[=<i>/etc/docker/daemon.json</i>]] [
  <b>--containerd</b>[=<i>SOCKET-PATH</i>]] [ <b>-D</b>|<b>--debug</b>] [
  <b>--default-gateway</b>[= <i>DEFAULT-GATEWAY</i>]] [
  <b>--default-gateway-v6</b>[= <i>DEFAULT-GATEWAY-V6</i>]] [
  <b>--default-ulimit</b>[= <i>[]</i>]] [ <b>--disable-legacy-registry</b>] [
  <b>--dns</b>[=<i>[]</i>]] [ <b>--dns-opt</b>[=<i>[]</i>]] [
  <b>--dns-search</b>[= <i>[]</i>]] [ <b>--enable-secrets</b>[=<i>true</i>]] [
  <b>--exec-opt</b>[=<i>[]</i>]] [ <b>--exec-root</b>[=<i>/var/run/docker</i>]]
  [ <b>--fixed-cidr</b>[=<i>FIXED-CIDR</i>]] [
  <b>--fixed-cidr-v6</b>[=<i>FIXED-CIDR-V6</i>]] [
  <b>-G</b>|<b>--group</b>[=<i>docker</i>]] [
  <b>-g</b>|<b>--graph</b>[=<i>/var/lib/docker</i>]] [
  <b>-H</b>|<b>--host</b>[=<i>[]</i>]] [ <b>--help</b>] [
  <b>--icc</b>[=<i>true</i>]] [ <b>--insecure-registry</b>[=<i>[]</i>]] [
  <b>--ip</b>[= <i>0.0.0.0</i>]] [ <b>--ip-forward</b>[=<i>true</i>]] [
  <b>--ip-masq</b>[= <i>true</i>]] [ <b>--iptables</b>[=<i>true</i>]] [
  <b>--ipv6</b>] [ <b>--isolation</b>[=<i>default</i>]] [
  <b>-l</b>|<b>--log-level</b>[= <i>info</i>]] [ <b>--label</b>[=<i>[]</i>]] [
  <b>--live-restore</b>[=<i>false</i>]] [
  <b>--log-driver</b>[=<i>json-file</i>]] [ <b>--log-opt</b>[=<i>map[]</i>]] [
  <b>--mtu</b>[=<i>0</i>]] [ <b>--max-concurrent-downloads</b>[=<i>3</i>]] [
  <b>--max-concurrent-uploads</b>[= <i>5</i>]] [
  <b>-p</b>|<b>--pidfile</b>[=<i>/var/run/docker.pid</i>]] [ <b>--raw-logs</b>]
  [ <b>--registry-mirror</b>[=<i>[]</i>]] [
  <b>-s</b>|<b>--storage-driver</b>[=<i>STORAGE-DRIVER</i>]] [
  <b>--selinux-enabled</b>] [ <b>--signature-verification</b>] [
  <b>--storage-opt</b>[= <i>[]</i>]] [
  <b>--swarm-default-advertise-addr</b>[=<i>IP|INTERFACE</i>]] [ <b>--tls</b>] [
  <b>--tlscacert</b>[=<i>&#x00A0;/.docker/ca.pem</i>]] [
  <b>--tlscert</b>[=<i>&#x00A0;/.docker/cert.pem</i>]] [
  <b>--tlskey</b>[=<i>&#x00A0;/.docker/key.pem</i>]] [ <b>--tlsverify</b>] [
  <b>--userland-proxy</b>[= <i>true</i>]] [
  <b>--userns-remap</b>[=<i>default</i>]]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dockerd</b> is used for starting the Docker daemon(i.e., to command the
  daemon to manage images, containers etc.) So <b>dockerd</b> is a server, as a
  daemon.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To run the Docker daemon you can specify <b>dockerd</b>. You can check the
  daemon options using <b>dockerd --help</b>. Daemon options should be specified
  after the <b>dockerd</b> keyword in the following format.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>dockerd [OPTIONS]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--add-runtime</b>=[]
<br/>
 Set additional OCI compatible runtime.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--add-registry</b>=[]
<br/>
 <b>EXPERIMENTAL</b> Each given registry will be queried before a public Docker
  registry during image pulls or searches. They will be searched in the order
  given. Registry mirrors won't apply to them.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--api-cors-header</b>=&quot;&quot;
<br/>
 Set CORS headers in the remote API. Default is cors disabled. Give urls like
  &quot; &#x27E8;http://foo&#x27E9;, &#x27E8;http://bar&#x27E9;, ...&quot;. Give
  &quot;*&quot; to allow all.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--authorization-plugin</b>=&quot;&quot;
<br/>
 Set authorization plugins to load
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-b</b>, <b>--bridge</b>=&quot;&quot;
<br/>
 Attach containers to a pre-existing network bridge; use 'none' to disable
  container networking
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--bip</b>=&quot;&quot;
<br/>
 Use the provided CIDR notation address for the dynamically created bridge
  (docker0); Mutually exclusive of -b
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--block-registry</b>=[]
<br/>
 <b>EXPERIMENTAL</b> Prevent Docker daemon from contacting specified registries.
  There are two special keywords recognized. The first is &quot;public&quot; and
  represents public Docker registry. The second is &quot;all&quot; which causes
  all registries but those added with <b>--add-registry</b> flag to be blocked.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cgroup-parent</b>=&quot;&quot;
<br/>
 Set parent cgroup for all containers. Default is &quot;/docker&quot; for fs
  cgroup driver and &quot;system.slice&quot; for systemd cgroup driver.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cluster-store</b>=&quot;&quot;
<br/>
 URL of the distributed storage backend
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cluster-advertise</b>=&quot;&quot;
<br/>
 Specifies the 'host:port' or <b></b>interface:port combination that this
  particular
<br/>
 daemon instance should use when advertising itself to the cluster. The daemon
<br/>
 is reached through this value.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cluster-store-opt</b>=&quot;&quot;
<br/>
 Specifies options for the Key/Value store.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--config-file</b>=&quot;/etc/docker/daemon.json&quot;
<br/>
 Specifies the JSON file path to load the configuration from.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--containerd</b>=&quot;&quot;
<br/>
 Path to containerd socket.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-D</b>, <b>--debug</b>=<i>true</i>|<i>false</i>
<br/>
 Enable debug mode. Default is false.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--default-gateway</b>=&quot;&quot;
<br/>
 IPv4 address of the container default gateway; this address must be part of the
  bridge subnet (which is defined by -b or --bip)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--default-gateway-v6</b>=&quot;&quot;
<br/>
 IPv6 address of the container default gateway
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--default-ulimit</b>=[]
<br/>
 Default ulimits for containers.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--disable-legacy-registry</b>=<i>true</i>|<i>false</i>
<br/>
 Disable contacting legacy registries
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--dns</b>=&quot;&quot;
<br/>
 Force Docker to use specific DNS servers
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--dns-opt</b>=&quot;&quot;
<br/>
 DNS options to use.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--dns-search</b>=[]
<br/>
 DNS search domains to use.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--enable-secrets</b>=<i>true</i>|<i>false</i>
<br/>
 Allow subscription-manager inside the containers to use subscriptions available
  on the host. Default is true.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--exec-opt</b>=[]
<br/>
 Set runtime execution options. See RUNTIME EXECUTION OPTIONS.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--exec-root</b>=&quot;&quot;
<br/>
 Path to use as the root of the Docker execution state files. Default is
  <b></b>/var/run/docker.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--fixed-cidr</b>=&quot;&quot;
<br/>
 IPv4 subnet for fixed IPs (e.g., 10.20.0.0/16); this subnet must be nested in
  the bridge subnet (which is defined by -b or --bip)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--fixed-cidr-v6</b>=&quot;&quot;
<br/>
 IPv6 subnet for global IPv6 addresses (e.g., 2a00:1450::/64)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-G</b>, <b>--group</b>=&quot;&quot;
<br/>
 Group to assign the unix socket specified by -H when running in daemon mode.
<br/>
 use '' (the empty string) to disable setting of a group. Default is
  <b></b>docker.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-g</b>, <b>--graph</b>=&quot;&quot;
<br/>
 Path to use as the root of the Docker runtime. Default is
  <b></b>/var/lib/docker.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-H</b>, <b>--host</b>=[<i>unix:///var/run/docker.sock</i>]: tcp://[host:port]
  to bind or unix://[/path/to/socket] to use.
<br/>
 The socket(s) to bind to in daemon mode specified using one or more
<br/>
 tcp://host:port, unix:///path/to/socket, fd://* or fd://socketfd.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--help</b>
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--icc</b>=<i>true</i>|<i>false</i>
<br/>
 Allow unrestricted inter-container and Docker daemon host communication. If
  disabled, containers can still be linked together using the <b>--link</b>
  option (see <b>docker-run(1)</b>). Default is true.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--insecure-registry</b>=[]
<br/>
 Enable insecure registry communication, i.e., enable un-encrypted and/or
  untrusted communication.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
List of insecure registries can contain an element with CIDR notation to specify
  a whole subnet. Insecure registries accept HTTP and/or accept HTTPS with
  certificates from unknown CAs.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Enabling <b></b>--insecure-registry is useful when running a local registry.
  However, because its use creates security vulnerabilities it should ONLY be
  enabled for testing purposes. For increased security, users should add their
  CA to their system's list of trusted CAs instead of using
  <b></b>--insecure-registry.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--ip</b>=&quot;&quot;
<br/>
 Default IP address to use when binding container ports. Default is
  <b></b>0.0.0.0.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--ip-forward</b>=<i>true</i>|<i>false</i>
<br/>
 Enables IP forwarding on the Docker host. The default is <b></b>true. This flag
  interacts with the IP forwarding setting on your host system's kernel. If your
  system has IP forwarding disabled, this setting enables it. If your system has
  IP forwarding enabled, setting this flag to <b></b>--ip-forward=false has no
  effect.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This setting will also enable IPv6 forwarding if you have both
  <b></b>--ip-forward=true and <b></b>--fixed-cidr-v6 set. Note that this may
  reject Router Advertisements and interfere with the host's existing IPv6
  configuration. For more information, please consult the documentation about
  &quot;Advanced Networking - IPv6&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--ip-masq</b>=<i>true</i>|<i>false</i>
<br/>
 Enable IP masquerading for bridge's IP range. Default is true.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--iptables</b>=<i>true</i>|<i>false</i>
<br/>
 Enable Docker's addition of iptables rules. Default is true.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--ipv6</b>=<i>true</i>|<i>false</i>
<br/>
 Enable IPv6 support. Default is false. Docker will create an IPv6-enabled
  bridge with address fe80::1 which will allow you to create IPv6-enabled
  containers. Use together with <b></b>--fixed-cidr-v6 to provide globally
  routable IPv6 addresses. IPv6 forwarding will be enabled if not used with
  <b></b>--ip-forward=false. This may collide with your host's current IPv6
  settings. For more information please consult the documentation about
  &quot;Advanced Networking - IPv6&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--isolation</b>=&quot;<i>default</i>&quot;
<br/>
 Isolation specifies the type of isolation technology used by containers. Note
  that the default on Windows server is <b></b>process, and the default on
  Windows client is <b></b>hyperv. Linux only supports <b></b>default.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-l</b>,
  <b>--log-level</b>=&quot;<i>debug</i>|<i>info</i>|<i>warn</i>|<i>error</i>|
  <i>fatal</i>&quot;
<br/>
 Set the logging level. Default is <b></b>info.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--label</b>=&quot;[]&quot;
<br/>
 Set key=value labels to the daemon (displayed in <b></b>docker info)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--live-restore</b>=<i>false</i>
<br/>
 Enable live restore of running containers when the daemon starts so that they
  are not restarted.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--log-driver</b>=&quot;<i>json-file</i>|<i>syslog</i>|<i>journald</i>|<i>gelf</i>|<i>fluentd</i>|<i>awslogs</i>|<i>splunk</i>|<i>etwlogs</i>|<i>gcplogs</i>|<i>none</i>&quot;
<br/>
 Default driver for container logs. Default is <b></b>json-file.
<br/>
 <b>Warning</b>: <b></b>docker logs command works only for <b></b>json-file
  logging driver.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--log-opt</b>=[]
<br/>
 Logging driver specific options.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--mtu</b>=<i>0</i>
<br/>
 Set the containers network mtu. Default is <b></b>0.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--max-concurrent-downloads</b>=<i>3</i>
<br/>
 Set the max concurrent downloads for each pull. Default is <b></b>3.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--max-concurrent-uploads</b>=<i>5</i>
<br/>
 Set the max concurrent uploads for each push. Default is <b></b>5.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-p</b>, <b>--pidfile</b>=&quot;&quot;
<br/>
 Path to use for daemon PID file. Default is <b></b>/var/run/docker.pid
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--raw-logs</b> Output daemon logs in full timestamp format without ANSI
  coloring. If this flag is not set, the daemon outputs condensed, colorized
  logs if a terminal is detected, or full (&quot;raw&quot;) output otherwise.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--registry-mirror</b>=<i>&lt;scheme&gt;://&lt;host&gt;</i>
<br/>
 Prepend a registry mirror to be used for image pulls. May be specified multiple
  times.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-s</b>, <b>--storage-driver</b>=&quot;&quot;
<br/>
 Force the Docker runtime to use a specific storage driver.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--selinux-enabled</b>=<i>true</i>|<i>false</i>
<br/>
 Enable selinux support. Default is false.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--signature-verification</b>=<i>true</i>|<i>false</i>
<br/>
 Enable image signature verification. Default is true. WARNING: this option
  doesn't work
<br/>
 with images being pulled from v1 docker registries. See SIGNATURE VERIFICATION.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--storage-opt</b>=[]
<br/>
 Set storage driver options. See STORAGE DRIVER OPTIONS.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--swarm-default-advertise-addr</b>=<i>IP|INTERFACE</i>
<br/>
 Set default address or interface for swarm to advertise as its
  externally-reachable address to other cluster
<br/>
 members. This can be a hostname, an IP address, or an interface such as
  <b></b>eth0. A port cannot be specified with
<br/>
 this option.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--tls</b>=<i>true</i>|<i>false</i>
<br/>
 Use TLS; implied by --tlsverify. Default is false.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--tlscacert</b>=<i>&#x00A0;/.docker/ca.pem</i>
<br/>
 Trust certs signed only by this CA.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--tlscert</b>=<i>&#x00A0;/.docker/cert.pem</i>
<br/>
 Path to TLS certificate file.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--tlskey</b>=<i>&#x00A0;/.docker/key.pem</i>
<br/>
 Path to TLS key file.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--tlsverify</b>=<i>true</i>|<i>false</i>
<br/>
 Use TLS and verify the remote (daemon: verify client, client: verify daemon).
<br/>
 Default is false.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--userland-proxy</b>=<i>true</i>|<i>false</i>
<br/>
 Rely on a userland proxy implementation for inter-container and
  outside-to-container loopback communications. Default is true.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--userns-remap</b>=<i>default</i>|<i>uid:gid</i>|<i>user:group</i>|<i>user</i>|<i>uid</i>
<br/>
 Enable user namespaces for containers on the daemon. Specifying
  &quot;default&quot; will cause a new user and group to be created to handle
  UID and GID range remapping for the user namespace mappings used for contained
  processes. Specifying a user (or uid) and optionally a group (or gid) will
  cause the daemon to lookup the user and group's subordinate ID ranges for use
  as the user namespace mappings for contained processes.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SIGNATURE_VERIFICATION"><a class="selflink" href="#SIGNATURE_VERIFICATION">SIGNATURE
  VERIFICATION</a></h1>
Docker supports GPG image signatures verification when
  <b>--signature-verification</b> flag is <i>true</i>. This functionality works
  only at pull time and for images being pulled from docker registries version
  2. You can sign an image using skopeo(1) or atomic(1). See
  &#x27E8;https://access.redhat.com/articles/2750891&#x27E9;.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="STORAGE_DRIVER_OPTIONS"><a class="selflink" href="#STORAGE_DRIVER_OPTIONS">STORAGE
  DRIVER OPTIONS</a></h1>
Docker uses storage backends (known as &quot;graphdrivers&quot; in the Docker
  internals) to create writable containers from images. Many of these backends
  use operating system level technologies and can be configured.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specify options to the storage backend with <b>--storage-opt</b> flags. The
  backends that currently take options are <i>devicemapper</i>, <i>zfs</i> and
  <i>btrfs</i>. Options for <i>devicemapper</i> are prefixed with <i>dm</i>,
  options for <i>zfs</i> start with <i>zfs</i> and options for <i>btrfs</i>
  start with <i>btrfs</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specifically for devicemapper, the default is a &quot;loopback&quot; model which
  requires no pre-configuration, but is extremely inefficient. Do not use it in
  production.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To make the best use of Docker with the devicemapper backend, you must have a
  recent version of LVM. Use <b></b>lvm to create a thin pool; for more
  information see <b></b>man lvmthin. Then, use <b></b>--storage-opt
  dm.thinpooldev to tell the Docker engine to use that pool for allocating
  images and container snapshots.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Devicemapper_options"><a class="selflink" href="#Devicemapper_options">Devicemapper
  options</a></h1>
<h2 class="Ss" title="Ss" id="dm.thinpooldev"><a class="selflink" href="#dm.thinpooldev">dm.thinpooldev</a></h2>
Specifies a custom block storage device to use for the thin pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If using a block device for device mapper storage, it is best to use <b></b>lvm
  to create and manage the thin-pool volume. This volume is then handed to
  Docker to exclusively create snapshot volumes needed for images and
  containers.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Managing the thin-pool outside of Engine makes for the most feature-rich method
  of having Docker utilize device mapper thin provisioning as the backing
  storage for Docker containers. The highlights of the lvm-based thin-pool
  management feature include: automatic or interactive thin-pool resize support,
  dynamically changing thin-pool features, automatic thinp metadata checking
  when lvm activates the thin-pool, etc.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
As a fallback if no thin pool is provided, loopback files are created. Loopback
  is very slow, but can be used without any pre-configuration of storage. It is
  strongly recommended that you do not use loopback in production. Ensure your
  Engine daemon has a <b></b>--storage-opt dm.thinpooldev argument provided.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
$ dockerd \
<br/>
 --storage-opt dm.thinpooldev=/dev/mapper/thin-pool
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.basesize"><a class="selflink" href="#dm.basesize">dm.basesize</a></h2>
Specifies the size to use when creating the base device, which limits the size
  of images and containers. The default value is 10G. Note, thin devices are
  inherently &quot;sparse&quot;, so a 10G device which is mostly empty doesn't
  use 10 GB of space on the pool. However, the filesystem will use more space
  for base images the larger the device is.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The base device size can be increased at daemon restart which will allow all
  future images and containers (based on those new images) to be of the new base
  device size.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.basesize=50G
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This will increase the base device size to 50G. The Docker daemon will throw an
  error if existing base device size is larger than 50G. A user can use this
  option to expand the base device size however shrinking is not permitted.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This value affects the system-wide &quot;base&quot; empty filesystem that may
  already be initialized and inherited by pulled images. Typically, a change to
  this value requires additional steps to take effect:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    $ sudo service docker stop
    $ sudo rm -rf /var/lib/docker
    $ sudo service docker start
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.basesize=20G
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.fs"><a class="selflink" href="#dm.fs">dm.fs</a></h2>
Specifies the filesystem type to use for the base device. The supported options
  are <b></b>ext4 and <b></b>xfs. The default is <b></b>ext4.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.fs=xfs
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.mkfsarg"><a class="selflink" href="#dm.mkfsarg">dm.mkfsarg</a></h2>
Specifies extra mkfs arguments to be used when creating the base device.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt &quot;dm.mkfsarg=-O ^has_journal&quot;
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.mountopt"><a class="selflink" href="#dm.mountopt">dm.mountopt</a></h2>
Specifies extra mount options used when mounting the thin devices.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.mountopt=nodiscard
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.use_deferred_removal"><a class="selflink" href="#dm.use_deferred_removal">dm.use_deferred_removal</a></h2>
Enables use of deferred device removal if <b></b>libdm and the kernel driver
  support the mechanism.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Deferred device removal means that if device is busy when devices are being
  removed/deactivated, then a deferred removal is scheduled on device. And
  devices automatically go away when last user of the device exits.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
For example, when a container exits, its associated thin device is removed. If
  that device has leaked into some other mount namespace and can't be removed,
  the container exit still succeeds and this option causes the system to
  schedule the device for deferred removal. It does not wait in a loop trying to
  remove a busy device.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.use_deferred_removal=true
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.use_deferred_deletion"><a class="selflink" href="#dm.use_deferred_deletion">dm.use_deferred_deletion</a></h2>
Enables use of deferred device deletion for thin pool devices. By default, thin
  pool device deletion is synchronous. Before a container is deleted, the Docker
  daemon removes any associated devices. If the storage driver can not remove a
  device, the container deletion fails and daemon returns.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b></b>Error deleting container: Error response from daemon: Cannot destroy
  container
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To avoid this failure, enable both deferred device deletion and deferred device
  removal on the daemon.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b></b>dockerd --storage-opt dm.use_deferred_deletion=true --storage-opt
  dm.use_deferred_removal=true
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
With these two options enabled, if a device is busy when the driver is deleting
  a container, the driver marks the device as deleted. Later, when the device
  isn't in use, the driver deletes it.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
In general it should be safe to enable this option by default. It will help when
  unintentional leaking of mount point happens across multiple mount namespaces.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.loopdatasize"><a class="selflink" href="#dm.loopdatasize">dm.loopdatasize</a></h2>
<b>Note</b>: This option configures devicemapper loopback, which should not be
  used in production.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specifies the size to use when creating the loopback file for the
  &quot;data&quot; device which is used for the thin pool. The default size is
  100G. The file is sparse, so it will not initially take up this much space.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.loopdatasize=200G
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.loopmetadatasize"><a class="selflink" href="#dm.loopmetadatasize">dm.loopmetadatasize</a></h2>
<b>Note</b>: This option configures devicemapper loopback, which should not be
  used in production.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specifies the size to use when creating the loopback file for the
  &quot;metadata&quot; device which is used for the thin pool. The default size
  is 2G. The file is sparse, so it will not initially take up this much space.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.loopmetadatasize=4G
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.datadev"><a class="selflink" href="#dm.datadev">dm.datadev</a></h2>
(Deprecated, use <b></b>dm.thinpooldev)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specifies a custom blockdevice to use for data for a Docker-managed thin pool.
  It is better to use <b></b>dm.thinpooldev - see the documentation for it above
  for discussion of the advantages.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.metadatadev"><a class="selflink" href="#dm.metadatadev">dm.metadatadev</a></h2>
(Deprecated, use <b></b>dm.thinpooldev)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Specifies a custom blockdevice to use for metadata for a Docker-managed thin
  pool. See <b></b>dm.datadev for why this is deprecated.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.blocksize"><a class="selflink" href="#dm.blocksize">dm.blocksize</a></h2>
Specifies a custom blocksize to use for the thin pool. The default blocksize is
  64K.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.blocksize=512K
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.blkdiscard"><a class="selflink" href="#dm.blkdiscard">dm.blkdiscard</a></h2>
Enables or disables the use of <b></b>blkdiscard when removing devicemapper
  devices. This is disabled by default due to the additional latency, but as a
  special case with loopback devices it will be enabled, in order to re-sparsify
  the loopback file on image/container removal.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Disabling this on loopback can lead to <i>much</i> faster container removal
  times, but it also prevents the space used in <b></b>/var/lib/docker directory
  from being returned to the system for other use when containers are removed.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd --storage-opt dm.blkdiscard=false
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.override_udev_sync_check"><a class="selflink" href="#dm.override_udev_sync_check">dm.override_udev_sync_check</a></h2>
By default, the devicemapper backend attempts to synchronize with the
  <b></b>udev device manager for the Linux kernel. This option allows disabling
  that synchronization, to continue even though the configuration may be buggy.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To view the <b></b>udev sync support of a Docker daemon that is using the
  <b></b>devicemapper driver, run:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    $ docker info
    [...]
     Udev Sync Supported: true
    [...]
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
When <b></b>udev sync support is <b></b>true, then <b></b>devicemapper and
  <b></b>udev can coordinate the activation and deactivation of devices for
  containers.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
When <b></b>udev sync support is <b></b>false, a race condition occurs between
  the <b></b>devicemapper and <b></b>udev during create and cleanup. The race
  condition results in errors and failures. (For information on these failures,
  see
<div style="height: 1.00em;">&#x00A0;</div>
&#x27E8;https://github.com/docker/docker/issues/4036&#x27E9;)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To allow the <b></b>docker daemon to start, regardless of whether <b></b>udev
  sync is <b></b>false, set <b></b>dm.override_udev_sync_check to true:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    $ dockerd --storage-opt dm.override_udev_sync_check=true
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
When this value is <b></b>true, the driver continues and simply warns you the
  errors are happening.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Note</b>: The ideal is to pursue a <b></b>docker daemon and environment that
  does support synchronizing with <b></b>udev. For further discussion on this
  topic, see
<div style="height: 1.00em;">&#x00A0;</div>
&#x27E8;https://github.com/docker/docker/issues/4036&#x27E9;. Otherwise, set
  this flag for migrating existing Docker daemons to a daemon with a supported
  environment.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.min_free_space"><a class="selflink" href="#dm.min_free_space">dm.min_free_space</a></h2>
Specifies the min free space percent in a thin pool require for new device
  creation to succeed. This check applies to both free data space as well as
  free metadata space. Valid values are from 0% - 99%. Value 0% disables free
  space checking logic. If user does not specify a value for this option, the
  Engine uses a default value of 10%.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Whenever a new a thin pool device is created (during <b></b>docker pull or
  during container creation), the Engine checks if the minimum free space is
  available. If the space is unavailable, then device creation fails and any
  relevant <b></b>docker operation fails.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To recover from this error, you must create more free space in the thin pool to
  recover from the error. You can create free space by deleting some images and
  containers from tge thin pool. You can also add more storage to the thin pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To add more space to an LVM (logical volume management) thin pool, just add more
  storage to the group container thin pool; this should automatically resolve
  any errors. If your configuration uses loop devices, then stop the Engine
  daemon, grow the size of loop files and restart the daemon to resolve the
  issue.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use:: <b></b>dockerd --storage-opt dm.min_free_space=10%
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="dm.xfs_nospace_max_retries"><a class="selflink" href="#dm.xfs_nospace_max_retries">dm.xfs_nospace_max_retries</a></h2>
Specifies the maximum number of retries XFS should attempt to complete IO when
  ENOSPC (no space) error is returned by underlying storage device.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
By default XFS retries infinitely for IO to finish and this can result in
  unkillable process. To change this behavior one can set
  xfs_nospace_max_retries to say 0 and XFS will not retry IO after getting
  ENOSPC and will shutdown filesystem.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ sudo dockerd --storage-opt dm.xfs_nospace_max_retries=0
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ZFS_options"><a class="selflink" href="#ZFS_options">ZFS
  options</a></h1>
<h2 class="Ss" title="Ss" id="zfs.fsname"><a class="selflink" href="#zfs.fsname">zfs.fsname</a></h2>
Set zfs filesystem under which docker will create its own datasets. By default
  docker will pick up the zfs filesystem where docker graph (
  <b></b>/var/lib/docker) is located.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>dockerd -s zfs --storage-opt zfs.fsname=zroot/docker
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Btrfs_options"><a class="selflink" href="#Btrfs_options">Btrfs
  options</a></h1>
<h2 class="Ss" title="Ss" id="btrfs.min_space"><a class="selflink" href="#btrfs.min_space">btrfs.min_space</a></h2>
Specifies the mininum size to use when creating the subvolume which is used for
  containers. If user uses disk quota for btrfs when creating or running a
  container with <b>--storage-opt size</b> option, docker should ensure the
  <b>size</b> cannot be smaller than <b>btrfs.min_space</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Example use: <b></b>docker daemon -s btrfs --storage-opt btrfs.min_space=10G
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CLUSTER_STORE_OPTIONS"><a class="selflink" href="#CLUSTER_STORE_OPTIONS">CLUSTER
  STORE OPTIONS</a></h1>
The daemon uses libkv to advertise the node within the cluster. Some Key/Value
  backends support mutual TLS, and the client TLS settings used by the daemon
  can be configured using the <b>--cluster-store-opt</b> flag, specifying the
  paths to PEM encoded files.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="kv.cacertfile"><a class="selflink" href="#kv.cacertfile">kv.cacertfile</a></h2>
Specifies the path to a local file with PEM encoded CA certificates to trust
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="kv.certfile"><a class="selflink" href="#kv.certfile">kv.certfile</a></h2>
Specifies the path to a local file with a PEM encoded certificate. This
  certificate is used as the client cert for communication with the Key/Value
  store.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="kv.keyfile"><a class="selflink" href="#kv.keyfile">kv.keyfile</a></h2>
Specifies the path to a local file with a PEM encoded private key. This private
  key is used as the client key for communication with the Key/Value store.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Access_authorization"><a class="selflink" href="#Access_authorization">Access
  authorization</a></h1>
Docker's access authorization can be extended by authorization plugins that your
  organization can purchase or build themselves. You can install one or more
  authorization plugins when you start the Docker <b></b>daemon using the
  <b></b>--authorization-plugin=PLUGIN_ID option.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
dockerd --authorization-plugin=plugin1 --authorization-plugin=plugin2,...
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The <b></b>PLUGIN_ID value is either the plugin's name or a path to its
  specification file. The plugin's implementation determines whether you can
  specify a name or path. Consult with your Docker administrator to get
  information about the plugins available to you.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Once a plugin is installed, requests made to the <b></b>daemon through the
  command line or Docker's remote API are allowed or denied by the plugin. If
  you have multiple plugins installed, at least one must allow the request for
  it to complete.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
For information about how to create an authorization plugin, see
  &#x27E8;https://docs.docker.com/engine/extend/authorization/&#x27E9; section
  in the Docker extend section of this documentation.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
Sept 2015, Originally compiled by Shishir Mahajan
  &#x27E8;shishir.mahajan@redhat.com&#x27E9; based on docker.com source material
  and internal work.</div>
<table class="foot">
  <tr>
    <td class="foot-date"> Docker User Manuals</td>
    <td class="foot-os">Shishir Mahajan</td>
  </tr>
</table>
</body>
</html>
