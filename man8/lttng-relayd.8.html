<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LTTNG-RELAYD(8) LTTng Manual LTTNG-RELAYD(8)</p>

<p style="margin-top: 1em">NAME <br>
lttng-relayd - LTTng 2 relay daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
lttng-relayd [--background | --daemonize] <br>
[--control-port=URL] [--data-port=URL] [--live-port=URL]
<br>
[--output=PATH] [-v | -vv | -vvv]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The Linux Trace Toolkit: next generation
&lt;http://lttng.org/&gt; is an open source software package
used for correlated tracing of the Linux kernel, user
applications, and user <br>
libraries.</p>

<p style="margin-top: 1em">LTTng consists of Linux kernel
modules (for Linux kernel tracing) and dynamically loaded
libraries (for user application and library tracing).</p>

<p style="margin-top: 1em">The LTTng relay daemon is
responsible for receiving trace data from possibly remote
LTTng session/consumer daemons and for writing it to the
local file system. The relay daemon <br>
also accepts LTTng live connections from compatible viewers;
this is the official approach to viewing LTTng events as
they are emitted.</p>

<p style="margin-top: 1em">The relay daemon listens by
default on all network interfaces to gather trace data, but
only on localhost for LTTng live connections.</p>

<p style="margin-top: 1em">The relay daemon does not
require any particular permissions, as long as it can write
to the output directory and listen on the configured ports.
If a user is within a secured <br>
network and/or has proper firewall settings, lttng-relayd
can listen to LTTng live connections from all network
interfaces by specifying
--live-port=tcp://localhost:5344.</p>

<p style="margin-top: 1em">Once a trace has been streamed
completely, the trace can be processed by any tool that can
process an LTTng trace located on the local file system.</p>

<p style="margin-top: 1em">Output directory <br>
By default, the relay daemon writes the traces to:</p>


<p style="margin-top: 1em">$LTTNG_HOME/lttng-traces/HOSTNAME/SESSION/DOMAIN</p>

<p style="margin-top: 1em">with:</p>

<p style="margin-top: 1em">HOSTNAME <br>
Remote hostname.</p>

<p style="margin-top: 1em">SESSION <br>
Full session name.</p>

<p style="margin-top: 1em">DOMAIN <br>
Tracing domain.</p>

<p style="margin-top: 1em">You can override the default
output directory prefix ($LTTNG_HOME/lttng-traces) with the
--output option. The other parts depend on the remote
configuration.</p>

<p style="margin-top: 1em">URL format <br>
The --control-port, --data-port, and --live-port options
specify URLs.</p>

<p style="margin-top: 1em">The format of those URLs is:</p>

<p style="margin-top: 1em">tcp://(HOST | IPADDR):PORT</p>

<p style="margin-top: 1em">with:</p>

<p style="margin-top: 1em">(HOST | IPADDR) <br>
Binding hostname or IP address (IPv6 address must be
enclosed in brackets ([ and ]); see RFC 2732
&lt;https://www.ietf.org/rfc/rfc2732.txt&gt;).</p>

<p style="margin-top: 1em">PORT <br>
TCP port.</p>

<p style="margin-top: 1em">OPTIONS <br>
Daemon <br>
-b, --background <br>
Start as Unix daemon, but keep file descriptors (console)
open. Use the --daemonize option instead to close the file
descriptors.</p>

<p style="margin-top: 1em">-d, --daemonize <br>
Start as Unix daemon, and close file descriptors (console).
Use the --background option instead to keep the file
descriptors open.</p>

<p style="margin-top: 1em">-g GROUP, --group=GROUP <br>
Use GROUP as Unix tracing group (default: tracing).</p>

<p style="margin-top: 1em">-o PATH, --output=PATH <br>
Set base directory of written trace data to PATH.</p>

<p style="margin-top: 1em">See the Output directory section
above for more information.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Increase verbosity.</p>

<p style="margin-top: 1em">Three levels of verbosity are
available, which are triggered by appending additional v
letters to the option (that is, -vv and -vvv).</p>

<p style="margin-top: 1em">Ports <br>
See the URL format section above for more information about
the syntax of the following options&rsquo; URL argument.</p>

<p style="margin-top: 1em">-C URL, --control-port=URL <br>
Listen to control data on URL URL (default:
tcp://0.0.0.0:5342).</p>

<p style="margin-top: 1em">-D URL, --data-port=URL <br>
Listen to trace data on URL URL (default:
tcp://0.0.0.0:5343).</p>

<p style="margin-top: 1em">-L URL, --live-port=URL <br>
Listen to LTTng live connections on URL URL (default:
tcp://localhost:5344).</p>

<p style="margin-top: 1em">Program information <br>
-h, --help <br>
Show help.</p>

<p style="margin-top: 1em">-V, --version <br>
Show version.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
LTTNG_ABORT_ON_ERROR <br>
Set to 1 to abort the process after the first error is
encountered.</p>

<p style="margin-top: 1em">LTTNG_NETWORK_SOCKET_TIMEOUT
<br>
Socket connection, receive and send timeout (milliseconds).
A value of 0 or -1 uses the timeout of the operating system
(default).</p>

<p style="margin-top: 1em">LTTNG_RELAYD_HEALTH <br>
Path to relay daemon health&acirc;s socket.</p>

<p style="margin-top: 1em">FILES <br>
$LTTNG_HOME/.lttng <br>
User LTTng runtime and configuration directory.</p>

<p style="margin-top: 1em">$LTTNG_HOME/lttng-traces <br>
Default output directory of LTTng traces. This can be
overridden with the --output option.</p>

<p style="margin-top: 1em">Note <br>
$LTTNG_HOME defaults to $HOME when not explicitly set.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
0 <br>
Success</p>

<p style="margin-top: 1em">1 <br>
Error</p>

<p style="margin-top: 1em">3 <br>
Fatal error</p>

<p style="margin-top: 1em">LIMITATIONS <br>
As of this version, only the TCP protocol is supported for
both control and data ports. In future versions, TCP will
remain the sole available protocol for control data since
<br>
those communications are low-volume and need absolute
reliability; trace data could be carried over UDP.</p>

<p style="margin-top: 1em">For an unprivileged user running
lttng-relayd, the maximum number of file descriptors per
process is usually 1024. This limits the number of
connections and opened trace files. <br>
This limit can be configured with ulimit(3).</p>

<p style="margin-top: 1em">BUGS <br>
If you encounter any issue or usability problem, please
report it on the LTTng bug tracker
&lt;https://bugs.lttng.org/projects/lttng-tools&gt;.</p>

<p style="margin-top: 1em">RESOURCES <br>
&Acirc;&middot; LTTng project website
&lt;http://lttng.org&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; LTTng
documentation &lt;http://lttng.org/docs&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; Git repositories
&lt;http://git.lttng.org&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; GitHub
organization &lt;http://github.com/lttng&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; Continuous
integration &lt;http://ci.lttng.org/&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; Mailing list
&lt;http://lists.lttng.org&gt; for support and development:
lttng-dev@lists.lttng.org</p>

<p style="margin-top: 1em">&Acirc;&middot; IRC channel
&lt;irc://irc.oftc.net/lttng&gt;: #lttng on irc.oftc.net</p>

<p style="margin-top: 1em">COPYRIGHTS <br>
This program is part of the LTTng-tools project.</p>

<p style="margin-top: 1em">LTTng-tools is distributed under
the GNU General Public License version 2
&lt;http://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html&gt;.
See the LICENSE <br>

&lt;https://github.com/lttng/lttng-tools/blob/master/LICENSE&gt;
file for details.</p>

<p style="margin-top: 1em">THANKS <br>
Special thanks to Michel Dagenais and the DORSAL laboratory
&lt;http://www.dorsal.polymtl.ca/&gt; at &Atilde;cole
Polytechnique de Montr&Atilde;&copy;al for the LTTng
journey.</p>

<p style="margin-top: 1em">Also thanks to the Ericsson
teams working on tracing which helped us greatly with
detailed bug reports and unusual test cases.</p>

<p style="margin-top: 1em">AUTHORS <br>
LTTng-tools was originally written by Mathieu Desnoyers,
Julien Desfossez, and David Goulet. More people have since
contributed to it.</p>

<p style="margin-top: 1em">LTTng-tools is currently
maintained by J&Atilde;&copy;r&Atilde;&copy;mie Galarneau
&lt;mailto:jeremie.galarneau@efficios.com&gt;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
lttng(1), lttng-sessiond(8), lttng-crash(1), lttng-ust(3),
babeltrace(1)</p>

<p style="margin-top: 1em">LTTng 2.9.3 01/09/2017
LTTNG-RELAYD(8)</p>
<hr>
</body>
</html>
