<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CHEF-SOLO(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CHEF-SOLO(8)</td>
    <td class="head-vol">chef-solo</td>
    <td class="head-rtitle">CHEF-SOLO(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
chef-solo - The man page for the chef-solo command line tool.
<div style="height: 1.00em;">&#x00A0;</div>
chef-solo is an open source version of the chef-client that allows using
  cookbooks with nodes without requiring access to a Chef server. chef-solo runs
  locally and requires that a cookbook (and any of its dependencies) be on the
  same physical disk as the node. chef-solo is a limited-functionality version
  of the chef-client and <b>does not support</b> the following:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Node data storage</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Search indexes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Centralized distribution of cookbooks</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A centralized API that interacts with and integrates
      infrastructure components</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Authentication or authorization</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Persistent attributes</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">chef-solo can be run as a daemon.</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The chef-solo executable is run as a command-line tool.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This command has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
chef-solo OPTION VALUE OPTION VALUE ...
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
This command has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c CONFIG</b>, <b>--config CONFIG</b></b></dt>
  <dd class="It-tag">The configuration file to use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b>, <b>--daemonize</b></b></dt>
  <dd class="It-tag">Use to run the executable as a daemon. This option may not
      be used in the same command with the <b>--[no-]fork</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is only available on machines that run in UNIX or Linux
      environments. For machines that are running Microsoft Windows that require
      similar functionality, use the <b>chef-client::service</b> recipe in the
      <b>chef-client</b> cookbook:
      <i>http://community.opscode.com/cookbooks/chef-client</i>. This will
      install a chef-client service under Microsoft Windows using the Windows
      Service Wrapper.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-E ENVIRONMENT_NAME</b>, <b>--environment
    ENVIRONMENT_NAME</b></b></dt>
  <dd class="It-tag">The name of the environment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-f</b>, <b>--[no-]fork</b></b></dt>
  <dd class="It-tag">Use to contain the chef-client run in a secondary process
      with dedicated RAM. When the chef-client run is complete the RAM will be
      returned to the master process. This option helps ensure that a
      chef-client will use a steady amount of RAM over time because the master
      process will not run recipes. This option will also help prevent memory
      leaks (such as those that can be introduced by the code contained within a
      poorly designed cookbook). Use <b>--no-fork</b> to disable running the
      chef-client in fork node. Default value: <b>--fork</b>. This option may
      not be used in the same command with the <b>--daemonize</b> and
      <b>--interval</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-F FORMAT</b>, <b>--format FORMAT</b></b></dt>
  <dd class="It-tag">The output format: <b>doc</b> (default) or <b>min</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <b>doc</b> to print the progress of the chef-client run using full
      strings that display a summary of updates as they occur.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <b>min</b> to print the progress of the chef-client run using single
      characters. A summary of updates is printed at the end of the chef-client
      run. A dot ( <b>.</b>) is printed for events that do not have meaningful
      status information, such as loading a file or synchronizing a cookbook.
      For resources, a dot ( <b>.</b>) is printed when the resource is up to
      date, an <b>S</b> is printed when the resource is skipped by <b>not_if</b>
      or <b>only_if</b>, and a <b>U</b> is printed when the resource is updated.
    <div style="height: 1.00em;">&#x00A0;</div>
    Other formatting options are available when those formatters are configured
      in the client.rb file using the <b>add_formatter</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--force-formatter</b></b></dt>
  <dd class="It-tag">Use to show formatter output instead of logger output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--force-logger</b></b></dt>
  <dd class="It-tag">Use to show logger output instead of formatter output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-g GROUP</b>, <b>--group GROUP</b></b></dt>
  <dd class="It-tag">The name of the group that owns a process. This is required
      when starting any executable as a daemon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>, <b>--help</b></b></dt>
  <dd class="It-tag">Shows help for the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-i SECONDS</b>, <b>--interval SECONDS</b></b></dt>
  <dd class="It-tag">The frequency (in seconds) at which the chef-client runs.
      When the chef-client is run at intervals, <b>--splay</b> and
      <b>--interval</b> values are applied before the chef-client run. This
      option may not be used in the same command with the <b>--[no-]fork</b>
      option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-j PATH</b>, <b>--json-attributes PATH</b></b></dt>
  <dd class="It-tag">The path to a file that contains JSON data.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use this option to define a <b>run_list</b> object. For example, a JSON file
      similar to:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
&quot;run_list&quot;: [
  &quot;recipe[base]&quot;,
  &quot;recipe[foo]&quot;,
  &quot;recipe[bar]&quot;,
  &quot;role[webserver]&quot;
],
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
may be used by running <b>chef-client -j path/to/file.json</b>.
<div style="height: 1.00em;">&#x00A0;</div>
In certain situations this option may be used to update <b>normal</b>
  attributes.
<div style="height: 1.00em;">&#x00A0;</div>
<b>WARNING:</b>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">Any other attribute type that is contained in
  this JSON file will be treated as a <b>normal</b> attribute. For example,
  attempting to update <b>override</b> attributes using the <b>-j</b> option:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
{
  &quot;name&quot;: &quot;dev-99&quot;,
  &quot;description&quot;: &quot;Install some stuff&quot;,
  &quot;override_attributes&quot;: {
    &quot;apptastic&quot;: {
      &quot;enable_apptastic&quot;: &quot;false&quot;,
      &quot;apptastic_tier_name&quot;: &quot;dev-99.bomb.com&quot;
    }
  }
}
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
will result in a node object similar to:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
{
  &quot;name&quot;: &quot;maybe-dev-99&quot;,
  &quot;normal&quot;: {
  &quot;name&quot;: &quot;dev-99&quot;,
    &quot;description&quot;: &quot;Install some stuff&quot;,
    &quot;override_attributes&quot;: {
      &quot;apptastic&quot;: {
        &quot;enable_apptastic&quot;: &quot;false&quot;,
        &quot;apptastic_tier_name&quot;: &quot;dev-99.bomb.com&quot;
      }
    }
  }
}
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-l LEVEL</b>, <b>--log_level LEVEL</b></b></dt>
  <dd class="It-tag">The level of logging that will be stored in a log
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-L LOGLOCATION</b>, <b>--logfile c</b></b></dt>
  <dd class="It-tag">The location in which log file output files will be saved.
      If this location is set to something other than <b>STDOUT</b>, standard
      output logging will still be performed (otherwise there would be no output
      other than to a file). This is recommended when starting any executable as
      a daemon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]color</b></b></dt>
  <dd class="It-tag">Use to view colored output. Default setting:
      <b>--color</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-N NODE_NAME</b>, <b>--node-name
    NODE_NAME</b></b></dt>
  <dd class="It-tag">The name of the node.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-o RUN_LIST_ITEM</b>, <b>--override-runlist
    RUN_LIST_ITEM</b></b></dt>
  <dd class="It-tag">Replace the current run list with the specified items.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-r RECIPE_URL</b>, <b>--recipe-url
    RECIPE_URL</b></b></dt>
  <dd class="It-tag">The URL location from which a remote cookbook tar.gz will
      be downloaded.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--run-lock-timeout SECONDS</b></b></dt>
  <dd class="It-tag">The amount of time (in seconds) to wait for a chef-client
      run to finish. Default value: not set (indefinite). Set to <b>0</b> to
      cause a second chef-client to exit immediately.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-s SECONDS</b>, <b>--splay SECONDS</b></b></dt>
  <dd class="It-tag">A number (in seconds) to add to the <b>interval</b> that is
      used to determine the frequency of chef-client runs. This number can help
      prevent server load when there are many clients running at the same time.
      When the chef-client is run at intervals, <b>--splay</b> and
      <b>--interval</b> values are applied before the chef-client run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-u USER</b>, <b>--user USER</b></b></dt>
  <dd class="It-tag">The user that owns a process. This is required when
      starting any executable as a daemon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-v</b>, <b>--version</b></b></dt>
  <dd class="It-tag">The version of the chef-client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-W</b>, <b>--why-run</b></b></dt>
  <dd class="It-tag">Use to run the executable in why-run mode, which is a type
      of chef-client run that does everything except modify the system. Use
      why-run mode to understand why the chef-client makes the decisions that it
      makes and to learn more about the current and proposed state of the
      system.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ chef-solo -c ~/solo.rb -j ~/node.json -r http://www.example.com/chef-solo.tar.gz
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The tar.gz archived into the <b>file_cache_path</b>, and then extracted to
  <b>cookbooks_path</b>.
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ chef-solo -c ~/solo.rb -j ~/node.json
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
chef-solo will look in the solo.rb file to determine the directory in which
  cookbooks are located.
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ chef-solo -c ~/solo.rb -j http://www.example.com/node.json -r http://www.example.com/chef-solo.tar.gz
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Chef</div>
<table class="foot">
  <tr>
    <td class="foot-date">Chef 12.0</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
