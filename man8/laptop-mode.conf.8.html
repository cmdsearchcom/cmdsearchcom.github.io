<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LAPTOP-MODE.CONF(8) System Manager&rsquo;s Manual
LAPTOP-MODE.CONF(8)</p>

<p style="margin-top: 1em">NAME <br>
/etc/laptop-mode/laptop-mode.conf - Configuration file for
laptop-mode-tools.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This manual page documents the options that can be set in
the /etc/laptop-mode/laptop-mode.conf configuration file and
in the modular configuration files in the /etc/laptop- <br>
mode/conf.d directory. For a description of what laptop mode
does, see the laptop_mode(8) manual page.</p>

<p style="margin-top: 1em">SETTINGS <br>
The syntax of options is OPTION=value. There are some groups
of options that specify values depending on power state and
laptop mode is enabled. These use the prefix &quot;LM_&quot;
to <br>
indicate that a value is used only when laptop mode is
enabled, &quot;NOLM_&quot; to indicate the opposite,
&quot;AC_&quot; to indicate that a value is used only when
the system is running on AC <br>
power, and &quot;BATT_&quot; to indicate that a value is
used only when the system is running on batteries. Settings
are prefixed with a combination of an optional LM_/NOLM_
prefix and an <br>
optional AC_/BATT_. For instance, the combination LM_AC_
means &quot;when the system is in laptop mode and on AC
power&quot;. (Note that this situation happens only if
ENABLE_LAP&acirc; <br>
TOP_MODE_ALWAYS is enabled!) If one of the prefixes (either
LM_/NOLM_ or AC_/BATT_) is missing, then the value is used
independently of the state of laptop mode or AC power, <br>
respectively. Options that start with &quot;CONTROL_&quot;
are boolean settings that determine whether laptop mode
tools is allowed to control a certain aspect of your system.
Boolean set&acirc; <br>
tings always expect &quot;0&quot; to indicate the false
(negative/no/disabled) value, and &quot;1&quot; to indicate
the true (positive/yes/enabled) value.</p>

<p style="margin-top: 1em">The following sections list the
settings that are available in laptop-mode.conf and in the
modular configuration files.</p>

<p style="margin-top: 1em">Note: Many settings were moved
from the main configuration file to the modular
configuration files. The settings here are split out by
modular configuration file, but in instal&acirc; <br>
lations upgraded from version 1.36 or earlier they may
appear in both. In such cases, the configuration settings in
the main configuration file override those in the modular
con&acirc; <br>
figuration files. To avoid confusion, it is advised to move
the settings from the main configuration files to the
modular configuration files when this situation is
detected.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/board-specific/
<br>
The board-specific settings framework is for users and
distributors who would like to ship their local customized
settings on top of the default settings shipped
upstream.</p>

<p style="margin-top: 1em">Add local customized settings
under this folder to override the system defaults.</p>


<p style="margin-top: 1em">/etc/laptop-mode/laptop-mode.conf
<br>
This is the main configuration file. It contains the
settings for enabling and disabling, plus the core features:
the Linux kernel laptop mode feature and related
settings.</p>

<p style="margin-top: 1em">ENABLE_LAPTOP_MODE_TOOLS <br>
This module determines if laptop-mode-tools should be run or
not. Default is 1 Set it to 0 if you would like to
completely disable laptop-mode-tools</p>

<p style="margin-top: 1em">VERBOSE_OUTPUT <br>
Set this to 1 if you want to see a lot of output when you
start/stop laptop mode, and to 0 if you don&rsquo;t want
this. Useful for debugging purposes.</p>

<p style="margin-top: 1em">LOG_TO_SYSLOG <br>
Set this to 1 if you want to log messages to syslog when you
start/stop laptop mode, and to 0 if you don&rsquo;t want
this. Useful for debugging purposes.</p>

<p style="margin-top: 1em">DEBUG Set this to 1 if you would
like to execute the entire laptop-mode program in debug
mode. WARNING: This will create a lot of text output. If you
are debugging an indi&acirc; <br>
vidual module, perhaps you would want to enable each module
specific debug mode (available in module conf files)</p>

<p style="margin-top: 1em">ENABLE_AUTO_MODULES <br>
Set this to 1 to enable all laptop mode tools modules that
are termed safe to be enabled and are marked auto. With this
option alone, you can enable all auto modules. <br>
Incase you need to fine-control the behavior of individual
modules, you can modify them accordingly. Default is 1</p>


<p style="margin-top: 1em">ENABLE_LAPTOP_MODE_ON_BATTERY</p>

<p style="margin-top: 1em">ENABLE_LAPTOP_MODE_ON_AC <br>
These options determine whether laptop mode will be
activated when the computer is on battery or on AC power,
respectively. Note that if the system service laptop-mode
<br>
is not started, then laptop mode will never be started, even
if this option is enabled.</p>

<p style="margin-top: 1em">The ENABLE_LAPTOP_MODE_ON_AC
setting is useful when you want to run on a headless
machine, in low-power mode, for eg. a Jukebox.</p>


<p style="margin-top: 1em">ENABLE_LAPTOP_MODE_WHEN_LID_CLOSED
<br>
When this option is enabled, laptop mode will be activated
when the laptop&rsquo;s lid is closed, even if the system is
not working on batteries. Note that if the system ser&acirc;
<br>
vice laptop-mode is not started, then laptop mode will never
be started, even if this option is enabled. This feature is
only supported on ACPI.</p>

<p style="margin-top: 1em">MINIMUM_BATTERY_CHARGE_PERCENT
<br>
The minimum number of battery minutes, charge (in mAh) or
charge (in mWh) that you want to have available while your
laptop is in laptop mode. When the number of min&acirc; <br>
utes/mAhs/mWhs goes below this value, the data loss
sensitive features are automatically disabled. Note that
some batteries do not report a discharge rate, which means
<br>
that MINIMUM_BATTERY_MINUTES has no effect for these
batteries. These options are only supported on ACPI.</p>


<p style="margin-top: 1em">DISABLE_LAPTOP_MODE_ON_CRITICAL_BATTERY_LEVEL
<br>
If this option is enabled, the data loss sensitive features
of laptop mode are disabled when the battery reports its
state as &quot;critical&quot;. This option is only supported
<br>
on ACPI.</p>

<p style="margin-top: 1em">DISABLE_BATTERY_ALARM_CHECK <br>
If this option is enabled, the alarm values are ignored from
the battery. This is helpful if you have a broken battery
which is reporting false alarms.</p>

<p style="margin-top: 1em">HD The hard drives which laptop
mode should operate upon. If you have multiple hard drives,
you should list them all in this option, separated by
spaces, for example: <br>
&quot;/dev/hda /dev/hdb&quot;.</p>

<p style="margin-top: 1em">PARTITIONS <br>
This option specifies the partitions or mount points that
laptop mode should operate upon. Separate the partitions or
mount points by spaces. You can include the entry <br>
&quot;auto&quot; to stand for the partitions on the hard
drives specified in the HD option.</p>


<p style="margin-top: 1em">LM_BATT_MAX_LOST_WORK_SECONDS</p>

<p style="margin-top: 1em">LM_AC_MAX_LOST_WORK_SECONDS <br>
The maximum number of seconds worth of data that you can
lose when power runs out or when the computer crashes. This
is the maximum number of seconds that laptop mode <br>
will keep modified data in memory without being written to
disk. (Note that the NOLM value is missing: modifying this
value when laptop mode is disabled is extremely <br>
useless, as it won&rsquo;t save you any power, and will only
lose you work.)</p>

<p style="margin-top: 1em">CONTROL_READAHEAD <br>
When this option is enabled, laptop mode tools controls the
readahead on the filesystems it works upon.</p>

<p style="margin-top: 1em">LM_READAHEAD</p>

<p style="margin-top: 1em">NOLM_READAHEAD <br>
The number of kilobytes to &quot;read ahead&quot; on your
hard disks. Reading ahead means that whenever some data is
read from disk, the data which is most likely to be accessed
<br>
next is read as well, ahead of time. This then saves a hard
disk spinup when the data is actually needed, because the
data is then already in memory. Don&rsquo;t set this <br>
value too high, because the readahead applies to all files
that are read!</p>

<p style="margin-top: 1em">CONTROL_NOATIME <br>
When this option is enabled, laptop mode tools places the
&quot;noatime&quot; option in the mount options of your
filesystems when laptop mode is active. This option has the
<br>
effect of disabling access time logging on files, which may
save some disk activity. If you use programs that depend on
access times (e.g., mutt), then you should dis&acirc; <br>
able this option, or enable the USE_RELATIME option.</p>

<p style="margin-top: 1em">USE_RELATIME <br>
When this option is enabled together with the
CONTROL_NOATIME option, laptop mode tools will use the
relatime option instead of the noatime option. This option
works <br>
for more applications, and still causes relatively low
levels of disk writes. Note that this functionality is only
available in recent kernel versions, and laptop mode <br>
tools will ignore this setting for kernels before
2.6.23.</p>

<p style="margin-top: 1em">CONTROL_HD_IDLE_TIMEOUT <br>
When this option is enabled, laptop mode tools adjusts your
hard drives&rsquo; idle timeouts, i.e., the time of
inactivity before they spin down.</p>


<p style="margin-top: 1em">LM_AC_HD_IDLE_TIMEOUT_SECONDS</p>


<p style="margin-top: 1em">LM_BATT_HD_IDLE_TIMEOUT_SECONDS</p>

<p style="margin-top: 1em">NOLM_HD_IDLE_TIMEOUT_SECONDS
<br>
These settings control the idle timeout for your hard
drives. The values are specified in seconds. Values up to 20
minutes can be represented accurately by the hard&acirc;
<br>
ware, anything above that is rounded down to half-hour
precision. Use the value 0 to disable idle timeout.</p>

<p style="margin-top: 1em">CONTROL_HD_POWERMGMT <br>
When this option is enabled, laptop mode tools adjusts your
hard drives&rsquo; power management settings.</p>

<p style="margin-top: 1em">BATT_HD_POWERMGMT</p>

<p style="margin-top: 1em">LM_AC_HD_POWERMGMT</p>

<p style="margin-top: 1em">NOLM_AC_HD_POWERMGMT <br>
These values specify the power management level for your
hard drives. The legal values for these options can be found
in the hdparm(8) manual page, in the documenta&acirc; <br>
tion of the -B option.</p>

<p style="margin-top: 1em">CONTROL_HD_WRITECACHE <br>
When this option is enabled, laptop mode tools controls your
hard drives&rsquo; write cache settings.</p>

<p style="margin-top: 1em">NOLM_AC_HD_WRITECACHE</p>

<p style="margin-top: 1em">NOLM_BATT_HD_WRITECACHE</p>

<p style="margin-top: 1em">LM_HD_WRITECACHE <br>
These options specify whether the write caches should be
enabled for your hard drives.</p>

<p style="margin-top: 1em">CONTROL_SYSLOG_CONF (deprecated)
<br>
When this option is enabled, laptop mode tools controls
/etc/syslog.conf as a symlink. This option is deprecated.
Use the configuration-file-control module instead, <br>
which is configured in the
/etc/laptop-mode/conf.d/configuration-file-control.conf
module configuration file.</p>

<p style="margin-top: 1em">Advanced laptop-mode.conf
options <br>
These options normally do not need to be modified from their
default values. Do not tweak these settings unless you know
what you are doing.</p>

<p style="margin-top: 1em">ASSUME_SCSI_IS_SATA <br>
This option, enabled by default, tells laptop mode tools to
assume that a device /dev/sdX is a SATA device, and that it
should be controlled using hdparm. If your <br>
/dev/sdX drives are really SCSI drives, disable this
option.</p>

<p style="margin-top: 1em">ACPI_WITHOUT_AC_EVENTS <br>
Enable this option if you have a laptop with a buggy ACPI
implementation that doesn&rsquo;t send out AC adapter
events. Enabling this option will make laptop mode check the
<br>
AC adapter state whenever the battery state changes, which
achieves just about the same effect as responding to AC
adapter events.</p>

<p style="margin-top: 1em">CONTROL_MOUNT_OPTIONS <br>
When this option is enabled, laptop mode tools is allowed to
control the mount options for your filesystems. Disabling
this will break CONTROL_NOATIME, but it will most <br>
probably also break laptop mode itself, as changes to the
mount options are crucial for achieving spun-down hard
drives.</p>

<p style="margin-top: 1em">LM_DIRTY_RATIO</p>

<p style="margin-top: 1em">NOLM_DIRTY_RATIO <br>
This option specifies the percentage of system memory that
is allowed to contain unwritten modified data when laptop
mode is active.</p>

<p style="margin-top: 1em">LM_DIRTY_BACKGROUND_RATIO</p>

<p style="margin-top: 1em">NOLM_DIRTY_BACKGROUND_RATIO <br>
This option specifies the percentage of system memory that
is allowed to contain unwritten modified data after the
DIRTY_RATIO barrier has been crossed. The effect of <br>
this option is that when more than DIRTY_RATIO percent of
memory contains modified data, the system will synchronously
write back data until only DIRTY_BACKGROUND_RATIO <br>
percent of memory contains modified data.</p>

<p style="margin-top: 1em">DEF_UPDATE</p>

<p style="margin-top: 1em">DEF_XFS_AGE_BUFFER</p>

<p style="margin-top: 1em">DEF_XFS_SYNC_INTERVAL</p>

<p style="margin-top: 1em">DEF_XFS_BUFD_INTERVAL</p>

<p style="margin-top: 1em">DEF_MAX_AGE <br>
These options contain the default (non-laptop-mode) values
for some kernel options that are modified when laptop mode
is active. You do not normally need to change <br>
these, they represent the normal kernel defaults.</p>

<p style="margin-top: 1em">XFS_HZ This option specifies the
number of units in a second that is utilized by a 2.4
kernel. If you run a 2.4 kernel with an XFS filesystem on
non-Intel hardware, you need <br>
to change this option to reflect the kernel &quot;ticks per
second&quot; value, which is the kernel variable HZ.
Unfortunately this is not exposed anywhere, so you&rsquo;ll
have to <br>
specify it manually.</p>

<p style="margin-top: 1em">LM_SECONDS_BEFORE_SYNC <br>
The number of seconds that laptop mode waits after the disk
goes idle before it starts a full sync. This should always
be less than your hard disk idle timeout, because <br>
otherwise you&rsquo;ll have a sync directly after your drive
spins down. Two seconds is usually a good value for this
option.</p>

<p style="margin-top: 1em">XFS_HZ This option expresses the
unit of the XFS tuning parameters. The default is 100. This
option is only useful for 2.4 kernels that have a value for
HZ that is not 100. In <br>
the 2.6 kernel series, the XFS interfaces were modified to
always use USER_HZ (which is currently always 100), so for
these kernels you do not need to modify this <br>
value. Also, on 2.4 kernels the value of HZ is 100 for the
most common architectures, so you need only change this
value if you use a less common architecture.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/ethernet.conf
<br>
The ethernet module allows you to control the behavior of
your ethernet devices during AC and battery states.</p>

<p style="margin-top: 1em">CONTROL_ETHERNET <br>
Enable this to control various aspects of power savings in
the ethernet devices.</p>

<p style="margin-top: 1em">BATT_THROTTLE_ETHERNET=1</p>

<p style="margin-top: 1em">LM_AC_THROTTLE_ETHERNET=0</p>

<p style="margin-top: 1em">NOLM_AC_THROTTLE_ETHERNET=0 <br>
These options specify the power states in which you would
like to control the ethernet device</p>

<p style="margin-top: 1em">THROTTLE_SPEED <br>
Here, you can specify the throttling speed for your ethernet
device. The default is &quot;slowest&quot;. Valid values are
&quot;slowest&quot;, &quot;fastest&quot; or the speed of
your ethernet <br>
device, like 1000. To know the exact speed of your ethernet
device, you can use the ethtool tool.</p>

<p style="margin-top: 1em">DISABLE_WAKEUP_ON_LAN <br>
This setting controls the option to enable/disable the WoL
(Wake On LAN) feature. It permanently disables the WOL
feature on the ethernet device. Default is 1. Set it <br>
to 0 to enable the WOL feature.</p>

<p style="margin-top: 1em">ETHERNET_DEVICES <br>
Specify the list of ethernet devices to control. Defaults to
eth0</p>

<p style="margin-top: 1em">DISABLE_ETHERNET_ON_BATTERY <br>
Set this to 1 if you want to completely disable your
ethernet device when running on battery, and when no carrier
is detected on the interface (e.g., no active cable is <br>
plugged in). Default is 0</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/cpuhotplug.conf
<br>
The cpuhotplug module allows you to switch off the CPU cores
when running on battery</p>

<p style="margin-top: 1em">CONTROL_CPU_HOTPLUG <br>
When this option is enabled, Laptop Mode Tools can hotplug
your CPU, thus switching it offline, and conserving some
power. NOTE: This module is NOT enabled by default</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/cpufreq.conf
<br>
The cpufreq module allows you to control the Linux
kernel&rsquo;s CPU frequency scaling settings.</p>

<p style="margin-top: 1em">CONTROL_CPU_FREQUENCY <br>
When this option is enabled, laptop mode tools controls your
CPU&rsquo;s frequency scaling bounds and the scaling
governor. This option is currently only supported on 2.6
<br>
kernels.</p>

<p style="margin-top: 1em">BATT_CPU_MAXFREQ</p>

<p style="margin-top: 1em">BATT_CPU_INFREQ</p>

<p style="margin-top: 1em">BATT_CPU_GOVERNOR</p>

<p style="margin-top: 1em">BATT_CPU_IGNORE_NICE_LOAD</p>

<p style="margin-top: 1em">LM_AC_CPU_MAXFREQ</p>

<p style="margin-top: 1em">LM_AC_CPU_MINFREQ</p>

<p style="margin-top: 1em">LM_AC_CPU_GOVERNOR</p>

<p style="margin-top: 1em">LM_AC_CPU_IGNORE_NICE_LOAD</p>

<p style="margin-top: 1em">NOLM_AC_CPU_MAXFREQ</p>

<p style="margin-top: 1em">NOLM_AC_CPU_MINFREQ</p>

<p style="margin-top: 1em">NOLM_AC_CPU_GOVERNOR</p>

<p style="margin-top: 1em">NOLM_AC_CPU_IGNORE_NICE_LOAD
<br>
These options specify the CPU frequency bounds and scaling
governor in the various power states. You can change the
MAXFREQ and MINFREQ values to any value listed in <br>

/sys/devices/system/cpu/cpu0/cpufreq/scaling_available_frequencies.
<br>
In addition, you can use &quot;fastest&quot; and
&quot;slowest&quot;. The GOVERNOR option controls the
setting for
/sys/devices/system/cpu/cpufreq/scaling_governor. The
available options <br>
are dependent on the installed kernel. The most common ones
are &quot;conservative&quot;, &quot;performance&quot; and
&quot;ondemand&quot;. The IGNORE_NICE_LOAD option controls a
setting that is <br>
available for the &quot;conservative&quot; and
&quot;ondemand&quot; governors. Set this option to 1 if you
want the frequency scaling governor to not increase the CPU
frequency for the <br>
sake of low-priority (&quot;nice&quot;) background
processes.</p>

<p style="margin-top: 1em">CONTROL_CPU_THROTTLING <br>
When this option is enabled, laptop mode tools controls your
CPU&rsquo;s throttling level. It is only useful if your CPU
doesn&rsquo;t support frequency scaling. This option is <br>
only supported on some ACPI hardware.</p>

<p style="margin-top: 1em">BATT_CPU_THROTTLING</p>

<p style="margin-top: 1em">LM_AC_CPU_THROTTLING</p>

<p style="margin-top: 1em">NOLM_AC_CPU_THROTTLING <br>
These options specify the throttling level for the CPU in
the various power states. You can change it to any level
listed in /proc/acpi/processor/CPU0/throttling (use <br>
only the number!). In addition, you can use
&quot;maximum&quot; (which is the slowest option),
&quot;minimum&quot; (full speed) and &quot;medium&quot;
(about halfway).</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/sched-smt-power-savings.conf
<br>
The sched-smt-power-savings module controls the behavior of
the process scheduler on SMT boxes, when running in battery
mode.</p>

<p style="margin-top: 1em">CONTROL_SCHED_SMT_POWER_SAVINGS
<br>
Set this to 1 to enable power savings in the process
scheduler for SMT processors.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/dpms-standby.conf
<br>
The dpms-standby module allows you to control the DPMS
standby timeouts for X displays.</p>

<p style="margin-top: 1em">CONTROL_DPMS_STANDBY <br>
When this option is enabled, laptop mode will control the
DPMS standby timeout for all X displays on the machine that
users have logged on to. In short, this allows <br>
laptop mode to control the time after which your screen is
blanked.</p>

<p style="margin-top: 1em">There is one limitation to this
feature: the settings are not automatically applied to new X
logons. This can be fixed by configuring the display
manager. For the gdm <br>
display manager, configure a PostLogin directory (usually
/etc/gdm/PostLogin or /etc/X11/gdm/PostLogin), and in that
directory create a shell script called Default. In <br>
that file, include the command:</p>

<p style="margin-top: 1em">( sleep 60 ;
/usr/sbin/laptop_mode force ) &amp;</p>

<p style="margin-top: 1em">Similar configurations are
possible for other window managers. Please consult your
window manager documentation for more information.</p>

<p style="margin-top: 1em">BATT_DPMS_STANDBY</p>

<p style="margin-top: 1em">LM_AC_DPMS_STANDBY</p>

<p style="margin-top: 1em">NOLM_AC_DPMS_STANDBY <br>
These options specify the display standby timeouts for the X
displays, in seconds.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/terminal-blanking.conf
<br>
The terminal-blanking module allows you to control the
terminal blanking timeouts for the Linux text console.</p>

<p style="margin-top: 1em">CONTROL_TERMINAL <br>
When this option is enabled, laptop mode will control the
terminal blanking settings for Linux&rsquo;s virtual
consoles.</p>

<p style="margin-top: 1em">TERMINALS This option should
contain a space-separated list of console device files that
should be affected by the terminal blanking settings. Only
one console device file needs <br>
to be included, because the settings are shared between all
virtual consoles. By default this setting is set to
/dev/tty1.</p>

<p style="margin-top: 1em">BATT_TERMINAL_BLANK_MINUTES</p>


<p style="margin-top: 1em">LM_AC_TERMINAL_BLANK_MINUTES</p>


<p style="margin-top: 1em">NOLM_AC_TERMINAL_BLANK_MINUTES</p>


<p style="margin-top: 1em">BATT_TERMINAL_POWERDOWN_MINUTES</p>


<p style="margin-top: 1em">LM_AC_TERMINAL_POWERDOWN_MINUTES</p>


<p style="margin-top: 1em">NOLM_AC_TERMINAL_POWERDOWN_MINUTES
<br>
These options specify the terminal blanking and powerdown
timeouts, in minutes. The allowed ranges are 1-60 minutes,
or 0 to disable blanking or powerdown. The values <br>
are cumulative: the powerdown value is counted from the
moment of screen blanking, not from the start of
inactivity.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/lcd-brightness.conf
<br>
The lcd-brightness module allows you to control the
brightness of your LCD screen.</p>

<p style="margin-top: 1em">CONTROL_BRIGHTNESS <br>
When this option is enabled, laptop mode will adjust your
LCD screen&rsquo;s brightness settings, if possible. You
must configure the following settings for this to work.</p>

<p style="margin-top: 1em">BATT_BRIGHTNESS_COMMAND</p>

<p style="margin-top: 1em">LM_AC_BRIGHTNESS_COMMAND</p>

<p style="margin-top: 1em">NOLM_AC_BRIGHTNESS_COMMAND</p>

<p style="margin-top: 1em">BRIGHTNESS_OUTPUT <br>
The BRIGHTNESS_COMMAND settings specify commands that should
be executed in order to set the brightness of your LCD. The
BRIGHTNESS_OUTPUT setting specifies where the <br>
output of the command will be written. For instance, if your
LCD&rsquo;s brightness is adjusted by writing a numeric
value 3 to a file called /proc/brightness, you should set
<br>
the command to &quot;echo 3&quot; and the output file to
&quot;/proc/brightness&quot;. If your LCD&rsquo;s brightness
is adjusted using a utility like &quot;toshset&quot;, you
should include the entire <br>
toshset command line as the command, and set the output file
to &quot;/dev/null&quot;.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/auto-hibernate.conf
<br>
The auto-hibernate module allows you to automatically
hibernate your computer when the battery goes critical or
when the battery level goes below a certain threshold.</p>

<p style="margin-top: 1em">ENABLE_AUTO_HIBERNATION <br>
When this option is enabled, laptop mode will automatically
hibernate your computer when the battery level reaches a
certain configurable threshold. This feature is <br>
only available when ACPI is enabled.</p>

<p style="margin-top: 1em">HIBERNATE_COMMAND <br>
This option specifies the command that laptop mode should
execute when auto-hibernation is triggered. Normally, this
is set to something like
&quot;/usr/sbin/hibernate&quot;.</p>


<p style="margin-top: 1em">AUTO_HIBERNATION_BATTERY_CHARGE_PERCENT
<br>
The battery level threshold for auto-hibernation, as a
percentage of total battery capacity.</p>


<p style="margin-top: 1em">AUTO_HIBERNATION_ON_CRITICAL_BATTERY_LEVEL
<br>
When this option is enabled, auto-hibernation will kick in
when the battery reports its state as
&quot;critical&quot;.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/battery-level-polling.conf
<br>
Some battery hardware does not send out proper level change
events, or too infrequent ones. For such hardware, laptop
mode tools will not detect that the battery has reached a
<br>
critical level. The battery-level-polling module allows you
to use the auto-hibernate module and the other battery level
dependent features of laptop mode tools even when your <br>
battery does not send out frequent ACPI to indicate a change
in level.</p>

<p style="margin-top: 1em">CONTROL_BATTERY_LEVEL_POLLING
<br>
When this option is enabled, laptop mode tools will
automatically poll the battery level every once in a while
to see if the levels have changed, and to see if actions
<br>
should be taken as a consequence.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/start-stop-programs.conf
<br>
The start-stop-programs module allows you to start or stop
programs when the computer switches to a different power
state.</p>

<p style="margin-top: 1em">CONTROL_START_STOP <br>
If this option is enabled, laptop mode tools will
automatically start and stop daemons or other programs for
you. The actual configuration of which daemons are to be
<br>
stopped/started is done by placing links to the
daemons&rsquo; init scripts in the following
directories:</p>

<p style="margin-top: 1em">/etc/laptop-mode/batt-start</p>

<p style="margin-top: 1em">/etc/laptop-mode/batt-stop</p>


<p style="margin-top: 1em">/etc/laptop-mode/lm-ac-start</p>

<p style="margin-top: 1em">/etc/laptop-mode/lm-ac-stop</p>


<p style="margin-top: 1em">/etc/laptop-mode/nolm-ac-start</p>

<p style="margin-top: 1em">/etc/laptop-mode/nolm-ac-stop
<br>
As you have probably guessed, the directories of the form
&quot;X-stop-daemons&quot; should contain init scripts of
daemons that you want stopped in mode X, while the
directories <br>
of the form &quot;X-start-daemons&quot; should contain init
scripts of daemons that you want started in mode X. Of
course, it is possible to put in your own handling of modes
as <br>
well: the only requirement on the scripts in the directories
is that they handle the &quot;start&quot; and
&quot;stop&quot; commands, like init scripts usually do.</p>

<p style="margin-top: 1em">The ordering of the script
handling is as follows. When a mode is entered, the actions
of the previous mode are undone, in reverse order. This
means that if the previ&acirc; <br>
ous mode had done &quot;daemon1 stop&quot;, &quot;daemon2
stop&quot; and &quot;daemon3 start&quot;, then the undoing
actions will be &quot;daemon3 stop&quot;, &quot;daemon2
start&quot;, &quot;daemon1 start&quot;. After that, the <br>
stop-scripts for the new mode are called, and then the
start-scripts are called. Please note that there is no
detection of commonalities between modes at this point, <br>
i.e., if the mode you&rsquo;re coming from and the mode
you&rsquo;re going to both specify that a daemon
&quot;X&quot; should be stopped, then the daemon will be
un-stopped (that is, <br>
started) while leaving the previous mode, and then stopped
again.</p>

<p style="margin-top: 1em">BATT_STOP</p>

<p style="margin-top: 1em">BATT_START</p>

<p style="margin-top: 1em">LM_AC_STOP</p>

<p style="margin-top: 1em">LM_AC_START</p>

<p style="margin-top: 1em">NOLM_AC_STOP</p>

<p style="margin-top: 1em">NOLM_AC_START <br>
These options allow you to stop services (through their init
scripts) in certain power states. Specify a space-separated
list of service names in these options. These <br>
services are started/stopped together with the files from
the directories mentioned above.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/ac97-powersave.conf
<br>
The ac97-powersave module allows you to enable the Intel
AC97 integrated audio power saving mode.</p>

<p style="margin-top: 1em">CONTROL_AC97_POWER <br>
If this option is enabled, laptop mode tools will
automatically enable the AC97 power saving settings. The
power saving settings are always enabled, not only on
battery <br>
power. Note: On some machines it has been reported that the
AC97 power savings triggers the annoying click sound during
power state transitions</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/nmi-watchdog.conf
<br>
The nmi-watchdog module allows you to enable the NMI
Watchdog timer power savings. Enabling this module lowers
down one hw-pmu counter.</p>

<p style="margin-top: 1em">CONTROL_NMI_WATCHDOG <br>
If this option is enabled, laptop mode tools will
automatically disable the NMI Watchdog timer when on
battery. This module is part of auto modules. Thus enabling
auto <br>
modules setting will activate this module automatically.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/pci-aspm.conf
<br>
The pcie-aspm module allows you to enable the PCI Express
(PCIe) Active State Power Management (ASPM).</p>

<p style="margin-top: 1em">CONTROL_PCI_ASPM <br>
If this option is enabled, laptop mode tools will enable PCI
ASPM powersave mode when on battery. This module is part of
auto modules. Thus enabling auto modules set&acirc; <br>
ting will activate this module automatically. PCIe ASPM may
require that the pcie_aspm=force kernel option is
enabled.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/usb-autosuspend.conf
<br>
This option has been superseded by the new runtime-pm.conf
settings</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/runtime-pm.conf
<br>
The runtime-pm module allows you to enable the Runtime Power
Management framework for the Linux kernel.</p>

<p style="margin-top: 1em">CONTROL_RUNTIME_AUTOSUSPEND <br>
If this option is enabled, laptop mode tools will
automatically enable the USB autosuspend feature for all
devices. The USB autosuspend feature will always be enabled,
<br>
not only on battery power.</p>


<p style="margin-top: 1em">AUTOSUSPEND_RUNTIME_DEVID_BLACKLIST
<br>
Here, you can specify the list of USB IDs that should not
use autosuspend. Use lsusb to find out the IDs of your USB
devices. Example: AUTOSUSPEND_RUN&acirc; <br>
TIME_DEVID_BLACKLIST=&quot;046d:c025 0123:abcd&quot;</p>


<p style="margin-top: 1em">AUTOSUSPEND_RUNTIME_DEVTYPE_BLACKLIST
<br>
Here, you can specify the list of device driver that should
not use autosuspend. The driver type is given by
&quot;DRIVER=...&quot; in a device&rsquo;s uevent file
Example: AUTOSUS&acirc; <br>
PEND_RUNTIME_DEVTYPE_BLACKLIST=&quot;usbhid usb-storage
usbmouse&quot;</p>

<p style="margin-top: 1em">AUTOSUSPEND_USE_WHITELIST <br>
Set this to use opt-in/whitelist instead of
opt-out/blacklist for deciding which devices should be
autosuspended. AUTOSUSPEND_USE_WHITELIST=0 means
AUTOSUS&acirc; <br>
PEND_*_BLACKLIST will be used. AUTOSUSPEND_USE_WHITELIST=1
means AUTOSUSPEND_*_WHITELIST will be used.</p>


<p style="margin-top: 1em">AUTOSUSPEND_RUNTIME_DEVID_WHITELIST
<br>
The list of Device IDs that should use autosuspend. Use
system commands or look into sysfs to find out the IDs of
your devices. Example: AUTOSUS&acirc; <br>
PEND_DEVID_WHITELIST=&quot;046d:c025 0123:abcd&quot;</p>


<p style="margin-top: 1em">AUTOSUSPEND_RUNTIME_DEVTYPE_WHITELIST
<br>
The list of device driver types that should use autosuspend.
The driver type is given by &quot;DRIVER=...&quot; in a
device&rsquo;s uevent file. Example: AUTOSUSPEND_DEV&acirc;
<br>
TYPE_WHITELIST=&quot;usbhid usb-storage usbmouse&quot;</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/intel-hda-powersave.conf
<br>
The intel-hda-powersave module allows you to enable the
Intel HDA integrated audio power saving mode.</p>

<p style="margin-top: 1em">CONTROL_INTEL_HDA_POWER <br>
If this option is enabled, laptop mode tools will
automatically enable the Intel HDA power saving settings.
The power saving settings are always enabled, not only on
<br>
battery power.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/configuration-file-control.conf
<br>
The configuration-file-control module allows you to switch
between different configuration files when the computer is
in different power states.</p>

<p style="margin-top: 1em">The primary use for this feature
is for controlling the configuration files of syslog
daemons. Syslog daemons have a tendency to sync their log
files when entries are written to <br>
them. This causes disks to spin up, which is not very nice
when you&rsquo;re trying to save power. The syslog.conf
configuration file can be tweaked so that syslogd will not
sync a <br>
given file, by prepending the log file name with a dash,
like this:</p>

<p style="margin-top: 1em">mail.*
-/var/log/mail/mail.log</p>

<p style="margin-top: 1em">Note: This feature will NOT work
if CONTROL_SYSLOG_CONF is set in laptop-mode.conf. To start
using this feature, remove the CONTROL_SYSLOG_CONF section
in laptop-mode.conf, and <br>
then restart the laptop-mode-tools service. The new config
files have different names than the old ones, and settings
are NOT migrated. You will have to do this manually.</p>

<p style="margin-top: 1em">CONTROL_CONFIG_FILES <br>
If this option is enabled, laptop mode tools will use the
following options to switch configuration files depending on
the power state.</p>

<p style="margin-top: 1em">CONFIG_FILES <br>
This option should contain a space-separated list of
configuration files that should be switched around depending
on the power state.</p>

<p style="margin-top: 1em">For each configuration file, the
specific configuration files will be named as follows:</p>

<p style="margin-top: 1em">&lt;conffile&gt;-nolm-ac</p>

<p style="margin-top: 1em">&lt;conffile&gt;-lm-ac</p>

<p style="margin-top: 1em">&lt;conffile&gt;-batt</p>

<p style="margin-top: 1em">The first file will be used when
the system is on AC power and laptop mode is not active. The
second file will be used when the system is on AC power and
laptop mode is <br>
active. The third file will be used when the system is on
battery power.</p>

<p style="margin-top: 1em">When the laptop mode tools
service is enabled, it will replace the configuration files
with a symlink to one of the three state-based configuration
files. The original <br>
configuration file will be saved as &lt;config
file&gt;.lmbackup, and it will be restored when the laptop
mode tools service is disabled.</p>

<p style="margin-top: 1em">When you add files to this list,
make sure to also add the appropriate programs and services
to the configuration settings below.</p>

<p style="margin-top: 1em">You can create the alternate
configuration files yourself. If you don&rsquo;t, they will
be created by laptop mode tools the next time it is
restarted. To force the files to <br>
be created, run the laptop-mode service init script with the
&quot;restart&quot; parameter.</p>

<p style="margin-top: 1em">CONFIG_FILE_SIGNAL_PROGRAMS <br>
This option should contain a space-separated list of
programs that should be signalled after the config files
have been switched around. This only works for programs <br>
that respond to the SIGHUP signal by reloading their
configuration files.</p>

<p style="margin-top: 1em">CONFIG_FILE_RELOAD_SERVICES <br>
This option should contain a space-separated list of
services which should be reloaded after the config files
have been switched around.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/wireless-power.conf
<br>
The wireless-power module allows you to alter the power
management settings for wireless network adapters that
support the iwconfig &quot;power&quot; option. This module
is not usable for <br>
Intel network adapters that use the iwlwifi or ipw drivers,
they are supported by separate modules described below.</p>

<p style="margin-top: 1em">CONTROL_WIRELESS_POWER_SAVING
<br>
If this option is enabled, laptop mode tools will set the
wireless power saving mode settings based on the power
state.</p>

<p style="margin-top: 1em">WIRELESS_AC_POWER_SAVING</p>

<p style="margin-top: 1em">WIRELESS_BATT_POWER_SAVING <br>
These settings define the power saving modes on AC and on
battery. The allowed values are 0 (to disable power saving
mode) and 1 (to enable power saving mode).</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/wireless-ipw-power.conf
<br>
The wireless-ipw-power module allows you to alter the power
management settings for Intel PRO/Wireless 3945, 2100 and
2200 wireless network adapters. This module is intended for
<br>
use with the ipw3945, ipw2100, ipw2200 drivers, not with the
iwlwifi drivers.</p>

<p style="margin-top: 1em">CONTROL_IPW_POWER <br>
If this option is enabled, laptop mode tools will set the
wireless power management settings based on the power
state.</p>

<p style="margin-top: 1em">IPW3945_AC_POWER</p>

<p style="margin-top: 1em">IPW3945_BATT_POWER <br>
These settings define the power management levels for the
ipw3945 driver. The defaults are 6 for AC, and 7 for battery
mode. The allowed values are 1 (highest power) to <br>
5 (lowest power), 6 (AC mode, full power) and 7 (battery
mode, lowest power).</p>

<p style="margin-top: 1em">IPW2100_AC_POWER</p>

<p style="margin-top: 1em">IPW2100_BATT_POWER <br>
These settings define the power management levels for the
ipw2100 driver. The defaults are 0 for AC mode and 5 for
battery mode.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/wireless-iwl-power.conf
<br>
The wireless-iwl-power module allows you to alter the power
management settings for Intel PRO/Wireless 3945 and Intel
WiFi Link 4965 wireless network adapters. This module is
<br>
intended for use with the iwlwifi drivers, not with the old
ipw drivers.</p>

<p style="margin-top: 1em">CONTROL_IWL_POWER <br>
If this option is enabled, laptop mode tools will set the
wireless power management settings based on the power
state.</p>

<p style="margin-top: 1em">IWL_AC_POWER</p>

<p style="margin-top: 1em">IWL_BATT_POWER <br>
These settings define the power management levels on AC and
on battery. The defaults are 0 for AC, and 3 for battery
mode. The allowed values are 0 (highest power) to 5 <br>
(lowest power), 6 (AC mode, full power) and 7 (battery mode,
lowest power).</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/exec-commands.conf
<br>
There can be many odd machines and many power savings
settings, that laptop-mode-tools currently does not cover.
If you run into a similar power saving problem, where you do
not <br>
have a laptop-mode-tools module for it, you can use the
exec-commands module to trigger the command during power
state changes. Please do contribute back the power saving
item as <br>
a module to the upstream developers.</p>

<p style="margin-top: 1em">CONTROL_EXEC_COMMANDS <br>
Set this to 0 to disable execution of custom commands during
power state changes. Default is auto.</p>

<p style="margin-top: 1em">BATT_EXEC_COMMAND_0=</p>

<p style="margin-top: 1em">BATT_EXEC_COMMAND_1=</p>

<p style="margin-top: 1em">LM_AC_EXEC_COMMAND_0=</p>

<p style="margin-top: 1em">LM_AC_EXEC_COMMAND_1=</p>

<p style="margin-top: 1em">NOLM_AC_EXEC_COMMAND_0=</p>

<p style="margin-top: 1em">NOLM_AC_EXEC_COMMAND_1= <br>
Here you can specify your custom command that will need to
be executed. The numbers can grow upto 9. The command needs
to be specified in double quotes</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/eee-superhe.conf
<br>
The eee-superhe module allows you to control the CPU
frequency scalling on the EEE PC. It requires the
eeepc_laptop kernel module to be loaded.</p>

<p style="margin-top: 1em">CONTROL_SUPERHE <br>
It this option is enabled, laptop mode tools will
automatically control the FSB speed on the EEE PC.</p>

<p style="margin-top: 1em">BATT_SUPERHE</p>

<p style="margin-top: 1em">LM_AC_SUPERHE</p>

<p style="margin-top: 1em">NOLM_AC_SUPERHE <br>
These settings define the power management levels on AC and
on battery. The defaults are 0 for LM_AC and NOLM_AC, and 2
for battery mode.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/hal-polling.conf
<br>
The hal-polling module allows you to control the polling of
CD/DVD drives by HAL. The polling is needed for some drives
to detect inserted CDs, but it uses a considerable amount
<br>
of power. Enable this module to disable the polling, but
only if our drive doesn&rsquo;t need it, or if you are
willing to mount CDs manually in exchange for the power
saving.</p>

<p style="margin-top: 1em">CONTROL_HAL_POLLING <br>
If this option is enabled, laptop mode tools will control
the HAL polling behaviour.</p>

<p style="margin-top: 1em">BATT_DISABLE_HAL_POLLING</p>

<p style="margin-top: 1em">AC_DISABLE_HAL_POLLING <br>
These settings define the polling behaviour on AC and on
battery. To disable polling, set the options to 1, to
enable, set them to 0.</p>

<p style="margin-top: 1em">HAL_POLLING_DEVICES <br>
This setting defines for which devices the polling behaviour
will be altered. It should contain a space separated list of
devices.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/bluetooth.conf
<br>
The bluetooth module allows you to enable/disable bluetooth
depending on the power state.</p>

<p style="margin-top: 1em">CONTROL_BLUETOOTH <br>
If this option is enabled, laptop mode tools will
enable/disable bluetooth when the power state changes.</p>

<p style="margin-top: 1em">BATT_ENABLE_BLUETOOTH</p>

<p style="margin-top: 1em">AC_ENABLE_BLUETOOTH <br>
These settings define whether bluetooth is enabled on AC and
on battery. To disable bluetooth, set the options to 0, to
enable, set them to 1.</p>

<p style="margin-top: 1em">BLUETOOTH_INTERFACES <br>
This setting defines the interfaces the bluetooth module
will control. It should contain a space separated list of
interfaces. (Note that you probably have only one <br>
bluetooth interface, and it will probably be named
&quot;hci0&quot;.)</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/intel-sata-powermgmt.conf
<br>
The intel-sata-powermgmt module allows you to enable the
power saving mode for Intel AHCI compliant SATA controllers.
This power saving mode is also known as Aggressive Link <br>
Power Management (ALPM).</p>

<p style="margin-top: 1em">CONTROL_INTEL_SATA_POWER <br>
If this option is enabled, laptop mode tools will
automatically enable the Intel SATA controller power saving
settings. The power saving settings are always enabled, <br>
not only on battery power.</p>

<p style="margin-top: 1em">BATT_ACTIVATE_SATA_POWER=1</p>

<p style="margin-top: 1em">LM_AC_ACTIVATE_SATA_POWER=0</p>

<p style="margin-top: 1em">NOLM_AC_ACTIVATE_SATA_POWER=0
<br>
These settings control the behavior of the SATA devices
under AC and battery power states</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/sched-mc-power-savings.conf
<br>
The sched-mc-power-savings module allows you to tune the
Linux kernel process scheduler to optimize for power usage
on multi-core and multi-processor computers.</p>

<p style="margin-top: 1em">CONTROL_SCHED_MC_POWER_SAVINGS
<br>
If this option is enabled, laptop mode tools will
automatically configure the kernel process scheduler to
optimize for power usage on multi-core and multi-processor
<br>
computers. The optimizations will only be enabled in battery
mode.</p>


<p style="margin-top: 1em">/etc/laptop-mode/conf.d/video-out.conf
<br>
The video-out module allows you to selectively disable video
outputs depending on the power status. This works only for
video hardware that supports xrandr.</p>

<p style="margin-top: 1em">CONTROL_VIDEO_OUTPUTS <br>
If this option is enabled, laptop mode tools will
automatically disable the configured video outputs.</p>

<p style="margin-top: 1em">BATT_DISABLE_VIDEO_OUTPUTS</p>

<p style="margin-top: 1em">LM_AC_DISABLE_VIDEO_OUTPUTS</p>

<p style="margin-top: 1em">NOLM_AC_DISABLE_VIDEO_OUTPUTS
<br>
These settings define which video outputs are to be disabled
in which power state. The format is a space-separated list
of outputs. The allowed names of the outputs <br>
depend on what the video hardware supports, they can be
found by running the &quot;xrandr&quot; command.</p>

<p style="margin-top: 1em">SEE ALSO <br>
laptop_mode(8).</p>

<p style="margin-top: 1em">lm-profiler(8).</p>

<p style="margin-top: 1em">hdparm(8).</p>

<p style="margin-top: 1em">AUTHOR <br>
This manual page was written by Bart Samwel
(bart@samwel.tk). Permission is granted to copy, distribute
and/or modify this document under the terms of the GNU
General Public <br>
License, Version 2 any later version published by the Free
Software Foundation.</p>
 
<p style="margin-top: 1em">LAPTOP-MODE.CONF(8)</p>
<hr>
</body>
</html>
