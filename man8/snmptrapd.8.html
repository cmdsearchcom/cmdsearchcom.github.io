<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:10 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SNMPTRAPD(8) Net-SNMP SNMPTRAPD(8)</p>

<p style="margin-top: 1em">NAME <br>
snmptrapd - Receive and log SNMP trap messages.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
snmptrapd [OPTIONS] [LISTENING ADDRESSES]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
snmptrapd is an SNMP application that receives and logs SNMP
TRAP and INFORM messages.</p>

<p style="margin-top: 1em">Note: the default is to listen
on UDP port 162 on all IPv4 interfaces. Since 162 is a
privileged port, snmptrapd must typically be run as
root.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Ignore authenticationFailure traps.</p>

<p style="margin-top: 1em">-A Append to the log file rather
than truncating it.</p>

<p style="margin-top: 1em">Note that this needs to come
before any -Lf options that it should apply to.</p>

<p style="margin-top: 1em">-c FILE Read FILE as a
configuration file (or a comma-separated list of
configuration files).</p>

<p style="margin-top: 1em">-C Do not read any configuration
files except the one optionally specified by the -c
option.</p>

<p style="margin-top: 1em">-d Dump (in hexadecimal) the
sent and received SNMP packets.</p>

<p style="margin-top: 1em">-D[TOKEN[,...]] <br>
Turn on debugging output for the given TOKEN(s). Try ALL for
extremely verbose output.</p>

<p style="margin-top: 1em">-f Do not fork() from the
calling shell.</p>

<p style="margin-top: 1em">-F FORMAT <br>
When logging to standard output, use the format in the
string FORMAT. See the section FORMAT SPECIFICATIONS below
for more details.</p>

<p style="margin-top: 1em">-h, --help <br>
Display a brief usage message and then exit.</p>

<p style="margin-top: 1em">-H Display a list of
configuration file directives understood by the trap daemon
and then exit.</p>

<p style="margin-top: 1em">-I [-]INITLIST <br>
Specifies which modules should (or should not) be
initialized when snmptrapd starts up. If the comma-separated
INITLIST is preceded with a &rsquo;-&rsquo;, it is the list
of modules <br>
that should not be started. Otherwise this is the list of
the only modules that should be started.</p>

<p style="margin-top: 1em">To get a list of compiled
modules, run snmptrapd with the arguments -Dmib_init -H
(assuming debugging support has been compiled in).</p>

<p style="margin-top: 1em">-L[efos] <br>
Specify where logging output should be directed (standard
error or output, to a file or via syslog). See LOGGING
OPTIONS in snmpcmd(1) for details.</p>

<p style="margin-top: 1em">-m MIBLIST <br>
Specifies a colon separated list of MIB modules to load for
this application. This overrides the environment variable
MIBS. See snmpcmd(1) for details.</p>

<p style="margin-top: 1em">-M DIRLIST <br>
Specifies a colon separated list of directories to search
for MIBs. This overrides the environment variable MIBDIRS.
See snmpcmd(1) for details.</p>

<p style="margin-top: 1em">-n Do not attempt to translate
source addresses of incoming packets into hostnames.</p>

<p style="margin-top: 1em">-p FILE Save the process ID of
the trap daemon in FILE.</p>

<p style="margin-top: 1em">-O [abeEfnqQsStTuUvxX] <br>
Specifies how MIB objects and other output should be
displayed. See the section OUTPUT OPTIONS in the snmpcmd(1)
manual page for details.</p>

<p style="margin-top: 1em">-t Do not log traps to syslog.
This disables logging to syslog. This is useful if you want
the snmptrapd application to only run traphandle hooks and
not to log any traps <br>
to any location.</p>

<p style="margin-top: 1em">-v, --version <br>
Print version information for the trap daemon and then
exit.</p>

<p style="margin-top: 1em">-x ADDRESS <br>
Connect to the AgentX master agent on the specified address,
rather than the default &quot;/var/agentx/master&quot;. See
snmpd(8) for details of the format of such addresses.</p>

<p style="margin-top: 1em">--name=&quot;value&quot; <br>
Allows one to specify any token (&quot;name&quot;) supported
in the snmptrapd.conf file and sets its value to
&quot;value&quot;. Overrides the corresponding token in the
snmptrapd.conf file. <br>
See snmptrapd.conf(5) for the full list of tokens.</p>

<p style="margin-top: 1em">FORMAT SPECIFICATIONS <br>
snmptrapd interprets format strings similarly to printf(3).
It understands the following formatting sequences:</p>

<p style="margin-top: 1em">%% a literal %</p>

<p style="margin-top: 1em">%a the contents of the
agent-addr field of the PDU (v1 TRAPs only)</p>

<p style="margin-top: 1em">%A the hostname corresponding to
the contents of the agent-addr field of the PDU, if
available, otherwise the contents of the agent-addr field of
the PDU (v1 TRAPs only).</p>

<p style="margin-top: 1em">%b PDU source address (Note:
this is not necessarily an IPv4 address)</p>

<p style="margin-top: 1em">%B PDU source hostname if
available, otherwise PDU source address (see note above)</p>

<p style="margin-top: 1em">%h current hour on the local
system</p>

<p style="margin-top: 1em">%H the hour field from the
sysUpTime.0 varbind</p>

<p style="margin-top: 1em">%j current minute on the local
system</p>

<p style="margin-top: 1em">%J the minute field from the
sysUpTime.0 varbind</p>

<p style="margin-top: 1em">%k current second on the local
system</p>

<p style="margin-top: 1em">%K the seconds field from the
sysUpTime.0 varbind</p>

<p style="margin-top: 1em">%l current day of month on the
local system</p>

<p style="margin-top: 1em">%L the day of month field from
the sysUpTime.0 varbind</p>

<p style="margin-top: 1em">%m current (numeric) month on
the local system</p>

<p style="margin-top: 1em">%M the numeric month field from
the sysUpTime.0 varbind</p>

<p style="margin-top: 1em">%N enterprise string</p>

<p style="margin-top: 1em">%q trap sub-type (numeric, in
decimal)</p>

<p style="margin-top: 1em">%P security information from the
PDU (community name for v1/v2c, user and context for v3)</p>

<p style="margin-top: 1em">%t decimal number of seconds
since the operating system epoch (as returned by
time(2))</p>

<p style="margin-top: 1em">%T the value of the sysUpTime.0
varbind in seconds</p>

<p style="margin-top: 1em">%v list of variable-bindings
from the notification payload. These will be separated by a
tab, or by a comma and a blank if the alternate form is
requested See also %V</p>

<p style="margin-top: 1em">%V specifies the
variable-bindings separator. This takes a sequence of
characters, up to the next % (to embed a % in the string,
use )</p>

<p style="margin-top: 1em">%w trap type (numeric, in
decimal)</p>

<p style="margin-top: 1em">%W trap description</p>

<p style="margin-top: 1em">%y current year on the local
system</p>

<p style="margin-top: 1em">%Y the year field from the
sysUpTime.0 varbind</p>

<p style="margin-top: 1em">In addition to these values, an
optional field width and precision may also be specified ,
just as in printf(3), and a flag value. The following flags
are supported:</p>

<p style="margin-top: 1em">- left justify</p>

<p style="margin-top: 1em">0 use leading zeros</p>

<p style="margin-top: 1em"># use alternate form</p>

<p style="margin-top: 1em">The &quot;use alternate
form&quot; flag changes the behavior of various format
string sequences:</p>

<p style="margin-top: 1em">Time information will be
displayed based on GMT (rather than the local timezone)</p>

<p style="margin-top: 1em">The variable-bindings will be a
comma-separated list (rather than a tab-separated one)</p>

<p style="margin-top: 1em">The system uptime will be broken
down into a human-meaningful format (rather than being a
simple integer)</p>

<p style="margin-top: 1em">Examples: <br>
To get a message like &quot;14:03 TRAP3.1 from
humpty.ucd.edu&quot; you could use something like this:</p>

<p style="margin-top: 1em">snmptrapd -P -F
&quot;%02.2h:%02.2j TRAP%w.%q from %A0</p>

<p style="margin-top: 1em">If you want the same thing but
in GMT rather than local time, use</p>

<p style="margin-top: 1em">snmptrapd -P -F
&quot;%#02.2h:%#02.2j TRAP%w.%q from %A0</p>

<p style="margin-top: 1em">LISTENING ADDRESSES <br>
By default, snmptrapd listens for incoming SNMP TRAP and
INFORM packets on UDP port 162 on all IPv4 interfaces.
However, it is possible to modify this behaviour by
specifying <br>
one or more listening addresses as arguments to snmptrapd.
See the snmpd(8) manual page for more information about the
format of listening addresses.</p>

<p style="margin-top: 1em">NOTIFICATION-LOG-MIB SUPPORT
<br>
As of net-snmp 5.0, the snmptrapd application supports the
NOTIFICATION-LOG-MIB. It does this by opening an AgentX
subagent connection to the master snmpd agent and
registering <br>
the notification log tables. As long as the snmpd
application is started first, it will attach itself to it
and thus you should be able to view the last recorded
notifications <br>
via the nlmLogTable and nlmLogVariableTable. See the
snmptrapd.conf file and the
&quot;doNotRetainNotificationLogs&quot; token for turning
off this support. See the NOTIFICATION-LOG-MIB <br>
for more details about the MIB itself.</p>

<p style="margin-top: 1em">EXTENSIBILITY AND CONFIGURATION
<br>
See the snmptrapd.conf(5) manual page.</p>

<p style="margin-top: 1em">SEE ALSO <br>
snmpcmd(1), snmpd(8), printf(3), snmptrapd.conf(5),
syslog(8), variables(5)</p>

<p style="margin-top: 1em">V5.7.2 30 Mar 2011
SNMPTRAPD(8)</p>
<hr>
</body>
</html>
