<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CALENDARSERVER_MANAGE_PRINCIPALS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CALENDARSERVER_MANAGE_PRINCIPALS(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">CALENDARSERVER_MANAGE_PRINCIPALS(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">calendarserver_manage_principals</b> &#x2014;
  <span class="Nd" title="Nd">Calendar Server principal management
  utility</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">calendarserver_manage_principals</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">--config</b>
      <var class="Ar" title="Ar">file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--verbose</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--read-property</b>
      <var class="Ar" title="Ar">property</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--list-principal-types</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--list-principals</b>
      <var class="Ar" title="Ar">type</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--search</b>
      <var class="Ar" title="Ar">search-string</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--list-read-proxies</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--list-write-proxies</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--list-proxies</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--add-read-proxy</b>
      <var class="Ar" title="Ar">principal</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--add-write-proxy</b>
      <var class="Ar" title="Ar">principal</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--remove-proxy</b>
      <var class="Ar" title="Ar">principal</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--set-auto-schedule-mode</b>
      <var class="Ar" title="Ar">none|accept-always|decline-always|accept-if-free|decline-if-busy|automatic</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--get-auto-schedule-mode</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--set-auto-accept-group</b>
      <var class="Ar" title="Ar">group</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--get-auto-accept-group</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">--add</b>
      <var class="Ar" title="Ar">locations|resources full-name [record-name]
      [GUID]</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">--remove</b></span>]
      <var class="Ar" title="Ar">principal</var> [<span class="Op">principal
      ...</span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b class="Nm" title="Nm">calendarserver_manage_principals</b> is a tool for
  accessing and manipulating information regarding principals on a Calendar
  Server. Principals represent any form of actor that can access the server,
  such as users, groups, locations and resources.
<div class="Pp"></div>
<b class="Nm" title="Nm">calendarserver_manage_principals</b> should be run as a
  user with the same privileges as the Calendar Server itself, as it needs to
  read and write data that belongs to the server.
  <b class="Nm" title="Nm">calendarserver_manage_principals</b> takes a list of
  principals as arguments and then performs the requested actions on each of the
  given principals.
<div class="Pp"></div>
A principal may be specified as the principal's GUID. Alternatively, it may be
  specified in the form <var class="Ar" title="Ar">recordType:shortName</var>,
  where <var class="Ar" title="Ar">recordType</var> is a directory record type
  (eg. <var class="Ar" title="Ar">users</var>,
  <var class="Ar" title="Ar">groups</var>,
  <var class="Ar" title="Ar">locations</var>,
  <var class="Ar" title="Ar">resources</var>) and
  <var class="Ar" title="Ar">shortName</var> is the principal's short name.
<div class="Pp"></div>
Actions to perform are specified via the options below. Multiple actions may be
  given, and will be performed in the order given on each principal specified.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag" style="margin-left: 7.80ex;">
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#h,"><b class="Fl" title="Fl" id="h,">-h,</b></a>
    <b class="Fl" title="Fl">--help</b></dt>
  <dd class="It-tag">Displays usage information</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#v,"><b class="Fl" title="Fl" id="v,">-v,</b></a>
    <b class="Fl" title="Fl">--verbose</b></dt>
  <dd class="It-tag">Displays debugging information</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#f,"><b class="Fl" title="Fl" id="f,">-f,</b></a>
    <b class="Fl" title="Fl">--config</b>
    <var class="Ar" title="Ar">FILE</var></dt>
  <dd class="It-tag">Use the Calendar Server configuration specified in the
      given file. Defaults to /etc/caldavd/caldavd.plist.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag" style="margin-left: 7.80ex;">
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-read-property"><b class="Fl" title="Fl" id="-read-property">--read-property</b></a>
    <var class="Ar" title="Ar">property</var></dt>
  <dd class="It-tag">Read the given WebDAV property on the principal resource.
      <var class="Ar" title="Ar">property</var> must be a fully qualified XML
      element name in the form <var class="Ar" title="Ar">{namespace}name</var>,
      for example: <var class="Ar" title="Ar">{DAV:}displayname</var>.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-list-principal-types"><b class="Fl" title="Fl" id="-list-principal-types">--list-principal-types</b></a></dt>
  <dd class="It-tag">List all of the known principals types.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-list-principals"><b class="Fl" title="Fl" id="-list-principals">--list-principals</b></a>
    <var class="Ar" title="Ar">type</var></dt>
  <dd class="It-tag">List all of the principals of the given type.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-search"><b class="Fl" title="Fl" id="-search">--search</b></a>
    <var class="Ar" title="Ar">search-string</var></dt>
  <dd class="It-tag">Search for principals whose name or email address contains
      the search string.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-list-read-proxies"><b class="Fl" title="Fl" id="-list-read-proxies">--list-read-proxies</b></a></dt>
  <dd class="It-tag">List the read proxies.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-list-write-proxies"><b class="Fl" title="Fl" id="-list-write-proxies">--list-write-proxies</b></a></dt>
  <dd class="It-tag">List the write proxies.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-list-proxies"><b class="Fl" title="Fl" id="-list-proxies">--list-proxies</b></a></dt>
  <dd class="It-tag">List all proxies.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-add-read-proxy"><b class="Fl" title="Fl" id="-add-read-proxy">--add-read-proxy</b></a>
    <var class="Ar" title="Ar">principal</var></dt>
  <dd class="It-tag">Add the given <var class="Ar" title="Ar">principal</var> as
      a read proxy.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-add-write-proxy"><b class="Fl" title="Fl" id="-add-write-proxy">--add-write-proxy</b></a>
    <var class="Ar" title="Ar">principal</var></dt>
  <dd class="It-tag">Add the given <var class="Ar" title="Ar">principal</var> as
      a write proxy.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-remove-proxy"><b class="Fl" title="Fl" id="-remove-proxy">--remove-proxy</b></a>
    <var class="Ar" title="Ar">principal</var></dt>
  <dd class="It-tag">Remove the given <var class="Ar" title="Ar">principal</var>
      as a proxy.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-set-auto-schedule"><b class="Fl" title="Fl" id="-set-auto-schedule">--set-auto-schedule</b></a>
    <var class="Ar" title="Ar">true|false</var></dt>
  <dd class="It-tag">Enable or disable automatic scheduling.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-get-auto-schedule"><b class="Fl" title="Fl" id="-get-auto-schedule">--get-auto-schedule</b></a></dt>
  <dd class="It-tag">Get the automatic scheduling state.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-set-auto-accept-group"><b class="Fl" title="Fl" id="-set-auto-accept-group">--set-auto-accept-group</b></a>
    <var class="Ar" title="Ar">group</var></dt>
  <dd class="It-tag">The principal will auto-accept any invites from any member
      of the group (as long as there are no conflicts).</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-get-auto-accept-group"><b class="Fl" title="Fl" id="-get-auto-accept-group">--get-auto-accept-group</b></a></dt>
  <dd class="It-tag">Get the currently assigned auto-accept group for the
      principal.</dd>
  <dt class="It-tag" style="margin-left: -7.80ex;"><a class="selflink" href="#-add"><b class="Fl" title="Fl" id="-add">--add</b></a>
    <var class="Ar" title="Ar">locations|resources full-name [record-name]
    [GUID]</var></dt>
  <dd class="It-tag">Add a new location or resource. Record name and GUID are
      optional. If GUID is not specified, one will be generated. If record name
      is not specified, the record name will be set to the GUID.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Add Alice and Bob as read proxies for Joe and display the list of Joe's proxies:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals
  --add-read-proxy users:alice --add-read-proxy users:bob --list-proxies
  users:joe</code></div>
<div class="Pp"></div>
Add a group of room admins as write proxy for a couple of rooms:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals
  --add-write-proxy groups:room-admins locations:bigroom
  locations:littleroom</code></div>
<div class="Pp"></div>
Turn on auto-scheduling for a resource, and confirm the setting:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals
  --set-auto-schedule true --get-auto-schedule resources:projector</code></div>
<div class="Pp"></div>
Search for all principals named Joe:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals --search
  joe</code></div>
<div class="Pp"></div>
Add a location:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals --add
  locations 'Example Office' office1</code></div>
<div class="Pp"></div>
Add a resource:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals --add
  resources 'Example Projector' proj1</code></div>
<div class="Pp"></div>
List all resource:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals
  --list-principals resources</code></div>
<div class="Pp"></div>
Remove a resource:
<div class="Pp"></div>
<div class="D1"><code class="Li">calendarserver_manage_principals --remove
  resources:proj1</code></div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag" style="margin-left: 7.80ex;">
  <dt class="It-tag" style="margin-left: -7.80ex;">/etc/caldavd/caldavd.plist</dt>
  <dd class="It-tag">The Calendar Server configuration file.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">caldavd(8)</a></div>
<table class="foot">
  <tr>
    <td class="foot-date">June 17, 2009</td>
    <td class="foot-os">Linux 4.12.14-300.fc26.x86_64</td>
  </tr>
</table>
</body>
</html>
