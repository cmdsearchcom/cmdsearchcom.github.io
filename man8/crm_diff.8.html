<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PACEMAKER(8) System Administration Utilities
PACEMAKER(8)</p>

<p style="margin-top: 1em">NAME <br>
Pacemaker - Part of the Pacemaker cluster resource
manager</p>

<p style="margin-top: 1em">SYNOPSIS <br>
crm_diff original_xml operation [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
crm_diff - A utility for comparing Pacemaker configurations
(XML format)</p>

<p style="margin-top: 1em">The tool produces a custom
(diff-like) output which it can also apply like a patch</p>

<p style="margin-top: 1em">OPTIONS <br>
-?, --help <br>
This text</p>

<p style="margin-top: 1em">-$, --version <br>
Version information</p>

<p style="margin-top: 1em">-V, --verbose <br>
Increase debug output</p>

<p style="margin-top: 1em">Original XML: <br>
-o, --original=value <br>
XML is contained in the named file</p>

<p style="margin-top: 1em">-O, --original-string=value <br>
XML is contained in the supplied string</p>

<p style="margin-top: 1em">Operation: <br>
-n, --new=value <br>
Compare the original XML to the contents of the named
file</p>

<p style="margin-top: 1em">-N, --new-string=value <br>
Compare the original XML to the contents of the supplied
string</p>

<p style="margin-top: 1em">-p, --patch=value <br>
Patch the original XML with the contents of the named
file</p>

<p style="margin-top: 1em">Additional Options: <br>
-c, --cib <br>
Compare/patch the inputs as a CIB (includes versions
details)</p>

<p style="margin-top: 1em">-u, --no-version <br>
Generate the difference without versions details</p>

<p style="margin-top: 1em">EXAMPLES <br>
Obtain the two different configuration files by running
cibadmin on the two cluster setups to compare:</p>

<p style="margin-top: 1em"># cibadmin --query &gt;
cib-old.xml</p>

<p style="margin-top: 1em"># cibadmin --query &gt;
cib-new.xml</p>

<p style="margin-top: 1em">Calculate and save the
difference between the two files:</p>

<p style="margin-top: 1em"># crm_diff --original
cib-old.xml --new cib-new.xml &gt; patch.xml</p>

<p style="margin-top: 1em">Apply the patch to the original
file:</p>

<p style="margin-top: 1em"># crm_diff --original
cib-old.xml --patch patch.xml &gt; updated.xml</p>

<p style="margin-top: 1em">Apply the patch to the running
cluster:</p>

<p style="margin-top: 1em"># cibadmin --patch patch.xml</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Andrew Beekhof</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to pacemaker@oss.clusterlabs.org</p>

<p style="margin-top: 1em">Pacemaker 1.1.15-11.el7_3.5 June
2017 PACEMAKER(8)</p>
<hr>
</body>
</html>
