<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FNOTIFYSTAT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FNOTIFYSTAT(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">FNOTIFYSTAT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fnotifystat - a tool to show file system activity
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>fnotifystat</b> [options]<i> [delay </i>[count]]
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
fnotifystat is a program that dumps the file system activity in a given period
  of time.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Statistics are output every 'delay' seconds. One can use the 'm' (minutes), 'h'
  (hours), 'd' (days), 'w' (weeks) or 'y' (years) suffix to specify large delay
  intervals. By default the delay is 1 second.
<div style="height: 1.00em;">&#x00A0;</div>
Statistics are ouput 'count' many times before exiting. If count is not
  specified then fnotifystat will run until it is stopped.
<div style="height: 1.00em;">&#x00A0;</div>
Note that if no file activity has occured during a sample delay period then no
  new statistics are output. The -f option will force output if desired.
<div style="height: 1.00em;">&#x00A0;</div>
By default, fnotifystat will display the following statistics every sample
  'delay' seconds:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Average number of opens, closes, reads and writes over the
      sample period</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Average number of opens over the sample period</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Average number of closes over the sample period</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Average number of reads over the sample period</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Average number of writes over the sample period</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Process ID</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Pathname
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The -I option will display the device (major, minor) number
    and inode instead of the filename while the -I option will just show the
    device (major, minor) number.</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The -c option will display the cumulative count of the
    open, close, read and writes rather than the averages.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
fnotifystat options are as follow:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">dump cumulative totals over all time rather than totals
      over each sample period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">strip full directory path off the filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">force statistics output even if no file activity has
      occurred during the last sampling period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">order statistics by unique device. Rather than ordering
      periodic statistics by unique filename, instead order them by unique
      device (major, minor) number. This allows one to see file activity on a
      per device basis.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">show help</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">pathnames to include in filename activity. By default, all
      mounted filesystems are monitored, however, this may produce to much
      information. The -i option allows one to provide a comma separated list of
      just the specific paths to monitor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">order statistics by unique device and inode. Rather than
      ordering periodic statistics by unique filename, instead order them by
      unique device (major, minor) and inode number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b></dt>
  <dd class="It-tag">merge events. The default -v verbose output will show all
      new events that fnotifystat detects on a file by a specific process. The
      -m option will merge all consecutive events that occur on the same file
      from the same process to reduce the amount of event output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">no periodic statistics, just verbose mode only. Do not
      display periodic file activity statistics, but just show the verbose mode
      -v file activity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p proclist</b></dt>
  <dd class="It-tag">monitor specific processes. proclist is a comma separated
      list of process IDs or process names to monitor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b></dt>
  <dd class="It-tag">sort stats by pid first, then by totals and filename</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">turn off data scaling. By default the read, write, open and
      close counts are displayed by scaling by multiple of thousands with
      suffixes of K (thousands), M (millions), B (billions). The -s option
      disables this, resulting in less aesthetically pleasing unaligned columns
      of data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t N</b></dt>
  <dd class="It-tag">only display the top busiest N files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b></dt>
  <dd class="It-tag">show timestamp</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">verbose mode, dump all file activity. This will display the
      following file access information:
    <table class="tbl">
      <colgroup>
        <col style="width: 45.00ex;"/>
      </colgroup>
      <tr>
        <td>Date (in DD/MM/YY format)</td>
      </tr>
      <tr>
        <td>Time (in HH:MM:SS format)</td>
      </tr>
      <tr>
        <td>Event count</td>
      </tr>
      <tr>
        <td>Access type, O=Open, C=Close, R=Read, W=Write</td>
      </tr>
      <tr>
        <td>Process ID</td>
      </tr>
      <tr>
        <td>Process Name</td>
      </tr>
      <tr>
        <td>Name of accessed file</td>
      </tr>
    </table>
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that the names of deleted filenames cannot be determined and are
      flagged by the &quot;(deleted)&quot; tag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">pathnames to exclude from filename activity. By default,
      all mounted filesystems are monitored, however, this may produce to much
      information. The -x option allows one to provide a comma separated list of
      pathnames to exclude. Matching is performed on partial pathnames, for
      example -x /pro will exclude all paths starting with /pro, such as /proc.
      Note that excluding a file with -x takes higher precedence over including
      a file with -i.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGUSR1</b></dt>
  <dd class="It-tag">Sending SIGUSR1 to fnotifystat will toggle the verbose
      option (-v) on/off.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Show file activity every second until stopped.
<div style="margin-left: 8.00ex;">sudo fnotifystat</div>
<div class="Pp"></div>
Show the top 10 active files every 60 seconds until stopped.
<div style="margin-left: 8.00ex;">sudo fnotifystat -t 10 60</div>
<div class="Pp"></div>
Show file acivity every 10 seconds just 6 times.
<div style="margin-left: 8.00ex;">sudo fnotifystat 10 6</div>
<div class="Pp"></div>
Show file activity of thunderbird and process ID 1827.
<div style="margin-left: 8.00ex;">sudo fnotifystat -p thunderbird,1827</div>
<div class="Pp"></div>
Show every file notify event and the top 20 active activity files over a single
  period of 5 minutes.
<div style="margin-left: 8.00ex;">sudo notifystat -v -d -c 5m 1</div>
<div class="Pp"></div>
Just show every file notify event on /sys and /proc and no periodic statisics.
<div style="margin-left: 8.00ex;">sudo fnotifystat -n -i /sys,/proc</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
fnotifystat was written by Colin King &lt;colin.king@canonical.com&gt;
<div class="Pp"></div>
This manual page was written by Colin King &lt;colin.king@canonical.com&gt;, for
  the Ubuntu project (but may be used by others).
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2014-2016 Canonical Ltd.
<div>&#x00A0;</div>
This is free software; see the source for copying conditions. There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
  PURPOSE.</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 18, 2015</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
