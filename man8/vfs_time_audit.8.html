<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>VFS_TIME_AUDIT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VFS_TIME_AUDIT(8)</td>
    <td class="head-vol">System Administration tools</td>
    <td class="head-rtitle">VFS_TIME_AUDIT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
vfs_time_audit - samba vfs module to log slow VFS operations
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">vfs objects =
  time_audit</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This VFS module is part of the <b>samba</b>(7) suite.
<div class="Pp"></div>
The time_audit VFS module logs system calls that take longer than the number of
  milliseconds defined by the variable time_audit:timeout. It will log the calls
  and the time spent in it.
<div class="Pp"></div>
It's kind of comparable with strace -T and is helpful to reveal performance
  problems with the underlying file and storage subsystems.
<div class="Pp"></div>
This module is stackable.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
time_audit:timeout = number of milliseconds
<div style="margin-left: 4.00ex;">VFS calls that take longer than the defined
  number of milliseconds that should be logged. The default is 10000
  (10s).</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
This would log VFS calls that take longer than 3 seconds:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
         <i>[sample_share]</i>
	 <b>path = /test/sample_share</b>
	 <b>vfs objects = time_audit</b>
	 <b>time_audit:timeout = 3000</b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page is correct for version 4.0.0 of the Samba suite.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The original Samba software and related utilities were created by Andrew
  Tridgell. Samba is now developed by the Samba Team as an Open Source project
  similar to the way the Linux kernel is developed.
<div class="Pp"></div>
The time_audit VFS module was created with contributions from Abhidnya
  Chirmule.</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/25/2017</td>
    <td class="foot-os">Samba 4.4</td>
  </tr>
</table>
</body>
</html>
