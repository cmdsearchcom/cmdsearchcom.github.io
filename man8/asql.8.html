<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ASQL(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ASQL(8)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">ASQL(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
asql - Provide an SQL interface to Apache logfiles.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  asql [options]
  General Options:
   --help       Show brief help intstructions.
   --manual     Show more complete help.
   --version    Show the version of the software.
  Scripting Options:
   --load       Load the named file, or glob.
   --execute    Execute a single query then exit.
  Options:
   --file       Rather than running as a shell read commands from a named file.
   --quiet      Don't show the banner at startup.
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<pre>
  asql provides a simple console interface to allow a user to
 query the contents of an Apache logfile via an SQL interface.
  The shell features include:
</pre>
<dl class="Bl-tag">
  <dt class="It-tag">Persistent alias definitions.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Command line completion</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Command history</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Simple scriptability</dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="INTRODUCTION"><a class="selflink" href="#INTRODUCTION">INTRODUCTION</a></h1>
<pre>
  The asql shell will create a temporary SQLite database based upon
 any number of Apache logfiles.  This temporary database may then
 be interactively queried using common SQL syntax.
  To get started you should load your logfiles into the database:
</pre>
<div class="Pp"></div>
<pre>
   load /var/log/apache2/acces*
</pre>
<div class="Pp"></div>
<pre>
  (The tool will automatically decompress files which have been
 compressed with gzip or bzip2.)
  Once you've loaded at least one file you may run queries, for
 example:
</pre>
<div class="Pp"></div>
<pre>
  SELECT source,SUM(size) AS Number FROM logs GROUP BY source ORDER BY Number DESC, ip
</pre>
<div class="Pp"></div>
<pre>
  This example shows all the clients connecting to your webserver
 and the size of files/requests that they have downloaded in total.
  As you can see we've selected two columns &quot;source&quot; and &quot;SUM(size)&quot;.
 To see which other columns are available you may execute the &quot;show&quot;
 command.
  Because parsing the Apache logfile(s) specified might be quite
 slow there is the option of dumping the temporary SQLite database
 to a known filename with the 'save' command.  The analog to the
 save command is the 'restore' command, which will read in an
 existing SQLite database and allow future queries to be executed
 against it.
</pre>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<pre>
 When the shell starts up it will read and intepret the initialisation
 file of ~/.asqlrc if it exists.  Any commands present in that file
 will be executed prior to the launch of the interactive session.
 All aliases will be read and written to the file ~/.asql.aliases.
 All interactive history will be written to the file ~/.asql.
</pre>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<pre>
 Steve
 --
 http://www.steve.org.uk/
</pre>
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
Copyright (c) 2007,2008,2009,2010 by Steve Kemp. All rights reserved.
<div class="Pp"></div>
This module is free software; you can redistribute it and/or modify it under the
  same terms as Perl itself. The LICENSE file contains the full text of the
  license.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<pre>
 Steve
 --
 http://www.steve.org.uk/
</pre>
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
Copyright (c) 2007-2020 by Steve Kemp. All rights reserved.
<div class="Pp"></div>
This module is free software; you can redistribute it and/or modify it under the
  same terms as Perl itself. The LICENSE file contains the full text of the
  license.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2010-10-04</td>
    <td class="foot-os">perl v5.10.1</td>
  </tr>
</table>
</body>
</html>
