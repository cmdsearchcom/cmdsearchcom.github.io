<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:11:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FLASHCACHE_SETIOCTL(8) FLASHCACHE_SETIOCTL(8)</p>

<p style="margin-top: 1em">NAME <br>
flashcache_setioctl - Set I/O behavior for special process
in flashcache</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The flashcache_setioctl command can be used to set/remove a
process from flashcache blacklist/whitelist, or clear
flashcache blacklist/whitelist.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
flashcache_setioctl (-c | -a | -r) (-b pid |-w pid)
ssd_devname</p>

<p style="margin-top: 1em">OPTIONS <br>
-c Clear blacklist/whitelist</p>

<p style="margin-top: 1em">-a Add to
blacklist/whitelist</p>

<p style="margin-top: 1em">-r Remove from
blacklist/whitelist</p>

<p style="margin-top: 1em">-b Operate on blacklist</p>

<p style="margin-top: 1em">-w Operate on whitelist</p>

<p style="margin-top: 1em">FLASHCACHE CACHE POLICY <br>
Flashcache can be put in one of 2 modes - Cache Everything
or Cache Nothing (dev.flashcache.cache_all). The defaults is
to &quot;cache everything&quot;.</p>

<p style="margin-top: 1em">These 2 modes have a blacklist
and a whitelist.</p>

<p style="margin-top: 1em">The tgid (thread group id) for a
group of pthreads can be used as a shorthand to tag all
threads in an application. The tgid for a pthread is
returned by getpid() and the pid of <br>
the individual thread is returned by gettid().</p>

<p style="margin-top: 1em">The algorithm works as follows
:</p>

<p style="margin-top: 1em">In &quot;cache everything&quot;
mode, 1) If the pid of the process issuing the IO is in the
blacklist, do not cache the IO. ELSE, 2) If the tgid is in
the blacklist, don&rsquo;t cache this IO. <br>
UNLESS 3) The particular pid is marked as an exception (and
entered in the whitelist, which makes the IO cacheable). 4)
Finally, even if IO is cacheable up to this point, skip <br>
sequential IO if configured by the sysctl.</p>

<p style="margin-top: 1em">Conversely, in &quot;cache
nothing&quot; mode, 1) If the pid of the process issuing the
IO is in the whitelist, cache the IO. ELSE, 2) If the tgid
is in the whitelist, cache this IO. UN&acirc; <br>
LESS 3) The particular pid is marked as an exception (and
entered in the blacklist, which makes the IO non-cacheable).
4) Anything whitelisted is cached, regardless of
sequen&acirc; <br>
tial or random IO.</p>

<p style="margin-top: 1em">SEE ALSO <br>
flashcache_create(8)</p>

<p style="margin-top: 1em">README and other documents in
/usr/share/doc/flashcache-utils</p>

<p style="margin-top: 1em">The flashcache source code and
all documentation may be downloaded from
&lt;https://github.com/facebook/flashcache/&gt;.</p>

<p style="margin-top: 1em">AUTHORS <br>
Flashcache is developed by Mohan Srinivasan
&lt;mohan@fb.com&gt;</p>

<p style="margin-top: 1em">This man page was written by
Liang Guo &lt;guoliang@debian.org&gt; for Debian GNU/Linux
(but may be used by others).</p>

<p style="margin-top: 1em">flashcache_setioctl October 2012
FLASHCACHE_SETIOCTL(8)</p>
<hr>
</body>
</html>
