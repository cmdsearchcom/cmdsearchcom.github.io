<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:09 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LVMLOCKCTL(8) LVMLOCKCTL(8)</p>

<p style="margin-top: 1em">NAME <br>
lvmlockctl &acirc; Control for lvmlockd</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This command interacts with lvmlockd(8).</p>

<p style="margin-top: 1em">OPTIONS <br>
lvmlockctl [options]</p>

<p style="margin-top: 1em">--help | -h <br>
Show this help information.</p>

<p style="margin-top: 1em">--quit | -q <br>
Tell lvmlockd to quit.</p>

<p style="margin-top: 1em">--info | -i <br>
Print lock state information from lvmlockd.</p>

<p style="margin-top: 1em">--dump | -d <br>
Print log buffer from lvmlockd.</p>

<p style="margin-top: 1em">--wait | -w 0|1 <br>
Wait option for other commands.</p>

<p style="margin-top: 1em">--force | -f 0|1 <br>
Force option for other commands.</p>

<p style="margin-top: 1em">--kill | -k vgname <br>
Kill access to the VG when sanlock cannot renew lease.</p>

<p style="margin-top: 1em">--drop | -r vgname <br>
Clear locks for the VG when it is unused after kill
(-k).</p>

<p style="margin-top: 1em">--gl-enable | -E vgname <br>
Tell lvmlockd to enable the global lock in a sanlock VG.</p>

<p style="margin-top: 1em">--gl-disable | -D vgname <br>
Tell lvmlockd to disable the global lock in a sanlock
VG.</p>

<p style="margin-top: 1em">--stop-lockspaces | -S <br>
Stop all lockspaces.</p>

<p style="margin-top: 1em">USAGE <br>
info <br>
This collects and displays lock state from lvmlockd. The
display is primitive, incomplete and will change in future
version. To print the raw lock state from lvmlockd, combine
<br>
this option with --dump|-d.</p>

<p style="margin-top: 1em">dump <br>
This collects the circular log buffer of debug statements
from lvmlockd and prints it.</p>

<p style="margin-top: 1em">kill <br>
This is run by sanlock when it loses access to the storage
holding leases for a VG. It currently emits a syslog message
stating that the VG must be immediately deactivated. In <br>
the future it may automatically attempt to forcibly
deactivate the VG. For more, see lvmlockd(8).</p>

<p style="margin-top: 1em">drop <br>
This should only be run after a VG has been successfully
deactivated following an lvmlockctl --kill command. It
clears the stale lockspace from lvmlockd. In the future,
this <br>
may become automatic along with an automatic handling of
--kill. For more, see lvmlockd(8).</p>

<p style="margin-top: 1em">gl-enable <br>
This enables the global lock in a sanlock VG. This is
necessary if the VG that previously held the global lock is
removed. For more, see lvmlockd(8).</p>

<p style="margin-top: 1em">gl-disable <br>
This disables the global lock in a sanlock VG. This is
necessary if the global lock has mistakenly been enabled in
more than one VG. The global lock should be disabled in all
<br>
but one sanlock VG. For more, see lvmlockd(8).</p>

<p style="margin-top: 1em">stop-lockspaces <br>
This tells lvmlockd to stop all lockspaces. It can be useful
to stop lockspaces for VGs that the vgchange --lock-stop
comand can no longer see, or to stop the dlm global <br>
lockspace which is not directly stopped by the vgchange
command. The wait and force options can be used with this
command.</p>

<p style="margin-top: 1em">Red Hat, Inc LVM TOOLS
2.02.166(2)-RHEL7 (2016-11-16) LVMLOCKCTL(8)</p>
<hr>
</body>
</html>
