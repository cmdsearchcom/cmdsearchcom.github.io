<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:56 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>THIN_CHECK(8) System Manager&rsquo;s Manual
THIN_CHECK(8)</p>

<p style="margin-top: 1em">NAME <br>
thin_check - validate thin provisioning metadata on device
or file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
thin_check [options] {device|file}</p>

<p style="margin-top: 1em">DESCRIPTION <br>
thin_check checks thin provisioning metadata created by the
device-mapper thin provisioning target on a device or
file.</p>

<p style="margin-top: 1em">This tool cannot be run on live
metadata.</p>

<p style="margin-top: 1em">OPTIONS <br>
-q, --quiet <br>
Suppress output messages, return only exit code.</p>

<p style="margin-top: 1em">-h, --help <br>
Print help and exit.</p>

<p style="margin-top: 1em">-V, --version <br>
Output version information and exit.</p>

<p style="margin-top: 1em">--clear-needs-check-flag <br>
Clear the needs-check-flag in case the check of the thin
pool metadata succeeded. If the metadata check failed, the
flag is not cleared and a thin_repair run is needed to <br>
fix any issues. After thin_repair succeeded, you may run
thin_check again.</p>

<p style="margin-top: 1em">--super-block-only <br>
Only check the superblock is present.</p>

<p style="margin-top: 1em">--skip-mappings <br>
Skip checking of the block mappings which make up the bulk
of the metadata.</p>

<p style="margin-top: 1em">--ignore-non-fatal-errors <br>
thin_check will only return a non-zero exit code if it finds
a fatal error. An example of a non fatal error is an
incorrect data block reference count causing a block to <br>
be considered allocated when it in fact isn&rsquo;t.
Ignoring errors for a long time is not advised, you really
should be using thin_repair to fix them.</p>

<p style="margin-top: 1em">EXAMPLE <br>
Analyses thin provisioning metadata on logical volume
/dev/vg/metadata:</p>

<p style="margin-top: 1em">thin_check /dev/vg/metadata</p>

<p style="margin-top: 1em">The device must not be actively
used by the target when running.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
thin_check returns an exit code of 0 for success or 1 for
error.</p>

<p style="margin-top: 1em">SEE ALSO <br>
thin_dump(8) thin_repair(8) thin_restore(8) thin_rmap(8)
thin_metadata_size(8)</p>

<p style="margin-top: 1em">AUTHOR <br>
Joe Thornber &lt;ejt@redhat.com&gt; <br>
Heinz Mauelshagen &lt;HeinzM@RedHat.com&gt;</p>

<p style="margin-top: 1em">Red Hat, Inc. Thin Provisioning
Tools THIN_CHECK(8)</p>
<hr>
</body>
</html>
