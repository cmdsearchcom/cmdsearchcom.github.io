<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:26 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VFS_FILEID(8) System Administration tools
VFS_FILEID(8)</p>

<p style="margin-top: 1em">NAME <br>
vfs_fileid - Generates file_id structs with unique device id
values for cluster setups</p>

<p style="margin-top: 1em">SYNOPSIS <br>
vfs objects = fileid</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This VFS module is part of the samba(7) suite.</p>

<p style="margin-top: 1em">Samba uses file_id structs to
uniquely identify files for locking purpose. By default the
file_id contains the device and inode number returned by the
stat() system call. As the <br>
file_id is a unique identifier of a file, it must be the
same on all nodes in a cluster setup. This module overloads
the SMB_VFS_FILE_ID_CREATE() operation and generates the
<br>
device number based on the configured algorithm (see the
&quot;fileid:algorithm&quot; option).</p>

<p style="margin-top: 1em">OPTIONS <br>
fileid:algorithm = ALGORITHM <br>
Available algorithms are fsname and fsid. The default value
is fsname.</p>

<p style="margin-top: 1em">The fsname algorithm generates
device id by hashing the kernel device name.</p>

<p style="margin-top: 1em">The fsid algorithm generates the
device id from the f_fsid returned from the statfs()
syscall.</p>

<p style="margin-top: 1em">fileid:mapping = ALGORITHM <br>
This option is the legacy version of the fileid:algorithm
option, which was used in earlier versions of fileid mapping
feature in custom Samba 3.0 versions.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Usage of the fileid module with the fsid algorithm:</p>

<p style="margin-top: 1em">[global] <br>
vfs objects = fileid <br>
fileid:algorithm = fsid</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 3.2 of the Samba
suite.</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">Samba 4.4 05/25/2017
VFS_FILEID(8)</p>
<hr>
</body>
</html>
