<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DB2BAK.PL(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DB2BAK.PL(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">DB2BAK.PL(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
db2bak.pl - Directory Server perl script for creating a backup
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
db2bak.pl [-Z serverID] [-D rootdn] { -w password | -w - | -j filename } [-t
  dbtype] [-a backupdir] [-A backupdir] [-P protocol] [-v] [-h]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Creates a backup of the Directory Server database. The Directory Server must be
  started prior to running this script.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
A summary of options is included below:
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-Z</b> <i>Server Identifier</i></b></dt>
  <dd class="It-tag">The server ID of the Directory Server instance. If there is
      only one instance on the system, this option can be skipped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-D</b> <i>Root DN</i></b></dt>
  <dd class="It-tag">The Directory Manager DN, or root DN. If not specified, the
      script will search the server instance configuration for the value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-w</b> <i>password</i></b></dt>
  <dd class="It-tag">The rootdn password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-w -</b></b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Prompt for the rootdn password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-j</b> <i>password filename</i></b></dt>
  <dd class="It-tag">The name of the file that contains the root DN
    password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-t</b> <i>database type</i></b></dt>
  <dd class="It-tag">The backend database type (default: ldbm database).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-a</b> <i>backupdir</i></b></dt>
  <dd class="It-tag">The directory where the backup should be stored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-A</b> <i>backupdir</i></b></dt>
  <dd class="It-tag">This is similar to <b>-a</b>, except that a sub-directory
      of <i>backupdir</i> will be created for the backup, and the name of the
      sub-directory will be a timestamp of the form
      <i>server-instance-date_time</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-P</b> <i>Protocol</i></b></dt>
  <dd class="It-tag">The connection protocol to connect to the Directory Server.
      Protocols are STARTTLS, LDAPS, LDAPI, and LDAP. If this option is skipped,
      the most secure protocol that is available is used. For LDAPI, AUTOBIND is
      also available for the root user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-v</b></b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Display verbose output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b></b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Display usage</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">db2bak.pl -Z instance1 -D 'cn=directory manager' -w
    password -a /LDAP/backups/20130305 -P LDAPI</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Note: LDAPI must be enabled to use this protocol. If LDAPI is not available
      it will default to next strongest/available protocol automatically.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Exit status is zero if no errors occur. Errors result in a non-zero exit status
  and a diagnostic message being written to standard error.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
db2bak.pl was written by the 389 Project.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to https://fedorahosted.org/389/newticket.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2013 Red Hat, Inc.</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 5, 2013</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
