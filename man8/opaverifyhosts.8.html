<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">opaverifyhosts(8) Master map:
IFSFFCLIRG (Man Page) opaverifyhosts(8)</p>

<p style="margin-top: 1em">NAME <br>
opaverifyhosts</p>

<p style="margin-top: 1em">Verifies basic node
configuration and performance by running
FF_HOSTVERIFY_DIR/hostverify.sh on all specified hosts.</p>

<p style="margin-top: 1em">NOTE: Prior to using
opaverifyhosts, copy the sample file
/usr/lib/opa-ff/samples/hostverify.sh to FF_HOSTVERIFY_DIR
and edit it to appropriate configuration and performance
<br>
expectations and select which tests to run by default. On
the first run for a given node, use the -c option so that
hostverify.sh gets copied to each node.</p>

<p style="margin-top: 1em">FF_HOSTVERIFY_DIR defines both
the location of hostverify.sh and the destination of the
hostverify.res output file. FF_HOSTVERIFY_DIR is configured
in the /etc/syscon&acirc; <br>
fig/opa/opafastfabric.conf file.</p>

<p style="margin-top: 1em">A summary of results is appended
to the FF_RESULT_DIR/verifyhosts.res file. A punchlist of
failures is also appended to the FF_RESULT_DIR/punchlist.csv
file. Only failures are <br>
shown on stdout.</p>

<p style="margin-top: 1em">Syntax <br>
opaverifyhosts [-kc] [-f hostfile] [-u upload_file] [-d
upload_dir] <br>
[-h hosts] [-T timelimit] [ test...]</p>

<p style="margin-top: 1em">Options <br>
--help Produces full help text.</p>

<p style="margin-top: 1em">-k At start and end of
verification, kills any existing hostverify or xhpl jobs on
the hosts.</p>

<p style="margin-top: 1em">-c Copies hostverify.sh to hosts
first, useful if you have edited it.</p>

<p style="margin-top: 1em">-f hostfile <br>
File with hosts in cluster. Default is
/etc/sysconfig/opa/hosts.</p>

<p style="margin-top: 1em">-h hosts List of hosts to
ping.</p>

<p style="margin-top: 1em">-u upload_file <br>
Filename to upload hostverify.res to after verification to
allow backup and review of the detailed results for each
node. The default upload destination file is <br>
hostverify.res. If -u &rsquo;&rsquo; is specified, no upload
occurs.</p>

<p style="margin-top: 1em">-d upload_dir <br>
Directory to upload result from each host to. Default is
uploads.</p>

<p style="margin-top: 1em">-T timelimit <br>
Time limit in seconds for host to complete tests. Default is
300 seconds (5 minutes).</p>

<p style="margin-top: 1em">test One or more specific tests
to run. See /usr/lib/opa-ff/samples/hostverify.sh for a list
of available tests.</p>

<p style="margin-top: 1em">Examples <br>
opaverifyhosts -c <br>
opaverifyhosts -h &rsquo;arwen elrond&rsquo; <br>
HOSTS=&rsquo;arwen elrond&rsquo; opaverifyhosts</p>

<p style="margin-top: 1em">Environment Variables <br>
HOSTS List of hosts, used if -h option not supplied.</p>

<p style="margin-top: 1em">HOSTS_FILE <br>
File containing list of hosts, used in absence of -f and
-h.</p>

<p style="margin-top: 1em">UPLOADS_DIR <br>
Directory to upload to, used in absence of -d.</p>

<p style="margin-top: 1em">FF_MAX_PARALLEL <br>
Maximum concurrent operations.</p>

<p style="margin-top: 1em">Copyright(C) 2015-2016 Intel
Corporation opaverifyhosts(8)</p>
<hr>
</body>
</html>
