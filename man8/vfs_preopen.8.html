<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>VFS_PREOPEN(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VFS_PREOPEN(8)</td>
    <td class="head-vol">System Administration tools</td>
    <td class="head-rtitle">VFS_PREOPEN(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
vfs_preopen - Hide read latencies for applications reading numbered files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">vfs objects =
  preopen</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This VFS module is part of the <b>samba</b>(7) suite.
<div class="Pp"></div>
This module assists applications that want to read numbered files in sequence
  with very strict latency requirements. One area where this happens in video
  streaming applications that want to read one file per frame.
<div class="Pp"></div>
When you use this module, a number of helper processes is started that
  speculatively open files and read a number of bytes to prime the file system
  cache, so that later on when the real application's request comes along, no
  disk access is necessary.
<div class="Pp"></div>
This module is stackable.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
preopen:names = /pattern/
<div style="margin-left: 4.00ex;">preopen:names specifies the file name pattern
  which should trigger the preopen helpers to do their work. We assume that the
  files are numbered incrementally. So if your file names are numbered
  FRAME00000.frm FRAME00001.frm and so on you would list them as
  preopen:names=/FRAME*.frm/</div>
<div class="Pp"></div>
preopen:num_bytes = BYTES
<div style="margin-left: 4.00ex;">Specifies the number of bytes the helpers
  should speculatively read, defaults to 1.</div>
<div class="Pp"></div>
preopen:helpers = NUM-PROCS
<div style="margin-left: 4.00ex;">Number of forked helper processes, defaults to
  1.</div>
<div class="Pp"></div>
preopen:queuelen = NUM-FILES
<div style="margin-left: 4.00ex;">Number of files that should be speculatively
  opened. Defaults to the 10 subsequent files.</div>
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page is correct for version 3.3 of the Samba suite.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The original Samba software and related utilities were created by Andrew
  Tridgell. Samba is now developed by the Samba Team as an Open Source project
  similar to the way the Linux kernel is developed.
<div class="Pp"></div>
The PREOPEN VFS module was created with contributions from Volker Lendecke and
  the developers at IBM.</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/25/2017</td>
    <td class="foot-os">Samba 4.4</td>
  </tr>
</table>
</body>
</html>
