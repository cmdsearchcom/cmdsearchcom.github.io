<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:46 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NILFS-CLEAN(8) System Manager&rsquo;s Manual
NILFS-CLEAN(8)</p>

<p style="margin-top: 1em">NAME <br>
nilfs-clean - run garbage collector on NILFS file system</p>

<p style="margin-top: 1em">SYNOPSIS <br>
nilfs-clean [options] [device]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The nilfs-clean program communicates with nilfs_cleanerd(8)
program and controls execution of garbage collection (GC) on
NILFS2 file systems. It can be used to manually run <br>
garbage collection of a file system mounted on device to
increase the free space.</p>

<p style="margin-top: 1em">If a GC command is specified by
one of the following options (i.e.
&Acirc;&acute;-c&Acirc;&acute;,&Acirc;&acute;-s&Acirc;&acute;,&Acirc;&acute;-r&Acirc;&acute;,
and &Acirc;&acute;-l&Acirc;&acute; options), the command is
sent to and performed on the nilfs_cleanerd(8) program. If
<br>
no commands are specified, nilfs-clean just triggers a
one-pass cleaning.</p>

<p style="margin-top: 1em">When device is omitted,
nilfs-clean selects an active NILFS2 file system in the
system.</p>

<p style="margin-top: 1em">This command is valid only for
mounted NILFS2 file systems, and will fail if the device has
no active mounts.</p>

<p style="margin-top: 1em">OPTIONS <br>
-b, --break, --stop <br>
Stop garbage collection.</p>

<p style="margin-top: 1em">-c, --reload[=conffile] <br>
Request reloading config file to cleaner process. If an
optional configuration file is given, the file is read by
nilfs_cleanerd(8) program and cleaner configuration is <br>
reset to the information. If no argument is given, a
configuration file selected by nilfs_cleanerd(8) will be
reloaded.</p>

<p style="margin-top: 1em">-l, --status <br>
Display cleaner status.</p>

<p style="margin-top: 1em">-h, --help <br>
Display help message and exit.</p>

<p style="margin-top: 1em">-m,
--min-reclaimable-blocks=COUNT[%] <br>
Specify the minimum number of reclaimable blocks in a
segment before it can be cleaned. If the argument is
followed by a percent sign, it represents the ratio of
blocks in <br>
a segment. This argument will only have an effect if the
use_set_suinfo flag is set in the configuration file.</p>

<p style="margin-top: 1em">-p, --protection-period=interval
<br>
Set protection period for a cleaner run. The interval
parameter is an integer value and specifies the minimum time
that deleted or overrode data will be preserved in the <br>
file system. Smaller values will increase free space made by
garbage collection. Optionally, the interval parameter may
be suffixed by one of the following units desig&acirc; <br>
nators: &Acirc;&acute;s&Acirc;&acute;,
&Acirc;&acute;m&Acirc;&acute;,
&Acirc;&acute;h&Acirc;&acute;,
&Acirc;&acute;d&Acirc;&acute;,&Acirc;&acute;w&Acirc;&acute;,&Acirc;&acute;M&Acirc;&acute;,
or &Acirc;&acute;Y&Acirc;&acute;, for seconds, minutes,
hours, days, weeks, months, or years, respectively.</p>

<p style="margin-top: 1em">-q, --quit <br>
Shutdown cleaner daemon.</p>

<p style="margin-top: 1em">-r, --resume <br>
Resume garbage collection.</p>

<p style="margin-top: 1em">-s, --suspend <br>
Suspend garbage collection. Note that if users manually
suspend garbage collection with this option, it will not
restart automatically until user resumes the garbage
col&acirc; <br>
lection.</p>

<p style="margin-top: 1em">-S, --speed=COUNT[/SECONDS] <br>
Set garbage collection speed for a cleaner run.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Verbose mode.</p>

<p style="margin-top: 1em">-V, --version <br>
Display version and exit.</p>

<p style="margin-top: 1em">AUTHOR <br>
Ryusuke Konishi &lt;konishi.ryusuke@lab.ntt.co.jp&gt;</p>

<p style="margin-top: 1em">AVAILABILITY <br>
nilfs-clean is part of the nilfs-utils package and is
available from http://nilfs.sourceforge.net.</p>

<p style="margin-top: 1em">SEE ALSO <br>
nilfs(8), nilfs_cleanerd(8).</p>

<p style="margin-top: 1em">nilfs-utils version 2.2 Apr 2014
NILFS-CLEAN(8)</p>
<hr>
</body>
</html>
