<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ipmievd(8) ipmievd(8)</p>

<p style="margin-top: 1em">NAME <br>
ipmievd - IPMI event daemon for sending events to syslog</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ipmievd [-c|-h|-d N|-v|-V] -I open &lt;open | sel&gt;
[&lt;option&gt;]</p>

<p style="margin-top: 1em">ipmievd [-c|-h|-v|-V] -I lan -H
&lt;hostname&gt; <br>
[-p &lt;port&gt;] <br>
[-U &lt;username&gt;] <br>
[-A &lt;authtype&gt;] <br>
[-L &lt;privlvl&gt;] <br>
[-a|-E|-P|-f &lt;password&gt;] <br>
[-o &lt;oemtype&gt;] <br>
[-O &lt;sel oem&gt;] <br>
sel [&lt;option&gt;]</p>

<p style="margin-top: 1em">ipmievd [-c|-h|-v|-V] -I lanplus
-H &lt;hostname&gt; <br>
[-p &lt;port&gt;] <br>
[-U &lt;username&gt;] <br>
[-L &lt;privlvl&gt;] <br>
[-a|-E|-P|-f &lt;password&gt;] <br>
[-o &lt;oemtype&gt;] <br>
[-O &lt;sel oem&gt;] <br>
[-C &lt;ciphersuite&gt;] <br>
sel [&lt;option&gt;]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ipmievd is a daemon which will listen for events from the
BMC that are being sent to the SEL and also log those
messages to syslog. It is able to run in one of two modes:
either <br>
using the Event Message Buffer and asynchronous event
notification from the OpenIPMI kernel driver or actively
polling the contents of the SEL for new events. Upon receipt
of an <br>
event via either mechanism it will be logged to syslog with
the LOG_LOCAL4 facility.</p>

<p style="margin-top: 1em">It is based on the ipmitool
utility and shares the same IPMI interface support and
session setup options. Please see the ipmitool manpage for
more information on supported IPMI <br>
interfaces.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Prompt for the remote server password.</p>

<p style="margin-top: 1em">-A &lt;authtype&gt; <br>
Specify an authentication type to use during IPMIv1.5 lan
session activation. Supported types are NONE, PASSWORD, MD2,
MD5, or OEM.</p>

<p style="margin-top: 1em">-c Present output in CSV (comma
separated variable) format. This is not available with all
commands.</p>

<p style="margin-top: 1em">-C &lt;ciphersuite&gt; <br>
The remote server authentication, integrity, and encryption
algorithms to use for IPMIv2 lanplus connections. See table
22-19 in the IPMIv2 specification. The default is <br>
3 which specifies RAKP-HMAC-SHA1 authentication,
HMAC-SHA1-96 integrity, and AES-CBC-128 encryption
algorightms.</p>

<p style="margin-top: 1em">-E The remote server password is
specified by the environment variable IPMI_PASSWORD.</p>

<p style="margin-top: 1em">-f &lt;password_file&gt; <br>
Specifies a file containing the remote server password. If
this option is absent, or if password_file is empty, the
password will default to NULL.</p>

<p style="margin-top: 1em">-h Get basic usage help from the
command line.</p>

<p style="margin-top: 1em">-H &lt;address&gt; <br>
Remote server address, can be IP address or hostname. This
option is required for lan and lanplus interfaces.</p>

<p style="margin-top: 1em">-I &lt;interface&gt; <br>
Selects IPMI interface to use. Supported interfaces that are
compiled in are visible in the usage help output.</p>

<p style="margin-top: 1em">-L &lt;privlvl&gt; <br>
Force session privilege level. Can be CALLBACK, USER,
OPERATOR, ADMIN. Default is ADMIN.</p>

<p style="margin-top: 1em">-m &lt;local_address&gt; <br>
Set the local IPMB address. The default is 0x20 and there
should be no need to change it for normal operation.</p>

<p style="margin-top: 1em">-o &lt;oemtype&gt; <br>
Select OEM type to support. This usually involves minor
hacks in place in the code to work around quirks in various
BMCs from various manufacturers. Use -o list to see a <br>
list of current supported OEM types.</p>

<p style="margin-top: 1em">-O &lt;sel oem&gt; <br>
Open selected file and read OEM SEL event descriptions to be
used during SEL listings. See examples in contrib dir for
file format.</p>

<p style="margin-top: 1em">-p &lt;port&gt; <br>
Remote server UDP port to connect to. Default is 623.</p>

<p style="margin-top: 1em">-P &lt;password&gt; <br>
Remote server password is specified on the command line. If
supported it will be obscured in the process list. Note!
Specifying the password as a command line option is <br>
not recommended.</p>

<p style="margin-top: 1em">-S &lt;sdr_cache_file&gt; <br>
Use local file for remote SDR cache. Using a local SDR cache
can drastically increase performance for commands that
require knowledge of the entire SDR to perform their <br>
function.</p>

<p style="margin-top: 1em">-t &lt;target_address&gt; <br>
Bridge IPMI requests to the remote target address.</p>

<p style="margin-top: 1em">-U &lt;username&gt; <br>
Remote server username, default is NULL user.</p>

<p style="margin-top: 1em">-d N Use device number N to
specify the /dev/ipmiN (or /dev/ipmi/N or /dev/ipmidev/N)
device to use for in-band BMC communication. Used to target
a specific BMC on a multi- <br>
node, multi-BMC system through the ipmi device driver
interface. Default is 0.</p>

<p style="margin-top: 1em">-v Increase verbose output
level. This option may be specified multiple times to
increase the level of debug output. If given three times you
will get hexdumps of all <br>
incoming and outgoing packets.</p>

<p style="margin-top: 1em">-V Display version
information.</p>

<p style="margin-top: 1em">If no password method is
specified then ipmievd will prompt the user for a password.
If no password is entered at the prompt, the remote server
password will default to NULL.</p>

<p style="margin-top: 1em">COMMANDS <br>
help This can be used to get command-line help. It may also
be placed at the end of commands to get option usage
help.</p>

<p style="margin-top: 1em">&gt; ipmievd help <br>
Commands: <br>
open Use OpenIPMI for asyncronous notification of events
<br>
sel Poll SEL for notification of events</p>

<p style="margin-top: 1em">open This command starts ipmievd
with the OpenIPMI event watching mechanism which relies on
the Event Message Buffer feature of IPMI. This requires a
properly installed and <br>
configured OpenIPMI driver on Linux and is only valid to be
run through the open interface. See the ipmitool manpage and
associated documentation for more information on <br>
setting up the OpenIPMI driver.</p>

<p style="margin-top: 1em">Note: Some BMC do not support
the Event Message Buffer required for this command. Other
BMCs claim to support it but do not actually deliver events
to it. If this is the <br>
case please use the sel method.</p>

<p style="margin-top: 1em">daemon Launch process as a
daemon and reparent to init process. All messages will be
sent to syslog. This is the default action.</p>

<p style="margin-top: 1em">nodaemon <br>
Do NOT become a daemon, instead log all messages to
stderr.</p>

<p style="margin-top: 1em">pidfile=&lt;filename&gt; <br>
Save process ID to this file when in daemon mode. Defaults
to /var/run/ipmievd.pidN (where N is the ipmi device number
-- defaults to 0).</p>

<p style="margin-top: 1em">sel This command starts ipmievd
with the SEL Polling event watching mechanism. This will
poll the SEL periodically to determine if new events have
been logged. This command <br>
should work with all BMCs and is capable of using the LAN
interface as well to monitor a remote system and log its
events to a local syslog.</p>

<p style="margin-top: 1em">daemon Launch process as a
daemon and reparent to init process. All messages will be
sent to syslog. This is the default action.</p>

<p style="margin-top: 1em">nodaemon <br>
Do NOT become a daemon, instead log all messages to
stderr.</p>

<p style="margin-top: 1em">pidfile=&lt;filename&gt; <br>
Save process ID to this file when in daemon mode. Defaults
to /var/run/ipmievd.pidN (where N is the ipmi device number
-- defaults to 0).</p>

<p style="margin-top: 1em">timeout=&lt;seconds&gt; <br>
Time between checks for SEL polling method. Default is 10
seconds.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Example 1: Daemon process watching OpenIPMI for events</p>

<p style="margin-top: 1em">&gt; ipmievd -I open open
daemon</p>

<p style="margin-top: 1em">Example 2: Local non-daemon
process checking remote SEL every 30 seconds</p>

<p style="margin-top: 1em">&gt; ipmievd -I lan -H 1.2.3.4
-f passfile sel nodaemon timeout=30 <br>
Reading Sensors... <br>
Waiting for Events...</p>

<p style="margin-top: 1em">AUTHOR <br>
Duncan Laurie &lt;duncan@iceblink.org&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
IPMItool Homepage <br>
http://ipmitool.sourceforge.net</p>

<p style="margin-top: 1em">Intelligent Platform Management
Interface Specification <br>
http://www.intel.com/design/servers/ipmi</p>

<p style="margin-top: 1em">OpenIPMI Homepage <br>
http://openipmi.sourceforge.net</p>

<p style="margin-top: 1em">Duncan Laurie ipmievd(8)</p>
<hr>
</body>
</html>
