<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:18 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CEPH-DENCODER(8) Ceph CEPH-DENCODER(8)</p>

<p style="margin-top: 1em">NAME <br>
ceph-dencoder - ceph encoder/decoder utility</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ceph-dencoder [commands...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ceph-dencoder is a utility to encode, decode, and dump ceph
data structures. It is used for debugging and for testing
inter-version compatibility.</p>

<p style="margin-top: 1em">ceph-dencoder takes a simple
list of commands and performs them in order.</p>

<p style="margin-top: 1em">COMMANDS <br>
version <br>
Print the version string for the ceph-dencoder binary.</p>

<p style="margin-top: 1em">import &lt;file&gt; <br>
Read a binary blob of encoded data from the given file. It
will be placed in an in-memory buffer.</p>

<p style="margin-top: 1em">export &lt;file&gt; <br>
Write the contents of the current in-memory buffer to the
given file.</p>

<p style="margin-top: 1em">list_types <br>
List the data types known to this build of
ceph-dencoder.</p>

<p style="margin-top: 1em">type &lt;name&gt; <br>
Select the given type for future encode or decode
operations.</p>

<p style="margin-top: 1em">decode Decode the contents of
the in-memory buffer into an instance of the previously
selected type. If there is an error, report it.</p>

<p style="margin-top: 1em">encode Encode the contents of
the in-memory instance of the previously selected type to
the in-memory buffer.</p>

<p style="margin-top: 1em">dump_json <br>
Print a JSON-formatted description of the in-memory
object.</p>

<p style="margin-top: 1em">count_tests <br>
Print the number of built-in test instances of the previosly
selected type that ceph-dencoder is able to generate.</p>

<p style="margin-top: 1em">select_test &lt;n&gt; <br>
Select the given build-in test instance as a the in-memory
instance of the type.</p>

<p style="margin-top: 1em">get_features <br>
Print the decimal value of the feature set supported by this
version of ceph-dencoder. Each bit represents a feature.
These correspond to CEPH_FEATURE_* defines in <br>
src/include/ceph_features.h.</p>

<p style="margin-top: 1em">set_features &lt;f&gt; <br>
Set the feature bits provided to encode to f. This allows
you to encode objects such that they can be understood by
old versions of the software (for those types that <br>
support it).</p>

<p style="margin-top: 1em">EXAMPLE <br>
Say you want to examine an attribute on an object stored by
ceph-osd. You can do:</p>

<p style="margin-top: 1em">$ cd
/mnt/osd.12/current/2.b_head <br>
$ attr -l foo_bar_head_EFE6384B <br>
Attribute &quot;ceph.snapset&quot; has a 31 byte value for
foo_bar_head_EFE6384B <br>
Attribute &quot;ceph._&quot; has a 195 byte value for
foo_bar_head_EFE6384B <br>
$ attr foo_bar_head_EFE6384B -g ceph._ -q &gt; /tmp/a <br>
$ ceph-dencoder type object_info_t import /tmp/a decode
dump_json <br>
{ &quot;oid&quot;: { &quot;oid&quot;: &quot;foo&quot;, <br>
&quot;key&quot;: &quot;bar&quot;, <br>
&quot;snapid&quot;: -2, <br>
&quot;hash&quot;: 4024842315, <br>
&quot;max&quot;: 0}, <br>
&quot;locator&quot;: { &quot;pool&quot;: 2, <br>
&quot;preferred&quot;: -1, <br>
&quot;key&quot;: &quot;bar&quot;}, <br>
&quot;category&quot;: &quot;&quot;, <br>
&quot;version&quot;: &quot;9&rsquo;1&quot;, <br>
&quot;prior_version&quot;: &quot;0&rsquo;0&quot;, <br>
&quot;last_reqid&quot;: &quot;client.4116.0:1&quot;, <br>
&quot;size&quot;: 1681, <br>
&quot;mtime&quot;: &quot;2012-02-21 08:58:23.666639&quot;,
<br>
&quot;lost&quot;: 0, <br>
&quot;wrlock_by&quot;: &quot;unknown.0.0:0&quot;, <br>
&quot;snaps&quot;: [], <br>
&quot;truncate_seq&quot;: 0, <br>
&quot;truncate_size&quot;: 0, <br>
&quot;watchers&quot;: {}}</p>

<p style="margin-top: 1em">AVAILABILITY <br>
ceph-dencoder is part of Ceph, a massively scalable,
open-source, distributed storage system. Please refer to the
Ceph documentation at http://ceph.com/docs for more
information.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ceph(8)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2010-2014, Inktank Storage, Inc. and contributors. Licensed
under Creative Commons BY-SA</p>

<p style="margin-top: 1em">dev January 12, 2014
CEPH-DENCODER(8)</p>
<hr>
</body>
</html>
