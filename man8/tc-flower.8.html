<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>Flower filter in tc(8) Linux Flower filter in tc(8)</p>

<p style="margin-top: 1em">NAME <br>
flower - flow based traffic control filter</p>

<p style="margin-top: 1em">SYNOPSIS <br>
tc filter ... flower [ MATCH_LIST ] [ action ACTION_SPEC ] [
classid CLASSID ]</p>

<p style="margin-top: 1em">MATCH_LIST := [ MATCH_LIST ]
MATCH</p>

<p style="margin-top: 1em">MATCH := { indev ifname |
skip_sw | skip_hw | { dst_mac | src_mac } mac_address |
vlan_id VID | vlan_prio PRIORITY | vlan_eth_type { ipv4 |
ipv6 | ETH_TYPE } | ip_proto { tcp | <br>
udp | IP_PROTO } | { dst_ip | src_ip } { ipv4_address |
ipv6_address } | { dst_port | src_port } port_number }</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The flower filter matches flows to the set of keys specified
and assigns an arbitrarily chosen class ID to packets
belonging to them. Additionally (or alternatively) an action
<br>
from the generic action framework may be called.</p>

<p style="margin-top: 1em">OPTIONS <br>
action ACTION_SPEC <br>
Apply an action from the generic actions framework on
matching packets.</p>

<p style="margin-top: 1em">classid CLASSID <br>
Specify a class to pass matching packets on to. CLASSID is
in the form X:Y, while X and Y are interpreted as numbers in
hexadecimal format.</p>

<p style="margin-top: 1em">indev ifname <br>
Match on incoming interface name. Obviously this makes sense
only for forwarded flows. ifname is the name of an interface
which must exist at the time of tc invocation.</p>

<p style="margin-top: 1em">skip_sw <br>
Do not process filter by software. If hardware has no
offload support for this filter, or TC offload is not
enabled for the interface, operation will fail.</p>

<p style="margin-top: 1em">skip_hw <br>
Do not process filter by hardware.</p>

<p style="margin-top: 1em">dst_mac mac_address <br>
src_mac mac_address <br>
Match on source or destination MAC address.</p>

<p style="margin-top: 1em">vlan_id VID <br>
Match on vlan tag id. VID is an unsigned 12bit value in
decimal format.</p>

<p style="margin-top: 1em">vlan_prio priority <br>
Match on vlan tag priority. PRIORITY is an unsigned 3bit
value in decimal format.</p>

<p style="margin-top: 1em">vlan_eth_type VLAN_ETH_TYPE <br>
Match on layer three protocol. ETH_TYPE may be either
ipv4,ipv6 or an unsigned 16bit value in hexadecimal
format.</p>

<p style="margin-top: 1em">ip_proto IP_PROTO <br>
Match on layer four protocol. IP_PROTO may be either tcp,udp
or an unsigned 8bit value in hexadecimal format.</p>

<p style="margin-top: 1em">dst_ip ADDRESS <br>
src_ip ADDRESS <br>
Match on source or destination IP address. ADDRESS must be a
valid IPv4 or IPv6 address, depending on ether_type, which
has to be specified in beforehand.</p>

<p style="margin-top: 1em">dst_port NUMBER <br>
src_port NUMBER <br>
Match on layer 4 protocol source or destination port number.
Only available for ip_proto values udp and tcp, which has to
be specified in beforehand.</p>

<p style="margin-top: 1em">NOTES <br>
As stated above where applicable, matches of a certain layer
implicitly depend on the matches of the next lower layer.
Precisely, layer one and two matches ( <br>
indev,dst_mac,src_mac and eth_type) have no dependency,
layer three matches ( ip_proto,dst_ip and src_ip) require
eth_type being set to either ipv4 or ipv6, and finally layer
<br>
four matches ( dst_port and src_port) depend on ip_proto
being set to either tcp or udp.</p>

<p style="margin-top: 1em">There can be only used one mask
per one prio. If user needs to specify different mask, he
has to use different prio.</p>

<p style="margin-top: 1em">SEE ALSO <br>
tc(8), tc-flow(8)</p>

<p style="margin-top: 1em">iproute2 22 Oct 2015 Flower
filter in tc(8)</p>
<hr>
</body>
</html>
