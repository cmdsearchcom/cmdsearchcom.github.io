<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>IP-MONITOR(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IP-MONITOR(8)</td>
    <td class="head-vol">Linux</td>
    <td class="head-rtitle">IP-MONITOR(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ip-monitor, rtmon - state monitoring
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<br/>
<b>ip monitor</b> [ <b>all</b> | <i>OBJECT-LIST</i> ] [ <b>file</b><i> FILENAME
  </i> ] [ <b>all-nsid</b> ]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>,<b> -timestamp</b></dt>
  <dd class="It-tag">Prints timestamp before the event message on the separated
      line in format:
    <br/>
     Timestamp: &lt;Day&gt; &lt;Month&gt; &lt;DD&gt; &lt;hh:mm:ss&gt;
      &lt;YYYY&gt; &lt;usecs&gt; usec
    <br/>
     &lt;EVENT&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ts</b>,<b> -tshort</b></dt>
  <dd class="It-tag">Prints short timestamp before the event message on the same
      line in format:
    <br/>
     [&lt;YYYY&gt;-&lt;MM&gt;-&lt;DD&gt;T&lt;hh:mm:ss&gt;.&lt;ms&gt;]
      &lt;EVENT&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>ip</b> utility can monitor the state of devices, addresses and routes
  continuously. This option has a slightly different format. Namely, the
  <b>monitor</b> command is the first in the command line and then the object
  list follows:
<div style="height: 1.00em;">&#x00A0;</div>
<b>ip monitor</b> [ <b>all</b> | <i>OBJECT-LIST</i> ] [ <b>file</b><i> FILENAME
  </i> ] [ <b>all-nsid</b> ]
<div style="height: 1.00em;">&#x00A0;</div>
<i>OBJECT-LIST</i> is the list of object types that we want to monitor. It may
  contain <b>link</b>, <b>address</b>, <b>route</b>, <b>mroute</b>,
  <b>prefix</b>, <b>neigh</b>, <b>netconf</b> and <b>nsid</b>. If no <b>file</b>
  argument is given, <b>ip</b> opens RTNETLINK, listens on it and dumps state
  changes in the format described in previous sections.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If the <b>all-nsid</b> option is set, the program listens to all network
  namespaces that have a nsid assigned into the network namespace were the
  program is running. A prefix is displayed to show the network namespace where
  the message originates. Example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
[nsid 0]10.16.0.112 dev eth0 lladdr 00:04:23:df:2f:d0 REACHABLE
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If the <b>file</b> option is given, the program does not listen on RTNETLINK,
  but opens the given file, and dumps its contents. The file should contain
  RTNETLINK messages saved in binary format. Such a file can be generated with
  the <b>rtmon</b> utility. This utility has a command line syntax similar to
  <b>ip monitor</b>. Ideally, <b>rtmon</b> should be started before the first
  network configuration command is issued. F.e. if you insert:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
rtmon file /var/log/rtmon.log
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
in a startup script, you will be able to view the full history later.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Nevertheless, it is possible to start <b>rtmon</b> at any time. It prepends the
  history with the state snapshot dumped at the moment of starting.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ip</b>(8)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Original Manpage by Michail Litvak &lt;mci@owl.openwall.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">13 Dec 2012</td>
    <td class="foot-os">iproute2</td>
  </tr>
</table>
</body>
</html>
