<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KEA-ADMIN(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KEA-ADMIN(8)</td>
    <td class="head-vol">Kea</td>
    <td class="head-rtitle">KEA-ADMIN(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
kea-admin - Shell script for managing Kea databases
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 10.00ex; text-indent: -10.00ex;"><b>kea-admin</b>
  [command] [backend] [ <b>-u&#x00A0;</b><b></b><i>database&#x00A0;username</i>]
  [ <b>-p&#x00A0;</b><b></b><i>database&#x00A0;password</i>]
  [<b>-n&#x00A0;</b><b></b><i>database&#x00A0;name</i>]
  [<b>-d&#x00A0;</b><b></b> <i>scripts&#x00A0;directory</i>]
  [<b>-4&#x00A0;|&#x00A0;-6</b>] [
  <b>-o&#x00A0;</b><b></b><i>output&#x00A0;file</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
kea-admin is a shell script which offers database maintenance. In particular, it
  features database initialization, database version checking and database
  schema upgrade.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b></b><i>command</i>
<div style="margin-left: 4.00ex;">Command to be issued to the servers. It can be
  one of the following:
<div class="Pp"></div>
lease-init
<div style="margin-left: 4.00ex;">Initializes a new lease database. Useful
  during first Kea installation. The database is initialized to the latest
  version supported by the version of the software.</div>
<div class="Pp"></div>
lease-version
<div style="margin-left: 4.00ex;">Reports lease database version. This is not
  necessarily equal to Kea version as each backend has its own versioning
  scheme.</div>
<div class="Pp"></div>
lease-upgrade
<div style="margin-left: 4.00ex;">Conducts lease database upgrade. This is
  useful when migrating between old and new Kea versions.</div>
<div class="Pp"></div>
lease-dump
<div style="margin-left: 4.00ex;">Dumps the contents of the lease database
  (MySQL and PostgreSQL backends) to text file. The content of the file consists
  of comma-separated-values (CSV) where each line in the file contains all of
  the values for a single lease. The first line of file is a header line
  containing the column names.</div>
</div>
<div class="Pp"></div>
<b></b><i>backend</i>
<div style="margin-left: 4.00ex;">Specifies backend type. Currently allowed
  backends are: memfile, mysql and pgsql.</div>
<div class="Pp"></div>
<b>-u|--user </b><b></b><i>username</i>
<div style="margin-left: 4.00ex;">Specify the username when connecting to a
  database. If not specified, the default value of keatest is used.</div>
<div class="Pp"></div>
<b>-p|--password </b><b></b><i>password</i>
<div style="margin-left: 4.00ex;">Specifies the password when connecting to a
  database. If not specified, the default value of keatest is used.</div>
<div class="Pp"></div>
<b>-n|--name </b><b></b><i>database-name</i>
<div style="margin-left: 4.00ex;">Specifies the database name to connect to. If
  not specified, the default value of keatest is used.</div>
<div class="Pp"></div>
<b>-d|--directory </b><b></b><i>script-directory</i>
<div style="margin-left: 4.00ex;">Used for override scripts directory. That
  script is used during upgrades, database initialization and possibly other
  operations. If not specified, the default value of (prefix)/share/kea/scripts/
  is used.</div>
<div class="Pp"></div>
<b>-o|--output </b><b></b><i>output_file</i>
<div style="margin-left: 4.00ex;">Required for lease-dump, Specifies the file to
  which the lease data will be dumped.</div>
<div class="Pp"></div>
<b>-4</b>
<div style="margin-left: 4.00ex;">Directs kea-admin to lease-dump the DHCPv4
  leases. Incompatible with the -6 option.</div>
<div class="Pp"></div>
<b>-6</b>
<div style="margin-left: 4.00ex;">Directs kea-admin to lease-dump the DHCPv6
  leases. Incompatible with the -4 option.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>keactrl</b>(8), <b>kea-dhcp4</b>(8), <b>kea-dhcp6</b>(8),
  <b>kea-dhcp-ddns</b>(8), <b>keactrl</b>(8), <b>perfdhcp</b>(8), Kea
  Administrator Guide.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The Kea software has been written by a number of engineers working for ISC:
  Tomek Mrugalski, Stephen Morris, Marcin Siodelski, Thomas Markwalder, Francis
  Dupont, Jeremy C. Reed, Wlodek Wencel and Shawn Routhier. That list is roughly
  in the chronological order in which the authors made their first contribution.
  For a complete list of authors and contributors, see AUTHORS file.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2014-2016 Internet Systems Consortium, Inc. (&quot;ISC&quot;)
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Sep. 28, 2016</td>
    <td class="foot-os">ISC Kea 1.1.0</td>
  </tr>
</table>
</body>
</html>
