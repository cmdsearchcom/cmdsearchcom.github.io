<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>APRSMON(8) Linux Programmer&rsquo;s Manual
APRSMON(8)</p>

<p style="margin-top: 1em">NAME <br>
aprsmon - monitor APRS AX.25 traffic for javAPRS</p>

<p style="margin-top: 1em">SYNOPSIS <br>
aprsmon [-a] [-m] [-r] [-k minutes] [-p port] [-t title] [-i
infofile]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Aprsmon uses SOCK_PACKET facilities to provide a network
monitor of all AX.25 UI text traffic heard by the system. It
is based on listen(1).</p>

<p style="margin-top: 1em">Aprsmon collects (-m) or
displays standard AX.25 UI text frames in a format similar
to that output by a standard TNC in &quot;Monitor ON&quot;
mode and is intended to be used with programs <br>
like javAPRS which wish to see a TNC data stream over a TCP
connection. When the aprsmon master has been running for a
while and a new aprsmon slave starts up, first all saved
<br>
up reports are sent, then a title line indicating the
beginning of live data is sent, and new reports are sent as
received.</p>

<p style="margin-top: 1em">Compressed position and
telemetry reports as generated by the APRS Mic Encoder are
translated into the conventional uncompressed APRS
Micro-Interface-Module (MIM) telemtry format <br>
so that these stations are visible in javAPRS. Reports
containing a TheNet X1J4 beacon header are also edited to
strip off the header making these nodes visible in javAPRS
as <br>
well.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Allow for the monitoring of outgoing frames as well as
incoming ones.</p>

<p style="margin-top: 1em">-r Choose &quot;raw&quot; mode
which allows non-printable data through.</p>

<p style="margin-top: 1em">-p port Monitor only those
frames received on a particular port, by default all AX.25
interfaces are monitored.</p>

<p style="margin-top: 1em">-m &quot;Master&quot; mode.
Retain monitored data for the number of minutes specified
with the -k option in a shared memory segment.</p>

<p style="margin-top: 1em">-k minutes <br>
Retain monitored packets going back the given number of
minutes. Default is 30.</p>

<p style="margin-top: 1em">-t title Sets the javAPRS or
aprsd title string. Default is &quot;Live data from
Linux.&quot; For use with aprsd the format must be something
like &quot;aprsmon v2.4.4 padd padb.&quot; pada and <br>
padb can be anything, and are ignored but you *must* have 4
words in all.</p>

<p style="margin-top: 1em">-i infofile <br>
Infofile is the path to the file that the aprsmon master
writes the shared memory segment and semaphore id&rsquo;s
into. Default is &quot;/var/ax25/aprsmon.info.&quot;</p>

<p style="margin-top: 1em">javAPRS CONFIGURATION <br>
Set up one aprsmon master running on your system to collect
historical data going back a while. You will probably want
to set up an /etc/rc.d/init.d script for this.</p>

<p style="margin-top: 1em">aprsmon -a -m&amp;</p>

<p style="margin-top: 1em">Add an entry into /etc/services
with the port number you want javAPRS to connect on. For
example:</p>

<p style="margin-top: 1em">aprs 14439/tcp # APRS monitor on
144.39</p>

<p style="margin-top: 1em">Add an entry into
/etc/inetd.conf for this service:</p>

<p style="margin-top: 1em">aprs stream tcp nowait root
/usr/sbin/aprsmon aprsmon -a</p>

<p style="margin-top: 1em">To test, simply &quot;telnet
localhost aprs&quot;. To use with javAPRS, set, for
example,</p>

<p style="margin-top: 1em">&lt;PARAM name =
&quot;dataFile1&quot; value =
&quot;netc:14439:localhost&quot;&gt; <br>
in your HTML file as described in the javAPRS documentation,
and then use appletviewer to run javAPRS: <br>
appletviewer mydemo.html</p>

<p style="margin-top: 1em">Mic-E to MIM Translation <br>
The Mic-E reduces the duration of packet noise on a voice
frequency by encoding its data in a compressed form, some of
which is binary. Some APRS-decoding software, notably <br>
javAPRS, is unable to deal with this data. To solve this
problem aprsmon expands the Mic-E packet into one or two MIM
packets as follows:</p>


<p style="margin-top: 1em">@ddhhmmzDDMM.hhN/DDDMM.hhW$cse/spd/E&gt;mon/Mm/status
<br>
T#MIC,aaabbbcccdddeeefffComments</p>

<p style="margin-top: 1em">ddhhmm is the UTC day and time
the packet was received by the host running aprsmon.</p>

<p style="margin-top: 1em">DDMM.hhN is the latitude.</p>

<p style="margin-top: 1em">/ is the symbol table selection
(/ or .</p>

<p style="margin-top: 1em">DDDMM.hhW is the longitude.</p>

<p style="margin-top: 1em">$ is the symbol.</p>

<p style="margin-top: 1em">cse,spd are course and
speed.</p>

<p style="margin-top: 1em">E is the type of
Mic-Encoder:</p>

<p style="margin-top: 1em">E - TAPR Mic-Encoder <br>
T - Kenwood TH-D7</p>

<p style="margin-top: 1em">m is the status message number,
and</p>

<p style="margin-top: 1em">status is the status message
number expanded as follows:</p>

<p style="margin-top: 1em">0 - Off duty.. <br>
1 - Enroute... <br>
2 - In Service <br>
3 - Returning. <br>
4 - Committed. <br>
5 - Special... <br>
6 - PRIORITY.. <br>
7 - EMERGENCY.</p>

<p style="margin-top: 1em">aaa,bbb,ccc,ddd,eee,fff <br>
are the values of the telemetry channels.</p>

<p style="margin-top: 1em">FILES <br>
/etc/ax25/axports /var/ax25/aprsmon.info</p>

<p style="margin-top: 1em">SEE ALSO <br>
call(1), listen(1), beacon(1), ax25(4), axattach(8),
http://www.bridge.net/~sdimse/javAPRS.html,
http://www.tapr.org, http://www.aprs.net,
MIC-E.TXT,TELEMTRY.TXT,PROTOCOL.TXT</p>

<p style="margin-top: 1em">AUTHOR <br>
Alan Crosswell, n2ygk@weca.org</p>

<p style="margin-top: 1em">Linux 9 February 1999
APRSMON(8)</p>
<hr>
</body>
</html>
