<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opacabletest(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opacabletest(8)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opacabletest(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opacabletest
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>(Switch)</b> Initiates or stops Cable Bit Error Rate stress tests for
  Intel(R) Omni-Path Host Fabric Interface (HFI)-to-switch links and/or ISLs.
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
opacabletest [-C|-A] [-c <i>file</i>] [-f <i>hostfile</i>] [-h <i>'hosts'</i>]
  [-n <i>numprocs</i>] [-t#8217#160; <i>portsfile</i>] [-p <i>ports</i>]
  [start|start_fi|start_isl|stop|stop_fi| stop_isl] ...
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--help</dt>
  <dd class="It-tag">Produces full help text.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-C</dt>
  <dd class="It-tag">Clears error counters.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-A</dt>
  <dd class="It-tag">Forces clear of hardware error counters. Implies -C.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c <i>file</i></dt>
  <dd class="It-tag">Error thresholds configuration file. Default is
      /etc/sysconfig/opa/opamon.si.conf file. Only used if -C or -A specified.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f <i>hostfile</i></dt>
  <dd class="It-tag">File with hosts to include in HFI -to-SW test. Default is
      /etc/sysconfig/opa/hosts file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h <i>hosts</i></dt>
  <dd class="It-tag">List of hosts to include in HFI -SW test.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n <i>numprocs</i></dt>
  <dd class="It-tag">Number of processes per host for HFI -SW test.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t <i>portsfile</i></dt>
  <dd class="It-tag">File with list of local HFI ports used to access fabrics
      when clearing counters. Default is /etc/sysconfig/opa/ports file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p <i>ports</i></dt>
  <dd class="It-tag">List of local HFI ports used to access fabrics for counter
      clear. Default is first active port. The first HFI in the system is 1. The
      first port on an HFI is 1.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Uses the format hfi:port, for example:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
0:0 First active port in system.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
0:y Port <i>y</i> within system.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
x:0 First active port on HFI <i>x</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
x:y HFI <i>x</i>, port <i>y</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">start</dt>
  <dd class="It-tag">Starts the HFI -SW and ISL tests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">start_fi</dt>
  <dd class="It-tag">Starts the HFI -SW test.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">start_isl</dt>
  <dd class="It-tag">Starts the ISL test.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">stop</dt>
  <dd class="It-tag">Stops the HFI -SW and ISL tests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">stop_fi</dt>
  <dd class="It-tag">Stops the HFI -SW test.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">stop_isl</dt>
  <dd class="It-tag">Stops the ISL test.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The HFI -SW cable test requires that the <b>FF_MPI_APPS_DIR</b> is set, and it
  contains a pre-built copy of the mpi_apps for an appropriate message passing
  interface (MPI).
<div class="Pp"></div>
The ISL cable test started by this tool assumes that the master Host Subnet
  Manager (HSM) is running on this host. If using the Embedded Subnet Manager
  (ESM), or if a different host is the master HSM, the ISL cable test must be
  controlled by the switch CLI, or by Intel(R) Omni-Path Fabric Suite FastFabric
  on the master HSM respectively.
<h1 class="Sh" title="Sh" id="Examples"><a class="selflink" href="#Examples">Examples</a></h1>
opacabletest -A start
<div>&#x00A0;</div>
opacabletest -f good -A start
<div>&#x00A0;</div>
opacabletest -h 'arwen elrond' start_fi
<div>&#x00A0;</div>
HOSTS='arwen elrond' opacabletest stop
<div>&#x00A0;</div>
opacabletest -A
<h1 class="Sh" title="Sh" id="Environment_Variables"><a class="selflink" href="#Environment_Variables">Environment
  Variables</a></h1>
The following environment variables are also used by this command:
<dl class="Bl-tag">
  <dt class="It-tag"><b>HOSTS</b></dt>
  <dd class="It-tag">List of hosts, used if -h option not supplied.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>HOSTS_FILE</b></dt>
  <dd class="It-tag">File containing list of hosts, used in absence of -f and
      -h.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PORTS</b></dt>
  <dd class="It-tag">List of ports, used in absence of -t and -p.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PORTS_FILE</b></dt>
  <dd class="It-tag">File containing list of ports, used in absence of -t and
      -p.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FF_MAX_PARALLEL</b></dt>
  <dd class="It-tag">Maximum concurrent operations.</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
