<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:23 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>subscription-manager(8) Subscription Management
subscription-manager(8)</p>

<p style="margin-top: 1em">NAME <br>
subscription-manager - Registers systems to a subscription
management service and then attaches and manages
subscriptions for software products.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
subscription-manager command [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
subscription-manager is a client program that registers a
system with a subscription management service such as the
Customer Portal Subscription Management service or
on-premise <br>
Subscription Asset Manager.</p>

<p style="margin-top: 1em">Red Hat provides content updates
and support by issuing subscriptions for its products. These
subscriptions are applied to systems; once a subscription
for a product is attached <br>
to a system, that system is allowed to install, update, and
receive support for that software product. IT administrators
need to track these subscriptions and how they are <br>
attached. This subscription management is a feature
available for Red Hat platforms version 5.7 (and later) and
version 6.1 (and later).</p>

<p style="margin-top: 1em">For RHEL systems, content is
delivered through the Red Hat Customer Portal. Subscriptions
and systems are managed globally through the Red Hat
subscription management service, <br>
which is integrated with the Customer Portal. Subscriptions
are managed for the local system by using the Red Hat
Subscription Manager tool. Subscription Manager is a local
<br>
client which connects a system with the subscription
management service.</p>

<p style="margin-top: 1em">subscription-manager is the
command-line based client for the Red Hat Subscription
Manager tool.</p>

<p style="margin-top: 1em">Subscription Manager performs
several key operations:</p>

<p style="margin-top: 1em">* It registers systems to the
Red Hat subscription management service and adds the system
to the inventory. Once a system is registered, it can
receive updates based on <br>
its subscriptions to any kind of software products.</p>

<p style="margin-top: 1em">* It lists both available and
used subscriptions.</p>

<p style="margin-top: 1em">* It allows administrators to
both attach specific subscriptions to a system and remove
those subscriptions.</p>

<p style="margin-top: 1em">Subscription Manager can be used
to auto-attach subscriptions to a system, as well. The
subscription-manager command can even be invoked as part of
a kickstart process.</p>

<p style="margin-top: 1em">Available subscriptions are
based on the specific information about the system&rsquo;s
architecture. A subscription is only considered available if
the platform and hardware can sup&acirc; <br>
port that specific product.</p>

<p style="margin-top: 1em">Subscription Manager also
collects and summarizes system facts related to its
hardware, operating system, and other characteristics. These
facts can be edited in the Subscription <br>
Manager configuration and displayed through Subscription
Manager.</p>

<p style="margin-top: 1em">There is also a Subscription
Manager GUI, which can be invoked simply by running
subscription-manager-gui from the command line.</p>

<p style="margin-top: 1em">Subscription management is only
available for RHEL 5.7/6.1 and later systems. Older systems
should register to Red Hat Network Classic using the
rhn_register command.</p>

<p style="margin-top: 1em">COMMANDS AND OPTIONS <br>
subscription-manager has specific options available for each
command, depending on what operation is being performed.
Subscription Manager commands are related to the different
<br>
subscription operations:</p>

<p style="margin-top: 1em">1. register</p>

<p style="margin-top: 1em">2. unregister</p>

<p style="margin-top: 1em">3. attach</p>

<p style="margin-top: 1em">4. auto-attach</p>

<p style="margin-top: 1em">5. remove</p>

<p style="margin-top: 1em">6. release</p>

<p style="margin-top: 1em">7. service-level</p>

<p style="margin-top: 1em">8. import</p>

<p style="margin-top: 1em">9. redeem</p>

<p style="margin-top: 1em">10. list</p>

<p style="margin-top: 1em">11. refresh</p>

<p style="margin-top: 1em">12. environments</p>

<p style="margin-top: 1em">13. repos</p>

<p style="margin-top: 1em">14. orgs</p>

<p style="margin-top: 1em">15. plugins</p>

<p style="margin-top: 1em">16. identity</p>

<p style="margin-top: 1em">17. facts</p>

<p style="margin-top: 1em">18. clean</p>

<p style="margin-top: 1em">19. config</p>

<p style="margin-top: 1em">20. version</p>

<p style="margin-top: 1em">21. status</p>

<p style="margin-top: 1em">22. deprecated commands:
subscribe, unsubscribe, and activate</p>

<p style="margin-top: 1em">23. repo-override</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
-h, --help <br>
Prints the specific help information for the given
command.</p>

<p style="margin-top: 1em">--proxy=PROXY <br>
Uses an HTTP proxy. The PROXY name has the format
hostname:port.</p>

<p style="margin-top: 1em">--proxyuser=PROXYUSERNAME <br>
Gives the username to use to authenticate to the HTTP
proxy.</p>

<p style="margin-top: 1em">--proxypass=PROXYPASSWORD <br>
Gives the password to use to authenticate to the HTTP
proxy.</p>

<p style="margin-top: 1em">REGISTER OPTIONS <br>
The register command registers a new system to the
subscription management service.</p>

<p style="margin-top: 1em">--username=USERNAME <br>
Gives the username for the account which is registering the
system; this user account is usually tied to the user
account for the content delivery system which supplies <br>
the content. Optional, for user-based authentication.</p>

<p style="margin-top: 1em">--password=PASSWORD <br>
Gives the user account password.</p>

<p style="margin-top: 1em">--serverurl=SERVER_HOSTNAME <br>
Passes the name of the subscription service with which to
register the system. The default value, if this is not
given, is the Customer Portal Subscription Management
ser&acirc; <br>
vice, subscription.rhsm.redhat.com. If there is an
on-premise subscription service such as Subscription Asset
Manager, this parameter can be used to submit the hostname
<br>
of the subscription service. For Subscription Asset Manager,
if the Subscription Manager tool is configured with the
Subscription Asset Manager RPM, then the default value <br>
for the --serverurl parameter is for the on-premise
Subscription Asset Manager server.</p>


<p style="margin-top: 1em">--baseurl=https://CONTENT_SERVICE:PORT/PREFIX
<br>
Passes the name of the content delivery service to configure
the yum service to use to pull down packages. If there is an
on-premise subscription service such as Subscrip&acirc; <br>
tion Asset Manager or CloudForms System Engine, this
parameter can be used to submit the URL of the content
repository, in the form https://server_name:port/prefix. For
<br>
example, https://sam.example.com:8088/sam.</p>

<p style="margin-top: 1em">--name=SYSTEM_NAME <br>
Sets the name of the system to register. This defaults to
the hostname.</p>

<p style="margin-top: 1em">--consumerid=CONSUMERID <br>
References an existing system inventory ID to resume using a
previous registration for this system. The ID is used as an
inventory number for the system in the subscrip&acirc; <br>
tion management service database. If the system&rsquo;s
identity is lost or corrupted, this option allows it to
resume using its previous identity and subscriptions.</p>

<p style="margin-top: 1em">--activationkey=KEYS <br>
Gives a comma-separated list of product keys to use to
redeem or apply specific subscriptions to the system. This
is used for preconfigured systems which may already have
<br>
products installed. Activation keys are issued by an
on-premise subscription management service, such as
Subscription Asset Manager.</p>

<p style="margin-top: 1em">When the --activationkey option
is used, it is not necessary to use the --username and
--password options, because the authentication information
is implicit in the acti&acirc; <br>
vation key.</p>

<p style="margin-top: 1em">For example: <br>
subscription-manager register --org=&quot;IT Dept&quot;
--activationkey=1234abcd</p>

<p style="margin-top: 1em">--auto-attach <br>
Automatically attaches compatible subscriptions to this
system.</p>

<p style="margin-top: 1em">--servicelevel=LEVEL <br>
Sets the preferred service level to use with subscriptions
added to the system. Service levels are commonly premium,
standard, and none, though other levels may be avail&acirc;
<br>
able depending on the product and the contract.</p>

<p style="margin-top: 1em">--force <br>
Registers the system even if it is already registered.
Normally, any register operations will fail if the system is
already registered. With --force, the existing system <br>
entry is unregistered first, all of its subscriptions are
returned to the pool, and then the system is registered as a
new entry.</p>

<p style="margin-top: 1em">--org=ORG <br>
Assigns the system to an organization. Infrastructures which
are managed on-site may be multi-tenant, meaning that there
are multiple organizations within one customer <br>
unit. A system may be assigned manually to one of these
organizations. When a system is registered with the Customer
Portal, this is not required. When a system is regis&acirc;
<br>
tered with an on-premise application such as Subscription
Asset Manager, this argument is required, unless there is
only a single organization configured.</p>

<p style="margin-top: 1em">--environment=ENV <br>
Registers the system to an environment within an
organization.</p>

<p style="margin-top: 1em">--release=VERSION <br>
Shortcut for &quot;release --set=VERSION&quot;</p>

<p style="margin-top: 1em">--type=CONSUMERTYPE <br>
Sets the type of unit to register. Most units in the
inventory will use the default value of system. For
development or test units, this can be person , which
indicates a <br>
personal (rather than organizational) unit. Another type of
unit can be candlepin for a local content service or domain
for an IP domain.</p>

<p style="margin-top: 1em">UNREGISTER OPTIONS <br>
The unregister command removes a system&rsquo;s
subscriptions and removes it from the subscription
management service.</p>

<p style="margin-top: 1em">This command has no options.</p>

<p style="margin-top: 1em">ATTACH OPTIONS <br>
The attach command applies a specific subscription to the
system.</p>

<p style="margin-top: 1em">--auto Automatically attaches
the best-matched compatible subscription or subscriptions to
the system. This is the default unless --pool or --file are
used.</p>

<p style="margin-top: 1em">--pool=POOLID <br>
Gives the ID for the subscriptions pool (collection of
products) to attach to the system. This overrides the
default of --auto.</p>

<p style="margin-top: 1em">--file=FILE <br>
Specifies a file from which to read whitespace-delimited
pool IDs. If FILE is &quot;-&quot;, the pool IDs will be
read from stdin. This overrides the default of --auto.</p>

<p style="margin-top: 1em">--quantity=NUMBER <br>
Attaches a specified number of subscriptions to the system.
Subscriptions may have certain limits on them, like the
number of sockets on the system or the number of <br>
allowed virtual guests. It is possible to attach multiple
subscriptions (or stacking subscriptions) to cover the
number of sockets, guests, or other characteristics. May
<br>
not be used with an auto-attach.</p>

<p style="margin-top: 1em">--servicelevel=LEVEL <br>
Sets the preferred service level to use with subscriptions
automatically attached to the system. Service levels are
commonly premium, standard, and none, though other
lev&acirc; <br>
els may be available depending on the product and the
contract. This option cannot be used when attaching specific
pools via --pool or --file.</p>

<p style="margin-top: 1em">AUTO-ATTACH OPTIONS <br>
The auto-attach command sets whether the ability to check,
attach, and update subscriptions occurs automatically on the
system. Auto-attaching subscriptions checks the currently-
<br>
installed products, attached subscriptions, and any changes
in available subscriptions every four hours using the
rhsmcertd daemon.</p>

<p style="margin-top: 1em">--enable <br>
Enables the auto-attach option for the system. If there is
any change in the subscriptions for the system, any
subscriptions expire, or any new products are installed,
<br>
then subscription-manager detects the changes and
automatically attaches the appropriate subscriptions so that
the system remains covered.</p>

<p style="margin-top: 1em">--disable <br>
Disables the auto-attach option for the system. If
auto-attach is disabled, then any changes in installed
products or subscriptions for the system (including expired
sub&acirc; <br>
scriptions) must be addressed manually by the
administrator.</p>

<p style="margin-top: 1em">--show Shows whether auto-attach
is enabled on the systems.</p>

<p style="margin-top: 1em">REMOVE OPTIONS <br>
The remove command removes a subscription from the system.
(This does not uninstall the associated products.)</p>

<p style="margin-top: 1em">--serial=SERIALNUMBER <br>
Gives the serial number of the subscription certificate for
the specific product to remove from the system. Subscription
certificates attached to a system are in a cer&acirc; <br>
tificate, in /etc/pki/entitlement/&lt;serial_number&gt;.pem.
To remove multiple subscriptions, use the --serial option
multiple times.</p>

<p style="margin-top: 1em">--pool=POOLID <br>
Removes all subscription certificates for the specified pool
id from the system. To remove multiple sets of
subscriptions, use the --pool option multiple times.</p>

<p style="margin-top: 1em">--all Removes all of the
subscriptions attached to a system.</p>

<p style="margin-top: 1em">RELEASE OPTIONS <br>
The release command sets a sticky OS version to use when
installing or updating packages. This sets a preference for
the minor version of the OS, such as 6.2 or 6.3. This can
<br>
prevent unplanned or unsupported operating system version
upgrades when an IT environment must maintain a certified
configuration.</p>

<p style="margin-top: 1em">--list Lists the available OS
versions. If a release preference is not set, then there is
a message saying it is not set.</p>

<p style="margin-top: 1em">--set=RELEASE <br>
Sets the minor (Y-stream) release version to use, such as
6.3.</p>

<p style="margin-top: 1em">--unset <br>
Removes any previously set release version preference.</p>

<p style="margin-top: 1em">SERVICE-LEVEL OPTIONS <br>
The service-level command displays the current configured
service level preference for products installed on the
system. For example, if the service-level preference is
standard, <br>
then a subscription with a standard service level is
selected when auto-attaching subscriptions to the
system.</p>

<p style="margin-top: 1em">--serverurl=SERVER_URL <br>
Server URL in the form of https://hostname:port/prefix</p>

<p style="margin-top: 1em">--insecure <br>
Do not check the server SSL certificate against available
certificate authorities</p>

<p style="margin-top: 1em">--show Shows the system&rsquo;s
current service-level preference. If a service level is not
set, then there is a message saying it is not set.</p>

<p style="margin-top: 1em">--list Lists the available
service levels.</p>

<p style="margin-top: 1em">--set=SERVICE_LEVEL <br>
Service level to apply to this system</p>

<p style="margin-top: 1em">--unset <br>
Removes any previously set service-level preference.</p>

<p style="margin-top: 1em">IMPORT OPTIONS <br>
The import command imports and applies a subscription
certificate for the system which was generated externally,
such as in the Customer Portal, and then copied over to the
sys&acirc; <br>
tem. Importing can be necessary if a system is preconfigured
in the subscription management service or if it is offline
or unable to access the subscription management service <br>
but it has the proper, relevant subscriptions attached to
the system.</p>

<p style="margin-top: 1em">--certificate=CERTIFICATE_FILE
<br>
Points to a certificate PEM file which contains the
subscription certificate. This can be used multiple times to
import multiple subscription certificates.</p>

<p style="margin-top: 1em">REDEEM OPTIONS <br>
The redeem command is used for systems that are purchased
from third-party vendors that include a subscription. The
redemption process essentially auto-attaches the preselected
<br>
subscription that the vendor supplied to the system.</p>

<p style="margin-top: 1em">--email=EMAIL <br>
Gives the email account to send the redemption notification
message to.</p>

<p style="margin-top: 1em">--locale=LOCALE <br>
Sets the locale to use for the message. If none is given,
then it defaults to the local system&rsquo;s locale.</p>

<p style="margin-top: 1em">--org=ORG <br>
Identifies the organization which issued the subscription
being redeemed.</p>

<p style="margin-top: 1em">LIST OPTIONS <br>
The list command lists all of the subscriptions that are
compatible with a system. The options allow the list to be
filtered by subscriptions that are used by the system or
<br>
unused subscriptions that are available to the system.</p>

<p style="margin-top: 1em">--all Lists all possible
subscriptions that have been purchased, even if they
don&rsquo;t match the architecture of the system. This is
used with the --available option.</p>

<p style="margin-top: 1em">--available <br>
Lists available subscriptions which are not yet attached to
the system.</p>

<p style="margin-top: 1em">--consumed <br>
Lists all of the subscriptions currently attached to the
system.</p>

<p style="margin-top: 1em">--installed <br>
Lists products which are currently installed on the system
which may (or may not) have subscriptions associated with
them, as well as products with attached subscriptions <br>
which may (or may not) be installed.</p>

<p style="margin-top: 1em">--ondate=YYYY-MM-DD <br>
Sets the date to use to search for active and available
subscriptions. The default (if not explicitly passed) is
today&rsquo;s date; using a later date looks for
subscriptions <br>
which will be active then. This is only used with the
--available option.</p>

<p style="margin-top: 1em">--no-overlap <br>
Shows pools which provide products that are not already
covered; only used with --available option.</p>

<p style="margin-top: 1em">--match-installed <br>
Shows only subscriptions matching products that are
currently installed; only used with --available option.</p>

<p style="margin-top: 1em">--matches=SEARCH <br>
Limits the output of --installed, --available and --consumed
to only subscriptions or products which contain SEARCH in
the subscription or product information, varying <br>
with the list requested and the server version. <br>
SEARCH may contain the wildcards ? or * to match a single
character or zero or more characters, respectively. The
wildcard characters may be escaped with a backslash to <br>
represent a literal question mark or asterisk. Likewise, to
represent a backslash, it must be escaped with another
backslash.</p>

<p style="margin-top: 1em">--pool-only <br>
Limits the output of --available and --consumed such that
only the pool IDs are displayed. No labels or errors will be
printed if this option is specified.</p>

<p style="margin-top: 1em">REFRESH OPTIONS <br>
The refresh command pulls the latest subscription data from
the server. Normally, the system polls the subscription
management service at a set interval (4 hours by default) to
<br>
check for any changes in the available subscriptions. The
refresh command checks with the subscription management
service right then, outside the normal interval.</p>

<p style="margin-top: 1em">This command has no options.</p>

<p style="margin-top: 1em">ENVIRONMENTS OPTIONS <br>
The environments command lists all of the environments that
have been configured for an organization. This command is
only used for organizations which have a locally-hosted
sub&acirc; <br>
scription or content service of some kind, like Subscription
Asset Manager. The concept of environments -- and therefore
this command -- have no meaning for environments which <br>
use the Customer Portal Subscription Management
services.</p>

<p style="margin-top: 1em">--username=USERNAME <br>
Gives the username for the account to use to connect to the
organization account.</p>

<p style="margin-top: 1em">--password=PASSWORD <br>
Gives the user account password.</p>

<p style="margin-top: 1em">--org=ORG <br>
Identifies the organization for which to list the configured
environments.</p>

<p style="margin-top: 1em">REPOS OPTIONS <br>
The repos command lists all of the repositories that are
available to a system. This command is only used for
organizations which have a locally-hosted content service of
some <br>
kind, like Subscription Asset Manager. With Red Hat&rsquo;s
hosted content service, there is only one central
repository.</p>

<p style="margin-top: 1em">--list Lists all of the
repositories that are provided by the content service used
by the system.</p>

<p style="margin-top: 1em">--list-enabled <br>
Lists all of the enabled repositories that are provided by
the content service used by the system.</p>

<p style="margin-top: 1em">--list-disabled <br>
Lists all of the disabled repositories that are provided by
the content service used by the system.</p>

<p style="margin-top: 1em">--enable=REPO_ID <br>
Enables the specified repository, which is made available by
the content sources identified in the system subscriptions.
To enable multiple repositories, use this argument <br>
multiple times. Wild cards * and ? are supported.</p>

<p style="margin-top: 1em">--disable=REPO_ID <br>
Disables the specified repository, which is made available
by the content sources identified in the system
subscriptions. To disable multiple repositories, use this
argu&acirc; <br>
ment multiple times. Wild cards * and ? are supported.</p>

<p style="margin-top: 1em">ORGS OPTIONS <br>
The orgs command lists all of the organizations which are
available to the specified user account. A multi-tenant
infrastructure may have multiple organizations within a
single <br>
customer, and users may be restricted to access only a
subset of the total number of organizations.</p>

<p style="margin-top: 1em">--username=USERNAME <br>
Gives the username for the account to use to connect to the
organization account.</p>

<p style="margin-top: 1em">--password=PASSWORD <br>
Gives the user account password.</p>

<p style="margin-top: 1em">--serverurl=SERVER_HOSTNAME <br>
Passes the name of the subscription service to use to list
all available organizations. The orgs command will list all
organizations for the specified service for which <br>
the user account is granted access. The default value, if
this is not given, is the Customer Portal Subscription
Management service, https://subscription.rhsm.red&acirc;
<br>
hat.com:443. If there is an on-premise subscription service
such as Subscription Asset Manager, this parameter can be
used to submit the hostname of the subscription ser&acirc;
<br>
vice, in the form [protocol://]servername[:port][/prefix].
For Subscription Asset Manager, if the Subscription Manager
tool is configured with the Subscription Asset Man&acirc;
<br>
ager RPM, then the default value for the --serverurl
parameter is for the on-premise Subscription Asset Manager
server.</p>

<p style="margin-top: 1em">PLUGIN OPTIONS <br>
The plugins command lists the available subscription-manager
plugins.</p>

<p style="margin-top: 1em">--list List the available
subscription-manager plugins.</p>

<p style="margin-top: 1em">--listslots <br>
List the available plugin slots</p>

<p style="margin-top: 1em">--listhooks <br>
List the available plugin slots and the hooks that handle
them.</p>

<p style="margin-top: 1em">--verbose <br>
Show additional info about the plugins, such as the plugin
configuration values.</p>

<p style="margin-top: 1em">REPO-OVERRIDE OPTIONS <br>
The repo-override command allows the user to manage custom
content repository settings</p>

<p style="margin-top: 1em">--repo The repository to modify
(can be specified more than once)</p>

<p style="margin-top: 1em">--add=NAME:VALUE <br>
Adds a named override with the provided value to
repositories specified with the --repo option</p>

<p style="margin-top: 1em">--remove=NAME <br>
Removes a named override from the repositories specified
with the --repo option</p>

<p style="margin-top: 1em">--remove-all <br>
Removes all overrides from repositories specified with the
--repo option</p>

<p style="margin-top: 1em">--list Lists all overrides from
repositories specified with the --repo option</p>

<p style="margin-top: 1em">IDENTITY OPTIONS <br>
The identity command handles the UUID of a system, which
identifies the system to the subscription management service
after registration. This command can simply return the UUID
<br>
or it can be used to restore the registration of a
previously-registered system to the subscription management
service.</p>

<p style="margin-top: 1em">--regenerate <br>
Requests that the subscription management service issue a
new identity certificate for the system, using an existing
UUID in the original identity certificate. If this is <br>
used alone, then the identity command also uses the original
identity certificate to bind to the subscription management
service, using certificate-based authentication.</p>

<p style="margin-top: 1em">--username=USERNAME <br>
Gives the username for the account which is registering the
system; this user account is usually tied to the user
account for the content delivery system which supplies <br>
the content. Optional, for user-based authentication.</p>

<p style="margin-top: 1em">--password=PASSWORD <br>
Gives the user account password. Optional, for user-based
authentication.</p>

<p style="margin-top: 1em">--force <br>
Regenerates the identity certificate for the system using
username/password authentication. This is used with the
--regenerate option. --regenerate alone will use an <br>
existing identity certificate to authenticate to the
subscription management service. If the certificate is
missing or corrupted or in other circumstances, then it may
be <br>
better to use user authentication rather than
certificate-based authentication. In that case, the --force
option requires the username or password to be given either
as an <br>
argument or in response to a prompt.</p>

<p style="margin-top: 1em">FACTS OPTIONS <br>
The facts command lists the system information, like the
release version, number of CPUs, and other architecture
information.</p>

<p style="margin-top: 1em">--list Lists the system
information. These are simple attribute: value pairs that
reflect much of the information in the /etc/sysconfig
directory <br>
cpu.architecture: x86_64 <br>
cpu.core(s)_per_socket: 1 <br>
cpu.cpu(s): 2 <br>
cpu.cpu_family: 6 <br>
cpu.cpu_mhz: 1861.776 <br>
cpu.cpu_op-mode(s): 64-bit <br>
cpu.cpu_socket(s): 2 <br>
cpu.hypervisor_vendor: KVM <br>
cpu.model: 2 <br>
cpu.numa_node(s): 1 <br>
cpu.numa_node0_cpu(s): 0,1 <br>
cpu.stepping: 3 <br>
cpu.thread(s)_per_core: 1 <br>
cpu.vendor_id: GenuineIntel <br>
cpu.virtualization_type: full <br>
distribution.id: Santiago <br>
distribution.name: Red Hat Enterprise Linux Workstation <br>
distribution.version: 6.1 <br>
----</p>

<p style="margin-top: 1em">--update <br>
Updates the system information. This is particularly
important whenever there is a hardware change (such as
adding a CPU) or a system upgrade because these changes can
<br>
affect the subscriptions that are compatible with the
system.</p>

<p style="margin-top: 1em">CLEAN OPTIONS <br>
The clean command removes all of the subscription and
identity data from the local system without affecting the
system information in the subscription management service.
This <br>
means that any of the subscriptions applied to the system
are not available for other systems to use. The clean
command is useful in cases where the local subscription
informa&acirc; <br>
tion is corrupted or lost somehow, and the system will be
re-registered using the register --consumerid=EXISTING_ID
command.</p>

<p style="margin-top: 1em">This command has no options.</p>

<p style="margin-top: 1em">CONFIG OPTIONS <br>
The config command changes the rhsm.conf configuration file
used by Subscription Manager. Almost all of the connection
information used by Subscription Manager to access the
sub&acirc; <br>
scription management service, content server, and any
proxies is set in the configuration file, as well as general
configuration parameters like the frequency Subscription
Man&acirc; <br>
ager checks for subscriptions updates. There are major
divisions in the rhsm.conf file, such as [server] which is
used to configure the subscription management service. When
<br>
changing the Subscription Manager configuration, the
settings are identified with the format section.name and
then the new value. For example:</p>


<p style="margin-top: 1em">server.hostname=newsubscription.example.com</p>

<p style="margin-top: 1em">--list Prints the current
configuration for Subscription Manager.</p>

<p style="margin-top: 1em">--remove=section.name <br>
Deletes the current value for the parameter without
supplying a new parameter. A blank value tells Subscription
Manager to use service default values for that parameter.
<br>
If there are no defaults, then the feature is ignored.</p>

<p style="margin-top: 1em">--section.name=VALUE <br>
Sets a parameter to a new, specified value. This is commonly
used for connection settings:</p>

<p style="margin-top: 1em">* server.hostname (subscription
management service)</p>

<p style="margin-top: 1em">* server.proxy</p>

<p style="margin-top: 1em">* server.proxy_port</p>

<p style="margin-top: 1em">* server.proxy_user</p>

<p style="margin-top: 1em">* server.proxy_password</p>

<p style="margin-top: 1em">* rhsm.baseurl (content
server)</p>

<p style="margin-top: 1em">* rhsm.certFrequency</p>

<p style="margin-top: 1em">VERSION OPTIONS <br>
The version command displays information about the current
Subscription Manager package, the subscription service the
system is registered to (if it is currently registered), and
<br>
the subscription management server that the system is
configured to use. For example:</p>

<p style="margin-top: 1em">[root@server ~]#
subscription-manager version <br>
server type: Red Hat Subscription Management <br>
subscription management server: 0.9.18-1 <br>
subscription management rules: 5.9 <br>
subscription-manager: 1.12.1-1.git.28.5cd97a5.fc20 <br>
python-rhsm: 1.11.4-1.git.1.2f38ded.fc20</p>

<p style="margin-top: 1em">This command has no options.</p>

<p style="margin-top: 1em">STATUS OPTIONS <br>
The status command shows the current status of the products
and attached subscriptions for the system. If some products
are not fully covered or subscriptions have expired, then
<br>
the status command shows why subscriptions are not current
and returns an error code.</p>

<p style="margin-top: 1em">[root@server ~]#
subscription-manager status <br>
+-------------------------------------------+ <br>
System Status Details <br>
+-------------------------------------------+ <br>
Overall Status: Current</p>

<p style="margin-top: 1em">--ondate=DATE <br>
Shows the system status for a specific date in the future.
The format of the date is YYYY-MM-DD.</p>

<p style="margin-top: 1em">[root@server ~]#
subscription-manager status --ondate=2014-01-01 <br>
+-------------------------------------------+ <br>
System Status Details <br>
+-------------------------------------------+ <br>
Overall Status: Insufficient</p>

<p style="margin-top: 1em">DEPRECATED COMMANDS <br>
As the structures of subscription configuration have
changed, some of the original management commands have
become obsolete. These commands have been replaced with
updated com&acirc; <br>
mands.</p>

<p style="margin-top: 1em">subscribe <br>
This has been replaced with attach. A similar registration
option, --subscribe, has also be replaced with
--auto-attach.</p>

<p style="margin-top: 1em">unsubscribe <br>
This has been replaced with remove.</p>

<p style="margin-top: 1em">activate <br>
This has been replaced with redeem.</p>

<p style="margin-top: 1em">USAGE <br>
subscription-manager has two major tasks:</p>

<p style="margin-top: 1em">1. Handling the registration for
a given system to a subscription management service</p>

<p style="margin-top: 1em">2. Handling the product
subscriptions for installed products on a system</p>

<p style="margin-top: 1em">subscription-manager makes it
easier for network administrators to maintain parity between
software subscriptions and updates and their installed
products by tracking and manag&acirc; <br>
ing what subscriptions are attached to a system and when
those subscriptions expire or are exceeded.</p>

<p style="margin-top: 1em">REGISTERING AND UNREGISTERING
MACHINES <br>
A system is either registered to a subscription management
service -- which makes all of the subscriptions available to
the system -- or it is not registered. Unregistered
sys&acirc; <br>
tems necessarily lack valid software subscriptions because
there is no way to record that the subscriptions have been
used nor any way to renew them.</p>

<p style="margin-top: 1em">The default subscription
management service in the Subscription Manager configuration
is the Customer Portal Subscription Management service. The
configuration file can be edited <br>
before the system is registered to point to an on-premise
subscription management service like Subscription Asset
Manager.</p>

<p style="margin-top: 1em">Systems are usually registered
to a subscription management service as part of their
initial configuration, such as the firstboot or kickstart
process. However, systems can be <br>
registered manually after they are configured, can be
removed from a content service, or re-registered.</p>

<p style="margin-top: 1em">If a system has never been
registered (not even during firstboot), then the register
command will register the system with whatever subscription
management service is configured <br>
in the /etc/rhsm/rhsm.conf file. This command requires, at a
minimum, the username and password for an account to connect
to the subscription management service. If the creden&acirc;
<br>
tials aren&rsquo;t passed with the command, then
subscription-manager prompts for the username and password
interactively.</p>

<p style="margin-top: 1em">When there is a single
organization or when using the Customer Portal Subscription
Management service, all that is required is the
username/password set. For example:</p>

<p style="margin-top: 1em">subscription-manager register
--username=admin --password=secret</p>

<p style="margin-top: 1em">With on-premise subscription
services, such as Subscription Asset Manager, the
infrastructure is more complex. The local administrator can
define independent groups called orga&acirc; <br>
nizations which represent physical or organizational
divisions (--org). Those organizations can be subdivided
into environments (--environment). Optionally, the
information <br>
about what subscription service (--serverurl) and content
delivery network (--baseurl) to use for the system
registration can also be passed (which overrides the Red Hat
Sub&acirc; <br>
scription Manager settings). The server and content URLs are
usually configured in the Subscription Manager configuration
before registering a system.</p>

<p style="margin-top: 1em">subscription-manager register
--username=admin --password=secret <br>
--org=&quot;IT Dept&quot; --environment=&quot;local
dev&quot; --serverurl=local-cloudforms.example.com
--baseurl=https://local-cloudforms.example.com:8088/cfFe</p>

<p style="margin-top: 1em">If a system is in a multi-tenant
environment and the organization is not provided with the
registration request, registration fails with a remote
server error. In the rhsm.log, <br>
there will be errors about being unable to load the owners
interface.</p>

<p style="margin-top: 1em">Some information is assigned
automatically. Subscription Manager automatically generates
a unique ID for the system which is used by the subscription
management service and it <br>
assigns a unit type, which indicates what kinds of software
are available for the system. The name for the entry can be
manually assigned (for use within an on-premise
subscrip&acirc; <br>
tion service, for instance). A handful of subscriptions
(such as specialized servers for content or identity
management) have their own specific unit type. For
example:</p>

<p style="margin-top: 1em">subscription-manager register
--username=admin <br>
--password=secret --type=system --name=server1 <br>
--org=&quot;IT Dept&quot;</p>

<p style="margin-top: 1em">If a system is registered and
then somehow its subscription information is lost -- a drive
crashes or the certificates are deleted or corrupted -- the
system can be re-regis&acirc; <br>
tered, with all of its subscriptions restored, by
registering with the existing ID.</p>

<p style="margin-top: 1em">subscription-manager register
--username=admin <br>
--password=secret --consumerid=1234abcd</p>

<p style="margin-top: 1em">A system uses an SSL client
certificate (its identity certificate) to authenticate to
the subscriptions system to check for updates or changes to
subscriptions. If the identity <br>
certificate is lost or corrupted, it can be regenerated
using the identity command.</p>

<p style="margin-top: 1em">subscription-manager identity
--regenerate</p>

<p style="margin-top: 1em">Using the --force option will
prompt for the username and password for the account, if one
isn&rsquo;t given, and then return the new inventory ID and
the hostname of the registered <br>
system.</p>

<p style="margin-top: 1em">subscription-manager identity
--force <br>
Username: jsmith <br>
Password: <br>
eff9a4c9-3579-49e5-a52f-83f2db29ab52 server.example.com</p>

<p style="margin-top: 1em">A system is unregistered and
removed from the subscription management service simply by
running the unregister command. Unregistering a system and
removing its attached subscrip&acirc; <br>
tions can free up subscriptions when a system is taken
offline or moved to a different department.</p>

<p style="margin-top: 1em">subscription-manager
unregister</p>

<p style="margin-top: 1em">An option with registration,
--auto-attach, will automatically attach the subscriptions
pool which best matches the system architecture and
configuration to the newly-registered <br>
system. This option attaches subscriptions as part of the
registration process, rather than separately managing
subscriptions.</p>

<p style="margin-top: 1em">subscription-manager register
--username=admin --password=secret <br>
--auto-attach</p>

<p style="margin-top: 1em">Auto-attach also supports an
option to set a preferred service level with the selected
subscriptions, the --servicelevel option. In this case, the
--servicelevel option sets a <br>
preference that helps the auto-attach process select
appropriate subscriptions. For example, if the preferred
service level for a production server is premium, and there
are <br>
three matching subscriptions with different service levels
(none, standard, and premium), the auto-attach process
selects the subscription which offers a premium service
level.</p>

<p style="margin-top: 1em">subscription-manager register
--username=admin --password=secret <br>
--auto-attach --servicelevel=premium</p>

<p style="margin-top: 1em">LISTING, ATTACHING, AND REMOVING
SUBSCRIPTIONS FOR PRODUCTS <br>
A subscription is essentially the right to install, use, and
receive updates for a Red Hat product. (Sometimes multiple
individual software products are bundled together into a
<br>
single subscription.) When a system is registered, the
subscription management service is aware of the system and
has a list of all of the possible product subscriptions that
the <br>
system can install and use. A subscription is applied to a
system when the system is attached to the subscription pool
that makes that product available. A system releases or <br>
removes that subscription (meaning, it removes that
subscription so that another system can use that
subscription count).</p>

<p style="margin-top: 1em">list command shows you what
subscriptions are available specifically to the system
(meaning subscriptions which are active, have available
quantities, and match the hardware and <br>
architecture) or all subscriptions for the organization.
Using the --ondate option shows subscriptions that are or
will be active at a specific time (otherwise, it shows
sub&acirc; <br>
scriptions which are active today).</p>

<p style="margin-top: 1em">subscription-manager list
--available --ondate=2012-01-31 <br>
+-------------------------------------------+ <br>
Available Subscriptions <br>
+-------------------------------------------+ <br>
Subscription Name: Red Hat Enterprise Linux <br>
SKU: SYS0395 <br>
Pool Id: 8a85f981302cbaf201302d899adf05a9 <br>
Quantity: 249237 <br>
Service Level: None <br>
Service Type: None <br>
Multi-Entitlement: No <br>
Ends: 01/01/2022 <br>
Machine Type: physical</p>

<p style="margin-top: 1em">The list command can also be
used to show what products you currently have installed, as
a way of tracking what products you have versus what
subscriptions you have on the sys&acirc; <br>
tem.</p>

<p style="margin-top: 1em">subscription-manager list
--installed</p>


<p style="margin-top: 1em">+-------------------------------------------+
<br>
Installed Product Status <br>
+-------------------------------------------+</p>

<p style="margin-top: 1em">ProductName: Red Hat Enterprise
Linux Server <br>
Product ID: 69 <br>
Version: 6.3 <br>
Arch: x86_64 <br>
Status: Subscribed <br>
Started: 07/26/2012 <br>
Ends: 08/31/2015</p>

<p style="margin-top: 1em">The list can be filtered to only
include products or subscriptions that match the query
string provided to --matches option.</p>

<p style="margin-top: 1em">subscription-manager list
--installed --matches=&quot;*Server*&quot;</p>


<p style="margin-top: 1em">+-------------------------------------------+
<br>
Installed Product Status <br>
+-------------------------------------------+</p>

<p style="margin-top: 1em">ProductName: Red Hat Enterprise
Linux Server <br>
Product ID: 69 <br>
Version: 6.3 <br>
Arch: x86_64 <br>
Status: Subscribed <br>
Started: 07/26/2012 <br>
Ends: 08/31/2015</p>

<p style="margin-top: 1em">Attaching a subscription
requires the ID for the subscription pool (the --pool
option). For example:</p>

<p style="margin-top: 1em">subscription-manager attach <br>
--pool=ff8080812bc382e3012bc3845da100d2</p>

<p style="margin-top: 1em">As with the register command,
the system can be auto-attached to the best-fitting
subscriptions. This is the default action and is equivalent
to using the --auto option:</p>

<p style="margin-top: 1em">subscription-manager attach</p>

<p style="margin-top: 1em">Auto-attach also supports an
option to set a preferred service level with the selected
subscriptions, the --servicelevel option. In this case, the
--servicelevel option sets a <br>
preference that helps the auto-attach process select
appropriate subscriptions. For example, if the preferred
service level for a production server is premium, and there
are <br>
three matching subscriptions with different service levels
(none, standard, and premium), the auto-attach process
selects the subscription which offers a premium
subscription.</p>

<p style="margin-top: 1em">subscription-manager attach
--servicelevel=premium</p>

<p style="margin-top: 1em">Some subscriptions define a
count based on attributes of the system itself, like the
number of sockets or the number of virtual guests on a host.
You can combine multiple sub&acirc; <br>
scriptions together to cover the count. For example, if
there is a four socket server, you can use two subscriptions
for &quot;RHEL Server for Two Sockets&quot; to cover the
socket count. <br>
To specify the number of subscriptions to use, use the
--quantity option. For example:</p>

<p style="margin-top: 1em">subscription-manager attach <br>
--pool=ff8080812bc382e3012bc3845da100d2 <br>
--quantity=2</p>

<p style="margin-top: 1em">Removing subscription from a
system releases the subscription back into the pool. The
system remains registered with the subscription management
service. Each product has an <br>
identifying X.509 certificate installed with it. To remove a
subscription for a specific product, specify the serial
number (or numbers, in multiple --serial options) of the
cer&acirc; <br>
tificate:</p>

<p style="margin-top: 1em">subscription-manager remove
--serial=1128750306742160</p>

<p style="margin-top: 1em">Giving the remove command with
the --all option removes every subscription the system has
used.</p>

<p style="margin-top: 1em">REDEEMING EXISTING SUBSCRIPTIONS
<br>
Sometimes, a system may come preconfigured with products and
subscriptions. Rather than attaching a pool and claiming a
subscription, this system simply needs to redeem its <br>
existing subscriptions.</p>

<p style="margin-top: 1em">After registration,
subscriptions on preconfigured systems can be claimed using
the redeem command, which essentially auto-attaches the
system to its preexisting subscriptions.</p>

<p style="margin-top: 1em">subscription-manager redeem
--email=admin@example.com --org=&quot;IT Dept&quot;</p>

<p style="margin-top: 1em">VIEWING LOCAL SUBSCRIPTION &amp;
CONTENT PROVIDER INFORMATION <br>
Red Hat has a hosted environment, through the Customer
Portal, that provides centralized access to subscription
management and content repositories. However, organizations
can <br>
use other tools -- like Subscription Manager -- for content
hosting and subscription management. With a local content
provider, the organization, environments, repositories, and
<br>
other structural configuration is performed in the content
provider. Red Hat Subscription Manager can be used to
display this information, using the environments, orgs, and
repos <br>
commands.</p>

<p style="margin-top: 1em">subscription-manager repos
--list</p>

<p style="margin-top: 1em">subscription-manager
environments --username=jsmith <br>
--password=secret --org=prod</p>

<p style="margin-top: 1em">subscription-manager orgs
--username=jsmith <br>
--password=secret</p>

<p style="margin-top: 1em">CHANGING SUBSCRIPTION MANAGER
CONFIGURATION <br>
The Subscription Manager CLI and GUI both use the
/etc/rhsm/rhsm.conf file for configuration, including what
content and subscription management services to use and
management <br>
settings like auto-attaching. This configuration file can be
edited directly, or it can be edited using the config
command. Parameters and values are passed as arguments with
the <br>
config command in the format --section.parameter=value ,
where section is the configuration section in the file:
server, rhsm, rhsmcertd or logging.</p>

<p style="margin-top: 1em">For example, to change the
hostname of the subscription management service host:</p>

<p style="margin-top: 1em">subscription-manager config
--server.hostname=myserver.example.com</p>

<p style="margin-top: 1em">The entries in the logging
section are somewhat special. The keys in this section are a
name of a logger. The values are the logging level.</p>

<p style="margin-top: 1em">Valid levels are one of: DEBUG ,
INFO , WARNING , ERROR , or CRITICAL</p>

<p style="margin-top: 1em">Valid logger names are the full
module path of any Subscription Manager module. For example:
subscription_manager or subscription_manager.managercli</p>

<p style="margin-top: 1em">There are three main top-level
loggers: subscription_manager, rhsm, and rhsm-app. All
logger names begin with one of the above.</p>

<p style="margin-top: 1em">To set the default log level for
all loggers (that are not otherwise set in the logging
section), edit the default_log_level key in
/etc/rhsm/rhsm.conf</p>

<p style="margin-top: 1em">UPDATING FACTS <br>
The information about a system, such as its hardware and
CPU, its operating system versions, and memory, are
collected by Subscription Manager in a list of facts.
Subscription <br>
Manager uses these facts to determine what purchased
subscriptions are compatible with the system. Whenever these
facts change (such as installing an additional CPU), the
facts <br>
can be updated immediately using the facts command.</p>

<p style="margin-top: 1em">subscription-manager facts
--update</p>

<p style="margin-top: 1em">The collected facts can also be
overridden by creating a JSON file in the /etc/rhsm/facts/
directory. These have simple formats that define a fact and
value:</p>

<p style="margin-top: 1em">{&quot;fact1&quot;:
&quot;value1&quot;,&quot;fact2&quot;:
&quot;value2&quot;}</p>

<p style="margin-top: 1em">Any fact override file must have
a .facts extension.</p>

<p style="margin-top: 1em">When these fact files are added,
running the facts command will update the collected facts
with the new, manual facts or values.</p>

<p style="margin-top: 1em">SUBSCRIPTIONS AND KICKSTART <br>
The subscription-manager tool can be run as a post-install
script as part of the kickstart installation process. This
allows subscription management (registering and applying
<br>
subscriptions) to be automated along with installation. For
example:</p>

<p style="margin-top: 1em">%post --log=/root/ks-post.log
<br>
/usr/sbin/subscription-manager register --username admin
--password secret --org &rsquo;east colo&rsquo;
--auto-attach --servicelevel=premium --force</p>

<p style="margin-top: 1em">NETWORK INFORMATION <br>
The subscription-manager tool uses outgoing HTTPS requests.
In the default configuration it will use HTTPS on port 443
to the subscription servers subscription.rhsm.redhat.com
<br>
and to the content delivery service cdn.redhat.com.</p>

<p style="margin-top: 1em">For information about the
network addresses that subscription-manager and the
subscription-manager yum plugin use see
https://access.redhat.com/site/articles/414963</p>

<p style="margin-top: 1em">FILES <br>
* /etc/pki/consumer/*.pem</p>

<p style="margin-top: 1em">*
/etc/pki/entitlement/&lt;serial&gt;.pem</p>

<p style="margin-top: 1em">* /etc/pki/product/*.pem</p>

<p style="margin-top: 1em">* /etc/rhsm/rhsm.conf</p>

<p style="margin-top: 1em">* /etc/rhsm/facts/*.facts</p>

<p style="margin-top: 1em">AUTHORS <br>
Deon Lackey, &lt;dlackey@redhat.com&gt;, and Pradeep
Kilambi, &lt;pkilambi@redhat.com&gt;</p>
 
<p style="margin-top: 1em">subscription-manager(8)</p>
<hr>
</body>
</html>
