<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>REGISTER-DS-ADMIN.PL(8) System Manager&rsquo;s Manual
REGISTER-DS-ADMIN.PL(8)</p>

<p style="margin-top: 1em">NAME <br>
register-ds-admin.pl - Registers Directory Server instances
with an Admin Server</p>

<p style="margin-top: 1em">SYNOPSIS <br>
register-ds-admin.pl [--options] -- [args]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Registers existing Directory Server instances with an
existing Admin Server. This command does the set up
necessary for the use of the Console to manage the Directory
Server <br>
instances you are registering. You can register local
Directory Server instances with a local Configuration
Directory Server/Admin Server. You can also create an Admin
Server <br>
and register standalone instances with it. You can register
remote Directory Server instances to the local Admin Server,
as well as register local Directory Server instances with
<br>
a remote Admin Server - this allows a single Console/Admin
Server to manage all the Directory Servers in your
network.</p>

<p style="margin-top: 1em">Use this command with the
--update option after an upgrade to refresh <br>
the server information (version, build number, etc.) in the
Console.</p>

<p style="margin-top: 1em">Can be run in interactive mode
with different levels of verbosity, or in silent mode with
parameters supplied in a .inf format file or on the command
line.</p>

<p style="margin-top: 1em">OPTIONS <br>
A summary of options is included below:</p>

<p style="margin-top: 1em">--help This message</p>

<p style="margin-top: 1em">--version <br>
Print the version and exit</p>

<p style="margin-top: 1em">--debug <br>
Turn on debugging</p>

<p style="margin-top: 1em">--silent <br>
Use silent setup - no user input</p>

<p style="margin-top: 1em">--file=name <br>
Use the file &rsquo;name&rsquo; in .inf format to supply the
default answers</p>

<p style="margin-top: 1em">--keepcache <br>
Do not delete the temporary .inf file generated by this
program</p>

<p style="margin-top: 1em">--logfile <br>
Log setup messages to this file - otherwise, a temp file
will be used</p>

<p style="margin-top: 1em">--update <br>
Update an existing installation (e.g. after upgrading
packages)</p>

<p style="margin-top: 1em">--continue <br>
(update only) keep going despite errors (also --force)</p>

<p style="margin-top: 1em">For all options, you can also
use the short name e.g. -h, -d, etc. For the -d argument,
specifying it more than once will increase the debug level
e.g. -ddddd</p>

<p style="margin-top: 1em">args: You can supply default
.inf data in this format:</p>

<p style="margin-top: 1em">section.param=value</p>

<p style="margin-top: 1em">e.g.</p>


<p style="margin-top: 1em">General.FullMachineName=foo.example.com</p>

<p style="margin-top: 1em">or</p>


<p style="margin-top: 1em">&quot;slapd.Suffix=dc=example,dc=com&quot;</p>

<p style="margin-top: 1em">Values passed in this manner
will override values in an .inf file given with the -f
argument.</p>

<p style="margin-top: 1em">Silent Mode (.inf file) <br>
The .inf file use three directives depending on what you
want to do: [General], [admin], and [register]. The [admin]
section is only needed if an Admin Server needs to be <br>
installed on the local system.</p>

<p style="margin-top: 1em">Here is an example of creating
an Admin Server, and turning a standalone Directory Server
instance into a configuration instance. In this case we need
the [General], [admin], <br>
and [register] directives</p>

<p style="margin-top: 1em">[General] <br>
FullMachineName= localhost.localdomain <br>
SuiteSpotUserID= dirsrv <br>
SuiteSpotGroup= dirsrv <br>
AdminDomain= redhat.com <br>
ConfigDirectoryAdminID= admin <br>
ConfigDirectoryAdminPwd= admin <br>
ConfigDirectoryLdapURL=
ldap://localhost.localdomain:389/o=NetscapeRoot</p>

<p style="margin-top: 1em">[admin] <br>
Port= 9830 <br>
ServerIpAddress= 127.0.0.1 <br>
ServerAdminID= admin <br>
ServerAdminPwd= password</p>

<p style="margin-top: 1em">[register] <br>
configinst= slapd-localhost::cn=directory
manager::password</p>

<p style="margin-top: 1em">Here is an example of an .inf
file that registers two local Directory Server instances
(slapi-replica, slapd-instance2) with the local
Configuration Directory Server (slapd- <br>
localhost).</p>

<p style="margin-top: 1em">[General] <br>
FullMachineName= localhost.localdomain <br>
SuiteSpotUserID= dirsrv <br>
SuiteSpotGroup= dirsrv <br>
AdminDomain= redhat.com <br>
ConfigDirectoryAdminID= admin <br>
ConfigDirectoryAdminPwd= admin <br>
ConfigDirectoryLdapURL=
ldap://localhost.localdomain:389/o=NetscapeRoot</p>

<p style="margin-top: 1em">[register] <br>
configinst= slapd-localhost::cn=directory manager::password
<br>
localinst= slapd-instance2::cn=directory manager::password
<br>
localinst= slapd-replica::cn=directory manager::password</p>

<p style="margin-top: 1em">This example will add the
slapd-replica instance to the local configuration server.
Then this server&rsquo;s configuration to added to the
remote configuration server on ldap.red&acirc; <br>
hat.com</p>

<p style="margin-top: 1em">[General] <br>
FullMachineName= localhost.localdomain <br>
SuiteSpotUserID= dirsrv <br>
SuiteSpotGroup= dirsrv <br>
AdminDomain= redhat.com <br>
ConfigDirectoryAdminID= admin <br>
ConfigDirectoryAdminPwd= admin <br>
ConfigDirectoryLdapURL=
ldap://localhost.localdomain:389/o=NetscapeRoot</p>

<p style="margin-top: 1em">[register] <br>
configinst= slapd-localhost::cn=directory manager::password
<br>
localinst= slapd-replica::cn=directory manager::password
<br>
localcertdir= /etc/dirsrv/slapd-localhost <br>
remotehost= ldap.redhat.com <br>
remoteport= 636 <br>
remotebinddn= cn=directory manager <br>
remotebindpw= password <br>
admindomain= redhat.com <br>
admindn=
uid=admin,ou=Administrators,ou=TopologyManagement,o=NetscapeRoot
<br>
adminpw= password <br>
destination= remote</p>

<p style="margin-top: 1em">The [register] directive
parameter descriptions:</p>

<p style="margin-top: 1em">configinst =
INSTANCE::BIND_DN::PASSWORD</p>

<p style="margin-top: 1em">INSTANCE = The server where the
existing configuration exists, or the server where you want
to add the configuration to. The value takes the form of
slapd-INSTANCE. <br>
BIND_DN = The root DN, usually &acirc;cn=directory
manager&acirc;, for the local configuration server. <br>
PASSWORD = the root DN password.</p>

<p style="margin-top: 1em">localinst =
INSTANCE::BIND_DN::PASSWORD</p>

<p style="margin-top: 1em">The parameters are the same as
&rsquo;configinst&rsquo;. This argument is required for
local registerations.</p>

<p style="margin-top: 1em">remotehost = The FQDN of the
remote server. This is either the rmeote server we <br>
registering with, or the remote server that is being
registered with the local configuration server.</p>

<p style="margin-top: 1em">remoteport = The port of the
remote server.</p>

<p style="margin-top: 1em">localcertdir = The directory of
the certificate database files (e.g. cert8.db, key3.db).
This optional parameter is only used if connecting to the
remote server over SSL.</p>

<p style="margin-top: 1em">remotebinddn = The bind DN,
preferrably the root DN, to connect to the remote
server.</p>

<p style="margin-top: 1em">remotebinddn = The password for
the remotebinddn entry.</p>

<p style="margin-top: 1em">admindomain = This is the Admin
Domain for the server that is being registered. If
registering the local server to the remote server, it would
be the domain from the local <br>
server. If registering a remote server to the local
configuration server, it would be the Admin Domain from the
remote server.</p>

<p style="margin-top: 1em">admindn = The local
administrator DN for o=netscaperoot</p>

<p style="margin-top: 1em">adminpw = The local
administrator password.</p>

<p style="margin-top: 1em">destination = local, or
remote</p>

<p style="margin-top: 1em">local = Registers the remote
server with the local configuration server. <br>
remote = Registers the local server with the remote
configuration server.</p>

<p style="margin-top: 1em">AUTHOR <br>
register-ds-admin.pl was written by the 389 Project.</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to http://bugzilla.redhat.com.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2010 Red Hat, Inc. <br>
This is free software. You may redistribute copies of it
under the terms of the Directory Server license found in the
LICENSE file of this software distribution. This license
<br>
is essentially the GNU General Public License version 2 with
an exception for plug-in distribution.</p>

<p style="margin-top: 1em">Jun 8, 2010
REGISTER-DS-ADMIN.PL(8)</p>
<hr>
</body>
</html>
