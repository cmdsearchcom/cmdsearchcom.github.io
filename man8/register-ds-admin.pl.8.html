<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>REGISTER-DS-ADMIN.PL(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">REGISTER-DS-ADMIN.PL(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">REGISTER-DS-ADMIN.PL(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
register-ds-admin.pl - Registers Directory Server instances with an Admin Server
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>register-ds-admin.pl</b> [ <i>--options</i>] <i>-- </i>[<i>args</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Registers existing Directory Server instances with an existing Admin Server.
  This command does the set up necessary for the use of the Console to manage
  the Directory Server instances you are registering. You can register local
  Directory Server instances with a local Configuration Directory Server/Admin
  Server. You can also create an Admin Server and register standalone instances
  with it. You can register remote Directory Server instances to the local Admin
  Server, as well as register local Directory Server instances with a remote
  Admin Server - this allows a single Console/Admin Server to manage all the
  Directory Servers in your network.
<div style="height: 1.00em;">&#x00A0;</div>
Use this command with the <b>--update</b> option after an upgrade to refresh
<br/>
 the server information (version, build number, etc.) in the Console.
<div style="height: 1.00em;">&#x00A0;</div>
Can be run in interactive mode with different levels of verbosity, or in silent
  mode with parameters supplied in a .inf format file or on the command line.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
A summary of options is included below:
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--help</b></b></dt>
  <dd class="It-tag">This message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--version</b></b></dt>
  <dd class="It-tag">Print the version and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--debug</b></b></dt>
  <dd class="It-tag">Turn on debugging</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--silent</b></b></dt>
  <dd class="It-tag">Use silent setup - no user input</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--file</b>=<i>name</i></b></dt>
  <dd class="It-tag">Use the file 'name' in .inf format to supply the default
      answers</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--keepcache</b></b></dt>
  <dd class="It-tag">Do not delete the temporary .inf file generated by this
      program</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--logfile</b></b></dt>
  <dd class="It-tag">Log setup messages to this file - otherwise, a temp file
      will be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--update</b></b></dt>
  <dd class="It-tag">Update an existing installation (e.g. after upgrading
      packages)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--continue</b></b></dt>
  <dd class="It-tag">(update only) keep going despite errors (also --force)</dd>
</dl>
<div class="Pp"></div>
For all options, you can also use the short name e.g. <b>-h</b>, <b>-d</b>, etc.
  For the <b>-d</b> argument, specifying it more than once will increase the
  debug level e.g. <b>-ddddd</b>
<div class="Pp"></div>
args: You can supply default .inf data in this format:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">section.param=value</dd>
</dl>
<div class="Pp"></div>
e.g.
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">General.FullMachineName=foo.example.com</dd>
</dl>
<div class="Pp"></div>
or
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&quot;slapd.Suffix=dc=example,dc=com&quot;</dd>
</dl>
<div class="Pp"></div>
Values passed in this manner will override values in an .inf file given with the
  <b>-f</b> argument.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Silent_Mode_(.inf_file)"><a class="selflink" href="#Silent_Mode_(.inf_file)">Silent
  Mode (.inf file)</a></h1>
The .inf file use three directives depending on what you want to do: [General],
  [admin], and [register]. The [admin] section is only needed if an Admin Server
  needs to be installed on the local system.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Here is an example of creating an Admin Server, and turning a standalone
  Directory Server instance into a configuration instance. In this case we need
  the [General], [admin], and [register] directives
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[General]
    <div>&#x00A0;</div>
    FullMachineName= localhost.localdomain
    <div>&#x00A0;</div>
    SuiteSpotUserID= dirsrv
    <div>&#x00A0;</div>
    SuiteSpotGroup= dirsrv
    <div>&#x00A0;</div>
    AdminDomain= redhat.com
    <div>&#x00A0;</div>
    ConfigDirectoryAdminID= admin
    <div>&#x00A0;</div>
    ConfigDirectoryAdminPwd= admin
    <div>&#x00A0;</div>
    ConfigDirectoryLdapURL= ldap://localhost.localdomain:389/o=NetscapeRoot
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
    [admin]
    <div>&#x00A0;</div>
    Port= 9830
    <div>&#x00A0;</div>
    ServerIpAddress= 127.0.0.1
    <div>&#x00A0;</div>
    ServerAdminID= admin
    <div>&#x00A0;</div>
    ServerAdminPwd= password
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
    [register]
    <div>&#x00A0;</div>
    configinst= slapd-localhost::cn=directory manager::password
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Here is an example of an .inf file that registers two local Directory Server
  instances (slapi-replica, slapd-instance2) with the local Configuration
  Directory Server (slapd-localhost).
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[General]
    <div>&#x00A0;</div>
    FullMachineName= localhost.localdomain
    <div>&#x00A0;</div>
    SuiteSpotUserID= dirsrv
    <div>&#x00A0;</div>
    SuiteSpotGroup= dirsrv
    <div>&#x00A0;</div>
    AdminDomain= redhat.com
    <div>&#x00A0;</div>
    ConfigDirectoryAdminID= admin
    <div>&#x00A0;</div>
    ConfigDirectoryAdminPwd= admin
    <div>&#x00A0;</div>
    ConfigDirectoryLdapURL= ldap://localhost.localdomain:389/o=NetscapeRoot
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
    [register]
    <div>&#x00A0;</div>
    configinst= slapd-localhost::cn=directory manager::password
    <div>&#x00A0;</div>
    localinst= slapd-instance2::cn=directory manager::password
    <div>&#x00A0;</div>
    localinst= slapd-replica::cn=directory manager::password
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
This example will add the slapd-replica instance to the local configuration
  server. Then this server's configuration to added to the remote configuration
  server on ldap.redhat.com
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    [General]
    <div>&#x00A0;</div>
    FullMachineName= localhost.localdomain
    <div>&#x00A0;</div>
    SuiteSpotUserID= dirsrv
    <div>&#x00A0;</div>
    SuiteSpotGroup= dirsrv
    <div>&#x00A0;</div>
    AdminDomain= redhat.com
    <div>&#x00A0;</div>
    ConfigDirectoryAdminID= admin
    <div>&#x00A0;</div>
    ConfigDirectoryAdminPwd= admin
    <div>&#x00A0;</div>
    ConfigDirectoryLdapURL= ldap://localhost.localdomain:389/o=NetscapeRoot
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
    [register]
    <div>&#x00A0;</div>
    configinst= slapd-localhost::cn=directory manager::password
    <div>&#x00A0;</div>
    localinst= slapd-replica::cn=directory manager::password
    <div>&#x00A0;</div>
    localcertdir= /etc/dirsrv/slapd-localhost
    <div>&#x00A0;</div>
    remotehost= ldap.redhat.com
    <div>&#x00A0;</div>
    remoteport= 636
    <div>&#x00A0;</div>
    remotebinddn= cn=directory manager
    <div>&#x00A0;</div>
    remotebindpw= password
    <div>&#x00A0;</div>
    admindomain= redhat.com
    <div>&#x00A0;</div>
    admindn= uid=admin,ou=Administrators,ou=TopologyManagement,o=NetscapeRoot
    <div>&#x00A0;</div>
    adminpw= password
    <div>&#x00A0;</div>
    destination= remote
    <div>&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The <b>[register]</b> directive parameter descriptions:
<dl class="Bl-tag">
  <dt class="It-tag"><b>configinst = INSTANCE::BIND_DN::PASSWORD</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><i>INSTANCE = The server where the existing configuration
      exists, or the server where you want</i> to add the configuration to. The
      value takes the form of slapd-INSTANCE.
    <div>&#x00A0;</div>
    <i>BIND_DN = The root DN, usually &#x201C;cn=directory manager&#x201D;, for
      the local configuration server.</i>
    <div>&#x00A0;</div>
    <i>PASSWORD = the root DN password.</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>localinst = INSTANCE::BIND_DN::PASSWORD</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The parameters are the same as 'configinst'. This argument
      is required for local registerations.
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remotehost = The FQDN of the remote server. This is
    either the rmeote server we</b></dt>
  <dd class="It-tag">registering with, or the remote server that is being
      registered with the local configuration server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remoteport = The port of the remote server.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>localcertdir = The directory of the certificate database
    files (e.g. cert8.db, key3.db). This optional parameter is only used if
    connecting to the remote server over SSL.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remotebinddn = The bind DN, preferrably the root DN, to
    connect to the remote server.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remotebinddn = The password for the remotebinddn
    entry.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>admindomain = This is the Admin Domain for the server
    that is being registered. If registering the local server to the remote
    server, it would be the domain from the local server. If registering a
    remote server to the local configuration server, it would be the Admin
    Domain from the remote server.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>admindn = The local administrator DN for
    o=netscaperoot</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>adminpw = The local administrator password.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>destination = <b>local</b>, or <b>remote</b></b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><i>local = Registers the remote server with the local
      configuration server.</i>
    <div>&#x00A0;</div>
    <i>remote = Registers the local server with the remote configuration
      server.</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
register-ds-admin.pl was written by the 389 Project.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to http://bugzilla.redhat.com.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2010 Red Hat, Inc.
<div>&#x00A0;</div>
This is free software. You may redistribute copies of it under the terms of the
  Directory Server license found in the LICENSE file of this software
  distribution. This license is essentially the GNU General Public License
  version 2 with an exception for plug-in distribution.</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 8, 2010</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
