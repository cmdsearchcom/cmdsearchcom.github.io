<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BACKUP-MANAGER-UPLOAD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BACKUP-MANAGER-UPLOAD(8)</td>
    <td class="head-vol">backup-manager-upload</td>
    <td class="head-rtitle">BACKUP-MANAGER-UPLOAD(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
backup-manager-upload - Multiprotocol uploader for backup-manager.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
backup-manager-upload [options] date
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>backup-manager-upload</b> will upload all the archives generated on the given
  date to the specified host with either ftp or scp. It's also possible to use
  this program for uploading data to an Amazon S3 account. Some metadates are
  available like &quot;today&quot; or &quot;yesterday&quot;.
<h1 class="Sh" title="Sh" id="REQUIRED_ARGS"><a class="selflink" href="#REQUIRED_ARGS">REQUIRED
  ARGS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mode=</b><i>transfer-mode</i></dt>
  <dd class="It-tag">Select the transfer mode to use : ftp, scp, or s3.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host=</b><i>hostname1,hostname2,...,hostnameN</i></dt>
  <dd class="It-tag">Select a list of remote hosts to connect to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--user=</b><i>username</i></dt>
  <dd class="It-tag">Select the user to use for connection.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONAL_ARGS"><a class="selflink" href="#OPTIONAL_ARGS">OPTIONAL
  ARGS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--password=</b><i>password</i></dt>
  <dd class="It-tag">Select the ftp user's password (only needed for ftp
      transfers).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--key=</b><i>path_to_private_key</i></dt>
  <dd class="It-tag">Select the ssh private key file to use when opening the ssh
      session for scp transfer. Obviously, this is only needed for scp transfer
      mode. If you don't specify a key file, the user's default private key will
      be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--directory=</b><i>directory</i></dt>
  <dd class="It-tag">Select the location on the remote host where files will be
      uploaded. Default is /backup/uploads.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bucket=</b><i>bucket</i></dt>
  <dd class="It-tag">Sets the bucket name for the Amazon S3 service backup
    into.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--root=</b><i>directory</i></dt>
  <dd class="It-tag">Select the local directory where files are. Default is
      /var/archives</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gpg-recipient=</b><i>gpg-recipient</i></dt>
  <dd class="It-tag">Select the gpg public key for encryptiong the archives when
      uploading with the method ssh-gpg. This can be a short or long key id or a
      descriptive name. The precise syntax is described in the gpg man
    page.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list</b></dt>
  <dd class="It-tag">Just list the files to upload.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ftp-purge</b></dt>
  <dd class="It-tag">Purge the remote directory before uploading files in FTP
      mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--s3-purge</b></dt>
  <dd class="It-tag">Purge the remote directory before uploading files in FTP
      mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssh-purge</b></dt>
  <dd class="It-tag">Purge the remote directory before uploading files in SSH
      mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Flag to enable verbose mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>date</b></dt>
  <dd class="It-tag">Date pattern to select some files to upload, can be a valid
      date (YYYYMMDD) or 'today' or 'yesterday'.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ERROR_CODES"><a class="selflink" href="#ERROR_CODES">ERROR
  CODES</a></h1>
If something goes wrong during an upload, backup-manager-upload will exit with a
  non null value. In such a case every error messages are sent to STDERR.
<div class="Pp"></div>
Here are the possible error codes:
<dl class="Bl-tag">
  <dt class="It-tag">bad command line (wrong arguments) : 10</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">FTP transfer failure : 20</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">SCP transfer failure : 21</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">S3 transfer failure : 22</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Unknown upload method: 23</dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>backup-manager</i>(3)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Alexis Sukrieh - main code and design
<div class="Pp"></div>
Brad Dixon - Amazon S3 upload method
<div class="Pp"></div>
Jan Metzger - ssh-gpg upload method</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-08-23</td>
    <td class="foot-os">perl v5.22.2</td>
  </tr>
</table>
</body>
</html>
