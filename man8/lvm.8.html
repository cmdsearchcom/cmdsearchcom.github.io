<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LVM(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LVM(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">LVM(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
lvm &#x2014; LVM2 tools
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>lvm</b> [<i>command</i>|<i>file</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
lvm provides the command-line tools for LVM2. A separate manual page describes
  each command in detail.
<div class="Pp"></div>
If <b>lvm</b> is invoked with no arguments it presents a readline prompt
  (assuming it was compiled with readline support). LVM commands may be entered
  interactively at this prompt with readline facilities including history and
  command name and option completion. Refer to <b>readline</b>(3) for details.
<div class="Pp"></div>
If <b>lvm</b> is invoked with argv[0] set to the name of a specific LVM command
  (for example by using a hard or soft link) it acts as that command.
<div class="Pp"></div>
On invocation, <b>lvm</b> requires that only the standard file descriptors
  stdin, stdout and stderr are available. If others are found, they get closed
  and messages are issued warning about the leak. This warning can be suppressed
  by setting the environment variable <b>LVM_SUPPRESS_FD_WARNINGS<b>.</b></b>
<div class="Pp"></div>
Where commands take VG or LV names as arguments, the full path name is optional.
  An LV called &quot;lvol0&quot; in a VG called &quot;vg0&quot; can be specified
  as &quot;vg0/lvol0&quot;. Where a list of VGs is required but is left empty, a
  list of all VGs will be substituted. Where a list of LVs is required but a VG
  is given, a list of all the LVs in that VG will be substituted. So
  <b>lvdisplay vg0</b> will display all the LVs in &quot;vg0&quot;. Tags can
  also be used - see <b>--addtag</b> below.
<div class="Pp"></div>
One advantage of using the built-in shell is that configuration information gets
  cached internally between commands.
<div class="Pp"></div>
A file containing a simple script with one command per line can also be given on
  the command line. The script can also be executed directly if the first line
  is #! followed by the absolute path of <b>lvm</b>.
<h1 class="Sh" title="Sh" id="BUILT-IN_COMMANDS"><a class="selflink" href="#BUILT-IN_COMMANDS">BUILT-IN
  COMMANDS</a></h1>
The following commands are built into lvm without links normally being created
  in the filesystem for them.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>config</b></dt>
  <dd class="It-tag">The same as <b>lvmconfig</b>(8) below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>devtypes</b></dt>
  <dd class="It-tag">Display the recognised built-in block device types.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumpconfig</b></dt>
  <dd class="It-tag">The same as <b>lvmconfig</b>(8) below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>formats</b></dt>
  <dd class="It-tag">Display recognised metadata formats.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fullreport</b></dt>
  <dd class="It-tag">Report information about PVs, PV segments, VGs, LVs and LV
      segments, all at once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b></dt>
  <dd class="It-tag">Display the help text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lastlog</b></dt>
  <dd class="It-tag">Display log report of last command run in LVM shell if
      command log reporting is enabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvpoll</b></dt>
  <dd class="It-tag">Complete lvmpolld operations (Internal command).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvdata</b></dt>
  <dd class="It-tag">Not implemented in LVM2.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>segtypes</b></dt>
  <dd class="It-tag">Display recognised Logical Volume segment types.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>systemid</b></dt>
  <dd class="It-tag">Display any system ID currently set on this host.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tags</b></dt>
  <dd class="It-tag">Display any tags defined on this host.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>version</b></dt>
  <dd class="It-tag">Display version information.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
The following commands implement the core LVM functionality.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvchange</b></dt>
  <dd class="It-tag">Change attributes of a Physical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvck</b></dt>
  <dd class="It-tag">Check Physical Volume metadata.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvcreate</b></dt>
  <dd class="It-tag">Initialize a disk or partition for use by LVM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvdisplay</b></dt>
  <dd class="It-tag">Display attributes of a Physical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvmove</b></dt>
  <dd class="It-tag">Move Physical Extents.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvremove</b></dt>
  <dd class="It-tag">Remove a Physical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvresize</b></dt>
  <dd class="It-tag">Resize a disk or partition in use by LVM2.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvs</b></dt>
  <dd class="It-tag">Report information about Physical Volumes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pvscan</b></dt>
  <dd class="It-tag">Scan all disks for Physical Volumes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgcfgbackup</b></dt>
  <dd class="It-tag">Backup Volume Group descriptor area.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgcfgrestore</b></dt>
  <dd class="It-tag">Restore Volume Group descriptor area.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgchange</b></dt>
  <dd class="It-tag">Change attributes of a Volume Group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgck</b></dt>
  <dd class="It-tag">Check Volume Group metadata.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgconvert</b></dt>
  <dd class="It-tag">Convert Volume Group metadata format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgcreate</b></dt>
  <dd class="It-tag">Create a Volume Group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgdisplay</b></dt>
  <dd class="It-tag">Display attributes of Volume Groups.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgexport</b></dt>
  <dd class="It-tag">Make volume Groups unknown to the system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgextend</b></dt>
  <dd class="It-tag">Add Physical Volumes to a Volume Group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgimport</b></dt>
  <dd class="It-tag">Make exported Volume Groups known to the system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgimportclone</b></dt>
  <dd class="It-tag">Import and rename duplicated Volume Group (e.g. a hardware
      snapshot).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgmerge</b></dt>
  <dd class="It-tag">Merge two Volume Groups.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgmknodes</b></dt>
  <dd class="It-tag">Recreate Volume Group directory and Logical Volume special
      files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgreduce</b></dt>
  <dd class="It-tag">Reduce a Volume Group by removing one or more Physical
      Volumes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgremove</b></dt>
  <dd class="It-tag">Remove a Volume Group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgrename</b></dt>
  <dd class="It-tag">Rename a Volume Group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgs</b></dt>
  <dd class="It-tag">Report information about Volume Groups.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgscan</b></dt>
  <dd class="It-tag">Scan all disks for Volume Groups and rebuild caches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vgsplit</b></dt>
  <dd class="It-tag">Split a Volume Group into two, moving any logical volumes
      from one Volume Group to another by moving entire Physical Volumes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvchange</b></dt>
  <dd class="It-tag">Change attributes of a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvconvert</b></dt>
  <dd class="It-tag">Convert a Logical Volume from linear to mirror or
    snapshot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvcreate</b></dt>
  <dd class="It-tag">Create a Logical Volume in an existing Volume Group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvdisplay</b></dt>
  <dd class="It-tag">Display attributes of a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvextend</b></dt>
  <dd class="It-tag">Extend the size of a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvmchange</b></dt>
  <dd class="It-tag">Change attributes of the Logical Volume Manager.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvmconfig</b></dt>
  <dd class="It-tag">Display the configuration information after loading
      <b>lvm.conf</b>(5) and any other configuration files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvmdiskscan</b></dt>
  <dd class="It-tag">Scan for all devices visible to LVM2.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvmdump</b></dt>
  <dd class="It-tag">Create lvm2 information dumps for diagnostic purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvreduce</b></dt>
  <dd class="It-tag">Reduce the size of a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvremove</b></dt>
  <dd class="It-tag">Remove a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvrename</b></dt>
  <dd class="It-tag">Rename a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvresize</b></dt>
  <dd class="It-tag">Resize a Logical Volume.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvs</b></dt>
  <dd class="It-tag">Report information about Logical Volumes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lvscan</b></dt>
  <dd class="It-tag">Scan (all disks) for Logical Volumes.</dd>
</dl>
<div class="Pp"></div>
The following commands are not implemented in LVM2 but might be in the future:
  <b>lvmsadc</b>, <b>lvmsar</b>, <b>pvdata</b>.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The following options are available for many of the commands. They are
  implemented generically and documented here rather than repeated on individual
  manual pages.
<div class="Pp"></div>
Additional hyphens within option names are ignored. For example,
  <b>--readonly</b> and <b>--read-only</b> are both accepted.
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-h</b>|<b>-?</b>|<b>--help</b>
<div>&#x00A0;</div>
Display the help text.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--version</b>
<div>&#x00A0;</div>
Display version information.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-v</b>|<b>--verbose</b>
<div>&#x00A0;</div>
Set verbose level. Repeat from 1 to 3 times to increase the detail of messages
  sent to stdout and stderr. Overrides config file setting.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-d</b>|<b>--debug</b>
<div>&#x00A0;</div>
Set debug level. Repeat from 1 to 6 times to increase the detail of messages
  sent to the log file and/or syslog (if configured). Overrides config file
  setting.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-q</b>|<b>--quiet</b>
<div>&#x00A0;</div>
Suppress output and log messages. Overrides <b>-d</b> and <b>-v</b>. Repeat once
  to also suppress any prompts with answer 'no'.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--yes</b>
<div>&#x00A0;</div>
Don't prompt for confirmation interactively but instead always assume the answer
  is 'yes'. Take great care if you use this!</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-t</b>|<b>--test</b>
<div>&#x00A0;</div>
Run in test mode. Commands will not update metadata. This is implemented by
  disabling all metadata writing but nevertheless returning success to the
  calling function. This may lead to unusual error messages in multi-stage
  operations if a tool relies on reading back metadata it believes has changed
  but hasn't.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--driverloaded</b>
  {<b>y</b>|<b>n</b>}
<div>&#x00A0;</div>
Whether or not the device-mapper kernel driver is loaded. If you set this to
  <b>n</b>, no attempt will be made to contact the driver.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-A</b>|<b>--autobackup</b>
  {<b>y</b>|<b>n</b>}
<div>&#x00A0;</div>
Whether or not to metadata should be backed up automatically after a change. You
  are strongly advised not to disable this! See <b>vgcfgbackup</b>(8).</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-P</b>|<b>--partial</b>
<div>&#x00A0;</div>
When set, the tools will do their best to provide access to Volume Groups that
  are only partially available (one or more Physical Volumes belonging to the
  Volume Group are missing from the system). Where part of a logical volume is
  missing, <i>/dev/ioerror</i> will be substituted, and you could use
  <b>dmsetup</b>(8) to set this up to return I/O errors when accessed, or create
  it as a large block device of nulls. Metadata may not be changed with this
  option. To insert a replacement Physical Volume of the same or large size use
  <b>pvcreate -u</b> to set the uuid to match the original followed by
  <b>vgcfgrestore</b>(8).</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-S</b>|<b>--select</b>
  <i>Selection</i>
<div>&#x00A0;</div>
For reporting commands, display only rows that match <i>Selection</i> criteria.
  All rows are displayed with the additional &quot;selected&quot; column ( <b>-o
  selected</b>) showing 1 if the row matches the <i>Selection</i> and 0
  otherwise. For non-reporting commands which process LVM entities, the
  selection can be used to match items to process. See <b>SELECTION CRITERIA</b>
  section of this man page for more information about the way the selection
  criteria are constructed.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-M</b>|<b>--metadatatype</b>
  <i>Type</i>
<div>&#x00A0;</div>
Specifies which <i>type</i> of on-disk metadata to use, such as <b>lvm1</b> or
  <b>lvm2</b>, which can be abbreviated to <b>1</b> or <b>2</b> respectively.
  The default ( <b>lvm2</b>) can be changed by setting <b>format</b> in the
  <b>global</b> section of the config file <b>lvm.conf</b>(5).</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ignorelockingfailure</b>
<div>&#x00A0;</div>
This lets you proceed with read-only metadata operations such as <b>lvchange
  -ay</b> and <b>vgchange -ay</b> even if the locking module fails. One use for
  this is in a system init script if the lock directory is mounted read-only
  when the script runs.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ignoreskippedcluster</b>
<div>&#x00A0;</div>
Use to avoid exiting with an non-zero status code if the command is run without
  clustered locking and some clustered Volume Groups have to be skipped
  over.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--readonly</b>
<div>&#x00A0;</div>
Run the command in a special read-only mode which will read on-disk metadata
  without needing to take any locks. This can be used to peek inside metadata
  used by a virtual machine image while the virtual machine is running. It can
  also be used to peek inside the metadata of clustered Volume Groups when
  clustered locking is not configured or running. No attempt will be made to
  communicate with the device-mapper kernel driver, so this option is unable to
  report whether or not Logical Volumes are actually in use.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--foreign</b>
<div>&#x00A0;</div>
Cause the command to access foreign VGs, that would otherwise be skipped. It can
  be used to report or display a VG that is owned by another host. This option
  can cause a command to perform poorly because lvmetad caching is not used and
  metadata is read from disks.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--shared</b>
<div>&#x00A0;</div>
Cause the command to access shared VGs, that would otherwise be skipped when
  lvmlockd is not being used. It can be used to report or display a lockd VG
  without locking. Applicable only if LVM is compiled with lockd support.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--addtag</b>
  <i>Tag</i>
<div>&#x00A0;</div>
Add the tag <i>Tag</i> to a PV, VG or LV. Supply this argument multiple times to
  add more than one tag at once. A tag is a word that can be used to group LVM2
  objects of the same type together. Tags can be given on the command line in
  place of PV, VG or LV arguments. Tags should be prefixed with @ to avoid
  ambiguity. Each tag is expanded by replacing it with all objects possessing
  that tag which are of the type expected by its position on the command line.
  PVs can only possess tags while they are part of a Volume Group: PV tags are
  discarded if the PV is removed from the VG. As an example, you could tag some
  LVs as <b>database</b> and others as <b>userdata</b> and then activate the
  database ones with <b>lvchange -ay @database</b>. Objects can possess multiple
  tags simultaneously. Only the new LVM2 metadata format supports tagging:
  objects using the LVM1 metadata format cannot be tagged because the on-disk
  format does not support it. Characters allowed in tags are: <b>A</b>-<b>Z</b>
  <b>a</b>-<b>z</b> <b>0</b>-<b>9</b> <b>_ + . -</b> and as of version 2.02.78
  the following characters are also accepted: <b>/ = ! : # &amp;</b>.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--deltag</b>
  <i>Tag</i>
<div>&#x00A0;</div>
Delete the tag <i>Tag</i> from a PV, VG or LV, if it's present. Supply this
  argument multiple times to remove more than one tag at once.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--alloc</b>
  {<b>anywhere</b>|<b>contiguous</b>|<b>cling</b>|<b>inherit</b>|<b>normal</b>}
<div>&#x00A0;</div>
Selects the allocation policy when a command needs to allocate Physical Extents
  from the Volume Group. Each Volume Group and Logical Volume has an allocation
  policy defined. The default for a Volume Group is <b>normal</b> which applies
  common-sense rules such as not placing parallel stripes on the same Physical
  Volume. The default for a Logical Volume is <b>inherit</b> which applies the
  same policy as for the Volume Group. These policies can be changed using
  <b>lvchange</b>(8) and <b>vgchange</b>(8) or overridden on the command line of
  any command that performs allocation. The <b>contiguous</b> policy requires
  that new Physical Extents be placed adjacent to existing Physical Extents. The
  <b>cling</b> policy places new Physical Extents on the same Physical Volume as
  existing Physical Extents in the same stripe of the Logical Volume. If there
  are sufficient free Physical Extents to satisfy an allocation request but
  <b>normal</b> doesn't use them, <b>anywhere</b> will - even if that reduces
  performance by placing two stripes on the same Physical Volume.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--commandprofile</b>
  <i>ProfileName</i>
<div>&#x00A0;</div>
Selects the command configuration profile to use when processing an LVM command.
  See also <b>lvm.conf</b>(5) for more information about <b>command profile
  config</b> and the way it fits with other LVM configuration methods. Using
  <b>--commandprofile</b> option overrides any command profile specified via
  <b>LVM_COMMAND_PROFILE</b> environment variable.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--metadataprofile</b>
  <i>ProfileName</i>
<div>&#x00A0;</div>
Selects the metadata configuration profile to use when processing an LVM
  command. When using metadata profile during Volume Group or Logical Volume
  creation, the metadata profile name is saved in metadata. When such Volume
  Group or Logical Volume is processed next time, the metadata profile is
  automatically applied and the use of <b>--metadataprofile</b> option is not
  necessary. See also <b>lvm.conf</b>(5) for more information about <b>metadata
  profile config</b> and the way it fits with other LVM configuration
  methods.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--profile</b>
  <i>ProfileName</i>
<div>&#x00A0;</div>
A short form of <b>--metadataprofile</b> for <b>vgcreate</b>, <b>lvcreate</b>,
  <b>vgchange</b> and <b>lvchange</b> command and a short form of
  <b>--commandprofile</b> for any other command (with the exception of
  <b>lvmconfig</b> command where the <b>--profile</b> has special meaning, see
  <b>lvmconfig</b>(8) for more information).</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--reportformat</b>
  <i>{basic|json}</i>
<div>&#x00A0;</div>
Overrides current output format for reports which is defined globally by
  <b>report/output_format</b> configuration setting in <b>lvm.conf</b>(5). The
  <b>basic</b> format is the original format with columns and rows and if there
  is more than one report per command, each report is prefixed with report's
  name for identification. The <b>json</b> stands for report output in JSON
  format.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--config</b>
  <i>ConfigurationString</i>
<div>&#x00A0;</div>
Uses the ConfigurationString as direct string representation of the
  configuration to override the existing configuration. The ConfigurationString
  is of exactly the same format as used in any LVM configuration file. See
  <b>lvm.conf</b>(5) for more information about <b>direct config override on
  command line</b> and the way it fits with other LVM configuration
  methods.</div>
<h1 class="Sh" title="Sh" id="VALID_NAMES"><a class="selflink" href="#VALID_NAMES">VALID
  NAMES</a></h1>
The valid characters for VG and LV names are: <b>a</b>-<b>z</b>
  <b>A</b>-<b>Z</b> <b>0</b>-<b>9</b> <b>+ _ . -</b>
<div class="Pp"></div>
VG names cannot begin with a hyphen. The name of a new LV also cannot begin with
  a hyphen. However, if the configuration setting
  <b>metadata/record_lvs_history</b> is enabled then an LV name with a hyphen as
  a prefix indicates that, although the LV was removed, it is still being
  tracked because it forms part of the history of at least one LV that is still
  present. This helps to record the ancestry of thin snapshots even after some
  links in the chain have been removed. A reference to the historical LV 'lvol1'
  in VG 'vg00' would be 'vg00/-lvol1' or just '-lvol1' if the VG is already set.
  (The latter form must be preceded by '--' to terminate command line option
  processing before reaching this argument.)
<div class="Pp"></div>
There are also various reserved names that are used internally by lvm that can
  not be used as LV or VG names. A VG cannot be called anything that exists in
  <i>/dev/</i> at the time of creation, nor can it be called '.' or '..'. An LV
  cannot be called '.', '..', 'snapshot' or 'pvmove'. The LV name may also not
  contain any of the following strings: '_cdata', '_cmeta', '_corig', '_mlog',
  '_mimage', '_pmspare', '_rimage', '_rmeta', '_tdata', '_tmeta' or '_vorigin'.
  A directory bearing the name of each Volume Group is created under <i>/dev</i>
  when any of its Logical Volumes are activated. Each active Logical Volume is
  accessible from this directory as a symbolic link leading to a device node.
  Links or nodes in <i>/dev/mapper</i> are intended only for internal use and
  the precise format and escaping might change between releases and
  distributions. Other software and scripts should use the
  <i>/dev/VolumeGroupName/LogicalVolumeName</i> format to reduce the chance of
  needing amendment when the software is updated. Should you need to process the
  node names in /dev/mapper, you may use <b>dmsetup splitname</b> to separate
  out the original VG, LV and internal layer names.
<h1 class="Sh" title="Sh" id="UNIQUE_NAMES"><a class="selflink" href="#UNIQUE_NAMES">UNIQUE
  NAMES</a></h1>
VG names should be unique. vgcreate will produce an error if the specified VG
  name matches an existing VG name. However, there are cases where different VGs
  with the same name can appear to LVM, e.g. after moving disks or changing
  filters.
<div style="height: 1.00em;">&#x00A0;</div>
When VGs with the same name exist, commands operating on all VGs will include
  all of the VGs with the same name. If the ambiguous VG name is specified on
  the command line, the command will produce an error. The error states that
  multiple VGs exist with the specified name. To process one of the VGs
  specifically, the --select option should be used with the UUID of the intended
  VG: '--select vg_uuid=&lt;uuid&gt;'.
<div style="height: 1.00em;">&#x00A0;</div>
An exception is if all but one of the VGs with the shared name is foreign (see
  <b>lvmsystemid</b>(7).) In this case, the one VG that is not foreign is
  assumed to be the intended VG and is processed.
<div class="Pp"></div>
LV names are unique within a VG. The name of an historical LV cannot be reused
  until the historical LV has itself been removed or renamed.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ALLOCATION"><a class="selflink" href="#ALLOCATION">ALLOCATION</a></h1>
When an operation needs to allocate Physical Extents for one or more Logical
  Volumes, the tools proceed as follows:
<div style="height: 1.00em;">&#x00A0;</div>
First of all, they generate the complete set of unallocated Physical Extents in
  the Volume Group. If any ranges of Physical Extents are supplied at the end of
  the command line, only unallocated Physical Extents within those ranges on the
  specified Physical Volumes are considered.
<div style="height: 1.00em;">&#x00A0;</div>
Then they try each allocation policy in turn, starting with the strictest policy
  ( <b>contiguous</b>) and ending with the allocation policy specified using
  <b>--alloc</b> or set as the default for the particular Logical Volume or
  Volume Group concerned. For each policy, working from the lowest-numbered
  Logical Extent of the empty Logical Volume space that needs to be filled, they
  allocate as much space as possible according to the restrictions imposed by
  the policy. If more space is needed, they move on to the next policy.
<div style="height: 1.00em;">&#x00A0;</div>
The restrictions are as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<b>Contiguous</b> requires that the physical location of any Logical Extent that
  is not the first Logical Extent of a Logical Volume is adjacent to the
  physical location of the Logical Extent immediately preceding it.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Cling</b> requires that the Physical Volume used for any Logical Extent to be
  added to an existing Logical Volume is already in use by at least one Logical
  Extent earlier in that Logical Volume. If the configuration parameter
  <b>allocation/cling_tag_list</b> is defined, then two Physical Volumes are
  considered to match if any of the listed tags is present on both Physical
  Volumes. This allows groups of Physical Volumes with similar properties (such
  as their physical location) to be tagged and treated as equivalent for
  allocation purposes.
<div style="height: 1.00em;">&#x00A0;</div>
When a Logical Volume is striped or mirrored, the above restrictions are applied
  independently to each stripe or mirror image (leg) that needs space.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Normal</b> will not choose a Physical Extent that shares the same Physical
  Volume as a Logical Extent already allocated to a parallel Logical Volume
  (i.e. a different stripe or mirror image/leg) at the same offset within that
  parallel Logical Volume.
<div style="height: 1.00em;">&#x00A0;</div>
When allocating a mirror log at the same time as Logical Volumes to hold the
  mirror data, Normal will first try to select different Physical Volumes for
  the log and the data. If that's not possible and the
  <b>allocation/mirror_logs_require_separate_pvs</b> configuration parameter is
  set to 0, it will then allow the log to share Physical Volume(s) with part of
  the data.
<div style="height: 1.00em;">&#x00A0;</div>
When allocating thin pool metadata, similar considerations to those of a mirror
  log in the last paragraph apply based on the value of the
  <b>allocation/thin_pool_metadata_require_separate_pvs</b> configuration
  parameter.
<div style="height: 1.00em;">&#x00A0;</div>
If you rely upon any layout behaviour beyond that documented here, be aware that
  it might change in future versions of the code.
<div style="height: 1.00em;">&#x00A0;</div>
For example, if you supply on the command line two empty Physical Volumes that
  have an identical number of free Physical Extents available for allocation,
  the current code considers using each of them in the order they are listed,
  but there is no guarantee that future releases will maintain that property. If
  it is important to obtain a specific layout for a particular Logical Volume,
  then you should build it up through a sequence of <b>lvcreate</b>(8) and
  <b>lvconvert</b>(8) steps such that the restrictions described above applied
  to each step leave the tools no discretion over the layout.
<div style="height: 1.00em;">&#x00A0;</div>
To view the way the allocation process currently works in any specific case,
  read the debug logging output, for example by adding <b>-vvvv</b> to a
  command.
<h1 class="Sh" title="Sh" id="LOGICAL_VOLUME_TYPES"><a class="selflink" href="#LOGICAL_VOLUME_TYPES">LOGICAL
  VOLUME TYPES</a></h1>
Some logical volume types are simple to create and can be done with a single
  <b>lvcreate</b>(8) command. The linear and striped logical volume types are an
  example of this. Other logical volume types may require more than one command
  to create. The cache ( <b>lvmcache</b>(7)) and thin provisioning (
  <b>lvmthin</b>(7)) types are examples of this.
<h1 class="Sh" title="Sh" id="SELECTION_CRITERIA"><a class="selflink" href="#SELECTION_CRITERIA">SELECTION
  CRITERIA</a></h1>
The selection criteria are a set of <b>statements</b> combined by <b>logical</b>
  <b>and grouping operators</b>. The <b>statement</b> consists of <b>column</b>
  name for which a set of valid <b>values</b> is defined using <b>comparison
  operators</b>. For complete list of column names (fields) that can be used in
  selection, see the output of <b>&lt;lvm reporting command&gt; -S help</b>.
<h2 class="Ss" title="Ss" id="Comparison_operators_(cmp_op)"><a class="selflink" href="#Comparison_operators_(cmp_op)">Comparison
  operators (cmp_op)</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>=~</b></dt>
  <dd class="It-tag">Matching regular expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>!~</b></dt>
  <dd class="It-tag">Not matching regular expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>=</b></dt>
  <dd class="It-tag">Equal to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>!=</b></dt>
  <dd class="It-tag">Not equal to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;=</b></dt>
  <dd class="It-tag">Greater than or equal to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;</b></dt>
  <dd class="It-tag">Greater than</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;=</b></dt>
  <dd class="It-tag">Less than or equal to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;</b></dt>
  <dd class="It-tag">Less than.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Binary_logical_operators_(cmp_log)"><a class="selflink" href="#Binary_logical_operators_(cmp_log)">Binary
  logical operators (cmp_log)</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&amp;</b></dt>
  <dd class="It-tag">All fields must match</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>,</b></dt>
  <dd class="It-tag">All fields must match</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>||</b></dt>
  <dd class="It-tag">At least one field must match</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>#</b></dt>
  <dd class="It-tag">At least one field must match</dd>
</dl>
<h2 class="Ss" title="Ss" id="Unary_logical_operators"><a class="selflink" href="#Unary_logical_operators">Unary
  logical operators</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>!</b></dt>
  <dd class="It-tag">Logical negation</dd>
</dl>
<h2 class="Ss" title="Ss" id="Grouping_operators"><a class="selflink" href="#Grouping_operators">Grouping
  operators</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(</b></dt>
  <dd class="It-tag">Left parenthesis</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>)</b></dt>
  <dd class="It-tag">Right parenthesis</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>[</b></dt>
  <dd class="It-tag">List start</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>]</b></dt>
  <dd class="It-tag">List end</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{</b></dt>
  <dd class="It-tag">List subset start</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>}</b></dt>
  <dd class="It-tag">List subset end</dd>
</dl>
<h2 class="Ss" title="Ss" id="Informal_grammar_specification"><a class="selflink" href="#Informal_grammar_specification">Informal
  grammar specification</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>STATEMENT</b>
  = <b>column</b> cmp_op <b>VALUE</b> | <b>STATEMENT</b> log_op <b>STATEMENT</b>
  | <b>(STATEMENT)</b> | <b>!(STATEMENT)</b>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>VALUE</b>
  = <b>[VALUE</b> log_op <b>VALUE]</b>
<div>&#x00A0;</div>
For list-based types: string list. Matches strictly. The log_op must always be
  of one type within the whole list value.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>VALUE</b>
  = <b>{VALUE</b> log_op <b>VALUE}</b>
<div>&#x00A0;</div>
For list-based types: string list. Matches a subset. The log_op must always be
  of one type within the whole list value.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>VALUE</b>
  = <b>value</b>
<div>&#x00A0;</div>
For scalar types: number (integer), size (floating point number with size unit
  suffix), percent (floating point number with or without % suffix),
  string.</div>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
All tools return a status code of zero on success or non-zero on failure. The
  non-zero codes distinguish only between the broad categories of unrecognised
  commands, problems processing the command line arguments and any other
  failures. As LVM remains under active development, the code used in a specific
  case occasionally changes between releases. Message text may also change.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>HOME</b></dt>
  <dd class="It-tag">Directory containing <i>.lvm_history</i> if the internal
      readline shell is invoked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_OUT_FD</b></dt>
  <dd class="It-tag">File descriptor to use for common output from LVM
    commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_ERR_FD</b></dt>
  <dd class="It-tag">File descriptor to use for error output from LVM
    commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_REPORT_FD</b></dt>
  <dd class="It-tag">File descriptor to use for report output from LVM
    commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_COMMAND_PROFILE</b></dt>
  <dd class="It-tag">Name of default command profile to use for LVM commands.
      This profile is overriden by direct use of <b>--commandprofile</b> command
      line option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_SYSTEM_DIR</b></dt>
  <dd class="It-tag">Directory containing <b>lvm.conf</b>(5) and other LVM
      system files. Defaults to &quot; <i>/etc/lvm</i>&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_SUPPRESS_FD_WARNINGS</b></dt>
  <dd class="It-tag">Suppress warnings about unexpected file descriptors passed
      into LVM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_VG_NAME</b></dt>
  <dd class="It-tag">The Volume Group name that is assumed for any reference to
      a Logical Volume that doesn't specify a path. Not set by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_LVMETAD_PIDFILE</b></dt>
  <dd class="It-tag">Path to the file that stores the lvmetad process ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_LVMETAD_SOCKET</b></dt>
  <dd class="It-tag">Path to the socket used to communicate with lvmetad.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_LVMPOLLD_PIDFILE</b></dt>
  <dd class="It-tag">Path to the file that stores the lvmpolld process ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_LVMPOLLD_SOCKET</b></dt>
  <dd class="It-tag">Path to the socket used to communicate with lvmpolld..</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_LOG_FILE_EPOCH</b></dt>
  <dd class="It-tag">A string of up to 32 letters appended to the log filename
      and followed by the process ID and a startup timestamp using this format
      string &quot;_%s_%d_%llu&quot;. When set, each process logs to a separate
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_LOG_FILE_MAX_LINES</b></dt>
  <dd class="It-tag">If more than this number of lines are sent to the log file,
      the command gets aborted. Automated tests use this to terminate looping
      commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_EXPECTED_EXIT_STATUS</b></dt>
  <dd class="It-tag">The status anticipated when the process exits. Use
      &quot;&gt;N&quot; to match any status greater than N. If the actual exit
      status matches and a log file got produced, it is deleted.
      <b>LVM_LOG_FILE_EPOCH</b> and <b>LVM_EXPECTED_EXIT_STATUS</b> together
      allow automated test scripts to discard uninteresting log data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LVM_SUPPRESS_LOCKING_FAILURE_MESSAGES</b></dt>
  <dd class="It-tag">Used to suppress warning messages when the configured
      locking is known to be unavailable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DM_ABORT_ON_INTERNAL_ERRORS</b></dt>
  <dd class="It-tag">Abort processing if the code detects a non-fatal internal
      error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DM_DISABLE_UDEV</b></dt>
  <dd class="It-tag">Avoid interaction with udev. LVM will manage the relevant
      nodes in /dev directly.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/etc/lvm/lvm.conf</i>
<div>&#x00A0;</div>
<i>$HOME/.lvm_history</i>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>lvm.conf</b>(5), <b>lvmcache</b>(7), <b>lvmthin</b>(7), <b>clvmd</b>(8),
  <b>dmsetup</b>(8), <b>lvchange</b>(8), <b>lvcreate</b>(8),
  <b>lvdisplay</b>(8), <b>lvextend</b>(8), <b>lvmchange</b>(8),
  <b>lvmconfig</b>(8), <b>lvmdiskscan</b>(8), <b>lvreduce</b>(8),
  <b>lvremove</b>(8), <b>lvrename</b>(8), <b>lvresize</b>(8), <b>lvs</b>(8),
  <b>lvscan</b>(8), <b>pvchange</b>(8), <b>pvck</b>(8), <b>pvcreate</b>(8),
  <b>pvdisplay</b>(8), <b>pvmove</b>(8), <b>pvremove</b>(8), <b>pvs</b>(8),
  <b>pvscan</b>(8), <b>vgcfgbackup</b>(8), <b>vgchange</b>(8), <b>vgck</b>(8),
  <b>vgconvert</b>(8), <b>vgcreate</b>(8), <b>vgdisplay</b>(8),
  <b>vgextend</b>(8), <b>vgimport</b>(8), <b>vgimportclone</b>(8),
  <b>vgmerge</b>(8), <b>vgmknodes</b>(8), <b>vgreduce</b>(8),
  <b>vgremove</b>(8), <b>vgrename</b>(8), <b>vgs</b>(8), <b>vgscan</b>(8),
  <b>vgsplit</b>(8), <b>readline</b>(3)</div>
<table class="foot">
  <tr>
    <td class="foot-date">LVM TOOLS 2.02.166(2)-RHEL7 (2016-11-16)</td>
    <td class="foot-os">Sistina Software UK</td>
  </tr>
</table>
</body>
</html>
