<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:23 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>IPSEC_BARF(8) Executable programs IPSEC_BARF(8)</p>

<p style="margin-top: 1em">NAME <br>
ipsec_barf - spew out collected IPsec debugging
information</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ipsec barf [--short --maxlines &lt;100&gt;]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Barf outputs (on standard output) a collection of debugging
information (contents of files, selections from logs, etc.)
related to the IPsec encryption/authentication system. It
<br>
is primarily a convenience for remote debugging, a single
command which packages up (and labels) all information that
might be relevant to diagnosing a problem in IPsec.</p>

<p style="margin-top: 1em">The --short option limits the
length of the log portion of barf&rsquo;s output, which can
otherwise be extremely voluminous if debug logging is turned
on.</p>

<p style="margin-top: 1em">--maxlines &lt;100&gt; option
sets the length of some bits of information, currently
netstat -rn. Useful on boxes where the routing table is
thousands of lines long. Default is 100.</p>

<p style="margin-top: 1em">On systems with systemd, ipsec
barf will look for logs using the journalctl command.</p>

<p style="margin-top: 1em">If the logfile= option is used,
logs will also not be found by the ipsec barf command.</p>

<p style="margin-top: 1em">Barf censors its output,
replacing keys and secrets with brief checksums to avoid
revealing sensitive information.</p>

<p style="margin-top: 1em">Beware that the output of both
commands is aimed at humans, not programs, and the output
format is subject to change without warning.</p>

<p style="margin-top: 1em">Barf has to figure out which
files in /var/log contain the IPsec log messages. It looks
for KLIPS and general log messages first in messages and
syslog, and for Pluto messages <br>
first in secure, auth.log, and debug. In both cases, if it
does not find what it is looking for in one of those
&acirc;likely&acirc; places, it will resort to a brute-force
search of most <br>
(non-compressed) files in /var/log.</p>

<p style="margin-top: 1em">FILES <br>
/proc/net/* <br>
/var/log/* <br>
/etc/ipsec.conf <br>
/etc/ipsec.secrets</p>

<p style="margin-top: 1em">HISTORY <br>
Written for the Linux FreeS/WAN project
&lt;http://www.freeswan.org&gt; by Henry Spencer.</p>

<p style="margin-top: 1em">BUGS <br>
Barf uses heuristics to try to pick relevant material out of
the logs, and relevant messages which are not labelled with
any of the tags that barf looks for will be lost. We <br>
think we&rsquo;ve eliminated the last such case, but one
never knows...</p>

<p style="margin-top: 1em">Finding updown scripts (so they
can be included in output) is, in general, difficult. Barf
uses a very simple heuristic that is easily fooled.</p>

<p style="margin-top: 1em">The brute-force search for the
right log files can get expensive on systems with a lot of
clutter in /var/log.</p>

<p style="margin-top: 1em">AUTHOR <br>
Paul Wouters <br>
placeholder to suppress warning</p>

<p style="margin-top: 1em">libreswan 11/12/2016
IPSEC_BARF(8)</p>
<hr>
</body>
</html>
