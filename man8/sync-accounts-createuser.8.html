<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SYNC-ACCOUNTS-CREATEUSER(8) chiark utilities
SYNC-ACCOUNTS-CREATEUSER(8)</p>

<p style="margin-top: 1em">NAME <br>
sync-accounts-createuser - helper/hook program for
sync-accounts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
SYNCUSER_CREATE_var=value... sync-accounts-createuser</p>

<p style="margin-top: 1em">DESCRIPTION <br>
sync-accounts-createuser is invoked by sync-accounts when
sync-accounts is creating a local account.</p>

<p style="margin-top: 1em">It must perform all of the tasks
involved with local account creation except for the actual
changes to the password, shadow and group databases.</p>

<p style="margin-top: 1em">At the very minimum, it must
create the new account&rsquo;s home directory (with
appropriate permissions). The supplied
sync-accounts-createuser script does exactly that.</p>

<p style="margin-top: 1em">It may also suggest to
sync-accounts modifications to the new account&rsquo;s
passwd entry.</p>

<p style="margin-top: 1em">INVOCATION <br>
When sync-accounts-createuser is invoked, the passwd and
group entries will not yet have been set up, so it may not
rely on them. sync-accounts-createuser will not be supplied
<br>
with any arguments. However, the following environment
variables will be set, giving details about the account to
be created: <br>
SYNCUSER_CREATE_USER <br>
SYNCUSER_CREATE_UID <br>
SYNCUSER_CREATE_GID <br>
SYNCUSER_CREATE_COMMENT <br>
SYNCUSER_CREATE_HOME <br>
SYNCUSER_CREATE_SHELL</p>

<p style="margin-top: 1em">RESULTS <br>
sync-accounts-createuser should usually produce no
output.</p>

<p style="margin-top: 1em">It can inhibit the creation of
the user by outputting a single line not containing a colon;
in this case, a diagnostic message will be written to
sync-accounts&rsquo;s logfile, and the <br>
user will be skipped.</p>

<p style="margin-top: 1em">Alternatively, it may write out
an alternative password file entry, in which case
sync-accounts will use the supplied data for the local
passwd file instead of that from the <br>
remote host. The line should be in Sys-V passwd file format
(regardless of localformat or remoteformat settings). The
username field should be taken from SYNCUSER_CREATE_USER,
<br>
and the password field should be x.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
0 All went well, or we wrote a line without a colon to say
that the account should not be created.</p>

<p style="margin-top: 1em">any other <br>
There were serious problems and sync-accounts should bomb
out immediately.</p>

<p style="margin-top: 1em">FILES <br>
None.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
See above.</p>

<p style="margin-top: 1em">BUGS <br>
The supplied sync-accounts-createuser does not check that it
was not supplied with any arguments; nor does it check that
the SYNCUSER_CREATE_* variables are set, or have sensible
<br>
values.</p>

<p style="margin-top: 1em">AUTHOR <br>
sync-accounts-createuser and this manpage were written by
Ian Jackson &lt;ian@chiark.greenend.org.uk&gt;. They are
Copyright 1999-2002 Ian Jackson
&lt;ian@davenant.greenend.org.uk&gt;. <br>
This manpage forms part of the sync-accounts package.</p>

<p style="margin-top: 1em">sync-accounts-createuser and the
sync-accounts package are free software; you can
redistribute it and/or modify it under the terms of the GNU
General Public License as published <br>
by the Free Software Foundation; either version 3, or (at
your option) any later version.</p>

<p style="margin-top: 1em">This is distributed in the hope
that it will be useful, but WITHOUT ANY WARRANTY; without
even the implied warranty of MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE. See <br>
the GNU General Public License for more details.</p>

<p style="margin-top: 1em">You should have received a copy
of the GNU General Public License along with this program;
if not, consult the Free Software Foundation&rsquo;s website
at www.fsf.org, or the GNU <br>
Project website at www.gnu.org.</p>

<p style="margin-top: 1em">SEE ALSO <br>
sync-accounts(8), sync-accounts(5), passwd(5)</p>

<p style="margin-top: 1em">Greenend 14th July 2002
SYNC-ACCOUNTS-CREATEUSER(8)</p>
<hr>
</body>
</html>
