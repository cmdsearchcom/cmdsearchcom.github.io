<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pure-ftpd(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pure-ftpd(8)</td>
    <td class="head-vol">Pure-FTPd</td>
    <td class="head-rtitle">pure-ftpd(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pure-ftpd - simple File Transfer Protocol server
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pure-ftpd [-0] [-1] [-2] [-4] [-6] [-a gid] [-A] [-b] [-B] [-c clients] [-C
  cnx/ip] [-d [-d]] [-D] [-e] [-E] [-f facility] [-F fortunes file] [-g pidfile]
  [-G] [-H] [-i] [-I] [-j] [-J ciphers] [-k percentage] [-K] [-l
  authentication[:config file]] [-L max files:max depth] [-m maxload] [-M] [-n
  maxfiles:maxsize] [-N] [-o] [-O format:log file] [-p first:last] [-P ip
  address or host name] [-q upload:download ratio] [-Q upload:download ratio]
  [-r] [-R] [-s] [-S [address,][port]] [-t upload bandwidth:download bandwidth]
  [-T upload bandwidth:download bandwidth] [-u uid] [-U umask files:umask dirs]
  [-v bonjour name] [-V ip address] [-w] [-W] [-x] [-X] [-y max user
  sessions:max anon sessions] [-Y tls behavior] [-z] [-Z]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
Alternative style :
<div>&#x00A0;</div>
-0 --notruncate
<div>&#x00A0;</div>
-1 --logpid
<div>&#x00A0;</div>
-2 --certfile
<div>&#x00A0;</div>
-4 --ipv4only
<div>&#x00A0;</div>
-6 --ipv6only
<div>&#x00A0;</div>
-a --trustedgid
<div>&#x00A0;</div>
-A --chrooteveryone
<div>&#x00A0;</div>
-b --brokenclientscompatibility
<div>&#x00A0;</div>
-B --daemonize
<div>&#x00A0;</div>
-c --maxclientsnumber
<div>&#x00A0;</div>
-C --maxclientsperip
<div>&#x00A0;</div>
-d --verboselog
<div>&#x00A0;</div>
-D --displaydotfiles
<div>&#x00A0;</div>
-e --anonymousonly
<div>&#x00A0;</div>
-E --noanonymous
<div>&#x00A0;</div>
-f --syslogfacility
<div>&#x00A0;</div>
-F --fortunesfile
<div>&#x00A0;</div>
-g --pidfile
<div>&#x00A0;</div>
-G --norename
<div>&#x00A0;</div>
-h --help
<div>&#x00A0;</div>
-H --dontresolve
<div>&#x00A0;</div>
-i --anonymouscantupload
<div>&#x00A0;</div>
-I --maxidletime
<div>&#x00A0;</div>
-j --createhomedir
<div>&#x00A0;</div>
-J --tlsciphersuite
<div>&#x00A0;</div>
-k --maxdiskusagepct
<div>&#x00A0;</div>
-K --keepallfiles
<div>&#x00A0;</div>
-l --login
<div>&#x00A0;</div>
-L --limitrecursion
<div>&#x00A0;</div>
-m --maxload
<div>&#x00A0;</div>
-M --anonymouscancreatedirs
<div>&#x00A0;</div>
-n --quota
<div>&#x00A0;</div>
-N --natmode
<div>&#x00A0;</div>
-o --uploadscript
<div>&#x00A0;</div>
-O --altlog
<div>&#x00A0;</div>
-p --passiveportrange
<div>&#x00A0;</div>
-P --forcepassiveip
<div>&#x00A0;</div>
-q --anonymousratio
<div>&#x00A0;</div>
-Q --userratio
<div>&#x00A0;</div>
-r --autorename
<div>&#x00A0;</div>
-R --nochmod
<div>&#x00A0;</div>
-s --antiwarez
<div>&#x00A0;</div>
-S --bind
<div>&#x00A0;</div>
-t --anonymousbandwidth
<div>&#x00A0;</div>
-T --userbandwidth
<div>&#x00A0;</div>
-u --minuid
<div>&#x00A0;</div>
-U --umask
<div>&#x00A0;</div>
-v --bonjour
<div>&#x00A0;</div>
-V --trustedip
<div>&#x00A0;</div>
-w --allowuserfxp
<div>&#x00A0;</div>
-W --allowanonymousfxp
<div>&#x00A0;</div>
-x --prohibitdotfileswrite
<div>&#x00A0;</div>
-X --prohibitdotfilesread
<div>&#x00A0;</div>
-y --peruserlimits
<div>&#x00A0;</div>
-Y --tls
<div>&#x00A0;</div>
-z --allowdotfiles
<div>&#x00A0;</div>
-Z --customerproof
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Pure-FTPd</b> is a small, simple server for the old and hairy File Transfer
  Protocol, designed to use less resources than older servers, be smaller and
  very secure, and to never execute any external program.
<div class="Pp"></div>
It support most-used features and commands of FTP (including many modern
  extensions), and leaves out everything which is deprecated, meaningless,
  insecure, or correlates with trouble.
<div class="Pp"></div>
IPv6 is fully supported.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-0</b></dt>
  <dd class="It-tag">When a file is uploaded and there is already a previous
      version of the file with the same name, the old file will neither get
      removed nor truncated. Upload will take place in a temporary file and once
      the upload is complete, the switch to the new version will be atomic. This
      option should not be used together with virtual quotas.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-1</b></dt>
  <dd class="It-tag">Add the PID to the syslog output. Ignored if <b>-f</b>
      <b>none</b> is set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-2 file</b></dt>
  <dd class="It-tag">When using TLS, set the path to the certificate file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-4</b></dt>
  <dd class="It-tag">Listen only to IPv4 connections.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-6</b></dt>
  <dd class="It-tag">Listen only to IPv6 connections.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a gid</b></dt>
  <dd class="It-tag">Regular users will be chrooted to their home directories,
      unless they belong to the specified gid. Note that root is always trusted,
      and that chroot() occurs only for anonymous ftp without this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b></dt>
  <dd class="It-tag">Chroot() everyone, but root.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">Be broken. Turns on some compatibility hacks for shoddy
      clients, and for broken Netfilter gateways.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b></dt>
  <dd class="It-tag">Start the standalone server in background (daemonize).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c clients</b></dt>
  <dd class="It-tag">Allow a maximum of <i>clients</i> to be connected.
      <i>clients</i> must be at least 1, and if you combine it with <b>-p</b> it
      will be forced down to half the number of ports specified by <b>-p.</b> If
      more than <i>clients</i> are connected, new clients are rejected at once,
      even clients wishing to upload, or to log in as normal users. Therefore,
      it is advisable to use <b>-m</b> as primary overload protection. The
      default value is 50.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C max connection per ip</b></dt>
  <dd class="It-tag">Limit the number of simultanous connections coming from the
      same IP address. This is yet another very effective way to prevent stupid
      denial of services and bandwidth starvation by a single user. It works
      only when the server is launched in standalone mode (if you use a
      super-server, it is supposed to do that). If the server is launched with
      <b>-C 2</b> , it doesn't mean that the total number of connection is
      limited to 2. But the same client, coming from the same machine (or at
      least the same IP), can't have more than two simultaneous connections.
      This features needs some memory to track IP addresses, but it's
      recommended to use it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">turns on debug logging. Every command is logged, except
      that the argument to PASS is changed to &quot;&lt;password&gt;&quot;. If
      you repeat <b>-d</b> , responses too are logged.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Only allow anonymous users to log in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b></dt>
  <dd class="It-tag">Only allow authenticated login. Anonymous users are
      prohibited.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f facility</b></dt>
  <dd class="It-tag">makes ftpd use <i>facility</i> for all <b>syslog</b>(3)
      messages. <i>facility</i> defaults to <b>ftp</b>. The facility names are
      normally listed in <i>/usr/include/sys/syslog.h</i>. Note that if
      <b>-f</b> is not the first option on the command line, a couple of
      messages may be logged to local2 before the <b>-f</b> option is parsed.
      Use <b>-f none</b> to disable logging.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F fortunes file</b></dt>
  <dd class="It-tag">Display a funny random message in the initial login banner.
      The random cookies are extracted from a text file, in the standard
      <b>fortune</b> format. If you installed the <b>fortune</b> package, you
      should have a directory (usually <b>/usr/share/fortune</b> ) with binary
      files ( <b>xxxx.dat</b> ) and text files (without the <b>.dat</b>
      extension).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g pidfile</b></dt>
  <dd class="It-tag">In standalone mode, write the pid to that file in instead
      of /var/run/pure-ftpd.pid .</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b></dt>
  <dd class="It-tag">When this option is enabled, people can no more change the
      name of already uploaded files, even if they own those files or their
      directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b></dt>
  <dd class="It-tag">Don't resolve host names (&quot;192.0.34.166&quot; will be
      logged instead of &quot;www.example.com&quot;). It can significantly speed
      up connections and reduce bandwidth usage on busy servers. Use it
      especially on public FTP sites.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">Disallow upload for anonymous users, whatever directory
      permissions are. This option is especially useful for virtual hosting, to
      avoid your users create warez sites in their account.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I timeout</b></dt>
  <dd class="It-tag">Change the maximum idle time. The timeout is in minutes,
      and defaults to 15.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j</b></dt>
  <dd class="It-tag">If the home directory of a user doesn't exist,
      automatically create it. The newly created home directory belongs to the
      user, and permissions are set according to the current directory mask. To
      avoid local attacks, the parent directory should never belong to an
      untrusted user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-J ciphers</b></dt>
  <dd class="It-tag">Set the list of ciphers that will be accepted for SSL/TLS
      connections.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k percentage</b></dt>
  <dd class="It-tag">Disallow upload if the partition is more than
      <b>percentage</b> full. Example: -k 95 will ensure that your disk will
      never get filled more than 95% by FTP users.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b></dt>
  <dd class="It-tag">Allow users to resume and upload files, but NOT to delete
      them. Directories can be removed, but only if they are empty.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l authentication:file</b></dt>
  <dd class="It-tag">Enable a new authentication method. It can be one of :
      <i>-l unix</i> For standard (/etc/passwd) authentication. <i>-l pam</i>
      For PAM authentication. <i>-l ldap:LDAP config file</i> For LDAP
      directories. <i>-l mysql:MySQL config file</i> For MySQL databases. <i>-l
      pgsql:Postgres config file</i> For Postgres databases. <i>-l puredb:PureDB
      database file</i> For PureDB databases. <i>-l extauth:path to pure-authd
      socket</i> For external authentication handlers.
    <div>&#x00A0;</div>
    Different authentication methods can be mixed together. For instance if you
      run the server with <i>-lpuredb:/etc/pure-ftpd/pwd.pdb
      -lmysql:/etc/pure-ftpd/my.cf -lunix</i> Accounts will first be
      authenticated from a PureDB database. If it fails, a MySQL server will be
      asked. If the account is still not found is the database, standard unix
      accounts will be scanned. Authentication methods are tried in the order
      you give the -l options, if you do not give -l, then the decision comes
      from configure, if PAM is built in, it is used, if not, then UNIX
      (/etc/passwd) is used by default.
    <div>&#x00A0;</div>
    See the <i>README.LDAP</i> and <i>README.MySQL</i> files for info about the
      built-in LDAP and SQL directory support.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L max files:max depth</b></dt>
  <dd class="It-tag">Avoid denial-of-service attacks by limiting the number of
      displayed files in a 'ls' and the maximum depth of a recursive 'ls'.
      Defaults are 2000:5 (2000 files displayed for a single 'ls' and walk
      through 5 subdirectories max).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m load</b></dt>
  <dd class="It-tag">Do not allow anonymous users to download files if the load
      is above <i>load</i> when the user connects. Uploads and file listings are
      still allowed, as are downloads by real users. The user is not told about
      this until he/she tries to download a file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b></dt>
  <dd class="It-tag">Allow anonymous users to create directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n maxfiles:maxsize</b></dt>
  <dd class="It-tag">Enable <b>virtual quotas</b> When virtual quotas are
      enabled, .ftpquota files are created, and the number of files for a user
      is restricted to 'maxfiles'. The max total size of his directory is also
      restricted to 'maxsize' Megabytes. Members of the trusted group aren't
      subject to quotas.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b></dt>
  <dd class="It-tag">NAT mode. Force <b>active</b> mode. If your FTP server is
      behind a NAT box that doesn't support applicative FTP proxying, or if you
      use port redirection without a transparent FTP proxy, use this. Well...
      the previous sentence isn't very clear. Okay: if your network looks like
      this:
    <div>&#x00A0;</div>
    FTP--NAT.gateway/router--Internet
    <div>&#x00A0;</div>
    and if you want people coming from the internet to have access to your FTP
      server, please try without this option first. If Netscape clients can
      connect without any problem, your NAT gateway rulez. If Netscape doesn't
      display directory listings, your NAT gateway sucks. Use <b>-N</b> as a
      workaround.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">Enable <i>pure-uploadscript</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O format:log file</b></dt>
  <dd class="It-tag">Record all file transfers into a specific log file, in an
      alternative format. Currently, three formats are supported : CLF, Stats,
      W3C and xferlog.
    <div>&#x00A0;</div>
    If you add
    <div>&#x00A0;</div>
     <b>-O clf:/var/log/pureftpd.log</b>
    <div>&#x00A0;</div>
    to your starting options, Pure-FTPd will log transfers in
      <b>/var/log/pureftpd.log</b> in a format similar to the Apache web server
      in default configuration.
    <div>&#x00A0;</div>
    If you add
    <div>&#x00A0;</div>
     <b>-O stats:/var/log/pureftpd.log</b>
    <div>&#x00A0;</div>
    to your starting options, Pure-FTPd will create accurate log files designed
      for traffic analys software like ftpStats.
    <div>&#x00A0;</div>
    If you add
    <div>&#x00A0;</div>
     <b>-O w3c:/var/log/pureftpd.log</b>
    <div>&#x00A0;</div>
    to your starting options, Pure-FTPd will create W3C-conformant log files.
    <div>&#x00A0;</div>
    For security purposes, the path must be absolute (eg.
      <b>/var/log/pureftpd.log</b>, not <b> ../log/pureftpd.log</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p first:last</b></dt>
  <dd class="It-tag">Use only ports in the range <i>first</i> to <i>last</i>
      inclusive for passive-mode downloads. This means that clients will not try
      to open connections to TCP ports outside the range <i>first - last</i>,
      which makes pure-ftpd more compatible with packet filters. Note that the
      maximum number of clients (specified with <b>-c</b>) is forced down to
      <i>(last + 1 - first)/2</i> if it is greater, as the default is. (The
      syntax for the port range is, conveniently, the same as that of
      <b>iptables).</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P ip address or host name</b></dt>
  <dd class="It-tag">Force the specified IP address in reply to a
      <b>PASV/EPSV/SPSV</b> command. If the server is behind a masquerading
      (NAT) box that doesn't properly handle stateful FTP masquerading, put the
      ip address of that box here. If you have a dynamic IP address, you can use
      a symbolic host name (probably the one of your gateway), that will be
      resolved every time a new client will connect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q upload:download</b></dt>
  <dd class="It-tag">Enable an upload/download ratio for anonymous users (ex:
      <i>-q 1:5</i> means that 1 Mb of goodies have to be uploaded to leech 5
      Mb).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q upload:download</b></dt>
  <dd class="It-tag">Enable ratios for anonymous and non-anonymous users. If the
      <i>-a</i> option is also used, users from the trusted group have no
    ratio.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Never overwrite existing files. Uploading a file whose name
      already exists cause an automatic rename. Files are called xyz.1, xyz.2,
      xyz.3, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b></dt>
  <dd class="It-tag">Disallow users (even non-anonymous ones) usage of the CHMOD
      command. On hosting services, it may prevent newbies from doing mistakes,
      like setting bad permissions on their home directory. Only root can use
      CHMOD when this switch is enabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">Don't allow anonymous users to retrieve files owned by
      &quot;ftp&quot; (generally, files uploaded by other anonymous users).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S [{ip address|hostname}] [,{port|service
    name}]</b></dt>
  <dd class="It-tag">This option is only effective when the server is launched
      as a standalone server. Connections are accepted on the specified IP and
      port. IPv4 and IPv6 are supported. Numeric and fully-qualified host names
      are accepted. A service name (see /etc/services) can be used instead of a
      numeric port number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t bandwidth</b></dt>
  <dd class="It-tag">or <b>-t upload bandwidth:download bandwidth</b> Enable
      process priority lowering and bandwidth throttling for anonymous users.
      Delay should be in kilobytes/seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T bandwidth</b></dt>
  <dd class="It-tag">or <b>-T upload bandwidth:download bandwidth</b> Enable
      process priority lowering and bandwidth throttling for *ALL* users.
      Pure-FTPd should have been explicitely compiled with throttling support to
      have these flags work. It is possible to have different bandwidth limits
      for uploads and for downloads. '-t' and '-T' can indeed be followed by two
      numbers delimited by a column (':'). The first number is the upload
      bandwidth and the next one applies only to downloads. One of them can be
      left blank which means infinity. A single number without any column means
      that the same limit applies to upload and download.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u uid</b></dt>
  <dd class="It-tag">Do not allow uids below <i>uid</i> to log in (typically,
      low-numbered <i>uid</i>s are used for administrative accounts). <b>-u
      100</b> is sufficient to deny access to all administrative accounts on
      many linux boxes, where 99 is the last administrative account. Anonymous
      FTP is allowed even if the uid of the ftp user is smaller than <i>uid</i>.
      <b>-u 1</b> denies access only to root accounts. The default is to allow
      FTP access to all accounts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U umask files:umask dirs</b></dt>
  <dd class="It-tag">Change the mask for creation of new files and directories.
      The default are 133 (files are readable -but not writable- by other users)
      and 022 (same thing for directory, with the execute bit on). If new files
      should only be readable by the user, use 177:077. If you want uploaded
      files to be executable, use 022:022 (files will be readable by other
      people) or 077:077 (files will only be readable by their owner).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v bonjour name</b></dt>
  <dd class="It-tag">Set the Bonjour name of the service (only available on
      MacOS X when Bonjour support is compiled in).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V ip address</b></dt>
  <dd class="It-tag">Allow non-anonymous FTP access only on this specific local
      IP address. All other IP addresses are only anonymous. With that option,
      you can have routed IPs for public access, and a local IP (like 10.x.x.x)
      for administration. You can also have a routable trusted IP protected by
      firewall rules, and only that IP can be used to login as a non-anonymous
      user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">Enable support for the FXP protocol, for non-anonymous
      users only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b></dt>
  <dd class="It-tag">Enable the FXP protocol for everyone. <i>FXP IS AN UNSECURE
      PROTOCOL. NEVER ENABLE IT ON UNTRUSTED NETWORKS.</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">In normal operation mode, authenticated users can
      read/write files beginning with a dot ('.'). Anonymous users can't, for
      security reasons (like changing banners or a forgotten .rhosts). When '-x'
      is used, authenticated users can download dot-files, but not
      overwrite/create them, even if they own them. That way, you can prevent
      hosted users from messing .qmail files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b></dt>
  <dd class="It-tag">This flag is identical to the previous one (writing
      dot-files is prohibited), but in addition, users can't even *read* files
      and directories beginning with a dot (like &quot;cd .ssh&quot;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y per user max sessions:max anonymous sessions</b></dt>
  <dd class="It-tag">This switch enables per-user concurrency limits. Two values
      are separated by a column. The first one is the max number of concurrent
      sessions for a single login. The second one is the maximum number of
      anonoymous sessions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Y tls behavior</b></dt>
  <dd class="It-tag"><b>-Y 0</b> (default) disables SSL/TLS security mechanisms.
    <div>&#x00A0;</div>
     <b>-Y 1</b> Accept both normal sessions and SSL/TLS ones.
    <div>&#x00A0;</div>
     <b>-Y 2</b> refuses connections that aren't using SSL/TLS security
      mechanisms, including anonymous ones.
    <div>&#x00A0;</div>
     <b>-Y 3</b> refuses connections that aren't using SSL/TLS security
      mechanisms, and refuse cleartext data channels as well.
    <div>&#x00A0;</div>
    The server must have been compiled with SSL/TLS support and a valid
      certificate must be in place to accept encrypted sessions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">Allow anonymous users to read files and directories
      starting with a dot ('.').</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z</b></dt>
  <dd class="It-tag">Add safe guards against common customer mistakes (like
      chmod 0 on their own files) .
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHENTICATION"><a class="selflink" href="#AUTHENTICATION">AUTHENTICATION</a></h1>
Some of the complexities of older servers are left out.
<div class="Pp"></div>
This version of pure-ftpd can use PAM for authentication. If you wan't it to
  consult any files like /etc/shells or /etc/ftpd/ftpusers consult pam docs.
  LDAP directories and SQL databases are also supported.
<div class="Pp"></div>
Anonymous users are authenticated in any of three ways:
<div class="Pp"></div>
1. The user logs in as &quot;ftp&quot; or &quot;anonymous&quot; and there is an
  account called &quot;ftp&quot; with an existing home directory. This server
  does not ask anonymous users for an email address or other password.
<div class="Pp"></div>
2. The user connects to an IP address which resolves to the name of a directory
  in <i>/etc/pure-ftpd/pure-ftpd</i> (or a symlink in that directory to a real
  directory), and there is an account called &quot;ftp&quot; (which does not
  need to have a valid home directory). See <b>Virtual Servers</b> below.
<div class="Pp"></div>
<b>Ftpd</b> does a <b>chroot</b>(2) to the relevant base directory when an
  anonymous user logs in.
<div class="Pp"></div>
Note that <b>ftpd</b> allows remote users to log in as root if the password is
  known and -u not used.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="UNUSUAL_FEATURES"><a class="selflink" href="#UNUSUAL_FEATURES">UNUSUAL
  FEATURES</a></h1>
If a user's home directory is <b>/path/to/home/./</b>, FTP sessions under that
  UID will be chroot()ed. In addition, if a users's home directory is
  <b>/path/to/home/./directory</b> the session will be chroot()ed to
  /path/to/home and the FTP session will start in 'directory'.
<div class="Pp"></div>
As noted above, this <b>pure-ftpd</b> omits several features that are required
  by the RFC or might be considered useful at first. Here is a list of the most
  important omissions.
<div class="Pp"></div>
On-the-fly tar is not supported, for several reasons. I feel that users who want
  to get many files should use a special FTP client such as &quot;mirror,&quot;
  which also supports incremental fetch. I don't want to either add several
  hundred lines of code to create tar files or execute an external tar. Finally,
  on-the-fly tar distorts log files.
<div class="Pp"></div>
On-the-fly compression is left out too. Most files on an FTP site are compressed
  already, and if a file isn't, there presumably is a reason why. (As for
  decompression: Don't FTP users waste bandwidth enough without help from
  on-the-fly decompression?)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DIRECTORY_ALIASES"><a class="selflink" href="#DIRECTORY_ALIASES">DIRECTORY
  ALIASES</a></h1>
Shortcuts for the &quot;cd&quot; command can be set up if the server has been
  compiled with the --with-diraliases feature.
<div class="Pp"></div>
To enable directory aliases, create a file called
  <i>/etc/pure-ftpd/pureftpd-dir-aliases</i> and alternate lines of alias names
  and associated directories.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ANONYMOUS_FTP"><a class="selflink" href="#ANONYMOUS_FTP">ANONYMOUS
  FTP</a></h1>
This server leaves out some of the commands and features that have been used to
  subvert anonymous FTP servers in the past, but still you have to be a little
  bit careful in order to support anonymous FTP without risk to the rest of your
  files.
<div class="Pp"></div>
Make <i>~ftp</i> and all files and directories below this directory owned by
  some user other than &quot;ftp,&quot; and only the <i>.../incoming</i>
  directory/directories writable by &quot;ftp.&quot; It is probably best if all
  directories are writable only by a special group such as &quot;ftpadmin&quot;
  and &quot;ftp&quot; is not a member of this group.
<div class="Pp"></div>
If you do not trust the local users, put <i>~ftp</i> on a separate partition, so
  local users can't hard-link unapproved files into the anonymous FTP area.
<div class="Pp"></div>
Use of the <b>-s</b> option is strongly suggested. (Simply add &quot;-s&quot; to
  the end of the <b>ftpd</b> line in <i>/etc/inetd.conf</i> to enable it.)
<div class="Pp"></div>
Most other FTP servers require that a number of files such as <i>~ftp/bin/ls</i>
  exist. This server does not require that any files or directories within
  <i>~/ftp</i> whatsoever exist, and I recommend that all such unnecessary files
  are removed (for no real reason).
<div class="Pp"></div>
It may be worth considering to run the anonymous FTP service as a virtual
  server, to get automatic logins and to firewall off the FTP address/port to
  which real users can log in.
<div class="Pp"></div>
If your server is a public FTP site, you may want to allow only 'ftp' and
  'anonymous' users to log in. Use the <b>-e</b> option for this. Real accounts
  will be ignored and you will get a secure, anonymous-only FTP server.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="MAGIC_FILES"><a class="selflink" href="#MAGIC_FILES">MAGIC
  FILES</a></h1>
The files <i>&lt;ftproot&gt;/.banner</i> and <i>.message</i> are magical.
<div class="Pp"></div>
If there is a file called <i>.banner</i> in the root directory of the anonymous
  FTP area, or in the root directory of a virtual host, and it is shorter than
  1024 bytes, it is printed upon login. (If the client does not log in
  explicitly, and an implicit login is triggered by a CWD or CDUP command, the
  banner is not printed. This is regrettable but hard to avoid.)
<div class="Pp"></div>
If there is a file called <i>.message</i> in any directory and it is shorter
  than 1024 bytes, that file is printed whenever a user enters that directory
  using CWD or CDUP.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="VIRTUAL_SERVERS"><a class="selflink" href="#VIRTUAL_SERVERS">VIRTUAL
  SERVERS</a></h1>
You can run several different anonymous FTP servers on one host, by giving the
  host several IP addresses with different DNS names.
<div class="Pp"></div>
Here are the steps needed to create an extra server using an IP alias on linux
  2.4.x, called &quot;ftp.example.com&quot; on address 10.11.12.13. on the IP
  alias eth0.
<div class="Pp"></div>
1. Create an &quot;ftp&quot; account if you do not have one. It it best if the
  account does not have a valid home directory and shell. I prefer to make
  <i>/dev/null</i> the ftp account's home directory and shell. <b>Ftpd</b> uses
  this account to set the anonymous users' uid.
<div class="Pp"></div>
2. Create a directory as described in <b>Anonymous FTP</b> and make a symlink
  called <i>/etc/pure-ftpd/pure-ftpd/10.11.12.13</i> which points to this
  directory.
<div class="Pp"></div>
3. Make sure your kernel has support for IP aliases.
<div class="Pp"></div>
4. Make sure that the following commands are run at boot:
<div class="Pp"></div>
<br/>
/sbin/ifconfig eth0:1 10.11.12.13
<div class="Pp"></div>
That should be all. If you have problems, here are some things to try.
<div class="Pp"></div>
First, symlink <i>/etc/pure-ftpd/pure-ftpd/127.0.0.1</i> to some directory and
  say &quot;ftp localhost&quot;. If that doesn't log you in, the problem is with
  <b>ftpd.</b>
<div class="Pp"></div>
If not, &quot;ping -v 10.11.12.13&quot; and/or &quot;ping -v
  ftp.example.com&quot; from the same host. If this does not work, the problem
  is with the IP alias.
<div class="Pp"></div>
Next, try &quot;ping -v 10.11.12.13&quot; from a host on the local ethernet, and
  afterwards &quot;/sbin/arp -a&quot;. If 10.11.12.13 is listed among the ARP
  entries with the correct hardware address, the problem is probably with the IP
  alias. If 10.11.12.13 is listed, but has hardware address 0:0:0:0:0:0, then
  proxy-ARP isn't working.
<div class="Pp"></div>
If none of that helps, I'm stumped. Good luck.
<div class="Pp"></div>
<b>Warning:</b> If you setup a virtual hosts, normal users will not be able to
  login via this name, so <b>don't</b> create link/directory in
  <i>/etc/pure-ftpd/pure-ftpd</i> for your regular hostname.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/etc/passwd</i> is used via libc (and PAM is this case), to get the uid and
  home directory of normal users, the uid and home directory of &quot;ftp&quot;
  for normal anonymous ftp, and just the uid of &quot;ftp&quot; for virtual ftp
  hosts.
<div class="Pp"></div>
<i>/etc/shadow</i> is used like <i>/etc/passwd</i> if shadow support is enabled.
<div class="Pp"></div>
<i>/etc/group</i> is used via libc, to get the group membership of normal users.
<div class="Pp"></div>
<i>/proc/net/tcp</i> is used to count existing FTP connections, if the <b>-c</b>
  or <b>-p</b> options are used
<div class="Pp"></div>
<i>/etc/pure-ftpd/pure-ftpd/&lt;ip address&gt;</i> is the base directory for the
  &lt;ip address&gt; virtual ftp server, or a symbolic link to its base
  directory. <b>Ftpd</b> does a <b>chroot</b>(2) into this directory when a user
  logs in to &lt;ip address&gt;, thus symlinks outside this directory will not
  work.
<div class="Pp"></div>
<i>~ftp</i> is the base directory for &quot;normal&quot; anonymous FTP.
  <b>Ftpd</b> does a <b>chroot</b>(2) into this directory when an anonymous user
  logs in, thus symlinks outside this directory will not work.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LS"><a class="selflink" href="#LS">LS</a></h1>
The behaviour of LIST and NLST is a tricky issue. Few servers send RFC-compliant
  responses to LIST, and some clients depend on non-compliant responses.
<div class="Pp"></div>
This server uses <b>glob</b>(3) to do filename globbing.
<div class="Pp"></div>
The response to NLST is by default similar to that of <b>ls</b>(1), and that to
  LIST is by default similar to that of <b>ls -l</b> or <b>ls -lg</b> on most
  Unix systems, except that the &quot;total&quot; count is meaningless. Only
  regular files, directories and symlinks are shown. Only important <b>ls</b>
  options are supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-1</b></dt>
  <dd class="It-tag">Undoes <b>-l</b> and <b>-C</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">lists even files/directories whose names begin with
      &quot;.&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b></dt>
  <dd class="It-tag">lists files in as many colums as will fit on the screen.
      Undoes <b>-1</b> and <b>-l</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">lists argument directories' names rather their
    contents.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">List files beginning with a dot ('.') even when the client
      doesn't append the <b>-a</b> option to the <b>list</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">appends '*' to executable regular files, '@' to symlinks
      and '/' to directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">shows various details about the file, including file group.
      See <b>ls</b>(1) for details. Undoes <b>-1</b> and <b>-C</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">reverses the sorting order (modifies <b>-S</b> and
      <b>-t</b> and the default alphabetical ordering).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b></dt>
  <dd class="It-tag">recursively descends into subdirectories of the argument
      directories.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b></dt>
  <dd class="It-tag">Sorts by file size instead of by name. Undoes
    <b>-t</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Sorts by file modification time instead of by name. Undoes
      <b>-S</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="PROTOCOL"><a class="selflink" href="#PROTOCOL">PROTOCOL</a></h1>
Here are the FTP commands supported by this server.
<div>&#x00A0;</div>
<b>ABOR</b> <b>ALLO</b> <b>APPE</b> <b>AUTH TLS</b> <b>CCC</b> <b>CDUP</b>
  <b>CWD</b> <b>DELE</b> <b>EPRT</b> <b>EPSV</b> <b>ESTA</b> <b>ESTP</b>
  <b>FEAT</b> <b>HELP</b> <b>LIST</b> <b>MDTM</b> <b>MFMT</b> <b>MKD</b>
  <b>MLSD</b> <b>MLST</b> <b>MODE</b> <b>NLST</b> <b>NOOP</b> <b>PASS</b>
  <b>PASV</b> <b>PBSZ</b> <b>PORT</b> <b>PROT</b> <b>PWD</b> <b>QUIT</b>
  <b>REST</b> <b>RETR</b> <b>RMD</b> <b>RNFR</b> <b>RNTO</b> <b>SIZE</b>
  <b>SPSV</b> <b>STAT</b> <b>STOR</b> <b>STOU</b> <b>STRU</b> <b>SYST</b>
  <b>TYPE</b> <b>USER</b> <b>XCUP</b> <b>XCWD</b> <b>XDBG</b> <b>XMKD</b>
  <b>XPWD</b> <b>XRMD</b> <b>OPTS MLST</b> <b>OPTS UTF8</b> <b>SITE CHMOD</b>
  <b>SITE HELP</b> <b>SITE IDLE</b> <b>SITE TIME</b> <b>SITE UTIME</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report bugs to the mailing-list (see below). Pure-FTPd looks very stable
  and is used on production servers. However it comes with no warranty and it
  can have nasty bugs or security flaws.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HOME_PAGE"><a class="selflink" href="#HOME_PAGE">HOME
  PAGE</a></h1>
http://www.pureftpd.org/
<h1 class="Sh" title="Sh" id="NEW_VERSIONS"><a class="selflink" href="#NEW_VERSIONS">NEW
  VERSIONS</a></h1>
See the mailing-list on <b>http://www.pureftpd.org/ml/</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR_AND_LICENSE"><a class="selflink" href="#AUTHOR_AND_LICENSE">AUTHOR
  AND LICENSE</a></h1>
Troll-FTPd was written by Arnt Gulbrandsen &lt;agulbra@troll.no&gt; and
  copyright 1995-2002 Troll Tech AS, Waldemar Thranes gate 98B, N-0175 Oslo,
  Norway, fax +47 22806380.
<div class="Pp"></div>
Pure-FTPd is (C)opyleft 2001-2015 by Frank DENIS &lt;j at pureftpd dot org&gt;
  and the Pure-FTPd team.
<div class="Pp"></div>
This software is covered by the BSD license.
<div class="Pp"></div>
Contributors:
<div>&#x00A0;</div>
<br/>
 Arnt Gulbrandsen,
<br/>
 Troll Tech AS,
<br/>
 Janos Farkas,
<br/>
 August Fullford,
<br/>
 Ximenes Zalteca,
<br/>
 Patrick Michael Kane,
<br/>
 Arkadiusz Miskiewicz,
<br/>
 Michael K. Johnson,
<br/>
 Kelley Lingerfelt,
<br/>
 Sebastian Andersson,
<br/>
 Andreas Westin,
<br/>
 Jason Lunz,
<br/>
 Mathias Gumz,
<br/>
 Claudiu Costin,
<br/>
 Ping,
<br/>
 Paul Lasarev,
<br/>
 Jean-Mathieux Schaffhauser,
<br/>
 Emmanuel Hocdet,
<br/>
 Sami Koskinen,
<br/>
 Sami Farin,
<br/>
 Luis Llorente Campo,
<br/>
 Peter Pentchev,
<br/>
 Darren Casey,
<br/>
 The Regents of the University of California,
<br/>
 Theo de Raadt (OpenBSD),
<br/>
 Matthias Andree,
<br/>
 Isak Lyberth,
<br/>
 Steve Reid,
<br/>
 RSA Data Security Inc,
<br/>
 Trilucid,
<br/>
 Dmtry Lebkov,
<br/>
 Johan Huisman,
<br/>
 Thorsten Kukuk,
<br/>
 Jan van Veen,
<br/>
 Roger Constantin Demetrescu,
<br/>
 Stefano F.,
<br/>
 Robert Varga,
<br/>
 Freeman,
<br/>
 James Metcalf,
<br/>
 Im Eunjea,
<br/>
 Philip Gladstone,
<br/>
 Kenneth Stailey,
<br/>
 Brad Smith,
<br/>
 Ulrik Sartipy,
<br/>
 Cindy Marasco,
<br/>
 Nicolas Doye,
<br/>
 Thomas Briggs,
<br/>
 Stanton Gallegos,
<br/>
 Florin Andrei,
<br/>
 Chan Wilson,
<br/>
 Bjoern Metzdorf,
<br/>
 Ben Gertzfield,
<br/>
 Akhilesch Mritunjai,
<br/>
 Dawid Szymanski,
<br/>
 Kurt Inge Smadal,
<br/>
 Alex Dupre,
<br/>
 Gabriele Vinci,
<br/>
 Andrey Ulanov,
<br/>
 Fygul Hether,
<br/>
 Jeffrey Lim,
<br/>
 Ying-Chieh Liao,
<br/>
 Johannes Erdfelt,
<br/>
 Martin Sarfy,
<br/>
 Clive Goodhead,
<br/>
 Aristoteles Pagaltzis,
<br/>
 Stefan Hornburg,
<br/>
 Mehmet Cokcevik,
<br/>
 Brynjar Eide,
<br/>
 Torgnt Wernersson,
<br/>
 Banhalmi Csaba,
<br/>
 Volodin D,
<br/>
 Oriol Magran&#x00E9;,
<br/>
 Jui-Nan Lin,
<br/>
 Patrick Gosling,
<br/>
 Marc Balmer,
<br/>
 Rajat Upadhyaya / Novell,
<br/>
 Christian Cier-Zniewski,
<br/>
 Wilco Baan Hofman,
<br/>
 Clement Chauplannaz.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ftp(1)</b>, <b>pure-ftpd(8)</b> <b>pure-ftpwho(8)</b> <b>pure-mrtginfo(8)</b>
  <b>pure-uploadscript(8)</b> <b>pure-statsdecode(8)</b> <b>pure-pw(8)</b>
  <b>pure-quotacheck(8)</b> <b>pure-authd(8)</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>RFC 959</b>, <b>RFC 2228</b>, <b>RFC 2389</b>, <b>RFC 2428</b> and <b>RFC
  4217</b>.</div>
<table class="foot">
  <tr>
    <td class="foot-date">1.0.42</td>
    <td class="foot-os">Pure-FTPd Team</td>
  </tr>
</table>
</body>
</html>
