<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:49 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>EXIMSTATS(8) EXIM4 EXIMSTATS(8)</p>

<p style="margin-top: 1em">NAME <br>
eximstats - generates statistics from Exim mainlog or syslog
files.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
eximstats [Output] [Options] mainlog1 mainlog2 ... <br>
eximstats -merge [Options] report.1.txt report.2.txt ...
&gt; weekly_report.txt</p>

<p style="margin-top: 1em">Output: <br>
-txt <br>
Output the results in plain text to STDOUT.</p>

<p style="margin-top: 1em">-txt=filename <br>
Output the results in plain text. Filename &rsquo;-&rsquo;
for STDOUT is accepted.</p>

<p style="margin-top: 1em">-html <br>
Output the results in HTML to STDOUT.</p>

<p style="margin-top: 1em">-html=filename <br>
Output the results in HTML. Filename &rsquo;-&rsquo; for
STDOUT is accepted.</p>

<p style="margin-top: 1em">-xls <br>
Output the results in Excel compatible Format to STDOUT.
Requires the Spreadsheet::WriteExcel CPAN module.</p>

<p style="margin-top: 1em">-xls=filename <br>
Output the results in Excel compatible format. Filename
&rsquo;-&rsquo; for STDOUT is accepted.</p>

<p style="margin-top: 1em">Options: <br>
-hnumber <br>
histogram divisions per hour. The default is 1, and 0
suppresses histograms. Valid values are:</p>

<p style="margin-top: 1em">0, 1, 2, 3, 5, 10, 15, 20, 30 or
60.</p>

<p style="margin-top: 1em">-ne Don&rsquo;t display error
information.</p>

<p style="margin-top: 1em">-nr Don&rsquo;t display relaying
information.</p>

<p style="margin-top: 1em">-nr/pattern/ <br>
Don&rsquo;t display relaying information that matches.</p>

<p style="margin-top: 1em">-nt Don&rsquo;t display
transport information.</p>

<p style="margin-top: 1em">-nt/pattern/ <br>
Don&rsquo;t display transport information that matches</p>

<p style="margin-top: 1em">-qlist <br>
List of times for queuing information single 0 item
suppresses.</p>

<p style="margin-top: 1em">-tnumber <br>
Display top &lt;number&gt; sources/destinations default is
50, 0 suppresses top listing.</p>

<p style="margin-top: 1em">-tnl <br>
Omit local sources/destinations in top listing.</p>

<p style="margin-top: 1em">-t_remote_users <br>
Include remote users in the top source/destination
listings.</p>

<p style="margin-top: 1em">-include_original_destination
<br>
Include the original destination email addresses rather than
just using the final ones. Useful for finding out which of
your mailing lists are receiving mail.</p>

<p style="margin-top: 1em">-show_dtlist <br>
Show the delivery times (DT)for all the messages.</p>

<p style="margin-top: 1em">Exim must have been configured
to use the +deliver_time logging option for this option to
work.</p>

<p style="margin-top: 1em">list is an optional list of
times. Eg -show_dt1,2,4,8 will show the number of messages
with delivery times under 1 second, 2 seconds, 4 seconds, 8
seconds, and over 8 <br>
seconds.</p>

<p style="margin-top: 1em">-show_rtlist <br>
Show the receipt times for all the messages. The receipt
time is defined as the Completed hh:mm:ss -
queue_time_overall - the Receipt hh:mm:ss. These figures
will be skewed <br>
by pipelined messages so might not be that useful.</p>

<p style="margin-top: 1em">Exim must have been configured
to use the +queue_time_overall logging option for this
option to work.</p>

<p style="margin-top: 1em">list is an optional list of
times. Eg -show_rt1,2,4,8 will show the number of messages
with receipt times under 1 second, 2 seconds, 4 seconds, 8
seconds, and over 8 seconds.</p>

<p style="margin-top: 1em">-byhost <br>
Show results by sending host. This may be combined with
-bydomain and/or -byemail and/or -byedomain. If none of
these options are specified, then -byhost is assumed as a
<br>
default.</p>

<p style="margin-top: 1em">-bydomain <br>
Show results by sending domain. May be combined with -byhost
and/or -byemail and/or -byedomain.</p>

<p style="margin-top: 1em">-byemail <br>
Show results by sender&rsquo;s email address. May be
combined with -byhost and/or -bydomain and/or
-byedomain.</p>

<p style="margin-top: 1em">-byemaildomain or -byedomain
<br>
Show results by sender&rsquo;s email domain. May be combined
with -byhost and/or -bydomain and/or -byemail.</p>

<p style="margin-top: 1em">-pattern Description /Pattern/
<br>
Look for the specified pattern and count the number of lines
in which it appears. This option can be specified multiple
times. Eg:</p>

<p style="margin-top: 1em">-pattern &rsquo;Refused
connections&rsquo; &rsquo;/refused connection/&rsquo;</p>

<p style="margin-top: 1em">-merge <br>
This option allows eximstats to merge old eximstat reports
together. Eg:</p>

<p style="margin-top: 1em">eximstats mainlog.sun &gt;
report.sun.txt <br>
eximstats mainlog.mon &gt; report.mon.txt <br>
eximstats mainlog.tue &gt; report.tue.txt <br>
eximstats mainlog.wed &gt; report.web.txt <br>
eximstats mainlog.thu &gt; report.thu.txt <br>
eximstats mainlog.fri &gt; report.fri.txt <br>
eximstats mainlog.sat &gt; report.sat.txt <br>
eximstats -merge report.*.txt &gt; weekly_report.txt <br>
eximstats -merge -html report.*.txt &gt;
weekly_report.html</p>

<p style="margin-top: 1em">&Acirc;&middot; You can merge
text or html reports and output the results as text or
html.</p>

<p style="margin-top: 1em">&Acirc;&middot; You can use all
the normal eximstat output options, but only data included
in the original reports can be shown!</p>

<p style="margin-top: 1em">&Acirc;&middot; When merging
reports, some loss of accuracy may occur in the top n lists.
This will be towards the ends of the lists.</p>

<p style="margin-top: 1em">&Acirc;&middot; The order of
items in the top n lists may vary when the data volumes
round to the same value.</p>

<p style="margin-top: 1em">-charts <br>
Create graphical charts to be displayed in HTML output. Only
valid in combination with -html.</p>

<p style="margin-top: 1em">This requires the following
modules which can be obtained from
http://www.cpan.org/modules/01modules.index.html</p>

<p style="margin-top: 1em">GD <br>
GDTextUtil <br>
GDGraph</p>

<p style="margin-top: 1em">To install these, download and
unpack them, then use the normal perl installation
procedure:</p>

<p style="margin-top: 1em">perl Makefile.PL <br>
make <br>
make test <br>
make install</p>

<p style="margin-top: 1em">On Debian GNU/Linux you can use
&quot;apt-get install libgd-perl libgd-text-perl
libgd-graph-perl&quot; instead.</p>

<p style="margin-top: 1em">-chartdirI &lt;dir&gt; <br>
Create the charts in the directory &lt;dir&gt;</p>

<p style="margin-top: 1em">-chartrelI &lt;dir&gt; <br>
Specify the relative directory for the &quot;img src=&quot;
tags from where to include the charts</p>

<p style="margin-top: 1em">-emptyok <br>
Specify that it&rsquo;s OK to not find any valid log lines.
Without this we will output an error message if we
don&rsquo;t find any.</p>

<p style="margin-top: 1em">-d Debug flag. This outputs the
eval()&rsquo;d parser onto STDOUT which makes it easier to
trap errors in the eval section. Remember to add 1 to the
line numbers to allow for the <br>
title!</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Eximstats parses exim mainlog and syslog files to output a
statistical analysis of the messages processed. By default,
a text analysis is generated, but you can request other <br>
output formats using flags. See the help (-help) to learn
about how to create charts from the tables.</p>

<p style="margin-top: 1em">AUTHOR <br>
There is a web site at http://www.exim.org</p>

<p style="margin-top: 1em">TO DO <br>
This program does not perfectly handle messages whose
received and delivered log lines are in different files,
which can happen when you have multiple mail servers and a
message <br>
cannot be immediately delivered. Fixing this could be
tricky...</p>

<p style="margin-top: 1em">Merging of xls files is not
(yet) possible. Be free to implement :)</p>

<p style="margin-top: 1em">perl v5.24.1 2017-06-03
EXIMSTATS(8)</p>
<hr>
</body>
</html>
