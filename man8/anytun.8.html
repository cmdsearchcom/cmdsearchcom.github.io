<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ANYTUN(8) ANYTUN(8)</p>

<p style="margin-top: 1em">NAME <br>
anytun - anycast tunneling daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
anytun <br>
[ -h|--help ] <br>
[ -D|--nodaemonize ] <br>
[ -u|--username &lt;username&gt; ] <br>
[ -g|--groupname &lt;groupname&gt; ] <br>
[ -C|--chroot &lt;path&gt; ] <br>
[ -P|--write-pid &lt;filename&gt; ] <br>
[ -L|--log
&lt;target&gt;:&lt;level&gt;[,&lt;param1&gt;[,&lt;param2&gt;[..]]]
] <br>
[ -U|--debug ] <br>
[ -i|--interface &lt;ip-address&gt; ] <br>
[ -p|--port &lt;port&gt; ] <br>
[ -r|--remote-host &lt;hostname|ip&gt; ] <br>
[ -o|--remote-port &lt;port&gt; ] <br>
[ -4|--ipv4-only ] <br>
[ -6|--ipv6-only ] <br>
[ -I|--sync-interface &lt;ip-address&gt; ] <br>
[ -S|--sync-port port&gt; ] <br>
[ -M|--sync-hosts
&lt;hostname|ip&gt;[:&lt;port&gt;][,&lt;hostname|ip&gt;[:&lt;port&gt;][...]]
] <br>
[ -X|--control-host &lt;hostname|ip&gt;[:&lt;port&gt;] <br>
[ -d|--dev &lt;name&gt; ] <br>
[ -t|--type &lt;tun|tap&gt; ] <br>
[ -n|--ifconfig &lt;local&gt;/&lt;prefix&gt; ] <br>
[ -x|--post-up-script &lt;script&gt; ] <br>
[ -R|--route &lt;net&gt;/&lt;prefix length&gt; ] <br>
[ -m|--mux &lt;mux-id&gt; ] <br>
[ -s|--sender-id &lt;sender id&gt; ] <br>
[ -w|--window-size &lt;window size&gt; ] <br>
[ -k|--kd-prf &lt;kd-prf type&gt; ] <br>
[ -e|--role &lt;role&gt; ] <br>
[ -E|--passphrase &lt;pass phrase&gt; ] <br>
[ -K|--key &lt;master key&gt; ] <br>
[ -A|--salt &lt;master salt&gt; ] <br>
[ -c|--cipher &lt;cipher type&gt; ] <br>
[ -a|--auth-algo &lt;algo type&gt; ] <br>
[ -b|--auth-tag-length &lt;length&gt; ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Anytun is an implementation of the Secure Anycast Tunneling
Protocol (SATP). It provides a complete VPN solution similar
to OpenVPN or IPsec in tunnel mode. The main difference <br>
is that anycast allows a setup of tunnels between an
arbitrary combination of anycast, unicast and multicast
hosts.</p>

<p style="margin-top: 1em">OPTIONS <br>
Anytun has been designed as a peer to peer application, so
there is no difference between client and server. The
following options can be passed to the daemon:</p>

<p style="margin-top: 1em">-D, --nodaemonize <br>
This option instructs Anytun to run in foreground instead of
becoming a daemon which is the default.</p>

<p style="margin-top: 1em">-u, --username &lt;username&gt;
<br>
run as this user. If no group is specified (-g) the default
group of the user is used. The default is to not drop
privileges.</p>

<p style="margin-top: 1em">-g, --groupname
&lt;groupname&gt; <br>
run as this group. If no username is specified (-u) this
gets ignored. The default is to not drop privileges.</p>

<p style="margin-top: 1em">-C, --chroot &lt;path&gt; <br>
Instruct Anytun to run in a chroot jail. The default is to
not run in chroot.</p>

<p style="margin-top: 1em">-P, --write-pid &lt;filename&gt;
<br>
Instruct Anytun to write it&acirc;s pid to this file. The
default is to not create a pid file.</p>

<p style="margin-top: 1em">-L, --log
&lt;target&gt;:&lt;level&gt;[,&lt;param1&gt;[,&lt;param2&gt;[..]]]
<br>
add log target to logging system. This can be invoked
several times in order to log to different targets at the
same time. Every target hast its own log level which is a
<br>
number between 0 and 5. Where 0 means disabling log and 5
means debug messages are enabled.</p>

<p style="margin-top: 1em">The file target can be used more
the once with different levels. If no target is provided at
the command line a single target with the config
syslog:3,anytun,daemon is added.</p>

<p style="margin-top: 1em">The following targets are
supported:</p>

<p style="margin-top: 1em">syslog <br>
log to syslog daemon, parameters
&lt;level&gt;[,&lt;logname&gt;[,&lt;facility&gt;]]</p>

<p style="margin-top: 1em">file <br>
log to file, parameters &lt;level&gt;[,&lt;path&gt;]</p>

<p style="margin-top: 1em">stdout <br>
log to standard output, parameters &lt;level&gt;</p>

<p style="margin-top: 1em">stderr <br>
log to standard error, parameters &lt;level&gt;</p>

<p style="margin-top: 1em">-U, --debug <br>
This option instructs Anytun to run in debug mode. It
implicits -D (don&acirc;t daemonize) and adds a log target
with the configuration stdout:5 (logging with maximum
level). In <br>
future releases there might be additional output when this
option is supplied.</p>

<p style="margin-top: 1em">-i, --interface &lt;ip
address&gt; <br>
This IP address is used as the sender address for outgoing
packets. In case of anycast tunnel endpoints, the anycast IP
has to be used. In case of unicast endpoints, the <br>
address is usually derived correctly from the routing table.
The default is to not use a special inteface and just bind
on all interfaces.</p>

<p style="margin-top: 1em">-p, --port &lt;port&gt; <br>
The local UDP port that is used to send and receive the
payload data. The two tunnel endpoints can use different
ports. If a tunnel endpoint consists of multiple anycast
<br>
hosts, all hosts have to use the same port. default:
4444</p>

<p style="margin-top: 1em">-r, --remote-host
&lt;hostname|ip&gt; <br>
This option can be used to specify the remote tunnel
endpoint. In case of anycast tunnel endpoints, the anycast
IP address has to be used. If you do not specify an address,
<br>
it is automatically determined after receiving the first
data packet.</p>

<p style="margin-top: 1em">-o, --remote-port &lt;port&gt;
<br>
The UDP port used for payload data by the remote host
(specified with -p on the remote host). If you do not
specify a port, it is automatically determined after
receiving the <br>
first data packet.</p>

<p style="margin-top: 1em">-4, --ipv4-only <br>
Resolv to IPv4 addresses only. The default is to resolv both
IPv4 and IPv6 addresses.</p>

<p style="margin-top: 1em">-6, --ipv6-only <br>
Resolv to IPv6 addresses only. The default is to resolv both
IPv4 and IPv6 addresses.</p>

<p style="margin-top: 1em">-I, --sync-interface
&lt;ip-address&gt; <br>
local unicast(sync) ip address to bind to</p>

<p style="margin-top: 1em">This option is only needed for
tunnel endpoints consisting of multiple anycast hosts. The
unicast IP address of the anycast host can be used here.
This is needed for <br>
communication with the other anycast hosts. The default is
to not use a special inteface and just bind on all
interfaces. However this is only the case if synchronisation
is <br>
active see --sync-port.</p>

<p style="margin-top: 1em">-S, --sync-port &lt;port&gt;
<br>
local unicast(sync) port to bind to</p>

<p style="margin-top: 1em">This option is only needed for
tunnel endpoints consisting of multiple anycast hosts. This
port is used by anycast hosts to synchronize information
about tunnel endpoints. No <br>
payload data is transmitted via this port. By default the
synchronisation is disabled an therefore the port is kept
empty.</p>

<p style="margin-top: 1em">It is possible to obtain a list
of active connections by telnetting into this port. This
port is read-only and unprotected by default. It is advised
to protect this port <br>
using firewall rules and, eventually, IPsec.</p>

<p style="margin-top: 1em">-M, --sync-hosts
&lt;hostname|ip&gt;[:&lt;port&gt;],[&lt;hostname|ip&gt;[:&lt;port&gt;][...]]
<br>
remote hosts to sync with</p>

<p style="margin-top: 1em">This option is only needed for
tunnel endpoints consisting of multiple anycast hosts. Here,
one has to specify all unicast IP addresses of all other
anycast hosts that <br>
comprise the anycast tunnel endpoint. By default
synchronisation is disabled and therefore this is empty.
Mind that the port can be omitted in which case port 2323 is
used. <br>
If you want to specify an ipv6 address and a port you have
to use [ and ] to separate the address from the port, eg.:
[::1]:1234. If you want to use the default port [ and ] <br>
can be omitted.</p>

<p style="margin-top: 1em">-X, --control-host
&lt;hostname|ip&gt;[:&lt;port&gt;] <br>
fetch the config from this host. The default is not to use a
control host and therefore this is empty. Mind that the port
can be omitted in which case port 2323 is used. If <br>
you want to specify an ipv6 address and a port you have to
use [ and ] to separate the address from the port, eg.:
[::1]:1234. If you want to use the default port [ and ] can
<br>
be omitted.</p>

<p style="margin-top: 1em">-d, --dev &lt;name&gt; <br>
device name</p>

<p style="margin-top: 1em">By default, tapN is used for
Ethernet tunnel interfaces, and tunN for IP tunnels,
respectively. This option can be used to manually override
these defaults.</p>

<p style="margin-top: 1em">-t, --type &lt;tun|tap&gt; <br>
device type</p>

<p style="margin-top: 1em">Type of the tunnels to create.
Use tap for Ethernet tunnels, tun for IP tunnels.</p>

<p style="margin-top: 1em">-n, --ifconfig
&lt;local&gt;/&lt;prefix&gt; <br>
The local IP address and prefix length. The remote tunnel
endpoint has to use a different IP address in the same
subnet.</p>

<p style="margin-top: 1em">&lt;local&gt; <br>
the local IP address for the tun/tap device</p>

<p style="margin-top: 1em">&lt;prefix&gt; <br>
the prefix length of the network</p>

<p style="margin-top: 1em">-x, --post-up-script
&lt;script&gt; <br>
This option instructs Anytun to run this script after the
interface is created. By default no script will be
executed.</p>

<p style="margin-top: 1em">-R, --route
&lt;net&gt;/&lt;prefix length&gt; <br>
add a route to connection. This can be invoked several
times.</p>

<p style="margin-top: 1em">-m, --mux &lt;mux-id&gt; <br>
the multiplex id to use. default: 0</p>

<p style="margin-top: 1em">-s, --sender-id &lt;sender
id&gt; <br>
Each anycast tunnel endpoint needs a uniqe sender id (1, 2,
3, ...). It is needed to distinguish the senders in case of
replay attacks. This option can be ignored on unicast <br>
endpoints. default: 0</p>

<p style="margin-top: 1em">-w, --window-size &lt;window
size&gt; <br>
seqence window size</p>

<p style="margin-top: 1em">Sometimes, packets arrive out of
order on the receiver side. This option defines the size of
a list of received packets&rsquo; sequence numbers. If,
according to this list, a <br>
received packet has been previously received or has been
transmitted in the past, and is therefore not in the list
anymore, this is interpreted as a replay attack and the <br>
packet is dropped. A value of 0 deactivates this list and,
as a consequence, the replay protection employed by
filtering packets according to their secuence number. By
<br>
default the sequence window is disabled and therefore a
window size of 0 is used.</p>

<p style="margin-top: 1em">-k, --kd&acirc;prf &lt;kd-prf
type&gt; <br>
key derivation pseudo random function</p>

<p style="margin-top: 1em">The pseudo random function which
is used for calculating the session keys and session
salt.</p>

<p style="margin-top: 1em">Possible values:</p>

<p style="margin-top: 1em">null <br>
no random function, keys and salt are set to 0..00</p>

<p style="margin-top: 1em">aes-ctr <br>
AES in counter mode with 128 Bits, default value</p>

<p style="margin-top: 1em">aes-ctr-128 <br>
AES in counter mode with 128 Bits</p>

<p style="margin-top: 1em">aes-ctr-192 <br>
AES in counter mode with 192 Bits</p>

<p style="margin-top: 1em">aes-ctr-256 <br>
AES in counter mode with 256 Bits</p>

<p style="margin-top: 1em">-e, --role &lt;role&gt; <br>
SATP uses different session keys for inbound and outbound
traffic. The role parameter is used to determine which keys
to use for outbound or inbound packets. On both sides of
<br>
a vpn connection different roles have to be used. Possible
values are left and right. You may also use alice or server
as a replacement for left and bob or client as a <br>
replacement for right. By default left is used.</p>

<p style="margin-top: 1em">-E, --passphrase
&lt;passphrase&gt; <br>
This passphrase is used to generate the master key and
master salt. For the master key the last n bits of the
SHA256 digest of the passphrase (where n is the length of
the <br>
master key in bits) is used. The master salt gets generated
with the SHA1 digest. You may force a specific key and or
salt by using --key and --salt.</p>

<p style="margin-top: 1em">-K, --key &lt;master key&gt;
<br>
master key to use for key derivation</p>

<p style="margin-top: 1em">Master key in hexadecimal
notation, e.g. 01a2b3c4d5e6f708a9b0cadbecfd0fa1, with a
mandatory length of 32, 48 or 64 characters (128, 192 or 256
bits).</p>

<p style="margin-top: 1em">-A, --salt &lt;master salt&gt;
<br>
master salt to use for key derivation</p>

<p style="margin-top: 1em">Master salt in hexadecimal
notation, e.g. 01a2b3c4d5e6f708a9b0cadbecfd, with a
mandatory length of 28 characters (14 bytes).</p>

<p style="margin-top: 1em">-c, --cipher &lt;cipher type&gt;
<br>
payload encryption algorithm</p>

<p style="margin-top: 1em">Encryption algorithm used for
encrypting the payload</p>

<p style="margin-top: 1em">Possible values:</p>

<p style="margin-top: 1em">null <br>
no encryption</p>

<p style="margin-top: 1em">aes-ctr <br>
AES in counter mode with 128 Bits, default value</p>

<p style="margin-top: 1em">aes-ctr-128 <br>
AES in counter mode with 128 Bits</p>

<p style="margin-top: 1em">aes-ctr-192 <br>
AES in counter mode with 192 Bits</p>

<p style="margin-top: 1em">aes-ctr-256 <br>
AES in counter mode with 256 Bits</p>

<p style="margin-top: 1em">-a, --auth-algo &lt;algo
type&gt; <br>
message authentication algorithm</p>

<p style="margin-top: 1em">This option sets the message
authentication algorithm.</p>

<p style="margin-top: 1em">If HMAC-SHA1 is used, the packet
length is increased. The additional bytes contain the
authentication data. see --auth-tag-length for more
info.</p>

<p style="margin-top: 1em">Possible values:</p>

<p style="margin-top: 1em">null <br>
no message authentication</p>

<p style="margin-top: 1em">sha1 <br>
HMAC-SHA1, default value</p>

<p style="margin-top: 1em">-b, --auth-tag-length
&lt;length&gt; <br>
The number of bytes to use for the auth tag. This value
defaults to 10 bytes unless the null auth algo is used in
which case it defaults to 0.</p>

<p style="margin-top: 1em">EXAMPLES <br>
P2P Setup between two unicast enpoints: <br>
Host A: <br>
anytun -r hostb.example.com -t tun -n 192.168.123.1/30 -c
aes-ctr-256 -k aes-ctr-256 &nbsp;-E
have_a_very_safe_and_productive_day -e left</p>

<p style="margin-top: 1em">Host B: <br>
anytun -r hosta.example.com -t tun -n 192.168.123.2/30 -c
aes-ctr-256 -k aes-ctr-256 &nbsp;-E
have_a_very_safe_and_productive_day -e right</p>

<p style="margin-top: 1em">One unicast and one anycast
tunnel endpoint: <br>
Unicast tunnel endpoint: <br>
anytun -r anycast.anytun.org -d anytun0 -t tun -n
192.0.2.2/30 -a null -c null -w 0 -e client</p>

<p style="margin-top: 1em">Anycast tunnel endpoints: <br>
On the host with unicast hostname
unicast1.anycast.anytun.org and anycast hostname
anycast.anytun.org:</p>

<p style="margin-top: 1em"># anytun -i anycast.anytun.org
-d anytun0 -t tun -n 192.0.2.1/30 -a null -c null -w 0 -e
server -S 2342 -M
unicast2.anycast.anytun.org:2342,unicast3.anycast.anytun.org:2342</p>

<p style="margin-top: 1em">On the host with unicast
hostname unicast2.anycast.anytun.org and anycast hostname
anycast.anytun.org:</p>

<p style="margin-top: 1em"># anytun -i anycast.anytun.org
-d anytun0 -t tun -n 192.0.2.1/30 -a null -c null -w 0 -e
server -S 2342 -M
unicast1.anycast.anytun.org:2342,unicast3.anycast.anytun.org:2342</p>

<p style="margin-top: 1em">On the host with unicast
hostname unicast3.anycast.anytun.org and anycast hostname
anycast.anytun.org:</p>

<p style="margin-top: 1em"># anytun -i anycast.anytun.org
-d anytun0 -t tun -n 192.0.2.1/30 -a null -c null -w 0 -e
server -S 2342 -M
unicast1.anycast.anytun.org:2342,unicast2.anycast.anytun.org:2342</p>

<p style="margin-top: 1em">For more sophisticated examples
(like multiple unicast endpoints to one anycast tunnel
endpoint) please consult the man page of
anytun-config(8).</p>

<p style="margin-top: 1em">BUGS <br>
Most likely there are some bugs in Anytun. If you find a
bug, please let the developers know at satp@anytun.org. Of
course, patches are preferred.</p>

<p style="margin-top: 1em">SEE ALSO <br>
anytun-config(8), anytun-controld(8),
anytun-showtables(8)</p>

<p style="margin-top: 1em">AUTHORS <br>
Othmar Gsenger &lt;otti@anytun.org&gt; Erwin Nindl
&lt;nine@anytun.org&gt; Christian Pointner
&lt;equinox@anytun.org&gt;</p>

<p style="margin-top: 1em">RESOURCES <br>
Main web site: http://www.anytun.org/</p>

<p style="margin-top: 1em">COPYING <br>
Copyright (C) 2007-2014 Markus Gr&Atilde;&frac14;neis,
Othmar Gsenger, Erwin Nindl and Christian Pointner. This
program is free software: you can redistribute it and/or
modify it under the <br>
terms of the GNU General Public License as published by the
Free Software Foundation, either version 3 of the License,
or any later version.</p>

<p style="margin-top: 1em">07/08/2016 ANYTUN(8)</p>
<hr>
</body>
</html>
