<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NILFS_CLEANERD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NILFS_CLEANERD(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">NILFS_CLEANERD(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
nilfs_cleanerd - NILFS2 garbage collector
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>nilfs_cleanerd</b> [ <b>-hV</b>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>nilfs_cleanerd</b> [ <i>options</i>] <i>device</i> [<i>directory</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>nilfs_cleanerd</b> is a system daemon which reclaims disk space of a NILFS2
  file system found in <i>device</i>.
<div class="Pp"></div>
The optional <i>directory</i> argument specifies the mount point where the
  daemon operates. It must be an r/w-mount.
<div class="Pp"></div>
This program can be invoked either automatically by <b>mount.nilfs2</b>(8) or
  manually by an administrator. However, users are recommended to invoke
  <b>nilfs_cleanerd</b> through <b>mount.nilfs2</b>(8) or <b>mount</b>(8) and
  shutdown it through <b>umount.nilfs2</b>(8) or <b>umount</b>(8) in order to
  avoid state inconsistencies among administration tools.
<div class="Pp"></div>
<b>nilfs_cleanerd</b> displays its process ID (pid) to standard output when it
  started.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">Display version and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Display help message and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c </b><i>file</i>, <b>--conf</b>=<i>file</i></dt>
  <dd class="It-tag">Specify configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p </b><i>interval</i>,
    <b>--protection-period</b>=<i>interval</i></dt>
  <dd class="It-tag">Override protection period with the specified number of
      seconds.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SIGNALS"><a class="selflink" href="#SIGNALS">SIGNALS</a></h1>
<b>nilfs_cleanerd</b> reacts to a set of signals. You may send a signal to
  <b>nilfs_cleanerd</b> using the <i>PID</i> shown by the mount command (or in
  <i>/etc/mtab</i>):
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b># mount -t nilfs2</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    /dev/sdb1 on /nilfs type nilfs2 (rw,gcpid= <i>PID</i>)
    <div>&#x00A0;</div>
    <b># kill -<i>SIGNAL</i> <i>PID</i></b></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGHUP</b></dt>
  <dd class="It-tag">This lets <b>nilfs_cleanerd</b> perform a
      re-initialization. The configuration file (default is
      <i>/etc/nilfs_cleanerd.conf</i>) will be reread.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGTERM</b></dt>
  <dd class="It-tag">The <b>nilfs_cleanerd</b> will exit cleanly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGUSR1, SIGUSR2</b></dt>
  <dd class="It-tag">Reserved for future use. These let <b>nilfs_cleanerd</b>
      die at present.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/nilfs_cleanerd.conf</i></dt>
  <dd class="It-tag">Configuration file for <b>nilfs_cleanerd</b>. See
      <b>nilfs_cleanerd.conf</b>(5) for details.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Koji Sato
<h1 class="Sh" title="Sh" id="AVAILABILITY"><a class="selflink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<b>nilfs_cleanerd</b> is part of the nilfs-utils package and available from
  http://nilfs.sourceforge.net.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>nilfs</b>(8), <b>mount.nilfs2</b>(8), <b>umount.nilfs2</b>(8),
  <b>nilfs_cleanerd.conf</b>(5).</div>
<table class="foot">
  <tr>
    <td class="foot-date">Apr 2014</td>
    <td class="foot-os">nilfs-utils version 2.2</td>
  </tr>
</table>
</body>
</html>
