<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DIRMNGR(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DIRMNGR(8)</td>
    <td class="head-vol">GNU Privacy Guard 2.1</td>
    <td class="head-rtitle">DIRMNGR(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>dirmngr</b> - CRL and OCSP daemon
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dirmngr</b> [<i>options</i>] <i>command</i> [<i>args</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Since version 2.1 of GnuPG, <b>dirmngr</b> takes care of accessing the OpenPGP
  keyservers. As with previous versions it is also used as a server for managing
  and downloading certificate revocation lists (CRLs) for X.509 certificates,
  downloading X.509 certificates, and providing access to OCSP providers.
  Dirmngr is invoked internally by <b>gpg</b>, <b>gpgsm</b>, or via the
  <b>gpg-connect-agent</b> tool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
Commands are not distinguished from options except for the fact that only one
  command is allowed.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print the program version and licensing information. Note
      that you cannot abbreviate this command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help, -h</b></dt>
  <dd class="It-tag">Print a usage message summarizing the most useful
      command-line options. Not that you cannot abbreviate this command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-options</b></dt>
  <dd class="It-tag">Print a list of all available options and commands. Note
      that you cannot abbreviate this command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--server</b></dt>
  <dd class="It-tag">Run in server mode and wait for commands on the
      <b>stdin</b>. The default mode is to create a socket and listen for
      commands there. This is only used for testing.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--daemon</b></dt>
  <dd class="It-tag">Run in background daemon mode and listen for commands on a
      socket. Note that this also changes the default home directory and enables
      the internal certificate validation code. This mode is deprecated.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-crls</b></dt>
  <dd class="It-tag">List the contents of the CRL cache on <b>stdout</b>. This
      is probably only useful for debugging purposes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-crl <i>file</i></b></dt>
  <dd class="It-tag">This command requires a filename as additional argument,
      and it will make Dirmngr try to import the CRL in <i>file</i> into it's
      cache. Note, that this is only possible if Dirmngr is able to retrieve the
      CA's certificate directly by its own means. In general it is better to use
      <b>gpgsm</b>'s <b>--call-dirmngr loadcrl filename</b> command so that
      <b>gpgsm</b> can help dirmngr.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--fetch-crl <i>url</i></b></dt>
  <dd class="It-tag">This command requires an URL as additional argument, and it
      will make dirmngr try to retrieve an import the CRL from that <i>url</i>
      into it's cache. This is mainly useful for debugging purposes. The
      <b>dirmngr-client</b> provides the same feature for a running dirmngr.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--shutdown</b></dt>
  <dd class="It-tag">This commands shuts down an running instance of Dirmngr.
      This command has currently no effect.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--flush</b></dt>
  <dd class="It-tag">This command removes all CRLs from Dirmngr's cache. Client
      requests will thus trigger reading of fresh CRLs.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--options <i>file</i></b></dt>
  <dd class="It-tag">Reads configuration from <i>file</i> instead of from the
      default per-user configuration file. The default configuration file is
      named &#x2018; <i>dirmngr.conf</i>&#x2019; and expected in the home
      directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--homedir <i>dir</i></b></dt>
  <dd class="It-tag">Set the name of the home directory to <i>dir</i>. This
      option is only effective when used on the command line. The default
      depends on the running mode:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>With <b>--daemon</b> given on the commandline</b></dt>
  <dd class="It-tag">the directory named &#x2018;<i>/etc/gnupg</i>&#x2019; is
      used for configuration files and &#x2018; <i>/var/cache/gnupg</i>&#x2019;
      for cached CRLs.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Without <b>--daemon</b> given on the
    commandline</b></dt>
  <dd class="It-tag">the directory named &#x2018;<i>.gnupg</i>&#x2019; directly
      below the home directory of the user unless the environment variable
      <b>GNUPGHOME</b> has been set in which case its value will be used. All
      kind of data is stored below this directory.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Outputs additional information while running. You can
      increase the verbosity by giving several verbose commands to
      <b>dirmngr</b>, such as <b>-vv</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-file <i>file</i></b></dt>
  <dd class="It-tag">Append all logging output to <i>file</i>. This is very
      helpful in seeing what the agent actually does.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-level <i>level</i></b></dt>
  <dd class="It-tag">Select the debug level for investigating problems.
      <i>level</i> may be a numeric value or by a keyword:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>none</b></dt>
  <dd class="It-tag">No debugging at all. A value of less than 1 may be used
      instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>basic</b></dt>
  <dd class="It-tag">Some basic debug messages. A value between 1 and 2 may be
      used instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>advanced</b></dt>
  <dd class="It-tag">More verbose debug messages. A value between 3 and 5 may be
      used instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expert</b></dt>
  <dd class="It-tag">Even more detailed messages. A value between 6 and 8 may be
      used instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>guru</b></dt>
  <dd class="It-tag">All of the debug messages you can get. A value greater than
      8 may be used instead of the keyword. The creation of hash tracing files
      is only enabled if the keyword is used.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
How these messages are mapped to the actual debugging flags is not specified and
  may change with newer releases of this program. They are however carefully
  selected to best aid in debugging.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug <i>flags</i></b></dt>
  <dd class="It-tag">This option is only useful for debugging and the behaviour
      may change at any time without notice. FLAGS are bit encoded and may be
      given in usual C-Syntax.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-all</b></dt>
  <dd class="It-tag">Same as <b>--debug=0xffffffff</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gnutls-debug <i>level</i></b></dt>
  <dd class="It-tag">Enable debugging of GNUTLS at <i>level</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-wait <i>n</i></b></dt>
  <dd class="It-tag">When running in server mode, wait <i>n</i> seconds before
      entering the actual processing loop and print the pid. This gives time to
      attach a debugger.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag"><b>--sh</b> <b>-c</b> <b>--csh</b> Format the info output
      in daemon mode for use with the standard Bourne shell respective the
      C-shell . The default ist to guess it based on the environment variable
      <b>SHELL</b> which is in almost all cases sufficient.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force</b></dt>
  <dd class="It-tag">Enabling this option forces loading of expired CRLs; this
      is only useful for debugging.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-tor</b></dt>
  <dd class="It-tag">This option switches Dirmngr and thus GnuPG into ``Tor
      mode'' to route all network access via Tor (an anonymity network).
      WARNING: As of now this still leaks the DNS queries; e.g. to lookup the
      hosts in a keyserver pool. Certain other features are disabled if this
      mode is active.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keyserver <i>name</i></b></dt>
  <dd class="It-tag">Use <i>name</i> as your keyserver. This is the server that
      <b>gpg</b> communicates with to receive keys, send keys, and search for
      keys. The format of the <i>name</i> is a URI:
      `scheme:[//]keyservername[:port]' The scheme is the type of keyserver:
      &quot;hkp&quot; for the HTTP (or compatible) keyservers, &quot;ldap&quot;
      for the LDAP keyservers, or &quot;mailto&quot; for the Graff email
      keyserver. Note that your particular installation of GnuPG may have other
      keyserver types available as well. Keyserver schemes are case-insensitive.
      After the keyserver name, optional keyserver configuration options may be
      provided. These are the same as the <b>--keyserver-options</b> of
      <b>gpg</b>, but apply only to this particular keyserver.
    <div style="height: 1.00em;">&#x00A0;</div>
    Most keyservers synchronize with each other, so there is generally no need
      to send keys to more than one server. The keyserver
      <b>hkp://keys.gnupg.net</b> uses round robin DNS to give a different
      keyserver each time you use it.
    <div style="height: 1.00em;">&#x00A0;</div>
    If exactly two keyservers are configured and only one is a Tor hidden
      service (.onion), Dirmngr selects the keyserver to use depending on
      whether Tor is locally running or not. The check for a running Tor is done
      for each new connection.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nameserver <i>ipaddr</i></b></dt>
  <dd class="It-tag">In ``Tor mode'' Dirmngr uses a public resolver via Tor to
      resolve DNS names. If the default public resolver, which is
      <b>8.8.8.8</b>, shall not be used a different one can be given using this
      option. Note that a numerical IP address must be given (IPv6 or IPv4) and
      that no error checking is done for <i>ipaddr</i>. DNS queries in Tor mode
      do only work if GnuPG as been build with ADNS support.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-ldap</b></dt>
  <dd class="It-tag">Entirely disables the use of LDAP.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-http</b></dt>
  <dd class="It-tag">Entirely disables the use of HTTP.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-http-dp</b></dt>
  <dd class="It-tag">When looking for the location of a CRL, the to be tested
      certificate usually contains so called CRL Distribution Point (DP) entries
      which are URLs describing the way to access the CRL. The first found DP
      entry is used. With this option all entries using the HTTP scheme are
      ignored when looking for a suitable DP.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-ldap-dp</b></dt>
  <dd class="It-tag">This is similar to <b>--ignore-http-dp</b> but ignores
      entries using the LDAP scheme. Both options may be combined resulting in
      ignoring DPs entirely.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-ocsp-service-url</b></dt>
  <dd class="It-tag">Ignore all OCSP URLs contained in the certificate. The
      effect is to force the use of the default responder.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--honor-http-proxy</b></dt>
  <dd class="It-tag">If the environment variable
      &#x2018;<i>http_proxy</i>&#x2019; has been set, use its value to access
      HTTP servers.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-proxy <i>host</i>[:<i>port</i>]</b></dt>
  <dd class="It-tag">Use <i>host</i> and <i>port</i> to access HTTP servers. The
      use of this option overrides the environment variable &#x2018;
      <i>http_proxy</i>&#x2019; regardless whether <b>--honor-http-proxy</b> has
      been set.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ldap-proxy <i>host</i>[:<i>port</i>]</b></dt>
  <dd class="It-tag">Use <i>host</i> and <i>port</i> to connect to LDAP servers.
      If <i>port</i> is omitted, port 389 (standard LDAP port) is used. This
      overrides any specified host and port part in a LDAP URL and will also be
      used if host and port have been omitted from the URL.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--only-ldap-proxy</b></dt>
  <dd class="It-tag">Never use anything else but the LDAP &quot;proxy&quot; as
      configured with <b>--ldap-proxy</b>. Usually <b>dirmngr</b> tries to use
      other configured LDAP server if the connection using the &quot;proxy&quot;
      failed.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ldapserverlist-file <i>file</i></b></dt>
  <dd class="It-tag">Read the list of LDAP servers to consult for CRLs and
      certificates from file instead of the default per-user ldap server list
      file. The default value for <i>file</i> is
      &#x2018;<i>dirmngr_ldapservers.conf</i>&#x2019; or &#x2018;
      <i>ldapservers.conf</i>&#x2019; when running in <b>--daemon</b> mode.
    <div style="height: 1.00em;">&#x00A0;</div>
    This server list file contains one LDAP server per line in the format
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>hostname:port:username:password:base_dn</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Lines starting with a '#' are comments.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that as usual all strings entered are expected to be UTF-8 encoded.
      Obviously this will lead to problems if the password has originally been
      encoded as Latin-1. There is no other solution here than to put such a
      password in the binary encoding into the file (i.e. non-ascii characters
      won't show up readable). ([The <b>gpgconf</b> tool might be helpful for
      frontends as it enables editing this configuration file using
      percent-escaped strings.])
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ldaptimeout <i>secs</i></b></dt>
  <dd class="It-tag">Specify the number of seconds to wait for an LDAP query
      before timing out. The default is currently 100 seconds. 0 will never
      timeout.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--add-servers</b></dt>
  <dd class="It-tag">This options makes dirmngr add any servers it discovers
      when validating certificates against CRLs to the internal list of servers
      to consult for certificates and CRLs.
    <div style="height: 1.00em;">&#x00A0;</div>
    This options is useful when trying to validate a certificate that has a CRL
      distribution point that points to a server that is not already listed in
      the ldapserverlist. Dirmngr will always go to this server and try to
      download the CRL, but chances are high that the certificate used to sign
      the CRL is located on the same server. So if dirmngr doesn't add that new
      server to list, it will often not be able to verify the signature of the
      CRL unless the <b>--add-servers</b> option is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note: The current version of dirmngr has this option disabled by default.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-ocsp</b></dt>
  <dd class="It-tag">This option enables OCSP support if requested by the
      client.
    <div style="height: 1.00em;">&#x00A0;</div>
    OCSP requests are rejected by default because they may violate the privacy
      of the user; for example it is possible to track the time when a user is
      reading a mail.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ocsp-responder <i>url</i></b></dt>
  <dd class="It-tag">Use <i>url</i> as the default OCSP Responder if the
      certificate does not contain information about an assigned responder.
      Note, that <b>--ocsp-signer</b> must also be set to a valid certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ocsp-signer <i>fpr</i>|<i>file</i></b></dt>
  <dd class="It-tag">Use the certificate with the fingerprint <i>fpr</i> to
      check the responses of the default OCSP Responder. Alternatively a
      filename can be given in which case the respinse is expected to be signed
      by one of the certificates described in that file. Any argument which
      contains a slash, dot or tilde is considered a filename. Usual filename
      expansion takes place: A tilde at the start followed by a slash is
      replaced by the content of &#x2018; <i>HOME</i>&#x2019;, no slash at start
      describes a relative filename which will be searched at the home
      directory. To make sure that the <i>file</i> is searched in the home
      directory, either prepend the name with &quot;./&quot; or use a name which
      contains a dot.
    <div style="height: 1.00em;">&#x00A0;</div>
    If a response has been signed by a certificate described by these
      fingerprints no further check upon the validity of this certificate is
      done.
    <div style="height: 1.00em;">&#x00A0;</div>
    The format of the <i>FILE</i> is a list of SHA-1 fingerprint, one per line
      with optional colons between the bytes. Empty lines and lines prefix with
      a hash mark are ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ocsp-max-clock-skew <i>n</i></b></dt>
  <dd class="It-tag">The number of seconds a skew between the OCSP responder and
      them local clock is accepted. Default is 600 (20 minutes).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ocsp-max-period <i>n</i></b></dt>
  <dd class="It-tag">Seconds a response is at maximum considered valid after the
      time given in the thisUpdate field. Default is 7776000 (90 days).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ocsp-current-period <i>n</i></b></dt>
  <dd class="It-tag">The number of seconds an OCSP response is considered valid
      after the time given in the NEXT_UPDATE datum. Default is 10800 (3 hours).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-replies <i>n</i></b></dt>
  <dd class="It-tag">Do not return more that <i>n</i> items in one query. The
      default is 10.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-cert-extension <i>oid</i></b></dt>
  <dd class="It-tag">Add <i>oid</i> to the list of ignored certificate
      extensions. The <i>oid</i> is expected to be in dotted decimal form, like
      <b>2.5.29.3</b>. This option may be used more than once. Critical flagged
      certificate extensions matching one of the OIDs in the list are treated as
      if they are actually handled and thus the certificate won't be rejected
      due to an unknown critical extension. Use this option with care because
      extensions are usually flagged as critical for a reason.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hkp-cacert <i>file</i></b></dt>
  <dd class="It-tag">Use the root certificates in <i>file</i> for verification
      of the TLS certificates used with <b>hkps</b> (keyserver access over TLS).
      If the file is in PEM format a suffix of <b>.pem</b> is expected for
      <i>file</i>. This option may be given multiple times to add more root
      certificates. Tilde expansion is supported.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Here is an example on how to show dirmngr's internal table of OpenPGP keyserver
  addresses. The output is intended for debugging purposes and not part of a
  defined API.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 2.00ex;">
<pre>
  gpg-connect-agent --dirmngr 'keyserver --hosttable' /bye
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
To inhibit the use of a particular host you have noticed in one of the keyserver
  pools, you may use
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 2.00ex;">
<pre>
 gpg-connect-agent --dirmngr 'keyserver --dead pgpkeys.bnd.de' /bye
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The description of the <b>keyserver</b> command can be printed using
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 2.00ex;">
<pre>
 gpg-connect-agent --dirmngr 'help keyserver' /bye
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
Dirmngr makes use of several directories when running in daemon mode:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.gnupg</b></dt>
  <dd class="It-tag">This is the standard home directory for all configuration
      files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/gnupg/trusted-certs</b></dt>
  <dd class="It-tag">This directory should be filled with certificates of Root
      CAs you are trusting in checking the CRLs and signing OCSP Responses.
    <div style="height: 1.00em;">&#x00A0;</div>
    Usually these are the same certificates you use with the applications making
      use of dirmngr. It is expected that each of these certificate files
      contain exactly one DER encoded certificate in a file with the suffix
      &#x2018; <i>.crt</i>&#x2019; or &#x2018;<i>.der</i>&#x2019;.
      <b>dirmngr</b> reads those certificates on startup and when given a
      SIGHUP. Certificates which are not readable or do not make up a proper
      X.509 certificate are ignored; see the log file for details.
    <div style="height: 1.00em;">&#x00A0;</div>
    Applications using dirmngr (e.g. gpgsm) can request these certificates to
      complete a trust chain in the same way as with the extra-certs directory
      (see below).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that for OCSP responses the certificate specified using the option
      <b>--ocsp-signer</b> is always considered valid to sign OCSP requests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/gnupg/extra-certs</b></dt>
  <dd class="It-tag">This directory may contain extra certificates which are
      preloaded into the interal cache on startup. Applications using dirmngr
      (e.g. gpgsm) can request cached certificates to complete a trust chain.
      This is convenient in cases you have a couple intermediate CA certificates
      or certificates ususally used to sign OCSP responses. These certificates
      are first tried before going out to the net to look for them. These
      certificates must also be DER encoded and suffixed with &#x2018;
      <i>.crt</i>&#x2019; or &#x2018; <i>.der</i>&#x2019;.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.gnupg/crls.d</b></dt>
  <dd class="It-tag">This directory is used to store cached CRLs. The
      &#x2018;<i>crls.d</i>&#x2019; part will be created by dirmngr if it does
      not exists but you need to make sure that the upper directory exists.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SIGNALS"><a class="selflink" href="#SIGNALS">SIGNALS</a></h1>
A running <b>dirmngr</b> may be controlled by signals, i.e. using the
  <b>kill</b> command to send a signal to the process.
<div style="height: 1.00em;">&#x00A0;</div>
Here is a list of supported signals:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGHUP</b></dt>
  <dd class="It-tag">This signals flushes all internally cached CRLs as well as
      any cached certificates. Then the certificate cache is reinitialized as on
      startup. Options are re-read from the configuration file. Instead of
      sending this signal it is better to use</dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
gpgconf --reload dirmngr
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGTERM</b></dt>
  <dd class="It-tag">Shuts down the process but waits until all current requests
      are fulfilled. If the process has received 3 of these signals and requests
      are still pending, a shutdown is forced. You may also use</dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
gpgconf --kill dirmngr
</pre>
</div>
instead of this signal
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGINT</b></dt>
  <dd class="It-tag">Shuts down the process immediately.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGUSR1</b></dt>
  <dd class="It-tag">This prints some caching statistics to the log file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gpgsm</b>(1), <b>dirmngr-client</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
The full documentation for this tool is maintained as a Texinfo manual. If GnuPG
  and the info program are properly installed at your site, the command
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 2.00ex;">
<pre>
info gnupg
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
should give you access to the complete manual including a menu structure and an
  index.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-08-18</td>
    <td class="foot-os">GnuPG 2.1.15</td>
  </tr>
</table>
</body>
</html>
