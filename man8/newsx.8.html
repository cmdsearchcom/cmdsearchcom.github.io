<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NEWSX(8) System Manager&rsquo;s Manual NEWSX(8)</p>

<p style="margin-top: 1em">NAME <br>
newsx - news server exchange; post and fetch news
articles</p>

<p style="margin-top: 1em">SYNOPSIS <br>
newsx [ options ] [ spoolname [ [ hostname ] port ] ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
newsx is a client connecting to an NNTP server, posting
outgoing articles batched by the news system, while also
fetching new incoming articles from the same newsserver.</p>

<p style="margin-top: 1em">It provides the NNTP
capabilities required for serving a small local news spool
such as those that may be found on installations with NNTP
access through limited ISP accounts <br>
only, as well as being suitable for exchanging news with
supplemental news sources for full scale news servers.</p>

<p style="margin-top: 1em">OPERATION <br>
The program would normally be run by user news.</p>

<p style="margin-top: 1em">When started, newsx will go
through the spoolname outgoing spool queue, and attempt to
post all articles therein to the NNTP server hostname.</p>

<p style="margin-top: 1em">If a username and password for
use with the simple authorization protocol have been
supplied, they will be sent to the server first. If the -r
option is specified, a MODE READER <br>
command will be sent.</p>

<p style="margin-top: 1em">When the outgoing transfer is
finished, articles will be removed from the outgoing spool
queue if successful transfer has been acknowledged by the
NNTP host, if the article was <br>
specified by the host as a duplicate (already posted), or if
a spooled article can no longer be found.</p>

<p style="margin-top: 1em">The fetch phase is then
initiated. Articles available from the newsserver will be
fetched and placed in the incoming spool, ready to be
injected into the news system by newsrun <br>
(C News) or rnews -U (INN).</p>

<p style="margin-top: 1em">The groups are visited in the
sequence that they appear in the host incoming state file,
see in.hosts(5). This may be used actively to prioritize
between newsgroups. A tag <br>
mechanism controlled by the -e option is available to limit
the number of groups that will be fetched.</p>

<p style="margin-top: 1em">Group names not present in the
active file will not be fetched. Every group name is checked
against the spoolname entries in the sys (C News) or
newsfeeds (INN) file, as well as <br>
any --groups option, and only groups allowed there will
actually be fetched. For C News, the group name is also
checked against the ME entry, whereas in INN the ME entry is
just <br>
prepended to the spoolname entry.</p>

<p style="margin-top: 1em">In this way, the sys/newsfeed
file is used to control which newsgroups are actually
received from the remote site, in the same manner that the
local server determines which out&acirc; <br>
going article will go where.</p>

<p style="margin-top: 1em">If an -e option hasn&rsquo;t
been specified, the local active file is then traversed to
see if there are groups not mentioned in the current host
newsrc file. Again, only groups <br>
allowed by sys or newsfeeds is actually fetched. Since these
groups don&rsquo;t have a starting point specified, all
available articles will be fetched.</p>

<p style="margin-top: 1em">To avoid transferring
cross-posted articles more than once, articles with messags
IDs already fetched in the same session will not be fetched
again.</p>

<p style="margin-top: 1em">To make multiple news sources to
be used in an efficient manner, articles present in the
history database will be skipped.</p>

<p style="margin-top: 1em">The pull phase can be omitted
entirely by using the -g option.</p>

<p style="margin-top: 1em">Statistics on the connection
will be logged to syslog (or stderr with -d). The posted
article count is the total number of articles actually
posted. The duplicate count is how <br>
many message IDs from posted messages that were found to
already exist on the remote system. The missing count is
those posted articles that could no longer be found locally,
<br>
usually because they were canceled locally, or perhaps since
they were expired already.</p>

<p style="margin-top: 1em">The connection time and the
total number of characters transferred via the NNTP layer is
logged, in addition to the average speed of article
transfer. The speed given is the net <br>
rate, the calculation being based on the actual number of
characters belonging to news article head and body
parts.</p>

<p style="margin-top: 1em">A log file may be specified with
the -l option, and a folder of posted messages maintained
with the -f option.</p>

<p style="margin-top: 1em">ARGUMENTS <br>
options <br>
As detailed below.</p>

<p style="margin-top: 1em">spoolname <br>
The name of the outgoing spool queue. If not specified, the
value of the NNTPSERVER environment variable will be
used.</p>

<p style="margin-top: 1em">hostname <br>
The hostname of the remote NNTP server to connect to. If not
specified, the name of the spool will be used.</p>

<p style="margin-top: 1em">port The port used for
connecting to hostname. Will usually not need to be
specified, and port &quot;nntp&quot; will be assumed. The
port name &quot;telnet&quot; will receive special
treatment.</p>

<p style="margin-top: 1em">OPTIONS FOR LOGGING <br>
-f folder, --posted folder <br>
Posted articles will be appended to the standard mail folder
indicated. Note that the article will be added to the folder
the first time posting of an article is <br>
attempted. The actual status of the posting will appear in
the log file.</p>

<p style="margin-top: 1em">-l logfile, --log logfile <br>
Log information about successfully posted articles to the
file indicated.</p>

<p style="margin-top: 1em">--stat statfile <br>
A summary of article exchange statistics will be logged to
the file indicated.</p>

<p style="margin-top: 1em">--scanlogs <br>
Obey locks set by the INN scanlogs utility. This is
currently only meaningfull for use with a modified scanlogs
that understands newsx logs.</p>

<p style="margin-top: 1em">OPTIONS FOR NEWS ACCESS <br>
-a authfile, --auth authfile <br>
If specified, the username and password combination found in
authfile will be sent to the server as part of the simple
authorization protocol when the connection is first <br>
made. The file should consist of a line with two
blank-separated words, the first being the username, the
second the password. Do ensure that this file only has read
<br>
access only for those users that need to know.</p>

<p style="margin-top: 1em">--authgeneric <br>
Authentication with the server is performed using AUTHINFO
GENERIC. This works by spawning a child process via /bin/sh
string, where string is set in the environment <br>
variable NNTPAUTH. This process is expected to handle the
authentication portion of the connection.</p>

<p style="margin-top: 1em">-r, --reader <br>
A MODE READER command is sent to the remote server. This is
used when connecting to remote INN hosts that needs it, and
is the default state when using --ihave. With <br>
ihave, the command is issued between the ihave and fetch
phase, otherwise the command is issued initially.</p>

<p style="margin-top: 1em">--no-reader <br>
No MODE READER command is sent to the remote server. This is
the default state when not using --ihave.</p>

<p style="margin-top: 1em">--readbeforeauth <br>
Send the MODE READER command before attempting to
authenticate via an AUTHINFO command. Otherwise, it is sent
after the authentication. This option will obviously have no
<br>
effect unless you also specify both --reader and one of
--authgeneric or --auth authfile.</p>

<p style="margin-top: 1em">-w chatfile, --chat chatfile
<br>
Use chatfile to control any special connect sequence that
may be required before the NNTP protocol is connected. Only
implemented for the &quot;telnet&quot; protocol.</p>

<p style="margin-top: 1em">-x command, --exec command <br>
If specified, the command will be executed after the host
port has been opened. This option is used in rare cases when
special tricks has to be employed to get an NNTP <br>
connection activated.</p>

<p style="margin-top: 1em">-y program, --connect program
<br>
If specified, connect via a bidirectional pipe to program
instead of to a socket. The hostname and port arguments will
be ignored.</p>

<p style="margin-top: 1em">OPTIONS FOR POSTING <br>
-p, --no-post <br>
Do not attempt to do any posting.</p>

<p style="margin-top: 1em">--ihave <br>
Use NNTP IHAVE mechanism for submitting news messages,
instead of the default POST. If this is for forwarding news
in general, and not necessarily news generated locally, <br>
the setting of the --fail and --bounce option should be
carefully reviewed.</p>

<p style="margin-top: 1em">-m, --no-msgid <br>
Remove any message-ID header field from the posted message.
This should cause the receiving end to generate a fresh
message-ID. It should never been used together with <br>
--ihave.</p>

<p style="margin-top: 1em">-k, ----keep-path <br>
Keep the Path when posting. In posting mode, the Path is by
default stripped together with the NNTP-Posting-Host and
Xref header items, so that the path of the news arti&acirc;
<br>
cle as posted will appear to start at the actual posting
host. With --ihave, the path is always included.</p>

<p style="margin-top: 1em">--continue <br>
Ignore (but report) errors about non-existing outgoing
spools, and continue with news fetching instead.</p>

<p style="margin-top: 1em">--max-path len</p>

<p style="margin-top: 1em">All outgoing articles are
checked to see if the length of <br>
their paths are not too long. This is an extra precaution
against inadvertently submitting foreign articles for
posting. This option sets the maximum path length <br>
allowed. The default value is 1, consistent with a simple,
local, newsspool. To disable this feature, set it to an
impossibly large value, like 999.</p>

<p style="margin-top: 1em">OPTIONS FOR FETCHING <br>
-g, --no-fetch <br>
Do not attempt to fetch any news articles.</p>

<p style="margin-top: 1em">-e end_tag, --end end_tag <br>
Specify a tag in the incoming host state file, see
in.hosts(5). News fetching will end when a corresponding tag
line has been reached. The tag line consists of a colon <br>
followed by the tag itself. This is a useful tool for
dividing the newsgroups into several categories. Only a few
newsgroups may be fetched during prime time, whereas the
<br>
full list can be fetched once every night, for instance.</p>

<p style="margin-top: 1em">-W winsize, --window winsize
<br>
Specify the window size with respect to how many outstanding
NNTP requests will be allowed at any one time. The default
setting is 10. A value of 0 will disable windowing <br>
(aka. streaming) completely, making debugging easier.
Increasing the window can significantly improve the article
transfer speed. The effect is particulary pronounced <br>
over slow links and when many of the articles are already
present in the local spool, where an improvement in speed of
over 10 times has been observed compared to running <br>
with windowing disabled. All this at the penalty of an
increased host newsserver load, obviously.</p>

<p style="margin-top: 1em">-b minspool, --size minspool
<br>
Specify the minimum incoming spool size. After every new
group, if the spool file has reached the byte size
specified, a new spool batch will be made. Setting this
value <br>
to 1 will cause every newsgroup to be placed in a separate
spool.</p>

<p style="margin-top: 1em">--rnews <br>
Pipe incoming messages directly to rnews instead of placing
them into the in-coming spool.</p>

<p style="margin-top: 1em">--pipe-to program <br>
Pipe incoming messages to program instead of placing them
into the in-coming spool. A separate program and pipe is
initiated for each incoming message.</p>

<p style="margin-top: 1em">--rnews-to program <br>
Like --pipe-to, but the pipe is continuous for each session,
with article seperation is in rnews style.</p>

<p style="margin-top: 1em">-z, --sync <br>
Omit actual pulling of news articles. Instead, simply update
the host incoming state file to synchronize with the
currently highest available article numbers from the <br>
server in question. This option can be useful when a fresh
local spool is initiated. No article posting will be
attempted. See also in.hosts(5).</p>

<p style="margin-top: 1em">-Z, --syncnew <br>
Omit actual pulling of news articles in previously unseen
groups only. The net effect is that newly added groups will
start fetching from now on, instead of from the <br>
first article available at the host server.</p>

<p style="margin-top: 1em">--reset <br>
Ignore the latest article information in the host incoming
state file and attempt fetching all articles available from
the server, subject to the normal history lookup <br>
constraints. This option is useful if the remote spool has
been reconfigured. See also in.hosts(5).</p>

<p style="margin-top: 1em">--filter filterprog <br>
Enable message filtering via the program filterprog. Uses
the highwind interface model, where each article is given to
the filter in NNTP-fashion, and the filter responds <br>
with a 335 to accept, and a 435 to reject a message.</p>

<p style="margin-top: 1em">--mfilter filterprog <br>
Enable filtering by message ID. The filterprog will be
invoked once for each unseen message, with the message ID as
a command line argument. A non-zero return status will <br>
prevent the message from being transferred. This function is
obsolete, and will probably be removed in later
versions.</p>

<p style="margin-top: 1em">-X num, --maxnew num <br>
Fetch at most num articles from each new and previously
unseen newsgroup.</p>

<p style="margin-top: 1em">--maxart num <br>
Fetch at most num articles from each newsgroup. Note that
this might cause articles to be silently lost.</p>

<p style="margin-top: 1em">--no-path <br>
Unless the exclusion pattern is set to newsx, all incoming
articles are checked to see if their path is consistent with
the exclusions given in /usr/lib/news/newsfeeds. <br>
This option omits this check.</p>

<p style="margin-top: 1em">--forget-inactive <br>
Remove information in the incoming hosts state file about
newsgroups that are removed from the /usr/lib/news/active
file. See also in.hosts(5).</p>

<p style="margin-top: 1em">--minfree N <br>
Don&rsquo;t fetch news if there are less than N kbytes free
space in the news spool.</p>

<p style="margin-top: 1em">--group list <br>
Specify pattern for groups to be fetched that will apply in
addition to the ones in /usr/lib/news/newsfeeds. The syntax
is basically the same as for INN newsfeeds(5). It <br>
is recommended to put list in single quotes, since shells
may otherwise treat the ! character in strange ways. For a
list that specifies only negations, an initial
&rsquo;*&rsquo; <br>
clause will be assumed.</p>

<p style="margin-top: 1em">This options is particularily
useful to specify unsymmetric behaviour, i.e. <br>
groups where there will be outgoing traffic, but no incoming
articles. For instance, to explicitly avoid fetching of
control groups, use: <br>
--groups &rsquo;!control.*&rsquo;</p>

<p style="margin-top: 1em">It can also be useful to specify
that only a subset of groups should be fetched for the
occasion, e.g: <br>
--groups &rsquo;comp.*,!*.advocacy&rsquo;</p>

<p style="margin-top: 1em">It is recommended to put the
argument for --groups in single quotes.</p>

<p style="margin-top: 1em">GENERAL OPTIONS <br>
-c, --cnews <br>
Set to C News mode as opposed to INN. Controls details
regarding handling of spool and lock files.</p>

<p style="margin-top: 1em">-i, --inn <br>
Set to INN mode as opposed to C News. Controls details
regarding handling of spool and lock files.</p>

<p style="margin-top: 1em">--newline <br>
Uses single newline character as line terminator instead of
the carriage return, line feed sequence.</p>

<p style="margin-top: 1em">-v, --version <br>
Display program version. Include this when reporting bugs to
http://www.kvaleberg.com/bug/</p>

<p style="margin-top: 1em">--help Give a very brief usage
summary.</p>

<p style="margin-top: 1em">--no-ps <br>
Do not update the process status display.</p>

<p style="margin-top: 1em">OPTIONS FOR NEWSGROUPS <br>
Note: Unless otherwise specified, these options are in
addition to the usual actions and do not imply --no-post or
--no-fetch. Specify those switches if desired.</p>

<p style="margin-top: 1em">--list listname <br>
Obtain a list of newsgroups from the newsserver to listname.
The list consists of one line per newsgroup, containing the
newsgroup name, a blank, and a letter showing the <br>
group status (usually &rsquo;y&rsquo; for an active group,
&rsquo;m&rsquo; for a moderated group).</p>

<p style="margin-top: 1em">If the first character is a
&rsquo;|&rsquo;, <br>
listname is assumed to be a program path which will receive
the list as standard input (you will need to put the entire
argument in quotes to escape the usual shell inter&acirc;
<br>
pretation of &rsquo;|&rsquo;). If it is a single
&rsquo;-&rsquo;, the list will appear on the standard
output. Otherwise it will be assumed to be a filename.</p>

<p style="margin-top: 1em">--newlist listname <br>
Obtain a list of newsgroups not currently present on the
local server from the newsserver to listname. The list is
also subject to the limitations of the sys or newsfeeds <br>
file. The operation is otherwise as for the --list
option.</p>

<p style="margin-top: 1em">--desc descname <br>
Obtain a list of newsgroups descriptions from the newsserver
to descname. Only descriptions for locally active newsgroups
relevant to the newsfeed in question will be <br>
fetched.</p>

<p style="margin-top: 1em">The list consists of one line
per newsgroup, containing the newsgroup name, <br>
a tab, and a short textual description. A pipe may be
specified in descname kist as for the --list option.</p>

<p style="margin-top: 1em">--alldesc descname <br>
Obtain a list of all newsgroups descriptions available from
the newsserver to descname. The operation is otherwise as
for the --desc option.</p>

<p style="margin-top: 1em">OPTIONS FOR ERROR HANDLING <br>
-t timeout, --timeout timeout <br>
Specify timeout for TCP/IP and lockfile operations, in
seconds. The default value is 600.</p>

<p style="margin-top: 1em">--fail time <br>
Specify the maximum age of an article. Whenever an attempt
of posting an article fails, and the specified time limit is
exceeded, the article will be declared as failed, <br>
and a bounce message will be generated. The default unit is
hours; the suffixes s for seconds, m for minutes, h for
hours, d for days and w for weeks would change this. <br>
They can also be combined, e.g. &quot;4h30m&quot;. In
absence of this option, no fail by age will be performed.
Setting the time to zero will bounce messages after the
first failed <br>
attempt.</p>

<p style="margin-top: 1em">--bounce addr <br>
Specify the destination address for messages bounced due to
the fail time being exceeded. If addr is specified as none,
no bounce will be generated. The default value, <br>
poster, causes messages to be returned to the sender. This
setting should definitely only be used in situations where
newsx is utilized for posting locally generated news.</p>

<p style="margin-top: 1em">--attach how <br>
Specifies the way the original message is handled for
bounced messages:</p>

<p style="margin-top: 1em">mime Send the original as a Mime
attachement. This is the default behaviour.</p>

<p style="margin-top: 1em">yes Append the original to the
mail message itself.</p>

<p style="margin-top: 1em">no Do not attach the original
message.</p>

<p style="margin-top: 1em">OPTIONS MOSTLY FOR NEWS GATEWAYS
<br>
The following options are not for ordinary use: They would
only be used for special configurations where newsx is used
as a sort of gateway to inject news messages from other <br>
sources.</p>

<p style="margin-top: 1em">--inews <br>
Pipe incoming messages directly to inews, inject them into
the local spool via the same interface as is used for local
new messages.</p>

<p style="margin-top: 1em">--inews-options options <br>
Specify command line options for --inews. The leading
&rsquo;-&rsquo; must be included. The default inews options
are &quot;-hOS&quot;.</p>

<p style="margin-top: 1em">--add-header header <br>
Add a specific header to incoming messages. The header will
be added exactly as specified, adding a trailing
newline.</p>

<p style="margin-top: 1em">The exception is for the special
4 letter string &quot;Path&quot;. <br>
This will be replaced by a header line that says &quot;Path:
HOSTNAME!not-for-mail&quot; if the incoming message contains
no Path:. This can be quite essential for news gateways to
<br>
prevent injected messages to be retured back to the
source.</p>

<p style="margin-top: 1em">OPTIONS FOR PROFILE FILES <br>
--profile file <br>
Read a newsx profile from file . This file can contain
command line options to specify default newsx behaviour. See
newsx.conf(5) for an overview of the format.</p>

<p style="margin-top: 1em">Any option may be used in
profile files. Some options are really only meaningfull in
profile files:</p>

<p style="margin-top: 1em">--spoolname spoolname <br>
Specify a default spoolname.</p>

<p style="margin-top: 1em">--hostname hostname <br>
Specify a default hostname.</p>

<p style="margin-top: 1em">--port port <br>
Specify a default port for connecting to hostname.</p>

<p style="margin-top: 1em">OPTIONS FOR CONFIGURATION <br>
Configuration to the local news system peculiarities is
traditionally done at build-time, but it is possible to
specify at runtime in various ways.</p>

<p style="margin-top: 1em">--config <br>
Read and obey the standard news configuration file in
/usr/lib/news/lib/innshellvars. This allows newsx to adapt
to changes in the local newsserver configuration
dynami&acirc; <br>
cally.</p>

<p style="margin-top: 1em">--config-is configfile <br>
Like --config, except that the configuration filename is
specified. A list of files may also be specified, seperated
by colons. In this case, the first file on this list <br>
that exists will be used.</p>

<p style="margin-top: 1em">--home newshome <br>
Use newshome as the news home directory instead of the
default /usr/lib/news. A full path must be specified.</p>

<p style="margin-top: 1em">-s spooldir, --spool spooldir
<br>
Use spooldir as the news article spool directory instead of
the default /var/spool/news. A full path must be
specified.</p>

<p style="margin-top: 1em">--togo togofile <br>
Specify the name of the C News togo file for outgoing news.
No effect in INN mode. Required only if different from the
default value /var/spool/news/outgoing/spool&acirc; <br>
name/togo. A leading &rsquo;/&rsquo; specifices a full path,
a leading &rsquo;.&rsquo; is relative from the current
directory, otherwise the name is relative to
/var/spool/news/outgoing/spool&acirc; <br>
name.</p>

<p style="margin-top: 1em">--batch batchdir <br>
Use batchdir as the outgoing news article spool directory
instead of the default /usr/lib/newsbin. A leading
&rsquo;/&rsquo; specifices a full path, a leading
&rsquo;.&rsquo; is relative from <br>
the current directory, otherwise the name is relative to
/var/spool/news.</p>

<p style="margin-top: 1em">-h historydb, --history
historydb <br>
Specify the name of the history database file, used for
checking if news articles are already present in the spool.
Required only when using a name different from the <br>
default /usr/lib/news/history. An empty argument
&quot;&quot; will prevent any referrence to the news history
database.</p>

<p style="margin-top: 1em">--active activefile <br>
Specify the name of the active newsgroup file for incoming
news. Required only if different from the default value
/usr/lib/news/active. A leading &rsquo;/&rsquo; specifices a
full <br>
path, a leading &rsquo;.&rsquo; specifies a path relative to
the current directory, otherwise the name is relative to
/usr/lib/news.</p>

<p style="margin-top: 1em">--newsfeeds newsfeedsfile <br>
Specify the name of the newsfeed specification file. This
will override the default both in C News (sys) and INN
(newsfeeds) modes. File name conventions as for
--active.</p>

<p style="margin-top: 1em">--incoming incomingdir <br>
Use incomingdir as the incoming news article spool directory
instead of the default /var/spool/news/incoming. Fine name
conventions as for --active, except that the <br>
default directory is /var/spool/news.</p>

<p style="margin-top: 1em">--inhosts inhostsdir <br>
Use inhostsdir as the news host active file directory
instead of the default /var/spool/news/inhosts. Name
conventions as for --incoming. See also in.hosts(5).</p>

<p style="margin-top: 1em">--hostconfig hostconfigdir <br>
Use hostconfigdir as the directory for the host specific
profile. instead of the default /var/spool/news/in.hosts.
Name conventions as for --incoming. See also <br>
newin.hosts(5) and newsx.conf(5).</p>

<p style="margin-top: 1em">OPTIONS FOR TESTING AND
DEBUGGING <br>
--debug level <br>
Set debug level. Any level different from zero diverts
reporting to stderr instead of syslog, and turns on extra
debugging output. Level 2 will output a &rsquo;.&rsquo; for
every new <br>
article. Level 3 will log all NNTP commands. Level 4 will
produce the same state information that is available via the
process status display. Going to level 5 will <br>
produce additional debug information, level 6 will include
history database debug, while level 7 also will show all
communications over the NNTP socket, article content <br>
included.</p>

<p style="margin-top: 1em">-d, --verbose <br>
Enable debugging, and sets the debug level according to the
number of times it is specified.</p>

<p style="margin-top: 1em">-n, --dry-run <br>
No-action flag, will &quot;fake&quot; an NNTP connection,
and leave the outgoing batch untouched. Probably useful only
with --debug for debugging and dry-testing.</p>

<p style="margin-top: 1em">--verify <br>
Used together with --configor --config-is, causes the
configuration to be verified, but not adapted to.</p>

<p style="margin-top: 1em">-o, --keepold <br>
Keep the previous outgoing spool in an &quot;.old&quot;
file. This might seem like a useful option for ordinary use,
but the problem is that a non-empty file might cause a news
<br>
watch program to believe there is a stale outgoing
spool.</p>

<p style="margin-top: 1em">-u, --no-force <br>
After the timeout of lockfile operations, just give up and
do not attempt to unlock the lockfiles and remove the stale
process.</p>

<p style="margin-top: 1em">--no-queue <br>
Do not queue up for access to a news host. If a lock already
exists for the specified host, just give up and don&rsquo;t
queue up for it.</p>

<p style="margin-top: 1em">--locks locksdir <br>
Use locksdir as the lock file directory instead of the
default /usr/lib/news. Fine name conventions as for
--active, except that the default directory is
/usr/lib/news. <br>
If the string none is supplied, no locking will occur. All
this should of course be used only if you really, really
know what you are doing.</p>

<p style="margin-top: 1em">-q &quot;msgid&quot;, --enquire
&quot;msgid&quot; <br>
Enquires whether the msgid is present in the local history
database. The msgid should include the angle brackets.
Implies --no-post and --no-fetch.</p>

<p style="margin-top: 1em">--no-hostlock <br>
Do not implement the newsx host access lock. Should only be
used if you really know what you are doing.</p>

<p style="margin-top: 1em">--no-next <br>
Do not use the NNTP NEXT command. This causes newsx not to
attempt to use NEXT for filling out gaps in the article
sequence.</p>

<p style="margin-top: 1em">--missing &quot;num&quot; <br>
Tunes the number of missing articles in a row before a NEXT
command is issued, instead of a sequential STAT. A value of
zero will cause NEXT to be used extensively. The <br>
default value is 0 if no window, 2 if a window is
specified.</p>

<p style="margin-top: 1em">--keep-fake <br>
Some remote news servers generate faked news articles.
Normally, you would want newsx to skip them, but with this
option you can actually fetch them.</p>

<p style="margin-top: 1em">SPECIAL CONNECT SEQUENCE <br>
The -w option specifies that a special connect sequence is
required, and that a script for this sequence can be found
in the chatfile. This file consists of lines that contains
<br>
pattern receive and send pairs, separated by blanks. The
patterns may be enclosed in quotes. The script is currently
only available for the &quot;telnet&quot; protocol.</p>

<p style="margin-top: 1em">A typical invocation line would
be: <br>
newsx -w chat.acme acme login.acme.net telnet</p>

<p style="margin-top: 1em">The file chat.acme could look
like this: <br>
# login for acme.net NNTP <br>
login: myusername <br>
Password: mypassword <br>
$ &quot;exec telnet news.acme.net nntp&quot; <br>
ECHO</p>

<p style="margin-top: 1em">The script will have to be
adapted for local conditions, of course.</p>

<p style="margin-top: 1em">The special tag ECHO specifies
that line echo should be suppressed, required since the host
telnet operates in line mode.</p>

<p style="margin-top: 1em">Since this file usually contains
passwords and other sensitive information, ensure that read
access to it is limited.</p>

<p style="margin-top: 1em">PROCESS STATUS <br>
The ps process status will also show the current newsx
status. During the actual news transfer phase, it will show
which group and article number that is being fetched. A
contin&acirc; <br>
uous status can be obtained by; <br>
newsq -c</p>

<p style="margin-top: 1em">This feature can be disabled via
the --no-ps option.</p>

<p style="margin-top: 1em">CONFIGURATION FORMAT <br>
For INN, the following configuration items will be used:</p>

<p style="margin-top: 1em">$INND Signals an INN
configuration.</p>

<p style="margin-top: 1em">$NEWSBIN <br>
Directory for INN binaries.</p>

<p style="margin-top: 1em">$NEWSHOME <br>
News home directory.</p>

<p style="margin-top: 1em">$PATHETC <br>
Directory for news configuration files. Defaults to
$NEWSHOME if not available.</p>

<p style="margin-top: 1em">$SPOOL If $SPOOL contains the
string &quot;/articles&quot;, the incoming host directory
$INHOSTS will be formed by replacing it with
&quot;/inhosts&quot;. Otherwise, &quot;$SPOOL/in.hosts&quot;
will be used.</p>

<p style="margin-top: 1em">$BATCH Outgoing spool.</p>

<p style="margin-top: 1em">$INCOMING <br>
Incoming spool.</p>

<p style="margin-top: 1em">$ACTIVE <br>
Active file.</p>

<p style="margin-top: 1em">$HISTORY <br>
History database.</p>

<p style="margin-top: 1em">$LOCKS DIrectory for
lockfiles.</p>

<p style="margin-top: 1em">$NEWSFEEDS <br>
Newsfeeds file.</p>

<p style="margin-top: 1em">$EXTENDEDDBZ <br>
True is history database in extended format. Only relevant
for early INN 2.x where there is no libinn, otherwise
ignored.</p>

<p style="margin-top: 1em">For C News:</p>

<p style="margin-top: 1em">$NEWSBIN</p>

<p style="margin-top: 1em">$NEWSCTL <br>
Equivalent to INN $NEWSHOME. $ACTIVE will be
&quot;$NEWSCTL/active&quot;. $HISTORY will be
&quot;$NEWSCTL/history&quot;. $NEWSFEEDS will be
&quot;$NEWSCTL/sys&quot;. $LOCKS and $PATHETC will be <br>
&quot;$NEWSCTL&quot;.</p>

<p style="margin-top: 1em">$NEWSARTS <br>
Equivalent to INN $SPOOL. $BATCH will be
&quot;$NEWSARTS/out.going&quot;. $INCOMING will be
&quot;$NEWSARTS/in.coming&quot;. $INHOSTS will be
&quot;$NEWSARTS/in.hosts&quot;.</p>

<p style="margin-top: 1em">LOG FILE FORMAT <br>
The -l log file of posted articles will contain one line for
each article. To be compatible with the INN format, each
field is separated by a tabstop:</p>

<p style="margin-top: 1em">Month Standard 3 letter
abbreviation.</p>

<p style="margin-top: 1em">Date 2 digits</p>

<p style="margin-top: 1em">HH:MM:SS <br>
Local time.</p>

<p style="margin-top: 1em">Year 4 digits.</p>

<p style="margin-top: 1em">Spool Name of outgoing
spool.</p>

<p style="margin-top: 1em">&lt;Msgid&gt; <br>
Within angle brackets.</p>

<p style="margin-top: 1em">Filename <br>
As it appears in the spool file.</p>

<p style="margin-top: 1em">Sender The value of the
Sender-field, or From-field if no Sender is available.</p>

<p style="margin-top: 1em">Status &quot;OK&quot; for
successfully posted items, &quot;Duplicate&quot; for items
already posted.</p>

<p style="margin-top: 1em">Lines Number of lines in the
posting.</p>

<p style="margin-top: 1em">Status Message status.
&quot;OK&quot; if everything went well, otherwise an error
message appears.</p>

<p style="margin-top: 1em">INCOMING SPOOL FORMAT <br>
The incoming spool consists of files with the file name
ending by &quot;.t&quot;. Each file can contain many
articles. Each article is prefixed by the following header:
<br>
#! rnews N</p>

<p style="margin-top: 1em">The number N is the number of
bytes of the article proper, not counting the header line.
The article follows after the header line. It appears
exactly as received from the news <br>
server except that CR/LF sequences are replaced by proper
newlines, and the terminating full stop is not included.</p>

<p style="margin-top: 1em">MESSAGE HEADER HANDLING <br>
Incoming message headers will pass through without
modification, with the exception that the text
&quot;newsx&quot; will be added if not there already when
the exclusion pattern for the <br>
newshost is set to &quot;newsx&quot;.</p>

<p style="margin-top: 1em">Most outgoing message header
items will also pass through, altough some header items are
handled specially:</p>

<p style="margin-top: 1em">From: Will be used for
indentifying the sender if everything else fails.</p>

<p style="margin-top: 1em">Message-ID: <br>
Will be used for logging purposes. The --no-msgid will
remove this item for messages being posted.</p>

<p style="margin-top: 1em">NNTP-Posting-Date:</p>

<p style="margin-top: 1em">NNTP-Posting-Host: <br>
Will always be removed for messages being posted.</p>

<p style="margin-top: 1em">Path: Will be removed for
messages being posted, unless the ----keep-path option is
given.</p>

<p style="margin-top: 1em">Reply-to: <br>
Will be used for indentifying the sender.</p>

<p style="margin-top: 1em">Sender: <br>
Will be used for indentifying the sender.</p>

<p style="margin-top: 1em">Xref: Will always be removed
from outgoing messages.</p>

<p style="margin-top: 1em">X-Server-Date:</p>

<p style="margin-top: 1em">X-Trace:</p>

<p style="margin-top: 1em">X-Complaints-To: <br>
Will always be removed for messages being posted.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
newsx returns error codes as follows: <br>
0 - Successful completion <br>
1 - General system error <br>
2 - Incorrect arguments supplied. <br>
3 - Error connecting to remote host <br>
4 - NNTP Protocol error <br>
5 - Errors accessing outgoing spool file. <br>
6 - Errors accessing host newsrc file. <br>
7 - Errors accessing incoming spool file. <br>
8 - Errors accessing local active and sys files. <br>
9 - Socket access error (e.g. connection timeout) <br>
10 - Errors accessing authinfo file. <br>
11 - Connect script failure. <br>
12 - Option -q did not find the message ID. <br>
13 - Wait for lock timed out.</p>

<p style="margin-top: 1em">NOTES <br>
Distribution fields are ignored by newsx, and the handling
of them left to the news server.</p>

<p style="margin-top: 1em">BUGS <br>
Report any bugs to http://www.kvaleberg.com/bug/</p>

<p style="margin-top: 1em">FILES <br>
See also in.hosts(5).</p>

<p style="margin-top: 1em">/usr/lib/news/newsx.conf <br>
Newsx standard profile. If it exists, this profile file will
be read before the command line arguments are parsed. See
newsx.conf(5).</p>

<p style="margin-top: 1em">/usr/lib/news/lib/innshellvars
<br>
The standard news configuration file.</p>

<p style="margin-top: 1em">For C News:</p>


<p style="margin-top: 1em">/var/spool/news/outgoing/spoolname/togo
<br>
Spool file</p>


<p style="margin-top: 1em">/var/spool/news/outgoing/spoolname/togo.old
<br>
Previous spool file</p>


<p style="margin-top: 1em">/var/spool/news/outgoing/spoolname/LOCKb
<br>
Lock file</p>


<p style="margin-top: 1em">/var/spool/news/incoming/.tmp.$$
<br>
Incoming spool, temporary file. $$ is the process ID.</p>


<p style="margin-top: 1em">/var/spool/news/incoming/T.$$.S.t
<br>
Incoming spool, when finished and ready for newsrun. T is
the current Unix time, $$ is the process ID, and, S is a
sequence number.</p>

<p style="margin-top: 1em">/usr/lib/news/active <br>
Local active file, contains a list over all currently active
newsgroups in the local spool. This is used as a basis for
constructing a list over which newsgroups will <br>
actually be requested.</p>

<p style="margin-top: 1em">/usr/lib/news/sys <br>
Newsserver configuration file. This is used as a filter
against the local active list, deciding which newsgroups
which will actually be pulled. The basic format of each <br>
specification is: <br>
site/exclusions:grouplist/distlist:flags:cmd</p>

<p style="margin-top: 1em">If the exclusions field is set
to newsx, newsx will modify the path of incoming news to
include the &quot;newsx&quot; pattern.</p>

<p style="margin-top: 1em">The site field identifies the
remote news source.</p>

<p style="margin-top: 1em">The grouplist is a comma
separated list of group pattern names. A !-prefix signifies
exclusions, and the name all matches anything.</p>

<p style="margin-top: 1em">/usr/lib/news/history</p>

<p style="margin-top: 1em">/usr/lib/news/history.pag</p>

<p style="margin-top: 1em">/usr/lib/news/history.dir <br>
Local news spool database.</p>

<p style="margin-top: 1em">For INN:</p>


<p style="margin-top: 1em">/var/spool/news/outgoing/spoolname
<br>
Spool file</p>


<p style="margin-top: 1em">/var/spool/news/outgoing/spoolname.old
<br>
Previous spool file</p>

<p style="margin-top: 1em">/usr/lib/news/LOCK.spoolname
<br>
Lock file</p>

<p style="margin-top: 1em">/usr/lib/news/active <br>
Local active file, contains a list over all currently active
newsgroups in the local spool. This is used as a basis for
constructing a list over which newsgroups will <br>
actually be requested.</p>

<p style="margin-top: 1em">/usr/lib/news/newsfeeds <br>
Newsserver configuration file. This is used as a filter
against the local active list, deciding which newsgroups
which will actually be pulled. The basic format of each <br>
specification is: <br>
site/exclusions:grouplist/distlist:flags:param</p>

<p style="margin-top: 1em">If the exclusions field is set
to newsx, newsx will modify the path of incoming news to
include the &quot;newsx&quot; pattern.</p>

<p style="margin-top: 1em">The site field identifies the
remote news source.</p>

<p style="margin-top: 1em">The grouplist is a comma
separated list of group pattern names. A !-prefix signifies
groups not exchanged, and the name * matches anything.</p>

<p style="margin-top: 1em">/usr/lib/news/history</p>

<p style="margin-top: 1em">/usr/lib/news/history.pag</p>

<p style="margin-top: 1em">/usr/lib/news/history.dir <br>
Local news spool article database.</p>

<p style="margin-top: 1em">AUTHOR <br>
Egil Kvaleberg &lt;egil@kvaleberg.no&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
newsq(1), in.hosts(5)</p>

<p style="margin-top: 1em">C News: news(5), newsdb(5),
newssys(5), rnews(8)</p>

<p style="margin-top: 1em">INN: rnews(1), inews(1),
wildmat(3), active(5), history(5), newsfeeds(5),
ctlinnd(8)</p>

<p style="margin-top: 1em">RFC-977 - Network News Transfer
Protocol (NNTP) <br>
RFC-1036 - Usenet Article Format</p>


<p style="margin-top: 1em">http://www.kvaleberg.com/ISP-Hookup-HOWTO.html
<br>
http://www.kvaleberg.com/newsx.html</p>
 
<p style="margin-top: 1em">NEWSX(8)</p>
<hr>
</body>
</html>
