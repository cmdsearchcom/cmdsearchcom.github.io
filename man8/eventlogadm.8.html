<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>EVENTLOGADM(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">EVENTLOGADM(8)</td>
    <td class="head-vol">System Administration tools</td>
    <td class="head-rtitle">EVENTLOGADM(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
eventlogadm - push records into the Samba event log store
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">eventlogadm
  [<b>-s</b>] [<b>-d</b>] [<b>-h</b>]
  <b>-o</b>&#x00A0;addsource&#x00A0;<i>EVENTLOG</i>&#x00A0;
  <i>SOURCENAME</i>&#x00A0; <i>MSGFILE</i></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">eventlogadm
  [<b>-s</b>] [<b>-d</b>] [<b>-h</b>]
  <b>-o</b>&#x00A0;write&#x00A0;<i>EVENTLOG</i></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">eventlogadm
  [<b>-s</b>] [<b>-d</b>] [<b>-h</b>]
  <b>-o</b>&#x00A0;dump&#x00A0;<i>EVENTLOG</i>&#x00A0;
  <i>RECORD_NUMBER</i></div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This tool is part of the <b>samba</b>(1) suite.
<div class="Pp"></div>
eventlogadm is a filter that accepts formatted event log records on standard
  input and writes them to the Samba event log store. Windows client can then
  manipulate these record using the usual administration tools.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-s</b> <i>FILENAME</i>
<div style="margin-left: 4.00ex;">The -s option causes eventlogadm to load the
  configuration file given as FILENAME instead of the default one used by
  Samba.</div>
<div class="Pp"></div>
<b>-d</b>
<div style="margin-left: 4.00ex;">The -d option causes eventlogadm to emit
  debugging information.</div>
<div class="Pp"></div>
<b>-o</b> addsource <i>EVENTLOG</i> <i>SOURCENAME</i> <i>MSGFILE</i>
<div style="margin-left: 4.00ex;">The -o addsource option creates a new event
  log source.</div>
<div class="Pp"></div>
<b>-o</b> write <i>EVENTLOG</i>
<div style="margin-left: 4.00ex;">The -o write reads event log records from
  standard input and writes them to the Samba event log store named by
  EVENTLOG.</div>
<div class="Pp"></div>
<b>-o</b> dump <i>EVENTLOG</i> <i>RECORD_NUMBER</i>
<div style="margin-left: 4.00ex;">The -o dump reads event log records from a
  EVENTLOG tdb and dumps them to standard output on screen.</div>
<div class="Pp"></div>
<b>-h</b>
<div style="margin-left: 4.00ex;">Print usage information.</div>
<h1 class="Sh" title="Sh" id="EVENTLOG_RECORD_FORMAT"><a class="selflink" href="#EVENTLOG_RECORD_FORMAT">EVENTLOG
  RECORD FORMAT</a></h1>
For the write operation, eventlogadm expects to be able to read structured
  records from standard input. These records are a sequence of lines, with the
  record key and data separated by a colon character. Records are separated by
  at least one or more blank line.
<div class="Pp"></div>
The event log record field are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;LEN - This field should be 0, since
  eventlogadm will calculate this value.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;RS1 - This must be the value
  1699505740.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;RCN - This field should be 0.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;TMG - The time the eventlog record was
  generated; format is the number of seconds since 00:00:00 January 1, 1970,
  UTC.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;TMW - The time the eventlog record was
  written; format is the number of seconds since 00:00:00 January 1, 1970,
  UTC.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;EID - The eventlog ID.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;ETP - The event type -- one of
  &quot;INFO&quot;, &quot;ERROR&quot;, &quot;WARNING&quot;, &quot;AUDIT
  SUCCESS&quot; or &quot;AUDIT FAILURE&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;ECT - The event category; this depends
  on the message file. It is primarily used as a means of filtering in the
  eventlog viewer.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;RS2 - This field should be 0.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;CRN - This field should be 0.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;USL - This field should be 0.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;SRC - This field contains the source
  name associated with the event log. If a message file is used with an event
  log, there will be a registry entry for associating this source name with a
  message file DLL.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;SRN - The name of the machine on which
  the eventlog was generated. This is typically the host name.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;STR - The text associated with the
  eventlog. There may be more than one string in a record.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;DAT - This field should be left
  unset.</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
An example of the record format accepted by eventlogadm:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
	LEN: 0
	RS1: 1699505740
	RCN: 0
	TMG: 1128631322
	TMW: 1128631322
	EID: 1000
	ETP: INFO
	ECT: 0
	RS2: 0
	CRN: 0
	USL: 0
	SRC: cron
	SRN: dmlinux
	STR: (root) CMD ( rm -f /var/spool/cron/lastrun/cron.hourly)
	DAT:
	
</pre>
</div>
<div class="Pp"></div>
Set up an eventlog source, specifying a message file DLL:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
	eventlogadm -o addsource Application MyApplication | \\
	    	%SystemRoot%/system32/MyApplication.dll
	
</pre>
</div>
<div class="Pp"></div>
Filter messages from the system log into an event log:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
	tail -f /var/log/messages | \\
		my_program_to_parse_into_eventlog_records | \\
	      	eventlogadm SystemLogEvents
	
</pre>
</div>
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page is correct for version 3.0.25 of the Samba suite.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The original Samba software and related utilities were created by Andrew
  Tridgell. Samba is now developed by the Samba Team as an Open Source project
  similar to the way the Linux kernel is developed.</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/25/2017</td>
    <td class="foot-os">Samba 4.4</td>
  </tr>
</table>
</body>
</html>
