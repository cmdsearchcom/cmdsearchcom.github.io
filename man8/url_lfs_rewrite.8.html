<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>URL_LFS_REWRITE(8) User Contributed Perl Documentation
URL_LFS_REWRITE(8)</p>

<p style="margin-top: 1em">NAME <br>
url_lfs_rewrite</p>

<p style="margin-top: 1em">SYNOPSIS <br>
url_lfs_rewrite [--debug] --local-dir=/var/www/
[options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Direct all request to files who are in a local directory to
a local web server hosting this directory.</p>

<p style="margin-top: 1em">This program uses Squid
concurrency support.</p>

<p style="margin-top: 1em">OPTIONS <br>
--debug Write debug info to stderr.</p>

<p style="margin-top: 1em">--local-dir Directory path under
which the scripts searches for files.</p>

<p style="margin-top: 1em">--to-scheme Scheme to use for
the redirected URL.</p>

<p style="margin-top: 1em">Default: http</p>

<p style="margin-top: 1em">--to-host Domain name to use for
the redirected URL.</p>

<p style="margin-top: 1em">Default: localhost</p>

<p style="margin-top: 1em">--to-path URL path to add as
prefix for the redirected URL path.</p>

<p style="margin-top: 1em">If set it must end with a
&rsquo;/&rsquo;.</p>

<p style="margin-top: 1em">Default: use the original URL
path.</p>

<p style="margin-top: 1em">KNOWN ISSUES <br>
* The --local-dir parameter must end with a &rsquo;/&rsquo;.
Otherwise no <br>
file paths will be found.</p>

<p style="margin-top: 1em">* URL with no filename in the
path can match directories on the local <br>
filesystem and be wrongly redirected to the local web
server.</p>

<p style="margin-top: 1em">* Any scheme name accepted by
the Perl URL library can be used <br>
as the --to-scheme parameter. However only schemes supported
by <br>
Squid will work.</p>

<p style="margin-top: 1em">* URL containing query-string
are not handled well and will not <br>
be rewritten even if the base script or file exists on the
local <br>
system.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
url_rewrite_program /path/to/url_lfs_rewrite
--local-dir=0alhost <br>
url_rewrite_children 20 startup=1 idle=1 concurrency=25 <br>
url_rewrite_access deny CONNECT <br>
url_rewrite_access deny to_localhost</p>

<p style="margin-top: 1em">This helper can redirect to any
web server but only does so if there is a file matching the
URL path segment in the local filesystem. Normal
configuration requires a web server <br>
running on localhost serving up files from a local disk (eg.
0alhost). Configuration of that web server is not covered
here.</p>

<p style="margin-top: 1em">AUTHOR <br>
This program and documentation was written by Amos Jeffries
&lt;squid3@treenet.co.nz&gt;</p>

<p style="margin-top: 1em">Based on prior work in rredir.pl
by Peter Eisenhauer &lt;pe@pipetronix.de&gt;. First Version:
26. May 1997</p>

<p style="margin-top: 1em">COPYRIGHT <br>
* Copyright (C) 1996-2017 The Squid Software Foundation and
contributors <br>
* <br>
* Squid software is distributed under GPLv2+ license and
includes <br>
* contributions from numerous individuals and organizations.
<br>
* Please see the COPYING and CONTRIBUTORS files for
details.</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Bug reports need to be made in English. See
http://wiki.squid-cache.org/SquidFaq/BugReporting for
details of what you need to include with your bug
report.</p>

<p style="margin-top: 1em">Report bugs or bug fixes using
http://bugs.squid-cache.org/</p>

<p style="margin-top: 1em">Report serious security bugs to
Squid Bugs &lt;squid-bugs@squid-cache.org&gt;</p>

<p style="margin-top: 1em">Report ideas for new
improvements to the Squid Developers mailing list
&lt;squid-dev@squid-cache.org&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
squid (8), GPL (7),</p>

<p style="margin-top: 1em">The Squid FAQ wiki
http://wiki.squid-cache.org/SquidFaq</p>

<p style="margin-top: 1em">The Squid Configuration Manual
http://www.squid-cache.org/Doc/config/</p>

<p style="margin-top: 1em">perl v5.24.1 2017-06-20
URL_LFS_REWRITE(8)</p>
<hr>
</body>
</html>
