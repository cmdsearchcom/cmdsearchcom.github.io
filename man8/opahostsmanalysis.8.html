<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:05 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">opahostsmanalysis(8) Master map:
IFSFFCLIRG (Man Page) opahostsmanalysis(8)</p>

<p style="margin-top: 1em">NAME <br>
opahostsmanalysis</p>

<p style="margin-top: 1em">(All) Performs analysis against
the local server only. It is assumed that both the host SM
and the FastFabric are installed on the same system.</p>

<p style="margin-top: 1em">The host SM analysis tool checks
the following:</p>

<p style="margin-top: 1em">&Acirc;&middot; Host SM software
version</p>

<p style="margin-top: 1em">&Acirc;&middot; Host SM
configuration file (simple text compare using
FF_DIFF_CMD)</p>

<p style="margin-top: 1em">&Acirc;&middot; Host SM health
(for example, is it running?)</p>

<p style="margin-top: 1em">Syntax <br>
opahostsmanalysis [-b|-e] [-s] [-d dir]</p>

<p style="margin-top: 1em">Options <br>
--help Produces full help text.</p>

<p style="margin-top: 1em">-b Baseline mode. Default is the
compare/check mode.</p>

<p style="margin-top: 1em">-e Evaluates health only.
Default is the compare/check mode.</p>

<p style="margin-top: 1em">-s Saves history of failures
(errors/differences).</p>

<p style="margin-top: 1em">-d dir Top-level directory for
saving baseline and history of failed checks. Default =
/var/lib/opa-ff/analysis</p>

<p style="margin-top: 1em">Example <br>
opahostsmanalysis</p>

<p style="margin-top: 1em">Environment Variables <br>
The following environment variables are also used by this
command:</p>

<p style="margin-top: 1em">FF_ANALYSIS_DIR <br>
Top-level directory for baselines and failed health
checks.</p>

<p style="margin-top: 1em">FF_CURTIME <br>
Timestamp to use on the directory created in
FF_DIFF_CMD.</p>

<p style="margin-top: 1em">FF_DIFF_CMD <br>
Linux* command to use to compare baseline to latest
snapshot.</p>

<p style="margin-top: 1em">Details <br>
All files generated by opahostsmanalysis start with hostsm
in the file name.</p>

<p style="margin-top: 1em">The opahostsmanalysis tool
generates files such as the following within
FF_ANALYSIS_DIR. The actual file names reflect the
individual chassis commands that have been configured <br>
using the FF_CHASSIS_HEALTH and FF_CHASSIS_CMDS
parameters:</p>

<p style="margin-top: 1em">Health Check</p>

<p style="margin-top: 1em">&Acirc;&middot;
latest/hostsm.smstatus #8217#8211; Output of the sm_query
smShowStatus command.</p>

<p style="margin-top: 1em">Baseline</p>

<p style="margin-top: 1em">&Acirc;&middot;
baseline/hostsm.smver #8217#8211; Host SM version.</p>

<p style="margin-top: 1em">&Acirc;&middot;
baseline/hostsm.smconfig #8217#8211; Copy of
opafm.config.</p>

<p style="margin-top: 1em">During a baseline run, the files
are also created in FF_ANALYSIS_DIR/latest.</p>

<p style="margin-top: 1em">Full Analysis</p>

<p style="margin-top: 1em">&Acirc;&middot;
latest/hostsm.smstatus #8217#8211; Output of the sm_query
smShowStatus command.</p>

<p style="margin-top: 1em">&Acirc;&middot;
latest/hostsm.smver #8217#8211; Host SM version.
latest/hostsm.smver.diff - diff of the baseline and latest
host SM version.</p>

<p style="margin-top: 1em">&Acirc;&middot;
latest/hostsm.smconfig #8217#8211; Copy of opafm.xml.</p>

<p style="margin-top: 1em">&Acirc;&middot;
latest/hostsm.smconfig.diff #8217#8211; diff of the baseline
and the latest opafm.xml.</p>

<p style="margin-top: 1em">The .diff files are only created
if differences are detected.</p>

<p style="margin-top: 1em">If the -s option is used and
failures are detected, files related to the checks that
failed are also copied to a time-stamped directory name
under FF_ANALYSIS_DIR.</p>

<p style="margin-top: 1em">Host SM Items Checked Against
the Baseline <br>
&Acirc;&middot; SM configuration file.</p>

<p style="margin-top: 1em">&Acirc;&middot; Version of the
SM rpm installed on the system.</p>

<p style="margin-top: 1em">Host SM Items Also Checked
During Health Check <br>
&Acirc;&middot; The SM is in the running state.</p>

<p style="margin-top: 1em">Copyright(C) 2015-2016 Intel
Corporation opahostsmanalysis(8)</p>
<hr>
</body>
</html>
