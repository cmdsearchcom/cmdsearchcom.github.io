<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>targetd(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">targetd(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">targetd(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>targetd</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>targetd</b> is a service to allow the remote configuration of block device
  volumes and file systems within dedicated pools. Block devices can be exported
  to other hosts via iSCSI, and filesystems can be exported via NFS.
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
Run <b>targetd</b> as root.
<h1 class="Sh" title="Sh" id="CONFIGURATION"><a class="selflink" href="#CONFIGURATION">CONFIGURATION</a></h1>
<b>targetd</b> uses <b>/etc/target/targetd.yaml</b> for configuration. It is in
  YAML format. <b>targetd</b> currently uses scalar values and collection
  values, see example for details.
<h2 class="Ss" title="Ss" id="CONFIGURATION_FILE_SETTINGS"><a class="selflink" href="#CONFIGURATION_FILE_SETTINGS">CONFIGURATION
  FILE SETTINGS</a></h2>
<b>block_pools</b>
<div>&#x00A0;</div>
Sets the LVM Volume Group(s) that targetd will use to allocate volumes. Defaults
  to &quot;vg-targetd&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
Alternatively, targetd can allocate thinp (thin-provisioned) volumes out of a
  thinpool LV. These should be listed as
  &quot;&lt;vgname&gt;/&lt;poolname&gt;&quot;, with the VG and thinpool LV names
  separated by a &quot;/&quot;. These should already be created; targetd will
  not create VGs or thinpool LVs.
<div style="height: 1.00em;">&#x00A0;</div>
<b>fs_pools</b>
<div>&#x00A0;</div>
Sets the mount point(s) that targetd will use to export filesystems over NFS.
  Defaults to none.
<div style="height: 1.00em;">&#x00A0;</div>
<b>user</b>
<div>&#x00A0;</div>
<b>password</b>
<div>&#x00A0;</div>
Sets the username and password required to use the remote API. &quot;user&quot;
  defaults to <b>admin</b>, but password must be set prior to using targetd.
<div style="height: 1.00em;">&#x00A0;</div>
<b>target_name</b>
<div>&#x00A0;</div>
Sets the iSCSI target name that <b>targetd</b> will use. Default is
  <b>iqn.2003-01.org.linux-iscsi.&lt;hostname&gt;:targetd</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>ssl</b>
<div>&#x00A0;</div>
<b>ssl_key</b>
<div>&#x00A0;</div>
<b>ssl_cert</b>
<div>&#x00A0;</div>
Settings for enabling SSL/TLS encryption. <b>ssl</b> defaults to <b>off</b>. If
  enabled, it will default to looking for key and cert files named
  <b>targetd_key.pem</b> and <b>targetd_cert.pem</b> in <b>/etc/target</b>.
  These paths may also be specified, using the <b>ssl_key</b> and
  <b>ssl_cert</b> config settings.
<div style="height: 1.00em;">&#x00A0;</div>
Key and self-signed cert may be generated using openssl:
<div style="height: 1.00em;">&#x00A0;</div>
<b>openssl genrsa -out targetd_key.pem 2048</b>
<div>&#x00A0;</div>
<b>openssl req -new -x509 -key targetd_key.pem -out targetd_cert.pem -days
  9999</b>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>/etc/target/targetd.yaml</b>
<div>&#x00A0;</div>
<b>/etc/target/targetd_key.pem</b>
<div>&#x00A0;</div>
<b>/etc/target/targetd_cert.pem</b>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The remote API is defined at
<div>&#x00A0;</div>
&lt;https://github.com/agrover/targetd/blob/master/API.md&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
targetcli(8), lvm(8), lsmcli(8)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Andy Grover &lt;agrover@redhat.com&gt;.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs via &lt;targetd-devel@lists.fedorahosted.org&gt;
<div>&#x00A0;</div>
or &lt;https://github.com/agrover/targetd/issues&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
