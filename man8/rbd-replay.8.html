<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>RBD-REPLAY(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RBD-REPLAY(8)</td>
    <td class="head-vol">Ceph</td>
    <td class="head-rtitle">RBD-REPLAY(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
rbd-replay - replay rados block device (RBD) workloads
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>rbd-replay</b> [ <i>options</i> ] <i>replay_file</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>rbd-replay</b> is a utility for replaying rados block device (RBD) workloads.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c ceph.conf, --conf ceph.conf</b></dt>
  <dd class="It-tag">Use ceph.conf configuration file instead of the default
      /etc/ceph/ceph.conf to determine monitor addresses during startup.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p pool, --pool pool</b></dt>
  <dd class="It-tag">Interact with the given pool. Defaults to 'rbd'.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--latency-multiplier</b></dt>
  <dd class="It-tag">Multiplies inter-request latencies. Default: 1.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--read-only</b></dt>
  <dd class="It-tag">Only replay non-destructive requests.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--map-image rule</b></dt>
  <dd class="It-tag">Add a rule to map image names in the trace to image names
      in the replay cluster. A rule of image1@snap1=image2@snap2 would map snap1
      of image1 to snap2 of image2.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-perf-counters</b></dt>
  <dd class="It-tag"><b>Experimental</b> Dump performance counters to standard
      out before an image is closed. Performance counters may be dumped multiple
      times if multiple images are closed, or if the same image is opened and
      closed multiple times. Performance counters and their meaning may change
      between versions.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To replay workload1 as fast as possible:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
rbd-replay --latency-multiplier=0 workload1
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To replay workload1 but use test_image instead of prod_image:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
rbd-replay --map-image=prod_image=test_image workload1
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="AVAILABILITY"><a class="selflink" href="#AVAILABILITY">AVAILABILITY</a></h1>
<b>rbd-replay</b> is part of Ceph, a massively scalable, open-source,
  distributed storage system. Please refer to the Ceph documentation at
  <i>http://ceph.com/docs</i> for more information.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
rbd-replay-prep(8), rbd(8)
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2010-2017, Inktank Storage, Inc. and contributors. Licensed under Creative
  Commons BY-SA</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 21, 2017</td>
    <td class="foot-os">dev</td>
  </tr>
</table>
</body>
</html>
