<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:02 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">opaallanalysis(8) Master map:
IFSFFCLIRG (Man Page) opaallanalysis(8)</p>

<p style="margin-top: 1em">NAME <br>
opaallanalysis</p>

<p style="margin-top: 1em">(All) opaallanalysis command
performs the set of analysis specified in FF_ALL_ANALYSIS
and can be specified for fabric, chassis, esm, or
hostsm.</p>

<p style="margin-top: 1em">Syntax <br>
opaallanalysis [-b|-e] [-s] [-d dir] [-c file] [-t
portsfile] [-p ports] [-F#8217#160; chassisfile] [-H
&rsquo;chassis&rsquo;] [-G esmchassisfile] [-E esmchassis]
[-T topology_input]</p>

<p style="margin-top: 1em">Options <br>
--help Produces full help text.</p>

<p style="margin-top: 1em">-b Baseline mode. Default is
compare/check mode.</p>

<p style="margin-top: 1em">-e Evaluates health only.
Default is compare/check mode.</p>

<p style="margin-top: 1em">-s Saves history of failures
(errors/differences).</p>

<p style="margin-top: 1em">-d dir Top-level directory for
saving baseline and history of failed checks. Default =
/var/lib/opa-ff/analysis</p>

<p style="margin-top: 1em">-c file Error thresholds
configuration file. Default =
/etc/sysconfig/opa/opamon.conf</p>

<p style="margin-top: 1em">-t portsfile <br>
File with list of local HFI ports used to access fabric(s)
for analysis. Default = /etc/sysconfig/opa/ports</p>

<p style="margin-top: 1em">-p ports List of local HFI ports
used to access fabric(s) for analysis. Default is the first
active port. Specified as HFI:port as follows:</p>

<p style="margin-top: 1em">0:0 First active port in
system.</p>

<p style="margin-top: 1em">0: y Port y within system.</p>

<p style="margin-top: 1em">x:0 First active port on HFI
x.</p>

<p style="margin-top: 1em">x: y HFI x, port y.</p>

<p style="margin-top: 1em">-F#8217#160; chassisfile <br>
File with a chassis in a cluster. Default =
/etc/sysconfig/opa/chassis</p>

<p style="margin-top: 1em">-H &rsquo;chassis&rsquo; <br>
List of chassis on which to execute the command.</p>

<p style="margin-top: 1em">-G esmchassisfile <br>
File with embedded SM chassis in the cluster. Default =
/etc/sysconfig/opa/esm_chassis</p>

<p style="margin-top: 1em">-E esmchassis <br>
List of embedded SM chassis to analyze.</p>

<p style="margin-top: 1em">-T topology_input <br>
Name of topology input file to use. Any %P markers in this
filename are replaced with the HFI:port being operated on,
such as 0:0 or 1:2. Default = /etc/syscon&acirc; <br>
fig/opa/topology.%P.xml. If -T NONE is specified, no
topology input file is used. See opareport for more
information.</p>

<p style="margin-top: 1em">Example <br>
opaallanalysis <br>
opaallanalysis -p &rsquo;1:1 2:1&rsquo;</p>

<p style="margin-top: 1em">Environment Variables <br>
The following environment variables are also used by this
command:</p>

<p style="margin-top: 1em">PORTS List of ports, used in
absence of -t and -p.</p>

<p style="margin-top: 1em">PORTS_FILE <br>
File containing list of ports, used in absence of -t and
-p.</p>

<p style="margin-top: 1em">FF_TOPOLOGY_FILE <br>
File containing topology_input (may have %P marker in
filename), used in absence of -T.</p>

<p style="margin-top: 1em">CHASSIS List of chassis, used if
-F and -H options are not supplied.</p>

<p style="margin-top: 1em">CHASSIS_FILE <br>
File containing list of chassis, used if -F and -H options
are not supplied.</p>

<p style="margin-top: 1em">ESM_CHASSIS <br>
List of SM chassis, used if -G and -E options are not
supplied.</p>

<p style="margin-top: 1em">ESM_CHASSIS_FILE <br>
File containing list of SM chassis, used if -G and -E
options are not supplied.</p>

<p style="margin-top: 1em">FF_ANALYSIS_DIR <br>
Top level directory for baselines and failed health
checks.</p>

<p style="margin-top: 1em">Details <br>
The opaallanalysis command performs the set of analysis
specified in FF_ALL_ANALYSIS, which must be a
space-separated list. This can be provided by the
environment or using <br>
/etc/sysconfig/opa/opafastfabric.conf. The analysis set
includes the options: fabric, chassis, esm, or hostsm.</p>

<p style="margin-top: 1em">Note that the opaallanalysis
command has options which are a super-set of the options for
all other analysis commands. The options are passed along to
the respective tools as <br>
needed. For example, the -c file option is passed on to
opafabricanalysis if it is specified in FF_ALL_ANALYSIS.</p>

<p style="margin-top: 1em">The output files are all the
output files for the FF_ALL_ANALYSIS selected set of
analysis. See the previous sections for the specific output
files.</p>

<p style="margin-top: 1em">Copyright(C) 2015-2016 Intel
Corporation opaallanalysis(8)</p>
<hr>
</body>
</html>
