<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:29 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>AMSERVICE(8) System Administration Commands
AMSERVICE(8)</p>

<p style="margin-top: 1em">NAME <br>
amservice - run an amanda service on a client</p>

<p style="margin-top: 1em">SYNOPSIS <br>
amservice [-f input_file [-s]] [-o configoption...] hostname
auth service</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Amservice execute an Amanda service on a client. It can be
used without amanda server configuration (amanda.conf and
disklist). It can be used to check communication between a
<br>
server and a client. Amservice reads stdin to capture the
REQ packet to send to the client.</p>

<p style="margin-top: 1em">See the amanda(8) man page for
more details about Amanda.</p>

<p style="margin-top: 1em">OPTIONS <br>
hostname <br>
The hostname of the client.</p>

<p style="margin-top: 1em">auth <br>
The auth to use, one of: bsd, bsdudp, bsdtcp, ssh, rsh or
krb5. The client must be configured with this auth.</p>

<p style="margin-top: 1em">service <br>
The amanda service to execute on the client. One of noop,
selfcheck or sendsize.</p>

<p style="margin-top: 1em">-f input_file <br>
Use the file input_file instead of stdin to read the REQ
packet from.</p>

<p style="margin-top: 1em">-s <br>
Redirect the first connected stream to stdin/stdout. The -f
argument is required for the REQ packet, the REP packet is
not printed on stdout.</p>

<p style="margin-top: 1em">-o configoption <br>
See the &quot;CONFIGURATION OVERRIDE&quot; section in
amanda(8).</p>

<p style="margin-top: 1em">EXAMPLE <br>
The noop service is easy to execute because it does not
require a REQ packet: <br>
amservice hostname bsdtcp noop &lt; /dev/null</p>

<p style="margin-top: 1em">The example executes the noop
service on the client using bsdtcp auth. This is useful for
debugging connection problems. It print an OPTIONS line upon
success.</p>

<p style="margin-top: 1em">It is more difficult to execute
the selfcheck or sendsize service, as these require a valid
REQ packet. If you have already uccessfully run amanda, you
can find valid REQ packets <br>
in the amandad.*.debug files.</p>

<p style="margin-top: 1em">EXIT CODE <br>
The exit code of amservice is one of: <br>
0 = success <br>
1 = error executing amandad on the client.</p>

<p style="margin-top: 1em">As amservice doesn&rsquo;t parse
the REP packet, it can only detect failures in executing
amandad on the client. amservice can exit with value 0 even
if the user is not authorized to <br>
execute the service. An error message will be printed.</p>

<p style="margin-top: 1em">SEE ALSO <br>
amanda(8), amanda(8), amcheck(8), amdump(8), amadmin(8)</p>

<p style="margin-top: 1em">The Amanda Wiki: :
http://wiki.zmanda.com/</p>

<p style="margin-top: 1em">AUTHOR <br>
Jean-Louis Martineau &lt;martineau@zmanda.com&gt; <br>
Zmanda, Inc. (http://www.zmanda.com)</p>

<p style="margin-top: 1em">Amanda 3.3.3 01/10/2013
AMSERVICE(8)</p>
<hr>
</body>
</html>
