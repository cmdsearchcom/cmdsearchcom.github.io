<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:18 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>UPSC(8) NUT Manual UPSC(8)</p>

<p style="margin-top: 1em">NAME <br>
upsc - example lightweight UPS client</p>

<p style="margin-top: 1em">SYNOPSIS <br>
upsc -l | -L [host]</p>

<p style="margin-top: 1em">upsc ups [variable]</p>

<p style="margin-top: 1em">upsc -c ups</p>

<p style="margin-top: 1em">DESCRIPTION <br>
upsc is provided as a quick way to poll the status of a UPS
server. It can be used inside shell scripts and other
programs that need UPS data but don&acirc;t want to include
the full <br>
interface.</p>

<p style="margin-top: 1em">OPTIONS <br>
-l host <br>
List all UPS names configured at host, one name per line.
The hostname defaults to &quot;localhost&quot;. You may
optionally add a colon and a port number.</p>

<p style="margin-top: 1em">-L host <br>
As above, list all UPS names configured at host, including
their description provided by the remote upsd(8) from
ups.conf(5). The hostname defaults to &quot;localhost&quot;.
You may <br>
optionally add a colon and a port number to override the
default port.</p>

<p style="margin-top: 1em">-c ups <br>
Lists each client connected on ups, one name per line.</p>

<p style="margin-top: 1em">ups <br>
Display the status of that UPS. The format for this option
is upsname[@hostname[:port]]. The default hostname is
&quot;localhost&quot;.</p>

<p style="margin-top: 1em">variable <br>
Display the value of this variable only. By default, upsc
retrieves the list of variables from the server and then
displays the value for each. This may be useful in shell
<br>
scripts to save an additional pipe into grep.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To list all variables on an UPS named &quot;myups&quot; on a
host called &quot;mybox&quot;, with upsd(8) running on port
1234:</p>

<p style="margin-top: 1em">$ upsc myups@mybox:1234 <br>
battery.charge: 100.0 <br>
battery.voltage: 13.9 <br>
battery.voltage.nominal: 13.6 <br>
. . .</p>

<p style="margin-top: 1em">To list the UPSes configured on
this system, along with their descriptions:</p>

<p style="margin-top: 1em">$ upsc -L <br>
apc: Back-UPS 500 <br>
ppro2: Patriot Pro II</p>

<p style="margin-top: 1em">To retrieve the status for all
UPSes connected to mybox, using Bourne-shell syntax:</p>

<p style="margin-top: 1em">$ for UPS in &lsquo;upsc -l
mybox:1234&lsquo;; do <br>
upsc $UPS ups.status <br>
done</p>

<p style="margin-top: 1em">To list clients connected on
&quot;myups&quot;:</p>

<p style="margin-top: 1em">$ upsc -c myups <br>
127.0.0.1 <br>
::1 <br>
192.168.1.2</p>

<p style="margin-top: 1em">SCRIPTED MODE <br>
If you run this program inside a shell script or similar to
get the list of devices and variables, you should only
consider using output from stdout, not stderr.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
upsc will either print a list of UPS names, a list of all
supported variables and their values on the UPS, or an error
message. If you receive an error, make sure you have <br>
specified a valid UPS on the command line, that upsd(8) is
really running on the other host and that no firewalls are
blocking you.</p>

<p style="margin-top: 1em">HISTORY <br>
Earlier versions of this program used the upsfetch library
and UDP sockets to talk to upsd. This version of upsc uses
the new upsclient library, which only talks TCP. This is why
<br>
upsct no longer exists.</p>

<p style="margin-top: 1em">SEE ALSO <br>
upsd(8)</p>

<p style="margin-top: 1em">INTERNET RESOURCES <br>
The NUT (Network UPS Tools) home page:
http://www.networkupstools.org/</p>

<p style="margin-top: 1em">Network UPS Tools 2.7.3.
12/29/2015 UPSC(8)</p>
<hr>
</body>
</html>
