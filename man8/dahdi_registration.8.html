<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DAHDI_REGISTRATION(8) User Contributed Perl
Documentation DAHDI_REGISTRATION(8)</p>

<p style="margin-top: 1em">NAME <br>
dahdi_registration - Handle registration of Xorcom XPD
modules in dahdi.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dahdi_registration [-v] [-s sortorder] [-R] [on|off]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Without parameters, show all connected XPDs sorted by
physical connector order. Each one is show to be
unregistered (off), or registered to a specific dahdi span
(the span <br>
number is shown).</p>

<p style="margin-top: 1em">All
registerations/deregisterations are sorted by physical
connector string.</p>

<p style="margin-top: 1em">Span registration should
generally always succeed. Span unregistration may fail if
channels from the span are in use by e.g. asterisk. In such
a case you&rsquo;ll also see those <br>
channels as &rsquo;(In use)&rsquo; in the output of
lsdahdi(8).</p>

<p style="margin-top: 1em">dahdi_registration is intended
to be used when the kernel module parameter
xpp.dahdi_autoreg is false (and implicitly: when the module
parameter dahdi.auto_assign_span is true). <br>
See also the NOTES section regarding
&quot;dahdi_span_assignments&quot;.</p>

<p style="margin-top: 1em">If dahdi_autoreg is true, the
program will normally do nothing.</p>

<p style="margin-top: 1em">Parameters <br>
off -- deregisters all XPD&rsquo;s from dahdi.</p>

<p style="margin-top: 1em">on -- registers all XPD&rsquo;s
to dahdi.</p>

<p style="margin-top: 1em">Options <br>
-v verbose output.</p>

<p style="margin-top: 1em">-R Force operations (on/off)
even if the module parameter dahdi_autoreg for xpp is
enabled (which makes this program unneeded).</p>

<p style="margin-top: 1em">-s sort_order <br>
The sort order to use.</p>

<p style="margin-top: 1em">If the option is not used, the
sort order is taken from the environment variable XBUS_SORT
and failing that: the hard-coded default of
SORT_XPPORDER.</p>

<p style="margin-top: 1em">The available sorting orders are
documented in Dahdi::Xpp manual.</p>

<p style="margin-top: 1em">Sample Output <br>
An example of the output of dahdi_registration for some
registered Astribanks:</p>

<p style="margin-top: 1em">$ dahdi_registration -s type
<br>
XBUS-01 usb:0000153 usb-0000:00:10.4-2 <br>
XBUS-01/XPD-00: on Span 1 <br>
XBUS-01/XPD-01: on Span 2 <br>
XBUS-00 usb:0000157 usb-0000:00:10.4-4 <br>
XBUS-00/XPD-00: on Span 3 <br>
XBUS-00/XPD-01: on Span 4 <br>
XBUS-00/XPD-02: on Span 5 <br>
XBUS-00/XPD-03: on Span 6 <br>
XBUS-00/XPD-04: on Span 7 <br>
XBUS-00/XPD-05: on Span 8 <br>
XBUS-00/XPD-06: on Span 9 <br>
XBUS-00/XPD-07: on Span 10 <br>
XBUS-02 usb-0000:00:10.4-1 <br>
XBUS-02/XPD-00: on Span 11 <br>
XBUS-02/XPD-10: on Span 12 <br>
# Sorted: type</p>

<p style="margin-top: 1em">FILES <br>
/proc/xpp/XBUS-nn/XPD-mm/dahdi_registration <br>
Reading from this file shows if if the if the specific XPD
is registered. Writing to it 0 or 1 registers / unregisters
the device.</p>

<p style="margin-top: 1em">This should allow you to
register / unregister a specific XPD rather than all of
them.</p>

<p style="margin-top: 1em">NOTES <br>
dahdi_registration is intended to be used when the kernel
module parameter xpp.dahdi_autoreg is false (and implicitly:
when the module parameter dahdi.auto_assign_span is true),
<br>
that is, Astribank devices as detected by XPP (xbus / xpd)
do not register automatically with the DAHDI core. This tool
is used to register tem in an explicit order. It works <br>
well, but only if you can arange for all of the Astribanks
of the system to be available (and not already registered)
at a specific point in time.</p>

<p style="margin-top: 1em">Newer versions of DAHDI added
support for registering a span to a specific span/channelss
numbers specification. This allows registering them out of
order. To use this <br>
capability, the module parameter dahdi.auto_assign_span
should be unset (set to 0) and thus spans of detected DAHDI
devices could be registered using
&quot;dahdi_span_assignments&quot; <br>
(which may also be run automatically from a udev hook).</p>

<p style="margin-top: 1em">In this case there is no point
in delaying XPP device registration with dahdi and the
parameter xpp.dahdi_autoreg should be set.
dahdi_registration will simply become a no-op.</p>

<p style="margin-top: 1em">SEE ALSO <br>
dahdi_cfg(8), dahdi_span_assignments(8).</p>

<p style="margin-top: 1em">perl v5.24.1 2017-01-08
DAHDI_REGISTRATION(8)</p>
<hr>
</body>
</html>
