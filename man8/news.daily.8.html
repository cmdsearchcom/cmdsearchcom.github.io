<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NEWS.DAILY(8) System Manager&rsquo;s Manual
NEWS.DAILY(8)</p>

<p style="margin-top: 1em">NAME <br>
news.daily - do regular Usenet system administration</p>

<p style="margin-top: 1em">SYNOPSIS <br>
news.daily [ keyword... ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
News.daily performs a number of important Usenet
administrative functions. This includes producing a status
report, removing old news articles, processing log files,
rotating <br>
the archived log files, renumbering the active file,
removing any old socket files found in the
&lsquo;&lsquo;firewall&rsquo;&rsquo; directory, and
collecting the output. This program should be run <br>
under the news administrator&rsquo;s id, not as root.</p>

<p style="margin-top: 1em">By default, news.daily performs
all of its functions and mails the output to the news
administrator, usenet. By specifying
&lsquo;&lsquo;keywords&rsquo;&rsquo; on the command line, it
is possible to <br>
modify the functions performed, as well as change the
arguments given to expire(8) and expireover(8).</p>

<p style="margin-top: 1em">News.daily should be run once a
day, typically out of cron(8). It may be run more often, but
such invocations should at least use the
&lsquo;&lsquo;notdaily&rsquo;&rsquo; keyword to prevent the
log <br>
files from being processed and rotated too fast.</p>

<p style="margin-top: 1em">The shlock(1) program is used to
prevent simultaneous executions.</p>

<p style="margin-top: 1em">KEYWORDS <br>
The following keywords may be used:</p>

<p style="margin-top: 1em">delayrm <br>
This uses the &lsquo;&lsquo;-z&rsquo;&rsquo; flag when
invoking expire and expireover. The names of articles to be
removed are written to a temporary file, and then removed
after expiration by <br>
calling expirerm(8).</p>

<p style="margin-top: 1em">expctl=path <br>
Specify the file to use as the expire.ctl(5) file for
expire.</p>

<p style="margin-top: 1em">expdir=path <br>
By default, expire builds the new history(5) file and
database in the same directory as the current files. Using
this keyword specifies a different local to build the new
<br>
files (by passing the &rsquo;&rsquo;-d&rsquo;&rsquo; flag to
expire), which will then be moved to the right location when
finished.</p>

<p style="margin-top: 1em">nostat This keyword disables the
status report generated by innstat (see newslog(8)). Without
this keyword, the status report is the first function
performed, just prior to <br>
obtaining the news.daily lock.</p>

<p style="margin-top: 1em">notdaily <br>
By default news.daily expects to be run only once a day. Use
this keyword any extra times news.daily is run in the day
and the normal logfile processing (and rotation) <br>
will not be done.</p>

<p style="margin-top: 1em">noexpire <br>
By default, expire is invoked to remove old news articles.
Using this keyword disables this function.</p>

<p style="margin-top: 1em">noexplog <br>
Expire normally appends information to
/var/log/news/expire.log (see newslog(5)). Using this
keyword causes the expire output to be handled as part of
news.daily&rsquo;s out&acirc; <br>
put. It has no effect if the
&lsquo;&lsquo;noexpire&rsquo;&rsquo; keyword is used.</p>

<p style="margin-top: 1em">flags=&rsquo;expire args&rsquo;
<br>
By default, expire is invoked with the an argument of
&lsquo;&lsquo;-v1&rsquo;&rsquo;. Using this keyword changes
the arguments to those specified. Be careful to use quotes
if multiple argu&acirc; <br>
ments are needed. This keyword has no effect if the
&lsquo;&lsquo;noexpire&rsquo;&rsquo; keyword is used.</p>

<p style="margin-top: 1em">nologs After expiration,
scanlogs(8) is invoked to process the log files. Using this
keyword disables all log processing functions.</p>

<p style="margin-top: 1em">norotate <br>
By default, log processing includes rotating and cleaning
out log files. Using this keyword disables the rotating and
cleaning aspect of the log processing: the logs <br>
files are only scanned for information and no contents are
altered.</p>

<p style="margin-top: 1em">This keyword has no effect if
the &lsquo;&lsquo;nologs&rsquo;&rsquo; keyword is used. The
&lsquo;&lsquo;norotate&rsquo;&rsquo; keyword is passed on to
scanlogs if it is invoked.</p>

<p style="margin-top: 1em">norenumber <br>
This keyword disables the ctlinnd(8) renumber operation.
Normally, the low-water mark for all newsgroups (see
active(5)) is reset.</p>

<p style="margin-top: 1em">norm By default, any socket
ctlinnd socket that has not been modified for two days will
be removed. Using this keyword disables this function.</p>

<p style="margin-top: 1em">nomail News.daily normally sends
a mail message containing the results to the administrator.
Using this keyword causes this message to be sent to stdout
and stderr instead. <br>
Normally, all utilities invoked by the script have their
stdout and stderr redirected into a file. If the file is
empty, no message is sent.</p>

<p style="margin-top: 1em">expireover <br>
The expireover program is called after expiration to purge
the overview databases.</p>


<p style="margin-top: 1em">expireoverflags=&rsquo;expireover
args&rsquo; <br>
If the &lsquo;&lsquo;expireover&rsquo;&rsquo; keyword is
used, this keyword may be used to specify the flags to be
passed to expireover. If the
&lsquo;&lsquo;delayrm&rsquo;&rsquo; keyword is used, then
the default <br>
value is &lsquo;&lsquo;-z&rsquo;&rsquo; and the list of
deleted files; otherwise, the default value is
&lsquo;&lsquo;-s&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">/full/path <br>
The program specified by the given path is executed just
before any expiration is done. A typical use is to specify
an alternate expiration program and use the
&lsquo;&lsquo;noex&acirc; <br>
pire&rsquo;&rsquo; keyword. Multiple programs may be
specified; they will be invoked in order.</p>

<p style="margin-top: 1em">HISTORY <br>
News.daily and this manual page written by Landon Curt Noll
&lt;chongo@toad.com&gt; and Rich $alz
&lt;rsalz@uunet.uu.net&gt;. This is revision 1.11, dated
1996/12/10.</p>

<p style="margin-top: 1em">SEE ALSO <br>
active(5), ctlinnd(8), expire(8), fastrm(8), newslog(5),
newslog(8), innwatch.ctl(5), shlock(1).</p>
 
<p style="margin-top: 1em">NEWS.DAILY(8)</p>
<hr>
</body>
</html>
