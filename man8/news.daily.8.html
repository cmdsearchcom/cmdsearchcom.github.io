<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NEWS.DAILY(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NEWS.DAILY(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">NEWS.DAILY(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
news.daily - do regular Usenet system administration
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>news.daily</b> [ <b>keyword...</b> ]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>News.daily</i> performs a number of important Usenet administrative
  functions. This includes producing a status report, removing old news
  articles, processing log files, rotating the archived log files, renumbering
  the active file, removing any old socket files found in the ``firewall''
  directory, and collecting the output. <i>This program should be run under the
  news administrator's id, not as root.</i>
<div class="Pp"></div>
By default, <i>news.daily</i> performs all of its functions and mails the output
  to the news administrator, <i>usenet</i>. By specifying ``keywords'' on the
  command line, it is possible to modify the functions performed, as well as
  change the arguments given to <i>expire</i>(8) and <i>expireover</i>(8).
<div class="Pp"></div>
<i>News.daily</i> should be run once a day, typically out of <i>cron</i>(8). It
  may be run more often, but such invocations should at least use the
  ``notdaily'' keyword to prevent the log files from being processed and rotated
  too fast.
<div class="Pp"></div>
The <i>shlock</i>(1) program is used to prevent simultaneous executions.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
The following keywords may be used:
<dl class="Bl-tag">
  <dt class="It-tag"><i>delayrm</i></dt>
  <dd class="It-tag">This uses the ``<b>-z</b>'' flag when invoking
      <i>expire</i> and <i>expireover</i>. The names of articles to be removed
      are written to a temporary file, and then removed after expiration by
      calling <i>expirerm</i>(8).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expctl=</i>path</dt>
  <dd class="It-tag">Specify the file to use as the <i>expire.ctl</i>(5) file
      for <i>expire</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expdir=</i>path</dt>
  <dd class="It-tag">By default, <i>expire</i> builds the new <i>history</i>(5)
      file and database in the same directory as the current files. Using this
      keyword specifies a different local to build the new files (by passing the
      '' <b>-d</b>'' flag to <i>expire</i>), which will then be moved to the
      right location when finished.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>nostat</i></dt>
  <dd class="It-tag">This keyword disables the status report generated by
      <i>innstat</i> (see <i>newslog</i>(8)). Without this keyword, the status
      report is the first function performed, just prior to obtaining the
      <i>news.daily</i> lock.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>notdaily</i></dt>
  <dd class="It-tag">By default <i>news.daily</i> expects to be run only once a
      day. Use this keyword any extra times <i>news.daily</i> is run in the day
      and the normal logfile processing (and rotation) will not be done.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>noexpire</i></dt>
  <dd class="It-tag">By default, <i>expire</i> is invoked to remove old news
      articles. Using this keyword disables this function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>noexplog</i></dt>
  <dd class="It-tag"><i>Expire</i> normally appends information to
      <i>/var/log/news/expire.log</i> (see <i>newslog</i>(5)). Using this
      keyword causes the <i>expire</i> output to be handled as part of
      <i>news.daily</i>'s output. It has no effect if the ``noexpire'' keyword
      is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>flags=</i>'expire&#x00A0;args'</dt>
  <dd class="It-tag">By default, <i>expire</i> is invoked with the an argument
      of ``-v1''. Using this keyword changes the arguments to those specified.
      Be careful to use quotes if multiple arguments are needed. This keyword
      has no effect if the ``noexpire'' keyword is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>nologs</i></dt>
  <dd class="It-tag">After expiration, <i>scanlogs</i>(8) is invoked to process
      the log files. Using this keyword disables all log processing
    functions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>norotate</i></dt>
  <dd class="It-tag">By default, log processing includes rotating and cleaning
      out log files. Using this keyword disables the rotating and cleaning
      aspect of the log processing: the logs files are only scanned for
      information and no contents are altered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This keyword has no effect if the ``nologs'' keyword is
      used. The ``norotate'' keyword is passed on to <i>scanlogs</i> if it is
      invoked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>norenumber</i></dt>
  <dd class="It-tag">This keyword disables the <i>ctlinnd</i>(8) renumber
      operation. Normally, the low-water mark for all newsgroups (see
      <i>active</i>(5)) is reset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>norm</i></dt>
  <dd class="It-tag">By default, any socket <i>ctlinnd</i> socket that has not
      been modified for two days will be removed. Using this keyword disables
      this function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>nomail</i></dt>
  <dd class="It-tag"><i>News.daily</i> normally sends a mail message containing
      the results to the administrator. Using this keyword causes this message
      to be sent to stdout and stderr instead. Normally, all utilities invoked
      by the script have their stdout and stderr redirected into a file. If the
      file is empty, no message is sent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expireover</i></dt>
  <dd class="It-tag">The <i>expireover</i> program is called after expiration to
      purge the overview databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expireoverflags=</i>'expireover&#x00A0;args'</dt>
  <dd class="It-tag">If the ``expireover'' keyword is used, this keyword may be
      used to specify the flags to be passed to <i>expireover</i>. If the
      ``delayrm'' keyword is used, then the default value is ``-z'' and the list
      of deleted files; otherwise, the default value is ``-s''.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/full/path</i></dt>
  <dd class="It-tag">The program specified by the given path is executed just
      before any expiration is done. A typical use is to specify an alternate
      expiration program and use the ``noexpire'' keyword. Multiple programs may
      be specified; they will be invoked in order.</dd>
</dl>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
<i>News.daily</i> and this manual page written by Landon Curt Noll
  &lt;chongo@toad.com&gt; and Rich $alz &lt;rsalz@uunet.uu.net&gt;. This is
  revision 1.11, dated 1996/12/10.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
active(5), ctlinnd(8), expire(8), fastrm(8), newslog(5), newslog(8),
  innwatch.ctl(5), shlock(1).</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
