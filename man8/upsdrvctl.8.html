<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>UPSDRVCTL(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">UPSDRVCTL(8)</td>
    <td class="head-vol">NUT Manual</td>
    <td class="head-rtitle">UPSDRVCTL(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
upsdrvctl - UPS driver controller
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>upsdrvctl</b> -h
<div style="height: 1.00em;">&#x00A0;</div>
<b>upsdrvctl</b> [<i>OPTIONS</i>] {start | stop | shutdown} [<i>ups</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>upsdrvctl</b> provides a uniform interface for controlling your UPS drivers.
  You should use upsdrvctl instead of direct calls to the drivers whenever
  possible.
<div style="height: 1.00em;">&#x00A0;</div>
When used properly, upsdrvctl lets you maintain identical startup scripts across
  multiple systems with different UPS configurations.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-h</b>
<div style="margin-left: 4.00ex;">Display the help text.</div>
<div class="Pp"></div>
<b>-r</b> <i>directory</i>
<div style="margin-left: 4.00ex;">If starting a driver, this value will direct
  it to <b>chroot</b>(2) into <i>directory</i>. This can be useful when securing
  systems.</div>
<div style="height: 1.00em;">&#x00A0;</div>
This may be set in the ups.conf with &quot;chroot&quot; in the global section.
<div class="Pp"></div>
<b>-t</b>
<div style="margin-left: 4.00ex;">Enable testing mode. This also enables debug
  mode. Testing mode makes upsdrvctl display the actions it would execute
  without actually doing them. Use this to test out your configuration without
  actually doing anything to your UPS drivers. This may be helpful when defining
  the <i>sdorder</i> directive in your <b>ups.conf</b>(5).</div>
<div class="Pp"></div>
<b>-u</b> <i>username</i>
<div style="margin-left: 4.00ex;">If starting a driver, this value will direct
  it to <b>setuid</b>(2) to the user id associated with <i>username</i>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
If the driver is started as root without specifying this value, it will use the
  username that was compiled into the binary. This defaults to
  &quot;nobody&quot;, and is far from ideal.
<div style="height: 1.00em;">&#x00A0;</div>
This may be set in ups.conf with &quot;user&quot; in the global section.
<div class="Pp"></div>
<b>-D</b>
<div style="margin-left: 4.00ex;">Raise the debug level. Use this multiple times
  for additional details.</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
upsdrvctl supports three commands - start, stop and shutdown. They take an
  optional argument which is a UPS name from <b>ups.conf</b>(5). Without that
  argument, they operate on every UPS that is currently configured.
<div class="Pp"></div>
<b>start</b>
<div style="margin-left: 4.00ex;">Start the UPS driver(s). In case of failure,
  further attempts may be executed by using the <i>maxretry</i> and
  <i>retrydelay</i> options - see <b>ups.conf</b>(5).</div>
<div class="Pp"></div>
<b>stop</b>
<div style="margin-left: 4.00ex;">Stop the UPS driver(s).</div>
<div class="Pp"></div>
<b>shutdown</b>
<div style="margin-left: 4.00ex;">Command the UPS driver(s) to run their
  shutdown sequence. Drivers are stopped according to their sdorder value - see
  <b>ups.conf</b>(5).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
this will probably power off your computers, so don&#x2019;t play around with
  this option. Only use it when your systems are prepared to lose power.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<b>NUT_CONFPATH</b> is the path name of the directory that contains upsd.conf
  and other configuration files. If this variable is not set, <b>upsdrvctl</b>
  the driver use a built-in default, which is often /usr/local/ups/etc.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
upsdrvctl will return a nonzero exit code if it encounters an error while
  performing the desired operation. This will also happen if a driver takes
  longer than the <i>maxstartdelay</i> period to enter the background.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>nutupsdrv</b>(8), <b>upsd</b>(8), <b>ups.conf</b>(5)
<h2 class="Ss" title="Ss" id="Internet_resources:"><a class="selflink" href="#Internet_resources:">Internet
  resources:</a></h2>
The NUT (Network UPS Tools) home page: http://www.networkupstools.org/</div>
<table class="foot">
  <tr>
    <td class="foot-date">12/29/2015</td>
    <td class="foot-os">Network UPS Tools 2.7.3.</td>
  </tr>
</table>
</body>
</html>
