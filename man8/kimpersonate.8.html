<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:43 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KIMPERSONATE(8) BSD System Manager&rsquo;s Manual
KIMPERSONATE(8)</p>

<p style="margin-top: 1em">NAME <br>
kimpersonate &acirc; impersonate a user when there exist a
keyfile or KeyFile</p>

<p style="margin-top: 1em">SYNOPSIS <br>
kimpersonate [-s string | --ccache=string] [-s string |
--server=string] [-c string | --client=string] [-k string |
--keytab=string] [-5 | --krb5] [-A | --add] [-R |
--referral] <br>
[-e integer | --expire-time=integer] [-a string |
--client-address=string] [-t string | --enc-type=string]
[--session-enc-type=string] <br>
[-f string | --ticket-flags=string] [--verbose] [--version]
[--help]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The kimpersonate program creates a &quot;fake&quot; ticket
using the service-key of the service and stores it in the
given (or default) ccache. This is useful for testing. The
service key <br>
can be read from a Kerberos 5 keytab or AFS KeyFile.
Supported options:</p>

<p style="margin-top: 1em">--ccache=string <br>
ccache into which to store the ticket</p>

<p style="margin-top: 1em">-s string, --server=string <br>
name of server principal</p>

<p style="margin-top: 1em">-c string, --client=string <br>
name of client principal</p>

<p style="margin-top: 1em">-k string, --keytab=string <br>
name of keytab file</p>

<p style="margin-top: 1em">-5, --krb5 <br>
create a Kerberos 5 ticket</p>

<p style="margin-top: 1em">-A, --add <br>
don&rsquo;t re-initialize the ccache, instead add the ticket
to an existing ccache.</p>

<p style="margin-top: 1em">-R, --referral <br>
simulate a referrals-based KDC client by storing two
entries, one with the empty realm for the service principal
name.</p>

<p style="margin-top: 1em">-e integer,
--expire-time=integer <br>
lifetime of ticket in seconds</p>

<p style="margin-top: 1em">-a string,
--client-address=string <br>
address of client</p>

<p style="margin-top: 1em">-t string, --enc-type=string
<br>
encryption type (defaults to
&quot;aes256-cts-hmac-sha1-96&quot;)</p>

<p style="margin-top: 1em">--session-enc-type=string <br>
session encryption type (defaults to enc-type or
&quot;des-cbc-crc&quot; for afs service tickets)</p>

<p style="margin-top: 1em">-f string, --ticket-flags=string
<br>
ticket flags for krb5 ticket</p>

<p style="margin-top: 1em">--verbose <br>
Verbose output</p>

<p style="margin-top: 1em">--version <br>
Print version</p>

<p style="margin-top: 1em">--help</p>

<p style="margin-top: 1em">FILES <br>
Uses /etc/krb5.keytab, and /usr/afs/etc/KeyFile when
available and the -k option is used with an appropriate
prefix.</p>

<p style="margin-top: 1em">EXAMPLES <br>
kimpersonate can be used in samba root preexec option or for
debugging. kimpersonate -s host/hummel.e.kth.se@E.KTH.SE -c
lha@E.KTH.SE -5 will create a Kerberos 5 ticket for <br>
lha@E.KTH.SE for the host hummel.e.kth.se if there exists a
keytab entry for it in /etc/krb5.keytab.</p>

<p style="margin-top: 1em">In combination with the ktutil
command, this is useful for testing. For example,</p>

<p style="margin-top: 1em">ktutil -k tkt add -p
host/foo.test@TEST -V2 -e aes256-cts-hmac-sha1-96 -r</p>

<p style="margin-top: 1em">kimpersonate --cache=tcc -s
host/foo.test@TEST -c jdoe@TEST -k tkt --referral</p>

<p style="margin-top: 1em">SEE ALSO <br>
kinit(1), klist(1)</p>

<p style="margin-top: 1em">AUTHORS <br>
Love Hornquist Astrand &lt;lha@kth.se&gt;</p>

<p style="margin-top: 1em">Heimdal September 18, 2006
Heimdal</p>
<hr>
</body>
</html>
