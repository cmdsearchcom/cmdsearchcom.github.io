<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>zpool(1M)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">zpool(1M)</td>
    <td class="head-vol">System Administration Commands</td>
    <td class="head-rtitle">zpool(1M)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
zpool - configures ZFS storage pools
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>zpool</b> [<b>-?</b>]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool add</b> [<b>-fn</b>] [<b>-o</b> <i>property=value</i>] <i>pool</i> <i>vdev</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool attach</b> [<b>-f</b>] [<b>-o</b> <i>property=value</i>] <i>pool</i> <i>device</i> <i>new_device</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool clear</b> [<b>-F</b> [<b>-n</b>]] <i>pool</i> [<i>device</i>]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool create</b> [<b>-fn</b>] [<b>-o</b> <i>property=value</i>] ... [<b>-O</b> <i>file-system-property=value</i>] 
     ... [ <b>-m</b> <i>mountpoint</i>] [<b>-R</b> <i>root</i>] <i>pool</i> <i>vdev</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool destroy</b> [<b>-f</b>] <i>pool</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool detach</b> <i>pool</i> <i>device</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool export</b> [<b>-f</b>] <i>pool</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool get</b> &quot;<i>all</i>&quot; | <i>property</i>[,...] <i>pool</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool history</b> [<b>-il</b>] [<i>pool</i>] ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool import</b> [<b>-d</b> <i>dir</i>] [<b>-D</b>]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool import</b> [<b>-o </b><i>mntopts</i>] [<b>-o</b> <i>property=value</i>] ... [<b>-d</b> <i>dir</i> | <b>-c</b> <i>cachefile</i>] 
     [ <b>-D</b>] [<b>-f</b>] [<b>-R</b> <i>root</i>] [<b>-F</b> [<b>-n</b>]] <b>-a</b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool import</b> [<b>-o </b><i>mntopts</i>] [<b>-o</b> <i>property=value</i>] ... [<b>-d</b> <i>dir</i> | <b>-c</b> <i>cachefile</i>]
     [ <b>-D</b>] [<b>-f</b>] [<b>-R</b> <i>root</i>] [<b>-F</b> [<b>-n</b>]] <i>pool</i> |<i>id</i> [<i>newpool</i>]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool iostat</b> [<b>-T</b> u | d ] [<b>-v</b>] [<i>pool</i>] ... [<i>interval</i>[<i>count</i>]]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool list</b> [<b>-H</b>] [<b>-o</b> <i>property</i>[,...]] [<i>pool</i>] ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool offline</b> [<b>-t</b>] <i>pool</i> <i>device</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool online</b> <i>pool</i> <i>device</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool remove</b> <i>pool</i> <i>device</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool replace</b> [<b>-f</b>] <i>pool</i> <i>device</i> [<i>new_device</i>]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool scrub</b> [<b>-s</b>] <i>pool</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool set</b> <i>property</i>=<i>value</i> <i>pool</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool split</b> [<b>-R</b> <i>altroot</i>] [<b>-n</b>] [<b>-o</b> <i>mntopts</i>] [<b>-o</b> <i>property</i>=<i>value</i>] <i>pool</i>
      <i>newpool</i> [<i>device</i> ...]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool status</b> [<b>-xv</b>] [<i>pool</i>] ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool upgrade</b> 
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool upgrade</b> <b>-v</b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<pre>
<b>zpool upgrade</b> [<b>-V</b> <i>version</i>] <b>-a</b> | <i>pool</i> ...
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>zpool</b> command configures <b>ZFS</b> storage pools. A storage pool is
  a collection of devices that provides physical storage and data replication
  for <b>ZFS</b> datasets.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
All datasets within a storage pool share the same space. See <b>zfs</b>(1M) for
  information on managing datasets.
<h2 class="Ss" title="Ss" id="Virtual_Devices_(vdevs)"><a class="selflink" href="#Virtual_Devices_(vdevs)">Virtual
  Devices ( <b>vdev</b>s)</a></h2>
A &quot;virtual device&quot; describes a single device or a collection of
  devices organized according to certain performance and fault characteristics.
  The following virtual devices are supported:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>disk</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A block device, typically located under
  <b>/dev/dsk</b>. <b>ZFS</b> can use individual slices or partitions, though
  the recommended mode of operation is to use whole disks. A disk can be
  specified by a full path, or it can be a shorthand name (the relative portion
  of the path under &quot;/dev/dsk&quot;). A whole disk can be specified by
  omitting the slice or partition designation. For example, &quot;c0t0d0&quot;
  is equivalent to &quot;/dev/dsk/c0t0d0s2&quot;. When given a whole disk,
  <b>ZFS</b> automatically labels the disk, if necessary.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>file</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A regular file. The use of files as a backing
  store is strongly discouraged. It is designed primarily for experimental
  purposes, as the fault tolerance of a file is only as good as the file system
  of which it is a part. A file must be specified by a full path.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>mirror</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A mirror of two or more devices. Data is
  replicated in an identical fashion across all components of a mirror. A mirror
  with <i>N</i> disks of size <i>X</i> can hold <i>X</i> bytes and can withstand
  ( <i>N-1</i>) devices failing before data integrity is compromised.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>raidz</b>
<div>&#x00A0;</div>
<b></b><b>raidz1</b>
<div>&#x00A0;</div>
<b></b><b>raidz2</b>
<div>&#x00A0;</div>
<b></b><b>raidz3</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A variation on <b>RAID-5</b> that allows for
  better distribution of parity and eliminates the &quot; <b>RAID-5</b> write
  hole&quot; (in which data and parity become inconsistent after a power loss).
  Data and parity is striped across all disks within a <b>raidz</b> group.
<div style="height: 1.00em;">&#x00A0;</div>
A <b>raidz</b> group can have single-, double- , or triple parity, meaning that
  the <b>raidz</b> group can sustain one, two, or three failures, respectively,
  without losing any data. The <b>raidz1</b> <b>vdev</b> type specifies a
  single-parity <b>raidz</b> group; the <b>raidz2</b> <b>vdev</b> type specifies
  a double-parity <b>raidz</b> group; and the <b>raidz3</b> <b>vdev</b> type
  specifies a triple-parity <b>raidz</b> group. The <b>raidz</b> <b>vdev</b>
  type is an alias for <b>raidz1</b>.
<div style="height: 1.00em;">&#x00A0;</div>
A <b>raidz</b> group with <i>N</i> disks of size <i>X</i> with <i>P</i> parity
  disks can hold approximately ( <i>N-P</i>)*<i>X</i> bytes and can withstand
  <i>P</i> device(s) failing before data integrity is compromised. The minimum
  number of devices in a <b>raidz</b> group is one more than the number of
  parity disks. The recommended number is between 3 and 9 to help increase
  performance.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>spare</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A special pseudo-<b>vdev</b> which keeps track
  of available hot spares for a pool. For more information, see the &quot;Hot
  Spares&quot; section.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>log</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A separate-intent log device. If more than one
  log device is specified, then writes are load-balanced between devices. Log
  devices can be mirrored. However, <b>raidz</b> <b>vdev</b> types are not
  supported for the intent log. For more information, see the &quot;Intent
  Log&quot; section.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>cache</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A device used to cache storage pool data. A
  cache device cannot be configured as a mirror or <b>raidz</b> group. For more
  information, see the &quot;Cache Devices&quot; section.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Virtual devices cannot be nested, so a mirror or <b>raidz</b> virtual device can
  only contain files or disks. Mirrors of mirrors (or other combinations) are
  not allowed.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A pool can have any number of virtual devices at the top of the configuration
  (known as &quot;root vdevs&quot;). Data is dynamically distributed across all
  top-level devices to balance data among devices. As new virtual devices are
  added, <b>ZFS</b> automatically places data on the newly available devices.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Virtual devices are specified one at a time on the command line, separated by
  whitespace. The keywords &quot;mirror&quot; and &quot;raidz&quot; are used to
  distinguish where a group ends and another begins. For example, the following
  creates two root vdevs, each a mirror of two disks:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create mypool mirror c0t0d0 c0t1d0 mirror c1t0d0 c1t1d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Device_Failure_and_Recovery"><a class="selflink" href="#Device_Failure_and_Recovery">Device
  Failure and Recovery</a></h2>
<b>ZFS</b> supports a rich set of mechanisms for handling device failure and
  data corruption. All metadata and data is checksummed, and <b>ZFS</b>
  automatically repairs bad data from a good copy when corruption is detected.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
In order to take advantage of these features, a pool must make use of some form
  of redundancy, using either mirrored or <b>raidz</b> groups. While <b>ZFS</b>
  supports running in a non-redundant configuration, where each root vdev is
  simply a disk or file, this is strongly discouraged. A single case of bit
  corruption can render some or all of your data unavailable.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
A pool's health status is described by one of three states: online, degraded, or
  faulted. An online pool has all devices operating normally. A degraded pool is
  one in which one or more devices have failed, but the data is still available
  due to a redundant configuration. A faulted pool has corrupted metadata, or
  one or more faulted devices, and insufficient replicas to continue
  functioning.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The health of the top-level vdev, such as mirror or <b>raidz</b> device, is
  potentially impacted by the state of its associated vdevs, or component
  devices. A top-level vdev or component device is in one of the following
  states:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>DEGRADED</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">One or more top-level vdevs is in the degraded
  state because one or more component devices are offline. Sufficient replicas
  exist to continue functioning.
<div style="height: 1.00em;">&#x00A0;</div>
One or more component devices is in the degraded or faulted state, but
  sufficient replicas exist to continue functioning. The underlying conditions
  are as follows:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The number of checksum errors exceeds acceptable levels and
      the device is degraded as an indication that something may be wrong.
      <b>ZFS</b> continues to use the device as necessary.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The number of I/O errors exceeds acceptable levels. The
      device could not be marked as faulted because there are insufficient
      replicas to continue functioning.</dd>
</dl>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>FAULTED</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">One or more top-level vdevs is in the faulted
  state because one or more component devices are offline. Insufficient replicas
  exist to continue functioning.
<div style="height: 1.00em;">&#x00A0;</div>
One or more component devices is in the faulted state, and insufficient replicas
  exist to continue functioning. The underlying conditions are as follows:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The device could be opened, but the contents did not match
      expected values.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The number of I/O errors exceeds acceptable levels and the
      device is faulted to prevent further use of the device.</dd>
</dl>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>OFFLINE</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The device was explicitly taken offline by the
  &quot; <b>zpool offline</b>&quot; command.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>ONLINE</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The device is online and functioning.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>REMOVED</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The device was physically removed while the
  system was running. Device removal detection is hardware-dependent and may not
  be supported on all platforms.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>UNAVAIL</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The device could not be opened. If a pool is
  imported when a device was unavailable, then the device will be identified by
  a unique identifier instead of its path since the path was never correct in
  the first place.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If a device is removed and later re-attached to the system, <b>ZFS</b> attempts
  to put the device online automatically. Device attach detection is
  hardware-dependent and might not be supported on all platforms.
<h2 class="Ss" title="Ss" id="Hot_Spares"><a class="selflink" href="#Hot_Spares">Hot
  Spares</a></h2>
<b>ZFS</b> allows devices to be associated with pools as &quot;hot spares&quot;.
  These devices are not actively used in the pool, but when an active device
  fails, it is automatically replaced by a hot spare. To create a pool with hot
  spares, specify a &quot;spare&quot; <b>vdev</b> with any number of devices.
  For example,
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create pool mirror c0d0 c1d0 spare c2d0 c3d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Spares can be shared across multiple pools, and can be added with the &quot;
  <b>zpool add</b>&quot; command and removed with the &quot; <b>zpool
  remove</b>&quot; command. Once a spare replacement is initiated, a new
  &quot;spare&quot; <b>vdev</b> is created within the configuration that will
  remain there until the original device is replaced. At this point, the hot
  spare becomes available again if another device fails.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If a pool has a shared spare that is currently being used, the pool can not be
  exported since other pools may use this shared spare, which may lead to
  potential data corruption.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
An in-progress spare replacement can be cancelled by detaching the hot spare. If
  the original faulted device is detached, then the hot spare assumes its place
  in the configuration, and is removed from the spare list of all active pools.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Spares cannot replace log devices.
<h2 class="Ss" title="Ss" id="Intent_Log"><a class="selflink" href="#Intent_Log">Intent
  Log</a></h2>
The <b>ZFS</b> Intent Log (<b>ZIL</b>) satisfies <b>POSIX</b> requirements for
  synchronous transactions. For instance, databases often require their
  transactions to be on stable storage devices when returning from a system
  call. <b>NFS</b> and other applications can also use <b>fsync</b>() to ensure
  data stability. By default, the intent log is allocated from blocks within the
  main pool. However, it might be possible to get better performance using
  separate intent log devices such as <b>NVRAM</b> or a dedicated disk. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create pool c0d0 c1d0 log c2d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Multiple log devices can also be specified, and they can be mirrored. See the
  EXAMPLES section for an example of mirroring multiple log devices.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Log devices can be added, replaced, attached, detached, and imported and
  exported as part of the larger pool. Mirrored log devices can be removed by
  specifying the top-level mirror for the log.
<h2 class="Ss" title="Ss" id="Cache_Devices"><a class="selflink" href="#Cache_Devices">Cache
  Devices</a></h2>
Devices can be added to a storage pool as &quot;cache devices.&quot; These
  devices provide an additional layer of caching between main memory and disk.
  For read-heavy workloads, where the working set size is much larger than what
  can be cached in main memory, using cache devices allow much more of this
  working set to be served from low latency media. Using cache devices provides
  the greatest performance improvement for random read-workloads of mostly
  static content.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To create a pool with cache devices, specify a &quot;cache&quot; <b>vdev</b>
  with any number of devices. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create pool c0d0 c1d0 cache c2d0 c3d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Cache devices cannot be mirrored or part of a <b>raidz</b> configuration. If a
  read error is encountered on a cache device, that read <b>I/O</b> is reissued
  to the original storage pool device, which might be part of a mirrored or
  <b>raidz</b> configuration.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The content of the cache devices is considered volatile, as is the case with
  other system caches.
<h2 class="Ss" title="Ss" id="Processes"><a class="selflink" href="#Processes">Processes</a></h2>
Each imported pool has an associated process, named
  <b>zpool-</b><i>poolname</i>. The threads in this process are the pool's I/O
  processing threads, which handle the compression, checksumming, and other
  tasks for all I/O associated with the pool. This process exists to provides
  visibility into the CPU utilization of the system's storage pools. The
  existence of this process is an unstable interface.
<h2 class="Ss" title="Ss" id="Properties"><a class="selflink" href="#Properties">Properties</a></h2>
Each pool has several properties associated with it. Some properties are
  read-only statistics while others are configurable and change the behavior of
  the pool. The following are read-only properties:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>alloc</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Amount of storage space within the pool that
  has been physically allocated.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>capacity</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Percentage of pool space used. This property
  can also be referred to by its shortened column name, &quot;cap&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>dedupratio</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The deduplication ratio specified for a pool,
  expressed as a multiplier. Deduplication can be turned on by entering the
  command:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zfs set dedup=on </b><i>dataset</i>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The default value is <b>off</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>dedupratio</b> is expressed as a single decimal number. For example, a
  <b>dedupratio</b> value of 1.76 indicates that 1.76 units of data were stored
  but only 1 unit of disk space was actually consumed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>free</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Number of blocks within the pool that are not
  allocated.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>guid</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">A unique identifier for the pool.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>health</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The current health of the pool. Health can be
  &quot; <b>ONLINE</b>&quot;, &quot;<b>DEGRADED</b>&quot;,
  &quot;<b>FAULTED</b>&quot;, &quot; <b>OFFLINE</b>&quot;,
  &quot;<b>REMOVED</b>&quot;, or &quot; <b>UNAVAIL</b>&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>size</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Total size of the storage pool.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
These space usage properties report actual physical space available to the
  storage pool. The physical space can be different from the total amount of
  space that any contained datasets can actually use. The amount of space used
  in a <b>raidz</b> configuration depends on the characteristics of the data
  being written. In addition, <b>ZFS</b> reserves some space for internal
  accounting that the <b>zfs</b>(1M) command takes into account, but the
  <b>zpool</b> command does not. For non-full pools of a reasonable size, these
  effects should be invisible. For small pools, or pools that are close to being
  completely full, these discrepancies may become more noticeable. The following
  property can be set at creation time:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>ashift</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Pool sector size exponent, to the power of 2
  (internally referred to as &quot;ashift&quot;). I/O operations will be aligned
  to the specified size boundaries. Additionally, the minimum (disk) write size
  will be set to the specified size, so this represents a space vs. performance
  trade-off. The typical case for setting this property is when performance is
  important and the underlying disks use 4KiB sectors but report 512B sectors to
  the OS (for compatibility reasons); in that case, set <b>ashift=12</b> (which
  is 1&lt;&lt;12 = 4096). Since most large disks have had 4K sectors since 2011,
  ZFS defaults to ashift=12 for all disks larger than 512 GB.
<div class="Pp"></div>
For optimal performance, the pool sector size should be greater than or equal to
  the sector size of the underlying disks. Since the property cannot be changed
  after pool creation, if in a given pool, you <i>ever</i> want to use drives
  that <i>report</i> 4KiB sectors, you must set <b>ashift=12</b> at pool
  creation time.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following property can be set at creation time and import time:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>altroot</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Alternate root directory. If set, this
  directory is prepended to any mount points within the pool. This can be used
  when examining an unknown pool where the mount points cannot be trusted, or in
  an alternate boot environment, where the typical paths are not valid.
  <b>altroot</b> is not a persistent property. It is valid only while the system
  is up. Setting <b>altroot</b> defaults to using <b>cachefile</b>=none, though
  this may be overridden	 using an explicit setting.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following properties can be set at creation time and import time, and later
  changed with the <b>zpool set</b> command:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>autoexpand</b>=<b>on</b> | <b>off</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Controls automatic pool expansion when the
  underlying LUN is grown. If set to <b>on</b>, the pool will be resized
  according to the size of the expanded device. If the device is part of a
  mirror or <b>raidz</b> then all devices within that mirror/<b>raidz</b> group
  must be expanded before the new space is made available to the pool. The
  default behavior is <b>off</b>. This property can also be referred to by its
  shortened column name, <b>expand</b>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>autoreplace</b>=<b>on</b> | <b>off</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Controls automatic device replacement. If set
  to &quot; <b>off</b>&quot;, device replacement must be initiated by the
  administrator by using the &quot; <b>zpool replace</b>&quot; command. If set
  to &quot; <b>on</b>&quot;, any new device, found in the same physical location
  as a device that previously belonged to the pool, is automatically formatted
  and replaced. The default behavior is &quot; <b>off</b>&quot;. This property
  can also be referred to by its shortened column name,
  &quot;replace&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>bootfs</b>=<i>pool</i>/<i>dataset</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Identifies the default bootable dataset for
  the root pool. This property is expected to be set mainly by the installation
  and upgrade programs.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>cachefile</b>=<i>path</i> | <b>none</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Controls the location of where the pool
  configuration is cached. Discovering all pools on system startup requires a
  cached copy of the configuration data that is stored on the root file system.
  All pools in this cache are automatically imported when the system boots. Some
  environments, such as install and clustering, need to cache this information
  in a different location so that pools are not automatically imported. Setting
  this property caches the pool configuration in a different location that can
  later be imported with &quot; <b>zpool import -c</b>&quot;. Setting it to the
  special value &quot; <b>none</b>&quot; creates a temporary pool that is never
  cached, and the special value <b>''</b> (empty string) uses the default
  location.
<div style="height: 1.00em;">&#x00A0;</div>
Multiple pools can share the same cache file. Because the kernel destroys and
  recreates this file when pools are added and removed, care should be taken
  when attempting to access this file. When the last pool using a
  <b>cachefile</b> is exported or destroyed, the file is removed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>delegation</b>=<b>on</b> | <b>off</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Controls whether a non-privileged user is
  granted access based on the dataset permissions defined on the dataset. See
  <b>zfs</b>(1M) for more information on <b>ZFS</b> delegated
  administration.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>failmode</b>=<b>wait</b> | <b>continue</b> | <b>panic</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Controls the system behavior in the event of
  catastrophic pool failure. This condition is typically a result of a loss of
  connectivity to the underlying storage device(s) or a failure of all devices
  within the pool. The behavior of such an event is determined as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>wait</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Blocks all <b>I/O</b> access to the pool until
  the device connectivity is recovered and the errors are cleared. A pool
  remains in the wait state until the device issue is resolved. This is the
  default behavior.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>continue</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Returns <b>EIO</b> to any new write <b>I/O</b>
  requests but allows reads to any of the remaining healthy devices. Any write
  requests that have yet to be committed to disk would be blocked.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>panic</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Prints out a message to the console and
  generates a system crash dump.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>listsnaps</b>=on | off
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Controls whether information about snapshots
  associated with this pool is output when &quot; <b>zfs list</b>&quot; is run
  without the <b>-t</b> option. The default value is &quot;off&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>version</b>=<i>version</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The current on-disk version of the pool. This
  can be increased, but never decreased. The preferred method of updating pools
  is with the &quot; <b>zpool upgrade</b>&quot; command, though this property
  can be used when a specific version is needed for backwards compatibility.
  This property can be any number between 1 and the current version reported by
  &quot; <b>zpool upgrade -v</b>&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Subcommands"><a class="selflink" href="#Subcommands">Subcommands</a></h2>
All subcommands that modify state are logged persistently to the pool in their
  original form.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The <b>zpool</b> command provides subcommands to create and destroy storage
  pools, add capacity to storage pools, and provide information about the
  storage pools. The following subcommands are supported:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool</b> <b>-?</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays a help message.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool add</b> [<b>-fn</b>] [<b>-o</b> <i>property=value</i>]
  <i>pool</i> <i>vdev</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Adds the specified virtual devices to the
  given pool. The <i>vdev</i> specification is described in the &quot;Virtual
  Devices&quot; section. The behavior of the <b>-f</b> option, and the device
  checks performed are described in the &quot;zpool create&quot; subcommand.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces use of <b>vdev</b>s, even if they
  appear in use or specify a conflicting replication level. Not all devices can
  be overridden in this manner.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-n</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays the configuration that would be used
  without actually adding the <b>vdev</b>s. The actual pool creation can still
  fail due to insufficient privileges or device sharing.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>property=value</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the given pool properties. See the
  &quot;Properties&quot; section for a list of valid properties that can be set.
  The only property supported at the moment is &quot;ashift&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
Do not add a disk that is currently configured as a quorum device to a zpool.
  After a disk is in the pool, that disk can then be configured as a quorum
  device.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool attach</b> [<b>-f</b>] [<b>-o</b> <i>property=value</i>]
  <i>pool</i> <i>device</i> <i>new_device</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Attaches <i>new_device</i> to an existing
  <b>zpool</b> device. The existing device cannot be part of a <b>raidz</b>
  configuration. If <i>device</i> is not currently part of a mirrored
  configuration, <i>device</i> automatically transforms into a two-way mirror of
  <i>device</i> and <i>new_device</i>. If <i>device</i> is part of a two-way
  mirror, attaching <i>new_device</i> creates a three-way mirror, and so on. In
  either case, <i>new_device</i> begins to resilver immediately.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces use of <i>new_device</i>, even if its
  appears to be in use. Not all devices can be overridden in this manner.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>property=value</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the given pool properties. See the
  &quot;Properties&quot; section for a list of valid properties that can be set.
  The only property supported at the moment is &quot;ashift&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool clear</b> [<b>-F</b> [<b>-n</b>]] <i>pool</i> [<i>device</i>]
  ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Clears device errors in a pool. If no
  arguments are specified, all device errors within the pool are cleared. If one
  or more devices is specified, only those errors associated with the specified
  device or devices are cleared.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-F</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Initiates recovery mode for an unopenable
  pool. Attempts to discard the last few transactions in the pool to return it
  to an openable state. Not all damaged pools can be recovered by using this
  option. If successful, the data from the discarded transactions is
  irretrievably lost.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-n</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Used in combination with the <b>-F</b> flag.
  Check whether discarding transactions would make the pool openable, but do not
  actually discard any transactions.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool create</b> [<b>-fn</b>] [<b>-o</b> <i>property=value</i>] ...
  [<b>-O</b> <i>file-system-property=value</i>] ... [<b>-m</b>
  <i>mountpoint</i>] [ <b>-R</b> <i>root</i>] <i>pool</i> <i>vdev</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Creates a new storage pool containing the
  virtual devices specified on the command line. The pool name must begin with a
  letter, and can only contain alphanumeric characters as well as underscore
  (&quot;_&quot;), dash (&quot;-&quot;), and period (&quot;.&quot;). The pool
  names <b>mirror</b>, <b>raidz</b>, <b>spare</b>, and <b>log</b> are reserved,
  as are names beginning with the pattern <b>c</b>[<b>0-9</b>]. The <b>vdev</b>
  specification is described in the &quot;Virtual Devices&quot; section.
<div style="height: 1.00em;">&#x00A0;</div>
The command verifies that each device specified is accessible and not currently
  in use by another subsystem. There are some uses, such as being currently
  mounted, or specified as the dedicated dump device, that prevents a device
  from ever being used by <b>ZFS</b>. Other uses, such as having a preexisting
  <b>UFS</b> file system, can be overridden with the <b>-f</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
The command also checks that the replication strategy for the pool is
  consistent. An attempt to combine redundant and non-redundant storage in a
  single pool, or to mix disks and files, results in an error unless <b>-f</b>
  is specified. The use of differently sized devices within a single
  <b>raidz</b> or mirror group is also flagged as an error unless <b>-f</b> is
  specified.
<div style="height: 1.00em;">&#x00A0;</div>
Unless the <b>-R</b> option is specified, the default mount point is
  &quot;/<i>pool</i>&quot;. The mount point must not exist or must be empty, or
  else the root dataset cannot be mounted. This can be overridden with the
  <b>-m</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces use of <b>vdev</b>s, even if they
  appear in use or specify a conflicting replication level. Not all devices can
  be overridden in this manner.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-n</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays the configuration that would be used
  without actually creating the pool. The actual pool creation can still fail
  due to insufficient privileges or device sharing.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>property=value</i> [<b>-o</b> <i>property=value</i>] ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the given pool properties. See the
  &quot;Properties&quot; section for a list of valid properties that can be
  set.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-O</b> <i>file-system-property=value</i>
<div>&#x00A0;</div>
<b>[</b><b>-O</b> <i>file-system-property=value</i>] ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the given file system properties in the
  root file system of the pool. See the &quot;Properties&quot; section of
  <b>zfs</b>(1M) for a list of valid properties that can be set.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-R</b> <i>root</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Equivalent to &quot;-o
  cachefile=none,altroot=<i>root</i>&quot;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-m</b> <i>mountpoint</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the mount point for the root dataset. The
  default mount point is &quot;/ <i>pool</i>&quot; or
  &quot;<b>altroot</b>/<i>pool</i>&quot; if <b>altroot</b> is specified. The
  mount point must be an absolute path, &quot; <b>legacy</b>&quot;, or
  &quot;<b>none</b>&quot;. For more information on dataset mount points, see
  <b>zfs</b>(1M).</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool destroy</b> [<b>-f</b>] <i>pool</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Destroys the given pool, freeing up any
  devices for other use. This command tries to unmount any active datasets
  before destroying the pool.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces any active datasets contained within
  the pool to be unmounted.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool detach</b> <i>pool</i> <i>device</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Detaches <i>device</i> from a mirror. The
  operation is refused if there are no other valid replicas of the data.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool export</b> [<b>-f</b>] <i>pool</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Exports the given pools from the system. All
  devices are marked as exported, but are still considered in use by other
  subsystems. The devices can be moved between systems (even those of different
  endianness) and imported as long as a sufficient number of devices are
  present.
<div style="height: 1.00em;">&#x00A0;</div>
Before exporting the pool, all datasets within the pool are unmounted. A pool
  can not be exported if it has a shared spare that is currently being used.
<div style="height: 1.00em;">&#x00A0;</div>
For pools to be portable, you must give the <b>zpool</b> command whole disks,
  not just slices, so that <b>ZFS</b> can label the disks with portable
  <b>EFI</b> labels. Otherwise, disk drivers on platforms of different
  endianness will not recognize the disks.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forcefully unmount all datasets, using the
  &quot; <b>unmount -f</b>&quot; command.
<div style="height: 1.00em;">&#x00A0;</div>
This command will forcefully export the pool even if it has a shared spare that
  is currently being used. This may lead to potential data corruption.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool get</b> &quot;<i>all</i>&quot; | <i>property</i>[,...]
  <i>pool</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Retrieves the given list of properties (or all
  properties if &quot; <b>all</b>&quot; is used) for the specified storage
  pool(s). These properties are displayed with the following fields:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
       name          Name of storage pool
        property      Property name
        value         Property value
        source        Property source, either 'default' or 'local'.
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
See the &quot;Properties&quot; section for more information on the available
  pool properties.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool history</b> [<b>-il</b>] [<i>pool</i>] ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays the command history of the specified
  pools or all pools if no pool is specified.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-i</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays internally logged <b>ZFS</b> events
  in addition to user initiated events.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-l</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays log records in long format, which in
  addition to standard format includes, the user name, the hostname, and the
  zone in which the operation was performed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool import</b> [<b>-d</b> <i>dir</i> | <b>-c</b> <i>cachefile</i>]
  [<b>-D</b>]
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Lists pools available to import. If the
  <b>-d</b> option is not specified, this command searches for devices in
  &quot;/dev/dsk&quot;. The <b>-d</b> option can be specified multiple times,
  and all directories are searched. If the device appears to be part of an
  exported pool, this command displays a summary of the pool with the name of
  the pool, a numeric identifier, as well as the <i>vdev</i> layout and current
  health of the device for each device or file. Destroyed pools, pools that were
  previously destroyed with the &quot; <b>zpool destroy</b>&quot; command, are
  not listed unless the <b>-D</b> option is specified.
<div style="height: 1.00em;">&#x00A0;</div>
The numeric identifier is unique, and can be used instead of the pool name when
  multiple exported pools of the same name are available.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-c</b> <i>cachefile</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Reads configuration from the given
  <b>cachefile</b> that was created with the &quot; <b>cachefile</b>&quot; pool
  property. This <b>cachefile</b> is used instead of searching for
  devices.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-d</b> <i>dir</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Searches for devices or files in <i>dir</i>.
  The <b>-d</b> option can be specified multiple times.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-D</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Lists destroyed pools only.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool import</b> [<b>-o</b> <i>mntopts</i>] [ <b>-o</b>
  <i>property</i>= <i>value</i>] ... [<b>-d</b> <i>dir</i> | <b>-c</b>
  <i>cachefile</i>] [ <b>-D</b>] [<b>-f</b>] [<b>-R</b> <i>root</i>] [<b>-F</b>
  [ <b>-n</b>]] <b>-a</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Imports all pools found in the search
  directories. Identical to the previous command, except that all pools with a
  sufficient number of devices available are imported. Destroyed pools, pools
  that were previously destroyed with the &quot; <b>zpool destroy</b>&quot;
  command, will not be imported unless the <b>-D</b> option is specified.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>mntopts</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Comma-separated list of mount options to use
  when mounting datasets within the pool. See <b>zfs</b>(1M) for a description
  of dataset properties and mount options.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>property=value</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the specified property on the imported
  pool. See the &quot;Properties&quot; section for more information on the
  available pool properties.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-c</b> <i>cachefile</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Reads configuration from the given
  <b>cachefile</b> that was created with the &quot; <b>cachefile</b>&quot; pool
  property. This <b>cachefile</b> is used instead of searching for
  devices.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-d</b> <i>dir</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Searches for devices or files in <i>dir</i>.
  The <b>-d</b> option can be specified multiple times. This option is
  incompatible with the <b>-c</b> option.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-D</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Imports destroyed pools only. The <b>-f</b>
  option is also required.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces import, even if the pool appears to be
  potentially active.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-F</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Recovery mode for a non-importable pool.
  Attempt to return the pool to an importable state by discarding the last few
  transactions. Not all damaged pools can be recovered by using this option. If
  successful, the data from the discarded transactions is irretrievably lost.
  This option is ignored if the pool is importable or already imported.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-a</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Searches for and imports all pools
  found.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-R</b> <i>root</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the &quot;<b>cachefile</b>&quot; property
  to &quot; <b>none</b>&quot; and the &quot;<i>altroot</i>&quot; property to
  &quot; <i>root</i>&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-n</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Used with the <b>-F</b> recovery option.
  Determines whether a non-importable pool can be made importable again, but
  does not actually perform the pool recovery. For more details about pool
  recovery mode, see the <b>-F</b> option, above.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool import</b> [<b>-o</b> <i>mntopts</i>] [ <b>-o</b>
  <i>property</i>= <i>value</i>] ... [<b>-d</b> <i>dir</i> | <b>-c</b>
  <i>cachefile</i>] [ <b>-D</b>] [<b>-f</b>] [<b>-R</b> <i>root</i>] [<b>-F</b>
  [ <b>-n</b>]] <i>pool</i> | <i>id</i> [<i>newpool</i>]
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Imports a specific pool. A pool can be
  identified by its name or the numeric identifier. If <i>newpool</i> is
  specified, the pool is imported using the name <i>newpool</i>. Otherwise, it
  is imported with the same name as its exported name.
<div style="height: 1.00em;">&#x00A0;</div>
If a device is removed from a system without running &quot; <b>zpool
  export</b>&quot; first, the device appears as potentially active. It cannot be
  determined if this was a failed export, or whether the device is really in use
  from another host. To import a pool in this state, the <b>-f</b> option is
  required.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>mntopts</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Comma-separated list of mount options to use
  when mounting datasets within the pool. See <b>zfs</b>(1M) for a description
  of dataset properties and mount options.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>property=value</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the specified property on the imported
  pool. See the &quot;Properties&quot; section for more information on the
  available pool properties.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-c</b> <i>cachefile</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Reads configuration from the given
  <b>cachefile</b> that was created with the &quot; <b>cachefile</b>&quot; pool
  property. This <b>cachefile</b> is used instead of searching for
  devices.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-d</b> <i>dir</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Searches for devices or files in <i>dir</i>.
  The <b>-d</b> option can be specified multiple times. This option is
  incompatible with the <b>-c</b> option.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-D</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Imports destroyed pool. The <b>-f</b> option
  is also required.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces import, even if the pool appears to be
  potentially active.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-F</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Recovery mode for a non-importable pool.
  Attempt to return the pool to an importable state by discarding the last few
  transactions. Not all damaged pools can be recovered by using this option. If
  successful, the data from the discarded transactions is irretrievably lost.
  This option is ignored if the pool is importable or already imported.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-R</b> <i>root</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the &quot;<b>cachefile</b>&quot; property
  to &quot; <b>none</b>&quot; and the &quot;<i>altroot</i>&quot; property to
  &quot; <i>root</i>&quot;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-n</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Used with the <b>-F</b> recovery option.
  Determines whether a non-importable pool can be made importable again, but
  does not actually perform the pool recovery. For more details about pool
  recovery mode, see the <b>-F</b> option, above.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool iostat</b> [<b>-T</b> <b>u</b> | <b>d</b>] [<b>-v</b>]
  [<i>pool</i>] ... [ <i>interval</i>[<i>count</i>]]
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays <b>I/O</b> statistics for the given
  pools. When given an interval, the statistics are printed every
  <i>interval</i> seconds until <b>Ctrl-C</b> is pressed. If no <i>pools</i> are
  specified, statistics for every pool in the system is shown. If <i>count</i>
  is specified, the command exits after <i>count</i> reports are printed.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-T</b> <b>u</b> | <b>d</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Display a time stamp.
<div style="height: 1.00em;">&#x00A0;</div>
Specify <b>u</b> for a printed representation of the internal representation of
  time. See <b>time</b>(2). Specify <b>d</b> for standard date format. See
  <b>date</b>(1).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-v</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Verbose statistics. Reports usage statistics
  for individual <i>vdevs</i> within the pool, in addition to the pool-wide
  statistics.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool list</b> [<b>-H</b>] [<b>-o</b> <i>props</i>[,...]]
  [<i>pool</i>] ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Lists the given pools along with a health
  status and space usage. When given no arguments, all pools in the system are
  listed.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-H</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Scripted mode. Do not display headers, and
  separate fields by a single tab instead of arbitrary space.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>props</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Comma-separated list of properties to display.
  See the &quot;Properties&quot; section for a list of valid properties. The
  default list is <b>name</b>, <b>size</b>, <b>allocated</b>, <b>free</b>,
  <b>capacity</b>, <b>health</b>, <b>altroot</b>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool offline</b> [<b>-t</b>] <i>pool</i> <i>device</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Takes the specified physical device offline.
  While the <i>device</i> is offline, no attempt is made to read or write to the
  device.
<div style="height: 1.00em;">&#x00A0;</div>
This command is not applicable to spares or cache devices.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-t</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Temporary. Upon reboot, the specified physical
  device reverts to its previous state.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool online</b> [<b>-e</b>] <i>pool</i> <i>device</i>...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Brings the specified physical device online.
<div style="height: 1.00em;">&#x00A0;</div>
This command is not applicable to spares or cache devices.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-e</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Expand the device to use all available space.
  If the device is part of a mirror or <b>raidz</b> then all devices must be
  expanded before the new space will become available to the pool.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool remove</b> <i>pool</i> <i>device</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Removes the specified device from the pool.
  This command currently only supports removing hot spares, cache, and log
  devices. A mirrored log device can be removed by specifying the top-level
  mirror for the log. Non-log devices that are part of a mirrored configuration
  can be removed using the <b>zpool detach</b> command. Non-redundant and
  <b>raidz</b> devices cannot be removed from a pool.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool replace</b> [<b>-f</b>] <i>pool</i> <i>old_device</i>
  [<i>new_device</i>]
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Replaces <i>old_device</i> with
  <i>new_device</i>. This is equivalent to attaching <i>new_device</i>, waiting
  for it to resilver, and then detaching <i>old_device</i>.
<div style="height: 1.00em;">&#x00A0;</div>
The size of <i>new_device</i> must be greater than or equal to the minimum size
  of all the devices in a mirror or <b>raidz</b> configuration.
<div style="height: 1.00em;">&#x00A0;</div>
<i>new_device</i> is required if the pool is not redundant. If <i>new_device</i>
  is not specified, it defaults to <i>old_device</i>. This form of replacement
  is useful after an existing disk has failed and has been physically replaced.
  In this case, the new disk may have the same <b>/dev/dsk</b> path as the old
  device, even though it is actually a different disk. <b>ZFS</b> recognizes
  this.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-f</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Forces use of <i>new_device</i>, even if its
  appears to be in use. Not all devices can be overridden in this manner.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool scrub</b> [<b>-s</b>] <i>pool</i> ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Begins a scrub. The scrub examines all data in
  the specified pools to verify that it checksums correctly. For replicated
  (mirror or <b>raidz</b>) devices, <b>ZFS</b> automatically repairs any damage
  discovered during the scrub. The &quot; <b>zpool status</b>&quot; command
  reports the progress of the scrub and summarizes the results of the scrub upon
  completion.
<div style="height: 1.00em;">&#x00A0;</div>
Scrubbing and resilvering are very similar operations. The difference is that
  resilvering only examines data that <b>ZFS</b> knows to be out of date (for
  example, when attaching a new device to a mirror or replacing an existing
  device), whereas scrubbing examines all data to discover silent errors due to
  hardware faults or disk failure.
<div style="height: 1.00em;">&#x00A0;</div>
Because scrubbing and resilvering are <b>I/O</b>-intensive operations,
  <b>ZFS</b> only allows one at a time. If a scrub is already in progress, the
  &quot; <b>zpool scrub</b>&quot; command terminates it and starts a new scrub.
  If a resilver is in progress, <b>ZFS</b> does not allow a scrub to be started
  until the resilver completes.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-s</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Stop scrubbing.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool set</b> <i>property</i>=<i>value</i> <i>pool</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the given property on the specified pool.
  See the &quot;Properties&quot; section for more information on what properties
  can be set and acceptable values.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool split</b> [<b>-R</b> <i>altroot</i>] [<b>-n</b>] [<b>-o</b>
  <i>mntopts</i>] [ <b>-o</b> <i>property</i>=<i>value</i>] <i>pool</i>
  <i>newpool</i> [ <i>device</i> ...]
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Splits off one disk from each mirrored
  top-level vdev in a pool and creates a new pool from the split-off disks. The
  original pool must be made up of one or more mirrors and must not be in the
  process of resilvering. The <b>split</b> subcommand chooses the last device in
  each mirror vdev unless overridden by a device specification on the command
  line.
<div style="height: 1.00em;">&#x00A0;</div>
When using a <i>device</i> argument, <b>split</b> includes the specified
  device(s) in a new pool and, should any devices remain unspecified, assigns
  the last device in each mirror vdev to that pool, as it does normally. If you
  are uncertain about the outcome of a <b>split</b> command, use the <b>-n</b>
  (&quot;dry-run&quot;) option to ensure your command will have the effect you
  intend.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-R</b> <i>altroot</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Automatically import the newly created pool
  after splitting, using the specified <i>altroot</i> parameter for the new
  pool's alternate root. See the <b>altroot</b> description in the
  &quot;Properties&quot; section, above.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-n</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays the configuration that would be
  created without actually splitting the pool. The actual pool split could still
  fail due to insufficient privileges or device status.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>mntopts</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Comma-separated list of mount options to use
  when mounting datasets within the pool. See <b>zfs</b>(1M) for a description
  of dataset properties and mount options. Valid only in conjunction with the
  <b>-R</b> option.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-o</b> <i>property</i>=<i>value</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Sets the specified property on the new pool.
  See the &quot;Properties&quot; section, above, for more information on the
  available pool properties.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool status</b> [<b>-xv</b>] [<i>pool</i>] ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays the detailed health status for the
  given pools. If no <i>pool</i> is specified, then the status of each pool in
  the system is displayed. For more information on pool and device health, see
  the &quot;Device Failure and Recovery&quot; section.
<div style="height: 1.00em;">&#x00A0;</div>
If a scrub or resilver is in progress, this command reports the percentage done
  and the estimated time to completion. Both of these are only approximate,
  because the amount of data in the pool and the other workloads on the system
  can change.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-x</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Only display status for pools that are
  exhibiting errors or are otherwise unavailable.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-v</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays verbose data error information,
  printing out a complete list of all data errors since the last complete pool
  scrub.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool upgrade</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays all pools formatted using a different
  <b>ZFS</b> on-disk version. Older versions can continue to be used, but some
  features may not be available. These pools can be upgraded using &quot;
  <b>zpool upgrade -a</b>&quot;. Pools that are formatted with a more recent
  version are also displayed, although these pools will be inaccessible on the
  system.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool upgrade</b> <b>-v</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Displays <b>ZFS</b> versions supported by the
  current software. The current <b>ZFS</b> versions and all previous supported
  versions are displayed, along with an explanation of the features provided
  with each version.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>zpool upgrade</b> [<b>-V</b> <i>version</i>] <b>-a</b> | <i>pool</i>
  ...
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Upgrades the given pool to the latest on-disk
  version. Once this is done, the pool will no longer be accessible on systems
  running older versions of the software.
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-a</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Upgrades all pools.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>-V</b> <i>version</i>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Upgrade to the specified version. If the
  <b>-V</b> flag is not specified, the pool is upgraded to the most recent
  version. This option can only be used to increase the version number, and only
  up to the most recent version supported by this software.</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>Example 1 </b>Creating a RAID-Z Storage Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command creates a pool with a single <b>raidz</b> root <i>vdev</i>
  that consists of six disks.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create tank raidz c0t0d0 c0t1d0 c0t2d0 c0t3d0 c0t4d0 c0t5d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 2 </b>Creating a Mirrored Storage Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command creates a pool with two mirrors, where each mirror
  contains two disks.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create tank mirror c0t0d0 c0t1d0 mirror c0t2d0 c0t3d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 3 </b>Creating a ZFS Storage Pool by Using Slices
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command creates an unmirrored pool using two disk slices.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create tank /dev/dsk/c0t0d0s1 c0t1d0s4</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 4 </b>Creating a ZFS Storage Pool by Using Files
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command creates an unmirrored pool using files. While not
  recommended, a pool based on files can be useful for experimental purposes.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create tank /path/to/file/a /path/to/file/b</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 5 </b>Adding a Mirror to a ZFS Storage Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command adds two mirrored disks to the pool &quot;
  <i>tank</i>&quot;, assuming the pool is already made up of two-way mirrors.
  The additional space is immediately available to any datasets within the pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool add tank mirror c1t0d0 c1t1d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 6 </b>Listing Available ZFS Storage Pools
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command lists all available pools on the system.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool list</b>
NAME    SIZE  ALLOC   FREE    CAP  DEDUP  HEALTH  ALTROOT
pool    136G   109M   136G     0%  3.00x  ONLINE  -
rpool  67.5G  12.6G  54.9G    18%  1.01x  ONLINE  -
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 7 </b>Listing All Properties for a Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command lists all the properties for a pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
%  <b>zpool get all pool</b>
NAME  PROPERTY       VALUE       SOURCE
pool  size           136G        -
pool  capacity       0%          -
pool  altroot        -           default
pool  health         ONLINE      -
pool  guid           15697759092019394988  default
pool  version        21          default
pool  bootfs         -           default
pool  delegation     on          default
pool  autoreplace    off         default
pool  cachefile      -           default
pool  failmode       wait        default
pool  listsnapshots  off         default
pool  autoexpand     off         default
pool  dedupratio     3.00x       -
pool  free           136G        -
pool  allocated      109M        -
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 8 </b>Destroying a ZFS Storage Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command destroys the pool &quot; <i>tank</i>&quot; and any
  datasets contained within.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool destroy -f tank</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 9 </b>Exporting a ZFS Storage Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command exports the devices in pool <i>tank</i> so that they can
  be relocated or later imported.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool export tank</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 10 </b>Importing a ZFS Storage Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command displays available pools, and then imports the pool
  &quot;tank&quot; for use on the system.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The results from this command are similar to the following:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool import</b>
  pool: tank
    id: 7678868315469843843
 state: ONLINE
action: The pool can be imported using its name or numeric identifier.
config:
<div class="Pp"></div>
        tank        ONLINE
          mirror-0  ONLINE
            c1t2d0  ONLINE
            c1t3d0  ONLINE
<div class="Pp"></div>
#  <b>zpool import tank</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 11 </b>Upgrading All ZFS Storage Pools to the Current Version
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command upgrades all ZFS Storage pools to the current version of
  the software.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool upgrade -a</b>
This system is currently running ZFS pool version 19.
<div class="Pp"></div>
All pools are formatted using this version.
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 12 </b>Managing Hot Spares
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command creates a new pool with an available hot spare:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create tank mirror c0t0d0 c0t1d0 spare c0t2d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If one of the disks were to fail, the pool would be reduced to the degraded
  state. The failed device can be replaced using the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool replace tank c0t0d0 c0t3d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Once the data has been resilvered, the spare is automatically removed and is
  made available should another device fails. The hot spare can be permanently
  removed from the pool using the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool remove tank c0t2d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 13 </b>Creating a ZFS Pool with Mirrored Separate Intent Logs
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command creates a ZFS storage pool consisting of two, two-way
  mirrors and mirrored log devices:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool create pool mirror c0d0 c1d0 mirror c2d0 c3d0 log mirror \</b>
<b>   c4d0 c5d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 14 </b>Adding Cache Devices to a ZFS Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command adds two disks for use as cache devices to a ZFS storage
  pool:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool add pool cache c2d0 c3d0</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Once added, the cache devices gradually fill with content from main memory.
  Depending on the size of your cache devices, it could take over an hour for
  them to fill. Capacity and reads can be monitored using the <b>iostat</b>
  option as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool iostat -v pool 5</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 15 </b>Removing a Mirrored Log Device
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following command removes the mirrored log device <b>mirror-2</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Given this configuration:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
   pool: tank
  state: ONLINE
  scrub: none requested
config:
<div class="Pp"></div>
         NAME        STATE     READ WRITE CKSUM
         tank        ONLINE       0     0     0
           mirror-0  ONLINE       0     0     0
             c6t0d0  ONLINE       0     0     0
             c6t1d0  ONLINE       0     0     0
           mirror-1  ONLINE       0     0     0
             c6t2d0  ONLINE       0     0     0
             c6t3d0  ONLINE       0     0     0
         logs
           mirror-2  ONLINE       0     0     0
             c4t0d0  ONLINE       0     0     0
             c4t1d0  ONLINE       0     0     0
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The command to remove the mirrored log <b>mirror-2</b> is:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool remove tank mirror-2</b>
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Example 16 </b>Recovering a Faulted ZFS Pool
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If a pool is faulted but recoverable, a message indicating this state is
  provided by <b>zpool status</b> if the pool was cached (see <b>cachefile</b>
  above), or as part of the error output from a failed <b>zpool import</b> of
  the pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Recover a cached pool with the <b>zpool clear</b> command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool clear -F data</b>
Pool data returned to its state as of Tue Sep 08 13:23:35 2009.
Discarded approximately 29 seconds of transactions.
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
If the pool configuration was not cached, use <b>zpool import</b> with the
  recovery mode flag:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<pre>
#  <b>zpool import -F data</b>
Pool data returned to its state as of Tue Sep 08 13:23:35 2009.
Discarded approximately 29 seconds of transactions.
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The following exit values are returned:
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>0</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Successful completion.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>1</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">An error occurred.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b></b><b>2</b>
<div style="height: 0.60em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Invalid command line options were
  specified.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ATTRIBUTES"><a class="selflink" href="#ATTRIBUTES">ATTRIBUTES</a></h1>
See <b>attributes</b>(5) for descriptions of the following attributes:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<table class="tbl">
  <colgroup>
    <col style="width: 27.00ex;"/>
    <col style="width: 27.00ex;"/>
  </colgroup>
  <tr>
    <td>ATTRIBUTE TYPE</td>
    <td>ATTRIBUTE VALUE</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Availability</td>
    <td>SUNWzfsu</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Interface Stability</td>
    <td>Committed</td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>zfs</b>(1M), <b>attributes</b>(5)</div>
<table class="foot">
  <tr>
    <td class="foot-date">4 Jan 2010</td>
    <td class="foot-os">SunOS 5.11</td>
  </tr>
</table>
</body>
</html>
