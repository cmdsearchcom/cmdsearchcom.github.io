<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BLKDISCARD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BLKDISCARD(8)</td>
    <td class="head-vol">System Administration</td>
    <td class="head-rtitle">BLKDISCARD(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
blkdiscard - discard sectors on a device
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>blkdiscard</b> [options] [<b>-o</b> <i>offset</i>] [<b>-l</b> <i>length</i>]
  <i>device</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>blkdiscard</b> is used to discard device sectors. This is useful for
  solid-state drivers (SSDs) and thinly-provisioned storage. Unlike
  <b>fstrim</b>(8)<b>,</b> this command is used directly on the block device.
<div class="Pp"></div>
By default, <b>blkdiscard</b> will discard all blocks on the device. Options may
  be used to modify this behavior based on range or size, as explained below.
<div class="Pp"></div>
The <i>device</i> argument is the pathname of the block device.
<div class="Pp"></div>
<b>WARNING: All data in the discarded region on the device will be lost!</b>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <i>offset</i> and <i>length</i> arguments may be followed by the
  multiplicative suffixes KiB (=1024), MiB (=1024*1024), and so on for GiB, TiB,
  PiB, EiB, ZiB and YiB (the &quot;iB&quot; is optional, e.g., &quot;K&quot; has
  the same meaning as &quot;KiB&quot;) or the suffixes KB (=1000), MB
  (=1000*1000), and so on for GB, TB, PB, EB, ZB and YB.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>,<b> --offset <i>offset</i></b></dt>
  <dd class="It-tag">Byte offset into the device from which to start discarding.
      The provided value will be aligned to the device sector size. The default
      value is zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>,<b> --length <i>length</i></b></dt>
  <dd class="It-tag">The number of bytes to discard (counting from the starting
      point). The provided value will be aligned to the device sector size. If
      the specified value extends past the end of the device, <b>blkdiscard</b>
      will stop at the device size boundary. The default value extends to the
      end of the device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>,<b> --step <i>length</i></b></dt>
  <dd class="It-tag">The number of bytes to discard within one iteration. The
      default is to discard all by one ioctl call.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>,<b> --secure</b></dt>
  <dd class="It-tag">Perform a secure discard. A secure discard is the same as a
      regular discard except that all copies of the discarded blocks that were
      possibly created by garbage collection must also be erased. This requires
      support from the device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b>,<b> --zeroout</b></dt>
  <dd class="It-tag">Zero-fill rather than discard.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>,<b> --verbose</b></dt>
  <dd class="It-tag">Display the aligned values of <i>offset</i> and
      <i>length</i>. If the option <b>--step</b> specified than it prints
      discard progress every second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>,<b> --version</b></dt>
  <dd class="It-tag">Display version information and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>,<b> --help</b></dt>
  <dd class="It-tag">Display help text and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<a class="Mt" title="Mt" href="mailto:lczerner@redhat.com">Lukas Czerner</a>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>fstrim</b>(8)
<h1 class="Sh" title="Sh" id="AVAILABILITY"><a class="selflink" href="#AVAILABILITY">AVAILABILITY</a></h1>
The blkdiscard command is part of the util-linux package and is available
  <a class="Lk" title="Lk" href="ftp://ftp.kernel.org/pub/linux/utils/util-linux/">Linux
  Kernel Archive</a></div>
<table class="foot">
  <tr>
    <td class="foot-date">July 2014</td>
    <td class="foot-os">util-linux</td>
  </tr>
</table>
</body>
</html>
