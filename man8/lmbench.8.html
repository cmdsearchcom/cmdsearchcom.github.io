<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LMBENCH(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LMBENCH(8)</td>
    <td class="head-vol">LMBENCH</td>
    <td class="head-rtitle">LMBENCH(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
lmbench - system benchmarks
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>lmbench</b> is a series of micro benchmarks intended to measure basic
  operating system and hardware system metrics. The benchmarks fall into three
  general classes: bandwidth, latency, and ``other''.
<div class="Pp"></div>
Most of the <i>lmbench</i> benchmarks use a standard timing harness described in
  timing(3) and have a few standard options: <i>parallelism</i>, <i>warmup</i>,
  and <i>repetitions</i>. <i>Parallelism</i> specifies the number of benchmark
  processes to run in parallel. This is primarily useful when measuring the
  performance of SMP or distributed computers and can be used to evaluate the
  system's performance scalability. <i>Warmup</i> is the number of minimum
  number of microseconds the benchmark should execute the benchmarked capability
  before it begins measuring performance. Again this is primarily useful for SMP
  or distributed systems and it is intended to give the process scheduler time
  to &quot;settle&quot; and migrate processes to other processors. By measuring
  performance over various <i>warmup</i> periods, users may evaulate the
  scheduler's responsiveness. <i>Repetitions</i> is the number of measurements
  that the benchmark should take. This allows lmbench to provide greater or
  lesser statistical strength to the results it reports. The default number of
  <i>repetitions</i> is 11.
<h1 class="Sh" title="Sh" id="BANDWIDTH_MEASUREMENTS"><a class="selflink" href="#BANDWIDTH_MEASUREMENTS">BANDWIDTH
  MEASUREMENTS</a></h1>
Data movement is fundamental to the performance on most computer systems. The
  bandwidth measurements are intended to show how the system can move data. The
  results of the bandwidth metrics can be compared but care must be taken to
  understand what it is that is being compared. The bandwidth benchmarks can be
  reduced to two main components: operating system overhead and memory speeds.
  The bandwidth benchmarks report their results as megabytes moved per second
  but please note that the data moved is <b>not</b> necessarily the same as the
  memory bandwidth used to move the data. Consult the individual man pages for
  more information.
<div class="Pp"></div>
Each of the bandwidth benchmarks is listed below with a brief overview of the
  intent of the benchmark.
<dl class="Bl-tag">
  <dt class="It-tag">bw_file_rd</dt>
  <dd class="It-tag">reading and summing of a file via the read(2)
    interface.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_mem_cp</dt>
  <dd class="It-tag">memory copy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_mem_rd</dt>
  <dd class="It-tag">memory reading and summing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_mem_wr</dt>
  <dd class="It-tag">memory writing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_mmap_rd</dt>
  <dd class="It-tag">reading and summing of a file via the memory mapping
      mmap(2) interface.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_pipe</dt>
  <dd class="It-tag">reading of data via a pipe.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_tcp</dt>
  <dd class="It-tag">reading of data via a TCP/IP socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bw_unix</dt>
  <dd class="It-tag">reading data from a UNIX socket.</dd>
</dl>
<h1 class="Sh" title="Sh" id="LATENCY_MEASUREMENTS"><a class="selflink" href="#LATENCY_MEASUREMENTS">LATENCY
  MEASUREMENTS</a></h1>
Control messages are also fundamental to the performance on most computer
  systems. The latency measurements are intended to show how fast a system can
  be told to do some operation. The results of the latency metrics can be
  compared to each other for the most part. In particular, the pipe, rpc, tcp,
  and udp transactions are all identical benchmarks carried out over different
  system abstractions.
<div class="Pp"></div>
Latency numbers here should mostly be in microseconds per operation.
<dl class="Bl-tag">
  <dt class="It-tag">lat_connect</dt>
  <dd class="It-tag">the time it takes to establish a TCP/IP connection.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_ctx</dt>
  <dd class="It-tag">context switching; the number and size of processes is
      varied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_fcntl</dt>
  <dd class="It-tag">fcntl file locking.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_fifo</dt>
  <dd class="It-tag">``hot potato'' transaction through a UNIX FIFO.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_fs</dt>
  <dd class="It-tag">creating and deleting small files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_pagefault</dt>
  <dd class="It-tag">the time it takes to fault in a page from a file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_mem_rd</dt>
  <dd class="It-tag">memory read latency (accurate to the ~2-5 nanosecond range,
      reported in nanoseconds).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_mmap</dt>
  <dd class="It-tag">time to set up a memory mapping.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_ops</dt>
  <dd class="It-tag">basic processor operations, such as integer XOR, ADD, SUB,
      MUL, DIV, and MOD, and float ADD, MUL, DIV, and double ADD, MUL, DIV.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_pipe</dt>
  <dd class="It-tag">``hot potato'' transaction through a Unix pipe.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_proc</dt>
  <dd class="It-tag">process creation times (various sorts).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_rpc</dt>
  <dd class="It-tag">``hot potato'' transaction through Sun RPC over UDP or
    TCP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_select</dt>
  <dd class="It-tag">select latency</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_sig</dt>
  <dd class="It-tag">signal installation and catch latencies. Also protection
      fault signal latency.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_syscall</dt>
  <dd class="It-tag">non trivial entry into the system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_tcp</dt>
  <dd class="It-tag">``hot potato'' transaction through TCP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_udp</dt>
  <dd class="It-tag">``hot potato'' transaction through UDP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_unix</dt>
  <dd class="It-tag">``hot potato'' transaction through UNIX sockets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lat_unix_connect</dt>
  <dd class="It-tag">the time it takes to establish a UNIX socket
    connection.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OTHER_MEASUREMENTS"><a class="selflink" href="#OTHER_MEASUREMENTS">OTHER
  MEASUREMENTS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">mhz</dt>
  <dd class="It-tag">processor cycle time</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">tlb</dt>
  <dd class="It-tag">TLB size and TLB miss latency</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">line</dt>
  <dd class="It-tag">cache line size (in bytes)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cache</dt>
  <dd class="It-tag">cache statistics, such as line size, cache sizes, memory
      parallelism.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">stream</dt>
  <dd class="It-tag">John McCalpin's stream benchmark</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">par_mem</dt>
  <dd class="It-tag">memory subsystem parallelism. How many requests can the
      memory subsystem service in parallel, which may depend on the location of
      the data in the memory hierarchy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">par_ops</dt>
  <dd class="It-tag">basic processor operation parallelism.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
bargraph(1), graph(1), lmbench(3), results(3), timing(3), bw_file_rd(8),
  bw_mem_cp(8), bw_mem_wr(8), bw_mmap_rd(8), bw_pipe(8), bw_tcp(8), bw_unix(8),
  lat_connect(8), lat_ctx(8), lat_fcntl(8), lat_fifo(8), lat_fs(8), lat_http(8),
  lat_mem_rd(8), lat_mmap(8), lat_ops(8), lat_pagefault(8), lat_pipe(8),
  lat_proc(8), lat_rpc(8), lat_select(8), lat_sig(8), lat_syscall(8),
  lat_tcp(8), lat_udp(8), lmdd(8), par_ops(8), par_mem(8), mhz(8), tlb(8),
  line(8), cache(8), stream(8)
<h1 class="Sh" title="Sh" id="ACKNOWLEDGEMENT"><a class="selflink" href="#ACKNOWLEDGEMENT">ACKNOWLEDGEMENT</a></h1>
Funding for the development of these tools was provided by Sun Microsystems
  Computer Corporation.
<div class="Pp"></div>
A large number of people have contributed to the testing and development of
  lmbench.
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
The benchmarking code is distributed under the GPL with additional restrictions,
  see the COPYING file.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Carl Staelin and Larry McVoy
<div class="Pp"></div>
Comments, suggestions, and bug reports are always welcome.</div>
<table class="foot">
  <tr>
    <td class="foot-date">$Date$</td>
    <td class="foot-os">(c)1994-2000 Larry McVoy and Carl Staelin</td>
  </tr>
</table>
</body>
</html>
