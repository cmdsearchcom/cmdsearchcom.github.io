<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NEWFS_HFS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NEWFS_HFS(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">NEWFS_HFS(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">mkfs.hfsplus</b> &#x2014;
  <span class="Nd" title="Nd">construct a new HFS Plus file system</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">mkfs.hfsplus</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-N</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-U</b>
      <var class="Ar" title="Ar">uid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-G</b>
      <var class="Ar" title="Ar">gid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-M</b>
      <var class="Ar" title="Ar">mask</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-P</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-s</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-b</b>
      <var class="Ar" title="Ar">block-size</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-c</b>
      <var class="Ar" title="Ar">clump-size-list</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-i</b>
      <var class="Ar" title="Ar">first-cnid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-J</b>
      <var class="Ar" title="Ar">[journal-size]</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-n</b>
      <var class="Ar" title="Ar">node-size-list</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-v</b>
      <var class="Ar" title="Ar">volume-name</var></span>]
      <var class="Ar" title="Ar">special</var></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">mkfs.hfsplus</b></td>
    <td><b class="Fl" title="Fl">-N</b>
      <var class="Ar" title="Ar">partition-size</var>
      [<span class="Op"><b class="Fl" title="Fl">-U</b>
      <var class="Ar" title="Ar">uid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-G</b>
      <var class="Ar" title="Ar">gid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-M</b>
      <var class="Ar" title="Ar">mask</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-P</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-h</b> |
      <b class="Fl" title="Fl">-w</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-s</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-b</b>
      <var class="Ar" title="Ar">block-size</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-c</b>
      <var class="Ar" title="Ar">clump-size-list</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-i</b>
      <var class="Ar" title="Ar">first-cnid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-J</b>
      <var class="Ar" title="Ar">[journal-size]</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-n</b>
      <var class="Ar" title="Ar">node-size-list</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-v</b>
      <var class="Ar" title="Ar">volume-name</var></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b class="Nm" title="Nm">mkfs.hfsplus</b> builds an HFS Plus file system on the
  specified special device. Before running
  <b class="Nm" title="Nm">mkfs.hfsplus</b> the disk should be partitioned using
  the <i class="Em" title="Em">Disk Utility</i> application or
  <a class="Xr" title="Xr">pdisk(8)</a>.
<div class="Pp"></div>
The file system default parameters are calculated based on the size of the disk
  partition. Typically the defaults are reasonable, however
  <b class="Nm" title="Nm">mkfs.hfsplus</b> has several options to allow the
  defaults to be selectively overridden. The options are as follows:
<dl class="Bl-tag" style="margin-left: 15.00ex;">
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#N"><b class="Fl" title="Fl" id="N">-N</b></a>
    <var class="Ar" title="Ar">[partition-size]</var></dt>
  <dd class="It-tag">Causes the file system parameters to be printed out without
      really creating the file system. If the argument following the
      <b class="Fl" title="Fl">-N</b> starts with a decimal digit, it is assumed
      to be a partition size. The paritition size may be given in decimal, octal
      (with leading `0'), or hexadecimal (with leading `0x'). The partition size
      argument can be specified in 512-byte blocks (with a `b' suffix),
      petabytes (`p' suffix), terabytes (`t' suffix), gigabytes (`g' suffix),
      megabytes (`m' suffix), or kilobytes (`k' suffix). All suffixes indicate
      binary, not decimal, multipliers (e.g., `1k' is 1024 bytes). If no suffix
      is specified, the value is assumed to be in bytes; if an illegal suffix is
      specified, it results in a size of 0 bytes.
    <div class="Pp"></div>
    If the partition size is given, then no special device argument shall be
      provided. If no partition size is given, then the size of the given
      special device is used instead, and the special device will not be written
      to.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#U"><b class="Fl" title="Fl" id="U">-U</b></a>
    <var class="Ar" title="Ar">uid</var></dt>
  <dd class="It-tag">Set the owner of the file system's root directory to
      <i class="Pa" title="Pa">uid</i>.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#G"><b class="Fl" title="Fl" id="G">-G</b></a>
    <var class="Ar" title="Ar">gid</var></dt>
  <dd class="It-tag">Set the group of the file system's root directory to
      <i class="Pa" title="Pa">gid</i>.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#M"><b class="Fl" title="Fl" id="M">-M</b></a>
    <var class="Ar" title="Ar">mask</var></dt>
  <dd class="It-tag">Specify the octal access permissions mask for the file
      system's root directory.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#P"><b class="Fl" title="Fl" id="P">-P</b></a></dt>
  <dd class="It-tag">Set kHFSContentProtectionBit in the volume's attributes,
      which will cause the volume to be mounted with the &quot;protect&quot;
      option if the kernel supports it.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#s"><b class="Fl" title="Fl" id="s">-s</b></a></dt>
  <dd class="It-tag">Creates a case-sensitive HFS Plus filesystem. By default a
      case-insensitive filesystem is created. Case-sensitive HFS Plus file
      systems require a Mac OS X version of 10.3 (Darwin 7.0) or later.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#b"><b class="Fl" title="Fl" id="b">-b</b></a>
    <var class="Ar" title="Ar">block-size</var></dt>
  <dd class="It-tag">The allocation block size of the file system. The default
      value is 4096.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#c"><b class="Fl" title="Fl" id="c">-c</b></a>
    <var class="Ar" title="Ar">clump-size-list</var></dt>
  <dd class="It-tag">This specifies the <i class="Em" title="Em">clump</i>
      and/or <i class="Em" title="Em">initial</i> sizes, in allocation blocks,
      for the various metadata files. <i class="Em" title="Em">Clump</i> sizes
      are specified with the <b class="Fl" title="Fl">-c</b> option followed by
      a comma separated list of the form arg=blocks.
    <div class="Pp"></div>
    Example: -c c=5000,e=500
    <dl class="Bl-tag" style="margin-left: 15.00ex;">
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">a=blocks</i></dt>
      <dd class="It-tag">Set the attribute file clump size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">b=blocks</i></dt>
      <dd class="It-tag">Set the allocation bitmap file clump size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">c=blocks</i></dt>
      <dd class="It-tag">Set the catalog file clump size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">d=blocks</i></dt>
      <dd class="It-tag">Set the data fork clump size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">e=blocks</i></dt>
      <dd class="It-tag">Set the extent overflow file clump size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">r=blocks</i></dt>
      <dd class="It-tag">Set the resource fork clump size.</dd>
    </dl>
  </dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#i"><b class="Fl" title="Fl" id="i">-i</b></a>
    <var class="Ar" title="Ar">first-cnid</var></dt>
  <dd class="It-tag">This specifies the initial catalog node ID for user files
      and directories. The default value is 16.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#J"><b class="Fl" title="Fl" id="J">-J</b></a>
    <var class="Ar" title="Ar">[journal-size]</var></dt>
  <dd class="It-tag">Creates a journaled HFS+ volume. The default journal size
      varies, based on the size of the volume. Appending an 'M' to the journal
      size implies megabytes (i.e. 64M is 64 megabytes). The maximum journal
      size is 1024 megabytes.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#n"><b class="Fl" title="Fl" id="n">-n</b></a>
    <var class="Ar" title="Ar">node-size-list</var></dt>
  <dd class="It-tag">This specifies the b-tree <i class="Em" title="Em">node</i>
      sizes, in bytes, for the various b-tree files.
      <i class="Em" title="Em">Node</i> sizes are specified with the
      <b class="Fl" title="Fl">-n</b> option followed by a comma separated list
      of the form arg=bytes. The <i class="Em" title="Em">node</i> size must be
      a power of two and no larger than 32768 bytes.
    <div class="Pp"></div>
    Example: -n c=8192,e=4096
    <dl class="Bl-tag" style="margin-left: 15.00ex;">
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">a=bytes</i></dt>
      <dd class="It-tag">Set the attribute b-tree node size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">c=bytes</i></dt>
      <dd class="It-tag">Set the catalog b-tree node size.</dd>
      <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">e=bytes</i></dt>
      <dd class="It-tag">Set the extent overflow b-tree node size.</dd>
    </dl>
  </dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a>
    <var class="Ar" title="Ar">volume-name</var></dt>
  <dd class="It-tag">Volume name (file system name) in ascii or UTF-8
    format.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">mount(8)</a>, <a class="Xr" title="Xr">pdisk(8)</a>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
The <b class="Nm" title="Nm">mkfs.hfsplus</b> command appeared in Mac OS X
  Server 1.0 . As of Mac OS X 10.6, this utility no longer generates HFS
  standard file systems.</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 19, 2008</td>
    <td class="foot-os">Mac OS X</td>
  </tr>
</table>
</body>
</html>
