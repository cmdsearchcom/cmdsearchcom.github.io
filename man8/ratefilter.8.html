<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:07 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RATEFILTER(8) Double Precision, Inc. RATEFILTER(8)</p>

<p style="margin-top: 1em">NAME <br>
ratefilter - Rate-limiting mail filter</p>

<p style="margin-top: 1em">SYNOPSIS <br>
filterctl {[start] | [stop]} ratefilter</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Enable this filter to enforce a maximum number of messages
accepted from the same sender.</p>

<p style="margin-top: 1em">ratefilter uses the following
configuration files. Changes to the following files do not
take effect until the filter has been stopped and
restarted.</p>


<p style="margin-top: 1em">/etc/courier/filters/ratefilter-interval
<br>
This file contains a single numerical value that sets the
rate limiting time interval setting, in seconds. The default
value is sixty seconds. Sixty seconds is also the <br>
minimum acceptable interval.</p>


<p style="margin-top: 1em">/etc/courier/filters/ratefilter-maxrcpts
<br>
This file contains a single numerical value that sets how
many receipients the same sender can send mail to, within
the controlling time interval. The default value is 100 <br>
recipients.</p>


<p style="margin-top: 1em">/etc/courier/filters/ratefilter-minuid
<br>
When ratefilter is enabled for locally originating mail,
this sets the minimum system userid that has rate limiting
enforced. The default value is 100. Mail sent by processes
<br>
with lower uids are not subject to rate limiting.</p>


<p style="margin-top: 1em">/etc/courier/filters/ratefilter-mode
<br>
If this file exists and contains the word &quot;all&quot;,
ratefilter creates its listening socket in
/var/lib/courier/allfilters, otherwise the socket gets
created in <br>
/var/lib/courier/filters, see courierfilter(8)[1] for more
information.</p>

<p style="margin-top: 1em">The enablefiltering settings
controls whether local or ESMTP mail is subject to rate
limiting, see courier(8)[2] for more information.</p>

<p style="margin-top: 1em">In this context,
&acirc;local&acirc; mail refers to mail that gets sent when
a process executes the sendmail(1)[3] command. This does not
include mail sent via connection to local port 25, <br>
this is considered ESMTP mail.</p>

<p style="margin-top: 1em">Local mail gets rate limited
based on the sending process&rsquo;s userid. Each numerical
userid gets treated as an individual sender. ESMTP
mail&rsquo;s sender is taken from the <br>
authenticated ESMTP&rsquo;s userid. Non-authenticated ESMTP
mail is not subject to rate limiting.</p>

<p style="margin-top: 1em">Rate limiting is implemented by
dividing chronological time into intervals that are half the
time interval given in the ratefilter-interval setting. For
example, with the default <br>
interval of sixty seconds, chronological time gets divided
into thirty second intervals.</p>

<p style="margin-top: 1em">ratefilter counts the number of
receipients in each message (and not just the number of
messages) from each sender, in each time interval.</p>

<p style="margin-top: 1em">ratefilter rejects the message
when the total number of recipients from all messages from
the same sender in the current and the previous time
interval exceeds the <br>
ratefilter-maxrcpts setting. The rejected message&rsquo;s
number of recipients also get counted, for the purpose of
rejecting future messages.</p>

<p style="margin-top: 1em">SEE ALSO <br>
courierfilter(8)[1].</p>

<p style="margin-top: 1em">AUTHOR <br>
Sam Varshavchik <br>
Author</p>

<p style="margin-top: 1em">NOTES <br>
1. courierfilter(8) <br>
[set
$man.base.url.for.relative.links]/courierfilter.html</p>

<p style="margin-top: 1em">2. courier(8) <br>
[set $man.base.url.for.relative.links]/courier.html</p>

<p style="margin-top: 1em">3. sendmail(1) <br>
[set $man.base.url.for.relative.links]/sendmail.html</p>

<p style="margin-top: 1em">Courier Mail Server 06/27/2015
RATEFILTER(8)</p>
<hr>
</body>
</html>
