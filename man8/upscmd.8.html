<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:18 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>UPSCMD(8) NUT Manual UPSCMD(8)</p>

<p style="margin-top: 1em">NAME <br>
upscmd - UPS administration program for instant commands</p>

<p style="margin-top: 1em">SYNOPSIS <br>
upscmd -h</p>

<p style="margin-top: 1em">upscmd -l ups</p>

<p style="margin-top: 1em">upscmd [-u username] [-p
password] ups command</p>

<p style="margin-top: 1em">DESCRIPTION <br>
upscmd allows you to invoke &quot;instant commands&quot; in
your UPS hardware. Not all hardware supports this, so check
the list with -l to see if anything will work on your
equipment.</p>

<p style="margin-top: 1em">On hardware that supports it,
you can use this program to start and stop battery tests,
invoke a front panel test (beep!), turn the load on or off,
and more.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h <br>
Display the help message.</p>

<p style="margin-top: 1em">-l ups <br>
Show the list of supported instant commands on that UPS.
Some hardware may not support any of them.</p>

<p style="margin-top: 1em">-u username <br>
Set the username for the connection to the server. This is
optional, and you will be prompted for this when invoking a
command if -u is not used.</p>

<p style="margin-top: 1em">-p password <br>
Set the password to authenticate to the server. This is also
optional like -u, and you will be prompted for it if
necessary.</p>

<p style="margin-top: 1em">ups <br>
Connect to this UPS. The format is
upsname[@hostname[:port]]. The default hostname is
&quot;localhost&quot;.</p>

<p style="margin-top: 1em">UNATTENDED MODE <br>
If you run this program inside a shell script or similar to
invoke a command, you will need to specify all of the
information on the command line. This means using -u and -p.
<br>
Otherwise it will put up a prompt and your program will
hang.</p>

<p style="margin-top: 1em">This is not necessary when
displaying the list, as the username and password are not
required for read-only mode.</p>

<p style="margin-top: 1em">Moreover, if you run this
program inside a shell script or similar, you should only
consider using output from stdout, not stderr.</p>

<p style="margin-top: 1em">DANGEROUS COMMANDS <br>
Some drivers like apcsmart(8) have built-in paranoia for the
dangerous commands like load.off. To make them actually turn
off the load, you will have to send the command twice <br>
within a short window. That is, you will have to send it
once, then send it again after 3 seconds elapse but before
15 seconds pass.</p>

<p style="margin-top: 1em">This paranoia is entirely
defined within the driver. upsd and upscmd have no control
over the timing.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
upscmd won&acirc;t work unless you provide a valid username
and password. If you get &quot;access denied&quot; errors,
make sure that your upsd.users(5) has an entry for you, and
that the <br>
username you are using has permissions to SET variables.</p>

<p style="margin-top: 1em">BUGS <br>
There is currently no way to tell the user when the driver
requires confirmation to invoke a command such as load.off.
Similarly, there is not yet a way to tell the user if a <br>
command succeeds or fails.</p>

<p style="margin-top: 1em">This is on the list of things to
fix in the future, so don&acirc;t despair. It involves magic
cookies.</p>

<p style="margin-top: 1em">SEE ALSO <br>
upsd(8), upsrw(8)</p>

<p style="margin-top: 1em">INTERNET RESOURCES <br>
The NUT (Network UPS Tools) home page:
http://www.networkupstools.org/</p>

<p style="margin-top: 1em">Network UPS Tools 2.7.3.
12/29/2015 UPSCMD(8)</p>
<hr>
</body>
</html>
