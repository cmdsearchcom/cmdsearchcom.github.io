<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opareports(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opareports(8)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opareports(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opareports
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>(All)</b> opareports is a front end to opareport that provides many of the
  same options and capabilities. It can also run a report against multiple
  fabrics or subnets (for example, local host HFI ports). opareports can use an
  input file to augment the reports using additional details from the
  topology_input file.
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
opareports [-t <i>portsfile</i>] [-p <i>ports</i>] [-T <i>topology_input</i>]
  [opareport <i>arguments</i>]
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--help</dt>
  <dd class="It-tag">Produces full help text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t <i>portsfile</i></dt>
  <dd class="It-tag">File with list of local HFI ports used to access fabric for
      analysis. Default is /etc/sysconfig/opa/ports file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p <i>ports</i></dt>
  <dd class="It-tag">List of local HFI ports used to access fabric for counter
      clear. Default is first active port. The first HFI in the system is 1. The
      first port on an HFI is 1.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Uses the format hfi:port, for example:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
0:0 First active port in system.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
0:y Port <i>y</i> within system.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
x:0 First active port on HFI <i>x</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
x:y HFI <i>x</i>, port <i>y</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">-T <i>topology_input</i></dt>
  <dd class="It-tag">Name of a topology input file to use. The filename may have
      %P as a marker which is replaced with the hfi:port being operated on, such
      as 0:0 or 1:2. The default filename is specified by
      <b>FF_TOPOLOGY_FILE</b> as /etc/sysconfig/opa/topology.%P.xml. If -T NONE
      is specified, no topology input file is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">opareport <i>arguments</i></dt>
  <dd class="It-tag">Any of the other opareport arguments. The -h and -X options
      are not available. Note that the meaning of -p is different for opareports
      than opareport. When run against multiple fabrics, the -x and -o snapshot
      options are not available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<b>NOTE:</b> When run against multiple fabrics, the -F option is applied to all
  fabrics. See <i>opareport</i> for more information.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Example"><a class="selflink" href="#Example">Example</a></h1>
opareports opareports -p '1:1 2:1'
<h1 class="Sh" title="Sh" id="Environment_Variables"><a class="selflink" href="#Environment_Variables">Environment
  Variables</a></h1>
The following environment variables are also used by this command:
<dl class="Bl-tag">
  <dt class="It-tag"><b>PORTS</b></dt>
  <dd class="It-tag">List of ports, used in absence of -t and -p.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PORTS_FILE</b></dt>
  <dd class="It-tag">File containing list of ports, used in absence of -t and
      -p.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FF_TOPOLOGY_FILE</b></dt>
  <dd class="It-tag">File containing topology_input (may have %P marker in
      filename), used in absence of -T.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Details"><a class="selflink" href="#Details">Details</a></h1>
For simple fabrics, the Intel(R) Omni-Path Fabric Suite FastFabric Toolset host
  is connected to a single fabric. By default, the first active port on the
  FastFabric Toolset host is used to analyze the fabric.
<div class="Pp"></div>
However, in more complex fabrics, the FastFabric Toolset host may be connected
  to more than one fabric or subnet. In this case, you can specify the ports or
  HFIs to use with one of the following methods:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">On the command line using the -p option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">In a file specified using the -t option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Through the environment variables <b>PORTS</b> or
      <b>PORTS_FILE</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Using the ports_file configuration option in
      /etc/sysconfig/opa/opafastfabric.conf.</dd>
</dl>
<div class="Pp"></div>
If the specified port does not exist or is empty, the first active port on the
  local system is used. In more complex configurations, you must specify the
  exact ports to use for all fabrics to be analyzed.
<div class="Pp"></div>
You can specify the topology_input file to be used with one of the following
  methods:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">On the command line using the -T option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">In a file specified through the environment variable
      <b>FF_TOPOLOGY_FILE</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Using the ff_topology_file configuration option in
      opafastfabric.conf.</dd>
</dl>
<div class="Pp"></div>
If the specified file does not exist, no topology_input file is used.
  Alternately the filename can be specified as NONE to prevent use of an input
  file.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
