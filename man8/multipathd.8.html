<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MULTIPATHD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MULTIPATHD(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">MULTIPATHD(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
multipathd - multipath daemon
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>multipathd</b> [<b>options</b>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>multipathd</b> daemon is in charge of checking for failed paths. When
  this happens, it will reconfigure the multipath map the path belongs to, so
  that this map regains its maximum performance and redundancy.
<div style="height: 1.00em;">&#x00A0;</div>
This daemon executes the external multipath config tool when events occur. In
  turn, the multipath tool signals the multipathd daemon when it is done with
  devmap reconfiguration, so that it can refresh its failed path list.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Forground Mode. Don't daemonize, and print all messages to
      stdout and stderr.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v level</b></dt>
  <dd class="It-tag">Verbosity level. Print additional information while running
      multipathd. A level of 0 means only print errors. A level of 3 or greater
      prints debugging information as well.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b></dt>
  <dd class="It-tag">multipathd will enter interactive mode. From this mode, the
      available commands can be viewed by entering &quot;help&quot;. When you
      are finished entering commands, press CTRL-D to quit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">The following commands can be used in interactive
    mode:</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show paths</b></dt>
  <dd class="It-tag">Show the paths that multipathd is monitoring, and their
      state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show paths format $format</b></dt>
  <dd class="It-tag">Show the paths that multipathd is monitoring, using a
      format string with path format wildcards.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show maps|multipaths</b></dt>
  <dd class="It-tag">Show the multipath devices that the multipathd is
      monitoring.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show daemon</b></dt>
  <dd class="It-tag">Show the current state of the multipathd daemon</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show maps|multipaths format $format</b></dt>
  <dd class="It-tag">Show the status of all multipath devices that the
      multipathd is monitoring, using a format string with multipath format
      wildcards.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show maps|multipaths status</b></dt>
  <dd class="It-tag">Show the status of all multipath devices that the
      multipathd is monitoring.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show maps|multipaths stats</b></dt>
  <dd class="It-tag">Show some statistics of all multipath devices that
      multipathd is monitoring.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show maps|multipaths topology</b></dt>
  <dd class="It-tag">Show the current multipath topology. Same as
      &quot;multipath -ll&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show maps|multipaths json</b></dt>
  <dd class="It-tag">Show the multipath devices that multipathd is monitoring,
      using JSON formatted output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show topology</b></dt>
  <dd class="It-tag">Show the current multipath topology. Same as
      &quot;multipath -ll&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show map|multipath $map topology</b></dt>
  <dd class="It-tag">Show topology of a single multipath device specified by
      $map, e.g. 36005076303ffc56200000000000010aa. This map could be obtained
      from &quot;list maps&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show map|multipath $map json</b></dt>
  <dd class="It-tag">Show a single multipath device specified by $map, using
      JSON formatted output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show wildcards</b></dt>
  <dd class="It-tag">Show the format wildcards used in interactive commands
      taking $format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show config</b></dt>
  <dd class="It-tag">Show the currently used configuration, derived from default
      values and values specified within the configuration file
      /etc/multipath.conf.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show blacklist</b></dt>
  <dd class="It-tag">Show the currently used blacklist rules, derived from
      default values and values specified within the configuration file
      /etc/multipath.conf.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show devices</b></dt>
  <dd class="It-tag">Show all available block devices by name including the
      information if they are blacklisted or not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list|show status</b></dt>
  <dd class="It-tag">Show the number of path checkers in each possible state,
      the number of monitored paths, and whether multipathd is currently
      handling a uevent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>add path $path</b></dt>
  <dd class="It-tag">Add a path to the list of monitored paths. $path is as
      listed in /sys/block (e.g. sda).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove|del path $path</b></dt>
  <dd class="It-tag">Stop monitoring a path. $path is as listed in /sys/block
      (e.g. sda).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>add map|multipath $map</b></dt>
  <dd class="It-tag">Add a multipath device to the list of monitored devices.
      $map can either be a device-mapper device as listed in /sys/block (e.g.
      dm-0) or it can be the alias for the multipath device (e.g. mpath1) or the
      uid of the multipath device (e.g. 36005076303ffc56200000000000010aa).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove|del map|multipath $map</b></dt>
  <dd class="It-tag">Stop monitoring a multipath device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>resize map|multipath $map</b></dt>
  <dd class="It-tag">Resizes map $map to the given size</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>switch|switchgroup map|multipath $map group
    $group</b></dt>
  <dd class="It-tag">Force a multipath device to switch to a specific path
      group. $group is the path group index, starting with 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reconfigure</b></dt>
  <dd class="It-tag">Reconfigures the multipaths. This should be triggered
      automatically after any hotplug event.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>suspend map|multipath $map</b></dt>
  <dd class="It-tag">Sets map $map into suspend state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>resume map|multipath $map</b></dt>
  <dd class="It-tag">Resumes map $map from suspend state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reset map|multipath $map</b></dt>
  <dd class="It-tag">Reassign existing device-mapper table(s) use use the
      multipath device, instead of its path devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reload map|multipath $map</b></dt>
  <dd class="It-tag">Reload a multipath device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fail path $path</b></dt>
  <dd class="It-tag">Sets path $path into failed state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reinstate path $path</b></dt>
  <dd class="It-tag">Resumes path $path from failed state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>disablequeueing maps|multipaths</b></dt>
  <dd class="It-tag">Disable queueing on all multipath devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restorequeueing maps|multipaths</b></dt>
  <dd class="It-tag">Restore queueing on all multipath devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>disablequeueing map|multipath $map</b></dt>
  <dd class="It-tag">Disable queuing on multipathed map $map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restorequeueing map|multipath $map</b></dt>
  <dd class="It-tag">Restore queuing on multipathed map $map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>forcequeueing daemon</b></dt>
  <dd class="It-tag">Forces multipathd into queue_without_daemon mode, so that
      no_path_retry queueing will not be disabled when the daemon stops</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restorequeueing daemon</b></dt>
  <dd class="It-tag">Restores configured queue_without_daemon mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>map|multipath $map setprstatus</b></dt>
  <dd class="It-tag">Enable persistent reservation management on $map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>map|multipath $map unsetprstatus</b></dt>
  <dd class="It-tag">Disable persistent reservation management on $map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>map|multipath $map getprstatus</b></dt>
  <dd class="It-tag">Get the current persistent reservation management status of
      $map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quit|exit</b></dt>
  <dd class="It-tag">End interactive session.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shutdown</b></dt>
  <dd class="It-tag">Stop multipathd.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>multipath</b>(8) <b>kpartx</b>(8) <b>hotplug</b>(8)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>multipathd</b> was developed by Christophe Varoqui,
  &lt;christophe.varoqui@opensvc.com&gt; and others.</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 2009</td>
    <td class="foot-os">Linux Administrator's Manual</td>
  </tr>
</table>
</body>
</html>
