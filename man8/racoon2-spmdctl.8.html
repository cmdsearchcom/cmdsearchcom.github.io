<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>spmdctl(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">spmdctl(8)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">spmdctl(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>spmdctl</b> - Control spmd
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>spmdctl</b> [<i>option</i>] <i>COMMAND</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>spmdctl</b> connects to the spmd interface which is specified in racoon2
  configuration file, and requests operation <i></i> to spmd.
<div>&#x00A0;</div>
Available operations are:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">set, get, and delete DNS server address(es) for spmd DNS
      proxy function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">add IPsec Policy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">get spmd statistics.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The following options are available:</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Display all messages which exchanged with spmd.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f FILE</b></dt>
  <dd class="It-tag">Specify racoon2 configuration file name <b>FILE</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The following <b>COMMAND</b>s are available:</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ns add ADDRESS</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Add DNS server address <b>ADDRESS</b> to spmd DNS server
      list.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ns delete ADDRESS</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Delete DNS server address <b>ADDRESS</b> from spmd DNS
      server list.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ns list</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Show DNS server address(es) in spmd DNS Server list. Top
      line is currently used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>policy add SELECTOR_INDEX LIFETIME {transport|tunnel|
    SP_SRC_IPADDR SP_DST_IPADDR [SA_SRC_IP_ADDR SA_DST_IPADDR]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Request spmd to add IPsec Security Policy to in-kernel
      IPsec Security Policy DataBase(SPD).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>SELECTOR_INDEX</b> is a selector index string which
      described in racoon2 configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>LIFETIME</b> is the lifetime duration(sec) for this
      IPsec Security Policy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>transport|tunnel</b> <b>transport</b> means this IPsec
      Security Policy is transport mode. <b>tunnel</b> means tunnel mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>SP_SRC_IPADDR</b> is the source IP address for this
      IPsec Security Policy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>SP_DST_IPADDR</b> is the destination IP address for this
      IPsec Security Policy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>SA_SRC_IPADDR</b> is the IPsec SA source IP address
      associated with this IPsec Security Policy. This is only required in
      tunnel mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>SA_DST_IPADDR</b> is the IPsec SA destination IP address
      associated with this IPsec Security Policy. This is only required in
      tunnel mode.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>policy delete SELECTOR_INDEX</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Request spmd to delete IPsec Security Policy to in-kernel
      IPsec Security DataBase(SPD).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>SELECTOR_INDEX</b> is a selector index string which
      described in racoon2 configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>policy show</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Dump IPsec Security Policies. If 'selector=' field is empty
      in a displayed IPsec Security Policy entry, this Policy is out of racoon2
      management.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>interactive</b></dt>
  <dd class="It-tag">Connect to spmd and just login. You can talk to spmd
      directly. This command is available when you compiled spmdctl with
      DEBUG_SPMD.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status</b></dt>
  <dd class="It-tag">Show spmd statistics.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>racoon2.conf</i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
WIDE Project, racoon2 project &lt;http://www.racoon2.wide.ad.jp/&gt;
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
<b>policy add</b> command currently doesn't support tunnel mode.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
spmd(8) racoon2.conf(5) racoon2(7).</div>
<table class="foot">
  <tr>
    <td class="foot-date">20050624</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
