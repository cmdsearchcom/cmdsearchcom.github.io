<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>spmdctl(8) spmdctl(8)</p>

<p style="margin-top: 1em">NAME <br>
spmdctl - Control spmd</p>

<p style="margin-top: 1em">SYNOPSIS <br>
spmdctl [option] COMMAND</p>

<p style="margin-top: 1em">DESCRIPTION <br>
spmdctl connects to the spmd interface which is specified in
racoon2 configuration file, and requests operation to spmd.
<br>
Available operations are:</p>

<p style="margin-top: 1em">set, get, and delete DNS server
address(es) for spmd DNS proxy function.</p>

<p style="margin-top: 1em">add IPsec Policy.</p>

<p style="margin-top: 1em">get spmd statistics.</p>

<p style="margin-top: 1em">The following options are
available:</p>

<p style="margin-top: 1em">-d Display all messages which
exchanged with spmd.</p>

<p style="margin-top: 1em">-f FILE <br>
Specify racoon2 configuration file name FILE.</p>

<p style="margin-top: 1em">The following COMMANDs are
available:</p>

<p style="margin-top: 1em">ns add ADDRESS</p>

<p style="margin-top: 1em">Add DNS server address ADDRESS
to spmd DNS server list.</p>

<p style="margin-top: 1em">ns delete ADDRESS</p>

<p style="margin-top: 1em">Delete DNS server address
ADDRESS from spmd DNS server list.</p>

<p style="margin-top: 1em">ns list</p>

<p style="margin-top: 1em">Show DNS server address(es) in
spmd DNS Server list. Top line is currently used.</p>

<p style="margin-top: 1em">policy add SELECTOR_INDEX
LIFETIME {transport|tunnel| SP_SRC_IPADDR SP_DST_IPADDR
[SA_SRC_IP_ADDR SA_DST_IPADDR]</p>

<p style="margin-top: 1em">Request spmd to add IPsec
Security Policy to in-kernel IPsec Security Policy
DataBase(SPD).</p>

<p style="margin-top: 1em">SELECTOR_INDEX is a selector
index string which described in racoon2 configuration
file.</p>

<p style="margin-top: 1em">LIFETIME is the lifetime
duration(sec) for this IPsec Security Policy.</p>

<p style="margin-top: 1em">transport|tunnel transport means
this IPsec Security Policy is transport mode. tunnel means
tunnel mode.</p>

<p style="margin-top: 1em">SP_SRC_IPADDR is the source IP
address for this IPsec Security Policy.</p>

<p style="margin-top: 1em">SP_DST_IPADDR is the destination
IP address for this IPsec Security Policy.</p>

<p style="margin-top: 1em">SA_SRC_IPADDR is the IPsec SA
source IP address associated with this IPsec Security
Policy. This is only required in tunnel mode.</p>

<p style="margin-top: 1em">SA_DST_IPADDR is the IPsec SA
destination IP address associated with this IPsec Security
Policy. This is only required in tunnel mode.</p>

<p style="margin-top: 1em">policy delete SELECTOR_INDEX</p>

<p style="margin-top: 1em">Request spmd to delete IPsec
Security Policy to in-kernel IPsec Security
DataBase(SPD).</p>

<p style="margin-top: 1em">SELECTOR_INDEX is a selector
index string which described in racoon2 configuration
file.</p>

<p style="margin-top: 1em">policy show</p>

<p style="margin-top: 1em">Dump IPsec Security Policies. If
&rsquo;selector=&rsquo; field is empty in a displayed IPsec
Security Policy entry, this Policy is out of racoon2
management.</p>

<p style="margin-top: 1em">interactive <br>
Connect to spmd and just login. You can talk to spmd
directly. This command is available when you compiled
spmdctl with DEBUG_SPMD.</p>

<p style="margin-top: 1em">status Show spmd statistics.</p>

<p style="margin-top: 1em">FILES <br>
racoon2.conf</p>

<p style="margin-top: 1em">AUTHORS <br>
WIDE Project, racoon2 project
&lt;http://www.racoon2.wide.ad.jp/&gt;</p>

<p style="margin-top: 1em">BUGS <br>
policy add command currently doesn&rsquo;t support tunnel
mode.</p>

<p style="margin-top: 1em">SEE ALSO <br>
spmd(8) racoon2.conf(5) racoon2(7).</p>

<p style="margin-top: 1em">20050624 spmdctl(8)</p>
<hr>
</body>
</html>
