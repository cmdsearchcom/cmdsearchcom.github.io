<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>tlog-rec(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">tlog-rec(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">tlog-rec(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
tlog-rec - start a shell and log terminal I/O
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>tlog-rec</b> [OPTION...] [CMD_FILE [CMD_ARG...]]
<div>&#x00A0;</div>
<b>tlog-rec</b> -c [OPTION...] CMD_STRING [CMD_NAME [CMD_ARG...]]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Tlog-rec</b> is a terminal I/O logging program. It starts a shell under a
  pseudo-TTY, connects it to the actual terminal and logs whatever passes
  between them including user input, program output, and terminal window size
  changes.
<div style="height: 1.00em;">&#x00A0;</div>
If no &quot;-c&quot; option is specified, then the first non-option argument
  CMD_FILE specifies the location of a shell script the shell should read and
  the following arguments (CMD_ARG) specify its arguments.
<div style="height: 1.00em;">&#x00A0;</div>
If the &quot;-c&quot; option is specified, then a non-option argument CMD_STRING
  is required and should contain shell commands to execute, the following
  arguments can specify first the script name (CMD_NAME, i.e. argv[0]) and then
  its arguments (CMD_ARG).
<div style="height: 1.00em;">&#x00A0;</div>
If no non-option arguments are encountered, then the shell is started
  interactively.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Tlog-rec</b> loads its parameters first from the system-wide configuration
  file /usr/local/etc/tlog/tlog-rec.conf, then from the file pointed at by
  TLOG_REC_CONF_FILE environment variable (if set), then from the contents of
  the TLOG_REC_CONF_TEXT environment variable (if set), and then from
  command-line options. Parameters from each of these sources override the
  previous one in turn.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="General_options"><a class="selflink" href="#General_options">General
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Output a command-line usage message and exit
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --version</b></dt>
  <dd class="It-tag">Output version information and exit
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --shell=SHELL</b></dt>
  <dd class="It-tag">Spawn the specified SHELL
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --login</b></dt>
  <dd class="It-tag">Make the shell a login shell
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --command</b></dt>
  <dd class="It-tag">Execute shell commands
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--notice=TEXT</b></dt>
  <dd class="It-tag">Print TEXT message before starting recording
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--latency=SECONDS</b></dt>
  <dd class="It-tag">Cache captured data SECONDS seconds before logging
    <div style="height: 1.00em;">&#x00A0;</div>
    Value minimum: 1
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--payload=BYTES</b></dt>
  <dd class="It-tag">Limit encoded data to BYTES bytes
    <div style="height: 1.00em;">&#x00A0;</div>
    Value minimum: 32
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w, --writer=STRING</b></dt>
  <dd class="It-tag">Use STRING log writer (syslog/file, default syslog)
    <div style="height: 1.00em;">&#x00A0;</div>
    Value should be one of: &quot;syslog&quot;, &quot;file&quot;
    <div>&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Logged_data_set_options"><a class="selflink" href="#Logged_data_set_options">Logged
  data set options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-input[=BOOL]</b></dt>
  <dd class="It-tag">Enable/disable logging user input
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-output[=BOOL]</b></dt>
  <dd class="It-tag">Enable/disable logging program output
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-window[=BOOL]</b></dt>
  <dd class="It-tag">Enable/disable logging terminal window size changes
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="File_writer_options"><a class="selflink" href="#File_writer_options">File
  writer options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--file-path=FILE</b></dt>
  <dd class="It-tag">Log to FILE file
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Syslog_writer_options"><a class="selflink" href="#Syslog_writer_options">Syslog
  writer options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog-facility=STRING</b></dt>
  <dd class="It-tag">Log with STRING syslog facility
    <div style="height: 1.00em;">&#x00A0;</div>
    Value should be one of: &quot;auth&quot;, &quot;authpriv&quot;,
      &quot;cron&quot;, &quot;daemon&quot;, &quot;ftp&quot;, &quot;kern&quot;,
      &quot;local0&quot;, &quot;local1&quot;, &quot;local2&quot;,
      &quot;local3&quot;, &quot;local4&quot;, &quot;local5&quot;,
      &quot;local6&quot;, &quot;local7&quot;, &quot;lpr&quot;, &quot;mail&quot;,
      &quot;news&quot;, &quot;syslog&quot;, &quot;user&quot;, &quot;uucp&quot;
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog-priority=STRING</b></dt>
  <dd class="It-tag">Log with STRING syslog priority
    <div style="height: 1.00em;">&#x00A0;</div>
    Value should be one of: &quot;emerg&quot;, &quot;alert&quot;,
      &quot;crit&quot;, &quot;err&quot;, &quot;warning&quot;,
      &quot;notice&quot;, &quot;info&quot;, &quot;debug&quot;
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">TLOG_REC_CONF_FILE</dt>
  <dd class="It-tag">Specifies the location of a configuration file to be read.
      The configuration parameters in this file override the ones in the
      system-wide configuration file /usr/local/etc/tlog/tlog-rec.conf.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">TLOG_REC_CONF_TEXT</dt>
  <dd class="It-tag">Specifies the configuration text to be read. The
      configuration parameters in this variable override the ones in the file
      specified with TLOG_REC_CONF_FILE.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">TLOG_REC_SHELL</dt>
  <dd class="It-tag">Specifies the shell to spawn. Overrides configuration
      specified with TLOG_REC_CONF_TEXT. Can be overridden with command-line
      options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">/usr/local/etc/tlog/tlog-rec.conf</dt>
  <dd class="It-tag">The system-wide configuration file
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Start recording a login shell:</dt>
  <dd class="It-tag"><b>tlog-rec -l</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Start recording a zsh session:</dt>
  <dd class="It-tag"><b>tlog-rec -s /usr/bin/zsh</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Record everything but user input:</dt>
  <dd class="It-tag"><b>tlog-rec --log-input=off --log-output=on
      --log-window=on</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Ask the recorded shell to execute a command:</dt>
  <dd class="It-tag"><b>tlog-rec -c whoami</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
tlog-rec.conf(5), tlog-play(8)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Nikolai Kondrashov &lt;spbnick@gmail.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 2016</td>
    <td class="foot-os">Tlog</td>
  </tr>
</table>
</body>
</html>
