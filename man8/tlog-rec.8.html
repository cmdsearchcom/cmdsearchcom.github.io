<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>tlog-rec(8) System Manager&rsquo;s Manual
tlog-rec(8)</p>

<p style="margin-top: 1em">NAME <br>
tlog-rec - start a shell and log terminal I/O</p>

<p style="margin-top: 1em">SYNOPSIS <br>
tlog-rec [OPTION...] [CMD_FILE [CMD_ARG...]] <br>
tlog-rec -c [OPTION...] CMD_STRING [CMD_NAME
[CMD_ARG...]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Tlog-rec is a terminal I/O logging program. It starts a
shell under a pseudo-TTY, connects it to the actual terminal
and logs whatever passes between them including user input,
<br>
program output, and terminal window size changes.</p>

<p style="margin-top: 1em">If no &quot;-c&quot; option is
specified, then the first non-option argument CMD_FILE
specifies the location of a shell script the shell should
read and the following arguments (CMD_ARG) <br>
specify its arguments.</p>

<p style="margin-top: 1em">If the &quot;-c&quot; option is
specified, then a non-option argument CMD_STRING is required
and should contain shell commands to execute, the following
arguments can specify first the <br>
script name (CMD_NAME, i.e. argv[0]) and then its arguments
(CMD_ARG).</p>

<p style="margin-top: 1em">If no non-option arguments are
encountered, then the shell is started interactively.</p>

<p style="margin-top: 1em">Tlog-rec loads its parameters
first from the system-wide configuration file
/usr/local/etc/tlog/tlog-rec.conf, then from the file
pointed at by TLOG_REC_CONF_FILE environment <br>
variable (if set), then from the contents of the
TLOG_REC_CONF_TEXT environment variable (if set), and then
from command-line options. Parameters from each of these
sources over&acirc; <br>
ride the previous one in turn.</p>

<p style="margin-top: 1em">OPTIONS <br>
General options <br>
-h, --help <br>
Output a command-line usage message and exit</p>

<p style="margin-top: 1em">-v, --version <br>
Output version information and exit</p>

<p style="margin-top: 1em">-s, --shell=SHELL <br>
Spawn the specified SHELL</p>

<p style="margin-top: 1em">-l, --login <br>
Make the shell a login shell</p>

<p style="margin-top: 1em">-c, --command <br>
Execute shell commands</p>

<p style="margin-top: 1em">--notice=TEXT <br>
Print TEXT message before starting recording</p>

<p style="margin-top: 1em">--latency=SECONDS <br>
Cache captured data SECONDS seconds before logging</p>

<p style="margin-top: 1em">Value minimum: 1</p>

<p style="margin-top: 1em">--payload=BYTES <br>
Limit encoded data to BYTES bytes</p>

<p style="margin-top: 1em">Value minimum: 32</p>

<p style="margin-top: 1em">-w, --writer=STRING <br>
Use STRING log writer (syslog/file, default syslog)</p>

<p style="margin-top: 1em">Value should be one of:
&quot;syslog&quot;, &quot;file&quot;</p>

<p style="margin-top: 1em">Logged data set options <br>
--log-input[=BOOL] <br>
Enable/disable logging user input</p>

<p style="margin-top: 1em">--log-output[=BOOL] <br>
Enable/disable logging program output</p>

<p style="margin-top: 1em">--log-window[=BOOL] <br>
Enable/disable logging terminal window size changes</p>

<p style="margin-top: 1em">File writer options <br>
--file-path=FILE <br>
Log to FILE file</p>

<p style="margin-top: 1em">Syslog writer options <br>
--syslog-facility=STRING <br>
Log with STRING syslog facility</p>

<p style="margin-top: 1em">Value should be one of:
&quot;auth&quot;, &quot;authpriv&quot;, &quot;cron&quot;,
&quot;daemon&quot;, &quot;ftp&quot;, &quot;kern&quot;,
&quot;local0&quot;, &quot;local1&quot;, &quot;local2&quot;,
&quot;local3&quot;, &quot;local4&quot;, &quot;local5&quot;,
&quot;local6&quot;, &quot;local7&quot;, &quot;lpr&quot;,
&quot;mail&quot;, <br>
&quot;news&quot;, &quot;syslog&quot;, &quot;user&quot;,
&quot;uucp&quot;</p>

<p style="margin-top: 1em">--syslog-priority=STRING <br>
Log with STRING syslog priority</p>

<p style="margin-top: 1em">Value should be one of:
&quot;emerg&quot;, &quot;alert&quot;, &quot;crit&quot;,
&quot;err&quot;, &quot;warning&quot;, &quot;notice&quot;,
&quot;info&quot;, &quot;debug&quot;</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
TLOG_REC_CONF_FILE <br>
Specifies the location of a configuration file to be read.
The configuration parameters in this file override the ones
in the system-wide configuration file <br>
/usr/local/etc/tlog/tlog-rec.conf.</p>

<p style="margin-top: 1em">TLOG_REC_CONF_TEXT <br>
Specifies the configuration text to be read. The
configuration parameters in this variable override the ones
in the file specified with TLOG_REC_CONF_FILE.</p>

<p style="margin-top: 1em">TLOG_REC_SHELL <br>
Specifies the shell to spawn. Overrides configuration
specified with TLOG_REC_CONF_TEXT. Can be overridden with
command-line options.</p>

<p style="margin-top: 1em">FILES <br>
/usr/local/etc/tlog/tlog-rec.conf <br>
The system-wide configuration file</p>

<p style="margin-top: 1em">EXAMPLES <br>
Start recording a login shell: <br>
tlog-rec -l</p>

<p style="margin-top: 1em">Start recording a zsh session:
<br>
tlog-rec -s /usr/bin/zsh</p>

<p style="margin-top: 1em">Record everything but user
input: <br>
tlog-rec --log-input=off --log-output=on --log-window=on</p>

<p style="margin-top: 1em">Ask the recorded shell to
execute a command: <br>
tlog-rec -c whoami</p>

<p style="margin-top: 1em">SEE ALSO <br>
tlog-rec.conf(5), tlog-play(8)</p>

<p style="margin-top: 1em">AUTHOR <br>
Nikolai Kondrashov &lt;spbnick@gmail.com&gt;</p>

<p style="margin-top: 1em">Tlog February 2016
tlog-rec(8)</p>
<hr>
</body>
</html>
