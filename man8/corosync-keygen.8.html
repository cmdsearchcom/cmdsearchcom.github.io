<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:40 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>COROSYNC-KEYGEN(8) System Manager&rsquo;s Manual
COROSYNC-KEYGEN(8)</p>

<p style="margin-top: 1em">NAME <br>
corosync-keygen - Generate an authentication key for
Corosync.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
corosync-keygen [-k &lt;filename&gt;] [-l]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
If you want to configure corosync to use cryptographic
techniques to ensure authenticity and privacy of the
messages, you will need to generate a private key.</p>

<p style="margin-top: 1em">corosync-keygen creates this key
and writes it to /etc/corosync/authkey or to file specified
by -k option.</p>

<p style="margin-top: 1em">This private key must be copied
to every processor in the cluster. If the private key
isn&rsquo;t the same for every node, those nodes with
nonmatching private keys will not be able <br>
to join the same configuration.</p>

<p style="margin-top: 1em">Copy the key to some security
transportable storage or use ssh to transmit the key from
node to node. Then install the key with the command:</p>

<p style="margin-top: 1em">unix#: install -D --group=0
--owner=0 --mode=0400 /path_to_authkey/authkey
/etc/corosync/authkey</p>

<p style="margin-top: 1em">If a message &quot;Invalid
digest&quot; appears from the corosync executive, the keys
are not consistent between processors.</p>

<p style="margin-top: 1em">Note: corosync-keygen will ask
for user input to assist in generating entropy unless the -l
option is used.</p>

<p style="margin-top: 1em">OPTIONS <br>
-k &lt;filename&gt; <br>
This specifies the fully qualified path to the shared key to
create. <br>
The default is /etc/corosync/authkey.</p>

<p style="margin-top: 1em">-l Use a less secure random data
source that will not require user input to help generate
entropy. This may be useful when this utility is used from a
script or hardware <br>
random number generator is not available (f.e. in virtual
machine).</p>

<p style="margin-top: 1em">EXAMPLES <br>
Generate the key.</p>

<p style="margin-top: 1em"># corosync-keygen <br>
Corosync Cluster Engine Authentication key generator. <br>
Gathering 1024 bits for key from /dev/random. <br>
Press keys on your keyboard to generate entropy.</p>

<p style="margin-top: 1em">$ corosync-keygen -l -k
/tmp/authkey <br>
Corosync Cluster Engine Authentication key generator. <br>
Writing corosync key to /tmp/authkey.</p>

<p style="margin-top: 1em">SEE ALSO <br>
corosync_overview(8), corosync.conf(5),</p>

<p style="margin-top: 1em">AUTHOR <br>
Angus Salkeld</p>

<p style="margin-top: 1em">2010-05-30
COROSYNC-KEYGEN(8)</p>
<hr>
</body>
</html>
