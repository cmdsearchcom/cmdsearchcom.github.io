<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>jfs_fsck(8) JFS utility - file system check
jfs_fsck(8)</p>

<p style="margin-top: 1em">NAME <br>
jfs_fsck - initiate replay of the JFS transaction log, and
check and repair a JFS formatted device</p>

<p style="margin-top: 1em">SYNOPSIS <br>
jfs_fsck [ -afnpvV ] [ -j journal_device ] [
--omit_journal_replay ] [ --replay_journal_only ] device</p>

<p style="margin-top: 1em">DESCRIPTION <br>
jfs_fsck is used to replay the JFS transaction log, check a
JFS formatted device for errors, and fix any errors
found.</p>

<p style="margin-top: 1em">device is the special file name
corresponding to the actual device to be checked (e.g.
/dev/hdb1).</p>

<p style="margin-top: 1em">jfs_fsck must be run as
root.</p>

<p style="margin-top: 1em">WARNING <br>
jfs_fsck should only be used to check an unmounted file
system or a file system that is mounted READ ONLY. Using
jfs_fsck to check a file system mounted other than READ ONLY
<br>
could seriously damage the file system!</p>

<p style="margin-top: 1em">OPTIONS <br>
If no options are selected, the default is -p.</p>

<p style="margin-top: 1em">-a Autocheck mode - Replay the
transaction log. Do not continue fsck processing unless the
aggregate state is dirty or the log replay failed.
Functionally equivalent to -p. <br>
Autocheck mode is typically the default mode used when
jfs_fsck is called at boot time.</p>

<p style="margin-top: 1em">-f Replay the transaction log
and force checking even if the file system appears clean.
Repair all problems automatically.</p>

<p style="margin-top: 1em">-j journal_device <br>
Specify the journal device.</p>

<p style="margin-top: 1em">-n Open the file system read
only. Do not replay the transaction log. Report errors, but
do not repair them.</p>

<p style="margin-top: 1em">--omit_journal_replay <br>
Omit the replay of the transaction log. This option should
not be used unless as a last resort (i.e. the log has been
severely corrupted and replaying it causes further <br>
problems).</p>

<p style="margin-top: 1em">-p Automatically repair
(&quot;preen&quot;) the file system. Replay the transaction
log. Do not continue fsck processing unless the aggregate
state is dirty or the log replay failed. <br>
Functionally equivalent to -a.</p>

<p style="margin-top: 1em">--replay_journal_only <br>
Only replay the transaction log. Do not continue with a full
file system check if the replay fails or if the file system
is still dirty even after a journal replay. In <br>
general, this option should only be used for debugging
purposes as it could leave the file system in an unmountable
state. This option cannot be used with -f, -n, or <br>
--omit_journal_replay.</p>

<p style="margin-top: 1em">-v Verbose messaging - print
details and debug statements to stdout.</p>

<p style="margin-top: 1em">-V Print version information and
exit (regardless of any other chosen options).</p>

<p style="margin-top: 1em">EXAMPLES <br>
Check the 3rd partition on the 2nd hard disk, print extended
information to stdout, replay the transaction log, force
complete jfs_fsck checking, and give permission to repair
<br>
all errors:</p>

<p style="margin-top: 1em">jfs_fsck -v -f /dev/hdb3</p>

<p style="margin-top: 1em">Check the 5th partition on the
1st hard disk, and report, but do not repair, any
errors:</p>

<p style="margin-top: 1em">jfs_fsck -n /dev/hda5</p>

<p style="margin-top: 1em">EXIT CODE <br>
The exit code returned by jfs_fsck represents one of the
following conditions:</p>

<p style="margin-top: 1em">0 No errors</p>

<p style="margin-top: 1em">1 File system errors corrected
and/or transaction log replayed successfully</p>

<p style="margin-top: 1em">2 File system errors corrected,
system should be rebooted if file system was mounted</p>

<p style="margin-top: 1em">4 File system errors left
uncorrected</p>

<p style="margin-top: 1em">8 Operational error</p>

<p style="margin-top: 1em">16 Usage or syntax error</p>

<p style="margin-top: 1em">128 Shared library error</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
If you find a bug in JFS or jfs_fsck, please report it via
the bug tracking system (&quot;Report Bugs&quot; section) of
the JFS project web site: <br>
http://jfs.sourceforge.net/</p>

<p style="margin-top: 1em">Please send as much pertinent
information as possible, including the complete output of
running jfs_fsck with the -v option on the JFS device.</p>

<p style="margin-top: 1em">SEE ALSO <br>
fsck(8), jfs_mkfs(8), jfs_fscklog(8), jfs_tune(8),
jfs_logdump(8), jfs_debugfs(8)</p>

<p style="margin-top: 1em">AUTHORS <br>
Barry Arndt (barndt@us.ibm.com) <br>
William Braswell, Jr.</p>

<p style="margin-top: 1em">jfs_fsck is maintained by IBM.
<br>
See the JFS project web site for more details: <br>
http://jfs.sourceforge.net/</p>

<p style="margin-top: 1em">October 29, 2002 jfs_fsck(8)</p>
<hr>
</body>
</html>
