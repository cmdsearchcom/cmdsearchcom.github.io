<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:34 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ISPELL-AUTOBUILDHASH(8) ISPELL-AUTOBUILDHASH(8)</p>

<p style="margin-top: 1em">NAME <br>
ispell-autobuildhash - Autobuilding the ispell hash file for
some dicts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ispell-autobuildhash [--force]</p>

<p style="margin-top: 1em">Options: <br>
--debug Show some extra ispell-autobuildhash information.
<br>
--dry-run Show what would be done, but do nothing real. <br>
--force Rebuild the hash file for all dicts providing a <br>
compat file skipping the test. <br>
--triggered Tell the script that is run in the triggers
stage.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ispell-autobuildhash is a script that will manage ispell
hash files autobuild, intended to be called from the
dictionaries-common tools. Depending on the ispell
compatibility <br>
level and on the compatibility level used for the hash file
if present, will decide whether it must be rebuilt or not.
This script will only work on ispell packages prepared to
<br>
use it, it will do nothing for other ispell dict
packages.</p>

<p style="margin-top: 1em">OPTIONS <br>
--debug Show some extra ispell-autobuildhash information.
<br>
--dry-run Show what would be done, but do nothing real. <br>
--force Rebuild the hash file for all dicts providing a
compat <br>
file regardless of the compatibility levels found. <br>
--triggered Tell the script that is run in the triggers
stage. When <br>
run under dpkg control, do not try to set the <br>
&rsquo;ispell-autobuildhash&rsquo; trigger, but run real
<br>
B&lt;ispell-autobuildhash&gt; code. When not run under dpkg
<br>
control, real code will always be run and
&rsquo;--triggered&rsquo; <br>
option has no real effect.</p>

<p style="margin-top: 1em">PACKAGE MAINTAINERS <br>
To use this system, ispell-autobuildhash expects a
$dict.compat file in /var/lib/ispell ($dict stands for the
hash or affix file basename) containing ispell major or <br>
compatibility version for last successful build or
&quot;0&quot; or en empty file if hash is to be rebuild, as
is for dictionary installation and upgrades.</p>

<p style="margin-top: 1em">When upgrading ispell, script
will check if version in $dict.compat is different from
ispell.compat and rebuild if so, updating $dict.compat with
the new value. The particular <br>
way things are done depends on whether your dict has a
single source or a multiple source like ipolish has.</p>

<p style="margin-top: 1em">The most common case is having a
single source. In this case you must put the $dict.aff file
at /usr/lib/ispell/$dict.aff as usual and the munched
wordlist compressed with gzip <br>
at /usr/share/ispell/$dict.mwl.gz.</p>

<p style="margin-top: 1em">This script supports the way
ipolish allows selection of subdictionaries to be put in the
hash file. It will detect the presence of the main language
.desc file and call update- <br>
ipolish-hash as appropriate.</p>

<p style="margin-top: 1em">Although this script looks for
the existence of a update-ispell-hash script with supposedly
similar functionality to update-ipolish-hash, this latter
does not really exists, <br>
although it might be added at some time to ispell or to the
dictionaries-common system, if enough demand is found.</p>

<p style="margin-top: 1em">If your package provides more
than one ispell dictionary you will need to do the steps
above for each dictionary.</p>

<p style="margin-top: 1em">Dictionaries-common scripts will
call internally this script and create a hash file at
/var/lib/ispell/$dict.hash. You must set a symlink to that
file from <br>
/usr/lib/ispell/$dict.hash.</p>

<p style="margin-top: 1em">Ispell dictionary packages using
this script must make sure that $dict.compat is reset on
every new install/upgrade, so hash is rebuilt. They must
also make sure that <br>
$dict.compat and /var/lib/ispell/$dict.hash are removed on
package removal</p>

<p style="margin-top: 1em">As of version 1.10,
installdeb-ispell script will understand
&rsquo;auto-compat&rsquo; field in $dict.info-ispell file to
help with this by adding needed debhelper snippets. Put in
that <br>
entry the base name(s) of your compat file(s) and check
resulting maintainer scripts after build.</p>

<p style="margin-top: 1em">Note that you are no longer
suggested to ship empty files at
/var/lib/ispell/$dict.compat and /var/lib/ispell/$dict.hash
to help with reset/removal of those files, but explicitly
<br>
create/update them on install and explicitly remove them on
removal.</p>

<p style="margin-top: 1em">ispell maintainer should also
call this script from package postinst. When comparing
versions it will get the ispell version from file
/usr/share/ispell/ispell.compat, or if it <br>
does not exists, from the upstream version as given in the
first line of &rsquo;ispell -vv output.</p>

<p style="margin-top: 1em">AUTHOR <br>
Agustin Martin &lt;agmartin@debian.org&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2003-2013 Agustin Martin
&lt;agmartin@debian.org&gt;</p>

<p style="margin-top: 1em">This program is free software;
you can redistribute it and/or modify it under the terms of
the GNU General Public License as published by the Free
Software Foundation; either <br>
version 3 of the License, or (at your option) any later
version.</p>

<p style="margin-top: 1em">1.27.2 2016-10-10
ISPELL-AUTOBUILDHASH(8)</p>
<hr>
</body>
</html>
