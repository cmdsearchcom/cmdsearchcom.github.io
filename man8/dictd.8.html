<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DICTD(8) DICTD(8)</p>

<p style="margin-top: 1em">NAME <br>
dictd - a dictionary database server</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dictd [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dictd is a server for the Dictionary Server Protocol (DICT),
a TCP transaction based query/response protocol that allows
a client to access dictionary definitions from a set of <br>
natural language dictionary databases.</p>

<p style="margin-top: 1em">For security reasons, dictd
drops root permissions after startup. If user dictd exists
on the system, the daemon will run as that user, group
dictd, otherwise it will run as <br>
user nobody, group nobody or nogroup (depending on the
operating system distribution).</p>

<p style="margin-top: 1em">Since startup time is
significant, the server is designed to run continuously, and
should not be run from inetd(8). (However, with a fast
processor, it is feasible to do so.)</p>

<p style="margin-top: 1em">Databases are distributed
separately from the server.</p>

<p style="margin-top: 1em">By default, dictd assumes that
the index files are sorted alphabetically, and only
alphanumeric characters from the 7-bit ASCII character set
are used for search. This default <br>
may be overridden by a header in the data file. The only
such features implemented at this time are the headers
&quot;00-database-allchars&quot; which tells dictd that
non-alphanumeric <br>
characters may also be used for search, the header
&quot;00-database-utf8&quot; which indicates that the
database uses utf8 encoding, and the
&quot;00-database-8bit-new&quot; which indicates that <br>
the database is encoded and sorted according to a locale
that uses an 8-bit encoding.</p>

<p style="margin-top: 1em">BACKGROUND <br>
For many years, the Internet community has relied on the
&quot;webster&quot; protocol for access to natural language
definitions. The webster protocol supports access to a
single dictio&acirc; <br>
nary and (optionally) to a single thesaurus. In recent
years, the number of publicly available webster servers on
the Internet has dramatically decreased.</p>

<p style="margin-top: 1em">Fortunately, several
freely-distributable dictionaries and lexicons have recently
become available on the Internet. However, these
freely-distributable databases are not acces&acirc; <br>
sible via a uniform interface, and are not accessible from a
single site. They are often small and incomplete
individually, but would collectively provide an interesting
and <br>
useful database of English words. Examples include the
Jargon file, the WordNet database, MICRA&rsquo;s version of
the 1913 Webster&rsquo;s Revised Unabridged Dictionary, and
the Free <br>
Online Dictionary of Computing. (See the DICT protocol
specification (RFC) for references.) Translating and
non-English dictionaries are also becoming available (for
example, <br>
the FOLDOC dictionary is being translated into Spanish).</p>

<p style="margin-top: 1em">The webster protocol is not
suitable for providing access to a large number of separate
dictionary databases, and extensions to the current webster
protocol were not felt to be a <br>
clean solution to the dictionary database problem.</p>

<p style="margin-top: 1em">The DICT protocol is designed to
provide access to multiple databases. Word definitions can
be requested, the word index can be searched (using an
easily extended set of algo&acirc; <br>
rithms), information about the server can be provided (e.g.,
which index search strategies are supported, or which
databases are available), and information about a database
can <br>
be provided (e.g., copyright, citation, or distribution
information). Further, the DICT protocol has hooks that can
be used to restrict access to some or all of the
databases.</p>

<p style="margin-top: 1em">dictd(8) is a server that
implements the DICT protocol. Bret Martin implemented
another server, and several people (including Bret and
myself) have implemented clients in a <br>
variety of languages.</p>

<p style="margin-top: 1em">OPTIONS <br>
-V or --version <br>
Display version information.</p>

<p style="margin-top: 1em">--license <br>
Display copyright and license information.</p>

<p style="margin-top: 1em">-h or --help <br>
Display help information.</p>

<p style="margin-top: 1em">-v or --verbose or -dverbose
<br>
Be verbose.</p>

<p style="margin-top: 1em">-c file or --config file <br>
Specify configuration file. The default is
/etc/dictd/dictd.conf , but may be changed in the defs.h
file at compile time (DICTD_CONFIG_FILE).</p>

<p style="margin-top: 1em">-p port or --port port <br>
Overrides the keyword port in Global Settings Specification
section of configuration file.</p>

<p style="margin-top: 1em">-i or --inetd <br>
Communicate on standard input/output, suitable for use from
inetd. Although, due to its rather large startup time, this
daemon was not intended to run from inetd, with a <br>
fast processor it is feasible to do so. This option also
implies --fast-start.</p>

<p style="margin-top: 1em">--pp prog <br>
Sets a preprocessor for configuration file. like m4 or cpp .
See examples/dictd_complex.conf file from distribution. By
default configuration file is parsed without <br>
preprocessor.</p>

<p style="margin-top: 1em">--depth length <br>
Overrides the keyword depth in Global Settings Specification
section of configuration file.</p>

<p style="margin-top: 1em">--delay seconds <br>
Overrides the keyword delay in Global Settings Specification
section of configuration file.</p>

<p style="margin-top: 1em">--facility facility <br>
The same as syslog_facility keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">-f or --force <br>
Force the daemon to start even if an instance of the daemon
is already running. (This is of little value unless a
non-default port is specified with -p, since, if one <br>
instance is bound to a port, the second one fails when it
can not bind to the port.)</p>

<p style="margin-top: 1em">--limit children <br>
Overrides the keyword limit in Global Settings Specification
section of configuration file.</p>

<p style="margin-top: 1em">--listen-to address <br>
Overrides the keyword listen_to in Global Settings
Specification section of configuration file.</p>

<p style="margin-top: 1em">--locale locale <br>
Overrides the keyword locale in Global Settings
Specification section of configuration file.</p>

<p style="margin-top: 1em">-s The same as syslog keyword in
Global Settings Specification of configuration files.</p>

<p style="margin-top: 1em">-L file or --logfile file <br>
The same as log_file keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">--pid-file file <br>
The same as pid_file keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">-m minutes or --mark minutes
<br>
Overrides the keyword timestamp in Global Settings
Specification section of configuration file.</p>

<p style="margin-top: 1em">--default-strategy strategy <br>
Overrides the keyword default_strategy in Global Settings
Specification section of configuration file.</p>

<p style="margin-top: 1em">--without-strategy
strat1,strat2,... <br>
The same as without_strategy keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">--add-strategy
strategy_name:description <br>
The same as add_strategy keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">--fast-start <br>
The same as fast_start keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">--without-mmap <br>
The same as without_mmap keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">--stdin2stdout <br>
When applied with --inetd, each command obtained from stdin
is output to stdout. This option is useful for
debugging.</p>

<p style="margin-top: 1em">-l option or --log option <br>
The same as log_option keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">-d option <br>
The same as debug_option keyword in Global Settings
Specification of configuration files.</p>

<p style="margin-top: 1em">CONFIGURATION FILE <br>
Introduction <br>
The configuration file defaults to /etc/dictd/dictd.conf but
can be specified on the command line with the -c option (see
above).</p>

<p style="margin-top: 1em">The configuration file is read
into memory at startup, and is not referenced again by dictd
unless a signal 1 (SIGHUP) is received, which will cause
dictd to reread the <br>
configuration file.</p>

<p style="margin-top: 1em">The file is divided into
sections. The Access Section should come first, followed by
the Database Section, and the User Section. The Database
Section is required; the <br>
others are optional, but they must be in the order listed
here.</p>

<p style="margin-top: 1em">Syntax The following keywords
are valid in a configuration file: access, allow, deny,
group, database, data, index, filter, prefilter, postfilter,
name, include, user, authonly, <br>
site. Keywords are case sensitive. String arguments that
contain spaces should be surrounded by double quotes.
Without quoting, strings may contain alphanumeric
charac&acirc; <br>
ters and _, -, ., and *, but not spaces. Strings can be
continued between lines. <br>
tively. Comments start with # and extend to the end of the
line.</p>

<p style="margin-top: 1em">Global Settings Section</p>

<p style="margin-top: 1em">global { global settings
specification } <br>
Used to set global dictd setting such as log file, syslog
facility, locale and so on.</p>

<p style="margin-top: 1em">EXAMPLE: <br>
See examples/dictd4.conf file from the distribution.</p>

<p style="margin-top: 1em">Access Section</p>

<p style="margin-top: 1em">access { access specification }
<br>
This section contains access restrictions for the server and
all of the databases collectively. Per-database control is
specified in the Database Section.</p>

<p style="margin-top: 1em">EXAMPLE: <br>
See examples/dictd3.conf file from the distribution.</p>

<p style="margin-top: 1em">Database Section</p>

<p style="margin-top: 1em">database string { database
specification } <br>
The string specifies the name of the database (e.g., wn or
web1913). (This is an arbitrary name selected by the
administrator, and is not necessarily related to <br>
the file name or any name listed in the data file. A short,
easy to type name is often selected for easy use with dict
-d.)</p>

<p style="margin-top: 1em">EXAMPLE: See
examples/dictd*.conf files from the distribution.</p>

<p style="margin-top: 1em">NOTE: If the files specified in
the database specification do not exist on the system, dictd
may silently fail.</p>

<p style="margin-top: 1em">database_virtual string {
virtual database specification } <br>
This section specifies the virtual database. The string
specifies the name of the database (e.g., en-ru or
fren).</p>

<p style="margin-top: 1em">EXAMPLE: See
examples/dictd_virtual.conf or examples/dictd_complex.conf
files from the distribution.</p>

<p style="margin-top: 1em">database_plugin string { plugin
specification } <br>
This section specifies the plugin. The string specifies the
name of the database.</p>

<p style="margin-top: 1em">EXAMPLE: See
examples/dictd_plugin_dbi.conf or
examples/dictd_complex.conf files from the distribution.</p>

<p style="margin-top: 1em">database_mime string { mime
specification } <br>
Traditionally, databases created for dictd contained plain
text only because dictd releases before 1.10.0 didn&rsquo;t
have full support of OPTION MIME option (consult <br>
with RFC-2229). This section describes the special database
which behaves differently depending on whether OPTION MIME
command was received from client or was not, <br>
i.e. the database created by this section allows one to
return to the client either a plain text or specially
formatted content depending on whether DICT client <br>
supports (or wants to receive) MIMEized content or
doesn&rsquo;t. The string specifies the name of the
database.</p>

<p style="margin-top: 1em">NOTE: All this is about DEFINE
command only. MATCH, SHOW DB, SHOW STRAT, SHOW INFO, SHOW
SERVER and HELP commands return texts prepended with empty
line only.</p>

<p style="margin-top: 1em">EXAMPLE: See
examples/dictd_mime.conf file from the distribution.</p>

<p style="margin-top: 1em">database_exit <br>
Excludes following databases from the &rsquo;*&rsquo;
database. By default &rsquo;*&rsquo; means all databases
available. Look at &rsquo;examples/dictd_virtual.conf&rsquo;
file for example configu&acirc; <br>
ration.</p>

<p style="margin-top: 1em">NOTE: If you use
&rsquo;virtual&rsquo; dictionaries, you should use this
directive, otherwise you will search the same dictionary
twice.</p>

<p style="margin-top: 1em">User Section</p>

<p style="margin-top: 1em">user string string <br>
The first string specifies the username, and the second
string specifies the shared secret for this username. When
the AUTH command is used, the client will <br>
provide the username and a hashed version of the shared
secret. If the shared secret matches, the user is said to
have authenticated, and will have access <br>
to databases whose access specifications allow that user (by
name, or by wildcard). If present, this section must appear
last in the configuration file. <br>
There may be many user entries. The shared secret should be
kept secret, as anyone who has access to it can access the
shared databases (assuming access is <br>
not denied by domain name).</p>

<p style="margin-top: 1em">Access Specification <br>
Access specifications may occur in the Access Section or in
the Database Section. The access specification will be
described here.</p>

<p style="margin-top: 1em">For allow, deny, and authonly, a
star (*) may be used as a wild card that matches any number
of characters. A question mark (?) may be used as a wildcard
that <br>
matches a single character. For example, 10.0.0.* and *.edu
are valid strings.</p>

<p style="margin-top: 1em">Further, a range of IP addresses
and an IP address followed by a netmask may be specified.
For example, 10.0.0.0:10.0.0.255, 10.0.0.0/24, and 10.0.0.*
all specify <br>
the same range of IP numbers. Notation cannot be combined on
the same line. If the notation does not make sense, access
will be denied by default. Use the <br>
--debug auth option to debug related problems.</p>

<p style="margin-top: 1em">Note that these specifications
take only one string per specification line. However, you
can have multiple lines of each type.</p>

<p style="margin-top: 1em">The syntax is as follows:</p>

<p style="margin-top: 1em">allow string <br>
The string specifies a domain name or IP address which is
allowed access to the server (in the Access Section) or to a
database (in the Database Section). <br>
Note that more than one string is not permitted for a single
&quot;allow&quot; line, but more than one &quot;allow&quot;
lines are permitted in the configuration file.</p>

<p style="margin-top: 1em">deny string <br>
The string specifies a domain name or IP address which is
denied access to the server (in the Access Section) or to a
database (in the Database Section). <br>
Note that if reverse DNS is not working, then only the IP
number will be checked. Therefore, it is essential to deny
networks based on IP number, since a <br>
denial based on domain name may not always be checked.</p>

<p style="margin-top: 1em">authonly string <br>
This form is only useful in the Access Section. The string
specifies a domain name or IP address which is allowed
access to the server but not to any of the <br>
databases. All commands are valid except DEFINE, MATCH, and
SHOW DB. More specifically AUTH is a valid command, and
commands which access the databases are <br>
not allowed.</p>

<p style="margin-top: 1em">user string <br>
This form is only useful in the Database Section. The string
specifies a username that is allowed to access this database
after a successful AUTH command is <br>
executed.</p>

<p style="margin-top: 1em">Global Settings Specification
<br>
This section describes the following parameters:</p>

<p style="margin-top: 1em">port string_or_number <br>
Specifies the port or service name (e.g., 2628). The default
is 2628, as specified in the DICT Protocol RFC, but may be
changed in the defs.h file at compile time <br>
(DICT_DEFAULT_SERVICE).</p>

<p style="margin-top: 1em">site string <br>
Used to specify the filename for the site information file,
a flat text file which will be displayed in response to the
SHOW SERVER command.</p>

<p style="margin-top: 1em">EXAMPLE: See
examples/dictd4.conf file from the distribution.</p>

<p style="margin-top: 1em">site_no_banner boolean <br>
By default SHOW SERVER command outputs information about
dictd version and an operating system type. This option
disables this.</p>

<p style="margin-top: 1em">site_no_uptime boolean <br>
By default SHOW SERVER command outputs information about
uptime of dictd , a number of forks since startup and forks
per hour. This option disables this.</p>

<p style="margin-top: 1em">site_no_dblist boolean <br>
By default SHOW SERVER command outputs internal information
about databases, such as a number of headwords, index size
and so on. This option disables this.</p>

<p style="margin-top: 1em">delay number <br>
Specifies the number of seconds a client may be idle before
the server will close the connection. Idle time is defined
to be the time the server is waiting for <br>
input and does not include the time the server spends
searching the database. The default is 0 seconds (no limit),
but may be changed in the defs.h file at compile <br>
time (DICT_DEFAULT_DELAY).</p>

<p style="margin-top: 1em">NOTE: Setting delay option
disables limit_time option. Only one of them (last specified
in dictd.conf ) is in effect.</p>

<p style="margin-top: 1em">NOTE: Connections are closed
without warning since no provision for premature connection
termination is specified in the DICT protocol RFC.</p>

<p style="margin-top: 1em">depth number <br>
Specify the queue length for listen(2). Specifies the number
of pending socket connections which are queued by the
operating system. Some operating systems may <br>
silently limit this value to 5 (older BSD systems) or 128
(Linux). The default is 10 but may be changed in the defs.h
file at compile time (DICT_QUEUE_DEPTH).</p>

<p style="margin-top: 1em">limit_childs number <br>
Specifies the number of daemons that may be running
simultaneously. Each daemon services a single connection. If
the limit is exceeded, a (serialized) connection <br>
will be made by the server process, and a response code 420
(server temporarily unavailable) will be sent to the client.
This parameter should be adjusted to pre&acirc; <br>
vent the server machine from being overloaded by dict
clients, but should not be set so low that many clients are
denied useful connections. The default is 100, but <br>
may be changed in the defs.h file at compile time
(DICT_DAEMON_LIMIT_CHILDS).</p>

<p style="margin-top: 1em">limit number <br>
Synonym for limit_childs. For backward compatibility
only.</p>

<p style="margin-top: 1em">limit_matches number <br>
Specifies the maximum number of matches that can be returned
by MATCH query. Zero means no limit. The default is
2000.</p>

<p style="margin-top: 1em">limit_definitions number <br>
Specifies the maximum number of definitions that can be
returned by DEFINE query. Zero means no limit. The default
is 200.</p>

<p style="margin-top: 1em">limit_time number <br>
Specifies the number of seconds a client may talk to the
server before the server will close the connection. The
default is 600 seconds (10 minutes), but may be <br>
changed in the defs.h file at compile time
(DICT_DEFAULT_LIMIT_TIME).</p>

<p style="margin-top: 1em">NOTE: Setting limit_time option
disables delay option. Only one of them (last specified in
dictd.conf ) is in effect.</p>

<p style="margin-top: 1em">NOTE: Connections are closed
without warning since no provision for premature connection
termination is specified in the DICT protocol RFC.</p>

<p style="margin-top: 1em">limit_queries number <br>
Specifies the number of queries (MATCH, DEFINE, SHOW DB
etc.) that client may send to the server before the server
will close the connection. Zero means no limit. <br>
The default is 2000, but may be changed in the defs.h file
at compile time (DICT_DEFAULT_LIMIT_QUERIES).</p>

<p style="margin-top: 1em">timestamp number <br>
How often a timestamp should be logged (int minutes). (This
is effective only if logging has been enabled with the -s or
-L option, or with a debugging option.)</p>

<p style="margin-top: 1em">log_option option <br>
Specify a logging option. This is effective only if logging
has been enabled with the -s or -L option or in
configuration file, or logging to the console has been <br>
activated with a debugging option (e.g., --debug nodetach.
Only one option may be set with each invocation of this
option; however, multiple invocations of this <br>
option may be made in configuration file or dictd command
line. For instance: <br>
dictd -s --log stats --log found --log notfound <br>
is a valid command line, and sets three logging options.</p>

<p style="margin-top: 1em">Some of the more verbose logging
options are used primarily for debugging the server code,
and are not practical for normal use.</p>

<p style="margin-top: 1em">server Log server diagnostics.
This is extremely verbose.</p>

<p style="margin-top: 1em">connect <br>
Log all connections.</p>

<p style="margin-top: 1em">stats Log all children
terminations.</p>

<p style="margin-top: 1em">command <br>
Log all commands. This is extremely verbose.</p>

<p style="margin-top: 1em">client Log results of CLIENT
command.</p>

<p style="margin-top: 1em">found Log all words found in the
databases.</p>

<p style="margin-top: 1em">notfound <br>
Log all words not found in the databases.</p>

<p style="margin-top: 1em">timestamp <br>
When logging to a file, use a full timestamp like that which
syslog would produce. Otherwise, no timestamp is made,
making the files shorter.</p>

<p style="margin-top: 1em">host Log name of foreign
host.</p>

<p style="margin-top: 1em">auth Log authentication
failures.</p>

<p style="margin-top: 1em">min Set a minimal number of
options. If logging is activated (to a file, or via syslog),
and no options are set, then the minimal set of options will
be used. <br>
If options are set, then only those options specified will
be used.</p>

<p style="margin-top: 1em">all Set all of the options.</p>

<p style="margin-top: 1em">none Clear all of the
options.</p>

<p style="margin-top: 1em">To facilitate location of
interesting information in the log file, entries are marked
with initial letters indicating the class of the line being
logged:</p>

<p style="margin-top: 1em">I Information about the server,
connections, or termination statistics. These lines are
generally not designed to be parsed automatically.</p>

<p style="margin-top: 1em">E Error messages.</p>

<p style="margin-top: 1em">C CLIENT command
information.</p>

<p style="margin-top: 1em">D Definitions found in the
databases searched.</p>

<p style="margin-top: 1em">M Matches found in the database
searched.</p>

<p style="margin-top: 1em">N Matches which were not found
in the databases searched.</p>

<p style="margin-top: 1em">T Trace of exact line sent by
client.</p>

<p style="margin-top: 1em">A Authentication
information.</p>

<p style="margin-top: 1em">To preserve anonymity of the
client, do not use the connect or host options. Clients may
or may not send host information using the CLIENT command,
but this should <br>
be an option that is selectable on the client side.</p>

<p style="margin-top: 1em">debug_option string <br>
Activate a debugging option. There are several, all of which
are only useful to developers. They are documented here for
completeness. A list can be obtained <br>
interactively by using -d with an illegal option.</p>

<p style="margin-top: 1em">verbose <br>
The same as -v or --verbose. Adds verbosity to other
options.</p>

<p style="margin-top: 1em">scan Debug the scanner for the
configuration file.</p>

<p style="margin-top: 1em">parse Debug the parser for the
configuration file.</p>

<p style="margin-top: 1em">search Debug the character
folding and binary search routines.</p>

<p style="margin-top: 1em">init Report database
initialization.</p>

<p style="margin-top: 1em">port Log client-side port number
to the log file.</p>

<p style="margin-top: 1em">lev Debug Levenshtein search
algorithm.</p>

<p style="margin-top: 1em">auth Debug the authorization
routines.</p>

<p style="margin-top: 1em">nodetach <br>
Do not detach as a background process. Implies that a copy
of the log file will appear on the standard output.</p>

<p style="margin-top: 1em">nofork Do not fork daemons to
service requests. Be a single-threaded server. This option
implies nodetach, and is most useful for using a debugger to
find the <br>
point at which daemon processes are dumping core.</p>

<p style="margin-top: 1em">alt Debugs altcompare in
index.c.</p>

<p style="margin-top: 1em">locale string <br>
Specifies the locale used for searching. If no locale is
specified, the &quot;C&quot; locale is used. The locale used
for the server should be the same as that used for <br>
dictfmt when the database was built (specifically, the
locale under which the index was sorted). The locale should
be specified for both 8-bit and UTF-8 formats. If <br>
locale contains utf8 or utf-8 substring, UTF-8 format is
expected. Note that if your database is not in ASCII7 or
UTF-8 format, then the dictd server will not be <br>
compliant to RFC 2229.</p>

<p style="margin-top: 1em">NOTE If utf-8 or 8-bit
dictionaries are included in the configuration file, and the
appropriate --locale has not been specified, dictd will fail
to start. This <br>
implies that dictd will not run with both utf-8 and 8-bit
dictionaries in the configuration file.</p>

<p style="margin-top: 1em">add_strategy strategy_name
description <br>
Adds strategy strategy_name with the description
description. This new search strategy may be implemented
with a help of plugins. Both strategy_name and
descrip&acirc; <br>
tion are strings.</p>

<p style="margin-top: 1em">default_strategy string <br>
Set the server&rsquo;s default search strategy for MATCH
search type. The compiled-in default is &rsquo;lev&rsquo;.
It is also possible to set default strategy per database.
See <br>
default_strategy keyword in Database specification
section.</p>

<p style="margin-top: 1em">disable_strategy string <br>
Disable specified strategies. By default all implemented
search strategies are enabled. It is also possible to
disable strategies per database. See dis&acirc; <br>
able_strategy keyword in Database specification section.</p>

<p style="margin-top: 1em">listen_to string <br>
Binds socket to the specified address. If you want to allow
connections to dict server from localhost only, apply <br>
listen_to 127.0.0.1</p>

<p style="margin-top: 1em">syslog string <br>
Log using the syslog(3) facility.</p>

<p style="margin-top: 1em">syslog_facility string <br>
Specifies the syslog facility to use. The use of this option
implies the -s option to turn on logging via syslog. When
the operating system libraries support SYS&acirc; <br>
LOG_NAMES, the names used for this option should be those
listed in syslog.conf(5). Otherwise, the following names are
used (assuming the particular facility is <br>
defined in the header files): auth, authpriv, cron, daemon,
ftp, kern, lpr, mail, news, syslog, user, uucp, local0,
local1, local2, local3, local4, local5, local6, <br>
and local7.</p>

<p style="margin-top: 1em">log_file string <br>
Specify the file for logging. The filename specified is
recomputed on each use using the strftime(3) call. For
example, a filename ending in &quot;.%Y%m%d&quot; will write
<br>
to log files ending in the year, month, and date that the
log entry was written. <br>
NOTE: If dictd does not have write permission for this file,
it will silently fail.</p>

<p style="margin-top: 1em">pid_file string <br>
The specified filename will be created to contain the
process id of the main dictd process. The default is
/var/run/dictd.pid</p>

<p style="margin-top: 1em">fast_start <br>
By default, dictd creates (in memory) additional index to
make the search faster. This option disables this behaviour
and makes startup faster.</p>

<p style="margin-top: 1em">without_mmap <br>
do not use the mmap(2) function and read entire files into
memory instead. Use this option, if you know exactly what
you are doing.</p>

<p style="margin-top: 1em">Database Specification <br>
The database specification describes the database:</p>

<p style="margin-top: 1em">data string <br>
Specifies the filename for the flat text database. If the
filename does not begin with &rsquo;.&rsquo; or
&rsquo;/&rsquo;, it is prepended with $datadir/. It is a
compile time option. You <br>
can change this behaviour by editing Makefile or running
./configure --datadir=...</p>

<p style="margin-top: 1em">index string <br>
Specifies the filename for the index file. Path matter is
similar to that described above in &quot;data&quot; option
.</p>

<p style="margin-top: 1em">index_suffix string <br>
This is optional index file to make &rsquo;suffix&rsquo;
search strategy faster (binary search). It is generated by
&rsquo;dictfmt_index2suffix&rsquo;. Run
&quot;dictfmt_index2suffix --help&quot; <br>
for more information. Path matter is similar to that
described above in &quot;data&quot; option .</p>

<p style="margin-top: 1em">index_word string <br>
This is optional index file to make &rsquo;word&rsquo;
search strategy faster (binary search). It is generated by
&rsquo;dictfmt_index2word&rsquo;. Run
&quot;dictfmt_index2word --help&quot; for <br>
more information. Path matter is similar to that described
above in &quot;data&quot; option .</p>

<p style="margin-top: 1em">prefilter string <br>
Specifies the prefilter command. When a chunk of the
compressed database is read, it will be filtered with this
filter before being decompressed. This may be <br>
used to provide some additional compression that knows about
the data and can provide better compression than the LZ77
algorithm used by zlib.</p>

<p style="margin-top: 1em">postfilter string <br>
Specifies the postfilter command. When a chunk of the
compressed database is read, it will be filtered with this
filter before the offset and length for the entry <br>
are used to access data. This is provided for symmetry with
the prefilter command, and may also be useful for providing
additional database compression.</p>

<p style="margin-top: 1em">filter string <br>
Specifies the filter command. After the entry is extracted
from the database, it will be filtered with this filter.
This may be used to provide formatting for the <br>
entry (e.g., for html).</p>

<p style="margin-top: 1em">name string <br>
Specifies the short name of the database (e.g., &quot;1913
Webster&rsquo;s&quot;). If the string begins with @, then it
specifies the headword to look up in the dictionary to find
<br>
the short name of the database. The default is
&quot;@00-database-short&quot;, but this may be changed in
the defs.h file at compile time (DICT_SHORT_ENTRY_NAME).</p>

<p style="margin-top: 1em">info string <br>
Specifies the information about database. If the string
begins with @, then it specifies the headword to look up in
the dictionary to find information. The <br>
default is &quot;@00-database-info&quot;, but this may be
changed in the defs.h file at compile time
(DICT_INFO_ENTRY_NAME).</p>

<p style="margin-top: 1em">invisible <br>
Makes dictionary invisible to the clients i.e. this
dictionary will not be recognized or shown by DEFINE, MATCH,
SHOW INFO, SHOW SERVER and SHOW DB commands. If <br>
some definitions or matches are found in invisible
dictionary, the name of the upper visible virtual dictionary
is returned. Dictionaries &rsquo;*&rsquo; and
&rsquo;!&rsquo; don&rsquo;t include <br>
invisible ones. NOTE: Invisible dictionaries are completely
inaccessible (and invisible) to the client unless they are
included to the virtual or MIME dictionary <br>
(See database_virtual or database_mime database
sections).</p>

<p style="margin-top: 1em">disable_strategy string <br>
Disables the specified strategy for database. This may be
useful for slow dictionaries (plugins) or for dictionaries
included to virtual ones. For an example see <br>
file examples/dictd_complex.conf.</p>

<p style="margin-top: 1em">default_strategy string <br>
Specifies the strategy which will be used if the database is
accessed using the strategy &rsquo;.&rsquo;. I.e. this
directive is the way to set the preferred search strategy
<br>
per database. For example, instead of strategy lev , the
strategy word may be preferred for databases mainly
containing the multiword phrases but the single words.</p>

<p style="margin-top: 1em">Virtual Database Specification
<br>
The virtual database specification describes the virtual
database:</p>

<p style="margin-top: 1em">database_list string <br>
Specifies a list of databases which are included into the
virtual database. Database names are in the string and are
separated by comma.</p>

<p style="margin-top: 1em">name string <br>
Specifies the short name of the database. See database
specification</p>

<p style="margin-top: 1em">info string <br>
Specifies the information about database. See database
specification</p>

<p style="margin-top: 1em">invisible <br>
Makes dictionary invisible to the clients. See database
specification</p>

<p style="margin-top: 1em">disable_strategy string <br>
Disables the specified strategy for database. See database
specification</p>

<p style="margin-top: 1em">Plugin Specification</p>

<p style="margin-top: 1em">plugin string <br>
Specifies a filename of the plugin.</p>

<p style="margin-top: 1em">data string <br>
Specifies data for initializing plugin.</p>

<p style="margin-top: 1em">name string <br>
Specifies the short name of the database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">info string <br>
Specifies the information about database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">invisible <br>
Makes dictionary invisible to the clients. See Database
Specification for more information.</p>

<p style="margin-top: 1em">disable_strategy string <br>
Disables the specified strategy for database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">default_strategy string <br>
Sets the default search strategy for database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">Mime Specification</p>

<p style="margin-top: 1em">dbname_nomime string <br>
Specifies the real database name which is used in case
OPTION MIME command was NOT received from a client.</p>

<p style="margin-top: 1em">dbname_mime string <br>
Specifies the real database name which is used in case
OPTION MIME command WAS received from a client. A necessary
MIME header is set while creating a database. <br>
See dictfmt(1) for option --mime-header.</p>

<p style="margin-top: 1em">name string <br>
Specifies the short name of the database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">info string <br>
Specifies the information about database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">invisible <br>
Makes dictionary invisible to the clients. See Database
Specification for more information.</p>

<p style="margin-top: 1em">disable_strategy string <br>
Disables the specified strategy for database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">default_strategy string <br>
Sets the default search strategy for database. See Database
Specification for more information.</p>

<p style="margin-top: 1em">include string <br>
The text of the file &quot;string&quot; (usually a database
specification) will be read as if it appeared at this
location in the configuration file. Nested includes are not
per&acirc; <br>
mitted.</p>

<p style="margin-top: 1em">DETERMINATION OF ACCESS LEVEL
<br>
When a client connects, the global access specification is
scanned, in order, until a specification matches. If no
access specification exists, all access is allowed (e.g.,
the <br>
action is the same as if &quot;allow *&quot; was the only
item in the specification). For each item, both the hostname
and IP are checked. For example, consider the following
access spec&acirc; <br>
ification: <br>
allow 10.42.* <br>
authonly *.edu <br>
deny * <br>
With this specification, all clients in the 10.42 network
will be allowed access to unrestricted databases; all
clients from *.edu sites will be allowed to authenticate,
but will <br>
be denied access to all databases, even those which are
otherwise unrestricted; and all other clients will have
their connection terminated immediately. The 10.42 network
<br>
clients can send an AUTH command and gain access to
restricted databases. The *.edu clients must send an AUTH
command to gain access to any databases, restricted or
unre&acirc; <br>
stricted.</p>

<p style="margin-top: 1em">When the AUTH command is sent,
the access list for each database is scanned, in order, just
as the global access list is scanned. However, after
authentication, the client has <br>
an associated username. For example, consider the following
access specification: <br>
user u1 <br>
deny *.com <br>
user u2 <br>
allow * <br>
If the client authenticated as u1, then the client will have
access to this database, even if the client comes from a
*.com site. In contrast, if the client authenticated as u2,
<br>
the client will only have access if it does not come from a
*.com site. In this case, the &quot;user u2&quot; is
redundant, since that client would also match &quot;allow
*&quot;.</p>

<p style="margin-top: 1em">Warning: Checks are performed
for domain names and for IP addresses. However, if reverse
DNS for a specific site is not working, it is possible that
a domain name may not be <br>
available for checking. Make sure that all denials use IP
addresses. (And consider a future enhancement: if a domain
name is not available, should denials that depend on a <br>
domain name match anything? This is the more conservative
viewpoint, but it is not currently implemented.)</p>

<p style="margin-top: 1em">SEARCH ALGORITHMS <br>
The DICT standard specifies a few search algorithms that
must be implemented, and permits others to be supported on a
server-dependent basis. The following search strategies are
<br>
supported by this server. Note that all strategies are case
insensitive. Most ignore non-alphanumeric, non-whitespace
characters.</p>

<p style="margin-top: 1em">exact An exact match. This
algorithm uses a binary search and is one of the fastest
search algorithms available.</p>

<p style="margin-top: 1em">lev The Levenshtein algorithm
(string edit distance of one). This algorithm searches for
all words which are within an edit distance of one from the
target word. An &quot;edit&quot; <br>
means an insertion, deletion, or transposition. This is a
rapid algorithm for correcting spelling errors, since many
spelling errors are within a Levenshtein distance of <br>
one from the original word.</p>

<p style="margin-top: 1em">prefix Prefix match. This
algorithm also uses a binary search and is very fast.</p>

<p style="margin-top: 1em">nprefix <br>
Like prefix but returns the specified range of matches. For
example, when prefix strategy returns 1000 matches, you can
get only 100 ones skipping the first 800 matches. <br>
This is made by specified these limits in a query like this:
800#100#app, where 800 is skip count, 100 is a number of
matches you want to get and &quot;app&quot; is your query.
<br>
This strategy allows one to implement DICT client with fast
autocompletion (although it is not trivial) just like many
standalone dictionary programs do.</p>

<p style="margin-top: 1em">NOTE: If you access the
dictionary &quot;*&quot; (or virtual one) with nprefix
strategy, the same range is set for each database in it, but
globally for all matches found in all <br>
databases.</p>

<p style="margin-top: 1em">NOTE: In case you access
non-english dictionary the returned matches may be (and
mostly will be) NOT ordered in alphabetic order.</p>

<p style="margin-top: 1em">re POSIX 1003.2 (modern) regular
expression search. Modern regular expressions are the ones
used by egrep(1). These regular expressions allow predefined
character classes <br>
(e.g., [[:alnum:]], [[:alpha:]], [[:digit:]], and
[[:xdigit:]] are useful for this application); uses * to
match a sequence 0 or more matches of the previous atom;
uses + <br>
to match a sequence of 1 or more matches of the previous
atom; uses ? to match a sequence of 0 or 1 matches of the
previous atom; used ^ to match the beginning of a word, <br>
uses $ to match the end of a word, and allows nested
subexpression and alternation with () and |. For example,
&quot;(foo|bar)&quot; matches all words that contain either
&quot;foo&quot; or <br>
&quot;bar&quot;. To match these special characters, they
must be quoted with two backslashes (due to the quoting
characteristics of the server). Warning: Regular expression
<br>
matches can take 10 to 300 times longer than substring
matches. On a busy server, with many databases, this can
required more than 5 minutes of waiting time, depending on
<br>
the complexity of the regular expression.</p>

<p style="margin-top: 1em">regexp Old (basic) regular
expressions. These regular expressions don&rsquo;t support
|, +, or ?. Groups use escaped parentheses. While modern
regular expressions are generally eas&acirc; <br>
ier to use, basic regular expressions have a back reference
feature. This can be used to match a second occurrence of
something that was already matched. For example, <br>
the following expression finds all words that begin and end
with the same three letters: <br>
^\(...\).*\1$</p>

<p style="margin-top: 1em">Note the use of the double
backslashes to escape the special characters. This is
required by the DICT protocol string specification (a single
backslash quotes the next <br>
character -- we use two to get a single backslash through to
the regular expression engine). Warning: Note that the use
of backtracking is even slower than the use of <br>
general regular expressions.</p>

<p style="margin-top: 1em">soundex <br>
The Soundex algorithm, a classic algorithm for finding words
that sound similar to each other. The algorithm encodes each
word using the first letter of the word and up <br>
to three digits. Since the first letter is known, this
search is relatively fast, and it sometimes good for
correcting spelling errors when the Levenshtein algorithm
<br>
doesn&rsquo;t help.</p>

<p style="margin-top: 1em">substring <br>
Match a substring anywhere in the headword. This search
strategy uses a modified Boyer-Moore-Horspool algorithm.
Since it must search the whole index file, it is not as <br>
fast as the exact and prefix matches.</p>

<p style="margin-top: 1em">suffix Suffix match. This search
strategy also uses a modified Boyer-Moore-Horspool
algorithm, and is as fast as the substring search. If the
optional index_suffix string file <br>
is listed in the configuration file this search is much
faster.</p>

<p style="margin-top: 1em">word Match any single word, even
if part of a multi-word entry. If the optional index_word
string file is listed in the configuration file this search
strategy works much <br>
faster.</p>

<p style="margin-top: 1em">first Match the first word that
begins a multi-word entry.</p>

<p style="margin-top: 1em">last Match the last word that
ends a multi-word entry. If the optional index_suffix string
file is listed in the configuration file this search
strategy works much faster.</p>

<p style="margin-top: 1em">DATABASE FORMAT <br>
Databases for dictd are distributed separately. A database
consists of two files. One is a flat text file, the other is
the index.</p>

<p style="margin-top: 1em">The flat text file contains
dictionary entries (or any other suitable data), and the
index contains tab-delimited tuples consisting of the
headword, the byte offset at which this <br>
entry begins in the flat text file, and the length of the
entry in bytes. The offset and length are encoded using base
64 encoding using the 64-character subset of International
<br>
Alphabet IA5 discussed in RFC 1421 (printable encoding) and
RFC 1522 (base64 MIME). Encoding the offsets in base 64
saves considerable space when compared with the usual base
10 <br>
encoding, while still permitting tab characters (ASCII 9) to
be used for delimiting fields in a record. Each record ends
with a newline (ASCII 10), so the index file is human <br>
readable.</p>

<p style="margin-top: 1em">Some headwords are used by dictd
especially</p>

<p style="margin-top: 1em">00-database-info Contains the
information about database which is returned by SHOW INFO
command, unless it is specified in the configuration
file.</p>

<p style="margin-top: 1em">00-database-short Contains the
short name of the database which is returned by SHOW DB
command, unless it is specified in the configuration file.
See dictfmt -s.</p>

<p style="margin-top: 1em">00-database-url URL where
original dictionary sources were obtained from. See dictfmt
-u. This headword is not used by dictd</p>

<p style="margin-top: 1em">00-database-utf8 Presents if
dictionary is encoded using UTF-8. See dictfmt --utf8</p>

<p style="margin-top: 1em">00-database-8bit-new Presents if
dictionary is encoded using 8-BIT character set (not ASCII
and not UTF8). See dictfmt --locale.</p>

<p style="margin-top: 1em">The flat text file may be
compressed using gzip(1) (not recommended) or dictzip(1)
(highly recommended). Optimal speed will be obtained using
an uncompressed file. However, the <br>
gzip compression algorithm works very well on plain text,
and can result in space savings typically between 60 and
80%. Using a file compressed with gzip(1) is not
recommended, <br>
however, because random access on the file can only be
accomplished by serially decompressing the whole file, a
process which is prohibitively slow. dictzip(1) uses the
same <br>
compression algorithm and file format as does gzip(1), but
provides a table that can be used to randomly access
compressed blocks in the file. The use of 50-64kB blocks for
com&acirc; <br>
pression typically degrades compression by less than 10%,
while maintaining acceptable random access capabilities for
all data in the file. As an added benefit, files compressed
<br>
with dictzip(1) can be decompressed with gzip(1) or zcat(1).
(Note: recompressing a dictzip&rsquo;d file using, for
example, znew(1) will destroy the random access
characteristics of <br>
the file. Always compress data files using dictzip(1).)</p>

<p style="margin-top: 1em">SIGNALS <br>
SIGHUP causes dictd to reread configuration file and
reinitialize databases.</p>

<p style="margin-top: 1em">SIGUSR1 causes dictd to unload
databases. Then dictd returns 420 status (instead of 220).
To load databases again, send SIGHUP signal. Because
database files are mmap&rsquo;ed(2) , it <br>
is impossible to update them while dictd is running. So, if
you need to update database files and reread configuration
file, first, send SIGUSR1 signal to dictd to unload
data&acirc; <br>
bases, update files, and then send SUGHUP signal to load
them again.</p>

<p style="margin-top: 1em">COPYING <br>
The main source files for the dictd server and the dictzip
compression program were written by Rik Faith
(faith@dict.org) and are distributed under the terms of the
GNU General <br>
Public License. If you need to distribute under other terms,
write to the author.</p>

<p style="margin-top: 1em">The main libraries used by these
programs (zlib, regex, libmaa) are distributed under
different terms, so you may be able to use the libraries for
applications which are incom&acirc; <br>
patible with the GPL -- please see the copyright notices and
license information that come with the libraries for more
information, and consult with your attorney to resolve <br>
these issues.</p>

<p style="margin-top: 1em">BUGS <br>
The regular expression searches do not ignore
non-whitespace, non-alphanumeric characters as do the other
searches. In practice, this isn&rsquo;t much of a
problem.</p>

<p style="margin-top: 1em">WARNINGS <br>
Conformance of regular expressions (used by &rsquo;re&rsquo;
and &rsquo;regexp&rsquo; search strategies) to ERE and BRE
depends on library you build dictd with. Whether
&rsquo;re&rsquo; and &rsquo;regex&rsquo; strategies
sup&acirc; <br>
port utf8 depends on library you build dictd with.</p>

<p style="margin-top: 1em">FILES <br>
/etc/dictd/dictd.conf <br>
dictd configuration file</p>

<p style="margin-top: 1em">/usr/sbin/dictd <br>
dictd daemon itself</p>

<p style="margin-top: 1em">/var/run/dictd.pid <br>
File for storing pid of dictd daemon</p>

<p style="margin-top: 1em">/usr/share/dictd <br>
The default directory for dictd databases (.index and
.dict[.dz] files)</p>

<p style="margin-top: 1em">SEE ALSO <br>
examples/dictd*.conf, dictfmt(1), dict(1), dictzip(1),
gunzip(1), zcat(1), webster(1), RFC 2229</p>

<p style="margin-top: 1em">29 March 2002 DICTD(8)</p>
<hr>
</body>
</html>
