<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DOWNTIMED(8) System Manager&rsquo;s Manual
DOWNTIMED(8)</p>

<p style="margin-top: 1em">NAME <br>
downtimed - system downtime monitoring and reporting
daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
downtimed [-D] [-d datadir] [-F] [-f timefmt] [-l log] [-p
pidfile] [-S] [-s sleep] <br>
downtimed -v</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The downtimed daemon waits in the background, frequently
updating a time stamp file on the disk. If the daemon is
killed with a signal associated with a normal system
shutdown <br>
procedure, it records the shutdown time on the disk.</p>

<p style="margin-top: 1em">When the daemon is restarted
during the next boot process, it reports how long the system
was down and whether it was properly shut down or crashed.
The downtime report is output <br>
to the system log or to a specified log file. Also a record
is appended to the downtime database.</p>

<p style="margin-top: 1em">OPTIONS <br>
-D Do not create nor update the downtime database.</p>

<p style="margin-top: 1em">-d datadir <br>
The directory where the time stamp files as well as the
downtime database are located. The default directory is
determined at compile time.</p>

<p style="margin-top: 1em">-F Do not call daemon(3) to
fork(2) to background. Useful with modern system service
managers such as systemd(8), launchd(8) and others.</p>

<p style="margin-top: 1em">-f timefmt <br>
Specify the time and date format to use when reporting using
strftime(3) syntax. The default is &quot;%F %T&quot;.</p>

<p style="margin-top: 1em">-l log Logging destination. If
the argument contains a slash (/) it is interpreted to be a
path name to a log file, which will be created if it does
not exist already. Otherwise <br>
it is interpreted as a syslog facility name. The default
logging destination is &quot;daemon&quot; which means that
the messages are written to syslog with the daemon facility
code.</p>

<p style="margin-top: 1em">-p pidfile <br>
The location of the file which keeps track of the process ID
of the running daemon process. The system default location
is determined at compile time. May be disabled by <br>
specifying &quot;none&quot;.</p>

<p style="margin-top: 1em">-S Normally fsync(2) is
performed after each update of the time stamp. This option
disables the fsync(2). It reduces the load on the disk
system but makes the downtime mea&acirc; <br>
surement less reliable.</p>

<p style="margin-top: 1em">-s sleep <br>
Defines how long to sleep between each update of the on-disk
time stamp file. More frequent updates result in more
accurate downtime reporting in the case of a system <br>
crash. Less frequent updates decrease the amount of disk
writes performed. The default is to sleep 15 seconds between
each update. If you are using a flash memory based <br>
SSD or other disk which has limited amount of write cycles
per block, it might be a good idea to set the sleep time to
a higher value to prolong the lifetime of the stor&acirc;
<br>
age device.</p>

<p style="margin-top: 1em">-v Display the program version
number, copyright message and the default settings.</p>

<p style="margin-top: 1em">SIGNALS <br>
SIGHUP Close and re-open the output log. Use in case you
want to rotate the log file.</p>

<p style="margin-top: 1em">SIGTERM and SIGINT <br>
Terminate gracefully. These signals signify that a graceful
system shutdown is in process.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The daemon exits 0 on success, and &gt;0 if an error
occurs.</p>

<p style="margin-top: 1em">SEE ALSO <br>
downtimes(1), syslog.conf(5),
https://dist.epipe.com/downtimed/</p>

<p style="margin-top: 1em">BUGS <br>
The reporting accuracy in case of a system crash depends on
how often the time stamp is updated.</p>

<p style="margin-top: 1em">Finding out the system startup
time is very operating system specific. If the program does
not have specific code to support your operating system, it
assumes that the system <br>
started when the daemon started.</p>

<p style="margin-top: 1em">Reporting is inaccurate if the
system clock changes during system downtime or startup
process. Daylight saving time changes have no effect as all
calculations are done using UTC.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2009-2016 Janne Snabb. All rights
reserved.</p>

<p style="margin-top: 1em">Redistribution and use in source
and binary forms, with or without modification, are
permitted provided that the following conditions are
met:</p>

<p style="margin-top: 1em">1. Redistributions of source
code must retain the above copyright notice, this list of
conditions and the following disclaimer.</p>

<p style="margin-top: 1em">2. Redistributions in binary
form must reproduce the above copyright notice, this list of
conditions and the following disclaimer in the documentation
and/or other materials pro&acirc; <br>
vided with the distribution.</p>

<p style="margin-top: 1em">THIS SOFTWARE IS PROVIDED BY THE
AUTHOR AND CONTRIBUTORS &lsquo;&lsquo;AS IS&rsquo;&rsquo;
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY <br>
AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSE&acirc; <br>
QUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
<br>
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
<br>
POSSIBILITY OF SUCH DAMAGE.</p>

<p style="margin-top: 1em">version 1.0 2016-05-24
DOWNTIMED(8)</p>
<hr>
</body>
</html>
