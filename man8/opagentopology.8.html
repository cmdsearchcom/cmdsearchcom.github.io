<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">opagentopology(8) Master map:
IFSFFCLIRG (Man Page) opagentopology(8)</p>

<p style="margin-top: 1em">NAME <br>
opagentopology</p>

<p style="margin-top: 1em">Generates sample topology
verification XML. Provides an example of using
opaxmlgenerate and is a prototype for customization.</p>

<p style="margin-top: 1em">Uses CSV input files
opatopology_links.txt, opatopology_FIs.txt, and
opatopology_SWs.txt to generate LinkSummary, Node FIs, and
Node SWs information respectively. These files are <br>
samples of what might be produced as part of translating a
user custom file format into temporary intermediate CSV
files.</p>

<p style="margin-top: 1em">LinkSummary information includes
Link, Cable, and Port information. Note that opagentopology
(not opaxmlgenerate) generates the XML version string as
well as the #8217lt;Topol&acirc; <br>
ogy&gt; and &lt;LinkSummary&gt; lines. Also note that the
indent level is at the default value of zero (0). The
portions of the script that call opaxmlgenerate follow:</p>

<p style="margin-top: 1em">opaxmlgenerate -X
/usr/lib/opa-ff/samples/opatopology_1.txt -d ; -h Link -g
Rate -g <br>
Rate_Int -g MTU -g LinkDetails -h Cable -g CableLength -g
CableLabel -g <br>
CableDetails -e Cable -h Port -g NodeGUID -g PortNum -g
NodeDesc -g PortGUID -g <br>
NodeType -g NodeType_Int -g PortDetails -e Port -h Port -g
NodeGUID -g PortNum -g <br>
NodeDesc -g PortGUID -g NodeType -g NodeType_Int -g
PortDetails -e Port -e Link</p>

<p style="margin-top: 1em">opaxmlgenerate -X
/usr/lib/opa-ff/samples/opatopology_2.txt -d ; -h Node -g
NodeGUID -g <br>
NodeDesc -g NodeDetails -g HostName -g NodeType -g
NodeType_Int -g NumPorts -e Node</p>

<p style="margin-top: 1em">opatopology_links.txt <br>
This file can be found in /usr/lib/opa-ff/samples/ . For
brevity, this sample shows only two links. The second link
shows an example of omitting some information. In the second
<br>
line, the MTU, LinkDetails, and other fields are not
present, which is indicated by an empty value for the field
(no entry between the semicolon delimiters).</p>

<p style="margin-top: 1em">NOTE: The following example
exceeds the available width of the page. For readability, a
blank line is shown between lines to make it clear where the
line ends. In an actual link <br>
file, no blank lines are used.</p>

<p style="margin-top: 1em">25g;2048;0;IO Server
Link;11m;S4567;cable model 456;0x0002c9020020e004;1;bender
HFI-1;0x0002c9020020e004;FI;Some info about
port;0x0011750007000df6;7;Switch 1234 Leaf 4;;SW; <br>
25g;;0;;;;;0x0002c9020025a678;1;mindy2
HFI-1;;FI;;0x0011750007000e6d;4;Switch 2345 Leaf 5;;SW;</p>

<p style="margin-top: 1em">opatopology_FIs.txt <br>
This file can be found in /usr/lib/opa-ff/samples/ . For
brevity, this sample shows only two nodes.</p>

<p style="margin-top: 1em">0x0002c9020020e004;bender
HFI-1;More details about node <br>
0x0002c9020025a678;mindy2 HFI-1;Node details</p>

<p style="margin-top: 1em">opatopology_SWs.txt <br>
This file can be found in /usr/lib/opa-ff/samples/ . For
brevity, this sample shows only two nodes.</p>

<p style="margin-top: 1em">0x0011750007000df6;Switch 1234
Leaf 4; 0x0011750007000e6d;Switch 2345 Leaf 5;</p>

<p style="margin-top: 1em">opatopology_SMs.txt <br>
This file can be found in /usr/lib/opa-ff/samples/ . For
brevity, this sample shows only one node.</p>

<p style="margin-top: 1em">0x0002c9020025a678;1;mindy2
HFI-1;0x0011750007000e6d;FI;details about SM</p>

<p style="margin-top: 1em">Example <br>
When run against the supplied topology input files,
opagentopology produces:</p>

<p style="margin-top: 1em">#8217lt;?xml
version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
<br>
#8217lt;Topology&gt; <br>
#8217lt;LinkSummary&gt; <br>
#8217lt;Link&gt; <br>
#8217lt;Rate&gt;25g&lt;/Rate&gt; <br>
#8217lt;MTU&gt;2048&lt;/MTU&gt; <br>
#8217lt;Internal&gt;0&lt;/Internal&gt; <br>
#8217lt;LinkDetails&gt;IO Server Link&lt;/LinkDetails&gt;
<br>
#8217lt;Cable&gt; <br>
#8217lt;CableLength&gt;11m&lt;/CableLength&gt; <br>
#8217lt;CableLabel&gt;S4567&lt;/CableLabel&gt; <br>
#8217lt;CableDetails&gt;cable model 456&lt;/CableDetails&gt;
<br>
#8217lt;/Cable&gt; <br>
#8217lt;Port&gt; <br>
#8217lt;NodeGUID&gt;0x0002c9020020e004&lt;/NodeGUID&gt; <br>
#8217lt;PortNum&gt;1&lt;/PortNum&gt; <br>
#8217lt;NodeDesc&gt;bender HFI-1&lt;/NodeDesc&gt; <br>
#8217lt;PortGUID&gt;0x0002c9020020e004&lt;/PortGUID&gt; <br>
#8217lt;NodeType&gt;FI&lt;/NodeType&gt; <br>
#8217lt;PortDetails&gt;Some info about
port&lt;/PortDetails&gt; <br>
#8217lt;/Port&gt; <br>
#8217lt;Port&gt; <br>
#8217lt;NodeGUID&gt;0x0011750007000df6&lt;/NodeGUID&gt; <br>
#8217lt;PortNum&gt;7&lt;/PortNum&gt; <br>
#8217lt;NodeDesc&gt;Switch 1234 Leaf 4&lt;/NodeDesc&gt; <br>
#8217lt;NodeType&gt;SW&lt;/NodeType&gt; <br>
#8217lt;/Port&gt; <br>
#8217lt;/Link&gt; <br>
#8217lt;Link&gt; <br>
#8217lt;Rate&gt;25g&lt;/Rate&gt; <br>
#8217lt;Internal&gt;0&lt;/Internal&gt; <br>
#8217lt;Cable&gt; <br>
#8217lt;/Cable&gt; <br>
#8217lt;Port&gt; <br>
#8217lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt; <br>
#8217lt;PortNum&gt;1&lt;/PortNum&gt; <br>
#8217lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt; <br>
#8217lt;NodeType&gt;FI&lt;/NodeType&gt; <br>
#8217lt;/Port&gt; <br>
#8217lt;Port&gt; <br>
#8217lt;NodeGUID&gt;0x0011750007000e6d&lt;/NodeGUID&gt; <br>
#8217lt;PortNum&gt;4&lt;/PortNum&gt; <br>
#8217lt;NodeDesc&gt;Switch 2345 Leaf 5&lt;/NodeDesc&gt; <br>
#8217lt;NodeType&gt;SW&lt;/NodeType&gt; <br>
#8217lt;/Port&gt; <br>
#8217lt;/Link&gt; <br>
#8217lt;/LinkSummary&gt; <br>
#8217lt;Nodes&gt; <br>
#8217lt;FIs&gt; <br>
#8217lt;Node&gt; <br>
#8217lt;NodeGUID&gt;0x0002c9020020e004&lt;/NodeGUID&gt; <br>
#8217lt;NodeDesc&gt;bender HFI-1&lt;/NodeDesc&gt; <br>
#8217lt;NodeDetails&gt;More details about
node&lt;/NodeDetails&gt; <br>
#8217lt;/Node&gt; <br>
#8217lt;Node&gt; <br>
#8217lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt; <br>
#8217lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt; <br>
#8217lt;NodeDetails&gt;Node details&lt;/NodeDetails&gt; <br>
#8217lt;/Node&gt; <br>
#8217lt;/FIs&gt; <br>
#8217lt;Switches&gt; <br>
#8217lt;Node&gt; <br>
#8217lt;NodeGUID&gt;0x0011750007000df6&lt;/NodeGUID&gt; <br>
#8217lt;NodeDesc&gt;Switch 1234 Leaf 4&lt;/NodeDesc&gt; <br>
#8217lt;/Node&gt; <br>
#8217lt;Node&gt; <br>
#8217lt;NodeGUID&gt;0x0011750007000e6d&lt;/NodeGUID&gt; <br>
#8217lt;NodeDesc&gt;Switch 2345 Leaf 5&lt;/NodeDesc&gt; <br>
#8217lt;/Node&gt; <br>
#8217lt;/Switches&gt; <br>
#8217lt;SMs&gt; <br>
#8217lt;SM&gt; <br>
#8217lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt; <br>
#8217lt;PortNum&gt;1&lt;/PortNum&gt; <br>
#8217lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt; <br>
#8217lt;PortGUID&gt;0x0011750007000e6d&lt;/PortGUID&gt; <br>
#8217lt;NodeType&gt;FI&lt;/NodeType&gt; <br>
#8217lt;SMDetails&gt;details about SM&lt;/SMDetails&gt; <br>
#8217lt;/SM&gt; <br>
#8217lt;/SMs&gt; <br>
#8217lt;/Nodes&gt; <br>
#8217lt;/Topology&gt;</p>

<p style="margin-top: 1em">Copyright(C) 2015-2016 Intel
Corporation opagentopology(8)</p>
<hr>
</body>
</html>
