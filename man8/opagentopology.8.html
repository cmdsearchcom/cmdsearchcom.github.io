<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opagentopology(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opagentopology(8)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opagentopology(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opagentopology
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Generates sample topology verification XML. Provides an example of using
  opaxmlgenerate and is a prototype for customization.
<div class="Pp"></div>
Uses CSV input files opatopology_links.txt, opatopology_FIs.txt, and
  opatopology_SWs.txt to generate LinkSummary, Node FIs, and Node SWs
  information respectively. These files are samples of what might be produced as
  part of translating a user custom file format into temporary intermediate CSV
  files.
<div class="Pp"></div>
LinkSummary information includes Link, Cable, and Port information. Note that
  opagentopology (not opaxmlgenerate) generates the XML version string as well
  as the #8217lt;Topology&gt; and &lt;LinkSummary&gt; lines. Also note that the
  indent level is at the default value of zero (0). The portions of the script
  that call opaxmlgenerate follow:
<div class="Pp"></div>
opaxmlgenerate -X /usr/lib/opa-ff/samples/opatopology_1.txt -d ; -h Link -g Rate
  -g
<div>&#x00A0;</div>
Rate_Int -g MTU -g LinkDetails -h Cable -g CableLength -g CableLabel -g
<div>&#x00A0;</div>
CableDetails -e Cable -h Port -g NodeGUID -g PortNum -g NodeDesc -g PortGUID -g
<div>&#x00A0;</div>
NodeType -g NodeType_Int -g PortDetails -e Port -h Port -g NodeGUID -g PortNum
  -g
<div>&#x00A0;</div>
NodeDesc -g PortGUID -g NodeType -g NodeType_Int -g PortDetails -e Port -e Link
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
opaxmlgenerate -X /usr/lib/opa-ff/samples/opatopology_2.txt -d ; -h Node -g
  NodeGUID -g
<div>&#x00A0;</div>
NodeDesc -g NodeDetails -g HostName -g NodeType -g NodeType_Int -g NumPorts -e
  Node
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="opatopology_links.txt"><a class="selflink" href="#opatopology_links.txt">opatopology_links.txt</a></h1>
This file can be found in /usr/lib/opa-ff/samples/ . For brevity, this sample
  shows only two links. The second link shows an example of omitting some
  information. In the second line, the MTU, LinkDetails, and other fields are
  not present, which is indicated by an empty value for the field (no entry
  between the semicolon delimiters).
<div class="Pp"></div>
<b>NOTE:</b> The following example exceeds the available width of the page. For
  readability, a blank line is shown between lines to make it clear where the
  line ends. In an actual link file, no blank lines are used.
<div style="height: 1.00em;">&#x00A0;</div>
25g;2048;0;IO Server Link;11m;S4567;cable model 456;0x0002c9020020e004;1;bender
  HFI-1;0x0002c9020020e004;FI;Some info about port;0x0011750007000df6;7;Switch
  1234 Leaf 4;;SW;
<div>&#x00A0;</div>
25g;;0;;;;;0x0002c9020025a678;1;mindy2 HFI-1;;FI;;0x0011750007000e6d;4;Switch
  2345 Leaf 5;;SW;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="opatopology_FIs.txt"><a class="selflink" href="#opatopology_FIs.txt">opatopology_FIs.txt</a></h1>
This file can be found in /usr/lib/opa-ff/samples/ . For brevity, this sample
  shows only two nodes.
<div class="Pp"></div>
0x0002c9020020e004;bender HFI-1;More details about node
<div>&#x00A0;</div>
0x0002c9020025a678;mindy2 HFI-1;Node details
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="opatopology_SWs.txt"><a class="selflink" href="#opatopology_SWs.txt">opatopology_SWs.txt</a></h1>
This file can be found in /usr/lib/opa-ff/samples/ . For brevity, this sample
  shows only two nodes.
<div class="Pp"></div>
0x0011750007000df6;Switch 1234 Leaf 4; 0x0011750007000e6d;Switch 2345 Leaf 5;
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="opatopology_SMs.txt"><a class="selflink" href="#opatopology_SMs.txt">opatopology_SMs.txt</a></h1>
This file can be found in /usr/lib/opa-ff/samples/ . For brevity, this sample
  shows only one node.
<div class="Pp"></div>
0x0002c9020025a678;1;mindy2 HFI-1;0x0011750007000e6d;FI;details about SM
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Example"><a class="selflink" href="#Example">Example</a></h1>
When run against the supplied topology input files, opagentopology produces:
<div class="Pp"></div>
#8217lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
<div>&#x00A0;</div>
#8217lt;Topology&gt;
<div>&#x00A0;</div>
#8217lt;LinkSummary&gt;
<div>&#x00A0;</div>
#8217lt;Link&gt;
<div>&#x00A0;</div>
#8217lt;Rate&gt;25g&lt;/Rate&gt;
<div>&#x00A0;</div>
#8217lt;MTU&gt;2048&lt;/MTU&gt;
<div>&#x00A0;</div>
#8217lt;Internal&gt;0&lt;/Internal&gt;
<div>&#x00A0;</div>
#8217lt;LinkDetails&gt;IO Server Link&lt;/LinkDetails&gt;
<div>&#x00A0;</div>
#8217lt;Cable&gt;
<div>&#x00A0;</div>
#8217lt;CableLength&gt;11m&lt;/CableLength&gt;
<div>&#x00A0;</div>
#8217lt;CableLabel&gt;S4567&lt;/CableLabel&gt;
<div>&#x00A0;</div>
#8217lt;CableDetails&gt;cable model 456&lt;/CableDetails&gt;
<div>&#x00A0;</div>
#8217lt;/Cable&gt;
<div>&#x00A0;</div>
#8217lt;Port&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0002c9020020e004&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;PortNum&gt;1&lt;/PortNum&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;bender HFI-1&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;PortGUID&gt;0x0002c9020020e004&lt;/PortGUID&gt;
<div>&#x00A0;</div>
#8217lt;NodeType&gt;FI&lt;/NodeType&gt;
<div>&#x00A0;</div>
#8217lt;PortDetails&gt;Some info about port&lt;/PortDetails&gt;
<div>&#x00A0;</div>
#8217lt;/Port&gt;
<div>&#x00A0;</div>
#8217lt;Port&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0011750007000df6&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;PortNum&gt;7&lt;/PortNum&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;Switch 1234 Leaf 4&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;NodeType&gt;SW&lt;/NodeType&gt;
<div>&#x00A0;</div>
#8217lt;/Port&gt;
<div>&#x00A0;</div>
#8217lt;/Link&gt;
<div>&#x00A0;</div>
#8217lt;Link&gt;
<div>&#x00A0;</div>
#8217lt;Rate&gt;25g&lt;/Rate&gt;
<div>&#x00A0;</div>
#8217lt;Internal&gt;0&lt;/Internal&gt;
<div>&#x00A0;</div>
#8217lt;Cable&gt;
<div>&#x00A0;</div>
#8217lt;/Cable&gt;
<div>&#x00A0;</div>
#8217lt;Port&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;PortNum&gt;1&lt;/PortNum&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;NodeType&gt;FI&lt;/NodeType&gt;
<div>&#x00A0;</div>
#8217lt;/Port&gt;
<div>&#x00A0;</div>
#8217lt;Port&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0011750007000e6d&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;PortNum&gt;4&lt;/PortNum&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;Switch 2345 Leaf 5&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;NodeType&gt;SW&lt;/NodeType&gt;
<div>&#x00A0;</div>
#8217lt;/Port&gt;
<div>&#x00A0;</div>
#8217lt;/Link&gt;
<div>&#x00A0;</div>
#8217lt;/LinkSummary&gt;
<div>&#x00A0;</div>
#8217lt;Nodes&gt;
<div>&#x00A0;</div>
#8217lt;FIs&gt;
<div>&#x00A0;</div>
#8217lt;Node&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0002c9020020e004&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;bender HFI-1&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;NodeDetails&gt;More details about node&lt;/NodeDetails&gt;
<div>&#x00A0;</div>
#8217lt;/Node&gt;
<div>&#x00A0;</div>
#8217lt;Node&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;NodeDetails&gt;Node details&lt;/NodeDetails&gt;
<div>&#x00A0;</div>
#8217lt;/Node&gt;
<div>&#x00A0;</div>
#8217lt;/FIs&gt;
<div>&#x00A0;</div>
#8217lt;Switches&gt;
<div>&#x00A0;</div>
#8217lt;Node&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0011750007000df6&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;Switch 1234 Leaf 4&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;/Node&gt;
<div>&#x00A0;</div>
#8217lt;Node&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0011750007000e6d&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;Switch 2345 Leaf 5&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;/Node&gt;
<div>&#x00A0;</div>
#8217lt;/Switches&gt;
<div>&#x00A0;</div>
#8217lt;SMs&gt;
<div>&#x00A0;</div>
#8217lt;SM&gt;
<div>&#x00A0;</div>
#8217lt;NodeGUID&gt;0x0002c9020025a678&lt;/NodeGUID&gt;
<div>&#x00A0;</div>
#8217lt;PortNum&gt;1&lt;/PortNum&gt;
<div>&#x00A0;</div>
#8217lt;NodeDesc&gt;mindy2 HFI-1&lt;/NodeDesc&gt;
<div>&#x00A0;</div>
#8217lt;PortGUID&gt;0x0011750007000e6d&lt;/PortGUID&gt;
<div>&#x00A0;</div>
#8217lt;NodeType&gt;FI&lt;/NodeType&gt;
<div>&#x00A0;</div>
#8217lt;SMDetails&gt;details about SM&lt;/SMDetails&gt;
<div>&#x00A0;</div>
#8217lt;/SM&gt;
<div>&#x00A0;</div>
#8217lt;/SMs&gt;
<div>&#x00A0;</div>
#8217lt;/Nodes&gt;
<div>&#x00A0;</div>
#8217lt;/Topology&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
