<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>aprx-stat(8) System Manager&rsquo;s Manual
aprx-stat(8)</p>

<p style="margin-top: 1em">NAME <br>
aprx-stat - statistics utility for aprx(8)</p>

<p style="margin-top: 1em">SYNOPSIS <br>
aprx-stat [-t] [-f/var/run/aprx.state] {-S|-x|-X}</p>

<p style="margin-top: 1em">DESCRIPTION <br>
aprx-stat is a statistics utility for aprx(8) program.</p>

<p style="margin-top: 1em">OPTIONS <br>
The aprx-stat has following runtime options:</p>

<p style="margin-top: 1em">-f /var/run/aprx.state <br>
Turn on verbose debugging, outputs data to STDOUT.</p>

<p style="margin-top: 1em">-S SNMP data mode, current
counter and gauge values.</p>

<p style="margin-top: 1em">-t Use UNIX time_t for
timestamps, instead of human readable text format.</p>

<p style="margin-top: 1em">-x Lattest of extended
historical gauge values. This gives for each input
interface</p>

<p style="margin-top: 1em">&Acirc;&middot; SNMP data</p>

<p style="margin-top: 1em">&Acirc;&middot; last 90 of 1
minute values,</p>

<p style="margin-top: 1em">&Acirc;&middot; 10 of 10 minute
values,</p>

<p style="margin-top: 1em">&Acirc;&middot; 3 of 60 minute
values.</p>

<p style="margin-top: 1em">-X Full extended historical
gauge values. This gives all the contents of historical
value data ring-buffers.</p>

<p style="margin-top: 1em">&Acirc;&middot; SNMP data</p>

<p style="margin-top: 1em">&Acirc;&middot; 1 minute
resolution: 24 hours</p>

<p style="margin-top: 1em">&Acirc;&middot; 10 minute
resolution: 7 days</p>

<p style="margin-top: 1em">&Acirc;&middot; 60 minute
resolution: 3 months</p>

<p style="margin-top: 1em">SNMP DATA OUTPUT <br>
For each interface feeding AX.25 packets and/or KISS frames
to this program, there are following kind of <br>
SNMP /dev/ttyUSB1 798282 11088 0 0 3 <br>
SNMP ax0 798282 11088 0 0 7 <br>
SNMP ax1 798282 11088 0 0 94</p>

<p style="margin-top: 1em">where columns are:</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;SNMP&quot;
- keyword</p>

<p style="margin-top: 1em">&Acirc;&middot; Interface (AX.25
IF name, or serial port device name)</p>

<p style="margin-top: 1em">&Acirc;&middot; Received byte
counter</p>

<p style="margin-top: 1em">&Acirc;&middot; Received frame
(packet) counter</p>

<p style="margin-top: 1em">&Acirc;&middot; Dropped byte
counter</p>

<p style="margin-top: 1em">&Acirc;&middot; Dropped frame
counter</p>

<p style="margin-top: 1em">&Acirc;&middot; Age in seconds
of last update of this statistics.</p>

<p style="margin-top: 1em">EXTENDED DATA OUTPUT <br>
Extended data output gives formatted historical periodic
accumulates of interface traffic counters, and Erlang value
estimates based on that.</p>

<p style="margin-top: 1em">SNMP /dev/ttyUSB1 816675 11332 0
0 15</p>

<p style="margin-top: 1em">1min data <br>
2007-12-24 14:10 /dev/ttyUSB1 1m 374 6 0 0 0.047 0.000 <br>
2007-12-24 14:09 /dev/ttyUSB1 1m 377 5 0 0 0.047 0.000 <br>
2007-12-24 14:08 /dev/ttyUSB1 1m 347 5 0 0 0.043 0.000 <br>
2007-12-24 14:07 /dev/ttyUSB1 1m 140 2 0 0 0.018 0.000 <br>
&Acirc;&middot;&Acirc;&middot;&Acirc;&middot;</p>

<p style="margin-top: 1em">10min data <br>
2007-12-24 14:10 /dev/ttyUSB1 10m 3829 55 0 0 0.048 0.000
<br>
2007-12-24 14:00 /dev/ttyUSB1 10m 2182 28 0 0 0.027 0.000
<br>
2007-12-24 13:50 /dev/ttyUSB1 10m 3205 44 0 0 0.040 0.000
<br>
2007-12-24 13:40 /dev/ttyUSB1 10m 3811 50 0 0 0.048 0.000
<br>
&Acirc;&middot;&Acirc;&middot;&Acirc;&middot;</p>

<p style="margin-top: 1em">60min data <br>
2007-12-24 14:00 /dev/ttyUSB1 60m 22510 295 0 0 0.047 0.000
<br>
2007-12-24 13:00 /dev/ttyUSB1 60m 24886 347 0 0 0.052 0.000
<br>
&Acirc;&middot;&Acirc;&middot;&Acirc;&middot;</p>

<p style="margin-top: 1em">The output repeats for all
interfaces.</p>

<p style="margin-top: 1em">The SNMP dataset is given in the
beginning, and described above. Then each extended output
line has following fields:</p>

<p style="margin-top: 1em">&Acirc;&middot; Timestamp is two
fields, date and time (in minute resolution) is in UTC.</p>

<p style="margin-top: 1em">&Acirc;&middot; Alternate
timestamp format is UNIX time_t as an integer, counting
seconds from epoch, and as single field.</p>

<p style="margin-top: 1em">&Acirc;&middot; Interface name
is same as in SNMP case.</p>

<p style="margin-top: 1em">&Acirc;&middot; Data qualifier
tells what integration period the data is valid for: 1m,
10m, 60m.</p>

<p style="margin-top: 1em">&Acirc;&middot; Counter of
received bytes on interface (including KISS flags etc.)</p>

<p style="margin-top: 1em">&Acirc;&middot; Counter of
received frames.</p>

<p style="margin-top: 1em">&Acirc;&middot; Counter of
dropped bytes.</p>

<p style="margin-top: 1em">&Acirc;&middot; Counter of
dropped frames.</p>

<p style="margin-top: 1em">&Acirc;&middot; Reception Erlang
value estimate.</p>

<p style="margin-top: 1em">&Acirc;&middot; Dropped bytes
Erlang value estimate.</p>

<p style="margin-top: 1em">TODO BUGS SEE ALSO <br>
aprx(8)</p>

<p style="margin-top: 1em">CONFIGURATION FILE <br>
There is no configuration file.</p>

<p style="margin-top: 1em">NOTES: ERLANG <br>
The Erlang is telecom measurement of channel occupancy, and
in this application sense it does tell how much traffic
there is on the radio channel.</p>

<p style="margin-top: 1em">Most radio transmitters are not
aware of all transmitters on channel, and thus there can
happen a collision causing loss of both messages. The higher
the channel activity, the <br>
more likely that collision is. For further details, refer to
statistical mathematics books, or perhaps on Wikipedia.</p>

<p style="margin-top: 1em">In order to measure channel
activity, the aprx program suite has these built-in
statistics counter and summary estimators.</p>

<p style="margin-top: 1em">The Erlag value that the
estimators present are likely somewhat underestimating the
true channel occupancy simply because it calculates estimate
of channel bit transmit rate, and <br>
thus a per-minute character capacity. It does not know true
frequency of bit-stuffing events of the HDLC framing, nor
each transmitter pre- and port frame PTT times. The
trans&acirc; <br>
mitters need to stabilize their transmit oscillators in many
cases, which may take up to around 500 ms! The counters are
not aware of this preamble-, nor postamble-times.</p>

<p style="margin-top: 1em">The HDLC bit stuffing ratio is
guessed to be 8.2 bits for each 8 bits of payload.</p>

<p style="margin-top: 1em">NOTES: SUID ROOT <br>
This program needs probably to be run as suid-root ! It is
considered safe to do so, as this checks that the -f
parameter file is of correct &quot;magic value&quot;, and
will not try to <br>
create it if it does not exist, nor modify that file under
any circumstances, nor reveal content of &quot;wrong magic
kind&quot; of file.</p>

<p style="margin-top: 1em">AUTHOR <br>
This little piece was written by Matti Aarnio, OH2MQK during
a dark and rainy fall and winter of 2007-2008 after a number
of discussions grumbling about current breed of avail&acirc;
<br>
able software for APRS iGate use in Linux (or of any UNIX)
platforms. Fall and winter 2009-2010 saw appearance of
digipeater functionality.</p>

<p style="margin-top: 1em">Principal contributors and test
users include: Pentti Gronlund, OH3BK, Reijo Hakala, OH1GWK.
Debian packaging by Kimmo Jukarinen, OH3GNU.</p>

<p style="margin-top: 1em">2.9.0 - 2017 January 24
aprx-stat(8)</p>
<hr>
</body>
</html>
