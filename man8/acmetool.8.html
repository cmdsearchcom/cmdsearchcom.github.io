<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>acmetool(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">acmetool(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">acmetool(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
acmetool - request certificates from ACME servers automatically
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>acmetool [&lt;flags&gt;] &lt;command&gt; [&lt;args&gt;
    ...]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
acmetool is a utility for the automated retrieval, management and renewal of
  certificates from ACME server such as Let's Encrypt. It emphasises automation,
  idempotency and the minimisation of state.
<div style="height: 1.00em;">&#x00A0;</div>
You use acmetool by configuring targets (typically using the &quot;want&quot;)
  command. acmetool then requests certificates as necessary to satisfy the
  configured targets. New certificates are requested where existing ones are
  soon to expire.
<div style="height: 1.00em;">&#x00A0;</div>
acmetool stores its state in a state directory. It can be specified on
  invocation via the --state option; otherwise, the path in ACME_STATE_DIR is
  used, or, failing that, the path &quot;/var/lib/acme&quot; (recommended).
<div style="height: 1.00em;">&#x00A0;</div>
The --xlog options control the logging. The --service options control privilege
  dropping and daemonization and are applicable only to the redirector
  subcommand.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show context-sensitive help (also try --help-long and
      --help-man).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--state=/var/lib/acme</b></dt>
  <dd class="It-tag">Path to the state directory (env: ACME_STATE_DIR)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hooks=/etc/acme/hooks</b></dt>
  <dd class="It-tag">Path to the notification hooks directory (env:
      ACME_HOOKS_DIR)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--batch</b></dt>
  <dd class="It-tag">Do not attempt interaction; useful for cron jobs. (acmetool
      can still obtain responses from a response file, if one was
    provided.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--stdio</b></dt>
  <dd class="It-tag">Don't attempt to use console dialogs; fall back to stdio
      prompts</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--response-file=RESPONSE-FILE</b></dt>
  <dd class="It-tag">Read dialog responses from the given file (default:
      $ACME_STATE_DIR/conf/responses)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print version information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.facility=daemon</b></dt>
  <dd class="It-tag">Syslog facility to use</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.syslog</b></dt>
  <dd class="It-tag">Log to syslog?</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.syslogseverity=DEBUG</b></dt>
  <dd class="It-tag">Syslog severity limit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.journal</b></dt>
  <dd class="It-tag">Log to systemd journal?</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.journalseverity=DEBUG</b></dt>
  <dd class="It-tag">Systemd journal severity limit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.severity=NOTICE</b></dt>
  <dd class="It-tag">Log severity (any syslog severity name or number)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.file=&quot;&quot;</b></dt>
  <dd class="It-tag">Log to filename</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.fileseverity=TRACE</b></dt>
  <dd class="It-tag">File logging severity limit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.stderr</b></dt>
  <dd class="It-tag">Log to stderr?</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xlog.stderrseverity=TRACE</b></dt>
  <dd class="It-tag">stderr logging severity limit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.cpuprofile=&quot;&quot;</b></dt>
  <dd class="It-tag">Write CPU profile to file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.debugserveraddr=&quot;&quot;</b></dt>
  <dd class="It-tag">Address for debug server to listen on (do not specify a
      public address) (default: disabled)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.uid=&quot;&quot;</b></dt>
  <dd class="It-tag">UID to run as (default: don't drop privileges)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.gid=&quot;&quot;</b></dt>
  <dd class="It-tag">GID to run as (default: don't drop privileges)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.daemon</b></dt>
  <dd class="It-tag">Run as daemon? (doesn't fork)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.stderr</b></dt>
  <dd class="It-tag">Keep stderr open when daemonizing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.chroot=&quot;&quot;</b></dt>
  <dd class="It-tag">Chroot to a directory (must set UID, GID) (&quot;/&quot;
      disables)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.pidfile=&quot;&quot;</b></dt>
  <dd class="It-tag">Write PID to file with given filename and hold a write
    lock</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--service.fork</b></dt>
  <dd class="It-tag">Fork? (implies -daemon)</dd>
</dl>
<h1 class="Sh" title="Sh" id="SUBCOMMANDS"><a class="selflink" href="#SUBCOMMANDS">SUBCOMMANDS</a></h1>
<h2 class="Ss" title="Ss" id="help_[&lt;command&gt;...]"><a class="selflink" href="#help_[&lt;command&gt;...]"><b>help
  [&lt;command&gt;...]</b></a></h2>
Show help.
<h2 class="Ss" title="Ss" id="reconcile"><a class="selflink" href="#reconcile"><b>reconcile</b></a></h2>
Reconcile ACME state, idempotently requesting and renewing certificates to
  satisfy configured targets.
<div style="height: 1.00em;">&#x00A0;</div>
This is the default command.
<h2 class="Ss" title="Ss" id="cull_[&lt;flags&gt;]"><a class="selflink" href="#cull_[&lt;flags&gt;]"><b>cull
  [&lt;flags&gt;]</b></a></h2>
Delete expired, unused certificates
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --simulate</b></dt>
  <dd class="It-tag">Show which certificates would be deleted without deleting
      any</dd>
</dl>
<h2 class="Ss" title="Ss" id="status"><a class="selflink" href="#status"><b>status</b></a></h2>
Show active configuration
<h2 class="Ss" title="Ss" id="want_[&lt;flags&gt;]_&lt;hostname&gt;..."><a class="selflink" href="#want_[&lt;flags&gt;]_&lt;hostname&gt;..."><b>want
  [&lt;flags&gt;] &lt;hostname&gt;...</b></a></h2>
Add a target with one or more hostnames
<dl class="Bl-tag">
  <dt class="It-tag"><b>--reconcile</b></dt>
  <dd class="It-tag">Specify --no-reconcile to skip reconcile after adding
      target</dd>
</dl>
<h2 class="Ss" title="Ss" id="unwant_&lt;hostname&gt;..."><a class="selflink" href="#unwant_&lt;hostname&gt;..."><b>unwant
  &lt;hostname&gt;...</b></a></h2>
Modify targets to remove any mentions of the given hostnames
<h2 class="Ss" title="Ss" id="quickstart_[&lt;flags&gt;]"><a class="selflink" href="#quickstart_[&lt;flags&gt;]"><b>quickstart
  [&lt;flags&gt;]</b></a></h2>
Interactively ask some getting started questions (recommended)
<dl class="Bl-tag">
  <dt class="It-tag"><b>--expert</b></dt>
  <dd class="It-tag">Ask more questions in quickstart wizard</dd>
</dl>
<h2 class="Ss" title="Ss" id="redirector_[&lt;flags&gt;]"><a class="selflink" href="#redirector_[&lt;flags&gt;]"><b>redirector
  [&lt;flags&gt;]</b></a></h2>
HTTP to HTTPS redirector with challenge response support
<dl class="Bl-tag">
  <dt class="It-tag"><b>--path=PATH</b></dt>
  <dd class="It-tag">Path to serve challenge files from</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--challenge-gid=CHALLENGE-GID</b></dt>
  <dd class="It-tag">GID to chgrp the challenge path to (optional)</dd>
</dl>
<h2 class="Ss" title="Ss" id="test-notify_[&lt;hostname&gt;...]"><a class="selflink" href="#test-notify_[&lt;hostname&gt;...]"><b>test-notify
  [&lt;hostname&gt;...]</b></a></h2>
Test-execute notification hooks as though given hostnames were updated
<h2 class="Ss" title="Ss" id="import-jwk-account_&lt;provider-url&gt;_&lt;private-key-file&gt;"><a class="selflink" href="#import-jwk-account_&lt;provider-url&gt;_&lt;private-key-file&gt;"><b>import-jwk-account
  &lt;provider-url&gt; &lt;private-key-file&gt;</b></a></h2>
Import a JWK account key
<h2 class="Ss" title="Ss" id="import-pem-account_&lt;provider-url&gt;_&lt;private-key-file&gt;"><a class="selflink" href="#import-pem-account_&lt;provider-url&gt;_&lt;private-key-file&gt;"><b>import-pem-account
  &lt;provider-url&gt; &lt;private-key-file&gt;</b></a></h2>
Import a PEM account key
<h2 class="Ss" title="Ss" id="import-key_&lt;private-key-file&gt;"><a class="selflink" href="#import-key_&lt;private-key-file&gt;"><b>import-key
  &lt;private-key-file&gt;</b></a></h2>
Import a certificate private key
<h2 class="Ss" title="Ss" id="import-le_[&lt;le-state-path*&gt;]"><a class="selflink" href="#import-le_[&lt;le-state-path*&gt;]"><b>import-le
  [&lt;le-state-path*&gt;]</b></a></h2>
Import a Let's Encrypt client state directory
<h2 class="Ss" title="Ss" id="revoke_[&lt;certificate-id-or-path&gt;]"><a class="selflink" href="#revoke_[&lt;certificate-id-or-path&gt;]"><b>revoke
  [&lt;certificate-id-or-path&gt;]</b></a></h2>
Revoke a certificate
<h2 class="Ss" title="Ss" id="account-thumbprint"><a class="selflink" href="#account-thumbprint"><b>account-thumbprint</b></a></h2>
Prints account thumbprints
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
&#x00A9; 2015 Hugo Landau &lt;hlandau@devever.net&gt; MIT License
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Documentation: &lt;https://github.com/hlandau/acme&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Report bugs at: &lt;https://github.com/hlandau/acme/issues&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">acmetool</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
