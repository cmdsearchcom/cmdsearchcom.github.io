<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:24 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>IPSEC_RANBITS(8) Executable programs
IPSEC_RANBITS(8)</p>

<p style="margin-top: 1em">NAME <br>
ipsec_newhostkey - generate a new raw RSA authentication key
for a host</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ipsec newhostkey [[--configdirnssdbdir] | [--password
password]] [[--quiet] | [--verbose]] [--bits bits]
[--seeddev device] [--hostname hostname] [--output
filename]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
newhostkey outputs (into filename, which can be
&rsquo;-&rsquo; for standard output) an RSA private key
suitable for this host, in /etc/ipsec.secrets format (see
ipsec.secrets(5)) using the <br>
--quiet option per default.</p>

<p style="margin-top: 1em">The --output option is
mandatory. The specified filename is created under umask 077
if nonexistent; if it already exists and is non-empty, a
warning message about that is sent to <br>
standard error, and the output is appended to the file.</p>

<p style="margin-top: 1em">The --quiet option suppresses
both the rsasigkey narrative and the existing-file warning
message.</p>

<p style="margin-top: 1em">When compiled with NSS support
(the default), --configdir specifies the nss configuration
directory where the certificate key, and modsec databases
reside. There is no default <br>
value, though /etc/ipsec.d might be sensible choice.</p>

<p style="margin-top: 1em">When compiled with NSS support
(the default), --password specifies a module authentication
password that may be required if FIPS mode is enabled</p>

<p style="margin-top: 1em">The --bits option specifies the
number of bits in the RSA key; the current default is a
random (multiple of 16) value between 3072 and 4096. The
minimum allowed is 2192.</p>

<p style="margin-top: 1em">The --seeddev is used to specify
the random device (default /dev/random used to seed the
crypto library RNG.</p>

<p style="margin-top: 1em">The --hostname option is passed
through to rsasigkey to tell it what host name to label the
output with (via its --hostname option).</p>

<p style="margin-top: 1em">The output format is that of
rsasigkey, with bracketing added to complete the
ipsec.secrets format. In the usual case, where ipsec.secrets
contains only the host&Atilde;&cent;s own private <br>
key, the output of newhostkey is sufficient as a complete
ipsec.secrets file.</p>

<p style="margin-top: 1em">FILES <br>
/dev/random, /dev/urandom</p>

<p style="margin-top: 1em">SEE ALSO <br>
ipsec_rsasigkey(8), ipsec.secrets(5)</p>

<p style="margin-top: 1em">HISTORY <br>
Originally written for the Linux FreeS/WAN project
&lt;http://www.freeswan.org&gt; by Henry Spencer. Updated by
Paul Wouters</p>

<p style="margin-top: 1em">BUGS <br>
As with rsasigkey, the run time is difficult to predict,
since depletion of the system&Atilde;&cent;s randomness pool
can cause arbitrarily long waits for random bits for seeding
the NSS <br>
library, and the prime-number searches can also take
unpredictable (and potentially large) amounts of CPU time.
See ipsec_rsasigkey(8) .</p>

<p style="margin-top: 1em">A higher-level tool which could
handle the clerical details of changing to a new key would
be helpful.</p>

<p style="margin-top: 1em">AUTHOR <br>
Paul Wouters <br>
placeholder to suppress warning</p>

<p style="margin-top: 1em">libreswan 11/12/2016
IPSEC_RANBITS(8)</p>
<hr>
</body>
</html>
