<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opaesmanalysis(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opaesmanalysis(8)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opaesmanalysis(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opaesmanalysis
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>(Switch)</b> Performs analysis of the embedded Subnet Manager (SM) for
  configuration and health. The opaesmanalysis tool checks the opafm.xml file
  for the chassis.
<div class="Pp"></div>
All files generated by opaesmanalysis start with esm in the file name.
<div class="Pp"></div>
Intel recommends that you set up SSH keys for chassis (see <i>opasetupssh</i> ).
  If SSH keys are not set up, all chassis must be configured with the same admin
  password and the password must be kept in the opafastfabric.conf configuration
  file.
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
opaesmanalysis [-b|-e] [-s] [-d <i>dir</i>] [-G <i>esmchassisfile</i>]
  [-E#8217#160;' <i>esmchassis</i>']
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--help</dt>
  <dd class="It-tag">Produces full help text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-b</dt>
  <dd class="It-tag">Baseline mode. Default is the compare/check mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-e</dt>
  <dd class="It-tag">Evaluates health only. Default is the compare/check
    mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">Saves history of failures (errors/differences).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d <i>dir</i></dt>
  <dd class="It-tag">Top-level directory for saving baseline and history of
      failed checks. Default = /var/lib/opa-ff/analysis</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-G <i>esmchassisfile</i></dt>
  <dd class="It-tag">File with SM chassis in the cluster. Default =
      /etc/sysconfig/opa/esm_chassis</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-E '<i>esmchassis</i>'</dt>
  <dd class="It-tag">List of SM chassis on which to execute the command.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Example"><a class="selflink" href="#Example">Example</a></h1>
opaesmanalysis
<h1 class="Sh" title="Sh" id="Environment_Variables"><a class="selflink" href="#Environment_Variables">Environment
  Variables</a></h1>
The following environment variables are also used by this command:
<dl class="Bl-tag">
  <dt class="It-tag"><b>ESM_CHASSIS</b></dt>
  <dd class="It-tag">List of SM chassis, used if -G and -E options are not
      supplied.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ESM_CHASSIS_FILE</b></dt>
  <dd class="It-tag">File containing list of SM chassis, used if -G and -E
      options are not supplied.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FF_ANALYSIS_DIR</b></dt>
  <dd class="It-tag">Top-level directory for baselines and failed health
    checks.</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
