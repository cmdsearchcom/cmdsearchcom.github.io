<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>lrbd(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">lrbd(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">lrbd(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
lrbd - configures iSCSI access to Ceph rbd images
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>lrbd [OPTION]</b> <b>...</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>lrbd</b> without any options will read the configuration from Ceph and apply
  the changes to the host. The configuration is detailed in <b>lrbd.conf</b>(5).
  Changes are executed via <b>targetcli</b>(8).
<div style="height: 1.00em;">&#x00A0;</div>
The options are as follows:
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-e, --edit
<div style="margin-left: 4.00ex;">edit the global configuration. If the EDITOR
  environment variable is set, uses the specified editor.</div>
<div class="Pp"></div>
-E editor, --edit editor
<div style="margin-left: 4.00ex;">edit the global configuration with the program
  specified.</div>
<div class="Pp"></div>
-c name, --config name
<div style="margin-left: 4.00ex;">sets the object name in Ceph to name. The
  default is <i>lrbd.conf</i></div>
<div class="Pp"></div>
--ceph ceph
<div style="margin-left: 4.00ex;">set the Ceph configuration file. The default
  is /etc/ceph/ceph.conf.</div>
<div class="Pp"></div>
-H host, --host host
<div style="margin-left: 4.00ex;">specify the hostname which defaults to
  gethostname().</div>
<div class="Pp"></div>
-o, --output
<div style="margin-left: 4.00ex;">display the global configuration</div>
<div class="Pp"></div>
-l, --local
<div style="margin-left: 4.00ex;">display the host configuration</div>
<div class="Pp"></div>
-f file, --file file
<div style="margin-left: 4.00ex;">import the configuration from a file</div>
<div class="Pp"></div>
-a file, --add file
<div style="margin-left: 4.00ex;">add the configuration from a file</div>
<div class="Pp"></div>
-u, --unmap
<div style="margin-left: 4.00ex;">unmap the rbd images. Images in use will fail
  to unmap.</div>
<div class="Pp"></div>
-v, --verbose
<div style="margin-left: 4.00ex;">print INFO messages</div>
<div class="Pp"></div>
-d, --debug
<div style="margin-left: 4.00ex;">print DEBUG messages</div>
<div class="Pp"></div>
-I, --iblock
<div style="margin-left: 4.00ex;">use an iblock backstore for images, default to
  rbd</div>
<div class="Pp"></div>
-R, --rbd
<div style="margin-left: 4.00ex;">use an rbd backstore for images, can override
  -I</div>
<div class="Pp"></div>
-W, --wipe
<div style="margin-left: 4.00ex;">remove all configuration objects from all
  pools. Use with care.</div>
<div class="Pp"></div>
-C, --clear
<div style="margin-left: 4.00ex;">remove the current targetcli configuration
  from the host.</div>
<div class="Pp"></div>
Some options may be combined, such as -Cu to first clear the configuration and
  then unmap the images.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<div style="margin-left: 4.00ex;">&#x2022;Customize a sample configuration and
  import.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ cp /usr/share/doc/packages/lrbd/samples/tpg.json /tmp
$ vi /tmp/tpg.json
$ lrbd -f /tmp/tpg.json
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
Edit the current configuration with the editor joe
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ lrbd -E joe
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Display the configuration for another host on the current gateway.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ lrbd -H gateway2 -l
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/etc/sysconfig/lrbd</i>
<div style="margin-left: 5.00ex;">The environment file for customizing options
  for the lrbd.service</div>
<i>/usr/lib/systemd/system/lrbd.service</i>
<div style="margin-left: 5.00ex;">The service file to apply the configuration
  during boot.</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Eric Jackson &lt;ejackson@suse.com&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>lrbd.conf</b>(5), <b>targetcli</b>(8),</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
