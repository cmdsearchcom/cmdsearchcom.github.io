<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:58 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SHOREWALL-INIT(8) Administrative Commands
SHOREWALL-INIT(8)</p>

<p style="margin-top: 1em">NAME <br>
shorewall-init - Companion package</p>

<p style="margin-top: 1em">SYNOPSIS <br>
/etc/init.d/shorewall-init [start|stop]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Shorewall-init is an optional package (added in Shorewall
4.4.10) that can be installed along with Shorewall,
Shorewall6, Shorewall-lite and/or Shorewall6-lite. It
provides two <br>
key features:</p>

<p style="margin-top: 1em">1. It can close (stop) the
firewall during boot prior to starting the network. This can
prevent unwanted connections from being accepted after the
network comes up but before <br>
the firewall is started.</p>

<p style="margin-top: 1em">2. It can interface with your
distribution&rsquo;s ifup/ifdown scripts and/or
NetworkManager to allow firewall actions when an interface
starts or stops.</p>

<p style="margin-top: 1em">These two capabilities can be
enabled separately.</p>

<p style="margin-top: 1em">After you install the
shorewall-init package, you can activate it by modifying the
Shorewall-init configuration file:</p>

<p style="margin-top: 1em">&Acirc;&middot; On Debian-based
system, the file is /etc/default/shorewall-init.</p>

<p style="margin-top: 1em">&Acirc;&middot; On other
systems, the file is /etc/sysconfig/shorewall-init.</p>

<p style="margin-top: 1em">To activate the safe boot
feature, edit the configuration file and set PRODUCTS to a
space-separated list of Shorewall products that you want to
be closed before networking <br>
starts.</p>

<p style="margin-top: 1em">Example: <br>
PRODUCTS=&quot;shorewall shorewall6&quot;</p>

<p style="margin-top: 1em">You also must insure that the
compiled scripts for the listed products are compiled using
Shorewall 4.4.10 or later.</p>

<p style="margin-top: 1em">Shorewall <br>
shorewall compile</p>

<p style="margin-top: 1em">Shorewall6 <br>
shorewall6 compile</p>

<p style="margin-top: 1em">Shorewall-lite <br>
On the administrative system, enter the command shorewall
export firewall from the firewall&rsquo;s configuration
directory.</p>

<p style="margin-top: 1em">Shorewall6-lite <br>
On the administrative system, enter the command shorewall6
export firewall from the firewall&rsquo;s configuration
directory.</p>

<p style="margin-top: 1em">The second feature (ifup/ifdown
and NetworkManager integration) should only be activated on
systems that do not use a link status monitor line swping or
LSM.</p>

<p style="margin-top: 1em">&Acirc;&middot; Edit the
configuration file and set IFUPDOWN=1</p>

<p style="margin-top: 1em">For NetworkManager integration,
you will want to disable firewall startup at boot and delay
it to when your interface comes up. For this to work
correctly, you must set the <br>
required or the optional option on at least one interface
then:</p>

<p style="margin-top: 1em">&Acirc;&middot; On Debian-based
systems, edit /etc/default/product for each product listed
in the PRODUCTS setting and set startup=0.</p>

<p style="margin-top: 1em">&Acirc;&middot; On other
systems, use the distribution&rsquo;s service control tool
(insserv, chkconfig, etc.) to disable startup of the
products listed in the PRODUCTS setting.</p>

<p style="margin-top: 1em">On a laptop with both Ethernet
and wireless interfaces, you will want to make both
interfaces optional and set the REQUIRE_INTERFACE option to
Yes in shorewall.conf[1](5) or <br>
shorewall6.conf[2] (5). This causes the firewall to remain
stopped until at least one of the interfaces comes up.</p>

<p style="margin-top: 1em">FILES <br>
/etc/default/shorewall-init (Debian-based systems) or
/etc/sysconfig/shorewall-init (other distributions)</p>

<p style="margin-top: 1em">SEE ALSO <br>
shorewall(8), shorewall-accounting(5), shorewall-actions(5),
shorewall-blacklist(5), shorewall-hosts(5),
shorewall_interfaces(5), shorewall-ipsets(5),
shorewall-maclist(5), <br>
shorewall-masq(5), shorewall-nat(5), shorewall-netmap(5),
shorewall-params(5), shorewall-policy(5),
shorewall-providers(5), shorewall-proxyarp(5),
shorewall-rtrules(5), <br>
shorewall-routestopped(5), shorewall-rules(5),
shorewall.conf(5), shorewall-secmarks(5),
shorewall-tcclasses(5), shorewall-tcdevices(5),
shorewall-mangle(5), shorewall-tos(5), <br>
shorewall-tunnels(5), shorewall-zones(5)</p>

<p style="margin-top: 1em">NOTES <br>
1. shorewall.conf <br>
http://www.shorewall.net/manpages/shorewall.conf.html</p>

<p style="margin-top: 1em">2. shorewall6.conf <br>
http://www.shorewall.net/manpages6/shorewall6.conf.html</p>

<p style="margin-top: 1em">Administrative Commands
11/04/2016 SHOREWALL-INIT(8)</p>
<hr>
</body>
</html>
