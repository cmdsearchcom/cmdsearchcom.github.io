<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>fai-make-nfsroot(8) System Manager&rsquo;s Manual
fai-make-nfsroot(8)</p>

<p style="margin-top: 1em">NAME <br>
fai-make-nfsroot - create the FAI nfsroot directory</p>

<p style="margin-top: 1em">SYNOPSIS <br>
fai-make-nfsroot [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Create the FAI nfsroot directory as pointed by $NFSROOT in
the config_file. This directory is necessary for the
installation of Debian on remote clients using the FAI
package. <br>
The config_file location is discussed in the OPTIONS
below.</p>

<p style="margin-top: 1em">The exit code returned is 0 if
all commands to build the root directory exited successfully
and &gt;0 if an error occurs.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Adjust a generic nfsroot. Add resolv.conf, add host
entries, set the root password.</p>

<p style="margin-top: 1em">-B BASETGZ <br>
Use specified BASETGZ file as base.tgz (or base.tar.gz,
base.tar.xz, base.txz) for the nfsroot. This avoids calling
debootstrap and therefore reduces the buildtime for the <br>
nfsroot.</p>

<p style="margin-top: 1em">-C CFDIR <br>
Use CFDIR as configuration directory. Default is /etc/fai.
You can also set the environment variable FAI_ETC_DIR.</p>

<p style="margin-top: 1em">-f Force overwriting an existing
nfsroot. By default fai-make-nfsroot aborts if the
configuration variable NFSROOT points to a directory which
already exists. To force over&acirc; <br>
writing (and therefore rebuilding) the existing nfsroot use
this option. This option is supported starting with FAI 4.0.
Note: To update and therefore preserve an exist&acirc; <br>
ing nfsroot see option -k.</p>

<p style="margin-top: 1em">-g Create a generic nfsroot.
Remove most install server specific data from nfsroot. See
also -a.</p>

<p style="margin-top: 1em">-K Remove all kernels from
NFSROOT. This is the same as calling aptitude purge
~nlinux-image inside the nfsroot.</p>

<p style="margin-top: 1em">-k Install additional packages
defined in /etc/fai/NFSROOT into the nfsroot. Also copies
all kernels from the nfsroot to the directory $TFTPROOT.</p>

<p style="margin-top: 1em">-p Preserve ssh configs
including the keys of the root account. This will not
preserve the ssh host keys inside the nfsroot.</p>

<p style="margin-top: 1em">-v Create verbose output on
stdout.</p>

<p style="margin-top: 1em">-h Show simple help.</p>

<p style="margin-top: 1em">-z Use gzip for compressing the
base.tar file. Default is to use xz.</p>

<p style="margin-top: 1em">NOTES <br>
If you do not use NFS, you may still use the NFSROOT
directory as a staging point for building the base
installation tarball.</p>

<p style="margin-top: 1em">SEE ALSO <br>
exports(5), nfsd(8), fai-setup(8)</p>

<p style="margin-top: 1em">This program is part of FAI
(Fully Automatic Installation). See the FAI manual for more
information on how to use fai-make-nfsroot. The FAI homepage
is http://fai-project.org. FILES <br>
/etc/fai/fai.conf <br>
The FAI configuration file. <br>
/etc/fai/nfsroot.conf <br>
The configuration file for fai-make-nfsroot. <br>
/etc/fai/nfsroot-hooks/ <br>
Directory containing shell scripts to be sourced at the end
of fai-make-nfsroot for additional configuration of the
nfsroot. Can be changed with NFSROOT_HOOKS. <br>
/etc/fai/apt/sources.list <br>
Copy this file to the NFSROOT. <br>
/etc/fai/apt/keys/*.asc <br>
Repository keys in .asc format found here will be installed
into the NFSROOT. <br>
/var/log/fai/variables <br>
The script will write the values of FAI_VERSION and NFSROOT
to this file.</p>

<p style="margin-top: 1em">AUTHOR <br>
Thomas Lange &lt;lange@informatik.uni-koeln.de&gt;</p>

<p style="margin-top: 1em">FAI 5 April 2015
fai-make-nfsroot(8)</p>
<hr>
</body>
</html>
