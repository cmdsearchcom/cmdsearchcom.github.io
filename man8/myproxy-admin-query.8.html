<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>myproxy-admin-query(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">myproxy-admin-query(8)</td>
    <td class="head-vol">MyProxy</td>
    <td class="head-rtitle">myproxy-admin-query(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
myproxy-admin-query - query MyProxy repository contents
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>myproxy-admin-query</b> [ <i>options</i> ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>myproxy-admin-query</b> command displays information about the
  credentials stored in the MyProxy repository. It can also be used to remove
  credentials from the repository, by combining query options with
  <b>--remove</b>. It accesses the repository directly and must be run on the
  machine where the <b>myproxy-server</b>(8) is installed from the account that
  owns the repository.
<div class="Pp"></div>
An example cron job for running <b>myproxy-admin-query</b> periodically to
  remove invalid (expired, revoked, etc.) credentials from the repository is
  provided at <i>$GLOBUS_LOCATION/share/myproxy/myproxy.cron</i>.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Displays command usage text and exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u, --usage</b></dt>
  <dd class="It-tag">Displays command usage text and exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Enables verbose debugging output to the terminal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V, --version</b></dt>
  <dd class="It-tag">Displays version information and exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b><i> username, </i><b>--username</b><i>
    username</i></dt>
  <dd class="It-tag">Return information on credentials for a single username. By
      default, the command returns information on all credentials for all
      usernames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b><i> name, </i><b>--credname</b><i> name</i></dt>
  <dd class="It-tag">Return information on the credentials with the specified
      name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i> DN, </i><b>--owner</b><i> DN</i></dt>
  <dd class="It-tag">Return information on the credentials owned by the
      specified distinguished name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b><i> hours, </i><b>--expiring_in</b><i>
    hours</i></dt>
  <dd class="It-tag">Return information on credentials with remaining lifetime
      less than the specified number of hours. For example, <b>-e</b><i> 0</i>
      will return all expired credentials.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b><i> hours, </i><b>--time_left</b><i>
    hours</i></dt>
  <dd class="It-tag">Return information on credentials with remaining lifetime
      greater than the specified number of hours.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --invalid</b></dt>
  <dd class="It-tag">Return information on invalid (expired, revoked, etc.)
      credentials.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b><i> dir, </i><b>--storage</b><i> dir</i></dt>
  <dd class="It-tag">Specifies the location of the credential storage directory.
      The directory must be accessible only by the user running the
      <b>myproxy-server</b> process for security reasons. Default:
      /var/lib/myproxy or /var/myproxy or $GLOBUS_LOCATION/var/myproxy</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b><i> file, </i><b>--config</b><i> file</i></dt>
  <dd class="It-tag">Specifies the location of the <b>myproxy-server</b>
      configuration file, for OCSP options. Default: /etc/myproxy-server.config
      or $GLOBUS_LOCATION/etc/myproxy-server.config</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --remove</b></dt>
  <dd class="It-tag">Remove the credentials matching the query from the
      repository. For example, <i>myproxy-admin-query -e 0 -r</i> will remove
      all expired credentials from the repository.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b><i> 'msg', </i><b>--lock</b><i> 'msg'</i></dt>
  <dd class="It-tag">Places the credentials matching the query under an
      administrative lock and specifies a message to be returned on access
      attempts. Be sure to put the message in quotes so it is captured as one
      argument to the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U, --unlock</b></dt>
  <dd class="It-tag">Removes any administrative locks for the credentials
      matching the query.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 on success, &gt;0 on error
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
See <b>http://grid.ncsa.illinois.edu/myproxy/about</b> for the list of MyProxy
  authors.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>myproxy-change-pass-phrase</b>(1), <b>myproxy-destroy</b>(1),
  <b>myproxy-init</b>(1), <b>myproxy-logon</b>(1), <b>myproxy-retrieve</b>(1),
  <b>myproxy-store</b>(1), <b>myproxy-server.config</b>(5),
  <b>myproxy-admin-adduser</b>(8), <b>myproxy-admin-change-pass</b>(8),
  <b>myproxy-admin-load-credential</b>(8), <b>myproxy-server</b>(8)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2011-09-19</td>
    <td class="foot-os">MyProxy</td>
  </tr>
</table>
</body>
</html>
