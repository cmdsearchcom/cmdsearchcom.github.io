<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LOSETUP(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LOSETUP(8)</td>
    <td class="head-vol">System Administration</td>
    <td class="head-rtitle">LOSETUP(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
losetup - set up and control loop devices
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
Get info:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<b>losetup</b> <i>loopdev</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>losetup -l</b> [<b>-a</b>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>losetup -j</b> <i>file</i> [<b>-o</b> <i>offset</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
Delete loop:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<b>losetup -d</b> <i>loopdev</i>...
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
Delete all used loop devices:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<b>losetup -D</b>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
Print name of first unused loop device:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<b>losetup -f</b>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
Setup loop device:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<b>losetup</b> [<b>-o</b> <i>offset</i>] [<b>--sizelimit</b> <i>size</i>]
<br/>
[<b>-p</b> <i>pfd</i>] [<b>-rP</b>]
  {<b>-f</b>[<b>--show</b>]|<b><i>loopdev</i></b>} <i>file</i>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
Resize loop device:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
<b>losetup -c</b> <i>loopdev</i>
<br/>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>losetup</b> is used to associate loop devices with regular files or block
  devices, to detach loop devices and to query the status of a loop device. If
  only the <i>loopdev</i> argument is given, the status of the corresponding
  loop device is shown.
<div style="height: 1.00em;">&#x00A0;</div>
Note that the old output format (e.g. losetup -a) with comma delimited strings
  is deprecated in favour of the --list output format (e.g. losetup -a -l).
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
+The <i>size</i> and <i>offset</i> arguments may be followed by the
  multiplicative +suffixes KiB=1024, MiB=1024*1024, and so on for GiB, TiB, PiB,
  EiB, ZiB and YiB +(the &quot;iB&quot; is optional, e.g. &quot;K&quot; has the
  same meaning as &quot;KiB&quot;) or the suffixes +KB=1000, MB=1000*1000, and
  so on for GB, TB, PB, EB, ZB and YB.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a, --all</b></dt>
  <dd class="It-tag">show status of all loop devices. Note that not all
      information are accessible for non-root users. See also <b>--list</b>. The
      old output format (as printed without --list) is deprecated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --set-capacity</b> <i>loopdev</i></dt>
  <dd class="It-tag">force loop driver to reread size of the file associated
      with the specified loop device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --detach</b> <i>loopdev</i>...</dt>
  <dd class="It-tag">detach the file or device associated with the specified
      loop device(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D, --detach-all</b></dt>
  <dd class="It-tag">detach all associated loop devices</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --find</b></dt>
  <dd class="It-tag">find the first unused loop device. If a <i>file</i>
      argument is present, use this device. Otherwise, print its name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">print help</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j, --associated </b><i>file</i><b></b></dt>
  <dd class="It-tag">show status of all loop devices associated with given
      <i>file</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --list</b></dt>
  <dd class="It-tag">if a loop device or the -a option is specified, print
      default columns for either the specified loop device or all loop devices,
      default is to print info about all devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --offset </b><i>offset</i><b></b></dt>
  <dd class="It-tag">the data start is moved <i>offset</i> bytes into the
      specified file or device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O, --output </b><i>columns</i><b></b></dt>
  <dd class="It-tag">specify which columns are to be printed for the
      <b>--list</b> output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sizelimit </b><i>size</i><b></b></dt>
  <dd class="It-tag">the data end is set to no more than <i>size</i> bytes after
      the data start</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P, --partscan</b></dt>
  <dd class="It-tag">force kernel to scan partition table on newly created loop
      device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --read-only</b></dt>
  <dd class="It-tag">setup read-only loop device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--show</b></dt>
  <dd class="It-tag">print device name if the <i>-f</i> option and a <i>file</i>
      argument are present.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">verbose mode
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENCRYPTION"><a class="selflink" href="#ENCRYPTION">ENCRYPTION</a></h1>
<b>Cryptoloop is no longer supported in favor of dm-crypt. For more details
  see</b> <b>cryptsetup(8).</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="RETURN_VALUE"><a class="selflink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
<b>losetup</b> returns 0 on success, nonzero on failure. When <b>losetup</b>
  displays the status of a loop device, it returns 1 if the device is not
  configured and 2 if an error occurred which prevented from determining the
  status of the device.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/dev/loop[0..N]</i></dt>
  <dd class="It-tag">loop block devices</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/dev/loop-cotrol</i></dt>
  <dd class="It-tag">loop control device
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
The following commands can be used as an example of using the loop device.
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
# dd if=/dev/zero of=~/file.img bs=1MiB count=10
# losetup --find --show ~/file.img
/dev/loop0
# mkfs -t ext2 /dev/loop0
# mount /dev/loop0 /mnt
 ...
# umount /dev/loop0
# losetup --detach /dev/loop0
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Karel Zak &lt;kzak@redhat.com&gt;, based on original version from Theodore Ts'o
  &lt;tytso@athena.mit.edu&gt;
<h1 class="Sh" title="Sh" id="AVAILABILITY"><a class="selflink" href="#AVAILABILITY">AVAILABILITY</a></h1>
The losetup command is part of the util-linux package and is available from
  ftp://ftp.kernel.org/pub/linux/utils/util-linux/.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 2003</td>
    <td class="foot-os">util-linux</td>
  </tr>
</table>
</body>
</html>
