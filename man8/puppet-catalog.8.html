<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PUPPET-CATALOG(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PUPPET-CATALOG(8)</td>
    <td class="head-vol">Puppet manual</td>
    <td class="head-rtitle">PUPPET-CATALOG(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>puppet-catalog</b> - Compile, save, view, and convert catalogs.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
puppet catalog <i>action</i> [--terminus TERMINUS] [--extra HASH]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This subcommand deals with catalogs, which are compiled per-node artifacts
  generated from a set of Puppet manifests. By default, it interacts with the
  compiling subsystem and compiles a catalog using the default manifest and
  <b>certname</b>, but you can change the source of the catalog with the
  <b>--terminus</b> option. You can also choose to print any catalog in
  &#x00B4;dot&#x00B4; format (for easy graph viewing with OmniGraffle or
  Graphviz) with &#x00B4;--render-as dot&#x00B4;.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Note that any setting that&#x00B4;s valid in the configuration file is also a
  valid long argument, although it may or may not be relevant to the present
  action. For example, <b>server</b> and <b>run_mode</b> are valid settings, so
  you can specify <b>--server &lt;servername&gt;</b>, or <b>--run_mode
  &lt;runmode&gt;</b> as an argument.
<div class="Pp"></div>
See the configuration file documentation at
  <i>https://docs.puppetlabs.com/references/stable/configuration.html</i> for
  the full list of acceptable parameters. A commented list of all configuration
  options can also be generated by running puppet with <b>--genconfig</b>.
<dl class="Bl-tag">
  <dt class="It-tag">--render-as FORMAT</dt>
  <dd class="It-tag">The format in which to render output. The most common
      formats are <b>json</b>, <b>s</b> (string), <b>yaml</b>, and
      <b>console</b>, but other options such as <b>dot</b> are sometimes
      available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--verbose</dt>
  <dd class="It-tag">Whether to log verbosely.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--debug</dt>
  <dd class="It-tag">Whether to log debug information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--extra HASH</dt>
  <dd class="It-tag">A terminus can take additional arguments to refine the
      operation, which are passed as an arbitrary hash to the back-end. Anything
      passed as the extra value is just send direct to the back-end.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--terminus TERMINUS</dt>
  <dd class="It-tag">Indirector faces expose indirected subsystems of Puppet.
      These subsystems are each able to retrieve and alter a specific type of
      data (with the familiar actions of <b>find</b>, <b>search</b>,
      <b>save</b>, and <b>destroy</b>) from an arbitrary number of pluggable
      backends. In Puppet parlance, these backends are called terminuses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Almost all indirected subsystems have a <b>rest</b>
      terminus that interacts with the puppet master&#x00B4;s data. Most of them
      have additional terminuses for various local data models, which are in
      turn used by the indirected subsystem on the puppet master whenever it
      receives a remote request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The terminus for an action is often determined by context,
      but occasionally needs to be set explicitly. See the &quot;Notes&quot;
      section of this face&#x00B4;s manpage for more details.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>apply</b> - Find and apply a catalog.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet catalog apply [--terminus TERMINUS] [--extra
    HASH]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Finds and applies a catalog. This action takes no
      arguments, but the source of the catalog can be managed with the
      <b>--terminus</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Nothing. When used from the Ruby API, returns a
      Puppet::Transaction::Report object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>download</b> - Download this node&#x00B4;s catalog from
    the puppet master server.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet catalog download [--terminus TERMINUS] [--extra
      HASH]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Retrieves a catalog from the puppet master and saves it to
      the local yaml cache. This action always contacts the puppet master and
      will ignore alternate termini.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The saved catalog can be used in any subsequent catalog
      action by specifying &#x00B4;--terminus yaml&#x00B4; for that action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Nothing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>NOTES</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When used from the Ruby API, this action has a side effect
      of leaving Puppet::Resource::Catalog.indirection.terminus_class set to
      yaml. The terminus must be explicitly re-set for subsequent catalog
      actions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>find</b> - Retrieve the catalog for a node.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet catalog find [--terminus TERMINUS] [--extra HASH]
      <i>certname</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Retrieve the catalog for a node.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">A serialized catalog. When used from the Ruby API, returns
      a Puppet::Resource::Catalog object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>info</b> - Print the default terminus class for this
    face.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet catalog info [--terminus TERMINUS] [--extra
    HASH]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Prints the default terminus class for this subcommand. Note
      that different run modes may have different default termini; when in
      doubt, specify the run mode with the &#x00B4;--run_mode&#x00B4;
    option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save</b> - API only: create or overwrite an object.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet catalog save [--terminus TERMINUS] [--extra HASH]
      <i>key</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">API only: create or overwrite an object. As the Faces
      framework does not currently accept data from STDIN, save actions cannot
      currently be invoked from the command line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select</b> - Retrieve a catalog and filter it for
    resources of a given type.</dt>
  <dd class="It-tag"><b>SYNOPSIS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">puppet catalog select [--terminus TERMINUS] [--extra HASH]
      <i>host</i> <i>resource_type</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>DESCRIPTION</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Retrieves a catalog for the specified host, then searches
      it for all resources of the requested type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>RETURNS</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">A list of resource references (&quot;Type[title]&quot;).
      When used from the API, returns an array of Puppet::Resource objects
      excised from a catalog.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>NOTES</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">By default, this action will retrieve a catalog from
      Puppet&#x00B4;s compiler subsystem; you must call the action with
      <b>--terminus rest</b> if you wish to retrieve a catalog from the puppet
      master.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">FORMATTING ISSUES: This action cannot currently render
      useful yaml; instead, it returns an entire catalog. Use json instead.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>apply</b>
<div class="Pp"></div>
Apply the locally cached catalog:
<div class="Pp"></div>
$ puppet catalog apply --terminus yaml
<div class="Pp"></div>
Retrieve a catalog from the master and apply it, in one step:
<div class="Pp"></div>
$ puppet catalog apply --terminus rest
<div class="Pp"></div>
API example:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">
    <pre>
<div class="Pp"></div>
# ...
Puppet::Face[:catalog, &#x00B4;0.0.1&#x00B4;].download
# (Termini are singletons; catalog.download has a side effect of
# setting the catalog terminus to yaml)
report  = Puppet::Face[:catalog, &#x00B4;0.0.1&#x00B4;].apply
# ...
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<b>download</b>
<div class="Pp"></div>
Retrieve and store a catalog:
<div class="Pp"></div>
$ puppet catalog download
<div class="Pp"></div>
API example:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">
    <pre>
<div class="Pp"></div>
Puppet::Face[:plugin, &#x00B4;0.0.1&#x00B4;].download
Puppet::Face[:facts, &#x00B4;0.0.1&#x00B4;].upload
Puppet::Face[:catalog, &#x00B4;0.0.1&#x00B4;].download
# ...
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<b>select</b>
<div class="Pp"></div>
Ask the puppet master for a list of managed file resources for a node:
<div class="Pp"></div>
$ puppet catalog select --terminus rest somenode.magpie.lan file
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
This subcommand is an indirector face, which exposes <b>find</b>, <b>search</b>,
  <b>save</b>, and <b>destroy</b> actions for an indirected subsystem of Puppet.
  Valid termini for this face include:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>compiler</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>json</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>msgpack</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>rest</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>static_compiler</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>store_configs</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>yaml</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT_AND_LICENSE"><a class="selflink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
Copyright 2011 by Puppet Labs Apache 2 license; see COPYING</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 2015</td>
    <td class="foot-os">Puppet Labs, LLC</td>
  </tr>
</table>
</body>
</html>
