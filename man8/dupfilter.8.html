<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:40 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DUPFILTER(8) Double Precision, Inc. DUPFILTER(8)</p>

<p style="margin-top: 1em">NAME <br>
dupfilter - Sample Courier mail filter</p>

<p style="margin-top: 1em">SYNOPSIS <br>
filterctl {[start] | [stop]} dupfilter</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This is an example global mail filter written in C. This is
a threaded filter that tries to block junk E-mail by
attempting to detect multiple copies of the same message,
which <br>
are rejected. This filter is presented mostly for
educational purposes. It&rsquo;s method for detecting
duplicate messages is rather simplistic, and, over time,
ways of defeating it <br>
will certainly proliferate.</p>

<p style="margin-top: 1em">dupfilter works by calculating a
hash value of the contents of every message it sees. Hash
values of recent messages are kept in a circular FIFO queue.
When dupfilter starts <br>
seeing messages with the same hash value, it will reject
them. The hash value is calculated in such a way as to try
to detect minor changes to messages&rsquo; contents that are
<br>
designed to avoid these kinds of filters, but it&rsquo;s
still not a very sophisticated approach, and it can be
easily fooled.</p>

<p style="margin-top: 1em">BUGS <br>
This is not a very smart mail filter. The hash function is
very simple and is not expected to be very useful.</p>

<p style="margin-top: 1em">Don&rsquo;t even think of using
dupfilter on a machine that either runs a mailing list, or
contains mailboxes that subscribe to mailing lists.
dupfilter likes to bounce mailing list <br>
traffic.</p>

<p style="margin-top: 1em">FILES <br>
dupfilter uses the following configuration files. Changes to
the following files do not take effect until the filter has
been stopped and restarted.</p>


<p style="margin-top: 1em">/etc/courier/filters/dupfilter-hashsize
<br>
This file contains a single numerical value that sets the
size of dupfilter&rsquo;s circular FIFO queue.</p>


<p style="margin-top: 1em">/etc/courier/filters/dupfilter-duplevel
<br>
This file contains a single numerical value that sets how
many identical messages dupfilter will tolerate before
blocking them. When this many identical messages are seen,
<br>
dupfilter will start rejecting all messages with the same
content.</p>


<p style="margin-top: 1em">/etc/courier/filters/dupfilter-mode
<br>
If this file exists and contains the word &quot;all&quot;,
dupfilter will create its socket in
/var/lib/courier/allfilters, otherwise the socket will be
created in <br>
/var/lib/courier/filters, see courierfilter(8)[1] for more
information.</p>


<p style="margin-top: 1em">/etc/courier/filters/dupfilter-nthreads
<br>
This file contains a single numerical value that sets the
number of threads created (each thread is used to calculate
a message&rsquo;s hash value). The default number of threads
<br>
is 4.</p>

<p style="margin-top: 1em">SEE ALSO <br>
courierfilter(8)[1].</p>

<p style="margin-top: 1em">AUTHOR <br>
Sam Varshavchik <br>
Author</p>

<p style="margin-top: 1em">NOTES <br>
1. courierfilter(8) <br>
[set
$man.base.url.for.relative.links]/courierfilter.html</p>

<p style="margin-top: 1em">Courier Mail Server 06/27/2015
DUPFILTER(8)</p>
<hr>
</body>
</html>
