<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:11:43 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SFTP-SERVER(8) BSD System Manager&rsquo;s Manual
SFTP-SERVER(8)</p>

<p style="margin-top: 1em">NAME <br>
sftp-server &acirc; SFTP server subsystem</p>

<p style="margin-top: 1em">SYNOPSIS <br>
sftp-server [-ehR] [-d start_directory] [-f log_facility]
[-l log_level] [-P blacklisted_requests] [-p
whitelisted_requests] [-u umask] [-m force_file_perms] <br>
sftp-server -Q protocol_feature</p>

<p style="margin-top: 1em">DESCRIPTION <br>
sftp-server is a program that speaks the server side of SFTP
protocol to stdout and expects client requests from stdin.
sftp-server is not intended to be called directly, but from
<br>
sshd(8) using the Subsystem option.</p>

<p style="margin-top: 1em">Command-line flags to
sftp-server should be specified in the Subsystem
declaration. See sshd_config(5) for more information.</p>

<p style="margin-top: 1em">Valid options are:</p>

<p style="margin-top: 1em">-d start_directory <br>
specifies an alternate starting directory for users. The
pathname may contain the following tokens that are expanded
at runtime: %% is replaced by a literal &rsquo;%&rsquo;, %d
is <br>
replaced by the home directory of the user being
authenticated, and %u is replaced by the username of that
user. The default is to use the user&rsquo;s home directory.
This <br>
option is useful in conjunction with the sshd_config(5)
ChrootDirectory option.</p>

<p style="margin-top: 1em">-e Causes sftp-server to print
logging information to stderr instead of syslog for
debugging.</p>

<p style="margin-top: 1em">-f log_facility <br>
Specifies the facility code that is used when logging
messages from sftp-server. The possible values are: DAEMON,
USER, AUTH, LOCAL0, LOCAL1, LOCAL2, LOCAL3, LOCAL4, <br>
LOCAL5, LOCAL6, LOCAL7. The default is AUTH.</p>

<p style="margin-top: 1em">-h Displays sftp-server usage
information.</p>

<p style="margin-top: 1em">-l log_level <br>
Specifies which messages will be logged by sftp-server. The
possible values are: QUIET, FATAL, ERROR, INFO, VERBOSE,
DEBUG, DEBUG1, DEBUG2, and DEBUG3. INFO and VERBOSE <br>
log transactions that sftp-server performs on behalf of the
client. DEBUG and DEBUG1 are equivalent. DEBUG2 and DEBUG3
each specify higher levels of debugging output. <br>
The default is ERROR.</p>

<p style="margin-top: 1em">-P blacklisted_requests <br>
Specify a comma-separated list of SFTP protocol requests
that are banned by the server. sftp-server will reply to any
blacklisted request with a failure. The -Q flag can <br>
be used to determine the supported request types. If both a
blacklist and a whitelist are specified, then the blacklist
is applied before the whitelist.</p>

<p style="margin-top: 1em">-p whitelisted_requests <br>
Specify a comma-separated list of SFTP protocol requests
that are permitted by the server. All request types that are
not on the whitelist will be logged and replied to <br>
with a failure message.</p>

<p style="margin-top: 1em">Care must be taken when using
this feature to ensure that requests made implicitly by SFTP
clients are permitted.</p>

<p style="margin-top: 1em">-Q protocol_feature <br>
Query protocol features supported by sftp-server. At present
the only feature that may be queried is
&acirc;requests&acirc;, which may be used for black or
whitelisting (flags -P and <br>
-p respectively).</p>

<p style="margin-top: 1em">-R Places this instance of
sftp-server into a read-only mode. Attempts to open files
for writing, as well as other operations that change the
state of the filesystem, will be <br>
denied.</p>

<p style="margin-top: 1em">-u umask <br>
Sets an explicit umask(2) to be applied to newly-created
files and directories, instead of the user&rsquo;s default
mask.</p>

<p style="margin-top: 1em">-m force_file_perms <br>
Sets explicit file permissions to be applied to
newly-created files instead of the default or client
requested mode. Numeric values include: 777, 755, 750, 666,
644, 640, <br>
etc. Option -u is ineffective if -m is set.</p>

<p style="margin-top: 1em">On some systems, sftp-server
must be able to access /dev/log for logging to work, and use
of sftp-server in a chroot configuration therefore requires
that syslogd(8) establish a <br>
logging socket inside the chroot directory.</p>

<p style="margin-top: 1em">SEE ALSO <br>
sftp(1), ssh(1), sshd_config(5), sshd(8)</p>

<p style="margin-top: 1em">T. Ylonen and S. Lehtinen, SSH
File Transfer Protocol, draft-ietf-secsh-filexfer-02.txt,
October 2001, work in progress material.</p>

<p style="margin-top: 1em">HISTORY <br>
sftp-server first appeared in OpenBSD 2.8.</p>

<p style="margin-top: 1em">AUTHORS <br>
Markus Friedl &lt;markus@openbsd.org&gt;</p>

<p style="margin-top: 1em">BSD December 11, 2014 BSD</p>
<hr>
</body>
</html>
