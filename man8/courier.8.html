<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>COURIER(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">COURIER(8)</td>
    <td class="head-vol">Double Precision, Inc.</td>
    <td class="head-rtitle">COURIER(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
courier - The Courier mail server
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 8.00ex; text-indent: -8.00ex;"><b>courier</b>
  {start | stop | restart | flush | flush&#x00A0; <i>qid</i> |
  clear&#x00A0;<i>user@domain</i> | clear&#x00A0;all | show&#x00A0;all }</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The Courier mail server is a modular multi-protocol E-mail transport agent. The
  <b>courier</b> command is an administrative command, and most of its options
  are only available to the superuser.
<div class="Pp"></div>
&quot; <b>courier start</b>&quot; starts the server by running
  <b>/usr/lib/courier/courierctl.start</b> in the background. &quot; <b>courier
  stop</b>&quot; immediately stops all the Courier mail server processes and
  aborts all current mail deliveries. &quot; <b>courier restart</b>&quot;
  restarts the Courier mail server server. A restart is often needed for certain
  configuration changes to take effect. &quot; <b>courier restart</b>&quot;
  waits for all current deliveries to complete before restarting. This is the
  &quot;nice&quot; way to restart the mail server. &quot; <b>courier
  flush</b>&quot; takes all undelivered messages in the queue and attempts to
  deliver them immediately, instead of waiting until their next scheduled
  attempted delivery time. &quot; <b>courier flush</b>&quot; can be optionally
  followed by a message queue ID in order to schedule an immediate delivery
  attempt for only a single message. Message queue IDs are displayed by the
  <b></b> <b>mailq</b>(1)[1] command.
<div class="Pp"></div>
Please note that <b>courier start</b> runs the main Courier mail server
  scheduling engine only. It does not start any other daemons that you may have,
  such as the ESMTP or the IMAP daemon.
<div class="Pp"></div>
&quot; <b>courier show all</b>&quot; lists all E-mail addresses currently
  blacklisted for backscatter. &quot; <b>courier clear user@domain</b>&quot;
  manually clears &lt;user@domain&gt; from the backscatter blacklist. &quot;
  <b>courier clear all</b>&quot; removes all addresses from the backscatter
  blacklist. When the Courier mail server encounters a delivery failure to an
  E-mail address the Courier mail server may stop accepting any more messages to
  the same address in order to minimize generation of so-called
  &quot;backscatter bounces&quot;. This does not occur in all cases, see
  &quot;Backscatter suppression&quot; in the Courier mail server's installation
  instructions for more information.
<div class="Pp"></div>
The Courier mail server will resume accepting messages to the blacklisted
  address if the delivery attempt originally encountered a temporary failure,
  and a subsequent retry succesfully delivered the message, or if more than two
  hours elapsed since the delivery failure. Use the &quot;clear&quot; command to
  manually clear the E-mail address from the backscatter blacklist. This may be
  useful if the undeliverable message is manually removed from the Courier mail
  server's mail queue, using the &quot;cancel&quot; command. Even if the message
  is cancelled, the Courier mail server will continue to refuse accepting mail
  for this address for up to two hours. The &quot;clear&quot; command can be use
  to reenable mail acceptance before then.
<h2 class="Ss" title="Ss" id="CONFIGURATION_FILES"><a class="selflink" href="#CONFIGURATION_FILES">CONFIGURATION
  FILES</a></h2>
The Courier mail server uses several configuration files which are located in
  /etc/courier. These configuration files are plain text files that can be
  modified with any text editor. In certain instances a subdirectory is used,
  and all plain text files in the subdirectory are concatenated and are
  considered to be a single, consolidated, configuration file. Unless otherwise
  specified, you must run <b>courier restart</b> for any changes to these files
  to take effect.
<div class="Pp"></div>
aliasfilteracct
<div style="margin-left: 4.00ex;">This file contains one line, containing the
  home directory of the account that's used for filtering mail addressed to
  local alias lists.
<div style="height: 1.00em;">&#x00A0;</div>
When mail filtering is enabled, local recipients have the ability to define mail
  filters which can selectively reject unwanted mail. /etc/courier/aliases may
  define local mail aliases that contain one or more recipients. If it is
  desired to use local mail filtering for mail addressed to an alias address,
  designate a local account that will be used to specify filtering instructions,
  and put its home directory into this control file. The filtering argument will
  be &quot;alias- <i>address</i>&quot; where <i>address</i> is the name of the
  alias. See <b></b><b>localmailfilter</b>(7)[2] for more information.
<div style="height: 1.00em;">&#x00A0;</div>
Due to technical limitations, content filtering is not available for
  multiple-recipient aliases.
<div style="height: 1.00em;">&#x00A0;</div>
Changes to this file take effect immediately.</div>
<div class="Pp"></div>
autoresponsesquota
<div style="margin-left: 4.00ex;">This file sets the systemwide quota on
  autoreplies, if autoreplies and mail filtering are enabled. Note that this can
  only really be effective if there is no login access to the mail account,
  since this autoreply quota can be trivially overriden.
<div style="height: 1.00em;">&#x00A0;</div>
The autoresponsesquota file contains one line: &quot;C <i>nnn</i>&quot; or
  &quot;S <i>nnn</i>&quot; (or both strings, on the same line). C <i>nnn</i>:
  allow up to #nnn autoreplies to be created. S <i>nnn</i>: allow up to #nnn
  bytes as the total size of all autoreplies, combined. If both C <i>nnn</i> and
  S <i>nnn</i> are specified, both quotas apply. If this file does not exist,
  there is no limit on autoreplies. This quota setting applies systemwide. To
  override the quota setting for a particular Maildir, create the
  autoresponsesquota file in that Maildir (which takes precedence).</div>
<div class="Pp"></div>
backuprelay
<div style="margin-left: 4.00ex;">This file contains one line, containing a name
  of a machine where mail will be rerouted if it cannot be immediately
  delivered. Spaces are not allowed in this file.
<div style="height: 1.00em;">&#x00A0;</div>
Mail gets rerouted if it cannot be delivered after the time interval specified
  by the warntime configuration file. When backuprelay is provided a delayed
  delivery status notification will NOT be generated. The message will be
  rerouted even if the recipient's delivery status notification setting does not
  include a delayed notification request.
<div style="height: 1.00em;">&#x00A0;</div>
This feature is intended for use by relays that handle large quantities of mail,
  where you don't want to accumulate a large mail queue for unreachable mail
  servers. Please note that ALL undeliverable mail will be rerouted in this
  fashion. Even if the recipient of a message is a local recipient - and the
  recipient's mail filter is rejecting the message with a temporary error code -
  the message will still be rerouted if it's undeliverable after the specified
  amount of time.
<div style="height: 1.00em;">&#x00A0;</div>
Although currently SMTP is the only meaningful application for this feature, the
  Courier mail server is a protocol-independent mail server, and the backup
  relay function can be extended to other protocols, as they become available.
<div style="height: 1.00em;">&#x00A0;</div>
Multiple backup relays can be used by simply assigning multiple IP addresses to
  the same machine name. Note that the Courier mail server checks for both MX
  and A records for the machine specified in this configuration file.
<div style="height: 1.00em;">&#x00A0;</div>
It's important to note that when this setting is specified, warning messages get
  turned off for all messages, including messages addressed to local recipients.
  If a temporary delivery error prevents a message from being delivered to a
  local mailbox, it remains in the queue until the temporary error condition
  gets cleared. Normally, if the message remains in the queue beyond the warning
  interval, the warning message gets generated. When this setting is specified,
  the warning message gets replaced with a forward to the backup relay, but this
  occurs only for messages that are delivered via SMTP.</div>
<div class="Pp"></div>
batchsize
<div style="margin-left: 4.00ex;">This file contains one line, containing a
  single number. This number specifies the absolute maximum number of recipients
  for a single message. If the Courier mail server receives a message with more
  recipients, the message is duplicated as often as necessary until each copy of
  the message has no more than batchsize recipients. If batchsize is missing, it
  defaults to 100 recipients per message.</div>
<div class="Pp"></div>
bofh
<div style="margin-left: 4.00ex;">This configuration file configures
  domain-based junk mail filters. Lines in this configuration files that begin
  with the # character are considered comments, and are ignored. The remaining
  lines contain the following directives, in any order:
<div class="Pp"></div>
badfrom <i>user@domain</i>
<div style="margin-left: 4.00ex;">Reject all mail with the return address of
  &lt;user@domain&gt;.</div>
<div class="Pp"></div>
badfrom <i>@domain</i>
<div style="margin-left: 4.00ex;">Reject all mail with the return address of
  &lt;anything@domain&gt;.</div>
<div class="Pp"></div>
badfrom <i>@.domain</i>
<div style="margin-left: 4.00ex;">Reject all mail with the return address of
  &lt;anything@anything.domain&gt;.</div>
<div class="Pp"></div>
badfrom <i>user@.domain</i>
<div style="margin-left: 4.00ex;">Reject all mail with the return address of
  &lt;user@anything.domain&gt;.</div>
<div class="Pp"></div>
badmx <i>N</i>
<div style="margin-left: 4.00ex;">Reject all mail with a return address in any
  mail domain whose listed mail servers include server &quot; <i>N</i>&quot;.
  &quot; <i>N</i>&quot; is an IP address. The <b>BOFHCHECKDNS</b> option in the
  esmtp configuration file must also be enabled (this is the default setting) in
  order for this additional checking to take place. Note that this is &quot;best
  effort&quot; check. A DNS failure to look up A records for hostnames returned
  in the MX record may hide the blacklisted server from view.</div>
<div class="Pp"></div>
freemail <i>domain</i> [<i>domain2</i>] [<i>domain3</i>]...
<div style="margin-left: 4.00ex;">Reject all mail with a return address
  <i>&lt;anything@domain&gt;</i> unless the mail is received from a mail relay
  whose hostname is in the same domain. &quot; <i>domain2</i>&quot; and
  &quot;<i>domain3</i>&quot; are optional, and specifies other domains that the
  mail relay's hostname may belong to. For example: &quot; <i>freemail
  example.com domain.com</i>&quot; specifies that mail with a return address
  <i>@example.com</i> will be accepted only from a mail relay with a hostname in
  the <i>example.com</i> or <i>domain.com</i> domain. Note that this setting
  requires that DNS lookup be enabled for incoming ESMTP connections (which is
  the default setting).</div>
<div class="Pp"></div>
spamtrap <i>user@domain</i>
<div style="margin-left: 4.00ex;">Reject all mail that has
  <i>&lt;user@domain&gt;</i> listed as one of its recipients.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
For local mailboxes, 'domain' must be set to the contents of the me
  configuration file, or the server's hostname. Also, this check is made after
  any alias processing takes place. Suggested usage: create a single local
  spamtrap account, then create aliases in the alias file that point to the
  spamtrap account.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
maxrcpts <i>N</i> [hard]
<div style="margin-left: 4.00ex;">Accept the first <i>N</i> recipient addresses
  per message, maximum. The remaining recipients are rejected. An optional
  verbatim token &quot;hard&quot; specifies that the remaining recipients will
  immediately be returned as undeliverable (otherwise the remaining recipients
  are rejected as &quot;temporary unavailable&quot;, and may be accepted on a
  later delivery attempt). If not specified, the first 100 recipients are
  accepted.</div>
<div class="Pp"></div>
opt BOFHCHECKHELO=1
<div style="margin-left: 4.00ex;">Verify the hostname provided in the ESMTP
  HELO/EHLO statement. &#x201C;opt BOFHCHECKHELO=1&#x201D; is a global default,
  which may be overridden by setting the <b>BOFHCHECKHELO</b> environment
  variable in the SMTP access file. See <b></b><b>makesmtpaccess</b>(8)[3] for
  more information. &#x201C;opt BOFHCHECKHELO=1&#x201D; enables ESMTP HELO/EHLO
  checking by default, and ESMTP HELO/EHLO checking may be turned off for
  individual IP address ranges by setting <b>BOFHCHECKHELO</b> to 0 using
  <b></b> <b>makesmtpaccess</b>(8)[3]. Alternatively, HELO/EHLO checking may be
  turned off by default, and enabled for specific IP address ranges by using
  <b></b> <b>makesmtpaccess</b>(8)[3] to set <b>BOFHCHECKHELO</b> to 1. See
  <b></b> <b>makesmtpaccess</b>(8)[3] for more information.</div>
<div class="Pp"></div>
opt BOFHCHECKHELO=2
<div style="margin-left: 4.00ex;">Setting to <b>BOFHCHECKHELO</b>2 has the
  effect of returning a temporary SMTP error code, instead of a permanent SMTP
  error code, for a failed HELO/EHLO SPF check.</div>
<div class="Pp"></div>
opt BOFHHEADERLIMIT= <i>n</i>
<div style="margin-left: 4.00ex;">Reject messages whose headers exceed <i>n</i>
  bytes in size (minimum 1,000 bytes, default 100,000 bytes).</div>
<div class="Pp"></div>
opt BOFHNOBASE64TEXT=1
<div style="margin-left: 4.00ex;">Reject messages with base64-encoded text/plain
  or text/html content.</div>
<div class="Pp"></div>
opt BOFHSPFHELO= <i>keywords</i>
<div style="margin-left: 4.00ex;">Use Sender Policy Framework to verify the HELO
  or EHLO domain sent by the connecting SMTP client. See Sender Policy Framework
  Keywords below for a list of possible keywords.
<div style="height: 1.00em;">&#x00A0;</div>
SPF checking is not used for HELO or EHLO commands that specify an IP address
  instead of a domain name.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
This setting may be used in combination with opt BOFHCHECKHELO=1. The
  BOFHCHECKHELO=1 check is disabled if SPF verification of the HELO/EHLO results
  in the SPF status of &#x201C;pass&#x201D;. This makes sense: if the HELO/EHLO
  domains complies with the domain's SPF, it is not necessary to check it
  further.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
opt BOFHSPFMAILFROM= <i>keywords</i>
<div style="margin-left: 4.00ex;">Use Sender Policy Framework to verify the
  return address in the MAIL FROM command sent by the connecting SMTP client.
  See Sender Policy Framework Keywords below for a list of possible keywords.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
No SPF checking is done for if the MAIL FROM command specifies an empty return
  address (a bounce). There's nothing to check.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
opt BOFHSPFFROM= <i>keywords</i>
<div style="margin-left: 4.00ex;">Use Sender Policy Framework to verify the
  return address in the From: header. See Sender Policy Framework Keywords below
  for important information, and a list of possible keywords.</div>
<div class="Pp"></div>
opt BOFHSPFHARDERROR= <i>keywords</i>
<div style="margin-left: 4.00ex;">This setting lists the unacceptable SPF
  results that should result in a permanent error. All other unacceptable SPF
  results are kicked back with a temporary error indication, inviting the sender
  to try again later.
<div style="height: 1.00em;">&#x00A0;</div>
The default setting for <b>BOFHSPFHARDERROR</b> is fail,softfail.</div>
<div class="Pp"></div>
opt BOFHSPFTRUSTME=1
<div style="margin-left: 4.00ex;">Disable all SPF checks for any connecting
  client that has relaying privileges ( <b>RELAYCLIENT</b> is explicitly set, or
  inherited after a successful SMTP authentication).</div>
<div class="Pp"></div>
opt BOFHSPFNOVERBOSE=1
<div style="margin-left: 4.00ex;">This setting disables custom SPF rejection
  messages. Any SPF rejection message specified by the SPF policy is replaced by
  a stock, bland message. The author of this SPF implementation believes that
  there's a minor security issue with letting an external site control the error
  messages issued by your mail server. The same author does not believe that
  this is such a big deal, but security-sensitive minds may choose to enable
  this setting, and sleep easy at night.</div>
<div class="Pp"></div>
opt BOFHSUPPRESSBACKSCATTER= <i>list</i>
<div style="margin-left: 4.00ex;">This is one of the two settings that controls
  which messages are subject to backscatter suppression. The other setting,
  ESMTP_BLOCKBACKSCATTER is set in the courierd configuration file, which
  contains further documentation.
<div style="height: 1.00em;">&#x00A0;</div>
&#x201C;list&#x201D; is a comma-separated list of message sources. The possible
  message sources are:
<div class="Pp"></div>
authsmtp
<div style="margin-left: 4.00ex;">Messages received via SMTP from clients with
  relaying privileges (authenticated SMTP, or IP addresses that always have
  relaying privileges.</div>
<div class="Pp"></div>
smtp
<div style="margin-left: 4.00ex;">All other messages received via SMTP.</div>
<div class="Pp"></div>
none
<div style="margin-left: 4.00ex;">Do not suppress backscatter messages from any
  source.</div>
<div style="height: 1.00em;">&#x00A0;</div>
The default setting is &#x201C;opt BOFHSUPPRESSBACKSCATTER=smtp&#x201D;. The
  other possible values are &#x201C;opt
  BOFHSUPPRESSBACKSCATTER=smtp,authsmtp&#x201D; (which suppresses backscatter
  from all SMTP mail), and &#x201C;opt
  BOFHSUPPRESSBACKSCATTER=none&#x201D;.</div>
</div>
<div class="Pp"></div>
calendarmode
<div style="margin-left: 4.00ex;">This configuration file enables basic
  calendaring features in the webmail server. Calendaring is currently
  considered experimental in nature, and the current implementation provides
  basic calendaring services. If this file does not exist, calendaring options
  are disabled. If this file exists it should contain a single word:
  &quot;local&quot;. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
echo &quot;local&quot; &gt;/etc/courier/calendarmode
</pre>
</div>
This configuration file must be globally readable, so make sure that your umask
  is not set too tight.</div>
<div class="Pp"></div>
courierd
<div style="margin-left: 4.00ex;">This configuration file specifies several
  parameters relating to general the Courier mail server configuration. A
  default configuration file will be installed, and you should consult its
  contents for additional information.</div>
<div class="Pp"></div>
defaultdomain
<div style="margin-left: 4.00ex;">This file contains one line whose contents is
  a valid mail domain. Most header rewriting functions will append
  @defaultdomain to all E-mail addresses that do not specify a domain. If
  defaultdomain is missing, the Courier mail server uses the contents of the me
  control file.
<div style="height: 1.00em;">&#x00A0;</div>
When the ESMTP server receives a &#x201C;RCPT TO&#x201D; command containing the
  address &lt;user@[ <i>ip.address</i>]&gt;, and the IP address is the same as
  the IP address of the socket it's listening on, the ESMTP server replaces the
  IP address with the contents of the defaultdomain control file. If
  defaultdomain is missing, the Courier mail server uses the contents of the me
  control file.
<div style="height: 1.00em;">&#x00A0;</div>
The contents of defaultdomain are also appended to return addresses to mail sent
  from the Courier mail server's webmail server, if they don't already have a
  domain. If defaultdomain does not exist, the Courier mail server's webmail
  server obtain the machine hostname, and uses that.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
The mail domain in defaultdomain should be one of the local domains, as defined
  by the locals and the hosteddomains control files.
<div style="height: 1.00em;">&#x00A0;</div>
Otherwise, if a domain-less address in mail headers gets augmented with
  defaultdomain and the recipient replies to the message, upon receipt Courier
  won't recognize the recipient address as a local mailbox. This might not
  necessarily be wrong, but the consequences of such an action must be clearly
  understood.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If you change the contents of this configuration file, it may be necessary to
  rerun the <b>makealiases</b> command again, else your mail will promptly begin
  to bounce. If you don't have this configuration file defined, and you change
  the system's network host name, you may also need to run <b>makealiases</b>.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
dotextension
<div style="margin-left: 4.00ex;">This file contains one line whose contents
  specify the name of dot-files in users' home directories which contain
  delivery instructions. If this file does not exist, the Courier mail server
  reads $HOME/.courier, $HOME/.courier-foo, $HOME/.courier-default, and so on.
  If this file contains the text &quot;qmail&quot;, the Courier mail server will
  instead read $HOME/.qmail, $HOME/.qmail-foo, $HOME/.qmail-default, and so
  on.</div>
<div class="Pp"></div>
dsnfrom
<div style="margin-left: 4.00ex;">This file contains one line specifying the
  contents of the From: header that the Courier mail server puts in all delivery
  status notifications. This file specifies a complete header, except for the
  &quot;From: &quot; part. If dsnfrom is missing, then the Courier mail server
  uses the following header: &quot;Courier mail server mail server at me&quot;
  &lt;@&gt;</div>
<div class="Pp"></div>
dsnlimit
<div style="margin-left: 4.00ex;">Maximum size, in bytes, of a message whose
  contents are included in delivery status notifications. By default, the entire
  message is only included in non-delivery notices (failures). Only the headers
  will be returned for delay notifications (warnings) and return receipts; or
  for failures if the original message is larger than dsnlimit. If missing,
  dsnlimit is set to 32K.
<div style="height: 1.00em;">&#x00A0;</div>
The sender can request that the entire message be returned even on delayed
  notices or return receipts, however the Courier mail server will ignore this
  request if the message size exceeds this limit.</div>
<div class="Pp"></div>
enablefiltering
<div style="margin-left: 4.00ex;">This configuration file enables the global
  mail filtering API for selected mail sources. This file, if it exists,
  contains a single line of text that specifies which kind of mail will be
  filtered. The possible values are:
<div class="Pp"></div>
esmtp
<div style="margin-left: 4.00ex;">Enables global mail filtering for mail
  received via ESMTP.</div>
<div class="Pp"></div>
local
<div style="margin-left: 4.00ex;">Specifies that mail received from logged on
  users, via sendmail, and mail forwarded from <b></b><b>dot-courier</b>(5)[4]
  will be filtered using the global mail filtering API.</div>
<div class="Pp"></div>
uucp
<div style="margin-left: 4.00ex;">Specifies that mail received from UUCP will be
  filtered.</div>
<div style="height: 1.00em;">&#x00A0;</div>
If you want to specify more than one source of mail, such as ESMTP and local
  mail, specify both esmtp and local, separated by a space character.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
The global mail filtering API is described, in detail, in the
  <b></b><b>courierfilter</b>(8)[5] manual page. This is NOT the traditional
  user-controlled mail filtering, such as <b></b><b>maildrop</b>(1)[6]. A global
  mail filter is a daemon process that selectively accepts or rejects incoming
  mail, based on arbitrary criteria.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
esmtpacceptmailfor
<div style="margin-left: 4.00ex;">This file lists all domains that the Courier
  mail server accepts mail for via ESMTP. This file is in the same format as the
  locals file. If this file is missing, the Courier mail server uses the single
  domain specified in me (or the system machine name).</div>
<div class="Pp"></div>
esmtpacceptmailfor.dat
<div style="margin-left: 4.00ex;">This is a binary database file that lists
  additional domains that the Courier mail server accepts mail for, just like
  esmtpacceptmailfor. A binary database file will be faster than a flat text
  file when the number of domains is large. The Courier mail server will accept
  mail for domains listed in either esmtpacceptmailfor or
  esmtpacceptmailfor.dat. esmtpacceptmailfor.dat is created by the
  <b>makeacceptmailfor</b> command. You can use both esmtpacceptmailfor.dat and
  esmtpacceptmailfor at the same time. Put your most popular domains in
  esmtpacceptmailfor, and put the rest of them into
  esmtpacceptmailfor.dat.</div>
<div class="Pp"></div>
esmtpauthclient
<div style="margin-left: 4.00ex;">This configuration file configures ESMTP
  authentication for the ESMTP client. This is a text file of zero or more lines
  that contain the following fields:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
relay userid password
</pre>
</div>
When the Courier mail server connects to a remote ESMTP relay, the Courier mail
  server will authenticate itself using userid and password. These fields are
  separated by one or more whitespace characters. Because this file contains
  passwords, it must not be world or group readable, and owned by the user
  &quot;courier&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
ESMTP negotiation will take place, and the Courier mail server will use a SASL
  authentication method supported by both the Courier mail server and the remote
  ESMTP server. Currently the Courier mail server supports PLAIN, LOGIN and
  CRAM-MD5 authentication. CRAM-MD5 is preferred over the other two, and PLAIN
  is preferred over LOGIN.
<div style="height: 1.00em;">&#x00A0;</div>
The Courier mail server also supports ESMTP over SSL (the ESMTP STARTTLS
  extension). If ESMTP STARTTLS is enabled, STARTTLS will be used to establish a
  secure link first. The authentication will take place afterwards, over a
  secure channel.
<div style="height: 1.00em;">&#x00A0;</div>
Changes to this file take effect, more or less, immediately (existing
  connections are not affected, but new connections will read the updated
  data).</div>
<div class="Pp"></div>
esmtpd
<div style="margin-left: 4.00ex;">This file is used to initialize the
  environment and parameters for <b>courieresmtpd</b>. A default file will be
  provided during installation. See the comments in the file for more
  information. For changes to this file to take effect you run the <b>esmtpd
  stop</b> command followed by <b>esmtpd start</b>.</div>
<div class="Pp"></div>
esmtpdelay
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies how long <b>courieresmtp</b> waits after a failure to contact the
  remote mail server before another attempt is made. <b>courieresmtp</b> (not to
  be confused with <b>courieresmtpd</b>) delivers outgoing mail to remote mail
  servers. The timeout is specified as an integral number, optionally followed
  by m - minutes, or h - hours. Otherwise it is specified in seconds.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>courieresmtp</b> process delivers mail that's routed to external mail
  relays, via ESMTP. When attempting to initally contact a mail server
  <b>courieresmtp</b> waits for the amount of time specified by
  esmtptimeoutconnect (see below). esmtptimeoutconnect is usually set to a
  relatively long period of time, in order to accomodate slow mail servers. A
  large number of messages queued up for an unreachable mail server can tie up
  delivery slots that can be put to a better use by reassigning them for mail to
  another domain. Although the Courier mail server does not usually assign all
  delivery slots for messages to the same domain (this is a tuneable parameter),
  it is still not very healthy to have a bunch of <b>courieresmtp</b> daemons
  spinning their wheels, doing nothing.
<div style="height: 1.00em;">&#x00A0;</div>
The situation worsens when there is a large number of mail relays that accept
  mail for the same domain, and all of them are unreachable due to a network
  failure. That's because the esmtptimeout waiting period is used for each
  individual mail relay. Multiply esmtptimeout by the number of servers to see
  how large the delay really will be.
<div style="height: 1.00em;">&#x00A0;</div>
esmtpdelay is implemented internally in the <b>courieresmtp</b> module. The main
  the Courier mail server scheduling daemon is not aware of what's happening
  internally in <b>courieresmtp</b>. When <b>courieresmtp</b> fails to contact
  any mail relay for the domain, the message is postponed, and the esmtpdelay
  timer is set. Any additional messages received by the same <b>courieresmtp</b>
  daemon (for the same domain), are immediately postponed without any attempt to
  contact a remote mail relay. When the amount of time set by esmtpdelay
  expires, <b>courieresmtp</b> will attempt to make another delivery attempt as
  usual.
<div style="height: 1.00em;">&#x00A0;</div>
If esmtpdelay does not exist, the default delay is five minutes. Any messages
  that are postponed look like any other temporary failure to <b>courierd</b>.
  Delivery attempts are rescheduled as if a real temporary failure took place.
  Therefore it does not make sense to set esmtpdelay to be greater than
  retryalpha (see below). When retryalpha is smaller is esmtpdelay, you'll just
  messages spinning through the mail queue, with useless delivery attempts being
  attempted because esmtpdelay still hasn't expired.
<div style="height: 1.00em;">&#x00A0;</div>
Occasionally you might observe somewhat strange behavior on systems with heavy
  mail traffic. esmtpdelay applies separately to each individual instance of
  <b>courieresmtp</b>. When a remote mail server keeps going up and down, it is
  possible to end up with multiple <b>courieresmtp</b> daemons handling mail for
  the same domain, but only some of them will encounter a network failure,
  purely by the luck of the draw. The remaining daemons will be able to
  establish a connection. So you'll end up with some <b>courieresmtp</b> daemons
  being able to deliver mail immediately, while the rest are still waiting
  patiently for esmtpdelay to expire, postponing all messages in the meantime.
  Some messages - but not all - will be immediately postponed without a delivery
  attempt, becauses they ended up getting to a daemon which is waiting for
  esmtpdelay to expire.
<div style="height: 1.00em;">&#x00A0;</div>
Another anomalous situation may happen when a <b>courieresmtp</b> daemon gets
  reassigned to another domain, and then receives more mail for the previous
  domain. This can happen when you have a lot of mail going through. Although
  the Courier mail server tries to shuffle all mail for same domain into one
  pile, the scheduler still tries to dispatch mail on &quot;first-come,
  first-serve&quot; basis, as much as possible. When that happens another
  delivery attempt will be made immediately, because the previous esmtpdelay was
  cancelled when the daemon got reassigned to another domain.
<div style="height: 1.00em;">&#x00A0;</div>
There can also be occasional abnormalities that affect systems with light
  traffic. When there is a domain with several mail relays of equal priority,
  one mail relay is chosen at random for the connection attempt. If some of the
  equal-priority mail relays are unreachable and a <b>courieresmtp</b> daemon
  picks it, it will start the esmtpdelay timer and refuse to deliver any more
  mail until it expires, even if most of the mail servers are functional. This
  will happen only with mail relays of the lowest priority. Otherwise,
  <b>courieresmtp</b> will always try to contact another mail relay of a still
  lower priority, before giving up and setting the esmtpdelay timer. Another
  <b>courieresmtp</b> daemon will not be started for the same domain if there's
  already an existing one, so all delivery attempts will be turned away until
  esmtpdelay expires. Another <b>courieresmtp</b> daemon will be started only in
  the event of multiple simultaneous delivery attempts that happen to coincide
  at the same time.
<div style="height: 1.00em;">&#x00A0;</div>
This is somewhat mitigated by the fact that all <b>courieresmtp</b> daemons are
  killed after a short period of total inactivity (currently one minute), so
  that longer intervals specified by esmtpdelay are ignored. Note, however, that
  receiving a message to deliver, and then postponing it immediately, does count
  as some activity.
<div style="height: 1.00em;">&#x00A0;</div>
esmtpdelay can be turned off by setting it to 0 seconds. esmtpdelay is designed
  for servers that handle heavy amount of mail that wish to avoid having
  outbound delivery slots tied up due to network failures, at an expense of an
  occasional anomalous behavior due to harmless paranoia. esmtpdelay may prove
  to actually make things worse for systems that carry only light mail traffic,
  if they are burdened with a task of exchanging mail primarily with external
  systems that are not properly maintained.</div>
<div class="Pp"></div>
esmtpgreeting
<div style="margin-left: 4.00ex;">The complete greeting banner displayed by
  <b>courieresmtpd</b>. Changes to this file take effect immediately.</div>
<div class="Pp"></div>
esmtphelo
<div style="margin-left: 4.00ex;">This file contains one line of text, what the
  Courier mail server calls itself in the EHLO or HELO command sent to a remote
  SMTP server. me is used if this file does not exist.
<div style="height: 1.00em;">&#x00A0;</div>
esmtphelo may also be set to a special value of &#x201C;*&#x201D;:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
echo '*' &gt;esmtphelo
</pre>
</div>
(Note the single quotes, to prevent &#x201C;*&#x201D; from being expanded by the
  shell). The Courier mail server will take the IP address of the local side of
  the connection to the remote SMTP server, look up the IP address in DNS, and
  use the hostname from the reverse DNS lookup. This might be useful when the
  Courier mail server server is multihomed. The Courier mail server will look up
  the local IP address of each individual connection, and use that in its EHLO
  or HELO command.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Functioning DNS is required. Using the hosts file, or an equivalent, won't work.
  This function uses the Courier mail server's native DNS resolver, which reads
  /etc/resolv.conf and queries the listed DNS servers directly.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
See the section called &#x201C;Servers with multiple IP addresses&#x201D; for a
  better way of accomplishing the same results.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
esmtproutes
<div style="margin-left: 4.00ex;">This file is used by the ESMTP module, and it
  contains one or more lines in the following form:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<i>domain</i>:<i>relay</i>[,<i>port</i>][/SECURITY=STARTTLS][/SECURITY=REQUIRED][/SECURITY=SMTPS]
</pre>
</div>
<i>domain</i> is any SMTP domain. <i>relay</i> specifies a fixed mail relay for
  this domain. <i>relay</i> is optionally followed by a comma and a port number,
  to specify a port other than the default port 25. If an address's domain is
  not found in esmtproutes, the Courier mail server looks for MX and A records
  as usual (and always delivers to port 25). If the domain is found in
  esmtproutes, however, any MX or A records for the domain are ignored; instead
  the Courier mail server delivers the message to the specified relay.
<div style="height: 1.00em;">&#x00A0;</div>
<i>relay</i> can be another domain, or an explicit IP address inside brackets.
  For example, if esmtproutes contains the following:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
example.com: relay.domain.com
domain.com: [192.168.0.2]
</pre>
</div>
Mail for example.com is delivered to relay.domain.com, ignoring any MX records
  for example.com. Mail for domain.com will be delivered to the machine at IP
  address 192.168.0.2. All other domains will have their MX and A records looked
  up.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Unlike Qmail, the Courier mail server looks up MX and A records for
  relay.example.com (Qmail only looks up A records).
<div style="height: 0.50em;">&#x00A0;</div>
</div>
esmtproutes may contain comments, any line that starts with the # character is
  ignored. Also, wildcards are allowed:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
 .example.com: [192.168.0.3],26
</pre>
</div>
This specifies that any address of the form
  &lt;anything@anything.example.com&gt; will be delivered to the mail server at
  this IP address, but on port 26.
<div style="height: 1.00em;">&#x00A0;</div>
esmtproutes is read from top to bottom, stopping as soon as a first match is
  found.
<div style="height: 1.00em;">&#x00A0;</div>
domain may be empty, this specifies a smarthost for all domains. For example, if
  esmtproutes contains the following text:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
example.com: relay.example.com
        :[192.168.0.4]
</pre>
</div>
This specifies that all mail to example.com is rerouted to relay.example.com.
  All other mail is routed to the IP address 192.168.0.4.
<div style="height: 1.00em;">&#x00A0;</div>
If relay is empty, the Courier mail server interprets it as an explicit
  directive to use MX and A records from DNS. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
example.com:
:[192.168.0.4]
</pre>
</div>
This uses MX and A records for all messages to example.com. All other mail is
  rerouted to the IP address 192.168.0.4.
<div style="height: 1.00em;">&#x00A0;</div>
The /SECURITY=STARTTLS flag indicates that mail to this domain will use the
  SECURITY ESMTP extension. See the Courier mail server installation notes for a
  description of SECURITY, what it does, and how to configure it.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
/SECURITY=STARTTLS does <i>not</i> refer to the standard implementation of SMTP
  over TLS, but a Courier-specific extension. Courier automatically sends mail
  using encryption if it's enabled and the remote server advertises STARTTLS.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
/SECURITY=SMTPS uses an encrypted SMTP connection. This is an alternative to
  STARTTLS. Encrypted SMTP uses a different port, port 465, which must be
  specified explicitly:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
: relay.example.com,465 /SECURITY=SMTPS
</pre>
</div>
This example forwards all mail to relay.example.com on port 465 using encrypted
  SMTP.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If you intend to use /SECURITY=SMTPS to forward all your mail to your provider's
  mail server over smtps additional you should also set
  ESMTP_TLS_VERIFY_DOMAIN=1, TLS_VERIFYPEER=PEER, and TLS_TRUSTCERTS to a list
  of trusted certificate authorities (Courier's configuration script should
  provide a default value for TLS_TRUSTCERTS on most platforms), in the courierd
  configuration file.
<div style="height: 1.00em;">&#x00A0;</div>
Otherwise, TLS still gets used to send mail, but the smarthost's certificate
  does not get validated. Properly-managed Internet providers should install a
  valid certificate, signed by a trusted authority, if they require SMTPS.
  Poorly-managed Internet providers will just install a self-signed certificate,
  and will not be able to explain why they require SMTPS, if it's trivially
  compromised with a man-in-the-middle attack that a non-validated certificate
  enables, so either find a more competent provider, or use /SECURITY=SMTPS
  without actually enabling all the extra validation that's actually needed to
  gain any kind of a secure mail transmission channel.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
A combination of broken mail servers written by incompetent programmers, and
  poorly-managed Internet providers will result in a mail server that advertises
  the ability to use an encrypted connection to receive mail, but either
  disconnect immediately, or return an error message when the sender takes up
  the receiver's offer to do so.
<div style="height: 1.00em;">&#x00A0;</div>
When the Courier mail server connects to another server that claims to support
  an encrypted connection, tries to enable it, then fails because the other mail
  server drops the connection or returns an error message, all subsequent
  connection attempts to the same mail server will ignore the server's false
  advertising, and proceed to send mail without attempting to enable encryption.
  The Courier mail server remembers not to use the encryption with this server
  for the next 2-4 hours (depending on an internal log file's rotation
  schedule). Once the remote mail server emerges from the penalty box, the next
  connection attempt will try again, and see if it's still doesn't work.
<div style="height: 1.00em;">&#x00A0;</div>
The /SECURITY=REQUIRED flag blocks the Courier mail server from sending mail to
  the remote server unless a standard encryped connection can get established.
  If it's known that the given mail server should only receive encrypted mail,
  /SECURITY=REQUIRED prevents a man-in-the-middle attack where the remote mail
  server's advertisement of is STARTTLS capability gets suppressed, and the mail
  gets sent in the clear.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
ESMTP_TLS_VERIFY_DOMAIN=1, TLS_VERIFYPEER=PEER, and TLS_TRUSTCERTS should also
  be set, in the courierd configuration file, as described above, for the same
  reasons, in this case.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
To summarize:
<div class="Pp"></div>
/SECURITY=STARTTLS
<div style="margin-left: 4.00ex;">Courier-specific extension, use a private
  certificate authority to set up a secure mail network, while supporting
  regular encrypted TLS with the rest of the world.</div>
<div class="Pp"></div>
/SECURITY=SMTPS
<div style="margin-left: 4.00ex;">Use regular encrypted SSL/TLS with this mail
  server. Use this flag with an esmtproutes entry to a server on port 465
  (smtps).</div>
<div class="Pp"></div>
/SECURITY=REQUIRED
<div style="margin-left: 4.00ex;">Must use the STARTTLS extension to open a
  regular encrypted TLS connection with this server on the regular SMTP port
  25.</div>
<div style="height: 1.00em;">&#x00A0;</div>
Changes to esmtproutes take effect immediately, more or less. Existing
  <b>courieresmtp</b> processes that already have an established connection will
  ignore any changes.</div>
<div class="Pp"></div>
esmtptimeout
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies the timeout for an SMTP command. The timeout is specified as an
  integral number, optionally followed by m - minutes, or h - hours. Otherwise
  it is specified in seconds. This timeout is used for all SMTP commands, unless
  the SMTP command has a dedicated timeout defined by a different configuration
  file. The default timeout is ten minutes.</div>
<div class="Pp"></div>
esmtptimeoutconnect
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies the timeout for an SMTP connection attempt. Most TCP/IP stacks wait
  an extraordinary long period of time for SMTP connections to go through. This
  configuration setting limits the amount of time the Courier mail server waits
  for the SMTP connection to complete. The default timeout is one minute. Set
  esmtptimeoutconnect to 0 in order to use whatever default timeout your TCP/IP
  stack uses.</div>
<div class="Pp"></div>
esmtptimeoutdata
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies the timeout for transferring the message contents or individual
  replies. The default timeout is five minutes. You WILL HAVE TO bump this up if
  you're on a slow link, and you want to send large messages. A 28.8Kbps link
  can be optimistically expected to push 3,000 bytes per second. With a five
  minute cutoff, you will not be able to send or receive anything larger than
  about 870 Kb. You have no business sending or receiving 870 Kb messagesl, if
  all you have is an analog 28.8Kbps connection.</div>
<div class="Pp"></div>
esmtptimeouthelo
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies the timeout for the initial EHLO or HELO command. The Courier mail
  server will wait this amount of time to receive the initial greeting banner
  from the remote SMTP server, and a response to the subsequent EHLO/HELO
  command. The default value is 5 minutes.</div>
<div class="Pp"></div>
esmtptimeoutkeepalive
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies how often outbound SMTP sessions are kept idle after delivering a
  message. After the Courier mail server connects to an SMTP server and
  completes the attempt to deliver the message, the SMTP session is kept idle
  for this time interval before being shut down. If the Courier mail server
  receives another message for the same domain, it will be delivered using the
  existing SMTP session, instead of establishing a new one. Note that some SMTP
  servers have a very short idle timeout, Qmail's is only two minutes. The
  default value is 60 seconds.
<div style="height: 1.00em;">&#x00A0;</div>
Note that there's also a separate limit to the maximum number of simultaneous
  SMTP sessions to the same domain. That limit is currently four, which is
  adequate for nearly every situation, so for now it will be set by an
  undocumented configuration file.</div>
<div class="Pp"></div>
esmtptimeoutkeepaliveping
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies how often the Courier mail server will issue a useless RSET command
  when the connection is idle (see esmtptimeoutkeepalive). While waiting for any
  more messages to deliver to the same domain, or for the esmtptimeoutkeepalive
  interval to expire, <b>courieresmtp</b> will transmit RSET commands at regular
  intervals specified by this configuration file. The default value is 0
  seconds, which turns off the keepalive ping altogether. This configuration
  settings must be for a shorter time interval than esmtptimeoutkeepalive for it
  to make any sense. Note that other system administrators may consider this to
  be a very rude thing to do. Also keep in mind that this may generate quite a
  bit of idle traffic. If you have the Courier mail server configured for a
  maximum number of 200 outbound SMTP sessions and a 30 second
  esmtptimeoutkeepaliveping setting, then you can have as much as an average of
  around seven pings every second!</div>
<div class="Pp"></div>
esmtptimeoutquit
<div style="margin-left: 4.00ex;">This file contains one line of text that
  specifies how long the Courier mail server waits for the external SMTP server
  to acknowledge the QUIT command, before the Courier mail server unilaterally
  tears down the connection. The default value is 10 seconds. This must be a
  small value because the Courier mail server needs to be able to shut down
  quickly, on very short notice.</div>
<div class="Pp"></div>
faxqueuetime
<div style="margin-left: 4.00ex;">This file specifies how long the Courier mail
  server normally tries to repeatedly resend a fax message (if the courierfax
  module is enabled). The default E-mail message retry timeout (the queuetime
  setting) is one week, which is a reasonable timeout value for E-mail messages
  (taking into account downed circuits, or crashed servers). However, it doesn't
  make sense to keep trying to redeliver fax messages for a whole week.
<div style="height: 1.00em;">&#x00A0;</div>
faxqueuetime specifies the timeout for fax messages. This time interval is
  specified in the same way as queuetime (see queuetime for more
  information).</div>
<div class="Pp"></div>
faxnotifyrc
<div style="margin-left: 4.00ex;">This file specifies which mailbox the Courier
  mail server should deliver received faxes (if this option is enabled). See the
  Courier mail server's installation notes for more information.</div>
<div class="Pp"></div>
faxrc
<div style="margin-left: 4.00ex;">This file configures the Courier mail server's
  outbound faxing and dialing parameters. Consult the comments in the default
  file for additional information, and the <b></b><b>courierfax</b>(8)[7] manual
  page for more information.</div>
<div class="Pp"></div>
hosteddomains
<div style="margin-left: 4.00ex;">This file lists locally-hosted domains. It is
  very similar in function to the locals control file. Any address with a domain
  listed in hosteddomains is considered to be a local address. The difference
  between hosteddomains and locals is that domains listed in hosteddomains are
  not removed from individual addresses before looking up the location of their
  mailboxes. For example, if the domain &quot;example.com&quot; appears in
  locals, the address user@example.com will have example.com removed, and then
  the Courier mail server will look for a local mailbox named &quot;user&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
If the domain &quot;example.com&quot; appears in hosteddomains instead, the
  Courier mail server will look for a local mailbox named
  &quot;user@example.com&quot; instead.
<div style="height: 1.00em;">&#x00A0;</div>
The contents of the hosteddomains configuration file is a list of domains, one
  per line, in lowercase. You must run the <b>makehosteddomains</b> command,
  followed by <b>courier restart</b> (this restarts the server) for any changes
  to take effect.
<div style="height: 1.00em;">&#x00A0;</div>
Additionally, hosteddomains can specify simple domain aliases. See the complete
  description in the <b></b><b>makehosteddomains</b>(8)[8] manual page.</div>
<div class="Pp"></div>
ipout, ip6out
<div style="margin-left: 4.00ex;">Non-default IP addresses to send outgoing
  ESMTP messages from. See the section called &#x201C;Servers with multiple IP
  addresses&#x201D; and the section called &#x201C;Simulating a server with
  multiple IP addresses&#x201D;, below, for more information.</div>
<div class="Pp"></div>
ldapaddressbook
<div style="margin-left: 4.00ex;">This file is used by the webmail server. It
  contain a default systemwide list of accessible LDAP address books. A default
  file will be installed, listing some common Internet address books. Each line
  in this file contains the following information:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
name&lt;tab&gt;host&lt;tab&gt;port&lt;tab&gt;suffix&lt;tab&gt;binddn&lt;tab&gt;bindpw
</pre>
</div>
&quot;&lt;tab&gt;&quot; is the ASCII tab character. &#x201C;name&#x201D; is the
  unique name for this LDAP server. &#x201C;host&#x201D; and
  &#x201C;port&#x201D; specify the connection parameters. &#x201C;suffix&#x201D;
  specifies the root LDAP entry whose subtree gets searched. The
  &#x201C;binddn&#x201D; and &#x201C;bindpw&#x201D; fields are not presently
  used (they were used in earlier version of the webmail server, before the LDAP
  search interface was rewritten and simplified).</div>
<div class="Pp"></div>
ldapaliasrc
<div style="margin-left: 4.00ex;">This file is used by the courierldapaliasd
  process. See <b></b><b>courierldapaliasd</b>(8)[9] for more information.</div>
<div class="Pp"></div>
locallowercase
<div style="margin-left: 4.00ex;">If this file exists, the Courier mail server
  will not distinguish being lowercase and uppercase local accounts, so that
  john@example.com and John@example.com will refer to the same local mailbox
  (where example.com is your domain). Postmaster, postmaster, and POSTMASTER
  always refer to the same account, even if locallowercase does not exist.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If locallowercase exists you cannot have any system accounts that contain
  uppercase letters. locallowercase applies only to local mail. Mail addressed
  to external domains will always have the case of the addresses preserved.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
locals
<div style="margin-left: 4.00ex;">This file contains one or more lines of text,
  where each line contains a valid mail domain. Any E-mail address without
  @domain, or with a domain that can be found in locals will be considered to be
  an address of a local mailbox. A domain can be specified with a leading dot:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
 .domain.com
</pre>
</div>
This is called a &quot;wildcard&quot;. Any domain ending in domain.com, such as
  a.domain.com, b.domain.com, a.b.c.domain.com - but NOT somedomain.com - will
  be considered local. Note that domain.com is NOT included in this wildcard.
  Both &quot;domain.com&quot; and &quot;.domain.com&quot; should be listed.
<div style="height: 1.00em;">&#x00A0;</div>
Specific hosts can be excluded from the wildcard. Example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
 !host.domain.com
 .domain.com
</pre>
</div>
anything.domain.com is considered to be a local domain, except for
  host.domain.com. Note that &quot;!host.domain.com&quot; must appear in locals
  before the .domain.com wildcard.
<div style="height: 1.00em;">&#x00A0;</div>
The &quot;!hostname&quot; syntax is also valid in the esmtpacceptmailfor control
  file.
<div style="height: 1.00em;">&#x00A0;</div>
If locals does not exist, the Courier mail server uses the contents of the me
  control file (note that me specifies only one domain, second and subsequent
  lines are ignored). Also, see hosteddomains.</div>
<div class="Pp"></div>
localtimeout
<div style="margin-left: 4.00ex;">This file specifies the watchdog timer for
  local mail deliveries. If a local mail delivery attempt does not complete in
  the proscribed time interval, the delivering process ID is killed. The time
  interval in localtimeout is specified in the same way as queuetime (see
  queuetime for more information).</div>
<div class="Pp"></div>
logindomainlist
<div style="margin-left: 4.00ex;">If this file exists then the webmail login
  screen will have a drop-down list whose contents will be read from this file.
  This file should contain a list of E-mail domains, one per line. It should be
  created if the Courier mail server's webmail server is used to provide mail
  access for more than one domain. Instead of typing &quot;user@domain&quot; to
  log in, it will only be necessary to enter &quot;user&quot;, and select the
  domain from the drop-down list. If this file does not exist it will be
  necessary to enter the full E-mail address into the webmail login screen. The
  enhanced logindomainlist makes it possible to specify a separate list of
  domain for each virtual web site, and more control over the defaults.
<div style="height: 1.00em;">&#x00A0;</div>
What if you don't want to display a drop down menu? Administrators can now
  specify records that generate a hidden field in login.html, or an editable
  text field, allowing sqwebmail to show only one mail login domain to each user
  per access URL or IP address. This functionality can greatly reduce confusion
  for first time webmail users, and greatly speed the login process for frequent
  webmail users.
<div style="height: 1.00em;">&#x00A0;</div>
Finally, the new logindomainlist file offers a new tool to ease maintenance.
  Administrators can now use wildcards to &quot;rewrite&quot; the domain portion
  of the access URL to the mail domain equivalent. For example, the following
  record can rewrite the URL &quot;mail.*.com&quot; to the mail domain
  &quot;*.com&quot;
<div style="height: 1.00em;">&#x00A0;</div>
*.com:mail.*.com:@
<div style="height: 1.00em;">&#x00A0;</div>
This powerful wildcard functionality can ease the login process for most of your
  server's mail domains with just one or two logindomainlist records.
<div class="Pp"></div>
File Format
<div style="margin-left: 4.00ex;">Let's take a look at the NEW logindomainlist
  file format:
<div style="height: 1.00em;">&#x00A0;</div>
firstfield:secondfield:thirdfield
<div style="height: 1.00em;">&#x00A0;</div>
Above, we can see that the new logindomainlist records are made up of three
  fields delimited by colons. But what does each field do?
<div style="height: 1.00em;">&#x00A0;</div>
First Field - the first field contains the &quot;mail domain&quot; for which we
  would like the user to log in under. The mail domain is the part of an email
  address after the @ symbol. For example, in the email address
  &quot;user@domain.com&quot;, &quot;domain.com&quot; is the mail domain.
<div style="height: 1.00em;">&#x00A0;</div>
Second Field - the second field contains the &quot;access domain&quot;. The
  access domain contains an URL or IP address that is used to figure out which
  mail domain to use by default. For example, in the following logindomainlist
  record:
<div style="height: 1.00em;">&#x00A0;</div>
domain1.com:domain2.com
<div style="height: 1.00em;">&#x00A0;</div>
&quot;domain2.com&quot; is the &quot;access domain&quot; and
  &quot;domain1.com&quot; is the &quot;mail domain&quot;. If the user logs into
  the following URL:
<div style="height: 1.00em;">&#x00A0;</div>
http://domain2.com/cgi-bin/sqwebmail
<div style="height: 1.00em;">&#x00A0;</div>
His default &quot;mail domain&quot; will be &quot;domain1.com&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
Third Field - the third field may contain a modifier. The modifier may be either
  a single character modifier, or a group identification string. The single
  character modifiers and the group modifier are described in detail below.
<div style="height: 1.00em;">&#x00A0;</div>
Finally, the logindomainlist file may also contain comments and empty lines.
  Empty lines can be used to group records visually, and comments can be used to
  explain why a certain record or group of records look the way they do.
<div style="height: 1.00em;">&#x00A0;</div>
If the first character of a line is a '#', then the entire line is considered a
  comment and is ignored. If the first character of a line contains whitespace,
  the entire line is assumed to be an empty line and is ignored.</div>
<div class="Pp"></div>
Modifiers
<div style="margin-left: 4.00ex;">@ - the '@' modifier can be used to create a
  hidden field on the login.html page which contains the default mail domain. In
  addition, this field will automatically display the default mail domain in
  plain text to the right of the userid text box.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
The '@' modifier ALLOWS the use of wildcards to automate the relationship
  between &quot;access domains&quot; and &quot;mail domains&quot;. See the
  heading &quot; <i>Wildcards</i>&quot; below for more information about
  wildcarding.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
- - the '-' modifier can be used to create an editable text field on the
  login.html page which contains the default mail domain.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
The '-' modifier ALLOWS the use of wildcards to automate the relationship
  between &quot;access domains&quot; and &quot;mail domains&quot;. See the
  heading &quot; <i>Wildcards</i>&quot; below for more information about
  wildcarding.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
group string - If no modifier is specified in the third field, or if the third
  field modifier is a group identifier string, then a drop down menu will be
  displayed on the login.html page. Records with the SAME group string will be
  displayed together in the drop down. For example, if your logindomainlist file
  contains the following records:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
     domain1.com:domain2.com:firstgroup
     domain3.com:domain4.com:firstgroup
     domain5.com:domain6.com:firstgroup
     domain7.com:domain8.com:secondgroup
     domain9.com:domain10.com:secondgroup
</pre>
</div>
And the user logs into sqwebmail with the following URL:
<div style="height: 1.00em;">&#x00A0;</div>
http://domain4.com/cgi-bin/sqwebmail
<div style="height: 1.00em;">&#x00A0;</div>
He will see a drop down containing ONLY the following domains:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
     domain1.com
     domain3.com
     domain5.com
</pre>
</div>
&quot;domain3.com&quot; will be automatically selected, or defaulted. Only the
  records in the firstgroup will be visible to the user. This functionality is
  great for organizations with more than one mail domain.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
The group string modifier does NOT allow the use of wildcards to automate the
  relationship between &quot;access domains&quot; and &quot;mail domains&quot;.
  This is because drop down menus are fundamentally incompatible with wildcards.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
Wildcards
<div style="margin-left: 4.00ex;">If a record's modifier allows wildcarding (See
  &quot; <i>Modifiers</i>&quot; above for information about which modifiers
  allow wildcarding and which do not.) then the first and second fields of that
  record _MAY_ contain wildcards. Wildcards match against the HTTP_HOST CGI
  environment variable only. IP addresses can NOT be used if either the first or
  second fields contain the wildcard character. However, if neither the first
  nor second fields contain the wildcard character, then the second field can
  contain an IP address.
<div style="height: 1.00em;">&#x00A0;</div>
In the logindomainlist file, an asterisk (*) character in either the first
  and/or second field represents a wildcard. Any asterisk in the second field
  will be used to match an access domain. If an asterisk exists in the first
  field then any characters which the asterisk in the second field represents
  will replace the asterisk in the first field when sqwebmail determines the
  default mail domain. However, asterisks are not required in either the first
  or second fields. They are totally optional. For example, given the following
  logindomainlist record:
<div style="height: 1.00em;">&#x00A0;</div>
*.com:mail.*.com:@
<div style="height: 1.00em;">&#x00A0;</div>
If the user logs into sqwebmail with the following URL:
<div style="height: 1.00em;">&#x00A0;</div>
http://mail.mydomain.com/cgi-bin/sqwebmail
<div style="height: 1.00em;">&#x00A0;</div>
The asterisk in the second field will represent the string &quot;mydomain&quot;.
  This string will then replace the asterisk in the first field to give the
  following default mail domain: mydomain.com
<div style="height: 1.00em;">&#x00A0;</div>
Similarly, if the following record exists in the logindomainlist file:
<div style="height: 1.00em;">&#x00A0;</div>
*:*:@
<div style="height: 1.00em;">&#x00A0;</div>
Then ANY URL the user uses to access sqwebmail will be automatically used for
  the default mail domain.
<div style="height: 1.00em;">&#x00A0;</div>
But the first field doesn't _HAVE_ to contain an asterisk. The following will
  work just fine:
<div style="height: 1.00em;">&#x00A0;</div>
mydomain.com:mydomain.*:@
<div style="height: 1.00em;">&#x00A0;</div>
The above example will allow the user to access the &quot;mydomain.com&quot;
  mail domain from any of the following URLs: &quot;mydomain.org&quot;,
  &quot;mydomain.net&quot;, &quot;mydomain.us&quot;, etc...
<div style="height: 1.00em;">&#x00A0;</div>
And finally, the first field doesn't have to contain anything at all! If the
  first field is empty, that record will serve as an explicit no-default mail
  domain. No default mail domain will be specified if the second field matches
  the user's login URL. This is useful because the logindomainlist is searched
  from the top down. Any wildcard records at the bottom of the list will be
  overridden by records closer to the top. An &quot;explicit no-default&quot;
  record can be used to specify certain domains as &quot;system account&quot;
  domains so that no default mail domain is specified.</div>
</div>
<div class="Pp"></div>
maildirfilterconfig
<div style="margin-left: 4.00ex;">This file, if exists, sets the global defaults
  for mail filtering in the webmail server. Mail filtering in the webmail server
  is a subject worthy of special mention. A full description of how to install
  and configure webmail-based mail filtering is included in the installation
  notes for the Courier mail server. Refer to the installlation instructions for
  additional information.</div>
<div class="Pp"></div>
maildirshared
<div style="margin-left: 4.00ex;">This file, if exists, specifies the location
  of shared maildirs for the webmail and IMAP server. Normally, each mailbox
  must be separately configured to access every shared maildir, by the
  <b></b><b>maildirmake</b>(1)[10] command. This file allows shared maildirs to
  be set globally for everyone. Everyone's webmail and IMAP server will pick up
  the shared maildirs specified in this file. See
  <b></b><b>maildirmake</b>(1)[10] for more information.</div>
<div class="Pp"></div>
maildrop
<div style="margin-left: 4.00ex;">This file contains one line whose contents is
  a pathname to the <b></b><b>maildrop</b>(1)[6] mail delivery agent. If the
  Courier mail server knows that the delivery agent used to delivery mail
  locally is <b></b><b>maildrop</b>(1)[6] then certain delivery optimizations
  are possible. This configuration file does NOT actually specify that
  <b></b><b>maildrop</b>(1)[6] should be used as a local mail delivery agent, it
  only specifies where <b></b><b>maildrop</b>(1)[6] is installed. The default
  local mail delivery instructions are specified in the courierd configuration
  file. If the specified delivery instruction specify running an external
  program whose pathname matches the one specified by this configuration file,
  the Courier mail server assumes that it's <b></b><b>maildrop</b>(1)[6], and
  will use maildrop-specific options to optimize mail delivery.
<div style="height: 1.00em;">&#x00A0;</div>
This configuration file is initialized, by default, to point to the version of
  <b></b><b>maildrop</b>(1)[6] that's integrated with the Courier mail server.
  The integrated version of <b></b><b>maildrop</b>(1)[6] is configured slightly
  differently than the standalone version of <b></b><b>maildrop</b>(1)[6].
<div style="height: 1.00em;">&#x00A0;</div>
Although you can set the maildrop configuration file to point to some other
  version of the <b>maildrop</b> mail filter, you MUST set the maildropfilter
  configuration file (see below), to point to the integrated version of
  <b>maildrop</b>.</div>
<div class="Pp"></div>
maildropfilter
<div style="margin-left: 4.00ex;">This file contains one line whose contents is
  a pathname to the <b></b><b>maildrop</b>(1)[6] mail delivery filter. In
  addition to being a delivery agent, maildrop can also be used as a mail
  filtering engine. If this file exists, the Courier mail server will be capable
  of invoking recipient-specified mail filters when a message is received. If
  the mail filtering rules reject the message, the Courier mail server will not
  accept the message for delivery. This means that when receiving mail via
  ESMTP, the Courier mail server will reject the ESMTP transaction without even
  accepting the message from the remote mail server.
<div style="height: 1.00em;">&#x00A0;</div>
This file is not installed by default. To activate mail filtering for local
  recipients, simply copy the contents of the maildrop configuration file to
  maildropfilter.</div>
<div class="Pp"></div>
maildroprc
<div style="margin-left: 4.00ex;">This file contains systemwide mail filtering
  instructions for <b></b><b>maildrop</b>(1)[6] deliveries. This configuration
  file is optional, and is used by <b></b><b>maildrop</b>(1)[6] when it is
  invoked as a traditional post-delivery mail filter. See
  <b></b><b>maildropfilter</b>(6)[11] for more information.</div>
<div class="Pp"></div>
me
<div style="margin-left: 4.00ex;">This file contains one line whose contents is
  a valid machine name. When a single installation of the Courier mail server is
  shared over a network, each machine that's running the Courier mail server
  must have a unique me file. If me is missing, The Courier mail server uses the
  result of the <b>gethostname</b>() system call.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If you change the contents of this configuration file, it may be necessary to
  rerun the <b>makealiases</b> command again, else your mail will promptly begin
  to bounce. If you don't have this configuration file defined, and you change
  the system's network host name, you may also need to run <b>makealiases</b>.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
msgidhost
<div style="margin-left: 4.00ex;">If a message does not have a Message-ID:
  header, the Courier mail server may decide to create one. The host portion of
  the new header will be set to the contents of msgidhost, which contains one
  line of text. If msgidhost does not exist, me will be used in its place.
  Changes to this file take effect immediately.</div>
<div class="Pp"></div>
nochangingfrom
<div style="margin-left: 4.00ex;">The Courier mail server's webmail server lets
  the contents of the From: header be set for mailed messages. If this
  configuration file exists, the ability to set the contents of the From: header
  is disabled.</div>
<div class="Pp"></div>
queuelo, queuehi, queuefill
<div style="margin-left: 4.00ex;">These configuration settings tune the Courier
  mail server's mail queue processing. The Courier mail server does not load the
  entire mail queue metadata in memory. queuelo contains a number that specifies
  the queue &#x201C;low watermark&#x201D; message count. queuehi contains a
  number that specifies the queue &#x201C;high watermark&#x201D; message count.
  queuefill specifies a time interval, &#x201C;queue refill&#x201D; in seconds.
  The number in queuefill may optionally be followed by &quot;m&quot;,
  indicating that the queue refill is specified in minutes.
<div style="height: 1.00em;">&#x00A0;</div>
queuehi specifies the maximum number of messages that are loaded into memory.
  The Courier mail server reads the mail queue on disk until either it reads all
  of it, or it reads the number of messages specified by queuehi. As messages
  are delivered they are removed from the memory and disk. Messages that are
  deferred for another delivery attempt are removed from memory, but kept on the
  disk.
<div style="height: 1.00em;">&#x00A0;</div>
When the number of messages in memory falls below queuelo, The Courier mail
  server goes back to disk and attempts to fill the memory queue to the top,
  again.
<div style="height: 1.00em;">&#x00A0;</div>
This is, basically, a capsule summary of the mail queue processing logic. Many
  small, low level details are omitted; this is just an executive overview. When
  new messages arrive during a large mail backlog, the new messages are also
  loaded into the memory queue, if there's room for them. Therefore, during a
  large mail backlog the Courier mail server simultaneously tries to clear the
  existing backlog, and process any new mail at the same time. Up to the Courier
  mail server 0.41, all of this generally translates to the Courier mail server
  giving priority to newly arrived mail, and processing the backed up mail queue
  if spare resources are available.
<div style="height: 1.00em;">&#x00A0;</div>
The queuefill setting was added in the Courier mail server 0.42, in an attempt
  to keep new mail from excessively delaying existing mail during a major queue
  backup. queuefill specifies a time interval. When the Courier mail server
  completely fills the memory queue it sets a timer. After the interval given by
  queuefill The Courier mail server will go back and re-fill the mail queue even
  if the number of messages did not fall below the low watermark. If the Courier
  mail server finds older messages in the mail queue they will be pushed to the
  top of the scheduling queue, and given priority.
<div style="height: 1.00em;">&#x00A0;</div>
Smaller queuefill time intervals means more frequent trips to the disk, and more
  overhead. But, in exchange for that, during a mail backlog the Courier mail
  server will spend more time handling a greater number of delayed messages.
  Larger queuefill time intervals means less frequent trips to the disk, and
  less overhead, in exchange for less &quot;fairness&quot; during large mail
  backlogs.
<div style="height: 1.00em;">&#x00A0;</div>
queuefill defaults to five minutes, if not specified. Explicitly setting it to 0
  seconds turns off the queue re-filling completely, essentially reverting to
  pre-0.42 behavior. The default queuelo and queuehi values are computed at run
  time. queuelo defaults to the larger of 200, and the sum total of configured
  mail delivery slots, both local and remote. queuehi, if not explicitly set,
  defaults to the smaller of twice the queuelo, or queuelo plus 1000.</div>
<div class="Pp"></div>
queuetime
<div style="margin-left: 4.00ex;">This file specifies how long the Courier mail
  server normally tries to repeatedly deliver a message, before giving up and
  returning it as undeliverable. Messages are immediately returned as
  undeliverable when a permanent failure is encountered (such as the recipient
  address not being valid). Attempts to deliver the message when there's a
  temporary, transient, error (such as the network being down) will be
  repeatedly made for the duration of time specified by this configuration file.
  This file contains a number followed by the letter 'w' for weeks, or 'd' for
  days. It is also possible to use 'h' for hours, 'm' for minutes, or 's' for
  seconds. Only integers are allowed, fractions are prohibited. However, you can
  use '1w2d' to specify one week and two days. If queuetime is missing, the
  Courier mail server makes repeated delivery attempts for one week.</div>
<div class="Pp"></div>
retryalpha, retrybeta, retrygamma, retrymaxdelta
<div style="margin-left: 4.00ex;">These control files specify the schedule with
  which the Courier mail server tries to deliver each message that has a
  temporary, transient, delivery failure. retryalpha and retrygamma contain a
  time interval, specified in the same way as queuetime. retrybeta and
  retrymaxdelta contain small integral numbers only.
<div style="height: 1.00em;">&#x00A0;</div>
The Courier mail server will first make retrybeta delivery attempts, waiting for
  the time interval specified by retryalpha between each attempt. Then, the
  Courier mail server waits for the amount of time specified by retrygamma, then
  the Courier mail server will make another retrybeta delivery attempts,
  retryalpha amount of time apart. If still undeliverable, the Courier mail
  server waits retrygamma*2 amount of time before another retrybeta delivery
  attempts, with retryalpha amount of time apart. The next delay will be
  retrygamma*4 amount of time long, the next one retrygamma*8, and so on.
  retrymaxdelta sets the upper limit on the exponential backoff. Eventually the
  Courier mail server will keep waiting retrygamma*(2^retrymaxdelta) amount of
  time before making retrybeta delivery attempts retryalpha amount of time
  apart, until the queuetime interval expires.
<div style="height: 1.00em;">&#x00A0;</div>
The default values are:
<div class="Pp"></div>
retryalpha
<div style="margin-left: 4.00ex;">Five minutes</div>
<div class="Pp"></div>
retrybeta
<div style="margin-left: 4.00ex;">Three times</div>
<div class="Pp"></div>
retrygamma
<div style="margin-left: 4.00ex;">Fifteen minutes</div>
<div class="Pp"></div>
retrymaxdelta
<div style="margin-left: 4.00ex;">Three</div>
<div style="height: 1.00em;">&#x00A0;</div>
This results in the Courier mail server delivering each message according to the
  following schedule, in minutes: 5, 5, 5, 15, 5, 5, 30, 5, 5, 60, 5, 5, then
  repeating 120, 5, 5, until the message expires.</div>
<div class="Pp"></div>
sizelimit
<div style="margin-left: 4.00ex;">Maximum size of the message, in bytes, that
  the Courier mail server accepts for delivery. The Courier mail server rejects
  larger messages. If sizelimit is set to zero, The Courier mail server accepts
  as large message as available disk space permits. If the environment variable
  <b>SIZELIMIT</b> is set at the time a new message is received, it takes
  precedence and the Courier mail server uses the contents of the environment
  variable instead. Changes to this file take effect immediately. The
  <b>SIZELIMIT</b> environment variable is for use by individual mail submission
  agents. For example, it can be set by the smtpaccess configuration file (see
  <b></b><b>makesmtpaccess</b>(8)[3] for more information) for mail from certain
  IP addresses.
<div style="height: 1.00em;">&#x00A0;</div>
If sizelimit does not exist, and <b>SIZELIMIT</b> is not set, the maximum
  message size defaults to 10485760 bytes.</div>
<div class="Pp"></div>
submitdelay
<div style="margin-left: 4.00ex;">submitdelay specifies the delay before the
  first delivery attempt for a message that has been entered into the mail
  queue. Normally, the first delivery attempt is made as soon as possible. This
  setting delays the initial delivery attempt. It is normally used when you have
  a mail filter installed that detects duplicate messages arriving in a short
  period of time. If the mail filter detects this situation it can use the
  <b></b> <b>cancelmsg</b>(1)[12] command to reject duplicate messages in the
  queue (and return them back to the envelope sender).
<div style="height: 1.00em;">&#x00A0;</div>
submitdelay specifies a time interval in the same format as queuetime.</div>
<div class="Pp"></div>
usexsender
<div style="margin-left: 4.00ex;">If this configuration file exists, the Courier
  mail server's webmail server will set the X-Sender: header on all outgoing
  messages. This is a good idea if the webmail server allows the user to set the
  contents of the From: header. Note that the Courier mail server records the
  system userid of the sender in all locally-sent messages (which includes
  messages mailed by the webmail server), which is sufficient in most cases. In
  cases where you have many virtual accounts that share the same system userid,
  this configuration file provides a way to positively identify the sender of
  the outgoing message.</div>
<div class="Pp"></div>
uucpme
<div style="margin-left: 4.00ex;">uucpme sets the UUCP nodename of the Courier
  mail server mail relay. See <b></b><b>courieruucp</b>(8)[13] for more
  information.</div>
<div class="Pp"></div>
uucpneighbors
<div style="margin-left: 4.00ex;">uucpneighbors is used by the
  <b>courieruucp</b> module to specify the Courier mail server's configuration
  for relaying mail via UUCP. See <b></b><b>courieruucp</b>(8)[13] for more
  information.</div>
<div class="Pp"></div>
uucprewriteheaders
<div style="margin-left: 4.00ex;">If this file exists, headers of messages sent
  to/from UUCP addresses will be rewritten. Normally, only the message envelope
  sender and recipients are rewritten, the existence of this file causes the
  headers to be rewritten as well.</div>
<div class="Pp"></div>
vhost. <i>ip-address</i>, vhost.<i>domain</i>
<div style="margin-left: 4.00ex;">Enable per-message virtual configuration
  settings described in the section called &#x201C;Servers with multiple IP
  addresses&#x201D; and the section called &#x201C;Simulating a server with
  multiple IP addresses&#x201D;, below, for more information.</div>
<div class="Pp"></div>
warntime
<div style="margin-left: 4.00ex;">warntime specifies an amount of time in the
  same format as queuetime. If a message still has not been delivered after this
  period of time, the Courier mail server sends a warning message (a
  &quot;delayed&quot; Delivery Status Notification) to the sender. If warntime
  is missing, the Courier mail server sets warntime to four hours.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
The time interval specified by warntime is only approximate. The Courier mail
  server sends a delayed Delivery Status Notification at the conclusion of the
  first attempted delivery after warntime has elapsed.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<h2 class="Ss" title="Ss" id="Webmail_template_files"><a class="selflink" href="#Webmail_template_files">Webmail
  template files</a></h2>
HTML output from the webmail server is generated from the template files in
  /usr/lib/courier/sqwebmail/html/en-us. It is possible to translate the webmail
  interface into another language simply by creating another subdirectory
  underneath /usr/lib/courier/sqwebmail/html, then meticulously translating each
  .html file. Each template file contains well-formed HTML, with dynamic content
  marked off by tags. Note that the large comment blocks in each HTML file need
  to be translated too, since they are inserted as dynamic content, elsewhere.
<div class="Pp"></div>
The directory /usr/lib/courier/sqwebmail/html/en-us also contains several
  configuration files, in addition to the HTML template files. Doing so allows
  this configuration information to be defined for each available language.
<div class="Pp"></div>
CHARSET
<div style="margin-left: 4.00ex;">This file consists of a single line of text,
  which names the character set used by the HTML template files. It is possible
  to specify multiple character set, by separating them with commas, provided
  that HTML templates use only the common portions of all listed character set.
<div style="height: 1.00em;">&#x00A0;</div>
The default English HTML templates use strictly the &#x201C;us-ascii&#x201D;
  subset, and the CHARSET contains utf-8,iso-8859-1. When multiple character
  sets are listed, the first character set that's supported by the browser is
  picked, so with UTF-8 capable browsers the default webmail interface will use
  UTF-8, falling back to ISO-8859-1 for browsers that do not support
  UTF-8.</div>
<div class="Pp"></div>
footer
<div style="margin-left: 4.00ex;">The contents of this file, if it exists, are
  appended to all messages sent by the webmail server.</div>
<div class="Pp"></div>
ISPELLDICT
<div style="margin-left: 4.00ex;">This file consists of a single line of text,
  which contains the name of the dictionary used for spell-checking. It is
  passed as an argument to <b>ispell</b>, or <b>aspell</b>.</div>
<div class="Pp"></div>
LANGUAGE
<div style="margin-left: 4.00ex;">This file consists of a single line of text,
  which should always be the same as the name of its directory (en-us).</div>
<div class="Pp"></div>
LANGUAGE_PREF
<div style="margin-left: 4.00ex;">This file is not needed at runtime, its
  contents are used during installation. See webmail/html/README_LANG in the
  source distribution for more information.</div>
<div class="Pp"></div>
LOCALE
<div style="margin-left: 4.00ex;">The corresponding C locale for these
  templates.</div>
<div class="Pp"></div>
TIMEZONELIST
<div style="margin-left: 4.00ex;">This file lists the available timezones on the
  login screen. See the comments in this file for more information.</div>
<h2 class="Ss" title="Ss" id="Sender_Policy_Framework_Keywords"><a class="selflink" href="#Sender_Policy_Framework_Keywords">Sender
  Policy Framework Keywords</a></h2>
The Courier mail server can perform &#x201C;Sender Policy Framework&#x201D;
  checks on up to three addresses for each message. This is controlled by
  setting the following variables: <b>BOFHSPFHELO</b>, <b>BOFHSPFMAILFROM</b>,
  and <b>BOFHSPFFROM</b>. Each variable is set to a comma-separated list of the
  following keywords: &#x201C;off&#x201D; - SPF verification disabled (default);
  &#x201C;none&#x201D;, &#x201C;neutral&#x201D;, &#x201C;pass&#x201D;,
  &#x201C;fail&#x201D;, &#x201C;softfail&#x201D;, &#x201C;error&#x201D;,
  &#x201C;unknown&#x201D; - these keywords correspond to the possible results of
  an SPF check, the message is accepted for the listed SPF results only, any
  other SPF result is rejected; &#x201C;all&#x201D; - shorthand for all possible
  SPF results, use &#x201C;all&#x201D; to run SPF in informational mode only,
  recording the SPF status in the Received-SPF: header; &#x201C;allowok&#x201D;
  - automatically pass the SPF verification if the sender's IP address is found
  in a DNS access whitelist, any whitelist given in the <b>-allow</b> option to
  <b>couriertcpd</b>, see the &#x201C;DNS ACCESS LISTS&#x201D; section in
  <b></b> <b>couriertcpd</b>(1)[14].
<div class="Pp"></div>
A rejected SPF result gets kicked back with a permanent error indication if the
  SPF result is listed in <b>BOFHSPFHARDERROR</b>, and a temporary error
  indication otherwise.
<div class="Pp"></div>
When enabling SPF checking, the keyword list should always include
  &#x201C;pass&#x201D; (it makes no sense to do otherwise) and
  &#x201C;none&#x201D;. The keyword list should also include
  &#x201C;softfail&#x201D;, &#x201C;neutral&#x201D;, and
  &#x201C;unknown&#x201D;. See the SPF draft for a description of these status
  results. At some distant future, the keyword list will only include
  &#x201C;pass&#x201D;, rejecting all senders without a stated policy. This
  might be desirable at some point in the future, but not right now.
<div class="Pp"></div>
The <b>BOFHSPFFROM</b> list may also include an additional keyword,
  &#x201C;mailfromok&#x201D;. <b>BOFHSPFMAILFROM</b> and <b>BOFHSPFFROM</b> are
  trade-offs. Using <b>BOFHSPFMAILFROM</b> is faster, and it does not require
  the entire message to be received, before running the SPF check.
  <b>BOFHSPFFROM</b> checking can only occur after the entire message is
  received, but it's more reliable. If &#x201C;mailfromok&#x201D; is listed, the
  From: is not checked if the MAIL FROM command was checked with the
  &#x201C;pass&#x201D; result.
<div class="Pp"></div>
In other words: the From: header is checked if MAIL FROM was empty, or did not
  pass the SPF checks. If MAIL FROM passed the SPF check the Courier mail server
  won't bother looking at the From: header.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
A conservative policy should not reject failed SPF checks from the From:header,
  because it can be counterproductive in some situations. This is because when a
  sender from a domain with a published SPF policy sends a message to a mailing
  list, the message goes through the mailing list processor's IP address, and it
  will fail the SPF check unless the domain SPF explicitly authorizes the
  mailing list processor's IP address.
<div class="Pp"></div>
This is very unlikely. The end result is that domains with a published SPF
  record get punished, and domains without an SPF record get off scott free.
  Mailing lists should be encouraged to publish their own SPF records for
  mailing list traffic; then the &#x201C;mailfromok&#x201D; keyword can validate
  the mailing list's return address, and forego checking of the
  &#x201C;From:&#x201D; header from the mailing list, while still checking the
  &#x201C;From:&#x201D; header from everyone else.
<div class="Pp"></div>
Another alternative is to use <b>opt BOFHSPFFROM=all</b> for advisory purposes
  only. Post-delivery mail filters can key off the &#x201C;Received-SPF&#x201D;
  header.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
The Courier mail server can add up to three &#x201C;Received-SPF&#x201D; headers
  of its own, one for each SPF check. The Courier mail server renames any
  existing &#x201C;Received-SPF&#x201D; header as
  &#x201C;Old-Received-SPF&#x201D;. All &#x201C;Received-SPF&#x201D; headers
  delivered to a local mailbox will always come from the Courier mail server.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h2 class="Ss" title="Ss" id="Servers_with_multiple_IP_addresses"><a class="selflink" href="#Servers_with_multiple_IP_addresses">Servers
  with multiple IP addresses</a></h2>
The Courier mail server's default configuration listens on port 25 on all IP
  addresses. If the server has more than one IP address, Courier accepts
  connections on any IP address. Adjust the settings in the esmtpd configuration
  file to explicitly list which IP addresses Courier should listenson. This also
  applies to the ESMTP over SSL server on port 465 configured by esmtpd-ssl, and
  the MSA server on port 587, configured by esmtpd-msa.
<div class="Pp"></div>
That's for incoming EMSTP. For outgoing ESMTP connections, the Courier mail
  server does not specify an IP address by default, and lets the server select
  one. The server selects a default IP address based on a server's network
  configuration. The selection criteria is platform specific, and is typically
  based on the system's IP routing tables.
<div class="Pp"></div>
The ipout and ip6out configuration files set an explicit IP address for
  Courier's outgoing connections:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# echo &quot;192.168.0.1&quot; &gt;/etc/courier/ipout
# echo &quot;fec0::230:48ff:fec4:429c&quot; &gt;/etc/courier/ip6out
</pre>
</div>
<div class="Pp"></div>
This example specifies 192.168.0.1 as the IP address to make connections from
  for IPv4 destinations, and fec0::230:48ff:fec4:429c for IPv6 destinations.
<div class="Pp"></div>
If the Courier mail server runs on a host with two IPv4 addresses, 192.168.0.1,
  192.168.1.1, the above example uses 192.168.0.1 to send the relayed message to
  IPv4 destinations even if Courier received the message from a client that
  connected to the other addresses.
<div class="Pp"></div>
If the Courier mail server accepts an ESMTP connection and a message from an
  authenticated client with relaying privileges, in a smarthost role, and
  forwards the message via ESMTP, Courier normally uses the server's default IP
  address, or the one set by ipout or ipout6. When the Courier mail servers runs
  on more than one IP address, it's possible to selectively set the outgoing IP
  address based on which one of those IP addresses the message was received at.
  A simple, basic configuration forwards the message from the same IP addresses
  it was received from, but it doesn't have to be, it can be a different one.
<div class="Pp"></div>
The first step is to enable a per-message, non-default configuration settings,
  like the outgoing IP address, by creating a zero-length vhost.
  <i>ip-address</i> file:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# touch &gt;/etc/courier/vhost.192.168.0.1
# touch &gt;&quot;/etc/courier/vhost.fec0::230:48ff:fec4:429c&quot;
</pre>
</div>
<div class="Pp"></div>
This enables non-default settings for messages received from a client that
  connects to one of these IP addresses. These two IP addresses (one IPv4 and
  one IPv6 address) are, presumably, two of the server's IP addresses. This is
  not a client's IP address, these are the server's IP addresses. These may be
  the only two IP addresses the server has, or the server can have more IP
  addresses, but these are the only two IP addresses for which custom settings
  get enabled.
<div class="Pp"></div>
One such custom setting would be a different IP address for outgoing connections
  depending on the IP address of the connection the message was originally
  received from:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# echo &quot;192.168.0.1&quot; &gt;/etc/courier/ipout.192.168.0.1
# echo &quot;192.168.1.1&quot; &gt;/etc/courier/ipout.192.168.1.1
</pre>
</div>
<div class="Pp"></div>
&#x201C;ipout. <i>address</i>&#x201D; sets the IP address for outgoing
  connections for messages received from a client connection to &#x201C;
  <i>address</i>&#x201D; only. Just an ipout applies to all other messages,
  except ones which have an ipout. <i>address</i> in existence. The above
  example specifies that, on a server with these two IP addresses, messages
  received from a client that's connected to either IP address get forwarded
  (from a client that normally authenticates and receives relaying privileges)
  using a connection from the same IP address. If the server has any other IP
  addresses, the IP address in ipout takes effect (or the default
  system-specified IP address).
<div class="Pp"></div>
For convenience, an empty ipout. <i>address</i> gets interpreted as if it
  contains the same <i>address</i>. The above example is equivalent to:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# touch /etc/courier/ipout.192.168.0.1
# touch /etc/courier/ipout.192.168.1.1
</pre>
</div>
<div class="Pp"></div>
The formal configuration rules are as follows, for a message received from IP
  address &#x201C; <i>address</i>&#x201D;, which may be an IPv4 or an IPv6
  address:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The IPv4 address and the IPv6 address
  for outgoing ESMTP connections get specified by the contents of
  /etc/courier/ipout. <i>address</i> and /etc/courier/ip6out. <i>address</i>,
  respectively.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If the file exists, but is empty, the
  same <i>address</i> becomes the IP address for the outgoing connection.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The above rules are in effect only if
  /etc/courier/vhost. <i>address</i> exists,</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If the file does not exist, or if
  /etc/courier/vhost. <i>address</i> does not exist, the contents of
  /etc/courier/ipout, for IPv4 connections, and /etc/courier/ip6out, for IPv6
  connections set the IP address.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Otherwise, the Courier mail server
  uses the default IP address determined by the system's network
  configuration.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;In /etc/courier/ipout. <i>address</i>
  and /etc/courier/ip6out. <i>address</i>, an address of &quot;0&quot; also
  specifies the system's default IP address.</div>
<div class="Pp"></div>
It is possible for the Courier mail server to receive a message from an IPv6
  connection, and forward it to an IPv4 address, or vice versa. The
  <i>address</i> portion of /etc/courier/ipout. <i>address</i> and
  /etc/courier/ip6out. <i>address</i>, specifies the IP address the client used
  to connect to Courier and may be either an IPv4 or an IPv6 address, in both
  cases! For example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# echo &quot;192.168.0.1&quot; &gt;/etc/courier/ipout.192.168.0.1
# echo &quot;fec0::230:48ff:fec4:429c&quot; &gt;/etc/courier/ip6out.192.168.0.1
</pre>
</div>
<div class="Pp"></div>
This means that when a client connects to the Courier mail server using the IP
  address 192.168.0.1 and relays a message, if the message gets forwarded to an
  IPv4 address, Courier uses the same IP address, and if it gets forwarded to an
  IPv6 address Courier uses this IPv6 address. The above also probably means
  that:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# echo &quot;192.168.0.1&quot; &gt;&quot;/etc/courier/ipout.fec0::230:48ff:fec4:429c&quot;
# echo &quot;fec0::230:48ff:fec4:429c&quot; &gt;&quot;/etc/courier/ipout.fec0::230:48ff:fec4:429c&quot;
</pre>
</div>
<div class="Pp"></div>
So if an IPv6 client connects to Courier on this IPv6 address and relays a
  message, Courier uses the same IPv6 address, or 192.168.0.1 depending on the
  destination.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
Notwithstanding the IP address set in an ipout or an ip6out file, the server's
  network configuration must be able to actually establish a network connection
  to the destination address from the explicitly specified IP address.
  Specifying an explicit IP address for outgoing connections implies that the IP
  addresses are fully and globally routable.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div class="Pp"></div>
Additionally, for all other configuration files described in this manual page,
  the Courier mail server uses &#x201C;filename. <i>address</i>&#x201D; if it
  exists, in place of &#x201C;filename&#x201D; when processing messages received
  from &#x201C;address&#x201D;, either an IPv4 or an IPv6 address.
<div class="Pp"></div>
This is used in all contexts where it makes sense to do so:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# echo &quot;relay.example.com&quot; &gt;/etc/courier/me.192.168.0.1
# echo &quot;firewall.example.com&quot; &gt;/etc/courier/me.192.168.1.1
</pre>
</div>
<div class="Pp"></div>
This example specifies &#x201C;relay.example.com&#x201D; as the contents of the
  me configuration file, described earlier in this manual page, when processing
  messages received by clients that connect to 192.168.0.1, and
  &#x201C;firewall.example.com&#x201D; for processing messages received by
  clients that connect to 192.168.1.1.
<div class="Pp"></div>
&#x201C;me&#x201D; is the default hostname for most common Courier mail server
  configuration settings, such as the server's name in the ESMTP greeting
  banner, what Courier calls itself in the ESMTP <b>EHLO/HELO</b> commands, and
  other contexts, unless overridden by a more specific setting.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
The IP address-specific configuration settings get used only in the context of
  processing messages, and have no impact on other parts of the Courier mail
  server that do not have a direct relationship to a specific message. One such
  example would be when Courier authenticates a client's username or password.
  This is not directly related to any message the client may or may not send
  after it authenticates, so this happens in exactly the same way no matter
  which IP address the client connected to.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h2 class="Ss" title="Ss" id="Simulating_a_server_with_multiple_IP_addresses"><a class="selflink" href="#Simulating_a_server_with_multiple_IP_addresses">Simulating
  a server with multiple IP addresses</a></h2>
As described in the previous section, the existence of vhost. <i>ip-address</i>
  enables configuration settings only for messages that were received at one of
  the IP addresses that the Courier mail server accepts connections on.
<div class="Pp"></div>
It's possible to partially achieve the same end results by creating vhost.
  <i>domain</i>:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# touch &gt;/etc/courier/vhost.example.com
</pre>
</div>
<div class="Pp"></div>
This enables per-message specific configuration for messages received from
  authenticated clients whose authenticated ID ends with
  &#x201C;@example.com&#x201D;. If the server has more than one IP address, but,
  for whatever reason, only receives mail on one of them but wants to use the
  other one for outgoing mail for this domain:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# echo '192.168.0.1' &gt;/etc/courier/ipout.example.com
</pre>
</div>
<div class="Pp"></div>
This sets this IP address for all outgoing messages with a
  &#x201C;@example.com&#x201D; authenticated client. It's important to note the
  following limitations:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The Courier authentication library
  (see installation instructions) must be configured with accounts and mailboxes
  that follow the &#x201C;user@domain&#x201D; format.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Not all configuration settings can be
  customized in a <i>setting</i>.<i>domain</i>. The trivial example would be the
  ESMTP server banner. The mail server emits the banner before it's ready to
  receive the first message, so no return address-based customization is
  possible, of course, to select an ESMTP server banner. Additionally, the
  &#x201C;me&#x201D; configuration setting gets set before the return address is
  received, so the contents of a domain-specific &#x201C;me&#x201D; may not be
  in effect in all contexts.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Anyone can use any return address they
  wish. Some mitigation is possible, of course, using measures such as SPF, but
  it would be mistake to believe that this is much more than just eye
  candy.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Both an IP address and domain-based
  &#x201C;vhost&#x201D;s are allowed. An IP address-based vhost takes
  precedence.</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Flushing a single message will not work if the message queue is backed up. When
  that happens, your only available option is to flush the entire queue.
<div class="Pp"></div>
<b>courier start</b> fails if the Courier mail server has detected a fatal
  operational error. In this situation the top-level <b>courierd</b> daemon
  sleeps for a minute, before automatically restarting. During this sleep
  interval courier stop does not work.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b></b><b>cancelmsg</b>(1)[12], <b></b><b>maildirmake</b>(1)[10],
  <b></b><b>maildrop</b>(1)[6], <b></b><b>preline</b>(1)[15],
  <b></b><b>sendmail</b>(1)[16], <b></b><b>testmxlookup</b>(1)[17],
  <b></b><b>dot-courier</b>(5)[4], <b></b><b>authlib</b>(7)[18],
  <b></b><b>courierfax</b>(8)[7], <b></b><b>courierfilter</b>(8)[5],
  <b></b><b>filterctl</b>(8)[5], <b></b><b>courierldapaliasd</b>(8)[9],
  <b></b><b>courierpop3d</b>(8)[19], <b></b><b>courierpop3d</b>(8)[19],
  <b></b><b>couriertcpd</b>(8)[14], <b></b><b>courieruucp</b>(8)[13],
  <b></b><b>esmtpd</b>(8)[20], <b></b><b>imapd</b>(8)[21],
  <b></b><b>localmailfilter</b>(7)[2], <b></b><b>mailq</b>(1)[1],
  <b></b><b>makeacceptmailfor</b>(8)[22], <b></b><b>makealiases</b>(8)[23],
  <b></b> <b>makehosteddomains</b>(8)[8], <b></b><b>makepercentrelay</b>(8)[24],
  <b></b><b>makesmtpaccess</b>(8)[3], <b></b><b>makeuserdb</b>(8)[25],
  <b></b><b>pw2userdb</b>(8)[25], <b></b><b>mkdhparams</b>(8)[26],
  <b></b><b>mkesmtpdcert</b>(8)[27], <b></b><b>mkimapdcert</b>(8)[28],
  <b></b><b>pop3d</b>(8)[29], <b></b><b>submit</b>(8)[30],
  <b></b><b>userdb</b>(8)[31].
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>Sam Varshavchik</b>
<div style="margin-left: 4.00ex;">Author</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag"><b>mailq</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/mailq.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag"><b>localmailfilter</b>(7)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/localmailfilter.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag"><b>makesmtpaccess</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/makesmtpaccess.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag"><b>dot-courier</b>(5)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/dot-courier.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 5.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>courierfilter</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/courierfilter.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 6.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>maildrop</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/maildrop.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 7.</dt>
  <dd class="It-tag"><b>courierfax</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/courierfax.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 8.</dt>
  <dd class="It-tag"><b>makehosteddomains</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/makehosteddomains.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 9.</dt>
  <dd class="It-tag"><b>courierldapaliasd</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/courierldapaliasd.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">10.</dt>
  <dd class="It-tag"><b>maildirmake</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/maildirmake.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">11.</dt>
  <dd class="It-tag"><b>maildropfilter</b>(6)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/maildropfilter.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">12.</dt>
  <dd class="It-tag"><b>cancelmsg</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/cancelmsg.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">13.</dt>
  <dd class="It-tag"><b>courieruucp</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/courieruucp.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">14.</dt>
  <dd class="It-tag"><b>couriertcpd</b>(1) 	</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/couriertcpd.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">15.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>preline</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/preline.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">16.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>sendmail</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/sendmail.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">17.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>testmxlookup</b>(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/testmxlookup.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">18.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>authlib</b>(7)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/authlib.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">19.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>courierpop3d</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/courierpop3d.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">20.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>esmtpd</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/esmtpd.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">21.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>imapd</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/imapd.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">22.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>makeacceptmailfor</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/makeacceptmailfor.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">23.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>makealiases</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/makealiases.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">24.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>makepercentrelay</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/makepercentrelay.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">25.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>makeuserdb</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/makeuserdb.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">26.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>mkdhparams</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/mkdhparams.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">27.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>mkesmtpdcert</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/mkesmtpdcert.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">28.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>mkimapdcert</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/mkimapdcert.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">29.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>pop3d</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/pop3d.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">30.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>submit</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/submit.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">31.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>userdb</b>(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">[set
  $man.base.url.for.relative.links]/userdb.html</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">08/17/2016</td>
    <td class="foot-os">Courier Mail Server</td>
  </tr>
</table>
</body>
</html>
