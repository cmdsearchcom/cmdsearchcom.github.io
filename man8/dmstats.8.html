<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DMSTATS(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DMSTATS(8)</td>
    <td class="head-vol">MAINTENANCE COMMANDS</td>
    <td class="head-rtitle">DMSTATS(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dmstats &#x2014; device-mapper statistics management
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dmsetup</b> <b>stats</b> <i>command</i> [<b>options</b>]
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <i>command</i> [<i>device_name</i> |<b>--uuid</b>
  <i>uuid</i>|<i><b>--major</b></i> <i>major</i> <b>--minor</b>
  <i>minor</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>clear</b> <i>device_name</i> [<b>--allprograms</b>|<b>--programid</b>
  <i>id</i>] [<b>--allregions</b>|<b>--regionid</b> <i>id</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>create</b> [<b>device_name...</b> |<b>file_path...</b>]
  [<b>--alldevices</b>] [<b>--areas</b> <i>nr_areas</i>|<i><b>--areasize</b></i>
  <i>area_size</i>] [<b>--bounds</b> <i>histogram_boundaries</i>]
  [<b>--filemap</b>] [<b>--nogroup</b>] [<b>--precise</b>] [<b>--start</b>
  <i>start_sector</i> <b>--length</b>
  <i>length</i>|<i><b>--segments</b></i><b>]</b> [<b>--userdata</b>
  <i>user_data</i>] [<b>--programid</b> <i>id</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>delete</b> [<i>device_name</i>] [<b>--alldevices</b>]
  [<b>--allprograms</b>|<b>--programid</b> <i>id</i>]
  [<b>--allregions</b>|<b>--regionid</b> <i>id</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>group</b> [<i>device_name</i>] [<b>--alias</b> <i>name</i>]
  [<b>--alldevices</b>] [<b>--regions</b> <i>regions</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>help</b> [<b>-c</b>|<b>-C</b>|<b>--columns</b>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>list</b> [<i>device_name</i>] [<b>--histogram</b>]
  [<b>--allprograms</b>|<b>--programid</b> <i>id</i>] [<b>--units</b>
  <i>units</i>] [<b>--area</b>] [<b>--region</b>] [<b>--group</b>]
  [<b>--nosuffix</b>] [<b>--notimesuffix</b>]
  [<b>-v</b>|<b>--verbose</b>[<b>-v</b>|<b>--verbose</b>]]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>print</b> [<i>device_name</i>] [<b>--clear</b>]
  [<b>--allprograms</b>|<b>--programid</b> <i>id</i>]
  [<b>--allregions</b>|<b>--regionid</b> <i>id</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>report</b> [<i>device_name</i>] [<b>--interval</b> <i>seconds</i>]
  [<b>--count</b> <i>count</i>] [<b>--units</b> <i>units</i>]
  [<b>--histogram</b>] [<b>--allprograms</b>|<b>--programid</b> <i>id</i>]
  [<b>--allregions</b>|<b>--regionid</b> <i>id</i>] [<b>--area</b>]
  [<b>--region</b>] [<b>--group</b>] [<b>-O</b>|<b>--sort</b>
  <i>sort_fields</i>] [<b>-S</b>|<b>--select</b> <i>selection</i>]
  [<b>--units</b> <i>units</i>] [<b>--nosuffix</b>]
  [<b>--notimesuffix</b>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>dmstats</b>
  <b>ungroup</b> [<i>device_name</i>] [<b>--alldevices</b>] [<b>--groupid</b>
  <i>id</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The dmstats program manages IO statistics regions for devices that use the
  device-mapper driver. Statistics regions may be created, deleted, listed and
  reported on using the tool.
<div style="height: 1.00em;">&#x00A0;</div>
The first argument to dmstats is a <i>command</i>.
<div style="height: 1.00em;">&#x00A0;</div>
The second argument is the <i>device name</i>, <i>uuid</i> or <i>major</i> and
  <i>minor</i> numbers.
<div style="height: 1.00em;">&#x00A0;</div>
Further options permit the selection of regions, output format control, and
  reporting behaviour.
<div style="height: 1.00em;">&#x00A0;</div>
When no device argument is given dmstats will by default operate on all
  device-mapper devices present. The <b>create</b> and <b>delete</b> commands
  require the use of <b>--alldevices</b> when used in this way.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--alias</b>
  <i>name</i>
<div>&#x00A0;</div>
Specify an alias name for a group.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--alldevices</b>
<div>&#x00A0;</div>
If no device arguments are given allow operation on all devices when creating or
  deleting regions.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--allprograms</b>
<div>&#x00A0;</div>
Include regions from all program IDs for list and report operations.
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--allregions</b>
<div>&#x00A0;</div>
Include all present regions for commands that normally accept a single region
  identifier.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--area</b>
<div>&#x00A0;</div>
When peforming a list or report, include objects of type area in the
  results.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--areas</b>
  <i>nr_areas</i>
<div>&#x00A0;</div>
Specify the number of statistics areas to create within a new region.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--areasize</b>
  <i>area_size</i>[<b></b><b>b</b>|<b>B</b>|<b>s</b>|<b>S</b>|<b>k</b>|<b>K</b>|<b>m</b>|<b>M</b>|<b></b><b>g</b>|<b>G</b>|<b>t</b>|<b>T</b>|<b>p</b>|<b>P</b>|<b>e</b>|<b>E</b>]
<div>&#x00A0;</div>
Specify the size of areas into which a new region should be divided. An optional
  suffix selects units of: (<b>b</b>)ytes, (<b>s</b>)ectors, (<b>k</b>)ilobytes,
  (<b>m</b>)egabytes, (<b>g</b>)igabytes, (<b>t</b>)erabytes,
  (<b>p</b>)etabytes, (<b>e</b>)xabytes.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--clear</b>
<div>&#x00A0;</div>
When printing statistics counters, also atomically reset them to zero.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--count</b>
  <i>count</i>
<div>&#x00A0;</div>
Specify the iteration count for repeating reports. If the count argument is zero
  reports will continue to repeat until interrupted.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--group</b>
<div>&#x00A0;</div>
When peforming a list or report, include objects of type group in the
  results.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--filemap</b>
<div>&#x00A0;</div>
Instead of creating regions on a device as specified by command line options,
  open the file found at each <b>file_path</b> argument, and create regions
  corresponding to the locations of the on-disk extents allocated to the
  file(s).</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--groupid</b>
  <i>id</i>
<div>&#x00A0;</div>
Specify the group to operate on.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--bounds</b>
  <i>histogram_boundaries</i>[<b>ns</b>|<b>us</b>|<b>ms</b>|<b>s</b>]
<div>&#x00A0;</div>
Specify the boundaries of a latency histogram to be tracked for the region as a
  comma separated list of latency values. Latency values are given in
  nanoseconds. An optional unit suffix of <b>ns</b>, <b>us</b>, <b>ms</b>, or
  <b>s</b> may be given after each value to specify units of nanoseconds,
  microseconds, miliseconds or seconds respectively.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--histogram</b>
<div>&#x00A0;</div>
When used with the <b>report</b> and <b>list</b> commands select default fields
  that emphasize latency histogram data.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--interval</b>
  <i>seconds</i>
<div>&#x00A0;</div>
Specify the interval in seconds between successive iterations for repeating
  reports. If <b>--interval</b> is specified but <b>--count</b> is not, reports
  will continue to repeat until interrupted.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--length</b>
  <i>length</i>[<b></b><b>b</b>|<b>B</b>|<b>s</b>|<b>S</b>|<b>k</b>|<b>K</b>|<b>m</b>|<b>M</b>|<b></b><b>g</b>|<b>G</b>|<b>t</b>|<b>T</b>|<b>p</b>|<b>P</b>|<b>e</b>|<b>E</b>]
<div>&#x00A0;</div>
Specify the length of a new statistics region in sectors. An optional suffix
  selects units of: (<b>b</b>)ytes, (<b>s</b>)ectors, (<b>k</b>)ilobytes,
  (<b>m</b>)egabytes, (<b>g</b>)igabytes, (<b>t</b>)erabytes,
  (<b>p</b>)etabytes, (<b>e</b>)xabytes.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-j</b>|<b>--major</b>
  <i>major</i>
<div>&#x00A0;</div>
Specify the major number.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-m</b>|<b>--minor</b>
  <i>minor</i>
<div>&#x00A0;</div>
Specify the minor number.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--nogroup</b>
<div>&#x00A0;</div>
When creating regions mapping the extents of a file in the file system, do not
  create a group or set an alias.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--nosuffix</b>
<div>&#x00A0;</div>
Suppress the suffix on output sizes. Use with <b>--units</b> (except h and H) if
  processing the output.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--notimesuffix</b>
<div>&#x00A0;</div>
Suppress the suffix on output time values. Histogram boundary values will be
  reported in units of nanoseconds.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-o</b>|<b>--options</b>
<div>&#x00A0;</div>
Specify which report fields to display.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-O</b>|<b>--sort</b>
  <i>sort_fields</i>
<div>&#x00A0;</div>
Sort output according to the list of fields given. Precede any sort field with '
  <b>-</b>' for a reverse sort on that column.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--precise</b>
<div>&#x00A0;</div>
Attempt to use nanosecond precision counters when creating new statistics
  regions.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--programid</b>
  <i>id</i>
<div>&#x00A0;</div>
Specify a program ID string. When creating new statistics regions this string is
  stored with the region. Subsequent operations may supply a program ID in order
  to select only regions with a matching value. The default program ID for
  dmstats-managed regions is &quot;dmstats&quot;.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--region</b>
<div>&#x00A0;</div>
When peforming a list or report, include objects of type region in the
  results.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--regionid</b>
  <i>id</i>
<div>&#x00A0;</div>
Specify the region to operate on.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--regions</b>
  <i>region_list</i>
<div>&#x00A0;</div>
Specify a list of regions to group. The group list is a comma-separated list of
  region identifiers. Continuous sequences of identifiers may be expressed as a
  hyphen separated range, for example: '1-10'.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--relative</b>
<div>&#x00A0;</div>
If displaying the histogram report show relative (percentage) values instead of
  absolute counts.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-S</b>|<b>--select</b>
  <i>selection</i>
<div>&#x00A0;</div>
Display only rows that match <i>selection</i> criteria. All rows with the
  additional &quot;selected&quot; column ( <b>-o selected</b>) showing 1 if the
  row matches the <i>selection</i> and 0 otherwise. The selection criteria are
  defined by specifying column names and their valid values while making use of
  supported comparison operators.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--start</b>
  <i>start</i>[<b></b><b>b</b>|<b>B</b>|<b>s</b>|<b>S</b>|<b>k</b>|<b>K</b>|<b>m</b>|<b>M</b>|<b></b><b>g</b>|<b>G</b>|<b>t</b>|<b>T</b>|<b>p</b>|<b>P</b>|<b>e</b>|<b>E</b>]
<div>&#x00A0;</div>
Specify the start offset of a new statistics region in sectors. An optional
  suffix selects units of: (<b>b</b>)ytes, (<b>s</b>)ectors, (<b>k</b>)ilobytes,
  (<b>m</b>)egabytes, (<b>g</b>)igabytes, (<b>t</b>)erabytes,
  (<b>p</b>)etabytes, (<b>e</b>)xabytes.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--segments</b>
<div>&#x00A0;</div>
When used with <b>create</b>, create a new statistics region for each target
  contained in the given device(s). This causes a separate region to be
  allocated for each segment of the device.
<div style="height: 1.00em;">&#x00A0;</div>
The newly created regions are automatically placed into a group unless the
  <b>--nogroup</b> option is given. When grouping is enabled a group alias may
  be specified using the <b>--alias</b> option.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--units</b>
  [<i>units</i>]<i></i>[<b>h</b>|<b>H</b>|<b></b><b>b</b>|<b>B</b>|<b>s</b>|<b>S</b>|<b>k</b>|<b>K</b>|<b>m</b>|<b>M</b>|<b></b><b>g</b>|<b>G</b>|<b>t</b>|<b>T</b>|<b>p</b>|<b>P</b>|<b>e</b>|<b>E</b>]
<div>&#x00A0;</div>
Set the display units for report output. All sizes are output in these units:
  (<b>h</b>)uman-readable, (<b>b</b>)ytes, (<b>s</b>)ectors, (<b>k</b>)ilobytes,
  (<b>m</b>)egabytes, (<b>g</b>)igabytes, (<b>t</b>)erabytes,
  (<b>p</b>)etabytes, (<b>e</b>)xabytes. Can also specify custom units e.g.
  <b>--units&#x00A0;3M</b>.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--userdata</b>
  <i>user_data</i>
<div>&#x00A0;</div>
Specify user data (a word) to be stored with a new region. The value is added to
  any internal auxilliary data (for example, group information), and stored with
  the region in the aux_data field provided by the kernel. Whitespace is not
  permitted.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-u</b>|<b>--uuid</b>
<div>&#x00A0;</div>
Specify the uuid.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-v</b>|<b>--verbose</b>
  [<b>-v</b>|<b>--verbose</b>]
<div>&#x00A0;</div>
Produce additional output.</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>clear</b>
  <i>device_name</i> [<b>--allprograms</b>|<b>--programid</b> <i>id</i>]
  [<b>--allregions</b>|<b>--regionid</b> <i>id</i>]
<div>&#x00A0;</div>
Instructs the kernel to clear statistics counters for the speficied regions
  (with the exception of in-flight IO counters).</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>create</b>
  [<b>device_name...</b> |<b>file_path...</b>] [<b>--alldevices</b>]
  [<b>--areas</b> <i>nr_areas</i>|<i><b>--areasize</b></i> <i>area_size</i>]
  [<b>--bounds</b> <i>histogram_boundaries</i>] [<b>--filemap</b>]
  [<b>--nogroup</b>] [<b>--precise</b>] [<b>--start</b> <i>start_sector</i>
  <b>--length</b> <i>length</i>|<i><b>--segments</b></i><b>]</b>
  [<b>--userdata</b> <i>user_data</i>] [<b>--programid</b> <i>id</i>]
<div>&#x00A0;</div>
Creates one or more new statistics regions on the specified device(s).
<div style="height: 1.00em;">&#x00A0;</div>
The region will span the entire device unless <b>--start</b> and <b>--length</b>
  or <b>--segments</b> are given. The <b>--start</b> an <b>--length</b> options
  allow a region of arbitrary length to be placed at an arbitrary offset into
  the device. The <b>--segments</b> option causes a new region to be created for
  each target in the corresponding device-mapper device's table.
<div style="height: 1.00em;">&#x00A0;</div>
If the <b>--precise</b> option is used the command will attempt to create a
  region using nanosecond precision counters.
<div style="height: 1.00em;">&#x00A0;</div>
If <b>--bounds</b> is given a latency histogram will be tracked for the new
  region. The boundaries of the histogram bins are given as a comma separated
  list of latency values. There is an implicit lower bound of zero on the first
  bin and an implicit upper bound of infinity (or the configured interval
  duration) on the final bin.
<div style="height: 1.00em;">&#x00A0;</div>
Latencies are given in nanoseconds. An optional unit suffix of ns, us, ms, or s
  may be given after each value to specify units of nanoseconds, microseconds,
  miliseconds or seconds respectively, so for example, 10ms is equivalent to
  10000000. Latency values with a precision of less than one milisecond can only
  be used when precise timestamps are enabled: if <b>--precise</b> is not given
  and values less than one milisecond are used it will be enabled automatically.
<div style="height: 1.00em;">&#x00A0;</div>
An optional <b>program_id</b> or <b>user_data</b> string may be associated with
  the region. A <b>program_id</b> may then be used to select regions for
  subsequent list, print, and report operations. The <b>user_data</b> stores an
  arbitrary string and is not used by dmstats or the device-mapper kernel
  statistics subsystem.
<div style="height: 1.00em;">&#x00A0;</div>
By default dmstats creates regions with a <b>program_id</b> of
  &quot;dmstats&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
On success the <b>region_id</b> of the newly created region is printed to
  stdout.
<div style="height: 1.00em;">&#x00A0;</div>
If the <b>--filemap</b> option is given with a regular file, or list of files,
  as the <b>file_path</b> argument, instead of creating regions with parameters
  specified on the command line, <b>dmstats</b> will open the files located at
  <b>file_path</b> and create regions corresponding to the physical extents
  allocated to the file. This can be used to monitor statistics for individual
  files in the file system, for example, virtual machine images, swap areas, or
  large database files.
<div style="height: 1.00em;">&#x00A0;</div>
To work with the <b>--filemap</b> option, files must be located on a local file
  system, backed by a device-mapper device, that supports physical extent data
  using the FIEMAP ioctl (Ext4 and XFS for e.g.).
<div style="height: 1.00em;">&#x00A0;</div>
By default regions that map a file are placed into a group and the group alias
  is set to the basename of the file. This behaviour can be overridden with the
  <b>--alias</b> and <b>--nogroup</b> options.
<div style="height: 1.00em;">&#x00A0;</div>
Use the <b>--group</b> option to only display information for groups when
  listing and reporting.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>delete</b>
  [<i>device_name</i>] [<b>--alldevices</b>]
  [<b>--allprograms</b>|<b>--programid</b> <i>id</i>]
  [<b>--allregions</b>|<b>--regionid</b> <i>id</i>]
<div>&#x00A0;</div>
Delete the specified statistics region. All counters and resources used by the
  region are released and the region will not appear in the output of subsequent
  list, print, or report operations.
<div style="height: 1.00em;">&#x00A0;</div>
All regions registered on a device may be removed using <b>--allregions</b>.
<div style="height: 1.00em;">&#x00A0;</div>
To remove all regions on all devices both <b>--allregions</b> and
  <b>--alldevices</b> must be used.
<div style="height: 1.00em;">&#x00A0;</div>
If a <b>--groupid</b> is given instead of a <b>--regionid</b> the command will
  attempt to delete the group and all regions that it contains.
<div style="height: 1.00em;">&#x00A0;</div>
If a deleted region is the first member of a group of regions the group will
  also be removed.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>group</b>
  [<i>device_name</i>] [<b>--alias</b> <i>name</i>] [<b>--alldevices</b>]
  [<b>--regions</b> <i>regions</i>]
<div>&#x00A0;</div>
Combine one or more statistics regions on the specified device into a group.
<div style="height: 1.00em;">&#x00A0;</div>
The list of regions to be grouped is specified with <b>--regions</b> and an
  optional alias may be assigned with <b>--alias</b>. The set of regions is
  given as a comma-separated list of region identifiers. A continuous range of
  identifers spanning from <b>R1</b> to <b>R2</b> may be expressed as '
  <b>R1</b>- <b>R2</b>'.
<div style="height: 1.00em;">&#x00A0;</div>
Regions that have a histogram configured can be grouped: in this case the number
  of histogram bins and their bounds must match exactly.
<div style="height: 1.00em;">&#x00A0;</div>
On success the group list and newly created <b>group_id</b> are printed to
  stdout.
<div style="height: 1.00em;">&#x00A0;</div>
The group metadata is stored with the first (lowest numbered) <b>region_id</b>
  in the group: deleting this region will also delete the group and other group
  members will be returned to their prior state.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>help</b>
  [<b>-c</b>|<b>-C</b>|<b>--columns</b>]
<div>&#x00A0;</div>
Outputs a summary of the commands available, optionally including the list of
  report fields.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>list</b>
  [<i>device_name</i>] [<b>--histogram</b>]
  [<b>--allprograms</b>|<b>--programid</b> <i>id</i>] [<b>--units</b>
  <i>units</i>] [<b>--area</b>] [<b>--region</b>] [<b>--group</b>]
  [<b>--nosuffix</b>] [<b>--notimesuffix</b>]
  [<b>-v</b>|<b>--verbose</b>[<b>-v</b>|<b>--verbose</b>]]
<div>&#x00A0;</div>
List the statistics regions, areas, or groups registered on the device. If the
  <b>--allprograms</b> switch is given all regions will be listed regardless of
  region program ID values.
<div style="height: 1.00em;">&#x00A0;</div>
By default only regions and groups are included in list output. If <b>-v</b> or
  <b>--verbose</b> is given the report will also include a row of information
  for each configured group and for each area contained in each region
  displayed.
<div style="height: 1.00em;">&#x00A0;</div>
Regions that contain a single area are by default omitted from the verbose list
  since their properties are identical to the area that they contain - to view
  all regions regardless of the number of areas present use <b>--region</b>). To
  also view the areas contained within regions use <b>--area</b>.
<div style="height: 1.00em;">&#x00A0;</div>
If <b>--histogram</b> is given the report will include the bin count and latency
  boundary values for any configured histograms.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>print</b>
  [<i>device_name</i>] [<b>--clear</b>] [<b>--allprograms</b>|<b>--programid</b>
  <i>id</i>] [<b>--allregions</b>|<b>--regionid</b> <i>id</i>]
<div>&#x00A0;</div>
Print raw statistics counters for the specified region or for all present
  regions.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>report</b>
  [<i>device_name</i>] [<b>--interval</b> <i>seconds</i>] [<b>--count</b>
  <i>count</i>] [<b>--units</b> <i>units</i>] [<b>--histogram</b>]
  [<b>--allprograms</b>|<b>--programid</b> <i>id</i>]
  [<b>--allregions</b>|<b>--regionid</b> <i>id</i>] [<b>--area</b>]
  [<b>--region</b>] [<b>--group</b>] [<b>-O</b>|<b>--sort</b>
  <i>sort_fields</i>] [<b>-S</b>|<b>--select</b> <i>selection</i>]
  [<b>--units</b> <i>units</i>] [<b>--nosuffix</b>] [<b>--notimesuffix</b>]
<div>&#x00A0;</div>
Start a report for the specified object or for all present objects. If the count
  argument is specified, the report will repeat at a fixed interval set by the
  <b>--interval</b> option. The default interval is one second.
<div style="height: 1.00em;">&#x00A0;</div>
If the <b>--allprograms</b> switch is given, all regions will be listed,
  regardless of region program ID values.
<div style="height: 1.00em;">&#x00A0;</div>
If the <b>--histogram</b> is given the report will include the histogram values
  and latency boundaries.
<div style="height: 1.00em;">&#x00A0;</div>
If the <b>--relative</b> is used the default histogram field displays bin values
  as a percentage of the total number of I/Os.
<div style="height: 1.00em;">&#x00A0;</div>
Object types (areas, regions and groups) to include in the report are selected
  using the <b>--area</b>, <b>--region</b>, and <b>--group</b> options.</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>ungroup</b>
  [<i>device_name</i>] [<b>--alldevices</b>] [<b>--groupid</b> <i>id</i>]
<div>&#x00A0;</div>
Remove an existing group and return all the group's regions to their original
  state.
<div style="height: 1.00em;">&#x00A0;</div>
The group to be removed is specified using <b>--groupid</b>.</div>
<h1 class="Sh" title="Sh" id="REGIONS,_AREAS,_AND_GROUPS"><a class="selflink" href="#REGIONS,_AREAS,_AND_GROUPS">REGIONS,
  AREAS, AND GROUPS</a></h1>
The device-mapper statistics facility allows separate performance counters to be
  maintained for arbitrary regions of devices. A region may span any range: from
  a single sector to the whole device. A region may be further sub-divided into
  a number of distinct areas (one or more), each with its own counter set. In
  this case a summary value for the entire region is also available for use in
  reports.
<div style="height: 1.00em;">&#x00A0;</div>
In addition, one or more regions on one device can be combined into a statistics
  group. Groups allow several regions to be aggregated and reported as a single
  entity; counters for all regions and areas are summed and used to report
  totals for all group members. Groups also permit the assignment of an optional
  alias, allowing meaningful names to be associated with sets of regions.
<div style="height: 1.00em;">&#x00A0;</div>
The group metadata is stored with the first (lowest numbered) <b>region_id</b>
  in the group: deleting this region will also delete the group and other group
  members will be returned to their prior state.
<div style="height: 1.00em;">&#x00A0;</div>
By default new regions span the entire device. The <b>--start</b> and
  <b>--length</b> options allows a region of any size to be placed at any
  location on the device.
<div style="height: 1.00em;">&#x00A0;</div>
Using offsets it is possible to create regions that map individual objects
  within a block device (for example: partitions, files in a file system, or
  stripes or other structures in a RAID volume). Groups allow several
  non-contiguous regions to be assembled together for reporting and data
  aggregation.
<div style="height: 1.00em;">&#x00A0;</div>
A region may be either divided into the specified number of equal-sized areas,
  or into areas of the given size by specifying one of <b>--areas</b> or
  <b>--areasize</b> when creating a region with the <b>create</b> command.
  Depending on the size of the areas and the device region the final area within
  the region may be smaller than requested.
<div class="Pp"></div>
<b>Region identifiers</b>
<div class="Pp"></div>
Each region is assigned an identifier when it is created that is used to
  reference the region in subsequent operations. Region identifiers are unique
  within a given device (including across different <b>program_id</b> values).
<div style="height: 1.00em;">&#x00A0;</div>
Depending on the sequence of create and delete operations, gaps may exist in the
  sequence of <b>region_id</b> values for a particular device.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>region_id</b> should be treated as an opaque identifier used to reference
  the region.
<div class="Pp"></div>
<b>Group identifiers</b>
<div class="Pp"></div>
Groups are also assigned an integer identifier at creation time; like region
  identifiers, group identifiers are unique within the containing device.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>group_id</b> should be treated as an opaque identifier used to reference
  the group.
<h1 class="Sh" title="Sh" id="REPORT_FIELDS"><a class="selflink" href="#REPORT_FIELDS">REPORT
  FIELDS</a></h1>
The dmstats report provides several types of field that may be added to the
  default field set, or used to create custom reports.
<div style="height: 1.00em;">&#x00A0;</div>
All performance counters and metrics are calculated per-area.
<h2 class="Ss" title="Ss" id="Derived_metrics"><a class="selflink" href="#Derived_metrics">Derived
  metrics</a></h2>
A number of metrics fields are included that provide high level performance
  indicators. These are based on the fields provided by the conventional Linux
  iostat program and are derived from the basic counter values provided by the
  kernel for each area.
<dl class="Bl-tag">
  <dt class="It-tag"><b>reads_merged_per_sec</b></dt>
  <dd class="It-tag">Reads merged per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>writes_merged_per_sec</b></dt>
  <dd class="It-tag">Writes merged per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reads_per_sec</b></dt>
  <dd class="It-tag">Reads completed per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>writes_per_sec</b></dt>
  <dd class="It-tag">Writes completed per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>read_size_per_sec</b></dt>
  <dd class="It-tag">Size of data read per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>write_size_per_sec</b></dt>
  <dd class="It-tag">Size of data written per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>avg_request_size</b></dt>
  <dd class="It-tag">Average request size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>queue_size</b></dt>
  <dd class="It-tag">Average queue size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>await</b></dt>
  <dd class="It-tag">The average wait time for read and write operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>r_await</b></dt>
  <dd class="It-tag">The average wait time for read operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>w_await</b></dt>
  <dd class="It-tag">The average wait time for write operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>throughput</b></dt>
  <dd class="It-tag">The device throughput in operations per second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>service_time</b></dt>
  <dd class="It-tag">The average service time (in milliseconds) for operations
      issued to the device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>util</b></dt>
  <dd class="It-tag">Percentage of CPU time during which I/O requests were
      issued to the device (bandwidth utilization for the device). Device
      saturation occurs when this value is close to 100%.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Group,_region_and_area_meta_fields"><a class="selflink" href="#Group,_region_and_area_meta_fields">Group,
  region and area meta fields</a></h2>
Meta fields provide information about the groups, regions, or areas that the
  statistics values relate to. This includes the region and area identifier,
  start, length, and counts, as well as the program ID and user data values.
<dl class="Bl-tag">
  <dt class="It-tag"><b>region_id</b></dt>
  <dd class="It-tag">Region identifier. This is a non-negative integer returned
      by the kernel when a statistics region is created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>region_start</b></dt>
  <dd class="It-tag">The region start location. Display units are selected by
      the <b>--units</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>region_len</b></dt>
  <dd class="It-tag">The length of the region. Display units are selected by the
      <b>--units</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>area_id</b></dt>
  <dd class="It-tag">Area identifier. Area identifiers are assigned by the
      device-mapper statistics library and uniquely identify each area within a
      region. Each ID corresponds to a distinct set of performance counters for
      that area of the statistics region. Area identifiers are always
      monotonically increasing within a region so that higher ID values
      correspond to greater sector addresses within the area and no gaps in the
      sequence of identifiers exist.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>area_start</b></dt>
  <dd class="It-tag">The area start location. Display units are selected by the
      <b>--units</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>area_len</b></dt>
  <dd class="It-tag">The length of the area. Display units are selected by the
      <b>--units</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>area_count</b></dt>
  <dd class="It-tag">The number of areas in this region.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>program_id</b></dt>
  <dd class="It-tag">The program ID value associated with this region.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>user_data</b></dt>
  <dd class="It-tag">The user data value associated with this region.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group_id</b></dt>
  <dd class="It-tag">Group identifier. This is a non-negative integer returned
      by the dmstats <b>group</b> command when a statistics group is
    created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>interval_ns</b></dt>
  <dd class="It-tag">The estimated interval over which the current counter
      values have accumulated. The value is reported as an interger expressed in
      units of nanoseconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>interval</b></dt>
  <dd class="It-tag">The estimated interval over which the current counter
      values have accumulated. The value is reported as a real number in units
      of seconds.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Basic_counters"><a class="selflink" href="#Basic_counters">Basic
  counters</a></h2>
Basic counters provide access to the raw counter data from the kernel, allowing
  further processing to be carried out by another program.
<div class="Pp"></div>
The kernel provides thirteen separate counters for each statistics area. The
  first eleven of these match the counters provided in /proc/diskstats or
  /sys/block/*/*/stat. The final pair provide separate counters for read and
  write time.
<dl class="Bl-tag">
  <dt class="It-tag"><b>read_count</b></dt>
  <dd class="It-tag">Count of reads completed this interval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reads_merged_count</b></dt>
  <dd class="It-tag">Count of reads merged this interval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>read_sector_count</b></dt>
  <dd class="It-tag">Count of 512 byte sectors read this interval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>read_time</b></dt>
  <dd class="It-tag">Accumulated duration of all read requests (ns).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>write_count</b></dt>
  <dd class="It-tag">Count of writes completed this interval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>writes_merged_count</b></dt>
  <dd class="It-tag">Count of writes merged this interval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>write_sector_count</b></dt>
  <dd class="It-tag">Count of 512 byte sectors written this interval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>write_nsecs</b></dt>
  <dd class="It-tag">Accumulated duration of all write requests (ns).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>in_progress_count</b></dt>
  <dd class="It-tag">Count of requests currently in progress.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>io_ticks</b></dt>
  <dd class="It-tag">Nanoseconds spent servicing requests.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>queue_ticks</b></dt>
  <dd class="It-tag">This field is incremented at each I/O start, I/O
      completion, I/O merge, or read of these stats by the number of I/Os in
      progress multiplied by the number of milliseconds spent doing I/O since
      the last update of this field. This can provide an easy measure of both
      I/O completion time and the backlog that may be accumulating.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>read_ticks</b></dt>
  <dd class="It-tag">Nanoseconds spent servicing reads.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>write_ticks</b></dt>
  <dd class="It-tag">Nanoseconds spent servicing writes.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Histogram_fields"><a class="selflink" href="#Histogram_fields">Histogram
  fields</a></h2>
Histograms measure the frequency distribution of user specified I/O latency
  intervals. Histogram bin boundaries are specified when a region is created.
<div class="Pp"></div>
A brief representation of the histogram values and latency intervals can be
  included in the report using these fields.
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_count</b></dt>
  <dd class="It-tag">A list of the histogram counts for the current statistics
      area in order of ascending latency value. Each value represents the number
      of I/Os with latency times falling into that bin's time range during the
      sample period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_count_bounds</b></dt>
  <dd class="It-tag">A list of the histogram counts for the current statistics
      area in order of ascending latency value including bin boundaries: each
      count is prefixed by the lower bound of the corresponding histogram
    bin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_count_ranges</b></dt>
  <dd class="It-tag">A list of the histogram counts for the current statistics
      area in order of ascending latency value including bin boundaries: each
      count is prefixed by both the lower and upper bounds of the corresponding
      histogram bin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_percent</b></dt>
  <dd class="It-tag">A list of the relative histogram values for the current
      statistics area in order of ascending latency value, expressed as a
      percentage. Each value represents the proportion of I/Os with latency
      times falling into that bin's time range during the sample period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_percent_bounds</b></dt>
  <dd class="It-tag">A list of the relative histogram values for the current
      statistics area in order of ascending latency value, expressed as a
      percentage and including bin boundaries. Each value represents the
      proportion of I/Os with latency times falling into that bin's time range
      during the sample period and is prefixed with the corresponding bin's
      lower bound.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_percent_ranges</b></dt>
  <dd class="It-tag">A list of the relative histogram values for the current
      statistics area in order of ascending latency value, expressed as a
      percentage and including bin boundaries. Each value represents the
      proportion of I/Os with latency times falling into that bin's time range
      during the sample period and is prefixed with the corresponding bin's
      lower and upper bounds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_bounds</b></dt>
  <dd class="It-tag">A list of the histogram boundary values for the current
      statistics area in order of ascending latency value. The values are
      expressed in whole units of seconds, miliseconds, microseconds or
      nanoseconds with a suffix indicating the unit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_ranges</b></dt>
  <dd class="It-tag">A list of the histogram bin ranges for the current
      statistics area in order of ascending latency value. The values are
      expressed as &quot;LOWER-UPPER&quot; in whole units of seconds,
      miliseconds, microseconds or nanoseconds with a suffix indicating the
      unit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hist_bins</b></dt>
  <dd class="It-tag">The number of latency histogram bins configured for the
      area.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Create a whole-device region with one area on vg00/lvol1
<div>&#x00A0;</div>
# <b>dmstats create vg00/lvol1</b>
<div>&#x00A0;</div>
vg00/lvol1: Created new region with 1 area(s) as region ID 0
<div class="Pp"></div>
Create a 32M region 1G into device d0
<div>&#x00A0;</div>
# <b>dmstats create --start 1G --length 32M d0</b>
<div>&#x00A0;</div>
d0: Created new region with 1 area(s) as region ID 0
<div class="Pp"></div>
Create a whole-device region with 8 areas on every device
<div>&#x00A0;</div>
<div>&#x00A0;</div>
# <b>dmstats create --areas 8</b>
<div>&#x00A0;</div>
vg00-lvol1: Created new region with 8 area(s) as region ID 0
<div>&#x00A0;</div>
vg00-lvol2: Created new region with 8 area(s) as region ID 0
<div>&#x00A0;</div>
vg00-lvol3: Created new region with 8 area(s) as region ID 0
<div>&#x00A0;</div>
vg01-lvol0: Created new region with 8 area(s) as region ID 2
<div>&#x00A0;</div>
vg01-lvol1: Created new region with 8 area(s) as region ID 0
<div>&#x00A0;</div>
vg00-lvol2: Created new region with 8 area(s) as region ID 1
<div class="Pp"></div>
Delete all regions on all devices
<div>&#x00A0;</div>
<div>&#x00A0;</div>
# <b>dmstats delete --alldevices --allregions</b>
<div class="Pp"></div>
Create a whole-device region with areas 10GiB in size on vg00/lvol1 using
  dmsetup
<div>&#x00A0;</div>
<div>&#x00A0;</div>
# <b>dmsetup stats create --areasize 10G vg00/lvol1</b>
<div>&#x00A0;</div>
vg00-lvol1: Created new region with 5 area(s) as region ID 1
<div class="Pp"></div>
Create a 1GiB region with 16 areas at the start of vg00/lvol1
<div>&#x00A0;</div>
# <b>dmstats create --start 0 --len 1G --areas=16 vg00/lvol1</b>
<div>&#x00A0;</div>
vg00-lvol1: Created new region with 16 area(s) as region ID 0
<div class="Pp"></div>
List the statistics regions registered on vg00/lvol1
<div>&#x00A0;</div>
# <b>dmstats list vg00/lvol1</b>
<div>&#x00A0;</div>
Name RgID RStart RSize #Areas ASize ProgID
<div>&#x00A0;</div>
vg00-lvol1 0 0 61.00g 1 61.00g dmstats
<div>&#x00A0;</div>
vg00-lvol1 1 61.00g 19.20g 1 19.20g dmstats
<div>&#x00A0;</div>
vg00-lvol1 2 80.20g 2.14g 1 2.14g dmstats
<div class="Pp"></div>
Display five statistics reports for vg00/lvol1 at an interval of one second
<div>&#x00A0;</div>
<div>&#x00A0;</div>
# <b>dmstats report --interval 1 --count 5 vg00/lvol1</b>
<div>&#x00A0;</div>
# <b>dmstats report</b>
<div>&#x00A0;</div>
Name RgID ArID AStart ASize RRqM/s WRqM/s R/s W/s RSz/s WSz/s AvRqSz QSize Util%
  AWait RdAWa WrAWa
<div>&#x00A0;</div>
vg_hex-lv_home 0 0 0 61.00g 0.00 0.00 0.00 218.00 0 1.04m 4.50k 2.97 81.70 13.62
  0.00 13.62
<div>&#x00A0;</div>
vg_hex-lv_home 1 0 61.00g 19.20g 0.00 0.00 0.00 5.00 0 548.00k 109.50k 0.14
  11.00 27.40 0.00 27.40
<div>&#x00A0;</div>
vg_hex-lv_home 2 0 80.20g 2.14g 0.00 0.00 0.00 14.00 0 1.15m 84.00k 0.39 18.70
  27.71 0.00 27.71
<div class="Pp"></div>
Create one region for reach target contained in device vg00/lvol1
<div>&#x00A0;</div>
<div>&#x00A0;</div>
# <b>dmstats create --segments vg00/lvol1</b>
<div>&#x00A0;</div>
vg00-lvol1: Created new region with 1 area(s) as region ID 0
<div>&#x00A0;</div>
vg00-lvol1: Created new region with 1 area(s) as region ID 1
<div>&#x00A0;</div>
vg00-lvol1: Created new region with 1 area(s) as region ID 2
<div class="Pp"></div>
Create regions mapping each file in the directory images/ and place them into
  separate groups, each named after the corresponding file
<div>&#x00A0;</div>
# <b>dmstats create --filemap images/*</b>
<div>&#x00A0;</div>
images/vm1.qcow2: Created new group with 87 region(s) as group ID 0.
<div>&#x00A0;</div>
images/vm1-1.qcow2: Created new group with 8 region(s) as group ID 87.
<div>&#x00A0;</div>
images/vm2.qcow2: Created new group with 11 region(s) as group ID 95.
<div>&#x00A0;</div>
images/vm2-1.qcow2: Created new group with 1454 region(s) as group ID 106.
<div>&#x00A0;</div>
images/vm3.img: Created new group with 2 region(s) as group ID 1560.
<div class="Pp"></div>
Print raw counters for region 4 on device d0
<div>&#x00A0;</div>
# <b>dmstats print --regionid 4 d0</b>
<div>&#x00A0;</div>
2097152+65536 0 0 0 0 29 0 264 701 0 41 701 0 41
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Bryn M. Reeves &lt;bmr@redhat.com&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dmsetup</b>(8)
<div style="height: 1.00em;">&#x00A0;</div>
LVM2 resource page: https://www.sourceware.org/lvm2/
<div>&#x00A0;</div>
Device-mapper resource page: http://sources.redhat.com/dm/
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Device-mapper statistics kernel documentation
<div>&#x00A0;</div>
<i>Documentation/device-mapper/statistics.txt</i></div>
<table class="foot">
  <tr>
    <td class="foot-date">Jun 23 2016</td>
    <td class="foot-os">Linux</td>
  </tr>
</table>
</body>
</html>
