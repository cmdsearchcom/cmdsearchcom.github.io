<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:32 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VIRTLOCKD(8) Virtualization Support VIRTLOCKD(8)</p>

<p style="margin-top: 1em">NAME <br>
virtlockd - libvirt lock management daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
virtlockd [OPTION]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The virtlockd program is a server side daemon component of
the libvirt virtualization management system that is used to
manage locks held against virtual machine resources, such
<br>
as their disks.</p>

<p style="margin-top: 1em">This daemon is not used directly
by libvirt client applications, rather it is called on their
behalf by libvirtd. By maintaining the locks in a standalone
daemon, the main <br>
libvirtd daemon can be restarted without risk of losing
locks. The virtlockd daemon has the ability to re-exec()
itself upon receiving SIGUSR1, to allow live upgrades
without <br>
downtime.</p>

<p style="margin-top: 1em">The virtlockd daemon listens for
requests on a local Unix domain socket.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help <br>
Display command line help usage then exit.</p>

<p style="margin-top: 1em">-d, --daemon <br>
Run as a daemon and write PID file.</p>

<p style="margin-top: 1em">-f, --config FILE <br>
Use this configuration file, overriding the default
value.</p>

<p style="margin-top: 1em">-t, --timeout SECONDS <br>
Automatically shutdown after SECONDS have elapsed with no
active client or lock.</p>

<p style="margin-top: 1em">-p, --pid-file FILE <br>
Use this name for the PID file, overriding the default
value.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Enable output of verbose messages.</p>

<p style="margin-top: 1em">-V, --version <br>
Display version information then exit.</p>

<p style="margin-top: 1em">SIGNALS <br>
On receipt of SIGUSR1 virtlockd will re-exec() its binary,
while maintaining all current locks and clients. This allows
for live upgrades of the virtlockd service.</p>

<p style="margin-top: 1em">FILES <br>
When run as root. <br>
/etc/virtlockd.conf <br>
The default configuration file used by virtlockd, unless
overridden on the command line using the -f|--config
option.</p>

<p style="margin-top: 1em">/var/run/libvirt/virtlockd-sock
<br>
The sockets libvirtd will use.</p>

<p style="margin-top: 1em">/var/run/virtlockd.pid <br>
The PID file to use, unless overridden by the -p|--pid-file
option.</p>

<p style="margin-top: 1em">When run as non-root. <br>
$XDG_CONFIG_HOME/virtlockd.conf <br>
The default configuration file used by libvirtd, unless
overridden on the command line using the -f|--config
option.</p>


<p style="margin-top: 1em">$XDG_RUNTIME_DIR/libvirt/virtlockd-sock
<br>
The socket libvirtd will use.</p>


<p style="margin-top: 1em">$XDG_RUNTIME_DIR/libvirt/virtlockd.pid
<br>
The PID file to use, unless overridden by the -p|--pid-file
option.</p>

<p style="margin-top: 1em">If $XDG_CONFIG_HOME is not set
in your environment, libvirtd will use $HOME/.config <br>
If $XDG_RUNTIME_DIR is not set in your environment, libvirtd
will use $HOME/.cache</p>

<p style="margin-top: 1em">EXAMPLES <br>
To retrieve the version of virtlockd:</p>

<p style="margin-top: 1em"># virtlockd --version <br>
virtlockd (libvirt) 1.1.1 <br>
#</p>

<p style="margin-top: 1em">To start virtlockd, instructing
it to daemonize and create a PID file:</p>

<p style="margin-top: 1em"># virtlockd -d <br>
# ls -la /var/run/virtlockd.pid <br>
-rw-r--r-- 1 root root 6 Jul 9 02:40 /var/run/virtlockd.pid
<br>
#</p>

<p style="margin-top: 1em">BUGS <br>
Please report all bugs you discover. This should be done via
either:</p>

<p style="margin-top: 1em">a) the mailing list <br>
&lt;http://libvirt.org/contact.html&gt;</p>

<p style="margin-top: 1em">or,</p>

<p style="margin-top: 1em">b) the bug tracker <br>
&lt;http://libvirt.org/bugs.html&gt;</p>

<p style="margin-top: 1em">Alternatively, you may report
bugs to your software distributor / vendor.</p>

<p style="margin-top: 1em">AUTHORS <br>
Please refer to the AUTHORS file distributed with
libvirt.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2006-2013 Red Hat, Inc., and the authors
listed in the libvirt AUTHORS file.</p>

<p style="margin-top: 1em">LICENSE <br>
virtlockd is distributed under the terms of the GNU LGPL
v2.1+. This is free software; see the source for copying
conditions. There is NO warranty; not even for
MERCHANTABILITY <br>
or FITNESS FOR A PARTICULAR PURPOSE</p>

<p style="margin-top: 1em">SEE ALSO <br>
libvirtd(8), &lt;http://www.libvirt.org/&gt;</p>

<p style="margin-top: 1em">libvirt-1.3.4 2016-04-26
VIRTLOCKD(8)</p>
<hr>
</body>
</html>
