<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SANLK-RESET(8) System Manager&rsquo;s Manual
SANLK-RESET(8)</p>

<p style="margin-top: 1em">NAME <br>
sanlk-reset - host reset program</p>

<p style="margin-top: 1em">SYNOPSIS <br>
sanlk-reset [OPTIONS] action lockspace_name ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The sanlk-reset program sets events in specified sanlock
lockspaces. Events are defined to cause sanlk-resetd on
another host to: <br>
- use wdmd/watchdog to reset the host <br>
- use /proc/sysrq-trigger to reboot the host</p>

<p style="margin-top: 1em">Both hosts must be operational
and have continued access to a common lockspace for the
reset request to succeed. After setting the event, the
sanlk-reset program monitors the <br>
host status in the sanlock lockspace until the target host
is dead.</p>

<p style="margin-top: 1em">The sanlk-reset program can also
be run on the same host as sanlk-resetd to update which
lockspaces the local sanlk-resetd is watching for
events.</p>

<p style="margin-top: 1em">OPTIONS <br>
--version, -V <br>
Print version.</p>

<p style="margin-top: 1em">--help, -h <br>
Print usage.</p>

<p style="margin-top: 1em">Reset another host <br>
The event is set in each lockspace specified. The target
host may have a different host id in each lockspace.</p>

<p style="margin-top: 1em">sanlk-reset reset
lockspace_name:host_id ...</p>

<p style="margin-top: 1em">--host-id, -i num <br>
Host id to reset. (Use only with single lockspace name.)</p>

<p style="margin-top: 1em">--generation, -g num <br>
Generation of host. (Use only with single lockspace
name.)</p>

<p style="margin-top: 1em">--sysrq-reboot, -b 0|1 <br>
Enable/Disable (1/0) use of /proc/sysrq-trigger to
reboot.</p>

<p style="margin-top: 1em">--resource-mode, -R 0|1 <br>
Resource leases are used (1) or not used (0) to protect
storage.</p>

<p style="margin-top: 1em">--native-timeout, -t num <br>
Disable native timeout by setting to 0.</p>

<p style="margin-top: 1em">Update the local
sanlk-resetd</p>

<p style="margin-top: 1em">to watch new lockspaces for
reset events:</p>

<p style="margin-top: 1em">sanlk-reset reg lockspace_name
...</p>

<p style="margin-top: 1em">to not watch lockspaces for
reset events:</p>

<p style="margin-top: 1em">sanlk-reset end lockspace_name
...</p>

<p style="margin-top: 1em">to clear all lockspaces being
watched:</p>

<p style="margin-top: 1em">sanlk-reset clear all</p>

<p style="margin-top: 1em">SEE ALSO <br>
sanlk-resetd(8) sanlock(8) wdmd(8)</p>

<p style="margin-top: 1em">2014-08-14 SANLK-RESET(8)</p>
<hr>
</body>
</html>
