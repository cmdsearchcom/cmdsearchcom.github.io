<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FENCE_AGENT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FENCE_AGENT(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">FENCE_AGENT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fence_ironic - Fence agent for OpenStack's Ironic (Bare Metal as a service)
  service
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
fence_ironic is a Fencing agent which can be used with machines controlled by
  the Ironic service. This agent calls the openstack CLI. WARNING! This fence
  agent is not intended for production use. Relying on a functional ironic
  service for fencing is not a good design choice.
<div class="Pp"></div>
fence_ironic accepts options on the command line as well as from stdin. Fenced
  sends parameters through stdin when it execs the agent. fence_ironic can be
  run by itself with command line options. This is useful for testing and for
  turning outlets on or off from scripts.
<div style="height: 1.00em;">&#x00A0;</div>
Vendor URL: https://wiki.openstack.org/wiki/Ironic
<h1 class="Sh" title="Sh" id="PARAMETERS"><a class="selflink" href="#PARAMETERS">PARAMETERS</a></h1>
	
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --action=[action]</b></dt>
  <dd class="It-tag">Fencing action (Default Value: reboot) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auth-url=[authurl]</b></dt>
  <dd class="It-tag">Keystone Admin Auth URL This parameter is always required.
      	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --username=[name]</b></dt>
  <dd class="It-tag">Login name This parameter is always required. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p, --password=[password]</b></dt>
  <dd class="It-tag">Login password or passphrase 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S, --password-script=[script]</b></dt>
  <dd class="It-tag">Script to run to retrieve password 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --plug=[id]</b></dt>
  <dd class="It-tag">Physical plug number on device, UUID or identification of
      machine This parameter is always required. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t, --tenant-name=[tenant]</b></dt>
  <dd class="It-tag">Keystone Admin Tenant (Default Value: admin) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q, --quiet</b></dt>
  <dd class="It-tag">Disable logging to stderr. Does not affect --verbose or
      --debug logging to syslog. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Verbose mode 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D, --debug-file=[debugfile]</b></dt>
  <dd class="It-tag">Write debug information to given file 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V, --version</b></dt>
  <dd class="It-tag">Display version information and exit 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Display help and exit 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C, --separator=[char]</b></dt>
  <dd class="It-tag">Separator for CSV created by 'list' operation (Default
      Value: ,) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delay=[seconds]</b></dt>
  <dd class="It-tag">Wait X seconds before fencing is started (Default Value: 0)
      	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--login-timeout=[seconds]</b></dt>
  <dd class="It-tag">Wait X seconds for cmd prompt after login (Default Value:
      5) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--openstack-path=[path]</b></dt>
  <dd class="It-tag">Path to the OpenStack binary (Default Value:
      /usr/bin/openstack) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--power-timeout=[seconds]</b></dt>
  <dd class="It-tag">Test X seconds for status change after ON/OFF (Default
      Value: 20) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--power-wait=[seconds]</b></dt>
  <dd class="It-tag">Wait X seconds after issuing ON/OFF (Default Value: 0)
    	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--shell-timeout=[seconds]</b></dt>
  <dd class="It-tag">Wait X seconds for cmd prompt after issuing command
      (Default Value: 3) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--retry-on=[attempts]</b></dt>
  <dd class="It-tag">Count of attempts to retry power on (Default Value: 1)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
	
<dl class="Bl-tag">
  <dt class="It-tag"><b>on </b></dt>
  <dd class="It-tag">Power on machine. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>off </b></dt>
  <dd class="It-tag">Power off machine. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reboot </b></dt>
  <dd class="It-tag">Reboot machine. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status </b></dt>
  <dd class="It-tag">This returns the status of the plug/virtual machine. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list </b></dt>
  <dd class="It-tag">List available plugs with aliases/virtual machines if there
      is support for more then one device. Returns N/A otherwise. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list-status </b></dt>
  <dd class="It-tag">List available plugs with aliases/virtual machines and
      their power state if it can be obtained without additional commands.
    	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>monitor </b></dt>
  <dd class="It-tag">Check the health of fence device 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>metadata </b></dt>
  <dd class="It-tag">Display the XML metadata describing this resource. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>validate-all </b></dt>
  <dd class="It-tag">Validate if all required parameters are entered.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="STDIN_PARAMETERS"><a class="selflink" href="#STDIN_PARAMETERS">STDIN
  PARAMETERS</a></h1>
	
<dl class="Bl-tag">
  <dt class="It-tag"><b>action</b></dt>
  <dd class="It-tag">Fencing action (Default Value: reboot) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>auth-url</b></dt>
  <dd class="It-tag">Keystone Admin Auth URL This parameter is always required.
      	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>login</b></dt>
  <dd class="It-tag">Login name This parameter is always required. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>passwd</b></dt>
  <dd class="It-tag">Login password or passphrase 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>passwd_script</b></dt>
  <dd class="It-tag">Script to run to retrieve password 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>port</b></dt>
  <dd class="It-tag">Physical plug number on device, UUID or identification of
      machine This parameter is always required. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tenant-name</b></dt>
  <dd class="It-tag">Keystone Admin Tenant (Default Value: admin) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quiet</b></dt>
  <dd class="It-tag">Disable logging to stderr. Does not affect --verbose or
      --debug logging to syslog. 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>verbose</b></dt>
  <dd class="It-tag">Verbose mode 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debug</b></dt>
  <dd class="It-tag">Write debug information to given file 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>version</b></dt>
  <dd class="It-tag">Display version information and exit 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b></dt>
  <dd class="It-tag">Display help and exit 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b></dt>
  <dd class="It-tag">Separator for CSV created by 'list' operation (Default
      Value: ,) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delay</b></dt>
  <dd class="It-tag">Wait X seconds before fencing is started (Default Value: 0)
      	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>login_timeout</b></dt>
  <dd class="It-tag">Wait X seconds for cmd prompt after login (Default Value:
      5) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>openstack-path</b></dt>
  <dd class="It-tag">Path to the OpenStack binary (Default Value:
      /usr/bin/openstack) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>power_timeout</b></dt>
  <dd class="It-tag">Test X seconds for status change after ON/OFF (Default
      Value: 20) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>power_wait</b></dt>
  <dd class="It-tag">Wait X seconds after issuing ON/OFF (Default Value: 0)
    	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shell_timeout</b></dt>
  <dd class="It-tag">Wait X seconds for cmd prompt after issuing command
      (Default Value: 3) 	</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>retry_on</b></dt>
  <dd class="It-tag">Count of attempts to retry power on (Default Value: 1)</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2009-10-20</td>
    <td class="foot-os">fence_ironic (Fence Agent)</td>
  </tr>
</table>
</body>
</html>
