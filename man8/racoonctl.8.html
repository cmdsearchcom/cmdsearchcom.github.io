<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RACOONCTL(8) BSD System Manager&rsquo;s Manual
RACOONCTL(8)</p>

<p style="margin-top: 1em">NAME <br>
racoonctl &acirc; racoon administrative control tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
racoonctl [opts] reload-config <br>
racoonctl [opts] show-schedule <br>
racoonctl [opts] show-sa [isakmp|esp|ah|ipsec] <br>
racoonctl [opts] get-sa-cert [inet|inet6] src dst <br>
racoonctl [opts] flush-sa [isakmp|esp|ah|ipsec] <br>
racoonctl [opts] delete-sa saopts <br>
racoonctl [opts] establish-sa [-w] [-n remoteconf] [-u
identity] saopts <br>
racoonctl [opts] vpn-connect [-u identity] vpn_gateway <br>
racoonctl [opts] vpn-disconnect vpn_gateway <br>
racoonctl [opts] show-event <br>
racoonctl [opts] logout-user login</p>

<p style="margin-top: 1em">DESCRIPTION <br>
racoonctl is used to control racoon(8) operation, if
ipsec-tools was configured with adminport support.
Communication between racoonctl and racoon(8) is done
through a UNIX <br>
socket. By changing the default mode and ownership of the
socket, you can allow non-root users to alter racoon(8)
behavior, so do that with caution.</p>

<p style="margin-top: 1em">The following general options
are available:</p>

<p style="margin-top: 1em">-d Debug mode. Hexdump sent
admin port commands.</p>

<p style="margin-top: 1em">-l Increase verbosity. Mainly
for show-sa command.</p>

<p style="margin-top: 1em">-s socket <br>
Specify unix socket name used to connecting racoon.</p>

<p style="margin-top: 1em">The following commands are
available:</p>

<p style="margin-top: 1em">reload-config <br>
This should cause racoon(8) to reload its configuration
file.</p>

<p style="margin-top: 1em">show-schedule <br>
Unknown command.</p>

<p style="margin-top: 1em">show-sa [isakmp|esp|ah|ipsec]
<br>
Dump the SA: All the SAs if no SA class is provided, or
either ISAKMP SAs, IPsec ESP SAs, IPsec AH SAs, or all IPsec
SAs. Use -l to increase verbosity.</p>

<p style="margin-top: 1em">get-sa-cert [inet|inet6] src dst
<br>
Output the raw certificate that was used to authenticate the
phase 1 matching src and dst.</p>

<p style="margin-top: 1em">flush-sa [isakmp|esp|ah|ipsec]
<br>
is used to flush all SAs if no SA class is provided, or a
class of SAs, either ISAKMP SAs, IPsec ESP SAs, IPsec AH
SAs, or all IPsec SAs.</p>

<p style="margin-top: 1em">establish-sa [-w] [-n
remoteconf] [-u username] saopts <br>
Establish an SA, either an ISAKMP SA, IPsec ESP SA, or IPsec
AH SA. The optional -u username can be used when
establishing an ISAKMP SA while hybrid auth is in use. The
<br>
exact remote block to use can be specified with -n
remoteconf. racoonctl will prompt you for the password
associated with username and these credentials will be used
in <br>
the Xauth exchange.</p>

<p style="margin-top: 1em">Specifying -w will make
racoonctl wait until the SA is actually established or an
error occurs.</p>

<p style="margin-top: 1em">saopts has the following
format:</p>

<p style="margin-top: 1em">isakmp {inet|inet6} src dst</p>

<p style="margin-top: 1em">{esp|ah} {inet|inet6}
src/prefixlen/port dst/prefixlen/port <br>
{icmp|tcp|udp|gre|any}</p>

<p style="margin-top: 1em">vpn-connect [-u username]
vpn_gateway <br>
This is a particular case of the previous command. It will
establish an ISAKMP SA with vpn_gateway.</p>

<p style="margin-top: 1em">delete-sa saopts <br>
Delete an SA, either an ISAKMP SA, IPsec ESP SA, or IPsec AH
SA.</p>

<p style="margin-top: 1em">vpn-disconnect vpn_gateway <br>
This is a particular case of the previous command. It will
kill all SAs associated with vpn_gateway.</p>

<p style="margin-top: 1em">show-event <br>
Listen for all events reported by racoon(8).</p>

<p style="margin-top: 1em">logout-user login <br>
Delete all SA established on behalf of the Xauth user
login.</p>

<p style="margin-top: 1em">Command shortcuts are available:
<br>
rc reload-config <br>
ss show-sa <br>
sc show-schedule <br>
fs flush-sa <br>
ds delete-sa <br>
es establish-sa <br>
vc vpn-connect <br>
vd vpn-disconnect <br>
se show-event <br>
lu logout-user</p>

<p style="margin-top: 1em">RETURN VALUES <br>
The command should exit with 0 on success, and non-zero on
errors.</p>

<p style="margin-top: 1em">FILES <br>
/var/racoon/racoon.sock or <br>
/var/run/racoon.sock racoon(8) control socket.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ipsec(4), racoon(8)</p>

<p style="margin-top: 1em">HISTORY <br>
Once was kmpstat in the KAME project. It turned into
racoonctl but remained undocumented for a while. Emmanuel
Dreyfus &lt;manu@NetBSD.org&gt; wrote this man page.</p>

<p style="margin-top: 1em">BSD March 12, 2009 BSD</p>
<hr>
</body>
</html>
