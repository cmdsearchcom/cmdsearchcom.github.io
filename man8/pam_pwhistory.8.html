<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:23 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PAM_PWHISTORY(8) Linux-PAM Manual PAM_PWHISTORY(8)</p>

<p style="margin-top: 1em">NAME <br>
pam_pwhistory - PAM module to remember last passwords</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pam_pwhistory.so [debug] [use_authtok] [enforce_for_root]
[remember=N] [retry=N] [authtok_type=STRING]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This module saves the last passwords for each user in order
to force password change history and keep the user from
alternating between the same password too frequently.</p>

<p style="margin-top: 1em">This module does not work
together with kerberos. In general, it does not make much
sense to use this module in conjunction with NIS or LDAP,
since the old passwords are stored <br>
on the local machine and are not available on another
machine for password history checking.</p>

<p style="margin-top: 1em">OPTIONS <br>
debug <br>
Turns on debugging via syslog(3).</p>

<p style="margin-top: 1em">use_authtok <br>
When password changing enforce the module to use the new
password provided by a previously stacked password module
(this is used in the example of the stacking of the <br>
pam_cracklib module documented below).</p>

<p style="margin-top: 1em">enforce_for_root <br>
If this option is set, the check is enforced for root,
too.</p>

<p style="margin-top: 1em">remember=N <br>
The last N passwords for each user are saved in
/etc/security/opasswd. The default is 10. Value of 0 makes
the module to keep the existing contents of the opasswd file
<br>
unchanged.</p>

<p style="margin-top: 1em">retry=N <br>
Prompt user at most N times before returning with error. The
default is 1.</p>

<p style="margin-top: 1em">authtok_type=STRING <br>
See pam_get_authtok(3) for more details.</p>

<p style="margin-top: 1em">MODULE TYPES PROVIDED <br>
Only the password module type is provided.</p>

<p style="margin-top: 1em">RETURN VALUES <br>
PAM_AUTHTOK_ERR <br>
No new password was entered, the user aborted password
change or new password couldn&rsquo;t be set.</p>

<p style="margin-top: 1em">PAM_IGNORE <br>
Password history was disabled.</p>

<p style="margin-top: 1em">PAM_MAXTRIES <br>
Password was rejected too often.</p>

<p style="margin-top: 1em">PAM_USER_UNKNOWN <br>
User is not known to system.</p>

<p style="margin-top: 1em">EXAMPLES <br>
An example password section would be:</p>

<p style="margin-top: 1em">#%PAM-1.0 <br>
password required pam_pwhistory.so <br>
password required pam_unix.so use_authtok</p>

<p style="margin-top: 1em">In combination with
pam_cracklib:</p>

<p style="margin-top: 1em">#%PAM-1.0 <br>
password required pam_cracklib.so retry=3 <br>
password required pam_pwhistory.so use_authtok <br>
password required pam_unix.so use_authtok</p>

<p style="margin-top: 1em">FILES <br>
/etc/security/opasswd <br>
File with password history</p>

<p style="margin-top: 1em">SEE ALSO <br>
pam.conf(5), pam.d(5), pam(8)pam_get_authtok(3)</p>

<p style="margin-top: 1em">AUTHOR <br>
pam_pwhistory was written by Thorsten Kukuk
&lt;kukuk@thkukuk.de&gt;</p>

<p style="margin-top: 1em">Linux-PAM Manual 09/19/2013
PAM_PWHISTORY(8)</p>
<hr>
</body>
</html>
