<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pr-edit(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pr-edit(8)</td>
    <td class="head-vol">GNATS Admininstration Utilities</td>
    <td class="head-rtitle">pr-edit(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pr-edit - creates, edits or deletes PRs
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pr-edit</b></dt>
  <dd class="It-tag">[&#x00A0;<b>--lock</b>=<i>username</i>&#x00A0;|&#x00A0;<b>-l</b>&#x00A0;<i>username</i>&#x00A0;]
      [&#x00A0; <b>--unlock</b>&#x00A0;|&#x00A0;<b>-u</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--lockdb</b>&#x00A0;|&#x00A0;<b>-L</b>&#x00A0;]&#x00A0;[&#x00A0;
      <b>--unlockdb</b>&#x00A0;|&#x00A0; <b>-U</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0; <b>--check</b>&#x00A0;|&#x00A0;<b>-c</b>&#x00A0;] [&#x00A0;
      <b>--check-initial</b>&#x00A0;|&#x00A0; <b>-C</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0; <b>--submit</b>&#x00A0;|&#x00A0;<b>-s</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--append</b>=<i>field</i>&#x00A0;|&#x00A0;<b>-a</b>&#x00A0;<i>field</i>&#x00A0;]
      [&#x00A0;
      <b>--replace</b>=<i>field</i>&#x00A0;|&#x00A0;<b>-r</b>&#x00A0;<i>field</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--reason</b>=<i>reason</i>&#x00A0;|&#x00A0;<b>-R</b>&#x00A0;<i>reason</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0; <b>--delete-pr</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--process</b>=<i>process-id</i>&#x00A0;|&#x00A0;<b>-p</b>&#x00A0;
      <i>process-id</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--database</b>=<i>database</i>&#x00A0;|&#x00A0;<b>-d</b>&#x00A0;
      <i>database</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--filename</b>=<i>filename</i>&#x00A0;|&#x00A0;<b>-f</b>&#x00A0;
      <i>filename</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0; <b>--version</b>&#x00A0;|&#x00A0;<b>-V</b>&#x00A0;] [&#x00A0;
      <b>--help</b>&#x00A0;|&#x00A0; <b>-h</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--user</b>=<i>username</i>&#x00A0;|&#x00A0;<b>-v</b>&#x00A0;<i>username</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--passwd</b>=<i>password</i>&#x00A0;|&#x00A0;<b>-w</b>&#x00A0;<i>password</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--host</b>=<i>host</i>&#x00A0;|&#x00A0;<b>-H</b>&#x00A0;<i>host</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0;
      <b>--port</b>=<i>port</i>&#x00A0;|&#x00A0;<b>-P</b>&#x00A0;<i>port</i>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0; <b>--debug</b>&#x00A0;|&#x00A0;<b>-D</b>&#x00A0;]
    <div>&#x00A0;</div>
    [&#x00A0; <i>PR</i>&#x00A0;]</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pr-edit</b> can be used to edit an existing <i>PR</i> by either replacing or
  appending to particular fields within the <i>PR</i>, or providing a new
  <i>PR</i> to replace the existing one. <b>pr-edit</b> can also be used to
  create new <i>PR</i>s from scratch, or delete existing ones.
<div class="Pp"></div>
<b>pr-edit</b> also provides miscellaneous services for locking and unlocking
  <i>PR</i>s, locking or unlocking an entire database, or verifying that
  proposed <i>PR</i> contents are valid and correct.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--lockdb</b>,&#x00A0;<b>-L</b></dt>
  <dd class="It-tag">Locks the specified database. No PRs may be edited, created
      or deleted while the database is locked.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;">This option is generally used when editing the
  index file.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unlockdb</b>,&#x00A0;<b>-U</b></dt>
  <dd class="It-tag">Unlocks the database. No check is made that the invoking
      user actually had locked the database in the first place; hence, it is
      possible for anyone to steal a database lock.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check</b>,&#x00A0;<b>-c</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check-initial</b>,&#x00A0;<b>-C</b></dt>
  <dd class="It-tag">The <b>--check</b> options are used to verify that a
      proposed <i>PR</i>'s field contents are valid. The <i>PR</i> is read in
      (either from stdin or a file specified with <b>--filename</b>), and its
      fields are compared against the rules specified by the database
      configuration of the selected database. Warnings are given for enumerated
      fields whose contents do not contain one of the required values or fields
      that do not match required regexps.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;"><b>--check-initial</b> is used to verify
  initial <i>PR</i>s, rather than proposed edits of existing <i>PRs</i>.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--submit</b>,&#x00A0;<b>-s</b></dt>
  <dd class="It-tag">Used to submit a new <i>PR</i> to the database. The
      <i>PR</i> is read in and verified for content; if the <i>PR</i> is valid
      as an initial <i>PR</i>, it is then added to the database.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;">A zero exit code is returned if the submission
  was successful. Otherwise, the reason(s) for the <i>PR</i> being rejected are
  printed to stdout, and a non-zero exit code is returned.</div>
<div class="Pp"></div>
The following options require a <i>PR number</i> to be given.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delete-pr</b></dt>
  <dd class="It-tag">Deletes the specified <i>PR</i> from the database. The
      <i>PR</i> must be in a closed state, and not locked.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;">Only the GNATS user (by default <b>gnats</b>)
  is permitted to delete <i>PR</i>s.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--lock</b>=<i>username</i>,&#x00A0;<b>-l</b>&#x00A0;<i>username</i></dt>
  <dd class="It-tag">Locks the <i>PR</i>. <i>username</i> is associated with the
      lock, so the system administrator can determine who actually placed the
      lock on the <i>PR</i>. However, anyone is permitted to remove locks on a
      <i>PR</i>.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;">If the optional <b>--process-id</b> option is
  also given, that <i>process-id</i> is associated with the lock.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unlock</b>,&#x00A0;<b>-u</b></dt>
  <dd class="It-tag">Unlocks the <i>PR</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--append</b>=<i>field</i>,&#x00A0;<b>-a</b>&#x00A0;<i>field</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--replace</b>=<i>field</i>,&#x00A0;<b>-r</b>&#x00A0;<i>field</i></dt>
  <dd class="It-tag"><b>--append</b> and <b>--replace</b> are used to append or
      replace content of a specific field within a <i>PR</i>. The new field
      content is read in from stdin (or from the file specified with the
      <b>--filename</b> option), and either appended or replaced to the
      specified field. The field contents are verified for correctness before
      the <i>PR</i> is rewritten.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;">If the edit is successful, a zero exit status
  is returned. If the edit failed, a non-zero exit status is returned, and the
  reasons for the failure are printed to stdout.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>--reason</b>=<i>reason</i>,&#x00A0;<b>-R</b>&#x00A0;<i>reason</i></dt>
  <dd class="It-tag">Certain PR fields are configured in the database
      configuration to require a short text describing the reason for every
      change that is made to them. If you edit a PR and change any such fields,
      you must provide a short text, the <i>reason</i> for the change, through
      this option. If the option is used and no change-reason requiring field is
      actually changed, the option has no effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>[PR]</i></dt>
  <dd class="It-tag">If only a <i>PR</i> number is specified with no other
      options, a replacement <i>PR</i> is read in (either from stdin or the file
      specified with <b>--filename</b>). If the <i>PR</i> contents are valid and
      correct, the existing <i>PR</i> is replaced with the new <i>PR</i>
      contents.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 0.50in;">If the edit is successful, a zero exit status
  is returned. If the edit failed, a non-zero exit status is returned, and the
  reasons for the failure are printed to stdout.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--database</b>=<i>database</i>,&#x00A0;<b>-d</b>&#x00A0;<i>database</i></dt>
  <dd class="It-tag">Specifies the database which is to be manipulated. If no
      database is specified, the database named <i>default</i> is assumed. This
      option overrides the database specified in the <b>GNATSDB</b> environment
      variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--filename</b>=<i>filename</i>,&#x00A0;<b>-f</b>&#x00A0;<i>filename</i></dt>
  <dd class="It-tag">For actions that require reading in a <i>PR</i> or field
      content, this specifies the name of a file to read. If <b>--filename</b>
      is not specified, the <i>PR</i> or field content is read in from
    stdin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b>,&#x00A0;<b>-V</b></dt>
  <dd class="It-tag">Displays the version number of the program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b>,&#x00A0;<b>-h</b></dt>
  <dd class="It-tag">Prints a brief usage message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host</b>=<i>host</i>,&#x00A0;<b>-H</b>&#x00A0;<i>host</i></dt>
  <dd class="It-tag">Hostname of the GNATS server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--port</b>=<i>port</i>,&#x00A0;<b>-P</b>&#x00A0;<i>port</i></dt>
  <dd class="It-tag">The port that the GNATS server runs on.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--user</b>=<i>username</i>,&#x00A0;<b>-v</b>&#x00A0;<i>username</i></dt>
  <dd class="It-tag">Username used when logging into the GNATS server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--passwd</b>=<i>password</i>,&#x00A0;<b>-w</b>&#x00A0;<i>password</i></dt>
  <dd class="It-tag">Password used when logging into the GNATS server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b>,&#x00A0;<b>-D</b></dt>
  <dd class="It-tag">Used to debug network connections.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The <b>GNATSDB</b> environment variable is used to determine which database to
  use. For a local database, it contains the name of the database to access.
<div class="Pp"></div>
For network access via <i>gnatsd</i>, it contains a colon-separated list of
  strings that describe the remote database, in the form
<dl class="Bl-tag">
  <dt class="It-tag"><i>server</i>:<i>port</i>:<i>databasename</i>:<i>username</i>:<i>password</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
Any of the fields may be omitted, but at least one colon must appear; otherwise,
  the value is assumed to be the name of a local database.
<div class="Pp"></div>
If <b>GNATSDB</b> is not set and the --database option is not supplied, it is
  assumed that the database is local and that its name is <i>default</i>.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>Keeping Track: Managing Messages With GNATS</i> (also installed as the GNU
  Info file <b>gnats.info</b>)
<div class="Pp"></div>
<b>databases</b>(5), <b>dbconfig</b>(5), <b>delete-pr</b>(8), <b>edit-pr</b>(1)
  <b>file-pr</b>(8), <b>gen-index</b>(8), <b>gnats</b>(7), <b>gnatsd</b>(8),
  <b>mkcat</b>(8), <b>mkdb</b>(8), <b>pr-edit</b>(8), <b>query-pr</b>(1),
  <b>queue-pr</b>(8), <b>send-pr</b>(1).
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright (c) 2000, 2003, Free Software Foundation, Inc.
<div class="Pp"></div>
Permission is granted to make and distribute verbatim copies of this manual
  provided the copyright notice and this permission notice are preserved on all
  copies.
<div class="Pp"></div>
Permission is granted to copy and distribute modified versions of this manual
  under the conditions for verbatim copying, provided that the entire resulting
  derived work is distributed under the terms of a permission notice identical
  to this one.
<div class="Pp"></div>
Permission is granted to copy and distribute translations of this manual into
  another language, under the above conditions for modified versions, except
  that this permission notice may be included in translations approved by the
  Free Software Foundation instead of in the original English.</div>
<table class="foot">
  <tr>
    <td class="foot-date">August 2003</td>
    <td class="foot-os">GNATS </td>
  </tr>
</table>
</body>
</html>
