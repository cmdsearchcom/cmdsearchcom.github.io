<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>o2image(8) OCFS2 Manual Pages o2image(8)</p>

<p style="margin-top: 1em">NAME <br>
o2image - Copy or restore OCFS2 file system meta-data</p>

<p style="margin-top: 1em">SYNOPSIS <br>
o2image [-r] [-I] device image-file</p>

<p style="margin-top: 1em">DESCRIPTION <br>
o2image copies the OCFS2 file system meta-data from the
device to the specified image-file. This image file contains
the file system skeleton that includes the inodes, directory
<br>
names and file names. It does not include any file data.</p>

<p style="margin-top: 1em">This image file can be useful to
debug certain problems that are not reproducible otherwise.
Like on-disk corruptions. It could also be used to analyse
the file system layout in <br>
an aging file system with an eye towards improving
performance.</p>

<p style="margin-top: 1em">As the image-file contains a
copy of all the meta-data blocks, it can be a large file. By
default, it is created in a packed format, in which all
meta-data blocks are written <br>
back-to-back. With the -r option, the user could choose to
have the file in the raw (or sparse) format, in which the
blocks are written to the same offset as they are on the
<br>
device.</p>

<p style="margin-top: 1em">debugfs.ocfs2 understands both
formats.</p>

<p style="margin-top: 1em">o2image also has the option, -I,
to restore the meta-data from the image file onto the
device. This option will rarely be useful to end-users and
has been written specifically <br>
for developers and testers.</p>

<p style="margin-top: 1em">OPTIONS <br>
-r Copies the meta-data to the image-file in the raw format.
Use this option only if the destination file system supports
sparse files. If unsure, do not use this option and <br>
let the tool create the image-file in the packed format.</p>

<p style="margin-top: 1em">-I Restores meta-data from the
image-file onto the device. CAUTION: This option could
corrupt the file system.</p>

<p style="margin-top: 1em">-i Interactive mode - before
writing out the image file print it&rsquo;s size and ask
whether to proceed. This setting only applies when
&rsquo;-I&rsquo; is not specified. It can be useful <br>
when the file system holding the image is low on disk space
and the user might need to free up space once the target
image size is calculated.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Copies metadata blocks from /dev/sda1 device to sda1.out
file.</p>

<p style="margin-top: 1em"># o2image /dev/sda1 sda1.out</p>

<p style="margin-top: 1em">Copies meta-data blocks from
sda1.out onto the /dev/sda1 device. As this command
over-writes an existing volume, please use with CAUTION.</p>

<p style="margin-top: 1em"># o2image -I /dev/sda1
sda1.out</p>

<p style="margin-top: 1em">SEE ALSO <br>
debugfs.ocfs2(8) fsck.ocfs2(8) fsck.ocfs2.checks(8)
mkfs.ocfs2(8) mount.ocfs2(8) mounted.ocfs2(8) o2cluster(8)
o2info(1) tunefs.ocfs2(8)</p>

<p style="margin-top: 1em">AUTHORS <br>
Oracle Corporation</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2007, 2012 Oracle. All rights
reserved.</p>

<p style="margin-top: 1em">Version 1.8.4 January 2012
o2image(8)</p>
<hr>
</body>
</html>
