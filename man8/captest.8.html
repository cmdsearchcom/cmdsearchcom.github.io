<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:16 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CAPTEST:(8) System Administration Utilities
CAPTEST:(8)</p>

<p style="margin-top: 1em">NAME <br>
captest - a program to demonstrate capabilities</p>

<p style="margin-top: 1em">SYNOPSIS <br>
captest [ --drop-all | --drop-caps | --id ] [ --lock ] [
--text ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
captest is a program that demonstrates and prints out the
current process capabilities. Each option prints the same
report. It will output current capabilities. then it will
try <br>
to access /etc/shadow directly to show if that can be done.
Then it creates a child process that attempts to read
/etc/shadow and outputs the results of that. Then it outputs
the <br>
capabilities that a child process would have.</p>

<p style="margin-top: 1em">You can also apply file system
capabilities to this program to study how they work. For
example, filecap /usr/bin/captest chown. Then run captest as
a normal user. Another inter&acirc; <br>
esting test is to make captest suid root so that you can see
what the interaction is between root&rsquo;s credentials and
capabilities. For example, chmod 4755 /usr/bin/captest. When
<br>
run as a normal user, the program will see if privilege
escalation is possible. But do not leave this app setuid
root after you are don testing so that an attacker cannot
take <br>
advantage of it.</p>

<p style="margin-top: 1em">OPTIONS <br>
--drop-all <br>
This drops all capabilities and clears the bounding set.</p>

<p style="margin-top: 1em">--drop-caps <br>
This drops just traditional capabilities.</p>

<p style="margin-top: 1em">--id This changes to uid and gid
99, drops supplemental groups, and clears the bounding
set.</p>

<p style="margin-top: 1em">--text This option outputs the
effective capabilities in text rather than numerically.</p>

<p style="margin-top: 1em">--lock This prevents the ability
for child processes to regain privileges if the uid is
0.</p>

<p style="margin-top: 1em">SEE ALSO <br>
filecap(8), capabilities(7)</p>

<p style="margin-top: 1em">AUTHOR <br>
Steve Grubb</p>

<p style="margin-top: 1em">Red Hat June 2009
CAPTEST:(8)</p>
<hr>
</body>
</html>
