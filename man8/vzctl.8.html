<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>vzctl(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">vzctl(8)</td>
    <td class="head-vol">Containers</td>
    <td class="head-rtitle">vzctl(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
vzctl - perform various operations on an OpenVZ container
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>create</b> <i>CTID</i> <i>--parameter value</i> [...]
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>start</b> <i>CTID</i>
  [<span class="Op"><b>--wait</b>]</span>
  [<span class="Op"><b>--force</b>]</span>
  [<span class="Op"><b>--skip-fsck</b>]</span>
  [<span class="Op"><b>--skip-remount</b>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>stop</b> <i>CTID</i>
  [<span class="Op"><b>--fast</b>]</span>
  [<span class="Op"><b>--skip-umount</b>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>restart</b> <i>CTID</i>
  [<span class="Op"><b>--wait</b>]</span>
  [<span class="Op"><b>--force</b>]</span>
  [<span class="Op"><b>--fast</b>]</span>
  [<span class="Op"><b>--skip-fsck</b>]</span>
  [<span class="Op"><b>--skip-remount</b>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>suspend</b> | <b>resume</b> <i>CTID</i>
  [<span class="Op"><b>--dumpfile</b> <i>name</i>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>snapshot</b> <i>CTID</i> [<span class="Op"><b>--id</b>
  <i>uuid</i>]</span> [<span class="Op"><b>--name</b> <i>name</i>]</span>
  [<span class="Op"><b>--description</b> <i>desc</i>]</span>
  [<span class="Op"><b>--skip-suspend</b>]</span>
  [<span class="Op"><b>--skip-config</b>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>snapshot-switch</b> <i>CTID</i>
  [<span class="Op"><b>--skip-resume | <b>--must-resume</b></b><b>]</b></span>
  [<span class="Op"><b>--skip-config</b>]</span> <b>--id</b> <i>uuid</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>snapshot-delete</b> <i>CTID</i> <b>--id</b> <i>uuid</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>snapshot-mount</b> <i>CTID</i> <b>--id</b> <i>uuid</i>
  <b>--target</b> <i>dir</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>snapshot-umount</b> <i>CTID</i> <b>--id</b> <i>uuid</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>snapshot-list</b> <i>CTID</i> [<b>-H</b>] [<b>-o</b>
  <i>field</i>[, <i>field</i>...] [<b>--id</b> <i>uuid</i>]
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>set</b> <i>CTID</i> <i>--parameter value</i> [...]
  [<span class="Op"><b>--save</b>]</span>
  [<span class="Op"><b>--force</b>]</span> [<span class="Op"><b>--setmode</b>
  <i><b>restart</b>|<b>ignore</b></i><b>]</b></span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>set</b> <i>CTID</i> <b>--reset_ub</b>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>destroy</b> | <b>delete</b> | <b>mount</b> | <b>umount</b>
  | <b>status</b> | <b>quotaon</b> | <b>quotaoff</b> | <b>quotainit</b>
  <i>CTID</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>console</b> <i>CTID</i> [<i>ttynum</i>]
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>convert</b> <i>CTID</i> [<span class="Op"><b>--layout</b>
  <i><b>ploop</b>[<b>:</b>{<b>expanded</b>|<b>plain</b>|<b>raw</b>}]</i>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>compact</b> <i>CTID</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>exec</b> | <b>exec2</b> <i>CTID</i> <i>command</i>
  [<i>arg</i> ...]
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>enter</b> <i>CTID</i> [<span class="Op"><b>--exec</b>
  <i>command&#x00A0;[ <i>arg</i>&#x00A0;...]</i>]</span>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  [ <i>flags</i>] <b>runscript</b> <i>CTID</i> <i>script</i>
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>vzctl</b>
  <b>--help</b> | <b>--version</b>
<br/>
</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Utility <b>vzctl</b> runs on the host system (otherwise known as Hardware Node,
  or HN) and performs direct manipulations with containers (CTs).
<div class="Pp"></div>
Containers can be referred to by either numeric <i>CTID</i> or by name (see
  <b>--name</b> option). Note that CT ID &lt;= 100 are reserved for OpenVZ
  internal purposes. A numeric ID should not be more than <b>2147483644</b>.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="Flags"><a class="selflink" href="#Flags">Flags</a></h2>
These flags come before a command, and can be used with any command. They affect
  logging to console (terminal) only, and do not affect logging to a log file.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">Disables output. Note that scripts run by vzctl are still
      able to produce some output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Increments logging level up from the default. Can be used
      multiple times. Default value is set to the value of <b>VERBOSE</b>
      parameter in the global configuration file <b>vz.conf</b>(5), or to
      <b>0</b> if not set by <b>VERBOSE</b> parameter.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Setting_container_parameters"><a class="selflink" href="#Setting_container_parameters">Setting
  container parameters</a></h2>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>set</b>
  <i>CTID</i> [<span class="Op"><b>--onboot</b>
  <i><b>yes</b>|<b>no</b></i><b>]</b></span>
  [<span class="Op"><b>--bootorder</b> <i>number</i>]</span>
  [<span class="Op"><b>--root</b> <i>path</i>]</span>
  [<span class="Op"><b>--private</b> <i>path</i>]</span>
  [<span class="Op"><b>--mount_opts</b> <i>options</i>]</span>
  [<span class="Op"><b>--userpasswd</b> <i>user:<i>pass</i></i><i>]</i></span>
  [<span class="Op"><b>--disabled</b> <i><b>yes</b>|<b>no</b></i><b>]</b></span>
  [<span class="Op"><b>--name</b> <i>name</i>]</span>
  [<span class="Op"><b>--description</b> <i>string</i>]</span>
  [<span class="Op"><b>--ostemplate</b> <i>string</i>]</span>
  [<span class="Op"><b>--stop-timeout</b> <i>seconds</i>]</span>
  [<span class="Op"><b>--ipadd</b> <i>addr</i>]</span>
  [<span class="Op"><b>--ipdel</b> <i>addr|<b>all</b></i>]</span>
  [<span class="Op"><b>--hostname</b> <i>name</i>]</span>
  [<span class="Op"><b>--nameserver</b> <i>addr</i>]</span>
  [<span class="Op"><b>--searchdomain</b> <i>name</i>]</span>
  [<span class="Op"><b>--netif_add</b> <i>dev[,<i>params</i>...]</i>]</span>
  [<span class="Op"><b>--netif_del</b> <i>dev|<b>all</b></i>]</span> [
  <b>--ifname </b> <i>dev</i> [<span class="Op"><b>--mac</b>
  <i>hwaddr</i>]</span> [<span class="Op"><b>--host_ifname</b>
  <i>dev</i>]</span> [<span class="Op"><b>--host_mac</b> <i>hwaddr</i>]</span>
  [<span class="Op"><b>--bridge</b> <i>name</i>]</span>
  [<span class="Op"><b>--mac_filter</b> <i><b>on</b>|<b>off</b>]</i>]</span>
  [<span class="Op"><b>--numproc</b> <i>items</i>]</span>
  [<span class="Op"><b>--numtcpsock</b> <i>items</i>]</span>
  [<span class="Op"><b>--numothersock</b> <i>items</i>]</span>
  [<span class="Op"><b>--vmguarpages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--kmemsize</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--tcpsndbuf</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--tcprcvbuf</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--othersockbuf</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--dgramrcvbuf</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--oomguarpages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--lockedpages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--privvmpages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--shmpages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--numfile</b> <i>items</i>]</span>
  [<span class="Op"><b>--numflock</b> <i>items</i>]</span>
  [<span class="Op"><b>--numpty</b> <i>items</i>]</span>
  [<span class="Op"><b>--numsiginfo</b> <i>items</i>]</span>
  [<span class="Op"><b>--dcachesize</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--numiptent</b> <i>num</i>]</span>
  [<span class="Op"><b>--physpages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--swappages</b> <i>pages</i>]</span>
  [<span class="Op"><b>--ram</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--swap</b> <i>bytes</i>]</span>
  [<span class="Op"><b>--vm_overcommit</b> <i>float</i>]</span>
  [<span class="Op"><b>--cpuunits</b> <i>num</i>]</span>
  [<span class="Op"><b>--cpulimit</b> <i>num</i>]</span>
  [<span class="Op"><b>--cpus</b> <i>num</i>]</span>
  [<span class="Op"><b>--cpumask</b>
  <i>cpus|<b>auto</b>|<b>all</b></i><b>]</b></span>
  [<span class="Op"><b>--nodemask</b> <i>nodes|<b>all</b></i><b>]</b></span>
  [<span class="Op"><b>--meminfo</b>
  <i><b>none</b>|<i>mode</i>:<i>value</i></i><i>]</i></span>
  [<span class="Op"><b>--iptables</b> <i>name[<b>,</b>...]</i>]</span>
  [<span class="Op"><b>--netfilter</b>
  <i><b>disabled</b>|<b>stateless</b>|<b>stateful</b>| <b>full</b></i>]</span>
  [<span class="Op"><b>--netdev_add</b> <i>ifname</i>]</span>
  [<span class="Op"><b>--netdev_del</b> <i>ifname</i>]</span>
  [<span class="Op"><b>--diskquota</b>
  <i><b>yes</b>|<b>no</b></i><b>]</b></span>
  [<span class="Op"><b>--diskspace</b> <i>num</i>]</span>
  [<span class="Op"><b>--diskinodes</b> <i>num</i>]</span>
  [<span class="Op"><b>--quotatime</b> <i>seconds</i>]</span>
  [<span class="Op"><b>--quotaugidlimit</b> <i>num</i>]</span>
  [<span class="Op"><b>--capability</b>
  <i>capname:<b>on</b>|<b>off</b>[<b>,</b>...]</i>]</span>
  [<span class="Op"><b>--devnodes</b> <i>param</i>]</span>
  [<span class="Op"><b>--devices</b> <i>param</i>]</span>
  [<span class="Op"><b>--pci_add</b> <i>dev</i>]</span>
  [<span class="Op"><b>--pci_del</b> <i>dev</i>]</span>
  [<span class="Op"><b>--features</b>
  <i>name:<b>on</b>|<b>off</b>[<b>,</b>...]</i>]</span>
  [<span class="Op"><b>--applyconfig</b> <i>name</i>]</span>
  [<span class="Op"><b>--applyconfig_map</b> <i>group</i>]</span>
  [<span class="Op"><b>--ioprio</b> <i>num</i>]</span>
  [<span class="Op"><b>--iolimit</b> <i>mbps</i>]</span>
  [<span class="Op"><b>--iopslimit</b> <i>iops</i>]</span>
  [<span class="Op"><b>--save</b>]</span>
  [<span class="Op"><b>--force</b>]</span>
  [<span class="Op"><b>--reset_ub</b>]</span> [<span class="Op"><b>--setmode</b>
  <i><b>restart</b>|<b>ignore</b></i><b>]</b></span>
<br/>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">This command sets various container parameters. If the
      container is currently running, <b>vzctl</b> applies these parameters to
      the container. The following options can be used with <b>set</b> command.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Flags</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--save</b></dt>
  <dd class="It-tag">If this flag is given, parameters are saved in container
      configuration file <b>ctid.conf</b>(5).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force</b></dt>
  <dd class="It-tag">If this flag is given together with <b>--save</b>,
      parameters are saved even if the current kernel doesn't support OpenVZ.
      Note this flag does not make sense without <b>--save</b>, so <b>--save</b>
      is required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--reset_ub</b></dt>
  <dd class="It-tag">If this flag is given, <b>vzctl</b> applies all User
      Beancounter parameters from the configuration file to a running container.
      This is helpful in case configuration file is modified manually. Please
      note this flag is exclusive, i.e. it can not be combined with any other
      options or flags.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--setmode</b> <b>restart</b> | <b>ignore</b></dt>
  <dd class="It-tag">A few parameters can only be applied by restarting the
      container. By default, <b>vzctl</b> prints a warning if such parameters
      are supplied and a container is running. Use <b>--setmode restart</b>
      together with <b>--save</b> flag to restart a container in such a case, or
      <b>--setmode ignore</b> to suppress the warning.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Miscellaneous</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--onboot</b> <b>yes</b> | <b>no</b></dt>
  <dd class="It-tag">Sets whether the container will be started during system
      boot. The container will be started on boot by <b>vz</b> initscript if
      either this parameter is set to <b>yes</b>, or the container was running
      just before last reboot, and this parameter is not set to <b>no</b>.
      Default value is unset, meaning the container will be started if it was
      running before the last reboot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bootorder</b> <i>number</i></dt>
  <dd class="It-tag">Sets the boot order priority for this CT. The higher the
      <i>number</i> is, the earlier in the boot process this container starts.
      By default this parameter is unset, which is considered to be the lowest
      priority, so containers with unset <b>bootorder</b> will start last.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--root</b> <i>path</i></dt>
  <dd class="It-tag">Sets the path to root directory (<b>VE_ROOT</b>) for this
      container. This is essentially a mount point for container's root
      directory. Argument can contain literal string <b>$VEID</b>, which will be
      substituted with the numeric CT ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--private</b> <i>path</i></dt>
  <dd class="It-tag">Sets the path to private directory (<b>VE_PRIVATE</b>) for
      this container. This is a directory in which all the container's files are
      stored. Argument can contain literal string <b>$VEID</b>, which will be
      substituted with the numeric CT ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mount_opts</b>
    <i>option</i>[<b>,</b><i>option</i>...]</dt>
  <dd class="It-tag">Sets additional mount options for container file system.
      Only applicable for <b>ploop</b> layout, ignored otherwise.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--userpasswd</b> <i>user</i>:<i>password</i></dt>
  <dd class="It-tag">Sets password for the given user in a container, creating
      the user if it does not exists. Note that this option is not saved in
      configuration file at all (so <b>--save</b> flag is useless), it is
      applied directly to the container, by running distribution-specific
      programs inside the container. It is not recommended to combine this
      option with any other options.
    <div style="height: 1.00em;">&#x00A0;</div>
    In case container was not running, it is automatically started then all the
      appropriate changes are applied, then it is stopped.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that container should be created before using this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disabled</b> <b>yes</b> | <b>no</b></dt>
  <dd class="It-tag">Disable container start. To force the start of a disabled
      container, use <b>vzctl start --force</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--name</b> <i>name</i></dt>
  <dd class="It-tag">Add a name for a container. The <i>name</i> can later be
      used in subsequent calls to <b>vzctl</b> in place of <i>CTID</i>. Note
      this option can not be used without <b>--save</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--description</b> <i>string</i></dt>
  <dd class="It-tag">Add a textual description for a container.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ostemplate</b> <i>string</i></dt>
  <dd class="It-tag">Sets a new value of <b>OSTEMPLATE</b> parameter in
      container configuration file <b>ctid.conf</b>(5). Requires <b>--save</b>
      flag. Useful after a change/upgrade of a distribution running inside
      container, as vzctl uses the value of OSTEMPLATE to run
      distribution-specific scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--stop-timeout</b> <i>seconds</i></dt>
  <dd class="It-tag">Sets a time to wait for container to stop on <b>vzctl
      stop</b> before forcibly killing it, in seconds. Note this option can not
      be used without <b>--save</b> flag.
    <div style="height: 1.00em;">&#x00A0;</div>
    Special value of <b>0</b> means to use compiled-in default.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Networking</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ipadd</b> <i>addr</i></dt>
  <dd class="It-tag">Adds an IP address <i>addr</i> to a given container.
      Address can optionally have a netmask specified in the CIDR notation (e.g.
      <b>10.1.2.3/25</b>). Note that this option is incremental, so <i>addr</i>
      are added to already existing ones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ipdel</b> <i>addr</i> | <b>all</b></dt>
  <dd class="It-tag">Removes IP address <i>addr</i> from a container. If you
      want to remove all the addresses, use <b>--ipdel all</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostname</b> <i>name</i></dt>
  <dd class="It-tag">Sets container hostname. <b>vzctl</b> writes it to the
      appropriate file inside a container (distribution-dependent).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nameserver</b> <i>addr</i></dt>
  <dd class="It-tag">Sets DNS server IP address for a container. If you want to
      set several nameservers, you should do it at once, so use
      <b>--nameserver</b> option multiple times in one call to <b>vzctl</b>, as
      all the name server values set in previous calls to <b>vzctl</b> are
      overwritten.
    <div style="height: 1.00em;">&#x00A0;</div>
    A special value of <b>inherit</b> can be used to auto-propagate nameserver
      value(s) from the host system's <b>/etc/resolv.conf</b> file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--searchdomain</b> <i>name</i></dt>
  <dd class="It-tag">Sets DNS search domains for a container. If you want to set
      several search domains, you should do it at once, so use
      <b>--searchdomain</b> option multiple times in one call to <b>vzctl</b>,
      as all the search domain values set in previous calls to <b>vzctl</b> are
      overwritten.
    <div style="height: 1.00em;">&#x00A0;</div>
    A special value of <b>inherit</b> can be used to auto-propagate search
      domain value(s) from the host system's <b>/etc/resolv.conf</b> file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--netif_add</b>
    <i>ifname[</i>,<i>mac</i>,<i>host_ifname</i>,
    <i>host_mac</i>,<i>bridge]</i></dt>
  <dd class="It-tag">Adds a virtual Ethernet device (veth) to a given container.
      Here <i>ifname</i> is the Ethernet device name in the container,
      <i>mac</i> is its MAC address, <i>host_ifname</i> is the Ethernet device
      name on the host, and <i>host_mac</i> is its MAC address. MAC addresses
      should be in the format like XX:XX:XX:XX:XX:XX. <i>bridge</i> is an
      optional parameter which can be used in custom network start scripts to
      automatically add the interface to a bridge. All parameters except
      <i>ifname</i> are optional and are automatically generated if not
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--netif_del</b> <i>dev_name</i> | <b>all</b></dt>
  <dd class="It-tag">Removes virtual Ethernet device from a container. If you
      want to remove all devices, use <b>all</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    veth interface configuration</dd>
</dl>
<div class="Pp"></div>
The following options can be used to reconfigure the already-created virtual
  Ethernet interface. To select the interface to configure, use <b>--ifname</b>
  <i>name</i> option.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mac</b> <i>XX:XX:XX:XX:XX:XX</i></dt>
  <dd class="It-tag">MAC address of interface inside a container.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host_ifname</b> <i>name</i></dt>
  <dd class="It-tag">interface name for virtual interface in the host
    system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host_mac</b> <i>XX:XX:XX:XX:XX:XX</i></dt>
  <dd class="It-tag">MAC address of interface in the host system.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you want an independent communication with the Container through the
      bridge, you should specify a multicast MAC address here
      (FE:FF:FF:FF:FF:FF).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bridge</b> <i>name</i></dt>
  <dd class="It-tag">Bridge name. Custom network start scripts can use this
      value to automatically add the interface to a bridge.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mac_filter</b> <b>on</b> | <b>off</b></dt>
  <dd class="It-tag">Enables/disables MAC address filtering for the Container
      veth device and the possibility of configuring the MAC address of this
      device from inside the Container. If the filtering is turned on:
    <div>&#x00A0;</div>
    <br/>
     &#x2022; the veth device accepts only those packets that have a MAC address
      in their headers corresponding to that of this device (excluding all
      broadcast and multicast packets);
    <div>&#x00A0;</div>
    <br/>
     &#x2022; it is impossible to modify the veth MAC address from inside the
      Container.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this functionality is enabled for all veth devices existing
      inside the Container.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    VSwap limits</dd>
</dl>
<div class="Pp"></div>
The following options sets memory and swap limits for VSwap-enabled kernels
  (kernel version 042stab042 or greater).
<div class="Pp"></div>
Argument is in bytes, unless otherwise specified by an optional suffix.
  Available suffixes are:
<div class="Pp"></div>
&#x2022; <b>T</b>, <b>t</b>	- terabytes;
<div>&#x00A0;</div>
&#x2022; <b>G</b>, <b>g</b>	- gigabytes;
<div>&#x00A0;</div>
&#x2022; <b>M</b>, <b>m</b>	- megabytes;
<div>&#x00A0;</div>
&#x2022; <b>K</b>, <b>k</b>	- kilobytes;
<div>&#x00A0;</div>
&#x2022; <b>P</b>, <b>p</b>	- memory pages (arch-specific, usually 4KB);
<div>&#x00A0;</div>
&#x2022; <b>B</b>, <b>b</b>	- bytes (this is the default).
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ram</b> <i>bytes</i></dt>
  <dd class="It-tag">Sets physical memory (RAM) available to a container.
      Actually, the option is a shortcut for setting <b>--physpages</b> limit
      (the barrier is set to 0).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--swap</b> <i>bytes</i></dt>
  <dd class="It-tag">Set swap space available to a container. Actually, the
      option is a shortcut for setting <b>--swappages</b> limit (the barrier is
      set to 0).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--vm_overcommit</b> <i>float</i></dt>
  <dd class="It-tag">Set VM overcommitment value to <i>float</i>. If set, it is
      used to calculate <b>privmmpages</b> parameter in case it is not set
      explicitly (see below). Default value is <b>0</b>, meaning unlimited
      privvmpages.</dd>
</dl>
<div class="Pp"></div>
<b>vzctl</b> checks if running kernel is VSwap capable, and refuses to use these
  parameters otherwise. This behavior can be overriden by using <b>--force</b>
  flag before parameters.
<div class="Pp"></div>
In VSwap mode, all beancounters other than RAM and swap become optional. Note
  though that if some optional beancounters are not set, they are calculated and
  set by vzctl implicitly, using the following formulae:
<div class="Pp"></div>
<b>&#x2022; lockedpages.barrier = oomguarpages.barrier = ram</b>
<div class="Pp"></div>
<b>&#x2022; lockedpages.limit = oomguarpages.limit = unlimited</b>
<div class="Pp"></div>
<b>&#x2022; vmguarpages.barrier = vmguarpages.limit = ram + swap</b>
<div class="Pp"></div>
<b>&#x2022; privvmpages.barrier = privvmpages.limit = (ram + swap) *
  vm_overcommit</b>
<div class="Pp"></div>
(if <b>vm_overcommit</b> is <b>0</b> or not set, <b>privvmpages</b> is set to
  &quot;unlimited&quot;)
<div class="Pp"></div>
Here is an example of setting container 777 to have 512 megabytes of RAM and 1
  gigabyte of swap:
<pre>
   vzctl set 777 --ram 512M --swap 1G --save
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 0.00ex;">&#x00A0;</div>
<br/>
User Beancounter limits
<div class="Pp"></div>
The following options sets barrier and limit for various user beancounters.
<div class="Pp"></div>
Note that for VSwap-enabled kernels (version 042stab042 or greater) these limits
  are optional, you must only set <b>--ram</b> and <b>--swap</b> (see above).
  For older kernels, these limits are obligatory.
<div class="Pp"></div>
Each option requires one or two arguments. In case of one argument, <b>vzctl</b>
  sets barrier and limit to the same value. In case of two colon-separated
  arguments, the first is a barrier, and the second is a limit. Each argument is
  either a number, a number with a suffix, or a special value <b>unlimited</b>.
<div class="Pp"></div>
Arguments are in items, pages or bytes. Note that page size is
  architecture-specific, it is 4096 bytes on x86 and x86_64 platforms.
<div class="Pp"></div>
You can also specify different suffixes for User Beancounter parameters (except
  for those which names start with <b>num</b>). For example, <b>vzctl set</b>
  <i>CTID</i> <b>--privvmpages 5M:6M</b> should set <b>privvmpages</b>' barrier
  to 5 megabytes and its limit to 6 megabytes.
<div class="Pp"></div>
Available suffixes are:
<div class="Pp"></div>
&#x2022; <b>T</b>, <b>t</b>	- terabytes;
<div>&#x00A0;</div>
&#x2022; <b>G</b>, <b>g</b>	- gigabytes;
<div>&#x00A0;</div>
&#x2022; <b>M</b>, <b>m</b>	- megabytes;
<div>&#x00A0;</div>
&#x2022; <b>K</b>, <b>k</b>	- kilobytes;
<div>&#x00A0;</div>
&#x2022; <b>P</b>, <b>p</b>	- memory pages (arch-specific, usually 4KB);
<div>&#x00A0;</div>
&#x2022; <b>B</b>, <b>b</b>	- bytes.
<div class="Pp"></div>
You can also specify the literal word <b>unlimited</b> in place of a number. In
  that case the corresponding value will be set to <b>LONG_MAX</b>, i. e. the
  maximum possible value.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numproc</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Maximum number of processes and kernel-level threads.
      Setting the barrier and the limit to different values does not make
      practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numtcpsock</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Maximum number of TCP sockets. This parameter limits the
      number of TCP connections and, thus, the number of clients the server
      application can handle in parallel. Setting the barrier and the limit to
      different values does not make practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numothersock</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Maximum number of non-TCP sockets (local sockets, UDP and
      other types of sockets). Setting the barrier and the limit to different
      values does not make practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--vmguarpages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">Memory allocation guarantee. This parameter controls how
      much memory is available to a container. The barrier is the amount of
      memory that container's applications are guaranteed to be able to
      allocate. The meaning of the limit is currently unspecified; it should be
      set to <b>unlimited</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--kmemsize</b> <i>bytes</i>[:<i>bytes</i>]</dt>
  <dd class="It-tag">Maximum amount of kernel memory used. This parameter is
      related to <b>--numproc</b>. Each process consumes certain amount of
      kernel memory - 16 KB at least, 30-50 KB typically. Very large processes
      may consume a bit more. It is important to have a certain safety gap
      between the barrier and the limit of this parameter: equal barrier and
      limit may lead to the situation where the kernel will need to kill
      container's applications to keep the <b>kmemsize</b> usage under the
      limit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tcpsndbuf</b> <i>bytes</i>[:<i>bytes</i>]</dt>
  <dd class="It-tag">Maximum size of TCP send buffers. Barrier should be not
      less than 64 KB, and difference between barrier and limit should be equal
      to or more than value of <b>numtcpsock</b> multiplied by 2.5 KB.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tcprcvbuf</b> <i>bytes</i>[:<i>bytes</i>]</dt>
  <dd class="It-tag">Maximum size of TCP receive buffers. Barrier should be not
      less than 64 KB, and difference between barrier and limit should be equal
      to or more than value of <b>numtcpsock</b> multiplied by 2.5 KB.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--othersockbuf</b> <i>bytes</i>[:<i>bytes</i>]</dt>
  <dd class="It-tag">Maximum size of other (non-TCP) socket send buffers. If
      container's processes needs to send very large datagrams, the barrier
      should be set accordingly. Increased limit is necessary for high
      performance of communications through local (UNIX-domain) sockets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dgramrcvbuf</b> <i>bytes</i>[:<i>bytes</i>]</dt>
  <dd class="It-tag">Maximum size of other (non-TCP) socket receive buffers. If
      container's processes needs to receive very large datagrams, the barrier
      should be set accordingly. The difference between the barrier and the
      limit is not needed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--oomguarpages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">Guarantees against OOM kill. Under this beancounter the
      kernel accounts the total amount of memory and swap space used by the
      container's processes. The barrier of this parameter is the out-of-memory
      guarantee. If the <b>oomguarpages</b> usage is below the barrier,
      processes of this container are guaranteed not to be killed in
      out-of-memory situations. The meaning of limit is currently unspecified;
      it should be set to <b>unlimited</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--lockedpages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">Maximum number of pages acquired by <b>mlock</b>(2).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--privvmpages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">Allows controlling the amount of memory allocated by the
      applications. For shared (mapped as <b>MAP_SHARED</b>) pages, each
      container really using a memory page is charged for the fraction of the
      page (depending on the number of others using it). For &quot;potentially
      private&quot; pages (mapped as <b>MAP_PRIVATE</b>), container is charged
      either for a fraction of the size or for the full size if the allocated
      address space. In the latter case, the physical pages associated with the
      allocated address space may be in memory, in swap or not physically
      allocated yet.
    <div style="height: 1.00em;">&#x00A0;</div>
    The barrier and the limit of this parameter control the upper boundary of
      the total size of allocated memory. Note that this upper boundary does not
      guarantee that container will be able to allocate that much memory. The
      primary mechanism to control memory allocation is the <b>--vmguarpages</b>
      guarantee.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--shmpages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">Maximum IPC SHM segment size. Setting the barrier and the
      limit to different values does not make practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numfile</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Maximum number of open files. In most cases the barrier and
      the limit should be set to the same value. Setting the barrier to <b>0</b>
      effectively disables pre-charging optimization for this beancounter in the
      kernel, which leads to the held value being precise but could slightly
      degrade file open performance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numflock</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Maximum number of file locks. Safety gap should be between
      barrier and limit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numpty</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Number of pseudo-terminals (PTY). Note that in OpenVZ each
      container can have not more than 255 PTYs. Setting the barrier and the
      limit to different values does not make practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numsiginfo</b> <i>items</i>[:<i>items</i>]</dt>
  <dd class="It-tag">Number of siginfo structures. Setting the barrier and the
      limit to different values does not make practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dcachesize</b> <i>bytes</i>[:<i>bytes</i>]</dt>
  <dd class="It-tag">Maximum size of filesystem-related caches, such as
      directory entry and inode caches. Exists as a separate parameter to impose
      a limit causing file operations to sense memory shortage and return an
      errno to applications, protecting from memory shortages during critical
      operations that should not fail. Safety gap should be between barrier and
      limit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numiptent</b> <i>num</i>[:<i>num</i>]</dt>
  <dd class="It-tag">Number of iptables (netfilter) entries. Setting the barrier
      and the limit to different values does not make practical sense.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--physpages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">On VSwap-enabled kernels, this limits the amount of
      physical memory (RAM) available to a container. The barrier should be set
      to <b>0</b>, and the limit to a total size of RAM that can be used used by
      a container.
    <div style="height: 1.00em;">&#x00A0;</div>
    For older kernels, this is an accounting-only parameter, showing the usage
      of RAM by this container. Barrier should be set to <b>0</b>, and limit
      should be set to <b>unlimited</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--swappages</b> <i>pages</i>[:<i>pages</i>]</dt>
  <dd class="It-tag">For VSwap-enabled kernels (042stab042 or greater), this
      parameter limits the amount of swap space available to a container. The
      barrier should be set to <b>0</b>, and the limit to a total size of swap
      that can be used by a container.
    <div style="height: 1.00em;">&#x00A0;</div>
    For older (pre-VSwap) kernels, the limit is used to show a total amount of
      swap space available inside the container. The barrier of this parameter
      is ignored. The default value is <b>unlimited</b>, meaning total swap will
      be reported as 0.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    CPU fair scheduler parameters</dd>
</dl>
<div class="Pp"></div>
These parameters control CPU usage by container.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpuunits</b> <i>num</i></dt>
  <dd class="It-tag">CPU weight for a container. Argument is positive non-zero
      number, passed to and used in the kernel fair scheduler. The larger the
      number is, the more CPU time this container gets. Maximum value is 500000,
      minimal is 8. Number is relative to weights of all the other running
      containers. If <b>cpuunits</b> are not specified, default value of 1000 is
      used.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can set CPU weight for CT0 (host system itself) as well (use <b>vzctl
      set 0 --cpuunits </b> <i>num</i>). Usually, OpenVZ initscript (
      <b>/etc/init.d/vz</b>) takes care of setting this.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpulimit</b> <i>num</i>[<b>%</b>]</dt>
  <dd class="It-tag">Limit of CPU usage for the container, in per cent. Note if
      the computer has 2 CPUs, it has total of 200% CPU time. Default CPU limit
      is <b>0</b> (no CPU limit).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpus</b> <i>num</i></dt>
  <dd class="It-tag">sets number of CPUs available in the container.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpumask</b> <i>cpus</i> | <b>auto</b> |
    <b>all</b></dt>
  <dd class="It-tag">Sets list of allowed CPUs for the container. Input format
      is a comma-separated list of decimal numbers and/or ranges. Consecutively
      set bits are shown as two hyphen-separated decimal numbers, the smallest
      and largest bit numbers set in the range. For example, if you want the
      container to execute on CPUs 0, 1, 2, 7, you should pass <b>0-2,7</b>.
      Default value is <b>all</b> (the container can execute on any CPU). If
      used with the <b>--nodemask</b> option, value of <b>auto</b> assigns all
      CPUs from the specified NUMA node to a container.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nodemask</b> <i>nodes</i> | <b>all</b></dt>
  <dd class="It-tag">Sets list of allowed NUMA nodes for the container. Input
      format is the same as for <b>--cpumask</b>. Note that <b>--nodemask</b>
      must be used with the <b>--cpumask</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Memory output parameters</dd>
</dl>
<div class="Pp"></div>
For VSwap-enabled kernels (042stab042 or greater), this parameter is ignored.
  For older kernels, it controls the output of /proc/meminfo inside a container.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--meminfo</b> <b>none</b></dt>
  <dd class="It-tag">No /proc/meminfo virtualization (the same as on host
      system).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--meminfo</b> <i>mode</i>:<i>value</i></dt>
  <dd class="It-tag">Configure total memory output in a container. Reported free
      memory is evaluated accordingly to the mode being set. Reported swap is
      evaluated according to the settings of <b>--swappages</b> parameter.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use the following modes for <i>mode</i>:
    <div>&#x00A0;</div>
    <br/>
     &#x2022; <b>pages</b>:<i>value</i> - sets total memory in pages;
    <div>&#x00A0;</div>
    <br/>
     &#x2022; <b>privvmpages</b>:<i>value</i> - sets total memory as
      <b>privvmpages</b> * <i>value</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default is <b>privvmpages:1</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Netfilter (iptables) control parameters</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--netfilter&#x00A0;disabled</b>|<b>stateless</b>|<b>stateful</b>|<b>full</b></dt>
  <dd class="It-tag">Restrict access to netfilter/iptables modules for a
      container. This option replaces obsoleted <b>--iptables</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that changing this parameter requires container restart, so consider
      using <b>--setmode</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    The following arguments can be used:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022; disabled</b></dt>
  <dd class="It-tag">no modules are allowed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022; stateless</b></dt>
  <dd class="It-tag">all modules except NAT and conntracks are allowed (i.e.
      filter and mangle); this is the default</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022; stateful</b></dt>
  <dd class="It-tag">all modules except NAT are allowed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022; full</b></dt>
  <dd class="It-tag">all modules are allowed</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iptables</b> <i>name</i>[<b>,</b>...]</dt>
  <dd class="It-tag"><b>Note</b> this option is obsoleted, <b>--netfilter</b>
      should be used instead.
    <div style="height: 1.00em;">&#x00A0;</div>
    Allow to use the functionality of <i>name</i> iptables module inside the
      container. Multiple comma-separated <i>name</i>s can be specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default list of enabled iptables modules is defined by the
      <b>IPTABLES</b> variable in <b>vz.conf</b>(5).
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use the following values for <i>name</i>: <b>iptable_filter</b>,
      <b>iptable_mangle</b>, <b>ipt_limit</b>, <b>ipt_multiport</b>,
      <b>ipt_tos</b>, <b>ipt_TOS</b>, <b>ipt_REJECT</b>, <b>ipt_TCPMSS</b>,
      <b>ipt_tcpmss</b>, <b>ipt_ttl</b>, <b>ipt_LOG</b>, <b>ipt_length</b>,
      <b>ip_conntrack</b>, <b>ip_conntrack_ftp</b>, <b>ip_conntrack_irc</b>,
      <b>ipt_conntrack</b>, <b>ipt_state</b>, <b>ipt_helper</b>,
      <b>iptable_nat</b>, <b>ip_nat_ftp</b>, <b>ip_nat_irc</b>,
      <b>ipt_REDIRECT</b>, <b>xt_mac</b>, <b>ipt_recent</b>, <b>ipt_owner</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Network devices control parameters</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--netdev_add</b> <i>name</i></dt>
  <dd class="It-tag">move network device from the host system to a specified
      container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--netdev_del</b> <i>name</i></dt>
  <dd class="It-tag">delete network device from a specified container
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Disk quota parameters</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--diskquota</b> <b>yes</b> | <b>no</b></dt>
  <dd class="It-tag">allows to enable or disable disk quota for a container. By
      default, a global value ( <b>DISK_QUOTA</b>) from <b>vz.conf</b>(5) is
      used.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this parameter is ignored for <b>ploop</b> layout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--diskspace</b> <i>num</i>[:<i>num</i>]</dt>
  <dd class="It-tag">For <b>simfs</b> layout, sets soft and hard disk quota
      limits. First parameter is soft limit, second is hard limit.
    <div style="height: 1.00em;">&#x00A0;</div>
    For <b>ploop</b> layout, initiates the procedure of resizing the ploop image
      file to the new size. Since there is no soft/hard limit concept in ploop,
      second <i>num</i>, if specified, is ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, ploop resize is done online, i.e. on a mounted ploop. This is a
      preferred way of doing resize. Although, in a rare case a container was
      using lots of disk space and should now be resized to a much smaller size,
      an offline resize might be more appropriate. In this case, make sure the
      container is stopped and unmounted and use additional
      <b>--offline-resize</b> option
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that ploop resize is NOT performed on container start, so for
      consistency <b>--diskspace</b> must be used together with <b>--save</b>
      flag.
    <div style="height: 1.00em;">&#x00A0;</div>
    Suffixes <b>G</b>, <b>M</b>, <b>K</b> can also be specified (see <b>Resource
      limits</b> section for more info on suffixes). If suffix is not specified,
      value is in kilobytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--diskinodes</b> <i>num</i>[:<i>num</i>]</dt>
  <dd class="It-tag">sets soft and hard disk quota limits, in i-nodes. First
      parameter is soft limit, second is hard limit.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this parameter is ignored for <b>ploop</b> layout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quotatime</b> <i>seconds</i></dt>
  <dd class="It-tag">sets quota grace period. Container is permitted to exceed
      its soft limits for the grace period, but once it has expired, the soft
      limit is enforced as a hard limit.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this parameter is ignored for <b>ploop</b> layout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quotaugidlimit</b> <i>num</i></dt>
  <dd class="It-tag">Enables or disables in-container per-user and per-group
      disk quotas. If the value is set to <b>0</b> or not set, disk quotas
      inside the container is disabled and not accounted.
    <div style="height: 1.00em;">&#x00A0;</div>
    For <b>simfs</b> layout containers, non-zero value sets maximum number of
      user/group IDs for which disk quota is accounted.
    <div style="height: 1.00em;">&#x00A0;</div>
    For <b>ploop</b> layout containers, any non-zero value enables disk quota
      inside the container; the number of user/group IDs used by disk quota is
      not limited by OpenVZ.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that enabling or disabling in-container disk quotas requires container
      restart, so consider using <b>--setmode</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Capability option</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--capability</b>
    <i>capname</i>:<b>on</b>|<b>off</b>[<b>,</b>...]</dt>
  <dd class="It-tag">Sets a capability for a container. Multiple comma-separated
      capabilities can be specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that setting a capability when the container is running does not take
      immediate effect; restart the container in order for the changes to take
      effect (consider using <b>--setmode</b> option).
    <div style="height: 1.00em;">&#x00A0;</div>
    A container has the default set of capabilities, thus any operation on
      capabilities is &quot;logical AND&quot; with the default capability mask.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use the following values for <i>capname</i>: <b>chown</b>,
      <b>dac_override</b>, <b>dac_read_search</b>, <b>fowner</b>, <b>fsetid</b>,
      <b>kill</b>, <b>setgid</b>, <b>setuid</b>, <b>setpcap</b>,
      <b>linux_immutable</b>, <b>net_bind_service</b>, <b>net_broadcast</b>,
      <b>net_admin</b>, <b>net_raw</b>, <b>ipc_lock</b>, <b>ipc_owner</b>,
      <b>sys_module</b>, <b>sys_rawio</b>, <b>sys_chroot</b>, <b>sys_ptrace</b>,
      <b>sys_pacct</b>, <b>sys_admin</b>, <b>sys_boot</b>, <b>sys_nice</b>,
      <b>sys_resource</b>, <b>sys_time</b>, <b>sys_tty_config</b>, <b>mknod</b>,
      <b>lease</b>, <b>setveid</b>, <b>ve_admin</b>. For detailed description,
      see <b>capabilities</b>(7).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>WARNING</b>: setting some of those capabilities may have far reaching
      security implications, so do not do it unless you know what you are doing.
      Also note that setting <b>setpcap:on</b> for a container will most
      probably lead to inability to start it.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Device access management</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--devnodes</b>
    <i>device</i>:[<b>r</b>][<b>w</b>][<b>q</b>]| <b>none</b></dt>
  <dd class="It-tag">Give the container an access (<b>r</b> - read, <b>w</b> -
      write, <b>q</b> - disk quota management, <b>none</b> - no access) to a
      device designated by the special file /dev/ <i>device</i>. Device file is
      created in a container by <b>vzctl</b>. Example:
    <pre>
   vzctl set 777 --devnodes sdb:rwq
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--devices</b>
    <b>b</b>|<b>c</b>:<i>major</i>:<i>minor</i>|
    <b>all</b>:[<b>r</b>][<b>w</b>][ <b>q</b>]|<b>none</b></dt>
  <dd class="It-tag">Give the container an access to a <b>b</b>lock or
      <b>c</b>haracter device designated by its <i>major</i> and <i>minor</i>
      numbers. Device file have to be created manually.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    PCI device management</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pci_add</b>
    [<i>domain</i>:]<i>bus</i>:<i>slot</i>.<i>func</i></dt>
  <dd class="It-tag">Give the container an access to a specified PCI device. All
      numbers are hexadecimal (as printed by <b>lspci</b>(8) in the first
      column).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pci_del</b>
    [<i>domain</i>:]<i>bus</i>:<i>slot</i>.<i>func</i></dt>
  <dd class="It-tag">Delete a PCI device from the container.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that <b>vps-pci</b> configuration script is executed by <b>vzctl</b>
      then configuring PCI devices. The script is usually located at
      <b>/usr/libexec/vzctl/scripts/</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Features management</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features</b>
    <i>name</i>:<b>on</b>|<b>off</b>[<b>,</b>...]</dt>
  <dd class="It-tag">Enable or disable a specific container feature. Known
      features are: <b>sysfs</b>, <b>nfs</b>, <b>sit</b>, <b>ipip</b>,
      <b>ppp</b>, <b>ipgre</b>, <b>bridge</b>, <b>nfsd</b>. A few features can
      be specified at once, comma-separated.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    Apply config</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--applyconfig</b> <i>name</i></dt>
  <dd class="It-tag">Read container parameters from the container sample
      configuration file <b></b>/etc/vz/conf/ve-<i>name</i><b></b>.conf-sample,
      and apply them, if <b>--save</b> option specified save to the container
      config file. The following parameters are not changed: <b>HOSTNAME</b>,
      <b>IP_ADDRESS</b>, <b>OSTEMPLATE</b>, <b>VE_ROOT</b>, and
      <b>VE_PRIVATE</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--applyconfig_map</b> <i>group</i></dt>
  <dd class="It-tag">Apply container config parameters selected by <i>group</i>.
      Now the only possible value for <i>group</i> is <b>name</b>: to restore
      container name based on <b>NAME</b> variable in container configuration
      file.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 0.00ex;">&#x00A0;</div>
    <br/>
    I/O scheduling</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ioprio</b> <i>priority</i></dt>
  <dd class="It-tag">Assigns disk I/O priority to container. <i>Priority</i>
      range is <b>0-7</b>. The greater <i>priority</i> is, the more time for I/O
      activity container has. By default each container has <i>priority</i> of
      <b>4</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iolimit</b>
    <i>limit</i>[<b>B</b>|<b>K</b>|<b>M</b>|<b>G</b>]</dt>
  <dd class="It-tag">Assigns disk I/O bandwidth limit for a container. Value is
      either a number with an optional suffix, or a literal string
      <b>unlimited</b>. Value of <b>0</b> means &quot;unlimited&quot;. By
      default a container has no I/O limit. Maximum allowed limit is 2 gigabytes
      per second; values exceeding the limit are truncated.
    <div style="height: 1.00em;">&#x00A0;</div>
    If no suffix is provided, the <i>limit</i> is assumed to be in megabytes per
      second. Available suffixes are:
    <div>&#x00A0;</div>
    &#x2022; <b>b</b>, <b>B</b> -- bytes per second;
    <div>&#x00A0;</div>
    &#x2022; <b>k</b>, <b>K</b> -- kilobytes per second;
    <div>&#x00A0;</div>
    &#x2022; <b>m</b>, <b>M</b> -- megabytes per second (default);
    <div>&#x00A0;</div>
    &#x2022; <b>g</b>, <b>G</b> -- gigabytes per second;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iopslimit</b> <i>iops</i></dt>
  <dd class="It-tag">Assigns IOPS limit for a container, in number of
      input/output operations per second. Value is a number or a literal string
      <b>unlimited</b>. Value of <b>0</b> means &quot;unlimited&quot;. By
      default a container has no IOPS limit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Suspending_and_resuming"><a class="selflink" href="#Suspending_and_resuming">Suspending
  and resuming</a></h2>
Checkpointing is a feature of OpenVZ kernel which allows to save a complete
  in-kernel state of a running container, and to restore it later.
<dl class="Bl-tag">
  <dt class="It-tag"><b>suspend</b>|<b>chkpnt</b> <i>CTID</i> [<b>--dumpfile</b>
    <i>name</i>]</dt>
  <dd class="It-tag">This command suspends a container to a dump file If an
      option <b>--dumpfile</b> is not set, default dump file name
      <b>/var/lib/vz/dump/Dump.</b> <i>CTID</i> is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>resume</b>|<b>restore</b> <i>CTID</i> [<b>--dumpfile</b>
    <i>name</i>]</dt>
  <dd class="It-tag">This command restores a container from the dump file
      created by the <b>suspend</b> command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Snapshotting"><a class="selflink" href="#Snapshotting">Snapshotting</a></h2>
Snapshotting is a feature based on checkpointing and ploop shapshots. It allows
  to save a complete state of container file system. Plus, if the container is
  running, it's in-memory state (as in checkpointing). Note that snapshot
  functionality is only working for containers on ploop device.
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot</b> <i>CTID</i> [<b>--id </b><i>uuid</i>]
    [<b>--name </b> <i>name</i>] [<b>--description </b><i>desc</i>]
    [<b>--skip-suspend</b>] [ <b>--skip-config</b>]</dt>
  <dd class="It-tag">Creates a container snapshot, i.e. saves the current
      container state, including its file system state, running processes state,
      and configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
    If a container is running, and <b>--skip-suspend</b> option is not
      specified, a container is checkpointed and then restored, and CT memory
      dump becomes the part of snapshot.
    <div style="height: 1.00em;">&#x00A0;</div>
    Unless <b>--skip-config</b> option is given, container configuration file is
      saved to the snapshot.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>uuid</i> is not specified, it is auto-generated. Options <b>--name</b>
      and <b>--description</b> can be used to specify the snapshot name and
      description, respectively. Name is displayed by <b>snapshot-list</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-switch</b> <i>CTID</i> [<b>--skip-resume</b> |
    <b>--must-resume</b>] [<b>--skip-config</b>] <b>--id</b> <i>uuid</i></dt>
  <dd class="It-tag">Switches the container to a snapshot identified by
      <i>uuid</i>, restoring its file system state, configuration (if available)
      and its running state (if available).
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note that the current state of a container (including</b> <b>its file
      system state and its configuration file) is lost!</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Option <b>--skip-resume</b> is used to ignore a CT memory dump file in a
      snapshot, as a result the container will end up being in a stopped state
      (same as if a snapshot has been taken with <b>--skip-suspend</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    If option <b>--must-resume</b> is set, absense of a memory dump is treated
      as an error, and the inability to restore from the memory dump is treated
      as an error rather than warning.
    <div style="height: 1.00em;">&#x00A0;</div>
    Option option <b>--skip-config</b> is used to ignore the CT configuration
      file in a snapshot, i.e. the current configuration file will be left as
      is.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-delete</b> <i>CTID</i> <b>--id</b>
    <i>uuid</i></dt>
  <dd class="It-tag">Removes a specified snapshot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-mount</b> <i>CTID</i> <b>--id</b> <i>uuid</i>
    <b>--target</b> <i>directory</i></dt>
  <dd class="It-tag">Mounts a snapshot specified by <i>uuid</i> to a
      <i>directory</i>. Note this mount is read-only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-umount</b> <i>CTID</i> <b>--id</b>
    <i>uuid</i></dt>
  <dd class="It-tag">Unmounts a specified snapshot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshot-list</b> <i>CTID</i> [<b>-H</b>] [<b>-o</b>
    <i>field</i>[, <i>field</i>...] [<b>--id</b> <i>uuid</i>]</dt>
  <dd class="It-tag">List container's snapshots.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can suppress displaying header using <b>-H</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use the <b>-o</b> option to display only the specified
      <i>field</i>(s). List of available fields can be obtained using <b>-L</b>
      option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Performing_container_actions"><a class="selflink" href="#Performing_container_actions">Performing
  container actions</a></h2>
<div class="Pp" style="margin-left: 4.00ex; text-indent: -4.00ex;"><b>create</b>
  <i>CTID</i> [<span class="Op"><b>--ostemplate</b> <i>name</i>]</span>
  [<span class="Op"><b>--config</b> <i>name</i>]</span>
  [<span class="Op"><b>--layout</b>
  <i><b>simfs</b>|<b>ploop</b>[<b>:</b>{<b>expanded</b>|
  <b>plain</b>|<b>raw</b>}]</i>]</span> [<span class="Op"><b>--diskspace</b>
  <i>kbytes</i>]</span> [<span class="Op"><b>--diskinodes</b> <i>num</i>]</span>
  [<span class="Op"><b>--private</b> <i>path</i>]</span>
  [<span class="Op"><b>--root</b> <i>path</i>]</span>
  [<span class="Op"><b>--ipadd</b> <i>addr</i>]</span>
  [<span class="Op"><b>--hostname</b> <i>name</i>]</span>
  [<span class="Op"><b>--name</b> <i>name</i>]</span>
  [<span class="Op"><b>--local_uid</b> <i>uid</i>]</span>
  [<span class="Op"><b>--local_gid</b> <i>gid</i>]</span>
<br/>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">Creates a new container area. This operation should be done
      once, before the first start of the container.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, an OS template denoted by <b>DEF_OSTEMPLATE</b> parameter of
      <b>vz.conf</b>(5) is used to create a container. This can be overwritten
      by <b>--ostemplate</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, a new container configuration file is created from a sample
      configuration denoted by value of <b>CONFIGFILE</b> parameter of
      <b>vz.conf</b>(5). If the container configuration file already exists, it
      will not be modified.
    <div style="height: 1.00em;">&#x00A0;</div>
    The value of <b>CONFIGFILE</b> can be overwritten by using the
      <b>--config</b> <i>name</i> option. This option can not be used if the
      container configuration file already exists.
    <div style="height: 1.00em;">&#x00A0;</div>
    A new container can either be created using <b>simfs</b> filesystem or on a
      <b>ploop</b> device. The default is set by value of <b>VE_LAYOUT</b>
      parameter of <b>vz.conf</b>(5) and can be overwritten by <b>--layout</b>
      option. In case <b>ploop</b> is used, one can additionally specify ploop
      disk image format after a colon. Possible ploop formats are
      <b>expanded</b>, <b>plain</b> and <b>raw</b>. Default is <b>expanded</b>.
      Using value other than <b>expanded</b> is not recommended and is currently
      not supported.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use <b>--diskspace</b> and <b>--diskinodes</b> options to specify
      container file system size. Note that for <b>ploop</b> layout, you will
      not be able to change inodes value later.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <b>DISKSPACE</b> is not specified either in the sample configuration file
      used for creation or in global configuration file <b>vz.conf</b>(5),
      <b>--diskspace</b> parameter is required for <b>ploop</b> layout.
    <div style="height: 1.00em;">&#x00A0;</div>
    Suffixes <b>G</b>, <b>M</b>, <b>K</b> can also be specified (see <b>Resource
      limits</b> section for more info on suffixes).
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use <b>--root</b> <i>path</i> option to sets the path to the mount
      point for the container root directory (default is <b>VE_ROOT</b>
      specified in <b>vz.conf</b>(5) file). Argument can contain literal string
      <b>$VEID</b>, which will be substituted with the numeric CT ID.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use <b>--private</b> <i>path</i> option to set the path to directory
      in which all the files and directories specific to this very container are
      stored (default is <b>VE_PRIVATE</b> specified in <b>vz.conf</b>(5) file).
      Argument can contain literal string <b>$VEID</b>, which will be
      substituted with the numeric CT ID.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use <b>--ipadd</b> <i>addr</i> option to assign an IP address to a
      container. Note that this option can be used multiple times.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use <b>--hostname</b> <i>name</i> option to set a host name for a
      container.
    <div style="height: 1.00em;">&#x00A0;</div>
    When running with an upstream Linux Kernel that supports user namespaces
      (&gt;= 3.8), the parameters <b>--local_uid</b> and <b>--local_gid</b> can
      be used to select which <i>uid</i> and <i>gid</i> respectively will be
      used as a base user in the host system. Note that user namespaces provide
      a 1:1 mapping between container users and host users. If these options are
      not specified, the values <b>LOCAL_UID</b> and <b>LOCAL_GID</b> from
      global configuration file <b>vz.conf</b>(5) are used. An explicit
      <b>--local_uid</b> value of 0 will disable user namespace support, and run
      the container as a privileged user. In this case, <b>--local_gid</b> is
      ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Warning:</b> use <b>--local_uid</b> and <b>--local_gid</b> with care,
      specially when migrating containers. In all situations, the container's
      files in the filesystem needs to be correctly owned by the host-side
      users.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>destroy</b> | <b>delete</b> <i>CTID</i></dt>
  <dd class="It-tag">Removes a container private area by deleting all files,
      directories and the configuration file of this container.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>start</b> <i>CTID</i> [<b>--wait</b>] [<b>--force</b>]
    [<b>--skip-fsck</b>] [<b>--skip-remount</b>]</dt>
  <dd class="It-tag">Mounts (if necessary) and starts a container. Unless
      <b>--wait</b> option is specified, <b>vzctl</b> will return immediately;
      otherwise an attempt to wait till the default runlevel is reached will be
      made by <b>vzctl</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specify <b>--force</b> if you want to start a container which is disabled
      (see <b>--disabled</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    Specify <b>--skip-fsck</b> to skip fsck for ploop-based container filesystem
      (this option is used by vz initscript).
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, if a container to be started happens to be already mounted, it
      is unmounted and mounted again. This behavior can be turned off by using
      <b>--skip-remount</b> flag.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this command can lead to execution of <b>premount</b>,
      <b>mount</b> and <b>start</b> action scripts (see <b>ACTION SCRIPTS</b>
      below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stop</b> <i>CTID</i> [<b>--fast</b>]
    [<b>--skip-umount</b>]</dt>
  <dd class="It-tag">Stops a container and unmounts it (unless
      <b>--skip-umount</b> is given). Normally, <b>halt</b>(8) is executed
      inside a container; option <b>--fast</b> makes <b>vzctl</b> use
      <b>reboot</b>(2) syscall instead which is faster but can lead to unclean
      container shutdown.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that <b>vzctl stop</b> is not asyncronous, in other words vzctl waits
      for container's init to exit (unless <b>--fast</b> is given), which can
      take up to a few minutes. Default wait timeout is 120 seconds; it can be
      changed globally, by setting <b>STOP_TIMEOUT</b> in <b>vz.conf</b>(5), or
      per container ( <b>STOP_TIMEOUT</b> in <b>ctid.conf</b>(5), see
      <b>--stop-timeout</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this command can lead to execution of <b>stop</b>, <b>umount</b>
      and <b>postumount</b> action scripts (see <b>ACTION SCRIPTS</b>
    below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restart</b> <i>CTID</i> [<b>--wait</b>] [<b>--force</b>]
    [ <b>--fast</b>] [<b>--skip-fsck</b>]</dt>
  <dd class="It-tag">Restarts a container, i.e. stops it if it is running, and
      starts again. Accepts all the <b>start</b> and <b>stop</b> options.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this command can lead to execution of some action scripts (see
      <b>ACTION SCRIPTS</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status</b> <i>CTID</i></dt>
  <dd class="It-tag">Shows a container status. This is a line with five or six
      words, separated by spaces.
    <div style="height: 1.00em;">&#x00A0;</div>
    First word is literally <b>CTID</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Second word is the numeric <i>CT ID</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Third word is showing whether this container exists or not, it can be either
      <b>exist</b> or <b>deleted</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Fourth word is showing the status of the container filesystem, it can be
      either <b>mounted</b> or <b>unmounted</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Fifth word shows if the container is running, it can be either
      <b>running</b> or <b>down</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Sixth word, if exists, is <b>suspended</b>. It appears if a dump file exists
      for a stopped container (see <b>suspend</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    This command can also be usable from scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mount</b> <i>CTID</i></dt>
  <dd class="It-tag">Mounts container private area. Note that this command can
      lead to execution of <b>premount</b> and <b>mount</b> action scripts (see
      <b>ACTION SCRIPTS</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>umount</b> <i>CTID</i></dt>
  <dd class="It-tag">Unmounts container private area. Note that this command can
      lead to execution of <b>umount</b> and <b>postumount</b> action scripts
      (see <b>ACTION SCRIPTS</b> below).
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that <b>stop</b> does <b>umount</b> automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>convert</b> <i>CTID</i> [<b>--layout
    ploop</b>[<b>:</b>{<b>expanded</b>|<b>plain</b>|<b>raw</b>}]]</dt>
  <dd class="It-tag">Convert CT private area to reside on a ploop device
      (available in kernel version 042stab052.8 and greater). Conversion should
      be performed when a container is stopped, plus disk space quota should be
      set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>compact</b> <i>CTID</i></dt>
  <dd class="It-tag">Compact container image. This only makes sense for ploop
      layout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quotaon</b> <i>CTID</i></dt>
  <dd class="It-tag">Turn disk quota on. Not that <b>mount</b> and <b>start</b>
      does that automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quotaoff</b> <i>CTID</i></dt>
  <dd class="It-tag">Turn disk quota off. Not that <b>umount</b> and <b>stop</b>
      does that automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quotainit</b> <i>CTID</i></dt>
  <dd class="It-tag">Initialize disk quota (i.e. run <b>vzquota init</b>) with
      the parameters taken from the CT configuration file
    <b>ctid.conf</b>(5).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>exec</b> <i>CTID</i> <i>command</i></dt>
  <dd class="It-tag">Executes <i>command</i> in a container. Environment
      variables are not set inside the container. Signal handlers may differ
      from default settings. If <i>command</i> is <b>-</b>, commands are read
      from stdin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>exec2</b> <i>CTID</i> <i>command</i></dt>
  <dd class="It-tag">The same as <b>exec</b>, but return code is that of
      <i>command</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>runscript</b> <i>CTID</i> <i>script</i></dt>
  <dd class="It-tag">Run specified shell script in the container. Argument
      <i>script</i> is a file on the host system which contents is read by vzctl
      and executed in the context of the container. For a running container, the
      command jumps into the container and executes the script. For a stopped
      container, it enters the container, mounts container's root filesystem,
      executes the script, and unmounts CT root. In the latter case, the
      container is not really started, no file systems other than root (such as
      <b>/proc</b>) are mounted, no startup scripts are executed etc. Thus the
      environment in which the script is running is far from normal and is only
      usable for very basic operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>enter</b> <i>CTID</i> [<b>--exec </b><i>command</i>
    [<i>arg</i> ...]]</dt>
  <dd class="It-tag">Enters into a container (giving a container's root shell).
      This option is a back-door for host root only. The proper way to have CT
      root shell is to use <b>ssh</b>(1).
    <div style="height: 1.00em;">&#x00A0;</div>
    Option <b>--exec</b> is used to run <i>command</i> with arguments after
      entering into container. This is useful if command to be run requires a
      terminal (so <b>vzctl exec</b> can not be used) and for some reason you
      can not use <b>ssh</b>(1).
    <div style="height: 1.00em;">&#x00A0;</div>
    You need to log out manually from the shell to finish session (even if you
      specified <b>--exec</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>console</b> <i>CTID</i> [<i>ttynum</i>]</dt>
  <dd class="It-tag">Attach to a container console. Optional <i>ttynum</i>
      argument is tty number (such as <b>4</b> for <b>tty4</b>), default is
      <b>1</b> which is used for container's <b>/dev/console</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note the consoles are persistent, meaning that:
    <div>&#x00A0;</div>
    &#x2022; it can be attached to even if the container is not running;
    <div>&#x00A0;</div>
    &#x2022; there is no automatic detachment upon the container stop;
    <div>&#x00A0;</div>
    &#x2022; detaching from the console leaves anything running in this console
      as is.
    <div style="height: 1.00em;">&#x00A0;</div>
    The following escape sequences are recognized by <b>vzctl console</b>. Note
      that these sequences are only recognized at the beginning of a line.
    <div style="height: 1.00em;">&#x00A0;</div>
    &#x2022; <b>Esc</b> then <b>.</b> to detach from the console.
    <div style="height: 1.00em;">&#x00A0;</div>
    &#x2022; <b>Esc</b> then <b>!</b> to kill anything running on the console
      (SAK). This is helpful when one expects a login prompt but there isn't
      one.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Other_options"><a class="selflink" href="#Other_options">Other
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Prints help message with a brief list of possible
    options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Prints <b>vzctl</b> version.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTION_SCRIPTS"><a class="selflink" href="#ACTION_SCRIPTS">ACTION
  SCRIPTS</a></h1>
<b>vzctl</b> has an ability to execute user-defined scripts when a specific
  <b>vzctl</b> command is run for a container. The following <b>vzctl</b>
  commands can trigger execution of action scripts: <b>start</b>, <b>stop</b>,
  <b>restart</b>, <b>mount</b> and <b>umount</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Action scripts are located in the <b>/etc/vz/conf/</b> directory. There are
  global and per-CT scripts. Global scripts have a literal prefix of <b>vps.</b>
  and are executed for all containers. Per-CT scripts have a <i>CTID</i><b>.</b>
  numeric prefix and are executed for the given container only.
<div style="height: 1.00em;">&#x00A0;</div>
Please note scripts are executed in a host system (CT0) context, with the
  exception of <b>.start</b> and <b>.stop</b> scripts, which are executed in a
  container context.
<div style="height: 1.00em;">&#x00A0;</div>
The following action scripts are currently defined:
<dl class="Bl-tag">
  <dt class="It-tag"><b>vps.premount</b>, <i>CTID</i><b>.premount</b></dt>
  <dd class="It-tag">Global and per-CT mount scripts which are executed for a
      container before it is mounted. Scripts are executed in the host system
      context, while a CT is not yet mounted or running. Global script, if
      exists, is executed first.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vps.mount</b>, <i>CTID</i><b>.mount</b></dt>
  <dd class="It-tag">Global and per-CT mount scripts which are executed for a
      container right after it is mounted. Otherwise they are the same as
      <b>.premount</b> scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>CTID</i><b>.start</b></dt>
  <dd class="It-tag">Right after <b>vzctl</b> has started a container, it
      executes this script in a container context.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>CTID</i><b>.stop</b></dt>
  <dd class="It-tag">Right before <b>vzctl</b> has stopped a container, it
      executes this script in a container context.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vps.umount</b>, <i>CTID</i><b>.umount</b></dt>
  <dd class="It-tag">Global and per-CT umount scripts which are executed for a
      container before it is unmounted. Scripts are executed in the host system
      context, while a CT is mounted. Global script, if exists, is executed
      first.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vps.postumount</b>, <i>CTID</i><b>.postumount</b></dt>
  <dd class="It-tag">Global and per-CT umount scripts which are executed for a
      container right after it is unmounted. Otherwise they are the same as
      <b>.umount</b> scripts.</dd>
</dl>
<div class="Pp"></div>
The environment passed to all the <b>*mount</b> scripts is the standard
  environment of the parent (i.e. <b>vzctl</b>) with two additional variables:
  <b>$VEID</b> and <b>$VE_CONFFILE</b>. The first one holds the ID of the
  container, and the second one holds the full path to the container
  configuration file. If the script needs to get other CT configuration
  parameters, such as <b>$VE_ROOT</b>, it needs to get those from global and
  per-CT configuration files.
<div class="Pp"></div>
Here is an example of a mount script, which makes host system's /mnt/disk
  available to container(s). Script name can either be
  <b>/etc/vz/conf/vps.mount</b> or <b>/etc/vz/conf/</b><i>CTID</i><b>.mount</b>.
<div class="Pp"></div>
<pre>
   # If one of these files does not exist then something
   # is really broken
   [ -f /etc/vz/vz.conf ] || exit 1
   [ -f $VE_CONFFILE ] || exit 1
   # Source both files. Note the order is important.
   . /etc/vz/vz.conf
   . $VE_CONFFILE
   SRC=/mnt/disk
   DST=/mnt/disk
   mount -n -t simfs $SRC ${VE_ROOT}${DST} -o $SRC
</pre>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
Returns 0 upon success, or an appropriate error code in case of an error:
<dl class="Bl-tag">
  <dt class="It-tag">1</dt>
  <dd class="It-tag">Failed to set a UBC parameter</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2</dt>
  <dd class="It-tag">Failed to set a fair scheduler parameter</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3</dt>
  <dd class="It-tag">Generic system error</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5</dt>
  <dd class="It-tag">The running kernel is not an OpenVZ kernel (or some OpenVZ
      modules are not loaded)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">6</dt>
  <dd class="It-tag">Not enough system resources</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">7</dt>
  <dd class="It-tag"><b>ENV_CREATE</b> ioctl failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">8</dt>
  <dd class="It-tag">Command executed by <b>vzctl exec</b> returned non-zero
      exit code</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">9</dt>
  <dd class="It-tag">Container is locked by another <b>vzctl</b> invocation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">10</dt>
  <dd class="It-tag">Global OpenVZ configuration file <b>vz.conf</b>(5) not
      found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">11</dt>
  <dd class="It-tag">A vzctl helper script file not found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">12</dt>
  <dd class="It-tag">Permission denied</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">13</dt>
  <dd class="It-tag">Capability setting failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">14</dt>
  <dd class="It-tag">Container configuration file <b>ctid.conf</b>(5) not
    found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">15</dt>
  <dd class="It-tag">Timeout on <b>vzctl exec</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">16</dt>
  <dd class="It-tag">Error during <b>vzctl suspend</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">17</dt>
  <dd class="It-tag">Error during <b>vzctl resume</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">18</dt>
  <dd class="It-tag">Error from <b>setluid()</b> syscall</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">20</dt>
  <dd class="It-tag">Invalid command line parameter</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">21</dt>
  <dd class="It-tag">Invalid value for command line parameter</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">22</dt>
  <dd class="It-tag">Container root directory (<b>VE_ROOT</b>) not set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">23</dt>
  <dd class="It-tag">Container private directory (<b>VE_PRIVATE</b>) not
    set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">24</dt>
  <dd class="It-tag">Container template directory (<b>TEMPLATE</b>) not set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">28</dt>
  <dd class="It-tag">Not all required UBC parameters are set, unable to start
      container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">29</dt>
  <dd class="It-tag">OS template is not specified, unable to create
    container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">31</dt>
  <dd class="It-tag">Container not running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">32</dt>
  <dd class="It-tag">Container already running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">33</dt>
  <dd class="It-tag">Unable to stop container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">34</dt>
  <dd class="It-tag">Unable to add IP address to container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">40</dt>
  <dd class="It-tag">Container not mounted</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">41</dt>
  <dd class="It-tag">Container already mounted</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">43</dt>
  <dd class="It-tag">Container private area not found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">44</dt>
  <dd class="It-tag">Container private area already exists</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">46</dt>
  <dd class="It-tag">Not enough disk space</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">47</dt>
  <dd class="It-tag">Bad/broken container (<b>/sbin/init</b> or <b>/bin/sh</b>
      not found)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">48</dt>
  <dd class="It-tag">Unable to create a new container private area</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">49</dt>
  <dd class="It-tag">Unable to create a new container root area</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">50</dt>
  <dd class="It-tag">Unable to mount container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">51</dt>
  <dd class="It-tag">Unable to unmount container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">52</dt>
  <dd class="It-tag">Unable to delete a container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">53</dt>
  <dd class="It-tag">Container private area not exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">60</dt>
  <dd class="It-tag"><b>vzquota on</b> failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">61</dt>
  <dd class="It-tag"><b>vzquota init</b> failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">62</dt>
  <dd class="It-tag"><b>vzquota setlimit</b> failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">63</dt>
  <dd class="It-tag">Parameter <b>DISKSPACE</b> not set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">64</dt>
  <dd class="It-tag">Parameter <b>DISKINODES</b> not set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">65</dt>
  <dd class="It-tag">Error setting in-container disk quotas</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">66</dt>
  <dd class="It-tag"><b>vzquota off</b> failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">67</dt>
  <dd class="It-tag">ugid quota not initialized</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">71</dt>
  <dd class="It-tag">Incorrect IP address format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">74</dt>
  <dd class="It-tag">Error changing password</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">78</dt>
  <dd class="It-tag">IP address already in use</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">79</dt>
  <dd class="It-tag">Container action script returned an error</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">82</dt>
  <dd class="It-tag">Config file copying error</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">86</dt>
  <dd class="It-tag">Error setting devices (<b>--devices</b> or
      <b>--devnodes</b>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">89</dt>
  <dd class="It-tag">IP address not available</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">91</dt>
  <dd class="It-tag">OS template not found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">99</dt>
  <dd class="It-tag">Ploop is not supported by either the running kernel or
      vzctl.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">100</dt>
  <dd class="It-tag">Unable to find container IP address</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">104</dt>
  <dd class="It-tag"><b>VE_NETDEV</b> ioctl error</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">105</dt>
  <dd class="It-tag">Container start disabled</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">106</dt>
  <dd class="It-tag">Unable to set iptables on a running container</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">107</dt>
  <dd class="It-tag">Distribution-specific configuration file not found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">109</dt>
  <dd class="It-tag">Unable to apply a config</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">129</dt>
  <dd class="It-tag">Unable to set meminfo parameter</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">130</dt>
  <dd class="It-tag">Error setting veth interface</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">131</dt>
  <dd class="It-tag">Error setting container name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">133</dt>
  <dd class="It-tag">Waiting for container start failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">139</dt>
  <dd class="It-tag">Error saving container configuration file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">148</dt>
  <dd class="It-tag">Error setting container IO parameters (ioprio)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">150</dt>
  <dd class="It-tag">Ploop image file not found</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">151</dt>
  <dd class="It-tag">Error creating ploop image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">152</dt>
  <dd class="It-tag">Error mounting ploop image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">153</dt>
  <dd class="It-tag">Error unmounting ploop image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">154</dt>
  <dd class="It-tag">Error resizing ploop image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">155</dt>
  <dd class="It-tag">Error converting container to ploop layout</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">156</dt>
  <dd class="It-tag">Error creating ploop snapshot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">157</dt>
  <dd class="It-tag">Error merging ploop snapshot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">158</dt>
  <dd class="It-tag">Error deleting ploop snapshot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">159</dt>
  <dd class="It-tag">Error switching ploop snapshot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">166</dt>
  <dd class="It-tag">Error compacting ploop image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">167</dt>
  <dd class="It-tag">Error listing ploop snapsots</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To create and start &quot;basic&quot; container with ID of 1000 using
  <b>centos-5</b> OS template and IP address of 192.168.10.200:
<div class="Pp"></div>
<pre>
   vzctl create 1000 --ostemplate centos-5 --config basic
   vzctl set 1000 --ipadd 192.168.10.200 --save
   vzctl start 1000
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To set number of processes barrier/limit to 80/100, and PTY barrier/limit to
  16/20 PTYs:
<div class="Pp"></div>
<pre>
   vzctl set 1000 --numproc 80:100 -t 16:20 --save
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To execute command <b>ls -la</b> in this container:
<div class="Pp"></div>
<pre>
   vzctl exec 1000 /bin/ls -la
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To execute command pipe <b>ls -l / | sort</b> in this container:
<div class="Pp"></div>
<pre>
   vzctl exec 1000 'ls -l / | sort'
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To enter this container and execute command <b>apt-get install vim</b>:
<div class="Pp"></div>
<pre>
   vzctl enter 1000 --exec apt-get install vim
</pre>
<div class="Pp"></div>
Note that in the above example you will need to log out from the container's
  shell after apt-get finishes.
<div style="height: 1.00em;">&#x00A0;</div>
To enter this container, execute command <b>apt-get install vim</b> and logout
  after successful installation (or stay inside the container if installation
  process failed) use <b>&amp;&amp;</b>:
<div class="Pp"></div>
<pre>
   vzctl enter 1000 --exec &quot;apt-get install vim &amp;&amp; logout&quot;
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To enter this container, execute command <b>apt-get install vim</b> and logout
  independently of exit code of installation process use <b>;</b>:
<div class="Pp"></div>
<pre>
   vzctl enter 1000 --exec &quot;apt-get install vim ; logout&quot;
</pre>
<div class="Pp"></div>
Note that you need to quote the command if you use <b>&amp;&amp;</b> or
  <b>;</b>.
<div style="height: 1.00em;">&#x00A0;</div>
To stop this container:
<div class="Pp"></div>
<pre>
   vzctl stop 1000
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To permanently remove this container:
<div class="Pp"></div>
<pre>
   vzctl destroy 1000
</pre>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<pre>
/etc/vz/vz.conf
/etc/vz/conf/ <i>CTID</i><b></b>.conf
/etc/vz/conf/vps.{premount,mount,umount,postumount}
/etc/vz/conf/ <i>CTID</i><b></b>.{premount,mount,start,stop,umount,postumount}
/proc/vz/veinfo
/proc/vz/vzquota
/proc/user_beancounters
/proc/bc/*
/proc/fairsched
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>vz.conf</b>(5), <b>ctid.conf</b>(5), <b>arpsend</b>(8), <b>vzcalc</b>(8),
  <b>vzcfgvalidate</b>(8), <b>vzcpucheck</b>(8), <b>vzifup-post</b>(8),
  <b>vzlist</b>(8), <b>vzmemcheck</b>(8), <b>vzmigrate</b>(8), <b>vzpid</b>(8),
  <b>vzquota</b>(8), <b>vzsplit</b>(8), <b>vzubc</b>(8),
  <b>http://wiki.openvz.org/UBC</b>.
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
Copyright (C) 2000-2013, Parallels, Inc. Licensed under GNU GPL.</div>
<table class="foot">
  <tr>
    <td class="foot-date">3 Jul 2014</td>
    <td class="foot-os">OpenVZ</td>
  </tr>
</table>
</body>
</html>
