<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:41 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NET(8) System Administration tools NET(8)</p>

<p style="margin-top: 1em">NAME <br>
net - Tool for administration of Samba and remote CIFS
servers.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
net {&lt;ads|rap|rpc&gt;} [-h|--help] [-w|--workgroup
workgroup] [-W|--myworkgroup myworkgroup] [-U|--user user]
[-I|--ipaddress ip-address] [-p|--port port] [-n myname] [-s
conffile] <br>
[-S|--server server] [-l|--long] [-v|--verbose] [-f|--force]
[-P|--machine-pass] [-d debuglevel] [-V] [--request-timeout
seconds] [-t|--timeout seconds] [-i|--stdin] <br>
[--tallocreport]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(7) suite.</p>

<p style="margin-top: 1em">The Samba net utility is meant
to work just like the net utility available for windows and
DOS. The first argument should be used to specify the
protocol to use when executing a <br>
certain command. ADS is used for ActiveDirectory, RAP is
using for old (Win9x/NT3) clients and RPC can be used for
NT4 and Windows 2000. If this argument is omitted, net will
try <br>
to determine it automatically. Not all commands are
available on all protocols.</p>

<p style="margin-top: 1em">OPTIONS <br>
-?|--help <br>
Print a summary of command line options.</p>

<p style="margin-top: 1em">-k|--kerberos <br>
Try to authenticate with kerberos. Only useful in an Active
Directory environment.</p>

<p style="margin-top: 1em">-w|--workgroup target-workgroup
<br>
Sets target workgroup or domain. You have to specify either
this option or the IP address or the name of a server.</p>

<p style="margin-top: 1em">-W|--myworkgroup workgroup <br>
Sets client workgroup or domain</p>

<p style="margin-top: 1em">-U|--user user <br>
User name to use</p>

<p style="margin-top: 1em">-I|--ipaddress ip-address <br>
IP address of target server to use. You have to specify
either this option or a target workgroup or a target
server.</p>

<p style="margin-top: 1em">-p|--port port <br>
Port on the target server to connect to (usually 139 or
445). Defaults to trying 445 first, then 139.</p>

<p style="margin-top: 1em">-n|--netbiosname &lt;primary
NetBIOS name&gt; <br>
This option allows you to override the NetBIOS name that
Samba uses for itself. This is identical to setting the
netbios name parameter in the smb.conf file. However, a <br>
command line setting will take precedence over settings in
smb.conf.</p>


<p style="margin-top: 1em">-s|--configfile=&lt;configuration
file&gt; <br>
The file specified contains the configuration details
required by the server. The information in this file
includes server-specific information such as what printcap
file to <br>
use, as well as descriptions of all the services that the
server is to provide. See smb.conf for more information. The
default configuration file name is determined at <br>
compile time.</p>

<p style="margin-top: 1em">-S|--server server <br>
Name of target server. You should specify either this option
or a target workgroup or a target IP address.</p>

<p style="margin-top: 1em">-l|--long <br>
When listing data, give more information on each item.</p>

<p style="margin-top: 1em">-v|--verbose <br>
When listing data, give more verbose information on each
item.</p>

<p style="margin-top: 1em">-f|--force <br>
Enforcing a net command.</p>

<p style="margin-top: 1em">-P|--machine-pass <br>
Make queries to the external server using the machine
account of the local server.</p>

<p style="margin-top: 1em">--request-timeout 30 <br>
Let client requests timeout after 30 seconds the default is
10 seconds.</p>

<p style="margin-top: 1em">-t|--timeout 30 <br>
Set timeout for client operations to 30 seconds.</p>

<p style="margin-top: 1em">--use-ccache <br>
Try to use the credentials cached by winbind.</p>

<p style="margin-top: 1em">-i|--stdin <br>
Take input for net commands from standard input.</p>

<p style="margin-top: 1em">--tallocreport <br>
Generate a talloc report while processing a net command.</p>

<p style="margin-top: 1em">-T|--test <br>
Only test command sequence, dry-run.</p>

<p style="margin-top: 1em">-F|--flags FLAGS <br>
Pass down integer flags to a net subcommand.</p>

<p style="margin-top: 1em">-C|--comment COMMENT <br>
Pass down a comment string to a net subcommand.</p>

<p style="margin-top: 1em">-n|--myname MYNAME <br>
Use MYNAME as a requester name for a net subcommand.</p>

<p style="margin-top: 1em">-c|--container CONTAINER <br>
Use a specific AD container for net ads operations.</p>

<p style="margin-top: 1em">-M|--maxusers MAXUSERS <br>
Fill in the maxusers field in net rpc share operations.</p>

<p style="margin-top: 1em">-r|--reboot <br>
Reboot a remote machine after a command has been
successfully executed (e.g. in remote join operations).</p>

<p style="margin-top: 1em">--force-full-repl <br>
When calling &quot;net rpc vampire keytab&quot; this option
enforces a full re-creation of the generated keytab
file.</p>

<p style="margin-top: 1em">--single-obj-repl <br>
When calling &quot;net rpc vampire keytab&quot; this option
allows one to replicate just a single object to the
generated keytab file.</p>

<p style="margin-top: 1em">--clean-old-entries <br>
When calling &quot;net rpc vampire keytab&quot; this option
allows one to cleanup old entries from the generated keytab
file.</p>

<p style="margin-top: 1em">--db <br>
Define dbfile for &quot;net idmap&quot; commands.</p>

<p style="margin-top: 1em">--lock <br>
Activates locking of the dbfile for &quot;net idmap
check&quot; command.</p>

<p style="margin-top: 1em">-a|--auto <br>
Activates noninteractive mode in &quot;net idmap
check&quot;.</p>

<p style="margin-top: 1em">--repair <br>
Activates repair mode in &quot;net idmap check&quot;.</p>

<p style="margin-top: 1em">--acls <br>
Includes ACLs to be copied in &quot;net rpc share
migrate&quot;.</p>

<p style="margin-top: 1em">--attrs <br>
Includes file attributes to be copied in &quot;net rpc share
migrate&quot;.</p>

<p style="margin-top: 1em">--timestamps <br>
Includes timestamps to be copied in &quot;net rpc share
migrate&quot;.</p>

<p style="margin-top: 1em">-X|--exclude DIRECTORY <br>
Allows one to exclude directories when copying with
&quot;net rpc share migrate&quot;.</p>

<p style="margin-top: 1em">--destination SERVERNAME <br>
Defines the target servername of migration process (defaults
to localhost).</p>

<p style="margin-top: 1em">-L|--local <br>
Sets the type of group mapping to local (used in &quot;net
groupmap set&quot;).</p>

<p style="margin-top: 1em">-D|--domain <br>
Sets the type of group mapping to domain (used in &quot;net
groupmap set&quot;).</p>

<p style="margin-top: 1em">-N|--ntname NTNAME <br>
Sets the ntname of a group mapping (used in &quot;net
groupmap set&quot;).</p>

<p style="margin-top: 1em">-R|--rid RID <br>
Sets the rid of a group mapping (used in &quot;net groupmap
set&quot;).</p>

<p style="margin-top: 1em">--reg-version REG_VERSION <br>
Assume database version {n|1,2,3} (used in &quot;net
registry check&quot;).</p>

<p style="margin-top: 1em">-o|--output FILENAME <br>
Output database file (used in &quot;net registry
check&quot;).</p>

<p style="margin-top: 1em">--wipe <br>
Create a new database from scratch (used in &quot;net
registry check&quot;).</p>

<p style="margin-top: 1em">--precheck PRECHECK_DB_FILENAME
<br>
Defines filename for database prechecking (used in &quot;net
registry import&quot;).</p>

<p style="margin-top: 1em">--no-dns-updates <br>
Do not perform DNS updates as part of &quot;net ads
join&quot;.</p>

<p style="margin-top: 1em">-e|--encrypt <br>
This command line parameter requires the remote server
support the UNIX extensions or that the SMB3 protocol has
been selected. Requests that the connection be encrypted.
<br>
Negotiates SMB encryption using either SMB3 or POSIX
extensions via GSSAPI. Uses the given credentials for the
encryption negotiation (either kerberos or NTLMv1/v2 if
given <br>
domain/username/password triple. Fails the connection if
encryption cannot be negotiated.</p>

<p style="margin-top: 1em">-d|--debuglevel=level <br>
level is an integer from 0 to 10. The default value if this
parameter is not specified is 1.</p>

<p style="margin-top: 1em">The higher this value, the more
detail will be logged to the log files about the activities
of the server. At level 0, only critical errors and serious
warnings will be <br>
logged. Level 1 is a reasonable level for day-to-day running
- it generates a small amount of information about
operations carried out.</p>

<p style="margin-top: 1em">Levels above 1 will generate
considerable amounts of log data, and should only be used
when investigating a problem. Levels above 3 are designed
for use only by developers <br>
and generate HUGE amounts of log data, most of which is
extremely cryptic.</p>

<p style="margin-top: 1em">Note that specifying this
parameter here will override the log level parameter in the
smb.conf file.</p>

<p style="margin-top: 1em">-V|--version <br>
Prints the program version number.</p>


<p style="margin-top: 1em">-s|--configfile=&lt;configuration
file&gt; <br>
The file specified contains the configuration details
required by the server. The information in this file
includes server-specific information such as what printcap
file to <br>
use, as well as descriptions of all the services that the
server is to provide. See smb.conf for more information. The
default configuration file name is determined at <br>
compile time.</p>

<p style="margin-top: 1em">-l|--log-basename=logdirectory
<br>
Base directory name for log/debug files. The extension
&quot;.progname&quot; will be appended (e.g. log.smbclient,
log.smbd, etc...). The log file is never removed by the
client.</p>


<p style="margin-top: 1em">--option=&lt;name&gt;=&lt;value&gt;
<br>
Set the smb.conf(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled-in defaults and options read from the
configuration file.</p>

<p style="margin-top: 1em">COMMANDS <br>
CHANGESECRETPW <br>
This command allows the Samba machine account password to be
set from an external application to a machine account
password that has already been stored in Active Directory.
DO <br>
NOT USE this command unless you know exactly what you are
doing. The use of this command requires that the force flag
(-f) be used also. There will be NO command prompt. Whatever
<br>
information is piped into stdin, either by typing at the
command line or otherwise, will be stored as the literal
machine password. Do NOT use this without care and attention
as <br>
it will overwrite a legitimate machine password without
warning. YOU HAVE BEEN WARNED.</p>

<p style="margin-top: 1em">TIME <br>
The NET TIME command allows you to view the time on a remote
server or synchronise the time on the local server with the
time on the remote server.</p>

<p style="margin-top: 1em">TIME <br>
Without any options, the NET TIME command displays the time
on the remote server. The remote server must be specified
with the -S option.</p>

<p style="margin-top: 1em">TIME SYSTEM <br>
Displays the time on the remote server in a format ready for
/bin/date. The remote server must be specified with the -S
option.</p>

<p style="margin-top: 1em">TIME SET <br>
Tries to set the date and time of the local server to that
on the remote server using /bin/date. The remote server must
be specified with the -S option.</p>

<p style="margin-top: 1em">TIME ZONE <br>
Displays the timezone in hours from GMT on the remote
server. The remote server must be specified with the -S
option.</p>

<p style="margin-top: 1em">[RPC|ADS] JOIN [TYPE]
[--no-dns-updates] [-U username[%password]] [createupn=UPN]
[createcomputer=OU] [machinepass=PASS] [osName=string
osVer=string] [options] <br>
Join a domain. If the account already exists on the server,
and [TYPE] is MEMBER, the machine will attempt to join
automatically. (Assuming that the machine has been created
in <br>
server manager) Otherwise, a password will be prompted for,
and a new account may be created.</p>

<p style="margin-top: 1em">[TYPE] may be PDC, BDC or MEMBER
to specify the type of server joining the domain.</p>

<p style="margin-top: 1em">[UPN] (ADS only) set the
principalname attribute during the join. The default format
is host/netbiosname@REALM.</p>

<p style="margin-top: 1em">[OU] (ADS only) Precreate the
computer account in a specific OU. The OU string reads from
top to bottom without RDNs, and is delimited by a
&rsquo;/&rsquo;. Please note that &rsquo;&acute; is used for
<br>
escape by both the shell and ldap, so it may need to be
doubled or quadrupled to pass through, and it is not used as
a delimiter.</p>

<p style="margin-top: 1em">[PASS] (ADS only) Set a specific
password on the computer account being created by the
join.</p>

<p style="margin-top: 1em">[osName=string osVer=String]
(ADS only) Set the operatingSystem and
operatingSystemVersion attribute during the join. Both
parameters must be specified for either to take effect.</p>

<p style="margin-top: 1em">[RPC] OLDJOIN [options] <br>
Join a domain. Use the OLDJOIN option to join the domain
using the old style of domain joining - you need to create a
trust account in server manager first.</p>

<p style="margin-top: 1em">[RPC|ADS] USER <br>
[RPC|ADS] USER <br>
List all users</p>

<p style="margin-top: 1em">[RPC|ADS] USER DELETE target
<br>
Delete specified user</p>

<p style="margin-top: 1em">[RPC|ADS] USER INFO target <br>
List the domain groups of the specified user.</p>

<p style="margin-top: 1em">[RPC|ADS] USER RENAME oldname
newname <br>
Rename specified user.</p>

<p style="margin-top: 1em">[RPC|ADS] USER ADD name
[password] [-F user flags] [-C comment] <br>
Add specified user.</p>

<p style="margin-top: 1em">[RPC|ADS] GROUP <br>
[RPC|ADS] GROUP [misc options] [targets] <br>
List user groups.</p>

<p style="margin-top: 1em">[RPC|ADS] GROUP DELETE name
[misc. options] <br>
Delete specified group.</p>

<p style="margin-top: 1em">[RPC|ADS] GROUP ADD name [-C
comment] <br>
Create specified group.</p>

<p style="margin-top: 1em">[RAP|RPC] SHARE <br>
[RAP|RPC] SHARE [misc. options] [targets] <br>
Enumerates all exported resources (network shares) on target
server.</p>

<p style="margin-top: 1em">[RAP|RPC] SHARE ADD
name=serverpath [-C comment] [-M maxusers] [targets] <br>
Adds a share from a server (makes the export active).
Maxusers specifies the number of users that can be connected
to the share simultaneously.</p>

<p style="margin-top: 1em">SHARE DELETE sharename <br>
Delete specified share.</p>

<p style="margin-top: 1em">[RPC|RAP] FILE <br>
[RPC|RAP] FILE <br>
List all open files on remote server.</p>

<p style="margin-top: 1em">[RPC|RAP] FILE CLOSE fileid <br>
Close file with specified fileid on remote server.</p>

<p style="margin-top: 1em">[RPC|RAP] FILE INFO fileid <br>
Print information on specified fileid. Currently listed are:
file-id, username, locks, path, permissions.</p>

<p style="margin-top: 1em">[RAP|RPC] FILE USER user <br>
List files opened by specified user. Please note that net
rap file user does not work against Samba servers.</p>

<p style="margin-top: 1em">SESSION <br>
RAP SESSION <br>
Without any other options, SESSION enumerates all active
SMB/CIFS sessions on the target server.</p>

<p style="margin-top: 1em">RAP SESSION DELETE|CLOSE
CLIENT_NAME <br>
Close the specified sessions.</p>

<p style="margin-top: 1em">RAP SESSION INFO CLIENT_NAME
<br>
Give a list with all the open files in specified
session.</p>

<p style="margin-top: 1em">RAP SERVER DOMAIN <br>
List all servers in specified domain or workgroup. Defaults
to local domain.</p>

<p style="margin-top: 1em">RAP DOMAIN <br>
Lists all domains and workgroups visible on the current
network.</p>

<p style="margin-top: 1em">RAP PRINTQ <br>
RAP PRINTQ INFO QUEUE_NAME <br>
Lists the specified print queue and print jobs on the
server. If the QUEUE_NAME is omitted, all queues are
listed.</p>

<p style="margin-top: 1em">RAP PRINTQ DELETE JOBID <br>
Delete job with specified id.</p>

<p style="margin-top: 1em">RAP VALIDATE user [password]
<br>
Validate whether the specified user can log in to the remote
server. If the password is not specified on the commandline,
it will be prompted.</p>

<p style="margin-top: 1em">Note <br>
Currently NOT implemented.</p>

<p style="margin-top: 1em">RAP GROUPMEMBER <br>
RAP GROUPMEMBER LIST GROUP <br>
List all members of the specified group.</p>

<p style="margin-top: 1em">RAP GROUPMEMBER DELETE GROUP
USER <br>
Delete member from group.</p>

<p style="margin-top: 1em">RAP GROUPMEMBER ADD GROUP USER
<br>
Add member to group.</p>

<p style="margin-top: 1em">RAP ADMIN command <br>
Execute the specified command on the remote server. Only
works with OS/2 servers.</p>

<p style="margin-top: 1em">Note <br>
Currently NOT implemented.</p>

<p style="margin-top: 1em">RAP SERVICE <br>
RAP SERVICE START NAME [arguments...] <br>
Start the specified service on the remote server. Not
implemented yet.</p>

<p style="margin-top: 1em">Note <br>
Currently NOT implemented.</p>

<p style="margin-top: 1em">RAP SERVICE STOP <br>
Stop the specified service on the remote server.</p>

<p style="margin-top: 1em">Note <br>
Currently NOT implemented.</p>

<p style="margin-top: 1em">RAP PASSWORD USER OLDPASS
NEWPASS <br>
Change password of USER from OLDPASS to NEWPASS.</p>

<p style="margin-top: 1em">LOOKUP <br>
LOOKUP HOST HOSTNAME [TYPE] <br>
Lookup the IP address of the given host with the specified
type (netbios suffix). The type defaults to 0x20
(workstation).</p>

<p style="margin-top: 1em">LOOKUP LDAP [DOMAIN] <br>
Give IP address of LDAP server of specified DOMAIN. Defaults
to local domain.</p>

<p style="margin-top: 1em">LOOKUP KDC [REALM] <br>
Give IP address of KDC for the specified REALM. Defaults to
local realm.</p>

<p style="margin-top: 1em">LOOKUP DC [DOMAIN] <br>
Give IP&rsquo;s of Domain Controllers for specified <br>
DOMAIN. Defaults to local domain.</p>

<p style="margin-top: 1em">LOOKUP MASTER DOMAIN <br>
Give IP of master browser for specified DOMAIN or workgroup.
Defaults to local domain.</p>

<p style="margin-top: 1em">CACHE <br>
Samba uses a general caching interface called
&rsquo;gencache&rsquo;. It can be controlled using
&rsquo;NET CACHE&rsquo;.</p>

<p style="margin-top: 1em">All the timeout parameters
support the suffixes: <br>
s - Seconds <br>
m - Minutes <br>
h - Hours <br>
d - Days <br>
w - Weeks</p>

<p style="margin-top: 1em">CACHE ADD key data time-out <br>
Add specified key+data to the cache with the given
timeout.</p>

<p style="margin-top: 1em">CACHE DEL key <br>
Delete key from the cache.</p>

<p style="margin-top: 1em">CACHE SET key data time-out <br>
Update data of existing cache entry.</p>

<p style="margin-top: 1em">CACHE SEARCH PATTERN <br>
Search for the specified pattern in the cache data.</p>

<p style="margin-top: 1em">CACHE LIST <br>
List all current items in the cache.</p>

<p style="margin-top: 1em">CACHE FLUSH <br>
Remove all the current items from the cache.</p>

<p style="margin-top: 1em">GETLOCALSID [DOMAIN] <br>
Prints the SID of the specified domain, or if the parameter
is omitted, the SID of the local server.</p>

<p style="margin-top: 1em">SETLOCALSID S-1-5-21-x-y-z <br>
Sets SID for the local server to the specified SID.</p>

<p style="margin-top: 1em">GETDOMAINSID <br>
Prints the local machine SID and the SID of the current
domain.</p>

<p style="margin-top: 1em">SETDOMAINSID <br>
Sets the SID of the current domain.</p>

<p style="margin-top: 1em">GROUPMAP <br>
Manage the mappings between Windows group SIDs and UNIX
groups. Common options include:</p>

<p style="margin-top: 1em">&Acirc;&middot; unixgroup - Name
of the UNIX group</p>

<p style="margin-top: 1em">&Acirc;&middot; ntgroup - Name
of the Windows NT group (must be resolvable to a SID</p>

<p style="margin-top: 1em">&Acirc;&middot; rid - Unsigned
32-bit integer</p>

<p style="margin-top: 1em">&Acirc;&middot; sid - Full SID
in the form of &quot;S-1-...&quot;</p>

<p style="margin-top: 1em">&Acirc;&middot; type - Type of
the group; either &rsquo;domain&rsquo;, &rsquo;local&rsquo;,
or &rsquo;builtin&rsquo;</p>

<p style="margin-top: 1em">&Acirc;&middot; comment -
Freeform text description of the group</p>

<p style="margin-top: 1em">GROUPMAP ADD <br>
Add a new group mapping entry:</p>

<p style="margin-top: 1em">net groupmap add
{rid=int|sid=string} unixgroup=string [type={domain|local}]
[ntgroup=string] [comment=string]</p>

<p style="margin-top: 1em">GROUPMAP DELETE <br>
Delete a group mapping entry. If more than one group name
matches, the first entry found is deleted.</p>

<p style="margin-top: 1em">net groupmap delete
{ntgroup=string|sid=SID}</p>

<p style="margin-top: 1em">GROUPMAP MODIFY <br>
Update an existing group entry.</p>

<p style="margin-top: 1em">net groupmap modify
{ntgroup=string|sid=SID} [unixgroup=string] [comment=string]
[type={domain|local}]</p>

<p style="margin-top: 1em">GROUPMAP LIST <br>
List existing group mapping entries.</p>

<p style="margin-top: 1em">net groupmap list [verbose]
[ntgroup=string] [sid=SID]</p>

<p style="margin-top: 1em">MAXRID <br>
Prints out the highest RID currently in use on the local
server (by the active &rsquo;passdb backend&rsquo;).</p>

<p style="margin-top: 1em">RPC INFO <br>
Print information about the domain of the remote server,
such as domain name, domain sid and number of users and
groups.</p>

<p style="margin-top: 1em">[RPC|ADS] TESTJOIN <br>
Check whether participation in a domain is still valid.</p>

<p style="margin-top: 1em">[RPC|ADS] CHANGETRUSTPW <br>
Force change of domain trust password.</p>

<p style="margin-top: 1em">RPC TRUSTDOM <br>
RPC TRUSTDOM ADD DOMAIN <br>
Add a interdomain trust account for DOMAIN. This is in fact
a Samba account named DOMAIN$ with the account flag
&rsquo;I&rsquo; (interdomain trust account). This is
required for incoming <br>
trusts to work. It makes Samba be a trusted domain of the
foreign (trusting) domain. Users of the Samba domain will be
made available in the foreign domain. If the command is <br>
used against localhost it has the same effect as smbpasswd
-a -i DOMAIN. Please note that both commands expect a
appropriate UNIX account.</p>

<p style="margin-top: 1em">RPC TRUSTDOM DEL DOMAIN <br>
Remove interdomain trust account for DOMAIN. If it is used
against localhost it has the same effect as smbpasswd -x
DOMAIN$.</p>

<p style="margin-top: 1em">RPC TRUSTDOM ESTABLISH DOMAIN
<br>
Establish a trust relationship to a trusted domain.
Interdomain account must already be created on the remote
PDC. This is required for outgoing trusts to work. It makes
Samba be <br>
a trusting domain of a foreign (trusted) domain. Users of
the foreign domain will be made available in our domain.
You&rsquo;ll need winbind and a working idmap config to make
them <br>
appear in your system.</p>

<p style="margin-top: 1em">RPC TRUSTDOM REVOKE DOMAIN <br>
Abandon relationship to trusted domain</p>

<p style="margin-top: 1em">RPC TRUSTDOM LIST <br>
List all interdomain trust relationships.</p>

<p style="margin-top: 1em">RPC TRUST <br>
RPC TRUST CREATE <br>
Create a trust object by calling lsaCreateTrustedDomainEx2.
The can be done on a single server or on two servers at once
with the possibility to use a random trust password.</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">otherserver <br>
Domain controller of the second domain</p>

<p style="margin-top: 1em">otheruser <br>
Admin user in the second domain</p>

<p style="margin-top: 1em">otherdomainsid <br>
SID of the second domain</p>

<p style="margin-top: 1em">other_netbios_domain <br>
NetBIOS (short) name of the second domain</p>

<p style="margin-top: 1em">otherdomain <br>
DNS (full) name of the second domain</p>

<p style="margin-top: 1em">trustpw <br>
Trust password</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">Create a trust object on
srv1.dom1.dom for the domain dom2</p>

<p style="margin-top: 1em">net rpc trust create
otherdomainsid=S-x-x-xx-xxxxxxxxxx-xxxxxxxxxx-xxxxxxxxx
other_netbios_domain=dom2 otherdomain=dom2.dom
trustpw=12345678 -S srv1.dom1.dom</p>

<p style="margin-top: 1em">Create a trust relationship
between dom1 and dom2</p>

<p style="margin-top: 1em">net rpc trust create
otherserver=srv2.dom2.test otheruser=dom2adm -S
srv1.dom1.dom</p>

<p style="margin-top: 1em">RPC TRUST DELETE <br>
Delete a trust object by calling lsaDeleteTrustedDomain. The
can be done on a single server or on two servers at
once.</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">otherserver <br>
Domain controller of the second domain</p>

<p style="margin-top: 1em">otheruser <br>
Admin user in the second domain</p>

<p style="margin-top: 1em">otherdomainsid <br>
SID of the second domain</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">Delete a trust object on
srv1.dom1.dom for the domain dom2</p>

<p style="margin-top: 1em">net rpc trust delete
otherdomainsid=S-x-x-xx-xxxxxxxxxx-xxxxxxxxxx-xxxxxxxxx -S
srv1.dom1.dom</p>

<p style="margin-top: 1em">Delete a trust relationship
between dom1 and dom2</p>

<p style="margin-top: 1em">net rpc trust delete
otherserver=srv2.dom2.test otheruser=dom2adm -S
srv1.dom1.dom</p>

<p style="margin-top: 1em">RPC RIGHTS <br>
This subcommand is used to view and manage Samba&rsquo;s
rights assignments (also referred to as privileges). There
are three options currently available: list, grant, and
revoke. More <br>
details on Samba&rsquo;s privilege model and its use can be
found in the Samba-HOWTO-Collection.</p>

<p style="margin-top: 1em">RPC ABORTSHUTDOWN <br>
Abort the shutdown of a remote server.</p>

<p style="margin-top: 1em">RPC SHUTDOWN [-t timeout] [-r]
[-f] [-C message] <br>
Shut down the remote server.</p>

<p style="margin-top: 1em">-r <br>
Reboot after shutdown.</p>

<p style="margin-top: 1em">-f <br>
Force shutting down all applications.</p>

<p style="margin-top: 1em">-t timeout <br>
Timeout before system will be shut down. An interactive user
of the system can use this time to cancel the shutdown.</p>

<p style="margin-top: 1em">-C message <br>
Display the specified message on the screen to announce the
shutdown.</p>

<p style="margin-top: 1em">RPC SAMDUMP <br>
Print out sam database of remote server. You need to run
this against the PDC, from a Samba machine joined as a
BDC.</p>

<p style="margin-top: 1em">RPC VAMPIRE <br>
Export users, aliases and groups from remote server to local
server. You need to run this against the PDC, from a Samba
machine joined as a BDC. This vampire command cannot be <br>
used against an Active Directory, only against an NT4 Domain
Controller.</p>

<p style="margin-top: 1em">RPC VAMPIRE KEYTAB <br>
Dump remote SAM database to local Kerberos keytab file.</p>

<p style="margin-top: 1em">RPC VAMPIRE LDIF <br>
Dump remote SAM database to local LDIF file or standard
output.</p>

<p style="margin-top: 1em">RPC GETSID <br>
Fetch domain SID and store it in the local secrets.tdb.</p>

<p style="margin-top: 1em">ADS LEAVE <br>
Make the remote host leave the domain it is part of.</p>

<p style="margin-top: 1em">ADS STATUS <br>
Print out status of machine account of the local machine in
ADS. Prints out quite some debug info. Aimed at developers,
regular users should use NET ADS TESTJOIN.</p>

<p style="margin-top: 1em">ADS PRINTER <br>
ADS PRINTER INFO [PRINTER] [SERVER] <br>
Lookup info for PRINTER on SERVER. The printer name defaults
to &quot;*&quot;, the server name defaults to the local
host.</p>

<p style="margin-top: 1em">ADS PRINTER PUBLISH PRINTER <br>
Publish specified printer using ADS.</p>

<p style="margin-top: 1em">ADS PRINTER REMOVE PRINTER <br>
Remove specified printer from ADS directory.</p>

<p style="margin-top: 1em">ADS SEARCH EXPRESSION
ATTRIBUTES... <br>
Perform a raw LDAP search on a ADS server and dump the
results. The expression is a standard LDAP search
expression, and the attributes are a list of LDAP fields to
show in the <br>
results.</p>

<p style="margin-top: 1em">Example: net ads search
&rsquo;(objectCategory=group)&rsquo; sAMAccountName</p>

<p style="margin-top: 1em">ADS DN DN (attributes) <br>
Perform a raw LDAP search on a ADS server and dump the
results. The DN standard LDAP DN, and the attributes are a
list of LDAP fields to show in the result.</p>

<p style="margin-top: 1em">Example: net ads dn
&rsquo;CN=administrator,CN=Users,DC=my,DC=domain&rsquo;
SAMAccountName</p>

<p style="margin-top: 1em">ADS WORKGROUP <br>
Print out workgroup name for specified kerberos realm.</p>

<p style="margin-top: 1em">ADS ENCTYPES <br>
List, modify or delete the value of the
&quot;msDS-SupportedEncryptionTypes&quot; attribute of an
account in AD.</p>

<p style="margin-top: 1em">This attribute allows one to
control which Kerberos encryption types are used for the
generation of initial and service tickets. The value
consists of an integer bitmask with the <br>
following values:</p>

<p style="margin-top: 1em">0x00000001 DES-CBC-CRC</p>

<p style="margin-top: 1em">0x00000002 DES-CBC-MD5</p>

<p style="margin-top: 1em">0x00000004 RC4-HMAC</p>

<p style="margin-top: 1em">0x00000008
AES128-CTS-HMAC-SHA1-96</p>

<p style="margin-top: 1em">0x00000010
AES256-CTS-HMAC-SHA1-96</p>

<p style="margin-top: 1em">ADS ENCTYPES LIST
&lt;ACCOUNTNAME&gt; <br>
List the value of the
&quot;msDS-SupportedEncryptionTypes&quot; attribute of a
given account.</p>

<p style="margin-top: 1em">Example: net ads enctypes list
Computername</p>

<p style="margin-top: 1em">ADS ENCTYPES SET
&lt;ACCOUNTNAME&gt; [enctypes] <br>
Set the value of the
&quot;msDS-SupportedEncryptionTypes&quot; attribute of the
LDAP object of ACCOUNTNAME to a given value. If the value is
omitted, the value is set to 31 which enables <br>
all the currently supported encryption types.</p>

<p style="margin-top: 1em">Example: net ads enctypes set
Computername 24</p>

<p style="margin-top: 1em">ADS ENCTYPES DELETE
&lt;ACCOUNTNAME&gt; <br>
Deletes the &quot;msDS-SupportedEncryptionTypes&quot;
attribute of the LDAP object of ACCOUNTNAME.</p>

<p style="margin-top: 1em">Example: net ads enctypes set
Computername 24</p>

<p style="margin-top: 1em">SAM CREATEBUILTINGROUP
&lt;NAME&gt; <br>
(Re)Create a BUILTIN group. Only a wellknown set of BUILTIN
groups can be created with this command. This is the list of
currently recognized group names: Administrators, Users,
<br>
Guests, Power Users, Account Operators, Server Operators,
Print Operators, Backup Operators, Replicator, RAS Servers,
Pre-Windows 2000 compatible Access. This command requires a
<br>
running Winbindd with idmap allocation properly configured.
The group gid will be allocated out of the winbindd
range.</p>

<p style="margin-top: 1em">SAM CREATELOCALGROUP
&lt;NAME&gt; <br>
Create a LOCAL group (also known as Alias). This command
requires a running Winbindd with idmap allocation properly
configured. The group gid will be allocated out of the <br>
winbindd range.</p>

<p style="margin-top: 1em">SAM DELETELOCALGROUP
&lt;NAME&gt; <br>
Delete an existing LOCAL group (also known as Alias).</p>

<p style="margin-top: 1em">SAM MAPUNIXGROUP &lt;NAME&gt;
<br>
Map an existing Unix group and make it a Domain Group, the
domain group will have the same name.</p>

<p style="margin-top: 1em">SAM UNMAPUNIXGROUP &lt;NAME&gt;
<br>
Remove an existing group mapping entry.</p>

<p style="margin-top: 1em">SAM ADDMEM &lt;GROUP&gt;
&lt;MEMBER&gt; <br>
Add a member to a Local group. The group can be specified
only by name, the member can be specified by name or
SID.</p>

<p style="margin-top: 1em">SAM DELMEM &lt;GROUP&gt;
&lt;MEMBER&gt; <br>
Remove a member from a Local group. The group and the member
must be specified by name.</p>

<p style="margin-top: 1em">SAM LISTMEM &lt;GROUP&gt; <br>
List Local group members. The group must be specified by
name.</p>

<p style="margin-top: 1em">SAM LIST
&lt;users|groups|localgroups|builtin|workstations&gt;
[verbose] <br>
List the specified set of accounts by name. If verbose is
specified, the rid and description is also provided for each
account.</p>

<p style="margin-top: 1em">SAM RIGHTS LIST <br>
List all available privileges.</p>

<p style="margin-top: 1em">SAM RIGHTS GRANT &lt;NAME&gt;
&lt;PRIVILEGE&gt; <br>
Grant one or more privileges to a user.</p>

<p style="margin-top: 1em">SAM RIGHTS REVOKE &lt;NAME&gt;
&lt;PRIVILEGE&gt; <br>
Revoke one or more privileges from a user.</p>

<p style="margin-top: 1em">SAM SHOW &lt;NAME&gt; <br>
Show the full DOMAIN\NAME the SID and the type for the
corresponding account.</p>

<p style="margin-top: 1em">SAM SET HOMEDIR &lt;NAME&gt;
&lt;DIRECTORY&gt; <br>
Set the home directory for a user account.</p>

<p style="margin-top: 1em">SAM SET PROFILEPATH &lt;NAME&gt;
&lt;PATH&gt; <br>
Set the profile path for a user account.</p>

<p style="margin-top: 1em">SAM SET COMMENT &lt;NAME&gt;
&lt;COMMENT&gt; <br>
Set the comment for a user or group account.</p>

<p style="margin-top: 1em">SAM SET FULLNAME &lt;NAME&gt;
&lt;FULL NAME&gt; <br>
Set the full name for a user account.</p>

<p style="margin-top: 1em">SAM SET LOGONSCRIPT &lt;NAME&gt;
&lt;SCRIPT&gt; <br>
Set the logon script for a user account.</p>

<p style="margin-top: 1em">SAM SET HOMEDRIVE &lt;NAME&gt;
&lt;DRIVE&gt; <br>
Set the home drive for a user account.</p>

<p style="margin-top: 1em">SAM SET WORKSTATIONS
&lt;NAME&gt; &lt;WORKSTATIONS&gt; <br>
Set the workstations a user account is allowed to log in
from.</p>

<p style="margin-top: 1em">SAM SET DISABLE &lt;NAME&gt;
<br>
Set the &quot;disabled&quot; flag for a user account.</p>

<p style="margin-top: 1em">SAM SET PWNOTREQ &lt;NAME&gt;
<br>
Set the &quot;password not required&quot; flag for a user
account.</p>

<p style="margin-top: 1em">SAM SET AUTOLOCK &lt;NAME&gt;
<br>
Set the &quot;autolock&quot; flag for a user account.</p>

<p style="margin-top: 1em">SAM SET PWNOEXP &lt;NAME&gt;
<br>
Set the &quot;password do not expire&quot; flag for a user
account.</p>

<p style="margin-top: 1em">SAM SET PWDMUSTCHANGENOW
&lt;NAME&gt; [yes|no] <br>
Set or unset the &quot;password must change&quot; flag for a
user account.</p>

<p style="margin-top: 1em">SAM POLICY LIST <br>
List the available account policies.</p>

<p style="margin-top: 1em">SAM POLICY SHOW &lt;account
policy&gt; <br>
Show the account policy value.</p>

<p style="margin-top: 1em">SAM POLICY SET &lt;account
policy&gt; &lt;value&gt; <br>
Set a value for the account policy. Valid values can be:
&quot;forever&quot;, &quot;never&quot;, &quot;off&quot;, or
a number.</p>

<p style="margin-top: 1em">SAM PROVISION <br>
Only available if ldapsam:editposix is set and winbindd is
running. Properly populates the ldap tree with the basic
accounts (Administrator) and groups (Domain Users, Domain
<br>
Admins, Domain Guests) on the ldap tree.</p>

<p style="margin-top: 1em">IDMAP DUMP &lt;local tdb file
name&gt; <br>
Dumps the mappings contained in the local tdb file
specified. This command is useful to dump only the mappings
produced by the idmap_tdb backend.</p>

<p style="margin-top: 1em">IDMAP RESTORE [input file] <br>
Restore the mappings from the specified file or stdin.</p>

<p style="margin-top: 1em">IDMAP SET SECRET &lt;DOMAIN&gt;
&lt;secret&gt; <br>
Store a secret for the specified domain, used primarily for
domains that use idmap_ldap as a backend. In this case the
secret is used as the password for the user DN used to bind
<br>
to the ldap server.</p>

<p style="margin-top: 1em">IDMAP SET RANGE &lt;RANGE&gt;
&lt;SID&gt; [index] [--db=&lt;DB&gt;] <br>
Store a domain-range mapping for a given domain (and index)
in autorid database.</p>

<p style="margin-top: 1em">IDMAP SET CONFIG &lt;config&gt;
[--db=&lt;DB&gt;] <br>
Update CONFIG entry in autorid database.</p>

<p style="margin-top: 1em">IDMAP GET RANGE &lt;SID&gt;
[index] [--db=&lt;DB&gt;] <br>
Get the range for a given domain and index from autorid
database.</p>

<p style="margin-top: 1em">IDMAP GET RANGES [&lt;SID&gt;]
[--db=&lt;DB&gt;] <br>
Get ranges for all domains or for one identified by given
SID.</p>

<p style="margin-top: 1em">IDMAP GET CONFIG
[--db=&lt;DB&gt;] <br>
Get CONFIG entry from autorid database.</p>

<p style="margin-top: 1em">IDMAP DELETE MAPPING [-f]
[--db=&lt;DB&gt;] &lt;ID&gt; <br>
Delete a mapping sid &lt;-&gt; gid or sid &lt;-&gt; uid from
the IDMAP database. The mapping is given by &lt;ID&gt; which
may either be a sid: S-x-..., a gid: &quot;GID number&quot;
or a uid: &quot;UID number&quot;. <br>
Use -f to delete an invalid partial mapping &lt;ID&gt; -&gt;
xx</p>

<p style="margin-top: 1em">Use &quot;smbcontrol all idmap
...&quot; to notify running smbd instances. See the
smbcontrol(1) manpage for details.</p>

<p style="margin-top: 1em">IDMAP DELETE RANGE [-f]
[--db=&lt;TDB&gt;] &lt;RANGE&gt;|(&lt;SID&gt;
[&lt;INDEX&gt;]) <br>
Delete a domain range mapping identified by
&rsquo;RANGE&rsquo; or &quot;domain SID and INDEX&quot; from
autorid database. Use -f to delete invalid mappings.</p>

<p style="margin-top: 1em">IDMAP DELETE RANGES [-f]
[--db=&lt;TDB&gt;] &lt;SID&gt; <br>
Delete all domain range mappings for a domain identified by
SID. Use -f to delete invalid mappings.</p>

<p style="margin-top: 1em">IDMAP CHECK [-v] [-r] [-a] [-T]
[-f] [-l] [--db=&lt;DB&gt;] <br>
Check and repair the IDMAP database. If no option is given a
read only check of the database is done. Among others an
interactive or automatic repair mode may be chosen with one
<br>
of the following options:</p>

<p style="margin-top: 1em">-r|--repair <br>
Interactive repair mode, ask a lot of questions.</p>

<p style="margin-top: 1em">-a|--auto <br>
Noninteractive repair mode, use default answers.</p>

<p style="margin-top: 1em">-v|--verbose <br>
Produce more output.</p>

<p style="margin-top: 1em">-f|--force <br>
Try to apply changes, even if they do not apply cleanly.</p>

<p style="margin-top: 1em">-T|--test <br>
Dry run, show what changes would be made but don&rsquo;t
touch anything.</p>

<p style="margin-top: 1em">-l|--lock <br>
Lock the database while doing the check.</p>

<p style="margin-top: 1em">--db &lt;DB&gt; <br>
Check the specified database.</p>

<p style="margin-top: 1em">It reports about the finding of
the following errors:</p>

<p style="margin-top: 1em">Missing reverse mapping: <br>
A record with mapping A-&gt;B where there is no B-&gt;A.
Default action in repair mode is to &quot;fix&quot; this by
adding the reverse mapping.</p>

<p style="margin-top: 1em">Invalid mapping: <br>
A record with mapping A-&gt;B where B-&gt;C. Default action
is to &quot;delete&quot; this record.</p>

<p style="margin-top: 1em">Missing or invalid HWM: <br>
A high water mark is not at least equal to the largest ID in
the database. Default action is to &quot;fix&quot; this by
setting it to the largest ID found +1.</p>

<p style="margin-top: 1em">Invalid record: <br>
Something we failed to parse. Default action is to
&quot;edit&quot; it in interactive and &quot;delete&quot; it
in automatic mode.</p>

<p style="margin-top: 1em">USERSHARE <br>
Starting with version 3.0.23, a Samba server now supports
the ability for non-root users to add user defined shares to
be exported using the &quot;net usershare&quot;
commands.</p>

<p style="margin-top: 1em">To set this up, first set up
your smb.conf by adding to the [global] section: usershare
path = /usr/local/samba/lib/usershares Next create the
directory <br>
/usr/local/samba/lib/usershares, change the owner to root
and set the group owner to the UNIX group who should have
the ability to create usershares, for example a group called
<br>
&quot;serverops&quot;. Set the permissions on
/usr/local/samba/lib/usershares to 01770. (Owner and group
all access, no access for others, plus the sticky bit, which
means that a file in <br>
that directory can be renamed or deleted only by the owner
of the file). Finally, tell smbd how many usershares you
will allow by adding to the [global] section of smb.conf a
<br>
line such as : usershare max shares = 100. To allow 100
usershare definitions. Now, members of the UNIX group
&quot;serverops&quot; can create user defined shares on
demand using the <br>
commands below.</p>

<p style="margin-top: 1em">The usershare commands are: <br>
net usershare add sharename path [comment [acl]
[guest_ok=[y|n]]] - to add or change a user defined share.
<br>
net usershare delete sharename - to delete a user defined
share. <br>
net usershare info [-l|--long] [wildcard sharename] - to
print info about a user defined share. <br>
net usershare list [-l|--long] [wildcard sharename] - to
list user defined shares.</p>

<p style="margin-top: 1em">USERSHARE ADD sharename path
[comment] [acl] [guest_ok=[y|n]] <br>
Add or replace a new user defined share, with name
&quot;sharename&quot;.</p>

<p style="margin-top: 1em">&quot;path&quot; specifies the
absolute pathname on the system to be exported. Restrictions
may be put on this, see the global smb.conf parameters:
&quot;usershare owner only&quot;, &quot;usershare <br>
prefix allow list&quot;, and &quot;usershare prefix deny
list&quot;.</p>

<p style="margin-top: 1em">The optional &quot;comment&quot;
parameter is the comment that will appear on the share when
browsed to by a client.</p>

<p style="margin-top: 1em">The optional &quot;acl&quot;
field specifies which users have read and write access to
the entire share. Note that guest connections are not
allowed unless the smb.conf parameter <br>
&quot;usershare allow guests&quot; has been set. The
definition of a user defined share acl is:
&quot;user:permission&quot;, where user is a valid username
on the system and permission can be &quot;F&quot;, <br>
&quot;R&quot;, or &quot;D&quot;. &quot;F&quot; stands for
&quot;full permissions&quot;, ie. read and write
permissions. &quot;D&quot; stands for &quot;deny&quot; for a
user, ie. prevent this user from accessing this share.
&quot;R&quot; stands for <br>
&quot;read only&quot;, ie. only allow read access to this
share (no creation of new files or directories or writing to
files).</p>

<p style="margin-top: 1em">The default if no
&quot;acl&quot; is given is &quot;Everyone:R&quot;, which
means any authenticated user has read-only access.</p>

<p style="margin-top: 1em">The optional
&quot;guest_ok&quot; has the same effect as the parameter of
the same name in smb.conf, in that it allows guest access to
this user defined share. This parameter is only <br>
allowed if the global parameter &quot;usershare allow
guests&quot; has been set to true in the smb.conf.</p>

<p style="margin-top: 1em">There is no separate command to
modify an existing user defined share, just use the
&quot;net usershare add [sharename]&quot; command using the
same sharename as the one you wish to modify <br>
and specify the new options you wish. The Samba smbd daemon
notices user defined share modifications at connect time so
will see the change immediately, there is no need to <br>
restart smbd on adding, deleting or changing a user defined
share.</p>

<p style="margin-top: 1em">USERSHARE DELETE sharename <br>
Deletes the user defined share by name. The Samba smbd
daemon immediately notices this change, although it will not
disconnect any users currently connected to the deleted
share.</p>

<p style="margin-top: 1em">USERSHARE INFO [-l|--long]
[wildcard sharename] <br>
Get info on user defined shares owned by the current user
matching the given pattern, or all users.</p>

<p style="margin-top: 1em">net usershare info on its own
dumps out info on the user defined shares that were created
by the current user, or restricts them to share names that
match the given wildcard <br>
pattern (&rsquo;*&rsquo; matches one or more characters,
&rsquo;?&rsquo; matches only one character). If the
&rsquo;-l&rsquo; or &rsquo;--long&rsquo; option is also
given, it prints out info on user defined shares created by
<br>
other users.</p>

<p style="margin-top: 1em">The information given about a
share looks like: [foobar] path=/home/jeremy comment=testme
usershare_acl=Everyone:F guest_ok=n And is a list of the
current settings of the user <br>
defined share that can be modified by the &quot;net
usershare add&quot; command.</p>

<p style="margin-top: 1em">USERSHARE LIST [-l|--long]
wildcard sharename <br>
List all the user defined shares owned by the current user
matching the given pattern, or all users.</p>

<p style="margin-top: 1em">net usershare list on its own
list out the names of the user defined shares that were
created by the current user, or restricts the list to share
names that match the given <br>
wildcard pattern (&rsquo;*&rsquo; matches one or more
characters, &rsquo;?&rsquo; matches only one character). If
the &rsquo;-l&rsquo; or &rsquo;--long&rsquo; option is also
given, it includes the names of user defined shares <br>
created by other users.</p>

<p style="margin-top: 1em">[RPC] CONF <br>
Starting with version 3.2.0, a Samba server can be
configured by data stored in registry. This configuration
data can be edited with the new &quot;net conf&quot;
commands. There is also <br>
the possibility to configure a remote Samba server by
enabling the RPC conf mode and specifying the address of the
remote server.</p>

<p style="margin-top: 1em">The deployment of this
configuration data can be activated in two levels from the
smb.conf file: Share definitions from registry are activated
by setting registry shares to &acirc;yes&acirc; <br>
in the [global] section and global configuration options are
activated by setting include = registry in the [global]
section for a mixed configuration or by setting config <br>
backend = registry in the [global] section for a
registry-only configuration. See the smb.conf(5) manpage for
details.</p>

<p style="margin-top: 1em">The conf commands are: <br>
net [rpc] conf list - Dump the complete configuration in
smb.conf like format. <br>
net [rpc] conf import - Import configuration from file in
smb.conf format. <br>
net [rpc] conf listshares - List the registry shares. <br>
net [rpc] conf drop - Delete the complete configuration from
registry. <br>
net [rpc] conf showshare - Show the definition of a registry
share. <br>
net [rpc] conf addshare - Create a new registry share. <br>
net [rpc] conf delshare - Delete a registry share. <br>
net [rpc] conf setparm - Store a parameter. <br>
net [rpc] conf getparm - Retrieve the value of a parameter.
<br>
net [rpc] conf delparm - Delete a parameter. <br>
net [rpc] conf getincludes - Show the includes of a share
definition. <br>
net [rpc] conf setincludes - Set includes for a share. <br>
net [rpc] conf delincludes - Delete includes from a share
definition.</p>

<p style="margin-top: 1em">[RPC] CONF LIST <br>
Print the configuration data stored in the registry in a
smb.conf-like format to standard output.</p>

<p style="margin-top: 1em">[RPC] CONF IMPORT [--test|-T]
filename [section] <br>
This command imports configuration from a file in smb.conf
format. If a section encountered in the input file is
present in registry, its contents is replaced. Sections of
<br>
registry configuration that have no counterpart in the input
file are not affected. If you want to delete these, you will
have to use the &quot;net conf drop&quot; or &quot;net conf
delshare&quot; <br>
commands. Optionally, a section may be specified to restrict
the effect of the import command to that specific section. A
test mode is enabled by specifying the parameter
&quot;-T&quot; on <br>
the commandline. In test mode, no changes are made to the
registry, and the resulting configuration is printed to
standard output instead.</p>

<p style="margin-top: 1em">[RPC] CONF LISTSHARES <br>
List the names of the shares defined in registry.</p>

<p style="margin-top: 1em">[RPC] CONF DROP <br>
Delete the complete configuration data from registry.</p>

<p style="margin-top: 1em">[RPC] CONF SHOWSHARE sharename
<br>
Show the definition of the share or section specified. It is
valid to specify &quot;global&quot; as sharename to retrieve
the global configuration options from registry.</p>

<p style="margin-top: 1em">[RPC] CONF ADDSHARE sharename
path [writeable={y|N} [guest_ok={y|N} [comment]]] <br>
Create a new share definition in registry. The sharename and
path have to be given. The share name may not be
&quot;global&quot;. Optionally, values for the very common
options <br>
&quot;writeable&quot;, &quot;guest ok&quot; and a
&quot;comment&quot; may be specified. The same result may be
obtained by a sequence of &quot;net conf setparm&quot;
commands.</p>

<p style="margin-top: 1em">[RPC] CONF DELSHARE sharename
<br>
Delete a share definition from registry.</p>

<p style="margin-top: 1em">[RPC] CONF SETPARM section
parameter value <br>
Store a parameter in registry. The section may be global or
a sharename. The section is created if it does not exist
yet.</p>

<p style="margin-top: 1em">[RPC] CONF GETPARM section
parameter <br>
Show a parameter stored in registry.</p>

<p style="margin-top: 1em">[RPC] CONF DELPARM section
parameter <br>
Delete a parameter stored in registry.</p>

<p style="margin-top: 1em">[RPC] CONF GETINCLUDES section
<br>
Get the list of includes for the provided section (global or
share).</p>

<p style="margin-top: 1em">Note that due to the nature of
the registry database and the nature of include directives,
the includes need special treatment: Parameters are stored
in registry by the parameter <br>
name as valuename, so there is only ever one instance of a
parameter per share. Also, a specific order like in a text
file is not guaranteed. For all real parameters, this is
<br>
perfectly ok, but the include directive is rather a meta
parameter, for which, in the smb.conf text file, the place
where it is specified between the other parameters is very
<br>
important. This can not be achieved by the simple registry
smbconf data model, so there is one ordered list of includes
per share, and this list is evaluated after all the <br>
parameters of the share.</p>

<p style="margin-top: 1em">Further note that currently,
only files can be included from registry configuration. In
the future, there will be the ability to include
configuration data from other registry <br>
keys.</p>

<p style="margin-top: 1em">[RPC] CONF SETINCLUDES section
[filename]+ <br>
Set the list of includes for the provided section (global or
share) to the given list of one or more filenames. The
filenames may contain the usual smb.conf macros like %I.</p>

<p style="margin-top: 1em">[RPC] CONF DELINCLUDES section
<br>
Delete the list of includes from the provided section
(global or share).</p>

<p style="margin-top: 1em">REGISTRY <br>
Manipulate Samba&rsquo;s registry.</p>

<p style="margin-top: 1em">The registry commands are: <br>
net registry enumerate - Enumerate registry keys and values.
<br>
net registry enumerate_recursive - Enumerate registry key
and its subkeys. <br>
net registry createkey - Create a new registry key. <br>
net registry deletekey - Delete a registry key. <br>
net registry deletekey_recursive - Delete a registry key
with subkeys. <br>
net registry getvalue - Print a registry value. <br>
net registry getvalueraw - Print a registry value (raw
format). <br>
net registry setvalue - Set a new registry value. <br>
net registry increment - Increment a DWORD registry value
under a lock. <br>
net registry deletevalue - Delete a registry value. <br>
net registry getsd - Get security descriptor. <br>
net registry getsd_sdd1 - Get security descriptor in sddl
format. <br>
net registry setsd_sdd1 - Set security descriptor from sddl
format string. <br>
net registry import - Import a registration entries (.reg)
file. <br>
net registry export - Export a registration entries (.reg)
file. <br>
net registry convert - Convert a registration entries (.reg)
file. <br>
net registry check - Check and repair a registry
database.</p>

<p style="margin-top: 1em">REGISTRY ENUMERATE key <br>
Enumerate subkeys and values of key.</p>

<p style="margin-top: 1em">REGISTRY ENUMERATE_RECURSIVE key
<br>
Enumerate values of key and its subkeys.</p>

<p style="margin-top: 1em">REGISTRY CREATEKEY key <br>
Create a new key if not yet existing.</p>

<p style="margin-top: 1em">REGISTRY DELETEKEY key <br>
Delete the given key and its values from the registry, if it
has no subkeys.</p>

<p style="margin-top: 1em">REGISTRY DELETEKEY_RECURSIVE key
<br>
Delete the given key and all of its subkeys and values from
the registry.</p>

<p style="margin-top: 1em">REGISTRY GETVALUE key name <br>
Output type and actual value of the value name of the given
key.</p>

<p style="margin-top: 1em">REGISTRY GETVALUERAW key name
<br>
Output the actual value of the value name of the given
key.</p>

<p style="margin-top: 1em">REGISTRY SETVALUE key name type
value ... <br>
Set the value name of an existing key. type may be one of
sz, multi_sz or dword. In case of multi_szvalue may be given
multiple times.</p>

<p style="margin-top: 1em">REGISTRY INCREMENT key name
[inc] <br>
Increment the DWORD value name of key by inc while holding a
g_lock. inc defaults to 1.</p>

<p style="margin-top: 1em">REGISTRY DELETEVALUE key name
<br>
Delete the value name of the given key.</p>

<p style="margin-top: 1em">REGISTRY GETSD key <br>
Get the security descriptor of the given key.</p>

<p style="margin-top: 1em">REGISTRY GETSD_SDDL key <br>
Get the security descriptor of the given key as a Security
Descriptor Definition Language (SDDL) string.</p>

<p style="margin-top: 1em">REGISTRY SETSD_SDDL keysd <br>
Set the security descriptor of the given key from a Security
Descriptor Definition Language (SDDL) string sd.</p>

<p style="margin-top: 1em">REGISTRY IMPORT file [--precheck
&lt;check-file&gt;] [opt] <br>
Import a registration entries (.reg) file.</p>

<p style="margin-top: 1em">The following options are
available:</p>

<p style="margin-top: 1em">--precheck check-file <br>
This is a mechanism to check the existence or non-existence
of certain keys or values specified in a precheck file
before applying the import file. The import file will only
<br>
be applied if the precheck succeeds.</p>

<p style="margin-top: 1em">The check-file follows the
normal registry file syntax with the following
semantics:</p>

<p style="margin-top: 1em">&Acirc;&middot; &lt;value
name&gt;=&lt;value&gt; checks whether the value exists and
has the given value.</p>

<p style="margin-top: 1em">&Acirc;&middot; &lt;value
name&gt;=- checks whether the value does not exist.</p>

<p style="margin-top: 1em">&Acirc;&middot; [key] checks
whether the key exists.</p>

<p style="margin-top: 1em">&Acirc;&middot; [-key] checks
whether the key does not exist.</p>

<p style="margin-top: 1em">REGISTRY EXPORT keyfile[opt]
<br>
Export a key to a registration entries (.reg) file.</p>

<p style="margin-top: 1em">REGISTRY CONVERT in out [[inopt]
outopt] <br>
Convert a registration entries (.reg) file in.</p>

<p style="margin-top: 1em">REGISTRY CHECK [-ravTl] [-o
&lt;ODB&gt;] [--wipe] [&lt;DB&gt;] <br>
Check and repair the registry database. If no option is
given a read only check of the database is done. Among
others an interactive or automatic repair mode may be chosen
with <br>
one of the following options</p>

<p style="margin-top: 1em">-r|--repair <br>
Interactive repair mode, ask a lot of questions.</p>

<p style="margin-top: 1em">-a|--auto <br>
Noninteractive repair mode, use default answers.</p>

<p style="margin-top: 1em">-v|--verbose <br>
Produce more output.</p>

<p style="margin-top: 1em">-T|--test <br>
Dry run, show what changes would be made but don&rsquo;t
touch anything.</p>

<p style="margin-top: 1em">-l|--lock <br>
Lock the database while doing the check.</p>

<p style="margin-top: 1em">--reg-version={1,2,3} <br>
Specify the format of the registry database. If not given it
defaults to the value of the binary or, if an registry.tdb
is explizitly stated at the commandline, to the value <br>
found in the INFO/version record.</p>

<p style="margin-top: 1em">[--db] &lt;DB&gt; <br>
Check the specified database.</p>

<p style="margin-top: 1em">-o|--output &lt;ODB&gt; <br>
Create a new registry database &lt;ODB&gt; instead of
modifying the input. If &lt;ODB&gt; is already existing
--wipe may be used to overwrite it.</p>

<p style="margin-top: 1em">--wipe <br>
Replace the registry database instead of modifying the input
or overwrite an existing output database.</p>

<p style="margin-top: 1em">EVENTLOG <br>
Starting with version 3.4.0 net can read, dump, import and
export native win32 eventlog files (usually *.evt). evt
files are used by the native Windows eventviewer tools.</p>

<p style="margin-top: 1em">The import and export of evt
files can only succeed when eventlog list is used in
smb.conf file. See the smb.conf(5) manpage for details.</p>

<p style="margin-top: 1em">The eventlog commands are: <br>
net eventlog dump - Dump a eventlog *.evt file on the
screen. <br>
net eventlog import - Import a eventlog *.evt into the samba
internal tdb based representation of eventlogs. <br>
net eventlog export - Export the samba internal tdb based
representation of eventlogs into an eventlog *.evt file.</p>

<p style="margin-top: 1em">EVENTLOG DUMP filename <br>
Prints a eventlog *.evt file to standard output.</p>

<p style="margin-top: 1em">EVENTLOG IMPORT filename
eventlog <br>
Imports a eventlog *.evt file defined by filename into the
samba internal tdb representation of eventlog defined by
eventlog. eventlog needs to part of the eventlog list
defined <br>
in smb.conf. See the smb.conf(5) manpage for details.</p>

<p style="margin-top: 1em">EVENTLOG EXPORT filename
eventlog <br>
Exports the samba internal tdb representation of eventlog
defined by eventlog to a eventlog *.evt file defined by
filename. eventlog needs to part of the eventlog list
defined <br>
in smb.conf. See the smb.conf(5) manpage for details.</p>

<p style="margin-top: 1em">DOM <br>
Starting with version 3.2.0 Samba has support for remote
join and unjoin APIs, both client and server-side. Windows
supports remote join capabilities since Windows 2000.</p>

<p style="margin-top: 1em">In order for Samba to be joined
or unjoined remotely an account must be used that is either
member of the Domain Admins group, a member of the local
Administrators group or a <br>
user that is granted the SeMachineAccountPrivilege
privilege.</p>

<p style="margin-top: 1em">The client side support for
remote join is implemented in the net dom commands which
are: <br>
net dom join - Join a remote computer into a domain. <br>
net dom unjoin - Unjoin a remote computer from a domain.
<br>
net dom renamecomputer - Renames a remote computer joined to
a domain.</p>

<p style="margin-top: 1em">DOM JOIN domain=DOMAIN ou=OU
account=ACCOUNT password=PASSWORD reboot <br>
Joins a computer into a domain. This command supports the
following additional parameters:</p>

<p style="margin-top: 1em">&Acirc;&middot; DOMAIN can be a
NetBIOS domain name (also known as short domain name) or a
DNS domain name for Active Directory Domains. As in Windows,
it is also possible to control which <br>
Domain Controller to use. This can be achieved by appending
the DC name using the &nbsp;separator character. Example:
MYDOMDC. The DOMAIN parameter cannot be NULL.</p>

<p style="margin-top: 1em">&Acirc;&middot; OU can be set to
a RFC 1779 LDAP DN, like
ou=mymachines,cn=Users,dc=example,dc=com in order to create
the machine account in a non-default LDAP container. This
optional <br>
parameter is only supported when joining Active Directory
Domains.</p>

<p style="margin-top: 1em">&Acirc;&middot; ACCOUNT defines
a domain account that will be used to join the machine to
the domain. This domain account needs to have sufficient
privileges to join machines.</p>

<p style="margin-top: 1em">&Acirc;&middot; PASSWORD defines
the password for the domain account defined with
ACCOUNT.</p>

<p style="margin-top: 1em">&Acirc;&middot; REBOOT is an
optional parameter that can be set to reboot the remote
machine after successful join to the domain.</p>

<p style="margin-top: 1em">Note that you also need to use
standard net parameters to connect and authenticate to the
remote machine that you want to join. These additional
parameters include: -S computer <br>
and -U user.</p>

<p style="margin-top: 1em">Example: net dom join -S xp -U
XP\administrator%secret domain=MYDOM
account=MYDOM\administrator password=topsecret reboot.</p>

<p style="margin-top: 1em">This example would connect to a
computer named XP as the local administrator using password
secret, and join the computer into a domain called MYDOM
using the MYDOM domain <br>
administrator account and password topsecret. After
successful join, the computer would reboot.</p>

<p style="margin-top: 1em">DOM UNJOIN account=ACCOUNT
password=PASSWORD reboot <br>
Unjoins a computer from a domain. This command supports the
following additional parameters:</p>

<p style="margin-top: 1em">&Acirc;&middot; ACCOUNT defines
a domain account that will be used to unjoin the machine
from the domain. This domain account needs to have
sufficient privileges to unjoin machines.</p>

<p style="margin-top: 1em">&Acirc;&middot; PASSWORD defines
the password for the domain account defined with
ACCOUNT.</p>

<p style="margin-top: 1em">&Acirc;&middot; REBOOT is an
optional parameter that can be set to reboot the remote
machine after successful unjoin from the domain.</p>

<p style="margin-top: 1em">Note that you also need to use
standard net parameters to connect and authenticate to the
remote machine that you want to unjoin. These additional
parameters include: -S computer <br>
and -U user.</p>

<p style="margin-top: 1em">Example: net dom unjoin -S xp -U
XP\administrator%secret account=MYDOM\administrator
password=topsecret reboot.</p>

<p style="margin-top: 1em">This example would connect to a
computer named XP as the local administrator using password
secret, and unjoin the computer from the domain using the
MYDOM domain administrator <br>
account and password topsecret. After successful unjoin, the
computer would reboot.</p>

<p style="margin-top: 1em">DOM RENAMECOMPUTER
newname=NEWNAME account=ACCOUNT password=PASSWORD reboot
<br>
Renames a computer that is joined to a domain. This command
supports the following additional parameters:</p>

<p style="margin-top: 1em">&Acirc;&middot; NEWNAME defines
the new name of the machine in the domain.</p>

<p style="margin-top: 1em">&Acirc;&middot; ACCOUNT defines
a domain account that will be used to rename the machine in
the domain. This domain account needs to have sufficient
privileges to rename machines.</p>

<p style="margin-top: 1em">&Acirc;&middot; PASSWORD defines
the password for the domain account defined with
ACCOUNT.</p>

<p style="margin-top: 1em">&Acirc;&middot; REBOOT is an
optional parameter that can be set to reboot the remote
machine after successful rename in the domain.</p>

<p style="margin-top: 1em">Note that you also need to use
standard net parameters to connect and authenticate to the
remote machine that you want to rename in the domain. These
additional parameters <br>
include: -S computer and -U user.</p>

<p style="margin-top: 1em">Example: net dom renamecomputer
-S xp -U XP\administrator%secret newname=XPNEW
account=MYDOM\administrator password=topsecret reboot.</p>

<p style="margin-top: 1em">This example would connect to a
computer named XP as the local administrator using password
secret, and rename the joined computer to XPNEW using the
MYDOM domain administrator <br>
account and password topsecret. After successful rename, the
computer would reboot.</p>

<p style="margin-top: 1em">G_LOCK <br>
Manage global locks.</p>

<p style="margin-top: 1em">G_LOCK DO lockname timeout
command <br>
Execute a shell command under a global lock. This might be
useful to define the order in which several shell commands
will be executed. The locking information is stored in a
<br>
file called g_lock.tdb. In setups with CTDB running, the
locking information will be available on all cluster
nodes.</p>

<p style="margin-top: 1em">&Acirc;&middot; LOCKNAME defines
the name of the global lock.</p>

<p style="margin-top: 1em">&Acirc;&middot; TIMEOUT defines
the timeout.</p>

<p style="margin-top: 1em">&Acirc;&middot; COMMAND defines
the shell command to execute.</p>

<p style="margin-top: 1em">G_LOCK LOCKS <br>
Print a list of all currently existing locknames.</p>

<p style="margin-top: 1em">G_LOCK DUMP lockname <br>
Dump the locking table of a certain global lock.</p>

<p style="margin-top: 1em">HELP [COMMAND] <br>
Gives usage information for the specified command.</p>

<p style="margin-top: 1em">VERSION <br>
This man page is complete for version 3 of the Samba
suite.</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">The net manpage was written by
Jelmer Vernooij.</p>

<p style="margin-top: 1em">Samba 4.4 05/25/2017 NET(8)</p>
<hr>
</body>
</html>
