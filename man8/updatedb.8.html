<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>updatedb(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">updatedb(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">updatedb(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
updatedb - update a database for mlocate
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>updatedb</b> [<i>OPTION</i>]...
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>updatedb</b> creates or updates a database used by <b>locate</b>(1). If the
  database already exists, its data is reused to avoid rereading directories
  that have not changed.
<div style="height: 1.00em;">&#x00A0;</div>
<b>updatedb</b> is usually run daily by <b>cron</b>(8) to update the default
  database.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b>updatedb</b> returns with exit status 0 on success, 1 on error.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <b>PRUNE_BIND_MOUNTS</b>, <b>PRUNEFS</b>, <b>PRUNENAMES</b> and
  <b>PRUNEPATHS</b> variables, which are modified by some of the options, are
  documented in detail in <b>updatedb.conf</b>(5).
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--add-prunefs</b><b> </b><i>FS</i></dt>
  <dd class="It-tag">Add entries in white-space-separated list <i>FS</i> to
      <b>PRUNEFS</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--add-prunenames</b><b> </b><i>NAMES</i></dt>
  <dd class="It-tag">Add entries in white-space-separated list <i>NAMES</i> to
      <b>PRUNENAMES</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--add-prunepaths</b><b> </b><i>PATHS</i></dt>
  <dd class="It-tag">Add entries in white-space-separated list <i>PATHS</i> to
      <b>PRUNEPATHS</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>, <b>--database-root</b> <i>PATH</i></dt>
  <dd class="It-tag">Store only results of scanning the file system subtree
      rooted at <i>PATH</i> to the generated database. The whole file system is
      scanned by default.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>locate</b>(1) outputs entries as absolute path names which don't contain
      symbolic links, regardless of the form of <i>PATH</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-pruning</b></dt>
  <dd class="It-tag">Write debugging information about pruning decisions to
      standard error output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Write a summary of the available options to standard output
      and exit successfully.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>, <b>--output</b> <i>FILE</i></dt>
  <dd class="It-tag">Write the database to <i>FILE</i> instead of using the
      default database.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prune-bind-mounts</b> <i>FLAG</i></dt>
  <dd class="It-tag">Set <b>PRUNE_BIND_MOUNTS</b> to <i>FLAG</i>, overriding the
      configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prunefs</b> <i>FS</i></dt>
  <dd class="It-tag">Set <b>PRUNEFS</b> to <i>FS</i>, overriding the
      configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prunenames</b> <i>NAMES</i></dt>
  <dd class="It-tag">Set <b>PRUNENAMES</b> to <i>NAMES</i>, overriding the
      configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prunepaths</b> <i>PATHS</i></dt>
  <dd class="It-tag">Set <b>PRUNEPATHS</b> to <i>PATHS</i>, overriding the
      configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--require-visibility</b> <i>FLAG</i></dt>
  <dd class="It-tag">Set the &#x201C;require file visibility before reporting
      it&#x201D; flag in the generated database to <i>FLAG</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>FLAG</i> is <b>0</b> or <b>no</b>, or if the database file is readable
      by &quot;others&quot; or it is not owned by <b>slocate</b>,
      <b>locate</b>(1) outputs the database entries even if the user running
      <b>locate</b>(1) could not have read the directory necessary to find out
      the file described by the database entry.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>FLAG</i> is <b>1</b> or <b>yes</b> (the default), <b>locate</b>(1)
      checks the permissions of parent directories of each entry before
      reporting it to the invoking user. To make the file existence truly hidden
      from other users, the database group is set to <b>slocate</b> and the
      database permissions prohibit reading the database by users using other
      means than <b>locate</b>(1), which is set-gid <b>slocate</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that the visibility flag is checked only if the database is owned by
      <b>slocate</b> and it is not readable by &quot;others&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Output path names of files to standard output, as soon as
      they are found.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">Write information about the version and license of
      <b>locate</b> on standard output and exit successfully.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To create a private mlocate database as an user other than <b>root</b>, run
<div style="margin-left: 5.00ex;"><b>updatedb -l 0 -o</b> <i>db_file</i>
  <b>-U</b> <i>source_directory</i></div>
Note that all users that can read <i>db_file</i> can get the complete list of
  files in the subtree of <i>source_directory</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/updatedb.conf</b></dt>
  <dd class="It-tag">A configuration file. See <b>updatedb.conf</b>(5).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/var/lib/mlocate/mlocate.db</b></dt>
  <dd class="It-tag">The database updated by default.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SECURITY"><a class="selflink" href="#SECURITY">SECURITY</a></h1>
Databases built with <b>--require-visibility no</b> allow users to find names of
  files and directories of other users, which they would not otherwise be able
  to do.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The accompanying <b>locate</b>(1) utility was designed to be compatible to
  <b>slocate</b> and attempts to be compatible to <small>GNU</small>
  <b>locate</b> where possible. This is not the case for <b>updatedb</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Miloslav Trmac &lt;mitr@redhat.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>locate</b>(1), <b>mlocate.db</b>(5), <b>updatedb.conf</b>(5)</div>
<table class="foot">
  <tr>
    <td class="foot-date">Jun 2008</td>
    <td class="foot-os">mlocate</td>
  </tr>
</table>
</body>
</html>
