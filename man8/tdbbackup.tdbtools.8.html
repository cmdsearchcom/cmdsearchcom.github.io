<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:16:52 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TDBBACKUP(8) System Administration tools
TDBBACKUP(8)</p>

<p style="margin-top: 1em">NAME <br>
tdbbackup - tool for backing up and for validating the
integrity of samba .tdb files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
tdbbackup [-s suffix] [-v] [-h] [-l]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(1) suite.</p>

<p style="margin-top: 1em">tdbbackup is a tool that may be
used to backup samba .tdb files. This tool may also be used
to verify the integrity of the .tdb files prior to samba
startup or during normal <br>
operation. If it finds file damage and it finds a prior
backup the backup file will be restored.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h <br>
Get help information.</p>

<p style="margin-top: 1em">-s suffix <br>
The -s option allows the administrator to specify a file
backup extension. This way it is possible to keep a history
of tdb backup files by using a new suffix for each <br>
backup.</p>

<p style="margin-top: 1em">-v <br>
The -v will check the database for damages (corrupt data)
which if detected causes the backup to be restored.</p>

<p style="margin-top: 1em">-l <br>
This options disables any locking, by passing TDB_NOLOCK to
tdb_open_ex(). Only use this for database files which are
not used by any other process! And also only if it is <br>
otherwise not possible to open the database, e.g. databases
which were created with mutex locking.</p>

<p style="margin-top: 1em">COMMANDS <br>
GENERAL INFORMATION</p>

<p style="margin-top: 1em">The tdbbackup utility can safely
be run at any time. It was designed so that it can be used
at any time to validate the integrity of tdb files, even
during Samba operation. <br>
Typical usage for the command will be:</p>

<p style="margin-top: 1em">tdbbackup [-s suffix] *.tdb</p>

<p style="margin-top: 1em">Before restarting samba the
following command may be run to validate .tdb files:</p>

<p style="margin-top: 1em">tdbbackup -v [-s suffix]
*.tdb</p>

<p style="margin-top: 1em">Samba .tdb files are stored in
various locations, be sure to run backup all .tdb file on
the system. Important files includes:</p>

<p style="margin-top: 1em">&Acirc;&middot; secrets.tdb -
usual location is in the /usr/local/samba/private directory,
or on some systems in /etc/samba.</p>

<p style="margin-top: 1em">&Acirc;&middot; passdb.tdb -
usual location is in the /usr/local/samba/private directory,
or on some systems in /etc/samba.</p>

<p style="margin-top: 1em">&Acirc;&middot; *.tdb located in
the /usr/local/samba/var directory or on some systems in the
/var/cache or /var/lib/samba directories.</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 3 of the Samba
suite.</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">The tdbbackup man page was
written by John H Terpstra.</p>

<p style="margin-top: 1em">Samba 3.6 2015-04-25
TDBBACKUP(8)</p>
<hr>
</body>
</html>
