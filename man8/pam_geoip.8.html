<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:21 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>pam_geoip(8) pam_geoip(8)</p>

<p style="margin-top: 1em">NAME <br>
pam_geoip - GeoIP account management module for
(Linux-)PAM</p>

<p style="margin-top: 1em">SYNOPSIS <br>
account required pam_geoip.so [system_file=file]
[geoip_db=file] <br>
[charset=name] [action=name] [debug] [geoip6_db=file] <br>
[use_v6=1] [v6_first=1]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The pam_geoip module provides a check if the remote logged
in user is logged in from a given location. This is similar
to pam_access(8), but uses a GeoIP City or GeoIP Country
<br>
database instead of host name / IP matching.</p>

<p style="margin-top: 1em">The matching is done on given
country and city names or on distance from a given location.
With a country database only matches of the countries are
possible.</p>

<p style="margin-top: 1em">This PAM module provides the
account hook only.</p>

<p style="margin-top: 1em">If an IP is not found in the
GeoIP database, the location to match against is set to
&quot;UNKNOWN, *&quot;, no distance matching is possible for
these, of course.</p>

<p style="margin-top: 1em">NOTE: pam just receives a
hostname. When trying to find an IP for this name the
modules tries IPv4 first, then IPv6. This can be changed
with the &quot;v6_first=1&quot; switch.</p>

<p style="margin-top: 1em">IPv6 support is only available
with geoip v1.4.8 or greater, and is has to be enabled by
using the &quot;use_v6=1&quot; switch.</p>

<p style="margin-top: 1em">If a file named
/etc/security/geoip.SERVICE.conf (with SERVICE being the
name of the PAM service) can be opened, this is used instead
of the default /etc/security/geoip.conf.</p>

<p style="margin-top: 1em">The first matching entry in the
geoip.conf(5) file wins, i.e. the action given in this line
will be returned to PAM:</p>

<p style="margin-top: 1em">allow <br>
PAM_SUCCESS</p>

<p style="margin-top: 1em">deny <br>
PAM_PERM_DENIED</p>

<p style="margin-top: 1em">ignore <br>
PAM_IGNORE</p>

<p style="margin-top: 1em">OPTIONS <br>
These options may be given in the PAM config file as
parameters:</p>

<p style="margin-top: 1em">system_file=/path/to/geoip.conf
<br>
The configuration file for pam_geoip. Default is
/etc/security/geoip.conf. For the format of this file, see
geoip.conf(5).</p>

<p style="margin-top: 1em">NOTE: when a file
/etc/security/geoip.SERVICE.conf file is present, this
switch is ignored (with &quot;SERVICE&quot; being the name
of the PAM service, e.g. &quot;sshd&quot;).</p>

<p style="margin-top: 1em">geoip_db=/path/to/GeoIPCity.dat
<br>
The GeoIP database to use. Default:
/usr/local/share/GeoIP/GeoIPCity.dat. This must be a
&quot;GeoIP City Edition&quot; or a &quot;GeoIP Country
Edition&quot; file, see <br>
&lt;http://www.maxmind.com/en/city&gt;,
&lt;http://www.maxmind.com/en/city&gt; and
&lt;http://dev.maxmind.com/geoip/geolite&gt; for more
information.</p>


<p style="margin-top: 1em">geoip6_db=/path/to/GeoIPCityv6.dat
<br>
The GeoIP database to use. Default:
/usr/local/share/GeoIP/GeoIPCityv6.dat. This must be a
&quot;GeoIP City Edition IPv6&quot; or a &quot;GeoIP Country
Edition IPv6&quot; file, see above for <br>
more information.</p>

<p style="margin-top: 1em">use_v6=1 <br>
Use IPv6 DB.</p>

<p style="margin-top: 1em">v6_first=1 <br>
Try resolving as IPv6 before trying as IPv4 hostname.</p>

<p style="margin-top: 1em">charset=CHARSET <br>
The charset of the config file, defaults to
&quot;UTF-8&quot;. Other possible value is
&quot;iso-8859-1&quot; (case insensitive).</p>

<p style="margin-top: 1em">action=ACTION <br>
Sets the default action if no location matches. Default is
&quot;deny&quot;. Other possible values are
&quot;allow&quot; or &quot;ignore&quot;. For the meanigns of
these, see above.</p>

<p style="margin-top: 1em">debug <br>
Adds some debugging output to syslog.</p>

<p style="margin-top: 1em">FILES <br>
/etc/security/geoip.conf <br>
The default configuration file for this module</p>


<p style="margin-top: 1em">/etc/security/geoip.SERVICE.conf
<br>
The default configuration file for PAM service SERVICE</p>

<p style="margin-top: 1em">/etc/pam.d/* <br>
The PAM(7) configuration files</p>

<p style="margin-top: 1em">SEE ALSO <br>
geoip.conf(5), pam_access(8), pam.d(5), pam(7)</p>

<p style="margin-top: 1em">AUTHOR <br>
Hanno Hecker &quot;&lt;vetinari@ankh-morp.org&gt;&quot;</p>

<p style="margin-top: 1em">2016-05-04 pam_geoip(8)</p>
<hr>
</body>
</html>
