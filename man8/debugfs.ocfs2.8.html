<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>debugfs.ocfs2(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">debugfs.ocfs2(8)</td>
    <td class="head-vol">OCFS2 Manual Pages</td>
    <td class="head-rtitle">debugfs.ocfs2(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
debugfs.ocfs2 - OCFS2 file system debugger.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>debugfs.ocfs2</b> [<b>-f</b> <i>cmdfile</i>] [<b>-R</b> <i>command</i>]
  [<b>-s</b> <i>backup</i>] [<b>-nwV?</b>] [<i>device</i>]
<dl class="Bl-tag">
  <dt class="It-tag"><b>debugfs.ocfs2</b> <b>-l</b> [<i>tracebit</i> ...
    [<b>allow</b>| <b>off</b>|<b>deny</b>]] ...</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debugfs.ocfs2</b> <b>-d, --decode</b>
    <i>lockname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debugfs.ocfs2</b> <b>-e, --encode</b><b>
    </b><i>lock_type block_num [generation | parent]</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>debugfs.ocfs2</b> program is an interactive file system debugger useful
  in displaying on-disk <b>OCFS2</b> filesystem structures on the specified
  <i>device</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --decode</b> <i>lockname</i></dt>
  <dd class="It-tag">Display the information encoded in the <i>lockname</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --encode</b> <i>lock_type block_num [generation |
    parent]</i></dt>
  <dd class="It-tag">Display the lockname obtained by encoding the arguments
      provided.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --file</b> <i>cmdfile</i></dt>
  <dd class="It-tag">Executes the debugfs commands in <i>cmdfile</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --image</b></dt>
  <dd class="It-tag">Specifies device is an o2image file created by
      <i>o2image</i> tool.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> [<i>tracebit</i> ...
    [<b>allow</b>|<b>off</b>|<b>deny</b>]] ...</dt>
  <dd class="It-tag">Control <b>OCFS2</b> filesystem tracing by enabling and
      disabling trace bits. Do <i>debugfs.ocfs2 -l</i> to get the list of all
      trace bits.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --noprompt</b></dt>
  <dd class="It-tag">Hide prompt.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R, --request</b> <i>command</i></dt>
  <dd class="It-tag">Executes a single debugfs command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --superblock</b> <i>backup-number</i></dt>
  <dd class="It-tag"><i>mkfs.ocfs2</i> makes upto 6 backup copies of the
      superblock at offsets 1G, 4G, 16G, 64G, 256G and 1T depending on the size
      of the volume. Use this option to specify the backup, 1 thru 6, to use to
      open the volume.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w, --write</b></dt>
  <dd class="It-tag">Opens the filesystem in <i>RW</i> mode. By default the
      filesystem is opened in <i>RO</i> mode.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V, --version</b></dt>
  <dd class="It-tag">Display version and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?, --help</b></dt>
  <dd class="It-tag">Displays help and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SPECIFYING_FILES"><a class="selflink" href="#SPECIFYING_FILES">SPECIFYING
  FILES</a></h1>
Many <b>debugfs.ocfs2</b> commands take a <i>filespec</i> as an argument to
  specify an inode (as opposed to a pathname) in the filesystem which is
  currently opened by <b>debugfs.ocfs2</b>. The <i>filespec</i> argument may be
  specified in two forms. The first form is an inode number or lockname
  surrounded by angle brackets, e.g., &lt;32&gt;. The second form is a pathname;
  if the pathname is prefixed by a forward slash ('/'), then it is interpreted
  relative to the root of the filesystem which is currently opened by
  <b>debugfs.ocfs2</b>. If not, the path is interpreted relative to the current
  working directory as maintained by <b>debugfs.ocfs2</b>, which can be modified
  using the command <i>cd</i>. If the pathname is prefixed by a double forward
  slash ('//'), then it is interpreted relative to the root of the system
  directory of the filesystem opened by <b>debugfs.ocfs2</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LOCKNAMES"><a class="selflink" href="#LOCKNAMES">LOCKNAMES</a></h1>
Locknames are specially formatted strings used by the file system to uniquely
  identify objects in the filesystem. Most locknames used by <i>OCFS2</i> are
  generated using the inode number and its generation number and can be decoded
  using the <i>decode</i> command or used directly in place of an inode number
  in commands requiring a <i>filespec</i>. Like inode numbers, locknames need to
  be enclosed in angle brackets, e.g., &lt;M000000000000000040c40c044069cf&gt;.
  Use the <i>encode</i> command to generate all possible locknames for an
  object.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
This is a list of the commands which debugfs.ocfs2 supports.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>bmap filespec logical_block</i></dt>
  <dd class="It-tag">Display the physical block number corresponding to the
      logical block number <i>logical_block</i> in the inode <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>cat filespec</i></dt>
  <dd class="It-tag">Dump the contents of inode <i>filespec</i> to stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>cd filespec</i></dt>
  <dd class="It-tag">Change the current working directory to <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>chroot filespec</i></dt>
  <dd class="It-tag">Change the root directory to be the directory
      <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>close</i></dt>
  <dd class="It-tag">Close the currently opened filesystem.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>controld dump</i></dt>
  <dd class="It-tag">Display information obtained from ocfs2_controld.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>curdev</i></dt>
  <dd class="It-tag">Show the currently open device.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>decode &lt;lockname&gt;</i></dt>
  <dd class="It-tag">Display the inode number encoded in the <i>lockname</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dirblocks &lt;filespec&gt;</i></dt>
  <dd class="It-tag">Display the directory blocks associated with the given
      <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dlm_locks [-f &lt;file&gt;] [-l]
    [&lt;lockname(s)&gt;]...</i></dt>
  <dd class="It-tag">Display the status of all lock resources in the
      <i>o2dlm</i> domain that the file system is a member of. This command
      expects the debugfs filesystem to be mounted as <i>mount -t debugfs
      debugfs /sys/kernel/debug</i>. Use <i>lockname(s)</i> to limit the output
      to the given lock resources, <i>-l</i> to include contents of the lock
      value block and <i>-f &lt;file&gt;</i> to specify a saved copy of
      /sys/kernel/debug/o2dlm/&lt;DOMAIN&gt;/locking_state.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dump [-p] filespec outfile</i></dt>
  <dd class="It-tag">Dump the contents of the inode <i>filespec</i> to the
      output file <i>outfile</i>. If the <i>-p</i> is given, set the owner,
      group, timestamps and permissions information on <i>outfile</i> to match
      those of <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dx_dump filespec</i></dt>
  <dd class="It-tag">Display the indexed directory information for the given
      directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dx_leaf &lt;block#&gt;</i></dt>
  <dd class="It-tag">Display the contents of the given indexed directory leaf
      block.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dx_root &lt;block#&gt;</i></dt>
  <dd class="It-tag">Display the contents of the given indexed directory root
      block.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dx_space filespec</i></dt>
  <dd class="It-tag">Display the directory free space list.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>encode filespec</i></dt>
  <dd class="It-tag">Display the lockname for the <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>extent &lt;block#&gt;</i></dt>
  <dd class="It-tag">Display the contents of the extent structure at
      <i>block#</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>findpath [&lt;lockname&gt;|&lt;inode#&gt;]</i></dt>
  <dd class="It-tag">Display the pathname for the inode specified by
      <i>lockname</i> or <i>inode#</i>. This command does not display all the
      hard-linked paths for the inode.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>frag filespec</i></dt>
  <dd class="It-tag">Display the inode's number of extents to clusters ratio.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>fs_locks [-f &lt;file&gt;] [-l] [-B]
    [&lt;lockname(s)&gt;]...</i></dt>
  <dd class="It-tag">Display the status of all locks known by the file system.
      This command expects the debugfs filesystem to be mounted as <i>mount -t
      debugfs debugfs /sys/kernel/debug</i>. Use <i>lockname(s)</i> to limit the
      output to the given lock resources, <i>-B</i> to limit the output to only
      the busy locks, <i>-l</i> to include contents of the lock value block and
      <i>-f &lt;file&gt;</i> to specify a saved copy of
      /sys/kernel/debug/ocfs2/&lt;UUID&gt;/locking_state.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>group &lt;block#&gt;</i></dt>
  <dd class="It-tag">Display the contents of the group descriptor at
      <i>block#</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>grpextents &lt;block#&gt;</i></dt>
  <dd class="It-tag">Display free extents in the chain group.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>hb</i></dt>
  <dd class="It-tag">Display the contents of the heartbeat system file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>help, ?</i></dt>
  <dd class="It-tag">Print the list of commands understood by
      <b>debugfs.ocfs2</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>icheck block# ...</i></dt>
  <dd class="It-tag">Display the inodes that use the one or more blocks
      specified on the command line. If the inode is a regular file, also
      display the corresponding logical block offset.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>lcd directory</i></dt>
  <dd class="It-tag">Change the current working directory of the
      <b>debugfs.ocfs2</b> process to the <i>directory</i> on the native
      filesystem.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>locate [&lt;lockname&gt;|&lt;inode#&gt;] ...</i></dt>
  <dd class="It-tag">Display all pathnames for the inode(s) specified by
      <i>lockname</i>s or <i>inode#</i>s.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>logdump [-T] slot#</i></dt>
  <dd class="It-tag">Display the contents of the journal for slot <i>slot#</i>.
      Use <i>-T</i> to limit the output to just the summary of the inodes in the
      journal.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>ls [-l] filespec</i></dt>
  <dd class="It-tag">Print the listing of the files in the directory
      <i>filespec</i>. The <i>-l</i> flag will list files in the long format.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>net_stats [-f &lt;file&gt;] [interval [count]]</i></dt>
  <dd class="It-tag">Display the net statistics. This command expects the
      debugfs filesystem to be mounted at <i>/sys/kernel/debug</i>. The
      <i>interval</i> is in seconds. Use the <i>-f</i> parameter to specify a
      saved copy of /sys/kernel/debug/o2net/stats.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>ncheck [&lt;lockname&gt;|&lt;inode#&gt;] ...</i></dt>
  <dd class="It-tag">See <i>locate</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>open device</i></dt>
  <dd class="It-tag">Open the filesystem on <i>device</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>quit, q</i></dt>
  <dd class="It-tag">Quit <b>debugfs.ocfs2</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>rdump [-v] filespec outdir</i></dt>
  <dd class="It-tag">Recursively dump directory <i>filespec</i> and all its
      contents (including regular files, symbolic links and other directories)
      into the <i>outdir</i> which should be an existing directory on the native
      filesystem.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>refcount [-e] filespec</i></dt>
  <dd class="It-tag">Display the refcount block, and optionally its tree, of the
      specified inode.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>slotmap</i></dt>
  <dd class="It-tag">Display the contents of the <i>slotmap</i> system file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>stat [-t|-T] filespec</i></dt>
  <dd class="It-tag">Display the contents of the inode structure for the
      <i>filespec</i>. The <i>-t</i> (&quot;traverse&quot;) option selects
      traversal of the inode's metadata. The extent tree, chain list, or other
      extra metadata will be dumped. This is the default. The <i>-T</i> option
      turns off traversal to reduce the I/O required when basic inode
      information is needed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>stat_sysdir</i></dt>
  <dd class="It-tag">Display the contents of all objects in the system
      directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>stats [-h] [-s backup-number]</i></dt>
  <dd class="It-tag">Display the contents of the superblock. Use <i>-s</i> to
      display a specific backup superblock. Use <i>-h</i> to hide the inode.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>xattr [-v] &lt;filespec&gt;</i></dt>
  <dd class="It-tag">Display extended attributes associated with the given
      <i>filespec</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ACKNOWLEDGEMENT"><a class="selflink" href="#ACKNOWLEDGEMENT">ACKNOWLEDGEMENT</a></h1>
This tool has been modelled after <b>debugfs</b>, a debugging tool for ext2.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>fsck.ocfs2(8)</b> <b>fsck.ocfs2.checks(8)</b> <b>mkfs.ocfs2(8)</b>
  <b>mount.ocfs2(8)</b> <b>mounted.ocfs2(8)</b> <b>o2cluster(8)</b>
  <b>o2image(8)</b> <b>o2info(1)</b> <b>ocfs2(7)</b> <b>tunefs.ocfs2(8)</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Oracle Corporation
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2004, 2012 Oracle. All rights reserved.</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 2012</td>
    <td class="foot-os">Version 1.8.4</td>
  </tr>
</table>
</body>
</html>
