<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:39 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>arc-blahp-logger(8) NorduGrid Toolkit
arc-blahp-logger(8)</p>

<p style="margin-top: 1em">NAME <br>
arc-blahp-logger - ARC authplugin to store BLAH accouting
logs about FINISHED jobs</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ARC BLAH logger is an authplugin to store FINISHED jobs
information in log files used by BLAH parser. Generated logs
can be used by APEL/DGAS client tools to send accounting
<br>
information.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
arc-blahp-logger -I &lt;jobID&gt; -U &lt;user&gt; -P
&lt;proxy file&gt; -L &lt;job status file&gt; [-c &lt;ceid
prefix&gt;] [-p &lt;log prefix&gt; ] [-d &lt;log
level&gt;]</p>

<p style="margin-top: 1em">OPTIONS <br>
-I jobID <br>
A-REX job identifier</p>

<p style="margin-top: 1em">-U user <br>
local account that own the job files and processes</p>

<p style="margin-top: 1em">-P user proxy <br>
path to user proxy certificate file to get VOMS membership
info</p>

<p style="margin-top: 1em">-L job status file <br>
A-REX jobstatus .local file containint more info about job
(like LRMS id)</p>

<p style="margin-top: 1em">-c ceid prefix <br>
prefix to generate CE ID in accordance to GLUE1.3
publishing</p>

<p style="margin-top: 1em">-p log prefix <br>
logs location and filename prefix. Default is
/var/log/arc/accounting/blahp.log</p>

<p style="margin-top: 1em">-d loglevel <br>
logging level from 0(ERROR) to 5(DEBUG)</p>

<p style="margin-top: 1em">ENABLING PLUGIN IN A-REX
CONFIGURATION <br>
You need to add BLAH logger plugin as a handler for FINISHED
state, e.g.:</p>

<p style="margin-top: 1em">authplugin=&quot;FINISHED
timeout=10,onfailure=pass /usr/libexec/arc/arc-blahp-logger
-I %I -U %u -L %C/job.%I.local -P %C/job.%I.proxy&quot;</p>

<p style="margin-top: 1em">CONFIGURATION <br>
There are no particular plugin configuration except passing
correct options.</p>

<p style="margin-top: 1em">By default BLAH log is written
to /var/log/arc/accounting/blahp.log-YYYYMMDD. The log
prefix (without -YYYYMMDD) can be redefined with optional -p
option.</p>

<p style="margin-top: 1em">CE ID is generated automatically
and has a format host.fqdn:2811/nordugrid-torque-queue in
accordance to GLUE1.3 publishing. Queue is added in runtime
anyway, but prefix can be <br>
redefined with -c option. This option should be added in
case of LRMS.</p>

<p style="margin-top: 1em">To debug logger execution you
can add -d 5 option and see all ARC logger output from all
subsystems used.</p>

<p style="margin-top: 1em">AUTHOR <br>
Andrii Salnikov &lt;manf at grid dot org dot ua&gt;</p>

<p style="margin-top: 1em">NorduGrid 5.3.2 2014-02-20
arc-blahp-logger(8)</p>
<hr>
</body>
</html>
