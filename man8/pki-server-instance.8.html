<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:38 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>pki-server-instance(8) PKI Instance Management Commands
pki-server-instance(8)</p>

<p style="margin-top: 1em">NAME <br>
pki-server-instance - Command-Line Interface for managing
Certificate System instances.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pki-server [CLI options] instance <br>
pki-server [CLI options] instance-cert <br>
pki-server [CLI options] instance-cert-export <br>
pki-server [CLI options] instance-find <br>
pki-server [CLI options] instance-show &lt;instance ID&gt;
<br>
pki-server [CLI options] instance-start &lt;instance ID&gt;
<br>
pki-server [CLI options] instance-stop &lt;instance ID&gt;
<br>
pki-server [CLI options] instance-migrate --tomcat
&lt;version&gt; &lt;instance ID&gt; <br>
pki-server [CLI options] instance-nuxwdog-enable
&lt;instance ID&gt; <br>
pki-server [CLI options] instance-nuxwdog-disable
&lt;instance ID&gt; <br>
pki-server [CLI options] instance-externalcert-add -i
&lt;instance ID&gt; <br>
--cert-file &lt;path&gt; --trust-args &lt;args&gt;
--nickname &lt;nickname&gt; --token &lt;token&gt; <br>
pki-server [CLI options] instance-externalcert-del -i
&lt;instance ID&gt; <br>
--nickname &lt;nickname&gt; --token &lt;token&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The pki-server instance commands provide command-line
interfaces to manage Certificate Server (CS) instances. A
Certificate Server instance consists of a single Apache
Tomcat <br>
instance that contains one or more CS subsystems.</p>

<p style="margin-top: 1em">Operations that are available
include: listing and showing details about local instances;
starting and stopping instances; performing instance
migrations; and enabling or dis&acirc; <br>
abling password prompted instance startup using nuxwdog.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance <br>
This command is to list available instance commands.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-cert <br>
This command is to list available instance certificate
commands.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-cert-export <br>
This command is to export system certificates and keys to a
PKCS #12 file. The output filename and either a password or
a password file are required. If no nicknames are <br>
specified, all the system certificates will be exported.
Otherwise, it is possible to extract individual certificates
(with or without their keys and trust arguments), and <br>
to append to an existing PKCS #12 file.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-find <br>
This command is to list local CS instances.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-show &lt;instance ID&gt; <br>
This command is to view a details about a particular
instance.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-start &lt;instance ID&gt; <br>
This command is to start a CS instance. Note that currently
this command cannot be used to start nuxwdog-enabled
instances.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-stop &lt;instance ID&gt; <br>
This command is to stop a CS instance. Note that currently
this command cannot be used to stop nuxwdog-enabled
instances.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-migrate --tomcat &lt;version&gt;
&lt;instance_ID&gt; <br>
There are differences in configuration between Apache Tomcat
7 and Apache Tomcat 8. This command reconfigures a CS
instance to match the specified Tomcat version. This
com&acirc; <br>
mand can be used to migrate initially created under Tomcat 7
when Tomcat is upgraded.. See pki-server migrate(8) for
further details.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-nuxwdog-enable &lt;instance ID&gt; <br>
This command is to convert a CS instance to start without
access to a password file, using the nuxwdog daemon. See
pki-server nuxwdog(8) for further details.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-nuxwdog-disable &lt;instance ID&gt; <br>
This command is to convert a CS instance to start with
access to a password file, rather than using the nuxwdog
daemon. See pki-server nuxwdog(8) for further details.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-externalcert-add -i &lt;instance ID&gt; <br>
--cert-file &lt;path&gt; --trust-args &lt;args&gt;
--nickname &lt;nickname&gt; --token &lt;token&gt; <br>
This command is to add a certificate to the certificate
database for a CS instance. The certificate will be kept
track of in the configuration file external_certs.conf, and
<br>
will automatically be exported when the system certificates
are exported. To update a certificate, the old one needs to
be removed first using the delete command below.</p>

<p style="margin-top: 1em">The trust arguments are those
defined for NSS databases eg. &quot;C,c,c&quot;. See
certutil(1) for more details.</p>

<p style="margin-top: 1em">pki-server [CLI options]
instance-externalcert-del -i &lt;instance ID&gt; <br>
--nickname &lt;nickname&gt; --token &lt;token&gt; <br>
This command is to remove a certificate from the certificate
database for a CS instance.</p>

<p style="margin-top: 1em">OPTIONS <br>
The CLI options are described in pki-server(8).</p>

<p style="margin-top: 1em">OPERATIONS <br>
To view available instance management commands, type
pki-server instance. To view each command&rsquo;s usage,
type pki-server instance-&lt;command&gt; --help.</p>

<p style="margin-top: 1em">All pki-server commands must be
executed as the system administrator.</p>

<p style="margin-top: 1em">AUTHORS <br>
Ade Lee &lt;alee@redhat.com&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 2015 Red Hat, Inc. This is licensed under the
GNU General Public License, version 2 (GPLv2). A copy of
this license is available at
http://www.gnu.org/licenses/old- <br>
licenses/gpl-2.0.txt.</p>

<p style="margin-top: 1em">version 10.2 July 15, 2015
pki-server-instance(8)</p>
<hr>
</body>
</html>
