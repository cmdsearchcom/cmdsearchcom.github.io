<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>cimtrust(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">cimtrust(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">cimtrust(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cimtrust - Add, remove or list X509 certificates in a PEM format trust store.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>cimtrust</b> -a [ -U certuser ] -f file -T ( a | e | s )
<div style="height: 1.00em;">&#x00A0;</div>
<b>cimtrust</b> -r -i issuer ( -n serialnumber | -S subject )
<div style="height: 1.00em;">&#x00A0;</div>
<b>cimtrust</b> -l [ -i issuer [ -n serialnumber | -S subject ] ]
<div style="height: 1.00em;">&#x00A0;</div>
<b>cimtrust</b> --help
<div style="height: 1.00em;">&#x00A0;</div>
<b>cimtrust</b> --version
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Remarks"><a class="selflink" href="#Remarks">Remarks</a></h2>
The cimtrust command requires that the cimserver is running. This command
  operates on a truststore on the local system only.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The add option of the cimtrust command adds an X509 certificate file of a
  specified type to the truststore. The certuser specifies the username to be
  associated with the certificate in the file. If no certuser is specified, the
  certificate may not be used to authenticate a user.
<div class="Pp"></div>
The remove option of the cimtrust command removes the X509 certificate(s)
  matching the specified <b>issuer</b> and either <b>serialnumber</b> or
  <b>subject</b> from the truststore.
<div class="Pp"></div>
The list option of the cimtrust command lists the X509 certificates in the
  truststore. The list can be filtered by <b>issuer</b> and either
  <b>serialnumber</b> or <b>subject.</b>
<div class="Pp"></div>
Certificates in the trust store may be revoked by adding a Certificate
  Revocation List to the CRL store. For more information on CRL operations see
  the <b>cimcrl(8)</b> command.
<h2 class="Ss" title="Ss" id="Options"><a class="selflink" href="#Options">Options</a></h2>
<b>cimtrust</b> recognizes the following options:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">Adds a certificate to the truststore. If the specified
      <b>file</b> does not contain a valid X509 certificate an error message is
      returned and no action is taken. If the X509 certificate already exists in
      the truststore, an error message is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Removes certificate(s) from the truststore. If the
      truststore contains multiple certificates matching the specified
      <b>issuer</b> and <b>subject,</b> all the matching certificates are
      removed. If no certificate exists for the specified <b>issuer</b> and
      either <b>serialnumber</b> or <b>subject</b> , an error message is
      returned and no action is taken.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">Displays the X509 certificates in the truststore.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f file</b></dt>
  <dd class="It-tag">Specifies a PEM format file containing an X509
    certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U certuser</b></dt>
  <dd class="It-tag">Specifies a username to be associated with the specified
      certificate. The username specified should be a valid system user on the
      target system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i issuer</b></dt>
  <dd class="It-tag">Specifies the issuer name of the certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n serialnumber</b></dt>
  <dd class="It-tag">Specifies the serial number of the certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S subject</b></dt>
  <dd class="It-tag">Specifies the subject name of the certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T ( a | e | s )</b></dt>
  <dd class="It-tag">Specifies the type of a certificate. The type must be one
      of the following:
    <div style="height: 1.00em;">&#x00A0;</div>
    authority (a): root/intermediate authority certificates. Certificates of
      this type are added to the trusted certificate store. The certuser is
      optional for authority certificates. If no certuser is specified, the
      certificate may not be used to authenticate a user.
    <div style="height: 1.00em;">&#x00A0;</div>
    authority issued end-entity (e): Certificates of this type are not added to
      the trusted certificate store. The certuser is required for authority
      issued end-entity certificates.
    <div style="height: 1.00em;">&#x00A0;</div>
    Self-signed identity certificate (s): Certificates of this type are added to
      the trusted certificate store. The certuser is required for self-signed
      identity certificates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Displays the command help message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Displays the CIM Server version.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
When an error occurs, an error message is written to the standard error stream
  and a non-zero exit status value is returned. The following exit status values
  are defined:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">Success</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">General error</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">Connection failed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>3</b></dt>
  <dd class="It-tag">Connection timed out</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>4</b></dt>
  <dd class="It-tag">Certificate already exists</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>5</b></dt>
  <dd class="It-tag">Certificate does not exist</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>6</b></dt>
  <dd class="It-tag">Invalid system user</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Add the X509 self-signed identity certificate in the cert.pem file and associate
  it to certuser guest. This certificate will be added to the trusted
  certificate store:
<div style="height: 1.00em;">&#x00A0;</div>
cimtrust -a -U guest -f cert.pem -T s
<div style="height: 1.00em;">&#x00A0;</div>
Add the X509 authority root CA certificate in the ca.pem file with no certuser
  association. This certificate will be added to the trusted certificate store
  but may not be used to authenticate a user:
<div style="height: 1.00em;">&#x00A0;</div>
cimtrust -a -f ca.pem -T a
<div style="height: 1.00em;">&#x00A0;</div>
Add the X509 authority issued end-entity certificate in the user.pem file and
  associate it to certuser pegasus. This certificate may be used to authenticate
  user pegasus but will not be added to the trusted certificate store:
<div style="height: 1.00em;">&#x00A0;</div>
cimtrust -a -f user.pem -U pegasus -T e
<div style="height: 1.00em;">&#x00A0;</div>
Remove the certificate matching the specified issuer and serialnumber from the
  trust store:
<div style="height: 1.00em;">&#x00A0;</div>
cimtrust -r -i &quot;/C=US/ST=California/L=Cupertino/O=Smart &amp;
  Secure/OU=Secure Software Division/CN=dev.admin.ss.com&quot; -n 01
<div style="height: 1.00em;">&#x00A0;</div>
Remove the certificate(s) matching the specified issuer and subject from the
  trust store:
<div style="height: 1.00em;">&#x00A0;</div>
cimtrust -r -i &quot;/C=US/ST=California/L=Cupertino/O=Smart &amp;
  Secure/OU=Secure Software Division/CN=dev.admin.ss.com&quot; -S
  &quot;/C=US/ST=California/L=Cupertino/O=Smart &amp; Secure/OU=Secure Software
  Division/CN=dev.admin.ss.com&quot;
<div style="height: 1.00em;">&#x00A0;</div>
List all the X509 certificates in the trust store:
<div style="height: 1.00em;">&#x00A0;</div>
cimtrust -l
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
cimserver(8), cimcrl(8), cimconfig(8).</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
