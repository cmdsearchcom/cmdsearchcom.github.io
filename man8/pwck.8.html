<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PWCK(8) System Management Commands PWCK(8)</p>

<p style="margin-top: 1em">NAME <br>
pwck - verify integrity of password files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pwck [options] [passwd [ shadow ]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The pwck command verifies the integrity of the users and
authentication information. It checks that all entries in
/etc/passwd and /etc/shadow have the proper format and
contain <br>
valid data. The user is prompted to delete entries that are
improperly formatted or which have other uncorrectable
errors.</p>

<p style="margin-top: 1em">Checks are made to verify that
each entry has:</p>

<p style="margin-top: 1em">&Acirc;&middot; the correct
number of fields</p>

<p style="margin-top: 1em">&Acirc;&middot; a unique and
valid user name</p>

<p style="margin-top: 1em">&Acirc;&middot; a valid user and
group identifier</p>

<p style="margin-top: 1em">&Acirc;&middot; a valid primary
group</p>

<p style="margin-top: 1em">&Acirc;&middot; a valid home
directory</p>

<p style="margin-top: 1em">&Acirc;&middot; a valid login
shell</p>

<p style="margin-top: 1em">shadow checks are enabled when a
second file parameter is specified or when /etc/shadow
exists on the system.</p>

<p style="margin-top: 1em">These checks are the
following:</p>

<p style="margin-top: 1em">&Acirc;&middot; every passwd
entry has a matching shadow entry, and every shadow entry
has a matching passwd entry</p>

<p style="margin-top: 1em">&Acirc;&middot; passwords are
specified in the shadowed file</p>

<p style="margin-top: 1em">&Acirc;&middot; shadow entries
have the correct number of fields</p>

<p style="margin-top: 1em">&Acirc;&middot; shadow entries
are unique in shadow</p>

<p style="margin-top: 1em">&Acirc;&middot; the last
password changes are not in the future</p>

<p style="margin-top: 1em">The checks for correct number of
fields and unique user name are fatal. If the entry has the
wrong number of fields, the user will be prompted to delete
the entire line. If the <br>
user does not answer affirmatively, all further checks are
bypassed. An entry with a duplicated user name is prompted
for deletion, but the remaining checks will still be made.
<br>
All other errors are warning and the user is encouraged to
run the usermod command to correct the error.</p>

<p style="margin-top: 1em">The commands which operate on
the /etc/passwd file are not able to alter corrupted or
duplicated entries. pwck should be used in those
circumstances to remove the offending <br>
entry.</p>

<p style="margin-top: 1em">OPTIONS <br>
The -r and -s options cannot be combined.</p>

<p style="margin-top: 1em">The options which apply to the
pwck command are:</p>

<p style="margin-top: 1em">-h, --help <br>
Display help message and exit.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Report errors only. The warnings which do not require any
action from the user won&rsquo;t be displayed.</p>

<p style="margin-top: 1em">-r, --read-only <br>
Execute the pwck command in read-only mode.</p>

<p style="margin-top: 1em">-R, --root CHROOT_DIR <br>
Apply changes in the CHROOT_DIR directory and use the
configuration files from the CHROOT_DIR directory.</p>

<p style="margin-top: 1em">-s, --sort <br>
Sort entries in /etc/passwd and /etc/shadow by UID.</p>

<p style="margin-top: 1em">By default, pwck operates on the
files /etc/passwd and /etc/shadow. The user may select
alternate files with the passwd and shadow parameters.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
The following configuration variables in /etc/login.defs
change the behavior of this tool:</p>

<p style="margin-top: 1em">PASS_MAX_DAYS (number) <br>
The maximum number of days a password may be used. If the
password is older than this, a password change will be
forced. If not specified, -1 will be assumed (which disables
<br>
the restriction).</p>

<p style="margin-top: 1em">PASS_MIN_DAYS (number) <br>
The minimum number of days allowed between password changes.
Any password changes attempted sooner than this will be
rejected. If not specified, -1 will be assumed (which <br>
disables the restriction).</p>

<p style="margin-top: 1em">PASS_WARN_AGE (number) <br>
The number of days warning given before a password expires.
A zero means warning is given only upon the day of
expiration, a negative value means no warning is given. If
not <br>
specified, no warning will be provided.</p>

<p style="margin-top: 1em">FILES <br>
/etc/group <br>
Group account information.</p>

<p style="margin-top: 1em">/etc/passwd <br>
User account information.</p>

<p style="margin-top: 1em">/etc/shadow <br>
Secure user account information.</p>

<p style="margin-top: 1em">EXIT VALUES <br>
The pwck command exits with the following values:</p>

<p style="margin-top: 1em">0 <br>
success</p>

<p style="margin-top: 1em">1 <br>
invalid command syntax</p>

<p style="margin-top: 1em">2 <br>
one or more bad password entries</p>

<p style="margin-top: 1em">3 <br>
can&rsquo;t open password files</p>

<p style="margin-top: 1em">4 <br>
can&rsquo;t lock password files</p>

<p style="margin-top: 1em">5 <br>
can&rsquo;t update password files</p>

<p style="margin-top: 1em">6 <br>
can&rsquo;t sort password files</p>

<p style="margin-top: 1em">SEE ALSO <br>
group(5), grpck(8), passwd(5), shadow(5), usermod(8).</p>

<p style="margin-top: 1em">shadow-utils 4.1.5.1 11/05/2016
PWCK(8)</p>
<hr>
</body>
</html>
