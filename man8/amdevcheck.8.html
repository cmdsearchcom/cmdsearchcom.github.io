<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>AMDEVCHECK(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">AMDEVCHECK(8)</td>
    <td class="head-vol">System Administration Commands</td>
    <td class="head-rtitle">AMDEVCHECK(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
amdevcheck - Validate an Amanda device and volume.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 11.00ex; text-indent: -11.00ex;"><b>amdevcheck</b>
  [--label] [-properties&#x00A0; <i>list</i>]
  [<b>-o</b>&#x00A0;<i>configoption</i>...] <i>config</i>
  [<i>device-name</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Amdevcheck</b> provides a way to check that a particular Amanda device is
  accessible, whether or not it contains a volume, and whether or not that
  volume is labeled. Some devices can't distinguish between all of these cases;
  a missing volume and an unlabeled volume might generate the same error code,
  for example. In those cases, this tool reports all possible causes of the
  error. Optionally this tools lists the properties for the device.
<div class="Pp"></div>
See the <b>amanda</b>(8) man page for more details about Amanda. See
  <b>amanda-devices</b>(7) for more information on devices.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<i>config</i>
<div style="margin-left: 4.00ex;">Amanda configuration to use. Note that
  <b>amdevcheck</b> ignores any tape changer configuration.</div>
<div class="Pp"></div>
<i>device</i>
<div style="margin-left: 4.00ex;">Amanda device to use. This option overrides
  any tapedev configuration specified in the configuration file.</div>
<div class="Pp"></div>
<i>--label</i>
<div style="margin-left: 4.00ex;">Get the device's label. If this option is
  given, the usual check output is omitted, and the label of the loaded volume
  is printed to stdout. Returns with error if the label is not found.</div>
<div class="Pp"></div>
<i>--properties [list]</i>
<div style="margin-left: 4.00ex;">List device properties. If this option is
  given, the usual check output is omitted, and property values are printed to
  stdout, one per line, as a property name, followed by '=', followed by the
  property value. Returns with error if properties are not available.
<div style="height: 1.00em;">&#x00A0;</div>
If <i>list</i> is given, it is treated as a comma-separated list of properties
  to display. If it is omitted, all supported properties are displayed.</div>
<div class="Pp"></div>
<b>-o </b><b></b><i>configoption</i>
<div style="margin-left: 4.00ex;">See the &quot;CONFIGURATION OVERRIDE&quot;
  section in <b>amanda</b>(8).</div>
<h1 class="Sh" title="Sh" id="OUTPUT"><a class="selflink" href="#OUTPUT">OUTPUT</a></h1>
<b>amdevcheck</b> exit with code 0 if the device is working of if it get an
  expected error, look at the MESSAGE line for the error. It exit with code 1 if
  it get an unexpected error.
<div class="Pp"></div>
<b>Amdevcheck</b> returns one or more of the following lines. If multiple lines
  appear, then at least one, but not necessarily all of the messages apply. This
  situation can occur when working with hardware or operating systems which
  cannot distinguish, for example, between a malfunctioning drive and a
  functional but unloaded drive.
<div class="Pp"></div>
<b>SUCCESS</b>
<div style="margin-left: 4.00ex;">A tape is ready.</div>
<div class="Pp"></div>
<b>DEVICE_ERROR</b>
<div style="margin-left: 4.00ex;">A device error has occurred.</div>
<div class="Pp"></div>
<b>DEVICE_BUSY</b>
<div style="margin-left: 4.00ex;">The device is busy.</div>
<div class="Pp"></div>
<b>VOLUME_MISSING</b>
<div style="margin-left: 4.00ex;">No tape is loaded in the drive.</div>
<div class="Pp"></div>
<b>VOLUME_UNLABELED</b>
<div style="margin-left: 4.00ex;">The tape in the drive is unlabeled.</div>
<div class="Pp"></div>
<b>VOLUME_ERROR</b>
<div style="margin-left: 4.00ex;">A volume error has occurred.</div>
<div class="Pp"></div>
<b>MESSAGE</b> <i>text</i>
<div style="margin-left: 4.00ex;">Where text provides a human-readable
  description of the problem.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>amanda</b>(8), <b>amanda-devices</b>(7)
<div class="Pp"></div>
The Amanda Wiki: : http://wiki.zmanda.com/
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>Ian Turner</b> &lt;ian@zmanda.com&gt;
<div style="margin-left: 4.00ex;">Zmanda, Inc. (http://www.zmanda.com)</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">01/10/2013</td>
    <td class="foot-os">Amanda 3.3.3</td>
  </tr>
</table>
</body>
</html>
