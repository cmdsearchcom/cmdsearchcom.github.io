<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:26 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PAM_TTY_AUDIT(8) Linux-PAM Manual PAM_TTY_AUDIT(8)</p>

<p style="margin-top: 1em">NAME <br>
pam_tty_audit - Enable or disable TTY auditing for specified
users</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pam_tty_audit.so [disable=patterns] [enable=patterns]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The pam_tty_audit PAM module is used to enable or disable
TTY auditing. By default, the kernel does not audit input on
any TTY.</p>

<p style="margin-top: 1em">OPTIONS <br>
disable=patterns <br>
For each user matching one of comma-separated glob patterns,
disable TTY auditing. This overrides any previous enable
option matching the same user name on the command line.</p>

<p style="margin-top: 1em">enable=patterns <br>
For each user matching one of comma-separated glob patterns,
enable TTY auditing. This overrides any previous disable
option matching the same user name on the command line.</p>

<p style="margin-top: 1em">open_only <br>
Set the TTY audit flag when opening the session, but do not
restore it when closing the session. Using this option is
necessary for some services that don&rsquo;t fork() to run
the <br>
authenticated session, such as sudo.</p>

<p style="margin-top: 1em">log_passwd <br>
Log keystrokes when ECHO mode is off but ICANON mode is
active. This is the mode in which the tty is placed during
password entry. By default, passwords are not logged. This
<br>
option may not be available on older kernels (3.9?).</p>

<p style="margin-top: 1em">MODULE TYPES PROVIDED <br>
Only the session type is supported.</p>

<p style="margin-top: 1em">RETURN VALUES <br>
PAM_SESSION_ERR <br>
Error reading or modifying the TTY audit flag. See the
system log for more details.</p>

<p style="margin-top: 1em">PAM_SUCCESS <br>
Success.</p>

<p style="margin-top: 1em">NOTES <br>
When TTY auditing is enabled, it is inherited by all
processes started by that user. In particular, daemons
restarted by an user will still have TTY auditing enabled,
and audit <br>
TTY input even by other users unless auditing for these
users is explicitly disabled. Therefore, it is recommended
to use disable=* as the first option for most daemons using
<br>
PAM.</p>

<p style="margin-top: 1em">To view the data that was logged
by the kernel to audit use the command aureport --tty.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Audit all administrative actions.</p>

<p style="margin-top: 1em">session required
pam_tty_audit.so disable=* enable=root</p>

<p style="margin-top: 1em">SEE ALSO <br>
aureport(8), pam.conf(5), pam.d(5), pam(8)</p>

<p style="margin-top: 1em">AUTHOR <br>
pam_tty_audit was written by Miloslav Trma&Auml;
&lt;mitr@redhat.com&gt;. The log_passwd option was added by
Richard Guy Briggs &lt;rgb@redhat.com&gt;.</p>

<p style="margin-top: 1em">Linux-PAM Manual 09/04/2013
PAM_TTY_AUDIT(8)</p>
<hr>
</body>
</html>
