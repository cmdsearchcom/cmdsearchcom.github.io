<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:10:43 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>EDG-MKGRIDMAP(8) EDG-MKGRIDMAP(8)</p>

<p style="margin-top: 1em">NAME <br>
edg-mkgridmap - a tool to build the grid-mapfile</p>

<p style="margin-top: 1em">SYNOPSIS <br>
edg-mkgridmap [--help] [--version] <br>
[--conf=config_file] <br>
[--output[=output_file]] <br>
[--quiet] [--verbose] <br>
[--safe] [--nosafe] <br>
[--cache] [--nocache] <br>
[--proxy] [--noproxy] <br>
[--usermode]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
edg-mkgridmap is a tool to build the grid-mapfile from VO
servers, taking into account both VO and local policies.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
edg-mkgridmap.conf file contains configuration information
for edg-mkgridmap.</p>

<p style="margin-top: 1em">The syntax of the
edg-mkgridmap.conf file is discussed seperately. The
edg-mkgridmap.conf(5) documentation should be consulted for
detailed reference information.</p>

<p style="margin-top: 1em">The default location is
/etc/edg-mkgridmap.conf.</p>

<p style="margin-top: 1em">The file essentially consists of
a list of directives composed by a keyword and one or more
arguments. Optional arguments are put in square
brackets.</p>

<p style="margin-top: 1em">* group URI [lcluser] <br>
* default_lcluser default_lcluser <br>
* auth URI <br>
* allow&acirc;&ordf;deny pattern_to_match <br>
* gmf_local grid-mapfile-local</p>

<p style="margin-top: 1em">OPTIONS <br>
--help <br>
Print a summary of the command line options end exit.</p>

<p style="margin-top: 1em">--version <br>
Print the version of edg-mkgridmap end exit.</p>

<p style="margin-top: 1em">--conf=config_file <br>
Specifies the configuration file that is used by
edg-mkgridmap. If omitted, edg-mkgridmap checks
/var/lib/edg-mkgridmap/etc/edg-mkgridmap.conf to see if a
machine-specific <br>
configuration has been setup. If such a file is not present,
edg-mkgridmap uses the default configuration file
/etc/edg-mkgridmap.conf.</p>

<p style="margin-top: 1em">--output[=output_file] <br>
Specifies the output file. If omitted, stdout is used. If
the optional argument output_file is omitted, the value of
the environment variable GRIDMAP is used. If GRIDMAP is <br>
not set, then the default value
/etc/grid-security/grid-mapfile is used.</p>

<p style="margin-top: 1em">--quiet <br>
Turn off error messages.</p>

<p style="margin-top: 1em">--verbose <br>
Print lots of useful informations. Ignored if --quiet is
specified.</p>

<p style="margin-top: 1em">--safe, --nosafe <br>
Per group keep (--safe) or remove (--nosafe) the old
grid-mapfile entries that are not found back, when at least
one of the sources for that group directive had a problem.
<br>
Default is remove (--nosafe).</p>

<p style="margin-top: 1em">--cache, --nocache <br>
Disable (--cache) or enable (--nocache) the grid-mapfile
update when its contents remain unchanged. Default is enable
(--nocache).</p>

<p style="margin-top: 1em">--proxy, --noproxy <br>
Enable (--proxy) or disable (--noproxy) proxy support for
HTTP/HTTPS and VOMS/VOMSS connections. Default is disable
(--noproxy).</p>

<p style="margin-top: 1em">The proxy support must be
configured through appropriate environmental variables.</p>

<p style="margin-top: 1em">--usermode <br>
Facilitate running the script as an ordinary user by having
the relevant environment variables point to the user&rsquo;s
X509 proxy instead of using the personal certificate and
<br>
key. The user&rsquo;s proxy is taken from the
X509_USER_PROXY environment variable, if defined, else from
the default location /tmp/x509up_u$UID.</p>

<p style="margin-top: 1em">ERRORS <br>
In case of one or more errors, edg-mkgridmap returns an exit
code which is computed adding these possible values:</p>

<p style="margin-top: 1em">* 1 per group directive for
which a server could not be contacted.</p>

<p style="margin-top: 1em">* 16 <br>
error reading the configuration file.</p>

<p style="margin-top: 1em">* 32 <br>
error writing the grid-mapfile.</p>

<p style="margin-top: 1em">* 64 <br>
error with a group directive.</p>

<p style="margin-top: 1em">* 128 <br>
error with an auth directive.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
The --verbose option produces some useful diagnostics.</p>

<p style="margin-top: 1em">Any error message generated by
edg-mkgridmap is logged to the syslogd.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
EDG_MKGRIDMAP_OPTIONS <br>
Used to specify command line options.</p>

<p style="margin-top: 1em">GRIDMAP <br>
Used to determine the location of the grid-mapfile. If not
set, then the default value /etc/grid-security/grid-mapfile
is used.</p>

<p style="margin-top: 1em">CERTDIR <br>
Used to determine the directory containing CA certificates.
If not set, then the default value
/etc/grid-security/certificates is used.</p>

<p style="margin-top: 1em">X509_USER_CERT <br>
Used to determine the location of the host certificate. If
not set, then the default value
/etc/grid-security/hostcert.pem is used.</p>

<p style="margin-top: 1em">X509_USER_KEY <br>
Used to determine the location of the host private key. If
not set, then the default value
/etc/grid-security/hostkey.pem is used.</p>

<p style="margin-top: 1em">X509_USER_PROXY <br>
Used to determine the location of the user&rsquo;s proxy
when the --usermode option is given. If not set, the default
value /tmp/x509up_u$UID is used.</p>

<p style="margin-top: 1em">http_proxy <br>
Used to determine the proxy for HTTP connections. The syntax
is:</p>


<p style="margin-top: 1em">http_proxy=&quot;[http://]&lt;host&gt;:&lt;port&gt;&quot;</p>

<p style="margin-top: 1em">https_proxy <br>
Used to determine the proxy for HTTPS connections. The
syntax is:</p>


<p style="margin-top: 1em">https_proxy=&quot;[http://]&lt;host&gt;:&lt;port&gt;&quot;</p>

<p style="margin-top: 1em">EXAMPLES <br>
edg-mkgridmap</p>

<p style="margin-top: 1em">Writes the grid-mapfile to the
standard output.</p>

<p style="margin-top: 1em">edg-mkgridmap --output=-</p>

<p style="margin-top: 1em">Writes the grid-mapfile to the
standard output.</p>

<p style="margin-top: 1em">edg-mkgridmap --output</p>

<p style="margin-top: 1em">Writes the grid-mapfile to the
default location of the grid-mapfile.</p>

<p style="margin-top: 1em">edg-mkgridmap
--output=&lt;output_file&gt;</p>

<p style="margin-top: 1em">Writes the grid-mapfile to
&lt;output_file&gt;.</p>

<p style="margin-top: 1em">FILES <br>
/var/lib/edg-mkgridmap/etc/edg-mkgridmap.conf</p>

<p style="margin-top: 1em">/etc/edg-mkgridmap.conf</p>


<p style="margin-top: 1em">/usr/libexec/edg-mkgridmap/local-subject2user</p>

<p style="margin-top: 1em">SEE ALSO <br>
edg-mkgridmap.conf(5)</p>

<p style="margin-top: 1em">AUTHORS <br>
EU DataGrid Authorization Working Group, EGEE Middleware
Security Group, Maarten Litmaath (CERN/WLCG)</p>

<p style="margin-top: 1em">2011-04-03 EDG-MKGRIDMAP(8)</p>
<hr>
</body>
</html>
