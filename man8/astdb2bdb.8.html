<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ASTDB2BDB(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ASTDB2BDB(8)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">ASTDB2BDB(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
astdb2bdb - convert astdb back to Berkeley DB 1.86
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>cd <i>astvarlibdir</i><b> &amp;&amp; astdb2bdb path/to/astdb.sqlite3</b></b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Up until version version 11, Asterisk used an old version of the Berkeley DB
  1.86 (bdb) to store its internal persistent database. In version 11 it
  switched to using a SQLIte 3 database. This program is used to convert the
  newly-formatted SQLite 3 astdb back to bdb.
<div style="height: 1.00em;">&#x00A0;</div>
You may need it in case of reverting an upgrade or other similar scenarios.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
There is a single (and required) parameter: the path the the sqlite file. The
  output file will be a file called <b>astdb</b> in the current working
  directory.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
In case you want to revert an upgrade to Asterisk 11, you can do the following
  (while Asterisk is not running):
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 cd /var/lib/asterisk &amp;&amp; astdb2bdb astdb.sqlite3 &amp;&amp; rm
  astdb.sqlite3
<div style="height: 1.00em;">&#x00A0;</div>
This will convert the newly-formatted astdb back to the old format, and delete
  it (to avoid obsolete data copies).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Berkeley DB 1.86 is obsolete. It is incompatible with newer versions (4.x and
  newer) that you may see around. Chances are you don't have the tools to use it
  independently of Asterisk.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>astdb2sqlite3(8),</b> <b>asterisk(8)</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
astdb2bdb was written by Terry Wilson &lt;twilson@digium.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
This manual page was written by Tzafrir Cohen &lt;tzafrir.cohen@xorcom.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">30 SEPTEMBER 2013</td>
    <td class="foot-os">Asterisk 11</td>
  </tr>
</table>
</body>
</html>
