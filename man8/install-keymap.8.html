<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>INSTALL-KEYMAP(8) System Manager&rsquo;s Manual
INSTALL-KEYMAP(8)</p>

<p style="margin-top: 1em">NAME <br>
install-keymap &acirc; expand a given keymap and install it
as boot-time keymap</p>

<p style="margin-top: 1em">SYNOPSIS <br>
install-keymap [keymap-name | NONE | KERNEL]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
install-keymap usually takes a keymap-name as argument. The
file is passed to loadkeys for loading, so that valid values
for this argument are the same than that of arguments to
<br>
loadkeys. install-keymap expands include-like statements in
that file, and puts the result in
/etc/console/boottime.kmap.gz, which will be loaded into the
kernel at boot-time.</p>

<p style="margin-top: 1em">One may also specify KERNEL
instead of a keymap name, causing
/etc/console/boottime.kmap.gz to be removed, making sure
that no custom keymap will replace the kernel&rsquo;s
builtin <br>
keymap at next reboot.</p>

<p style="margin-top: 1em">An argument of NONE tells the
command to do nothing. It can be used by caller scripts to
avoid handling this special case and needlessly duplicate
code.</p>

<p style="margin-top: 1em">The purpose of this processing
is to solve an annoying problem, of 2 apparently conflicting
issues. The first one is an important goal of keymap
management in Debian, namely <br>
ensuring that whenever the user or admin is expected to use
the keyboard, the keymap selected as boot-time keymap is in
use; this means the keymap has to be loaded before a shell
<br>
is ever proposed, which means very early in the booting
process, and especially before all local filesystems are
mounted (/etc/rcS.d/S10checkroot.sh can spawn sulogin).</p>

<p style="margin-top: 1em">The second issue is that for
flexibility we allow that /usr or /usr/share may live on
their own partition(s), and thus /usr/share/keymaps, where
keymap files live, may not be <br>
available for reading at the time we need a keymap file. And
no, we won&rsquo;t put 1Mb of keymaps in the root partition
just for this.</p>

<p style="margin-top: 1em">And the problem is, most keymap
files are not self-contained, so it does not help to just
copy the selected file into the root partition. The best
known solution so far is to <br>
expand the keymap file so that it becomes self-contained,
and put it in the root partition. That&rsquo;s what this
tool does.</p>

<p style="margin-top: 1em">FILES <br>
/etc/console/boottime.kmap.gz</p>

<p style="margin-top: 1em">Where the boot-time keymap is
stored</p>

<p style="margin-top: 1em">SEE ALSO <br>
loadkeys (8).</p>

<p style="margin-top: 1em">AUTHOR <br>
This program and manual page were written by Yann Dirson
dirson@debian.org for the Debian GNU/Linux system, but as it
should not include any Debian-specific code, it may be used
<br>
by others.</p>
 
<p style="margin-top: 1em">INSTALL-KEYMAP(8)</p>
<hr>
</body>
</html>
