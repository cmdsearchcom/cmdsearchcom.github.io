<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SUDO(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SUDO(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">SUDO(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">sudo</b>, <b class="Nm" title="Nm">sudoedit</b>
  &#x2014; <span class="Nd" title="Nd">execute a command as another user</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sudo</b></td>
    <td><b class="Fl" title="Fl">-h</b> | <b class="Fl" title="Fl">-K</b> |
      <b class="Fl" title="Fl">-k</b> | <b class="Fl" title="Fl">-V</b></td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sudo</b></td>
    <td><b class="Fl" title="Fl">-v</b>
      [<span class="Op"><b class="Fl" title="Fl">-AknS</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-a</b>&#x00A0;<var class="Ar" title="Ar">auth_type</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-g</b>&#x00A0;<var class="Ar" title="Ar">group&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#gid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>&#x00A0;<var class="Ar" title="Ar">prompt</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-u</b>&#x00A0;<var class="Ar" title="Ar">user&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#uid</var></span>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sudo</b></td>
    <td><b class="Fl" title="Fl">-l</b>[<span class="Op"><var class="Ar" title="Ar">l</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-AknS</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-a</b>&#x00A0;<var class="Ar" title="Ar">auth_type</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-g</b>&#x00A0;<var class="Ar" title="Ar">group&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#gid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>&#x00A0;<var class="Ar" title="Ar">prompt</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-U</b>&#x00A0;<var class="Ar" title="Ar">user&#x00A0;name</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-u</b>&#x00A0;<var class="Ar" title="Ar">user&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#uid</var></span>]
      [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sudo</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-AbEHnPS</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-a</b>&#x00A0;<var class="Ar" title="Ar">auth_type</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-C</b>&#x00A0;<var class="Ar" title="Ar">fd</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-g</b>&#x00A0;<var class="Ar" title="Ar">group&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#gid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>&#x00A0;<var class="Ar" title="Ar">prompt</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-r</b>&#x00A0;<var class="Ar" title="Ar">role</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-t</b>&#x00A0;<var class="Ar" title="Ar">type</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-u</b>&#x00A0;<var class="Ar" title="Ar">user&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#uid</var></span>]
      [<span class="Op"><b class="Sy" title="Sy">VAR</b>=<var class="Ar" title="Ar">value</var></span>]
      <b class="Fl" title="Fl">-i</b> |&#x00A0;<b class="Fl" title="Fl">-s</b>
      [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sudoedit</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-AnS</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-a</b>&#x00A0;<var class="Ar" title="Ar">auth_type</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-C</b>&#x00A0;<var class="Ar" title="Ar">fd</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-g</b>&#x00A0;<var class="Ar" title="Ar">group&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#gid</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>&#x00A0;<var class="Ar" title="Ar">prompt</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-u</b>&#x00A0;<var class="Ar" title="Ar">user&#x00A0;name</var>&#x00A0;|&#x00A0;<var class="Ar" title="Ar">#uid</var></span>]
      file ...</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b class="Nm" title="Nm">sudo</b> allows a permitted user to execute a
  <var class="Ar" title="Ar">command</var> as the superuser or another user, as
  specified by the security policy.
<div class="Pp"></div>
<b class="Nm" title="Nm">sudo</b> supports a plugin architecture for security
  policies and input/output logging. Third parties can develop and distribute
  their own policy and I/O logging plugins to work seamlessly with the
  <b class="Nm" title="Nm">sudo</b> front end. The default security policy is
  <i class="Em" title="Em">sudoers</i>, which is configured via the file
  <i class="Pa" title="Pa">/etc/sudoers</i>, or via LDAP. See the
  <a class="Sx" title="Sx" href="#PLUGINS">PLUGINS</a> section for more
  information.
<div class="Pp"></div>
The security policy determines what privileges, if any, a user has to run
  <b class="Nm" title="Nm">sudo</b>. The policy may require that users
  authenticate themselves with a password or another authentication mechanism.
  If authentication is required, <b class="Nm" title="Nm">sudo</b> will exit if
  the user's password is not entered within a configurable time limit. This
  limit is policy-specific; the default password prompt timeout for the
  <i class="Em" title="Em">sudoers</i> security policy is
  <code class="Li">5</code> minutes.
<div class="Pp"></div>
Security policies may support credential caching to allow the user to run
  <b class="Nm" title="Nm">sudo</b> again for a period of time without requiring
  authentication. The <i class="Em" title="Em">sudoers</i> policy caches
  credentials for <code class="Li">5</code> minutes, unless overridden in
  <a class="Xr" title="Xr">sudoers(5)</a>. By running
  <b class="Nm" title="Nm">sudo</b> with the <b class="Fl" title="Fl">-v</b>
  option, a user can update the cached credentials without running a
  <var class="Ar" title="Ar">command</var>.
<div class="Pp"></div>
When invoked as <b class="Nm" title="Nm">sudoedit</b>, the
  <b class="Fl" title="Fl">-e</b> option (described below), is implied.
<div class="Pp"></div>
Security policies may log successful and failed attempts to use
  <b class="Nm" title="Nm">sudo</b>. If an I/O plugin is configured, the running
  command's input and output may be logged as well.
<div class="Pp"></div>
The options are as follows:
<dl class="Bl-tag" style="margin-left: 15.00ex;">
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#A"><b class="Fl" title="Fl" id="A">-A</b></a></dt>
  <dd class="It-tag">Normally, if <b class="Nm" title="Nm">sudo</b> requires a
      password, it will read it from the user's terminal. If the
      <b class="Fl" title="Fl">-A</b> (<i class="Em" title="Em">askpass</i>)
      option is specified, a (possibly graphical) helper program is executed to
      read the user's password and output the password to the standard output.
      If the <code class="Ev" title="Ev">SUDO_ASKPASS</code> environment
      variable is set, it specifies the path to the helper program. Otherwise,
      if <i class="Pa" title="Pa">/etc/sudo.conf</i> contains a line specifying
      the askpass program, that value will be used. For example:
    <div class="Pp"></div>
    <div class="Bd" style="margin-left: 4.00ex;">
    <pre class="Li">
# Path to askpass helper program 
Path askpass /usr/X11R6/bin/ssh-askpass
    </pre>
    </div>
    <div class="Pp"></div>
    If no askpass program is available, <b class="Nm" title="Nm">sudo</b> will
      exit with an error.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#b"><b class="Fl" title="Fl" id="b">-b</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-b</b>
      (<i class="Em" title="Em">background</i>) option tells
      <b class="Nm" title="Nm">sudo</b> to run the given command in the
      background. Note that if you use the <b class="Fl" title="Fl">-b</b>
      option you cannot use shell job control to manipulate the process. Most
      interactive commands will fail to work properly in background mode.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#C"><b class="Fl" title="Fl" id="C">-C</b></a>
    <var class="Ar" title="Ar">fd</var></dt>
  <dd class="It-tag">Normally, <b class="Nm" title="Nm">sudo</b> will close all
      open file descriptors other than standard input, standard output and
      standard error. The <b class="Fl" title="Fl">-C</b>
      (<i class="Em" title="Em">close from</i>) option allows the user to
      specify a starting point above the standard error (file descriptor three).
      Values less than three are not permitted. The security policy may restrict
      the user's ability to use the <b class="Fl" title="Fl">-C</b> option. The
      <i class="Em" title="Em">sudoers</i> policy only permits use of the
      <b class="Fl" title="Fl">-C</b> option when the administrator has enabled
      the <i class="Em" title="Em">closefrom_override</i> option.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#E"><b class="Fl" title="Fl" id="E">-E</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-E</b>
      (<i class="Em" title="Em">preserve environment</i>) option indicates to
      the security policy that the user wishes to preserve their existing
      environment variables. The security policy may return an error if the
      <b class="Fl" title="Fl">-E</b> option is specified and the user does not
      have permission to preserve the environment.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#e"><b class="Fl" title="Fl" id="e">-e</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-e</b>
      (<i class="Em" title="Em">edit</i>) option indicates that, instead of
      running a command, the user wishes to edit one or more files. In lieu of a
      command, the string &quot;sudoedit&quot; is used when consulting the
      security policy. If the user is authorized by the policy, the following
      steps are taken:
    <ol class="Bl-enum" style="margin-left: 1.00ex;">
      <li class="It-enum">Temporary copies are made of the files to be edited
          with the owner set to the invoking user.</li>
      <li class="It-enum">The editor specified by the policy is run to edit the
          temporary files. The <i class="Em" title="Em">sudoers</i> policy uses
          the <code class="Ev" title="Ev">SUDO_EDITOR</code>,
          <code class="Ev" title="Ev">VISUAL</code> and
          <code class="Ev" title="Ev">EDITOR</code> environment variables (in
          that order). If none of
          <code class="Ev" title="Ev">SUDO_EDITOR</code>,
          <code class="Ev" title="Ev">VISUAL</code> or
          <code class="Ev" title="Ev">EDITOR</code> are set, the first program
          listed in the <i class="Em" title="Em">editor</i>
          <a class="Xr" title="Xr">sudoers(5)</a> option is used.</li>
      <li class="It-enum">If they have been modified, the temporary files are
          copied back to their original location and the temporary versions are
          removed.</li>
    </ol>
    <div class="Pp"></div>
    If the specified file does not exist, it will be created. Note that unlike
      most commands run by <i class="Em" title="Em">sudo</i>, the editor is run
      with the invoking user's environment unmodified. If, for some reason,
      <b class="Nm" title="Nm">sudo</b> is unable to update a file with its
      edited version, the user will receive a warning and the edited copy will
      remain in a temporary file.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#g"><b class="Fl" title="Fl" id="g">-g</b></a>
    <var class="Ar" title="Ar">group</var></dt>
  <dd class="It-tag">Normally, <b class="Nm" title="Nm">sudo</b> runs a command
      with the primary group set to the one specified by the password database
      for the user the command is being run as (by default, root). The
      <b class="Fl" title="Fl">-g</b> (<i class="Em" title="Em">group</i>)
      option causes <b class="Nm" title="Nm">sudo</b> to run the command with
      the primary group set to <var class="Ar" title="Ar">group</var> instead.
      To specify a <i class="Em" title="Em">gid</i> instead of a
      <i class="Em" title="Em">group name</i>, use
      <i class="Em" title="Em">#gid</i>. When running commands as a
      <i class="Em" title="Em">gid</i>, many shells require that the
      &#x2018;<code class="Li">#</code>&#x2019; be escaped with a backslash
      (&#x2018;<code class="Li">\</code>&#x2019;). If no
      <b class="Fl" title="Fl">-u</b> option is specified, the command will be
      run as the invoking user (not root). In either case, the primary group
      will be set to <i class="Em" title="Em">group</i>.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#H"><b class="Fl" title="Fl" id="H">-H</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-H</b>
      (<i class="Em" title="Em">HOME</i>) option requests that the security
      policy set the <code class="Ev" title="Ev">HOME</code> environment
      variable to the home directory of the target user (root by default) as
      specified by the password database. Depending on the policy, this may be
      the default behavior.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-h</b>
      (<i class="Em" title="Em">help</i>) option causes
      <b class="Nm" title="Nm">sudo</b> to print a short help message to the
      standard output and exit.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#i"><b class="Fl" title="Fl" id="i">-i</b></a>
    [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-i</b>
      (<i class="Em" title="Em">simulate initial login</i>) option runs the
      shell specified by the password database entry of the target user as a
      login shell. This means that login-specific resource files such as
      <i class="Pa" title="Pa">.profile</i> or
      <i class="Pa" title="Pa">.login</i> will be read by the shell. If a
      command is specified, it is passed to the shell for execution via the
      shell's <b class="Fl" title="Fl">-c</b> option. If no command is
      specified, an interactive shell is executed.
      <b class="Nm" title="Nm">sudo</b> attempts to change to that user's home
      directory before running the shell. The security policy shall initialize
      the environment to a minimal set of variables, similar to what is present
      when a user logs in. The <i class="Em" title="Em">Command Environment</i>
      section in the <a class="Xr" title="Xr">sudoers(5)</a> manual documents
      how the <b class="Fl" title="Fl">-i</b> option affects the environment in
      which a command is run when the <i class="Em" title="Em">sudoers</i>
      policy is in use.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#K"><b class="Fl" title="Fl" id="K">-K</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-K</b>
      (<span class="No">sure</span> <i class="Em" title="Em">kill</i>) option is
      like <b class="Fl" title="Fl">-k</b> except that it removes the user's
      cached credentials entirely and may not be used in conjunction with a
      command or other option. This option does not require a password. Not all
      security policies support credential caching.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#k"><b class="Fl" title="Fl" id="k">-k</b></a>
    [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</dt>
  <dd class="It-tag">When used alone, the <b class="Fl" title="Fl">-k</b>
      (<i class="Em" title="Em">kill</i>) option to
      <b class="Nm" title="Nm">sudo</b> invalidates the user's cached
      credentials. The next time <b class="Nm" title="Nm">sudo</b> is run a
      password will be required. This option does not require a password and was
      added to allow a user to revoke <b class="Nm" title="Nm">sudo</b>
      permissions from a <i class="Pa" title="Pa">.logout</i> file. Not all
      security policies support credential caching.
    <div class="Pp"></div>
    When used in conjunction with a command or an option that may require a
      password, the <b class="Fl" title="Fl">-k</b> option will cause
      <b class="Nm" title="Nm">sudo</b> to ignore the user's cached credentials.
      As a result, <b class="Nm" title="Nm">sudo</b> will prompt for a password
      (if one is required by the security policy) and will not update the user's
      cached credentials.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#l"><b class="Fl" title="Fl" id="l">-l</b></a>[<span class="Op"><b class="Sy" title="Sy">l</b></span>]
    [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</dt>
  <dd class="It-tag">If no <var class="Ar" title="Ar">command</var> is
      specified, the <b class="Fl" title="Fl">-l</b>
      (<i class="Em" title="Em">list</i>) option will list the allowed (and
      forbidden) commands for the invoking user (or the user specified by the
      <b class="Fl" title="Fl">-U</b> option) on the current host. If a
      <var class="Ar" title="Ar">command</var> is specified and is permitted by
      the security policy, the fully-qualified path to the command is displayed
      along with any command line arguments. If
      <var class="Ar" title="Ar">command</var> is specified but not allowed,
      <b class="Nm" title="Nm">sudo</b> will exit with a status value of 1. If
      the <b class="Fl" title="Fl">-l</b> option is specified with an
      <var class="Ar" title="Ar">l</var> argument (i.e.
      <b class="Fl" title="Fl">-ll</b>), or if <b class="Fl" title="Fl">-l</b>
      is specified multiple times, a longer list format is used.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#n"><b class="Fl" title="Fl" id="n">-n</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-n</b>
      (<i class="Em" title="Em">non-interactive</i>) option prevents
      <b class="Nm" title="Nm">sudo</b> from prompting the user for a password.
      If a password is required for the command to run,
      <b class="Nm" title="Nm">sudo</b> will display an error message and
    exit.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#P"><b class="Fl" title="Fl" id="P">-P</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-P</b>
      (<i class="Em" title="Em">preserve group vector</i>) option causes
      <b class="Nm" title="Nm">sudo</b> to preserve the invoking user's group
      vector unaltered. By default, the <i class="Em" title="Em">sudoers</i>
      policy will initialize the group vector to the list of groups the target
      user is in. The real and effective group IDs, however, are still set to
      match the target user.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a>
    <var class="Ar" title="Ar">prompt</var></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-p</b>
      (<i class="Em" title="Em">prompt</i>) option allows you to override the
      default password prompt and use a custom one. The following percent
      (&#x2018;<code class="Li">%</code>&#x2019;) escapes are supported by the
      <i class="Em" title="Em">sudoers</i> policy:
    <dl class="Bl-tag" style="margin-left: 5.40ex;">
      <dt class="It-tag" style="margin-left: -5.40ex;"><a class="selflink" href="#%H"><code class="Li" id="%H">%H</code></a></dt>
      <dd class="It-tag">expanded to the host name including the domain name (on
          if the machine's host name is fully qualified or the
          <i class="Em" title="Em">fqdn</i> option is set in
          <a class="Xr" title="Xr">sudoers(5)</a>)</dd>
      <dt class="It-tag" style="margin-left: -5.40ex;"><a class="selflink" href="#%h"><code class="Li" id="%h">%h</code></a></dt>
      <dd class="It-tag">expanded to the local host name without the domain
        name</dd>
      <dt class="It-tag" style="margin-left: -5.40ex;"><a class="selflink" href="#%p"><code class="Li" id="%p">%p</code></a></dt>
      <dd class="It-tag">expanded to the name of the user whose password is
          being requested (respects the <i class="Em" title="Em">rootpw</i>,
          <i class="Em" title="Em">targetpw</i>, and
          <i class="Em" title="Em">runaspw</i> flags in
          <a class="Xr" title="Xr">sudoers(5)</a>)</dd>
      <dt class="It-tag" style="margin-left: -5.40ex;"><a class="selflink" href="#%U"><code class="Li" id="%U">%U</code></a></dt>
      <dd class="It-tag">expanded to the login name of the user the command will
          be run as (defaults to root unless the <b class="Fl" title="Fl">-u</b>
          option is also specified)</dd>
      <dt class="It-tag" style="margin-left: -5.40ex;"><a class="selflink" href="#%u"><code class="Li" id="%u">%u</code></a></dt>
      <dd class="It-tag">expanded to the invoking user's login name</dd>
      <dt class="It-tag" style="margin-left: -5.40ex;"><a class="selflink" href="#%%"><code class="Li" id="%%">%%</code></a></dt>
      <dd class="It-tag">two consecutive
          &#x2018;<code class="Li">%</code>&#x2019; characters are collapsed
          into a single &#x2018;<code class="Li">%</code>&#x2019; character</dd>
    </dl>
    <div class="Pp"></div>
    The prompt specified by the <b class="Fl" title="Fl">-p</b> option will
      override the system password prompt on systems that support PAM unless the
      <i class="Em" title="Em">passprompt_override</i> flag is disabled in
      <i class="Em" title="Em">sudoers</i>.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a>
    <var class="Ar" title="Ar">role</var></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-r</b>
      (<i class="Em" title="Em">role</i>) option causes the new (SELinux)
      security context to have the role specified by
      <var class="Ar" title="Ar">role</var>.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#S"><b class="Fl" title="Fl" id="S">-S</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-S</b>
      (<i class="Em" title="Em">stdin</i>) option causes
      <b class="Nm" title="Nm">sudo</b> to read the password from the standard
      input instead of the terminal device. The password must be followed by a
      newline character.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#s"><b class="Fl" title="Fl" id="s">-s</b></a>
    [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-s</b>
      (<i class="Em" title="Em">shell</i>) option runs the shell specified by
      the <code class="Ev" title="Ev">SHELL</code> environment variable if it is
      set or the shell as specified in the password database. If a command is
      specified, it is passed to the shell for execution via the shell's
      <b class="Fl" title="Fl">-c</b> option. If no command is specified, an
      interactive shell is executed.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#t"><b class="Fl" title="Fl" id="t">-t</b></a>
    <var class="Ar" title="Ar">type</var></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-t</b>
      (<i class="Em" title="Em">type</i>) option causes the new (SELinux)
      security context to have the type specified by
      <var class="Ar" title="Ar">type</var>. If no type is specified, the
      default type is derived from the specified role.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#U"><b class="Fl" title="Fl" id="U">-U</b></a>
    <var class="Ar" title="Ar">user</var></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-U</b>
      (<i class="Em" title="Em">other user</i>) option is used in conjunction
      with the <b class="Fl" title="Fl">-l</b> option to specify the user whose
      privileges should be listed. The security policy may restrict listing
      other users' privileges. The <i class="Em" title="Em">sudoers</i> policy
      only allows root or a user with the <code class="Li">ALL</code> privilege
      on the current host to use this option.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#u"><b class="Fl" title="Fl" id="u">-u</b></a>
    <var class="Ar" title="Ar">user</var></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-u</b>
      (<i class="Em" title="Em">user</i>) option causes
      <b class="Nm" title="Nm">sudo</b> to run the specified command as a user
      other than <i class="Em" title="Em">root</i>. To specify a
      <i class="Em" title="Em">uid</i> instead of a
      <i class="Em" title="Em">user name</i>, <i class="Em" title="Em">#uid</i>.
      When running commands as a <i class="Em" title="Em">uid</i>, many shells
      require that the &#x2018;<code class="Li">#</code>&#x2019; be escaped with
      a backslash (&#x2018;<code class="Li">\</code>&#x2019;). Security policies
      may restrict <i class="Em" title="Em">uid</i><span class="No">s</span> to
      those listed in the password database. The
      <i class="Em" title="Em">sudoers</i> policy allows
      <i class="Em" title="Em">uid</i><span class="No">s</span> that are not in
      the password database as long as the <i class="Em" title="Em">targetpw</i>
      option is not set. Other security policies may not support this.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#V"><b class="Fl" title="Fl" id="V">-V</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">-V</b>
      (<i class="Em" title="Em">version</i>) option causes
      <b class="Nm" title="Nm">sudo</b> to print its version string and the
      version string of the security policy plugin and any I/O plugins. If the
      invoking user is already root the <b class="Fl" title="Fl">-V</b> option
      will display the arguments passed to configure when
      <b class="Nm" title="Nm">sudo</b> was built and plugins may display more
      verbose information such as default options.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a></dt>
  <dd class="It-tag">When given the <b class="Fl" title="Fl">-v</b>
      (<i class="Em" title="Em">validate</i>) option,
      <b class="Nm" title="Nm">sudo</b> will update the user's cached
      credentials, authenticating the user's password if necessary. For the
      <i class="Em" title="Em">sudoers</i> plugin, this extends the
      <b class="Nm" title="Nm">sudo</b> timeout for another
      <code class="Li">5</code> minutes (or whatever the timeout is set to by
      the security policy) but does not run a command. Not all security policies
      support cached credentials.</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><a class="selflink" href="#-"><b class="Fl" title="Fl" id="-">--</b></a></dt>
  <dd class="It-tag">The <b class="Fl" title="Fl">--</b> option indicates that
      <b class="Nm" title="Nm">sudo</b> should stop processing command line
      arguments.</dd>
</dl>
<div class="Pp"></div>
Environment variables to be set for the command may also be passed on the
  command line in the form of
  <b class="Sy" title="Sy">VAR</b><span class="No">=</span><i class="Em" title="Em">value</i>,
  e.g.
  <b class="Sy" title="Sy">LD_LIBRARY_PATH</b><span class="No">=</span><i class="Em" title="Em">/usr/local/pkg/lib</i>.
  Variables passed on the command line are subject to the same restrictions as
  normal environment variables with one important exception. If the
  <i class="Em" title="Em">setenv</i> option is set in
  <i class="Em" title="Em">sudoers</i>, the command to be run has the
  <code class="Li">SETENV</code> tag set or the command matched is
  <code class="Li">ALL</code>, the user may set variables that would otherwise
  be forbidden. See <a class="Xr" title="Xr">sudoers(5)</a> for more
  information.
<h1 class="Sh" title="Sh" id="COMMAND_EXECUTION"><a class="selflink" href="#COMMAND_EXECUTION">COMMAND
  EXECUTION</a></h1>
When <b class="Nm" title="Nm">sudo</b> executes a command, the security policy
  specifies the execution envionment for the command. Typically, the real and
  effective uid and gid are set to match those of the target user, as specified
  in the password database, and the group vector is initialized based on the
  group database (unless the <b class="Fl" title="Fl">-P</b> option was
  specified).
<div class="Pp"></div>
The following parameters may be specified by security policy:
<ul class="Bl-bullet">
  <li class="It-bullet">real and effective user ID</li>
  <li class="It-bullet">real and effective group ID</li>
  <li class="It-bullet">supplementary group IDs</li>
  <li class="It-bullet">the environment list</li>
  <li class="It-bullet">current working directory</li>
  <li class="It-bullet">file creation mode mask (umask)</li>
  <li class="It-bullet">SELinux role and type</li>
  <li class="It-bullet">scheduling priority (aka nice value)</li>
</ul>
<h2 class="Ss" title="Ss" id="Process_model"><a class="selflink" href="#Process_model">Process
  model</a></h2>
When <b class="Nm" title="Nm">sudo</b> runs a command, it calls
  <a class="Xr" title="Xr">fork(2)</a>, sets up the execution environment as
  described above, and calls the <a class="Xr" title="Xr">execve</a> system call
  in the child process. The main <b class="Nm" title="Nm">sudo</b> process waits
  until the command has completed, then passes the command's exit status to the
  security policy's close method and exits. If an I/O logging plugin is
  configured, a new pseudo-terminal (&#x201C;pty&#x201D;) is created and a
  second <b class="Nm" title="Nm">sudo</b> process is used to relay job control
  signals between the user's existing pty and the new pty the command is being
  run in. This extra process makes it possible to, for example, suspend and
  resume the command. Without it, the command would be in what POSIX terms an
  &#x201C;orphaned process group&#x201D; and it would not receive any job
  control signals.
<h2 class="Ss" title="Ss" id="Signal_handling"><a class="selflink" href="#Signal_handling">Signal
  handling</a></h2>
Because the command is run as a child of the <b class="Nm" title="Nm">sudo</b>
  process, <b class="Nm" title="Nm">sudo</b> will relay signals it receives to
  the command. Unless the command is being run in a new pty, the
  <code class="Dv" title="Dv">SIGHUP</code>,
  <code class="Dv" title="Dv">SIGINT</code> and
  <code class="Dv" title="Dv">SIGQUIT</code> signals are not relayed unless they
  are sent by a user process, not the kernel. Otherwise, the command would
  receive <code class="Dv" title="Dv">SIGINT</code> twice every time the user
  entered control-C. Some signals, such as
  <code class="Dv" title="Dv">SIGSTOP</code> and
  <code class="Dv" title="Dv">SIGKILL</code>, cannot be caught and thus will not
  be relayed to the command. As a general rule,
  <code class="Dv" title="Dv">SIGTSTP</code> should be used instead of
  <code class="Dv" title="Dv">SIGSTOP</code> when you wish to suspend a command
  being run by <b class="Nm" title="Nm">sudo</b>.
<div class="Pp"></div>
As a special case, <b class="Nm" title="Nm">sudo</b> will not relay signals that
  were sent by the command it is running. This prevents the command from
  accidentally killing itself. On some systems, the
  <a class="Xr" title="Xr">reboot(8)</a> command sends
  <code class="Dv" title="Dv">SIGTERM</code> to all non-system processes other
  than itself before rebooting the systyem. This prevents
  <b class="Nm" title="Nm">sudo</b> from relaying the
  <code class="Dv" title="Dv">SIGTERM</code> signal it received back to
  <a class="Xr" title="Xr">reboot(8)</a>, which might then exit before the
  system was actually rebooted, leaving it in a half-dead state similar to
  single user mode. Note, however, that this check only applies to the command
  run by <b class="Nm" title="Nm">sudo</b> and not any other processes that the
  command may create. As a result, running a script that calls
  <a class="Xr" title="Xr">reboot(8)</a> or
  <a class="Xr" title="Xr">shutdown(8)</a> via <b class="Nm" title="Nm">sudo</b>
  may cause the system to end up in this undefined state unless the
  <a class="Xr" title="Xr">reboot(8)</a> or
  <a class="Xr" title="Xr">shutdown(8)</a> are run using the
  <b class="Fn" title="Fn">exec</b>() family of functions instead of
  <b class="Fn" title="Fn">system</b>() (which interposes a shell between the
  command and the calling process).
<h1 class="Sh" title="Sh" id="PLUGINS"><a class="selflink" href="#PLUGINS">PLUGINS</a></h1>
Plugins are dynamically loaded based on the contents of the
  <i class="Pa" title="Pa">/etc/sudo.conf</i> file. If no
  <i class="Pa" title="Pa">/etc/sudo.conf</i> file is present, or it contains no
  <code class="Li">Plugin</code> lines, <b class="Nm" title="Nm">sudo</b> will
  use the traditional <i class="Em" title="Em">sudoers</i> security policy and
  I/O logging, which corresponds to the following
  <i class="Pa" title="Pa">/etc/sudo.conf</i> file.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 0.00ex;">
<pre class="Li">
# 
# Default /etc/sudo.conf file 
# 
# Format: 
#   Plugin plugin_name plugin_path plugin_options ... 
#   Path askpass /path/to/askpass 
#   Path noexec /path/to/sudo_noexec.so 
#   Debug sudo /var/log/sudo_debug all@warn 
#   Set disable_coredump true 
# 
# The plugin_path is relative to /usr/libexec unless 
#   fully qualified. 
# The plugin_name corresponds to a global symbol in the plugin 
#   that contains the plugin interface structure. 
# The plugin_options are optional. 
# 
Plugin policy_plugin sudoers.so 
Plugin io_plugin sudoers.so
</pre>
</div>
<div class="Pp"></div>
A <code class="Li">Plugin</code> line consists of the
  <code class="Li">Plugin</code> keyword, followed by the
  <i class="Em" title="Em">symbol_name</i> and the
  <i class="Em" title="Em">path</i> to the shared object containing the plugin.
  The <i class="Em" title="Em">symbol_name</i> is the name of the
  <code class="Li">struct policy_plugin</code> or <code class="Li">struct
  io_plugin</code> in the plugin shared object. The
  <i class="Em" title="Em">path</i> may be fully qualified or relative. If not
  fully qualified it is relative to the
  <i class="Pa" title="Pa">/usr/libexec</i> directory. Any additional parameters
  after the <i class="Em" title="Em">path</i> are passed as arguments to the
  plugin's <i class="Em" title="Em">open</i> function. Lines that don't begin
  with <code class="Li">Plugin</code>, <code class="Li">Path</code>,
  <code class="Li">Debug</code>, or <code class="Li">Set</code> are silently
  ignored.
<div class="Pp"></div>
For more information, see the <a class="Xr" title="Xr">sudo_plugin(8)</a>
  manual.
<h1 class="Sh" title="Sh" id="PATHS"><a class="selflink" href="#PATHS">PATHS</a></h1>
A <code class="Li">Path</code> line consists of the <code class="Li">Path</code>
  keyword, followed by the name of the path to set and its value. E.g.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
Path noexec /usr/libexec/sudo_noexec.so 
Path askpass /usr/X11R6/bin/ssh-askpass
</pre>
</div>
<div class="Pp"></div>
The following plugin-agnostic paths may be set in the
  <i class="Pa" title="Pa">/etc/sudo.conf</i> file:
<dl class="Bl-tag" style="margin-left: 12.60ex;">
  <dt class="It-tag" style="margin-left: -12.60ex;">askpass</dt>
  <dd class="It-tag">The fully qualified path to a helper program used to read
      the user's password when no terminal is available. This may be the case
      when <b class="Nm" title="Nm">sudo</b> is executed from a graphical (as
      opposed to text-based) application. The program specified by
      <i class="Em" title="Em">askpass</i> should display the argument passed to
      it as the prompt and write the user's password to the standard output. The
      value of <i class="Em" title="Em">askpass</i> may be overridden by the
      <code class="Ev" title="Ev">SUDO_ASKPASS</code> environment variable.</dd>
  <dt class="It-tag" style="margin-left: -12.60ex;">noexec</dt>
  <dd class="It-tag">The fully-qualified path to a shared library containing
      dummy versions of the <b class="Fn" title="Fn">execv</b>(),
      <b class="Fn" title="Fn">execve</b>() and
      <b class="Fn" title="Fn">fexecve</b>() library functions that just return
      an error. This is used to implement the
      <i class="Em" title="Em">noexec</i> functionality on systems that support
      <code class="Ev" title="Ev">LD_PRELOAD</code> or its equivalent. Defaults
      to <i class="Pa" title="Pa">/usr/libexec/sudo_noexec.so</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DEBUG_FLAGS"><a class="selflink" href="#DEBUG_FLAGS">DEBUG
  FLAGS</a></h1>
<b class="Nm" title="Nm">sudo</b> versions 1.8.4 and higher support a flexible
  debugging framework that can help track down what
  <b class="Nm" title="Nm">sudo</b> is doing internally if there is a problem.
<div class="Pp"></div>
A <code class="Li">Debug</code> line consists of the
  <code class="Li">Debug</code> keyword, followed by the name of the program to
  debug (<b class="Nm" title="Nm">sudo</b>, <b class="Nm" title="Nm">visudo</b>,
  <b class="Nm" title="Nm">sudoreplay</b>), the debug file name and a
  comma-separated list of debug flags. The debug flag syntax used by
  <b class="Nm" title="Nm">sudo</b> and the <i class="Em" title="Em">sudoers</i>
  plugin is
  <i class="Em" title="Em">subsystem</i><span class="No">@</span><i class="Em" title="Em">priority</i>
  but the plugin is free to use a different format so long as it does not
  include a comma (&#x2018;<code class="Li">,</code>&#x2019;).
<div class="Pp"></div>
For instance:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
Debug sudo /var/log/sudo_debug all@warn,plugin@info
</pre>
</div>
<div class="Pp"></div>
would log all debugging statements at the <i class="Em" title="Em">warn</i>
  level and higher in addition to those at the <i class="Em" title="Em">info</i>
  level for the plugin subsystem.
<div class="Pp"></div>
Currently, only one <code class="Li">Debug</code> entry per program is
  supported. The <b class="Nm" title="Nm">sudo</b> <code class="Li">Debug</code>
  entry is shared by the <b class="Nm" title="Nm">sudo</b> front end,
  <b class="Nm" title="Nm">sudoedit</b> and the plugins. A future release may
  add support for per-plugin <code class="Li">Debug</code> lines and/or support
  for multiple debugging files for a single program.
<div class="Pp"></div>
The priorities used by the <b class="Nm" title="Nm">sudo</b> front end, in order
  of decreasing severity, are: <i class="Em" title="Em">crit</i>,
  <i class="Em" title="Em">err</i>, <i class="Em" title="Em">warn</i>,
  <i class="Em" title="Em">notice</i>, <i class="Em" title="Em">diag</i>,
  <i class="Em" title="Em">info</i>, <i class="Em" title="Em">trace</i> and
  <i class="Em" title="Em">debug</i>. Each priority, when specified, also
  includes all priorities higher than it. For example, a priority of
  <i class="Em" title="Em">notice</i> would include debug messages logged at
  <i class="Em" title="Em">notice</i> and higher.
<div class="Pp"></div>
The following subsystems are used by the <b class="Nm" title="Nm">sudo</b>
  front-end:
<dl class="Bl-tag" style="margin-left: 15.00ex;">
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">all</i></dt>
  <dd class="It-tag">matches every subsystem</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">args</i></dt>
  <dd class="It-tag">command line argument processing</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">conv</i></dt>
  <dd class="It-tag">user conversation</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">edit</i></dt>
  <dd class="It-tag">sudoedit</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">exec</i></dt>
  <dd class="It-tag">command execution</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">main</i></dt>
  <dd class="It-tag"><b class="Nm" title="Nm">sudo</b> main function</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">netif</i></dt>
  <dd class="It-tag">network interface handling</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">pcomm</i></dt>
  <dd class="It-tag">communication with the plugin</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">plugin</i></dt>
  <dd class="It-tag">plugin configuration</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">pty</i></dt>
  <dd class="It-tag">pseudo-tty related code</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">selinux</i></dt>
  <dd class="It-tag">SELinux-specific handling</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">util</i></dt>
  <dd class="It-tag">utility functions</dd>
  <dt class="It-tag" style="margin-left: -15.00ex;"><i class="Em" title="Em">utmp</i></dt>
  <dd class="It-tag">utmp handling</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_VALUE"><a class="selflink" href="#EXIT_VALUE">EXIT
  VALUE</a></h1>
Upon successful execution of a program, the exit status from
  <i class="Em" title="Em">sudo</i> will simply be the exit status of the
  program that was executed.
<div class="Pp"></div>
Otherwise, <b class="Nm" title="Nm">sudo</b> exits with a value of 1 if there is
  a configuration/permission problem or if <b class="Nm" title="Nm">sudo</b>
  cannot execute the given command. In the latter case the error string is
  printed to the standard error. If <b class="Nm" title="Nm">sudo</b> cannot
  <a class="Xr" title="Xr">stat(2)</a> one or more entries in the user's
  <code class="Ev" title="Ev">PATH</code>, an error is printed on stderr. (If
  the directory does not exist or if it is not really a directory, the entry is
  ignored and no error is printed.) This should not happen under normal
  circumstances. The most common reason for <a class="Xr" title="Xr">stat(2)</a>
  to return &#x201C;permission denied&#x201D; is if you are running an
  automounter and one of the directories in your
  <code class="Ev" title="Ev">PATH</code> is on a machine that is currently
  unreachable.
<h1 class="Sh" title="Sh" id="SECURITY_NOTES"><a class="selflink" href="#SECURITY_NOTES">SECURITY
  NOTES</a></h1>
<b class="Nm" title="Nm">sudo</b> tries to be safe when executing external
  commands.
<div class="Pp"></div>
To prevent command spoofing, <b class="Nm" title="Nm">sudo</b> checks
  &quot;.&quot; and &quot;&quot; (both denoting current directory) last when
  searching for a command in the user's <code class="Ev" title="Ev">PATH</code>
  (if one or both are in the <code class="Ev" title="Ev">PATH</code>). Note,
  however, that the actual <code class="Ev" title="Ev">PATH</code> environment
  variable is <i class="Em" title="Em">not</i> modified and is passed unchanged
  to the program that <b class="Nm" title="Nm">sudo</b> executes.
<div class="Pp"></div>
Please note that <b class="Nm" title="Nm">sudo</b> will normally only log the
  command it explicitly runs. If a user runs a command such as
  <code class="Li">sudo su</code> or <code class="Li">sudo sh</code>, subsequent
  commands run from that shell are not subject to
  <b class="Nm" title="Nm">sudo</b><span class="No">'s</span> security policy.
  The same is true for commands that offer shell escapes (including most
  editors). If I/O logging is enabled, subsequent commands will have their input
  and/or output logged, but there will not be traditional logs for those
  commands. Because of this, care must be taken when giving users access to
  commands via <b class="Nm" title="Nm">sudo</b> to verify that the command does
  not inadvertently give the user an effective root shell. For more information,
  please see the <i class="Em" title="Em">PREVENTING SHELL ESCAPES</i> section
  in <a class="Xr" title="Xr">sudoers(5)</a>.
<div class="Pp"></div>
To prevent the disclosure of potentially sensitive information,
  <b class="Nm" title="Nm">sudo</b> disables core dumps by default while it is
  executing (they are re-enabled for the command that is run). To aid in
  debugging <b class="Nm" title="Nm">sudo</b> crashes, you may wish to re-enable
  core dumps by setting &#x201C;disable_coredump&#x201D; to false in the
  <i class="Pa" title="Pa">/etc/sudo.conf</i> file as follows:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
Set disable_coredump false
</pre>
</div>
<div class="Pp"></div>
Note that by default, most operating systems disable core dumps from setuid
  programs, which includes <b class="Nm" title="Nm">sudo</b>. To actually get a
  <b class="Nm" title="Nm">sudo</b> core file you may need to enable core dumps
  for setuid processes. On BSD and Linux systems this is accomplished via the
  sysctl command, on Solaris the coreadm command can be used.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<b class="Nm" title="Nm">sudo</b> utilizes the following environment variables.
  The security policy has control over the actual content of the command's
  environment.
<dl class="Bl-tag" style="margin-left: 21.00ex;">
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#EDITOR"><code class="Ev" title="Ev" id="EDITOR">EDITOR</code></a></dt>
  <dd class="It-tag">Default editor to use in <b class="Fl" title="Fl">-e</b>
      (sudoedit) mode if neither <code class="Ev" title="Ev">SUDO_EDITOR</code>
      nor <code class="Ev" title="Ev">VISUAL</code> is set.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#MAIL"><code class="Ev" title="Ev" id="MAIL">MAIL</code></a></dt>
  <dd class="It-tag">In <b class="Fl" title="Fl">-i</b> mode or when
      <i class="Em" title="Em">env_reset</i> is enabled in
      <i class="Em" title="Em">sudoers</i>, set to the mail spool of the target
      user.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#HOME"><code class="Ev" title="Ev" id="HOME">HOME</code></a></dt>
  <dd class="It-tag">Set to the home directory of the target user if
      <b class="Fl" title="Fl">-i</b> or <b class="Fl" title="Fl">-H</b> are
      specified, <i class="Em" title="Em">env_reset</i> or
      <i class="Em" title="Em">always_set_home</i> are set in
      <i class="Em" title="Em">sudoers</i>, or when the
      <b class="Fl" title="Fl">-s</b> option is specified and
      <i class="Em" title="Em">set_home</i> is set in
      <i class="Em" title="Em">sudoers</i>.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#PATH"><code class="Ev" title="Ev" id="PATH">PATH</code></a></dt>
  <dd class="It-tag">May be overridden by the security policy.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SHELL"><code class="Ev" title="Ev" id="SHELL">SHELL</code></a></dt>
  <dd class="It-tag">Used to determine shell to run with
      <b class="Fl" title="Fl">-s</b> option.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_ASKPASS"><code class="Ev" title="Ev" id="SUDO_ASKPASS">SUDO_ASKPASS</code></a></dt>
  <dd class="It-tag">Specifies the path to a helper program used to read the
      password if no terminal is available or if the
      <b class="Fl" title="Fl">-A</b> option is specified.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_COMMAND"><code class="Ev" title="Ev" id="SUDO_COMMAND">SUDO_COMMAND</code></a></dt>
  <dd class="It-tag">Set to the command run by sudo.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_EDITOR"><code class="Ev" title="Ev" id="SUDO_EDITOR">SUDO_EDITOR</code></a></dt>
  <dd class="It-tag">Default editor to use in <b class="Fl" title="Fl">-e</b>
      (sudoedit) mode.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_GID"><code class="Ev" title="Ev" id="SUDO_GID">SUDO_GID</code></a></dt>
  <dd class="It-tag">Set to the group ID of the user who invoked sudo.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_PROMPT"><code class="Ev" title="Ev" id="SUDO_PROMPT">SUDO_PROMPT</code></a></dt>
  <dd class="It-tag">Used as the default password prompt.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_PS1"><code class="Ev" title="Ev" id="SUDO_PS1">SUDO_PS1</code></a></dt>
  <dd class="It-tag">If set, <code class="Ev" title="Ev">PS1</code> will be set
      to its value for the program being run.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_UID"><code class="Ev" title="Ev" id="SUDO_UID">SUDO_UID</code></a></dt>
  <dd class="It-tag">Set to the user ID of the user who invoked sudo.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#SUDO_USER"><code class="Ev" title="Ev" id="SUDO_USER">SUDO_USER</code></a></dt>
  <dd class="It-tag">Set to the login name of the user who invoked sudo.</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#USER"><code class="Ev" title="Ev" id="USER">USER</code></a></dt>
  <dd class="It-tag">Set to the target user (root unless the
      <b class="Fl" title="Fl">-u</b> option is specified).</dd>
  <dt class="It-tag" style="margin-left: -21.00ex;"><a class="selflink" href="#VISUAL"><code class="Ev" title="Ev" id="VISUAL">VISUAL</code></a></dt>
  <dd class="It-tag">Default editor to use in <b class="Fl" title="Fl">-e</b>
      (sudoedit) mode if <code class="Ev" title="Ev">SUDO_EDITOR</code> is not
      set.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag" style="margin-left: 31.80ex;">
  <dt class="It-tag" style="margin-left: -31.80ex;"><i class="Pa" title="Pa">/etc/sudo.conf</i></dt>
  <dd class="It-tag"><b class="Nm" title="Nm">sudo</b> front end
    configuration</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Note: the following examples assume a properly configured security policy.
<div class="Pp"></div>
To get a file listing of an unreadable directory:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo ls /usr/local/protected
</pre>
</div>
<div class="Pp"></div>
To list the home directory of user yaz on a machine where the file system
  holding ~yaz is not exported as root:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo -u yaz ls ~yaz
</pre>
</div>
<div class="Pp"></div>
To edit the <i class="Pa" title="Pa">index.html</i> file as user www:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo -u www vi ~www/htdocs/index.html
</pre>
</div>
<div class="Pp"></div>
To view system logs only accessible to root and users in the adm group:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo -g adm view /var/log/syslog
</pre>
</div>
<div class="Pp"></div>
To run an editor as jim with a different primary group:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo -u jim -g audio vi ~jim/sound.txt
</pre>
</div>
<div class="Pp"></div>
To shut down a machine:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo shutdown -r +15 &quot;quick reboot&quot;
</pre>
</div>
<div class="Pp"></div>
To make a usage listing of the directories in the /home partition. Note that
  this runs the commands in a sub-shell to make the <code class="Li">cd</code>
  and file redirection work.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo sh -c &quot;cd /home ; du -s * | sort -rn &gt; USAGE&quot;
</pre>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">grep(1)</a>, <a class="Xr" title="Xr">su(1)</a>,
  <a class="Xr" title="Xr">stat(2)</a>, <a class="Xr" title="Xr">passwd(5)</a>,
  <a class="Xr" title="Xr">sudoers(5)</a>,
  <a class="Xr" title="Xr">sudo_plugin(8)</a>,
  <a class="Xr" title="Xr">sudoreplay(8)</a>,
  <a class="Xr" title="Xr">visudo(8)</a>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
See the HISTORY file in the <b class="Nm" title="Nm">sudo</b> distribution
  (http://www.sudo.ws/sudo/history.html) for a brief history of sudo.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Many people have worked on <b class="Nm" title="Nm">sudo</b> over the years;
  this version consists of code written primarily by:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Todd C. Miller</div>
<div class="Pp"></div>
See the CONTRIBUTORS file in the <b class="Nm" title="Nm">sudo</b> distribution
  (http://www.sudo.ws/sudo/contributors.html) for an exhaustive list of people
  who have contributed to <b class="Nm" title="Nm">sudo</b>.
<h1 class="Sh" title="Sh" id="CAVEATS"><a class="selflink" href="#CAVEATS">CAVEATS</a></h1>
There is no easy way to prevent a user from gaining a root shell if that user is
  allowed to run arbitrary commands via <b class="Nm" title="Nm">sudo</b>. Also,
  many programs (such as editors) allow the user to run commands via shell
  escapes, thus avoiding
  <b class="Nm" title="Nm">sudo</b><span class="No">'s</span> checks. However,
  on most systems it is possible to prevent shell escapes with the
  <a class="Xr" title="Xr">sudoers(5)</a> plugin's
  <i class="Em" title="Em">noexec</i> functionality.
<div class="Pp"></div>
It is not meaningful to run the <code class="Li">cd</code> command directly via
  sudo, e.g.,
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
$ sudo cd /usr/local/protected
</pre>
</div>
<div class="Pp"></div>
since when the command exits the parent process (your shell) will still be the
  same. Please see the <a class="Sx" title="Sx" href="#EXAMPLES">EXAMPLES</a>
  section for more information.
<div class="Pp"></div>
Running shell scripts via <b class="Nm" title="Nm">sudo</b> can expose the same
  kernel bugs that make setuid shell scripts unsafe on some operating systems
  (if your OS has a /dev/fd/ directory, setuid shell scripts are generally
  safe).
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
If you feel you have found a bug in <b class="Nm" title="Nm">sudo</b>, please
  submit a bug report at http://www.sudo.ws/sudo/bugs/
<h1 class="Sh" title="Sh" id="SUPPORT"><a class="selflink" href="#SUPPORT">SUPPORT</a></h1>
Limited free support is available via the sudo-users mailing list, see
  http://www.sudo.ws/mailman/listinfo/sudo-users to subscribe or search the
  archives.
<h1 class="Sh" title="Sh" id="DISCLAIMER"><a class="selflink" href="#DISCLAIMER">DISCLAIMER</a></h1>
<b class="Nm" title="Nm">sudo</b> is provided &#x201C;AS IS&#x201D; and any
  express or implied warranties, including, but not limited to, the implied
  warranties of merchantability and fitness for a particular purpose are
  disclaimed. See the LICENSE file distributed with
  <b class="Nm" title="Nm">sudo</b> or http://www.sudo.ws/sudo/license.html for
  complete details.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 10, 2012</td>
    <td class="foot-os">Sudo 1.8.6p7</td>
  </tr>
</table>
</body>
</html>
