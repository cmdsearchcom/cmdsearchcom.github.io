<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GANESHA-CORE-CONFIG(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GANESHA-CORE-CONFIG(8)</td>
    <td class="head-vol">NFS-Ganesha</td>
    <td class="head-rtitle">GANESHA-CORE-CONFIG(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ganesha-core-config - NFS Ganesha Core Configuration File
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
/etc/ganesha/ganesha.conf
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
NFS-Ganesha reads the configuration data from: | /etc/ganesha/ganesha.conf
<div style="height: 1.00em;">&#x00A0;</div>
This file lists NFS related core config options.
<h2 class="Ss" title="Ss" id="NFS_CORE_PARAM_{}"><a class="selflink" href="#NFS_CORE_PARAM_{}">NFS_CORE_PARAM
  {}</a></h2>
Core parameters:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>NFS_Port (uint16, range 0 to UINT16_MAX, default
    2049)</b></dt>
  <dd class="It-tag">Port number used by NFS Protocol.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>MNT_Port (uint16, range 0 to UINT16_MAX, default
    0)</b></dt>
  <dd class="It-tag">Port number used by MNT Protocol.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NLM_Port (uint16, range 0 to UINT16_MAX, default
    0)</b></dt>
  <dd class="It-tag">Port number used by NLM Protocol.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Bind_addr(IP4 addr, default 0.0.0.0)</b></dt>
  <dd class="It-tag">The address to which to bind for our listening port. IPv4
      only, for now.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NFS_Program(uint32, range 1 to INT32_MAX, default
    100003)</b></dt>
  <dd class="It-tag">RPC program number for NFS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>MNT_Program(uint32, range 1 to INT32_MAX, default
    100005)</b></dt>
  <dd class="It-tag">RPC program number for MNT.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NLM_Program(uint32, range 1 to INT32_MAX, default
    100021)</b></dt>
  <dd class="It-tag">RPC program number for NLM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Nb_Worker(uint32, range 1 to 1024*128, default
    256)</b></dt>
  <dd class="It-tag">Number of worker threads.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Drop_IO_Errors(bool, default false)</b></dt>
  <dd class="It-tag">For NFSv3, whether to drop rather than reply to requests
      yielding I/O errors. It results in client retry.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Drop_Inval_Errors(bool, default false)</b></dt>
  <dd class="It-tag">For NFSv3, whether to drop rather than reply to requests
      yielding invalid argument errors. False by default and settable with
      Drop_Inval_Errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Drop_Delay_Errors(bool, default false)</b></dt>
  <dd class="It-tag">For NFSv3, whether to drop rather than reply to requests
      yielding delay errors. False by default and settable with
      Drop_Delay_Errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Dispatch_Max_Reqs(uint32, range 1 to 1024*128*16,
    default 5000)</b></dt>
  <dd class="It-tag">Total number of requests to allow into the dispatcher at
      once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Dispatch_Max_Reqs_Xprt(uint32, range 1 to 2048, default
    512)</b></dt>
  <dd class="It-tag">Number of requests to allow into the dispatcher from one
      specific transport.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Plugins_Dir(path, default
    &#x201C;/usr/lib64/ganesha&#x201D;)</b></dt>
  <dd class="It-tag">Path to the directory containing server specific
    modules</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Enable_Fast_Stats(bool, default false)</b></dt>
  <dd class="It-tag">Whether to use fast stats.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Short_File_Handle(bool, default false)</b></dt>
  <dd class="It-tag">Whether to use short NFS file handle to accommodate VMware
      NFS client. Enable this if you have a VMware NFSv3 client. VMware NFSv3
      client has a max limit of 56 byte file handles.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Manage_Gids_Expiration(int64, range 0 to 7*24*60*60,
    default 30*60)</b></dt>
  <dd class="It-tag">How long the server will trust information it got by
      calling getgroups() when &#x201C;Manage_Gids = TRUE&#x201D; is used in a
      export entry.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>heartbeat_freq(uint32, range 0 to 5000 default
    1000)</b></dt>
  <dd class="It-tag">Frequency of dbus health heartbeat in ms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Enable_NLM(bool, default true)</b></dt>
  <dd class="It-tag">Whether to support the Network Lock Manager protocol.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Decoder_Fridge_Expiration_Delay(int64, range 0 to 7200,
    default 600)</b></dt>
  <dd class="It-tag">How long (in seconds) to let unused decoder threads wait
      before exiting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Decoder_Fridge_Block_Timeout(int64, range 0 to 7200,
    default 600)</b></dt>
  <dd class="It-tag">How long (in seconds) to wait for the decoder fridge to
      accept a task before erroring.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Blocked_Lock_Poller_Interval(int64, range 0 to 180,
    default 10)</b></dt>
  <dd class="It-tag">Polling interval for blocked lock polling thread</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>NFS_Protocols(list, valid values [3, 4], default 3,4)</b>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>NSM_Use_Caller_Name(bool, default false)</b></dt>
  <dd class="It-tag">Whether to use the supplied name rather than the IP address
      in NSM operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Clustered(bool, default true)</b></dt>
  <dd class="It-tag">Whether this Ganesha is part of a cluster of Ganeshas. Its
      vendor specific option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fsid_device(bool, default false)</b></dt>
  <dd class="It-tag">Whether to use device major/minor for fsid.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mount_path_pseudo(bool, default false)</b></dt>
  <dd class="It-tag">Whether to use Pseudo (true) or Path (false) for NFS v3 and
      9P mounts.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Parameters_controlling_TCP_DRC_behavior:"><a class="selflink" href="#Parameters_controlling_TCP_DRC_behavior:">Parameters
  controlling TCP DRC behavior:</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_Disabled(bool, default false)</b></dt>
  <dd class="It-tag">Whether to disable the DRC entirely.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TCP_Npart(uint32, range 1 to 20, default 1)</b></dt>
  <dd class="It-tag">Number of partitions in the tree for the TCP DRC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_TCP_Size(uint32, range 1 to 32767, default
    1024)</b></dt>
  <dd class="It-tag">Maximum number of requests in a transport&#x2019;s
    DRC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_TCP_Cachesz(uint32, range 1 to 255, default
    127)</b></dt>
  <dd class="It-tag">Number of entries in the O(1) front-end cache to a TCP
      Duplicate Request Cache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_TCP_Hiwat(uint32, range 1 to 256, default
    64)</b></dt>
  <dd class="It-tag">High water mark for a TCP connection&#x2019;s DRC at which
      to start retiring entries if we can.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_TCP_Recycle_Npart(uint32, range 1 to 20, default
    7)</b></dt>
  <dd class="It-tag">Number of partitions in the recycle tree that holds
      per-connection DRCs so they can be used on reconnection (or
    recycled.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_TCP_Recycle_Expire_S(uint32, range 0 to 60*60,
    default 600)</b></dt>
  <dd class="It-tag">How long to wait (in seconds) before freeing the DRC of a
      disconnected client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_TCP_Checksum(bool, default true)</b></dt>
  <dd class="It-tag">Whether to use a checksum to match requests as well as the
      XID</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Parameters_controlling_UDP_DRC_behavior:"><a class="selflink" href="#Parameters_controlling_UDP_DRC_behavior:">Parameters
  controlling UDP DRC behavior:</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_UDP_Npart(uint32, range 1 to 100, default
    7)</b></dt>
  <dd class="It-tag">Number of partitions in the tree for the UDP DRC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_UDP_Size(uint32, range 512, to 32768, default
    32768)</b></dt>
  <dd class="It-tag">Maximum number of requests in the UDP DRC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_UDP_Cachesz(uint32, range 1 to 2047, default
    599)</b></dt>
  <dd class="It-tag">Number of entries in the O(1) front-end cache to the UDP
      Duplicate Request Cache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_UDP_Hiwat(uint32, range 1 to 32768, default
    16384)</b></dt>
  <dd class="It-tag">High water mark for the UDP DRC at which to start retiring
      entries if we can</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DRC_UDP_Checksum(bool, default true)</b></dt>
  <dd class="It-tag">Whether to use a checksum to match requests as well as the
      XID.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Parameters_affecting_the_relation_with_TIRPC:"><a class="selflink" href="#Parameters_affecting_the_relation_with_TIRPC:">Parameters
  affecting the relation with TIRPC:</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_Debug_Flags(uint32, range 0 to UINT32_MAX, default
    0)</b></dt>
  <dd class="It-tag">Debug flags for TIRPC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_Max_Connections(uint32, range 1 to 10000, default
    1024)</b></dt>
  <dd class="It-tag">Maximum number of connections for TIRPC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_Idle_Timeout_S(uint32, range 0 to 60*60, default
    300)</b></dt>
  <dd class="It-tag">Idle timeout (seconds). Default to 300 seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>MaxRPCSendBufferSize(uint32, range 1 to 1048576*9,
    default 1048576)</b></dt>
  <dd class="It-tag">Size of RPC send buffer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>MaxRPCRecvBufferSize(uint32, range 1 to 1048576*9,
    default 1048576)</b></dt>
  <dd class="It-tag">Size of RPC receive buffer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_Ioq_ThrdMax(uint32, range 1 to 1024*128 default
    200)</b></dt>
  <dd class="It-tag">TIRPC ioq max simultaneous io threads</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_GSS_Npart(uint32, range 1 to 1021, default
    13)</b></dt>
  <dd class="It-tag">Partitions in GSS ctx cache table</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_GSS_Max_Ctx(uint32, range 1 to 1048576, default
    16384)</b></dt>
  <dd class="It-tag">Max GSS contexts in cache. Default 16k</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RPC_GSS_Max_Gc(uint32, range 1 to 1048576, default
    200)</b></dt>
  <dd class="It-tag">Max entries to expire in one idle check</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Parameters_for_TCP:"><a class="selflink" href="#Parameters_for_TCP:">Parameters
  for TCP:</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Enable_TCP_keepalive(bool, default true)</b></dt>
  <dd class="It-tag">Whether tcp sockets should use SO_KEEPALIVE</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TCP_KEEPCNT(UINT32, range 0 to 255, default 0 -&gt; use
    system defaults)</b></dt>
  <dd class="It-tag">Maximum number of TCP probes before dropping the
    connection</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TCP_KEEPIDLE(UINT32, range 0 to 65535, default 0 -&gt;
    use system defautls)</b></dt>
  <dd class="It-tag">Idle time before TCP starts to send keepalive probes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TCP_KEEPINTVL(INT32, range 0 to 65535, default 0 -&gt;
    use system defaults)</b></dt>
  <dd class="It-tag">Time between each keepalive probe</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="NFS_IP_NAME_{}"><a class="selflink" href="#NFS_IP_NAME_{}">NFS_IP_NAME
  {}</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Index_Size(uint32, range 1 to 51, default 17)</b></dt>
  <dd class="It-tag">Configuration for hash table for NFS Name/IP map.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Expiration_Time(uint32, range 1 to 60*60*24, default
    3600)</b></dt>
  <dd class="It-tag">Expiration time for ip-name mappings.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="NFS_KRB5_{}"><a class="selflink" href="#NFS_KRB5_{}">NFS_KRB5
  {}</a></h2>
<b>PrincipalName(string, default &#x201C;nfs&#x201D;)</b>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>KeytabPath(path, default &#x201C;&#x201D;)</b></dt>
  <dd class="It-tag">Kerberos keytab.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>CCacheDir(path, default
    &#x201C;/var/run/ganesha&#x201D;)</b></dt>
  <dd class="It-tag">The ganesha credential cache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Active_krb5(bool, default false)</b></dt>
  <dd class="It-tag">Whether to activate Kerberos 5. Defaults to true (if
      Kerberos support is compiled in)</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="NFSv4_{}"><a class="selflink" href="#NFSv4_{}">NFSv4
  {}</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Graceless(bool, default false)</b></dt>
  <dd class="It-tag">Whether to disable the NFSv4 grace period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Lease_Lifetime(uint32, range 0 to 120, default
    60)</b></dt>
  <dd class="It-tag">The NFSv4 lease lifetime.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Grace_Period(uint32, range 0 to 180, default
    90)</b></dt>
  <dd class="It-tag">The NFS grace period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DomainName(string, default
    &#x201C;localdomain&#x201D;)</b></dt>
  <dd class="It-tag">Domain to use if we aren&#x2019;t using the nfsidmap.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IdmapConf(path, default
    &#x201C;/etc/idmapd.conf&#x201D;)</b></dt>
  <dd class="It-tag">Path to the idmap configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>UseGetpwnam(bool, default false if using idmap, true
    otherwise)</b></dt>
  <dd class="It-tag">Whether to use local password (PAM, on Linux) rather than
      nfsidmap.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Allow_Numeric_Owners(bool, default true)</b></dt>
  <dd class="It-tag">Whether to allow bare numeric IDs in NFSv4 owner and group
      identifiers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Only_Numeric_Owners(bool, default false)</b></dt>
  <dd class="It-tag">Whether to ONLY use bare numeric IDs in NFSv4 owner and
      group identifiers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Delegations(bool, default false)</b></dt>
  <dd class="It-tag">Whether to allow delegations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Deleg_Recall_Retry_Delay(uint32_t, range 0 to 10,
    default 1)</b></dt>
  <dd class="It-tag">Delay after which server will retry a recall in case of
      failures</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pnfs_mds(book, default false)</b></dt>
  <dd class="It-tag">Whether this a pNFS MDS server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pnfs_ds(book, default false)</b></dt>
  <dd class="It-tag">Whether this a pNFS DS server.</dd>
</dl>
</div>
<br/>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">August 4, 2017</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
