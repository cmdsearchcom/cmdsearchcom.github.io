<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>THIN_METADATA_SIZE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">THIN_METADATA_SIZE(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">THIN_METADATA_SIZE(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
thin_metadata_size - thin provisioning metadata device/file size calculator.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>thin_metadata_size</b> [<b>options</b>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>thin_metadata_size</b> calculates the size of the thin provisioning metadata
  based on the block size of the thin provisioned devices, the size of the thin
  provisioning pool and the maximum number of all thin prisioned devices and
  snapshots. Because thin provisioning pools are holding widely variable
  contents, this tool is needed to provide sensible initial default size.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b, --block-size</b>
    <i>BLOCKSIZE[bskKmMgGtTpPeEzZyY]</i></dt>
  <dd class="It-tag">Block size of thin provisioned devices in units of bytes,
      sectors, kibibytes, kilobytes, ... respectively. Default is in sectors
      without a block size unit specifier. Size/number option arguments can be
      followed by unit specifiers in short one character and long form (eg. -b1m
      or -b1mebibytes).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --pool-size</b>
    <i>POOLSIZE[bskKmMgGtTpPeEzZyY]</i></dt>
  <dd class="It-tag">Thin provisioning pool size in units of bytes, sectors,
      kibibytes, kilobytes, ... respectively. Default is in sectors without a
      pool size unit specifier.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m, --max-thins</b> <i>#[bskKmMgGtTpPeEzZyY]</i></dt>
  <dd class="It-tag">Maximum sum of all thin provisioned devices and snapshots.
      Unit identifier supported to allow for convenient entry of large
      quantities, eg. 1000000 = 1M. Default is absolute quantity without a
      number unit specifier.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u, --unit</b> <i>{bskKmMgGtTpPeEzZyY}</i></dt>
  <dd class="It-tag">Output unit specifier in units of bytes, sectors,
      kibibytes, kilobytes, ... respectively. Default is in sectors without an
      output unit specifier.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --numeric-only [short|long]</b></dt>
  <dd class="It-tag">Limit output to just the size number with the optional unit
      specifier character/string.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Print help and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V, --version</b></dt>
  <dd class="It-tag">Output version information and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Calculates the thin provisioning metadata device size for block size 64
  kibibytes, pool size 1 tebibytes and maximum number of thin provisioned
  devices and snapshots of 1000 in units of sectors with long output:
<div style="height: 1.00em;">&#x00A0;</div>
<b>thin_metadata_size -b64k -s1t -m1000</b>
<div style="height: 1.00em;">&#x00A0;</div>
Or (using the long options instead) for block size 1 gibibyte, pool size 1
  petabyte and maximum number of thin provisioned devices and snapshots of 1
  million with numeric-only output in units of gigabytes:
<div style="height: 1.00em;">&#x00A0;</div>
<b>thin_metadata_size --block-size=1g --pool-size=1P --max-thins=1M --unit=G
  --numeric-only</b>
<div style="height: 1.00em;">&#x00A0;</div>
Same as before (1g, 1P, 1M, numeric-only) but with unit specifier character
  appended:
<div style="height: 1.00em;">&#x00A0;</div>
<b>thin_metadata_size --block-size=1gibi --pool-size=1petabytes
  --max-thins=1mega --unit=G --numeric-only=short</b>
<div style="height: 1.00em;">&#x00A0;</div>
Or with unit specifier string appended:
<div style="height: 1.00em;">&#x00A0;</div>
<b>thin_metadata_size --block-size=1gibi --pool-size=1petabytes
  --max-thins=1mega --unit=G -nlong</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<b>thin_metadata_size</b> returns an exit code of 0 for success or 1 for error.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>thin_dump(8)</b> <b>thin_check(8)</b> <b>thin_repair(8)</b>
  <b>thin_restore(8)</b> <b>thin_rmap(8)</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Joe Thornber &lt;ejt@redhat.com&gt;
<div>&#x00A0;</div>
Heinz Mauelshagen &lt;HeinzM@RedHat.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">Thin Provisioning Tools</td>
    <td class="foot-os">Red Hat, Inc.</td>
  </tr>
</table>
</body>
</html>
