<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>Burp(8) System Manager&rsquo;s Manual Burp(8)</p>

<p style="margin-top: 1em">NAME <br>
Burp - BackUp and Restore Program</p>

<p style="margin-top: 1em">SYNOPSIS <br>
burp [OPTIONS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
BackUp and Restore Program.</p>

<p style="margin-top: 1em">SERVER OPTIONS <br>
-c [path] <br>
Short for &rsquo;config file&rsquo;. The argument is a path
to the config file. The default is /etc/burp/burp.conf.</p>

<p style="margin-top: 1em">-n No forking mode. The program
will accept a single query, deal with it, and then exit.
This is useful for debugging. Implies &rsquo;-F&rsquo;. If
you intend to debug a protocol2 ses&acirc; <br>
sion, you will also want to run a separate champion chooser
process (&rsquo;-a c&rsquo; below).</p>

<p style="margin-top: 1em">-F Foreground mode. The server
will fork into the background and run as a daemon if you do
not give this option.</p>

<p style="margin-top: 1em">-g Generate initial CA keys and
certificates, and then exit.</p>

<p style="margin-top: 1em">-t Dry-run mode to test config
file syntax.</p>

<p style="margin-top: 1em">-i Print an index table of
symbols that humans may see burp produce, and exit.</p>

<p style="margin-top: 1em">-a c Run as a stand-alone
champion chooser process (useful for debugging protocol2
style backups).</p>

<p style="margin-top: 1em">ADDITIONAL SERVER OPTIONS TO USE
WITH &rsquo;-a c&rsquo;</p>

<p style="margin-top: 1em">-C [client] <br>
Run as if forked via a connection from this client.</p>

<p style="margin-top: 1em">CLIENT OPTIONS <br>
-a [b|t|r|l|L|v|delete|e|T|d|D] <br>
Short for &rsquo;action&rsquo;. The arguments mean backup,
timed backup, restore, list, long list, verify, delete,
estimate, timer check, diff, or long diff, respectively.</p>

<p style="margin-top: 1em">-b [number|a] <br>
Short for &rsquo;backup number&rsquo;. The argument is a
number, or &rsquo;a&rsquo; to select all backups.</p>

<p style="margin-top: 1em">-c [path] <br>
Short for &rsquo;config file&rsquo;. The argument is a path
to the config file. The default is /etc/burp/burp.conf, or
%PROGRAMFILES%0</p>

<p style="margin-top: 1em">-C [client] <br>
Allows you to specify an alternative client to list or
restore from. Requires that the server configuration of the
alternative client permits your client to do this. See <br>
the &rsquo;restore_client&rsquo; option.</p>

<p style="margin-top: 1em">-d [path] <br>
Short for &rsquo;directory&rsquo;. When restoring, the
argument is a path to an alternative directory to restore
to. When listing, the argument is the directory to list.</p>

<p style="margin-top: 1em">-f Short for &rsquo;force
overwrite&rsquo;. Without this option set, a restore will
not overwrite existing files.</p>

<p style="margin-top: 1em">-i Print an index table of
symbols that humans may see burp produce, and exit.</p>

<p style="margin-top: 1em">-q [max secs] <br>
When running a timed backup, sleep for a random number of
seconds (between 0 and the number given) before contacting
the server. Alternatively, this can be specified by <br>
the &rsquo;randomise&rsquo; configuration file option.</p>

<p style="margin-top: 1em">-r [regex] <br>
Short for &rsquo;regular expression&rsquo;. The argument is
a regular expression with which to match backup files. Use
it for lists and restores.</p>

<p style="margin-top: 1em">-s [number] <br>
For use with restores - strip a number of leading path
components.</p>

<p style="margin-top: 1em">-t Dry-run mode to test config
file syntax.</p>

<p style="margin-top: 1em">-x For Windows clients only - do
not use the Windows VSS API on restore. Give this option
when you are restoring a backup that contains no VSS
information.</p>

<p style="margin-top: 1em">-a s Run this to connect to a
running server to get a live monitor of the status of all
your backup clients. The live monitor requires ncurses
support at compile time.</p>

<p style="margin-top: 1em">-a S Similar to &rsquo;-a
s&rsquo;, but it prints the main status monitor summary
screen to stdout. One application is that a script can run
this and email an administrator the output on a <br>
cron job. This doesn&rsquo;t require ncurses support. There
are additional options that can be given with both these
options, listed below.</p>

<p style="margin-top: 1em">ADDITIONAL CLIENT OPTIONS TO USE
WITH &rsquo;-a s&rsquo; and &rsquo;-a S&rsquo;</p>

<p style="margin-top: 1em">-C [client] <br>
Limit the output to a single client.</p>

<p style="margin-top: 1em">-b [number] <br>
Show listable files in a particular backup (requires
-C).</p>

<p style="margin-top: 1em">-z [file] <br>
Dump a particular log file in a backup (requires -C and
-b).</p>

<p style="margin-top: 1em">-d [path] <br>
Show a particular path in a backup (requires -C and -b).</p>

<p style="margin-top: 1em">-l [path] <br>
Log file for status monitor - useful for debugging.</p>

<p style="margin-top: 1em">EXAMPLES <br>
burp -a b <br>
Runs a backup.</p>

<p style="margin-top: 1em">burp -a l <br>
Lists the available backups and dates.</p>

<p style="margin-top: 1em">burp -a l -b 1 <br>
Lists all the files in backup number 1.</p>

<p style="margin-top: 1em">burp -a l -b a <br>
Lists all the files in all the backups.</p>

<p style="margin-top: 1em">burp -a l -b c <br>
Lists all the files in the current backup.</p>

<p style="margin-top: 1em">burp -a l -b 1 -r myregex <br>
Lists all the files in backup number 1 that match the
regular expression &rsquo;myregex&rsquo;.</p>

<p style="margin-top: 1em">burp -a L -b 1 -r myregex <br>
Long lists all the files in backup number 1 that match the
regular expression &rsquo;myregex&rsquo;. This is like doing
an &rsquo;ls -l&rsquo;.</p>

<p style="margin-top: 1em">burp -a r -b 1 -r myregex <br>
Restores all the files in backup number 1 that match the
regular expression &rsquo;myregex&rsquo; back to their
original location.</p>

<p style="margin-top: 1em">burp -a r -b 1 -r myregex -d
/tmp/restoredir <br>
Restores all the files in backup number 1 that match the
regular expression &rsquo;myregex&rsquo; into the directory
/tmp/restoredir.</p>

<p style="margin-top: 1em">burp -a r -b 1 -r myregex -d
/tmp/restoredir -s 2 <br>
Restores all the files in backup number 1 that match the
regular expression &rsquo;myregex&rsquo; into the directory
/tmp/restoredir and strip 2 leading path components.</p>

<p style="margin-top: 1em">burp -a r <br>
Restores all the files in the most recent backup to their
original location.</p>

<p style="margin-top: 1em">burp -a v <br>
Verifies the most recent backup.</p>

<p style="margin-top: 1em">burp -a v -b 1 -r myregex <br>
Verifies everything in backup number 1 that matches the
regular expression &rsquo;myregex&rsquo;.</p>

<p style="margin-top: 1em">burp -a delete -b 1 <br>
Deletes backup number 1. Note that burp will not delete
backup directories that other backup directories depend
upon.</p>

<p style="margin-top: 1em">burp -a t <br>
Timed backup. The same as &rsquo;burp -a b&rsquo;, except
that a script is run on the server before deciding to go
ahead. The intention is that this command will be run on a
repeating <br>
cron job with a short interval, and that the server will
decide when it is time for a new backup.</p>

<p style="margin-top: 1em">burp -a L -b 1 -d &rsquo;&rsquo;
<br>
Long list the top level directory of backup 1.</p>

<p style="margin-top: 1em">burp -a L -b 1 -d
&rsquo;/home/graham&rsquo; <br>
Long list the /home/graham directory of backup 1. These
&rsquo;-d&rsquo; versions of the list function provide the
ability to &rsquo;browse&rsquo; backups.</p>

<p style="margin-top: 1em">burp -a d <br>
Report the differences between the current backup and the
backup that will be made next. DIFF OPTIONS NOT FULLY
IMPLEMENTED YET.</p>

<p style="margin-top: 1em">burp -a D <br>
A more verbose report of the differences between the current
backup and the backup that will be made next.</p>

<p style="margin-top: 1em">burp -a d -b 1 -b 2 <br>
Report the differences between backups 1 and 2 (use -a D for
more verbosity).</p>

<p style="margin-top: 1em">burp -a d -b 2 -b n <br>
Report the differences between backup 1 and the backup that
will be made next (use -a D for more verbosity).</p>

<p style="margin-top: 1em">burp -C altclient -a L <br>
Long list the top level directory of backup 1 on client
&rsquo;altclient&rsquo;.</p>

<p style="margin-top: 1em">burp -C altclient -a r -b 1 -r
myregex -d /tmp/restoredir <br>
Restores all the files in backup number 1 from client
&rsquo;altclient&rsquo; that match the regular expression
&rsquo;myregex&rsquo; into the directory
/tmp/restoredir.</p>

<p style="margin-top: 1em">burp -a s <br>
Run the ncurses status monitor.</p>

<p style="margin-top: 1em">burp -a S <br>
Print a status monitor snapshot, summarising all
clients.</p>

<p style="margin-top: 1em">burp -a S -C testclient <br>
Print a status monitor snapshot, showing client
&rsquo;testclient&rsquo; only.</p>

<p style="margin-top: 1em">SERVER CONFIGURATION FILE
OPTIONS <br>
. [glob] <br>
Read additional configuration files.</p>

<p style="margin-top: 1em">mode=server <br>
Required to run in server mode.</p>

<p style="margin-top: 1em">address=[address] <br>
Defines the main TCP address that the server listens on. The
default is either &rsquo;::&rsquo; or &rsquo;0.0.0.0&rsquo;,
dependent upon compile time options.</p>

<p style="margin-top: 1em">port=[port number] <br>
Defines the main TCP port that the server listens on.</p>

<p style="margin-top: 1em">status_address=[address] <br>
Defines the main TCP address that the server listens on for
status requests. The default is either &rsquo;::1&rsquo; or
&rsquo;127.0.0.1&rsquo;, dependent upon compile time
options.</p>

<p style="margin-top: 1em">status_port=[port number] <br>
Defines the TCP port that the server listens on for status
requests. Comment this out to have no status server.</p>

<p style="margin-top: 1em">cname_lowercase=[0|1] <br>
Whether to force lowercase cname when looking-up in
clientconfdir. This also affects the fqdn lookup on the
client (see client configuration options for details). The
<br>
default is 0. When set to 1 the name provided by the client
while authenticating will be lowercased.</p>

<p style="margin-top: 1em">cname_fqdn=[0|1] <br>
Whether to keep fqdn cname (like
&rsquo;testclient.example.com&rsquo;) when looking-up in
clientconfdir. This also affects the fqdn lookup on the
client (see client configuration <br>
options for details). The default is 1. When set to 0, the
fqdn provided by the client while authenticating will be
stripped (&rsquo;testclient.example.com&rsquo; becomes
&rsquo;test&acirc; <br>
client&rsquo;).</p>

<p style="margin-top: 1em">daemon=[0|1] <br>
Whether to daemonise. The default is 1.</p>

<p style="margin-top: 1em">fork=[0|1] <br>
Whether to fork children. The default is 1.</p>

<p style="margin-top: 1em">directory=[path] <br>
Path to the directory in which to store backups.</p>

<p style="margin-top: 1em">directory_tree=[0|1] <br>
When turned on (which is the default) and the client is on
version 1.3.6 or greater, the structure of the storage
directory will mimic that of the original filesystem on <br>
the client.</p>

<p style="margin-top: 1em">timestamp_format=[strftime
format] <br>
This allows you to tweak the format of the timestamps of
individual backups. See &rsquo;man strftime&rsquo; to see
available substitutions. If this option is unset, burp uses
<br>
&quot;%Y-%m-%d %H:%M:%S&quot;.</p>

<p style="margin-top: 1em">password_check=[0|1] <br>
Allows you to turn client password checking on or off. The
default is on. SSL certificates will still be checked if you
turn passwords off. This option can be overridden <br>
by the client configuration files in clientconfdir on the
server.</p>

<p style="margin-top: 1em">clientconfdir=[path] <br>
Path to the directory that contains client configuration
files.</p>

<p style="margin-top: 1em">protocol=[0|1|2] <br>
Choose which style of backups and restores to use. 0 (the
default) automatically decides based on the client version
and which protocol is set on the client side. 1 forces <br>
protocol1 style (file level granularity with a pseudo
mirrored storage on the server and optional rsync). 2 forces
protocol2 style (inline deduplication with variable <br>
length blocks). If you choose a forced setting, it will be
an error if the client also chooses a forced setting. This
option can be overridden by the client configuration <br>
files in clientconfdir on the server.</p>

<p style="margin-top: 1em">lockfile=[path] <br>
Path to the lockfile that ensures that two server processes
cannot run simultaneously.</p>

<p style="margin-top: 1em">pidfile=[path] <br>
Synonym for lockfile.</p>

<p style="margin-top: 1em">syslog=[0|1] <br>
Log to syslog. Defaults to off.</p>

<p style="margin-top: 1em">stdout=[0|1] <br>
Log to stdout. Defaults to on.</p>

<p style="margin-top: 1em">keep=[number] <br>
Number of backups to keep. This can be overridden by the
clientconfdir configuration files in clientconfdir on the
server. Specify multiple &rsquo;keep&rsquo; entries on
separate <br>
lines in order to keep multiple periods of backups. For
example, assuming that you are doing a backup a day, keep=7
keep=4 keep=6 (on separate lines) will keep 7 daily <br>
backups, 4 weekly backups (7x4=28), and 6 multiples of 4
weeks (7x4x6=168) - roughly 6 monthly backups. Effectively,
you will be guaranteed to be able to restore up to 168 <br>
days ago, with the number of available backups exponentially
decreasing as you go back in time to that point. In this
example, every 7th backup will be hardlinked to allow <br>
burp to safely delete intermediate backups when necessary.
You can have as many &rsquo;keep&rsquo; lines as you like,
as long as they don&rsquo;t exceed 52560000 when multiplied
together. <br>
That is, a backup every minute for 100 years.</p>

<p style="margin-top: 1em">manual_delete=[path] <br>
This can be overridden by the clientconfdir configuration
files in clientconfdir on the server. When the server needs
to delete old backups, or rubble left over from gen&acirc;
<br>
erating reverse patches with librsync=1, it will normally
delete them in place. If you use the
&rsquo;manual_delete&rsquo; option, the files will be moved
to the path specified for <br>
deletion at a later point. You will then need to configure a
cron job, or similar, to delete the files yourself. Do not
specify a path that is not on the same filesystem <br>
as the client storage directory.</p>

<p style="margin-top: 1em">hardlinked_archive=[0|1] <br>
On the server, defines whether to keep hardlinked files in
the backups, or whether to generate reverse deltas and
delete the original files. Can be set to either 0 (off) <br>
or 1 (on). Disadvantage: More disk space will be used
Advantage: Restores will be faster, and since no reverse
deltas need to be generated, the time and effort the server
<br>
needs at the end of a backup is reduced.</p>

<p style="margin-top: 1em">max_hardlinks=[number] <br>
On the server, the number of times that a single file can be
hardlinked. The bedup program also obeys this setting. The
default is 10000.</p>

<p style="margin-top: 1em">librsync=[0|1] <br>
When set to 0, delta differencing will not take place. That
is, when a file changes, the server will request the whole
new file. The default is 1. This option can be over&acirc;
<br>
ridden by the client configuration files in clientconfdir on
the server.</p>

<p style="margin-top: 1em">compression=zlib[0-9] (or
gzip[0-9]) <br>
Choose the level of zlib compression for files stored in
backups. Setting 0 or zlib0 turns compression off. The
default is zlib9. This option can be overridden by the <br>
client configuration files in clientconfdir on the server.
&rsquo;gzip&rsquo; is a synonym of &rsquo;zlib&rsquo;.</p>

<p style="margin-top: 1em">hard_quota=[b/Kb/Mb/Gb] <br>
Do not back up the client if the estimated size of all files
is greater than the specified size. Example:
&rsquo;hard_quota = 100Gb&rsquo;. Set to 0 (the default) to
have no limit.</p>

<p style="margin-top: 1em">soft_quota=[b/Kb/Mb/Gb] <br>
A warning will be issued when the estimated size of all
files is greater than the specified size and smaller than
hard_quota. Example: &rsquo;soft_quota = 95Gb&rsquo;. Set to
0 (the <br>
default) to have no warning.</p>

<p style="margin-top: 1em">version_warn=[0|1] <br>
When this is on, which is the default, a warning will be
issued when the client version does not match the server
version. This option can be overridden by the client
con&acirc; <br>
figuration files in clientconfdir on the server.</p>

<p style="margin-top: 1em">path_length_warn=[0|1] <br>
When this is on, which is the default, a warning will be
issued when the client sends a path that is too long to
replicate in the storage area tree structure. The file <br>
will still be saved in a numbered file outside of the tree
structure, regardless of the setting of this option. This
option can be overridden by the client configuration <br>
files in clientconfdir on the server.</p>

<p style="margin-top: 1em">client_lockdir=[path] <br>
Path to the directory in which to keep per-client lock
files. By default, this is set to the path given by the
&rsquo;directory&rsquo; option.</p>

<p style="margin-top: 1em">user=[username] <br>
Run as a particular user. This can be overridden by the
client configuration files in clientconfdir on the
server.</p>

<p style="margin-top: 1em">group=[groupname] <br>
Run as a particular group. This can be overridden by the
client configuration files in clientconfdir on the
server.</p>

<p style="margin-top: 1em">umask=[umask] <br>
Set the file creation umask. Default is 0022.</p>

<p style="margin-top: 1em">ratelimit=[Mb/s] <br>
Set the network send rate limit, in Mb/s. If this option is
not given, burp will send data as fast as it can.</p>

<p style="margin-top: 1em">network_timeout=[s] <br>
Set the network timeout in seconds. If no data is sent or
received over a period of this length, burp will give up.
The default is 7200 seconds (2 hours).</p>


<p style="margin-top: 1em">working_dir_recovery_method=[resume|delete]
<br>
This option tells the server what to do when it finds the
working directory of an interrupted backup (perhaps somebody
pulled the plug on the server, or something). This <br>
can be overridden by the client configurations files in
clientconfdir on the server. Options are...</p>

<p style="margin-top: 1em">delete: Just delete the old
working directory.</p>

<p style="margin-top: 1em">resume: Continue the previous
backup from the point at which it left off. NOTE: If the
client has changed its include/exclude configuration since
the backup was interrupted, the <br>
recovery method will automatically switch to
&rsquo;delete&rsquo;.</p>

<p style="margin-top: 1em">client_can_delete=[0|1] <br>
Turn this off to prevent clients from deleting backups with
the &rsquo;-a delete&rsquo; option. The default is that
clients can delete backups. Restore clients can override
this set&acirc; <br>
ting.</p>

<p style="margin-top: 1em">client_can_diff=[0|1] <br>
Turn this off to prevent clients from diffing backups with
the &rsquo;-a d&rsquo; option. The default is that clients
can diff backups. Restore clients can override this
setting.</p>

<p style="margin-top: 1em">client_can_force_backup=[0|1]
<br>
Turn this off to prevent clients from forcing backups with
the &rsquo;-a b&rsquo; option. Timed backups will still
work. The default is that clients can force backups.</p>

<p style="margin-top: 1em">client_can_list=[0|1] <br>
Turn this off to prevent clients from listing backups with
the &rsquo;-a l&rsquo; option. The default is that clients
can list backups. Restore clients can override this
setting.</p>

<p style="margin-top: 1em">client_can_restore=[0|1] <br>
Turn this off to prevent clients from initiating restores
with the &rsquo;-a r&rsquo; option. The default is that
clients can initiate restores. Restore clients can override
this set&acirc; <br>
ting.</p>

<p style="margin-top: 1em">client_can_verify=[0|1] <br>
Turn this off to prevent clients from initiating a verify
job with the &rsquo;-a v&rsquo; option. The default is that
clients can initiate a verify job. Restore clients can
override <br>
this setting.</p>

<p style="margin-top: 1em">restore_client=[client] <br>
A client that is permitted to list, verify, restore, delete,
and diff files belonging to any other client. You may
specify multiple restore_clients. If this is too
permis&acirc; <br>
sive, you may set a restore_client for individual original
clients in the individual clientconfdir files. Note that
restoring a backup from a Windows computer onto a Linux <br>
computer will currently leave the VSS headers in place at
the beginning of each file. This will be addressed in a
future version of burp.</p>

<p style="margin-top: 1em">ssl_cert_ca=[path] <br>
The path to the SSL CA certificate. This file will probably
be the same on both the server and the client. The file
should contain just the certificate in PEM format. For <br>
more information on this, and the other ssl_* options,
please see docs/burp_ca.txt.</p>

<p style="margin-top: 1em">ssl_cert=[path] <br>
The path to the server SSL certificate. It works for me when
the file contains the concatenation of the certificate and
private key in PEM format.</p>

<p style="margin-top: 1em">ssl_key=[path] <br>
The path to the server SSL private key in PEM format.</p>

<p style="margin-top: 1em">ssl_key_password=[password] <br>
Only needed for loading an encrypted certificate.</p>

<p style="margin-top: 1em">ssl_cert_password=[password]
<br>
Synonym for ssl_key_password.</p>

<p style="margin-top: 1em">ssl_ciphers=[cipher list] <br>
Allowed SSL ciphers. See openssl ciphers for details.</p>

<p style="margin-top: 1em">ssl_compression=zlib[0|5] (or
gzip[0|5]) <br>
Choose the level of zlib compression over SSL. Setting 0 or
zlib0 turns SSL compression off. Setting non-zero gives
zlib5 compression (it is not currently possible for <br>
openssl to set any other level). The default is 5.
&rsquo;gzip&rsquo; is a synonym of &rsquo;zlib&rsquo;.</p>

<p style="margin-top: 1em">ssl_dhfile=[path] <br>
Path to Diffie-Hellman parameter file. To generate one with
openssl, use a command like this: openssl dhparam -dsaparam
-out dhfile.pem 2048</p>

<p style="margin-top: 1em">max_children=[number] <br>
Defines the number of child processes to fork (the number of
clients that can simultaneously connect. The default is
5.</p>

<p style="margin-top: 1em">max_status_children=[number]
<br>
Defines the number of status child processes to fork (the
number of status clients that can simultaneously connect.
The default is 5.</p>

<p style="margin-top: 1em">max_storage_subdirs=[number]
<br>
Defines the number of subdirectories in the data storage
areas. The maximum number of subdirectories that ext3 allows
is 32000. If you do not set this option, it defaults <br>
to 30000.</p>

<p style="margin-top: 1em">timer_script=[path] <br>
Path to the script to run when a client connects with the
timed backup option. If the script exits with code 0, a
backup will run. The first three arguments are the client
<br>
name, the path to the &rsquo;current&rsquo; storage
directory, and the path to the top level storage
directories. The next two arguments are reserved, and user
arguments are appended <br>
after that. An example timer script is provided. The
timer_script option can be overridden by the client
configuration files in clientconfdir on the server.</p>

<p style="margin-top: 1em">timer_arg=[string] <br>
A user-definable argument to the timer script. You can have
many of these. The timer_arg options can be overridden by
the client configuration files in clientconfdir on <br>
the server.</p>

<p style="margin-top: 1em">notify_success_script=[path]
<br>
Path to the script to run when a backup succeeds. User
arguments are appended after the first five reserved
arguments. An example notify script is provided. The <br>
notify_success_script option can be overriddden by the
client configuration files in clientconfdir on the
server.</p>

<p style="margin-top: 1em">notify_success_arg=[string] <br>
A user-definable argument to the notify success script. You
can have many of these. The notify_success_arg options can
be overriddden by the client configuration files in <br>
clientconfdir on the server.</p>


<p style="margin-top: 1em">notify_success_warnings_only=[0|1]
<br>
Set to 1 to send success notifications when there were
warnings. If this and notify_success_changes_only are not
turned on, success notifications are always sent.</p>


<p style="margin-top: 1em">notify_success_changes_only=[0|1]
<br>
Set to 1 to send success notifications when there were new
or changed files. If this and notify_success_warnings_only
are not turned on, success notifications are always <br>
sent.</p>

<p style="margin-top: 1em">notify_failure_script=[path]
<br>
The same as notify_success_script, but for backups that
failed.</p>

<p style="margin-top: 1em">notify_failure_arg=[string] <br>
The same as notify_success_arg, but for backups that
failed.</p>

<p style="margin-top: 1em">dedup_group=[string] <br>
Enables you to group clients together for file deduplication
purposes. For example, you might want to set
&rsquo;dedup_group=xp&rsquo; for each Windows XP client, and
then run the <br>
bedup program on a cron job every other day with the option
&rsquo;-g xp&rsquo;.</p>

<p style="margin-top: 1em">server_script_pre=[path] <br>
Path to a script to run on the server after each
successfully authenticated connection but before any work is
carried out. The arguments to it are &rsquo;pre&rsquo;,
&rsquo;(client com&acirc; <br>
mand)&rsquo;, &rsquo;reserved3&rsquo; to
&rsquo;reserved5&rsquo;, and then arguments defined by
server_script_pre_arg. If the script returns non-zero, the
task asked for by the client will not be run. <br>
This command and related options can be overriddden by the
client configuration files in clientconfdir on the
server.</p>

<p style="margin-top: 1em">server_script_pre_arg=[string]
<br>
A user-definable argument to the server pre script. You can
have many of these.</p>

<p style="margin-top: 1em">server_script_pre_notify=[0|1]
<br>
Turn on to send a notification email when the server pre
script returns non-zero. The output of the script will be
included in the email. The default is off. Most people <br>
will not want this turned on because clients usually contact
the server at 20 minute intervals and this could cause a lot
of emails to be generated. Requires the <br>
notify_failure options to be set.</p>

<p style="margin-top: 1em">server_script_post=[path] <br>
Path to a script to run on the server before the client
disconnects. The arguments to it are &rsquo;post&rsquo;,
&rsquo;(client command)&rsquo;, &rsquo;reserved3&rsquo; to
&rsquo;reserved5&rsquo;, and then arguments <br>
defined by server_script_post_arg. This command and related
options can be overriddden by the client configuration files
in clientconfdir on the server.</p>

<p style="margin-top: 1em">server_script_post_arg=[string]
<br>
A user-definable argument to the server post script. You can
have many of these.</p>

<p style="margin-top: 1em">server_script_post_notify=[0|1]
<br>
Turn on to send a notification email when the server post
script returns non-zero. The output of the script will be
included in the email. The default is off. Requires the <br>
notify_failure options to be set.</p>

<p style="margin-top: 1em">server_script=[path] <br>
You can use this to save space in your config file when you
want to run the same server script twice. It overrides
server_script_pre and server_script_post. This command <br>
and related options can be overriddden by the client
configuration files in clientconfdir on the server.</p>

<p style="margin-top: 1em">server_script_arg=[path] <br>
Goes with server_script and overrides server_script_pre_arg
and server_script_post_arg.</p>

<p style="margin-top: 1em">server_script_notify=[0|1] <br>
Turn on to send notifications email when the server pre and
post scripts return non-zero. The output of the script will
be included in the email. The default is off. <br>
Requires the notify_failure options to be set.</p>


<p style="margin-top: 1em">server_script_post_run_on_fail=[0|1]
<br>
If this is set to 1, server_script_post will always be run.
The default is 0, which means that if the task asked for by
the client fails, server_script_post will not be <br>
run.</p>

<p style="margin-top: 1em">autoupgrade_dir=[path] <br>
Path to autoupgrade directory from which upgrades are
downloaded. The option can be left unset in order not to
autoupgrade clients. Please see docs/autoupgrade.txt in the
<br>
source package for more help with this option.</p>

<p style="margin-top: 1em">ca_conf=[path] <br>
Path to certificate authority configuration file. The CA
configuration file will usually be /etc/burp/CA.cnf. The CA
directory indicated by CA.cnf will usually be <br>
/etc/burp/CA. If ca_conf is set and the CA directory does
not exist, the server will create, populate it, and the
paths indicated by ssl_cert_ca, ssl_cert, ssl_key and <br>
ssl_dhfile will be overwritten. For more detailed
information on this and the other ca_* options, please see
docs/burp_ca.txt.</p>

<p style="margin-top: 1em">ca_name=[name] <br>
Name of the CA that the server will generate when using the
ca_conf option.</p>

<p style="margin-top: 1em">ca_server_name=[name] <br>
The name that the server will put into its own SSL
certficates when using the ca_conf option.</p>

<p style="margin-top: 1em">ca_burp_ca=[path] <br>
Path to the burp_ca script when using the ca_conf
option.</p>

<p style="margin-top: 1em">ca_crl=[path] <br>
Override the default path to the certificate revocation
list.</p>

<p style="margin-top: 1em">ca_crl_check=[0|1] <br>
Whether to check for revoked certificates in the certificate
revocation list.</p>

<p style="margin-top: 1em">monitor_browse_cache=[0|1] <br>
Whether or not the server should cache the directory tree
when a monitor client is browsing. Advantage: browsing is
faster. Disadvantage: more memory is used.</p>

<p style="margin-top: 1em">label=[string] <br>
You can have multiple labels, and they can be overridden in
the client configuration files in clientconfdir on the
server. They will appear as an array of strings in the <br>
server status monitor JSON output. The idea is to provide a
mechanism for arbirtrary values to be passed to clients of
the server status monitor.</p>

<p style="margin-top: 1em">enabled=[0|1] <br>
Set this to 0 if you want to disable all clients. The
default is 1. This option can be overridden per-client in
the client configuration files in clientconfdir on the <br>
server.</p>

<p style="margin-top: 1em">CLIENT CONFIGURATION FILE
OPTIONS <br>
. [glob] <br>
Read additional configuration files. On Windows, the glob is
unimplemented - you will need to specify an actual file.</p>

<p style="margin-top: 1em">mode=client <br>
Required to run in client mode.</p>

<p style="margin-top: 1em">server=[IP address or hostname]
<br>
Defines the server to connect to.</p>

<p style="margin-top: 1em">port=[port number] <br>
Defines the TCP port that the server is listening on.</p>

<p style="margin-top: 1em">cname=[password] <br>
Defines the client name to identify as to the server.</p>

<p style="margin-top: 1em">cname_lowercase=[0|1] <br>
Whether to force lowercase cname when detecting cname
automatically (ie. no cname provided above). The default is
0. When set to 1 the name returned by the get_fqdn
func&acirc; <br>
tion will be lowercased.</p>

<p style="margin-top: 1em">cname_fqdn=[0|1] <br>
Whether to keep fqdn cname (like
&rsquo;testclient.example.com&rsquo;) when detecting cname
automatically (ie. no cname provided above). The default is
1. When set to 0, the fqdn <br>
returned by the get_fqdn function will be stripped
(&rsquo;testclient.example.com&rsquo; becomes
&rsquo;testclient&rsquo;).</p>

<p style="margin-top: 1em">protocol=[0|1|2] <br>
Choose which style of backups and restores to use. 0 (the
default) automatically decides based on the server version
and which protocol is set on the server side. 1 forces <br>
protocol1 style (file level granularity with a pseudo
mirrored storage on the server and optional rsync). 2 forces
protocol2 style (inline deduplication with variable <br>
length blocks). If you choose a forced setting, it will be
an error if the server also chooses a forced setting.</p>

<p style="margin-top: 1em">password=[password] <br>
Defines the password to send to the server.</p>

<p style="margin-top: 1em">enabled=[0|1] <br>
Set this to 0 if you want to disable a client. The default
is 1. This option can also be set in the client
configuration files in clientconfdir on the server.</p>

<p style="margin-top: 1em">lockfile=[path] <br>
Path to the lockfile that ensures that two client processes
cannot run simultaneously (this currently doesn&rsquo;t work
on Windows).</p>

<p style="margin-top: 1em">pidfile=[path] <br>
Synonym for lockfile.</p>

<p style="margin-top: 1em">syslog=[0|1] <br>
Log to syslog. Defaults to off.</p>

<p style="margin-top: 1em">stdout=[0|1] <br>
Log to stdout. Defaults to on.</p>

<p style="margin-top: 1em">progress_counter=[0|1] <br>
Print progress counters on stdout. Defaults to on.</p>

<p style="margin-top: 1em">randomise=[max secs] <br>
When running a timed backup, sleep for a random number of
seconds (between 0 and the number given) before contacting
the server. Alternatively, this can be specified by <br>
the &rsquo;-q&rsquo; command line option.</p>

<p style="margin-top: 1em">user=[username] <br>
Run as a particular user (not supported on Windows).</p>

<p style="margin-top: 1em">group=[groupname] <br>
Run as a particular group (not supported on Windows).</p>

<p style="margin-top: 1em">ratelimit=[Mb/s] <br>
Set the network send rate limit, in Mb/s. If this option is
not given, burp will send data as fast as it can.</p>

<p style="margin-top: 1em">network_timeout=[s] <br>
Set the network timeout in seconds. If no data is sent or
received over a period of this length, burp will give up.
The default is 7200 seconds (2 hours).</p>

<p style="margin-top: 1em">ca_burp_ca=[path] <br>
Path to the burp_ca script (burp_ca.bat on Windows). For
more information on this, please see docs/burp_ca.txt.</p>

<p style="margin-top: 1em">ca_csr_dir=[path] <br>
Directory where certificate signing requests are generated.
For more information on this, please see
docs/burp_ca.txt.</p>

<p style="margin-top: 1em">ssl_cert_ca=[path] <br>
The path to the SSL CA certificate. This file will probably
be the same on both the server and the client. The file
should contain just the certificate in PEM format. For <br>
more information on this and the other ssl_* options, please
see docs/burp_ca.txt.</p>

<p style="margin-top: 1em">ssl_cert=[path] <br>
The path to the client SSL certificate. It works for me when
the file contains the concatenation of the certificate and
private key in PEM format.</p>

<p style="margin-top: 1em">ssl_key=[path] <br>
The path to the client SSL private key in PEM format.</p>

<p style="margin-top: 1em">ssl_key_password=[password] <br>
Only needed for loading an encrypted certificate.</p>

<p style="margin-top: 1em">ssl_cert_password=[password]
<br>
Synonym for ssl_key_password.</p>

<p style="margin-top: 1em">ssl_peer_cn=[string] <br>
Must match the common name in the SSL certificate that the
server gives when it connects. If ssl_peer_cn is not set,
the server name will be used instead.</p>

<p style="margin-top: 1em">ssl_ciphers=[cipher list] <br>
Allowed SSL ciphers. See openssl ciphers for details.</p>

<p style="margin-top: 1em">server_can_restore=[0|1] <br>
To prevent the server from initiating restores, set this to
0. The default is 1.</p>


<p style="margin-top: 1em">server_can_override_includes=[0|1]
<br>
To prevent the server from being able to override your local
include/exclude list, set this to 0. The default is 1.</p>

<p style="margin-top: 1em">encryption_password=[password]
<br>
Set this to enable client side file Blowfish encryption. If
you do not want encryption, leave this field out of your
config file. IMPORTANT: Configuring this renders delta <br>
differencing pointless, since the smallest real change to a
file will make the whole file look different. Therefore,
activating this option turns off delta differencing so <br>
that whenever a client file changes, the whole new file will
be uploaded on the next backup. ALSO IMPORTANT: If you
manage to lose your encryption password, you will not <br>
be able to unencrypt your files. You should therefore think
about having a copy of the encryption password somewhere
off-box, in case of your client hard disk failing. <br>
FINALLY: If you change your encryption password, you will
end up with a mixture of files on the server with different
encryption and it may become tricky to restore more <br>
than one file at a time. For this reason, if you change your
encryption password, you may want to start a fresh chain of
backups (by moving the original set aside, for <br>
example). Burp will cope fine with turning the same
encryption password on and off between backups, and will
restore a backup of mixed encrypted and unencrypted files
<br>
without a problem.</p>

<p style="margin-top: 1em">glob_after_script_pre=[0|1] <br>
Set this to 0 if you do not want include_glob settings to be
evaluated after the pre script is run. The default is 1.</p>

<p style="margin-top: 1em">backup_script_pre=[path] <br>
Path to a script to run before a backup. The arguments to it
are &rsquo;pre&rsquo;, &rsquo;reserved2&rsquo; to
&rsquo;reserved5&rsquo;, and then arguments defined by
backup_script_pre_arg - unless the option <br>
&rsquo;backup_script_reserved_args&rsquo; is off, then only
arguments defined by backup_script_pre_arg are passed to
it.</p>

<p style="margin-top: 1em">backup_script_pre_arg=[string]
<br>
A user-definable argument to the backup pre script. You can
have many of these.</p>

<p style="margin-top: 1em">backup_script_post=[path] <br>
Path to a script to run after a backup. The arguments to it
are &rsquo;post&rsquo;, [0|1] if the backup failed or
succeeded, &rsquo;reserved3&rsquo; to
&rsquo;reserved5&rsquo;, and then arguments defined by <br>
backup_script_post_arg - unless the option
&rsquo;backup_script_reserved_args&rsquo; is off, then only
arguments defined by backup_script_post_arg are passed to
it.</p>

<p style="margin-top: 1em">backup_script_post_arg=[string]
<br>
A user-definable argument to the backup post script. You can
have many of these.</p>


<p style="margin-top: 1em">backup_script_post_run_on_fail=[0|1]
<br>
If this is set to 1, backup_script_post will be run whether
the backup succeeds or not. The default is 0, which means
that backup_script_post will only be run if the <br>
backup succeeds.</p>

<p style="margin-top: 1em">restore_script_pre=[path] <br>
Path to a script to run before a restore. The arguments to
it are &rsquo;pre&rsquo;, &rsquo;reserved2&rsquo; to
&rsquo;reserved5&rsquo;, and then arguments defined by
restore_script_pre_arg - unless the <br>
option &rsquo;restore_script_reserved_args&rsquo; is off,
then only arguments defined by restore_script_pre_arg are
passed to it.</p>

<p style="margin-top: 1em">restore_script_pre_arg=[string]
<br>
A user-definable argument to the restore pre script. You can
have many of these.</p>

<p style="margin-top: 1em">restore_script_post=[path] <br>
Path to a script to run after a restore. The arguments to it
are &rsquo;post&rsquo;, [0|1] if the restore failed or
succeeded, &rsquo;reserved3&rsquo; to
&rsquo;reserved5&rsquo;, and then arguments defined <br>
by restore_script_post_arg - unless the option
&rsquo;restore_script_reserved_args&rsquo; is off, then only
arguments defined by restore_script_post_arg are passed to
it.</p>


<p style="margin-top: 1em">restore_script_post_arg=[string]
<br>
A user-definable argument to the restore post script. You
can have many of these.</p>


<p style="margin-top: 1em">restore_script_post_run_on_fail=[0|1]
<br>
If this is set to 1, restore_script_post will be run whether
the restore succeeds or not. The default is 0, which means
that restore_script_post will only be run if the <br>
restore succeeds.</p>

<p style="margin-top: 1em">backup_script=[path] <br>
You can use this to save space in your config file when you
want to run the same script before and after a backup. It
overrides backup_script_pre and backup_script_post.</p>

<p style="margin-top: 1em">backup_script_arg=[path] <br>
Goes with backup_script and overrides backup_script_pre_arg
and backup_script_post_arg.</p>


<p style="margin-top: 1em">backup_script_reserved_args=[0|1]
<br>
Whether to pass reserved arguments to backup scripts. The
default is on.</p>

<p style="margin-top: 1em">restore_script=[path] <br>
You can use this to save space in your config file when you
want to run the same script before and after a restore. It
overrides restore_script_pre and <br>
restore_script_post.</p>

<p style="margin-top: 1em">restore_script_arg=[path] <br>
Goes with restore_script and overrides
restore_script_pre_arg and restore_script_post_arg.</p>


<p style="margin-top: 1em">restore_script_reserved_args=[0|1]
<br>
Whether to pass reserved arguments to restore scripts. The
default is on.</p>

<p style="margin-top: 1em">autoupgrade_dir=[path] <br>
Path to autoupgrade directory into which upgrades are
downloaded. Please see docs/autoupgrade.txt in the source
package for more help with this option. If you do not want
<br>
your client to autoupgrade, do not set this option.</p>

<p style="margin-top: 1em">autoupgrade_os=[string] <br>
Name of the client operating system. Should match a
directory name in the server&rsquo;s autoupgrade_dir. If you
do not want your client to autoupgrade, do not set this
option.</p>

<p style="margin-top: 1em">INCLUDES / EXCLUDES <br>
The following options specify exactly what is backed up. The
client can specify these options, or if you include at least
one &rsquo;include=&rsquo; in the client configuration files
on the <br>
server, the server will override them all.</p>

<p style="margin-top: 1em">include=[path] <br>
Path to include in the backup. You can have multiple include
lines. Use forward slashes &rsquo;/&rsquo;, not backslashes
&rsquo;&acute; as path delimiters.</p>

<p style="margin-top: 1em">exclude=[path] <br>
Path to exclude from the backup. You can have multiple
exclude lines. Use forward slashes &rsquo;/&rsquo;, not
backslashes &rsquo;&acute; as path delimiters.</p>

<p style="margin-top: 1em">include_glob=[glob expression]
<br>
Include paths that match the glob expression. For example,
&rsquo;/home/*/Documents&rsquo; will include
&rsquo;/home/user1/Documents&rsquo; and
&rsquo;/home/user2/Documents&rsquo; if directories
&rsquo;user1&rsquo; and <br>
&rsquo;user2&rsquo; exist in &rsquo;/home&rsquo;. The
Windows implementation currently limit the expression to
contain only one &rsquo;*&rsquo;.</p>

<p style="margin-top: 1em">include_regex=[regular
expression] <br>
Not implemented.</p>

<p style="margin-top: 1em">exclude_regex=[regular
expression] <br>
Exclude paths that match the regular expression.</p>

<p style="margin-top: 1em">include_ext=[extension] <br>
Extensions to include in the backup. Case insensitive.
Nothing else will be included in the backup. You can have
multiple include extension lines. For example, set
&rsquo;txt&rsquo; <br>
to include files that end in &rsquo;.txt&rsquo;. You need to
specify an &rsquo;include&rsquo; line so that burp knows
where to start looking.</p>

<p style="margin-top: 1em">exclude_ext=[extension] <br>
Extensions to exclude from the backup. Case insensitive. You
can have multiple exclude extension lines. For example, set
&rsquo;vdi&rsquo; to exclude VirtualBox disk images.</p>

<p style="margin-top: 1em">exclude_comp=[extension] <br>
Extensions to exclude from compression. Case insensitive.
You can have multiple exclude compression lines. For
example, set &rsquo;gz&rsquo; to exclude gzipped files from
compression.</p>

<p style="margin-top: 1em">exclude_fs=[fstype] <br>
File systems to exclude from the backup. Case insensitive.
You can have multiple exclude file system lines. For
example, set &rsquo;tmpfs&rsquo; to exclude tmpfs. Burp has
an internal <br>
mapping of file system names to file system IDs. If you know
the file system ID, you can use that instead. For example,
&rsquo;exclude_fs = 0x01021994&rsquo; will also exclude
tmpfs.</p>

<p style="margin-top: 1em">min_file_size=[b/Kb/Mb/Gb] <br>
Do not back up files that are less than the specified size.
Example: &rsquo;min_file_size = 10Mb&rsquo;. Set to 0 (the
default) to have no limit.</p>

<p style="margin-top: 1em">max_file_size=[b/Kb/Mb/Gb] <br>
Do not back up files that are greater than the specified
size. Example: &rsquo;max_file_size = 10Mb&rsquo;. Set to 0
(the default) to have no limit.</p>

<p style="margin-top: 1em">cross_filesystem=[path] <br>
Allow backups to cross a particular filesystem
mountpoint.</p>

<p style="margin-top: 1em">cross_all_filesystems=[0|1] <br>
Allow backups to cross all filesystem mountpoints.</p>

<p style="margin-top: 1em">nobackup=[file name] <br>
If this file system entry exists, the directory containing
it will not be backed up.</p>

<p style="margin-top: 1em">read_fifo=[path] <br>
Do not back up the given fifo itself, but open it for
reading and back up the contents as if it were a regular
file.</p>

<p style="margin-top: 1em">read_all_fifos=[0|1] <br>
Open all fifos for reading and back up the contents as if
they were regular files.</p>

<p style="margin-top: 1em">read_blockdev=[path] <br>
Do not back up the given block device itself, but open it
for reading and back up the contents as if it were a regular
file.</p>

<p style="margin-top: 1em">read_all_blockdevs=[0|1] <br>
Open all block devices for reading and back up the contents
as if they were regular files.</p>

<p style="margin-top: 1em">split_vss=[0|1] <br>
When backing up Windows computers with burp protocol 1, this
option allows you to save the VSS header data separate from
the file data. The default is off, which means <br>
that the VSS header data is saved prepended to the file
data.</p>

<p style="margin-top: 1em">strip_vss=[0|1] <br>
When backing up Windows computers with burp protocol 1, this
option allows you to prevent the VSS header data being
backed up. The default is off. To restore a backup that <br>
has no VSS information on Windows, you need to give the
client the &rsquo;-x&rsquo; command line option.</p>

<p style="margin-top: 1em">vss_drives=[list of drive
letters] <br>
When backing up Windows computers, this option allows you to
specify which drives have VSS snapshots taken of them. If
you omit this option, burp will automatically decide <br>
based on the &rsquo;include&rsquo; options. If you want no
drives to have snapshots taken of them, you can specify
&rsquo;0&rsquo;.</p>

<p style="margin-top: 1em">acl=[0|1] <br>
If acl support is compiled into burp, this allows you to
decide whether or not to backup acls at runtime. The default
is &rsquo;1&rsquo;.</p>

<p style="margin-top: 1em">xattr=[0|1] <br>
If xattr support is compiled into burp, this allows you to
decide whether or not to backup xattrs at runtime. The
default is &rsquo;1&rsquo;.</p>

<p style="margin-top: 1em">atime=[0|1] <br>
This allows you to control whether the client uses O_NOATIME
when opening files and directories. The default is 0, which
enables O_NOATIME. This means that the client can <br>
read files and directories without updating the access
times. However, this is only possible if you are running as
root, or are the owner of the file or directory. If this
<br>
is not the case (perhaps you only have group or world access
to the files), you will get errors until you set atime=1.
With atime=1, the access times will be updated on <br>
the files and directories that get backed up.</p>

<p style="margin-top: 1em">scan_problem_raises_error=[0|1]
<br>
When enabled, this causes problems in the phase1 scan (such
as an &rsquo;include&rsquo; being missing) to be treated as
fatal errors. The default is off.</p>

<p style="margin-top: 1em">SERVER CLIENTCONFDIR FILE <br>
For the server to know about clients that can contact it,
you need to place a file named after the client in
clientconfdir. Files beginning with &rsquo;.&rsquo; or
ending with &rsquo;~&rsquo; are <br>
ignored. Directories are also ignored.</p>

<p style="margin-top: 1em">The file name must match the
name in the &rsquo;cname&rsquo; field on the client.</p>

<p style="margin-top: 1em">ssl_peer_cn=[string] must match
the common name in the SSL certificate that the client gives
when it connects. If ssl_peer_cn is not set, the client name
will be used instead <br>
(the clientconfdir file name).</p>

<p style="margin-top: 1em">The file needs to contain a line
like password=[password] that matches the same field on the
client, or passwd=[hash] - where the plain text password on
the client will be tested <br>
against a hash of the kind you might find in
/etc/passwd.</p>

<p style="margin-top: 1em">Additionally, the following
options can be overridden here for each client: <br>
enabled protocol directory directory_tree timestamp_format
password_check keep manual_delete
working_dir_recovery_method librsync version_warn
path_length_warn syslog <br>
client_can_delete client_can_force_backup client_can_list
client_can_restore client_can_verify restore_client
compression hard_quota soft_quota label timer_script <br>
timer_arg notify_success_script notify_success_arg
notify_success_warnings_only notify_failure_script
notify_failure_arg dedup_group server_script_pre <br>
server_script_pre_arg server_script_pre_notify
server_script_post server_script_post_arg
server_script_post_notify server_script server_script_arg
server_script_notify <br>
server_script_post_run_on_fail</p>

<p style="margin-top: 1em">Additionally, the includes and
excludes can be overridden here, as described in the section
above.</p>

<p style="margin-top: 1em">As with the other configuration
files, extra configuration can be included with the &rsquo;.
path/to/config/file&rsquo; syntax.</p>

<p style="margin-top: 1em">Some notes on SSL certificates
<br>
The burp example configs come with example SSL certificates
and keys. You can use these and burp will work. But if you
are worried about network security, you should generate <br>
your own certificates and keys and point your config files
to them. To create the example files, I used a handy
interface to openssl, called &rsquo;tinyca&rsquo;
(http://tinyca.sm- <br>
zone.net/). If you are using Debian, you can run
&rsquo;apt-get install tinyca&rsquo; to get it. There is
also the option of using burp_ca, which you can find in the
source distribution, <br>
courtesy of Patrick Koppen.</p>

<p style="margin-top: 1em">Examining backups <br>
As well as using the client list options described above,
you can go directly to the storage directory on the server.
The backups for a client are in the directory named after
<br>
the client. Inside each backup directory is a file called
manifest.gz.</p>

<p style="margin-top: 1em">This contains a list of all the
files in the backup, and where they originally came from on
the client.</p>

<p style="margin-top: 1em">There is also a
&rsquo;log.gz&rsquo; file in the backup directory, which
contains the output generated by the server during the
backup.</p>

<p style="margin-top: 1em">The &rsquo;data&rsquo; directory
contains complete backup files.</p>

<p style="margin-top: 1em">The &rsquo;deltas.reverse&rsquo;
directory contains reverse deltas that can be applied to the
data from the next backup in the sequence (indicated by the
contents of the &rsquo;forward&rsquo; file).</p>

<p style="margin-top: 1em">Anything with a .gz suffix is
compressed in zlib (gzip) format. You can use standard
tools, such as zcat, zless or cp, to view them or copy them
elsewhere. Files from Windows <br>
backups will probably contain VSS headers and/or footers.
For help stripping these, see the vss_strip man page.</p>

<p style="margin-top: 1em">Server initiated backups <br>
You can queue a backup on the server, to be performed when
the client next makes contact. To do this, you put a file
called &rsquo;backup&rsquo; into the top level of the client
storage <br>
directory. The contents of the file are ignored.</p>

<p style="margin-top: 1em">Server initiated restores <br>
You can queue a restore on the server, to be performed when
the client next makes contact. To do this, you put a file
called &rsquo;restore&rsquo; into the top level of the
client storage <br>
directory. The client can deny server initiated restores by
setting &quot;server_can_restore=0&quot; in its burp.conf.
Valid fields to include in the restore file are:</p>

<p style="margin-top: 1em">orig_client=[client] <br>
The original client to restore from. Equivalent to
&rsquo;-C&rsquo; when initiating a restore from a client. Do
not include this line when restoring to the original client.
See also <br>
the &rsquo;restore_client&rsquo; server option.</p>

<p style="margin-top: 1em">backup=[number|a] <br>
The number of the backup to restore from. Equivalent to
&rsquo;-b&rsquo; when initiating a restore from the
client.</p>

<p style="margin-top: 1em">overwrite=[0|1] <br>
Whether to overwrite existing files. Equivalent to
&rsquo;-f&rsquo; when initiating a restore from the
client.</p>

<p style="margin-top: 1em">strip=[number] <br>
Number of leading path components to strip. Equivalent to
&rsquo;-s&rsquo; when initiating a restore from the
client.</p>

<p style="margin-top: 1em">restoreprefix=[path] <br>
Prefix to the restore path. Equivalent to &rsquo;-d&rsquo;
when initiating a restore from the client.</p>

<p style="margin-top: 1em">regex=[regular expression] <br>
Only restore files matching the regular expression.
Equivalent to &rsquo;-r&rsquo; when initiating a restore
from the client.</p>

<p style="margin-top: 1em">include=[path] <br>
Restore directories and files that match the path. If it is
a directory, the contents of the directory will be restored.
You can have multiple &rsquo;include&rsquo; lines. There is
no <br>
equivalent when initiating a restore from the client.</p>

<p style="margin-top: 1em">SIGNALS <br>
Sending signal 1 (HUP) to the main server process will cause
it to reload. For the vast majority of configuration
changes, a reload is unnecessary as the server will pick up
<br>
changes &quot;on-the-fly&quot;. Sending signal 12 (USR2) to
the main server process will cause it to wait until there
are no longer any child processes, and then exit. The
intention is to <br>
help with upgrades without interrupting current backups. if
you are running upstart, a new burp server process will
start up when the old one exits.</p>

<p style="margin-top: 1em">RETURN CODES (SERVER) <br>
0: success <br>
1: error</p>

<p style="margin-top: 1em">RETURN CODES (CLIENT) <br>
0: success <br>
1: error <br>
2: restore gave warnings <br>
3: timer conditions on the server were not met <br>
4: could not connect to server</p>

<p style="margin-top: 1em">BUGS <br>
If you find bugs, please report them to the email list. See
the website &lt;http://burp.grke.net/&gt; for details.</p>

<p style="margin-top: 1em">AUTHOR <br>
The main author of Burp is Graham Keeling.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
See the LICENCE file included with the source
distribution.</p>

<p style="margin-top: 1em">Burp Burp(8)</p>
<hr>
</body>
</html>
