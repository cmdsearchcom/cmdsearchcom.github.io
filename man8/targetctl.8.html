<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>targetctl(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">targetctl(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">targetctl(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>targetctl</b> - Save and restore configuration of kernel target
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>targetctl</b> is a low-level script to save and restore the configuration of
  the LIO kernel target, to and from a file in json format. It is not normally
  meant to be used by end-users directly, but by system init frameworks, or
  advanced end-users who are generating the configuration file themselves and
  need a way to load the configuration without relying on the <b>targetcli</b>
  configuration shell.
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
<b>targetctl</b> must be invoked as root. Exit status will be 0 if successful,
  or nonzero if an error was encountered.
<div class="Pp"></div>
<b>targetctl save [config-file]</b>
<div class="Pp"></div>
Saves the current configuration of the kernel target to a file in json format.
  Since the file may contain cleartext passwords, the file's permissions will be
  set to only allow root access. If <b>config-file</b> is not supplied,
  <b>targetctl</b> will use the default file location,
  <b>/etc/target/saveconfig.json.</b>
<div class="Pp"></div>
<b>targetctl restore [config-file]</b>
<div class="Pp"></div>
Removes any existing configuration and replaces it with the configuration
  described in the file. See <b>saveconfig.json</b>(5) for more details. If
  parts of the configuration could not be restored, those parts will be noted in
  the error output, and the rest of the configuration will still be applied.
<div class="Pp"></div>
<b>targetctl clear</b>
<div class="Pp"></div>
Removes any existing configuration from the running kernel target.
<div class="Pp"></div>
<b>targetctl --help</b>
<div class="Pp"></div>
Displays usage information.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>targetcli</b>(8), <b>targetd</b>(8), <b>saveconfig.json</b>(5)
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>/etc/target/saveconfig.json</b>
<div class="Pp"></div>
<b>/sys/kernel/config/target</b>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Andy Grover &lt;agrover@redhat.com&gt;.
<div>&#x00A0;</div>
Man page written by Andy Grover &lt;agrover@redhat.com&gt;.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs via &lt;targetcli-fb-devel@lists.fedorahosted.org&gt;
<div>&#x00A0;</div>
or &lt;https://github.com/agrover/rtslib-fb/issues&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
