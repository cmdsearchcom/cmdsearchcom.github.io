<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pmt-ehd(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pmt-ehd(8)</td>
    <td class="head-vol">pam_mount</td>
    <td class="head-rtitle">pmt-ehd(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="Name"><a class="selflink" href="#Name">Name</a></h1>
pmt-ehd - create an encrypted disk image
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
<b>pmt-ehd</b> [<b>-DFx</b>] [ <b>-c</b> <i>fscipher</i>] [ <b>-h</b>
  <i>hash</i>] [ <b>-k</b> <i>fscipher_keybits</i>] [ <b>-t</b> <i>fstype</i>]
  <b>-f</b> <i>container_path</i> <b>-s</b> <i>size_in_mb</i>
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
Mandatory options that are absent are inquired interactively, and pmt-ehd will
  exit if stdin is not a terminal.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">Turn on debugging strings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">Force operation that would otherwise ask for interactive
      confirmation. Multiple <b>-F</b> can be specified to apply more
    force.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>cipher</i></dt>
  <dd class="It-tag">The cipher to be used for the filesystem. This can take any
      value that cryptsetup(8) recognizes, usually in the form of
      &quot;cipher-mode[-extras]&quot;. Recommended are
      <b>aes-cbc-essiv:sha256</b> (this is the default) or
      <b>aes-xts-essiv:sha256</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <i>path</i></dt>
  <dd class="It-tag">Store the new disk image at <i>path</i>. If the file
      already exists, pmt-ehd will prompt before overwriting unless -F is given.
      If <i>path</i> refers to a symlink, pmt-ehd will act even more
    cautious.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b> <i>hash</i></dt>
  <dd class="It-tag">Message digest/hash used for key derivation in the PBKDF2
      stage. The default is <b>sha512</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b> <i>cipher</i></dt>
  <dd class="It-tag">(This option had been removed in pam_mount/pmt_ehd
    2.11.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b> <i>keybits</i></dt>
  <dd class="It-tag">The keysize for the cipher specified with -c. Some ciphers
      support multiple keysizes, AES for example is available with at least the
      keysizes 192 and 256. Defaults to <b>256</b> (to match aes-cbc-essiv).
      Note that XTS uses two keys, but drawn from the same key material, so
      aes-cbc-256 is equivalent to aes-xts-512, and aes-cbc-128 is to
      aes-xts-256.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>path</i></dt>
  <dd class="It-tag">(This option had been removed in pam_mount/pmt_ehd
    2.11.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>size</i></dt>
  <dd class="It-tag">The initial size of the encrypted filesystem, in megabytes.
      This option is ignored when the filesystem is created on a block
    device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> <i>fstype</i></dt>
  <dd class="It-tag">Filesystem to use for the encrypted filesystem. Defaults to
      xfs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b> <i>user</i></dt>
  <dd class="It-tag">Give the container and fskey files to <i>user</i> (because
      the program is usually runs as root, and the files would otherwise retain
      root ownership).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">Do not initialize the container with random bytes. This may
      impact secrecy.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Description"><a class="selflink" href="#Description">Description</a></h2>
<b>pmt-ehd</b> can be used to create a new encrypted container, and replaces the
  previous mkehd script as well as any HOWTOs that explain how to do it
  manually. Without any arguments, pmt-ehd will interactively ask for all
  missing parameters. To create a container with a size of 256 MB, use:
<div class="Pp"></div>
pmt-ehd -f /home/user.cont -s 256</div>
<table class="foot">
  <tr>
    <td class="foot-date">2011-Aug-05</td>
    <td class="foot-os">pam_mount</td>
  </tr>
</table>
</body>
</html>
