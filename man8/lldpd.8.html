<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:12:57 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LLDPD(8) BSD System Manager&rsquo;s Manual LLDPD(8)</p>

<p style="margin-top: 1em">NAME <br>
lldpd &acirc; LLDP daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
lldpd [-dxcseiklrv] [-D debug] [-p pidfile] [-S description]
[-P platform] [-X socket] [-m management] [-u file] [-I
interfaces] [-C interfaces] [-M class] [-H hide] [-L
lldpcli]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
lldpd is a daemon able to receive and send LLDP frames. The
Link Layer Discovery Protocol is a vendor-neutral Layer 2
protocol that allows a network device to advertise its
iden&acirc; <br>
tity and capabilities on the local network.</p>

<p style="margin-top: 1em">lldpd also implements an SNMP
subagent using AgentX protocol to interface to a regular
SNMP agent like Net-SNMP. To enable this subagent, you need
something like that in your <br>
snmpd.conf(5):</p>

<p style="margin-top: 1em">master agentx</p>

<p style="margin-top: 1em">This daemon implements both
reception and sending. It will collect various information
to send LLDP frames to all Ethernet interfaces, including
management address, speed and VLAN <br>
names.</p>

<p style="margin-top: 1em">The options are as follows:</p>

<p style="margin-top: 1em">-d Do not daemonize. If this
option is specified, lldpd will run in the foreground. When
specified one more time, lldpd will not log to syslog but
only to stderr. Then, this <br>
option can be specified many times to increase verbosity.
When specified four times, debug logs will be enabled. They
can be filtered with -D flag.</p>

<p style="margin-top: 1em">-D debug <br>
This option allows the user to filter out debugging
information by specifying allowed tokens. This option can be
repeated several times to allow several tokens. This option
<br>
must be combined with the -d flag to have some effect. Only
debugging logs can be filtered. Here is a list of allowed
tokens with their description: <br>
main Main daemon. <br>
interfaces Discovery of local interfaces. <br>
lldp LLDP PDU encoding/decoding. <br>
edp EDP PDU encoding/decoding. <br>
cdp CDP/FDP PDU encoding/decoding. <br>
sonmp SONMP PDU encoding/decoding. <br>
event Events management. <br>
libevent Events management but for logs generated by
libevent. <br>
privsep Privilege separation. <br>
localchassis <br>
Retrieval of information related to the local chassis. <br>
rpc Client communication. <br>
control Management of the Unix control socket. <br>
snmp SNMP subagent. <br>
libsnmp SNMP subagent but for logs generated by NetSNMP.
<br>
decode Generic PDU decoding. <br>
marshal Low-level serialization mechanisms. <br>
alloc Low-level allocation mechanisms. <br>
send Sending PDU to some interface. <br>
receive Receiving PDU from some interface. <br>
loop Main loop. <br>
smartfilter <br>
Smart filtering of different protocols on the same port.
<br>
netlink Netlink subsystem.</p>

<p style="margin-top: 1em">-p pidfile <br>
Use the provided PID file to record lldpd PID instead of
/var/run/lldpd.pid.</p>

<p style="margin-top: 1em">-k Disable advertising of kernel
release, version and machine. Kernel name (ie: Linux) will
still be shared, and Inventory software version will be set
to &rsquo;Unknown&rsquo;.</p>

<p style="margin-top: 1em">-S description <br>
Override system description with the provided description.
The default description is the kernel name, the node name,
the kernel version, the build date and the architec&acirc;
<br>
ture (except if you use the -k flag described above).</p>

<p style="margin-top: 1em">-P platform <br>
Override the CDP platform name with the provided value. The
default description is the kernel name (Linux).</p>

<p style="margin-top: 1em">-x Enable SNMP subagent. With
this option, lldpd will enable an SNMP subagent using AgentX
protocol. This allows you to get information about local
system and remote systems <br>
through SNMP.</p>

<p style="margin-top: 1em">-X socket <br>
Enable SNMP subagent using the specified socket. lldpd will
enable an SNMP subagent using AgentX protocol for the given
socket. This option implies the previous one. The <br>
default socket is usually /var/agentx/master. You can
specify a socket like tcp:127.0.0.1:705 for example. Since
the process that will open this socket is enclosed in a <br>
chroot, you need to specify an IP address (not a hostname)
when using a TCP or UDP socket.</p>

<p style="margin-top: 1em">-c Enable the support of CDP
protocol to deal with Cisco routers that do not speak LLDP.
If repeated, CDPv1 packets will be sent even when there is
no CDP peer detected. If <br>
repeated once again, CDPv2 packets will be sent even when
there is no CDP peer detected. If repeated once again (i.e.
-cccc), CDPv1 will be disabled and CDPv2 will be <br>
enabled. If repeated once again (i.e. -ccccc), CDPv1 will be
disabled and CDPv2 will be forced.</p>

<p style="margin-top: 1em">-f Enable the support of FDP
protocol to deal with Foundry routers that do not speak
LLDP. If repeated, FDP packets will be sent even when there
is no FDP peer detected.</p>

<p style="margin-top: 1em">-s Enable the support of SONMP
protocol to deal with Nortel routers and switches that do
not speak LLDP. If repeated, SONMP packets will be sent even
when there is no SONMP <br>
peer detected.</p>

<p style="margin-top: 1em">-e Enable the support of EDP
protocol to deal with Extreme routers and switches that do
not speak LLDP. If repeated, EDP packets will be sent even
when there is no EDP peer <br>
detected.</p>

<p style="margin-top: 1em">-l Force to send LLDP packets
even when there is no LLDP peer detected but there is a peer
speaking another protocol detected. By default, LLDP packets
are sent when there is <br>
a peer speaking LLDP detected or when there is no peer at
all. If repeated, LLDP is disabled.</p>

<p style="margin-top: 1em">-r Receive-only mode. With this
switch, lldpd will not send any frame. It will only listen
to neighbors.</p>

<p style="margin-top: 1em">-m management <br>
Specify the management addresses of this system. As for
interfaces (described below), this option can use wildcards
and inversions. Without this option, the first IPv4 and <br>
the first IPv6 are used. If an exact IP address is provided,
it is used as a management address without any check. If
only negative patterns are provided, only one IPv4 and <br>
one IPv6 addresses are chosen. Otherwise, many of them can
be selected. If you want to blacklist IPv6 addresses, you
can use !*:*.</p>

<p style="margin-top: 1em">-u file <br>
Specify the Unix-domain socket used for communication with
lldpctl(8).</p>

<p style="margin-top: 1em">-I interfaces <br>
Specify which interface to listen and send LLDPDU to.
Without this option, lldpd will use all available physical
interfaces. This option can use wildcards. Several
inter&acirc; <br>
faces can be specified separated by commas. It is also
possible to blacklist an interface by suffixing it with an
exclamation mark. It is possible to whitelist an
inter&acirc; <br>
face by suffixing it with two exclamation marks. A
whitelisted interface beats a blacklisted interface which
beats a simple matched interface. For example, with <br>
eth*,!eth1,!eth2 lldpd will only use interfaces starting by
eth with the exception of eth1 and eth2. While with
*,!eth*,!!eth1 lldpd will use all interfaces, except
inter&acirc; <br>
faces starting by eth with the exception of eth1. When an
exact match is found, it will circumvent some tests. For
example, if eth0.12 is specified, it will be accepted <br>
even if this is a VLAN interface.</p>

<p style="margin-top: 1em">-C interfaces <br>
Specify which interfaces to use for computing chassis ID.
Without this option, all interfaces are considered. lldpd
will take the first MAC address from all the considered <br>
interfaces to compute the chassis ID. The logic of this
option is the same as for -I flag: you can exclude
interfaces with an exclamation mark and use globbing to
specify <br>
several interfaces. If all interfaces are blacklisted (with
!*), the system name is used as a chassis ID instead.</p>

<p style="margin-top: 1em">-M class <br>
Enable emission of LLDP-MED frame. The class should be one
of the following value: <br>
1 Generic Endpoint (Class I) <br>
2 Media Endpoint (Class II) <br>
3 Communication Device Endpoints (Class III) <br>
4 Network Connectivity Device</p>

<p style="margin-top: 1em">-i Disable LLDP-MED inventory
TLV transmission. lldpd will still receive (and publish
using SNMP if enabled) those LLDP-MED TLV but will not send
them. Use this option if you <br>
don&rsquo;t want to transmit sensible information like
serial numbers.</p>

<p style="margin-top: 1em">-H hide <br>
Filter neighbors. See section FILTERING NEIGHBORS for
details.</p>

<p style="margin-top: 1em">-L lldpcli <br>
Provide an alternative path to lldpcli for configuration. If
empty, does not use lldpcli for configuration.</p>

<p style="margin-top: 1em">-v Show lldpd version. When
repeated, show more build information.</p>

<p style="margin-top: 1em">FILTERING NEIGHBORS <br>
In a heterogeneous network, you may see several different
hosts on the same port, even if there is only one physically
plugged to this port. For example, if you have a Nortel <br>
switch running LLDP which is plugged to a Cisco switch
running CDP and your host is plugged to the Cisco switch,
you will see the Nortel switch as well because LLDP frames
are for&acirc; <br>
warded by the Cisco switch. This may not be what you want.
The -H hide parameter will allow you to tell lldpd to
discard some frames that it receives and to avoid to send
some <br>
other frames.</p>

<p style="margin-top: 1em">Incoming filtering and outgoing
filtering are unrelated. Incoming filtering will hide some
remote ports to get you a chance to know exactly what
equipment is on the other side of <br>
the network cable. Outgoing filtering will avoid to use some
protocols to avoid flooding your network with a protocol
that is not handled by the nearest equipment. Keep in mind
<br>
that even without filtering, lldpd will speak protocols for
which at least one frame has been received and LLDP
otherwise (there are other options to change this behaviour,
for <br>
example -cc, -ss, -ee, -ll and -ff ).</p>

<p style="margin-top: 1em">When enabling incoming
filtering, lldpd will try to select one protocol and filter
out neighbors using other protocols. To select this
protocol, the rule is to take the less used <br>
protocol. If on one port, you get 12 CDP neighbors and 1
LLDP neighbor, this mean that the remote switch speaks LLDP
and does not filter CDP. Therefore, we select LLDP. When
<br>
enabling outgoing filtering, lldpd will also try to select
one protocol and only speaks this protocol. The filtering is
done per port. Each port may select a different
protocol.</p>

<p style="margin-top: 1em">There are two additional
criteria when enabling filtering: allowing one or several
protocols to be selected (in case of a tie) and allowing one
or several neighbors to be selected. <br>
Even when allowing several protocols, the rule of selecting
the protocols with the less neighbors still apply. If lldpd
selects LLDP and CDP, this means they have the same number
<br>
of neighbors. The selection of the neighbor is random.
Incoming filtering will select a set of neighbors to be
displayed while outgoing filtering will use the selected set
of <br>
neighbors to decide which protocols to use: if a selected
neighbor speaks LLDP and another one CDP, lldpd will speak
both CDP and LLDP on this port.</p>

<p style="margin-top: 1em">There are some corner cases. A
typical example is a switch speaking two protocols (CDP and
LLDP for example). You want to get the information from the
best protocol but you want to <br>
speak both protocols because some tools use the CDP table
and some other the LLDP table.</p>

<p style="margin-top: 1em">The table below summarize all
accepted values for the -H hide parameter. The default value
is 15 which corresponds to the corner case described above.
The filter column means that <br>
filtering is enabled. The 1proto column tells that only one
protocol will be kept. The 1neigh column tells that only one
neighbor will be kept.</p>

<p style="margin-top: 1em">incoming outgoing <br>
filter 1proto 1neigh filter 1proto 1neigh <br>
0 <br>
1 x x x x <br>
2 x x <br>
3 x x <br>
4 x x <br>
5 x <br>
6 x <br>
7 x x x x x <br>
8 x x x <br>
9 x x x x <br>
10 x x <br>
11 x x <br>
12 x x x x <br>
13 x x x <br>
14 x x x x <br>
15 x x x <br>
16 x x x x x <br>
17 x x x x <br>
18 x x x <br>
19 x x x</p>

<p style="margin-top: 1em">FILES <br>
/var/run/lldpd.socket Unix-domain socket used for
communication with lldpctl(8). <br>
/etc/lldpd.conf Configuration file for lldpd. Commands in
this files are executed by lldpcli(8) at start. <br>
/etc/lldpd.d Directory containing configuration files whose
commands are executed by lldpcli(8) at start.</p>

<p style="margin-top: 1em">SEE ALSO <br>
lldpctl(8), lldpcli(8), snmpd(8)</p>

<p style="margin-top: 1em">HISTORY <br>
The lldpd program is inspired from a preliminary work of
Reyk Floeter.</p>

<p style="margin-top: 1em">AUTHORS <br>
The lldpd program was written by Pierre-Yves Ritschard
&lt;pyr@openbsd.org&gt;, and Vincent Bernat
&lt;bernat@luffy.cx&gt;.</p>

<p style="margin-top: 1em">BSD August 21, 2008 BSD</p>
<hr>
</body>
</html>
