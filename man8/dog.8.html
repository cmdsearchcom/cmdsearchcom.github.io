<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SHEEPDOG(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SHEEPDOG(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">SHEEPDOG(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dog - Command line utility for the sheep daemon
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dog &lt;command&gt; &lt;subcommand&gt; [options]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dog</b> - Sheepdog is a distributed storage system for QEMU. It provides
  highly available block level storage volumes to virtual machines. Sheepdog
  supports advanced volume management features such as snapshot, cloning, and
  thin provisioning. The architecture of Sheepdog is fully symmetric; there is
  no central node such as a meta-data server.
<div style="height: 1.00em;">&#x00A0;</div>
The server daemon is called sheep(8). A command line utility is available via
  dog(8). QEMU virtual machines use the sheep daemon via a block driver
  available in qemu(1).
<div style="height: 1.00em;">&#x00A0;</div>
For more information, run 'dog &lt;command&gt; &lt;subcommand&gt; --help'.
<h1 class="Sh" title="Sh" id="COMMAND_&amp;_SUBCOMMAND"><a class="selflink" href="#COMMAND_&amp;_SUBCOMMAND">COMMAND
  &amp; SUBCOMMAND</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi check [-s snapshot] [-e] [-a address] [-p port] [-h]
    [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -e, --exist only check objects exist or not,
    <br/>
     neither comparing nor repairing
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     check and repair image's consistency</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi create [-P] [-y] [-c copies] [-a address] [-p port]
    [-h] [-r] [-v] [-z block_size_shift] [-T] &lt;vdiname&gt;
    &lt;size&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -P, --prealloc preallocate all the data objects
    <br/>
     -y, --hyper create a hyper volume
    <br/>
     -c, --copies specify the data redundancy level
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -v, --verbose print more information than default
    <br/>
     -z, --block_size_shift specify the bit shift num for data object size
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     create an image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi snapshot [-s snapshot] [-a address] [-p port] [-h]
    [-r] [-v] [-T] [-R] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -v, --verbose print more information than default
    <br/>
     -T, --time show elapsed time
    <br/>
     -R, --reduce-identical-snapshotsdo not create snapshot if working VDI
      doesn't have its own objects
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     create a snapshot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi clone [-s snapshot] [-P] [-n] [-a address] [-p port]
    [-h] [-r] [-v] [-T] &lt;src vdi&gt; &lt;dst vdi&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -P, --prealloc preallocate all the data objects
    <br/>
     -n, --no-share share nothing with its parent
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -v, --verbose print more information than default
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     clone an image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi delete [-s snapshot] [-a address] [-p port] [-h]
    [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     delete an image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi rollback [-s snapshot] [-a address] [-p port] [-h]
    [-f] [-r] [-v] [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -f, --force do operation forcibly
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -v, --verbose print more information than default
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     rollback to a snapshot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi list [-a address] [-p port] [-r] [-h] [-o oid] [-T]
    [vdiname]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -h, --help display this help and exit
    <br/>
     -o, --oid specify the object id of the tracking object
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     list images</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi tree [-a address] [-p port] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show images in tree view format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi graph [-a address] [-p port] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show images in Graphviz dot format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi object {location|map|dump-inode} [-i index] [-s
    snapshot] [-a address] [-p port] [-h] [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     location show object location information
    <br/>
     map show object map information
    <br/>
     dump-inode dump inode information
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -i, --index specify the index of data objects
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show object information in the image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi track [-i index] [-s snapshot] [-a address] [-p
    port] [-h] [-o oid] [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -i, --index specify the index of data objects
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -o, --oid specify the object id of the tracking object
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show the object epoch trace in the image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi setattr [-d] [-x] [-a address] [-p port] [-h] [-T]
    &lt;vdiname&gt; &lt;key&gt; [value]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -d, --delete delete a key
    <br/>
     -x, --exclusive write in an exclusive mode
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     set a VDI attribute</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi getattr [-a address] [-p port] [-h] [-T]
    &lt;vdiname&gt; &lt;key&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     get a VDI attribute</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi resize [-a address] [-p port] [-h] [-T]
    &lt;vdiname&gt; &lt;new size&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     resize an image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi read [-s snapshot] [-a address] [-p port] [-h] [-T]
    &lt;vdiname&gt; [&lt;offset&gt; [&lt;len&gt;]]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     read data from an image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi write [-a address] [-p port] [-w] [-h] [-T]
    &lt;vdiname&gt; [&lt;offset&gt; [&lt;len&gt;]]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -w, --writeback use writeback mode
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     write data to an image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi backup [-s snapshot] [-F from] [-a address] [-p
    port] [-h] [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -F, --from create a differential backup from the snapshot
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     create an incremental backup between two snapshots and outputs to
    STDOUT</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi restore [-s snapshot] [-a address] [-p port] [-h]
    [-T] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     restore snapshot images from a backup provided in STDIN</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi alter-copy [-c copies] [-a address] [-p port] [-h]
    [-T] [-f] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -c, --copies specify the data redundancy level
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <br/>
     -f, --force do operation forcibly
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     set the vdi's redundancy level</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vdi lock {list|unlock} [-s snapshot] [-a address] [-p
    port] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     list list locked VDIs
    <br/>
     unlock unlock locked VDI forcibly
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -s, --snapshot specify a snapshot id or tag name
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     See 'dog vdi lock' for more information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node kill [-a address] [-p port] [-r] [-h] [-l] [-T]
    &lt;node id&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -h, --help display this help and exit
    <br/>
     -l, --local issue request to local node
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     kill node</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node list [-a address] [-p port] [-r] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     list nodes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node info [-a address] [-p port] [-r] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show information about each node</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node recovery {info|set-throttle|get-throttle} [-a
    address] [-p port] [-h] [-P] [-r] [-T] &lt;max&gt; &lt;interval&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     info show recovery information of nodes (default)
    <br/>
     set-throttle set new throttling
    <br/>
     get-throttle get current throttling
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -P, --progress show progress of recovery in the node
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show recovery information or set/get recovery speed throttling of
    nodes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node md {info|plug|unplug} [-a address] [-p port] [-r]
    [-A] [-f] [-h] [-T] [disks]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     info show multi-disk information
    <br/>
     plug plug more disk(s) into node
    <br/>
     unplug unplug disk(s) from node
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -A, --all show md information of all the nodes
    <br/>
     -f, --force ignore the confirmation
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     See 'dog node md' for more information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node stat [-a address] [-p port] [-r] [-w] [-h]
    [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -w, --watch watch the stat every second
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show stat information about the node</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node log level [-a address] [-p port] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     level manipulate loglevel
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show or set log level of the node</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node vnodes set [-a address] [-p port] [-h] &lt;num of
    vnodes&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     set set new vnodes
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     set new vnodes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>node format [-a address] [-p port] [-h] [-T]
    &lt;directory of sheep&gt; &lt;a name of store format&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     initialize store format of the node</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster info [-a address] [-p port] [-r] [-h] [-v] [-T]
    [-d]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -h, --help display this help and exit
    <br/>
     -v, --verbose print more information than default
    <br/>
     -T, --time show elapsed time
    <br/>
     -d, --diff just output the changes between the two adjacent epochesfor
      cluster info
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     show cluster information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster format [-b store] [-c copies] [-l] [-t] [-a
    address] [-p port] [-h] [-z block_size_shift] [-T] [-V] [-R] [-f]
    [-F]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -b, --store specify backend store
    <br/>
     -c, --copies specify the default data redundancy (number of copies)
    <br/>
     -l, --lock Lock vdi to exclude multiple users
    <br/>
     -t, --strict do not serve write request if number of nodes is not
      sufficient
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -z, --block_size_shift specify the shift num of default data object size
    <br/>
     -T, --time show elapsed time
    <br/>
     -V, --fixedvnodes disable automatic vnodes calculation
    <br/>
     -R, --recyclevid enable recycling of VID
    <br/>
     -f, --force do not prompt for confirmation
    <br/>
     -F, --avoid-diskfull skip recovery if recovery process can cause disk full
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     create a Sheepdog store</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster shutdown [-a address] [-p port] [-h]
    [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     stop Sheepdog</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster snapshot {save|list|load|show} [-a address] [-p
    port] [-h] [-T] [-m] &lt;tag|idx&gt; &lt;path&gt; [vdi1] [vdi2] ...</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     save save snapshot to localpath
    <br/>
     list list snapshot of localpath
    <br/>
     load load snapshot from localpath
    <br/>
     show show vdi list from snapshot
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <br/>
     -m, --multithread use multi-thread for 'cluster snapshot save'
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     snapshot/restore the cluster</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster recover {force|enable|disable} [-a address] [-f]
    [-p port] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Available subcommands:
    <br/>
     force force recover cluster immediately
    <br/>
     enable enable automatic recovery and run once recover if necessary
    <br/>
     disable disable automatic recovery
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -f, --force do not prompt for confirmation
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     See 'dog cluster recover' for more information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster reweight [-a address] [-p port] [-h]
    [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     reweight the cluster</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster check [-a address] [-p port] [-h] [-T]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     check and repair cluster</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cluster alter-copy [-a address] [-p port] [-h] [-T] [-c
    copies] [-f]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <br/>
     -c, --copies specify the default data redundancy (number of copies)
    <br/>
     -f, --force do not prompt for confirmation
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     set the cluster's redundancy level</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>upgrade inode-convert [-h] [-T] [-o orig-version]
    &lt;path of original inode file&gt; &lt;path of new inode file&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <br/>
     -o, --orig-version version of converting file
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     upgrade inode object file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>upgrade epoch-convert [-h] [-T] [-o orig-version]
    &lt;path of original epoch log file&gt; &lt;path of new epoch log
    file&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <br/>
     -o, --orig-version version of converting file
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     upgrade epoch log file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>benchmark io [-a address] [-p port] [-r] [-h] [-T] [-f]
    [-w workqueue] [-t total] [-n nr-threads] &lt;vdiname&gt;</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:
    <br/>
     -a, --address specify the daemon address (default: localhost)
    <br/>
     -p, --port specify the daemon port
    <br/>
     -r, --raw raw output mode: omit headers, separate fields with
    <br/>
     single spaces and print all sizes in decimal bytes
    <br/>
     -h, --help display this help and exit
    <br/>
     -T, --time show elapsed time
    <br/>
     -f, --force do not prompt for confirmation
    <br/>
     -w, --workqueue specify workqueue type
    <br/>
     -t, --total a number of total operation (e.g. I/O request)
    <br/>
     -n, --nr-threads a number of worker threads (only used for fixed workqueue)
    <div style="height: 1.00em;">&#x00A0;</div>
    Description:
    <br/>
     benchmark I/O performance
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DEPENDENCIES"><a class="selflink" href="#DEPENDENCIES">DEPENDENCIES</a></h1>
<b>Sheepdog</b> requires QEMU 0.13.z or later and Corosync 1.y.z or 2.y.z.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
none
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>sheep(8),</b> <b>qemu(1),</b> <b>sheepfs(8),</b> <b>corosync_overview(8)</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
This software is developed by the Sheepdog community which may be reached via
  mailing list at &lt;sheepdog@lists.wpkg.org&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-02-12</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
