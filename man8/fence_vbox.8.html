<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:11:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">FENCE_AGENT(8) System
Manager&rsquo;s Manual FENCE_AGENT(8)</p>

<p style="margin-top: 1em">NAME <br>
fence_vbox - Fence agent for VirtualBox</p>

<p style="margin-top: 1em">DESCRIPTION <br>
fence_vbox is an I/O Fencing agent which can be used with
the virtual machines managed by VirtualBox. It logs via ssh
to a dom0 where it runs VBoxManage to do all of the
work.</p>

<p style="margin-top: 1em">By default, vbox needs to log in
as a user that is a member of the vboxusers group. Also, you
must allow ssh login in your sshd_config.</p>

<p style="margin-top: 1em">fence_vbox accepts options on
the command line as well as from stdin. Fenced sends
parameters through stdin when it execs the agent. fence_vbox
can be run by itself with command <br>
line options. This is useful for testing and for turning
outlets on or off from scripts.</p>

<p style="margin-top: 1em">Vendor URL:
https://www.virtualbox.org/</p>

<p style="margin-top: 1em">PARAMETERS</p>

<p style="margin-top: 1em">-o, --action=[action] <br>
Fencing action (Default Value: reboot)</p>

<p style="margin-top: 1em">-c, --command-prompt=[prompt]
<br>
Force Python regex for command prompt (Default Value:
[&rsquo;#&nbsp;&rsquo;])</p>

<p style="margin-top: 1em">-k, --identity-file=[filename]
<br>
Identity file (private key) for SSH</p>

<p style="margin-top: 1em">-4, --inet4-only <br>
Forces agent to use IPv4 addresses only</p>

<p style="margin-top: 1em">-6, --inet6-only <br>
Forces agent to use IPv6 addresses only</p>

<p style="margin-top: 1em">-a, --ip=[ip] <br>
IP address or hostname of fencing device This parameter is
always required.</p>

<p style="margin-top: 1em">-u, --ipport=[port] <br>
TCP/UDP port to use for connection with device (Default
Value: 22)</p>

<p style="margin-top: 1em">-l, --username=[name] <br>
Login name This parameter is always required.</p>

<p style="margin-top: 1em">-p, --password=[password] <br>
Login password or passphrase</p>

<p style="margin-top: 1em">-S, --password-script=[script]
<br>
Script to run to retrieve password</p>

<p style="margin-top: 1em">-n, --plug=[id] <br>
Physical plug number on device, UUID or identification of
machine This parameter is always required.</p>

<p style="margin-top: 1em">-x, --ssh <br>
Use SSH connection (Default Value: 1)</p>

<p style="margin-top: 1em">--ssh-options=[options] <br>
SSH options to use (Default Value: -t &rsquo;/bin/bash -c
&quot;PS1=# /bin/bash --noprofile --norc&quot;&rsquo;)</p>

<p style="margin-top: 1em">-q, --quiet <br>
Disable logging to stderr. Does not affect --verbose or
--debug logging to syslog.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Verbose mode</p>

<p style="margin-top: 1em">-D, --debug-file=[debugfile]
<br>
Write debug information to given file</p>

<p style="margin-top: 1em">-V, --version <br>
Display version information and exit</p>

<p style="margin-top: 1em">-h, --help <br>
Display help and exit</p>

<p style="margin-top: 1em">-C, --separator=[char] <br>
Separator for CSV created by &rsquo;list&rsquo; operation
(Default Value: ,)</p>

<p style="margin-top: 1em">--delay=[seconds] <br>
Wait X seconds before fencing is started (Default Value:
0)</p>

<p style="margin-top: 1em">--login-timeout=[seconds] <br>
Wait X seconds for cmd prompt after login (Default Value:
5)</p>

<p style="margin-top: 1em">--missing-as-off <br>
Missing port returns OFF instead of failure</p>

<p style="margin-top: 1em">--power-timeout=[seconds] <br>
Test X seconds for status change after ON/OFF (Default
Value: 20)</p>

<p style="margin-top: 1em">--power-wait=[seconds] <br>
Wait X seconds after issuing ON/OFF (Default Value: 0)</p>

<p style="margin-top: 1em">--shell-timeout=[seconds] <br>
Wait X seconds for cmd prompt after issuing command (Default
Value: 3)</p>

<p style="margin-top: 1em">--retry-on=[attempts] <br>
Count of attempts to retry power on (Default Value: 1)</p>

<p style="margin-top: 1em">--use-sudo <br>
Use sudo (without password) when calling 3rd party
software</p>

<p style="margin-top: 1em">--ssh-path=[path] <br>
Path to ssh binary (Default Value: /usr/bin/ssh)</p>

<p style="margin-top: 1em">--sudo-path=[path] <br>
Path to sudo binary (Default Value: /usr/bin/sudo)</p>

<p style="margin-top: 1em">ACTIONS</p>

<p style="margin-top: 1em">on Power on machine.</p>

<p style="margin-top: 1em">off Power off machine.</p>

<p style="margin-top: 1em">reboot Reboot machine.</p>

<p style="margin-top: 1em">status This returns the status
of the plug/virtual machine.</p>

<p style="margin-top: 1em">list List available plugs with
aliases/virtual machines if there is support for more then
one device. Returns N/A otherwise.</p>

<p style="margin-top: 1em">list-status <br>
List available plugs with aliases/virtual machines and their
power state if it can be obtained without additional
commands.</p>

<p style="margin-top: 1em">monitor <br>
Check the health of fence device</p>

<p style="margin-top: 1em">metadata <br>
Display the XML metadata describing this resource.</p>

<p style="margin-top: 1em">validate-all <br>
Validate if all required parameters are entered.</p>

<p style="margin-top: 1em">STDIN PARAMETERS</p>

<p style="margin-top: 1em">action Fencing action (Default
Value: reboot)</p>

<p style="margin-top: 1em">cmd_prompt <br>
Force Python regex for command prompt (Default Value:
[&rsquo;#&nbsp;&rsquo;])</p>

<p style="margin-top: 1em">identity_file <br>
Identity file (private key) for SSH</p>

<p style="margin-top: 1em">inet4_only <br>
Forces agent to use IPv4 addresses only</p>

<p style="margin-top: 1em">inet6_only <br>
Forces agent to use IPv6 addresses only</p>

<p style="margin-top: 1em">ipaddr IP address or hostname of
fencing device This parameter is always required.</p>

<p style="margin-top: 1em">ipport TCP/UDP port to use for
connection with device (Default Value: 22)</p>

<p style="margin-top: 1em">login Login name This parameter
is always required.</p>

<p style="margin-top: 1em">passwd Login password or
passphrase</p>

<p style="margin-top: 1em">passwd_script <br>
Script to run to retrieve password</p>

<p style="margin-top: 1em">port Physical plug number on
device, UUID or identification of machine This parameter is
always required.</p>

<p style="margin-top: 1em">secure Use SSH connection
(Default Value: 1)</p>

<p style="margin-top: 1em">ssh_options <br>
SSH options to use (Default Value: -t &rsquo;/bin/bash -c
&quot;PS1=# /bin/bash --noprofile --norc&quot;&rsquo;)</p>

<p style="margin-top: 1em">quiet Disable logging to stderr.
Does not affect --verbose or --debug logging to syslog.</p>

<p style="margin-top: 1em">verbose <br>
Verbose mode</p>

<p style="margin-top: 1em">debug Write debug information to
given file</p>

<p style="margin-top: 1em">version <br>
Display version information and exit</p>

<p style="margin-top: 1em">help Display help and exit</p>

<p style="margin-top: 1em">separator <br>
Separator for CSV created by &rsquo;list&rsquo; operation
(Default Value: ,)</p>

<p style="margin-top: 1em">delay Wait X seconds before
fencing is started (Default Value: 0)</p>

<p style="margin-top: 1em">login_timeout <br>
Wait X seconds for cmd prompt after login (Default Value:
5)</p>

<p style="margin-top: 1em">missing_as_off <br>
Missing port returns OFF instead of failure</p>

<p style="margin-top: 1em">power_timeout <br>
Test X seconds for status change after ON/OFF (Default
Value: 20)</p>

<p style="margin-top: 1em">power_wait <br>
Wait X seconds after issuing ON/OFF (Default Value: 0)</p>

<p style="margin-top: 1em">shell_timeout <br>
Wait X seconds for cmd prompt after issuing command (Default
Value: 3)</p>

<p style="margin-top: 1em">retry_on <br>
Count of attempts to retry power on (Default Value: 1)</p>

<p style="margin-top: 1em">sudo Use sudo (without password)
when calling 3rd party software</p>

<p style="margin-top: 1em">ssh_path <br>
Path to ssh binary (Default Value: /usr/bin/ssh)</p>

<p style="margin-top: 1em">sudo_path <br>
Path to sudo binary (Default Value: /usr/bin/sudo)</p>

<p style="margin-top: 1em">fence_vbox (Fence Agent)
2009-10-20 FENCE_AGENT(8)</p>
<hr>
</body>
</html>
