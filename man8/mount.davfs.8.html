<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:32 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>mount.davfs(8) 1.5.4 mount.davfs(8)</p>

<p style="margin-top: 1em">NAME <br>
mount.davfs - Mount a WebDAV resource as davfs2 file
system</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mount.davfs [-h | --help] [-V | --version] <br>
mount {dir | webdavserver}</p>

<p style="margin-top: 1em">SYNOPSIS (root only) <br>
mount -t davfs [-o option[,...]] webdavserver dir <br>
mount.davfs [-o option[,...]] webdavserver dir</p>

<p style="margin-top: 1em">DESCRIPTION <br>
mount.davfs allows you to mount the WebDAV resource
identified by webdavserver into the local filesystem at dir.
WebDAV is an extension to HTTP that allows remote,
collaborative <br>
authoring of Web resources, defined in RFC 4918. mount.davfs
is part of davfs2.</p>

<p style="margin-top: 1em">davfs2 allows documents on a
remote Web server to be edited using standard applications.
For example, a remote Web site could be updated in-place
using the same development tools <br>
that initially created the site. Or you may use a WebDAV
resource for documents you want to access and edited from
different locations.</p>

<p style="margin-top: 1em">davfs2 supports TLS/SSL (if the
neon library supports it) and proxies. mount.davfs runs as a
daemon in userspace. It integrates into the virtual file
system by either the coda or <br>
the fuse kernel files system. Currently CODA_KERNEL_VERSION
3 and FUSE_KERNEL_VERSION 7 are supported.</p>

<p style="margin-top: 1em">mount.davfs is usually invoked
by the mount(8) command when using the -t davfs option.
After mounting it runs as a daemon. To unmount the umount(8)
command is used.</p>

<p style="margin-top: 1em">webdavserver is the URL of the
server. It must at least contain the host name. It may
additionally contain the scheme, the port and the path.
Missing components are set to sen&acirc; <br>
sible default values. The path component must not be
%-encoded, but when entering the URL at the command line or
in /etc/fstab the escaping rules of the shell or fstab must
be <br>
obeyed.</p>

<p style="margin-top: 1em">dir is the mountpoint where the
WebDAV resource is mounted on. It may be an absolute or
relative path.</p>

<p style="margin-top: 1em">fstab may be used to define
mounts and mount options as usual. In place of the device
the url of the WebDAV server must be given. There must not
be more than one entry in fstab <br>
for every mountpoint.</p>

<p style="margin-top: 1em">OPTIONS <br>
-V --version <br>
Output version.</p>

<p style="margin-top: 1em">-h --help <br>
Print a help message.</p>

<p style="margin-top: 1em">-o A comma-separated list
defines mount options to be used. Available options are:</p>

<p style="margin-top: 1em">[no]auto <br>
Can (not) be mounted with mount -a. <br>
Default: auto.</p>

<p style="margin-top: 1em">comment=some comment <br>
This option is ignored by mount.davfs but other programs may
require it to be present in fstab.</p>

<p style="margin-top: 1em">conf=absolute path <br>
An alternative user configuration file. This option is
intended for cases where the default user configuration file
in the users home directory can not be used. <br>
Default: ~/.davfs2/davfs2.conf</p>

<p style="margin-top: 1em">[no]dev <br>
(Do not) interpret character or block special devices on the
file system. This option is only included for compatibility
with the mount(8) program. It will all&acirc; <br>
ways be set to nodev</p>

<p style="margin-top: 1em">dir_mode=mode <br>
The default mode bits for directories in the mounted file
system. Value given in octal. s-bits for user and group are
allways silently ignored. <br>
Default: calculated from the umask of the mounting user; an
x-bit is associated to every r-bit in u-g-o.</p>

<p style="margin-top: 1em">[no]exec <br>
(Do not) allow execution of any binaries on the mounted file
system. <br>
Default: exec. (When mounting as an ordinary user, the
mount(8) program will set the default to noexec.)</p>

<p style="margin-top: 1em">file_mode=mode <br>
The default mode bits for files in the mounted file system.
Value given in octal. s-bits for user and group are allways
silently ignored. <br>
Default: calculated from the umask of the mounting user; no
x-bits are set for files.</p>

<p style="margin-top: 1em">gid=group <br>
The group the mounted file system belongs to. It may be a
numeric ID or a group name. The mounting user, if not root,
must be member of this group. <br>
Default: the primary group of the mounting user.</p>

<p style="margin-top: 1em">[no]grpid <br>
When this option is set a newly created file will take the
group id of the directory in which it is created. This will
also apply to all files that are on the <br>
server and not in the local cache. (That is because the
group id is not stored on the server.) <br>
If the group id of the directory is root this option is
ignored. <br>
Default: nogrpid.</p>

<p style="margin-top: 1em">[no]_netdev <br>
The file system needs a (no) network connection for
operation. This information allows the operating system to
handle the file system properly at system start and <br>
when the network is shut down. <br>
Default: _netdev</p>

<p style="margin-top: 1em">ro Mount the file system
read-only. <br>
Default: rw.</p>

<p style="margin-top: 1em">rw Mount the file system
read-write. <br>
Default: rw.</p>

<p style="margin-top: 1em">[no]suid <br>
Do not allow set-user-identifier or set-group-identifier
bits to take effect. This option is only included for
compatibility with the mount program. It will all&acirc;
<br>
ways be set to nosuid.</p>

<p style="margin-top: 1em">[no]user <br>
(Do not) allow an ordinary user to mount the file system.
The name of the mounting user is written to mtab so that he
can unmount the file system again. Option <br>
user implies the options noexec, nosuid and nodev (unless
overridden by subsequent options). This option makes only
sense when set in fstab. <br>
Default: ordinary users are not allowed to mount.</p>

<p style="margin-top: 1em">users Like user, but any user is
allowed to unmount the file system, not only the mounting
user. This is generally not recomended. If the user option
allows an unprivi&acirc; <br>
leged user to mount, but unmounting by the mounting user
fails the users may be a work around. <br>
Default: only the mounting user is allowed to unmount the
file system.</p>

<p style="margin-top: 1em">uid=user <br>
The owner of the mounted file system. It may be a numeric ID
or a user name. Only when mounted by root, this may be
different from the mounting user. <br>
Default: ID of the mounting user.</p>

<p style="margin-top: 1em">username=WebDAV_user <br>
Use this name to authenticate with the WebDAV server. This
option is intended for use with pam_mount only. When this
option is set the credentials in the secrets files <br>
will be ignored. The password will always be read from
stdin, even when option askauth is set to 0. Do not use it
in fstab. The username will be visible for everyone in <br>
the output of ps. <br>
Default: no username. <br>
Experimental: This option is experimental and might be
removed. If you think it useful and successfully use it
please send a short report.</p>

<p style="margin-top: 1em">SECURITY POLICY <br>
mount.davfs needs root privileges for mounting. But running
a daemon, that is connected to the internet, with root
privileges is a security risk. So mount.davfs will change
its <br>
uid and gid when entering daemon mode.</p>

<p style="margin-top: 1em">When invoked by root mount.davfs
will run as user davfs2 and group davfs2. This may be
changed in /etc/davfs2/davfs2.conf.</p>

<p style="margin-top: 1em">When invoked by an ordinary user
it will run with the id of this user and with group
davfs2.</p>

<p style="margin-top: 1em">As the file system may be
mounted over an insecure internet connection, this increases
the risk that malicious content may be included in the file
system. So mount.davfs is <br>
slightly more restrictive than mount(8).</p>

<p style="margin-top: 1em">Options nosuid and nodev will
always be set; even root can not change this.</p>

<p style="margin-top: 1em">For ordinary users to be able to
mount, they must be member of group davfs2 and there must be
an entry in fstab.</p>

<p style="margin-top: 1em">When the mount point given in
fstab is a relative file name and the file system is mounted
by an unprivileged user, the mount point must lie within the
home directory of <br>
the mounting user.</p>

<p style="margin-top: 1em">If in fstab option uid and/or
gid are given, an ordinary user can only mount, if her uid
is the one given in option uid and he belongs to the group
given in option gid.</p>

<p style="margin-top: 1em">WARNING: If root allows an
ordinary user to mount a file system (using fstab) this
includes the permission to read the associated credentials
from /etc/davfs2/secrets as well as <br>
the private key of the associated client certificate and the
mounting user may get access to this information. You should
only do this, if you might as well give this information
<br>
to the user directly.</p>

<p style="margin-top: 1em">URLS AND MOUNT POINTS WITH
SPACES <br>
Special characters like spaces in pathnames are a mess. They
are interpreted differently by different programs and
protocols, and there are different rules for escaping.</p>

<p style="margin-top: 1em">In fstab spaces must be replaced
by a three digit octal escape sequence. Write
http://foo.bar/path 40with 40spaces instead of
http://foo.bar/path with spaces.</p>

<p style="margin-top: 1em">For the davfs2.conf and the
secrets files please see the escape and quotation rules
described in the davfs2.conf(5) man page.</p>

<p style="margin-top: 1em">On command line you must obey
the escaping rules of the shell.</p>

<p style="margin-top: 1em">CACHING <br>
mount.davfs tries to reduce HTTP-trafic by caching and
reusing data. Information about directories and files are
held in memory, while downloaded files are cached on
disk.</p>

<p style="margin-top: 1em">mount.davfs needs to hold a
local copy of all open files in the cache directory. Please
make sure that enough local disk space is available.</p>

<p style="margin-top: 1em">mount.davfs will consider cached
information about directories and file attributes valid for
a configurable time and look up this information on the
server only after this time <br>
has expired (or there is other evidence that this
information is stale). So if somebody else creates or
deletes files on the server it may take some time before the
local file <br>
system reflects this.</p>

<p style="margin-top: 1em">This will not affect the content
of files and directory listings. Whenever a file is opened,
the server is looked up for a newer version of the file.
Please consult the manual <br>
davfs2.conf(5) to see how can you configure this according
your needs.</p>

<p style="margin-top: 1em">LOCKS, LOST UPDATE PROBLEM AND
BACKUP FILES <br>
WebDAV introduced locks and mount.davfs uses them by
default. This will in most cases prevent two people from
changing the same file in parallel. But not allways:</p>

<p style="margin-top: 1em">You might have disabled locks in
/etc/davfs2/davfs2.conf or ~/.davfs2/davfs2.conf.</p>

<p style="margin-top: 1em">The server might not support
locks (they are not mandatory).</p>

<p style="margin-top: 1em">A bad connection might prevent
mount.davfs from refreshing the lock in time.</p>

<p style="margin-top: 1em">Another WebDAV-client might use
your lock (that is not too difficult and might even happen
without intention).</p>

<p style="margin-top: 1em">mount.davfs will therefore check
if the file has been changed on the the server before it
uploads a new version. If it finds it impossible to upload
the locally changed file, it <br>
will store it in the local backup direcotry lost+found. You
should check this directory from time to time and decide
what to do with this files.</p>

<p style="margin-top: 1em">Sometimes locks held by some
client on the server will not be released. Maybe the client
crashes or the network connection fails. When mount.davfs
finds a file locked on the <br>
server, it will check whether the lock is held by
mount.davfs and the current user, and if so tries to reuse
and release it. But this will not allways succeed. So
servers should <br>
automatically release locks after some time, when they are
not refreshed by the client.</p>

<p style="margin-top: 1em">WebDAV allows to lock files that
don&rsquo;t exist (to protect the name when a client intends
to create a new file). This locks will be displayed as files
with size 0 and last modified <br>
date of 1970-01-01. If this locks are not released properly
mount.davfs may not be able to access this files. You can
use cadaver(1) &lt;http://www.webdav.org/cadaver/&gt; to
remove <br>
this locks.</p>

<p style="margin-top: 1em">FILE OWNER AND PERMISSIONS <br>
davfs2 implements Unix permissions for access control. But
changing owner and permissions of a file is only local. It
is intended as a means for the owner of the file system, to
<br>
controll whether other local users may acces this file
system.</p>

<p style="margin-top: 1em">The server does not know about
this. From the servers point of view there is just one user
(identified by the credentials) connected. Another
WebDAV-client, connected to the same <br>
server, is not affected by this local changes.</p>

<p style="margin-top: 1em">There is one exeption: The
execute bit on files is stored as a property on the sever.
You may think of this property as an information about the
type of file rather than a per&acirc; <br>
mission. Whether the file is executable on the local system
is still controlled by mount options and local
permissions.</p>

<p style="margin-top: 1em">When the file system is
unmounted, attributes of cached files (including owner and
permissions) are stored in cache, as well as the attributs
of the direcotries they are in. But <br>
there is no information stored about directories that do not
contain cached files.</p>

<p style="margin-top: 1em">FILES <br>
/etc/davfs2/davfs2.conf <br>
System wide configuration file.</p>

<p style="margin-top: 1em">~/.davfs2/davfs2.conf <br>
Configuration file in the users home directory.The user
configuration takes precedence over the system wide
configuration. If it does not exist, mount.davfs will will
cre&acirc; <br>
ate a template file.</p>

<p style="margin-top: 1em">/etc/davfs2/secrets <br>
Holds the credentials for WebDAV servers and the proxy, as
well as decryption passwords for client certificates. The
file must be read-writable by root only.</p>

<p style="margin-top: 1em">~/.davfs2/secrets <br>
Holds credentials for WebDAV servers and proxy, as well as
decryption passwords for client certificates. The file must
be read-writable by the owner only. Credentials are <br>
first looked up in the home directory of the mounting user.
If not found there the system wide secrets file is
consulted. If no creditentials and passwords are found they
<br>
are asked from the user interactively (if not disabled). If
the file does not exist, mount.davfs will will create a
template file.</p>

<p style="margin-top: 1em">/etc/davfs2/certs <br>
You may store trusted server certificates here, that can not
be verified by use of the system wide CA-Certificates. This
is useful when your server uses a selfmade cer&acirc; <br>
tificate. You must configure the servercert option in
/etc/davfs2/davfs2.conf or ~/.davfs2/davfs2.conf to use it.
Certificates must be in PEM format. <br>
Be sure to verify the certificate.</p>

<p style="margin-top: 1em">~/.davfs2/certs <br>
You may store trusted server certificates here, that can not
be verified by use of the system wide CA-Certificates. This
is useful when your server uses a selfmade cer&acirc; <br>
tificate. You must configure the servercert option in
~/.davfs2/davfs2.conf to use it. Certificates must be in PEM
format. <br>
Be sure to verify the certificate.</p>

<p style="margin-top: 1em">/etc/davfs2/certs/private <br>
To store client certificates. Certificates must be in
PKCS#12 format. You must configure the clientcert option in
/etc/davfs2/davfs2.conf or ~/.davfs2/davfs2.conf to use <br>
it. This directory must be rwx by root only.</p>

<p style="margin-top: 1em">~/.davfs2/certs/private <br>
To store client certificates. Certificates must be in
PKCS#12 format. You must configure the clientcert option in
~/.davfs2/davfs2.conf to use it. This directory must be <br>
rwx by the owner only.</p>

<p style="margin-top: 1em">/var/run/mount.davfs <br>
PID-files of running mount.davfs processes are stored there.
This directory must belong to group davfs2 with write
permissions for the group and the sticky-bit set (mode <br>
1775). The PID-files are named after the mount point of the
file system.</p>

<p style="margin-top: 1em">/var/cache/davfs2 <br>
System wide directory for cached files. Used when the file
system is mounted by root. It must belong do group davfs2
and read, write and execute bits for group must be <br>
set. There is a subdirectory for every mounted file system.
The names of this subdirectories are created from url, mount
point and user name.</p>

<p style="margin-top: 1em">~/.davfs2/cache <br>
Cache directory in the mounting users home directory. For
every mounted WebDAV resource a subdirectory is created.</p>

<p style="margin-top: 1em">mount.davfs will try to create
missing directories, but it will not touch /etc/davfs2.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
https_proxy http_proxy all_proxy <br>
If no proxy is defined in the configuration file the value
is taken from this environment variables. The proxy may be
given with or without scheme and with or without port <br>
http_proxy=[http://]foo.bar[:3218] <br>
Only used when the mounting user is root.</p>

<p style="margin-top: 1em">no_proxy <br>
A comma separated list of domain names that shall be
accessed directly. * matches any domain name. A domain name
starting with . (period) matches all subdomains. <br>
Only used when the mounting user is root. <br>
Not applied when the proxy is defined in /etc/davfs2.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Non root user (e.g. filomena):</p>

<p style="margin-top: 1em">To allow an ordinary user to
mount there must be an entry in fstab <br>
http://webdav.org/dav /media/dav davfs noauto,user 0 0</p>

<p style="margin-top: 1em">If a proxy must be used this
should be configured in /etc/davfs2/davfs2.conf <br>
proxy proxy.mycompany.com:8080</p>

<p style="margin-top: 1em">Credentials are stored in
/home/filomena/.davfs2/secrets <br>
proxy.mycompany.com filomena &quot;my secret&quot; <br>
/media/dav webdav-username password</p>

<p style="margin-top: 1em">Now the WebDAV resource may be
mounted by user filomena invoking <br>
mount /media/dav</p>

<p style="margin-top: 1em">and unmounted by user filomena
invoking <br>
umount /media/dav</p>

<p style="margin-top: 1em">Root user only:</p>

<p style="margin-top: 1em">Mounts the resource
https://asciigirl.com/webdav at mount point /mount/site,
encrypting all traffic with SSL. Credentials for
http://webdav.org/dav will be looked up in <br>
/etc/davfs2/secrets, if not found there the user will be
asked. <br>
mount -t davfs -o uid=otto,gid=users,mode=775
https://asciigirl.com/webdav /mount/site</p>

<p style="margin-top: 1em">Mounts the resource
http://linux.org.ar/repos at /dav. <br>
mount.davfs -o uid=otto,gid=users,mode=775
http://linux.org.ar/repos/ /dav</p>

<p style="margin-top: 1em">BUGS <br>
davfs2 does not support links.</p>

<p style="margin-top: 1em">A davfs2 file system cannot be
moved with mount --move.</p>

<p style="margin-top: 1em">AUTHORS <br>
This man page was written by Luciano Bello
&lt;luciano@linux.org.ar&gt; for Debian, for version 0.2.3
of davfs2.</p>

<p style="margin-top: 1em">It has been updated for this
version by Werner Baumann
&lt;werner.baumann@onlinhome.de&gt;.</p>

<p style="margin-top: 1em">davfs2 is developed by Sung Kim
&lt;hunkim@gmail.com&gt;.</p>

<p style="margin-top: 1em">Version 1.0.0 (and later) of
davfs2 is a complete rewrite by Werner Baumann.</p>

<p style="margin-top: 1em">DAVFS2 HOME <br>
http://savannah.nongnu.org/projects/davfs2</p>

<p style="margin-top: 1em">SEE ALSO <br>
umount.davfs(8), davfs2.conf(5), mount(8), umount(8),
fstab(5)</p>

<p style="margin-top: 1em">davfs2 2016-04-15
mount.davfs(8)</p>
<hr>
</body>
</html>
