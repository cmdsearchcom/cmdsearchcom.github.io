<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ptpd2(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ptpd2(8)</td>
    <td class="head-vol">Precision Time Protocol daemon</td>
    <td class="head-rtitle">ptpd2(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ptpd2 - Precision Time Protocol daemon (1588-2008)
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ptpd2</b> <b>[ -?hH ]</b> <b>[ -e </b><i>SETTING</i><b> ]</b> <b>[ -kvOLAl
  ]</b> <b>[ -smMyEPanCV ]</b> <b>[ -c </b><i>FILE</i><b> ]</b> <b>[ -R
  </b><i>DIR</i> <b> ]</b> <b>[ -f </b><i>FILE</i><b> ]</b> <b>[ -S
  </b><i>FILE</i> <b> ]</b> <b>[ -d </b><i>DOMAIN</i><b> ]</b> <b>[ -u
  </b><i>ADDRESS</i> <b> ]</b> <b>[ -r </b><i>NUMBER</i><b> ]</b> <b>-i
  </b><i>INTERFACE</i> <b></b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
PTPd is a daemon that implements the Precision Time Protocol (PTP) Version 2 as
  defined by the IEEE 1588-2008 standard. PTP was developed to provide very
  precise time coordination of LAN connected computers. The daemon must run as
  <b>root</b> in order to be able to manipluate the system clock and use low
  port numbers. PTPd is feature rich, supports IPv4 multicast, unicast and
  hybrid mode (mixed) operation, as well as Ethernet mode. Even without hardware
  assistance, PTPd is able to achieve and maintain sub-microsecond level timing
  precision and is able to withstand PTP Grandmaster failovers, link failures
  and restarts with minimal impact to timing performance. PTPd is lightweight,
  portable and currently supports Linux, FreeBSD and Mac OS X and runs on
  multiple CPU architectures, 32-bit and 64-bit, including x86 and ARM.
<h1 class="Sh" title="Sh" id="COMMAND-LINE_CONFIGURATION"><a class="selflink" href="#COMMAND-LINE_CONFIGURATION">COMMAND-LINE
  CONFIGURATION</a></h1>
As of version 2.3.0, configuration file is the preferred mechanism for
  configuring PTPd, therefore the options available as short ( <i>-x</i>) and
  long options ( <i>--xxxxx</i>) mostly provide basic control over the daemon
  operation, and only provide the very basic PTP protocol settings. The rest of
  the settings (see <b>ptpd2.conf(5)</b>) can also be specified as command-line
  options, but they take the long <i>--key:section=&quot;value&quot;</i> form.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BASIC_DAEMON_OPTIONS"><a class="selflink" href="#BASIC_DAEMON_OPTIONS">BASIC
  DAEMON OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c --config-file </b><i>PATH</i></dt>
  <dd class="It-tag">Path to configuration file (see <b>ptpd2.conf(5)</b>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k --check-config</b></dt>
  <dd class="It-tag">Check configuration and exit - return 0 if configuration is
      correct.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v --version</b></dt>
  <dd class="It-tag">Print version string and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h --help</b></dt>
  <dd class="It-tag">Show help screen</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H --long-help</b></dt>
  <dd class="It-tag">Show detailed help for all settings and behaviours</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e --explain </b><i>SETTING</i></dt>
  <dd class="It-tag">Show help for a single setting (<i>section:key</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O --default-config</b></dt>
  <dd class="It-tag">Show default configuration and exit (output usable as a
      configuration file)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L --ignore-lock</b></dt>
  <dd class="It-tag">Skip lock file checks and locking (also
      <i>global:ignore_lock</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A --auto-lock</b></dt>
  <dd class="It-tag">Use preset / port mode specific lock file names - useful
      when running multiple instances</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l --lockfile</b></dt>
  <dd class="It-tag">Specify lock file path (also <i>global:lock_file</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p --print-lockfile</b></dt>
  <dd class="It-tag">Print path to lock file and exit (useful for init scripts
      in combination with auto lock files)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R --lock-directory </b><i>DIR</i></dt>
  <dd class="It-tag">Directory to store lock files (also
      <i>global:lock_directory</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f --log-file </b><i>PATH</i></dt>
  <dd class="It-tag">Path to log file (also <i>global:logfile</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S --statistics-file </b><i>PATH</i></dt>
  <dd class="It-tag">Path to statistics file (also
      <i>global:statistics_file</i>)</dd>
</dl>
<h1 class="Sh" title="Sh" id="BASIC_PTP_PROTOCOL_OPTIONS"><a class="selflink" href="#BASIC_PTP_PROTOCOL_OPTIONS">BASIC
  PTP PROTOCOL OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i --interface </b><i>DEV</i></dt>
  <dd class="It-tag"><i>REQUIRED:</i>Interface to use - eth0, etc (also
      <i>ptpengine:interface</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d --domain </b><i>NUMBER</i></dt>
  <dd class="It-tag">PTP domain number to become part of (also
      <i>ptpengine:domain</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s --slaveonly</b></dt>
  <dd class="It-tag">Slave only mode (also
    <i>ptpengine:preset=slaveonly</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m --masterslave</b></dt>
  <dd class="It-tag">Full IEEE 1588 implementation: master, slave when not best
      GM (also <i>ptpengine:preset=masterslave</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M --masteronly</b></dt>
  <dd class="It-tag">Master only mode: passive when not best GM (also
      <i>ptpengine:preset=masteronly</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y --hybrid</b></dt>
  <dd class="It-tag">Hybrid mode - mixed multicast and unicast operation
      (multicast for sync and announce, unicast for delay request and response
      (also <i>ptpengine:ip_mode=hybrid</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U --unicast</b></dt>
  <dd class="It-tag">Unicast operation - (<i>also
      ptpengine:ip_mode=unicast</i>). For a GM, unicast destinations must be
      specified ( <i>-u, --unicast-destinations,
      ptpengine:unicast_destinations</i>) unless using unicast negotiation (
      <i>-g, --unicast-negotiation, ptpengine:unicast_negotiation=y</i>) for
      delay request and response (also <i>ptpengine:ip_mode=hybrid</i>). For a
      slave, unicast destinations must be specified if not using unicast
      negotiation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g --unicast-negotiation</b></dt>
  <dd class="It-tag">Enable unicast message delivery and interval negotiation
      usin signaling messages, as used by the Telecom profile (also enables
      <i>ptpengine:ip_mode=unicast</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u --unicast-destinations </b><i>ip/host, ip/host,
    ...</i></dt>
  <dd class="It-tag">List of unicast destinations - see <i>--unicast</i> (also
      <i>ptpengine:ip_mode=unicast</i> + <i>ptpengine:unicast_destinations</i>)
      <b>-E --e2e</b> End to end delay mechanism (also
      <i>ptpengine:delay_mechanism=E2E</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E --p2p</b></dt>
  <dd class="It-tag">Peer to peer delay mechanism (also
      <i>ptpengine:delay_mechanism=P2P</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a --delay-override</b></dt>
  <dd class="It-tag">In slave state, override delay request interval announced
      by master (also <i>ptpengine:log_delayreq_override</i>) - the value of
      <i>ptpengine:log_delayreq_interval</i> is used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r --delay-interval </b><i>NUMBER</i></dt>
  <dd class="It-tag">Specify delay request message interval (log 2) - (also
      <i>ptpengine:log_delayreq_interval</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n --clock:no_adjust</b></dt>
  <dd class="It-tag">Do not adjust the clock (also <i>clock:no_adjust</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D&lt;DD...&gt; --debug</b></dt>
  <dd class="It-tag">Debug level (also <i>global:debug_level</i>) - only if
      compiled with RUNTIME_DEBUG</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C --foreground</b></dt>
  <dd class="It-tag">Don't run in background (also
    <i>global:foreground=Y</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V --verbose</b></dt>
  <dd class="It-tag">Run in foreground, log all the messages to standard output
      (also <i>global:verbose_foreground=Y</i>)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COMPATIBILITY_OPTIONS"><a class="selflink" href="#COMPATIBILITY_OPTIONS">COMPATIBILITY
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">PTPd supports the following options compatible with
    versions before 2.3.0:</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 8.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b </b><i>DEV</i></dt>
  <dd class="It-tag">Network interface to use</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i </b><i>NUMBER</i></dt>
  <dd class="It-tag">PTP domain number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag">Slave only mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b></dt>
  <dd class="It-tag">&#x00B4;Master mode with NTP&#x00B4; (master only
    mode)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b></dt>
  <dd class="It-tag">&#x00B4;Master mode without NTP&#x00B4; (master / slave
      mode)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag">Hybrid mode (mixed unicast + multicast operation)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Y </b><i>NUMBER</i></dt>
  <dd class="It-tag">Delay request interval (log 2)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Do not adjust the clock</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NOTE:</b> the above options are deprecated and will be
    removed in subsequent versions. Until then, their use will issue a
    warning.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="PTPD_PORT_STATES"><a class="selflink" href="#PTPD_PORT_STATES">PTPD
  PORT STATES</a></h1>
<div style="margin-left: 8.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>init</i></dt>
  <dd class="It-tag">INITIALIZING</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>flt</i></dt>
  <dd class="It-tag">FAULTY</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>lstn_init</i></dt>
  <dd class="It-tag">LISTENING (first time)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>lstn_reset</i></dt>
  <dd class="It-tag">LISTENING (subsequent reset)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pass</i></dt>
  <dd class="It-tag">PASSIVE (not best master, not announcing)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>uncl</i></dt>
  <dd class="It-tag">UNCALIBRATED</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>slv</i></dt>
  <dd class="It-tag">SLAVE</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pmst</i></dt>
  <dd class="It-tag">PRE-MASTER</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>mst</i></dt>
  <dd class="It-tag">MASTER (active)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>dsbl</i></dt>
  <dd class="It-tag">DISABLED</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>? (unk)</i></dt>
  <dd class="It-tag">UNKNOWN state</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="STATISTICS_LOG_FILE_FORMAT"><a class="selflink" href="#STATISTICS_LOG_FILE_FORMAT">STATISTICS
  LOG FILE FORMAT</a></h1>
When the statistics log is enabled ( <i>ptpengine:log_statistics</i>, verbose
  foreground mode or log file - <i>ptpengine:statistics_file</i>), a PTPd slave
  will log clock sync information upon the receipt of every Sync and Delay
  Response message. When PTPd starts up or flushes the log, a comment line
  (starting with #) will be logged, containing the names of all columns. The
  format of this log is a series of comma-separated values (CSV) and can be
  easily imported into statistics tools and most spreadsheet software packages
  for analysis and graphing. This log can get very large when running PTPd for
  longer periods of time and with high message rates, therefore to reduce the
  number of messages logged, the <i>global:statistics_log_interval</i> setting
  can be used, to limit the log output to one message per configured interval
  only. The size and maximum number of the statistics log can also be controlled
  - (see <b>ptpd2.conf(5)</b>).
<dl class="Bl-tag">
  <dt class="It-tag">The meaning of the columns is as follows:</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 8.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Timestamp</b></dt>
  <dd class="It-tag">Time when message received. This can take the form of text
      date / time or Unix timestamp (with fractional seconds), or both (in which
      case an exra field is added), depending onthe
      <i>global:statistics_timestamp_format</i> setting (see
      <b>ptpd2.conf(5)</b>). When importing the log into plotting software, if
      the software can understand Unix time, it is best to set the timestamp
      format to unix or both, as some software will not properly deal with the
      fractional part of the second when converting the date and time from
    text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>State</b></dt>
  <dd class="It-tag">Port state (see <b>PTP PORT STATES</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Clock ID</b></dt>
  <dd class="It-tag">Port identity of the current best master, as defined by
      IEEE 1588. This will be the local clock's ID if the local clock is the
      best master. Displayed as <i>clock_id/port(host)</i> Port is the PTP clock
      port number, not to be confused with UDP ports. The clock ID is an EUI-64
      64-bit ID, usually converted from the 48-bit MAC address, by inserting
      0xfffe between the lower and upper half of the MAC address. PTPd will
      attempt to convert the clock ID back to MAC address and look up the
      hostname from <i>/etc/ethers</i> (see <b>ethers(5)</b>). Populating the
      ethers file will help the administrator recognise the masters by familiar
      hostnames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>One Way Delay</b></dt>
  <dd class="It-tag">Current value of one-way delay (or mean path delay) in
      seconds, calculated by PTPd in slave state from the Delay Request - Delay
      Response message exchange. <i>Note:</i> if this value remains at zero,
      this usually means that no Delay Response messages are being received,
      likely due to a network issue.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Offset From Master</b></dt>
  <dd class="It-tag">Current value of offset from master in seconds - this is
      the main output of the PTP engine in slave state, which is the input of
      the clock servo for clock corrections. This is the value typically
      observed when estimating the slave performance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Slave to Master</b></dt>
  <dd class="It-tag">Intermediate offset value (seconds) extracted from the
      Delay Request - Delay Response message exchange, used for computing
      one-way delay. If the last value was rejected by a filter, the previous
      value will be shown in the log. This value will also be zero if no Delay
      Response messages are being received.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Master to Slave</b></dt>
  <dd class="It-tag">Intermediate offset value (seconds) extracted from the Sync
      messages, used for computing the offset from master. If the last value was
      rejected by a filter, the previous value will be shown in the log.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Observed Drift</b></dt>
  <dd class="It-tag">The integral accumulator of the clock control PI servo
      model - frequency difference between the slave clock and master clock.
      This value becomes stable when the clock offset has stabilised, and can be
      used (and is) to detect clock stability.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Last Packet Received</b></dt>
  <dd class="It-tag">This field shows what message was received last - this will
      be S for Sync and D for Delay Response. If a slave logs no D entries, this
      means it's not receiving Delay Response messages, which could be a network
      issue.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>One Way Delay Mean</b></dt>
  <dd class="It-tag">One-way delay mean computed over the last sampling
    window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>One Way Delay Std Dev</b></dt>
  <dd class="It-tag">One-way delay standard deviation computed over the last
      sampling window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Offset From Master Mean</b></dt>
  <dd class="It-tag">Offset from master mean computed over the last sampling
      window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Offset From Master Std Dev</b></dt>
  <dd class="It-tag">Offset from master standard deviation computed over the
      last sampling window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Observed Drift Mean</b></dt>
  <dd class="It-tag">Observed drift / local clock frequency adjustment mean
      computed over the last sampling window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Observed Drift Std Dev</b></dt>
  <dd class="It-tag">Observed drift / local clock frequency adjustment standard
      deviation computed over the last sampling window. The lower the value, the
      less aggressively the clock is being controlled and therefore the more
      stable it is.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>raw delayMS</b></dt>
  <dd class="It-tag">Raw (unfiltered) delayMS value - useful for evaluating
      outliers and filter performance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>raw delaySM</b></dt>
  <dd class="It-tag">Raw (unfiltered) delaySM value - useful for evaluating
      outliers and filter performance.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b> All the statistical measures (mean and std dev) will only be
  computed and displayed if PTPd was built without --disable-statistics. The
  duration of the sampling period is controlled with the
  <i>global:statistics_update_interval</i> setting - (see <b>ptpd2.conf(5)</b>).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HANDLED_SIGNALS"><a class="selflink" href="#HANDLED_SIGNALS">HANDLED
  SIGNALS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PTPd handles the following signals:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 8.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>SIGHUP</i></dt>
  <dd class="It-tag">Reload configuration file (if used) and reopen log
    files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>SIGUSR1</i></dt>
  <dd class="It-tag">When in slave state, force clock step to current Offset
      from Master value</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>SIGUSR2</i></dt>
  <dd class="It-tag">Dump all PTP protocol counters to current log target (and
      clear if <i>ptpengine:sigusr2_clears_counters</i> set)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>SIGINT|SIGTERM</i></dt>
  <dd class="It-tag">Clean exit - close logs and other open files, clean up lock
      file and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>SIGKILL</i></dt>
  <dd class="It-tag">Force an unclean exit.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="EXIT_CODES"><a class="selflink" href="#EXIT_CODES">EXIT
  CODES</a></h1>
Upon exit, ptpd2 returns <b>0</b> on success - either successfully started in
  daemon mode, or otherwise exited cleanly. <b>0</b> is also returned when the
  <i>-k</i> (<i>--check-config</i>) option is used and the configuration was
  correct. A non-zero exit code is returned on errors. <b>3</b> is returned on
  lock file errors and when ptpd2 could not be started as daemon. <b>2</b> is
  returned on memory allocation errors during startup. For all other error
  conditions such as configuration errors, running ptpd2 in help mode or with no
  parameters, on self shutdown, network startup errors and when attempting to
  run ptpd2 as non-root - <b>1</b> is returned.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SUPPORTED_PLATFORMS_AND_ARCHITECTURES"><a class="selflink" href="#SUPPORTED_PLATFORMS_AND_ARCHITECTURES">SUPPORTED
  PLATFORMS AND ARCHITECTURES</a></h1>
PTPd is fully supported on Linux and FreeBSD as this is what the core developers
  focus on. OpenBSD and NetBSD are also supported, but get less developers'
  attention. So is Max OS X, and as of PTPd 2.3.1 also OpenSolaris (11)
  derivatives (tested on OmniOS). Sun's / Oracle's Solaris 11 has not been
  tested but in essence, it should work as intended. Solaris 10 is NOT supported
  because it does not provide the SO_TIMESTAMP socket option. It should
  theoretically be possible to use Solaris 10 using the <i>pf</i> facility as
  used by <i>snoop</i>, but there is currently no ongoing effort to acheive
  this. Patches for QNX/Neutrino have been provided, but cannot yet officially
  be merged because of no availability of QNX to the developers. Some users have
  ported PTPd to other RTOS, but this has not been merged either.
<div style="height: 1.00em;">&#x00A0;</div>
As of 2.3.1, PTPd runs entirely in software and only relies on kernel and OS
  APIs, so there are no hardware dependencies. Any little-endian or big-endian
  port of modern versions of the supported OSes should work, but only x86 and
  ARM are actively tested. The only dependencies close to hardware can be NIC
  drivers and how and if they impact software timestamping.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HARDWARE_TIMESTAMPING_SUPPORT"><a class="selflink" href="#HARDWARE_TIMESTAMPING_SUPPORT">HARDWARE
  TIMESTAMPING SUPPORT</a></h1>
As of 2.3.1, PTPd still does not support hardware timestamping. This
  functionality will appear in the upcoming version 2.4 - potentially an interim
  version of 2.3.x may be delivered that will support hardware clocks and
  timestamping on Linux. This is very much OS-specific and to a large extent,
  hardware-specific. Linux has a PTP kernel API but not all hardware supports
  it. Because PTPd supports multiple OS platforms, where hardware timestamping
  may use different mechanisms on every platform, it has to be re-written in a
  modular way to allow this without unnecessarily increasing code complexity,
  which already is a problem.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
As of ptpd 2.3.1, the (Open)Solaris (11) OS family is supported, but libpcap
  functionality is currently broken - IPv4/pcap and Ethernet transports cannot
  be used on those systems. PTPd will compile and run,
<br/>
 but will not receive any data.
<div style="height: 1.00em;">&#x00A0;</div>
Please report any bugs using the bug tracker on the SourceForge page:
  http://sourceforge.net/projects/ptpd/
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
ptpd2.conf(5)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Gael Mace &lt;gael_mace@users.sourceforge.net&gt;
<div class="Pp"></div>
Alexandre Van Kempen
<div class="Pp"></div>
Steven Kreuzer &lt;skreuzer@freebsd.org&gt;
<div class="Pp"></div>
George Neville-Neil &lt;gnn@freebsd.org&gt;
<div class="Pp"></div>
Wojciech Owczarek &lt;wojciech@owczarek.co.uk&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<b>ptpd2(8)</b> man page was written by Wojciech Owczarek for ptpd 2.3.0 in
  November 2013</div>
<table class="foot">
  <tr>
    <td class="foot-date">June, 2015</td>
    <td class="foot-os">version 2.3.1</td>
  </tr>
</table>
</body>
</html>
