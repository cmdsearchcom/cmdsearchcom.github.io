<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PING(8) System Manager&rsquo;s Manual: iputils
PING(8)</p>

<p style="margin-top: 1em">NAME <br>
ping - send ICMP ECHO_REQUEST to network hosts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ping [-aAbBdDfhLnOqrRUvV46] [-c count] [-F flowlabel] [-i
interval] [-I interface] [-l preload] [-m mark] [-M
pmtudisc_option] [-N nodeinfo_option] [-w deadline] [-W
timeout] [-p <br>
pattern] [-Q tos] [-s packetsize] [-S sndbuf] [-t ttl] [-T
timestamp option] [hop ...] destination</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ping uses the ICMP protocol&rsquo;s mandatory ECHO_REQUEST
datagram to elicit an ICMP ECHO_RESPONSE from a host or
gateway. ECHO_REQUEST datagrams
(&lsquo;&lsquo;pings&rsquo;&rsquo;) have an IP and ICMP <br>
header, followed by a struct timeval and then an arbitrary
number of &lsquo;&lsquo;pad&rsquo;&rsquo; bytes used to fill
out the packet.</p>

<p style="margin-top: 1em">ping works with both IPv4 and
IPv6. Using only one of them explicitly can be enforced by
specifying -4 or -6.</p>

<p style="margin-top: 1em">ping can also send IPv6 Node
Information Queries (RFC4620). Intermediate hops may not be
allowed, because IPv6 source routing was deprecated
(RFC5095).</p>

<p style="margin-top: 1em">OPTIONS <br>
-4 Use IPv4 only.</p>

<p style="margin-top: 1em">-6 Use IPv6 only.</p>

<p style="margin-top: 1em">-a Audible ping.</p>

<p style="margin-top: 1em">-A Adaptive ping. Interpacket
interval adapts to round-trip time, so that effectively not
more than one (or more, if preload is set) unanswered probe
is present in the net&acirc; <br>
work. Minimal interval is 200msec for not super-user. On
networks with low rtt this mode is essentially equivalent to
flood mode.</p>

<p style="margin-top: 1em">-b Allow pinging a broadcast
address.</p>

<p style="margin-top: 1em">-B Do not allow ping to change
source address of probes. The address is bound to one
selected when ping starts.</p>

<p style="margin-top: 1em">-c count <br>
Stop after sending count ECHO_REQUEST packets. With deadline
option, ping waits for count ECHO_REPLY packets, until the
timeout expires.</p>

<p style="margin-top: 1em">-d Set the SO_DEBUG option on
the socket being used. Essentially, this socket option is
not used by Linux kernel.</p>

<p style="margin-top: 1em">-D Print timestamp (unix time +
microseconds as in gettimeofday) before each line.</p>

<p style="margin-top: 1em">-f Flood ping. For every
ECHO_REQUEST sent a period &lsquo;&lsquo;.&rsquo;&rsquo; is
printed, while for ever ECHO_REPLY received a backspace is
printed. This provides a rapid display of how many <br>
packets are being dropped. If interval is not given, it sets
interval to zero and outputs packets as fast as they come
back or one hundred times per second, whichever is <br>
more. Only the super-user may use this option with zero
interval.</p>

<p style="margin-top: 1em">-F flow label <br>
IPv6 only. Allocate and set 20 bit flow label (in hex) on
echo request packets. If value is zero, kernel allocates
random flow label.</p>

<p style="margin-top: 1em">-h Show help.</p>

<p style="margin-top: 1em">-i interval <br>
Wait interval seconds between sending each packet. The
default is to wait for one second between each packet
normally, or not to wait in flood mode. Only super-user may
<br>
set interval to values less 0.2 seconds.</p>

<p style="margin-top: 1em">-I interface <br>
interface is either an address, or an interface name. If
interface is an address, it sets source address to specified
interface address. If interface in an interface <br>
name, it sets source interface to specified interface. For
IPv6, when doing ping to a link-local scope address, link
specification (by the &rsquo;%&rsquo;-notation in
destination, or <br>
by this option) is required.</p>

<p style="margin-top: 1em">-l preload <br>
If preload is specified, ping sends that many packets not
waiting for reply. Only the super-user may select preload
more than 3.</p>

<p style="margin-top: 1em">-L Suppress loopback of
multicast packets. This flag only applies if the ping
destination is a multicast address.</p>

<p style="margin-top: 1em">-m mark <br>
use mark to tag the packets going out. This is useful for
variety of reasons within the kernel such as using policy
routing to select specific outbound processing.</p>

<p style="margin-top: 1em">-M pmtudisc_opt <br>
Select Path MTU Discovery strategy. pmtudisc_option may be
either do (prohibit fragmentation, even local one), want (do
PMTU discovery, fragment locally when packet size <br>
is large), or dont (do not set DF flag).</p>

<p style="margin-top: 1em">-N nodeinfo_option <br>
IPv6 only. Send ICMPv6 Node Information Queries (RFC4620),
instead of Echo Request. CAP_NET_RAW capability is
required.</p>

<p style="margin-top: 1em">help Show help for NI
support.</p>

<p style="margin-top: 1em">name Queries for Node Names.</p>

<p style="margin-top: 1em">ipv6 Queries for IPv6 Addresses.
There are several IPv6 specific flags.</p>

<p style="margin-top: 1em">ipv6-global <br>
Request IPv6 global-scope addresses.</p>

<p style="margin-top: 1em">ipv6-sitelocal <br>
Request IPv6 site-local addresses.</p>

<p style="margin-top: 1em">ipv6-linklocal <br>
Request IPv6 link-local addresses.</p>

<p style="margin-top: 1em">ipv6-all <br>
Request IPv6 addresses on other interfaces.</p>

<p style="margin-top: 1em">ipv4 Queries for IPv4 Addresses.
There is one IPv4 specific flag.</p>

<p style="margin-top: 1em">ipv4-all <br>
Request IPv4 addresses on other interfaces.</p>

<p style="margin-top: 1em">subject-ipv6=ipv6addr <br>
IPv6 subject address.</p>

<p style="margin-top: 1em">subject-ipv4=ipv4addr <br>
IPv4 subject address.</p>

<p style="margin-top: 1em">subject-name=nodename <br>
Subject name. If it contains more than one dot,
fully-qualified domain name is assumed.</p>

<p style="margin-top: 1em">subject-fqdn=nodename <br>
Subject name. Fully-qualified domain name is always
assumed.</p>

<p style="margin-top: 1em">-n Numeric output only. No
attempt will be made to lookup symbolic names for host
addresses.</p>

<p style="margin-top: 1em">-O Report outstanding ICMP ECHO
reply before sending next packet. This is useful together
with the timestamp -D to log output to a diagnostic file and
search for missing <br>
answers.</p>

<p style="margin-top: 1em">-p pattern <br>
You may specify up to 16 &lsquo;&lsquo;pad&rsquo;&rsquo;
bytes to fill out the packet you send. This is useful for
diagnosing data-dependent problems in a network. For
example, -p ff will cause <br>
the sent packet to be filled with all ones.</p>

<p style="margin-top: 1em">-q Quiet output. Nothing is
displayed except the summary lines at startup time and when
finished.</p>

<p style="margin-top: 1em">-Q tos Set Quality of Service
-related bits in ICMP datagrams. tos can be decimal (ping
only) or hex number.</p>

<p style="margin-top: 1em">In RFC2474, these fields are
interpreted as 8-bit Differentiated Services (DS),
consisting of: bits 0-1 (2 lowest bits) of separate data,
and bits 2-7 (highest 6 bits) of <br>
Differentiated Services Codepoint (DSCP). In RFC2481 and
RFC3168, bits 0-1 are used for ECN.</p>

<p style="margin-top: 1em">Historically (RFC1349, obsoleted
by RFC2474), these were interpreted as: bit 0 (lowest bit)
for reserved (currently being redefined as congestion
control), 1-4 for Type of <br>
Service and bits 5-7 (highest bits) for Precedence.</p>

<p style="margin-top: 1em">-r Bypass the normal routing
tables and send directly to a host on an attached interface.
If the host is not on a directly-attached network, an error
is returned. This <br>
option can be used to ping a local host through an interface
that has no route through it provided the option -I is also
used.</p>

<p style="margin-top: 1em">-R ping only. Record route.
Includes the RECORD_ROUTE option in the ECHO_REQUEST packet
and displays the route buffer on returned packets. Note that
the IP header is only <br>
large enough for nine such routes. Many hosts ignore or
discard this option.</p>

<p style="margin-top: 1em">-s packetsize <br>
Specifies the number of data bytes to be sent. The default
is 56, which translates into 64 ICMP data bytes when
combined with the 8 bytes of ICMP header data.</p>

<p style="margin-top: 1em">-S sndbuf <br>
Set socket sndbuf. If not specified, it is selected to
buffer not more than one packet.</p>

<p style="margin-top: 1em">-t ttl ping only. Set the IP
Time to Live.</p>

<p style="margin-top: 1em">-T timestamp option <br>
Set special IP timestamp options. timestamp option may be
either tsonly (only timestamps), tsandaddr (timestamps and
addresses) or tsprespec host1 [host2 [host3 [host4]]] <br>
(timestamp prespecified hops).</p>

<p style="margin-top: 1em">-U Print full user-to-user
latency (the old behaviour). Normally ping prints network
round trip time, which can be different f.e. due to DNS
failures.</p>

<p style="margin-top: 1em">-v Verbose output.</p>

<p style="margin-top: 1em">-V Show version and exit.</p>

<p style="margin-top: 1em">-w deadline <br>
Specify a timeout, in seconds, before ping exits regardless
of how many packets have been sent or received. In this case
ping does not stop after count packet are sent, it <br>
waits either for deadline expire or until count probes are
answered or for some error notification from network.</p>

<p style="margin-top: 1em">-W timeout <br>
Time to wait for a response, in seconds. The option affects
only timeout in absence of any responses, otherwise ping
waits for two RTTs.</p>

<p style="margin-top: 1em">When using ping for fault
isolation, it should first be run on the local host, to
verify that the local network interface is up and running.
Then, hosts and gateways further and <br>
further away should be &lsquo;&lsquo;pinged&rsquo;&rsquo;.
Round-trip times and packet loss statistics are computed. If
duplicate packets are received, they are not included in the
packet loss calcula&acirc; <br>
tion, although the round trip time of these packets is used
in calculating the minimum/average/maximum round-trip time
numbers. When the specified number of packets have been <br>
sent (and received) or if the program is terminated with a
SIGINT, a brief summary is displayed. Shorter current
statistics can be obtained without termination of process
with <br>
signal SIGQUIT.</p>

<p style="margin-top: 1em">If ping does not receive any
reply packets at all it will exit with code 1. If a packet
count and deadline are both specified, and fewer than count
packets are received by the <br>
time the deadline has arrived, it will also exit with code
1. On other error it exits with code 2. Otherwise it exits
with code 0. This makes it possible to use the exit code to
<br>
see if a host is alive or not.</p>

<p style="margin-top: 1em">This program is intended for use
in network testing, measurement and management. Because of
the load it can impose on the network, it is unwise to use
ping during normal opera&acirc; <br>
tions or from automated scripts.</p>

<p style="margin-top: 1em">ICMP PACKET DETAILS <br>
An IP header without options is 20 bytes. An ICMP
ECHO_REQUEST packet contains an additional 8 bytes worth of
ICMP header followed by an arbitrary amount of data. When a
pack&acirc; <br>
etsize is given, this indicated the size of this extra piece
of data (the default is 56). Thus the amount of data
received inside of an IP packet of type ICMP ECHO_REPLY will
<br>
always be 8 bytes more than the requested data space (the
ICMP header).</p>

<p style="margin-top: 1em">If the data space is at least of
size of struct timeval ping uses the beginning bytes of this
space to include a timestamp which it uses in the
computation of round trip times. <br>
If the data space is shorter, no round trip times are
given.</p>

<p style="margin-top: 1em">DUPLICATE AND DAMAGED PACKETS
<br>
ping will report duplicate and damaged packets. Duplicate
packets should never occur, and seem to be caused by
inappropriate link-level retransmissions. Duplicates may
occur in <br>
many situations and are rarely (if ever) a good sign,
although the presence of low levels of duplicates may not
always be cause for alarm.</p>

<p style="margin-top: 1em">Damaged packets are obviously
serious cause for alarm and often indicate broken hardware
somewhere in the ping packet&rsquo;s path (in the network or
in the hosts).</p>

<p style="margin-top: 1em">TRYING DIFFERENT DATA PATTERNS
<br>
The (inter)network layer should never treat packets
differently depending on the data contained in the data
portion. Unfortunately, data-dependent problems have been
known to <br>
sneak into networks and remain undetected for long periods
of time. In many cases the particular pattern that will have
problems is something that doesn&rsquo;t have sufficient
<br>
&lsquo;&lsquo;transitions&rsquo;&rsquo;, such as all ones or
all zeros, or a pattern right at the edge, such as almost
all zeros. It isn&rsquo;t necessarily enough to specify a
data pattern of all zeros (for <br>
example) on the command line because the pattern that is of
interest is at the data link level, and the relationship
between what you type and what the controllers transmit can
<br>
be complicated.</p>

<p style="margin-top: 1em">This means that if you have a
data-dependent problem you will probably have to do a lot of
testing to find it. If you are lucky, you may manage to find
a file that either can&rsquo;t <br>
be sent across your network or that takes much longer to
transfer than other similar length files. You can then
examine this file for repeated patterns that you can test
using <br>
the -p option of ping.</p>

<p style="margin-top: 1em">TTL DETAILS <br>
The TTL value of an IP packet represents the maximum number
of IP routers that the packet can go through before being
thrown away. In current practice you can expect each router
<br>
in the Internet to decrement the TTL field by exactly
one.</p>

<p style="margin-top: 1em">The TCP/IP specification states
that the TTL field for TCP packets should be set to 60, but
many systems use smaller values (4.3 BSD uses 30, 4.2 used
15).</p>

<p style="margin-top: 1em">The maximum possible value of
this field is 255, and most Unix systems set the TTL field
of ICMP ECHO_REQUEST packets to 255. This is why you will
find you can &lsquo;&lsquo;ping&rsquo;&rsquo; some <br>
hosts, but not reach them with telnet(1) or ftp(1).</p>

<p style="margin-top: 1em">In normal operation ping prints
the TTL value from the packet it receives. When a remote
system receives a ping packet, it can do one of three things
with the TTL field in its <br>
response:</p>

<p style="margin-top: 1em">&Acirc;&middot; Not change it;
this is what Berkeley Unix systems did before the 4.3BSD
Tahoe release. In this case the TTL value in the received
packet will be 255 minus the number of routers <br>
in the round-trip path.</p>

<p style="margin-top: 1em">&Acirc;&middot; Set it to 255;
this is what current Berkeley Unix systems do. In this case
the TTL value in the received packet will be 255 minus the
number of routers in the path from the <br>
remote system to the pinging host.</p>

<p style="margin-top: 1em">&Acirc;&middot; Set it to some
other value. Some machines use the same value for ICMP
packets that they use for TCP packets, for example either 30
or 60. Others may use completely wild val&acirc; <br>
ues.</p>

<p style="margin-top: 1em">BUGS <br>
&Acirc;&middot; Many Hosts and Gateways ignore the
RECORD_ROUTE option.</p>

<p style="margin-top: 1em">&Acirc;&middot; The maximum IP
header length is too small for options like RECORD_ROUTE to
be completely useful. There&rsquo;s not much that can be
done about this, however.</p>

<p style="margin-top: 1em">&Acirc;&middot; Flood pinging is
not recommended in general, and flood pinging the broadcast
address should only be done under very controlled
conditions.</p>

<p style="margin-top: 1em">SEE ALSO <br>
netstat(1), ifconfig(8).</p>

<p style="margin-top: 1em">HISTORY <br>
The ping command appeared in 4.3BSD.</p>

<p style="margin-top: 1em">The version described here is
its descendant specific to Linux.</p>

<p style="margin-top: 1em">As of version s20150815, the
ping6 binary doesn&rsquo;t exist anymore. It has been merged
into ping. Creating a symlink named ping6 pointing to ping
will result in the same funcional&acirc; <br>
ity as before.</p>

<p style="margin-top: 1em">SECURITY <br>
ping requires CAP_NET_RAW capability to be executed 1) if
the program is used for non-echo queries (See -N option), or
2) if kernel does not support non-raw ICMP sockets, or 3)
<br>
if the user is not allowed to create an ICMP echo socket.
The program may be used as set-uid root.</p>

<p style="margin-top: 1em">AVAILABILITY <br>
ping is part of iputils package and the latest versions are
available in source form at
http://www.skbuff.net/iputils/iputils-current.tar.bz2.</p>

<p style="margin-top: 1em">iputils-160308 PING(8)</p>
<hr>
</body>
</html>
