<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:11:10 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>fixfiles(8) fixfiles(8)</p>

<p style="margin-top: 1em">NAME <br>
fixfiles - fix file SELinux security contexts.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
fixfiles [-v] [-F] [-B] [ -N time ] [-l logfile ] { check |
restore|[-f] relabel | verify } [[dir/file] ... ]</p>

<p style="margin-top: 1em">fixfiles [-v] [-F] [ -R
rpmpackagename[,rpmpackagename...] ] [-l logfile ] { check |
restore | verify }</p>

<p style="margin-top: 1em">fixfiles [-v] [-F] -C
PREVIOUS_FILECONTEXT [-l logfile ] { check | restore |
verify }</p>

<p style="margin-top: 1em">fixfiles [-F] [-B] onboot</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This manual page describes the fixfiles script.</p>

<p style="margin-top: 1em">This script is primarily used to
correct the security context database (extended attributes)
on filesystems.</p>

<p style="margin-top: 1em">It can also be run at any time
to relabel when adding support for new policy, or just check
whether the file contexts are all as you expect. By default
it will relabel all <br>
mounted ext2, ext3, xfs and jfs file systems as long as they
do not have a security context mount option. You can use the
-R flag to use rpmpackages as an alternative. The file <br>
/etc/selinux/fixfiles_exclude_dirs can contain a list of
directories excluded from relabeling.</p>

<p style="margin-top: 1em">fixfiles onboot will setup the
machine to relabel on the next reboot.</p>

<p style="margin-top: 1em">OPTIONS <br>
-B If specified with onboot, this fixfiles will record the
current date in the /.autorelabel file, so that it can be
used later to speed up labeling. If used with restore, <br>
the restore will only affect files that were modified
today.</p>

<p style="margin-top: 1em">-l logfile <br>
Save the output to the specified logfile</p>

<p style="margin-top: 1em">-F Force reset of context to
match file_context for customizable files</p>

<p style="margin-top: 1em">-f Clear /tmp directory with out
prompt for removal.</p>

<p style="margin-top: 1em">-R
rpmpackagename[,rpmpackagename...] <br>
Use the rpm database to discover all files within the
specified packages and restore the file contexts. (-a will
get all files in the RPM database).</p>

<p style="margin-top: 1em">-C PREVIOUS_FILECONTEXT <br>
Run a diff on the PREVIOUS_FILECONTEXT file to the currently
installed one, and restore the context of all affected
files.</p>

<p style="margin-top: 1em">-N time <br>
Only act on files created after the specified date. Date
must be specified in &quot;YYYY-MM-DD HH:MM&quot; format.
Date field will be passed to find --newermt command.</p>

<p style="margin-top: 1em">-v Modify verbosity from
progress to verbose. (Run restorecon with -v instead of
-p)</p>

<p style="margin-top: 1em">ARGUMENTS <br>
One of:</p>

<p style="margin-top: 1em">check print any incorrect file
context labels, showing old and new context, but do not
change them.</p>

<p style="margin-top: 1em">restore <br>
change any incorrect file context labels.</p>

<p style="margin-top: 1em">relabel <br>
Prompt for removal of contents of /tmp directory and then
change any incorrect file context labels to match the
install file_contexts file.</p>

<p style="margin-top: 1em">verify List out files with
incorrect file context labels, but do not change them.</p>

<p style="margin-top: 1em">[[dir/file] ... ] <br>
List of files or directories trees that you wish to check
file context on.</p>

<p style="margin-top: 1em">AUTHOR <br>
This man page was written by Richard Hally
&lt;rhally@mindspring.com&gt;. The script was written by Dan
Walsh &lt;dwalsh@redhat.com&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
setfiles(8),restorecon(8)</p>

<p style="margin-top: 1em">2002031409 fixfiles(8)</p>
<hr>
</body>
</html>
