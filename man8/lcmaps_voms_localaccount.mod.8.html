<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LCMAPS_VOMS_LOCALACCOUNT.MOD(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LCMAPS_VOMS_LOCALACCOUNT.MOD(8)</td>
    <td class="head-vol">Site Access Control</td>
    <td class="head-rtitle">LCMAPS_VOMS_LOCALACCOUNT.MOD(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
lcmaps_voms_localaccount.mod - LCMAPS plugin to switch user identity based on
  VOMS credentials by local accounts
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>lcmaps_voms_localaccount.mod</b> [<b>-gridmapfile</b> <i>gridmapfile</i>]
  [<b>--add-primary-gid-from-mapped-account</b>]
  [<b>--do-not-add-primary-gid-from-mapped-account</b>]
  [<b>--add-primary-gid-as-secondary-gid-from-mapped-account</b>]
  [<b>--add-secondary-gids-from-mapped-account</b>]
  [<b>-use_voms_gid</b>|<b>-use-voms-gid</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This VOMS localaccount acquisition plugin is a 'VOMS-aware' modification of the
  <b>lcmaps_localaccount.mod.8</b> plugin. The plugin tries to find a local
  account (more specifically a UserID) based on the VOMS information that has
  available from the LCMAPS, in particular the Fully Qualified Attribute Names
  (FQAN).
<div style="height: 1.00em;">&#x00A0;</div>
The VOMS credentials need to be available from the LCMAPS framework.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-gridmapfile </b><i>gridmapfile</i></dt>
  <dd class="It-tag">This file must contain FQANs to (local) user account names.
      If this option is set, it will override the default path of the
      gridmapfile. It is advised to use an absolute path to the gridmapfile to
      avoid usage of the wrong file(path).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--add-primary-gid-from-mapped-account</b></dt>
  <dd class="It-tag">After the account is mapped, add the primary Group ID from
      the passwd-file/LDAP of the mapped account as a part of the mapping
      result. Default is to not add the primary Group ID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--do-not-add-primary-gid-from-mapped-account</b></dt>
  <dd class="It-tag">After the account is mapped, explicitly avoid adding the
      primary Group ID from the passwd-file/LDAP of the mapped account as a part
      of the mapping result.. Default is to not add the primary Group ID.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--add-primary-gid-as-secondary-gid-from-mapped-account</b></dt>
  <dd class="It-tag">After the account is mapped, add the primary Group ID from
      the passwd-file/LDAP of the mapped account as a secondary Group ID as a
      part of the mapping result.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--add-secondary-gids-from-mapped-account</b></dt>
  <dd class="It-tag">After the account is mapped, add the secondary Group ID
      from the groups-file/LDAP of the mapped account as a secondary Group ID(s)
      as a part of the mapping result.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-use_voms_gid</b><i>|</i><b>-use-voms-gid</b></dt>
  <dd class="It-tag">Warning: Default enabled! Switching this <b>on</b> will
      <b>disable</b> the automatic inclusion of the primary Group ID and
      secondary Group ID(s) of the mapped account as a part of the mapping
      result. We advise to switch this option <b>on</b> by default.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="RETURN_VALUES"><a class="selflink" href="#RETURN_VALUES">RETURN
  VALUES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LCMAPS_MOD_SUCCESS</b></dt>
  <dd class="It-tag">Success.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LCMAPS_MOD_FAIL</b></dt>
  <dd class="It-tag">Failure.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Since version 1.6.0 the voms_localaccount plugin supports grid-mapfile entries
  with multiple usernames, separated by a comma without whitespace. This can be
  used in combination with specifying a <b> requested username </b> (such as by
  gsissh), to pick any of these accounts. When no <b> requested username</b> is
  specified, the first is used. This requires LCMAPS version 1.6.0 or newer.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report any errors to the Nikhef Grid Middleware Security Team
  &lt;grid-mw-security-support@nikhef.nl&gt;.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>lcmaps.db</b>(5), <b>lcmaps</b>(3).
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
LCMAPS and the LCMAPS plug-ins were written by the Grid Middleware Security Team
  &lt;grid-mw-security@nikhef.nl&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 25, 2013</td>
    <td class="foot-os">Stichting FOM/Nikhef</td>
  </tr>
</table>
</body>
</html>
