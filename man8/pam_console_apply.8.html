<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pam_console_apply(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pam_console_apply(8)</td>
    <td class="head-vol">System Administrator's Manual</td>
    <td class="head-rtitle">pam_console_apply(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pam_console_apply - set or revoke permissions for users at the system console
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pam_console_apply</b> [-f &lt;fstab file&gt;] [-c &lt;console.perms file&gt;]
  [-r] [-t &lt;tty&gt;] [-s] [-d] [&lt;device file&gt; ...]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pam_console_apply</b> is a helper executable which sets or resets permissions
  on device nodes.
<div>&#x00A0;</div>
If <i>/var/run/console.lock</i> exists, <b>pam_console_apply</b> will grant
  permissions to the user listed therein. If the lock file does not exist,
  permissions are reset according to defaults set in <i>console.perms</i> files,
  normally configured to set permissions on devices so that <b>root</b> owns
  them.
<div style="height: 1.00em;">&#x00A0;</div>
When initializing its configuration it first parses the
  <i>/etc/security/console.perms</i> file and then it searches for files ending
  with the <i>.perms</i> suffix in the <i>/etc/security/console.perms.d</i>
  directory. These files are parsed in the lexical order in &quot;C&quot;
  locale. Permission rules are appended to a global list, console and device
  class definitions override previous definitions of the same class.
<h1 class="Sh" title="Sh" id="ARGUMENTS"><a class="selflink" href="#ARGUMENTS">ARGUMENTS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-c</dt>
  <dd class="It-tag">Load other console.perms file than the default one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f</dt>
  <dd class="It-tag">Load other fstab file than the default one
      (<i>/etc/fstab</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r</dt>
  <dd class="It-tag">Signals <b>pam_console_apply</b> to reset permissions. The
      default is to set permissions so that the user listed in
      <i>/var/run/console.lock</i> has access to the devices, and to reset
      permissions if no such file exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t</dt>
  <dd class="It-tag">Use &lt;tty&gt; to match console class in console.perms
      file. The default is tty0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">Write error messages to the system log instead of
    stderr.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d</dt>
  <dd class="It-tag">Log/display messages useful for debugging.</dd>
</dl>
<div class="Pp"></div>
The optional &lt;device file&gt; arguments constrain what files should be
  affected by <b>pam_console_apply</b>. If they aren't specified permissions are
  changed on all files specified in the <i>console.perms</i> file.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/var/run/console.lock</i>
<div>&#x00A0;</div>
<i>/etc/security/console.perms</i>
<div>&#x00A0;</div>
<i>/etc/security/console.perms.d/50-default.perms</i>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pam_console(8)</b>
<div>&#x00A0;</div>
<b>console.perms(5)</b>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Let's hope not, but if you find any, please report them via the &quot;Bug
  Track&quot; link at http://bugzilla.redhat.com/bugzilla/
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Nalin Dahyabhai &lt;nalin@redhat.com&gt;, using code shamelessly stolen from
  parts of pam_console.
<div>&#x00A0;</div>
Support of console.perms.d and other improvements by Tomas Mraz
  &lt;tmraz@redhat.com&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2005/5/2</td>
    <td class="foot-os">Red Hat</td>
  </tr>
</table>
</body>
</html>
