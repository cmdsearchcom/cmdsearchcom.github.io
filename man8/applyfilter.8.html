<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:35 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>applyfilter(8) System Manager&rsquo;s Manual
applyfilter(8)</p>

<p style="margin-top: 1em">NAME <br>
applyfilter - apply filter settings to news spool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
applyfilter [-v] ... newsgroup</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Leafnode is a USENET package intended for small sites, where
there are few users and little disk space, but where a large
number of groups is desired.</p>

<p style="margin-top: 1em">Applyfilter is the program to
apply filter settings to your newsspool, particularly after
changes that were not in effect at the time the articles
were downloaded with fetchnews. <br>
Applyfilter is used if you want to remove postings from your
spool matching a certain filter pattern (see FILES below).
If the headers of an article match any of the filtering <br>
rules, the article is being deleted from the newsgroup.</p>

<p style="margin-top: 1em">Applyfilter sets its real and
effective uid to &quot;news&quot;.</p>

<p style="margin-top: 1em">OPTIONS <br>
-v Be verbose.</p>

<p style="margin-top: 1em">newsgroup <br>
is the newsgroup you want to apply the filter to.</p>

<p style="margin-top: 1em">FILES <br>
A file specified in the filterfile option of
/etc/news/leafnode/config contains the set of filtering
rules that are applied to the newsspool. Each rule must be
on a separate <br>
line. Empty lines and comments (marked by a # which MUST be
at the beginning of the line) are allowed and will be
ignored.</p>

<p style="margin-top: 1em">Each line contains a regular
expression that will be compiled with the PCRE_MULTILINE
option set (unless it is a comment line or an empty line).
Every regular expression applied <br>
to the whole message header (folded message headers are
unfolded before the match is attempted). If any regular
expression matches the header, the posting gets removed. For
<br>
example, the following set of rules will delete all
crosspostings to alt.flame.</p>

<p style="margin-top: 1em">^Newsgroups:.*[, ]alt.flame$
<br>
^Newsgroups:.*[, ]alt.flame,</p>

<p style="margin-top: 1em">^Newsgroups: indicates that the
pattern should only be applied to the Newsgroups: header.
After the header, an arbitrary number of characters may
follow, ending in either a comma <br>
or a space. After that, alt.flame must be in the line,
either at the end of the line (first entry) or in the middle
of the line, followed by other newsgroups (second
entry).</p>

<p style="margin-top: 1em">Unfortunately, regular
expressions are a complex matter and outside the scope of
this document. Please see the manual pages provided with the
PCRE library for details.</p>

<p style="margin-top: 1em">Note that some leafnode programs
(such as fetchnews) feed the header line by line to the
regexp (after unfolding), others (such as applyfilter) feed
the whole header in one large <br>
blob. This does not usually matter because patterns are
compiled in multiline mode, but will matter if you&rsquo;re
trying to match multiple headers in the same regexp -- this
would <br>
work with applyfilter, but not with fetchnews.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
LN_LOCK_TIMEOUT <br>
This variable is parsed as an unsigned integer value and
determines how many seconds applyfilter will wait when
trying to obtain the lock file from another leafnode
pro&acirc; <br>
gram. 0 means to wait indefinitely. This variable takes
precedence over the configuration file.</p>

<p style="margin-top: 1em">AUTHOR <br>
Copyright 1999 by Cornelius Krasel
&lt;krasel@wpxx02.toxi.uni-wuerzburg.de&gt;. <br>
Copyright 2002 - 2006 by Matthias Andree
&lt;matthias.andree@gmx.de&gt;.</p>

<p style="margin-top: 1em">Leafnode was originally written
by Arnt Gulbrandsen &lt;agulbra@troll.no&gt; and is
copyright 1995-96 Troll Tech AS, Postboks 6133 Etterstad,
0602 Oslo, Norway, fax +47 22646949.</p>

<p style="margin-top: 1em">SEE ALSO <br>
pcrepattern(3), leafnode(8), fetchnews(8), texpire(8).</p>

<p style="margin-top: 1em">leafnode 1.11.10
applyfilter(8)</p>
<hr>
</body>
</html>
