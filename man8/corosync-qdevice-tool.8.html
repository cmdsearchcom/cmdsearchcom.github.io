<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>COROSYNC-QDEVICE-TOOL(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">COROSYNC-QDEVICE-TOOL(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">COROSYNC-QDEVICE-TOOL(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
corosync-qdevice-tool - corosync-qdevice control interface.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>corosync-qdevice-tool [-Hhsv] [-p qdevice_ipc_socket_path]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>corosync-qdevice-tool</b> is a frontend to the internal corosync-qdevice IPC.
  Its main purpose is to show important information about the current internal
  state of <b>corosync-qdevice.</b>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b></dt>
  <dd class="It-tag">Properly shutdown the <b>corosync-qdevice</b> process</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Display a short usage text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">Display the status of the <b>corosync-qdevice</b> process.
      The output is described in its own section below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Display more verbose output for the <b>-s</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">Path to the <b>corosync-qdevice</b> communication socket.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="STATUS_COMMAND_OUTPUT"><a class="selflink" href="#STATUS_COMMAND_OUTPUT">STATUS
  COMMAND OUTPUT</a></h1>
<pre>
Qdevice information
-------------------
Model:                  Net
Node ID:                1
HB interval:            10000ms
Sync HB interval:       30000ms
Configured node list:
    0   Node ID = 1
Ring ID:                1.a00000000021b48
Membership node list:   1
Quorate:                Yes
Quorum node list:
    0   Node ID = 1, State = member
Expected votes:         2
Last poll call:         2016-06-24T17:05:20 (cast vote)
<div class="Pp"></div>
Qdevice-net information
----------------------
Cluster name:           Cluster
QNetd host:             localhost:5403
Connect timeout:        8000ms
HB interval:            8000ms
VQ vote timer interval: 5000ms
TLS:                    Supported
Algorithm:              Fifty-Fifty split
Tie-breaker:            Node with lowest node ID
Poll timer running:     Yes (cast vote)
State:                  Connected
TLS active:             Yes (client certificate sent)
Connected since:        2016-06-24T17:02:35
Echo reply received:    2016-06-24T17:05:15
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
The output is split into a generic qdevice section and a model specific section.
  Most of the items are just taken from corosync.conf file. It's helpful to note
  that the <i>Membership node list</i> is the membership list of the current
  node and should match the quorum node list. <i>Last poll call</i> is the
  timestamp (in iso format) of the last call to the votequorum_qdevice_poll
  function.
<div style="height: 1.00em;">&#x00A0;</div>
For model net, it's good to check the <i>Poll timer running</i> state.
  Internally, model net supports 3 states. Not voting (when <i>Poll timer
  running</i> is No it means that the <b>corosync-qnetd</b> algorithm decides
  that the current node shouldn't get a vote), voting (without cast vote) and
  voting (with cast vote).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>corosync-qnetd</b>(8) <b>corosync-qdevice</b>(8)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Jan Friesse</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-06-24</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
