<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:40 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>COROSYNC-QDEVICE-TOOL(8) System Manager&rsquo;s Manual
COROSYNC-QDEVICE-TOOL(8)</p>

<p style="margin-top: 1em">NAME <br>
corosync-qdevice-tool - corosync-qdevice control
interface.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
corosync-qdevice-tool [-Hhsv] [-p
qdevice_ipc_socket_path]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
corosync-qdevice-tool is a frontend to the internal
corosync-qdevice IPC. Its main purpose is to show important
information about the current internal state of
corosync-qdevice.</p>

<p style="margin-top: 1em">OPTIONS <br>
-H Properly shutdown the corosync-qdevice process</p>

<p style="margin-top: 1em">-h Display a short usage
text</p>

<p style="margin-top: 1em">-s Display the status of the
corosync-qdevice process. The output is described in its own
section below.</p>

<p style="margin-top: 1em">-v Display more verbose output
for the -s option.</p>

<p style="margin-top: 1em">-p Path to the corosync-qdevice
communication socket.</p>

<p style="margin-top: 1em">STATUS COMMAND OUTPUT <br>
Qdevice information <br>
------------------- <br>
Model: Net <br>
Node ID: 1 <br>
HB interval: 10000ms <br>
Sync HB interval: 30000ms <br>
Configured node list: <br>
0 Node ID = 1 <br>
Ring ID: 1.a00000000021b48 <br>
Membership node list: 1 <br>
Quorate: Yes <br>
Quorum node list: <br>
0 Node ID = 1, State = member <br>
Expected votes: 2 <br>
Last poll call: 2016-06-24T17:05:20 (cast vote)</p>

<p style="margin-top: 1em">Qdevice-net information <br>
---------------------- <br>
Cluster name: Cluster <br>
QNetd host: localhost:5403 <br>
Connect timeout: 8000ms <br>
HB interval: 8000ms <br>
VQ vote timer interval: 5000ms <br>
TLS: Supported <br>
Algorithm: Fifty-Fifty split <br>
Tie-breaker: Node with lowest node ID <br>
Poll timer running: Yes (cast vote) <br>
State: Connected <br>
TLS active: Yes (client certificate sent) <br>
Connected since: 2016-06-24T17:02:35 <br>
Echo reply received: 2016-06-24T17:05:15</p>

<p style="margin-top: 1em">The output is split into a
generic qdevice section and a model specific section. Most
of the items are just taken from corosync.conf file.
It&rsquo;s helpful to note that the Member&acirc; <br>
ship node list is the membership list of the current node
and should match the quorum node list. Last poll call is the
timestamp (in iso format) of the last call to the
votequo&acirc; <br>
rum_qdevice_poll function.</p>

<p style="margin-top: 1em">For model net, it&rsquo;s good
to check the Poll timer running state. Internally, model net
supports 3 states. Not voting (when Poll timer running is No
it means that the corosync- <br>
qnetd algorithm decides that the current node
shouldn&rsquo;t get a vote), voting (without cast vote) and
voting (with cast vote).</p>

<p style="margin-top: 1em">SEE ALSO <br>
corosync-qnetd(8) corosync-qdevice(8)</p>

<p style="margin-top: 1em">AUTHOR <br>
Jan Friesse</p>

<p style="margin-top: 1em">2016-06-24
COROSYNC-QDEVICE-TOOL(8)</p>
<hr>
</body>
</html>
