<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DRACUT(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DRACUT(8)</td>
    <td class="head-vol">dracut</td>
    <td class="head-rtitle">DRACUT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dracut - low-level tool for generating an initramfs image
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dracut</b> [<i>OPTION...</i>] [<i>&lt;image&gt;</i> [<i>&lt;kernel
  version&gt;</i>]]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Create an initramfs &lt;image&gt; for the kernel with the version &lt;kernel
  version&gt;. If &lt;kernel version&gt; is omitted, then the version of the
  actual running kernel is used. If &lt;image&gt; is omitted or empty, then the
  default location /boot/initramfs-&lt;kernel version&gt;.img is used.
<div style="height: 1.00em;">&#x00A0;</div>
dracut creates an initial image used by the kernel for preloading the block
  device modules (such as IDE, SCSI or RAID) which are needed to access the root
  filesystem, mounting the root filesystem and booting into the real system.
<div style="height: 1.00em;">&#x00A0;</div>
At boot time, the kernel unpacks that archive into RAM disk, mounts and uses it
  as initial root file system. All finding of the root device happens in this
  early userspace.
<div style="height: 1.00em;">&#x00A0;</div>
For a complete list of kernel command line options see <b>dracut.cmdline</b>(7).
<div style="height: 1.00em;">&#x00A0;</div>
If you are dropped to an emergency shell, while booting your initramfs, the file
  <i>/run/initramfs/rdsosreport.txt</i> is created, which can be safed to a (to
  be mounted by hand) partition (usually /boot) or a USB stick. Additional
  debugging info can be produced by adding <b>rd.debug</b> to the kernel command
  line. <i>/run/initramfs/rdsosreport.txt</i> contains all logs and the output
  of some tools. It should be attached to any report about dracut problems.
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
To create a initramfs image, the most simple command is:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will generate a general purpose initramfs image, with all possible
  functionality resulting of the combination of the installed dracut modules and
  system tools. The image is /boot/initramfs- <i>&lt;kernel version&gt;</i>.img
  and contains the kernel modules of the currently active kernel with version
  <i>&lt;kernel version&gt;</i>.
<div style="height: 1.00em;">&#x00A0;</div>
If the initramfs image already exists, dracut will display an error message, and
  to overwrite the existing image, you have to use the --force option.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --force
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
If you want to specify another filename for the resulting image you would issue
  a command like:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut foobar.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
To generate an image for a specific kernel version, the command would be:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut foobar.img 2.6.40-1.rc5.f20
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
A shortcut to generate the image at the default location for a specific kernel
  version is:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --kver 2.6.40-1.rc5.f20
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
If you want to create lighter, smaller initramfs images, you may want to specify
  the --hostonly or -H option. Using this option, the resulting image will
  contain only those dracut modules, kernel modules and filesystems, which are
  needed to boot this specific machine. This has the drawback, that you
  can&#x2019;t put the disk on another controller or machine, and that you
  can&#x2019;t switch to another root filesystem, without recreating the
  initramfs image.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
On RHEL-7 the hostonly mode is the default mode. Generic
  &quot;non-hostonly&quot; images are created, if the dracut-config-generic rpm
  is installed. The rescue kernel entry in the bootloader menu is also a generic
  image.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h2 class="Ss" title="Ss" id="Inspecting_the_Contents"><a class="selflink" href="#Inspecting_the_Contents">Inspecting
  the Contents</a></h2>
To see the contents of the image created by dracut, you can use the lsinitrd
  tool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# lsinitrd | less
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
To display the contents of a file in the initramfs also use the lsinitrd tool:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# lsinitrd -f /etc/ld.so.conf
include ld.so.conf.d/*.conf
</pre>
</div>
<h2 class="Ss" title="Ss" id="Adding_dracut_Modules"><a class="selflink" href="#Adding_dracut_Modules">Adding
  dracut Modules</a></h2>
Some dracut modules are turned off by default and have to be activated manually.
  You can do this by adding the dracut modules to the configuration file
  <i>/etc/dracut.conf</i> or <i>/etc/dracut.conf.d/myconf.conf</i>. See
  <b>dracut.conf</b>(5). You can also add dracut modules on the command line by
  using the -a or --add option:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --add bootchart initramfs-bootchart.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
To see a list of available dracut modules, use the --list-modules option:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --list-modules
</pre>
</div>
<h2 class="Ss" title="Ss" id="Omitting_dracut_Modules"><a class="selflink" href="#Omitting_dracut_Modules">Omitting
  dracut Modules</a></h2>
Sometimes you don&#x2019;t want a dracut module to be included for reasons of
  speed, size or functionality. To do this, either specify the
  omit_dracutmodules variable in the <i>dracut.conf</i> or
  <i>/etc/dracut.conf.d/myconf.conf</i> configuration file (see
  <b>dracut.conf</b>(5)), or use the -o or --omit option on the command line:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut -o &quot;multipath lvm&quot; no-multipath-lvm.img
</pre>
</div>
<h2 class="Ss" title="Ss" id="Adding_Kernel_Modules"><a class="selflink" href="#Adding_Kernel_Modules">Adding
  Kernel Modules</a></h2>
If you need a special kernel module in the initramfs, which is not automatically
  picked up by dracut, you have the use the --add-drivers option on the command
  line or the drivers vaiable in the <i>/etc/dracut.conf</i> or
  <i>/etc/dracut.conf.d/myconf.conf</i> configuration file (see
  <b>dracut.conf</b>(5)):
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --add-drivers mymod initramfs-with-mymod.img
</pre>
</div>
<h2 class="Ss" title="Ss" id="Boot_parameters"><a class="selflink" href="#Boot_parameters">Boot
  parameters</a></h2>
An initramfs generated without the &quot;hostonly&quot; mode, does not contain
  any system configuration files (except for some special exceptions), so the
  configuration has to be done on the kernel command line. With this
  flexibility, you can easily boot from a changed root partition, without the
  need to recompile the initramfs image. So, you could completly change your
  root partition (move it inside a md raid with encryption and LVM on top), as
  long as you specify the correct filesystem LABEL or UUID on the kernel command
  line for your root device, dracut will find it and boot from it.
<div style="height: 1.00em;">&#x00A0;</div>
The kernel command line usually can be configured in <i>/boot/grub2/grub.cfg</i>
  (or <i>/boot/efi/EFI/redhat/grub.cfg</i> for EFI systems), if grub2 is your
  bootloader and it also can be edited in the real boot process in the grub
  menu.
<div style="height: 1.00em;">&#x00A0;</div>
The kernel command line can also be provided by the dhcp server with the
  root-path option. See the section called &#x201C;Network Boot&#x201D;.
<div style="height: 1.00em;">&#x00A0;</div>
For a full reference of all kernel command line parameters, see
  <b>dracut.cmdline</b>(5).
<div style="height: 1.00em;">&#x00A0;</div>
To get a quick start for the suitable kernel command line on your system, use
  the <i>--print-cmdline</i> option:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --print-cmdline
 root=UUID=8b8b6f91-95c7-4da2-831b-171e12179081 rootflags=rw,relatime,discard,data=ordered rootfstype=ext4
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Specifying the root Device</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
This is the only option dracut really needs to boot from your root partition.
  Because your root partition can live in various environments, there are a lot
  of formats for the root= option. The most basic one is root= <i>&lt;path to
  device node&gt;</i>:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
root=/dev/sda2
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Because device node names can change, dependent on the drive ordering, you are
  encouraged to use the filesystem identifier (UUID) or filesystem label (LABEL)
  to specify your root partition:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
root=UUID=19e9dda3-5a38-484d-a9b0-fa6b067d0331
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
or
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
root=LABEL=myrootpartitionlabel
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
To see all UUIDs or LABELs on your system, do:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# ls -l /dev/disk/by-uuid
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
or
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# ls -l /dev/disk/by-label
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
If your root partition is on the network see the section called &#x201C;Network
  Boot&#x201D;.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Keyboard Settings</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
If you have to input passwords for encrypted disk volumes, you might want to set
  the keyboard layout and specify a display font.
<div style="height: 1.00em;">&#x00A0;</div>
A typical german kernel command would contain:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
rd.vconsole.font=latarcyrheb-sun16 rd.vconsole.keymap=de-latin1-nodeadkeys rd.locale.LANG=de_DE.UTF-8
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Setting these options can override the setting stored on your system, if you use
  a modern init system, like systemd.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Blacklisting Kernel Modules</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Sometimes it is required to prevent the automatic kernel module loading of a
  specific kernel module. To do this, just add rd.blacklist= <i>&lt;kernel
  module name&gt;</i>, with <i>&lt;kernel module name&gt;</i> not containing the
  <i>.ko</i> suffix, to the kernel command line. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
rd.driver.blacklist=mptsas rd.driver.blacklist=nouveau
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The option can be specified multiple times on the kernel command line.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Speeding up the Boot Process</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
If you want to speed up the boot process, you can specify as much information
  for dracut on the kernel command as possible. For example, you can tell
  dracut, that you root partition is not on a LVM volume or not on a raid
  partition, or that it lives inside a specific crypto LUKS encrypted volume. By
  default, dracut searches everywhere. A typical dracut kernel command line for
  a plain primary or logical partition would contain:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
rd.luks=0 rd.lvm=0 rd.md=0 rd.dm=0
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This turns off every automatic assembly of LVM, MD raids, DM raids and crypto
  LUKS.
<div style="height: 1.00em;">&#x00A0;</div>
Of course, you could also omit the dracut modules in the initramfs creation
  process, but then you would lose the posibility to turn it on on demand.</div>
<h2 class="Ss" title="Ss" id="Injecting_custom_Files"><a class="selflink" href="#Injecting_custom_Files">Injecting
  custom Files</a></h2>
To add your own files to the initramfs image, you have several possibilities.
<div style="height: 1.00em;">&#x00A0;</div>
The --include option let you specify a source path and a target path. For
  example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --include cmdline-preset /etc/cmdline.d/mycmdline.conf initramfs-cmdline-pre.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
will create an initramfs image, where the file cmdline-preset will be copied
  inside the initramfs to <i>/etc/cmdline.d/mycmdline.conf</i>. --include can
  only be specified once.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# mkdir -p rd.live.overlay/etc/cmdline.d
# mkdir -p rd.live.overlay/etc/conf.d
# echo &quot;ip=dhcp&quot; &gt;&gt; rd.live.overlay/etc/cmdline.d/mycmdline.conf
# echo export FOO=testtest &gt;&gt; rd.live.overlay/etc/conf.d/testvar.conf
# echo export BAR=testtest &gt;&gt; rd.live.overlay/etc/conf.d/testvar.conf
# tree rd.live.overlay/
rd.live.overlay/
`-- etc
    |-- cmdline.d
    |   `-- mycmdline.conf
    `-- conf.d
        `-- testvar.conf
<div class="Pp"></div>
# dracut --include rd.live.overlay / initramfs-rd.live.overlay.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will put the contents of the rd.live.overlay directory into the root of the
  initramfs image.
<div style="height: 1.00em;">&#x00A0;</div>
The --install option let you specify several files, which will get installed in
  the initramfs image at the same location, as they are present on initramfs
  creation time.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --install 'strace fsck.ext3 ssh' initramfs-dbg.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will create an initramfs with the strace, fsck.ext3 and ssh executables,
  together with the libraries needed to start those. The --install option can be
  specified multiple times.
<h2 class="Ss" title="Ss" id="Network_Boot"><a class="selflink" href="#Network_Boot">Network
  Boot</a></h2>
If your root partition is on a network drive, you have to have the network
  dracut modules installed to create a network aware initramfs image.
<div style="height: 1.00em;">&#x00A0;</div>
On a Red Hat Enterprise Linux or Fedora system, this means, you have to install
  the <i>dracut-network</i> rpm package:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# yum install dracut-network
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The resulting initramfs image can be served by a boot manager residing on your
  local hard drive or it can be served by a PXE/TFTP server.
<div style="height: 1.00em;">&#x00A0;</div>
How to setup your PXE/TFTP server can be found in the <b>Red Hat Enterprise
  Linux Storage Administration Guide</b>[1].
<div style="height: 1.00em;">&#x00A0;</div>
If you specify ip=dhcp on the kernel command line, then dracut asks a dhcp
  server about the ip adress for the machine. The dhcp server can also serve an
  additional root-path, which will set the root device for dracut. With this
  mechanism, you have static configuration on your client machine and a
  centralized boot configuration on your TFTP/DHCP server. If you can&#x2019;t
  pass a kernel command line, then you can inject
  <i>/etc/cmdline.d/mycmdline.conf</i>, with a method described in the section
  called &#x201C;Injecting custom Files&#x201D;.
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Reducing the Image Size</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
To reduce the size of the initramfs, you should create it with by ommitting all
  dracut modules, which you know, you don&#x2019;t need to boot the machine.
<div style="height: 1.00em;">&#x00A0;</div>
You can also specify the exact dracut and kernel modules to produce a very tiny
  initramfs image.
<div style="height: 1.00em;">&#x00A0;</div>
For example for a NFS image, you would do:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut -m &quot;nfs network  base&quot; initramfs-nfs-only.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Then you would boot from this image with your target machine and reduce the size
  once more by creating it on the target machine with the --host-only option:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut -m &quot;nfs network base&quot; --host-only initramfs-nfs-host-only.img
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will reduce the size of the initramfs image significantly.</div>
<h1 class="Sh" title="Sh" id="TROUBLESHOOTING"><a class="selflink" href="#TROUBLESHOOTING">TROUBLESHOOTING</a></h1>
If the boot process does not succeed, you have several options to debug the
  situation. Some of the basic operations are covered here. For more information
  you should also visit:
  <b>http://fedoraproject.org/wiki/How_to_debug_Dracut_problems</b>
<h2 class="Ss" title="Ss" id="Identifying_your_problem_area"><a class="selflink" href="#Identifying_your_problem_area">Identifying
  your problem area</a></h2>
<div style="margin-left: 4.00ex;"> 1.Remove <i>'rhgb</i>' and <i>'quiet</i>'
  from the kernel command line</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 2.Add <i>'rd.shell</i>' to the kernel command
  line. This will present a shell should dracut be unable to locate your root
  device</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 3.Add <i>'rd.shell rd.debug
  log_buf_len=1M</i>' to the kernel command line so that dracut shell commands
  are printed as they are executed</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 4.The file /run/initramfs/rdsosreport.txt is
  generated, which contains all the logs and the output of all significant
  tools, which are mentioned later.</div>
<div style="height: 1.00em;">&#x00A0;</div>
If you want to save that output, simply mount /boot by hand or insert an USB
  stick and mount that. Then you can store the output for later inspection.
<h2 class="Ss" title="Ss" id="Information_to_include_in_your_report"><a class="selflink" href="#Information_to_include_in_your_report">Information
  to include in your report</a></h2>
<b>All bug reports</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
In all cases, the following should be mentioned and attached to your bug report:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The exact kernel command-line used.
  Typically from the bootloader configuration file (e.g.
  <i>/boot/grub2/grub.cfg</i> (or <i>/boot/efi/EFI/redhat/grub.cfg</i> for EFI
  systems)) or from <i>/proc/cmdline</i>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;A copy of your disk partition
  information from <i>/etc/fstab</i>, which might be obtained booting an old
  working initramfs or a rescue medium.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Turn on dracut debugging (see <i>the
  </i> <i></i><i>debugging dracut</i><i> section</i>), and attach the file
  /run/initramfs/rdsosreport.txt.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If you use a dracut configuration
  file, please include <i>/etc/dracut.conf</i> and all files in
  <i>/etc/dracut.conf.d/*.conf</i></div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Network root device related problems</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
This section details information to include when experiencing problems on a
  system whose root device is located on a network attached volume (e.g. iSCSI,
  NFS or NBD). As well as the information from the section called &#x201C;All
  bug reports&#x201D;, include the following information:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Please include the output of
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# /sbin/ifup &lt;interfacename&gt;
# ip addr show
</pre>
</div>
</div>
</div>
<h2 class="Ss" title="Ss" id="Debugging_dracut"><a class="selflink" href="#Debugging_dracut">Debugging
  dracut</a></h2>
<b>Configure a serial console</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Successfully debugging dracut will require some form of console logging during
  the system boot. This section documents configuring a serial console
  connection to record boot messages.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 1.In <i>/boot/grub2/grub.cfg</i> (or
  <i>/boot/efi/EFI/redhat/grub.cfg</i> for EFI systems), add the following boot
  arguments to the <i>'linux16</i>' line:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
console=tty0 console=ttyS0,9600
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 2.More detailed information on how to
  configure the kernel for console output can be found at
  <b>http://www.faqs.org/docs/Linux-HOWTO/Remote-Serial-Console-HOWTO.html#CONFIGURE-KERNEL</b>.</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Using the dracut shell</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
dracut offers a shell for interactive debugging in the event dracut fails to
  locate your root filesystem. To enable the shell:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 1.Add the boot parameter <i>'rd.shell</i>' to
  your bootloader configuration file (e.g. <i>/boot/grub2/grub.cfg</i> (or
  <i>/boot/efi/EFI/redhat/grub.cfg</i> for EFI systems))</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 2.Remove the boot arguments <i>'rhgb</i>' and
  <i>'quiet</i>'
<div style="height: 1.00em;">&#x00A0;</div>
A sample <i>grub.cfg</i> bootloader configuration file snippet is listed below.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
menuentry 'Red Hat Enterprise Linux Server (3.10.0-308.el7.x86_64) 7.0 (Maipo)' [...] {
  [...]
  linux16 /vmlinuz-3.10.0-308.el7.x86_64 ro root=/dev/mapper/vg_uc1-lv_root console=tty0 rd.shell
  initrd16 /initramfs-3.10.0-308.el7.x86_64.img
  [...]
}
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 3.If system boot fails, you will be dropped
  into a shell as seen in the example below.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
No root device found
Dropping to debug shell.
<div class="Pp"></div>
#
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 4.Use this shell prompt to gather the
  information requested above (see the section called &#x201C;All bug
  reports&#x201D;).</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Accessing the root volume from the dracut shell</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
From the dracut debug shell, you can manually perform the task of locating and
  preparing your root volume for boot. The required steps will depend on how
  your root volume is configured. Common scenarios include:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;A block device (e.g.
  <i>/dev/sda7</i>)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;A LVM logical volume (e.g.
  <i>/dev/VolGroup00/LogVol00</i>)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;An encrypted device (e.g.
  <i>/dev/mapper/luks-4d5972ea-901c-4584-bd75-1da802417d83</i>)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;A network attached device (e.g.
  <i>netroot=iscsi:@192.168.0.4::3260::iqn.2009-02.org.example:for.all</i>)</div>
<div style="height: 1.00em;">&#x00A0;</div>
The exact method for locating and preparing will vary. However, to continue with
  a successful boot, the objective is to locate your root volume and create a
  symlink <i>/dev/root</i> which points to the file system. For example, the
  following example demonstrates accessing and booting a root volume that is an
  encrypted LVM Logical volume.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 1.Inspect your partitions using parted
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# parted /dev/sda -s p
Model: ATA HTS541060G9AT00 (scsi)
Disk /dev/sda: 60.0GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Number  Start   End     Size    Type      File system  Flags
1      32.3kB  10.8GB  107MB   primary   ext4         boot
2      10.8GB  55.6GB  44.7GB  logical                lvm
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 2.You recall that your root volume was a LVM
  logical volume. Scan and activate any logical volumes.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# lvm vgscan
# lvm vgchange -ay
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 3.You should see any logical volumes now
  using the command blkid:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# blkid
/dev/sda1: UUID=&quot;3de247f3-5de4-4a44-afc5-1fe179750cf7&quot; TYPE=&quot;ext4&quot;
/dev/sda2: UUID=&quot;Ek4dQw-cOtq-5MJu-OGRF-xz5k-O2l8-wdDj0I&quot; TYPE=&quot;LVM2_member&quot;
/dev/mapper/linux-root: UUID=&quot;def0269e-424b-4752-acf3-1077bf96ad2c&quot; TYPE=&quot;crypto_LUKS&quot;
/dev/mapper/linux-home: UUID=&quot;c69127c1-f153-4ea2-b58e-4cbfa9257c5e&quot; TYPE=&quot;ext3&quot;
/dev/mapper/linux-swap: UUID=&quot;47b4d329-975c-4c08-b218-f9c9bf3635f1&quot; TYPE=&quot;swap&quot;
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 4.From the output above, you recall that your
  root volume exists on an encrypted block device. Following the guidance disk
  encryption guidance from the Installation Guide, you unlock your encrypted
  root volume.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# UUID=$(cryptsetup luksUUID /dev/mapper/linux-root)
# cryptsetup luksOpen /dev/mapper/linux-root luks-$UUID
Enter passphrase for /dev/mapper/linux-root:
Key slot 0 unlocked.
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 5.Next, make a symbolic link to the unlocked
  root volume
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# ln -s /dev/mapper/luks-$UUID /dev/root
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 6.With the root volume available, you may
  continue booting the system by exiting the dracut shell
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# exit
</pre>
</div>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Additional dracut boot parameters</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
For more debugging options, see <b>dracut.cmdline</b>(7).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Debugging dracut on shutdown</b>
<div>&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
To debug the shutdown sequence on systemd systems, you can <i>rd.break</i> on
  <i>pre-shutdown</i> or <i>shutdown</i>.
<div style="height: 1.00em;">&#x00A0;</div>
To do this from an already booted system:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# mkdir -p /run/initramfs/etc/cmdline.d
# echo &quot;rd.break=pre-shutdown&quot; &gt; /run/initramfs/etc/cmdline.d/debug.conf
# touch /run/initramfs/.need_shutdown
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will give you a dracut shell after the system pivot&#x2019;ed back in the
  initramfs.</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--kver</b> <i>&lt;kernel version&gt;</i>
<div style="margin-left: 4.00ex;">set the kernel version. This enables to
  specify the kernel version, without specifying the location of the initramfs
  image. For example:</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --kver 3.5.0-0.rc7.git1.2.fc18.x86_64
</pre>
</div>
<div class="Pp"></div>
<b>-f, --force</b>
<div style="margin-left: 4.00ex;">overwrite existing initramfs file.</div>
<div class="Pp"></div>
<b>-m, --modules</b> <i>&lt;list of dracut modules&gt;</i>
<div style="margin-left: 4.00ex;">specify a space-separated list of dracut
  modules to call when building the initramfs. Modules are located in
  <i>/usr/lib/dracut/modules.d</i>. This parameter can be specified multiple
  times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --modules &quot;module1 module2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>-o, --omit</b>&#x00A0;<i>&lt;list of dracut modules&gt;</i>
<div style="margin-left: 4.00ex;">omit a space-separated list of dracut modules.
  This parameter can be specified multiple times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --omit &quot;module1 module2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>-a, --add</b>&#x00A0;<i>&lt;list of dracut modules&gt;</i>
<div style="margin-left: 4.00ex;">add a space-separated list of dracut modules
  to the default set of modules. This parameter can be specified multiple times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --add &quot;module1 module2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--force-add</b>&#x00A0;<i>&lt;list of dracut modules&gt;</i>
<div style="margin-left: 4.00ex;">force to add a space-separated list of dracut
  modules to the default set of modules, when -H is specified. This parameter
  can be specified multiple times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --force-add &quot;module1 module2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>-d, --drivers</b>&#x00A0;<i>&lt;list of kernel modules&gt;</i>
<div style="margin-left: 4.00ex;">specify a space-separated list of kernel
  modules to exclusively include in the initramfs. The kernel modules have to be
  specified without the &quot;.ko&quot; suffix. This parameter can be specified
  multiple times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --drivers &quot;kmodule1 kmodule2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--add-drivers</b>&#x00A0;<i>&lt;list of kernel modules&gt;</i>
<div style="margin-left: 4.00ex;">specify a space-separated list of kernel
  modules to add to the initramfs. The kernel modules have to be specified
  without the &quot;.ko&quot; suffix. This parameter can be specified multiple
  times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --add-drivers &quot;kmodule1 kmodule2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--omit-drivers</b>&#x00A0;<i>&lt;list of kernel modules&gt;</i>
<div style="margin-left: 4.00ex;">specify a space-separated list of kernel
  modules not to add to the initramfs. The kernel modules have to be specified
  without the &quot;.ko&quot; suffix. This parameter can be specified multiple
  times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --omit-drivers &quot;kmodule1 kmodule2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--filesystems</b>&#x00A0;<i>&lt;list of filesystems&gt;</i>
<div style="margin-left: 4.00ex;">specify a space-separated list of kernel
  filesystem modules to exclusively include in the generic initramfs. This
  parameter can be specified multiple times.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --filesystems &quot;filesystem1 filesystem2&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>-k, --kmoddir</b>&#x00A0;<i>&lt;kernel directory&gt;</i>
<div style="margin-left: 4.00ex;">specify the directory, where to look for
  kernel modules</div>
<div class="Pp"></div>
<b>--fwdir</b>&#x00A0;<i>&lt;dir&gt;[:&lt;dir&gt;...]++</i>
<div style="margin-left: 4.00ex;">specify additional directories, where to look
  for firmwares. This parameter can be specified multiple times.</div>
<div class="Pp"></div>
<b>--kernel-cmdline &lt;parameters&gt;</b>
<div style="margin-left: 4.00ex;">specify default kernel command line
  parameters</div>
<div class="Pp"></div>
<b>--kernel-only</b>
<div style="margin-left: 4.00ex;">only install kernel drivers and firmware
  files</div>
<div class="Pp"></div>
<b>--no-kernel</b>
<div style="margin-left: 4.00ex;">do not install kernel drivers and firmware
  files</div>
<div class="Pp"></div>
<b>--early-microcode</b>
<div style="margin-left: 4.00ex;">Combine early microcode with ramdisk</div>
<div class="Pp"></div>
<b>--no-early-microcode</b>
<div style="margin-left: 4.00ex;">Do not combine early microcode with
  ramdisk</div>
<div class="Pp"></div>
<b>--print-cmdline</b>
<div style="margin-left: 4.00ex;">print the kernel command line for the current
  disk layout</div>
<div class="Pp"></div>
<b>--mdadmconf</b>
<div style="margin-left: 4.00ex;">include local <i>/etc/mdadm.conf</i></div>
<div class="Pp"></div>
<b>--nomdadmconf</b>
<div style="margin-left: 4.00ex;">do not include local
  <i>/etc/mdadm.conf</i></div>
<div class="Pp"></div>
<b>--lvmconf</b>
<div style="margin-left: 4.00ex;">include local <i>/etc/lvm/lvm.conf</i></div>
<div class="Pp"></div>
<b>--nolvmconf</b>
<div style="margin-left: 4.00ex;">do not include local
  <i>/etc/lvm/lvm.conf</i></div>
<div class="Pp"></div>
<b>--fscks</b> [LIST]
<div style="margin-left: 4.00ex;">add a space-separated list of fsck tools, in
  addition to <i>dracut.conf</i>'s specification; the installation is
  opportunistic (non-existing tools are ignored)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --fscks &quot;fsck.foo barfsck&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--nofscks</b>
<div style="margin-left: 4.00ex;">inhibit installation of any fsck tools</div>
<div class="Pp"></div>
<b>--strip</b>
<div style="margin-left: 4.00ex;">strip binaries in the initramfs
  (default)</div>
<div class="Pp"></div>
<b>--nostrip</b>
<div style="margin-left: 4.00ex;">do not strip binaries in the initramfs</div>
<div class="Pp"></div>
<b>--prelink</b>
<div style="margin-left: 4.00ex;">prelink binaries in the initramfs
  (default)</div>
<div class="Pp"></div>
<b>--noprelink</b>
<div style="margin-left: 4.00ex;">do not prelink binaries in the initramfs</div>
<div class="Pp"></div>
<b>--hardlink</b>
<div style="margin-left: 4.00ex;">hardlink files in the initramfs
  (default)</div>
<div class="Pp"></div>
<b>--nohardlink</b>
<div style="margin-left: 4.00ex;">do not hardlink files in the initramfs</div>
<div class="Pp"></div>
<b>--prefix</b>&#x00A0;<i>&lt;dir&gt;</i>
<div style="margin-left: 4.00ex;">prefix initramfs files with the specified
  directory</div>
<div class="Pp"></div>
<b>--noprefix</b>
<div style="margin-left: 4.00ex;">do not prefix initramfs files (default)</div>
<div class="Pp"></div>
<b>-h, --help</b>
<div style="margin-left: 4.00ex;">display help text and exit.</div>
<div class="Pp"></div>
<b>--debug</b>
<div style="margin-left: 4.00ex;">output debug information of the build
  process</div>
<div class="Pp"></div>
<b>-v, --verbose</b>
<div style="margin-left: 4.00ex;">increase verbosity level (default is
  info(4))</div>
<div class="Pp"></div>
<b>-q, --quiet</b>
<div style="margin-left: 4.00ex;">decrease verbosity level (default is
  info(4))</div>
<div class="Pp"></div>
<b>-c, --conf</b>&#x00A0;<i>&lt;dracut configuration file&gt;</i>
<div style="margin-left: 4.00ex;">specify configuration file to use.
<div style="height: 1.00em;">&#x00A0;</div>
Default: <i>/etc/dracut.conf</i></div>
<div class="Pp"></div>
<b>--confdir</b>&#x00A0;<i>&lt;configuration directory&gt;</i>
<div style="margin-left: 4.00ex;">specify configuration directory to use.
<div style="height: 1.00em;">&#x00A0;</div>
Default: <i>/etc/dracut.conf.d</i></div>
<div class="Pp"></div>
<b>--tmpdir</b>&#x00A0;<i>&lt;temporary directory&gt;</i>
<div style="margin-left: 4.00ex;">specify temporary directory to use.
<div style="height: 1.00em;">&#x00A0;</div>
Default: <i>/var/tmp</i></div>
<div class="Pp"></div>
<b>--sshkey</b>&#x00A0;<i>&lt;sshkey file&gt;</i>
<div style="margin-left: 4.00ex;">ssh key file used with ssh-client
  module.</div>
<div class="Pp"></div>
<b>--logfile</b>&#x00A0;<i>&lt;logfile&gt;</i>
<div style="margin-left: 4.00ex;">logfile to use; overrides any setting from the
  configuration files.
<div style="height: 1.00em;">&#x00A0;</div>
Default: <i>/var/log/dracut.log</i></div>
<div class="Pp"></div>
<b>-l, --local</b>
<div style="margin-left: 4.00ex;">activates the local mode. dracut will use
  modules from the current working directory instead of the system-wide
  installed modules in <i>/usr/lib/dracut/modules.d</i>. This is useful when
  running dracut from a git checkout.</div>
<div class="Pp"></div>
<b>-H, --hostonly</b>
<div style="margin-left: 4.00ex;">Host-Only mode: Install only what is needed
  for booting the local host instead of a generic host and generate
  host-specific configuration.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If chrooted to another root other than the real root device, use
  &quot;--fstab&quot; and provide a valid <i>/etc/fstab</i>.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>-N, --no-hostonly</b>
<div style="margin-left: 4.00ex;">Disable Host-Only mode</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--hostonly-cmdline</b>: Store kernel command line arguments needed in the
  initramfs
<div style="height: 1.00em;">&#x00A0;</div>
<b>--no-hostonly-cmdline</b>: Do not store kernel command line arguments needed
  in the initramfs
<div style="height: 1.00em;">&#x00A0;</div>
<b>--hostonly-i18n</b>: Install only needed keyboard and font files according to
  the host configuration (default).
<div style="height: 1.00em;">&#x00A0;</div>
<b>--no-hostonly-i18n</b>: Install all keyboard and font files available.
<div class="Pp"></div>
<b>--persistent-policy</b> <i>&lt;policy&gt;</i>
<div style="margin-left: 4.00ex;">Use <i>&lt;policy&gt;</i> to address disks and
  partitions. <i>&lt;policy&gt;</i> can be any directory name found in
  /dev/disk. E.g. &quot;by-uuid&quot;, &quot;by-label&quot;</div>
<div class="Pp"></div>
<b>--fstab</b>
<div style="margin-left: 4.00ex;">Use <i>/etc/fstab</i> instead of
  <i>/proc/self/mountinfo</i>.</div>
<div class="Pp"></div>
<b>--add-fstab</b> <i>&lt;filename&gt;</i>
<div style="margin-left: 4.00ex;">Add entries of <i>&lt;filename&gt;</i> to the
  initramfs /etc/fstab.</div>
<div class="Pp"></div>
<b>--mount</b>&#x00A0;&quot;<i>&lt;device&gt;</i> <i>&lt;mountpoint&gt;</i>
  <i>&lt;filesystem type&gt;</i> [ <i>&lt;filesystem options&gt;</i>
  [<i>&lt;dump frequency&gt;</i> [ <i>&lt;fsck order&gt;</i>]]]&quot;
<div style="margin-left: 4.00ex;">Mount <i>&lt;device&gt;</i> on
  <i>&lt;mountpoint&gt;</i> with <i>&lt;filesystem type&gt;</i> in the
  initramfs. <i>&lt;filesystem options&gt;</i>, <i>&lt;dump options&gt;</i> and
  <i>&lt;fsck order&gt;</i> can be specified, see fstab manpage for the details.
  The default <i>&lt;filesystem options&gt;</i> is &quot;defaults&quot;. The
  default <i>&lt;dump frequency&gt;</i> is &quot;0&quot;. the default
  <i>&lt;fsck order&gt;</i> is &quot;2&quot;.</div>
<div class="Pp"></div>
<b>--add-device</b> <i>&lt;device&gt;</i>
<div style="margin-left: 4.00ex;">Bring up <i>&lt;device&gt;</i> in initramfs,
  <i>&lt;device&gt;</i> should be the device name. This can be useful in
  hostonly mode for resume support when your swap is on LVM or an encrypted
  partition. [NB --device can be used for compatibility with earlier
  releases]</div>
<div class="Pp"></div>
<b>-i, --include</b> <i>&lt;SOURCE&gt;</i> <i>&lt;TARGET&gt;</i>
<div style="margin-left: 4.00ex;">include the files in the SOURCE directory into
  the TARGET directory in the final initramfs. If SOURCE is a file, it will be
  installed to TARGET in the final initramfs. This parameter can be specified
  multiple times.</div>
<div class="Pp"></div>
<b>-I, --install</b> <i>&lt;file list&gt;</i>
<div style="margin-left: 4.00ex;">install the space separated list of files into
  the initramfs.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
If [LIST] has multiple arguments, then you have to put these in quotes. For
  example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# dracut --install &quot;/bin/foo /sbin/bar&quot;  ...
</pre>
</div>
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--install-optional</b> <i>&lt;file list&gt;</i>
<div style="margin-left: 4.00ex;">install the space separated list of files into
  the initramfs, if they exist.</div>
<div class="Pp"></div>
<b>--gzip</b>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using gzip.
  This will be done by default, unless another compression option or
  --no-compress is passed. Equivalent to &quot;--compress=gzip -9&quot;</div>
<div class="Pp"></div>
<b>--bzip2</b>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using bzip2.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Make sure your kernel has bzip2 decompression support compiled in, otherwise you
  will not be able to boot. Equivalent to &quot;--compress=bzip2&quot;
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--lzma</b>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using lzma.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Make sure your kernel has lzma decompression support compiled in, otherwise you
  will not be able to boot. Equivalent to &quot;lzma --compress=lzma -9&quot;
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--xz</b>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using xz.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Make sure your kernel has xz decompression support compiled in, otherwise you
  will not be able to boot. Equivalent to &quot;lzma --compress=xz --check=crc32
  --lzma2=dict=1MiB&quot;
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>--lzo</b>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using
  lzop.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Make sure your kernel has lzo decompression support compiled in, otherwise you
  will not be able to boot.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div class="Pp"></div>
<b>--lz4</b>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using
  lz4.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Make sure your kernel has lz4 decompression support compiled in, otherwise you
  will not be able to boot.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div class="Pp"></div>
<b>--compress</b>&#x00A0;<i>&lt;compressor&gt;</i>
<div style="margin-left: 4.00ex;">Compress the generated initramfs using the
  passed compression program. If you pass it just the name of a compression
  program, it will call that program with known-working arguments. If you pass a
  quoted string with arguments, it will be called with exactly those arguments.
  Depending on what you pass, this may result in an initramfs that the kernel
  cannot decompress.</div>
<div class="Pp"></div>
<b>--no-compress</b>
<div style="margin-left: 4.00ex;">Do not compress the generated initramfs. This
  will override any other compression options.</div>
<div class="Pp"></div>
<b>--list-modules</b>
<div style="margin-left: 4.00ex;">List all available dracut modules.</div>
<div class="Pp"></div>
<b>-M, --show-modules</b>
<div style="margin-left: 4.00ex;">Print included module&#x2019;s name to
  standard output during build.</div>
<div class="Pp"></div>
<b>--keep</b>
<div style="margin-left: 4.00ex;">Keep the initramfs temporary directory for
  debugging purposes.</div>
<div class="Pp"></div>
<b>--printsize</b>
<div style="margin-left: 4.00ex;">Print out the module install size</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--profile</b>: Output profile information of the build process
<div style="height: 1.00em;">&#x00A0;</div>
<b>--ro-mnt</b>: Mount / and /usr read-only by default.
<div class="Pp"></div>
<b>-L, --stdlog</b>&#x00A0;<i>&lt;level&gt;</i>
<div style="margin-left: 4.00ex;">[0-6] Specify logging level (to standard
  error)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
          0 - suppress any messages
          1 - only fatal errors
          2 - all errors
          3 - warnings
          4 - info
          5 - debug info (here starts lots of output)
          6 - trace info (and even more)
</pre>
</div>
<div class="Pp"></div>
<b>--regenerate-all</b>
<div style="margin-left: 4.00ex;">Regenerate all initramfs images at the default
  location with the kernel versions found on the system. Additional parameters
  are passed through.</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/var/log/dracut.log</i>
<div style="margin-left: 4.00ex;">logfile of initramfs image creation</div>
<div class="Pp"></div>
<i>/tmp/dracut.log</i>
<div style="margin-left: 4.00ex;">logfile of initramfs image creation, if
  <i>/var/log/dracut.log</i> is not writable</div>
<div class="Pp"></div>
<i>/etc/dracut.conf</i>
<div style="margin-left: 4.00ex;">see dracut.conf5</div>
<div class="Pp"></div>
<i>/etc/dracut.conf.d/*.conf</i>
<div style="margin-left: 4.00ex;">see dracut.conf5</div>
<div class="Pp"></div>
<i>/usr/lib/dracut/dracut.conf.d/*.conf</i>
<div style="margin-left: 4.00ex;">see dracut.conf5</div>
<h2 class="Ss" title="Ss" id="Configuration_in_the_initramfs"><a class="selflink" href="#Configuration_in_the_initramfs">Configuration
  in the initramfs</a></h2>
<i>/etc/conf.d/</i>
<div style="margin-left: 4.00ex;">Any files found in <i>/etc/conf.d/</i> will be
  sourced in the initramfs to set initial values. Command line options will
  override these values set in the configuration files.</div>
<div class="Pp"></div>
<i>/etc/cmdline</i>
<div style="margin-left: 4.00ex;">Can contain additional command line options.
  Deprecated, better use /etc/cmdline.d/*.conf.</div>
<div class="Pp"></div>
<i>/etc/cmdline.d/*.conf</i>
<div style="margin-left: 4.00ex;">Can contain additional command line
  options.</div>
<h1 class="Sh" title="Sh" id="AVAILABILITY"><a class="selflink" href="#AVAILABILITY">AVAILABILITY</a></h1>
The dracut command is part of the dracut package and is available from
  <b>https://dracut.wiki.kernel.org</b>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Harald Hoyer
<div style="height: 1.00em;">&#x00A0;</div>
Victor Lowther
<div style="height: 1.00em;">&#x00A0;</div>
Philippe Seewer
<div style="height: 1.00em;">&#x00A0;</div>
Warren Togami
<div style="height: 1.00em;">&#x00A0;</div>
Amadeusz &#x017B;o&#x0142;nowski
<div style="height: 1.00em;">&#x00A0;</div>
Jeremy Katz
<div style="height: 1.00em;">&#x00A0;</div>
David Dillow
<div style="height: 1.00em;">&#x00A0;</div>
Will Woods
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dracut.cmdline</b>(7) <b>dracut.conf</b>(5)
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Red Hat Enterprise Linux Storage Administration Guide</dd>
</dl>
<div style="margin-left: 4.00ex;">http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">06/28/2017</td>
    <td class="foot-os">dracut</td>
  </tr>
</table>
</body>
</html>
