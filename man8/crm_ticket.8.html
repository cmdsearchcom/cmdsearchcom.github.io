<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PACEMAKER(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PACEMAKER(8)</td>
    <td class="head-vol">System Administration Utilities</td>
    <td class="head-rtitle">PACEMAKER(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
Pacemaker - Part of the Pacemaker cluster resource manager
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>crm_ticket</b> <i>(query|command) </i>[<i>options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
crm_ticket - Perform tasks related to cluster tickets. Allows ticket attributes
  to be queried, modified and deleted.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-?, <b>--help</b></dt>
  <dd class="It-tag">This text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-$, <b>--version</b></dt>
  <dd class="It-tag">Version information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Increase debug output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">Print only the value on stdout</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--ticket</b>=<i>value</i></dt>
  <dd class="It-tag">Ticket ID</dd>
</dl>
<h2 class="Ss" title="Ss" id="Queries:"><a class="selflink" href="#Queries:">Queries:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--info</b></dt>
  <dd class="It-tag">Display the information of ticket(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>, <b>--details</b></dt>
  <dd class="It-tag">Display the details of ticket(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>, <b>--raw</b></dt>
  <dd class="It-tag">Display the IDs of ticket(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--query-xml</b></dt>
  <dd class="It-tag">Query the XML of ticket(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--constraints</b></dt>
  <dd class="It-tag">Display the rsc_ticket constraints that apply to
    ticket(s)</dd>
</dl>
<h2 class="Ss" title="Ss" id="Commands:"><a class="selflink" href="#Commands:">Commands:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b>, <b>--grant</b></dt>
  <dd class="It-tag">Grant a ticket to this cluster site</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--revoke</b></dt>
  <dd class="It-tag">Revoke a ticket from this cluster site</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--standby</b></dt>
  <dd class="It-tag">Tell this cluster site this ticket is standby</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--activate</b></dt>
  <dd class="It-tag">Tell this cluster site this ticket is active</dd>
</dl>
<h2 class="Ss" title="Ss" id="Advanced_Commands:"><a class="selflink" href="#Advanced_Commands:">Advanced
  Commands:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b>, <b>--get-attr</b>=<i>value</i></dt>
  <dd class="It-tag">Display the named attribute for a ticket</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>, <b>--set-attr</b>=<i>value</i></dt>
  <dd class="It-tag">Set the named attribtue for a ticket</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b>, <b>--delete-attr</b>=<i>value</i></dt>
  <dd class="It-tag">Delete the named attribute for a ticket</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>, <b>--cleanup</b></dt>
  <dd class="It-tag">Delete all state of a ticket at this cluster site</dd>
</dl>
<h2 class="Ss" title="Ss" id="Additional_Options:"><a class="selflink" href="#Additional_Options:">Additional
  Options:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--attr-value</b>=<i>value</i></dt>
  <dd class="It-tag">Attribute value to use with <b>-S</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--default</b>=<i>value</i></dt>
  <dd class="It-tag">(Advanced) The default attribute value to display if none
      is found. For use with <b>-G</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--force</b></dt>
  <dd class="It-tag">(Advanced) Force the action to be performed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--set-name</b>=<i>value</i></dt>
  <dd class="It-tag">(Advanced) ID of the instance_attributes object to
    change</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--nvpair</b>=<i>value</i></dt>
  <dd class="It-tag">(Advanced) ID of the nvpair object to change/delete</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Display the info of tickets:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --info</dd>
</dl>
<div class="Pp"></div>
Display the detailed info of tickets:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --details</dd>
</dl>
<div class="Pp"></div>
Display the XML of 'ticketA':
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --query-xml</dd>
</dl>
<div class="Pp"></div>
Display the rsc_ticket constraints that apply to 'ticketA':
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --constraints</dd>
</dl>
<div class="Pp"></div>
Grant 'ticketA' to this cluster site:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --grant</dd>
</dl>
<div class="Pp"></div>
Revoke 'ticketA' from this cluster site:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --revoke</dd>
</dl>
<div class="Pp"></div>
Make 'ticketA' standby:
<div class="Pp"></div>
The cluster site will treat a granted 'ticketA' as 'standby'. The dependent
  resources will be stopped or demoted gracefully without triggering
  loss-policies
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --standby</dd>
</dl>
<div class="Pp"></div>
Activate 'ticketA' from being standby:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --activate</dd>
</dl>
<div class="Pp"></div>
Get the value of the 'granted' attribute for 'ticketA':
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --get-attr granted</dd>
</dl>
<div class="Pp"></div>
Set the value of the 'standby' attribute for 'ticketA':
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --set-attr standby
      --attr-value true</dd>
</dl>
<div class="Pp"></div>
Delete the 'granted' attribute for 'ticketA':
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --delete-attr granted</dd>
</dl>
<div class="Pp"></div>
Erase the operation history of 'ticketA' at this cluster site:
<div class="Pp"></div>
The cluster site will 'forget' the existing ticket state.
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"># crm_ticket --ticket ticketA --cleanup</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Andrew Beekhof
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to pacemaker@oss.clusterlabs.org</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 2017</td>
    <td class="foot-os">Pacemaker 1.1.15-11.el7_3.5</td>
  </tr>
</table>
</body>
</html>
