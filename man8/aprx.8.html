<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>aprx(8) System Manager&rsquo;s Manual aprx(8)</p>

<p style="margin-top: 1em">NAME <br>
Aprx-2 - An APRS iGate application with integrated
Digipeater.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
aprx [-d[d[d]]] [-e] [-i] [-v] [-V] [-l syslogfacilityname]
[-f /etc/aprx.conf]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The aprx program is a special purpose Ham-radio application
supplying infrastructure services for APRS protocol use.</p>

<p style="margin-top: 1em">A more detailed manual is
available at: <br>
http://ham.zmailer.org/oh2mqk/aprx/aprx-manual.pdf</p>

<p style="margin-top: 1em">FEATURES <br>
The Aprx begun as a receive-only APRS iGate application with
minimum system support technology requirements. This version
has also multi-port digipeater support, transmit iGate, <br>
and experimental D-PRS-to-APRS RF/Rx-iGate.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx does
not require machine to have any other software in it, than
things in UNIX standard libc. In particular no special AX.25
libraries at all, nor widgets or even C++ <br>
runtime.</p>

<p style="margin-top: 1em">&Acirc;&middot; Important goal
has been to keep R/W memory footprint as small as possible,
and on general purpose i386 Linux a single radio port
iGate+digipeater is now around 250 kB of R/W <br>
memory allocations.</p>

<p style="margin-top: 1em">&Acirc;&middot; Any UNIX (and
UNIX like) platform should work for the Aprx, or be
trivially ported.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx can
listen &quot;TNC2 monitor&quot; and &quot;KISS&quot;
speaking TNCs on any serial ports.</p>

<p style="margin-top: 1em">&Acirc;&middot; For Aprx the
serial port can be ordinary host computer port, a USB serial
port, or remote port on a remote server behind the internet,
like cisco router AUX ports (port 4001, <br>
TCP STREAM without TELNET escapes.)</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx does
not require machine to have AX.25 protocol support
internally! (Thus this works also on e.g. Solaris and BSD
machines without PF_AX25 sockets.)</p>

<p style="margin-top: 1em">&Acirc;&middot; On Linux machine
with kernel internal AX.25 protocol support, the Aprx can
listen on it with promiscuous mode and in order to use that,
the Aprx must be started as root user, <br>
and be configured to list interface callsigns that APRS
packets are coming in. The AX.25 socket listening is not in
itself configurable, it is always exists in Linux systems,
<br>
and related configuration parameters are ignored in other
platforms. This socket listening does not need auxiliary
&quot;libax25&quot; to function.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx program
can be run without root privileges at least against remote
serial port servers. One must change local serial port
ownership or access-groups (if any are <br>
used) to userid that runs the program and possibly do
several changes of file paths in configuration file
beginning with its location (startup parameter). How that is
done is <br>
up to the user or system integrator of this program.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx
connects with one callsign-ssid pair to APRS-IS core for all
received radio ports.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx
Rx-iGate knows that messages with following tokens in AX.25
VIA fields are not to be relayed into APRS-IS network: <br>
RFONLY, NOGATE, TCPIP, TCPXX</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx
Rx-iGate knows that following source address prefixes are
bogus and thus messages with them are to be junked: <br>
WIDE, RELAY, TRACE, TCPIP, TCPXX, NOCALL, N0CALL</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx
Rx-iGate Drops all query messages (&quot;?&quot;).</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx
Rx-iGate opens up all 3rd party messages (&quot;}&quot;),
and checks the internal data if it is OK to be gated out to
APRS-IS.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx has
built-in &quot;Erlang monitor&quot; mechanism that
telemeters each receiving interface to APRS-IS. It can also
syslog the interface specific channel occupancy, and
option&acirc; <br>
ally can output to STDOUT.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx (since
version 1.91) can do digipeater functions.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx (since
version 1.99) does have experimental D-STAR D-PRS to APRS
gateway functionality. See the aprx-manual.pdf for
details.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Aprx can be
run on systems without writable storage, even with very
little memory, like on NSLU2, and OpenWrt platforms. The
experiments have shown that a single radio <br>
Tx-iGate+digipeater works with less than 300 kB of writable
RAM for the Aprx itself. Additional memory is necessary for
operating system services of TCP/IP networking, and <br>
serial port drivers.</p>

<p style="margin-top: 1em">OPTIONS <br>
The aprx has following runtime options:</p>

<p style="margin-top: 1em">-i Keep the program foreground
without debugging outputs.</p>

<p style="margin-top: 1em">-d Turn on verbose debugging,
outputs data to STDOUT.</p>

<p style="margin-top: 1em">-dd the &quot;more debug&quot;
mode shows also details of network interaction with the
APRS-IS network service.</p>

<p style="margin-top: 1em">-ddd the &quot;even more
debug&quot; mode shows also detail classification of every
kind of frame received in KISS variants.</p>

<p style="margin-top: 1em">-e Erlang output prints 10
minute and 60 minute traffic accumulation byte counts, and
guestimates on channel occupancy, alias &quot;Erlang&quot;.
These outputs are sent to STDOUT, <br>
which system operator may choose to log elsewere. This is
independent if the &quot;-l&quot; option below.</p>

<p style="margin-top: 1em">-f /etc/aprx.conf <br>
Configuration file, given path is built-in default, and can
be overridden by the program runner.</p>

<p style="margin-top: 1em">-l syslogfacilityname <br>
Defines syslog(3) facility code used by the erlang reporter
by defining its name. Default value is: NONE, and accepted
values are: LOG_DAEMON, LOG_FTP, LOG_LPR, LOG_MAIL, <br>
LOG_NEWS, LOG_USER, LOG_UUCP, LOG_LOCAL0, LOG_LOCAL1,
LOG_LOCAL2, LOG_LOCAL3, LOG_LOCAL4, LOG_LOCAL5, LOG_LOCAL6,
LOG_LOCAL7. That list is subject to actual facility code
<br>
set in the system, and in any case if you specify a code
that is not known, then the program will complain during the
startup, and report it. This is independent of the <br>
&quot;-e&quot; option above.</p>

<p style="margin-top: 1em">-v Verbose logging of received
traffic to STDOUT. Lines begin with reception timestamp
(UNIX time_t seconds), then TAB, and either data as is, or
with prefix byte: &quot;*&quot; for <br>
&quot;discarded due to data content&quot;, or possibly
&quot;#&quot; for &quot;discarded due to APRS-IS being
unreachable&quot;.</p>

<p style="margin-top: 1em">-V Print source version compiled
to this binary, and exit.</p>

<p style="margin-top: 1em">DEBUGGING SYSTEM <br>
Use parameter set -ddv (or -dddv) to test new configuration
by running it synchronously to console.</p>

<p style="margin-top: 1em">NORMAL OPERATION <br>
Running the aprx program without any of option flags: -d,
-v, or -e reads possibly given configuration, then
automatically backgrounds the process, and writes pidfile.
When the <br>
process whose number written in pidfile is then sent a
SIGTERM signal, it automatically shuts down itself, and
removes the pidfile. The pidfile can be runtime configured
with <br>
the -f /etc/aprx.conf file, and it has default name of:
/var/run/aprx.pid.</p>

<p style="margin-top: 1em">CONFIGURATION FILE <br>
The configuration file is used to setup the program to do
its job.</p>

<p style="margin-top: 1em">You can construct following
configurations:</p>

<p style="margin-top: 1em">&Acirc;&middot; A receive-only
iGate server.</p>

<p style="margin-top: 1em">&Acirc;&middot; A digipeater
with bi-directional iGate server.</p>

<p style="margin-top: 1em">&Acirc;&middot; A single radio
digipeater. (The most common type of digipeater.)</p>

<p style="margin-top: 1em">&Acirc;&middot; A
multi-interfaced digipeater relaying traffic in between
multiple radios. (On same or on separate frequencies.)</p>

<p style="margin-top: 1em">&Acirc;&middot; A viscuous
digipeater, which relays a packet it heard from viscuous
source after the viscuous delay, unless it was heard more
times than only once, or it was heard from non- <br>
viscuous source before the viscuous one was digipeated. This
allows of making fill-in digipeaters that will not digipeat
the packet, if that same packet was heard twice or <br>
more before the viscuos delay expired.</p>

<p style="margin-top: 1em">In the configuration file a line
ending backslash ( character concatenates next input line
into itself. Combined result can be up to 8000 bytes long.
This combination can be a <br>
bit surprising: <br>
#beacon .... long text continuation <br>
results in single long input line that begins with
&rsquo;#&rsquo; (it is comment) and all continuations
following it have been folded in. Presented line number of
combined continuation is <br>
the line number of the last line segment in this type of
multi-line input.</p>

<p style="margin-top: 1em">In the configuration file there
is special treatment for quoted strings. They are stripped
of the outer quotes, and &quot; <br>
duce an output string. The escapes are:</p>

<p style="margin-top: 1em">Produces newline character
(Control-J) on the output string.</p>

<p style="margin-top: 1em">Produces carriage return
character (Control-M) on the output string.</p>

<p style="margin-top: 1em">\ Places a back-slash on the
output string.</p>

<p style="margin-top: 1em">&acute; Places a single-quote on
the output string.</p>

<p style="margin-top: 1em">Lower-case &quot;x&quot;
precedes two hex digits which ensemble is then converted to
a single byte in the output string.</p>

<p style="margin-top: 1em">The complex encodings are for
possible initstrings of the external devices, and in
particular for initstrings even a nul byte ( 0 ) is
supported.</p>

<p style="margin-top: 1em">A configuration token without
surrounding quotes does not understand the backslash
escapes.</p>

<p style="margin-top: 1em"># <br>
# Sample configuration file for the APRX -- an Rx-only APRS
iGate with <br>
# Digipeater functionality. <br>
# <br>
# <br>
# Simple sample configuration file for the APRX-2 <br>
# <br>
# This configuration is structured with Apache HTTPD style
tags <br>
# which then contain subsystem parameters. <br>
#</p>

<p style="margin-top: 1em"># <br>
# For simple case, you need to adjust 4 things: <br>
# - Mycall parameter <br>
# - Select correct type of interface (ax25-device or
serial-device) <br>
# - Optionally set a beacon telling where this system is
<br>
# - Optionally enable digipeater with or without tx-igate
<br>
#</p>

<p style="margin-top: 1em"># <br>
# <br>
# Define the parameters in following order: <br>
# 1) &lt;aprsis&gt; ** zero to many <br>
# 2) &lt;logging&gt; ** zero or one <br>
# 3) &lt;interface&gt; ** one to many <br>
# 4) &lt;beacon&gt; ** zero to many <br>
# 5) &lt;telemetry ** zero to many <br>
# 6) &lt;digipeater&gt; ** zero to many (at most one for
each Tx) <br>
#</p>

<p style="margin-top: 1em"># <br>
# Global macro for simplified callsign definition: <br>
# Usable for 99+% of cases. <br>
#</p>

<p style="margin-top: 1em">mycall N0CALL-1</p>

<p style="margin-top: 1em"># <br>
# Global macro for simplified &quot;my location&quot;
definition in <br>
# place of explicit &quot;lat nn lon mm&quot; at beacons.
Will also <br>
# give &quot;my location&quot; reference for &quot;filter
m/100&quot;. <br>
# <br>
#myloc lat ddmm.mmN lon dddmm.mmE</p>

<p style="margin-top: 1em">&lt;aprsis&gt; <br>
# The login parameter: <br>
# Station call-id used for relaying APRS frames into
APRS-IS. <br>
# Use this only to define other callsign for APRS-IS login.
<br>
# <br>
#login OTHERCALL-7 # login defaults to $mycall</p>

<p style="margin-top: 1em"># <br>
# The passcode parameter: <br>
# Unique code for your callsign to allow transmitting
packets <br>
# into the APRS-IS. <br>
# <br>
passcode -1</p>

<p style="margin-top: 1em"># APRS-IS server name and
portnumber. <br>
# Every reconnect does re-resolve the name to IP address.
<br>
# Some alternates are shown below, choose something local to
you. <br>
# <br>
server rotate.aprs2.net 14580 <br>
#server noam.aprs2.net 14580 <br>
#server soam.aprs2.net 14580 <br>
#server euro.aprs2.net 14580 <br>
#server asia.aprs2.net 14580 <br>
#server aunz.aprs2.net 14580</p>

<p style="margin-top: 1em"># Some APRS-IS servers tell
every about 20 seconds to all contact <br>
# ports that they are there and alive. Others are just
silent. <br>
# Recommended value 3*&quot;heartbeat&quot; + some -&gt; 120
(seconds) <br>
# <br>
#heartbeat-timeout 0 # Disabler of heartbeat timeout</p>

<p style="margin-top: 1em"># APRS-IS server may support
some filter commands. <br>
# See: http://www.aprs-is.net/javAPRSFilter.aspx <br>
# <br>
# You can define the filter as single long quoted string, or
as <br>
# many short segments with explaining comments following
them. <br>
# <br>
# Usability of these filters for a Tx-iGate is dubious, but
<br>
# they exist in case you for example want to Tx-iGate
packets <br>
# from some source callsigns in all cases even when they are
<br>
# not in your local area. <br>
# <br>
#filter &quot;possibly multiple filter specs in quotes&quot;
<br>
# <br>
#filter &quot;m/100&quot; # My-Range filter <br>
#filter &quot;f/OH2XYZ-3/50&quot; # Friend-Range filter <br>
&lt;/aprsis&gt;</p>

<p style="margin-top: 1em">&lt;logging&gt; <br>
# pidfile is UNIX way to tell that others that this program
is <br>
# running with given process-id number. This has compiled-in
<br>
# default value of: pidfile /var/run/aprx.pid <br>
# <br>
#pidfile /var/run/aprx.pid</p>

<p style="margin-top: 1em"># rflog defines a rotatable file
into which all RF-received packets <br>
# are logged. <br>
# <br>
#rflog /var/log/aprx/aprx-rf.log</p>

<p style="margin-top: 1em"># aprxlog defines a rotatable
file into which most important <br>
# events on APRS-IS connection are logged, namely connects
and <br>
# disconnects. <br>
# <br>
#aprxlog /var/log/aprx/aprx.log</p>

<p style="margin-top: 1em"># erlangfile defines a
mmap():able binary file, which stores <br>
# running sums of interfaces upon which the channel erlang
<br>
# estimator runs, and collects data. <br>
# Depending on the system, it may be running on a filesystem
<br>
# that actually retains data over reboots, or it may not.
<br>
# With this backing store, the system does not loose
cumulating <br>
# erlang data over the current period, if the restart is
quick, <br>
# and does not stradle any exact minute. <br>
# (Do restarts at 15 seconds over an even minute..) <br>
# This file is around 0.7 MB per each interface talking
APRS. <br>
# If this file is not defined and can not be created, <br>
# internal non-persistent in-memory storage will be used.
<br>
# <br>
# Built-in default value is: /var/run/aprx.state <br>
# <br>
#erlangfile /var/run/aprx.state</p>

<p style="margin-top: 1em"># erlang-loglevel is config file
edition of the &quot;-l&quot; option <br>
# pushing erlang data to syslog(3). <br>
# Valid values are (possibly) following: NONE, LOG_DAEMON,
<br>
# LOG_FTP, LOG_LPR, LOG_MAIL, LOG_NEWS, LOG_USER, LOG_UUCP,
<br>
# LOG_LOCAL0, LOG_LOCAL1, LOG_LOCAL2, LOG_LOCAL3,
LOG_LOCAL4, <br>
# LOG_LOCAL5, LOG_LOCAL6, LOG_LOCAL7. If the parameter value
is <br>
# not acceptable, list of accepted values are printed at
startup. <br>
# <br>
#erlang-loglevel NONE</p>

<p style="margin-top: 1em"># erlanglog defines a rotatable
file into which erlang data <br>
# is written in text form. <br>
# <br>
#erlanglog /var/log/aprx/erlang.log</p>

<p style="margin-top: 1em"># erlang-log1min option logs to
syslog/file also 1 minute <br>
# interval data from the program. (In addition to 10m and
60m.) <br>
# <br>
#erlang-log1min <br>
&lt;/logging&gt;</p>

<p style="margin-top: 1em"># *********** Multiple
&lt;interface&gt; definitions can follow *********</p>

<p style="margin-top: 1em"># ax25-device Lists AX.25 ports
by their callsigns that in Linux <br>
# systems receive APRS packets. If none are defined, <br>
# or the system is not Linux, the AX.25 network receiver
<br>
# is not enabled. Used technologies need at least <br>
# Linux kernel 2.4.x <br>
# <br>
# tx-ok Boolean telling if this device is able to transmit.
<br>
# <br>
#&lt;interface&gt; <br>
# ax25-device $mycall # Either $mycall macro, or actual
callsign <br>
# #tx-ok false # transmitter enable defaults to false <br>
# #telem-to-is true # set to false to disable <br>
#&lt;/interface&gt;</p>

<p style="margin-top: 1em"># The TNC serial options.
Parameters are: <br>
# - /dev/ttyUSB1 -- tty device <br>
# - 19200 -- baud rate, supported ones are: <br>
# 1200, 2400, 4800, 9600, 19200, 38400, ... <br>
# - 8n1 -- 8-bits, no parity, one stop-bit, <br>
# no other supported modes <br>
# - &quot;KISS&quot; - plain basic KISS mode <br>
# - &quot;XORSUM&quot; alias &quot;BPQCRC&quot; - KISS with
BPQ &quot;CRC&quot; byte <br>
# - &quot;SMACK&quot; alias &quot;CRC16&quot; - KISS with
real CRC <br>
# - &quot;FLEXNET&quot; - KISS with real CRC <br>
# - &quot;TNC2&quot; - TNC2 monitor format <br>
# - &quot;DPRS&quot; - DPRS (rx) Gateway <br>
# <br>
#&lt;interface&gt; <br>
# serial-device /dev/ttyUSB0 19200 8n1 KISS <br>
# #callsign $mycall # Either $mycall macro, or actual
callsign <br>
# #tx-ok false # transmitter enable defaults to false <br>
# #telem-to-is true # set to false to disable <br>
#&lt;/interface&gt; <br>
# <br>
#&lt;interface&gt; <br>
# serial-device /dev/ttyUSB1 19200 8n1 TNC2 <br>
# #callsign $mycall # Either $mycall macro, or actual
callsign <br>
# #tx-ok false # TNC2 monitor can not have transmitter <br>
# #telem-to-is true # set to false to disable <br>
#&lt;/interface&gt; <br>
# <br>
#&lt;interface&gt; <br>
# serial-device /dev/ttyUSB1 19200 8n1 DPRS <br>
# callsign dprsgwcallsign # must define actual callsign <br>
# #tx-ok false # DPRS monitor can not do transmit <br>
# #telem-to-is true # set to false to disable <br>
#&lt;/interface&gt; <br>
#</p>

<p style="margin-top: 1em"># *********** Multiple
&lt;beacon&gt; definitions can follow ********* <br>
&lt;beacon&gt; <br>
# <br>
# Beacons are sent out to radio transmitters AND/OR APRSIS.
<br>
# Default is &quot;both&quot;, other modes are settable.
<br>
# <br>
#beaconmode { aprsis | both | radio } <br>
# <br>
# Beacons are sent from a circullar transmission queue,
total cycle time <br>
# of that queue is 20 minutes by default, and beacons are
&quot;evenly&quot; <br>
# distributed along it. Actual intervals are randomized to
be anything <br>
# in between 80% and 100% of the cycle-size /
number-of-beacons. <br>
# First beacon is sent out 30 seconds after system start.
<br>
# Tune the cycle-size to be suitable to your number of
defined beacons. <br>
# <br>
#cycle-size 20m <br>
# <br>
# <br>
# Basic beaconed thing is positional message of type
&quot;!&quot;: <br>
# <br>
#beacon symbol &quot;R&amp;&quot; lat &quot;0000.00N&quot;
lon &quot;00000.00E&quot; comment &quot;Rx-only iGate&quot;
<br>
#beacon symbol &quot;R&amp;&quot; $myloc comment
&quot;Rx-only iGate&quot; <br>
# <br>
# Following are basic options: <br>
# &rsquo;symbol&rsquo; no default, must be defined! <br>
# &rsquo;lat&rsquo; coordinate latitude: ddmm.mmN (no
default!) <br>
# &rsquo;lon&rsquo; coordinate longitude: dddmm.mmE (no
default!) <br>
# &rsquo;$myloc&rsquo; coordinate values taken from global
&rsquo;myloc&rsquo; entry, <br>
# and usable in place of explicit
&rsquo;lat&rsquo;+&rsquo;lon&rsquo;. <br>
# &rsquo;comment&rsquo; optional tail part of the item,
default is nothing <br>
# <br>
# Sample symbols: <br>
# R&amp; is for &quot;Rx-only iGate&quot; <br>
# I&amp; is for &quot;Tx-iGate&quot; <br>
# /# is for &quot;Digipeater&quot; <br>
# I# is for &quot;Tx-iGate + Digipeater&quot; <br>
# <br>
# Additional options are: <br>
# &rsquo;srccall&rsquo; parameter sets claimed origination
address. <br>
# &rsquo;dstcall&rsquo; sets destination address, default
&quot;APRXnn&quot; <br>
# &rsquo;interface&rsquo; parameter picks an interface (must
be &quot;tx-ok true&quot; type) <br>
# &rsquo;via&rsquo; sets radio distribution pattern,
default: none. <br>
# &rsquo;timefix&rsquo; On APRS messages with HMS timestamp
(hour:min:sec), the <br>
# system fixes appropriate field with transmit time
timestamp. <br>
# <br>
# Message type is by default &rsquo;!&rsquo;, which is
positional no timestamp format. <br>
# Other possible formats are definable with options: <br>
# &rsquo;type&rsquo; Single character setting type: ! = / @
<br>
# &rsquo;item&rsquo; Defines a name of Item
(&rsquo;)&rsquo;) type beacons. <br>
# &rsquo;object&rsquo; Defines a name of Object
(&rsquo;;&rsquo;) type beacons. <br>
# <br>
# &rsquo;file&rsquo; option tells a file at which a _raw_
APRS message content is <br>
# expected to be found as first line of text. Line ending
newline <br>
# is removed, and no escapes are supported. The timefix is
<br>
# available, though probably should not be used. <br>
# <br>
# &rsquo;exec&rsquo; option defines program path for a
program whose stdout is <br>
# read up to first newline (which must be present), and then
<br>
# transmit as beacon content. No format helpers are
supplied, <br>
# although &rsquo;timefix&rsquo; can be used. <br>
# &rsquo;timeout&rsquo; option is associated with
&rsquo;exec&rsquo;, and defines when the <br>
# exec must by latest produce the output, or the subprogram
<br>
# execution is killed. Default value is 10 seconds. <br>
# <br>
# The parameter sets can vary: <br>
# a) &rsquo;srccall nnn-n dstcall &quot;string&quot; symbol
&quot;R&amp;&quot; lat &quot;ddmm.mmN&quot; lon
&quot;dddmm.mmE&quot; [comment &quot;any text&quot;] <br>
# b) &rsquo;srccall nnn-n dstcall &quot;string&quot; raw
&quot;string&quot;&rsquo; <br>
# <br>
# The a) form flags on some of possible syntax errors in
parameters. <br>
# It will also create only &quot;!&quot; type messages. The
dest parameter <br>
# defaults to &quot;APRS&quot;, but can be used to give
other destinations. <br>
# The via parameter can be used to add other keywords, like
&quot;NOGATE&quot;. <br>
# <br>
# Writing correct RAW format beacon message is very hard,
<br>
# which is evidenced by the frequency of bad syntax texts
<br>
# people so often put there... If you can not be persuaded
<br>
# not to do it, then at least VERIFY the beacon result on
<br>
# web service like findu.com, or aprs.fi <br>
# <br>
#beacon file /tmp/wxbeacon.txt <br>
#beacon srccall N0CALL-3 raw
&quot;!0000.00NR00000.00E&amp;aprx - an Rx-only iGate&quot;
<br>
#beacon srccall N0CALL-3 raw
&quot;!0000.00NI00000.00E&amp;aprx - an iGate&quot; <br>
#beacon srccall $mycall symbol &quot;R&amp;&quot; lat
&quot;0000.00N&quot; lon &quot;00000.00E&quot; comment
&quot;aprx - an Rx-only iGate&quot; <br>
#beacon srccall $mycall symbol &quot;I&amp;&quot; lat
&quot;0000.00N&quot; lon &quot;00000.00E&quot; comment
&quot;aprx iGate&quot; <br>
&lt;/beacon&gt;</p>

<p style="margin-top: 1em"># *********** &lt;telemetry&gt;
definition(s) follow ********* <br>
# <br>
# The system will always send telemetry for all of its
interfaces <br>
# to APRSIS, but there is an option to define telemetry to
be sent <br>
# to radio channel by using following sections for each
transmitter <br>
# that is wanted to send out the telemetry. <br>
# <br>
# transmitter - callsign referring to &lt;interface&gt; <br>
# via - optional via-path, only 1 callsign! <br>
# source - one or more of &lt;interface&gt; callsigns for
which <br>
# the telemetry transmission is wanted for <br>
# <br>
#&lt;telemetry&gt; <br>
# transmitter $mycall <br>
# via TRACE1-1 <br>
# source $mycall <br>
#&lt;/telemetry&gt;</p>

<p style="margin-top: 1em"># *********** &lt;digipeater&gt;
definition(s) follow ********* <br>
# <br>
# The digipeater definitions tell transmitters that receive
<br>
# AX.25 packets from possibly multiple sources, and then
what <br>
# to do on the AX.25 headers of those messages. <br>
# <br>
# There is one transmitter per digipeater -- and inversely,
there <br>
# can be at most one digipeater for each transmitter. <br>
# <br>
# In each digipeater there is at least one &lt;source&gt;,
usually same <br>
# as the transmitter. <br>
# <br>
#&lt;digipeater&gt; <br>
# transmitter $mycall <br>
# #ratelimit 60 120 # default: average 60 packets/minute,
<br>
# # burst max 120 packets/minute <br>
# #srcratelimit 10 20 # Example: by sourcecall: <br>
# # average 10 packets/minute, <br>
# # burst max 20 packets/minute <br>
# <br>
# &lt;source&gt; <br>
# source $mycall <br>
# # ratelimit 60 120 # default: average 60 packets/minute,
<br>
# # # burst max 120 packets/minute <br>
# # viscous-delay 0 # no viscous delay for RF-&gt;RF
digipeat <br>
# # ratelimit 120 # default: max 120 packets/minute <br>
# &lt;/source&gt; <br>
# <br>
# #&lt;source&gt; # Adding APRSIS source makes this tx-igate
<br>
# # source APRSIS <br>
# # ratelimit 60 120 # default: average 60 packets/minute,
<br>
# # # burst max 120 packets/minute <br>
# # relay-type third-party # Must define this for APRSIS
source! <br>
# # viscous-delay 5 # Recommendation: 5 seconds delay to
give <br>
# # # RF delivery time make itself known. <br>
# # filter t/m # Tx-iGate only messages sent to me by APRSIS
<br>
# #&lt;/source&gt; <br>
# <br>
#&lt;/digipeater&gt;</p>

<p style="margin-top: 1em">GLOBAL MYCALL PARAMETER <br>
In majority of usage models, system needs single configured
callsign. This is set by using the mycall configuration
option, and latter referred to in configurations as $mycall
<br>
parameter in place of callsigns.</p>

<p style="margin-top: 1em">GLOBAL MYLOC PARAMETER <br>
Usually multiple beacons, and simple filter rules are wanted
to be using same reference coordinate for this system. This
is set by using the myloc configuration option, and
lat&acirc; <br>
ter referred to in configurations as $myloc parameter in
place of &quot;lat nn lon mm&quot; coordinate pair of
beacons.</p>

<p style="margin-top: 1em">APRSIS SECTION FOR APRSIS
CONNECTIVITY <br>
Settings in the &lt;aprsis&gt; section define connectivity
with the APRS-IS network service.</p>

<p style="margin-top: 1em">Necessary option is server, and
others are optional.</p>

<p style="margin-top: 1em">Available options are:</p>

<p style="margin-top: 1em">login $mycall <br>
The APRSIS network login. Defaults to the mycall
configuration entry.</p>

<p style="margin-top: 1em">passcode -1 <br>
Defining a small integer in range of 0 to 32767
authenticating your login to APRS-IS server. Ask for
assistance from your APRS-IS managers, or calculate it
yourself with <br>
aprspass program. (Web search engines do find several of
them.)</p>

<p style="margin-top: 1em">server server-name 14850 <br>
Define which APRS-IS is being connected to. Multiple
definitions are used in round-robin style, if the connection
with the previous one fails for some reason.</p>

<p style="margin-top: 1em">filter &rsquo;filter specs in
quotes&rsquo; # comments <br>
Set filter adjunct definitions on APRS-IS server. Multiple
entries are catenated together in entry order, when
connecting to the server.</p>

<p style="margin-top: 1em">LOGGING SECTION <br>
The &lt;logging&gt; section defines miscellaneous file names
and options for state tracking and logging use.</p>

<p style="margin-top: 1em">pidfile /var/run/aprx.pid <br>
The pidfile is UNIX way to tell that others that this
program is running with given process-id number. This has
compiled-in default value of: pidfile /var/run/aprx.pid</p>

<p style="margin-top: 1em">rflog /var/log/aprx/aprx-rf.log
<br>
The rflog defines a rotatable file into which all
RF-received packets are logged. There is no default.</p>

<p style="margin-top: 1em">aprxlog /var/log/aprx/aprx.log
<br>
The aprxlog defines a rotatable file into which most
important events on APRS-IS connection are logged, namely
connects and disconnects. There is no default.</p>

<p style="margin-top: 1em">erlangfile /var/run/aprx.state
<br>
The erlangfile defines a mmap():able binary file, which
stores running sums of interfaces upon which the channel
erlang estimator runs, and collects data. Depending on <br>
the system, it may be running on a filesystem that actually
retains data over reboots, or it may not. With this backing
store, the system does not loose cumulating <br>
erlang data over the current period, if the restart is
quick, and does not stradle any exact minute. This file is
around 0.7 MB per each interface talking APRS. If this <br>
file is not defined and can not be created, internal
non-persistent in-memory storage will be used. Built-in
default value is: /var/run/aprx.state</p>

<p style="margin-top: 1em">erlang-loglevel NONE <br>
The erlang-loglevel is config file edition of the
&quot;-l&quot; option pushing erlang data to syslog(3).
Valid values are (possibly) following: NONE, LOG_DAEMON,
LOG_FTP, <br>
LOG_LPR, LOG_MAIL, LOG_NEWS, LOG_USER, LOG_UUCP, LOG_LOCAL0,
LOG_LOCAL1, LOG_LOCAL2, LOG_LOCAL3, LOG_LOCAL4, LOG_LOCAL5,
LOG_LOCAL6, LOG_LOCAL7. If the parameter value <br>
is not acceptable, list of accepted values are printed at
startup.</p>

<p style="margin-top: 1em">erlanglog
/var/log/aprx/erlang.log <br>
The erlanglog defines a rotatable file into which erlang
data is written in text form. There is no default.</p>

<p style="margin-top: 1em">erlang-log1min <br>
The erlang-log1min option logs to syslog/file also 1 minute
interval data from the program. (In addition to 10m and
60m.) Default is off.</p>

<p style="margin-top: 1em">INTERFACE SECTIONS FOR RADIO
PORTS <br>
The &lt;interface&gt; sections define connections to radio
modems. Several different styles are available:</p>

<p style="margin-top: 1em">&Acirc;&middot; Local serial
ports in the machine (device-serial /dev/ttyS0 speed
encapsulation)</p>

<p style="margin-top: 1em">&Acirc;&middot; Local USB serial
ports in the machine (device-serial /dev/ttyUSB0 speed
encapsulation)</p>

<p style="margin-top: 1em">&Acirc;&middot; Remote served
serial ports over a TCP stream. Implemented to talk with
Cisco AUX ports on &quot;range 4000&quot; (TCP STREAM, no
TELNET escapes) (tcp-device 12.34.56.78 4001
encapsula&acirc; <br>
tion)</p>

<p style="margin-top: 1em">&Acirc;&middot; Linux internal
AX.25 network attached devices (ax25-device CALLSIGN-1) are
only available when running on a Linux system. On a
non-Linux system it connects to a null inter&acirc; <br>
face, never getting anything and can always sink
everything.</p>

<p style="margin-top: 1em">The serial port name tells what
kind of port is in question, and while port baud-rate (9600)
and character settings (8n1) must always be set, they are
ignored for the remote con&acirc; <br>
nection.</p>

<p style="margin-top: 1em">Following speed modes are
available: <br>
1200, 1800, 2400, 4800, 9600, 19200, 38400, 57600, <br>
115200, 230400, 460800, 500000, 576000 <br>
Likely available speeds are in bold, other supported values
are listed in italics.</p>

<p style="margin-top: 1em">Following encapsulation modes
are available:</p>

<p style="margin-top: 1em">TNC2 is capable only to monitor
the packets reported by TNC2 type debug output, and
Rx-iGate, but they are not acceptable as source for a
&lt;digipeater&gt;.</p>

<p style="margin-top: 1em">DPRS is special mode for gateway
from D-STAR D-PRS to APRS. This must always have a callsign
definition for the gateway.</p>

<p style="margin-top: 1em">KISS Basic KISS encapsulation.
No checksums. Will autodetect (sometimes) packets with SMACK
or FLEXNET characteristics.</p>

<p style="margin-top: 1em">SMACK Stuttgart Modified
Amateurradio-CRC-KISS, which runs CRC-16 checksum on KISS
datastream much in the same way as HDLC has CCITT-CRC
checksum on it.</p>

<p style="margin-top: 1em">FLEXNET FLEXNET which runs a CRC
checksum of its own polynomial on KISS datastream much in
the same way as HDLC has CCITT-CRC checksum on it.</p>

<p style="margin-top: 1em">BPQCRC XOR &quot;checksum&quot;
on dataframes. Also known as &quot;XKISS&quot;, and
&quot;XORSUM&quot;. This detects single bit failure, but
weakly any multibit failures. Extra 0x00 bytes have no
effect <br>
on checksum, etc.</p>

<p style="margin-top: 1em">On &lt;kiss-subif tncid&gt;
sub-options the parameter is tncid, which sets up KISS
multiplexer parameter so that subsequent options applies
only on designated KISS sub-port.</p>

<p style="margin-top: 1em">The callsign option sets port
specific callsign when relaying to APRS-IS.</p>

<p style="margin-top: 1em">The telem-to-is true option can
be used to disable (by explicitly setting it to
&rsquo;false&rsquo;) radio interface telemetry transmission
to APRS-IS. By default it is on. This is sepa&acirc; <br>
rate from &lt;telemetry&gt; sections, which send telemetry
to RF interfaces.</p>

<p style="margin-top: 1em">&lt;interface&gt; <br>
serial-device /dev/ttyUSB1 19200 8n1 KISS <br>
tx-ok false # receive only (default) <br>
callsign OH2XYZ-R2 # KISS subif 0 <br>
initstring &quot;....&quot; # initstring option <br>
timeout 900 # 900 seconds of no Rx <br>
&lt;/interface&gt;</p>

<p style="margin-top: 1em">&lt;interface&gt; <br>
serial-device /dev/ttyUSB1 19200 8n1 SMACK <br>
tx-ok false # receive only (default) <br>
callsign OH2XYZ-R2 # KISS subif 0 <br>
initstring &quot;....&quot; # initstring option <br>
timeout 900 # 900 seconds of no Rx <br>
&lt;/interface&gt;</p>

<p style="margin-top: 1em">&lt;interface&gt; <br>
serial-device /dev/ttyUSB2 19200 8n1 KISS <br>
initstring &quot;....&quot; <br>
timeout 900 # 900 seconds of no Rx <br>
&lt;kiss-subif 0&gt; <br>
callsign OH2XYZ-2 <br>
tx-ok true # This is our transmitter <br>
&lt;/kiss-subif&gt; <br>
&lt;kiss-subif 1&gt; <br>
callsign OH2XYZ-R3 # This is receiver <br>
tx-ok false # receive only (default) <br>
&lt;/kiss-subif&gt; <br>
&lt;/interface&gt;</p>

<p style="margin-top: 1em">&lt;interface&gt; <br>
tcp-device 172.168.1.1 4001 KISS <br>
tx-ok false # receive only (default) <br>
callsign OH2XYZ-R4 # KISS subif 0 <br>
initstring &quot;....&quot; # initstring option <br>
timeout 900 # 900 seconds of no Rx <br>
&lt;/interface&gt;</p>

<p style="margin-top: 1em">&lt;interface&gt; <br>
ax25-device OH2XYZ-6 # Works only on Linux systems <br>
tx-ok true # This is also transmitter <br>
&lt;/interface&gt;</p>

<p style="margin-top: 1em">&lt;interface&gt; # RX-IGATE
ONLY, NOT USABLE AS DIGIPEATER SOURCE <br>
serial-device /dev/ttyUSB1 19200 8n1 TNC2 <br>
callsign OH2XYZ-R6 # TNC2 has no sub-ports <br>
initstring &quot;....&quot; # initstring option <br>
timeout 900 # 900 seconds of no Rx <br>
&lt;/interface&gt;</p>

<p style="margin-top: 1em">BEACON DEFINITIONS <br>
The beacons are defined using &lt;beacon&gt; configuration
sections.</p>

<p style="margin-top: 1em">Because classical beacon
definitions are highly error-prone, this program has a new
way to define them:</p>

<p style="margin-top: 1em">&Acirc;&middot; The new way to
define beacons: <br>
beacon symbol &quot;R&amp;&quot; lat &quot;0000.00N&quot;
lon &quot;00000.00E&quot; comment &quot;aprx -
iGate&quot;</p>

<p style="margin-top: 1em">&Acirc;&middot; Semi-clasical
definition of raw APRS packet: <br>
beacon raw &quot;!0000.00NR00000.00E&amp;aprx -
iGate&quot;</p>

<p style="margin-top: 1em">&Acirc;&middot; Load beacon text
from a file, path data is configurable: <br>
beacon file /path/to/file</p>

<p style="margin-top: 1em">&Acirc;&middot; Run a program to
produce beacon data in raw format: <br>
beacon exec /path/to/file timeout 10</p>

<p style="margin-top: 1em">The fields and parameters:</p>

<p style="margin-top: 1em">interface An optional
&quot;interface&quot; parameter tells that this beacon shall
be sent only to interface whose callsign is named. Default
is to send to all interfaces that have <br>
&quot;tx-ok true&quot; setting.</p>

<p style="margin-top: 1em">type An optional one character
string parameter, with one of following contents:
&quot;!&quot;, &quot;=&quot;, &quot;/&quot;, &quot;@&quot;,
&quot;;&quot; and &quot;)&quot;.</p>

<p style="margin-top: 1em">srccall An optional
&quot;srccall&quot; parameter tells callsign which is
claimed as this particular beacon source. It must be valid
AX.25 callsign in text format. When this &quot;src&acirc;
<br>
call&quot; parameter is not given, value of
&quot;mycall&quot; configuration entry is used.</p>

<p style="margin-top: 1em">dstcall An optional
&quot;dstcall&quot; parameter has built-in software version
dependent value, but it can be used to define another
value.</p>

<p style="margin-top: 1em">via An optional &quot;via&quot;
parameter defaults to nothing, but can be used to define
additional &quot;VIA&quot; path tokens, for example:
&quot;WIDE1-1&quot;.</p>

<p style="margin-top: 1em">item An optional
&quot;item&quot; parameter is for defining a name for an
item type APRS packet.</p>

<p style="margin-top: 1em">object An optional
&quot;object&quot; parameter is for defining a name for an
object type APRS packet.</p>

<p style="margin-top: 1em">symbol A mandatory
&quot;symbol&quot; parameter is two character code, which
for Rx-only iGate is pair: &quot;R&amp;&quot;</p>

<p style="margin-top: 1em">lat This mandatory parameter
defines latitude coordinate (that is: north/south.) It is
expected to be of format: &quot;ddmm.mmN&quot; where
&quot;dd&quot; defines two digits of degrees of <br>
latitude, and &quot;mm.mm&quot; defines two digits + decimal
dot + two digits of minutes of latitude. Then comes literal
&quot;N&quot; or &quot;S&quot; indicating hemisphere.</p>

<p style="margin-top: 1em">lon This mandatory parameter
defines longitude coordinate (that is: east/west.) It is
expected to be of format: &quot;dddmm.mmE&quot; where
&quot;ddd&quot; defines three digits of degrees <br>
of longitude, and &quot;mm.mm&quot; defines two digits +
decimal dot + two digits of minutes of longitude. Then comes
literal &quot;E&quot; or &quot;W&quot; indicating
hemisphere.</p>

<p style="margin-top: 1em">comment This optional parameter
defines commentary text tail on the beacon packet. If you
need characters outside US-ASCII character set, use of UTF-8
encoded UNICODE char&acirc; <br>
acter set is recommended.</p>

<p style="margin-top: 1em">raw This alternate format
defines whole APRS packet content in raw text format.
Currently this type of packets are not validated for syntax
at all!</p>

<p style="margin-top: 1em">file This alternative way
defines path to a file with single text line defining
content of raw message data.</p>

<p style="margin-top: 1em">exec This alternative mode runs
designated program, and waits for at most a timeout number
of seconds (default 10) for the program to produce the
result.</p>

<p style="margin-top: 1em">timeout This is optional
parameter for exec allowing altered timeout (number of
seconds) for waiting the program to respond. Default is 10
seconds.</p>

<p style="margin-top: 1em">The
type/symbol/lat/lon/comment-format supports only a few types
of APRS packets. It splits input into small slices that are
possible to validate in detail. (See &quot;DEBUGGING <br>
SYSTEM&quot; above.)</p>

<p style="margin-top: 1em">RF-TELEMETRY <br>
The aprx system will always send telemetry for all of its
interfaces to APRSIS, but there is an option to define
telemetry to be sent to radio channel by using following
sections <br>
for each transmitter that is wanted to send out the
telemetry.</p>

<p style="margin-top: 1em">The parameters of
&lt;telemetry&gt; configuration section are:</p>

<p style="margin-top: 1em">transmitter A mandatory callsign
referring to an interface.</p>

<p style="margin-top: 1em">via An optional via-path
parameter. Only 1 callsign!</p>

<p style="margin-top: 1em">source One or more of interface
callsigns for which the telemetry transmission is made.</p>

<p style="margin-top: 1em">DIGIPEATER <br>
The aprx is possible to configure as a AX.25 digipeater with
APRS twists. This is done with &lt;digipeater&gt;
configuration section and its subsections.</p>

<p style="margin-top: 1em">There can be at most one
&lt;digipeater&gt; definition per each transmit capable
interface in the system. On a system with multiple
transmitters, this means there can be multiple <br>
digipeaters, each with different behaviour rules.</p>

<p style="margin-top: 1em">Minimalistic setup for a
digipeater will be as follows:</p>

<p style="margin-top: 1em">&lt;digipeater&gt; <br>
transmitter $mycall <br>
&lt;source&gt; <br>
source $mycall <br>
&lt;/source&gt; <br>
&lt;/digipeater&gt;</p>

<p style="margin-top: 1em">In minimalistic approach the
system does digipeating of packets heard on the $mycall
interface back to same interface. Single requirement is that
the &lt;interface&gt; block has tx-ok <br>
true setting on it.</p>

<p style="margin-top: 1em">In more complicated approaches
it is possible to define multiple sources for packets:</p>

<p style="margin-top: 1em">&Acirc;&middot; Multiple device
ports.</p>

<p style="margin-top: 1em">&Acirc;&middot; APRSIS
pseudoport, which creates the Tx-iGate functionality.</p>

<p style="margin-top: 1em">&lt;digipeater&gt; options <br>
Main-level &lt;digipeater&gt; options are:</p>

<p style="margin-top: 1em">&Acirc;&middot; transmitter
defines which interface the digipeater will output to.</p>

<p style="margin-top: 1em">&Acirc;&middot; &lt;trace&gt;
and &lt;wide&gt; sub-options are explained below.</p>

<p style="margin-top: 1em">&Acirc;&middot; &lt;source&gt;
sub-option is explained below.</p>

<p style="margin-top: 1em">&lt;trace&gt; and &lt;wide&gt;
sub-options <br>
The &lt;trace&gt; sub-option has priority over the
&lt;wide&gt; sub-option, otherwise they are configured the
same way.</p>

<p style="margin-top: 1em">The &lt;trace&gt; sub-option
defines which AX.25 address contained keywords are treated
with APRS &quot;New-N paradigm&quot; rules in a way where
each processing node always marks its transmit&acirc; <br>
ter callsign on the transmitted AX.25 packet address
header.</p>

<p style="margin-top: 1em">The &lt;wide&gt; sub-option
defines which AX.25 address contained keywords are treated
with APRS &quot;New-N paradigm&quot; rules in a way where
processing node does not mark its transmitter <br>
callsign on the transmitted AX.25 packet address header.</p>

<p style="margin-top: 1em">Available parameters are:</p>

<p style="margin-top: 1em">keys A string of comma-separated
set of string tokens: <br>
keys &quot;TRACE,WIDE&quot; <br>
Alternative form for this entry is: <br>
keys &quot;TRACE&quot; <br>
keys &quot;WIDE&quot;</p>

<p style="margin-top: 1em">maxdone Defines maximum number
of redistribution hops that these keywords can have
completed when reaching here. If accounting finds more done,
the system will just drop the <br>
packet instead of digipeating it onwards.</p>

<p style="margin-top: 1em">maxreq Defines maximum number of
redistribution hops that these keywords can define. If
accounting finds more requested, the system will just drop
the packet instead of digi&acirc; <br>
peating it onwards.</p>

<p style="margin-top: 1em">&lt;source&gt; sub-options <br>
Primary definer option is source which gives callsign of an
&lt;interface&gt; from which the AX.25 packets are received
for this &lt;source&gt; block.</p>

<p style="margin-top: 1em">Available relay-type modes on
&lt;source&gt; definitions are:</p>

<p style="margin-top: 1em">digipeater Normal AX.25
digipeater behaviour with APRS New-N paradigm support. This
is default mode.</p>

<p style="margin-top: 1em">directonly Digipeat only
directly heard packets. Useful for systems that are
designated as &quot;fill-in&quot;. See also
&quot;viscous-delay&quot;.</p>

<p style="margin-top: 1em">third-party Special mode for
Tx-iGate.</p>

<p style="margin-top: 1em">The ratelimit defines two
parameters: average and limit number of packets sent in 60
seconds. Its definitions can be both in &lt;digipeater&gt;
and in digipeater&rsquo;s &lt;source&gt; sections, <br>
and therefore you can limit each individual source to a max
accepted rate as well as define separate rate limits for the
transmitter.</p>

<p style="margin-top: 1em">The viscous-delay defines a
number of seconds from 0 (default) maximum of 9 that the
source will put the message on duplicate detector delay
processing. All occurrences of same <br>
packet per duplicate detector during that time will be
accounted on duplicate detection, and if at the end of the
delay period there are more than one hit, the packet is
dis&acirc; <br>
carded. Use delay of 0 seconds for normal digipeater, 5
seconds for a fill-in, or a Tx-iGate.</p>

<p style="margin-top: 1em">A javAPRSSrvr filter-adjunct
style rules are possible with the filter options. When you
want multiple filters, use multiple options with associated
parameters: <br>
filter t/m # APRS messaging type packets <br>
filter a/la/lo/la/lo # APRS positional packets within this
area</p>

<p style="margin-top: 1em">Also negative filters are
possible (prefixed with minus character), which upon match
cause rejection of the packet. Filters are evaluated in
definition order, and first matching <br>
one will terminate the evaluation. When no filters are
defined, everything is passed thru. When any filter is
defined, only those matching non-negative filters are passed
thru, <br>
and no default &quot;pass everything else&quot; behaviour
exists.</p>

<p style="margin-top: 1em">Supported &quot;adjunct
filters&quot; are following:</p>

<p style="margin-top: 1em">A/latN/lonW/latS/lonE <br>
Area filter, defined as area enclosing within latS/latN and
lonW/lonE. Latitude and longitude are entered as degrees and
decimals.</p>

<p style="margin-top: 1em">B/call1/call2... <br>
Budlist filter. Supports *-wildcards.</p>

<p style="margin-top: 1em">D/digi1/digi2... <br>
Not supported at APRX internal filters</p>

<p style="margin-top: 1em">E/call1/call2/... <br>
Not supported at APRX internal filters</p>

<p style="margin-top: 1em">F/call/dist_km <br>
Great-circle distance in kilometers from friend&rsquo;s
coordinates. No wildcarding. <br>
(TODO: check that it really works!)</p>

<p style="margin-top: 1em">M/dist The range around my
location filter requires that you have defined also the
&quot;myloc&quot; configuration entry. It defines acceptance
of positions and messages with senders <br>
within dist kilometers of the &quot;myloc&quot;
position.</p>

<p style="margin-top: 1em">O/object1/obj2... <br>
Object name filter. Supports *-wildcards.</p>

<p style="margin-top: 1em">P/aa/bb/cc... <br>
Prefix filter.</p>

<p style="margin-top: 1em">Q/con/ana <br>
The Q-construct filter is not supported.</p>

<p style="margin-top: 1em">R/lat/lon/dist <br>
Range filter. Latitude and longitude are in degrees and
decimals. Distance is in kilometers. No wildcards.</p>

<p style="margin-top: 1em">S/pri/alt/over <br>
Symbol filter</p>

<p style="margin-top: 1em">T/..../call/km <br>
Type filter. Couple possible usages:</p>

<p style="margin-top: 1em">-t/c Everything except CWOP</p>

<p style="margin-top: 1em">t/*/OH2RDY/50 Everything within
50 km of OH2RDY&rsquo;s last known position</p>

<p style="margin-top: 1em">Type code characters are:</p>

<p style="margin-top: 1em">* An &quot;all&quot;
wild-card.</p>

<p style="margin-top: 1em">C A CWOP.</p>

<p style="margin-top: 1em">I An ITEM.</p>

<p style="margin-top: 1em">M A MESSAGE.</p>

<p style="margin-top: 1em">N A NWS message.</p>

<p style="margin-top: 1em">O An OBJECT.</p>

<p style="margin-top: 1em">Q A QUERY.</p>

<p style="margin-top: 1em">S A STATUS response.</p>

<p style="margin-top: 1em">T A TELEMETRY packet or
parameter message.</p>

<p style="margin-top: 1em">U A USERDEF message.</p>

<p style="margin-top: 1em">W A WX data packet</p>

<p style="margin-top: 1em">U/unproto1/unproto2... <br>
Filters by value in destination address field, supports
wildcard.</p>

<p style="margin-top: 1em">The &lt;trace&gt; and
&lt;wide&gt; sub-options exist also within each
&lt;source&gt;. Where such occur, the &lt;source&gt;
specific &lt;trace&gt; sub-option trumps the definition on
&lt;digipeater&gt; level, and <br>
same with &lt;wide&gt; sub-options. This allows things like
overriding flooding control keywords on source basis, should
such be necessary.</p>

<p style="margin-top: 1em">A set of regex-filter rules can
be used to reject packets that are not of approved kind.
Available syntax is:</p>

<p style="margin-top: 1em">regex-filter source RE <br>
source address field</p>

<p style="margin-top: 1em">regex-filter destination RE <br>
destination address field</p>

<p style="margin-top: 1em">regex-filter via RE <br>
any via path field</p>

<p style="margin-top: 1em">regex-filter data RE <br>
payload content</p>

<p style="margin-top: 1em">The regex-filter exists as
ad-hoc method when all else fails.</p>

<p style="margin-top: 1em">NOTES: ERLANG <br>
The Erlang is telecom measurement of channel occupancy, and
in this application sense it does tell how much traffic
there is on the radio channel.</p>

<p style="margin-top: 1em">Most radio transmitters are not
aware of all transmitters on channel, and thus there can
happen a collision causing loss of both messages. The higher
the channel activity, the <br>
more likely that collision is. For further details, refer to
statistical mathematics books, or perhaps on Wikipedia.</p>

<p style="margin-top: 1em">In order to measure channel
activity, the aprx program suite has these built-in
statistics counter and summary estimators.</p>

<p style="margin-top: 1em">The Erlag value that the
estimators present are likely somewhat underestimating the
true channel occupancy simply because it calculates estimate
of channel bit transmit rate, and <br>
thus a per-minute character capacity. It does not know true
frequency of bit-stuffing events of the HDLC framing, nor
each transmitter pre- and port frame PTT times. The
trans&acirc; <br>
mitters need to stabilize their transmit oscillators in many
cases, which may take up to around 500 ms! The counters are
not aware of this preamble-, nor postamble-times.</p>

<p style="margin-top: 1em">The HDLC bit stuffing ratio is
guessed to be 1:1.025 (1 extra bit every 5 bytes)</p>

<p style="margin-top: 1em">NOTES: PROGRAM NAME <br>
Initially this program had name aprsg-ng, which was too
close to another (a less low-tech C++ approach) program
had.</p>

<p style="margin-top: 1em">BUGS/WARTS <br>
The Erlang-monitor mechanisms are of rudimentary quality,
and can seriously underestimate the channel occupancy by
ignoring pre- and postample transmissions, which can be as
high <br>
as 50 centiseconds for preample, and 20 centiseconds for
postample! When entire packet takes 50 centiseconds, such
preample alone doubles channel occupancy. A 6pack protocol
on <br>
serial link (instead of KISS) could inform receiver better
on carrier presence times, however even that underestimates
RF power presence (RSSI) signal. (6pack is not
supported.)</p>

<p style="margin-top: 1em">On serial lines supports really
only 8n1 mode, not at all like: 7e1. On the other hand,
there really is no sensible usage for anything but
8n1...</p>

<p style="margin-top: 1em">SEE ALSO <br>
Couple web sites: <br>
http://www.aprs2.net/, <br>
http://www.aprs-is.net/, <br>
http://wiki.ham.fi/Aprx.en, <br>
http://ham.zmailer.org/oh2mqk/aprx/aprx-manual.pdf</p>

<p style="margin-top: 1em">aprx-stat(8)</p>

<p style="margin-top: 1em">AUTHOR <br>
This little piece was written by Matti Aarnio, OH2MQK during
a dark and rainy fall and winter of 2007-2008 after a number
of discussions grumbling about current breed of avail&acirc;
<br>
able software for APRS iGate use in Linux (or of any UNIX)
platforms. Fall and winter 2009-2010 saw appearance of
digipeater functionality.</p>

<p style="margin-top: 1em">Principal contributors and test
users include: Pentti Gronlund, OH3BK, Reijo Hakala, OH1GWK.
Debian packaging by Kimmo Jukarinen, OH3GNU. Testing of
SMACK variant of KISS by <br>
Patrick Hertenstein, DL1GHN. The beacon exec functionality
prototype by Kamil Palkowiski SQ8KFH.</p>

<p style="margin-top: 1em">2.9.0 - 2017 January 24
aprx(8)</p>
<hr>
</body>
</html>
