<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:15:43 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>sepolicy-generate(8) sepolicy-generate(8)</p>

<p style="margin-top: 1em">NAME <br>
sepolicy-generate - Generate an initial SELinux policy
module template.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
Common options</p>

<p style="margin-top: 1em">sepolicy generate [-h ] [-p
PATH]</p>

<p style="margin-top: 1em">Confined Applications</p>

<p style="margin-top: 1em">sepolicy generate --application
[-n NAME] [-u USER ]command [-w WRITE_PATH ] <br>
sepolicy generate --cgi [-n NAME] command [-w WRITE_PATH ]
<br>
sepolicy generate --dbus [-n NAME] command [-w WRITE_PATH ]
<br>
sepolicy generate --inetd [-n NAME] command [-w WRITE_PATH ]
<br>
sepolicy generate --init [-n NAME] command [-w WRITE_PATH
]</p>

<p style="margin-top: 1em">Confined Users</p>

<p style="margin-top: 1em">sepolicy generate --admin_user
[-r TRANSITION_ROLE] -n NAME <br>
sepolicy generate --confined_admin -n NAME [-a ADMIN_DOMAIN]
[-u USER] [-n NAME] [-w WRITE_PATH] <br>
sepolicy generate --desktop_user -n NAME [-w WRITE_PATH]
<br>
sepolicy generate --term_user -n NAME [-w WRITE_PATH] <br>
sepolicy generate --x_user -n NAME [-w WRITE_PATH]</p>

<p style="margin-top: 1em">Miscellaneous Policy</p>

<p style="margin-top: 1em">sepolicy generate --customize -d
DOMAIN -n NAME [-a ADMIN_DOMAIN] <br>
sepolicy generate --newtype -t type -n NAME <br>
sepolicy generate --sandbox -n NAME</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Use sepolicy generate to generate an SELinux policy
Module.</p>

<p style="margin-top: 1em">sepolicy generate will create 5
files.</p>

<p style="margin-top: 1em">When specifying a confined
application you must specify a path. sepolicy generate will
use the rpm payload of the application along with nm -D
APPLICATION to help it generate <br>
types and policy rules for your policy files.</p>

<p style="margin-top: 1em">Type Enforcing File NAME.te <br>
This file can be used to define all the types rules for a
particular domain.</p>

<p style="margin-top: 1em">Note: Policy generated by
sepolicy generate will automatically add a permissive DOMAIN
to your te file. When you are satisfied that your policy
works, you need to remove the <br>
permissive line from the te file to run your domain in
enforcing mode.</p>

<p style="margin-top: 1em">Interface File NAME.if <br>
This file defines the interfaces for the types generated in
the te file, which can be used by other policy domains.</p>

<p style="margin-top: 1em">File Context NAME.fc <br>
This file defines the default file context for the system,
it takes the file types created in the te file and
associates file paths to the types. Tools like restorecon
and RPM <br>
will use these paths to put down labels.</p>

<p style="margin-top: 1em">RPM Spec File NAME_selinux.spec
<br>
This file is an RPM SPEC file that can be used to install
the SELinux policy on to machines and setup the labeling.
The spec file also installs the interface file and a man
page <br>
describing the policy. You can use sepolicy manpage -d NAME
to generate the man page.</p>

<p style="margin-top: 1em">Shell File NAME.sh <br>
This is a helper shell script to compile, install and fix
the labeling on your test system. It will also generate a
man page based on the installed policy, and compile and
build <br>
an RPM suitable to be installed on other machines</p>

<p style="margin-top: 1em">If a generate is possible, this
tool will print out all generate paths from the source
domain to the target domain</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help <br>
Display help message</p>

<p style="margin-top: 1em">-d, --domain <br>
Enter domain type(s) which you will be extending</p>

<p style="margin-top: 1em">-n, --name <br>
Specify alternate name of policy. The policy will default to
the executable or name specified</p>

<p style="margin-top: 1em">-p, --path <br>
Specify the directory to store the created policy files.
(Default to current working directory ) optional
arguments:</p>

<p style="margin-top: 1em">-r, --role <br>
Enter role(s) to which this admin user will transition.</p>

<p style="margin-top: 1em">-t, --type <br>
Enter type(s) for which you will generate new definition and
rule(s)</p>

<p style="margin-top: 1em">-u, --user <br>
SELinux user(s) which will transition to this domain</p>

<p style="margin-top: 1em">-w, --writepath <br>
Path(s) which the confined processes need to write</p>

<p style="margin-top: 1em">-a, --admin <br>
Domain(s) which the confined admin will administrate</p>

<p style="margin-top: 1em">--admin_user <br>
Generate Policy for Administrator Login User Role</p>

<p style="margin-top: 1em">--application <br>
Generate Policy for User Application</p>

<p style="margin-top: 1em">--cgi Generate Policy for Web
Application/Script (CGI)</p>

<p style="margin-top: 1em">--confined_admin <br>
Generate Policy for Confined Root Administrator Role</p>

<p style="margin-top: 1em">--customize <br>
Generate Policy for Existing Domain Type</p>

<p style="margin-top: 1em">--dbus Generate Policy for DBUS
System Daemon</p>

<p style="margin-top: 1em">--desktop_user <br>
Generate Policy for Desktop Login User Role</p>

<p style="margin-top: 1em">--inetd <br>
Generate Policy for Internet Services Daemon</p>

<p style="margin-top: 1em">--init Generate Policy for
Standard Init Daemon (Default)</p>

<p style="margin-top: 1em">--newtype <br>
Generate new policy for new types to add to an existing
policy.</p>

<p style="margin-top: 1em">--sandbox <br>
Generate Policy for Sandbox</p>

<p style="margin-top: 1em">--term_user <br>
Generate Policy for Minimal Terminal Login User Role</p>

<p style="margin-top: 1em">--x_user <br>
Generate Policy for Minimal X Windows Login User Role</p>

<p style="margin-top: 1em">EXAMPLE <br>
&gt; sepolicy generate --init /usr/sbin/rwhod <br>
Generating Policy for /usr/sbin/rwhod named rwhod <br>
Created the following files: <br>
rwhod.te # Type Enforcement file <br>
rwhod.if # Interface file <br>
rwhod.fc # File Contexts file <br>
rwhod_selinux.spec # Spec file <br>
rwhod.sh # Setup Script</p>

<p style="margin-top: 1em">AUTHOR <br>
This man page was written by Daniel Walsh
&lt;dwalsh@redhat.com&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
sepolicy(8), selinux(8)</p>

<p style="margin-top: 1em">20121005
sepolicy-generate(8)</p>
<hr>
</body>
</html>
