<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:17:21 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>USERMOD(8) System Management Commands USERMOD(8)</p>

<p style="margin-top: 1em">NAME <br>
usermod - modify a user account</p>

<p style="margin-top: 1em">SYNOPSIS <br>
usermod [options] LOGIN</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The usermod command modifies the system account files to
reflect the changes that are specified on the command
line.</p>

<p style="margin-top: 1em">OPTIONS <br>
The options which apply to the usermod command are:</p>

<p style="margin-top: 1em">-a, --append <br>
Add the user to the supplementary group(s). Use only with
the -G option.</p>

<p style="margin-top: 1em">-c, --comment COMMENT <br>
The new value of the user&rsquo;s password file comment
field. It is normally modified using the chfn(1)
utility.</p>

<p style="margin-top: 1em">-d, --home HOME_DIR <br>
The user&rsquo;s new login directory.</p>

<p style="margin-top: 1em">If the -m option is given, the
contents of the current home directory will be moved to the
new home directory, which is created if it does not already
exist. If the current <br>
home directory does not exist the new home directory will
not be created.</p>

<p style="margin-top: 1em">-e, --expiredate EXPIRE_DATE
<br>
The date on which the user account will be disabled. The
date is specified in the format YYYY-MM-DD.</p>

<p style="margin-top: 1em">An empty EXPIRE_DATE argument
will disable the expiration of the account.</p>

<p style="margin-top: 1em">This option requires a
/etc/shadow file. A /etc/shadow entry will be created if
there were none.</p>

<p style="margin-top: 1em">-f, --inactive INACTIVE <br>
The number of days after a password expires until the
account is permanently disabled.</p>

<p style="margin-top: 1em">A value of 0 disables the
account as soon as the password has expired, and a value of
-1 disables the feature.</p>

<p style="margin-top: 1em">This option requires a
/etc/shadow file. A /etc/shadow entry will be created if
there were none.</p>

<p style="margin-top: 1em">-g, --gid GROUP <br>
The group name or number of the user&rsquo;s new initial
login group. The group must exist.</p>

<p style="margin-top: 1em">Any file from the user&rsquo;s
home directory owned by the previous primary group of the
user will be owned by this new group.</p>

<p style="margin-top: 1em">The group ownership of files
outside of the user&rsquo;s home directory must be fixed
manually.</p>

<p style="margin-top: 1em">The change of the group
ownership of files inside of the user&rsquo;s home directory
is also not done if the home dir owner uid is different from
the current or new user id. This <br>
is safety measure for special home directories such as
/.</p>

<p style="margin-top: 1em">-G, --groups
GROUP1[,GROUP2,...[,GROUPN]]] <br>
A list of supplementary groups which the user is also a
member of. Each group is separated from the next by a comma,
with no intervening whitespace. The groups are subject to
<br>
the same restrictions as the group given with the -g
option.</p>

<p style="margin-top: 1em">If the user is currently a
member of a group which is not listed, the user will be
removed from the group. This behaviour can be changed via
the -a option, which appends the <br>
user to the current supplementary group list.</p>

<p style="margin-top: 1em">-l, --login NEW_LOGIN <br>
The name of the user will be changed from LOGIN to
NEW_LOGIN. Nothing else is changed. In particular, the
user&rsquo;s home directory or mail spool should probably be
renamed <br>
manually to reflect the new login name.</p>

<p style="margin-top: 1em">-L, --lock <br>
Lock a user&rsquo;s password. This puts a &rsquo;!&rsquo; in
front of the encrypted password, effectively disabling the
password. You can&rsquo;t use this option with -p or -U.</p>

<p style="margin-top: 1em">Note: if you wish to lock the
account (not only access with a password), you should also
set the EXPIRE_DATE to 1.</p>

<p style="margin-top: 1em">-m, --move-home <br>
Move the content of the user&rsquo;s home directory to the
new location. If the current home directory does not exist
the new home directory will not be created.</p>

<p style="margin-top: 1em">This option is only valid in
combination with the -d (or --home) option.</p>

<p style="margin-top: 1em">usermod will try to adapt the
ownership of the files and to copy the modes, ACL and
extended attributes, but manual changes might be needed
afterwards.</p>

<p style="margin-top: 1em">-o, --non-unique <br>
When used with the -u option, this option allows to change
the user ID to a non-unique value.</p>

<p style="margin-top: 1em">-p, --password PASSWORD <br>
The encrypted password, as returned by crypt(3).</p>

<p style="margin-top: 1em">Note: This option is not
recommended because the password (or encrypted password)
will be visible by users listing the processes.</p>

<p style="margin-top: 1em">You should make sure the
password respects the system&rsquo;s password policy.</p>

<p style="margin-top: 1em">-R, --root CHROOT_DIR <br>
Apply changes in the CHROOT_DIR directory and use the
configuration files from the CHROOT_DIR directory.</p>

<p style="margin-top: 1em">-s, --shell SHELL <br>
The name of the user&rsquo;s new login shell. Setting this
field to blank causes the system to select the default login
shell.</p>

<p style="margin-top: 1em">-u, --uid UID <br>
The new numerical value of the user&rsquo;s ID.</p>

<p style="margin-top: 1em">This value must be unique,
unless the -o option is used. The value must be
non-negative.</p>

<p style="margin-top: 1em">The user&rsquo;s mailbox, and
any files which the user owns and which are located in the
user&rsquo;s home directory will have the file user ID
changed automatically.</p>

<p style="margin-top: 1em">The ownership of files outside
of the user&rsquo;s home directory must be fixed
manually.</p>

<p style="margin-top: 1em">The change of the user ownership
of files inside of the user&rsquo;s home directory is also
not done if the home dir owner uid is different from the
current or new user id. This is <br>
safety measure for special home directories such as /.</p>

<p style="margin-top: 1em">No checks will be performed with
regard to the UID_MIN, UID_MAX, SYS_UID_MIN, or SYS_UID_MAX
from /etc/login.defs.</p>

<p style="margin-top: 1em">-U, --unlock <br>
Unlock a user&rsquo;s password. This removes the
&rsquo;!&rsquo; in front of the encrypted password. You
can&rsquo;t use this option with -p or -L.</p>

<p style="margin-top: 1em">Note: if you wish to unlock the
account (not only access with a password), you should also
set the EXPIRE_DATE (for example to 99999, or to the EXPIRE
value from <br>
/etc/default/useradd).</p>

<p style="margin-top: 1em">-Z, --selinux-user SEUSER <br>
The new SELinux user for the user&rsquo;s login.</p>

<p style="margin-top: 1em">A blank SEUSER will remove the
SELinux user mapping for user LOGIN (if any).</p>

<p style="margin-top: 1em">CAVEATS <br>
You must make certain that the named user is not executing
any processes when this command is being executed if the
user&rsquo;s numerical user ID, the user&rsquo;s name, or
the user&rsquo;s home <br>
directory is being changed. usermod checks this on Linux,
but only check if the user is logged in according to utmp on
other architectures.</p>

<p style="margin-top: 1em">You must change the owner of any
crontab files or at jobs manually.</p>

<p style="margin-top: 1em">You must make any changes
involving NIS on the NIS server.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
The following configuration variables in /etc/login.defs
change the behavior of this tool:</p>

<p style="margin-top: 1em">MAIL_DIR (string) <br>
The mail spool directory. This is needed to manipulate the
mailbox when its corresponding user account is modified or
deleted. If not specified, a compile-time default is <br>
used.</p>

<p style="margin-top: 1em">MAIL_FILE (string) <br>
Defines the location of the users mail spool files
relatively to their home directory.</p>

<p style="margin-top: 1em">The MAIL_DIR and MAIL_FILE
variables are used by useradd, usermod, and userdel to
create, move, or delete the user&rsquo;s mail spool.</p>

<p style="margin-top: 1em">If MAIL_CHECK_ENAB is set to
yes, they are also used to define the MAIL environment
variable.</p>

<p style="margin-top: 1em">MAX_MEMBERS_PER_GROUP (number)
<br>
Maximum members per group entry. When the maximum is
reached, a new group entry (line) is started in /etc/group
(with the same name, same password, and same GID).</p>

<p style="margin-top: 1em">The default value is 0, meaning
that there are no limits in the number of members in a
group.</p>

<p style="margin-top: 1em">This feature (split group)
permits to limit the length of lines in the group file. This
is useful to make sure that lines for NIS groups are not
larger than 1024 characters.</p>

<p style="margin-top: 1em">If you need to enforce such
limit, you can use 25.</p>

<p style="margin-top: 1em">Note: split groups may not be
supported by all tools (even in the Shadow toolsuite). You
should not use this variable unless you really need it.</p>

<p style="margin-top: 1em">FILES <br>
/etc/group <br>
Group account information.</p>

<p style="margin-top: 1em">/etc/gshadow <br>
Secure group account information.</p>

<p style="margin-top: 1em">/etc/login.defs <br>
Shadow password suite configuration.</p>

<p style="margin-top: 1em">/etc/passwd <br>
User account information.</p>

<p style="margin-top: 1em">/etc/shadow <br>
Secure user account information.</p>

<p style="margin-top: 1em">SEE ALSO <br>
chfn(1), chsh(1), passwd(1), crypt(3), gpasswd(8),
groupadd(8), groupdel(8), groupmod(8), login.defs(5),
useradd(8), userdel(8).</p>

<p style="margin-top: 1em">shadow-utils 4.1.5.1 11/05/2016
USERMOD(8)</p>
<hr>
</body>
</html>
