<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FCOEADM(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FCOEADM(8)</td>
    <td class="head-vol">Open-FCoE Tools</td>
    <td class="head-rtitle">FCOEADM(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fcoeadm - The Open-FCoE Administration Tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>fcoeadm</b> [-m|--mode fabric|vn2vn] -c|--create <i>ethX</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -d|--destroy <i>ethX</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -r|--reset <i>ethX</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -S|--Scan [<i>ethX</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -i|--interface [<i>ethX</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -f|--fcf [<i>ethX</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -t|--target [<i>ethX</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -l|--lun [<i>ethX</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -s|--stats <i>ethX</i> [<i>interval</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -b|--lesb <i>ethX</i> [<i>interval</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -h|--help
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> -v|--version
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>fcoeadm</b> utility is the Fibre Channel over Ethernet (FCoE) management
  tool for the <i>Open-FCoE</i> project. <b>fcoeadm</b> may be used to create,
  destroy, and reset an FCoE instance on a given network interface. For these
  operations <b>fcoeadm</b> sends a command to a running <b>fcoemon</b> process,
  via a socket interface. <b>fcoemon</b> will then perform the requested
  operation.
<div style="height: 1.00em;">&#x00A0;</div>
<b>fcoeadm</b> also provides operations to query information about FCoE
  instances, including interface information, target information, LUN
  information, and port statistics. For much of this information, <b>fcoeadm</b>
  relies on the <i>libhbalinux</i> implementation of the <i>HBA API</i>. Only
  one operation may be given on a command.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-m</b>, <b>--mode</b> fabric|vn2vn
<div style="margin-left: 4.00ex;">Used together with the create option to
  control the FCoE mode of operation. The mode defaults to fabric but this
  option allows the selection of vn2vn mode.</div>
<h1 class="Sh" title="Sh" id="OPERATIONS"><a class="selflink" href="#OPERATIONS">OPERATIONS</a></h1>
<b>-c</b>, <b>--create</b> <i>ethX</i>
<div style="margin-left: 4.00ex;">Creates an FCoE instance based on the
  specified network interface. Note that if there is not an fcoemon
  configuration file for the interface (/etc/fcoe/cfg-ethX, see <b>fcoemon</b>),
  then the created FCoE instance will not require DCB.</div>
<div class="Pp"></div>
<b>-d</b>, <b>--destroy</b> <i>ethX</i>
<div style="margin-left: 4.00ex;">Destroys the FCoE instance on the specified
  network interface. This will not destroy FCoE instances created by
  fipvlan.</div>
<div class="Pp"></div>
<b>-r</b>, <b>--reset</b> <i>ethX</i>
<div style="margin-left: 4.00ex;">Resets the FCoE instance on the specified
  network interface. This will not reset FCoE instances created by
  fipvlan.</div>
<div class="Pp"></div>
<b>-S</b>, <b>--Scan</b> <i>ethX</i>
<div style="margin-left: 4.00ex;">Rescan for new targets and LUNs on the
  provided instance. This command will not rescan any NPIV instances created on
  the same port. This will not rescan any FCoE instance created by
  fipvlan.</div>
<div class="Pp"></div>
<b>-i</b>, <b>--interface</b> [<i>ethX</i>]
<div style="margin-left: 4.00ex;">Show information about the FCoE instance on
  the specified network interface, or all FCoE instances if no network interface
  is specified.</div>
<div class="Pp"></div>
<b>-f</b>, <b>--fcf</b> [<i>ethX</i>]
<div style="margin-left: 4.00ex;">Show information about the discovered Fibre
  Channel Forwarders (FCFs) on the specified network interface, or all
  discovered FCFs if no network interface is specified.</div>
<div class="Pp"></div>
<b>-t</b>, <b>--target</b> [<i>ethX</i>]
<div style="margin-left: 4.00ex;">Show information about the discovered targets
  associated with the FCoE instance on the specified network interface. If no
  network interface is specified, information about discovered targets from all
  FCoE instances will be shown.</div>
<div class="Pp"></div>
<b>-l</b>, <b>--lun</b> [<i>ethX</i>]
<div style="margin-left: 4.00ex;">Show detailed information about the discovered
  SCSI LUNs associated with the FCoE instance on the specified network
  interface. If no network interface is specified, information about SCSI LUNs
  from all FCoE instances will be shown.</div>
<div class="Pp"></div>
<b>-s</b>, <b>--stats</b> <i>ethX</i> [<i>interval</i>]
<div style="margin-left: 4.00ex;">Show the statistics (including FC4 statistics)
  of the FCoE connection on the specified network interface. The information
  will be displayed repeatedly until the user cancels the command. The
  statistics will be printed every specified <i>interval</i> (in seconds).
  <i>interval</i> should be specified as a whole number greater than 0. If
  <i>interval</i> is not specified, a default interval of one second is
  used.</div>
<div class="Pp"></div>
<b>-b</b>, <b>--lesb</b> <i>ethX</i> [<i>interval</i>]
<div style="margin-left: 4.00ex;">Show the Link Error Statistics Block (LESB) of
  the FCoE connection on the specified network interface. The information will
  be displayed repeatedly until the user cancels the command. The LESB
  statistics will be printed every specified <i>interval</i> (in seconds).
  <i>interval</i> should be specified in whole integers greater than 0. If the
  <i>interval</i> is not specified, a default interval of one second is
  used.</div>
<div class="Pp"></div>
<b>-h</b>, <b>--help</b>
<div style="margin-left: 4.00ex;">Displays the usage message of the
  <b>fcoeadm</b> command.</div>
<div class="Pp"></div>
<b>-v</b>, <b>--version</b>
<div style="margin-left: 4.00ex;">Displays the version of the <b>fcoeadm</b>
  command.</div>
<h1 class="Sh" title="Sh" id="INTERFACE_NAMES"><a class="selflink" href="#INTERFACE_NAMES">INTERFACE
  NAMES</a></h1>
The actual name for <i>ethX</i> depends on the <b>AUTO_VLAN</b> setting in the
  fcoemon interface configuration (/etc/fcoe/cfg-ethX, see <b>fcoemon</b>).
<div style="height: 1.00em;">&#x00A0;</div>
If <b>AUTO_VLAN</b> is set to <i>yes</i>, the interface name <i>ethX</i>
  references the network device itself. If <b>AUTO_VLAN</b> is set to <i>no</i>,
  the interface name <i>ethX</i> references the VLAN device.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Creates an FCoE instance on eth2.101
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -c eth2.101
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Creates an FCoE VN2VN instance on eth2.101
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -m vn2vn -c eth2.101
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Destroys the FCoE instance on eth2.101
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -d eth2.101
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Resets the FCoE instance on eth2.101
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -r eth2.101
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the information of all the adapters and their ports having FCoE instances
  created
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -i
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the information of all FCoE instances on interface eth3.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -i eth3
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the information of all the discovered targets from all the ports having
  FCoE instances created (they may be on different adapter cards). A brief
  listing of discovered LUNs are listed after the target they are associated
  with, if any
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -t
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the information of all the discovered targets from a given port (eth3)
  having FCoE instance created. A brief listing of discovered LUNs are listed
  after each target they are associated with, if any
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -t eth3
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the detailed information of all the LUNs discovered on all FCoE connections
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -l
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the detailed information of all the LUNs associated with a specific
  interface
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -l eth3.101
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Show the statistics information of a specific port eth3 having FCoE instances
  created. The statistics are displayed one line per time interval. The default
  interval is one second if an interval is not specified
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -s eth3
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
fcoeadm -s eth3 3
</pre>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>fcoemon</b>(8)
<h1 class="Sh" title="Sh" id="SUPPORT"><a class="selflink" href="#SUPPORT">SUPPORT</a></h1>
<b>fcoeadm</b> is part of the <i>fcoe-utils</i> package, maintained through the
  <i>Open-FCoE</i> project. Resources for both developers and users can be found
  at the <i>Open-FCoE</i> website http://open-fcoe.org/</div>
<table class="foot">
  <tr>
    <td class="foot-date">10/14/2013</td>
    <td class="foot-os">Open-FCoE</td>
  </tr>
</table>
</body>
</html>
