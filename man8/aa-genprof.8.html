<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:08:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>AA-GENPROF(8) AppArmor AA-GENPROF(8)</p>

<p style="margin-top: 1em">NAME <br>
aa-genprof - profile generation utility for AppArmor</p>

<p style="margin-top: 1em">SYNOPSIS <br>
aa-genprof &lt;executable&gt; [-d /path/to/profiles] [-f
/path/to/logfile]</p>

<p style="margin-top: 1em">OPTIONS <br>
-d --dir /path/to/profiles</p>

<p style="margin-top: 1em">Specifies where to look for the
AppArmor security profile set. <br>
Defaults to /etc/apparmor.d.</p>

<p style="margin-top: 1em">-f --file /path/to/logfile</p>

<p style="margin-top: 1em">Specifies the location of
logfile. <br>
Default locations are read from
F&lt;/etc/apparmor/logprof.conf&gt;. <br>
Typical defaults are: <br>
/var/log/audit/audit.log <br>
/var/log/syslog <br>
/var/log/messages</p>

<p style="margin-top: 1em">DESCRIPTION <br>
When running aa-genprof, you must specify a program to
profile. If the specified program is not a fully-qualified
path, aa-genprof will search $PATH in order to find the <br>
program.</p>

<p style="margin-top: 1em">If a profile does not exist for
the program, aa-genprof will create one using
aa-autodep(1).</p>

<p style="margin-top: 1em">Genprof will then:</p>

<p style="margin-top: 1em">- set the profile to complain
mode</p>

<p style="margin-top: 1em">- write a mark to the system
log</p>

<p style="margin-top: 1em">- instruct the user to start the
application to <br>
be profiled in another window and exercise its
functionality</p>

<p style="margin-top: 1em">It then presents the user with
two options, (S)can system log for entries to add to profile
and (F)inish.</p>

<p style="margin-top: 1em">If the user selects (S)can or
hits return, aa-genprof will parse the complain mode logs
and iterate through generated violations using
aa-logprof(1).</p>

<p style="margin-top: 1em">After the user finishes
selecting profile entries based on violations that were
detected during the program execution, aa-genprof will
reload the updated profiles in complain <br>
mode and again prompt the user for (S)can and (F)inish. This
cycle can then be repeated as necessary until all
application functionality has been exercised without
generating <br>
access violations.</p>

<p style="margin-top: 1em">When the user eventually hits
(F)inish, aa-genprof will set the main profile, and any
other profiles that were generated, into enforce mode and
exit.</p>

<p style="margin-top: 1em">BUGS <br>
If you find any bugs, please report them at
&lt;https://bugs.launchpad.net/apparmor/+filebug&gt;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
apparmor(7), apparmor.d(5), aa-enforce(1), aa-complain(1),
aa-disable(1), aa_change_hat(2), aa-logprof(1),
logprof.conf(5), and &lt;http://wiki.apparmor.net&gt;.</p>

<p style="margin-top: 1em">AppArmor 2.11.0 2017-04-11
AA-GENPROF(8)</p>
<hr>
</body>
</html>
