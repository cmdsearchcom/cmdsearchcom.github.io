<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:30 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>mon(8) Parallel Service Monitoring Daemon mon(8)</p>

<p style="margin-top: 1em">NAME <br>
mon - monitor services for availability, sending alarms upon
failures.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mon [-dfhlMSv] [-a dir] [-A authfile] [-b dir] [-B dir] [-c
config] [-D dir] [-i secs] [-k num] [-l [statetype]] [-L
dir] [-m num] [-p num] [-P pidfile] [-r delay] [-s dir]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
mon is a general-purpose scheduler for monitoring service
availability and triggering alerts upon detecting failures.
mon was designed to be open in the sense that it supports
<br>
arbitrary monitoring facilities and alert methods via a
common interface, which are easily implemented through
programs (in C, Perl, shell, etc.), SNMP traps, and special
Mon <br>
(UDP packet) traps.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a dir Path to alert scripts. Default is
/usr/local/lib/mon/alert.d:alert.d. Multiple alert paths may
be specified by separating them with a colon. Non-absolute
paths are taken <br>
to be relative to the base directory (/usr/lib/mon by
default).</p>

<p style="margin-top: 1em">-b dir Base directory for mon.
scriptdir, alertdir, and statedir are all relative to this
directory unless specified from /. Default is
/usr/lib/mon.</p>

<p style="margin-top: 1em">-B dir Configuration file base
directory. All config files are located here, including
mon.cf, monusers.cf, and auth.cf.</p>

<p style="margin-top: 1em">-A authfile <br>
Authentication configuration file. By default this is
/etc/mon/auth.cf if the /etc/mon directory exists, or
/usr/lib/mon/auth.cf otherwise.</p>

<p style="margin-top: 1em">-c file <br>
Read configuration from file. This defaults to IR
/etc/mon/mon.cf &quot; if the &quot; /etc/mon directory
exists, otherwise to /etc/mon.cf.</p>

<p style="margin-top: 1em">-d Enable debugging mode.</p>

<p style="margin-top: 1em">-D dir Path to state directory.
Default is the first of /var/state/mon, /var/lib/mon, and
/usr/lib/mon/state.d which exists.</p>

<p style="margin-top: 1em">-f Fork and run as a daemon
process. This is the preferred way to run mon.</p>

<p style="margin-top: 1em">-h Print help information.</p>

<p style="margin-top: 1em">-i secs <br>
Sleep interval, in seconds. Defaults to 1. This
shouldn&rsquo;t need to be adjusted for any reason.</p>

<p style="margin-top: 1em">-k num Set log history to a
maximum of num entries. Defaults to 100.</p>

<p style="margin-top: 1em">-l statetype <br>
Load state from the last saved state file. The supported
saved state types are disabled for disabled watches,
services, and hosts, opstatus for failure/alert/ack status
of <br>
all services, and all for both. If no statetype is provided,
disabled is assumed.</p>

<p style="margin-top: 1em">-L dir Sets the log dir. See
also logdir in the configuration file. The default is
/var/log/mon if that directory exists, otherwise log.d in
the base directory.</p>

<p style="margin-top: 1em">-M Pre-process the configuration
file with the macro expansion package m4.</p>

<p style="margin-top: 1em">-m num Set the throttle for the
maximum number of processes to num.</p>

<p style="margin-top: 1em">-p num Make server listen on
port num. This defaults to 2583.</p>

<p style="margin-top: 1em">-S Start with the scheduler
stopped.</p>

<p style="margin-top: 1em">-P pidfile <br>
Store the server&rsquo;s pid in pidfile, the default is the
first of /var/run/mon/mon.pid, /var/run/mon.pid, and
/etc/mon.pid whose directory exists. An empty value tells
mon <br>
not to use a pid file.</p>

<p style="margin-top: 1em">-r delay <br>
Sets the number of seconds used to randomize the startup
delay before each service is scheduled. Refer to the global
randstart variable in the configuration file.</p>

<p style="margin-top: 1em">-s dir Path to monitor scripts.
Default is /usr/local/lib/mon/mon.d:mon.d. Multiple alert
paths may be specified by separating them with a colon.
Non-absolute paths are taken <br>
to be relative to the base directory (/usr/lib/mon by
default).</p>

<p style="margin-top: 1em">-v Print version
information.</p>

<p style="margin-top: 1em">DEFINITIONS <br>
monitor <br>
A program which tests for a certain condition, returns
either true or false, and optionally produces output to be
passed back to the scheduler. Common monitors detect <br>
host reachability via ICMP echo messages, or connection to
TCP services.</p>

<p style="margin-top: 1em">period A period in time as
interpreted by the Time::Period module.</p>

<p style="margin-top: 1em">alert A program which sends a
message when invoked by the scheduler. The scheduler calls
upon an alert when it detects a failure from a monitor. An
alert program accepts a set <br>
of command-line arguments from the scheduler, in addition to
data via standard input.</p>

<p style="margin-top: 1em">hostgroup <br>
A single host or list of hosts, specified as names or IP
addresses.</p>

<p style="margin-top: 1em">service <br>
A collection of parameters used to deal with monitoring a
particular resource which is provided by a group. Services
are usually modeled after things such as an SMTP <br>
server, ICMP echo capability, server disk space
availability, or SNMP events.</p>

<p style="margin-top: 1em">view A collection of hostgroups,
used to filter mon output for client display. i.e. a
&rsquo;network-services&rsquo; view might be defined so your
network staff can see just the host&acirc; <br>
groups which matter to them, without having to see all
hostgroups defined in Mon.</p>

<p style="margin-top: 1em">watch A collection of services
which apply to a particular group.</p>

<p style="margin-top: 1em">OPERATION <br>
When the mon scheduler starts, it reads a configuration file
to determine the services it needs to monitor. The
configuration file defaults to /etc/mon.cf, and can be
specified <br>
using the -c parameter. If the -M option is specified, then
the configuration file is pre-processed with m4. If the
configuration file ends with .m4, the file is also processed
<br>
by m4 automatically.</p>

<p style="margin-top: 1em">The scheduler enters a loop
which handles client connections, monitor invocations, and
failure alerts. Each service has a timer, specified in the
configuration file as the inter&acirc; <br>
val variable, which tells the scheduler how frequently to
invoke a monitor process. The scheduler may be temporarily
stopped. While it is stopped, client access still functions,
<br>
but it just doesn&rsquo;t schedule things. This is useful in
conjunction while resetting the server, because you can do
this: save the hosts and services which are disabled, reset
the <br>
server with the scheduler stopped, re-disabled those hosts
and services, then start the scheduler. It also allows
making atomic changes across several client connections. See
<br>
the moncmd man page for more information.</p>

<p style="margin-top: 1em">MONITOR PROGRAMS <br>
Monitor processes are invoked with the arguments specified
in the configuration file, appended by the hosts from the
applicable host group. For example, if the watch group is
<br>
&quot;servers&quot;, which contain the hostnames
&quot;smtp&quot;, &quot;nntp&quot;, and &quot;ns&quot;, and
the monitor line reads as follows, <br>
monitor fping.monitor -t 4000 -r 2 <br>
then the exectuable &quot;fping.monitor&quot; will be
executed with these parameters: <br>
MONITOR_DIR/fping.monitor -t 4000 -r 2 smtp nntp ns</p>

<p style="margin-top: 1em">MONITOR_DIR is actually a search
path, by default /usr/local/lib/mon/mon.d then
/usr/lib/mon/mon.d, but it can be overridden by the -s
option or in the configuration file. If <br>
all hosts in the hostgroup have been disabled, then a
warning is sent to syslog and the monitor is not run. This
behavior may be overridden with the
&quot;allow_empty_group&quot; option in <br>
the service definition. If the final argument to the
&quot;monitor&quot; line is &quot;;;&quot; (it must be
preceded by whitespace), then the host list will not be
appended to the parameter list.</p>

<p style="margin-top: 1em">In addition to environment
variables defined by the user in the service definition, mon
passes certain variables to monitor process.</p>

<p style="margin-top: 1em">MON_LAST_SUMMARY <br>
The first line of the output from the last time the monitor
exited. This is not the summary of the current monitor run,
but the previous one. This may be used by an <br>
alert script to provide historical context in an alert.</p>

<p style="margin-top: 1em">MON_LAST_OUTPUT <br>
The entire output of the monitor from the last time it
exited. This is not the output of the current monitor run,
but the previous one. This may be used by an alert <br>
script to provide historical context in an alert.</p>

<p style="margin-top: 1em">MON_LAST_FAILURE <br>
The time(2) of the last failure for this service.</p>

<p style="margin-top: 1em">MON_FIRST_FAILURE <br>
The time(2) of the first time this service failed.</p>

<p style="margin-top: 1em">MON_LAST_SUCCESS <br>
The time(2) of the last time this service passed.</p>

<p style="margin-top: 1em">MON_DESCRIPTION <br>
The description of this service, as defined in the
configuration file using the description tag.</p>

<p style="margin-top: 1em">MON_DEPEND_STATUS <br>
The depend status, &quot;o&quot; if dependency failure,
&quot;1&quot; otherwise.</p>

<p style="margin-top: 1em">MON_LOGDIR <br>
The directory log files should be placed, as indicated by
the logdir global configuration variable.</p>

<p style="margin-top: 1em">MON_STATEDIR <br>
The directory where state files should be kept, as indicated
by the statedir global configuration variable.</p>

<p style="margin-top: 1em">MON_CFBASEDIR <br>
The directory where configuration files should be kept, as
indicated by the cfbasedir global configuration
variable.</p>

<p style="margin-top: 1em">&quot;fping.monitor&quot; should
return an exit status of 0 if it completed successfully
(found no problems), or nonzero if a problem was detected.
The first line of output from the moni&acirc; <br>
tor script has a special meaning: it is used as a brief
summary of the exact failure which was detected, and is
passed to the alert program. All remaining output is also
passed <br>
to the alert program, but it has no required
interpretation.</p>

<p style="margin-top: 1em">If a monitor for a particular
service is still running, and the time comes for mon to run
another monitor for that service, it will not start another
monitor. For example, if the <br>
interval is 10s, and the monitor does not finish running
within 10 seconds, then mon will wait until the first
monitor exits before running another one.</p>

<p style="margin-top: 1em">ALERT DECISION LOGIC <br>
Upon a non-zero or zero exit status, the associated alert or
upalert program (respectively) is started, pending the
following conditions: If an alert for a specific service is
<br>
disabled, do not send an alert. If dep_behavior is set to
&rsquo;a&rsquo;, or alertdepend is set, and a parent
dependency is failing, then suppress the alert. If the alert
has previously <br>
been acknowledged, do not send the alert, unless it is an
upalert. If an alert is not within the specified period,
record the failure via syslog(3) and do not send an alert.
If <br>
the failure does not fall within a defined period, do not
send an alert. No upalerts are sent without corresponding
down alerts, unless no_comp_alerts is defined in the period
<br>
section. An upalert will only be sent if the previous state
is a failure. If an alert was already sent within the last
alertevery interval, do not send another alert, unless the
<br>
summary output from the current monitor program differs from
the last monitor process. Otherwise, send an alert using
each alert program listed for that period. The <br>
observe_detail argument to alertevery affects this behavior
by observing the changes in the detail part of the output in
addition to the summary line. If a monitor has succes&acirc;
<br>
sive failures and the summary output changes in each of
them, alertevery will not suppress multiple consecutive
alerts. The reasoning is that if the summary output changes,
then <br>
a significant event occurred and the user should be alerted.
The &quot;strict&quot; argument to alertevery will suppress
both comparing the output from the previous monitor run to
the <br>
current and prevent a successful return value of the monitor
from resetting the alertevery timer. For example,
&quot;alertevery 24h strict&quot; will only send out an
alert once every 24 <br>
hours, regardless of whether the monitor output changes, or
if the service stops and then starts failing.</p>

<p style="margin-top: 1em">ALERT PROGRAMS <br>
Alert programs are found in the path supplied with the -a
parameter, or in the /usr/local/lib/mon/alert.d and
directories if not specified. They are invoked with the
following <br>
command-line parameters:</p>

<p style="margin-top: 1em">-s service <br>
Service tag from the configuration file.</p>

<p style="margin-top: 1em">-g group <br>
Host group name from the configuration file.</p>

<p style="margin-top: 1em">-h hosts <br>
The expanded version of the host group, space delimited, but
contained in one shell &quot;word&quot;.</p>

<p style="margin-top: 1em">-l alertevery <br>
The number of seconds until the next alarm will be sent.</p>

<p style="margin-top: 1em">-O This option is supplied to an
alert only if the alert is being generated as a result of an
expected traap timing out</p>

<p style="margin-top: 1em">-t time <br>
The time (in time(2) format) of when this failure condition
was detected.</p>

<p style="margin-top: 1em">-T This option is supplied to an
alert only if the alert was triggered by a trap</p>

<p style="margin-top: 1em">-u This option is supplied to an
alert only if it is being called as an upalert.</p>

<p style="margin-top: 1em">The remaining arguments are
supplied from the trailing parameters in the configuration
file, after the &quot;alert&quot; service parameter.</p>

<p style="margin-top: 1em">As with monitor programs, alert
programs are invoked with environment variables defined by
the user in the service definition, in addition to the
following which are explicitly <br>
set by the server:</p>

<p style="margin-top: 1em">MON_LAST_SUMMARY <br>
The first line of the output from the last time the monitor
exited.</p>

<p style="margin-top: 1em">MON_LAST_OUTPUT <br>
The entire output of the monitor from the last time it
exited.</p>

<p style="margin-top: 1em">MON_LAST_FAILURE <br>
The time(2) of the last failure for this service.</p>

<p style="margin-top: 1em">MON_FIRST_FAILURE <br>
The time(2) of the first time this service failed.</p>

<p style="margin-top: 1em">MON_LAST_SUCCESS <br>
The time(2) of the last time this service passed.</p>

<p style="margin-top: 1em">MON_DESCRIPTION <br>
The description of this service, as defined in the
configuration file using the description tag.</p>

<p style="margin-top: 1em">MON_GROUP <br>
The watch group which triggered this alarm</p>

<p style="margin-top: 1em">MON_SERVICE <br>
The service heading which generated this alert</p>

<p style="margin-top: 1em">MON_RETVAL <br>
The exit value of the failed monitor program, or return
value as accepted from a trap.</p>

<p style="margin-top: 1em">MON_OPSTATUS <br>
The operational status of the service.</p>

<p style="margin-top: 1em">MON_ALERTTYPE <br>
Has one of the following values: &quot;failure&quot;,
&quot;up&quot;, &quot;startup&quot;, &quot;trap&quot;, or
&quot;traptimeout&quot;, and signifies the type of alert
which was triggered.</p>

<p style="margin-top: 1em">MON_TRAP_INTENDED <br>
This is only set when an unknown mon trap is received and
caught by the default/defaut watch/service. This contains
colon separated entries of the trap&rsquo;s intended watch
<br>
group and service name.</p>

<p style="margin-top: 1em">MON_LOGDIR <br>
The directory log files should be placed, as indicated by
the logdir global configuration variable.</p>

<p style="margin-top: 1em">MON_STATEDIR <br>
The directory where state files should be kept, as indicated
by the statedir global configuration variable.</p>

<p style="margin-top: 1em">MON_CFBASEDIR <br>
The directory where configuration files should be kept, as
indicated by the cfbasedir global configuration
variable.</p>

<p style="margin-top: 1em">The first line from standard
input must be used as a brief summary of the problem,
normally supplied as the subject line of an email, or text
sent to an alphanumeric pager. <br>
Interpretation of all subsequent lines read from stdin is
left up to the alerting program. The usual parameters are a
list of recipients to deliver the notification to. The <br>
interpretation of the recipients is not specified, and is up
to the alert program.</p>

<p style="margin-top: 1em">CONFIGURATION FILE <br>
The configuration file consists of zero or more global
variable definitions, zero or more hostgroup definitions,
and one or more watch definitions. Each watch definition may
have <br>
one or more service definitions. A watch definition is
terminated by a blank line, another definition, or the end
of the file. A line beginning with optional leading
whitespace <br>
and a pound (&quot;#&quot;) is regarded as a comment, and is
ignored.</p>

<p style="margin-top: 1em">Lines are parsed as they are
read. Long lines may be continued by ending them with a
backslash (&quot; <br>
the backslash, and the leading whitespace of the following
line are removed. The end result is assembled into a single
line.</p>

<p style="margin-top: 1em">Typically the configuration file
has the following layout:</p>

<p style="margin-top: 1em">1. Global variable
definitions</p>

<p style="margin-top: 1em">2. Hostgroup definitions</p>

<p style="margin-top: 1em">3. Watch definitions</p>

<p style="margin-top: 1em">See the
&quot;etc/example.cf&quot; file which comes for the
distribution for an example.</p>

<p style="margin-top: 1em">Global Variables <br>
The following variables may be set to override compiled-in
defaults. Command-line options will have a higher precedence
than these definitions.</p>

<p style="margin-top: 1em">alertdir = dir <br>
dir is the full path to the alert scripts. This is the value
set by the -a command-line parameter.</p>

<p style="margin-top: 1em">Multiple alert paths may be
specified by separating them with a colon. Non-absolute
paths are taken to be relative to the base directory
(/usr/lib/mon by default).</p>

<p style="margin-top: 1em">When the configuration file is
read, all alerts referenced from the configuration will be
looked up in each of these paths, and the full path to the
first instance of the <br>
alert found is stored in a hash. This hash is only generated
upon startup or after a &quot;reset&quot; command, so newly
added alert scripts will not be recognized until a
&quot;reset&quot; <br>
is performed.</p>

<p style="margin-top: 1em">mondir = dir <br>
dir is the full path to the monitor scripts. This value may
also be set by the -s command-line parameter. If this path
does not begin with a &quot;/&quot;, it will be relative to
<br>
basedir.</p>

<p style="margin-top: 1em">Multiple alert paths may be
specified by separating them with a colon. All paths must be
absolute.</p>

<p style="margin-top: 1em">When the configuration file is
read, all monitors referenced from the configuration will be
looked up in each of these paths, and the full path to the
first instance of <br>
the monitor found is stored in a hash. This hash is only
generated upon startup or after a &quot;reset&quot; command,
so newly added monitor scripts will not be recognized until
a <br>
&quot;reset&quot; is performed.</p>

<p style="margin-top: 1em">statedir = dir <br>
dir is the full path to the state directory. mon uses this
directory to save various state information. If this path
does not begin with a &quot;/&quot;, it will be relative to
<br>
basedir.</p>

<p style="margin-top: 1em">logdir = dir <br>
dir is the full path to the log directory. mon uses this
directory to save various logs, including the downtime log.
If this path does not begin with a &quot;/&quot;, it will be
<br>
relative to basedir.</p>

<p style="margin-top: 1em">basedir = dir <br>
dir is the full path for the state, log, monitor, and alert
directories.</p>

<p style="margin-top: 1em">cfbasedir = dir <br>
dir is the full path where all the config files can be found
(monusers.cf, auth.cf, etc.).</p>

<p style="margin-top: 1em">authfile = file <br>
file is the path to the authentication file. If the path
does not begin with a &quot;/&quot;, it will be relative to
cfbasedir.</p>

<p style="margin-top: 1em">authtype = type [type...] <br>
type is the type of authentication to use. A space-separated
list of types may be specified, and they will be checked the
order they are listed. As soon as a successful <br>
authentication is performed, the user is considered
authenticated by mon for the duration of the session and no
more authentication checks are performed.</p>

<p style="margin-top: 1em">If type is getpwnam, then the
standard Unix passwd file authentication method will be used
(calls getpwnam(3) on the user and compares the crypt(3)ed
version of the pass&acirc; <br>
word with what it gets from getpwnam). This will not work if
shadow passwords are enabled on the system.</p>

<p style="margin-top: 1em">If type is userfile, then
usernames and hashed passwords are read from userfile, which
is defined via the userfile configuration variable.</p>

<p style="margin-top: 1em">If type is pam, then PAM
(pluggable authentication modules) will be used for
authentication. The service specified by the pamservice
global will be used. If no global is <br>
given, the PAM passwd service will be used.</p>

<p style="margin-top: 1em">If type is trustlocal, then if
the client connection comes from locahost, the username
passed from the client will be trusted, and the password
will be ignored. This can <br>
be used when you want the client to handle the
authentication for you. I.e. a CGI script using one of the
many apache authentication methods.</p>

<p style="margin-top: 1em">userfile = file <br>
This file is used when authtype is set to userfile. It
consists of a sequence of lines of the format
&rsquo;username : password&rsquo;. password is stored as the
hash returned by <br>
the standard Unix crypt(3) function. NOTE: the format of
this file is compatible with the Apache file based
username/password file format. It is possible to use the
<br>
htpasswd program supplied with Apache to manage the mon
userfile.</p>

<p style="margin-top: 1em">Blank lines and lines beginning
with # are ignored.</p>

<p style="margin-top: 1em">pamservice = service <br>
The PAM service used for authentication. This is applicable
only if &quot;pam&quot; is specified as a parameter to the
authtype setting. If this global is not defined, it defaults
<br>
to passwd.</p>

<p style="margin-top: 1em">serverbind = addr</p>

<p style="margin-top: 1em">trapbind = addr</p>

<p style="margin-top: 1em">serverbind and trapbind specify
which address to bind the server and trap ports to,
respectively. If these are not defined, the default address
is INADDR_ANY, which <br>
allows connections on all interfaces. For security reasons,
it could be a good idea to bind only to the loopback
interface.</p>

<p style="margin-top: 1em">dtlogfile = file <br>
file is a file which will be used to record the downtime
log. Whenever a service fails for some amount of time and
then stop failing, this event is written to the log. If <br>
this parameter is not set, no logging is done. The format of
the file is as follows (# is a comment and may be
ignored):</p>

<p style="margin-top: 1em">timenoticed group service
firstfail downtime interval summary.</p>

<p style="margin-top: 1em">timenoticed is the time(2) the
service came back up.</p>

<p style="margin-top: 1em">group service is the group and
service which failed.</p>

<p style="margin-top: 1em">firstfail is the time(2) when
the service began to fail.</p>

<p style="margin-top: 1em">downtime is the number of
seconds the service failed.</p>

<p style="margin-top: 1em">interval is the frequency (in
seconds) that the service is polled.</p>

<p style="margin-top: 1em">summary is the summary line from
when the service was failing.</p>

<p style="margin-top: 1em">monerrfile = filename <br>
By default, when mon daemonizes itself, it connects stdout
and stderr to /dev/null. If monerrfile is set to a file,
then stdout and stderr will be appended to that file. <br>
In all cases stdin is connected to /dev/null. If mon is told
to run in the foreground and to not daemonize, then none of
this applies, since stdin/stdout/stderr stay con&acirc; <br>
nected to whatever they were at the time of invocation.</p>

<p style="margin-top: 1em">dtlogging = yes/no</p>

<p style="margin-top: 1em">Turns downtime logging on or
off. The default is off.</p>

<p style="margin-top: 1em">histlength = num <br>
num is the the maximum number of events to be retained in
history list. The default is 100. This value may also be set
by the -k command-line parameter.</p>

<p style="margin-top: 1em">historicfile = file <br>
If this variable is set, then alerts are logged to file, and
upon startup, some (or all) of the past history is read into
memory.</p>

<p style="margin-top: 1em">historictime = timeval <br>
num is the amount of the history file to read upon startup.
&quot;Now&quot; - timeval is read. See the explanation of
interval in the &quot;Service Definitions&quot; section for
a descrip&acirc; <br>
tion of timeval.</p>

<p style="margin-top: 1em">serverport = port <br>
port is the TCP port number that the server should bind to.
This value may also be set by the -p command-line parameter.
Normally this port is looked up via getservby&acirc; <br>
name(3), and it defaults to 2583.</p>

<p style="margin-top: 1em">trapport = port <br>
port is the UDP port number that the trap server should bind
to. Normally this port is looked up via getservbyname(3),
and it defaults to 2583.</p>

<p style="margin-top: 1em">pidfile = path <br>
path is the file the sever will store its pid in. This value
may also be set by the -P command-line parameter.</p>

<p style="margin-top: 1em">maxprocs = num <br>
Throttles the number of concurrently forked processes to
num. The intent is to provide a safety net for the unlikely
situation when the server tries to take on too many <br>
tasks at once. Note that this situation has only been
reported to happen when trying to use a garbled
configuration file! You don&rsquo;t want to use a garbled
configuration <br>
file now, do you?</p>

<p style="margin-top: 1em">cltimeout = secs <br>
Sets the client inactivity timeout to secs. This is meant to
help thwart denial of service attacks or recover from
crashed clients. secs is interpreted as a
&quot;1h/1m/1s&quot; <br>
string, where &quot;1m&quot; = 60 seconds.</p>

<p style="margin-top: 1em">randstart = interval <br>
When the server starts, normally all services will not be
scheduled until the interval defined in the respective
service section. This can cause long delays before the <br>
first check of a service, and possibly a high load on the
server if multiple things are scheduled at the same
intervals. This option is used to randomize the scheduling
<br>
of the first test for all services during the startup
period, and immediately after the reset command. If
randstart is defined, the scheduled run time of all services
of <br>
all watch groups will be a random number between zero and
randstart seconds.</p>

<p style="margin-top: 1em">dep_recur_limit = depth <br>
Limit dependency recursion level to depth. If dependency
recursion (dependencies which depend on other dependencies)
tries to go beyond depth, then the recursion is <br>
aborted and a messages is logged to syslog. The default
limit is 10.</p>

<p style="margin-top: 1em">dep_behavior = {a|m|hm} <br>
dep_behavior controls whether the dependency expression
suppresses one of: the running of alerts, the running of
monitors, or the passing of individual hosts to the
moni&acirc; <br>
tors. Read more about the behavior in the &quot;Service
Definitions&quot; section below.</p>

<p style="margin-top: 1em">This is a global setting which
controls the default settings for the service-specified
variable.</p>

<p style="margin-top: 1em">dep_memory = timeval <br>
If set, dep_memory will cause dependencies to continue to
prevent alerts/monitoring for a period of time after the
service returns to a normal state. This can be used to <br>
prevent over-eager alerting when a machine is rebooting, for
example. See the explanation of interval in the
&quot;Service Definitions&quot; section for a description of
timeval.</p>

<p style="margin-top: 1em">This is a global setting which
controls the default settings for the service-specified
variable.</p>

<p style="margin-top: 1em">syslog_facility = facility <br>
Specifies the syslog facility used for logging. daemon is
the default.</p>

<p style="margin-top: 1em">startupalerts_on_reset =
{yes|no}</p>

<p style="margin-top: 1em">If set to &quot;yes&quot;,
startupalerts will be invoked when the reset client command
is executed. The default is &quot;no&quot;.</p>

<p style="margin-top: 1em">monremote = program</p>

<p style="margin-top: 1em">If set, this external program
will be called by Mon when various client requests are
processed. This can be used to propagate those changes from
one Mon server to <br>
another, if you have multiple monitoring machines. An
example script, monremote.pl is available in the clients
directory.</p>

<p style="margin-top: 1em">Hostgroup Entries <br>
Hostgroup entries begin with the keyword hostgroup, and are
followed by a hostgroup tag and one or more hostnames or IP
addresses, separated by whitespace. The hostgroup tag must
<br>
be composed of alphanumeric characters, a dash
(&quot;-&quot;), a period (&quot;.&quot;), or an underscore
(&quot;_&quot;). Non-blank lines following the first
hostgroup line are interpreted as more host&acirc; <br>
names. The hostgroup definition ends with a blank line. For
example:</p>

<p style="margin-top: 1em">hostgroup servers nameserver
smtpserver nntpserver <br>
nfsserver httpserver smbserver</p>

<p style="margin-top: 1em">hostgroup router_group cisco7000
agsplus</p>

<p style="margin-top: 1em">View Entries <br>
View entries begin with the keyword view, and are followed
by a view tag and the names of one or more hostgroups. The
view tag must be composed of alphanumeric characters, a <br>
dash (&quot;-&quot;), a period (&quot;.&quot;), or an
underscore (&quot;_&quot;). Non-blank lines following the
first view line are interpreted as more hostgroup names. The
view definition ends with a blank <br>
line. For example:</p>

<p style="margin-top: 1em">view servers dns-servers
web-servers file-servers <br>
mail-servers</p>

<p style="margin-top: 1em">view network-services routers
switches vpn-servers</p>

<p style="margin-top: 1em">Watch Group Entries <br>
Watch entries begin with a line that starts with the keyword
watch, followed by whitespace and a single word which
normally refers to a pre-defined hostgroup. If the second
word <br>
is not recognized as a hostgroup tag, a new hostgroup is
created whose tag is that word, and that word is its only
member.</p>

<p style="margin-top: 1em">Watch entries consist of one or
more service definitions.</p>

<p style="margin-top: 1em">A watch group is terminated by a
blank line, the end of the file, or by a subsequent
definition, &quot;watch&quot;, &quot;hostgroup&quot;, or
otherwise.</p>

<p style="margin-top: 1em">There may be a special watch
group entry called &quot;default&quot;. If a default watch
group is defined with a service entry named
&quot;default&quot;, then this definition will be used in
handling <br>
traps received for an unrecognized watch and service.</p>

<p style="margin-top: 1em">Service Definitions <br>
service servicename <br>
A service definition begins with they keyword service
followed by a word which is the tag for this service. This
word must be unique among all services defined for the <br>
same watch group.</p>

<p style="margin-top: 1em">The components of a service are
an interval, monitor, and one or more time period
definitions, as defined below.</p>

<p style="margin-top: 1em">If a service name of
&quot;default&quot; is defined within a watch group called
&quot;dafault&quot; (see above), then the default/default
definition will be used for handling unknown mon <br>
traps.</p>

<p style="margin-top: 1em">The following configuration
parameters are valid only following a service
definition:</p>

<p style="margin-top: 1em">VARIABLE=value <br>
Environment variables may be defined for each service, which
will be included in the environment of monitors and alerts.
Variables must be specified in all capital let&acirc; <br>
ters, must begin with an alphabetical character or an
underscore, and there must be no spaces to the left of the
equal sign.</p>

<p style="margin-top: 1em">interval timeval <br>
The keyword interval followed by a time value specifies the
frequency that a monitor script will be triggered. Time
values are defined as &quot;30s&quot;, &quot;5m&quot;,
&quot;1h&quot;, or &quot;1d&quot;, <br>
meaning 30 seconds, 5 minutes, 1 hour, or 1 day. The numeric
portion may be a fraction, such as &quot;1.5h&quot; or an
hour and a half. This format of a time specification will be
<br>
referred to as timeval.</p>

<p style="margin-top: 1em">failure_interval timeval <br>
Adjusts the polling interval to timeval when the service
check is failing. Resets the interval to the original when
the service succeeds.</p>

<p style="margin-top: 1em">traptimeout timeval <br>
This keyword takes the same time specification argument as
interval, and makes the service expect a trap from an
external source at least that often, else a failure will
<br>
be registered. This is used for a heartbeat-style
service.</p>

<p style="margin-top: 1em">trapduration timeval <br>
If a trap is received, the status of the service the trap
was delivered to will normally remain constant. If
trapduration is specified, the status of the service will
<br>
remain in a failure state for the duration specified by
timeval, and then it will be reset to
&quot;success&quot;.</p>

<p style="margin-top: 1em">randskew timeval <br>
Rather than schedule the monitor script to run at the start
of each interval, randomly adjust the interval specified by
the interval parameter by plus-or-minus randskew . <br>
The skew value is specified as the interval parameter:
&quot;30s&quot;, &quot;5m&quot;, etc... For example if
interval is 1m, and randskew is &quot;5s&quot;, then mon
will schedule the monitor script <br>
some time between every 55 seconds and 65 seconds. The
intent is to help distribute the load on the server when
many services are scheduled at the same intervals.</p>

<p style="margin-top: 1em">monitor monitor-name [arg...]
<br>
The keyword monitor followed by a script name and arguments
specifies the monitor to run when the timer expires.
Shell-like quoting conventions are followed when
specify&acirc; <br>
ing the arguments to send to the monitor script. The script
is invoked from the directory given with the -s argument,
and all following words are supplied as arguments to <br>
the monitor program, followed by the list of hosts in the
group referred to by the current watch group. If the monitor
line ends with &quot;;;&quot; as a separate word, the host
<br>
groups are not appended to the argument list when the
program is invoked.</p>

<p style="margin-top: 1em">allow_empty_group <br>
The allow_empty_group option will allow a monitor to be
invoked even when the hostgroup for that watch is empty
because of disabled hosts. The default behavior is not to
<br>
invoke the monitor when all hosts in a hostgroup have been
disabled.</p>

<p style="margin-top: 1em">description descriptiontext <br>
The text following description is queried by client
programs, passed to alerts and monitors via an environment
variable. It should contain a brief description of the
ser&acirc; <br>
vice, suitable for inclusion in an email or on a web
page.</p>

<p style="margin-top: 1em">exclude_hosts host [host...]
<br>
Any hosts listed after exclude_hosts will be excluded from
the service check.</p>

<p style="margin-top: 1em">exclude_period periodspec <br>
Do not run a scheduled monitor during the time identified by
periodspec.</p>

<p style="margin-top: 1em">depend dependexpression <br>
The depend keyword is used to specify a dependency
expression, which evaluates to either true of false, in the
boolean sense. Dependencies are actual Perl expressions,
<br>
and must obey all syntactical rules. The expressions are
evaluated in their own package space so as to not
accidentally have some unwanted side-effect. If a syntax
error <br>
is found when evaluating the expression, it is logged via
syslog.</p>

<p style="margin-top: 1em">Before evaluation, the following
substitutions on the expression occur: phrases which look
like &quot;group:service&quot; are substituted with the
value of the current operational <br>
status of that specified service. These opstatus
substitutions are computed recursively, so if service A
depends upon service B, and service B depends upon service
C, then <br>
service A depends upon service C. Successful operational
statuses (which evaluate to &quot;1&quot;) are
&quot;STAT_OK&quot;, &quot;STAT_COLDSTART&quot;,
&quot;STAT_WARMSTART&quot;, and &quot;STAT_UNKNOWN&quot;.
The word <br>
&quot;SELF&quot; (in all caps) can be used for the group
(e.g. &quot;SELF:service&quot;), and is an abbreviation for
the current watch group.</p>

<p style="margin-top: 1em">This feature can be used to
control alerts for services which are dependent on other
services, e.g. an SMTP test which is dependent upon the
machine being ping-reachable.</p>

<p style="margin-top: 1em">dep_behavior {a|m|hm} <br>
The evaluation of the dependency graphs specified via the
depend keyword can control the suppression of alert or
monitor invocations, or the suppression of individual <br>
hosts passed to the monitor.</p>

<p style="margin-top: 1em">Alert suppression. If this
option is set to &quot;a&quot;, then the dependency
expression will be evaluated after the monitor for the
service exits or after a trap is received. An <br>
alert will only be sent if the evaluation succeeds, meaning
that none of the nodes in the dependency graph indicate
failure.</p>

<p style="margin-top: 1em">Monitor suppression. If it is
set to &quot;m&quot;, then the dependency expression will be
evaulated before the monitor for the service is about to
run. If the evaulation suc&acirc; <br>
ceeds, then the monitor will be run. Otherwise, the monitor
will not be run and the status of the service will remain
the same.</p>

<p style="margin-top: 1em">Host suppression. If it is set
to &quot;hm&quot; then Mon will extract the list of
&quot;parent&quot; services from the dependency expression.
(In fact the expression can be just a list of <br>
services.) Then when the monitor for the service is about to
be run, for each host in the current hostgroup Mon will
search all the parent services which are currently <br>
failing and look for the hostname in the current summary
output. If the hostname is found, this host will be excluded
from this run of the monitor. This can be used to <br>
e.g. allow an SMTP test on a group of hosts to still be run
even when a single host is not ping-reachable. If all the
rest of the hosts are working fine, the service will <br>
be in an OK state, but if another host fails the SMTP test
Mon can still alert about that host even though the parent
dependency was failing. The dependency expression <br>
will not be used recursively in this case.</p>

<p style="margin-top: 1em">alertdepend dependexpression</p>

<p style="margin-top: 1em">monitordepend
dependexpression</p>

<p style="margin-top: 1em">hostdepend dependexpression <br>
These keywords allow you to specify multiple dependency
expressions of different types. Each one corresponds to the
different dep_behavior settings listed above. They <br>
will be evaluated independently in the different contexts as
listed above. If depend is present, it takes precedence over
the matching keyword, depending on the <br>
dep_behavior setting.</p>

<p style="margin-top: 1em">dep_memory timeval <br>
If set, dep_memory will cause dependencies to continue to
prevent alerts/monitoring for a period of time after the
service returns to a normal state. This can be used to <br>
prevent over-eager alerting when a machine is rebooting, for
example. See the explanation of interval in the
&quot;Service Definitions&quot; section for a description of
timeval.</p>

<p style="margin-top: 1em">redistribute alert [arg...] <br>
A service may have one redistribute option, which is a
special form of an an alert definition. This alert will be
called on every service status update, even sequential <br>
success status updates. This can be used to integrate Mon
with another monitoring system, or to link together multiple
Mon servers via an alert script that generates Mon <br>
traps. See the &quot;ALERT PROGRAMS&quot; section above for
a list of the parameters mon will pass automatically to
alert programs.</p>

<p style="margin-top: 1em">unack_summary <br>
Remove the &quot;acknowledged&quot; state from a service if
the summary component of the failure message changes. In
most common usage the summary is the list of hosts that are
<br>
failing, so additional hosts failing would remove an
ack.</p>

<p style="margin-top: 1em">Period Definitions <br>
Periods are used to define the conditions which should allow
alerts to be delivered.</p>

<p style="margin-top: 1em">period [label:] periodspec <br>
A period groups one or more alarms and variables which
control how often an alert happens when there is a failure.
The period definition has two forms. The first takes an <br>
argument which is a period specification from Patrick
Ryan&rsquo;s Time::Period Perl 5 module. Refer to
&quot;perldoc Time::Period&quot; for more information.</p>

<p style="margin-top: 1em">The second form requires a label
followed by a period specification, as defined above. The
label is a tag consisting of an alphabetic character or
underscore followed by <br>
zero or more alphanumerics or underscores and ending with a
colon. This form allows multiple periods with the same
period definition. One use is to have a period defini&acirc;
<br>
tion which has no alertafter or alertevery parameters for a
particular time period, and another for the same time period
with a different set of alerts that does contain <br>
those parameters.</p>

<p style="margin-top: 1em">Period definitions, in either
the first or second form, must be unique within each service
definition. For example, if you need to define two periods
both for &quot;wd {Sun- <br>
Sat}&quot;, then one or both of the period definitions must
specify a label such as &quot;period t1: wd {Sun-Sat}&quot;
and &quot;period t2: wd {Sun-Sat}&quot;.</p>

<p style="margin-top: 1em">alertevery timeval
[observe_detail | strict] <br>
The alertevery keyword (within a period definition) takes
the same type of argument as the interval variable, and
limits the number of times an alert is sent when the
ser&acirc; <br>
vice continues to fail. For example, if the interval is
&quot;1h&quot;, then only the alerts in the period section
will only be triggered once every hour. If the alertevery
keyword <br>
is omitted in a period entry, an alert will be sent out
every time a failure is detected. By default, if the summary
output of two successive failures changes, then the <br>
alertevery interval is overridden, and an alert will be
sent. If the string &quot;observe_detail&quot; is the last
argument, then both the summary and detail output lines will
be <br>
considered when comparing the output of successive failures.
If the string &quot;strict&quot; is the last argument, then
the output of the monitor or the state change of the
ser&acirc; <br>
vice will have no effect on when alerts are sent. That is,
&quot;alertevery 24h strict&quot; will send only one alert
every 24 hours, no matter what. Please refer to the ALERT
<br>
DECISION LOGIC section for a detailed explanation of how
alerts are suppressed.</p>

<p style="margin-top: 1em">alertafter num</p>

<p style="margin-top: 1em">alertafter num timeval</p>

<p style="margin-top: 1em">alertafter timeval <br>
The alertafter keyword (within a period section) has three
forms: only with the &quot;num&quot; argument, or with the
&quot;num timeval&quot; arguments, or only with the
&quot;timeval&quot; argument. <br>
In the first form, an alert will only be invoked after
&quot;num&quot; consecutive failures.</p>

<p style="margin-top: 1em">In the second form, the
arguments are a positive integer followed by an interval, as
described by the interval variable above. If these
parameters are specified, then the <br>
alerts for that period will only be called after that many
failures happen within that interval. For example, if
alertafter is given the arguments &quot;3 30m&quot;, then
the alert <br>
will be called if 3 failures happen within 30 minutes.</p>

<p style="margin-top: 1em">In the third form, the argument
is an interval, as described by the interval variable above.
Alerts for that period will only be called if the service
has been in a fail&acirc; <br>
ure state for more than the length of time desribed by the
interval, regardless of the number of failures noticed
within that interval.</p>

<p style="margin-top: 1em">numalerts num</p>

<p style="margin-top: 1em">This variable tells the server
to call no more than num alerts during a failure. The alert
counter is kept on a per-period basis, and is reset upon
each success.</p>

<p style="margin-top: 1em">no_comp_alerts</p>

<p style="margin-top: 1em">If this option is specified,
then upalerts will be called whenever the service state
changes from failure to success, rather than only after a
corresponding &quot;down&quot; alert.</p>

<p style="margin-top: 1em">alert alert [arg...] <br>
A period may contain multiple alerts, which are triggered
upon failure of the service. An alert is specified with the
alert keyword, followed by an optional exit parame&acirc;
<br>
ter, and arguments which are interpreted the same as the
monitor definition, but without the &quot;;;&quot;
exception. The exit parameter takes the form of exit=x or
exit=x-y and <br>
has the effect that the alert is only called if the exit
status of the monitor script falls within the range of the
exit parameter. If, for example, the alert line is <br>
alert exit=10-20 mail.alert mis then mail-alert will only be
invoked with mis as its arguments if the monitor
program&rsquo;s exit value is between 10 and 20. This
feature <br>
allows you to trigger different alerts at different severity
levels (like when free disk space goes from 8% to 3%).</p>

<p style="margin-top: 1em">See the ALERT PROGRAMS section
above for a list of the pramaeters mon will pass
automatically to alert programs.</p>

<p style="margin-top: 1em">upalert alert [arg...] <br>
An upalert is the compliment of an alert. An upalert is
called when a services makes the state transition from
failure to success, if a corresponding &quot;down&quot;
alert was <br>
previously sent. The upalert script is called supplying the
same parameters as the alert script, with the addition of
the -u parameter which is simply used to let an alert <br>
script know that it is being called as an upalert. Multiple
upalerts may be specified for each period definition. Set
the per-period no_comp_alerts option to send an <br>
upalert regardless if whether or not a &quot;down&quot;
alert was sent.</p>

<p style="margin-top: 1em">startupalert alert [arg...] <br>
A startupalert is only called when the mon server starts
execution, or when a &quot;reset&quot; command was issued to
the server, depending on the setting of the startu&acirc;
<br>
palerts_on_reset global. Unlike other alerts, startupalerts
are not called following the exit of a monitor, i.e. they
are called in their own right, therefore the
&quot;exit=&quot; <br>
argument is not applicable to startupalert.</p>

<p style="margin-top: 1em">upalertafter timeval <br>
The upalertafter parameter is specified as a string that
follows the syntax of the interval parameter
(&quot;30s&quot;, &quot;1m&quot;, etc.), and controls the
triggering of an upalert. If a <br>
service comes back up after being down for a time greater
than or equal to the value of this option, an upalert will
be called. Use this option to prevent upalerts to be <br>
called because of &quot;blips&quot; (brief outages).</p>

<p style="margin-top: 1em">AUTHENTICATION CONFIGURATION
FILE <br>
The file specified by the authfile variable in the
configuration file (or passed via the -A parameter) will be
loaded upon startup. This file defines restrictions upon
which <br>
client commands may be executed by which users. It is a text
file which consists of comments, command definitions, and
trap authentication parameters. A comment line begins with
<br>
optional whitespace followed by pound sign. Blank lines are
ignored.</p>

<p style="margin-top: 1em">The file is separated into a
command section and a trap section. Sections are specified
by a single line containing one of the following
statements:</p>

<p style="margin-top: 1em">command section</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">trap section</p>

<p style="margin-top: 1em">Lines following one of the above
statements apply to that section until either the end of the
file or another section begins.</p>

<p style="margin-top: 1em">A command definition consists of
a command, followed by a colon, followed by a
comma-separated list of users who may execute the command.
The default is that no users may exe&acirc; <br>
cute any commands unless they are explicitly allowed in this
configuration file. For clarity, a user can be denied by
prefixing the user name with &quot;!&quot;. If the word
&quot;AUTH_ANY&quot; is <br>
used for a username, then any authenticated user will be
allowed to execute the command. If the word &quot;all&quot;
is used for a username, then that command may be executed by
any user, <br>
authenticated or not.</p>

<p style="margin-top: 1em">The trap section allows
configuration of which users may send traps from which
hosts. The syntax is a source host (name or ip address),
whitespace, a username, whitespace, and a <br>
plaintext password for that user. If the source host is
&quot;*&quot;, then allow traps from any host. If the
username is &quot;*&quot;, then accept traps without regard
for the username or pass&acirc; <br>
word. If no hosts or users are specified, then no traps will
be accepted.</p>

<p style="margin-top: 1em">An example configuration
file:</p>

<p style="margin-top: 1em">command section <br>
list: all <br>
reset: root,admin <br>
loadstate: root <br>
savestate: root</p>

<p style="margin-top: 1em">trap section <br>
127.0.0.1 root r@@tp4sswrd</p>

<p style="margin-top: 1em">This means that all clients are
able to perform the list command, &quot;root&quot; is able
to perform &quot;reset&quot;, &quot;loadstate&quot;,
&quot;savestate&quot;, and &quot;admin&quot; is able to
execute the &quot;reset&quot; command.</p>

<p style="margin-top: 1em">CLIENT-SERVER INTERFACE <br>
The server listens on TCP port 2583, which may be overridden
using the -p port option. Commands are a single line each,
terminated by a newline. The server can handle any number
<br>
of simultaneous client connections.</p>

<p style="margin-top: 1em">CLIENT INTERFACE COMMANDS <br>
See manual page for moncmd.</p>

<p style="margin-top: 1em">MON TRAPPING <br>
Mon has the facility to receive special &quot;mon
traps&quot; from any local or remote machine. Currently, the
only available method for sending mon traps are through the
Mon::Client perl <br>
interface, though the UDP packet format is defined well
enough to permit the writing of traps in other
languages.</p>

<p style="margin-top: 1em">Traps are handled similarly to
monitors: a trap sends an operational status, summary line,
and description text, and mon generates an alert or upalert
as necessary.</p>

<p style="margin-top: 1em">Traps can be caught by any
watch/service group set up in the mon configuration file,
however it is suggested that you configure watch/service
groups specifically for the traps <br>
you expect to receive. When defining a special watch/service
group for traps, do not include a &quot;monitor&quot;
directive (as no monitor need be invoked). Since a monitor
is not being <br>
invoked, it is not necessary for the watch definition to
have a hostgroup which contains real host names. Just make
up a useful name, and mon will automatically create the
watch <br>
group for you.</p>

<p style="margin-top: 1em">Here is a simple config file
example:</p>

<p style="margin-top: 1em">watch trap-service <br>
service host1-disks <br>
description TRAP: for host1 disk status <br>
period wd {Sun-Sat} <br>
alert mail.alert someone@your.org <br>
upalert mail.alert -u someone@your.org</p>

<p style="margin-top: 1em">Since mon listens on a UDP port
for any trap, a default facility is available for handling
traps to unknown groups or services. To enable this
facility, you must include a <br>
&quot;default&quot; watch group with a &quot;default&quot;
service entry containing the specifics of alarms. If a
default/default watch group and service are not configured,
then unknown traps get <br>
logged via syslog, and no alarm is sent. NOTE: The
default/default facility is a single entity as far as
accounting and alarming go. Alarm programs which are not
aware of this <br>
fact may send confusing information when a failure trap
comes from one machine, followed by a success (ok) trap from
a different machine. See the alarm environment variable <br>
MON_TRAP_INTENDED above for a possible way around this. It
is intended that default/default be used as a facility to
catch unknown traps, and should not be relied upon to catch
<br>
all traps in a production environment. If you are lazy and
only want to use default/default for catching all traps, it
would be best to disable upalerts, and use the <br>
MON_TRAP_INTENDED environment variable in alert scripts to
make the alerts more meaningful to you.</p>

<p style="margin-top: 1em">Here is an example default
facility:</p>

<p style="margin-top: 1em">watch default <br>
service default <br>
description Default trap service <br>
period wd {Sun-Sat} <br>
alert mail.alert someone@your.org <br>
upalert mail.alert -u someone@your.org</p>

<p style="margin-top: 1em">EXAMPLES <br>
The mon distribution comes with an example configuration
called example.cf. Refer to that file for more
information.</p>

<p style="margin-top: 1em">SEE ALSO <br>
moncmd(1), Time::Period(3pm), Mon::Client(3pm)</p>

<p style="margin-top: 1em">HISTORY <br>
mon was written because I couldn&rsquo;t find anything out
there that did just what I needed, and nothing was worth
modifying to add the features I wanted. It doesn&rsquo;t
have a cool name, <br>
and that bothers me because I couldn&rsquo;t think of
one.</p>

<p style="margin-top: 1em">BUGS <br>
Report bugs to the email address below.</p>

<p style="margin-top: 1em">AUTHOR <br>
Jim Trocki &lt;trockij@arctic.org&gt;</p>

<p style="margin-top: 1em">Linux $Date: 2007/06/25 13:10:07
$ mon(8)</p>
<hr>
</body>
</html>
