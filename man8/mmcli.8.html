<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:13:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">mmcli(8) User Commands
mmcli(8)</p>

<p style="margin-top: 1em">NAME <br>
mmcli - Control and monitor the ModemManager</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mmcli [OPTION...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ModemManager is a DBus-powered Linux daemon which provides a
unified high level API for communicating with (mobile
broadband) modems. It acts as a standard RIL (Radio
Interface <br>
Layer) and may be used by different connection managers,
like NetworkManager. Thanks to the built-in plugin
architecture, ModemManager talks to very different kinds of
modems <br>
with very different kinds of ports. In addition to the
standard AT serial ports, Qualcomm-based QCDM and QMI ports
are also supported.</p>

<p style="margin-top: 1em">HELP OPTIONS <br>
-h, --help <br>
Show summary of options by group.</p>

<p style="margin-top: 1em">--help-all <br>
Show all groups and options.</p>

<p style="margin-top: 1em">--help-manager <br>
Show manager specific options.</p>

<p style="margin-top: 1em">--help-common <br>
Show common options. These are used for defining the device
an option operates on. For example, modems, bearers, SIMs,
SMS&rsquo;, etc.</p>

<p style="margin-top: 1em">--help-modem <br>
Show modem specific options.</p>

<p style="margin-top: 1em">--help-3gpp <br>
Show 3GPP specific options.</p>

<p style="margin-top: 1em">--help-cdma <br>
Show CDMA specific options.</p>

<p style="margin-top: 1em">--help-simple <br>
Show simple options. These are useful for getting connected
or disconnected and understanding the state of things as
fast as possible without worrying so much about the <br>
details.</p>

<p style="margin-top: 1em">--help-location <br>
Show location or positioning specific options.</p>

<p style="margin-top: 1em">--help-messaging <br>
Show messaging specific options. See also --help-sms which
is related.</p>

<p style="margin-top: 1em">--help-time <br>
Show time specific options.</p>

<p style="margin-top: 1em">--help-firmware <br>
Show firmware specific options.</p>

<p style="margin-top: 1em">--help-oma <br>
Show OMA specific options.</p>

<p style="margin-top: 1em">--help-sim <br>
Show SIM card specific options.</p>

<p style="margin-top: 1em">--help-bearer <br>
Show bearer specific options.</p>

<p style="margin-top: 1em">--help-sms <br>
Show SMS specific options. See also --help-messaging which
is related.</p>

<p style="margin-top: 1em">MANAGER OPTIONS <br>
-G, --set-logging=[ERR|WARN|INFO|DEBUG] <br>
Set the logging level in ModemManager daemon. For debugging
information you can supply DEBUG. Each value above DEBUG
provides less detail. In most cases ERR (for display&acirc;
<br>
ing errors) are the important messages.</p>

<p style="margin-top: 1em">The default mode is ERR.</p>

<p style="margin-top: 1em">-L, --list-modems <br>
List available modems.</p>

<p style="margin-top: 1em">-M, --monitor-modems <br>
List available modems and monitor modems added or
removed.</p>

<p style="margin-top: 1em">-S, --scan-modems <br>
Scan for any potential new modems. This is only useful when
expecting pure RS232 modems, as they are not notified
automatically by the kernel.</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
All options below take a PATH or INDEX argument. If no
action is provided, the default information about the modem,
bearer, etc. is shown instead.</p>

<p style="margin-top: 1em">The PATH and INDEX are created
automatically when the modem is plugged in. They can be
found using mmcli -L. This produces something like (for
modems only):</p>

<p style="margin-top: 1em">Found 1 modems: <br>
/org/freedesktop/ModemManager1/Modem/4</p>

<p style="margin-top: 1em">In this case, the INDEX is 4 and
the PATH is the entire string above.</p>

<p style="margin-top: 1em">However, for the bearers, SIMs
and SMS cases, the PATH is slightly different. The Modem is
replaced with the object name in use, like Bearer. For
example:</p>


<p style="margin-top: 1em">/org/freedesktop/ModemManager1/Bearer/4</p>

<p style="margin-top: 1em">-m, --modem=[PATH|INDEX] <br>
Specify a modem.</p>

<p style="margin-top: 1em">-b, --bearer=[PATH|INDEX] <br>
Specify a bearer.</p>

<p style="margin-top: 1em">-i, --sim=[PATH|INDEX] <br>
Specify a SIM card.</p>

<p style="margin-top: 1em">-s, --sms=[PATH|INDEX] <br>
Specify an SMS.</p>

<p style="margin-top: 1em">MODEM OPTIONS <br>
All of the modem options below make use of the --modem or -m
switch to specify the modem to act on.</p>

<p style="margin-top: 1em">Some operations require a MODE.
MODE can be any combination of the modes actually supported
by the modem. In the perfect case, the following are
possible:</p>

<p style="margin-top: 1em">&rsquo;2G&rsquo; - 2G
technologies, e.g. EDGE, CDMA1x <br>
&rsquo;3G&rsquo; - 3G technologies, e.g. HSPA, EV-DO <br>
&rsquo;4G&rsquo; - 4G technologies, e.g. LTE <br>
&rsquo;ANY&rsquo; - for all supported modes.</p>

<p style="margin-top: 1em">-w, --monitor-state <br>
Monitor the state of a given modem.</p>

<p style="margin-top: 1em">-e, --enable <br>
Enable a given modem.</p>

<p style="margin-top: 1em">This powers the antenna, starts
the automatic registration process and in general prepares
the modem to be connected.</p>

<p style="margin-top: 1em">-d, --disable <br>
Disable a given modem.</p>

<p style="margin-top: 1em">This disconnects the existing
connection(s) for the modem and puts it into a low power
mode.</p>

<p style="margin-top: 1em">-r, --reset <br>
Resets the modem to the settings it had when it was power
cycled.</p>

<p style="margin-top: 1em">--factory-reset=CODE <br>
Resets the modem to its original factory default
settings.</p>

<p style="margin-top: 1em">The CODE provided is vendor
specific. Without the correct vendor code, it&rsquo;s
unlikely this operation will succeed. This is not a common
user action.</p>

<p style="margin-top: 1em">--command=COMMAND <br>
Send an AT COMMAND to the given modem. For example, COMMAND
could be &rsquo;AT+GMM&rsquo; to probe for phone model
information. This operation is only available when
ModemManager is <br>
run in debug mode.</p>

<p style="margin-top: 1em">--list-bearers <br>
List packet data bearers that are available for the given
modem.</p>


<p style="margin-top: 1em">--create-bearer=[&rsquo;KEY1=VALUE1,KEY2=VALUE2,...&rsquo;]
<br>
Create a new packet data bearer for a given modem. The KEYs
and some VALUEs are listed below:</p>

<p style="margin-top: 1em">&rsquo;apn&rsquo; Access Point
Name. Required in 3GPP.</p>

<p style="margin-top: 1em">&rsquo;ip-type&rsquo; <br>
Addressing type. Given as a MMBearerIpFamily value (e.g.
&rsquo;ipv4&rsquo;, &rsquo;ipv6&rsquo;,
&rsquo;ipv4v6&rsquo;). Optional in 3GPP and CDMA.</p>

<p style="margin-top: 1em">&rsquo;allowed-auth&rsquo; <br>
Authentication method to use. Given as a MMBearerAllowedAuth
value (e.g.
&rsquo;none|pap|chap|mschap|mschapv2|eap&rsquo;). Optional
in 3GPP.</p>

<p style="margin-top: 1em">&rsquo;user&rsquo; User name (if
any) required by the network. Optional in 3GPP.</p>

<p style="margin-top: 1em">&rsquo;password&rsquo; <br>
Password (if any) required by the network. Optional in
3GPP.</p>

<p style="margin-top: 1em">&rsquo;allow-roaming&rsquo; <br>
Flag to tell whether connection is allowed during roaming,
given as a boolean value (i.e &rsquo;yes&rsquo; or
&rsquo;no&rsquo;). Optional in 3GPP.</p>

<p style="margin-top: 1em">&rsquo;rm-protocol&rsquo; <br>
Protocol of the Rm interface, given as a
MMModemCdmaRmProtocol value (e.g. &rsquo;async&rsquo;,
&rsquo;packet-relay&rsquo;,
&rsquo;packet-network-ppp&rsquo;,
&rsquo;packet-network-slip&rsquo;, &rsquo;stu-iii&rsquo;).
<br>
Optional in CDMA.</p>

<p style="margin-top: 1em">&rsquo;number&rsquo; <br>
Telephone number to dial. Required in POTS.</p>

<p style="margin-top: 1em">--delete-bearer=PATH <br>
Delete bearer from a given modem. This option explicitly
uses a PATH to define the bearer, you can not use an INDEX
to be deleted.</p>


<p style="margin-top: 1em">--set-allowed-modes=[MODE1|MODE2|...]
<br>
Set allowed modes for a given modem. For possible modes, see
the beginning of this section.</p>

<p style="margin-top: 1em">--set-bands=[BAND1|BAND2|...]
<br>
Set bands to be used for a given modem. These are frequency
ranges the modem should use. There are quite a number of
supported bands and listing them all here would be <br>
quite extensive. For details, see the MMModemBand
documentation.</p>

<p style="margin-top: 1em">An example would be:
&rsquo;egsm|dcs|pcs|g850&rsquo; to select all the GSM
frequency bands.</p>

<p style="margin-top: 1em">--set-preferred-mode=MODE <br>
Set the preferred MODE for the given modem. The MODE MUST be
one of the allowed modes as set with the --set-allowed-modes
option. Possible MODE arguments are detailed at <br>
the beginning of this section.</p>

<p style="margin-top: 1em">3GPP OPTIONS <br>
The 3rd Generation Partnership Project (3GPP) is a
collaboration between groups of telecommunications
associations. These options pertain to devices which support
3GPP.</p>

<p style="margin-top: 1em">Included are options to control
USSD (Unstructured Supplementary Service Data) sessions.</p>

<p style="margin-top: 1em">All of the 3GPP options below
make use of the --modem or -m switch to specify the modem to
act on.</p>

<p style="margin-top: 1em">--3gpp-scan <br>
Scan for available 3GPP networks.</p>

<p style="margin-top: 1em">--3gpp-register-home <br>
Request a given modem to register in its home network.</p>

<p style="margin-top: 1em">This registers with the default
network(s) specified by the modem,</p>


<p style="margin-top: 1em">--3gpp-register-in-operator=MCCMNC
<br>
Request a given modem to register on the network of the
given MCCMNC (Mobile Country Code, Mobile Network Code)
based operator. This code is used for GSM/LTE, CDMA, iDEN,
<br>
TETRA and UMTS public land mobile networks and some
satellite mobile networks. The ITU-T Recommendation E.212
defines mobile country codes.</p>

<p style="margin-top: 1em">--3gpp-ussd-status <br>
Request the status of ANY ongoing USSD session.</p>

<p style="margin-top: 1em">--3gpp-ussd-initiate=COMMAND
<br>
Request the given modem to initiate a USSD session with
COMMAND.</p>

<p style="margin-top: 1em">For example, COMMAND could be
&rsquo;*101#&rsquo; to give your current pre-pay
balance.</p>

<p style="margin-top: 1em">--3gpp-ussd-respond=RESPONSE
<br>
When initiating an USSD session, a RESPONSE may be needed by
a network-originated request. This option allows for
that.</p>

<p style="margin-top: 1em">--3gpp-ussd-cancel <br>
Cancel an ongoing USSD session for a given modem.</p>

<p style="margin-top: 1em">CDMA OPTIONS <br>
All CDMA (Code Division Multiple Access) options require the
--modem or -m option.</p>

<p style="margin-top: 1em">--cdma-activate=CARRIER <br>
Activate the given modem using OTA (Over the Air) settings.
The CARRIER is a code provided by the network for the
default settings they provide.</p>

<p style="margin-top: 1em">SIMPLE OPTIONS <br>
All simple options must be used with --modem or -m.</p>


<p style="margin-top: 1em">--simple-connect=[&rsquo;KEY1=VALUE1,KEY2=VALUE2,...&rsquo;]
<br>
Run a full connection sequence using KEY / VALUE pairs. You
can use the --create-bearer options, plus any of the
following ones:</p>

<p style="margin-top: 1em">&rsquo;pin&rsquo; SIM-PIN unlock
code.</p>

<p style="margin-top: 1em">&rsquo;operator-id&rsquo; <br>
ETSI MCC-MNC of a network to force registration.</p>

<p style="margin-top: 1em">--simple-disconnect <br>
Disconnect ALL connected bearers for a given modem.</p>

<p style="margin-top: 1em">--simple-status <br>
Display the status of the given modem.</p>

<p style="margin-top: 1em">LOCATION OPTIONS <br>
These options detail how to discover your location using
Global Positioning System (GPS) or directly from your mobile
network infrastructure (either 3GPP or 3GPP2).</p>

<p style="margin-top: 1em">All location options must be
used with --modem or -m.</p>

<p style="margin-top: 1em">--location-status <br>
Show the current status for discovering our location.</p>

<p style="margin-top: 1em">--location-get <br>
Show all location information available.</p>

<p style="margin-top: 1em">--location-enable-3gpp <br>
Enable location discovery using the 3GPP network.</p>

<p style="margin-top: 1em">--location-disable-3gpp <br>
Disable location discovery using the 3GPP network.</p>

<p style="margin-top: 1em">--location-get-3gpp <br>
Show 3GPP based location information (MCC, MNC, LAC,
CI).</p>

<p style="margin-top: 1em">--location-enable-gps-nmea <br>
Enable location discovery using GPS and reported with NMEA
traces.</p>

<p style="margin-top: 1em">--location-disable-gps-nmea <br>
Disable location discovery using GPS and NMEA traces.</p>

<p style="margin-top: 1em">--location-get-gps-nmea <br>
Show GPS based location with NMEA trace information.</p>

<p style="margin-top: 1em">--location-enable-gps-raw <br>
Enable location discovery using GPS and reported with raw
(i.e. longitude/latitude) values.</p>

<p style="margin-top: 1em">--location-disable-gps-raw <br>
Disable location discovery using GPS and raw values.</p>

<p style="margin-top: 1em">--location-get-gps-raw <br>
Show GPS based location information with raw values (e.g.
latitude, longitude).</p>

<p style="margin-top: 1em">--location-enable-cdma-bs <br>
Enable location discovery using the 3GPP2 network.</p>

<p style="margin-top: 1em">--location-disable-cdma-bs <br>
Disable location discovery using the 3GPP2 network.</p>

<p style="margin-top: 1em">--location-get-cdma-bs <br>
Show 3GPP2 based location information (location of the CDMA
base station).</p>

<p style="margin-top: 1em">--location-enable-gps-unmanaged
<br>
Enable location discovery using GPS but without taking
control of the NMEA tty port.</p>


<p style="margin-top: 1em">--location-disable-gps-unmanaged
<br>
Disable location discovery using GPS and unmanaged port.</p>

<p style="margin-top: 1em">MESSAGING OPTIONS <br>
All messaging options must be used with --modem or -m.</p>

<p style="margin-top: 1em">--messaging-status <br>
Show the status of the messaging support.</p>

<p style="margin-top: 1em">--messaging-list-sms <br>
List SMS messages available on a given modem.</p>


<p style="margin-top: 1em">--messaging-create-sms=[&rsquo;KEY1=VALUE1,...&rsquo;]
<br>
Create a new SMS on a given modem. KEYs can be any of the
following:</p>

<p style="margin-top: 1em">&rsquo;number&rsquo; <br>
Number to which the message is addressed.</p>

<p style="margin-top: 1em">&rsquo;text&rsquo; Message text,
in UTF-8. When sending, if the text is larger than the limit
of the technology or modem, the message will be broken into
multiple parts or messages. <br>
Note that text and data are never given at the same
time.</p>

<p style="margin-top: 1em">&rsquo;smsc&rsquo; Indicates the
SMS service center number.</p>

<p style="margin-top: 1em">&rsquo;validity&rsquo; <br>
Specifies when the SMS expires in the SMSC.</p>

<p style="margin-top: 1em">&rsquo;class&rsquo; <br>
3GPP message class (0..3).</p>


<p style="margin-top: 1em">&rsquo;delivery-report-request&rsquo;
<br>
Specifies whether delivery report is requested when sending
the SMS (&rsquo;yes&rsquo; or &rsquo;no&rsquo;)</p>

<p style="margin-top: 1em">&rsquo;storage&rsquo; <br>
Specifies the storage where this message is kept. Storages
may be &rsquo;sm&rsquo;, &rsquo;me&rsquo;, &rsquo;mt&rsquo;,
&rsquo;sr&rsquo;, &rsquo;bm&rsquo;, &rsquo;ta&rsquo;.</p>


<p style="margin-top: 1em">--messaging-create-sms-with-data=PATH
<br>
Use PATH to a filename as the data to create a new SMS.</p>

<p style="margin-top: 1em">--messaging-delete-sms=PATH <br>
Delete an SMS from a given modem. PATH indicates the SMS
path.</p>

<p style="margin-top: 1em">TIME OPTIONS <br>
All time operations require the --modem or -m option.</p>

<p style="margin-top: 1em">--time Display the current
network time from the operator. This includes the timezone
which is usually of importance.</p>

<p style="margin-top: 1em">FIRMWARE OPTIONS <br>
All firmware options require the --modem or -m option.</p>

<p style="margin-top: 1em">--firmware-list <br>
List all the firmware images installed on a given modem.</p>

<p style="margin-top: 1em">--firmware-select=ID <br>
Select a firmware image from those installed on a given
modem. A list of available firmware images can be seen using
the --firmware-list option.</p>

<p style="margin-top: 1em">The ID provided is a UNIQUE
identifier for the firmware.</p>

<p style="margin-top: 1em">OMA OPTIONS <br>
All OMA options require the --modem or -m option.</p>

<p style="margin-top: 1em">--oma-status <br>
Show the status of the OMA device management subsystem.</p>


<p style="margin-top: 1em">--oma-start-client-initiated-session=[SESSION
TYPE] <br>
Request to start a client initiated session.</p>

<p style="margin-top: 1em">The given session type must be
one of: <br>
&rsquo;client-initiated-device-configure&rsquo; <br>
&rsquo;client-initiated-prl-update&rsquo; <br>
&rsquo;client-initiated-hands-free-activation&rsquo;</p>


<p style="margin-top: 1em">--oma-accept-network-initiated-session=[SESSION
ID] <br>
Request to accept a network initiated session.</p>


<p style="margin-top: 1em">--oma-reject-network-initiated-session=[SESSION
ID] <br>
Request to reject a network initiated session.</p>

<p style="margin-top: 1em">--oma-cancel-session <br>
Request to cancel current OMA session, if any.</p>

<p style="margin-top: 1em">SIM OPTIONS <br>
--pin=PIN <br>
Send PIN code to a given SIM card.</p>

<p style="margin-top: 1em">--puk=PUK <br>
Send PUK code to a given SIM card. This must be used WITH
--pin.</p>

<p style="margin-top: 1em">--enable-pin <br>
Enable PIN request for a given SIM card. This must be used
WITH --pin.</p>

<p style="margin-top: 1em">--disable-pin <br>
Disable PIN request for a given SIM card. This must be used
WITH --pin.</p>

<p style="margin-top: 1em">--change-pin=PIN <br>
Change the PIN for a given SIM card. It will be set to PIN.
This must be used WITH --pin to supply the old PIN
number.</p>

<p style="margin-top: 1em">BEARER OPTIONS <br>
All bearer options require the --bearer or -b option.</p>

<p style="margin-top: 1em">-c, --connect <br>
Connect to a given bearer.</p>

<p style="margin-top: 1em">-x, --disconnect <br>
Disconnect from a given bearer.</p>

<p style="margin-top: 1em">SMS OPTIONS <br>
All SMS options require the --sms or -s option.</p>

<p style="margin-top: 1em">--send Send an SMS.</p>

<p style="margin-top: 1em">--store <br>
This option will store the SMS in the default storage
defined by the modem, which may be either modem-memory or
SMS-memory. To know what the existing default storage is,
<br>
see the --messaging-status option.</p>

<p style="margin-top: 1em">--store-in-storage=STORAGE <br>
This option states which STORAGE to use for SMS messages.
Possible values for STORAGE include:</p>

<p style="margin-top: 1em">&rsquo;sm&rsquo; SIM card
storage area.</p>

<p style="margin-top: 1em">&rsquo;me&rsquo; Mobile
equipment storage area.</p>

<p style="margin-top: 1em">&rsquo;mt&rsquo; Sum of SIM and
Mobile equipment storages</p>

<p style="margin-top: 1em">&rsquo;sr&rsquo; Status report
message storage area.</p>

<p style="margin-top: 1em">&rsquo;bm&rsquo; Broadcast
message storage area.</p>

<p style="margin-top: 1em">&rsquo;ta&rsquo; Terminal
adaptor message storage area.</p>

<p style="margin-top: 1em">--create-file-with-data=PATH
<br>
This option takes an SMS that has DATA (not TEXT) and will
create a local file described by PATH and store the content
of the SMS there.</p>

<p style="margin-top: 1em">APPLICATION OPTIONS <br>
-v, --verbose <br>
Perform actions with more details reported and/or
logged.</p>

<p style="margin-top: 1em">-V, --version <br>
Returns the version of this program.</p>

<p style="margin-top: 1em">-a, --async <br>
Use asynchronous methods. This is purely a development tool
and has no practical benefit to most user operations.</p>

<p style="margin-top: 1em">--timeout=SECONDS <br>
Use SECONDS for the timeout when performing operations with
this command. This option is useful when executing long
running operations, like --3gpp-scan.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Send the PIN to the SIM card <br>
You&rsquo;ll need first to know which the proper path/index
is for the SIM in your modem: <br>
$ mmcli -m 0 | grep SIM <br>
SIM | path:
&rsquo;/org/freedesktop/ModemManager1/SIM/0&rsquo;</p>

<p style="margin-top: 1em">And after that, you can just use
the SIM index: <br>
$ mmcli -i 0 --pin=1234 <br>
successfully sent PIN code to the SIM</p>

<p style="margin-top: 1em">Simple connect and disconnect
<br>
You can launch the simple connection process like: <br>
$ mmcli -m 0
--simple-connect=&quot;pin=1234,apn=internet&quot; <br>
successfully connected the modem</p>

<p style="margin-top: 1em">Then, you can disconnect it
like: <br>
$ mmcli -m 0 --simple-disconnect <br>
successfully disconnected all bearers in the modem</p>

<p style="margin-top: 1em">3GPP network scan <br>
Scanning for 3GPP networks may really take a long time, so a
specific timeout must be given: <br>
$ mmcli -m 0 --3gpp-scan --timeout=300</p>

<p style="margin-top: 1em">Found 4 networks: <br>
21404 - Yoigo (umts, available) <br>
21407 - Movistar (umts, current) <br>
21401 - vodafone ES (umts, forbidden) <br>
21403 - Orange (umts, forbidden)</p>

<p style="margin-top: 1em">Creating a new SMS message &amp;
storing it <br>
Using the &acirc;sm&acirc; (SIM), you can do this using:</p>

<p style="margin-top: 1em">$ mmcli -m 0
--messaging-create-sms=&quot;text=&rsquo;Hello
world&rsquo;,number=&rsquo;+1234567890&rsquo;&quot; <br>
Successfully created new SMS: <br>
/org/freedesktop/ModemManager1/SMS/21 (unknown)</p>

<p style="margin-top: 1em">$ sudo mmcli -s 21
--store-in-storage=&quot;sm&quot; <br>
successfully stored the SMS</p>

<p style="margin-top: 1em">$ sudo mmcli -s 21 <br>
SMS &rsquo;/org/freedesktop/ModemManager1/SMS/21&rsquo; <br>
----------------------------------- <br>
Content | number: &rsquo;+1234567890&rsquo; <br>
| text: &rsquo;Hello world&rsquo; <br>
----------------------------------- <br>
Properties | PDU type: &rsquo;submit&rsquo; <br>
| state: &rsquo;stored&rsquo; <br>
| smsc: &rsquo;unknown&rsquo; <br>
| validity: &rsquo;0&rsquo; <br>
| class: &rsquo;0&rsquo; <br>
| storage: &rsquo;sm&rsquo; <br>
| delivery report: &rsquo;not requested&rsquo; <br>
| message reference: &rsquo;0&rsquo;</p>

<p style="margin-top: 1em">$ sudo mmcli -m 0
--messaging-status <br>
/org/freedesktop/ModemManager1/Modem/0 <br>
---------------------------- <br>
Messaging | supported storages: &rsquo;sm, me&rsquo; <br>
| default storage: &rsquo;me&rsquo;</p>

<p style="margin-top: 1em">Sending SMS messages from files
<br>
As you can see below, the important part is the
--messaging-create-sms-with-data and the PATH provided.</p>

<p style="margin-top: 1em">$ sudo mmcli -m 0
--messaging-create-sms=&quot;number=&rsquo;+1234567890&rsquo;&quot;
--messaging-create-sms-with-data=/path/to/your/file <br>
Successfully created new SMS: <br>
/org/freedesktop/ModemManager1/SMS/22 (unknown)</p>

<p style="margin-top: 1em">$ sudo mmcli -s 22 --send <br>
successfully sent the SMS</p>

<p style="margin-top: 1em">Listing SMS messages <br>
When the receiver gets all the parts of the message, they
can now recover the sent file with another mmcli command in
their ModemManager setup:</p>

<p style="margin-top: 1em">$&gt; sudo mmcli -m 0
--messaging-list-sms <br>
Found 1 SMS messages: <br>
/org/freedesktop/ModemManager1/SMS/0 (received)</p>

<p style="margin-top: 1em">$&gt; sudo mmcli -s 0
--create-file-with-data=/path/to/the/output/file</p>

<p style="margin-top: 1em">GPS location status <br>
You first need to check whether the modem has GPS-specific
location capabilities. Note that we&acirc;ll assume the
modem is exposed as index 0; if you have more than one
modem, just <br>
use --list-modems to check the proper modem index:</p>

<p style="margin-top: 1em">$ mmcli -m 0 --location-status
<br>
/org/freedesktop/ModemManager1/Modem/0 <br>
---------------------------- <br>
Location | capabilities: &rsquo;3gpp-lac-ci, gps-raw,
gps-nmea&rsquo; <br>
| enabled: &rsquo;none&rsquo; <br>
| signals: &rsquo;no&rsquo;</p>

<p style="margin-top: 1em">The output says that the modem
supports 3GPP Location area code/Cell ID, GPS raw and
GPS-NMEA location sources. None is enabled yet, as we
didn&acirc;t enable the modem, which we can <br>
do issuing:</p>

<p style="margin-top: 1em">$ sudo mmcli -m 0 --enable <br>
successfully enabled the modem</p>

<p style="margin-top: 1em">$ mmcli -m 0 --location-status
<br>
/org/freedesktop/ModemManager1/Modem/0 <br>
---------------------------- <br>
Location | capabilities: &rsquo;3gpp-lac-ci, gps-raw,
gps-nmea&rsquo; <br>
| enabled: &rsquo;3gpp-lac-ci&rsquo; <br>
| signals: &rsquo;no&rsquo;</p>

<p style="margin-top: 1em">GPS location technology enabling
<br>
We can enable the RAW and NMEA GPS location sources
using:</p>

<p style="margin-top: 1em">$ sudo mmcli -m 0
--location-enable-gps-raw --location-enable-gps-nmea <br>
successfully setup location gathering</p>

<p style="margin-top: 1em">If we do check again the status,
we&acirc;ll see the GPS-specific locations are enabled:</p>

<p style="margin-top: 1em">$ mmcli -m 0 --location-status
<br>
/org/freedesktop/ModemManager1/Modem/0 <br>
---------------------------- <br>
Location | capabilities: &rsquo;3gpp-lac-ci, gps-raw,
gps-nmea&rsquo; <br>
| enabled: &rsquo;3gpp-lac-ci, gps-raw, gps-nmea&rsquo; <br>
| signals: &rsquo;no&rsquo;</p>

<p style="margin-top: 1em">GPS location retrieval <br>
You can query location source specific information with
--location-get-3gpp, --location-get-gps-nmea and
--location-get-gps-raw; but also for all at the same
time:</p>

<p style="margin-top: 1em">$ sudo mmcli -m 0 --location-get
<br>
/org/freedesktop/ModemManager1/Modem/0 <br>
------------------------- <br>
3GPP location | Mobile country code: &rsquo;214&rsquo; <br>
| Mobile network code: &rsquo;3&rsquo; <br>
| Location area code: &rsquo;21071&rsquo; <br>
| Cell ID: &rsquo;7033737&rsquo; <br>
------------------------- <br>
GPS NMEA traces | $GPGGA,,,,,,0,,,,,,,,*66 <br>
| $GPRMC,,V,,,,,,,,,,N*53 <br>
| $GPGSA,A,1,,,,,,,,,,,,,,,*1E <br>
| $GPGSV,4,1,16,24,,,,29,,,,05,,,,18,,,*7A <br>
| $GPGSV,4,2,16,22,,,,14,,,,11,,,,17,,,*7B <br>
| $GPGSV,4,3,16,03,,,,12,,,,30,,,,13,,,*78 <br>
| $GPGSV,4,4,16,23,,,,15,,,,27,,,,07,,,*79 <br>
| $GPVTG,,T,,M,,N,,K,N*2C <br>
------------------------- <br>
Raw GPS | Not available <br>
------------------------- <br>
CDMA BS | Not available</p>

<p style="margin-top: 1em">An example of RAW GPS location
information:</p>

<p style="margin-top: 1em">$ sudo mmcli -m 0
--location-get-gps-raw <br>
/org/freedesktop/ModemManager1/Modem/0 <br>
------------------------- <br>
Raw GPS | UTC time: &rsquo;155142.2&rsquo; <br>
| Longitude: &rsquo;-3.513941&rsquo; <br>
| Latitude: &rsquo;40.502603&rsquo; <br>
| Altitude: &rsquo;18.000000&rsquo;</p>

<p style="margin-top: 1em">AUTHOR <br>
Martyn Russell &lt;martyn@lanedo.com&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
ModemManager(8), NetworkManager(8)</p>

<p style="margin-top: 1em">AT
(http://en.wikipedia.org/wiki/AT_commands).</p>

<p style="margin-top: 1em">3GPP
(http://en.wikipedia.org/wiki/3GPP).</p>

<p style="margin-top: 1em">MCCMNC
(http://en.wikipedia.org/wiki/Mobile_Network_Code).</p>

<p style="margin-top: 1em">USSD
(http://en.wikipedia.org/wiki/Unstructured_Supplementary_Service_Data).</p>

<p style="margin-top: 1em">CDMA
(http://en.wikipedia.org/wiki/Code_division_multiple_access).</p>

<p style="margin-top: 1em">OTA
(http://en.wikipedia.org/wiki/Over-the-air_programming).</p>

<p style="margin-top: 1em">GPS
(http://en.wikipedia.org/wiki/Global_Positioning_System)</p>

<p style="margin-top: 1em">NMEA
(http://en.wikipedia.org/wiki/NMEA_0183)</p>

<p style="margin-top: 1em">GNU October 2012 mmcli(8)</p>
<hr>
</body>
</html>
