<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>mmcli(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mmcli(8)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">mmcli(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mmcli - Control and monitor the ModemManager
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>mmcli</b> [<i>OPTION</i>...]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
ModemManager is a DBus-powered Linux daemon which provides a unified high level
  API for communicating with (mobile broadband) modems. It acts as a standard
  RIL (Radio Interface Layer) and may be used by different connection managers,
  like NetworkManager. Thanks to the built-in plugin architecture, ModemManager
  talks to very different kinds of modems with very different kinds of ports. In
  addition to the standard AT serial ports, Qualcomm-based QCDM and QMI ports
  are also supported.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HELP_OPTIONS"><a class="selflink" href="#HELP_OPTIONS">HELP
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Show summary of options by group.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-all</b></dt>
  <dd class="It-tag">Show all groups and options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-manager</b></dt>
  <dd class="It-tag">Show manager specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-common</b></dt>
  <dd class="It-tag">Show common options. These are used for defining the device
      an option operates on. For example, modems, bearers, SIMs, SMS', etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-modem</b></dt>
  <dd class="It-tag">Show modem specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-3gpp</b></dt>
  <dd class="It-tag">Show 3GPP specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-cdma</b></dt>
  <dd class="It-tag">Show CDMA specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-simple</b></dt>
  <dd class="It-tag">Show simple options. These are useful for getting connected
      or disconnected and understanding the state of things as fast as possible
      without worrying so much about the details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-location</b></dt>
  <dd class="It-tag">Show location or positioning specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-messaging</b></dt>
  <dd class="It-tag">Show messaging specific options. See also <b>--help-sms</b>
      which is related.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-time</b></dt>
  <dd class="It-tag">Show time specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-firmware</b></dt>
  <dd class="It-tag">Show firmware specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-oma</b></dt>
  <dd class="It-tag">Show OMA specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-sim</b></dt>
  <dd class="It-tag">Show SIM card specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-bearer</b></dt>
  <dd class="It-tag">Show bearer specific options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-sms</b></dt>
  <dd class="It-tag">Show SMS specific options. See also <b>--help-messaging</b>
      which is related.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="MANAGER_OPTIONS"><a class="selflink" href="#MANAGER_OPTIONS">MANAGER
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G, --set-logging=[ERR|WARN|INFO|DEBUG]</b></dt>
  <dd class="It-tag">Set the logging level in ModemManager daemon. For debugging
      information you can supply <b>DEBUG</b>. Each value above <b>DEBUG</b>
      provides less detail. In most cases <b>ERR</b> (for displaying errors) are
      the important messages.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default mode is <b>ERR</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L, --list-modems</b></dt>
  <dd class="It-tag">List available modems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M, --monitor-modems</b></dt>
  <dd class="It-tag">List available modems and monitor modems added or
    removed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S, --scan-modems</b></dt>
  <dd class="It-tag">Scan for any potential new modems. This is only useful when
      expecting pure RS232 modems, as they are not notified automatically by the
      kernel.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMON_OPTIONS"><a class="selflink" href="#COMMON_OPTIONS">COMMON
  OPTIONS</a></h1>
All options below take a <b>PATH</b> or <b>INDEX</b> argument. If no action is
  provided, the default information about the modem, bearer, etc. is shown
  instead.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>PATH</b> and <b>INDEX</b> are created automatically when the modem is
  plugged in. They can be found using <b>mmcli -L</b>. This produces something
  like (for modems only):
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 7.00ex;">Found 1 modems:
<br/>
 /org/freedesktop/ModemManager1/Modem/ <b>4</b></div>
<div style="height: 1.00em;">&#x00A0;</div>
In this case, the <b>INDEX</b> is <b>4</b> and the <b>PATH</b> is the entire
  string above.
<div style="height: 1.00em;">&#x00A0;</div>
However, for the bearers, SIMs and SMS cases, the <b>PATH</b> is slightly
  different. The <i>Modem</i> is replaced with the object name in use, like
  <i>Bearer</i>. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 7.00ex;">/org/freedesktop/ModemManager1/<i>Bearer</i>/4</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m, --modem=[PATH|INDEX]</b></dt>
  <dd class="It-tag">Specify a modem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b, --bearer=[PATH|INDEX]</b></dt>
  <dd class="It-tag">Specify a bearer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --sim=[PATH|INDEX]</b></dt>
  <dd class="It-tag">Specify a SIM card.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --sms=[PATH|INDEX]</b></dt>
  <dd class="It-tag">Specify an SMS.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="MODEM_OPTIONS"><a class="selflink" href="#MODEM_OPTIONS">MODEM
  OPTIONS</a></h1>
All of the modem options below make use of the <b>--modem</b> or <b>-m</b>
  switch to specify the modem to act on.
<div style="height: 1.00em;">&#x00A0;</div>
Some operations require a <b>MODE</b>. <b>MODE</b> can be any combination of the
  modes actually supported by the modem. In the perfect case, the following are
  possible:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 <b>'2G'</b> - 2G technologies, e.g. EDGE, CDMA1x
<br/>
 <b>'3G'</b> - 3G technologies, e.g. HSPA, EV-DO
<br/>
 <b>'4G'</b> - 4G technologies, e.g. LTE
<br/>
 <b>'ANY'</b> - for all supported modes.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w, --monitor-state</b></dt>
  <dd class="It-tag">Monitor the state of a given modem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --enable</b></dt>
  <dd class="It-tag">Enable a given modem.
    <div style="height: 1.00em;">&#x00A0;</div>
    This powers the antenna, starts the automatic registration process and in
      general prepares the modem to be connected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --disable</b></dt>
  <dd class="It-tag">Disable a given modem.
    <div style="height: 1.00em;">&#x00A0;</div>
    This disconnects the existing connection(s) for the modem and puts it into a
      low power mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --reset</b></dt>
  <dd class="It-tag">Resets the modem to the settings it had when it was power
      cycled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--factory-reset=CODE</b></dt>
  <dd class="It-tag">Resets the modem to its original factory default settings.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>CODE</b> provided is vendor specific. Without the correct vendor
      code, it's unlikely this operation will succeed. This is not a common user
      action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--command=COMMAND</b></dt>
  <dd class="It-tag">Send an AT <b>COMMAND</b> to the given modem. For example,
      <b>COMMAND</b> could be 'AT+GMM' to probe for phone model information.
      This operation is only available when ModemManager is run in debug
    mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-bearers</b></dt>
  <dd class="It-tag">List packet data bearers that are available for the given
      modem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--create-bearer=['KEY1=VALUE1,KEY2=VALUE2,...']</b></dt>
  <dd class="It-tag">Create a new packet data bearer for a given modem. The
      <b>KEY</b>s and some <b>VALUE</b>s are listed below:</dd>
</dl>
<div style="margin-left: 9.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>'apn'</b></dt>
  <dd class="It-tag">Access Point Name. Required in 3GPP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'ip-type'</b></dt>
  <dd class="It-tag">Addressing type. Given as a MMBearerIpFamily value (e.g.
      'ipv4', 'ipv6', 'ipv4v6'). Optional in 3GPP and CDMA.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'allowed-auth'</b></dt>
  <dd class="It-tag">Authentication method to use. Given as a
      MMBearerAllowedAuth value (e.g. 'none|pap|chap|mschap|mschapv2|eap').
      Optional in 3GPP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'user'</b></dt>
  <dd class="It-tag">User name (if any) required by the network. Optional in
      3GPP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'password'</b></dt>
  <dd class="It-tag">Password (if any) required by the network. Optional in
      3GPP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'allow-roaming'</b></dt>
  <dd class="It-tag">Flag to tell whether connection is allowed during roaming,
      given as a boolean value (i.e 'yes' or 'no'). Optional in 3GPP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'rm-protocol'</b></dt>
  <dd class="It-tag">Protocol of the Rm interface, given as a
      MMModemCdmaRmProtocol value (e.g. 'async', 'packet-relay',
      'packet-network-ppp', 'packet-network-slip', 'stu-iii'). Optional in
    CDMA.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'number'</b></dt>
  <dd class="It-tag">Telephone number to dial. Required in POTS.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delete-bearer=PATH</b></dt>
  <dd class="It-tag">Delete bearer from a given modem. This option explicitly
      uses a <b>PATH</b> to define the bearer, you can not use an <b>INDEX</b>
      to be deleted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--set-allowed-modes=[MODE1|MODE2|...]</b></dt>
  <dd class="It-tag">Set allowed modes for a given modem. For possible modes,
      see the beginning of this section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--set-bands=[BAND1|BAND2|...]</b></dt>
  <dd class="It-tag">Set bands to be used for a given modem. These are frequency
      ranges the modem should use. There are quite a number of supported bands
      and listing them all here would be quite extensive. For details, see the
      MMModemBand documentation.
    <div style="height: 1.00em;">&#x00A0;</div>
    An example would be: 'egsm|dcs|pcs|g850' to select all the GSM frequency
      bands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--set-preferred-mode=MODE</b></dt>
  <dd class="It-tag">Set the preferred <b>MODE</b> for the given modem. The
      <b>MODE</b> <i>MUST</i> be one of the allowed modes as set with the
      <b>--set-allowed-modes</b> option. Possible <b>MODE</b> arguments are
      detailed at the beginning of this section.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="3GPP_OPTIONS"><a class="selflink" href="#3GPP_OPTIONS">3GPP
  OPTIONS</a></h1>
The 3rd Generation Partnership Project (3GPP) is a collaboration between groups
  of telecommunications associations. These options pertain to devices which
  support 3GPP.
<div style="height: 1.00em;">&#x00A0;</div>
Included are options to control USSD (Unstructured Supplementary Service Data)
  sessions.
<div style="height: 1.00em;">&#x00A0;</div>
All of the 3GPP options below make use of the <b>--modem</b> or <b>-m</b> switch
  to specify the modem to act on.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-scan</b></dt>
  <dd class="It-tag">Scan for available 3GPP networks.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-register-home</b></dt>
  <dd class="It-tag">Request a given modem to register in its home network.
    <div style="height: 1.00em;">&#x00A0;</div>
    This registers with the default network(s) specified by the modem,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-register-in-operator=MCCMNC</b></dt>
  <dd class="It-tag">Request a given modem to register on the network of the
      given <b>MCCMNC</b> (Mobile Country Code, Mobile Network Code) based
      operator. This code is used for GSM/LTE, CDMA, iDEN, TETRA and UMTS public
      land mobile networks and some satellite mobile networks. The ITU-T
      Recommendation E.212 defines mobile country codes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-ussd-status</b></dt>
  <dd class="It-tag">Request the status of <i>ANY</i> ongoing USSD session.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-ussd-initiate=COMMAND</b></dt>
  <dd class="It-tag">Request the given modem to initiate a USSD session with
      <b>COMMAND</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    For example, <b>COMMAND</b> could be '*101#' to give your current pre-pay
      balance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-ussd-respond=RESPONSE</b></dt>
  <dd class="It-tag">When initiating an USSD session, a RESPONSE may be needed
      by a network-originated request. This option allows for that.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--3gpp-ussd-cancel</b></dt>
  <dd class="It-tag">Cancel an ongoing USSD session for a given modem.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="CDMA_OPTIONS"><a class="selflink" href="#CDMA_OPTIONS">CDMA
  OPTIONS</a></h1>
All CDMA (Code Division Multiple Access) options require the <b>--modem</b> or
  <b>-m</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cdma-activate=CARRIER</b></dt>
  <dd class="It-tag">Activate the given modem using OTA (Over the Air) settings.
      The <b>CARRIER</b> is a code provided by the network for the default
      settings they provide.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SIMPLE_OPTIONS"><a class="selflink" href="#SIMPLE_OPTIONS">SIMPLE
  OPTIONS</a></h1>
All simple options must be used with <b>--modem</b> or <b>-m</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--simple-connect=['KEY1=VALUE1,KEY2=VALUE2,...']</b></dt>
  <dd class="It-tag">Run a full connection sequence using <b>KEY</b> /
      <b>VALUE</b> pairs. You can use the <b>--create-bearer</b> options, plus
      any of the following ones:</dd>
</dl>
<div style="margin-left: 9.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>'pin'</b></dt>
  <dd class="It-tag">SIM-PIN unlock code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'operator-id'</b></dt>
  <dd class="It-tag">ETSI MCC-MNC of a network to force registration.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--simple-disconnect</b></dt>
  <dd class="It-tag">Disconnect <i>ALL</i> connected bearers for a given
    modem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--simple-status</b></dt>
  <dd class="It-tag">Display the status of the given modem.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="LOCATION_OPTIONS"><a class="selflink" href="#LOCATION_OPTIONS">LOCATION
  OPTIONS</a></h1>
These options detail how to discover your location using Global Positioning
  System (GPS) or directly from your mobile network infrastructure (either 3GPP
  or 3GPP2).
<div style="height: 1.00em;">&#x00A0;</div>
All location options must be used with <b>--modem</b> or <b>-m</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-status</b></dt>
  <dd class="It-tag">Show the current status for discovering our location.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-get</b></dt>
  <dd class="It-tag">Show all location information available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-enable-3gpp</b></dt>
  <dd class="It-tag">Enable location discovery using the 3GPP network.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-disable-3gpp</b></dt>
  <dd class="It-tag">Disable location discovery using the 3GPP network.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-get-3gpp</b></dt>
  <dd class="It-tag">Show 3GPP based location information (MCC, MNC, LAC,
    CI).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-enable-gps-nmea</b></dt>
  <dd class="It-tag">Enable location discovery using GPS and reported with NMEA
      traces.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-disable-gps-nmea</b></dt>
  <dd class="It-tag">Disable location discovery using GPS and NMEA traces.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-get-gps-nmea</b></dt>
  <dd class="It-tag">Show GPS based location with NMEA trace information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-enable-gps-raw</b></dt>
  <dd class="It-tag">Enable location discovery using GPS and reported with raw
      (i.e. longitude/latitude) values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-disable-gps-raw</b></dt>
  <dd class="It-tag">Disable location discovery using GPS and raw values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-get-gps-raw</b></dt>
  <dd class="It-tag">Show GPS based location information with raw values (e.g.
      latitude, longitude).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-enable-cdma-bs</b></dt>
  <dd class="It-tag">Enable location discovery using the 3GPP2 network.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-disable-cdma-bs</b></dt>
  <dd class="It-tag">Disable location discovery using the 3GPP2 network.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-get-cdma-bs</b></dt>
  <dd class="It-tag">Show 3GPP2 based location information (location of the CDMA
      base station).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-enable-gps-unmanaged</b></dt>
  <dd class="It-tag">Enable location discovery using GPS but without taking
      control of the NMEA tty port.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location-disable-gps-unmanaged</b></dt>
  <dd class="It-tag">Disable location discovery using GPS and unmanaged port.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="MESSAGING_OPTIONS"><a class="selflink" href="#MESSAGING_OPTIONS">MESSAGING
  OPTIONS</a></h1>
All messaging options must be used with <b>--modem</b> or <b>-m</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--messaging-status</b></dt>
  <dd class="It-tag">Show the status of the messaging support.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--messaging-list-sms</b></dt>
  <dd class="It-tag">List SMS messages available on a given modem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--messaging-create-sms=['KEY1=VALUE1,...']</b></dt>
  <dd class="It-tag">Create a new SMS on a given modem. <b>KEY</b>s can be any
      of the following:</dd>
</dl>
<div style="margin-left: 9.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>'number'</b></dt>
  <dd class="It-tag">
    <br/>
     Number to which the message is addressed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'text'</b></dt>
  <dd class="It-tag">Message text, in UTF-8. When sending, if the text is larger
      than the limit of the technology or modem, the message will be broken into
      multiple parts or messages. Note that text and data are never given at the
      same time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'smsc'</b></dt>
  <dd class="It-tag">Indicates the SMS service center number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'validity'</b></dt>
  <dd class="It-tag">Specifies when the SMS expires in the SMSC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'class'</b></dt>
  <dd class="It-tag">3GPP message class (0..3).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'delivery-report-request'</b></dt>
  <dd class="It-tag">Specifies whether delivery report is requested when sending
      the SMS ('yes' or 'no')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'storage'</b></dt>
  <dd class="It-tag">Specifies the storage where this message is kept. Storages
      may be 'sm', 'me', 'mt', 'sr', 'bm', 'ta'.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--messaging-create-sms-with-data=PATH</b></dt>
  <dd class="It-tag">Use <b>PATH</b> to a filename as the data to create a new
      SMS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--messaging-delete-sms=PATH</b></dt>
  <dd class="It-tag">Delete an SMS from a given modem. <b>PATH</b> indicates the
      SMS path.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="TIME_OPTIONS"><a class="selflink" href="#TIME_OPTIONS">TIME
  OPTIONS</a></h1>
All time operations require the <b>--modem</b> or <b>-m</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--time</b></dt>
  <dd class="It-tag">Display the current network time from the operator. This
      includes the timezone which is usually of importance.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FIRMWARE_OPTIONS"><a class="selflink" href="#FIRMWARE_OPTIONS">FIRMWARE
  OPTIONS</a></h1>
All firmware options require the <b>--modem</b> or <b>-m</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--firmware-list</b></dt>
  <dd class="It-tag">List all the firmware images installed on a given
    modem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--firmware-select=ID</b></dt>
  <dd class="It-tag">Select a firmware image from those installed on a given
      modem. A list of available firmware images can be seen using the
      <b>--firmware-list</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>ID</b> provided is a <i>UNIQUE</i> identifier for the firmware.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OMA_OPTIONS"><a class="selflink" href="#OMA_OPTIONS">OMA
  OPTIONS</a></h1>
All OMA options require the <b>--modem</b> or <b>-m</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--oma-status</b></dt>
  <dd class="It-tag">Show the status of the OMA device management
    subsystem.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--oma-start-client-initiated-session=[SESSION
    TYPE]</b></dt>
  <dd class="It-tag">Request to start a client initiated session.
    <div style="height: 1.00em;">&#x00A0;</div>
    The given session type must be one of:
    <br/>
     'client-initiated-device-configure'
    <br/>
     'client-initiated-prl-update'
    <br/>
     'client-initiated-hands-free-activation'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--oma-accept-network-initiated-session=[SESSION
    ID]</b></dt>
  <dd class="It-tag">Request to accept a network initiated session.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--oma-reject-network-initiated-session=[SESSION
    ID]</b></dt>
  <dd class="It-tag">Request to reject a network initiated session.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--oma-cancel-session</b></dt>
  <dd class="It-tag">Request to cancel current OMA session, if any.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SIM_OPTIONS"><a class="selflink" href="#SIM_OPTIONS">SIM
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pin=PIN</b></dt>
  <dd class="It-tag">Send <b>PIN</b> code to a given SIM card.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--puk=PUK</b></dt>
  <dd class="It-tag">Send <b>PUK</b> code to a given SIM card. This must be used
      <i>WITH</i> <b>--pin</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-pin</b></dt>
  <dd class="It-tag">Enable PIN request for a given SIM card. This must be used
      <i>WITH</i> <b>--pin</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-pin</b></dt>
  <dd class="It-tag">Disable PIN request for a given SIM card. This must be used
      <i>WITH</i> <b>--pin</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--change-pin=PIN</b></dt>
  <dd class="It-tag">Change the PIN for a given SIM card. It will be set to
      <b>PIN</b>. This must be used <i>WITH</i> <b>--pin</b> to supply the old
      PIN number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BEARER_OPTIONS"><a class="selflink" href="#BEARER_OPTIONS">BEARER
  OPTIONS</a></h1>
All bearer options require the <b>--bearer</b> or <b>-b</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --connect</b></dt>
  <dd class="It-tag">Connect to a given bearer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x, --disconnect</b></dt>
  <dd class="It-tag">Disconnect from a given bearer.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SMS_OPTIONS"><a class="selflink" href="#SMS_OPTIONS">SMS
  OPTIONS</a></h1>
All SMS options require the <b>--sms</b> or <b>-s</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--send</b></dt>
  <dd class="It-tag">Send an SMS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--store</b></dt>
  <dd class="It-tag">This option will store the SMS in the default storage
      defined by the modem, which may be either modem-memory or SMS-memory. To
      know what the existing default storage is, see the
      <b>--messaging-status</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--store-in-storage=STORAGE</b></dt>
  <dd class="It-tag">This option states which <b>STORAGE</b> to use for SMS
      messages. Possible values for <b>STORAGE</b> include:</dd>
</dl>
<div style="margin-left: 9.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>'sm'</b></dt>
  <dd class="It-tag">SIM card storage area.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'me'</b></dt>
  <dd class="It-tag">Mobile equipment storage area.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'mt'</b></dt>
  <dd class="It-tag">Sum of SIM and Mobile equipment storages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'sr'</b></dt>
  <dd class="It-tag">Status report message storage area.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'bm'</b></dt>
  <dd class="It-tag">Broadcast message storage area.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>'ta'</b></dt>
  <dd class="It-tag">Terminal adaptor message storage area.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--create-file-with-data=PATH</b></dt>
  <dd class="It-tag">This option takes an SMS that has <i>DATA</i> (not
      <i>TEXT</i>) and will create a local file described by <b>PATH</b> and
      store the content of the SMS there.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="APPLICATION_OPTIONS"><a class="selflink" href="#APPLICATION_OPTIONS">APPLICATION
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Perform actions with more details reported and/or
    logged.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V, --version</b></dt>
  <dd class="It-tag">Returns the version of this program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a, --async</b></dt>
  <dd class="It-tag">Use asynchronous methods. This is purely a development tool
      and has no practical benefit to most user operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--timeout=SECONDS</b></dt>
  <dd class="It-tag">Use <b>SECONDS</b> for the timeout when performing
      operations with this command. This option is useful when executing long
      running operations, like --3gpp-scan.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Send_the_PIN_to_the_SIM_card"><a class="selflink" href="#Send_the_PIN_to_the_SIM_card">Send
  the PIN to the SIM card</a></h2>
You'll need first to know which the proper path/index is for the SIM in your
  modem:
<br/>
 $ mmcli -m 0 | grep SIM
<br/>
 SIM | path: '/org/freedesktop/ModemManager1/SIM/0'
<div style="height: 1.00em;">&#x00A0;</div>
And after that, you can just use the SIM index:
<br/>
 $ mmcli -i 0 --pin=1234
<br/>
 successfully sent PIN code to the SIM
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Simple_connect_and_disconnect"><a class="selflink" href="#Simple_connect_and_disconnect">Simple
  connect and disconnect</a></h2>
You can launch the simple connection process like:
<br/>
 $ mmcli -m 0 --simple-connect=&quot;pin=1234,apn=internet&quot;
<br/>
 successfully connected the modem
<div style="height: 1.00em;">&#x00A0;</div>
Then, you can disconnect it like:
<br/>
 $ mmcli -m 0 --simple-disconnect
<br/>
 successfully disconnected all bearers in the modem
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="3GPP_network_scan"><a class="selflink" href="#3GPP_network_scan">3GPP
  network scan</a></h2>
Scanning for 3GPP networks may really take a long time, so a specific timeout
  must be given:
<br/>
 $ mmcli -m 0 --3gpp-scan --timeout=300
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Found 4 networks:
<br/>
 21404 - Yoigo (umts, available)
<br/>
 21407 - Movistar (umts, current)
<br/>
 21401 - vodafone ES (umts, forbidden)
<br/>
 21403 - Orange (umts, forbidden)
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Creating_a_new_SMS_message_&amp;_storing_it"><a class="selflink" href="#Creating_a_new_SMS_message_&amp;_storing_it">Creating
  a new SMS message &amp; storing it</a></h2>
Using the &#x201C;sm&#x201D; (SIM), you can do this using:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ mmcli -m 0 --messaging-create-sms=&quot;text='Hello
  world',number='+1234567890'&quot;
<br/>
 Successfully created new SMS:
<br/>
 /org/freedesktop/ModemManager1/SMS/21 (unknown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -s 21 --store-in-storage=&quot;sm&quot;
<br/>
 successfully stored the SMS
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -s 21
<br/>
 SMS '/org/freedesktop/ModemManager1/SMS/21'
<br/>
 -----------------------------------
<br/>
 Content | number: '+1234567890'
<br/>
 | text: 'Hello world'
<br/>
 -----------------------------------
<br/>
 Properties | PDU type: 'submit'
<br/>
 | state: 'stored'
<br/>
 | smsc: 'unknown'
<br/>
 | validity: '0'
<br/>
 | class: '0'
<br/>
 | storage: 'sm'
<br/>
 | delivery report: 'not requested'
<br/>
 | message reference: '0'
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -m 0 --messaging-status
<br/>
 /org/freedesktop/ModemManager1/Modem/0
<br/>
 ----------------------------
<br/>
 Messaging | supported storages: 'sm, me'
<br/>
 | default storage: 'me'
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Sending_SMS_messages_from_files"><a class="selflink" href="#Sending_SMS_messages_from_files">Sending
  SMS messages from files</a></h2>
As you can see below, the important part is the
  <b>--messaging-create-sms-with-data</b> and the <b>PATH</b> provided.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -m 0 \
<br/>
 --messaging-create-sms=&quot;number='+1234567890'&quot; \
<br/>
 --messaging-create-sms-with-data=/path/to/your/file
<br/>
 Successfully created new SMS:
<br/>
 /org/freedesktop/ModemManager1/SMS/22 (unknown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -s 22 --send
<br/>
 successfully sent the SMS
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Listing_SMS_messages"><a class="selflink" href="#Listing_SMS_messages">Listing
  SMS messages</a></h2>
When the receiver gets all the parts of the message, they can now recover the
  sent file with another <b>mmcli</b> command in their ModemManager setup:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $&gt; sudo mmcli -m 0 --messaging-list-sms
<br/>
 Found 1 SMS messages:
<br/>
 /org/freedesktop/ModemManager1/SMS/0 (received)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $&gt; sudo mmcli -s 0 --create-file-with-data=/path/to/the/output/file
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="GPS_location_status"><a class="selflink" href="#GPS_location_status">GPS
  location status</a></h2>
You first need to check whether the modem has GPS-specific location
  capabilities. Note that we&#x2019;ll assume the modem is exposed as index 0;
  if you have more than one modem, just use --list-modems to check the proper
  modem index:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ mmcli -m 0 --location-status
<br/>
 /org/freedesktop/ModemManager1/Modem/0
<br/>
 ----------------------------
<br/>
 Location | capabilities: '3gpp-lac-ci, gps-raw, gps-nmea'
<br/>
 | enabled: 'none'
<br/>
 | signals: 'no'
<div style="height: 1.00em;">&#x00A0;</div>
The output says that the modem supports 3GPP Location area code/Cell ID, GPS raw
  and GPS-NMEA location sources. None is enabled yet, as we didn&#x2019;t enable
  the modem, which we can do issuing:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -m 0 --enable
<br/>
 successfully enabled the modem
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ mmcli -m 0 --location-status
<br/>
 /org/freedesktop/ModemManager1/Modem/0
<br/>
 ----------------------------
<br/>
 Location | capabilities: '3gpp-lac-ci, gps-raw, gps-nmea'
<br/>
 | enabled: '3gpp-lac-ci'
<br/>
 | signals: 'no'
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="GPS_location_technology_enabling"><a class="selflink" href="#GPS_location_technology_enabling">GPS
  location technology enabling</a></h2>
We can enable the RAW and NMEA GPS location sources using:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -m 0 \
<br/>
 --location-enable-gps-raw \
<br/>
 --location-enable-gps-nmea
<br/>
 successfully setup location gathering
<div style="height: 1.00em;">&#x00A0;</div>
If we do check again the status, we&#x2019;ll see the GPS-specific locations are
  enabled:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ mmcli -m 0 --location-status
<br/>
 /org/freedesktop/ModemManager1/Modem/0
<br/>
 ----------------------------
<br/>
 Location | capabilities: '3gpp-lac-ci, gps-raw, gps-nmea'
<br/>
 | enabled: '3gpp-lac-ci, gps-raw, gps-nmea'
<br/>
 | signals: 'no'
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="GPS_location_retrieval"><a class="selflink" href="#GPS_location_retrieval">GPS
  location retrieval</a></h2>
You can query location source specific information with
  <b>--location-get-3gpp</b>, <b>--location-get-gps-nmea</b> and
  <b>--location-get-gps-raw</b>; but also for all at the same time:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -m 0 --location-get
<br/>
 /org/freedesktop/ModemManager1/Modem/0
<br/>
 -------------------------
<br/>
 3GPP location | Mobile country code: '214'
<br/>
 | Mobile network code: '3'
<br/>
 | Location area code: '21071'
<br/>
 | Cell ID: '7033737'
<br/>
 -------------------------
<br/>
 GPS NMEA traces | $GPGGA,,,,,,0,,,,,,,,*66
<br/>
 | $GPRMC,,V,,,,,,,,,,N*53
<br/>
 | $GPGSA,A,1,,,,,,,,,,,,,,,*1E
<br/>
 | $GPGSV,4,1,16,24,,,,29,,,,05,,,,18,,,*7A
<br/>
 | $GPGSV,4,2,16,22,,,,14,,,,11,,,,17,,,*7B
<br/>
 | $GPGSV,4,3,16,03,,,,12,,,,30,,,,13,,,*78
<br/>
 | $GPGSV,4,4,16,23,,,,15,,,,27,,,,07,,,*79
<br/>
 | $GPVTG,,T,,M,,N,,K,N*2C
<br/>
 -------------------------
<br/>
 Raw GPS | Not available
<br/>
 -------------------------
<br/>
 CDMA BS | Not available
<div style="height: 1.00em;">&#x00A0;</div>
An example of RAW GPS location information:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ sudo mmcli -m 0 --location-get-gps-raw
<br/>
 /org/freedesktop/ModemManager1/Modem/0
<br/>
 -------------------------
<br/>
 Raw GPS | UTC time: '155142.2'
<br/>
 | Longitude: '-3.513941'
<br/>
 | Latitude: '40.502603'
<br/>
 | Altitude: '18.000000'
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Martyn Russell &lt;martyn@lanedo.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ModemManager</b>(8), <b>NetworkManager</b>(8)
<div style="height: 1.00em;">&#x00A0;</div>
AT (http://en.wikipedia.org/wiki/AT_commands).
<div style="height: 1.00em;">&#x00A0;</div>
3GPP (http://en.wikipedia.org/wiki/3GPP).
<div style="height: 1.00em;">&#x00A0;</div>
MCCMNC (http://en.wikipedia.org/wiki/Mobile_Network_Code).
<div style="height: 1.00em;">&#x00A0;</div>
USSD (http://en.wikipedia.org/wiki/Unstructured_Supplementary_Service_Data).
<div style="height: 1.00em;">&#x00A0;</div>
CDMA (http://en.wikipedia.org/wiki/Code_division_multiple_access).
<div style="height: 1.00em;">&#x00A0;</div>
OTA (http://en.wikipedia.org/wiki/Over-the-air_programming).
<div style="height: 1.00em;">&#x00A0;</div>
GPS (http://en.wikipedia.org/wiki/Global_Positioning_System)
<div style="height: 1.00em;">&#x00A0;</div>
NMEA (http://en.wikipedia.org/wiki/NMEA_0183)</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 2012</td>
    <td class="foot-os">GNU</td>
  </tr>
</table>
</body>
</html>
