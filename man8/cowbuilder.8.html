<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:09:43 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>cowbuilder(8) cowdancer cowbuilder(8)</p>

<p style="margin-top: 1em">NAME <br>
cowbuilder - a pbuilder wrapper for cowdancer.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cowbuilder create [options]</p>

<p style="margin-top: 1em">cowbuilder update [options]</p>

<p style="margin-top: 1em">cowbuilder build [options]
.dsc-file</p>

<p style="margin-top: 1em">cowbuilder login [options]</p>

<p style="margin-top: 1em">cowbuilder execute [options] --
script [script options]</p>

<p style="margin-top: 1em">cowbuilder dumpconfig</p>

<p style="margin-top: 1em">DESCRIPTION <br>
cowbuilder Executes the specified pbuilder operation with
cowdancer</p>

<p style="margin-top: 1em">COMMANDS <br>
Most commands invoke pbuilder with the specified commands,
see pbuilder manual for details.</p>

<p style="margin-top: 1em">create Create the base.cow
image. The directory for base.cow should be empty, or this
command will fail.</p>

<p style="margin-top: 1em">update, up, u <br>
Update the base.cow image.</p>

<p style="margin-top: 1em">build, b <br>
Build a package given a .dsc file</p>

<p style="margin-top: 1em">login, l <br>
Start a session within the base.cow.</p>

<p style="margin-top: 1em">execute, e <br>
Execute a command within the base.cow.</p>

<p style="margin-top: 1em">dumpconfig <br>
Dump configuration information, used for debugging.</p>

<p style="margin-top: 1em">OPTIONS <br>
Most options are the same as pbuilder, except for the
following which are handled specially</p>

<p style="margin-top: 1em">--buildplace <br>
The place where COW operation takes place.</p>

<p style="margin-top: 1em">--basepath <br>
This has a very different meaning to the --basetgz option of
pbuilder, since there is no tgz. This option specifies the
directory in which the COW master data is stored, <br>
the default being /var/cache/pbuilder/base.cow</p>

<p style="margin-top: 1em">--configfile [configuration file
to load] <br>
Additional configuration file to read after all other
configuration files have been read.</p>

<p style="margin-top: 1em">--no-cowdancer-update <br>
Do not use cowdancer on cowbuilder update. Please use this
option when cowdancer is interfering with upgrade process,
or cowdancer itself is being upgraded within chroot.</p>

<p style="margin-top: 1em">--debian-etch-workaround <br>
Workaround for Debian Etch. cow-shell will search for all
files in the chroot, but will work.</p>

<p style="margin-top: 1em">CONFIGURATION FILES <br>
cowbuilder reads the following configuration files per
default.</p>

<p style="margin-top: 1em">/usr/share/pbuilder/pbuilderrc
<br>
Application default, not to be changed.</p>

<p style="margin-top: 1em">/etc/pbuilderrc <br>
System-wide default.</p>

<p style="margin-top: 1em">~/.pbuilderrc <br>
User default</p>

<p style="margin-top: 1em">anything specified with
--configfile option <br>
Additional configuration at runtime.</p>

<p style="margin-top: 1em">CONFIGURATION FILE OPTIONS <br>
The possible configuration options are as follows. Others
are ignored.</p>

<p style="margin-top: 1em">DISTRIBUTION=distribution</p>

<p style="margin-top: 1em">BUILDRESULT=directory</p>

<p style="margin-top: 1em">BUILDPLACE=directory</p>

<p style="margin-top: 1em">BASEPATH=path</p>

<p style="margin-top: 1em">MIRRORSITE=http://mirror</p>

<p style="margin-top: 1em">NO_COWDANCER_UPDATE=1 <br>
See --no-cowdancer-update</p>

<p style="margin-top: 1em">DEBIAN_ETCH_WORKAROUND=1 <br>
See --debian-etch-workaround</p>

<p style="margin-top: 1em">EXAMPLES <br>
cowbuilder create <br>
Create a base.cow image.</p>

<p style="margin-top: 1em"># cowbuilder create --hookdir
/usr/share/doc/pbuilder/examples/workaround/ --distribution
etch --debootstrap debootstrap --basepath
/var/cache/pbuilder/base-test.cow <br>
bash: /root/.pbuilderrc: No such file or directory <br>
W: /home/dancer/.pbuilderrc does not exist <br>
I: Running in no-targz mode <br>
Distribution is etch. <br>
Building the build environment <br>
I: running debootstrap <br>
/usr/sbin/debootstrap <br>
I: Retrieving Release <br>
. <br>
.</p>

<p style="margin-top: 1em">cowbuilder update <br>
Update the base.cow image.</p>

<p style="margin-top: 1em"># cowbuilder update <br>
bash: /root/.pbuilderrc: No such file or directory <br>
I: Copying COW directory <br>
I: Invoking pbuilder <br>
W: /home/dancer/.pbuilderrc does not exist <br>
I: Running in no-targz mode <br>
I: copying local configuration <br>
I: mounting /proc filesystem <br>
I: mounting /dev/pts filesystem <br>
I: policy-rc.d already exists <br>
Refreshing the base.tgz <br>
I: upgrading packages <br>
. <br>
.</p>

<p style="margin-top: 1em">cowbuilder build test_0.1.dsc
<br>
Build the package specified in dsc file, with the base.cow
image.</p>

<p style="margin-top: 1em">pdebuild --pbuilder cowbuilder
<br>
Run cowbuilder build against the current directory. The
current directory should be an extracted Debian source
package directory.</p>

<p style="margin-top: 1em">Edit /etc/pbuilderrc to have
PDEBUILD_PBUILDER=cowbuilder to make this the default
behavior for pdebuild.</p>

<p style="margin-top: 1em">cowbuilder login --bindmounts
/home/dancer <br>
Start a cow-shell session inside base.cow, with /home/dancer
being bind-mounted to within chroot.</p>

<p style="margin-top: 1em">Note that cowbuilder will not
cow-protect what is inside /home/</p>

<p style="margin-top: 1em"># cowbuilder login --bindmount
${HOME} <br>
bash: /root/.pbuilderrc: No such file or directory <br>
I: Copying COW directory <br>
I: Invoking pbuilder <br>
W: /home/dancer/.pbuilderrc does not exist <br>
I: Running in no-targz mode <br>
I: copying local configuration <br>
I: mounting /proc filesystem <br>
I: mounting /dev/pts filesystem <br>
I: Mounting /home/dancer <br>
I: policy-rc.d already exists <br>
I: entering the shell <br>
#</p>

<p style="margin-top: 1em">cowbuilder create --distribution
sid --basepath /var/cache/pbuilder/base-test.cow <br>
Create a base.cow image with the path
/var/cache/pbuilder/base-test.cow and distribution sid.</p>

<p style="margin-top: 1em">AUTHOR <br>
Junichi Uekawa (dancer@debian.org)</p>

<p style="margin-top: 1em">SEE ALSO <br>
/usr/share/doc/pbuilder/pbuilder-doc.html, pbuilder(8),
pdebuild(1)</p>

<p style="margin-top: 1em">cowdancer 2007 Jun 17
cowbuilder(8)</p>
<hr>
</body>
</html>
