<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>IBFINDNODESUSING(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IBFINDNODESUSING(8)</td>
    <td class="head-vol">Open IB Diagnostics</td>
    <td class="head-rtitle">IBFINDNODESUSING(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
IBFINDNODESUSING -
<h1 class="Sh" title="Sh" id="FIND_A_LIST_OF_END_NODES_WHICH_ARE_ROUTED_THROUGH_THE_SPECIFIED_SWITCH_AND_PORT"><a class="selflink" href="#FIND_A_LIST_OF_END_NODES_WHICH_ARE_ROUTED_THROUGH_THE_SPECIFIED_SWITCH_AND_PORT">FIND
  A LIST OF END NODES WHICH ARE ROUTED THROUGH THE SPECIFIED SWITCH AND
  PORT</a></h1>
<h2 class="Ss" title="Ss" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h2>
ibfindnodesusing.pl [options] &lt;switch_guid|switch_name&gt; &lt;port&gt;
<h2 class="Ss" title="Ss" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h2>
ibfindnodesusing.pl uses ibroute and detects the current nodes which are routed
  through both directions of the link specified. The link is specified by one
  switch port end; the script finds the remote end automatically.
<h2 class="Ss" title="Ss" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b></b></dt>
  <dd class="It-tag">show help</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-R</b></b></dt>
  <dd class="It-tag">Recalculate the ibnetdiscover information, ie do not use
      the cached information. This option is slower but should be used if the
      diag tools have not been used for some time or if there are other reasons
      to believe that the fabric has changed.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-C &lt;ca_name&gt;</b> use the specified ca_name.
<div style="height: 1.00em;">&#x00A0;</div>
<b>-P &lt;ca_port&gt;</b> use the specified ca_port.
<h2 class="Ss" title="Ss" id="FILES"><a class="selflink" href="#FILES">FILES</a></h2>
<h2 class="Ss" title="Ss" id="CONFIG_FILE"><a class="selflink" href="#CONFIG_FILE">CONFIG
  FILE</a></h2>
/etc/infiniband-diags/ibdiag.conf
<div style="height: 1.00em;">&#x00A0;</div>
A global config file is provided to set some of the common options for all
  tools. See supplied config file for details.
<h2 class="Ss" title="Ss" id="NODE_NAME_MAP_FILE_FORMAT"><a class="selflink" href="#NODE_NAME_MAP_FILE_FORMAT">NODE
  NAME MAP FILE FORMAT</a></h2>
The node name map is used to specify user friendly names for nodes in the
  output. GUIDs are used to perform the lookup.
<div style="height: 1.00em;">&#x00A0;</div>
This functionality is provided by the opensm-libs package. See <b>opensm(8)</b>
  for the file location for your installation.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Generically:</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
# comment
&lt;guid&gt; &quot;&lt;name&gt;&quot;
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example:</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
# IB1
# Line cards
0x0008f104003f125c &quot;IB1 (Rack 11 slot 1   ) ISR9288/ISR9096 Voltaire sLB-24D&quot;
0x0008f104003f125d &quot;IB1 (Rack 11 slot 1   ) ISR9288/ISR9096 Voltaire sLB-24D&quot;
0x0008f104003f10d2 &quot;IB1 (Rack 11 slot 2   ) ISR9288/ISR9096 Voltaire sLB-24D&quot;
0x0008f104003f10d3 &quot;IB1 (Rack 11 slot 2   ) ISR9288/ISR9096 Voltaire sLB-24D&quot;
0x0008f104003f10bf &quot;IB1 (Rack 11 slot 12  ) ISR9288/ISR9096 Voltaire sLB-24D&quot;
<div class="Pp"></div>
# Spines
0x0008f10400400e2d &quot;IB1 (Rack 11 spine 1   ) ISR9288 Voltaire sFB-12D&quot;
0x0008f10400400e2e &quot;IB1 (Rack 11 spine 1   ) ISR9288 Voltaire sFB-12D&quot;
0x0008f10400400e2f &quot;IB1 (Rack 11 spine 1   ) ISR9288 Voltaire sFB-12D&quot;
0x0008f10400400e31 &quot;IB1 (Rack 11 spine 2   ) ISR9288 Voltaire sFB-12D&quot;
0x0008f10400400e32 &quot;IB1 (Rack 11 spine 2   ) ISR9288 Voltaire sFB-12D&quot;
<div class="Pp"></div>
# GUID   Node Name
0x0008f10400411a08 &quot;SW1  (Rack  3) ISR9024 Voltaire 9024D&quot;
0x0008f10400411a28 &quot;SW2  (Rack  3) ISR9024 Voltaire 9024D&quot;
0x0008f10400411a34 &quot;SW3  (Rack  3) ISR9024 Voltaire 9024D&quot;
0x0008f104004119d0 &quot;SW4  (Rack  3) ISR9024 Voltaire 9024D&quot;
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Ira Weiny</b></dt>
  <dd class="It-tag">&lt; <i>ira.weiny@intel.com</i> &gt;</dd>
</dl>
</div>
<br/>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
