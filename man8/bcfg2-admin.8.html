<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BCFG2-ADMIN(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BCFG2-ADMIN(8)</td>
    <td class="head-vol">Bcfg2</td>
    <td class="head-rtitle">BCFG2-ADMIN(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bcfg2-admin - Perform repository administration tasks
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>bcfg2-admin</b> [-C <i>configfile</i>] <i>mode</i> [<i>mode args</i>]
  [<i>mode options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>bcfg2-admin</b> is used to perform Bcfg2 repository administration.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b><i>&#x00A0;configfile</i></dt>
  <dd class="It-tag">Specify alternate bcfg2.conf location.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b><i>&#x00A0;encoding</i></dt>
  <dd class="It-tag">Specify the encoding of config files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b><i>&#x00A0;path</i></dt>
  <dd class="It-tag">Specify the path to the server repository.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b><i>&#x00A0;server</i></dt>
  <dd class="It-tag">Manually specify the server location (as opposed to using
      the value in bcfg2.conf). This should be in the format &quot;
      <i>https://server:port</i>&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Enable debugging output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Print usage information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i>&#x00A0;logfile</i></dt>
  <dd class="It-tag">Writes a log to the specified path.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssl-key<b>=</b></b><i><b>key</b></i></dt>
  <dd class="It-tag">Specify the path to the SSL key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Enable verbose output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b><i>&#x00A0;password</i></dt>
  <dd class="It-tag">Use 'password' for client communication.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="MODES"><a class="selflink" href="#MODES">MODES</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>backup</b></dt>
  <dd class="It-tag">Create an archive of the entire Bcfg2 repository.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>bundle <i>action</i></b></dt>
  <dd class="It-tag">Display details about the available bundles (See BUNDLE
      OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>client <i>action</i> <i>client</i>
    [attribute=value]</b></dt>
  <dd class="It-tag">Add, edit, or remove clients entries in metadata (See
      CLIENT OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>compare <i>old</i> <i>new</i></b></dt>
  <dd class="It-tag">Compare two client configurations. Can be used to verify
      consistent behavior between releases. Determine differences between files
      or directories (See COMPARE OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>init</b></dt>
  <dd class="It-tag">Initialize a new repository (interactive).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>minestruct <i>client</i> [-f xml-file] [-g
    groups]</b></dt>
  <dd class="It-tag">Build structure entries based on client statistics extra
      entries (See MINESTRUCT OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>perf</b></dt>
  <dd class="It-tag">Query server for performance data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pull <i>client</i> <i>entry-type</i>
    <i>entry-name</i></b></dt>
  <dd class="It-tag">Install configuration information into repo based on client
      bad entries (See PULL OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reports [init|load_stats|purge|scrub|update]</b></dt>
  <dd class="It-tag">Interact with the dynamic reporting system (See REPORTS
      OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snapshots [init|dump|query|reports]</b></dt>
  <dd class="It-tag">Interact with the Snapshots database (See SNAPSHOTS OPTIONS
      below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>syncdb</b></dt>
  <dd class="It-tag">Sync the Django ORM with the configured database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tidy</b></dt>
  <dd class="It-tag">Remove unused files from repository.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>viz [-H] [-b] [-k] [-o png-file]</b></dt>
  <dd class="It-tag">Create a graphviz diagram of client, group and bundle
      information (See VIZ OPTIONS below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xcmd</b></dt>
  <dd class="It-tag">Provides a XML-RPC Command Interface to the
    bcfg2-server.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="BUNDLE_OPTIONS"><a class="selflink" href="#BUNDLE_OPTIONS">BUNDLE
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>mode</b></dt>
  <dd class="It-tag">One of the following.</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>list-xml</i></b></dt>
  <dd class="It-tag">List all available xml bundles</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>list-genshi</i></b></dt>
  <dd class="It-tag">List all available genshi bundles</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>show</i></b></dt>
  <dd class="It-tag">Interactive dialog to get details about the available
      bundles</dd>
</dl>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="CLIENT_OPTIONS"><a class="selflink" href="#CLIENT_OPTIONS">CLIENT
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>mode</b></dt>
  <dd class="It-tag">One of the following.</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>add</i></b></dt>
  <dd class="It-tag">Add a client</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>del</i></b></dt>
  <dd class="It-tag">Delete a client</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>list</i></b></dt>
  <dd class="It-tag">List all client entries</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>client</b></dt>
  <dd class="It-tag">Specify the client's name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>attribute=value</b></dt>
  <dd class="It-tag">Set attribute values when adding a new client. Allowed
      attributes are 'profile', 'uuid', 'password', 'location', 'secure, and
      'address'.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="COMPARE_OPTIONS"><a class="selflink" href="#COMPARE_OPTIONS">COMPARE
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>old</b></dt>
  <dd class="It-tag">Specify the location of the old configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>new</b></dt>
  <dd class="It-tag">Specify the location of the new configuration file.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="MINESTRUCT_OPTIONS"><a class="selflink" href="#MINESTRUCT_OPTIONS">MINESTRUCT
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>client</b></dt>
  <dd class="It-tag">Client whose metadata is to be searched for extra
    entries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g <i>groups</i></b></dt>
  <dd class="It-tag">Hierarchy of groups in which to place the extra entries
    in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f <i>outputfile</i></b></dt>
  <dd class="It-tag">Specify the xml file in which to write the extra
    entries.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="PULL_OPTIONS"><a class="selflink" href="#PULL_OPTIONS">PULL
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>client</b></dt>
  <dd class="It-tag">Specify the name of the client to search for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>entry type</b></dt>
  <dd class="It-tag">Specify the type of the entry to pull.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>entry name</b></dt>
  <dd class="It-tag">Specify the name of the entry to pull.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="REPORTS_OPTIONS"><a class="selflink" href="#REPORTS_OPTIONS">REPORTS
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>load_stats [-s] [-c] [-03]</b></dt>
  <dd class="It-tag">Load statistics data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>purge [--client [n]] [--days [n]] [--expired]</b></dt>
  <dd class="It-tag">Purge historic and expired data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>scrub</b></dt>
  <dd class="It-tag">Scrub the database for duplicate reasons and orphaned
      entries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>update</b></dt>
  <dd class="It-tag">Apply any updates to the reporting database.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="SNAPSHOTS_OPTIONS"><a class="selflink" href="#SNAPSHOTS_OPTIONS">SNAPSHOTS
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>init</b></dt>
  <dd class="It-tag">Initialize the snapshots database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>query</b></dt>
  <dd class="It-tag">Query the snapshots database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dump</b></dt>
  <dd class="It-tag">Dump some of the contents of the snapshots database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reports [-a] [-b] [-e] [--date=MM-DD-YYYY]</b></dt>
  <dd class="It-tag">Generate reports for clients in the snapshots
    database.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="VIZ_OPTIONS"><a class="selflink" href="#VIZ_OPTIONS">VIZ
  OPTIONS</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b></dt>
  <dd class="It-tag">Include hosts in diagram.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">Include bundles in diagram.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i>&#x00A0;&lt;outfile&gt;</i></dt>
  <dd class="It-tag">Write to outfile file instead of stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b></dt>
  <dd class="It-tag">Add a shape/color key.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>bcfg2-info(8)</i>, <i>bcfg2-server(8)</i></div>
<table class="foot">
  <tr>
    <td class="foot-date">March 18, 2013</td>
    <td class="foot-os">1.3</td>
  </tr>
</table>
</body>
</html>
