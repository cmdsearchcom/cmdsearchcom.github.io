<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 19:14:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PUPPET-DEVICE(8) Puppet manual PUPPET-DEVICE(8)</p>

<p style="margin-top: 1em">NAME <br>
puppet-device - Manage remote network devices</p>

<p style="margin-top: 1em">SYNOPSIS <br>
Retrieves all configurations from the puppet master and
apply them to the remote devices configured in
/etc/puppetlabs/puppet/device.conf.</p>

<p style="margin-top: 1em">Currently must be run out
periodically, using cron or something similar.</p>

<p style="margin-top: 1em">USAGE <br>
puppet device [-d|--debug] [--detailed-exitcodes]
[-V|--version] [-h|--help] [-l|--logdest
syslog|file|console] [-v|--verbose] [-w|--waitforcert
seconds]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Once the client has a signed certificate for a given remote
device, it will retrieve its configuration and apply it.</p>

<p style="margin-top: 1em">USAGE NOTES <br>
One need a /etc/puppetlabs/puppet/device.conf file with the
following content:</p>

<p style="margin-top: 1em">[remote.device.fqdn] type type
url url</p>

<p style="margin-top: 1em">where: * type: the current
device type (the only value at this time is cisco) * url: an
url allowing to connect to the device</p>

<p style="margin-top: 1em">Supported url must conforms to:
scheme://user:password@hostname/?query</p>

<p style="margin-top: 1em">with: * scheme: either ssh or
telnet * user: username, can be omitted depending on the
switch/router configuration * password: the connection
password * query: this is device <br>
specific. Cisco devices supports an enable parameter whose
value would be the enable password.</p>

<p style="margin-top: 1em">OPTIONS <br>
Note that any setting that&Acirc;&acute;s valid in the
configuration file is also a valid long argument. For
example, &Acirc;&acute;server&Acirc;&acute; is a valid
configuration parameter, so you can specify
&Acirc;&acute;--server <br>
servername&Acirc;&acute; as an argument.</p>

<p style="margin-top: 1em">--debug <br>
Enable full debugging.</p>

<p style="margin-top: 1em">--detailed-exitcodes <br>
Provide transaction information via exit codes. If this is
enabled, an exit code of &Acirc;&acute;1&Acirc;&acute; means
at least one device had a compile failure, an exit code of
&Acirc;&acute;2&Acirc;&acute; means at least <br>
one device had resource changes, and an exit code of
&Acirc;&acute;4&Acirc;&acute; means at least one device had
resource failures. Exit codes of
&Acirc;&acute;3&Acirc;&acute;,
&Acirc;&acute;5&Acirc;&acute;,
&Acirc;&acute;6&Acirc;&acute;, or
&Acirc;&acute;7&Acirc;&acute; means that a bitwise
combina&acirc; <br>
tion of the preceeding exit codes happened.</p>

<p style="margin-top: 1em">--help Print this help
message</p>

<p style="margin-top: 1em">--logdest <br>
Where to send log messages. Choose between
&Acirc;&acute;syslog&Acirc;&acute; (the POSIX syslog
service), &Acirc;&acute;console&Acirc;&acute;, or the path
to a log file. If debugging or verbosity is enabled, this
defaults <br>
to &Acirc;&acute;console&Acirc;&acute;. Otherwise, it
defaults to &Acirc;&acute;syslog&Acirc;&acute;.</p>

<p style="margin-top: 1em">A path ending with
&Acirc;&acute;.json&Acirc;&acute; will receive structured
output in JSON format. The log file will not have an ending
&Acirc;&acute;]&Acirc;&acute; automatically written to it
due to the appending nature <br>
of logging. It must be appended manually to make the content
valid JSON.</p>

<p style="margin-top: 1em">--verbose <br>
Turn on verbose reporting.</p>

<p style="margin-top: 1em">--waitforcert <br>
This option only matters for daemons that do not yet have
certificates and it is enabled by default, with a value of
120 (seconds). This causes +puppet agent+ to connect <br>
to the server every 2 minutes and ask it to sign a
certificate request. This is useful for the initial setup of
a puppet client. You can turn off waiting for certificates
<br>
by specifying a time of 0.</p>

<p style="margin-top: 1em">EXAMPLE <br>
$ puppet device --server puppet.domain.com</p>

<p style="margin-top: 1em">AUTHOR <br>
Brice Figureau</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 2011 Puppet Labs, LLC Licensed under the
Apache 2.0 License</p>

<p style="margin-top: 1em">Puppet Labs, LLC May 2015
PUPPET-DEVICE(8)</p>
<hr>
</body>
</html>
