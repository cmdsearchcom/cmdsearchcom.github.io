<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:39:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SYNCEVOLUTION(1) SYNCEVOLUTION(1)</p>

<p style="margin-top: 1em">NAME <br>
SyncEvolution - synchronize personal information management
data</p>

<p style="margin-top: 1em">SYNOPSIS <br>
List and manipulate databases: <br>
syncevolution
--print-databases|--create-database|--remove-database
[&lt;properties&gt;] [&lt;config&gt; &lt;store&gt;]</p>

<p style="margin-top: 1em">Show information about
configuration(s): <br>
syncevolution
--print-servers|--print-configs|--print-peers</p>

<p style="margin-top: 1em">Show information about a
specific configuration: <br>
syncevolution --print-config [--quiet] [--] &lt;config&gt;
[main|&lt;store&gt; ...]</p>

<p style="margin-top: 1em">List sessions: <br>
syncevolution --print-sessions [--quiet] [--]
&lt;config&gt;</p>

<p style="margin-top: 1em">Show information about
SyncEvolution: <br>
syncevolution --help|-h|--version</p>

<p style="margin-top: 1em">Run a synchronization as
configured: <br>
syncevolution &lt;config&gt; [&lt;store&gt; ...]</p>

<p style="margin-top: 1em">Run a synchronization with
properties changed just for this run: <br>
syncevolution --run &lt;options for run&gt; [--]
&lt;config&gt; [&lt;store&gt; ...]</p>

<p style="margin-top: 1em">Restore data from the automatic
backups: <br>
syncevolution --restore &lt;session directory&gt;
--before|--after [--dry-run] [--] &lt;config&gt;
&lt;store&gt; ...</p>

<p style="margin-top: 1em">Create, update or remove a
configuration: <br>
syncevolution --configure &lt;options&gt; [--]
&lt;config&gt; [&lt;store&gt; ...]</p>

<p style="margin-top: 1em">syncevolution --remove|--migrate
&lt;options&gt; [--] &lt;config&gt;</p>

<p style="margin-top: 1em">List items: <br>
syncevolution --print-items [--] [&lt;config&gt;
[&lt;store&gt;]]</p>

<p style="margin-top: 1em">Export item(s):</p>

<p style="margin-top: 1em">syncevolution [--delimiter
&lt;string&gt;] --export &lt;dir&gt;|&lt;file&gt;|- [--]
[&lt;config&gt; [&lt;store&gt; [&lt;luid&gt; ...]]] <br>
--luids &lt;luid&gt; ...</p>

<p style="margin-top: 1em">Add item(s):</p>

<p style="margin-top: 1em">syncevolution [--delimiter
&lt;string&gt;|none] --import &lt;dir&gt;|&lt;file&gt;|-
[--] [&lt;config&gt; [&lt;store&gt;]] <br>
--luids &lt;luid&gt; ...</p>

<p style="margin-top: 1em">Update item(s): <br>
syncevolution --update &lt;dir&gt; [--] &lt;config&gt;
&lt;store&gt;</p>

<p style="margin-top: 1em">syncevolution [--delimiter
&lt;string&gt;|none] --update &lt;file&gt;|- [--]
&lt;config&gt; &lt;store&gt; &lt;luid&gt; ... <br>
--luids &lt;luid&gt; ...</p>

<p style="margin-top: 1em">Remove item(s): <br>
syncevolution --delete-items [--] &lt;config&gt;
&lt;store&gt; (&lt;luid&gt; ... | &rsquo;*&rsquo;)</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This text explains the usage of the SyncEvolution command
line.</p>

<p style="margin-top: 1em">SyncEvolution synchronizes
personal information management (PIM) data such as contacts,
appointments, tasks and memos using the Synthesis sync
engine, which provides support for <br>
the SyncML synchronization protocol.</p>

<p style="margin-top: 1em">SyncEvolution synchronizes with
SyncML servers over HTTP and with SyncML capable phones
locally over Bluetooth (new in 1.0). Plugins provide access
to the data which is to be <br>
synchronized. Binaries are available for Linux desktops
(synchronizing data in GNOME Evolution, with KDE supported
indirectly already and Akonadi support in development), for
<br>
MeeGo (formerly Moblin) and for Maemo 5/Nokia N900. The
source code can be compiled for Unix-like systems and
provides a framework to build custom SyncML clients or
servers.</p>

<p style="margin-top: 1em">TERMINOLOGY <br>
peer A peer is the entity that data is synchronized with.
This can be another device (like a phone), a server (like
Google) or even the host itself (useful for synchronizing
<br>
two different databases).</p>

<p style="margin-top: 1em">host The device or computer that
SyncEvolution runs on.</p>

<p style="margin-top: 1em">item The smallest unit of
synchronization. Examples of items include calendar events
and individual contacts, memos, or tasks.</p>

<p style="margin-top: 1em">database <br>
Each peer has one or more databases that get synchronized
(Google Calendar, Google Contacts). Conceptually a database
is a set of items where each item is independent of <br>
the others.</p>

<p style="margin-top: 1em">backend <br>
Access to databases is provided by SyncEvolution backends.
It does not matter where that data is stored. Some backends
provide access to data outside of the host itself (&acirc;
<br>
CalDAV and CardDAV, ActiveSync).</p>

<p style="margin-top: 1em">datastore (or just store ) <br>
Used for the combination of SyncEvolution backend and
database settings. A datastore provides read/write access to
a database, which is a prerequisite for syncing the <br>
database. The datastore is independent of the peers that the
database might be synchronized with.</p>

<p style="margin-top: 1em">This used to be called
&quot;data source&quot; or just &quot;source&quot;, which is
a term still found in older documentation, some file paths
and the source code of SyncEvolution.</p>

<p style="margin-top: 1em">local/remote <br>
Synchronization always happens between a pair of databases
and thus has two sides. One database or side of a sync is
remote (the one of the peer), the other is local <br>
(SyncEvolution). For the sake of consistency (and lack of
better terms), these terms are used even if the peer is
another instance of SyncEvolution and/or all data resides
<br>
on the same storage.</p>

<p style="margin-top: 1em">sync config <br>
A sync configuration defines how to talk with a peer: the
protocol which is to be used, how to find the peer,
credentials, etc.</p>

<p style="margin-top: 1em">Sync configs can be used to
initiate a sync (like contacting a SyncML server) or to
handle an incoming sync request (when acting as SyncML
server which is contacted by the <br>
peer).</p>

<p style="margin-top: 1em">If the peer supports SyncML as
sync protocol, a sync only uses one sync config on the
SyncEvolution side. If the peer supports data access via
some other protocols, then <br>
SyncEvolution can make that data available via SyncML and
run a sync where SyncML is used internally. Such a sync
involves two sync configs, see originating config and <br>
target config.</p>

<p style="margin-top: 1em">A sync config can use all
datastores defined in the same context (see below). Some
properties of the datastore can be set differently for each
peer and thus sync config <br>
(per-peer). One of these, the sync property, defines if and
how a datastore is used during a sync.</p>

<p style="margin-top: 1em">context <br>
Sync and datastore configs are defined inside one or more
configuration contexts. There is always a @default context
that gets used if nothing else is specified.</p>

<p style="margin-top: 1em">Typically each context
represents a certain set of related datastores. For example,
normally the @default context is used for local databases.
Datastores related to a cer&acirc; <br>
tain peer can be defined in a context @peer-name named after
that peer.</p>

<p style="margin-top: 1em">configuration properties <br>
SyncEvolution uses key/value pairs to store configuration
options. A configuration is a set of unique keys and their
values that together describe a certain object.</p>

<p style="margin-top: 1em">These sets of properties are
addressed via the main config name (a sync config name with
or without an explicit context, or just the context name)
and optionally the data&acirc; <br>
store name (if the properties are for a specific
datastore).</p>

<p style="margin-top: 1em">Sync properties are set for sync
configs, independently of a particular datastore. Properties
that cannot be set without specifying they datastore that
they apply to are <br>
datastore properties. This includes properties that belong
both to a datastore and a sync config.</p>

<p style="margin-top: 1em">The property names were chosen
so that they are unique, i.e., no sync property has the same
name as a datastore property. For historic reasons,
internally these properties <br>
are treated as two different sets and there are two
different command line options to query the list of sync
resp. datastore properties.</p>

<p style="margin-top: 1em">Some configuration properties
are shared between configurations automatically. This
sharing is hard-coded and cannot be configured. It has the
advantage that certain set&acirc; <br>
tings only need to be set once and/or can be changed for
several different configs at once.</p>

<p style="margin-top: 1em">A property can be unshared (has
separate values for each peer, therefore sometimes also
called per-peer; for example the sync property), shared
(same value for all peers; <br>
for example the database property for selecting the local
database) or global (exactly one value).</p>

<p style="margin-top: 1em">Together with the distinction
between sync and datastore properties, this currently
results in five different groups of properties:</p>

<p style="margin-top: 1em">&Acirc;&middot; Sync properties
(by definition, this also includes properties independent of
a particular sync config because they are set for all sync
configs at once, independently of <br>
any particular datastore):</p>

<p style="margin-top: 1em">&Acirc;&middot; global (=
~/.config/syncevolution/config.ini): independent of a
particular context, for example keyring</p>

<p style="margin-top: 1em">&Acirc;&middot; shared (=
~/.config/syncevolution/&lt;context name&gt;/config.ini):
set once for each context, for example logdir</p>

<p style="margin-top: 1em">&Acirc;&middot; unshared (=
~/.config/syncevolution/&lt;context name&gt;/peers/&lt;peer
name&gt;/config.ini): set separately for each sync config,
for example syncURL</p>

<p style="margin-top: 1em">&Acirc;&middot; Datastore
properties:</p>

<p style="margin-top: 1em">&Acirc;&middot; shared (=
~/.config/syncevolution/&lt;context
name&gt;/sources/&lt;store name&gt;/config.ini): the
properties required for access to the data, primarily
backend and database</p>

<p style="margin-top: 1em">&Acirc;&middot; unshared (=
~/.config/syncevolution/&lt;context name&gt;/peers/&lt;peer
name&gt;/sources/&lt;store name&gt;/config.ini): the already
mentioned sync and uri properties, but also a <br>
per-peer sync format properties</p>

<p style="margin-top: 1em">Many properties have reasonable
defaults, either defined in the configuration layer or
chosen at runtime by the SyncEvolution engine reading the
configuration, and there&acirc; <br>
fore do not have to be set.</p>

<p style="margin-top: 1em">The configuration layer in
SyncEvolution has a very limited understanding of the
semantic of each property. It just knows about some generic
types (strings, boolean, inte&acirc; <br>
gers, ...) and where properties are supposed to be stored.
It is the layer above that, the one which actually tries to
use the configuration, that determines whether the <br>
property values make sense as specified. Beware that it is
possible to set properties to values that conflict with
other property values (triggering errors when using the <br>
configuration) or to set properties that are not used
(typically they get ignored silently, unless an explicit
error check was implemented).</p>

<p style="margin-top: 1em">configuration template <br>
Templates define the settings for specific peers. Some
templates are packaged together with SyncEvolution, others
may be added by packagers or users. Settings from tem&acirc;
<br>
plates are copied once into the sync config when creating
it. There is no permanent link back to the template, so
updating a template has no effect on configs created from
<br>
it earlier.</p>

<p style="margin-top: 1em">A template only contains
unshared properties. Therefore it is possible to first set
shared properties (for example, choosing which databases to
synchronize in the default <br>
context), then add sync configs for different peers to that
context without reseting the existing settings.</p>

<p style="margin-top: 1em">In SyncEvolution&rsquo;s
predefined configuration templates, the following names for
datastores are used. Different names can be chosen for
datastores that are defined manually.</p>

<p style="margin-top: 1em">&Acirc;&middot; addressbook: a
list of contacts</p>

<p style="margin-top: 1em">&Acirc;&middot; calendar:
calendar events</p>

<p style="margin-top: 1em">&Acirc;&middot; memo: plain text
notes</p>

<p style="margin-top: 1em">&Acirc;&middot; todo: task
list</p>

<p style="margin-top: 1em">&Acirc;&middot; calendar+todo: a
virtual datastore combining one local &quot;calendar&quot;
and one &quot;todo&quot; datastore (required for
synchronizing with some phones)</p>

<p style="margin-top: 1em">local sync <br>
Traditionally, a sync config specifies SyncML as the
synchronization protocol via the syncURL property. The peer
must support SyncML for this to work.</p>

<p style="margin-top: 1em">In a so called local sync,
SyncEvolution acts as SyncML server and client at the same
time, connecting the two sides via internal message passing.
Both sides have their <br>
own set of datastores, which may use CalDAV, CardDAV or
ActiveSync to access the data.</p>

<p style="margin-top: 1em">See Synchronization beyond
SyncML.</p>

<p style="margin-top: 1em">originating config <br>
In a local sync, the sync config used to start the sync is
called the originating sync config, or just originating
config.</p>

<p style="margin-top: 1em">target config <br>
In addition to the originating config, a local sync also
uses a target config. At the configuration level, this
target config is just another sync config. It becomes a <br>
target config when referenced by a sync config for local
syncing.</p>

<p style="margin-top: 1em">COMMAND LINE CONVENTIONS <br>
The &lt;config&gt; and the &lt;store&gt; strings in the
command line synopsis are used to find the sync resp.
datastore configs. Depending on which other parameters are
given, different <br>
operations are executed.</p>

<p style="margin-top: 1em">The &lt;config&gt; string has
the format [&lt;peer&gt;][@&lt;context&gt;]. When the
context is not specified explicitly, SyncEvolution first
searches for an existing sync configuration with the <br>
given &lt;peer&gt; name. If not found, the configuration can
only be created, but not read. It will be created in the
@default context as fallback. The empty &lt;config&gt;
string is an <br>
alias for @default.</p>

<p style="margin-top: 1em">The &lt;peer&gt; part identifies
a specific sync or target config inside the context. It is
optional and does not have to be specified when not needed,
for example when configuring the <br>
shared settings of datastores (--configure @default
addressbook) or accessing items inside a datastore
(--print-items @work calendar).</p>

<p style="margin-top: 1em">Listing datastores on the
command line limits the operation to those datastores
(called active datastores below). If not given, all
datastores enabled for the config are active. <br>
Some operations require the name of exactly one
datastore.</p>

<p style="margin-top: 1em">Properties are set with
key/value assignments and/or the --sync/store-property
keywords. Those keywords are only needed for the
hypothetical situation that a sync and datastore <br>
property share the same name (which was intentionally
avoided). Without them, SyncEvolution automatically
identifies which kind of property is meant based on the
name.</p>

<p style="margin-top: 1em">A &lt;property&gt; assignment
has the following format:</p>


<p style="margin-top: 1em">[&lt;store&gt;/]&lt;name&gt;[@&lt;context&gt;|@&lt;peer&gt;@&lt;context&gt;]=&lt;value&gt;</p>

<p style="margin-top: 1em">The optional &lt;context&gt; or
&lt;peer&gt;@&lt;context&gt; suffix limits the scope of the
value to that particular configuration. This is useful when
running a local sync, which involves a sync <br>
and a target configuration. For example, the log level can
be specified separately for both sides:</p>

<p style="margin-top: 1em">--run loglevel@default=1
loglevel@google-calendar=4 google-calendar@default</p>

<p style="margin-top: 1em">A string without a second @ sign
inside is always interpreted as a context name, so in
contrast to the &lt;config&gt; string, foo cannot be used to
reference the foo@default configura&acirc; <br>
tion. Use the full name including the context for that.</p>

<p style="margin-top: 1em">When no config or context is
specified explicitly, a value is changed in all active
configs, typically the one given with &lt;config&gt;. The
priority of multiple values for the same <br>
config is more specific definition wins, so
&lt;peer&gt;@&lt;context&gt; overrides @&lt;context&gt;,
which overrides no suffix given. Specifying some suffix
which does not apply to the current <br>
operation does not trigger an error, so beware of typos.</p>

<p style="margin-top: 1em">Datastore properties can be
specified with a &lt;store&gt;/ prefix. This allows limiting
the value to the selected datastore. For example:</p>

<p style="margin-top: 1em">--configure
&quot;addressbook/database=My Addressbook&quot;
&quot;calendar/database=My Calendar&quot; @default
addressbook calendar</p>

<p style="margin-top: 1em">Another way to achieve the same
effect is to run the --configure operation twice, once for
addressbook and once for calendar:</p>

<p style="margin-top: 1em">--configure &quot;database=My
Addressbook&quot; @default addressbook <br>
--configure &quot;database=My Calendar&quot; @default
calendar</p>

<p style="margin-top: 1em">If the same property is set both
with and without a &lt;store&gt;/ prefix, then the more
specific value with that prefix is used for that datastore,
regardless of the order on the com&acirc; <br>
mand line. The following command enables all datastores
except for the addressbook:</p>

<p style="margin-top: 1em">--configure
addressbook/sync=none sync=two-way &lt;sync config&gt;</p>

<p style="margin-top: 1em">USAGE <br>
syncevolution --print-databases [&lt;properties&gt;]
[&lt;config&gt; &lt;store&gt;]</p>

<p style="margin-top: 1em">If no additional arguments are
given, then SyncEvolution will list all available backends
and the databases that can be accessed through each backend.
This works without existing <br>
configurations. However, some backends, like for example the
CalDAV backend, need additional information (like
credentials or URL of a remote server). This additional
information <br>
can be provided on the command line with property
assignments (username=...) or in an existing
configuration.</p>

<p style="margin-top: 1em">When listing all databases of
all active datastores, the output starts with a heading that
lists the values for the backend property which select the
backend, followed by the <br>
databases. Each database has a name and a unique ID (in
brackets). Typically both can be used as value of the
&rsquo;database&rsquo; property. One database might be
marked as default. It <br>
will be used when database is not set explicitly.</p>

<p style="margin-top: 1em">When selecting an existing
datastore configuration or specifying the backend property
on the command line, only the databases for that backend are
listed and the initial line <br>
shows how that backend was selected
(&lt;config&gt;/&lt;store&gt; resp. backend value).</p>

<p style="margin-top: 1em">Some backends do not support
listing of databases. For example, the file backend
synchronizes directories with one file per item and always
needs an explicit database property <br>
because it cannot guess which directory it is meant to
use.</p>

<p style="margin-top: 1em">syncevolution --create-database
[&lt;properties&gt;] [&lt;config&gt; &lt;store&gt;]</p>

<p style="margin-top: 1em">Creates a new database for the
selected backend, using the information given in the
database property. As with --print-databases, it is possible
to give the properties directly <br>
without configuring a datastore first.</p>

<p style="margin-top: 1em">The interpretation of the
database property depends on the backend. Not all backends
support this operation.</p>

<p style="margin-top: 1em">The EDS backend uses the value
of the database as name of the new database and assigns a
unique URI automatically.</p>

<p style="margin-top: 1em">syncevolution --remove-database
[&lt;properties&gt;] [&lt;config&gt; &lt;store&gt;]</p>

<p style="margin-top: 1em">Looks up the database based on
the database property (depending on the backend, both name
and a URI are valid), then deletes the data. Note that
datastore configurations using <br>
the database are not removed.</p>

<p style="margin-top: 1em">syncevolution &lt;config&gt;</p>

<p style="margin-top: 1em">Without the optional list of
datastores, all datastores which are enabled in their
configuration file are synchronized.</p>

<p style="margin-top: 1em">syncevolution &lt;config&gt;
&lt;store&gt; ...</p>

<p style="margin-top: 1em">Otherwise only the ones
mentioned on the command line are active. It is possible to
configure datastores without activating their
synchronization: if the synchronization mode of <br>
a datastore is set to disabled, the datastore will be
ignored. Explicitly listing such a datastore will
synchronize it in two-way mode once.</p>

<p style="margin-top: 1em">Progress and error messages are
written into a log file that is preserved for each
synchronization run. Details about that is found in the
Automatic Backups and Logging section <br>
below. All errors and warnings are printed directly to the
console in addition to writing them into the log file.
Before quitting SyncEvolution will print a summary of how
the <br>
local data was modified. This is done with the synccompare
utility script described in the Exchanging Data section.</p>

<p style="margin-top: 1em">When the logdir property is
enabled (since v0.9 done by default for new configurations),
then the same comparison is also done before the
synchronization starts.</p>

<p style="margin-top: 1em">In case of a severe error the
synchronization run is aborted prematurely and SyncEvolution
will return a non-zero value. Recovery from failed
synchronization is done by forcing a <br>
full synchronization during the next run, i.e. by sending
all items and letting the SyncML server compare against the
ones it already knows. This is avoided whenever possible
<br>
because matching items during a slow synchronization can
lead to duplicate entries.</p>

<p style="margin-top: 1em">After a successful
synchronization the server&rsquo;s configuration file is
updated so that the next run can be done incrementally. If
the configuration file has to be recreated e.g. <br>
because it was lost, the next run recovers from that by
doing a full synchronization. The risk associated with this
is that the server might not recognize items that it already
<br>
has stored previously which then would lead to duplication
of items.</p>

<p style="margin-top: 1em">syncevolution --configure
&lt;options for configuration&gt; &lt;config&gt;
[&lt;store&gt; ...]</p>

<p style="margin-top: 1em">Options in the configuration can
be modified via the command line. The &lt;config&gt; and the
optional &lt;store&gt; parameters define what gets created
or modified. The remaining parameters <br>
define which values get set or modified.</p>

<p style="margin-top: 1em">To change settings of specific
datastores, either invoke syncevolution multiple times with
exactly one &lt;store&gt; parameter or use the
[&lt;store&gt;/] prefix described above for property <br>
assignments.</p>

<p style="margin-top: 1em">syncevolution --remove
&lt;config&gt;</p>

<p style="margin-top: 1em">Deletes the configuration. If
the &lt;config&gt; refers to a specific peer, only that
peer&rsquo;s configuration is removed. If it refers to a
context, that context and all peers and datas&acirc; <br>
tores defined inside it are removed.</p>

<p style="margin-top: 1em">Note that there is no
confirmation question. Neither local data referenced by the
configuration nor the content of log dirs are deleted.</p>

<p style="margin-top: 1em">syncevolution --run &lt;options
for run&gt; &lt;config&gt; [&lt;store&gt; ...]</p>

<p style="margin-top: 1em">Options can also be overridden
for just the current run, without changing the
configuration. In order to prevent accidentally running a
sync session when a configuration change <br>
was intended, either --configure or --run must be given
explicitly if options are specified on the command line.</p>

<p style="margin-top: 1em">syncevolution --status
&lt;config&gt; [&lt;store&gt; ...]</p>

<p style="margin-top: 1em">Prints what changes were made
locally since the last synchronization. Depends on access to
database dumps from the last run, so enabling the logdir
property is recommended.</p>

<p style="margin-top: 1em">syncevolution
--print-servers|--print-configs|--print-peers <br>
syncevolution --print-config [--quiet] &lt;config&gt;
[main|&lt;store&gt; ...] <br>
syncevolution --print-sessions [--quiet] &lt;config&gt;</p>

<p style="margin-top: 1em">These commands print information
about existing configurations. When printing a configuration
a short version without comments can be selected with
--quiet. When datastores are <br>
listed, only their configuration is shown. Main instead or
in combination with datastores lists only the main peer
configuration.</p>

<p style="margin-top: 1em">syncevolution --restore
&lt;session directory&gt; --before|--after <br>
[--dry-run] &lt;config&gt; &lt;store&gt; ...</p>

<p style="margin-top: 1em">This restores local data from
the backups made before or after a synchronization session.
The --print-sessions command can be used to find these
backups. The datastore(s) have to <br>
be listed explicitly. There is intentionally no default,
because as with --remove there is no confirmation question.
With --dry-run, the restore is only simulated.</p>

<p style="margin-top: 1em">The session directory has to be
specified explicitly with its path name (absolute or
relative to current directory). It does not have to be one
of the currently active log direc&acirc; <br>
tories, as long as it contains the right database dumps for
the selected datastores.</p>

<p style="margin-top: 1em">A restore tries to minimize the
number of item changes (see section Item Changes and Data
Changes). This means that items that are identical before
and after the change will not <br>
be transmitted anew to the peer during the next
synchronization. If the peer somehow needs to get a clean
copy of all local items, then use --sync refresh-from-local
in the next <br>
run.</p>

<p style="margin-top: 1em">syncevolution --print-items
&lt;config&gt; &lt;store&gt; <br>
syncevolution [--delimiter &lt;string&gt;] --export
&lt;dir&gt;|&lt;file&gt;|- [&lt;config&gt; [&lt;store&gt;
[&lt;luid&gt; ...]]] <br>
syncevolution [--delimiter &lt;string&gt;|none] --import
&lt;dir&gt;|&lt;file&gt;|- [&lt;config&gt; &lt;store&gt;]
<br>
syncevolution --update &lt;dir&gt; &lt;config&gt;
&lt;store&gt; <br>
syncevolution [--delimiter &lt;string&gt;|none] --update
&lt;file&gt;|- &lt;config&gt; &lt;store&gt; &lt;luid&gt; ...
<br>
syncevolution --delete-items &lt;config&gt; &lt;store&gt;
(&lt;luid&gt; ... | *)</p>

<p style="margin-top: 1em">Restore depends on the specific
format of the automatic backups created by SyncEvolution.
Arbitrary access to item data is provided with additional
options. &lt;luid&gt; here is the <br>
unique local identifier assigned to each item in the
datastore, transformed so that it contains only alphanumeric
characters, dash and underscore. A star * in --delete-items
<br>
selects all items for deletion. There are two ways of
specifying luids: either as additional parameters after the
config and datastore parameters (which may be empty in this
<br>
case, but must be given) or after the --luids keyword.</p>

<p style="margin-top: 1em">&lt;config&gt; and &lt;store&gt;
may be given to define the database which is to be used. If
not given or not refering to an existing configuration
(which is not an error, due to historic <br>
reasons), the desired backend must be given via the backend
property, like this:</p>

<p style="margin-top: 1em">syncevolution --print-items
backend=evolution-contacts <br>
syncevolution --export - backend=evolution-contacts --luids
pas-id-4E33F24300000006 pas-id-4E36DD7B00000007</p>

<p style="margin-top: 1em">The desired backend database can
be chosen via database=&lt;identifier&gt;. See
--print-databases.</p>

<p style="margin-top: 1em">OPTIONS <br>
Here is a full description of all &lt;options&gt; that can
be put in front of the server name. Whenever an option
accepts multiple values, a question mark can be used to get
the corre&acirc; <br>
sponding help text and/or a list of valid values.</p>

<p style="margin-top: 1em">--sync|-s &lt;mode&gt;|? <br>
Temporarily synchronize the active datastores in that mode.
Useful for a refresh-from-local or refresh-from-remote sync
which clears all data at one end and copies all <br>
items from the other.</p>

<p style="margin-top: 1em">Warning: local is the data
accessed via the sync config directly and remote is the data
on the peer, regardless where the data is actually stored
physically.</p>


<p style="margin-top: 1em">--print-servers|--print-configs|--print-peers
<br>
Prints the names of all configured peers to stdout. There is
no difference between these options, the are just
aliases.</p>


<p style="margin-top: 1em">--print-servers|--print-configs|--print-peers|-p
<br>
Prints the complete configuration for the selected
&lt;config&gt; to stdout, including up-to-date comments for
all properties. The format is the normal .ini format with
datas&acirc; <br>
tore configurations in different sections introduced with
[&lt;store&gt;] lines. Can be combined with --sync-property
and --datastore-property to modify the configuration <br>
on-the-fly. When one or more datastores are listed after the
&lt;config&gt; name on the command line, then only the
configs of those datastores are printed. main selects the
<br>
main configuration instead of datastore configurations.
Using --quiet suppresses the comments for each property.
When setting a --template, then the reference
configura&acirc; <br>
tion for that peer is printed instead of an existing
configuration.</p>

<p style="margin-top: 1em">--print-sessions <br>
Prints information about previous synchronization sessions
for the selected peer or context are printed. This depends
on the logdir property. The information includes the <br>
log directory name (useful for --restore) and the
synchronization report. In combination with --quiet, only
the paths are listed.</p>

<p style="margin-top: 1em">--configure|-c <br>
Modify the configuration files for the selected peer and/or
datastores.</p>

<p style="margin-top: 1em">If no such configuration exists,
then a new one is created using one of the template
configurations (see --template option). Choosing a template
sets most of the relevant <br>
properties for the peer and the default set of datastores
(see above for a list of those). Anything specific to the
user (like username/password) still has to be set
manu&acirc; <br>
ally.</p>

<p style="margin-top: 1em">When creating a new
configuration and listing datastores explicitly on the
command line, only those datastores will be set to active in
the new configuration, i.e. <br>
syncevolution -c memotoo addressbook followed by
syncevolution memotoo will only synchronize the address
book. The other datastores are created in a disabled state.
When <br>
modifying an existing configuration and datastores are
specified, then the datastore properties of only those
datastores are modified.</p>

<p style="margin-top: 1em">By default, creating a config
requires a template. Datastore names on the command line
must match those in the template. This allows catching typos
in the peer and datas&acirc; <br>
tore names. But it also prevents some advanced use cases.
Therefore it is possible to disable these checks in two
ways:</p>

<p style="margin-top: 1em">- use &lsquo;--template
none&lsquo; or <br>
- specify all required sync and datastore properties that
are normally <br>
in the templates on the command line (syncURL, backend,
...)</p>

<p style="margin-top: 1em">--run|-r <br>
To prevent accidental sync runs when a configuration change
was intended, but the --configure option was not used, --run
must be specified explicitly when sync or datas&acirc; <br>
tore properties are selected on the command line and they
are meant to be used during a sync session triggered by the
invocation.</p>

<p style="margin-top: 1em">--migrate <br>
In older SyncEvolution releases a different layout of
configuration files was used. Using --migrate will
automatically migrate to the new layout and rename the
&lt;config&gt; <br>
into &lt;config&gt;.old to prevent accidental use of the old
configuration. WARNING: old SyncEvolution releases cannot
use the new configuration!</p>

<p style="margin-top: 1em">The switch can also be used to
migrate a configuration in the current configuration
directory: this preserves all property values, discards
obsolete properties and sets <br>
all comments exactly as if the configuration had been
created from scratch. WARNING: custom comments in the
configuration are not preserved.</p>

<p style="margin-top: 1em">--migrate implies --configure
and can be combined with modifying properties.</p>

<p style="margin-top: 1em">--print-items <br>
Shows all existing items using one line per item using the
format &quot;&lt;luid&gt;[: &lt;short
description&gt;]&quot;. Whether the description is available
depends on the backend and the kind <br>
of data that it stores.</p>

<p style="margin-top: 1em">--export <br>
Writes all items in the datastore or all items whose
&lt;luid&gt; is given into a directory if the --export
parameter exists and is a directory. The &lt;luid&gt; of
each item is used <br>
as file name. Otherwise it creates a new file under that
name and writes the selected items separated by the chosen
delimiter string. stdout can be selected with a dash.</p>

<p style="margin-top: 1em">The default delimiter (two line
breaks) matches a blank line. As a special case, it also
matches a blank line with DOS line ending (line break,
carriage return, line <br>
break). This works for vCard 3.0 and iCalendar 2.0, which
never contain blank lines.</p>

<p style="margin-top: 1em">When exporting, the default
delimiter will always insert two line breaks regardless
whether the items contain DOS line ends. As a special case,
the initial newline of a <br>
delimiter is skipped if the item already ends in a
newline.</p>

<p style="margin-top: 1em">--import <br>
Adds all items found in the directory or input file to the
datastore. When reading from a directory, each file is
treated as one item. Otherwise the input is split at the
<br>
chosen delimiter. &quot;none&quot; as delimiter disables
splitting of the input.</p>

<p style="margin-top: 1em">--update <br>
Overwrites the content of existing items. When updating from
a directory, the name of each file is taken as its luid.
When updating from file or stdin, the number of luids <br>
given on the command line must match with the number of
items in the input.</p>

<p style="margin-top: 1em">--delete-items <br>
Removes the specified items from the datastore. Most
backends print some progress information about this, but
besides that, no further output is produced. Trying to
remove <br>
an item which does not exist typically leads to an ERROR
message, but is not reflected in a non-zero result of the
command line invocation itself because the situation is <br>
not reported as an error by backends (removal of
non-existent items is not an error in SyncML). Use a star *
instead or in addition to listing individual luids to delete
<br>
all items.</p>

<p style="margin-top: 1em">--sync-property|-y
&lt;property&gt;=&lt;value&gt;|&lt;property&gt;=?|? <br>
Overrides a datastore-independent configuration property for
the current synchronization run or permanently when
--configure is used to update the configuration. Can be <br>
used multiple times. Specifying an unused property will
trigger an error message.</p>


<p style="margin-top: 1em">--datastore-property|--source-property|-z
&lt;property&gt;=&lt;value&gt;|&lt;property&gt;=?|? <br>
Same as --sync-property, but applies to the configuration of
all active datastores. --sync &lt;mode&gt; is a shortcut for
--datastore-property sync=&lt;mode&gt;.</p>

<p style="margin-top: 1em">--template|-l &lt;peer
name&gt;|default|?&lt;device&gt; <br>
Can be used to select from one of the built-in default
configurations for known SyncML peers. Defaults to the
&lt;config&gt; name, so --template only has to be specified
when <br>
creating multiple different configurations for the same
peer, or when using a template that is named differently
than the peer. default is an alias for memotoo and can be
<br>
used as the starting point for servers which do not have a
built-in template.</p>

<p style="margin-top: 1em">A pseudo-random device ID is
generated automatically. Therefore setting the deviceId sync
property is only necessary when manually recreating a
configuration or when a <br>
more descriptive name is desired.</p>

<p style="margin-top: 1em">The available templates for
different known SyncML servers are listed when using a
single question mark instead of template name. When using
the ?&lt;device&gt; format, a fuzzy <br>
search for a template that might be suitable for talking to
such a device is done. The matching works best when using
&lt;device&gt; = &lt;Manufacturer&gt; &lt;Model&gt;. If you
don&rsquo;t know <br>
the manufacturer, you can just keep it as empty. The output
in this mode gives the template name followed by a short
description and a rating how well the template matches <br>
the device (100% is best).</p>

<p style="margin-top: 1em">--status|-t <br>
The changes made to local data since the last
synchronization are shown without starting a new one. This
can be used to see in advance whether the local data needs
to be <br>
synchronized with the server.</p>

<p style="margin-top: 1em">--quiet|-q <br>
Suppresses most of the normal output during a
synchronization. The log file still contains all the
information.</p>

<p style="margin-top: 1em">--keyring[=&lt;value&gt;]|-k
<br>
A legacy option, now the same as setting the global keyring
sync property. When not specifying a value explicitly,
&quot;true&quot; for &quot;use some kind of keyring&quot; is
implied. See <br>
&quot;--sync-property keyring&quot; for details.</p>

<p style="margin-top: 1em">--daemon[=yes/no] <br>
By default, the SyncEvolution command line is executed
inside the syncevo-dbus-server process. This ensures that
synchronization sessions started by the command line do <br>
not conflict with sessions started via some other means
(GUI, automatically). For debugging purposes or very special
use cases (running a local sync against a server which <br>
executes inside the daemon) it is possible to execute the
operation without the daemon (--daemon=no).</p>

<p style="margin-top: 1em">--help|-h <br>
Prints usage information.</p>

<p style="margin-top: 1em">--version <br>
Prints the SyncEvolution version.</p>

<p style="margin-top: 1em">CONFIGURATION PROPERTIES <br>
This section lists predefined properties. Backends can add
their own properties at runtime if none of the predefined
properties are suitable for a certain setting. Those
addi&acirc; <br>
tional properties are not listed here. Use
--sync/datastore-property ? to get an up-to-date list.</p>

<p style="margin-top: 1em">The predefined properties may
also be interpreted slightly differently by each backend and
sync protocol. Sometimes this is documented in the comment
for each property, sometimes <br>
in the documentation of the backend or sync protocol.</p>

<p style="margin-top: 1em">Properties are listed together
with all recognized aliases (in those cases where a property
was renamed at some point), its default value, sharing state
(unshared/shared/global). <br>
Some properties must be defined, which is marked with the
word required.</p>

<p style="margin-top: 1em">Sync properties <br>
syncURL (no default, unshared, required) <br>
Identifies how to contact the peer, best explained with some
examples.</p>

<p style="margin-top: 1em">HTTP(S) SyncML servers:</p>

<p style="margin-top: 1em">http://example.com/sync</p>

<p style="margin-top: 1em">OBEX over Bluetooth uses the MAC
address, with the channel chosen automatically:</p>

<p style="margin-top: 1em">obex-bt://00:0A:94:03:F3:7E</p>

<p style="margin-top: 1em">If the automatism fails, the
channel can also be specified:</p>


<p style="margin-top: 1em">obex-bt://00:0A:94:03:F3:7E+16</p>

<p style="margin-top: 1em">For peers contacting us via
Bluetooth, the MAC address is used to identify it before the
sync starts. Multiple urls can be specified in one syncURL
property:</p>

<p style="margin-top: 1em">obex-bt://00:0A:94:03:F3:7E
obex-bt://00:01:02:03:04:05</p>

<p style="margin-top: 1em">In the future this might be used
to contact the peer via one of several transports; right
now, only the first one is tried.</p>

<p style="margin-top: 1em">username (no default, unshared)
<br>
user name used for authorization with the SyncML server</p>

<p style="margin-top: 1em">password (no default, unshared)
<br>
password used for authorization with the peer; in addition
to specifying it directly as plain text, it can also be read
from the standard input or from an environment <br>
variable of your choice:</p>

<p style="margin-top: 1em">plain text : password =
&lt;insert your password here&gt; <br>
ask : password = - <br>
env variable: password = ${&lt;name of environment
variable&gt;}</p>

<p style="margin-top: 1em">logdir (no default, shared) <br>
full path to directory where automatic backups and logs are
stored for all synchronizations; if unset, then
&quot;${XDG_CACHE_HOME}/syncevolution/&lt;server&gt;&quot;
(which usually <br>
expands to ${HOME}/.cache/...) will be used; if
&quot;none&quot;, then no backups of the databases are made
and any output is printed directly to the screen</p>

<p style="margin-top: 1em">loglevel (0, unshared) <br>
level of detail for log messages: - 0 (or unset) = INFO
messages without log file, DEBUG with log file - 1 = only
ERROR messages - 2 = also INFO messages - 3 = also DEBUG
<br>
messages &gt; 3 = increasing amounts of debug messages for
developers</p>

<p style="margin-top: 1em">notifyLevel (3, unshared) <br>
Level of detail for desktop notifications. Currently such
notifications are generated only for automatically started
sync sessions.</p>

<p style="margin-top: 1em">0 - suppress all notifications 1
- show only errors 2 - show information about changes and
errors (in practice currently the same as level 3) 3 - show
all notifications, <br>
including starting a sync</p>

<p style="margin-top: 1em">printChanges (TRUE, unshared)
<br>
enables or disables the detailed (and sometimes slow)
comparison of database content before and after a sync
session</p>

<p style="margin-top: 1em">dumpData (TRUE, unshared) <br>
enables or disables the automatic backup of database content
before and after a sync session (always enabled if
printChanges is enabled)</p>

<p style="margin-top: 1em">maxlogdirs (10, shared) <br>
Controls how many session directories are kept at most in
the logdir. Unless set to zero, SyncEvolution will remove
old directories and all their content to prevent the <br>
number of log directories from growing beyond the given
limit. It tries to be intelligent and will remove sessions
in which nothing interesting happened (no errors, no <br>
data changes) in favor of keeping sessions where something
happened, even if those sessions are older.</p>

<p style="margin-top: 1em">autoSync (0, unshared) <br>
Controls automatic synchronization. Currently, automatic
synchronization is done by running a synchronization at
regular intervals. This may drain the battery, in
particu&acirc; <br>
lar when using Bluetooth! Because a peer might be reachable
via different transports at some point, this option provides
detailed control over which transports may be <br>
used for automatic synchronization:</p>

<p style="margin-top: 1em">0 don&rsquo;t do auto sync</p>

<p style="margin-top: 1em">1</p>

<p style="margin-top: 1em">do automatic sync, using
whatever transport <br>
is available</p>

<p style="margin-top: 1em">http only via HTTP transport</p>

<p style="margin-top: 1em">obex-bt <br>
only via Bluetooth transport</p>

<p style="margin-top: 1em">http,obex-bt <br>
pick one of these</p>

<p style="margin-top: 1em">autoSyncInterval (30M, unshared)
<br>
This is the minimum number of seconds since the start of the
last synchronization that has to pass before starting an
automatic synchronization. Can be specified using a <br>
1h30m5s format.</p>

<p style="margin-top: 1em">Before reducing this interval,
consider that it will increase resource consumption on the
local and remote side. Some SyncML server operators only
allow a certain number <br>
of sessions per day. The value 0 has the effect of only
running automatic synchronization when changes are detected
(not implemented yet, therefore it basically disables <br>
automatic synchronization).</p>

<p style="margin-top: 1em">autoSyncDelay (5M, unshared)
<br>
An automatic sync will not be started unless the peer has
been available for this duration, specified in seconds or
1h30m5s format.</p>

<p style="margin-top: 1em">This prevents running a sync
when network connectivity is unreliable or was recently
established for some other purpose. It is also a heuristic
that attempts to predict <br>
how long connectivity be available in the future, because it
should better be available long enough to complete the
synchronization.</p>

<p style="margin-top: 1em">preventSlowSync (TRUE, unshared)
<br>
During a slow sync, the SyncML server must match all items
of the client with its own items and detect which ones it
already has based on properties of the items. This is <br>
slow (client must send all its data) and can lead to
duplicates (when the server fails to match correctly). It is
therefore sometimes desirable to wipe out data on one <br>
side with a refresh-from-client/server sync instead of doing
a slow sync. When this option is enabled, slow syncs that
could cause problems are not allowed to proceed. <br>
Instead, the affected datastores are skipped, allowing the
user to choose a suitable sync mode in the next run (slow
sync selected explicitly, refresh sync). The follow&acirc;
<br>
ing situations are handled:</p>

<p style="margin-top: 1em">&Acirc;&middot; running as
client with no local data =&gt; unproblematic, slow sync is
allowed to proceed automatically</p>

<p style="margin-top: 1em">&Acirc;&middot; running as
client with local data =&gt; client has no information about
server, so slow sync might be problematic and is
prevented</p>

<p style="margin-top: 1em">&Acirc;&middot; client has data,
server asks for slow sync because all its data was deleted
(done by Memotoo and Mobical, because they treat this as
&rsquo;user wants to start from scratch&rsquo;) <br>
=&gt; the sync would recreate all the client&rsquo;s data,
even if the user really wanted to have it deleted, therefore
slow sync is prevented</p>

<p style="margin-top: 1em">useProxy (FALSE, unshared) <br>
set to T to choose an HTTP proxy explicitly; otherwise the
default proxy settings of the underlying HTTP transport
mechanism are used; only relevant when contacting the <br>
peer via HTTP</p>

<p style="margin-top: 1em">proxyHost (no default, unshared)
<br>
proxy URL (http://&lt;host&gt;:&lt;port&gt;)</p>

<p style="margin-top: 1em">proxyUsername (no default,
unshared) <br>
authentication for proxy: username</p>

<p style="margin-top: 1em">proxyPassword (no default,
unshared) <br>
proxy password, can be specified in different ways, see
SyncML server password for details</p>

<p style="margin-top: 1em">clientAuthType (md5,
unshared)</p>

<p style="margin-top: 1em">&Acirc;&middot; empty or
&quot;md5&quot; for secure method (recommended)</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;basic&quot; for insecure method</p>

<p style="margin-top: 1em">This setting is only for
debugging purpose and only has an effect during the initial
sync of a client. Later it remembers the method that was
supported by the server and <br>
uses that. When acting as server, clients contacting us can
use both basic and md5 authentication.</p>

<p style="margin-top: 1em">RetryDuration (5M, unshared)
<br>
The total amount of time in seconds in which the SyncML
client tries to get a response from the server. During this
time, the client will resend messages in regular <br>
intervals (RetryInterval) if no response is received or the
message could not be delivered due to transport problems.
When this time is exceeded without a response, the <br>
synchronization aborts without sending further messages to
the server.</p>

<p style="margin-top: 1em">When acting as server, this
setting controls how long a client is allowed to not send a
message before the synchronization is aborted.</p>

<p style="margin-top: 1em">RetryInterval (2M, unshared)
<br>
The number of seconds between the start of SyncML message
sending and the start of the retransmission. If the interval
has already passed when a message send returns, the <br>
message is resent immediately. Resending without any delay
will never succeed and therefore specifying 0 disables
retries.</p>

<p style="margin-top: 1em">Servers cannot resend messages,
so this setting has no effect in that case.</p>

<p style="margin-top: 1em">The WebDAV backend also resends
messages after a temporary network error. It uses
exponential backoff to determine when the server is
available again. This setting is <br>
divided by 24 to obtain the initial delay (default: 2m =&gt;
5s), which is then doubled for each retry.</p>

<p style="margin-top: 1em">remoteIdentifier (no default,
unshared) <br>
the identifier sent to the remote peer for a server
initiated sync. if not set, deviceId will be used
instead</p>

<p style="margin-top: 1em">PeerIsClient (FALSE, unshared)
<br>
Indicates whether this configuration is about a client peer
or server peer.</p>

<p style="margin-top: 1em">SyncMLVersion (no default,
unshared) <br>
On a client, the latest commonly supported SyncML version is
used when contacting a server. One of
&rsquo;1.0/1.1/1.2&rsquo; can be used to pick a specific
version explicitly.</p>

<p style="margin-top: 1em">On a server, this option
controls what kind of Server Alerted Notification is sent to
the client to start a synchronization. By default, first the
format from 1.2 is <br>
tried, then in case of failure, the older one from 1.1.
1.2/1.1 can be set explicitly, which disables the
automatism.</p>

<p style="margin-top: 1em">Instead or in adddition to the
version, several keywords can be set in this property
(separated by spaces or commas):</p>

<p style="margin-top: 1em">&Acirc;&middot; NOCTCAP - avoid
sending CtCap meta information</p>

<p style="margin-top: 1em">&Acirc;&middot; NORESTART -
disable the sync mode extension that SyncEvolution client
and server use to negotiate whether both sides support
running multiple sync iterations in the same <br>
session</p>

<p style="margin-top: 1em">&Acirc;&middot;
REQUESTMAXTIME=&lt;time&gt; - override the rate at which the
SyncML server sends preliminary replies while preparing
local storages in the background. This helps to avoid <br>
timeouts in the SyncML client. Depends on multithreading.
This SyncEvolution binary is thread-safe and thus this
feature is enabled by default for HTTP servers, with a <br>
delay of 2 minutes between messages. Other servers
(Bluetooth, local sync) should not need preliminary replies
and the feature is disabled, although it can be enabled by
<br>
setting the time explicitly. &lt;time&gt; can be specified
like other durations in the config, for example as
REQUESTMAXTIME=2m.</p>

<p style="margin-top: 1em">Setting these flags should only
be necessary as workaround for broken peers.</p>

<p style="margin-top: 1em">PeerName (no default, unshared)
<br>
An arbitrary name for the peer referenced by this config.
Might be used by a GUI. The command line tool always uses
the the configuration name.</p>

<p style="margin-top: 1em">deviceId (no default, shared)
<br>
The SyncML server gets this string and will use it to keep
track of changes that still need to be synchronized with
this particular client; it must be set to something <br>
unique (like the pseudo-random string created automatically
for new configurations) among all clients accessing the same
server. myFUNAMBOL also requires that the string <br>
starts with sc-pim-</p>

<p style="margin-top: 1em">remoteDeviceId (no default,
unshared) <br>
SyncML ID of our peer, empty if unknown; must be set only
when the peer is a SyncML client contacting us via HTTP.
Clients contacting us via OBEX/Bluetooth can be
identi&acirc; <br>
fied either via this remoteDeviceId property or by their MAC
address, if that was set in the syncURL property.</p>

<p style="margin-top: 1em">If this property is empty and
the peer synchronizes with this configuration chosen by some
other means, then its ID is recorded here automatically and
later used to verify <br>
that the configuration is not accidentally used by a
different peer.</p>

<p style="margin-top: 1em">enableWBXML (TRUE, unshared)
<br>
use the more compact binary XML (WBXML) for messages between
client and server; not applicable when the peer is a SyncML
client, because then the client chooses the encod&acirc;
<br>
ing</p>

<p style="margin-top: 1em">enableRefreshSync (FALSE,
unshared) <br>
Use the more advanced refresh-from-server sync mode to
implement the refresh-from-remote operation. Some SyncML
servers do not support this. Therefore the default is to
<br>
delete local data before doing a slow sync, which has the
same effect. However, some servers work better when they are
told explicitly that the sync is a refresh sync. For <br>
example, Funambol&rsquo;s One Media server rejects too many
slow syncs in a row with a 417 &rsquo;retry later&rsquo;
error.</p>

<p style="margin-top: 1em">maxMsgSize (150000, unshared),
maxObjSize (4000000, unshared) <br>
The maximum size of each message can be set (maxMsgSize) and
the peer can be told to never sent items larger than a
certain threshold (maxObjSize). Presumably the peer has <br>
to truncate or skip larger items. Sizes are specified as
number of bytes.</p>

<p style="margin-top: 1em">SSLServerCertificates
(/etc/ssl/certs/ca-certificates.crt:/etc/pki/tls/certs/ca-bundle.crt:/usr/share/ssl/certs/ca-bundle.crt,
unshared) <br>
A string specifying the location of the certificates used to
authenticate the server. When empty, the system&rsquo;s
default location will be searched.</p>

<p style="margin-top: 1em">SSL support when acting as HTTP
server is implemented by the HTTP server frontend, not with
these properties.</p>

<p style="margin-top: 1em">SSLVerifyServer (TRUE, unshared)
<br>
The client refuses to establish the connection unless the
server presents a valid certificate. Disabling this option
considerably reduces the security of SSL <br>
(man-in-the-middle attacks become possible) and is not
recommended.</p>

<p style="margin-top: 1em">SSLVerifyHost (TRUE, unshared)
<br>
The client refuses to establish the connection unless the
server&rsquo;s certificate matches its host name. In cases
where the certificate still seems to be valid it might make
<br>
sense to disable this option and allow such connections.</p>

<p style="margin-top: 1em">WebURL (no default, unshared)
<br>
The URL of a web page with further information about the
server. Used only by the GUI.</p>

<p style="margin-top: 1em">IconURI (no default, unshared)
<br>
The URI of an icon representing the server graphically.
Should be a 48x48 pixmap or a SVG (preferred). Used only by
the GUI.</p>

<p style="margin-top: 1em">ConsumerReady (FALSE, unshared)
<br>
Set to true in a configuration template to indicate that the
server works well enough and is available for normal users.
Used by the GUI to limit the choice of configura&acirc; <br>
tions offered to users. Has no effect in a user&rsquo;s
server configuration.</p>

<p style="margin-top: 1em">peerType (no default, unshared)
<br>
Defines what a configuration is meant to be used for. Used
in templates and the resulting configs to tell a GUI that
special handling may be necessary. GUIs should ignore <br>
unknown types. The traditional SyncML configs use an empty
value. &quot;WebDAV&quot; is used for the WebDAV side in a
local synchronization.</p>

<p style="margin-top: 1em">defaultPeer (no default, global)
<br>
the peer which is used by default in some frontends, like
the sync-UI</p>

<p style="margin-top: 1em">keyring (yes, global) <br>
Explicitly selects a certain safe password storage.
Depending on how SyncEvolution was compiled and installed
the following values are possible:</p>

<p style="margin-top: 1em">GNOME GNOME Keyring</p>

<p style="margin-top: 1em">KDE KWallet</p>

<p style="margin-top: 1em">yes/true/1 <br>
pick one automatically</p>

<p style="margin-top: 1em">no/false/0 <br>
store passwords in SyncEvolution config files</p>

<p style="margin-top: 1em">If unset, the default is to pick
one automatically if support for any kind of password
storage was enabled and use the config files otherwise. When
choosing automatically, <br>
GNOME keyring is tried first because distinguishing between
KDE and GNOME sessions automatically is tricky.</p>

<p style="margin-top: 1em">Note that using this option
applies to all passwords in a configuration and that the
--keyring command line option is merely an alias for setting
the global property, so <br>
setting a single password as follows sets both keyring and
proxyPasswords, and also moves the other passwords into the
keyring, even if they were not stored there already: <br>
--keyring --configure proxyPassword=foo</p>

<p style="margin-top: 1em">When passwords were stored in a
safe storage, their value is set to a single hyphen
(&quot;-&quot;) in the configuration. This means that when
running a synchronization without <br>
using the storage, the password has to be entered
interactively. The --print-config output always shows
&quot;-&quot; instead of retrieving the password from the
keyring.</p>

<p style="margin-top: 1em">Datastore properties <br>
sync (disabled, unshared, required) <br>
Requests a certain synchronization mode when initiating a
sync:</p>

<p style="margin-top: 1em">two-way <br>
only send/receive changes since last sync</p>

<p style="margin-top: 1em">slow exchange all items</p>

<p style="margin-top: 1em">refresh-from-remote <br>
discard all local items and replace with the items on the
peer</p>

<p style="margin-top: 1em">refresh-from-local <br>
discard all items on the peer and replace with the local
items</p>

<p style="margin-top: 1em">one-way-from-remote <br>
transmit changes from peer</p>

<p style="margin-top: 1em">one-way-from-local <br>
transmit local changes</p>

<p style="margin-top: 1em">local-cache-slow (server only)
<br>
mirror remote data locally, transferring all data</p>

<p style="margin-top: 1em">local-cache-incremental (server
only) <br>
mirror remote data locally, transferring only changes; falls
back to local-cache-slow automatically if necessary</p>

<p style="margin-top: 1em">disabled (or none) <br>
synchronization disabled</p>


<p style="margin-top: 1em">refresh/one-way-from-server/client
are also supported. Their use is discouraged because the
direction of the data transfer depends on the role of the
local side (can be <br>
server or client), which is not always obvious.</p>

<p style="margin-top: 1em">When accepting a sync session in
a SyncML server (HTTP server), only datastores with sync !=
disabled are made available to the client, which chooses the
final sync mode <br>
based on its own configuration. When accepting a sync
session in a SyncML client (local sync with the server
contacting SyncEvolution on a device), the sync mode
speci&acirc; <br>
fied in the client is typically overriden by the server.</p>

<p style="margin-top: 1em">uri (no default, unshared) <br>
this is appended to the server&rsquo;s URL to identify the
server&rsquo;s database; if unset, the datastore name is
used as fallback</p>

<p style="margin-top: 1em">backend (select backend, shared)
<br>
Specifies the SyncEvolution backend and thus the data which
is synchronized by this datastore. Each backend may support
multiple databases (see &rsquo;database&rsquo; property),
dif&acirc; <br>
ferent formats inside that database (see
&rsquo;databaseFormat&rsquo;), and different formats when
talking to the sync peer (see &rsquo;syncFormat&rsquo; and
&rsquo;forceSyncFormat&rsquo;).</p>

<p style="margin-top: 1em">A special &rsquo;virtual&rsquo;
backend combines several other datastores and presents them
as one set of items to the peer. For example, Nokia phones
typically exchange tasks and <br>
events as part of one set of calendar items.</p>

<p style="margin-top: 1em">Right now such a virtual backend
is limited to combining one calendar datastore with events
and one task datastore. They have to be specified in the
database property, <br>
typically like this: calendar,todo</p>

<p style="margin-top: 1em">Different datastores combined in
one virtual datastore must have a common format. As with
other backends, the preferred format can be influenced via
the &rsquo;syncFormat&rsquo; <br>
attribute.</p>

<p style="margin-top: 1em">Here&rsquo;s the full list of
potentially supported backends, valid &rsquo;backend&rsquo;
values for each of them, and possible formats. Note that
SyncEvolution installations usually sup&acirc; <br>
port only a subset of the backends; that&rsquo;s why e.g.
&quot;addressbook&quot; is unambiguous although there are
multiple address book backends.</p>

<p style="margin-top: 1em">syncFormat (no default,
unshared) <br>
When there are alternative formats for the same data, each
side of a sync offers all that it supports and marks one as
preferred. If set, this property overrides the for&acirc;
<br>
mat that would normally be marked as preferred by a
backend.</p>

<p style="margin-top: 1em">Valid values depend on the
backend. Here are some examples:</p>

<p style="margin-top: 1em">contacts - text/vcard = vCard
3.0 format <br>
text/x-vcard = legacy vCard 2.1 format</p>

<p style="margin-top: 1em">calendar - text/calendar =
iCalendar 2.0 format <br>
text/x-vcalendar = legacy vCalendar 1.0 format</p>

<p style="margin-top: 1em">Errors while starting to sync
and parsing and/or storing items on either client or server
can be caused by a mismatch between the sync format and uri
at the peer.</p>

<p style="margin-top: 1em">forceSyncFormat (FALSE,
unshared) <br>
Some peers get confused when offered multiple choices for
the sync format or pick the less optimal one. In such a
case, setting this property enforces that the preferred <br>
format specified with &rsquo;syncFormat&rsquo; is really
used.</p>

<p style="margin-top: 1em">database = evolutionsource (no
default, shared) <br>
Picks one of the backend&rsquo;s databases: depending on the
backend, one can set the name and/or a unique
identifier.</p>

<p style="margin-top: 1em">Most backends have a default
database, like for example the system address book. Not
setting this property selects that default database.</p>

<p style="margin-top: 1em">If the backend is a virtual data
datastore, this field must contain comma seperated list of
sub datasources actually used to store data. If your sub
datastore has a comma <br>
in name, you must prevent taht comma from being mistaken as
the separator by preceding it with a backslash, like this:
database=Source1PartAPartB,Source2\Backslash</p>

<p style="margin-top: 1em">To get a full list of available
databases, run syncevolution --print-databases. The name is
printed in front of the colon, followed by an identifier in
brackets. Usually <br>
the name is unique and can be used to reference the data
datastore. The default data datastore is marked with
&lt;default&gt; at the end of the line, if there is a
default.</p>

<p style="margin-top: 1em">databaseFormat (no default,
shared) <br>
Defines the data format to be used by the backend for its
own storage. Typically backends only support one format and
ignore this property, but for example the file back&acirc;
<br>
end uses it. See the &rsquo;backend&rsquo; property for more
information.</p>

<p style="margin-top: 1em">databaseUser = evolutionuser (no
default, shared), databasePassword = evolutionpassword (no
default, shared) <br>
authentication for backend data datastore; password can be
specified in multiple ways, see SyncML server password for
details</p>

<p style="margin-top: 1em">Warning: setting database
user/password in cases where it is not needed, as for
example with local Evolution calendars and addressbooks, can
cause the Evolution backend to <br>
hang.</p>

<p style="margin-top: 1em">EXAMPLES <br>
List the known configuration templates:</p>

<p style="margin-top: 1em">syncevolution --template ?</p>

<p style="margin-top: 1em">Create a new configuration,
using the existing Memotoo template:</p>

<p style="margin-top: 1em">syncevolution --configure
username=123456 &quot;password=!@#ABcd1234&quot; memotoo</p>

<p style="margin-top: 1em">Note that putting passwords into
the command line, even for short-lived processes as the one
above, is a security risk in shared environments, because
the password is visible to <br>
everyone on the machine. To avoid this, remove the password
from the command above, then add the password to the right
config.ini file with a text editor. This command shows the
<br>
directory containing the file:</p>

<p style="margin-top: 1em">syncevolution
--print-configs</p>

<p style="margin-top: 1em">Review configuration:</p>

<p style="margin-top: 1em">syncevolution --print-config
memotoo</p>

<p style="margin-top: 1em">Synchronize all datastores:</p>

<p style="margin-top: 1em">syncevolution memotoo</p>

<p style="margin-top: 1em">Deactivate all datastores:</p>

<p style="margin-top: 1em">syncevolution --configure
sync=none memotoo</p>

<p style="margin-top: 1em">Activate address book
synchronization again, using the --sync shortcut:</p>

<p style="margin-top: 1em">syncevolution --configure --sync
two-way memotoo addressbook</p>

<p style="margin-top: 1em">Change the password for a
configuration:</p>

<p style="margin-top: 1em">syncevolution --configure
password=foo memotoo</p>

<p style="margin-top: 1em">Set up another configuration for
under a different account, using the same default databases
as above:</p>

<p style="margin-top: 1em">syncevolution --configure
username=joe password=foo --template memotoo memotoo_joe</p>

<p style="margin-top: 1em">Set up another configuration
using the same account, but different local databases (can
be used to simulate synchronizing between two clients, see
Exchanging Data:</p>

<p style="margin-top: 1em">syncevolution --configure
username=123456 password=!@#ABcd1234&quot; sync=none
memotoo@other</p>

<p style="margin-top: 1em">syncevolution --configure
database=&lt;name of other address book&gt; @other
addressbook</p>

<p style="margin-top: 1em">syncevolution --configure
sync=two-way memotoo@other addressbook</p>

<p style="margin-top: 1em">syncevolution memotoo <br>
syncevolution memotoo@other</p>

<p style="margin-top: 1em">Migrate a configuration from the
&lt;= 0.7 format to the current one and/or updates the
configuration so that it looks like configurations created
anew with the current syncevolu&acirc; <br>
tion:</p>

<p style="margin-top: 1em">syncevolution --migrate
memotoo</p>

<p style="margin-top: 1em">SYNCHRONIZATION BEYOND SYNCML
<br>
In the simple examples above, SyncEvolution exchanges data
with servers via the SyncML protocol. Starting with release
1.2, SyncEvolution also supports other protocols like
Cal&acirc; <br>
DAV and CardDAV.</p>

<p style="margin-top: 1em">These protocols are implemented
in backends which behave like local datastores.
SyncEvolution then synchronizes data between a pair of
backends. Because the entire sync logic <br>
(matching of items, merging) is done locally by
SyncEvolution, this mode of operation is called local
sync.</p>

<p style="margin-top: 1em">Some examples of things that can
be done with local sync:</p>

<p style="margin-top: 1em">&Acirc;&middot; synchronize
events with a CalDAV server and contacts with a CardDAV
server</p>

<p style="margin-top: 1em">&Acirc;&middot; mirror a local
database as items in a directory, with format conversion and
one-way or two-way data transfer (export vs. true
syncing)</p>

<p style="margin-top: 1em">Because local sync involves two
sides, two sync configurations are needed. One is called the
target config. Traditionally, this really was a
configuration called target-config, <br>
for example target-config@google. Using this particular name
is no longer required.</p>

<p style="margin-top: 1em">The target config can hold
properties which apply to all datastores inside its context,
like user name, password and URL for the server (more on
that below) and sync settings <br>
(like logging and data backups). Once configured, the target
config can be used to list/import/export/update items via
the SyncEvolution command line. It cannot be used for
syn&acirc; <br>
chronization because it does not defined what the items are
supposed to be synchronized with.</p>

<p style="margin-top: 1em">For synchronization, a second
originating config is needed. This config has the same role
as the traditional SyncML sync configs and is typically
defined in the same implicit <br>
@default context as those configs. All configs in that
context use the same local data, thus turning that local
data into the hub through with data flows to all peers that
the <br>
host is configured to sync with.</p>

<p style="margin-top: 1em">A sync config becomes an
originating config in a local sync by setting the syncURL to
the special URL local://[&lt;target config
name&gt;][@&lt;some context name&gt;]. This selects the
tar&acirc; <br>
get config to sync with. If the target config name is left
out, the actual string target-config is used as name. The
context can be omitted if the target config name is unique.
<br>
Originating and target config can be in the same context.
Care must be taken to not use a datastore more than once in
a local sync.</p>

<p style="margin-top: 1em">In addition, peerIsClient=1 must
be set in the originating config, because SyncEvolution only
supports running the SyncML client on the target side. It
makes sense to use the <br>
local databases on originating side, because that side
requires more frequent access to the data.</p>

<p style="margin-top: 1em">The originating config defines
the database pairs, either implicitly (by using the same
datastore names on both sides, which is possible when
different contexts are used) or <br>
explicitly (via the uri properties set for the datastores on
the originating side). The originating config also defines
the sync mode for each pair. uri and sync values on the <br>
target side are ignored and do not have to be specified.</p>

<p style="margin-top: 1em">As a special case, datastores
used in combination with the target config may access the
credentials and syncURL stored there as fallback when
nothing was specified for the datas&acirc; <br>
tores directly. This makes sense for the WebDAV and
ActiveSync backends where the credentials are typically the
same and (depending on the web server) the same start URL
can be <br>
used to find calendar and contact databases. <br>
Warning: when setting password for the target config and
using a keyring, a syncURL or a unique remoteDeviceID string
must be set, because they are needed to identify the host
<br>
in the keyring.</p>

<p style="margin-top: 1em">If this feature is not used, the
syncURL could be left empty because local sync itself does
not use it. However, the command line expects it to be set
to none explicitly to <br>
detect typos. <br>
Warning: because the client in the local sync starts the
sync, preventSlowSync=0 must be set in the target config to
have an effect.</p>

<p style="margin-top: 1em">CALDAV AND CARDDAV <br>
This section explains how to use local syncing for CalDAV
and CardDAV. Both protocols are based on WebDAV and are
provided by the same backend. They share
username/password/syn&acirc; <br>
cURL properties defined in their target config.</p>

<p style="margin-top: 1em">The credentials must be provided
if the server is password protected. The syncURL is optional
if the username is an email address and the server supports
auto-discovery of its <br>
CalDAV and/or CardDAV services (using DNS SRV entries,
.well-known URIs, properties of the current principal,
...).</p>

<p style="margin-top: 1em">Alternatively, credentials can
also be set in the databaseUser and databasePassword
properties of the datastore. The downside is that these
values have to be set for each datas&acirc; <br>
tore and cannot be shared. The advantage is that, in
combination with setting database, such datastores can be
used as part of a normal SyncML server or client sync
config. <br>
SyncEvolution then reads and writes data directly from the
server and exchanges it via SyncML with the peer that is
defined in the sync config.</p>

<p style="margin-top: 1em">The database property of each
datastore can be set to the URL of a specific collection (=
database in WebDAV terminology). If not set, then the WebDAV
backend first locates the <br>
server based on username or syncURL and then scans it for
the default event resp. contact collection. This is done
once in the initial synchronization. At the end of a
successful <br>
synchroniation, the automatic choice is made permanent by
setting the database property. <br>
Warning: the protocols do not uniquely identify this default
collection. The backend tries to make an educated guess, but
it might pick the wrong one if the server provides <br>
more than one address book or calendar. It is safer to scan
for collections manually with --print-databases and then use
the URL of the desired collection as value of data&acirc;
<br>
base.</p>

<p style="margin-top: 1em">To scan for collections,
use:</p>

<p style="margin-top: 1em">syncevolution --print-databases
backend=&lt;caldav or carddav&gt; username=&lt;email address
or user name&gt; &quot;password=!@#ABcd1234&quot;
syncURL=&lt;base URL of server, if server auto-discovery is
not supported&gt;</p>

<p style="margin-top: 1em">Configuration templates for
Google Calendar/Contacts, Yahoo Calendar and a generic
CalDAV/CardDAV server are included in SyncEvolution. The
Yahoo template also contains an entry <br>
for contact synchronization, but using it is not recommended
due to known server-side issues.</p>

<p style="margin-top: 1em">The following commands set up
synchronization with a generic WebDAV server that supports
CalDAV, CardDAV and scanning starting at the root of the
server.</p>

<p style="margin-top: 1em"># configure target config <br>
syncevolution --configure --template webdav
syncURL=http://example.com username=123456
&quot;password=!@#ABcd1234&quot; target-config@webdav</p>

<p style="margin-top: 1em"># configure sync config <br>
syncevolution --configure --template SyncEvolution_Client
syncURL=local://@webdav username= password= webdav calendar
addressbook</p>

<p style="margin-top: 1em"># initial slow sync <br>
syncevolution --sync slow webdav</p>

<p style="margin-top: 1em"># incremental sync <br>
syncevolution webdav</p>

<p style="margin-top: 1em">Here are some alternative ways
of configuring the target config:</p>

<p style="margin-top: 1em"># A) Server supports DNS
auto-discovery via domain name in the username. <br>
syncevolution --configure --template webdav
username=123456@example.com &quot;password=!@#ABcd1234&quot;
target-config@webdav</p>

<p style="margin-top: 1em"># B) Explicitly specify
collections (from server documentation or
--print-databases). <br>
# The &rsquo;calendar&rsquo; and &rsquo;addressbook&rsquo;
names are the ones expected by the sync config <br>
# above, additional datastores can also be configured and/or
the names can be changed. <br>
syncevolution --configure username=123456
&quot;password=!@#ABcd1234&quot; --template none
syncURL=http://example.com addressbook/backend=carddav
addressbook/database=http://example.com/addressbooks/123456/
calendar/backend=caldav
calendar/database=http://example.com/calendar/123456/
target-config@webdav calendar addressbook</p>

<p style="margin-top: 1em">When creating these target
configs, the command line tool tries to verify that the
datastores really work and (in the case of --template
webdav) will enable only datastores which <br>
really work. This involves contacting the WebDAV server.</p>

<p style="margin-top: 1em">Finally, here is how the @webdav
context needs to be configured so that SyncML clients or
servers can be added to it:</p>

<p style="margin-top: 1em"># configure datastores <br>
syncevolution --configure databaseUser=123456
&quot;databasePassword=!@#ABcd1234&quot;
addressbook/backend=carddav
addressbook/database=http://example.com/addressbooks/123456/
calendar/backend=caldav
calendar/database=http://example.com/calendar/123456/
@webdav calendar addressbook</p>

<p style="margin-top: 1em"># configure one peer (Memotoo in
this example): <br>
syncevolution --configure username=654321 password=^749@2524
memotoo@webdav</p>

<p style="margin-top: 1em"># sync <br>
syncevolution --sync slow memotoo@webdav</p>

<p style="margin-top: 1em">Google + OAuth <br>
For Google there is no common start URL for CalDAV and
CardDAV, therefore the &quot;Google&quot; template lists all
that may be relevant and the setup is very similar to the
generic webdav <br>
case, except that the syncURL does not have to be
specified:</p>

<p style="margin-top: 1em"># configure target config <br>
syncevolution --configure --template google
username=john.doe@gmail.com &quot;password=!@#ABcd1234&quot;
target-config@google</p>

<p style="margin-top: 1em"># configure sync config <br>
syncevolution --configure --template SyncEvolution_Client
syncURL=local://@google username= password= google calendar
addressbook</p>

<p style="margin-top: 1em"># initial slow sync <br>
syncevolution --sync slow google</p>

<p style="margin-top: 1em"># incremental sync <br>
syncevolution google</p>

<p style="margin-top: 1em">If your Google account is
configured to use two-factor login, then you need to create
an application specific password for SyncEvolution. See <br>
https://support.google.com/mail/answer/1173270</p>

<p style="margin-top: 1em">Google already announced that
they will turn off support for logging into their
CalDAV/CardDAV services with plain username/password
credentials. SyncEvolution supports the new <br>
login method, OAuth, but it depends on additional components
to implement OAuth: GNOME Online Accounts, Ubuntu Online
Accounts, or gSSO.</p>

<p style="margin-top: 1em">Support for GNOME Online
Accounts (GOA) is compiled into syncevolution.org binaries
and therefore documented here. For instructions regarding
binaries shipped by distributions <br>
please consult the documentation provided by the
distribution or search the web.</p>

<p style="margin-top: 1em">For Google Calendar, GOA &gt;=
3.8 is required. For Google Contacts, GOA 3.8 may work if it
was patched by the distribution (as done in Debian Jessie),
otherwise a version &gt;= 3.10 <br>
is required.</p>

<p style="margin-top: 1em">Use the GNOME Control Center to
create an account for Google. It is not necessary to enable
any of the data categories. That would turn on access in
other GNOME apps (for exam&acirc; <br>
ple, Evolution), whereas SyncEvolution&rsquo;s use of the
account is configured separately via the SyncEvolution
command line.</p>

<p style="margin-top: 1em">When configuring SyncEvolution
for Google, follow the instructions above with
username=goa:&lt;Google email address&gt; and empty
password. If the email address does not uniquely <br>
identify the GOA account, the SyncEvolution command line
will provide a list of accounts to choose from.</p>

<p style="margin-top: 1em">NOTES <br>
Exchanging Data <br>
SyncEvolution transmits address book entries as vCard 2.1 or
3.0 depending on the sync format chosen in the
configuration. Evolution uses 3.0 internally, so
SyncEvolution con&acirc; <br>
verts between the two formats as needed. Calendar items and
tasks can be sent and received in iCalendar 2.0 as well as
vCalendar 1.0, but vCalendar 1.0 should be avoided if
pos&acirc; <br>
sible because it cannot represent all data that Evolution
stores.</p>

<p style="margin-top: 1em">NOTE: <br>
The Evolution backends are mentioned as examples; the same
applies to other datastores.</p>

<p style="margin-top: 1em">How the server stores the items
depends on its implementation and configuration. To check
which data is preserved, one can use this procedure
(described for contacts, but works <br>
the same way for calendars and tasks):</p>

<p style="margin-top: 1em">1. synchronize the address book
with the server</p>

<p style="margin-top: 1em">2. create a new address book in
Evolution and view it in Evolution once (the second step is
necessary in at least Evolution 2.0.4 to make the new
address book usable in SyncEvo&acirc; <br>
lution)</p>

<p style="margin-top: 1em">3. add a configuration for that
second address book and the same URI on the SyncML server,
see EXAMPLES above</p>

<p style="margin-top: 1em">4. synchronize again, this time
using the other datastore</p>

<p style="margin-top: 1em">Now one can either compare the
address books in Evolution or do that automatically,
described here for contacts:</p>

<p style="margin-top: 1em">&Acirc;&middot; save the
complete address books: mark all entries, save as vCard</p>

<p style="margin-top: 1em">&Acirc;&middot; invoke
synccompare with two file names as arguments and it will
normalize and compare them automatically</p>

<p style="margin-top: 1em">Normalizing is necessary because
the order of cards and their properties as well as other
minor formatting aspects may be different. The output comes
from a side-by-side compari&acirc; <br>
son, but is augmented by the script so that the context of
each change is always the complete item that was modified.
Lines or items following a &quot;&gt;&quot; on the right
side were added, <br>
those on the left side followed by a &quot;&lt;&quot; were
removed, and those with a &quot;|&quot; between text on the
left and right side were modified.</p>

<p style="margin-top: 1em">The automatic unit testing (see
HACKING) contains a testItems test which verifies the
copying of special entries using the same method.</p>

<p style="margin-top: 1em">Modifying one of the address
books or even both at the same time and then synchronizing
back and forth can be used to verify that SyncEvolution
works as expected. If you do not <br>
trust SyncEvolution or the server, then it is prudent to run
these checks with a copy of the original address book. Make
a backup of the .evolution/addressbook directory.</p>

<p style="margin-top: 1em">Item Changes and Data Changes
<br>
SyncML clients and servers consider each entry in a database
as one item. Items can be added, removed or updated. This is
the item change information that client and server <br>
exchange during a normal, incremental synchronization.</p>

<p style="margin-top: 1em">If an item is saved, removed
locally, and reimported, then this is usually reported to a
peer as &quot;one item removed, one added&quot; because the
information available to SyncEvolution <br>
is not sufficient to determine that this is in fact the same
item. One exception are iCalendar 2.0 items with their
globally unique ID: the modification above will be reported
to <br>
the server as &quot;one item updated&quot;.</p>

<p style="margin-top: 1em">That is better, but still not
quite correct because the content of the item has not
changed, only the meta information about it which is used to
detect changes. This cannot be <br>
avoided without creating additional overhead for normal
synchronizations.</p>

<p style="margin-top: 1em">SyncEvolution reports item
changes (the number of added, removed and updated items) as
well as data changes. These data changes are calculated by
comparing database dumps using <br>
the synccompare tool. Because this data comparison ignores
information about which data belongs to which item, it is
able to detect that re-adding an item that was removed
ear&acirc; <br>
lier does not change the data, in contrast to the item
changes. On the other hand, removing one item and adding a
different one may look like updating just one item.</p>

<p style="margin-top: 1em">Automatic Backups and Logging
<br>
To support recovery from a synchronization which damaged the
local data or modified it in an unexpected way,
SyncEvolution can create the following files during a
synchroniza&acirc; <br>
tion:</p>

<p style="margin-top: 1em">&Acirc;&middot; a dump of the
data in a format which can be restored by SyncEvolution,
usually a single file per item containing in a standard text
format (VCARD/VCALENDAR)</p>

<p style="margin-top: 1em">&Acirc;&middot; a full log file
with debug information</p>

<p style="margin-top: 1em">&Acirc;&middot; another dump of
the data after the synchronization for automatic comparison
of the before/after state with synccompare</p>

<p style="margin-top: 1em">If the sync configuration
property logdir is set, then a new directory will be created
for each synchronization in that directory, using the format
<br>

&lt;peer&gt;-&lt;yyyy&gt;-&lt;mm&gt;-&lt;dd&gt;-&lt;hh&gt;-&lt;mm&gt;[-&lt;seq&gt;]
with the various fields filled in with the time when the
synchronization started. The sequence suffix will only be
used when necessary <br>
to make the name unique. By default, SyncEvolution will
never delete any data in that log directory unless
explicitly asked to keep only a limited number of previous
log directo&acirc; <br>
ries.</p>

<p style="margin-top: 1em">This is done by setting the
maxlogdirs limit to something different than the empty
string and 0. If a limit is set, then SyncEvolution will
only keep that many log directories <br>
and start removing the &quot;less interesting&quot; ones
when it reaches the limit. Less interesting are those where
no data changed and no error occurred.</p>

<p style="margin-top: 1em">To avoid writing any additional
log file or database dumps during a synchronization, the
logdir can be set to none. To reduce the verbosity of the
log, set loglevel. If not set <br>
or 0, then the verbosity is set to 3 = DEBUG when writing to
a log file and 2 = INFO when writing to the console
directly. To debug issues involving data conversion, level 4
also <br>
dumps the content of items into the log.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The following environment variables control where
SyncEvolution finds files and other aspects of its
operations.</p>

<p style="margin-top: 1em">http_proxy <br>
Overrides the proxy settings temporarily. Setting it to an
empty value disables the normal proxy settings.</p>


<p style="margin-top: 1em">HOME/XDG_CACHE_HOME/XDG_CONFIG_HOME
<br>
SyncEvolution follows the XDG desktop standard for its
files. By default, $HOME/.config/syncevolution is the
location for configuration files. $HOME/.cache/syncevolution
<br>
holds session directories with log files and database
dumps.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_DEBUG <br>
Setting this to any value disables the filtering of stdout
and stderr that SyncEvolution employs to keep noise from
system libraries out of the command line output.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_GNUTLS_DEBUG <br>
Enables additional debugging output when using the libsoup
HTTP transport library.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_DATA_DIR <br>
Overrides the default path to the bluetooth device lookup
table, normally /usr/lib/syncevolution/.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_BACKEND_DIR <br>
Overrides the default path to plugins, normally
/usr/lib/syncevolution/backends.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_LIBEXEC_DIR <br>
Overrides the path where additional helper executables are
found, normally /usr/libexec.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_LOCALE_DIR <br>
Overrides the path to directories with the different
translations, normally /usr/share/locale.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_TEMPLATE_DIR <br>
Overrides the default path to template files, normally
/usr/share/syncevolution/templates.</p>

<p style="margin-top: 1em">SYNCEVOLUTION_XML_CONFIG_DIR
<br>
Overrides the default path to the Synthesis XML
configuration files, normally /usr/share/syncevolution/xml.
These files are merged into one configuration each time the
<br>
Synthesis SyncML engine is started as part of a sync
session.</p>

<p style="margin-top: 1em">Note that in addition to this
directory, SyncEvolution also always searches for
configuration files inside $HOME/.config/syncevolution-xml.
Files with the same relative <br>
path and name as in /usr/share/syncevolution/xml override
those files, others extend the final configuration.</p>

<p style="margin-top: 1em">BUGS <br>
See known issues and the support web page for more
information.</p>

<p style="margin-top: 1em">SEE ALSO <br>
http://syncevolution.org</p>

<p style="margin-top: 1em">AUTHORS <br>
Main developer <br>
Patrick Ohly &lt;patrick.ohly@intel.com&gt;,
http://www.estamos.de</p>

<p style="margin-top: 1em">Contributors <br>
http://syncevolution.org/about/contributors</p>

<p style="margin-top: 1em">To contact the project publicly
(preferred) <br>
syncevolution@syncevolution.org</p>

<p style="margin-top: 1em">Intel-internal team mailing list
(confidential) <br>
syncevolution@lists.intel.com</p>

<p style="margin-top: 1em">1.5.2 2017-02-12
SYNCEVOLUTION(1)</p>
<hr>
</body>
</html>
