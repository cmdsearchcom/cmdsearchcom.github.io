<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pkgstriptranslations(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pkgstriptranslations(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">pkgstriptranslations(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pkgstriptranslations - extract translation files and remove gettext *.mo files
  from package build directories
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pkgstriptranslations</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pkgstriptranslations</b> extracts all gettext related files from the source
  and package build directories and puts them into
  <i>&lt;pkg-build-dir&gt;/../package_version_arch_suffix.tar.gz.</i>
  <i>suffix</i> is configurable in
  <i>/etc/pkgbinarymangler/striptranslations.conf</i> and defaults to
  <b>translations.</b>
<div style="height: 1.00em;">&#x00A0;</div>
Tarball layout:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>source/</b></dt>
  <dd class="It-tag">contains all pot and po files from source package,
      preserving the directory structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debname1/, debname2/, ...</b></dt>
  <dd class="It-tag">There will be one directory per generated binary deb
      package, each contains all .mo files from this deb, preserving directory
      structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
This script also removes all gettext <i>*.mo</i> files below
  <i>&lt;pkg-build-dir&gt;/usr/share/locale</i> from all built binary packages.
  It will also remove subdirectories which became empty after removal of the
  gettext files. However, if a file <i>/CurrentlyBuilding</i> is present (as on
  the Ubuntu autobuilders), then the <i>*.mo</i> files are only deleted if the
  Component: value in this file matches one of the components configured in
  <i>/etc/pkgbinarymangler/striptranslations.conf.</i> This allows to
  selectively strip files only for source packages which are in e. g.
  <b>main</b> and <b>restricted, but not in e. g.</b> <b>universe.</b>
<div style="height: 1.00em;">&#x00A0;</div>
By default, <b>pkgstriptranslations</b> is inactive. To enable it, the
  <b>enable</b> option in the configuration file must be set to <b>true.</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>NO_PKG_MANGLE</b></dt>
  <dd class="It-tag">If this variable is set to a nonempty value, then
      pkgstriptranslations is disabled. This is most useful if source packages
      build nested binary packages as part of their build.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>pkgstriptranslations</b> is developed by Martin Pitt
  &lt;martin.pitt@canonical.com&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 17, 2004</td>
    <td class="foot-os">Martin Pitt</td>
  </tr>
</table>
</body>
</html>
