<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>m.proj(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">m.proj(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">m.proj(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>m.proj</b> - Converts coordinates from one projection to another
  (cs2cs frontend).
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
miscellaneous, projection
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>m.proj</b>
<div>&#x00A0;</div>
<b>m.proj --help</b>
<div>&#x00A0;</div>
<b>m.proj</b> [-<b>iodec</b>] [<b>coordinates</b>=<i>east,north</i>]
  [<b>input</b>= <i>name</i>] [<b>output</b>=<i>name</i>]
  [<b>separator</b>=<i>character</i>] [ <b>proj_in</b>=<i>string</i>]
  [<b>proj_out</b>= <i>string</i>] [--<b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use LL WGS84 as input and current location as output projection</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use current location as input and LL WGS84 as output projection</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output long/lat in decimal degrees, or other projections with many decimal
      places</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Include input coordinates in output file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Include column names in output file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>coordinates</b>=<i>east,north</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input coordinates to reproject</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input coordinate file
    <div>&#x00A0;</div>
    &#x2019;-&#x2019; for standard input</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output coordinate file (omit to send to stdout)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b>=<i>character</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Field separator (format: input[,output])
    <div>&#x00A0;</div>
    Special characters: pipe, comma, space, tab, newline
    <div>&#x00A0;</div>
    Default: <i>pipe</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>proj_in</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input projection parameters (PROJ.4 style)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>proj_out</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output projection parameters (PROJ.4 style)</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program allows a user to convert coordinates from one projection to
  another. Coordinates can be read from one file, converted, and results written
  to another file. Alternatively, if the <b>input=-</b>, eastings and northings
  may be passed to the program directly from standard input. If the
  <b>output</b> option is omitted, the results are sent directly to standard
  output. In this way <i>m.proj</i> can be used as a simple frontend to the
  PROJ.4 <i>cs2cs</i> utility. The <b>-i</b> or <b>-o</b> flags make the task
  especially easy for the common problem of converting to or from lat/long
  WGS84.
<div class="Pp"></div>
<i>Note</i>: This program does not transform GRASS maps, it is designed to
  determine the equivalent coordinate values of an individual position or list
  of positions. Use <i>v.proj</i> to reproject vector maps or <i>r.proj</i> for
  raster maps.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<i>cs2cs</i> expects input data to formatted as x y, so if working with
  latitude-longitude data be sure to send the x value first, i.e., longitude
  latitude. Output data will be exported using the same convention.
<div class="Pp"></div>
<i>cs2cs</i> will treat a third data column as a z value (elevation) and will
  modify the value accordingly. This usually translates into small but real
  differences in that data column.
<div class="Pp"></div>
<i>cs2cs</i> does not expect the input stream to contain column headings, only
  numbers. If your data file has lines you wish to have passed through without
  being processed, they must start with the &#x2019;#&#x2019; character.
<div class="Pp"></div>
If sending <i>m.proj</i> data from standard input, be aware that the data is
  first stored to a temporary file before being processed with <i>cs2cs</i>. It
  is therefore not advisable to send <i>m.proj</i> data from an open data
  stream. The module will stop listening for incoming data after 2 seconds of
  inactivity. You may use the projection parameters gleaned from
  <i>m.proj</i>&#x2019;s verbose mode ( <b>--verbose</b>) with <i>cs2cs</i>
  directly in this case.
<div class="Pp"></div>
Custom projection parameters can be used via the <b>proj_in</b> and
  <b>proj_out</b> options. Full documentation of the projection parameter format
  may be found on the PROJ.4 website. Using these options will fully override
  the default parameters the module would normally use.
<div class="Pp"></div>
By using the <b>--verbose</b> verbose flag, the user can see exactly what
  projection parameters will be used in the conversion as well as some other
  informative messages.
<div class="Pp"></div>
If output is to lat/long, it will be formatted using PROJ.4&#x2019;s
  Degree:Minute:Second (DMS) convention of DDDdMM&#x2019;SSS.SS&quot;H. This can
  be handy if you wish to quickly convert lat/long decimal degree data into its
  DMS equivalent.
<div>&#x00A0;</div>
Alternatively, to have <i>m.proj</i> output data in decimal degrees, use the
  <b>-d</b> flag. This flag can also be used with non-lat/long data to force a
  higher number of decimal places (the <i>cs2cs</i> default is 2).
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Lat/long output can be converted to GRASS&#x2019;s DMS convention
  (DDD:MM:SSS.SSSH) by piping the results of <i>m.proj</i> through the
  <i>sed</i> stream editor as follows.
<div>&#x00A0;</div>
<pre>
m.proj -o | sed -e &#x2019;s/d/:/g&#x2019; -e &quot;s/&#x2019;/:/g&quot;  -e &#x2019;s/&quot;//g&#x2019;
</pre>
<div class="Pp"></div>
The <i>m.proj</i> module is designed to work seamlessly with point data exported
  from the GIS with <i>v.out.ascii</i>, as the following example shows.
<div>&#x00A0;</div>
<pre>
v.out.ascii bugsites | m.proj -o
</pre>
<div class="Pp"></div>
To convert a WGS84 long/lat coordinate to the current map projection using the
  <b>-i</b> flag to set projection parameters automatically:
<div>&#x00A0;</div>
<pre>
echo &quot;170.510125 -45.868537&quot; | m.proj -i input=-
2316541.70|5479193.51|1.23
</pre>
<div class="Pp"></div>
The same, but load points from a file named waypoints.txt and continue on to
  import the results into a GRASS vector points map in the current map
  projection:
<div>&#x00A0;</div>
<pre>
m.proj -i in=waypoints.txt | cut -f1-2 -d&#x2019;|&#x2019; | v.in.ascii out=test_pt
</pre>
Here the standard UNIX <i>cut</i> tool is used to discard the z residual.
<div class="Pp"></div>
To convert all coordinates from a vector points map in the current projection to
  WGS84 long/lat, with output in decimal form:
<div>&#x00A0;</div>
<pre>
v.out.ascii bugsites | m.proj -od input=-
</pre>
<div class="Pp"></div>
To transform points from a UTM projection into the Gauss-Kr&#x00FC;ger Grid
  System, importing and exporting to files:
<div>&#x00A0;</div>
<pre>
m.proj proj_in=&quot;+proj=utm +name=utm +a=6378137.0 +es=0.006694380 \
    +zone=32 +unfact=1.0&quot; proj_out=&quot;+proj=tmerc +name=tmerc \
    +a=6377397.155 +es=0.0066743720 +lat_0=0.0 +lon_0=9.0 +k=1.0 \
    +x_0=3500000.0&quot; input=utm.coord.txt output=new.gk.coord.txt
</pre>
<div class="Pp"></div>
Projection parameters provided in the above case: +proj (projection type), +name
  (projection name), +a (ellipsoid: equatorial radius), +es (ellipsoid:
  eccentricity squared), +zone (zone for the area), +unfact (conversion factor
  from meters to other units, e.g. feet), +lat_0 (standard parallel), +lon_0
  (central meridian), +k (scale factor) and +x_0 (false easting). Sometimes
  false northing is needed which is coded as +y_0. Internally, the underlying
  PROJ.4 projection library performs an inverse projection to latitude-longitude
  and then projects the coordinate list to the target projection.
<div class="Pp"></div>
Datum conversions are automatically handled by the PROJ.4 library if +datum
  setings are specified on <b>both</b> the input <b>and</b> output projections
  on the command line. The +towgs84 parameter can be used to define either 3 or
  7 term datum transform coefficients, satisfying this requirement.
<div class="Pp"></div>
If a datum is specified there is no need for the +ellps= or underlying
  parameters, +a=, +es=, etc.
<div class="Pp"></div>
Another custom parameter usage example:
<div>&#x00A0;</div>
<pre>
m.proj proj_in=&quot;+proj=tmerc +datum=ire65 +lat_0=53.5 +lon_0=-8 +x_0=200000 \
    +y_0=250000 +k=1.000035&quot; proj_out=&quot;+proj=ll +datum=wgs84&quot; input=wpt.txt
</pre>
or without datum transformation:
<div>&#x00A0;</div>
<pre>
m.proj proj_in=&quot;+proj=tmerc +ellps=modif_airy +lat_0=53.5 +lon_0=-8 +x_0=200000 \
    +y_0=250000 +k=1.000035&quot; proj_out=&quot;+proj=ll +datum=wgs84&quot; input=wpt.txt
</pre>
<div class="Pp"></div>
In this example no datum transformation will take place as a datum was not
  specified for the input projection. The datum specified for the output
  projection will thus be silently ignored and may be left out; all that is
  achieved a simple conversion from projected to geodetic co-ordinates, keeping
  the same datum (and thus also the same ellipsoid).
<div class="Pp"></div>
For more usage examples, see the documentation for the PROJ.4 <i>cs2cs</i>
  program.
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Evenden, G.I. (1990) Cartographic projection procedures for
      the UNIX environment - a user&#x2019;s manual. USGS Open-File Report
      90-284 (OF90-284.pdf) See also there: Interim Report and 2nd Interim
      Report on Release 4, Evenden 1994).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">PROJ.4 Cartographic Projection Library</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>v.proj,</i> <i>r.proj,</i> <i>g.proj,</i> <i>i.rectify,</i>
  <i>v.in.ascii,</i> <i>v.out.ascii</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
M. Hamish Bowman, Dept. Marine Science, Otago University, New Zealand
<div>&#x00A0;</div>
Functionality inspired by the <i>m.proj</i> and <i>m.proj2</i> modules for GRASS
  GIS 5.
<div class="Pp"></div>
<i>Last changed: $Date: 2016-05-28 08:53:59 +0200 (Sat, 28 May 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: m.proj source code (history)
<div class="Pp"></div>
Main index | Misc index | Topics index | Keywords index | Graphical index | Full
  index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
