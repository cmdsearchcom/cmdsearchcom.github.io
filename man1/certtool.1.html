<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>certtool(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">certtool(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">certtool(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>certtool</b> - GnuTLS certificate tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>certtool</b> [ <b>-flags</b>] [ <b>-flag</b> [<i>value</i>]] [
  <b>--option-name</b>[[=| ] <i>value</i>]]
<div style="height: 0.00ex;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
All arguments must be options.
<div style="height: 0.00ex;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Tool to parse and generate X.509 certificates, requests and private keys. It can
  be used interactively or non interactively by specifying the template command
  line option.
<div style="height: 1.00em;">&#x00A0;</div>
The tool accepts files or URLs supported by GnuTLS. In case PIN is required for
  the URL access you can provide it using the environment variables GNUTLS_PIN
  and GNUTLS_SO_PIN.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>number</i>, <b>--debug</b>=<i>number</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Enable debugging. This option takes an integer number as its argument. The
      value of <i>number</i> is constrained to being:
    <br/>
    <pre>
in the range  0 through 9999
    </pre>
    <br/>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the debug level.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    More verbose output. This option may appear an unlimited number of times.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--infile</b>=<i>file</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--outfile</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--generate-self-signed</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a self-signed certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--generate-certificate</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a signed certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--generate-proxy</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generates a proxy certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--generate-crl</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a CRL.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>, <b>--update-certificate</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Update a signed certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>, <b>--generate-privkey</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a private key.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--generate-request</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a PKCS #10 certificate request. This option must not appear in
      combination with any of the following options: infile.
    <div style="height: 1.00em;">&#x00A0;</div>
    Will generate a PKCS #10 certificate request. To specify a private key use
      --load-privkey.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--verify-chain</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verify a PEM encoded certificate chain.
    <div style="height: 1.00em;">&#x00A0;</div>
    The last certificate in the chain must be a self signed one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verify</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verify a PEM encoded certificate chain using a trusted list.
    <div style="height: 1.00em;">&#x00A0;</div>
    The trusted certificate list can be loaded with --load-ca-certificate. If no
      certificate list is provided, then the system's certificate list is
    used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verify-crl</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verify a CRL using a trusted list. This option must appear in combination
      with the following options: load-ca-certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    The trusted certificate list must be loaded with --load-ca-certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--generate-dh-params</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate PKCS #3 encoded Diffie-Hellman parameters.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--get-dh-params</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Get the included PKCS #3 encoded Diffie-Hellman parameters.
    <div style="height: 1.00em;">&#x00A0;</div>
    Returns stored DH parameters in GnuTLS. Those parameters are used in the SRP
      protocol. The parameters returned by fresh generation are more efficient
      since GnuTLS 3.0.9.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dh-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information PKCS #3 encoded Diffie-Hellman parameters.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-privkey</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads a private key file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-pubkey</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads a public key file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-request</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads a certificate request file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-certificate</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads a certificate file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-ca-privkey</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads the certificate authority's private key file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-ca-certificate</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads the certificate authority's certificate file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--password</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Password to use.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use this option to specify the password in the command line instead
      of reading it from the tty. Note, that the command line arguments are
      available for view in others in the system. Specifying password as '' is
      the same as specifying no password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--null-password</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Enforce a NULL password.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option enforces a NULL password. This is different than the empty or no
      password in schemas like PKCS #8.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--empty-password</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Enforce an empty password.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option enforces an empty password. This is different than the NULL or
      no password in schemas like PKCS #8.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hex-numbers</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print big number in an easier format to parse.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cprint</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    In certain operations it prints the information in C-friendly format.
    <div style="height: 1.00em;">&#x00A0;</div>
    In certain operations it prints the information in C-friendly format,
      suitable for including into C programs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--certificate-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on the given certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--certificate-pubkey</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print certificate's public key.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pgp-certificate-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on the given OpenPGP certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pgp-ring-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on the given OpenPGP keyring structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--crl-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on the given CRL structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--crq-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on the given certificate request.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-crq-extensions</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not use extensions in certificate requests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--p12-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on a PKCS #12 structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--p12-name</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The PKCS #12 friendly name to use.
    <div style="height: 1.00em;">&#x00A0;</div>
    The name to be used for the primary certificate and private key in a PKCS
      #12 file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--p7-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on a PKCS #7 structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--smime-to-p7</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Convert S/MIME to PKCS #7 structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b>, <b>--key-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on a private key.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pgp-key-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on an OpenPGP private key.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pubkey-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information on a public key.
    <div style="height: 1.00em;">&#x00A0;</div>
    The option combined with --load-request, --load-pubkey, --load-privkey and
      --load-certificate will extract the public key of the object in
    question.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--v1</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate an X.509 version 1 certificate (with no extensions).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--to-p12</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a PKCS #12 structure. This option must appear in combination with
      the following options: load-certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    It requires a certificate, a private key and possibly a CA certificate to be
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--to-p8</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate a PKCS #8 structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-8</b>, <b>--pkcs8</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use PKCS #8 format for private keys.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rsa</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate RSA key.
    <div style="height: 1.00em;">&#x00A0;</div>
    When combined with --generate-privkey generates an RSA private key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dsa</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate DSA key.
    <div style="height: 1.00em;">&#x00A0;</div>
    When combined with --generate-privkey generates a DSA private key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ecc</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Generate ECC (ECDSA) key.
    <div style="height: 1.00em;">&#x00A0;</div>
    When combined with --generate-privkey generates an elliptic curve private
      key to be used with ECDSA.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ecdsa</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This is an alias for the <i>--ecc</i> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hash</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Hash algorithm to use for signing.
    <div style="height: 1.00em;">&#x00A0;</div>
    Available hash functions are SHA1, RMD160, SHA256, SHA384, SHA512.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--inder</b>, <b>- Fl -no-inder</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use DER format for input certificates, private keys, and DH parameters . The
      <i>no-inder</i> form will disable the option.
    <div style="height: 1.00em;">&#x00A0;</div>
    The input files will be assumed to be in DER or RAW format. Unlike options
      that in PEM input would allow multiple input data (e.g. multiple
      certificates), when reading in DER format a single data structure is
    read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--inraw</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This is an alias for the <i>--inder</i> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--outder</b>, <b>- Fl -no-outder</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use DER format for output certificates, private keys, and DH parameters. The
      <i>no-outder</i> form will disable the option.
    <div style="height: 1.00em;">&#x00A0;</div>
    The output will be in DER or RAW format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--outraw</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This is an alias for the <i>--outder</i> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bits</b>=<i>number</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specify the number of bits for key generate. This option takes an integer
      number as its argument.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--curve</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specify the curve used for EC key generation.
    <div style="height: 1.00em;">&#x00A0;</div>
    Supported values are secp192r1, secp224r1, secp256r1, secp384r1 and
      secp521r1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sec-param</b>=<i>security</i> <i>parameter</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specify the security level [low, legacy, medium, high, ultra].
    <div style="height: 1.00em;">&#x00A0;</div>
    This is alternative to the bits option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-quick-random</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    No effect.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--template</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Template file to use for non-interactive operation.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--stdout-info</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print information to stdout instead of stderr.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ask-pass</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Enable interaction for entering password when in batch mode..
    <div style="height: 1.00em;">&#x00A0;</div>
    This option will enable interaction to enter password when in batch mode.
      That is useful when the template option has been specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pkcs-cipher</b>=<i>cipher</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Cipher to use for PKCS #8 and #12 operations.
    <div style="height: 1.00em;">&#x00A0;</div>
    Cipher may be one of 3des, 3des-pkcs12, aes-128, aes-192, aes-256, rc2-40,
      arcfour.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--provider</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specify the PKCS #11 provider library.
    <div style="height: 1.00em;">&#x00A0;</div>
    This will override the default options in /etc/gnutls/pkcs11.conf</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Display usage information and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-!</b>, <b>--more-help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Pass the extended usage information through a pager.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b> [{<i>v|c|n</i> <b>--version</b>
    [{<i>v|c|n</i>}]}]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output version of program and exit. The default mode is `v', a simple
      version. The `c' mode will print copyright information and `n' will print
      the full copyright notice.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>Certtool's template file format</b>
<div>&#x00A0;</div>
A template file can be used to avoid the interactive questions of certtool.
  Initially create a file named 'cert.cfg' that contains the information about
  the certificate. The template can be used as below:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-certificate --load-privkey key.pem     --template cert.cfg --outfile cert.pem    --load-ca-certificate ca-cert.pem --load-ca-privkey ca-key.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
An example certtool template file that can be used to generate a certificate
  request or a self signed certificate follows.
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
# X.509 Certificate options
#
# DN options
<div style="height: 1.00em;">&#x00A0;</div>
# The organization of the subject.
organization = &quot;Koko inc.&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# The organizational unit of the subject.
unit = &quot;sleeping dept.&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# The locality of the subject.
# locality =
<div style="height: 1.00em;">&#x00A0;</div>
# The state of the certificate owner.
state = &quot;Attiki&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# The country of the subject. Two letter code.
country = GR
<div style="height: 1.00em;">&#x00A0;</div>
# The common name of the certificate owner.
cn = &quot;Cindy Lauper&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# A user id of the certificate owner.
#uid = &quot;clauper&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# Set domain components
#dc = &quot;name&quot;
#dc = &quot;domain&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# If the supported DN OIDs are not adequate you can set
# any OID here.
# For example set the X.520 Title and the X.520 Pseudonym
# by using OID and string pairs.
#dn_oid = 2.5.4.12 Dr. 
#dn_oid = 2.5.4.65 jackal
<div style="height: 1.00em;">&#x00A0;</div>
# This is deprecated and should not be used in new
# certificates.
# pkcs9_email = &quot;none@none.org&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# An alternative way to set the certificate's distinguished name directly
# is with the &quot;dn&quot; option. The attribute names allowed are:
# C (country), street, O (organization), OU (unit), title, CN (common name),
# L (locality), ST (state), placeOfBirth, gender, countryOfCitizenship, 
# countryOfResidence, serialNumber, telephoneNumber, surName, initials, 
# generationQualifier, givenName, pseudonym, dnQualifier, postalCode, name, 
# businessCategory, DC, UID, jurisdictionOfIncorporationLocalityName, 
# jurisdictionOfIncorporationStateOrProvinceName,
# jurisdictionOfIncorporationCountryName, XmppAddr, and numeric OIDs.
<div style="height: 1.00em;">&#x00A0;</div>
#dn = &quot;cn=Nik,st=Attiki,C=GR,surName=Mavrogiannopoulos,2.5.4.9=Arkadias&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# The serial number of the certificate
# Comment the field for a time-based serial number.
serial = 007
<div style="height: 1.00em;">&#x00A0;</div>
# In how many days, counting from today, this certificate will expire.
# Use -1 if there is no expiration date.
expiration_days = 700
<div style="height: 1.00em;">&#x00A0;</div>
# Alternatively you may set concrete dates and time. The GNU date string 
# formats are accepted. See:
# http://www.gnu.org/software/tar/manual/html_node/Date-input-formats.html
<div style="height: 1.00em;">&#x00A0;</div>
#activation_date = &quot;2004-02-29 16:21:42&quot;
#expiration_date = &quot;2025-02-29 16:24:41&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# X.509 v3 extensions
<div style="height: 1.00em;">&#x00A0;</div>
# A dnsname in case of a WWW server.
#dns_name = &quot;www.none.org&quot;
#dns_name = &quot;www.morethanone.org&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# A subject alternative name URI
#uri = &quot;http://www.example.com&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# An IP address in case of a server.
#ip_address = &quot;192.168.1.1&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# An email in case of a person
email = &quot;none@none.org&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# Challenge password used in certificate requests
challenge_password = 123456
<div style="height: 1.00em;">&#x00A0;</div>
# Password when encrypting a private key
#password = secret
<div style="height: 1.00em;">&#x00A0;</div>
# An URL that has CRLs (certificate revocation lists)
# available. Needed in CA certificates.
#crl_dist_points = &quot;http://www.getcrl.crl/getcrl/&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this is a CA certificate or not
#ca
<div style="height: 1.00em;">&#x00A0;</div>
# for microsoft smart card logon
# key_purpose_oid = 1.3.6.1.4.1.311.20.2.2
<div style="height: 1.00em;">&#x00A0;</div>
### Other predefined key purpose OIDs
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this certificate will be used for a TLS client
#tls_www_client
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this certificate will be used for a TLS server
#tls_www_server
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this certificate will be used to sign data (needed
# in TLS DHE ciphersuites).
signing_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this certificate will be used to encrypt data (needed
# in TLS RSA ciphersuites). Note that it is preferred to use different
# keys for encryption and signing.
encryption_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this key will be used to sign other certificates.
#cert_signing_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this key will be used to sign CRLs.
#crl_signing_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this key will be used to sign code.
#code_signing_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this key will be used to sign OCSP data.
#ocsp_signing_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this key will be used for time stamping.
#time_stamping_key
<div style="height: 1.00em;">&#x00A0;</div>
# Whether this key will be used for IPsec IKE operations.
#ipsec_ike_key
<div style="height: 1.00em;">&#x00A0;</div>
### end of key purpose OIDs
<div style="height: 1.00em;">&#x00A0;</div>
# When generating a certificate from a certificate
# request, then honor the extensions stored in the request
# and store them in the real certificate.
#honor_crq_extensions
<div style="height: 1.00em;">&#x00A0;</div>
# Path length contraint. Sets the maximum number of
# certificates that can be used to certify this certificate.
# (i.e. the certificate chain length)
#path_len = -1
#path_len = 2
<div style="height: 1.00em;">&#x00A0;</div>
# OCSP URI
# ocsp_uri = http://my.ocsp.server/ocsp
<div style="height: 1.00em;">&#x00A0;</div>
# CA issuers URI
# ca_issuers_uri = http://my.ca.issuer
<div style="height: 1.00em;">&#x00A0;</div>
# Certificate policies
#policy1 = 1.3.6.1.4.1.5484.1.10.99.1.0
#policy1_txt = &quot;This is a long policy to summarize&quot;
#policy1_url = http://www.example.com/a-policy-to-read
<div style="height: 1.00em;">&#x00A0;</div>
#policy2 = 1.3.6.1.4.1.5484.1.10.99.1.1
#policy2_txt = &quot;This is a short policy&quot;
#policy2_url = http://www.example.com/another-policy-to-read
<div style="height: 1.00em;">&#x00A0;</div>
# Name constraints
<div style="height: 1.00em;">&#x00A0;</div>
# DNS
#nc_permit_dns = example.com
#nc_exclude_dns = test.example.com
<div style="height: 1.00em;">&#x00A0;</div>
# EMAIL
#nc_permit_email = &quot;nmav@ex.net&quot;
<div style="height: 1.00em;">&#x00A0;</div>
# Exclude subdomains of example.com
#nc_exclude_email = .example.com
<div style="height: 1.00em;">&#x00A0;</div>
# Exclude all e-mail addresses of example.com
#nc_exclude_email = example.com
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
# Options for proxy certificates
#proxy_policy_language = 1.3.6.1.5.5.7.21.1
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
# Options for generating a CRL
<div style="height: 1.00em;">&#x00A0;</div>
# The number of days the next CRL update will be due.
# next CRL update will be in 43 days
#crl_next_update = 43
<div style="height: 1.00em;">&#x00A0;</div>
# this is the 5th CRL by this CA
# Comment the field for a time-based number.
#crl_number = 5
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>Generating private keys</b>
<div>&#x00A0;</div>
To create an RSA private key, run:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-privkey --outfile key.pem --rsa
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To create a DSA or elliptic curves (ECDSA) private key use the above command
  combined with 'dsa' or 'ecc' options.
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Generating certificate requests</b>
<div>&#x00A0;</div>
To create a certificate request (needed when the certificate is issued by
  another party), run:
<div>&#x00A0;</div>
<br/>
<pre>
certtool --generate-request --load-privkey key.pem    --outfile request.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
If the private key is stored in a smart card you can generate a request by
  specifying the private key object URL.
<div>&#x00A0;</div>
<br/>
<pre>
$ ./certtool --generate-request --load-privkey &quot;pkcs11:...&quot;   --load-pubkey &quot;pkcs11:...&quot; --outfile request.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Generating a self-signed certificate</b>
<div>&#x00A0;</div>
To create a self signed certificate, use the command:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-privkey --outfile ca-key.pem
$ certtool --generate-self-signed --load-privkey ca-key.pem    --outfile ca-cert.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Note that a self-signed certificate usually belongs to a certificate authority,
  that signs other certificates.
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Generating a certificate</b>
<div>&#x00A0;</div>
To generate a certificate using the previous request, use the command:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-certificate --load-request request.pem    --outfile cert.pem --load-ca-certificate ca-cert.pem    --load-ca-privkey ca-key.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To generate a certificate using the private key only, use the command:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-certificate --load-privkey key.pem    --outfile cert.pem --load-ca-certificate ca-cert.pem    --load-ca-privkey ca-key.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Certificate information</b>
<div>&#x00A0;</div>
To view the certificate information, use:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --certificate-info --infile cert.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>PKCS #12 structure generation</b>
<div>&#x00A0;</div>
To generate a PKCS #12 structure using the previous key and certificate, use the
  command:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --load-certificate cert.pem --load-privkey key.pem    --to-p12 --outder --outfile key.p12
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Some tools (reportedly web browsers) have problems with that file because it
  does not contain the CA certificate for the certificate. To work around that
  problem in the tool, you can use the --load-ca-certificate parameter as
  follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --load-ca-certificate ca.pem   --load-certificate cert.pem --load-privkey key.pem   --to-p12 --outder --outfile key.p12
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Diffie-Hellman parameter generation</b>
<div>&#x00A0;</div>
To generate parameters for Diffie-Hellman key exchange, use the command:
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-dh-params --outfile dh.pem --sec-param medium
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Proxy certificate generation</b>
<div>&#x00A0;</div>
Proxy certificate can be used to delegate your credential to a temporary,
  typically short-lived, certificate. To create one from the previously created
  certificate, first create a temporary key and then generate a proxy
  certificate for it, using the commands:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-privkey &gt; proxy-key.pem
$ certtool --generate-proxy --load-ca-privkey key.pem   --load-privkey proxy-key.pem --load-certificate cert.pem   --outfile proxy-cert.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Certificate revocation list generation</b>
<div>&#x00A0;</div>
To create an empty Certificate Revocation List (CRL) do:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-crl --load-ca-privkey x509-ca-key.pem            --load-ca-certificate x509-ca.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To create a CRL that contains some revoked certificates, place the certificates
  in a file and use <b>--load-certificate</b> as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --generate-crl --load-ca-privkey x509-ca-key.pem   --load-ca-certificate x509-ca.pem --load-certificate revoked-certs.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To verify a Certificate Revocation List (CRL) do:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
<pre>
$ certtool --verify-crl --load-ca-certificate x509-ca.pem &lt; crl.pem
<br/>
</pre>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
One of the following exit values will be returned:
<dl class="Bl-tag">
  <dt class="It-tag">0 (EXIT_SUCCESS)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Successful program execution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1 (EXIT_FAILURE)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The operation failed or the command syntax was not valid.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">70 (EX_SOFTWARE)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    libopts had an internal operational error. Please report it to
      autogen-users@lists.sourceforge.net. Thank you.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<br/>
 p11tool (1)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Nikos Mavrogiannopoulos, Simon Josefsson and others; see
  /usr/share/doc/gnutls/AUTHORS for a complete list.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2000-2016 Free Software Foundation, and others all rights
  reserved. This program is released under the terms of the GNU General Public
  License, version 3 or later.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please send bug reports to: bugs@gnutls.org
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
This manual page was <i>AutoGen</i>-erated from the <b>certtool</b> option
  definitions.</div>
<table class="foot">
  <tr>
    <td class="foot-date">06 Jul 2016</td>
    <td class="foot-os">3.3.24</td>
  </tr>
</table>
</body>
</html>
