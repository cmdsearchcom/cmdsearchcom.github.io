<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pki-pkcs12(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pki-pkcs12(1)</td>
    <td class="head-vol">PKI PKCS #12 Management Commands</td>
    <td class="head-rtitle">pki-pkcs12(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pki-pkcs12 - Command-Line Interface for managing certificates and keys in PKCS
  #12 file.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>pki</b> [CLI options] <b>pkcs12</b>
<b>pki</b> [CLI options] <b>pkcs12-export</b> [command options]
<b>pki</b> [CLI options] <b>pkcs12-import</b> [command options]
<b>pki</b> [CLI options] <b>pkcs12-cert</b> [command options]
<b>pki</b> [CLI options] <b>pkcs12-key</b> [command options]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>pki pkcs12</b> commands provide command-line interfaces to manage
  certificate and keys in a PKCS #12 file.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>pkcs12-export</b> [command options]
<div style="margin-left: 4.00ex;">This command is to export all certificates and
  keys from an NSS database into a PKCS #12 file.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>pkcs12-import</b> [command options]
<div style="margin-left: 4.00ex;">This command is to import all certificates and
  keys from a PKCS #12 file into an NSS database.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>pkcs12-cert</b> [command options]
<div style="margin-left: 4.00ex;">This command is to manage individual
  certificates in a PKCS #12 file. See <b>pki-pkcs12-cert</b>(1).</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>pkcs12-key</b> [command options]
<div style="margin-left: 4.00ex;">This command is to import individual keys in a
  PKCS #12 file. See <b>pki-pkcs12-key</b>(1).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The CLI options are described in <b>pki</b>(1).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPERATIONS"><a class="selflink" href="#OPERATIONS">OPERATIONS</a></h1>
To view available PKCS #12 commands, type <b>pki pkcs12</b>. To view each
  command's usage, type <b> pki pkcs12-&lt;command&gt; --help</b>.
<div style="height: 1.00em;">&#x00A0;</div>
All <b>pki pkcs12</b> commands require a PKCS #12 file and its password. The
  PKCS #12 file can be specified with the <b>--pkcs12-file</b> parameter. The
  password can be specified either directly with the <b>--pkcs12-password</b>
  parameter, or in a file with the <b>--pkcs12-password-file</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
Some <b>pki pkcs12</b> commands require an NSS database and its password. The
  NSS database location can be specified with the <b>-d</b> parameter (default:
  ~/.dogtag/nssdb). The NSS database password can be specified with the
  <b>-c</b> or the <b>-C</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Exporting_all_certificates_and_keys_into_a_PKCS_#12_file"><a class="selflink" href="#Exporting_all_certificates_and_keys_into_a_PKCS_#12_file">Exporting
  all certificates and keys into a PKCS #12 file</a></h2>
To export all certificates and keys from an NSS database into a PKCS #12 file:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;NSS database location&gt; &lt;NSS database password&gt; pkcs12-export
  &lt;PKCS #12 file&gt; &lt;PKCS #12 password&gt; [nicknames...]</b>
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will export all certificates in the NSS database. To
  export certain certificates only, specify the certificate nicknames as
  separate arguments.
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will always create a new PKCS #12 file. To export into an
  existing PKCS #12 file, specify the <b>--append</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will include the certificate chain. To export without
  certificate chain, specify the <b>--no-chain</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will include the key of each certificate. To export
  without the key, specify the <b>--no-key</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will include the trust flags of each certificate. To
  export without the trust flags, specify the <b>--no-trust-flags</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Importing_certificates_and_keys_from_a_PKCS_#12_file"><a class="selflink" href="#Importing_certificates_and_keys_from_a_PKCS_#12_file">Importing
  certificates and keys from a PKCS #12 file</a></h2>
To import certificates and keys from a PKCS #12 file into an NSS database:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;NSS database location&gt; &lt;NSS database password&gt; pkcs12-import
  &lt;PKCS #12 file&gt; &lt;PKCS #12 password&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will include all certificates in the PKCS #12 file. To
  import without the CA certificates (certificates without keys), specify the
  <b>--no-ca-certs</b> parameter. To import without the user certificates
  (certificates with keys), specify the <b>--no-user-certs</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will skip a certificate if it already exists in the NSS
  database. To overwrite the nickname, the key, and the trust flags of existing
  certificates, specify the <b>--overwrite</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
By default the command will include the trust flags of each certificate. To
  import without the trust flags, specify the <b>--no-trust-flags</b> parameter.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Endi S. Dewata &lt;edewata@redhat.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2016 Red Hat, Inc. This is licensed under the GNU General Public
  License, version 2 (GPLv2). A copy of this license is available at
  http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pki-pkcs12-cert(1),</b> <b>pki-pkcs12-key(1)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">October 28, 2016</td>
    <td class="foot-os">version 10.3</td>
  </tr>
</table>
</body>
</html>
