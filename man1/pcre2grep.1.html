<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PCRE2GREP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PCRE2GREP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PCRE2GREP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pcre2grep - a grep with Perl-compatible regular expressions.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pcre2grep [options] [long options] [pattern] [path1 path2 ...]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pcre2grep</b> searches files for character patterns, in the same way as other
  grep commands do, but it uses the PCRE2 regular expression library to support
  patterns that are compatible with the regular expressions of Perl 5. See
  <b>pcre2syntax</b>(3) for a quick-reference summary of pattern syntax, or
  <b>pcre2pattern</b>(3) for a full description of the syntax and semantics of
  the regular expressions that PCRE2 supports.
<div class="Pp"></div>
Patterns, whether supplied on the command line or in a separate file, are given
  without delimiters. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 pcre2grep Thursday /etc/motd
<div style="height: 1.00em;">&#x00A0;</div>
If you attempt to use delimiters (for example, by surrounding a pattern with
  slashes, as is common in Perl scripts), they are interpreted as part of the
  pattern. Quotes can of course be used to delimit patterns on the command line
  because they are interpreted by the shell, and indeed quotes are required if a
  pattern contains white space or shell metacharacters.
<div class="Pp"></div>
The first argument that follows any option settings is treated as the single
  pattern to be matched when neither <b>-e</b> nor <b>-f</b> is present.
  Conversely, when one or both of these options are used to specify patterns,
  all arguments are treated as path names. At least one of <b>-e</b>, <b>-f</b>,
  or an argument pattern must be provided.
<div class="Pp"></div>
If no files are specified, <b>pcre2grep</b> reads the standard input. The
  standard input can also be referenced by a name consisting of a single hyphen.
  For example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 pcre2grep some-pattern file1 - file3
<div style="height: 1.00em;">&#x00A0;</div>
Input files are searched line by line. By default, each line that matches a
  pattern is copied to the standard output, and if there is more than one file,
  the file name is output at the start of each line, followed by a colon.
  However, there are options that can change how <b>pcre2grep</b> behaves. In
  particular, the <b>-M</b> option makes it possible to search for strings that
  span line boundaries. What defines a line boundary is controlled by the
  <b>-N</b> ( <b>--newline</b>) option.
<div class="Pp"></div>
The amount of memory used for buffering files that are being scanned is
  controlled by parameters that can be set by the <b>--buffer-size</b> and
  <b>--max-buffer-size</b> options. The first of these sets the size of buffer
  that is obtained at the start of processing. If an input file contains very
  long lines, a larger buffer may be needed; this is handled by automatically
  extending the buffer, up to the limit specified by <b>--max-buffer-size</b>.
  The default values for these parameters are specified when <b>pcre2grep</b> is
  built, with the default defaults being 20K and 1M respectively. An error
  occurs if a line is too long and the buffer can no longer be expanded.
<div class="Pp"></div>
The block of memory that is actually used is three times the &quot;buffer
  size&quot;, to allow for buffering &quot;before&quot; and &quot;after&quot;
  lines. If the buffer size is too small, fewer than requested
  &quot;before&quot; and &quot;after&quot; lines may be output.
<div class="Pp"></div>
Patterns can be no longer than 8K or BUFSIZ bytes, whichever is the greater.
  BUFSIZ is defined in <b>&lt;stdio.h&gt;</b>. When there is more than one
  pattern (specified by the use of <b>-e</b> and/or <b>-f</b>), each pattern is
  applied to each line in the order in which they are defined, except that all
  the <b>-e</b> patterns are tried before the <b>-f</b> patterns.
<div class="Pp"></div>
By default, as soon as one pattern matches a line, no further patterns are
  considered. However, if <b>--colour</b> (or <b>--color</b>) is used to colour
  the matching substrings, or if <b>--only-matching</b>, <b>--file-offsets</b>,
  or <b>--line-offsets</b> is used to output only the part of the line that
  matched (either shown literally, or as an offset), scanning resumes
  immediately following the match, so that further matches on the same line can
  be found. If there are multiple patterns, they are all tried on the remainder
  of the line, but patterns that follow the one that matched are not tried on
  the earlier part of the line.
<div class="Pp"></div>
This behaviour means that the order in which multiple patterns are specified can
  affect the output when one of the above options is used. This is no longer the
  same behaviour as GNU grep, which now manages to display earlier matches for
  later patterns (as long as there is no overlap).
<div class="Pp"></div>
Patterns that can match an empty string are accepted, but empty string matches
  are never recognized. An example is the pattern &quot;(super)?(man)?&quot;, in
  which all components are optional. This pattern finds all occurrences of both
  &quot;super&quot; and &quot;man&quot;; the output differs from matching with
  &quot;super|man&quot; when only the matching substrings are being shown.
<div class="Pp"></div>
If the <b>LC_ALL</b> or <b>LC_CTYPE</b> environment variable is set,
  <b>pcre2grep</b> uses the value to set a locale when calling the PCRE2
  library. The <b>--locale</b> option can be used to override this.
<h1 class="Sh" title="Sh" id="SUPPORT_FOR_COMPRESSED_FILES"><a class="selflink" href="#SUPPORT_FOR_COMPRESSED_FILES">SUPPORT
  FOR COMPRESSED FILES</a></h1>
It is possible to compile <b>pcre2grep</b> so that it uses <b>libz</b> or
  <b>libbz2</b> to read files whose names end in <b>.gz</b> or <b>.bz2</b>,
  respectively. You can find out whether your binary has support for one or both
  of these file types by running it with the <b>--help</b> option. If the
  appropriate support is not present, files are treated as plain text. The
  standard input is always so treated.
<h1 class="Sh" title="Sh" id="BINARY_FILES"><a class="selflink" href="#BINARY_FILES">BINARY
  FILES</a></h1>
By default, a file that contains a binary zero byte within the first 1024 bytes
  is identified as a binary file, and is processed specially. (GNU grep also
  identifies binary files in this manner.) See the <b>--binary-files</b> option
  for a means of changing the way binary files are handled.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The order in which some of the options appear can affect the output. For
  example, both the <b>-h</b> and <b>-l</b> options affect the printing of file
  names. Whichever comes later in the command line will be the one that takes
  effect. Similarly, except where noted below, if an option is given twice, the
  later setting is used. Numerical values for options may be followed by K or M,
  to signify multiplication by 1024 or 1024*1024 respectively.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--</b></dt>
  <dd class="It-tag">This terminates the list of options. It is useful if the
      next item on the command line starts with a hyphen but is not an option.
      This allows for the processing of patterns and file names that start with
      hyphens.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b> <i>number</i>,
    <b>--after-context=</b><i>number</i></dt>
  <dd class="It-tag">Output up to <i>number</i> lines of context after each
      matching line. Fewer lines are output if the next match or the end of the
      file is reached, or if the processing buffer size has been set too small.
      If file names and/or line numbers are being output, a hyphen separator is
      used instead of a colon for the context lines. A line containing
      &quot;--&quot; is output between each group of lines, unless they are in
      fact contiguous in the input file. The value of <i>number</i> is expected
      to be relatively small. When <b>-c</b> is used, <b>-A</b> is ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--text</b></dt>
  <dd class="It-tag">Treat binary files as text. This is equivalent to
      <b>--binary-files</b>= <i>text</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b> <i>number</i>,
    <b>--before-context=</b><i>number</i></dt>
  <dd class="It-tag">Output up to <i>number</i> lines of context before each
      matching line. Fewer lines are output if the previous match or the start
      of the file is within <i>number</i> lines, or if the processing buffer
      size has been set too small. If file names and/or line numbers are being
      output, a hyphen separator is used instead of a colon for the context
      lines. A line containing &quot;--&quot; is output between each group of
      lines, unless they are in fact contiguous in the input file. The value of
      <i>number</i> is expected to be relatively small. When <b>-c</b> is used,
      <b>-B</b> is ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--binary-files=</b><i>word</i></dt>
  <dd class="It-tag">Specify how binary files are to be processed. If the word
      is &quot;binary&quot; (the default), pattern matching is performed on
      binary files, but the only output is &quot;Binary file &lt;name&gt;
      matches&quot; when a match succeeds. If the word is &quot;text&quot;,
      which is equivalent to the <b>-a</b> or <b>--text</b> option, binary files
      are processed in the same way as any other file. In this case, when a
      match succeeds, the output may be binary garbage, which can have nasty
      effects if sent to a terminal. If the word is &quot;without-match&quot;,
      which is equivalent to the <b>-I</b> option, binary files are not
      processed at all; they are assumed not to be of interest and are skipped
      without causing any output or affecting the return code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--buffer-size=</b><i>number</i></dt>
  <dd class="It-tag">Set the parameter that controls how much memory is obtained
      at the start of processing for buffering files that are being scanned. See
      also <b>--max-buffer-size</b> below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b> <i>number</i>,
    <b>--context=</b><i>number</i></dt>
  <dd class="It-tag">Output <i>number</i> lines of context both before and after
      each matching line. This is equivalent to setting both <b>-A</b> and
      <b>-B</b> to the same value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--count</b></dt>
  <dd class="It-tag">Do not output lines from the files that are being scanned;
      instead output the number of lines that would have been shown, either
      because they matched, or, if <b>-v</b> is set, because they failed to
      match. By default, this count is exactly the same as the number of lines
      that would have been output, but if the <b>-M</b> (multiline) option is
      used (without <b>-v</b>), there may be more suppressed lines than the
      count (that is, the number of matches).
    <div style="height: 1.00em;">&#x00A0;</div>
    If no lines are selected, the number zero is output. If several files are
      are being scanned, a count is output for each of them and the <b>-t</b>
      option can be used to cause a total to be output at the end. However, if
      the <b>--files-with-matches</b> option is also used, only those files
      whose counts are greater than zero are listed. When <b>-c</b> is used, the
      <b>-A</b>, <b>-B</b>, and <b>-C</b> options are ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--colour</b>, <b>--color</b></dt>
  <dd class="It-tag">If this option is given without any data, it is equivalent
      to &quot;--colour=auto&quot;. If data is required, it must be given in the
      same shell item, separated by an equals sign.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--colour=</b><i>value</i>,
    <b>--color=</b><i>value</i></dt>
  <dd class="It-tag">This option specifies under what circumstances the parts of
      a line that matched a pattern should be coloured in the output. By
      default, the output is not coloured. The value (which is optional, see
      above) may be &quot;never&quot;, &quot;always&quot;, or &quot;auto&quot;.
      In the latter case, colouring happens only if the standard output is
      connected to a terminal. More resources are used when colouring is
      enabled, because <b>pcre2grep</b> has to search for all possible matches
      in a line, not just one, in order to colour them all.
    <div style="height: 1.00em;">&#x00A0;</div>
    The colour that is used can be specified by setting one of the environment
      variables PCRE2GREP_COLOUR, PCRE2GREP_COLOR, PCREGREP_COLOUR, or
      PCREGREP_COLOR, which are checked in that order. If none of these are set,
      <b>pcre2grep</b> looks for GREP_COLORS or GREP_COLOR (in that order). The
      value of the variable should be a string of two numbers, separated by a
      semicolon, except in the case of GREP_COLORS, which must start with
      &quot;ms=&quot; or &quot;mt=&quot; followed by two semicolon-separated
      colours, terminated by the end of the string or by a colon. If GREP_COLORS
      does not start with &quot;ms=&quot; or &quot;mt=&quot; it is ignored, and
      GREP_COLOR is checked.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the string obtained from one of the above variables contains any
      characters other than semicolon or digits, the setting is ignored and the
      default colour is used. The string is copied directly into the control
      string for setting colour on a terminal, so it is your responsibility to
      ensure that the values make sense. If no relevant environment variable is
      set, the default is &quot;1;31&quot;, which gives red.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b> <i>action</i>,
    <b>--devices=</b><i>action</i></dt>
  <dd class="It-tag">If an input path is not a regular file or a directory,
      &quot;action&quot; specifies how it is to be processed. Valid values are
      &quot;read&quot; (the default) or &quot;skip&quot; (silently skip the
      path).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>action</i>,
    <b>--directories=</b><i>action</i></dt>
  <dd class="It-tag">If an input path is a directory, &quot;action&quot;
      specifies how it is to be processed. Valid values are &quot;read&quot;
      (the default in non-Windows environments, for compatibility with GNU
      grep), &quot;recurse&quot; (equivalent to the <b>-r</b> option), or
      &quot;skip&quot; (silently skip the path, the default in Windows
      environments). In the &quot;read&quot; case, directories are read as if
      they were ordinary files. In some operating systems the effect of reading
      a directory like this is an immediate end-of-file; in others it may
      provoke an error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b> <i>pattern</i>, <b>--regex=</b><i>pattern</i>,
    <b>--regexp=</b><i>pattern</i></dt>
  <dd class="It-tag">Specify a pattern to be matched. This option can be used
      multiple times in order to specify several patterns. It can also be used
      as a way of specifying a single pattern that starts with a hyphen. When
      <b>-e</b> is used, no argument pattern is taken from the command line; all
      arguments are treated as file names. There is no limit to the number of
      patterns. They are applied to each line in the order in which they are
      defined until one matches.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <b>-f</b> is used with <b>-e</b>, the command line patterns are matched
      first, followed by the patterns from the file(s), independent of the order
      in which these options are specified. Note that multiple use of <b>-e</b>
      is not the same as a single pattern with alternatives. For example, X|Y
      finds the first character in a line that is X or Y, whereas if the two
      patterns are given separately, with X first, <b>pcre2grep</b> finds X if
      it is present, even if it follows Y in the line. It finds Y only if there
      is no X in the line. This matters only if you are using <b>-o</b> or
      <b>--colo(u)r</b> to show the part(s) of the line that matched.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exclude</b>=<i>pattern</i></dt>
  <dd class="It-tag">Files (but not directories) whose names match the pattern
      are skipped without being processed. This applies to all files, whether
      listed on the command line, obtained from <b>--file-list</b>, or by
      scanning a directory. The pattern is a PCRE2 regular expression, and is
      matched against the final component of the file name, not the entire path.
      The <b>-F</b>, <b>-w</b>, and <b>-x</b> options do not apply to this
      pattern. The option may be given any number of times in order to specify
      multiple patterns. If a file name matches both an <b>--include</b> and an
      <b>--exclude</b> pattern, it is excluded. There is no short form for this
      option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exclude-from=</b><i>filename</i></dt>
  <dd class="It-tag">Treat each non-empty line of the file as the data for an
      <b>--exclude</b> option. What constitutes a newline when reading the file
      is the operating system's default. The <b>--newline</b> option has no
      effect on this option. This option may be given more than once in order to
      specify a number of files to read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exclude-dir</b>=<i>pattern</i></dt>
  <dd class="It-tag">Directories whose names match the pattern are skipped
      without being processed, whatever the setting of the <b>--recursive</b>
      option. This applies to all directories, whether listed on the command
      line, obtained from <b>--file-list</b>, or by scanning a parent directory.
      The pattern is a PCRE2 regular expression, and is matched against the
      final component of the directory name, not the entire path. The <b>-F</b>,
      <b>-w</b>, and <b>-x</b> options do not apply to this pattern. The option
      may be given any number of times in order to specify more than one
      pattern. If a directory matches both <b>--include-dir</b> and
      <b>--exclude-dir</b>, it is excluded. There is no short form for this
      option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b>, <b>--fixed-strings</b></dt>
  <dd class="It-tag">Interpret each data-matching pattern as a list of fixed
      strings, separated by newlines, instead of as a regular expression. What
      constitutes a newline for this purpose is controlled by the
      <b>--newline</b> option. The <b>-w</b> (match as a word) and <b>-x</b>
      (match whole line) options can be used with <b>-F</b>. They apply to each
      of the fixed strings. A line is selected if any of the fixed strings are
      found in it (subject to <b>-w</b> or <b>-x</b>, if present). This option
      applies only to the patterns that are matched against the contents of
      files; it does not apply to patterns specified by any of the
      <b>--include</b> or <b>--exclude</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <i>filename</i>,
    <b>--file=</b><i>filename</i></dt>
  <dd class="It-tag">Read patterns from the file, one per line, and match them
      against each line of input. What constitutes a newline when reading the
      file is the operating system's default. The <b>--newline</b> option has no
      effect on this option. Trailing white space is removed from each line, and
      blank lines are ignored. An empty file contains no patterns and therefore
      matches nothing. See also the comments about multiple patterns versus a
      single pattern with alternatives in the description of <b>-e</b> above.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this option is given more than once, all the specified files are read. A
      data line is output if any of the patterns match it. A file name can be
      given as &quot;-&quot; to refer to the standard input. When <b>-f</b> is
      used, patterns specified on the command line using <b>-e</b> may also be
      present; they are tested before the file's patterns. However, no other
      pattern is taken from the command line; all arguments are treated as the
      names of paths to be searched.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--file-list</b>=<i>filename</i></dt>
  <dd class="It-tag">Read a list of files and/or directories that are to be
      scanned from the given file, one per line. Trailing white space is removed
      from each line, and blank lines are ignored. These paths are processed
      before any that are listed on the command line. The file name can be given
      as &quot;-&quot; to refer to the standard input. If <b>--file</b> and
      <b>--file-list</b> are both specified as &quot;-&quot;, patterns are read
      first. This is useful only when the standard input is a terminal, from
      which further lines (the list of files) can be read after an end-of-file
      indication. If this option is given more than once, all the specified
      files are read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--file-offsets</b></dt>
  <dd class="It-tag">Instead of showing lines or parts of lines that match, show
      each match as an offset from the start of the file and a length, separated
      by a comma. In this mode, no context is shown. That is, the <b>-A</b>,
      <b>-B</b>, and <b>-C</b> options are ignored. If there is more than one
      match in a line, each of them is shown separately. This option is mutually
      exclusive with <b>--line-offsets</b> and <b>--only-matching</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b>, <b>--with-filename</b></dt>
  <dd class="It-tag">Force the inclusion of the file name at the start of output
      lines when searching a single file. By default, the file name is not shown
      in this case. For matching lines, the file name is followed by a colon;
      for context lines, a hyphen separator is used. If a line number is also
      being output, it follows the file name. When the <b>-M</b> option causes a
      pattern to match more than one line, only the first is preceded by the
      file name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--no-filename</b></dt>
  <dd class="It-tag">Suppress the output file names when searching multiple
      files. By default, file names are shown when multiple files are searched.
      For matching lines, the file name is followed by a colon; for context
      lines, a hyphen separator is used. If a line number is also being output,
      it follows the file name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Output a help message, giving brief details of the command
      options and file type support, and then exit. Anything else on the command
      line is ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">Ignore binary files. This is equivalent to
      <b>--binary-files</b>= <i>without-match</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--ignore-case</b></dt>
  <dd class="It-tag">Ignore upper/lower case distinctions during
    comparisons.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include</b>=<i>pattern</i></dt>
  <dd class="It-tag">If any <b>--include</b> patterns are specified, the only
      files that are processed are those that match one of the patterns (and do
      not match an <b>--exclude</b> pattern). This option does not affect
      directories, but it applies to all files, whether listed on the command
      line, obtained from <b>--file-list</b>, or by scanning a directory. The
      pattern is a PCRE2 regular expression, and is matched against the final
      component of the file name, not the entire path. The <b>-F</b>, <b>-w</b>,
      and <b>-x</b> options do not apply to this pattern. The option may be
      given any number of times. If a file name matches both an <b>--include</b>
      and an <b>--exclude</b> pattern, it is excluded. There is no short form
      for this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include-from=</b><i>filename</i></dt>
  <dd class="It-tag">Treat each non-empty line of the file as the data for an
      <b>--include</b> option. What constitutes a newline for this purpose is
      the operating system's default. The <b>--newline</b> option has no effect
      on this option. This option may be given any number of times; all the
      files are read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include-dir</b>=<i>pattern</i></dt>
  <dd class="It-tag">If any <b>--include-dir</b> patterns are specified, the
      only directories that are processed are those that match one of the
      patterns (and do not match an <b>--exclude-dir</b> pattern). This applies
      to all directories, whether listed on the command line, obtained from
      <b>--file-list</b>, or by scanning a parent directory. The pattern is a
      PCRE2 regular expression, and is matched against the final component of
      the directory name, not the entire path. The <b>-F</b>, <b>-w</b>, and
      <b>-x</b> options do not apply to this pattern. The option may be given
      any number of times. If a directory matches both <b>--include-dir</b> and
      <b>--exclude-dir</b>, it is excluded. There is no short form for this
      option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>, <b>--files-without-match</b></dt>
  <dd class="It-tag">Instead of outputting lines from the files, just output the
      names of the files that do not contain any lines that would have been
      output. Each file name is output once, on a separate line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--files-with-matches</b></dt>
  <dd class="It-tag">Instead of outputting lines from the files, just output the
      names of the files containing lines that would have been output. Each file
      name is output once, on a separate line. Searching normally stops as soon
      as a matching line is found in a file. However, if the <b>-c</b> (count)
      option is also used, matching continues in order to obtain the correct
      count, and those files that have at least one match are listed along with
      their counts. Using this option with <b>-c</b> is a way of suppressing the
      listing of files with no matches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--label</b>=<i>name</i></dt>
  <dd class="It-tag">This option supplies a name to be used for the standard
      input when file names are being output. If not supplied, &quot;(standard
      input)&quot; is used. There is no short form for this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--line-buffered</b></dt>
  <dd class="It-tag">When this option is given, input is read and processed line
      by line, and the output is flushed after each write. By default, input is
      read in large chunks, unless <b>pcre2grep</b> can determine that it is
      reading from a terminal (which is currently possible only in Unix-like
      environments). Output to terminal is normally automatically flushed by the
      operating system. This option can be useful when the input or output is
      attached to a pipe and you do not want <b>pcre2grep</b> to buffer up large
      amounts of data. However, its use will affect performance, and the
      <b>-M</b> (multiline) option ceases to work.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--line-offsets</b></dt>
  <dd class="It-tag">Instead of showing lines or parts of lines that match, show
      each match as a line number, the offset from the start of the line, and a
      length. The line number is terminated by a colon (as usual; see the
      <b>-n</b> option), and the offset and length are separated by a comma. In
      this mode, no context is shown. That is, the <b>-A</b>, <b>-B</b>, and
      <b>-C</b> options are ignored. If there is more than one match in a line,
      each of them is shown separately. This option is mutually exclusive with
      <b>--file-offsets</b> and <b>--only-matching</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--locale</b>=<i>locale-name</i></dt>
  <dd class="It-tag">This option specifies a locale to be used for pattern
      matching. It overrides the value in the <b>LC_ALL</b> or <b>LC_CTYPE</b>
      environment variables. If no locale is specified, the PCRE2 library's
      default (usually the &quot;C&quot; locale) is used. There is no short form
      for this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--match-limit</b>=<i>number</i></dt>
  <dd class="It-tag">Processing some regular expression patterns can require a
      very large amount of memory, leading in some cases to a program crash if
      not enough is available. Other patterns may take a very long time to
      search for all possible matching strings. The <b>pcre2_match()</b>
      function that is called by <b>pcre2grep</b> to do the matching has two
      parameters that can limit the resources that it uses.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>--match-limit</b> option provides a means of limiting resource usage
      when processing patterns that are not going to match, but which have a
      very large number of possibilities in their search trees. The classic
      example is a pattern that uses nested unlimited repeats. Internally, PCRE2
      uses a function called <b>match()</b> which it calls repeatedly (sometimes
      recursively). The limit set by <b>--match-limit</b> is imposed on the
      number of times this function is called during a match, which has the
      effect of limiting the amount of backtracking that can take place.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>--recursion-limit</b> option is similar to <b>--match-limit</b>, but
      instead of limiting the total number of times that <b>match()</b> is
      called, it limits the depth of recursive calls, which in turn limits the
      amount of memory that can be used. The recursion depth is a smaller number
      than the total number of calls, because not all calls to <b>match()</b>
      are recursive. This limit is of use only if it is set smaller than
      <b>--match-limit</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    There are no short forms for these options. The default settings are
      specified when the PCRE2 library is compiled, with the default default
      being 10 million.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-buffer-size=</b><i>number</i><b></b></dt>
  <dd class="It-tag">This limits the expansion of the processing buffer, whose
      initial size can be set by <b>--buffer-size</b>. The maximum buffer size
      is silently forced to be no smaller than the starting buffer size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b>, <b>--multiline</b></dt>
  <dd class="It-tag">Allow patterns to match more than one line. When this
      option is set, the PCRE2 library is called in &quot;multiline&quot; mode.
      This allows a matched string to extend past the end of a line and continue
      on one or more subsequent lines. Patterns used with <b>-M</b> may usefully
      contain literal newline characters and internal occurrences of ^ and $
      characters. The output for a successful match may consist of more than one
      line. The first line is the line in which the match started, and the last
      line is the line in which the match ended. If the matched string ends with
      a newline sequence, the output ends at the end of that line. If <b>-v</b>
      is set, none of the lines in a multi-line match are output. Once a match
      has been handled, scanning restarts at the beginning of the line after the
      one in which the match ended.
    <div style="height: 1.00em;">&#x00A0;</div>
    The newline sequence that separates multiple lines must be matched as part
      of the pattern. For example, to find the phrase &quot;regular
      expression&quot; in a file where &quot;regular&quot; might be at the end
      of a line and &quot;expression&quot; at the start of the next line, you
      could use this command:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     pcre2grep -M 'regular\s+expression' &lt;file&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
    The \s escape sequence matches any white space character, including
      newlines, and is followed by + so as to match trailing white space on the
      first line as well as possibly handling a two-character newline sequence.
    <div style="height: 1.00em;">&#x00A0;</div>
    There is a limit to the number of lines that can be matched, imposed by the
      way that <b>pcre2grep</b> buffers the input file as it scans it. With a
      sufficiently large processing buffer, this should not be a problem, but
      the <b>-M</b> option does not work when input is read line by line (see
      <b>--line-buffered</b>.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b> <i>newline-type</i>,
    <b>--newline</b>=<i>newline-type</i></dt>
  <dd class="It-tag">The PCRE2 library supports five different conventions for
      indicating the ends of lines. They are the single-character sequences CR
      (carriage return) and LF (linefeed), the two-character sequence CRLF, an
      &quot;anycrlf&quot; convention, which recognizes any of the preceding
      three types, and an &quot;any&quot; convention, in which any Unicode line
      ending sequence is assumed to end a line. The Unicode sequences are the
      three just mentioned, plus VT (vertical tab, U+000B), FF (form feed,
      U+000C), NEL (next line, U+0085), LS (line separator, U+2028), and PS
      (paragraph separator, U+2029).
    <div style="height: 1.00em;">&#x00A0;</div>
    When the PCRE2 library is built, a default line-ending sequence is
      specified. This is normally the standard sequence for the operating
      system. Unless otherwise specified by this option, <b>pcre2grep</b> uses
      the library's default. The possible values for this option are CR, LF,
      CRLF, ANYCRLF, or ANY. This makes it possible to use <b>pcre2grep</b> to
      scan files that have come from other environments without having to modify
      their line endings. If the data that is being scanned does not agree with
      the convention set by this option, <b>pcre2grep</b> may behave in strange
      ways. Note that this option does not apply to files specified by the
      <b>-f</b>, <b>--exclude-from</b>, or <b>--include-from</b> options, which
      are expected to use the operating system's standard newline sequence.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--line-number</b></dt>
  <dd class="It-tag">Precede each output line by its line number in the file,
      followed by a colon for matching lines or a hyphen for context lines. If
      the file name is also being output, it precedes the line number. When the
      <b>-M</b> option causes a pattern to match more than one line, only the
      first is preceded by its line number. This option is forced if
      <b>--line-offsets</b> is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-jit</b></dt>
  <dd class="It-tag">If the PCRE2 library is built with support for just-in-time
      compiling (which speeds up matching), <b>pcre2grep</b> automatically makes
      use of this, unless it was explicitly disabled at build time. This option
      can be used to disable the use of JIT at run time. It is provided for
      testing and working round problems. It should never be needed in normal
      use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>, <b>--only-matching</b></dt>
  <dd class="It-tag">Show only the part of the line that matched a pattern
      instead of the whole line. In this mode, no context is shown. That is, the
      <b>-A</b>, <b>-B</b>, and <b>-C</b> options are ignored. If there is more
      than one match in a line, each of them is shown separately, on a separate
      line of output. If <b>-o</b> is combined with <b>-v</b> (invert the sense
      of the match to find non-matching lines), no output is generated, but the
      return code is set appropriately. If the matched portion of the line is
      empty, nothing is output unless the file name or line number are being
      printed, in which case they are shown on an otherwise empty line. This
      option is mutually exclusive with <b>--file-offsets</b> and
      <b>--line-offsets</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i>number</i>,
    <b>--only-matching</b>=<i>number</i></dt>
  <dd class="It-tag">Show only the part of the line that matched the capturing
      parentheses of the given number. Up to 32 capturing parentheses are
      supported, and -o0 is equivalent to <b>-o</b> without a number. Because
      these options can be given without an argument (see above), if an argument
      is present, it must be given in the same shell item, for example, -o3 or
      --only-matching=2. The comments given for the non-argument case above also
      apply to this case. If the specified capturing parentheses do not exist in
      the pattern, or were not set in the match, nothing is output unless the
      file name or line number are being output.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this option is given multiple times, multiple substrings are output for
      each match, in the order the options are given, and all on one line. For
      example, -o3 -o1 -o3 causes the substrings matched by capturing
      parentheses 3 and 1 and then 3 again to be output. By default, there is no
      separator (but see the next option).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--om-separator</b>=<i>text</i></dt>
  <dd class="It-tag">Specify a separating string for multiple occurrences of
      <b>-o</b>. The default is an empty string. Separating strings are never
      coloured.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">Work quietly, that is, display nothing except error
      messages. The exit status indicates whether or not any matches were
    found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--recursive</b></dt>
  <dd class="It-tag">If any given path is a directory, recursively scan the
      files it contains, taking note of any <b>--include</b> and
      <b>--exclude</b> settings. By default, a directory is read as a normal
      file; in some operating systems this gives an immediate end-of-file. This
      option is a shorthand for setting the <b>-d</b> option to
      &quot;recurse&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--recursion-limit</b>=<i>number</i></dt>
  <dd class="It-tag">See <b>--match-limit</b> above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--no-messages</b></dt>
  <dd class="It-tag">Suppress error messages about non-existent or unreadable
      files. Such files are quietly skipped. However, the return code is still
      2, even if matches were found in other files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--total-count</b></dt>
  <dd class="It-tag">This option is useful when scanning more than one file. If
      used on its own, <b>-t</b> suppresses all output except for a grand total
      number of matching lines (or non-matching lines if <b>-v</b> is used) in
      all the files. If <b>-t</b> is used with <b>-c</b>, a grand total is
      output except when the previous output is just one line. In other words,
      it is not output when just one file's count is listed. If file names are
      being output, the grand total is preceded by &quot;TOTAL:&quot;.
      Otherwise, it appears as just another number. The <b>-t</b> option is
      ignored when used with <b>-L</b> (list files without matches), because the
      grand total would always be zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>, <b>--utf-8</b></dt>
  <dd class="It-tag">Operate in UTF-8 mode. This option is available only if
      PCRE2 has been compiled with UTF-8 support. All patterns (including those
      for any <b>--exclude</b> and <b>--include</b> options) and all subject
      lines that are scanned must be valid strings of UTF-8 characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">Write the version numbers of <b>pcre2grep</b> and the PCRE2
      library to the standard output and then exit. Anything else on the command
      line is ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--invert-match</b></dt>
  <dd class="It-tag">Invert the sense of the match, so that lines which do
      <i>not</i> match any of the patterns are the ones that are found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>, <b>--word-regex</b>, <b>--word-regexp</b></dt>
  <dd class="It-tag">Force the patterns to match only whole words. This is
      equivalent to having \b at the start and end of the pattern. This option
      applies only to the patterns that are matched against the contents of
      files; it does not apply to patterns specified by any of the
      <b>--include</b> or <b>--exclude</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>, <b>--line-regex</b>, <b>--line-regexp</b></dt>
  <dd class="It-tag">Force the patterns to be anchored (each must start matching
      at the beginning of a line) and in addition, require them to match entire
      lines. In multiline mode the match may be more than one line. This is
      equivalent to having \A and \Z characters at the start and end of each
      alternative top-level branch in every pattern. This option applies only to
      the patterns that are matched against the contents of files; it does not
      apply to patterns specified by any of the <b>--include</b> or
      <b>--exclude</b> options.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The environment variables <b>LC_ALL</b> and <b>LC_CTYPE</b> are examined, in
  that order, for a locale. The first one that is set is used. This can be
  overridden by the <b>--locale</b> option. If no locale is set, the PCRE2
  library's default (usually the &quot;C&quot; locale) is used.
<h1 class="Sh" title="Sh" id="NEWLINES"><a class="selflink" href="#NEWLINES">NEWLINES</a></h1>
The <b>-N</b> (<b>--newline</b>) option allows <b>pcre2grep</b> to scan files
  with different newline conventions from the default. Any parts of the input
  files that are written to the standard output are copied identically, with
  whatever newline sequences they have in the input. However, the setting of
  this option does not affect the interpretation of files specified by the
  <b>-f</b>, <b>--exclude-from</b>, or <b>--include-from</b> options, which are
  assumed to use the operating system's standard newline sequence, nor does it
  affect the way in which <b>pcre2grep</b> writes informational messages to the
  standard error and output streams. For these it uses the string &quot;\n&quot;
  to indicate newlines, relying on the C I/O library to convert this to an
  appropriate sequence.
<h1 class="Sh" title="Sh" id="OPTIONS_COMPATIBILITY"><a class="selflink" href="#OPTIONS_COMPATIBILITY">OPTIONS
  COMPATIBILITY</a></h1>
Many of the short and long forms of <b>pcre2grep</b>'s options are the same as
  in the GNU <b>grep</b> program. Any long option of the form
  <b>--xxx-regexp</b> (GNU terminology) is also available as <b>--xxx-regex</b>
  (PCRE2 terminology). However, the <b>--file-list</b>, <b>--file-offsets</b>,
  <b>--include-dir</b>, <b>--line-offsets</b>, <b>--locale</b>,
  <b>--match-limit</b>, <b>-M</b>, <b>--multiline</b>, <b>-N</b>,
  <b>--newline</b>, <b>--om-separator</b>, <b>--recursion-limit</b>, <b>-u</b>,
  and <b>--utf-8</b> options are specific to <b>pcre2grep</b>, as is the use of
  the <b>--only-matching</b> option with a capturing parentheses number.
<div class="Pp"></div>
Although most of the common options work the same way, a few are different in
  <b>pcre2grep</b>. For example, the <b>--include</b> option's argument is a
  glob for GNU <b>grep</b>, but a regular expression for <b>pcre2grep</b>. If
  both the <b>-c</b> and <b>-l</b> options are given, GNU grep lists only file
  names, without counts, but <b>pcre2grep</b> gives the counts as well.
<h1 class="Sh" title="Sh" id="OPTIONS_WITH_DATA"><a class="selflink" href="#OPTIONS_WITH_DATA">OPTIONS
  WITH DATA</a></h1>
There are four different ways in which an option with data can be specified. If
  a short form option is used, the data may follow immediately, or (with one
  exception) in the next command line item. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 -f/some/file
<br/>
 -f /some/file
<div style="height: 1.00em;">&#x00A0;</div>
The exception is the <b>-o</b> option, which may appear with or without data.
  Because of this, if data is present, it must follow immediately in the same
  item, for example -o3.
<div class="Pp"></div>
If a long form option is used, the data may appear in the same command line
  item, separated by an equals character, or (with two exceptions) it may appear
  in the next command line item. For example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 --file=/some/file
<br/>
 --file /some/file
<div style="height: 1.00em;">&#x00A0;</div>
Note, however, that if you want to supply a file name beginning with ~ as data
  in a shell command, and have the shell expand ~ to a home directory, you must
  separate the file name from the option, because the shell does not treat ~
  specially unless it is at the start of an item.
<div class="Pp"></div>
The exceptions to the above are the <b>--colour</b> (or <b>--color</b>) and
  <b>--only-matching</b> options, for which the data is optional. If one of
  these options does have data, it must be given in the first form, using an
  equals character. Otherwise <b>pcre2grep</b> will assume that it has no data.
<h1 class="Sh" title="Sh" id="CALLING_EXTERNAL_SCRIPTS"><a class="selflink" href="#CALLING_EXTERNAL_SCRIPTS">CALLING
  EXTERNAL SCRIPTS</a></h1>
<b>pcre2grep</b> has, by default, support for calling external programs or
  scripts during matching by making use of PCRE2's callout facility. However,
  this support can be disabled when <b>pcre2grep</b> is built. You can find out
  whether your binary has support for callouts by running it with the
  <b>--help</b> option. If the support is not enabled, all callouts in patterns
  are ignored by <b>pcre2grep</b>.
<div class="Pp"></div>
A callout in a PCRE2 pattern is of the form (?C&lt;arg&gt;) where the argument
  is either a number or a quoted string (see the <b>pcre2callout</b>
  documentation for details). Numbered callouts are ignored by <b>pcre2grep</b>.
  String arguments are parsed as a list of substrings separated by pipe
  (vertical bar) characters. The first substring must be an executable name,
  with the following substrings specifying arguments:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 executable_name|arg1|arg2|...
<div style="height: 1.00em;">&#x00A0;</div>
Any substring (including the executable name) may contain escape sequences
  started by a dollar character: $&lt;digits&gt; or ${&lt;digits&gt;} is
  replaced by the captured substring of the given decimal number, which must be
  greater than zero. If the number is greater than the number of capturing
  substrings, or if the capture is unset, the replacement is empty.
<div class="Pp"></div>
Any other character is substituted by itself. In particular, $$ is replaced by a
  single dollar and $| is replaced by a pipe character. Here is an example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 echo -e &quot;abcde\n12345&quot; | pcre2grep \
<br/>
 '(?x)(.)(..(.))
<br/>
 (?C&quot;/bin/echo|Arg1: [$1] [$2] [$3]|Arg2: $|${1}$| ($4)&quot;)()' -
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Output:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Arg1: [a] [bcd] [d] Arg2: |a| ()
<br/>
 abcde
<br/>
 Arg1: [1] [234] [4] Arg2: |1| ()
<br/>
 12345
<div style="height: 1.00em;">&#x00A0;</div>
The parameters for the <b>execv()</b> system call that is used to run the
  program or script are zero-terminated strings. This means that binary zero
  characters in the callout argument will cause premature termination of their
  substrings, and therefore should not be present. Any syntax errors in the
  string (for example, a dollar not followed by another character) cause the
  callout to be ignored. If running the program fails for any reason (including
  the non-existence of the executable), a local matching failure occurs and the
  matcher backtracks in the normal way.
<h1 class="Sh" title="Sh" id="MATCHING_ERRORS"><a class="selflink" href="#MATCHING_ERRORS">MATCHING
  ERRORS</a></h1>
It is possible to supply a regular expression that takes a very long time to
  fail to match certain lines. Such patterns normally involve nested indefinite
  repeats, for example: (a+)*\d when matched against a line of a's with no final
  digit. The PCRE2 matching function has a resource limit that causes it to
  abort in these circumstances. If this happens, <b>pcre2grep</b> outputs an
  error message and the line that caused the problem to the standard error
  stream. If there are more than 20 such errors, <b>pcre2grep</b> gives up.
<div class="Pp"></div>
The <b>--match-limit</b> option of <b>pcre2grep</b> can be used to set the
  overall resource limit; there is a second option called
  <b>--recursion-limit</b> that sets a limit on the amount of memory (usually
  stack) that is used (see the discussion of these options above).
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Exit status is 0 if any matches were found, 1 if no matches were found, and 2
  for syntax errors, overlong lines, non-existent or inaccessible files (even if
  matches were found in other files) or too many matching errors. Using the
  <b>-s</b> option to suppress error messages about inaccessible files does not
  affect the return code.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pcre2pattern</b>(3), <b>pcre2syntax</b>(3), <b>pcre2callout</b>(3).
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<pre>
Philip Hazel
University Computing Service
Cambridge, England.
</pre>
<h1 class="Sh" title="Sh" id="REVISION"><a class="selflink" href="#REVISION">REVISION</a></h1>
<pre>
Last updated: 31 December 2016
Copyright (c) 1997-2016 University of Cambridge.
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">31 December 2016</td>
    <td class="foot-os">PCRE2 10.23</td>
  </tr>
</table>
</body>
</html>
