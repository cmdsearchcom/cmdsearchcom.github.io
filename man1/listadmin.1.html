<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LISTADMIN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LISTADMIN(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">LISTADMIN(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
listadmin - process messages held by Mailman for approval
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>listadmin [-?] [-V] [-f <i>configfile</i>] [-t <i>minutes</i>] [--mail]
  [--nomail] [{-a|-r} <i>file</i>] [--add-member <i>address</i>]
  [--remove-member <i>address</i>] [-l] [<i>listname</i>]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>listadmin</i> is a textual alternative to Mailman's WWW interface for
  administering mailing lists.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-f <i>configfile</i></dt>
  <dd class="It-tag">Fetch list of mailing lists from <i>configfile</i> rather
      than the default ( <b>~/.listadmin.ini</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t <i>minutes</i></dt>
  <dd class="It-tag">Stop processing after <i>minutes</i> has passed. Mostly
      useful for completely automated configurations of <b>listadmin</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--mail</dt>
  <dd class="It-tag">Addresses added as subscribers will have <i>nomail</i>
      turned off.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--nomail</dt>
  <dd class="It-tag">Addresses added as subscribers will have <i>nomail</i>
      turned on.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-a <i>file</i></dt>
  <dd class="It-tag">Add e-mail addresses listed in <i>file</i> (one address per
      line) to the subscriber list. The welcome message is suppressed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--add-member <i>address</i></dt>
  <dd class="It-tag">Add <i>address</i> to the subscriber list, works as
    above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r <i>file</i></dt>
  <dd class="It-tag">Remove e-mail addresses listed in <i>file</i> (one address
      per line) from the subscriber list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--remove-member <i>address</i></dt>
  <dd class="It-tag">Remove <i>address</i> from the subscriber list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l</dt>
  <dd class="It-tag">Display the subscriber list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>listname</i></dt>
  <dd class="It-tag">Only process the lists matching <i>listname</i>. Specify a
      complete address, a substring or a regular expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-? or --help</dt>
  <dd class="It-tag">Display short usage description.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V or --version</dt>
  <dd class="It-tag">Output version number.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONFIGURATION_SYNTAX"><a class="selflink" href="#CONFIGURATION_SYNTAX">CONFIGURATION
  SYNTAX</a></h1>
The configuration file contains lines which can contain either a comment, a
  directive, or a mailing list address.
<div style="height: 1.00em;">&#x00A0;</div>
A line can be continued by putting a backslash character at the end of the line.
  Any leading whitespace on the following line is removed.
<div style="height: 1.00em;">&#x00A0;</div>
Comments begin with the character # and extend to the end of line. Backslash
  continuation is not applied to comments.
<div style="height: 1.00em;">&#x00A0;</div>
The argument to the directive can be put in double quotes to protect space
  characters. Inside double quotes, \&quot; can be used to include a literal
  double quote, and \\ for a literal backslash.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DIRECTIVES"><a class="selflink" href="#DIRECTIVES">DIRECTIVES</a></h1>
A directive affects all the mailing lists addresses which follow after it in the
  configuration file. The directives are:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">username <i>username</i></dt>
  <dd class="It-tag">Specifies the username to use for authentication. (Not all
      Mailman servers require a username.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">password <i>password</i></dt>
  <dd class="It-tag">Specifies the password to use for authentication.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">adminurl <i>url</i></dt>
  <dd class="It-tag">The URL for maintaining Mailman requests. Some
      substitutions are performed: (examples below refer to the hypothetical
      list <i>foo-devel@example.net</i>)</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">{list}</dt>
  <dd class="It-tag">The local part of the list name, e.g.,
      &quot;foo-devel&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">{domain}</dt>
  <dd class="It-tag">The domain part of the list name, e.g.,
      &quot;example.net&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">{subdomain}</dt>
  <dd class="It-tag">The first component of the domain part, e.g.,
      &quot;example&quot;.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">default <i>action</i></dt>
  <dd class="It-tag">Specifies the action to take when the user presses just
      Return. Available actions are:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">approve</dt>
  <dd class="It-tag">The message will be sent to all member of the list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">reject</dt>
  <dd class="It-tag">Notify sender that the message was rejected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">discard</dt>
  <dd class="It-tag">Throw message away, don't notify sender.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">skip</dt>
  <dd class="It-tag">Don't decide now, leave it for later.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">none</dt>
  <dd class="It-tag">Reset to no default action.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">action <i>action</i></dt>
  <dd class="It-tag">This action will be taken for all messages where none of
      the other rules apply (e.g., <i>spamlevel</i>, <i>discard_if_from</i>
      etc.), ie., whenever the user would have been asked what to do. The same
      actions as for <i>default</i> are available, although reject isn't very
      useful.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">spamlevel <i>number</i></dt>
  <dd class="It-tag">This specifies the threshold for automatic discard of
      suspected spam messages. 12 is unlikely to have false positives. No user
      confirmation is needed, so it is best to play it safe. Less than 5 is not
      recommended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">spamheader <i>header-name</i></dt>
  <dd class="It-tag">The name of the header which contains the spam score. It is
      assumed that the score is encoded as a sequence of characters, like
      &quot;*****&quot; for the value 5. By default it will look for all headers
      with names containing &quot;spam&quot; and &quot;score&quot; or
      &quot;level&quot;, and pick the highest score if there is more than one.
      Setting the header-name to <i>default</i> will restore this
    behaviour.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">not_spam_if_from <i>pattern</i></dt>
  <dd class="It-tag">If the message's From header matches the pattern, all
      automatic actions will be cancelled and you will be asked what action to
      take explicitly. The pattern can use Perl regexp syntax. If enclosed in
      slashes, some modifiers can be added, a typical example being
      <b>/pattern/i</b> to match case-insensitively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">not_spam_if_subject <i>pattern</i></dt>
  <dd class="It-tag">As above, but matches against the Subject header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">discard_if_from <i>pattern</i></dt>
  <dd class="It-tag">If the message's From header matches the pattern, it will
      be discarded automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">discard_if_subject <i>pattern</i></dt>
  <dd class="It-tag">As above, but matches against the Subject header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">discard_if_reason <i>pattern</i></dt>
  <dd class="It-tag">As above, but matches against Mailman's reason for holding
      the message for approval.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">subscription_default <i>action</i></dt>
  <dd class="It-tag">Specifies the action to take when the user presses just
      Return while processing subscriptions. Available actions are:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">accept</dt>
  <dd class="It-tag">The new subscriber will be added.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">reject</dt>
  <dd class="It-tag">Notify sender that s/he was not allowed to join the
    list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">skip</dt>
  <dd class="It-tag">Don't decide now, leave it for later.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">none</dt>
  <dd class="It-tag">Reset to no default action.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">subscription_action <i>action</i></dt>
  <dd class="It-tag">This action will be taken <b>always</b> for all new
      subscribers in the relevant lists, no user interaction will take place.
      The same actions as for <i>subscription_default</i> are available,
      although only skip is very useful. It is better to get automatic accept
      and reject behaviour by changing the Mailman configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">confirm <i>yes|no</i></dt>
  <dd class="It-tag">Before submitting changes, ask for confirmation. Default is
      &quot;yes&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">unprintable <i>questionmark|unicode</i></dt>
  <dd class="It-tag">If the subject or sender address contains characters the
      terminal can't display, they will be replaced by either
      &quot;&lt;?&gt;&quot; (in <i>questionmark</i> mode, the default) or
      something like &quot;&lt;U+86a8&gt;&quot; (in <i>unicode</i> mode).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">log <i>filename</i></dt>
  <dd class="It-tag">Changes submitted to the web interface are logged. All the
      changes for one list are sent in batches at the end of processing. The
      format in the log is first a line containing the list name and a time
      stamp in local time. Then one line for each message, in the format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><i>action</i> D:[<i>date</i>] F:[<i>sender</i>]
      S:[<i>subject</i>]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">This batch of lines is terminated by a line saying
      <b>changes sent to</b> <b>server</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The same substitutions are performed on <i>filename</i> as
      on the argument to <b>adminurl</b>. Tilde syntax can be used to refer to
      home directories. The filename <b>none</b> turns off logging.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">meta_member_support <i>yes|no</i></dt>
  <dd class="It-tag">Meta members are an experimental feature at the University
      of Oslo. This option is enabled by default for lists in uio.no, and is
      needed to avoid clearing the list of meta members when manipulating the
      list of ordinary members. <i>Note: Requires additional Perl module</i>
      <i>WWW::Mechanize</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cafile <i>/path/to/CAcertificate</i></dt>
  <dd class="It-tag">Specify which CA certificate to use for all lists
      following. Setting cafile to NONE will use the default cafile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">verify_peer <i>yes|no</i></dt>
  <dd class="It-tag">If set to no SSL certificate verification will be disabled
      for all lists following.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="INTERACTIVE_USE"><a class="selflink" href="#INTERACTIVE_USE">INTERACTIVE
  USE</a></h1>
The user interface to <b>listadmin</b> is line oriented with single letter
  commands. By pressing Return, the default action is chosen. The default action
  is printed in brackets in the prompt. The available actions are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">a</dt>
  <dd class="It-tag">Approve sending the message to all members of the
    list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">r</dt>
  <dd class="It-tag">Reject the message and notify sender of the decision.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">d</dt>
  <dd class="It-tag">Discard the message silently, don't notify sender.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">s</dt>
  <dd class="It-tag">Skip the message, leave its status as pending
    unchanged.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">b</dt>
  <dd class="It-tag">View Body, display the first 20 lines of the message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">f</dt>
  <dd class="It-tag">View Full, display the complete message, including
    headers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">t</dt>
  <dd class="It-tag">View Time, display the Date header from the message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>number</i></dt>
  <dd class="It-tag">Jump forward or backward to message <i>number</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">u</dt>
  <dd class="It-tag">Go back to the previous message and undo the last approve,
      discard or reject action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">/<i>pattern</i></dt>
  <dd class="It-tag">Search (case-insensitively) for the next message with
      matching From or Subject. If <i>pattern</i> is left out, the previous
      value will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">?<i>pattern</i></dt>
  <dd class="It-tag">As above, but backwards.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag">Redisplay information about current message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">add</dt>
  <dd class="It-tag">Add <i>address</i> as subscriber to the list. If
      <i>address</i> is left out, use the sender of the current message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nomail</dt>
  <dd class="It-tag">As <i>add</i>, but adds <i>address</i> with
      &quot;nomail&quot; enabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">list</dt>
  <dd class="It-tag">List subscriber addresses matching <i>pattern</i>, or the
      full list if no <i>pattern</i> is specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">rem</dt>
  <dd class="It-tag">Remove <i>address</i> from the subscriber list. Note: there
      is no undo for this action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">q</dt>
  <dd class="It-tag">Quit processing this list and go on to the next.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Changes will not take effect until the end of the list has been reached. At that
  time, the user will be prompted whether the changes should be submitted to
  Mailman (see also &quot;confirm&quot; directive above).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To process only the lists of a single domain, specify the domain as the pattern:
<pre>
	listadmin example.com
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To disable the printing of characters outside US-ASCII, set the locale
  appropriately:
<pre>
	env LC_CTYPE=C listadmin
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
An example configuration file:
<pre>
	# A comment, it must appear on a line by itself.
	#
	# Settings affect all lists being listed after it.
<div class="Pp"></div>
	username jdoe@example.com
	password Geheim
	default discard
	# This one works for Sourceforge:
	adminurl http://{domain}/lists/admindb/{list}
<div class="Pp"></div>
	slartibartfast@lists.sourceforge.net
<div class="Pp"></div>
	# This is how the default Mailman URLs look:
	adminurl http://{domain}/mailman/admindb/{list}
<div class="Pp"></div>
	# If the password contains quotes or spaces, you may need
	# to put it in quotes.  A complex example:
	password &quot;\&quot;lise\\ &quot;
<div class="Pp"></div>
	# These lists will still use the username [jdoe], but the
	# password is now [&quot;lise\ ].
<div class="Pp"></div>
	default approve
	discard_if_reason &quot;Message has implicit|Too many recipients&quot;
	discard_if_from ^(postmaster|mailer(-daemon)?|listproc|no-reply)@
<div class="Pp"></div>
	foo-devel@example.net
<div class="Pp"></div>
	# No one should ever send e-mail to the next list, so throw it
	# all away, without asking any questions
	action discard
	confirm no
	foo-announce@example.net
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>http_proxy</b> or <b>HTTP_PROXY</b></dt>
  <dd class="It-tag">Specifies a proxy to use for HTTP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>https_proxy</b> or <b>HTTPS_PROXY</b></dt>
  <dd class="It-tag">Specifies a proxy to use for HTTPS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LC_CTYPE</b></dt>
  <dd class="It-tag">The character set support is deduced from this variable.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>$HOME/.listadmin.ini</b>
<div class="Pp"></div>
The default configuration file.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The HTML parser is quite fragile and depends on Mailman not to change the format
  of its generated code.
<div class="Pp"></div>
An extra blank line is sometimes added to the subject when it contains double
  width characters (e.g. Chinese). This is probably a bug in Text::Reform.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Kjetil T. Homme &lt;kjetilho+listadmin@ifi.uio.no&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Project manager: Johnny A. Solbu &lt;johnny@solbu.net&gt;
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-12-21</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
