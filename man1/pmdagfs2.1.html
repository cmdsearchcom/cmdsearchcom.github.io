<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PMDAGFS2(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PMDAGFS2(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PMDAGFS2(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>pmdagfs2</b> - Global Filesystem v2 (GFS2) PMDA
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pmdagfs2</b> is a Performance Metrics Domain Agent (PMDA) which exports
  metric values about mounted GFS2 filesystems from the debugfs filesystem. This
  PMDA requires debugfs along with at least one mounted GFS2 filesystem to be
  mounted in order to be able to provide metric data.
<div class="Pp"></div>
This PMDA can be used with GFS2 filesystems which are both mounted as local
  filesystems and filesystems which are mounted as shared storage within a
  clustered environment. However there are some metrics which specifically
  require GFS2 to be setup in a clustered environment to be able to provide
  metric data. This is due to them expecting locking messages to be passed via
  the distributed lock manager (DLM) between nodes of a cluster in order to
  generate their output.
<div class="Pp"></div>
These cluster-environment-only metrics can be distinguished by the inclusion of
  their corresponding control metrics so that they can be optionally enabled or
  disabled on systems where they are not desired to be monitored or not
  supported.
<div class="Pp"></div>
<b>pmstore</b>(3) can be used to assign values to these control metrics in order
  to enable (1) or disable (0) them. This mechanism is also useful on
  distributions that do not currently have full support for the GFS2
  trace-points or provide older versions of the GFS2 driver.
<div class="Pp"></div>
Further details on clustering and GFS2 can be found at http://redhat.com
<h1 class="Sh" title="Sh" id="INSTALLATION"><a class="selflink" href="#INSTALLATION">INSTALLATION</a></h1>
Install the GFS2 PMDA by using the Install script as root:
<div class="Pp"></div>
<br/>
 # cd $PCP_PMDAS_DIR/gfs2
<div>&#x00A0;</div>
<br/>
 # ./Install
<div class="Pp"></div>
To uninstall, do the following as root:
<div class="Pp"></div>
<br/>
 # cd $PCP_PMDAS_DIR/gfs2
<div>&#x00A0;</div>
<br/>
 # ./Remove
<div class="Pp"></div>
<b>pmdagfs2</b> is launched by <b>pmcd</b>(1) and should never be executed
  directly. The Install and Remove scripts notify <b>pmcd</b> when the agent is
  installed or removed.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMDAS_DIR/gfs2/help</b></dt>
  <dd class="It-tag">default help text file for the GFS2 metrics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMDAS_DIR/gfs2/Install</b></dt>
  <dd class="It-tag">installation script for the <b>pmdagfs2</b> agent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMDAS_DIR/gfs2/Remove</b></dt>
  <dd class="It-tag">undo installation script for the <b>pmdagfs2</b> agent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_LOG_DIR/pmcd/gfs2.log</b></dt>
  <dd class="It-tag">default log file for error messages from
    <b>pmdagfs2</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="PCP_ENVIRONMENT"><a class="selflink" href="#PCP_ENVIRONMENT">PCP
  ENVIRONMENT</a></h1>
Environment variables with the prefix <b>PCP_</b> are used to parameterize the
  file and directory names used by <b>PCP</b>. On each installation, the file
  <b>/etc/pcp.conf</b> contains the local values for these variables. The
  <b>$PCP_CONF</b> variable may be used to specify an alternative configuration
  file, as described in <i>pcp.conf</i>(5).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pmcd</b>(1), <b>pmstore</b>(1), and <b>gfs2</b>(5).</div>
<table class="foot">
  <tr>
    <td class="foot-date">PCP</td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
