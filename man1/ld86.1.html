<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:21:29 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ld86(1) General Commands Manual ld86(1)</p>

<p style="margin-top: 1em">NAME <br>
ld86 - Linker for as86(1)</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ld86 [-03MNdimrstyz[-]] [-llib_extension] [-o outfile]
[-Ccrtfile] [-Llibdir] [-Olibfile] [-Ttextaddr] [-Hheapsize]
[-Ddataaddr] infile...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This linker understands only the object files produced by
the as86 assembler, it can link them into either an impure
or a separate I&amp;D executable.</p>

<p style="margin-top: 1em">The linking defaults are
everything off or none except for -0 and the output file is
a.out. There is not a standard library location defined in
the linker.</p>

<p style="margin-top: 1em">OPTIONS <br>
-0 produce header with 16-bit magic</p>

<p style="margin-top: 1em">-3 produce header with 32-bit
magic</p>

<p style="margin-top: 1em">-d delete the header from the
output file, used for MSDOS COM files. As a side effect this
also includes -s as there&rsquo;s nowhere to put a symbol
table.</p>

<p style="margin-top: 1em">-Cx add file
libdir-from-search/crtx.o to list of files linked</p>

<p style="margin-top: 1em">-D data base address follows (in
format suitable for strtoul)</p>

<p style="margin-top: 1em">-H the top of heap (initial
stack) address (in format suitable for strtoul)</p>

<p style="margin-top: 1em">-Lx add dir name x to the head
of the list of library dirs searched</p>

<p style="margin-top: 1em">-M print symbols linked on
stdout</p>

<p style="margin-top: 1em">-N Create a native Linux OMAGIC
output file. If the contents are i386 code the binary can be
either linked by GCC or executed by linux. If the -z option
is also included the <br>
linker can generate a QMAGIC executable.</p>

<p style="margin-top: 1em">-Ox add library or object file
libdir-from-search/x to list of files linked</p>

<p style="margin-top: 1em">-T text base address follows (in
format suitable for strtoul)</p>

<p style="margin-top: 1em">-i separate I&amp;D output</p>

<p style="margin-top: 1em">-lx add library
libdir-from-search/libx.a to list of files linked</p>

<p style="margin-top: 1em">-m print modules linked on
stdout</p>

<p style="margin-top: 1em">-o output file name follows</p>

<p style="margin-top: 1em">-s strip symbols</p>

<p style="margin-top: 1em">-r Generate a relocatable object
from one source object, if the linker is given the -N option
also the output format will be the hosts native format if
possible.</p>

<p style="margin-top: 1em">-t trace modules being looked at
on stdout</p>

<p style="margin-top: 1em">-y Alter the symbol tables to
add label &rsquo;extensions&rsquo; so that labels with more
than 8 characters can be stored in elks executables.</p>

<p style="margin-top: 1em">-z produce &quot;unmapped zero
page&quot; or &quot;QMAGIC&quot; executables</p>

<p style="margin-top: 1em">All the options not taking an
argument may be turned off by following the option letter by
a &rsquo;-&rsquo;, as for cc1.</p>

<p style="margin-top: 1em">PREDEFINED LABELS <br>
The linker predefines several labels that can be imported
into user programs.</p>

<p style="margin-top: 1em">__etext <br>
Standard C variable for the end of the text segment.</p>

<p style="margin-top: 1em">__edata <br>
Standard C variable for the end of the initilised data.</p>

<p style="margin-top: 1em">__end Standard C variable for
the end of the bss area.</p>

<p style="margin-top: 1em">__segoff <br>
The offset within the executable file between the start of
the text segment and the start of the data segment in 16
byte &rsquo;paragraphs&rsquo;. Note this is zero for impure
(tiny <br>
model) executables and is adjusted for executables that
don&rsquo;t start at offset 0 within the segment.</p>

<p style="margin-top: 1em">__segXDL <br>
The lowest address with data in segment &rsquo;X&rsquo;. (eg
__seg0DL is for segment zero or the text segment, __seg3DL
is for the data segment) The value &rsquo;X&rsquo; is a hex
digit.</p>

<p style="margin-top: 1em">__segXDH <br>
The top of segment &rsquo;X&rsquo;s data area.</p>

<p style="margin-top: 1em">__segXCL <br>
The bottom of segment &rsquo;X&rsquo;s &rsquo;common
data&rsquo; or unitilised data area. Each segment has both
an initilised and unitilised data area.</p>

<p style="margin-top: 1em">__segXCH <br>
The top of segment &rsquo;X&rsquo;s common area.</p>

<p style="margin-top: 1em">__segXSO <br>
This is the adjusted offset from segment 0 of the start of
segment &rsquo;X&rsquo; in &rsquo;paragraphs&rsquo;.</p>

<p style="margin-top: 1em">HISTORY <br>
The 6809 version does not support -i.</p>

<p style="margin-top: 1em">The previous versions of the
linker could produce an 8086 executable with segments of a
size &gt;64k, now only i386 executables may have segments
this large.</p>

<p style="margin-top: 1em">BUGS <br>
The linker cannot deal with reverse seeks caused by org
instructions in the object file. Unlike previous versions
the current one traps the error rather than trying to fill
up <br>
the hard disk.</p>

<p style="margin-top: 1em">The linker produces a broken
a.out object file if given one input and the -r option this
is so it is compatible with pre-dev86 versions.</p>

<p style="margin-top: 1em">Apr, 1997 ld86(1)</p>
<hr>
</body>
</html>
