<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:21:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LDAPSEARCH(1) General Commands Manual LDAPSEARCH(1)</p>

<p style="margin-top: 1em">NAME <br>
ldapsearch - LDAP search tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ldapsearch [-V[V]] [-d debuglevel] [-n] [-v] [-c] [-u]
[-t[t]] [-T path] [-F prefix] [-A] [-L[L[L]]] [-S attribute]
[-b searchbase] [-s {base|one|sub|children}] <br>
[-a {never|always|search|find}] [-l timelimit] [-z
sizelimit] [-f file] [-M[M]] [-x] [-D binddn] [-W] [-w
passwd] [-y passwdfile] [-H ldapuri] [-h ldaphost] [-p
ldapport] <br>
[-P {2|3}] [-e [!]ext[=extparam]] [-E [!]ext[=extparam]] [-o
opt[=optparam]] [-O security-properties] [-I] [-Q] [-N] [-U
authcid] [-R realm] [-X authzid] [-Y mech] [-Z[Z]] filter
<br>
[attrs...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ldapsearch is a shell-accessible interface to the
ldap_search_ext(3) library call.</p>

<p style="margin-top: 1em">ldapsearch opens a connection to
an LDAP server, binds, and performs a search using specified
parameters. The filter should conform to the string
representation for search fil&acirc; <br>
ters as defined in RFC 4515. If not provided, the default
filter, (objectClass=*), is used.</p>

<p style="margin-top: 1em">If ldapsearch finds one or more
entries, the attributes specified by attrs are returned. If
* is listed, all user attributes are returned. If + is
listed, all operational <br>
attributes are returned. If no attrs are listed, all user
attributes are returned. If only 1.1 is listed, no
attributes will be returned.</p>

<p style="margin-top: 1em">The search results are displayed
using an extended version of LDIF. Option -L controls the
format of the output.</p>

<p style="margin-top: 1em">OPTIONS <br>
-V[V] Print version info. If -VV is given, only the version
information is printed.</p>

<p style="margin-top: 1em">-d debuglevel <br>
Set the LDAP debugging level to debuglevel. ldapsearch must
be compiled with LDAP_DEBUG defined for this option to have
any effect.</p>

<p style="margin-top: 1em">-n Show what would be done, but
don&rsquo;t actually perform the search. Useful for
debugging in conjunction with -v.</p>

<p style="margin-top: 1em">-v Run in verbose mode, with
many diagnostics written to standard output.</p>

<p style="margin-top: 1em">-c Continuous operation mode.
Errors are reported, but ldapsearch will continue with
searches. The default is to exit after reporting an error.
Only useful in conjunction <br>
with -f.</p>

<p style="margin-top: 1em">-u Include the User Friendly
Name form of the Distinguished Name (DN) in the output.</p>

<p style="margin-top: 1em">-t[t] A single -t writes
retrieved non-printable values to a set of temporary files.
This is useful for dealing with values containing
non-character data such as jpegPhoto or <br>
audio. A second -t writes all retrieved values to files.</p>

<p style="margin-top: 1em">-T path <br>
Write temporary files to directory specified by path
(default: /var/tmp/)</p>

<p style="margin-top: 1em">-F prefix <br>
URL prefix for temporary files. Default is file://path where
path is /var/tmp/ or specified with -T.</p>

<p style="margin-top: 1em">-A Retrieve attributes only (no
values). This is useful when you just want to see if an
attribute is present in an entry and are not interested in
the specific values.</p>

<p style="margin-top: 1em">-L Search results are display in
LDAP Data Interchange Format detailed in ldif(5). A single
-L restricts the output to LDIFv1. <br>
A second -L disables comments. A third -L disables printing
of the LDIF version. The default is to use an extended
version of LDIF.</p>

<p style="margin-top: 1em">-S attribute <br>
Sort the entries returned based on attribute. The default is
not to sort entries returned. If attribute is a zero-length
string (&quot;&quot;), the entries are sorted by the
compo&acirc; <br>
nents of their Distinguished Name. See ldap_sort(3) for more
details. Note that ldapsearch normally prints out entries as
it receives them. The use of the -S option <br>
defeats this behavior, causing all entries to be retrieved,
then sorted, then printed.</p>

<p style="margin-top: 1em">-b searchbase <br>
Use searchbase as the starting point for the search instead
of the default.</p>

<p style="margin-top: 1em">-s {base|one|sub|children} <br>
Specify the scope of the search to be one of base, one, sub,
or children to specify a base object, one-level, subtree, or
children search. The default is sub. Note: <br>
children scope requires LDAPv3 subordinate feature
extension.</p>

<p style="margin-top: 1em">-a {never|always|search|find}
<br>
Specify how aliases dereferencing is done. Should be one of
never, always, search, or find to specify that aliases are
never dereferenced, always dereferenced, derefer&acirc; <br>
enced when searching, or dereferenced only when locating the
base object for the search. The default is to never
dereference aliases.</p>

<p style="margin-top: 1em">-l timelimit <br>
wait at most timelimit seconds for a search to complete. A
timelimit of 0 (zero) or none means no limit. A timelimit of
max means the maximum integer allowable by the <br>
protocol. A server may impose a maximal timelimit which only
the root user may override.</p>

<p style="margin-top: 1em">-z sizelimit <br>
retrieve at most sizelimit entries for a search. A sizelimit
of 0 (zero) or none means no limit. A sizelimit of max means
the maximum integer allowable by the protocol. <br>
A server may impose a maximal sizelimit which only the root
user may override.</p>

<p style="margin-top: 1em">-f file <br>
Read a series of lines from file, performing one LDAP search
for each line. In this case, the filter given on the command
line is treated as a pattern where the first and <br>
only occurrence of %s is replaced with a line from file. Any
other occurrence of the the % character in the pattern will
be regarded as an error. Where it is desired <br>
that the search filter include a % character, the character
should be encoded as 25 (see RFC 4515). If file is a single
- character, then the lines are read from stan&acirc; <br>
dard input. ldapsearch will exit when the first
non-successful search result is returned, unless -c is
used.</p>

<p style="margin-top: 1em">-M[M] Enable manage DSA IT
control. -MM makes control critical.</p>

<p style="margin-top: 1em">-x Use simple authentication
instead of SASL.</p>

<p style="margin-top: 1em">-D binddn <br>
Use the Distinguished Name binddn to bind to the LDAP
directory. For SASL binds, the server is expected to ignore
this value.</p>

<p style="margin-top: 1em">-W Prompt for simple
authentication. This is used instead of specifying the
password on the command line.</p>

<p style="margin-top: 1em">-w passwd <br>
Use passwd as the password for simple authentication.</p>

<p style="margin-top: 1em">-y passwdfile <br>
Use complete contents of passwdfile as the password for
simple authentication.</p>

<p style="margin-top: 1em">-H ldapuri <br>
Specify URI(s) referring to the ldap server(s); a list of
URI, separated by whitespace or commas is expected; only the
protocol/host/port fields are allowed. As an excep&acirc;
<br>
tion, if no host/port is specified, but a DN is, the DN is
used to look up the corresponding host(s) using the DNS SRV
records, according to RFC 2782. The DN must be a <br>
non-empty sequence of AVAs whose attribute type is
&quot;dc&quot; (domain component), and must be escaped
according to RFC 2396.</p>

<p style="margin-top: 1em">-h ldaphost <br>
Specify an alternate host on which the ldap server is
running. Deprecated in favor of -H.</p>

<p style="margin-top: 1em">-p ldapport <br>
Specify an alternate TCP port where the ldap server is
listening. Deprecated in favor of -H.</p>

<p style="margin-top: 1em">-P {2|3} <br>
Specify the LDAP protocol version to use.</p>

<p style="margin-top: 1em">-e [!]ext[=extparam]</p>

<p style="margin-top: 1em">-E [!]ext[=extparam]</p>

<p style="margin-top: 1em">Specify general extensions with
-e and search extensions with -E.
&Acirc;&acute;!&Acirc;&acute; indicates criticality.</p>

<p style="margin-top: 1em">General extensions: <br>
[!]assert=&lt;filter&gt; (an RFC 4515 Filter) <br>
!authzid=&lt;authzid&gt; (&quot;dn:&lt;dn&gt;&quot; or
&quot;u:&lt;user&gt;&quot;) <br>
[!]bauthzid (RFC 3829 authzid control) <br>
[!]chaining[=&lt;resolve&gt;[/&lt;cont&gt;]] <br>
[!]manageDSAit <br>
[!]noop <br>
ppolicy <br>
[!]postread[=&lt;attrs&gt;] (a comma-separated attribute
list) <br>
[!]preread[=&lt;attrs&gt;] (a comma-separated attribute
list) <br>
[!]relax <br>
sessiontracking <br>
abandon,cancel,ignore (SIGINT sends abandon/cancel, <br>
or ignores response; if critical, doesn&rsquo;t wait for
SIGINT. <br>
not really controls)</p>

<p style="margin-top: 1em">Search extensions: <br>
!dontUseCopy <br>
[!]domainScope (domain scope) <br>
[!]mv=&lt;filter&gt; (matched values filter) <br>
[!]pr=&lt;size&gt;[/prompt|noprompt] (paged results/prompt)
<br>
[!]sss=[-]&lt;attr[:OID]&gt;[/[-]&lt;attr[:OID]&gt;...]
(server side sorting) <br>
[!]subentries[=true|false] (subentries) <br>
[!]sync=ro[/&lt;cookie&gt;] (LDAP Sync refreshOnly) <br>
rp[/&lt;cookie&gt;][/&lt;slimit&gt;] (LDAP Sync
refreshAndPersist) <br>

[!]vlv=&lt;before&gt;/&lt;after&gt;(/&lt;offset&gt;/&lt;count&gt;|:&lt;value&gt;)
(virtual list view) <br>

[!]deref=derefAttr:attr[,attr[...]][;derefAttr:attr[,attr[...]]]
<br>
[!]&lt;oid&gt;[=&lt;value&gt;]</p>

<p style="margin-top: 1em">-o opt[=optparam]</p>

<p style="margin-top: 1em">Specify general options.</p>

<p style="margin-top: 1em">General options: <br>
nettimeout=&lt;timeout&gt; (in seconds, or &quot;none&quot;
or &quot;max&quot;) <br>
ldif-wrap=&lt;width&gt; (in columns, or &quot;no&quot; for
no wrapping)</p>

<p style="margin-top: 1em">-O security-properties <br>
Specify SASL security properties.</p>

<p style="margin-top: 1em">-I Enable SASL Interactive mode.
Always prompt. Default is to prompt only as needed.</p>

<p style="margin-top: 1em">-Q Enable SASL Quiet mode. Never
prompt.</p>

<p style="margin-top: 1em">-N Do not use reverse DNS to
canonicalize SASL host name.</p>

<p style="margin-top: 1em">-U authcid <br>
Specify the authentication ID for SASL bind. The form of the
ID depends on the actual SASL mechanism used.</p>

<p style="margin-top: 1em">-R realm <br>
Specify the realm of authentication ID for SASL bind. The
form of the realm depends on the actual SASL mechanism
used.</p>

<p style="margin-top: 1em">-X authzid <br>
Specify the requested authorization ID for SASL bind.
authzid must be one of the following formats:
dn:&lt;distinguished name&gt; or u:&lt;username&gt;</p>

<p style="margin-top: 1em">-Y mech <br>
Specify the SASL mechanism to be used for authentication. If
it&rsquo;s not specified, the program will choose the best
mechanism the server knows.</p>

<p style="margin-top: 1em">-Z[Z] Issue StartTLS (Transport
Layer Security) extended operation. If you use -ZZ, the
command will require the operation to be successful.</p>

<p style="margin-top: 1em">OUTPUT FORMAT <br>
If one or more entries are found, each entry is written to
standard output in LDAP Data Interchange Format or
ldif(5):</p>

<p style="margin-top: 1em">version: 1</p>

<p style="margin-top: 1em"># bjensen, example, net <br>
dn: uid=bjensen,dc=example,dc=net <br>
objectClass: person <br>
objectClass: dcObject <br>
uid: bjensen <br>
cn: Barbara Jensen <br>
sn: Jensen <br>
...</p>

<p style="margin-top: 1em">If the -t option is used, the
URI of a temporary file is used in place of the actual
value. If the -A option is given, only the
&quot;attributename&quot; part is written.</p>

<p style="margin-top: 1em">EXAMPLE <br>
The following command:</p>

<p style="margin-top: 1em">ldapsearch -LLL
&quot;(sn=smith)&quot; cn sn telephoneNumber</p>

<p style="margin-top: 1em">will perform a subtree search
(using the default search base and other parameters defined
in ldap.conf(5)) for entries with a surname (sn) of smith.
The common name (cn), sur&acirc; <br>
name (sn) and telephoneNumber values will be retrieved and
printed to standard output. The output might look something
like this if two entries are found:</p>

<p style="margin-top: 1em">dn: uid=jts,dc=example,dc=com
<br>
cn: John Smith <br>
cn: John T. Smith <br>
sn: Smith <br>
sn;lang-en: Smith <br>
sn;lang-de: Schmidt <br>
telephoneNumber: 1 555 123-4567</p>

<p style="margin-top: 1em">dn: uid=sss,dc=example,dc=com
<br>
cn: Steve Smith <br>
cn: Steve S. Smith <br>
sn: Smith <br>
sn;lang-en: Smith <br>
sn;lang-de: Schmidt <br>
telephoneNumber: 1 555 765-4321</p>

<p style="margin-top: 1em">The command:</p>

<p style="margin-top: 1em">ldapsearch -LLL -u -t
&quot;(uid=xyz)&quot; jpegPhoto audio</p>

<p style="margin-top: 1em">will perform a subtree search
using the default search base for entries with user id of
&quot;xyz&quot;. The user friendly form of the entry&rsquo;s
DN will be output after the line that con&acirc; <br>
tains the DN itself, and the jpegPhoto and audio values will
be retrieved and written to temporary files. The output
might look like this if one entry with one value for each of
<br>
the requested attributes is found:</p>

<p style="margin-top: 1em">dn: uid=xyz,dc=example,dc=com
<br>
ufn: xyz, example, com <br>
audio:&lt; file:///tmp/ldapsearch-audio-a19924 <br>
jpegPhoto:&lt; file:///tmp/ldapsearch-jpegPhoto-a19924</p>

<p style="margin-top: 1em">This command:</p>

<p style="margin-top: 1em">ldapsearch -LLL -s one -b
&quot;c=US&quot; &quot;(o=University*)&quot; o
description</p>

<p style="margin-top: 1em">will perform a one-level search
at the c=US level for all entries whose organization name
(o) begins with University. The organization name and
description attribute values will <br>
be retrieved and printed to standard output, resulting in
output similar to this:</p>

<p style="margin-top: 1em">dn: o=University of Alaska
Fairbanks,c=US <br>
o: University of Alaska Fairbanks <br>
description: Preparing Alaska for a brave new yesterday <br>
description: leaf node only</p>

<p style="margin-top: 1em">dn: o=University of Colorado at
Boulder,c=US <br>
o: University of Colorado at Boulder <br>
description: No personnel information <br>
description: Institution of education and research</p>

<p style="margin-top: 1em">dn: o=University of Colorado at
Denver,c=US <br>
o: University of Colorado at Denver <br>
o: UCD <br>
o: CU/Denver <br>
o: CU-Denver <br>
description: Institute for Higher Learning and Research</p>

<p style="margin-top: 1em">dn: o=University of Florida,c=US
<br>
o: University of Florida <br>
o: UFl <br>
description: Warper of young minds</p>

<p style="margin-top: 1em">...</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
Exit status is zero if no errors occur. Errors result in a
non-zero exit status and a diagnostic message being written
to standard error.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ldapadd(1), ldapdelete(1), ldapmodify(1), ldapmodrdn(1),
ldap.conf(5), ldif(5), ldap(3), ldap_search_ext(3),
ldap_sort(3)</p>

<p style="margin-top: 1em">AUTHOR <br>
The OpenLDAP Project &lt;http://www.openldap.org/&gt;</p>

<p style="margin-top: 1em">ACKNOWLEDGEMENTS <br>
OpenLDAP Software is developed and maintained by The
OpenLDAP Project &lt;http://www.openldap.org/&gt;. OpenLDAP
Software is derived from University of Michigan LDAP 3.3
Release.</p>

<p style="margin-top: 1em">OpenLDAP 2.4.40 2014/09/20
LDAPSEARCH(1)</p>
<hr>
</body>
</html>
