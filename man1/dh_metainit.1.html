<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DH_METAINIT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DH_METAINIT(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">DH_METAINIT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dh_metainit - install metainit files into package build directories
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dh_metainit</b> [<i>debhelper&#x00A0;options</i>] [<b>--name=</b><i>name</i>]
  [ <b>-n</b>] [<b>-o</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
dh_metainit is a debhelper program that is responsible for installing metainit
  files (for further creation of initscripts via the update-metainit facility)
  into package build directories.
<div class="Pp"></div>
It also automatically generates the postinst and postrm and prerm commands
  needed to create the appropriate initscripts for the init system employed on
  the user machine.
<div class="Pp"></div>
<b>Important:</b> If generated postinst script finds /etc/init.d/ or
  /etc/default files with the same name as the shipped metainit files, and these
  are conffiles from non-installed packages (probably earlier version of this
  package) they are removed (or renamed if the user has modified them). This
  works only if the name of the new metainit is the same as the name of the old
  init.d and default file, otherwise you will have to remove these files
  yourself. See http://wiki.debian.org/DpkgConffileHandling for that.
<div class="Pp"></div>
If a file named debian/package.metainit exists, then it is installed into
  etc/metainit/package in the package build directory, with &quot;package&quot;
  replaced by the package name.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--noscripts</b></dt>
  <dd class="It-tag">Do not modify postinst/postrm/prerm scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>, <b>--onlyscripts</b></dt>
  <dd class="It-tag">Only modify postinst/postrm/prerm scripts, do not actually
      install any metainit files. May be useful if the init script is shipped
      and/or installed by upstream in a way that doesn't make it easy to let
      dh_metainit find it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--name=</b><i>name</i></dt>
  <dd class="It-tag">Install the metainit script using the filename <i>name</i>
      instead of the default filename, which is the package name. When this
      parameter is used, dh_metainit looks for and installs files named
      debian/package.name.metainit, instead of the usual
    debian/package.init.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--error-handler=</b><i>function</i></dt>
  <dd class="It-tag">Call the named shell function if running the init script
      fails. The function should be provided in the prerm and postinst scripts,
      before the #DEBHELPER# token.</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Note that this command is not idempotent. &quot;dh_clean -k&quot; should be
  called between invocations of this command. Otherwise, it may cause multiple
  instances of the same text to be added to maintainer scripts.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>debhelper</i>(7)
<div class="Pp"></div>
This program is a part of debhelper.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Urs Ganse &lt;urs@nerd2nerd.org&gt; based on dh_installinit by Joey Hess
  &lt;joeyh@debian.org&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2007-07-30</td>
    <td class="foot-os">perl v5.10.0</td>
  </tr>
</table>
</body>
</html>
