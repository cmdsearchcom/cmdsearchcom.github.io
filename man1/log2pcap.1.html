<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:22:25 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LOG2PCAP(1) User Commands LOG2PCAP(1)</p>

<p style="margin-top: 1em">NAME <br>
log2pcap - Extract network traces from Samba log files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
log2pcap [-h] [-q] [logfile] [pcap_file]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(7) suite.</p>

<p style="margin-top: 1em">log2pcap reads in a samba log
file and generates a pcap file (readable by most sniffers,
such as ethereal or tcpdump) based on the packet dumps in
the log file.</p>

<p style="margin-top: 1em">The log file must have a log
level of at least 5 to get the SMB header/parameters right,
10 to get the first 512 data bytes of the packet and 50 to
get the whole packet.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h <br>
If this parameter is specified the output file will be a hex
dump, in a format that is readable by the text2pcap
utility.</p>

<p style="margin-top: 1em">-q <br>
Be quiet. No warning messages about missing or incomplete
data will be given.</p>

<p style="margin-top: 1em">logfile <br>
Samba log file. log2pcap will try to read the log from stdin
if the log file is not specified.</p>

<p style="margin-top: 1em">pcap_file <br>
Name of the output file to write the pcap (or hexdump) data
to. If this argument is not specified, output data will be
written to stdout.</p>

<p style="margin-top: 1em">-?|--help <br>
Print a summary of command line options.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Extract all network traffic from all samba log files:</p>

<p style="margin-top: 1em">$ log2pcap &lt; /var/log/* &gt;
trace.pcap</p>

<p style="margin-top: 1em">Convert to pcap using
text2pcap:</p>

<p style="margin-top: 1em">$ log2pcap -h samba.log |
text2pcap -T 139,139 - trace.pcap</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 3 of the Samba
suite.</p>

<p style="margin-top: 1em">BUGS <br>
Only SMB data is extracted from the samba logs, no LDAP,
NetBIOS lookup or other data.</p>

<p style="margin-top: 1em">The generated TCP and IP headers
don&rsquo;t contain a valid checksum.</p>

<p style="margin-top: 1em">SEE ALSO <br>
text2pcap(1), ethereal(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">This manpage was written by
Jelmer Vernooij.</p>

<p style="margin-top: 1em">Samba 4.4 05/25/2017
LOG2PCAP(1)</p>
<hr>
</body>
</html>
