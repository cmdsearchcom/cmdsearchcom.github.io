<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BC(1POSIX)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BC(1POSIX)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">BC(1POSIX)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="PROLOG"><a class="selflink" href="#PROLOG">PROLOG</a></h1>
This manual page is part of the POSIX Programmer's Manual. The Linux
  implementation of this interface may differ (consult the corresponding Linux
  manual page for details of Linux behavior), or the interface may not be
  implemented on Linux.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bc &#x2014; arbitrary-precision arithmetic language
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
bc  <b>[</b>&#x2212;l<b>] [</b><i>file</i>...<b>]</b>
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>bc</i> utility shall implement an arbitrary precision calculator. It
  shall take input from any files given, then read from the standard input. If
  the standard input and standard output to <i>bc</i> are attached to a
  terminal, the invocation of <i>bc</i> shall be considered to be
  <i>interactive</i>, causing behavioral constraints described in the following
  sections.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <i>bc</i> utility shall conform to the Base Definitions volume of
  POSIX.1&#x2010;2008, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>.
<div class="Pp"></div>
The following option shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;l</b></dt>
  <dd class="It-tag">(The letter ell.) Define the math functions and initialize
      <i>scale</i> to 20, instead of the default zero; see the EXTENDED
      DESCRIPTION section.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
The following operand shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><i>file</i></dt>
  <dd class="It-tag">A pathname of a text file containing <i>bc</i> program
      statements. After all <i>file</i>s have been read, <i>bc</i> shall read
      the standard input.</dd>
</dl>
<h1 class="Sh" title="Sh" id="STDIN"><a class="selflink" href="#STDIN">STDIN</a></h1>
See the INPUT FILES section.
<h1 class="Sh" title="Sh" id="INPUT_FILES"><a class="selflink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
Input files shall be text files containing a sequence of comments, statements,
  and function definitions that shall be executed as they are read.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The following environment variables shall affect the execution of <i>bc</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><i>LANG</i></dt>
  <dd class="It-tag">Provide a default value for the internationalization
      variables that are unset or null. (See the Base Definitions volume of
      POSIX.1&#x2010;2008, <i>Section 8.2</i>, <i>Internationalization
      Variables</i> for the precedence of internationalization variables used to
      determine the values of locale categories.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_ALL</i></dt>
  <dd class="It-tag">If set to a non-empty string value, override the values of
      all the other internationalization variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_CTYPE</i></dt>
  <dd class="It-tag">Determine the locale for the interpretation of sequences of
      bytes of text data as characters (for example, single-byte as opposed to
      multi-byte characters in arguments and input files).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_MESSAGES</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>NLSPATH</i></dt>
  <dd class="It-tag">Determine the location of message catalogs for the
      processing of <i>LC_MESSAGES</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ASYNCHRONOUS_EVENTS"><a class="selflink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
Default.
<h1 class="Sh" title="Sh" id="STDOUT"><a class="selflink" href="#STDOUT">STDOUT</a></h1>
The output of the <i>bc</i> utility shall be controlled by the program read, and
  consist of zero or more lines containing the value of all executed expressions
  without assignments. The radix and precision of the output shall be controlled
  by the values of the <b>obase</b> and <b>scale</b> variables; see the EXTENDED
  DESCRIPTION section.
<h1 class="Sh" title="Sh" id="STDERR"><a class="selflink" href="#STDERR">STDERR</a></h1>
The standard error shall be used only for diagnostic messages.
<h1 class="Sh" title="Sh" id="OUTPUT_FILES"><a class="selflink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXTENDED_DESCRIPTION"><a class="selflink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
<h2 class="Ss" title="Ss" id="Grammar"><a class="selflink" href="#Grammar">Grammar</a></h2>
The grammar in this section and the lexical conventions in the following section
  shall together describe the syntax for <i>bc</i> programs. The general
  conventions for this style of grammar are described in <i>Section 1.3</i>,
  <i>Grammar Conventions</i>. A valid program can be represented as the
  non-terminal symbol <b>program</b> in the grammar. This formal syntax shall
  take precedence over the text syntax description.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>%token    EOF NEWLINE STRING LETTER NUMBER</b>
</pre>
<div class="Pp"></div>
<pre>
%token    MUL_OP
/*        '*', '/', '%'                           */
</pre>
<div class="Pp"></div>
<pre>
%token    ASSIGN_OP
/*        '=', '+=', '&#x2212;=', '*=', '/=', '%=', '^=' */
</pre>
<div class="Pp"></div>
<pre>
%token    REL_OP
/*        '==', '&lt;=', '&gt;=', '!=', '&lt;', '&gt;'        */
</pre>
<div class="Pp"></div>
<pre>
%token    INCR_DECR
/*        '++', '&#x2212;&#x2212;'                              */
</pre>
<div class="Pp"></div>
<pre>
%token    Define    Break    Quit    Length
/*        'define', 'break', 'quit', 'length'     */
</pre>
<div class="Pp"></div>
<pre>
%token    Return    For    If    While    Sqrt
/*        'return', 'for', 'if', 'while', 'sqrt'  */
</pre>
<div class="Pp"></div>
<pre>
%token    Scale    Ibase    Obase    Auto
/*        'scale', 'ibase', 'obase', 'auto'       */
</pre>
<div class="Pp"></div>
<pre>
%start    program
</pre>
<div class="Pp"></div>
<pre>
%%
</pre>
<div class="Pp"></div>
<pre>
program              : EOF
                     | input_item program
                     ;
</pre>
<div class="Pp"></div>
<pre>
input_item           : semicolon_list NEWLINE
                     | function
                     ;
</pre>
<div class="Pp"></div>
<pre>
semicolon_list       : /* empty */
                     | statement
                     | semicolon_list ';' statement
                     | semicolon_list ';'
                     ;
</pre>
<div class="Pp"></div>
<pre>
statement_list       : /* empty */
                     | statement
                     | statement_list NEWLINE
                     | statement_list NEWLINE statement
                     | statement_list ';'
                     | statement_list ';' statement
                     ;
</pre>
<div class="Pp"></div>
<pre>
statement            : expression
                     | STRING
                     | Break
                     | Quit
                     | Return
                     | Return '(' return_expression ')'
                     | For '(' expression ';'
                           relational_expression ';'
                           expression ')' statement
                     | If '(' relational_expression ')' statement
                     | While '(' relational_expression ')' statement
                     | '{' statement_list '}'
                     ;
</pre>
<div class="Pp"></div>
<pre>
function             : Define LETTER '(' opt_parameter_list ')'
                           '{' NEWLINE opt_auto_define_list
                           statement_list '}'
                     ;
</pre>
<div class="Pp"></div>
<pre>
opt_parameter_list   : /* empty */
                     | parameter_list
                     ;
</pre>
<div class="Pp"></div>
<pre>
parameter_list       : LETTER
                     | define_list ',' LETTER
                     ;
</pre>
<div class="Pp"></div>
<pre>
opt_auto_define_list : /* empty */
                     | Auto define_list NEWLINE
                     | Auto define_list ';'
                     ;
</pre>
<div class="Pp"></div>
<pre>
define_list          : LETTER
                     | LETTER '[' ']'
                     | define_list ',' LETTER
                     | define_list ',' LETTER '[' ']'
                     ;
</pre>
<div class="Pp"></div>
<pre>
opt_argument_list    : /* empty */
                     | argument_list
                     ;
</pre>
<div class="Pp"></div>
<pre>
argument_list        : expression
                     | LETTER '[' ']' ',' argument_list
                     ;
</pre>
<div class="Pp"></div>
<pre>
relational_expression : expression
                     | expression REL_OP expression
                     ;
</pre>
<div class="Pp"></div>
<pre>
return_expression    : /* empty */
                     | expression
                     ;
</pre>
<div class="Pp"></div>
<pre>
expression           : named_expression
                     | NUMBER
                     | '(' expression ')'
                     | LETTER '(' opt_argument_list ')'
                     | '&#x2212;' expression
                     | expression '+' expression
                     | expression '&#x2212;' expression
                     | expression MUL_OP expression
                     | expression '^' expression
                     | INCR_DECR named_expression
                     | named_expression INCR_DECR
                     | named_expression ASSIGN_OP expression
                     | Length '(' expression ')'
                     | Sqrt '(' expression ')'
                     | Scale '(' expression ')'
                     ;
</pre>
<div class="Pp"></div>
<pre>
named_expression     : LETTER
                     | LETTER '[' expression ']'
                     | Scale
                     | Ibase
                     | Obase
                     ;
</pre>
</div>
<h2 class="Ss" title="Ss" id="Lexical_Conventions_in_bc"><a class="selflink" href="#Lexical_Conventions_in_bc">Lexical
  Conventions in bc</a></h2>
The lexical conventions for <i>bc</i> programs, with respect to the preceding
  grammar, shall be as follows:
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Except as noted, <i>bc</i> shall recognize the longest
      possible token or delimiter beginning at a given point.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">A comment shall consist of any characters beginning with
      the two adjacent characters <b>&quot;/*&quot;</b> and terminated by the
      next occurrence of the two adjacent characters <b>&quot;*/&quot;</b>.
      Comments shall have no effect except to delimit lexical tokens.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">The &lt;newline&gt; shall be recognized as the token
      <b>NEWLINE</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag">The token <b>STRING</b> shall represent a string constant;
      it shall consist of any characters beginning with the double-quote
      character (<b>'&quot;'</b>) and terminated by another occurrence of the
      double-quote character. The value of the string is the sequence of all
      characters between, but not including, the two double-quote characters.
      All characters shall be taken literally from the input, and there is no
      way to specify a string containing a double-quote character. The length of
      the value of each string shall be limited to {BC_STRING_MAX} bytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 5.</dt>
  <dd class="It-tag">A &lt;blank&gt; shall have no effect except as an ordinary
      character if it appears within a <b>STRING</b> token, or to delimit a
      lexical token other than <b>STRING</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 6.</dt>
  <dd class="It-tag">The combination of a &lt;backslash&gt; character
      immediately followed by a &lt;newline&gt; shall have no effect other than
      to delimit lexical tokens with the following exceptions:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">It shall be interpreted as the character sequence
      <b>&quot;\&lt;newline&gt;&quot;</b> in <b>STRING</b> tokens.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">It shall be ignored as part of a multi-line <b>NUMBER</b>
      token.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 7.</dt>
  <dd class="It-tag">The token <b>NUMBER</b> shall represent a numeric constant.
      It shall be recognized by the following grammar:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>NUMBER  : integer</b>
<b>        | '.' integer</b>
<b>        | integer '.'</b>
<b>        | integer '.' integer</b>
<b>        ;</b>
</pre>
<div class="Pp"></div>
<pre>
integer : digit
        | integer digit
        ;
</pre>
<div class="Pp"></div>
<pre>
digit   : 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7
        | 8 | 9 | A | B | C | D | E | F
        ;
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 8.</dt>
  <dd class="It-tag">The value of a <b>NUMBER</b> token shall be interpreted as
      a numeral in the base specified by the value of the internal register
      <b>ibase</b> (described below). Each of the <b>digit</b> characters shall
      have the value from 0 to 15 in the order listed here, and the
      &lt;period&gt; character shall represent the radix point. The behavior is
      undefined if digits greater than or equal to the value of <b>ibase</b>
      appear in the token. However, note the exception for single-digit values
      being assigned to <b>ibase</b> and <b>obase</b> themselves, in
      <i>Operations in bc</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 9.</dt>
  <dd class="It-tag">The following keywords shall be recognized as tokens:
    <table class="tbl">
      <colgroup>
        <col style="width: 18.00ex;"/>
        <col style="width: 18.00ex;"/>
        <col style="width: 18.00ex;"/>
        <col style="width: 18.00ex;"/>
        <col style="width: 18.00ex;"/>
      </colgroup>
      <tr>
        <td> auto break define</td>
        <td> ibase if for</td>
        <td> length obase quit</td>
        <td> return scale sqrt</td>
        <td> while </td>
      </tr>
    </table>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">10.</dt>
  <dd class="It-tag">Any of the following characters occurring anywhere except
      within a keyword shall be recognized as the token <b>LETTER</b>:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>a b c d e f g h i j k l m n o p q r s t u v w x y z</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">11.</dt>
  <dd class="It-tag">The following single-character and two-character sequences
      shall be recognized as the token <b>ASSIGN_OP</b>:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>=   +=   &#x2212;=   *=   /=   %=   ^=</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">12.</dt>
  <dd class="It-tag">If an <b>'='</b> character, as the beginning of a token, is
      followed by a <b>'&#x2212;'</b> character with no intervening delimiter,
      the behavior is undefined.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">13.</dt>
  <dd class="It-tag">The following single-characters shall be recognized as the
      token <b>MUL_OP</b>:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>*   /   %</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">14.</dt>
  <dd class="It-tag">The following single-character and two-character sequences
      shall be recognized as the token <b>REL_OP</b>:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>==   &lt;=   &gt;=   !=   &lt;   &gt;</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">15.</dt>
  <dd class="It-tag">The following two-character sequences shall be recognized
      as the token <b>INCR_DECR</b>:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>++   &#x2212;&#x2212;</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">16.</dt>
  <dd class="It-tag">The following single characters shall be recognized as
      tokens whose names are the character:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&lt;newline&gt;  (  )  ,  +  &#x2212;  ;  [  ]  ^  {  }</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">17.</dt>
  <dd class="It-tag">The token <b>EOF</b> is returned when the end of input is
      reached.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Operations_in_bc"><a class="selflink" href="#Operations_in_bc">Operations
  in bc</a></h2>
There are three kinds of identifiers: ordinary identifiers, array identifiers,
  and function identifiers. All three types consist of single lowercase letters.
  Array identifiers shall be followed by square brackets
  (<b>&quot;[]&quot;</b>). An array subscript is required except in an argument
  or auto list. Arrays are singly dimensioned and can contain up to {BC_DIM_MAX}
  elements. Indexing shall begin at zero so an array is indexed from 0 to
  {BC_DIM_MAX}&#x2212;1. Subscripts shall be truncated to integers. The
  application shall ensure that function identifiers are followed by
  parentheses, possibly enclosing arguments. The three types of identifiers do
  not conflict.
<div class="Pp"></div>
The following table summarizes the rules for precedence and associativity of all
  operators. Operators on the same line shall have the same precedence; rows are
  in order of decreasing precedence.
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>Table: Operators in </b><i>bc</i><b></b>
<div>&#x00A0;</div>
<table class="tbl">
  <colgroup>
    <col style="width: 28.00ex;"/>
    <col style="width: 13.00ex;"/>
  </colgroup>
  <tr>
    <td>Operator</td>
    <td>Associativity</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>++, &#x2212;&#x2212;</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td>unary &#x2212;</td>
    <td>N/A</td>
  </tr>
  <tr>
    <td>^</td>
    <td>Right to left</td>
  </tr>
  <tr>
    <td>*, /, %</td>
    <td>Left to right</td>
  </tr>
  <tr>
    <td>+, binary &#x2212;</td>
    <td>Left to right</td>
  </tr>
  <tr>
    <td>=, +=, &#x2212;=, *=, /=, %=, ^=</td>
    <td>Right to left</td>
  </tr>
  <tr>
    <td>==, &lt;=, &gt;=, !=, &lt;, &gt;</td>
    <td>None</td>
  </tr>
</table>
<div class="Pp"></div>
Each expression or named expression has a <i>scale</i>, which is the number of
  decimal digits that shall be maintained as the fractional portion of the
  expression.
<div class="Pp"></div>
<i>Named expressions</i> are places where values are stored. Named expressions
  shall be valid on the left side of an assignment. The value of a named
  expression shall be the value stored in the place named. Simple identifiers
  and array elements are named expressions; they have an initial value of zero
  and an initial scale of zero.
<div class="Pp"></div>
The internal registers <b>scale</b>, <b>ibase</b>, and <b>obase</b> are all
  named expressions. The scale of an expression consisting of the name of one of
  these registers shall be zero; values assigned to any of these registers are
  truncated to integers. The <b>scale</b> register shall contain a global value
  used in computing the scale of expressions (as described below). The value of
  the register <b>scale</b> is limited to 0 &#x2264; <b>scale</b> &#x2264;
  {BC_SCALE_MAX} and shall have a default value of zero. The <b>ibase</b> and
  <b>obase</b> registers are the input and output number radix, respectively.
  The value of <b>ibase</b> shall be limited to:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>2 &#x2264; ibase &#x2264; 16</b>
</pre>
</div>
<div class="Pp"></div>
The value of <b>obase</b> shall be limited to:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>2 &#x2264; obase &#x2264; {BC_BASE_MAX}</b>
</pre>
</div>
<div class="Pp"></div>
When either <b>ibase</b> or <b>obase</b> is assigned a single <b>digit</b> value
  from the list in <i>Lexical Conventions in bc</i>, the value shall be assumed
  in hexadecimal. (For example, <b>ibase</b>=A sets to base ten, regardless of
  the current <b>ibase</b> value.) Otherwise, the behavior is undefined when
  digits greater than or equal to the value of <b>ibase</b> appear in the input.
  Both <b>ibase</b> and <b>obase</b> shall have initial values of 10.
<div class="Pp"></div>
Internal computations shall be conducted as if in decimal, regardless of the
  input and output bases, to the specified number of decimal digits. When an
  exact result is not achieved (for example,
  <b>scale</b>=0;&#x00A0;3.2/1)<b>,</b> the result shall be truncated.
<div class="Pp"></div>
For all values of <b>obase</b> specified by this volume of POSIX.1&#x2010;2008,
  <i>bc</i> shall output numeric values by performing each of the following
  steps in order:
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">If the value is less than zero, a &lt;hyphen&gt;
      (<b>'&#x2212;'</b>) character shall be output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">One of the following is output, depending on the numerical
      value:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If the absolute value of the numerical value is greater
      than or equal to one, the integer portion of the value shall be output as
      a series of digits appropriate to <b>obase</b> (as described below), most
      significant digit first. The most significant non-zero digit shall be
      output next, followed by each successively less significant digit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If the absolute value of the numerical value is less than
      one but greater than zero and the scale of the numerical value is greater
      than zero, it is unspecified whether the character 0 is output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If the numerical value is zero, the character 0 shall be
      output.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">If the scale of the value is greater than zero and the
      numeric value is not zero, a &lt;period&gt; character shall be output,
      followed by a series of digits appropriate to <b>obase</b> (as described
      below) representing the most significant portion of the fractional part of
      the value. If <i>s</i> represents the scale of the value being output, the
      number of digits output shall be <i>s</i> if <b>obase</b> is 10, less than
      or equal to <i>s</i> if <b>obase</b> is greater than 10, or greater than
      or equal to <i>s</i> if <b>obase</b> is less than 10. For <b>obase</b>
      values other than 10, this should be the number of digits needed to
      represent a precision of 10 <i>s</i>.</dd>
</dl>
<div class="Pp"></div>
For <b>obase</b> values from 2 to 16, valid digits are the first <b>obase</b> of
  the single characters:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</b>
</pre>
</div>
<div class="Pp"></div>
which represent the values zero to 15, inclusive, respectively.
<div class="Pp"></div>
For bases greater than 16, each digit shall be written as a separate multi-digit
  decimal number. Each digit except the most significant fractional digit shall
  be preceded by a single &lt;space&gt;. For bases from 17 to 100, <i>bc</i>
  shall write two-digit decimal numbers; for bases from 101 to 1000, three-digit
  decimal strings, and so on. For example, the decimal number 1024 in base 25
  would be written as:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b> 01 15 24</b>
</pre>
</div>
<div class="Pp"></div>
and in base 125, as:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b> 008 024</b>
</pre>
</div>
<div class="Pp"></div>
Very large numbers shall be split across lines with 70 characters per line in
  the POSIX locale; other locales may split at different character boundaries.
  Lines that are continued shall end with a &lt;backslash&gt;.
<div class="Pp"></div>
A function call shall consist of a function name followed by parentheses
  containing a &lt;comma&gt;-separated list of expressions, which are the
  function arguments. A whole array passed as an argument shall be specified by
  the array name followed by empty square brackets. All function arguments shall
  be passed by value. As a result, changes made to the formal parameters shall
  have no effect on the actual arguments. If the function terminates by
  executing a <b>return</b> statement, the value of the function shall be the
  value of the expression in the parentheses of the <b>return</b> statement or
  shall be zero if no expression is provided or if there is no <b>return</b>
  statement.
<div class="Pp"></div>
The result of <b>sqrt</b>(<i>expression</i>) shall be the square root of the
  expression. The result shall be truncated in the least significant decimal
  place. The scale of the result shall be the scale of the expression or the
  value of <b>scale</b>, whichever is larger.
<div class="Pp"></div>
The result of <b>length</b>(<i>expression</i>) shall be the total number of
  significant decimal digits in the expression. The scale of the result shall be
  zero.
<div class="Pp"></div>
The result of <b>scale</b>(<i>expression</i>) shall be the scale of the
  expression. The scale of the result shall be zero.
<div class="Pp"></div>
A numeric constant shall be an expression. The scale shall be the number of
  digits that follow the radix point in the input representing the constant, or
  zero if no radix point appears.
<div class="Pp"></div>
The sequence (&#x00A0; <i>expression</i>&#x00A0;) shall be an expression with
  the same value and scale as <i>expression</i>. The parentheses can be used to
  alter the normal precedence.
<div class="Pp"></div>
The semantics of the unary and binary operators are as follows:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2212;<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The result shall be the negative of the <i>expression</i>. The scale of the
      result shall be the scale of <i>expression</i>.</dd>
</dl>
<div class="Pp"></div>
The unary increment and decrement operators shall not modify the scale of the
  named expression upon which they operate. The scale of the result shall be the
  scale of that named expression.
<dl class="Bl-tag">
  <dt class="It-tag">++<i>named-expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The named expression shall be incremented by one. The result shall be the
      value of the named expression after incrementing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2212;&#x2212;<i>named-expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The named expression shall be decremented by one. The result shall be the
      value of the named expression after decrementing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>named-expression</i>++</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The named expression shall be incremented by one. The result shall be the
      value of the named expression before incrementing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>named-expression</i>&#x2212;&#x2212;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The named expression shall be decremented by one. The result shall be the
      value of the named expression before decrementing.</dd>
</dl>
<div class="Pp"></div>
The exponentiation operator, &lt;circumflex&gt; (<b>'^'</b>), shall bind right
  to left.
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression</i>^<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The result shall be the first <i>expression</i> raised to the power of the
      second <i>expression</i>. If the second expression is not an integer, the
      behavior is undefined. If <i>a</i> is the scale of the left expression and
      <i>b</i> is the absolute value of the right expression, the scale of the
      result shall be:</dd>
</dl>
<div style="margin-left: 6.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>if b &gt;= 0 min(a * b, max(scale, a)) if b &lt; 0 scale</b>
</pre>
</div>
</div>
<div class="Pp"></div>
The multiplicative operators (<b>'*'</b>, <b>'/'</b>, <b>'%'</b>) shall bind
  left to right.
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression</i>*<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The result shall be the product of the two expressions. If <i>a</i> and
      <i>b</i> are the scales of the two expressions, then the scale of the
      result shall be:</dd>
</dl>
<div style="margin-left: 6.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>min(a+b,max(scale,a,b))</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression</i>/<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The result shall be the quotient of the two expressions. The scale of the
      result shall be the value of <b>scale</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression</i>%<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    For expressions <i>a</i> and <i>b</i>, <i>a</i>%<i>b</i> shall be evaluated
      equivalent to the steps:</dd>
</dl>
<div style="margin-left: 6.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Compute <i>a</i>/<i>b</i> to current scale.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">Use the result to compute:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>a &#x2212; (a / b) * b</b>
</pre>
</div>
<div class="Pp"></div>
to scale:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>max(scale + scale(b), scale(a))</b>
</pre>
</div>
</div>
<div class="Pp"></div>
The scale of the result shall be:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>max(scale + scale(b), scale(a))</b>
</pre>
</div>
<div class="Pp"></div>
When <b>scale</b> is zero, the <b>'%'</b> operator is the mathematical remainder
  operator.</div>
<div class="Pp"></div>
The additive operators (<b>'+'</b>, <b>'&#x2212;'</b>) shall bind left to right.
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression</i>+<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The result shall be the sum of the two expressions. The scale of the result
      shall be the maximum of the scales of the expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression</i>&#x2212;<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The result shall be the difference of the two expressions. The scale of the
      result shall be the maximum of the scales of the expressions.</dd>
</dl>
<div class="Pp"></div>
The assignment operators (<b>'='</b>, <b>&quot;+=&quot;</b>,
  <b>&quot;&#x2212;=&quot;</b>, <b>&quot;*=&quot;</b>, <b>&quot;/=&quot;</b>,
  <b>&quot;%=&quot;</b>, <b>&quot;^=&quot;</b>) shall bind right to left.
<dl class="Bl-tag">
  <dt class="It-tag"><i>named-expression</i>=<i>expression</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This expression shall result in assigning the value of the expression on the
      right to the named expression on the left. The scale of both the named
      expression and the result shall be the scale of <i>expression</i>.</dd>
</dl>
<div class="Pp"></div>
The compound assignment forms:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b></b><i>named-expression</i> &lt;<i>operator</i>&gt;= <i>expression</i>
</pre>
</div>
<div class="Pp"></div>
shall be equivalent to:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b></b><i>named-expression</i>=<i>named-expression</i> &lt;<i>operator</i>&gt; <i>expression</i>
</pre>
</div>
<div class="Pp"></div>
except that the <i>named-expression</i> shall be evaluated only once.
<div class="Pp"></div>
Unlike all other operators, the relational operators (<b>'&lt;'</b>,
  <b>'&gt;'</b>, <b>&quot;&lt;=&quot;</b>, <b>&quot;&gt;=&quot;</b>,
  <b>&quot;==&quot;</b>, <b>&quot;!=&quot;</b>) shall be only valid as the
  object of an <b>if</b>, <b>while</b>, or inside a <b>for</b> statement.
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i>&lt;<i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The relation shall be true if the value of <i>expression1</i> is strictly
      less than the value of <i>expression2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i>&gt;<i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The relation shall be true if the value of <i>expression1</i> is strictly
      greater than the value of <i>expression2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i>&lt;=<i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The relation shall be true if the value of <i>expression1</i> is less than
      or equal to the value of <i>expression2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i>&gt;=<i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The relation shall be true if the value of <i>expression1</i> is greater
      than or equal to the value of <i>expression2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i>==<i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The relation shall be true if the values of <i>expression1</i> and
      <i>expression2</i> are equal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i>!=<i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The relation shall be true if the values of <i>expression1</i> and
      <i>expression2</i> are unequal.</dd>
</dl>
<div class="Pp"></div>
There are only two storage classes in <i>bc</i>: global and automatic (local).
  Only identifiers that are local to a function need be declared with the
  <b>auto</b> command. The arguments to a function shall be local to the
  function. All other identifiers are assumed to be global and available to all
  functions. All identifiers, global and local, have initial values of zero.
  Identifiers declared as auto shall be allocated on entry to the function and
  released on returning from the function. They therefore do not retain values
  between function calls. Auto arrays shall be specified by the array name
  followed by empty square brackets. On entry to a function, the old values of
  the names that appear as parameters and as automatic variables shall be pushed
  onto a stack. Until the function returns, reference to these names shall refer
  only to the new values.
<div class="Pp"></div>
References to any of these names from other functions that are called from this
  function also refer to the new value until one of those functions uses the
  same name for a local variable.
<div class="Pp"></div>
When a statement is an expression, unless the main operator is an assignment,
  execution of the statement shall write the value of the expression followed by
  a &lt;newline&gt;.
<div class="Pp"></div>
When a statement is a string, execution of the statement shall write the value
  of the string.
<div class="Pp"></div>
Statements separated by &lt;semicolon&gt; or &lt;newline&gt; characters shall be
  executed sequentially. In an interactive invocation of <i>bc</i>, each time a
  &lt;newline&gt; is read that satisfies the grammatical production:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>input_item : semicolon_list NEWLINE</b>
</pre>
</div>
<div class="Pp"></div>
the sequential list of statements making up the <b>semicolon_list</b> shall be
  executed immediately and any output produced by that execution shall be
  written without any delay due to buffering.
<div class="Pp"></div>
In an <b>if</b> statement (<b>if</b>(<i>relation</i>) <i>statement</i>), the
  <i>statement</i> shall be executed if the relation is true.
<div class="Pp"></div>
The <b>while</b> statement (<b>while</b>(<i>relation</i>) <i>statement</i>)
  implements a loop in which the <i>relation</i> is tested; each time the
  <i>relation</i> is true, the <i>statement</i> shall be executed and the
  <i>relation</i> retested. When the <i>relation</i> is false, execution shall
  resume after <i>statement</i>.
<div class="Pp"></div>
A <b>for</b> statement(<b>for</b>(<i>expression</i>; <i>relation</i>;
  <i>expression</i>) <i>statement</i>) shall be the same as:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b></b><i>first-expression</i><b></b>
<b>while (</b><i>relation</i><b>) {</b>
<b>    </b><i>statement</i><b></b>
<b>    </b><i>last-expression</i>
}
</pre>
</div>
<div class="Pp"></div>
The application shall ensure that all three expressions are present.
<div class="Pp"></div>
The <b>break</b> statement shall cause termination of a <b>for</b> or
  <b>while</b> statement.
<div class="Pp"></div>
The <b>auto</b> statement (<b>auto</b> <i>identifier</i>
  <b>[</b>,<i>identifier</i><b>]</b> ...) shall cause the values of the
  identifiers to be pushed down. The identifiers can be ordinary identifiers or
  array identifiers. Array identifiers shall be specified by following the array
  name by empty square brackets. The application shall ensure that the
  <b>auto</b> statement is the first statement in a function definition.
<div class="Pp"></div>
A <b>define</b> statement:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>define </b><i>LETTER</i><b> ( </b><i>opt_parameter_list</i><b> ) {</b>
<b>    </b><i>opt_auto_define_list</i><b></b>
<b>    </b><i>statement_list</i>
}
</pre>
</div>
<div class="Pp"></div>
defines a function named <b>LETTER</b>. If a function named <b>LETTER</b> was
  previously defined, the <b>define</b> statement shall replace the previous
  definition. The expression:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>LETTER ( </b><i>opt_argument_list</i> )
</pre>
</div>
<div class="Pp"></div>
shall invoke the function named <b>LETTER</b>. The behavior is undefined if the
  number of arguments in the invocation does not match the number of parameters
  in the definition. Functions shall be defined before they are invoked. A
  function shall be considered to be defined within its own body, so recursive
  calls are valid. The values of numeric constants within a function shall be
  interpreted in the base specified by the value of the <b>ibase</b> register
  when the function is invoked.
<div class="Pp"></div>
The <b>return</b> statements (<b>return</b> and
  <b>return</b>(<i>expression</i>)) shall cause termination of a function,
  popping of its auto variables, and specification of the result of the
  function. The first form shall be equivalent to <b>return</b>(0). The value
  and scale of the result returned by the function shall be the value and scale
  of the expression returned.
<div class="Pp"></div>
The <b>quit</b> statement (<b>quit</b>) shall stop execution of a <i>bc</i>
  program at the point where the statement occurs in the input, even if it
  occurs in a function definition, or in an <b>if</b>, <b>for</b>, or
  <b>while</b> statement.
<div class="Pp"></div>
The following functions shall be defined when the <b>&#x2212;l</b> option is
  specified:
<dl class="Bl-tag">
  <dt class="It-tag"><b>s</b>(&#x00A0;<i>expression</i>&#x00A0;)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Sine of argument in radians.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>c</b>(&#x00A0;<i>expression</i>&#x00A0;)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Cosine of argument in radians.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>a</b>(&#x00A0;<i>expression</i>&#x00A0;)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Arctangent of argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>l</b>(&#x00A0;<i>expression</i>&#x00A0;)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Natural logarithm of argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>e</b>(&#x00A0;<i>expression</i>&#x00A0;)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Exponential function of argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>j</b>(&#x00A0;<i>expression</i>,&#x00A0;<i>expression</i>&#x00A0;)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Bessel function of integer order.</dd>
</dl>
<div class="Pp"></div>
The scale of the result returned by these functions shall be the value of the
  <b>scale</b> register at the time the function is invoked. The value of the
  <b>scale</b> register after these functions have completed their execution
  shall be the same value it had upon invocation. The behavior is undefined if
  any of these functions is invoked with an argument outside the domain of the
  mathematical function.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The following exit values shall be returned:
<dl class="Bl-tag">
  <dt class="It-tag">0</dt>
  <dd class="It-tag">All input files were processed successfully.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>unspecified</i></dt>
  <dd class="It-tag">An error occurred.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="selflink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
If any <i>file</i> operand is specified and the named file cannot be accessed,
  <i>bc</i> shall write a diagnostic message to standard error and terminate
  without any further action.
<div class="Pp"></div>
In an interactive invocation of <i>bc</i>, the utility should print an error
  message and recover following any error in the input. In a non-interactive
  invocation of <i>bc</i>, invalid input causes undefined behavior.
<div class="Pp"></div>
<i>The following sections are informative.</i>
<h1 class="Sh" title="Sh" id="APPLICATION_USAGE"><a class="selflink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
Automatic variables in <i>bc</i> do not work in exactly the same way as in
  either C or PL/1.
<div class="Pp"></div>
For historical reasons, the exit status from <i>bc</i> cannot be relied upon to
  indicate that an error has occurred. Returning zero after an error is
  possible. Therefore, <i>bc</i> should be used primarily by interactive users
  (who can react to error messages) or by application programs that can somehow
  validate the answers returned as not including error messages.
<div class="Pp"></div>
The <i>bc</i> utility always uses the &lt;period&gt; (<b>'.'</b>) character to
  represent a radix point, regardless of any decimal-point character specified
  as part of the current locale. In languages like C or <i>awk</i>, the
  &lt;period&gt; character is used in program source, so it can be portable and
  unambiguous, while the locale-specific character is used in input and output.
  Because there is no distinction between source and input in <i>bc</i>, this
  arrangement would not be possible. Using the locale-specific character in
  <i>bc</i>'s input would introduce ambiguities into the language; consider the
  following example in a locale with a &lt;comma&gt; as the decimal-point
  character:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>define f(a,b) {</b>
<b>    ...</b>
<b>}</b>
<b>...</b>
</pre>
<div class="Pp"></div>
<pre>
f(1,2,3)
</pre>
</div>
<div class="Pp"></div>
Because of such ambiguities, the &lt;period&gt; character is used in input.
  Having input follow different conventions from output would be confusing in
  either pipeline usage or interactive usage, so the &lt;period&gt; is also used
  in output.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
In the shell, the following assigns an approximation of the first ten digits of
  <b>'&#x03C0;'</b> to the variable <i>x</i>:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>x=$(printf &quot;%s\n&quot; 'scale = 10; 104348/33215' | bc)</b>
</pre>
</div>
<div class="Pp"></div>
The following <i>bc</i> program prints the same approximation of
  <b>'&#x03C0;'</b>, with a label, to standard output:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>scale = 10</b>
<b>&quot;pi equals &quot;</b>
<b>104348 / 33215</b>
</pre>
</div>
<div class="Pp"></div>
The following defines a function to compute an approximate value of the
  exponential function (note that such a function is predefined if the
  <b>&#x2212;l</b> option is specified):
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>scale = 20</b>
<b>define e(x){</b>
<b>    auto a, b, c, i, s</b>
<b>    a = 1</b>
<b>    b = 1</b>
<b>    s = 1</b>
<b>    for (i = 1; 1 == 1; i++){</b>
<b>        a = a*x</b>
<b>        b = b*i</b>
<b>        c = a/b</b>
<b>        if (c == 0) {</b>
<b>             return(s)</b>
<b>        }</b>
<b>        s = s+c</b>
<b>    }</b>
<b>}</b>
</pre>
</div>
<div class="Pp"></div>
The following prints approximate values of the exponential function of the first
  ten integers:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>for (i = 1; i &lt;= 10; ++i) {</b>
<b>    e(i)</b>
<b>}</b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="RATIONALE"><a class="selflink" href="#RATIONALE">RATIONALE</a></h1>
The <i>bc</i> utility is implemented historically as a front-end processor for
  <i>dc</i>; <i>dc</i> was not selected to be part of this volume of
  POSIX.1&#x2010;2008 because <i>bc</i> was thought to have a more intuitive
  programmatic interface. Current implementations that implement <i>bc</i> using
  <i>dc</i> are expected to be compliant.
<div class="Pp"></div>
The exit status for error conditions has been left unspecified for several
  reasons:
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The <i>bc</i> utility is used in both interactive and
      non-interactive situations. Different exit codes may be appropriate for
      the two uses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">It is unclear when a non-zero exit should be given;
      divide-by-zero, undefined functions, and syntax errors are all
      possibilities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">It is not clear what utility the exit status has.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">In the 4.3 BSD, System V, and Ninth Edition
      implementations, <i>bc</i> works in conjunction with <i>dc</i>. The
      <i>dc</i> utility is the parent, <i>bc</i> is the child. This was done to
      cleanly terminate <i>bc</i> if <i>dc</i> aborted.</dd>
</dl>
<div class="Pp"></div>
The decision to have <i>bc</i> exit upon encountering an inaccessible input file
  is based on the belief that <i>bc</i> <i>file1</i> <i>file2</i> is used most
  often when at least <i>file1</i> contains data/function
  declarations/initializations. Having <i>bc</i> continue with prerequisite
  files missing is probably not useful. There is no implication in the
  CONSEQUENCES OF ERRORS section that <i>bc</i> must check all its files for
  accessibility before opening any of them.
<div class="Pp"></div>
There was considerable debate on the appropriateness of the language accepted by
  <i>bc</i>. Several reviewers preferred to see either a pure subset of the C
  language or some changes to make the language more compatible with C. While
  the <i>bc</i> language has some obvious similarities to C, it has never
  claimed to be compatible with any version of C. An interpreter for a subset of
  C might be a very worthwhile utility, and it could potentially make <i>bc</i>
  obsolete. However, no such utility is known in historical practice, and it was
  not within the scope of this volume of POSIX.1&#x2010;2008 to define such a
  language and utility. If and when they are defined, it may be appropriate to
  include them in a future version of this standard. This left the following
  alternatives:
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Exclude any calculator language from this volume of
      POSIX.1&#x2010;2008.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div class="Pp"></div>
The consensus of the standard developers was that a simple programmatic
  calculator language is very useful for both applications and interactive
  users. The only arguments for excluding any calculator were that it would
  become obsolete if and when a C-compatible one emerged, or that the absence
  would encourage the development of such a C-compatible one. These arguments
  did not sufficiently address the needs of current application
  developers.</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">Standardize the historical <i>dc</i>, possibly with minor
      modifications.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div class="Pp"></div>
The consensus of the standard developers was that <i>dc</i> is a fundamentally
  less usable language and that that would be far too severe a penalty for
  avoiding the issue of being similar to but incompatible with C.</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">Standardize the historical <i>bc</i>, possibly with minor
      modifications.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div class="Pp"></div>
This was the approach taken. Most of the proponents of changing the language
  would not have been satisfied until most or all of the incompatibilities with
  C were resolved. Since most of the changes considered most desirable would
  break historical applications and require significant modification to
  historical implementations, almost no modifications were made. The one
  significant modification that was made was the replacement of the historical
  <i>bc</i> assignment operators <b>&quot;=+&quot;</b>, and so on, with the more
  modern <b>&quot;+=&quot;</b>, and so on. The older versions are considered to
  be fundamentally flawed because of the lexical ambiguity in uses like
  <i>a</i>=&#x2212;1.
<div class="Pp"></div>
In order to permit implementations to deal with backwards-compatibility as they
  see fit, the behavior of this one ambiguous construct was made undefined. (At
  least three implementations have been known to support this change already, so
  the degree of change involved should not be great.)</div>
<div class="Pp"></div>
The <b>'%'</b> operator is the mathematical remainder operator when <b>scale</b>
  is zero. The behavior of this operator for other values of <b>scale</b> is
  from historical implementations of <i>bc</i>, and has been maintained for the
  sake of historical applications despite its non-intuitive nature.
<div class="Pp"></div>
Historical implementations permit setting <b>ibase</b> and <b>obase</b> to a
  broader range of values. This includes values less than 2, which were not seen
  as sufficiently useful to standardize. These implementations do not interpret
  input properly for values of <b>ibase</b> that are greater than 16. This is
  because numeric constants are recognized syntactically, rather than lexically,
  as described in this volume of POSIX.1&#x2010;2008. They are built from
  lexical tokens of single hexadecimal digits and &lt;period&gt; characters.
  Since &lt;blank&gt; characters between tokens are not visible at the syntactic
  level, it is not possible to recognize the multi-digit ``digits'' used in the
  higher bases properly. The ability to recognize input in these bases was not
  considered useful enough to require modifying these implementations. Note that
  the recognition of numeric constants at the syntactic level is not a problem
  with conformance to this volume of POSIX.1&#x2010;2008, as it does not impact
  the behavior of conforming applications (and correct <i>bc</i> programs).
  Historical implementations also accept input with all of the digits
  <b>'0'</b>&#x2212;<b>'9'</b> and <b>'A'</b>&#x2212;<b>'F'</b> regardless of
  the value of <b>ibase</b>; since digits with value greater than or equal to
  <b>ibase</b> are not really appropriate, the behavior when they appear is
  undefined, except for the common case of:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>ibase=8;</b>
<b>    /* Process in octal base. */</b>
<b>...</b>
<b>ibase=A</b>
<b>    /* Restore decimal base. */</b>
</pre>
</div>
<div class="Pp"></div>
In some historical implementations, if the expression to be written is an
  uninitialized array element, a leading &lt;space&gt; and/or up to four leading
  0 characters may be output before the character zero. This behavior is
  considered a bug; it is unlikely that any currently conforming application
  relies on:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>echo 'b[3]' | bc</b>
</pre>
</div>
<div class="Pp"></div>
returning 00000 rather than 0.
<div class="Pp"></div>
Exact calculation of the number of fractional digits to output for a given value
  in a base other than 10 can be computationally expensive. Historical
  implementations use a faster approximation, and this is permitted. Note that
  the requirements apply only to values of <b>obase</b> that this volume of
  POSIX.1&#x2010;2008 requires implementations to support (in particular, not to
  1, 0, or negative bases, if an implementation supports them as an extension).
<div class="Pp"></div>
Historical implementations of <i>bc</i> did not allow array parameters to be
  passed as the last parameter to a function. New implementations are encouraged
  to remove this restriction even though it is not required by the grammar.
<h1 class="Sh" title="Sh" id="FUTURE_DIRECTIONS"><a class="selflink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
None.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>Section 1.3</i>, <i>Grammar Conventions</i>, <i><i>awk</i></i>
<div class="Pp"></div>
The Base Definitions volume of POSIX.1&#x2010;2008, <i>Chapter 8</i>,
  <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
  Guidelines</i>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Portions of this text are reprinted and reproduced in electronic form from IEEE
  Std 1003.1, 2013 Edition, Standard for Information Technology -- Portable
  Operating System Interface (POSIX), The Open Group Base Specifications Issue
  7, Copyright (C) 2013 by the Institute of Electrical and Electronics
  Engineers, Inc and The Open Group. (This is POSIX.1-2008 with the 2013
  Technical Corrigendum 1 applied.) In the event of any discrepancy between this
  version and the original IEEE and The Open Group Standard, the original IEEE
  and The Open Group Standard is the referee document. The original Standard can
  be obtained online at http://www.unix.org/online.html .
<div style="height: 1.00em;">&#x00A0;</div>
Any typographical or formatting errors that appear in this page are most likely
  to have been introduced during the conversion of the source files to man page
  format. To report such errors, see
  https://www.kernel.org/doc/man-pages/reporting_bugs.html .</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</table>
</body>
</html>
