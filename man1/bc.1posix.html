<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:54:27 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BC(1POSIX) POSIX Programmer&rsquo;s Manual
BC(1POSIX)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
bc &acirc; arbitrary-precision arithmetic language</p>

<p style="margin-top: 1em">SYNOPSIS <br>
bc [&acirc;l] [file...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The bc utility shall implement an arbitrary precision
calculator. It shall take input from any files given, then
read from the standard input. If the standard input and
standard <br>
output to bc are attached to a terminal, the invocation of
bc shall be considered to be interactive, causing behavioral
constraints described in the following sections.</p>

<p style="margin-top: 1em">OPTIONS <br>
The bc utility shall conform to the Base Definitions volume
of POSIX.1&acirc;2008, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-top: 1em">The following option shall be
supported:</p>

<p style="margin-top: 1em">&acirc;l (The letter ell.)
Define the math functions and initialize scale to 20,
instead of the default zero; see the EXTENDED DESCRIPTION
section.</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operand shall be supported:</p>

<p style="margin-top: 1em">file A pathname of a text file
containing bc program statements. After all files have been
read, bc shall read the standard input.</p>

<p style="margin-top: 1em">STDIN <br>
See the INPUT FILES section.</p>

<p style="margin-top: 1em">INPUT FILES <br>
Input files shall be text files containing a sequence of
comments, statements, and function definitions that shall be
executed as they are read.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of bc:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of POSIX.1&acirc;2008,
Section 8.2, Internationaliza&acirc; <br>
tion Variables for the precedence of internationalization
variables used to determine the values of locale
categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_CTYPE Determine the locale
for the interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments <br>
and input files).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error.</p>

<p style="margin-top: 1em">NLSPATH Determine the location
of message catalogs for the processing of LC_MESSAGES.</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
The output of the bc utility shall be controlled by the
program read, and consist of zero or more lines containing
the value of all executed expressions without assignments.
The <br>
radix and precision of the output shall be controlled by the
values of the obase and scale variables; see the EXTENDED
DESCRIPTION section.</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used only for diagnostic
messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
Grammar <br>
The grammar in this section and the lexical conventions in
the following section shall together describe the syntax for
bc programs. The general conventions for this style of <br>
grammar are described in Section 1.3, Grammar Conventions. A
valid program can be represented as the non-terminal symbol
program in the grammar. This formal syntax shall take <br>
precedence over the text syntax description.</p>

<p style="margin-top: 1em">%token EOF NEWLINE STRING LETTER
NUMBER</p>

<p style="margin-top: 1em">%token MUL_OP <br>
/* &rsquo;*&rsquo;, &rsquo;/&rsquo;, &rsquo;%&rsquo; */</p>

<p style="margin-top: 1em">%token ASSIGN_OP <br>
/* &rsquo;=&rsquo;, &rsquo;+=&rsquo;,
&rsquo;&acirc;=&rsquo;, &rsquo;*=&rsquo;, &rsquo;/=&rsquo;,
&rsquo;%=&rsquo;, &rsquo;^=&rsquo; */</p>

<p style="margin-top: 1em">%token REL_OP <br>
/* &rsquo;==&rsquo;, &rsquo;&lt;=&rsquo;,
&rsquo;&gt;=&rsquo;, &rsquo;!=&rsquo;, &rsquo;&lt;&rsquo;,
&rsquo;&gt;&rsquo; */</p>

<p style="margin-top: 1em">%token INCR_DECR <br>
/* &rsquo;++&rsquo;, &rsquo;&acirc;&acirc;&rsquo; */</p>

<p style="margin-top: 1em">%token Define Break Quit Length
<br>
/* &rsquo;define&rsquo;, &rsquo;break&rsquo;,
&rsquo;quit&rsquo;, &rsquo;length&rsquo; */</p>

<p style="margin-top: 1em">%token Return For If While Sqrt
<br>
/* &rsquo;return&rsquo;, &rsquo;for&rsquo;,
&rsquo;if&rsquo;, &rsquo;while&rsquo;, &rsquo;sqrt&rsquo;
*/</p>

<p style="margin-top: 1em">%token Scale Ibase Obase Auto
<br>
/* &rsquo;scale&rsquo;, &rsquo;ibase&rsquo;,
&rsquo;obase&rsquo;, &rsquo;auto&rsquo; */</p>

<p style="margin-top: 1em">%start program</p>

<p style="margin-top: 1em">%%</p>

<p style="margin-top: 1em">program : EOF <br>
| input_item program <br>
;</p>

<p style="margin-top: 1em">input_item : semicolon_list
NEWLINE <br>
| function <br>
;</p>

<p style="margin-top: 1em">semicolon_list : /* empty */
<br>
| statement <br>
| semicolon_list &rsquo;;&rsquo; statement <br>
| semicolon_list &rsquo;;&rsquo; <br>
;</p>

<p style="margin-top: 1em">statement_list : /* empty */
<br>
| statement <br>
| statement_list NEWLINE <br>
| statement_list NEWLINE statement <br>
| statement_list &rsquo;;&rsquo; <br>
| statement_list &rsquo;;&rsquo; statement <br>
;</p>

<p style="margin-top: 1em">statement : expression <br>
| STRING <br>
| Break <br>
| Quit <br>
| Return <br>
| Return &rsquo;(&rsquo; return_expression &rsquo;)&rsquo;
<br>
| For &rsquo;(&rsquo; expression &rsquo;;&rsquo; <br>
relational_expression &rsquo;;&rsquo; <br>
expression &rsquo;)&rsquo; statement <br>
| If &rsquo;(&rsquo; relational_expression &rsquo;)&rsquo;
statement <br>
| While &rsquo;(&rsquo; relational_expression
&rsquo;)&rsquo; statement <br>
| &rsquo;{&rsquo; statement_list &rsquo;}&rsquo; <br>
;</p>

<p style="margin-top: 1em">function : Define LETTER
&rsquo;(&rsquo; opt_parameter_list &rsquo;)&rsquo; <br>
&rsquo;{&rsquo; NEWLINE opt_auto_define_list <br>
statement_list &rsquo;}&rsquo; <br>
;</p>

<p style="margin-top: 1em">opt_parameter_list : /* empty */
<br>
| parameter_list <br>
;</p>

<p style="margin-top: 1em">parameter_list : LETTER <br>
| define_list &rsquo;,&rsquo; LETTER <br>
;</p>

<p style="margin-top: 1em">opt_auto_define_list : /* empty
*/ <br>
| Auto define_list NEWLINE <br>
| Auto define_list &rsquo;;&rsquo; <br>
;</p>

<p style="margin-top: 1em">define_list : LETTER <br>
| LETTER &rsquo;[&rsquo; &rsquo;]&rsquo; <br>
| define_list &rsquo;,&rsquo; LETTER <br>
| define_list &rsquo;,&rsquo; LETTER &rsquo;[&rsquo;
&rsquo;]&rsquo; <br>
;</p>

<p style="margin-top: 1em">opt_argument_list : /* empty */
<br>
| argument_list <br>
;</p>

<p style="margin-top: 1em">argument_list : expression <br>
| LETTER &rsquo;[&rsquo; &rsquo;]&rsquo; &rsquo;,&rsquo;
argument_list <br>
;</p>

<p style="margin-top: 1em">relational_expression :
expression <br>
| expression REL_OP expression <br>
;</p>

<p style="margin-top: 1em">return_expression : /* empty */
<br>
| expression <br>
;</p>

<p style="margin-top: 1em">expression : named_expression
<br>
| NUMBER <br>
| &rsquo;(&rsquo; expression &rsquo;)&rsquo; <br>
| LETTER &rsquo;(&rsquo; opt_argument_list &rsquo;)&rsquo;
<br>
| &rsquo;&acirc;&rsquo; expression <br>
| expression &rsquo;+&rsquo; expression <br>
| expression &rsquo;&acirc;&rsquo; expression <br>
| expression MUL_OP expression <br>
| expression &rsquo;^&rsquo; expression <br>
| INCR_DECR named_expression <br>
| named_expression INCR_DECR <br>
| named_expression ASSIGN_OP expression <br>
| Length &rsquo;(&rsquo; expression &rsquo;)&rsquo; <br>
| Sqrt &rsquo;(&rsquo; expression &rsquo;)&rsquo; <br>
| Scale &rsquo;(&rsquo; expression &rsquo;)&rsquo; <br>
;</p>

<p style="margin-top: 1em">named_expression : LETTER <br>
| LETTER &rsquo;[&rsquo; expression &rsquo;]&rsquo; <br>
| Scale <br>
| Ibase <br>
| Obase <br>
;</p>

<p style="margin-top: 1em">Lexical Conventions in bc <br>
The lexical conventions for bc programs, with respect to the
preceding grammar, shall be as follows:</p>

<p style="margin-top: 1em">1. Except as noted, bc shall
recognize the longest possible token or delimiter beginning
at a given point.</p>

<p style="margin-top: 1em">2. A comment shall consist of
any characters beginning with the two adjacent characters
&quot;/*&quot; and terminated by the next occurrence of the
two adjacent characters &quot;*/&quot;. Comments <br>
shall have no effect except to delimit lexical tokens.</p>

<p style="margin-top: 1em">3. The &lt;newline&gt; shall be
recognized as the token NEWLINE.</p>

<p style="margin-top: 1em">4. The token STRING shall
represent a string constant; it shall consist of any
characters beginning with the double-quote character
(&rsquo;&quot;&rsquo;) and terminated by another occurrence
of <br>
the double-quote character. The value of the string is the
sequence of all characters between, but not including, the
two double-quote characters. All characters shall be <br>
taken literally from the input, and there is no way to
specify a string containing a double-quote character. The
length of the value of each string shall be limited to <br>
{BC_STRING_MAX} bytes.</p>

<p style="margin-top: 1em">5. A &lt;blank&gt; shall have no
effect except as an ordinary character if it appears within
a STRING token, or to delimit a lexical token other than
STRING.</p>

<p style="margin-top: 1em">6. The combination of a
&lt;backslash&gt; character immediately followed by a
&lt;newline&gt; shall have no effect other than to delimit
lexical tokens with the following exceptions:</p>

<p style="margin-top: 1em">* It shall be interpreted as the
character sequence &quot;&lt;newline&gt;&quot; in STRING
tokens.</p>

<p style="margin-top: 1em">* It shall be ignored as part of
a multi-line NUMBER token.</p>

<p style="margin-top: 1em">7. The token NUMBER shall
represent a numeric constant. It shall be recognized by the
following grammar:</p>

<p style="margin-top: 1em">NUMBER : integer <br>
| &rsquo;.&rsquo; integer <br>
| integer &rsquo;.&rsquo; <br>
| integer &rsquo;.&rsquo; integer <br>
;</p>

<p style="margin-top: 1em">integer : digit <br>
| integer digit <br>
;</p>

<p style="margin-top: 1em">digit : 0 | 1 | 2 | 3 | 4 | 5 |
6 | 7 <br>
| 8 | 9 | A | B | C | D | E | F <br>
;</p>

<p style="margin-top: 1em">8. The value of a NUMBER token
shall be interpreted as a numeral in the base specified by
the value of the internal register ibase (described below).
Each of the digit charac&acirc; <br>
ters shall have the value from 0 to 15 in the order listed
here, and the &lt;period&gt; character shall represent the
radix point. The behavior is undefined if digits greater
than <br>
or equal to the value of ibase appear in the token. However,
note the exception for single-digit values being assigned to
ibase and obase themselves, in Operations in bc.</p>

<p style="margin-top: 1em">9. The following keywords shall
be recognized as tokens:</p>

<p style="margin-top: 1em">auto ibase length return while
<br>
break if obase scale <br>
define for quit sqrt</p>

<p style="margin-top: 1em">10. Any of the following
characters occurring anywhere except within a keyword shall
be recognized as the token LETTER:</p>

<p style="margin-top: 1em">a b c d e f g h i j k l m n o p
q r s t u v w x y z</p>

<p style="margin-top: 1em">11. The following
single-character and two-character sequences shall be
recognized as the token ASSIGN_OP:</p>

<p style="margin-top: 1em">= += &acirc;= *= /= %= ^=</p>

<p style="margin-top: 1em">12. If an &rsquo;=&rsquo;
character, as the beginning of a token, is followed by a
&rsquo;&acirc;&rsquo; character with no intervening
delimiter, the behavior is undefined.</p>

<p style="margin-top: 1em">13. The following
single-characters shall be recognized as the token
MUL_OP:</p>

<p style="margin-top: 1em">* / %</p>

<p style="margin-top: 1em">14. The following
single-character and two-character sequences shall be
recognized as the token REL_OP:</p>

<p style="margin-top: 1em">== &lt;= &gt;= != &lt; &gt;</p>

<p style="margin-top: 1em">15. The following two-character
sequences shall be recognized as the token INCR_DECR:</p>

<p style="margin-top: 1em">++ &acirc;&acirc;</p>

<p style="margin-top: 1em">16. The following single
characters shall be recognized as tokens whose names are the
character:</p>

<p style="margin-top: 1em">&lt;newline&gt; ( ) , + &acirc;
; [ ] ^ { }</p>

<p style="margin-top: 1em">17. The token EOF is returned
when the end of input is reached.</p>

<p style="margin-top: 1em">Operations in bc <br>
There are three kinds of identifiers: ordinary identifiers,
array identifiers, and function identifiers. All three types
consist of single lowercase letters. Array identifiers <br>
shall be followed by square brackets (&quot;[]&quot;). An
array subscript is required except in an argument or auto
list. Arrays are singly dimensioned and can contain up to
{BC_DIM_MAX} <br>
elements. Indexing shall begin at zero so an array is
indexed from 0 to {BC_DIM_MAX}&acirc;1. Subscripts shall be
truncated to integers. The application shall ensure that
function <br>
identifiers are followed by parentheses, possibly enclosing
arguments. The three types of identifiers do not
conflict.</p>

<p style="margin-top: 1em">The following table summarizes
the rules for precedence and associativity of all operators.
Operators on the same line shall have the same precedence;
rows are in order of <br>
decreasing precedence.</p>

<p style="margin-top: 1em">Table: Operators in bc</p>


<p style="margin-top: 1em">&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&not;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;
<br>
&acirc; Operator &acirc; Associativity &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;++, &acirc;&acirc; &acirc; N/A &acirc; <br>
&acirc;unary &acirc; &acirc; N/A &acirc; <br>
&acirc;^ &acirc; Right to left &acirc; <br>
&acirc;*, /, % &acirc; Left to right &acirc; <br>
&acirc;+, binary &acirc; &acirc; Left to right &acirc; <br>
&acirc;=, +=, &acirc;=, *=, /=, %=, ^= &acirc; Right to left
&acirc; <br>
&acirc;==, &lt;=, &gt;=, !=, &lt;, &gt; &acirc; None &acirc;
<br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acute;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;
<br>
Each expression or named expression has a scale, which is
the number of decimal digits that shall be maintained as the
fractional portion of the expression.</p>

<p style="margin-top: 1em">Named expressions are places
where values are stored. Named expressions shall be valid on
the left side of an assignment. The value of a named
expression shall be the value <br>
stored in the place named. Simple identifiers and array
elements are named expressions; they have an initial value
of zero and an initial scale of zero.</p>

<p style="margin-top: 1em">The internal registers scale,
ibase, and obase are all named expressions. The scale of an
expression consisting of the name of one of these registers
shall be zero; values <br>
assigned to any of these registers are truncated to
integers. The scale register shall contain a global value
used in computing the scale of expressions (as described
below). The <br>
value of the register scale is limited to 0 &acirc;&curren;
scale &acirc;&curren; {BC_SCALE_MAX} and shall have a
default value of zero. The ibase and obase registers are the
input and output number radix, <br>
respectively. The value of ibase shall be limited to:</p>

<p style="margin-top: 1em">2 &acirc;&curren; ibase
&acirc;&curren; 16</p>

<p style="margin-top: 1em">The value of obase shall be
limited to:</p>

<p style="margin-top: 1em">2 &acirc;&curren; obase
&acirc;&curren; {BC_BASE_MAX}</p>

<p style="margin-top: 1em">When either ibase or obase is
assigned a single digit value from the list in Lexical
Conventions in bc, the value shall be assumed in
hexadecimal. (For example, ibase=A sets to <br>
base ten, regardless of the current ibase value.) Otherwise,
the behavior is undefined when digits greater than or equal
to the value of ibase appear in the input. Both ibase and
<br>
obase shall have initial values of 10.</p>

<p style="margin-top: 1em">Internal computations shall be
conducted as if in decimal, regardless of the input and
output bases, to the specified number of decimal digits.
When an exact result is not <br>
achieved (for example, scale=0; 3.2/1), the result shall be
truncated.</p>

<p style="margin-top: 1em">For all values of obase
specified by this volume of POSIX.1&acirc;2008, bc shall
output numeric values by performing each of the following
steps in order:</p>

<p style="margin-top: 1em">1. If the value is less than
zero, a &lt;hyphen&gt; (&rsquo;&acirc;&rsquo;) character
shall be output.</p>

<p style="margin-top: 1em">2. One of the following is
output, depending on the numerical value:</p>

<p style="margin-top: 1em">* If the absolute value of the
numerical value is greater than or equal to one, the integer
portion of the value shall be output as a series of digits
appropriate to obase <br>
(as described below), most significant digit first. The most
significant non-zero digit shall be output next, followed by
each successively less significant digit.</p>

<p style="margin-top: 1em">* If the absolute value of the
numerical value is less than one but greater than zero and
the scale of the numerical value is greater than zero, it is
unspecified whether <br>
the character 0 is output.</p>

<p style="margin-top: 1em">* If the numerical value is
zero, the character 0 shall be output.</p>

<p style="margin-top: 1em">3. If the scale of the value is
greater than zero and the numeric value is not zero, a
&lt;period&gt; character shall be output, followed by a
series of digits appropriate to obase <br>
(as described below) representing the most significant
portion of the fractional part of the value. If s represents
the scale of the value being output, the number of digits
<br>
output shall be s if obase is 10, less than or equal to s if
obase is greater than 10, or greater than or equal to s if
obase is less than 10. For obase values other than 10, <br>
this should be the number of digits needed to represent a
precision of 10s.</p>

<p style="margin-top: 1em">For obase values from 2 to 16,
valid digits are the first obase of the single
characters:</p>

<p style="margin-top: 1em">0 1 2 3 4 5 6 7 8 9 A B C D E
F</p>

<p style="margin-top: 1em">which represent the values zero
to 15, inclusive, respectively.</p>

<p style="margin-top: 1em">For bases greater than 16, each
digit shall be written as a separate multi-digit decimal
number. Each digit except the most significant fractional
digit shall be preceded by a <br>
single &lt;space&gt;. For bases from 17 to 100, bc shall
write two-digit decimal numbers; for bases from 101 to 1000,
three-digit decimal strings, and so on. For example, the
decimal <br>
number 1024 in base 25 would be written as:</p>

<p style="margin-top: 1em">01 15 24</p>

<p style="margin-top: 1em">and in base 125, as:</p>

<p style="margin-top: 1em">008 024</p>

<p style="margin-top: 1em">Very large numbers shall be
split across lines with 70 characters per line in the POSIX
locale; other locales may split at different character
boundaries. Lines that are contin&acirc; <br>
ued shall end with a &lt;backslash&gt;.</p>

<p style="margin-top: 1em">A function call shall consist of
a function name followed by parentheses containing a
&lt;comma&gt;-separated list of expressions, which are the
function arguments. A whole array <br>
passed as an argument shall be specified by the array name
followed by empty square brackets. All function arguments
shall be passed by value. As a result, changes made to the
<br>
formal parameters shall have no effect on the actual
arguments. If the function terminates by executing a return
statement, the value of the function shall be the value of
the <br>
expression in the parentheses of the return statement or
shall be zero if no expression is provided or if there is no
return statement.</p>

<p style="margin-top: 1em">The result of sqrt(expression)
shall be the square root of the expression. The result shall
be truncated in the least significant decimal place. The
scale of the result shall be <br>
the scale of the expression or the value of scale, whichever
is larger.</p>

<p style="margin-top: 1em">The result of length(expression)
shall be the total number of significant decimal digits in
the expression. The scale of the result shall be zero.</p>

<p style="margin-top: 1em">The result of scale(expression)
shall be the scale of the expression. The scale of the
result shall be zero.</p>

<p style="margin-top: 1em">A numeric constant shall be an
expression. The scale shall be the number of digits that
follow the radix point in the input representing the
constant, or zero if no radix point <br>
appears.</p>

<p style="margin-top: 1em">The sequence ( expression )
shall be an expression with the same value and scale as
expression. The parentheses can be used to alter the normal
precedence.</p>

<p style="margin-top: 1em">The semantics of the unary and
binary operators are as follows:</p>

<p style="margin-top: 1em">&acirc;expression <br>
The result shall be the negative of the expression. The
scale of the result shall be the scale of expression.</p>

<p style="margin-top: 1em">The unary increment and
decrement operators shall not modify the scale of the named
expression upon which they operate. The scale of the result
shall be the scale of that named <br>
expression.</p>

<p style="margin-top: 1em">++named-expression <br>
The named expression shall be incremented by one. The result
shall be the value of the named expression after
incrementing.</p>

<p style="margin-top: 1em">&acirc;&acirc;named-expression
<br>
The named expression shall be decremented by one. The result
shall be the value of the named expression after
decrementing.</p>

<p style="margin-top: 1em">named-expression++ <br>
The named expression shall be incremented by one. The result
shall be the value of the named expression before
incrementing.</p>

<p style="margin-top: 1em">named-expression&acirc;&acirc;
<br>
The named expression shall be decremented by one. The result
shall be the value of the named expression before
decrementing.</p>

<p style="margin-top: 1em">The exponentiation operator,
&lt;circumflex&gt; (&rsquo;^&rsquo;), shall bind right to
left.</p>

<p style="margin-top: 1em">expression^expression <br>
The result shall be the first expression raised to the power
of the second expression. If the second expression is not an
integer, the behavior is undefined. If a is the <br>
scale of the left expression and b is the absolute value of
the right expression, the scale of the result shall be:</p>

<p style="margin-top: 1em">if b &gt;= 0 min(a * b,
max(scale, a)) if b &lt; 0 scale</p>

<p style="margin-top: 1em">The multiplicative operators
(&rsquo;*&rsquo;, &rsquo;/&rsquo;, &rsquo;%&rsquo;) shall
bind left to right.</p>

<p style="margin-top: 1em">expression*expression <br>
The result shall be the product of the two expressions. If a
and b are the scales of the two expressions, then the scale
of the result shall be:</p>

<p style="margin-top: 1em">min(a+b,max(scale,a,b))</p>

<p style="margin-top: 1em">expression/expression <br>
The result shall be the quotient of the two expressions. The
scale of the result shall be the value of scale.</p>

<p style="margin-top: 1em">expression%expression <br>
For expressions a and b, a%b shall be evaluated equivalent
to the steps:</p>

<p style="margin-top: 1em">1. Compute a/b to current
scale.</p>

<p style="margin-top: 1em">2. Use the result to
compute:</p>

<p style="margin-top: 1em">a &acirc; (a / b) * b</p>

<p style="margin-top: 1em">to scale:</p>

<p style="margin-top: 1em">max(scale + scale(b),
scale(a))</p>

<p style="margin-top: 1em">The scale of the result shall
be:</p>

<p style="margin-top: 1em">max(scale + scale(b),
scale(a))</p>

<p style="margin-top: 1em">When scale is zero, the
&rsquo;%&rsquo; operator is the mathematical remainder
operator.</p>

<p style="margin-top: 1em">The additive operators
(&rsquo;+&rsquo;, &rsquo;&acirc;&rsquo;) shall bind left to
right.</p>

<p style="margin-top: 1em">expression+expression <br>
The result shall be the sum of the two expressions. The
scale of the result shall be the maximum of the scales of
the expressions.</p>

<p style="margin-top: 1em">expression&acirc;expression <br>
The result shall be the difference of the two expressions.
The scale of the result shall be the maximum of the scales
of the expressions.</p>

<p style="margin-top: 1em">The assignment operators
(&rsquo;=&rsquo;, &quot;+=&quot;, &quot;&acirc;=&quot;,
&quot;*=&quot;, &quot;/=&quot;, &quot;%=&quot;,
&quot;^=&quot;) shall bind right to left.</p>

<p style="margin-top: 1em">named-expression=expression <br>
This expression shall result in assigning the value of the
expression on the right to the named expression on the left.
The scale of both the named expression and the <br>
result shall be the scale of expression.</p>

<p style="margin-top: 1em">The compound assignment
forms:</p>

<p style="margin-top: 1em">named-expression
&lt;operator&gt;= expression</p>

<p style="margin-top: 1em">shall be equivalent to:</p>


<p style="margin-top: 1em">named-expression=named-expression
&lt;operator&gt; expression</p>

<p style="margin-top: 1em">except that the named-expression
shall be evaluated only once.</p>

<p style="margin-top: 1em">Unlike all other operators, the
relational operators (&rsquo;&lt;&rsquo;,
&rsquo;&gt;&rsquo;, &quot;&lt;=&quot;, &quot;&gt;=&quot;,
&quot;==&quot;, &quot;!=&quot;) shall be only valid as the
object of an if, while, or inside a for statement.</p>

<p style="margin-top: 1em">expression1&lt;expression2 <br>
The relation shall be true if the value of expression1 is
strictly less than the value of expression2.</p>

<p style="margin-top: 1em">expression1&gt;expression2 <br>
The relation shall be true if the value of expression1 is
strictly greater than the value of expression2.</p>

<p style="margin-top: 1em">expression1&lt;=expression2 <br>
The relation shall be true if the value of expression1 is
less than or equal to the value of expression2.</p>

<p style="margin-top: 1em">expression1&gt;=expression2 <br>
The relation shall be true if the value of expression1 is
greater than or equal to the value of expression2.</p>

<p style="margin-top: 1em">expression1==expression2 <br>
The relation shall be true if the values of expression1 and
expression2 are equal.</p>

<p style="margin-top: 1em">expression1!=expression2 <br>
The relation shall be true if the values of expression1 and
expression2 are unequal.</p>

<p style="margin-top: 1em">There are only two storage
classes in bc: global and automatic (local). Only
identifiers that are local to a function need be declared
with the auto command. The arguments to a <br>
function shall be local to the function. All other
identifiers are assumed to be global and available to all
functions. All identifiers, global and local, have initial
values of <br>
zero. Identifiers declared as auto shall be allocated on
entry to the function and released on returning from the
function. They therefore do not retain values between
function <br>
calls. Auto arrays shall be specified by the array name
followed by empty square brackets. On entry to a function,
the old values of the names that appear as parameters and as
<br>
automatic variables shall be pushed onto a stack. Until the
function returns, reference to these names shall refer only
to the new values.</p>

<p style="margin-top: 1em">References to any of these names
from other functions that are called from this function also
refer to the new value until one of those functions uses the
same name for a local <br>
variable.</p>

<p style="margin-top: 1em">When a statement is an
expression, unless the main operator is an assignment,
execution of the statement shall write the value of the
expression followed by a &lt;newline&gt;.</p>

<p style="margin-top: 1em">When a statement is a string,
execution of the statement shall write the value of the
string.</p>

<p style="margin-top: 1em">Statements separated by
&lt;semicolon&gt; or &lt;newline&gt; characters shall be
executed sequentially. In an interactive invocation of bc,
each time a &lt;newline&gt; is read that satisfies the <br>
grammatical production:</p>

<p style="margin-top: 1em">input_item : semicolon_list
NEWLINE</p>

<p style="margin-top: 1em">the sequential list of
statements making up the semicolon_list shall be executed
immediately and any output produced by that execution shall
be written without any delay due to <br>
buffering.</p>

<p style="margin-top: 1em">In an if statement (if(relation)
statement), the statement shall be executed if the relation
is true.</p>

<p style="margin-top: 1em">The while statement
(while(relation) statement) implements a loop in which the
relation is tested; each time the relation is true, the
statement shall be executed and the rela&acirc; <br>
tion retested. When the relation is false, execution shall
resume after statement.</p>

<p style="margin-top: 1em">A for statement(for(expression;
relation; expression) statement) shall be the same as:</p>

<p style="margin-top: 1em">first-expression <br>
while (relation) { <br>
statement <br>
last-expression <br>
}</p>

<p style="margin-top: 1em">The application shall ensure
that all three expressions are present.</p>

<p style="margin-top: 1em">The break statement shall cause
termination of a for or while statement.</p>

<p style="margin-top: 1em">The auto statement (auto
identifier [,identifier] ...) shall cause the values of the
identifiers to be pushed down. The identifiers can be
ordinary identifiers or array identi&acirc; <br>
fiers. Array identifiers shall be specified by following the
array name by empty square brackets. The application shall
ensure that the auto statement is the first statement in a
<br>
function definition.</p>

<p style="margin-top: 1em">A define statement:</p>

<p style="margin-top: 1em">define LETTER (
opt_parameter_list ) { <br>
opt_auto_define_list <br>
statement_list <br>
}</p>

<p style="margin-top: 1em">defines a function named LETTER.
If a function named LETTER was previously defined, the
define statement shall replace the previous definition. The
expression:</p>

<p style="margin-top: 1em">LETTER ( opt_argument_list )</p>

<p style="margin-top: 1em">shall invoke the function named
LETTER. The behavior is undefined if the number of arguments
in the invocation does not match the number of parameters in
the definition. Func&acirc; <br>
tions shall be defined before they are invoked. A function
shall be considered to be defined within its own body, so
recursive calls are valid. The values of numeric constants
<br>
within a function shall be interpreted in the base specified
by the value of the ibase register when the function is
invoked.</p>

<p style="margin-top: 1em">The return statements (return
and return(expression)) shall cause termination of a
function, popping of its auto variables, and specification
of the result of the function. The <br>
first form shall be equivalent to return(0). The value and
scale of the result returned by the function shall be the
value and scale of the expression returned.</p>

<p style="margin-top: 1em">The quit statement (quit) shall
stop execution of a bc program at the point where the
statement occurs in the input, even if it occurs in a
function definition, or in an if, for, <br>
or while statement.</p>

<p style="margin-top: 1em">The following functions shall be
defined when the &acirc;l option is specified:</p>

<p style="margin-top: 1em">s( expression ) <br>
Sine of argument in radians.</p>

<p style="margin-top: 1em">c( expression ) <br>
Cosine of argument in radians.</p>

<p style="margin-top: 1em">a( expression ) <br>
Arctangent of argument.</p>

<p style="margin-top: 1em">l( expression ) <br>
Natural logarithm of argument.</p>

<p style="margin-top: 1em">e( expression ) <br>
Exponential function of argument.</p>

<p style="margin-top: 1em">j( expression, expression ) <br>
Bessel function of integer order.</p>

<p style="margin-top: 1em">The scale of the result returned
by these functions shall be the value of the scale register
at the time the function is invoked. The value of the scale
register after these <br>
functions have completed their execution shall be the same
value it had upon invocation. The behavior is undefined if
any of these functions is invoked with an argument outside
<br>
the domain of the mathematical function.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 All input files were processed
successfully.</p>

<p style="margin-top: 1em">unspecified <br>
An error occurred.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
If any file operand is specified and the named file cannot
be accessed, bc shall write a diagnostic message to standard
error and terminate without any further action.</p>

<p style="margin-top: 1em">In an interactive invocation of
bc, the utility should print an error message and recover
following any error in the input. In a non-interactive
invocation of bc, invalid input <br>
causes undefined behavior.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
Automatic variables in bc do not work in exactly the same
way as in either C or PL/1.</p>

<p style="margin-top: 1em">For historical reasons, the exit
status from bc cannot be relied upon to indicate that an
error has occurred. Returning zero after an error is
possible. Therefore, bc should be <br>
used primarily by interactive users (who can react to error
messages) or by application programs that can somehow
validate the answers returned as not including error
messages.</p>

<p style="margin-top: 1em">The bc utility always uses the
&lt;period&gt; (&rsquo;.&rsquo;) character to represent a
radix point, regardless of any decimal-point character
specified as part of the current locale. In lan&acirc; <br>
guages like C or awk, the &lt;period&gt; character is used
in program source, so it can be portable and unambiguous,
while the locale-specific character is used in input and
output. <br>
Because there is no distinction between source and input in
bc, this arrangement would not be possible. Using the
locale-specific character in bc&rsquo;s input would
introduce ambigui&acirc; <br>
ties into the language; consider the following example in a
locale with a &lt;comma&gt; as the decimal-point
character:</p>

<p style="margin-top: 1em">define f(a,b) { <br>
... <br>
} <br>
...</p>

<p style="margin-top: 1em">f(1,2,3)</p>

<p style="margin-top: 1em">Because of such ambiguities, the
&lt;period&gt; character is used in input. Having input
follow different conventions from output would be confusing
in either pipeline usage or inter&acirc; <br>
active usage, so the &lt;period&gt; is also used in
output.</p>

<p style="margin-top: 1em">EXAMPLES <br>
In the shell, the following assigns an approximation of the
first ten digits of &rsquo;&Iuml;&rsquo; to the variable
x:</p>

<p style="margin-top: 1em">x=$(printf &quot;%s0
&rsquo;scale = 10; 104348/33215&rsquo; | bc)</p>

<p style="margin-top: 1em">The following bc program prints
the same approximation of &rsquo;&Iuml;&rsquo;, with a
label, to standard output:</p>

<p style="margin-top: 1em">scale = 10 <br>
&quot;pi equals &quot; <br>
104348 / 33215</p>

<p style="margin-top: 1em">The following defines a function
to compute an approximate value of the exponential function
(note that such a function is predefined if the &acirc;l
option is specified):</p>

<p style="margin-top: 1em">scale = 20 <br>
define e(x){ <br>
auto a, b, c, i, s <br>
a = 1 <br>
b = 1 <br>
s = 1 <br>
for (i = 1; 1 == 1; i++){ <br>
a = a*x <br>
b = b*i <br>
c = a/b <br>
if (c == 0) { <br>
return(s) <br>
} <br>
s = s+c <br>
} <br>
}</p>

<p style="margin-top: 1em">The following prints approximate
values of the exponential function of the first ten
integers:</p>

<p style="margin-top: 1em">for (i = 1; i &lt;= 10; ++i) {
<br>
e(i) <br>
}</p>

<p style="margin-top: 1em">RATIONALE <br>
The bc utility is implemented historically as a front-end
processor for dc; dc was not selected to be part of this
volume of POSIX.1&acirc;2008 because bc was thought to have
a more <br>
intuitive programmatic interface. Current implementations
that implement bc using dc are expected to be compliant.</p>

<p style="margin-top: 1em">The exit status for error
conditions has been left unspecified for several
reasons:</p>

<p style="margin-top: 1em">* The bc utility is used in both
interactive and non-interactive situations. Different exit
codes may be appropriate for the two uses.</p>

<p style="margin-top: 1em">* It is unclear when a non-zero
exit should be given; divide-by-zero, undefined functions,
and syntax errors are all possibilities.</p>

<p style="margin-top: 1em">* It is not clear what utility
the exit status has.</p>

<p style="margin-top: 1em">* In the 4.3 BSD, System V, and
Ninth Edition implementations, bc works in conjunction with
dc. The dc utility is the parent, bc is the child. This was
done to cleanly termi&acirc; <br>
nate bc if dc aborted.</p>

<p style="margin-top: 1em">The decision to have bc exit
upon encountering an inaccessible input file is based on the
belief that bc file1 file2 is used most often when at least
file1 contains data/function <br>
declarations/initializations. Having bc continue with
prerequisite files missing is probably not useful. There is
no implication in the CONSEQUENCES OF ERRORS section that bc
<br>
must check all its files for accessibility before opening
any of them.</p>

<p style="margin-top: 1em">There was considerable debate on
the appropriateness of the language accepted by bc. Several
reviewers preferred to see either a pure subset of the C
language or some changes to <br>
make the language more compatible with C. While the bc
language has some obvious similarities to C, it has never
claimed to be compatible with any version of C. An
interpreter <br>
for a subset of C might be a very worthwhile utility, and it
could potentially make bc obsolete. However, no such utility
is known in historical practice, and it was not within <br>
the scope of this volume of POSIX.1&acirc;2008 to define
such a language and utility. If and when they are defined,
it may be appropriate to include them in a future version of
this <br>
standard. This left the following alternatives:</p>

<p style="margin-top: 1em">1. Exclude any calculator
language from this volume of POSIX.1&acirc;2008.</p>

<p style="margin-top: 1em">The consensus of the standard
developers was that a simple programmatic calculator
language is very useful for both applications and
interactive users. The only arguments for <br>
excluding any calculator were that it would become obsolete
if and when a C-compatible one emerged, or that the absence
would encourage the development of such a C-compatible <br>
one. These arguments did not sufficiently address the needs
of current application developers.</p>

<p style="margin-top: 1em">2. Standardize the historical
dc, possibly with minor modifications.</p>

<p style="margin-top: 1em">The consensus of the standard
developers was that dc is a fundamentally less usable
language and that that would be far too severe a penalty for
avoiding the issue of being <br>
similar to but incompatible with C.</p>

<p style="margin-top: 1em">3. Standardize the historical
bc, possibly with minor modifications.</p>

<p style="margin-top: 1em">This was the approach taken.
Most of the proponents of changing the language would not
have been satisfied until most or all of the
incompatibilities with C were resolved. <br>
Since most of the changes considered most desirable would
break historical applications and require significant
modification to historical implementations, almost no
modifi&acirc; <br>
cations were made. The one significant modification that was
made was the replacement of the historical bc assignment
operators &quot;=+&quot;, and so on, with the more modern
&quot;+=&quot;, <br>
and so on. The older versions are considered to be
fundamentally flawed because of the lexical ambiguity in
uses like a=&acirc;1.</p>

<p style="margin-top: 1em">In order to permit
implementations to deal with backwards-compatibility as they
see fit, the behavior of this one ambiguous construct was
made undefined. (At least three <br>
implementations have been known to support this change
already, so the degree of change involved should not be
great.)</p>

<p style="margin-top: 1em">The &rsquo;%&rsquo; operator is
the mathematical remainder operator when scale is zero. The
behavior of this operator for other values of scale is from
historical implementations of bc, and <br>
has been maintained for the sake of historical applications
despite its non-intuitive nature.</p>

<p style="margin-top: 1em">Historical implementations
permit setting ibase and obase to a broader range of values.
This includes values less than 2, which were not seen as
sufficiently useful to standard&acirc; <br>
ize. These implementations do not interpret input properly
for values of ibase that are greater than 16. This is
because numeric constants are recognized syntactically,
rather <br>
than lexically, as described in this volume of
POSIX.1&acirc;2008. They are built from lexical tokens of
single hexadecimal digits and &lt;period&gt; characters.
Since &lt;blank&gt; characters <br>
between tokens are not visible at the syntactic level, it is
not possible to recognize the multi-digit
&lsquo;&lsquo;digits&rsquo;&rsquo; used in the higher bases
properly. The ability to recognize <br>
input in these bases was not considered useful enough to
require modifying these implementations. Note that the
recognition of numeric constants at the syntactic level is
not a <br>
problem with conformance to this volume of
POSIX.1&acirc;2008, as it does not impact the behavior of
conforming applications (and correct bc programs).
Historical implementations also <br>
accept input with all of the digits
&rsquo;0&rsquo;&acirc;&rsquo;9&rsquo; and
&rsquo;A&rsquo;&acirc;&rsquo;F&rsquo; regardless of the
value of ibase; since digits with value greater than or
equal to ibase are not really appropriate, the <br>
behavior when they appear is undefined, except for the
common case of:</p>

<p style="margin-top: 1em">ibase=8; <br>
/* Process in octal base. */ <br>
... <br>
ibase=A <br>
/* Restore decimal base. */</p>

<p style="margin-top: 1em">In some historical
implementations, if the expression to be written is an
uninitialized array element, a leading &lt;space&gt; and/or
up to four leading 0 characters may be output <br>
before the character zero. This behavior is considered a
bug; it is unlikely that any currently conforming
application relies on:</p>

<p style="margin-top: 1em">echo &rsquo;b[3]&rsquo; | bc</p>

<p style="margin-top: 1em">returning 00000 rather than
0.</p>

<p style="margin-top: 1em">Exact calculation of the number
of fractional digits to output for a given value in a base
other than 10 can be computationally expensive. Historical
implementations use a <br>
faster approximation, and this is permitted. Note that the
requirements apply only to values of obase that this volume
of POSIX.1&acirc;2008 requires implementations to support
(in <br>
particular, not to 1, 0, or negative bases, if an
implementation supports them as an extension).</p>

<p style="margin-top: 1em">Historical implementations of bc
did not allow array parameters to be passed as the last
parameter to a function. New implementations are encouraged
to remove this restriction <br>
even though it is not required by the grammar.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
Section 1.3, Grammar Conventions, awk</p>

<p style="margin-top: 1em">The Base Definitions volume of
POSIX.1&acirc;2008, Chapter 8, Environment Variables,
Section 12.2, Utility Syntax Guidelines</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2013 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 7,
Copyright (C) 2013 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. (This is <br>
POSIX.1-2008 with the 2013 Technical Corrigendum 1 applied.)
In the event of any discrepancy between this version and the
original IEEE and The Open Group Standard, the original <br>
IEEE and The Open Group Standard is the referee document.
The original Standard can be obtained online at
http://www.unix.org/online.html .</p>

<p style="margin-top: 1em">Any typographical or formatting
errors that appear in this page are most likely to have been
introduced during the conversion of the source files to man
page format. To report <br>
such errors, see
https://www.kernel.org/doc/man-pages/reporting_bugs.html
.</p>

<p style="margin-top: 1em">IEEE/The Open Group 2013
BC(1POSIX)</p>
<hr>
</body>
</html>
