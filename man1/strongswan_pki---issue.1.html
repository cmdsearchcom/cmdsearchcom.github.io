<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PKI --ISSUE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PKI --ISSUE(1)</td>
    <td class="head-vol">strongSwan</td>
    <td class="head-rtitle">PKI --ISSUE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pki --issue - Issue a certificate using a CA certificate and key
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
[<span class="Op"><b>--in</b> <i>file</i>]</span>
  [<span class="Op"><b>--type</b> <i>type</i>]</span>
  <b>--cakey&#x00A0;</b><i>file</i><b>|--cakeyid&#x00A0;</b><i>hex</i>
  <b>--cacert&#x00A0;</b><i>file</i> [<span class="Op"><b>--dn</b>
  <i>subject-dn</i>]</span> [<span class="Op"><b>--san</b>
  <i>subjectAltName</i>]</span> [<span class="Op"><b>--lifetime</b>
  <i>days</i>]</span> [<span class="Op"><b>--not-before</b>
  <i>datetime</i>]</span> [<span class="Op"><b>--not-after</b>
  <i>datetime</i>]</span> [<span class="Op"><b>--serial</b> <i>hex</i>]</span>
  [<span class="Op"><b>--flag</b> <i>flag</i>]</span>
  [<span class="Op"><b>--digest</b> <i>digest</i>]</span>
  [<span class="Op"><b>--ca</b>]</span> [<span class="Op"><b>--crl</b>
  <i>uri&#x00A0;[ <b>--crlissuer&#x00A0;</b><i>issuer</i>]</i>]</span>
  [<span class="Op"><b>--ocsp</b> <i>uri</i>]</span>
  [<span class="Op"><b>--pathlen</b> <i>len</i>]</span>
  [<span class="Op"><b>--nc-permitted</b> <i>name</i>]</span>
  [<span class="Op"><b>--addrblock</b> <i>block</i>]</span>
  [<span class="Op"><b>--nc-excluded</b> <i>name</i>]</span>
  [<span class="Op"><b>--policy-mapping</b> <i>mapping</i>]</span>
  [<span class="Op"><b>--policy-explicit</b> <i>len</i>]</span>
  [<span class="Op"><b>--policy-inhibit</b> <i>len</i>]</span>
  [<span class="Op"><b>--policy-any</b> <i>len</i>]</span>
  [<span class="Op"><b>--cert-policy</b>
  <i>oid&#x00A0;[<b>--cps-uri&#x00A0;</b><i>uri</i>]&#x00A0;[<b>--user-notice&#x00A0;</b><i>text</i>]</i>]</span>
  [<span class="Op"><b>--outform</b> <i>encoding</i>]</span>
  [<span class="Op"><b>--debug</b> <i>level</i>]</span>
  <b>--options&#x00A0;</b><i>file</i> <b>-h</b> | <b>--help</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This sub-command of <b>pki</b>(1) is used to issue a certificate using a CA
  certificate and private key.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Print usage information with a summary of the available
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --debug </b><i>level</i></dt>
  <dd class="It-tag">Set debug level, default: 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-+, --options </b><i>file</i></dt>
  <dd class="It-tag">Read command line options from <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --in </b><i>file</i></dt>
  <dd class="It-tag">Public key or PKCS#10 certificate request file to issue. If
      not given the key/request is read from <i>STDIN</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t, --type </b><i>type</i></dt>
  <dd class="It-tag">Type of the input. One of <i>pub</i> (public key),
      <i>priv</i> (private key), <i>rsa</i> (RSA private key), <i>ecdsa</i>
      (ECDSA private key), <i>ed25519</i> (Ed25519 private key) <i>bliss</i>
      (BLISS private key) or <i>pkcs10</i> (PKCS#10 certificate request),
      defaults to <i>pub</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k, --cakey </b><i>file</i></dt>
  <dd class="It-tag">CA private key file. Either this or <b>--cakeyid</b> is
      required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x, --cakeyid </b><i>hex</i></dt>
  <dd class="It-tag">Smartcard or TPM CA private key object handle in hex format
      with an optional 0x prefix. Either this or <b>--cakey</b> is
    required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --cacert </b><i>file</i></dt>
  <dd class="It-tag">CA certificate file. Required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --dn </b><i>subject-dn</i></dt>
  <dd class="It-tag">Subject distinguished name (DN) of the issued
    certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a, --san </b><i>subjectAltName</i></dt>
  <dd class="It-tag">subjectAltName extension to include in certificate. Can be
      used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --lifetime </b><i>days</i></dt>
  <dd class="It-tag">Days the certificate is valid, default: 1095. Ignored if
      both an absolute start and end time are given.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F, --not-before </b><i>datetime</i></dt>
  <dd class="It-tag">Absolute time when the validity of the certificate begins.
      The datetime format is defined by the <b>--dateform</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T, --not-after </b><i>datetime</i></dt>
  <dd class="It-tag">Absolute time when the validity of the certificate ends.
      The datetime format is defined by the <b>--dateform</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D, --dateform </b><i>form</i></dt>
  <dd class="It-tag">strptime(3) format for the <b>--not-before</b> and
      <b>--not-after</b> options, default: <b>%d.%m.%y %T</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --serial </b><i>hex</i></dt>
  <dd class="It-tag">Serial number in hex. It is randomly allocated by
    default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --flag </b><i>flag</i></dt>
  <dd class="It-tag">Add extendedKeyUsage flag. One of <i>serverAuth</i>,
      <i>clientAuth</i>, <i>crlSign</i>, or <i>ocspSigning</i>. Can be used
      multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g, --digest </b><i>digest</i></dt>
  <dd class="It-tag">Digest to use for signature creation. One of <i>md5</i>,
      <i>sha1</i>, <i>sha224</i>, <i>sha256</i>, <i>sha384</i>, or
      <i>sha512</i>. The default is determined based on the type and size of the
      signature key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --outform </b><i>encoding</i></dt>
  <dd class="It-tag">Encoding of the created certificate file. Either <i>der</i>
      (ASN.1 DER) or <i>pem</i> (Base64 PEM), defaults to <i>der</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b, --ca</b></dt>
  <dd class="It-tag">Include CA basicConstraint extension in certificate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u, --crl </b><i>uri</i></dt>
  <dd class="It-tag">CRL distribution point URI to include in certificate. Can
      be used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I, --crlissuer </b><i>issuer</i></dt>
  <dd class="It-tag">Optional CRL issuer for the CRL at the preceding
      distribution point.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --ocsp </b><i>uri</i></dt>
  <dd class="It-tag">OCSP AuthorityInfoAccess URI to include in certificate. Can
      be used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p, --pathlen </b><i>len</i></dt>
  <dd class="It-tag">Set path length constraint.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B, --addrblock </b><i>block</i></dt>
  <dd class="It-tag">RFC 3779 address block to include in certificate.
      <i>block</i> is either a CIDR subnet (such as <i>10.0.0.0/8</i>) or an
      arbitrary address range ( <i>192.168.1.7-192.168.1.13</i>). Can be
      repeated to include multiple blocks. Please note that the supplied blocks
      are included in the certificate as is, so for standards compliance,
      multiple blocks must be supplied in correct order and adjacent blocks must
      be combined. Refer to RFC 3779 for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --nc-permitted </b><i>name</i></dt>
  <dd class="It-tag">Add permitted NameConstraint extension to certificate. For
      DNS or email constraints, the identity type is not always detectable by
      the given name. Use the <b>dns:</b> or <b>email:</b> prefix to force a
      constraint type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N, --nc-excluded </b><i>name</i></dt>
  <dd class="It-tag">Add excluded NameConstraint extension to certificate. For
      DNS or email constraints, the identity type is not always detectable by
      the given name. Use the <b>dns:</b> or <b>email:</b> prefix to force a
      constraint type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M, --policy-mapping
    </b><i>issuer-oid:subject-oid</i></dt>
  <dd class="It-tag">Add policyMapping from issuer to subject OID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E, --policy-explicit </b><i>len</i></dt>
  <dd class="It-tag">Add requireExplicitPolicy constraint.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H, --policy-inhibit </b><i>len</i></dt>
  <dd class="It-tag">Add inhibitPolicyMapping constraint.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A, --policy-any </b><i>len</i></dt>
  <dd class="It-tag">Add inhibitAnyPolicy constraint.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Certificate_Policy"><a class="selflink" href="#Certificate_Policy">Certificate
  Policy</a></h2>
Multiple certificatePolicy extensions can be added. Each with the following
  information:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P, --cert-policy </b><i>oid</i></dt>
  <dd class="It-tag">OID to include in certificatePolicy extension.
    Required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C, --cps-uri </b><i>uri</i></dt>
  <dd class="It-tag">Certification Practice statement URI for
    certificatePolicy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U, --user-notice </b><i>text</i></dt>
  <dd class="It-tag">User notice for certificatePolicy.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To save repetitive typing, command line options can be stored in files. Lets
  assume <i>pki.opt</i> contains the following contents:
<div class="Pp"></div>
<pre>
  --cacert ca_cert.der --cakey ca_key.der --digest sha256
  --flag serverAuth --lifetime 1460 --type pkcs10
</pre>
<div class="Pp"></div>
Then the following command can be used to issue a certificate based on a given
  PKCS#10 certificate request and the options above:
<div class="Pp"></div>
<pre>
  pki --issue --options pki.opt --in req.der &gt; cert.der
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pki</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-12-13</td>
    <td class="foot-os">5.5.3</td>
  </tr>
</table>
</body>
</html>
