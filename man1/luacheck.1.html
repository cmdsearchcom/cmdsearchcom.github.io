<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LUACHECK(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LUACHECK(1)</td>
    <td class="head-vol">luacheck</td>
    <td class="head-rtitle">LUACHECK(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
luacheck - luacheck Documentation
<div style="height: 1.00em;">&#x00A0;</div>
Contents:
<h1 class="Sh" title="Sh" id="LIST_OF_WARNINGS"><a class="selflink" href="#LIST_OF_WARNINGS">LIST
  OF WARNINGS</a></h1>
Warnings produced by Luacheck are categorized using three-digit warning codes.
  Warning codes can be displayed in CLI output using <b>--codes</b> CLI option
  or <b>codes</b> config option. Errors also have codes starting with zero.
<table class="tbl">
  <colgroup>
    <col style="width: 4.00ex;"/>
    <col style="width: 65.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Code</td>
    <td>Description</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>011</td>
    <td>A syntax error.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>021</td>
    <td>An invalid inline option.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>022</td>
    <td>An unpaired inline push directive.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>023</td>
    <td>An unpaired inline pop directive.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>111</td>
    <td>Setting an undefined global variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>112</td>
    <td>Mutating an undefined global variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>113</td>
    <td>Accessing an undefined global variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>121</td>
    <td>Setting a read-only global variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>122</td>
    <td>Mutating a read-only global variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>131</td>
    <td>Unused implicitly defined global variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>211</td>
    <td>Unused local variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>212</td>
    <td>Unused argument.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>213</td>
    <td>Unused loop variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>221</td>
    <td>Local variable is accessed but never set.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>231</td>
    <td>Local variable is set but never accessed.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>232</td>
    <td>An argument is set but never accessed.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>233</td>
    <td>Loop variable is set but never accessed.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>241</td>
    <td>Local variable is mutated but never accessed.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>311</td>
    <td>Value assigned to a local variable is unused.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>312</td>
    <td>Value of an argument is unused.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>313</td>
    <td>Value of a loop variable is unused.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>314</td>
    <td>Value of a field in a table literal is unused.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>321</td>
    <td>Accessing uninitialized local variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>331</td>
    <td>Value assigned to a local variable is mutated but never accessed.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>341</td>
    <td>Mutating uninitialized local variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>411</td>
    <td>Redefining a local variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>412</td>
    <td>Redefining an argument.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>413</td>
    <td>Redefining a loop variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>421</td>
    <td>Shadowing a local variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>422</td>
    <td>Shadowing an argument.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>423</td>
    <td>Shadowing a loop variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>431</td>
    <td>Shadowing an upvalue.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>432</td>
    <td>Shadowing an upvalue argument.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>433</td>
    <td>Shadowing an upvalue loop variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>511</td>
    <td>Unreachable code.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>512</td>
    <td>Loop can be executed at most once.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>521</td>
    <td>Unused label.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>531</td>
    <td>Left-hand side of an assignment is too short.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>532</td>
    <td>Left-hand side of an assignment is too long.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>541</td>
    <td>An empty <b>do</b> <b>end</b> block.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>542</td>
    <td>An empty <b>if</b> branch.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>551</td>
    <td>An empty statement.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>611</td>
    <td>A line consists of nothing but whitespace.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>612</td>
    <td>A line contains trailing whitespace.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>621</td>
    <td>Inconsistent indentation (<b>SPACE</b> followed by <b>TAB</b>).</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
</table>
<h2 class="Ss" title="Ss" id="Global_variables"><a class="selflink" href="#Global_variables">Global
  variables</a></h2>
For each file, Luacheck builds list of defined globals which can be used there.
  By default only globals from Lua standard library are defined; custom globals
  can be added using <b>--globals</b> CLI option or <b>globals</b> config
  option, and version of standard library can be selected using <b>--std</b> CLI
  option or <b>std</b> config option. When an undefined global is set, mutated
  or accessed, Luacheck produces a warning.
<h2 class="Ss" title="Ss" id="Read-only_globals"><a class="selflink" href="#Read-only_globals">Read-only
  globals</a></h2>
By default, all standard globals except <b>_G</b> and <b>package</b> are marked
  as read-only, so that setting or mutating them produces a warning. Custom
  read-only globals can be added using <b>--read-globals</b> CLI option or
  <b>read_globals</b> config option.
<h2 class="Ss" title="Ss" id="Implicitly_defined_globals"><a class="selflink" href="#Implicitly_defined_globals">Implicitly
  defined globals</a></h2>
Luacheck can be configured to consider globals assigned under some conditions to
  be defined implicitly. When <b>-d</b>/<b>--allow_defined</b> CLI option or
  <b>allow_defined</b> config option is used, all assignments to globals define
  them; when <b>-t</b>/<b>--allow_defined_top</b> CLI option or
  <b>allow_defined_top</b> config option is used, assignments to globals in the
  top level function scope (also known as main chunk) define them. A warning is
  produced when an implicitly defined global is not accessed anywhere.
<h2 class="Ss" title="Ss" id="Modules"><a class="selflink" href="#Modules">Modules</a></h2>
Files can be marked as modules using <b>-m</b>/<b>--module</b> CLI option or
  <b>module</b> config option to simulate semantics of the deprecated
  <i>module</i> function. Globals implicitly defined inside a module are
  considired part of its interface, are not visible outside and are not reported
  as unused. Assignments to other globals are not allowed, even to defined ones.
<h2 class="Ss" title="Ss" id="Unused_variables_and_values"><a class="selflink" href="#Unused_variables_and_values">Unused
  variables and values</a></h2>
Luacheck generates warnings for all unused local variables except one named
  <b>_</b>. It also detects variables which are set but never accessed or
  accessed but never set.
<h2 class="Ss" title="Ss" id="Unused_values_and_uninitialized_variables"><a class="selflink" href="#Unused_values_and_uninitialized_variables">Unused
  values and uninitialized variables</a></h2>
For each value assigned to a local variable, Luacheck computes set of
  expressions where it could be used. Warnings are produced for unused values
  (when a value can't be used anywhere) and for accessing uninitialized
  variables (when no values can reach an expression). E.g. in the following
  snippet value assigned to <b>foo</b> on line 1 is unused, and variable
  <b>bar</b> is uninitialized on line 9:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
local foo = expr1()
local bar
<div class="Pp"></div>
if condition() then
   foo = expr2()
   bar = expr3()
else
   foo = expr4()
   print(bar)
end
<div class="Pp"></div>
return foo, bar
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Secondary_values_and_variables"><a class="selflink" href="#Secondary_values_and_variables">Secondary
  values and variables</a></h2>
Unused value assigned to a local variable is secondary if its origin is the last
  item on the RHS of assignment, and another value from that item is used.
  Secondary values typically appear when result of a function call is put into
  locals, and only some of them are later used. For example, here value assigned
  to <b>b</b> is secondary, value assigned to <b>c</b> is used, and value
  assigned to <b>a</b> is simply unused:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
local a, b, c = f(), g()
<div class="Pp"></div>
return c
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
A variable is secondary if all values assigned to it are secondary. In the
  snippet above, <b>b</b> is a secondary variable.
<div style="height: 1.00em;">&#x00A0;</div>
Warnings related to unused secondary values and variables can be removed using
  <b>-s</b>/<b>--no-unused-secondaries</b> CLI option or
  <b>unused_secondaries</b> config option.
<h2 class="Ss" title="Ss" id="Shadowing_declarations"><a class="selflink" href="#Shadowing_declarations">Shadowing
  declarations</a></h2>
Luacheck detects declarations of local variables shadowing previous
  declarations, unless the variable is named <b>_</b>. If the previous
  declaration is in the same scope as the new one, it is called redefining.
<div style="height: 1.00em;">&#x00A0;</div>
Note that it is <b>not</b> necessary to define a new local variable when
  overwriting an argument:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
local function f(x)
   local x = x or &quot;default&quot; -- bad
end
<div class="Pp"></div>
local function f(x)
   x = x or &quot;default&quot; -- good
end
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Control_flow_and_data_flow_issues"><a class="selflink" href="#Control_flow_and_data_flow_issues">Control
  flow and data flow issues</a></h2>
The following control flow and data flow issues are detected:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Unreachable code and loops that can be executed at most
      once (e.g. due to an unconditional break);</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Unused labels;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Unbalanced assignments;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Empty blocks.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Empty statements (semicolons without preceding
    statements).</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Whitespace_issues"><a class="selflink" href="#Whitespace_issues">Whitespace
  issues</a></h2>
Luacheck detects some common whitespace issues, such as trailing whitespace.
<h1 class="Sh" title="Sh" id="COMMAND_LINE_INTERFACE"><a class="selflink" href="#COMMAND_LINE_INTERFACE">COMMAND
  LINE INTERFACE</a></h1>
<b>luacheck</b> program accepts files, directories and <i>rockspecs</i> as
  arguments. They can be filtered using <b>--include-files</b> and
  <b>--exclude-files</b> options, see below.
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Given a file, <b>luacheck</b> will check it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Given <b>-</b>, <b>luacheck</b> will check stdin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Given a directory, <b>luacheck</b> will check all files
      within it, selecting only files with <b>.lua</b> extension unless
      <b>--include-files</b> option is used. This feature requires
      <i>LuaFileSystem</i> (installed automatically if LuaRocks was used to
      install Luacheck).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Given a rockspec (a file with <b>.rockspec</b> extension),
      <b>luacheck</b> will check all files with <b>.lua</b> extension mentioned
      in the rockspec in <b>build.install.lua</b>, <b>build.install.bin</b> and
      <b>build.modules</b> tables.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The output of <b>luacheck</b> consists of separate reports for each checked file
  and ends with a summary:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ luacheck src
Checking src/bad_code.lua                         5 warnings
<div class="Pp"></div>
    src/bad_code.lua:3:16: unused variable helper
    src/bad_code.lua:3:23: unused variable length argument
    src/bad_code.lua:7:10: setting non-standard global variable embrace
    src/bad_code.lua:8:10: variable opt was previously defined as an argument on line 7
    src/bad_code.lua:9:11: accessing undefined variable hepler
<div class="Pp"></div>
Checking src/good_code.lua                        OK
Checking src/python_code.lua                      1 error
<div class="Pp"></div>
    src/python_code.lua:1:6: expected '=' near '__future__'
<div class="Pp"></div>
Checking src/unused_code.lua                      9 warnings
<div class="Pp"></div>
    src/unused_code.lua:3:18: unused argument baz
    src/unused_code.lua:4:8: unused loop variable i
    src/unused_code.lua:5:13: unused variable q
    src/unused_code.lua:7:11: unused loop variable a
    src/unused_code.lua:7:14: unused loop variable b
    src/unused_code.lua:7:17: unused loop variable c
    src/unused_code.lua:13:7: value assigned to variable x is unused
    src/unused_code.lua:14:1: value assigned to variable x is unused
    src/unused_code.lua:22:1: value assigned to variable z is unused
<div class="Pp"></div>
Total: 14 warnings / 1 error in 4 files
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>luacheck</b> exits with 0 if no warnings or errors occurred and with a
  positive number otherwise.
<h2 class="Ss" title="Ss" id="Command_line_options"><a class="selflink" href="#Command_line_options">Command
  line options</a></h2>
Short options that do not take an argument can be combined into one, so that
  <b>-qqu</b> is equivalent to <b>-q -q -u</b>. For long options, both
  <b>--option value</b> or <b>--option=value</b> can be used.
<div style="height: 1.00em;">&#x00A0;</div>
Options taking several arguments can be used several times; <b>--ignore foo
  --ignore bar</b> is equivalent to <b>--ignore foo bar</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Note that options that may take several arguments, such as <b>--globals</b>,
  should not be used immediately before positional arguments; given <b>--globals
  foo bar file.lua</b>, <b>luacheck</b> will consider all <b>foo</b>, <b>bar</b>
  and <b>file.lua</b> global and then panic as there are no file names left.
<table class="tbl">
  <colgroup>
    <col style="width: 44.00ex;"/>
    <col style="width: 904.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Option</td>
    <td>Meaning</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-g | --no-global</b></td>
    <td>Filter out warnings related to global variables.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-u | --no-unused</b></td>
    <td>Filter out warnings related to unused variables and values.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-r | --no-redefined</b></td>
    <td>Filter out warnings related to redefined variables.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-a | --no-unused-args</b></td>
    <td>Filter out warnings related to unused arguments and loop variables.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-s | --no-unused-secondaries</b></td>
    <td>Filter out warnings related to unused variables set together with used
      ones. See secondaryvaluesandvariables</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--no-self</b></td>
    <td>Filter out warnings related to implicit <b>self</b> argument.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--std &lt;std&gt;</b></td>
    <td>Set standard globals. <b>&lt;std&gt;</b> can be one of: 0.0 &#x2022; 2
      <b>_G</b> - globals of the Lua interpreter <b>luacheck</b> runs on
      (default); &#x2022; 2 <b>lua51</b> - globals of Lua 5.1; &#x2022; 2
      <b>lua52</b> - globals of Lua 5.2; &#x2022; 2 <b>lua52c</b> - globals of
      Lua 5.2 compiled with LUA_COMPAT_ALL; &#x2022; 2 <b>lua53</b> - globals of
      Lua 5.3; &#x2022; 2 <b>lua53c</b> - globals of Lua 5.3 compiled with
      LUA_COMPAT_5_2; &#x2022; 2 <b>luajit</b> - globals of LuaJIT 2.0; &#x2022;
      2 <b>ngx_lua</b> - globals of Openresty <i>lua-nginx-module</i> with
      LuaJIT 2.0; &#x2022; 2 <b>rockspec</b> - globals allowed in rockspecs;
      &#x2022; 2 <b>min</b> - intersection of globals of Lua 5.1, Lua 5.2, Lua
      5.3 and LuaJIT 2.0; &#x2022; 2 <b>max</b> - union of globals of Lua 5.1,
      Lua 5.2, Lua 5.3 and LuaJIT 2.0; &#x2022; 2 <b>busted</b> - globals added
      by Busted 2.0; &#x2022; 2 <b>none</b> - no standard globals. 168u See
      <i>Sets of standard globals</i></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--globals [&lt;global&gt;] ...</b></td>
    <td>Add custom globals on top of standard ones.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--read-globals [&lt;global&gt;] ...</b></td>
    <td>Add read-only globals.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--new-globals [&lt;global&gt;] ...</b></td>
    <td>Set custom globals. Removes custom globals added previously.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--new-read-globals [&lt;global&gt;] ...</b></td>
    <td>Set read-only globals. Removes read-only globals added previously.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-c | --compat</b></td>
    <td>Equivalent to <b>--std max</b>.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-d | --allow-defined</b></td>
    <td>Allow defining globals implicitly by setting them. See
      implicitlydefinedglobals</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-t | --allow-defined-top</b></td>
    <td>Allow defining globals implicitly by setting them in the top level
      scope. See implicitlydefinedglobals</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-m | --module</b></td>
    <td>Limit visibility of implicitly defined globals to their files. See
      modules</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--ignore | -i &lt;patt&gt; [&lt;patt&gt;] ...</b></td>
    <td>Filter out warnings matching patterns.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--enable | -e &lt;patt&gt; [&lt;patt&gt;] ...</b></td>
    <td>Do not filter out warnings matching patterns.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--only | -o &lt;patt&gt; [&lt;patt&gt;] ...</b></td>
    <td>Filter out warnings not matching patterns.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--no-inline</b></td>
    <td>Disable inline options.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--config &lt;config&gt;</b></td>
    <td>Path to custom configuration file (default: <b>.luacheckrc</b>).</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--no-config</b></td>
    <td>Do not look up custom configuration file.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--filename &lt;filename&gt;</b></td>
    <td>Use another filename in output, for selecting configuration overrides
      and for file filtering.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--exclude-files &lt;glob&gt; [&lt;glob&gt;] ...</b></td>
    <td>Do not check files matching these globbing patterns. Recursive globs
      such as <b>**/*.lua</b> are supported.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--include-files &lt;glob&gt; [&lt;glob&gt;] ...</b></td>
    <td>Do not check files not matching these globbing patterns.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--cache [&lt;cache&gt;]</b></td>
    <td>Path to cache file. (default: <b>.luacheckcache</b>). See
      <i>Caching</i></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--no-cache</b></td>
    <td>Do not use cache.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-j | --jobs</b></td>
    <td>Check <b>&lt;jobs&gt;</b> files in parallel. Requires <i>LuaLanes</i>.
      Default number of jobs is set to number of available processing
      units.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--formatter &lt;formatter&gt;</b></td>
    <td>Use custom formatter. <b>&lt;formatter&gt;</b> must be a module name or
      one of: 0.0 &#x2022; 2 <b>TAP</b> - Test Anything Protocol formatter;
      &#x2022; 2 <b>JUnit</b> - JUnit XML formatter; &#x2022; 2 <b>plain</b> -
      simple warning-per-line formatter; &#x2022; 2 <b>default</b> - standard
      formatter. 168u</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-q | --quiet</b></td>
    <td>Suppress report output for files without warnings. 0.0 &#x2022; 2
      <b>-qq</b> - Suppress output of warnings. &#x2022; 2 <b>-qqq</b> - Only
      output summary. 168u</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--codes</b></td>
    <td>Show warning codes.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--ranges</b></td>
    <td>Show ranges of columns related to warnings.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>--no-color</b></td>
    <td>Do not colorize output.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-v | --version</b></td>
    <td>Show version of Luacheck and its dependencies and exit.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>-h | --help</b></td>
    <td>Show help and exit.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
</table>
<h2 class="Ss" title="Ss" id="Patterns"><a class="selflink" href="#Patterns">Patterns</a></h2>
CLI options <b>--ignore</b>, <b>--enable</b> and <b>--only</b> and corresponding
  config options allow filtering warnings using pattern matching on warning
  codes, variable names or both. If a pattern contains a slash, the part before
  slash matches warning code and the part after matches variable name.
  Otherwise, if a pattern contains a letter or underscore, it matches variable
  name. Otherwise, it matches warning code. E.g.:
<table class="tbl">
  <colgroup>
    <col style="width: 7.00ex;"/>
    <col style="width: 75.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Pattern</td>
    <td>Matching warnings</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>4.2</td>
    <td>Shadowing declarations of arguments or redefining them.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>.*_</td>
    <td>Warnings related to variables with <b>_</b> suffix.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>4.2/.*_</td>
    <td>Shadowing declarations of arguments with <b>_</b> suffix or redefining
      them.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
Unless already anchored, patterns matching variable names are anchored at both
  sides and patterns matching warning codes are anchored at their beginnings.
  This allows one to filter warnings by category (e.g. <b>--only 1</b> focuses
  <b>luacheck</b> on global-related warnings).
<h2 class="Ss" title="Ss" id="Sets_of_standard_globals"><a class="selflink" href="#Sets_of_standard_globals">Sets
  of standard globals</a></h2>
CLI option <b>--stds</b> allows combining built-in sets described above using
  <b>+</b>. For example, <b>--std max</b> is equivalent to
  <b>--std=lua51+lua52+lua53</b>. Leading plus sign adds new sets to default one
  instead of replacing it. For instance, <b>--std +busted</b> is suitable for
  checking test files that use <i>Busted</i> testing framework. Custom sets of
  globals can be defined by mutating global variable <b>stds</b> in config. See
  custom_stds
<h2 class="Ss" title="Ss" id="Formatters"><a class="selflink" href="#Formatters">Formatters</a></h2>
CLI option <b>--formatter</b> allows selecting a custom formatter for
  <b>luacheck</b> output. A custom formatter is a Lua module returning a
  function with three arguments: report as returned by <b>luacheck</b> module
  (see report), array of file names and table of options. Options contain values
  assigned to <b>quiet</b>, <b>color</b>, <b>limit</b>, <b>codes</b>,
  <b>ranges</b> and <b>formatter</b> options in CLI or config. Formatter
  function must return a string.
<h2 class="Ss" title="Ss" id="Caching"><a class="selflink" href="#Caching">Caching</a></h2>
If LuaFileSystem is available, Luacheck can cache results of checking files. On
  subsequent checks, only files which have changed since the last check will be
  rechecked, improving run time significantly. Changing options (e.g. defining
  additional globals) does not invalidate cache. Caching can be enabled by using
  <b>--cache &lt;cache&gt;</b> option or <b>cache</b> config option. Using
  <b>--cache</b> without an argument or setting <b>cache</b> config option to
  <b>true</b> sets <b>.luacheckcache</b> as the cache file. Note that
  <b>--cache</b> must be used every time <b>luacheck</b> is run, not on the
  first run only.
<h2 class="Ss" title="Ss" id="Stable_interface_for_editor_plugins_and_tools"><a class="selflink" href="#Stable_interface_for_editor_plugins_and_tools">Stable
  interface for editor plugins and tools</a></h2>
Command-line interface of Luacheck can change between minor releases. Starting
  from 0.11.0 version, the following interface is guaranteed at least till 1.0.0
  version, and should be used by tools using Luacheck output, e.g. editor
  plugins.
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Luacheck should be started from the directory containing
      the checked file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">File can be passed through stdin using <b>-</b> as argument
      or using a temporary file. Real filename should be passed using
      <b>--filename</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Plain formatter should be used. It outputs one issue
      (warning or error) per line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">To get precise error location, <b>--ranges</b> option can
      be used. Each line starts with real filename (passed using
      <b>--filename</b>), followed by
      <b>:&lt;line&gt;:&lt;start_column&gt;-&lt;end_column&gt;:</b>, where
      <b>&lt;line&gt;</b> is line number on which issue occurred and
      <b>&lt;start_column&gt;-&lt;end_column&gt;</b> is inclusive range of
      columns of token related to issue. Numbering starts from 1. If
      <b>--ranges</b> is not used, end column and dash is not printed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">To get warning and error codes, <b>--codes</b> option can
      be used. For each line, substring between parentheses contains three digit
      issue code, prefixed with <b>E</b> for errors and <b>W</b> for warnings.
      Lack of such substring indicates a fatal error (e.g. I/O error).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The rest of the line is warning message.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
If compatibility with older Luacheck version is desired, output of <b>luacheck
  --help</b> can be used to get its version. If it contains string
  <b>0.&lt;minor&gt;.&lt;patch&gt;</b>, where <b>&lt;minor&gt;</b> is at least
  11 and <b>patch</b> is any number, interface described above should be used.
<h1 class="Sh" title="Sh" id="CONFIGURATION_FILE"><a class="selflink" href="#CONFIGURATION_FILE">CONFIGURATION
  FILE</a></h1>
<b>luacheck</b> tries to load configuration from <b>.luacheckrc</b> file in the
  current directory. If not found, it will look for it in the parent directory
  and so on, going up until it reaches file system root. Path to config can be
  set using <b>--config</b> option, in which case it will be used during
  recursive loading. Config loading can be disabled using <b>--no-config</b>
  flag.
<div style="height: 1.00em;">&#x00A0;</div>
Config is simply a Lua script executed by <b>luacheck</b>. It may set various
  options by assigning to globals or by returning a table with option names as
  keys.
<h2 class="Ss" title="Ss" id="Config_options"><a class="selflink" href="#Config_options">Config
  options</a></h2>
<table class="tbl">
  <colgroup>
    <col style="width: 24.00ex;"/>
    <col style="width: 33.00ex;"/>
    <col style="width: 19.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Option</td>
    <td>Type</td>
    <td>Default value</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>color</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>codes</b></td>
    <td>Boolean</td>
    <td><b>false</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>formatter</b></td>
    <td>String or function</td>
    <td><b>&quot;default&quot;</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>cache</b></td>
    <td>Boolean or string</td>
    <td><b>false</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>jobs</b></td>
    <td>Positive integer</td>
    <td><b>1</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>exclude_files</b></td>
    <td>Array of strings</td>
    <td><b>{}</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>include_files</b></td>
    <td>Array of strings</td>
    <td>(Include all files)</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>global</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>unused</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>redefined</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>unused_args</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>unused_secondaries</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>self</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>std</b></td>
    <td>String or set of standard globals</td>
    <td><b>&quot;_G&quot;</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>globals</b></td>
    <td>Array of strings</td>
    <td><b>{}</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>new_globals</b></td>
    <td>Array of strings</td>
    <td>(Do not overwrite)</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>read_globals</b></td>
    <td>Array of strings</td>
    <td><b>{}</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>new_read_globals</b></td>
    <td>Array of strings</td>
    <td>(Do not overwrite)</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>compat</b></td>
    <td>Boolean</td>
    <td><b>false</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>allow_defined</b></td>
    <td>Boolean</td>
    <td><b>false</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>allow_defined_top</b></td>
    <td>Boolean</td>
    <td><b>false</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>module</b></td>
    <td>Boolean</td>
    <td><b>false</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>ignore</b></td>
    <td>Array of patterns (see patterns)</td>
    <td><b>{}</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>enable</b></td>
    <td>Array of patterns</td>
    <td><b>{}</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>only</b></td>
    <td>Array of patterns</td>
    <td>(Do not filter)</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td><b>inline</b></td>
    <td>Boolean</td>
    <td><b>true</b></td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
An example of a config which makes <b>luacheck</b> ensure that only globals from
  the portable intersection of Lua 5.1, Lua 5.2, Lua 5.3 and LuaJIT 2.0 are
  used, as well as disables detection of unused arguments:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
std = &quot;min&quot;
ignore = {&quot;212&quot;}
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Custom_sets_of_globals"><a class="selflink" href="#Custom_sets_of_globals">Custom
  sets of globals</a></h2>
<b>std</b> option allows setting a custom standard set of globals using a table.
  In that table, string keys are globals, and string in array part are read-only
  globals.
<div style="height: 1.00em;">&#x00A0;</div>
Additionally, custom sets can be given names by mutating global <b>stds</b>
  variable. For example, when using <i>LPEG</i> library, it makes sense to
  access its functions tersely using globals. In that case, the following config
  allows removing false positives related to global access easily:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
stds.lpeg = require &quot;lpeg&quot;
</pre>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
local lpeg = require &quot;lpeg&quot;
<div class="Pp"></div>
local function parse1(...)
   -- This function only uses lpeg functions as globals.
   local _ENV = lpeg
   -- luacheck: std lpeg
   local digit, space = R &quot;09&quot;, S &quot; &quot;
   -- ...
end
<div class="Pp"></div>
local function parse2(...)
   -- This function uses lpeg functions as well as standard globals.
   local _ENV = setmetatable({}, {__index = function(_, k) return _ENV[k] or lpeg[k] end})
   -- luacheck: std +lpeg
   local digit, space = R &quot;09&quot;, S &quot; &quot;
   local number = C(digit^1) / tonumber
   -- ...
end
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Per-file_and_per-path_overrides"><a class="selflink" href="#Per-file_and_per-path_overrides">Per-file
  and per-path overrides</a></h2>
The environment in which <b>luacheck</b> loads the config contains a special
  global <b>files</b>. When checking a file <b>&lt;path&gt;</b>, <b>luacheck</b>
  will override options from the main config with entries from
  <b>files[&lt;glob&gt;]</b> if <b>&lt;glob&gt;</b> matches <b>&lt;path&gt;</b>,
  applying entries for more general globs first. For example, the following
  config re-enables detection of unused arguments only for files in
  <b>src/dir</b>, but not for files ending with <b>_special.lua</b>, and allows
  using <i>Busted</i> globals within <b>spec/</b>:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
std = &quot;min&quot;
ignore = {&quot;212&quot;}
files[&quot;src/dir&quot;] = {enable = {&quot;212&quot;}}
files[&quot;src/dir/**/*_special.lua&quot;] = {ignore = {&quot;212&quot;}}
files[&quot;spec&quot;] = {std = &quot;+busted&quot;}
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Note that <b>files</b> table supports autovivification, so that
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
files[&quot;src/dir&quot;].enable = {&quot;212&quot;}
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
and
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
files[&quot;src/dir&quot;] = {enable = {&quot;212&quot;}}
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
are equivalent.
<h1 class="Sh" title="Sh" id="INLINE_OPTIONS"><a class="selflink" href="#INLINE_OPTIONS">INLINE
  OPTIONS</a></h1>
Luacheck supports setting some options directly in the checked files using
  inline configuration comments. An inline configuration comment starts with
  <b>luacheck:</b> label, possibly after some whitespace. The body of the
  comment should contain comma separated options, where option invocation
  consists of its name plus space separated arguments. It can also contain notes
  enclosed in balanced parentheses, which are ignored. The following options are
  supported:
<table class="tbl">
  <colgroup>
    <col style="width: 18.00ex;"/>
    <col style="width: 44.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Option</td>
    <td>Number of arguments</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>global</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>unused</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>redefined</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>unused args</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>unused secondaries</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>self</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>compat</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>module</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>allow defined</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>allow defined top</td>
    <td>0</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>std</td>
    <td>1</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>globals</td>
    <td>0+</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>new globals</td>
    <td>0+</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>read globals</td>
    <td>0+</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>new read globals</td>
    <td>0+</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>ignore</td>
    <td>0+ (without arguments everything is ignored)</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>enable</td>
    <td>1+</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>only</td>
    <td>1+</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
Options that take no arguments can be prefixed with <b>no</b> to invert their
  meaning. E.g. <b>--luacheck: no unused args</b> disables unused argument
  warnings.
<div style="height: 1.00em;">&#x00A0;</div>
Part of the file affected by inline option dependes on where it is placed. If
  there is any code on the line with the option, only that line is affected;
  otherwise, everything till the end of the current closure is. In particular,
  inline options at the top of the file affect all of it:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
-- luacheck: globals g1 g2, ignore foo
local foo = g1(g2) -- No warnings emitted.
<div class="Pp"></div>
-- The following unused function is not reported.
local function f() -- luacheck: ignore
   -- luacheck: globals g3
   g3() -- No warning.
end
<div class="Pp"></div>
g3() -- Warning is emitted as the inline option defining g3 only affected function f.
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
For fine-grained control over inline option visibility use <b>luacheck: push</b>
  and <b>luacheck: pop</b> directives:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
-- luacheck: push ignore foo
foo() -- No warning.
-- luacheck: pop
foo() -- Warning is emitted.
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Inline options can be completely disabled using <b>--no-inline</b> CLI option or
  <b>inline</b> config option.
<h1 class="Sh" title="Sh" id="LUACHECK_MODULE"><a class="selflink" href="#LUACHECK_MODULE">LUACHECK
  MODULE</a></h1>
Use <b>local luacheck = require &quot;luacheck&quot;</b> to import
  <b>luacheck</b> module. It contains the following functions:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>luacheck.get_report(source)</b>: Given source string,
      returns analysis data (a table).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>luacheck.process_reports(reports, options)</b>:
      Processes array of analysis reports and applies options. <b>reports[i]</b>
      uses <b>options</b>, <b>options[i]</b>, <b>options[i][1]</b>,
      <b>options[i][2]</b>, ... as options, overriding each other in that order.
      Options table is a table with fields similar to config options; see
      options. Analysis reports with field <b>fatal</b> are ignored.
      <b>process_reports</b> returns final report, see <i>Report
    format</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>luacheck.check_strings(sources, options)</b>: Checks
      array of sources using options, returns final report. Tables with field
      <b>fatal</b> within <b>sources</b> array are ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>luacheck.check_files(files, options)</b>: Checks array
      of files using options, returns final report. Open file handles can passed
      instead of filenames, in which case they will be read till EOF and
    closed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>luacheck.get_message(issue)</b>: Returns a string
      message for an issue, see <i>Report format</i>.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>luacheck._VERSION</b> contains Luacheck version as a string in
  <b>MAJOR.MINOR.PATCH</b> format.
<div style="height: 1.00em;">&#x00A0;</div>
Using <b>luacheck</b> as a function is equivalent to calling
  <b>luacheck.check_files</b>.
<h2 class="Ss" title="Ss" id="Report_format"><a class="selflink" href="#Report_format">Report
  format</a></h2>
A final report is an array of file reports plus fields <b>warnings</b>,
  <b>errors</b> and <b>fatals</b> containing total number of warnings, errors
  and fatal errors, correspondingly.
<div style="height: 1.00em;">&#x00A0;</div>
A file report is an array of issues (warnings or errors). If a fatal error
  occurred while checking a file, its report will have <b>fatal</b> field
  containing error type and <b>msg</b> field containing error message.
<div style="height: 1.00em;">&#x00A0;</div>
An issue is a table with field <b>code</b> indicating its type (see warnings),
  and fields <b>line</b>, <b>column</b> and <b>end_column</b> pointing to the
  source of the warning. <b>name</b> field may contain name of related variable.
  Issues of some types can also have additional fields:
<table class="tbl">
  <colgroup>
    <col style="width: 5.00ex;"/>
    <col style="width: 92.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>Codes</td>
    <td>Additional fields</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>011</td>
    <td><b>msg</b> field contains syntax error message.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>111</td>
    <td><b>module</b> field indicates that assignment is to a non-module global
      variable.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>211</td>
    <td><b>func</b> field indicates that unused variable is a function.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>211</td>
    <td><b>recursive</b> field indicates that unused function is recursive.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>211</td>
    <td><b>mutually_recursive</b> field is set for unused mutually recursive
      functions.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>314</td>
    <td><b>field</b> field contains string representation of ununsed field or
      index.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>4..</td>
    <td><b>prev_line</b> and <b>prev_column</b> fields contain location of the
      overwritten definition.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>521</td>
    <td><b>label</b> field contains label name.</td>
  </tr>
  <tr>
    <td colspan="0"></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
Other fields may be present for internal reasons.
<div style="height: 1.00em;">&#x00A0;</div>
This is documentation for 0.17.1 version of <i>Luacheck</i>, a linter for
  <i>Lua</i>.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Peter Melnichenko
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2016 - 2016, Peter Melnichenko</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 22, 2016</td>
    <td class="foot-os">0.17.1</td>
  </tr>
</table>
</body>
</html>
