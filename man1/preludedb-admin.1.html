<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Prelude(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Prelude(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">Prelude(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
preludedb-admin - tool to copy, move, delete, save or restore a prelude database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>preludedb-admin</b> <i>copy|move|delete|load|save</i> <i>arguments</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
preludedb-admin can be used to copy, move, delete, save or restore a prelude
  database, partly or in whole, while preserving IDMEF data consistency.
<div class="Pp"></div>
Mandatory arguments
<dl class="Bl-tag">
  <dt class="It-tag"><b>copy</b></dt>
  <dd class="It-tag">Make a copy of a Prelude database to another database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete</b></dt>
  <dd class="It-tag">Delete content of a Prelude database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>load</b></dt>
  <dd class="It-tag">Load a Prelude database from a file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>move</b></dt>
  <dd class="It-tag">Move content of a Prelude database to another
    database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save</b></dt>
  <dd class="It-tag">Save a Prelude database to a file.</dd>
</dl>
<div class="Pp"></div>
Running a command without providing arguments will display a detailed help.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Obtaining help on a specific command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
# preludedb-admin save
Usage  : save &lt;alert|heartbeat&gt; &lt;database&gt; &lt;filename&gt; [options]
Example: preludedb-admin save alert &quot;type=mysql name=dbname user=prelude&quot; outputfile
<div class="Pp"></div>
Save messages from &lt;database&gt; into [filename].
If no filename argument is provided, data will be written to standard output.
<div class="Pp"></div>
Database arguments:
  type  : Type of database (mysql/pgsql).
  name  : Name of the database.
  user  : User to access the database.
  pass  : Password to access the database.
<div class="Pp"></div>
Valid options:
  --offset &lt;offset&gt;               : Skip processing until 'offset' events.
  --count &lt;count&gt;                 : Process at most count events.
  --query-logging [filename]      : Log SQL query to the specified file.
  --criteria &lt;criteria&gt;           : Only process events matching criteria.
  --events-per-transaction        : Maximum number of event to process per transaction (default 1000).
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Preludedb-admin can be useful to delete events from a prelude database :
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
preludedb-admin delete alert --criteria &lt;criteria&gt; &quot;type=&lt;mysql&gt; name=&lt;dbname&gt; user=&lt;prelude-user&gt; pass=&lt;pass&gt;&quot;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
where <i>criteria</i> is an IDMEF criteria :
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
preludedb-admin delete alert --criteria &quot;alert.classification.text == 'UDP packet dropped'&quot; &quot;type=mysql name=prelude user=prelude-user pass=prelude-pass&quot;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will delete all event with the classification text &quot;UDP packet
  dropped&quot; from the database.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The Prelude Handbook: <i>https://trac.prelude-ids.org/wiki/PreludeHandbook</i>
<div class="Pp"></div>
Prelude homepage: <i>http://www.prelude-ids.com/</i>
<div class="Pp"></div>
Creating filter using IDMEF Criteria:
  <i>https://trac.prelude-ids.org/wiki/IDMEFCriteria</i>
<div class="Pp"></div>
Prelude IDMEF Path: <i>https://trac.prelude-ids.org/wiki/IDMEFPath</i>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
To report a bug, please visit <i>https://trac.prelude-ids.org/</i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This manpage was Written by Pierre Chifflier.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2006 PreludeIDS Technologies.
<div>&#x00A0;</div>
This is free software. You may redistribute copies of it under the terms of the
  GNU General Public License &lt;http://www.gnu.org/licenses/gpl.html&gt;. There
  is NO WARRANTY, to the extent permitted by law.</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 2007</td>
    <td class="foot-os">preludedb-admin</td>
  </tr>
</table>
</body>
</html>
