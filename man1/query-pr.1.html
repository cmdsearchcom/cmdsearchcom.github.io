<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>query-pr(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">query-pr(1)</td>
    <td class="head-vol">GNATS User Utilities</td>
    <td class="head-rtitle">query-pr(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
query-pr - query problem reports in the GNATS database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>query-pr</b>
<div style="margin-left: 5.00ex;">[<b>--output</b>&#x00A0;<i>file</i>&#x00A0;|&#x00A0;<b>-o</b>&#x00A0;<i>file</i>]
<div>&#x00A0;</div>
[ <b>--list-databases</b>] [ <b>--list-fields</b>] [ <b>--list-input-fields</b>]
<div>&#x00A0;</div>
[ <b>--responsible-address</b>&#x00A0;<i>address</i>]
<div>&#x00A0;</div>
[ <b>--field-type</b>&#x00A0;<i>type</i>]
<div>&#x00A0;</div>
[ <b>--field-description</b>&#x00A0;<i>description</i>]
<div>&#x00A0;</div>
[ <b>--valid-values</b>&#x00A0;<i>values</i>]
<div>&#x00A0;</div>
[
  <b>--format</b>&#x00A0;<i>format</i>&#x00A0;|&#x00A0;<b>-f</b>&#x00A0;<i>format</i>]
<div>&#x00A0;</div>
[ <b>--full</b>&#x00A0;|&#x00A0;<b>-F</b>] [
  <b>--summary</b>&#x00A0;|&#x00A0;<b>-q</b>]
<div>&#x00A0;</div>
[
  <b>--database</b>&#x00A0;<i>database</i>&#x00A0;|&#x00A0;<b>-d</b>&#x00A0;<i>database</i>]
<div>&#x00A0;</div>
[ <b>--and</b>&#x00A0;|&#x00A0;<b>-&amp;</b>] [
  <b>--or</b>&#x00A0;|&#x00A0;<b>-|</b>]
<div>&#x00A0;</div>
[ <b>--expr</b>&#x00A0;<i>expr</i>]
<div>&#x00A0;</div>
[ <b>--debug</b>&#x00A0;|&#x00A0;<b>-D</b>]
<div>&#x00A0;</div>
[ <b>--help</b>&#x00A0;|&#x00A0;<b>-h</b>] [
  <b>--version</b>&#x00A0;|&#x00A0;<b>-V</b>]
<div>&#x00A0;</div>
[ <i>PR ...</i>]</div>
<h2 class="Ss" title="Ss" id="Non-network-mode_options:"><a class="selflink" href="#Non-network-mode_options:">Non-network-mode
  options:</a></h2>
<div style="margin-left: 5.00ex;">[<b>--print-sh-vars</b>] [
  <b>--print-directory-for-database</b>]</div>
<h2 class="Ss" title="Ss" id="Network-mode-only_options:"><a class="selflink" href="#Network-mode-only_options:">Network-mode-only
  options:</a></h2>
<div style="margin-left: 5.00ex;">[<b>--host</b>&#x00A0;<i>host</i>&#x00A0;|&#x00A0;<b>-H</b>&#x00A0;<i>host</i>]
  [ <b>--port</b>&#x00A0;<i>port</i>] [
  <b>--user</b>&#x00A0;<i>user</i>&#x00A0;|&#x00A0;
  <b>-v</b>&#x00A0;<i>user</i>] [
  <b>--passwd</b>&#x00A0;<i>passwd</i>&#x00A0;|&#x00A0;
  <b>-w</b>&#x00A0;<i>passwd</i>]</div>
<h2 class="Ss" title="Ss" id="Deprecated_Options"><a class="selflink" href="#Deprecated_Options">Deprecated
  Options</a></h2>
<div style="margin-left: 5.00ex;">[<b>--list-categories</b>&#x00A0;|&#x00A0;<b>-j</b>]
  [ <b>--list-classes</b>&#x00A0;|&#x00A0;<b>-J</b>] [
  <b>--list-responsible</b>&#x00A0;|&#x00A0; <b>-k</b>] [
  <b>--list-submitters</b>&#x00A0;|&#x00A0; <b>-l</b>] [
  <b>--list-states</b>&#x00A0;|&#x00A0; <b>-T</b>] [
  <b>--category</b>&#x00A0;<i>category</i>&#x00A0;|&#x00A0;<b>-c</b>&#x00A0;<i>category</i>]
  [
  <b>--synopsis</b>&#x00A0;<i>synopsis</i>&#x00A0;|&#x00A0;<b>-y</b>&#x00A0;<i>synopsis</i>]
  [
  <b>--confidential</b>&#x00A0;<i>confidential</i>&#x00A0;|&#x00A0;<b>-C</b>&#x00A0;
  <i>confidential</i>] [
  <b>--multitext</b>&#x00A0;<i>multitext</i>&#x00A0;|&#x00A0;
  <b>-m</b>&#x00A0;<i>multitext</i>] [
  <b>--originator</b>&#x00A0;<i>originator</i>&#x00A0;|&#x00A0;
  <b>-O</b>&#x00A0; <i>originator</i>] [
  <b>--release</b>&#x00A0;<i>release</i>&#x00A0;|&#x00A0;
  <b>-A</b>&#x00A0;<i>release</i>] [
  <b>--class</b>&#x00A0;<i>class</i>&#x00A0;|&#x00A0;
  <b>-L</b>&#x00A0;<i>class</i>] [
  <b>--cases</b>&#x00A0;<i>cases</i>&#x00A0;|&#x00A0;
  <b>-E</b>&#x00A0;<i>cases</i>] [
  <b>--quarter</b>&#x00A0;<i>quarter</i>&#x00A0;|&#x00A0;
  <b>-Q</b>&#x00A0;<i>quarter</i>] [
  <b>--keywords</b>&#x00A0;<i>keywords</i>&#x00A0;|&#x00A0;
  <b>-K</b>&#x00A0;<i>keywords</i>] [
  <b>--priority</b>&#x00A0;<i>priority</i>&#x00A0;|&#x00A0;
  <b>-p</b>&#x00A0;<i>priority</i>] [
  <b>--responsible</b>&#x00A0;<i>responsible</i>&#x00A0;|&#x00A0;
  <b>-r</b>&#x00A0; <i>responsible</i>] [
  <b>--restricted</b>&#x00A0;|&#x00A0;<b>-R</b>] [
  <b>--severity</b>&#x00A0;<i>severity</i>&#x00A0;|&#x00A0;
  <b>-e</b>&#x00A0;<i>severity</i>] [
  <b>--skip-closed</b>&#x00A0;|&#x00A0;<b>-x</b>] [
  <b>--sql</b>&#x00A0;|&#x00A0; <b>-i</b>] [
  <b>--sql2</b>&#x00A0;|&#x00A0;<b>-I</b>] [
  <b>--state</b>&#x00A0;<i>state</i>&#x00A0;|&#x00A0;
  <b>-s</b>&#x00A0;<i>state</i>] [
  <b>--submitter</b>&#x00A0;<i>submitter</i>&#x00A0;|&#x00A0;
  <b>-S</b>&#x00A0;<i>submitter</i>] [
  <b>--text</b>&#x00A0;<i>text</i>&#x00A0;|&#x00A0;
  <b>-t</b>&#x00A0;<i>text</i>] [
  <b>--required-before</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-u</b>&#x00A0;<i>date</i>] [
  <b>--required-after</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-U</b>&#x00A0;<i>date</i>] [
  <b>--arrived-before</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-b</b>&#x00A0;<i>date</i>] [
  <b>--arrived-after</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-a</b>&#x00A0;<i>date</i>] [
  <b>--modified-before</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-B</b>&#x00A0;<i>date</i>] [
  <b>--modified-after</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-M</b>&#x00A0;<i>date</i>] [
  <b>--closed-before</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-z</b>&#x00A0;<i>date</i>] [
  <b>--closed-after</b>&#x00A0;<i>date</i>&#x00A0;|&#x00A0;
  <b>-Z</b>&#x00A0;<i>date</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Queries the <b>GNATS</b> database according to options and returns either
  selected Problem Reports ( <i>PR</i>s) or other requested information.
  <b>query-pr</b> can query <i>PR</i>s located in either a local database or via
  <b>gnatsd</b>.
<div class="Pp"></div>
<i>PR</i>s may be selected via the use of the <b>--expr</b> option, directly by
  number, or by the use of the (now deprecated) field-specific query operators.
<div class="Pp"></div>
By default, query options are connected with a logical <b>AND</b>. For example,
<div style="margin-left: 5.00ex;"><b>query-pr</b> <b>--category=</b><i>foo</i>
  <b>--responsible=</b><i>bar</i></div>
only prints PRs which have a <b>Category</b> field of <i>foo</i> and a
  <b>Responsible</b> field of <i>bar</i>.
<div class="Pp"></div>
The <b>--or</b> option may be used to connect query options with a logical
  <b>OR</b>. For example,
<div style="margin-left: 5.00ex;"><b>query-pr</b> <b>--category=</b><i>baz</i>
  <b>--or</b> <b>--responsible=</b><i>blee</i></div>
prints PRs which have either a <b>Category</b> field of <i>baz</i> <i>or</i> a
  <b>Responsible</b> field of <i>blee</i>.
<div class="Pp"></div>
The use of these options is strongly discouraged, as they will be deleted in the
  next release. The expressions specified by the <b>--expr</b> option are much
  more flexible.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b>,&#x00A0;<b>-h</b></dt>
  <dd class="It-tag">Prints a (rather longish) help message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b>,&#x00A0;<b>-V</b></dt>
  <dd class="It-tag">Displays the program version to stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output</b>&#x00A0;<i>file</i>,&#x00A0;<b>-o</b>&#x00A0;<i>file</i></dt>
  <dd class="It-tag">The results of the query will be placed in this file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--database</b>&#x00A0;<i>database</i>,&#x00A0;<b>-d</b>&#x00A0;<i>database</i></dt>
  <dd class="It-tag">Specifies the database to be used for the query. If no
      database is specified, the database named <i>default</i> is assumed. (This
      option overrides the database specified in the <b>GNATSDB</b> environment
      variable; see the <b>ENVIRONMENT VARIABLES</b> section for more
      information.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-categories</b>,&#x00A0;<b>-j</b></dt>
  <dd class="It-tag">Lists the available <i>PR</i> categories for the selected
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-classes</b>,&#x00A0;<b>-J</b></dt>
  <dd class="It-tag">Lists the available <i>PR</i> classes for the selected
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-responsible</b>,&#x00A0;<b>-k</b></dt>
  <dd class="It-tag">Lists the users that appear in the database's responsible
      list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-submitters</b>,&#x00A0;<b>-l</b></dt>
  <dd class="It-tag">Lists the valid submitters for this database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-states</b>,&#x00A0;<b>-T</b></dt>
  <dd class="It-tag">Lists the valid <i>PR</i> states for <i>PR</i>s in this
      database.</dd>
</dl>
<div class="Pp"></div>
The previous <b>--list-*</b> options are deprecated and will be removed in the
  next release; their functionality can be replaced with
<div class="Pp"></div>
<div style="margin-left: 1.50in;"><b>query-pr</b> <b>--valid-values</b>
  <i>field</i></div>
<div class="Pp"></div>
where <i>field</i> is one of <b>Category</b>, <b>Class</b>, <b>Responsible</b>,
  <b>Submitter-Id</b>, or <b>State</b>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-databases</b></dt>
  <dd class="It-tag">Lists the known databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-fields</b></dt>
  <dd class="It-tag">Lists the entire set of field names for <i>PR</i>s in the
      selected database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-input-fields</b></dt>
  <dd class="It-tag">Lists the fields that should be provided when creating a
      new <i>PR</i> for the currently-specified database. The fields are listed
      in an order that would make sense when used in a template or form.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--field-type</b>&#x00A0;<i>field</i></dt>
  <dd class="It-tag">Returns the data type contained in <i>PR</i> field
      <i>field</i>. The current set of data types includes <b>text</b>,
      <b>multitext</b>, <b>enum</b>, <b>multienum</b>, <b>integer</b>,
      <b>date</b>, and <b>text-with-regex-qualifier</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--field-description</b>&#x00A0;<i>field</i></dt>
  <dd class="It-tag">Returns a human-readable description of the intended
      purpose of <i>field</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--valid-values</b>&#x00A0;<i>field</i></dt>
  <dd class="It-tag">For fields of type <b>enum</b>, a list of valid values (one
      per line) is returned. Otherwise, a regular expression is returned that
      describes the legal values in <i>field</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--responsible-address</b>&#x00A0;<i>name</i></dt>
  <dd class="It-tag">The mail address of <i>name</i> is returned; <i>name</i> is
      assumed to be a name either appearing in the database's <b>responsible</b>
      list, or is otherwise a user on the system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-sh-vars</b></dt>
  <dd class="It-tag">A set of <i>/bin/sh</i> variables is returned that describe
      the selected database. They include:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">GNATSDB</dt>
  <dd class="It-tag">The name of the currently-selected database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">GNATSDB_VALID</dt>
  <dd class="It-tag">Set to 1 if the selected database is valid.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">GNATSDBDIR</dt>
  <dd class="It-tag">The directory where the database contents are stored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">DEBUG_MODE</dt>
  <dd class="It-tag">Set to 1 if debug mode has been enabled for the
    database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">DEFAULTCATEGORY</dt>
  <dd class="It-tag">The default category for <i>PR</i>s in the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">DEFAULTSTATE</dt>
  <dd class="It-tag">The default state for <i>PR</i>s in the database.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-directory-for-database</b></dt>
  <dd class="It-tag">Returns the directory where the selected database is
      located.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--format</b>&#x00A0;<i>format</i>,&#x00A0;<b>-f</b>&#x00A0;<i>format</i></dt>
  <dd class="It-tag">Used to specify the format of the output <i>PR</i>s, See
      FORMATS below for a complete description.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--full</b>,&#x00A0;<b>-F</b></dt>
  <dd class="It-tag">When printing <i>PR</i>s, the entre PR is displayed. This
      is exactly equivalent to</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 1.00in;"><b>query-pr</b> <b>--format</b>
  <b>full</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--summary</b>,&#x00A0;<b>-q</b></dt>
  <dd class="It-tag">When printing <i>PR</i>s, a summary format is used. This is
      exactly equivalent to</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 1.00in;"><b>query-pr</b> <b>--format</b>
  <b>summary</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b>,&#x00A0;<b>-D</b></dt>
  <dd class="It-tag">Enables debugging output for network queries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host</b>&#x00A0;<i>host</i>,&#x00A0;<b>-H</b>&#x00A0;<i>host</i></dt>
  <dd class="It-tag">Specifies the hostname of the <b>gnatsd</b> server to
      communicate with. This overrides the value in the <b>GNATSDB</b>
      environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--port</b>&#x00A0;<i>port</i></dt>
  <dd class="It-tag">Specifies the port number of the <b>gnatsd</b> server to
      communicate with. This overrides the value in the <b>GNATSDB</b>
      environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--user</b>&#x00A0;<i>user</i>,&#x00A0;<b>-v</b>&#x00A0;<i>user</i></dt>
  <dd class="It-tag">Specifies the username to login with when connecting to the
      <b>gnatsd</b> server. This overrides the value in the <b>GNATSDB</b>
      environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--passwd</b>&#x00A0;<i>passwd</i>,&#x00A0;<b>-w</b>&#x00A0;<i>passwd</i></dt>
  <dd class="It-tag">Specifies the password to login with when connecting to the
      <b>gnatsd</b> server. This overrides the value in the <b>GNATSDB</b>
      environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--and</b>,&#x00A0;<b>-&amp;</b>,
    <b>--or</b>,&#x00A0;<b>-|,</b></dt>
  <dd class="It-tag">These options are used when connecting multiple query
      operators together. They specify whether the previous and subsequent
      options are to be logically <b>AND</b>ed or logically <b>OR</b>ed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--expr</b>&#x00A0;<i>expr</i></dt>
  <dd class="It-tag">Specifies a query expression to use when searching for PRs.
      See the <b>QUERY EXPRESSIONS</b> section.</dd>
</dl>
<div class="Pp"></div>
The remaining deprecated options are not described here, since their use is
  fairly obvious and their functionality is completely replaced by the use of
  the <b>--expr</b> option. (Some sort of shorthand option for querying fields
  may appear in the next release.)
<h1 class="Sh" title="Sh" id="FORMATS"><a class="selflink" href="#FORMATS">FORMATS</a></h1>
Printing formats for <i>PR</i>s are in one of three forms:
<dl class="Bl-tag">
  <dt class="It-tag"><b>formatname</b></dt>
  <dd class="It-tag">This is a <i>named format</i> which is described by the
      database (specifically, these formats are described in the <i>dbconfig</i>
      file associated with the database). The default configuration contains
      five such formats: <i>standard</i>, <i>full</i>, <i>summary</i>,
      <i>sql</i>, and <i>sql2</i>.</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">The first three are the ones most commonly
  used when performing queries. <i>standard</i> is the format used by default if
  no other format is specified.
<div class="Pp"></div>
Use of the latter two are discouraged; they are merely kept for historical
  purposes.
<div class="Pp"></div>
Other named formats may have been added by the database administrator.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fieldname</b></dt>
  <dd class="It-tag">A single field name may appear here. Only the contents of
      this field will be displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00B4;&quot;<i>printf string</i>&quot; <i>fieldname</i>
    <i>fieldname</i> . . .&#x00B4;</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    This provides a rather flexible mechanism for formatting <i>PR</i> output.
      (The formatting is identical to that provided by the named formats
      described by the database configuration.) The printf string can contain
      the following % sequences:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;"><b>%[positionalspecifiers]s</b>: Prints the
  field as a string. The positional specifiers are similar to those of printf,
  as +, - and digit qualifiers can be used to force a particular alignment of
  the field contents.
<div class="Pp"></div>
<b>%[positionalspecifiers]S</b>: Similar to %s, except that the field contents
  are terminated at the first space character.
<div class="Pp"></div>
<b>%[positionalspecifiers]d</b>: Similar to %s, except that the field contents
  are written as a numeric value. For integer fields, the value is written as a
  number. For enumerated fields, the field is converted into a numeric
  equivalent (i.e. if the field can have two possible values, the result will be
  either 1 or 2). For date fields, the value is written as seconds since Jan 1,
  1970.
<div class="Pp"></div>
<b>%F</b>: The field is written as it would appear within a <i>PR</i>, complete
  with field header.
<div class="Pp"></div>
<b>%D</b>: For date fields, the date is written in a standard GNATS format.
<div class="Pp"></div>
<b>%Q</b>: For date fields, the date is written in an arbitrary &quot;SQL&quot;
  format.
<div class="Pp"></div>
An example printf formatted query (note the quoting of the whole format
  specification):
<div class="Pp"></div>
query-pr --format '&quot;%s, %s&quot; Synopsis State'</div>
<h1 class="Sh" title="Sh" id="QUERY_EXPRESSIONS"><a class="selflink" href="#QUERY_EXPRESSIONS">QUERY
  EXPRESSIONS</a></h1>
Query expressions are used to select specific <i>PR</i>s based on their field
  contents. The general form is
<div class="Pp"></div>
<div style="margin-left: 5.00ex;"><i>fieldname</i>|&quot;<i>value</i>&quot;
  <i>operator</i> <i>fieldname</i>|&quot;<i>value</i>&quot; [<i>booleanop</i>
  ...]</div>
<div class="Pp"></div>
<i>value</i> is a literal string or regular expression; it must be surrounded by
  double quotes, otherwise it is interpreted as a <i>fieldname</i>.
<div class="Pp"></div>
<i>fieldname</i> is the name of a field in the <i>PR</i>.
<div class="Pp"></div>
<i>operator</i> is one of:
<dl class="Bl-tag">
  <dt class="It-tag"><i>=</i></dt>
  <dd class="It-tag">The value of the left-hand side of the expression must
      exactly match the regular expression on the right-hand side of the
      expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>~</i></dt>
  <dd class="It-tag">Some portion of the left-hand side of the expression must
      match the regular expression on the right-hand side.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>==</i></dt>
  <dd class="It-tag">The value of the left-hand side must be equal to the value
      on the right-hand side of the expression.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The equality of two values depends on what type of data is stored in the
  field(s) being queried. For example, when querying a field containing integer
  values, literal strings are interpreted as integers. The query expression
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">Number == &quot;0123&quot;</div>
<div class="Pp"></div>
is identical to
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">Number == &quot;123&quot;</div>
<div class="Pp"></div>
as the leading zero is ignored. If the values were treated as strings instead of
  integers, then the two comparisons would return different results.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>!=</i></dt>
  <dd class="It-tag">The not-equal operator. Produces the opposite result of the
      <i>==</i> operator.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>&lt;</i>,<i>&gt;</i></dt>
  <dd class="It-tag">The left-hand side must have a value less than or greater
      than the right-hand side. Comparisons are done depending on the type of
      data being queried; in particular, integer fields and dates use a numeric
      comparison, and enumerated fields are ordered depending on the numeric
      equivalent of their enumerated values.</dd>
</dl>
<div class="Pp"></div>
<i>booleanop</i> is either | [or], or &amp; [and]. The query expression
<div style="margin-left: 5.00ex;">Category=&quot;baz&quot; |
  Responsible=&quot;blee&quot;</div>
is identical to the second query example with <b>--or</b> given earlier; it
  selects all <i>PR</i>s with a Category field of <i>baz</i> or a Responsible
  field of <i>blee</i>.
<div class="Pp"></div>
The not operator <i>!</i> may be used to negate a test:
<div style="margin-left: 5.00ex;">! Category=&quot;foo&quot;</div>
searches for <i>PR</i>s where the category is <i>not</i> equal to the regular
  expression <i>foo</i>.
<div class="Pp"></div>
Parenthesis may be used to force a particular interpretation of the expression:
<div style="margin-left: 5.00ex;">!(Category=&quot;foo&quot; &amp;
  Submitter-Id=&quot;blaz&quot;)</div>
skips <i>PR</i>s where the <b>Category</b> field is equal to <i>foo</i> and the
  <b>Submitter-Id</b> field is equal to <i>blaz</i>. Parenthesis may be nested
  to any arbitrary depth.
<div class="Pp"></div>
Fieldnames can be specified in several ways. The simplest and most obvious is
  just a name:
<div style="margin-left: 5.00ex;">Category=&quot;foo&quot;</div>
checks the value of the category field for the value &quot;foo&quot;.
<div class="Pp"></div>
A fieldname qualifier may be prepended to the name of the field; a colon is used
  to separate the qualifier from the name. To refer directly to a builtin field
  name:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">builtin:Number=&quot;123&quot;</div>
<div class="Pp"></div>
In this case, <i>Number</i> is interpreted as the builtin name of the field to
  check. (This is useful if the fields have been renamed. For more discussion of
  builtin field names, see dbconfig(5).)
<div class="Pp"></div>
To scan all fields of a particular type, the <i>fieldtype</i> qualifier may be
  used:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">fieldtype:Text=&quot;bar&quot;</div>
<div class="Pp"></div>
searches all text fields for the regular expression <i>bar</i>.
<div class="Pp"></div>
Note that it is not necessary that the right-hand side of the expression be a
  literal string. To query all <i>PR</i>s where the <i>PR</i> has been modified
  since it was closed, the expression
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">Last-Modified != Closed-Date</div>
<div class="Pp"></div>
will work; for each <i>PR</i>, it compares the value of its Last-Modified field
  against its Closed-Date field, and returns those <i>PR</i>s where the values
  differ. However, this query will also return all <i>PR</i>s with empty
  Last-Modified or Closed-Date fields. To further narrow the search:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">Last-Modified != Closed-Date &amp;
  Last-Modified != &quot;&quot; &amp; Closed-Date != &quot;&quot;</div>
<div class="Pp"></div>
In general, comparing fields of two different types (an integer field against a
  date field, for example) will probably not do what you want.
<div class="Pp"></div>
Also, a field specifier may be followed by the name of a subfield in braces:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">State[type] != &quot;closed&quot;</div>
<div class="Pp"></div>
or even
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">builtin:State[type] !=
  &quot;closed&quot;</div>
<div class="Pp"></div>
Subfields are further discussed in dbconfig(5).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="QUERY_BY_MAIL"><a class="selflink" href="#QUERY_BY_MAIL">QUERY
  BY MAIL</a></h1>
<b>query-pr</b> can also be accessed by electronic mail, if your version of
  GNATS is configured for this. To use this feature, simply send mail to the
  address <b>query-pr@</b><i>your-site</i> with command line arguments or
  options in the <b>Subject:</b> line of the mail header. GNATS replies to your
  mail with the results of your query. The default settings for the
  <b>query-pr</b> mail server are shown below; to override the <b>--state</b>
  parameter, specify <b>--state=</b><i>state</i> in the <b>Subject:</b> line of
  the mail header. You can not query on confidential Problem Reports by mail.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--restricted
    --state=&quot;open|analyzed|feedback|suspended&quot;</b></dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The <b>GNATSDB</b> environment variable is used to determine which database to
  use. For a local database, it contains the name of the database to access.
<div class="Pp"></div>
For network access via <i>gnatsd</i>, it contains a colon-separated list of
  strings that describe the remote database in the form
<dl class="Bl-tag">
  <dt class="It-tag"><i>server</i>:<i>port</i>:<i>databasename</i>:<i>username</i>:<i>password</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
Any of the fields may be omitted except for <i>server</i>, but at least one
  colon must appear; otherwise, the value is assumed to be the name of a local
  database.
<div class="Pp"></div>
If <b>GNATSDB</b> is not set, it is assumed that the database is local and that
  its name is <i>default</i>.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>Keeping Track: Managing Messages With GNATS</i> (also installed as the GNU
  Info file <b>gnats.info</b>)
<div class="Pp"></div>
<b>databases</b>(5), <b>dbconfig</b>(5), <b>delete-pr</b>(8), <b>edit-pr</b>(1)
  <b>file-pr</b>(8), <b>gen-index</b>(8), <b>gnats</b>(7), <b>gnatsd</b>(8),
  <b>mkcat</b>(8), <b>mkdb</b>(8), <b>pr-edit</b>(8), <b>query-pr</b>(1),
  <b>queue-pr</b>(8), <b>send-pr</b>(1).
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright (c) 1993, 94, 95, 96, 1997, 1999, 2003, Free Software Foundation, Inc.
<div class="Pp"></div>
Permission is granted to make and distribute verbatim copies of this manual
  provided the copyright notice and this permission notice are preserved on all
  copies.
<div class="Pp"></div>
Permission is granted to copy and distribute modified versions of this manual
  under the conditions for verbatim copying, provided that the entire resulting
  derived work is distributed under the terms of a permission notice identical
  to this one.
<div class="Pp"></div>
Permission is granted to copy and distribute translations of this manual into
  another language, under the above conditions for modified versions, except
  that this permission notice may be included in translations approved by the
  Free Software Foundation instead of in the original English.</div>
<table class="foot">
  <tr>
    <td class="foot-date">August 2003</td>
    <td class="foot-os">GNATS </td>
  </tr>
</table>
</body>
</html>
