<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:36:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>r.topmodel(1grass) Grass User&rsquo;s Manual
r.topmodel(1grass)</p>

<p style="margin-top: 1em">NAME <br>
r.topmodel - Simulates TOPMODEL which is a physically based
hydrologic model.</p>

<p style="margin-top: 1em">KEYWORDS <br>
raster, hydrology, model</p>

<p style="margin-top: 1em">SYNOPSIS <br>
r.topmodel <br>
r.topmodel --help <br>
r.topmodel [-p] parameters=name topidxstats=name input=name
output=name [timestep=integer] [topidxclass=integer]
[topidx=name] [ntopidxclasses=integer] [outtopidxs&acirc;
<br>
tats=name] [--overwrite] [--help] [--verbose] [--quiet]
[--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-p <br>
Preprocess only and stop after generating outtopidxstats</p>

<p style="margin-top: 1em">--overwrite <br>
Allow output files to overwrite existing files</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
parameters=name [required] <br>
Name of input TOPMODEL parameters file</p>

<p style="margin-top: 1em">topidxstats=name [required] <br>
Name of input topographic index statistics file</p>

<p style="margin-top: 1em">input=name [required] <br>
Name of input rainfall and potential evapotranspiration data
file</p>

<p style="margin-top: 1em">output=name [required] <br>
Name for output file</p>

<p style="margin-top: 1em">timestep=integer <br>
Time step <br>
Generate output for this time step</p>

<p style="margin-top: 1em">topidxclass=integer <br>
Topographic index class <br>
Generate output for this topographic index class</p>

<p style="margin-top: 1em">topidx=name <br>
Name of input topographic index raster map <br>
Must be clipped to the catchment boundary. Used for
generating outtopidxstats</p>

<p style="margin-top: 1em">ntopidxclasses=integer <br>
Number of topographic index classes <br>
Used for generating outtopidxstats <br>
Default: 30</p>

<p style="margin-top: 1em">outtopidxstats=name <br>
Name for output topographic index statistics file <br>
Requires topidx and ntopidxclasses</p>

<p style="margin-top: 1em">DESCRIPTION <br>
r.topmodel simulates TOPMODEL which is a physically based
hydrologic model.</p>

<p style="margin-top: 1em">Parameters description <br>
parameters <br>
This file contains TOPMODEL parameters that describe the
study area. Any lines starting with a # sign or empty lines
are ignored. <br>
# Subcatchment name <br>
Subcatchment 1 <br>

################################################################################
<br>
# A [m^2]: Total subcatchment area <br>
3.31697E+07 <br>

################################################################################
<br>
# qs0 [m/h]: Initial subsurface flow per unit area <br>
# &quot;The first streamflow input is assumed to represent
<br>
# only the subsurface flow contribution in the
watershed.&quot; <br>
# - Liaw (1988) <br>
0.000075 <br>
# lnTe [ln(m^2/h)]: Areal average of the soil surface
transmissivity <br>
4. <br>
# m [m]: Scaling parameter <br>
0.0125 <br>
# Sr0 [m]: Initial root zone storage deficit <br>
0.0025 <br>
# Srmax [m]: Maximum root zone storage deficit <br>
0.041 <br>
# td [h]: Unsaturated zone time delay per unit storage
deficit if greater than 0 <br>
# OR <br>
# -alpha: Effective vertical hydraulic gradient if not
greater than 0. <br>
# <br>
# For example, -10 means alpha=10. <br>
60. <br>
# vch [m/h]: Main channel routing velocity <br>
20000. <br>
# vr [m/h]: Internal subcatchment routing velocity <br>
10000. <br>

################################################################################
<br>
# infex: Calculate infiltration excess if not zero (integer)
<br>
0 <br>
# K0 [m/h]: Surface hydraulic conductivity <br>
2. <br>
# psi [m]: Wetting front suction <br>
0.1 <br>
# dtheta: Water content change across the wetting front <br>
0.1 <br>

################################################################################
<br>
# d [m]: Distance from the catchment outlet <br>
# The first value should be the mainstream distance from
<br>
# the subcatchment outlet to the catchment outlet. <br>
# Ad_r: Cumulative area ratio of subcatchment (0.0 to 1.0)
<br>
# The first and last values should be 0 and 1, respectively.
<br>
# d Ad_r <br>
0 0.0 <br>
1000 0.2 <br>
2000 0.4 <br>
3000 0.6 <br>
4000 0.8 <br>
5000 1.0</p>

<p style="margin-top: 1em">input</p>

<p style="margin-top: 1em">This file contains observed
weather data. <br>
# dt [h]: Time step <br>
24 <br>

################################################################################
<br>
# R [m/dt]: Rainfall <br>
# Ep [m/dt]: Potential evapotranspiration <br>
# R Ep <br>
0.000033 0.000000 <br>
0.000053 0.011938 <br>
0.004821 0.000000 <br>
. <br>
. <br>
.</p>

<p style="margin-top: 1em">timestep <br>
If a time step is specified, output will be generated for
the specific time step in addition to the summary and total
flows at the outlet. This parameter can be combined with
<br>
topidxclass to specify a time step and topographic index
class at the same time. If no topidxclass is given, output
will be generated for all the topographic index classes.</p>

<p style="margin-top: 1em">toptopidxclass <br>
If a topographic index class is specified, output will be
generated for the given topographic index class. This
parameter can be combined with timestep. If no timestep is
<br>
given, output will be generated for all the time steps.</p>

<p style="margin-top: 1em">topidx, ntoptopidxclasses,
outtoptopidxstats <br>
The topidx map can optionally be used for creating a new
topographic index statistics file. This map has to be
already clipped to the catchment boundary. The entire range
of <br>
topographic index values will be divided into
ntoptopidxclasses and the area ratio of each class will be
reported in the outtoptopidxstats file. These three
parameters can be <br>
omitted unless a new topidxstats file needs to be
created.</p>

<p style="margin-top: 1em">REFERENCES <br>
&Acirc;&middot; Cho, H., 2000. GIS Hydrological Modeling
System by Using Programming Interface of GRASS.
Master&acirc;s Thesis, Department of Civil Engineering,
Kyungpook National University, <br>
Korea.</p>

<p style="margin-top: 1em">&Acirc;&middot; Beven K., R.
Lamb, P. Quinn, R. Romanowicz, and J. Freer, 1995. TOPMODEL,
in V.P. Singh (Ed.). Computer Models of Watershed Hydrology.
Water Resources Publications.</p>

<p style="margin-top: 1em">&Acirc;&middot; Liaw, S.C.,
1988. Streamflow Simulation Using a Physically Based
Hydrologic Model in Humid Forested Watersheds. Dissertation,
Colorado State University, CO. p163.</p>

<p style="margin-top: 1em">SEE ALSO <br>
r.fill.dir, r.mapcalc, r.topidx <br>
How to run r.topmodel</p>

<p style="margin-top: 1em">AUTHORS <br>
Huidae Cho, Hydro Laboratory, Kyungpook National University,
South Korea</p>

<p style="margin-top: 1em">Based on TMOD9502.FOR by Keith
Beven.</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-06-30
11:31:29 +0200 (Thu, 30 Jun 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: r.topmodel source code (history)</p>

<p style="margin-top: 1em">Main index | Raster index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0
r.topmodel(1grass)</p>
<hr>
</body>
</html>
