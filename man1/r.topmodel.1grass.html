<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.topmodel(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.topmodel(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.topmodel(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.topmodel</b> - Simulates TOPMODEL which is a physically based
  hydrologic model.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, hydrology, model
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.topmodel</b>
<div>&#x00A0;</div>
<b>r.topmodel --help</b>
<div>&#x00A0;</div>
<b>r.topmodel</b> [-<b>p</b>] <b>parameters</b>=<i>name</i>
  <b>topidxstats</b>=<i>name</i> <b>input</b>=<i>name</i>
  <b>output</b>=<i>name</i> [ <b>timestep</b>=<i>integer</i>]
  [<b>topidxclass</b>= <i>integer</i>] [<b>topidx</b>=<i>name</i>]
  [<b>ntopidxclasses</b>= <i>integer</i>] [<b>outtopidxstats</b>=<i>name</i>]
  [-- <b>overwrite</b>] [--<b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Preprocess only and stop after generating outtopidxstats</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>parameters</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input TOPMODEL parameters file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>topidxstats</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input topographic index statistics file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input rainfall and potential evapotranspiration data file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>timestep</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Time step
    <div>&#x00A0;</div>
    Generate output for this time step</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>topidxclass</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Topographic index class
    <div>&#x00A0;</div>
    Generate output for this topographic index class</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>topidx</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input topographic index raster map
    <div>&#x00A0;</div>
    Must be clipped to the catchment boundary. Used for generating
      outtopidxstats</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ntopidxclasses</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Number of topographic index classes
    <div>&#x00A0;</div>
    Used for generating outtopidxstats
    <div>&#x00A0;</div>
    Default: <i>30</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>outtopidxstats</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output topographic index statistics file
    <div>&#x00A0;</div>
    Requires topidx and ntopidxclasses</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.topmodel</i> simulates TOPMODEL which is a physically based hydrologic
  model.
<h2 class="Ss" title="Ss" id="Parameters_description"><a class="selflink" href="#Parameters_description">Parameters
  description</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>parameters</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This file contains TOPMODEL parameters that describe the study area. Any
      lines starting with a # sign or empty lines are ignored.
    <div>&#x00A0;</div>
    <pre>
# Subcatchment name
Subcatchment 1
################################################################################
# A [m^2]: Total subcatchment area
3.31697E+07
################################################################################
# qs0 [m/h]: Initial subsurface flow per unit area
#		&quot;The first streamflow input is assumed to represent
#		 only the subsurface flow contribution in the watershed.&quot;
#								- Liaw (1988)
0.000075
# lnTe [ln(m^2/h)]: Areal average of the soil surface transmissivity
4.
# m [m]: Scaling parameter
0.0125
# Sr0 [m]: Initial root zone storage deficit
0.0025
# Srmax [m]: Maximum root zone storage deficit
0.041
# td [h]: Unsaturated zone time delay per unit storage deficit if greater than 0
#  OR
# -alpha: Effective vertical hydraulic gradient if not greater than 0.
#
# For example, -10 means alpha=10.
60.
# vch [m/h]: Main channel routing velocity
20000.
# vr [m/h]: Internal subcatchment routing velocity
10000.
################################################################################
# infex: Calculate infiltration excess if not zero (integer)
0
# K0 [m/h]: Surface hydraulic conductivity
2.
# psi [m]: Wetting front suction
0.1
# dtheta: Water content change across the wetting front
0.1
################################################################################
# d [m]: Distance from the catchment outlet
#		The first value should be the mainstream distance from
#		the subcatchment outlet to the catchment outlet.
# Ad_r:  Cumulative area ratio of subcatchment (0.0 to 1.0)
#		The first and last values should be 0 and 1, respectively.
#   d  Ad_r
    0   0.0
 1000   0.2
 2000   0.4
 3000   0.6
 4000   0.8
 5000   1.0
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This file contains observed weather data.
    <div>&#x00A0;</div>
    <pre>
# dt [h]: Time step
24
################################################################################
# R [m/dt]:  Rainfall
# Ep [m/dt]: Potential evapotranspiration
# R             Ep
0.000033        0.000000
0.000053        0.011938
0.004821        0.000000
.
.
.
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>timestep</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    If a time step is specified, output will be generated for the specific time
      step in addition to the summary and total flows at the outlet. This
      parameter can be combined with <b>topidxclass</b> to specify a time step
      and topographic index class at the same time. If no <b>topidxclass</b> is
      given, output will be generated for all the topographic index
    classes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>toptopidxclass</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    If a topographic index class is specified, output will be generated for the
      given topographic index class. This parameter can be combined with
      <b>timestep</b>. If no <b>timestep</b> is given, output will be generated
      for all the time steps.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>topidx</b>, <b>ntoptopidxclasses</b>,
    <b>outtoptopidxstats</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The <b>topidx</b> map can optionally be used for creating a new topographic
      index statistics file. This map has to be already clipped to the catchment
      boundary. The entire range of topographic index values will be divided
      into <b>ntoptopidxclasses</b> and the area ratio of each class will be
      reported in the <b>outtoptopidxstats</b> file. These three parameters can
      be omitted unless a new <b>topidxstats</b> file needs to be created.</dd>
</dl>
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Cho, H., 2000. GIS Hydrological Modeling System by Using
      Programming Interface of GRASS. Master&#x2019;s Thesis, Department of
      Civil Engineering, Kyungpook National University, Korea.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Beven K., R. Lamb, P. Quinn, R. Romanowicz, and J. Freer,
      1995. TOPMODEL, in V.P. Singh (Ed.). Computer Models of Watershed
      Hydrology. Water Resources Publications.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Liaw, S.C., 1988. Streamflow Simulation Using a Physically
      Based Hydrologic Model in Humid Forested Watersheds. Dissertation,
      Colorado State University, CO. p163.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>r.fill.dir,</i> <i>r.mapcalc,</i> <i>r.topidx</i> <i></i>
<div>&#x00A0;</div>
How to run r.topmodel
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Huidae Cho, Hydro Laboratory, Kyungpook National University, South Korea
<div class="Pp"></div>
Based on TMOD9502.FOR by Keith Beven.
<div class="Pp"></div>
<i>Last changed: $Date: 2016-06-30 11:31:29 +0200 (Thu, 30 Jun 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.topmodel source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
