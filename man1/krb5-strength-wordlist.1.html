<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KRB5-STRENGTH-WORDLIST(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KRB5-STRENGTH-WORDLIST(1)</td>
    <td class="head-vol">krb5-strength</td>
    <td class="head-rtitle">KRB5-STRENGTH-WORDLIST(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
krb5-strength-wordlist - Create a krb5-strength database from a word list
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>krb5-strength-wordlist</b> [<b>-am</b>] [<b>-c</b> <i>output-cdb</i>]
  [<b>-l</b> <i>min-length</i>]
<br/>
 [ <b>-L</b> <i>max-length</i>] [<b>-o</b> <i>output-wordlist</i>] [<b>-s</b>
  <i>output-sqlite</i>]
<br/>
 [ <b>-x</b> <i>exclude</i> ...] <i>wordlist</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>krb5-strength-wordlist</b> converts a word list (a file containing one word
  per line) into a database that can be used by the krb5-strength plugin or
  <b>heimdal-strength</b> command for checking passwords. Two database formats
  are supported, with different features. CDB is more space-efficient and
  possibly faster, but supports checking passwords only against exact matches or
  simple transformations (removing small numbers of leading and trailing
  characters). SQLite creates a much larger database, but supports rejecting any
  password within edit distance one of a word in the word list.
<div class="Pp"></div>
CDB is a format invented by Dan Bernstein for fast, constant databases. The
  database is fixed during creation and cannot be changed without rebuilding it,
  and is optimized for very fast access. For cdb, the database generated by this
  program will have keys for each word in the word list and the constant 1 as
  the value.
<div class="Pp"></div>
SQLite stores the word list in a single table containing both each word and each
  word reversed. This allows the krb5-strength plugin or <b>heimdal-strength</b>
  command to reject passwords within edit distance one of any word in the word
  list. (Edit distance one means that the word list entry can be formed by
  changing a single character of the password, either by adding one character,
  removing one character, or changing one character to a different character.)
  However, the SQLite database will be much larger and lookups may be somewhat
  slower.
<div class="Pp"></div>
<b>krb5-strength-wordlist</b> takes one argument, the input word list file. Use
  the <b>-c</b> option to specify an output CDB file, <b>-s</b> to specify an
  output SQLite file, or <b>-o</b> to just filter the word list against the
  criteria given on the command line and generate a new word list. The input
  word list file does not have to be sorted. See the individual option
  descriptions for more information.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--ascii</b></dt>
  <dd class="It-tag">Filter all words that contain non-ASCII characters or
      control characters from the resulting cdb file, leaving only words that
      consist solely of ASCII non-control characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>output-cdb</i>,
    <b>--cdb</b>=<i>output-cdb</i></dt>
  <dd class="It-tag">Create a CDB database in <i>output-cdb</i>. A temporary
      file named after <i>output-cdb</i> with &quot;.data&quot; appended will be
      created in the same directory and used to stage the database contents. The
      actual CDB file will be built using the <b>cdb</b> command, which must be
      on the user's path. If either file already exists,
      <b>krb5-strength-wordlist</b> will abort with an error.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option cannot be used with <b>-o</b> or <b>-s</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b> <i>maximum</i>,
    <b>--max-length</b>=<i>maximum</i></dt>
  <dd class="It-tag">Filter all words of length greater than <i>maximum</i> from
      the resulting cdb database. The length of each line (minus the separating
      newline) in the input word list will be checked against <i>minimum</i> and
      will be filtered out of the resulting database if it is shorter. Useful
      for generating password dictionaries from word lists that contain random
      noise that's highly unlikely to be used as a password.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default is to not filter out any words for maximum length.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> <i>minimum</i>,
    <b>--min-length</b>=<i>minimum</i></dt>
  <dd class="It-tag">Filter all words of length less than <i>minimum</i> from
      the resulting cdb database. The length of each line (minus the separating
      newline) in the input word list will be checked against <i>minimum</i> and
      will be filtered out of the resulting database if it is shorter. Useful
      for generating password dictionaries where shorter passwords will be
      rejected by a generic length check and no dictionary lookup will be done
      for a transform of the password shorter than the specified minimum.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default is not to filter out any words for minimum length.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--man</b>, <b>--manual</b></dt>
  <dd class="It-tag">Print out this documentation (which is done simply by
      feeding the script to &quot;perldoc -t&quot;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> <i>wordlist</i>,
    <b>--output</b>=<i>wordlist</i></dt>
  <dd class="It-tag">Rather than creating a database, apply the filter rules
      given by the other command-line arguments and generate a new word list in
      the file name given by the <i>wordlist</i> option. This can be used to
      reduce the size of a raw word list file (such as one taken from Internet
      sources) by removing the words that will be filtered out of the dictionary
      anyway, thus reducing the size of the source required to regenerate the
      dictionary.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option cannot be used with <b>-c</b> or <b>-s</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>output-sqlite</i>,
    <b>--sqlite</b>=<i>output-sqlite</i></dt>
  <dd class="It-tag">Create a SQLite database in <i>output-sqlite</i>. If this
      file already exists, <b>krb5-strength-wordlist</b> will abort with an
      error. The resulting SQLite database will have one table,
      &quot;passwords&quot;, with two columns, &quot;password&quot; and
      &quot;drowssap&quot;. The first holds a word from the word list, and the
      second holds the same word reversed.
    <div style="height: 1.00em;">&#x00A0;</div>
    Using this option requires the DBI and DBD::SQLite Perl modules be
      installed.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option cannot be used with <b>-c</b> or <b>-o</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b> <i>exclude</i>,
    <b>--exclude</b>=<i>exclude</i></dt>
  <dd class="It-tag">Filter all words matching the regular expression
      <i>exclude</i> from the resulting cdb database. This regular expression
      will be matched against each line of the source word list after the
      trailing newline is removed. This option may be given repeatedly to add
      multiple exclusion regexes.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Russ Allbery &lt;eagle@eyrie.org&gt;
<h1 class="Sh" title="Sh" id="COPYRIGHT_AND_LICENSE"><a class="selflink" href="#COPYRIGHT_AND_LICENSE">COPYRIGHT
  AND LICENSE</a></h1>
Copyright 2016 Russ Allbery &lt;eagle@eyrie.org&gt;
<div class="Pp"></div>
Copyright 2013, 2014 The Board of Trustees of the Leland Stanford Junior
  University
<div class="Pp"></div>
Permission is hereby granted, free of charge, to any person obtaining a copy of
  this software and associated documentation files (the &quot;Software&quot;),
  to deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
<div class="Pp"></div>
The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
<div class="Pp"></div>
THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO
  EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES
  OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
  DEALINGS IN THE SOFTWARE.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>cdb</i>(1), DBI, DBD::SQLite
<div class="Pp"></div>
The cdb file format is defined at &lt;http://cr.yp.to/cdb.html&gt;.
<div class="Pp"></div>
The current version of this program is available from its web page at
  &lt;https://www.eyrie.org/~eagle/software/krb5-strength/&gt; as part of the
  krb5-strength package.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-12-25</td>
    <td class="foot-os">3.1</td>
  </tr>
</table>
</body>
</html>
