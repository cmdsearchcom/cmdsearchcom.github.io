<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GBP-PQ(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GBP-PQ(1)</td>
    <td class="head-vol">git-buildpackage Manual</td>
    <td class="head-rtitle">GBP-PQ(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gbp-pq - Manage quilt patches on patch queue branches in git
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gbp&#x00A0;pq</b> [ <b>--version</b> ] [ <b>--help</b> ] [ <b>--verbose</b> ]
  [ <b>--color=</b><i>[auto|on|off]</i><b></b> ] [
  <b>--color-scheme=</b><i>COLOR_SCHEME</i> <b></b> ] [
  <b>--[no-]patch-numbers</b> ] [ <b>--patch-num-format=</b><i>format</i><b></b>
  ] [ <b>--[no-]renumber</b> ] [ <b>--topic=</b><i>topic</i><b></b> ] [
  <b>--time-machine=</b> <i>num</i><b></b> ] [ <b>--[no-]drop</b> ] [
  <b>--force</b> ] [ <b>--meta-closes=bug-close-tags</b> ] [
  <b>--meta-closes-bugnum=bug-number-format</b> ] [
  <b>--pq-from=</b><i>[DEBIAN|TAG]</i> <b></b> ] [
  <b>--upstream-tag=</b><i>tag-format</i> <b></b> ] <b>drop</b> | <b>export</b>
  | <b>import</b> | <b>rebase</b> | <b>switch</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>gbp&#x00A0;pq</b> helps one to manage quilt patches in Debian packages that
  are maintained with <b>gbp</b>. This is especially useful with packages using
  the 3.0 (quilt) source format. With <b>gbp&#x00A0;pq</b>, you can maintain the
  quilt patches that should be applied to a package on a separate branch called
  patch-queue branch. So if your Debian package lives on <i>master</i>, the
  associated patch-queue branch will be called <i>patch-queue/master</i>.
<div class="Pp"></div>
See
  &lt;URL:https://honk.sigxcpu.org/piki/development/debian_packages_in_git/&gt;
  for example workflows.
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import </b></dt>
  <dd class="It-tag">Create a patch queue branch from quilt patches in
      debian/patches/ that are listed in debian/patches/series. The patches must
      apply without fuzz.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>export </b></dt>
  <dd class="It-tag">Export the patches on the patch-queue branch associated to
      the current branch into a quilt patch series in debian/patches/ and update
      the series file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rebase </b></dt>
  <dd class="It-tag">Switch to the patch-queue branch associated to the current
      branch and rebase it against the current branch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drop </b></dt>
  <dd class="It-tag">Drop (delete) the patch queue associated to the current
      branch. So if you're on branch <i>foo</i>, this would drop branch
      <i>patch-queue/foo</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>apply </b></dt>
  <dd class="It-tag">Add a single patch to the patch-queue similar to using
      <b>git-am</b>. Use <b>--topic</b> if you want the patch to appear in a
      separate subdir when exporting the patch queue using <b>export</b>. This
      can be used to separate upstream patches from Debian specific
    patches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>switch </b></dt>
  <dd class="It-tag">Switch to the patch-queue branch if on the base branch and
      switch to base branch if on patch-queue branch.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print version of the program, i.e. version of the
      git-buildpackage suite</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Verbose execution</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Print help and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--color=</b><i>[auto|on|off]</i><b> </b></dt>
  <dd class="It-tag">Whether to use colored output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--color-scheme=</b><i>COLOR_SCHEME</i><b> </b></dt>
  <dd class="It-tag">Colors to use in output (when color is enabled). The format
      for COLOR_SCHEME is
      '&lt;debug&gt;:&lt;info&gt;:&lt;warning&gt;:&lt;error&gt;'. Numerical
      values and color names are accepted, empty fields imply the default color.
      For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug
      messages in cyan, info messages in blue and other messages in default
      (i.e. warning and error messages in red).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--[no-]patch-numbers </b></dt>
  <dd class="It-tag">Whether or not the patch files should be prefixed with a
      number. The default is to export patches with patch numbers. Note,
      however, that this normally affects patches whose names are automatically
      generated, and has no effect on exporting patches which have a
      <b>Gbp[-Pq]: Name</b> tag, since the name specified is preserved unless
      the <b>--renumber</b> option is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patch-num-format=</b><i>format</i><b> </b></dt>
  <dd class="It-tag">The format specifier for patch number prefixes. The default
      format is '%04d-'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--[no-]renumber </b></dt>
  <dd class="It-tag">Whether or not to renumber patches exported from the patch
      queue, instead of preserving numbers specified in <b>Gbp-Pq: Name</b>
      tags. The default is not to renumber patches. Useful when patches need to
      be renamed for the sake of uniformity. For example, using
      <b>--renumber</b> with <b>--no-patch-num</b> will strip all numeric
      prefixes from exported patches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--topic=</b><i>topic</i><b> </b></dt>
  <dd class="It-tag">Topic to use when importing a single patch</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--time-machine=</b><i>NUM</i><b> </b></dt>
  <dd class="It-tag">When importing a patch queue fails, go back
      commit-by-commit on the current branch to check if the patch-queue applies
      there. Do this at most <i>NUM</i> times. This can be useful if the
      patch-queue doesn't apply to the current branch HEAD anymore, e.g. after
      importing a new upstream version.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--[no-]drop</b></dt>
  <dd class="It-tag">Whether to automatically drop (delete) the patch queue
      branch after a successful export</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force</b></dt>
  <dd class="It-tag">In case of <b>import</b>, import even if the patch-queue
      branch already exists and overwrite its content with
      <i>debian/patches</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--meta-closes=</b><i>bug-close-tags</i><b> </b></dt>
  <dd class="It-tag">What meta tags to look for to generate a commit message
      when using <b>export</b> <b>--commit</b>. The default is 'Closes|LP' to
      support Debian and Launchpad.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--meta-closes-bugnum=</b><i>bug-number-format</i><b>
    </b></dt>
  <dd class="It-tag">What regular expression should be used to parse out the bug
      number when using <b>export</b> <b>--commit</b>. The default is
      '(?:bug|issue)?\#?\s?\d+'. See <b>gbp-dch</b>(1)&gt; for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pq-from=</b><i>[DEBIAN|TAG]</i><b> </b></dt>
  <dd class="It-tag">How to find the starting point for the patch queue base.
      The options are DEBIAN, that will use the Debian branch as the base for
      the patch queue branch, and TAG, that will use the corresponding upstream
      tag as a base for the patch queue branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is only needed if your upstream branch is not merged in the Debian
      branch. The default is <i>DEBIAN</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-tag=</b><i>TAG-FORMAT</i><b> </b></dt>
  <dd class="It-tag">Use this tag format when looking for tags of upstream
      versions, default is <i>upstream/%(version)s</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="TAGS"><a class="selflink" href="#TAGS">TAGS</a></h1>
When exporting patches from a patch-queue branch, <b>gbp&#x00A0;pq</b> will look
  at the patch header for special tags it recognizes. All tags need to start at
  the first column and require at least one whitespace after the colon.
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp[-Pq]: Ignore </b></dt>
  <dd class="It-tag">Ignores the commit, no patch is generated out of it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp[-Pq]: Name </b><i>name</i><b> </b></dt>
  <dd class="It-tag">The name to use for the patch when running
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>gbp&#x00A0;pq</b> export
    </pre>
    If unset, it will be formatted like <b>git am</b> would format it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp[-Pq]: Topic </b><i>topic</i><b> </b></dt>
  <dd class="It-tag">Moves the patch into a subdir called <i>topic</i> when
      running
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>gbp&#x00A0;pq</b> export
    </pre>
    This allows for some structure below <i>debian/patches</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp-Pq-Topic: </b><i>topic</i><b> </b></dt>
  <dd class="It-tag">Deprecated: use <b>Gbp[-Pq]: Topic</b> <i>topic</i>
      instead.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gbp-buildpackage</b>(1)&gt;, <b>dpkg-source</b>(1), <b>quilt</b>(1),
  <b>gbp.conf</b>(5)&gt;
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Guido Guenther &lt;agx@sigxcpu.org&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">07 February 2017</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
