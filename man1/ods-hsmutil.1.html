<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ods-hsmutil(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ods-hsmutil(1)</td>
    <td class="head-vol">OpenDNSSEC ods-hsmutil</td>
    <td class="head-rtitle">ods-hsmutil(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>ods-hsmutil</b> - OpenDNSSEC HSM utility
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ods-hsmutil</b> [<b>-c</b> <i>config</i>] [<b>-v</b>] <b>command</b>
  [<b>options</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The ods-hsmutil utility is mainly used for debugging or testing. It is designed
  to interact directly with your HSM and can be used to manually list, create or
  delete keys. It can also be used to perform a set of basics HSM tests. Be
  careful before creating or deleting keys using ods-hsmutil, as the changes are
  not synchronized with the KASP Enforcer.
<div style="height: 1.00em;">&#x00A0;</div>
The repositories are configured by the user in the OpenDNSSEC configuration
  file. The configuration contains the name of the repository, the token label,
  the user PIN, and the path to its shared library.
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>login</b></dt>
  <dd class="It-tag">If there is no PIN in conf.xml, then this command will ask
      for it and login. The PINs are stored in a shared memory and are
      accessible to the other daemons.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>logout</b></dt>
  <dd class="It-tag">Will erase the semaphore and the shared memory containing
      any credentials. Authenticated processes will still be able to interact
      with the HSM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list</b> [<i>repository</i>]</dt>
  <dd class="It-tag">List the keys that are available in all or one
      <i>repository</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>generate</b> <i>repository</i> <b>rsa</b>
    <i>keysize</i></dt>
  <dd class="It-tag">Generate a new RSA key with the given <i>keysize</i> in the
      <i>repository</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove</b> <i>id</i></dt>
  <dd class="It-tag">Delete the key with the given <i>id</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>purge</b> <i>repository</i></dt>
  <dd class="It-tag">Delete all keys in one <i>repository</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dnskey</b> <i>id</i> <i>name</i></dt>
  <dd class="It-tag">Create a DNSKEY RR for the given owner <i>name</i> based on
      the key with this <i>id</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>test</b> <i>repository</i></dt>
  <dd class="It-tag">Perform a number of tests on a <i>repository</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>info</b></dt>
  <dd class="It-tag">Show detailed information about all repositories</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>config</i></dt>
  <dd class="It-tag">Path to an OpenDNSSEC configuration file
    <div style="height: 1.00em;">&#x00A0;</div>
    (defaults to /etc/opendnssec/conf.xml)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Show the help screen</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Output more information by increasing the verbosity
    level</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
ods-auditor(1), ods-control(8), ods-enforcerd(8), ods-hsmspeed(1),
  ods-kaspcheck(1), ods-ksmutil(1), ods-signer(8), ods-signerd(8),
  ods-timing(5), opendnssec(7), <b>http://www.opendnssec.org/</b>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>ods-hsmutil</b> was written by Jakob Schlyter as part of the OpenDNSSEC
  project.</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 2010</td>
    <td class="foot-os">OpenDNSSEC</td>
  </tr>
</table>
</body>
</html>
