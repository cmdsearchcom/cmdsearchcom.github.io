<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:40:01 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TESTPMD(1) Data Plane Development Kit TESTPMD(1)</p>

<p style="margin-top: 1em">NAME <br>
testpmd - tests for dpdk pmds</p>

<p style="margin-top: 1em">EAL COMMAND-LINE OPTIONS <br>
The following are the EAL command-line options that can be
used in conjunction with the testpmd, or any other DPDK
application. See the DPDK Getting Started Guides for more
<br>
information on these options.</p>

<p style="margin-top: 1em">&Acirc;&middot; -c COREMASK</p>

<p style="margin-top: 1em">Set the hexadecimal bitmask of
the cores to run on.</p>

<p style="margin-top: 1em">&Acirc;&middot; -l CORELIST</p>

<p style="margin-top: 1em">List of cores to run on</p>

<p style="margin-top: 1em">The argument format is
&lt;c1&gt;[-c2][,c3[-c4],...] where c1, c2, etc are core
indexes between 0 and 128.</p>

<p style="margin-top: 1em">&Acirc;&middot; --lcores
COREMAP</p>

<p style="margin-top: 1em">Map lcore set to physical cpu
set</p>

<p style="margin-top: 1em">The argument format is:</p>


<p style="margin-top: 1em">&lt;lcores[@cpus]&gt;[&lt;,lcores[@cpus]&gt;...]</p>

<p style="margin-top: 1em">Lcore and CPU lists are grouped
by ( and ) Within the group. The - character is used as a
range separator and , is used as a single number separator.
The grouping () can be <br>
omitted for single element group. The @ can be omitted if
cpus and lcores have the same value.</p>

<p style="margin-top: 1em">&Acirc;&middot; --master-lcore
ID</p>

<p style="margin-top: 1em">Core ID that is used as
master.</p>

<p style="margin-top: 1em">&Acirc;&middot; -n NUM</p>

<p style="margin-top: 1em">Set the number of memory
channels to use.</p>

<p style="margin-top: 1em">&Acirc;&middot; -b,
--pci-blacklist domain:bus:devid.func</p>

<p style="margin-top: 1em">Blacklist a PCI devise to
prevent EAL from using it. Multiple -b options are
allowed.</p>

<p style="margin-top: 1em">&Acirc;&middot; -d LIB.so</p>

<p style="margin-top: 1em">Load an external driver.
Multiple -d options are allowed.</p>

<p style="margin-top: 1em">&Acirc;&middot; -w,
--pci-whitelist domain:bus:devid:func</p>

<p style="margin-top: 1em">Add a PCI device in white
list.</p>

<p style="margin-top: 1em">&Acirc;&middot; -m MB</p>

<p style="margin-top: 1em">Memory to allocate. See also
--socket-mem.</p>

<p style="margin-top: 1em">&Acirc;&middot; -r NUM</p>

<p style="margin-top: 1em">Set the number of memory ranks
(auto-detected by default).</p>

<p style="margin-top: 1em">&Acirc;&middot; -v</p>

<p style="margin-top: 1em">Display the version information
on startup.</p>

<p style="margin-top: 1em">&Acirc;&middot; --xen-dom0</p>

<p style="margin-top: 1em">Support application running on
Xen Domain0 without hugetlbfs.</p>

<p style="margin-top: 1em">&Acirc;&middot; --syslog</p>

<p style="margin-top: 1em">Set the syslog facility.</p>

<p style="margin-top: 1em">&Acirc;&middot; --socket-mem</p>

<p style="margin-top: 1em">Set the memory to allocate on
specific sockets (use comma separated values).</p>

<p style="margin-top: 1em">&Acirc;&middot; --huge-dir</p>

<p style="margin-top: 1em">Specify the directory where the
hugetlbfs is mounted.</p>

<p style="margin-top: 1em">&Acirc;&middot; --proc-type</p>

<p style="margin-top: 1em">Set the type of the current
process.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--file-prefix</p>

<p style="margin-top: 1em">Prefix for hugepage
filenames.</p>

<p style="margin-top: 1em">&Acirc;&middot;
-vmware-tsc-map</p>

<p style="margin-top: 1em">Use VMware TSC map instead of
native RDTSC.</p>

<p style="margin-top: 1em">&Acirc;&middot; --vdev</p>

<p style="margin-top: 1em">Add a virtual device using the
format:</p>


<p style="margin-top: 1em">&lt;driver&gt;&lt;id&gt;[,key=val,
...]</p>

<p style="margin-top: 1em">For example:</p>

<p style="margin-top: 1em">--vdev
&rsquo;net_pcap0,rx_pcap=input.pcap,tx_pcap=output.pcap&rsquo;</p>

<p style="margin-top: 1em">&Acirc;&middot;
--base-virtaddr</p>

<p style="margin-top: 1em">Specify base virtual
address.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--create-uio-dev</p>

<p style="margin-top: 1em">Create /dev/uioX (usually done
by hotplug).</p>

<p style="margin-top: 1em">&Acirc;&middot; --no-shconf</p>

<p style="margin-top: 1em">No shared config (mmap-ed
files).</p>

<p style="margin-top: 1em">&Acirc;&middot; --no-pci</p>

<p style="margin-top: 1em">Disable pci.</p>

<p style="margin-top: 1em">&Acirc;&middot; --no-hpet</p>

<p style="margin-top: 1em">Disable hpet.</p>

<p style="margin-top: 1em">&Acirc;&middot; --no-huge</p>

<p style="margin-top: 1em">Use malloc instead of
hugetlbfs.</p>

<p style="margin-top: 1em">&Acirc;&middot; --vhost-owner
<br>
When creating vhost_user sockets change owner and group to
the specified value. This can be given as user:group, but
also only user or :group are supported.</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">--vhost-owner
&rsquo;libvirt-qemu:kvm&rsquo; <br>
--vhost-owner &rsquo;libvirt-qemu&rsquo; <br>
--vhost-owner &rsquo;:kvm&rsquo;</p>

<p style="margin-top: 1em">&Acirc;&middot; --vhost-perm</p>

<p style="margin-top: 1em">When creating vhost_user sockets
set them up with these permissions.</p>

<p style="margin-top: 1em">For example:</p>

<p style="margin-top: 1em">--vhost-perm
&rsquo;0664&rsquo;</p>

<p style="margin-top: 1em">TESTPMD COMMAND-LINE OPTIONS
<br>
The following are the command-line options for the testpmd
applications. They must be separated from the EAL options,
shown in the previous section, with a -- separator:</p>

<p style="margin-top: 1em">sudo ./testpmd -c 0xF -n 4 -- -i
--portmask=0x1 --nb-cores=2</p>

<p style="margin-top: 1em">The commandline options are:</p>

<p style="margin-top: 1em">&Acirc;&middot; -i,
--interactive</p>

<p style="margin-top: 1em">Run testpmd in interactive mode.
In this mode, the testpmd starts with a prompt that can be
used to start and stop forwarding, configure the application
and display stats on <br>
the current packet processing session. See testpmd_runtime
for more details.</p>

<p style="margin-top: 1em">In non-interactive mode, the
application starts with the configuration specified on the
command-line and immediately enters forwarding mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; -h, --help</p>

<p style="margin-top: 1em">Display a help message and
quit.</p>

<p style="margin-top: 1em">&Acirc;&middot; -a,
--auto-start</p>

<p style="margin-top: 1em">Start forwarding on
initialization.</p>

<p style="margin-top: 1em">&Acirc;&middot; --nb-cores=N</p>

<p style="margin-top: 1em">Set the number of forwarding
cores, where 1 &lt;= N &lt;= &quot;number of cores&quot; or
CONFIG_RTE_MAX_LCORE from the configuration file. The
default value is 1.</p>

<p style="margin-top: 1em">&Acirc;&middot; --nb-ports=N</p>

<p style="margin-top: 1em">Set the number of forwarding
ports, where 1 &lt;= N &lt;= &quot;number of ports&quot; on
the board or CONFIG_RTE_MAX_ETHPORTS from the configuration
file. The default value is the number of <br>
ports on the board.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--coremask=0xXX</p>

<p style="margin-top: 1em">Set the hexadecimal bitmask of
the cores running the packet forwarding test. The master
lcore is reserved for command line parsing only and cannot
be masked on for packet for&acirc; <br>
warding.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--portmask=0xXX</p>

<p style="margin-top: 1em">Set the hexadecimal bitmask of
the ports used by the packet forwarding test.</p>

<p style="margin-top: 1em">&Acirc;&middot; --numa</p>

<p style="margin-top: 1em">Enable NUMA-aware allocation of
RX/TX rings and of RX memory buffers (mbufs).</p>

<p style="margin-top: 1em">&Acirc;&middot;
--port-numa-config=(port,socket)[,(port,socket)]</p>

<p style="margin-top: 1em">Specify the socket on which the
memory pool to be used by the port will be allocated.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--ring-numa-config=(port,flag,socket)[,(port,flag,socket)]</p>

<p style="margin-top: 1em">Specify the socket on which the
TX/RX rings for the port will be allocated. Where flag is 1
for RX, 2 for TX, and 3 for RX and TX.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--socket-num=N</p>

<p style="margin-top: 1em">Set the socket from which all
memory is allocated in NUMA mode, where 0 &lt;= N &lt;
number of sockets on the board.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--mbuf-size=N</p>

<p style="margin-top: 1em">Set the data size of the mbufs
used to N bytes, where N &lt; 65536. The default value is
2048.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--total-num-mbufs=N</p>

<p style="margin-top: 1em">Set the number of mbufs to be
allocated in the mbuf pools, where N &gt; 1024.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--max-pkt-len=N</p>

<p style="margin-top: 1em">Set the maximum packet size to N
bytes, where N &gt;= 64. The default value is 1518.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--eth-peers-configfile=name</p>

<p style="margin-top: 1em">Use a configuration file
containing the Ethernet addresses of the peer ports. The
configuration file should contain the Ethernet addresses on
separate lines:</p>

<p style="margin-top: 1em">XX:XX:XX:XX:XX:01 <br>
XX:XX:XX:XX:XX:02 <br>
...</p>

<p style="margin-top: 1em">&Acirc;&middot;
--eth-peer=N,XX:XX:XX:XX:XX:XX</p>

<p style="margin-top: 1em">Set the MAC address
XX:XX:XX:XX:XX:XX of the peer port N, where 0 &lt;= N &lt;
CONFIG_RTE_MAX_ETHPORTS from the configuration file.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--pkt-filter-mode=mode</p>

<p style="margin-top: 1em">Set Flow Director mode where
mode is either none (the default), signature or perfect. See
testpmd_flow_director for more details.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--pkt-filter-report-hash=mode</p>

<p style="margin-top: 1em">Set Flow Director hash match
reporting mode where mode is none, match (the default) or
always.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--pkt-filter-size=N</p>

<p style="margin-top: 1em">Set Flow Director allocated
memory size, where N is 64K, 128K or 256K. Sizes are in
kilobytes. The default is 64.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--pkt-filter-flexbytes-offset=N</p>

<p style="margin-top: 1em">Set the flexbytes offset. The
offset is defined in words (not bytes) counted from the
first byte of the destination Ethernet MAC address, where N
is 0 &lt;= N &lt;= 32. The default <br>
value is 0x6.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--pkt-filter-drop-queue=N</p>

<p style="margin-top: 1em">Set the drop-queue. In perfect
filter mode, when a rule is added with queue = -1, the
packet will be enqueued into the RX drop-queue. If the
drop-queue does not exist, the <br>
packet is dropped. The default value is N=127.</p>

<p style="margin-top: 1em">&Acirc;&middot; --crc-strip</p>

<p style="margin-top: 1em">Enable hardware CRC
stripping.</p>

<p style="margin-top: 1em">&Acirc;&middot; --enable-lro</p>

<p style="margin-top: 1em">Enable large receive
offload.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--enable-rx-cksum</p>

<p style="margin-top: 1em">Enable hardware RX checksum
offload.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--enable-scatter</p>

<p style="margin-top: 1em">Enable scatter (multi-segment)
RX.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--disable-hw-vlan</p>

<p style="margin-top: 1em">Disable hardware VLAN.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--disable-hw-vlan-filter</p>

<p style="margin-top: 1em">Disable hardware VLAN
filter.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--disable-hw-vlan-strip</p>

<p style="margin-top: 1em">Disable hardware VLAN strip.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--disable-hw-vlan-extend</p>

<p style="margin-top: 1em">Disable hardware VLAN
extend.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--enable-drop-en</p>

<p style="margin-top: 1em">Enable per-queue packet drop for
packets with no descriptors.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--disable-rss</p>

<p style="margin-top: 1em">Disable RSS (Receive Side
Scaling).</p>

<p style="margin-top: 1em">&Acirc;&middot;
--port-topology=mode</p>

<p style="margin-top: 1em">Set port topology, where mode is
paired (the default) or chained.</p>

<p style="margin-top: 1em">In paired mode, the forwarding
is between pairs of ports, for example: (0,1), (2,3),
(4,5).</p>

<p style="margin-top: 1em">In chained mode, the forwarding
is to the next available port in the port mask, for example:
(0,1), (1,2), (2,0).</p>

<p style="margin-top: 1em">The ordering of the ports can be
changed using the portlist testpmd runtime function.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--forward-mode=mode</p>

<p style="margin-top: 1em">Set the forwarding mode where
mode is one of the following:</p>

<p style="margin-top: 1em">io (the default) <br>
mac <br>
mac_swap <br>
flowgen <br>
rxonly <br>
txonly <br>
csum <br>
icmpecho <br>
ieee1588</p>

<p style="margin-top: 1em">&Acirc;&middot; --rss-ip</p>

<p style="margin-top: 1em">Set RSS functions for IPv4/IPv6
only.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rss-udp</p>

<p style="margin-top: 1em">Set RSS functions for IPv4/IPv6
and UDP.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rxq=N</p>

<p style="margin-top: 1em">Set the number of RX queues per
port to N, where 1 &lt;= N &lt;= 65535. The default value is
1.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rxd=N</p>

<p style="margin-top: 1em">Set the number of descriptors in
the RX rings to N, where N &gt; 0. The default value is
128.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txq=N</p>

<p style="margin-top: 1em">Set the number of TX queues per
port to N, where 1 &lt;= N &lt;= 65535. The default value is
1.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txd=N</p>

<p style="margin-top: 1em">Set the number of descriptors in
the TX rings to N, where N &gt; 0. The default value is
512.</p>

<p style="margin-top: 1em">&Acirc;&middot; --burst=N</p>

<p style="margin-top: 1em">Set the number of packets per
burst to N, where 1 &lt;= N &lt;= 512. The default value is
16.</p>

<p style="margin-top: 1em">&Acirc;&middot; --mbcache=N</p>

<p style="margin-top: 1em">Set the cache of mbuf memory
pools to N, where 0 &lt;= N &lt;= 512. The default value is
16.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rxpt=N</p>

<p style="margin-top: 1em">Set the prefetch threshold
register of RX rings to N, where N &gt;= 0. The default
value is 8.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rxht=N</p>

<p style="margin-top: 1em">Set the host threshold register
of RX rings to N, where N &gt;= 0. The default value is
8.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rxfreet=N</p>

<p style="margin-top: 1em">Set the free threshold of RX
descriptors to N, where 0 &lt;= N &lt; value of --rxd. The
default value is 0.</p>

<p style="margin-top: 1em">&Acirc;&middot; --rxwt=N</p>

<p style="margin-top: 1em">Set the write-back threshold
register of RX rings to N, where N &gt;= 0. The default
value is 4.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txpt=N</p>

<p style="margin-top: 1em">Set the prefetch threshold
register of TX rings to N, where N &gt;= 0. The default
value is 36.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txht=N</p>

<p style="margin-top: 1em">Set the host threshold register
of TX rings to N, where N &gt;= 0. The default value is
0.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txwt=N</p>

<p style="margin-top: 1em">Set the write-back threshold
register of TX rings to N, where N &gt;= 0. The default
value is 0.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txfreet=N</p>

<p style="margin-top: 1em">Set the transmit free threshold
of TX rings to N, where 0 &lt;= N &lt;= value of --txd. The
default value is 0.</p>

<p style="margin-top: 1em">&Acirc;&middot; --txrst=N</p>

<p style="margin-top: 1em">Set the transmit RS bit
threshold of TX rings to N, where 0 &lt;= N &lt;= value of
--txd. The default value is 0.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--txqflags=0xXXXXXXXX</p>

<p style="margin-top: 1em">Set the hexadecimal bitmask of
TX queue flags, where 0 &lt;= N &lt;= 0x7FFFFFFF. The
default value is 0.</p>

<p style="margin-top: 1em">NOTE: <br>
When using hardware offload functions such as vlan or
checksum add txqflags=0 to force the full-featured TX code
path. In some PMDs this may already be the default.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--rx-queue-stats-mapping=(port,queue,mapping)[,(port,queue,mapping)]</p>

<p style="margin-top: 1em">Set the RX queues statistics
counters mapping 0 &lt;= mapping &lt;= 15.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--tx-queue-stats-mapping=(port,queue,mapping)[,(port,queue,mapping)]</p>

<p style="margin-top: 1em">Set the TX queues statistics
counters mapping 0 &lt;= mapping &lt;= 15.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--no-flush-rx</p>

<p style="margin-top: 1em">Don&rsquo;t flush the RX streams
before starting forwarding. Used mainly with the PCAP
PMD.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--txpkts=X[,Y]</p>

<p style="margin-top: 1em">Set TX segment sizes or total
packet length. Valid for tx-only and flowgen forwarding
modes.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--disable-link-check</p>

<p style="margin-top: 1em">Disable check on link status
when starting/stopping ports.</p>

<p style="margin-top: 1em">16.11.1 Mar 07, 2017
TESTPMD(1)</p>
<hr>
</body>
</html>
