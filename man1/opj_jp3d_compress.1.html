<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>OPJ_JP3D_COMPRESS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">OPJ_JP3D_COMPRESS(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">OPJ_JP3D_COMPRESS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opj_jp3d_compress - Works with JPEG2000 files
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
List of parameters for the JPEG2000 Part 10 encoder: <b>------------</b>
<div class="Pp"></div>
Required Parameters (except with <b>-h</b>):
<div class="Pp"></div>
<b>-i</b> : source file (<b>-i</b> source.bin or source*.pgx)
<div class="Pp"></div>
<b>-m</b> : source characteristics file (<b>-m</b> imgfile.img)
<div class="Pp"></div>
<b>-o</b> : destination file (<b>-o</b> dest.jp3d)
<div class="Pp"></div>
Optional Parameters:
<div class="Pp"></div>
<b>-h</b> : display the help information
<div class="Pp"></div>
<b>-n</b> : number of resolutions (<b>-n</b> 3,3,3)
<div class="Pp"></div>
<b>-I</b> : use the irreversible transforms: ICT + DWT 9-7 (<b>-I</b>)
<div class="Pp"></div>
<b>-C</b> : coding algorithm (<b>-C</b> 2EB) [2EB, 3EB]
<div class="Pp"></div>
<b>-r</b> : different compression ratios for successive layers (<b>-r</b>
  20,10,5)
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">- The rate specified for each quality level is the desired
      compression factor. - Rate 1 means lossless compression</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">(options <b>-r</b> and <b>-q</b> cannot be used
    together)</dd>
</dl>
<div class="Pp"></div>
<b>-q</b> : different psnr for successive layers (<b>-q</b> 30,40,50)
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">(options <b>-r</b> and <b>-q</b> cannot be used
    together)</dd>
</dl>
<div class="Pp"></div>
<b>-b</b> : size of code block (<b>-b</b> 32,32,32)
<div class="Pp"></div>
<b>-c</b> : size of precinct (<b>-c</b> 128,128,128)
<div class="Pp"></div>
<b>-t</b> : size of tile (<b>-t</b> 512,512,512)
<div class="Pp"></div>
<b>-p</b> : progression order (<b>-p</b> LRCP) [LRCP, RLCP, RPCL, PCRL, CPRL]
<div class="Pp"></div>
<b>-s</b> : subsampling factor (<b>-s</b> 2,2,2) [-s X,Y,Z]
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">- Remark: subsampling bigger than 2 can produce error</dd>
</dl>
<div class="Pp"></div>
<b>-SOP</b> : write SOP marker before each packet
<div class="Pp"></div>
<b>-EPH</b> : write EPH marker after each header packet
<div class="Pp"></div>
<b>-M</b> : code-block style (<b>-M</b> 0) [1=BYPASS(LAZY) 2=RESET
  4=RESTART(TERMALL)
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">8=VSC 16=PTERM 32=SEGSYM 64=3DCTXT] Indicate multiple modes
      by adding their values. ex: RESTART(4) + RESET(2) + SEGMARK(32) =
      <b>-M</b> 38</dd>
</dl>
<div class="Pp"></div>
<b>-D</b> : define DC offset (<b>-D</b> 12)
<div class="Pp"></div>
<b>-x</b> : create an index file *.Idx (<b>-x</b> index_name.Idx)
<div class="Pp"></div>
<b>-ROI</b> : c=%d,U=%d : quantization indices upshifted
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">for component c=%d [%d = 0,1,2] with a value of U=%d [0
      &lt;= %d &lt;= 37] (i.e. <b>-ROI</b>:c=0,U=25)</dd>
</dl>
<div class="Pp"></div>
<b>-d</b> : offset of the origin of the volume (<b>-d</b> 150,300,100)
<div class="Pp"></div>
<b>-l</b> : offset of the origin of the tiles (<b>-l</b> 100,75,25)
<div class="Pp"></div>
DEFAULT CODING: <b>------------</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">* Lossless * 1 tile * Size of precinct : 2^15 x 2^15 x 2^15
      (means 1 precinct) * Size of code-block : 64 x 64 x 64 * Number of
      resolutions in x, y and z axis: 3 * No SOP marker in the codestream * No
      EPH marker in the codestream * No sub-sampling in x, y or z direction * No
      mode switch activated * Progression order: LRCP * No index file * No ROI
      upshifted * No offset of the origin of the volume * No offset of the
      origin of the tiles * Reversible DWT 5-3 on each 2D slice * Coding
      algorithm: 2D-EBCOT</dd>
</dl>
<div class="Pp"></div>
REMARKS: <b>---------</b>
<div class="Pp"></div>
- The markers written to the main_header are : SOC SIZ COD QCD COM. - COD and
  QCD markers will never appear in the tile_header.
<div class="Pp"></div>
- You need enough disk space memory (twice the original) to encode the
  volume,i.e. for a 1.5 GB volume you need a minimum of 3GB of disk memory)
<div class="Pp"></div>
- When loading *.pgx files, a relative path to directory is needed for input
  argument
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">followed by the common prefix of the slices and a '*'
      character representing sequential numeration.</dd>
</dl>
<div class="Pp"></div>
( <b>-i</b> relativepath/slices*.pgx )
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">- The index file has the structure below:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Image_height Image_width Image_depth Progression order: 0
      (LRCP) Tiles_size_X Tiles_size_Y Tiles_size_Z Components_nb Layers_nb
      Decomposition_levels [Precincts_size_X_res_Nr Precincts_size_Y_res_Nr
      Precincts_size_Z_res_Nr]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">...</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[Precincts_size_X_res_0 Precincts_size_Y_res_0
      Precincts_size_Z_res_0] Main_header_end_position Codestream_size Tile_0
      [start_pos end_header end_pos TotalDisto NumPix MaxMSE] ... Tile_Nt [ ''
      '' '' '' '' '' ]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Tpacket_0 [Tile layer res. comp. prec. start_pos end_pos
      disto] ... Tpacket_Np ['' '' '' '' '' '' '' '' ] MaxDisto TotalDisto</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This manual page was written by Mathieu Malaterre &lt;malat@debian.org&gt; for
  the Debian GNU/Linux system, but may be used by others.</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 2016</td>
    <td class="foot-os">opj_jp3d_compress 2.1.2</td>
  </tr>
</table>
</body>
</html>
