<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ipa-server-install(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ipa-server-install(1)</td>
    <td class="head-vol">IPA Manual Pages</td>
    <td class="head-rtitle">ipa-server-install(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ipa-server-install - Configure an IPA server
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
ipa-server-install [ <i>OPTION</i>]...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Configures the services needed by an IPA server. This includes setting up a
  Kerberos Key Distribution Center (KDC) and a Kadmin daemon with an LDAP
  back-end, configuring Apache, configuring NTP and optionally configuring and
  starting an LDAP-backed DNS server. By default a dogtag-based CA will be
  configured to issue server certificates.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="BASIC_OPTIONS"><a class="selflink" href="#BASIC_OPTIONS">BASIC
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b> <i>REALM_NAME</i>,
    <b>--realm</b>=<i>REALM_NAME</i></dt>
  <dd class="It-tag">The Kerberos realm name for the IPA server. You will not be
      able to estabilish trust with Active Directory unless the realm name is
      uppercased domain name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b> <i>DOMAIN_NAME</i>,
    <b>--domain</b>=<i>DOMAIN_NAME</i></dt>
  <dd class="It-tag">Your DNS domain name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>DM_PASSWORD</i>,
    <b>--ds-password</b>=<i>DM_PASSWORD</i></dt>
  <dd class="It-tag">The password to be used by the Directory Server for the
      Directory Manager user</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b> <i>ADMIN_PASSWORD</i>,
    <b>--admin-password</b>=<i>ADMIN_PASSWORD</i></dt>
  <dd class="It-tag">The password for the IPA admin user</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mkhomedir</b></dt>
  <dd class="It-tag">Create home directories for users on their first login</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostname</b>=<i>HOST_NAME</i></dt>
  <dd class="It-tag">The fully-qualified DNS name of this server. If the
      hostname does not match system hostname, the system hostname will be
      updated accordingly to prevent service failures.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ip-address</b>=<i>IP_ADDRESS</i></dt>
  <dd class="It-tag">The IP address of this server. If this address does not
      match the address the host resolves to and --setup-dns is not selected the
      installation will fail. If the server hostname is not resolvable, a record
      for the hostname and IP_ADDRESS is added to /etc/hosts. This this option
      can be used multiple times to specify more IP addresses of the server
      (e.g. multihomed and/or dualstacked server).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b>, <b>--no-ntp</b></dt>
  <dd class="It-tag">Do not configure NTP</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--idstart</b>=<i>IDSTART</i></dt>
  <dd class="It-tag">The starting user and group id number (default random)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--idmax</b>=<i>IDMAX</i></dt>
  <dd class="It-tag">The maximum user and group id number (default:
      idstart+199999). If set to zero, the default value will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no_hbac_allow</b></dt>
  <dd class="It-tag">Don't install allow_all HBAC rule. This rule lets any user
      from any host access any service on any other host. It is expected that
      users will remove this rule before moving to production.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-topology-disconnect</b></dt>
  <dd class="It-tag">Ignore errors reported when IPA server uninstall would lead
      to disconnected topology. This option can be used only when domain level
      is 1 or more.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-ui-redirect</b></dt>
  <dd class="It-tag">Do not automatically redirect to the Web UI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ssh-trust-dns</b></dt>
  <dd class="It-tag">Configure OpenSSH client to trust DNS SSHFP records.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-ssh</b></dt>
  <dd class="It-tag">Do not configure OpenSSH client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-sshd</b></dt>
  <dd class="It-tag">Do not configure OpenSSH server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--debug</b></dt>
  <dd class="It-tag">Enable debug logging when more verbose output is
    needed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>, <b>--unattended</b></dt>
  <dd class="It-tag">An unattended installation that will never prompt for user
      input</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-config-file</b></dt>
  <dd class="It-tag">The path to LDIF file that will be used to modify
      configuration of dse.ldif during installation of the directory server
      instance
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="CERTIFICATE_SYSTEM_OPTIONS"><a class="selflink" href="#CERTIFICATE_SYSTEM_OPTIONS">CERTIFICATE
  SYSTEM OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--external-ca</b></dt>
  <dd class="It-tag">Generate a CSR for the IPA CA certificate to be signed by
      an external CA.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--external-ca-type</b>=<i>TYPE</i></dt>
  <dd class="It-tag">Type of the external CA. Possible values are
      &quot;generic&quot;, &quot;ms-cs&quot;. Default value is
      &quot;generic&quot;. Use &quot;ms-cs&quot; to include template name
      required by Microsoft Certificate Services (MS CS) in the generated
    CSR.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--external-cert-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">File containing the IPA CA certificate and the external CA
      certificate chain. The file is accepted in PEM and DER certificate and
      PKCS#7 certificate chain formats. This option may be used multiple
    times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-cert-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">File containing the Directory Server SSL certificate and
      private key. The files are accepted in PEM and DER certificate, PKCS#7
      certificate chain, PKCS#8 and raw private key and PKCS#12 formats. This
      option may be used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-cert-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">File containing the Apache Server SSL certificate and
      private key. The files are accepted in PEM and DER certificate, PKCS#7
      certificate chain, PKCS#8 and raw private key and PKCS#12 formats. This
      option may be used multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-pin</b>=<i>PIN</i></dt>
  <dd class="It-tag">The password to unlock the Directory Server private
    key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-pin</b>=<i>PIN</i></dt>
  <dd class="It-tag">The password to unlock the Apache Server private key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirsrv-cert-name</b>=<i>NAME</i></dt>
  <dd class="It-tag">Name of the Directory Server SSL certificate to
    install</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--http-cert-name</b>=<i>NAME</i></dt>
  <dd class="It-tag">Name of the Apache Server SSL certificate to install</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca-cert-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">File containing the CA certificate of the CA which issued
      the Directory Server, Apache Server and Kerberos KDC certificates. The
      file is accepted in PEM and DER certificate and PKCS#7 certificate chain
      formats. This option may be used multiple times. Use this option if the CA
      certificate is not present in the certificate files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--subject</b>=<i>SUBJECT</i></dt>
  <dd class="It-tag">The certificate subject base (default O=REALM.NAME)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca-signing-algorithm</b>=<i>ALGORITHM</i></dt>
  <dd class="It-tag">Signing algorithm of the IPA CA certificate. Possible
      values are SHA1withRSA, SHA256withRSA, SHA512withRSA. Default value is
      SHA256withRSA. Use this option with --external-ca if the external CA does
      not support the default signing algorithm.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="DNS_OPTIONS"><a class="selflink" href="#DNS_OPTIONS">DNS
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--setup-dns</b></dt>
  <dd class="It-tag">Generate a DNS zone if it does not exist already and
      configure the DNS server. This option requires that you either specify at
      least one DNS forwarder through the <b>--forwarder</b> option or use the
      <b>--no-forwarders</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that you can set up a DNS at any time after the initial IPA server
      install by running <b>ipa-dns-install</b> (see
    <b>ipa-dns-install</b>(1)).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--forwarder</b>=<i>IP_ADDRESS</i></dt>
  <dd class="It-tag">Add a DNS forwarder to the DNS configuration. You can use
      this option multiple times to specify more forwarders, but at least one
      must be provided, unless the <b>--no-forwarders</b> option is
    specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-forwarders</b></dt>
  <dd class="It-tag">Do not add any DNS forwarders. Root DNS servers will be
      used instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auto-forwarders</b></dt>
  <dd class="It-tag">Add DNS forwarders configured in /etc/resolv.conf to the
      list of forwarders used by IPA DNS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--forward-policy</b>=<i>first|only</i></dt>
  <dd class="It-tag">DNS forwarding policy for global forwarders specified using
      other options. Defaults to first if no IP address belonging to a private
      or reserved ranges is detected on local interfaces (RFC 6303). Defaults to
      only if a private IP address is detected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--reverse-zone</b>=<i>REVERSE_ZONE</i></dt>
  <dd class="It-tag">The reverse DNS zone to use. This option can be used
      multiple times to specify multiple reverse zones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-reverse</b></dt>
  <dd class="It-tag">Do not create reverse DNS zone</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auto-reverse</b></dt>
  <dd class="It-tag">Try to resolve reverse records and reverse zones for server
      IP addresses and if neither is resolvable creates these reverse
    zones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--zonemgr</b></dt>
  <dd class="It-tag">The e-mail address of the DNS zone manager. Defaults to
      hostmaster@DOMAIN</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-host-dns</b></dt>
  <dd class="It-tag">Do not use DNS for hostname lookup during installation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-dns-sshfp</b></dt>
  <dd class="It-tag">Do not automatically create DNS SSHFP records.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-dnssec-validation</b></dt>
  <dd class="It-tag">Disable DNSSEC validation on this server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-zone-overlap</b></dt>
  <dd class="It-tag">Allow creatin of (reverse) zone even if the zone is already
      resolvable. Using this option is discouraged as it result in later
      problems with domain name resolution.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="UNINSTALL_OPTIONS"><a class="selflink" href="#UNINSTALL_OPTIONS">UNINSTALL
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--uninstall</b></dt>
  <dd class="It-tag">Uninstall an existing IPA installation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>, <b>--unattended</b></dt>
  <dd class="It-tag">An unattended uninstallation that will never prompt for
      user input
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DEPRECATED_OPTIONS"><a class="selflink" href="#DEPRECATED_OPTIONS">DEPRECATED
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b> <i>MASTER_PASSWORD</i>,
    <b>--master-password</b>=<i>MASTER_PASSWORD</i></dt>
  <dd class="It-tag">The kerberos master password (normally autogenerated).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 if the (un)installation was successful
<div style="height: 1.00em;">&#x00A0;</div>
1 if an error occurred
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ipa-dns-install</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">Jun 28 2012</td>
    <td class="foot-os">IPA</td>
  </tr>
</table>
</body>
</html>
