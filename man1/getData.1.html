<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GETDATA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GETDATA(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">GETDATA(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
getData - retrieves databases from the Internet
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
getData [ --mirrordir &lt;path&gt; ] &lt;list of db names&gt;
<div class="Pp"></div>
getData --list
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Bioinformatics has the intrinsic problem to bring the biological data to the end
  user. Astronomers have the equivalent problem and particle physicists, well,
  they haven come up with (first) the web and (second) the computational grids
  to address their problems. Debian helps with the programs but will not provide
  such huge datasets that are even frequently updated - not even in
  volatile.debian.org. Most bioinformatics researchers will not need too many of
  such databases. And even more so will gladly continue in using public services
  remotely.
<div class="Pp"></div>
For those who need a set of databases on a regular basis, this script shall be a
  start to automate the burden to download the data and update indices and the
  like. The world has seen such magic before with the Lion Biosciences Prisma
  tool (http://bib.oxfordjournals.org/cgi/reprint/3/4/389.pdf) but how about
  something simpler (as a start) that at least gets close to what we desire and
  is Free. The aim must be to address the needs of all (most) communities, not
  only of the bioinformatics world. The seed was hence made with databases from
  astronomy.
<div class="Pp"></div>
Please contact the Debian-Med community if you consider this program to be
  almost ready for your needs and explain what still needs to be added. Public
  databases that you managed to integrate with this system are also very warmly
  welcomed as feedback.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--help</dt>
  <dd class="It-tag">
    <pre>
    this help
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--man</dt>
  <dd class="It-tag">Present a more detailed description in form of a man
    page.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--verbose</dt>
  <dd class="It-tag">Say one or two words more than required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--mirrordir &lt;path&gt;</dt>
  <dd class="It-tag">Specifies destination directory. The data will be mirrored
      to the folder $mirrordir/$dbname/. Please be aware that this mirrordir is
      nowhere stored. The directory can consequently be moved to arbitrary
      locations at any time, if the users of the data are only informed about
      that moving.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--list</dt>
  <dd class="It-tag">Lists all databases that may be requested to be
    installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;list of db names&gt;</dt>
  <dd class="It-tag">Only those databases that are explicitly requested to be
      downloaded will be downloaded. Such databases may require considerable
      bandwidth, so please make sure you know you are doing the right
    thing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--post</dt>
  <dd class="It-tag">Perform only the unpacking/indexing, but do not
      retrieve/update the databases. This option is considered useful when
      adding a new database management system to the system, e.g. after
      installing EMBOSS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--source</dt>
  <dd class="It-tag">Perform only the unpacking/indexing, but do not
      retrieve/update the databases. This option may be beneficial when the site
      administator is aware of current analyses that should not be disturbed by
      the indexing process but the downloading from the net can already be
      started.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--confd &lt;directory&gt;</dt>
  <dd class="It-tag">Allows for the specification of a directory in which
      multiple files can be stored that will be read by getData upon its
      invocation. These may add values to the global variable %toBeMirrored that
      specifies the databases and their download scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--config &lt;system&gt;</dt>
  <dd class="It-tag">Preparation of the configuration file that would be reuired
      for a particular system that deals with the database. The configuration is
      printed to stdout and is expected to be copied manually to the proper file
      or folder. One could imagine this process to be automated, though this is
      not yet implemented. Currently available is support for two systems:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">emboss</dt>
  <dd class="It-tag">This specifies the EMBOSS suite of tools for bioinformatics
      (www.emboss.org) that is also available as a Debian package. The
      configuration for the Uniprot databases will allow the sequence retrieval
      with the seqret tool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">dre - ARC Grid Runtime Environment</dt>
  <dd class="It-tag">Runtime environments (REs) are a concept of the ARC grid
      middleware of which more can be learned on http://www.nordugrid.org. A
      script is needed to indicate the presence of a runtime environment. Here,
      the name of the script is important, which is not definable by getData
      though since it only writes to stdout.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Unfortunately, the configuration was not yet be found to be modularised. It all
  needs to happen within the getData script itself.</div>
<dl class="Bl-tag">
  <dt class="It-tag">--remove &lt;list of dbnames&gt;</dt>
  <dd class="It-tag">This command removes folders that store the data. In
      principle this could be perfomed manually, though some databases may have
      special requirements pre- or post-removal, which can be specified
      individually for every database.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SPECIFICATION_OF_DATABASES"><a class="selflink" href="#SPECIFICATION_OF_DATABASES">SPECIFICATION
  OF DATABASES</a></h1>
Databases for download and their post-processing are specified at two different
  locations. One is the getData script itself, the other are files stored in
  /etc/getData.d. Either will define elements of a considerably large hash. The
  key is the identifier which is also shown by the 'getData --list' directive.
  The value is a reference to another hash, which assigns values to all the
  properties that a database has for its download and post-processing:
<dl class="Bl-tag">
  <dt class="It-tag">name - a human-readable pretty-printed name or short
    description that makes clear to the world what this database is about.</dt>
  <dd class="It-tag">A bad example is the mere assignment of &quot;DE405&quot;,
      which few people understand. A better example is &quot;Pfam-A : Manually
      curated protein families and domains, only the seed is presented.&quot;.
      One could argue that one should have that field renamed to
      &quot;description&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">source - shell commands to perform the initial download and
    subsequent updates</dt>
  <dd class="It-tag">Commonly the wget tool is used for download. The such
      presented little script is executed underneath the mirrordir directory.
      One simple example is &quot;wget --mirror
      ftp://ssd.jpl.nasa.gov/pub/eph/export/unix/unxp2[01]*.405&quot;. With
      increasing proficiency in using wget, one is tempted to substitute
      &quot;--mirror&quot; with &quot;--recursive --no-host-directories
      --no-directories --level 1 --no-parent&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">post-download - shell commands to perform after the data
    has been downloaded.</dt>
  <dd class="It-tag">A simple (and unnecessary when used the right flags to
      wget) example is the mere setting of a symbolic link:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
  &quot;post-download&quot; =&gt; &quot;ln -s ssd.jpl.nasa.gov/pub/eph/export/unix/unxp*.405 .&quot;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Some more effort has been put into TrEMBL for the merging of releases with
      subsequent updates and the indexing for EMBOSS:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
  &quot;d=uncompressed; if [ ! -d \$d ]; then mkdir \$d; fi; &quot;
   .&quot;rm -rf \$d/trembl.dat; &quot;
   .&quot;(find ftp.ebi.ac.uk -name '*.dat.gz' | xargs -r zcat ) &gt; \$d/trembl.dat; &quot;
   .&quot;[ -x /usr/bin/dbxflat ] &quot;
   . &quot;&amp;&amp; cd \$d &amp;&amp; &quot;
   . &quot;dbxflat -dbresource embl -dbname trembllocal -idformat swiss -filenames=trembl.dat -fields id,acc -auto&quot;,
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The dots are connecting strings in Perl. This helps the readability of the
      code. When writing these scripts, please be aware the newlines don't
      separate the individual commands here. Semicolon are required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">recommends - suggests a series of packages to be present
    for the use of the database or the performance of the indexing.</dt>
  <dd class="It-tag">This information is not used at the moment, also to render
      this script more useful for other Linux distributions than Debian.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">getWgetOptions - private command to get wget options</dt>
  <dd class="It-tag">This is used at download time by makefiles, is not intended
      to be used interactively, and could be removed anytime.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The following will list the identifiers and the descriptions of the first 4
  databases that area available via getData on your system.
<div class="Pp"></div>
<pre>
     ./getData --mirrordir=/local/databases/mirrored --list | head 4
</pre>
<div class="Pp"></div>
To install any particular database, only give its name as an argument. If the
  installation is performed at another directory than the default, then the
  --mirrordir needs again to be set.
<div class="Pp"></div>
<pre>
     ./getData swiss.dat
</pre>
<div class="Pp"></div>
To remove the database again, give the script a hint with the --remove flag
<div class="Pp"></div>
<pre>
     ./getData --remove swiss.dat
</pre>
<div class="Pp"></div>
To perform the indexing only and circumvent the download (attention, this is
  dangerous since the index files will look newer than the database is), do
<div class="Pp"></div>
<pre>
     ./getData --post swiss.dat
</pre>
<div class="Pp"></div>
A special exception to these extra scripts is the --config flag in that it takes
  a list of extra arguments. Each shall denote a particular system that this
  database may be of interest for. There are today two systems supported:
<h1 class="Sh" title="Sh" id="TODO"><a class="selflink" href="#TODO">TODO</a></h1>
We now need a mechanism with which packages can specify hooks that shall be
  called upon an update of a database. But we cannot assume that every indexing
  that can be performed because of the installation of some package is also
  desired by the user. How to configure this properly is left to be decided.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
http://debian-med.alioth.debian.org, http://wiki.debian.org/DebianMed,
  /etc/getData.conf
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
This script was prepared by Steffen Moeller &lt;moeller@debian.org&gt; and
  Charles Plessy &lt;debian-no-spam@plessy.org&gt; and is distributed under the
  terms of the GNU Public License (GPL). On Debian systems, this license can be
  found under /usr/share/common-licenses/GPL.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-10-28</td>
    <td class="foot-os">perl v5.18.1</td>
  </tr>
</table>
</body>
</html>
