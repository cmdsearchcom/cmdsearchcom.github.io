<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:15:14 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GRDGRAVMAG3D(1gmt) GMT GRDGRAVMAG3D(1gmt)</p>

<p style="margin-top: 1em">NAME <br>
grdgravmag3d - Compute the gravity effect of a grid by the
method of Okabe</p>

<p style="margin-top: 1em">SYNOPSIS <br>
grdgravmag3d grdfile_top [grdfile_bot] [ -Cdensity ] [
-Ethick ] [ -Fxy_file ] [ -Goutgrid ] [ -H&lt;...&gt; ] [
-Iincrement ] [ -Lz_obs ] [
-Q[nn_pad]|[pad_dist]|[&lt;w/e/s/n&gt;] ] <br>
[ -Rregion ] [ -Sradius ] [ -V[level] ] [ -Zlevel[b|t] ] [
-fg ] [ -x+a|n|-n ]</p>

<p style="margin-top: 1em">Note: No space is allowed
between the option flag and the associated arguments.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
grdgravmag3d will compute the gravity anomaly of a body
described by one or (optionally) two grids The output can
either be along a given set of xy locations or on a grid.
This <br>
method is not particularly fast but allows computing the
anomaly of arbitrarily complex shapes.</p>

<p style="margin-top: 1em">REQUIRED ARGUMENTS <br>
grdfile_top [grdfile_bot] <br>
Grid file whose gravity efect is going to be computed. If
two grids are provided then the gravity/magnetic effect of
the volume between them is computed.</p>

<p style="margin-top: 1em">-Cdensity <br>
Sets body density in SI. This option is mutually exclusive
with -H</p>

<p style="margin-top: 1em">-Fxy_file <br>
Provide locations where the anomaly will be computed. Note
this option is mutually exclusive with -G.</p>

<p style="margin-top: 1em">-Goutgrid <br>
Output the gravity anomaly at nodes of this grid file.</p>

<p style="margin-top: 1em">OPTIONAL ARGUMENTS <br>
-Ethickness <br>
To provide the layer thickness in m [Default = 500 m].</p>

<p style="margin-top: 1em">-Hf_dec/f_dip/m_int/m_dec/m_dip
-H+m&lt;magfile&gt; -Hx|y|z|h|t -H+i|+g|+r|+f|+n <br>
Sets parameters for computation of magnetic anomaly (Can be
used multiple times). <br>
f_dec/f_dip -&gt; geomagnetic declination/inclination</p>

<p style="margin-top: 1em">m_int/m_dec/m_dip -&gt; body
magnetic intensity/declination/inclination</p>

<p style="margin-top: 1em">OR for a grid mode <br>
+m&lt;magfile&gt; where &rsquo;magfile&rsquo; is the name of
the magnetic intensity file.</p>

<p style="margin-top: 1em">To compute a component, specify
any of: <br>
x|X|e|E to compute the E-W component.</p>

<p style="margin-top: 1em">y|Y|n|N to compute the N-S
component.</p>

<p style="margin-top: 1em">z|Z to compute the Vertical
component.</p>

<p style="margin-top: 1em">h|H to compute the Horizontal
component.</p>

<p style="margin-top: 1em">t|T|f|F to compute the total
field.</p>

<p style="margin-top: 1em">For a variable inclination and
declination use IGRF. Set any of -H+i|+g|+r|+f|+n to do
that</p>


<p style="margin-top: 1em">-Ixinc[unit][=|+][/yinc[unit][=|+]]
<br>
x_inc [and optionally y_inc] is the grid spacing.
Optionally, append a suffix modifier. Geographical (degrees)
coordinates: Append m to indicate arc minutes or s to
indi&acirc; <br>
cate arc seconds. If one of the units e, f, k, M, n or u is
appended instead, the increment is assumed to be given in
meter, foot, km, Mile, nautical mile or US survey <br>
foot, respectively, and will be converted to the equivalent
degrees longitude at the middle latitude of the region (the
conversion depends on PROJ_ELLIPSOID). If y_inc is <br>
given but set to 0 it will be reset equal to x_inc;
otherwise it will be converted to degrees latitude. All
coordinates: If = is appended then the corresponding max x
<br>
(east) or y (north) may be slightly adjusted to fit exactly
the given increment [by default the increment may be
adjusted slightly to fit the given domain]. Finally, <br>
instead of giving an increment you may specify the number of
nodes desired by appending + to the supplied integer
argument; the increment is then recalculated from the <br>
number of nodes and the domain. The resulting increment
value depends on whether you have selected a
gridline-registered or pixel-registered grid; see
App-file-formats for <br>
details. Note: if -Rgrdfile is used then the grid spacing
has already been initialized; use -I to override the
values.</p>

<p style="margin-top: 1em">-Lz_obs <br>
Sets level of observation [Default = 0]. That is the height
(z) at which anomalies are computed.</p>


<p style="margin-top: 1em">-Q[nn_pad]|[pad_dist]|[&lt;w/e/s/n&gt;]</p>

<p style="margin-top: 1em">Extend the domain of computation
with respect to output -R region. <br>
-Qnn_pad artificially extends the width of the outer rim of
cells to have a fake width of n_pad * dx[/dy].</p>

<p style="margin-top: 1em">-Qpad_dist extend the region by
west-pad, east+pad, etc.</p>

<p style="margin-top: 1em">-Qregion Same syntax as -R.</p>

<p style="margin-top: 1em">-R[unit]xmin/xmax/ymin/ymax[r]
(more ...) <br>
Specify the region of interest. Note: this overrides the
source grid region (Default: use same region as input)</p>

<p style="margin-top: 1em">-Sradius <br>
Set search radius in km (valid only in the two grids mode OR
when -E) [Default = 30 km]. This option serves to speed up
the computation by not computing the effect of <br>
prisms that are further away than radius from the current
node.</p>

<p style="margin-top: 1em">-V[level] (more ...) <br>
Select verbosity level [c].</p>

<p style="margin-top: 1em">-Zlevel[b|t] <br>
level of reference plane [Default = 0]. Use this option when
the triangles describe a non-closed surface and the volume
is defined from each triangle and this reference <br>
level. An example will be the water depth to compute a
Bouguer anomaly. Use -Zb or Zt to close the body at its
bottom (for example, to compute the effect of a dome) or at
<br>
its top (to compute the effect of a spoon).</p>

<p style="margin-top: 1em">-fg Geographic grids (dimensions
of longitude, latitude) will be converted to meters via a
&quot;Flat Earth&quot; approximation using the current
ellipsoid parameters.</p>

<p style="margin-top: 1em">-x+a|n|-n <br>
Choose the number of processors used in multi-threading
(Only available with multi-threading builds). <br>
+a Use all available processors.</p>

<p style="margin-top: 1em">n Use n processors (not more
than max available off course).</p>

<p style="margin-top: 1em">-n Use (all - n) processors.</p>

<p style="margin-top: 1em">-^ or just - <br>
Print a short message about the syntax of the command, then
exits (NOTE: on Windows use just -).</p>

<p style="margin-top: 1em">-+ or just + <br>
Print an extensive usage (help) message, including the
explanation of any module-specific option (but not the GMT
common options), then exits.</p>

<p style="margin-top: 1em">-? or no arguments <br>
Print a complete usage (help) message, including the
explanation of options, then exits.</p>

<p style="margin-top: 1em">GRID DISTANCE UNITS <br>
If the grid does not have meter as the horizontal unit,
append +uunit to the input file name to convert from the
specified unit to meter. If your grid is geographic, convert
dis&acirc; <br>
tances to meters by supplying -fg instead.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Suppose you want to compute the gravity effect of the
phantom &quot;Sandy Island&quot; together with its not
phantom seamount</p>

<p style="margin-top: 1em">gmt grdgravmag3d sandy_bat.grd
-C1700 -Z-4300 -fg -I1m -Gsandy_okb.grd -V</p>

<p style="margin-top: 1em">To compute the vertical
component due to a magnetization stored in mag.grd over a
zone defined by the surface bat.grd, using variable
declination and inclination provided the the <br>
IGRF and using 4 processors, do:</p>

<p style="margin-top: 1em">gmt grdgravmag3d bat.grd -E10000
-Gcomp_Z.grd -Hz -H+n -H+mmag.grd -x4 -V -S50</p>

<p style="margin-top: 1em">SEE ALSO <br>
gmt, gmtgravmag3d, talwani2d, talwani3d</p>

<p style="margin-top: 1em">REFERENCE <br>
Okabe, M., Analytical expressions for gravity anomalies due
to polyhedral bodies and translation into magnetic
anomalies, Geophysics, 44, (1979), p 730-741.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2016, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and
F. Wobbe</p>

<p style="margin-top: 1em">5.3.1 Nov 05, 2016
GRDGRAVMAG3D(1gmt)</p>
<hr>
</body>
</html>
