<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>REM2PS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">REM2PS(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">REM2PS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
rem2ps - draw a PostScript calendar from Remind output
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>rem2ps [<i>options</i>]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Rem2ps</b> reads the standard input, which should be the results of running
  <b>Remind</b> with the <b>-p</b> option. It emits PostScript code (which draws
  a calendar) to the standard output.
<div class="Pp"></div>
See the section &quot;Rem2PS Input Format&quot; for details about the <b>-p</b>
  data. This may be useful if you wish to create other <b>Remind</b> back-ends.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Be more verbose. This causes <b>Rem2ps</b> to print
      progress messages to the standard error stream. Normally, it is
    silent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p file</b></dt>
  <dd class="It-tag">Include the contents of <i>file</i> in the PostScript
      prologue. This allows you to define procedures, variables etc. which can
      be used by the <b>PS</b> and <b>PSFILE</b> reminders. You should not
      include any document structuring comments in your prologue.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">Produce the calendar in landscape mode rather than the
      default portrait mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>[<i>n</i>]</dt>
  <dd class="It-tag">If <i>n</i> is omitted, disables the small calendars for
      next and previous months which are normally generated. If <i>n</i> is
      supplied, it can range from 0 to 3, with the following meanings:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">Disable small calendars</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">Place the small calendars at the bottom-right if there is
      room; otherwise, place them at the top-left.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">Place the small calendars at the top-left if there is room;
      otherwise, place them at the bottom-right.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>3</b></dt>
  <dd class="It-tag">Place the previous month's small calendar at the top-left
      and the next month's at the bottom-right if there is room; otherwise,
      follow <i>n</i>=1. A moment's thought reveals that an option which splits
      the calendars if there is room and otherwise follows <i>n</i>=2 yields the
      same results as <i>n</i>=3.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">Use ISO 8859-1 standard encoding for the PostScript fonts.
      If you do not use this option, the default encoding is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Make the calendar fill the entire page. By default, the
      calendar is slightly smaller than the page. This allows days with many
      reminders to &quot;expand&quot; as needed. However, if you don't have days
      which expand, you can use this option to make all of the boxes slightly
      bigger. One caveat: If you do use the <b>-e</b> option and one day has
      many reminders, the calendar may expand off the page, losing some
      information. Experiment!</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m media</b></dt>
  <dd class="It-tag">Set the page size. If you use the -m option, you must
      specify the media type, which can be one of the following. (Sizes are
      approximate.)</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">Letter</dt>
  <dd class="It-tag">8.5 x 11 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Legal</dt>
  <dd class="It-tag">8.5 x 14 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Ledger</dt>
  <dd class="It-tag">11 x 17 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Statement</dt>
  <dd class="It-tag">5.5 x 8.5 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Executive</dt>
  <dd class="It-tag">7.5 x 10 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">A3</dt>
  <dd class="It-tag">29.7 x 42 cm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">A4</dt>
  <dd class="It-tag">21 x 29.7 cm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">A5</dt>
  <dd class="It-tag">14.8 x 21 cm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">B4</dt>
  <dd class="It-tag">25.7 x 36.4 cm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">B5</dt>
  <dd class="It-tag">18.3 x 25.7 cm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Folio</dt>
  <dd class="It-tag">8.5 x 13 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Quarto</dt>
  <dd class="It-tag">8.5 x 10.8 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">10x14</dt>
  <dd class="It-tag">10 x 14 in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>X</i>x<i>Y</i>in</dt>
  <dd class="It-tag"><i>X</i> by <i>Y</i> inches, where <i>X</i> and <i>Y</i>
      can be floating-point numbers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>X</i>x<i>Y</i>cm</dt>
  <dd class="It-tag"><i>X</i> by <i>Y</i> centimetres, where <i>X</i> and
      <i>Y</i> can be floating-point numbers.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Type &quot;rem2ps -m help&quot; for a list of available media. Note that the
  media type (and all <b>Rem2ps</b> options) are case-sensitive. If you don't
  use the <b>-m</b> option, the media defaults to a compiled-in default - this
  is usually Letter for North America and A4 for Europe. The &quot;-m help&quot;
  option will display the compiled-in default.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>[<b>tshed</b>] <i>font</i></dt>
  <dd class="It-tag">Set the font for the calendar title, the small calendars,
      the day-of-week headings, the calendar entries, and the day numbers,
      respectively. <i>Font</i> must be the name of a valid PostScript font. The
      default fonts are equivalent to specifying:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<pre>
	-ftshe Helvetica -fd Helvetica-BoldOblique
</pre>
<div class="Pp"></div>
In other words, the heading, entry and small-calendar fonts are set to
  Helvetica, and the font for the day numbers is set to
  Helvetica-BoldOblique.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>[<b>thed</b>] <i>size</i></dt>
  <dd class="It-tag">Set the size (in points) of the text for the the calendar
      title, day-of-week headings, the calendar entries, and the day numbers,
      respectively. <i>Size</i> must be a decimal number. The default sizes are
      equivalent to specifying:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<pre>
	-sthd 14 -se 8
</pre>
<div class="Pp"></div>
In other words, the heading and day numbers are 14-point fonts, and the calendar
  entries are printed in 8-point text.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b> <i>size</i></dt>
  <dd class="It-tag">Set the size of the blank white border in each calendar box
      to <i>size</i> points. The default border size is 6 points, or 1/12
    in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> <i>size</i></dt>
  <dd class="It-tag">Set the thickness of the black calendar grid lines. The
      default is 1, for a line thickness of one point (1/72 in.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>[<b>lrtb</b>] <i>size</i></dt>
  <dd class="It-tag">Set the left, right, top, and/or bottom margins to
      <i>size</i> points. For this option only, <i>size</i> must be an integer.
      It represents the margin size in units of 1/72 in. The default margin
      sizes are 36, for half-inch margins. If you wish to punch holes in the
      calendar page to insert it into a binder, you may wish to increase the
      left margin to one inch. In that case, you should also decrease the
      heading font size to 12 points for good output:</dd>
</dl>
<div class="Pp"></div>
<pre>
	# This gives good results for putting into a binder
	rem2ps -ol 72 -sh 12
</pre>
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
To use <b>Rem2ps</b>, you should pipe the output of <b>Remind</b> with the
  <b>-p</b> option to <b>Rem2ps</b>, and then send the result to a printer. This
  is most easily illustrated with examples:
<div class="Pp"></div>
<pre>
	remind -p12 /dev/null 1 jan 1994 | rem2ps | lpr -Plaser
</pre>
<div class="Pp"></div>
That example creates a blank calendar for the entire year of 1994, and sends it
  the the printer named &quot;laser.&quot;
<div class="Pp"></div>
<pre>
	remind -p ~/.reminders | rem2ps -l -sd 18 &gt; cal.ps
</pre>
<div class="Pp"></div>
This reminder creates a calendar for the current month, filling in entries from
  the reminder file &quot;~/.reminders.&quot; The calendar is produced in
  landscape mode, with a font size of 18 for the day numbers. The result is put
  in the PostScript file &quot;cal.ps.&quot;
<h1 class="Sh" title="Sh" id="VARIABLES_AVAILABLE_TO_USER-SUPPLIED_POSTSCRIPT_CODE"><a class="selflink" href="#VARIABLES_AVAILABLE_TO_USER-SUPPLIED_POSTSCRIPT_CODE">VARIABLES
  AVAILABLE TO USER-SUPPLIED POSTSCRIPT CODE</a></h1>
The following variables are available to <b>PS</b> and <b>PSFILE</b>-type
  reminders. (This material is duplicated in the <b>Remind</b> manual page.)
<dl class="Bl-tag">
  <dt class="It-tag">LineWidth</dt>
  <dd class="It-tag">The width of the black grid lines making up the
    calendar.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Border</dt>
  <dd class="It-tag">The border between the center of the grid lines and the
      space used to print calendar entries. This border is normally blank
    space.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">BoxWidth and BoxHeight</dt>
  <dd class="It-tag">The width and height of the calendar box, from
      center-to-center of the black gridlines.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">InBoxHeight</dt>
  <dd class="It-tag">The height from the center of the bottom black gridline to
      the top of the regular calendar entry area. The space from here to the top
      of the box is used only to draw the day number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">/DayFont, /TitleFont, /EntryFont, /SmallFont and
    /HeadFont</dt>
  <dd class="It-tag">The fonts used to draw the day numbers, the month and year
      title, the calendar entries, the small calendars, and the day-of-week
      headings, respectively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">DaySize, TitleSize, EntrySize and HeadSize</dt>
  <dd class="It-tag">The sizes of the above fonts. (The size of the small
      calendar font is <i>not</i> defined here.) For example, if you wanted to
      print the Hebrew date next to the regular day number in the calendar,
    use:</dd>
</dl>
<div class="Pp"></div>
<pre>
	REM PS Border BoxHeight Border sub DaySize sub moveto \
	   /DayFont findfont DaySize scalefont setfont \
	   ([hebday(today())] [hebmon(today())]) show
</pre>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">Note how /DayFont and DaySize are used.</div>
<div class="Pp"></div>
Note that if you supply PostScript code, it is possible to produce invalid
  PostScript files. Always test your PostScript thoroughly with a PostScript
  viewer before sending it to the printer. You should not use any document
  structuring comments in your PostScript code.
<div class="Pp"></div>
In addition, prior to drawing a calendar page, <b>Rem2ps</b> emits the following
  PostScript code:
<div class="Pp"></div>
<pre>
	save (mon) (yr) PreCal restore
</pre>
<div class="Pp"></div>
where <i>mon</i> and <i>yr</i> are the month and year of the calendar page. The
  default <b>PreCal</b> procedure simply pops the arguments and does nothing.
  However, you can define a <b>PreCal</b> function in your prologue file to do
  whatever you want - it can draw a background for the entire calendar, for
  instance.
<div class="Pp"></div>
In the context of the <b>PreCal</b> procedure, the following conditions hold:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The PostScript origin is at the bottom left-hand corner of
      the page, and PostScript units of 1/72&quot; are in effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The variables MinX, MinY, MaxX and MaxY define the bounding
      box within which the calendar will be drawn.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The font and font-size variables, as well as Border and
      LineWidth described previously, are valid.</dd>
</dl>
<div class="Pp"></div>
For an example, create a file called &quot;myprolog&quot; whose contents are:
<div class="Pp"></div>
<pre>
		/PreCal {
		 /yr exch def
		 /mon exch def
		 /xsiz1 MaxX MinX sub def
		 /ysiz1 MaxY MinY sub def
		 /xsiz xsiz1 MinX sub MinX sub def
		 /ysiz ysiz1 MinY sub MinY sub def
		 xsiz
		 ysiz
		 lt
		 {/len xsiz 1.41 mul def
		  MinX MinX add ysiz1 xsiz1 sub 2 div MinY add MinY add moveto}
		 {/len ysiz 1.41 mul def
		  xsiz1 ysiz1 sub 2 div MinX add MinX add MinY MinY add moveto}
		 ifelse
		 /Helvetica-Bold findfont 1 scalefont setfont
		 mon stringwidth pop
		 ( ) stringwidth pop add
		 yr stringwidth pop add
		 len exch div /len exch def
		 /Helvetica-Bold findfont len scalefont setfont
		 0.95 setgray
		 45 rotate
		 mon show
		 ( ) show
		 yr show
		} bind def
</pre>
<div class="Pp"></div>
Use that file with the <b>Rem2ps</b> <b>-p</b> option to create calendars with
  the year and month in large grey letters in the background of the calendar.
<h1 class="Sh" title="Sh" id="REM2PS_INPUT_FORMAT"><a class="selflink" href="#REM2PS_INPUT_FORMAT">REM2PS
  INPUT FORMAT</a></h1>
<b>Remind -p</b> sends the following lines to standard output. The information
  is designed to be easily parsed by back-end programs:
<dl class="Bl-tag">
  <dt class="It-tag"><b># rem2ps begin</b></dt>
  <dd class="It-tag">This line signifies the start of calendar data. Back-ends
      can search for it to verify they are being fed correct information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>month_name year num_days first_day monday_first</i></dt>
  <dd class="It-tag">On this line, <i>month_name</i> is the name of the month
      whose calendar information is about to follow. <i>num_days</i> is the
      number of days in this month. <i>first_day</i> is the weekday of the first
      day of the month (0 = Sunday, 1 = Monday, 6 = Saturday.) And
      <i>monday_first</i> is 1 if the <b>-m</b> flag was supplied to
      <b>Remind</b>, or 0 if it was not. All this information is supplied so
      back-ends don't need any date calculation facilities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>sun mon tue wed thu fri sat</i></dt>
  <dd class="It-tag">This line consists of space-separated names of days in
      whatever language <b>Remind</b> was compiled for. This information can be
      used by back-ends to annotate calendars, and means they don't have to be
      created for a specific language.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>next_mon next_days</i></dt>
  <dd class="It-tag">The name of the next month and the number of days in
    it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>prev_mon prev_days</i></dt>
  <dd class="It-tag">The name of the previous month and the number of days in
      it. The <i>next_mon</i> and <i>prev_mon</i> lines could be used to
      generate small inset calendars for the next and previous months.</dd>
</dl>
<div class="Pp"></div>
The remaining data consists of calendar entries, in the following format:
<div class="Pp"></div>
<i>yyyy/mm/dd special tag dur time body</i>
<div class="Pp"></div>
Here, <i>yyyy</i> is the year, <i>mm</i> is the month (01-12) and <i>dd</i> is
  the day of the month. Note that the date components are always separated by
  &quot;/&quot; even if the date separator in <b>Remind</b> has been set to
  &quot;-&quot;. The consistent use of &quot;/&quot; is designed to ease
  parsing.
<div class="Pp"></div>
<i>special</i> is a string used for &quot;out-of-band&quot; communication with
  back-ends. If the reminder is a normal reminder, <i>special</i> is
  &quot;*&quot;. The <b>Rem2PS</b> back-end understands the specials
  <b>PostScript</b> and <b>PSFile</b>. Other back-ends may understand other
  specials. A back end should <i>silently ignore</i> a reminder with a special
  it doesn't understand.
<div class="Pp"></div>
<i>tag</i> is whatever tag the user provided with the <b>TAG</b> clause, or
  &quot;*&quot; if no tag was provided. If there is more than one <b>TAG</b>
  clause, the tags appear in a comma-separated list. For example, the command
  <b>REM TAG foo TAG bar TAG quux</b> would result in <b>foo,bar,quux</b> in the
  <i>tag</i> field.
<div class="Pp"></div>
<i>dur</i> is the <b>DURATION</b> value in minutes, or &quot;*&quot; if no
  duration was provided.
<div class="Pp"></div>
<i>time</i> is the time of the reminder in minutes past midnight, or
  &quot;*&quot; if the reminder was not a timed reminder.
<div class="Pp"></div>
<i>body</i> is the body of the reminder.
<div class="Pp"></div>
After a month's worth of reminders have been emitted, <b>Remind</b> emits the
  line:
<div class="Pp"></div>
<b># rem2ps end</b>
<div class="Pp"></div>
However, back-ends should keep reading until EOF in case more data for
  subsequent months is forthcoming.
<div class="Pp"></div>
If you supply the <b>-l</b> option to <b>remind</b>, then reminders may be
  preceded by a line that looks like this:
<div class="Pp"></div>
<b># fileinfo </b><i>lineno filename</i>
<div class="Pp"></div>
The word <b>fileinfo</b> is literal; <i>lineno</i> and <i>filename</i> specify
  the line number and file name of the file containing the reminder. Back-ends
  that don't care about this information should ignore lines starting with
  &quot;#&quot; (except, of course, for the # rem2ps lines.)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Rem2PS is now supported by Roaring Penguin Software Inc.
  (http://www.roaringpenguin.com)
<div class="Pp"></div>
Rem2PS was written by Dianne Skoll &lt;dfs@roaringpenguin.com&gt;.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
All <b>Rem2ps</b> options are case-sensitive, unlike <b>Remind</b>. Any time you
  supply a font name or size, line thickness, or border width, it is treated as
  a string and sent straight to the PostScript interpreter. Thus, if you supply
  invalid fonts or sizes, <b>Rem2ps</b> will not complain, but the resulting
  PostScript output will probably not work.
<div class="Pp"></div>
You should ensure that the values you supply for margin widths are sensible. If
  they are too big for the media size, <b>Rem2ps</b> will not complain, but
  again, the PostScript output will probably not work.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>remind</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">11 April 2005</td>
    <td class="foot-os">4th Berkeley Distribution</td>
  </tr>
</table>
</body>
</html>
