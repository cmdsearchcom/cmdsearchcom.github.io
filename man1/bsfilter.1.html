<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:56:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BSFILTER(1) General Commands Manual BSFILTER(1)</p>

<p style="margin-top: 1em">NAME <br>
bsfilter &acirc; bayesian spam filter</p>

<p style="margin-top: 1em">SYNOPSIS <br>
bsfilter [options] [commands] &lt; MAIL</p>

<p style="margin-top: 1em">bsfilter [options] [commands]
MAIL ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
bsfilter filters out spam mails.</p>

<p style="margin-top: 1em">If commands are specified,
bsfilter is in maintenance mode, otherwise it is in
filtering mode.</p>

<p style="margin-top: 1em">If bsfilter does not find spam
in filtering mode, exit status is 1.</p>

<p style="margin-top: 1em">If bsfilter runs with --pipe
option or finds spam, exit status is 0.</p>

<p style="margin-top: 1em">COMMANDS <br>
--add-clean</p>

<p style="margin-top: 1em">-c add mails into the clean
token database.</p>

<p style="margin-top: 1em">--add-spam</p>

<p style="margin-top: 1em">-s add mails into the spam token
database.</p>

<p style="margin-top: 1em">--sub-clean</p>

<p style="margin-top: 1em">-C subtract mails from the clean
token database.</p>

<p style="margin-top: 1em">--sub-spam</p>

<p style="margin-top: 1em">-S subtract mails from the spam
token database.</p>

<p style="margin-top: 1em">--update</p>

<p style="margin-top: 1em">-u update the probability table
from clean and spam token databases.</p>

<p style="margin-top: 1em">--export-clean <br>
export the clean token database.</p>

<p style="margin-top: 1em">--export-spam <br>
export the spam token database.</p>

<p style="margin-top: 1em">--import-clean <br>
import the clean token database.</p>

<p style="margin-top: 1em">--import-spam <br>
import the spam token database.</p>

<p style="margin-top: 1em">--export-probability <br>
export the probability database (for debugging purpose).</p>

<p style="margin-top: 1em">OPTIONS <br>
--homedir directory <br>
specify the name of the bsfilter&rsquo;s home directory.</p>

<p style="margin-top: 1em">If this option is not used, a
directory specified with the environment variable
&quot;BSFILTERHOME&quot; is used.</p>

<p style="margin-top: 1em">If the variable
&quot;BSFILTERHOME&quot; is not defined,
&quot;.bsfilter&quot; directory under your home is used.</p>

<p style="margin-top: 1em">If the variable &quot;HOME&quot;
is not defined, a directory which bsfilter is located at is
used.</p>

<p style="margin-top: 1em">--config-file file <br>
specify the name of the bsfilter&rsquo;s configuration file
&quot;bsfilter.conf&quot; in bsfilter&rsquo;s home directory
is used by default.</p>

<p style="margin-top: 1em">--max-line number <br>
check and/or study the first number of lines default is 500.
0 means all.</p>

<p style="margin-top: 1em">--db sdbm|gdbm|bdb1|bdb|qdbm
<br>
specify the name of database type &quot;sdbm&quot; by
default.</p>

<p style="margin-top: 1em">--jtokenizer
bigram|block|mecab|chasen|kakasi</p>

<p style="margin-top: 1em">-j
bigram|block|mecab|chasen|kakasi <br>
specify algorithm of a tokenizer for Japanese language
&quot;bigram&quot; by default.</p>

<p style="margin-top: 1em">--list-clean <br>
print filename of clean mail.</p>

<p style="margin-top: 1em">--list-spam <br>
print filename of spam.</p>

<p style="margin-top: 1em">--imap access IMAP server.</p>

<p style="margin-top: 1em">--imap-server hostname <br>
specify hostname of IMAP server.</p>

<p style="margin-top: 1em">--imap-port number <br>
specify port number of IMAP server. default is 143.</p>

<p style="margin-top: 1em">--imap-auth method <br>
specify authorization method. default is &quot;auto&quot;.
&quot;cram-md5&quot; use &quot;AUTHENTICATE CRAM-MD5&quot;
command. &quot;login&quot; use &quot;AUTHENTICATE
LOGIN&quot; command. &quot;loginc&quot; use
&quot;LOGIN&quot; com&acirc; <br>
mand. &quot;auto&quot; try &quot;cram-md5&quot;,
&quot;login&quot; and &quot;loginc&quot; in this order.</p>

<p style="margin-top: 1em">--imap-user name <br>
specify user name of IMAP server.</p>

<p style="margin-top: 1em">--imap-password password <br>
specify password of imap-user.</p>

<p style="margin-top: 1em">--imap-folder-clean folder <br>
specify destination folder for clean mails.
&quot;inbox.clean&quot; for example.</p>

<p style="margin-top: 1em">--imap-folder-spam folder <br>
specify destination folder for spams. &quot;inbox.spam&quot;
for example.</p>

<p style="margin-top: 1em">--imap-fetch-unseen <br>
filter or study mails without SEEN flag.</p>

<p style="margin-top: 1em">--imap-fetch-unflagged <br>
filter or study mails without &quot;X-Spam-Flag&quot;
header.</p>

<p style="margin-top: 1em">--imap-reset-seen-flag <br>
reset SEEN flag when bsfilter moves or modifies mails.</p>

<p style="margin-top: 1em">--pop work as POP proxy.</p>

<p style="margin-top: 1em">--pid-file file <br>
specify filename for logging process ID of bsfilter
&quot;bsfilter.pid&quot; in bsfilter&rsquo;s home directory
is used by default this function is valid when
&quot;--pop&quot; is specified.</p>

<p style="margin-top: 1em">--tasktray <br>
sit in tasktray this is valid with &quot;--pop&quot; on
VisualuRuby.</p>

<p style="margin-top: 1em">--pop-server hostname <br>
specify hostname of POP server.</p>

<p style="margin-top: 1em">--pop-port number <br>
specify port number of POP server. default is 110.</p>

<p style="margin-top: 1em">--pop-proxy-if address <br>
specify address of interface which bsfilter listens at
default is 0.0.0.0 and all interfaces are active.</p>

<p style="margin-top: 1em">--pop-proxy-port number <br>
specify port number which bsfilter listens at. default is
10110.</p>

<p style="margin-top: 1em">--pop-user name <br>
optional. specify username of POP server.</p>

<p style="margin-top: 1em">bsfilter checks match between
value of this options and a name which MUA sends.</p>

<p style="margin-top: 1em">in case of mismatch, bsfilter
closes sockets.</p>

<p style="margin-top: 1em">--pop-proxy-set set[,set...]
<br>
specify rules of pop proxy.</p>

<p style="margin-top: 1em">alternative way of pop-server,
pop-port, pop-proxy-port and pop-user option.</p>

<p style="margin-top: 1em">format of &quot;set&quot; is
&quot;pop-server:pop-port:[proxy-interface]:proxy-port[:pop-user]&quot;.</p>

<p style="margin-top: 1em">If proxy-interface is specified
and isn&rsquo;t 0.0.0.0 , other interfaces are not used.</p>

<p style="margin-top: 1em">&quot;--pop-proxy-set
192.168.1.1:110::10110&quot; is equivalent with
&quot;--pop-server 192.168.1.1 --pop-port 110
--pop-proxy-port 10110&quot;.</p>

<p style="margin-top: 1em">--pop-max-size number <br>
When mail is longer than the specified number, the mail is
not filtered. When 0 is specified, all mails are tested and
filtered. unit is byte. default is 50000.</p>

<p style="margin-top: 1em">--ssl use POP over SSL with
--pop option and use IMAP over SSL with --imap option.</p>

<p style="margin-top: 1em">--ssl-cert filename|dirname <br>
specify a filename of a certificate of a trusted CA or a
name of a directory of certificates.</p>

<p style="margin-top: 1em">--method g|r|rf</p>

<p style="margin-top: 1em">-m g|r|rf specify filtering
method. &quot;rf&quot; by default. &quot;g&quot; means Paul
Graham method, &quot;r&quot; means Gary Robinson method, and
&quot;rf&quot; means Robinson-Fisher method.</p>

<p style="margin-top: 1em">--spam-cutoff number <br>
specify spam-cutoff value. 0.9 by default for Paul Graham
method. 0.582 by default for Gary Robinson method. 0.95 by
default for Robinson-Fisher method.</p>

<p style="margin-top: 1em">--auto-update</p>

<p style="margin-top: 1em">-a recognize mails, add them
into clean or spam token database and update the probability
table.</p>

<p style="margin-top: 1em">--disable-degeneration</p>

<p style="margin-top: 1em">-D disable degeneration during
probability table lookup.</p>

<p style="margin-top: 1em">--disable-utf-8 <br>
disable utf-8 support.</p>

<p style="margin-top: 1em">--refer-header
header[,header...] <br>
refer specified headers of mails.</p>

<p style="margin-top: 1em">bsfilter refers Ufrom, From, To,
Cc, Subject, Reply-to, Return-path, Received,
Content-Transfer-Encoding, Content-Type, charset, and
Content-Disposition by default.</p>

<p style="margin-top: 1em">--refer-all-header <br>
refer all headers of mails.</p>

<p style="margin-top: 1em">--ignore-header</p>

<p style="margin-top: 1em">-H ignore headers of mails. (it
is same as --refer-header &quot;&quot;.)</p>

<p style="margin-top: 1em">--ignore-body</p>

<p style="margin-top: 1em">-B ignore body of mails, except
URL or mail address.</p>

<p style="margin-top: 1em">--ignore-plain-text-part <br>
ignore plain text part if html part is included in the
mail.</p>

<p style="margin-top: 1em">--ignore-after-last-atag <br>
ignore text after last &quot;A&quot; tag.</p>

<p style="margin-top: 1em">--mark-in-token characters <br>
specify characters which are allowable in a token
&quot;*&rsquo;!&quot; by default.</p>

<p style="margin-top: 1em">--show-process <br>
show summary of execution.</p>

<p style="margin-top: 1em">--show-new-token <br>
show tokens which are newly added into the token
database.</p>

<p style="margin-top: 1em">--mbox use &quot;unix from&quot;
to divide mbox format file.</p>

<p style="margin-top: 1em">--max-mail number <br>
reduce token database when the number of stored mails is
larger than this one 10000 by default.</p>

<p style="margin-top: 1em">--min-mail number <br>
reduce token database as if this number of mails are stored
8000 by default.</p>

<p style="margin-top: 1em">--pipe write a mail to stdout.
this options is invalid when &quot;--imap&quot; or
&quot;--pop&quot; is specified.</p>

<p style="margin-top: 1em">--insert-revision <br>
insert &quot;X-Spam-Revision: bsfilter release...&quot; into
a mail.</p>

<p style="margin-top: 1em">--insert-flag <br>
insert &quot;X-Spam-Flag: Yes&quot; or &quot;X-Spam-Flag:
No&quot; into a mail.</p>

<p style="margin-top: 1em">--insert-probability <br>
insert &quot;X-Spam-Probability: number&quot; into a
mail.</p>

<p style="margin-top: 1em">--header-prefix string <br>
insert &quot;X-specified_string-...&quot; headers, instead
of &quot;Spam&quot;. (it is valid with --insert-flag and/or
--insert-probability option.)</p>

<p style="margin-top: 1em">--mark-spam-subject <br>
insert &quot;[SPAM] &quot; at the beginning of Subject
header.</p>

<p style="margin-top: 1em">--mark-subject-prefix string
<br>
insert specified string, instead of &quot;[SPAM] &quot;. (it
is valid with --mark-spam-subject option.)</p>

<p style="margin-top: 1em">--show-db-status <br>
show numbers of tokens and mails in databases and quit.</p>

<p style="margin-top: 1em">--help</p>

<p style="margin-top: 1em">-h show help message.</p>

<p style="margin-top: 1em">--quiet</p>

<p style="margin-top: 1em">-q quiet mode.</p>

<p style="margin-top: 1em">--verbose</p>

<p style="margin-top: 1em">-v verbose mode.</p>

<p style="margin-top: 1em">--debug</p>

<p style="margin-top: 1em">-d debug mode.</p>

<p style="margin-top: 1em">EXAMPLES <br>
% bsfilter -s ~/Mail/spam/* ## add spam <br>
% bsfilter -u -c ~/Mail/job/* ~/Mail/private/* ## add clean
mails and update probability table <br>
% bsfilter ~/Mail/inbox/1 ## show spam probability</p>

<p style="margin-top: 1em">## recipe of procmail <br>
:0 HB <br>
* ? bsfilter -a <br>
spam/.</p>

<p style="margin-top: 1em">## recipe of procmail <br>
:0 fw <br>
| bsfilter -a --pipe --insert-flag --insert-probability</p>

<p style="margin-top: 1em">SEE ALSO <br>
http://sourceforge.jp/projects/bsfilter/</p>

<p style="margin-top: 1em">AUTHOR <br>
The original manual is in the bsfilter command it self which
is written by NABEYA Kenichi (upstream author). This manual
page was transrated from the manual by akira yamada <br>
&lt;akira@debian.org&gt; for the Debian system (but may be
used by others). Permission is granted to copy, distribute
and/or modify this document under the terms of the GNU
General <br>
Public License, Version 2 any later version published by the
Free Software Foundation.</p>

<p style="margin-top: 1em">On Debian systems, the complete
text of the GNU General Public License can be found in
/usr/share/common-licenses/GPL.</p>
 
<p style="margin-top: 1em">BSFILTER(1)</p>
<hr>
</body>
</html>
