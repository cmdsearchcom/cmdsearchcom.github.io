<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:08 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VERILATOR(1) User Contributed Perl Documentation
VERILATOR(1)</p>

<p style="margin-top: 1em">NAME <br>
Verilator - Convert Verilog code to C++/SystemC</p>

<p style="margin-top: 1em">SYNOPSIS <br>
verilator --help <br>
verilator --version <br>
verilator --cc [options] [top_level.v]...
[opt_c_files.cpp/c/cc/a/o/so] <br>
verilator --sc [options] [top_level.v]...
[opt_c_files.cpp/c/cc/a/o/so] <br>
verilator --lint-only [top_level.v]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Verilator converts synthesizable (not behavioral) Verilog
code, plus some Synthesis, SystemVerilog and a small subset
of Verilog AMS assertions, into C++ or SystemC code. It is
<br>
not a complete simulator, but a compiler.</p>

<p style="margin-top: 1em">Verilator is invoked with
parameters similar to GCC, Cadence Verilog-XL/NC-Verilog, or
Synopsys&rsquo;s VCS. It reads the specified Verilog code,
lints it, and optionally adds <br>
coverage and waveform tracing code. For C++ and SystemC
formats, it outputs .cpp and .h files.</p>

<p style="margin-top: 1em">The files created by Verilator
are then compiled with C++. The user writes a little C++
wrapper file, which instantiates the top level module, and
passes this filename on the <br>
command line. These C files are compiled in C++, and linked
with the Verilated files.</p>

<p style="margin-top: 1em">The resulting executable will
perform the actual simulation.</p>

<p style="margin-top: 1em">To get started, jump down to
&quot;EXAMPLE C++ EXECUTION&quot;.</p>

<p style="margin-top: 1em">ARGUMENT SUMMARY <br>
This is a short summary of the arguments to Verilator. See
the detailed descriptions in the next sections for more
information.</p>

<p style="margin-top: 1em">{file.v} Verilog top level
filenames <br>
{file.c/cc/cpp} Optional C++ files to compile in <br>
{file.a/o/so} Optional C++ files to link in</p>

<p style="margin-top: 1em">+1364-1995ext+&lt;ext&gt; Use
Verilog 1995 with file extension &lt;ext&gt; <br>
+1364-2001ext+&lt;ext&gt; Use Verilog 2001 with file
extension &lt;ext&gt; <br>
+1364-2005ext+&lt;ext&gt; Use Verilog 2005 with file
extension &lt;ext&gt; <br>
+1800-2005ext+&lt;ext&gt; Use SystemVerilog 2005 with file
extension &lt;ext&gt; <br>
+1800-2009ext+&lt;ext&gt; Use SystemVerilog 2009 with file
extension &lt;ext&gt; <br>
+1800-2012ext+&lt;ext&gt; Use SystemVerilog 2012 with file
extension &lt;ext&gt; <br>
--assert Enable all assertions <br>
--autoflush Flush streams after all $displays <br>
--bbox-sys Blackbox unknown $system calls <br>
--bbox-unsup Blackbox unsupported language features <br>
--bin &lt;filename&gt; Override Verilator binary <br>
-CFLAGS &lt;flags&gt; C++ Compiler flags for makefile <br>
--cc Create C++ output <br>
--cdc Clock domain crossing analysis <br>
--clk &lt;signal-name&gt; Mark specified signal as clock
<br>
--compiler &lt;compiler-name&gt; Tune for specified C++
compiler <br>
--converge-limit &lt;loops&gt; Tune convergence settle time
<br>
--coverage Enable all coverage <br>
--coverage-line Enable line coverage <br>
--coverage-toggle Enable toggle coverage <br>
--coverage-user Enable SVL user coverage <br>
--coverage-underscore Enable coverage of _signals <br>
-D&lt;var&gt;[=&lt;value&gt;] Set preprocessor define <br>
--debug Enable debugging <br>
--debug-check Enable debugging assertions <br>
--debugi &lt;level&gt; Enable debugging at a specified level
<br>
--debugi-&lt;srcfile&gt; &lt;level&gt; Enable debugging a
source file at a level <br>
--default-language &lt;lang&gt; Default language to parse
<br>
+define+&lt;var&gt;=&lt;value&gt; Set preprocessor define
<br>
--dump-tree Enable dumping .tree files <br>
--dump-treei &lt;level&gt; Enable dumping .tree files at a
level <br>
--dump-treei-&lt;srcfile&gt; &lt;level&gt; Enable dumping
.tree file at a source file at a level <br>
-E Preprocess, but do not compile <br>
--error-limit &lt;value&gt; Abort after this number of
errors <br>
--exe Link to create executable <br>
-F &lt;file&gt; Parse options from a file, relatively <br>
-f &lt;file&gt; Parse options from a file <br>
-G&lt;name&gt;=&lt;value&gt; Overwrite toplevel parameter
<br>
--gdb Run Verilator under GDB interactively <br>
--gdbbt Run Verilator under GDB for backtrace <br>
--help Display this help <br>
-I&lt;dir&gt; Directory to search for includes <br>
--if-depth &lt;value&gt; Tune IFDEPTH warning <br>
+incdir+&lt;dir&gt; Directory to search for includes <br>
--inhibit-sim Create function to turn off sim <br>
--inline-mult &lt;value&gt; Tune module inlining <br>
-LDFLAGS &lt;flags&gt; Linker pre-object flags for makefile
<br>
-LDLIBS &lt;flags&gt; Linker library flags for makefile <br>
--l2-name &lt;value&gt; Verilog scope name of the top module
<br>
--language &lt;lang&gt; Default language standard to parse
<br>
+libext+&lt;ext&gt;+[ext]... Extensions for finding modules
<br>
--lint-only Lint, but do not make output <br>
--MMD Create .d dependency files <br>
--MP Create phony dependency targets <br>
--Mdir &lt;directory&gt; Name of output object directory
<br>
--mod-prefix &lt;topname&gt; Name to prepend to lower
classes <br>
--no-clk &lt;signal-name&gt; Prevent marking specified
signal as clock <br>
--no-decoration Disable comments and symbol decorations <br>
--no-pins64 Don&rsquo;t use vluint64_t&rsquo;s for 33-64 bit
sigs <br>
--no-skip-identical Disable skipping identical output <br>
+notimingchecks Ignored <br>
-O0 Disable optimizations <br>
-O3 High performance optimizations <br>
-O&lt;optimization-letter&gt; Selectable optimizations <br>
-o &lt;executable&gt; Name of final executable <br>
--no-order-clock-delay Disable ordering clock enable
assignments <br>
--output-split &lt;bytes&gt; Split .cpp files into pieces
<br>
--output-split-cfuncs &lt;statements&gt; Split .cpp
functions <br>
--output-split-ctrace &lt;statements&gt; Split tracing
functions <br>
-P Disable line numbers and blanks with -E <br>
--pins-bv &lt;bits&gt; Specify types for top level ports
<br>
--pins-sc-uint Specify types for top level ports <br>
--pins-sc-biguint Specify types for top level ports <br>
--pins-uint8 Specify types for top level ports <br>
--pipe-filter &lt;command&gt; Filter all input through a
script <br>
--prefix &lt;topname&gt; Name of top level class <br>
--profile-cfuncs Name functions for profiling <br>
--private Debugging; see docs <br>
--public Debugging; see docs <br>
-pvalue+&lt;name&gt;=&lt;value&gt; Overwrite toplevel
parameter <br>
--report-unoptflat Extra diagnostics for UNOPTFLAT <br>
--savable Enable model save-restore <br>
--sc Create SystemC output <br>
--stats Create statistics file <br>
--stats-vars Provide statistics on variables <br>
-sv Enable SystemVerilog parsing <br>
+systemverilogext+&lt;ext&gt; Synonym for
+1800-2012ext+&lt;ext&gt; <br>
--top-module &lt;topname&gt; Name of top level input module
<br>
--trace Enable waveform creation <br>
--trace-depth &lt;levels&gt; Depth of tracing <br>
--trace-max-array &lt;depth&gt; Maximum bit width for
tracing <br>
--trace-max-width &lt;width&gt; Maximum array depth for
tracing <br>
--trace-params Enable tracing parameters <br>
--trace-structs Enable tracing structure names <br>
--trace-underscore Enable tracing of _signals <br>
-U&lt;var&gt; Undefine preprocessor define <br>
--unroll-count &lt;loops&gt; Tune maximum loop iterations
<br>
--unroll-stmts &lt;stmts&gt; Tune maximum loop body size
<br>
--unused-regexp &lt;regexp&gt; Tune UNUSED lint signals <br>
-V Verbose version and config <br>
-v &lt;filename&gt; Verilog library <br>
+verilog1995ext+&lt;ext&gt; Synonym for
+1364-1995ext+&lt;ext&gt; <br>
+verilog2001ext+&lt;ext&gt; Synonym for
+1364-2001ext+&lt;ext&gt; <br>
--vpi Enable VPI compiles <br>
-Werror-&lt;message&gt; Convert warning to error <br>
-Wfuture-&lt;message&gt; Disable unknown message warnings
<br>
-Wno-&lt;message&gt; Disable warning <br>
-Wno-lint Disable all lint warnings <br>
-Wno-style Disable all style warnings <br>
-Wno-fatal Disable fatal exit on warnings <br>
--x-assign &lt;mode&gt; Initially assign Xs to this value
<br>
--x-initial-edge Enable initial X-&gt;0 and X-&gt;1 edge
triggers <br>
-y &lt;dir&gt; Directory to search for modules</p>

<p style="margin-top: 1em">ARGUMENTS <br>
{file.v} <br>
Specifies the Verilog file containing the top module to be
Verilated.</p>

<p style="margin-top: 1em">{file.c/.cc/.cpp/.cxx} <br>
Specifies optional C++ files to be linked in with the
Verilog code. If any C++ files are specified in this way,
Verilator will include a make rule that generates a module
<br>
executable. Without any C++ files, Verilator will stop at
the module__ALL.a library, and presume you&rsquo;ll continue
linking with make rules you write yourself. See also the
<br>
-CFLAGS option.</p>

<p style="margin-top: 1em">{file.a/.o/.so} <br>
Specifies optional object or library files to be linked in
with the Verilog code, as a shorthand for -LDFLAGS
&quot;&lt;file&gt;&quot;. If any files are specified in this
way, Verilator <br>
will include a make rule that uses these files when linking
the module executable. This generally is only useful when
used with the --exe option.</p>

<p style="margin-top: 1em">+1364-1995ext+ext <br>
+1364-2001ext+ext <br>
+1364-2005ext+ext <br>
+1800-2005ext+ext <br>
+1800-2009ext+ext <br>
+1800-2012ext+ext <br>
Specifies the language standard to be used with a specific
filename extension, ext.</p>

<p style="margin-top: 1em">For compatibility with other
simulators, see also the synonyms
&quot;+verilog1995ext+&quot;ext,
&quot;+verilog2001ext+&quot;ext, and
&quot;+systemverilogext+&quot;ext.</p>

<p style="margin-top: 1em">For any source file, the
language specified by these options takes precedence over
any language specified by the &quot;--default-language&quot;
or &quot;--language&quot; options.</p>

<p style="margin-top: 1em">These options take effect in the
order they are encountered. Thus the following would use
Verilog 1995 for &quot;a.v&quot; and Verilog 2001 for
&quot;b.v&quot;.</p>

<p style="margin-top: 1em">verilator ... +1364-1995ext+v
a.v +1364-2001ext+v b.v</p>

<p style="margin-top: 1em">These flags are only recommended
for legacy mixed language designs, as the preferable option
is to edit the code to repair new keywords, or add
appropriate &quot;&lsquo;begin_keywords&quot;.</p>

<p style="margin-top: 1em">Note
&quot;&lsquo;begin_keywords&quot; is a SystemVerilog
construct, which specifies only which the set of keywords is
to be recognized. Whatever set is chosen, the semantics will
be those <br>
of SystemVerilog. By contrast &quot;+1364-1995ext+&quot;
etc. specify both the syntax and semantics to be used.</p>

<p style="margin-top: 1em">--assert <br>
Enable all assertions.</p>

<p style="margin-top: 1em">See also --x-assign and
--x-initial-edge; setting &quot;--x-assign unique&quot;
and/or &quot;--x-initial-edge&quot; may be desirable.</p>

<p style="margin-top: 1em">--autoflush <br>
After every $display or $fdisplay, flush the output stream.
This insures that messages will appear immediately but may
reduce performance; for best performance call <br>
&quot;fflush(stdout)&quot; occasionally in the main C loop.
Defaults off, which will buffer output as provided by the
normal C stdio calls.</p>

<p style="margin-top: 1em">--bbox-sys <br>
Black box any unknown $system task or function calls. System
tasks will be simply NOPed, and system functions will be
replaced by unsized zero. Arguments to such functions <br>
will be parsed, but not otherwise checked. This prevents
errors when linting in the presence of company specific PLI
calls.</p>

<p style="margin-top: 1em">--bbox-unsup <br>
Black box some unsupported language features, currently UDP
tables and the cmos and tran gate primitives. This may
enable linting the rest of the design even when <br>
unsupported constructs are present.</p>

<p style="margin-top: 1em">--bin filename <br>
Rarely needed. Override the default filename for Verilator
itself. When a dependency (.d) file is created, this
filename will become a source dependency, such that a change
<br>
in this binary will have make rebuild the output files.</p>

<p style="margin-top: 1em">-CFLAGS flags <br>
Add specified C compiler flags to the generated makefiles.
When make is run on the generated makefile these will be
passed to the C++ compiler (gcc/g++/msvc++).</p>

<p style="margin-top: 1em">--cc <br>
Specifies C++ without SystemC output mode; see also
--sc.</p>

<p style="margin-top: 1em">--cdc <br>
Experimental. Perform some clock domain crossing checks and
issue related warnings (CDCRSTLOGIC) and then exit; if
warnings other than CDC warnings are needed make a second
<br>
run with --lint-only. Additional warning information is also
written to the file {prefix}__cdc.txt.</p>

<p style="margin-top: 1em">Currently only checks some items
that other CDC tools missed; if you have interest in adding
more traditional CDC checks, please contact the authors.</p>

<p style="margin-top: 1em">--clk signal-name <br>
Sometimes it is quite difficult for Verilator to distinguish
clock signals from other data signals. Occasionally the
clock signals can end up in the checking list of signals
<br>
which determines if further evaluation is needed. This will
heavily degrade the performance of verilated model.</p>

<p style="margin-top: 1em">With --clk &lt;signal-name&gt;,
user can specified root clock into the model, then Verilator
will mark the signal as clocker and propagate the clocker
attribute automatically to <br>
other signals derived from that. In this way, Verilator will
try to avoid taking the clocker signal into checking
list.</p>

<p style="margin-top: 1em">Note signal-name is specified by
the RTL hierarchy path. For example, v.foo.bar. If the
signal is the input to top-module, the directly the signal
name. If you find it <br>
difficult to find the exact name, try to use
&quot;/*verilator clocker*/&quot; in RTL file to mark the
signal directly.</p>

<p style="margin-top: 1em">--compiler compiler-name <br>
Enables tunings and workarounds for the specified C++
compiler.</p>

<p style="margin-top: 1em">clang <br>
Tune for clang. This may reduce execution speed as it
enables several workarounds to avoid silly hardcoded limits
in clang. This includes breaking deep structures as <br>
for msvc as described below.</p>

<p style="margin-top: 1em">gcc Tune for Gnu C++, although
generated code should work on almost any compliant C++
compiler. Currently the default.</p>

<p style="margin-top: 1em">msvc <br>
Tune for Microsoft Visual C++. This may reduce execution
speed as it enables several workarounds to avoid silly
hardcoded limits in MSVC++. This includes breaking <br>
deeply nested parenthesized expressions into sub-expressions
to avoid error C1009, and breaking deep blocks into
functions to avoid error C1061.</p>

<p style="margin-top: 1em">--converge-limit &lt;loops&gt;
<br>
Rarely needed. Specifies the maximum number of runtime
iterations before creating a model failed to converge error.
Defaults to 100.</p>

<p style="margin-top: 1em">--coverage <br>
Enables all forms of coverage, alias for
&quot;--coverage-line --coverage-toggle
--coverage-user&quot;.</p>

<p style="margin-top: 1em">--coverage-line <br>
Specifies basic block line coverage analysis code should be
inserted.</p>

<p style="margin-top: 1em">Coverage analysis adds
statements at each code flow change point, which are the
branches of IF and CASE statements, a super-set of normal
Verilog Line Coverage. At each such <br>
branch a unique counter is incremented. At the end of a
test, the counters along with the filename and line number
corresponding to each counter are written into <br>
logs/coverage.pl.</p>

<p style="margin-top: 1em">Verilator automatically disables
coverage of branches that have a $stop in them, as it is
assumed $stop branches contain an error check that should
not occur. A /*verilator <br>
coverage_block_off*/ comment will perform a similar function
on any code in that block or below, or /*verilator
coverage_on/coverage_off*/ will disable coverage around
lines <br>
of code.</p>

<p style="margin-top: 1em">Note Verilator may over-count
combinatorial (non-clocked) blocks when those blocks receive
signals which have had the UNOPTFLAT warning disabled; for
most accurate results do <br>
not disable this warning when using coverage.</p>

<p style="margin-top: 1em">--coverage-toggle <br>
Specifies signal toggle coverage analysis code should be
inserted.</p>

<p style="margin-top: 1em">Every bit of every signal in a
module has a counter inserted. The counter will increment on
every edge change of the corresponding bit.</p>

<p style="margin-top: 1em">Signals that are part of tasks
or begin/end blocks are considered local variables and are
not covered. Signals that begin with underscores, are
integers, or are very wide <br>
(&gt;256 bits total storage across all dimensions) are also
not covered.</p>

<p style="margin-top: 1em">Hierarchy is compressed, such
that if a module is instantiated multiple times, coverage
will be summed for that bit across ALL instantiations of
that module with the same <br>
parameter set. A module instantiated with different
parameter values is considered a different module, and will
get counted separately.</p>

<p style="margin-top: 1em">Verilator makes a
minimally-intelligent decision about what clock domain the
signal goes to, and only looks for edges in that clock
domain. This means that edges may be <br>
ignored if it is known that the edge could never be seen by
the receiving logic. This algorithm may improve in the
future. The net result is coverage may be lower than what
<br>
would be seen by looking at traces, but the coverage is a
more accurate representation of the quality of stimulus into
the design.</p>

<p style="margin-top: 1em">There may be edges counted near
time zero while the model stabilizes. It&rsquo;s a good
practice to zero all coverage just before releasing reset to
prevent counting such <br>
behavior.</p>

<p style="margin-top: 1em">A /*verilator coverage_off/on */
comment pair can be used around signals that do not need
toggle analysis, such as RAMs and register files.</p>

<p style="margin-top: 1em">--coverage-underscore <br>
Enable coverage of signals that start with an underscore.
Normally, these signals are not covered. See also
--trace-underscore.</p>

<p style="margin-top: 1em">--coverage-user <br>
Enables user inserted functional coverage. Currently, all
functional coverage points are specified using SVA which
must be separately enabled with --assert.</p>

<p style="margin-top: 1em">For example, the following
statement will add a coverage point, with the comment
&quot;DefaultClock&quot;:</p>

<p style="margin-top: 1em">DefaultClock: cover property
(@(posedge clk) cyc==3);</p>

<p style="margin-top: 1em">-Dvar=value <br>
Defines the given preprocessor symbol, without allowing.
Similar to +define; +define is fairly standard across
Verilog tools while -D is an alias for GCC
compatibility.</p>

<p style="margin-top: 1em">--debug <br>
Select the debug built image of Verilator (if available),
and enable more internal assertions (equivalent to
&quot;--debug-check&quot;), debugging messages (equivalent
to &quot;--debugi <br>
4&quot;), and intermediate form dump files (equivalent to
&quot;--dump-treei 3&quot;).</p>

<p style="margin-top: 1em">--debug-check <br>
Rarely needed. Enable internal debugging assertion checks,
without changing debug verbosity. Enabled automatically when
--debug specified.</p>

<p style="margin-top: 1em">--debugi &lt;level&gt; <br>
--debugi-&lt;srcfile&gt; &lt;level&gt; <br>
Rarely needed - for developer use. Set internal debugging
level globally to the specified debug level (1-10) or set
the specified Verilator source file to the specified <br>
level (e.g. &quot;--debugi-V3Width 9&quot;). Higher levels
produce more detailed messages.</p>

<p style="margin-top: 1em">--default-language value <br>
Select the language to be used by default when first
processing each Verilog file. The language value must be
&quot;1364-1995&quot;, &quot;1364-2001&quot;,
&quot;1364-2005&quot;, &quot;1800-2005&quot;,
&quot;1800-2009&quot; <br>
or &quot;1800-2012&quot;.</p>

<p style="margin-top: 1em">Any language associated with a
particular file extension (see the various +langext+
options) will be used in preference to the language
specified by --default-language.</p>

<p style="margin-top: 1em">The --default-language flag is
only recommended for legacy code using the same language in
all source files, as the preferable option is to edit the
code to repair new <br>
keywords, or add appropriate
&quot;&lsquo;begin_keywords&quot;. For legacy mixed language
designs, the various +langext+ options should be used.</p>

<p style="margin-top: 1em">If no language is specified,
either by this flag or +langext+ options, then the latest
SystemVerilog language (IEEE 1800-2012) is used.</p>

<p style="margin-top: 1em">+define+var=value <br>
+define+var=value+var2=value2... <br>
Defines the given preprocessor symbol, or multiple symbols
if separated by plusses. Similar to -D; +define is fairly
standard across Verilog tools while -D is an alias for <br>
GCC compatibility.</p>

<p style="margin-top: 1em">--dump-tree <br>
Rarely needed. Enable writing .tree debug files with dumping
level 3, which dumps the standard critical stages. For
details on the format see the Verilator Internals <br>
manual. --dump-tree is enabled automatically with --debug,
so &quot;--debug --no-dump-tree&quot; may be useful if the
dump files are large and not desired.</p>

<p style="margin-top: 1em">--dump-treei &lt;level&gt; <br>
--dump-treei-&lt;srcfile&gt; &lt;level&gt; <br>
Rarely needed - for developer use. Set internal tree dumping
level globally to a specific dumping level or set the
specified Verilator source file to the specified tree <br>
dumping level (e.g. &quot;--dump-treei-V3Order 9&quot;).
Level 0 disbles dumps and is equivalent to
&quot;--no-dump-tree&quot;. Level 9 enables dumping of every
stage.</p>

<p style="margin-top: 1em">-E Preprocess the source code,
but do not compile, as with &rsquo;gcc -E&rsquo;. Output is
written to standard out. Beware of enabling debugging
messages, as they will also go to standard <br>
out.</p>

<p style="margin-top: 1em">--error-limit &lt;value&gt; <br>
After this number of errors or warnings are encountered,
exit. Defaults to 50.</p>

<p style="margin-top: 1em">--exe <br>
Generate an executable. You will also need to pass
additional .cpp files on the command line that implement the
main loop for your simulation.</p>

<p style="margin-top: 1em">-F file <br>
Read the specified file, and act as if all text inside it
was specified as command line parameters. Any relative paths
are relative to the directory containing the specified <br>
file. See also -f. Note -F is fairly standard across Verilog
tools.</p>

<p style="margin-top: 1em">-f file <br>
Read the specified file, and act as if all text inside it
was specified as command line parameters. Any relative paths
are relative to the current directory. See also -F. <br>
Note -f is fairly standard across Verilog tools.</p>

<p style="margin-top: 1em">The file may contain // comments
which are ignored to the end of the line. Any $VAR, $(VAR),
or ${VAR} will be replaced with the specified environment
variable.</p>

<p style="margin-top: 1em">-Gname=value <br>
Overwrites the given parameter of the toplevel module. The
value is limited to basic data literals:</p>

<p style="margin-top: 1em">Verilog integer literals <br>
The standard verilog integer literals are supported, so
values like 32&rsquo;h8, 2&rsquo;b00, 4 etc. are allowed.
Care must be taken that the single quote (I&rsquo;) is
properly escaped in <br>
an interactive shell, e.g., as -GWIDTH=8&acute;hx.</p>

<p style="margin-top: 1em">C integer literals <br>
It is also possible to use C integer notation, including
hexadecimal (0x..), octal (0..) or binary (0b..)
notation.</p>

<p style="margin-top: 1em">Double literals <br>
Double literals must contain a dot (.) and/or an exponent
(e).</p>

<p style="margin-top: 1em">Strings <br>
String must in double quotes (&quot;). On the command line
it is required to escape them properly, e.g. as
-GSTR=&quot;</p>

<p style="margin-top: 1em">--gdb <br>
Run Verilator underneath an interactive GDB (or
VERILATOR_GDB environment variable value) session. See also
--gdbbt.</p>

<p style="margin-top: 1em">--gdbbt <br>
If --debug is specified, run Verilator underneath a GDB
process and print a backtrace on exit, then exit GDB
immediately. Without --debug or if GDB doesn&rsquo;t seem to
work, <br>
this flag is ignored. Intended for easy creation of
backtraces by users; otherwise see the --gdb flag.</p>

<p style="margin-top: 1em">--help <br>
Displays this message and program version and exits.</p>

<p style="margin-top: 1em">-Idir <br>
See -y.</p>

<p style="margin-top: 1em">--if-depth value <br>
Rarely needed. Set the depth at which the IFDEPTH warning
will fire, defaults to 0 which disables this warning.</p>

<p style="margin-top: 1em">+incdir+dir <br>
See -y.</p>

<p style="margin-top: 1em">--inhibit-sim <br>
Rarely needed. Create a &quot;inhibitSim(bool)&quot;
function to enable and disable evaluation. This allows an
upper level testbench to disable modules that are not
important in a <br>
given simulation, without needing to recompile or change the
SystemC modules instantiated.</p>

<p style="margin-top: 1em">--inline-mult value <br>
Tune the inlining of modules. The default value of 2000
specifies that up to 2000 new operations may be added to the
model by inlining, if more than this number of <br>
operations would result, the module is not inlined. Larger
values, or a value &lt;= 1 will inline everything, will lead
to longer compile times, but potentially faster <br>
runtimes. This setting is ignored for very small modules;
they will always be inlined, if allowed.</p>

<p style="margin-top: 1em">-LDFLAGS flags <br>
Add specified C linker flags to the generated makefiles.
When make is run on the generated makefile these will be
passed to the C++ linker (ld) *after* the primary file <br>
being linked. This flag is called -LDFLAGS as that&rsquo;s
the traditional name in simulators; it&rsquo;s would have
been better called LDLIBS as that&rsquo;s the Makefile
variable it <br>
controls. (In Make, LDFLAGS is before the first object,
LDLIBS after. -L libraries need to be in the Make variable
LDLIBS, not LDFLAGS.)</p>

<p style="margin-top: 1em">--l2-name value <br>
Instead of using the module name when showing Verilog scope,
use the name provided. This allows simplifying some
Verilator-embedded modeling methodologies. Default is an
<br>
l2-name matching the top module. The default before 3.884
was &quot;--l2-name v&quot;</p>

<p style="margin-top: 1em">For example, the program
&quot;module t; initial $display(&quot;%m&quot;);
endmodule&quot; will show by default &quot;t&quot;. With
&quot;--l2-name v&quot; it will print &quot;v&quot;.</p>

<p style="margin-top: 1em">--language value <br>
A synonym for &quot;--default-language&quot;, for
compatibility with other tools and earlier versions of
Verilator.</p>

<p style="margin-top: 1em">+libext+ext+ext... <br>
Specify the extensions that should be used for finding
modules. If for example module x is referenced, look in
x.ext. Note +libext+ is fairly standard across Verilog
tools. <br>
Defaults to .v and .sv.</p>

<p style="margin-top: 1em">--lint-only <br>
Check the files for lint violations only, do not create any
other output.</p>

<p style="margin-top: 1em">You may also want the -Wall
option to enable messages that are considered stylistic and
not enabled by default.</p>

<p style="margin-top: 1em">If the design is not to be
completely Verilated see also the --bbox-sys and
--bbox-unsup options.</p>

<p style="margin-top: 1em">--MMD <br>
Enable creation of .d dependency files, used for make
dependency detection, similar to gcc -MMD option. On by
default, use --no-MMD to disable.</p>

<p style="margin-top: 1em">--MP <br>
When creating .d dependency files with --MMD, make phony
targets. Similar to gcc -MP option.</p>

<p style="margin-top: 1em">--Mdir directory <br>
Specifies the name of the Make object directory. All
generated files will be placed in this directory. If not
specified, &quot;obj_dir&quot; is used. The directory is
created if it <br>
does not exist and the parent directories exist; otherwise
manually create the Mdir before calling Verilator.</p>

<p style="margin-top: 1em">--mod-prefix topname <br>
Specifies the name to prepend to all lower level classes.
Defaults to the same as --prefix.</p>

<p style="margin-top: 1em">--no-clk &lt;signal-name&gt;
<br>
Prevent the specified signal from being marked as clock. See
&quot;--clk&quot;.</p>

<p style="margin-top: 1em">--no-decoration <br>
When creating output Verilated code, minimize comments,
whitespace, symbol names and other decorative items, at the
cost of greatly reduced readability. This may assist C++
<br>
compile times. This will not typically change the ultimate
model&rsquo;s performance, but may in some cases.</p>

<p style="margin-top: 1em">--no-pins64 <br>
Backward compatible alias for &quot;--pins-bv 33&quot;.</p>

<p style="margin-top: 1em">--no-skip-identical <br>
Rarely needed. Disables skipping execution of Verilator if
all source files are identical, and all output files exist
with newer dates.</p>

<p style="margin-top: 1em">+notimingchecks <br>
Ignored for compatibility with other simulators.</p>

<p style="margin-top: 1em">-O0 Disables optimization of the
model.</p>

<p style="margin-top: 1em">-O3 Enables slow optimizations
for the code Verilator itself generates (as opposed to
&quot;-CFLAGS -O3&quot; which effects the C compiler&rsquo;s
optimization. -O3 may reduce simulation <br>
runtimes at the cost of compile time. This currently sets
--inline-mult -1.</p>

<p style="margin-top: 1em">-Ooptimization-letter <br>
Rarely needed. Enables or disables a specific optimizations,
with the optimization selected based on the letter passed. A
lowercase letter disables an optimization, an <br>
upper case letter enables it. This is intended for debugging
use only; see the source code for version-dependent mappings
of optimizations to -O letters.</p>

<p style="margin-top: 1em">-o &lt;executable&gt; <br>
Specify the name for the final executable built if using
--exe. Defaults to the --prefix if not specified.</p>

<p style="margin-top: 1em">--no-order-clock-delay <br>
Rarely needed. Disables a bug fix for ordering of clock
enables with delayed assignments. This flag should only be
used when suggested by the developers.</p>

<p style="margin-top: 1em">--output-split bytes <br>
Enables splitting the output .cpp/.sp files into multiple
outputs. When a C++ file exceeds the specified number of
operations, a new file will be created at the next <br>
function boundary. In addition, any slow routines will be
placed into __Slow files. This accelerates compilation by as
optimization can be disabled on the slow routines, <br>
and the remaining files can be compiled on parallel
machines. Using --output-split should have only a trivial
impact on performance. With GCC 3.3 on a 2GHz Opteron, <br>
--output-split 20000 will result in splitting into
approximately one-minute-compile chunks.</p>

<p style="margin-top: 1em">--output-split-cfuncs statements
<br>
Enables splitting functions in the output .cpp/.sp files
into multiple functions. When a generated function exceeds
the specified number of operations, a new function will <br>
be created. With --output-split, this will enable GCC to
compile faster, at a small loss in performance that gets
worse with decreasing split values. Note that this option
<br>
is stronger than --output-split in the sense that
--output-split will not split inside a function.</p>

<p style="margin-top: 1em">--output-split-ctrace statements
<br>
Enables splitting trace functions in the output .cpp/.sp
files into multiple functions. Defaults to same setting as
--output-split-cfuncs.</p>

<p style="margin-top: 1em">-P With -E, disable generation
of &lsquo;line markers and blank lines, similar to GCC -P
flag.</p>

<p style="margin-top: 1em">--pins64 <br>
Backward compatible alias for &quot;--pins-bv 65&quot;. Note
that&rsquo;s a 65, not a 64.</p>

<p style="margin-top: 1em">--pins-bv width <br>
Specifies SystemC inputs/outputs of greater than or equal to
width bits wide should use sc_bv&rsquo;s instead of
uint32/vluint64_t&rsquo;s. The default is &quot;--pins-bv
65&quot;, and the value <br>
must be less than or equal to 65. Versions before Verilator
3.671 defaulted to &quot;--pins-bv 33&quot;. The more sc_bv
is used, the worse for performance. Use the
&quot;/*verilator <br>
sc_bv*/&quot; attribute to select specific ports to be
sc_bv.</p>

<p style="margin-top: 1em">--pins-sc-uint <br>
Specifies SystemC inputs/outputs of greater than 2 bits wide
should use sc_uint between 2 and 64. When combined with the
&quot;--pins-sc-biguint&quot; combination, it results in
<br>
sc_uint being used between 2 and 64 and sc_biguint being
used between 65 and 512.</p>

<p style="margin-top: 1em">--pins-sc-biguint <br>
Specifies SystemC inputs/outputs of greater than 65 bits
wide should use sc_biguint between 65 and 512, and sc_bv
from 513 upwards. When combined with the
&quot;--pins-sc-uint&quot; <br>
combination, it results in sc_uint being used between 2 and
64 and sc_biguint being used between 65 and 512.</p>

<p style="margin-top: 1em">--pins-uint8 <br>
Specifies SystemC inputs/outputs that are smaller than the
--pins-bv setting and 8 bits or less should use uint8_t
instead of uint32_t. Likewise pins of width 9-16 will use
<br>
uint16_t instead of uint32_t.</p>

<p style="margin-top: 1em">--pipe-filter command <br>
Rarely needed and experimental. Verilator will spawn the
specified command as a subprocess pipe, to allow the command
to perform custom edits on the Verilog code before it <br>
reaches Verilator.</p>

<p style="margin-top: 1em">Before reading each Verilog
file, Verilator will pass the file name to the
subprocess&rsquo; stdin with &rsquo;read_verilog
&quot;&lt;filename&gt;&quot;&rsquo;. The filter may then
read the file and perform <br>
any filtering it desires, and feeds the new file contents
back to Verilator on stdout with
&rsquo;Content-Length&rsquo;. Output to stderr from the
filter feeds through to Verilator&rsquo;s <br>
stdout and if the filter exits with non-zero status
Verilator terminates. See the t/t_pipe_filter test for an
example.</p>

<p style="margin-top: 1em">To debug the output of the
filter, try using the -E option to see preprocessed
output.</p>

<p style="margin-top: 1em">--prefix topname <br>
Specifies the name of the top level class and makefile.
Defaults to V prepended to the name of the --top-module
switch, or V prepended to the first Verilog filename passed
<br>
on the command line.</p>

<p style="margin-top: 1em">--profile-cfuncs <br>
Modify the created C++ functions to support profiling. The
functions will be minimized to contain one &quot;basic&quot;
statement, generally a single always block or wire
statement. <br>
(Note this will slow down the executable by ~5%.)
Furthermore, the function name will be suffixed with the
basename of the Verilog module and line number the statement
came <br>
from. This allows gprof or oprofile reports to be correlated
with the original Verilog source statements.</p>

<p style="margin-top: 1em">--private <br>
Opposite of --public. Is the default; this option exists for
backwards compatibility.</p>

<p style="margin-top: 1em">--public <br>
This is only for historical debug use. Using it may result
in mis-simulation of generated clocks.</p>

<p style="margin-top: 1em">Declares all signals and modules
public. This will turn off signal optimizations as if all
signals had a /*verilator public*/ comments and inlining.
This will also turn off <br>
inlining as if all modules had a /*verilator
public_module*/, unless the module specifically enabled it
with /*verilator inline_module*/.</p>

<p style="margin-top: 1em">-pvalue+name=value <br>
Overwrites the given parameter(s) of the toplevel module.
See -G for a detailed description.</p>

<p style="margin-top: 1em">--report-unoptflat <br>
Extra diagnostics for UNOPTFLAT warnings. This includes for
each loop, the 10 widest variables in the loop, and the 10
most fanned out variables in the loop. These are <br>
candidates for splitting into multiple variables to break
the loop.</p>

<p style="margin-top: 1em">In addition produces a GraphViz
DOT file of the entire strongly connected components within
the source associated with each loop. This is produced
irrespective of whether <br>
--dump-tree is set. Such graphs may help in analyzing the
problem, but can be very large indeed.</p>

<p style="margin-top: 1em">Various commands exist for
viewing and manipulating DOT files. For example the dot
command can be used to convert a DOT file to a PDF for
printing. For example:</p>

<p style="margin-top: 1em">dot -Tpdf -O
Vt_unoptflat_simple_2_35_unoptflat.dot</p>

<p style="margin-top: 1em">will generate a PDF
Vt_unoptflat_simple_2_35_unoptflat.dot.pdf from the DOT
file.</p>

<p style="margin-top: 1em">--savable <br>
Enable including save and restore functions in the generated
model.</p>

<p style="margin-top: 1em">The user code must create a
VerilatedSerialize or VerilatedDeserialze object then
calling the &lt;&lt; or &gt;&gt; operators on the generated
model and any other data the process needs <br>
saved/restored. For example:</p>

<p style="margin-top: 1em">void save_model(const char*
filenamep) { <br>
VerilatedSave os; <br>
os.open(filenamep); <br>
os &lt;&lt; main_time; // user code must save the timestamp,
etc <br>
os &lt;&lt; *topp; <br>
} <br>
void restore_model(const char* filenamep) { <br>
VerilatedRestore os; <br>
os.open(filenamep); <br>
os &gt;&gt; main_time; <br>
os &gt;&gt; *topp; <br>
}</p>

<p style="margin-top: 1em">--sc <br>
Specifies SystemC output mode; see also --cc.</p>

<p style="margin-top: 1em">--stats <br>
Creates a dump file with statistics on the design in
{prefix}__stats.txt.</p>

<p style="margin-top: 1em">--stats-vars <br>
Creates more detailed statistics including a list of all the
variables by size (plain --stats just gives a count). See
--stats, which is implied by this.</p>

<p style="margin-top: 1em">-sv Specifies SystemVerilog
language features should be enabled; equivalent to
&quot;--language 1800-2005&quot;. This option is selected by
default, it exists for compatibility with other <br>
simulators.</p>

<p style="margin-top: 1em">+systemverilogext+ext <br>
A synonym for &quot;+1800-2012ext+&quot;ext.</p>

<p style="margin-top: 1em">--top-module topname <br>
When the input Verilog contains more than one top level
module, specifies the name of the top level Verilog module
to become the top, and sets the default for if --prefix is
<br>
not used. This is not needed with standard designs with only
one top.</p>

<p style="margin-top: 1em">--trace <br>
Adds waveform tracing code to the model. Verilator will
generate additional {prefix}__Trace*.cpp files that will
need to be compiled. In addition verilated_vcd_sc.cpp (for
<br>
SystemC traces) or verilated_vcd_c.cpp (for both) must be
compiled and linked in. If using the Verilator generated
Makefiles, these will be added as source targets for you.
<br>
If you&rsquo;re not using the Verilator makefiles, you will
need to add these to your Makefile manually.</p>

<p style="margin-top: 1em">Having tracing compiled in may
result in some small performance losses, even when waveforms
are not turned on during model execution.</p>

<p style="margin-top: 1em">--trace-depth levels <br>
Specify the number of levels deep to enable tracing, for
example --trace-level 1 to only see the top level&rsquo;s
signals. Defaults to the entire model. Using a small number
<br>
will decrease visibility, but greatly improve runtime and
trace file size.</p>

<p style="margin-top: 1em">--trace-max-array depth <br>
Rarely needed. Specify the maximum array depth of a signal
that may be traced. Defaults to 32, as tracing large arrays
may greatly slow traced simulations.</p>

<p style="margin-top: 1em">--trace-max-width width <br>
Rarely needed. Specify the maximum bit width of a signal
that may be traced. Defaults to 256, as tracing large
vectors may greatly slow traced simulations.</p>

<p style="margin-top: 1em">--no-trace-params <br>
Disable tracing of parameters.</p>

<p style="margin-top: 1em">--trace-structs <br>
Enable tracing to show the name of packed structure, union,
and packed array fields, rather than a simgle combined
packed bus. Due to VCD file format constraints this may <br>
result in significantly slower trace times and larger trace
files.</p>

<p style="margin-top: 1em">--trace-underscore <br>
Enable tracing of signals that start with an underscore.
Normally, these signals are not output during tracing. See
also --coverage-underscore.</p>

<p style="margin-top: 1em">-Uvar <br>
Undefines the given preprocessor symbol.</p>

<p style="margin-top: 1em">--unroll-count loops <br>
Rarely needed. Specifies the maximum number of loop
iterations that may be unrolled. See also BLKLOOPINIT
warning.</p>

<p style="margin-top: 1em">--unroll-stmts statements <br>
Rarely needed. Specifies the maximum number of statements in
a loop for that loop to be unrolled. See also BLKLOOPINIT
warning.</p>

<p style="margin-top: 1em">--unused-regexp regexp <br>
Rarely needed. Specifies a simple regexp with * and ? that
if a signal name matches will suppress the UNUSED warning.
Defaults to &quot;*unused*&quot;. Setting it to &quot;&quot;
disables <br>
matching.</p>

<p style="margin-top: 1em">-V Shows the verbose version,
including configuration information compiled into Verilator.
(Similar to perl -V.)</p>

<p style="margin-top: 1em">-v filename <br>
Read the filename as a Verilog library. Any modules in the
file may be used to resolve cell instantiations in the top
level module, else ignored. Note -v is fairly standard <br>
across Verilog tools.</p>

<p style="margin-top: 1em">+verilog1995ext+ext <br>
+verilog2001ext+ext <br>
Synonyms for &quot;+1364-1995ext+&quot;ext and
&quot;+1364-2001ext+&quot;ext respectively</p>

<p style="margin-top: 1em">--vpi <br>
Enable use of VPI and linking against the verilated_vpi.cpp
files.</p>

<p style="margin-top: 1em">-Wall <br>
Enable all warnings, including code style warnings that are
normally disabled by default.</p>

<p style="margin-top: 1em">-Werror-message <br>
Convert the specified warning message into an error message.
This is generally to discourage users from violating
important site-wide rules, for example <br>
&quot;-Werror-NOUNOPTFLAT&quot;.</p>

<p style="margin-top: 1em">-Wfuture-message <br>
Rarely needed. Suppress unknown Verilator comments or
warning messages with the given message code. This is used
to allow code written with pragmas for a later version of
<br>
Verilator to run under a older version; add -Wfuture-
arguments for each message code or comment that the new
version supports which the older version does not
support.</p>

<p style="margin-top: 1em">-Wno-message <br>
Disable the specified warning message. This will override
any lint_on directives in the source, i.e. the warning will
still not be printed.</p>

<p style="margin-top: 1em">-Wno-lint <br>
Disable all lint related warning messages, and all style
warnings. This is equivalent to &quot;-Wno-ALWCOMBORDER
-Wno-CASEINCOMPLETE -Wno-CASEOVERLAP -Wno-CASEX
-Wno-CASEWITHX <br>
-Wno-CMPCONST -Wno-ENDLABEL -Wno-IMPLICIT -Wno-LITENDIAN
-Wno-PINCONNECTEMPTY -Wno-PINMISSING -Wno-SYNCASYNCNET
-Wno-UNDRIVEN -Wno-UNSIGNED -Wno-UNUSED -Wno-WIDTH&quot;
plus the <br>
list shown for Wno-style.</p>

<p style="margin-top: 1em">It is strongly recommended you
cleanup your code rather than using this option, it is only
intended to be use when running test-cases of code received
from third parties.</p>

<p style="margin-top: 1em">-Wno-style <br>
Disable all code style related warning messages (note by
default they are already disabled). This is equivalent to
&quot;-Wno-DECLFILENAME -Wno-DEFPARAM -Wno-INCABSPATH <br>
-Wno-PINCONNECTEMPTY -Wno-PINNOCONNECT -Wno-SYNCASYNCNET
-Wno-UNDRIVEN -Wno-UNUSED -Wno-VARHIDDEN&quot;.</p>

<p style="margin-top: 1em">-Wno-fatal <br>
When warnings are detected, print them, but do not exit the
simulator.</p>

<p style="margin-top: 1em">Having warning messages in
builds is sloppy. It is strongly recommended you cleanup
your code, use inline lint_off, or use -Wno-... flags rather
than using this option.</p>

<p style="margin-top: 1em">-Wwarn-message <br>
Enables the specified warning message.</p>

<p style="margin-top: 1em">-Wwarn-lint <br>
Enable all lint related warning messages (note by default
they are already enabled), but do not affect style messages.
This is equivalent to &quot;-Wwarn-ALWCOMBORDER <br>
-Wwarn-CASEINCOMPLETE -Wwarn-CASEOVERLAP -Wwarn-CASEX
-Wwarn-CASEWITHX -Wwarn-CMPCONST -Wwarn-ENDLABEL
-Wwarn-IMPLICIT -Wwarn-LITENDIAN -Wwarn-PINMISSING
-Wwarn-REALCVT <br>
-Wwarn-UNSIGNED -Wwarn-WIDTH&quot;.</p>

<p style="margin-top: 1em">-Wwarn-style <br>
Enable all code style related warning messages. This is
equivalent to &quot;-Wwarn ASSIGNDLY -Wwarn-DECLFILENAME
-Wwarn-DEFPARAM -Wwarn-INCABSPATH -Wwarn-PINNOCONNECT <br>
-Wwarn-SYNCASYNCNET -Wwarn-UNDRIVEN -Wwarn-UNUSED
-Wwarn-VARHIDDEN&quot;.</p>

<p style="margin-top: 1em">--x-assign 0 <br>
--x-assign 1 <br>
--x-assign fast (default) <br>
--x-assign unique <br>
Controls the two-state value that is replaced when an
assignment to X is encountered. --x-assign=fast, the
default, converts all Xs to whatever is best for
performance. <br>
--x-assign=0 converts all Xs to 0s, and is also fast.
--x-assign=1 converts all Xs to 1s, this is nearly as fast
as 0, but more likely to find reset bugs as active high <br>
logic will fire. --x-assign=unique will call a function to
determine the value, this allows randomization of all Xs to
find reset bugs and is the slowest, but safest for <br>
finding reset bugs in code.</p>

<p style="margin-top: 1em">If using --x-assign unique, you
may want to seed your random number generator such that each
regression run gets a different randomization sequence. Use
the system&rsquo;s <br>
srand48() or for Windows srand() function to do this.
You&rsquo;ll probably also want to print any seeds selected,
and code to enable rerunning with that same seed so you can
<br>
reproduce bugs.</p>

<p style="margin-top: 1em">Note. This option applies only
to variables which are explicitly assigned to X in the
Verilog source code. Initial values of clocks are set to 0
unless --x-initial-edge is <br>
specified. Initial values of all other state holding
variables are set as though --x-assign unique had been
specified.</p>

<p style="margin-top: 1em">--x-initial-edge <br>
Enables emulation of event driven simulators which generally
trigger an edge on a transition from X to 1
(&quot;posedge&quot;) or X to 0 (&quot;negedge&quot;). Thus
the following code, where <br>
&quot;rst_n&quot; is uninitialized would set
&quot;res_n&quot; to &quot;1&rsquo;b1&quot; when
&quot;rst_n&quot; is first set to zero:</p>

<p style="margin-top: 1em">reg res_n = 1&rsquo;b0;</p>

<p style="margin-top: 1em">always @(negedge rst_n) begin
<br>
if (rst_n == 1&rsquo;b0) begin <br>
res_n &lt;= 1&rsquo;b1; <br>
end <br>
end</p>

<p style="margin-top: 1em">In Verilator, by default,
uninitialized clocks are given a value of zero, so the above
&quot;always&quot; block would not trigger.</p>

<p style="margin-top: 1em">While it is not good practice,
there are some designs that rely on X X 0 triggering a
&quot;negedge&quot;, particularly in reset sequences. Using
--x-initial-edge with Verilator will <br>
replicate this behavior. It will also ensure that X X 1
triggers a &quot;posedge&quot;.</p>

<p style="margin-top: 1em">Note. Some users have reported
that using this option can affect convergence, and that it
may be necessary to use --converge-limit to increase the
number of convergence <br>
iterations. This may be another indication of problems with
the modelled design that should be addressed.</p>

<p style="margin-top: 1em">-y dir <br>
Add the directory to the list of directories that should be
searched for include files or libraries. The three flags -y,
+incdir and -I have similar effect; +incdir and +y <br>
are fairly standard across Verilog tools while -I is an
alias for GCC compatibility.</p>

<p style="margin-top: 1em">Verilator defaults to the
current directory (&quot;-y .&quot;) and any specified
--Mdir, though these default paths are used after any user
specified directories. This allows &rsquo;-y <br>
&quot;$(pwd)&quot;&rsquo; to be used if absolute filenames
are desired for error messages instead of relative
filenames.</p>

<p style="margin-top: 1em">EXAMPLE C++ EXECUTION <br>
We&rsquo;ll compile this example into C++.</p>

<p style="margin-top: 1em">mkdir test_our <br>
cd test_our</p>

<p style="margin-top: 1em">cat &lt;&lt;EOF &gt;our.v <br>
module our; <br>
initial begin $display(&quot;Hello World&quot;); $finish;
end <br>
endmodule <br>
EOF</p>

<p style="margin-top: 1em">cat &lt;&lt;EOF &gt;sim_main.cpp
<br>
#include &quot;Vour.h&quot; <br>
#include &quot;verilated.h&quot; <br>
int main(int argc, char **argv, char **env) { <br>
Verilated::commandArgs(argc, argv); <br>
Vour* top = new Vour; <br>
while (!Verilated::gotFinish()) { top-&gt;eval(); } <br>
delete top; <br>
exit(0); <br>
} <br>
EOF</p>

<p style="margin-top: 1em">If you installed Verilator from
sources, or a tarball, but not as part of your operating
system (as an RPM), first you need to point to the kit:</p>

<p style="margin-top: 1em">export
VERILATOR_ROOT=/path/to/where/verilator/was/installed <br>
export PATH=$VERILATOR_ROOT/bin:$PATH</p>

<p style="margin-top: 1em">Now we run Verilator on our
little example.</p>

<p style="margin-top: 1em">verilator -Wall --cc our.v --exe
sim_main.cpp</p>

<p style="margin-top: 1em">We can see the source code under
the &quot;obj_dir&quot; directory. See the FILES section
below for descriptions of some of the files that were
created.</p>

<p style="margin-top: 1em">ls -l obj_dir</p>

<p style="margin-top: 1em">We then can compile it</p>

<p style="margin-top: 1em">make -j -C obj_dir -f Vour.mk
Vour</p>

<p style="margin-top: 1em">(Verilator included a default
compile rule and link rule, since we used --exe and passed a
.cpp file on the Verilator command line. You can also write
your own compile rules, as <br>
we&rsquo;ll show in the SYSTEMC section.)</p>

<p style="margin-top: 1em">And now we run it</p>

<p style="margin-top: 1em">obj_dir/Vour</p>

<p style="margin-top: 1em">And we get as output</p>

<p style="margin-top: 1em">Hello World <br>
- our.v:2: Verilog $finish</p>

<p style="margin-top: 1em">Really, you&rsquo;re better off
writing a Makefile to do all this for you. Then, when your
source changes it will automatically run all of these steps;
to aid this Verilator can <br>
create a makefile dependency file. See the test_c directory
in the distribution for an example.</p>

<p style="margin-top: 1em">EXAMPLE SYSTEMC EXECUTION <br>
This is an example similar to the above, but using
SystemC.</p>

<p style="margin-top: 1em">mkdir test_our_sc <br>
cd test_our_sc</p>

<p style="margin-top: 1em">cat &lt;&lt;EOF &gt;our.v <br>
module our (clk); <br>
input clk; // Clock is required to get initial activation
<br>
always @ (posedge clk) <br>
begin $display(&quot;Hello World&quot;); $finish; end <br>
endmodule <br>
EOF</p>

<p style="margin-top: 1em">cat &lt;&lt;EOF &gt;sc_main.cpp
<br>
#include &quot;Vour.h&quot; <br>
int sc_main(int argc, char **argv) { <br>
Verilated::commandArgs(argc, argv); <br>
sc_clock clk (&quot;clk&quot;,10, 0.5, 3, true); <br>
Vour* top; <br>
top = new Vour(&quot;top&quot;); // SP_CELL (top, Vour);
<br>
top-&gt;clk(clk); // SP_PIN (top, clk, clk); <br>
while (!Verilated::gotFinish()) { sc_start(1, SC_NS); } <br>
delete top; <br>
exit(0); <br>
} <br>
EOF</p>

<p style="margin-top: 1em">If you installed Verilator from
sources, or a tarball, but not as part of your operating
system (as an RPM), first you need to point to the kit:</p>

<p style="margin-top: 1em">export
VERILATOR_ROOT=/path/to/where/verilator/was/installed <br>
export PATH=$VERILATOR_ROOT/bin:$PATH</p>

<p style="margin-top: 1em">Now we run Verilator on our
little example.</p>

<p style="margin-top: 1em">verilator -Wall --sc our.v</p>

<p style="margin-top: 1em">We then can compile it</p>

<p style="margin-top: 1em">cd obj_dir <br>
make -j -f Vour.mk Vour__ALL.a <br>
make -j -f Vour.mk ../sc_main.o verilated.o</p>

<p style="margin-top: 1em">And link with SystemC. Note your
path to the libraries may vary, depending on the operating
system.</p>

<p style="margin-top: 1em">export
SYSTEMC_LIBDIR=/path/to/where/libsystemc.a/exists <br>
export LD_LIBRARY_PATH=$SYSTEMC_LIBDIR:$LD_LIBRARY_PATH <br>
# Might be needed if SystemC 2.3.0 <br>
export SYSTEMC_CXX_FLAGS=-pthread</p>

<p style="margin-top: 1em">g++ -L$SYSTEMC_LIBDIR
../sc_main.o Vour__ALL*.o verilated.o -o Vour -lsystemc</p>

<p style="margin-top: 1em">And now we run it</p>

<p style="margin-top: 1em">cd .. <br>
obj_dir/Vour</p>

<p style="margin-top: 1em">And we get the same output as
the C++ example:</p>

<p style="margin-top: 1em">Hello World <br>
- our.v:2: Verilog $finish</p>

<p style="margin-top: 1em">Really, you&rsquo;re better off
using a Makefile to do all this for you. Then, when your
source changes it will automatically run all of these steps.
See the test_sc directory in the <br>
distribution for an example.</p>

<p style="margin-top: 1em">BENCHMARKING &amp; OPTIMIZATION
<br>
For best performance, run Verilator with the &quot;-O3
--x-assign=fast --noassert&quot; flags. The -O3 flag will
require longer compile times, and --x-assign=fast may
increase the risk of <br>
reset bugs in trade for performance; see the above
documentation for these flags.</p>

<p style="margin-top: 1em">Minor Verilog code changes can
also give big wins. You should not have any UNOPTFLAT
warnings from Verilator. Fixing these warnings can result in
huge improvements; one user <br>
fixed their one UNOPTFLAT warning by making a simple change
to a clock latch used to gate clocks and gained a 60%
performance improvement.</p>

<p style="margin-top: 1em">Beyond that, the performance of
a Verilated model depends mostly on your C++ compiler and
size of your CPU&rsquo;s caches.</p>

<p style="margin-top: 1em">By default, the lib/verilated.mk
file has optimization turned off. This is for the benefit of
new users, as it improves compile times at the cost of
runtimes. To add <br>
optimization as the default, set one of three variables,
OPT, OPT_FAST, or OPT_SLOW lib/verilated.mk. Or, use the
-CFLAGS and/or -LDFLAGS option on the verilator command line
to <br>
pass the flags directly to the compiler or linker. Or, just
for one run, pass them on the command line to make:</p>

<p style="margin-top: 1em">make OPT_FAST=&quot;-O2&quot; -f
Vour.mk Vour__ALL.a</p>

<p style="margin-top: 1em">OPT_FAST specifies optimizations
for those programs that are part of the fast path, mostly
code that is executed every cycle. OPT_SLOW specifies
optimizations for slow-path <br>
files (plus tracing), which execute only rarely, yet take a
long time to compile with optimization on. OPT specifies
overall optimization and affects all compiles, including
<br>
those OPT_FAST and OPT_SLOW affect. For best results, use
OPT=&quot;-O2&quot;, and link with &quot;-static&quot;.
Nearly the same results can be had with much better compile
times with <br>
OPT_FAST=&quot;-O1 -fstrict-aliasing&quot;. Higher
optimization such as &quot;-O3&quot; may help, but gcc
compile times may be excessive under O3 on even medium sized
designs. Alternatively, some <br>
larger designs report better performance using
&quot;-Os&quot;.</p>

<p style="margin-top: 1em">Unfortunately, using the
optimizer with SystemC files can result in compiles taking
several minutes. (The SystemC libraries have many little
inlined functions that drive the <br>
compiler nuts.)</p>

<p style="margin-top: 1em">For best results, use GCC 3.3 or
newer. GCC 3.2 and earlier have optimization bugs around
pointer aliasing detection, which can result in 2x
performance losses.</p>

<p style="margin-top: 1em">If you will be running many
simulations on a single compile, investigate feedback driven
compilation. With GCC, using -fprofile-arcs, then
-fbranch-probabilities will yield <br>
another 15% or so.</p>

<p style="margin-top: 1em">Modern compilers also support
link-time optimization (LTO), which can help especially if
you link in DPI code. To enable LTO on GCC, pass
&quot;-flto&quot; in both compilation and link. <br>
Note LTO may cause excessive compile times on large
designs.</p>

<p style="margin-top: 1em">If you are using your own
makefiles, you may want to compile the Verilated code with
-DVL_INLINE_OPT=inline. This will inline functions, however
this requires that all cpp files <br>
be compiled in a single compiler run.</p>

<p style="margin-top: 1em">You may uncover further tuning
possibilities by profiling the Verilog code. Use
Verilator&rsquo;s --profile-cfuncs, then GCC&rsquo;s -g -pg.
You can then run either oprofile or gprof to <br>
see where in the C++ code the time is spent. Run the gprof
output through verilator_profcfunc and it will tell you what
Verilog line numbers on which most of the time is being <br>
spent.</p>

<p style="margin-top: 1em">When done, please let the author
know the results. I like to keep tabs on how Verilator
compares, and may be able to suggest additional
improvements.</p>

<p style="margin-top: 1em">FILES <br>
All output files are placed in the output directory name
specified with the -Mdir option, or &quot;obj_dir&quot; if
not specified.</p>

<p style="margin-top: 1em">Verilator creates the following
files in the output directory:</p>

<p style="margin-top: 1em">{prefix}.mk // Make include file
for compiling <br>
{prefix}_classes.mk // Make include file with class
names</p>

<p style="margin-top: 1em">For -cc and -sc mode, it also
creates:</p>

<p style="margin-top: 1em">{prefix}.cpp // Top level C++
file <br>
{prefix}.h // Top level header <br>
{prefix}{each_verilog_module}.cpp // Lower level internal
C++ files <br>
{prefix}{each_verilog_module}.h // Lower level internal
header files</p>

<p style="margin-top: 1em">In certain optimization modes,
it also creates:</p>

<p style="margin-top: 1em">{prefix}__Dpi.h // DPI import
and export declarations <br>
{prefix}__Inlines.h // Inline support functions <br>
{prefix}__Slow.cpp // Constructors and infrequent routines
<br>
{prefix}__Syms.cpp // Global symbol table C++ <br>
{prefix}__Syms.h // Global symbol table header <br>
{prefix}__Trace.cpp // Wave file generation code (--trace)
<br>
{prefix}__cdc.txt // Clock Domain Crossing checks (--cdc)
<br>
{prefix}__stats.txt // Statistics (--stats)</p>

<p style="margin-top: 1em">It also creates internal files
that can be mostly ignored:</p>

<p style="margin-top: 1em">{each_verilog_module}.vpp //
Post-processed verilog (--debug) <br>
{prefix}.flags_vbin // Verilator dependencies <br>
{prefix}.flags_vpp // Pre-processor dependencies <br>
{prefix}__verFiles.dat // Timestamps for skip-identical <br>
{prefix}{misc}.d // Make dependencies (-MMD) <br>
{prefix}{misc}.dot // Debugging graph files (--debug) <br>
{prefix}{misc}.tree // Debugging files (--debug)</p>

<p style="margin-top: 1em">After running Make, the C++
compiler should produce the following:</p>

<p style="margin-top: 1em">{prefix} // Final executable
(w/--exe argument) <br>
{prefix}__ALL.a // Library of all Verilated objects <br>
{prefix}{misc}.o // Intermediate objects</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
LD_LIBRARY_PATH <br>
A generic Linux/OS variable specifying what directories have
shared object (.so) files. This path should include SystemC
and any other shared objects needed at runtime.</p>

<p style="margin-top: 1em">OBJCACHE <br>
Optionally specifies a caching or distribution program to
place in front of all runs of the C++ Compiler. For example,
&quot;objcache --read --write&quot;, or &quot;ccache&quot;.
If using <br>
distcc, it would generally be run under either objcache or
ccache; see the documentation for those programs.</p>

<p style="margin-top: 1em">SYSTEMC <br>
Deprecated. Used only if SYSTEMC_INCLUDE or SYSTEMC_LIBDIR
is not set. If set, specifies the directory containing the
SystemC distribution. If not specified, it will come <br>
from a default optionally specified at configure time
(before Verilator was compiled).</p>

<p style="margin-top: 1em">SYSTEMC_ARCH <br>
Deprecated. Used only if SYSTEMC_LIBDIR is not set.
Specifies the architecture name used by the SystemC kit.
This is the part after the dash in the lib-{...} directory
<br>
name created by a &rsquo;make&rsquo; in the SystemC
distribution. If not set, Verilator will try to intuit the
proper setting, or use the default optionally specified at
configure time <br>
(before Verilator was compiled).</p>

<p style="margin-top: 1em">SYSTEMC_CXX_FLAGS <br>
Specifies additional flags that are required to be passed to
GCC when building the SystemC model. System 2.3.0 may need
this set to &quot;-pthread&quot;.</p>

<p style="margin-top: 1em">SYSTEMC_INCLUDE <br>
If set, specifies the directory containing the systemc.h
header file. If not specified, it will come from a default
optionally specified at configure time (before Verilator
<br>
was compiled), or computed from SYSTEMC/include.</p>

<p style="margin-top: 1em">SYSTEMC_LIBDIR <br>
If set, specifies the directory containing the libsystemc.a
library. If not specified, it will come from a default
optionally specified at configure time (before Verilator
<br>
was compiled), or computed from
SYSTEMC/lib-SYSTEMC_ARCH.</p>

<p style="margin-top: 1em">VCS_HOME <br>
If set, specifies the directory containing the Synopsys VCS
distribution. When set, a &rsquo;make test&rsquo; in the
Verilator distribution will also run VCS baseline regression
tests.</p>

<p style="margin-top: 1em">VERILATOR_BIN <br>
If set, specifies an alternative name of the Verilator
binary. May be used for debugging and selecting between
multiple operating system builds.</p>

<p style="margin-top: 1em">VERILATOR_GDB <br>
If set, the command to run when using the --gdb option, such
as &quot;ddd&quot;. If not specified, it will use
&quot;gdb&quot;.</p>

<p style="margin-top: 1em">VERILATOR_ROOT <br>
Specifies the directory containing the distribution kit.
This is used to find the executable, Perl library, and
include files. If not specified, it will come from a default
<br>
optionally specified at configure time (before Verilator was
compiled). It should not be specified if using a
pre-compiled Verilator RPM as the hardcoded value should be
<br>
correct.</p>

<p style="margin-top: 1em">CONNECTING TO C++ <br>
Verilator creates a .h and .cpp file for the top level
module and all modules under it. See the test_c directory in
the kit for an example.</p>

<p style="margin-top: 1em">After the modules are completed,
there will be a module.mk file that may be used with Make to
produce a module__ALL.a file with all required objects in
it. This is then linked <br>
with the user&rsquo;s top level to create the simulation
executable.</p>

<p style="margin-top: 1em">The user must write the top
level of the simulation. Here&rsquo;s a simple example:</p>

<p style="margin-top: 1em">#include &lt;verilated.h&gt; //
Defines common routines <br>
#include &lt;iostream&gt; // Need std::cout <br>
#include &quot;Vtop.h&quot; // From Verilating
&quot;top.v&quot;</p>

<p style="margin-top: 1em">Vtop *top; // Instantiation of
module</p>

<p style="margin-top: 1em">vluint64_t main_time = 0; //
Current simulation time <br>
// This is a 64-bit integer to reduce wrap over issues and
<br>
// allow modulus. You can also use a double, if you
wish.</p>

<p style="margin-top: 1em">double sc_time_stamp () { //
Called by $time in Verilog <br>
return main_time; // converts to double, to match <br>
// what SystemC does <br>
}</p>

<p style="margin-top: 1em">int main(int argc, char** argv)
{ <br>
Verilated::commandArgs(argc, argv); // Remember args</p>

<p style="margin-top: 1em">top = new Vtop; // Create
instance</p>

<p style="margin-top: 1em">top-&gt;reset_l = 0; // Set some
inputs</p>

<p style="margin-top: 1em">while (!Verilated::gotFinish())
{ <br>
if (main_time &gt; 10) { <br>
top-&gt;reset_l = 1; // Deassert reset <br>
} <br>
if ((main_time % 10) == 1) { <br>
top-&gt;clk = 1; // Toggle clock <br>
} <br>
if ((main_time % 10) == 6) { <br>
top-&gt;clk = 0; <br>
} <br>
top-&gt;eval(); // Evaluate model <br>
cout &lt;&lt; top-&gt;out &lt;&lt; endl; // Read a output
<br>
main_time++; // Time passes... <br>
}</p>

<p style="margin-top: 1em">top-&gt;final(); // Done
simulating <br>
// // (Though this example doesn&rsquo;t get here) <br>
delete top; <br>
}</p>

<p style="margin-top: 1em">Note signals are read and
written as member variables of the lower module. You call
the eval() method to evaluate the model. When the simulation
is complete call the final() <br>
method to wrap up any SystemVerilog final blocks, and
complete any assertions.</p>

<p style="margin-top: 1em">CONNECTING TO SYSTEMC <br>
Verilator will convert the top level module to a SC_MODULE.
This module will plug directly into a SystemC netlist.</p>

<p style="margin-top: 1em">The SC_MODULE gets the same
pinout as the Verilog module, with the following type
conversions: Pins of a single bit become bool. Pins 2-32
bits wide become uint32_t&rsquo;s. Pins <br>
33-64 bits wide become sc_bv&rsquo;s or vluint64_t&rsquo;s
depending on the --no-pins64 switch. Wider pins become
sc_bv&rsquo;s. (Uints simulate the fastest so are used where
possible.)</p>

<p style="margin-top: 1em">Lower modules are not pure
SystemC code. This is a feature, as using the SystemC pin
interconnect scheme everywhere would reduce performance by
an order of magnitude.</p>

<p style="margin-top: 1em">DIRECT PROGRAMMING INTERFACE
(DPI) <br>
Verilator supports SystemVerilog Direct Programming
Interface import and export statements. Only the
SystemVerilog form (&quot;DPI-C&quot;) is supported, not the
original Synopsys-only <br>
DPI.</p>

<p style="margin-top: 1em">DPI Example <br>
In the SYSTEMC example above, if you wanted to import C++
functions into Verilog, put in our.v:</p>

<p style="margin-top: 1em">import &quot;DPI-C&quot;
function integer add (input integer a, input integer b);</p>

<p style="margin-top: 1em">initial begin <br>
$display(&quot;%x + %x = %x&quot;, 1, 2, add(1,2)); <br>
endtask</p>

<p style="margin-top: 1em">Then after Verilating, Verilator
will create a file Vour__Dpi.h with the prototype to call
this function:</p>

<p style="margin-top: 1em">extern int add (int a, int
b);</p>

<p style="margin-top: 1em">From the sc_main.cpp file (or
another .cpp file passed to the Verilator command line, or
the link), you&rsquo;d then:</p>

<p style="margin-top: 1em">#include &quot;svdpi.h&quot;
<br>
#include &quot;Vour__Dpi.h&quot; <br>
int add (int a, int b) { return a+b; }</p>

<p style="margin-top: 1em">DPI System Task/Functions <br>
Verilator extends the DPI format to allow using the same
scheme to efficiently add system functions. Simply use a
dollar-sign prefixed system function name for the import,
but <br>
note it must be escaped.</p>

<p style="margin-top: 1em">export &quot;DPI-C&quot;
function integer yRand;</p>

<p style="margin-top: 1em">initial
$display(&quot;myRand=%d&quot;, $myRand());</p>

<p style="margin-top: 1em">Going the other direction, you
can export Verilog tasks so they can be called from C++:</p>

<p style="margin-top: 1em">export &quot;DPI-C&quot; task
publicSetBool;</p>

<p style="margin-top: 1em">task publicSetBool; <br>
input bit in_bool; <br>
var_bool = in_bool; <br>
endtask</p>

<p style="margin-top: 1em">Then after Verilating, Verilator
will create a file Vour__Dpi.h with the prototype to call
this function:</p>

<p style="margin-top: 1em">extern bool publicSetBool(bool
in_bool);</p>

<p style="margin-top: 1em">From the sc_main.cpp file,
you&rsquo;d then:</p>

<p style="margin-top: 1em">#include &quot;Vour__Dpi.h&quot;
<br>
publicSetBool(value);</p>

<p style="margin-top: 1em">Or, alternatively, call the
function under the design class. This isn&rsquo;t DPI
compatible but is easier to read and better supports
multiple designs.</p>

<p style="margin-top: 1em">#include &quot;Vour__Dpi.h&quot;
<br>
Vour::publicSetBool(value); <br>
// or top-&gt;publicSetBool(value);</p>

<p style="margin-top: 1em">Note that if the DPI task or
function accesses any register or net within the RTL, it
will require a scope to be set. This can be done using the
standard functions within <br>
svdpi.h, after the module is instantiated, but before the
task(s) and/or function(s) are called.</p>

<p style="margin-top: 1em">For example, if the top level
module is instantiated with the name &quot;dut&quot; and the
name references within tasks are all hierarchical (dotted)
names with respect to that top level <br>
module, then the scope could be set with</p>

<p style="margin-top: 1em">#include &quot;svdpi.h&quot;
<br>
... <br>
svSetScope (svGetScopeFromName (&quot;dut&quot;));</p>

<p style="margin-top: 1em">(Remember that Verilator adds a
&quot;V&quot; to the top of the module hierarchy.)</p>

<p style="margin-top: 1em">Scope can also be set from
within a DPI imported C function that has been called from
Verilog by querying the scope of that function. See the
sections on DPI Context Functions <br>
and DPI Header Isolation below and the comments within the
svdpi.h header for more information.</p>

<p style="margin-top: 1em">DPI Display Functions <br>
Verilator allows writing $display like functions using this
syntax:</p>

<p style="margin-top: 1em">import &quot;DPI-C&quot;
function void <br>
y_display (input string formatted /*verilator sformat*/
);</p>

<p style="margin-top: 1em">The /*verilator sformat*/
indicates that this function accepts a $display like format
specifier followed by any number of arguments to satisfy the
format.</p>

<p style="margin-top: 1em">DPI Context Functions <br>
Verilator supports IEEE DPI Context Functions. Context
imports pass the simulator context, including calling scope
name, and filename and line number to the C code. For <br>
example, in Verilog:</p>

<p style="margin-top: 1em">import &quot;DPI-C&quot; context
function int dpic_line(); <br>
initial $display(&quot;This is line %d, again, line %d0,
&lsquo;line, dpic_line());</p>

<p style="margin-top: 1em">This will call C++ code which
may then use the svGet* functions to read information, in
this case the line number of the Verilog statement that
invoked the dpic_line function:</p>

<p style="margin-top: 1em">int dpic_line() { <br>
// Get a scope: svScope scope = svGetScope();</p>

<p style="margin-top: 1em">const char* scopenamep =
svGetNameFromScope(scope); <br>
assert(scopenamep);</p>

<p style="margin-top: 1em">const char* filenamep =
&quot;&quot;; <br>
int lineno = 0; <br>
if (svGetCallerInfo(&amp;filenamep, &amp;lineno)) { <br>
printf(&quot;dpic_line called from scope %s on line %d0,
<br>
scopenamep, lineno); <br>
return lineno; <br>
} else { <br>
return 0; <br>
} <br>
}</p>

<p style="margin-top: 1em">See the IEEE Standard for more
information.</p>

<p style="margin-top: 1em">DPI Header Isolation <br>
Verilator places the IEEE standard header files such as
svdpi.h into a separate include directory, vltstd (VeriLaTor
STandarD). When compiling most applications <br>
$VERILATOR_ROOT/include/vltstd would be in the include path
along with the normal $VERILATOR_ROOT/include. However, when
compiling Verilated models into other simulators which <br>
have their own svdpi.h and similar standard files with
different contents, the vltstd directory should not be
included to prevent picking up incompatible definitions.</p>

<p style="margin-top: 1em">Public Functions <br>
Instead of DPI exporting, there&rsquo;s also Verilator
public functions, which are slightly faster, but less
compatible.</p>

<p style="margin-top: 1em">VERIFICATION PROCEDURAL
INTERFACE (VPI) <br>
Verilator supports a very limited subset of the VPI. This
subset allows inspection, examination, value change
callbacks, and depositing of values to public signals
only.</p>

<p style="margin-top: 1em">VPI is enabled with the
verilator --vpi switch.</p>

<p style="margin-top: 1em">To access signals via the VPI,
Verilator must be told exactly which signals are to be
accessed. This is done using the Verilator public pragmas
documented below.</p>

<p style="margin-top: 1em">Verilator has an important
difference from an event based simulator; signal values that
are changed by the VPI will not immediately propagate their
values, instead the top level <br>
header file&rsquo;s eval() method must be called. Normally
this would be part of the normal evaluation (IE the next
clock edge), not as part of the value change. This makes the
<br>
performance of VPI routines extremely fast compared to event
based simulators, but can confuse some test-benches that
expect immediate propagation.</p>

<p style="margin-top: 1em">Note the VPI by it&rsquo;s
specified implementation will always be much slower than
accessing the Verilator values by direct reference
(structure-&gt;module-&gt;signame), as the VPI <br>
accessors perform lookup in functions at runtime requiring
at best hundreds of instructions, while the direct
references are evaluated by the compiler and result in only
a couple <br>
of instructions.</p>

<p style="margin-top: 1em">VPI Example <br>
In the below example, we have readme marked read-only, and
writeme which if written from outside the model will have
the same semantics as if it changed on the specified clock
<br>
edge.</p>

<p style="margin-top: 1em">module t; <br>
reg readme /*verilator public_flat_rd*/; <br>
reg writeme /*verilator public_flat_rw @(posedge clk) */;
<br>
endmodule</p>

<p style="margin-top: 1em">There are many online tutorials
and books on the VPI, but an example that accesses the above
would be:</p>

<p style="margin-top: 1em">void read_and_check() { <br>
vpiHandle vh1 =
vpi_handle_by_name((PLI_BYTE8*)&quot;t.readme&quot;, NULL);
<br>
if (!vh1) { error... } <br>
const char* name = vpi_get_str(vpiName, vh1); <br>
printf(&quot;Module name: %s0); // Prints
&quot;readme&quot;</p>

<p style="margin-top: 1em">s_vpi_value v; <br>
v.format = vpiIntVal; <br>
vpi_get_value(vh1, &amp;v); <br>
printf(&quot;Value of v: %d0, v.value.integer); // Prints
&quot;readme&quot; <br>
}</p>

<p style="margin-top: 1em">For signal callbacks to work the
main loop of the program must call
VerilatedVpi::callValueCbs().</p>

<p style="margin-top: 1em">#include
&quot;verilated_vpi.h&quot; // Required to get definitions
<br>
... <br>
while (time passes) { <br>
... <br>
topp-&gt;eval(); <br>
VerilatedVpi::callValueCbs(); <br>
}</p>

<p style="margin-top: 1em">CROSS COMPILATION <br>
Verilator supports cross-compiling Verilated code. This is
generally used to run Verilator on a Linux system and
produce C++ code that is then compiled on Windows.</p>

<p style="margin-top: 1em">Cross compilation involves up to
three different OSes. The build system is where you
configured and compiled Verilator, the host system where you
run Verilator, and the target <br>
system where you compile the Verilated code and run the
simulation.</p>

<p style="margin-top: 1em">Currently, Verilator requires
the build and host system type to be the same, though the
target system type may be different. To support this,
./configure and make Verilator on <br>
the build system. Then, run Verilator on the host system.
Finally, the output of Verilator may be compiled on the
different target system.</p>

<p style="margin-top: 1em">To support this, none of the
files that Verilator produces will reference any configure
generated build-system specific files, such as config.h
(which is renamed in Verilator to <br>
config_build.h to reduce confusion.) The disadvantage of
this approach is that include/verilatedos.h must self-detect
the requirements of the target system, rather than using
<br>
configure.</p>

<p style="margin-top: 1em">The target system may also
require edits to the Makefiles, the simple Makefiles
produced by Verilator presume the target system is the same
type as the build system.</p>

<p style="margin-top: 1em">Cadence NC-SystemC Models <br>
Similar to compiling Verilated designs with gcc, Verilated
designs may be compiled inside other simulators that support
C++ or SystemC models. One such simulator is Cadence&rsquo;s
<br>
NC-SystemC, part of their Incisive Verification Suite.
(Highly recommended.)</p>

<p style="margin-top: 1em">Using the example files above,
the following command will build the model underneath
NC:</p>

<p style="margin-top: 1em">cd obj_dir <br>
ncsc_run sc_main.cpp Vour__ALLcls.cpp Vour__ALLsup.cpp
verilated.cpp</p>

<p style="margin-top: 1em">For larger designs you&rsquo;ll
want to automate this using makefiles, which pull the names
of the .cpp files to compile in from the make variables
generated in <br>
obj_dir/Vour_classes.mk.</p>

<p style="margin-top: 1em">CONFIGURATION FILES <br>
In addition to the command line, warnings and other features
may be controlled by configuration files, typically named
with the .vlt extension. An example:</p>

<p style="margin-top: 1em">&lsquo;verilator_config <br>
lint_off -msg WIDTH <br>
lint_off -msg CASEX -file
&quot;silly_vendor_code.v&quot;</p>

<p style="margin-top: 1em">This disables WIDTH warnings
globally, and CASEX for a specific file.</p>

<p style="margin-top: 1em">Configuration files are parsed
after the normal Verilog preprocessing, so &lsquo;ifdefs,
&lsquo;defines, and comments may be used as if it were
normal Verilog code.</p>

<p style="margin-top: 1em">The grammar of configuration
commands is as follows:</p>

<p style="margin-top: 1em">&lsquo;verilator_config <br>
Take remaining text up the the next &lsquo;verilog mode
switch and treat it as Verilator configuration commands.</p>

<p style="margin-top: 1em">coverage_on [-file
&quot;&lt;filename&gt;&quot; [-lines &lt;line&gt; [ -
&lt;line&gt; ]]] <br>
coverage_off [-file &quot;&lt;filename&gt;&quot; [-lines
&lt;line&gt; [ - &lt;line&gt; ]]] <br>
Enable/disable coverage for the specified filename (or
wildcard with &rsquo;*&rsquo; or &rsquo;?&rsquo;, or all
files if omitted) and range of line numbers (or all lines if
omitted). Often used to <br>
ignore an entire module for coverage analysis purposes.</p>

<p style="margin-top: 1em">lint_on [-msg &lt;message&gt;]
[-file &quot;&lt;filename&gt;&quot; [-lines &lt;line&gt; [ -
&lt;line&gt;]]] <br>
lint_off [-msg &lt;message&gt;] [-file
&quot;&lt;filename&gt;&quot; [-lines &lt;line&gt; [ -
&lt;line&gt;]]] <br>
Enable/disables the specified lint warning, in the specified
filename (or wildcard with &rsquo;*&rsquo; or
&rsquo;?&rsquo;, or all files if omitted) and range of line
numbers (or all lines if <br>
omitted).</p>

<p style="margin-top: 1em">With lint_off using
&rsquo;*&rsquo; will override any lint_on directives in the
source, i.e. the warning will still not be printed.</p>

<p style="margin-top: 1em">If the -msg is omitted, all lint
warnings are enabled/disabled. This will override all later
lint warning enables for the specified region.</p>

<p style="margin-top: 1em">tracing_on [-file
&quot;&lt;filename&gt;&quot; [-lines &lt;line&gt; [ -
&lt;line&gt; ]]] <br>
tracing_off [-file &quot;&lt;filename&gt;&quot; [-lines
&lt;line&gt; [ - &lt;line&gt; ]]] <br>
Enable/disable waveform tracing for all future signals
declared in the specified filename (or wildcard with
&rsquo;*&rsquo; or &rsquo;?&rsquo;, or all files if omitted)
and range of line numbers (or <br>
all lines if omitted).</p>

<p style="margin-top: 1em">For tracing_off, cells below any
module in the files/ranges specified will also not be
traced.</p>

<p style="margin-top: 1em">LANGUAGE STANDARD SUPPORT <br>
Verilog 2001 (IEEE 1364-2001) Support <br>
Verilator supports most Verilog 2001 language features. This
includes signed numbers, &quot;always @*&quot;, generate
statements, multidimensional arrays, localparam, and C-style
<br>
declarations inside port lists.</p>

<p style="margin-top: 1em">Verilog 2005 (IEEE 1364-2005)
Support <br>
Verilator supports most Verilog 2005 language features. This
includes the &lsquo;begin_keywords and &lsquo;end_keywords
compiler directives, $clog2, and the uwire keyword.</p>

<p style="margin-top: 1em">SystemVerilog 2005 (IEEE
1800-2005) Support <br>
Verilator supports ==? and !=? operators, ++ and -- in some
contexts, $bits, $countones, $error, $fatal, $info,
$isunknown, $onehot, $onehot0, $unit, $warning, always_comb,
<br>
always_ff, always_latch, bit, byte, chandle, const,
do-while, enum, export, final, import, int, interface,
logic, longint, modport, package, program, shortint, struct,
time, <br>
typedef, union, var, void, priority case/if, and unique
case/if.</p>

<p style="margin-top: 1em">It also supports .name and .*
interconnection.</p>

<p style="margin-top: 1em">Verilator partially supports
concurrent assert and cover statements; see the enclosed
coverage tests for the syntax which is allowed.</p>

<p style="margin-top: 1em">SystemVerilog 2012 (IEEE
1800-2012) Support <br>
Verilator implements a full SystemVerilog 2012 preprocessor,
including function call-like preprocessor defines, default
define arguments, &lsquo;__FILE__, &lsquo;__LINE__ and
&lsquo;undefineall.</p>

<p style="margin-top: 1em">Verilator currently has some
support for SystemVerilog synthesis constructs. As
SystemVerilog features enter common usage they are added;
please file a bug if a feature you need <br>
is missing.</p>

<p style="margin-top: 1em">Verilog AMS Support <br>
Verilator implements a very small subset of Verilog AMS
(Verilog Analog and Mixed-Signal Extensions) with the subset
corresponding to those VMS keywords with near equivalents in
<br>
the Verilog 2005 or SystemVerilog 2009 languages.</p>

<p style="margin-top: 1em">AMS parsing is enabled with
&quot;--language VAMS&quot; or &quot;--language
1800+VAMS&quot;.</p>

<p style="margin-top: 1em">At present Verilator implements
ceil, exp, floor, ln, log, pow, sqrt, string, and wreal.</p>

<p style="margin-top: 1em">Synthesis Directive Assertion
Support <br>
With the --assert switch, Verilator reads any
&quot;//synopsys full_case&quot; or &quot;//synopsys
parallel_case&quot; directives. The same applies to any
&quot;//ambit synthesis&quot;, &quot;//cadence&quot; or <br>
&quot;//pragma&quot; directives of the same form.</p>

<p style="margin-top: 1em">When these synthesis directives
are discovered, Verilator will either formally prove the
directive to be true, or failing that, will insert the
appropriate code to detect failing <br>
cases at runtime and print an &quot;Assertion failed&quot;
error message.</p>

<p style="margin-top: 1em">Verilator likewise also asserts
any &quot;unique&quot; or &quot;priority&quot; SystemVerilog
keywords on case statement, as well as &quot;unique&quot; on
if statements. However, &quot;priority if&quot; is currently
<br>
simply ignored.</p>

<p style="margin-top: 1em">LANGUAGE EXTENSIONS <br>
The following additional constructs are the extensions
Verilator supports on top of standard Verilog code. Using
these features outside of comments or &lsquo;ifdef&rsquo;s
may break other <br>
tools.</p>

<p style="margin-top: 1em">&lsquo;__FILE__ <br>
The __FILE__ define expands to the current filename as a
string, like C++&rsquo;s __FILE__. This was incorporated
into to the 1800-2009 standard (but supported by Verilator
since <br>
2006!)</p>

<p style="margin-top: 1em">&lsquo;__LINE__ <br>
The __LINE__ define expands to the current filename as a
string, like C++&rsquo;s __LINE__. This was incorporated
into to the 1800-2009 standard (but supported by Verilator
since <br>
2006!)</p>

<p style="margin-top: 1em">&lsquo;error string <br>
This will report an error when encountered, like C++&rsquo;s
#error.</p>

<p style="margin-top: 1em">$c(string, ...); <br>
The string will be embedded directly in the output C++ code
at the point where the surrounding Verilog code is compiled.
It may either be a standalone statement (with a <br>
trailing ; in the string), or a function that returns up to
a 32-bit number (without a trailing ;). This can be used to
call C++ functions from your Verilog code.</p>

<p style="margin-top: 1em">String arguments will be put
directly into the output C++ code. Expression arguments will
have the code to evaluate the expression inserted. Thus to
call a C++ function, <br>
$c(&quot;func(&quot;,a,&quot;)&quot;) will result in
&rsquo;func(a)&rsquo; in the output C++ code. For input
arguments, rather than hard-coding variable names in the
string $c(&quot;func(a)&quot;), instead pass the <br>
variable as an expression
$c(&quot;func(&quot;,a,&quot;)&quot;). This will allow the
call to work inside Verilog functions where the variable is
flattened out, and also enable other <br>
optimizations.</p>

<p style="margin-top: 1em">If you will be reading or
writing any Verilog variables inside the C++ functions, the
Verilog signals must be declared with /*verilator
public*/.</p>

<p style="margin-top: 1em">You may also append an arbitrary
number to $c, generally the width of the output.
[signal_32_bits = $c32(&quot;...&quot;);] This allows for
compatibility with other simulators which <br>
require a differently named PLI function name for each
different output width.</p>

<p style="margin-top: 1em">$display, $write, $fdisplay,
$fwrite, $sformat, $swrite <br>
Format arguments may use C fprintf sizes after the % escape.
Per the Verilog standard, %x prints a number with the
natural width, and %0x prints a number with minimum width.
<br>
Verilator extends this so %5x prints 5 digits per the C
standard (it&rsquo;s unspecified in Verilog).</p>

<p style="margin-top: 1em">&lsquo;coverage_block_off <br>
Specifies the entire begin/end block should be ignored for
coverage analysis. Must be inside a basic block, e.g. within
a begin/end pair. Same as /* verilator <br>
coverage_block_off */.</p>

<p style="margin-top: 1em">&lsquo;systemc_header <br>
Take remaining text up to the next &lsquo;verilog or
&lsquo;systemc_... mode switch and place it verbatim into
the output .h file&rsquo;s header. Must be placed as a
module item, e.g. <br>
directly inside a module/endmodule pair. Despite the name of
this macro, this also works in pure C++ code.</p>

<p style="margin-top: 1em">&lsquo;systemc_ctor <br>
Take remaining text up to the next &lsquo;verilog or
&lsquo;systemc_... mode switch and place it verbatim into
the C++ class constructor. Must be placed as a module item,
e.g. directly <br>
inside a module/endmodule pair. Despite the name of this
macro, this also works in pure C++ code.</p>

<p style="margin-top: 1em">&lsquo;systemc_dtor <br>
Take remaining text up to the next &lsquo;verilog or
&lsquo;systemc_... mode switch and place it verbatim into
the C++ class destructor. Must be placed as a module item,
e.g. directly <br>
inside a module/endmodule pair. Despite the name of this
macro, this also works in pure C++ code.</p>

<p style="margin-top: 1em">&lsquo;systemc_interface <br>
Take remaining text up to the next &lsquo;verilog or
&lsquo;systemc_... mode switch and place it verbatim into
the C++ class interface. Must be placed as a module item,
e.g. directly <br>
inside a module/endmodule pair. Despite the name of this
macro, this also works in pure C++ code.</p>

<p style="margin-top: 1em">&lsquo;systemc_imp_header <br>
Take remaining text up to the next &lsquo;verilog or
&lsquo;systemc_... mode switch and place it verbatim into
the header of all files for this C++ class implementation.
Must be placed <br>
as a module item, e.g. directly inside a module/endmodule
pair. Despite the name of this macro, this also works in
pure C++ code.</p>

<p style="margin-top: 1em">&lsquo;systemc_implementation
<br>
Take remaining text up to the next &lsquo;verilog or
&lsquo;systemc_... mode switch and place it verbatim into a
single file of the C++ class implementation. Must be placed
as a module <br>
item, e.g. directly inside a module/endmodule pair. Despite
the name of this macro, this also works in pure C++
code.</p>

<p style="margin-top: 1em">If you will be reading or
writing any Verilog variables in the C++ functions, the
Verilog signals must be declared with /*verilator public*/.
See also the public task <br>
feature; writing an accessor may result in cleaner code.</p>

<p style="margin-top: 1em">&lsquo;SYSTEMVERILOG <br>
The SYSTEMVERILOG, SV_COV_START and related standard defines
are set by default when --language is 1800-*.</p>

<p style="margin-top: 1em">&lsquo;VERILATOR <br>
&lsquo;verilator <br>
&lsquo;verilator3 <br>
The VERILATOR, verilator and verilator3 defines are set by
default so you may &lsquo;ifdef around compiler specific
constructs.</p>

<p style="margin-top: 1em">&lsquo;verilator_config <br>
Take remaining text up the the next &lsquo;verilog mode
switch and treat it as Verilator configuration commands.</p>

<p style="margin-top: 1em">&lsquo;verilog <br>
Switch back to processing Verilog code after a
&lsquo;systemc_... mode switch. The Verilog code returns to
the last language mode specified with &lsquo;begin_keywords,
or SystemVerilog <br>
if none were specified.</p>

<p style="margin-top: 1em">/*verilator clock_enable*/ <br>
Used after a signal declaration to indicate the signal is
used to gate a clock, and the user takes responsibility for
insuring there are no races related to it. (Typically by
<br>
adding a latch, and running static timing analysis.) For
example:</p>

<p style="margin-top: 1em">reg enable_r /*verilator
clock_enable*/; <br>
wire gated_clk = clk &amp; enable_r; <br>
always_ff @ (posedge clk) <br>
enable_r &lt;= enable_early;</p>

<p style="margin-top: 1em">The clock_enable attribute will
cause the clock gate to be ignored in the scheduling
algorithm, sometimes required for correct clock behavior,
and always improving <br>
performance. It&rsquo;s also a good idea to enable the
IMPERFECTSCH warning, to insure all clock enables are
properly recognized.</p>

<p style="margin-top: 1em">/*verilator clocker*/ <br>
/*verilator no_clocker*/ <br>
Used after a signal declaration to indicate the signal is
used as clock or not. This information is used by Verilator
to mark the signal as clocker and propagate the clocker <br>
attribute automatically to derived signals. See
&quot;--clk&quot; for more information.</p>

<p style="margin-top: 1em">/*verilator coverage_block_off*/
<br>
Specifies the entire begin/end block should be ignored for
coverage analysis purposes.</p>

<p style="margin-top: 1em">/*verilator coverage_off*/ <br>
Specifies that following lines of code should have coverage
disabled. Often used to ignore an entire module for coverage
analysis purposes.</p>

<p style="margin-top: 1em">/*verilator coverage_on*/ <br>
Specifies that following lines of code should have coverage
re-enabled (if appropriate --coverage flags are passed)
after being disabled earlier with /*verilator <br>
coverage_off*/.</p>

<p style="margin-top: 1em">/*verilator inline_module*/ <br>
Specifies the module the comment appears in may be inlined
into any modules that use this module. This is useful to
speed up simulation time with some small loss of trace <br>
visibility and modularity. Note signals under inlined
submodules will be named submodule__DOT__subsignal as C++
does not allow &quot;.&quot; in signal names. When tracing
such <br>
signals the tracing routines will replace the __DOT__ with
the period.</p>

<p style="margin-top: 1em">/*verilator
isolate_assignments*/ <br>
Used after a signal declaration to indicate the assignments
to this signal in any blocks should be isolated into new
blocks. When there is a large combinatorial block that <br>
is resulting in a UNOPTFLAT warning, attaching this to the
signal causing a false loop may clear up the problem.</p>

<p style="margin-top: 1em">IE, with the following</p>

<p style="margin-top: 1em">reg splitme /* verilator
isolate_assignments*/; <br>
// Note the placement of the semicolon above <br>
always @* begin <br>
if (....) begin <br>
splitme = ....; <br>
other assignments <br>
end <br>
end</p>

<p style="margin-top: 1em">Verilator will internally split
the block that assigns to &quot;splitme&quot; into two
blocks:</p>

<p style="margin-top: 1em">It would then internally break
it into (sort of):</p>

<p style="margin-top: 1em">// All assignments excluding
those to splitme <br>
always @* begin <br>
if (....) begin <br>
other assignments <br>
end <br>
end <br>
// All assignments to splitme <br>
always @* begin <br>
if (....) begin <br>
splitme = ....; <br>
end <br>
end</p>

<p style="margin-top: 1em">/*verilator lint_off msg*/ <br>
Disable the specified warning message for any warnings
following the comment.</p>

<p style="margin-top: 1em">/*verilator lint_on msg*/ <br>
Re-enable the specified warning message for any warnings
following the comment.</p>

<p style="margin-top: 1em">/*verilator lint_restore*/ <br>
After a /*verilator lint_save*/, pop the stack containing
lint message state. Often this is useful at the bottom of
include files.</p>

<p style="margin-top: 1em">/*verilator lint_save*/ <br>
Push the current state of what lint messages are turned on
or turned off to a stack. Later meta-comments may then
lint_on or lint_off specific messages, then return to the
<br>
earlier message state by using /*verilator lint_restore*/.
For example:</p>

<p style="margin-top: 1em">// verilator lint_save <br>
// verilator lint_off SOME_WARNING <br>
... // code needing SOME_WARNING turned off <br>
// verilator lint_restore</p>

<p style="margin-top: 1em">If SOME_WARNING was on before
the lint_off, it will now be restored to on, and if it was
off before the lint_off it will remain off.</p>

<p style="margin-top: 1em">/*verilator no_inline_task*/
<br>
Used in a function or task variable definition section to
specify the function or task should not be inlined into
where it is used. This may reduce the size of the final <br>
executable when a task is used a very large number of times.
For this flag to work, the task and tasks below it must be
pure; they cannot reference any variables outside the <br>
task itself.</p>

<p style="margin-top: 1em">/*verilator public*/ (typedef
enum) <br>
Used after an enum typedef declaration to indicate the
emitted C code should have the enum values visible. Due to
C++ language restrictions, this may only be used on 64-bit
<br>
or narrower integral enumerations.</p>

<p style="margin-top: 1em">typedef enum logic [2:0] { ZERO
= 3&rsquo;b0 } pub_t /*verilator public*/;</p>

<p style="margin-top: 1em">/*verilator public*/ (variable)
<br>
Used after an input, output, register, or wire declaration
to indicate the signal should be declared so that C code may
read or write the value of the signal. This will also <br>
declare this module public, otherwise use /*verilator
public_flat*/.</p>

<p style="margin-top: 1em">Instead of using public
variables, consider instead making a DPI or public function
that accesses the variable. This is nicer as it provides an
obvious entry point that is <br>
also compatible across simulators.</p>

<p style="margin-top: 1em">/*verilator public*/
(task/function) <br>
Used inside the declaration section of a function or task
declaration to indicate the function or task should be made
into a C++ function, public to outside callers. Public <br>
tasks will be declared as a void C++ function, public
functions will get the appropriate non-void (bool, uint32_t,
etc) return type. Any input arguments will become C++ <br>
arguments to the function. Any output arguments will become
C++ reference arguments. Any local registers/integers will
become function automatic variables on the stack.</p>

<p style="margin-top: 1em">Wide variables over 64 bits
cannot be function returns, to avoid exposing complexities.
However, wide variables can be input/outputs; they will be
passed as references to an <br>
array of 32-bit numbers.</p>

<p style="margin-top: 1em">Generally, only the values of
stored state (flops) should be written, as the model will
NOT notice changes made to variables in these functions.
(Same as when a signal is <br>
declared public.)</p>

<p style="margin-top: 1em">You may want to use DPI exports
instead, as it&rsquo;s compatible with other simulators.</p>

<p style="margin-top: 1em">/*verilator public_flat*/
(variable) <br>
Used after an input, output, register, or wire declaration
to indicate the signal should be declared so that C code may
read or write the value of the signal. This will not <br>
declare this module public, which means the name of the
signal or path to it may change based upon the module
inlining which takes place.</p>

<p style="margin-top: 1em">/*verilator public_flat_rd*/
(variable) <br>
Used after an input, output, register, or wire declaration
to indicate the signal should be declared public_flat (see
above), but read-only.</p>

<p style="margin-top: 1em">/*verilator public_flat_rw
@(&lt;edge_list&gt;) */ (variable) <br>
Used after an input, output, register, or wire declaration
to indicate the signal should be declared public_flat_rd
(see above), and also writable, where writes should be <br>
considered to have the timing specified by the given
sensitivity edge list.</p>

<p style="margin-top: 1em">/*verilator public_module*/ <br>
Used after a module statement to indicate the module should
not be inlined (unless specifically requested) so that C
code may access the module. Verilator automatically sets
<br>
this attribute when the module contains any public signals
or &lsquo;systemc_ directives. Also set for all modules when
using the --public switch.</p>

<p style="margin-top: 1em">/*verilator sc_clock*/ <br>
Rarely needed. Used after an input declaration to indicate
the signal should be declared in SystemC as a sc_clock
instead of a bool. This was needed in SystemC 1.1 and 1.2
<br>
only; versions 2.0 and later do not require clock pins to be
sc_clocks and this is no longer needed.</p>

<p style="margin-top: 1em">/*verilator sc_bv*/ <br>
Used after a port declaration. It sets the port to be of
sc_bv&lt;width&gt; type, instead of bool, vluint32_t or
vluint64_t. This may be useful if the port width is
parametrized <br>
and different of such modules interface a templated module
(such as a transactor) or for other reasons. In general you
should avoid using this attribute when not necessary <br>
as with increasing usage of sc_bv the performance increases
significantly.</p>

<p style="margin-top: 1em">/*verilator sformat*/ <br>
Attached to the final input of a function or task
&quot;input string&quot; to indicate the function or task
should pass all remaining arguments through $sformatf. This
allows creation <br>
of DPI functions with $display like behavior. See the
test_regress/t/t_dpi_display.v file for an example.</p>

<p style="margin-top: 1em">/*verilator tracing_off*/ <br>
Disable waveform tracing for all future signals that are
declared in this module, or cells below this module. Often
this is placed just after a primitive&rsquo;s module
statement, <br>
so that the entire module and cells below it are not
traced.</p>

<p style="margin-top: 1em">/*verilator tracing_on*/ <br>
Re-enable waveform tracing for all future signals or cells
that are declared.</p>

<p style="margin-top: 1em">LANGUAGE LIMITATIONS <br>
There are some limitations and lack of features relative to
a commercial simulator, by intent. User beware.</p>

<p style="margin-top: 1em">It is strongly recommended you
use a lint tool before running this program. Verilator
isn&rsquo;t designed to easily uncover common mistakes that
a lint program will find for you.</p>

<p style="margin-top: 1em">Synthesis Subset <br>
Verilator supports only the Synthesis subset with a few
minor additions such as $stop, $finish and $display. That
is, you cannot use hierarchical references, events or
similar <br>
features of the Verilog language. It also simulates as
Synopsys&rsquo;s Design Compiler would; namely a block of
the form:</p>

<p style="margin-top: 1em">always @ (x) y = x &amp; z;</p>

<p style="margin-top: 1em">This will recompute y when there
is even a potential for change in x or a change in z, that
is when the flops computing x or z evaluate (which is what
Design Compiler will <br>
synthesize.) A compliant simulator would only calculate y if
x changes. Use Verilog-Mode&rsquo;s /*AS*/ or Verilog
2001&rsquo;s always @* to reduce missing activity items.
Avoid putting <br>
$displays in combo blocks, as they may print multiple times
when not desired, even on compliant simulators as event
ordering is not specified.</p>

<p style="margin-top: 1em">Bind <br>
Verilator only supports &quot;bind&quot; to a target module
name, not an instance path.</p>

<p style="margin-top: 1em">Dotted cross-hierarchy
references <br>
Verilator supports dotted references to variables, functions
and tasks in different modules. However, references into
named blocks and function-local variables are not supported.
<br>
The portion before the dot must have a constant value; for
example a[2].b is acceptable, while a[x].b is not.</p>

<p style="margin-top: 1em">References into generated and
arrayed instances use the instance names specified in the
Verilog standard; arrayed instances are named
{cellName}[{instanceNumber}] in Verilog, <br>
which becomes {cellname}__BRA__{instanceNumber}__KET__
inside the generated C++ code.</p>

<p style="margin-top: 1em">Verilator creates numbered
&quot;genblk&quot; when a begin: name is not specified
around a block inside a generate statement. These numbers
may differ between other simulators, but the <br>
Verilog specification does not allow users to use these
names, so it should not matter.</p>

<p style="margin-top: 1em">If you are having trouble
determining where a dotted path goes wrong, note that
Verilator will print a list of known scopes to help your
debugging.</p>

<p style="margin-top: 1em">Floating Point <br>
Floating Point (real) numbers are supported.</p>

<p style="margin-top: 1em">Latches <br>
Verilator is optimized for edge sensitive (flop based)
designs. It will attempt to do the correct thing for
latches, but most performance optimizations will be disabled
around <br>
the latch.</p>

<p style="margin-top: 1em">Structures and Unions <br>
Verilator only presently supports packed structs and packed
unions. Rand and randc tags on members are simply ignored.
All structures and unions are represented as a single <br>
vector, which means that generating one member of a
structure from blocking, and another from non-blocking
assignments is unsupported.</p>

<p style="margin-top: 1em">Time <br>
All delays (#) are ignored, as they are in synthesis.</p>

<p style="margin-top: 1em">Unknown states <br>
Verilator is mostly a two state simulator, not a four state
simulator. However, it has two features which uncover most
initialization bugs (including many that a four state <br>
simulator will miss.)</p>

<p style="margin-top: 1em">Identity comparisons (=== or
!==) are converted to standard ==/!== when neither side is a
constant. This may make the expression result differ from a
four state simulator. An <br>
=== comparison to X will always be false, so that Verilog
code which checks for uninitialized logic will not fire.</p>

<p style="margin-top: 1em">Assigning a variable to a X will
actually assign the variable to a random value (see the
--x-assign switch.) Thus if the value is actually used, the
random value should cause <br>
downstream errors. Integers also randomize, even though the
Verilog 2001 specification says they initialize to zero.</p>

<p style="margin-top: 1em">All variables are randomly
initialized using a function. By running several random
simulation runs you can determine that reset is working
correctly. On the first run, the <br>
function initializes variables to zero. On the second, have
it initialize variables to one. On the third and following
runs have it initialize them randomly. If the results <br>
match, reset works. (Note this is what the hardware will
really do.) In practice, just setting all variables to one
at startup finds most problems.</p>

<p style="margin-top: 1em">Note. --x-assign applies to
variables explicitly initialized or assigned to X.
Uninitialized clocks are initialized to zero, while all
other state holding variables are <br>
initialized to a random value.</p>

<p style="margin-top: 1em">Event driven simulators will
generally trigger an edge on a transition from X to 1
(&quot;posedge&quot;) or X to 0 (&quot;negedge&quot;).
However, by default, since clocks are initialized to zero,
<br>
Verilator will not trigger an initial negedge. Some code
(particularly for reset) may rely on X-&gt;0 triggering an
edge. Verilator provides a switch (see --x-initial-edge) to
<br>
enable this behavior. Comparing runs with and without this
switch will find such problems.</p>

<p style="margin-top: 1em">Tri/Inout <br>
Verilator converts some simple tristate structures into two
state. Pullup, pulldown, bufif0, bufif1, notif0, notif1,
pmos, nmos, tri0 and tri1 are also supported. Simple <br>
comparisons with === 1&rsquo;bz are also supported.</p>

<p style="margin-top: 1em">An assignment of the form:</p>

<p style="margin-top: 1em">inout driver; <br>
wire driver = (enable) ? output_value : 1&rsquo;bz;</p>

<p style="margin-top: 1em">Will be converted to</p>

<p style="margin-top: 1em">input driver; // Value being
driven in from &quot;external&quot; drivers <br>
output driver__en; // True if driven from this module <br>
output driver__out; // Value being driven from this
module</p>

<p style="margin-top: 1em">External logic will be needed to
combine these signals with any external drivers.</p>

<p style="margin-top: 1em">Tristate drivers are not
supported inside functions and tasks; an inout there will be
considered a two state variable that is read and written
instead of a four state variable.</p>

<p style="margin-top: 1em">Functions &amp; Tasks <br>
All functions and tasks will be inlined (will not become
functions in C.) The only support provided is for simple
statements in tasks (which may affect global variables).</p>

<p style="margin-top: 1em">Recursive functions and tasks
are not supported. All inputs and outputs are automatic, as
if they had the Verilog 2001 &quot;automatic&quot; keyword
prepended. (If you don&rsquo;t know what <br>
this means, Verilator will do what you probably expect --
what C does. The default behavior of Verilog is
different.)</p>

<p style="margin-top: 1em">Generated Clocks <br>
Verilator attempts to deal with generated and enabled clocks
correctly, however some cases cause problems in the
scheduling algorithm which is optimized for performance. The
<br>
safest option is to have all clocks as primary inputs to the
model, or wires directly attached to primary inputs. For
proper behavior clock enables may also need the /*verilator
<br>
clock_enable*/ attribute.</p>

<p style="margin-top: 1em">Ranges must be big-bit-endian
<br>
Bit ranges must be numbered with the MSB being numbered
greater or the same as the LSB. Little-bit-endian buses
[0:15] are not supported as they aren&rsquo;t easily made
compatible <br>
with C++.</p>

<p style="margin-top: 1em">Gate Primitives <br>
The 2-state gate primitives (and, buf, nand, nor, not, or,
xnor, xor) are directly converted to behavioral equivalents.
The 3-state and MOS gate primitives are not supported. <br>
Tables are not supported.</p>

<p style="margin-top: 1em">Specify blocks <br>
All specify blocks and timing checks are ignored.</p>

<p style="margin-top: 1em">Array Initialization <br>
When initializing a large array, you need to use non-delayed
assignments. Verilator will tell you when this needs to be
fixed; see the BLKLOOPINIT error for more information.</p>

<p style="margin-top: 1em">Array Out of Bounds <br>
Writing a memory element that is outside the bounds
specified for the array may cause a different memory element
inside the array to be written instead. For power-of-2 sized
<br>
arrays, Verilator will give a width warning and the address.
For non-power-of-2-sizes arrays, index 0 will be
written.</p>

<p style="margin-top: 1em">Reading a memory element that is
outside the bounds specified for the array will give a width
warning and wrap around the power-of-2 size. For
non-power-of-2 sizes, it will <br>
return a unspecified constant of the appropriate width.</p>

<p style="margin-top: 1em">Assertions <br>
Verilator is beginning to add support for assertions.
Verilator currently only converts assertions to simple
&quot;if (...) error&quot; statements, and coverage
statements to increment <br>
the line counters described in the coverage section.</p>

<p style="margin-top: 1em">Verilator does not support SEREs
yet. All assertion and coverage statements must be simple
expressions that complete in one cycle. (Arguably SEREs are
much of the point, but <br>
one must start somewhere.)</p>

<p style="margin-top: 1em">Language Keyword Limitations
<br>
This section describes specific limitations for each
language keyword.</p>

<p style="margin-top: 1em">&lsquo;__FILE__,
&lsquo;__LINE__, &lsquo;begin_keywords,
&lsquo;begin_keywords, &lsquo;begin_keywords,
&lsquo;begin_keywords, &lsquo;begin_keywords, &lsquo;define,
&lsquo;else, &lsquo;elsif, &lsquo;end_keywords,
&lsquo;endif, &lsquo;error, &lsquo;ifdef, &lsquo;ifndef,
<br>
&lsquo;include, &lsquo;line, &lsquo;systemc_ctor,
&lsquo;systemc_dtor, &lsquo;systemc_header,
&lsquo;systemc_imp_header, &lsquo;systemc_implementation,
&lsquo;systemc_interface, &lsquo;timescale, &lsquo;undef,
&lsquo;verilog <br>
Fully supported.</p>

<p style="margin-top: 1em">always, always_comb, always_ff,
always_latch, and, assign, begin, buf, byte, case, casex,
casez, default, defparam, do-while, else, end, endcase,
endfunction, endgenerate, <br>
endmodule, endspecify, endtask, final, for, function,
generate, genvar, if, initial, inout, input, int, integer,
localparam, logic, longint, macromodule, module, nand,
negedge, <br>
nor, not, or, output, parameter, posedge, reg, scalared,
shortint, signed, supply0, supply1, task, time, tri,
typedef, var, vectored, while, wire, xnor, xor <br>
Generally supported.</p>

<p style="margin-top: 1em">++, -- operators <br>
Increment/decrement can only be used as standalone
statements or in for loops. They cannot be used as side
effect operators inside more complicate expressions (&quot;a
= b++;&quot;).</p>

<p style="margin-top: 1em">&rsquo;{} operator <br>
Assignment patterns with order based, default, constant
integer (array) or member identifier (struct/union) keys are
supported. Data type keys and keys which are computed <br>
from a constant expression are not supported.</p>

<p style="margin-top: 1em">cast operator <br>
Casting is supported only between simple scalar types,
signed and unsigned, not arrays nor structs.</p>

<p style="margin-top: 1em">chandle <br>
Treated as a &quot;longint&quot;; does not yet warn about
operations that are specified as illegal on chandles.</p>

<p style="margin-top: 1em">disable <br>
Disable statements may be used only if the block being
disabled is a block the disable statement itself is inside.
This was commonly used to provide loop break and continue
<br>
functionality before SystemVerilog added the break and
continue keywords.</p>

<p style="margin-top: 1em">inside <br>
Inside expressions may not include unpacked array traversal
or $ as an upper bound. Case inside and case matches are
also unsupported.</p>

<p style="margin-top: 1em">interface <br>
Interfaces and modports, including with generated data types
are supported. Generate blocks around modports are not
supported, nor are virtual interfaces nor unnamed <br>
interfaces.</p>

<p style="margin-top: 1em">priority if, unique if <br>
Priority and unique if&rsquo;s are treated as normal ifs and
not asserted to be full nor unique.</p>

<p style="margin-top: 1em">specify specparam <br>
All specify blocks and timing checks are ignored.</p>

<p style="margin-top: 1em">string <br>
String is supported only to the point that they can be
assigned, concatenated, compared, and passed to DPI imports.
Standard method calls on strings are not supported.</p>

<p style="margin-top: 1em">timeunit, timeprecision <br>
All timing control statements are ignored.</p>

<p style="margin-top: 1em">uwire <br>
Verilator does not perform warning checking on uwires, it
treats the uwire keyword as if it were the normal wire
keyword.</p>

<p style="margin-top: 1em">$bits, $countones, $error,
$fatal, $finish, $info, $isunknown, $onehot, $onehot0,
$readmemb, $readmemh, $signed, $stime, $stop, $time,
$unsigned, $warning. <br>
Generally supported.</p>

<p style="margin-top: 1em">$display, $write, $fdisplay,
$fwrite, $swrite <br>
$display and friends must have a constant format string as
the first argument (as with C&rsquo;s printf). The rare
usage which lists variables standalone without a format is
not <br>
supported.</p>

<p style="margin-top: 1em">$displayb, $displayh, $displayo,
$writeb, $writeh, $writeo, etc <br>
The sized display functions are rarely used and so not
supported. Replace them with a $write with the appropriate
format specifier.</p>

<p style="margin-top: 1em">$finish, $stop <br>
The rarely used optional parameter to $finish and $stop is
ignored.</p>

<p style="margin-top: 1em">$fopen, $fclose, $fdisplay,
$feof, $fflush, $fgetc, $fgets, $fscanf, $fwrite <br>
File descriptors passed to the file PLI calls must be file
descriptors, not MCDs, which includes the mode parameter to
$fopen being mandatory.</p>

<p style="margin-top: 1em">$fscanf, $sscanf <br>
Only integer formats are supported; %e, %f, %m, %r, %v, and
%z are not supported.</p>

<p style="margin-top: 1em">$fullskew, $hold, $nochange,
$period, $recovery, $recrem, $removal, $setup, $setuphold,
$skew, $timeskew, $width <br>
All specify blocks and timing checks are ignored.</p>

<p style="margin-top: 1em">$random <br>
$random does not support the optional argument to set the
seed. Use the srand function in C to accomplish this, and
note there is only one random number generator (not one <br>
per module).</p>

<p style="margin-top: 1em">$readmemb, $readmemh <br>
Read memory commands should work properly. Note Verilator
and the Verilog specification does not include support for
readmem to multi-dimensional arrays.</p>

<p style="margin-top: 1em">$test$plusargs, $value$plusargs
<br>
Supported, but the instantiating C++/SystemC testbench must
call</p>

<p style="margin-top: 1em">Verilated::commandArgs(argc,
argv);</p>

<p style="margin-top: 1em">to register the command line
before calling $test$plusargs or $value$plusargs.</p>

<p style="margin-top: 1em">$timeformat <br>
Not supported as Verilator needs to determine all formatting
at compile time. Generally you can just ifdef them out for
no ill effect. Note also VL_TIME_MULTIPLER can be <br>
defined at compile time to move the decimal point when
displaying all times, model wide.</p>

<p style="margin-top: 1em">ERRORS AND WARNINGS <br>
Warnings may be disabled in three ways. First, when the
warning is printed it will include a warning code. Simply
surround the offending line with a warn_off/warn_on
pair:</p>

<p style="margin-top: 1em">// verilator lint_off UNSIGNED
<br>
if (&lsquo;DEF_THAT_IS_EQ_ZERO &lt;= 3) $stop; <br>
// verilator lint_on UNSIGNED</p>

<p style="margin-top: 1em">Second, warnings may be disabled
using a configuration file with a lint_off command. This is
useful when a script is suppressing warnings and the Verilog
source should not be <br>
changed.</p>

<p style="margin-top: 1em">Warnings may also be globally
disabled by invoking Verilator with the
&quot;-Wno-warning&quot; switch. This should be avoided, as
it removes all checking across the designs, and prevents
<br>
other users from compiling your code without knowing the
magic set of disables needed to successfully compile your
design.</p>

<p style="margin-top: 1em">List of all warnings:</p>

<p style="margin-top: 1em">ALWCOMBORDER <br>
Warns that an always_comb block has a variable which is set
after it is used. This may cause simulation-synthesis
mismatches, as not all commercial simulators allow this <br>
ordering.</p>

<p style="margin-top: 1em">always_comb begin <br>
a = b; <br>
b = 1; <br>
end</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">ASSIGNIN <br>
Error that an assignment is being made to an input signal.
This is almost certainly a mistake, though technically
legal.</p>

<p style="margin-top: 1em">input a; <br>
assign a = 1&rsquo;b1;</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">ASSIGNDLY <br>
Warns that you have an assignment statement with a delayed
time in front of it, for example:</p>

<p style="margin-top: 1em">a &lt;= #100 b; <br>
assign #100 a = b;</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators, however
at one point this was a common style so disabled by default
as a code style <br>
warning.</p>

<p style="margin-top: 1em">BLKANDNBLK <br>
BLKANDNBLK is an error that a variable comes from a mix of
blocked and non-blocking assignments. Generally, this is
caused by a register driven by both combo logic and a <br>
flop:</p>

<p style="margin-top: 1em">always @ (posedge clk) foo[0]
&lt;= ... <br>
always @* foo[1] = ...</p>

<p style="margin-top: 1em">Simply use a different register
for the flop:</p>

<p style="margin-top: 1em">always @ (posedge clk)
foo_flopped[0] &lt;= ... <br>
always @* foo[0] = foo_flopped[0]; <br>
always @* foo[1] = ...</p>

<p style="margin-top: 1em">This is good coding practice
anyways.</p>

<p style="margin-top: 1em">It is also possible to disable
this error when one of the assignments is inside a public
task.</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">BLKSEQ <br>
This indicates that a blocking assignment (=) is used in a
sequential block. Generally non-blocking/delayed assignments
(&lt;=) are used in sequential blocks, to avoid the <br>
possibility of simulator races. It can be reasonable to do
this if the generated signal is used ONLY later in the same
block, however this style is generally discouraged as <br>
it is error prone.</p>

<p style="margin-top: 1em">always @ (posedge clk) foo =
...</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">BLKLOOPINIT <br>
This indicates that the initialization of an array needs to
use non-delayed assignments. This is done in the interest of
speed; if delayed assignments were used, the <br>
simulator would have to copy large arrays every cycle. (In
smaller loops, loop unrolling allows the delayed assignment
to work, though it&rsquo;s a bit slower than a non-delayed
<br>
assignment.) Here&rsquo;s an example</p>

<p style="margin-top: 1em">always @ (posedge clk) <br>
if (~reset_l) begin <br>
for (i=0; i&lt;&lsquo;ARRAY_SIZE; i++) begin <br>
array[i] = 0; // Non-delayed for verilator <br>
end</p>

<p style="margin-top: 1em">This message is only seen on
large or complicated loops because Verilator generally
unrolls small loops. You may want to try increasing
--unroll-count (and occasionally <br>
--unroll-stmts) which will raise the small loop bar to avoid
this error.</p>

<p style="margin-top: 1em">CASEINCOMPLETE <br>
Warns that inside a case statement there is a stimulus
pattern for which there is no case item specified. This is
bad style, if a case is impossible, it&rsquo;s better to
have a <br>
&quot;default: $stop;&quot; or just &quot;default: ;&quot;
so that any design assumption violations will be discovered
in simulation.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">CASEOVERLAP <br>
Warns that inside a case statement you have case values
which are detected to be overlapping. This is bad style, as
moving the order of case values will cause different <br>
behavior. Generally the values can be respecified to not
overlap.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">CASEX <br>
Warns that it is simply better style to use casez, and
&quot;?&quot; in place of &quot;x&quot;&rsquo;s. See
&lt;http://www.sunburst-design.com/papers/CummingsSNUG1999Boston_FullParallelCase_rev1_1.pdf&gt;</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">CASEWITHX <br>
Warns that a case statement contains a constant with a
&quot;x&quot;. Verilator is two-state so interpret such
items as always false. Note a common error is to use a
&quot;X&quot; in a case or <br>
casez statement item; often what the user instead intended
is to use a casez with &quot;?&quot;.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">CDCRSTLOGIC <br>
With --cdc only, warns that asynchronous flop reset terms
come from other than primary inputs or flopped outputs,
creating the potential for reset glitches.</p>

<p style="margin-top: 1em">CLKDATA <br>
Warns that clock signal is mixed used with/as data signal.
The checking for this warning is enabled only if user has
explicitly marked some signal as clocker using command <br>
line option or in-source meta comment (see
&quot;--clk&quot;).</p>

<p style="margin-top: 1em">The warning can be disabled
without affecting the simulation result. But it is
recommended to check the warning as this may degrade the
performance of the Verilated model.</p>

<p style="margin-top: 1em">CMPCONST <br>
Warns that you are comparing a value in a way that will
always be constant. For example &quot;X &gt; 1&quot; will
always be true when X is a single bit wide.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">COMBDLY <br>
Warns that you have a delayed assignment inside of a
combinatorial block. Using delayed assignments in this way
is considered bad form, and may lead to the simulator not
<br>
matching synthesis. If this message is suppressed,
Verilator, like synthesis, will convert this to a
non-delayed assignment, which may result in logic races or
other <br>
nasties. See
&lt;http://www.sunburst-design.com/papers/CummingsSNUG2000SJ_NBA_rev1_2.pdf&gt;</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">DECLFILENAME <br>
Warns that a module or other declaration&rsquo;s name
doesn&rsquo;t match the filename with path and extension
stripped that it is declared in. The filename a <br>
modules/interfaces/programs is declared in should match the
name of the module etc. so that -y directory searching will
work. This warning is printed for only the first <br>
mismatching module in any given file, and -v library files
are ignored.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">DEFPARAM <br>
Warns that the &quot;defparam&quot; statement was deprecated
in Verilog 2001 and all designs should now be using the
#(...) format to specify parameters.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">DETECTARRAY <br>
Error when Verilator tries to deal with a combinatorial loop
that could not be flattened, and which involves a datatype
which Verilator cannot handle, such as an unpacked <br>
struct or a large unpacked array. This typically ocurrs when
-Wno-UNOPTFLAT has been used to override an UNOPTFLAT
warning (see below).</p>

<p style="margin-top: 1em">The solution is to break the
loop, as described for UNOPTFLAT.</p>

<p style="margin-top: 1em">ENDLABEL <br>
Warns that a label attached to a &quot;end&quot;-something
statement does not match the label attached to the block
start.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">GENCLK <br>
Warns that the specified signal is generated, but is also
being used as a clock. Verilator needs to evaluate
sequential logic multiple times in this situation. In
somewhat <br>
contrived cases having any generated clock can reduce
performance by almost a factor of two. For fastest results,
generate ALL clocks outside in C++/SystemC and make them
<br>
primary inputs to your Verilog model. (However once need to
you have even one, don&rsquo;t sweat additional ones.)</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">IFDEPTH <br>
Warns that if/if else statements have exceeded the depth
specified with --if-depth, as they are likely to result in
slow priority encoders. Unique and priority if statements
<br>
are ignored. Solutions include changing the code to a case
statement, or a SystemVerilog &rsquo;unique if&rsquo; or
&rsquo;priority if&rsquo;.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">IMPERFECTSCH <br>
Warns that the scheduling of the model is not absolutely
perfect, and some manual code edits may result in faster
performance. This warning defaults to off, and must be <br>
turned on explicitly before the top module statement is
processed.</p>

<p style="margin-top: 1em">IMPLICIT <br>
Warns that a wire is being implicitly declared (it is a
single bit wide output from a sub-module.) While legal in
Verilog, implicit declarations only work for single bit <br>
wide signals (not buses), do not allow using a signal before
it is implicitly declared by a cell, and can lead to
dangling nets. A better option is the /*AUTOWIRE*/ feature
<br>
of Verilog-Mode for Emacs, available from
&lt;http://www.veripool.org/&gt;</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">IMPURE <br>
Warns that a task or function that has been marked with
/*verilator no_inline_task*/ references variables that are
not local to the task. Verilator cannot schedule these <br>
variables correctly.</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">INCABSPATH <br>
Warns that an &lsquo;include filename specifies an absolute
path. This means the code will not work on any other system
with a different file system layout. Instead of using <br>
absolute paths, relative paths (preferably without any
directory specified whatever) should be used, and +incdir
used on the command line to specify the top include source
<br>
directories.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">INITIALDLY <br>
Warns that you have a delayed assignment inside of an
initial or final block. If this message is suppressed,
Verilator will convert this to a non-delayed assignment. See
<br>
also the COMBDLY warning.</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">LITENDIAN <br>
Warns that a packed vector is declared with little endian
bit numbering (i.e. [0:7]). Big endian bit numbering is now
the overwhelming standard, and little numbering is now <br>
thus often due to simple oversight instead of intent.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">MODDUP <br>
Error that a module has multiple definitions. Generally this
indicates a coding error, or a mistake in a library file and
it&rsquo;s good practice to have one module per file to <br>
avoid these issues. For some gate level netlists duplicates
are unavoidable, and this error may be disabled.</p>

<p style="margin-top: 1em">MULTIDRIVEN <br>
Warns that the specified signal comes from multiple always
blocks. This is often unsupported by synthesis tools, and is
considered bad style. It will also cause longer <br>
runtimes due to reduced optimizations.</p>

<p style="margin-top: 1em">Ignoring this warning will only
slow simulations, it will simulate correctly.</p>

<p style="margin-top: 1em">MULTITOP <br>
Error that there are multiple top level modules, that is
modules not instantiated by any other module. Verilator only
supports a single top level, if you need more, create a <br>
module that wraps all of the top modules.</p>

<p style="margin-top: 1em">Often this error is because some
low level cell is being read in, but is not really needed.
The best solution is to insure that each module is in a
unique file by the same <br>
name. Otherwise, make sure all library files are read in as
libraries with -v, instead of automatically with -y.</p>

<p style="margin-top: 1em">PINCONNECTEMPTY <br>
Warns that a cell instantiation has a pin which is connected
to .pin_name(), e.g. not another signal, but with an
explicit mention of the pin. It may be desirable to disable
<br>
PINCONNECTEMPTY, as this indicates intention to have a
no-connect.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">PINMISSING <br>
Warns that a module has a pin which is not mentioned in a
cell instantiation. If a pin is not missing it should still
be specified on the cell declaration with a empty <br>
connection, using &quot;(.pin_name())&quot;.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">PINNOCONNECT <br>
Warns that a cell instantiation has a pin which is not
connected to another signal.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">REALCVT <br>
Warns that a real number is being implicitly rounded to an
integer, with possible loss of precision.</p>

<p style="margin-top: 1em">REDEFMACRO <br>
Warns that you have redefined the same macro with a
different value, for example:</p>

<p style="margin-top: 1em">&lsquo;define MACRO def1 <br>
//... <br>
&lsquo;define MACRO otherdef</p>

<p style="margin-top: 1em">The best solution is to use a
different name for the second macro. If this is not
possible, add a undef to indicate the code is overriding the
value:</p>

<p style="margin-top: 1em">&lsquo;define MACRO def1 <br>
//... <br>
&lsquo;undef MACRO <br>
&lsquo;define MACRO otherdef</p>

<p style="margin-top: 1em">SELRANGE <br>
Warns that a selection index will go out of bounds:</p>

<p style="margin-top: 1em">wire vec[6:0]; <br>
initial out = vec[7]; // There is no 7</p>

<p style="margin-top: 1em">Verilator will assume zero for
this value, instead of X. Note that in some cases this
warning may be false, when a condition upstream or
downstream of the access means the <br>
access out of bounds will never execute or be used.</p>

<p style="margin-top: 1em">wire vec[6:0]; <br>
initial begin <br>
seven = 7; <br>
... <br>
if (seven != 7) out = vec[seven]; // Never will use
vec[7]</p>

<p style="margin-top: 1em">STMTDLY <br>
Warns that you have a statement with a delayed time in front
of it, for example:</p>

<p style="margin-top: 1em">#100 $finish;</p>

<p style="margin-top: 1em">Ignoring this warning may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">SYMRSVDWORD <br>
Warning that a symbol matches a C++ reserved word and using
this as a symbol name would result in odd C compiler errors.
You may disable this warning, but the symbol will be <br>
renamed by Verilator to avoid the conflict.</p>

<p style="margin-top: 1em">SYNCASYNCNET <br>
Warns that the specified net is used in at least two
different always statements with posedge/negedges (i.e. a
flop). One usage has the signal in the sensitivity list and
<br>
body, probably as an async reset, and the other usage has
the signal only in the body, probably as a sync reset.
Mixing sync and async resets is usually a mistake. The <br>
warning may be disabled with a lint_off pragma around the
net, or either flopped block.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">TASKNSVAR <br>
Error when a call to a task or function has a output from
that task tied to a non-simple signal. Instead connect the
task output to a temporary signal of the appropriate <br>
width, and use that signal to set the appropriate expression
as the next statement. For example:</p>

<p style="margin-top: 1em">task foo; output sig; ...
endtask <br>
always @* begin <br>
foo(bus_we_select_from[2]); // Will get TASKNSVAR error <br>
end</p>

<p style="margin-top: 1em">Change this to:</p>

<p style="margin-top: 1em">reg foo_temp_out; <br>
always @* begin <br>
foo(foo_temp_out); <br>
bus_we_select_from[2] = foo_temp_out; <br>
end</p>

<p style="margin-top: 1em">Verilator doesn&rsquo;t do this
conversion for you, as some more complicated cases would
result in simulator mismatches.</p>

<p style="margin-top: 1em">UNDRIVEN <br>
Warns that the specified signal is never sourced. Verilator
is fairly liberal in the usage calculations; making a signal
public, or loading only a single array element marks <br>
the entire signal as driven.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">UNOPT <br>
Warns that due to some construct, optimization of the
specified signal or block is disabled. The construct should
be cleaned up to improve runtime.</p>

<p style="margin-top: 1em">A less obvious case of this is
when a module instantiates two submodules. Inside submodule
A, signal I is input and signal O is output. Likewise in
submodule B, signal O is <br>
an input and I is an output. A loop exists and a UNOPT
warning will result if AI &amp; AO both come from and go to
combinatorial blocks in both submodules, even if they are
<br>
unrelated always blocks. This affects performance because
Verilator would have to evaluate each submodule multiple
times to stabilize the signals crossing between the <br>
modules.</p>

<p style="margin-top: 1em">Ignoring this warning will only
slow simulations, it will simulate correctly.</p>

<p style="margin-top: 1em">UNOPTFLAT <br>
Warns that due to some construct, optimization of the
specified signal is disabled. The signal specified includes
a complete scope to the signal; it may be only one <br>
particular usage of a multiply instantiated block. The
construct should be cleaned up to improve runtime; two times
better performance may be possible by fixing these <br>
warnings.</p>

<p style="margin-top: 1em">Unlike the UNOPT warning, this
occurs after netlist flattening, and indicates a more basic
problem, as the less obvious case described under UNOPT does
not apply.</p>

<p style="margin-top: 1em">Often UNOPTFLAT is caused by
logic that isn&rsquo;t truly circular as viewed by synthesis
which analyzes interconnection per-bit, but is circular to
simulation which analyzes per- <br>
bus:</p>

<p style="margin-top: 1em">wire [2:0] x =
{x[1:0],shift_in};</p>

<p style="margin-top: 1em">This statement needs to be
evaluated multiple times, as a change in
&quot;shift_in&quot; requires &quot;x&quot; to be computed 3
times before it becomes stable. This is because a change in
&quot;x&quot; <br>
requires &quot;x&quot; itself to change value, which causes
the warning.</p>

<p style="margin-top: 1em">For significantly better
performance, split this into 2 separate signals:</p>

<p style="margin-top: 1em">wire [2:0] xout =
{x[1:0],shift_in};</p>

<p style="margin-top: 1em">and change all receiving logic
to instead receive &quot;xout&quot;. Alternatively, change
it to</p>

<p style="margin-top: 1em">wire [2:0] x =
{xin[1:0],shift_in};</p>

<p style="margin-top: 1em">and change all driving logic to
instead drive &quot;xin&quot;.</p>

<p style="margin-top: 1em">With this change this assignment
needs to be evaluated only once. These sort of changes may
also speed up your traditional event driven simulator, as it
will result in fewer <br>
events per cycle.</p>

<p style="margin-top: 1em">The most complicated UNOPTFLAT
path we&rsquo;ve seen was due to low bits of a bus being
generated from an always statement that consumed high bits
of the same bus processed by <br>
another series of always blocks. The fix is the same; split
it into two separate signals generated from each block.</p>

<p style="margin-top: 1em">The UNOPTFLAT warning may also
be due to clock enables, identified from the reported path
going through a clock gating cell. To fix these, use the
clock_enable meta comment <br>
described above.</p>

<p style="margin-top: 1em">The UNOPTFLAT warning may also
occur where outputs from a block of logic are independent,
but occur in the same always block. To fix this, use the
isolate_assignments meta <br>
comment described above.</p>

<p style="margin-top: 1em">To assist in resolving
UNOPTFLAT, the option &quot;--report-unoptflat&quot; can be
used, which will provide suggestions for variables that can
be split up, and a graph of all the nodes <br>
connected in the loop. See the Arguments section for more
details.</p>

<p style="margin-top: 1em">Ignoring this warning will only
slow simulations, it will simulate correctly.</p>

<p style="margin-top: 1em">UNPACKED <br>
Warns that unpacked structs and unions are not
supported.</p>

<p style="margin-top: 1em">Ignoring this warning will make
Verilator treat the structure as packed, which may make
Verilator simulations differ from other simulators.</p>

<p style="margin-top: 1em">UNSIGNED <br>
Warns that you are comparing a unsigned value in a way that
implies it is signed, for example &quot;X &lt; 0&quot; will
always be true when X is unsigned.</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">UNUSED <br>
Warns that the specified signal is never sinked. Verilator
is fairly liberal in the usage calculations; making a signal
public, a signal matching --unused-regexp <br>
(&quot;*unused*&quot;) or accessing only a single array
element marks the entire signal as used.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">A recommended style for unused
nets is to put at the bottom of a file code similar to the
following:</p>

<p style="margin-top: 1em">wire _unused_ok =
&amp;{1&rsquo;b0, <br>
sig_not_used_a, <br>
sig_not_used_yet_b, // To be fixed <br>
1&rsquo;b0};</p>

<p style="margin-top: 1em">The reduction AND and constant
zeros mean the net will always be zero, so won&rsquo;t use
simulation time. The redundant leading and trailing zeros
avoid syntax errors if there <br>
are no signals between them. The magic name
&quot;unused&quot; (-unused-regexp) is recognized by
Verilator and suppresses warnings; if using other lint
tools, either teach to tool to <br>
ignore signals with &quot;unused&quot; in the name, or put
the appropriate lint_off around the wire. Having unused
signals in one place makes it easy to find what is unused,
and <br>
reduces the number of lint_off pragmas, reducing bugs.</p>

<p style="margin-top: 1em">USERINFO, USERWARN, USERERROR,
USERFATAL <br>
A SystemVerilog elaboration-time assertion print was
executed.</p>

<p style="margin-top: 1em">VARHIDDEN <br>
Warns that a task, function, or begin/end block is declaring
a variable by the same name as a variable in the upper level
module or begin/end block (thus hiding the upper <br>
variable from being able to be used.) Rename the variable to
avoid confusion when reading the code.</p>

<p style="margin-top: 1em">Disabled by default as this is a
code style warning; it will simulate correctly.</p>

<p style="margin-top: 1em">WIDTH <br>
Warns that based on width rules of Verilog, two operands
have different widths. Verilator generally can intuit the
common usages of widths, and you shouldn&rsquo;t need to
disable <br>
this message like you do with most lint programs. Generally
other than simple mistakes, you have two solutions:</p>

<p style="margin-top: 1em">If it&rsquo;s a constant 0
that&rsquo;s 32 bits or less, simply leave it unwidthed.
Verilator considers zero to be any width needed.</p>

<p style="margin-top: 1em">Concatenate leading zeros when
doing arithmetic. In the statement</p>

<p style="margin-top: 1em">wire [5:0] plus_one = from[5:0]
+ 6&rsquo;d1 + carry[0];</p>

<p style="margin-top: 1em">The best fix, which clarifies
intent and will also make all tools happy is:</p>

<p style="margin-top: 1em">wire [5:0] plus_one = from[5:0]
+ 6&rsquo;d1 + {5&rsquo;d0,carry[0]};</p>

<p style="margin-top: 1em">Ignoring this warning will only
suppress the lint check, it will simulate correctly.</p>

<p style="margin-top: 1em">WIDTHCONCAT <br>
Warns that based on width rules of Verilog, a concatenate or
replication has an indeterminate width. In most cases this
violates the Verilog rule that widths inside <br>
concatenates and replicates must be sized, and should be
fixed in the code.</p>

<p style="margin-top: 1em">wire [63:0] concat = {1,2};</p>

<p style="margin-top: 1em">An example where this is
technically legal (though still bad form) is:</p>

<p style="margin-top: 1em">parameter PAR = 1; <br>
wire [63:0] concat = {PAR,PAR};</p>

<p style="margin-top: 1em">The correct fix is to either
size the 1 (&quot;32&rsquo;h1&quot;), or add the width to
the parameter definition (&quot;parameter [31:0]&quot;), or
add the width to the parameter usage <br>
(&quot;{PAR[31:0],PAR[31:0]}&quot;.</p>

<p style="margin-top: 1em">The following describes the less
obvious errors:</p>

<p style="margin-top: 1em">Internal Error <br>
This error should never occur first, though may occur if
earlier warnings or error messages have corrupted the
program. If there are no other warnings or errors, submit a
<br>
bug report.</p>

<p style="margin-top: 1em">Unsupported: .... <br>
This error indicates that you are using a Verilog language
construct that is not yet supported in Verilator. See the
Limitations chapter.</p>

<p style="margin-top: 1em">Verilated model didn&rsquo;t
converge <br>
Verilator sometimes has to evaluate combinatorial logic
multiple times, usually around code where a UNOPTFLAT
warning was issued, but disabled. For example:</p>

<p style="margin-top: 1em">always @ (a) b=~a; <br>
always @ (b) a=b</p>

<p style="margin-top: 1em">will toggle forever and thus the
executable will give the didn&rsquo;t converge error to
prevent an infinite loop.</p>

<p style="margin-top: 1em">To debug this, run Verilator
with --profile-cfuncs. Run make on the generated files with
&quot;OPT=-DVL_DEBUG&quot;. Then call Verilated::debug(1) in
your main.cpp.</p>

<p style="margin-top: 1em">This will cause each change in a
variable to print a message. Near the bottom you&rsquo;ll
see the code and variable that causes the problem. For the
program above:</p>

<p style="margin-top: 1em">CHANGE: filename.v:1: b <br>
CHANGE: filename.v:2: a</p>

<p style="margin-top: 1em">FAQ/FREQUENTLY ASKED QUESTIONS
<br>
Does it run under Windows? <br>
Yes, using Cygwin. Verilated output should also compile
under Microsoft Visual C++ Version 7 or newer, but this is
not tested by the author.</p>

<p style="margin-top: 1em">Can you provide binaries? <br>
Verilator is available as a RPM for SuSE, Fedora, and
perhaps other systems; this is done by porters and may
slightly lag the primary distribution. If there isn&rsquo;t
a binary <br>
build for your distribution, how about you set one up?
Please contact the authors for assistance.</p>

<p style="margin-top: 1em">Note people sometimes request
binaries when they are having problems with their C++
compiler. Alas, binaries won&rsquo;t help this, as in the
end a fully working C++ compiler is <br>
required to compile the output of Verilator.</p>

<p style="margin-top: 1em">How can it be faster than
(name-the-simulator)? <br>
Generally, the implied part of the question is &quot;...
with all of their manpower they can put into it.&quot;</p>

<p style="margin-top: 1em">Most commercial simulators have
to be Verilog compliant, meaning event driven. This prevents
them from being able to reorder blocks and make
netlist-style optimizations, <br>
which are where most of the gains come from.</p>

<p style="margin-top: 1em">Non-compliance shouldn&rsquo;t
be scary. Your synthesis program isn&rsquo;t compliant, so
your simulator shouldn&rsquo;t have to be -- and Verilator
is closer to the synthesis interpretation, <br>
so this is a good thing for getting working silicon.</p>

<p style="margin-top: 1em">Will Verilator output remain
under my own license? <br>
Yes, it&rsquo;s just like using GCC on your programs; this
is why Verilator uses the &quot;GNU *Lesser* Public License
Version 3&quot; instead of the more typical &quot;GNU Public
License&quot;. See <br>
the licenses for details, but in brief, if you change
Verilator itself or the header files Verilator includes, you
must make the source code available under the GNU Lesser
<br>
Public License. However, Verilator output (the Verilated
code) only &quot;include&quot;s the licensed files, and so
you are NOT required to release any output from
Verilator.</p>

<p style="margin-top: 1em">You also have the option of
using the Perl Artistic License, which again does not
require you release your Verilog or generated code, and also
allows you to modify Verilator <br>
for internal use without distributing the modified version.
But please contribute back to the community!</p>

<p style="margin-top: 1em">One limit is that you cannot
under either license release a commercial Verilog simulation
product incorporating Verilator without making the source
code available.</p>

<p style="margin-top: 1em">As is standard with Open Source,
contributions back to Verilator will be placed under the
Verilator copyright and LGPL/Artistic license. Small test
cases will be released <br>
into the public domain so they can be used anywhere, large
tests under the LGPL/Artistic, unless requested
otherwise.</p>

<p style="margin-top: 1em">Why is Verilation so slow? <br>
Verilator needs more memory than the resulting simulator
will require, as Verilator creates internally all of the
state of the resulting simulator in order to optimize it.
<br>
If it takes more than a minute or so (and you&rsquo;re not
using --debug since debug is disk bound), see if your
machine is paging; most likely you need to run it on a
machine with <br>
more memory. Verilator is a full 64-bit application and may
use more than 4GB, but about 1GB is the maximum typically
needed.</p>

<p style="margin-top: 1em">How do I generate waveforms
(traces) in C++? <br>
See the next question for tracing in SystemC mode.</p>

<p style="margin-top: 1em">Add the --trace switch to
Verilator, and in your top level C code, call
Verilated::traceEverOn(true). Then create a VerilatedVcdC
object, and in your main loop call <br>
&quot;trace_object-&gt;dump(time)&quot; every time step, and
finally call &quot;trace_object-&gt;close()&quot;. For an
example, see below and the test_c/sim_main.cpp file of the
distribution.</p>

<p style="margin-top: 1em">You also need to compile
verilated_vcd_c.cpp and add it to your link, preferably by
adding the dependencies in $(VK_GLOBAL_OBJS) to your
Makefile&rsquo;s link rule. This is done <br>
for you if using the Verilator --exe flag.</p>

<p style="margin-top: 1em">Note you can also call
-&gt;trace on multiple Verilated objects with the same trace
file if you want all data to land in the same output
file.</p>

<p style="margin-top: 1em">#include
&quot;verilated_vcd_c.h&quot; <br>
... <br>
int main(int argc, char **argv, char **env) { <br>
... <br>
Verilated::traceEverOn(true); <br>
VerilatedVcdC* tfp = new VerilatedVcdC; <br>
topp-&gt;trace (tfp, 99); <br>
tfp-&gt;open (&quot;obj_dir/t_trace_ena_cc/simx.vcd&quot;);
<br>
... <br>
while (sc_time_stamp() &lt; sim_time &amp;&amp;
!Verilated::gotFinish()) { <br>
main_time += #; <br>
tfp-&gt;dump (main_time); <br>
} <br>
tfp-&gt;close(); <br>
}</p>

<p style="margin-top: 1em">How do I generate waveforms
(traces) in SystemC? <br>
Add the --trace switch to Verilator, and in your top level C
sc_main code, include verilated_vcd_sc.h. Then call
Verilated::traceEverOn(true). Then create a VerilatedVcdSc
<br>
object as you would create a normal SystemC trace file. For
an example, see the call to VerilatedVcdSc in the
test_sc/sc_main.cpp file of the distribution, and below.</p>

<p style="margin-top: 1em">Alternatively you may use the
C++ trace mechanism described in the previous question,
however the timescale and timeprecision will not inherited
from your SystemC settings.</p>

<p style="margin-top: 1em">You also need to compile
verilated_vcd_sc.cpp and verilated_vcd_c.cpp and add them to
your link, preferably by adding the dependencies in
$(VK_GLOBAL_OBJS) to your Makefile&rsquo;s <br>
link rule. This is done for you if using the Verilator --exe
flag.</p>

<p style="margin-top: 1em">Note you can also call
-&gt;trace on multiple Verilated objects with the same trace
file if you want all data to land in the same output
file.</p>

<p style="margin-top: 1em">#include
&quot;verilated_vcd_sc.h&quot; <br>
... <br>
int main(int argc, char **argv, char **env) { <br>
... <br>
Verilated::traceEverOn(true); <br>
VerilatedVcdSc* tfp = new VerilatedVcdSc; <br>
topp-&gt;trace (tfp, 99); <br>
tfp-&gt;open (&quot;obj_dir/t_trace_ena_cc/simx.vcd&quot;);
<br>
... <br>
sc_start(1); <br>
... <br>
tfp-&gt;close(); <br>
}</p>

<p style="margin-top: 1em">How do I view waveforms
(traces)? <br>
Verilator makes standard VCD (Value Change Dump) files. They
are viewable with the public domain Dinotrace or GtkWave
programs, or any of the many commercial offerings.</p>

<p style="margin-top: 1em">How do I reduce the size of
large waveform (trace) files? <br>
First, instead of calling VerilatedVcdC-&gt;open at the
beginning of time, delay calling it until the time stamp
where you want to tracing to begin. Likewise you can also
call <br>
VerilatedVcdC-&gt;open before the end of time (perhaps a
short period after you detect a verification error.)</p>

<p style="margin-top: 1em">Next, add /*verilator
tracing_off*/ to any very low level modules you never want
to trace (such as perhaps library cells). Finally, use the
--trace-depth option to limit the <br>
depth of tracing, for example --trace-depth 1 to see only
the top level signals.</p>

<p style="margin-top: 1em">Also be sure you write your
trace files to a local disk, instead of to a network disk.
Network disks are generally far slower.</p>

<p style="margin-top: 1em">How do I do coverage analysis?
<br>
Verilator supports both block (line) coverage and user
inserted functional coverage.</p>

<p style="margin-top: 1em">First, run verilator with the
--coverage option. If you&rsquo;re using your own makefile,
compile the model with the GCC flag -DVM_COVERAGE (if using
Verilator&rsquo;s, it will do this <br>
for you.)</p>

<p style="margin-top: 1em">At the end of your test, call
VerilatedCov::write passing the name of the coverage data
file (typically &quot;logs/coverage.dat&quot;).</p>

<p style="margin-top: 1em">Run each of your tests in
different directories. Each test will create a
logs/coverage.pl file.</p>

<p style="margin-top: 1em">After running all of your tests,
verilator_coverage is executed. Verilator_coverage reads the
logs/coverage.pl file(s), and creates an annotated source
code listing showing <br>
code coverage details.</p>

<p style="margin-top: 1em">For an example, after running
&rsquo;make test&rsquo; in the Verilator distribution, see
the test_sc/logs directory. Grep for lines starting with
&rsquo;%&rsquo; to see what lines Verilator <br>
believes need more coverage.</p>

<p style="margin-top: 1em">Where is the translate_off
command? (How do I ignore a construct?) <br>
Translate on/off pragmas are generally a bad idea, as
it&rsquo;s easy to have mismatched pairs, and you
can&rsquo;t see what another tool sees by just preprocessing
the code. Instead, <br>
use the preprocessor; Verilator defines the
&quot;VERILATOR&quot; define for you, so just wrap the code
in an ifndef region:</p>

<p style="margin-top: 1em">&lsquo;ifndef VERILATOR <br>
Something_Verilator_Dislikes; <br>
&lsquo;endif</p>

<p style="margin-top: 1em">Why do I get &quot;unexpected
&lsquo;do&rsquo;&quot; or &quot;unexpected
&lsquo;bit&rsquo;&quot; errors? <br>
Do, bit, ref, return, and other words are now SystemVerilog
keywords. You should change your code to not use them to
insure it works with newer tools. Alternatively, <br>
surround them by the Verilog 2005/SystemVerilog
begin_keywords pragma to indicate Verilog 2001 code.</p>

<p style="margin-top: 1em">&lsquo;begin_keywords
&quot;1364-2001&quot; <br>
integer bit; initial bit = 1; <br>
&lsquo;end_keywords</p>

<p style="margin-top: 1em">If you want the whole file to be
parsed as Verilog 2001, just create a file with</p>

<p style="margin-top: 1em">&lsquo;begin_keywords
&quot;1364-2001&quot;</p>

<p style="margin-top: 1em">and add it before other Verilog
files on the command line. (Note this will also change the
default for --prefix, so if you&rsquo;re not using --prefix,
you will now need to.)</p>

<p style="margin-top: 1em">How do I prevent my assertions
from firing during reset? <br>
Call Verilated::assertOn(false) before you first call the
model, then turn it back on after reset. It defaults to
true. When false, all assertions controlled by --assert <br>
are disabled.</p>

<p style="margin-top: 1em">Why do I get &quot;undefined
reference to &lsquo;sc_time_stamp()&rsquo;&quot;? <br>
In C++ (non SystemC) code you need to define this function
so that the simulator knows the current time. See the
&quot;CONNECTING TO C++&quot; examples.</p>

<p style="margin-top: 1em">Why do I get &quot;undefined
reference to &lsquo;VL_RAND_RESET_I&rsquo; or
&lsquo;Verilated::...&rsquo;&quot;? <br>
You need to link your compiled Verilated code against the
verilated.cpp file found in the include directory of the
Verilator kit. This is one target in the $(VK_GLOBAL_OBJS)
<br>
make variable, which should be part of your Makefile&rsquo;s
link rule.</p>

<p style="margin-top: 1em">Is the PLI supported? <br>
Only somewhat. More specifically, the common PLI-ish calls
$display, $finish, $stop, $time, $write are converted to C++
equivalents. You can also use the &quot;import DPI&quot;
<br>
SystemVerilog feature to call C code (see the chapter
above). There is also limited VPI access to public
signals.</p>

<p style="margin-top: 1em">If you want something more
complex, since Verilator emits standard C++ code, you can
simply write your own C++ routines that can access and
modify signal values without <br>
needing any PLI interface code, and call it with
$c(&quot;{any_c++_statement}&quot;).</p>

<p style="margin-top: 1em">How do I make a Verilog module
that contain a C++ object? <br>
You need to add the object to the structure that Verilator
creates, then use $c to call a method inside your object.
The test_regress/t/t_extend_class files show an example <br>
of how to do this.</p>

<p style="margin-top: 1em">How do I get faster build times?
<br>
Between GCC 3.0 to 3.3, each compiled progressively slower,
thus if you can use GCC 2.95, or GCC 3.4 you&rsquo;ll have
faster builds. Two ways to cheat are to compile on parallel
<br>
machines and avoid compilations altogether. See the
--output-split option, and the web for the ccache, distcc
and icecream packages. ccache will skip GCC runs between
<br>
identical source builds, even across different users. You
can use the OBJCACHE environment variable to use these CC
wrappers.</p>

<p style="margin-top: 1em">Why do so many files need to
recompile when I add a signal? <br>
Adding a new signal requires the symbol table to be
recompiled. Verilator uses one large symbol table, as that
results in 2-3 less assembly instructions for each signal
<br>
access. This makes the execution time 10-15% faster, but can
result in more compilations when something changes.</p>

<p style="margin-top: 1em">How do I access functions/tasks
in C? <br>
Use the SystemVerilog Direct Programming Interface. You
write a Verilog function or task with input/outputs that
match what you want to call in with C. Then mark that <br>
function as an external function. See the DPI chapter in the
manual.</p>

<p style="margin-top: 1em">How do I access signals in C?
<br>
The best thing is to make a SystemVerilog &quot;export DPI
task&quot; or function that accesses that signal, as
described in the DPI chapter in the manual and DPI tutorials
on the web. <br>
This will allow Verilator to better optimize the model and
should be portable across simulators.</p>

<p style="margin-top: 1em">If you really want raw access to
the signals, declare the signals you will be accessing with
a /*verilator public*/ comment before the closing semicolon.
Then scope into the <br>
C++ class to read the value of the signal, as you would any
other member variable.</p>

<p style="margin-top: 1em">Signals are the smallest of
8-bit chars, 16-bit shorts, 32-bit longs, or 64-bit long
longs that fits the width of the signal. Generally, you can
use just uint32_t&rsquo;s for 1 to <br>
32 bits, or vluint64_t for 1 to 64 bits, and the compiler
will properly up-convert smaller entities.</p>

<p style="margin-top: 1em">Signals wider than 64 bits are
stored as an array of 32-bit uint32_t&rsquo;s. Thus to read
bits 31:0, access signal[0], and for bits 63:32, access
signal[1]. Unused bits (for <br>
example bit numbers 65-96 of a 65-bit vector) will always be
zero. if you change the value you must make sure to pack
zeros in the unused bits or core-dumps may result. <br>
(Because Verilator strips array bound checks where it
believes them to be unnecessary.)</p>

<p style="margin-top: 1em">In the SYSTEMC example above, if
you had in our.v:</p>

<p style="margin-top: 1em">input clk /*verilator public*/;
<br>
// Note the placement of the semicolon above</p>

<p style="margin-top: 1em">From the sc_main.cpp file,
you&rsquo;d then:</p>

<p style="margin-top: 1em">#include &quot;Vour.h&quot; <br>
#include &quot;Vour_our.h&quot; <br>
cout &lt;&lt; &quot;clock is &quot; &lt;&lt;
top-&gt;v-&gt;clk &lt;&lt; endl;</p>

<p style="margin-top: 1em">In this example, clk is a bool
you can read or set as any other variable. The value of
normal signals may be set, though clocks shouldn&rsquo;t be
changed by your code or you&rsquo;ll <br>
get strange results.</p>

<p style="margin-top: 1em">Should a module be in Verilog or
SystemC? <br>
Sometimes there is a block that just interconnects cells,
and have a choice as to if you write it in Verilog or
SystemC. Everything else being equal, best performance is
<br>
when Verilator sees all of the design. So, look at the
hierarchy of your design, labeling cells as to if they are
SystemC or Verilog. Then:</p>

<p style="margin-top: 1em">A module with only SystemC cells
below must be SystemC.</p>

<p style="margin-top: 1em">A module with a mix of Verilog
and SystemC cells below must be SystemC. (As Verilator
cannot connect to lower-level SystemC cells.)</p>

<p style="margin-top: 1em">A module with only Verilog cells
below can be either, but for best performance should be
Verilog. (The exception is if you have a design that is
instantiated many times; in <br>
this case Verilating one of the lower modules and
instantiating that Verilated cells multiple times into a
SystemC module *may* be faster.)</p>

<p style="margin-top: 1em">BUGS <br>
First, check the the coding limitations section.</p>

<p style="margin-top: 1em">Next, try the --debug switch.
This will enable additional internal assertions, and may
help identify the problem.</p>

<p style="margin-top: 1em">Finally, reduce your code to the
smallest possible routine that exhibits the bug. Even
better, create a test in the test_regress/t directory, as
follows:</p>

<p style="margin-top: 1em">cd test_regress <br>
cp -p t/t_EXAMPLE.pl t/t_BUG.pl <br>
cp -p t/t_EXAMPLE.v t/t_BUG.v</p>

<p style="margin-top: 1em">There are many hits on how to
write a good test in the driver.pl documentation which can
be seen by running:</p>

<p style="margin-top: 1em">cd $VERILATOR_ROOT # Need the
original distribution kit <br>
test_regress/driver.pl --help</p>

<p style="margin-top: 1em">Edit t/t_BUG.pl to suit your
example; you can do anything you want in the Verilog code
there; just make sure it retains the single clk input and no
outputs. Now, the following <br>
should fail:</p>

<p style="margin-top: 1em">cd $VERILATOR_ROOT # Need the
original distribution kit <br>
cd test_regress <br>
t/t_BUG.pl # Run on Verilator <br>
t/t_BUG.pl --debug # Run on Verilator, passing --debug to
Verilator <br>
t/t_BUG.pl --vcs # Run on a commercial simulator <br>
t/t_BUG.pl --nc|--iv|--ghdl # Likewise on other
simulators</p>

<p style="margin-top: 1em">The test driver accepts a number
of options, many of which mirror the main Verilator option.
For example the previous test could have been run with
debugging enabled. The full <br>
set of test options can be seen by running driver.pl --help
as shown above.</p>

<p style="margin-top: 1em">Finally, report the bug using
the bug tracker at
&lt;http://www.veripool.org/verilator&gt;. The bug will
become publicly visible; if this is unacceptable, mail the
bug report to <br>
&quot;wsnyder@wsnyder.org&quot;.</p>

<p style="margin-top: 1em">HISTORY <br>
Verilator was conceived in 1994 by Paul Wasson at the Core
Logic Group at Digital Equipment Corporation. The Verilog
code that was converted to C was then merged with a C based
<br>
CPU model of the Alpha processor and simulated in a C based
environment called CCLI.</p>

<p style="margin-top: 1em">In 1995 Verilator started being
used also for Multimedia and Network Processor development
inside Digital. Duane Galbi took over active development of
Verilator, and added <br>
several performance enhancements. CCLI was still being used
as the shell.</p>

<p style="margin-top: 1em">In 1998, through the efforts of
existing DECies, mainly Duane Galbi, Digital graciously
agreed to release the source code. (Subject to the code not
being resold, which is <br>
compatible with the GNU Public License.)</p>

<p style="margin-top: 1em">In 2001, Wilson Snyder took the
kit, and added a SystemC mode, and called it Verilator2.
This was the first packaged public release.</p>

<p style="margin-top: 1em">In 2002, Wilson Snyder created
Verilator3 by rewriting Verilator from scratch in C++. This
added many optimizations, yielding about a 2-5x performance
gain.</p>

<p style="margin-top: 1em">In 2009, major SystemVerilog and
DPI language support was added.</p>

<p style="margin-top: 1em">Currently, various language
features and performance enhancements are added as the need
arises. Verilator is now about 3x faster than in 2002, and
is faster than many popular <br>
commercial simulators.</p>

<p style="margin-top: 1em">AUTHORS <br>
When possible, please instead report bugs to
&lt;http://www.veripool.org/&gt;.</p>

<p style="margin-top: 1em">Wilson Snyder
&lt;wsnyder@wsnyder.org&gt;</p>

<p style="margin-top: 1em">Major concepts by Paul Wasson,
Duane Galbi and Jie Xu.</p>

<p style="margin-top: 1em">CONTRIBUTORS <br>
Many people have provided ideas and other assistance with
Verilator.</p>

<p style="margin-top: 1em">The major corporate sponsors of
Verilator, by providing significant contributions of time or
funds include include Atmel Corporation, Cavium Inc., Compaq
Corporation, Digital <br>
Equipment Corporation, Embecosm Ltd., Hicamp Systems, Intel
Corporation, Mindspeed Technologies Inc., MicroTune Inc.,
picoChip Designs Ltd., Sun Microsystems Inc., Nauticus <br>
Networks Inc., and SiCortex Inc.</p>

<p style="margin-top: 1em">The people who have contributed
major functionality are Byron Bradley, Jeremy Bennett, Jie
Xu, Lane Brooks, Duane Galbi, Paul Wasson, and Wilson
Snyder. Major testers include <br>
Jeff Dutton, Jonathon Donaldson, Ralf Karge, David Hewson,
Iztok Jeras, Wim Michiels, Alex Solomatnikov, Sebastien Van
Cauwenberghe, Gene Weber, and Clifford Wolf.</p>

<p style="margin-top: 1em">Some of the people who have
provided ideas and feedback for Verilator include: Yves
Mathieu, David Addison, Nikana Anastasiadis, Hans Van
Antwerpen, Vasu Arasanipalai, Jens Arm, <br>
Sharad Bagri, Andrew Bardsley, Geoff Barrett, J Baxter,
Julius Baxter, Jeremy Bennett, Michael Berman, David
Binderman, David Black, Daniel Bone, Gregg Bouchard,
Christopher <br>
Boumenot, Nick Bowler, Byron Bradley, Bryan Brady, Charlie
Brej, Lane Brooks, John Brownlee, Jeff Bush, Lawrence
Butcher, Ted Campbell, Chris Candler, Lauren Carlson, Donal
<br>
Casey, Terry Chen, Robert A. Clark, Allan Cochrane, Gunter
Dannoritzer, Ashutosh Das, Bernard Deadman, Mike Denio, John
Deroo, Philip Derrick, John Dickol, R. Diez, Ruben Diez,
<br>
Danny Ding, Ivan Djordjevic, Jonathon Donaldson, Alex
Duller, Jeff Dutton, Chandan Egbert, Joe Eiler, Ahmed
El-Mahmoudy, Robert Farrell, Eugen Fekete, Fabrizio
Ferrandi, Andrea <br>
Foletto, Bob Fredieu, Christian Gelinek, Glen Gibb, Shankar
Giri, Sam Gladstone, Amir Gonnen, Chitlesh Goorah, Neil
Hamilton, Junji Hashimoto, Thomas Hawkins, David Hewson,
<br>
Hiroki Honda, Alex Hornung, Jae Hossell, Ben Jackson,
Krzysztof Jankowski, HyungKi Jeong, Iztok Jeras, James
Johnson, Christophe Joly, Franck Jullien, Mike Kagen, Kaalia
Kahn, <br>
Guy-Armand Kamendje, Vasu Kandadi, Patricio Kaplan, Ralf
Karge, Dan Katz, Sol Katzman, Jonathan Kimmitt, Sobhan Klnv,
Gernot Koch, Soon Koh, Steve Kolecki, Brett Koonce, Wojciech
<br>
Koszek, Varun Koyyalagunta, David Kravitz, Roland Kruse, Ed
Lander, Steve Lang, Stephane Laurent, Walter Lavino,
Christian Leber, Igor Lesik, John Li, Eivind Liland, Charlie
<br>
Lind, Andrew Ling, Paul Liu, Derek Lockhart, Arthur Low,
Stefan Ludwig, Dan Lussier, Fred Ma, Duraid Madina, Mark
Marshall, Jason McMullan, Wim Michiels, Wai Sum Mong, Sean
<br>
Moore, Dennis Muhlestein, John Murphy, Richard Myers,
Dimitris Nalbantis, Bob Newgard, Cong Van Nguyen, Paul
Nitza, Pete Nixon, Lisa Noack, Mark Nodine, Andreas
Olofsson, Brad <br>
Parker, David Pierce, Dominic Plunkett, David Poole, Rich
Porter, Niranjan Prabhu, Usha Priyadharshini, Mark Jackson
Pulver, Prateek Puri, Chris Randall, Frederic Requin,
Alberto <br>
Del Rio, Oleg Rodionov, Jan Egil Ruud, John Sanguinetti,
Salman Sheikh, Mike Shinkarovsky, Rafael Shirakawa, Jeffrey
Short, Rodney Sinclair, Steven Slatter, Brian Small, Wilson
<br>
Snyder, Alex Solomatnikov, Art Stamness, John Stevenson,
Todd Strader, John Stroebel, Emerson Suguimoto, Gene
Sullivan, Renga Sundararajan, Yutetsu Takatsukasa, Peter
Tengstrand, <br>
Stefan Thiede, Gary Thomas, Kevin Thompson, Mike Thyer,
Steve Tong, Holger Waechtler, Stefan Wallentowitz, Shawn
Wang, Greg Waters, Thomas Watts, Eugene Weber, David Welch,
Leon <br>
Wildman, Gerald Williams, Trevor Williams, Jeff Winston,
Joshua Wise, Clifford Wolf, Johan Wouters, Ding Xiaoliang,
Jie Xu, and Amir Yazdanbakhsh.</p>

<p style="margin-top: 1em">Thanks to them, and all those
we&rsquo;ve missed including above.</p>

<p style="margin-top: 1em">DISTRIBUTION <br>
The latest version is available from
&lt;http://www.veripool.org/&gt;.</p>

<p style="margin-top: 1em">Copyright 2003-2016 by Wilson
Snyder. Verilator is free software; you can redistribute it
and/or modify the Verilator internals under the terms of
either the GNU Lesser General <br>
Public License Version 3 or the Perl Artistic License
Version 2.0.</p>

<p style="margin-top: 1em">SEE ALSO <br>
verilator_coverage, verilator_profcfunc, make,</p>

<p style="margin-top: 1em">&quot;verilator --help&quot;
which is the source for this document,</p>

<p style="margin-top: 1em">and internals.txt in the
distribution.</p>

<p style="margin-top: 1em">perl v5.24.1 2016-11-19
VERILATOR(1)</p>
<hr>
</body>
</html>
