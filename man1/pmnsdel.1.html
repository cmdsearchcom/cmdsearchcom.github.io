<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PMNSDEL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PMNSDEL(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PMNSDEL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>pmnsdel</b> - delete a subtree of names from the Performance Co-Pilot PMNS
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>$PCP_BINADM_DIR/pmnsdel</b> [ <b>-n</b> <i>namespace</i>] <i>metricpath</i> [
  ... ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pmnsdel</b> removes subtrees of names from a Performance Metrics Name Space
  (PMNS), as used by the components of the Performance Co-Pilot (PCP).
<div class="Pp"></div>
Normally <b>pmnsdel</b> operates on the default Performance Metrics Name Space
  (PMNS), however if the <b>-n</b> option is specified an alternative namespace
  is used from the file <i>namespace</i>.
<div class="Pp"></div>
The default PMNS is found in the file <i>$PCP_VAR_DIR/pmns/root</i> unless the
  environment variable <b>PMNS_DEFAULT</b> is set, in which case the value is
  assumed to be the pathname to the file containing the default PMNS.
<div class="Pp"></div>
The metric names to be deleted are all those for which one of the
  <i>metricpath</i> arguments is a prefix in the PMNS, see <b>pmns</b>(5).
<div class="Pp"></div>
All of the files defining the PMNS must be located within the directory that
  contains the root of the PMNS, and this would typically be
  <b>$PCP_VAR_DIR/pmns</b> for the default PMNS, and this would typically imply
  running <b>pmnsdel</b> as root.
<div class="Pp"></div>
Provided some initial integrity checks are satisfied, <b>pmnsdel</b> will update
  the necessary PMNS files. Should an error be encountered the original
  namespace is restored. Note that any PMNS files that are no longer referenced
  by the modified namespace will not be removed, even though their contents are
  not part of the new namespace.
<h1 class="Sh" title="Sh" id="CAVEAT"><a class="selflink" href="#CAVEAT">CAVEAT</a></h1>
Once the writing of the new <i>namespace</i> file has begun, the signals SIGINT,
  SIGHUP and SIGTERM will be ignored to protect the integrity of the new files.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>$PCP_VAR_DIR/pmns/root</i></dt>
  <dd class="It-tag">the default PMNS, when then environment variable
      <b>PMNS_DEFAULT</b> is unset</dd>
</dl>
<h1 class="Sh" title="Sh" id="PCP_ENVIRONMENT"><a class="selflink" href="#PCP_ENVIRONMENT">PCP
  ENVIRONMENT</a></h1>
Environment variables with the prefix <b>PCP_</b> are used to parameterize the
  file and directory names used by PCP. On each installation, the file
  <i>/etc/pcp.conf</i> contains the local values for these variables. The
  <b>$PCP_CONF</b> variable may be used to specify an alternative configuration
  file, as described in <b>pcp.conf</b>(5).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pmnsadd</b>(1), <b>pmnsmerge</b>(1), <b>pcp.conf</b>(5), <b>pcp.env</b>(5)
  and <b>pmns</b>(5).</div>
<table class="foot">
  <tr>
    <td class="foot-date">PCP</td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
