<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VIRT-LOGIN-SHELL(1) Virtualization Support
VIRT-LOGIN-SHELL(1)</p>

<p style="margin-top: 1em">NAME <br>
virt-login-shell - tool to execute a shell within a
container matching the users name</p>

<p style="margin-top: 1em">SYNOPSIS <br>
virt-login-shell [OPTION]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The virt-login-shell program is a setuid shell that is used
to join an LXC container that matches the user&rsquo;s name.
If the container is not running, virt-login-shell will
attempt <br>
to start the container. virt-login-shell is not allowed to
be run by root. Normal users will get added to a container
that matches their username, if it exists, and they are <br>
configured in /etc/libvirt/virt-login-shell.conf.</p>

<p style="margin-top: 1em">The basic structure of most
virt-login-shell usage is:</p>

<p style="margin-top: 1em">virt-login-shell</p>

<p style="margin-top: 1em">OPTIONS <br>
-c CMD <br>
Instruct the shell to run CMD instead of presenting an
interactive shell prompt.</p>

<p style="margin-top: 1em">-h, --help <br>
Display command line help usage then exit.</p>

<p style="margin-top: 1em">-V, --version <br>
Display version information then exit.</p>

<p style="margin-top: 1em">CONFIG <br>
By default, virt-login-shell will execute the /bin/sh
program for the user. You can modify this behaviour by
defining the shell variable in
/etc/libvirt/virt-login-shell.conf.</p>

<p style="margin-top: 1em">eg. shell = [
&quot;/bin/bash&quot; ]</p>

<p style="margin-top: 1em">If the &rsquo;auto_shell&rsquo;
config option is set then it will attempt to automatically
detect the shell from /etc/password inside the container.
This should only be done if the container <br>
has a separate /etc directory from the host, otherwise it
will end up recursively invoking virt-login-shell.</p>

<p style="margin-top: 1em">eg. auto_shell = 1</p>

<p style="margin-top: 1em">By default no users are allowed
to use virt-login-shell, if you want to allow certain users
to use virt-login-shell, you need to modify the
allowed_users variable in <br>
/etc/libvirt/virt-login-shell.conf.</p>

<p style="margin-top: 1em">eg. allowed_users = [
&quot;tom&quot;, &quot;dick&quot;, &quot;harry&quot; ]</p>

<p style="margin-top: 1em">EXIT STATUS <br>
virt-login-shell normally returns the exit status of the
command it executed. If the command was killed by a signal,
but that signal is not fatal to virt-login-shell, then it
<br>
returns the signal number plus 128.</p>

<p style="margin-top: 1em">Exit status generated by
virt-login-shell itself:</p>

<p style="margin-top: 1em">0 An option was used to learn
more about this binary. <br>
125 Generic error before attempting execution of the
configured shell; for example, if libvirtd is not running.
<br>
126 The configured shell exists but could not be executed.
<br>
127 The configured shell could not be found.</p>

<p style="margin-top: 1em">BUGS <br>
Report any bugs discovered to the libvirt community via the
mailing list &lt;http://libvirt.org/contact.html&gt; or bug
tracker &lt;http://libvirt.org/bugs.html&gt;. Alternatively
report <br>
bugs to your software distributor / vendor.</p>

<p style="margin-top: 1em">AUTHORS <br>
Please refer to the AUTHORS file distributed with
libvirt.</p>

<p style="margin-top: 1em">Daniel Walsh &lt;dwalsh at
redhat dot com&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2013-2014 Red Hat, Inc., and the authors
listed in the libvirt AUTHORS file.</p>

<p style="margin-top: 1em">LICENSE <br>
virt-login-shell is distributed under the terms of the GNU
LGPL v2+. This is free software; see the source for copying
conditions. There is NO warranty; not even for <br>
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE</p>

<p style="margin-top: 1em">SEE ALSO <br>
virsh(1), &lt;http://www.libvirt.org/&gt;</p>

<p style="margin-top: 1em">libvirt-2.0.0 2016-06-22
VIRT-LOGIN-SHELL(1)</p>
<hr>
</body>
</html>
