<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>QSGEO(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">QSGEO(1)</td>
    <td class="head-vol">qsgeo man page</td>
    <td class="head-rtitle">QSGEO(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
qsgeo - an utility to lookup a client's country code.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
qsgeo -d &lt;path&gt; [-l] [-s] [-ip &lt;ip&gt;]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Use this utility to resolve the country codes of IP addresses within existing
  log files. The utility reads the log file data from stdin and writes them,
  with the injected country code, to stdout.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-d &lt;path&gt;</dt>
  <dd class="It-tag">Specifies the path to the geographical database files (CSV
      file containing IP address ranges and country codes).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">Writes a summary of the requests per country only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l</dt>
  <dd class="It-tag">Writes the database to stdout (ignoring stdin) inserting
      local (127.*) and private (10.*, 172.16*, 192.168.*) network
    addresses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-ip &lt;ip&gt;</dt>
  <dd class="It-tag">Resolves a single IP address instead of processing a log
      file.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
Reading the file access_log and adding the country code to the IP address field:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 cat access_log | qsgeo -d GeoIPCountryWhois.csv
<div style="height: 1.00em;">&#x00A0;</div>
Reading the file access_log and showing a summary only:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 cat access_log | qsgeo -d GeoIPCountryWhois.csv -s
<div style="height: 1.00em;">&#x00A0;</div>
Resolving a single IP address:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 qsgeo -d GeoIPCountryWhois.csv -ip 192.84.12.23
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
qsexec(1), qsfilter2(1), qsgrep(1), qshead(1), qslog(1), qslogger(1), qspng(1),
  qsrotate(1), qssign(1), qstail(1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Pascal Buchbinder, http://mod-qos.sourceforge.net/</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 2016</td>
    <td class="foot-os">mod_qos utilities 11.36</td>
  </tr>
</table>
</body>
</html>
