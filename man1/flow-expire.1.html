<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title><b>flow-expire</b>(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle"><b>flow-expire</b>(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle"><b>flow-expire</b>(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>flow-expire</b> &#x2014; Manage storage of flow file archives by expiring old
  data.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>flow-expire</b> [-h] [-d<i> debug_level</i>] [-e<i> expire_count</i>] [-E<i>
  expire_size</i>] -w <i> workdir</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>flow-expire</b> utility will remove the oldest flow files in a directory
  based on either a count of files or space utilization. The directory is
  recursively searched for flow files. Files that do not have a flow-tools
  signature will be ignored. The internal timestamp is used so backups or copies
  of the flow files that do not retain the original timestamp will not impact
  the operation of <b>flow-expire</b>. <b>flow-expire</b> is typically used to
  manage storage in a distributed environment where flows are collected on a
  different server than they are archived.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-d<i> debug_level</i></dt>
  <dd class="It-tag">Enable debugging.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-e<i> expire_count</i></dt>
  <dd class="It-tag">Retain the maximum number of files so that the total file
      count is less than <i>expire_count</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-E<i> expire_size</i></dt>
  <dd class="It-tag">Retain the maximum number of files so that the total
      storage is less than <i>expire_size</i>. The letters b,K,M,G can be used
      as multipliers, ie 16 Megabytes is 16M.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h</dt>
  <dd class="It-tag">Display help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-w<i> workdir</i></dt>
  <dd class="It-tag">Work in <b>workdir</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Remove the oldest flow files in <b>/flows/krc4</b> until the total storage is
  less then 2 Gigabytes.
<div class="Pp"></div>
<br/>
 <b>flow-expire -E2Gig -w /flows/krc4</b>
<div class="Pp"></div>
Remove the oldest flow files in <b>/flows/krc4</b> until the total number of
  files is less then 100.
<div class="Pp"></div>
<br/>
 <b>flow-expire -e100 -w /flows/krc4</b>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Empty directories are not removed.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Mark Fullmer maf@splintered.net
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>flow-tools</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
