<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:14:13 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GMT_SHELL_FUNCTIONS.SH(1) GMT
GMT_SHELL_FUNCTIONS.SH(1)</p>

<p style="margin-top: 1em">NAME <br>
gmt_shell_functions.sh - Practical functions to be used in
GMT bourne shell scripts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gmt_init_tmpdir</p>

<p style="margin-top: 1em">gmt_remove_tmpdir</p>

<p style="margin-top: 1em">gmt_clean_up [prefix]</p>

<p style="margin-top: 1em">gmt_message message</p>

<p style="margin-top: 1em">gmt_abort message</p>

<p style="margin-top: 1em">gmt_build_movie [-d directory]
[-n] [-r framerate] [-v] namestem</p>

<p style="margin-top: 1em">gmt_build_gif [-d directory] [-l
loop] [-r delay] namestem</p>

<p style="margin-top: 1em">gmt_build_kmz -p prefix [ -r ]
files</p>

<p style="margin-top: 1em">gmt_get_nrecords file(s)</p>

<p style="margin-top: 1em">gmt_get_ndatarecords file(s)</p>

<p style="margin-top: 1em">gmt_get_nfields string</p>

<p style="margin-top: 1em">gmt_get_field string</p>

<p style="margin-top: 1em">gmt_get_region file(s)
[options]</p>

<p style="margin-top: 1em">gmt_get_gridregion file
[options]</p>

<p style="margin-top: 1em">gmt_get_map_width -R -J</p>

<p style="margin-top: 1em">gmt_get_map_height -R -J</p>

<p style="margin-top: 1em">gmt_movie_script [-c canvas OR
-e dpi -h height -w width] [-f format] <br>
[-g fill] [-n frames] [-m margin] [-r rate] namestem</p>

<p style="margin-top: 1em">gmt_launch_jobs [-c n_cores] [-l
nlines_per_cluster] [-n] [-v] [-w] commandfile</p>

<p style="margin-top: 1em">gmt_set_psfile scriptfile</p>

<p style="margin-top: 1em">gmt_set_pdffile scriptfile</p>

<p style="margin-top: 1em">gmt_set_framename prefix
framenumber</p>

<p style="margin-top: 1em">gmt_set_framenext
framenumber</p>

<p style="margin-top: 1em">DESCRIPTION <br>
gmt_shell_functions.sh provides a set of functions to Bourne
(again) shell scripts in support of GMT. The calling shell
script should include the following line, before the
func&acirc; <br>
tions can be used:</p>

<p style="margin-top: 1em">. gmt_shell_functions.sh</p>

<p style="margin-top: 1em">Once included in a shell script,
gmt_shell_functions.sh allows GMT users to do some scripting
more easily than otherwise. The functions made available
are:</p>

<p style="margin-top: 1em">gmt_init_tmpdir <br>
Creates a temporary directory in /tmp or (when defined) in
the directory specified by the environment variable TMPDIR.
The name of the temporary directory is returned as <br>
environment variable GMT_TMPDIR. This function also causes
GMT to run in &acirc;isolation mode&acirc;, i.e., all
temporary files will be created in GMT_TMPDIR and the
gmt.conf file <br>
will not be adjusted.</p>

<p style="margin-top: 1em">gmt_remove_tmpdir <br>
Removes the temporary directory and unsets the GMT_TMPDIR
environment variable.</p>

<p style="margin-top: 1em">gmt_cleanup <br>
Remove all files and directories in which the current
process number is part of the file name. If the optional
prefix is given then we also delete all files and
directo&acirc; <br>
ries that begins with the given prefix.</p>

<p style="margin-top: 1em">gmt_message <br>
Send a message to standard error.</p>

<p style="margin-top: 1em">gmt_abort <br>
Send a message to standard error and exit the shell.</p>

<p style="margin-top: 1em">gmt_get_nrecords <br>
Returns the total number of lines in file(s)</p>

<p style="margin-top: 1em">gmt_get_ndatarecords <br>
Returns the total number of data records in file(s), i.e.,
not counting headers.</p>

<p style="margin-top: 1em">gmt_get_nfields <br>
Returns the number of fields or words in string</p>

<p style="margin-top: 1em">gmt_get_field <br>
Returns the given field in a string. Must pass string
between double quotes to preserve it as one item.</p>

<p style="margin-top: 1em">gmt_get_region <br>
Returns the region in the form w/e/s/n based on the data in
table file(s). Optionally add -Idx/dy to round off the
answer.</p>

<p style="margin-top: 1em">gmt_get_gridregion <br>
Returns the region in the form w/e/s/n based on the header
of a grid file. Optionally add -Idx/dy to round off the
answer.</p>

<p style="margin-top: 1em">gmt_get_map_width <br>
Expects the user to give the desired -R -J settings and
returns the map width in the current measurement unit.</p>

<p style="margin-top: 1em">gmt_get_map_height <br>
Expects the user to give the desired -R -J settings and
returns the map height in the current measurement unit.</p>

<p style="margin-top: 1em">gmt_movie_script <br>
Creates an animation bash script template based on the
arguments that set size, number of frames, video format etc.
Without arguments the function will display its usage.</p>

<p style="margin-top: 1em">gmt_launch_jobs <br>
Takes a file with a long list of commands and splits them
into many chunks that can be executed concurrently. Without
arguments the function will display its usage. Note: <br>
It is your responsibility to make sure no race conditions
occur (i.e., multiple commands writing to the same
file).</p>

<p style="margin-top: 1em">gmt_set_psfile <br>
Create the output PostScript file name based on the base
name of a given file (usually the script name $0).</p>

<p style="margin-top: 1em">gmt_set_framename <br>
Returns a lexically ordered filename stem (i.e., no
extension) given the file prefix and the current frame
number, using a width of 6 for the integer including leading
<br>
zeros. Useful when creating animations and lexically sorted
filenames are required.</p>

<p style="margin-top: 1em">gmt_set_framenext <br>
Accepts the current frame integer counter and returns the
next integer counter.</p>

<p style="margin-top: 1em">gmt_build_movie <br>
Accepts a namestem which gives the prefix of a series of
image files with names dir/namestem_*.*. Optional argument
sets the directory [same as namestem], and frame rate <br>
[24]. Without arguments the function will display its
usage.</p>

<p style="margin-top: 1em">gmt_build_gif <br>
Accepts a namestem which gives the prefix of a series of
image files with names dir/namestem_*.*. Optional argument
sets the directory [same as namestem], loop count and <br>
frame rate [24]. Without arguments the function will display
its usage.</p>

<p style="margin-top: 1em">gmt_build_kmz <br>
Accepts -p prefix [ -r ] and any number of KML files and and
the images they may refer to, and builds a single KMZ file
with the name prefix.kmz. Without arguments the <br>
function will display its usage.</p>

<p style="margin-top: 1em">NOTES <br>
1. These functions only work in the Bourne shell (sh) and
their derivatives (like ash, bash, ksh and zsh). These
functions do not work in the C shell (csh) or their
derivatives <br>
(like tcsh), and cannot be used in DOS batch scripts
either.</p>

<p style="margin-top: 1em">2. gmt_shell_functions.sh were
first introduced in GMT version 4.2.2 and have since been
regularly expanded with other practical scripting
short-cuts. If you want to suggest <br>
other functions, please do so by adding a New Issue request
on gmt.soest.hawaii.edu.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gmt , gmt.conf , gmtinfo , grdinfo</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2017, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and
F. Wobbe</p>

<p style="margin-top: 1em">5.4.2 Jun 24, 2017
GMT_SHELL_FUNCTIONS.SH(1)</p>
<hr>
</body>
</html>
