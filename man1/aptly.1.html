<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:49:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>APTLY(1) APTLY(1)</p>

<p style="margin-top: 1em">NAME <br>
aptly - Debian repository management tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
Common command format:</p>

<p style="margin-top: 1em">aptly [global options...]
command subcommand [options...] arguments</p>

<p style="margin-top: 1em">aptly has integrated help that
matches contents of this manual page, to get help, prepend
help to command name:</p>

<p style="margin-top: 1em">aptly help mirror create</p>

<p style="margin-top: 1em">DESCRIPTION <br>
aptly is a tool to create partial and full mirrors of remote
repositories, manage local repositories, filter them, merge,
upgrade individual packages, take snapshots and publish <br>
them back as Debian repositories.</p>

<p style="margin-top: 1em">aptly&acirc;s goal is to
establish repeatability and controlled changes in a
package-centric environment. aptly allows one to fix a set
of packages in a repository, so that package <br>
installation and upgrade becomes deterministic. At the same
time aptly allows one to perform controlled, fine-grained
changes in repository contents to transition your package
<br>
environment to new version.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
aptly looks for configuration file first in ~/.aptly.conf
then in /etc/aptly.conf and, if no config file found, new
one is created in home directory. If -config= flag is
speci&acirc; <br>
fied, aptly would use config file at specified location.
Also aptly needs root directory for database, package and
published repository storage. If not specified, directory
<br>
defaults to ~/.aptly, it will be created if missing.</p>

<p style="margin-top: 1em">Configuration file is stored in
JSON format (default values shown below):</p>

<p style="margin-top: 1em">{ <br>
&quot;rootDir&quot;: &quot;$HOME/.aptly&quot;, <br>
&quot;downloadConcurrency&quot;: 4, <br>
&quot;downloadSpeedLimit&quot;: 0, <br>
&quot;architectures&quot;: [], <br>
&quot;dependencyFollowSuggests&quot;: false, <br>
&quot;dependencyFollowRecommends&quot;: false <br>
&quot;dependencyFollowAllVariants&quot;: false, <br>
&quot;dependencyFollowSource&quot;: false, <br>
&quot;gpgDisableSign&quot;: false, <br>
&quot;gpgDisableVerify&quot;: false, <br>
&quot;downloadSourcePackages&quot;: false, <br>
&quot;ppaDistributorID&quot;: &quot;ubuntu&quot;, <br>
&quot;ppaCodename&quot;: &quot;&quot;, <br>
&quot;skipContentsPublishing&quot;: false, <br>
&quot;S3PublishEndpoints&quot;: { <br>
&quot;test&quot;: { <br>
&quot;region&quot;: &quot;us-east-1&quot;, <br>
&quot;bucket&quot;: &quot;repo&quot;, <br>
&quot;endpoint&quot;: &quot;&quot;, <br>
&quot;awsAccessKeyID&quot;: &quot;&quot;, <br>
&quot;awsSecretAccessKey&quot;: &quot;&quot;, <br>
&quot;prefix&quot;: &quot;&quot;, <br>
&quot;acl&quot;: &quot;public-read&quot;, <br>
&quot;storageClass&quot;: &quot;&quot;, <br>
&quot;encryptionMethod&quot;: &quot;&quot;, <br>
&quot;plusWorkaround&quot;: false, <br>
&quot;disableMultiDel&quot;: false, <br>
&quot;forceSigV2&quot;: false, <br>
&quot;debug&quot;: false <br>
} <br>
}, <br>
&quot;SwiftPublishEndpoints&quot;: { <br>
&quot;test&quot;: { <br>
&quot;container&quot;: &quot;repo&quot;, <br>
&quot;osname&quot;: &quot;&quot;, <br>
&quot;password&quot;: &quot;&quot;, <br>
&quot;prefix&quot;: &quot;&quot;, <br>
&quot;authurl&quot;: &quot;&quot;, <br>
&quot;tenant&quot;: &quot;&quot;, <br>
&quot;tenantid&quot;: &quot;&quot; <br>
} <br>
} <br>
}</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">rootDir <br>
is root of directory storage to store database (rootDir/db),
downloaded packages (rootDir/pool) and published
repositories (rootDir/public)</p>

<p style="margin-top: 1em">downloadConcurrency <br>
is a number of parallel download threads to use when
downloading packages</p>

<p style="margin-top: 1em">downloadSpeedLimit <br>
limit in kbytes/sec on download speed while mirroring remote
repositieis</p>

<p style="margin-top: 1em">architectures <br>
is a list of architectures to process; if left empty
defaults to all available architectures; could be overridden
with option -architectures</p>

<p style="margin-top: 1em">dependencyFollowSuggests <br>
follow contents of Suggests: field when processing
dependencies for the package</p>

<p style="margin-top: 1em">dependencyFollowRecommends <br>
follow contents of Recommends: field when processing
dependencies for the package</p>

<p style="margin-top: 1em">dependencyFollowAllVariants <br>
when dependency looks like package-a | package-b, follow
both variants always</p>

<p style="margin-top: 1em">dependencyFollowSource <br>
follow dependency from binary package to source package</p>

<p style="margin-top: 1em">gpgDisableSign <br>
don&acirc;t sign published repositories with gpg(1), also
can be disabled on per-repo basis using -skip-signing flag
when publishing</p>

<p style="margin-top: 1em">gpgDisableVerify <br>
don&acirc;t verify remote mirrors with gpg(1), also can be
disabled on per-mirror basis using -ignore-signatures flag
when creating and updating mirrors</p>

<p style="margin-top: 1em">downloadSourcePackages <br>
if enabled, all mirrors created would have flag set to
download source packages; this setting could be controlled
on per-mirror basis with -with-sources flag</p>

<p style="margin-top: 1em">ppaDistributorID, ppaCodename
<br>
specifies paramaters for short PPA url expansion, if left
blank they default to output of lsb_release command</p>

<p style="margin-top: 1em">S3PublishEndpoints <br>
configuration of Amazon S3 publishing endpoints (see
below)</p>

<p style="margin-top: 1em">SwiftPublishEndpoints <br>
configuration of OpenStack Swift publishing endpoints (see
below)</p>

<p style="margin-top: 1em">S3 PUBLISHING ENDPOINTS <br>
aptly could be configured to publish repository directly to
Amazon S3 (or S3-compatible cloud storage). First,
publishing endpoints should be described in aptly
configuration <br>
file. Each endpoint has name and associated settings:</p>

<p style="margin-top: 1em">region Amazon region for S3
bucket (e.g. us-east-1)</p>

<p style="margin-top: 1em">bucket bucket name</p>

<p style="margin-top: 1em">endpoint <br>
(optional) when using S3-compatible cloud storage, specify
hostname of service endpoint here, region is ignored if
endpoint is set (set region to some human-readable name)
<br>
(should be left blank for real Amazon S3)</p>

<p style="margin-top: 1em">prefix (optional) do publishing
under specified prefix in the bucket, defaults to no prefix
(bucket root)</p>

<p style="margin-top: 1em">acl (optional) assign ACL to
published files (one of the canned ACLs in Amazon
terminology). Useful values: private (default) or
public-read (public repository). Public repos&acirc; <br>
itories could be consumed by apt using HTTP endpoint (Amazon
bucket should be configured for &quot;website
hosting&quot;), for private repositories special apt S3
transport is <br>
required.</p>

<p style="margin-top: 1em">awsAccessKeyID,
awsSecretAccessKey <br>
(optional) Amazon credentials to access S3 bucket. If not
supplied, environment variables AWS_ACCESS_KEY_ID and
AWS_SECRET_ACCESS_KEY are used.</p>

<p style="margin-top: 1em">storageClass <br>
(optional) Amazon S3 storage class, defaults to STANDARD.
Other values available: REDUCED_REDUNDANCY (lower price,
lower redundancy)</p>

<p style="margin-top: 1em">encryptionMethod <br>
(optional) server-side encryption method, defaults to none.
Currently the only available encryption method is AES256</p>

<p style="margin-top: 1em">plusWorkaround <br>
(optional) workaround misbehavior in apt and Amazon S3 for
files with + in filename by creating two copies of package
files with + in filename: one original and another <br>
one with spaces instead of plus signs With plusWorkaround
enabled, package files with plus sign would be stored twice.
aptly might not cleanup files with spaces when pub&acirc;
<br>
lished repository is dropped or updated (switched) to new
version of repository (snapshot)</p>

<p style="margin-top: 1em">disableMultiDel <br>
(optional) for S3-compatible cloud storages which do not
support MultiDel S3 API, enable this setting (file deletion
would be slower with this setting enabled)</p>

<p style="margin-top: 1em">In order to publish to S3,
specify endpoint as s3:endpoint-name: before publishing
prefix on the command line, e.g.:</p>

<p style="margin-top: 1em">aptly publish snapshot
wheezy-main s3:test:</p>

<p style="margin-top: 1em">OPENSTACK SWIFT PUBLISHING
ENDPOINTS <br>
aptly could be configured to publish repository directly to
OpenStack Swift. First, publishing endpoints should be
described in aptly configuration file. Each endpoint has
name <br>
and associated settings:</p>

<p style="margin-top: 1em">container <br>
container name</p>

<p style="margin-top: 1em">prefix (optional) do publishing
under specified prefix in the container, defaults to no
prefix (container root)</p>

<p style="margin-top: 1em">osname, password <br>
(optional) OpenStack credentials to access Keystone. If not
supplied, environment variables OS_USERNAME and OS_PASSWORD
are used.</p>

<p style="margin-top: 1em">tenant, tenantid <br>
(optional) OpenStack tenant name and id (in order to use v2
authentication).</p>

<p style="margin-top: 1em">authurl <br>
(optional) the full url of Keystone server (including port,
and version). example
http://identity.example.com:5000/v2.0</p>

<p style="margin-top: 1em">In order to publish to Swift,
specify endpoint as swift:endpoint-name: before publishing
prefix on the command line, e.g.:</p>

<p style="margin-top: 1em">aptly publish snapshot
jessie-main swift:test:</p>

<p style="margin-top: 1em">PACKAGE QUERY <br>
Some commands accept package queries to identify list of
packages to process. Package query syntax almost matches
reprepro query language. Query consists of the following
simple <br>
terms:</p>

<p style="margin-top: 1em">direct package reference <br>
reference to exaclty one package. Format is identical to the
way aptly lists packages in show commands with
-with-packages flag: name_version_arch, e.g.:
libmysql&acirc; <br>
client18_5.5.35-rel33.0-611.squeeze_amd64</p>

<p style="margin-top: 1em">dependency condition <br>
syntax follows Debian dependency specification: package_name
followed by optional version specification and architecture
limit, e.g: mysql-client (&gt;= 3.6).</p>

<p style="margin-top: 1em">query against package fields
<br>
syntax is the same as for dependency conditions, but instead
of package name field name is used, e.g: Priority
(optional).</p>

<p style="margin-top: 1em">Supported fields:</p>

<p style="margin-top: 1em">&acirc; all field names from
Debian package control files are supported except for
Filename, MD5sum, SHA1, SHA256, Size, Files, Checksums-SHA1,
Checksums-SHA256.</p>

<p style="margin-top: 1em">&acirc; $Source is a name of
source package (for binary packages)</p>

<p style="margin-top: 1em">&acirc; $SourceVersion is a
version of source package</p>

<p style="margin-top: 1em">&acirc; $Architecture is
Architecture for binary packages and source for source
packages, when matching with equal (=) operator, package
with any architecture matches all architec&acirc; <br>
tures but source.</p>

<p style="margin-top: 1em">&acirc; $Version has the same
value as Version, but comparison operators use Debian
version precedence rules</p>

<p style="margin-top: 1em">&acirc; $PackageType is deb for
binary packages and source for source packages</p>

<p style="margin-top: 1em">Operators:</p>

<p style="margin-top: 1em">= strict match, default operator
is no operator is given</p>

<p style="margin-top: 1em">&gt;=, &lt;=, =, &gt;&gt;
(strictly greater), &lt;&lt; (strictly less) <br>
lexicographical comparison for all fields and special rules
when comparing package versions</p>

<p style="margin-top: 1em">% pattern matching, like shell
patterns, supported special symbols are: [^]?*, e.g.:
$Version (% 3.5-*)</p>

<p style="margin-top: 1em">~ regular expression matching,
e.g.: Name (~ .*-dev)</p>

<p style="margin-top: 1em">Simple terms could be combined
into more complex queries using operators , (and), | (or)
and ! (not), parentheses () are used to change operator
precedence. Match value could be <br>
enclosed in single (&acirc;) or double (&quot;) quotes if
required to resolve ambiguity, quotes inside quoted string
should escaped with slash (.</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">mysql-client <br>
matches package mysql-client of any version and architecture
(including source), also matches packages that Provide:
mysql-client.</p>

<p style="margin-top: 1em">mysql-client (&gt;= 3.6) <br>
matches package mysql-client with version greater or equal
to 3.6. Valid operators for version are: &gt;=, &lt;=, =,
&gt;&gt; (strictly greater), &lt;&lt; (strictly less).</p>

<p style="margin-top: 1em">mysql-client {i386} <br>
matches package mysql-client on architecture i386,
architecture all matches all architectures but source.</p>

<p style="margin-top: 1em">mysql-client (&gt;= 3.6) {i386}
<br>
version and architecture conditions combined.</p>


<p style="margin-top: 1em">libmysqlclient18_5.5.35-rel33.0-611.squeeze_amd64
<br>
direct package reference.</p>

<p style="margin-top: 1em">$Source (nginx) <br>
all binary packages with nginx as source package.</p>

<p style="margin-top: 1em">!Name (~ .*-dev),
mail-transport, $Version (&gt;= 3.5) <br>
matches all packages that provide mail-transport with name
that has no suffix -dev and with version greater or equal to
3.5.</p>

<p style="margin-top: 1em">When specified on command line,
query may have to be quoted according to shell rules, so
that it stays single argument:</p>

<p style="margin-top: 1em">aptly repo import percona stable
&acirc;mysql-client (&gt;= 3.6)&acirc;</p>

<p style="margin-top: 1em">PACKAGE DISPLAY FORMAT <br>
Some aptly commands (aptly mirror search, aptly package
search, ...) support -format flag which allows to customize
how search results are printed. Golang templates are used to
<br>
specify display format, with all package stanza fields
available to template. In addition to package stanza fields
aptly provides:</p>

<p style="margin-top: 1em">Key internal aptly package ID,
unique for all packages in aptly (combination of ShortKey
and FilesHash).</p>

<p style="margin-top: 1em">FilesHash <br>
hash that includes MD5 of all packages files.</p>

<p style="margin-top: 1em">ShortKey <br>
package ID, which is unique in single list (mirror, repo,
snapshot, ...), but not unique in whole aptly package
collection.</p>

<p style="margin-top: 1em">For example, default aptly
display format could be presented with the following
template: {{.Package}}_{{.Version}}_{{.Architecture}}. To
display package name with dependencies: <br>
{{.Package}} | {{.Depends}}. More information on Golang
template syntax: http://godoc.org/text/template</p>

<p style="margin-top: 1em">GLOBAL OPTIONS <br>
-architectures= <br>
list of architectures to consider during (comma-separated),
default to all available</p>

<p style="margin-top: 1em">-config= <br>
location of configuration file (default locations are
/etc/aptly.conf, ~/.aptly.conf)</p>

<p style="margin-top: 1em">-dep-follow-all-variants=false
<br>
when processing dependencies, follow a &amp; b if dependency
is &acirc;a|b&acirc;</p>

<p style="margin-top: 1em">-dep-follow-recommends=false
<br>
when processing dependencies, follow Recommends</p>

<p style="margin-top: 1em">-dep-follow-source=false <br>
when processing dependencies, follow from binary to Source
packages</p>

<p style="margin-top: 1em">-dep-follow-suggests=false <br>
when processing dependencies, follow Suggests</p>

<p style="margin-top: 1em">CREATE NEW MIRROR <br>
aptly mirror create name archive url distribution
[component1 ...]</p>

<p style="margin-top: 1em">Creates mirror name of remote
repository, aptly supports both regular and flat Debian
repositories exported via HTTP and FTP. aptly would try
download Release file from remote <br>
repository and verify its&acirc; signature. Command line
format resembles apt utlitily sources.list(5).</p>

<p style="margin-top: 1em">PPA urls could specified in
short format:</p>

<p style="margin-top: 1em">$ aptly mirror create name
ppa:user/project</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror create
wheezy-main http://mirror.yandex.ru/debian/ wheezy main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-filter= <br>
filter packages in mirror</p>

<p style="margin-top: 1em">-filter-with-deps=false <br>
when filtering, include dependencies of matching packages as
well</p>

<p style="margin-top: 1em">-force-components=false <br>
(only with component list) skip check that requested
components are listed in Release file</p>

<p style="margin-top: 1em">-ignore-signatures=false <br>
disable verification of Release file signatures</p>

<p style="margin-top: 1em">-keyring= <br>
gpg keyring to use when verifying Release file (could be
specified multiple times)</p>

<p style="margin-top: 1em">-with-sources=false <br>
download source packages in addition to binary packages</p>

<p style="margin-top: 1em">-with-udebs=false <br>
download .udeb packages (Debian installer support)</p>

<p style="margin-top: 1em">LIST MIRRORS <br>
aptly mirror list</p>

<p style="margin-top: 1em">List shows full list of remote
repository mirrors.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror list</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-raw=false <br>
display list in machine-readable format</p>

<p style="margin-top: 1em">SHOW DETAILS ABOUT MIRROR <br>
aptly mirror show name</p>

<p style="margin-top: 1em">Shows detailed information about
the mirror.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror show
wheezy-main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-with-packages=false <br>
show detailed list of packages and versions stored in the
mirror</p>

<p style="margin-top: 1em">DELETE MIRROR <br>
aptly mirror drop name</p>

<p style="margin-top: 1em">Drop deletes information about
remote repository mirror name. Package data is not deleted
(since it could still be used by other mirrors or
snapshots). If mirror is used as <br>
source to create a snapshot, aptly would refuse to delete
such mirror, use flag -force to override.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror drop
wheezy-main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-force=false <br>
force mirror deletion even if used by snapshots</p>

<p style="margin-top: 1em">UPDATE MIRROR <br>
aptly mirror update name</p>

<p style="margin-top: 1em">Updates remote mirror (downloads
package files and meta information). When mirror is created,
this command should be run for the first time to fetch
mirror contents. This command <br>
can be run multiple times to get updated repository
contents. If interrupted, command can be safely
restarted.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror update
wheezy-main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-download-limit=0 <br>
limit download speed (kbytes/sec)</p>

<p style="margin-top: 1em">-force=false <br>
force update mirror even if it is locked by another
process</p>

<p style="margin-top: 1em">-ignore-checksums=false <br>
ignore checksum mismatches while downloading package files
and metadata</p>

<p style="margin-top: 1em">-ignore-signatures=false <br>
disable verification of Release file signatures</p>

<p style="margin-top: 1em">-keyring= <br>
gpg keyring to use when verifying Release file (could be
specified multiple times)</p>

<p style="margin-top: 1em">RENAMES MIRROR <br>
aptly mirror rename old-name new-name</p>

<p style="margin-top: 1em">Command changes name of the
mirror.Mirror name should be unique.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror rename wheezy-min
wheezy-main</p>

<p style="margin-top: 1em">EDIT MIRROR SETTINGS <br>
aptly mirror edit name</p>

<p style="margin-top: 1em">Command edit allows one to
change settings of mirror: filters, list of
architectures.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror edit
-filter=nginx -filter-with-deps some-mirror</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-filter= <br>
filter packages in mirror</p>

<p style="margin-top: 1em">-filter-with-deps=false <br>
when filtering, include dependencies of matching packages as
well</p>

<p style="margin-top: 1em">-with-sources=false <br>
download source packages in addition to binary packages</p>

<p style="margin-top: 1em">-with-udebs=false <br>
download .udeb packages (Debian installer support)</p>

<p style="margin-top: 1em">SEARCH MIRROR FOR PACKAGES
MATCHING QUERY <br>
aptly mirror search name package-query</p>

<p style="margin-top: 1em">Command search displays list of
packages in mirror that match package query</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly mirror search
wheezy-main &acirc;$Architecture (i386), Name (%
*-dev)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-format= <br>
custom format for result printing</p>

<p style="margin-top: 1em">-with-deps=false <br>
include dependencies into search results</p>

<p style="margin-top: 1em">ADD PACKAGES TO LOCAL REPOSITORY
<br>
aptly repo add name</p>

<p style="margin-top: 1em">Command adds packages to local
repository from .deb, .udeb (binary packages) and .dsc
(source packages) files. When importing from directory aptly
would do recursive scan looking <br>
for all files matching .[u]deb or.dsc patterns. Every file
discovered would be analyzed to extract metadata, package
would then be created and added to the database. Files would
<br>
be imported to internal package pool. For source packages,
all required files are added automatically as well. Extra
files for source package should be in the same directory as
<br>
*.dsc file.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo add testing
myapp-0.1.2.deb incoming/</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-force-replace=false <br>
when adding package that conflicts with existing package,
remove existing package</p>

<p style="margin-top: 1em">-remove-files=false <br>
remove files that have been imported successfully into
repository</p>

<p style="margin-top: 1em">COPY PACKAGES BETWEEN LOCAL
REPOSITORIES <br>
aptly repo copy src-name dst-name package-query ...</p>

<p style="margin-top: 1em">Command copy copies packages
matching package-query from local repo src-name to local
repo dst-name.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo copy testing stable
&acirc;myapp (=0.1.12)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-dry-run=false <br>
don&acirc;t copy, just show what would be copied</p>

<p style="margin-top: 1em">-with-deps=false <br>
follow dependencies when processing package-spec</p>

<p style="margin-top: 1em">CREATE LOCAL REPOSITORY <br>
aptly repo create name</p>

<p style="margin-top: 1em">Create local package repository.
Repository would be empty when created, packages could be
added from files, copied or moved from another local
repository or imported from the <br>
mirror.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo create testing</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-comment= <br>
any text that would be used to described local
repository</p>

<p style="margin-top: 1em">-component=main <br>
default component when publishing</p>

<p style="margin-top: 1em">-distribution= <br>
default distribution when publishing</p>

<p style="margin-top: 1em">-uploaders-file= <br>
uploaders.json to be used when including .changes into this
repository</p>

<p style="margin-top: 1em">DELETE LOCAL REPOSITORY <br>
aptly repo drop name</p>

<p style="margin-top: 1em">Drop information about deletions
from local repo. Package data is not deleted (since it could
be still used by other mirrors or snapshots).</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo drop local-repo</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-force=false <br>
force local repo deletion even if used by snapshots</p>

<p style="margin-top: 1em">EDIT PROPERTIES OF LOCAL
REPOSITORY <br>
aptly repo edit name</p>

<p style="margin-top: 1em">Command edit allows one to
change metadata of local repository: comment, default
distribution and component.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo edit
-distribution=wheezy testing</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-comment= <br>
any text that would be used to described local
repository</p>

<p style="margin-top: 1em">-component= <br>
default component when publishing</p>

<p style="margin-top: 1em">-distribution= <br>
default distribution when publishing</p>

<p style="margin-top: 1em">-uploaders-file= <br>
uploaders.json to be used when including .changes into this
repository</p>

<p style="margin-top: 1em">IMPORT PACKAGES FROM MIRROR TO
LOCAL REPOSITORY <br>
aptly repo import src-mirror dst-repo package-query ...</p>

<p style="margin-top: 1em">Command import looks up packages
matching package-query in mirror src-mirror and copies them
to local repo dst-repo.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo import wheezy-main
testing nginx</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-dry-run=false <br>
don&acirc;t import, just show what would be imported</p>

<p style="margin-top: 1em">-with-deps=false <br>
follow dependencies when processing package-spec</p>

<p style="margin-top: 1em">LIST LOCAL REPOSITORIES <br>
aptly repo list</p>

<p style="margin-top: 1em">List command shows full list of
local package repositories.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo list</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-raw=false <br>
display list in machine-readable format</p>

<p style="margin-top: 1em">MOVE PACKAGES BETWEEN LOCAL
REPOSITORIES <br>
aptly repo move src-name dst-name package-query ...</p>

<p style="margin-top: 1em">Command move moves packages
matching package-query from local repo src-name to local
repo dst-name.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo move testing stable
&acirc;myapp (=0.1.12)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-dry-run=false <br>
don&acirc;t move, just show what would be moved</p>

<p style="margin-top: 1em">-with-deps=false <br>
follow dependencies when processing package-spec</p>

<p style="margin-top: 1em">REMOVE PACKAGES FROM LOCAL
REPOSITORY <br>
aptly repo remove name package-query ...</p>

<p style="margin-top: 1em">Commands removes packages
matching package-query from local repository name. If
removed packages are not referenced by other repos or
snapshots, they can be removed completely <br>
(including files) by running &acirc;aptly db
cleanup&acirc;.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo remove testing
&acirc;myapp (=0.1.12)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-dry-run=false <br>
don&acirc;t remove, just show what would be removed</p>

<p style="margin-top: 1em">SHOW DETAILS ABOUT LOCAL
REPOSITORY <br>
aptly repo show name</p>

<p style="margin-top: 1em">Show command shows full
information about local package repository.</p>

<p style="margin-top: 1em">ex: $ aptly repo show
testing</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-with-packages=false <br>
show list of packages</p>

<p style="margin-top: 1em">RENAMES LOCAL REPOSITORY <br>
aptly repo rename old-name new-name</p>

<p style="margin-top: 1em">Command changes name of the
local repo. Local repo name should be unique.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo rename wheezy-min
wheezy-main</p>

<p style="margin-top: 1em">SEARCH REPO FOR PACKAGES
MATCHING QUERY <br>
aptly repo search name package-query</p>

<p style="margin-top: 1em">Command search displays list of
packages in local repository that match package query</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo search my-software
&acirc;$Architecture (i386), Name (% *-dev)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-format= <br>
custom format for result printing</p>

<p style="margin-top: 1em">-with-deps=false <br>
include dependencies into search results</p>

<p style="margin-top: 1em">ADD PACKAGES TO LOCAL
REPOSITORIES BASED ON .CHANGES FILES <br>
aptly repo include &lt;file.changes&gt;|directory ...</p>

<p style="margin-top: 1em">Command include looks for
.changes files in list of arguments or specified
directories. Each .changes file is verified, parsed,
referenced files are put into separate temporary <br>
directory and added into local repository. Successfully
imported files are removed by default.</p>

<p style="margin-top: 1em">Additionally uploads could be
restricted with &lt;uploaders.json&gt; file. Rules in this
file control uploads based on GPG key ID of .changes file
signature and queries on .changes <br>
file fields.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly repo include
-repo=foo-release incoming/</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-accept-unsigned=false <br>
accept unsigned .changes files</p>

<p style="margin-top: 1em">-force-replace=false <br>
when adding package that conflicts with existing package,
remove existing package</p>

<p style="margin-top: 1em">-ignore-signatures=false <br>
disable verification of .changes file signature</p>

<p style="margin-top: 1em">-keyring= <br>
gpg keyring to use when verifying Release file (could be
specified multiple times)</p>

<p style="margin-top: 1em">-no-remove-files=false <br>
don&acirc;t remove files that have been imported
successfully into repository</p>

<p style="margin-top: 1em">-repo={{.Distribution}} <br>
which repo should files go to, defaults to Distribution
field of .changes file</p>

<p style="margin-top: 1em">-uploaders-file= <br>
path to uploaders.json file</p>

<p style="margin-top: 1em">CREATES SNAPSHOT OF MIRROR
(LOCAL REPOSITORY) CONTENTS <br>
aptly snapshot create name from mirror mirror-name | from
repo repo-name | empty</p>

<p style="margin-top: 1em">Command create name from mirror
makes persistent immutable snapshot of remote repository
mirror. Snapshot could be published or further modified
using merge, pull and other aptly <br>
features.</p>

<p style="margin-top: 1em">Command create name from repo
makes persistent immutable snapshot of local repository.
Snapshot could be processed as mirror snapshots, and mixed
with snapshots of remote mir&acirc; <br>
rors.</p>

<p style="margin-top: 1em">Command create name empty
creates empty snapshot that could be used as a basis for
snapshot pull operations, for example. As snapshots are
immutable, creating one empty snapshot <br>
should be enough.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot create
wheezy-main-today from mirror wheezy-main</p>

<p style="margin-top: 1em">LIST SNAPSHOTS <br>
aptly snapshot list</p>

<p style="margin-top: 1em">Command list shows full list of
snapshots created.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot list</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-raw=false <br>
display list in machine-readable format</p>

<p style="margin-top: 1em">-sort=name <br>
display list in &acirc;name&acirc; or creation
&acirc;time&acirc; order</p>

<p style="margin-top: 1em">SHOWS DETAILS ABOUT SNAPSHOT
<br>
aptly snapshot show name</p>

<p style="margin-top: 1em">Command show displays full
information about a snapshot.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot show
wheezy-main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-with-packages=false <br>
show list of packages</p>

<p style="margin-top: 1em">VERIFY DEPENDENCIES IN SNAPSHOT
<br>
aptly snapshot verify name [source ...]</p>

<p style="margin-top: 1em">Verify does dependency
resolution in snapshot name, possibly using additional
snapshots source as dependency sources. All unsatisfied
dependencies are printed.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot verify
wheezy-main wheezy-contrib wheezy-non-free</p>

<p style="margin-top: 1em">PULL PACKAGES FROM ANOTHER
SNAPSHOT <br>
aptly snapshot pull name source destination package-query
...</p>

<p style="margin-top: 1em">Command pull pulls new packages
along with its&acirc; dependencies to snapshot name from
snapshot source. Pull can upgrade package version in name
with versions from source following <br>
dependencies. New snapshot destination is created as a
result of this process. Packages could be specified simply
as &acirc;package-name&acirc; or as package queries.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot pull
wheezy-main wheezy-backports wheezy-new-xorg
xorg-server-server</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-all-matches=false <br>
pull all the packages that satisfy the dependency version
requirements</p>

<p style="margin-top: 1em">-dry-run=false <br>
don&acirc;t create destination snapshot, just show what
would be pulled</p>

<p style="margin-top: 1em">-no-deps=false <br>
don&acirc;t process dependencies, just pull listed
packages</p>

<p style="margin-top: 1em">-no-remove=false <br>
don&acirc;t remove other package versions when pulling
package</p>

<p style="margin-top: 1em">DIFFERENCE BETWEEN TWO SNAPSHOTS
<br>
aptly snapshot diff name-a name-b</p>

<p style="margin-top: 1em">Displays difference in packages
between two snapshots. Snapshot is a list of packages, so
difference between snapshots is a difference between package
lists. Package could be <br>
either completely missing in one snapshot, or package is
present in both snapshots with different versions.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot diff
-only-matching wheezy-main wheezy-backports</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-only-matching=false <br>
display diff only for matching packages (don&acirc;t display
missing packages)</p>

<p style="margin-top: 1em">MERGES SNAPSHOTS <br>
aptly snapshot merge destination source [source...]</p>

<p style="margin-top: 1em">Merge command merges several
source snapshots into one destination snapshot. Merge
happens from left to right. By default, packages with the
same name-architecture pair are <br>
replaced during merge (package from latest snapshot on the
list wins). If run with only one source snapshot, merge
copies source into destination.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot merge
wheezy-w-backports wheezy-main wheezy-backports</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-latest=false <br>
use only the latest version of each package</p>

<p style="margin-top: 1em">-no-remove=false <br>
don&acirc;t remove duplicate arch/name packages</p>

<p style="margin-top: 1em">DELETE SNAPSHOT <br>
aptly snapshot drop name</p>

<p style="margin-top: 1em">Drop removes information about a
snapshot. If snapshot is published, it can&acirc;t be
dropped.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot drop
wheezy-main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-force=false <br>
remove snapshot even if it was used as source for other
snapshots</p>

<p style="margin-top: 1em">RENAMES SNAPSHOT <br>
aptly snapshot rename old-name new-name</p>

<p style="margin-top: 1em">Command changes name of the
snapshot. Snapshot name should be unique.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot rename
wheezy-min wheezy-main</p>

<p style="margin-top: 1em">SEARCH SNAPSHOT FOR PACKAGES
MATCHING QUERY <br>
aptly snapshot search name package-query</p>

<p style="margin-top: 1em">Command search displays list of
packages in snapshot that match package query</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot search
wheezy-main &acirc;$Architecture (i386), Name (%
*-dev)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-format= <br>
custom format for result printing</p>

<p style="margin-top: 1em">-with-deps=false <br>
include dependencies into search results</p>

<p style="margin-top: 1em">FILTER PACKAGES IN SNAPSHOT
PRODUCING ANOTHER SNAPSHOT <br>
aptly snapshot filter source destination package-query
...</p>

<p style="margin-top: 1em">Command filter does filtering in
snapshot source, producing another snapshot destination.
Packages could be specified simply as
&acirc;package-name&acirc; or as package queries.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly snapshot filter
wheezy-main wheezy-required &acirc;Priorioty
(required)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-with-deps=false <br>
include dependent packages as well</p>

<p style="margin-top: 1em">REMOVE PUBLISHED REPOSITORY <br>
aptly publish drop distribution [[endpoint:]prefix]</p>

<p style="margin-top: 1em">Command removes whatever has
been published under specified prefix, publishing endpoint
and distribution name.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly publish drop wheezy</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-force-drop=false <br>
remove published repository even if some files could not be
cleaned up</p>

<p style="margin-top: 1em">LIST OF PUBLISHED REPOSITORIES
<br>
aptly publish list</p>

<p style="margin-top: 1em">Display list of currently
published snapshots.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly publish list</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-raw=false <br>
display list in machine-readable format</p>

<p style="margin-top: 1em">PUBLISH LOCAL REPOSITORY <br>
aptly publish repo name [[endpoint:]prefix]</p>

<p style="margin-top: 1em">Command publishes current state
of local repository ready to be consumed by apt tools.
Published repostiories appear under rootDir/public
directory. Valid GPG key is required for <br>
publishing.</p>

<p style="margin-top: 1em">Multiple component repository
could be published by specifying several components split by
commas via -component flag and multiple local repositories
as the arguments:</p>

<p style="margin-top: 1em">aptly publish repo
-component=main,contrib repo-main repo-contrib</p>

<p style="margin-top: 1em">It is not recommended to publish
local repositories directly unless the repository is for
testing purposes and changes happen frequently. For
production usage please take snap&acirc; <br>
shot of repository and publish it using publish snapshot
command.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly publish repo testing</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-batch=false <br>
run GPG with detached tty</p>

<p style="margin-top: 1em">-component= <br>
component name to publish (for multi-component publishing,
separate components with commas)</p>

<p style="margin-top: 1em">-distribution= <br>
distribution name to publish</p>

<p style="margin-top: 1em">-force-overwrite=false <br>
overwrite files in package pool in case of mismatch</p>

<p style="margin-top: 1em">-gpg-key= <br>
GPG key ID to use when signing the release</p>

<p style="margin-top: 1em">-keyring= <br>
GPG keyring to use (instead of default)</p>

<p style="margin-top: 1em">-label= <br>
label to publish</p>

<p style="margin-top: 1em">-origin= <br>
origin name to publish</p>

<p style="margin-top: 1em">-passphrase= <br>
GPG passhprase for the key (warning: could be insecure)</p>

<p style="margin-top: 1em">-passphrase-file= <br>
GPG passhprase-file for the key (warning: could be
insecure)</p>

<p style="margin-top: 1em">-secret-keyring= <br>
GPG secret keyring to use (instead of default)</p>

<p style="margin-top: 1em">-skip-contents=false <br>
don&acirc;t generate Contents indexes</p>

<p style="margin-top: 1em">-skip-signing=false <br>
don&acirc;t sign Release files with GPG</p>

<p style="margin-top: 1em">PUBLISH SNAPSHOT <br>
aptly publish snapshot name [[endpoint:]prefix]</p>

<p style="margin-top: 1em">Command publishes snapshot as
Debian repository ready to be consumed by apt tools.
Published repostiories appear under rootDir/public
directory. Valid GPG key is required for <br>
publishing.</p>

<p style="margin-top: 1em">Multiple component repository
could be published by specifying several components split by
commas via -component flag and multiple snapshots as the
arguments:</p>

<p style="margin-top: 1em">aptly publish snapshot
-component=main,contrib snap-main snap-contrib</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly publish snapshot
wheezy-main</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-batch=false <br>
run GPG with detached tty</p>

<p style="margin-top: 1em">-component= <br>
component name to publish (for multi-component publishing,
separate components with commas)</p>

<p style="margin-top: 1em">-distribution= <br>
distribution name to publish</p>

<p style="margin-top: 1em">-force-overwrite=false <br>
overwrite files in package pool in case of mismatch</p>

<p style="margin-top: 1em">-gpg-key= <br>
GPG key ID to use when signing the release</p>

<p style="margin-top: 1em">-keyring= <br>
GPG keyring to use (instead of default)</p>

<p style="margin-top: 1em">-label= <br>
label to publish</p>

<p style="margin-top: 1em">-origin= <br>
origin name to publish</p>

<p style="margin-top: 1em">-passphrase= <br>
GPG passhprase for the key (warning: could be insecure)</p>

<p style="margin-top: 1em">-passphrase-file= <br>
GPG passhprase-file for the key (warning: could be
insecure)</p>

<p style="margin-top: 1em">-secret-keyring= <br>
GPG secret keyring to use (instead of default)</p>

<p style="margin-top: 1em">-skip-contents=false <br>
don&acirc;t generate Contents indexes</p>

<p style="margin-top: 1em">-skip-signing=false <br>
don&acirc;t sign Release files with GPG</p>

<p style="margin-top: 1em">UPDATE PUBLISHED REPOSITORY BY
SWITCHING TO NEW SNAPSHOT <br>
aptly publish switch distribution [[endpoint:]prefix]
new-snapshot</p>

<p style="margin-top: 1em">Command switches in-place
published snapshots with new snapshot contents. All
publishing parameters are preserved (architecture list,
distribution, component).</p>

<p style="margin-top: 1em">For multiple component
repositories, flag -component should be given with list of
components to update. Corresponding snapshots should be
given in the same order, e.g.:</p>

<p style="margin-top: 1em">aptly publish switch
-component=main,contrib wheezy wh-main wh-contrib</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly publish switch wheezy
ppa wheezy-7.5</p>

<p style="margin-top: 1em">This command would switch
published repository (with one component) named ppa/wheezy
(prefix ppa, dsitribution wheezy to new snapshot
wheezy-7.5).</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-batch=false <br>
run GPG with detached tty</p>

<p style="margin-top: 1em">-component= <br>
component names to update (for multi-component publishing,
separate components with commas)</p>

<p style="margin-top: 1em">-force-overwrite=false <br>
overwrite files in package pool in case of mismatch</p>

<p style="margin-top: 1em">-gpg-key= <br>
GPG key ID to use when signing the release</p>

<p style="margin-top: 1em">-keyring= <br>
GPG keyring to use (instead of default)</p>

<p style="margin-top: 1em">-passphrase= <br>
GPG passhprase for the key (warning: could be insecure)</p>

<p style="margin-top: 1em">-passphrase-file= <br>
GPG passhprase-file for the key (warning: could be
insecure)</p>

<p style="margin-top: 1em">-secret-keyring= <br>
GPG secret keyring to use (instead of default)</p>

<p style="margin-top: 1em">-skip-contents=false <br>
don&acirc;t generate Contents indexes</p>

<p style="margin-top: 1em">-skip-signing=false <br>
don&acirc;t sign Release files with GPG</p>

<p style="margin-top: 1em">UPDATE PUBLISHED LOCAL
REPOSITORY <br>
aptly publish update distribution [[endpoint:]prefix]</p>

<p style="margin-top: 1em">Command re-publishes (updates)
published local repository. distribution and prefix should
be occupied with local repository published using command
aptly publish repo. Update <br>
happens in-place with minimum possible downtime for
published repository.</p>

<p style="margin-top: 1em">For multiple component published
repositories, all local repositories are updated.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly publish update wheezy
ppa</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-batch=false <br>
run GPG with detached tty</p>

<p style="margin-top: 1em">-force-overwrite=false <br>
overwrite files in package pool in case of mismatch</p>

<p style="margin-top: 1em">-gpg-key= <br>
GPG key ID to use when signing the release</p>

<p style="margin-top: 1em">-keyring= <br>
GPG keyring to use (instead of default)</p>

<p style="margin-top: 1em">-passphrase= <br>
GPG passhprase for the key (warning: could be insecure)</p>

<p style="margin-top: 1em">-passphrase-file= <br>
GPG passhprase-file for the key (warning: could be
insecure)</p>

<p style="margin-top: 1em">-secret-keyring= <br>
GPG secret keyring to use (instead of default)</p>

<p style="margin-top: 1em">-skip-contents=false <br>
don&acirc;t generate Contents indexes</p>

<p style="margin-top: 1em">-skip-signing=false <br>
don&acirc;t sign Release files with GPG</p>

<p style="margin-top: 1em">SEARCH FOR PACKAGES MATCHING
QUERY <br>
aptly package search package-query</p>

<p style="margin-top: 1em">Command search displays list of
packages in whole DB that match package query</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly package search
&acirc;$Architecture (i386), Name (% *-dev)&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-format= <br>
custom format for result printing</p>

<p style="margin-top: 1em">SHOW DETAILS ABOUT PACKAGES
MATCHING QUERY <br>
aptly package show package-query</p>

<p style="margin-top: 1em">Command shows displays detailed
meta-information about packages matching query. Information
from Debian control file is displayed. Optionally
information about package files and <br>
inclusion into mirrors/snapshots/local repos is shown.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly package show
nginx-light_1.2.1-2.2+wheezy2_i386&acirc;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-with-files=false <br>
display information about files from package pool</p>

<p style="margin-top: 1em">-with-references=false <br>
display information about mirrors, snapshots and local repos
referencing this package</p>

<p style="margin-top: 1em">CLEANUP DB AND PACKAGE POOL <br>
aptly db cleanup</p>

<p style="margin-top: 1em">Database cleanup removes
information about unreferenced packages and removes files in
the package pool that aren&acirc;t used by packages
anymore</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly db cleanup</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-dry-run=false <br>
don&acirc;t delete anything</p>

<p style="margin-top: 1em">-verbose=false <br>
be verbose when loading objects/removing them</p>

<p style="margin-top: 1em">RECOVER DB AFTER CRASH <br>
aptly db recover</p>

<p style="margin-top: 1em">Database recover does its&acirc;
best to recover the database after a crash. It is
recommended to backup the DB before running recover.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly db recover</p>

<p style="margin-top: 1em">HTTP SERVE PUBLISHED
REPOSITORIES <br>
aptly serve</p>

<p style="margin-top: 1em">Command serve starts embedded
HTTP server (not suitable for real production usage) to
serve contents of public/ subdirectory of aptly&acirc;s root
that contains published repositories.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly serve -listen=:8080</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-listen=:8080 <br>
host:port for HTTP listening</p>

<p style="margin-top: 1em">START API HTTP SERVICE <br>
aptly api serve</p>

<p style="margin-top: 1em">Stat HTTP server with aptly REST
API.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly api serve
-listen=:8080</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-listen=:8080 <br>
host:port for HTTP listening</p>

<p style="margin-top: 1em">-no-lock=false <br>
don&acirc;t lock the database</p>

<p style="margin-top: 1em">RENDER GRAPH OF RELATIONSHIPS
<br>
aptly graph</p>

<p style="margin-top: 1em">Command graph displays
relationship between mirrors, local repositories, snapshots
and published repositories using graphviz package to render
graph as an image.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly graph</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-format=png <br>
render graph to specified format (png, svg, pdf, etc.)</p>

<p style="margin-top: 1em">-output= <br>
specify output filename, default is to open result in
viewer</p>

<p style="margin-top: 1em">SHOW CURRENT APTLY&acirc;S
CONFIG <br>
aptly config show</p>

<p style="margin-top: 1em">Command show displays the
current aptly configuration.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly config show</p>

<p style="margin-top: 1em">RUN APTLY TASKS <br>
aptly task run -filename=filename | command1, command2,
...</p>

<p style="margin-top: 1em">Command helps organise multiple
aptly commands in one single aptly task, running as single
thread.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly task run <br>
&gt; repo create local <br>
&gt; repo add local pkg1 <br>
&gt; publish repo local <br>
&gt; serve <br>
&gt;</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-filename= <br>
specifies the filename that contains the commands to run</p>

<p style="margin-top: 1em">SHOW CURRENT APTLY&acirc;S
CONFIG <br>
aptly config show</p>

<p style="margin-top: 1em">Command show displays the
current aptly configuration.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ aptly config show</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
If environment variable HTTP_PROXY is set aptly would use
its value to proxy all HTTP requests.</p>

<p style="margin-top: 1em">RETURN VALUES <br>
aptly exists with:</p>

<p style="margin-top: 1em">0 success</p>

<p style="margin-top: 1em">1 general failure</p>

<p style="margin-top: 1em">2 command parse failure</p>

<p style="margin-top: 1em">AUTHORS <br>
List of contributors, in chronological order:</p>

<p style="margin-top: 1em">&acirc; Andrey Smirnov
(https://github.com/smira)</p>

<p style="margin-top: 1em">&acirc; Sebastien Binet
(https://github.com/sbinet)</p>

<p style="margin-top: 1em">&acirc; Ryan Uber
(https://github.com/ryanuber)</p>

<p style="margin-top: 1em">&acirc; Simon Aquino
(https://github.com/queeno)</p>

<p style="margin-top: 1em">&acirc; Vincent Batoufflet
(https://github.com/vbatoufflet)</p>

<p style="margin-top: 1em">&acirc; Ivan Kurnosov
(https://github.com/zerkms)</p>

<p style="margin-top: 1em">&acirc; Dmitrii Kashin
(https://github.com/freehck)</p>

<p style="margin-top: 1em">&acirc; Chris Read
(https://github.com/cread)</p>

<p style="margin-top: 1em">&acirc; Rohan Garg
(https://github.com/shadeslayer)</p>

<p style="margin-top: 1em">&acirc; Russ Allbery
(https://github.com/rra)</p>

<p style="margin-top: 1em">&acirc; Sylvain Baubeau
(https://github.com/lebauce)</p>

<p style="margin-top: 1em">&acirc; Andrea Bernardo Ciddio
(https://github.com/bcandrea)</p>

<p style="margin-top: 1em">&acirc; Michael Koval
(https://github.com/mkoval)</p>

<p style="margin-top: 1em">&acirc; Alexander Guy
(https://github.com/alexanderguy)</p>

<p style="margin-top: 1em">&acirc; Sebastien Badia
(https://github.com/sbadia)</p>

<p style="margin-top: 1em">&acirc; Szymon Sobik
(https://github.com/sobczyk)</p>

<p style="margin-top: 1em">&acirc; Paul Krohn
(https://github.com/paul-krohn)</p>

<p style="margin-top: 1em">&acirc; Vincent Bernat
(https://github.com/vincentbernat)</p>

<p style="margin-top: 1em">&acirc; x539
(https://github.com/x539)</p>

<p style="margin-top: 1em">&acirc; Phil Frost
(https://github.com/bitglue)</p>

<p style="margin-top: 1em">March 2016 APTLY(1)</p>
<hr>
</body>
</html>
