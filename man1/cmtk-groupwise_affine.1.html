<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>groupwise_affine(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">groupwise_affine(1)</td>
    <td class="head-vol">The Computational Morphometry Toolkit</td>
    <td class="head-rtitle">groupwise_affine(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
groupwise_affine - Affine population registration
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
groupwise_affine [options] image0 [image1 ...]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This tool registers a population of input images simultaneously, without a
  template, using either the 'congealing' algorithm or a groupwise similarity
  measure based on a continuous approximation of mutual information ('RMI').
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="Global_Toolkit_Options_(these_are_shared_by_all_CMTK_tools)"><a class="selflink" href="#Global_Toolkit_Options_(these_are_shared_by_all_CMTK_tools)">Global
  Toolkit Options (these are shared by all CMTK tools)</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Write list of basic command line options to standard
      output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-all</b></dt>
  <dd class="It-tag">Write complete list of basic and advanced command line
      options to standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wiki</b></dt>
  <dd class="It-tag">Write list of command line options to standard output in
      MediaWiki markup.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--man</b></dt>
  <dd class="It-tag">Write man page source in 'nroff' markup to standard
    output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Write toolkit version to standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--echo</b></dt>
  <dd class="It-tag">Write the current command line to standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose-level</b> <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Set verbosity level.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b>, <b>-v</b></dt>
  <dd class="It-tag">Increment verbosity level by 1 (deprecated; supported for
      backward compatibility).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--threads</b> <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Set maximum number of parallel threads (for POSIX threads
      and OpenMP).</dd>
</dl>
<h2 class="Ss" title="Ss" id="Registration_Metric_Options"><a class="selflink" href="#Registration_Metric_Options">Registration
  Metric Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rmi</b></dt>
  <dd class="It-tag">Use the RMI (a.k.a. regional mutual information) metric to
      drive the registration).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--congeal</b></dt>
  <dd class="It-tag">Use the congealing algorithm using pixelwise stack
      entropies to drive the registration. <b>[This is the default]</b></dd>
</dl>
<h2 class="Ss" title="Ss" id="Template_Image_Options"><a class="selflink" href="#Template_Image_Options">Template
  Image Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--template</b> <i>&lt;string&gt;</i>, <b>-t</b>
    <i>&lt;string&gt;</i></dt>
  <dd class="It-tag">Input filename for pre-defined template image. <b>[Default:
      NONE]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--template-with-data</b> <i>&lt;string&gt;</i>,
    <b>-T</b> <i>&lt;string&gt;</i></dt>
  <dd class="It-tag">Use user-supplied template images's pixel data in
      registration <b>[Default: disabled]</b></dd>
</dl>
<h2 class="Ss" title="Ss" id="Output_Options"><a class="selflink" href="#Output_Options">Output
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output-root</b> <i>&lt;string&gt;</i>, <b>-O</b>
    <i>&lt;string&gt;</i></dt>
  <dd class="It-tag">Root directory for all output files. <b>[Default:
    NONE]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output</b> <i>&lt;string&gt;</i>, <b>-o</b>
    <i>&lt;string&gt;</i></dt>
  <dd class="It-tag">Output filename for groupwise registration archive.
      <b>[Default: groupwise.xforms ]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output-average</b> <i>&lt;string&gt;</i></dt>
  <dd class="It-tag">Output filename for registered average image. <b>[Default:
      average.nii ]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--average-linear</b></dt>
  <dd class="It-tag">Use linear interpolation for average image <b>[This is the
      default]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--average-cubic</b></dt>
  <dd class="It-tag">Use cubic interpolation for average image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-output-average</b></dt>
  <dd class="It-tag">Do not write average image.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Multiresolution_Parameters"><a class="selflink" href="#Multiresolution_Parameters">Multiresolution
  Parameters</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--downsample-from</b> <i>&lt;integer&gt;</i>, <b>-d</b>
    <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Initial downsampling factor <b>[Default: 4]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--downsample-to</b> <i>&lt;integer&gt;</i>, <b>-D</b>
    <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Final downsampling factor. <b>[Default: 1]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sampling-density</b> <i>&lt;float&gt;</i>, <b>-s</b>
    <i>&lt;float&gt;</i></dt>
  <dd class="It-tag">Probabilistic sampling density. Legal values between 0 and
      1. <b>[Default: disabled]</b></dd>
</dl>
<h2 class="Ss" title="Ss" id="Image_Options_and_Operations"><a class="selflink" href="#Image_Options_and_Operations">Image
  Options and Operations</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-background</b> <i>&lt;integer&gt;</i>, <b>-B</b>
    <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Force background pixels (outside FOV) to given (bin) value.
      <b>[Default: disabled]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--histogram-bins</b> <i>&lt;integer&gt;</i>, <b>-H</b>
    <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Manually set number of histogram bins for entropy
      evaluation <b>[Default: disabled]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--crop-histograms</b></dt>
  <dd class="It-tag">Crop image histograms to make better use of histogram
    bins.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--smooth</b> <i>&lt;double&gt;</i></dt>
  <dd class="It-tag">Sigma of Gaussian smoothing kernel in multiples of template
      image pixel size. <b>[Default: disabled]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--match-histograms</b></dt>
  <dd class="It-tag">Match all image histograms to template data (or first
      image, if no template image is given)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--free-and-reread</b></dt>
  <dd class="It-tag">Free memory allocated for original image whenever these are
      not needed and re-read image files as needed. This can be useful when
      running on a machine with limited memory resources.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Transformation_Parameters"><a class="selflink" href="#Transformation_Parameters">Transformation
  Parameters</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dofs</b>
    <i>&lt;integer&gt;[,&lt;integer&gt;,...]</i></dt>
  <dd class="It-tag">Add DOFs to list [default: one pass, 6 DOF]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--zero-sum</b>, <b>-z</b></dt>
  <dd class="It-tag">Enforce zero-sum computation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--normal-group-first-n</b> <i>&lt;integer&gt;</i>,
    <b>-N</b> <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">First N images are from the normal group and should be
      registered unbiased. <b>[Default: 0]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--zero-sum-first-n</b> <i>&lt;integer&gt;</i>, <b>-Z</b>
    <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Enforce zero-sum computation for first N images.
      <b>[Default: disabled]</b></dd>
</dl>
<h2 class="Ss" title="Ss" id="Transformation_Initialization"><a class="selflink" href="#Transformation_Initialization">Transformation
  Initialization</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--align-bounding-boxes</b></dt>
  <dd class="It-tag">Initially align centers of bounding boxes of all images by
      translations <b>[This is the default]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--align-centers-of-mass</b></dt>
  <dd class="It-tag">Initially align centers of mass by translations</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--init-scales</b></dt>
  <dd class="It-tag">Initialize scale factors using first-order moments</dd>
</dl>
<h2 class="Ss" title="Ss" id="Optimization_Parameters"><a class="selflink" href="#Optimization_Parameters">Optimization
  Parameters</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exploration</b> <i>&lt;double&gt;</i>, <b>-e</b>
    <i>&lt;double&gt;</i></dt>
  <dd class="It-tag">Exploration of optimization in pixels <b>[Default:
      0.25]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--accuracy</b> <i>&lt;double&gt;</i>, <b>-a</b>
    <i>&lt;double&gt;</i></dt>
  <dd class="It-tag">Accuracy of optimization in pixels <b>[Default:
    0.01]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--repeat-level</b> <i>&lt;integer&gt;</i>, <b>-r</b>
    <i>&lt;integer&gt;</i></dt>
  <dd class="It-tag">Number of repetitions per optimization level <b>[Default:
      5]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--step-factor</b> <i>&lt;double&gt;</i>, <b>-S</b>
    <i>&lt;double&gt;</i></dt>
  <dd class="It-tag">Step factor for successive optimization passes <b>[Default:
      0.5]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delta-f-threshold</b> <i>&lt;double&gt;</i></dt>
  <dd class="It-tag">Optional threshold to terminate optimization (level) if
      relative change of target function drops below this value. <b>[Default:
      0]</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-optimization</b></dt>
  <dd class="It-tag">Disable optimization and output initial configuration.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Torsten Rohlfing, with contributions from Michael P. Hasak, Greg Jefferis,
  Calvin R. Maurer, Daniel B. Russakoff, and Yaroslav Halchenko
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
http://www.fsf.org/licensing/licenses/gpl.html
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report bugs at http://nitrc.org/projects/cmtk/
<h1 class="Sh" title="Sh" id="ACKNOWLEDGMENTS"><a class="selflink" href="#ACKNOWLEDGMENTS">ACKNOWLEDGMENTS</a></h1>
CMTK is developed with support from the NIAAA under Grant AA021697, National
  Consortium on Alcohol and Neurodevelopment in Adolescence (N-CANDA): Data
  Integration Component. From April 2009 through September 2011, CMTK
  development and maintenance was supported by the NIBIB under Grant
  EB008381.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Jan 13 2017</td>
    <td class="foot-os">CMTK 3.3.1</td>
  </tr>
</table>
</body>
</html>
