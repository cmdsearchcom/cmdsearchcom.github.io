<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DH_MAKESHLIBS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DH_MAKESHLIBS(1)</td>
    <td class="head-vol">Debhelper</td>
    <td class="head-rtitle">DH_MAKESHLIBS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dh_makeshlibs - automatically create shlibs file and call dpkg-gensymbols
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dh_makeshlibs</b> [<i>debhelper&#x00A0;options</i>] [<b>-m</b><i>major</i>]
  [<b>-V</b><i>[dependencies]</i>] [<b>-n</b>] [<b>-X</b><i>item</i>]
  [<b>--</b>&#x00A0; <i>params</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dh_makeshlibs</b> is a debhelper program that automatically scans for shared
  libraries, and generates a shlibs file for the libraries it finds.
<div class="Pp"></div>
It will also ensure that ldconfig is invoked during install and removal when it
  finds shared libraries. Since debhelper 9.20151004, this is done via a dpkg
  trigger. In older versions of debhelper, <b>dh_makeshlibs</b> would generate a
  maintainer script for this purpose.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">debian/<i>package</i>.shlibs</dt>
  <dd class="It-tag">Installs this file, if present, into the package as
      DEBIAN/shlibs. If omitted, debhelper will generate a shlibs file
      automatically if it detects any libraries.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note in compat levels 9 and earlier, this file was installed by
      <i>dh_installdeb</i>(1) rather than <b>dh_makeshlibs</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">debian/<i>package</i>.symbols</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">debian/<i>package</i>.symbols.<i>arch</i></dt>
  <dd class="It-tag">These symbols files, if present, are passed to
      <i>dpkg-gensymbols</i>(1) to be processed and installed. Use the
      <i>arch</i> specific names if you need to provide different symbols files
      for different architectures.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b><i>major</i>, <b>--major=</b><i>major</i></dt>
  <dd class="It-tag">Instead of trying to guess the major number of the library
      with objdump, use the major number specified after the -m parameter. This
      is much less useful than it used to be, back in the bad old days when this
      program looked at library filenames rather than using objdump.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>-V</b><i>dependencies</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version-info</b>,
    <b>--version-info=</b><i>dependencies</i></dt>
  <dd class="It-tag">By default, the shlibs file generated by this program does
      not make packages depend on any particular version of the package
      containing the shared library. It may be necessary for you to add some
      version dependency information to the shlibs file. If <b>-V</b> is
      specified with no dependency information, the current upstream version of
      the package is plugged into a dependency that looks like &quot;
      <i>packagename</i> <b>(&gt;</b>= <i>packageversion</i><b>)</b>&quot;. Note
      that in debhelper compatibility levels before v4, the Debian part of the
      package version number is also included. If <b>-V</b> is specified with
      parameters, the parameters can be used to specify the exact dependency
      information needed (be sure to include the package name).
    <div style="height: 1.00em;">&#x00A0;</div>
    Beware of using <b>-V</b> without any parameters; this is a conservative
      setting that always ensures that other packages' shared library
      dependencies are at least as tight as they need to be (unless your library
      is prone to changing ABI without updating the upstream version number), so
      that if the maintainer screws up then they won't break. The flip side is
      that packages might end up with dependencies that are too tight and so
      find it harder to be upgraded.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--no-scripts</b></dt>
  <dd class="It-tag">Do not add the &quot;ldconfig&quot; trigger even if it
      seems like the package might need it. The option is called
      <b>--no-scripts</b> for historical reasons as <b>dh_makeshlibs</b> would
      previously generate maintainer scripts that called <b>ldconfig</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b><i>item</i>, <b>--exclude=</b><i>item</i></dt>
  <dd class="It-tag">Exclude files that contain <i>item</i> anywhere in their
      filename or directory from being treated as shared libraries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--add-udeb=</b><i>udeb</i></dt>
  <dd class="It-tag">Create an additional line for udebs in the shlibs file and
      use <i>udeb</i> as the package name for udebs to depend on instead of the
      regular library package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--</b> <i>params</i></dt>
  <dd class="It-tag">Pass <i>params</i> to <i>dpkg-gensymbols</i>(1).</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dh_makeshlibs</b></dt>
  <dd class="It-tag">Assuming this is a package named <i>libfoobar1</i>,
      generates a shlibs file that looks something like:
    <br/>
     libfoobar 1 libfoobar1</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dh_makeshlibs -V</b></dt>
  <dd class="It-tag">Assuming the current version of the package is 1.1-3,
      generates a shlibs file that looks something like:
    <br/>
     libfoobar 1 libfoobar1 (&gt;= 1.1)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dh_makeshlibs -V 'libfoobar1 (&gt;= 1.0)'</b></dt>
  <dd class="It-tag">Generates a shlibs file that looks something like:
    <br/>
     libfoobar 1 libfoobar1 (&gt;= 1.0)</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>debhelper</i>(7)
<div class="Pp"></div>
This program is a part of debhelper.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Joey Hess &lt;joeyh@debian.org&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-10-17</td>
    <td class="foot-os">10.2.2ubuntu1</td>
  </tr>
</table>
</body>
</html>
