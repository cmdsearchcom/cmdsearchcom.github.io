<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pki-ca-profile(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pki-ca-profile(1)</td>
    <td class="head-vol">PKI CA Profile Management Commands</td>
    <td class="head-rtitle">pki-ca-profile(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pki-profile - Command-Line Interface for managing Certificate System CA
  profiles.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>pki</b> [CLI options] <b>ca-profile</b>
<b>pki</b> [CLI options] <b>ca-profile-find</b> [command options]
<b>pki</b> [CLI options] <b>ca-profile-show &lt;profile ID&gt;</b> [command options]
<b>pki</b> [CLI options] <b>ca-profile-add &lt;input file path&gt;</b> [command options]
<b>pki</b> [CLI options] <b>ca-profile-mod &lt;input file path&gt;</b> [command options]
<b>pki</b> [CLI options] <b>ca-profile-del &lt;profile ID&gt;</b> [command options]
<b>pki</b> [CLI options] <b>ca-profile-enable &lt;profile ID&gt;</b> [command options]
<b>pki</b> [CLI options] <b>ca-profile-disable &lt;profile ID&gt;</b> [command options]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>pki ca-profile</b> commands provide command-line interfaces to manage
  profiles on the CA.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-find</b> [command options]
<div style="margin-left: 4.00ex;">This command is to list the profiles.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-show &lt;profile ID&gt;</b> [command
  options]
<div style="margin-left: 4.00ex;">This command is to view the details of a
  profile.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-add &lt;input file path&gt;</b> [command
  options]
<div style="margin-left: 4.00ex;">This command is to create a new profile.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-mod &lt;input file path&gt;</b> [command
  options]
<div style="margin-left: 4.00ex;">This command is to modify an existing
  profile.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-del &lt;profile ID&gt;</b> [command
  options]
<div style="margin-left: 4.00ex;">This command is to delete a profile.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-enable &lt;profile ID&gt;</b> [command
  options]
<div style="margin-left: 4.00ex;">This command is to enable a profile.</div>
<div class="Pp"></div>
<b>pki</b> [CLI options] <b>ca-profile-disable &lt;profile ID&gt;</b> [command
  options]
<div style="margin-left: 4.00ex;">This command is to disable a profile.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The CLI options are described in <b>pki</b>(1).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPERATIONS"><a class="selflink" href="#OPERATIONS">OPERATIONS</a></h1>
To view available profile commands, type <b>pki ca-profile</b>. To view each
  command's usage, type <b> pki ca-profile-&lt;command&gt; --help</b>.
<div style="height: 1.00em;">&#x00A0;</div>
All the ca-profile commands require CA agent authentication.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Viewing_the_profiles"><a class="selflink" href="#Viewing_the_profiles">Viewing
  the profiles</a></h2>
<b>pki &lt;CA agent authentication&gt; ca-profile-find</b>
<div style="height: 1.00em;">&#x00A0;</div>
The results can be paged using the <b>--start</b> and <b>--size</b> options
  described in <b>pki</b>(1).
<div style="height: 1.00em;">&#x00A0;</div>
To view the contents of a profile:
<div style="height: 1.00em;">&#x00A0;</div>
A set of profile inputs, profile outputs, authenticators, policies and
  constraints are defined in a profile. These contents can be viewed using the
  following command:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;CA agent authentication&gt; ca-profile-show &lt;profile ID&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
To store the output of the above operation, the output option must be specified.
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;CA agent authentication&gt; ca-profile-show &lt;profile ID&gt;
  --output &lt;file path&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
This output file can be used for modifying the profile. It can be used as a
  template for certificate enrollment as well but, a more suitable template can
  be fetched using the <b>pki cert-request-profile-show</b> command. The <b>pki
  cert-request-profile-show</b> command does not require an agent/administrator
  level authentication and contains only the profile inputs section (which is
  required for certificate enrollment).
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Add/Modify/Delete_a_profile"><a class="selflink" href="#Add/Modify/Delete_a_profile">Add/Modify/Delete
  a profile</a></h2>
<b>pki &lt;CA admin authentication&gt; ca-profile-add &lt;input file
  path&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
The contents of the input file must be in an XML format returned by the
  ca-profile-show command. This data will be marshaled by the CLI client to
  create a new profile in the CA. The profile must be disabled before it is
  modified. It must be enabled after modification to be used for certificate
  enrollment.
<div style="height: 1.00em;">&#x00A0;</div>
To modify an existing profile:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;CA admin authentication&gt; ca-profile-mod &lt;input file
  path&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
The profile data can be retrieved using the ca-profile-show command and after
  editing the file, it can be provided to the profile-mod command to modify an
  existing profile.
<div style="height: 1.00em;">&#x00A0;</div>
To delete a profile in the CA:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;CA admin authentication&gt; ca-profile-del &lt;profile ID&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Enabling/Disabling_a_profile_in_the_CA"><a class="selflink" href="#Enabling/Disabling_a_profile_in_the_CA">Enabling/Disabling
  a profile in the CA</a></h2>
To enable a profile in the CA:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;CA agent authenticaton&gt; ca-profile-enable &lt;profile ID&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
A profile must be enabled before it can be used.
<div style="height: 1.00em;">&#x00A0;</div>
To disable a profile in the CA:
<div style="height: 1.00em;">&#x00A0;</div>
<b>pki &lt;CA agent authentication&gt; ca-profile-disable &lt;profile ID&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
A profile must be disabled before it can be modified.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Note:</b> Modifying or deleting a profile requires user(s) that have two
  roles (admin and agent). The same user may be in both roles. An agent is
  needed to first disable the profile. Once the profile is disabled, it can be
  modified/deleted by an admin user. Then, an agent is needed to enable the
  profile for use by the CA.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Abhishek Koneru &lt;akoneru@redhat.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2014 Red Hat, Inc. This is licensed under the GNU General Public
  License, version 2 (GPLv2). A copy of this license is available at
  http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pki(1)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">September 30, 2014</td>
    <td class="foot-os">version 10.2</td>
  </tr>
</table>
</body>
</html>
