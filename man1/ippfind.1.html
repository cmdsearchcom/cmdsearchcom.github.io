<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ippfind(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ippfind(1)</td>
    <td class="head-vol">Apple Inc.</td>
    <td class="head-rtitle">ippfind(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ippfind - find internet printing protocol printers
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ippfind</b> [ <i>options</i> ]
  <i>regtype</i>[<b>,</b><i>subtype</i>][<b>.</b> <i>domain</i><b>.</b>] ... [
  <i>expression</i>
<br/>
 ... ]
<div>&#x00A0;</div>
<b>ippfind</b> [ <i>options</i> ]
  <i>name</i>[<b>.</b><i>regtype</i>[<b>.</b><i>domain</i> <b>.</b>]] ... [
  <i>expression</i>
<br/>
 ... ]
<div>&#x00A0;</div>
<b>ippfind</b> <b>--help</b>
<div>&#x00A0;</div>
<b>ippfind</b> <b>--version</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>ippfind</b> finds services registered with a DNS server or available through
  local devices. Its primary purpose is to find IPP printers and show their
  URIs, show their current status, or run commands.
<h2 class="Ss" title="Ss" id="REGISTRATION_TYPES"><a class="selflink" href="#REGISTRATION_TYPES">REGISTRATION
  TYPES</a></h2>
<b>ippfind</b> supports the following registration types:
<dl class="Bl-tag">
  <dt class="It-tag">_http._tcp</dt>
  <dd class="It-tag">HyperText Transport Protocol (HTTP, RFC 2616)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">_https._tcp</dt>
  <dd class="It-tag">Secure HyperText Transport Protocol (HTTPS, RFC 2818)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">_ipp._tcp</dt>
  <dd class="It-tag">Internet Printing Protocol (IPP, RFC 2911)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">_ipps._tcp</dt>
  <dd class="It-tag">Secure Internet Printing Protocol (IPPS, draft)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">_printer._tcp</dt>
  <dd class="It-tag">Line Printer Daemon (LPD, RFC 1179)</dd>
</dl>
<h2 class="Ss" title="Ss" id="EXPRESSIONS"><a class="selflink" href="#EXPRESSIONS">EXPRESSIONS</a></h2>
<b>ippfind</b> supports expressions much like the <b>find</b>(1) utility.
  However, unlike <b>find</b>(1), <b>ippfind</b> uses POSIX regular expressions
  instead of shell filename matching patterns. If <i>--exec</i>, <i>-l</i>,
  <i>--ls</i>, <i>-p</i>, <i>--print</i>, <i>--print-name</i>, <i>-q</i>,
  <i>--quiet</i>, <i>-s</i>, or <i>-x</i> is not specified, <b>ippfind</b> adds
  <i>--print</i> to print the service URI of anything it finds. The following
  expressions are supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d </b><i>regex</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--domain </b><i>regex</i></dt>
  <dd class="It-tag">True if the domain matches the given regular
    expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--false</b></dt>
  <dd class="It-tag">Always false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h </b><i>regex</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host </b><i>regex</i></dt>
  <dd class="It-tag">True is the hostname matches the given regular
    expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ls</b></dt>
  <dd class="It-tag">Lists attributes returned by Get-Printer-Attributes for IPP
      printers and traditional <i>find</i> &quot;-ls&quot; output for HTTP URLs.
      The result is true if the URI is accessible, false otherwise.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--local</b></dt>
  <dd class="It-tag">True if the service is local to this computer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n </b><i>regex</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--name </b><i>regex</i></dt>
  <dd class="It-tag">True if the service instance name matches the given regular
      expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--path </b><i>regex</i></dt>
  <dd class="It-tag">True if the URI resource path matches the given regular
      expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P </b><i>number</i>[<b>-</b><i>number</i>]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--port </b><i>number</i>[<b>-</b><i>number</i>]</dt>
  <dd class="It-tag">True if the port matches the given number or range.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print</b></dt>
  <dd class="It-tag">Prints the URI if the result of previous expressions is
      true. The result is always true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">Quiet mode - just returns the exit codes below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--remote</b></dt>
  <dd class="It-tag">True if the service is not local to this computer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-name</b></dt>
  <dd class="It-tag">Prints the service instance name if the result of previous
      expressions is true. The result is always true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--true</b></dt>
  <dd class="It-tag">Always true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t </b><i>key</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--txt </b><i>key</i></dt>
  <dd class="It-tag">True if the TXT record contains the named key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--txt-</b><i>key regex</i></dt>
  <dd class="It-tag">True if the TXT record contains the named key and matches
      the given regular expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u </b><i>regex</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--uri </b><i>regex</i></dt>
  <dd class="It-tag">True if the URI matches the given regular expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x </b><i>utility </i>[ <i>argument </i>... ]
    <b>;</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exec </b><i>utility </i>[ <i>argument </i>... ]
    <b>;</b></dt>
  <dd class="It-tag">Executes the specified program if the current result is
      true. &quot;{foo}&quot; arguments are replaced with the corresponding
      value - see SUBSTITUTIONS below.</dd>
</dl>
<div class="Pp"></div>
Expressions may also contain modifiers:
<dl class="Bl-tag">
  <dt class="It-tag"><b>( </b><i>expression </i><b>)</b></dt>
  <dd class="It-tag">Group the result of expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>! </b><i>expression</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--not </b><i>expression</i></dt>
  <dd class="It-tag">Unary NOT of the expression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression expression</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression </i><b>--and </b><i>expression</i></dt>
  <dd class="It-tag">Logical AND of expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression </i><b>--or </b><i>expression</i></dt>
  <dd class="It-tag">Logical OR of expressions.</dd>
</dl>
<h2 class="Ss" title="Ss" id="SUBSTITUTIONS"><a class="selflink" href="#SUBSTITUTIONS">SUBSTITUTIONS</a></h2>
The substitutions for &quot;{foo}&quot; in <i>-e</i> and <i>--exec</i> are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_domain}</b></dt>
  <dd class="It-tag">Domain name, e.g., &quot;example.com.&quot;,
      &quot;local.&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_hostname}</b></dt>
  <dd class="It-tag">Fully-qualified domain name, e.g.,
      &quot;printer.example.com.&quot;, &quot;printer.local.&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_name}</b></dt>
  <dd class="It-tag">Service instance name, e.g., &quot;My Fine
    Printer&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_port}</b></dt>
  <dd class="It-tag">Port number for server, typically 631 for IPP and 80 for
      HTTP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_regtype}</b></dt>
  <dd class="It-tag">DNS-SD registration type, e.g., &quot;_ipp._tcp&quot;,
      &quot;_http._tcp&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_scheme}</b></dt>
  <dd class="It-tag">URI scheme for DNS-SD registration type, e.g.,
      &quot;ipp&quot;, &quot;http&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{}</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{service_uri}</b></dt>
  <dd class="It-tag">URI for service, e.g.,
      &quot;ipp://printer.local./ipp/print&quot;,
      &quot;http://printer.local./&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{txt_</b><i>key</i><b>}</b></dt>
  <dd class="It-tag">Value of TXT record <i>key</i> (lowercase).</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>ippfind</b> supports the following options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show program help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Show program version.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-4</b></dt>
  <dd class="It-tag">Use IPv4 when listing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-6</b></dt>
  <dd class="It-tag">Use IPv6 when listing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T </b><i>seconds</i></dt>
  <dd class="It-tag">Specify find timeout in seconds. If 1 or less,
      <b>ippfind</b> stops as soon as it thinks it has found everything. The
      default timeout is 1 second.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V </b><i>version</i></dt>
  <dd class="It-tag">Specifies the IPP version when listing. Supported values
      are &quot;1.1&quot;, &quot;2.0&quot;, &quot;2.1&quot;, and
      &quot;2.2&quot;.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b>ippfind</b> returns 0 if the result for all processed expressions is true, 1
  if the result of any processed expression is false, 2 if browsing or any query
  or resolution failed, 3 if an undefined option or invalid expression was
  specified, and 4 if it ran out of memory.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
When executing a program, <b>ippfind</b> sets the following environment
  variables for the matching service registration:
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_DOMAIN</b></dt>
  <dd class="It-tag">Domain name, e.g., &quot;example.com.&quot;,
      &quot;local.&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_HOSTNAME</b></dt>
  <dd class="It-tag">Fully-qualified domain name, e.g.,
      &quot;printer.example.com.&quot;, &quot;printer.local.&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_NAME</b></dt>
  <dd class="It-tag">Service instance name, e.g., &quot;My Fine
    Printer&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_PORT</b></dt>
  <dd class="It-tag">Port number for server, typically 631 for IPP and 80 for
      HTTP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_REGTYPE</b></dt>
  <dd class="It-tag">DNS-SD registration type, e.g., &quot;_ipp._tcp&quot;,
      &quot;_http._tcp&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_SCHEME</b></dt>
  <dd class="It-tag">URI scheme for DNS-SD registration type, e.g.,
      &quot;ipp&quot;, &quot;http&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_SERVICE_URI</b></dt>
  <dd class="It-tag">URI for service, e.g.,
      &quot;ipp://printer.local./ipp/print&quot;,
      &quot;http://printer.local./&quot;, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>IPPFIND_TXT_<i>KEY</i></b></dt>
  <dd class="It-tag">Values of TXT record <i>KEY</i> (uppercase).</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To show the status of all registered IPP printers on your network, run:
<pre>
<div class="Pp"></div>
    ippfind --ls
<div class="Pp"></div>
</pre>
Similarly, to send a PostScript test page to every PostScript printer, run:
<pre>
<div class="Pp"></div>
    ippfind --txt-pdl application/postscript --exec ipptool
      -f onepage-letter.ps '{}' print-job.test \;
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ipptool</b>(1)
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2013-2015 by Apple Inc.</div>
<table class="foot">
  <tr>
    <td class="foot-date">CUPS</td>
    <td class="foot-os">11 June 2014</td>
  </tr>
</table>
</body>
</html>
