<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:55:23 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BLKREPLAY(1) BLKREPLAY(1)</p>

<p style="margin-top: 1em">NAME <br>
blkreplay - block device testing and benchmarking tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
blkreplay [options] device</p>

<p style="margin-top: 1em">DESCRIPTION <br>
blkreplay is a utility driving the block layer of the
operating system while measuring latency and throughput of
I/O operations for later visualisation.</p>

<p style="margin-top: 1em">blkreplay can create artificial
loads (random read-write sweeps, various kinds of overload
tests) or replay natural loads which have been recorded by
blktrace or a similar <br>
utility run at production servers.</p>

<p style="margin-top: 1em">blkreplay can be used to test
physical hardware, to compare different brands of hard disks
or RAID controllers, to evaluate the effect of SSD caching,
to compare different block <br>
level transports like iSCSI vs Fibrechannel and so on.</p>

<p style="margin-top: 1em">blkreplay parses the load data
from stdin. To create load data from blktrace output, use
conv_blktrace_to_load.sh script.</p>

<p style="margin-top: 1em">OPTIONS <br>
Influence replay duration: <br>
--replay-start=val <br>
start offset (in seconds, 0=from_start)</p>

<p style="margin-top: 1em">--replay-end=val <br>
end offset (in seconds, 0=unlimited)</p>

<p style="margin-top: 1em">--replay-duration=val <br>
alternatively specify the end offset as delta</p>

<p style="margin-top: 1em">--replay-out=val <br>
start offset, used for output (in seconds)</p>

<p style="margin-top: 1em">--start-grace=val <br>
start after grace period for filling the pipes (in
seconds)</p>

<p style="margin-top: 1em">Handling of conflicting I/O
requests: <br>
--with-conflicts <br>
conflicting writes are ALLOWED (damaged I/O)</p>

<p style="margin-top: 1em">--with-drop <br>
conflicting writes are simply dropped</p>

<p style="margin-top: 1em">--with-partial <br>
partial ordering by pushing back conflicts (default)</p>

<p style="margin-top: 1em">--with-ordering <br>
enforce total order in case of conflicts</p>

<p style="margin-top: 1em">--strong=val <br>
mode between 0 and 2, see docs (default=1)</p>

<p style="margin-top: 1em">Replay parameters: <br>
--threads=val <br>
parallelism (default=1024)</p>

<p style="margin-top: 1em">--fill-random=val <br>
fill data blocks with random bytes (%, default=0)</p>

<p style="margin-top: 1em">Verification modes: <br>
--no-overhead <br>
verify is OFF (default)</p>

<p style="margin-top: 1em">--with-verify <br>
verify on reads</p>

<p style="margin-top: 1em">--with-final-verify <br>
additional verify pass at the end</p>

<p style="margin-top: 1em">--with-paranoia <br>
re-read after each write (destroys performance)</p>

<p style="margin-top: 1em">Convenience: <br>
--verbose=val <br>
increase verbosity, show additional INFO: output</p>

<p style="margin-top: 1em">Expert options (DANGEROUS): <br>
--o-direct <br>
use O_DIRECT (default)</p>

<p style="margin-top: 1em">--no-o-direct <br>
don&rsquo;t use O_DIRECT, deliver FAKE results</p>

<p style="margin-top: 1em">--o-sync <br>
use O_SYNC</p>

<p style="margin-top: 1em">--no-o-sync <br>
don&rsquo;t use O_SYNC (default)</p>

<p style="margin-top: 1em">--dry-run <br>
don&rsquo;t actually do I/O, measure internal overhead</p>

<p style="margin-top: 1em">--fake-io <br>
omit lseek() and tags, even less internal overhead</p>

<p style="margin-top: 1em">--simulate-io=val <br>
delay value for I/O simulation (timespec sec.nsec)</p>

<p style="margin-top: 1em">--ahead-limit=val <br>
limit pipe fillahead (realtime sec.nsec)</p>

<p style="margin-top: 1em">--fan-out=val <br>
only for kernel hackers (default=4)</p>

<p style="margin-top: 1em">--no-dispatcher <br>
only for kernel hackers</p>

<p style="margin-top: 1em">--bottleneck=val <br>
max #requests on dispatch</p>

<p style="margin-top: 1em">--speedup=val <br>
speedup / slowdown by REAL factor (default=1.0)</p>

<p style="margin-top: 1em">--mmap-mode <br>
use mmap() instead of read() / write() [NYI]</p>

<p style="margin-top: 1em">AUTHORS <br>
blkreplay was written by Thomas Schoebel-Theuer. This manual
page was created from blkreplay documentation by Andrew
Shadura.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright 2009-2012 Thomas Schoebel-Theuer</p>

<p style="margin-top: 1em">SEE ALSO <br>
blktrace(8)</p>

<p style="margin-top: 1em">2015-08-16 BLKREPLAY(1)</p>
<hr>
</body>
</html>
