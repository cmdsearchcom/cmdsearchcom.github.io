<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HTDBM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HTDBM(1)</td>
    <td class="head-vol">htdbm</td>
    <td class="head-rtitle">HTDBM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
htdbm - Manipulate DBM password databases
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>htdbm</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>i</b> ] [ -<b>c</b> ] [ -<b>m</b>
  | - <b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [
  - <b>t</b> ] [ -<b>v</b> ] <i>filename</i> <i>username</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>b</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>c</b> ] [ -<b>m</b> |
  -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [
  -<b>t</b> ] [ -<b>v</b> ] <i>filename</i> <i>username</i> <i>password</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>n</b> [ -<b>i</b> ] [ -<b>c</b> ] [ -<b>m</b> | -<b>B</b> |
  -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [
  - <b>v</b> ] <i>username</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>nb</b> [ -<b>c</b> ] [ -<b>m</b> | -<b>B</b> | -<b>d</b> |
  -<b>s</b> | - <b>p</b> ] [ -<b>C</b> <i>cost</i> ] [ -<b>t</b> ] [ -<b>v</b> ]
  <i>username</i> <i>password</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>v</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>i</b> ] [ -<b>c</b> ] [
  - <b>m</b> | -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b>
  <i>cost</i> ] [ - <b>t</b> ] [ -<b>v</b> ] <i>filename</i> <i>username</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>vb</b> [ -<b>T</b><i>DBTYPE</i> ] [ -<b>c</b> ] [ -<b>m</b> |
  -<b>B</b> | -<b>d</b> | -<b>s</b> | -<b>p</b> ] [ -<b>C</b> <i>cost</i> ] [
  -<b>t</b> ] [ -<b>v</b> ] <i>filename</i> <i>username</i> <i>password</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>x</b> [ -<b>T</b><i>DBTYPE</i> ] <i>filename</i>
  <i>username</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>htdbm</b> -<b>l</b> [ -<b>T</b><i>DBTYPE</i> ]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SUMMARY"><a class="selflink" href="#SUMMARY">SUMMARY</a></h1>
htdbm is used to manipulate the DBM format files used to store usernames and
  password for basic authentication of HTTP users via mod_authn_dbm. See the
  dbmmanage documentation for more information about these DBM files.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-b</dt>
  <dd class="It-tag">Use batch mode; <i>i.e.</i>, get the password from the
      command line rather than prompting for it. This option should be used with
      extreme care, since <b>the password is clearly visible</b> on the command
      line. For script use see the -i option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i</dt>
  <dd class="It-tag">Read the password from stdin without verification (for
      script usage).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c</dt>
  <dd class="It-tag">Create the <i>passwdfile</i>. If <i>passwdfile</i> already
      exists, it is rewritten and truncated. This option cannot be combined with
      the -n option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n</dt>
  <dd class="It-tag">Display the results on standard output rather than updating
      a database. This option changes the syntax of the command line, since the
      <i>passwdfile</i> argument (usually the first one) is omitted. It cannot
      be combined with the -c option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m</dt>
  <dd class="It-tag">Use MD5 encryption for passwords. On Windows and Netware,
      this is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-B</dt>
  <dd class="It-tag">Use bcrypt encryption for passwords. This is currently
      considered to be very secure.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-C</dt>
  <dd class="It-tag">This flag is only allowed in combination with -B (bcrypt
      encryption). It sets the computing time used for the bcrypt algorithm
      (higher is more secure but slower, default: 5, valid: 4 to 31).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d</dt>
  <dd class="It-tag">Use crypt() encryption for passwords. The default on all
      platforms but Windows and Netware. Though possibly supported by htdbm on
      all platforms, it is not supported by the httpd server on Windows and
      Netware. This algorithm is <b>insecure</b> by today's standards.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">Use SHA encryption for passwords. Facilitates migration
      from/to Netscape servers using the LDAP Directory Interchange Format
      (ldif). This algorithm is <b>insecure</b> by today's standards.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p</dt>
  <dd class="It-tag">Use plaintext passwords. Though htdbm will support creation
      on all platforms, the httpd daemon will only accept plain text passwords
      on Windows and Netware.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l</dt>
  <dd class="It-tag">Print each of the usernames and comments from the database
      on stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">Verify the username and password. The program will print a
      message indicating whether the supplied password is valid. If the password
      is invalid, the program exits with error code 3.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-x</dt>
  <dd class="It-tag">Delete user. If the username exists in the specified DBM
      file, it will be deleted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t</dt>
  <dd class="It-tag">Interpret the final parameter as a comment. When this
      option is specified, an additional string can be appended to the command
      line; this string will be stored in the &quot;Comment&quot; field of the
      database, associated with the specified username.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>filename</i></dt>
  <dd class="It-tag">The filename of the DBM format file. Usually without the
      extension .db, .pag, or .dir. If -c is given, the DBM file is created if
      it does not already exist, or updated if it does exist.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>username</i></dt>
  <dd class="It-tag">The username to create or update in <i>passwdfile</i>. If
      <i>username</i> does not exist in this file, an entry is added. If it does
      exist, the password is changed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>password</i></dt>
  <dd class="It-tag">The plaintext password to be encrypted and stored in the
      DBM file. Used only with the -b flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-T<i>DBTYPE</i></dt>
  <dd class="It-tag">Type of DBM file (SDBM, GDBM, DB, or &quot;default&quot;).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
One should be aware that there are a number of different DBM file formats in
  existence, and with all likelihood, libraries for more than one format may
  exist on your system. The three primary examples are SDBM, NDBM, GNU GDBM, and
  Berkeley/Sleepycat DB 2/3/4. Unfortunately, all these libraries use different
  file formats, and you must make sure that the file format used by
  <i>filename</i> is the same format that htdbm expects to see. htdbm currently
  has no way of determining what type of DBM file it is looking at. If used
  against the wrong format, will simply return nothing, or may create a
  different DBM file with a different name, or at worst, it may corrupt the DBM
  file if you were attempting to write to it.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
One can usually use the file program supplied with most Unix systems to see what
  format a DBM file is in.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
htdbm returns a zero status (&quot;true&quot;) if the username and password have
  been successfully added or updated in the DBM File. htdbm returns 1 if it
  encounters some problem accessing files, 2 if there was a syntax problem with
  the command line, 3 if the password was entered interactively and the
  verification entry didn't match, 4 if its operation was interrupted, 5 if a
  value is too long (username, filename, password, or final computed record), 6
  if the username contains illegal characters (see the Restrictions section),
  and 7 if the file is not a valid DBM password file.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<pre>
<div class="Pp"></div>
      htdbm /usr/local/etc/apache/.htdbm-users jsmith
    
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Adds or modifies the password for user jsmith. The user is prompted for the
  password. If executed on a Windows system, the password will be encrypted
  using the modified Apache MD5 algorithm; otherwise, the system's crypt()
  routine will be used. If the file does not exist, htdbm will do nothing except
  return an error.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<div class="Pp"></div>
      htdbm -c /home/doe/public_html/.htdbm jane
    
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Creates a new file and stores a record in it for user jane. The user is prompted
  for the password. If the file exists and cannot be read, or cannot be written,
  it is not altered and htdbm will display a message and return an error status.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<div class="Pp"></div>
      htdbm -mb /usr/web/.htdbm-all jones Pwd4Steve
    
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Encrypts the password from the command line (Pwd4Steve) using the MD5 algorithm,
  and stores it in the specified file.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SECURITY_CONSIDERATIONS"><a class="selflink" href="#SECURITY_CONSIDERATIONS">SECURITY
  CONSIDERATIONS</a></h1>
Web password files such as those managed by htdbm should <i>not</i> be within
  the Web server's URI space -- that is, they should not be fetchable with a
  browser.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The use of the -b option is discouraged, since when it is used the unencrypted
  password appears on the command line.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
When using the crypt() algorithm, note that only the first 8 characters of the
  password are used to form the password. If the supplied password is longer,
  the extra characters will be silently discarded.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The SHA encryption format does not use salting: for a given password, there is
  only one encrypted representation. The crypt() and MD5 formats permute the
  representation by prepending a random salt string, to make dictionary attacks
  against the passwords more difficult.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The SHA and crypt() formats are insecure by today's standards.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="RESTRICTIONS"><a class="selflink" href="#RESTRICTIONS">RESTRICTIONS</a></h1>
On the Windows platform, passwords encrypted with htdbm are limited to no more
  than 255 characters in length. Longer passwords will be truncated to 255
  characters.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The MD5 algorithm used by htdbm is specific to the Apache software; passwords
  encrypted using it will not be usable with other Web servers.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Usernames are limited to 255 bytes and may not include the character :.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-12-12</td>
    <td class="foot-os">Apache HTTP Server</td>
  </tr>
</table>
</body>
</html>
