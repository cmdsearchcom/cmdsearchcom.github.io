<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>AR(1POSIX)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">AR(1POSIX)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">AR(1POSIX)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="PROLOG"><a class="selflink" href="#PROLOG">PROLOG</a></h1>
This manual page is part of the POSIX Programmer's Manual. The Linux
  implementation of this interface may differ (consult the corresponding Linux
  manual page for details of Linux behavior), or the interface may not be
  implemented on Linux.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ar &#x2014; create and maintain library archives
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
ar &#x2212;d  <b>[</b>&#x2212;v<b>] </b><i>archive file</i>...
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;m  <b>[</b>&#x2212;v<b>] </b><i>archive file</i>...
ar &#x2212;m &#x2212;a  <b>[</b>&#x2212;v<b>] </b><i>posname archive file</i>...
ar &#x2212;m &#x2212;b  <b>[</b>&#x2212;v<b>] </b><i>posname archive file</i>...
ar &#x2212;m &#x2212;i  <b>[</b>&#x2212;v<b>] </b><i>posname archive file</i>...
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;p  <b>[</b>&#x2212;v<b>] [</b>&#x2212;s<b>] </b><i>archive</i><b> [</b><i>file</i>...<b>]</b>
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;q  <b>[</b>&#x2212;cv<b>] </b><i>archive file</i>...
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;r  <b>[</b>&#x2212;cuv<b>] </b><i>archive file</i>...
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;r &#x2212;a  <b>[</b>&#x2212;cuv<b>] </b><i>posname archive file</i>...
ar &#x2212;r &#x2212;b  <b>[</b>&#x2212;cuv<b>] </b><i>posname archive file</i>...
ar &#x2212;r &#x2212;i  <b>[</b>&#x2212;cuv<b>] </b><i>posname archive file</i>...
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;t  <b>[</b>&#x2212;v<b>] [</b>&#x2212;s<b>] </b><i>archive </i><b>[</b><i>file</i>...<b>]</b>
</pre>
<div class="Pp"></div>
<pre>
ar &#x2212;x  <b>[</b>&#x2212;v<b>] [</b>&#x2212;sCT<b>] </b><i>archive </i><b>[</b><i>file</i>...<b>]</b>
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>ar</i> utility is part of the Software Development Utilities option.
<div class="Pp"></div>
The <i>ar</i> utility can be used to create and maintain groups of files
  combined into an archive. Once an archive has been created, new files can be
  added, and existing files in an archive can be extracted, deleted, or
  replaced. When an archive consists entirely of valid object files, the
  implementation shall format the archive so that it is usable as a library for
  link editing (see <i>c99</i> and <i>fort77</i>). When some of the archived
  files are not valid object files, the suitability of the archive for library
  use is undefined. If an archive consists entirely of printable files, the
  entire archive shall be printable.
<div class="Pp"></div>
When <i>ar</i> creates an archive, it creates administrative information
  indicating whether a symbol table is present in the archive. When there is at
  least one object file that <i>ar</i> recognizes as such in the archive, an
  archive symbol table shall be created in the archive and maintained by
  <i>ar</i>; it is used by the link editor to search the archive. Whenever the
  <i>ar</i> utility is used to create or update the contents of such an archive,
  the symbol table shall be rebuilt. The <b>&#x2212;s</b> option shall force the
  symbol table to be rebuilt.
<div class="Pp"></div>
All <i>file</i> operands can be pathnames. However, files within archives shall
  be named by a filename, which is the last component of the pathname used when
  the file was entered into the archive. The comparison of <i>file</i> operands
  to the names of files in archives shall be performed by comparing the last
  component of the operand to the name of the file in the archive.
<div class="Pp"></div>
It is unspecified whether multiple files in the archive may be identically
  named. In the case of such files, however, each <i>file</i> and <i>posname</i>
  operand shall match only the first file in the archive having a name that is
  the same as the last component of the operand.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <i>ar</i> utility shall conform to the Base Definitions volume of
  POSIX.1&#x2010;2008, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>,
  except for Guideline 9.
<div class="Pp"></div>
The following options shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;a</b></dt>
  <dd class="It-tag">Position new files in the archive after the file named by
      the <i>posname</i> operand.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;b</b></dt>
  <dd class="It-tag">Position new files in the archive before the file named by
      the <i>posname</i> operand.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;c</b></dt>
  <dd class="It-tag">Suppress the diagnostic message that is written to standard
      error by default when the archive <i>archive</i> is created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;C</b></dt>
  <dd class="It-tag">Prevent extracted files from replacing like-named files in
      the file system. This option is useful when <b>&#x2212;T</b> is also used,
      to prevent truncated filenames from replacing files with the same
    prefix.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;d</b></dt>
  <dd class="It-tag">Delete one or more <i>file</i>s from <i>archive</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;i</b></dt>
  <dd class="It-tag">Position new files in the archive before the file in the
      archive named by the <i>posname</i> operand (equivalent to
      <b>&#x2212;b</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;m</b></dt>
  <dd class="It-tag">Move the named files in the archive. The <b>&#x2212;a</b>,
      <b>&#x2212;b</b>, or <b>&#x2212;i</b> options with the <i>posname</i>
      operand indicate the position; otherwise, move the names files in the
      archive to the end of the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;p</b></dt>
  <dd class="It-tag">Write the contents of the <i>file</i>s in the archive named
      by <i>file</i> operands from <i>archive</i> to the standard output. If no
      <i>file</i> operands are specified, the contents of all files in the
      archive shall be written in the order of the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;q</b></dt>
  <dd class="It-tag">Append the named files to the end of the archive. In this
      case <i>ar</i> does not check whether the added files are already in the
      archive. This is useful to bypass the searching otherwise done when
      creating a large archive piece by piece.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;r</b></dt>
  <dd class="It-tag">Replace or add <i>file</i>s to <i>archive</i>. If the
      archive named by <i>archive</i> does not exist, a new archive shall be
      created and a diagnostic message shall be written to standard error
      (unless the <b>&#x2212;c</b> option is specified). If no <i>file</i>s are
      specified and the <i>archive</i> exists, the results are undefined. Files
      that replace existing files in the archive shall not change the order of
      the archive. Files that do not replace existing files in the archive shall
      be appended to the archive unless a <b>&#x2212;a</b>, <b>&#x2212;b</b>, or
      <b>&#x2212;i</b> option specifies another position.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;s</b></dt>
  <dd class="It-tag">Force the regeneration of the archive symbol table even if
      <i>ar</i> is not invoked with an option that modifies the archive
      contents. This option is useful to restore the archive symbol table after
      it has been stripped; see <i>strip</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;t</b></dt>
  <dd class="It-tag">Write a table of contents of <i>archive</i> to the standard
      output. Only the files specified by the <i>file</i> operands shall be
      included in the written list. If no <i>file</i> operands are specified,
      all files in <i>archive</i> shall be included in the order of the
    archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;T</b></dt>
  <dd class="It-tag">Allow filename truncation of extracted files whose archive
      names are longer than the file system can support. By default, extracting
      a file with a name that is too long shall be an error; a diagnostic
      message shall be written and the file shall not be extracted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;u</b></dt>
  <dd class="It-tag">Update older files in the archive. When used with the
      <b>&#x2212;r</b> option, files in the archive shall be replaced only if
      the corresponding <i>file</i> has a modification time that is at least as
      new as the modification time of the file in the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;v</b></dt>
  <dd class="It-tag">Give verbose output. When used with the option characters
      <b>&#x2212;d</b>, <b>&#x2212;r</b>, or <b>&#x2212;x</b>, write a detailed
      file-by-file description of the archive creation and maintenance activity,
      as described in the STDOUT section.</dd>
</dl>
<div style="margin-left: 10.00ex;">
<div class="Pp"></div>
When used with <b>&#x2212;p</b>, write the name of the file in the archive to
  the standard output before writing the file in the archive itself to the
  standard output, as described in the STDOUT section.
<div class="Pp"></div>
When used with <b>&#x2212;t</b>, include a long listing of information about the
  files in the archive, as described in the STDOUT section.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;x</b></dt>
  <dd class="It-tag">Extract the files in the archive named by the <i>file</i>
      operands from <i>archive</i>. The contents of the archive shall not be
      changed. If no <i>file</i> operands are given, all files in the archive
      shall be extracted. The modification time of each file extracted shall be
      set to the time the file is extracted from the archive.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
The following operands shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><i>archive</i></dt>
  <dd class="It-tag">A pathname of the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>file</i></dt>
  <dd class="It-tag">A pathname. Only the last component shall be used when
      comparing against the names of files in the archive. If two or more
      <i>file</i> operands have the same last pathname component (basename), the
      results are unspecified. The implementation's archive format shall not
      truncate valid filenames of files added to or replaced in the
    archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>posname</i></dt>
  <dd class="It-tag">The name of a file in the archive, used for relative
      positioning; see options <b>&#x2212;m</b> and <b>&#x2212;r</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="STDIN"><a class="selflink" href="#STDIN">STDIN</a></h1>
Not used.
<h1 class="Sh" title="Sh" id="INPUT_FILES"><a class="selflink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
The archive named by <i>archive</i> shall be a file in the format created by
  <i>ar</i> <b>&#x2212;r</b>.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The following environment variables shall affect the execution of <i>ar</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><i>LANG</i></dt>
  <dd class="It-tag">Provide a default value for the internationalization
      variables that are unset or null. (See the Base Definitions volume of
      POSIX.1&#x2010;2008, <i>Section 8.2</i>, <i>Internationalization
      Variables</i> for the precedence of internationalization variables used to
      determine the values of locale categories.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_ALL</i></dt>
  <dd class="It-tag">If set to a non-empty string value, override the values of
      all the other internationalization variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_CTYPE</i></dt>
  <dd class="It-tag">Determine the locale for the interpretation of sequences of
      bytes of text data as characters (for example, single-byte as opposed to
      multi-byte characters in arguments and input files).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_MESSAGES</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_TIME</i></dt>
  <dd class="It-tag">Determine the format and content for date and time strings
      written by <i>ar</i> <b>&#x2212;tv</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>NLSPATH</i></dt>
  <dd class="It-tag">Determine the location of message catalogs for the
      processing of <i>LC_MESSAGES</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>TMPDIR</i></dt>
  <dd class="It-tag">Determine the pathname that overrides the default directory
      for temporary files, if any.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>TZ</i></dt>
  <dd class="It-tag">Determine the timezone used to calculate date and time
      strings written by <i>ar</i> <b>&#x2212;tv</b>. If <i>TZ</i> is unset or
      null, an unspecified default timezone shall be used.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ASYNCHRONOUS_EVENTS"><a class="selflink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
Default.
<h1 class="Sh" title="Sh" id="STDOUT"><a class="selflink" href="#STDOUT">STDOUT</a></h1>
If the <b>&#x2212;d</b> option is used with the <b>&#x2212;v</b> option, the
  standard output format shall be:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;d &#x2212; %s\n&quot;, &lt;</b><i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where <i>file</i> is the operand specified on the command line.
<div class="Pp"></div>
If the <b>&#x2212;p</b> option is used with the <b>&#x2212;v</b> option,
  <i>ar</i> shall precede the contents of each file with:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;\n&lt;%s&gt;\n\n&quot;, &lt;</b><i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where <i>file</i> is the operand specified on the command line, if <i>file</i>
  operands were specified, and the name of the file in the archive if they were
  not.
<div class="Pp"></div>
If the <b>&#x2212;r</b> option is used with the <b>&#x2212;v</b> option:
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If <i>file</i> is already in the archive, the standard
      output format shall be:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;r &#x2212; %s\n&quot;, &lt;</b><i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where &lt; <i>file</i>&gt; is the operand specified on the command line.</div>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If <i>file</i> is not already in the archive, the standard
      output format shall be:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;a &#x2212; %s\n&quot;, &lt;</b><i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where &lt; <i>file</i>&gt; is the operand specified on the command line.</div>
<div class="Pp"></div>
If the <b>&#x2212;t</b> option is used, <i>ar</i> shall write the names of the
  files in the archive to the standard output in the format:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;%s\n&quot;, &lt;</b><i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where <i>file</i> is the operand specified on the command line, if <i>file</i>
  operands were specified, or the name of the file in the archive if they were
  not.
<div class="Pp"></div>
If the <b>&#x2212;t</b> option is used with the <b>&#x2212;v</b> option, the
  standard output format shall be:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;%s %u/%u %u %s %d %d:%d %d %s\n&quot;, &lt;</b><i>member mode</i>&gt;, &lt;<i>user ID</i>&gt;,
    &lt; <i>group ID</i>&gt;, &lt;<i>number of bytes in member</i>&gt;,
    &lt; <i>abbreviated month</i>&gt;, &lt;<i>day-of-month</i>&gt;, &lt;<i>hour</i>&gt;,
    &lt; <i>minute</i>&gt;, &lt;<i>year</i>&gt;, &lt;<i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where:
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>file</i>&gt;</dt>
  <dd class="It-tag">Shall be the operand specified on the command line, if
      <i>file</i> operands were specified, or the name of the file in the
      archive if they were not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>member&#x00A0;mode</i>&gt;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Shall be formatted the same as the &lt; <i>file&#x00A0;mode</i>&gt; string
      defined in the STDOUT section of <i>ls</i>, except that the first
      character, the &lt; <i>entry&#x00A0;type</i>&gt;, is not used; the string
      represents the file mode of the file in the archive at the time it was
      added to or replaced in the archive.
    <div>&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The following represent the last-modification time of a file when it was most
  recently added to or replaced in the archive:
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>abbreviated&#x00A0;month</i>&gt;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Equivalent to the format of the <b>%b</b> conversion specification format in
      <i>date</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>day-of-month</i>&gt;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Equivalent to the format of the <b>%e</b> conversion specification format in
      <i>date</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>hour</i>&gt;</dt>
  <dd class="It-tag">Equivalent to the format of the <b>%H</b> conversion
      specification format in <i>date</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>minute</i>&gt;</dt>
  <dd class="It-tag">Equivalent to the format of the <b>%M</b> conversion
      specification format in <i>date</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&lt;<i>year</i>&gt;</dt>
  <dd class="It-tag">Equivalent to the format of the <b>%Y</b> conversion
      specification format in <i>date</i>.</dd>
</dl>
<div class="Pp"></div>
When <i>LC_TIME</i> does not specify the POSIX locale, a different format and
  order of presentation of these fields relative to each other may be used in a
  format appropriate in the specified locale.
<div class="Pp"></div>
If the <b>&#x2212;x</b> option is used with the <b>&#x2212;v</b> option, the
  standard output format shall be:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&quot;x &#x2212; %s\n&quot;, &lt;</b><i>file</i>&gt;
</pre>
</div>
<div class="Pp"></div>
where <i>file</i> is the operand specified on the command line, if <i>file</i>
  operands were specified, or the name of the file in the archive if they were
  not.
<h1 class="Sh" title="Sh" id="STDERR"><a class="selflink" href="#STDERR">STDERR</a></h1>
The standard error shall be used only for diagnostic messages. The diagnostic
  message about creating a new archive when <b>&#x2212;c</b> is not specified
  shall not modify the exit status.
<h1 class="Sh" title="Sh" id="OUTPUT_FILES"><a class="selflink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
Archives are files with unspecified formats.
<h1 class="Sh" title="Sh" id="EXTENDED_DESCRIPTION"><a class="selflink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The following exit values shall be returned:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2002;0</dt>
  <dd class="It-tag">Successful completion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&gt;0</dt>
  <dd class="It-tag">An error occurred.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="selflink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
Default.
<div class="Pp"></div>
<i>The following sections are informative.</i>
<h1 class="Sh" title="Sh" id="APPLICATION_USAGE"><a class="selflink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
None.
<h1 class="Sh" title="Sh" id="RATIONALE"><a class="selflink" href="#RATIONALE">RATIONALE</a></h1>
The archive format is not described. It is recognized that there are several
  known <i>ar</i> formats, which are not compatible. The <i>ar</i> utility is
  included, however, to allow creation of archives that are intended for use
  only on one machine. The archive is specified as a file, and it can be moved
  as a file. This does allow an archive to be moved from one machine to another
  machine that uses the same implementation of <i>ar</i>.
<div class="Pp"></div>
Utilities such as <i>pax</i> (and its forebears <i>tar</i> and <i>cpio</i>) also
  provide portable ``archives''. This is a not a duplication; the <i>ar</i>
  utility is included to provide an interface primarily for <i>make</i> and the
  compilers, based on a historical model.
<div class="Pp"></div>
In historical implementations, the <b>&#x2212;q</b> option (available on
  XSI-conforming systems) is known to execute quickly because <i>ar</i> does not
  check on whether the added members are already in the archive. This is useful
  to bypass the searching otherwise done when creating a large archive
  piece-by-piece. These remarks may but need not remain true for a brand new
  implementation of this utility; hence, these remarks have been moved into the
  RATIONALE.
<div class="Pp"></div>
BSD implementations historically required applications to provide the
  <b>&#x2212;s</b> option whenever the archive was supposed to contain a symbol
  table. As in this volume of POSIX.1&#x2010;2008, System V historically creates
  or updates an archive symbol table whenever an object file is removed from,
  added to, or updated in the archive.
<div class="Pp"></div>
The OPERANDS section requires what might seem to be true without specifying it:
  the archive cannot truncate the filenames below {NAME_MAX}. Some historical
  implementations do so, however, causing unexpected results for the
  application. Therefore, this volume of POSIX.1&#x2010;2008 makes the
  requirement explicit to avoid misunderstandings.
<div class="Pp"></div>
According to the System V documentation, the options <b>&#x2212;dmpqrtx</b> are
  not required to begin with a &lt;hyphen&gt; (<b>'&#x2212;'</b>). This volume
  of POSIX.1&#x2010;2008 requires that a conforming application use the leading
  &lt;hyphen&gt;.
<div class="Pp"></div>
The archive format used by the 4.4 BSD implementation is documented in this
  RATIONALE as an example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">A file created by <i>ar</i> begins with the
  ``magic'' string <b>&quot;!&lt;arch&gt;\n&quot;</b>. The rest of the archive
  is made up of objects, each of which is composed of a header for a file, a
  possible filename, and the file contents. The header is portable between
  machine architectures, and, if the file contents are printable, the archive is
  itself printable.
<div class="Pp"></div>
The header is made up of six ASCII fields, followed by a two-character trailer.
  The fields are the object name (16 characters), the file last modification
  time (12 characters), the user and group IDs (each 6 characters), the file
  mode (8 characters), and the file size (10 characters). All numeric fields are
  in decimal, except for the file mode, which is in octal.
<div class="Pp"></div>
The modification time is the file <i>st_mtime</i> field. The user and group IDs
  are the file <i>st_uid</i> and <i>st_gid</i> fields. The file mode is the file
  <i>st_mode</i> field. The file size is the file <i>st_size</i> field. The
  two-byte trailer is the string <b>&quot;`&lt;newline&gt;&quot;</b>.
<div class="Pp"></div>
Only the name field has any provision for overflow. If any filename is more than
  16 characters in length or contains an embedded space, the string
  <b>&quot;#1/&quot;</b> followed by the ASCII length of the name is written in
  the name field. The file size (stored in the archive header) is incremented by
  the length of the name. The name is then written immediately following the
  archive header.
<div class="Pp"></div>
Any unused characters in any of these fields are written as &lt;space&gt;
  characters. If any fields are their particular maximum number of characters in
  length, there is no separation between the fields.
<div class="Pp"></div>
Objects in the archive are always an even number of bytes long; files that are
  an odd number of bytes long are padded with a &lt;newline&gt;, although the
  size in the header does not reflect this.</div>
<div class="Pp"></div>
The <i>ar</i> utility description requires that (when all its members are valid
  object files) <i>ar</i> produce an object code library, which the linkage
  editor can use to extract object modules. If the linkage editor needs a symbol
  table to permit random access to the archive, <i>ar</i> must provide it;
  however, <i>ar</i> does not require a symbol table.
<div class="Pp"></div>
The BSD <b>&#x2212;o</b> option was omitted. It is a rare conforming application
  that uses <i>ar</i> to extract object code from a library with concern for its
  modification time, since this can only be of importance to <i>make</i>. Hence,
  since this functionality is not deemed important for applications portability,
  the modification time of the extracted files is set to the current time.
<div class="Pp"></div>
There is at least one known implementation (for a small computer) that can
  accommodate only object files for that system, disallowing mixed object and
  other files. The ability to handle any type of file is not only historical
  practice for most implementations, but is also a reasonable expectation.
<div class="Pp"></div>
Consideration was given to changing the output format of <i>ar</i>
  <b>&#x2212;tv</b> to the same format as the output of <i>ls</i>
  <b>&#x2212;l</b>. This would have made parsing the output of <i>ar</i> the
  same as that of <i>ls</i>. This was rejected in part because the current
  <i>ar</i> format is commonly used and changes would break historical usage.
  Second, <i>ar</i> gives the user ID and group ID in numeric format separated
  by a &lt;slash&gt;. Changing this to be the user name and group name would not
  be correct if the archive were moved to a machine that contained a different
  user database. Since <i>ar</i> cannot know whether the archive was generated
  on the same machine, it cannot tell what to report.
<div class="Pp"></div>
The text on the <b>&#x2212;ur</b> option combination is historical
  practice&#x2014;since one filename can easily represent two different files
  (for example, <b>/a/foo</b> and <b>/b/foo</b>), it is reasonable to replace
  the file in the archive even when the modification time in the archive is
  identical to that in the file system.
<h1 class="Sh" title="Sh" id="FUTURE_DIRECTIONS"><a class="selflink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
None.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i><i>c99</i></i>, <i><i>date</i></i>, <i><i>fort77</i></i>, <i><i>pax</i></i>,
  <i><i>strip</i></i>
<div class="Pp"></div>
The Base Definitions volume of POSIX.1&#x2010;2008, <i>Chapter 8</i>,
  <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
  Guidelines</i>, <i><b>&lt;unistd.h&gt;</b></i>, description of
  {POSIX_NO_TRUNC}
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Portions of this text are reprinted and reproduced in electronic form from IEEE
  Std 1003.1, 2013 Edition, Standard for Information Technology -- Portable
  Operating System Interface (POSIX), The Open Group Base Specifications Issue
  7, Copyright (C) 2013 by the Institute of Electrical and Electronics
  Engineers, Inc and The Open Group. (This is POSIX.1-2008 with the 2013
  Technical Corrigendum 1 applied.) In the event of any discrepancy between this
  version and the original IEEE and The Open Group Standard, the original IEEE
  and The Open Group Standard is the referee document. The original Standard can
  be obtained online at http://www.unix.org/online.html .
<div style="height: 1.00em;">&#x00A0;</div>
Any typographical or formatting errors that appear in this page are most likely
  to have been introduced during the conversion of the source files to man page
  format. To report such errors, see
  https://www.kernel.org/doc/man-pages/reporting_bugs.html .</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</table>
</body>
</html>
