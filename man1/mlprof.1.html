<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>mlprof(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mlprof(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">mlprof(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>mlprof</b> - display profiling information for a MLton-compiled executable
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>mlprof </b><i>[option ...] a.out [mlmon.out ...]</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>mlprof</b> extracts information from an executable compiled by <b>MLton</b>
  with <b>-profile alloc</b> or <b>-profile time</b> and the resulting
  <b>mlmon.out</b> file produced by running the executable.
<div style="height: 1.00em;">&#x00A0;</div>
The output of <b>mlprof</b> consists of an initial line indicating the total
  amount of CPU time or bytes allocated. After this, source functions are listed
  along with the percentage of this total that they used, in decreasing order.
  If the program was compiled with <b>-profile-stack true</b>, <b>mlprof</b>
  will display the time spent or bytes allocated while the function was on the
  stack and in GC in addition to the time or bytes that the function is directly
  responsible for.
<div style="height: 1.00em;">&#x00A0;</div>
With multiple <b>mlmon.out</b> files, <b>mlprof</b> will sum the profiling
  information.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-call-graph </b><i>file</i><b></b></dt>
  <dd class="It-tag">Write a call graph containing the table data to a dot file.
      See the <b>MLton User Guide</b> for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-graph-title </b><i>string</i><b></b></dt>
  <dd class="It-tag">Set the call-graph title.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-gray
    </b><i>{</i><b>false</b><i>|</i><b>true</b><i>}</i> <b></b></dt>
  <dd class="It-tag">Gray call-graph nodes according to stack %. This only makes
      sense if the executable was compiled <b>-profile-stack true</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-keep </b><i>exp</i><b></b></dt>
  <dd class="It-tag">Only show functions specified by <i>exp</i>. For details on
      the allowed expressions, see the <b>MLton User Guide</b>. Multiple
      <b>-keep</b> expressions are not allowed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mlmon </b><i>file</i><b></b></dt>
  <dd class="It-tag">Process the list of whitespace-separated <b>mlmon.out</b>
      files found in the specified file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-raw
    </b><i>{</i><b>false</b><i>|</i><b>true</b><i>}</i><b></b></dt>
  <dd class="It-tag">Show the raw counts in addition to the percentages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-show-line
    </b><i>{</i><b>false</b><i>|</i><b>true</b><i>}</i><b></b></dt>
  <dd class="It-tag">Show the file and line for each function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-split </b><i>regexp</i><b></b></dt>
  <dd class="It-tag">Treat duplicates of functions whose name matches
      <i>regexp</i> as different functions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-thresh </b><i>x</i><b></b></dt>
  <dd class="It-tag">An abbreviation for <b>-keep '(thresh x)'</b>, which only
      prints information about functions whose percentage is greater than or
      equal to <b>x</b>, where 0 &lt;= <b>x</b> &lt;= 100.0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-tolerant
    </b><i>{</i><b>false</b><i>|</i><b>true</b><i>}</i> <b></b></dt>
  <dd class="It-tag">Print a warning about broken <b>mlmon.out</b> files, but do
      not exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>mlton</b>(1) and the <b>MLton Guide</b>.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 15, 2013</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
