<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.distance(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.distance(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.distance(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.distance</b> - Locates the closest points between objects in two
  raster maps.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, distance
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.distance</b>
<div>&#x00A0;</div>
<b>r.distance --help</b>
<div>&#x00A0;</div>
<b>r.distance</b> [-<b>lon</b>]
  <b>map</b>=<i>name1,name2</i>[,<i>name1,name2</i>,...] [
  <b>separator</b>=<i>character</i>] [ <b>sort</b>=<i>string</i>]
  [--<b>help</b>] [-- <b>verbose</b>] [--<b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Include category labels in the output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Report zero distance if rasters are overlapping</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Report null objects as *</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>map</b>=<i>name1,name2[,</i><i>name1,name2</i>,...]
    <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of two input raster maps for computing inter-class distances</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b>=<i>character</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Field separator
    <div>&#x00A0;</div>
    Special characters: pipe, comma, space, tab, newline
    <div>&#x00A0;</div>
    Default: <i>:</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sort</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Sort output by distance
    <div>&#x00A0;</div>
    Default: sorted by categories
    <div>&#x00A0;</div>
    Options: <i>asc, desc</i>
    <div>&#x00A0;</div>
     <b>asc</b>: Sort by distance in ascending order
    <div>&#x00A0;</div>
     <b>desc</b>: Sort by distance in descending order</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.distance</i> locates the closest points between &quot;objects&quot; in two
  raster maps. An &quot;object&quot; is defined as all the grid cells that have
  the same category number, and closest means having the shortest
  &quot;straight-line&quot; distance. The cell centers are considered for the
  distance calculation (two adjacent grid cells have the distance between their
  cell centers).
<div class="Pp"></div>
The output is an ascii list, one line per pair of objects, in the following
  form:
<div>&#x00A0;</div>
<pre>
cat1:cat2:distance:east1:north1:east2:north2
</pre>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cat1</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Category number from map1</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cat2</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Category number from map2</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>distance</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The distance in meters between &quot;cat1&quot; and &quot;cat2&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>east1,north1</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The coordinates of the grid cell &quot;cat1&quot; which is closest to
      &quot;cat2&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>east2,north2</b> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The coordinates of the grid cell &quot;cat2&quot; which is closest to
      &quot;cat1&quot;</dd>
</dl>
<h2 class="Ss" title="Ss" id="Flags"><a class="selflink" href="#Flags">Flags</a></h2>
<b>-l</b> The -l flag outputs the category labels of the matched raster objects
  at the beginning of the line, if they exist.
<div class="Pp"></div>
<b>-o</b> The -o flag reports zero distance if the input rasters are
  overlapping.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The output format lends itself to filtering. For example, to &quot;see&quot;
  lines connecting each of the category pairs in two maps, filter the output
  using awk and then into <i>d.graph</i>:
<div class="Pp"></div>
<pre>
r.distance map=map1,map2 | \
  awk -F: &#x2019;{print &quot;move&quot;,$4,$5,&quot;\ndraw&quot;,$6,$7}&#x2019; | d.graph -m
</pre>
<div class="Pp"></div>
To create a vector map of all the &quot;map1&quot; coordinates, filter the
  output into awk and then into <i>v.in.ascii</i>:
<div class="Pp"></div>
<pre>
r.distance map=map1,map2 | \
  awk -F: &#x2019;{print $4,$5}&#x2019; | v.in.ascii format=point output=name separator=space
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>r.buffer,</i> <i>r.cost,</i> <i>r.drain,</i> <i>r.grow,</i>
  <i>r.grow.distance,</i> <i>v.distance</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Michael Shapiro, U.S. Army Construction Engineering Research Laboratory
<div class="Pp"></div>
<i>Last changed: $Date: 2014-11-28 17:22:17 +0100 (Fri, 28 Nov 2014) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.distance source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
