<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BVI(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BVI(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">BVI(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bvi, bview - visual editor for binary files
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
bvi-1.4.0
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>bvi</b>&#x00A0;&#x00A0;&#x00A0;[<b>-R</b>]&#x00A0;[<b>-c</b>&#x00A0;<i>cmd</i>]&#x00A0;[<b>-f</b>&#x00A0;<i>script</i>]&#x00A0;[<b>-s</b>&#x00A0;<i>skip</i>]&#x00A0;[<b>-e</b>&#x00A0;<i>end</i>]&#x00A0;[<b>-n</b>&#x00A0;<i>length</i>]&#x00A0;<i>file</i>...
  <b>bview</b>&#x00A0;[<b>-R</b>]&#x00A0;[<b>-c</b>&#x00A0;<i>cmd</i>]&#x00A0;[<b>-f</b>&#x00A0;<i>script</i>]&#x00A0;[<b>-s</b>&#x00A0;<i>skip</i>]&#x00A0;[<b>-e</b>&#x00A0;<i>end</i>]&#x00A0;[<b>-n</b>&#x00A0;<i>length</i>]&#x00A0;<i>file</i>...
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>file</i>...</dt>
  <dd class="It-tag">A list of filenames. The first one will be the current file
      and will be read into the buffer. The cursor will be positioned on the
      first line of the buffer. You can get to the other files with the
      &quot;:next&quot; command.
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b></dt>
  <dd class="It-tag">&quot;Readonly&quot;: The readonly flag is set for all the
      files, preventing accidental overwriting with a write command.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>skip</i></dt>
  <dd class="It-tag">causes bvi to load a file not from the start but from
      offset <i>skip</i>. Skip offset bytes from the beginning of the input. By
      default, offset is interpreted as a decimal number. With a leading 0x or
      0X, offset is interpreted as a hexadecimal number, otherwise, with a
      leading 0, offset is interpreted as an octal number. Appending the
      character b, k, or m to offset causes it to be interpreted as a multiple
      of 512, 1024, or 1048576, respectively.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b> <i>end</i></dt>
  <dd class="It-tag">causes bvi to load a file not till end but till address
      <i>end</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b> <i>length</i></dt>
  <dd class="It-tag">causes bvi not to load the complete file but only
      <i>length</i> bytes.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>cmd</i></dt>
  <dd class="It-tag"><i>cmd</i> will be executed after the first file has been
      read. If the <i>cmd</i> contains spaces it must be enclosed in double
      quotes (this depends on the shell that is used).
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <i>script</i></dt>
  <dd class="It-tag">This command provides a means for collecting a series of
      &quot;ex&quot; (colon) commands into a script file, then using this file
      to edit other files. Since there is no binary stream editor
      &quot;bsed&quot;, you can use this option to make several global changes
      in a binary file.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Bvi stands for &quot;Binary VIsual editor&quot;. Bvi is a screen oriented editor
  for binary files; its command set is based on that of the <i>vi</i>(1) text
  editor. As a binary editor does not have the concept of &quot;lines&quot;
  there are differences from Vi commands wherever the latter are line orientate.
<h1 class="Sh" title="Sh" id="COMPARISON"><a class="selflink" href="#COMPARISON">COMPARISON</a></h1>
The main differences between Vi and Bvi are:
<div class="Pp"></div>
The screen is divided in three sections or panes: The byte offset (extreme
  left), the hex pane (middle), and an ascii pane (right) which shows as
  printable characters those bytes in the hex pane. On an 80 column terminal
  there will be sixteen hex values and their ASCII values on each screen line.
  Note that (as one would expect) the first byte has the offset '0' (zero).
<div class="Pp"></div>
You can toggle between the hex and ascii windows with the tab key (TAB).
  Toggling between these two windows does not change the current position
  (offset) within the file.
<div class="Pp"></div>
No &quot;lines&quot; concept: Files are treated as one long stream of bytes. The
  characters &quot;newline&quot; and &quot;carriage return&quot; are not
  special, id est they never mark the end of lines. Therefore the lines on the
  screen do not represent lines in the usual way. Data is broken across screen
  lines arbitarily. As a consequence there are no commands in bvi from ex or vi
  that are based on line numbers, eg &quot;dd&quot;, &quot;yy&quot;, 'C', 'S',
  'o', 'O'. This also changes the meaning of &quot;range&quot; before the
  &quot;:write&quot; command to a byte offset, ie the command &quot;:100,200w
  foo&quot; writes all *bytes* (not lines) from offset 100 to offset 200 to the
  file &quot;foo&quot;.
<div class="Pp"></div>
No &quot;text objects&quot;: There are also no text-specific arrangements like
  words, paragraphs, sentences, sections and so on.
<div class="Pp"></div>
Extended &quot;ruler&quot;: The bottom line of the screen shows the current
  address (byte offset) and the current character in these notations:
<div class="Pp"></div>
<pre>
        octal, hexadecimal, decimal and ascii.
<div class="Pp"></div>
</pre>
Search patterns: All search commands understand these special characters:
<div class="Pp"></div>
<pre>
     .    any character
     []   set of characters
     *    zero or more occurrences of previous char or set
<div class="Pp"></div>
</pre>
But as there is no concept of lines you cannot use the standard symbols
  (&quot;anchors&quot;) for &quot;begin-of-line&quot; ('^') and
  &quot;end-of-line&quot; ('$'). Searching for the start/end of lines must be
  done explicitly by adding these special characters to your search pattern
  using these meta sequences:
<div class="Pp"></div>
<pre>
        \n   newline
        \r   return
        \t   tab
        \0   binary zero
<div class="Pp"></div>
</pre>
Additional search commands: Similar to the text search commands there are
  additional hex-search functions '\' and '#' which allow to search for any byte
  value. Example: &quot;\62 76 69&quot; will search for the string
  &quot;bvi&quot;. Spaces between hex value are optional, so searching for
  &quot;6775636B6573&quot; will find &quot;guckes&quot;.
<div class="Pp"></div>
Changing the length of data (insertion, deletion) moves the data to other
  addresses; this is bad for many cases (eg. databases, program files) and is
  thus disabled by default. You can enable this commands by typing
<div class="Pp"></div>
	:set memmove
<div class="Pp"></div>
<b>BVI Modes:</b>
<div class="Pp"></div>
Command Mode (Normal Mode):
<div class="Pp"></div>
Input is treated as command. Note that command mode is the default mode after
  startup and after escaping from input mode. Use ESC (escape) to cancel a
  partial (uncompleted) command.
<div class="Pp"></div>
Input Mode:
<div class="Pp"></div>
Input is treated as replacement of current characters or (after the end of the
  file) is appended to the current file. This mode is entered from command mode
  by typing one of 'i', 'I', 'A', 'r', or 'R'. You can enter the characters from
  the keyboard (in the ASCII window) or hexadecimal values (in the HEX window).
  Type TAB to switch between these two windows. Type ESC to finish the current
  input and return to command mode. Type CTRL-C to cancel current command
  abnormally.
<div class="Pp"></div>
Command line mode (Last Line Mode or : mode):
<div class="Pp"></div>
Similar to vi, this mode is entered by typing one of the characters : / ? \ # !
  The command is terminated and executed by typing a carriage return; to cancel
  a partially typed command, type ESC to cancel the current command and return
  to command mode.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The editor recognizes the environment variable BVIINIT as a command (or list of
  commands) to run when it starts up. If this variable is undefined, the editor
  checks for startup commands in the file <i>~/.bvirc</i> file, which you must
  own. However, if there is a <i>.bvirc</i> owned by you in the current
  directory, the editor takes its startup commands from this file - overriding
  both the file in your home directory and the environment variable.
<h1 class="Sh" title="Sh" id="TERMINOLOGY"><a class="selflink" href="#TERMINOLOGY">TERMINOLOGY</a></h1>
Characters names are abbreviated as follows:
<br/>
 Abbr. ASCII name aka
<br/>
 CR 010 carriage return
<br/>
 ^A 001 control-a
<br/>
 ^H 008 control-h
<br/>
 ^I 009 control-i aka TAB
<br/>
 ^U 021 control-u
<br/>
 ^Z 026 control-z
<br/>
 ESC 027 escape aka ESC
<br/>
 DEL 127 delete
<br/>
 LEFT --- left arrow
<br/>
 RIGHT --- right arrow
<br/>
 DOWN --- down arrow
<br/>
 UP --- up arrow
<h1 class="Sh" title="Sh" id="COMMAND_SUMMARY"><a class="selflink" href="#COMMAND_SUMMARY">COMMAND
  SUMMARY</a></h1>
See the TERMINOLOGY for a summary on key name abbreviations used within the
  following description of commands.
<div class="Pp"></div>
<b>Abstract:</b>
<br/>
 Arrow keys move the cursor on the screen within the current window.
<div class="Pp"></div>
<b>Sample commands:</b>
<br/>
 :version show version info
<br/>
 &lt;- v ^ -&gt; arrow keys move the cursor
<br/>
 h j k l same as arrow keys
<br/>
 u undo previous change
<br/>
 ZZ exit bvi, saving changes
<br/>
 :q! quit, discarding changes
<br/>
 / <i>text</i> search for <i>text</i>
<br/>
 ^U ^D scroll up or down
<div class="Pp"></div>
<b>Counts before bvi commands:</b>
<br/>
 Numbers may be typed as a prefix to some commands.
<br/>
 They are interpreted in one of these ways.
<div class="Pp"></div>
<pre>
  screen column       &#x23AA;
  byte of file        G
  scroll amount       ^D  ^U
  repeat effect       most of the rest
<div class="Pp"></div>
</pre>
<b>Interrupting, canceling</b>
<br/>
 ESC end insert or incomplete command
<br/>
 DEL (delete or rubout) interrupts
<div class="Pp"></div>
<b>File manipulation:</b>
<br/>
 ZZ if file modified, write and exit;
<br/>
 otherwise, exit
<br/>
 :w write changed buffer to file
<br/>
 :w! write changed buffer to file, overriding
<br/>
 read-only (&quot;forced&quot; write)
<br/>
 :q quit when no changes have been made
<br/>
 :q! quit and discard all changes
<br/>
 :e <i>file</i> edit <i>file</i>
<br/>
 :e! re-read current file, discard all changes
<br/>
 :e # edit the alternate file
<br/>
 :e! # edit the alternate file, discard changes
<br/>
 :w <i>file</i> write current buffer to <i>file</i>
<br/>
 :w! <i>file</i> write current buffer to <i>file</i> overriding
<br/>
 read-only (this &quot;overwrites&quot; the file)
<br/>
 :sh run the command as set with option &quot;shell&quot;,
<br/>
 then return
<br/>
 :! <i>cmd</i> run the command <i>cmd</i> from &quot;shell&quot;, then
<br/>
 return
<br/>
 :n edit next file in the argument list
<br/>
 :f show current filename, modified flag,
<br/>
 current byte offset, and percentage of
<br/>
 current position within buffer
<br/>
 ^G same as :f
<div class="Pp"></div>
<b>Additional edit commands</b>
<br/>
 You can insert/append/change bytes in ASCII/binary/decimal/ hexadecimal or
  octal representation. You can enter several (screen) lines of input. A line
  with only a period (.) in it will terminate the command. You must not type in
  values greater than a byte value. This causes an abandonment of the command.
  Pressing the CR key does not insert a newline - character into the file. If
  you use ASCII mode you can use the special characters \n, \r, \t and \0.
<div class="Pp"></div>
<pre>
  :i aCR      insert bytes (ASCII) at cursor position
  :a bCR      append bytes (Binary) at end of file
  :c hCR      change bytes (hexadecimal) at cursor position
<div class="Pp"></div>
</pre>
<b>Bit-level operations</b>
<br/>
 :and <i>n</i> bitwise 'and' operation with value <i>n</i>
<br/>
 :or <i>n</i> bitwise 'or' operation with value <i>n</i>
<br/>
 :xor <i>n</i> bitwise 'xor' operation with value <i>n</i>
<br/>
 :neg two's complement
<br/>
 :not logical negation
<br/>
 :sl <i>i</i> shift each byte <i>i</i> bits to the left
<br/>
 :sr <i>i</i> shift each byte <i>i</i> bits to the right
<br/>
 :rl <i>i</i> rotate each byte <i>i</i> bits to the left
<br/>
 :rr <i>i</i> rotate each byte <i>i</i> bits to the right
<div class="Pp"></div>
<b>Command mode addresses</b>
<br/>
 :w foo write current buffer to a file
<br/>
 named &quot;foo&quot;
<br/>
 :5,10w foo copy byte 5 through 100 into as
<br/>
 file named foo
<br/>
 :.,.+20w foo copy the current byte and the next
<br/>
 20 bytes to foo
<br/>
 :^,'aw foo write all bytes from the beginning
<br/>
 through marker 'a'
<br/>
 :/ <i>pat</i>/,$ foo search pattern <i>pat</i> and and copy
<br/>
 through end of file
<div class="Pp"></div>
<b>Positioning within file:</b>
<br/>
 ^B backward screen
<br/>
 ^F forward screen
<br/>
 ^D scroll down half screen
<br/>
 ^U scroll up half screen
<br/>
 <i>n</i>G go to the specified character
<br/>
 (end default), where <i>n</i> is a decimal address
<br/>
 / <i>pat</i> next line matching <i>pat</i>
<br/>
 ? <i>pat</i> previous line matching <i>pat</i>
<br/>
 \ <i>hex</i> jump to next occurrence of hex string <i>hex</i>
<br/>
 # <i>hex</i> jump to previous occurrence of hex string <i>hex</i>
<br/>
 n repeat last search command
<br/>
 N repeat last search command, but in opposite
<br/>
 direction
<div class="Pp"></div>
<b>Adjusting the screen:</b>
<br/>
 ^L clear and redraw screen
<br/>
 zCR redraw screen with current line at top of screen
<br/>
 z- redraw screen with current line at bottom of
<br/>
 screen
<br/>
 z. redraw screen with current line at center of
<br/>
 screen
<br/>
 / <i>pat</i>/z- search for pattern <i>pat</i> and then move currents
<br/>
 line to bottom
<br/>
 ^E scroll screen down 1 line
<br/>
 ^Y scroll screen up 1 line
<div class="Pp"></div>
<b>Marking and returning:</b>
<br/>
 m <i>x</i> mark current position with lower-case letter <i>x</i>
<br/>
 Note: this command works for all lower-case letters
<br/>
 ' <i>x</i> move cursor to mark <i>x</i> in ASCII section
<br/>
 ` <i>x</i> move cursor to mark <i>x</i> in HEX section
<br/>
 '' move cursor to previous context in ASCII section
<br/>
 `` move cursor to previous context in HEX section
<div style="height: 1.00em;">&#x00A0;</div>
<b>Line positioning:</b>
<br/>
 H jump to first line on screen (&quot;top&quot;)
<br/>
 L jump to last line on screen (&quot;low&quot;)
<br/>
 M jump to middle line on screen (&quot;middle&quot;)
<br/>
 - jump onto previous line on screen
<br/>
 + jump onto next line on screen
<br/>
 CR same as +
<br/>
 DOWN or j next line, same column
<br/>
 UP or k previous line, same column
<div class="Pp"></div>
<b>Character positioning:</b>
<br/>
 ^ first byte in HEX window
<br/>
 $ end of screen line
<br/>
 l or RIGHT jump onto next byte (within current
<br/>
 screen line)
<br/>
 h or LEFT jump onto previous byte (within current
<br/>
 screen line)
<br/>
 ^H same as LEFT
<br/>
 space same as RIGHT
<br/>
 f <i>x</i> find next occurrence of character <i>x</i>
<br/>
 F <i>x</i> find previous occurrence of character <i>x</i>
<br/>
 <i>n</i>&#x23AA; jump onto <i>n</i>th byte/character within current
<br/>
 line
<div class="Pp"></div>
<b>Strings:</b>
<br/>
 (works similar to the <i>strings</i>(1) command)
<br/>
 Note: &quot;Words&quot; are defined as strings of &quot;nonprinting
<br/>
 characters&quot;.
<br/>
 e jump to next end of word
<br/>
 w jump to next begin of word
<br/>
 b jump to previous begin of word
<br/>
 W forward to next string delimited with a
<br/>
 \0 or \n
<br/>
 B back to previous string delimited with a
<br/>
 nonprinting char
<div class="Pp"></div>
<b>Corrections during insert:</b>
<br/>
 ^H erase last character (backspace)
<br/>
 erase your erase character, same as ^H (backspace)
<br/>
 ESC ends insertion, back to command mode
<div class="Pp"></div>
<b>Append and replace:</b>
<br/>
 A append at end of file
<br/>
 rx replace current bte with char 'x'
<br/>
 R enter replace mode; for all subsequent input,
<br/>
 the current byte is overwritten with the next 		 input character; leave replace
  mode with ESC.
<div class="Pp"></div>
<b>Miscellaneous Operations:</b>
<br/>
 TAB toggle between ASCII and HEX section
<div class="Pp"></div>
<b>Yank and Put:</b>
<br/>
 3ySPACE yank 3 characters
<br/>
 p insert contents of yank buffer
<br/>
 o replace text with content of yank buffer
<br/>
 P put back at end of file
<div class="Pp"></div>
<b>Undo, Redo:</b>
<br/>
 u undo last change
<br/>
 Note: Only the last change can be undone.
<br/>
 Therefore this commands toggles between the
<br/>
 last and second-t-last state of the buffer.
<div class="Pp"></div>
<b>Setting Options:</b>
<br/>
 With the :set command you can set options in bvi
<div class="Pp"></div>
<pre>
  Option     Default  Description
<div class="Pp"></div>
</pre>
<pre>
  autowrite  noaw     Save current file, if modified, if you
                      give a :n, :r or ! command
  columns    cm=16    on an 80 character wide terminal
  ignorecase noic     Ignores letter case in searching
  magic      nomagic  Makes . [ * special in patterns
  memmove    nomm     enables insert and delete commands 
  offset     of=0     adds an offset to the diplayed addresses
  readonly   noro     If set, write fails unless you use ! after command
  scroll     sc=1/2 window
                      Number of lines scrolled by ^U and ^D
  showmode   mo       Displays statusline on bottom of the screen
  terse      noterse  Let you obtain shorter error messages
  window     window=screensize
                      Lines in window, can be reduced at slow terminals
  wordlength wl=4     Length of an ASCII-string found by w, W, b or B
  wrapscan   ws       Searches wrap around past the end of the file
  unixstyle  nous     The representation of ascii characters below
                      32 is displayed in the statusline as shown
                      in ascii(7) if unset rather in DOS-style (^A)
<div class="Pp"></div>
</pre>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
bvi was developed by Gerhard Buergmann, Vienna, Austria
  <i>Gerhard.Buergmann@puon.at</i>
<h1 class="Sh" title="Sh" id="WWW"><a class="selflink" href="#WWW">WWW</a></h1>
Bvi&#x00A0;Homepage:&#x00A0;&#x00A0;http://bvi.sourceforge.net/
  Vi&#x00A0;Pages:&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;http://www.guckes.net/vi/clones.php3
  &#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;(all&#x00A0;about&#x00A0;Vi&#x00A0;and&#x00A0;its&#x00A0;clones)
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>&#x00A0;$HOME/.bvirc</i>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;editor&#x00A0;startup&#x00A0;file
  <i>&#x00A0;./.bvirc</i>&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;editor&#x00A0;startup&#x00A0;file
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Bvi does not update the screen when the terminal changes its size.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>vi</i>(1), <i>strings</i>(1), <i>ascii</i>(5)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">BVI Version 1.4.0</td>
    <td class="foot-os">3rd Berkeley Distribution</td>
  </tr>
</table>
</body>
</html>
