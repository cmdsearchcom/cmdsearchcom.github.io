<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.his(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.his(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.his(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.his</b> - Generates red, green and blue (RGB) raster map layers
  combining hue, intensity and saturation (HIS) values from user-specified input
  raster map layers.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, color transformation, RGB, HIS, IHS
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.his</b>
<div>&#x00A0;</div>
<b>r.his --help</b>
<div>&#x00A0;</div>
<b>r.his</b> [-<b>c</b>] <b>hue</b>=<i>string</i>
  [<b>intensity</b>=<i>string</i>] [ <b>saturation</b>=<i>string</i>]
  <b>red</b>= <i>string</i> <b>green</b>=<i>string</i> <b>blue</b>=<i>string</i>
  [ <b>bgcolor</b>=<i>name</i>] [--<b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use colors from color tables for NULL values</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hue</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of layer to be used for hue</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>intensity</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of layer to be used for intensity</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>saturation</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of layer to be used for saturation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>red</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of output layer to be used for red</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>green</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of output layer to be used for green</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blue</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of output layer to be used for blue</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>bgcolor</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Color to use instead of NULL values
    <div>&#x00A0;</div>
    Either a standard color name, R:G:B triplet, or &quot;none&quot;</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>HIS</i> stands for hue, intensity, and saturation. This program produces red,
  green and blue raster map layers providing a visually pleasing combination of
  hue, intensity, and saturation values from two or three user-specified raster
  map layers.
<div class="Pp"></div>
The human brain automatically interprets the vast amount of visual information
  available according to basic rules. Color, or <i>hue</i>, is used to
  categorize objects. Shading, or <i>intensity</i>, is interpreted as
  three-dimensional texturing. Finally, the degree of haziness, or
  <i>saturation</i>, is associated with distance or depth. This program allows
  data from up to three raster map layers to be combined into a color image (in
  the form of separate red, green and blue raster map layers) which retains the
  original information in terms of <i>hue</i>, <i>intensity</i>, and
  <i>saturation</i>.
<div class="Pp"></div>
While any raster map layer can be used to represent the hue information, map
  layers with a few very distinct colors work best. Only raster map layers
  representing continuously varying data like elevation, aspect, weights,
  intensities, or amounts can suitably be used to provide intensity and
  saturation information.
<div class="Pp"></div>
For example, a visually pleasing image can be made by using a watershed map for
  the <i>hue</i> factor, an aspect map for the <i>intensity</i> factor, and an
  elevation map for <i>saturation</i>. (The user may wish to leave out the
  elevation information for a first try.) Ideally, the resulting image should
  resemble the view from an aircraft looking at a terrain on a sunny day with a
  bit of haze in the valleys.
<h2 class="Ss" title="Ss" id="The_Process"><a class="selflink" href="#The_Process">The
  Process</a></h2>
Each map cell is processed individually. First, the working color is set to the
  color of the corresponding cell in the map layer chosen to represent
  <i>hue</i>. Second, this color is multiplied by the <i>red</i> intensity of
  that cell in the <i>intensity</i> map layer. This map layer should have an
  appropriate gray-scale color table associated with it. You can ensure this by
  using the color manipulation capabilities of <i>r.colors</i>. Finally, the
  color is made somewhat gray-based on the <i>red</i> intensity of that cell in
  the <i>saturation</i> map layer. Again, this map layer should have a
  gray-scale color table associated with it.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The name is misleading. The actual conversion used is
<div>&#x00A0;</div>
<pre>
  H.i.s + G.(1-s)
where
  H   is the R,G,B color from the hue map
  i   is the red value from the intensity map
  s   is the red value from the saturation map
  G   is 50% gray (R = G = B = 0.5)
</pre>
<div class="Pp"></div>
Either (but not both) of the intensity or the saturation map layers may be
  omitted. This means that it is possible to produce output images that
  represent combinations of <i>his, hi,</i> or <i>hs</i>. The separate
  <i>red</i>, <i>green</i> and <i>blue</i> maps can be displayed on the graphics
  monitor using <i>d.rgb</i>, or combined into a composite RGB layer using
  <i>r.composite</i>. Users wishing to simply display an <i>his</i> composite
  image without actually generating any layers should use the program
  <i>d.his</i>.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Recreate the following example for <i>d.his</i> using <i>r.his</i>. First,
  create shaded relief and show it.
<div>&#x00A0;</div>
<pre>
g.region raster=elevation
r.relief input=elevation output=elevation_shaded_relief
d.mon wx0
d.his hue=elevation intensity=elevation_shaded_relief brighten=50
</pre>
Second, compute lighter version of color of shaded relief. Then convert from HIS
  model to RGB and show the result.
<div>&#x00A0;</div>
<pre>
r.mapcalc &quot;elevation_shaded_relief_bright_50 = #elevation_shaded_relief * 1.5&quot;
r.colors elevation_shaded_relief_bright_50 color=grey255
r.his hue=elevation intensity=elevation_shaded_relief_bright_50 \
      red=shadedmap_r green=shadedmap_g blue=shadedmap_b
d.mon wx1
d.rgb red=shadedmap_r green=shadedmap_g blue=shadedmap_b
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>d.his,</i> <i>d.colortable,</i> <i>d.rgb,</i> <i>r.blend,</i>
  <i>r.colors,</i> <i>r.composite,</i> <i>r.mapcalc,</i> <i>r.shade,</i>
  <i>i.his.rgb,</i> <i>i.rgb.his</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Glynn Clements (based upon <i>d.his</i>)
<div class="Pp"></div>
<i>Last changed: $Date: 2016-01-28 12:21:34 +0100 (Thu, 28 Jan 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.his source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
