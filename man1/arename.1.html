<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>arename(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">arename(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">arename(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
arename - automatically rename audio files by tagging information
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
arename [OPTION(s)] FILE(s)...
<h1 class="Sh" title="Sh" id="OPTIONS_AND_ARGUMENTS"><a class="selflink" href="#OPTIONS_AND_ARGUMENTS">OPTIONS
  AND ARGUMENTS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ambiguous-use-first</b></dt>
  <dd class="It-tag">Sets the <i>ambiguoususefirst</i> option. See below for
      details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--compare-versions</b></dt>
  <dd class="It-tag">Prints the version of the arename script and the version of
      the Perl module, that contains most of the code. These versions should be
      the same. If not, that would indicate a possibly broken installation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--copy</b> (short option: <b>-c</b>)</dt>
  <dd class="It-tag">Copy files instead of renaming (moving). This can be useful
      to copy tracks from your audio archive to a portable device for
    example.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Enable debugging output. This actually sets
      `<i>verbosity</i>' to 10000. This output option will cause very noisy
      output. You probably want something less verbose, like ` <i>--verbosity
      20</i>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-hooks</b> (short option: <b>-H</b>)</dt>
  <dd class="It-tag">Do not make use of hooks of any sort (neither global nor
      local ones).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-profiles</b> (short option: <b>-N</b>)</dt>
  <dd class="It-tag">Do <i>not</i> use configuration profiles (see below).
      Overwrites the <b>useprofiles</b> setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dryrun</b> (short option: <b>-d</b>)</dt>
  <dd class="It-tag">Go into dryrun mode. This means, that no action will be
      taken. <b>arename</b> will print what it would do, if called without
      <i>-d</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-hooks</b></dt>
  <dd class="It-tag">Explicitly enable hooks.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force</b> (short option: <b>-f</b>)</dt>
  <dd class="It-tag">Overwrite files if needed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b> (short option: <b>-h</b>)</dt>
  <dd class="It-tag">Display a short help text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-cfg</b> (short option: <b>-L</b>)</dt>
  <dd class="It-tag">List the current configuration in the actual configuration
      format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-file-types</b></dt>
  <dd class="It-tag">Lists all file types currently supported by <b>arename</b>,
      one type per line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-exts-for-type</b> &lt;type[,type[,...]]&gt;</dt>
  <dd class="It-tag">Lists all extensions recognised file name extsionsion for
      type <b>&lt;type&gt;</b>, one extension per line. If a list of types is
      given as a comma-separated list, extensions for all listed types are
      listed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-profiles</b> (short option: <b>-S</b>)</dt>
  <dd class="It-tag">Print a list of profile names defined in the active
      configuration. (This is primarily used by the zsh completion for the
      <i>--profile</i> option.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--read-local</b> (short option: <b>-l</b>)</dt>
  <dd class="It-tag">Read a local config file (./.arename.local). Overwrites the
      <b>uselocalrc</b> configuration setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--stdin</b> (short option: <b>-s</b>)</dt>
  <dd class="It-tag">Read filenames from stdin after processing files given on
      the command line. It reads one file name per line, which means that file
      names containing newlines are not supported.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b> (short option: <b>-V</b>)</dt>
  <dd class="It-tag">Display version information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbosity</b> &lt;integer-value&gt;</dt>
  <dd class="It-tag">Sets the `<i>verbosity</i>' setting to
      `<i>integer-value</i>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--suppress-skips</b> (short option: <b>-Q</b>)</dt>
  <dd class="It-tag">When a file is skipped, because its name would not change,
      this option will cause <b>arename</b> to suppress any output. This sets
      the `suppress_skips' option.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that if the ` <i>verbosity</i>' setting is at a high enough level, you
      may still get messages about the file being processed in the first
    place.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rc</b> &lt;file&gt;</dt>
  <dd class="It-tag">Read <i>file</i> instead of ~/.arenamerc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--post-rc</b> &lt;file&gt;</dt>
  <dd class="It-tag">Read <i>file</i> <b>after</b> ~/.arenamerc and
      <b>before</b> ./.arename.local.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prefix</b> &lt;prefix&gt; (short option:
    <b>-p</b>)</dt>
  <dd class="It-tag">Define a prefix for destination files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--profile</b> &lt;profile(s),...&gt; (short option:
    <b>-P</b>)</dt>
  <dd class="It-tag">Define a list of one or more profiles to use forcibly, no
      matter if they would be activated normally or not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--compilation-template</b> &lt;template&gt; (short
    option: <b>-T</b>)</dt>
  <dd class="It-tag">Define a template, that will be used for files that contain
      a compilation tag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--template</b> &lt;template&gt; (short option:
    <b>-t</b>)</dt>
  <dd class="It-tag">Define a generic template (for all files that do <i>not</i>
      contain a compilation tag).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--userset</b> &lt;<i>variable</i>=<i>value</i>&gt;
    (short option: <b>-u</b>)</dt>
  <dd class="It-tag">Set a user defined variable to a given value (see
      &quot;User defined variables&quot; below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>FILE(s)...</i></dt>
  <dd class="It-tag">Input files, that are subject for renaming.</dd>
</dl>
<div class="Pp"></div>
A word about option name stability: With <i>arename version 3.0</i> we are now
  using Getopt::Long for parsing command lines options. That change was made,
  because the meaningful single letter options where used up. Every option is
  available via a <i>--long-option</i>. <b>That interface will remain
  stable</b>. If changes to the <i>--long-option</i> interface are done, that
  will happen with an appropriate deprecation phase, so users can adjust. So, if
  you want to use <b>arename</b> in scripts, those are the options you should
  use. There are currently no plans of removing or changing any further short
  options, but there are no guarantees. If it is indeed better to change a short
  option, we will do so.
<div class="Pp"></div>
A list of options that changed from <b>arename</b> <i>3.x</i> to <i>4.0</i> can
  be found in the project's CHANGES file and general advice about incompatible
  changes from major version to major version are documented in the UPGRADING
  file.
<h2 class="Ss" title="Ss" id="Deprecated_Command_Line_Options"><a class="selflink" href="#Deprecated_Command_Line_Options">Deprecated
  Command Line Options</a></h2>
The following options are deprecated and will be removed in a later version of
  <b>arename</b>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">This option is a short hand for &quot;--verbosity
    10&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--uber-quiet</b></dt>
  <dd class="It-tag">This option is a short hand for &quot;--verbosity
    5&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">This is a short hand for &quot;--verbosity 20&quot;.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>arename</b> is a tool that is able to rename audio files by looking at a
  file's tagging information. It uses this information to assemble a consistent
  destination file name. The user can define the format of the destination
  filename by the use of template strings.
<div class="Pp"></div>
Templates can be defined in the &quot;Configuration files&quot;, by the
  <i>template</i> and <i>comp_template</i> settings (See &quot;SETTINGS&quot;
  below).
<div class="Pp"></div>
By default, <b>arename</b> will refuse to overwrite destination files, if the
  file in question already exists. You can force overwriting by supplying the
  <b>--force</b> option.
<div class="Pp"></div>
In order to see what would happen instead of actually modifying files, you can
  use the <b>--dryrun</b> option. This way you can avoid problems, that would
  occur if the situation (e.g. the information in the files or your
  configuration) is not exactly as you expected it.
<h2 class="Ss" title="Ss" id="Supported_file_formats"><a class="selflink" href="#Supported_file_formats">Supported
  file formats</a></h2>
Since version 4.0, <b>arename</b> supports a lot more file formats than it used
  to (version 3.0 only supported <i>.mp3</i>, <i>.ogg</i> and <i>.flac</i>
  files). Thanks to Audio::Scan, we now support a much wider range of file
  types, of which most may exist using different file name extensions (e.g.
  <i>*.ogg</i> and <i>*.oga</i> are both of the type <i>ogg</i>).
<div class="Pp"></div>
You may use the ` <i>--list-file-types</i>' and `<i>--list-ext-for-type</i>'
  options to find out which file type is mapped to which file name extensions.
<div class="Pp"></div>
If you would like support for another file type in <b>arename</b>, you will have
  to persuade the Audio::Scan developers to extend their module with said
  feature. Adding support for it in <b>arename</b> after that should be trivial.
<div class="Pp"></div>
To give you an idea, arename (in connection with Audio::Scan <b>0.85</b>) let's
  you rename <i>mp3</i>, <i>mp4</i>, <i>aac</i>, <i>ogg</i>, <i>flac</i>,
  <i>asf</i>, <i>musepack</i>, <i>monkey audio</i>, <i>wav</i> (this type also
  supports <i>aiff</i>) and <i>wavpack</i> files.
<h2 class="Ss" title="Ss" id="Inputting_a_*lot*_of_files"><a class="selflink" href="#Inputting_a_*lot*_of_files">Inputting
  a *lot* of files</a></h2>
<b>arename</b> can be used to keep the file names of whole audio archives in
  sync. However, that means that you will have to tell the script the location
  of many files, thousands maybe.
<div class="Pp"></div>
In order to do that you will face the problem, that on most UNIX-like systems,
  the length of the argument list for external programs is limited (recent Linux
  versions, as an exception, do not have that limitation anymore).
<div class="Pp"></div>
So, even if your shell can do recursive globbing like ksh or zsh, this will most
  likely get you into trouble (for more than just a few files):
<div class="Pp"></div>
<pre>
  % arename -d **/*.mp3
</pre>
<div class="Pp"></div>
There are several ways to overcome that limitation, of course.
<div class="Pp"></div>
The first solution is to use <b>find</b> in connection with <b>arename</b>'s
  <i>-s</i> option:
<div class="Pp"></div>
<pre>
  % find . -name &quot;*.mp3&quot; -print | arename -d -s
</pre>
<div class="Pp"></div>
This will break for file names that contain newlines, because <i>--stdin</i>
  will read one file name per line from the standard input stream.
<div class="Pp"></div>
Another way of using <b>find</b> to deal with this problem is to use find's
  <i>-exec</i> option:
<div class="Pp"></div>
<pre>
  % find . -name &quot;*.mp3&quot; -exec arename -d '{}' '+'
</pre>
<div class="Pp"></div>
This will work for every possible file name. No matter if it has spaces or
  newlines in it. The <i>+</i> at the end of the call causes find to call the
  external program ( <b>arename</b> in this case) with as many arguments as
  possible, without exceeding the limit. This requires a POSIXly correct find.
  GNU find for instance, did not support the <i>+</i> way for a long time. If
  you are stuck with an old version, you can exchange the <i>+</i> with a
  <i>;</i> (note, that a semicolon <b>must</b> be quoted in any case), or use
  the xargs tool instead.
<div class="Pp"></div>
A last solution for zsh users would be zargs (which requires 'autoload zargs' in
  your zsh configuration):
<div class="Pp"></div>
<pre>
  % zargs -- **/*.mp3 -- arename -d
</pre>
<h1 class="Sh" title="Sh" id="GENERAL_USAGE"><a class="selflink" href="#GENERAL_USAGE">GENERAL
  USAGE</a></h1>
When you are first confronted with <b>arename</b> and you try to get started
  with the documentation you might argue, that a 1000+ lines manual, that is not
  filled with too many examples is hardly starter-friendly.
<div class="Pp"></div>
Therefore, this section was introduced to give you the bare minimum of
  information in order to use the program without going through too much fuzz.
<div class="Pp"></div>
If you are really afraid of documentation, you could of course just read the
  output of the <i>--help</i> option and see which options to provide in order
  to get what you want. Then again, you will soon be pissed by the weird default
  values <b>arename</b> uses.
<div class="Pp"></div>
You will probably want other templates. After all, the ability to have these
  expanded strings is one of the points to use <b>arename</b> in the first
  place. They are described in the TEMPLATE section; and reading that section is
  the minimum effort you will want to go through.
<div class="Pp"></div>
After that, you can open the file <i>~/.arenamerc</i> in your favourite text
  editor and resemble the following text (and presumably change the few values
  in there to your liking):
<div class="Pp"></div>
<pre>
  # now you certainly want your own templates, so define them here
  # one for your normal files
  template &amp;artist - &amp;album - &amp;tracknumber. &amp;tracktitle
  # and another one for files that orignate from compilations
  comp_template va - &amp;album - &amp;tracknumber. &amp;artist - &amp;tracktitle
</pre>
<div class="Pp"></div>
If you want more automation or more customization, you will not get around
  reading the manual below. If you need to solve special problems, the
  &quot;HOOKS&quot; part even further below is for you.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ARENAME_LOAD_QUIET</b></dt>
  <dd class="It-tag">When set to <i>1</i>, <b>arename</b> will not output any
      startup messages; not while reading the configuration or hook files, nor
      will <b>arename</b> emit messages about whether it is in copy mode or on a
      dry-run or similar.
    <div style="height: 1.00em;">&#x00A0;</div>
    However, if warnings or errors are encoutered while loading the
      configuration, those messages are still emitted, of course.
    <div style="height: 1.00em;">&#x00A0;</div>
    Any other value but <i>1</i> - and that includes ARENAME_LOAD_QUIET being
      absent from the environment - will cause <b>arename</b> to start up in its
      normal manner.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ARENAME_SUPPRESS_COLOURS</b></dt>
  <dd class="It-tag">When set to <i>1</i> (and only 1 - <b>arename</b> will
      ignore any other setting), arename will turn off its output colourations.
      As of version 4.0, <b>arename</b> uses Term::ANSIColor to produce output,
      that features terminal colours.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>arename</b>'s behaviour can be altered by a number of files it reads when
  starting up.
<div class="Pp"></div>
Normal configuration tasks are done in (how convenient) &quot;Configuration
  files&quot;, described below.
<div class="Pp"></div>
If you need more control, or want to solve special problems you are having, you
  can do so by supplying Perl code in &quot;Hook definition files&quot;.
<div class="Pp"></div>
<b>arename</b> can be configured to read configuration files as well as hook
  definition files from the current working directory. This feature is disabled
  by default, because they can be a security issue on multiuser systems.
<div class="Pp"></div>
There are no such things as system wide configuration files in <b>arename</b>.
<div class="Pp"></div>
For all setup files <b>arename</b> tries to find (except for the local ones)
  four different locations are tried. If the
  <i></i><i>$XDG_CONFIG_HOME</i><i>/arename</i> directory exists, <b>all</b>
  files are expected to be there. If that directory does not exist,
  <i>~/etc/arename/</i> and if that is not there <i>~/.arename</i> are are tried
  instead. If those directories could not be found either, <b>arename</b> will
  try to find the file it is looking for directly in the user's home directory.
<div class="Pp"></div>
The default for <i></i><i>$XDG_CONFIG_HOME</i><i></i> is <i>~/.config</i>.
<div class="Pp"></div>
The first setup directory we find always wins. <b>arename</b> does not consider
  more than one setup directory.
<div class="Pp"></div>
If, for example, <i>~/etc/arename/</i> exists and we are looking for the normal
  configuration file (see below), but <i>~/etc/arename/rc</i> could not be
  found, we do <b>not</b> try to find it in <i>~/.arename/</i> or the user's
  home directory.
<h2 class="Ss" title="Ss" id="Configuration_files"><a class="selflink" href="#Configuration_files">Configuration
  files</a></h2>
<b>arename</b> uses up to three configuration files. As for most programs, the
  script will try to read a configuration file, that is located in the user's
  <i>home directory</i>. In addition to that, it will try to load <i>local</i>
  configuration files, if it finds appropriately named files in the <i>current
  directory</i> (and the <i>uselocalrc</i> feature is enabled):
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$XDG_CONFIG_HOME</b><b>/arename/rc</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/etc/arename/rc</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename/rc</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arenamerc</b></dt>
  <dd class="It-tag">per-user normal configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>./.arename.local</b></dt>
  <dd class="It-tag">per-directory local configuration file (only read if
      <i>uselocalrc</i> is set or the <i>--read-local</i> option is given on the
      command line).</dd>
</dl>
<div class="Pp"></div>
The per-user normal configuration file can be substituted by another file, if
  specified via the <i>--rc</i> option.
<div class="Pp"></div>
Last but not least, you can specify an intermediate configuration file, that is
  read in between the normal and the per-directory file, via the
  <i>--post-rc</i> option.
<div class="Pp"></div>
<i>File format</i>
<div class="Pp"></div>
The format of the aforementioned files is pretty simple. It is parsed line by
  line. Empty lines, lines only containing whitespace and lines, whose first non
  whitespace character is a hash character ( <i>#</i>) are ignored.
<div class="Pp"></div>
There are two different types of settings: boolean and scalar settings.
<div class="Pp"></div>
Booleans can be set like this:
<div class="Pp"></div>
<pre>
  &lt;setting&gt; [true|false]
</pre>
<div class="Pp"></div>
If the value is omitted, <i>true</i> is assumed. <i>true</i> and <i>false</i>
  are recognized case insensitively, and a value of <i>1</i> is synonymous to
  <i>true</i>, as is <i>0</i> to <i>false</i>.
<div class="Pp"></div>
Scalar settings are done in a very similar way:
<div class="Pp"></div>
<pre>
  &lt;setting&gt; &lt;value&gt;
</pre>
<div class="Pp"></div>
If the value is omitted, string values will be set to an empty string and
  numeric values will be set to zero.
<div class="Pp"></div>
In both cases, setting and value are separated by one or more whitespace
  characters. The value will be the rest of the line (all of it, including
  trailing whitespace).
<div class="Pp"></div>
If the value part starts with a backslash, that backslash is left out of the
  value. That makes it possible to define templates with leading whitespace.
<div class="Pp"></div>
If a line contains only a string within square brackets, that string is the
  start of a section. Section names are matches for starts of file names. That
  means, the settings following such a section definition will only applied for
  input file names that start with the same string as the section name. Where
  file name means the string, handed over to <b>arename</b>. The string
  <i>~/</i> at the beginning of a section name is expanded to the user's home
  directory.
<div class="Pp"></div>
You may start as many sections as you would like.
<div class="Pp"></div>
A section named <i>/foo/bar/</i> supersedes a section named <i>/foo/</i> for a
  file named <i>/foo/bar/baz.ogg</i>. So, the longest match wins.
<div class="Pp"></div>
Another possible configuration file entry is a user variable, which is defined
  via the <b>set</b> command. These settings are very different from the normal
  settings. Therefore, they are defined in a different way. That way is
  described in the &quot;User defined variables&quot; subsection below.
<div class="Pp"></div>
Last but not least, you may define so called profiles, see below.
<div class="Pp"></div>
<i>Configuration profiles</i>
<div class="Pp"></div>
Profiles are a very flexible and context sensitive way of using multiple
  configuration files at once. With profiles, local configuration files (and
  local hook definition files) can be substituted in a secure way; even on
  multi-user systems.
<div class="Pp"></div>
Reading local files (configs and hook-files) is still supported for backwards
  compatibility (see <i>uselocalrc</i> and <i>uselocalhooks</i> options).
  However, you are strongly encouraged to use profiles whenever you can.
<div class="Pp"></div>
As normal configuration files and global hook-files, profile-related files are
  searched in one of the setup directories described above. They are using the
  following naming conventions:
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$XDG_CONFIG_HOME</b><b>/arename/profile.PROFILENAME</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/etc/arename/profile.PROFILENAME</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename/profile.PROFILENAME</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename.PROFILENAME</b></dt>
  <dd class="It-tag">Profile related configuration files; read if
      <i>PROFILENAME</i> is active.
    <div style="height: 1.00em;">&#x00A0;</div>
    They are read after a intermediate config file defined by <i>--post-rc</i>
      and a local config file (if enabled).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$XDG_CONFIG_HOME</b><b>/arename/profile.PROFILENAME.hooks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/etc/arename/profile.PROFILENAME.hooks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename/profile.PROFILENAME.hooks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename.PROFILENAME.hooks</b></dt>
  <dd class="It-tag">Profile related &quot;Hook definition files&quot; (see
      below for details); read if <i>PROFILENAME</i> is active.
    <div style="height: 1.00em;">&#x00A0;</div>
    These files are read, between global and local hook-definition files.</dd>
</dl>
<div class="Pp"></div>
In order to define profiles, you need to use the <i>profile</i> keyword:
<div class="Pp"></div>
<pre>
  profile &lt;name&gt; &lt;pattern&gt;
</pre>
<div class="Pp"></div>
Where <i>name</i> is a string, that is used in the place of <b>PROFILENAME</b>
  in the file location lists above. This name may contain of the following
  character range: <b>a-zA-Z0-9_-</b>
<div class="Pp"></div>
<i>pattern</i> is part of a Perl regex pattern (see <i>perlreref</i> and
  <i>perlretut</i> manpages). The pattern will be anchored at the beginning and
  is open at the end, somewhat like this pseudocode:
<div class="Pp"></div>
<pre>
  if ($working_directory =~ m/^PATTERN/) { use_this_profile(); }
</pre>
<div class="Pp"></div>
Example:
<div class="Pp"></div>
<pre>
  profile music /mnt/audio/music/
</pre>
<div class="Pp"></div>
Will cause the profile <i>music</i> to be active when the working directory is
  <i>/mnt/audio/music/</i> or below. So, do not be afraid. You can use profiles
  without understanding regular expressions.
<div class="Pp"></div>
Like many other values in <b>arename</b>'s configuration, a leading backslash of
  a pattern will be ignored to allow patterns, that start in white spaces.
  Furthermore, if a pattern starts in <i>~/</i>, that string is replaced by the
  user's home directory.
<div class="Pp"></div>
You may add as many patterns to a profile name, as you want:
<div class="Pp"></div>
<pre>
  profile music /mnt/audio/music/
  profile music /mnt/extern/audio/music/
</pre>
<div class="Pp"></div>
The above activates the <i>music</i> profile in <i>/mnt/audio/music/</i> and
  <i>/mnt/extern/audio/music/</i>, for example.
<div class="Pp"></div>
More than one profile can be activated at the same time. If that is true, the
  according configuration files are read in lexical order.
<div class="Pp"></div>
<i>Sections versus Profiles</i>
<div class="Pp"></div>
Since <b>arename</b> provides two context sensitive configuration facilities,
  you might ask yourself when to use which, when you are confronted with both
  for the first time.
<div class="Pp"></div>
First of all, <i>profiles</i> are more powerful. They may even introduce new
  hooks for <b>arename</b> to use. But that is not the conceptual difference
  between the two.
<div class="Pp"></div>
<i>sections</i> are sets of configuration settings, that are considered for
  <b>each and every</b> input file and they are <b>only</b> enabled for input
  files, whose name matches the section name.
<div class="Pp"></div>
<i>profiles</i> on the other hand are sets of configuration and hook-definition
  files, whose inclusion in the current <b>arename</b> run is decided at the
  <b>beginning</b> of the program's execution (not for every input file) -
  namely, if the name of the current working directory matches one of the
  profile's patterns.
<div class="Pp"></div>
That means, that if you need to introduce slight configuration changes based on
  an <b>input file's name</b> you want to use a <i>section</i>.
<div class="Pp"></div>
If you need to make broader configuration changes, considering the name of the
  <b>current working directory</b>, <i>profiles</i> are the way to go.
<div class="Pp"></div>
Of course, profile configuration files may introduce new sections, too.
<h2 class="Ss" title="Ss" id="Configuration_file_example"><a class="selflink" href="#Configuration_file_example">Configuration
  file example</a></h2>
<pre>
  # switch on verbosity
  verbosity 20
  # canonicalize file names before working with them
  canonicalize
  # the author is crazy! use a sane template by default. :-)
  template &amp;artist - &amp;album (&amp;year) - &amp;tracknumber. &amp;tracktitle
  # activate the 'music' profile below /mnt/audio/music/.
  profile music /mnt/audio/music/
  # force files from /foo/bar/ to stay below that directory
  [/foo/bar/]
  prefix /foo/bar
</pre>
<h2 class="Ss" title="Ss" id="Hook_definition_files"><a class="selflink" href="#Hook_definition_files">Hook
  definition files</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$XDG_CONFIG_HOME</b><b>/arename/hooks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/etc/arename/hooks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename/hooks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.arename.hooks</b></dt>
  <dd class="It-tag">Defines global hooks, that are in effect in every directory
      if the <i>usehooks</i> option is set to <b>true</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>./.arename.hooks.local</b></dt>
  <dd class="It-tag">This allows you to define special hooks, that will only be
      applied for processes that run in the directory the local file is found
      (and if the <i>uselocalhooks</i> option is set to <b>true</b>).</dd>
</dl>
<div class="Pp"></div>
For details about hooks in <b>arename</b>, see &quot;HOOKS&quot; below.
<h1 class="Sh" title="Sh" id="SETTINGS"><a class="selflink" href="#SETTINGS">SETTINGS</a></h1>
The following settings are supported in all configuration files.
<div class="Pp"></div>
Not all of them are usable in <i>sections</i>. The ones you can use in sections
  are: All <i>default_*</i> options, <i>force</i>, <i>prefix</i>,
  <i>sepreplace</i>, <i>tnpad</i>, <i>comp_template</i> and <i>template</i>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>ambiguoususefirst</b></dt>
  <dd class="It-tag">Some tag types support setting the sametag multiple times.
      The scanning backends before arename 4.0 did not support such tags. When
      this option is set to <i>false</i> (default), arename gives up when it
      encounters such tags.
    <div style="height: 1.00em;">&#x00A0;</div>
    When set to <i>true</i>, arename just uses the first value it encounters.
    <div style="height: 1.00em;">&#x00A0;</div>
    For maximum control over how tags with ambiguous values are handled, you may
      use the ` <i>ambiguoustag</i>' hook. (default: <i>false</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>canonicalize</b></dt>
  <dd class="It-tag">If set, a given file name will be transformed to its
      cleaned up absolute path. You may want to set this, if you are using
      sections in the configuration. If you do not use sections, all this will
      give you is a performance penalty. (default value: <i>false</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>checkprofilerc</b></dt>
  <dd class="It-tag">If set, <b>arename</b> will check if there is a
      configuration file for a profile as soon as it reads a profile definition
      in the setup and <b>only</b> consider the profile if it found the
      according config file. Profiles without config file will cause a warning
      if this is set, which may cause the <i>dryrun</i> option to be set if the
      <i>warningsautodryrun</i> option is set.
    <div style="height: 1.00em;">&#x00A0;</div>
    If unset, profiles without config file will not cause warnings. You will see
      messages about missing configuration files, if a profile without config
      file is active. (default: <i>true</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>checktemplatesinitially</b></dt>
  <dd class="It-tag">If set, <b>arename</b> will inspect all <i>template</i> and
      <i>comp_template</i> settings for possible problems. Unsetting this option
      probably only makes sense, if you are working with templates within hooks
      and know what you are doing. Normal users will most likely want to stick
      with the default. (default: <i>on</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>comp_template</b></dt>
  <dd class="It-tag">Defines a template to use with files that provide a
      compilation tag (for 'various artist' CDs, for example). This setting can
      still be overwritten by the <b>--compilation-template</b> command line
      option. (default value: <i>va/&amp;album/&amp;tracknumber - &amp;artist -
      &amp;tracktitle</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>default_*</b></dt>
  <dd class="It-tag">default_artist, default_album, default_compilation,
      default_genre, default_tracknumber, default_tracktitle, default_year
    <div style="height: 1.00em;">&#x00A0;</div>
    Defines a default value, for the given tag in files, that lack this
      information. (default value: <i>undefined</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hookerrfatal</b></dt>
  <dd class="It-tag">If this is set to false, arename will continue execution
      even if reading, parsing or compiling a hooks file failed. (default value:
      <i>false</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>prefix</b></dt>
  <dd class="It-tag">Defines a prefix for destination files. Setting this to
      '/foo/bar' results in destination files named '/foo/bar/Expanded
      Template.ogg'
    <div style="height: 1.00em;">&#x00A0;</div>
    This setting can still be overwritten by the <b>--profile</b> command line
      option. (default value: <i>.</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sepreplace</b></dt>
  <dd class="It-tag">Tagging information strings may contain slashes, which is a
      pretty bad idea on most file systems. Therefore, you can define a string,
      that replaces slashes with the value of this setting. (default value:
      <i>_</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>suppress_skips</b></dt>
  <dd class="It-tag">Like the `<i>--suppress-skips</i>' command line option,
      this disables messages for files that <b>arename</b> will skip because the
      file name would not change.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>template</b></dt>
  <dd class="It-tag">Defines a template to use with files that do not provide a
      compilation tag (or where the compilation tag and the artist tag are
      exactly the same). This setting can be overwritten by the
      <b>--compilation-template</b> command line option. (default value:
      <i>&amp;artist[1]/&amp;artist/&amp;album/&amp;tracknumber -
      &amp;tracktitle</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>template_aliases</b></dt>
  <dd class="It-tag">If this option is set, <b>arename</b> allows the use of
      abbreviated taq names in <i>template</i> and <i>comp_template</i>. See
      &quot;Available expression identifiers&quot; below for details. (default
      value: <i>off</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tnpad</b></dt>
  <dd class="It-tag">This defines the width, to which the track number field is
      padded with zeros on the left. Setting this to zero disables padding.
      (default value: <i>2</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usehooks</b></dt>
  <dd class="It-tag">If set to true, use hooks defined in
      <b>~/.arename.hooks</b>. (default value: <i>true</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>uselocalhooks</b></dt>
  <dd class="It-tag">If set to true, use hooks defined in
      <b>./.arename.hooks.local</b>. (default value: <i>false</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>uselocalrc</b></dt>
  <dd class="It-tag">If set to true, read a local configuration file
      (<b>./.arename.local</b>), if it exists. (default value:
    <i>false</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>useprofiles</b></dt>
  <dd class="It-tag">If set to true, configuration profiles will be used. If
      false, they are not. (default value: <i>true</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usetypeasextension</b></dt>
  <dd class="It-tag">One file type may be used for different file name
      extensions. For example, files matching <i>*.ogg</i> and <i>*.oga</i> will
      both be handled as type <i>ogg</i> in Audio::Scan (the information
      gathering backend, <b>arename</b> is using since version 4.0).
    <div style="height: 1.00em;">&#x00A0;</div>
    When this option is set to <i>true</i>, a file matching <i>*.oga</i> would
      be renamed using <i>.ogg</i> as the extension, since its type is
      <i>ogg</i>. Otherwise, the original extension is left untouched. (default:
      <i>true</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>verbosity</b></dt>
  <dd class="It-tag">Integer option, that sets the verbosity of <i>arename</i>'s
      output. The default value is ` <i>10</i>'. The `<i>--verbosity</i>' option
      may be used to override this setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>warningsautodryrun</b></dt>
  <dd class="It-tag">Switches on the <i>dryrun</i> option (if not enabled
      already), as soon as the configuration file parser encounters non-fatal
      warnings. This option was introduced to avoid destructive behaviour due to
      incorrect lines in any of the configuration files. (default value:
      <i>true</i>)</dd>
</dl>
<h2 class="Ss" title="Ss" id="Deprecated_Settings"><a class="selflink" href="#Deprecated_Settings">Deprecated
  Settings</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>verbose</b></dt>
  <dd class="It-tag">This setting has no effect and will be removed in a later
      version. Use an appropriate ` <i>verbosity</i>' setting instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quiet</b></dt>
  <dd class="It-tag">This setting has no effect and will be removed in a later
      version. Use an appropriate ` <i>verbosity</i>' setting instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quiet_skip</b></dt>
  <dd class="It-tag">This setting has no effect and will be removed in a later
      version. Use an appropriate ` <i>verbosity</i>' setting instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debug</b></dt>
  <dd class="It-tag">This setting has no effect and will be removed in a later
      version. Use an appropriate ` <i>verbosity</i>' setting instead.</dd>
</dl>
<h2 class="Ss" title="Ss" id="User_defined_variables"><a class="selflink" href="#User_defined_variables">User
  defined variables</a></h2>
You can use the <b>set</b> command in arenamerc files. This way the user can
  define his own variables. The namespace is separate from <b>arename</b>'s
  normal settings. (That means, you cannot, for example, overwrite the internal
  <i>template</i> variable with this command.)
<div class="Pp"></div>
The sytnax is quite simple (and <b>different</b> to normal settings on
  purpose!):
<div class="Pp"></div>
<b>set</b> <i>varname</i> = <i>value</i>
<div class="Pp"></div>
There may be an arbitrary amount of whitespace around the equal sign (including
  no whitespace at all). If you want to have a value that starts in a whitespace
  character, you may start the value with a backslash character (just like with
  the normal settings, a leading backslash is always ignored).
<div class="Pp"></div>
You may also set user defined variables on the command line by using the
  <i>--userset</i> option:
<div class="Pp"></div>
<pre>
  % arename --userset variable0=value
  % arename -u variable0=value
</pre>
<div class="Pp"></div>
User defined variables are useful to make hooks configurable (see
  &quot;HOOKS&quot; below). Starting with version 4 of <b>arename</b>, user
  defined variables may also be defined within sections, which (just like normal
  option) makes them applicable only if said section is used for a given file.
<h1 class="Sh" title="Sh" id="TEMPLATE_FORMAT"><a class="selflink" href="#TEMPLATE_FORMAT">TEMPLATE
  FORMAT</a></h1>
<b>arename</b>'s templates are fairly easy to understand, but powerful.
<div class="Pp"></div>
At simplest, a template is just a fixed character string. However, that would
  not be exactly useful, because then every file you would ever want to rename
  would be getting the exact same name. That is why <b>arename</b> is able to
  expand certain expressions with information gathered from the file's tagging
  information.
<div class="Pp"></div>
An expression basically looks like one of the following forms:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;</b><i>identifier</i></dt>
  <dd class="It-tag">This is the `<b>trivial</b>' expression. It will expand to
      the information stored within the corresponding tag. If the tag in
      question is not available, the expansion of the template string will
    fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;</b><i>identifier</i><b>[</b><i>length</i><b>]</b></dt>
  <dd class="It-tag">The `<b>sized</b>' expression. The <i>length</i> modifier
      in square brackets defines the maximum length, to which the expression
      should be expanded.
    <div style="height: 1.00em;">&#x00A0;</div>
    That means, if the artist of a file reveals to be ' <i>Frank Zappa</i>',
      then using ' <b>&amp;artist[1]</b>' will expand to '<i>F</i>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;{</b><i>identifier</i><b>:</b><i>default-template</i><b>}</b></dt>
  <dd class="It-tag">This is the first complex expession, called
      `<b>complex-default</b>'. When the tag, which corresponds to `
      <i>identifier</i>' is available, this expression will expand exactly like
      the trivial expression would.
    <div style="height: 1.00em;">&#x00A0;</div>
    If it is <b>not</b> available though, the expansion doesn't fail, but
      instead the ` <i>default-template</i>' string is expanded.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;{</b><i>identifier</i><b>?</b><i>set-template</i><b>!</b><i>unset-template</i><b>}</b></dt>
  <dd class="It-tag">This expansion is called `<b>complex-set-unset</b>'. Again,
      what will be used during template expansion depends on whether the tag
      which corresponds to ` <i>identifier</i>' is set or not.
    <div style="height: 1.00em;">&#x00A0;</div>
    If it is <b>set</b>, the string <i>set-template</i> is expanded; if it is
      <b>unset</b>, the <i>unset-template</i> string is used.</dd>
</dl>
<div class="Pp"></div>
Both simple expansions may be used with braces, like the complex expansions are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;{</b><i>identifier</i><b>}</b></dt>
  <dd class="It-tag">This is equal to `<b>&amp;identifier</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;{</b><i>identifier[length]</i><b>}</b></dt>
  <dd class="It-tag">And this is equal to `<b>&amp;identifier[length]</b>'.</dd>
</dl>
<div class="Pp"></div>
Backslashes are special in template strings, because they are used to quote
  characters that bear special meaning (for example, to get a ampersand
  character, you need to use &quot; <b>\&amp;</b>&quot;). To get an actual
  backslash in the resulting string, you need to use a backslash, quoted by a
  backslash. A backslash on non-special characters is silently dropped.
<h2 class="Ss" title="Ss" id="Nesting_expressions"><a class="selflink" href="#Nesting_expressions">Nesting
  expressions</a></h2>
In complex expressions, the strings called ` <i>default-template</i>', `
  <i>set-template</i>' and ` <i>unset-template</i>' are subject to regular
  template expansion. Hence, expressions like the following are possible:
<div class="Pp"></div>
<pre>
  &quot;&amp;{album?&amp;album/!}&quot;
</pre>
<div class="Pp"></div>
If ` <b>album</b>' were set, it would expand to its value followed by a slash;
  otherwise it would expand to nothing. Using this, it is fairly easy to deal
  with album-less tracks:
<div class="Pp"></div>
<pre>
  &quot;&amp;artist/&amp;{album?&amp;album/&amp;tracknumber. !-no-album-/}&amp;tracktitle&quot;
</pre>
<div class="Pp"></div>
That will effectively use the following template if ` <b>album</b>' is set:
<div class="Pp"></div>
<pre>
  &quot;&amp;artist/&amp;album/&amp;tracknumber. &amp;tracktitle&quot;
</pre>
<div class="Pp"></div>
But if it is not set, it will instead use this:
<div class="Pp"></div>
<pre>
  &quot;&amp;artist/-no-album-/&amp;tracktitle&quot;
</pre>
<div class="Pp"></div>
Caution has to be taken if certain characters are to be used within conditional
  template expressions. For example, to use a closing curly bracket in either of
  them, it needs to be quoted using a backslash character.
<div class="Pp"></div>
Similarly, if an exclamation mark is to be used in a ` <i>set-template</i>', it
  needs to be quoted by a backslash to avoid the character being interpreted as
  the end of the ` <i>set-template</i>' string.
<h2 class="Ss" title="Ss" id="Available_expression_identifiers"><a class="selflink" href="#Available_expression_identifiers">Available
  expression identifiers</a></h2>
The data, that is expanded is derived from tagging information in the audio
  files. There are two kinds of information available. One is the purely
  informational tag (like a track's artist) and the other further describes the
  format of the audio file (like the file's bitrate).
<div class="Pp"></div>
If you are defining a lot of templates on the command line, you may find that
  these identifiers take quite a while to type. If the <i>template_aliases</i>
  option is set, you may use shorter alias names instead of the the real
  identifier. Available aliases are listed with their corresponding idetifier
  below.
<div class="Pp"></div>
This is a list of all all informational identifiers available for <b>all</b>
  file-types:
<dl class="Bl-tag">
  <dt class="It-tag"><b>album</b></dt>
  <dd class="It-tag">The album the currently processed track is part of. (alias:
      <i>al</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>artist</b></dt>
  <dd class="It-tag">The artist for the current track. (alias: <i>ar</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>compilation</b></dt>
  <dd class="It-tag">Compilation tags are not very stable across different file
      types. Usually, this is set to a string like &quot; <i>Various
      Artists</i>&quot; for tracks that are part of some sort of compilation
      album (like motion picture sound-tracks). (alias: <i>cmp</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>genre</b></dt>
  <dd class="It-tag">The genre or content type of the audio file. (alias:
      <i>gn</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tracknumber</b></dt>
  <dd class="It-tag">The number of the position of the track on the disc.
      Obviously. However, this can be in the form of '12' or '12/23'. In the
      second form, only the part left of the slash is used. The tracknumber is a
      little special, as you can define to what width it should be padded with
      zeros on the left (see <i>tnpad</i> setting in &quot;SETTINGS&quot;).
      (alias: <i>tn</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tracktitle</b></dt>
  <dd class="It-tag">The title of the currently processed track. (alias:
      <i>tt</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>year</b></dt>
  <dd class="It-tag">Chronological information about the track (usually the year
      a song was written or the year the album a track is part of was released).
      (alias: <i>yr</i>)</dd>
</dl>
<div class="Pp"></div>
Here is a list of file-format information tag available for <b>all</b>
  file-types:
<dl class="Bl-tag">
  <dt class="It-tag"><b>bitrate</b></dt>
  <dd class="It-tag">The bitrate the file was recorded/encoded with. (alias:
      <i>br</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>channels</b></dt>
  <dd class="It-tag">The number of channels available in the file (for example,
      this is `2' for stereo files). (alias: <i>ch</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>length_ms</b></dt>
  <dd class="It-tag">The length of the track in milli-seconds. (alias:
      <i>ln</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>samplerate</b></dt>
  <dd class="It-tag">The samplerate the file was recorded/encoded with. (alias:
      <i>sr</i>)</dd>
</dl>
<div class="Pp"></div>
For <b>all</b> file-types, the following tags are generated from the ones listed
  above (for convenience):
<dl class="Bl-tag">
  <dt class="It-tag"><b>kbitrate</b></dt>
  <dd class="It-tag">Kilobits per second (bitrate / 1000). (alias:
    <i>kbr</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ksamplerate</b></dt>
  <dd class="It-tag">Kilosamples per second (samplerate / 1000). (alias:
      <i>ksr</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>length_sec</b></dt>
  <dd class="It-tag">The length of the track in seconds. (alias: <i>ls</i>)</dd>
</dl>
<div class="Pp"></div>
Some tags are only available for certain file-types. They are always called `
  <i>type_</i><b>*</b>'. File-type specific identifiers do not have alias names.
  Here is a list of those tags:
<dl class="Bl-tag">
  <dt class="It-tag"><b>flac_wordsize</b></dt>
  <dd class="It-tag">The word-size used in a flac file. `24' if samples are 24
      bits wide.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mp3_id3_version</b></dt>
  <dd class="It-tag">The version of the id3 tag used in mp3 files (e.g.
      &quot;<b>ID3v2.3.0</b>&quot;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wav_id3_version</b></dt>
  <dd class="It-tag">The same as `<i>mp3_id3_version</i>', but for wave
    files.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b>arename</b> returns zero if everything went fine; non-zero on fatal problems.
  This may change in future versions.
<h1 class="Sh" title="Sh" id="HOOKS"><a class="selflink" href="#HOOKS">HOOKS</a></h1>
Before we start, a word of warning: Hooks can solve a lot of problems. That
  amount of flexibility comes at its price. All data passed to hook functions
  are <b>references</b> to the <b>actual data</b> in the script (except for the
  namespace argument, which is a copy). If you write hooks carelessly, arename
  will get back at you! HOOKS ARE A BIG HAMMER, THAT CAN CRUSH PROBLEMS AS WELL
  AS LIMBS!
<div class="Pp"></div>
<i>You have been warned!</i>
<h2 class="Ss" title="Ss" id="Discussion"><a class="selflink" href="#Discussion">Discussion</a></h2>
The reason for implementing hooks was to have a simple way of post processing
  tags, filenames etc. without having to invent own magic in the configuration
  files, when Perl has regular expressions on steriods anyway. Hooks can do more
  then pure pre and post processing, because they are called in numerous places
  and give broad access to the script's data structures. Still, post processing
  is probably the most useful feature they implement.
<div class="Pp"></div>
Hooks are just Perl subroutines, which are defined in one of two files (see
  &quot;FILES&quot;). They are run at certain events during the execution of
  arename. The contents of the argument list for each hook depends on what hook
  is called (see the &quot;List of hook events&quot; below). However, the first
  argument (argument zero aka. $_[0]) to all hooks is the hook namespace, the
  subroutine is called in.
<div class="Pp"></div>
The global hooks file is read before the local one, which means, that this local
  file may overwrite and extend the definitions from the global file, as much as
  Perl permits. This also means, that hooks from the local file are run
  <i>after</i> the ones from the global file (unless you are using your own
  method of registering hooks; but if you do so, you know what you are doing
  anyway).
<div class="Pp"></div>
Subroutines must be registered to arename, to be known as hooks. Once
  registered, a subroutine can be removed from the known hooks, if requested
  (see &quot;Utility subroutines&quot; below).
<div class="Pp"></div>
The keys in various data hashes passed to the hooks can be one of the following:
  <i>album</i>, <i>artist</i>, <i>compilation</i>, <i>genre</i>,
  <i>tracknumber</i>, <i>tracktitle</i>, <i>year</i>.
<h2 class="Ss" title="Ss" id="Utility_subroutines"><a class="selflink" href="#Utility_subroutines">Utility
  subroutines</a></h2>
<i>Registration subroutines</i>
<div class="Pp"></div>
There are two subroutines, that are used to tell arename about subroutines, you
  defined that shall become hooks.
<dl class="Bl-tag">
  <dt class="It-tag"><b>register_hook</b>(<i>event</i>, <i>coderef</i>)</dt>
  <dd class="It-tag">Registers a <i>code reference</i> (read: your subroutine)
      for the given <i>event</i>. Example: register_hook('startup',
      \&amp;custom_banner);</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove_hook</b>(<i>event</i>, <i>coderef</i>)</dt>
  <dd class="It-tag">Removes <b>all</b> entries of the <i>code reference</i> for
      the given <i>event</i>. Example: remove_hook('startup',
      \&amp;custom_banner);
    <div style="height: 1.00em;">&#x00A0;</div>
    If the coderef was added more than once, all entries are removed.</dd>
</dl>
<div class="Pp"></div>
<i>File access and manipulation</i>
<div class="Pp"></div>
The currently processed file name can be accessed via two subroutines:
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_file</b>()</dt>
  <dd class="It-tag">Returns the current file name as a string. This way, you
      can get the name of the currently processed file in every hook.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_file</b>(<i>file name string</i>)</dt>
  <dd class="It-tag">This gives you the opportunity of manipulating the current
      file name. Be careful using this, because if you break the file name,
      <b>arename</b> cannot work properly.</dd>
</dl>
<div class="Pp"></div>
With these, you could even change the file name of the processed file, while
  <b>arename</b> works on it (which you really should only do, if you know what
  you are doing).
<div class="Pp"></div>
<i>User-defined-variable subroutines</i>
<div class="Pp"></div>
Hooks can also use the data from user defined variables, via their Perl
  interface:
<dl class="Bl-tag">
  <dt class="It-tag"><b>user_get</b>(<i>setting</i>)</dt>
  <dd class="It-tag">Returns the current value of <i>setting</i>. This is always
      a scalar value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>user_set</b>(<i>setting</i>, <i>value</i>)</dt>
  <dd class="It-tag">Change the value of <i>setting</i> to <i>value</i>.</dd>
</dl>
<div class="Pp"></div>
Here is an example for user defined settings:
<div class="Pp"></div>
<pre>
  # Assume, the user set the myvar-variable to &quot;bar&quot; in his
  # configuration file
  my $foo = user_get('myvar');    # $foo is now &quot;bar&quot;
  user_set('foo', &quot;bar, baz&quot;);
  my $foo = user_get('myvar');    # $foo is now &quot;bar, baz&quot;
</pre>
<div class="Pp"></div>
<i>API for accessing to arename's internal configuration</i>
<div class="Pp"></div>
You can also access the configuration data of <b>arename</b> itself:
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_opt</b>(<i>setting</i>)</dt>
  <dd class="It-tag">Returns the current value of <i>setting</i>. This is always
      a scalar value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_opt</b>(<i>setting</i>, <i>value</i>)</dt>
  <dd class="It-tag">Change the value of <i>setting</i> to <i>value</i>.</dd>
</dl>
<div class="Pp"></div>
A list of settings <b>arename</b> will use: canonicalize, dryrun, force,
  hookerrfatal, prefix, quiet, quiet_skip, readstdin, sepreplace, tnpad,
  usehooks, uselocalhooks, uselocalrc, verbose, verbosity, comp_template and
  template.
<div class="Pp"></div>
If you want to actually change these settings, you should have a profound
  knowledge of <b>arename</b>'s internals. Be careful.
<div class="Pp"></div>
<i>API for default_* settings</i>
<div class="Pp"></div>
If you need to access the current values of the <i>default_*</i> settings:
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_defaults</b>(<i>tagname</i>)</dt>
  <dd class="It-tag">Returns the value of default_<i>tagname</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_default_keys</b>()</dt>
  <dd class="It-tag">Returns a lexically sorted array of tag names of currently
      set <i>default_*</i> values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_default</b>(<i>tagname</i>, <i>value</i>)</dt>
  <dd class="It-tag">Sets the value of default_<i>tagname</i> to
    <i>value</i>.</dd>
</dl>
<div class="Pp"></div>
<i>Miscellaneous subroutines</i>
<div class="Pp"></div>
And finally, a few miscellaneous functions ARename.pm provides, that might be of
  interest.
<dl class="Bl-tag">
  <dt class="It-tag"><b>choose_template</b>(<i>data hash reference</i>)</dt>
  <dd class="It-tag">Return the appropriate template (<i>normal</i> versus
      <i>compiliation</i> template) by the data in the referenced data
    hash.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expand_template</b>(<i>template string</i>, <i>data hash
    reference</i>)</dt>
  <dd class="It-tag">Return the expanded version of <i>template string</i>. The
      information, that is used to do the expansion is taken from the referenced
      data hash.
    <div style="height: 1.00em;">&#x00A0;</div>
    Keep in mind that this function calls hooks itself. Avoid endless loops! See
      &quot;Hooks when expanding the template&quot; for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ensure_dir</b>(<i>directory</i>)</dt>
  <dd class="It-tag">Makes sure <i>directory</i> exists. Think: mkdir -p
      <i>directory</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>file_eq</b>(<i>file0</i>, <i>file1</i>)</dt>
  <dd class="It-tag">Checks if the name <i>file0</i> and the name <i>file1</i>
      point to the same file. Returns <i>0</i>, if one of the file names does
      not exist or if the files do not point to the same file, <i>1</i>
      otherwise.
    <div style="height: 1.00em;">&#x00A0;</div>
    Dies if it cannot stat one of the given files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tag_supported</b>(<i>tagname</i>)</dt>
  <dd class="It-tag">Returns <i>1</i> if the tag <i>tagname</i> is supported by
      arename, <i>0</i> otherwise.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>template_deep_inspect</b>(<i>template_string</i>)</dt>
  <dd class="It-tag">This tokenises a template string and then looks at the
      whole token tree, and tries to figure out any potential problems in it.
    <div style="height: 1.00em;">&#x00A0;</div>
    If tokenisation already failed, a negative value is returned. In case of any
      warnings with the token tree, zero is returned. If nothing came up, a
      positive value is returned.
    <div style="height: 1.00em;">&#x00A0;</div>
    This subroutine is called for the ` <i>template</i>' and
      `<i>comp_template</i>' strings in all sections when <b>arename</b> starts.
      If the user chooses to change a template string in a hook it is
      recommended to use this function to avoid any errors due to broken
      templates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xrename</b>(<i>src</i>, <i>dest</i>)</dt>
  <dd class="It-tag">Renames <i>src</i> to <i>dest</i>. Works across file
      systems, too. Dies if something fails.</dd>
</dl>
<h2 class="Ss" title="Ss" id="List_of_hook_events"><a class="selflink" href="#List_of_hook_events">List
  of hook events</a></h2>
This is a complete list of hooks events with descriptions.
<div class="Pp"></div>
The first argument (argument number &quot;zero&quot;) for every hook is the name
  space they are called in. To find out the name of the currently processed
  file, use the <i>get_file</i>() subroutine described above.
<div class="Pp"></div>
<i>Hooks in the main loop</i>
<div class="Pp"></div>
These hooks are called at the highest level of the script.
<dl class="Bl-tag">
  <dt class="It-tag"><b>canonicalize</b></dt>
  <dd class="It-tag">This is called in the middle of the file name
      canonicalization process (but <b>only</b> if the <i>canonicalize</i>
      setting is set).
    <div style="height: 1.00em;">&#x00A0;</div>
    You can get the current file name via <i></i><i>get_file()</i><i></i>. The
      canonicalized file name is handed to you via the hook's arguments. The
      value from this argument will be assigned to the processed filename after
      the execution of this hook.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> canonicalized file name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>next_file_early</b></dt>
  <dd class="It-tag">Called at the start of the main loop <i>before</i> any file
      checks and canonicalizations (if enabled) are done.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>next_file_late</b></dt>
  <dd class="It-tag">Called in the main loop <i>after</i> the file checks and
      canonicalizations are done.
    <div style="height: 1.00em;">&#x00A0;</div>
    In this context, file checks means tests for read-access and for whether the
      processed file is a symlink. <b>arename</b> will refuse to process
      symlinks and files it cannot read.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>file_done</b></dt>
  <dd class="It-tag">Called in the main loop <i>after</i> the file has been
      processed (unless <b>filetype_unknown</b> was triggered, see below).
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>filetype_unknown</b></dt>
  <dd class="It-tag">Called in the main loop <i>after</i> the file was tried to
      be processed but the file type (the extension, specifically) was unknown.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>filetype_known</b></dt>
  <dd class="It-tag">Called when it has been established, that the file in
      question should theoretically be supported by arename.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the current file name extension <b>2:</b> the
      file type that has been detected</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pre_rename</b></dt>
  <dd class="It-tag">This is triggered directly before the actual file renaming
      process starts. All information about the file has been gathered at this
      point.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the file type, <b>2:</b> the extension that
      will be used to assemble the target filename, <b>3:</b> the data hash</dd>
</dl>
<div class="Pp"></div>
<i>Hooks in the renaming procedure</i>
<div class="Pp"></div>
When all data has been gathered, <b>arename</b> will go on to actually rename
  the files to their new destination name (which will be generated in the
  process, see &quot;Hooks when expanding the template&quot; below).
<dl class="Bl-tag">
  <dt class="It-tag"><b>pre_apply_defaults</b></dt>
  <dd class="It-tag">This is the first action to be taken in the renaming
      process. It is called even before the default values are applied.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> data hash, <b>2:</b> file extension</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pre_template</b></dt>
  <dd class="It-tag">Called <i>before</i> template expansions have been done.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> data hash, <b>2:</b> file extension</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>post_template</b></dt>
  <dd class="It-tag">Called <i>after</i> the template has been expanded and the
      new file name has been completely generated (including the destination
      directory prefix).
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> data hash, <b>2:</b> file extension <b>3:</b>
      the generated new filename (including directory prefix and file
    extension)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>post_ensure_dir</b></dt>
  <dd class="It-tag">The destnation directory for the new file name may contain
      sub directories, which currently do not exist. This hook is called
      <i>after</i> it is ensured, every directory portion exists.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> data hash, <b>2:</b> file extension <b>3:</b>
      the generated new filename (including directory prefix and file
    extension)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>post_rename</b></dt>
  <dd class="It-tag">This is the final hook in the actual renaming process. The
      file has been renamed at this point.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> data hash, <b>2:</b> file extension <b>3:</b>
      the generated new filename (including directory prefix and file
    extension)</dd>
</dl>
<div class="Pp"></div>
<i>Hooks when expanding the template</i>
<div class="Pp"></div>
These hooks are called when the template string is filled with the data from
  tags in the audio files. To do this, <b>arename</b> first tokenises the
  template string into a data structure, which is later used to assemble the
  target file name.
<dl class="Bl-tag">
  <dt class="It-tag"><b>pre_expand_template</b></dt>
  <dd class="It-tag">Called before any expansions are done.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the template string, <b>2:</b> the data
    hash</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>post_expand_template</b></dt>
  <dd class="It-tag">Called after all expansions have been done, right before
      the the resulting string is returned.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the template string (fully expanded), <b>2:</b>
      the data hash</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expand_template_pre_expand_tag</b></dt>
  <dd class="It-tag">Called each time the value of an existing tag is expanded.
      This may be more than once, as tags may be used as often in a template as
      the user requires. At each point, this hook will be called right before
      the data was retrieved and post-processed (like zero-padding the
      `tracknumber' tag).
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the tag's name, <b>2:</b> the data hash</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expand_template_post_expand_tag</b></dt>
  <dd class="It-tag">Called each time the value of an existing tag is expanded.
      Like with the `expand_template_pre_expand_tag' hook, this may be more than
      once.
    <div style="height: 1.00em;">&#x00A0;</div>
    At each point, this hook will be called right after the data was retrieved
      and post-processed.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the value, which will be used for expansion,
      <b>2:</b> the tag's name, <b>2:</b> the data hash</dd>
</dl>
<div class="Pp"></div>
<i>Hooks while gathering information</i>
<div class="Pp"></div>
These hooks are triggered while the tag information is extracted from the audio
  files <b>arename</b> is processing. This is done in two steps. First the
  Audio::Scan module is used to scan for the raw meta data information from the
  current file. Then <b>arename</b>'s data hash is being filled with that data.
<dl class="Bl-tag">
  <dt class="It-tag"><b>pre_scan</b></dt>
  <dd class="It-tag">This hook is called right before any scanning has been
      done.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the type of the file being processed (`ogg' for
      ogg vorbis files)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>post_scan</b></dt>
  <dd class="It-tag">This is triggered as soon as Audio::Scan is done processing
      the current file, but before <b>arename</b>'s data hash has been filled.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the type of the file being processed (`ogg' for
      ogg vorbis files), <b>2:</b> the data structure returned by
    `Audio::Scan'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ambiguoustag</b></dt>
  <dd class="It-tag">When the data hash is being filled it is possible, that for
      one <b>arename</b> tag (like `artist') multiple values where returned by
      Audio::Scan. This hook is triggered as soon as such a tag with ambiguous
      values is processed.
    <div style="height: 1.00em;">&#x00A0;</div>
    The hook may be used for maximum control over how ambiguous values are
      handled. To do this, the ambiguous value (passed as an array reference in
      the second argument) should be turned into the desired scalar value.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the array reference is left as it is, the usual `ambiguoususefirst'
      behaviour is followed. The the option's description for details.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the name of the tag with the ambiguous value,
      <b>2:</b> its current (ambiguous) value, <b>3:</b> the data hash in its
      current form (obviously not all values will have been filled in at this
      point), <b>4:</b> the data structure returned by Audio::Scan (see its
      documentation for details)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>post_fill</b></dt>
  <dd class="It-tag">Finally, the `post_fill' hook is called after the data hash
      has been filled. This is a good spot, if post-processing the values of
      individual tag is desired.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> return code of the filling process (`0' in case
      of an error, `1' otherwise), <b>2:</b> the type of the file being
      processed (`ogg' for ogg vorbis files), <b>3:</b> the data structure
      returned by `Audio::Scan', <b>4:</b> the data hash.</dd>
</dl>
<div class="Pp"></div>
<i>Miscellaneous hooks</i>
<dl class="Bl-tag">
  <dt class="It-tag"><b>apply_defaults</b></dt>
  <dd class="It-tag">This is triggered before values from the default_* settings
      are applied to missing values in the audio file. This hook is <i>only</i>
      run if a default value for a tag will be used!
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> data hash, <b>2:</b> current key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>startup</b></dt>
  <dd class="It-tag">Called directly after all the module initialisation is
      done, at the very start of the script. Configuration files will have been
      read, as well as hook files (obviously) and command line options will have
      been handled at this point already.
    <div style="height: 1.00em;">&#x00A0;</div>
    This hook may be useful for postprocessing the configuration as well as for
      debugging.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> program name, <b>2:</b> its version, <b>3:</b>
      configuration hash, <b>4:</b> array of supported tags, <b>5:</b> the
      program's argument list</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>normal_quit</b></dt>
  <dd class="It-tag">Called at the end of the script. This is reached if nothing
      fatal happened.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Arguments</i>: <b>1:</b> the program's argument list</dd>
</dl>
<h2 class="Ss" title="Ss" id="Example"><a class="selflink" href="#Example">Example</a></h2>
This is a very simple example for a hook file, that prints a custom banner and
  replaces all whitespace in the expanded template with underscores:
<div class="Pp"></div>
<pre>
  sub my_banner {
      print &quot;Hello World.\n&quot;;
  }
  register_hook('startup', \&amp;my_banner);
  sub replace_spaces_by_underscore {
      my ($templateref, $datref) = @_;
      $$templateref =~ s/\s+/_/g;
  }
  register_hook('post_expand_template',
      \&amp;replace_spaces_by_underscore);
</pre>
<div class="Pp"></div>
Further examples can be found in the <b>arename.hooks</b> file of the
  distribution.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b></b><b><i>find</i></b><b>(1)</b>, <b></b><b><i>xargs</i></b><b>(1)</b>,
  <b>Audio::Scan</b>.
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This manual describes <b>arename</b> version <i>4.0</i>.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Frank Terbeck &lt;ft@bewatermyfriend.org&gt;,
<div class="Pp"></div>
Please report bugs.
<h1 class="Sh" title="Sh" id="LICENCE"><a class="selflink" href="#LICENCE">LICENCE</a></h1>
<pre>
 Copyright 2007-2011
 Frank Terbeck &lt;ft@bewatermyfriend.org&gt;, All rights reserved.
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions
 are met:
   1. Redistributions of source code must retain the above
      copyright notice, this list of conditions and the following
      disclaimer.
   2. Redistributions in binary form must reproduce the above
      copyright notice, this list of conditions and the following
      disclaimer in the documentation and/or other materials
      provided with the distribution.
  THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED
  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS OF THE
  PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
  OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-05-23</td>
    <td class="foot-os">perl v5.20.2</td>
  </tr>
</table>
</body>
</html>
