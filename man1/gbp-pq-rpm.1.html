<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GBP-PQ-RPM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GBP-PQ-RPM(1)</td>
    <td class="head-vol">git-buildpackage Manual</td>
    <td class="head-rtitle">GBP-PQ-RPM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gbp-pq-rpm - Manage patches and development branches in Git
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gbp&#x00A0;pq-rpm</b> [ <b>--version</b> ] [ <b>--help</b> ] [
  <b>--verbose</b> ] [ <b>--color=</b><i>[auto|on|off]</i><b></b> ] [
  <b>--color-scheme=</b> <i>COLOR_SCHEME</i><b></b> ] [
  <b>--packaging-dir=</b><i>DIRECTORY</i><b></b> ] [
  <b>--spec-file=</b><i>FILEPATH</i> <b></b> ] [
  <b>--upstream-tag=</b><i>TAG-FORMAT</i> <b></b> ] [ <b>--force</b> ] [
  <b>--[no-]patch-numbers</b> ] <b>drop</b> | <b>export</b> | <b>import</b> |
  <b>rebase</b> | <b>switch</b> | <b>apply</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>gbp&#x00A0;pq-rpm</b> helps in managing patches and development branch(es)
  for packages that are maintained with <b>gbp</b>. It designed to be used for
  packages that are maintained using the &quot;orphan-packaging&quot; model.
  <b>gbp&#x00A0;pq-rpm</b> has multiple subcommands, or actions, for working
  with the branches and patches.
<div class="Pp"></div>
<b>gbp&#x00A0;pq-rpm</b> makes it easy to do source code development on a
  separate development branch (patch-queue branch in Debian git-buildpackage
  terms). For example, if the packaging files would be stored in <i>master</i>
  the associated development branch would be <i>development/master</i>.
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import </b></dt>
  <dd class="It-tag">Create a development (patch-queue) branch by applying all
      patches from the packaging branch on top of the upstream version. The
      patches must apply without fuzz.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>export </b></dt>
  <dd class="It-tag">Export patches from the development branch into the
      packaging branch. It generates patches (one-per-commit) from the
      development branch and updates the spec file accordingly. It doesn't
      automatically commit the changes though - they need to verified and
      committed manually.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rebase </b></dt>
  <dd class="It-tag">Switch to the development branch and rebase it against the
      current upstream version (indicated in the spec file of the associated
      packaging branch).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drop </b></dt>
  <dd class="It-tag">Drop (delete) the development branch associated to the
      current branch. For example, you're on branch <i>foo</i> this would drop
      branch <i>development/foo</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>apply </b></dt>
  <dd class="It-tag">Add a single patch to the development branch - similar to
      using <b>git-am</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>switch </b></dt>
  <dd class="It-tag">Switch between the development branch and the associated
      packaging branch.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print version of the program, i.e. version of the
      git-buildpackage suite</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Verbose execution</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Print help and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--color=</b><i>[auto|on|off]</i><b> </b></dt>
  <dd class="It-tag">Whether to use colored output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--color-scheme=</b><i>COLOR_SCHEME</i><b> </b></dt>
  <dd class="It-tag">Colors to use in output (when color is enabled). The format
      for COLOR_SCHEME is
      '&lt;debug&gt;:&lt;info&gt;:&lt;warning&gt;:&lt;error&gt;'. Numerical
      values and color names are accepted, empty fields imply the default color.
      For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug
      messages in cyan, info messages in blue and other messages in default
      (i.e. warning and error messages in red).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--packaging-dir=</b><i>DIRECTORY</i><b> </b></dt>
  <dd class="It-tag">Subdirectory that contains the RPM packaging files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--spec-file=</b><i>FILEPATH</i><b> </b></dt>
  <dd class="It-tag">Relative path to the spec file to use. Special value
      <i>auto</i> causes <b>gbp</b> to search and guess. Other values cause the
      <b>--packaging-dir</b> option to be ignored: the directory of the spec
      file is used, instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-tag=</b><i>TAG-FORMAT</i><b> </b></dt>
  <dd class="It-tag">Use this tag format when looking for tags of upstream
      versions, default is <i>upstream/%(version)s</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force</b></dt>
  <dd class="It-tag">Import even if the development (patch-queue) branch already
      exists. Only valid for the import action.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--[no-]patch-numbers </b></dt>
  <dd class="It-tag">Whether the patch files should start with a number or
    not.</dd>
</dl>
<h1 class="Sh" title="Sh" id="META_TAGS"><a class="selflink" href="#META_TAGS">META
  TAGS</a></h1>
When exporting patches from a patch-queue branch <b>gbp&#x00A0;pq-rpm</b> will
  look at the commit message for special tags it recognizes. All tags need to
  start at the first column and require at least one whitespace after the colon.
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp-Rpm: Ignore </b></dt>
  <dd class="It-tag">Ignores the commit, no patch is generated out of it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp-Rpm: If &lt;expression&gt; </b></dt>
  <dd class="It-tag">Conditional patch. Put patch inside &quot;%if
      &lt;expression&gt;&quot; in the spec file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Gbp-Rpm: IfArch&lt;expression&gt; </b></dt>
  <dd class="It-tag">Conditional patch. Put patch inside &quot;%ifarch
      &lt;expression&gt;&quot; in the spec file.</dd>
</dl>
<div class="Pp"></div>
For example, the following commit message:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      Fix around a problem in Fedora
<div class="Pp"></div>
      which is not applicable elsewhere.
<div class="Pp"></div>
      Gbp-Rpm: If 0%{?fedora}
    
</pre>
<div class="Pp"></div>
Will result something like this in the spec file:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      # 0001-Fix-around-a-problem-in-Fedora.patch
      %if 0%{?fedora}
      %patch0 -p1
      %endif
    
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gbp-buildpackage-rpm</b>(1)&gt;, <b>gbp-import-srpm</b>(1)&gt;,
  <b>gbp.conf</b>(5)&gt;
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Markus Lehtonen &lt;markus.lehtonen@linux.intel.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">07 February 2017</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
