<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:29:51 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PAM_WRAPPER(1) PAM_WRAPPER(1)</p>

<p style="margin-top: 1em">NAME <br>
pam_wrapper - A preloadable wrapper to test PAM applications
and PAM Modules</p>

<p style="margin-top: 1em">SYNOPSIS <br>
LD_PRELOAD=libpam_wrapper.so PAM_WRAPPER=1
PAM_WRAPPER_SERVICE_DIR=/path_to_config ./myapplication</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool allows you to either test your PAM application or
module. For testing PAM applications we have written a
simple PAM module called pam_matrix (see below). If you plan
to <br>
test a PAM module you can use the pamtest library we have
implemented. It simplifies testing of modules. You can be
combine it with the cmocka unit testing framework or you can
<br>
use the provided Python bindings to write tests for your
module in Python.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
pam_wrapper is activated and controlled by environment
variables. You can set the following variables:</p>

<p style="margin-top: 1em">PAM_WRAPPER <br>
If you load the pam_wrapper and enable it with setting
PAM_WRAPPER=1 all PAM calls will be wrapped so you are able
to specify a directory with the service files pam_wrapper
<br>
should be using.</p>

<p style="margin-top: 1em">PAM_WRAPPER_SERVICE_DIR <br>
The directory to read PAM service files from.</p>

<p style="margin-top: 1em">If you want to use pam_matrix
(see below) or want to test your own PAM module you need to
specify the absolute path to your module in the service
files.</p>

<p style="margin-top: 1em">PAM_WRAPPER_DEBUGLEVEL <br>
If you need to see what is going on in pam_wrapper itself or
try to find a bug, you can enable logging support in
pam_wrapper if you built it with debug symbols.</p>

<p style="margin-top: 1em">&Acirc;&middot; 0 = ERROR</p>

<p style="margin-top: 1em">&Acirc;&middot; 1 = WARNING</p>

<p style="margin-top: 1em">&Acirc;&middot; 2 = DEBUG</p>

<p style="margin-top: 1em">&Acirc;&middot; 3 = TRACE</p>

<p style="margin-top: 1em">PAM_WRAPPER_KEEP_DIR <br>
If this option is set to 1, then pam_wrapper won&acirc;t
delete its temporary directories. Mostly useful for
pam_wrapper development.</p>

<p style="margin-top: 1em">EXAMPLE <br>
A service file for pam_wrapper should look like this:</p>

<p style="margin-top: 1em">auth required
/usr/lib/pam_wrapper/pam_matrix.so passdb=/path/to/pdb <br>
account required /usr/lib/pam_wrapper/pam_matrix.so
passdb=/path/to/pdb <br>
password required /usr/lib/pam_wrapper/pam_matrix.so
passdb=/path/to/pdb <br>
session required /usr/lib/pam_wrapper/pam_matrix.so
passdb=/path/to/pdb</p>

<p style="margin-top: 1em">The name of the file should
represent the service name used by your PAM application.</p>

<p style="margin-top: 1em">LD_PRELOAD=./libpam_wrapper.so
PAM_WRAPPER=1 PAM_WRAPPER_SERVICE_DIR=pam_services/
./my_pam_app</p>

<p style="margin-top: 1em">PAM_MATRIX <br>
We offer a module to make testing of PAM applications
easier. You find more information in the pam_matrix(8)
manpage.</p>

<p style="margin-top: 1em">2015-11-04 PAM_WRAPPER(1)</p>
<hr>
</body>
</html>
