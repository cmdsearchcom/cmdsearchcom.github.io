<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:21:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>lcov(1) User Manuals lcov(1)</p>

<p style="margin-top: 1em">NAME <br>
lcov - a graphical GCOV front-end</p>

<p style="margin-top: 1em">SYNOPSIS <br>
lcov -c|--capture <br>
[-d|--directory directory] [-k|--kernel-directory directory]
<br>
[-o|--output-file tracefile] [-t|--test-name testname] <br>
[-b|--base-directory directory] [-i|--initial] [--gcov-tool
tool] <br>
[--checksum] [--no-checksum] [--no-recursion] [-f|--follow]
<br>
[--compat-libtool] [--no-compat-libtool] [--ignore-errors
errors] <br>
[--to-package package] [--from-package package] [-q|--quiet]
<br>
[--no-markers] [--external] [--no-external] <br>
[--config-file config-file] [--rc keyword=value] <br>
[--compat mode=on|off|auto]</p>

<p style="margin-top: 1em">lcov -z|--zerocounters <br>
[-d|--directory directory] [--no-recursion] [-f|--follow]
<br>
[-q|--quiet]</p>

<p style="margin-top: 1em">lcov -l|--list tracefile <br>
[-q|--quiet] [--list-full-path] [--no-list-full-path] <br>
[--config-file config-file] [--rc keyword=value]</p>

<p style="margin-top: 1em">lcov -a|--add-tracefile
tracefile <br>
[-o|--output-file tracefile] [--checksum] [--no-checksum]
<br>
[-q|--quiet] [--config-file config-file] [--rc
keyword=value]</p>

<p style="margin-top: 1em">lcov -e|--extract tracefile
pattern <br>
[-o|--output-file tracefile] [--checksum] [--no-checksum]
<br>
[-q|--quiet] [--config-file config-file] [--rc
keyword=value]</p>

<p style="margin-top: 1em">lcov -r|--remove tracefile
pattern <br>
[-o|--output-file tracefile] [--checksum] [--no-checksum]
<br>
[-q|--quiet] [--config-file config-file] [--rc
keyword=value]</p>

<p style="margin-top: 1em">lcov --diff tracefile diff <br>
[-o|--output-file tracefile] [--checksum] [--no-checksum]
<br>
[--convert-filenames] [--strip depth] [--path path]
[-q|--quiet] <br>
[--config-file config-file] [--rc keyword=value]</p>

<p style="margin-top: 1em">lcov --summary tracefile <br>
[-q|--quiet]</p>

<p style="margin-top: 1em">lcov [-h|--help]
[-v|--version]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
lcov is a graphical front-end for GCC&rsquo;s coverage
testing tool gcov. It collects line, function and branch
coverage data for multiple source files and creates HTML
pages contain&acirc; <br>
ing the source code annotated with coverage information. It
also adds overview pages for easy navigation within the file
structure.</p>

<p style="margin-top: 1em">Use lcov to collect coverage
data and genhtml to create HTML pages. Coverage data can
either be collected from the currently running Linux kernel
or from a user space applica&acirc; <br>
tion. To do this, you have to complete the following
preparation steps:</p>

<p style="margin-top: 1em">For Linux kernel coverage: <br>
Follow the setup instructions for the gcov-kernel
infrastructure:
http://ltp.sourceforge.net/coverage/gcov.php</p>

<p style="margin-top: 1em">For user space application
coverage: <br>
Compile the application with GCC using the options
&quot;-fprofile-arcs&quot; and
&quot;-ftest-coverage&quot;.</p>

<p style="margin-top: 1em">Please note that this man page
refers to the output format of lcov as &quot;.info
file&quot; or &quot;tracefile&quot; and that the output of
GCOV is called &quot;.da file&quot;.</p>

<p style="margin-top: 1em">Also note that when printing
percentages, 0% and 100% are only printed when the values
are exactly 0% and 100% respectively. Other values which
would conventionally be rounded to <br>
0% or 100% are instead printed as nearest non-boundary
value. This behavior is in accordance with that of the
gcov(1) tool.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a tracefile <br>
--add-tracefile tracefile <br>
Add contents of tracefile.</p>

<p style="margin-top: 1em">Specify several tracefiles using
the -a switch to combine the coverage data contained in
these files by adding up execution counts for matching test
and filename combina&acirc; <br>
tions.</p>

<p style="margin-top: 1em">The result of the add operation
will be written to stdout or the tracefile specified with
-o.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">-b directory <br>
--base-directory directory <br>
Use directory as base directory for relative paths.</p>

<p style="margin-top: 1em">Use this option to specify the
base directory of a build-environment when lcov produces
error messages like:</p>

<p style="margin-top: 1em">ERROR: could not read source
file
/home/user/project/subdir1/subdir2/subdir1/subdir2/file.c</p>

<p style="margin-top: 1em">In this example, use
/home/user/project as base directory.</p>

<p style="margin-top: 1em">This option is required when
using lcov on projects built with libtool or similar build
environments that work with a base directory, i.e.
environments, where the current <br>
working directory when invoking the compiler is not the same
directory in which the source code file is located.</p>

<p style="margin-top: 1em">Note that this option will not
work in environments where multiple base directories are
used. In that case use configuration file setting
geninfo_auto_base=1 (see <br>
lcovrc(5)).</p>

<p style="margin-top: 1em">-c <br>
--capture <br>
Capture coverage data.</p>

<p style="margin-top: 1em">By default captures the current
kernel execution counts and writes the resulting coverage
data to the standard output. Use the --directory option to
capture counts for a <br>
user space program.</p>

<p style="margin-top: 1em">The result of the capture
operation will be written to stdout or the tracefile
specified with -o.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">--checksum <br>
--no-checksum <br>
Specify whether to generate checksum data when writing
tracefiles.</p>

<p style="margin-top: 1em">Use --checksum to enable
checksum generation or --no-checksum to disable it. Checksum
generation is disabled by default.</p>

<p style="margin-top: 1em">When checksum generation is
enabled, a checksum will be generated for each source code
line and stored along with the coverage data. This checksum
will be used to prevent <br>
attempts to combine coverage data from different source code
versions.</p>

<p style="margin-top: 1em">If you don&rsquo;t work with
different source code versions, disable this option to speed
up coverage data processing and to reduce the size of
tracefiles.</p>

<p style="margin-top: 1em">--compat
mode=value[,mode=value,...] <br>
Set compatibility mode.</p>

<p style="margin-top: 1em">Use --compat to specify that
lcov should enable one or more compatibility modes when
capturing coverage data. You can provide a comma-separated
list of mode=value pairs to <br>
specify the values for multiple modes.</p>

<p style="margin-top: 1em">Valid values are:</p>

<p style="margin-top: 1em">on <br>
Enable compatibility mode. <br>
off <br>
Disable compatibility mode. <br>
auto <br>
Apply auto-detection to determine if compatibility mode is
required. Note that auto-detection is not available for all
compatibility modes.</p>

<p style="margin-top: 1em">If no value is specified,
&rsquo;on&rsquo; is assumed as default value.</p>

<p style="margin-top: 1em">Valid modes are:</p>

<p style="margin-top: 1em">libtool <br>
Enable this mode if you are capturing coverage data for a
project that was built using the libtool mechanism. See also
--compat-libtool.</p>

<p style="margin-top: 1em">The default value for this
setting is &rsquo;on&rsquo;.</p>

<p style="margin-top: 1em">hammer <br>
Enable this mode if you are capturing coverage data for a
project that was built using a version of GCC 3.3 that
contains a modification (hammer patch) of later GCC <br>
versions. You can identify a modified GCC 3.3 by checking
the build directory of your project for files ending in the
extension &rsquo;.bbg&rsquo;. Unmodified versions of GCC
<br>
3.3 name these files &rsquo;.bb&rsquo;.</p>

<p style="margin-top: 1em">The default value for this
setting is &rsquo;auto&rsquo;.</p>

<p style="margin-top: 1em">split_crc <br>
Enable this mode if you are capturing coverage data for a
project that was built using a version of GCC 4.6 that
contains a modification (split function checksums) <br>
of later GCC versions. Typical error messages when running
lcov on coverage data produced by such GCC versions are
&Acirc;&acute;out of memory&rsquo; and &rsquo;reached
unexpected end of <br>
file&rsquo;.</p>

<p style="margin-top: 1em">The default value for this
setting is &rsquo;auto&rsquo;</p>

<p style="margin-top: 1em">--compat-libtool <br>
--no-compat-libtool <br>
Specify whether to enable libtool compatibility mode.</p>

<p style="margin-top: 1em">Use --compat-libtool to enable
libtool compatibility mode or --no-compat-libtool to disable
it. The libtool compatibility mode is enabled by
default.</p>

<p style="margin-top: 1em">When libtool compatibility mode
is enabled, lcov will assume that the source code relating
to a .da file located in a directory named &quot;.libs&quot;
can be found in its parent <br>
directory.</p>

<p style="margin-top: 1em">If you have directories named
&quot;.libs&quot; in your build environment but don&rsquo;t
use libtool, disable this option to prevent problems when
capturing coverage data.</p>

<p style="margin-top: 1em">--config-file config-file <br>
Specify a configuration file to use.</p>

<p style="margin-top: 1em">When this option is specified,
neither the system-wide configuration file /etc/lcovrc, nor
the per-user configuration file ~/.lcovrc is read.</p>

<p style="margin-top: 1em">This option may be useful when
there is a need to run several instances of lcov with
different configuration file options in parallel.</p>

<p style="margin-top: 1em">--convert-filenames <br>
Convert filenames when applying diff.</p>

<p style="margin-top: 1em">Use this option together with
--diff to rename the file names of processed data sets
according to the data provided by the diff.</p>

<p style="margin-top: 1em">--diff tracefile difffile <br>
Convert coverage data in tracefile using source code diff
file difffile.</p>

<p style="margin-top: 1em">Use this option if you want to
merge coverage data from different source code levels of a
program, e.g. when you have data taken from an older version
and want to combine <br>
it with data from a more current version. lcov will try to
map source code lines between those versions and adjust the
coverage data respectively. difffile needs to be <br>
in unified format, i.e. it has to be created using the
&quot;-u&quot; option of the diff tool.</p>

<p style="margin-top: 1em">Note that lines which are not
present in the old version will not be counted as
instrumented, therefore tracefiles resulting from this
operation should not be interpreted <br>
individually but together with other tracefiles taken from
the newer version. Also keep in mind that converted coverage
data should only be used for overview purposes as <br>
the process itself introduces a loss of accuracy.</p>

<p style="margin-top: 1em">The result of the diff operation
will be written to stdout or the tracefile specified with
-o.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">-d directory <br>
--directory directory <br>
Use .da files in directory instead of kernel.</p>

<p style="margin-top: 1em">If you want to work on coverage
data for a user space program, use this option to specify
the location where the program was compiled (that&rsquo;s
where the counter files end&acirc; <br>
ing with .da will be stored).</p>

<p style="margin-top: 1em">Note that you may specify this
option more than once.</p>

<p style="margin-top: 1em">--external <br>
--no-external <br>
Specify whether to capture coverage data for external source
files.</p>

<p style="margin-top: 1em">External source files are files
which are not located in one of the directories specified by
--directory or --base-directory. Use --external to include
external source <br>
files while capturing coverage data or --no-external to
ignore this data.</p>

<p style="margin-top: 1em">Data for external source files
is included by default.</p>

<p style="margin-top: 1em">-e tracefile pattern <br>
--extract tracefile pattern <br>
Extract data from tracefile.</p>

<p style="margin-top: 1em">Use this switch if you want to
extract coverage data for only a particular set of files
from a tracefile. Additional command line parameters will be
interpreted as shell <br>
wildcard patterns (note that they may need to be escaped
accordingly to prevent the shell from expanding them first).
Every file entry in tracefile which matches at least <br>
one of those patterns will be extracted.</p>

<p style="margin-top: 1em">The result of the extract
operation will be written to stdout or the tracefile
specified with -o.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">-f <br>
--follow <br>
Follow links when searching for .da files.</p>

<p style="margin-top: 1em">--from-package package <br>
Use .da files in package instead of kernel or directory.</p>

<p style="margin-top: 1em">Use this option if you have
separate machines for build and test and want to perform the
.info file creation on the build machine. See --to-package
for more information.</p>

<p style="margin-top: 1em">--gcov-tool tool <br>
Specify the location of the gcov tool.</p>

<p style="margin-top: 1em">-h <br>
--help <br>
Print a short help text, then exit.</p>

<p style="margin-top: 1em">--ignore-errors errors <br>
Specify a list of errors after which to continue
processing.</p>

<p style="margin-top: 1em">Use this option to specify a
list of one or more classes of errors after which lcov
should continue processing instead of aborting.</p>

<p style="margin-top: 1em">errors can be a comma-separated
list of the following keywords:</p>

<p style="margin-top: 1em">gcov: the gcov tool returned
with a non-zero return code.</p>

<p style="margin-top: 1em">source: the source code file for
a data set could not be found.</p>

<p style="margin-top: 1em">graph: the graph file could not
be found or is corrupted.</p>

<p style="margin-top: 1em">-i <br>
--initial <br>
Capture initial zero coverage data.</p>

<p style="margin-top: 1em">Run lcov with -c and this option
on the directories containing .bb, .bbg or .gcno files
before running any test case. The result is a
&quot;baseline&quot; coverage data file that <br>
contains zero coverage for every instrumented line. Combine
this data file (using lcov -a) with coverage data files
captured after a test run to ensure that the percent&acirc;
<br>
age of total lines covered is correct even when not all
source code files were loaded during the test.</p>

<p style="margin-top: 1em">Recommended procedure when
capturing data for a test case:</p>

<p style="margin-top: 1em">1. create baseline coverage data
file <br>
# lcov -c -i -d appdir -o app_base.info</p>

<p style="margin-top: 1em">2. perform test <br>
# appdir/test</p>

<p style="margin-top: 1em">3. create test coverage data
file <br>
# lcov -c -d appdir -o app_test.info</p>

<p style="margin-top: 1em">4. combine baseline and test
coverage data <br>
# lcov -a app_base.info -a app_test.info -o
app_total.info</p>

<p style="margin-top: 1em">-k subdirectory <br>
--kernel-directory subdirectory <br>
Capture kernel coverage data only from subdirectory.</p>

<p style="margin-top: 1em">Use this option if you
don&rsquo;t want to get coverage data for all of the kernel,
but only for specific subdirectories. This option may be
specified more than once.</p>

<p style="margin-top: 1em">Note that you may need to
specify the full path to the kernel subdirectory depending
on the version of the kernel gcov support.</p>

<p style="margin-top: 1em">-l tracefile <br>
--list tracefile <br>
List the contents of the tracefile.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">--list-full-path <br>
--no-list-full-path <br>
Specify whether to show full paths during list
operation.</p>

<p style="margin-top: 1em">Use --list-full-path to show
full paths during list operation or --no-list-full-path to
show shortened paths. Paths are shortened by default.</p>

<p style="margin-top: 1em">--no-markers <br>
Use this option if you want to get coverage data without
regard to exclusion markers in the source code file. See
geninfo (1) for details on exclusion markers.</p>

<p style="margin-top: 1em">--no-recursion <br>
Use this option if you want to get coverage data for the
specified directory only without processing
subdirectories.</p>

<p style="margin-top: 1em">-o tracefile <br>
--output-file tracefile <br>
Write data to tracefile instead of stdout.</p>

<p style="margin-top: 1em">Specify &quot;-&quot; as a
filename to use the standard output.</p>

<p style="margin-top: 1em">By convention, lcov-generated
coverage data files are called &quot;tracefiles&quot; and
should have the filename extension &quot;.info&quot;.</p>

<p style="margin-top: 1em">--path path <br>
Strip path from filenames when applying diff.</p>

<p style="margin-top: 1em">Use this option together with
--diff to tell lcov to disregard the specified initial path
component when matching between tracefile and diff
filenames.</p>

<p style="margin-top: 1em">-q <br>
--quiet <br>
Do not print progress messages.</p>

<p style="margin-top: 1em">This option is implied when no
output filename is specified to prevent progress messages to
mess with coverage data which is also printed to the
standard output.</p>

<p style="margin-top: 1em">--rc keyword=value <br>
Override a configuration directive.</p>

<p style="margin-top: 1em">Use this option to specify a
keyword=value statement which overrides the corresponding
configuration statement in the lcovrc configuration file.
You can specify this <br>
option more than once to override multiple configuration
statements. See lcovrc(5) for a list of available keywords
and their meaning.</p>

<p style="margin-top: 1em">-r tracefile pattern <br>
--remove tracefile pattern <br>
Remove data from tracefile.</p>

<p style="margin-top: 1em">Use this switch if you want to
remove coverage data for a particular set of files from a
tracefile. Additional command line parameters will be
interpreted as shell wild&acirc; <br>
card patterns (note that they may need to be escaped
accordingly to prevent the shell from expanding them first).
Every file entry in tracefile which matches at least one
<br>
of those patterns will be removed.</p>

<p style="margin-top: 1em">The result of the remove
operation will be written to stdout or the tracefile
specified with -o.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">--strip depth <br>
Strip path components when applying diff.</p>

<p style="margin-top: 1em">Use this option together with
--diff to tell lcov to disregard the specified number of
initial directories when matching tracefile and diff
filenames.</p>

<p style="margin-top: 1em">--summary tracefile <br>
Show summary coverage information for the specified
tracefile.</p>

<p style="margin-top: 1em">Note that you may specify this
option more than once.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">-t testname <br>
--test-name testname <br>
Specify test name to be stored in the tracefile.</p>

<p style="margin-top: 1em">This name identifies a coverage
data set when more than one data set is merged into a
combined tracefile (see option -a).</p>

<p style="margin-top: 1em">Valid test names can consist of
letters, decimal digits and the underscore character
(&quot;_&quot;).</p>

<p style="margin-top: 1em">--to-package package <br>
Store .da files for later processing.</p>

<p style="margin-top: 1em">Use this option if you have
separate machines for build and test and want to perform the
.info file creation on the build machine. To do this, follow
these steps:</p>

<p style="margin-top: 1em">On the test machine: <br>
- run the test <br>
- run lcov -c [-d directory] --to-package file <br>
- copy file to the build machine</p>

<p style="margin-top: 1em">On the build machine: <br>
- run lcov -c --from-package file [-o and other options]</p>

<p style="margin-top: 1em">This works for both kernel and
user space coverage data. Note that you might have to
specify the path to the build directory using -b with either
--to-package or --from- <br>
package. Note also that the package data must be converted
to a .info file before recompiling the program or it will
become invalid.</p>

<p style="margin-top: 1em">-v <br>
--version <br>
Print version number, then exit.</p>

<p style="margin-top: 1em">-z <br>
--zerocounters <br>
Reset all execution counts to zero.</p>

<p style="margin-top: 1em">By default tries to reset kernel
execution counts. Use the --directory option to reset all
counters of a user space program.</p>

<p style="margin-top: 1em">Only one of -z, -c, -a, -e, -r,
-l, --diff or --summary may be specified at a time.</p>

<p style="margin-top: 1em">FILES <br>
/etc/lcovrc <br>
The system-wide configuration file.</p>

<p style="margin-top: 1em">~/.lcovrc <br>
The per-user configuration file.</p>

<p style="margin-top: 1em">AUTHOR <br>
Peter Oberparleiter
&lt;Peter.Oberparleiter@de.ibm.com&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
lcovrc(5), genhtml(1), geninfo(1), genpng(1), gendesc(1),
gcov(1)</p>

<p style="margin-top: 1em">2016-12-19 LCOV 1.13 lcov(1)</p>
<hr>
</body>
</html>
