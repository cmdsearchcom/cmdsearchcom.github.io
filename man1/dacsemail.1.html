<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DACSEMAIL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DACSEMAIL(1)</td>
    <td class="head-vol">DACS Commands Manual</td>
    <td class="head-rtitle">DACSEMAIL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dacsemail - Simple outgoing email agent
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 10.00ex; text-indent: -10.00ex;"><b>dacsemail</b>
  [ <b>-bcc</b>&#x00A0;<i>addr</i>]
  [{<b>-bf</b>&#x00A0;|&#x00A0;<b>--bodyfile</b>}&#x00A0; <i>path</i>]
  [{<b>-bs</b>&#x00A0;|&#x00A0; <b>--bodystring</b>}&#x00A0;<i>string</i>]
  [<b>-cc</b>&#x00A0; <i>addr</i>]
<div>&#x00A0;</div>
[ <b>-ct</b>&#x00A0;<i>value</i>]
  [{<b>-f</b>&#x00A0;|&#x00A0;<b>--from</b>}&#x00A0; <i>from</i>] [<b>-h</b> |
  <b>--help</b>] [<b>-header</b>&#x00A0;<i>name</i>&#x00A0;<i>value</i>]
<div>&#x00A0;</div>
[{ <b>-mailer</b>&#x00A0;|&#x00A0;<b>-mta</b>}&#x00A0;<i>path</i>]
  [{<b>-mailer-flags</b>&#x00A0;|&#x00A0;
  <b>-mta-flags</b>}&#x00A0;<i>string</i>] [ <b>-p</b> | <b>--prompt</b>]
  [<b>-save</b>&#x00A0; <i>path</i>]
  [{<b>-s</b>&#x00A0;|&#x00A0;<b>--subject</b>}&#x00A0; <i>subject</i>]
  [<b>-sender</b>&#x00A0; <i>sender</i>]
  [{<b>-t</b>&#x00A0;|&#x00A0;<b>--to</b>}&#x00A0; <i>addr</i>]
  [<b>-transform</b>] [ <b>-v</b> | <b>--verbose</b>]
  [<b>-var</b>&#x00A0;<i>name</i>&#x00A0; <i>value</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 10.00ex; text-indent: -10.00ex;"><b>dacsemail</b>
  <b>--version</b></div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of the <b>DACS</b> suite.
<div class="Pp"></div>
The <b>dacsemail</b> utility is a simple agent for sending email messages. It is
  a stand-alone program that neither accepts the usual <b>DACS</b> command line
  options ( <b>dacsoptions</b>[1]) nor accesses any <b>DACS</b> configuration
  files.
<div class="Pp"></div>
<b>dacsemail</b> constructs an <b>RFC 822</b>[2] format message but does not
  transmit it. It requires an external mailer, such as <b>sendmail(8)</b>[3], to
  transfer the message. The mailer command and its arguments can be specified on
  the <b>dacsemail</b> command line (see <b>-mailer</b>) or at build time (see
  <b>dacs.install(7)</b>[4]).
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
If the source for the message body is not specified on the command line, it will
  be read from the standard input. At least one recipient must be specified
  using <b>-t</b>, <b>-cc</b>, or <b>-bcc</b>.
<div class="Pp"></div>
<b>-bcc</b> <i>addr</i>
<div style="margin-left: 4.00ex;">Send the message to the undisclosed recipient
  address <i>addr</i>. It is the responsibility of the mailer to delete these
  recipient addresses before transmitting the message. This flag may be
  repeated.</div>
<div class="Pp"></div>
<b>-bf</b> <i>path</i>
<div>&#x00A0;</div>
<b>--bodyfile</b> <i>path</i>
<div style="margin-left: 4.00ex;">Read the message body from <i>path</i>. If
  <i>path</i> is -, the standard input is read.</div>
<div class="Pp"></div>
<b>-bs</b> <i>string</i>
<div>&#x00A0;</div>
<b>--bodystring</b> <i>string</i>
<div style="margin-left: 4.00ex;">Use <i>string</i> as the message body.</div>
<div class="Pp"></div>
<b>-cc</b> <i>addr</i>
<div style="margin-left: 4.00ex;">Send the message to recipient <i>addr</i> as a
  carbon copy. This flag may be repeated.</div>
<div class="Pp"></div>
<b>-ct</b> <i>value</i>
<div style="margin-left: 4.00ex;">Add a Content-type header of MIME type
  <i>value</i> to the message. If <i>value</i> is multipart/alternative, an
  appropriate <i>boundary</i> variable will be created, unless one has already
  been specified on the command line with the <b>-var</b> flag. It is assumed
  that the message body has already been correctly formatted for this MIME type,
  or will be after it has been transformed (see <b>-transform</b>).</div>
<div class="Pp"></div>
<b>-f</b> <i>from</i>
<div>&#x00A0;</div>
<b>--from</b> <i>from</i>
<div style="margin-left: 4.00ex;">Use <i>from</i> as the value of the message's
  From header.</div>
<div class="Pp"></div>
<b>-h</b>
<div>&#x00A0;</div>
<b>--help</b>
<div style="margin-left: 4.00ex;">Print usage information and then exit.</div>
<div class="Pp"></div>
<b>-header</b> <i>name</i> <i>value</i>
<div style="margin-left: 4.00ex;">Add a message header named <i>name</i> with
  value <i>value</i>. This flag should only be used for headers that do not have
  specific flags ( <b>-t</b>, <b>-ct</b>, <b>-f</b>, and so on).</div>
<div class="Pp"></div>
<b>-mailer</b> <i>path</i>
<div>&#x00A0;</div>
<b>-mta</b> <i>path</i>
<div style="margin-left: 4.00ex;">Use the message transfer agent command
  <i>path</i> (a full pathname) instead of the configured program. This program
  must read the message from its standard input and extract the list of
  recipients from the message's To, Cc, and Bcc headers. (If such a mailer is
  unavailable, it will be necessary to write a small program to wrap a mailer
  and provide the required interface to <b>dacsemail</b>.) The default is to run
  <b>sendmail(8)</b>[3] with its <b>-t</b> flag.</div>
<div class="Pp"></div>
<b>-mailer-flags</b> <i>string</i>
<div>&#x00A0;</div>
<b>-mta-flags</b> <i>string</i>
<div style="margin-left: 4.00ex;">Regardless of the mailer, use <i>string</i>
  for its command line flags.</div>
<div class="Pp"></div>
<b>-p</b>
<div>&#x00A0;</div>
<b>--prompt</b>
<div style="margin-left: 4.00ex;">Just before the message is to be sent, display
  it (to stderr) and wait for the user to respond to a prompt. At the prompt,
  the user may abort the message or allow it to be sent.</div>
<div class="Pp"></div>
<b>-save</b> <i>path</i>
<div style="margin-left: 4.00ex;">Just before sending (or prompting), write a
  copy of the outgoing message to <i>path</i>, replacing any previous contents
  of the file.</div>
<div class="Pp"></div>
<b>-s</b> <i>subject</i>
<div>&#x00A0;</div>
<b>--subject</b> <i>subject</i>
<div style="margin-left: 4.00ex;">Set the message's Subject header to
  <i>subject</i>.</div>
<div class="Pp"></div>
<b>-sender</b> <i>sender</i>
<div style="margin-left: 4.00ex;">Set the message's Sender header to
  <i>sender</i>.</div>
<div class="Pp"></div>
<b>-t</b> <i>addr</i>
<div>&#x00A0;</div>
<b>--to</b> <i>addr</i>
<div style="margin-left: 4.00ex;">Add <i>addr</i> as a &quot;To&quot; recipient.
  This flag may be repeated.</div>
<div class="Pp"></div>
<b>-transform</b>
<div style="margin-left: 4.00ex;">The message body, regardless of how it is
  specified, is filtered through the <b>DACS</b> transformation function. Please
  refer to <b>dacs_transform(8)</b>[5] for details. No access control rules may
  be associated with any transformation; i.e., they are all unconditional. A
  similar effect can be obtained by piping the output of
  <b>dacstransform(1)</b>[6] into <b>dacsemail</b>.</div>
<div class="Pp"></div>
<b>-v</b>
<div>&#x00A0;</div>
<b>--verbose</b>
<div style="margin-left: 4.00ex;">Enable verbose output for debugging.</div>
<div class="Pp"></div>
<b>--version</b>
<div style="margin-left: 4.00ex;">Display the program's version information and
  then exit.</div>
<div class="Pp"></div>
<b>-var</b> <i>name</i> <i>value</i>
<div style="margin-left: 4.00ex;">Create <b>a variable</b>[7] named <i>name</i>
  set to <i>value</i> for the transform function. The variable's value can be
  referenced within the message body in the <i>DACS</i> namespace as
  <i>${DACS::</i> <i></i><i>name</i><i>}</i>. The variable must not already be
  defined.</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Suppose myfile contains the following text:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
&lt;!--DACS expand=&quot;*&quot; --&gt;
This is a multi-part message in MIME format.
<div class="Pp"></div>
--${DACS::boundary}
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
<div class="Pp"></div>
Hello, ${DACS::user}!
<div class="Pp"></div>
--${DACS::boundary}
Content-Type: text/html; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
<div class="Pp"></div>
&lt;p&gt;
&lt;font color=&quot;red&quot;&gt;Hello, ${DACS::user}!&lt;/font&gt;
&lt;/p&gt;
--${DACS::boundary}--
&lt;!--DACS end=&quot;*&quot; --&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The following command might be used to send a message with a
  multipart/alternative structured body:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
% dacsemail -ct multipart/alternative -f auggie@example.com \
      -t harley@example.com -s &quot;Hello&quot; -transform -var user Auggie -bf myfile
</pre>
</div>
<div class="Pp"></div>
The resulting message will look something like the following:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
To: harley@example.com
From: auggie@example.com
Subject: Hello
Content-type: multipart/alternative; boundary=&quot;_----------=_03885942562898683484&quot;
Date: Wed, 07 Apr 2010 16:48:41 -0700 (PDT)
Content-transfer-encoding: 7bit
X-mailer: DACS 1.4.24a
<div class="Pp"></div>
This is a multi-part message in MIME format.
<div class="Pp"></div>
--_----------=_03885942562898683484
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
<div class="Pp"></div>
Hello, Auggie!
<div class="Pp"></div>
--_----------=_03885942562898683484
Content-Type: text/html; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: 7bit
<div class="Pp"></div>
&lt;p&gt;
&lt;font color=&quot;red&quot;&gt;Hello, Auggie!&lt;/font&gt;
&lt;/p&gt;
--_----------=_03885942562898683484--
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The program exits 0 if everything was fine, 1 if an error occurred. Error
  messages are printed to stderr. Errors and routine messages from the mailer
  are recorded wherever they are normally logged, outside of <b>DACS</b>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
This program's primary purpose is for testing <b>DACS</b> functionality that is
  needed for internal purposes. No significant improvements are envisioned. You
  could throw a rock and hit a better email agent.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dacs.exprs(5)</b>[8], <b>dacs.install(7)</b>[4], <b>dacs_transform(8)</b>[5],
  <b>sendmail(8)</b>[3]
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Distributed Systems Software ( <b>www.dss.ca</b>[9])
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright2003-2014 Distributed Systems Software. See the <b>LICENSE</b>[10] file
  that accompanies the distribution for licensing information.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">dacsoptions</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.1.html#dacsoptions</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">RFC 822</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.rfc-editor.org/rfc/rfc822.txt</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">sendmail(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.freebsd.org/cgi/man.cgi?query=sendmail&amp;apropos=0&amp;sektion=8&amp;manpath=FreeBSD+10.1-RELEASE&amp;format=html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag">dacs.install(7)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.install.7.html#configure_options</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 5.</dt>
  <dd class="It-tag">dacs_transform(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs_transform.8.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 6.</dt>
  <dd class="It-tag">dacstransform(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacstransform.1.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 7.</dt>
  <dd class="It-tag">a variable</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.exprs.5.html#variable_syntax</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 8.</dt>
  <dd class="It-tag">dacs.exprs(5)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.exprs.5.html#transform</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 9.</dt>
  <dd class="It-tag">www.dss.ca</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.dss.ca</div>
<dl class="Bl-tag">
  <dt class="It-tag">10.</dt>
  <dd class="It-tag">LICENSE</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/../misc/LICENSE</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">01/12/2017</td>
    <td class="foot-os">DACS 1.4.38a</td>
  </tr>
</table>
</body>
</html>
