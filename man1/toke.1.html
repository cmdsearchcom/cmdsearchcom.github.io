<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TOKE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TOKE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">TOKE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
toke - OpenBIOS tokenizer
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>toke</b> <i>[options] forth-file</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>toke</b> is an open-source FCode Tokenizer from the OpenBIOS project.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, -?</b></dt>
  <dd class="It-tag">Print a brief help message and then exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --ignore-errors</b></dt>
  <dd class="It-tag">Generate a Binary Output even if errors were reported.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --load-list</b></dt>
  <dd class="It-tag">Collect the names of <i>fload</i>ed files into an
      FLoad-List file. The names collected are in the same form as they were
      presented in the <i>fload</i> statements.
    <div>&#x00A0;</div>
    The name of the FLoad-List File is derived from the name of the binary
      output file, by replacing its extension with <i>.fl</i> , or, if the
      binary output file name had no extension, merely appending the extension
      <i>.fl</i>.
    <div>&#x00A0;</div>
    The binary output file name used for this purpose is either the one
      specified on the command line, or the one created by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --output-name <i>OutputFileName</i>,</b></dt>
  <dd class="It-tag">Direct the binary output (FCode result of Tokenization) to
      the named file instead of to the default-named file. This option is not
      valid when multiple input files are named.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P, --dependencies</b></dt>
  <dd class="It-tag">Collect the fully-resolved pathnames of floaded and ENCODEd
      files into a dependency-list file. The names collected are in the form
      that is presented to the host operating system: shell environment
      Variables and related expressions will be fully expanded, and the
      directory within the include-list in which the file was found will be
      attached.
    <div>&#x00A0;</div>
    The name of the dependency-list file will be the same as that of the
      FLoad-list file, except that its extension will be <i>.P</i> instead of
      <i>.fl</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Print additional messages (including advisories) during
      tokenization.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I, --Include <i>directory</i></b></dt>
  <dd class="It-tag">This tokenizer supports the notion of an include-list. The
      user creates the include-list by specifying a number of <i>-I
      directory</i> pairs on the command-line. All file-reads, whether for an
      fload command or an encode-file directive, will involve a search for the
      named file through the directories of the include-list, in the order they
      were supplied on the command-line.
    <div>&#x00A0;</div>
    If no include-list is created, file-reads are relative to the current
      working Directory. If an include-list is created, file-reads are
      restricted to the directories within it. For the current working directory
      to be included in the file-search, it must be specified explicitly.
      <b>-I.</b> will accomplish that quite effectively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T, --Trace <i>symbol</i></b></dt>
  <dd class="It-tag">This tokenizer supports the notion of a trace-list. The
      User creates the trace-list by specifying a number of <i>-T symbol</i>
      pairs on the command-line.
    <div>&#x00A0;</div>
    When a name is defined, whether as an FCode, an alias, a Macro or anything
      else, either in normal tokenization mode or &quot;Tokenizer
      Escape&quot;&#x2010;mode, if it matches a symbol that has been added to
      the trace list, a trace note message will be issued indicating that a
      definition of that name has been created. Subsequent trace note Messages
      will be issued when the definition of that name is invoked.
    <div>&#x00A0;</div>
    This trace-symbols feature can be helpful during maintenance of legacy code,
      for instance, when multiple symbols carry the same name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --define <i>Symbol[=Value]</i></b></dt>
  <dd class="It-tag">Define a command-line symbol and optionally, assign a value
      to it. If you wish the <i>value</i> to contain spaces or quotes, you can
      accomplish that using the shell escape conventions. This sequence may be
      repeated. Once a Symbol is defined on the command-line, it stays in effect
      for the duration of the entire batch of tokenizations (i.e., if there are
      multiple input files named on the command line). Command-line Symbols can
      be tested for purposes of conditional tokenization, or their assigned
      values can be evaluated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --flag <i>[no]&lt;FlagName&gt;</i></b></dt>
  <dd class="It-tag">The tokenizer recognizes a specific set of special-feature
      flag-names; each is associated with a specific non-standard variant
      behavior. Pass the flag-name as an argument to the <i>-f</i> switch to
      enable the behavior; to disable it, precede the flag-name with the
      optional string <i>no</i>.
    <div>&#x00A0;</div>
    The settings of the special-feature flags can also be changed or displayed
      from within the source input file.
    <div>&#x00A0;</div>
    The special-feature flags are all initially set to be enabled, except where
      noted.
    <div>&#x00A0;</div>
    The flag-names and their associated special-features are as follows:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Local-Values</b></dt>
  <dd class="It-tag">Support IBM-style Local Values (&quot;LV&quot;s). Initially
      disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LV-Legacy-Separator</b></dt>
  <dd class="It-tag">Allow Semicolon for Local Values Separator
      (&quot;Legacy&quot;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>LV-Legacy-Message</b></dt>
  <dd class="It-tag">Display a Warning Message when Semicolon is used as the
      Local Values Separator.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ABORT-Quote</b></dt>
  <dd class="It-tag">Allow ABORT&quot; macro.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Sun-ABORT-Quote</b></dt>
  <dd class="It-tag">ABORT&quot; with implicit IF ... THEN</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Abort-Quote-Throw</b></dt>
  <dd class="It-tag">Use -2 THROW, rather than ABORT, in an Abort&quot;
    phrase</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>String-remark-escape</b></dt>
  <dd class="It-tag">Allow &quot;\ (Quote-Backslash) to interrupt string
      parsing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Hex-remark-escape</b></dt>
  <dd class="It-tag">Allow \ (Backslash) to interrupt hex-sequence parsing
      within a string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>C-Style-string-escape</b></dt>
  <dd class="It-tag">Allow the C-style String-Escape pairs \n \t and \xx\ to be
      treated as special characters in string parsing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Always-Headers</b></dt>
  <dd class="It-tag">Override occurrences of the standard directive headerless
      in the source with -- effectively -- headers to make all definitions have
      a header. Occurrences of the directive external will continue to behave in
      the standard manner. Initially disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Always-External</b></dt>
  <dd class="It-tag">All definitions will be made as though under the external
      directive; occurrences of either Standard directive headerless or headers
      in the source will be overridden. This special-feature flag will also
      override the <i>Always-Headers</i> special-feature flag in the event that
      both have been specified. Initially disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Warn-if-Duplicate</b></dt>
  <dd class="It-tag">Display a WARNING message whenever a definition is made
      whose name duplicates that of an existing definition. Disabling this flag
      will suspend the duplicate-names test globally, until it is re-enabled. A
      Directive is supported that will suspend the test for the duration of only
      a single definition, without affecting global behavior.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Obsolete-FCode-Warning</b></dt>
  <dd class="It-tag">Display a WARNING message whenever an FCode function is
      invoked that the Standard identifies as obsolete.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Trace-Conditionals</b></dt>
  <dd class="It-tag">Issue advisory messages about the state of conditional
      tokenization. (Remember that advisory messages are displayed only if the
      <i>verbose</i> option <i>-v</i> is set.) Initially disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Upper-Case-Token-Names</b></dt>
  <dd class="It-tag"><b>Lower-Case-Token-Names</b> When outputting the names of
      headered functions ( <b>token-names</b>) to the binary output file,
      override the character-case in which the names appeared in the source, and
      convert them to <i>Upper-</i> or <i>Lower-</i> &#x2010;Case, respectively.
      (These flags do not affect text string sequences, whose character-case is
      always preserved.) Initially disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Big-End-PCI-Rev-Level</b></dt>
  <dd class="It-tag">Save the <b>Revision Level</b> of the Vendor's ROM field of
      the PCI Header in big-endian byte-order, rather than little-endian as per
      the general PCI Standard convention. (This flag does not affect any other
      field
    <br/>
     of the PCI Header). Initially disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Ret-Stk-Interp</b></dt>
  <dd class="It-tag">Allow return-stack operations during interpretation. While
      the standard specifies that usage of the operators <b>&gt;r</b>,
      <b>r@</b>, and <b>r&gt;</b> while interpreting is allowed, actual practice
      in the industry is inconsistent. Developers who wish to take a more
      cautious approach to this question can disable this flag so that any
      attempt to use the operators <b>&gt;r</b>, <b>r@</b>, and <b>r&gt;</b> in
      the interpreting state will generate an ERROR Message.</dd>
</dl>
</div>
<div class="Pp"></div>
Also, the pseudo-flag-name <i>help</i> will cause a list of the flag-names and
  their associated special-features to be printed.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>detok</b>(1).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Stefan Reinauer &lt;stepan@openbios.org&gt;
<div>&#x00A0;</div>
David L. Paktor &lt;dlpaktor@us.ibm.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This manual page was written by Aurelien Jarno &lt;aurel32@debian.org&gt; for
  the Debian GNU/Linux system (but may be used by others).
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 15, 2007</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
