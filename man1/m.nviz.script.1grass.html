<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:25:50 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>m.nviz.script(1grass) Grass User&rsquo;s Manual
m.nviz.script(1grass)</p>

<p style="margin-top: 1em">NAME <br>
m.nviz.script - Creates fly-through script to run in
NVIZ.</p>

<p style="margin-top: 1em">KEYWORDS <br>
miscellaneous, graphics, raster, raster3d, vector,
visualization</p>

<p style="margin-top: 1em">SYNOPSIS <br>
m.nviz.script <br>
m.nviz.script --help <br>
m.nviz.script [-fckoe] input=name output=name [name=string]
[route=east,north[,east,north,...]] dist=float ht=float
frames=integer [start=integer] [--overwrite] [--help] <br>
[--verbose] [--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-f <br>
Full render -- Save images</p>

<p style="margin-top: 1em">-c <br>
Fly at constant elevation (ht)</p>

<p style="margin-top: 1em">-k <br>
Include command in the script to output a KeyFrame file</p>

<p style="margin-top: 1em">-o <br>
Render images off-screen</p>

<p style="margin-top: 1em">-e <br>
Enable vector and sites drawing</p>

<p style="margin-top: 1em">--overwrite <br>
Allow output files to overwrite existing files</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
input=name [required] <br>
Name of input raster map</p>

<p style="margin-top: 1em">output=name [required] <br>
Name of output script</p>

<p style="margin-top: 1em">name=string <br>
Prefix of output images (default = NVIZ)</p>


<p style="margin-top: 1em">route=east,north[,east,north,...]
<br>
Route coordinates (east,north)</p>

<p style="margin-top: 1em">dist=float [required] <br>
Camera layback distance (in map units)</p>

<p style="margin-top: 1em">ht=float [required] <br>
Camera height above terrain</p>

<p style="margin-top: 1em">frames=integer [required] <br>
Number of frames</p>

<p style="margin-top: 1em">start=integer <br>
Start frame number (default=0)</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The m.nviz.script program allows the user to easily create a
script that can be run in NVIZ to fly through a terrain. The
NVIZ flight path can be supplied on the command line as <br>
comma separated coordinates. The program optionally allows a
KeyFrame file to created (after running the script). This
KeyFrame file can be loaded into the Keyframe Animation <br>
panel for fine tuning or editing.</p>

<p style="margin-top: 1em">The script generated by
m.nviz.script can be run from the NVIZ command line (nviz
script=script_name) or after NVIZ is started by selecting
Scripting-&gt;Play Script.</p>

<p style="margin-top: 1em">OPTIONS <br>
Flags: <br>
-f <br>
Full render <br>
The script will draw all loaded NVIZ data and save scene to
PPM image.</p>

<p style="margin-top: 1em">-c <br>
Flay at constant elevation <br>
With this flag the camera will be set to an elevation given
by the ht= parameter. The default is to fly at ht= above the
topography (i.e. camera height = elevation + ht)</p>

<p style="margin-top: 1em">-k <br>
Output KeyFrame file <br>
Generate a KeyFrame file that can be loaded from the NVIZ
Keyframe Animation panel. The KeyFrame file is automatically
assigned the script name with a .kanimator extension.</p>

<p style="margin-top: 1em">-o <br>
Render the animation in an off-screen context</p>

<p style="margin-top: 1em">-e <br>
Enable vector and sites drawing</p>

<p style="margin-top: 1em">Parameters: <br>
input <br>
The name of the GRASS raster map with elevation data. <br>
This should be the same file that will be loaded in
NVIZ.</p>

<p style="margin-top: 1em">output <br>
The name of the NVIZ script to create.</p>

<p style="margin-top: 1em">name <br>
The prefix for output images if running in full render mode
(-f). <br>
The defulat preifix is NVIZ (eg. NVIZ0000.ppm).</p>

<p style="margin-top: 1em">dist <br>
The distance of the camera behind the center of view.</p>

<p style="margin-top: 1em">ht <br>
The height of the camera above the center of view. <br>
If the the -c flag is set, the height represents the actual
camera height.</p>

<p style="margin-top: 1em">frames <br>
The number of frames in the animation.</p>

<p style="margin-top: 1em">start <br>
The starting frame number (default = 0). <br>
This option may be useful in full render mode when creating
an animation in sections. For example the user may wish to
start at frame number 2000.</p>

<p style="margin-top: 1em">route <br>
The comma separated geographic coordinates for keyframe
locations.</p>

<p style="margin-top: 1em">EXAMPLE <br>
To interactively create an NVIZ animation from raster
elev.rast with 500 frames and the camera set to 50 meters
above and 250 meters behind the scene, run the following:
<br>
g.region raster=elevation.dem <br>
d.rast elevation.dem <br>
m.nviz.script -k input=elevation.dem output=nviz.script
dist=2400 ht=1220 frames=1000 <br>
In the above the example the user is prompted to select the
route from the GRASS monitor. The output script,
&acirc;nviz.script.nvscr&acirc;, can then be run in NVIZ:
<br>
nviz elevation=elevation.dem script=nviz.script.nvscr</p>

<p style="margin-top: 1em">NOTES / HINTS <br>
The user must select at least four key-frame locations
(points) otherwise an error is generated.</p>

<p style="margin-top: 1em">If the GRASS region is changed
the m.nviz.script command must be re-run.</p>

<p style="margin-top: 1em">The current GRASS region and the
user supplied parameters are included as a comment at the
top of the output script. This information can be used to
easily re-create the anima&acirc; <br>
tion.</p>

<p style="margin-top: 1em">The camera position is
calculated backwards from the supplied position(s). It is
possible that the camera position will lie outside the
current window, in which case a non-fatal <br>
error is generated (Error: selected point is outside
region). This error can result in jerky movements during the
animation. To correct this problem reduce the dist=
parameter <br>
or increase the current region.</p>

<p style="margin-top: 1em">Loading the script into NVIZ
<br>
The user can run the script at arbitrary resolution. To
re-run it at higher spatial resolution or different
settings, the user first loads the surface and sets the
resolution, <br>
lighting, etc. Then internally the script generated by
m.nviz.script is run. Alternatively, the user can run nviz
with a previuosly saved state and the m.nviz.script
generated <br>
script: <br>
nviz state=saved.state script=nviz.script.nvscr</p>

<p style="margin-top: 1em">Keyframe animator script <br>
Running the script generated by m.nviz.script within NVIZ, a
new script for kanimator (keyframe animator) is created. The
kanimator panel offers fine tuning of the speed (frame <br>
rate) as well as editing individual frames or inserting new
frames. This new kanimator script has to be loaded from the
Kanimator panel in NVIZ. In the Kanimator panel there are
<br>
Save and Load button which allow the user to save and
re-load a kanimator script. Once loaded, the key frames will
appear in the GUI and can then be edited there.</p>

<p style="margin-top: 1em">SEE ALSO <br>
wxGUI 3D viewer (NVIZ)</p>

<p style="margin-top: 1em">AUTHOR <br>
Bob Covill</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-08-23
14:47:27 +0200 (Tue, 23 Aug 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: m.nviz.script source code (history)</p>

<p style="margin-top: 1em">Main index | Misc index | Topics
index | Keywords index | Graphical index | Full index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0
m.nviz.script(1grass)</p>
<hr>
</body>
</html>
