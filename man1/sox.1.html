<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:38:23 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SoX(1) Sound eXchange SoX(1)</p>

<p style="margin-top: 1em">NAME <br>
SoX - Sound eXchange, the Swiss Army knife of audio
manipulation</p>

<p style="margin-top: 1em">SYNOPSIS <br>
sox [global-options] [format-options] infile1 <br>
[[format-options] infile2] ... [format-options] outfile <br>
[effect [effect-options]] ...</p>

<p style="margin-top: 1em">play [global-options]
[format-options] infile1 <br>
[[format-options] infile2] ... [format-options] <br>
[effect [effect-options]] ...</p>

<p style="margin-top: 1em">rec [global-options]
[format-options] outfile <br>
[effect [effect-options]] ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Introduction <br>
SoX reads and writes audio files in most popular formats and
can optionally apply effects to them. It can combine
multiple input sources, synthesise audio, and, on many
systems, <br>
act as a general purpose audio player or a multi-track audio
recorder. It also has limited ability to split the input
into multiple output files.</p>

<p style="margin-top: 1em">All SoX functionality is
available using just the sox command. To simplify playing
and recording audio, if SoX is invoked as play, the output
file is automatically set to be the <br>
default sound device, and if invoked as rec, the default
sound device is used as an input source. Additionally, the
soxi(1) command provides a convenient way to just query
audio <br>
file header information.</p>

<p style="margin-top: 1em">The heart of SoX is a library
called libSoX. Those interested in extending SoX or using it
in other programs should refer to the libSoX manual page:
libsox(3).</p>

<p style="margin-top: 1em">SoX is a command-line audio
processing tool, particularly suited to making quick, simple
edits and to batch processing. If you need an interactive,
graphical audio editor, use <br>
audacity(1).</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">The overall SoX processing chain
can be summarised as follows:</p>

<p style="margin-top: 1em">Input(s) &acirc; Combiner
&acirc; Effects &acirc; Output(s)</p>

<p style="margin-top: 1em">Note however, that on the SoX
command line, the positions of the Output(s) and the Effects
are swapped w.r.t. the logical flow just shown. Note also
that whilst options pertain&acirc; <br>
ing to files are placed before their respective file name,
the opposite is true for effects. To show how this works in
practice, here is a selection of examples of how SoX might
<br>
be used. The simple <br>
sox recital.au recital.wav <br>
translates an audio file in Sun AU format to a Microsoft WAV
file, whilst <br>
sox recital.au -b 16 recital.wav channels 1 rate 16k fade 3
norm <br>
performs the same format translation, but also applies four
effects (down-mix to one channel, sample rate change,
fade-in, nomalize), and stores the result at a bit-depth of
16. <br>
sox -r 16k -e signed -b 8 -c 1 voice-memo.raw voice-memo.wav
<br>
converts &lsquo;raw&rsquo; (a.k.a. &lsquo;headerless&rsquo;)
audio to a self-describing file format, <br>
sox slow.aiff fixed.aiff speed 1.027 <br>
adjusts audio speed, <br>
sox short.wav long.wav longer.wav <br>
concatenates two audio files, and <br>
sox -m music.mp3 voice.wav mixed.flac <br>
mixes together two audio files. <br>
play &quot;The Moonbeams/Greatest/*.ogg&quot; bass +3 <br>
plays a collection of audio files whilst applying a bass
boosting effect, <br>
play -n -c1 synth sin %-12 sin %-9 sin %-5 sin %-2 fade h
0.1 1 0.1 <br>
plays a synthesised &lsquo;A minor seventh&rsquo; chord with
a pipe-organ sound, <br>
rec -c 2 radio.aiff trim 0 30:00 <br>
records half an hour of stereo audio, and <br>
play -q take1.aiff &amp; rec -M take1.aiff take1-dub.aiff
<br>
(with POSIX shell and where supported by hardware) records a
new track in a multi-track recording. Finally, <br>
rec -r 44100 -b 16 -s -p silence 1 0.50 0.1% 1 10:00 0.1% |
sox -p song.ogg silence 1 0.50 0.1% 1 2.0 0.1% : newfile :
restart <br>
records a stream of audio such as LP/cassette and splits in
to multiple audio files at points with 2 seconds of silence.
Also, it does not start recording until it detects audio
<br>
is playing and stops after it sees 10 minutes of
silence.</p>

<p style="margin-top: 1em">N.B. The above is just an
overview of SoX&rsquo;s capabilities; detailed explanations
of how to use all SoX parameters, file formats, and effects
can be found below in this manual, in <br>
soxformat(7), and in soxi(1).</p>

<p style="margin-top: 1em">File Format Types <br>
SoX can work with &lsquo;self-describing&rsquo; and
&lsquo;raw&rsquo; audio files. &lsquo;self-describing&rsquo;
formats (e.g. WAV, FLAC, MP3) have a header that completely
describes the signal and encoding <br>
attributes of the audio data that follows. &lsquo;raw&rsquo;
or &lsquo;headerless&rsquo; formats do not contain this
information, so the audio characteristics of these must be
described on the SoX com&acirc; <br>
mand line or inferred from those of the input file.</p>

<p style="margin-top: 1em">The following four
characteristics are used to describe the format of audio
data such that it can be processed with SoX:</p>

<p style="margin-top: 1em">sample rate <br>
The sample rate in samples per second (&lsquo;Hertz&rsquo;
or &lsquo;Hz&rsquo;). Digital telephony traditionally uses a
sample rate of 8000 Hz (8 kHz), though these days, 16 and
even 32 kHz are <br>
becoming more common. Audio Compact Discs use 44100 Hz (44.1
kHz). Digital Audio Tape and many computer systems use 48
kHz. Professional audio systems often use 96 kHz.</p>

<p style="margin-top: 1em">sample size <br>
The number of bits used to store each sample. Today, 16-bit
is commonly used. 8-bit was popular in the early days of
computer audio. 24-bit is used in the professional <br>
audio arena. Other sizes are also used.</p>

<p style="margin-top: 1em">data encoding <br>
The way in which each audio sample is represented (or
&lsquo;encoded&rsquo;). Some encodings have variants with
different byte-orderings or bit-orderings. Some compress the
audio <br>
data so that the stored audio data takes up less space (i.e.
disk space or transmission bandwidth) than the other format
parameters and the number of samples would imply. <br>
Commonly-used encoding types include floating-point,
&Icirc;&frac14;-law, ADPCM, signed-integer PCM, MP3, and
FLAC.</p>

<p style="margin-top: 1em">channels <br>
The number of audio channels contained in the file. One
(&lsquo;mono&rsquo;) and two (&lsquo;stereo&rsquo;) are
widely used. &lsquo;Surround sound&rsquo; audio typically
contains six or more channels.</p>

<p style="margin-top: 1em">The term &lsquo;bit-rate&rsquo;
is a measure of the amount of storage occupied by an encoded
audio signal over a unit of time. It can depend on all of
the above and is typically denoted as <br>
a number of kilo-bits per second (kbps). An A-law telephony
signal has a bit-rate of 64 kbps. MP3-encoded stereo music
typically has a bit-rate of 128-196 kbps. FLAC-encoded <br>
stereo music typically has a bit-rate of 550-760 kbps.</p>

<p style="margin-top: 1em">Most self-describing formats
also allow textual &lsquo;comments&rsquo; to be embedded in
the file that can be used to describe the audio in some way,
e.g. for music, the title, the author, <br>
etc.</p>

<p style="margin-top: 1em">One important use of audio file
comments is to convey &lsquo;Replay Gain&rsquo; information.
SoX supports applying Replay Gain information, but not
generating it. Note that by default, SoX <br>
copies input file comments to output files that support
comments, so output files may contain Replay Gain
information if some was present in the input file. In this
case, if <br>
anything other than a simple format conversion was performed
then the output file Replay Gain information is likely to be
incorrect and so should be recalculated using a tool <br>
that supports this (not SoX).</p>

<p style="margin-top: 1em">The soxi(1) command can be used
to display information from audio file headers.</p>

<p style="margin-top: 1em">Determining &amp; Setting The
File Format <br>
There are several mechanisms available for SoX to use to
determine or set the format characteristics of an audio
file. Depending on the circumstances, individual
characteristics <br>
may be determined or set using different mechanisms.</p>

<p style="margin-top: 1em">To determine the format of an
input file, SoX will use, in order of precedence and as
given or available:</p>

<p style="margin-top: 1em">1. Command-line format
options.</p>

<p style="margin-top: 1em">2. The contents of the file
header.</p>

<p style="margin-top: 1em">3. The filename extension.</p>

<p style="margin-top: 1em">To set the output file format,
SoX will use, in order of precedence and as given or
available:</p>

<p style="margin-top: 1em">1. Command-line format
options.</p>

<p style="margin-top: 1em">2. The filename extension.</p>

<p style="margin-top: 1em">3. The input file format
characteristics, or the closest that is supported by the
output file type.</p>

<p style="margin-top: 1em">For all files, SoX will exit
with an error if the file type cannot be determined.
Command-line format options may need to be added or changed
to resolve the problem.</p>

<p style="margin-top: 1em">Playing &amp; Recording Audio
<br>
The play and rec commands are provided so that basic playing
and recording is as simple as <br>
play existing-file.wav <br>
and <br>
rec new-file.wav <br>
These two commands are functionally equivalent to <br>
sox existing-file.wav -d <br>
and <br>
sox -d new-file.wav <br>
Of course, further options and effects (as described below)
can be added to the commands in either form.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">Some systems provide more than
one type of (SoX-compatible) audio driver, e.g. ALSA &amp;
OSS, or SUNAU &amp; AO. Systems can also have more than one
audio device (a.k.a. &lsquo;sound card&rsquo;). <br>
If more than one audio driver has been built-in to SoX, and
the default selected by SoX when recording or playing is not
the one that is wanted, then the AUDIODRIVER environment
<br>
variable can be used to override the default. For example
(on many systems): <br>
set AUDIODRIVER=oss <br>
play ... <br>
The AUDIODEV environment variable can be used to override
the default audio device, e.g. <br>
set AUDIODEV=/dev/dsp2 <br>
play ... <br>
sox ... -t oss <br>
or <br>
set AUDIODEV=hw:soundwave,1,2 <br>
play ... <br>
sox ... -t alsa <br>
Note that the way of setting environment variables varies
from system to system - for some specific examples, see
&lsquo;SOX_OPTS&rsquo; below.</p>

<p style="margin-top: 1em">When playing a file with a
sample rate that is not supported by the audio output
device, SoX will automatically invoke the rate effect to
perform the necessary sample rate con&acirc; <br>
version. For compatibility with old hardware, the default
rate quality level is set to &lsquo;low&rsquo;. This can be
changed by explicitly specifying the rate effect with a
different qual&acirc; <br>
ity level, e.g. <br>
play ... rate -m <br>
or by using the --play-rate-arg option (see below).</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">On some systems, SoX allows
audio playback volume to be adjusted whilst using play.
Where supported, this is achieved by tapping the
&lsquo;v&rsquo; &amp; &lsquo;V&rsquo; keys during
playback.</p>

<p style="margin-top: 1em">To help with setting a suitable
recording level, SoX includes a peak-level meter which can
be invoked (before making the actual recording) as follows:
<br>
rec -n <br>
The recording level should be adjusted (using the
system-provided mixer program, not SoX) so that the meter is
at most occasionally full scale, and never &lsquo;in the
red&rsquo; (an excla&acirc; <br>
mation mark is shown). See also -S below.</p>

<p style="margin-top: 1em">Accuracy <br>
Many file formats that compress audio discard some of the
audio signal information whilst doing so. Converting to such
a format and then converting back again will not produce an
<br>
exact copy of the original audio. This is the case for many
formats used in telephony (e.g. A-law, GSM) where low signal
bandwidth is more important than high audio fidelity, <br>
and for many formats used in portable music players (e.g.
MP3, Vorbis) where adequate fidelity can be retained even
with the large compression ratios that are needed to make
por&acirc; <br>
table players practical.</p>

<p style="margin-top: 1em">Formats that discard audio
signal information are called &lsquo;lossy&rsquo;. Formats
that do not are called &lsquo;lossless&rsquo;. The term
&lsquo;quality&rsquo; is used as a measure of how closely
the original <br>
audio signal can be reproduced when using a lossy
format.</p>

<p style="margin-top: 1em">Audio file conversion with SoX
is lossless when it can be, i.e. when not using lossy
compression, when not reducing the sampling rate or number
of channels, and when the number <br>
of bits used in the destination format is not less than in
the source format. E.g. converting from an 8-bit PCM format
to a 16-bit PCM format is lossless but converting from an
<br>
8-bit PCM format to (8-bit) A-law isn&rsquo;t.</p>

<p style="margin-top: 1em">N.B. SoX converts all audio
files to an internal uncompressed format before performing
any audio processing. This means that manipulating a file
that is stored in a lossy format <br>
can cause further losses in audio fidelity. E.g. with <br>
sox long.mp3 short.mp3 trim 10 <br>
SoX first decompresses the input MP3 file, then applies the
trim effect, and finally creates the output MP3 file by
re-compressing the audio - with a possible reduction in <br>
fidelity above that which occurred when the input file was
created. Hence, if what is ultimately desired is lossily
compressed audio, it is highly recommended to perform all
<br>
audio processing using lossless file formats and then
convert to the lossy format only at the final stage.</p>

<p style="margin-top: 1em">N.B. Applying multiple effects
with a single SoX invocation will, in general, produce more
accurate results than those produced using multiple SoX
invocations.</p>

<p style="margin-top: 1em">Dithering <br>
Dithering is a technique used to maximise the dynamic range
of audio stored at a particular bit-depth. Any distortion
introduced by quantisation is decorrelated by adding a small
<br>
amount of white noise to the signal. In most cases, SoX can
determine whether the selected processing requires dither
and will add it during output formatting if appropriate.</p>

<p style="margin-top: 1em">Specifically, by default, SoX
automatically adds TPDF dither when the output bit-depth is
less than 24 and any of the following are true:</p>

<p style="margin-top: 1em">&Acirc;&middot; bit-depth
reduction has been specified explicitly using a command-line
option</p>

<p style="margin-top: 1em">&Acirc;&middot; the output file
format supports only bit-depths lower than that of the input
file format</p>

<p style="margin-top: 1em">&Acirc;&middot; an effect has
increased effective bit-depth within the internal processing
chain</p>

<p style="margin-top: 1em">For example, adjusting volume
with vol 0.25 requires two additional bits in which to
losslessly store its results (since 0.25 decimal equals 0.01
binary). So if the input file <br>
bit-depth is 16, then SoX&rsquo;s internal representation
will utilise 18 bits after processing this volume change. In
order to store the output at the same depth as the input,
<br>
dithering is used to remove the additional bits.</p>

<p style="margin-top: 1em">Use the -V option to see what
processing SoX has automatically added. The -D option may be
given to override automatic dithering. To invoke dithering
manually (e.g. to select a <br>
noise-shaping curve), see the dither effect.</p>

<p style="margin-top: 1em">Clipping <br>
Clipping is distortion that occurs when an audio signal
level (or &lsquo;volume&rsquo;) exceeds the range of the
chosen representation. In most cases, clipping is
undesirable and so should <br>
be corrected by adjusting the level prior to the point (in
the processing chain) at which it occurs.</p>

<p style="margin-top: 1em">In SoX, clipping could occur, as
you might expect, when using the vol or gain effects to
increase the audio volume. Clipping could also occur with
many other effects, when con&acirc; <br>
verting one format to another, and even when simply playing
the audio.</p>

<p style="margin-top: 1em">Playing an audio file often
involves resampling, and processing by analogue components
can introduce a small DC offset and/or amplification, all of
which can produce distortion <br>
if the audio signal level was initially too close to the
clipping point.</p>

<p style="margin-top: 1em">For these reasons, it is usual
to make sure that an audio file&rsquo;s signal level has
some &lsquo;headroom&rsquo;, i.e. it does not exceed a
particular level below the maximum possible level for <br>
the given representation. Some standards bodies recommend as
much as 9dB headroom, but in most cases, 3dB (&acirc; 70%
linear) is enough. Note that this wisdom seems to have been
<br>
lost in modern music production; in fact, many CDs, MP3s,
etc. are now mastered at levels above 0dBFS i.e. the audio
is clipped as delivered.</p>

<p style="margin-top: 1em">SoX&rsquo;s stat and stats
effects can assist in determining the signal level in an
audio file. The gain or vol effect can be used to prevent
clipping, e.g. <br>
sox dull.wav bright.wav gain -6 treble +6 <br>
guarantees that the treble boost will not clip.</p>

<p style="margin-top: 1em">If clipping occurs at any point
during processing, SoX will display a warning message to
that effect.</p>

<p style="margin-top: 1em">See also -G and the gain and
norm effects.</p>

<p style="margin-top: 1em">Input File Combining <br>
SoX&rsquo;s input combiner can be configured (see OPTIONS
below) to combine multiple files using any of the following
methods: &lsquo;concatenate&rsquo;, &lsquo;sequence&rsquo;,
&lsquo;mix&rsquo;, &lsquo;mix-power&rsquo;,
&lsquo;merge&rsquo;, <br>
or &lsquo;multiply&rsquo;. The default method is
&lsquo;sequence&rsquo; for play, and
&lsquo;concatenate&rsquo; for rec and sox.</p>

<p style="margin-top: 1em">For all methods other than
&lsquo;sequence&rsquo;, multiple input files must have the
same sampling rate. If necessary, separate SoX invocations
can be used to make sampling rate adjustments <br>
prior to combining.</p>

<p style="margin-top: 1em">If the &lsquo;concatenate&rsquo;
combining method is selected (usually, this will be by
default) then the input files must also have the same number
of channels. The audio from each input <br>
will be concatenated in the order given to form the output
file.</p>

<p style="margin-top: 1em">The &lsquo;sequence&rsquo;
combining method is selected automatically for play. It is
similar to &lsquo;concatenate&rsquo; in that the audio from
each input file is sent serially to the output file. <br>
However, here the output file may be closed and reopened at
the corresponding transition between input files. This may
be just what is needed when sending different types of <br>
audio to an output device, but is not generally useful when
the output is a normal file.</p>

<p style="margin-top: 1em">If either the &lsquo;mix&rsquo;
or &lsquo;mix-power&rsquo; combining method is selected then
two or more input files must be given and will be mixed
together to form the output file. The number of <br>
channels in each input file need not be the same, but SoX
will issue a warning if they are not and some channels in
the output file will not contain audio from every input
file. <br>
A mixed audio file cannot be un-mixed without reference to
the original input files.</p>

<p style="margin-top: 1em">If the &lsquo;merge&rsquo;
combining method is selected then two or more input files
must be given and will be merged together to form the output
file. The number of channels in each input <br>
file need not be the same. A merged audio file comprises all
of the channels from all of the input files. Un-merging is
possible using multiple invocations of SoX with the remix
<br>
effect. For example, two mono files could be merged to form
one stereo file. The first and second mono files would
become the left and right channels of the stereo file.</p>

<p style="margin-top: 1em">The &lsquo;multiply&rsquo;
combining method multiplies the sample values of
corresponding channels (treated as numbers in the interval
-1 to +1). If the number of channels in the input <br>
files is not the same, the missing channels are considered
to contain all zero.</p>

<p style="margin-top: 1em">When combining input files, SoX
applies any specified effects (including, for example, the
vol volume adjustment effect) after the audio has been
combined. However, it is often <br>
useful to be able to set the volume of (i.e.
&lsquo;balance&rsquo;) the inputs individually, before
combining takes place.</p>

<p style="margin-top: 1em">For all combining methods, input
file volume adjustments can be made manually using the -v
option (below) which can be given for one or more input
files. If it is given for only <br>
some of the input files then the others receive no volume
adjustment. In some circumstances, automatic volume
adjustments may be applied (see below).</p>

<p style="margin-top: 1em">The -V option (below) can be
used to show the input file volume adjustments that have
been selected (either manually or automatically).</p>

<p style="margin-top: 1em">There are some special
considerations that need to made when mixing input
files:</p>

<p style="margin-top: 1em">Unlike the other methods,
&lsquo;mix&rsquo; combining has the potential to cause
clipping in the combiner if no balancing is performed. In
this case, if manual volume adjustments are not <br>
given, SoX will try to ensure that clipping does not occur
by automatically adjusting the volume (amplitude) of each
input signal by a factor of &Acirc;&sup1;/n, where n is the
number of <br>
input files. If this results in audio that is too quiet or
otherwise unbalanced then the input file volumes can be set
manually as described above. Using the norm effect on the
<br>
mix is another alternative.</p>

<p style="margin-top: 1em">If mixed audio seems loud enough
at some points but too quiet in others then dynamic range
compression should be applied to correct this - see the
compand effect.</p>

<p style="margin-top: 1em">With the &lsquo;mix-power&rsquo;
combine method, the mixed volume is approximately equal to
that of one of the input signals. This is achieved by
balancing using a factor of &Acirc;&sup1;/&acirc;n instead
of <br>
&Acirc;&sup1;/n. Note that this balancing factor does not
guarantee that clipping will not occur, but the number of
clips will usually be low and the resultant distortion is
generally <br>
imperceptible.</p>

<p style="margin-top: 1em">Output Files <br>
SoX&rsquo;s default behaviour is to take one or more input
files and write them to a single output file.</p>

<p style="margin-top: 1em">This behaviour can be changed by
specifying the pseudo-effect &lsquo;newfile&rsquo; within
the effects list. SoX will then enter multiple output
mode.</p>

<p style="margin-top: 1em">In multiple output mode, a new
file is created when the effects prior to the
&lsquo;newfile&rsquo; indicate they are done. The effects
chain listed after &lsquo;newfile&rsquo; is then started up
and <br>
its output is saved to the new file.</p>

<p style="margin-top: 1em">In multiple output mode, a
unique number will automatically be appended to the end of
all filenames. If the filename has an extension then the
number is inserted before the <br>
extension. This behaviour can be customized by placing a %n
anywhere in the filename where the number should be
substituted. An optional number can be placed after the % to
<br>
indicate a minimum fixed width for the number.</p>

<p style="margin-top: 1em">Multiple output mode is not very
useful unless an effect that will stop the effects chain
early is specified before the &lsquo;newfile&rsquo;. If end
of file is reached before the effects <br>
chain stops itself then no new file will be created as it
would be empty.</p>

<p style="margin-top: 1em">The following is an example of
splitting the first 60 seconds of an input file into two 30
second files and ignoring the rest. <br>
sox song.wav ringtone%1n.wav trim 0 30 : newfile : trim 0
30</p>

<p style="margin-top: 1em">Stopping SoX <br>
Usually SoX will complete its processing and exit
automatically once it has read all available audio data from
the input files.</p>

<p style="margin-top: 1em">If desired, it can be terminated
earlier by sending an interrupt signal to the process
(usually by pressing the keyboard interrupt key which is
normally Ctrl-C). This is a <br>
natural requirement in some circumstances, e.g. when using
SoX to make a recording. Note that when using SoX to play
multiple files, Ctrl-C behaves slightly differently: <br>
pressing it once causes SoX to skip to the next file;
pressing it twice in quick succession causes SoX to
exit.</p>

<p style="margin-top: 1em">Another option to stop
processing early is to use an effect that has a time period
or sample count to determine the stopping point. The trim
effect is an example of this. Once <br>
all effects chains have stopped then SoX will also stop.</p>

<p style="margin-top: 1em">FILENAMES <br>
Filenames can be simple file names, absolute or relative
path names, or URLs (input files only). Note that URL
support requires that wget(1) is available.</p>

<p style="margin-top: 1em">Note: Giving SoX an input or
output filename that is the same as a SoX effect-name will
not work since SoX will treat it as an effect specification.
The only work-around to this <br>
is to avoid such filenames. This is generally not difficult
since most audio filenames have a filename
&lsquo;extension&rsquo;, whilst effect-names do not.</p>

<p style="margin-top: 1em">Special Filenames <br>
The following special filenames may be used in certain
circumstances in place of a normal filename on the command
line:</p>

<p style="margin-top: 1em">- SoX can be used in simple
pipeline operations by using the special filename
&lsquo;-&rsquo; which, if used as an input filename, will
cause SoX will read audio data from &lsquo;standard <br>
input&rsquo; (stdin), and which, if used as the output
filename, will cause SoX will send audio data to
&lsquo;standard output&rsquo; (stdout). Note that when using
this option for the <br>
output file, and sometimes when using it for an input file,
the file-type (see -t below) must also be given.</p>

<p style="margin-top: 1em">&quot;|program [options]
...&quot; <br>
This can be used in place of an input filename to specify
the the given program&rsquo;s standard output (stdout) be
used as an input file. Unlike - (above), this can be used
<br>
for several inputs to one SoX command. For example, if
&lsquo;genw&rsquo; generates mono WAV formatted signals to
its standard output, then the following command makes a
stereo file <br>
from two generated signals: <br>
sox -M &quot;|genw --imd -&quot; &quot;|genw --thd -&quot;
out.wav <br>
For headerless (raw) audio, -t (and perhaps other format
options) will need to be given, preceding the input
command.</p>

<p style="margin-top: 1em">&quot;wildcard-filename&quot;
<br>
Specifies that filename &lsquo;globbing&rsquo; (wild-card
matching) should be performed by SoX instead of by the
shell. This allows a single set of file options to be
applied to a <br>
group of files. For example, if the current directory
contains three &lsquo;vox&rsquo; files, file1.vox,
file2.vox, and file3.vox, then <br>
play --rate 6k *.vox <br>
will be expanded by the &lsquo;shell&rsquo; (in most
environments) to <br>
play --rate 6k file1.vox file2.vox file3.vox <br>
which will treat only the first vox file as having a sample
rate of 6k. With <br>
play --rate 6k &quot;*.vox&quot; <br>
the given sample rate option will be applied to all three
vox files.</p>

<p style="margin-top: 1em">-p, --sox-pipe <br>
This can be used in place of an output filename to specify
that the SoX command should be used as in input pipe to
another SoX command. For example, the command: <br>
play &quot;|sox -n -p synth 2&quot; &quot;|sox -n -p synth 2
tremolo 10&quot; stat <br>
plays two &lsquo;files&rsquo; in succession, each with
different effects.</p>

<p style="margin-top: 1em">-p is in fact an alias for
&lsquo;-t sox -&rsquo;.</p>

<p style="margin-top: 1em">-d, --default-device <br>
This can be used in place of an input or output filename to
specify that the default audio device (if one has been built
into SoX) is to be used. This is akin to invoking <br>
rec or play (as described above).</p>

<p style="margin-top: 1em">-n, --null <br>
This can be used in place of an input or output filename to
specify that a &lsquo;null file&rsquo; is to be used. Note
that here, &lsquo;null file&rsquo; refers to a SoX-specific
mechanism and <br>
is not related to any operating-system mechanism with a
similar name.</p>

<p style="margin-top: 1em">Using a null file to input audio
is equivalent to using a normal audio file that contains an
infinite amount of silence, and as such is not generally
useful unless used <br>
with an effect that specifies a finite time length (such as
trim or synth).</p>

<p style="margin-top: 1em">Using a null file to output
audio amounts to discarding the audio and is useful mainly
with effects that produce information about the audio
instead of affecting it (such <br>
as noiseprof or stat).</p>

<p style="margin-top: 1em">The sampling rate associated
with a null file is by default 48 kHz, but, as with a normal
file, this can be overridden if desired using command-line
format options (see <br>
below).</p>

<p style="margin-top: 1em">Supported File &amp; Audio
Device Types <br>
See soxformat(7) for a list and description of the supported
file formats and audio device drivers.</p>

<p style="margin-top: 1em">OPTIONS <br>
Global Options <br>
These options can be specified on the command line at any
point before the first effect name.</p>

<p style="margin-top: 1em">The SOX_OPTS environment
variable can be used to provide alternative default values
for SoX&rsquo;s global options. For example: <br>
SOX_OPTS=&quot;--buffer 20000 --play-rate-arg -hs --temp
/mnt/temp&quot; <br>
Note that setting SOX_OPTS can potentially create unwanted
changes in the behaviour of scripts or other programs that
invoke SoX. SOX_OPTS might best be used for things (such as
<br>
in the given example) that reflect the environment in which
SoX is being run. Enabling options such as --no-clobber as
default might be handled better using a shell alias since
<br>
a shell alias will not affect operation in scripts etc.</p>

<p style="margin-top: 1em">One way to ensure that a script
cannot be affected by SOX_OPTS is to clear SOX_OPTS at the
start of the script, but this of course loses the benefit of
SOX_OPTS carrying some <br>
system-wide default options. An alternative approach is to
explicitly invoke SoX with default option values, e.g. <br>
SOX_OPTS=&quot;-V --no-clobber&quot; <br>
... <br>
sox -V2 --clobber $input $output ... <br>
Note that the way to set environment variables varies from
system to system. Here are some examples:</p>

<p style="margin-top: 1em">Unix bash: <br>
export SOX_OPTS=&quot;-V --no-clobber&quot; <br>
Unix csh: <br>
setenv SOX_OPTS &quot;-V --no-clobber&quot; <br>
MS-DOS/MS-Windows: <br>
set SOX_OPTS=-V --no-clobber <br>
MS-Windows GUI: via Control Panel : System : Advanced :
Environment Variables</p>

<p style="margin-top: 1em">Mac OS X GUI: Refer to
Apple&rsquo;s Technical Q&amp;A QA1067 document.</p>

<p style="margin-top: 1em">--buffer BYTES, --input-buffer
BYTES <br>
Set the size in bytes of the buffers used for processing
audio (default 8192). --buffer applies to input, effects,
and output processing; --input-buffer applies only to <br>
input processing (for which it overrides --buffer if both
are given).</p>

<p style="margin-top: 1em">Be aware that large values for
--buffer will cause SoX to be become slow to respond to
requests to terminate or to skip the current input file.</p>

<p style="margin-top: 1em">--clobber <br>
Don&rsquo;t prompt before overwriting an existing file with
the same name as that given for the output file. This is the
default behaviour.</p>

<p style="margin-top: 1em">--combine
concatenate|merge|mix|mix-power|multiply|sequence <br>
Select the input file combining method; for some of these,
short options are available: -m selects &lsquo;mix&rsquo;,
-M selects &lsquo;merge&rsquo;, and -T selects
&lsquo;multiply&rsquo;.</p>

<p style="margin-top: 1em">See Input File Combining above
for a description of the different combining methods.</p>

<p style="margin-top: 1em">-D, --no-dither <br>
Disable automatic dither - see &lsquo;Dithering&rsquo;
above. An example of why this might occasionally be useful
is if a file has been converted from 16 to 24 bit with the
intention <br>
of doing some processing on it, but in fact no processing is
needed after all and the original 16 bit file has been lost,
then, strictly speaking, no dither is needed if <br>
converting the file back to 16 bit. See also the stats
effect for how to determine the actual bit depth of the
audio within a file.</p>

<p style="margin-top: 1em">--effects-file FILENAME <br>
Use FILENAME to obtain all effects and their arguments. The
file is parsed as if the values were specified on the
command line. A new line can be used in place of the <br>
special : marker to separate effect chains. For convenience,
such markers at the end of the file are normally ignored; if
you want to specify an empty last effects chain, <br>
use an explicit : by itself on the last line of the file.
This option causes any effects specified on the command line
to be discarded.</p>

<p style="margin-top: 1em">-G, --guard <br>
Automatically invoke the gain effect to guard against
clipping. E.g. <br>
sox -G infile -b 16 outfile rate 44100 dither -s <br>
is shorthand for <br>
sox infile -b 16 outfile gain -h rate 44100 gain -rh dither
-s <br>
See also -V, --norm, and the gain effect.</p>

<p style="margin-top: 1em">-h, --help <br>
Show version number and usage information.</p>

<p style="margin-top: 1em">--help-effect NAME <br>
Show usage information on the specified effect. The name all
can be used to show usage on all effects.</p>

<p style="margin-top: 1em">--help-format NAME <br>
Show information about the specified file format. The name
all can be used to show information on all formats.</p>

<p style="margin-top: 1em">--i, --info <br>
Only if given as the first parameter to sox, behave as
soxi(1).</p>

<p style="margin-top: 1em">-m|-M Equivalent to --combine
mix and --combine merge, respectively.</p>

<p style="margin-top: 1em">--magic <br>
If SoX has been built with the optional
&lsquo;libmagic&rsquo; library then this option can be given
to enable its use in helping to detect audio file types.</p>

<p style="margin-top: 1em">--multi-threaded |
--single-threaded <br>
By default, SoX is &lsquo;single threaded&rsquo;. If the
--multi-threaded option is given however then SoX will
process audio channels for most multi-channel effects in
parallel on <br>
hyper-threading/multi-core architectures. This may reduce
processing time, though sometimes it may be necessary to use
this option in conjuction with a larger buffer size <br>
than is the default to gain any benefit from multi-threaded
processing (e.g. 131072; see --buffer above).</p>

<p style="margin-top: 1em">--no-clobber <br>
Prompt before overwriting an existing file with the same
name as that given for the output file.</p>

<p style="margin-top: 1em">N.B. Unintentionally overwriting
a file is easier than you might think, for example, if you
accidentally enter <br>
sox file1 file2 effect1 effect2 ... <br>
when what you really meant was <br>
play file1 file2 effect1 effect2 ... <br>
then, without this option, file2 will be overwritten. Hence,
using this option is recommended. SOX_OPTS (above), a
&lsquo;shell&rsquo; alias, script, or batch file may be an
appro&acirc; <br>
priate way of permanently enabling it.</p>

<p style="margin-top: 1em">--norm[=dB-level] <br>
Automatically invoke the gain effect to guard against
clipping and to normalise the audio. E.g. <br>
sox --norm infile -b 16 outfile rate 44100 dither -s <br>
is shorthand for <br>
sox infile -b 16 outfile gain -h rate 44100 gain -nh dither
-s <br>
Optionally, the audio can be normalized to a given level
(usually) below 0 dBFS: <br>
sox --norm=-3 infile outfile</p>

<p style="margin-top: 1em">See also -V, -G, and the gain
effect.</p>

<p style="margin-top: 1em">--play-rate-arg ARG <br>
Selects a quality option to be used when the
&lsquo;rate&rsquo; effect is automatically invoked whilst
playing audio. This option is typically set via the SOX_OPTS
environment vari&acirc; <br>
able (see above).</p>

<p style="margin-top: 1em">--plot gnuplot|octave|off <br>
If not set to off (the default if --plot is not given), run
in a mode that can be used, in conjunction with the gnuplot
program or the GNU Octave program, to assist with <br>
the selection and configuration of many of the
transfer-function based effects. For the first given effect
that supports the selected plotting program, SoX will output
<br>
commands to plot the effect&rsquo;s transfer function, and
then exit without actually processing any audio. E.g. <br>
sox --plot octave input-file -n highpass 1320 &gt;
highpass.plt <br>
octave highpass.plt</p>

<p style="margin-top: 1em">-q, --no-show-progress <br>
Run in quiet mode when SoX wouldn&rsquo;t otherwise do so.
This is the opposite of the -S option.</p>

<p style="margin-top: 1em">-R Run in
&lsquo;repeatable&rsquo; mode. When this option is given,
where applicable, SoX will embed a fixed time-stamp in the
output file (e.g. AIFF) and will &lsquo;seed&rsquo; pseudo
random <br>
number generators (e.g. dither) with a fixed number, thus
ensuring that successive SoX invocations with the same
inputs and the same parameters yield the same output.</p>

<p style="margin-top: 1em">--replay-gain track|album|off
<br>
Select whether or not to apply replay-gain adjustment to
input files. The default is off for sox and rec, album for
play where (at least) the first two input files are <br>
tagged with the same Artist and Album names, and track for
play otherwise.</p>

<p style="margin-top: 1em">-S, --show-progress <br>
Display input file format/header information, and processing
progress as input file(s) percentage complete, elapsed time,
and remaining time (if known; shown in brackets), <br>
and the number of samples written to the output file. Also
shown is a peak-level meter, and an indication if clipping
has occurred. The peak-level meter shows up to two <br>
channels and is calibrated for digital audio as follows
(right channel shown):</p>

<p style="margin-top: 1em">dB FSD Display dB FSD Display
<br>
-25 - -11 ==== <br>
-23 = -9 ====- <br>
-21 =- -7 ===== <br>
-19 == -5 =====- <br>
-17 ==- -3 ====== <br>
-15 === -1 =====! <br>
-13 ===-</p>

<p style="margin-top: 1em">A three-second peak-held value
of headroom in dBs will be shown to the right of the meter
if this is below 6dB.</p>

<p style="margin-top: 1em">This option is enabled by
default when using SoX to play or record audio.</p>

<p style="margin-top: 1em">-T Equivalent to --combine
multiply.</p>

<p style="margin-top: 1em">--temp DIRECTORY <br>
Specify that any temporary files should be created in the
given DIRECTORY. This can be useful if there are permission
or free-space problems with the default location. In <br>
this case, using &lsquo;--temp .&rsquo; (to use the current
directory) is often a good solution.</p>

<p style="margin-top: 1em">--version <br>
Show SoX&rsquo;s version number and exit.</p>

<p style="margin-top: 1em">-V[level] <br>
Set verbosity. This is particularly useful for seeing how
any automatic effects have been invoked by SoX.</p>

<p style="margin-top: 1em">SoX displays messages on the
console (stderr) according to the following verbosity
levels:</p>

<p style="margin-top: 1em">0 No messages are shown at all;
use the exit status to determine if an error has
occurred.</p>

<p style="margin-top: 1em">1 Only error messages are shown.
These are generated if SoX cannot complete the requested
commands.</p>

<p style="margin-top: 1em">2 Warning messages are also
shown. These are generated if SoX can complete the requested
commands, but not exactly according to the requested command
parameters, or <br>
if clipping occurs.</p>

<p style="margin-top: 1em">3 Descriptions of SoX&rsquo;s
processing phases are also shown. Useful for seeing exactly
how SoX is processing your audio.</p>

<p style="margin-top: 1em">4 and above <br>
Messages to help with debugging SoX are also shown.</p>

<p style="margin-top: 1em">By default, the verbosity level
is set to 2 (shows errors and warnings). Each occurrence of
the -V option increases the verbosity level by 1.
Alternatively, the verbosity <br>
level can be set to an absolute number by specifying it
immediately after the -V, e.g. -V0 sets it to 0.</p>

<p style="margin-top: 1em">Input File Options <br>
These options apply only to input files and may precede only
input filenames on the command line.</p>

<p style="margin-top: 1em">--ignore-length <br>
Override an (incorrect) audio length given in an audio
file&rsquo;s header. If this option is given then SoX will
keep reading audio until it reaches the end of the input
file.</p>

<p style="margin-top: 1em">-v, --volume FACTOR <br>
Intended for use when combining multiple input files, this
option adjusts the volume of the file that follows it on the
command line by a factor of FACTOR. This allows it <br>
to be &lsquo;balanced&rsquo; w.r.t. the other input files.
This is a linear (amplitude) adjustment, so a number less
than 1 decreases the volume and a number greater than 1
increases <br>
it. If a negative number is given then in addition to the
volume adjustment, the audio signal will be inverted.</p>

<p style="margin-top: 1em">See also the norm, vol, and gain
effects, and see Input File Balancing above.</p>

<p style="margin-top: 1em">Input &amp; Output File Format
Options <br>
These options apply to the input or output file whose name
they immediately precede on the command line and are used
mainly when working with headerless file formats or when
<br>
specifying a format for the output file that is different to
that of the input file.</p>

<p style="margin-top: 1em">-b BITS, --bits BITS <br>
The number of bits (a.k.a. bit-depth or sometimes
word-length) in each encoded sample. Not applicable to
complex encodings such as MP3 or GSM. Not necessary with
encod&acirc; <br>
ings that have a fixed number of bits, e.g.
A/&Icirc;&frac14;-law, ADPCM.</p>

<p style="margin-top: 1em">For an input file, the most
common use for this option is to inform SoX of the number of
bits per sample in a &lsquo;raw&rsquo;
(&lsquo;headerless&rsquo;) audio file. For example <br>
sox -r 16k -e signed -b 8 input.raw output.wav <br>
converts a particular &lsquo;raw&rsquo; file to a
self-describing &lsquo;WAV&rsquo; file.</p>

<p style="margin-top: 1em">For an output file, this option
can be used (perhaps along with -e) to set the output
encoding size. By default (i.e. if this option is not
given), the output encoding <br>
size will (providing it is supported by the output file
type) be set to the input encoding size. For example <br>
sox input.cdda -b 24 output.wav <br>
converts raw CD digital audio (16-bit, signed-integer) to a
24-bit (signed-integer) &lsquo;WAV&rsquo; file.</p>

<p style="margin-top: 1em">-1/-2/-3/-4/-8 <br>
The number of bytes in each encoded sample. Deprecated
aliases for -b 8, -b 16, -b 24, -b 32, -b 64
respectively.</p>

<p style="margin-top: 1em">-c CHANNELS, --channels CHANNELS
<br>
The number of audio channels in the audio file. This can be
any number greater than zero.</p>

<p style="margin-top: 1em">For an input file, the most
common use for this option is to inform SoX of the number of
channels in a &lsquo;raw&rsquo; (&lsquo;headerless&rsquo;)
audio file. Occasionally, it may be useful to <br>
use this option with a &lsquo;headered&rsquo; file, in order
to override the (presumably incorrect) value in the header -
note that this is only supported with certain file types.
<br>
Examples: <br>
sox -r 48k -e float -b 32 -c 2 input.raw output.wav <br>
converts a particular &lsquo;raw&rsquo; file to a
self-describing &lsquo;WAV&rsquo; file. <br>
play -c 1 music.wav <br>
interprets the file data as belonging to a single channel
regardless of what is indicated in the file header. Note
that if the file does in fact have two channels, this <br>
will result in the file playing at half speed.</p>

<p style="margin-top: 1em">For an output file, this option
provides a shorthand for specifying that the channels effect
should be invoked in order to change (if necessary) the
number of channels in <br>
the audio signal to the number given. For example, the
following two commands are equivalent: <br>
sox input.wav -c 1 output.wav bass -b 24 <br>
sox input.wav output.wav bass -b 24 channels 1 <br>
though the second form is more flexible as it allows the
effects to be ordered arbitrarily.</p>

<p style="margin-top: 1em">-e ENCODING, --encoding ENCODING
<br>
The audio encoding type. Sometimes needed with file-types
that support more than one encoding type. For example, with
raw, WAV, or AU (but not, for example, with MP3 or <br>
FLAC). The available encoding types are as follows:</p>

<p style="margin-top: 1em">signed-integer <br>
PCM data stored as signed (&lsquo;two&rsquo;s
complement&rsquo;) integers. Commonly used with a 16 or 24
-bit encoding size. A value of 0 represents minimum signal
power.</p>

<p style="margin-top: 1em">unsigned-integer <br>
PCM data stored as unsigned integers. Commonly used with an
8-bit encoding size. A value of 0 represents maximum signal
power.</p>

<p style="margin-top: 1em">floating-point <br>
PCM data stored as IEEE 753 single precision (32-bit) or
double precision (64-bit) floating-point
(&lsquo;real&rsquo;) numbers. A value of 0 represents
minimum signal power.</p>

<p style="margin-top: 1em">a-law International telephony
standard for logarithmic encoding to 8 bits per sample. It
has a precision equivalent to roughly 13-bit PCM and is
sometimes encoded with <br>
reversed bit-ordering (see the -X option).</p>

<p style="margin-top: 1em">u-law, mu-law <br>
North American telephony standard for logarithmic encoding
to 8 bits per sample. A.k.a. &Icirc;&frac14;-law. It has a
precision equivalent to roughly 14-bit PCM and is
some&acirc; <br>
times encoded with reversed bit-ordering (see the -X
option).</p>

<p style="margin-top: 1em">oki-adpcm <br>
OKI (a.k.a. VOX, Dialogic, or Intel) 4-bit ADPCM; it has a
precision equivalent to roughly 12-bit PCM. ADPCM is a form
of audio compression that has a good compro&acirc; <br>
mise between audio quality and encoding/decoding speed.</p>

<p style="margin-top: 1em">ima-adpcm <br>
IMA (a.k.a. DVI) 4-bit ADPCM; it has a precision equivalent
to roughly 13-bit PCM.</p>

<p style="margin-top: 1em">ms-adpcm <br>
Microsoft 4-bit ADPCM; it has a precision equivalent to
roughly 14-bit PCM.</p>

<p style="margin-top: 1em">gsm-full-rate <br>
GSM is currently used for the vast majority of the
world&rsquo;s digital wireless telephone calls. It utilises
several audio formats with different bit-rates and
associ&acirc; <br>
ated speech quality. SoX has support for GSM&rsquo;s
original 13kbps &lsquo;Full Rate&rsquo; audio format. It is
usually CPU-intensive to work with GSM audio.</p>

<p style="margin-top: 1em">Encoding names can be
abbreviated where this would not be ambiguous; e.g.
&lsquo;unsigned-integer&rsquo; can be given as
&lsquo;un&rsquo;, but not &lsquo;u&rsquo; (ambiguous with
&lsquo;u-law&rsquo;).</p>

<p style="margin-top: 1em">For an input file, the most
common use for this option is to inform SoX of the encoding
of a &lsquo;raw&rsquo; (&lsquo;headerless&rsquo;) audio file
(see the examples in -b and -c above).</p>

<p style="margin-top: 1em">For an output file, this option
can be used (perhaps along with -b) to set the output
encoding type For example <br>
sox input.cdda -e float output1.wav</p>

<p style="margin-top: 1em">sox input.cdda -b 64 -e float
output2.wav <br>
convert raw CD digital audio (16-bit, signed-integer) to
floating-point &lsquo;WAV&rsquo; files (single &amp; double
precision respectively).</p>

<p style="margin-top: 1em">By default (i.e. if this option
is not given), the output encoding type will (providing it
is supported by the output file type) be set to the input
encoding type.</p>

<p style="margin-top: 1em">-s/-u/-f/-A/-U/-o/-i/-a/-g <br>
Deprecated aliases for specifying the encoding types
signed-integer, unsigned-integer, floating-point, a-law,
mu-law, oki-adpcm, ima-adpcm, ms-adpcm, gsm-full-rate
respec&acirc; <br>
tively (see -e above).</p>

<p style="margin-top: 1em">--no-glob <br>
Specifies that filename &lsquo;globbing&rsquo; (wild-card
matching) should not be performed by SoX on the following
filename. For example, if the current directory contains the
two <br>
files &lsquo;five-seconds.wav&rsquo; and
&lsquo;five*.wav&rsquo;, then <br>
play --no-glob &quot;five*.wav&quot; <br>
can be used to play just the single file
&lsquo;five*.wav&rsquo;.</p>

<p style="margin-top: 1em">-r, --rate RATE[k] <br>
Gives the sample rate in Hz (or kHz if appended with
&lsquo;k&rsquo;) of the file.</p>

<p style="margin-top: 1em">For an input file, the most
common use for this option is to inform SoX of the sample
rate of a &lsquo;raw&rsquo; (&lsquo;headerless&rsquo;) audio
file (see the examples in -b and -c above). <br>
Occasionally it may be useful to use this option with a
&lsquo;headered&rsquo; file, in order to override the
(presumably incorrect) value in the header - note that this
is only sup&acirc; <br>
ported with certain file types. For example, if audio was
recorded with a sample-rate of say 48k from a source that
played back a little, say 1.5%, too slowly, then <br>
sox -r 48720 input.wav output.wav <br>
effectively corrects the speed by changing only the file
header (but see also the speed effect for the more usual
solution to this problem).</p>

<p style="margin-top: 1em">For an output file, this option
provides a shorthand for specifying that the rate effect
should be invoked in order to change (if necessary) the
sample rate of the audio <br>
signal to the given value. For example, the following two
commands are equivalent: <br>
sox input.wav -r 48k output.wav bass -b 24 <br>
sox input.wav output.wav bass -b 24 rate 48k <br>
though the second form is more flexible as it allows rate
options to be given, and allows the effects to be ordered
arbitrarily.</p>

<p style="margin-top: 1em">-t, --type FILE-TYPE <br>
Gives the type of the audio file. For both input and output
files, this option is commonly used to inform SoX of the
type a &lsquo;headerless&rsquo; audio file (e.g. raw, mp3)
where <br>
the actual/desired type cannot be determined from a given
filename extension. For example: <br>
another-command | sox -t mp3 - output.wav</p>

<p style="margin-top: 1em">sox input.wav -t raw output.bin
<br>
It can also be used to override the type implied by an input
filename extension, but if overriding with a type that has a
header, SoX will exit with an appropriate error <br>
message if such a header is not actually present.</p>

<p style="margin-top: 1em">See soxformat(7) for a list of
supported file types.</p>

<p style="margin-top: 1em">-L, --endian little <br>
-B, --endian big <br>
-x, --endian swap <br>
These options specify whether the byte-order of the audio
data is, respectively, &lsquo;little endian&rsquo;,
&lsquo;big endian&rsquo;, or the opposite to that of the
system on which SoX is being <br>
used. Endianness applies only to data encoded as
floating-point, or as signed or unsigned integers of 16 or
more bits. It is often necessary to specify one of these
<br>
options for headerless files, and sometimes necessary for
(otherwise) self-describing files. A given endian-setting
option may be ignored for an input file whose header <br>
contains a specific endianness identifier, or for an output
file that is actually an audio device.</p>

<p style="margin-top: 1em">N.B. Unlike other format
characteristics, the endianness (byte, nibble, &amp; bit
ordering) of the input file is not automatically used for
the output file; so, for example, <br>
when the following is run on a little-endian system: <br>
sox -B audio.s16 trimmed.s16 trim 2 <br>
trimmed.s16 will be created as little-endian; <br>
sox -B audio.s16 -B trimmed.s16 trim 2 <br>
must be used to preserve big-endianness in the output
file.</p>

<p style="margin-top: 1em">The -V option can be used to
check the selected orderings.</p>

<p style="margin-top: 1em">-N, --reverse-nibbles <br>
Specifies that the nibble ordering (i.e. the 2 halves of a
byte) of the samples should be reversed; sometimes useful
with ADPCM-based formats.</p>

<p style="margin-top: 1em">N.B. See also N.B. in section on
-x above.</p>

<p style="margin-top: 1em">-X, --reverse-bits <br>
Specifies that the bit ordering of the samples should be
reversed; sometimes useful with a few (mostly headerless)
formats.</p>

<p style="margin-top: 1em">N.B. See also N.B. in section on
-x above.</p>

<p style="margin-top: 1em">Output File Format Options <br>
These options apply only to the output file and may precede
only the output filename on the command line.</p>

<p style="margin-top: 1em">--add-comment TEXT <br>
Append a comment in the output file header (where
applicable).</p>

<p style="margin-top: 1em">--comment TEXT <br>
Specify the comment text to store in the output file header
(where applicable).</p>

<p style="margin-top: 1em">SoX will provide a default
comment if this option (or --comment-file) is not given. To
specify that no comment should be stored in the output file,
use --comment &quot;&quot; .</p>

<p style="margin-top: 1em">--comment-file FILENAME <br>
Specify a file containing the comment text to store in the
output file header (where applicable).</p>

<p style="margin-top: 1em">-C, --compression FACTOR <br>
The compression factor for variably compressing output file
formats. If this option is not given then a default
compression factor will apply. The compression factor is
<br>
interpreted differently for different compressing file
formats. See the description of the file formats that use
this option in soxformat(7) for more information.</p>

<p style="margin-top: 1em">EFFECTS <br>
In addition to converting, playing and recording audio
files, SoX can be used to invoke a number of audio
&lsquo;effects&rsquo;. Multiple effects may be applied by
specifying them one after <br>
another at the end of the SoX command line, forming an
&lsquo;effects chain&rsquo;. Note that applying multiple
effects in real-time (i.e. when playing audio) is likely to
require a high <br>
performance computer. Stopping other applications may
alleviate performance issues should they occur.</p>

<p style="margin-top: 1em">Some of the SoX effects are
primarily intended to be applied to a single instrument or
&lsquo;voice&rsquo;. To facilitate this, the remix effect
and the global SoX option -M can be used to <br>
isolate then recombine tracks from a multi-track
recording.</p>

<p style="margin-top: 1em">Multiple Effects Chains <br>
A single effects chain is made up of one or more effects.
Audio from the input runs through the chain until either the
end of the input file is reached or an effect in the chain
<br>
requests to terminate the chain.</p>

<p style="margin-top: 1em">SoX supports running multiple
effects chains over the input audio. In this case, when one
chain indicates it is done processing audio, the audio data
is then sent through the <br>
next effects chain. This continues until either no more
effects chains exist or the input has reached the end of the
file.</p>

<p style="margin-top: 1em">An effects chain is terminated
by placing a : (colon) after an effect. Any following
effects are a part of a new effects chain.</p>

<p style="margin-top: 1em">It is important to place the
effect that will stop the chain as the first effect in the
chain. This is because any samples that are buffered by
effects to the left of the termi&acirc; <br>
nating effect will be discarded. The amount of samples
discarded is related to the --buffer option and it should be
kept small, relative to the sample rate, if the terminating
<br>
effect cannot be first. Further information on stopping
effects can be found in the Stopping SoX section.</p>

<p style="margin-top: 1em">There are a few pseudo-effects
that aid using multiple effects chains. These include
newfile which will start writing to a new output file before
moving to the next effects <br>
chain and restart which will move back to the first effects
chain. Pseudo-effects must be specified as the first effect
in a chain and as the only effect in a chain (they must <br>
have a : before and after they are specified).</p>

<p style="margin-top: 1em">The following is an example of
multiple effects chains. It will split the input file into
multiple files of 30 seconds in length. Each output filename
will have unique number <br>
in its name as documented in the Output Files section. <br>
sox infile.wav output.wav trim 0 30 : newfile : restart</p>

<p style="margin-top: 1em">Common Notation And Parameters
<br>
In the descriptions that follow, brackets [ ] are used to
denote parameters that are optional, braces { } to denote
those that are both optional and repeatable, and angle
brack&acirc; <br>
ets &lt; &gt; to denote those that are repeatable but not
optional. Where applicable, default values for optional
parameters are shown in parenthesis ( ).</p>

<p style="margin-top: 1em">The following parameters are
used with, and have the same meaning for, several
effects:</p>

<p style="margin-top: 1em">center[k] <br>
See frequency.</p>

<p style="margin-top: 1em">frequency[k] <br>
A frequency in Hz, or, if appended with &lsquo;k&rsquo;,
kHz.</p>

<p style="margin-top: 1em">gain A power gain in dB. Zero
gives no gain; less than zero gives an attenuation.</p>

<p style="margin-top: 1em">width[h|k|o|q] <br>
Used to specify the band-width of a filter. A number of
different methods to specify the width are available (though
not all for every effect). One of the characters <br>
shown may be appended to select the desired method as
follows:</p>

<p style="margin-top: 1em">Method Notes <br>
h Hz <br>
k kHz</p>

<p style="margin-top: 1em">o Octaves <br>
q Q-factor See [2]</p>

<p style="margin-top: 1em">For each effect that uses this
parameter, the default method (i.e. if no character is
appended) is the one that it listed first in the first line
of the effect&rsquo;s descrip&acirc; <br>
tion.</p>

<p style="margin-top: 1em">To see if SoX has support for an
optional effect, enter sox -h and look for its name under
the list: &lsquo;EFFECTS&rsquo;.</p>

<p style="margin-top: 1em">Supported Effects <br>
Note: a categorised list of the effects can be found in the
accompanying &lsquo;README&rsquo; file.</p>

<p style="margin-top: 1em">allpass frequency[k]
width[h|k|o|q] <br>
Apply a two-pole all-pass filter with central frequency (in
Hz) frequency, and filter-width width. An all-pass filter
changes the audio&rsquo;s frequency to phase relationship
<br>
without changing its frequency to amplitude relationship.
The filter is described in detail in [1].</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">band [-n] center[k]
[width[h|k|o|q]] <br>
Apply a band-pass filter. The frequency response drops
logarithmically around the center frequency. The width
parameter gives the slope of the drop. The frequencies at
<br>
center + width and center - width will be half of their
original amplitudes. band defaults to a mode oriented to
pitched audio, i.e. voice, singing, or instrumental <br>
music. The -n (for noise) option uses the alternate mode for
un-pitched audio (e.g. percussion). Warning: -n introduces a
power-gain of about 11dB in the filter, so <br>
beware of output clipping. band introduces noise in the
shape of the filter, i.e. peaking at the center frequency
and settling around it.</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">See also sinc for a bandpass
filter with steeper shoulders.</p>

<p style="margin-top: 1em">bandpass|bandreject [-c]
frequency[k] width[h|k|o|q] <br>
Apply a two-pole Butterworth band-pass or band-reject filter
with central frequency frequency, and (3dB-point) band-width
width. The -c option applies only to bandpass <br>
and selects a constant skirt gain (peak gain = Q) instead of
the default: constant 0dB peak gain. The filters roll off at
6dB per octave (20dB per decade) and are <br>
described in detail in [1].</p>

<p style="margin-top: 1em">These effects support the --plot
global option.</p>

<p style="margin-top: 1em">See also sinc for a bandpass
filter with steeper shoulders.</p>

<p style="margin-top: 1em">bandreject frequency[k]
width[h|k|o|q] <br>
Apply a band-reject filter. See the description of the
bandpass effect for details.</p>

<p style="margin-top: 1em">bass|treble gain [frequency[k]
[width[s|h|k|o|q]]] <br>
Boost or cut the bass (lower) or treble (upper) frequencies
of the audio using a two-pole shelving filter with a
response similar to that of a standard hi-fi&rsquo;s
tone-con&acirc; <br>
trols. This is also known as shelving equalisation (EQ).</p>

<p style="margin-top: 1em">gain gives the gain at 0 Hz (for
bass), or whichever is the lower of &acirc;&frac14;22 kHz
and the Nyquist frequency (for treble). Its useful range is
about -20 (for a large cut) to <br>
+20 (for a large boost). Beware of Clipping when using a
positive gain.</p>

<p style="margin-top: 1em">If desired, the filter can be
fine-tuned using the following optional parameters:</p>

<p style="margin-top: 1em">frequency sets the
filter&rsquo;s central frequency and so can be used to
extend or reduce the frequency range to be boosted or cut.
The default value is 100 Hz (for bass) or <br>
3 kHz (for treble).</p>

<p style="margin-top: 1em">width determines how steep is
the filter&rsquo;s shelf transition. In addition to the
common width specification methods described above,
&lsquo;slope&rsquo; (the default, or if appended <br>
with &lsquo;s&rsquo;) may be used. The useful range of
&lsquo;slope&rsquo; is about 0.3, for a gentle slope, to 1
(the maximum), for a steep slope; the default value is
0.5.</p>

<p style="margin-top: 1em">The filters are described in
detail in [1].</p>

<p style="margin-top: 1em">These effects support the --plot
global option.</p>

<p style="margin-top: 1em">See also equalizer for a peaking
equalisation effect.</p>

<p style="margin-top: 1em">bend [-f frame-rate(25)] [-o
over-sample(16)] { delay,cents,duration } <br>
Changes pitch by specified amounts at specified times. Each
given triple: delay,cents,duration specifies one bend. delay
is the amount of time after the start of the <br>
audio stream, or the end of the previous bend, at which to
start bending the pitch; cents is the number of cents (100
cents = 1 semitone) by which to bend the pitch, and <br>
duration the length of time over which the pitch will be
bent.</p>

<p style="margin-top: 1em">The pitch-bending algorithm
utilises the Discrete Fourier Transform (DFT) at a
particular frame rate and over-sampling rate. The -f and -o
parameters may be used to <br>
adjust these parameters and thus control the smoothness of
the changes in pitch.</p>

<p style="margin-top: 1em">For example, an initial tone is
generated, then bent three times, yielding four different
notes in total: <br>
play -n synth 2.5 sin 667 gain 1 bend .35,180,.25
.15,740,.53 0,-520,.3 <br>
Note that the clipping that is produced in this example is
deliberate; to remove it, use gain -5 in place of gain
1.</p>

<p style="margin-top: 1em">See also pitch.</p>

<p style="margin-top: 1em">biquad b0 b1 b2 a0 a1 a2 <br>
Apply a biquad IIR filter with the given coefficients. Where
b* and a* are the numerator and denominator coefficients
respectively.</p>

<p style="margin-top: 1em">See
http://en.wikipedia.org/wiki/Digital_biquad_filter (where a0
= 1).</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">channels CHANNELS <br>
Invoke a simple algorithm to change the number of channels
in the audio signal to the given number CHANNELS: mixing if
decreasing the number of channels or duplicating if <br>
increasing the number of channels.</p>

<p style="margin-top: 1em">The channels effect is invoked
automatically if SoX&rsquo;s -c option specifies a number of
channels that is different to that of the input file(s).
Alternatively, if this <br>
effect is given explicitly, then SoX&rsquo;s -c option need
not be given. For example, the following two commands are
equivalent: <br>
sox input.wav -c 1 output.wav bass -b 24 <br>
sox input.wav output.wav bass -b 24 channels 1 <br>
though the second form is more flexible as it allows the
effects to be ordered arbitrarily.</p>

<p style="margin-top: 1em">See also remix for an effect
that allows channels to be mixed/selected arbitrarily.</p>

<p style="margin-top: 1em">chorus gain-in gain-out
&lt;delay decay speed depth -s|-t&gt; <br>
Add a chorus effect to the audio. This can make a single
vocal sound like a chorus, but can also be applied to
instrumentation.</p>

<p style="margin-top: 1em">Chorus resembles an echo effect
with a short delay, but whereas with echo the delay is
constant, with chorus, it is varied using sinusoidal or
triangular modulation. The <br>
modulation depth defines the range the modulated delay is
played before or after the delay. Hence the delayed sound
will sound slower or faster, that is the delayed sound <br>
tuned around the original one, like in a chorus where some
vocals are slightly off key. See [3] for more discussion of
the chorus effect.</p>

<p style="margin-top: 1em">Each four-tuple parameter
delay/decay/speed/depth gives the delay in milliseconds and
the decay (relative to gain-in) with a modulation speed in
Hz using depth in mil&acirc; <br>
liseconds. The modulation is either sinusoidal (-s) or
triangular (-t). Gain-out is the volume of the output.</p>

<p style="margin-top: 1em">A typical delay is around 40ms
to 60ms; the modulation speed is best near 0.25Hz and the
modulation depth around 2ms. For example, a single delay:
<br>
play guitar1.wav chorus 0.7 0.9 55 0.4 0.25 2 -t <br>
Two delays of the original samples: <br>
play guitar1.wav chorus 0.6 0.9 50 0.4 0.25 2 -t 60 0.32 0.4
1.3 -s <br>
A fuller sounding chorus (with three additional delays):
<br>
play guitar1.wav chorus 0.5 0.9 50 0.4 0.25 2 -t 60 0.32 0.4
2.3 -t 40 0.3 0.3 1.3 -s</p>

<p style="margin-top: 1em">compand
attack1,decay1{,attack2,decay2} <br>
[soft-knee-dB:]in-dB1[,out-dB1]{,in-dB2,out-dB2} <br>
[gain [initial-volume-dB [delay]]]</p>

<p style="margin-top: 1em">Compand (compress or expand) the
dynamic range of the audio.</p>

<p style="margin-top: 1em">The attack and decay parameters
(in seconds) determine the time over which the instantaneous
level of the input signal is averaged to determine its
volume; attacks refer <br>
to increases in volume and decays refer to decreases. For
most situations, the attack time (response to the music
getting louder) should be shorter than the decay time <br>
because the human ear is more sensitive to sudden loud music
than sudden soft music. Where more than one pair of
attack/decay parameters are specified, each input channel
<br>
is companded separately and the number of pairs must agree
with the number of input channels. Typical values are
0.3,0.8 seconds.</p>

<p style="margin-top: 1em">The second parameter is a list
of points on the compander&rsquo;s transfer function
specified in dB relative to the maximum possible signal
amplitude. The input values must be <br>
in a strictly increasing order but the transfer function
does not have to be monotonically rising. If omitted, the
value of out-dB1 defaults to the same value as in-dB1; <br>
levels below in-dB1 are not companded (but may have gain
applied to them). The point 0,0 is assumed but may be
overridden (by 0,out-dBn). If the list is preceded by a <br>
soft-knee-dB value, then the points at where adjacent line
segments on the transfer function meet will be rounded by
the amount given. Typical values for the transfer <br>
function are 6:-70,-60,-20.</p>

<p style="margin-top: 1em">The third (optional) parameter
is an additional gain in dB to be applied at all points on
the transfer function and allows easy adjustment of the
overall gain.</p>

<p style="margin-top: 1em">The fourth (optional) parameter
is an initial level to be assumed for each channel when
companding starts. This permits the user to supply a nominal
level initially, so <br>
that, for example, a very large gain is not applied to
initial signal levels before the companding action has begun
to operate: it is quite probable that in such an event, <br>
the output would be severely clipped while the compander
gain properly adjusts itself. A typical value (for audio
which is initially quiet) is -90 dB.</p>

<p style="margin-top: 1em">The fifth (optional) parameter
is a delay in seconds. The input signal is analysed
immediately to control the compander, but it is delayed
before being fed to the volume <br>
adjuster. Specifying a delay approximately equal to the
attack/decay times allows the compander to effectively
operate in a &lsquo;predictive&rsquo; rather than a reactive
mode. A <br>
typical value is 0.2 seconds.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">The following example might be
used to make a piece of music with both quiet and loud
passages suitable for listening to in a noisy environment
such as a moving vehicle: <br>
sox asz.wav asz-car.wav compand 0.3,1 6:-70,-60,-20 -5 -90
0.2 <br>
The transfer function (&lsquo;6:-70,...&rsquo;) says that
very soft sounds (below -70dB) will remain unchanged. This
will stop the compander from boosting the volume on
&lsquo;silent&rsquo; pas&acirc; <br>
sages such as between movements. However, sounds in the
range -60dB to 0dB (maximum volume) will be boosted so that
the 60dB dynamic range of the original music will be <br>
compressed 3-to-1 into a 20dB range, which is wide enough to
enjoy the music but narrow enough to get around the road
noise. The &lsquo;6:&rsquo; selects 6dB soft-knee
companding. <br>
The -5 (dB) output gain is needed to avoid clipping (the
number is inexact, and was derived by experimentation). The
-90 (dB) for the initial volume will work fine for a <br>
clip that starts with near silence, and the delay of 0.2
(seconds) has the effect of causing the compander to react a
bit more quickly to sudden volume changes.</p>

<p style="margin-top: 1em">In the next example, compand is
being used as a noise-gate for when the noise is at a lower
level than the signal: <br>
play infile compand .1,.2 -inf,-50.1,-inf,-50,-50 0 -90 .1
<br>
Here is another noise-gate, this time for when the noise is
at a higher level than the signal (making it, in some ways,
similar to squelch): <br>
play infile compand .1,.1 -45.1,-45,-inf,0,-inf 45 -90 .1
<br>
This effect supports the --plot global option (for the
transfer function).</p>

<p style="margin-top: 1em">See also mcompand for a
multiple-band companding effect.</p>

<p style="margin-top: 1em">contrast
[enhancement-amount(75)] <br>
Comparable with compression, this effect modifies an audio
signal to make it sound louder. enhancement-amount controls
the amount of the enhancement and is a number in <br>
the range 0-100. Note that enhancement-amount = 0 still
gives a significant contrast enhancement.</p>

<p style="margin-top: 1em">See also the compand and
mcompand effects.</p>

<p style="margin-top: 1em">dcshift shift [limitergain] <br>
Apply a DC shift to the audio. This can be useful to remove
a DC offset (caused perhaps by a hardware problem in the
recording chain) from the audio. The effect of a DC <br>
offset is reduced headroom and hence volume. The stat or
stats effect can be used to determine if a signal has a DC
offset.</p>

<p style="margin-top: 1em">The given dcshift value is a
floating point number in the range of &Acirc;&plusmn;2 that
indicates the amount to shift the audio (which is in the
range of &Acirc;&plusmn;1).</p>

<p style="margin-top: 1em">An optional limitergain can be
specified as well. It should have a value much less than 1
(e.g. 0.05 or 0.02) and is used only on peaks to prevent
clipping.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">An alternative approach to
removing a DC offset (albeit with a short delay) is to use
the highpass filter effect at a frequency of say 10Hz, as
illustrated in the follow&acirc; <br>
ing example: <br>
sox -n dc.wav synth 5 sin %0 50 <br>
sox dc.wav fixed.wav highpass 10</p>

<p style="margin-top: 1em">deemph Apply Compact Disc (IEC
60908) de-emphasis (a treble attenuation shelving
filter).</p>

<p style="margin-top: 1em">Pre-emphasis was applied in the
mastering of some CDs issued in the early 1980s. These
included many classical music albums, as well as now
sought-after issues of albums <br>
by The Beatles, Pink Floyd and others. Pre-emphasis should
be removed at playback time by a de-emphasis filter in the
playback device. However, not all modern CD players <br>
have this filter, and very few PC CD drives have it; playing
pre-emphasised audio without the correct de-emphasis filter
results in audio that sounds harsh and is far from <br>
what its creators intended.</p>

<p style="margin-top: 1em">With the deemph effect, it is
possible to apply the necessary de-emphasis to audio that
has been extracted from a pre-emphasised CD, and then either
burn the de-emphasised <br>
audio to a new CD (which will then play correctly on any CD
player), or simply play the correctly de-emphasised audio
files on the PC. For example: <br>
sox track1.wav track1-deemph.wav deemph <br>
and then burn track1-deemph.wav to CD, or <br>
play track1-deemph.wav <br>
or simply <br>
play track1.wav deemph <br>
The de-emphasis filter is implemented as a biquad; its
maximum deviation from the ideal response is only 0.06dB (up
to 20kHz).</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">See also the bass and treble
shelving equalisation effects.</p>

<p style="margin-top: 1em">delay {length} <br>
Delay one or more audio channels. length can specify a time
or, if appended with an &lsquo;s&rsquo;, a number of
samples. Do not specify both time and samples delays in the
same <br>
command. For example, delay 1.5 0 0.5 delays the first
channel by 1.5 seconds, the third channel by 0.5 seconds,
and leaves the second channel (and any other channels <br>
that may be present) un-delayed. The following (one long)
command plays a chime sound: <br>
play -n synth -j 3 sin %3 sin %-2 sin %-5 sin %-9 sin %-14
sin %-21 fade h .01 2 1.5 delay 1.3 1 .76 .54 .27 remix -
fade h 0 2.7 2.5 norm -1 <br>
and this plays a guitar chord: <br>
play -n synth pl G2 pl B2 pl D3 pl G3 pl D4 pl G4 delay 0
.05 .1 .15 .2 .25 remix - fade 0 4 .1 norm -1</p>

<p style="margin-top: 1em">dither [-S|-s|-f filter] [-a]
[-p precision] <br>
Apply dithering to the audio. Dithering deliberately adds a
small amount of noise to the signal in order to mask audible
quantization effects that can occur if the output <br>
sample size is less than 24 bits. With no options, this
effect will add triangular (TPDF) white noise. Noise-shaping
(only for certain sample rates) can be selected with <br>
-s. With the -f option, it is possible to select a
particular noise-shaping filter from the following list:
lipshitz, f-weighted, modified-e-weighted, improved-e- <br>
weighted, gesemann, shibata, low-shibata, high-shibata. Note
that most filter types are available only with 44100Hz
sample rate. The filter types are distinguished by <br>
the following properties: audibility of noise, level of
(inaudible, but in some circumstances, otherwise
problematic) shaped high frequency noise, and processing
speed. <br>
See http://sox.sourceforge.net/SoX/NoiseShaping for graphs
of the different noise-shaping curves.</p>

<p style="margin-top: 1em">The -S option selects a slightly
&lsquo;sloped&rsquo; TPDF, biased towards higher
frequencies. It can be used at any sampling rate but below
&acirc;22k, plain TPDF is probably better, and <br>
above &acirc; 37k, noise-shaped is probably better.</p>

<p style="margin-top: 1em">The -a option enables a mode
where dithering (and noise-shaping if applicable) are
automatically enabled only when needed. The most likely use
for this is when applying <br>
fade in or out to an already dithered file, so that the
redithering applies only to the faded portions. However,
auto dithering is not fool-proof, so the fades should be
<br>
carefully checked for any noise modulation; if this occurs,
then either re-dither the whole file, or use trim, fade, and
concatencate.</p>

<p style="margin-top: 1em">The -p option allows overriding
the target precision.</p>

<p style="margin-top: 1em">If the SoX global option -R
option is not given, then the pseudo-random number generator
used to generate the white noise will be
&lsquo;reseeded&rsquo;, i.e. the generated noise will <br>
be different between invocations.</p>

<p style="margin-top: 1em">This effect should not be
followed by any other effect that affects the audio.</p>

<p style="margin-top: 1em">See also the
&lsquo;Dithering&rsquo; section above.</p>

<p style="margin-top: 1em">downsample [factor(2)] <br>
Downsample the signal by an integer factor: Only the first
out of each factor samples is retained, the others are
discarded.</p>

<p style="margin-top: 1em">No decimation filter is applied.
If the input is not a properly bandlimited baseband signal,
aliasing will occur. This may be desirable, e.g., for
frequency translation.</p>

<p style="margin-top: 1em">For a general resampling effect
with anti-aliasing, see rate. See also upsample.</p>

<p style="margin-top: 1em">earwax Makes audio easier to
listen to on headphones. Adds &lsquo;cues&rsquo; to 44.1kHz
stereo (i.e. audio CD format) audio so that when listened to
on headphones the stereo image is moved <br>
from inside your head (standard for headphones) to outside
and in front of the listener (standard for speakers).</p>

<p style="margin-top: 1em">echo gain-in gain-out &lt;delay
decay&gt; <br>
Add echoing to the audio. Echoes are reflected sound and can
occur naturally amongst mountains (and sometimes large
buildings) when talking or shouting; digital echo <br>
effects emulate this behaviour and are often used to help
fill out the sound of a single instrument or vocal. The time
difference between the original signal and the <br>
reflection is the &lsquo;delay&rsquo; (time), and the
loudness of the reflected signal is the &lsquo;decay&rsquo;.
Multiple echoes can have different delays and decays.</p>

<p style="margin-top: 1em">Each given delay decay pair
gives the delay in milliseconds and the decay (relative to
gain-in) of that echo. Gain-out is the volume of the output.
For example: This <br>
will make it sound as if there are twice as many instruments
as are actually playing: <br>
play lead.aiff echo 0.8 0.88 60 0.4 <br>
If the delay is very short, then it sound like a (metallic)
robot playing music: <br>
play lead.aiff echo 0.8 0.88 6 0.4 <br>
A longer delay will sound like an open air concert in the
mountains: <br>
play lead.aiff echo 0.8 0.9 1000 0.3 <br>
One mountain more, and: <br>
play lead.aiff echo 0.8 0.9 1000 0.3 1800 0.25</p>

<p style="margin-top: 1em">echos gain-in gain-out &lt;delay
decay&gt; <br>
Add a sequence of echoes to the audio. Each delay decay pair
gives the delay in milliseconds and the decay (relative to
gain-in) of that echo. Gain-out is the volume of <br>
the output.</p>

<p style="margin-top: 1em">Like the echo effect, echos
stand for &lsquo;ECHO in Sequel&rsquo;, that is the first
echos takes the input, the second the input and the first
echos, the third the input and the <br>
first and the second echos, ... and so on. Care should be
taken using many echos; a single echos has the same effect
as a single echo.</p>

<p style="margin-top: 1em">The sample will be bounced twice
in symmetric echos: <br>
play lead.aiff echos 0.8 0.7 700 0.25 700 0.3 <br>
The sample will be bounced twice in asymmetric echos: <br>
play lead.aiff echos 0.8 0.7 700 0.25 900 0.3 <br>
The sample will sound as if played in a garage: <br>
play lead.aiff echos 0.8 0.7 40 0.25 63 0.3</p>

<p style="margin-top: 1em">equalizer frequency[k]
width[q|o|h|k] gain <br>
Apply a two-pole peaking equalisation (EQ) filter. With this
filter, the signal-level at and around a selected frequency
can be increased or decreased, whilst (unlike <br>
band-pass and band-reject filters) that at all other
frequencies is unchanged.</p>

<p style="margin-top: 1em">frequency gives the
filter&rsquo;s central frequency in Hz, width, the
band-width, and gain the required gain or attenuation in dB.
Beware of Clipping when using a positive <br>
gain.</p>

<p style="margin-top: 1em">In order to produce complex
equalisation curves, this effect can be given several times,
each with a different central frequency.</p>

<p style="margin-top: 1em">The filter is described in
detail in [1].</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">See also bass and treble for
shelving equalisation effects.</p>

<p style="margin-top: 1em">fade [type] fade-in-length
[stop-time [fade-out-length]] <br>
Apply a fade effect to the beginning, end, or both of the
audio.</p>

<p style="margin-top: 1em">An optional type can be
specified to select the shape of the fade curve: q for
quarter of a sine wave, h for half a sine wave, t for linear
(&lsquo;triangular&rsquo;) slope, l for <br>
logarithmic, and p for inverted parabola. The default is
logarithmic.</p>

<p style="margin-top: 1em">A fade-in starts from the first
sample and ramps the signal level from 0 to full volume over
fade-in-length seconds. Specify 0 seconds if no fade-in is
wanted.</p>

<p style="margin-top: 1em">For fade-outs, the audio will be
truncated at stop-time and the signal level will be ramped
from full volume down to 0 starting at fade-out-length
seconds before the stop- <br>
time. If fade-out-length is not specified, it defaults to
the same value as fade-in-length. No fade-out is performed
if stop-time is not specified. If the file length <br>
can be determined from the input file header and
length-changing effects are not in effect, then 0 may be
specified for stop-time to indicate the usual case of a
fade-out <br>
that ends at the end of the input audio stream.</p>

<p style="margin-top: 1em">All times can be specified in
either periods of time or sample counts. To specify time
periods use the format hh:mm:ss.frac format. To specify
using sample counts, spec&acirc; <br>
ify the number of samples and append the letter
&lsquo;s&rsquo; to the sample count (for example
&lsquo;8000s&rsquo;).</p>

<p style="margin-top: 1em">See also the splice effect.</p>

<p style="margin-top: 1em">fir [coefs-file|coefs] <br>
Use SoX&rsquo;s FFT convolution engine with given FIR filter
coefficients. If a single argument is given then this is
treated as the name of a file containing the filter
coef&acirc; <br>
ficients (white-space separated; may contain &lsquo;#&rsquo;
comments). If the given filename is &lsquo;-&rsquo;, or if
no argument is given, then the coefficients are read from
the &lsquo;standard <br>
input&rsquo; (stdin); otherwise, coefficients may be given
on the command line. Examples: <br>
sox infile outfile fir 0.0195 -0.082 0.234 0.891 -0.145
0.043 <br>
sox infile outfile fir coefs.txt <br>
with coefs.txt containing <br>
# HP filter <br>
# freq=10000 <br>
1.2311233052619888e-01 <br>
-4.4777096106211783e-01 <br>
5.1031563346705155e-01 <br>
-6.6502926320995331e-02 <br>
...</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">flanger [delay depth regen width
speed shape phase interp] <br>
Apply a flanging effect to the audio. See [3] for a detailed
description of flanging.</p>

<p style="margin-top: 1em">All parameters are optional
(right to left).</p>

<p style="margin-top: 1em">Range Default Description <br>
delay 0 - 30 0 Base delay in milliseconds. <br>
depth 0 - 10 2 Added swept delay in milliseconds. <br>
regen -95 - 95 0 Percentage regeneration (delayed sig&acirc;
<br>
nal feedback). <br>
width 0 - 100 71 Percentage of delayed signal mixed <br>
with original. <br>
speed 0.1 - 10 0.5 Sweeps per second (Hz). <br>
shape sin Swept wave shape: sine|triangle. <br>
phase 0 - 100 25 Swept wave percentage phase-shift for <br>
multi-channel (e.g. stereo) flange; 0 <br>
= 100 = same phase on each channel. <br>
interp lin Digital delay-line interpolation: <br>
linear|quadratic.</p>

<p style="margin-top: 1em">gain [-e|-B|-b|-r] [-n] [-l|-h]
[gain-dB] <br>
Apply amplification or attenuation to the audio signal, or,
in some cases, to some of its channels. Note that use of any
of -e, -B, -b, -r, or -n requires temporary file <br>
space to store the audio to be processed, so may be
unsuitable for use with &lsquo;streamed&rsquo; audio.</p>

<p style="margin-top: 1em">Without other options, gain-dB
is used to adjust the signal power level by the given number
of dB: positive amplifies (beware of Clipping), negative
attenuates. With <br>
other options, the gain-dB amplification or attenuation is
(logically) applied after the processing due to those
options.</p>

<p style="margin-top: 1em">Given the -e option, the levels
of the audio channels of a multi-channel file are
&lsquo;equalised&rsquo;, i.e. gain is applied to all
channels other than that with the highest peak <br>
level, such that all channels attain the same peak level
(but, without also giving -n, the audio is not
&lsquo;normalised&rsquo;).</p>

<p style="margin-top: 1em">The -B (balance) option is
similar to -e, but with -B, the RMS level is used instead of
the peak level. -B might be used to correct stereo imbalance
caused by an imper&acirc; <br>
fect record turntable cartridge. Note that unlike -e, -B
might cause some clipping.</p>

<p style="margin-top: 1em">-b is similar to -B but has
clipping protection, i.e. if necessary to prevent clipping
whilst balancing, attenuation is applied to all channels.
Note, however, that in <br>
conjunction with -n, -B and -b are synonymous.</p>

<p style="margin-top: 1em">The -r option is used in
conjunction with a prior invocation of gain with the -h
option - see below for details.</p>

<p style="margin-top: 1em">The -n option normalises the
audio to 0dB FSD; it is often used in conjunction with a
negative gain-dB to the effect that the audio is normalised
to a given level below <br>
0dB. For example, <br>
sox infile outfile gain -n <br>
normalises to 0dB, and <br>
sox infile outfile gain -n -3 <br>
normalises to -3dB.</p>

<p style="margin-top: 1em">The -l option invokes a simple
limiter, e.g. <br>
sox infile outfile gain -l 6 <br>
will apply 6dB of gain but never clip. Note that limiting
more than a few dBs more than occasionally (in a piece of
audio) is not recommended as it can cause audible dis&acirc;
<br>
tortion. See the compand effect for a more capable
limiter.</p>

<p style="margin-top: 1em">The -h option is used to apply
gain to provide head-room for subsequent processing. For
example, with <br>
sox infile outfile gain -h bass +6 <br>
6dB of attenuation will be applied prior to the bass
boosting effect thus ensuring that it will not clip. Of
course, with bass, it is obvious how much headroom will be
<br>
needed, but with other effects (e.g. rate, dither) it is not
always as clear. Another advantage of using gain -h rather
than an explicit attenuation, is that if the <br>
headroom is not used by subsequent effects, it can be
reclaimed with gain -r, for example: <br>
sox infile outfile gain -h bass +6 rate 44100 gain -r <br>
The above effects chain guarantees never to clip nor
amplify; it attenuates if necessary to prevent clipping, but
by only as much as is needed to do so.</p>

<p style="margin-top: 1em">Output formatting (dithering and
bit-depth reduction) also requires headroom (which cannot be
&lsquo;reclaimed&rsquo;), e.g. <br>
sox infile outfile gain -h bass +6 rate 44100 gain -rh
dither <br>
Here, the second gain invocation, reclaims as much of the
headroom as it can from the preceding effects, but retains
as much headroom as is needed for subsequent process&acirc;
<br>
ing. The SoX global option -G can be given to automatically
invoke gain -h and gain -r.</p>

<p style="margin-top: 1em">See also the norm and vol
effects.</p>

<p style="margin-top: 1em">highpass|lowpass [-1|-2]
frequency[k] [width[q|o|h|k]] <br>
Apply a high-pass or low-pass filter with 3dB point
frequency. The filter can be either single-pole (with -1),
or double-pole (the default, or with -2). width applies <br>
only to double-pole filters; the default is Q = 0.707 and
gives a Butterworth response. The filters roll off at 6dB
per pole per octave (20dB per pole per decade). The <br>
double-pole filters are described in detail in [1].</p>

<p style="margin-top: 1em">These effects support the --plot
global option.</p>

<p style="margin-top: 1em">See also sinc for filters with a
steeper roll-off.</p>

<p style="margin-top: 1em">hilbert [-n taps] <br>
Apply an odd-tap Hilbert transform filter, phase-shifting
the signal by 90 degrees.</p>

<p style="margin-top: 1em">This is used in many matrix
coding schemes and for analytic signal generation. The
process is often written as a multiplication by i (or j),
the imaginary unit.</p>

<p style="margin-top: 1em">An odd-tap Hilbert transform
filter has a bandpass characteristic, attenuating the lowest
and highest frequencies. Its bandwidth can be controlled by
the number of filter <br>
taps, which can be specified with -n. By default, the number
of taps is chosen for a cutoff frequency of about 75 Hz.</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">ladspa module [plugin]
[argument...] <br>
Apply a LADSPA [5] (Linux Audio Developer&rsquo;s Simple
Plugin API) plugin. Despite the name, LADSPA is not
Linux-specific, and a wide range of effects is available as
LADSPA <br>
plugins, such as cmt [6] (the Computer Music Toolkit) and
Steve Harris&rsquo;s plugin collection [7]. The first
argument is the plugin module, the second the name of the
plugin <br>
(a module can contain more than one plugin) and any other
arguments are for the control ports of the plugin. Missing
arguments are supplied by default values if possible. <br>
Only plugins with at most one audio input and one audio
output port can be used. If found, the environment variable
LADSPA_PATH will be used as search path for plugins.</p>

<p style="margin-top: 1em">loudness [gain [reference]] <br>
Loudness control - similar to the gain effect, but provides
equalisation for the human auditory system. See
http://en.wikipedia.org/wiki/Loudness for a detailed
descrip&acirc; <br>
tion of loudness. The gain is adjusted by the given gain
parameter (usually negative) and the signal equalised
according to ISO 226 w.r.t. a reference level of 65dB, <br>
though an alternative reference level may be given if the
original audio has been equalised for some other optimal
level. A default gain of -10dB is used if a gain value <br>
is not given.</p>

<p style="margin-top: 1em">See also the gain effect.</p>

<p style="margin-top: 1em">lowpass [-1|-2] frequency[k]
[width[q|o|h|k]] <br>
Apply a low-pass filter. See the description of the highpass
effect for details.</p>

<p style="margin-top: 1em">mcompand
&quot;attack1,decay1{,attack2,decay2} <br>
[soft-knee-dB:]in-dB1[,out-dB1]{,in-dB2,out-dB2} <br>
[gain [initial-volume-dB [delay]]]&quot; {crossover-freq[k]
&quot;attack1,...&quot;}</p>

<p style="margin-top: 1em">The multi-band compander is
similar to the single-band compander but the audio is first
divided into bands using Linkwitz-Riley cross-over filters
and a separately speci&acirc; <br>
fiable compander run on each band. See the compand effect
for the definition of its parameters. Compand parameters are
specified between double quotes and the crossover <br>
frequency for that band is given by crossover-freq; these
can be repeated to create multiple bands.</p>

<p style="margin-top: 1em">For example, the following (one
long) command shows how multi-band companding is typically
used in FM radio: <br>
play track1.wav gain -3 sinc 8000- 29 100 mcompand
&quot;0.005,0.1 -47,-40,-34,-34,-17,-33&quot; 100
&quot;0.003,0.05 -47,-40,-34,-34,-17,-33&quot; 400
&quot;0.000625,0.0125 -47,-40,-34,-34,-15,-33&quot; 1600
&quot;0.0001,0.025 -47,-40,-34,-34,-31,-31,-0,-30&quot; 6400
&quot;0,0.025 -38,-31,-28,-28,-0,-25&quot; gain 15 highpass
22 highpass 22 sinc -n 255 -b 16 -17500 gain 9 lowpass -1
17801 <br>
The audio file is played with a simulated FM radio sound (or
broadcast signal condition if the lowpass filter at the end
is skipped). Note that the pipeline is set up <br>
with US-style 75us pre-emphasis.</p>

<p style="margin-top: 1em">See also compand for a
single-band companding effect.</p>

<p style="margin-top: 1em">noiseprof [profile-file] <br>
Calculate a profile of the audio for use in noise reduction.
See the description of the noisered effect for details.</p>

<p style="margin-top: 1em">noisered [profile-file [amount]]
<br>
Reduce noise in the audio signal by profiling and filtering.
This effect is moderately effective at removing consistent
background noise such as hiss or hum. To use it, <br>
first run SoX with the noiseprof effect on a section of
audio that ideally would contain silence but in fact
contains noise - such sections are typically found at the
<br>
beginning or the end of a recording. noiseprof will write
out a noise profile to profile-file, or to stdout if no
profile-file or if &lsquo;-&rsquo; is given. E.g. <br>
sox speech.wav -n trim 0 1.5 noiseprof speech.noise-profile
<br>
To actually remove the noise, run SoX again, this time with
the noisered effect; noisered will reduce noise according to
a noise profile (which was generated by noise&acirc; <br>
prof), from profile-file, or from stdin if no profile-file
or if &lsquo;-&rsquo; is given. E.g. <br>
sox speech.wav cleaned.wav noisered speech.noise-profile 0.3
<br>
How much noise should be removed is specified by amount-a
number between 0 and 1 with a default of 0.5. Higher numbers
will remove more noise but present a greater like&acirc;
<br>
lihood of removing wanted components of the audio signal.
Before replacing an original recording with a noise-reduced
version, experiment with different amount values to <br>
find the optimal one for your audio; use headphones to check
that you are happy with the results, paying particular
attention to quieter sections of the audio.</p>

<p style="margin-top: 1em">On most systems, the two stages
- profiling and reduction - can be combined using a pipe,
e.g. <br>
sox noisy.wav -n trim 0 1 noiseprof | play noisy.wav
noisered</p>

<p style="margin-top: 1em">norm [dB-level] <br>
Normalise the audio. norm is just an alias for gain -n; see
the gain effect for details.</p>

<p style="margin-top: 1em">oops Out Of Phase Stereo effect.
Mixes stereo to twin-mono where each mono channel contains
the difference between the left and right stereo channels.
This is sometimes known <br>
as the &lsquo;karaoke&rsquo; effect as it often has the
effect of removing most or all of the vocals from a
recording. It is equivalent to remix 1,2i 1,2i.</p>

<p style="margin-top: 1em">overdrive [gain(20)
[colour(20)]] <br>
Non linear distortion. The colour parameter controls the
amount of even harmonic content in the over-driven
output.</p>

<p style="margin-top: 1em">pad { length[@position] } <br>
Pad the audio with silence, at the beginning, the end, or
any specified points through the audio. Both length and
position can specify a time or, if appended with an
&lsquo;s&rsquo;, <br>
a number of samples. length is the amount of silence to
insert and position the position in the input audio stream
at which to insert it. Any number of lengths and posi&acirc;
<br>
tions may be specified, provided that a specified position
is not less that the previous one. position is optional for
the first and last lengths specified and if omitted <br>
correspond to the beginning and the end of the audio
respectively. For example, pad 1.5 1.5 adds 1.5 seconds of
silence padding at each end of the audio, whilst pad <br>
4000s@3:00 inserts 4000 samples of silence 3 minutes into
the audio. If silence is wanted only at the end of the
audio, specify either the end position or specify a zero-
<br>
length pad at the start.</p>

<p style="margin-top: 1em">See also delay for an effect
that can add silence at the beginning of the audio on a
channel-by-channel basis.</p>

<p style="margin-top: 1em">phaser gain-in gain-out delay
decay speed [-s|-t] <br>
Add a phasing effect to the audio. See [3] for a detailed
description of phasing.</p>

<p style="margin-top: 1em">delay/decay/speed gives the
delay in milliseconds and the decay (relative to gain-in)
with a modulation speed in Hz. The modulation is either
sinusoidal (-s) - prefer&acirc; <br>
able for multiple instruments, or triangular (-t) - gives
single instruments a sharper phasing effect. The decay
should be less than 0.5 to avoid feedback, and usually <br>
no less than 0.1. Gain-out is the volume of the output.</p>

<p style="margin-top: 1em">For example: <br>
play snare.flac phaser 0.8 0.74 3 0.4 0.5 -t <br>
Gentler: <br>
play snare.flac phaser 0.9 0.85 4 0.23 1.3 -s <br>
A popular sound: <br>
play snare.flac phaser 0.89 0.85 1 0.24 2 -t <br>
More severe: <br>
play snare.flac phaser 0.6 0.66 3 0.6 2 -t</p>

<p style="margin-top: 1em">pitch [-q] shift [segment
[search [overlap]]] <br>
Change the audio pitch (but not tempo).</p>

<p style="margin-top: 1em">shift gives the pitch shift as
positive or negative &lsquo;cents&rsquo; (i.e. 100ths of a
semitone). See the tempo effect for a description of the
other parameters.</p>

<p style="margin-top: 1em">See also the bend, speed, and
tempo effects.</p>

<p style="margin-top: 1em">rate [-q|-l|-m|-h|-v]
[override-options] RATE[k] <br>
Change the audio sampling rate (i.e. resample the audio) to
any given RATE (even non-integer if this is supported by the
output file format) using a quality level defined <br>
as follows:</p>

<p style="margin-top: 1em">Quality Band- Rej dB Typical Use
<br>
width <br>
-q quick n/a &acirc;30 @ playback on <br>
Fs/4 ancient hardware <br>
-l low 80% 100 playback on old <br>
hardware <br>
-m medium 95% 100 audio playback <br>
-h high 95% 125 16-bit mastering <br>
(use with dither) <br>
-v very high 95% 175 24-bit mastering</p>

<p style="margin-top: 1em">where Band-width is the
percentage of the audio frequency band that is preserved and
Rej dB is the level of noise rejection. Increasing levels of
resampling quality come <br>
at the expense of increasing amounts of time to process the
audio. If no quality option is given, the quality level used
is &lsquo;high&rsquo; (but see &lsquo;Playing &amp;
Recording Audio&rsquo; <br>
above regarding playback).</p>

<p style="margin-top: 1em">The &lsquo;quick&rsquo;
algorithm uses cubic interpolation; all others use
band-limited interpolation. By default, all algorithms have
a &lsquo;linear&rsquo; phase response; for
&lsquo;medium&rsquo;, &lsquo;high&rsquo; <br>
and &lsquo;very high&rsquo;, the phase response is
configurable (see below).</p>

<p style="margin-top: 1em">The rate effect is invoked
automatically if SoX&rsquo;s -r option specifies a rate that
is different to that of the input file(s). Alternatively, if
this effect is given <br>
explicitly, then SoX&rsquo;s -r option need not be given.
For example, the following two commands are equivalent: <br>
sox input.wav -r 48k output.wav bass -b 24 <br>
sox input.wav output.wav bass -b 24 rate 48k <br>
though the second command is more flexible as it allows rate
options to be given, and allows the effects to be ordered
arbitrarily.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">Warning: technically detailed
discussion follows.</p>

<p style="margin-top: 1em">The simple quality selection
described above provides settings that satisfy the needs of
the vast majority of resampling tasks. Occasionally,
however, it may be desirable <br>
to fine-tune the resampler&rsquo;s filter response; this can
be achieved using override options, as detailed in the
following table:</p>

<p style="margin-top: 1em">-M/-I/-L Phase response =
minimum/intermediate/linear <br>
-s Steep filter (band-width = 99%) <br>
-a Allow aliasing/imaging above the pass-band <br>
-b 74-99.7 Any band-width % <br>
-p 0-100 Any phase response (0 = minimum, 25 = intermediate,
<br>
50 = linear, 100 = maximum)</p>

<p style="margin-top: 1em">N.B. Override options cannot be
used with the &lsquo;quick&rsquo; or &lsquo;low&rsquo;
quality algorithms.</p>

<p style="margin-top: 1em">All resamplers use filters that
can sometimes create &lsquo;echo&rsquo; (a.k.a.
&lsquo;ringing&rsquo;) artefacts with transient signals such
as those that occur with &lsquo;finger snaps&rsquo; or other
<br>
highly percussive sounds. Such artefacts are much more
noticeable to the human ear if they occur before the
transient (&lsquo;pre-echo&rsquo;) than if they occur after
it (&lsquo;post- <br>
echo&rsquo;). Note that frequency of any such artefacts is
related to the smaller of the original and new sampling
rates but that if this is at least 44.1kHz, then the
arte&acirc; <br>
facts will lie outside the range of human hearing.</p>

<p style="margin-top: 1em">A phase response setting may be
used to control the distribution of any transient echo
between &lsquo;pre&rsquo; and &lsquo;post&rsquo;: with
minimum phase, there is no pre-echo but the longest <br>
post-echo; with linear phase, pre and post echo are in equal
amounts (in signal terms, but not audibility terms); the
intermediate phase setting attempts to find the best <br>
compromise by selecting a small length (and level) of
pre-echo and a medium lengthed post-echo.</p>

<p style="margin-top: 1em">Minimum, intermediate, or linear
phase response is selected using the -M, -I, or -L option; a
custom phase response can be created with the -p option.
Note that phase <br>
responses between &lsquo;linear&rsquo; and
&lsquo;maximum&rsquo; (greater than 50) are rarely
useful.</p>

<p style="margin-top: 1em">A resampler&rsquo;s band-width
setting determines how much of the frequency content of the
original signal (w.r.t. the original sample rate when
up-sampling, or the new sample <br>
rate when down-sampling) is preserved during conversion. The
term &lsquo;pass-band&rsquo; is used to refer to all
frequencies up to the band-width point (e.g. for 44.1kHz
sampling <br>
rate, and a resampling band-width of 95%, the pass-band
represents frequencies from 0Hz (D.C.) to circa 21kHz).
Increasing the resampler&rsquo;s band-width results in a
slower <br>
conversion and can increase transient echo artefacts (and
vice versa).</p>

<p style="margin-top: 1em">The -s &lsquo;steep
filter&rsquo; option changes resampling band-width from the
default 95% (based on the 3dB point), to 99%. The -b option
allows the band-width to be set to any <br>
value in the range 74-99.7 %, but note that band-width
values greater than 99% are not recommended for normal use
as they can cause excessive transient echo.</p>

<p style="margin-top: 1em">If the -a option is given, then
aliasing/imaging above the pass-band is allowed. For
example, with 44.1kHz sampling rate, and a resampling
band-width of 95%, this means <br>
that frequency content above 21kHz can be distorted;
however, since this is above the pass-band (i.e. above the
highest frequency of interest/audibility), this may not be
<br>
a problem. The benefits of allowing aliasing/imaging are
reduced processing time, and reduced (by almost half)
transient echo artefacts. Note that if this option is <br>
given, then the minimum band-width allowable with -b
increases to 85%.</p>

<p style="margin-top: 1em">Examples: <br>
sox input.wav -b 16 output.wav rate -s -a 44100 dither -s
<br>
default (high) quality resampling; overrides: steep filter,
allow aliasing; to 44.1kHz sample rate; noise-shaped dither
to 16-bit WAV file. <br>
sox input.wav -b 24 output.aiff rate -v -I -b 90 48k <br>
very high quality resampling; overrides: intermediate phase,
band-width 90%; to 48k sample rate; store output to 24-bit
AIFF file.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">The pitch and speed effects use
the rate effect at their core.</p>

<p style="margin-top: 1em">remix [-a|-m|-p]
&lt;out-spec&gt; <br>
out-spec = in-spec{,in-spec} | 0 <br>
in-spec = [in-chan][-[in-chan2]][vol-spec] <br>
vol-spec = p|i|v[volume]</p>

<p style="margin-top: 1em">Select and mix input audio
channels into output audio channels. Each output channel is
specified, in turn, by a given out-spec: a list of
contributing input channels and <br>
volume specifications.</p>

<p style="margin-top: 1em">Note that this effect operates
on the audio channels within the SoX effects processing
chain; it should not be confused with the -m global option
(where multiple files are <br>
mix-combined before entering the effects chain).</p>

<p style="margin-top: 1em">An out-spec contains
comma-separated input channel-numbers and hyphen-delimited
channel-number ranges; alternatively, 0 may be given to
create a silent output channel. <br>
For example, <br>
sox input.wav output.wav remix 6 7 8 0 <br>
creates an output file with four channels, where channels 1,
2, and 3 are copies of channels 6, 7, and 8 in the input
file, and channel 4 is silent. Whereas <br>
sox input.wav output.wav remix 1-3,7 3 <br>
creates a (somewhat bizarre) stereo output file where the
left channel is a mix-down of input channels 1, 2, 3, and 7,
and the right channel is a copy of input channel 3.</p>

<p style="margin-top: 1em">Where a range of channels is
specified, the channel numbers to the left and right of the
hyphen are optional and default to 1 and to the number of
input channels respec&acirc; <br>
tively. Thus <br>
sox input.wav output.wav remix - <br>
performs a mix-down of all input channels to mono.</p>

<p style="margin-top: 1em">By default, where an output
channel is mixed from multiple (n) input channels, each
input channel will be scaled by a factor of &Acirc;&sup1;/n.
Custom mixing volumes can be set by <br>
following a given input channel or range of input channels
with a vol-spec (volume specification). This is one of the
letters p, i, or v, followed by a volume number, the <br>
meaning of which depends on the given letter and is defined
as follows:</p>

<p style="margin-top: 1em">Letter Volume number Notes <br>
p power adjust in dB 0 = no change <br>
i power adjust in dB As &lsquo;p&rsquo;, but invert the
audio <br>
v voltage multiplier 1 = no change, 0.5 &acirc; 6dB
attenuation, 2 &acirc; 6dB <br>
gain, -1 = invert</p>

<p style="margin-top: 1em">If an out-spec includes at least
one vol-spec then, by default, &Acirc;&sup1;/n scaling is
not applied to any other channels in the same out-spec
(though may be in other out-specs). <br>
The -a (automatic) option however, can be given to retain
the automatic scaling in this case. For example, <br>
sox input.wav output.wav remix 1,2 3,4v0.8 <br>
results in channel level multipliers of 0.5,0.5 1,0.8,
whereas <br>
sox input.wav output.wav remix -a 1,2 3,4v0.8 <br>
results in channel level multipliers of 0.5,0.5 0.5,0.8.</p>

<p style="margin-top: 1em">The -m (manual) option disables
all automatic volume adjustments, so <br>
sox input.wav output.wav remix -m 1,2 3,4v0.8 <br>
results in channel level multipliers of 1,1 1,0.8.</p>

<p style="margin-top: 1em">The volume number is optional
and omitting it corresponds to no volume change; however,
the only case in which this is useful is in conjunction with
i. For example, if <br>
input.wav is stereo, then <br>
sox input.wav output.wav remix 1,2i <br>
is a mono equivalent of the oops effect.</p>

<p style="margin-top: 1em">If the -p option is given, then
any automatic &Acirc;&sup1;/n scaling is replaced by
&Acirc;&sup1;/&acirc;n (&lsquo;power&rsquo;) scaling; this
gives a louder mix but one that might occasionally clip.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">One use of the remix effect is
to split an audio file into a set of files, each containing
one of the constituent channels (in order to perform
subsequent processing on <br>
individual audio channels). Where more than a few channels
are involved, a script such as the following (Bourne shell
script) is useful: <br>
#!/bin/sh <br>
chans=&lsquo;soxi -c &quot;$1&quot;&lsquo; <br>
while [ $chans -ge 1 ]; do <br>
chans0=&lsquo;printf %02i $chans&lsquo; # 2 digits hence up
to 99 chans <br>
out=&lsquo;echo &quot;$1&quot;|sed
&quot;s/./1-$chans0.2/&quot;&lsquo; <br>
sox &quot;$1&quot; &quot;$out&quot; remix $chans <br>
chans=&lsquo;expr $chans - 1&lsquo; <br>
done <br>
If a file input.wav containing six audio channels were
given, the script would produce six output files:
input-01.wav, input-02.wav, ..., input-06.wav.</p>

<p style="margin-top: 1em">See also the swap effect.</p>

<p style="margin-top: 1em">repeat [count (1)] <br>
Repeat the entire audio count times, or once if count is not
given. Requires temporary file space to store the audio to
be repeated. Note that repeating once yields two <br>
copies: the original audio and the repeated audio.</p>

<p style="margin-top: 1em">reverb [-w|--wet-only]
[reverberance (50%) [HF-damping (50%) <br>
[room-scale (100%) [stereo-depth (100%) <br>
[pre-delay (0ms) [wet-gain (0dB)]]]]]]</p>

<p style="margin-top: 1em">Add reverberation to the audio
using the &lsquo;freeverb&rsquo; algorithm. A reverberation
effect is sometimes desirable for concert halls that are too
small or contain so many peo&acirc; <br>
ple that the hall&rsquo;s natural reverberance is
diminished. Applying a small amount of stereo reverb to a
(dry) mono signal will usually make it sound more natural.
See [3] <br>
for a detailed description of reverberation.</p>

<p style="margin-top: 1em">Note that this effect increases
both the volume and the length of the audio, so to prevent
clipping in these domains, a typical invocation might be:
<br>
play dry.wav gain -3 pad 0 3 reverb <br>
The -w option can be given to select only the
&lsquo;wet&rsquo; signal, thus allowing it to be processed
further, independently of the &lsquo;dry&rsquo; signal. E.g.
<br>
play -m voice.wav &quot;|sox voice.wav -p reverse reverb -w
reverse&quot; <br>
for a reverse reverb effect.</p>

<p style="margin-top: 1em">reverse <br>
Reverse the audio completely. Requires temporary file space
to store the audio to be reversed.</p>

<p style="margin-top: 1em">riaa Apply RIAA vinyl playback
equalisation. The sampling rate must be one of: 44.1, 48,
88.2, 96 kHz.</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">silence [-l] above-periods
[duration threshold[d|%] <br>
[below-periods duration threshold[d|%]]</p>

<p style="margin-top: 1em">Removes silence from the
beginning, middle, or end of the audio.
&lsquo;Silence&rsquo; is determined by a specified
threshold.</p>

<p style="margin-top: 1em">The above-periods value is used
to indicate if audio should be trimmed at the beginning of
the audio. A value of zero indicates no silence should be
trimmed from the <br>
beginning. When specifying an non-zero above-periods, it
trims audio up until it finds non-silence. Normally, when
trimming silence from beginning of audio the
above-peri&acirc; <br>
ods will be 1 but it can be increased to higher values to
trim all audio up to a specific count of non-silence
periods. For example, if you had an audio file with two <br>
songs that each contained 2 seconds of silence before the
song, you could specify an above-period of 2 to strip out
both silence periods and the first song.</p>

<p style="margin-top: 1em">When above-periods is non-zero,
you must also specify a duration and threshold. Duration
indications the amount of time that non-silence must be
detected before it stops <br>
trimming audio. By increasing the duration, burst of noise
can be treated as silence and trimmed off.</p>

<p style="margin-top: 1em">Threshold is used to indicate
what sample value you should treat as silence. For digital
audio, a value of 0 may be fine but for audio recorded from
analog, you may wish <br>
to increase the value to account for background noise.</p>

<p style="margin-top: 1em">When optionally trimming silence
from the end of the audio, you specify a below-periods
count. In this case, below-period means to remove all audio
after silence is <br>
detected. Normally, this will be a value 1 of but it can be
increased to skip over periods of silence that are wanted.
For example, if you have a song with 2 seconds of <br>
silence in the middle and 2 second at the end, you could set
below-period to a value of 2 to skip over the silence in the
middle of the audio.</p>

<p style="margin-top: 1em">For below-periods, duration
specifies a period of silence that must exist before audio
is not copied any more. By specifying a higher duration,
silence that is wanted can <br>
be left in the audio. For example, if you have a song with
an expected 1 second of silence in the middle and 2 seconds
of silence at the end, a duration of 2 seconds <br>
could be used to skip over the middle silence.</p>

<p style="margin-top: 1em">Unfortunately, you must know the
length of the silence at the end of your audio file to trim
off silence reliably. A work around is to use the silence
effect in combina&acirc; <br>
tion with the reverse effect. By first reversing the audio,
you can use the above-periods to reliably trim all audio
from what looks like the front of the file. Then <br>
reverse the file again to get back to normal.</p>

<p style="margin-top: 1em">To remove silence from the
middle of a file, specify a below-periods that is negative.
This value is then treated as a positive value and is also
used to indicate the <br>
effect should restart processing as specified by the
above-periods, making it suitable for removing periods of
silence in the middle of the audio.</p>

<p style="margin-top: 1em">The option -l indicates that
below-periods duration length of audio should be left intact
at the beginning of each period of silence. For example, if
you want to remove <br>
long pauses between words but do not want to remove the
pauses completely.</p>

<p style="margin-top: 1em">The period counts are in units
of samples. Duration counts may be in the format of
hh:mm:ss.frac, or the exact count of samples. Threshold
numbers may be suffixed with d <br>
to indicate the value is in decibels, or % to indicate a
percentage of maximum value of the sample value (0%
specifies pure digital silence).</p>

<p style="margin-top: 1em">The following example shows how
this effect can be used to start a recording that does not
contain the delay at the start which usually occurs between
&lsquo;pressing the record <br>
button&rsquo; and the start of the performance: <br>
rec parameters filename other-effects silence 1 5 2%</p>

<p style="margin-top: 1em">sinc [-a att|-b beta] [-p
phase|-M|-I|-L] [-t tbw|-n taps] [freqHP][-freqLP [-t tbw|-n
taps]] <br>
Apply a sinc kaiser-windowed low-pass, high-pass, band-pass,
or band-reject filter to the signal. The freqHP and freqLP
parameters give the frequencies of the 6dB points <br>
of a high-pass and low-pass filter that may be invoked
individually, or together. If both are given, then freqHP
less than freqLP creates a band-pass filter, freqHP <br>
greater than freqLP creates a band-reject filter. For
example, the invocations <br>
sinc 3k <br>
sinc -4k <br>
sinc 3k-4k <br>
sinc 4k-3k <br>
create a high-pass, low-pass, band-pass, and band-reject
filter respectively.</p>

<p style="margin-top: 1em">The default stop-band
attenuation of 120dB can be overridden with -a;
alternatively, the kaiser-window &lsquo;beta&rsquo;
parameter can be given directly with -b.</p>

<p style="margin-top: 1em">The default transition
band-width of 5% of the total band can be overridden with -t
(and tbw in Hertz); alternatively, the number of filter taps
can be given directly with <br>
-n.</p>

<p style="margin-top: 1em">If both freqHP and freqLP are
given, then a -t or -n option given to the left of the
frequencies applies to both frequencies; one of these
options given to the right of <br>
the frequencies applies only to freqLP.</p>

<p style="margin-top: 1em">The -p, -M, -I, and -L options
control the filter&rsquo;s phase response; see the rate
effect for details.</p>

<p style="margin-top: 1em">This effect supports the --plot
global option.</p>

<p style="margin-top: 1em">spectrogram [options] <br>
Create a spectrogram of the audio; the audio is passed
unmodified through the SoX processing chain. This effect is
optional - type sox --help and check the list of sup&acirc;
<br>
ported effects to see if it has been included.</p>

<p style="margin-top: 1em">The spectrogram is rendered in a
Portable Network Graphic (PNG) file, and shows time in the
X-axis, frequency in the Y-axis, and audio signal magnitude
in the Z-axis. Z- <br>
axis values are represented by the colour (or optionally the
intensity) of the pixels in the X-Y plane. If the audio
signal contains multiple channels then these are <br>
shown from top to bottom starting from channel 1 (which is
the left channel for stereo audio).</p>

<p style="margin-top: 1em">For example, if
&lsquo;my.wav&rsquo; is a stereo file, then with <br>
sox my.wav -n spectrogram <br>
a spectrogram of the entire file will be created in the file
&lsquo;spectrogram.png&rsquo;. More often though, analysis
of a smaller portion of the audio is required; e.g. with
<br>
sox my.wav -n remix 2 trim 20 30 spectrogram <br>
the spectrogram shows information only from the second
(right) channel, and of thirty seconds of audio starting
from twenty seconds in. To analyse a small portion of the
<br>
frequency domain, the rate effect may be used, e.g. <br>
sox my.wav -n rate 6k spectrogram <br>
allows detailed analysis of frequencies up to 3kHz (half the
sampling rate) i.e. where the human auditory system is most
sensitive. With <br>
sox my.wav -n trim 0 10 spectrogram -x 600 -y 200 -z 100
<br>
the given options control the size of the
spectrogram&rsquo;s X, Y &amp; Z axes (in this case, the
spectrogram area of the produced image will be 600 by 200
pixels in size and the <br>
Z-axis range will be 100 dB). Note that the produced image
includes axes legends etc. and so will be a little larger
than the specified spectrogram size. In this exam&acirc;
<br>
ple: <br>
sox -n -n synth 6 tri 10k:14k spectrogram -z 100 -w kaiser
<br>
an analysis &lsquo;window&rsquo; with high dynamic range is
selected to best display the spectrogram of a swept
triangular wave. For a smilar example, append the following
to the <br>
&lsquo;chime&rsquo; command in the description of the delay
effect (above): <br>
rate 2k spectrogram -X 200 -Z -10 -w kaiser <br>
Options are also avaliable to control the appearance
(colour-set, brightness, contrast, etc.) and filename of the
spectrogram; e.g. with <br>
sox my.wav -n spectrogram -m -l -o print.png <br>
a spectrogram is created suitable for printing on a
&lsquo;black and white&rsquo; printer.</p>

<p style="margin-top: 1em">Options:</p>

<p style="margin-top: 1em">-x num Change the (maximum)
width (X-axis) of the spectrogram from its default value of
800 pixels to a given number between 100 and 200000. See
also -X and -d.</p>

<p style="margin-top: 1em">-X num X-axis pixels/second; the
default is auto-calculated to fit the given or known audio
duration to the X-axis size, or 100 otherwise. If given in
conjunction with <br>
-d, this option affects the width of the spectrogram;
otherwise, it affects the duration of the spectrogram. num
can be from 1 (low time resolution) to 5000 (high <br>
time resolution) and need not be an integer. SoX may make a
slight adjustment to the given number for processing
quantisation reasons; if so, SoX will report the <br>
actual number used (viewable when the SoX global option -V
is in effect). See also -x and -d.</p>

<p style="margin-top: 1em">-y num Sets the Y-axis size in
pixels (per channel); this is the number of frequency
&lsquo;bins&rsquo; used in the Fourier analysis that
produces the spectrogram. N.B. it can be <br>
slow to produce the spectrogram if this number is not one
more than a power of two (e.g. 129). By default the Y-axis
size is chosen automatically (depending on the <br>
number of channels). See -Y for alternative way of setting
spectrogram height.</p>

<p style="margin-top: 1em">-Y num Sets the target total
height of the spectrogram(s). The default value is 550
pixels. Using this option (and by default), SoX will choose
a height for individual <br>
spectrogram channels that is one more than a power of two,
so the actual total height may fall short of the given
number. However, there is also a minimum height <br>
per channel so if there are many channels, the number may be
exceeded. See -y for alternative way of setting spectrogram
height.</p>

<p style="margin-top: 1em">-z num Z-axis (colour) range in
dB, default 120. This sets the dynamic-range of the
spectrogram to be -num dBFS to 0 dBFS. Num may range from 20
to 180. Decreasing <br>
dynamic-range effectively increases the
&lsquo;contrast&rsquo; of the spectrogram display, and vice
versa.</p>

<p style="margin-top: 1em">-Z num Sets the upper limit of
the Z-axis in dBFS. A negative num effectively increases the
&lsquo;brightness&rsquo; of the spectrogram display, and
vice versa.</p>

<p style="margin-top: 1em">-q num Sets the Z-axis
quantisation, i.e. the number of different colours (or
intensities) in which to render Z-axis values. A small
number (e.g. 4) will give a <br>
&lsquo;poster&rsquo;-like effect making it easier to discern
magnitude bands of similar level. Small numbers also usually
result in small PNG files. The number given speci&acirc;
<br>
fies the number of colours to use inside the Z-axis range;
two colours are reserved to represent out-of-range
values.</p>

<p style="margin-top: 1em">-w name <br>
Window: Hann (default), Hamming, Bartlett, Rectangular or
Kaiser. The spectrogram is produced using the Discrete
Fourier Transform (DFT) algorithm. A significant <br>
parameter to this algorithm is the choice of &lsquo;window
function&rsquo;. By default, SoX uses the Hann window which
has good all-round frequency-resolution and dynamic- <br>
range properties. For better frequency resolution (but lower
dynamic-range), select a Hamming window; for higher
dynamic-range (but poorer frequency-resolution), <br>
select a Kaiser window. Bartlett and Rectangular windows are
also available.</p>

<p style="margin-top: 1em">-W num Window adjustment
parameter. This can be used to make small adjustments to the
Kaiser window shape. A positive number (up to ten) increases
its dynamic range, a <br>
negative number decreases it.</p>

<p style="margin-top: 1em">-s Allow slack overlapping of
DFT windows. This can, in some cases, increase image
sharpness and give greater adherence to the -x value, but at
the expense of a lit&acirc; <br>
tle spectral loss.</p>

<p style="margin-top: 1em">-m Creates a monochrome
spectrogram (the default is colour).</p>

<p style="margin-top: 1em">-h Selects a high-colour palette
- less visually pleasing than the default colour palette,
but it may make it easier to differentiate different levels.
If this option <br>
is used in conjunction with -m, the result will be a hybrid
monochrome/colour palette.</p>

<p style="margin-top: 1em">-p num Permute the colours in a
colour or hybrid palette. The num parameter, from 1 (the
default) to 6, selects the permutation.</p>

<p style="margin-top: 1em">-l Creates a &lsquo;printer
friendly&rsquo; spectrogram with a light background (the
default has a dark background).</p>

<p style="margin-top: 1em">-a Suppress the display of the
axis lines. This is sometimes useful in helping to discern
artefacts at the spectrogram edges.</p>

<p style="margin-top: 1em">-r Raw spectrogram: suppress the
display of axes and legends.</p>

<p style="margin-top: 1em">-A Selects an alternative, fixed
colour-set. This is provided only for compatibility with
spectrograms produced by another package. It should not
normally be used as <br>
it has some problems, not least, a lack of differentiation
at the bottom end which results in masking of low-level
artefacts.</p>

<p style="margin-top: 1em">-t text <br>
Set the image title - text to display above the
spectrogram.</p>

<p style="margin-top: 1em">-c text <br>
Set (or clear) the image comment - text to display below and
to the left of the spectrogram.</p>

<p style="margin-top: 1em">-o text <br>
Name of the spectrogram output PNG file, default
&lsquo;spectrogram.png&rsquo;.</p>

<p style="margin-top: 1em">Advanced Options: <br>
In order to process a smaller section of audio without
affecting other effects or the output signal (unlike when
the trim effect is used), the following options may be <br>
used.</p>

<p style="margin-top: 1em">-d duration <br>
This option sets the X-axis resolution such that audio with
the given duration ([[HH:]MM:]SS) fits the selected (or
default) X-axis width. For example, <br>
sox input.mp3 output.wav -n spectrogram -d 1:00 stats <br>
creates a spectrogram showing the first minute of the audio,
whilst <br>
the stats effect is applied to the entire audio signal.</p>

<p style="margin-top: 1em">See also -X for an alternative
way of setting the X-axis resolution.</p>

<p style="margin-top: 1em">-S time <br>
Start the spectrogram at the given point in the audio
stream. For example <br>
sox input.aiff output.wav spectrogram -S 1:00 <br>
creates a spectrogram showing all but the first minute of
the audio (the output file however, receives the entire
audio stream).</p>

<p style="margin-top: 1em">For the ability to perform
off-line processing of spectral data, see the stat
effect.</p>

<p style="margin-top: 1em">speed factor[c] <br>
Adjust the audio speed (pitch and tempo together). factor is
either the ratio of the new speed to the old speed: greater
than 1 speeds up, less than 1 slows down, or, if <br>
appended with the letter &lsquo;c&rsquo;, the number of
cents (i.e. 100ths of a semitone) by which the pitch (and
tempo) should be adjusted: greater than 0 increases, less
than 0 <br>
decreases.</p>

<p style="margin-top: 1em">Technically, the speed effect
only changes the sample rate information, leaving the
samples themselves untouched. The rate effect is invoked
automatically to resample to <br>
the output sample rate, using its default quality/speed. For
higher quality or higher speed resampling, in addition to
the speed effect, specify the rate effect with the <br>
desired quality option.</p>

<p style="margin-top: 1em">See also the bend, pitch, and
tempo effects.</p>

<p style="margin-top: 1em">splice [-h|-t|-q] {
position[,excess[,leeway]] } <br>
Splice together audio sections. This effect provides two
things over simple audio concatenation: a (usually short)
cross-fade is applied at the join, and a wave similar&acirc;
<br>
ity comparison is made to help determine the best place at
which to make the join.</p>

<p style="margin-top: 1em">One of the options -h, -t, or -q
may be given to select the fade envelope as half-cosine wave
(the default), triangular (a.k.a. linear), or quarter-cosine
wave respec&acirc; <br>
tively.</p>

<p style="margin-top: 1em">Type Audio Fade level
Transitions <br>
t correlated constant gain abrupt <br>
h correlated constant gain smooth <br>
q uncorrelated constant power smooth</p>

<p style="margin-top: 1em">To perform a splice, first use
the trim effect to select the audio sections to be joined
together. As when performing a tape splice, the end of the
section to be spliced <br>
onto should be trimmed with a small excess (default 0.005
seconds) of audio after the ideal joining point. The
beginning of the audio section to splice on should be <br>
trimmed with the same excess (before the ideal joining
point), plus an additional leeway (default 0.005 seconds).
SoX should then be invoked with the two audio sections <br>
as input files and the splice effect given with the position
at which to perform the splice - this is length of the first
audio section (including the excess).</p>

<p style="margin-top: 1em">The following diagram uses the
tape analogy to illustrate the splice operation. The effect
simulates the diagonal cuts and joins the two pieces:</p>

<p style="margin-top: 1em">length1 excess <br>
-----------&gt;&lt;---&gt; <br>
_________ : : _________________ &nbsp; <br>
: : :&nbsp; &lsquo; &nbsp; <br>
: : : &nbsp; &lsquo; <br>
: : &nbsp; &lsquo; <br>
* : : * - - * &nbsp; <br>
: : :&nbsp; &lsquo; &nbsp; <br>
: : : &nbsp; &lsquo; <br>
_______________ : : _____&lsquo;____ <br>
: : : : <br>
&lt;---&gt; &lt;-----&gt; <br>
excess leeway</p>

<p style="margin-top: 1em">where * indicates the joining
points.</p>

<p style="margin-top: 1em">For example, a long song begins
with two verses which start (as determined e.g. by using the
play command with the trim (start) effect) at times 0:30.125
and 1:03.432. <br>
The following commands cut out the first verse: <br>
sox too-long.wav part1.wav trim 0 30.130 <br>
(5 ms excess, after the first verse starts) <br>
sox too-long.wav part2.wav trim 1:03.422 <br>
(5 ms excess plus 5 ms leeway, before the second verse
starts) <br>
sox part1.wav part2.wav just-right.wav splice 30.130 <br>
For another example, the SoX command <br>
play &quot;|sox -n -p synth 1 sin %1&quot; &quot;|sox -n -p
synth 1 sin %3&quot; <br>
generates and plays two notes, but there is a nasty click at
the transition; the click can be removed by splicing instead
of concatenating the audio, i.e. by appending <br>
splice 1 to the command. (Clicks at the beginning and end of
the audio can be removed by preceding the splice effect with
fade q .01 2 .01).</p>

<p style="margin-top: 1em">Provided your arithmetic is good
enough, multiple splices can be performed with a single
splice invocation. For example: <br>
#!/bin/sh <br>
# Audio Copy and Paste Over <br>
# acpo infile copy-start copy-stop paste-over-start outfile
<br>
# All times measured in samples. <br>
rate=&lsquo;soxi -r &quot;$1&quot;&lsquo; <br>
e=&lsquo;expr $rate &rsquo;*&rsquo; 5 / 1000&lsquo; # Using
default excess <br>
l=$e # and leeway. <br>
sox &quot;$1&quot; piece.wav trim &lsquo;expr $2 - $e -
$l&lsquo;s &lsquo;expr $3 - $2 + $e + $l + $e&lsquo;s <br>
sox &quot;$1&quot; part1.wav trim 0 &lsquo;expr $4 +
$e&lsquo;s <br>
sox &quot;$1&quot; part2.wav trim &lsquo;expr $4 + $3 - $2 -
$e - $l&lsquo;s <br>
sox part1.wav piece.wav part2.wav &quot;$5&quot; splice
&lsquo;expr $4 + $e&lsquo;s &lsquo;expr $4 + $e + $3 - $2 +
$e + $l + $e&lsquo;s <br>
In the above Bourne shell script, two splices are used to
&lsquo;copy and paste&rsquo; audio.</p>

<p style="margin-top: 1em">* * *</p>

<p style="margin-top: 1em">It is also possible to use this
effect to perform general cross-fades, e.g. to join two
songs. In this case, excess would typically be an number of
seconds, the -q option <br>
would typically be given (to select an &lsquo;equal
power&rsquo; cross-fade), and leeway should be zero (which
is the default if -q is given). For example, if f1.wav and
f2.wav are <br>
audio files to be cross-faded, then <br>
sox f1.wav f2.wav out.wav splice -q $(soxi -D f1.wav),3 <br>
cross-fades the files where the point of equal loudness is 3
seconds before the end of f1.wav, i.e. the total length of
the cross-fade is 2 &Atilde; 3 = 6 seconds (Note: the <br>
$(...) notation is POSIX shell).</p>

<p style="margin-top: 1em">stat [-s scale] [-rms] [-freq]
[-v] [-d] <br>
Display time and frequency domain statistical information
about the audio. Audio is passed unmodified through the SoX
processing chain.</p>

<p style="margin-top: 1em">The information is output to the
&lsquo;standard error&rsquo; (stderr) stream and is
calculated, where n is the duration of the audio in samples,
c is the number of audio channels, r <br>
is the audio sample rate, and xk represents the PCM value
(in the range -1 to +1 by default) of each successive sample
in the audio, as follows:</p>

<p style="margin-top: 1em">Samples read n&Atilde;c <br>
Length (seconds) n&Atilde;&middot;r <br>
Scaled by See -s below. <br>
Maximum amplitude max(xk) The maximum sample value in the
audio; usually <br>
this will be a positive number.</p>

<p style="margin-top: 1em">Minimum amplitude min(xk) The
minimum sample value in the audio; usually <br>
this will be a negative number. <br>
Midline amplitude
&Acirc;&frac12;min(xk)+&Acirc;&frac12;max(xk) <br>
Mean norm &Acirc;&sup1;/n&Icirc;&pound;&acirc;xk&acirc; The
average of the absolute value of each sam&acirc; <br>
ple in the audio. <br>
Mean amplitude &Acirc;&sup1;/n&Icirc;&pound;xk The average
of each sample in the audio. If <br>
this figure is non-zero, then it indicates the <br>
presence of a D.C. offset (which could be <br>
removed using the dcshift effect). <br>
RMS amplitude
&acirc;(&Acirc;&sup1;/n&Icirc;&pound;xk&Acirc;&sup2;) The
level of a D.C. signal that would have the <br>
same power as the audio&rsquo;s average power. <br>
Maximum delta max(&acirc;xk-xk-1&acirc;) <br>
Minimum delta min(&acirc;xk-xk-1&acirc;) <br>
Mean delta
&Acirc;&sup1;/n-1&Icirc;&pound;&acirc;xk-xk-1&acirc; <br>
RMS delta
&acirc;(&Acirc;&sup1;/n-1&Icirc;&pound;(xk-xk-1)&Acirc;&sup2;)
<br>
Rough frequency In Hz. <br>
Volume Adjustment The parameter to the vol effect which
would <br>
make the audio as loud as possible without <br>
clipping. Note: See the discussion on Clip&acirc; <br>
ping above for reasons why it is rarely a good <br>
idea actually to do this.</p>

<p style="margin-top: 1em">Note that the delta measurements
are not applicable for multi-channel audio.</p>

<p style="margin-top: 1em">The -s option can be used to
scale the input data by a given factor. The default value of
scale is 2147483647 (i.e. the maximum value of a 32-bit
signed integer). Inter&acirc; <br>
nal effects always work with signed long PCM data and so the
value should relate to this fact.</p>

<p style="margin-top: 1em">The -rms option will convert all
output average values to &lsquo;root mean square&rsquo;
format.</p>

<p style="margin-top: 1em">The -v option displays only the
&lsquo;Volume Adjustment&rsquo; value.</p>

<p style="margin-top: 1em">The -freq option calculates the
input&rsquo;s power spectrum (4096 point DFT) instead of the
statistics listed above. This should only be used with a
single channel audio file.</p>

<p style="margin-top: 1em">The -d option displays a hex
dump of the 32-bit signed PCM data audio in SoX&rsquo;s
internal buffer. This is mainly used to help track down
endian problems that sometimes <br>
occur in cross-platform versions of SoX.</p>

<p style="margin-top: 1em">See also the stats effect.</p>

<p style="margin-top: 1em">stats [-b bits|-x bits|-s scale]
[-w window-time] <br>
Display time domain statistical information about the audio
channels; audio is passed unmodified through the SoX
processing chain. Statistics are calculated and displayed
<br>
for each audio channel and, where applicable, an overall
figure is also given.</p>

<p style="margin-top: 1em">For example, for a typical
well-mastered stereo music file:</p>

<p style="margin-top: 1em">Overall Left Right <br>
DC offset 0.000803 -0.000391 0.000803 <br>
Min level -0.750977 -0.750977 -0.653412 <br>
Max level 0.708801 0.708801 0.653534 <br>
Pk lev dB -2.49 -2.49 -3.69 <br>
RMS lev dB -19.41 -19.13 -19.71 <br>
RMS Pk dB -13.82 -13.82 -14.38 <br>
RMS Tr dB -85.25 -85.25 -82.66 <br>
Crest factor - 6.79 6.32 <br>
Flat factor 0.00 0.00 0.00 <br>
Pk count 2 2 2 <br>
Bit-depth 16/16 16/16 16/16 <br>
Num samples 7.72M <br>
Length s 174.973 <br>
Scale max 1.000000 <br>
Window s 0.050</p>

<p style="margin-top: 1em">DC offset, Min level, and Max
level are shown, by default, in the range &Acirc;&plusmn;1.
If the -b (bits) options is given, then these three
measurements will be scaled to a signed <br>
integer with the given number of bits; for example, for 16
bits, the scale would be -32768 to +32767. The -x option
behaves the same way as -b except that the signed <br>
integer values are displayed in hexadecimal. The -s option
scales the three measurements by a given floating-point
number.</p>

<p style="margin-top: 1em">Pk lev dB and RMS lev dB are
standard peak and RMS level measured in dBFS. RMS Pk dB and
RMS Tr dB are peak and trough values for RMS level measured
over a short window <br>
(default 50ms).</p>

<p style="margin-top: 1em">Crest factor is the standard
ratio of peak to RMS level (note: not in dB).</p>

<p style="margin-top: 1em">Flat factor is a measure of the
flatness (i.e. consecutive samples with the same value) of
the signal at its peak levels (i.e. either Min level, or Max
level). Pk count <br>
is the number of occasions (not the number of samples) that
the signal attained either Min level, or Max level.</p>

<p style="margin-top: 1em">The right-hand Bit-depth figure
is the standard definition of bit-depth i.e. bits less
significant than the given number are fixed at zero. The
left-hand figure is the <br>
number of most significant bits that are fixed at zero (or
one for negative numbers) subtracted from the right-hand
figure (the number subtracted is directly related to <br>
Pk lev dB).</p>

<p style="margin-top: 1em">For multi-channel audio, an
overall figure for each of the above measurements is given
and derived from the channel figures as follows: DC offset:
maximum magnitude; <br>
Max level, Pk lev dB, RMS Pk dB, Bit-depth: maximum; Min
level, RMS Tr dB: minimum; RMS lev dB, Flat factor, Pk
count: average; Crest factor: not applicable.</p>

<p style="margin-top: 1em">Length s is the duration in
seconds of the audio, and Num samples is equal to the
sample-rate multiplied by Length. Scale Max is the scaling
applied to the first three <br>
measurements; specifically, it is the maximum value that
could apply to Max level. Window s is the length of the
window used for the peak and trough RMS measurements.</p>

<p style="margin-top: 1em">See also the stat effect.</p>

<p style="margin-top: 1em">swap Swap stereo channels. See
also remix for an effect that allows arbitrary channel
selection and ordering (and mixing).</p>

<p style="margin-top: 1em">stretch factor [window fade
shift fading] <br>
Change the audio duration (but not its pitch). This effect
is broadly equivalent to the tempo effect with (factor
inverted and) search set to zero, so in general, its <br>
results are comparatively poor; it is retained as it can
sometimes out-perform tempo for small factors.</p>

<p style="margin-top: 1em">factor of stretching: &gt;1
lengthen, &lt;1 shorten duration. window size is in ms.
Default is 20ms. The fade option, can be &lsquo;lin&rsquo;.
shift ratio, in [0 1]. Default depends <br>
on stretch factor. 1 to shorten, 0.8 to lengthen. The fading
ratio, in [0 0.5]. The amount of a fade&rsquo;s default
depends on factor and shift.</p>

<p style="margin-top: 1em">See also the tempo effect.</p>

<p style="margin-top: 1em">synth [-j KEY] [-n] [len [off
[ph [p1 [p2 [p3]]]]]] {[type] [combine]
[[%]freq[k][:|+|/|-[%]freq2[k]]] [off [ph [p1 [p2 [p3]]]]]}
<br>
This effect can be used to generate fixed or swept frequency
audio tones with various wave shapes, or to generate
wide-band noise of various &lsquo;colours&rsquo;. Multiple
synth <br>
effects can be cascaded to produce more complex waveforms;
at each stage it is possible to choose whether the generated
waveform will be mixed with, or modulated onto the <br>
output from the previous stage. Audio for each channel in a
multi-channel audio file can be synthesised
independently.</p>

<p style="margin-top: 1em">Though this effect is used to
generate audio, an input file must still be given, the
characteristics of which will be used to set the synthesised
audio length, the number <br>
of channels, and the sampling rate; however, since the input
file&rsquo;s audio is not normally needed, a &lsquo;null
file&rsquo; (with the special name -n) is often given
instead (and the <br>
length specified as a parameter to synth or by another given
effect that can has an associated length).</p>

<p style="margin-top: 1em">For example, the following
produces a 3 second, 48kHz, audio file containing a
sine-wave swept from 300 to 3300 Hz: <br>
sox -n output.wav synth 3 sine 300-3300 <br>
and this produces an 8 kHz version: <br>
sox -r 8000 -n output.wav synth 3 sine 300-3300 <br>
Multiple channels can be synthesised by specifying the set
of parameters shown between braces multiple times; the
following puts the swept tone in the left channel and <br>
adds &lsquo;brown&rsquo; noise in the right: <br>
sox -n output.wav synth 3 sine 300-3300 brownnoise <br>
The following example shows how two synth effects can be
cascaded to create a more complex waveform: <br>
play -n synth 0.5 sine 200-500 synth 0.5 sine fmod 700-100
<br>
Frequencies can also be given in &lsquo;scientific&rsquo;
note notation, or, by prefixing a &lsquo;%&rsquo; character,
as a number of semitones relative to &lsquo;middle A&rsquo;
(440 Hz). For example, the <br>
following could be used to help tune a guitar&rsquo;s low
&lsquo;E&rsquo; string: <br>
play -n synth 4 pluck %-29 <br>
or with a (Bourne shell) loop, the whole guitar: <br>
for n in E2 A2 D3 G3 B3 E4; do <br>
play -n synth 4 pluck $n repeat 2; done <br>
See the delay effect (above) and the reference to &lsquo;SoX
scripting examples&rsquo; (below) for more synth
examples.</p>

<p style="margin-top: 1em">N.B. This effect generates audio
at maximum volume (0dBFS), which means that there is a high
chance of clipping when using the audio subsequently, so in
many cases, you <br>
will want to follow this effect with the gain effect to
prevent this from happening. (See also Clipping above.) Note
that, by default, the synth effect incorporates the <br>
functionality of gain -h (see the gain effect for details);
synth&rsquo;s -n option may be given to disable this
behaviour.</p>

<p style="margin-top: 1em">A detailed description of each
synth parameter follows:</p>

<p style="margin-top: 1em">len is the length of audio to
synthesise expressed as a time or as a number of samples;
0=inputlength, default=0.</p>

<p style="margin-top: 1em">The format for specifying
lengths in time is hh:mm:ss.frac. The format for specifying
sample counts is the number of samples with the letter
&lsquo;s&rsquo; appended to it.</p>

<p style="margin-top: 1em">type is one of sine, square,
triangle, sawtooth, trapezium, exp, [white]noise, tpdfnoise
pinknoise, brownnoise, pluck; default=sine.</p>

<p style="margin-top: 1em">combine is one of create, mix,
amod (amplitude modulation), fmod (frequency modulation);
default=create.</p>

<p style="margin-top: 1em">freq/freq2 are the frequencies
at the beginning/end of synthesis in Hz or, if preceded with
&lsquo;%&rsquo;, semitones relative to A (440 Hz);
alternatively, &lsquo;scientific&rsquo; note nota&acirc;
<br>
tion (e.g. E2) may be used. The default frequency is 440Hz.
By default, the tuning used with the note notations is
&lsquo;equal temperament&rsquo;; the -j KEY option selects
&lsquo;just <br>
intonation&rsquo;, where KEY is an integer number of
semitones relative to A (so for example, -9 or 3 selects the
key of C), or a note in scientific notation.</p>

<p style="margin-top: 1em">If freq2 is given, then len must
also have been given and the generated tone will be swept
between the given frequencies. The two given frequencies
must be separated by <br>
one of the characters &lsquo;:&rsquo;, &lsquo;+&rsquo;,
&lsquo;/&rsquo;, or &lsquo;-&rsquo;. This character is used
to specify the sweep function as follows:</p>

<p style="margin-top: 1em">: Linear: the tone will change
by a fixed number of hertz per second.</p>

<p style="margin-top: 1em">+ Square: a second-order
function is used to change the tone.</p>

<p style="margin-top: 1em">/ Exponential: the tone will
change by a fixed number of semitones per second.</p>

<p style="margin-top: 1em">- Exponential: as
&lsquo;/&rsquo;, but initial phase always zero, and stepped
(less smooth) frequency changes.</p>

<p style="margin-top: 1em">Not used for noise.</p>

<p style="margin-top: 1em">off is the bias (DC-offset) of
the signal in percent; default=0.</p>

<p style="margin-top: 1em">ph is the phase shift in
percentage of 1 cycle; default=0. Not used for noise.</p>

<p style="margin-top: 1em">p1 is the percentage of each
cycle that is &lsquo;on&rsquo; (square), or
&lsquo;rising&rsquo; (triangle, exp, trapezium); default=50
(square, triangle, exp), default=10 (trapezium), or sustain
<br>
(pluck); default=40.</p>

<p style="margin-top: 1em">p2 (trapezium): the percentage
through each cycle at which &lsquo;falling&rsquo; begins;
default=50. exp: the amplitude in multiples of 2dB;
default=50, or tone-1 (pluck); default=20.</p>

<p style="margin-top: 1em">p3 (trapezium): the percentage
through each cycle at which &lsquo;falling&rsquo; ends;
default=60, or tone-2 (pluck); default=90.</p>

<p style="margin-top: 1em">tempo [-q] [-m|-s|-l] factor
[segment [search [overlap]]] <br>
Change the audio playback speed but not its pitch. This
effect uses the WSOLA algorithm. The audio is chopped up
into segments which are then shifted in the time domain <br>
and overlapped (cross-faded) at points where their waveforms
are most similar as determined by measurement of
&lsquo;least squares&rsquo;.</p>

<p style="margin-top: 1em">By default, linear searches are
used to find the best overlapping points. If the optional -q
parameter is given, tree searches are used instead. This
makes the effect work <br>
more quickly, but the result may not sound as good. However,
if you must improve the processing speed, this generally
reduces the sound quality less than reducing the <br>
search or overlap values.</p>

<p style="margin-top: 1em">The -m option is used to
optimize default values of segment, search and overlap for
music processing.</p>

<p style="margin-top: 1em">The -s option is used to
optimize default values of segment, search and overlap for
speech processing.</p>

<p style="margin-top: 1em">The -l option is used to
optimize default values of segment, search and overlap for
&lsquo;linear&rsquo; processing that tends to cause more
noticeable distortion but may be useful <br>
when factor is close to 1.</p>

<p style="margin-top: 1em">If -m, -s, or -l is specified,
the default value of segment will be calculated based on
factor, while default search and overlap values are based on
segment. Any values <br>
you provide still override these default values.</p>

<p style="margin-top: 1em">factor gives the ratio of new
tempo to the old tempo, so e.g. 1.1 speeds up the tempo by
10%, and 0.9 slows it down by 10%.</p>

<p style="margin-top: 1em">The optional segment parameter
selects the algorithm&rsquo;s segment size in milliseconds.
If no other flags are specified, the default value is 82 and
is typically suited to <br>
making small changes to the tempo of music. For larger
changes (e.g. a factor of 2), 41 ms may give a better
result. The -m, -s, and -l flags will cause the segment <br>
default to be automatically adjusted based on factor. For
example using -s (for speech) with a tempo of 1.25 will
calculate a default segment value of 32.</p>

<p style="margin-top: 1em">The optional search parameter
gives the audio length in milliseconds over which the
algorithm will search for overlapping points. If no other
flags are specified, the <br>
default value is 14.68. Larger values use more processing
time and may or may not produce better results. A practical
maximum is half the value of segment. Search can be <br>
reduced to cut processing time at the risk of degrading
output quality. The -m, -s, and -l flags will cause the
search default to be automatically adjusted based on
seg&acirc; <br>
ment.</p>

<p style="margin-top: 1em">The optional overlap parameter
gives the segment overlap length in milliseconds. Default
value is 12, but -m, -s, or -l flags automatically adjust
overlap based on seg&acirc; <br>
ment size. Increasing overlap increases processing time and
may increase quality. A practical maximum for overlap is the
value of search, with overlap typically being (at <br>
least) a little smaller then search.</p>

<p style="margin-top: 1em">See also speed for an effect
that changes tempo and pitch together, pitch and bend for
effects that change pitch only, and stretch for an effect
that changes tempo using a <br>
different algorithm.</p>

<p style="margin-top: 1em">treble gain [frequency[k]
[width[s|h|k|o|q]]] <br>
Apply a treble tone-control effect. See the description of
the bass effect for details.</p>

<p style="margin-top: 1em">tremolo speed [depth] <br>
Apply a tremolo (low frequency amplitude modulation) effect
to the audio. The tremolo frequency in Hz is given by speed,
and the depth as a percentage by depth (default <br>
40).</p>

<p style="margin-top: 1em">trim {[=|-]position} <br>
Cuts portions out of the audio. Any number of positions may
be given; audio is not sent to the output until the first
position is reached. The effect then alternates <br>
between copying and discarding audio at each position.</p>

<p style="margin-top: 1em">If a position is preceded by an
equals or minus sign, it is interpreted relative to the
beginning or the end of the audio, respectively. (The audio
length must be known <br>
for end-relative locations to work.) Otherwise, it is
considered an offset from the last position, or from the
start of audio for the first parameter. Using a value of 0
<br>
for the first position parameter allows copying from the
beginning of the audio.</p>

<p style="margin-top: 1em">All parameters can be specified
using either an amount of time or an exact count of samples.
The format for specifying lengths in time is hh:mm:ss.frac.
A value of <br>
1:30.5 for the first parameter will not start until 1
minute, thirty and &Acirc;&frac12; seconds into the audio.
The format for specifying sample counts is the number of
samples with <br>
the letter &lsquo;s&rsquo; appended to it. A value of 8000s
for the first parameter will wait until 8000 samples are
read before starting to process audio.</p>

<p style="margin-top: 1em">For example, <br>
sox infile outfile trim 0 10 <br>
will copy the first ten seconds, while <br>
play infile trim 12:34 =15:00 -2:00 <br>
will play from 12 minutes 34 seconds into the audio up to 15
minutes into the audio (i.e. 2 minutes and 26 seconds long),
then resume playing two minutes before the end of <br>
audio.</p>

<p style="margin-top: 1em">upsample [factor] <br>
Upsample the signal by an integer factor: factor-1
zero-value samples are inserted between each pair of input
samples. As a result, the original spectrum is replicated
<br>
into the new frequency space (aliasing) and attenuated. This
attenuation can be compensated for by adding vol factor
after any further processing. The upsample effect is <br>
typically used in combination with filtering effects.</p>

<p style="margin-top: 1em">For a general resampling effect
with anti-aliasing, see rate. See also downsample.</p>

<p style="margin-top: 1em">vad [options] <br>
Voice Activity Detector. Attempts to trim silence and quiet
background sounds from the ends of (fairly high resolution
i.e. 16-bit, 44-48kHz) recordings of speech. The <br>
algorithm currently uses a simple cepstral power measurement
to detect voice, so may be fooled by other things,
especially music. The effect can trim only from the front
<br>
of the audio, so in order to trim from the back, the reverse
effect must also be used. E.g. <br>
play speech.wav norm vad <br>
to trim from the front, <br>
play speech.wav norm reverse vad reverse <br>
to trim from the back, and <br>
play speech.wav norm vad reverse vad reverse <br>
to trim from both ends. The use of the norm effect is
recommended, but remember that neither reverse nor norm is
suitable for use with streamed audio.</p>

<p style="margin-top: 1em">Options: <br>
Default values are shown in parenthesis.</p>

<p style="margin-top: 1em">-t num (7) <br>
The measurement level used to trigger activity detection.
This might need to be changed depending on the noise level,
signal level and other charactistics of the <br>
input audio.</p>

<p style="margin-top: 1em">-T num (0.25) <br>
The time constant (in seconds) used to help ignore short
bursts of sound.</p>

<p style="margin-top: 1em">-s num (1) <br>
The amount of audio (in seconds) to search for
quieter/shorter bursts of audio to include prior to the
detected trigger point.</p>

<p style="margin-top: 1em">-g num (0.25) <br>
Allowed gap (in seconds) between quieter/shorter bursts of
audio to include prior to the detected trigger point.</p>

<p style="margin-top: 1em">-p num (0) <br>
The amount of audio (in seconds) to preserve before the
trigger point and any found quieter/shorter bursts.</p>

<p style="margin-top: 1em">Advanced Options: <br>
These allow fine tuning of the algorithm&rsquo;s internal
parameters.</p>

<p style="margin-top: 1em">-b num The algorithm
(internally) uses adaptive noise estimation/reduction in
order to detect the start of the wanted audio. This option
sets the time for the initial <br>
noise estimate.</p>

<p style="margin-top: 1em">-N num Time constant used by the
adaptive noise estimator for when the noise level is
increasing.</p>

<p style="margin-top: 1em">-n num Time constant used by the
adaptive noise estimator for when the noise level is
decreasing.</p>

<p style="margin-top: 1em">-r num Amount of noise reduction
to use in the detection algorithm (e.g. 0, 0.5, ...).</p>

<p style="margin-top: 1em">-f num Frequency of the
algorithm&rsquo;s processing/measurements.</p>

<p style="margin-top: 1em">-m num Measurement duration; by
default, twice the measurement period; i.e. with
overlap.</p>

<p style="margin-top: 1em">-M num Time constant used to
smooth spectral measurements.</p>

<p style="margin-top: 1em">-h num &lsquo;Brick-wall&rsquo;
frequency of high-pass filter applied at the input to the
detector algorithm.</p>

<p style="margin-top: 1em">-l num &lsquo;Brick-wall&rsquo;
frequency of low-pass filter applied at the input to the
detector algorithm.</p>

<p style="margin-top: 1em">-H num &lsquo;Brick-wall&rsquo;
frequency of high-pass lifter used in the detector
algorithm.</p>

<p style="margin-top: 1em">-L num &lsquo;Brick-wall&rsquo;
frequency of low-pass lifter used in the detector
algorithm.</p>

<p style="margin-top: 1em">See also the silence effect.</p>

<p style="margin-top: 1em">vol gain [type [limitergain]]
<br>
Apply an amplification or an attenuation to the audio
signal. Unlike the -v option (which is used for balancing
multiple input files as they enter the SoX effects
pro&acirc; <br>
cessing chain), vol is an effect like any other so can be
applied anywhere, and several times if necessary, during the
processing chain.</p>

<p style="margin-top: 1em">The amount to change the volume
is given by gain which is interpreted, according to the
given type, as follows: if type is amplitude (or is
omitted), then gain is an <br>
amplitude (i.e. voltage or linear) ratio, if power, then a
power (i.e. wattage or voltage-squared) ratio, and if dB,
then a power change in dB.</p>

<p style="margin-top: 1em">When type is amplitude or power,
a gain of 1 leaves the volume unchanged, less than 1
decreases it, and greater than 1 increases it; a negative
gain inverts the audio sig&acirc; <br>
nal in addition to adjusting its volume.</p>

<p style="margin-top: 1em">When type is dB, a gain of 0
leaves the volume unchanged, less than 0 decreases it, and
greater than 0 increases it.</p>

<p style="margin-top: 1em">See [4] for a detailed
discussion on electrical (and hence audio signal) voltage
and power ratios.</p>

<p style="margin-top: 1em">Beware of Clipping when the
increasing the volume.</p>

<p style="margin-top: 1em">The gain and the type parameters
can be concatenated if desired, e.g. vol 10dB.</p>

<p style="margin-top: 1em">An optional limitergain value
can be specified and should be a value much less than 1
(e.g. 0.05 or 0.02) and is used only on peaks to prevent
clipping. Not specifying <br>
this parameter will cause no limiter to be used. In verbose
mode, this effect will display the percentage of the audio
that needed to be limited.</p>

<p style="margin-top: 1em">See also gain for a
volume-changing effect with different capabilities, and
compand for a dynamic-range compression/expansion/limiting
effect.</p>

<p style="margin-top: 1em">Deprecated Effects <br>
The following effects have been renamed or have their
functionality included in another effect; they continue to
work in this version of SoX but may be removed in
future.</p>

<p style="margin-top: 1em">mixer [
-l|-r|-f|-b|-1|-2|-3|-4|n{,n} ] <br>
Reduce the number of audio channels by mixing or selecting
channels, or increase the number of channels by duplicating
channels. Note: this effect operates on the audio <br>
channels within the SoX effects processing chain; it should
not be confused with the -m global option (where multiple
files are mix-combined before entering the effects <br>
chain).</p>

<p style="margin-top: 1em">When reducing the number of
channels it is possible to use the -l, -r, -f, -b, -1, -2,
-3, -4, options to select only the left, right, front, back
channel(s) or specific <br>
channel for the output instead of averaging the channels.
The -l, and -r options will do averaging in quad-channel
files so select the exact channel to prevent this.</p>

<p style="margin-top: 1em">The mixer effect can also be
invoked with up to 16 numbers, separated by commas, which
specify the proportion (0 = 0% and 1 = 100%) of each input
channel that is to be <br>
mixed into each output channel. In two-channel mode, 4
numbers are given: l &acirc; l, l &acirc; r, r &acirc; l,
and r &acirc; r, respectively. In four-channel mode, the
first 4 numbers give <br>
the proportions for the left-front output channel, as
follows: lf &acirc; lf, rf &acirc; lf, lb &acirc; lf, and rb
&acirc; rf. The next 4 give the right-front output in the
same order, then <br>
left-back and right-back.</p>

<p style="margin-top: 1em">It is also possible to use the
16 numbers to expand or reduce the channel count; just
specify 0 for unused channels.</p>

<p style="margin-top: 1em">Finally, certain reduced
combination of numbers can be specified for certain
input/output channel combinations.</p>

<p style="margin-top: 1em">In Ch Out Ch Num Mappings <br>
2 1 2 l &acirc; l, r &acirc; l <br>
2 2 1 adjust balance <br>
4 1 4 lf &acirc; l, rf &acirc; l, lb &acirc; l, rb &acirc; l
<br>
4 2 2 lf &acirc; l&amp;rf &acirc; r, lb &acirc; l&amp;rb
&acirc; r <br>
4 4 1 adjust balance <br>
4 4 2 front balance, back balance</p>

<p style="margin-top: 1em">This effect has been superseded
by the remix effect that handles any number of channels.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
Exit status is 0 for no error, 1 if there is a problem with
the command-line parameters, or 2 if an error occurs during
file processing.</p>

<p style="margin-top: 1em">BUGS <br>
Please report any bugs found in this version of SoX to the
mailing list (sox-users@lists.sourceforge.net).</p>

<p style="margin-top: 1em">SEE ALSO <br>
soxi(1), soxformat(7), libsox(3) <br>
audacity(1), gnuplot(1), octave(1), wget(1) <br>
The SoX web site at http://sox.sourceforge.net <br>
SoX scripting examples at
http://sox.sourceforge.net/Docs/Scripts</p>

<p style="margin-top: 1em">References <br>
[1] R. Bristow-Johnson, Cookbook formulae for audio EQ
biquad filter coefficients,
http://musicdsp.org/files/Audio-EQ-Cookbook.txt</p>

<p style="margin-top: 1em">[2] Wikipedia, Q-factor,
http://en.wikipedia.org/wiki/Q_factor</p>

<p style="margin-top: 1em">[3] Scott Lehman, Effects
Explained,
http://harmony-central.com/Effects/effects-explained.html</p>

<p style="margin-top: 1em">[4] Wikipedia, Decibel,
http://en.wikipedia.org/wiki/Decibel</p>

<p style="margin-top: 1em">[5] Richard Furse, Linux Audio
Developer&rsquo;s Simple Plugin API,
http://www.ladspa.org</p>

<p style="margin-top: 1em">[6] Richard Furse, Computer
Music Toolkit, http://www.ladspa.org/cmt</p>

<p style="margin-top: 1em">[7] Steve Harris, LADSPA
plugins, http://plugin.org.uk</p>

<p style="margin-top: 1em">LICENSE <br>
Copyright 1998-2013 Chris Bagwell and SoX Contributors. <br>
Copyright 1991 Lance Norskog and Sundry Contributors.</p>

<p style="margin-top: 1em">This program is free software;
you can redistribute it and/or modify it under the terms of
the GNU General Public License as published by the Free
Software Foundation; either <br>
version 2, or (at your option) any later version.</p>

<p style="margin-top: 1em">This program is distributed in
the hope that it will be useful, but WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PUR&acirc; <br>
POSE. See the GNU General Public License for more
details.</p>

<p style="margin-top: 1em">AUTHORS <br>
Chris Bagwell (cbagwell@users.sourceforge.net). Other
authors and contributors are listed in the ChangeLog file
that is distributed with the source code.</p>

<p style="margin-top: 1em">sox February 1, 2013 SoX(1)</p>
<hr>
</body>
</html>
