<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:00:48 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CPROTO(1) General Commands Manual CPROTO(1)</p>

<p style="margin-top: 1em">NAME <br>
cproto - generate C function prototypes and convert function
definitions</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cproto [ option ... ] [ file ... ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Cproto generates function prototypes for functions defined
in the specified C source files to the standard output. The
function definitions may be in the old style or ANSI C <br>
style. Optionally, cproto also outputs declarations for
variables defined in the files. If no file argument is
given, cproto reads its input from the standard input.</p>

<p style="margin-top: 1em">By giving a command line option,
cproto will also convert function definitions in the
specified files from the old style to the ANSI C style. The
original source files along <br>
with files specified by <br>
#include &quot;file&quot; <br>
directives appearing in the source code will be overwritten
with the converted code. If no file names are given on the
command line, then the program reads the source code from
<br>
the standard input and outputs the converted source to the
standard output.</p>

<p style="margin-top: 1em">If any comments appear in the
parameter declarations for a function definition, such as in
the example, <br>
main (argc, argv) <br>
int argc; /* number of arguments */ <br>
char *argv[]; /* arguments */ <br>
{ <br>
} <br>
then the converted function definition will have the form
<br>
int <br>
main ( <br>
int argc, /* number of arguments */ <br>
char *argv[] /* arguments */ <br>
) <br>
{ <br>
} <br>
Otherwise, the converted function definition will look like
<br>
int <br>
main (int argc, char *argv[]) <br>
{ <br>
}</p>

<p style="margin-top: 1em">Cproto can optionally convert
function definitions from the ANSI style to the old style.
In this mode, the program also converts function declarators
and prototypes that appear <br>
outside function bodies. This is not a complete ANSI C to
old C conversion. The program does not change anything
within function bodies.</p>

<p style="margin-top: 1em">Cproto can optionally generate
source in lint-library format. This is useful in
environments where the lint utility is used to supplement
prototype checking of your program.</p>

<p style="margin-top: 1em">OPTIONS <br>
-e Output the keyword extern in front of every generated
prototype or declaration that has global scope.</p>

<p style="margin-top: 1em">-f n Set the style of generated
function prototypes where n is a number from 0 to 3. For
example, consider the function definition <br>
main (argc, argv) <br>
int argc; <br>
char *argv[]; <br>
{ <br>
} <br>
If the value is 0, then no prototypes are generated. When
set to 1, the output is: <br>
int main(/*int argc, char *argv[]*/); <br>
For a value of 2, the output has the form: <br>
int main(int /*argc*/, char */*argv*/[]); <br>
The default value is 3. It produces the full function
prototype: <br>
int main(int argc, char *argv[]);</p>

<p style="margin-top: 1em">-l Generate text for a
lint-library (overrides the &quot;-f&quot; option). The
output includes the comment <br>
/* LINTLIBRARY */ <br>
Special comments LINT_EXTERN and LINT_PREPRO (a la
&quot;VARARGS&quot;) respectively turn on the &quot;-x&quot;
option and copy comment-text to the output (for
preprocessing in lint). Use <br>
the comment <br>
/* LINT_EXTERN2 */ <br>
to include externs defined in the first level of
include-files. Use the comment <br>
/* LINT_SHADOWED */ <br>
to cause cproto to put &quot;#undef&quot; directives before
each lint library declaration (i.e., to avoid conflicts with
macros that happen to have to have the same name as the <br>
functions, thus causing syntax errors).</p>

<p style="margin-top: 1em">Note that these special comments
are not supported under VAX/VMS, since there is no
equivalent for the &quot;-C&quot; option of cpp with
VAX-C.</p>

<p style="margin-top: 1em">-c The parameter comments in the
prototypes generated by the -f1 and -f2 options are omitted
by default. Use this option to enable the output of these
comments.</p>

<p style="margin-top: 1em">-m Put a macro around the
parameter list of every generated prototype. For example:
<br>
int main P_((int argc, char *argv[]));</p>

<p style="margin-top: 1em">-M name <br>
Set the name of the macro used to surround prototype
parameter lists when option -m is selected. The default is
&quot;P_&quot;.</p>

<p style="margin-top: 1em">-d Omit the definition of the
prototype macro used by the -m option.</p>

<p style="margin-top: 1em">-o file <br>
Specify the name of the output file (default: standard
output).</p>

<p style="margin-top: 1em">-O file <br>
Specify the name of the error file (default: standard
error).</p>

<p style="margin-top: 1em">-p Disable promotion of formal
parameters in old style function definitions. By default,
parameters of type char or short in old style function
definitions are promoted to <br>
type int in the function prototype or converted ANSI C
function definition. Parameters of type float get promoted
to double as well.</p>

<p style="margin-top: 1em">-q Do not output any error
messages when the program cannot read the file specified in
an #include directive.</p>

<p style="margin-top: 1em">-s By default, cproto only
generates declarations for functions and variables having
global scope. This option will output static declarations as
well.</p>

<p style="margin-top: 1em">-S Output only static
declarations.</p>

<p style="margin-top: 1em">-i By default, cproto only
generates declarations for functions and variables having
global scope. This option will output inline declarations as
well.</p>

<p style="margin-top: 1em">-T Copy type definitions from
each file. (Definitions in included-files are copied, unlike
the &quot;-l&quot; option).</p>

<p style="margin-top: 1em">-v Also output declarations for
variables defined in the source.</p>

<p style="margin-top: 1em">-x This option causes procedures
and variables which are declared &quot;extern&quot; to be
included in the output.</p>

<p style="margin-top: 1em">-X level <br>
This option limits the include-file level from which
declarations are extracted by examining the preprocessor
output.</p>

<p style="margin-top: 1em">-a Convert function definitions
from the old style to the ANSI C style.</p>

<p style="margin-top: 1em">-t Convert function definitions
from the ANSI C style to the traditional style.</p>

<p style="margin-top: 1em">-b Rewrite function definition
heads to include both old style and new style declarations
separated by a conditional compilation directive. For
example, the program can gen&acirc; <br>
erate this function definition: <br>
#ifdef ANSI_FUNC</p>

<p style="margin-top: 1em">int <br>
main (int argc, char *argv[]) <br>
#else</p>

<p style="margin-top: 1em">int <br>
main (argc, argv) <br>
int argc; <br>
char *argv[] <br>
#endif <br>
{ <br>
}</p>

<p style="margin-top: 1em">-B directive <br>
Set the conditional compilation directive to output at the
beginning of function definitions generated by the -b
option. The default is <br>
#ifdef ANSI_FUNC</p>

<p style="margin-top: 1em">-P template <br>
-F template <br>
-C template <br>
Set the output format for generated prototypes, function
definitions, and function definitions with parameter
comments respectively. The format is specified by a template
<br>
in the form <br>
&quot; int f ( a, b )&quot; <br>
but you may replace each space in this string with any
number of whitespace characters. For example, the option
<br>
-F&quot;int f(a,b)&quot; <br>
will produce <br>
int main( <br>
int argc, <br>
char *argv[] <br>
)</p>

<p style="margin-top: 1em">-D name[=value] <br>
This option is passed through to the preprocessor and is
used to define symbols for use with conditionals such as
#ifdef.</p>

<p style="margin-top: 1em">-U name <br>
This option is passed through to the preprocessor and is
used to remove any definitions of this symbol.</p>

<p style="margin-top: 1em">-I directory <br>
This option is passed through to the preprocessor and is
used to specify a directory to search for files that are
referenced with #include.</p>

<p style="margin-top: 1em">-E cpp Pipe the input files
through the specified C preprocessor command when generating
prototypes. By default, the program uses /lib/cpp.</p>

<p style="margin-top: 1em">-E 0 Do not run the C
preprocessor.</p>

<p style="margin-top: 1em">-V Print version
information.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The environment variable CPROTO is scanned for a list of
options in the same format as the command line options.
Options given on the command line override any corresponding
<br>
environment option.</p>

<p style="margin-top: 1em">BUGS <br>
If an un-tagged struct, union or enum declaration appears in
a generated function prototype or converted function
definition, the content of the declaration between the
braces is <br>
empty.</p>

<p style="margin-top: 1em">The program does not pipe the
source files through the C preprocessor when it is
converting function definitions. Instead, it tries to handle
preprocessor directives and macros <br>
itself and can be confused by tricky macro expansions. The
conversion also discards some comments in the function
definition head.</p>

<p style="margin-top: 1em">The -v option does not generate
declarations for variables defined with the extern
specifier. This doesn&rsquo;t strictly conform to the C
language standard but this rule was imple&acirc; <br>
mented because include files commonly declare variables this
way.</p>

<p style="margin-top: 1em">When the program encounters an
error, it usually outputs the not very descriptive message
&quot;syntax error&quot;. (Your configuration may allow the
extended error reporting in yyer&acirc; <br>
ror.c).</p>

<p style="margin-top: 1em">Options that take string
arguments only interpret the following character escape
sequences: <br>
newline <br>
space <br>
tab</p>

<p style="margin-top: 1em">VARARGS comments don&rsquo;t get
passed through on systems whose C preprocessors don&rsquo;t
support this (e.g., VAX/VMS, MS-DOS).</p>

<p style="margin-top: 1em">AUTHOR <br>
Chin Huang <br>
cthuang@vex.net <br>
cthuang@interlog.com</p>

<p style="margin-top: 1em">Thomas Dickey <br>
dickey@invisible-island.net <br>
modifications to support lint library, type-copying, and
port to VAX/VMS.</p>

<p style="margin-top: 1em">SEE ALSO <br>
cc(1), cpp(1)</p>

<p style="margin-top: 1em">July 2010 CPROTO(1)</p>
<hr>
</body>
</html>
