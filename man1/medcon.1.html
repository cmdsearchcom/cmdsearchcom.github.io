<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MEDCON(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MEDCON(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">MEDCON(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
medcon - MedCon conversion of medical image formats
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<br/>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 7.00ex; text-indent: -7.00ex;"><b>medcon</b>
  [options] -f files ...</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<br/>
<i>MedCon</i> is a conversion utility intended for reconstructed nuclear medical
  images.
<div class="Pp"></div>
<br/>
The supported formats are:
<div class="Pp"></div>
<br/>
<table class="tbl">
  <colgroup>
    <col style="width: 9.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>Format</td>
    <td>Explanation</td>
    <td></td>
    <td></td>
    <td></td>
    <td>Notation</td>
  </tr>
  <tr>
    <td>------</td>
    <td>-----------</td>
    <td></td>
    <td></td>
    <td></td>
    <td>--------</td>
  </tr>
  <tr>
    <td>Ascii</td>
    <td>Raw ascii image arrays without header</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'ascii'</td>
  </tr>
  <tr>
    <td>Binary</td>
    <td>Raw binary image arrays without header</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'bin'</td>
  </tr>
  <tr>
    <td>Gif89a</td>
    <td>annimated GIF with colormap</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'gif'</td>
  </tr>
  <tr>
    <td>Acr/Nema</td>
    <td>Papyrus, Siemens (vers 2.0)</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'acr'</td>
  </tr>
  <tr>
    <td>INW</td>
    <td>RUG local format (vers 1.0)</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'inw'</td>
  </tr>
  <tr>
    <td>ECAT</td>
    <td>Siemens CTI ECAT 6</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'ecat6' or 'ecat'</td>
  </tr>
  <tr>
    <td>ECAT</td>
    <td>Siemens CTI ECAT 7</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'ecat7'</td>
  </tr>
  <tr>
    <td>InterFile</td>
    <td>version 3.3</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'intf'</td>
  </tr>
  <tr>
    <td>Analyze</td>
    <td>with consideration to SPM software</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'anlz'</td>
  </tr>
  <tr>
    <td>DICOM</td>
    <td>uses the VT-DICOM library</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'dicom'</td>
  </tr>
  <tr>
    <td>PNG</td>
    <td>Portable Network Graphics</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'png'</td>
  </tr>
  <tr>
    <td>Concorde</td>
    <td>Concorde/microPET</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'conc'</td>
  </tr>
  <tr>
    <td>NIfTI</td>
    <td>Neuroimaging Informatics Technology Initiative</td>
    <td></td>
    <td></td>
    <td></td>
    <td>'nifti'</td>
  </tr>
</table>
<div class="Pp"></div>
<br/>
<h1 class="Sh" title="Sh" id="FLAGS"><a class="selflink" href="#FLAGS">FLAGS</a></h1>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --file, --files &lt;files&gt; ...</b></dt>
  <dd class="It-tag">Read a list of files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-8, --indexed-color</b></dt>
  <dd class="It-tag">This color mode forces 24-bit RGB color images being
      reduced to an 8-bit indexed colormap. For color reduction in combination
      with dithering see the -dith option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-24, --true-color</b></dt>
  <dd class="It-tag">This color mode keeps a 24-bit image as is.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-alias, --alias-naming</b></dt>
  <dd class="It-tag">Generate filenames based on patient and study information.
      The syntax of the resulting basename is:
    <div style="height: 1.00em;">&#x00A0;</div>
    &lt;patient_name&gt;+&lt;study_id&gt;+&lt;study_date&gt;+&lt;study_time&gt;
    <br/>
     and
    <br/>
     &lt;series&gt;+&lt;acquisition&gt;+&lt;instance&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
    with the latter three id's applied in case the originating format is DICOM
      or Acr/Nema. See also -noprefix. Since Analyze does not have a
      patient_name, patient_id is used instead.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-anon, --anonymous</b></dt>
  <dd class="It-tag">Make patient and study related entries anonymous (filled
      with 'X'). This option can not be used with option -ident.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b8, --unsigned-char</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b16, --signed-short</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b16.12</b></dt>
  <dd class="It-tag">Force writing of Uint8 or Int16 pixels. The special option
      -b16.12 only uses 12 bits, as unsigned however. With these options one can
      lose the quantified float values when the new format doesn't support a
      global rescale factor or slope/intercept.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-big, --big-endian</b></dt>
  <dd class="It-tag">Force writing of big endian files when supported by the
      format.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-byframe, --sort-by-frame</b></dt>
  <dd class="It-tag">Set sort order in ECAT by frames, instead of the default
      anatomical sort (based on slice location). Identical planes in each frame
      will be grouped together. You don't want this.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --convert &lt;format&gt; ...</b></dt>
  <dd class="It-tag">Convert with a list of formats to convert to. Use the
      notation without quotes as specified in the above table. You can not use
      this option with -p.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-contrast, --enable-contrast</b></dt>
  <dd class="It-tag">Apply (DICOM) window centre/width contrast remapping.
      Although this may improve the display of images, any manufacturer
      independent pixel values (like HU, SUV) with quantitation options -qc or
      -qs will be lost.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-cor, --coronal</b></dt>
  <dd class="It-tag">Reslice the images of a volume into a coronal projection
      while preserving the real world dimensions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-crop=&lt;X&gt;:&lt;Y&gt;:&lt;W&gt;:&lt;H&gt;,
    --crop-images=&lt;X&gt;:&lt;Y&gt;:&lt;W&gt;:&lt;H&gt;</b></dt>
  <dd class="It-tag">This option allows to crop an equal frame from all images
      at &lt;X&gt;:&lt;Y&gt; where width and height are &lt;W&gt;:&lt;H&gt;. The
      upper-left corner of an image is at 0:0.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-cs, --cine-sorting</b></dt>
  <dd class="It-tag">Apply cine sorting, 1st image of each time frame, 2nd image
      of each time frame, 3rd image of each time frame, ... (applicable on gated
      SPECT). Reapplying does NOT undo this sorting. For this you need option
      -cu.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-cu, --cine-undo</b></dt>
  <dd class="It-tag">Undo the cine sorting (as a result of the option -cs).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-cw=&lt;centre&gt;:&lt;width&gt;</b></dt>
  <dd class="It-tag">Remap contrast using specified centre/width pair. No spaces
      are allowed within this option. See also -contrast options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --debug</b></dt>
  <dd class="It-tag">Show debug info. After reading a file, the program will
      display the contents of the internal FILEINFO structure.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-db</b></dt>
  <dd class="It-tag">Only print main header of CTI ECAT files to standard
      output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-dith, --dither-color</b></dt>
  <dd class="It-tag">Use dithering to improve quality of color reduction (from
      RGB to 8-bit indexed).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --extract [image ranges ...]</b></dt>
  <dd class="It-tag">A routine to extract images interactively, unless you
      specify normal style image ranges directly on the command-line separated
      by spaces. In normal style it is also possible to reorder the sequence of
      images. You need to specify an output conversion format (see option -c).
      Note that the extraction does NOT addapt the centre-centre slice
      separations. In other words, proper volume measurements could be
    lost.</dd>
</dl>
<div class="Pp"></div>
Selection Type? 1=normal 2=ecat
<div class="Pp"></div>
Normal Style ------------
<div class="Pp"></div>
<br/>
- Any number must be one-based (0 = All reversed) - Syntax of range : X...Y or
  X-Y - Syntax of interval: X:S:Y (S = step) - The list is sequence sensitive!
<div class="Pp"></div>
Give a list of images to extract?
<div class="Pp"></div>
Ecat Style ----------
<div class="Pp"></div>
<br/>
- Any number must be one-based (0 = All) - Syntax of range : X...Y or X-Y -
  Syntax of interval: X:S:Y (S = step)
<div class="Pp"></div>
Give planes list? Give frames list? Give gates list? Give beds list?
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ean, --echo-alias-name</b></dt>
  <dd class="It-tag">A convenience function which quickly echoes the alias or
      human readable filename on screen, without any delay of image processing.
      For the syntax of this alias filename, see option -alias. The output could
      then be used in a script, for example to make interpretable links towards
      cryptic numbered files resulting from a DICOM series.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fb-none, --without-fallback</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fb-anlz, --fallback-analyze</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fb-conc, --fallback-concorde</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fb-dicom, --fallback-dicom</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fb-ecat, --fallback-ecat</b></dt>
  <dd class="It-tag">Disable or specify a fallback read format in case
      autodetect failed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fh, --flip-horizontal</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fv, --flip-vertical</b></dt>
  <dd class="It-tag">Flip images horizontal (-fh) along the X-axis, vertical
      (-fv) along the Y-axis respectively. Parameters such as slice orientation
      are NOT changed. See also the -rs option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fmosaic=&lt;W&gt;x&lt;H&gt;x&lt;N&gt;,
    --force-mosaic=&lt;W&gt;x&lt;H&gt;x&lt;N&gt;</b></dt>
  <dd class="It-tag">Enforce the mosaic file support for DICOM or Acr/Nema
      formats. The *stamps* will be splitted into separate slices according to
      the values supplied on the command-line. See also extra options -interl
      and -mfixv. The preset arguments are:</dd>
</dl>
<div class="Pp"></div>
&lt;W&gt; = pixel width of image stamps (X)
<div class="Pp"></div>
&lt;H&gt; = pixel height of image stamps (Y)
<div class="Pp"></div>
&lt;N&gt; = total number of image stamps (Z)
<div class="Pp"></div>
<b>medcon -f imagefile -fmosaic=64x64x30</b>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g, --make-gray</b></dt>
  <dd class="It-tag">Remap coloured images to gray. This is necessary when you
      convert to formats which only support a grayscale colormap!
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-gap, --spacing-true-gap</b></dt>
  <dd class="It-tag">The spacing between slices is the true gap/overlap between
      adjacent slices. In contrary to the default behaviour where the spacing
      between slices is measured from the centre to centre of two adjacent
      slices (including gap/overlap). Applied in DICOM &amp; Acr/Nema.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-hackacr, --hack-acrtags</b></dt>
  <dd class="It-tag">Enables you to hack a file that contains Acr/Nema tags
      hidden somewhere. Some proprietary image formats do contain tags but are
      placed after some unknown headerinformation. This option will try to find
      some readable tags in the first 2048 bytes after which it will give some
      possible hints to get the images out of the file with the use of the
      interactive reading procedure (see option `-i'). This experimental
      procedure can fail badly ...
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --interactive</b></dt>
  <dd class="It-tag">Selects the interactive reading procedure. Normally the
      program automatically detects the format or uses 'ecat' (or 'dicom') as
      default. With the interactive procedure it could be possible to read an
      uncompressed, unsupported format by answering the following
    questions:</dd>
</dl>
<div class="Pp"></div>
<br/>
Number of images? General header offset to binary data? Image header offset to
  binary data? Image header repeated before each image? Swap the pixel bytes?
  Same characteristics for all images? Absolute offset in bytes? (overrides
  above, 0 = unused) Image columns? Image rows? Pixel data type? Redo input?
<div class="Pp"></div>
The GUI allows to save such raw predef input (RPI) files, that can be used in a
  redirect statement:
<div class="Pp"></div>
<br/>
<b>medcon -f unsupported.img -c intf -i &lt; predef.rpi</b>
<div class="Pp"></div>
Doing so you can create small scripts that will read and convert your
  unsupported images at once.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ident, --identify</b></dt>
  <dd class="It-tag">An interactive routine to specify the patient and study
      related information. This option can not be used with the option -anon.
      The questions asked are:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<br/>
Give patient name? Give patient id? Select patient sex? Give study description?
  Give study id/name/p-number? Give series description?
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-implicit, --write-implicit</b></dt>
  <dd class="It-tag">Another DICOM related option to enforce the implicit VR
      little transfer syntax as output, instead of the default explicit transfer
      syntax.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-interl, --mosaic-interlaced</b></dt>
  <dd class="It-tag">An extra option used in combination with forced mosaic
      (-fmosaic). The option indicates that the slices in the original mosaic
      are in fact interlaced. See also options -fmosaic and -mfixv.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-little, --little-endian</b></dt>
  <dd class="It-tag">Force writing of little endian files when supported by the
      format.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-lut, --load-lut &lt;filename&gt;</b></dt>
  <dd class="It-tag">Load an external LUT color scheme.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mh, --map-hotmetal</b></dt>
  <dd class="It-tag">Selects the hotmetal colormap. This is only usefull to
      GIF89a or PNG.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mr, --map-rainbow</b></dt>
  <dd class="It-tag">Selects the rainbow colormap. This is only usefull to
      GIF89a or PNG.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mc, --map-combined</b></dt>
  <dd class="It-tag">Selects the combined colormap. This is only usefull to
      GIF89a or PNG.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mi, --map-inverted</b></dt>
  <dd class="It-tag">Selects the invers colormap. This is only usefull to GIF89a
      or PNG
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mfixv, --mosaic-fix-voxel</b></dt>
  <dd class="It-tag">Another extra option used in combination with forced mosaic
      (-fmosaic). Choosing this options will rescale the real world voxel
      dimensions by the mosaic factor. See also -fmosaic and -interl.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mosaic, --enable-mosaic</b></dt>
  <dd class="It-tag">Enable mosaic file support in DICOM or Acr/Nema format. The
      *stamps* will be splitted into separate slices according to values found
      in the file. This autodetect routine will always fix the voxel sizes. To
      support other type of mosaic files, see option -fmosaic.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --negatives</b></dt>
  <dd class="It-tag">Preserve negative values. When not selected, all negative
      values are put to zero. In combination with quantitation (see -qs or -qc)
      the requested format must support pixels of type float, a global rescale
      factor or the more generic slope/intercept concept in order to preserve
      the (negative and positive) quantified values.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nf, --norm-over-frames</b></dt>
  <dd class="It-tag">Normalize with minimum/maximum values found over images in
      a frame group (in case the original format has different frames). The
      default behaviour is normalization with minimum/maximum values found over
      all images. This can be important when the requested format requires a
      rescaling to a new pixeltype. The original pixel values then need to be
      rescaled to the new pixeltype boundaries based on the minimum/maximum
      values.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nometa, --write-without-meta</b></dt>
  <dd class="It-tag">Write DICOM files without the part 10 meta header (group
      0x0002).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nopath, --ignore-path</b></dt>
  <dd class="It-tag">Ignore absolute path mentioned in the &quot;name of data
      file&quot; key of an interfile header. Do make sure then that the data
      file resides in the same directory as the header file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noprefix, --without-prefix</b></dt>
  <dd class="It-tag">This option disables the numbered prefix in the output
      filename. In combination with the -alias option, one could create human
      readable and alphabetical sorted files from DICOM or Acr/Name multiple
      file volumes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --output-name &lt;filename&gt;</b></dt>
  <dd class="It-tag">Changes output filename for ALL files to be created. It is
      allowed to specify a full directory path as well. However, a full path
      disables unique filename prefixing.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-one, --single-file</b></dt>
  <dd class="It-tag">Write header and image to same file; as allowed for
      InterFile.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-optgif, --options-gif</b></dt>
  <dd class="It-tag">Define some GIF options when converting to the GIF format.
      Without this option a loop and background color are defined by default.
      This interactive routine asks the following questions:</dd>
</dl>
<div class="Pp"></div>
<br/>
Select color map? Insert a display loop? Delay 1/100ths of a second? Insert a
  transparent color? Transparent color? Background color?
<div class="Pp"></div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-optspm, --options-spm</b></dt>
  <dd class="It-tag">Define some SPM options (origins) when converting to the
      Analyze format. The quantification is not set. See also '-spm' &amp;
      '-ar'. The interactive routine asks the following questions:</dd>
</dl>
<div class="Pp"></div>
<br/>
Origin X? Origin Y? Origin Z?
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p, --print-values</b></dt>
  <dd class="It-tag">Show some specified pixel values. This is an interactive
      routine. Calibration and negative pixels are preserved automatically. You
      need to specify the -qs to preserve the quantification instead of the
      calibration. You can not use this option with -c. See also -pa option for
      a non-interactive routine.</dd>
</dl>
<div class="Pp"></div>
<br/>
- Any number must be one-based (0 = All) - Syntax of range : X...Y or X-Y -
  Syntax of interval: X:S:Y (S = step)
<div class="Pp"></div>
Selection Type? 1=normal 2=ecat
<div class="Pp"></div>
Normal Style ------------
<div class="Pp"></div>
Give a list of image numbers? Give a list of pixels x,y ?
<div class="Pp"></div>
Ecat Style ----------
<div class="Pp"></div>
Give planes list? Give frames list? Give gates list? Give beds list? Give a list
  of pixels x,y ?
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pa, --print-all-values</b></dt>
  <dd class="It-tag">Show all pixel values. This option is identical to -p, but
      doesn't require user input.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pad, --pad-around</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-padtl, --pad-top-left</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-padbr, --pad-bottom-right</b></dt>
  <dd class="It-tag">Increasing the slice matrix is done by padding an image
      with the lowest pixel value. The options above enable different padding
      modes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-preacq, --prefix-acquisition</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-preser, --prefix-series</b></dt>
  <dd class="It-tag">Respectivily use acquisition or series value in the
      numbered prefix of the new filename. This is useful for alphabetical file
      ordering, where leading zeros in DICOM elements are missing. See also
      -alias.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q, --quantitation</b></dt>
  <dd class="It-tag">Enable quantitation using all scale factors (for now alias
      for -qc option).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-qs, --quantification</b></dt>
  <dd class="It-tag">A first scaling option to preserve the (ECAT)
      quantification (a) or to consider a first linear scaling slope with
      intercept (b).</dd>
</dl>
<div class="Pp"></div>
<br/>
qpv = ppv * quant_scale [counts/second/pixel] (a)
<br/>
qpv = ppv * slope + intercept (b)
<div class="Pp"></div>
<br/>
qpv = quantified pixel value
<br/>
ppv = plain pixel value
<div class="Pp"></div>
The &quot;quant_scale&quot; factor normalizes all images in the file; quite
  important for merging purposes. When the corresponding format can not hold a
  rescale factor for each image, the quantified values are saved as floats.
  Therefore, the highest pixel precision for correct quantitation is float, not
  double!
<div class="Pp"></div>
If the format does not support floats, the quantified pixel values get rescaled
  to an integer. Then only formats that support a global scaling factor or
  slope/intercept pair will preserve those quantified values.
<div class="Pp"></div>
Note that this option can not be used with -qc.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-qc, --calibration</b></dt>
  <dd class="It-tag">A second quantitation option to preserve the (ECAT)
      quantification as well as the (ECAT) calibration (a) or in general, using
      two rescale slopes with an intercept (b). These should normally transform
      pixels into manufacturer independent values. So one can assume that after
      a calibration, the new pixels will represent a real world unit (like
      concentration values (SUV), hounsfield units (HU) and alike).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<br/>
cpv = ppv * quant_scale * calibr_fctr [uCi/ml] (a)
<br/>
cpv = ppv * slope1 * slope2 + intercept (b)
<div class="Pp"></div>
<br/>
cpv = calibrated pixel value
<br/>
ppv = plain pixel value
<br/>
qpv = quantified pixel value = ppv * quant_scale
<div class="Pp"></div>
The &quot;quant_scale&quot; factor normalizes all images in the file; quite
  important for merging purposes. The &quot;calibr_fctr&quot; rescales the
  qpv-values to a new unit. When the corresponding format can not hold a
  compound factor for each image, the quantified values will be saved as floats.
  Therefore, the highest pixel precision for correct quantitation is float and
  not double!
<div class="Pp"></div>
If the format does not support floats, the calibrated pixel values are rescaled
  to an integer type. Only formats that support a global scaling factor or
  slope/intercept pair preserve those calibrated values.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note that this option can not be used with -qs.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --rename-file</b></dt>
  <dd class="It-tag">Rename the file basename. This option is only useful in
      case of conversion.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-rs, --reverse-slices</b></dt>
  <dd class="It-tag">Reverse all the slices along the Z-axis. Parameters such as
      slice orientation are NOT changed. See also the -fh and -fv options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --silent</b></dt>
  <dd class="It-tag">Suppress all message, warning and error dialogs.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sag, --sagittal</b></dt>
  <dd class="It-tag">Reslice the images of a volume into a sagittal projection
      while preserving the real world dimensions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-si=&lt;slope&gt;:&lt;intercept&gt;</b></dt>
  <dd class="It-tag">Force remap of pixel values using specified slope/intercept
      (y = s*x + i). The quantitation option -qc is enabled by default. No
      spaces are allowed within this option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-skip1, --skip-preview-slice</b></dt>
  <dd class="It-tag">Skip the first image in an InterFile. In other words, the
      first image in the array will simply be ignored. Use this only when you
      are sure that the InterFile does contain an annoying/confusing preview
      slice.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-split4d, -splitf, --split-frames</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-split3d, -splits, --split-slices</b></dt>
  <dd class="It-tag">Write out a study into separate files, one for each volume
      in a time frame (--split-frames) or each image slice (--split-slices)
      individually. The names of the files created will have an extra index
      number. See also -stack3d and -stack4d as opposite options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-spm, --analyze-spm</b></dt>
  <dd class="It-tag">Considering Analyze files for/from SPM. In this case the
      global scaling factor hidden in imd.funused[1] will be used, as well as
      the hidden offset value in imd.funused[0].</dd>
</dl>
<div class="Pp"></div>
In case of quantitation, the default output pixel type is float. This option
  allows to write integers combined with a global scale factor. To actually use
  this scaling factor, you must select a quantitation option like -qs or -qc as
  well.
<div class="Pp"></div>
See also -ar &amp; -optspm.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sqr, --make-square</b></dt>
  <dd class="It-tag">Make all image matrices square, using the largest
      dimension. Images are padded with the lowest pixel value. See also -pad
      related options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sqr2, --make-square-two</b></dt>
  <dd class="It-tag">Make all image matrices square, using the nearest power of
      two (between 64, 128, 256, 512 and 1024). Images are padded with the
      lowest pixel value. See also -pad related options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-stack4d, -stackf, --stack-frames</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-stack3d, -stacks, --stack-slices</b></dt>
  <dd class="It-tag">Write separate studies into one file. The --stack-slices
      option allows to write single image slice files into one 3D volume, while
      the --stack-frames option allows volumes of different time frames being
      written into one 4D file. The sequence of stacking is based on the file
      sequence given at the argument line. See also -split3d and -split4d as the
      opposite options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-tra, --transverse</b></dt>
  <dd class="It-tag">Reslice the images of a volume into a transverse projection
      while preserving the real world dimensions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-uin, --use-institution-name &lt;namestring&gt;</b></dt>
  <dd class="It-tag">Change the program's default institution name which is
      applied on studies without one. However, this does <b>not</b> override
      existing values. For a namestring with spaces, group between double
      quotes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Verbose mode. Show some explaining messages during the
      reading and writing of files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-vifi, --edit-fileinfo</b></dt>
  <dd class="It-tag">An interactive routine for editing voxel,array,slice and
      orient related entries in the FILEINFO struct.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w, --overwrite-files</b></dt>
  <dd class="It-tag">Allow overwrite of existing files, without warning.
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<br/>
When no conversion was specified, the program will display the header
  information of each image.
<div class="Pp"></div>
<br/>
When conversion was specified, the program will automatically create new
  filenames in the <b>current directory</b> with the following syntax:
<div class="Pp"></div>
<br/>
<div>&#x00A0;</div>
mXXX-filename.ext
<div>&#x00A0;</div>
<div class="Pp"></div>
<br/>
<div>&#x00A0;</div>
`XXX-' a number representing the XXX-th conversion
<div>&#x00A0;</div>
<div>&#x00A0;</div>
`ext' a corresponding extension of the new format
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
<br/>
<table class="tbl">
  <colgroup>
    <col style="width: 10.00ex;"/>
    <col style="width: 2.00ex;"/>
    <col style="width: 11.00ex;"/>
  </colgroup>
  <tr>
    <td>Binary raw</td>
    <td>-&gt;</td>
    <td>.bin</td>
  </tr>
  <tr>
    <td>Ascii raw</td>
    <td>-&gt;</td>
    <td>.asc</td>
  </tr>
  <tr>
    <td>Gif89a</td>
    <td>-&gt;</td>
    <td>.gif</td>
  </tr>
  <tr>
    <td>Acr/Nema</td>
    <td>-&gt;</td>
    <td>.ima</td>
  </tr>
  <tr>
    <td>INW</td>
    <td>-&gt;</td>
    <td>.im</td>
  </tr>
  <tr>
    <td>ECAT</td>
    <td>-&gt;</td>
    <td>.img</td>
  </tr>
  <tr>
    <td>Interfile</td>
    <td>-&gt;</td>
    <td>.h33 + .i33</td>
  </tr>
  <tr>
    <td>Analyze</td>
    <td>-&gt;</td>
    <td>.hdr + .img</td>
  </tr>
  <tr>
    <td>DICOM</td>
    <td>-&gt;</td>
    <td>.dcm</td>
  </tr>
  <tr>
    <td>PNG</td>
    <td>-&gt;</td>
    <td>.png</td>
  </tr>
  <tr>
    <td>CONC</td>
    <td>-&gt;</td>
    <td>.hdr + .dat</td>
  </tr>
</table>
<div class="Pp"></div>
<br/>
Some special remarks related to reading from stdin or writing to stdout.
<div class="Pp"></div>
<br/>
<b>a) reading from stdin:</b>
<div class="Pp"></div>
Enable this by using an &quot;-&quot; mark instead of the list of input files.
<div class="Pp"></div>
<br/>
1. redirect: <b>medcon -f - &lt; inputfile</b>
<div class="Pp"></div>
This is supported for all formats and shouldn't cause any particular problems.
  Interactive routines are disabled because stdin is now in use by the image
  input.
<div class="Pp"></div>
<br/>
2. pipes : <b>cat inputfile | medcon -f - format</b>
<div class="Pp"></div>
Actually, this way only one or two formats are supported since seek() calls are
  not possible during pipes. The fact is that most of our formats are read using
  those seek() calls. In normal operation we already need a quick sneak in the
  file to determine the format. Because this fseek() isn't allowed, you must
  supply at least the input format too.
<div class="Pp"></div>
<br/>
<b>b) writing to stdout:</b>
<div class="Pp"></div>
Enabled by using an extra &quot;-&quot; mark on the conversion list.
<div class="Pp"></div>
<br/>
<b>medcon -f inputfile -c - format</b>
<div class="Pp"></div>
Only one inputfile is allowed. The converted output will be send to stdout.
<div class="Pp"></div>
In case of dual file formats such as Analyze or InterFile, the header
  information will be send to stderr. The reference to the image file in the
  header of an InterFile will ofcourse be wrong (since the program is not
  capable of knowing the resulting filename).
<div class="Pp"></div>
In case of RAW or ASCII output, the program will print the content of the
  internal FILEINFO struct to stderr as well. Please note that the (t)csh shells
  do not allow to catch stderr or stdout separately. In case of the bash shell,
  it is possible to say:
<div class="Pp"></div>
<b>medcon -f inputfile -c - intf -b16.12 -qc 1&gt;image 2&gt;header</b>
<div class="Pp"></div>
<br/>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<br/>
<b>1.</b> To display the image headers: medcon -f filename1 filename2
<div class="Pp"></div>
<br/>
<b>2.</b> To convert the images: medcon -f filename1 filename2 -c gif acr intf
<div class="Pp"></div>
<br/>
<b>3.</b> To read interactively medcon -i -f filename -c ecat
<div class="Pp"></div>
<br/>
<b>4.</b> To extract alternate images: medcon -e 1:2:20 -f filename -c gif
<div class="Pp"></div>
<br/>
<b>5.</b> To print out pixel values medcon -p -f filename
<div class="Pp"></div>
<br/>
<b>6.</b> Convert to raw binary images, send to standard output: medcon -f
  filename -c - bin
<div class="Pp"></div>
<br/>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<br/>
<table class="tbl">
  <colgroup>
    <col style="width: 27.00ex;"/>
    <col style="width: 28.00ex;"/>
  </colgroup>
  <tr>
    <td>/usr/local/xmedcon/include/</td>
    <td>Directory with header files.</td>
  </tr>
  <tr>
    <td>/usr/local/xmedcon/lib/</td>
    <td>Directory with libraries.</td>
  </tr>
  <tr>
    <td>/usr/local/xmedcon/bin/</td>
    <td>Directory with executables.</td>
  </tr>
  <tr>
    <td>/usr/local/xmedcon/man/</td>
    <td>Directory with man-pages.</td>
  </tr>
  <tr>
    <td>/usr/local/xmedcon/etc/</td>
    <td>Directory with rcfiles.</td>
  </tr>
</table>
<div class="Pp"></div>
<br/>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<br/>
xmedcon(1), xmedcon-config(1)
<div class="Pp"></div>
<br/>
m-acr(4), m-anlz(4), m-gif(4), m-inw(4), m-intf(4), m-ecat(4)
<div class="Pp"></div>
<br/>
medcon(3)
<div class="Pp"></div>
<br/>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<br/>
<i>(X)MedCon</i> project was originally written by Erik Nolf (eNlf) for the
  former PET-Centre at Ghent University (Belgium).
<div class="Pp"></div>
<br/>
<table class="tbl">
  <colgroup>
    <col style="width: 7.00ex;"/>
    <col style="width: 29.00ex;"/>
    <col style="width: 4.00ex;"/>
    <col style="width: 30.00ex;"/>
  </colgroup>
  <tr>
    <td>e-mail:</td>
    <td>enlf-at-users.sourceforge.net</td>
    <td>www:</td>
    <td>http://xmedcon.sourceforge.net</td>
  </tr>
</table>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
