<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Windows Icons(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Windows Icons(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">Windows Icons(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
Microsoft Windows icon files
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
A Microsoft Windows icon file contains one or more images, at resolutions up to
  256 by 256 pixels and various bpp values. The images are encoded either as
  Portable Network Graphics file (PNG), or in a format similar to Microsoft's
  BMP format.
<div class="Pp"></div>
If encoded as BMP, the image includes an &quot;AND mask&quot;, which contains
  1-bit transparency data. It may also contain additional 8-bit transparency
  data together with the color information.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Color_Depth"><a class="selflink" href="#Color_Depth">Color
  Depth</a></h2>
Except for the 16 bits per pixel images and images with bit fields, which both
  are rare, the colors in all BMP encoded images are RGB with 8 bits per
  channel. Images with bpp values lower than 16 use a palette.
<div class="Pp"></div>
I.e. the bpp value gives the number of distinct colors, not the color depth.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="XOR_Mask_and_AND_Mask"><a class="selflink" href="#XOR_Mask_and_AND_Mask">XOR
  Mask and AND Mask</a></h2>
BMP encoded images contain two pixel maps: The so-called &quot;XOR mask&quot;
  stores the color information for each pixel, and the &quot;AND mask&quot;
  stores the transparency belonging to it.
<div class="Pp"></div>
The names and the function of these maps are most easily understood by looking
  at how a 1-bpp icon image is rendered on a monochrome screen: The pixels on
  the screen are logically AND-ed with the bits on the AND mask, then the result
  is logically XOR-ed with the bits on the XOR mask.
<div class="Pp"></div>
The result is that if a bit on the AND mask is reset, the corresponding bit on
  the XOR mask determines the color of the pixel on the screen. If a bit in the
  AND mask is set and the corresponding bit in the XOR mask is black (reset),
  the image is transparent. Finally, if the bits are set in both the AND and XOR
  mask (the pixel on the XOR mask is white), the background of the screen is
  inverted.
<div class="Pp"></div>
In color environments, a pixel on the XOR mask outside the opaque area of the
  image is usually black and sometimes white, but a color other than black and
  white will hardly give predictable results.
<div class="Pp"></div>
Since Windows XP, there may also be an 8-bit transparency channel in 32-bpp BMP
  encoded icon images. The AND mask, however, is still required and used e.g.
  for generating shadows.
<div class="Pp"></div>
PNG encoded images don't contain AND masks. While rendering a PNG encoded image,
  Windows constructs an AND mask on the fly from the transparency channel, if
  present.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Evolution_of_Windows_Icons"><a class="selflink" href="#Evolution_of_Windows_Icons">Evolution
  of Windows Icons</a></h2>
The Windows icon file format has undergone some extensions since it was invented
  in the mid-eighties for Windows&#x00A0;1:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Windows&#x00A0;1 used monochrome 32x32 icons only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Windows&#x00A0;3.0 added color icons with bpp values up to
      8.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Windows 4.0 (a.k.a. Windows95) added support for 32-bpp
      images and resolutions up to 256 by 256.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">NT&#x00A0;5.1 (a.k.a. Windows&#x00A0;XP) added support for
      the 8-bit transparency channel in the unused bits of 32-bpp images.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">NT&#x00A0;6.0 (a.k.a. Windows&#x00A0;Vista) added support
      for PNG encoded images
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Common_Resolutions_and_BPP_Values"><a class="selflink" href="#Common_Resolutions_and_BPP_Values">Common
  Resolutions and BPP Values</a></h2>
Typical resolutions and bpp values of the Windows shell icons include:
<div style="height: 1.00em;">&#x00A0;</div>
<table class="tbl">
  <colgroup>
    <col style="width: 19.00ex;"/>
    <col style="width: 19.00ex;"/>
    <col style="width: 10.00ex;"/>
  </colgroup>
  <tr>
    <td colspan="0"></td>
  </tr>
  <tr>
    <td>OS</td>
    <td>resolutions</td>
    <td>bpp values</td>
  </tr>
  <tr>
    <td>Windows&#x00A0;3</td>
    <td>32x32</td>
    <td>1, 4</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>Windows&#x00A0;4</td>
    <td>16x16, 32x32, 48x48</td>
    <td>4, 8</td>
  </tr>
  <tr>
    <td>NT&#x00A0;5</td>
    <td>16x16, 32x32, 48x48</td>
    <td>4, 8, 32</td>
  </tr>
  <tr>
    <td>&lt;TD rowspan=3&gt;NT&#x00A0;6</td>
    <td>16x16, 32x32, 48x48</td>
    <td>4, 8, 32</td>
  </tr>
  <tr>
    <td>24x24, 96x96</td>
    <td>8, 32</td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>256x256</td>
    <td>32 (PNG encoded)</td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<div class="Pp"></div>
Within the icon file, the images with low bpp values are usually stored first.
  With the same bpp value, the images are sorted by resolution, large images
  first.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="MIME_Type_and_File_Name_Extension"><a class="selflink" href="#MIME_Type_and_File_Name_Extension">MIME
  Type and File Name Extension</a></h2>
The MIME type of Windows icon files is registered by IANA as
  <b>image/vnd.microsoft.icon</b>, but the unofficial name <b>image/x-icon</b>
  is still widely used.
<div class="Pp"></div>
The file name extension (used by Microsoft operating systems as file type
  identifier) is <b>.ico</b>.
<h1 class="Sh" title="Sh" id="DOCUMENT_SOURCE"><a class="selflink" href="#DOCUMENT_SOURCE">DOCUMENT
  SOURCE</a></h1>
This manual page was generated by the Netpbm tool 'makeman' from HTML source.
  The master documentation is at
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>http://netpbm.sourceforge.net/doc/winicon.html</b></dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">12 April 2013</td>
    <td class="foot-os">netpbm documentation</td>
  </tr>
</table>
</body>
</html>
