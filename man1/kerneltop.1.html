<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KERNELTOP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KERNELTOP(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">KERNELTOP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
kerneltop - shows kernel function usage in an interactive style like 'top'
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>kerneltop</b> [ <i>options</i> ]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This manpage documents version 0.8 of the program.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>kerneltop</b> command uses the <b>/proc/profile</b> and the kernel system
  map to print ascii data on standard output, updated once a second. The output
  is organized in three columns: the first is the address of the function, the
  second is the name of the C function in the kernel, and the third number of
  clock ticks the function has taken. The output is filled with blanks to ease
  readability, and can either be sorted by the number of ticks per function (the
  default), or the address of the function.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Available command line options:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b> <i>mapfile</i></dt>
  <dd class="It-tag">Specify a mapfile, which by default is
      <b>/boot/System.map</b>, or <b>/boot/System.map-`uname -r`</b> if
      /boot/System.map doesn't exist. You should specify the map file on the
      command-line if your current kernel isn't the last one you compiled, or
      `uname -r` does not refer to the correct suffix for the current System.map
      file. If the name of the map file ends with `.gz' it is decompressed on
      the fly.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>profile</i></dt>
  <dd class="It-tag">Specify a different profiling buffer, which by default is
      <b>/proc/profile</b>. This should only be necessary if the proc filesystem
      is mounted somewhere other than /proc.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> <i>lines</i></dt>
  <dd class="It-tag">Lines. Number of lines to print on the display. Default is
      <b>20</b> and the maximum is <b>100</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>seconds</i></dt>
  <dd class="It-tag">Sleep time between each pass in seconds. Default is
      <b>1</b> second.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> <i>ticks</i></dt>
  <dd class="It-tag">Lower threshold number of ticks to print. Default is
      <b>1</b> tick.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b></dt>
  <dd class="It-tag">Unsorted output. Default is sorted (by ticks). Note that
      unsorted output is actually sorted by address.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">Version. This makes <b>kerneltop</b> print its version
      number and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Display 46 lines of output (useful for 50 line terminals):
<pre>
   kerneltop -l 46
<div class="Pp"></div>
</pre>
Show only proceses that use 5 ticks or more:
<pre>
   kerneltop -t 5
<div class="Pp"></div>
</pre>
Show unsorted output by default:
<pre>
   kerneltop -u
<div class="Pp"></div>
</pre>
<h1 class="Sh" title="Sh" id="INTERACTIVE_Commands"><a class="selflink" href="#INTERACTIVE_Commands">INTERACTIVE
  Commands</a></h1>
There are a number of interactive commands available in kerneltop. The effect of
  these commands is documented above under <b>OPTIONS</b>.
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;&lt; <b>h</b>&gt; or &lt;<b>?</b>&gt;: <i>Help</i>
<div style="height: 1.00em;">&#x00A0;</div>
This is simply a list of available commands for the interactive mode.
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;&lt; <b>l</b>&gt;: <i>Lines</i>
<div style="height: 1.00em;">&#x00A0;</div>
Set number of console lines to use for display
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;&lt; <b>s</b>&gt;: <i>Seconds</i>
<div style="height: 1.00em;">&#x00A0;</div>
Set number of seconds between sample periods
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;&lt; <b>t</b>&gt;: <i>Threshold</i>
<div style="height: 1.00em;">&#x00A0;</div>
Set lower threshold for number of ticks required to be printed
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;&lt; <b>q</b>&gt;: <i>Quit</i>
<div style="height: 1.00em;">&#x00A0;</div>
Leaves the program
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;&lt; <b>u</b>&gt;: <i>Unsorted/Sorted</i>
<div style="height: 1.00em;">&#x00A0;</div>
Toggles between unsorted and sorted display (sorted by ticks)
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
<b>kerneltop</b> works with a 2.6.x or newer kernel. Do not expect previous
  kernels to work, but they might. YMMV.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This program only works with ELF kernels. The change for a.out kernels is
  trivial, and left as an exercise to the a.out user.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
To enable profiling, the kernel must be rebooted, because no profiling module is
  available, and it wouldn't be easy to build. To enable profiling, you can
  specify &quot;profile=1&quot; on the kernel commandline.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
See <b>Documentation/basic_profiling.txt</b> , which can be found in the Linux
  kernel source tree for your kernel for more information.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Profiling is disabled when interrupts are inhibited. This means that many
  profiling ticks happen when interrupts are re-enabled. Watch out for
  misleading information.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>Randy Dunlap &lt;rddunlap@osdl.org&gt;</b>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<pre>
/proc/profile              A binary snapshot of the profiling buffer.
/boot/System.map           The symbol table for the kernel.
/usr/src/linux/*           The program being profiled :-)
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This program is written by Randy Dunlap &lt;rddunlap@osdl.org&gt;, and is
  largely based on readprofile by Alessandro Rubini
  &lt;rubini@ipvvis.unipv.it&gt;.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>readprofile(1),</b> <b>top(1)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">May 2004</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
