<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:22:58 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>lxc-clone(1) lxc-clone(1)</p>

<p style="margin-top: 1em">NAME <br>
lxc-clone - clone a new container from an existing one.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
lxc-clone [-s ] [-K ] [-M ] [-H ] [-B backingstore] [-L
fssize] [-p lxcpath] [-P newlxcpath] [-R ] {-o orig} {-n
new} [-- hook arguments] <br>
lxc-clone [-s ] [-K ] [-M ] [-H ] [-B backingstore] [-L
fssize] [-p lxcpath] [-P newlxcpath] [-R ] {orig} {new} [--
hook arguments]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
lxc-clone Creates a new container as a clone of an existing
container. Two types of clones are supported: copy and
snapshot. A copy clone copies the root filessytem from the
<br>
original container to the new. A snapshot filesystem uses
the backing store&rsquo;s snapshot functionality to create a
very small copy-on-write snapshot of the original container.
<br>
Snapshot clones require the new container backing store to
support snapshotting. Currently this includes only aufs,
btrfs, lvm, overlayfs and zfs. LVM devices do not support
<br>
snapshots of snapshots.</p>

<p style="margin-top: 1em">The backing store of the new
container will be the same type as the original container,
with one exception, overlay containers. aufs and overlayfs
snapshots can be created of <br>
directory backed containers. This can be requested by using
(for overlayfs) the -B overlayfs arguments.</p>

<p style="margin-top: 1em">The names of the original and
new container can be given (in that order) after all
options, or can be specified with the -o and -n options,
respectively.</p>

<p style="margin-top: 1em">OPTIONS <br>
-s, --snapshot <br>
The new container&rsquo;s rootfs will be a snapshot of the
original. This option can be specified when the backing
store is LVM, btrfs or zfs, and must be specified when you
<br>
want to snapshot using aufs or overlayfs.</p>

<p style="margin-top: 1em">-K, --keepname <br>
Do not change the hostname of the container (in the root
filesystem).</p>

<p style="margin-top: 1em">-M, --keepmac <br>
Use the same MAC address as the original container, rather
than generating a new random one.</p>

<p style="margin-top: 1em">-H, --copyhooks <br>
Copy all mount hooks into the new container&rsquo;s
directory, and update any lxcpaths and container names as
needed.</p>

<p style="margin-top: 1em">-L, --fssize fssize <br>
In the case of a block device backed container, a size for
the new block device. By default, the new device will be
made the same size as the original.</p>

<p style="margin-top: 1em">-p, --lxcpath lxcpath <br>
The lxcpath of the original container. By default, the
system wide configured lxcpath will be used.</p>

<p style="margin-top: 1em">-P, --newpath newlxcpath <br>
The lxcpath for the new container. By default the same
lxcpath as the original will be used. Note that with btrfs
snapshots, changing lxcpaths may not be possible, as
sub&acirc; <br>
volume snapshots must be in the same btrfs filesystem.</p>

<p style="margin-top: 1em">-B, --backingstore backingstore
<br>
Select a different backing store for the new container. By
default the same as the original container&rsquo;s is used.
Note that currently changing the backingstore is only
sup&acirc; <br>
ported for aufs and overlayfs snapshots of directory backed
containers. Valid backing stores include dir (directory),
aufs, btrfs, lvm, zfs, loop and overlayfs.</p>

<p style="margin-top: 1em">-R, --rename <br>
Rename an existing container. orig is renamed new.</p>

<p style="margin-top: 1em">-o, --orig orig <br>
The name of the original container to clone.</p>

<p style="margin-top: 1em">-n, --new new <br>
The name of the new container to create.</p>

<p style="margin-top: 1em">CLONE HOOK <br>
If the container being cloned has one or more lxc.hook.clone
specified, then the specified hooks will be called for the
new container. The first 3 arguments passed to the clone
<br>
hook will be the container name, a section
(&rsquo;lxc&rsquo;), and the hook type
(&rsquo;clone&rsquo;). Extra arguments passed lxc-clone will
be passed to the hook program starting at argument 4. The
<br>
LXC_ROOTFS_MOUNT environment variable gives the path under
which the container&rsquo;s root filesystem is mounted. The
configuration file pathname is stored in LXC_CONFIG_FILE,
the new <br>
container name in LXC_NAME, the old container name in
LXC_SRC_NAME, and the path or device on which the rootfs is
located is in LXC_ROOTFS_PATH.</p>

<p style="margin-top: 1em">NOTES <br>
lxc-clone is deprecated in favor of lxc-copy.</p>

<p style="margin-top: 1em">SEE ALSO <br>
lxc(7), lxc-create(1), lxc-copy(1), lxc-destroy(1),
lxc-start(1), lxc-stop(1), lxc-execute(1), lxc-console(1),
lxc-monitor(1), lxc-wait(1), lxc-cgroup(1), lxc-ls(1),
lxc-info(1), <br>
lxc-freeze(1), lxc-unfreeze(1), lxc-attach(1),
lxc.conf(5)</p>

<p style="margin-top: 1em">AUTHOR <br>
Serge Hallyn &lt;serge.hallyn@ubuntu.com&gt;</p>

<p style="margin-top: 1em">2017-05-29 lxc-clone(1)</p>
<hr>
</body>
</html>
