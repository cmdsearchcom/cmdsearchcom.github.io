<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>mysql&acirc;zrm&acirc;backup(1) mysql&acirc;
zrm&acirc;backup(1)</p>

<p style="margin-top: 1em">NAME <br>
mysql&acirc;zrm&acirc;backup &acirc; Backup utility for ZRM
for MySQL.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;backup&acirc;set name] <br>
[Backup Source Options] <br>
[MySQL Access Options] <br>
[Backup Method Options] <br>
[Backup Destination Options] <br>
[Logging and Notification Options] <br>
[&acirc;&acirc;options&acirc;file conf_file] <br>
[&acirc;&acirc;help]</p>

<p style="margin-top: 1em">Backup Source Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;all&acirc;databases] |
[&acirc;&acirc;databases &quot;dbname1 dbname2&quot;...] |
<br>
[&acirc;&acirc;database &quot;name&quot;
[&acirc;&acirc;tables tname1 tname2 <br>
[&acirc;&acirc;exclude&acirc;pattern pattern] <br>
[&acirc;&acirc;routines | &acirc;&acirc;no&acirc;routines]
<br>
[&acirc;&acirc;mysql&acirc;binpath MySQL_command_dir] <br>
[&acirc;&acirc;mysql&acirc;binlog&acirc;path
MySQL_binary_log_dir] <br>

[&acirc;&acirc;config&acirc;file&acirc;list=&quot;config_file_pathname&quot;]</p>

<p style="margin-top: 1em">MySQL Access Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;user user] <br>
[&acirc;&acirc;password password] <br>
[&acirc;&acirc;host hostname] <br>
[&acirc;&acirc;port portnumber] <br>
[&acirc;&acirc;socket name] <br>
[&acirc;&acirc;ssl&acirc;options &quot;MySQL ssl
options&quot;] <br>
[&acirc;&acirc;single&acirc;transaction
[always|never|only&acirc;innodb]] <br>
[&acirc;&acirc;extra&acirc;mysqldump&acirc;options
mysqldump_options] <br>
[&acirc;&acirc;extra&acirc;mydumper&acirc;options
mydumper_options]</p>

<p style="margin-top: 1em">Compression and Encryption
Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;compress | &acirc;&acirc;no&acirc;compress ]
<br>
[&acirc;&acirc;compress&acirc;mysqldump&acirc;onthefly |
&acirc;&acirc;no&acirc;compress&acirc;mysql&acirc; <br>
dump&acirc;onthefly] <br>
[&acirc;&acirc;compress&acirc;plugin plugin_name] <br>
[&acirc;&acirc;no&acirc;encrypt | &acirc;&acirc;encrypt]
<br>
[&acirc;&acirc;encrypt&acirc;plugin plugin_name
[&acirc;&acirc;decrypt&acirc;option <br>
option]] <br>
[&acirc;&acirc;passfile filename]</p>

<p style="margin-top: 1em">Plugin Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;pre&acirc;backup&acirc;plugin plugin] <br>
[&acirc;&acirc;pre&acirc;backup&acirc;plugin&acirc;options
&quot;option1 option2 ...&quot;] <br>
[&acirc;&acirc;copy&acirc;plugin plugin] <br>
[&acirc;&acirc;ssh&acirc;user user] <br>
[&acirc;&acirc;ssh&acirc;identity&acirc;file filename] <br>
[&acirc;&acirc;remote&acirc;mysql&acirc;binpath path] <br>
[&acirc;&acirc;socket&acirc;remote&acirc;port port] <br>
[&acirc;&acirc;post&acirc;backup&acirc;plugin plugin] <br>
[&acirc;&acirc;post&acirc;backup&acirc;plugin&acirc;options
&quot;option1 option2 ...&quot;]</p>

<p style="margin-top: 1em">Backup Method Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;backup&acirc;level level] <br>
[&acirc;&acirc;backup&acirc;mode raw | logical] <br>
[&acirc;&acirc;logical&acirc;parallel 0 | 1] <br>
[&acirc;&acirc;synchronous&acirc;checksum |
&acirc;&acirc;no&acirc;synchronous&acirc;checksum] <br>
[&acirc;&acirc;replication | &acirc;&acirc;noreplication]
<br>
[&acirc;&acirc;retention&acirc;policy backup_retention_time]
<br>
[&acirc;&acirc;default&acirc;character&acirc;set
char_set_name] <br>

[&acirc;&acirc;compress&acirc;data&acirc;during&acirc;transport]</p>

<p style="margin-top: 1em">Snapshot Plugin Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>

[&acirc;&acirc;snapshot&acirc;plugin=&quot;snapshot_plugin_pathname&quot;]
<br>
[&acirc;&acirc;check&acirc;innodb |
&acirc;&acirc;no&acirc;check&acirc;innodb] <br>
[&acirc;&acirc;backup&acirc;type
regular|&acirc;&acirc;backup&acirc;type quick]</p>


<p style="margin-top: 1em">&acirc;&acirc;snapshot&acirc;plugin=&quot;&quot;/usr/share/mysql&acirc;zrm/plugins/lvm&acirc;snapshot.pl&quot;
<br>
[&acirc;&acirc;snapshot&acirc;size size]</p>


<p style="margin-top: 1em">&acirc;&acirc;snapshot&acirc;plugin=&quot;/usr/share/mysql&acirc;zrm/plugins/zfs&acirc;snapshot.pl&quot;
<br>
(no options necessary)</p>

<p style="margin-top: 1em">Backup Destination Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;backup&acirc;name image_name] <br>
[&acirc;&acirc;destination dir_path] <br>
[&acirc;&acirc;tmpdir temp_dir</p>

<p style="margin-top: 1em">Logging and Notification
Synopsis <br>
mysql&acirc;zrm&acirc;backup <br>
[&acirc;&acirc;mailto address] <br>
[&acirc;&acirc;mail&acirc;policy
always|never|only&acirc;on&acirc;error] <br>
[&acirc;&acirc;comment &quot;comment string&quot;] <br>
[&acirc;&acirc;quiet|&acirc;&acirc;no&acirc;quiet] <br>
[&acirc;&acirc;verbose]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ZRM for MySQL provides automated scheduling of live MySQL
database <br>
backup. You only need to configure it once to reflect the
MySQL deploy&acirc; <br>
ment, then schedule it to run unattended backups.
Vari&acirc; ous options can <br>
help an administrator:</p>

<p style="margin-top: 1em">* Verify the backups
created.</p>

<p style="margin-top: 1em">* Generate various types of
reports about the backups cre&acirc; ated.</p>

<p style="margin-top: 1em">* Specify compression and
encryption as desired.</p>

<p style="margin-top: 1em">* Report information about the
backups via an email or RSS feed.</p>

<p style="margin-top: 1em">* Access pre&acirc; and
post&acirc; backup plugins to extend the suite further.</p>

<p style="margin-top: 1em">* Control full and selective
restore operations on the database, both <br>
locally and remotely.</p>

<p style="margin-top: 1em">mysql&acirc;zrm&acirc;backup
provides the core backup functions of ZRM for MySQL <br>
databases.</p>

<p style="margin-top: 1em">Use the mysql&acirc;zrm.conf(5)
configuration file to set mysql&acirc;zrm&acirc;backup <br>
options described on this page. Use the &acirc;&acirc;action
check option to ver&acirc; <br>
ify the configuration of mysql&acirc;zrm&acirc;backup.</p>

<p style="margin-top: 1em">Use mysql&acirc;zrm&acirc;backup
to create full or incremental back&acirc; ups of MySQL <br>
databases.</p>

<p style="margin-top: 1em">To display help on individual
action options, append the &acirc;&acirc;help option <br>
to the command line. For example:
&acirc;mysql&acirc;zrm&acirc;backup
&acirc;&acirc;options&acirc;file <br>
&acirc;&acirc;help&acirc;</p>

<p style="margin-top: 1em">BACKUP SETS <br>
ZRM for MySQL organizes backups into Backup Sets. Each
backup set <br>
defines the list of databases or tables within a data&acirc;
base, how it <br>
should be backed up and the backup schedule for the
da&acirc; ta. Backup sets <br>
are identified by a unique name.</p>

<p style="margin-top: 1em">Every backup run (each time
mysql&acirc;zrm is executed) is as&acirc; sociated with <br>
one backup set. Various parameters can be associated with
each backup <br>
run.</p>

<p style="margin-top: 1em">mysql&acirc;zrm first reads the
global configu&acirc; ration file <br>
(/etc/mysql&acirc;zrm/mysql&acirc;zrm.conf). The global
configura&acirc; tion file can be <br>
overridden by backup set specific configuration file stored
in <br>
/etc/mysql&acirc;zrm/backup set name directory. The
mysql&acirc;zrm command line <br>
options will override the parameters specified in the
configuration <br>
files.</p>

<p style="margin-top: 1em">BACKUP METHODS <br>
mysql&acirc;zrm backups can be either full or incremental.
Full backups can <br>
be logical backups or raw backups. Logical backups
con&acirc; tain SQL state&acirc; <br>
ments to recreate the database. Raw backups are actual
copies of the <br>
database files.</p>

<p style="margin-top: 1em">When logical backup is
specified, the utility uses only mysqldump for <br>
backing up specified databases and tables.</p>

<p style="margin-top: 1em">When raw backup is specified,
the utility has the ability to decide <br>
which backup mechanism to use for a particular database. If
there are <br>
no transactional storage engine based tables in the
speci&acirc; fied database, <br>
then it uses mysqlhotcopy for backing up that database.
Otherwise, it <br>
uses mysqldump for backing up the specified database.</p>

<p style="margin-top: 1em">Snapshot backups are discussed
in the Snapshot Options section of this <br>
man page.</p>

<p style="margin-top: 1em">When replication is specified
and if the MySQL server is a replication <br>
slave, then it will also backup all replication related
files.</p>

<p style="margin-top: 1em">When destination specified then
the backups are stored in a sub&acirc;direc&acirc; <br>
tory under the specified directory. Default path is
/var/lib/mysql&acirc;zrm. <br>
If the destination specified does not exist, it will return
an error <br>
and exit; the utility does not create the directory.</p>

<p style="margin-top: 1em">An index file is also created in
the backup directory. The index is a <br>
file that contains the details of what was backed up, how
much data was <br>
backed up, what parameters were used to backup the data, how
much time <br>
it took to backup etc.</p>

<p style="margin-top: 1em">When an incremental backup is
specified, the follow&acirc; ing options are <br>
ignored:</p>

<p style="margin-top: 1em">backup&acirc;mode,</p>

<p style="margin-top: 1em">snapshot&acirc;plugin,</p>

<p style="margin-top: 1em">all&acirc;databases,</p>

<p style="margin-top: 1em">databases,</p>

<p style="margin-top: 1em">database</p>

<p style="margin-top: 1em">tables</p>

<p style="margin-top: 1em">OPTIONS <br>
You can select a backup set by name on the command line, or
select <br>
source database(s), backup methods, plugins, etc. by
us&acirc; ing the options <br>
described in the Options subsections that follow. You can
also specify <br>
mysql&acirc;zrm&acirc;backup options in a configuration file
speci&acirc; fied using the <br>
&acirc;&acirc;options switch.</p>

<p style="margin-top: 1em">&acirc;&acirc;backup&acirc;set
name <br>
Specify backup&acirc;set for the backup run. This is a
Command line <br>
option only and cannot be specified in the con&acirc;
figuration file. <br>
The default value is BackupSet1. If such a value is already
<br>
present, it will be used.</p>


<p style="margin-top: 1em">&acirc;&acirc;options&acirc;file
conf_file <br>
Set the file along with full pathname that contains <br>
mysql&acirc;zrm&acirc;backup configuration options; this
file has the same <br>
format as mysql&acirc;zrm.conf(5).</p>

<p style="margin-top: 1em">&acirc;&acirc;help Displays the
help message and exits. This com&acirc;
mand&acirc;line&acirc;only <br>
parameter cannot be specified in the configuration file.</p>

<p style="margin-top: 1em">Backup Source Options <br>
&acirc;&acirc;all&acirc;databases <br>
Opt for all databases to be backed up or restored. This is
the <br>
default if database or databases are not specified.</p>

<p style="margin-top: 1em">&acirc;&acirc;databases
&quot;name1 name2 ...&quot; <br>
List the databases to backup or restore.</p>

<p style="margin-top: 1em">&acirc;&acirc;database name
[&acirc;&acirc;tables &quot;name1 name2 ...&quot;] <br>
List the tables that should be backed up. This option is
valid <br>
during the backup operation only.</p>


<p style="margin-top: 1em">&acirc;&acirc;exclude&acirc;pattern
&quot;pattern&quot; <br>
All databases or tables that match the pattern are not
backed <br>
up. If &acirc;&acirc;all&acirc;databases or
&acirc;&acirc;databases are speci&acirc; fied, the exclude
<br>
pattern applies to database names. If &acirc;&acirc;database
is specified, <br>
the exclude pattern applies to table names. Wild&acirc; card
characters <br>
* (match one or more characters), ? (match one character),
[] <br>
(match one of the characters specified within parenthesis)
and | <br>
(match one of the patterns) are supported. For ex&acirc;
ample: Exclude <br>
pattern &quot;*_db|dbase[123]|abcd&quot; will match names
tom_db, dbase1, <br>
dbase2, abcd. All tables or databases that match this
pattern <br>
will be excluded. Character # is not permitted in the
exclude <br>
pattern.</p>


<p style="margin-top: 1em">&acirc;&acirc;routines|&acirc;&acirc;no&acirc;routines
<br>
If &acirc;&acirc;routines is specified then mysqldump will
dump stored rou&acirc; <br>
tines. The default is &acirc;&acirc;no&acirc;routines. This
parameter is optional.</p>


<p style="margin-top: 1em">&acirc;&acirc;mysql&acirc;binpath
mysql_command_dir <br>
Set the full path where mysql binary commands are installed.
<br>
For example: /opt/lampp/bin.</p>


<p style="margin-top: 1em">&acirc;&acirc;mysql&acirc;binlog&acirc;path
mysql_binary_log_location <br>
Set the full path of the location of mysql bi&acirc; nary
logs. For <br>
example: /var/log/mysql</p>


<p style="margin-top: 1em">&acirc;&acirc;config&acirc;file&acirc;list=&quot;list_file_path&quot;
<br>
Intended for configuration file backup, this op&acirc;
tional parameter <br>
lets you specify a list of files to backup during a full
backup <br>
of any type (snapshot, logical, or raw). The list_file_path
is <br>
the path to the file that contains the list of configuration
<br>
files to back up. The list itself should specify full
pathnames, <br>
separated by newlines.</p>

<p style="margin-top: 1em">The config&acirc;file&acirc;list
is processed after the main data has been <br>
backed up, and the list file itself is copied to the
destination <br>
directory along with the configuration files. The backup
index <br>
will record the config&acirc;file&acirc;list parameter.</p>

<p style="margin-top: 1em">Files specified by
config&acirc;file&acirc;list will be re&acirc; stored during
a <br>
full restore to their original locations, preserv&acirc; ing
permissions <br>
and ownership.</p>

<p style="margin-top: 1em">MySQL Access Options <br>
&acirc;&acirc;user user <br>
Specify MySQL backup/restore user on the MySQL server. If no
<br>
user is specified here, ensure that you have the MySQL user
<br>
specified in the my.cnf or &acirc;&acirc;options file has
the necessary <br>
privileges.</p>

<p style="margin-top: 1em">&acirc;&acirc;password password
<br>
Specify password for the MySQL user. If you wish to prevent
the <br>
password from being sent in plaintext over the net&acirc;
work, you may <br>
wish to configure the MySQL username and pass&acirc; word
using the <br>
MySQL my.cnf or &acirc;&acirc;options file.</p>

<p style="margin-top: 1em">&acirc;&acirc;host hostname <br>
Specify MySQL server host name or IP name.</p>

<p style="margin-top: 1em">&acirc;&acirc;port portnumber
<br>
Specify MySQL server port.</p>

<p style="margin-top: 1em">&acirc;&acirc;socket name <br>
Specify socket file to use for communication with MySQL
server.</p>

<p style="margin-top: 1em">&acirc;&acirc;ssl&acirc;options
&quot;MySQL ssl options&quot; <br>
Set any &acirc;&acirc;ssl* options that MySQL supports.
Refer to MySQL Docu&acirc; <br>
mentation for SSL options details.</p>


<p style="margin-top: 1em">&acirc;&acirc;single&acirc;transaction
[always|never|only&acirc;innodb] <br>
The single&acirc;transaction option controls under what
circumstances <br>
MySQL for ZRM will pass the
&acirc;&acirc;single&acirc;transaction option setting <br>
to mysqldump when executing a database dump. Spec&acirc;
ifying always <br>
causes &acirc;&acirc;single&acirc;transaction to always be
passed, never causes <br>
the &acirc;&acirc;single&acirc;transaction to never be
passed, and only&acirc;innodb <br>
specifies that &acirc;&acirc;single&acirc;transaction will
only be passed during <br>
innodb&acirc;only backups. For example, if only&acirc;innodb
is specified, <br>
the &acirc;&acirc;single&acirc;transaction will not be
passed for backups that <br>
include myisam or other non&acirc;transactional tables.</p>


<p style="margin-top: 1em">&acirc;&acirc;extra&acirc;mysqldump&acirc;options=&quot;
mysqldump_options&quot; <br>
Use this to pass any extra mysqldump options when ZRM for
MySQL <br>
executes a mysqldump. For example, if you require mysqldump
to <br>
be run with the &acirc;&acirc;flush&acirc;logs and
&acirc;&acirc;no&acirc;create&acirc;info options,
spec&acirc; <br>
ify
&acirc;&acirc;extra&acirc;mysqldump&acirc;options=&quot;&acirc;&acirc;flush&acirc;logs
&acirc;&acirc;no&acirc;create&acirc;info&quot; in <br>
the mysql&acirc;zrm.conf file.</p>


<p style="margin-top: 1em">&acirc;&acirc;extra&acirc;mydumper&acirc;options=&quot;
mydumper_options&quot; <br>
Use this to pass any extra mydumper options when ZRM for
MySQL <br>
executes a mydumper. For example, if you require mydumper to
be <br>
run with the &acirc;&acirc;threads and &acirc;&acirc;regex
op&acirc; tions, specify <br>

&acirc;&acirc;extra&acirc;mydumper&acirc;options=&quot;&acirc;&acirc;threads=4
&acirc;&acirc;regex=&acirc;Regular expres&acirc; <br>
sion for &acirc;db.table&acirc; matching&acirc;&quot; in the
mysql&acirc; zrm.conf file.</p>

<p style="margin-top: 1em">Backup Method Options <br>
&acirc;&acirc;backup&acirc;level level <br>
Choose 0 for full backup. Choose 1 for incremen&acirc; tal
back up. <br>
Default is full backup.</p>

<p style="margin-top: 1em">&acirc;&acirc;backup&acirc;mode
raw|logical <br>
Database/tables that use a transactional engine cannot be
backed <br>
up by mysqldump. They should be backed up by mysqlhotcopy.
<br>
Choose raw to use mysqlhotcopy to back up the
database/tables <br>
that use a transactional engine. Choose logical to use
mysql&acirc; <br>
dump to back up the database/tables that don&acirc;t use a
transac&acirc; <br>
tional engine. Default value is raw.</p>


<p style="margin-top: 1em">&acirc;&acirc;logical&acirc;parallel
|1 <br>
Choose 0 for mysqldump backup. Choose 1 for my&acirc; dumper
muti&acirc;thread <br>
logical back up. Default is mydsqldump backup.</p>


<p style="margin-top: 1em">&acirc;&acirc;synchronous&acirc;checksum
| &acirc;&acirc;no&acirc;synchronous&acirc;checksum <br>
Specifies whether a checksum should be pro&acirc; duced
during the <br>
backup process. Default is
no&acirc;synchronous&acirc;checksum, in which <br>
case the checksum is produced only after the backup process
is <br>
complete. Specifying
&acirc;&acirc;synchronous&acirc;checksum significantly <br>
increases overall backup times.</p>

<p style="margin-top: 1em">&acirc;&acirc;replication |
&acirc;&acirc;noreplication <br>
Choose replication to backup replication files. They will be
<br>
backed up only if the host is a replication slave. Default
<br>
option is &acirc;&acirc;noreplication.</p>


<p style="margin-top: 1em">&acirc;&acirc;default&acirc;character&acirc;set
char_set_name <br>
The default character set that mysqldump should use. If not
<br>
specified utf8 is used. This parameter is optional.</p>


<p style="margin-top: 1em">&acirc;&acirc;compress&acirc;data&acirc;during&acirc;transport
<br>
If the value is set to 1, the backup is com&acirc; pressed
when it <br>
transferred from MySQL server to ZRM server. Set&acirc; ting
the value <br>
to zero, no compression is performed. No compres&acirc; sion
is per&acirc; <br>
formed by default. Data compression during trans&acirc; fer
is indepen&acirc; <br>
dent of the Backup compression parameter.</p>

<p style="margin-top: 1em">Plugin Options <br>
&acirc;&acirc;pre&acirc;backup&acirc;plugin plugin <br>
(Optional) Specify the plugin along with full pathname to be
<br>
called before a backup run. All pre&acirc;backup plugin
scripts must <br>
accept the following command&acirc;line parameters (which
are passed <br>
to the plugin using
&acirc;&acirc;pre&acirc;backup&acirc;plugin&acirc;options:</p>


<p style="margin-top: 1em">&acirc;&acirc;all&acirc;databases
<br>
Use when all databases on the server are being backed
up.</p>

<p style="margin-top: 1em">&acirc;&acirc;database database1
database2... <br>
Use when selected databases are being backed up.</p>

<p style="margin-top: 1em">&acirc;&acirc;database database
&acirc;&acirc;tables table1 table2... <br>
Use if selected tables are being backed up.</p>

<p style="margin-top: 1em">The script should be written to
return a non&acirc; zero value on <br>
error; pre&acirc;backup plugin failures should cancel the
backup and <br>
generate a failure message for reports and logs.</p>


<p style="margin-top: 1em">&acirc;&acirc;pre&acirc;backup&acirc;plugin&acirc;options
&quot;option1 option2...&quot; <br>
Pass options to the pre&acirc;backup&acirc;plugin as one of
the command line <br>
arguments.</p>

<p style="margin-top: 1em">&acirc;&acirc;copy&acirc;plugin
plugin <br>
Specify plugin along with full pathname to be used for
transfer&acirc; <br>
ring backup files to and from a remote MySQL server to the
<br>
machine running ZRM for MySQL. Use this option when <br>
1. remote incremental backup is required <br>
2. copying replication related files from a re&acirc; mote
machine <br>
3. execute mysqlhotcopy (MySQL command) and copy the data
<br>
from the remote machine <br>
4. restore data to a remote machine using mysqlhotcopy(MySQL
<br>
command). This parameter is optional.</p>

<p style="margin-top: 1em">&acirc;&acirc;ssh&acirc;user
user <br>
Specifies the user to be used for SSH. This param&acirc;
eter is only <br>
used by the ssh&acirc;copy.pl plugin. The user specified
should either <br>
be the user mysqld runs as or root. If not speci&acirc; fied
the default <br>
value used is mysql. This parameter is optional.</p>


<p style="margin-top: 1em">&acirc;&acirc;ssh&acirc;identify&acirc;file
filename <br>
Selects a file from which the identity (private key) for RSA
or <br>
DSA authentication is read. This identity file is used by
the <br>
ssh&acirc;copy.pl plugin for authentication.</p>


<p style="margin-top: 1em">&acirc;&acirc;remote&acirc;mysql&acirc;binpath
path <br>
Full path where mysql binaries are installed on the remote
<br>
machine. For example: /opt/lampp/bin. This param&acirc; eter
is only <br>
used by the socket&acirc;copy.pl and ssh&acirc;copy.pl
plugins. If not spec&acirc; <br>
ified, the default value used is /usr/bin.</p>


<p style="margin-top: 1em">&acirc;&acirc;socket&acirc;remote&acirc;port
port <br>
Port that the socket&acirc;plugin.pl should use to connect.
This <br>
parameter is only used by the socket&acirc;copy.pl plugin.
If not <br>
specified the default value used is 25300. This parameter is
<br>
optional</p>


<p style="margin-top: 1em">&acirc;&acirc;post&acirc;backup&acirc;plugin
plugin <br>
Set the plugin along with full pathname to be called after a
<br>
backup run. If synchronous&acirc;checksum is not set or its
value is <br>
set to zero, the post backup plugin is called twice, once at
the <br>
end of backup and once when the checksum is fin&acirc;
ished.</p>


<p style="margin-top: 1em">&acirc;&acirc;post&acirc;backup&acirc;plugin&acirc;options
&quot;Option1 Option2 Option3 Option4...&quot; <br>
option1 is the value of
post&acirc;backup&acirc;plugin&acirc;options from the <br>
mysql&acirc;zrm.conf(5) file. option2 is the data being
backed up. It <br>
will be either</p>


<p style="margin-top: 1em">&acirc;&acirc;all&acirc;databases
<br>
Use when all databases on the server are being backed
up.</p>

<p style="margin-top: 1em">&acirc;&acirc;database database1
database2... <br>
Use when selected databases are being backed up.</p>

<p style="margin-top: 1em">&acirc;&acirc;database database
&acirc;&acirc;tables table1 table2... <br>
Use if selected tables are being backed up.</p>

<p style="margin-top: 1em">Option3 will be
&acirc;&acirc;backup&acirc;directory path</p>

<p style="margin-top: 1em">Option4 will be
&acirc;&acirc;checksum&acirc;pending or it will be
&acirc;&acirc;checksum&acirc;fin&acirc; <br>
ished if synchronous&acirc;checksum is set to 1.</p>

<p style="margin-top: 1em">If synchronous&acirc;checksum is
not set or its value is set to zero, <br>
the post&acirc;backup&acirc;plugin is called again and it
will have 3 param&acirc; <br>
eters First parameter is the value of
post&acirc;backup&acirc;plugin&acirc;options <br>
from the mysql&acirc;zrm.conf(5) configuration file. Second
parameter <br>
will be &acirc;&acirc;backup&acirc;directory path. Third
param&acirc; eter will be <br>
&acirc;&acirc;checksum&acirc;finished.</p>

<p style="margin-top: 1em">Compression and Encryption
Options <br>
&acirc;&acirc;compress | &acirc;&acirc;no&acirc;compress
<br>
Choose whether the files should be compressed using the
utility <br>
specified by the &acirc;&acirc;compress&acirc;plugin. The
default is <br>
&acirc;&acirc;no&acirc;compress.</p>


<p style="margin-top: 1em">&acirc;&acirc;compress&acirc;mysqldump&acirc;onthefly
|
&acirc;&acirc;no&acirc;compress&acirc;mysqldump&acirc;onthefly
<br>
Choose whether to compress the data dumped by mysqldump on
the <br>
fly. Default compression command used is gzip. Default is no
<br>
compression on the fly.</p>


<p style="margin-top: 1em">&acirc;&acirc;compress&acirc;plugin
plugin_name <br>
Use plugin_name to specify a path to the utility to use for
com&acirc; <br>
pression. The default is gzip.</p>

<p style="margin-top: 1em">&acirc;&acirc;no&acirc;encrypt |
&acirc;&acirc;encrypt <br>
Choose whether the files should be encrypted us&acirc; ing
the utility <br>
specified by the &acirc;&acirc;encrypt&acirc;plugin. The
default is &acirc;&acirc;no&acirc;encrypt.</p>


<p style="margin-top: 1em">&acirc;&acirc;encrypt&acirc;plugin
plugin_name [&acirc;&acirc;decrypt&acirc;option [option]
<br>
Use plugin_name to specify a utility to use for compression
<br>
along with its full path. If decrypt&acirc;option is not
specified <br>
then the &acirc;d option of encrypt&acirc;plugin is used for
decrypting.</p>

<p style="margin-top: 1em">&acirc;&acirc;passfile
filename</p>

<p style="margin-top: 1em">Snapshot Plugin Options <br>

&acirc;&acirc;snapshot&acirc;plugin=&quot;plugin_pathname&quot;
<br>
Specifies the plugin to be used for snapshot operations. The
<br>
default is the lvm&acirc;snapshot plugin.</p>


<p style="margin-top: 1em">[&acirc;&acirc;check&acirc;innodb
| &acirc;&acirc;no&acirc;check&acirc;innodb] <br>
Specifies whether to check for innodb shared data and log
files <br>
to back up during every snapshot&acirc;based based backup.
If <br>
&acirc;&acirc;check&acirc;innodb is specified, innodb shared
data and logs are <br>
only backed up if the databases being backed up use innodb.
If <br>
&acirc;&acirc;no&acirc;check&acirc;innodb is specified (the
default), the innodb <br>
databases and logs are backed up regardless of whether they
are <br>
relevant. The default value is
&acirc;&acirc;no&acirc;check&acirc;innodb, which means <br>
innodb shared data and logs are always copied if the innodb
<br>
engine is enabled in MySQL. In most cases,
&acirc;&acirc;no&acirc;check&acirc;innodb <br>
provides the best performance.</p>


<p style="margin-top: 1em">&acirc;&acirc;snapshot&acirc;size
size <br>
Set the size of the lvm&acirc;snapshot to be generated. For
raw back&acirc; <br>
ups, each specified database is first checked en&acirc; sure
that it is <br>
on a LVM volume, and then a snapshot of the specified size
is <br>
created and used to backup the database. If the specified
<br>
database is not on a LVM volume, either mysqlhotcopy or
mysql&acirc; <br>
dump will be used to create the backup based on the logic
speci&acirc; <br>
fied by the &acirc;&acirc;backup&acirc;mode option. This
option is ignored if the <br>
&acirc;&acirc;backup&acirc;mode is logical.</p>

<p style="margin-top: 1em">&acirc;&acirc;backup&acirc;type
regular|&acirc;&acirc;backup&acirc;type quick <br>
Choose the method of snapshot backup. The regular option
speci&acirc; <br>
fies that the snapshot should be copied into a standard ZRM
for <br>
MySQL backup archive. The quick option specifies that the
snap&acirc; <br>
shot itself should be used as a near&acirc;line backup.
Quick backups <br>
are convenient as they provide near&acirc;instantaneous
restores, but <br>
because they remain on the MySQL server they do not protect
<br>
against media or server failure. Note that if the
&acirc;&acirc;&acirc;quick&acirc;&acirc;&acirc; <br>
option is specified, the
&acirc;&acirc;&acirc;compress&acirc;&acirc;&acirc; and
&acirc;&acirc;&acirc;encrypt&acirc;&acirc;&acirc; <br>
options are ignored, and the backup size will al&acirc; ways
be zero. In <br>
addition, no checksums are performed, which means that quick
<br>
snapshot backups cannot be verified.</p>

<p style="margin-top: 1em">Backup Destination Options <br>
&acirc;&acirc;backup&acirc;name image_name <br>
Specify a unique name to store the backup. If a name is not
<br>
specified or it already exists in the
&acirc;&acirc;destination dirpath (see <br>
the next option), the backup image will be named with the
cur&acirc; <br>
rent date and time.</p>

<p style="margin-top: 1em">&acirc;&acirc;destination
dir_path <br>
Specify the directory to store the backup. The de&acirc;
fault location <br>
is /var/lib/mysql&acirc;zrm/. If a directory other than the
default is <br>
specified, you must create it manually on both the MySQL
server <br>
and the ZRM server, and it must have permissions set to
allow <br>
read/write access to the mysql backup user.</p>

<p style="margin-top: 1em">Logging and Notification Options
<br>
&acirc;&acirc;mailto address <br>
Set the address to which a backup report will be sent.</p>

<p style="margin-top: 1em">&acirc;&acirc;mail&acirc;policy
always|never|only&acirc;on&acirc;error <br>
Mail policy determines when email notification should be
sent. <br>
The value always is the default value and email no&acirc;
tification is <br>
sent for all events. If the mail policy is set to never,
email <br>
notification is not sent for all events. If the mail policy
is <br>
set to only&acirc;on&acirc;error, notification is sent when
there is a <br>
backup failure if mailto is specified.</p>

<p style="margin-top: 1em">&acirc;&acirc;comment
&quot;Comment string&quot; <br>
Insert a comment or a note about the backup run. This can be
<br>
used to tag backup runs and the note can re&acirc; trieved
using the <br>
mysql&acirc;zrm&acirc;reporter(1) utility.</p>

<p style="margin-top: 1em">&acirc;&acirc;quiet |
&acirc;&acirc;no&acirc;quiet <br>
Choose quiet to suppress display of log messages on stdout.
<br>
Choose no&acirc;quiet to display the log messages std&acirc;
out. Default is <br>
&acirc;&acirc;no&acirc;quiet.</p>

<p style="margin-top: 1em">&acirc;&acirc;verbose <br>
Provide verbose output in the log. Default is that verbose
is <br>
turned off and a terse output is generated.</p>

<p style="margin-top: 1em">FILES</p>

<p style="margin-top: 1em">/var/lib/mysql&acirc;zrm <br>
Default directory for storing all backup data.</p>

<p style="margin-top: 1em">/etc/mysql&acirc;zrm/backup set
name/mysql&acirc;zrm.conf <br>
Default location for the backup&acirc;set configuration file
used by <br>
the mysql&acirc;zrm&acirc;backup utility.</p>

<p style="margin-top: 1em">RETURN VALUES <br>
On success, zero is returned. On error, non&acirc;zero value
is returned.</p>

<p style="margin-top: 1em">SEE ALSO <br>
mysql&acirc;zrm(1),
mysql&acirc;zrm&acirc;manage&acirc;backup(1), mysql&acirc;
zrm&acirc;restore(1), <br>
mysql&acirc;zrm&acirc;check(1),
mysql&acirc;zrm&acirc;list(1), mysql&acirc;
zrm&acirc;getconf(1), <br>
mysql&acirc;zrm&acirc;setconf(1),
mysql&acirc;zrm&acirc;parse&acirc;binlogs(1), mysql&acirc;
zrm&acirc;purge(1), <br>
mysql&acirc;zrm&acirc;extract&acirc;backup(1),
mysql&acirc;zrm&acirc;ver&acirc; ify&acirc;backup(1), <br>
mysql&acirc;zrm&acirc;abort&acirc;backup(1),
mysql&acirc;zrm&acirc; scheduler(1), <br>
mysql&acirc;zrm&acirc;reporter(1), mysql&acirc;zrm.conf(5),
mysqldump(1), mysqlbinlog(1), <br>
mysql(1), lvm(8), Zmanda Recovery Manager for MySQL
(http://mysql&acirc; <br>
backup.zmanda.com/)</p>

<p style="margin-top: 1em">AUTHOR <br>
Zmanda Inc. (http://www.zmanda.com)</p>

<p style="margin-top: 1em">Zmanda, Inc. ZRM for MySQL
mysql&acirc; zrm&acirc;backup(1)</p>
<hr>
</body>
</html>
