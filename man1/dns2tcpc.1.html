<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:04:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>dns2tcpc(1) General Commands Manual dns2tcpc(1)</p>

<p style="margin-top: 1em">NAME <br>
dns2tcpc - A tunneling tool that encapsulate TCP traffic
over DNS.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dns2tcpc [ -h ] [ -c ] [ -z domain zone ] [ -d debug_level ]
[ -r resource ] [ -k key ] [ -f config_file ] [ -e command ]
[ -T request type ] [ -l local_port ] [ server ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dns2tcpc is a network tool used to encapsulate TCP
communications in DNS. When connections are received on a
specific port all TCP traffic is sent to the remote dns2tcpd
server <br>
and forwarded to a specific host and port. Multiple
connections are supported.</p>

<p style="margin-top: 1em">dns2tcpc was written for
demonstration purposes.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h Help Menu</p>

<p style="margin-top: 1em">-c Enable DNS compression. When
used, be sure that all relay and DNS server support
compression and really use it.</p>

<p style="margin-top: 1em">-z domain zone <br>
Use this domain as endpoint.</p>

<p style="margin-top: 1em">-d debug level <br>
Change debug level. Levels available are 1, 2 or 3.</p>

<p style="margin-top: 1em">-r resource <br>
Remote resource to access.</p>

<p style="margin-top: 1em">-k key Pre shared key used for
authentication (identification).</p>

<p style="margin-top: 1em">-f config file <br>
Configuration file to use.</p>

<p style="margin-top: 1em">-T request type <br>
Request type to use. Actually only KEY and TXT requests are
supported.</p>

<p style="margin-top: 1em">-e command <br>
Command to execute, I/O are redirected in the tunnel.</p>

<p style="margin-top: 1em">-l local_port <br>
Local port accepting incomming connections (or - for stdin
on UNIX systems).</p>

<p style="margin-top: 1em">-t connection timeout <br>
Maximum DNS server&rsquo;s answer delay in seconds. A valid
delay is between 1 and 240 seconds. Default is 3.</p>

<p style="margin-top: 1em">server DNS server to use. The
first entry in resolv.conf file will be choosen if the
server is not specified.</p>

<p style="margin-top: 1em">CONFIGURATION FILES <br>
By default ${HOME}/.dns2tcprc is used if no configuration
file is specified. Here is an example :</p>

<p style="margin-top: 1em">domain = dns2tcp.hsc.fr <br>
resource = ssltunnel <br>
local_port = 4430 <br>
enable_compression = 0 <br>
debug_level = 1 <br>
key = mykey <br>
# DNS to use <br>
server = ns.hsc.fr</p>

<p style="margin-top: 1em">EXAMPLES <br>
dns2tcpc -k mykey -z dns2tcp.hsc.fr mydns</p>

<p style="margin-top: 1em">Ask the dns2tcp server to list
available resources.</p>

<p style="margin-top: 1em">ssh -o &rsquo;ProxyCommand
dns2tcpc -r ssh -l - -z dns2tcp.hsc.fr -k mykey mydns&rsquo;
myserver</p>

<p style="margin-top: 1em">Use dns2tcp as a proxy command
with ssh. We try to connect to the ssh resource with the key
&rsquo;mykey&rsquo; and the DNS mydns.</p>

<p style="margin-top: 1em">dns2tcpc -r socat-resource -e
&rsquo;/bin/bash -i&rsquo; -k mykey -z dns2tcp.hsc.fr
mydns</p>

<p style="margin-top: 1em">Use dns2tcp as a reverse shell,
the remote shell will appear on the socat-resource.</p>

<p style="margin-top: 1em">dns2tcpc -d 1 -f /dev/null -r
ssl-tunnel -l 2000 -k mykey -T KEY -z dns2tcp.hsc.fr
mydns</p>

<p style="margin-top: 1em">Do not use the default
configuration file, bind local port 2000 and forward all the
traffic on the remote ssl-tunnel resource, use the first
debug level. Use KEY type DNS <br>
requests.</p>

<p style="margin-top: 1em">AUTHORS <br>
Olivier Dembour &lt;olivier.dembour@hsc.fr&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
ssltunnel</p>
 
<p style="margin-top: 1em">dns2tcpc(1)</p>
<hr>
</body>
</html>
