<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CEVE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CEVE(1)</td>
    <td class="head-vol">DOSE Tools</td>
    <td class="head-rtitle">CEVE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dose-ceve - parse package metadata
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dose-ceve</b> [-h] [-v] [-c <i>pkgspec</i>] [-r
    <i>pkgspec</i>] [--depth= <i>n</i>]<i></i> [-T <i>format</i>] [-G <i>graph
    type</i>] [-o <i>filename</i>] <i>input-spec</i> [<i>input-spec</i>...]</dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Dose-ceve is a generalized metadata parser. It reads package specifications,
  extracts package metadata from them, performs some manipulations, and outputs
  the package metadata in one of several formats.
<div class="Pp"></div>
<i>input-spec</i> is a url specifying the input format and the file to get the
  input from. For a possible list of schemes, see the <b>-t</b> parameter.
<div class="Pp"></div>
Some examples of URLs:
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag">deb://Packages.gz (the Debian file packages.gz in the
      current directory)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag">cudf:///home/examples/cudf/test.cudf (the CUDF file
      /home/examples/cudf/test.cudf)</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="MISC_OPTIONS"><a class="selflink" href="#MISC_OPTIONS">MISC
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">This option displays the help message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Be verbose. This option can be repeated for more
    verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Show program's version and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--progress</b></dt>
  <dd class="It-tag">Print progress bars.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--timers</b></dt>
  <dd class="It-tag">Print timing information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">Do no print any messages.</dd>
</dl>
<h2 class="Ss" title="Ss" id="INPUT_OPTIONS"><a class="selflink" href="#INPUT_OPTIONS">INPUT
  OPTIONS</a></h2>
Dose3 accepts files compressed with <i>gzip</i>(1) or <i>bzip2</i>(1), depending
  on compile-time options.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t </b><i>input-spec</i></dt>
  <dd class="It-tag">Select the input type. Possible values are:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>cudf</b> Cudf file format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>pef</b> PEF file format. The PEF format (Package
      Exchange Format) is a generic 822 file format used to encode package
      dependencies. <b>deb</b>, <b>opam</b>, <b>debsrc</b> and <b>edsp</b> are
      all based on the pef format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>csw</b> OpenCSW Solaris packages binary format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>opam</b> Opam Package universe in Opam/PEF format. This
      format is a 822 textual format encoding the opam universe.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>deb</b> for Debian binary package files, also known as
      Packages files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>debsrc</b> for Debian source package files, also knows
      as Sources files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>edsp</b> apt-get External Dependency Solver
    Protocol</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>hdlist</b> RPM hdlists. Binary file format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>synthesis</b> urpmi synthesis hdlists. XML Based
    format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--trim</b></dt>
  <dd class="It-tag">Consider only installable packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--latest</b> <i>n</i></dt>
  <dd class="It-tag">Consider only the latest -<i>n</i> most recent versions of
      each package, older versions of packages are ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --cone=</b><i>vpkglist</i></dt>
  <dd class="It-tag">The <b>match</b> of an atomic dependency (a package name p
      possibly together with a version constraint c) is the set of all packages
      in the repository with name p, and a version that satisfies the constraint
      c. The dependency cone of a package p is the set of all matches of all
      atomic dependencies of p, together with their respective dependency cones.
      The package specification <i>pkgspec</i> is a list of packages (separated
      by a semicolon), where each package is specified as follows: (
      <i>name</i>, <i>version</i>).
    <div style="height: 1.00em;">&#x00A0;</div>
    This option extracts the union of the dependency cones of all packages
      selected by <i>vpkglist</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Example: =over 12</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c 'golang-golang-x-tools (=
    1:0.0~git20150716.0.87156cb+dfsg1-4),golang-golang-x-tools-dev'</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --rcone=</b><i>vpkglist</i></dt>
  <dd class="It-tag">Using the same syntax as in <b>-c</b>, this option use the
      reverse dependency relation to make the transitive closure.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--depth </b><i>n</i></dt>
  <dd class="It-tag">In combination with the <b>-c</b> or <b>-r</b> options,
      this specifies the maximum depth for the transitive closure.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--request </b><i>installation-request</i></dt>
  <dd class="It-tag">Specifies an installation request of the form
      &quot;<b>install:</b> <i>vpkglist</i>&quot; or &quot; <b>remove:</b>
      <i>vpkglist</i>&quot; or &quot; <b>upgrade:</b> <i>vpkglist</i>&quot;
      where <i>vpkglist</i> is a list of (real) packages possibly associated
      with a constraint. Ex.: bash (&lt; 2.0), exim (= 3.1-debian1). This option
      can be repeated to specify install, remove and upgrade actions.
    <div style="height: 1.00em;">&#x00A0;</div>
    Examples:</dd>
</dl>
<div style="margin-left: 8.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">--request &quot;install: bash (&lt; 2.0), exim (=
    3.1-debian1)&quot; --request &quot;upgrade: apt-cudf&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 8.00ex;"></div>
<h2 class="Ss" title="Ss" id="OUTPUT_OPTIONS"><a class="selflink" href="#OUTPUT_OPTIONS">OUTPUT
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --outfile=</b><i>filename</i></dt>
  <dd class="It-tag">Instead of stdout, send output to the file
    <i>filename</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --outdir=</b><i>directory</i></dt>
  <dd class="It-tag">Set the output directory (default current directory)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dot</b></dt>
  <dd class="It-tag">Save the explanation graph (one for each package) in dot
      format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G </b><i>graph type</i></dt>
  <dd class="It-tag">Specifies the graph type format to compute. This option
      must be used together with the option <b>-T </b><i>dot|gml|grml</i>.
      Default is <b>syn</b>. Possible values are:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>syn</b> for the syntactic graph where disjunctions nodes
      and conflicts are explicitly added to the graph.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>pkg</b> for the package graph where all dependencies are
      threated uniformely and conflicts are not added to the graph.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>strdeps</b> the strong dependency graph. A package p
      strong depends on q iff p cannot be installed if q is not installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>strcnf</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>conj</b> the conjunctive graph where only conjunctive
      dependencies are considered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>dom</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T </b><i>format</i></dt>
  <dd class="It-tag">Specifies the output format to use. Default is <b>cnf</b>.
      Possible values are:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>cnf</b> output in CNF format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>dimacs</b> output in DIMACS format for CNF
    formulae.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>cudf</b> pretty-printed output in an RFC 822-like
    format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>deb</b> binary packages in deb822 format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>debsrc</b> source packages in deb822 format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>dot</b> a graph in Dot/GraphViz format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>gml</b> a graph in GML format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>grml</b> a graph in GraphML format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.</dt>
  <dd class="It-tag"><b>table</b> plain text output of three integer values: the
      universe size, the number of edges in the dependency graph, the number of
      conflicts in the universe.</dd>
</dl>
<h2 class="Ss" title="Ss" id="DEBIAN_SPECIFIC_OPTIONS"><a class="selflink" href="#DEBIAN_SPECIFIC_OPTIONS">DEBIAN
  SPECIFIC OPTIONS</a></h2>
Multi-arch annotations are handled by dose-ceve. Packages whose's architecture
  is neither the native architecture nor in the list of foreign architectures
  (see below) are ignored.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-native-arch=</b><i>name</i></dt>
  <dd class="It-tag">Specify the native architecture. The default behavior is to
      deduce the native architecture from the first package stanza in the input
      that has an architecture different from all.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-foreign-archs=</b><i>name</i> [,<i>name</i>]
    ...</dt>
  <dd class="It-tag">Specify a comma-separated list of foreign architectures.
      The default is an empty list of foreign architectures.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-ignore-essential</b></dt>
  <dd class="It-tag">By default all essential package are considered as a
      dependency of all packages in the universe. This option allows the user to
      ignore essential packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-host-arch=</b><i>name</i></dt>
  <dd class="It-tag">Native/cross compile host architecture, defaults to native
      architecture.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-builds-from</b></dt>
  <dd class="It-tag">Add builds-from relationship of binary packages on source
      packages as dependency. This allows one to create graphs for bootstrapping
      purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P, --deb-profiles=</b><i>name</i>[,<i>name</i>...]</dt>
  <dd class="It-tag">Comma separated list of activated build profiles.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-drop-b-d-indep</b></dt>
  <dd class="It-tag">Drop Build-Depends-Indep dependencies from Debian source
      packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deb-drop-b-d-arch</b></dt>
  <dd class="It-tag">Drop Build-Depends-Arch dependencies from Debian source
      packages.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Find all the reverse binary dependencies of the package <b>patchutils</b>:
<div class="Pp"></div>
<pre>
        dose-ceve --deb-native-arch amd64 -r patchutils -T deb \
                deb:///var/lib/apt/lists/*_dists_sid_main_binary-amd64_Packages \
                | grep-dctrl -n -s Package '' | sort -u
</pre>
<div class="Pp"></div>
Find all the source packages that (directly or indirectly) build depend on
  <b>patchutils</b>:
<div class="Pp"></div>
<pre>
        dose-ceve -T debsrc --deb-native-arch=amd64 -r patchutils \
                debsrc:///var/lib/apt/lists/*_dists_sid_main_source_Sources \
                deb:///var/lib/apt/lists/*_dists_sid_main_binary-amd64_Packages \
                | grep-dctrl -n -s Package '' | sort -u
</pre>
<div class="Pp"></div>
Find the source packages (-T debsrc) that have in a relation builds-from with
  all the binary package in the reverse dependency cone of <b>libssl-dev</b> (a
  specific version constraint).
<div class="Pp"></div>
<pre>
  dose-ceve --deb-builds-from --deb-native-arch=amd64 -T debsrc \
  -r 'libssl-dev (&gt;= 0.9.8)' deb://Sid-amd64-Packages-050812.bz2 \
  debsrc://Sid-Sources-050812.bz2
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-01-17</td>
    <td class="foot-os"> </td>
  </tr>
</table>
</body>
</html>
