<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:09:57 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FILTERDIFF(1) Man pages FILTERDIFF(1)</p>

<p style="margin-top: 1em">NAME <br>
filterdiff - extract or exclude diffs from a diff file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
filterdiff [[-i PATTERN] | [--include=PATTERN]] [[-I FILE] |
[--include-from-file=FILE]] [[-p n] | [--strip-match=n]]
[--strip=n] [--addprefix=PREFIX] [--addoldprefix=PREFIX]
<br>
[--addnewprefix=PREFIX] [[-x PATTERN] | [--exclude=PATTERN]]
[[-X FILE] | [--exclude-from-file=FILE]] [[-v] |
[--verbose]] [--clean] [[-z] | [--decompress]] <br>
[[-# RANGE] | [--hunks=RANGE]] [--lines=RANGE]
[--files=RANGE] [--annotate] [--format=FORMAT]
[--as-numbered-lines=WHEN] [--remove-timestamps]
[file...]</p>

<p style="margin-top: 1em">filterdiff {[--help] |
[--version] | [--list] | [--grep ...]}</p>

<p style="margin-top: 1em">DESCRIPTION <br>
You can use filterdiff to obtain a patch that applies to
files matching the shell wildcard PATTERN from a larger
collection of patches. For example, to see the patches in
<br>
patch-2.4.3.gz that apply to all files called lp.c:</p>

<p style="margin-top: 1em">filterdiff -z -i
&rsquo;*/lp.c&rsquo; patch-2.4.3.gz</p>

<p style="margin-top: 1em">If neither -i nor -x options are
given, -i &rsquo;*&rsquo; is assumed. This way filterdiff
can be used to clean up an existing diff file, removing
redundant lines from the beginning (eg. the <br>
text from the mail body) or between the chunks (eg. in CVS
diffs). To extract pure patch data, use a command like
this:</p>

<p style="margin-top: 1em">filterdiff
message-with-diff-in-the-body &gt; patch</p>

<p style="margin-top: 1em">Note that the interpretation of
the shell wildcard pattern does not count slash characters
or periods as special (in other words, no flags are given to
fnmatch). This is so that <br>
&acirc;*/basename&acirc;-type patterns can be given without
limiting the number of pathname components.</p>

<p style="margin-top: 1em">You can use both unified and
context format diffs with this program.</p>

<p style="margin-top: 1em">OPTIONS <br>
-i PATTERN, --include=PATTERN <br>
Include only files matching PATTERN. All other lines in the
input are suppressed.</p>

<p style="margin-top: 1em">-I FILE,
--include-from-file=FILE <br>
Include only files matching any pattern listed in FILE, one
pattern per line. All other lines in the input are
suppressed.</p>

<p style="margin-top: 1em">-x PATTERN, --exclude=PATTERN
<br>
Exclude files matching PATTERN. All other lines in the input
are displayed.</p>

<p style="margin-top: 1em">-X FILE,
--exclude-from-file=FILE <br>
Exclude files matching any pattern listed in FILE, one
pattern per line. All other lines in the input are
displayed.</p>

<p style="margin-top: 1em">-p n, --strip-match=n <br>
When matching, ignore the first n components of the
pathname.</p>

<p style="margin-top: 1em">-# RANGE, --hunks=RANGE <br>
Only include hunks within the specified RANGE. Hunks are
numbered from 1, and the range is a comma-separated list of
numbers or &acirc;first-last&acirc; spans; either the first
or the <br>
last in the span may be omitted to indicate no limit in that
direction.</p>

<p style="margin-top: 1em">--lines=RANGE <br>
Only include hunks that contain lines from the original file
that lie within the specified RANGE. Lines are numbered from
1, and the range is a comma-separated list of <br>
numbers or &acirc;first-last&acirc; spans; either the first
or the last in the span may be omitted to indicate no limit
in that direction.</p>

<p style="margin-top: 1em">--files=RANGE <br>
Only include files indicated by the specified RANGE. Files
are numbered from 1 in the order they appear in the patch
input, and the range is a comma-separated list of numbers
<br>
or &acirc;first-last&acirc; spans; either the first or the
last in the span may be omitted to indicate no limit in that
direction.</p>

<p style="margin-top: 1em">--annotate <br>
Annotate each hunk with the filename and hunk number.</p>

<p style="margin-top: 1em">--format=unified|context <br>
Use specified output format.</p>

<p style="margin-top: 1em">--strip=n <br>
Remove the first n components of pathnames in the
output.</p>

<p style="margin-top: 1em">--addprefix=PREFIX <br>
Prefix pathnames in the output by PREFIX. This will override
any individual settings specified with the --addoldprefix or
--addnewprefix options.</p>

<p style="margin-top: 1em">--addoldprefix=PREFIX <br>
Prefix pathnames for old or original files in the output by
PREFIX.</p>

<p style="margin-top: 1em">--addnewprefix=PREFIX <br>
Prefix pathnames for updated or new files in the output by
PREFIX.</p>


<p style="margin-top: 1em">--as-numbered-lines=before|after
<br>
Instead of a patch fragment, display the lines of the
selected hunks with the line number of the file before (or
after) the patch is applied, followed by a TAB character and
<br>
a colon, at the beginning of each line. Each hunk except the
first will have a line consisting of &acirc;...&acirc;
before it.</p>

<p style="margin-top: 1em">--remove-timestamps <br>
Do not include file timestamps in the output.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Always show non-diff lines in the output. By default,
non-diff lines are only shown when excluding a filename
pattern.</p>

<p style="margin-top: 1em">--clean <br>
Always remove all non-diff lines from the output. Even when
excluding a filename pattern.</p>

<p style="margin-top: 1em">-z, --decompress <br>
Decompress files with extensions .gz and .bz2.</p>

<p style="margin-top: 1em">--help <br>
Display a short usage message.</p>

<p style="margin-top: 1em">--version <br>
Display the version number of filterdiff.</p>

<p style="margin-top: 1em">--list <br>
Behave like lsdiff(1) instead.</p>

<p style="margin-top: 1em">--grep <br>
Behave like grepdiff(1) instead.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To see all patch hunks that affect the first five lines of a
C file:</p>

<p style="margin-top: 1em">filterdiff -i &rsquo;*.c&rsquo;
--lines=-5 &lt; patch</p>

<p style="margin-top: 1em">To see the first hunk of each
file patch, use:</p>

<p style="margin-top: 1em">filterdiff -#1 patchfile</p>

<p style="margin-top: 1em">To see patches modifying a
ChangeLog file in a subdirectory, use:</p>

<p style="margin-top: 1em">filterdiff -p1 Changelog</p>

<p style="margin-top: 1em">To see the complete patches for
each patch that modifies line 1 of the original file,
use:</p>

<p style="margin-top: 1em">filterdiff --lines=1 patchfile |
lsdiff | xargs -rn1 filterdiff patchfile -i</p>

<p style="margin-top: 1em">To see all but the first hunk of
a particular patch, you might use:</p>

<p style="margin-top: 1em">filterdiff -p1 -i file.c -#2-
foo-patch</p>

<p style="margin-top: 1em">If you have a very specific list
of hunks in a patch that you want to see, list them:</p>

<p style="margin-top: 1em">filterdiff
-#1,2,5-8,10,12,27-</p>

<p style="margin-top: 1em">To see the lines of the files
that would be patched as they will appear after the patch is
applied, use:</p>

<p style="margin-top: 1em">filterdiff
--as-numbered-lines=after patch.file</p>

<p style="margin-top: 1em">You can see the same context
before the patch is applied with:</p>

<p style="margin-top: 1em">filterdiff
--as-numbered-lines=before <br>
patch.file</p>

<p style="margin-top: 1em">Filterdiff can also be used to
convert between unified and context format diffs:</p>

<p style="margin-top: 1em">filterdiff -v --format=unified
context.diff</p>

<p style="margin-top: 1em">SEE ALSO <br>
lsdiff(1), grepdiff(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Tim Waugh &lt;twaugh@redhat.com&gt; <br>
Package maintainer</p>

<p style="margin-top: 1em">patchutils 23 Jan 2009
FILTERDIFF(1)</p>
<hr>
</body>
</html>
