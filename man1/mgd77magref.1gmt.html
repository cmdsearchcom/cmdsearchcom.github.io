<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:24:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MGD77MAGREF(1gmt) GMT MGD77MAGREF(1gmt)</p>

<p style="margin-top: 1em">NAME <br>
mgd77magref - Evaluate the IGRF or CM4 magnetic field
models</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mgd77magref [ inputfile ] [ -A[+aalt+tdate+y] ] [ -Ccm4file
] [ -DDstfile ] [ -Ef107file ] [ -Fflags ] [ -G ] [
-Sc|llow/high ] [ -V[level] ] [ -bbinary ] [ -fflags ] [
<br>
-hheaders ] [ -:[i|o] ]</p>

<p style="margin-top: 1em">Note: No space is allowed
between the option flag and the associated arguments.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
mgd77magref will evaluate the IGRF or the CM4 geomagnetic
models at the specified locations and times.</p>

<p style="margin-top: 1em">REQUIRED ARGUMENTS <br>
None.</p>

<p style="margin-top: 1em">OPTIONAL ARGUMENTS <br>
inputfile <br>
Contains the moments in space-time where we want to evaluate
the magnetic reference field. The first two columns must
contain longitude and latitude (however, see -: for <br>
latitude and longitude instead). Normally, the third and
fourth columns must contain altitude (in km) and time,
respectively, but if one or both of these are constant for
<br>
all records they can be supplied via the -A option instead
and are thus not expected in the input file. If no input
file is given we read stdin. A note about the CM4 <br>
validity domain. The core field of CM4 is valid from
1960-2002.5 but the ionospheric and magnetospheric fields
are computed after the Dst and F10.7 coefficient files. We
<br>
extended here those coefficient files up to 2006, which
means that one can compute external contributions up until
2006 but the Secular Variation will be biased (non
reli&acirc; <br>
able). New indices files may be retrieved from
from:ftp://ftp.ngdc.noaa.gov/STP/GEOMAGNETIC_DATA/INDICES/DST/
(the Dst coefficients) and <br>

http://umbra.nascom.nasa.gov/sdb/yohkoh/ys_dbase/indices_flux_raw/Penticton_Absolute/monthly/MONTHPLT.ABS
(The F10.7 index file is a MONTHPLT.ABS). NOTE: since the
Dst <br>
files in the .../DST/ directory are still only up to 2006,
for GMT4.5.3 and after we extended the Dst until August 2009
by reformatting the data in the preliminary file <br>
Est_Ist_index_0_mean.pli, which is at
ftp://ftp.ngdc.noaa.gov/STP/GEOMAGNETIC_DATA/INDICES/EST_IST/.
But since this site is now also outdated, we now get the DST
indices <br>
from http://wdc.kugi.kyoto-u.ac.jp/dstae/index.html However,
for the most recent dates those indices are &quot;Quick
Look&quot; (the best are the &quot;Definitive&quot; type).
Because the <br>
F10.7 from the MONTHPLT.ABS file mentioned above are
apparently no being updated, we found another place where
they are, which is: <br>

ftp://ftp.ngdc.noaa.gov/STP/space-weather/solar-data/solar-features/
solar-radio/noontime-flux/penticton/penticton_absolute/listings/
listing_drao_noontime-flux-abso&acirc; <br>
lute_monthly.txt</p>

<p style="margin-top: 1em">-A[+aalt+tdate+y] <br>
Adjusts how the input record is interpreted. Append +a to
set a fixed altitude (in km) that should apply to all data
records [Default expects altitude to be in the 3rd <br>
column of all records]. Append +t to set a fixed time that
should apply to all data records [Default expects time to be
in the 4th column of all records]. Finally, append <br>
+y to indicate that all times are specified as decimal years
[Default is ISO dateTcolck format, see TIME_EPOCH].</p>

<p style="margin-top: 1em">-Ccm4file <br>
Specify an alternate CM4 coefficient file [umdl.CM4].</p>

<p style="margin-top: 1em">-DDstfile <br>
Specify an alternate file with hourly means of the Dst index
for CM4 [Dst_all.wdc]. Alternatively, simply specify a
single index to apply for all records.</p>

<p style="margin-top: 1em">-Ef107file <br>
Specify an alternate file with monthly means of absolute
F10.7 solar radio flux for CM4 [F107_mon.plt].
Alternatively, simply specify a single flux to apply for all
<br>
records.</p>

<p style="margin-top: 1em">-Fflags <br>
Selects output items; flags is a string made up of one or
more of these characters:</p>

<p style="margin-top: 1em">r means output all input columns
before adding the items below</p>

<p style="margin-top: 1em">t means list total field
(nT).</p>

<p style="margin-top: 1em">h means list horizontal field
(nT).</p>

<p style="margin-top: 1em">x means list X component (nT,
positive north).</p>

<p style="margin-top: 1em">y means list Y component (nT,
positive east).</p>

<p style="margin-top: 1em">z means list Z component (nT,
positive down).</p>

<p style="margin-top: 1em">d means list declination (deg,
clockwise from north).</p>

<p style="margin-top: 1em">i means list inclination (deg,
positive down).</p>

<p style="margin-top: 1em">Append one or more number to
indicate the requested field contribution(s):</p>

<p style="margin-top: 1em">0 means IGRF field (no
combinations allowed)</p>

<p style="margin-top: 1em">1 means CM4 Core field</p>

<p style="margin-top: 1em">2 means CM4 Lithospheric
field</p>

<p style="margin-top: 1em">3 means CM4 Primary
Magnetospheric field</p>

<p style="margin-top: 1em">4 means CM4 Induced
Magnetospheric field</p>

<p style="margin-top: 1em">5 means CM4 Primary ionospheric
field</p>

<p style="margin-top: 1em">6 means CM4 Induced ionospheric
field</p>

<p style="margin-top: 1em">7 means CM4 Toroidal field</p>

<p style="margin-top: 1em">9 means Core field from IGRF and
other contributions from CM4. DO NOT USE BOTH 0 AND 9.</p>

<p style="margin-top: 1em">Appending several numbers (1-7)
will add up the different contributions. For example -Ft/12
computes the total field due to Core and Lithospheric
sources. Two special <br>
cases are allowed, which mix which Core field from IGRF and
other sources from CM4. -Ft/934 computes Core field due to
IGRF plus terms 3 and 4 from CM4 (but you can add <br>
others). -Ft/934 the same as above but output the field
components. The data is written out in the order they appear
in flags [Default is -Frthxyzdi/1].</p>

<p style="margin-top: 1em">-G Specifies that coordinates
are geocentric [geodetic].</p>

<p style="margin-top: 1em">-L Computes J field vectors from
certain external sources.</p>

<p style="margin-top: 1em">r means output all input columns
before adding the items below (all in Ampers/m).</p>

<p style="margin-top: 1em">t means list magnitude
field.</p>

<p style="margin-top: 1em">x means list X component.</p>

<p style="margin-top: 1em">y means list Y component.</p>

<p style="margin-top: 1em">z means list Z or current
function Psi.</p>

<p style="margin-top: 1em">Append a number to indicate the
requested J contribution:</p>

<p style="margin-top: 1em">1 means Induced Magnetospheric
field.</p>

<p style="margin-top: 1em">2 means Primary ionospheric
field.</p>

<p style="margin-top: 1em">3 means Induced ionospheric
field.</p>

<p style="margin-top: 1em">4 means Poloidal field.</p>

<p style="margin-top: 1em">-Sclow/high <br>
Limits the wavelengths of the core field contribution to the
band indicated by the low and high spherical harmonic order
[1/13].</p>

<p style="margin-top: 1em">-Sllow/high <br>
Limits the wavelengths of the lithosphere field contribution
to the band indicated by the low and high spherical harmonic
order [14/65].</p>

<p style="margin-top: 1em">-V[level] (more ...) <br>
Select verbosity level [c].</p>

<p style="margin-top: 1em">-bi[ncols][t] (more ...) <br>
Select native binary input. [Default is 4 input columns
unless -A is used].</p>

<p style="margin-top: 1em">-bo[ncols][type] (more ...) <br>
Select native binary output. [Default is reflected by
-F].</p>


<p style="margin-top: 1em">-h[i|o][n][+c][+d][+rremark][+rtitle]
(more ...) <br>
Skip or produce header record(s).</p>

<p style="margin-top: 1em">-:[i|o] (more ...) <br>
Swap 1st and 2nd column on input and/or output.</p>

<p style="margin-top: 1em">-^ or just - <br>
Print a short message about the syntax of the command, then
exits (NOTE: on Windows use just -).</p>

<p style="margin-top: 1em">-+ or just + <br>
Print an extensive usage (help) message, including the
explanation of any module-specific option (but not the GMT
common options), then exits.</p>

<p style="margin-top: 1em">-? or no arguments <br>
Print a complete usage (help) message, including the
explanation of options, then exits.</p>

<p style="margin-top: 1em">TIME SETTINGS <br>
If binary input files are used then absolute time are stored
as time relative to the selected epoch. However, since the
epoch used is not stored in the data files there can be <br>
problems decoding the correct time. The mgd77 supplement
uses the Unix time system as its default; thus you should
make sure that binary data files with time uses the same
system <br>
(see the GMT default TIME_SYSTEM).</p>

<p style="margin-top: 1em">EXAMPLES <br>
To get the CM4 Total field, Declination and Inclination due
to all but lithospheric and toroidal field at a one point
location and decimal time 2000.0, try</p>

<p style="margin-top: 1em">echo -28 38 0 2000.0 | gmt
mgd77magref -A+y -Ftdi/13456</p>

<p style="margin-top: 1em">To do the same as above but at
noon (Universal Time) of first May 2001, try</p>

<p style="margin-top: 1em">echo -28 38 0
2001-05-01T12:00:00 | gmt mgd77magref -Ftdi/13456</p>

<p style="margin-top: 1em">SEE ALSO <br>
gmt, mgd77info, mgd77list, mgd77manage, mgd77track,
gmt.conf</p>

<p style="margin-top: 1em">REFERENCES <br>
Comprehensive Modeling of the Geomagnetic Field, see
http://denali.gsfc.nasa.gov/cm/</p>

<p style="margin-top: 1em">The International Geomagnetic
Reference Field (IGRF), see
http://www.iugg.org/IAGA/iaga_pages/pubs_prods/igrf.htm</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2016, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and
F. Wobbe</p>

<p style="margin-top: 1em">5.3.1 Nov 05, 2016
MGD77MAGREF(1gmt)</p>
<hr>
</body>
</html>
