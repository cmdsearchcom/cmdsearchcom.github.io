<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.transform(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.transform(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.transform(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.transform</b> - Performs an affine transformation (shift, scale and
  rotate) on vector map.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, transformation, geometry, GCP
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.transform</b>
<div>&#x00A0;</div>
<b>v.transform --help</b>
<div>&#x00A0;</div>
<b>v.transform</b> [-<b>twb</b>] <b>input</b>=<i>name</i>
  [<b>layer</b>=<i>string</i>] <b>output</b>=<i>name</i>
  [<b>xshift</b>=<i>float</i>] [ <b>yshift</b>=<i>float</i>]
  [<b>zshift</b>=<i>float</i>] [ <b>xscale</b>=<i>float</i>]
  [<b>yscale</b>=<i>float</i>] [ <b>zscale</b>=<i>float</i>]
  [<b>zrotation</b>=<i>float</i>] [<b>columns</b>=<i>name</i>[,<i>name</i>,...]]
  [-- <b>overwrite</b>] [--<b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Shift all z values to bottom=0</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Swap coordinates x, y and then apply other parameters</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not build topology</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input vector map
    <div>&#x00A0;</div>
    Or data source for direct OGR access</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>layer</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer number or name (&#x2019;-1&#x2019; for all layers)
    <div>&#x00A0;</div>
    A single vector map can be connected to multiple database tables. This
      number determines which table to use. When used with direct OGR access
      this is the layer name.
    <div>&#x00A0;</div>
    Default: <i>-1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output vector map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xshift</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Shifting value for x coordinates
    <div>&#x00A0;</div>
    Default: <i>0.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>yshift</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Shifting value for y coordinates
    <div>&#x00A0;</div>
    Default: <i>0.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zshift</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Shifting value for z coordinates
    <div>&#x00A0;</div>
    Default: <i>0.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xscale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Scaling factor for x coordinates
    <div>&#x00A0;</div>
    Default: <i>1.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>yscale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Scaling factor for y coordinates
    <div>&#x00A0;</div>
    Default: <i>1.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zscale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Scaling factor for z coordinates
    <div>&#x00A0;</div>
    Default: <i>1.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zrotation</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Rotation around z axis in degrees (counter-clockwise)
    <div>&#x00A0;</div>
    Default: <i>0.0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>columns</b>=<i>name[,</i><i>name</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of attribute column(s) used as transformation parameters
    <div>&#x00A0;</div>
    Format: parameter:column, e.g. xshift:xs,yshift:ys,zrot:zr</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.transform</i> performs an affine transformation (translate and rotate) of a
  vector map. An affine transform includes one or several linear transformations
  (scaling, rotation) and translation (shifting). Several linear transformations
  can be combined in a single operation. The command can be used to georeference
  unreferenced vector maps or to modify existing geocoded maps.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Coordinate transformation based on Ground Control Points (GCPs) is done by
  <i>v.rectify</i> and not supported by <i>v.transform</i>.
<div class="Pp"></div>
Transformation parameters (i.e. <i>xshift</i>, <i>yshift</i>, etc.) can be
  fetched from attribute table connected to the vector map. In this case vector
  objects can be transformed with different parameters based on their category
  number. If the parameter cannot be fetched from the table, default value is
  used instead.
<div class="Pp"></div>
Note that the transformation matrix can be printed by <i>m.transform</i>.
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
<h2 class="Ss" title="Ss" id="DXF/DWG_drawings"><a class="selflink" href="#DXF/DWG_drawings">DXF/DWG
  drawings</a></h2>
Most DXF/DWG drawings are done within XY coordinate space. To transform them to
  a national grid, we can use <i>v.transform</i> together with <i>v.rectify</i>
  and a first-order transformation.
<div>&#x00A0;</div>
<pre>
v.transform -t in=watertowerXY out=watertower_z zscale=0.04 zshift=1320
v.rectify in=watertower_z out=watertowerUTM points=wt.points order=1
</pre>
<h2 class="Ss" title="Ss" id="Extrude_2D_vector_points_to_3D_based_on_attribute_column_values"><a class="selflink" href="#Extrude_2D_vector_points_to_3D_based_on_attribute_column_values">Extrude
  2D vector points to 3D based on attribute column values</a></h2>
Spearfish example with manual table editing for vertical shift:
<div>&#x00A0;</div>
<pre>
# work on own map copy:
g.copy vect=archsites@PERMANENT,myarchsites
# add new &#x2019;zs&#x2019; column to later store height of each site:
v.db.addcolumn myarchsites col=&quot;zs double precision&quot;
v.db.update myarchsites layer=1 column=zs value=&quot;cat * 1000&quot;
# perform z transformation:
v.transform -t input=archsites output=myarchsites3d column=&quot;zshift:zs&quot; table=&quot;archsites_t&quot;
# drop table containing transformation parameters:
echo &quot;drop table archsites_t&quot; | db.execute
</pre>
The resulting map is a 3D vector map.
<h2 class="Ss" title="Ss" id="Extrude_2D_vector_points_to_3D_based_on_attribute_column_values"><a class="selflink" href="#Extrude_2D_vector_points_to_3D_based_on_attribute_column_values">Extrude
  2D vector points to 3D based on attribute column values</a></h2>
Spearfish example with automated elevation extraction for vertical shift:
<div>&#x00A0;</div>
<pre>
# work on own map copy:
g.copy vect=archsites@PERMANENT,myarchsites
# add new &#x2019;zs&#x2019; column to later store height of each site:
v.db.addcolumn myarchsites col=&quot;zs double precision&quot;
# set region to elevation map and fetch individual heights:
g.region raster=elevation.10m -p
v.what.rast myarchsites rast=elevation.10m col=zs
# verify:
v.db.select myarchsites
# perform transformation to 3D
v.transform -t myarchsites output=myarchsites3d column=&quot;zshift:zs&quot; layer=1
# drop table containing transformation parameters
v.db.dropcolumn myarchsites3d col=zs
</pre>
The resulting map is a 3D vector map.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>m.transform,</i> <i>i.rectify,</i> <i>v.rectify,</i> <i>r.region</i>
  <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Radim Blazek, ITC-irst, Trento, Italy,
<div>&#x00A0;</div>
Column support added by Martin Landa, FBK-irst (formerly ITC-irst), Trento,
  Italy (2007/09)
<div class="Pp"></div>
<i>Last changed: $Date: 2015-08-07 05:24:55 +0200 (Fri, 07 Aug 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.transform source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
