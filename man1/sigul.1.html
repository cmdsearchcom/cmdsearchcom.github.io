<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>sigul(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">sigul(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">sigul(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="name"><a class="selflink" href="#name">name</a></h1>
sigul - A client for accessing a signing server
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>sigul</b> [<i>OPTIONS</i>] [<i>COMMAND</i> [<i>COMMAND-ARGS...</i>]]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Connects to a sigul server through a sigul bridge to perform <i>COMMAND</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The global <b>sigul</b> <i>OPTIONS</i> above are distinct from
  <i>COMMAND</i>-specific options. Only options preceding <i>COMMAND</i> on the
  command line are treated as global <i>OPTIONS</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help-commands</b></dt>
  <dd class="It-tag">List recognized <i>COMMAND</i>s.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--batch</b></dt>
  <dd class="It-tag">Be more suitable for batch processing: Instead of reading
      passwords from <b>/dev/tty</b>, read them from the standard input. Each
      password on standard input is terminated by a NUL (0) byte. The passwords
      are expected in the same order as when <b>--batch</b> is not specified,
      except that a new password is expected only once, not twice.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--config-file</b> <i>PATH</i></dt>
  <dd class="It-tag">Use <i>PATH</i> as the per-user configuration file instead
      of <b>~/.sigul/client.conf</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>, <b>--user-name </b><i>USER</i><b></b></dt>
  <dd class="It-tag">Use <i>USER</i> as the user name sent to the server,
      overriding the value set in the configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Be more verbose. Using this option twice enables debugging
      output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<b>sigul</b> returns with exit status 0 on success, non-zero on error.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ADMINISTRATIVE_COMMANDS"><a class="selflink" href="#ADMINISTRATIVE_COMMANDS">ADMINISTRATIVE
  COMMANDS</a></h1>
These commands are only available to signing server administrators, identified
  with a personal password.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list-users</b></dt>
  <dd class="It-tag">List users recognized by the server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>new-user</b> [<b>--admin</b>] [<b>--with-password</b>]
    <i>USER</i></dt>
  <dd class="It-tag">Add <i>USER</i> to the server. The user will be a server
      administrator if <b>--admin</b> is specified, and will have a personal
      password defined if <b>--with-password</b> is specified.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete-user</b> <i>USER</i></dt>
  <dd class="It-tag">Delete <i>USER</i> on the server. This operation is allowed
      only after all key access right were revoked from <i>USER</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>user-info</b> <i>USER</i></dt>
  <dd class="It-tag">Show information about <i>USER</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>modify-user</b> [<b>--admin</b> {<b>yes</b>|<b>no</b>}]
    [ <b>--new-name</b> <i>NEW_NAME</i>] [<b>--change-password</b>]
    <i>USER</i></dt>
  <dd class="It-tag">Modify <i>USER</i> according to the specified options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>key-user-info</b> <i>USER</i> <i>KEY</i></dt>
  <dd class="It-tag">Show whether <i>USER</i> has access to <i>KEY</i> and
      whether the user is an administrator for this key.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>modify-key-user</b> [<b>--key-admin</b>
    {<b>yes</b>|<b>no</b>}] <i>USER</i> <i>KEY</i></dt>
  <dd class="It-tag">Modify the access of <i>USER</i> to <i>KEY</i> according to
      the specified options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list-keys</b></dt>
  <dd class="It-tag">List keys stored on the server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>new-key</b> [<b>--key-admin</b> <i>USER</i>]
    [<b>--name-real</b> <i>REAL_NAME</i>] [<b>--name-comment</b> <i>COMMENT</i>]
    [ <b>--name-email</b> <i>EMAIL</i>] [<b>--expire-date</b>
    <i>YYYY</i><b>-</b> <i>MM</i><b>-</b><i>DD</i>] <i>KEY</i></dt>
  <dd class="It-tag">Create a new key <i>KEY</i> on the server, using the
      specified name and expiry information, and write the public key to
      standard output.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>USER</i> is specified, make him the key administrator and only user
      instead of the invoking user. This is only this user and the users this
      user grants access can use the key; even signing server administrators can
      not use the key without knowing a key passphrase of one of the authorized
      key users.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import-key</b> [<b>--key-admin</b> <i>USER</i>]
    <i>KEY</i> <i>KEY_FILE</i></dt>
  <dd class="It-tag">Import a public and private key from <i>KEY_FILE</i> to the
      server, naming it <i>KEY</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>USER</i> is specified, make him the key administrator and only user
      instead of the invoking user. This is only this user and the users this
      user grants access can use the key; even signing server administrators can
      not use the key without knowing a key passphrase of one of the authorized
      key users.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>KEY_FILE</i> should be created using the following command:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="margin-left: 5.00ex;"><b>gpg --export-secret-key</b> <i>KEY_ID</i>
  <b>&gt;</b> <i>KEY_FILE</i></div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete-key</b> <i>KEY</i></dt>
  <dd class="It-tag">Delete <i>KEY</i> from the server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>modify-key</b> [<b>--new-name</b> <i>NEW_NAME</i>]
    <i>KEY</i></dt>
  <dd class="It-tag">Modify <i>KEY</i> according to the specified options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="KEY_ADMINISTRATION_COMMANDS"><a class="selflink" href="#KEY_ADMINISTRATION_COMMANDS">KEY
  ADMINISTRATION COMMANDS</a></h1>
These commands are available to key administrators, identified with a key
  passphrase. Some of the commands support a <b>--password</b> option; these
  commands also available to signing server administrators, identified by their
  personal password.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list-key-users</b> [<b>--password</b>] <i>KEY</i></dt>
  <dd class="It-tag">List users that have access to <i>KEY</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grant-key-access</b> <i>KEY</i> <i>USER</i></dt>
  <dd class="It-tag">Grant access to <i>KEY</i> to <i>USER</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>revoke-key-access</b> [<b>--password</b>] <i>KEY</i>
    <i>USER</i></dt>
  <dd class="It-tag">Revoke access to <i>KEY</i> from <i>USER</i>. This command
      can not revoke access from the last user of <i>KEY</i>: you must delete
      <i>KEY</i> instead.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="USER_COMMANDS"><a class="selflink" href="#USER_COMMANDS">USER
  COMMANDS</a></h1>
These commands are available to key users, identified with a key passphrase.
  Some of the commands support a <b>--password</b> option; these commands also
  available to signing server administrators, identified by their personal
  password.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get-public-key</b> [<b>--password</b>] <i>KEY</i></dt>
  <dd class="It-tag">Write the public key for <i>KEY</i> to standard output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>change-passphrase</b> <i>KEY</i></dt>
  <dd class="It-tag">Change the user's passphrase for <i>KEY</i>. Each user has
      a separate passphrase for each <i>KEY</i> they have access to.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sign-text</b> [<b>--output</b> <i>OUTPUT</i>] <i>KEY</i>
    <i>INPUT_FILE</i></dt>
  <dd class="It-tag">Wrap <i>INPUT_FILE</i> in a clear-text signature, and write
      it to <i>OUTPUT</i>. If <i>OUTPUT</i> is not defined, write the signed
      text to standard output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sign-data</b> [<b>--output</b> <i>OUTPUT</i>] <i>KEY</i>
    <i>INPUT_FILE</i></dt>
  <dd class="It-tag">Create a detached signature for <i>INTPUT_FILE</i> and
      write it to <i>OUTPUT</i>. If <i>OUTPUT</i> is not defined, write the
      signed text to standard output, which must not be a terminal.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sign-rpm</b> [<b>--output</b> <i>OUTPUT</i>]
    [<b>--store-in-koji</b>] [ <b>--koji-only</b>] [<b>--koji-instance</b>
    <i>INSTANCE</i>] [ <b>--v3-signature</b>] <i>KEY</i> <i>RPM_ID</i></dt>
  <dd class="It-tag">Sign the rpm specified by <i>RPM_ID</i>. <i>RPM_ID</i> can
      either be a path to a RPM file, or a
      <i>name</i><b>-</b><i>epoch</i><b>:</b>
      <i>version</i><b>-</b><i>release</i> <b>.</b><i>arch</i> string that
      specifies a RPM stored in Koji.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <b>--store-in-koji</b> is specified, store the generated signature to
      Koji. Unless <b>--koji-only</b> is specified, write a signed RPM file to
      <i>OUTPUT</i>, and if <i>OUTPUT</i> is not defined, write it to standard
      output,
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--koji-instance</i> option can be used to perform the operation using
      a different Koji instance, if it was set up in the configuration files of
      both the client and the bridge.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use a PGP version 3 format signatue if <b>--v3-signature</b> is specified.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sign-rpms</b> [<b>--output</b> <i>DIR</i>]
    [<b>--store-in-koji</b>] [ <b>--koji-only</b>] [<b>--koji-instance</b>
    <i>INSTANCE</i>] [ <b>--v3-signature</b>] <i>KEY</i> <i>RPM_ID...</i></dt>
  <dd class="It-tag">Sign one or more rpms specified by <i>RPM_ID</i>. Each
      <i>RPM_ID</i> can either be a path to a RPM file, or a
      <i>name</i><b>-</b><i>epoch</i><b>:</b><i>version</i><b>-</b><i>release</i><b>.</b><i>arch</i>
      string that specifies a RPM stored in Koji.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <b>--store-in-koji</b> is specified, store the generated signature to
      Koji. If <b>--koji-only</b> is not specified, the <b>--output</b> option
      is mandatory, and each signed RPM will be stored as a file in the
      <i>DIR</i> directory.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--koji-instance</i> option can be used to perform the operation using
      a different Koji instance, if it was set up in the configuration files of
      both the client and the bridge.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use a PGP version 3 format signatue if <b>--v3-signature</b> is specified.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/sigul/client.conf</b></dt>
  <dd class="It-tag">A system-wide configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~/.sigul/client.conf</b></dt>
  <dd class="It-tag">A per-user configuration file. Values defined in this file
      override the system-wide configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Miloslav Trmac &lt;mitr@redhat.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>sigul_setup-client</b>(1), <b>sigul_bridge</b>(8),
  <b>sigul_server</b>(8)</div>
<table class="foot">
  <tr>
    <td class="foot-date">Jan 2011</td>
    <td class="foot-os">sigul</td>
  </tr>
</table>
</body>
</html>
