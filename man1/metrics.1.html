<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:24:25 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>METRICS(1) Metrics METRICS(1)</p>

<p style="margin-top: 1em">NAME <br>
metrics - Metrics Documentation</p>

<p style="margin-top: 1em">Metrics provides a powerful
toolkit of ways to measure the behavior of critical
components in your production environment.</p>

<p style="margin-top: 1em">With modules for common
libraries like Jetty, Logback, Log4j, Apache HttpClient,
Ehcache, JDBI, Jersey and reporting backends like Ganglia
and Graphite, Metrics provides you with <br>
full-stack visibility.</p>

<p style="margin-top: 1em">GETTING STARTED <br>
Getting Started will guide you through the process of adding
Metrics to an existing application. We&rsquo;ll go through
the various measuring instruments that Metrics provides, how
to <br>
use them, and when they&rsquo;ll come in handy..SS Setting
Up Maven</p>

<p style="margin-top: 1em">You need the metrics-core
library as a dependency:</p>

<p style="margin-top: 1em">&lt;dependencies&gt; <br>
&lt;dependency&gt; <br>
&lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt; <br>
&lt;artifactId&gt;metrics-core&lt;/artifactId&gt; <br>
&lt;version&gt;${metrics.version}&lt;/version&gt; <br>
&lt;/dependency&gt; <br>
&lt;/dependencies&gt;</p>

<p style="margin-top: 1em">NOTE: <br>
Make sure you have a metrics.version property declared in
your POM with the current version, which is 3.1.0.</p>

<p style="margin-top: 1em">Now it&rsquo;s time to add some
metrics to your application!</p>

<p style="margin-top: 1em">Meters <br>
A meter measures the rate of events over time (e.g.,
&quot;requests per second&quot;). In addition to the mean
rate, meters also track 1-, 5-, and 15-minute moving
averages.</p>

<p style="margin-top: 1em">private final Meter requests =
metrics.meter(&quot;requests&quot;);</p>

<p style="margin-top: 1em">public void
handleRequest(Request request, Response response) { <br>
requests.mark(); <br>
// etc <br>
}</p>

<p style="margin-top: 1em">This meter will measure the rate
of requests in requests per second.</p>

<p style="margin-top: 1em">Console Reporter <br>
A Console Reporter is exactly what it sounds like - report
to the console. This reporter will print every second.</p>

<p style="margin-top: 1em">ConsoleReporter reporter =
ConsoleReporter.forRegistry(metrics) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.build(); <br>
reporter.start(1, TimeUnit.SECONDS);</p>

<p style="margin-top: 1em">Complete getting started <br>
So the complete Getting Started is</p>

<p style="margin-top: 1em">package sample; <br>
import com.codahale.metrics.*; <br>
import java.util.concurrent.TimeUnit;</p>

<p style="margin-top: 1em">public class GetStarted { <br>
static final MetricRegistry metrics = new MetricRegistry();
<br>
public static void main(String args[]) { <br>
startReport(); <br>
Meter requests = metrics.meter(&quot;requests&quot;); <br>
requests.mark(); <br>
wait5Seconds(); <br>
}</p>

<p style="margin-top: 1em">static void startReport() { <br>
ConsoleReporter reporter =
ConsoleReporter.forRegistry(metrics) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.build(); <br>
reporter.start(1, TimeUnit.SECONDS); <br>
}</p>

<p style="margin-top: 1em">static void wait5Seconds() {
<br>
try { <br>
Thread.sleep(5*1000); <br>
} <br>
catch(InterruptedException e) {} <br>
} <br>
}</p>

<p style="margin-top: 1em">&lt;?xml version=&quot;1.0&quot;
encoding=&quot;UTF-8&quot;?&gt; <br>
&lt;project
xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; <br>
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</p>


<p style="margin-top: 1em">&lt;groupId&gt;somegroup&lt;/groupId&gt;
<br>
&lt;artifactId&gt;sample&lt;/artifactId&gt; <br>
&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; <br>
&lt;name&gt;Example project for Metrics&lt;/name&gt;</p>

<p style="margin-top: 1em">&lt;dependencies&gt; <br>
&lt;dependency&gt; <br>
&lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt; <br>
&lt;artifactId&gt;metrics-core&lt;/artifactId&gt; <br>
&lt;version&gt;${metrics.version}&lt;/version&gt; <br>
&lt;/dependency&gt; <br>
&lt;/dependencies&gt; <br>
&lt;/project&gt;</p>

<p style="margin-top: 1em">NOTE: <br>
Make sure you have a metrics.version property declared in
your POM with the current version, which is 3.1.0.</p>

<p style="margin-top: 1em">To run</p>

<p style="margin-top: 1em">mvn package exec:java
-Dexec.mainClass=sample.First</p>

<p style="margin-top: 1em">The Registry <br>
The centerpiece of Metrics is the MetricRegistry class,
which is the container for all your application&rsquo;s
metrics. Go ahead and create a new one:</p>

<p style="margin-top: 1em">final MetricRegistry metrics =
new MetricRegistry();</p>

<p style="margin-top: 1em">You&rsquo;ll probably want to
integrate this into your application&rsquo;s lifecycle
(maybe using your dependency injection framework), but
static field is fine.</p>

<p style="margin-top: 1em">Gauges <br>
A gauge is an instantaneous measurement of a value. For
example, we may want to measure the number of pending jobs
in a queue:</p>

<p style="margin-top: 1em">public class QueueManager { <br>
private final Queue queue;</p>

<p style="margin-top: 1em">public
QueueManager(MetricRegistry metrics, String name) { <br>
this.queue = new Queue(); <br>
metrics.register(MetricRegistry.name(QueueManager.class,
name, &quot;size&quot;), <br>
new Gauge&lt;Integer&gt;() { <br>
@Override <br>
public Integer getValue() { <br>
return queue.size(); <br>
} <br>
}); <br>
} <br>
}</p>

<p style="margin-top: 1em">When this gauge is measured, it
will return the number of jobs in the queue.</p>

<p style="margin-top: 1em">Every metric in a registry has a
unique name, which is just a dotted-name string like
&quot;things.count&quot; or
&quot;com.example.Thing.latency&quot;. MetricRegistry has a
static helper method for <br>
constructing these names:</p>


<p style="margin-top: 1em">MetricRegistry.name(QueueManager.class,
&quot;jobs&quot;, &quot;size&quot;)</p>

<p style="margin-top: 1em">This will return a string with
something like
&quot;com.example.QueueManager.jobs.size&quot;.</p>

<p style="margin-top: 1em">For most queue and queue-like
structures, you won&rsquo;t want to simply return
queue.size(). Most of java.util and java.util.concurrent
have implementations of #size() which are O(n), <br>
which means your gauge will be slow (potentially while
holding a lock).</p>

<p style="margin-top: 1em">Counters <br>
A counter is just a gauge for an AtomicLong instance. You
can increment or decrement its value. For example, we may
want a more efficient way of measuring the pending job in a
<br>
queue:</p>

<p style="margin-top: 1em">private final Counter
pendingJobs = metrics.counter(name(QueueManager.class,
&quot;pending-jobs&quot;));</p>

<p style="margin-top: 1em">public void addJob(Job job) {
<br>
pendingJobs.inc(); <br>
queue.offer(job); <br>
}</p>

<p style="margin-top: 1em">public Job takeJob() { <br>
pendingJobs.dec(); <br>
return queue.take(); <br>
}</p>

<p style="margin-top: 1em">Every time this counter is
measured, it will return the number of jobs in the
queue.</p>

<p style="margin-top: 1em">As you can see, the API for
counters is slightly different: #counter(String) instead of
#register(String, Metric). While you can use register and
create your own Counter <br>
instance, #counter(String) does all the work for you, and
allows you to reuse metrics with the same name.</p>

<p style="margin-top: 1em">Also, we&rsquo;ve statically
imported MetricRegistry&rsquo;s name method in this scope to
reduce clutter.</p>

<p style="margin-top: 1em">Histograms <br>
A histogram measures the statistical distribution of values
in a stream of data. In addition to minimum, maximum, mean,
etc., it also measures median, 75th, 90th, 95th, 98th, <br>
99th, and 99.9th percentiles.</p>

<p style="margin-top: 1em">private final Histogram
responseSizes = metrics.histogram(name(RequestHandler.class,
&quot;response-sizes&quot;));</p>

<p style="margin-top: 1em">public void
handleRequest(Request request, Response response) { <br>
// etc <br>
responseSizes.update(response.getContent().length); <br>
}</p>

<p style="margin-top: 1em">This histogram will measure the
size of responses in bytes.</p>

<p style="margin-top: 1em">Timers <br>
A timer measures both the rate that a particular piece of
code is called and the distribution of its duration.</p>

<p style="margin-top: 1em">private final Timer responses =
metrics.timer(name(RequestHandler.class,
&quot;responses&quot;));</p>

<p style="margin-top: 1em">public String
handleRequest(Request request, Response response) { <br>
final Timer.Context context = responses.time(); <br>
try { <br>
// etc; <br>
return &quot;OK&quot;; <br>
} finally { <br>
context.stop(); <br>
} <br>
}</p>

<p style="margin-top: 1em">This timer will measure the
amount of time it takes to process each request in
nanoseconds and provide a rate of requests in requests per
second.</p>

<p style="margin-top: 1em">Health Checks <br>
Metrics also has the ability to centralize your
service&rsquo;s health checks with the metrics-healthchecks
module.</p>

<p style="margin-top: 1em">First, create a new
HealthCheckRegistry instance:</p>

<p style="margin-top: 1em">final HealthCheckRegistry
healthChecks = new HealthCheckRegistry();</p>

<p style="margin-top: 1em">Second, implement a HealthCheck
subclass:</p>

<p style="margin-top: 1em">public class DatabaseHealthCheck
extends HealthCheck { <br>
private final Database database;</p>

<p style="margin-top: 1em">public
DatabaseHealthCheck(Database database) { <br>
this.database = database; <br>
}</p>

<p style="margin-top: 1em">@Override <br>
public HealthCheck.Result check() throws Exception { <br>
if (database.isConnected()) { <br>
return HealthCheck.Result.healthy(); <br>
} else { <br>
return HealthCheck.Result.unhealthy(&quot;Cannot connect to
&quot; + database.getUrl()); <br>
} <br>
} <br>
}</p>

<p style="margin-top: 1em">Then register an instance of it
with Metrics:</p>


<p style="margin-top: 1em">healthChecks.register(&quot;postgres&quot;,
new DatabaseHealthCheck(database));</p>

<p style="margin-top: 1em">To run all of the registered
health checks:</p>

<p style="margin-top: 1em">final Map&lt;String,
HealthCheck.Result&gt; results =
healthChecks.runHealthChecks(); <br>
for (Entry&lt;String, HealthCheck.Result&gt; entry :
results.entrySet()) { <br>
if (entry.getValue().isHealthy()) { <br>
System.out.println(entry.getKey() + &quot; is
healthy&quot;); <br>
} else { <br>
System.err.println(entry.getKey() + &quot; is UNHEALTHY:
&quot; + entry.getValue().getMessage()); <br>
final Throwable e = entry.getValue().getError(); <br>
if (e != null) { <br>
e.printStackTrace(); <br>
} <br>
} <br>
}</p>

<p style="margin-top: 1em">Metrics comes with a pre-built
health check: ThreadDeadlockHealthCheck, which uses
Java&rsquo;s built-in thread deadlock detection to determine
if any threads are deadlocked.</p>

<p style="margin-top: 1em">Reporting Via JMX <br>
To report metrics via JMX:</p>

<p style="margin-top: 1em">final JmxReporter reporter =
JmxReporter.forRegistry(registry).build(); <br>
reporter.start();</p>

<p style="margin-top: 1em">Once the reporter is started,
all of the metrics in the registry will become visible via
JConsole or VisualVM (if you install the MBeans plugin):
[image: Metrics exposed as JMX <br>
MBeans being viewed in VisualVM&rsquo;s MBeans browser]
[image]</p>

<p style="margin-top: 1em">TIP: <br>
If you double-click any of the metric properties, VisualVM
will start graphing the data for that property. Sweet,
eh?</p>

<p style="margin-top: 1em">Reporting Via HTTP <br>
Metrics also ships with a servlet (AdminServlet) which will
serve a JSON representation of all registered metrics. It
will also run health checks, print out a thread dump, and
<br>
provide a simple &quot;ping&quot; response for
load-balancers. (It also has single
servlets--MetricsServlet, HealthCheckServlet,
ThreadDumpServlet, and PingServlet--which do these
individ&acirc; <br>
ual tasks.)</p>

<p style="margin-top: 1em">To use this servlet, include the
metrics-servlets module as a dependency:</p>

<p style="margin-top: 1em">&lt;dependency&gt; <br>
&lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt; <br>
&lt;artifactId&gt;metrics-servlets&lt;/artifactId&gt; <br>
&lt;version&gt;${metrics.version}&lt;/version&gt; <br>
&lt;/dependency&gt;</p>

<p style="margin-top: 1em">NOTE: <br>
Make sure you have a metrics.version property declared in
your POM with the current version, which is 3.1.0.</p>

<p style="margin-top: 1em">From there on, you can map the
servlet to whatever path you see fit.</p>

<p style="margin-top: 1em">Other Reporting <br>
In addition to JMX and HTTP, Metrics also has reporters for
the following outputs:</p>

<p style="margin-top: 1em">&Acirc;&middot; STDOUT, using
ConsoleReporter from metrics-core</p>

<p style="margin-top: 1em">&Acirc;&middot; CSV files, using
CsvReporter from metrics-core</p>

<p style="margin-top: 1em">&Acirc;&middot; SLF4J loggers,
using Slf4jReporter from metrics-core</p>

<p style="margin-top: 1em">&Acirc;&middot; Ganglia, using
GangliaReporter from metrics-ganglia</p>

<p style="margin-top: 1em">&Acirc;&middot; Graphite, using
GraphiteReporter from metrics-graphite</p>

<p style="margin-top: 1em">USER MANUAL <br>
This goal of this document is to provide you with all the
information required to effectively use the Metrics library
in your application. If you&rsquo;re new to Metrics, you
should <br>
read the getting-started guide first..SS Metrics Core</p>

<p style="margin-top: 1em">The central library for Metrics
is metrics-core, which provides some basic
functionality:</p>

<p style="margin-top: 1em">&Acirc;&middot; Metric
registries.</p>

<p style="margin-top: 1em">&Acirc;&middot; The five metric
types: Gauges, Counters, Histograms, Meters, and Timers.</p>

<p style="margin-top: 1em">&Acirc;&middot; Reporting
metrics values via JMX, the console, CSV files, and SLF4J
loggers.</p>

<p style="margin-top: 1em">Metric Registries <br>
The starting point for Metrics is the MetricRegistry class,
which is a collection of all the metrics for your
application (or a subset of your application). If your
application <br>
is running alongside other applications in a single JVM
instance (e.g., multiple WARs deployed to an application
server), you should use per-application MetricRegistry
instances <br>
with different names.</p>

<p style="margin-top: 1em">Metric Names <br>
Each metric has a unique name, which is a simple dotted
name, like com.example.Queue.size. This flexibility allows
you to encode a wide variety of context directly into a
met&acirc; <br>
ric&rsquo;s name. If you have two instances of
com.example.Queue, you can give them more specific:
com.example.Queue.requests.size vs.
com.example.Queue.responses.size, for example.</p>

<p style="margin-top: 1em">MetricRegistry has a set of
static helper methods for easily creating names:</p>


<p style="margin-top: 1em">MetricRegistry.name(Queue.class,
&quot;requests&quot;, &quot;size&quot;) <br>
MetricRegistry.name(Queue.class, &quot;responses&quot;,
&quot;size&quot;)</p>

<p style="margin-top: 1em">These methods will also elide
any null values, allowing for easy optional scopes.</p>

<p style="margin-top: 1em">Gauges <br>
A gauge is the simplest metric type. It just returns a
value. If, for example, your application has a value which
is maintained by a third-party library, you can easily
expose it <br>
by registering a Gauge instance which returns that
value:</p>


<p style="margin-top: 1em">registry.register(name(SessionStore.class,
&quot;cache-evictions&quot;), new Gauge&lt;Integer&gt;() {
<br>
@Override <br>
public Integer getValue() { <br>
return cache.getEvictionsCount(); <br>
} <br>
});</p>

<p style="margin-top: 1em">This will create a new gauge
named com.example.proj.auth.SessionStore.cache-evictions
which will return the number of evictions from the
cache.</p>

<p style="margin-top: 1em">JMX Gauges <br>
Given that many third-party library often expose metrics
only via JMX, Metrics provides the JmxAttributeGauge class,
which takes the object name of a JMX MBean and the name of
an <br>
attribute and produces a gauge implementation which returns
the value of that attribute:</p>


<p style="margin-top: 1em">registry.register(name(SessionStore.class,
&quot;cache-evictions&quot;), <br>
new
JmxAttributeGauge(&quot;net.sf.ehcache:type=Cache,scope=sessions,name=eviction-count&quot;,
&quot;Value&quot;));</p>

<p style="margin-top: 1em">Ratio Gauges <br>
A ratio gauge is a simple way to create a gauge which is the
ratio between two numbers:</p>

<p style="margin-top: 1em">public class CacheHitRatio
extends RatioGauge { <br>
private final Meter hits; <br>
private final Timer calls;</p>

<p style="margin-top: 1em">public CacheHitRatio(Meter hits,
Timer calls) { <br>
this.hits = hits; <br>
this.calls = calls; <br>
}</p>

<p style="margin-top: 1em">@Override <br>
public Ratio getRatio() { <br>
return Ratio.of(hits.getOneMinuteRate(), <br>
calls.getOneMinuteRate()); <br>
} <br>
}</p>

<p style="margin-top: 1em">This gauge returns the ratio of
cache hits to misses using a meter and a timer.</p>

<p style="margin-top: 1em">Cached Gauges <br>
A cached gauge allows for a more efficient reporting of
values which are expensive to calculate:</p>


<p style="margin-top: 1em">registry.register(name(Cache.class,
cache.getName(), &quot;size&quot;), <br>
new CachedGauge&lt;Long&gt;(10, TimeUnit.MINUTES) { <br>
@Override <br>
protected Long loadValue() { <br>
// assume this does something which takes a long time <br>
return cache.getSize(); <br>
} <br>
});</p>

<p style="margin-top: 1em">Derivative Gauges <br>
A derivative gauge allows you to derive values from other
gauges&rsquo; values:</p>

<p style="margin-top: 1em">public class CacheSizeGauge
extends DerivativeGauge&lt;CacheStats, Long&gt; { <br>
public CacheSizeGauge(Gauge&lt;CacheStats&gt; statsGauge) {
<br>
super(statsGauge); <br>
}</p>

<p style="margin-top: 1em">@Override <br>
protected Long transform(CacheStats stats) { <br>
return stats.getSize(); <br>
} <br>
}</p>

<p style="margin-top: 1em">Counters <br>
A counter is a simple incrementing and decrementing 64-bit
integer:</p>

<p style="margin-top: 1em">final Counter evictions =
registry.counter(name(SessionStore.class,
&quot;cache-evictions&quot;)); <br>
evictions.inc(); <br>
evictions.inc(3); <br>
evictions.dec(); <br>
evictions.dec(2);</p>

<p style="margin-top: 1em">All Counter metrics start out at
0.</p>

<p style="margin-top: 1em">Histograms <br>
A Histogram measures the distribution of values in a stream
of data: e.g., the number of results returned by a
search:</p>

<p style="margin-top: 1em">final Histogram resultCounts =
registry.histogram(name(ProductDAO.class,
&quot;result-counts&quot;); <br>
resultCounts.update(results.size());</p>

<p style="margin-top: 1em">Histogram metrics allow you to
measure not just easy things like the min, mean, max, and
standard deviation of values, but also quantiles like the
median or 95th percentile.</p>

<p style="margin-top: 1em">Traditionally, the way the
median (or any other quantile) is calculated is to take the
entire data set, sort it, and take the value in the middle
(or 1% from the end, for the <br>
99th percentile). This works for small data sets, or batch
processing systems, but not for high-throughput, low-latency
services.</p>

<p style="margin-top: 1em">The solution for this is to
sample the data as it goes through. By maintaining a small,
manageable reservoir which is statistically representative
of the data stream as a whole, <br>
we can quickly and easily calculate quantiles which are
valid approximations of the actual quantiles. This technique
is called reservoir sampling.</p>

<p style="margin-top: 1em">Metrics provides a number of
different Reservoir implementations, each of which is
useful.</p>

<p style="margin-top: 1em">Uniform Reservoirs <br>
A histogram with a uniform reservoir produces quantiles
which are valid for the entirely of the histogram&rsquo;s
lifetime. It will return a median value, for example, which
is the <br>
median of all the values the histogram has ever been updated
with. It does this by using an algorithm called
Vitter&rsquo;s R), which randomly selects values for the
reservoir with <br>
linearly-decreasing probability.</p>

<p style="margin-top: 1em">Use a uniform histogram when
you&rsquo;re interested in long-term measurements.
Don&rsquo;t use one where you&rsquo;d want to know if the
distribution of the underlying data stream has changed <br>
recently.</p>

<p style="margin-top: 1em">Exponentially Decaying
Reservoirs <br>
A histogram with an exponentially decaying reservoir
produces quantiles which are representative of (roughly) the
last five minutes of data. It does so by using a <br>
forward-decaying priority reservoir with an exponential
weighting towards newer data. Unlike the uniform reservoir,
an exponentially decaying reservoir represents recent data,
<br>
allowing you to know very quickly if the distribution of the
data has changed. Timers use histograms with exponentially
decaying reservoirs by default.</p>

<p style="margin-top: 1em">Sliding Window Reservoirs <br>
A histogram with a sliding window reservoir produces
quantiles which are representative of the past N
measurements.</p>

<p style="margin-top: 1em">Sliding Time Window Reservoirs
<br>
A histogram with a sliding time window reservoir produces
quantiles which are strictly representative of the past N
seconds (or other time period).</p>

<p style="margin-top: 1em">WARNING: <br>
While SlidingTimeWindowReservoir is easier to understand
than ExponentiallyDecayingReservoir, it is not bounded in
size, so using it to sample a high-frequency process can
<br>
require a significant amount of memory. Because it records
every measurement, it&rsquo;s also the slowest reservoir
type.</p>

<p style="margin-top: 1em">Meters <br>
A meter measures the rate at which a set of events
occur:</p>

<p style="margin-top: 1em">final Meter getRequests =
registry.meter(name(WebProxy.class,
&quot;get-requests&quot;, &quot;requests&quot;)); <br>
getRequests.mark(); <br>
getRequests.mark(requests.size());</p>

<p style="margin-top: 1em">Meters measure the rate of the
events in a few different ways. The mean rate is the average
rate of events. It&rsquo;s generally useful for trivia, but
as it represents the total rate <br>
for your application&rsquo;s entire lifetime (e.g., the
total number of requests handled, divided by the number of
seconds the process has been running), it doesn&rsquo;t
offer a sense of <br>
recency. Luckily, meters also record three different
exponentially-weighted moving average rates: the 1-, 5-, and
15-minute moving averages.</p>

<p style="margin-top: 1em">HINT: <br>
Just like the Unix load averages visible in uptime or
top.</p>

<p style="margin-top: 1em">Timers <br>
A timer is basically a histogram of the duration of a type
of event and a meter of the rate of its occurrence.</p>

<p style="margin-top: 1em">final Timer timer =
registry.timer(name(WebProxy.class,
&quot;get-requests&quot;));</p>

<p style="margin-top: 1em">final Timer.Context context =
timer.time(); <br>
try { <br>
// handle request <br>
} finally { <br>
context.stop(); <br>
}</p>

<p style="margin-top: 1em">NOTE: <br>
Elapsed times for it events are measured internally in
nanoseconds, using Java&rsquo;s high-precision
System.nanoTime() method. Its precision and accuracy vary
depending on operat&acirc; <br>
ing system and hardware.</p>

<p style="margin-top: 1em">Metric Sets <br>
Metrics can also be grouped together into reusable metric
sets using the MetricSet interface. This allows library
authors to provide a single entry point for the
instrumentation <br>
of a wide variety of functionality.</p>

<p style="margin-top: 1em">Reporters <br>
Reporters are the way that your application exports all the
measurements being made by its metrics. metrics-core comes
with four ways of exporting your metrics: JMX, console, <br>
SLF4J, and CSV.</p>

<p style="margin-top: 1em">JMX <br>
With JmxReporter, you can expose your metrics as JMX MBeans.
To explore this you can use VisualVM (which ships with most
JDKs as jvisualvm) with the VisualVM-MBeans plugins <br>
installed or JConsole (which ships with most JDKs as
jconsole): [image: Metrics exposed as JMX MBeans being
viewed in VisualVM&rsquo;s MBeans browser] [image]</p>

<p style="margin-top: 1em">TIP: <br>
If you double-click any of the metric properties, VisualVM
will start graphing the data for that property. Sweet,
eh?</p>

<p style="margin-top: 1em">WARNING: <br>
We don&rsquo;t recommend that you try to gather metrics from
your production environment. JMX&rsquo;s RPC API is fragile
and bonkers. For development purposes and browsing, though,
it can <br>
be very useful.</p>

<p style="margin-top: 1em">To report metrics via JMX:</p>

<p style="margin-top: 1em">final JmxReporter reporter =
JmxReporter.forRegistry(registry).build(); <br>
reporter.start();</p>

<p style="margin-top: 1em">Console <br>
For simple benchmarks, Metrics comes with ConsoleReporter,
which periodically reports all registered metrics to the
console:</p>

<p style="margin-top: 1em">final ConsoleReporter reporter =
ConsoleReporter.forRegistry(registry) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.build(); <br>
reporter.start(1, TimeUnit.MINUTES);</p>

<p style="margin-top: 1em">CSV <br>
For more complex benchmarks, Metrics comes with CsvReporter,
which periodically appends to a set of .csv files in a given
directory:</p>

<p style="margin-top: 1em">final CsvReporter reporter =
CsvReporter.forRegistry(registry) <br>
.formatFor(Locale.US) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.build(new File(&quot;~/projects/data/&quot;)); <br>
reporter.start(1, TimeUnit.SECONDS);</p>

<p style="margin-top: 1em">For each metric registered, a
.csv file will be created, and every second its state will
be written to it as a new row.</p>

<p style="margin-top: 1em">SLF4J <br>
It&rsquo;s also possible to log metrics to an SLF4J
logger:</p>

<p style="margin-top: 1em">final Slf4jReporter reporter =
Slf4jReporter.forRegistry(registry) <br>

.outputTo(LoggerFactory.getLogger(&quot;com.example.metrics&quot;))
<br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.build(); <br>
reporter.start(1, TimeUnit.MINUTES);</p>

<p style="margin-top: 1em">Other Reporters <br>
Metrics has other reporter implementations, too:</p>

<p style="margin-top: 1em">&Acirc;&middot; MetricsServlet
is a servlet which not only exposes your metrics as a JSON
object, but it also runs your health checks, performs thread
dumps, and exposes valuable JVM-level and <br>
OS-level information.</p>

<p style="margin-top: 1em">&Acirc;&middot; GangliaReporter
allows you to constantly stream metrics data to your Ganglia
servers.</p>

<p style="margin-top: 1em">&Acirc;&middot; GraphiteReporter
allows you to constantly stream metrics data to your
Graphite servers.</p>

<p style="margin-top: 1em">Health Checks <br>
Metrics also provides you with a consistent, unified way of
performing application health checks. A health check is
basically a small self-test which your application performs
to <br>
verify that a specific component or responsibility is
performing correctly.</p>

<p style="margin-top: 1em">To create a health check, extend
the HealthCheck class:</p>

<p style="margin-top: 1em">public class DatabaseHealthCheck
extends HealthCheck { <br>
private final Database database;</p>

<p style="margin-top: 1em">public
DatabaseHealthCheck(Database database) { <br>
this.database = database; <br>
}</p>

<p style="margin-top: 1em">@Override <br>
protected Result check() throws Exception { <br>
if (database.ping()) { <br>
return Result.healthy(); <br>
} <br>
return Result.unhealthy(&quot;Can&rsquo;t ping
database&quot;); <br>
} <br>
}</p>

<p style="margin-top: 1em">In this example, we&rsquo;ve
created a health check for a Database class on which our
application depends. Our fictitious Database class has a
#ping() method, which executes a safe <br>
test query (e.g., SELECT 1). #ping() returns true if the
query returns the expected result, returns false if it
returns something else, and throws an exception if things
have <br>
gone seriously wrong.</p>

<p style="margin-top: 1em">Our DatabaseHealthCheck, then,
takes a Database instance and in its #check() method,
attempts to ping the database. If it can, it returns a
healthy result. If it can&rsquo;t, it <br>
returns an unhealthy result.</p>

<p style="margin-top: 1em">NOTE: <br>
Exceptions thrown inside a health check&rsquo;s #check()
method are automatically caught and turned into unhealthy
results with the full stack trace.</p>

<p style="margin-top: 1em">To register a health check,
either use a HealthCheckRegistry instance:</p>


<p style="margin-top: 1em">registry.register(&quot;database&quot;,
new DatabaseHealthCheck(database));</p>

<p style="margin-top: 1em">You can also run the set of
registered health checks:</p>

<p style="margin-top: 1em">for (Entry&lt;String, Result&gt;
entry : registry.runHealthChecks().entrySet()) { <br>
if (entry.getValue().isHealthy()) { <br>
System.out.println(entry.getKey() + &quot;: OK&quot;); <br>
} else { <br>
System.out.println(entry.getKey() + &quot;: FAIL&quot;);
<br>
} <br>
}</p>

<p style="margin-top: 1em">Instrumenting Ehcache <br>
The metrics-ehcache module provides InstrumentedEhcache, a
decorator for Ehcache caches:.INDENT 0.0</p>

<p style="margin-top: 1em">final Cache c = new Cache(new
CacheConfiguration(&quot;test&quot;, 100)); <br>
MANAGER.addCache(c); <br>
this.cache = InstrumentedEhcache.instrument(registry,
c);</p>

<p style="margin-top: 1em">Instrumenting an Ehcache
instance creates gauges for all of the Ehcache-provided
statistics:</p>


<p style="margin-top: 1em">&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&not;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;
<br>
&acirc;hits &acirc; The number of times a requested item was
found in the cache. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;in-memory-hits &acirc; Number of times a requested
item was found in the memory &acirc; <br>
&acirc; &acirc; store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;off-heap-hits &acirc; Number of times a requested
item was found in the off-heap &acirc; <br>
&acirc; &acirc; store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;on-disk-hits &acirc; Number of times a requested item
was found in the disk store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;misses &acirc; Number of times a requested item was
not found in the cache. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;in-memory-misses &acirc; Number of times a requested
item was not found in the memory &acirc; <br>
&acirc; &acirc; store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;off-heap-misses &acirc; Number of times a requested
item was not found in the off-heap &acirc; <br>
&acirc; &acirc; store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acute;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;</p>

<p style="margin-top: 1em">&acirc;on-disk-misses &acirc;
Number of times a requested item was not found in the disk
&acirc; <br>
&acirc; &acirc; store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;objects &acirc; Number of elements stored in the
cache. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;in-memory-objects &acirc; Number of objects in the
memory store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;off-heap-objects &acirc; Number of objects in the
off-heap store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;on-disk-objects &acirc; Number of objects in the disk
store. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;mean-get-time &acirc; The average get time. Because
ehcache supports JDK1.4.2, each &acirc; <br>
&acirc; &acirc; get time uses System.currentTimeMillis(),
rather than nanosec&acirc; &acirc; <br>
&acirc; &acirc; onds. The accuracy is thus limited. &acirc;
<br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;mean-search-time &acirc; The average execution time
(in milliseconds) within the last &acirc; <br>
&acirc; &acirc; sample period. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;eviction-count &acirc; The number of cache evictions,
since the cache was created, or &acirc; <br>
&acirc; &acirc; statistics were cleared. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;searches-per-second &acirc; The number of search
executions that have completed in the &acirc; <br>
&acirc; &acirc; last second. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;accuracy &acirc; A human readable description of the
accuracy setting. One of &acirc; <br>
&acirc; &acirc; &quot;None&quot;, &quot;Best Effort&quot; or
&quot;Guaranteed&quot;. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acute;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;</p>

<p style="margin-top: 1em">It also adds full timers for the
cache&rsquo;s get and put methods.</p>

<p style="margin-top: 1em">The metrics are all scoped to
the cache&rsquo;s class and name, so a Cache instance named
users would have metric names like
net.sf.ehcache.Cache.users.get, etc.</p>

<p style="margin-top: 1em">Reporting to Ganglia <br>
The metrics-ganglia module provides GangliaReporter, which
allows your application to constantly stream metric values
to a Ganglia server:</p>

<p style="margin-top: 1em">final GMetric ganglia = new
GMetric(&quot;ganglia.example.com&quot;, 8649,
UDPAddressingMode.MULTICAST, 1); <br>
final GangliaReporter reporter =
GangliaReporter.forRegistry(registry) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.build(ganglia); <br>
reporter.start(1, TimeUnit.MINUTES);</p>

<p style="margin-top: 1em">Reporting to Graphite <br>
The metrics-graphite module provides GraphiteReporter, which
allows your application to constantly stream metric values
to a Graphite server:</p>

<p style="margin-top: 1em">final Graphite graphite = new
Graphite(new
InetSocketAddress(&quot;graphite.example.com&quot;, 2003));
<br>
final GraphiteReporter reporter =
GraphiteReporter.forRegistry(registry) <br>
.prefixedWith(&quot;web1.example.com&quot;) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.filter(MetricFilter.ALL) <br>
.build(graphite); <br>
reporter.start(1, TimeUnit.MINUTES);</p>

<p style="margin-top: 1em">If you prefer to write metrics
in batches using pickle, you can use the
PickledGraphite:</p>

<p style="margin-top: 1em">final Graphite pickledGraphite =
new PickledGraphite(new
InetSocketAddress(&quot;graphite.example.com&quot;, 2004));
<br>
final GraphiteReporter reporter =
GraphiteReporter.forRegistry(registry) <br>
.prefixedWith(&quot;web1.example.com&quot;) <br>
.convertRatesTo(TimeUnit.SECONDS) <br>
.convertDurationsTo(TimeUnit.MILLISECONDS) <br>
.filter(MetricFilter.ALL) <br>
.build(pickledGraphite); <br>
reporter.start(1, TimeUnit.MINUTES);</p>

<p style="margin-top: 1em">Instrumenting Apache HttpClient
<br>
The metrics-httpclient module provides
InstrumentedHttpClientConnManager and
InstrumentedHttpClients, two instrumented versions of Apache
HttpClient 4.x classes.</p>


<p style="margin-top: 1em">InstrumentedHttpClientConnManager
is a thread-safe HttpClientConnectionManager implementation
which measures the number of open connections in the pool
and the rate at which new <br>
connections are opened.</p>

<p style="margin-top: 1em">InstrumentedHttpClients follows
the HttpClients builder pattern and adds per-HTTP method
timers for HTTP requests.</p>

<p style="margin-top: 1em">Metric naming strategies <br>
The default per-method metric naming and scoping strategy
can be overridden by passing an implementation of
HttpClientMetricNameStrategy to the
InstrumentedHttpClients.createDe&acirc; <br>
fault method.</p>

<p style="margin-top: 1em">A number of pre-rolled
strategies are available, e.g.:</p>

<p style="margin-top: 1em">HttpClient client =
InstrumentedHttpClients.createDefault(registry,
HttpClientMetricNameStrategies.HOST_AND_METHOD);</p>

<p style="margin-top: 1em">Instrumenting JDBI <br>
The metrics-jdbi module provides a TimingCollector
implementation for JDBI, an SQL convenience library.</p>

<p style="margin-top: 1em">To use it, just add a
InstrumentedTimingCollector instance to your DBI:</p>

<p style="margin-top: 1em">final DBI dbi = new
DBI(dataSource); <br>
dbi.setTimingCollector(new
InstrumentedTimingCollector(registry));</p>

<p style="margin-top: 1em">InstrumentedTimingCollector
keeps per-SQL-object timing data, as well as general raw SQL
timing data. The metric names for each query are constructed
by an StatementNameStrategy <br>
instance, of which there are many implementations. By
default, StatementNameStrategy uses SmartNameStrategy, which
attempts to effectively handle both queries from bound
objects <br>
and raw SQL.</p>

<p style="margin-top: 1em">Instrumenting Jersey 1.x <br>
The metrics-jersey module provides
InstrumentedResourceMethodDispatchAdapter, which allows you
to instrument methods on your Jersey 1.x resource
classes:</p>

<p style="margin-top: 1em">An instance of
InstrumentedResourceMethodDispatchAdapter must be registered
with your Jersey application&rsquo;s ResourceConfig as a
singleton provider for this to work.</p>

<p style="margin-top: 1em">public class ExampleApplication
{ <br>
private final DefaultResourceConfig config = new
DefaultResourceConfig();</p>

<p style="margin-top: 1em">public void init() { <br>
config.getSingletons().add(new
InstrumentedResourceMethodDispatchAdapter(registry)); <br>
config.getClasses().add(ExampleResource.class); <br>
} <br>
}</p>

<p style="margin-top: 1em">@Path(&quot;/example&quot;) <br>
@Produces(MediaType.TEXT_PLAIN) <br>
public class ExampleResource { <br>
@GET <br>
@Timed <br>
public String show() { <br>
return &quot;yay&quot;; <br>
} <br>
}</p>

<p style="margin-top: 1em">The show method in the above
example will have a timer attached to it, measuring the time
spent in that method.</p>

<p style="margin-top: 1em">Use of the @Metered and
@ExceptionMetered annotations is also supported.</p>

<p style="margin-top: 1em">Instrumenting Jersey 2.x <br>
Jersey 2.x changed the API for how resource method
monitoring works, so a new module metrics-jersey2 provides
InstrumentedResourceMethodApplicationListener, which allows
you to <br>
instrument methods on your Jersey 2.x resource classes:</p>

<p style="margin-top: 1em">The metrics-jersey2 module
provides InstrumentedResourceMethodApplicationListener,
which allows you to instrument methods on your Jersey 2.x
resource classes:</p>

<p style="margin-top: 1em">An instance of
InstrumentedResourceMethodApplicationListener must be
registered with your Jersey application&rsquo;s
ResourceConfig as a singleton provider for this to work.</p>

<p style="margin-top: 1em">public class ExampleApplication
extends ResourceConfig { <br>
. <br>
. <br>
. <br>
register(new InstrumentedResourceMethodApplicationListener
(new MetricRegistry())); <br>
config = config.register(ExampleResource.class); <br>
. <br>
. <br>
. <br>
}</p>

<p style="margin-top: 1em">@Path(&quot;/example&quot;) <br>
@Produces(MediaType.TEXT_PLAIN) <br>
public class ExampleResource { <br>
@GET <br>
@Timed <br>
public String show() { <br>
return &quot;yay&quot;; <br>
} <br>
}</p>

<p style="margin-top: 1em">The show method in the above
example will have a timer attached to it, measuring the time
spent in that method.</p>

<p style="margin-top: 1em">Use of the @Metered and
@ExceptionMetered annotations is also supported.</p>

<p style="margin-top: 1em">Instrumenting Jetty <br>
The metrics-jetty8 (Jetty 8.0), metrics-jetty9-legacy (Jetty
9.0), and metrics-jetty9 (Jetty 9.1 and higher) modules
provides a set of instrumented equivalents of Jetty classes:
<br>
InstrumentedBlockingChannelConnector, InstrumentedHandler,
InstrumentedQueuedThreadPool,
InstrumentedSelectChannelConnector, and
InstrumentedSocketConnector.</p>

<p style="margin-top: 1em">The Connector implementations
are simple, instrumented subclasses of the Jetty connector
types which measure connection duration, the rate of
accepted connections, connections, <br>
disconnections, and the total number of active
connections.</p>

<p style="margin-top: 1em">InstrumentedQueuedThreadPool is
a QueuedThreadPool subclass which measures the ratio of idle
threads to working threads as well as the absolute number of
threads (idle and other&acirc; <br>
wise).</p>

<p style="margin-top: 1em">InstrumentedHandler is a Handler
decorator which measures a wide range of HTTP behavior:
dispatch times, requests, resumes, suspends, expires, the
number of active, suspected, <br>
and dispatched requests, as well as meters of responses with
1xx, 2xx, 3xx, 4xx, and 5xx status codes. It even has gauges
for the ratios of 4xx and 5xx response rates to overall <br>
response rates. Finally, it includes meters for requests by
the HTTP method: GET, POST, etc.</p>

<p style="margin-top: 1em">Instrumenting Log4j <br>
The metrics-log4j and metrics-log4j2 modules provide
InstrumentedAppender, a Log4j Appender implementation (for
log4j 1.x and log4j 2.x correspondingly) which records the
rate of <br>
logged events by their logging level.</p>

<p style="margin-top: 1em">You can add it to the root
logger programmatically.</p>

<p style="margin-top: 1em">For log4j 1.x:</p>

<p style="margin-top: 1em">InstrumentedAppender appender =
new InstrumentedAppender(registry); <br>
appender.activateOptions(); <br>
LogManager.getRootLogger().addAppender(appender);</p>

<p style="margin-top: 1em">For log4j 2.x:</p>

<p style="margin-top: 1em">Filter filter = null; //
That&rsquo;s fine if we don&rsquo;t use filters;
https://logging.apache.org/log4j/2.x/manual/filters.html
<br>
PatternLayout layout = null; // The layout isn&rsquo;t used
in InstrumentedAppender</p>

<p style="margin-top: 1em">InstrumentedAppender appender =
new InstrumentedAppender(metrics, filter, layout, false);
<br>
appender.start();</p>

<p style="margin-top: 1em">LoggerContext context =
(LoggerContext) LogManager.getContext(false); <br>
Configuration config = context.getConfiguration(); <br>

config.getLoggerConfig(LogManager.ROOT_LOGGER_NAME).addAppender(appender,
level, filter); <br>
context.updateLoggers(config);</p>

<p style="margin-top: 1em">Instrumenting Logback <br>
The metrics-logback module provides InstrumentedAppender, a
Logback Appender implementation which records the rate of
logged events by their logging level.</p>

<p style="margin-top: 1em">You add it to the root logger
programmatically:</p>

<p style="margin-top: 1em">final LoggerContext factory =
(LoggerContext) LoggerFactory.getILoggerFactory(); <br>
final Logger root =
factory.getLogger(Logger.ROOT_LOGGER_NAME);</p>

<p style="margin-top: 1em">final InstrumentedAppender
metrics = new InstrumentedAppender(registry); <br>
metrics.setContext(root.getLoggerContext()); <br>
metrics.start(); <br>
root.addAppender(metrics);</p>

<p style="margin-top: 1em">JVM Instrumentation <br>
The metrics-jvm module contains a number of reusable gauges
and metric sets which allow you to easily instrument JVM
internals.</p>

<p style="margin-top: 1em">Supported metrics include:</p>

<p style="margin-top: 1em">&Acirc;&middot; Run count and
elapsed times for all supported garbage collectors</p>

<p style="margin-top: 1em">&Acirc;&middot; Memory usage for
all memory pools, including off-heap memory</p>

<p style="margin-top: 1em">&Acirc;&middot; Breakdown of
thread states, including deadlocks</p>

<p style="margin-top: 1em">&Acirc;&middot; File descriptor
usage</p>

<p style="margin-top: 1em">&Acirc;&middot; Buffer pool
sizes and utilization (Java 7 only)</p>

<p style="margin-top: 1em">JSON Support <br>
Metrics comes with metrics-json, which features two reusable
modules for Jackson.</p>

<p style="margin-top: 1em">This allows for the
serialization of all metric types and health checks to a
standard, easily-parsable JSON format.</p>

<p style="margin-top: 1em">Metrics Servlets <br>
The metrics-servlets module provides a handful of useful
servlets:</p>

<p style="margin-top: 1em">HealthCheckServlet <br>
HealthCheckServlet responds to GET requests by running all
the [health checks](#health-checks) and returning 501 Not
Implemented if no health checks are registered, 200 OK if
all <br>
pass, or 500 Internal Service Error if one or more fail. The
results are returned as a human-readable text/plain
entity.</p>

<p style="margin-top: 1em">HealthCheckServlet requires that
the servlet context has a HealthCheckRegistry named
com.codahale.metrics.servlets.HealthCheckServlet.registry.
You can subclass MetricsServlet&acirc; <br>
ContextListener, which will add a specific
HealthCheckRegistry to the servlet context.</p>

<p style="margin-top: 1em">ThreadDumpServlet <br>
ThreadDumpServlet responds to GET requests with a text/plain
representation of all the live threads in the JVM, their
states, their stack traces, and the state of any locks they
<br>
may be waiting for.</p>

<p style="margin-top: 1em">MetricsServlet <br>
MetricsServlet exposes the state of the metrics in a
particular registry as a JSON object.</p>

<p style="margin-top: 1em">MetricsServlet requires that the
servlet context has a MetricRegistry named
com.codahale.metrics.servlets.MetricsServlet.registry. You
can subclass MetricsServletContextListener, <br>
which will add a specific MetricRegistry to the servlet
context.</p>

<p style="margin-top: 1em">MetricsServlet also takes an
initialization parameter, show-jvm-metrics, which if
&quot;false&quot; will disable the outputting of JVM-level
information in the JSON object.</p>

<p style="margin-top: 1em">PingServlet <br>
PingServlet responds to GET requests with a text/plain/200
OK response of pong. This is useful for determining liveness
for load balancers, etc.</p>

<p style="margin-top: 1em">AdminServlet <br>
AdminServlet aggregates HealthCheckServlet,
ThreadDumpServlet, MetricsServlet, and PingServlet into a
single, easy-to-use servlet which provides a set of
URIs:</p>

<p style="margin-top: 1em">&Acirc;&middot; /: an HTML admin
menu with links to the following:</p>

<p style="margin-top: 1em">&Acirc;&middot; /healthcheck:
HealthCheckServlet</p>

<p style="margin-top: 1em">&Acirc;&middot; /metrics:
MetricsServlet</p>

<p style="margin-top: 1em">&Acirc;&middot; /ping:
PingServlet</p>

<p style="margin-top: 1em">&Acirc;&middot; /threads:
ThreadDumpServlet</p>

<p style="margin-top: 1em">You will need to add your
MetricRegistry and HealthCheckRegistry instances to the
servlet context as attributes named
com.codahale.metrics.servlets.MetricsServlet.registry and
<br>
com.codahale.metrics.servlets.HealthCheckServlet.registry,
respectively. You can do this using the Servlet API by
extending MetricsServlet.ContextListener for
MetricRegistry:</p>

<p style="margin-top: 1em">public class
MyMetricsServletContextListener extends
MetricsServlet.ContextListener {</p>

<p style="margin-top: 1em">public static final
MetricRegistry METRIC_REGISTRY = new MetricRegistry();</p>

<p style="margin-top: 1em">@Override <br>
protected MetricRegistry getMetricRegistry() { <br>
return METRIC_REGISTRY; <br>
}</p>

<p style="margin-top: 1em">}</p>

<p style="margin-top: 1em">And by extending
HealthCheckServlet.ContextListener for
HealthCheckRegistry:</p>

<p style="margin-top: 1em">public class
MyHealthCheckServletContextListener extends
HealthCheckServlet.ContextListener {</p>

<p style="margin-top: 1em">public static final
HealthCheckRegistry HEALTH_CHECK_REGISTRY = new
HealthCheckRegistry();</p>

<p style="margin-top: 1em">@Override <br>
protected HealthCheckRegistry getHealthCheckRegistry() {
<br>
return HEALTH_CHECK_REGISTRY; <br>
}</p>

<p style="margin-top: 1em">}</p>

<p style="margin-top: 1em">Then you will need to register
servlet context listeners either in you web.xml or
annotating the class with @WebListener if you are in servlet
3.0 environment. In web.xml:</p>

<p style="margin-top: 1em">&lt;listener&gt; <br>

&lt;listener-class&gt;com.example.MyMetricsServletContextListener&lt;/listener-class&gt;
<br>
&lt;/listener&gt; <br>
&lt;listener&gt; <br>

&lt;listener-class&gt;com.example.MyHealthCheckServletContextListener&lt;/listener-class&gt;
<br>
&lt;/listener&gt;</p>

<p style="margin-top: 1em">You will also need to register
AdminServlet in web.xml:</p>

<p style="margin-top: 1em">&lt;servlet&gt; <br>
&lt;servlet-name&gt;metrics&lt;/servlet-name&gt; <br>

&lt;servlet-class&gt;com.codahale.metrics.servlets.AdminServlet&lt;/servlet-class&gt;
<br>
&lt;/servlet&gt; <br>
&lt;servlet-mapping&gt; <br>
&lt;servlet-name&gt;metrics&lt;/servlet-name&gt; <br>
&lt;url-pattern&gt;/metrics/*&lt;/url-pattern&gt; <br>
&lt;/servlet-mapping&gt;</p>

<p style="margin-top: 1em">Instrumenting Web Applications
<br>
The metrics-servlet module provides a Servlet filter which
has meters for status codes, a counter for the number of
active requests, and a timer for request duration. By
default <br>
the filter will use
com.codahale.metrics.servlet.InstrumentedFilter as the base
name of the metrics. You can use the filter in your web.xml
like this:</p>

<p style="margin-top: 1em">&lt;filter&gt; <br>
&lt;filter-name&gt;instrumentedFilter&lt;/filter-name&gt;
<br>

&lt;filter-class&gt;com.codahale.metrics.servlet.InstrumentedFilter&lt;/filter-class&gt;
<br>
&lt;/filter&gt; <br>
&lt;filter-mapping&gt; <br>
&lt;filter-name&gt;instrumentedFilter&lt;/filter-name&gt;
<br>
&lt;url-pattern&gt;/*&lt;/url-pattern&gt; <br>
&lt;/filter-mapping&gt;</p>

<p style="margin-top: 1em">An optional filter init-param
name-prefix can be specified to override the base name of
the metrics associated with the filter mapping. This can be
helpful if you need to instru&acirc; <br>
ment multiple url patterns and give each a unique name.</p>

<p style="margin-top: 1em">&lt;filter&gt; <br>
&lt;filter-name&gt;instrumentedFilter&lt;/filter-name&gt;
<br>

&lt;filter-class&gt;com.codahale.metrics.servlet.InstrumentedFilter&lt;/filter-class&gt;
<br>
&lt;init-param&gt; <br>
&lt;param-name&gt;name-prefix&lt;/param-name&gt; <br>
&lt;param-value&gt;authentication&lt;/param-value&gt; <br>
&lt;/init-param&gt; <br>
&lt;/filter&gt; <br>
&lt;filter-mapping&gt; <br>
&lt;filter-name&gt;instrumentedFilter&lt;/filter-name&gt;
<br>
&lt;url-pattern&gt;/auth/*&lt;/url-pattern&gt; <br>
&lt;/filter-mapping&gt;</p>

<p style="margin-top: 1em">You will need to add your
MetricRegistry to the servlet context as an attribute named
com.codahale.metrics.servlet.InstrumentedFilter.registry.
You can do this using the Servlet <br>
API by extending InstrumentedFilterContextListener:</p>

<p style="margin-top: 1em">public class
MyInstrumentedFilterContextListener extends
InstrumentedFilterContextListener { <br>
public static final MetricRegistry REGISTRY = new
MetricRegistry();</p>

<p style="margin-top: 1em">@Override <br>
protected MetricRegistry getMetricRegistry() { <br>
return REGISTRY; <br>
} <br>
}</p>

<p style="margin-top: 1em">Third Party Libraries <br>
If you&rsquo;re looking to integrate with something not
provided by the main Metrics libraries, check out the many
third-party libraries which extend Metrics:</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-librato
provides a reporter for Librato Metrics, a scalable metric
collection, aggregation, monitoring, and alerting
service.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-spring
provides integration with Spring</p>

<p style="margin-top: 1em">&Acirc;&middot;
sematext-metrics-reporter provides a reporter for SPM.</p>

<p style="margin-top: 1em">&Acirc;&middot; wicket-metrics
provides easy integration for your Wicket application.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-guice
provides integration with Guice.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-scala
provides an API optimized for Scala.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-clojure
provides an API optimized for Clojure.</p>

<p style="margin-top: 1em">&Acirc;&middot;
metrics-cassandra provides a reporter for Apache
Cassandra.</p>

<p style="margin-top: 1em">&Acirc;&middot; MetricCatcher
Turns JSON over UDP into Metrics so that non-jvm languages
can know what&rsquo;s going on too.</p>

<p style="margin-top: 1em">&Acirc;&middot;
metrics-reporter-config DropWizard-eqsue YAML configuration
of reporters.</p>

<p style="margin-top: 1em">&Acirc;&middot;
metrics-elasticsearch-reporter provides a reporter for
elasticsearch</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-statsd
provides a Metrics 2.x and 3.x reporter for StatsD</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-datadog
provides a reporter to send data to Datadog</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-influxdb
provides a reporter which announces measurements to
InfluxDB</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-cdi
provides integration with CDI environments</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-aspectj
provides integration with AspectJ</p>

<p style="margin-top: 1em">&Acirc;&middot; camel-metrics
provides component for your Apache Camel route</p>

<p style="margin-top: 1em">ABOUT METRICS <br>
Contributors <br>
Many, many thanks to:</p>

<p style="margin-top: 1em">&Acirc;&middot; Alan
Woodward</p>

<p style="margin-top: 1em">&Acirc;&middot; Alex Lambert</p>

<p style="margin-top: 1em">&Acirc;&middot; Basil James
Whitehouse III</p>

<p style="margin-top: 1em">&Acirc;&middot; Benjamin
Gehrels</p>

<p style="margin-top: 1em">&Acirc;&middot; Bernardo Gomez
Palacio</p>

<p style="margin-top: 1em">&Acirc;&middot; Brian Ehmann</p>

<p style="margin-top: 1em">&Acirc;&middot; Brian
Roberts</p>

<p style="margin-top: 1em">&Acirc;&middot; Bruce
Mitchener</p>

<p style="margin-top: 1em">&Acirc;&middot; C. Scott
Andreas</p>

<p style="margin-top: 1em">&Acirc;&middot; ceetav</p>

<p style="margin-top: 1em">&Acirc;&middot; Charles Care</p>

<p style="margin-top: 1em">&Acirc;&middot; Chris
Birchall</p>

<p style="margin-top: 1em">&Acirc;&middot; Chris
Burroughs</p>

<p style="margin-top: 1em">&Acirc;&middot; Christopher
Swenson</p>

<p style="margin-top: 1em">&Acirc;&middot; Ciamac
Moallemi</p>

<p style="margin-top: 1em">&Acirc;&middot; Cliff Moon</p>

<p style="margin-top: 1em">&Acirc;&middot; Collin
VanDyck</p>

<p style="margin-top: 1em">&Acirc;&middot; Dag Liodden</p>

<p style="margin-top: 1em">&Acirc;&middot; Dale Wijnand</p>

<p style="margin-top: 1em">&Acirc;&middot; Dan Brown</p>

<p style="margin-top: 1em">&Acirc;&middot; Dan Everton</p>

<p style="margin-top: 1em">&Acirc;&middot; Dan Revel</p>

<p style="margin-top: 1em">&Acirc;&middot; David
Sutherland</p>

<p style="margin-top: 1em">&Acirc;&middot; Diwaker
Gupta</p>

<p style="margin-top: 1em">&Acirc;&middot; Drew
Stephens</p>

<p style="margin-top: 1em">&Acirc;&middot; Edwin Shin</p>

<p style="margin-top: 1em">&Acirc;&middot; Eric
Daigneault</p>

<p style="margin-top: 1em">&Acirc;&middot; Evan Jones</p>

<p style="margin-top: 1em">&Acirc;&middot;
Fran&Atilde;&sect;ois Beausoleil</p>

<p style="margin-top: 1em">&Acirc;&middot; Gerolf Seitz</p>

<p style="margin-top: 1em">&Acirc;&middot; Greg Bowyer</p>

<p style="margin-top: 1em">&Acirc;&middot; Jackson
Davis</p>

<p style="margin-top: 1em">&Acirc;&middot; James Casey</p>

<p style="margin-top: 1em">&Acirc;&middot; Jan-Helge
Bergesen</p>

<p style="margin-top: 1em">&Acirc;&middot; Jason A.
Beranek</p>

<p style="margin-top: 1em">&Acirc;&middot; Jason Slagle</p>

<p style="margin-top: 1em">&Acirc;&middot; JD Maturen</p>

<p style="margin-top: 1em">&Acirc;&middot; Jeff Hodges</p>

<p style="margin-top: 1em">&Acirc;&middot; Jesper
Blomquist</p>

<p style="margin-top: 1em">&Acirc;&middot; Jesse Eichar</p>

<p style="margin-top: 1em">&Acirc;&middot; John Ewart</p>

<p style="margin-top: 1em">&Acirc;&middot; John Wang</p>

<p style="margin-top: 1em">&Acirc;&middot; Justin Plock</p>

<p style="margin-top: 1em">&Acirc;&middot; Kevin Clark</p>

<p style="margin-top: 1em">&Acirc;&middot; Mahesh
Tiyyagura</p>

<p style="margin-top: 1em">&Acirc;&middot; Martin
Traverso</p>

<p style="margin-top: 1em">&Acirc;&middot; Matt Abrams</p>

<p style="margin-top: 1em">&Acirc;&middot; Matt Ryall</p>

<p style="margin-top: 1em">&Acirc;&middot; Matthew
Gilliard</p>

<p style="margin-top: 1em">&Acirc;&middot; Matthew
O&rsquo;Connor</p>

<p style="margin-top: 1em">&Acirc;&middot; Mathijs
Vogelzang</p>

<p style="margin-top: 1em">&Acirc;&middot;
M&Atilde;&yen;rten Gustafson</p>

<p style="margin-top: 1em">&Acirc;&middot; Micha&Aring;
Minicki</p>

<p style="margin-top: 1em">&Acirc;&middot; Neil Prosser</p>

<p style="margin-top: 1em">&Acirc;&middot; Nick Telford</p>

<p style="margin-top: 1em">&Acirc;&middot; Niklas
Konstenius</p>

<p style="margin-top: 1em">&Acirc;&middot; Norbert
Potocki</p>

<p style="margin-top: 1em">&Acirc;&middot; Pablo
Fernandez</p>

<p style="margin-top: 1em">&Acirc;&middot; Paul Bloch</p>

<p style="margin-top: 1em">&Acirc;&middot; Paul Brown</p>

<p style="margin-top: 1em">&Acirc;&middot; Paul Doran</p>

<p style="margin-top: 1em">&Acirc;&middot; Paul
Sandwald</p>

<p style="margin-top: 1em">&Acirc;&middot; Realbot</p>

<p style="margin-top: 1em">&Acirc;&middot; Robby Walker</p>

<p style="margin-top: 1em">&Acirc;&middot; Ryan Kennedy</p>

<p style="margin-top: 1em">&Acirc;&middot; Ryan W
Tenney</p>

<p style="margin-top: 1em">&Acirc;&middot; Sam Perman</p>

<p style="margin-top: 1em">&Acirc;&middot; Sean Laurent</p>

<p style="margin-top: 1em">&Acirc;&middot; Shaneal
Manek</p>

<p style="margin-top: 1em">&Acirc;&middot; Steven
Schlansker</p>

<p style="margin-top: 1em">&Acirc;&middot; Stewart
Allen</p>

<p style="margin-top: 1em">&Acirc;&middot; Thomas
Dudziak</p>

<p style="margin-top: 1em">&Acirc;&middot; Tobias
Lidskog</p>

<p style="margin-top: 1em">&Acirc;&middot; Yang Ye</p>

<p style="margin-top: 1em">&Acirc;&middot; Wolfgang
Schell</p>

<p style="margin-top: 1em">Release Notes <br>
v3.0.1: Jul 23 2013 <br>
&Acirc;&middot; Fixed NPE in MetricRegistry#name.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ScheduledReporter and JmxReporter now implement
Closeable.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed cast
exception for async requests in metrics-jetty9.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added support
for Access-Control-Allow-Origin to MetricsServlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed numerical
issue with Meter EWMA rates.</p>

<p style="margin-top: 1em">&Acirc;&middot; Deprecated
AdminServletContextListener in favor of
MetricsServlet.ContextListener and
HealthCheckServlet.ContextListener.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added additional
constructors to HealthCheckServlet and MetricsServlet.</p>

<p style="margin-top: 1em">v3.0.0: June 10 2013 <br>
&Acirc;&middot; Renamed DefaultWebappMetricsFilter to
InstrumentedFilter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
MetricsContextListener to InstrumentedFilterContextListener
and made it fully abstract to avoid confusion.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
MetricsServletContextListener to AdminServletContextListener
and made it fully abstract to avoid confusion.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Servlet API 3.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 2.2.2.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 8.1.11.</p>

<p style="margin-top: 1em">v3.0.0-RC1: May 31 2013 <br>
&Acirc;&middot; Added SharedMetricRegistries, a singleton
for sharing named metric registries.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed XML
configuration for metrics-ehcache.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed XML
configuration for metrics-jersey.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed XML
configuration for metrics-log4j.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed XML
configuration for metrics-logback.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed a counting
bug in metrics-jetty9&rsquo;s InstrumentedHandler.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricsContextListener to metrics-servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricsServletContextListener to metrics-servlets.</p>

<p style="margin-top: 1em">&Acirc;&middot; Extracted the
Counting interface.</p>

<p style="margin-top: 1em">&Acirc;&middot; Reverted
SlidingWindowReservoir to a synchronized implementation.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added the
implementation version to the JAR manifests.</p>

<p style="margin-top: 1em">&Acirc;&middot; Made
dependencies for all modules conform to Maven
Enforcer&rsquo;s convergence rules.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed
Slf4jReporter&rsquo;s logging of 99th percentiles.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added optional
name prefixing to GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metric-specific overrides of rate and duration units to
JmxReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Documentation
fixes.</p>

<p style="margin-top: 1em">v3.0.0-BETA3: May 13 2013 <br>
&Acirc;&middot; Added ScheduledReporter#report() for manual
reporting.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed
overly-grabby catches in HealthCheck and
InstrumentedResourceMethodDispatchProvider.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed phantom
reads in SlidingWindowReservoir.</p>

<p style="margin-top: 1em">&Acirc;&middot; Revamped
metrics-jetty9, removing InstrumentedConnector and improving
the API.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed OSGi
imports for sun.misc.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added a strategy
class for HttpClient metrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 9.0.3.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 2.2.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Ehcache 2.6.6.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Logback 1.0.13.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
HttpClient 4.2.5.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
gmetric4j 1.0.3, which allows for host spoofing.</p>

<p style="margin-top: 1em">v3.0.0-BETA2: Apr 22 2013 <br>
&Acirc;&middot; Metrics is now under the
com.codahale.metrics package, with the corresponding changes
in Maven artifact groups. This should allow for an easier
upgrade path without classpath <br>
conflicts.</p>

<p style="margin-top: 1em">&Acirc;&middot; MetricRegistry
no longer has a name.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-jetty9 for Jetty 9.</p>

<p style="margin-top: 1em">&Acirc;&middot; JmxReporter
takes an optional domain property to disambiguate multiple
reporters.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed Java 6
compatibility problem. (Also added Java 6 as a CI
environment.)</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricRegistryListener.Base.</p>

<p style="margin-top: 1em">&Acirc;&middot; Switched
Counter, Meter, and EWMA to use JSR133&rsquo;s LongAdder
instead of AtomicLong, improving contended concurrency.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricRegistry#buildMap(), allowing for custom map
implementations in MetricRegistry.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricRegistry#removeMatching(MetricFilter).</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed
metrics-json to optionally depend on
metrics-healthcheck.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 8.1.10 for metrics-jetty8.</p>

<p style="margin-top: 1em">v3.0.0-BETA1: Apr 01 2013 <br>
&Acirc;&middot; Total overhaul of most of the core Metrics
classes:</p>

<p style="margin-top: 1em">&Acirc;&middot; Metric names are
now just dotted paths like com.example.Thing, allowing for
very flexible scopes, etc.</p>

<p style="margin-top: 1em">&Acirc;&middot; Meters and
timers no longer have rate or duration units; those are
properties of reporters.</p>

<p style="margin-top: 1em">&Acirc;&middot; Reporter
architecture has been radically simplified, fixing many
bugs.</p>

<p style="margin-top: 1em">&Acirc;&middot; Histograms and
timers can take arbitrary reservoir implementations.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added sliding
window reservoir implementations.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added MetricSet
for sets of metrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed package
names to be OSGi-compatible and added OSGi bundling.</p>

<p style="margin-top: 1em">&Acirc;&middot; Extracted JVM
instrumentation to metrics-jvm.</p>

<p style="margin-top: 1em">&Acirc;&middot; Extracted
Jackson integration to metrics-json.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
metrics-guice, metrics-scala, and metrics-spring.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
metrics-servlet to metrics-servlets.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
metrics-web to metrics-servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
metrics-jetty to metrics-jetty8.</p>

<p style="margin-top: 1em">&Acirc;&middot; Many more small
changes!</p>

<p style="margin-top: 1em">v2.2.0: Nov 26 2012 <br>
&Acirc;&middot; Removed all OSGi bundling. This will be back
in 3.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
InstrumentedSslSelectChannelConnector and
InstrumentedSslSocketConnector.</p>

<p style="margin-top: 1em">&Acirc;&middot; Made all metric
names JMX-safe.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Ehcache 2.6.2.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Apache HttpClient 4.2.2.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jersey 1.15.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Log4j 1.2.17.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Logback 1.0.7.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Spring 3.1.3.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 8.1.8.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
SLF4J 1.7.2.</p>

<p style="margin-top: 1em">&Acirc;&middot; Replaced usage
of Unsafe in InstrumentedResourceMethodDispatchProvider with
type erasure trickery.</p>

<p style="margin-top: 1em">v2.1.5: Nov 19 2012 <br>
&Acirc;&middot; Upgraded to Jackson 2.1.1.</p>

<p style="margin-top: 1em">v2.1.4: Nov 15 2012 <br>
&Acirc;&middot; Added OSGi bundling manifests.</p>

<p style="margin-top: 1em">v2.1.3: Aug 06 2012 <br>
&Acirc;&middot; Upgraded to Apache HttpClient 4.2.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed
InstrumentedClientConnManager to extend
PoolingClientConnectionManager instead of the deprecated
ThreadSafeClientConnManager.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed a bug in
ExponentiallyDecayingSample with long periods of
inactivity.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed problems
with re-registering metrics in JMX.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added support
for DnsResolver instances to
InstrumentedClientConnManager.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added support
for formatted health check error messages.</p>

<p style="margin-top: 1em">v2.1.2: Apr 11 2012 <br>
&Acirc;&middot; Fixed double-registration in
metrics-guice.</p>

<p style="margin-top: 1em">v2.1.1: Mar 13 2012 <br>
&Acirc;&middot; Fixed instrumentation of all usages of
InstrumentedHttpClient.</p>

<p style="margin-top: 1em">v2.1.0: Mar 12 2012 <br>
&Acirc;&middot; Added support for Java 7&rsquo;s direct and
mapped buffer pool stats in VirtualMachineMetrics and
metrics-servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added support
for XML configuration in metrics-ehcache.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-spring
now support @Gauge-annotated fields.</p>

<p style="margin-top: 1em">&Acirc;&middot; Opened
GraphiteReporter up for extension.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added group and
type to metrics-annotations, metrics-guice, metrics-jersey,
and metrics-spring.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed handling
of non-int gauges in GangliaReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed
NullPointerException errors in metrics-spring.</p>

<p style="margin-top: 1em">&Acirc;&middot; General
improvements to metrics-spring, including allowing custom
Clock instances.</p>

<p style="margin-top: 1em">v2.0.3: Feb 24 2012 <br>
&Acirc;&middot; Change logging of InstanceNotFoundException
exceptions thrown while unregistering a metric in
JmxReporter to TRACE. It being WARN resulted in huge log
dumps preventing process <br>
shutdowns when applications had ~1K+ metrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Spring 3.1.1 for metrics-spring.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to JDBI
2.31.2.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jersey 1.12.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 7.6.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed rate units
for meters in GangliaReporter.</p>

<p style="margin-top: 1em">v2.0.2: Feb 09 2012 <br>
&Acirc;&middot; InstrumentationModule in metrics-guice now
uses the default MetricsRegistry and
HealthCheckRegistry.</p>

<p style="margin-top: 1em">v2.0.1: Feb 08 2012 <br>
&Acirc;&middot; Fixed a concurrency bug in JmxReporter.</p>

<p style="margin-top: 1em">v2.0.0: Feb 07 2012 <br>
&Acirc;&middot; Upgraded to Jackson 1.9.4.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 7.6.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added escaping
for garbage collector and memory pool names in
GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed the
inability to start and stop multiple reporter instances.</p>

<p style="margin-top: 1em">&Acirc;&middot; Switched to
using a backported version of ThreadLocalRandom for
UniformSample and ExponentiallyDecayingSample to reduce lock
contention on random number generation.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed Ordered
from TimedAnnotationBeanPostProcessor in metrics-spring.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to JDBI
2.31.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Ehcache 2.5.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
#timerContext() to Scala Timer.</p>

<p style="margin-top: 1em">v2.0.0-RC0: Jan 19 2012 <br>
&Acirc;&middot; Added FindBugs checks to the build
process.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed the
catching of Error instances thrown during health checks.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added enable
static methods to CsvReporter and changed CsvReporter(File,
MetricsRegistry) to CsvReporter(MetricsRegistry, File).</p>

<p style="margin-top: 1em">&Acirc;&middot; Slimmed down
InstrumentedEhcache.</p>

<p style="margin-top: 1em">&Acirc;&middot; Hid the
internals of GangliaReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Hid the
internals of metrics-guice.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed
metrics-httpclient to consistently associate metrics with
the org.apache class being extended.</p>

<p style="margin-top: 1em">&Acirc;&middot; Hid the
internals of metrics-httpclient.</p>

<p style="margin-top: 1em">&Acirc;&middot; Rewrote
InstrumentedAppender in metrics-log4j. It no longer forwards
events to an appender. Instead, you can just attach it to
your root logger to instrument logging.</p>

<p style="margin-top: 1em">&Acirc;&middot; Rewrote
InstrumentedAppender in metrics-logback. No major API
changes.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed bugs with
@ExceptionMetered-annotated resource methods in
metrics-jersey.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed bugs
generating Snapshot instances from concurrently modified
collections.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed edge case
in MetricsServlet&rsquo;s thread dumps where one thread
could be missed.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added RatioGauge
and PercentGauge.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed
InstrumentedQueuedThreadPool&rsquo;s percent-idle gauge to
be a ratio.</p>

<p style="margin-top: 1em">&Acirc;&middot; Decomposed
MetricsServlet into a set of focused servlets:
HealthCheckServlet, MetricsServlet, PingServlet, and
ThreadDumpServlet. The top-level servlet which provides the
HTML <br>
menu page is now AdminServlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-spring.</p>

<p style="margin-top: 1em">v2.0.0-BETA19: Jan 07 2012 <br>
&Acirc;&middot; Added absolute memory usage to
MetricsServlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Extracted @Timed
etc. to metrics-annotations.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-jersey, which provides a class allowing you to
automatically instrument all @Timed, @Metered, and
@ExceptionMetered-annotated resource methods.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved all
classes in metrics-scala from com.yammer.metrics to
com.yammer.metrics.scala.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
CounterMetric to Counter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
GaugeMetric to Gauge.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
HistogramMetric to Histogram.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
MeterMetric to Meter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
TimerMetric to Timer.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
ToggleGauge, which returns 1 the first time it&rsquo;s
called and 0 every time after that.</p>

<p style="margin-top: 1em">&Acirc;&middot; Now licensed
under Apache License 2.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Converted
VirtualMachineMetrics to a non-singleton class.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
Utils.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
deprecated constructors from Meter and Timer.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
LoggerMemoryLeakFix.</p>

<p style="margin-top: 1em">&Acirc;&middot;
DeathRattleExceptionHandler now logs to SLF4J, not
syserr.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricsRegistry#groupedMetrics().</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
Metrics#allMetrics().</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
Metrics#remove(MetricName).</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
MetricsRegistry#threadPools() and #newMeterTickThreadPool()
and added #newScheduledThreadPool.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
MetricsRegistry#shutdown().</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
ThreadPools#shutdownThreadPools() to #shutdown().</p>

<p style="margin-top: 1em">&Acirc;&middot; Replaced
HealthCheck&rsquo;s abstract name method with a required
constructor parameter.</p>

<p style="margin-top: 1em">&Acirc;&middot;
HealthCheck#check() is now protected.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved
DeadlockHealthCheck from com.yammer.metrics.core to
com.yammer.metrics.utils.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
HealthCheckRegistry#unregister(HealthCheck).</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed typo in
VirtualMachineMetrics and MetricsServlet: commited to
committed.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed
MetricsRegistry#createName to protected.</p>

<p style="margin-top: 1em">&Acirc;&middot; All metric types
are created exclusively through MetricsRegistry now.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Metrics.newJmxGauge and MetricsRegistry.newJmxGauge are
deprecated.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed heap
metrics in VirtualMachineMetrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added Snapshot,
which calculates quantiles.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
Percentiled to Sampling and dropped percentile and
percentiles in favor of producing Snapshot instances. This
affects both Histogram and Timer.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
Summarized to Summarizable.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed order of
CsvReporter&rsquo;s construction parameters.</p>

<p style="margin-top: 1em">&Acirc;&middot; Renamed
VirtualMachineMetrics.GarbageCollector to
VirtualMachineMetrics.GarbageCollectorStats.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved
Guice/Servlet support from metrics-servlet to
metrics-guice.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
metrics-aop.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
newJmxGauge from both Metrics and MetricsRegistry. Just use
JmxGauge.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved JmxGauge
to com.yammer.metrics.util.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved
MetricPredicate to com.yammer.metrics.core.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved
NameThreadFactory into ThreadPools and made ThreadPools
package-visible.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
Timer#values(), Histogram#values(), and Sample#values(). Use
getSnapshot() instead.</p>

<p style="margin-top: 1em">&Acirc;&middot; Removed
Timer#dump(File) and Histogram#dump(File), and
Sample#dump(File). Use Snapshot#dump(File) instead.</p>

<p style="margin-top: 1em">v2.0.0-BETA18: Dec 16 2011 <br>
&Acirc;&middot; Added DeathRattleExceptionHandler.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed NPE in
VirtualMachineMetrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added decorators
for connectors and thread pools in metrics-jetty.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
TimerMetric#time() and TimerContext.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added a shorter
factory method for millisecond/second timers.</p>

<p style="margin-top: 1em">&Acirc;&middot; Switched tests
to JUnit.</p>

<p style="margin-top: 1em">&Acirc;&middot; Improved logging
in GangliaReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Improved random
number generation for UniformSample.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-httpclient for instrumenting Apache HttpClient
4.1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Massively
overhauled the reporting code.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added support
for instrumented, non-public methods in metrics-guice.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
@ExceptionMetered to metrics-guice.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added group
prefixes to GangliaReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
CvsReporter, which outputs metric values to .csv files.</p>

<p style="margin-top: 1em">&Acirc;&middot; Improved metric
name sanitization in GangliaReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
Metrics.shutdown() and improved metrics lifecycle
behavior.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-web.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
ehcache 2.5.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Many, many
refactorings.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-servlet
now responds with 501 Not Implememented when no health
checks have been registered.</p>

<p style="margin-top: 1em">&Acirc;&middot; Many internal
refactorings for testability.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added histogram
counts to metrics-servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed a race
condition in ExponentiallyDecayingSample.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added timezone
and locale support to ConsoleReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-aop for Guiceless support of method annotations.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-jdbi which adds instrumentation to JDBI.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed NPE for
metrics which belong to classes in the default package.</p>

<p style="margin-top: 1em">&Acirc;&middot; Now deploying
artifacts to Maven Central.</p>

<p style="margin-top: 1em">v2.0.0-BETA17: Oct 07 2011 <br>
&Acirc;&middot; Added an option message to successful health
check results.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed locale
issues in GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
GangliaReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added per-HTTP
method timers to InstrumentedHandler in metrics-jetty.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed a thread
pool leak for meters.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
#dump(File) to HistogramMetric and TimerMetric.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 1.9.x.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
slf4j 1.6.2.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
logback 0.9.30.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
ehcache 2.4.5.</p>

<p style="margin-top: 1em">&Acirc;&middot; Surfaced
Metrics.removeMetric().</p>

<p style="margin-top: 1em">v2.0.0-BETA16: Aug 23 2011 <br>
&Acirc;&middot; Fixed a bug in GC monitoring.</p>

<p style="margin-top: 1em">v2.0.0-BETA15: Aug 15 2011 <br>
&Acirc;&middot; Fixed dependency scopes for
metrics-jetty.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added time and
VM version to vm output of MetricsServlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Dropped
com.sun.mangement-based GC instrumentation in favor of a
java.lang.management-based one. getLastGcInfo has a nasty
native memory leak in it, plus it often returned <br>
incorrect data.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 1.8.5.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 7.4.5.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
sanitization for metric names in GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Extracted out a
Clock interface for timers for non-wall-clock timing.</p>

<p style="margin-top: 1em">&Acirc;&middot; Extracted out
most of the remaining statics into MetricsRegistry and
HealthCheckRegistry.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added an init
parameter to MetricsServlet for disabling the jvm
section.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added a Guice
module for MetricsServlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added dynamic
metric names.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
ehcache 2.4.5.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
logback 0.9.29.</p>

<p style="margin-top: 1em">&Acirc;&middot; Allowed for the
removal of metrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added the
ability to filter metrics exposed by a reporter to those
which match a given predicate.</p>

<p style="margin-top: 1em">v2.0.0-BETA14: Jul 05 2011 <br>
&Acirc;&middot; Moved to Maven for a build system and
extracted the Scala fa&Atilde;&sect;ade to a metrics-scala
module which is now the only cross-built module. All other
modules dropped the Scala version <br>
suffix in their artifactId.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed non-heap
metric name in GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed stability
error in GraphiteReporter when dealing with unavailable
servers.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed error with
anonymous, instrumented classes.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed error in
MetricsServlet when a gauge throws an exception.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed error with
bogus GC run times.</p>

<p style="margin-top: 1em">&Acirc;&middot; Link to the
pretty JSON output from the MetricsServlet menu page.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed potential
race condition in histograms&rsquo; variance
calculations.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed memory
pool reporting for the G1 collector.</p>

<p style="margin-top: 1em">v2.0.0-BETA13: May 13 2011 <br>
&Acirc;&middot; Fixed a bug in the initial startup phase of
the JmxReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
metrics-ehcache, for the instrumentation of Ehcache
instances.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed a typo in
metrics-jetty&rsquo;s InstrumentedHandler.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added name
prefixes to GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added JVM
metrics reporting to GraphiteReporter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Actually fixed
MetricsServlet&rsquo;s links when the servlet has a non-root
context path.</p>

<p style="margin-top: 1em">&Acirc;&middot; Now
cross-building for Scala 2.9.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added pretty
query parameter for MetricsServlet to format the JSON object
for human consumption.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added no-cache
headers to the MetricsServlet responses.</p>

<p style="margin-top: 1em">v2.0.0-BETA12: May 09 2011 <br>
&Acirc;&middot; Upgraded to Jackson 1.7.6.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added a new
instrumented Log4J appender.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added a new
instrumented Logback appender. Thanks to Bruce Mitchener
(@waywardmonkeys) for the patch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added a new
reporter for the Graphite aggregation system. Thanks to
Mahesh Tiyyagura (@tmahesh) for the patch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added scoped
metric names.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added Scala
2.9.0.RC{2,3,4} as build targets.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added meters to
Jetty handler for the percent of responses which have 4xx or
5xx status codes.</p>

<p style="margin-top: 1em">&Acirc;&middot; Changed the
Servlet API to be a provided dependency. Thanks to
M&Atilde;&yen;rten Gustafson (@chids) for the patch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Separated
project into modules:</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-core: A
dependency-less project with all the core metrics.</p>

<p style="margin-top: 1em">&Acirc;&middot;
metrics-graphite: A reporter for the
[Graphite](http://graphite.wikidot.com) aggregation
system.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-guice:
Guice AOP support.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-jetty:
An instrumented Jetty handler.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-log4j:
An instrumented Log4J appender.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-logback:
An instrumented Logback appender.</p>

<p style="margin-top: 1em">&Acirc;&middot; metrics-servlet:
The Metrics servlet with context listener.</p>

<p style="margin-top: 1em">v2.0.0-BETA11: Apr 27 2011 <br>
&Acirc;&middot; Added thread state and deadlock detection
metrics.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fix
VirtualMachineMetrics&rsquo; initialization.</p>

<p style="margin-top: 1em">&Acirc;&middot; Context path
fixes for the servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added the @Gauge
annotation.</p>

<p style="margin-top: 1em">&Acirc;&middot; Big reworking of
the exponentially-weighted moving average code for meters.
Thanks to JD Maturen (@sku) and John Ewart (@johnewart) for
pointing this out.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Guice 3.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 1.7.5.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jetty 7.4.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Big rewrite of
the servlet&rsquo;s thread dump code.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed race
condition in ExponentiallyDecayingSample. Thanks to Martin
Traverso (@martint) for the patch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Lots of spelling
fixes in Javadocs. Thanks to Bruce Mitchener
(@waywardmonkeys) for the patch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added Scala
2.9.0.RC1 as a build target. Thanks to Bruce Mitchener
(@waywardmonkeys) for the patch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Patched a
hilarious memory leak in java.util.logging.</p>

<p style="margin-top: 1em">v2.0.0-BETA10: Mar 25 2011 <br>
&Acirc;&middot; Added Guice AOP annotations: @Timed and
@Metered.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
HealthCheck#name().</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
Metrics.newJmxGauge().</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved health
checks into HealthChecks.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 1.7.3 and Jetty 7.3.1.</p>

<p style="margin-top: 1em">v2.0.0-BETA9: Mar 14 2011 <br>
&Acirc;&middot; Fixed JmxReporter lag.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added default
arguments to timers and meters.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added default
landing page to the servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Improved the
performance of ExponentiallyDecayingSample.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed an integer
overflow bug in UniformSample.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added linear
scaling to ExponentiallyDecayingSample.</p>

<p style="margin-top: 1em">v2.0.0-BETA8: Mar 01 2011 <br>
&Acirc;&middot; Added histograms.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added biased
sampling for timers.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added dumping of
timer/histogram samples via the servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added dependency
on jackon-mapper.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added classname
filtering for the servlet.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added URI
configuration for the servlet.</p>

<p style="margin-top: 1em">v2.0.0-BETA7: Jan 12 2011 <br>
&Acirc;&middot; Added JettyHandler.</p>

<p style="margin-top: 1em">&Acirc;&middot; Made the Servlet
dependency optional.</p>

<p style="margin-top: 1em">v2.0.0-BETA6: Jan 12 2011 <br>
&Acirc;&middot; Fix JmxReporter initialization.</p>

<p style="margin-top: 1em">v2.0.0-BETA5: Jan 11 2011 <br>
&Acirc;&middot; Dropped Counter#++ and Counter#--.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
Timer#update.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upgraded to
Jackson 1.7.0.</p>

<p style="margin-top: 1em">&Acirc;&middot; Made JMX
reporting implicit.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added health
checks.</p>

<p style="margin-top: 1em">v2.0.0-BETA3: Dec 23 2010 <br>
&Acirc;&middot; Fixed thread names and some docs.</p>

<p style="margin-top: 1em">v2.0.0-BETA2: Dec 22 2010 <br>
&Acirc;&middot; Fixed a memory leak in MeterMetric.</p>

<p style="margin-top: 1em">v2.0.0-BETA1: Dec 22 2010 <br>
&Acirc;&middot; Total rewrite in Java.</p>

<p style="margin-top: 1em">v1.0.7: Sep 21 2010 <br>
&Acirc;&middot; Added median to Timer.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added p95 to
Timer (95th percentile).</p>

<p style="margin-top: 1em">&Acirc;&middot; Added p98 to
Timer (98th percentile).</p>

<p style="margin-top: 1em">&Acirc;&middot; Added p99 to
Timer (99th percentile).</p>

<p style="margin-top: 1em">v1.0.6: Jul 15 2010 <br>
&Acirc;&middot; Now compiled exclusively for 2.8.0
final.</p>

<p style="margin-top: 1em">v1.0.5: Jun 01 2010 <br>
&Acirc;&middot; Documentation fix.</p>

<p style="margin-top: 1em">&Acirc;&middot; Added
TimedToggle, which may or may not be useful at all.</p>

<p style="margin-top: 1em">&Acirc;&middot; Now
cross-building for RC2 and RC3.</p>

<p style="margin-top: 1em">v1.0.4: Apr 27 2010 <br>
&Acirc;&middot; Blank Timer instances (i.e., those which
have recorded no timings yet) no longer explode when asked
for metrics for that which does not yet exist.</p>

<p style="margin-top: 1em">&Acirc;&middot; Nested classes,
companion objects, and singletons don&rsquo;t have trailing
$ characters messing up JMX&rsquo;s good looks.</p>

<p style="margin-top: 1em">v1.0.3: Apr 16 2010 <br>
&Acirc;&middot; Fixed some issues with the implicit.ly
plumbing.</p>

<p style="margin-top: 1em">&Acirc;&middot; Tweaked the
sample size for Timer, giving it 99.9% confidence level with
a %5 margin of error (for a normally distributed variable,
which it almost certainly isn&rsquo;t.)</p>

<p style="margin-top: 1em">&Acirc;&middot; Sample#iterator
returns only the recorded data, not a bunch of zeros.</p>

<p style="margin-top: 1em">&Acirc;&middot; Moved units of
Timer, Meter, and LoadMeter to their own attributes, which
allows for easy export of Metrics data via JMX to things
like Ganglia or whatever.</p>

<p style="margin-top: 1em">v1.0.2: Mar 08 2010 <br>
&Acirc;&middot; Timer now uses Welford&rsquo;s algorithm for
calculating running variance, which means no more
hilariously wrong standard deviations (e.g., NaN).</p>

<p style="margin-top: 1em">&Acirc;&middot; Timer now
supports +=(Long) for pre-recorded, nanosecond-precision
timings.</p>

<p style="margin-top: 1em">v1.0.1: Mar 05 2010 <br>
&Acirc;&middot; changed Sample to use an
AtomicReferenceArray</p>

<p style="margin-top: 1em">v1.0.0: Feb 27 2010 <br>
&Acirc;&middot; Initial release</p>

<p style="margin-top: 1em">AUTHOR <br>
Coda Hale</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2010-2014, Coda Hale, Yammer Inc.</p>

<p style="margin-top: 1em">3.1 Feb 11, 2017 METRICS(1)</p>
<hr>
</body>
</html>
