<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:23:35 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>2004&acirc;04&acirc;15</p>

<p style="margin-top: 1em">mailping</p>

<p style="margin-top: 1em">0.0.4</p>

<p style="margin-top: 1em">MAILPING-CRON(1) Mailping
MAILPING-CRON(1)</p>

<p style="margin-top: 1em">NAME <br>
mailping-cron - run periodic processing to test email
service availability and functioning</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mailping-cron</p>

<p style="margin-top: 1em">DESCRIPTION <br>
mailping-cron processes incoming emails, updates status and
sends out probe messages.</p>

<p style="margin-top: 1em">The idea is to configure
multiple email &acirc;circuits&acirc;, send probe messages
regularly, and see whether they complete the circuit and how
long it took.</p>

<p style="margin-top: 1em">Setting up a circuit <br>
1. Give a name to the circuit, hereafter referred to as
circuit.</p>

<p style="margin-top: 1em">2. Arrange for a local email
address to be delivered to maildir
/var/lib/mailping/state/circuit/incoming/. See
mailping-store.</p>

<p style="margin-top: 1em">3. Create a configuration for
the circuit, by creating directory
/etc/mailping/circuit.</p>

<p style="margin-top: 1em">If you need non-default sender
and/or recipient addresses, create files from and to there,
containing the sender and recipient addresses suitable for
the circuit.</p>

<p style="margin-top: 1em">4. You&rsquo;re done! Munin
should now see the data.</p>

<p style="margin-top: 1em">Testing multiple servers <br>
To test functioning of more than one email server, arrange
an email alias at a remote site pointing to an address on
your server, and set the address of that alias here.</p>

<p style="margin-top: 1em">Here&rsquo;s an example of
testing a system consisting of two email servers and
everything in that path (smarthosts, primary MXs, virus
checkers, etc.):</p>

<p style="margin-top: 1em">Local address
&lt;mailping+that@this.example.com&gt; is delivered with
mailping-store to
/var/lib/mailping/state/that/incoming/.</p>

<p style="margin-top: 1em">Remote address
&lt;echo@that.example.com&gt; is an alias that redirects all
email to &lt;mailping+that@this.example.com&gt;.</p>

<p style="margin-top: 1em">/etc/mailping/that/to is set to
&lt;echo@that.example.com&gt;.</p>

<p style="margin-top: 1em">FILES <br>
/etc/mailping/circuit/from <br>
Sender address for the probe emails. Default:
&lt;currentuserid@fullyqualifiedhostname&gt;.</p>

<p style="margin-top: 1em">/etc/mailping/circuit/to <br>
Recipient address for the probe emails. You must arrange for
the email to eventually get delivered to the maildir
/var/lib/mailping/state/circuit/incoming/. mailping-store
<br>
will probably be useful in that. Default:
&lt;currentuserid+circuit@fullyqualifiedhostname&gt;</p>

<p style="margin-top: 1em">/etc/mailping/circuit/admin <br>
Admistrative address, set as Reply-To in probe messages.
Default: do not add Reply-To.</p>

<p style="margin-top: 1em">/etc/mailping/circuit/interval
<br>
How often a probe message is sent, in seconds. Default: 600
seconds.</p>


<p style="margin-top: 1em">/var/lib/mailping/state/circuit/
<br>
Stored state for the probing.</p>


<p style="margin-top: 1em">/var/lib/mailping/state/circuit/junk/
<br>
Maildir used to store all messages in incoming that do not
look like probe messages. Read and delete them
regularly.</p>


<p style="margin-top: 1em">/var/lib/mailping/state/circuit/broken/
<br>
Maildir used to store all messages in incoming that do look
like probe messages, but a corresponding pending entry
cannot be found. Duplicated probe messages cause these. <br>
Read and delete them regularly.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
MAILPING_CONFIGDIR <br>
Override the location of the configuration directory.
Default: /etc/mailping</p>

<p style="margin-top: 1em">MAILPING_STATEDIR <br>
Override the location of the state directory. Circuit states
are stored in the state subdirectory of this directory, in
subdirectories named after the circuit name. Default: <br>
/var/lib/mailping</p>

<p style="margin-top: 1em">SEE ALSO <br>
mailping-store(1), mailping-success(1),
mailping-latency(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Tommi Virtanen &lt;tv@havoc.fi&gt; <br>
Havoc Consulting <br>
Author.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2004 Havoc Consulting</p>

<p style="margin-top: 1em">mailping 0. 2004-04-15
MAILPING-CRON(1)</p>
<hr>
</body>
</html>
