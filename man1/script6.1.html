<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SCRIPT6(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SCRIPT6(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SCRIPT6(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
script6 - A tool to make complex IPv6 tasks easy <b>script6</b> SCRIPT
  <i>[PARAMETERS</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>script6</b> is a set up scripts that make frequent and/or rather complex
  IPv6-related tasks easy.
<div style="height: 1.00em;">&#x00A0;</div>
<b>SCRIPTS</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>get-aaaa</b>
<div style="height: 1.00em;">&#x00A0;</div>
This script takes no further arguments, and operates as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
+ The tool reads domain names from standard-input (one per line),
&#x00A0; and obtains the AAAA records for the corresponding domain. If the
&#x00A0; domain name does not contain AAAA records, the tool will add
&#x00A0; the suffix &quot;www.&quot;, in the hopes that the resulting domain name
&#x00A0; might contain some.
<div class="Pp"></div>
+ Lines where the first non-blank character is the numeral sign (#)
&#x00A0; are consdered to contain comments, and hence are ignored.
<div class="Pp"></div>
+ The format of the resulting output is:
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
  # DOMAIN_NAME (CANONIC_NAME)
  IPV6_ADDRESS_1
  IPV6_ADDRESS_2
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>get-alexa-domains</b>
<div style="height: 1.00em;">&#x00A0;</div>
This script takes no further arguments, and operates as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
+ It reads from standard input lines with the same format as those
of Alexa's Top 1M web sites. That is, lines with the folowing syntax:
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
RANKING,DOMAIN_NAME
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
+ It extracts the domainname from each line, and prints the corresponding
domain name to standard output.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This script is typically useful for extracting domain names from Alexa's Top 1M
  web sites file, such that they can be processed by other tools (e.g. the
  get-aaaa command of script6).
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>get-ns</b>
<div style="height: 1.00em;">&#x00A0;</div>
This script takes no further arguments, and operates as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
+ The tool reads domain names from standard-input (oner per line),
&#x00A0; and obtains the NS records for the corresponding domain.
<div class="Pp"></div>
+ Lines where the first non-blank character is the numeral sign (#)
&#x00A0; are consdered to contain comments, and hence are ignored.
<div class="Pp"></div>
+ The format of the resulting output is:
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
  # DOMAIN_NAME (CANONIC_NAME)
  MX_RECORD_1
  MX_RECORD_2
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>get-mx</b>
<div style="height: 1.00em;">&#x00A0;</div>
This script takes no further arguments, and operates as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
+ The tool reads domain names from standard-input (oner per line),
&#x00A0; and obtains the MX for the corresponding domain.
<div class="Pp"></div>
+ Lines where the first non-blank character is the numeral sign (#)
&#x00A0; are consdered to contain comments, and hence are ignored.
<div class="Pp"></div>
+ The format of the resulting output is:
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
  # DOMAIN_NAME (CANONIC_NAME)
  MX_RECORD_1
  MX_RECORD_2
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>get-ns</b>
<div style="height: 1.00em;">&#x00A0;</div>
This script takes no further arguments, and operates as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
+ The tool reads domain names from standard-input (oner per line),
&#x00A0; and obtains the NS records for the corresponding domain.
<div class="Pp"></div>
+ Lines where the first non-blank character is the numeral sign (#)
&#x00A0; are consdered to contain comments, and hence are ignored.
<div class="Pp"></div>
+ The format of the resulting output is:
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
  # DOMAIN_NAME (CANONIC_NAME)
  MX_RECORD_1
  MX_RECORD_2
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>get-trace-stats</b>
<div style="height: 1.00em;">&#x00A0;</div>
This command causes the script6 tool to read from standard input the results of
  a &quot;script6 trace&quot; command (typically piped from a file), and produce
  statistics based on such results.
<div style="height: 1.00em;">&#x00A0;</div>
Among the statistics produced by this command are:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * Packet drop rate: That is, the percentage of destination IPv6
<br/>
 addresses that result unreachable if IPv6 extension headers are
<br/>
 employed.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * Packet drop rate by different AS: That is, the percentage of packet
<br/>
 drops that occur at an Autonomous System (AS) other than the AS
<br/>
 corresponding to the destination IPv6 address.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * Packet drop rate by same AS: That is, the percentage of packet
<br/>
 drops that occur at the same Autonomous System (AS) as that
<br/>
 corresponding to the destination IPv6 address.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * Delta-Hops statistics: Statistics regarding the Delta-Hops at which
<br/>
 the packet drops occur, with &quot;delta-hops&quot; defined as &quot;the number
  of
<br/>
 hops from the intended destination&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
The get-trace-stats performs a number of sanity checks on the input data (i.e.,
  the output from &quot;script6 trace&quot;). For example, if a line of input
  indicates that the last responding node for the non-EH-enabled path6 command
  is not the intended destination, this means that the destination is
  unreachable even when no IPv6 extension headers are employed, and hence the
  corresponding line will be discarded.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>trace DESTINATION [EHTYPE[EHSIZE]] [PROTOCOL [DESTPORT]]]</b>
<div style="height: 1.00em;">&#x00A0;</div>
The trace command causes the script6 to read IPv6 addresses from standard input
  (typically piped from a file). For each IPv6 address, the script6 will try to
  isolate IPv6 blackholes resulting from employing IPv6 extension headers. By
  default, the probe packets (containing IPv6 Extension Headers) are IPv6
  packets with a Destination Options Header of 8 bytes, encapsulating an ICMPv6
  Echo Request message. However, this can be overridden by specifying the EHTYPE
  {DO,HBH,FH}, EHSIZE (an integer), PROTOCOL {tcp,udp,icmpv6}, and DESTPORT (a
  short integer) parameters.
<div style="height: 1.00em;">&#x00A0;</div>
The &quot;trace&quot; command of the script6 tool internally employs the path6
  tool of the toolkit as follows. Let us assume that we want to isolate an IPv6
  blackhole on the path towards the destination system 2001:db8:d::1. Firstly,
  script6 will obtain the output of path6 towards such destination:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
      1. 2001:db8:1:1000::1
      2. 2001:db8:2:2000::4
      3. 2001:db8:2:4000::1
      4. 2001:db8:3:4000::1
      5. 2001:db8:3:1000::1
      6. 2001:db8:4:4000::1
      7. 2001:db8:4:1000::1
      8. 2001:db8:5:5000::1
      9. 2001:db8:5:6000::1
      10. 2001:db8:d::1
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Subsequently, script6 will obtain the output of EH-enabled path6 to the same
  destination:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
      1. 2001:db8:1:1000::1
      2. 2001:db8:2:2000::4
      3. 2001:db8:2:4000::1
      4. 2001:db8:3:4000::1
      5. 2001:db8:3:1000::1
      6. 2001:db8:4:4000::1
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
For the sake of brevity, let us refer to the last-responding node in the
  EH-enabled path6 (&quot;2001:db8:4:4000::1&quot; in this case) as
  &quot;M&quot;. Assuming both packets in both path6 commands employ the same
  path, we will refer to &quot;the node following the last responding node in
  the EH-enabled path6&quot; (&quot;2001:db8:4:1000::1&quot; in our case), as
  &quot;M+1&quot;, etc.
<div style="height: 1.00em;">&#x00A0;</div>
Based on traceroute information above, which node is the one actually dropping
  the EH-enabled packets will depend on whether the dropping node filters
  packets on ingress or the egress. If the former, the dropping node will be
  M+1. If the latter, the dropping node will be &quot;M&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
path6 assumes that nodes perform ingress-filtering. Thus, in our example above
  the last responding node to the EH-enabled traceroute (&quot;M&quot;) is
  &quot;2001:db8:4:4000::1&quot;, and therefore we assume the &quot;node&quot;
  dropping node to be &quot;2001:db8:4:1000::1&quot; (&quot;M+1&quot;).
<div style="height: 1.00em;">&#x00A0;</div>
The resulting output will have the following syntax:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
    DEST#LAST_NOEH#HOPS_NOEH#LAST_EH$HOPS_EH#DROPN#DROPN2
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
where:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * DEST: Destination IPv6 address (as read from standard input).
<br/>
 In our example above, this would be 2001:db8:d::1.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * LAST_NOEH: Last responding IPv6 address for the path6 command
<br/>
 with no IPv6 extension headers (this will be the same as DEST
<br/>
 if there is a working path to the destination). In our example
<br/>
 above, this would be 2001:db8:d::1.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * HOPS_NOEH: Number of hops to LAST_NOEH. In our example above,
<br/>
 this would be &quot;10&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * LAST_EH: Last responding IPv6 address in the EH-enabled path6
<br/>
 command. In our example above, this would be 2001:db8:4:4000::1.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * HOPS_EH: Number of hops to LAST_EH. In our example above, this
<br/>
 would be &quot;6&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * DROPN: Dropping node (M+1 in our explanation above). In our
<br/>
 example above, this would be 2001:db8:4:1000::1.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * DROPN: Node after the dropping node (M+2). In our example,
<br/>
 this would be 2001:db8:5:5000::1.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The output of the &quot;trace&quot; command is meant to be processed by the
  get-trace-stats command of the script6 tool. Please check the blackhole6(1)
  tool for a more human-friendly tool for isolating IPv6 blackholes.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The following sections illustrate typical use cases of the <b>script6</b> tool.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example #1</b>
<div style="height: 1.00em;">&#x00A0;</div>
$ script6 get-asn 2001:db8::1
<div style="height: 1.00em;">&#x00A0;</div>
Obtain the Origin Autonomous System (AS) number for the IPv6 address
  2001:db8::1.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example #2</b>
<div style="height: 1.00em;">&#x00A0;</div>
$ script6 get-as 2001:db8::1
<div style="height: 1.00em;">&#x00A0;</div>
Obtain information about the Origin Autonomous System (AS) of the IPv6 address
  2001:db8::1.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example #3</b>
<div style="height: 1.00em;">&#x00A0;</div>
$ cat domains.txt | script6 get-aaaa &gt; domains-aaaa.txt
<div style="height: 1.00em;">&#x00A0;</div>
Map the domain names contained in the file &quot;domains.txt&quot; into AAAA
  records, and save the results in the file &quot;domains-aaaa.txt&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example #4</b>
<div style="height: 1.00em;">&#x00A0;</div>
# cat domains-aaaa.txt | script6 trace do8 tcp port 25 &gt; trace-results.txt
<div style="height: 1.00em;">&#x00A0;</div>
Find IPv6 blackholes in the path to each of the IPv6 addresses contained in the
  file &quot;domains-aaaa.txt&quot; (one per line), and save the results to the
  file &quot;trace-results.txt&quot;. The probe packets to be employed are IPv6
  packets with a Destination Options header of 8 bytes, encapsulating a TCP
  segment with the Destinatio Port set to 25.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example #5</b>
<div style="height: 1.00em;">&#x00A0;</div>
$ cat trace-results.txt | script6 get-trace-stats
<div style="height: 1.00em;">&#x00A0;</div>
Produce statistics based on the trace results from the file
  &quot;trace-results.txt&quot; (produced with &quot;script6 trace&quot;).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>blackhole6</b>(1) <b>path6</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
draft-gont-v6ops-ipv6-ehs-in-real-world (available at:
  <i>&lt;http://tools.ietf.org/html/draft-gont-v6ops-ipv6-ehs-in-real-world&gt;</i>)
  for a discussion of support of IPv6 Extension Headers in the public Internet.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The <b>script6</b> tool and the corresponding manual pages were produced by
  Fernando Gont <i>&lt;fgont@si6networks.com&gt;</i> for SI6 Networks
  <i>&lt;http://www.si6networks.com&gt;</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2014-2015 Fernando Gont.
<div style="height: 1.00em;">&#x00A0;</div>
Permission is granted to copy, distribute and/or modify this document under the
  terms of the GNU Free Documentation License, Version 1.3 or any later version
  published by the Free Software Foundation; with no Invariant Sections, no
  Front-Cover Texts, and no Back-Cover Texts. A copy of the license is available
  at <i>&lt;http://www.gnu.org/licenses/fdl.html&gt;</i>.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
