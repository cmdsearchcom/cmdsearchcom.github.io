<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:37:08 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SCRIPT6(1) General Commands Manual SCRIPT6(1)</p>

<p style="margin-top: 1em">NAME <br>
script6 - A tool to make complex IPv6 tasks easy script6
SCRIPT [PARAMETERS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
script6 is a set up scripts that make frequent and/or rather
complex IPv6-related tasks easy.</p>

<p style="margin-top: 1em">SCRIPTS</p>

<p style="margin-top: 1em">get-aaaa</p>

<p style="margin-top: 1em">This script takes no further
arguments, and operates as follows:</p>

<p style="margin-top: 1em">+ The tool reads domain names
from standard-input (one per line), <br>
and obtains the AAAA records for the corresponding domain.
If the <br>
domain name does not contain AAAA records, the tool will add
<br>
the suffix &quot;www.&quot;, in the hopes that the resulting
domain name <br>
might contain some.</p>

<p style="margin-top: 1em">+ Lines where the first
non-blank character is the numeral sign (#) <br>
are consdered to contain comments, and hence are
ignored.</p>

<p style="margin-top: 1em">+ The format of the resulting
output is:</p>

<p style="margin-top: 1em"># DOMAIN_NAME (CANONIC_NAME)
<br>
IPV6_ADDRESS_1 <br>
IPV6_ADDRESS_2</p>

<p style="margin-top: 1em">get-alexa-domains</p>

<p style="margin-top: 1em">This script takes no further
arguments, and operates as follows:</p>

<p style="margin-top: 1em">+ It reads from standard input
lines with the same format as those <br>
of Alexa&rsquo;s Top 1M web sites. That is, lines with the
folowing syntax:</p>

<p style="margin-top: 1em">RANKING,DOMAIN_NAME</p>

<p style="margin-top: 1em">+ It extracts the domainname
from each line, and prints the corresponding <br>
domain name to standard output.</p>

<p style="margin-top: 1em">This script is typically useful
for extracting domain names from Alexa&rsquo;s Top 1M web
sites file, such that they can be processed by other tools
(e.g. the get-aaaa command of <br>
script6).</p>

<p style="margin-top: 1em">get-ns</p>

<p style="margin-top: 1em">This script takes no further
arguments, and operates as follows:</p>

<p style="margin-top: 1em">+ The tool reads domain names
from standard-input (oner per line), <br>
and obtains the NS records for the corresponding domain.</p>

<p style="margin-top: 1em">+ Lines where the first
non-blank character is the numeral sign (#) <br>
are consdered to contain comments, and hence are
ignored.</p>

<p style="margin-top: 1em">+ The format of the resulting
output is:</p>

<p style="margin-top: 1em"># DOMAIN_NAME (CANONIC_NAME)
<br>
MX_RECORD_1 <br>
MX_RECORD_2</p>

<p style="margin-top: 1em">get-mx</p>

<p style="margin-top: 1em">This script takes no further
arguments, and operates as follows:</p>

<p style="margin-top: 1em">+ The tool reads domain names
from standard-input (oner per line), <br>
and obtains the MX for the corresponding domain.</p>

<p style="margin-top: 1em">+ Lines where the first
non-blank character is the numeral sign (#) <br>
are consdered to contain comments, and hence are
ignored.</p>

<p style="margin-top: 1em">+ The format of the resulting
output is:</p>

<p style="margin-top: 1em"># DOMAIN_NAME (CANONIC_NAME)
<br>
MX_RECORD_1 <br>
MX_RECORD_2</p>

<p style="margin-top: 1em">get-ns</p>

<p style="margin-top: 1em">This script takes no further
arguments, and operates as follows:</p>

<p style="margin-top: 1em">+ The tool reads domain names
from standard-input (oner per line), <br>
and obtains the NS records for the corresponding domain.</p>

<p style="margin-top: 1em">+ Lines where the first
non-blank character is the numeral sign (#) <br>
are consdered to contain comments, and hence are
ignored.</p>

<p style="margin-top: 1em">+ The format of the resulting
output is:</p>

<p style="margin-top: 1em"># DOMAIN_NAME (CANONIC_NAME)
<br>
MX_RECORD_1 <br>
MX_RECORD_2</p>

<p style="margin-top: 1em">get-trace-stats</p>

<p style="margin-top: 1em">This command causes the script6
tool to read from standard input the results of a
&quot;script6 trace&quot; command (typically piped from a
file), and produce statistics based on such <br>
results.</p>

<p style="margin-top: 1em">Among the statistics produced by
this command are:</p>

<p style="margin-top: 1em">* Packet drop rate: That is, the
percentage of destination IPv6 <br>
addresses that result unreachable if IPv6 extension headers
are <br>
employed.</p>

<p style="margin-top: 1em">* Packet drop rate by different
AS: That is, the percentage of packet <br>
drops that occur at an Autonomous System (AS) other than the
AS <br>
corresponding to the destination IPv6 address.</p>

<p style="margin-top: 1em">* Packet drop rate by same AS:
That is, the percentage of packet <br>
drops that occur at the same Autonomous System (AS) as that
<br>
corresponding to the destination IPv6 address.</p>

<p style="margin-top: 1em">* Delta-Hops statistics:
Statistics regarding the Delta-Hops at which <br>
the packet drops occur, with &quot;delta-hops&quot; defined
as &quot;the number of <br>
hops from the intended destination&quot;.</p>

<p style="margin-top: 1em">The get-trace-stats performs a
number of sanity checks on the input data (i.e., the output
from &quot;script6 trace&quot;). For example, if a line of
input indicates that the last respond&acirc; <br>
ing node for the non-EH-enabled path6 command is not the
intended destination, this means that the destination is
unreachable even when no IPv6 extension headers are
employed, <br>
and hence the corresponding line will be discarded.</p>

<p style="margin-top: 1em">trace DESTINATION
[EHTYPE[EHSIZE]] [PROTOCOL [DESTPORT]]]</p>

<p style="margin-top: 1em">The trace command causes the
script6 to read IPv6 addresses from standard input
(typically piped from a file). For each IPv6 address, the
script6 will try to isolate IPv6 black&acirc; <br>
holes resulting from employing IPv6 extension headers. By
default, the probe packets (containing IPv6 Extension
Headers) are IPv6 packets with a Destination Options Header
of 8 <br>
bytes, encapsulating an ICMPv6 Echo Request message.
However, this can be overridden by specifying the EHTYPE
{DO,HBH,FH}, EHSIZE (an integer), PROTOCOL {tcp,udp,icmpv6},
and <br>
DESTPORT (a short integer) parameters.</p>

<p style="margin-top: 1em">The &quot;trace&quot; command of
the script6 tool internally employs the path6 tool of the
toolkit as follows. Let us assume that we want to isolate an
IPv6 blackhole on the path towards <br>
the destination system 2001:db8:d::1. Firstly, script6 will
obtain the output of path6 towards such destination:</p>

<p style="margin-top: 1em">1. 2001:db8:1:1000::1 <br>
2. 2001:db8:2:2000::4 <br>
3. 2001:db8:2:4000::1 <br>
4. 2001:db8:3:4000::1 <br>
5. 2001:db8:3:1000::1 <br>
6. 2001:db8:4:4000::1 <br>
7. 2001:db8:4:1000::1 <br>
8. 2001:db8:5:5000::1 <br>
9. 2001:db8:5:6000::1 <br>
10. 2001:db8:d::1</p>

<p style="margin-top: 1em">Subsequently, script6 will
obtain the output of EH-enabled path6 to the same
destination:</p>

<p style="margin-top: 1em">1. 2001:db8:1:1000::1 <br>
2. 2001:db8:2:2000::4 <br>
3. 2001:db8:2:4000::1 <br>
4. 2001:db8:3:4000::1 <br>
5. 2001:db8:3:1000::1 <br>
6. 2001:db8:4:4000::1</p>

<p style="margin-top: 1em">For the sake of brevity, let us
refer to the last-responding node in the EH-enabled path6
(&quot;2001:db8:4:4000::1&quot; in this case) as
&quot;M&quot;. Assuming both packets in both path6 commands
<br>
employ the same path, we will refer to &quot;the node
following the last responding node in the EH-enabled
path6&quot; (&quot;2001:db8:4:1000::1&quot; in our case), as
&quot;M+1&quot;, etc.</p>

<p style="margin-top: 1em">Based on traceroute information
above, which node is the one actually dropping the
EH-enabled packets will depend on whether the dropping node
filters packets on ingress or the <br>
egress. If the former, the dropping node will be M+1. If the
latter, the dropping node will be &quot;M&quot;.</p>

<p style="margin-top: 1em">path6 assumes that nodes perform
ingress-filtering. Thus, in our example above the last
responding node to the EH-enabled traceroute (&quot;M&quot;)
is &quot;2001:db8:4:4000::1&quot;, and therefore <br>
we assume the &quot;node&quot; dropping node to be
&quot;2001:db8:4:1000::1&quot; (&quot;M+1&quot;).</p>

<p style="margin-top: 1em">The resulting output will have
the following syntax:</p>


<p style="margin-top: 1em">DEST#LAST_NOEH#HOPS_NOEH#LAST_EH$HOPS_EH#DROPN#DROPN2</p>

<p style="margin-top: 1em">where:</p>

<p style="margin-top: 1em">* DEST: Destination IPv6 address
(as read from standard input). <br>
In our example above, this would be 2001:db8:d::1.</p>

<p style="margin-top: 1em">* LAST_NOEH: Last responding
IPv6 address for the path6 command <br>
with no IPv6 extension headers (this will be the same as
DEST <br>
if there is a working path to the destination). In our
example <br>
above, this would be 2001:db8:d::1.</p>

<p style="margin-top: 1em">* HOPS_NOEH: Number of hops to
LAST_NOEH. In our example above, <br>
this would be &quot;10&quot;.</p>

<p style="margin-top: 1em">* LAST_EH: Last responding IPv6
address in the EH-enabled path6 <br>
command. In our example above, this would be
2001:db8:4:4000::1.</p>

<p style="margin-top: 1em">* HOPS_EH: Number of hops to
LAST_EH. In our example above, this <br>
would be &quot;6&quot;.</p>

<p style="margin-top: 1em">* DROPN: Dropping node (M+1 in
our explanation above). In our <br>
example above, this would be 2001:db8:4:1000::1.</p>

<p style="margin-top: 1em">* DROPN: Node after the dropping
node (M+2). In our example, <br>
this would be 2001:db8:5:5000::1.</p>

<p style="margin-top: 1em">The output of the
&quot;trace&quot; command is meant to be processed by the
get-trace-stats command of the script6 tool. Please check
the blackhole6(1) tool for a more human-friendly tool <br>
for isolating IPv6 blackholes.</p>

<p style="margin-top: 1em">EXAMPLES <br>
The following sections illustrate typical use cases of the
script6 tool.</p>

<p style="margin-top: 1em">Example #1</p>

<p style="margin-top: 1em">$ script6 get-asn
2001:db8::1</p>

<p style="margin-top: 1em">Obtain the Origin Autonomous
System (AS) number for the IPv6 address 2001:db8::1.</p>

<p style="margin-top: 1em">Example #2</p>

<p style="margin-top: 1em">$ script6 get-as 2001:db8::1</p>

<p style="margin-top: 1em">Obtain information about the
Origin Autonomous System (AS) of the IPv6 address
2001:db8::1.</p>

<p style="margin-top: 1em">Example #3</p>

<p style="margin-top: 1em">$ cat domains.txt | script6
get-aaaa &gt; domains-aaaa.txt</p>

<p style="margin-top: 1em">Map the domain names contained
in the file &quot;domains.txt&quot; into AAAA records, and
save the results in the file
&quot;domains-aaaa.txt&quot;.</p>

<p style="margin-top: 1em">Example #4</p>

<p style="margin-top: 1em"># cat domains-aaaa.txt | script6
trace do8 tcp port 25 &gt; trace-results.txt</p>

<p style="margin-top: 1em">Find IPv6 blackholes in the path
to each of the IPv6 addresses contained in the file
&quot;domains-aaaa.txt&quot; (one per line), and save the
results to the file &quot;trace-results.txt&quot;. The <br>
probe packets to be employed are IPv6 packets with a
Destination Options header of 8 bytes, encapsulating a TCP
segment with the Destinatio Port set to 25.</p>

<p style="margin-top: 1em">Example #5</p>

<p style="margin-top: 1em">$ cat trace-results.txt |
script6 get-trace-stats</p>

<p style="margin-top: 1em">Produce statistics based on the
trace results from the file &quot;trace-results.txt&quot;
(produced with &quot;script6 trace&quot;).</p>

<p style="margin-top: 1em">SEE ALSO <br>
blackhole6(1) path6(1)</p>


<p style="margin-top: 1em">draft-gont-v6ops-ipv6-ehs-in-real-world
(available at:
&lt;http://tools.ietf.org/html/draft-gont-v6ops-ipv6-ehs-in-real-world&gt;)
for a discussion of support of IPv6 Extension Headers <br>
in the public Internet.</p>

<p style="margin-top: 1em">AUTHOR <br>
The script6 tool and the corresponding manual pages were
produced by Fernando Gont &lt;fgont@si6networks.com&gt; for
SI6 Networks &lt;http://www.si6networks.com&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 2014-2015 Fernando Gont.</p>

<p style="margin-top: 1em">Permission is granted to copy,
distribute and/or modify this document under the terms of
the GNU Free Documentation License, Version 1.3 or any later
version published by the <br>
Free Software Foundation; with no Invariant Sections, no
Front-Cover Texts, and no Back-Cover Texts. A copy of the
license is available at <br>
&lt;http://www.gnu.org/licenses/fdl.html&gt;.</p>
 
<p style="margin-top: 1em">SCRIPT6(1)</p>
<hr>
</body>
</html>
