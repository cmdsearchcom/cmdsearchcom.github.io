<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>XMONISDN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">XMONISDN(1)</td>
    <td class="head-vol">X Tools</td>
    <td class="head-rtitle">XMONISDN(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
xmonisdn - monitor for ISDN network
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>xmonisdn</b> [ - <i>toolkitoption</i> ... ] [ <i>-option</i> ... ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>xmonisdn</i> program displays the status of the ISDN network connection
  and allows the starting and stopping of the ISDN subsystem. If the ISDN
  subsystem is not active, a window showing a terminal in the foreground and a
  dashed terminal in the backgorund is displayed. If the ISDN system is active,
  but there is no network connection established, two terminals with dashed
  arrows between them is displayed. If there is a incoming connection or there
  is dialing in progress, the arrows become more solid. An outgoing network
  connection is signaled by solid arrows between the terminals and the window is
  displayed in reverse video. If the ISDN subsystem dials out or hangs up, the
  program beeps to signal the state change (this can be changed using the
  <i>volume</i> option).
<div class="Pp"></div>
Pressing button 2 on the window executes the command <i>/sbin/ifup</i> and
  pressing button 3 executes <i>/sbin/ifdown</i>
<div>&#x00A0;</div>
<i>/sbin/ifup</i> and <i>/sbin/ifdown</i> should start and stop the ISDN
  subsystem; if the route command is used, xmonisdn must be run as setuid root
  for this to work. Alternatively, the scripts can manipulate the isdnctrl
  dialmode setting, in which case only permission to access /dev/isdnctrl is
  needed.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<i>xmonisdn</i> accepts all of the standard X Toolkit command line options along
  with the additional options listed below:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">This option indicates that a brief summary of the allowed
      options should be printed on the standard error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-update <i>tenth of a second</i></b></dt>
  <dd class="It-tag">This option specifies the frequency in 1/10 of a second at
      which <i>xmonisdn</i> should update its display. If the window is obscured
      and then exposed, it will be updated immediately. The default is 0.5
      seconds (i.e. -update 5).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-file <i>filename</i></b></dt>
  <dd class="It-tag">This option specifies the name of the file which should be
      monitored. By default, it watches /dev/isdninfo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-volume <i>percentage</i></b></dt>
  <dd class="It-tag">This option specifies how loud the bell should be rung when
      there is an important status change.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-shape</b></dt>
  <dd class="It-tag">This option indicates that the xmonisdn window should be
      shaped if masks for the images are given.</dd>
</dl>
<div class="Pp"></div>
The following standard X Toolkit command line arguments are commonly used with
  <i>xmonisdn:</i>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-display <i>display</i></b></dt>
  <dd class="It-tag">This option specifies the X server to contact.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-geometry <i>geometry</i></b></dt>
  <dd class="It-tag">This option specifies the preferred size and position of
      the xmonisdn window. The icon is 48 pixels wide and 48 pixels high and
      will be centered in the window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bg <i>color</i></b></dt>
  <dd class="It-tag">This option specifies the color to use for the background
      of the window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bd <i>color</i></b></dt>
  <dd class="It-tag">This option specifies the color to use for the border of
      the window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bw <i>number</i></b></dt>
  <dd class="It-tag">This option specifies the width in pixels of the border
      surrounding the window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-fg <i>color</i></b></dt>
  <dd class="It-tag">This option specifies the color to use for the foreground
      of the window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-rv</b></dt>
  <dd class="It-tag">This option indicates that reverse video should be
      simulated by swapping the foreground and background colors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-xrm <i>resourcestring</i></b></dt>
  <dd class="It-tag">This option specifies a resource string to be used. This is
      especially useful for setting resources that do not have separate command
      line options.</dd>
</dl>
<h1 class="Sh" title="Sh" id="X_DEFAULTS"><a class="selflink" href="#X_DEFAULTS">X
  DEFAULTS</a></h1>
The application class name is xmonisdn. This program uses the <i>Netstat</i>
  widget. It understands all of the core resource names and classes as well as:
<dl class="Bl-tag">
  <dt class="It-tag"><b>file (<i>class</i><b> File)</b></b></dt>
  <dd class="It-tag">Specifies the name of the file to monitor. The default is
      to watch /dev/isdninfo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>width (<b>class</b><b> Width)</b></b></dt>
  <dd class="It-tag">Specifies the width of the icon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>height (<b>class</b><b> Height)</b></b></dt>
  <dd class="It-tag">Specifies the height of the icon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>update (<b>class</b><b> Interval)</b></b></dt>
  <dd class="It-tag">Specifies the frequency in 1/10 of a second at which the
      isdninfo file should be checked. The default is 5.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>volume (<b>class</b><b> Volume)</b></b></dt>
  <dd class="It-tag">Specifies how loud the bell should be rung. The default is
      33 percent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>foreground (<b>class</b><b> Foreground)</b></b></dt>
  <dd class="It-tag">Specifies the color for the foreground.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reverseVideo (<b>class</b><b> ReverseVideo)</b></b></dt>
  <dd class="It-tag">Specifies that the foreground and background should be
      reversed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>flip (<b>class</b><b> Flip)</b></b></dt>
  <dd class="It-tag">Specifies whether or not the image that is shown when there
      is an outgoing network connection should be inverted. The default is
      ``true.''</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>inactivePixmap (<b>class</b><b> Pixmap)</b></b></dt>
  <dd class="It-tag">Specifies a bitmap to be shown when the ISDN subsystem is
      inactive. The default is netinactive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>waitingPixmap (<b>class</b><b> Pixmap)</b></b></dt>
  <dd class="It-tag">Specifies a bitmap to be shown when the ISDN subsystem is
      active, but there is no connection. The default is netwaiting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>activePixmap (<b>class</b><b> Pixmap)</b></b></dt>
  <dd class="It-tag">Specifies a bitmap to be shown when there is a incoming
      network connection (or dialing is in progress). The default is
    netactive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>activeoutPixmap (<b>class</b><b> Pixmap)</b></b></dt>
  <dd class="It-tag">Specifies a bitmap to be shown when there is a outgoing
      network connection. The default is netactiveout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>startPixmap (<b>class</b><b> Pixmap)</b></b></dt>
  <dd class="It-tag">Specifies a bitmap to be shown when the ISDN network is
      started up. The default is netstart.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stopPixmap (<b>class</b><b> Pixmap)</b></b></dt>
  <dd class="It-tag">Specifies a bitmap to be shown when the ISDN network is
      stopped. The default is netstop.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shapeWindow (<b>class</b><b> ShapeWindow)</b></b></dt>
  <dd class="It-tag">Specifies whether or not the xmonisdn window should be
      shaped to the given PixmapMasks. The default is false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>inactivePixmapMask (<b>class</b><b>
    PixmapMask)</b></b></dt>
  <dd class="It-tag">Specifies a mask for the bitmap to be shown when the ISDN
      subsystem is inactive. The default is none.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>waitingPixmapMask (<b>class</b><b>
    PixmapMask)</b></b></dt>
  <dd class="It-tag">Specifies a mask for the bitmap to be shown when the ISDN
      subsystem is active, but there is no connection. The default is none.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>activePixmapMask (<b>class</b><b>
    PixmapMask)</b></b></dt>
  <dd class="It-tag">Specifies a mask for the bitmap to be shown when when there
      is a incoming network connection (or dialing is in progress). The default
      is none.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>activeoutPixmapMask (<b>class</b><b>
    PixmapMask)</b></b></dt>
  <dd class="It-tag">Specifies a mask for the bitmap to be shown when there is a
      outgoing network connection. The default is none.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>startPixmapMask (<b>class</b><b>
    PixmapMask)</b></b></dt>
  <dd class="It-tag">Specifies a mask for the bitmap to be shown when the ISDN
      network is started up. The default is none.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stopPixmapMask (<b>class</b><b> PixmapMask)</b></b></dt>
  <dd class="It-tag">Specifies a mask for the bitmap to be shown when the ISDN
      network is stopped. The default is none.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACTIONS"><a class="selflink" href="#ACTIONS">ACTIONS</a></h1>
The <i>Netstat</i> widget provides the following actions for use in event
  translations:
<dl class="Bl-tag">
  <dt class="It-tag"><b>check()</b></dt>
  <dd class="It-tag">This action causes the widget to check the isdninfo file
      and display the appropriate icon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>netdown()</b></dt>
  <dd class="It-tag">This action causes the widget to execute /sbin/ifdown
    stop.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>netup()</b></dt>
  <dd class="It-tag">This action causes the widget to execute /sbin/ifup
    start.</dd>
</dl>
<div class="Pp"></div>
The default translation is
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
        &lt;ButtonPress&gt;Button2:  netup()
	&lt;ButtonPress&gt;Button3:  netdown()
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SECURITY_ISSUES"><a class="selflink" href="#SECURITY_ISSUES">SECURITY
  ISSUES</a></h1>
There are a number of reasons why you should not run <i>xmonisdn</i> as a
  `setuid root' program. Most importantly, any setuid root program is a
  potential security hole. The scripts that are executed by <i>xmonisdn</i> may
  be compromised, or contain non-absolute paths to the commands called (so that
  by changing the PATH variable the wrong binary is executed!); or the script
  may in turn call other things that are not secure.
<div>&#x00A0;</div>
If you are sure that your scripts are secure and you insist on making
  <i>xmonisdn</i> setuid root, you can give the <b>-r</b> option as <i>first</i>
  option. This will turn off xmonisdn's setuid detection. However, you are on
  your own if you do this!
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
A better alternative is to put the isdn devices in group <b>dialout</b> (if not
  so already), and add yourself to the <b>dialout</b> group. This way you have
  permission to manipulate the ISDN devices, e.g. to use <i>isdnctrl</i> to
  change the dialmode setting to off (to disable dialing) or auto (for
  autodial). The whole ISDN system may also be turned on and off, see the
  <i>isdnctrl manpage for more info.</i> This is a more secure way of
  controlling the dialing than e.g. by manipulating routes.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DISPLAY</b></dt>
  <dd class="It-tag">to get the default host and display number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>XENVIRONMENT</b></dt>
  <dd class="It-tag">to get the name of a resource file that overrides the
      global resources stored in the RESOURCE_MANAGER property.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Bernhard Nebel
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>isdnctrl(8)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">2002/01/31</td>
    <td class="foot-os">isdn4k-utils-3.13</td>
  </tr>
</table>
</body>
</html>
