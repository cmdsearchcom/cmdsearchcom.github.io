<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>xrdcopy(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">xrdcopy(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">xrdcopy(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
xrdcp - copy files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<div class="Pp"></div>
<b>xrdcp</b> [<i>options</i>] <i>source</i> <i>destination</i>
<div class="Pp"></div>
<i>options</i>: [<b>--cksum</b> <i>args</i>] [<b>--debug</b> <i>lvl</i>]
[ <b>--coerce</b>] [<b>--force</b>] [<b>--help</b>] [<b>--license</b>]
[ <b>--nopbar</b>] [<b>--posc</b>] [<b>--proxy </b><i>ipaddr</i><b>:</b><i>port</i>]
[ <b>--recursive</b>] [<b>--retry</b> <i>time</i>] [<b>--server</b>]
[ <b>--silent</b>] [<b>--sources</b> <i>num</i>] [<b>--streams</b> <i>num</i>]
[ <b>--tpc</b> <i>first</i>|<i>only</i>] [<b>--verbose</b>] [<b>--version</b>]
[ <b>--xrate</b> <i>rate</i>] [<b>--zip</b> <i>file</i>]
<div class="Pp"></div>
<i>legacy options</i>: [<b>-adler</b>] [<b>-DS</b><i>parm string</i>] [<b>-DI</b><i>parm number</i>]
[ <b>-md5</b>] [<b>-np</b>] [<b>-OD</b><i>cgi</i>] [<b>-OS</b><i>cgi</i>] [<b>-x</b>]
<div class="Pp"></div>
</pre>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>xrdcp</b> utility copies one or more files from one location to another.
  The data source and destination may be a local or remote file or directory.
  Additionally, the data source may also reside on multiple servers.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-C</b> | <b>--cksum</b>
  <i>type</i>[<b>:</b><i>value</i>|<i>print</i>|<i>source</i>]
<div style="margin-left: 5.00ex;">obtains the checksum of <i>type</i> (i.e.
  adler32, crc32, or md5) from the source, computes the checksum at the
  destination, and verifies that they are the same. If a <i>value</i> is
  specified, it is used as the source checksum. When <i>print</i> is specified,
  the checksum at the destination is printed but is <i>not</i> verified.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-d</b> | <b>--debug</b> <i>lvl</i>
<div style="margin-left: 5.00ex;">debug level: 1 (low), 2 (medium), 3 (high)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-F</b> | <b>--coerce</b>
<div style="margin-left: 5.00ex;">ignores locking semantics on the destination
  file. This option may lead to file corruption if not properly used.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-f</b> | <b>--force</b>
<div style="margin-left: 5.00ex;">re-creates a file if it is already present.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-h</b> | <b>--help</b>
<div style="margin-left: 5.00ex;">displays usage information.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-H</b> | <b>--license</b>
<div style="margin-left: 5.00ex;">displays license terms and conditions.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-N</b> | <b>--nopbar</b>
<div style="margin-left: 5.00ex;">does not display the progress bar.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-P</b> | <b>--posc</b>
<div style="margin-left: 5.00ex;">requests POSC (persist-on-successful-close)
  processing to create a new file. Files are automatically deleted should they
  not be successfully closed.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-D</b> | <b>--proxy</b> <i>proxyaddr</i><b>:</b><i>proxyport</i>
<div style="margin-left: 5.00ex;">[NOT YET IMPLEMENTED]
<div style="height: 1.00em;">&#x00A0;</div>
use <i>proxyaddr</i><b>:</b><i>proxyport</i> as a SOCKS4 proxy. Only numerical
  addresses are supported.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-r</b> | <b>--recursive</b>
<div style="margin-left: 5.00ex;">recursively copy all files starting at the
  given source directory. This option is <i>only</i> supported for local files.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>--server</b>
<div style="margin-left: 5.00ex;">runs as if in a server environment. Used only
  for server-side third party copy support.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-s</b> | <b>--silent</b>
<div style="margin-left: 5.00ex;">neither produces summary information nor
  displays the progress bar.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-y</b> | <b>--sources</b> <i>num</i>
<div style="margin-left: 5.00ex;">[NOT YET IMPLEMENTED]
<div style="height: 1.00em;">&#x00A0;</div>
uses up to <i>num</i> sources to copy the file.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-S</b> | <b>--streams</b> <i>num</i>
<div style="margin-left: 5.00ex;">uses <i>num</i> additional parallel streams to
  do the transfer. The maximum value is 15. The default is 0 (i.e., use only the
  main stream).
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>--tpc</b> <i>first|only</i>
<div style="margin-left: 5.00ex;">copies the file from remote server to remote
  server using third-party-copy protocol (i.e., data flows from server to
  server). The source and destination servers must support third party copies.
  Additional security restrictions may apply and may cause the copy to fail if
  they cannot be satisfied. Argument <i>'first'</i> tries tpc and if it fails,
  does a normal copy; while <i>'only'</i> fails the copy unless tpc succeeds.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-v</b> | <b>--verbose</b>
<div style="margin-left: 5.00ex;">displays summary output.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-V</b> | <b>-version</b>
<div style="margin-left: 5.00ex;">displays version information and immediately
  exits.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-z</b> | <b>--zip</b>
<div style="margin-left: 5.00ex;">copy given file from a ZIP archive.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-X</b> | <b>--xrate</b> <i>rate</i>
<div style="margin-left: 5.00ex;">[NOT YET IMPLEMENTED]
<div style="height: 1.00em;">&#x00A0;</div>
limits the copy speed to the specified <i>rate</i><b>. The rate may be
  qualified</b> <b>with the letter </b><b>k</b>, <b>m</b>, or <b>g</b> to
  indicate kilo, mega, or giga bytes, respectively. The option only applies when
  the source or destination is local.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="LEGACY_OPTIONS"><a class="selflink" href="#LEGACY_OPTIONS">LEGACY
  OPTIONS</a></h1>
Legacy options are provided for backward compatability. These are now deprecated
  and should be avoided. <b>-adler</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--cksum
  adler32:source</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-DI</b><i>pname numberval</i>
<div style="margin-left: 5.00ex;">set the internal parameter <i>pname</i> with
  the numeric value <i>numberval</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-DS</b><i>pname stringval</i>
<div style="margin-left: 5.00ex;">set the internal parameter <i>pname</i> with
  the string value <i>stringval</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-md5</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--cksum
  md5:source</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-np</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--nopbar</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-OD</b><i>cgi</i>
<div style="margin-left: 5.00ex;">add cgi information <i>cgi</i> to any
  destination xrootd URL. You should specify the opaque information directly on
  the destination URL.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-OS</b><i>cgi</i>
<div style="margin-left: 5.00ex;">add cgi information <i>cgi</i> to any source
  xrootd URL.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-x</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--sources 12</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
<i>source</i>
<div style="margin-left: 5.00ex;">a dash (i.e. <b>-</b>) indicating stanard in,
  a local file, a local directory name suffixed by /, or an xrootd URL in the
  form of
<div>&#x00A0;</div>
<b>xroot://[</b><i>user</i><b>@</b>]<i>host[</i><b>:</b><i>port</i>]<b>/</b><i>absolutepath</i>
<div>&#x00A0;</div>
The <i>absolutepath</i> can be a directory.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<i>destination</i>
<div style="margin-left: 5.00ex;">a dash (i.e. <b>-</b>) indicating stanard out,
  a local file, a local directory name suffixed by /, or an xrootd URL in the
  form
<div>&#x00A0;</div>
<b>xroot://[</b><i>user</i><b>@</b>]<i>host[</i><b>:</b><i>port</i>]<b>/</b><i>absolutepath</i>
<div>&#x00A0;</div>
The <i>absolutepath</i> can be a directory.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The following environment variables are supported. They apply to xrdfs and any
  other application using the libXrdCl library, unless specified otherwise. The
  text in the brackets is a name of the corresponding xrdcp commandline
  parameter.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_LOGLEVEL
<div style="margin-left: 5.00ex;">Detemines the amout of diagnostics that should
  be printed. Valid values are: <i>Dump</i>, <i>Debug</i>, <i>Info</i>,
  <i>Warning</i>, and <i>Error</i>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_LOGFILE
<div style="margin-left: 5.00ex;">If set, the diagnostics will be printed to the
  specified file instead of stderr.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_LOGMASK
<div style="margin-left: 5.00ex;">Determines which diagnostics topics should be
  printed at all levels. It's a &quot;|&quot; separated list of topics. The
  first element may be &quot;All&quot; in which case all the topics are enabled
  and the subsequent elements may turn them off, or &quot;None&quot; in which
  case all the topics are disabled and the subsequent flags may turn them on. If
  the topic name is prefixed with &quot;^&quot;, then it means that the topic
  should be disabled. If the topic name is not prefixed, then it means that the
  topic should be enabled.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The log mask may as well be handled for each diagnostic level separately by
  setting one or more of the following variables: <i>XRD_LOGMASK_ERROR</i>,
  <i>XRD_LOGMASK_WARNING</i>, <i>XRD_LOGMASK_INFO</i>, <i>XRD_LOGMASK_DEBUG</i>,
  and <i>XRD_LOGMASK_DUMP</i>. The default for each level is &quot;All&quot;,
  except for the <i>Dump</i> level, where the default is
  &quot;All|^PollerMsg&quot;. This means that, at the <i>Dump</i> level, all the
  topics but &quot;PollerMsg&quot; are enabled.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Available topics: AppMsg, UtilityMsg, FileMsg, PollerMsg, PostMasterMsg,
  XRootDTransportMsg, TaskMgrMsg, XRootDMsg, FileSystemMsg, AsyncSockMsg</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_PARALLELEVTLOOP
<div style="margin-left: 5.00ex;">The number of event loops.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_READRECOVERY
<div style="margin-left: 5.00ex;">Determines if read recovery should be enabled
  or disabled (enabled by default).</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_WRITERECOVERY
<div style="margin-left: 5.00ex;">Determines if write recovery should be enabled
  or disabled (enabled by default).</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CONNECTIONWINDOW (-DIConnectionWindow)
<div style="margin-left: 5.00ex;">A time window for the connection
  establishment. A connection failure is declared if the connection is not
  established within the time window. If a connection failure happens earlier
  then another connection attempt will only be made at the beginning of the next
  window.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CONNECTIONRETRY (-DIConnectionRetry)
<div style="margin-left: 5.00ex;">Number of connection attempts that should be
  made (number of available connection windows) before declaring a permanent
  failure.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_REQUESTTIMEOUT (-DIRequestTimeout)
<div style="margin-left: 5.00ex;">Default value for the time after which an
  error is declared if it was impossible to get a response to a request.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_STREAMTIMEOUT (-DIStreamTimeout)
<div style="margin-left: 5.00ex;">Default value for the time after which a
  connection error is declared (and a recovery attempted) if there are
  unfulfilled requests and there is no socket activity or a registered wait
  timeout.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_SUBSTREAMSPERCHANNEL (-DISubStreamsPerChannel)
<div style="margin-left: 5.00ex;">Number of streams per session.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_TIMEOUTRESOLUTION (-DITimeoutResolution)
<div style="margin-left: 5.00ex;">Resolution for the timeout events. Ie. timeout
  events will be processed only every XRD_TIMEOUTRESOLUTION seconds.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_STREAMERRORWINDOW (-DIStreamErrorWindow)
<div style="margin-left: 5.00ex;">Time after which the permanent failure flags
  are cleared out and a new connection may be attempted if needed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_RUNFORKHANDLER (-DIRunForkHandler)
<div style="margin-left: 5.00ex;">Determines whether the fork handlers should be
  enabled, making the API fork safe.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_REDIRECTLIMIT (-DIRedirectLimit)
<div style="margin-left: 5.00ex;">Maximum number of allowed redirections.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_POLLERPREFERENCE (-DSPollerPreference)
<div style="margin-left: 5.00ex;">A comma separated list of poller
  implementations in order of preference. The default is: built-in.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CLIENTMONITOR (-DSClientMonitor)
<div style="margin-left: 5.00ex;">Path to the client monitor library.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CLIENTMONITORPARAM (-DSClientMonitorParam)
<div style="margin-left: 5.00ex;">Additional optional parameters that will be
  passed to the monitoring object on initialization.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_WORKERTHREADS (-DIWorkerThreads)
<div style="margin-left: 5.00ex;">Number of threads processing user
  callbacks.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CPPARALLELCHUNKS (-DICPParallelChunks)
<div style="margin-left: 5.00ex;">Maximum number of asynchronous requests being
  processed by the xrdcp command at any given time.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CPCHUNKSIZE (-DICPChunkSize)
<div style="margin-left: 5.00ex;">Size of a single data chunk handled by
  xrdcp.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_NETWORKSTACK (-DSNetworkStack)
<div style="margin-left: 5.00ex;">The network stack that the client should use
  to connect to the server. Possible values are:
<div style="height: 1.00em;">&#x00A0;</div>
<b>IPAuto</b> - automatically detect which IP stack to use
<div style="height: 1.00em;">&#x00A0;</div>
<b>IPAll</b> - use IPv6 stack (AF_INET6 sockets) and both IPv6 and IPv4 (mapped
  to IPv6) addresses
<div style="height: 1.00em;">&#x00A0;</div>
<b>IPv6</b> - use only IPv6 stack and addresses
<div style="height: 1.00em;">&#x00A0;</div>
<b>IPv4</b> - use only IPv4 stack (AF_INET sockets) and addresses
<div style="height: 1.00em;">&#x00A0;</div>
<b>IPv4Mapped6</b> - use IPv6 stack and mapped IPv4 addresses</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_DATASERVERTTL (-DIDataServerTTL)
<div style="margin-left: 5.00ex;">Time period after which an idle connection to
  a data server should be closed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_LOADBALANCERTTL (-DILoadBalancerTTL)
<div style="margin-left: 5.00ex;">Time period after which an idle connection to
  a manager or a load balancer should be closed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_APPNAME (-DSAppName)
<div style="margin-left: 5.00ex;">Override the application name reported to the
  server.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_PLUGINCONFDIR
<div style="margin-left: 5.00ex;">A custom location containing client plug-in
  config files.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_PLUGIN
<div style="margin-left: 5.00ex;">A default client plug-in to be used.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CPINITTIMEOUT (-DICPInitTimeout)
<div style="margin-left: 5.00ex;">Maximum time allowed for the copy process to
  initialize, ie. open the source and destination files.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_CPTPCTIMEOUT (-DICPTPCTimeout)
<div style="margin-left: 5.00ex;">Maximum time allowed for a third-party copy
  operation to finish.</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_TCPKEEPALIVE (-DITCPKeepAlive)
<div style="margin-left: 5.00ex;">Enable/Disable the TCP keep alive
  functionality</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_TCPKEEPALIVETIME (-DITCPKeepAliveTime)
<div style="margin-left: 5.00ex;">Time between last data packet sent and the
  first keepalive probe (Linux only)</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_TCPKEEPALIVEINTERVAL (-DITCPKeepAliveInterval)
<div style="margin-left: 5.00ex;">Interval between subsequent keepalive probes
  (Linux only)</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_TCPKEEPALIVEPROBES (-DITCPKeepProbes)
<div style="margin-left: 5.00ex;">Number of unacknowledged probes before
  considering the connection dead (Linux only)</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_METALINKPROCESSING
<div style="margin-left: 5.00ex;">Enable/Disable Metalink processing (enabled by
  default)</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_LOCALMETALINKFILE
<div style="margin-left: 5.00ex;">Enable/Disable local Metalink file processing
  (by convention the following URL schema has to be used:
  root://localfile//path/filename.meta4)</div>
<div style="height: 1.00em;">&#x00A0;</div>
XRD_GLFNREDIRECTOR
<div style="margin-left: 5.00ex;">The redirector will be used as a last resort
  if the GLFN tag is specified in a Metalink file.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Documentation for all components associated with <b>xrdcp</b> can be found at
  http://xrootd.org/docs.html
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Errors yield an error message and a non-zero exit status.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
LGPL
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SUPPORT_LEVEL"><a class="selflink" href="#SUPPORT_LEVEL">SUPPORT
  LEVEL</a></h1>
The <b>xrdcp</b> command is supported by the xrootd collaboration. Contact
  information can be found at:
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
http://xrootd.org/contact.html
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">v4.6.1</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
