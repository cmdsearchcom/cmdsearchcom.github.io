<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:35:31 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>restorefont(1) Svgalib User Manual restorefont(1)</p>

<p style="margin-top: 1em">NAME <br>
restorefont - save or restore the SVGA font for
textmode.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
restorefont {-r|-w} filename</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The font used by SVGA when in textmode is written to or
restored from filename using the vga_gettextfont(3) and
vga_puttextfont(3) functions.</p>

<p style="margin-top: 1em">FILE FORMAT <br>
The VGA font file filename has the following format:</p>

<p style="margin-top: 1em">Offset: <br>
0 - 31 Character 0 <br>
... ... <br>
8164 - 8195 Character 255</p>

<p style="margin-top: 1em">Each row of a character bitmap
is stored as a byte (8 pixels). The space that is left from
the 32-byte buffer for each character is ignored, e.g. a 16
line font uses only off&acirc; <br>
sets 0 - 15 of each character.</p>

<p style="margin-top: 1em">Linux textmode screen
resolutions:</p>

<p style="margin-top: 1em">80x25 16 line font 400 scanlines
<br>
80x28 14 line font 400 scanlines <br>
80x50 8 line font 400 scanlines</p>

<p style="margin-top: 1em">The font sizes and resolutions
of extended textmodes depend on the video card type and
BIOS:</p>

<p style="margin-top: 1em">132x25 14 line font 350
scanlines (ugly) <br>
132x25 16 line font 400 scanlines <br>
132x43 8 line font 350 scanlines (use fix132x43 to
fix/improve) <br>
132x50 8 line font 400 scanlines</p>

<p style="margin-top: 1em">Using a font that has less lines
per character than the textmode works, but the characters
are smaller. Using a font that is bigger than the textmode
font results in the bottom <br>
part of characters being cut off.</p>

<p style="margin-top: 1em">The svgalib distribution
contains sample fonts with 8, 14 and 16 line characters in
the files utils/font8, utils/font14, and utils/font16.</p>

<p style="margin-top: 1em">The convfont (1) program can be
used to convert fonts straightforwardly stored
character-after-character (i.e. each character only uses
8/14/whatever bytes), to the 32-byte per <br>
character format that restorefont requires.</p>

<p style="margin-top: 1em">The purpose of this program is
usually to recover from a crashed console due to an svgalib,
Xfree or other program bug. First save the state of the SVGA
card when on a text con&acirc; <br>
sole. After the crash restore this state. The
savetextmode(1) and textmode(1) script makes this procedure
very easy.</p>

<p style="margin-top: 1em">The national/fontpak packages,
which include kernel patches, allow different textmode fonts
to be used in different virtual consoles. These have been
superseded by the kbd pack&acirc; <br>
age (in the kernel since ages). See the setfont(8) utility
of the kbd package as a starting point.</p>

<p style="margin-top: 1em">Recent kernels support up to 2
fonts with 512 chars each. Recent versions of svgalib take
this into account and extend the size of the datafile
accordingly.</p>

<p style="margin-top: 1em">OPTIONS <br>
-w filename <br>
write the font to the file filename.</p>

<p style="margin-top: 1em">-r filename <br>
restore the font from the file filename.</p>

<p style="margin-top: 1em">SEE ALSO <br>
svgalib(7), vgagl(7), libvga.config(5), setfont(8),
vga_gettextfont(3), vga_puttextfont(3), dumpreg(1),
convfont(1), fix132x43(1), restoretextmode(1),
restorepalette(1), runx(1), <br>
savetextmode(1), setmclk(1), textmode(1).</p>

<p style="margin-top: 1em">AUTHOR <br>
This manual page was edited by Michael Weller
&lt;eowmob@exp-math.uni-essen.de&gt;. The exact source of
the referenced utility as well as of the original
documentation is unknown.</p>

<p style="margin-top: 1em">It is very likely that both are
at least to some extent are due to Harm Hanemaayer
&lt;H.Hanemaayer@inter.nl.net&gt;.</p>

<p style="margin-top: 1em">Occasionally this might be
wrong. I hereby asked to be excused by the original author
and will happily accept any additions or corrections to this
first version of the svgalib <br>
manual.</p>

<p style="margin-top: 1em">Svgalib (&gt;= 1.2.11) 2 Aug
1997 restorefont(1)</p>
<hr>
</body>
</html>
