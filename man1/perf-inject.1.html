<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PERF-INJECT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERF-INJECT(1)</td>
    <td class="head-vol">perf Manual</td>
    <td class="head-rtitle">PERF-INJECT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
perf-inject - Filter to augment the events stream with additional information
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>perf inject &lt;options&gt;</i>
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
perf-inject reads a perf-record event stream and repipes it to stdout. At any
  point the processing code can inject other events into the event stream - in
  this case build-ids (-b option) are read and injected as needed into the event
  stream.
<div style="height: 1.00em;">&#x00A0;</div>
Build-ids are just the first user of perf-inject - potentially anything that
  needs userspace processing to augment the events stream with additional
  information could make use of this facility.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-b, --build-ids=
<div style="margin-left: 4.00ex;">Inject build-ids into the output stream</div>
<div class="Pp"></div>
-v, --verbose
<div style="margin-left: 4.00ex;">Be more verbose.</div>
<div class="Pp"></div>
-i, --input=
<div style="margin-left: 4.00ex;">Input file name. (default: stdin)</div>
<div class="Pp"></div>
-o, --output=
<div style="margin-left: 4.00ex;">Output file name. (default: stdout)</div>
<div class="Pp"></div>
-s, --sched-stat
<div style="margin-left: 4.00ex;">Merge sched_stat and sched_switch for getting
  events where and how long tasks slept. sched_switch contains a callchain where
  a task slept and sched_stat contains a timeslice how long a task slept.</div>
<div class="Pp"></div>
--kallsyms=&lt;file&gt;
<div style="margin-left: 4.00ex;">kallsyms pathname</div>
<div class="Pp"></div>
--itrace
<div style="margin-left: 4.00ex;">Decode Instruction Tracing data, replacing it
  with synthesized events. Options are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
i       synthesize instructions events
b       synthesize branches events
c       synthesize branches events (calls only)
r       synthesize branches events (returns only)
x       synthesize transactions events
e       synthesize error events
d       create a debug log
g       synthesize a call chain (use with i or x)
l       synthesize last branch entries (use with i or x)
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
The default is all events i.e. the same as --itrace=ibxe
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
In addition, the period (default 100000) for instructions events
can be specified in units of:
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
i       instructions
t       ticks
ms      milliseconds
us      microseconds
ns      nanoseconds (default)
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Also the call chain size (default 16, max. 1024) for instructions or
transactions events can be specified.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Also the number of last branch entries (default 64, max. 1024) for
instructions or transactions events can be specified.
</pre>
</div>
</div>
<div class="Pp"></div>
--strip
<div style="margin-left: 4.00ex;">Use with --itrace to strip out non-synthesized
  events.</div>
<div class="Pp"></div>
-j, --jit
<div style="margin-left: 4.00ex;">Process jitdump files by injecting the mmap
  records corresponding to jitted functions. This option also generates the ELF
  images for each jitted function found in the jitdumps files captured in the
  input perf.data file. Use this option if you are monitoring environment using
  JIT runtimes, such as Java, DART or V8.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>perf-record</b>(1), <b>perf-report</b>(1), <b>perf-archive</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">07/04/2017</td>
    <td class="foot-os">perf</td>
  </tr>
</table>
</body>
</html>
