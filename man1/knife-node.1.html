<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:20:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KNIFE-NODE(1) knife node KNIFE-NODE(1)</p>

<p style="margin-top: 1em">NAME <br>
knife-node - The man page for the knife node subcommand.</p>

<p style="margin-top: 1em">A node is any physical, virtual,
or cloud machine that is configured to be maintained by a
chef-client.</p>

<p style="margin-top: 1em">The knife node subcommand is
used to manage the nodes that exist on a Chef server.</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
The following options may be used with any of the arguments
available to the knife node subcommand:</p>

<p style="margin-top: 1em">--chef-zero-port PORT <br>
The port on which chef-zero will listen.</p>

<p style="margin-top: 1em">-c CONFIG_FILE, --config
CONFIG_FILE <br>
The configuration file to use.</p>

<p style="margin-top: 1em">-d, --disable-editing <br>
Use to prevent the $EDITOR from being opened and to accept
data as-is.</p>

<p style="margin-top: 1em">--defaults <br>
Use to have knife use the default value instead of asking a
user to provide one.</p>

<p style="margin-top: 1em">-e EDITOR, --editor EDITOR <br>
The $EDITOR that is used for all interactive commands.</p>

<p style="margin-top: 1em">-E ENVIRONMENT, --environment
ENVIRONMENT <br>
The name of the environment. When this option is added to a
command, the command will run only against the named
environment.</p>

<p style="margin-top: 1em">-F FORMAT, --format FORMAT <br>
The output format: summary (default), text, json, yaml, and
pp.</p>

<p style="margin-top: 1em">-h, --help <br>
Shows help for the command.</p>

<p style="margin-top: 1em">-k KEY, --key KEY <br>
The private key that knife will use to sign requests made by
the API client to the Chef server.</p>

<p style="margin-top: 1em">--[no-]color <br>
Use to view colored output.</p>

<p style="margin-top: 1em">--print-after <br>
Use to show data after a destructive operation.</p>

<p style="margin-top: 1em">-s URL, --server-url URL <br>
The URL for the Chef server.</p>

<p style="margin-top: 1em">-u USER, --user USER <br>
The user name used by knife to sign requests made by the API
client to the Chef server. Authentication will fail if the
user name does not match the private key.</p>

<p style="margin-top: 1em">-V, --verbose <br>
Set for more verbose outputs. Use -VV for maximum
verbosity.</p>

<p style="margin-top: 1em">-v, --version <br>
The version of the chef-client.</p>

<p style="margin-top: 1em">-y, --yes <br>
Use to respond to all confirmation prompts with
&quot;Yes&quot;. knife will not ask for confirmation.</p>

<p style="margin-top: 1em">-z, --local-mode <br>
Use to run the chef-client in local mode. This allows all
commands that work against the Chef server to also work
against the local chef-repo.</p>

<p style="margin-top: 1em">BULK DELETE <br>
The bulk delete argument is used to delete one or more nodes
that match a pattern defined by a regular expression. The
regular expression must be within quotes and not be
sur&acirc; <br>
rounded by forward slashes (/).</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node bulk delete
REGEX</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This command does not have any
specific options.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">Use a regular expression to
define the pattern used to bulk delete nodes:</p>

<p style="margin-top: 1em">$ knife node bulk delete
&quot;^[0-9]{3}$&quot;</p>

<p style="margin-top: 1em">Type Y to confirm a
deletion.</p>

<p style="margin-top: 1em">CREATE <br>
The create argument is used to add a node to the Chef
server. Node data is stored as JSON on the Chef server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node create
NODE_NAME</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This command does not have any
specific options.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To add a node, enter:</p>

<p style="margin-top: 1em">$ knife node create node1</p>

<p style="margin-top: 1em">In the $EDITOR enter the node
data in JSON:</p>

<p style="margin-top: 1em">## sample: <br>
{ <br>
&quot;normal&quot;: { <br>
}, <br>
&quot;name&quot;: &quot;foobar&quot;, <br>
&quot;override&quot;: { <br>
}, <br>
&quot;default&quot;: { <br>
}, <br>
&quot;json_class&quot;: &quot;Chef::Node&quot;, <br>
&quot;automatic&quot;: { <br>
}, <br>
&quot;run_list&quot;: [ <br>
&quot;recipe[zsh]&quot;, <br>
&quot;role[webserver]&quot; <br>
], <br>
&quot;chef_type&quot;: &quot;node&quot; <br>
}</p>

<p style="margin-top: 1em">When finished, save it.</p>

<p style="margin-top: 1em">DELETE <br>
The delete argument is used to delete a node from the Chef
server.</p>

<p style="margin-top: 1em">NOTE: <br>
Deleting a node will not delete any corresponding API
clients.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node delete
NODE_NAME</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This command does not have any
specific options.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">$ knife node delete
node_name</p>

<p style="margin-top: 1em">EDIT <br>
The edit argument is used to edit the details of a node on a
Chef server. Node data is stored as JSON on the Chef
server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node edit NODE_NAME
(options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">-a, --all <br>
Displays a node in the $EDITOR. By default, attributes that
are default, override, or automatic are not shown.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To edit the data for a node
named node1, enter:</p>

<p style="margin-top: 1em">$ knife node edit node1 -a</p>

<p style="margin-top: 1em">Update the role data in
JSON:</p>

<p style="margin-top: 1em">## sample: <br>
{ <br>
&quot;normal&quot;: { <br>
}, <br>
&quot;name&quot;: &quot;node1&quot;, <br>
&quot;override&quot;: { <br>
}, <br>
&quot;default&quot;: { <br>
}, <br>
&quot;json_class&quot;: &quot;Chef::Node&quot;, <br>
&quot;automatic&quot;: { <br>
}, <br>
&quot;run_list&quot;: [ <br>
&quot;recipe[devops]&quot;, <br>
&quot;role[webserver]&quot; <br>
], <br>
&quot;chef_type&quot;: &quot;node&quot; <br>
}</p>

<p style="margin-top: 1em">When finished, save it.</p>

<p style="margin-top: 1em">FROM FILE <br>
The from file argument is used to create a node using
existing node data as a template.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node from file FILE</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This command does not have any
specific options.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To add a node using data
contained in a JSON file:</p>

<p style="margin-top: 1em">$ knife node from file
&quot;path to JSON file&quot;</p>

<p style="margin-top: 1em">LIST <br>
The list argument is used to view all of the nodes that
exist on a Chef server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node list (options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">-w, --with-uri <br>
Use to show the corresponding URIs.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To verify the list of nodes that
are registered with the Chef server, enter:</p>

<p style="margin-top: 1em">$ knife node list</p>

<p style="margin-top: 1em">to return something similar
to:</p>

<p style="margin-top: 1em">i-12345678 <br>
rs-123456</p>

<p style="margin-top: 1em">RUN_LIST ADD <br>
The run_list add argument is used to add run-list items
(roles or recipes) to a node.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node run_list add
NODE_NAME RUN_LIST_ITEM (options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">-a ITEM, --after ITEM <br>
Use this to add the run list item after the specified run
list item.</p>

<p style="margin-top: 1em">-b ITEM, --before ITEM <br>
Use this to add the run list item before the specified run
list item.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To add a role to a run-list,
enter:</p>

<p style="margin-top: 1em">$ knife node run_list add node
&rsquo;role[ROLE_NAME]&rsquo;</p>

<p style="margin-top: 1em">To add roles and recipes to a
run-list, enter:</p>

<p style="margin-top: 1em">$ knife node run_list add node
&rsquo;recipe[COOKBOOK::RECIPE_NAME],recipe[COOKBOOK::RECIPE_NAME],role[ROLE_NAME]&rsquo;</p>

<p style="margin-top: 1em">To add a recipe to a run-list
using the fully qualified format, enter:</p>

<p style="margin-top: 1em">$ knife node run_list add node
&rsquo;recipe[COOKBOOK::RECIPE_NAME]&rsquo;</p>

<p style="margin-top: 1em">To add a recipe to a run-list
using the cookbook format, enter:</p>

<p style="margin-top: 1em">$ knife node run_list add node
&rsquo;COOKBOOK::RECIPE_NAME&rsquo;</p>

<p style="margin-top: 1em">To add the default recipe of a
cookbook to a run-list, enter:</p>

<p style="margin-top: 1em">$ knife node run_list add node
&rsquo;COOKBOOK&rsquo;</p>

<p style="margin-top: 1em">RUN_LIST REMOVE <br>
The run_list remove argument is used to remove run-list
items (roles or recipes) from a node. A recipe must be in
one of the following formats: fully qualified, cookbook, or
<br>
default. Both roles and recipes must be in quotes, for
example: &rsquo;role[ROLE_NAME]&rsquo; or
&rsquo;recipe[COOKBOOK::RECIPE_NAME]&rsquo;. Use a comma to
separate roles and recipes when removing more <br>
than one, like this:
&rsquo;recipe[COOKBOOK::RECIPE_NAME],COOKBOOK::RECIPE_NAME,role[ROLE_NAME]&rsquo;.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node run_list remove
NODE_NAME RUN_LIST_ITEM</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This command does not have any
specific options.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To remove a role from a
run-list, enter:</p>

<p style="margin-top: 1em">$ knife node run_list remove
node &rsquo;role[ROLE_NAME]&rsquo;</p>

<p style="margin-top: 1em">To remove a recipe from a
run-list using the fully qualified format, enter:</p>

<p style="margin-top: 1em">$ knife node run_list remove
node &rsquo;recipe[COOKBOOK::RECIPE_NAME]&rsquo;</p>

<p style="margin-top: 1em">SHOW <br>
The show argument is used to display information about a
node.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife node show NODE_NAME
(options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">-a ATTR, --attribute ATTR <br>
The attribute (or attributes) to show.</p>

<p style="margin-top: 1em">-l, --long <br>
Use to display all attributes in the output and to show the
output as JSON.</p>

<p style="margin-top: 1em">-m, --medium <br>
Use to display normal attributes in the output and to show
the output as JSON.</p>

<p style="margin-top: 1em">-r, --run-list <br>
Use to show only the run-list.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To view all data for a node
named build, enter:</p>

<p style="margin-top: 1em">$ knife node show build</p>

<p style="margin-top: 1em">to return:</p>

<p style="margin-top: 1em">Node Name: build <br>
Environment: _default <br>
FQDN: <br>
IP: <br>
Run List: <br>
Roles: <br>
Recipes: <br>
Platform:</p>

<p style="margin-top: 1em">To show basic information about
a node, truncated and nicely formatted:</p>

<p style="margin-top: 1em">knife node show
&lt;node_name&gt;</p>

<p style="margin-top: 1em">To show all information about a
node, nicely formatted:</p>

<p style="margin-top: 1em">knife node show -l
&lt;node_name&gt;</p>

<p style="margin-top: 1em">To list a single node
attribute:</p>

<p style="margin-top: 1em">knife node show
&lt;node_name&gt; -a &lt;attribute_name&gt;</p>

<p style="margin-top: 1em">where &lt;attribute_name&gt; is
something like kernel or platform. (This doesn&rsquo;t work
for nested attributes like node[kernel][machine] because
knife node show doesn&rsquo;t understand nested <br>
attributes.)</p>

<p style="margin-top: 1em">To view the FQDN for a node
named i-12345678, enter:</p>

<p style="margin-top: 1em">$ knife node show i-12345678 -a
fqdn</p>

<p style="margin-top: 1em">to return:</p>

<p style="margin-top: 1em">fqdn:
ip-10-251-75-20.ec2.internal</p>

<p style="margin-top: 1em">To view the run list for a node
named dev, enter:</p>

<p style="margin-top: 1em">$ knife node show dev -r</p>

<p style="margin-top: 1em">To view information in JSON
format, use the -F common option as part of the command like
this:</p>

<p style="margin-top: 1em">$ knife role show devops -F
json</p>

<p style="margin-top: 1em">Other formats available include
text, yaml, and pp.</p>

<p style="margin-top: 1em">To view node information in raw
JSON, use the -l or --long option:</p>

<p style="margin-top: 1em">knife node show -l -F json
&lt;node_name&gt;</p>

<p style="margin-top: 1em">and/or:</p>

<p style="margin-top: 1em">knife node show -l --format=json
&lt;node_name&gt;</p>

<p style="margin-top: 1em">AUTHOR <br>
Chef</p>

<p style="margin-top: 1em">Chef 12.0 KNIFE-NODE(1)</p>
<hr>
</body>
</html>
