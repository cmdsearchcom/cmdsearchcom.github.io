<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.in.db(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.in.db(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.in.db(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.in.db</b> - Creates new vector (points) map from database table
  containing coordinates.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, import, database, points
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.in.db</b>
<div>&#x00A0;</div>
<b>v.in.db --help</b>
<div>&#x00A0;</div>
<b>v.in.db</b> [-<b>t</b>] <b>table</b>=<i>name</i> [<b>driver</b>=<i>name</i>]
  [ <b>database</b>=<i>name</i>] <b>x</b>=<i>name</i> <b>y</b>=<i>name</i>
  [<b>z</b>= <i>name</i>] [<b>key</b>=<i>name</i>]
  [<b>where</b>=<i>sql_query</i>] <b>output</b>=<i>name</i> [--<b>overwrite</b>]
  [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use imported table as attribute table for new map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>table</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input table name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>driver</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of database driver
    <div>&#x00A0;</div>
    Options: <i>dbf, mysql, odbc, ogr, pg, sqlite</i>
    <div>&#x00A0;</div>
    Default: <i>sqlite</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>database</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of database
    <div>&#x00A0;</div>
    Default: <i>$GISDBASE/$LOCATION_NAME/$MAPSET/sqlite/sqlite.db</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>x</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of column containing x coordinate</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>y</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of column containing y coordinate</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>z</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of column containing z coordinate</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>key</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of column containing category number
    <div>&#x00A0;</div>
    Must refer to an integer column</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>where</b>=<i>sql_query</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    WHERE conditions of SQL statement without &#x2019;where&#x2019; keyword
    <div>&#x00A0;</div>
    Example: income &lt; 1000 and inhab &gt;= 10000</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output vector map</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.in.db</i> creates a new vector point map from database table or file
  containing coordinates.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
If GRASS comes with OGR support than <i>v.in.db</i> allows importing data from
  different input files, eg. CSV or MS Excel (assuming that GDAL/OGR library is
  compiled with this support).
<div class="Pp"></div>
<i>v.in.db</i> creates key column &quot;cat&quot; automatically when <b>key</b>
  option is not given. Note that this operation is possible to perform only when
  <b>-t</b> flag is not given. Currently, automated creation of key column is
  supported only when default DB driver for output vector map is SQLite driver
  otherwise <b>key</b> option must be specified by the user. Default DB driver
  is defined by <i>db.connect</i>.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Creating_a_map_from_PostgreSQL_table"><a class="selflink" href="#Creating_a_map_from_PostgreSQL_table">Creating
  a map from PostgreSQL table</a></h2>
<pre>
v.in.db driver=pg database=&quot;host=myserver.itc.it,dbname=mydb&quot; \
        table=pat_stazioni x=east y=north z=quota key=id output=pat_stazioni
</pre>
<div class="Pp"></div>
If an ID column is not present in the PostgreSQL table, a new column should be
  added. See PostgreSQL DB driver page for details.
<h2 class="Ss" title="Ss" id="Creating_a_map_from_PostGIS"><a class="selflink" href="#Creating_a_map_from_PostGIS">Creating
  a map from PostGIS</a></h2>
To extract coordinate values from PostGIS, functions have to be used:
<div>&#x00A0;</div>
<pre>
v.in.db driver=pg database=&quot;host=myserver.itc.it,dbname=mydb&quot; \
        table=station x=&quot;x(geom)&quot; y=&quot;y(geom)&quot; z=&quot;z(geom)&quot; key=id out=meteostations
</pre>
<div class="Pp"></div>
If an ID column is not present in the PostgreSQL table, a new column should be
  added. See PostgreSQL DB driver page for details.
<div class="Pp"></div>
Alternatively a vector point map can be imported from PostGIS database using
  <i>v.in.ogr</i>.
<h2 class="Ss" title="Ss" id="Creating_a_map_from_Open_Document_spreadsheet_(ODS)_file"><a class="selflink" href="#Creating_a_map_from_Open_Document_spreadsheet_(ODS)_file">Creating
  a map from Open Document spreadsheet (ODS) file</a></h2>
A new vector point map is created from given sheet in ODS file. The
  <b>database</b> option points to the ODS file. Option <b>table</b> is the name
  of selected spreadsheet list, the <b>key</b> option is the identifier column:
<div>&#x00A0;</div>
<pre>
# preview table structure with OGR tool:
ogrinfo -so meteodata.ods mysheet
# import from ODS into map
v.in.db key=ID table=mysheet x=long y=lat z=height output=meteodata \
         driver=ogr datatabase=meteodata.ods
</pre>
<h2 class="Ss" title="Ss" id="Creating_a_map_from_MS_Excel_file"><a class="selflink" href="#Creating_a_map_from_MS_Excel_file">Creating
  a map from MS Excel file</a></h2>
A new vector point map is created from given sheet in MS Excel file. The
  <b>database</b> option points to the file in MS Excel format. Option
  <b>table</b> is name of the selected spreadsheet list:
<div>&#x00A0;</div>
<pre>
v.in.db table=List1 x=long y=lat z=height output=meteodata \
         driver=ogr datatabase=meteodata.xls
</pre>
Note that in this example the <b>key</b> option is omitted. In this case
  <i>v.in.db</i> tries to add key column automatically. This requires SQLite to
  be a default DB driver.
<h2 class="Ss" title="Ss" id="Creating_a_map_from_DBF_table"><a class="selflink" href="#Creating_a_map_from_DBF_table">Creating
  a map from DBF table</a></h2>
A new 3D point vector map is created from DBF table. Column
  &#x2019;idcol&#x2019; contains unique row IDs. The <b>database</b> option is
  the directory where the DBF file is stored.
<div>&#x00A0;</div>
<pre>
v.in.db driver=dbf database=/home/user/tables/ table=pointsfile x=x y=y z=z \
        key=idcol out=dtmpoints
</pre>
To check result:
<div>&#x00A0;</div>
<pre>
v.info dtmpoints
v.info -c dtmpoints
</pre>
<div class="Pp"></div>
If DB driver for output vector map is different from SQLite driver and an ID
  column is missing in the DBF file, it has to be added beforehand, e.g. with
  OpenOffice. Alternatively, import the table with <i>db.in.ogr</i> into GRASS
  and then with <i>v.in.db</i> from the imported table ( <i>db.in.ogr</i>
  optionally adds an unique ID column).
<h2 class="Ss" title="Ss" id="Creating_a_point_map_from_DBF_table_for_selected_records_only"><a class="selflink" href="#Creating_a_point_map_from_DBF_table_for_selected_records_only">Creating
  a point map from DBF table for selected records only</a></h2>
The user can import only selected vector points from a table using the
  <b>where</b> parameter (see above for general DBF handling):
<div>&#x00A0;</div>
<pre>
v.in.db driver=dbf  database=/home/user/tables/ table=pointsfile x=x y=y z=z \
        key=idcol out=dtmpoints where=&quot;x NOT NULL and z &gt; 100&quot;
</pre>
<h2 class="Ss" title="Ss" id="Creating_a_map_from_SQLite_table"><a class="selflink" href="#Creating_a_map_from_SQLite_table">Creating
  a map from SQLite table</a></h2>
A new vector point map is created from table in SQLite database file. Column
  &#x2019;idcol&#x2019; contains unique row IDs. The <b>database</b> option is
  the the SQLite database file.
<div>&#x00A0;</div>
<pre>
v.in.db driver=sqlite database=/home/user/tables/mysqlite.db table=pointsfile x=x y=y z=z \
        key=idcol out=dtmpoints
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>db.execute,</i> <i>db.in.ogr,</i> <i>v.info,</i> <i>v.in.ogr,</i>
  <i>v.to.db</i> <i></i>
<div class="Pp"></div>
SQL support in GRASS GIS
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Radim Blazek
<div>&#x00A0;</div>
Various updates for GRASS 7 by Martin Landa, Czech Technical University in
  Prague, Czech Republic
<div class="Pp"></div>
<i>Last changed: $Date: 2015-10-01 12:23:08 +0200 (Thu, 01 Oct 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.in.db source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
