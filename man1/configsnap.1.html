<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CONFIGSNAP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CONFIGSNAP(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">CONFIGSNAP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
configsnap - manual page for configsnap 0.12
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>configsnap</b> [ <i>options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Record useful system state information, and compare to previous state if run
  with PHASE containing &quot;post&quot; or &quot;rollback&quot;.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">show this help message and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">print debug info</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">print version</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--silent</b></dt>
  <dd class="It-tag">no output to stdout</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> TAG, <b>--tag</b>=<i>TAG</i></dt>
  <dd class="It-tag">tag identifer (e.g. a ticket number)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> BASEDIR, <b>--basedir</b>=<i>BASEDIR</i></dt>
  <dd class="It-tag">base directory to store output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> PHASE, <b>--phase</b>=<i>PHASE</i></dt>
  <dd class="It-tag">phase this is being used for. Can be any string. Phases
      containing post or rollback will perform diffs</dd>
</dl>
<h1 class="Sh" title="Sh" id="CUSTOM_COLLECTION"><a class="selflink" href="#CUSTOM_COLLECTION">CUSTOM
  COLLECTION</a></h1>
Commands are all run as root, so the custom collection configuration file must
  be owned by root and not read or writable by other users. The file format is:
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;[section] - The name of the output file, and the status message for this
  collection
<br/>
 Type - &quot;command&quot;, to run a command, or &quot;file&quot; to save a
  file
<br/>
 Command - When Type = command, the fully qualified command to run, e.g. /bin/ss
  -tanp
<br/>
 File - The fully qualified path to a file to save, e.g. /etc/debconf.conf
<div style="height: 1.00em;">&#x00A0;</div>
For &quot;command&quot;, there is the following additional optional setting:
<br/>
 Sort - save output sorted (default: False)
<div style="height: 1.00em;">&#x00A0;</div>
For either &quot;command&quot; or &quot;file&quot;, the are the follow
  additional optional settings:
<br/>
 Failok - True/False - Whether to report problems running the command or copying
  the file (default: False)
<br/>
 Compare - True/False - Whether to compare output when phase contains post or
  rollback (default: False)
<div style="height: 1.00em;">&#x00A0;</div>
Examples:
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;[psspecial]
<br/>
 Type: command
<br/>
 Command: /bin/ps -aux
<br/>
 Compare: True
<div style="height: 1.00em;">&#x00A0;</div>
&#x00A0;[debconf.conf]
<br/>
 Type: file
<br/>
 File: /etc/debconf.conf
<br/>
 Failok: True
<div style="height: 1.00em;">&#x00A0;</div>
These would record two files per run, psspecial.phase and debconf.conf.phase.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
/etc/configsnap/additional.conf
<br/>
 Optional configuration file to define additional command output and files to
  collect.</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 2017</td>
    <td class="foot-os">configsnap 0.12</td>
  </tr>
</table>
</body>
</html>
