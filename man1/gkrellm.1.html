<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:13:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>gkrellm(1) User&rsquo;s Manual gkrellm(1)</p>

<p style="margin-top: 1em">NAME <br>
gkrellm - The GNU Krell Monitors</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gkrellm [ --help ] [ -t | --theme dir ] [ -g | --geometry
+x+y ] [ -wm ] [ -w | --withdrawn ] [ -c | --config suffix ]
[ -nc ] [ -f | --force-host-config ] [ -demo ] [ -p | <br>
--plugin plugin.so ] [ -s | --server hostname ] [ -P |
--port server_port ] [ -l | --logfile path ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
With a single process, gkrellm manages multiple stacked
monitors and supports applying themes to match the monitors
appearance to your window manager, Gtk, or any other
theme.</p>

<p style="margin-top: 1em">FEATURES <br>
&Acirc;&middot; SMP CPU, Disk, Proc, and active net
interface monitors with LEDs.</p>

<p style="margin-top: 1em">&Acirc;&middot; Internet monitor
that displays current and charts historical port hits.</p>

<p style="margin-top: 1em">&Acirc;&middot; Memory and swap
space usage meters and a system uptime monitor.</p>

<p style="margin-top: 1em">&Acirc;&middot; File system
meters show capacity/free space and can mount/umount.</p>

<p style="margin-top: 1em">&Acirc;&middot; A
mbox/maildir/MH/POP3/IMAP mail monitor which can launch a
mail reader or remote mail fetch program.</p>

<p style="margin-top: 1em">&Acirc;&middot; Clock/calendar
and hostname display.</p>

<p style="margin-top: 1em">&Acirc;&middot; Laptop Battery
monitor.</p>

<p style="margin-top: 1em">&Acirc;&middot; CPU/motherboard
temperature/fan/voltages display with warnings and alarms.
Linux requires a sensor configured sysfs, lm_sensors modules
or a running mbmon daemon. FreeBSD <br>
can also read the mbmon daemon. Windows requires MBM.</p>

<p style="margin-top: 1em">&Acirc;&middot; Disk
temperatures if there&rsquo;s a running hddtemp daemon.</p>

<p style="margin-top: 1em">&Acirc;&middot; Multiple
monitors managed by a single process to reduce system
load.</p>

<p style="margin-top: 1em">&Acirc;&middot; A timer button
that can execute PPP or ISDN logon/logoff scripts.</p>

<p style="margin-top: 1em">&Acirc;&middot; Charts are
autoscaling with configurable grid line resolution, or</p>

<p style="margin-top: 1em">&Acirc;&middot; can be set to a
fixed scale mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; Separate colors
for &quot;in&quot; and &quot;out&quot; data. The in color is
used for CPU user time, disk read, forks, and net receive
data. The out color is used for CPU sys time, disk write,
<br>
load, and net transmit data.</p>

<p style="margin-top: 1em">&Acirc;&middot; Commands can be
configured to run when monitor labels are clicked.</p>

<p style="margin-top: 1em">&Acirc;&middot; Data can be
collected from a gkrellmd server running on a remote
machine.</p>

<p style="margin-top: 1em">&Acirc;&middot; gkrellm is
plugin capable so special interest monitors can be
created.</p>

<p style="margin-top: 1em">&Acirc;&middot; Many themes are
available.</p>

<p style="margin-top: 1em">USER INTERFACE <br>
&Acirc;&middot; Top frame</p>

<p style="margin-top: 1em">Btn 1 Press and drag to move
gkrellm window.</p>

<p style="margin-top: 1em">Btn 3 Popup main menu.</p>

<p style="margin-top: 1em">&Acirc;&middot; Side frames</p>

<p style="margin-top: 1em">Btn 2 Slide gkrellm window shut
(Btn1 if -m2 option).</p>

<p style="margin-top: 1em">Btn 3 Popup main menu.</p>

<p style="margin-top: 1em">&Acirc;&middot; All charts</p>

<p style="margin-top: 1em">Btn 1 Toggle draw of extra info
on the chart.</p>

<p style="margin-top: 1em">Btn 3 Brings up a chart
configuration window.</p>

<p style="margin-top: 1em">&Acirc;&middot; Inet charts</p>

<p style="margin-top: 1em">Btn 2 Toggle between port hits
per minute and hour.</p>

<p style="margin-top: 1em">&Acirc;&middot; Most panels</p>

<p style="margin-top: 1em">Btn 3 Opens the configuration
window directly to a monitor&rsquo;s configuration page.</p>

<p style="margin-top: 1em">&Acirc;&middot; File System
meter panels</p>

<p style="margin-top: 1em">Btn 1,2 <br>
Toggle display of label and fs capacity scrolling display.
The mount button runs mount/umount commands. If ejectable,
left click the eject button to open tray, <br>
right click to close.</p>

<p style="margin-top: 1em">&Acirc;&middot; Mem and Swap
meter panels</p>

<p style="margin-top: 1em">Btn 1,2 <br>
Toggle display of label and memory or swap capacity
scrolling display.</p>

<p style="margin-top: 1em">&Acirc;&middot; Mailbox monitor
message count button</p>

<p style="margin-top: 1em">Btn 1 Launch a mail reader
program. If options permit, also stop animations and reset
remote message counts.</p>

<p style="margin-top: 1em">Btn 2 Toggle mail check mute
mode which inhibits the sound notify program, and optionally
inhibits all mail checking.</p>

<p style="margin-top: 1em">&Acirc;&middot; Mailbox monitor
envelope decal</p>

<p style="margin-top: 1em">Btn 1 Force a mail check
regardless of mute or timeout state.</p>

<p style="margin-top: 1em">&Acirc;&middot; Battery monitor
panel</p>

<p style="margin-top: 1em">Btn 1 On the charging state
decal toggles battery minutes left, percent level, and
charge rate display.</p>

<p style="margin-top: 1em">Btn 2 Anywhere on the panel also
toggles the display.</p>

<p style="margin-top: 1em">&Acirc;&middot; Keyboard
shortcuts</p>

<p style="margin-top: 1em">F1 popup the user config
window.</p>

<p style="margin-top: 1em">F2 popup the main menu.</p>

<p style="margin-top: 1em">Page_Up <br>
previous theme or theme alternative.</p>

<p style="margin-top: 1em">Page_Down <br>
next theme or theme alternative.</p>

<p style="margin-top: 1em">&lt;Ctl&gt;Page_Up <br>
previous theme, skipping any theme alternatives.</p>

<p style="margin-top: 1em">&lt;Ctl&gt;Page_Down <br>
next theme, skipping any theme alternatives.</p>

<p style="margin-top: 1em">If a command has been configured
to be launched for a monitor, then a button will appear when
the mouse enters the panel of that monitor. Clicking the
button will launch the <br>
command.</p>

<p style="margin-top: 1em">A right button mouse click on
the side or top frames of the gkrellm window will pop up a
user configuration window where you can configure all the
builtin and plugin monitors. <br>
Chart appearance may be configured by right clicking on a
chart, and right clicking on many panels will open the
configuration window directly to the corresponding
monitor&rsquo;s con&acirc; <br>
figuration page.</p>

<p style="margin-top: 1em">OPTIONS <br>
--help Displays this manual page.</p>

<p style="margin-top: 1em">-t, --theme dir <br>
gkrellm will load all theme image files it finds in dir and
parse the gkrellmrc file if one exists. This option
overrides the loading of the last theme you configured to
<br>
be loaded in the Themes configuration window. Theme changes
are not saved when gkrellm is run with this option.</p>

<p style="margin-top: 1em">-g, --geometry +x+y <br>
Makes gkrellm move to an (x,y) position on the screen at
startup. Standard X window geometry position (not size)
formats are parsed, ie +x+y -x+y +x-y -x-y. Except,
neg&acirc; <br>
ative geometry positions are not recognized (ie +-x--y
).</p>

<p style="margin-top: 1em">-wm Forces gkrellm to start up
with window manager decorations. The default is no
decorations because there are themed borders.</p>

<p style="margin-top: 1em">-w, --withdrawn <br>
gkrellm starts up in withdrawn mode so it can go into the
Blackbox slit (and maybe WindowMaker dock).</p>

<p style="margin-top: 1em">-c, --config suffix <br>
Use alternate config files generated by appending suffix to
config file names. This overrides any previous host config
which may have been setup with the below option.</p>

<p style="margin-top: 1em">-f, --force-host-config <br>
If gkrellm is run once with this option and then the
configuration or theme is changed, the config files that are
written will have a -hostname appended to them. Subse&acirc;
<br>
quent runs will detect the user-config-hostname and
gkrellm_theme.cfg-hostname files and use them instead of the
normal configuration files (unless the --config option is
<br>
specified). This is a convenience for allowing remote
gkrellm independent config files in a shared home directory,
and for the hostname to show up in the X title for <br>
window management. This option has no effect in client
mode.</p>

<p style="margin-top: 1em">-s, --server hostname <br>
Run in client mode by connecting to and collecting data from
a gkrellmd server on hostname</p>

<p style="margin-top: 1em">-P, --port server_port <br>
Use server_port for the gkrellmd server connection.</p>

<p style="margin-top: 1em">-l, --logfile path <br>
Enable sending error and debugging messages to a log
file.</p>

<p style="margin-top: 1em">-nc No config mode. The config
menu is blocked so no config changes can be made. Useful in
certain environments, or maybe for running on a xdm(1) login
screen or during a <br>
screensaver mode?</p>

<p style="margin-top: 1em">-demo Force enabling of many
monitors so themers can see everything. All config saving is
inhibited.</p>

<p style="margin-top: 1em">-p, --plugin plugin.so <br>
For plugin development, load the command line specified
plugin so you can avoid repeated install steps in the
development cycle.</p>

<p style="margin-top: 1em">BUILTIN MONITORS <br>
Charts <br>
The default for most charts is to automatically adjust the
number of grid lines drawn and the resolution per grid so
drawn data will be nicely visible. You may change this to
<br>
fixed grids of 1-5 and/or fixed grid resolutions in the
chart configuration windows. However, some combination of
the auto scaling modes may give best results.</p>

<p style="margin-top: 1em">Auto grid resolution has the
following behavior.</p>

<p style="margin-top: 1em">Auto mode sticks at peak value
is not set:</p>

<p style="margin-top: 1em">1) If using auto number of
grids, set the resolution per grid and the number of grids
to optimize the visibility of data drawn on the chart. Try
to keep the number of <br>
grids between 1 and 7.</p>

<p style="margin-top: 1em">2) If using a fixed number of
grids, set the resolution per grid to the smallest value
that draws data without clipping.</p>

<p style="margin-top: 1em">Auto mode sticks at peak value
is set:</p>

<p style="margin-top: 1em">1) If using auto number of
grids, set the resolution per grid such that drawing the
peak value encountered would require at least 5 grids.</p>

<p style="margin-top: 1em">2) If using a fixed number of
grids, set the resolution per grid such that the peak value
encountered could be drawn without clipping. This means the
resolution per grid <br>
never decreases.</p>

<p style="margin-top: 1em">All resolution per grid values
are constrained to a set of values in either a 1, 2, 5
sequence or a 1, 1.5, 2, 3, 5, 7 sequence. If you set Auto
mode sticks at peak value a man&acirc; <br>
ual Auto mode recalibrate may occasionally be required if
the chart data has a wide dynamic range.</p>

<p style="margin-top: 1em">CPU Monitor <br>
Data is plotted as a percentage. In auto number of grids
mode, resolution is a fixed 20% per grid. In fixed number of
grids mode, grid resolution is 100% divided by the number
<br>
of grids.</p>

<p style="margin-top: 1em">Proc Monitor <br>
The krell shows process forks with a full scale value of 10
forks. The chart has a resolution of 10 forks/sec per grid
in auto number of grids mode and 50 forks/second maximum
<br>
on the chart in fixed number of grids mode. The process load
resolution per grid is best left at 1.0 for auto number of
grids, but can be set as high as 5 if you configure the <br>
chart to have only 1 or 2 fixed grids.</p>

<p style="margin-top: 1em">Net Monitor <br>
gkrellm is designed to display a chart for net interfaces
which are up, which means they are listed in the routing
table (however, it is possible in some cases to monitor <br>
unrouted interfaces). One net interface may be linked to a
timer button which can be used to connect and disconnect
from an ISP.</p>

<p style="margin-top: 1em">The timer button shows an off,
standby, or on state by a distinctive (color or shape)
icon.</p>

<p style="margin-top: 1em">ppp Standby state is while the
modem phone line is locked while ppp is connecting, and the
on state is the ppp link connected. The phone line lock is
determined by the exis&acirc; <br>
tence of the modem lock file /var/lock/LCK..modem, which
assumes pppd is using /dev/modem. However, if your pppd
setup does not use /dev/modem, then you can configure an
<br>
alternative with:</p>

<p style="margin-top: 1em">ln -s /var/lock/LCK..ttySx
~/.gkrellm2/LCK..modem</p>

<p style="margin-top: 1em">where ttySx is the tty device
your modem does use. The ppp on state is detected by the
existence of /var/run/pppX.pid and the time stamp of this
file is the base for the <br>
on line time.</p>

<p style="margin-top: 1em">ippp The timer button standby
state is not applicable to ISDN interfaces that are always
routed. The on state is ISDN on line while the ippp
interface is routed. The on line <br>
timer is reset at transitions from ISDN hangup state to on
line state.</p>

<p style="margin-top: 1em">For both ppp and ippp timer
button links, the panel area of the interface is always
shown and the chart appears when the interface is routed
with the phone link connected or on <br>
line.</p>

<p style="margin-top: 1em">If the timer button is not
linked to a net interface, then it can be used as a push on
/ push off timer</p>

<p style="margin-top: 1em">Net monitors can have a label so
that the interface can be associated with the identity of
the other end of the connection. This is useful if you have
several net connections or <br>
run multiple remote gkrellm programs. It can be easier to
keep track of who is connected to who.</p>

<p style="margin-top: 1em">Mem and Swap Monitor <br>
Here you are reading a ratio of total used to total
available. The amount of memory used indicated by the memory
monitor is actually a calculated &quot;used&quot; memory. If
you enter <br>
the &quot;free&quot; command, you will see that most of your
memory is almost always used because the kernel uses large
amounts for buffers and cache. Since the kernel can free a
lot of <br>
this memory as user process demand for memory goes up, a
more realistic reading of memory in use is obtained by
subtracting the buffers and cached memory from the kernel
reported <br>
used. This is shown in the free command output in the
&quot;-/+ buffers/cache&quot; line where a calculated used
amount has buffers and cached memory subtracted from the
kernel reported <br>
used memory, and a calculated free amount has the buffers
and cached memory added in.</p>

<p style="margin-top: 1em">While the memory meter always
shows the calculated &quot;used&quot; memory, the raw memory
values total, shared, buffered, and cached may be optionally
displayed in the memory panel by <br>
entering an appropriate format display string in the
config.</p>

<p style="margin-top: 1em">Units: All memory values have
units of binary megabytes (MiB). Memory sizes have
historically been reported in these units because memory
arrays on silicon have always <br>
increased in size by multiples of 2. Add an address line to
a memory chip and you double or quadruple (a multiplexed
address) the memory size. A binary megabyte is 2^20 or <br>
1048576. Contrast this with units for other stats such as
disk capacities or net transfer rates where the proper units
are decimal megabytes or kilobytes. Disk drive capacities
<br>
do not increase by powers of 2 and manufacturers do not use
binary units when reporting their sizes. However, some of
you may prefer to see a binary disk drive capacity <br>
reported, so it is available as an option.</p>

<p style="margin-top: 1em">Internet Monitor <br>
Displays TCP port connections and records historical port
hits on a minute or hourly chart. Middle button click on an
inet chart to toggle between the minute and hourly
dis&acirc; <br>
plays. There is a strip below the minute or hour charts
where marks are drawn for port hits in second intervals.
Each inet krell also shows port hits with a full scale range
of <br>
5 hits. The left button toggle of extra info displays
current port connections.</p>

<p style="margin-top: 1em">For each internet monitor you
can specify two labeled datasets with one or two ports for
each dataset. There are two ports because some internet
ports are related and you might <br>
want to group them - for example, the standard HTTP port is
80, but there is also a www web caching service on port
8080. So it makes sense to have a HTTP monitor which
combines <br>
data from both ports. A possible common configuration would
be to create one inet monitor that monitors HTTP hits
plotted in one color and FTP hits in another. To do this,
set&acirc; <br>
up in the Internet configuration tab:</p>

<p style="margin-top: 1em">HTTP 80 8080 FTP 21</p>

<p style="margin-top: 1em">Or you could create separate
monitors for HTTP and FTP. Other monitors might be SMTP on
port 25 or NNTP on port 119.</p>

<p style="margin-top: 1em">If you check the &quot;Port0 -
Port1 is a range&quot; button, then all of the ports between
the two entries will be monitored. Clicking the small button
on the Inet panels will pop up a <br>
window listing the currently connected port numbers and the
host that is connected to it.</p>

<p style="margin-top: 1em">gkrellm samples TCP port
activity once per second, so it is possible for port hits
lasting less than a second to be missed.</p>

<p style="margin-top: 1em">File System Monitor <br>
File system mount points can be selected to be monitored
with a meter that shows the ratio of blocks used to total
blocks available. Mounting commands can be enabled for mount
<br>
points in one of two ways:</p>

<p style="margin-top: 1em">If a mount point is in your
/etc/fstab and you have mount permission then mount(8) and
umount(8) commands can be enabled and executed for that
mount point simply by checking the <br>
&quot;Enable /etc/fstab mounting&quot; option. Mount table
entries in /etc/fstab must have the &quot;user&quot; or
&quot;owner&quot; option set to grant this permission unless
gkrellm is run as root. For <br>
example, if you run gkrellm as a normal user and you want to
be able to mount your floppy, your /etc/fstab could have
either of:</p>

<p style="margin-top: 1em">/dev/fd0 /mnt/floppy ext2
user,noauto,rw,exec 0 0 <br>
/dev/fd0 /mnt/floppy ext2 user,defaults 0 0</p>

<p style="margin-top: 1em">If gkrellm is run as root or if
you have sudo(1) permission to run the mount(8) commands,
then a custom mount command can be entered into the
&quot;mount command&quot; entry box. A <br>
umount(8) command must also be entered if you choose this
method. Example mount and umount entries using sudo:</p>

<p style="margin-top: 1em">sudo /bin/mount -t msdos
/dev/fd0 /mnt/A <br>
sudo /bin/umount /mnt/A</p>

<p style="margin-top: 1em">Notes: the mount point specified
in a custom mount command (/mnt/A in this example) must be
the same as entered in the &quot;Mount Point&quot; entry.
Also, you should have the NOPASSWD <br>
option set in /etc/sudoers for this.</p>

<p style="margin-top: 1em">File system monitors can be
created as primary (always visible) or secondary which can
be hidden and then shown when they are of interest. For
example, you might make primary <br>
file system monitors for root, home, or user so they will be
always visible, but make secondary monitors for less
frequently used mount points such as floppy, zip, backup
parti&acirc; <br>
tions, foreign file system types, etc. Secondary FS monitors
can also be configured to always be visible if they are
mounted by checking the &quot;Show if mounted&quot; option.
Using <br>
this feature you can show the secondary group, mount a file
system, and have that FS monitor remain visible even when
the secondary group is hidden. A standard cdrom mount will
<br>
show as 100% full but a monitor for it could be created with
mounting enabled just to have the mount/umount
convenience.</p>

<p style="margin-top: 1em">When the &quot;Ejectable&quot;
option is selected for a file system, an eject button will
appear when the mouse enters the file system panel. If you
are not using /etc/fstab mounting, a <br>
device file to eject will also need to be entered. Systems
may have varying levels of support for this feature ranging
from none or basic using an ioctl() to full support using
<br>
an eject command to eject all its supported devices. Linux
and NetBSD use the &quot;eject&quot; command while FreeBSD
uses the &quot;cdcontrol&quot; command, so be sure these
commands are <br>
installed. Most eject commands will also support closing a
CDROM tray. If they do, you will be able to access this
function by right clicking the eject button.</p>

<p style="margin-top: 1em">Mail Monitor <br>
Checks your mailboxes for unread mail. A mail reading
program (MUA) can be executed with a left mouse click on the
mail monitor panel button, and a mail notify (play a sound)
<br>
program such as esdplay or artsplay can be executed whenever
the new mail count increases. The mail panel envelope decal
may also be clicked to force an immediate mail check at <br>
any time.</p>

<p style="margin-top: 1em">gkrellm is capable of checking
mail from local mailbox types mbox, MH, and maildir, and
from remote mailbox types POP3 and IMAP.</p>

<p style="margin-top: 1em">POP3 and IMAP checking can use
non-standard port numbers and password authentication
protocols APOP (for POP3 only) or CRAM-MD5. If supported by
the mail server, emote checking <br>
may be done over an SSL connection if the &quot;Use
SSL&quot; option is selected.</p>

<p style="margin-top: 1em">Before internal POP3 and IMAP
checking was added, an external mail fetch/check program
could be set up to be executed periodically to download or
check remote POP3 or IMAP mail. <br>
This method is still available and must be used if you want
gkrellm to be able to download remote mail to local
mailboxes because the builtin checking functions cannot
download.</p>

<p style="margin-top: 1em">Battery Monitor <br>
This meter will be available if a battery exists and will
show battery percentage life remaining. A decal indicates if
AC line is connected or if the battery is in use. If the
<br>
data is available, time remaining may be displayed as well
as the percentage battery level. If the time remaining is
not available or is inaccurate, the Estimate Time option may
<br>
be selected to display a battery time to run or time to
charge which is calculated based on the current battery
percent level, user supplied typical battery times, and a
default <br>
linear extrapolation model. For charging, an exponential
charge model may be selected.</p>

<p style="margin-top: 1em">A battery low level warning and
alarm alert may be set. If battery time is not available
from the OS and the estimate time mode is not set, the alert
units will be battery per&acirc; <br>
cent level. Otherwise the alert units will be battery time
left in minutes. If OS battery time is not available and the
estimate time mode is set when the alert is created, the
<br>
alert will have units of time left in minutes and the alert
will automatically be destroyed if the estimate time option
is subsequently turned off.</p>

<p style="margin-top: 1em">If the OS reports multiple
batteries, the alert will be a master alert which is
duplicated for each battery.</p>

<p style="margin-top: 1em">CPU/Motherboard Sensors -
Temperature, Voltages, and Fan RPM <br>
Linux: <br>
Sensor monitoring on Linux requires that either lm_sensors
modules are installed in your running kernel, that you run a
kernel &gt;= 2.6 with sysfs sensors configured, or, for i386
<br>
architectures, that you have the mbmon daemon running when
gkrellm is started (as long as mbmon supports reporting
sensor values for your motherboard).</p>

<p style="margin-top: 1em">For lm_sensors to be used,
gkrellm must be compiled with libsensors support. It will be
if the libsensors development package is installed when
gkrellm is compiled. Using lib&acirc; <br>
sensors is the preferred interface on Linux since it is the
only interface that will be up to date on supporting correct
voltage scaling factors and offsets for recent sensor <br>
chips.</p>

<p style="margin-top: 1em">If the mbmon daemon is used, it
must be started before gkrellm like so:</p>

<p style="margin-top: 1em">mbmon -r -P port-number</p>

<p style="margin-top: 1em">where the given
&quot;port-number&quot; must be configured to match in the
gkrellm Sensors-&gt;Options config. If you have mbmon
installed from a distribution package, you can probably
eas&acirc; <br>
ily set up for mbmon to be started at boot. With Debian, for
example, you would edit the file /etc/default/mbmon to
set:</p>

<p style="margin-top: 1em">START_MBMON=1</p>

<p style="margin-top: 1em">and you would need to set in the
gkrellm Sensors-&gt;Option config the mbmon port to be
&quot;411&quot; to match the default in the
/etc/default/mbmon file.</p>

<p style="margin-top: 1em">Sensor temperatures can also be
read from /proc/acpi/thermal_zone, /proc/acpi/thermal,
/proc/acpi/ibm, the PowerMac Windfarm /sysfs interface, and
PowerMac PMU /sysfs based sen&acirc; <br>
sors.</p>

<p style="margin-top: 1em">When using lm_sensors,
libsensors will be used if available, but if libsensors is
not linked into the program, the sensor data will be read
directly from the /sysfs or /proc file <br>
systems. If running a newer Linux kernel sensor module not
yet supported by libsensors and libsensors is linked, there
will also be an automatic fallback to using /sysfs as <br>
long as libsensors doesn&rsquo;t detect any sensors. But if
it does detect some sensors which does not include the new
sensors you need, you can force getting /sysfs sensor data
<br>
either by running:</p>

<p style="margin-top: 1em">gkrellm --without-libsensors</p>

<p style="margin-top: 1em">or by rebuilding with:</p>

<p style="margin-top: 1em">make without-libsensors=yes</p>

<p style="margin-top: 1em">Disk temperatures may also be
monitored if you have the hddtemp daemon running when
gkrellm is started. gkrellm uses the default hddtemp port of
7634. Like mbmon, hddtemp is <br>
best started in a boot script to guarantee it will be
running when gkrellm is started.</p>

<p style="margin-top: 1em">NVIDIA graphics card GPU
temperatures may also be monitored if the nvidia-settings
command is installed and your Nvidia card supports the
temperature reporting. If nvidia-set&acirc; <br>
tings is not installed or does not report temperatures for
your card, an option for using the nvclock program will
appear in the Sensors config. Nvclock use is not
automatically <br>
enabled as is nvidia-settings because nvclock can add
seconds of gkrellm startup time when used on a NVIDIA GPU
chipset it does not support. GKrellM must be restarted to
recog&acirc; <br>
nize changes for the nvclock option.</p>

<p style="margin-top: 1em">Windows: <br>
Requires a MBM install: http://mbm.livewiredev.com/.</p>

<p style="margin-top: 1em">FreeBSD: <br>
Builtin sensor reporting is available for some sensor chips.
FreeBSD systems can also read sensor data from the mbmon
daemon as described in the Linux section above.</p>

<p style="margin-top: 1em">NetBSD: <br>
Builtin sensor reporting is available for some sensor chips.
NetBSD uses the envsys(4) interface and sensors reading is
automatically enabled if you have either a lm(4) or <br>
viaenv(4) chip configured in your kernel.</p>

<p style="margin-top: 1em">General Setup: <br>
Temperature and fan sensor displays may be optionally
located on the CPU or Proc panels to save some vertical
space while voltages are always displayed on their own
panel. If <br>
you set up to monitor both a temperature and a fan on a
single CPU or Proc panel, they can be displayed optionally
as an alternating single display or as separate displays. If
<br>
separate, the fan display will replace the panel label. The
configuration for this is under the CPU and Proc config
pages.</p>

<p style="margin-top: 1em">If not using libsensors, in the
Setup page for the Sensors config enter any correction
factors and offsets for each of the sensors you are
monitoring (see below and lm_sensor <br>
documentation). For Linux, default values are automatically
provided for many sensor chips.</p>

<p style="margin-top: 1em">But if using libsenors, it is
not possible to enter correction factors and offsets on the
Sensors config page because libsensors configuration is done
in the /etc/sensors.conf <br>
file. To get sensor debug output and to find out the sensor
data source, run:</p>

<p style="margin-top: 1em">gkrellm -d 0x80</p>

<p style="margin-top: 1em">Note for NetBSD users: <br>
The current implementation of the sensor reading under
NetBSD opens /dev/sysmon and never closes it. Since that
device does not support concurrent accesses, you won&rsquo;t
be <br>
able to run other apps such as envstat(8) while GKrellM is
running. This might change if this happens to be an
issue.</p>

<p style="margin-top: 1em">The reasons for this choice are
a) efficiency (though it might be possible to open/close
/dev/sysmon each time a reading is needed without major
performance issue) and b) <br>
as of October 2001, there&rsquo;s a bug in the envsys(4)
driver which sometimes causes deadlocks when processes try
to access simultaneously /dev/sysmon (see NetBSD PR#14368).
<br>
A (quick and dirty) workaround for this is to monopolize the
driver :)</p>

<p style="margin-top: 1em">CPU/Motherboard Temperatures
<br>
Most modern motherboards will not require setting
temperature correction factors and offsets other than the
defaults. However, for lm_sensors it is necessary to have a
correct <br>
&quot;set sensor&quot; line in /etc/sensors.conf if the
temperature sensor type is other than the default
thermistor. If using Linux sysfs sensors, this sensor type
would be set by writ&acirc; <br>
ing to a sysfs file. For example, you might at boot set a
sysfs temperature sensor type with:</p>

<p style="margin-top: 1em">echo &quot;2&quot; &gt;
/sys/bus/i2c/devices/0-0290/sensor2</p>

<p style="margin-top: 1em">On the other hand, some older
motherboards may need temperature calibration by setting a
correction factor and offset for each temperature sensor
because of factors such as vari&acirc; <br>
ations in physical thermistor contact with the CPU.
Unfortunately, this calibration may not be practical or
physically possible because it requires that somehow you can
get a <br>
real CPU temperature reading. So, the calibration discussion
which follows should probably be considered an academic
exercise that might give you some good (or bad) ideas. If
<br>
you have a recent motherboard, skip the following.</p>

<p style="margin-top: 1em">Anyway, to do this calibration,
take two real CPU temperature readings corresponding to two
sensor reported readings. To get the real readings, you can
trust that your mother&acirc; <br>
board manufacturer has done this calibration and is
reporting accurate temperatures in the bios, or you can put
a temperature probe directly on your CPU case (and this is
where <br>
things get impractical).</p>

<p style="margin-top: 1em">Here is a hypothetical CPU
calibration procedure. Make sure gkrellm is configured with
default factors of 1.0 and offsets of 0 and is reporting
temperatures in centigrade:</p>

<p style="margin-top: 1em">1 &Acirc;&middot; Power on the
machine and read a real temperature T1 from the bios or a
temperature probe. If reading from the bios, proceed with
booting the OS. Now record a sensor tem&acirc; <br>
perature S1 as reported by gkrellm.</p>

<p style="margin-top: 1em">2 &Acirc;&middot; Change the
room temperature environment (turn off your AC or change
computer fan exhaust speed). Now repeat step 1, this time
recording a real temperature T2 and gkrellm <br>
reported sensor temperature S2.</p>

<p style="margin-top: 1em">3 &Acirc;&middot; Now you can
calculate the correction factor and offset you need to enter
into the Sensor configuration tab:</p>

<p style="margin-top: 1em">From:</p>

<p style="margin-top: 1em">s - S1 t - T1 <br>
------ = ------ <br>
S2 - S1 T2 - T1</p>

<p style="margin-top: 1em">T2 - T1 S2*T1 - S1*T2 <br>
t = s * ------- + ------------- <br>
S2 - S1 S2 - S1</p>

<p style="margin-top: 1em">So:</p>

<p style="margin-top: 1em">T2 - T1 S2*T1 - S1*T2 <br>
factor = ------- offset = ------------- <br>
S2 - S1 S2 - S1</p>

<p style="margin-top: 1em">Voltage Sensor Corrections <br>
You need to read this section only if you think the default
voltage correction factors and offsets are incorrect. For
Linux and lm_sensors and sysfs sensors <br>
this would be if gkrellm does not know about your particular
sensor chip. For MBM with Windows, the default values should
be correct.</p>

<p style="margin-top: 1em">Motherboard voltage measurements
are made by a variety of sensor chips which are capable of
measuring a small positive voltage. GKrellM can display
these voltage values and can <br>
apply a correction factor, offset, and for the negative
voltages of some chips (lm80), a level shifting reference
voltage to the displayed voltage. There are four cases to
con&acirc; <br>
sider:</p>

<p style="margin-top: 1em">1 &Acirc;&middot; Low valued
positive voltages may be directly connected to the input
pins of the sensor chip and therefore need no correction.
For these, the correction factor should be <br>
1.0 and the offset should be 0.</p>

<p style="margin-top: 1em">2 &Acirc;&middot; Higher valued
positive voltages will be connected to the input pins of the
sensor chip through a 2 resistor attenuation circuit. For
these, the correction factor will be <br>
a ratio of the resistor values and the offset will be 0.</p>

<p style="margin-top: 1em">3 &Acirc;&middot; Negative
voltages will be connected to the input pins of the sensor
through a 2 resistor attenuation circuit with one of the
resistors connected to a positive voltage to <br>
effect a voltage level shift. For these (lm80), the
correction factor and offset will be ratios of the resistor
values, and a reference voltage must be used.</p>

<p style="margin-top: 1em">4 &Acirc;&middot; Some sensor
chips (w83782, lm78) are designed to handle negative inputs
without requiring an input resistor connected to a voltage
reference. For these, there will be a <br>
correction factor and a possible offset.</p>

<p style="margin-top: 1em">For cases 2 and 3, the sensor
chip input network looks like:</p>

<p style="margin-top: 1em">Vs o----/---o-------------o Vin
<br>
R1 | <br>
o--/--o Vref <br>
R2</p>

<p style="margin-top: 1em">where,</p>

<p style="margin-top: 1em">Vs is the motherboard voltage
under measurement</p>

<p style="margin-top: 1em">Vin is the voltage at the input
pin of the sensor chip and therefore is the voltage reading
that will need correction.</p>

<p style="margin-top: 1em">Vref is a level shifting voltage
reference. For case 2, Vref is ground or zero. For case 3,
Vref will be one of the positive motherboard voltages.</p>

<p style="margin-top: 1em">The problem then is to compute
correction factors and offsets as a function of R1 and R2 so
that GKrellM can display a computed motherboard voltage Vs
as a function of a measured <br>
voltage Vin.</p>

<p style="margin-top: 1em">Since sensor chip input pins are
high impedance, current into the pins may be assumed to be
zero. In that case, the current through R1 equals current
through R2, and we have:</p>

<p style="margin-top: 1em">(Vs - Vin)/R1 = (Vin -
Vref)/R2</p>

<p style="margin-top: 1em">Solving for Vs as a function of
Vin:</p>

<p style="margin-top: 1em">Vs = Vin * (1 + R1/R2) - (R1/R2)
* Vref</p>

<p style="margin-top: 1em">So, the correction factor is: 1
+ R1/R2 <br>
the correction offset is: - (R1/R2) <br>
Vref is specified in the config separately from <br>
the offset (for chips that need it).</p>

<p style="margin-top: 1em">Fortunately there seems to be a
standard set of resistor values used for the various sensor
chips which are documented in the lm_sensor documentation.
The GKrellM sensor correc&acirc; <br>
tions are similar to the compute lines you find with
lm_sensors, with the difference that lm_sensors has an
expression evaluator which does not require that compute
lines be sim&acirc; <br>
plified to the single factor and offset required by GKrellM.
But you can easily calculate the factor and offset. For
example, this lm_sensor compute line for a case 2
voltage:</p>

<p style="margin-top: 1em">compute in3 ((6.8/10)+1)*@ ,
@/((6.8/10)+1)</p>

<p style="margin-top: 1em">yields a correction factor of
((6.8/10)+1) = 1.68 and an offset of zero.</p>

<p style="margin-top: 1em">Note that the second compute
line expression is not relevant in GKrellM because there is
never any need to invert the voltage reading calculation.
Also, the compute line &rsquo;@&rsquo; <br>
symbol represents the Vin voltage.</p>

<p style="margin-top: 1em">A more complicated compute line
for a case 3 voltage:</p>

<p style="margin-top: 1em">compute in5 (160/35.7)*(@ - in0)
+ @, ...</p>

<p style="margin-top: 1em">can be rewritten:</p>

<p style="margin-top: 1em">compute in5 (1 + 160/35.7)*@ -
(160/35.7)*in0, ...</p>

<p style="margin-top: 1em">so the correction factor is (1 +
160/35.7) = 5.48 <br>
and the correction offset is -(160/35.7) = -4.48 <br>
and the voltage reference Vref is in0</p>

<p style="margin-top: 1em">Here is a table of correction
factors and offsets based on some typical compute line
entries from /etc/sensors.conf:</p>

<p style="margin-top: 1em">Compute line Factor Offset Vref
<br>
------------------------------------------------- <br>
lm80 in0 (24/14.7 + 1) * @ 2.633 0 - <br>
in2 (22.1/30 + 1) * @ 1.737 0 - <br>
in3 (2.8/1.9) * @ 1.474 0 - <br>
in4 (160/30.1 + 1) * @ 6.316 0 - <br>
in5 (160/35.7)*(@-in0) + @ 5.482 -4.482 in0 <br>
in6 (36/16.2)*(@-in0) + @ 3.222 -2.222 in0</p>

<p style="margin-top: 1em">LM78 in3 ((6.8/10)+1)*@ 1.68 0 -
<br>
in4 ((28/10)+1)*@ 3.8 0 - <br>
in5 -(210/60.4)*@ -3.477 0 - <br>
in6 -(90.9/60.4)*@ -1.505 0 -</p>

<p style="margin-top: 1em">w83782 in5 (5.14 * @) - 14.91
5.14 -14.91 - <br>
in6 (3.14 * @) - 7.71 3.14 -7.71 -</p>

<p style="margin-top: 1em">Command launching <br>
Many monitors can be set up to launch a command when you
click on the monitor label. When a command is configured for
a monitor, its label is converted into a button which <br>
becomes visible when the mouse enters the panel or meter
area of the label. If the command is a console command
(doesn&rsquo;t have a graphical user interface), then the
command must <br>
be run in a terminal window such as xterm, eterm, or Gnome
terminal. For example running the &quot;top&quot; command
would take:</p>

<p style="margin-top: 1em">xterm -e top</p>

<p style="margin-top: 1em">You can use the command
launching feature to run commands related to monitoring
functions, or you may use it to have a convenient launch for
any command. Since gkrellm is usu&acirc; <br>
ally made sticky, you can have easy access to several
frequently used commands from any desktop. This is intended
to be a convenience and a way to maximize utilization of
screen <br>
real estate and not a replacement for more full featured
command launching from desktops such as Gnome or KDE or
others. Some launch ideas for some monitors could be:</p>

<p style="margin-top: 1em">calendar: <br>
gnomecal, evolution, or ical</p>

<p style="margin-top: 1em">CPU: xterm -e top or gps or
gtop</p>

<p style="margin-top: 1em">inet: gftp or xterm -e
ftpwho</p>

<p style="margin-top: 1em">net: mozilla, galeon, skipstone,
or xterm -e slrn -C-</p>

<p style="margin-top: 1em">And so on... Tooltips can be set
up for these commands.</p>

<p style="margin-top: 1em">Alerts <br>
Most monitors can have alerts configured to give warnings
and alarms for data readings which range outside of
configurable limits. Where useful, a delay of the alert
trigger can <br>
be configured. A warning or alarm consists of an attention
grabbing decal appearing and an optional command being
executed. For most monitors the command may contain the same
<br>
substitution variables which are available for display in
the chart or panel label format strings and are documented
on configuration Info pages. Additionally, the hostname may
<br>
be embedded in the command with the $H substitution
variable.</p>

<p style="margin-top: 1em">If you have festival installed,
either a warn or alarm command could be configured to speak
something. For example a CPU temperature alert warn command
could just speak the cur&acirc; <br>
rent temperature with:</p>

<p style="margin-top: 1em">sh -c &quot;echo warning C P U
is at $s degrees | esddsp festival --tts&quot;</p>

<p style="margin-top: 1em">Assuming you have esd
running.</p>

<p style="margin-top: 1em">THEMES <br>
A theme is a directory containing image files and a
gkrellmrc configuration file. The theme directory may be
installed in several locations:</p>

<p style="margin-top: 1em">~/.gkrellm2/themes <br>
/usr/local/share/gkrellm2/themes <br>
/usr/share/gkrellm2/themes</p>

<p style="margin-top: 1em">For compatibility with Gtk
themes, a gkrellm theme may also be installed as:</p>

<p style="margin-top: 1em">~/.themes/THEME_NAME/gkrellm2
<br>
/usr/share/themes/THEME_NAME/gkrellm2</p>

<p style="margin-top: 1em">Finally, a theme you simply want
to check out can be untarred anywhere and used by
running:</p>

<p style="margin-top: 1em">gkrellm -t path_to_theme</p>

<p style="margin-top: 1em">If you are interested in writing
a theme, go to the Themes page at http://www.gkrellm.net and
there you will find a Theme making reference.</p>

<p style="margin-top: 1em">PLUGINS <br>
gkrellm tries to load all plugins (shared object files
ending in .so) it finds in your plugin directory
~/.gkrellm2/plugins. The directories
/usr/local/lib/gkrellm2/plugins and <br>
/usr/lib/gkrellm2/plugins are also searched for plugins to
install.</p>

<p style="margin-top: 1em">Some plugins may be available
only as source files and they will have to be compiled
before installation. There should be instructions for doing
this with each plugin that comes <br>
in source form.</p>

<p style="margin-top: 1em">If you are interested in writing
a plugin, go to the Plugins page at http://www.gkrellm.net
and there you will find a Plugin programmers reference.</p>

<p style="margin-top: 1em">CLIENT/SERVER <br>
When a local gkrellm runs in client mode and connects to a
remote gkrellmd server all builtin monitors collect their
data from the server. However, the client gkrellm process is
<br>
running on the local machine, so any enabled plugins will
run in the local context (Flynn is an exception to this
since it derives its data from the builtin CPU monitor).
Also, <br>
any command launching will run commands on the local
machine.</p>

<p style="margin-top: 1em">FILES <br>
~/.gkrellm2 <br>
User gkrellm directory where are located configuration
files, user&rsquo;s plugins and user&rsquo;s themes.</p>

<p style="margin-top: 1em">~/.gkrellm2/plugins <br>
User plugin directory.</p>

<p style="margin-top: 1em">/usr/lib/gkrellm2/plugins <br>
System wide plugin directory.</p>

<p style="margin-top: 1em">/usr/local/lib/gkrellm2/plugins
<br>
Local plugin directory.</p>

<p style="margin-top: 1em">~/.gkrellm2/themes <br>
User theme directory.</p>

<p style="margin-top: 1em">~/.themes/THEME_NAME/gkrellm2
<br>
User theme packaged as part of a user Gtk theme.</p>

<p style="margin-top: 1em">/usr/share/gkrellm2/themes <br>
System wide theme directory.</p>


<p style="margin-top: 1em">/usr/local/share/gkrellm2/themes
<br>
Local theme directory.</p>


<p style="margin-top: 1em">/usr/share/themes/THEME_NAME/gkrellm2
<br>
System wide theme packaged as part of a system wide Gtk
theme.</p>

<p style="margin-top: 1em">AUTHORS <br>
This manual page was written by Bill Wilson
&lt;billw@gkrellm.net&gt;. http://www.gkrellm.net/</p>

<p style="margin-top: 1em">SEE ALSO <br>
fstab(5), sudo(1), mount(8), pppd(8), umount(8)</p>

<p style="margin-top: 1em">GNU/Linux Oct 14, 2014
gkrellm(1)</p>
<hr>
</body>
</html>
