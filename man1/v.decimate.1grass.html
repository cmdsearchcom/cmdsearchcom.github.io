<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.decimate(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.decimate(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.decimate(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.decimate</b> - Decimates a point cloud
<div>&#x00A0;</div>
Copies points from one vector to another while applying different decimations
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, LIDAR, generalization, decimation, extract, select, points
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.decimate</b>
<div>&#x00A0;</div>
<b>v.decimate --help</b>
<div>&#x00A0;</div>
<b>v.decimate</b> [-<b>gfczxb</b>] <b>input</b>=<i>name</i>
  [<b>layer</b>=<i>string</i>] <b>output</b>=<i>name</i>
  [<b>zrange</b>=<i>min,max</i>] [ <b>cats</b>=<i>range</i>]
  [<b>skip</b>=<i>integer</i>] [ <b>preserve</b>=<i>integer</i>]
  [<b>offset</b>=<i>integer</i>] [<b>limit</b>=<i>integer</i>]
  [<b>zdiff</b>=<i>float</i>] [ <b>cell_limit</b>=<i>integer</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Apply grid-based decimation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use only first point in grid cell during grid-based decimation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Only one point per cat in grid cell</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use z in grid decimation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Store only the coordinates, throw away categories
    <div>&#x00A0;</div>
    Do not story any categories even if they are present in input data</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not build topology
    <div>&#x00A0;</div>
    Advantageous when handling a large number of points</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input vector map
    <div>&#x00A0;</div>
    Or data source for direct OGR access</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>layer</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer number or name (&#x2019;-1&#x2019; for all layers)
    <div>&#x00A0;</div>
    A single vector map can be connected to multiple database tables. This
      number determines which table to use. When used with direct OGR access
      this is the layer name.
    <div>&#x00A0;</div>
    Default: <i>-1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output vector map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zrange</b>=<i>min,max</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Filter range for z data (min,max)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cats</b>=<i>range</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Category values
    <div>&#x00A0;</div>
    Example: 1,3,7-9,13</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>skip</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Throw away every n-th point
    <div>&#x00A0;</div>
    For example, 5 will import 80 percent of points. If not specified, all
      points are copied</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>preserve</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Preserve only every n-th point
    <div>&#x00A0;</div>
    For example, 4 will import 25 percent of points. If not specified, all
      points are copied</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>offset</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Skip first n points
    <div>&#x00A0;</div>
    Skips the given number of points at the beginning.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>limit</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Copy only n points
    <div>&#x00A0;</div>
    Copies only the given number of points</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zdiff</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Minimal difference of z values
    <div>&#x00A0;</div>
    Minimal difference between z values in grid-based decimation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cell_limit</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Preserve only n points per grid cell
    <div>&#x00A0;</div>
    Preserves only the given number of points per grid cell in grid-based
      decimation</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.decimate</i> reduces number of points in the input vector map and copies
  them over to the output vector map. Different point decimation techniques can
  be applied to reduce the number of points.
<div class="Pp"></div>
Two main decimation techniques are:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">count-based decimation (<b>skip</b>, <b>preserve</b>,
      <b>offset</b> and <b>limit</b> options)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">grid-based decimation (<b>-g</b> flag)</dd>
</dl>
</div>
<div class="Pp"></div>
The grid-based decimation will remove points based on:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">similar z coordinates (<b>-z</b> flag and <b>zdiff</b>
      option)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">same categories (<b>-c</b> flag)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">count of points (<b>-f</b> flag and <b>cell_limit</b>
      option)</dd>
</dl>
</div>
<div class="Pp"></div>
The grid-based decimation is currently using a 2D grid, so the points are placed
  and compared within this 2D grid. The comparison can happen using z
  coordinates or categories. Note that although the grid is only 2D, the module
  works with 3D points.
<div class="Pp"></div>
The grid-based decimation extent and resolution depend on the current
  computational region as set by <i>g.region</i>. As a consequence, the output
  is limited only to computational region in this case.
<div class="Pp"></div>
TODO: Currently, any output is limited by the region.
<div class="Pp"></div>
The count-based decimation result highly depends on how the data are ordered in
  the input. This applies especially to <b>offset</b> and <b>limit</b> options
  where the resulting shape and densities can be surprising. The options
  <b>skip</b> and <b>preserve</b> are influenced by order of points in a similar
  way but they usually keep relative density of points (which may or may not be
  desired). On the other hand, the grid-based decimation will generally result
  in more even density of output points (see Figure 1).
<div class="Pp"></div>
Besides decimation, point count can be reduced by applying different selections
  or filters, these are:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">selection by category (<b>cats</b> option)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">selection by z values (<b>zrange</b> option)</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The grid-based decimation requires all points which will be saved in output to
  fit into the computer&#x2019;s memory (RAM). It is advantageous to have the
  region only in the area with the points, otherwise unnecessary memory is
  allocated. Higher (finer) resolutions and higher amount of preserved points
  per cell require more memory. The count-based decimation has no limitation
  regarding the available memory.
<div class="Pp"></div>
Significant speed up can be gained using <b>-b</b> flag which disables building
  of topology for the output vector map. This may limit the use of the vector
  map by some modules, but for example, this module works without topology as
  well.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Keep only every forth point, throw away the rest:
<div>&#x00A0;</div>
<pre>
v.decimate input=points_all output=points_decimated_every_4 preserve=4
</pre>
<div class="Pp"></div>
Keep only points within a grid cell (given by the current computational region)
  which has unique categories (e.g. LIDAR classes):
<div>&#x00A0;</div>
<pre>
v.decimate input=points_all output=points_decimated_unique_cats layer=1 -g -c
</pre>
<div class="Pp"></div>
<i></i> <i>Figure 1: Comparison of original points, decimation result</i>
  <i>with every forth point preserved, and grid-based decimation</i> <i>result
  with points with unique categories in each grid cell</i> <i></i>
<div class="Pp"></div>
Keep only points with category 2 and keep only approximately 80% of the points:
<div>&#x00A0;</div>
<pre>
v.decimate input=points_all output=points_decimated_ skip=5 cats=2 layer=1
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>v.extract,</i> <i>v.outlier,</i> <i>v.select,</i> <i>v.category,</i>
  <i>v.build,</i> <i>v.in.lidar,</i> <i>g.region</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Vaclav Petras, NCSU OSGeoREL
<div class="Pp"></div>
<i>Last changed: $Date: 2015-10-01 03:55:00 +0200 (Thu, 01 Oct 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.decimate source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
