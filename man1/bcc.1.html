<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>bcc(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">bcc(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">bcc(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bcc - Bruce's C compiler
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>bcc</b> [<b>-03EGNOPSVcegvwxW</b>] [<b>-Aas_option</b>]
  [<b>-Bexecutable_prefix</b>] [<b>-Ddefine</b>] [<b>-Uundef</b>]
  [<b>-Mc_mode</b>] [<b>-o&#x00A0;outfile</b>] [<b>-ansi</b>]
  [<b>-Ccc1_option</b>] [<b>-Pcpp_option</b>] [<b>-Iinclude_dir</b>]
  [<b>-Lld_option</b>] [<b>-Ttmpdir</b>] [<b>-Qc386_option</b>]
  [<b>-ttext_segno</b>] [<b>ld_options</b>] [<b>infiles</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Bcc</b> is a simple C compiler that produces 8086 assembler, in addition
  compiler compile time options allow 80386 or 6809 versions. The compiler
  understands traditional K&amp;R C with just the restriction that bit fields
  are mapped to one of the other integer types.
<div style="height: 1.00em;">&#x00A0;</div>
The default operation is to produce an 8086 executable called <b>a.out</b> from
  the source file.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ansi</b></dt>
  <dd class="It-tag">Pass the C source through <b>unprotoize</b> after
      preprocessing and before code generation. This will allow <i>some</i> ansi
      C to be compiled but it is definitly <b>NOT</b> a true ansi-C
    compiler.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-0</b></dt>
  <dd class="It-tag">8086 target (works on 80386 host, but not 6809)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-3</b></dt>
  <dd class="It-tag">80386 target (may work on 8086 host, but not 6809)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b></dt>
  <dd class="It-tag">pass remainder of option to assembler (e.g. -A-l -Alistfile
      for a listing)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b></dt>
  <dd class="It-tag">prefix for executable search path (as usual; the search
      order is all paths specified using <b>-B</b>, in order, then the path
      given in the environment variable <b>BCC_EXEC_PREFIX</b> if that is set,
      then the compiled-in defaults (something like /usr/lib/bcc/ followed by
      /usr/bin/)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b></dt>
  <dd class="It-tag">pass remainder of option to bcc-cc1, see code generation
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">preprocessor define</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b></dt>
  <dd class="It-tag">produce preprocessor output to standard out.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b></dt>
  <dd class="It-tag">produce GCC objects (Same as -Mg)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ixyz</b></dt>
  <dd class="It-tag">include search 'xyz' path</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">don't add default include to search list</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Lxyz</b></dt>
  <dd class="It-tag">add directory name 'xyz' to the head of the list of library
      directories searched</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b></dt>
  <dd class="It-tag">don't add default library to search list</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Md</b></dt>
  <dd class="It-tag">alters the arguments for all passes to produce MSDOS
      executable COM files. These are small model executables, use <b>-i</b> to
      get tiny model.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Mf</b></dt>
  <dd class="It-tag">sets bcc to pass the <b>-c</b> and <b>-f</b> arguments to
      the code generator for smaller faster code. Note this code is not
      compatible with the standard calling conventions so a different version of
      the C library is linked too.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Mc</b></dt>
  <dd class="It-tag">sets bcc to pass the <b>-c</b> argument to the code
      generator for smaller faster code. Note the standard libc is normally
      transparent to this, but there are exceptions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ms</b></dt>
  <dd class="It-tag">alters the arguments for all passes and selects C-library
      to produce standalone Linux-86 executables</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Ml</b></dt>
  <dd class="It-tag">switches to i386-Linux code generator and library. This
      configuration accepts the <b>-z</b> flag to generate QMAGIC a.out files
      instead of the normal OMAGIC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Mg</b></dt>
  <dd class="It-tag">switches to i386-Linux code generator and generates OMAGIC
      object files that can be linked with some versions of gcc; unfortunatly
      the most recent versions use 'collect2' to link and this crashes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b></dt>
  <dd class="It-tag">makes the linker produce a native a.out file (Linux OMAGIC)
      if combined with -3 the executable will run under Linux-i386.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b></dt>
  <dd class="It-tag">optimize, call <b>copt</b>(<b>1</b>) to optimize 8086 code.
      Specifiers to choose which rules <b>copt</b> should use can be appended to
      the <b>-O</b> and the option can be repeated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b></dt>
  <dd class="It-tag">produce preprocessor output with no line numbers to
      standard output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b></dt>
  <dd class="It-tag">pass full option to c386 (Only for c386 version)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b></dt>
  <dd class="It-tag">produce assembler file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b></dt>
  <dd class="It-tag">temporary directory (overrides previous value and default;
      default is from the environment variable TMPDIR if that is set, otherwise
      /tmp)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag">preprocessor undefine</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">print names of files being compiled</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b></dt>
  <dd class="It-tag">pass remainder of option to linker (e.g. -X-Ofile is passed
      to the linker as -Ofile)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">produce object file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">turn on floating point support, no effect with i386,
      changes libc library with 8086 code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag">produce debugging info (ignored.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">output file name follows (assembler, object or executable)
      (as usual)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">produce profiling info (ignored.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t1</b></dt>
  <dd class="It-tag">pass to the assembler to renumber the text segment for
      multi-segment programs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">print names and args of subprocesses being run. Two or more
      -v's print names of files being unlinked. Three or more -v's print names
      of paths being searched.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">Supress any warning diagnostics.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b></dt>
  <dd class="It-tag">Turn <b>on</b> assembler warning messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">don't include crt0.o in the link.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">don't pass <b>-i</b> to the linker so that it will create
      an impure executable.</dd>
</dl>
<div class="Pp"></div>
Other options are passed to the linker, in particular -lx, -M, -m, -s, -H.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CODE_GENERATOR_OPTIONS"><a class="selflink" href="#CODE_GENERATOR_OPTIONS">CODE
  GENERATOR OPTIONS</a></h1>
These are all options that the code generator pass <b>bcc-cc1</b> understands,
  only some will be useful for the <b>-C</b> option of bcc.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-0</b></dt>
  <dd class="It-tag">8086 target (works even on 80386 host, not on 6809)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-3</b></dt>
  <dd class="It-tag">80386 target (may work even on 8086 host, not on 6809)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">define (as usual)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b></dt>
  <dd class="It-tag">produce preprocessor output (as usual)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">include search path (as usual)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b></dt>
  <dd class="It-tag">produce preprocessor output with no line numbers (as
    usual)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">produce code with caller saving regs before function
    calls</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">print debugging information in assembly output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">produce code with 1st argument passed in a register (AX,
      EAX or X)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">produce code for 2 3 1 0 long byte order (only works in
      16-bit code), a special library of compiler helper functions is needed for
      this mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">assembler output file name follows</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">produce (almost) position-independent code (only for the
      6809)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">print source code in assembly output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">print what cc1 thinks is the location counter in assembly
      output</dd>
</dl>
<div class="Pp"></div>
All the options except -D, -I and -o may be turned off by following the option
  letter by a '-'. Options are processed left to right so the last setting has
  precedence.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="PREPROCESSOR_DEFINES"><a class="selflink" href="#PREPROCESSOR_DEFINES">PREPROCESSOR
  DEFINES</a></h1>
The preprocessor has a number of manifest constants.
<dl class="Bl-tag">
  <dt class="It-tag"><b>__BCC__ 1</b></dt>
  <dd class="It-tag">The compiler identifier, normally used to avoid compiler
      limitations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__FILE__</b></dt>
  <dd class="It-tag">stringized name of current input file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__LINE__</b></dt>
  <dd class="It-tag">current line number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__MSDOS__ 1</b></dt>
  <dd class="It-tag">compiler is configured for generating MSDOS executable COM
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__STANDALONE__ 1</b></dt>
  <dd class="It-tag">compiler is configured for generating standalone
      executables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__AS386_16__ 1</b></dt>
  <dd class="It-tag">compiler is generating 16 bit 8086 assembler and the
      <b>#asm</b> keyword is available for including 8086 code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__AS386_32__ 1</b></dt>
  <dd class="It-tag">compiler is generating 32 bit 80386 assembler and the
      <b>#asm</b> keyword is available for including 80386 code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__CALLER_SAVES__ 1</b></dt>
  <dd class="It-tag">compiler calling conventions are altered so the calling
      function must save the <i>SI</i> and <i>DI</i> registers if they are in
      use (ESI and EDI on the 80386)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__FIRST_ARG_IN_AX__ 1</b></dt>
  <dd class="It-tag">compiler calling conventions are altered so the calling
      function is passing the first argument to the function in the <i>AX</i>
      (or <i>EAX</i> ) register.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__LONG_BIG_ENDIAN__ 1</b></dt>
  <dd class="It-tag">alters the word order of code generated by the 8086
      compiler.</dd>
</dl>
<div class="Pp"></div>
These defines only occur in the 6809 version of the compiler.
<dl class="Bl-tag">
  <dt class="It-tag"><b>__AS09__ 1</b></dt>
  <dd class="It-tag">compiler is generating 6809 code</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__FIRST_ARG_IN_X__ 1</b></dt>
  <dd class="It-tag">the first argument to functions is passed in the <i>X</i>
      register.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>__POS_INDEPENDENT__ 1</b></dt>
  <dd class="It-tag">the code generated is (almost) position independent.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>BCC_EXEC_PREFIX</b></dt>
  <dd class="It-tag">default directory to seach for compiler passes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TMPDIR</b></dt>
  <dd class="It-tag">directory to place temporary files (default /tmp)</dd>
</dl>
<h1 class="Sh" title="Sh" id="DIRECTORIES"><a class="selflink" href="#DIRECTORIES">DIRECTORIES</a></h1>
All the include, library and compiler components are stored under the
  <i>/usr/lib/bcc</i> directory under Linux-i386, this is laid out the same as a
  <i>/usr</i> filesystem and if bcc is to be the primary compiler on a system it
  should be moved there. The configuration for this is in the <b>bcc.c</b>
  source file only, all other executables are independent of location.
<div style="height: 1.00em;">&#x00A0;</div>
The library installation also creates the file <b>/usr/lib/liberror.txt</b>,
  this path is hardcoded into the C library.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>bcc</b> executable itself, <b>as86</b> and <b>ld86</b> are in /usr/bin.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
as86(1), ld86(1), elksemu(1)
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The bcc.c compiler driver source is very untidy.
<div style="height: 1.00em;">&#x00A0;</div>
The linker, ld86, produces a broken a.out object file if given one input and the
  <b>-r</b> option this is so it is compatible with pre-dev86 versions.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Nov, 1997</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
