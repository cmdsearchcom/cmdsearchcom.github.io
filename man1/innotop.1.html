<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:18:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>INNOTOP(1) User Contributed Perl Documentation
INNOTOP(1)</p>

<p style="margin-top: 1em">NAME <br>
innotop - MySQL and InnoDB transaction/status monitor.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
To monitor servers normally:</p>

<p style="margin-top: 1em">innotop</p>

<p style="margin-top: 1em">To monitor InnoDB status
information from a file:</p>

<p style="margin-top: 1em">innotop
/var/log/mysql/mysqld.err</p>

<p style="margin-top: 1em">To run innotop non-interactively
in a pipe-and-filter configuration:</p>

<p style="margin-top: 1em">innotop --count 5 -d 1 -n</p>

<p style="margin-top: 1em">To monitor a database on another
system using a particular username and password:</p>

<p style="margin-top: 1em">innotop -u &lt;username&gt; -p
&lt;password&gt; -h &lt;hostname&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
innotop monitors MySQL servers. Each of its modes shows you
a different aspect of what&rsquo;s happening in the server.
For example, there&rsquo;s a mode for monitoring
replication, one <br>
for queries, and one for transactions. innotop refreshes its
data periodically, so you see an updating view.</p>

<p style="margin-top: 1em">innotop has lots of features for
power users, but you can start and run it with virtually no
configuration. If you&rsquo;re just getting started, see
&quot;QUICK-START&quot;. Press &rsquo;?&rsquo; at any <br>
time while running innotop for context-sensitive help.</p>

<p style="margin-top: 1em">QUICK-START <br>
To start innotop, open a terminal or command prompt. If you
have installed innotop on your system, you should be able to
just type &quot;innotop&quot; and press Enter; otherwise,
you will <br>
need to change to innotop&rsquo;s directory and type
&quot;perl innotop&quot;.</p>

<p style="margin-top: 1em">With no options specified,
innotop will attempt to connect to a MySQL server on
localhost using mysql_read_default_group=client for other
connection parameters. If you need to <br>
specify a different username and password, use the -u and -p
options, respectively. To monitor a MySQL database on
another host, use the -h option.</p>

<p style="margin-top: 1em">After you&rsquo;ve connected,
innotop should show you something like the following:</p>

<p style="margin-top: 1em">[RO] Query List (? for help)
localhost, 01:11:19, 449.44 QPS, 14/7/163 con/run</p>

<p style="margin-top: 1em">CXN When Load QPS Slow QCacheHit
KCacheHit BpsIn BpsOut <br>
localhost Total 0.00 1.07k 697 0.00% 98.17% 476.83k
242.83k</p>

<p style="margin-top: 1em">CXN Cmd ID User Host DB Time
Query <br>
localhost Query 766446598 test 10.0.0.1 foo 00:02 INSERT
INTO table (</p>

<p style="margin-top: 1em">(This sample is truncated at the
right so it will fit on a terminal when running &rsquo;man
innotop&rsquo;)</p>

<p style="margin-top: 1em">If your server is busy,
you&rsquo;ll see more output. Notice the first line on the
screen, which tells you that readonly is set to true ([RO]),
what mode you&rsquo;re in and what server <br>
you&rsquo;re connected to. You can change to other modes
with keystrokes; press &rsquo;T&rsquo; to switch to a list
of InnoDB transactions, for example.</p>

<p style="margin-top: 1em">Press the &rsquo;?&rsquo; key to
see what keys are active in the current mode. You can press
any of these keys and innotop will either take the requested
action or prompt you for more <br>
input. If your system has Term::ReadLine support, you can
use TAB and other keys to auto-complete and edit input.</p>

<p style="margin-top: 1em">To quit innotop, press the
&rsquo;q&rsquo; key.</p>

<p style="margin-top: 1em">OPTIONS <br>
innotop is mostly configured via its configuration file, but
some of the configuration options can come from the command
line. You can also specify a file to monitor for InnoDB <br>
status output; see &quot;MONITORING A FILE&quot; for more
details.</p>

<p style="margin-top: 1em">You can negate some options by
prefixing the option name with --no. For example, --noinc
(or --no-inc) negates &quot;--inc&quot;.</p>

<p style="margin-top: 1em">--color <br>
Enable or disable terminal coloring. Corresponds to the
&quot;color&quot; config file setting.</p>

<p style="margin-top: 1em">--config <br>
Specifies a configuration file to read. This option is
non-sticky, that is to say it does not persist to the
configuration file itself.</p>

<p style="margin-top: 1em">--count <br>
Refresh only the specified number of times (ticks) before
exiting. Each refresh is a pause for &quot;interval&quot;
seconds, followed by requesting data from MySQL connections
and <br>
printing it to the terminal.</p>

<p style="margin-top: 1em">--delay <br>
Specifies the amount of time to pause between ticks
(refreshes). Corresponds to the configuration option
&quot;interval&quot;.</p>

<p style="margin-top: 1em">--help <br>
Print a summary of command-line usage and exit.</p>

<p style="margin-top: 1em">--host <br>
Host to connect to.</p>

<p style="margin-top: 1em">--inc <br>
Specifies whether innotop should display absolute numbers or
relative numbers (offsets from their previous values).
Corresponds to the configuration option
&quot;status_inc&quot;.</p>

<p style="margin-top: 1em">--mode <br>
Specifies the mode in which innotop should start.
Corresponds to the configuration option
&quot;mode&quot;.</p>

<p style="margin-top: 1em">--nonint <br>
Enable non-interactive operation. See &quot;NON-INTERACTIVE
OPERATION&quot; for more.</p>

<p style="margin-top: 1em">--password <br>
Password to use for connection.</p>

<p style="margin-top: 1em">--port <br>
Port to use for connection.</p>

<p style="margin-top: 1em">--skipcentral <br>
Don&rsquo;t read the central configuration file.</p>

<p style="margin-top: 1em">--user <br>
User to use for connection.</p>

<p style="margin-top: 1em">--version <br>
Output version information and exit.</p>

<p style="margin-top: 1em">--write <br>
Sets the configuration option &quot;readonly&quot; to 0,
making innotop write the running configuration to
~/.innotop/innotop.conf on exit, if no configuration file
was loaded at <br>
start-up.</p>

<p style="margin-top: 1em">HOTKEYS <br>
innotop is interactive, and you control it with
key-presses.</p>

<p style="margin-top: 1em">&Acirc;&middot; Uppercase keys
switch between modes.</p>

<p style="margin-top: 1em">&Acirc;&middot; Lowercase keys
initiate some action within the current mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; Other keys do
something special like change configuration or show the
innotop license.</p>

<p style="margin-top: 1em">Press &rsquo;?&rsquo; at any
time to see the currently active keys and what they do.</p>

<p style="margin-top: 1em">MODES <br>
Each of innotop&rsquo;s modes retrieves and displays a
particular type of data from the servers you&rsquo;re
monitoring. You switch between modes with uppercase keys.
The following is a <br>
brief description of each mode, in alphabetical order. To
switch to the mode, press the key listed in front of its
heading in the following list:</p>

<p style="margin-top: 1em">B: InnoDB Buffers <br>
This mode displays information about the InnoDB buffer pool,
page statistics, insert buffer, and adaptive hash index. The
data comes from SHOW INNODB STATUS.</p>

<p style="margin-top: 1em">This mode contains the
&quot;buffer_pool&quot;, &quot;page_statistics&quot;,
&quot;insert_buffers&quot;, and
&quot;adaptive_hash_index&quot; tables by default.</p>

<p style="margin-top: 1em">C: Command Summary <br>
This mode is similar to mytop&rsquo;s Command Summary mode.
It shows the &quot;cmd_summary&quot; table, which looks
something like the following:</p>

<p style="margin-top: 1em">Command Summary (? for help)
localhost, 25+07:16:43, 2.45 QPS, 3 thd, 5.0.40 <br>
_____________________ Command Summary _____________________
<br>
Name Value Pct Last Incr Pct <br>
Select_scan 3244858 69.89% 2 100.00% <br>
Select_range 1354177 29.17% 0 0.00% <br>
Select_full_join 39479 0.85% 0 0.00% <br>
Select_full_range_join 4097 0.09% 0 0.00% <br>
Select_range_check 0 0.00% 0 0.00%</p>

<p style="margin-top: 1em">The command summary table is
built by extracting variables from
&quot;STATUS_VARIABLES&quot;. The variables must be numeric
and must match the prefix given by the
&quot;cmd_filter&quot; <br>
configuration variable. The variables are then sorted by
value descending and compared to the last variable, as shown
above. The percentage columns are percentage of the <br>
total of all variables in the table, so you can see the
relative weight of the variables.</p>

<p style="margin-top: 1em">The example shows what you see
if the prefix is &quot;Select_&quot;. The default prefix is
&quot;Com_&quot;. You can choose a prefix with the
&rsquo;s&rsquo; key.</p>

<p style="margin-top: 1em">It&rsquo;s rather like running
SHOW VARIABLES LIKE &quot;prefix%&quot; with memory and nice
formatting.</p>

<p style="margin-top: 1em">Values are aggregated across all
servers. The Pct columns are not correctly aggregated across
multiple servers. This is a known limitation of the grouping
algorithm that <br>
may be fixed in the future.</p>

<p style="margin-top: 1em">D: InnoDB Deadlocks <br>
This mode shows the transactions involved in the last InnoDB
deadlock. A second table shows the locks each transaction
held and waited for. A deadlock is caused by a cycle <br>
in the waits-for graph, so there should be two locks held
and one waited for unless the deadlock information is
truncated.</p>

<p style="margin-top: 1em">InnoDB puts deadlock information
before some other information in the SHOW INNODB STATUS
output. If there are a lot of locks, the deadlock
information can grow very large, <br>
and there is a limit on the size of the SHOW INNODB STATUS
output. A large deadlock can fill the entire output, or even
be truncated, and prevent you from seeing other <br>
information at all. If you are running innotop in another
mode, for example T mode, and suddenly you don&rsquo;t see
anything, you might want to check and see if a deadlock has
<br>
wiped out the data you need.</p>

<p style="margin-top: 1em">If it has, you can create a
small deadlock to replace the large one. Use the
&rsquo;w&rsquo; key to &rsquo;wipe&rsquo; the large deadlock
with a small one. This will not work unless you have <br>
defined a deadlock table for the connection (see
&quot;SERVER CONNECTIONS&quot;).</p>

<p style="margin-top: 1em">You can also configure innotop
to automatically detect when a large deadlock needs to be
replaced with a small one (see
&quot;auto_wipe_dl&quot;).</p>

<p style="margin-top: 1em">This mode displays the
&quot;deadlock_transactions&quot; and
&quot;deadlock_locks&quot; tables by default.</p>

<p style="margin-top: 1em">F: InnoDB Foreign Key Errors
<br>
This mode shows the last InnoDB foreign key error
information, such as the table where it happened, when and
who and what query caused it, and so on.</p>

<p style="margin-top: 1em">InnoDB has a huge variety of
foreign key error messages, and many of them are just hard
to parse. innotop doesn&rsquo;t always do the best job here,
but there&rsquo;s so much code <br>
devoted to parsing this messy, unparseable output that
innotop is likely never to be perfect in this regard. If
innotop doesn&rsquo;t show you what you need to see, just
look at <br>
the status text directly.</p>

<p style="margin-top: 1em">This mode displays the
&quot;fk_error&quot; table by default.</p>

<p style="margin-top: 1em">I: InnoDB I/O Info <br>
This mode shows InnoDB&rsquo;s I/O statistics, including the
I/O threads, pending I/O, file I/O miscellaneous, and log
statistics. It displays the &quot;io_threads&quot;,
&quot;pending_io&quot;, <br>
&quot;file_io_misc&quot;, and &quot;log_statistics&quot;
tables by default.</p>

<p style="margin-top: 1em">L: Locks <br>
This mode shows information about current locks. At the
moment only InnoDB locks are supported, and by default
you&rsquo;ll only see locks for which transactions are
waiting. <br>
This information comes from the TRANSACTIONS section of the
InnoDB status text. If you have a very busy server, you may
have frequent lock waits; it helps to be able to see <br>
which tables and indexes are the &quot;hot spot&quot; for
locks. If your server is running pretty well, this mode
should show nothing.</p>

<p style="margin-top: 1em">You can configure MySQL and
innotop to monitor not only locks for which a transaction is
waiting, but those currently held, too. You can do this with
the InnoDB Lock Monitor <br>
(&lt;http://dev.mysql.com/doc/en/innodb-monitor.html&gt;).
It&rsquo;s not documented in the MySQL manual, but creating
the lock monitor with the following statement also affects
the <br>
output of SHOW INNODB STATUS, which innotop uses:</p>

<p style="margin-top: 1em">CREATE TABLE
innodb_lock_monitor(a int) ENGINE=INNODB;</p>

<p style="margin-top: 1em">This causes InnoDB to print its
output to the MySQL file every 16 seconds or so, as stated
in the manual, but it also makes the normal SHOW INNODB
STATUS output include lock <br>
information, which innotop can parse and display
(that&rsquo;s the undocumented feature).</p>

<p style="margin-top: 1em">This means you can do what may
have seemed impossible: to a limited extent (InnoDB
truncates some information in the output), you can see which
transaction holds the locks <br>
something else is waiting for. You can also enable and
disable the InnoDB Lock Monitor with the key mappings in
this mode.</p>

<p style="margin-top: 1em">This mode displays the
&quot;innodb_locks&quot; table by default. Here&rsquo;s a
sample of the screen when one connection is waiting for
locks another connection holds:</p>


<p style="margin-top: 1em">_________________________________
InnoDB Locks __________________________ <br>
CXN ID Type Waiting Wait Active Mode DB Table Index <br>
localhost 12 RECORD 1 00:10 00:10 X test t1 PRIMARY <br>
localhost 12 TABLE 0 00:10 00:10 IX test t1 <br>
localhost 12 RECORD 1 00:10 00:10 X test t1 PRIMARY <br>
localhost 11 TABLE 0 00:00 00:25 IX test t1 <br>
localhost 11 RECORD 0 00:00 00:25 X test t1 PRIMARY</p>

<p style="margin-top: 1em">You can see the first
connection, ID 12, is waiting for a lock on the PRIMARY key
on test.t1, and has been waiting for 10 seconds. The second
connection isn&rsquo;t waiting, <br>
because the Waiting column is 0, but it holds locks on the
same index. That tells you connection 11 is blocking
connection 12.</p>

<p style="margin-top: 1em">M: Master/Slave Replication
Status <br>
This mode shows the output of SHOW SLAVE STATUS and SHOW
MASTER STATUS in three tables. The first two divide the
slave&rsquo;s status into SQL and I/O thread status, and the
last <br>
shows master status. Filters are applied to eliminate
non-slave servers from the slave tables, and non-master
servers from the master table.</p>

<p style="margin-top: 1em">This mode displays the
&quot;slave_sql_status&quot;, &quot;slave_io_status&quot;,
and &quot;master_status&quot; tables by default.</p>

<p style="margin-top: 1em">O: Open Tables <br>
This section comes from MySQL&rsquo;s SHOW OPEN TABLES
command. By default it is filtered to show tables which are
in use by one or more queries, so you can get a quick look
at <br>
which tables are &rsquo;hot&rsquo;. You can use this to
guess which tables might be locked implicitly.</p>

<p style="margin-top: 1em">This mode displays the
&quot;open_tables&quot; mode by default.</p>

<p style="margin-top: 1em">Q: Query List <br>
This mode displays the output from SHOW FULL PROCESSLIST,
much like mytop&rsquo;s query list mode. This mode does not
show InnoDB-related information. This is probably one of the
<br>
most useful modes for general usage.</p>

<p style="margin-top: 1em">There is an informative header
that shows general status information about your server. You
can toggle it on and off with the &rsquo;h&rsquo; key. By
default, innotop hides inactive <br>
processes and its own process. You can toggle these on and
off with the &rsquo;i&rsquo; and &rsquo;a&rsquo; keys.</p>

<p style="margin-top: 1em">You can EXPLAIN a query from
this mode with the &rsquo;e&rsquo; key. This displays the
query&rsquo;s full text, the results of EXPLAIN, and in
newer MySQL versions, even the optimized query <br>
resulting from EXPLAIN EXTENDED. innotop also tries to
rewrite certain queries to make them EXPLAIN-able. For
example, INSERT/SELECT statements are rewritable.</p>

<p style="margin-top: 1em">This mode displays the
&quot;q_header&quot; and &quot;processlist&quot; tables by
default.</p>

<p style="margin-top: 1em">R: InnoDB Row Operations and
Semaphores <br>
This mode shows InnoDB row operations, row operation
miscellaneous, semaphores, and information from the wait
array. It displays the &quot;row_operations&quot;,
&quot;row_operation_misc&quot;, <br>
&quot;semaphores&quot;, and &quot;wait_array&quot; tables by
default.</p>

<p style="margin-top: 1em">S: Variables &amp; Status <br>
This mode calculates statistics, such as queries per second,
and prints them out in several different styles. You can
show absolute values, or incremental values between <br>
ticks.</p>

<p style="margin-top: 1em">You can switch between the views
by pressing a key. The &rsquo;s&rsquo; key prints a single
line each time the screen updates, in the style of vmstat.
The &rsquo;g&rsquo; key changes the view to a <br>
graph of the same numbers, sort of like tload. The
&rsquo;v&rsquo; key changes the view to a pivoted table of
variable names on the left, with successive updates
scrolling across the <br>
screen from left to right. You can choose how many updates
to put on the screen with the &quot;num_status_sets&quot;
configuration variable.</p>

<p style="margin-top: 1em">Headers may be abbreviated to
fit on the screen in interactive operation. You choose which
variables to display with the &rsquo;c&rsquo; key, which
selects from predefined sets, or lets <br>
you create your own sets. You can edit the current set with
the &rsquo;e&rsquo; key.</p>

<p style="margin-top: 1em">This mode doesn&rsquo;t really
display any tables like other modes. Instead, it uses a
table definition to extract and format the data, but it then
transforms the result in <br>
special ways before outputting it. It uses the
&quot;var_status&quot; table definition for this.</p>

<p style="margin-top: 1em">T: InnoDB Transactions <br>
This mode shows transactions from the InnoDB monitor&rsquo;s
output, in top-like format. This mode is the reason I wrote
innotop.</p>

<p style="margin-top: 1em">You can kill queries or
processes with the &rsquo;k&rsquo; and &rsquo;x&rsquo; keys,
and EXPLAIN a query with the &rsquo;e&rsquo; or
&rsquo;f&rsquo; keys. InnoDB doesn&rsquo;t print the full
query in transactions, so explaining <br>
may not work right if the query is truncated.</p>

<p style="margin-top: 1em">The informational header can be
toggled on and off with the &rsquo;h&rsquo; key. By default,
innotop hides inactive transactions and its own transaction.
You can toggle this on and off <br>
with the &rsquo;i&rsquo; and &rsquo;a&rsquo; keys.</p>

<p style="margin-top: 1em">This mode displays the
&quot;t_header&quot; and &quot;innodb_transactions&quot;
tables by default.</p>

<p style="margin-top: 1em">INNOTOP STATUS <br>
The first line innotop displays is a &quot;status bar&quot;
of sorts. What it contains depends on the mode you&rsquo;re
in, and what servers you&rsquo;re monitoring. The first few
words are always <br>
[RO] (if readonly is set to 1), the innotop mode, such as
&quot;InnoDB Txns&quot; for T mode, followed by a reminder
to press &rsquo;?&rsquo; for help at any time.</p>

<p style="margin-top: 1em">ONE SERVER <br>
The simplest case is when you&rsquo;re monitoring a single
server. In this case, the name of the connection is next on
the status line. This is the name you gave when you created
the <br>
connection -- most likely the MySQL server&rsquo;s hostname.
This is followed by the server&rsquo;s uptime.</p>

<p style="margin-top: 1em">If you&rsquo;re in an InnoDB
mode, such as T or B, the next word is &quot;InnoDB&quot;
followed by some information about the SHOW INNODB STATUS
output used to render the screen. The first word <br>
is the number of seconds since the last SHOW INNODB STATUS,
which InnoDB uses to calculate some per-second statistics.
The next is a smiley face indicating whether the InnoDB <br>
output is truncated. If the smiley face is a :-), all is
well; there is no truncation. A :^| means the transaction
list is so long, InnoDB has only printed out some of the
<br>
transactions. Finally, a frown :-( means the output is
incomplete, which is probably due to a deadlock printing too
much lock information (see &quot;D: InnoDB
Deadlocks&quot;).</p>

<p style="margin-top: 1em">The next two words indicate the
server&rsquo;s queries per second (QPS) and how many threads
(connections) exist. Finally, the server&rsquo;s version
number is the last thing on the line.</p>

<p style="margin-top: 1em">MULTIPLE SERVERS <br>
If you are monitoring multiple servers (see &quot;SERVER
CONNECTIONS&quot;), the status line does not show any
details about individual servers. Instead, it shows the
names of the <br>
connections that are active. Again, these are connection
names you specified, which are likely to be the
server&rsquo;s hostname. A connection that has an error is
prefixed with an <br>
exclamation point.</p>

<p style="margin-top: 1em">If you are monitoring a group of
servers (see &quot;SERVER GROUPS&quot;), the status line
shows the name of the group. If any connection in the group
has an error, the group&rsquo;s name is <br>
followed by the fraction of the connections that don&rsquo;t
have errors.</p>

<p style="margin-top: 1em">See &quot;ERROR HANDLING&quot;
for more details about innotop&rsquo;s error handling.</p>

<p style="margin-top: 1em">MONITORING A FILE <br>
If you give a filename on the command line, innotop will not
connect to ANY servers at all. It will watch the specified
file for InnoDB status output and use that as its data <br>
source. It will always show a single connection called
&rsquo;file&rsquo;. And since it can&rsquo;t connect to a
server, it can&rsquo;t determine how long the server
it&rsquo;s monitoring has been up; so it <br>
calculates the server&rsquo;s uptime as time since innotop
started running.</p>

<p style="margin-top: 1em">SERVER ADMINISTRATION <br>
While innotop is primarily a monitor that lets you watch and
analyze your servers, it can also send commands to servers.
The most frequently useful commands are killing queries <br>
and stopping or starting slaves.</p>

<p style="margin-top: 1em">You can kill a connection, or in
newer versions of MySQL kill a query but not a connection,
from &quot;Q: Query List&quot; and &quot;T: InnoDB
Transactions&quot; modes. Press &rsquo;k&rsquo; to issue a
KILL <br>
command, or &rsquo;x&rsquo; to issue a KILL QUERY command.
innotop will prompt you for the server and/or connection ID
to kill (innotop does not prompt you if there is only one
possible <br>
choice for any input). innotop pre-selects the
longest-running query, or the oldest connection. Confirm the
command with &rsquo;y&rsquo;.</p>

<p style="margin-top: 1em">In &quot;Slave Replication
Status&quot;&quot; in &quot;M: Master mode, you can start
and stop slaves with the &rsquo;a&rsquo; and &rsquo;o&rsquo;
keys, respectively. You can send these commands to many
slaves at once. <br>
innotop fills in a default command of START SLAVE or STOP
SLAVE for you, but you can actually edit the command and
send anything you wish, such as SET GLOBAL <br>
SQL_SLAVE_SKIP_COUNTER=1 to make the slave skip one binlog
event when it starts.</p>

<p style="margin-top: 1em">You can also ask innotop to
calculate the earliest binlog in use by any slave and issue
a PURGE MASTER LOGS on the master. Use the &rsquo;b&rsquo;
key for this. innotop will prompt you for <br>
a master to run the command on, then prompt you for the
connection names of that master&rsquo;s slaves (there is no
way for innotop to determine this reliably itself). innotop
will <br>
find the minimum binlog in use by these slave connections
and suggest it as the argument to PURGE MASTER LOGS.</p>

<p style="margin-top: 1em">SERVER CONNECTIONS <br>
When you create a server connection using &rsquo;@&rsquo;,
innotop asks you for a series of inputs, as follows:</p>

<p style="margin-top: 1em">DSN A DSN is a Data Source Name,
which is the initial argument passed to the DBI module for
connecting to a server. It is usually of the form</p>


<p style="margin-top: 1em">DBI:mysql:;mysql_read_default_group=mysql;host=HOSTNAME</p>

<p style="margin-top: 1em">Since this DSN is passed to the
DBD::mysql driver, you should read the driver&rsquo;s
documentation at
&quot;/search.cpan.org/dist/DBD-mysql/lib/DBD/mysql.pm&quot;&quot;
in &quot;http: for the exact <br>
details on all the options you can pass the driver in the
DSN. You can read more about DBI at
&lt;http://dbi.perl.org/docs/&gt;, and especially at <br>
&lt;http://search.cpan.org/~timb/DBI/DBI.pm&gt;.</p>

<p style="margin-top: 1em">The
mysql_read_default_group=mysql option lets the DBD driver
read your MySQL options files, such as ~/.my.cnf on UNIX-ish
systems. You can use this to avoid specifying a <br>
username or password for the connection.</p>

<p style="margin-top: 1em">InnoDB Deadlock Table <br>
This optional item tells innotop a table name it can use to
deliberately create a small deadlock (see &quot;D: InnoDB
Deadlocks&quot;). If you specify this option, you just need
to be <br>
sure the table doesn&rsquo;t exist, and that innotop can
create and drop the table with the InnoDB storage engine.
You can safely omit or just accept the default if you
don&rsquo;t <br>
intend to use this.</p>

<p style="margin-top: 1em">Username <br>
innotop will ask you if you want to specify a username. If
you say &rsquo;y&rsquo;, it will then prompt you for a user
name. If you have a MySQL option file that specifies your
<br>
username, you don&rsquo;t have to specify a username.</p>

<p style="margin-top: 1em">The username defaults to your
login name on the system you&rsquo;re running innotop
on.</p>

<p style="margin-top: 1em">Password <br>
innotop will ask you if you want to specify a password. Like
the username, the password is optional, but there&rsquo;s an
additional prompt that asks if you want to save the <br>
password in the innotop configuration file. If you
don&rsquo;t save it in the configuration file, innotop will
prompt you for a password each time it starts. Passwords in
the <br>
innotop configuration file are saved in plain text, not
encrypted in any way.</p>

<p style="margin-top: 1em">Once you finish answering these
questions, you should be connected to a server. But innotop
isn&rsquo;t limited to monitoring a single server; you can
define many server connections <br>
and switch between them by pressing the &rsquo;@&rsquo; key.
See &quot;SWITCHING BETWEEN CONNECTIONS&quot;.</p>

<p style="margin-top: 1em">SERVER GROUPS <br>
If you have multiple MySQL instances, you can put them into
named groups, such as &rsquo;all&rsquo;,
&rsquo;masters&rsquo;, and &rsquo;slaves&rsquo;, which
innotop can monitor all together.</p>

<p style="margin-top: 1em">You can choose which group to
monitor with the &rsquo;#&rsquo; key, and you can press the
TAB key to switch to the next group. If you&rsquo;re not
currently monitoring a group, pressing TAB <br>
selects the first group.</p>

<p style="margin-top: 1em">To create a group, press the
&rsquo;#&rsquo; key and type the name of your new group,
then type the names of the connections you want the group to
contain.</p>

<p style="margin-top: 1em">SWITCHING BETWEEN CONNECTIONS
<br>
innotop lets you quickly switch which servers you&rsquo;re
monitoring. The most basic way is by pressing the
&rsquo;@&rsquo; key and typing the name(s) of the
connection(s) you want to use. This <br>
setting is per-mode, so you can monitor different
connections in each mode, and innotop remembers which
connections you choose.</p>

<p style="margin-top: 1em">You can quickly switch to the
&rsquo;next&rsquo; connection in alphabetical order with the
&rsquo;n&rsquo; key. If you&rsquo;re monitoring a server
group (see &quot;SERVER GROUPS&quot;) this will switch to
the first <br>
connection.</p>

<p style="margin-top: 1em">You can also type many
connection names, and innotop will fetch and display data
from them all. Just separate the connection names with
spaces, for example &quot;server1 server2.&quot; <br>
Again, if you type the name of a connection that
doesn&rsquo;t exist, innotop will prompt you for connection
information and create the connection.</p>

<p style="margin-top: 1em">Another way to monitor multiple
connections at once is with server groups. You can use the
TAB key to switch to the &rsquo;next&rsquo; group in
alphabetical order, or if you&rsquo;re not <br>
monitoring any groups, TAB will switch to the first
group.</p>

<p style="margin-top: 1em">innotop does not fetch data in
parallel from connections, so if you are monitoring a large
group or many connections, you may notice increased delay
between ticks.</p>

<p style="margin-top: 1em">When you monitor more than one
connection, innotop&rsquo;s status bar changes. See
&quot;INNOTOP STATUS&quot;.</p>

<p style="margin-top: 1em">ERROR HANDLING <br>
Error handling is not that important when monitoring a
single connection, but is crucial when you have many active
connections. A crashed server or lost connection should not
<br>
crash innotop. As a result, innotop will continue to run
even when there is an error; it just won&rsquo;t display any
information from the connection that had an error. Because
of <br>
this, innotop&rsquo;s behavior might confuse you. It&rsquo;s
a feature, not a bug!</p>

<p style="margin-top: 1em">innotop does not continue to
query connections that have errors, because they may slow
innotop and make it hard to use, especially if the error is
a problem connecting and causes <br>
a long time-out. Instead, innotop retries the connection
occasionally to see if the error still exists. If so, it
will wait until some point in the future. The wait time <br>
increases in ticks as the Fibonacci series, so it tries less
frequently as time passes.</p>

<p style="margin-top: 1em">Since errors might only happen
in certain modes because of the SQL commands issued in those
modes, innotop keeps track of which mode caused the error.
If you switch to a <br>
different mode, innotop will retry the connection instead of
waiting.</p>

<p style="margin-top: 1em">By default innotop will display
the problem in red text at the bottom of the first table on
the screen. You can disable this behavior with the
&quot;show_cxn_errors_in_tbl&quot; <br>
configuration option, which is enabled by default. If the
&quot;debug&quot; option is enabled, innotop will display
the error at the bottom of every table, not just the first.
And if <br>
&quot;show_cxn_errors&quot; is enabled, innotop will print
the error text to STDOUT as well. Error messages might only
display in the mode that caused the error, depending on the
mode and <br>
whether innotop is avoiding querying that connection.</p>

<p style="margin-top: 1em">NON-INTERACTIVE OPERATION <br>
You can run innotop in non-interactive mode, in which case
it is entirely controlled from the configuration file and
command-line options. To start innotop in non-interactive
<br>
mode, give the L&quot;&lt;--nonint&quot;&gt; command-line
option. This changes innotop&rsquo;s behavior in the
following ways:</p>

<p style="margin-top: 1em">&Acirc;&middot; Certain Perl
modules are not loaded. Term::Readline is not loaded, since
innotop doesn&rsquo;t prompt interactively. Term::ANSIColor
and Win32::Console::ANSI modules are not <br>
loaded. Term::ReadKey is still used, since innotop may have
to prompt for connection passwords when starting up.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop does not
clear the screen after each tick.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop does not
persist any changes to the configuration file.</p>

<p style="margin-top: 1em">&Acirc;&middot; If
&quot;--count&quot; is given and innotop is in incremental
mode (see &quot;status_inc&quot; and &quot;--inc&quot;),
innotop actually refreshes one more time than specified so
it can print incremental <br>
statistics. This suppresses output during the first tick, so
innotop may appear to hang.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop only
displays the first table in each mode. This is so the output
can be easily processed with other command-line utilities
such as awk and sed. To change which <br>
tables display in each mode, see &quot;TABLES&quot;. Since
&quot;Q: Query List&quot; mode is so important, innotop
automatically disables the &quot;q_header&quot; table. This
ensures you&rsquo;ll see the <br>
&quot;processlist&quot; table, even if you have innotop
configured to show the q_header table during interactive
operation. Similarly, in &quot;T: InnoDB Transactions&quot;
mode, the &quot;t_header&quot; <br>
table is suppressed so you see only the
&quot;innodb_transactions&quot; table.</p>

<p style="margin-top: 1em">&Acirc;&middot; All output is
tab-separated instead of being column-aligned with
whitespace, and innotop prints the full contents of each
table instead of only printing one screenful at a <br>
time.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop only
prints column headers once instead of every tick (see
&quot;hide_hdr&quot;). innotop does not print table captions
(see &quot;display_table_captions&quot;). innotop ensures
there <br>
are no empty lines in the output.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop does not
honor the &quot;shorten&quot; transformation, which normally
shortens some numbers to human-readable formats.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop does not
print a status line (see &quot;INNOTOP STATUS&quot;).</p>

<p style="margin-top: 1em">CONFIGURING <br>
Nearly everything about innotop is configurable. Most things
are possible to change with built-in commands, but you can
also edit the configuration file.</p>

<p style="margin-top: 1em">While running innotop, press the
&rsquo;$&rsquo; key to bring up the configuration editing
dialog. Press another key to select the type of data you
want to edit:</p>

<p style="margin-top: 1em">S: Statement Sleep Times <br>
Edits SQL statement sleep delays, which make innotop pause
for the specified amount of time after executing a
statement. See &quot;SQL STATEMENTS&quot; for a definition
of each <br>
statement and what it does. By default innotop does not
delay after any statements.</p>

<p style="margin-top: 1em">This feature is included so you
can customize the side-effects caused by monitoring your
server. You may not see any effects, but some innotop users
have noticed that <br>
certain MySQL versions under very high load with InnoDB
enabled take longer than usual to execute SHOW GLOBAL
STATUS. If innotop calls SHOW FULL PROCESSLIST immediately
<br>
afterward, the processlist contains more queries than the
machine actually averages at any given moment. Configuring
innotop to pause briefly after calling SHOW GLOBAL <br>
STATUS alleviates this effect.</p>

<p style="margin-top: 1em">Sleep times are stored in the
&quot;stmt_sleep_times&quot; section of the configuration
file. Fractional-second sleeps are supported, subject to
your hardware&rsquo;s limitations.</p>

<p style="margin-top: 1em">c: Edit Columns <br>
Starts the table editor on one of the displayed tables. See
&quot;TABLE EDITOR&quot;. An alternative way to start the
table editor without entering the configuration dialog is
with <br>
the &rsquo;^&rsquo; key.</p>

<p style="margin-top: 1em">g: General Configuration <br>
Starts the configuration editor to edit global and
mode-specific configuration variables (see
&quot;MODES&quot;). innotop prompts you to choose a variable
from among the global and <br>
mode-specific ones depending on the current mode.</p>

<p style="margin-top: 1em">k: Row-Coloring Rules <br>
Starts the row-coloring rules editor on one of the displayed
table(s). See &quot;COLORS&quot; for details.</p>

<p style="margin-top: 1em">p: Manage Plugins <br>
Starts the plugin configuration editor. See
&quot;PLUGINS&quot; for details.</p>

<p style="margin-top: 1em">s: Server Groups <br>
Lets you create and edit server groups. See &quot;SERVER
GROUPS&quot;.</p>

<p style="margin-top: 1em">t: Choose Displayed Tables <br>
Lets you choose which tables to display in this mode. See
&quot;MODES&quot; and &quot;TABLES&quot;.</p>

<p style="margin-top: 1em">CONFIGURATION FILE <br>
innotop&rsquo;s default configuration file locations are
$HOME/.innotop and /etc/innotop/innotop.conf, and they are
looked for in that order. If the first configuration file
exists, <br>
the second will not be processed. Those can be overridden
with the &quot;--config&quot; command-line option. You can
edit it by hand safely, however innotop reads the
configuration file <br>
when it starts, and, if readonly is set to 0, writes it out
again when it exits. Thus, if readonly is set to 0, any
changes you make by hand while innotop is running will be
<br>
lost.</p>

<p style="margin-top: 1em">innotop doesn&rsquo;t store its
entire configuration in the configuration file. It has a
huge set of default configuration values that it holds only
in memory, and the configuration <br>
file only overrides these defaults. When you customize a
default setting, innotop notices, and then stores the
customizations into the file. This keeps the file size down,
<br>
makes it easier to edit, and makes upgrades easier.</p>

<p style="margin-top: 1em">A configuration file is
read-only be default. You can override that with
&quot;--write&quot;. See &quot;readonly&quot;.</p>

<p style="margin-top: 1em">The configuration file is
arranged into sections like an INI file. Each section begins
with [section-name] and ends with [/section-name]. Each
section&rsquo;s entries have a <br>
different syntax depending on the data they need to store.
You can put comments in the file; any line that begins with
a # character is a comment. innotop will not read the <br>
comments, so it won&rsquo;t write them back out to the file
when it exits. Comments in read-only configuration files are
still useful, though.</p>

<p style="margin-top: 1em">The first line in the file is
innotop&rsquo;s version number. This lets innotop notice
when the file format is not backwards-compatible, and
upgrade smoothly without destroying your <br>
customized configuration.</p>

<p style="margin-top: 1em">The following list describes
each section of the configuration file and the data it
contains:</p>

<p style="margin-top: 1em">general <br>
The &rsquo;general&rsquo; section contains global
configuration variables and variables that may be
mode-specific, but don&rsquo;t belong in any other section.
The syntax is a simple <br>
key=value list. innotop writes a comment above each value to
help you edit the file by hand.</p>

<p style="margin-top: 1em">S_func <br>
Controls S mode presentation (see &quot;S: Variables &amp;
Status&quot;). If g, values are graphed; if s, values are
like vmstat; if p, values are in a pivoted table.</p>

<p style="margin-top: 1em">S_set <br>
Specifies which set of variables to display in &quot;S:
Variables &amp; Status&quot; mode. See &quot;VARIABLE
SETS&quot;.</p>

<p style="margin-top: 1em">auto_wipe_dl <br>
Instructs innotop to automatically wipe large deadlocks when
it notices them. When this happens you may notice a slight
delay. At the next tick, you will usually see <br>
the information that was being truncated by the large
deadlock.</p>

<p style="margin-top: 1em">charset <br>
Specifies what kind of characters to allow through the
&quot;no_ctrl_char&quot; transformation. This keeps
non-printable characters from confusing a terminal when you
monitor <br>
queries that contain binary data, such as images.</p>

<p style="margin-top: 1em">The default is
&rsquo;ascii&rsquo;, which considers anything outside normal
ASCII to be a control character. The other allowable values
are &rsquo;unicode&rsquo; and &rsquo;none&rsquo;.
&rsquo;none&rsquo; considers <br>
every character a control character, which can be useful for
collapsing ALL text fields in queries.</p>

<p style="margin-top: 1em">cmd_filter <br>
This is the prefix that filters variables in &quot;C:
Command Summary&quot; mode.</p>

<p style="margin-top: 1em">color <br>
Whether terminal coloring is permitted.</p>

<p style="margin-top: 1em">cxn_timeout <br>
On MySQL versions 4.0.3 and newer, this variable is used to
set the connection&rsquo;s timeout, so MySQL doesn&rsquo;t
close the connection if it is not used for a while. This
might <br>
happen because a connection isn&rsquo;t monitored in a
particular mode, for example.</p>

<p style="margin-top: 1em">debug <br>
This option enables more verbose errors and makes innotop
more strict in some places. It can help in debugging filters
and other user-defined code. It also makes <br>
innotop write a lot of information to &quot;debugfile&quot;
when there is a crash.</p>

<p style="margin-top: 1em">debugfile <br>
A file to which innotop will write information when there is
a crash. See &quot;FILES&quot;.</p>

<p style="margin-top: 1em">display_table_captions <br>
innotop displays a table caption above most tables. This
variable suppresses or shows captions on all tables
globally. Some tables are configured with the hide_caption
<br>
property, which overrides this.</p>

<p style="margin-top: 1em">global <br>
Whether to show GLOBAL variables and status. innotop only
tries to do this on servers which support the GLOBAL option
to SHOW VARIABLES and SHOW STATUS. In some MySQL <br>
versions, you need certain privileges to do this; if you
don&rsquo;t have them, innotop will not be able to fetch any
variable and status data. This configuration variable <br>
lets you run innotop and fetch what data you can even
without the elevated privileges.</p>

<p style="margin-top: 1em">I can no longer find or
reproduce the situation where GLOBAL wasn&rsquo;t allowed,
but I know there was one.</p>

<p style="margin-top: 1em">graph_char <br>
Defines the character to use when drawing graphs in &quot;S:
Variables &amp; Status&quot; mode.</p>

<p style="margin-top: 1em">header_highlight <br>
Defines how to highlight column headers. This only works if
Term::ANSIColor is available. Valid values are
&rsquo;bold&rsquo; and &rsquo;underline&rsquo;.</p>

<p style="margin-top: 1em">hide_hdr <br>
Hides column headers globally.</p>

<p style="margin-top: 1em">interval <br>
The interval at which innotop will refresh its data (ticks).
The interval is implemented as a sleep time between ticks,
so the true interval will vary depending on how <br>
long it takes innotop to fetch and render data.</p>

<p style="margin-top: 1em">This variable accepts fractions
of a second.</p>

<p style="margin-top: 1em">mode <br>
The mode in which innotop should start. Allowable arguments
are the same as the key presses that select a mode
interactively. See &quot;MODES&quot;.</p>

<p style="margin-top: 1em">num_digits <br>
How many digits to show in fractional numbers and percents.
This variable&rsquo;s range is between 0 and 9 and can be
set directly from &quot;S: Variables &amp; Status&quot; mode
with the <br>
&rsquo;+&rsquo; and &rsquo;-&rsquo; keys. It is used in the
&quot;set_precision&quot;, &quot;shorten&quot;, and
&quot;percent&quot; transformations.</p>

<p style="margin-top: 1em">num_status_sets <br>
Controls how many sets of status variables to display in
pivoted &quot;S: Variables &amp; Status&quot; mode. It also
controls the number of old sets of variables innotop keeps
in its <br>
memory, so the larger this variable is, the more memory
innotop uses.</p>

<p style="margin-top: 1em">plugin_dir <br>
Specifies where plugins can be found. By default, innotop
stores plugins in the &rsquo;plugins&rsquo; subdirectory of
your innotop configuration directory.</p>

<p style="margin-top: 1em">readonly <br>
Whether the configuration file is readonly. This cannot be
set interactively.</p>

<p style="margin-top: 1em">show_cxn_errors <br>
Makes innotop print connection errors to STDOUT. See
&quot;ERROR HANDLING&quot;.</p>

<p style="margin-top: 1em">show_cxn_errors_in_tbl <br>
Makes innotop display connection errors as rows in the first
table on screen. See &quot;ERROR HANDLING&quot;.</p>

<p style="margin-top: 1em">show_percent <br>
Adds a &rsquo;%&rsquo; character after the value returned by
the &quot;percent&quot; transformation.</p>

<p style="margin-top: 1em">show_statusbar <br>
Controls whether to show the status bar in the display. See
&quot;INNOTOP STATUS&quot;.</p>

<p style="margin-top: 1em">skip_innodb <br>
Disables fetching SHOW INNODB STATUS, in case your server(s)
do not have InnoDB enabled and you don&rsquo;t want innotop
to try to fetch it. This can also be useful when you <br>
don&rsquo;t have the SUPER privilege, required to run SHOW
INNODB STATUS.</p>

<p style="margin-top: 1em">status_inc <br>
Whether to show absolute or incremental values for status
variables. Incremental values are calculated as an offset
from the last value innotop saw for that variable. <br>
This is a global setting, but will probably become
mode-specific at some point. Right now it is honored a bit
inconsistently; some modes don&rsquo;t pay attention to
it.</p>

<p style="margin-top: 1em">plugins <br>
This section holds a list of package names of active
plugins. If the plugin exists, innotop will activate it. See
&quot;PLUGINS&quot; for more information.</p>

<p style="margin-top: 1em">filters <br>
This section holds user-defined filters (see
&quot;FILTERS&quot;). Each line is in the format
filter_name=text=&rsquo;filter text&rsquo; tbls=&rsquo;table
list&rsquo;.</p>

<p style="margin-top: 1em">The filter text is the text of
the subroutine&rsquo;s code. The table list is a list of
tables to which the filter can apply. By default,
user-defined filters apply to the table <br>
for which they were created, but you can manually override
that by editing the definition in the configuration
file.</p>

<p style="margin-top: 1em">active_filters <br>
This section stores which filters are active on each table.
Each line is in the format table_name=filter_list.</p>

<p style="margin-top: 1em">tbl_meta <br>
This section stores user-defined or user-customized columns
(see &quot;COLUMNS&quot;). Each line is in the format
col_name=properties, where the properties are a
name=quoted-value <br>
list.</p>

<p style="margin-top: 1em">connections <br>
This section holds the server connections you have defined.
Each line is in the format name=properties, where the
properties are a name=value list. The properties are self-
<br>
explanatory, and the only one that is treated specially is
&rsquo;pass&rsquo; which is only present if
&rsquo;savepass&rsquo; is set. This section of the
configuration file will be skipped if any <br>
DSN, username, or password command-line options are used.
See &quot;SERVER CONNECTIONS&quot;.</p>

<p style="margin-top: 1em">active_connections <br>
This section holds a list of which connections are active in
each mode. Each line is in the format
mode_name=connection_list.</p>

<p style="margin-top: 1em">server_groups <br>
This section holds server groups. Each line is in the format
name=connection_list. See &quot;SERVER GROUPS&quot;.</p>

<p style="margin-top: 1em">active_server_groups <br>
This section holds a list of which server group is active in
each mode. Each line is in the format
mode_name=server_group.</p>

<p style="margin-top: 1em">max_values_seen <br>
This section holds the maximum values seen for variables.
This is used to scale the graphs in &quot;S: Variables &amp;
Status&quot; mode. Each line is in the format
name=value.</p>

<p style="margin-top: 1em">active_columns <br>
This section holds table column lists. Each line is in the
format tbl_name=column_list. See &quot;COLUMNS&quot;.</p>

<p style="margin-top: 1em">sort_cols <br>
This section holds the sort definition. Each line is in the
format tbl_name=column_list. If a column is prefixed with
&rsquo;-&rsquo;, that column sorts descending. See
&quot;SORTING&quot;.</p>

<p style="margin-top: 1em">visible_tables <br>
This section defines which tables are visible in each mode.
Each line is in the format mode_name=table_list. See
&quot;TABLES&quot;.</p>

<p style="margin-top: 1em">varsets <br>
This section defines variable sets for use in &quot;S:
Status &amp; Variables&quot; mode. Each line is in the
format name=variable_list. See &quot;VARIABLE
SETS&quot;.</p>

<p style="margin-top: 1em">colors <br>
This section defines colorization rules. Each line is in the
format tbl_name=property_list. See &quot;COLORS&quot;.</p>

<p style="margin-top: 1em">stmt_sleep_times <br>
This section contains statement sleep times. Each line is in
the format statement_name=sleep_time. See &quot;S: Statement
Sleep Times&quot;.</p>

<p style="margin-top: 1em">group_by <br>
This section contains column lists for table group_by
expressions. Each line is in the format
tbl_name=column_list. See &quot;GROUPING&quot;.</p>

<p style="margin-top: 1em">CUSTOMIZING <br>
You can customize innotop a great deal. For example, you
can:</p>

<p style="margin-top: 1em">&Acirc;&middot; Choose which
tables to display, and in what order.</p>

<p style="margin-top: 1em">&Acirc;&middot; Choose which
columns are in those tables, and create new columns.</p>

<p style="margin-top: 1em">&Acirc;&middot; Filter which
rows display with built-in filters, user-defined filters,
and quick-filters.</p>

<p style="margin-top: 1em">&Acirc;&middot; Sort the rows to
put important data first or group together related rows.</p>

<p style="margin-top: 1em">&Acirc;&middot; Highlight rows
with color.</p>

<p style="margin-top: 1em">&Acirc;&middot; Customize the
alignment, width, and formatting of columns, and apply
transformations to columns to extract parts of their values
or format the values as you wish (for <br>
example, shortening large numbers to familiar units).</p>

<p style="margin-top: 1em">&Acirc;&middot; Design your own
expressions to extract and combine data as you need. This
gives you unlimited flexibility.</p>

<p style="margin-top: 1em">All these and more are explained
in the following sections.</p>

<p style="margin-top: 1em">TABLES <br>
A table is what you&rsquo;d expect: a collection of columns.
It also has some other properties, such as a caption.
Filters, sorting rules, and colorization rules belong to
tables and <br>
are covered in later sections.</p>

<p style="margin-top: 1em">Internally, table meta-data is
defined in a data structure called %tbl_meta. This hash
holds all built-in table definitions, which contain a lot of
default instructions to <br>
innotop. The meta-data includes the caption, a list of
columns the user has customized, a list of columns, a list
of visible columns, a list of filters, color rules, a sort-
<br>
column list, sort direction, and some information about the
table&rsquo;s data sources. Most of this is customizable via
the table editor (see &quot;TABLE EDITOR&quot;).</p>

<p style="margin-top: 1em">You can choose which tables to
show by pressing the &rsquo;$&rsquo; key. See
&quot;MODES&quot; and &quot;TABLES&quot;.</p>

<p style="margin-top: 1em">The table life-cycle is as
follows:</p>

<p style="margin-top: 1em">&Acirc;&middot; Each table
begins with a data source, which is an array of hashes. See
below for details on data sources.</p>

<p style="margin-top: 1em">&Acirc;&middot; Each element of
the data source becomes a row in the final table.</p>

<p style="margin-top: 1em">&Acirc;&middot; For each element
in the data source, innotop extracts values from the source
and creates a row. This row is another hash, which later
steps will refer to as $set. The <br>
values innotop extracts are determined by the table&rsquo;s
columns. Each column has an extraction subroutine, compiled
from an expression (see &quot;EXPRESSIONS&quot;). The
resulting row <br>
is a hash whose keys are named the same as the column
name.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop filters
the rows, removing those that don&rsquo;t need to be
displayed. See &quot;FILTERS&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop sorts
the rows. See &quot;SORTING&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop groups
the rows together, if specified. See
&quot;GROUPING&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop
colorizes the rows. See &quot;COLORS&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop
transforms the column values in each row. See
&quot;TRANSFORMATIONS&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop
optionally pivots the rows (see &quot;PIVOTING&quot;), then
filters and sorts them.</p>

<p style="margin-top: 1em">&Acirc;&middot; innotop formats
and justifies the rows as a table. During this step, innotop
applies further formatting to the column values, including
alignment, maximum and minimum <br>
widths. innotop also does final error checking to ensure
there are no crashes due to undefined values. innotop then
adds a caption if specified, and the table is ready to <br>
print.</p>

<p style="margin-top: 1em">The lifecycle is slightly
different if the table is pivoted, as noted above. To
clarify, if the table is pivoted, the process is extract,
group, transform, pivot, filter, sort, <br>
create. If it&rsquo;s not pivoted, the process is extract,
filter, sort, group, color, transform, create. This slightly
convoluted process doesn&rsquo;t map all that well to SQL,
but <br>
pivoting complicates things pretty thoroughly. Roughly
speaking, filtering and sorting happen as late as needed to
effect the final result as you might expect, but as early as
<br>
possible for efficiency.</p>

<p style="margin-top: 1em">Each built-in table is described
below:</p>

<p style="margin-top: 1em">adaptive_hash_index <br>
Displays data about InnoDB&rsquo;s adaptive hash index. Data
source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">buffer_pool <br>
Displays data about InnoDB&rsquo;s buffer pool. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">cmd_summary <br>
Displays weighted status variables. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">deadlock_locks <br>
Shows which locks were held and waited for by the last
detected deadlock. Data source:
&quot;DEADLOCK_LOCKS&quot;.</p>

<p style="margin-top: 1em">deadlock_transactions <br>
Shows transactions involved in the last detected deadlock.
Data source: &quot;DEADLOCK_TRANSACTIONS&quot;.</p>

<p style="margin-top: 1em">explain <br>
Shows the output of EXPLAIN. Data source:
&quot;EXPLAIN&quot;.</p>

<p style="margin-top: 1em">file_io_misc <br>
Displays data about InnoDB&rsquo;s file and I/O operations.
Data source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">fk_error <br>
Displays various data about InnoDB&rsquo;s last foreign key
error. Data source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">innodb_locks <br>
Displays InnoDB locks. Data source:
&quot;INNODB_LOCKS&quot;.</p>

<p style="margin-top: 1em">innodb_transactions <br>
Displays data about InnoDB&rsquo;s current transactions.
Data source: &quot;INNODB_TRANSACTIONS&quot;.</p>

<p style="margin-top: 1em">insert_buffers <br>
Displays data about InnoDB&rsquo;s insert buffer. Data
source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">io_threads <br>
Displays data about InnoDB&rsquo;s I/O threads. Data source:
&quot;IO_THREADS&quot;.</p>

<p style="margin-top: 1em">log_statistics <br>
Displays data about InnoDB&rsquo;s logging system. Data
source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">master_status <br>
Displays replication master status. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">open_tables <br>
Displays open tables. Data source:
&quot;OPEN_TABLES&quot;.</p>

<p style="margin-top: 1em">page_statistics <br>
Displays InnoDB page statistics. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">pending_io <br>
Displays InnoDB pending I/O operations. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">processlist <br>
Displays current MySQL processes (threads/connections). Data
source: &quot;PROCESSLIST&quot;.</p>

<p style="margin-top: 1em">q_header <br>
Displays various status values. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">row_operation_misc <br>
Displays data about InnoDB&rsquo;s row operations. Data
source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">row_operations <br>
Displays data about InnoDB&rsquo;s row operations. Data
source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">semaphores <br>
Displays data about InnoDB&rsquo;s semaphores and mutexes.
Data source: &quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">slave_io_status <br>
Displays data about the slave I/O thread. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">slave_sql_status <br>
Displays data about the slave SQL thread. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">t_header <br>
Displays various InnoDB status values. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">var_status <br>
Displays user-configurable data. Data source:
&quot;STATUS_VARIABLES&quot;.</p>

<p style="margin-top: 1em">wait_array <br>
Displays data about InnoDB&rsquo;s OS wait array. Data
source: &quot;OS_WAIT_ARRAY&quot;.</p>

<p style="margin-top: 1em">COLUMNS <br>
Columns belong to tables. You can choose a table&rsquo;s
columns by pressing the &rsquo;^&rsquo; key, which starts
the &quot;TABLE EDITOR&quot; and lets you choose and edit
columns. Pressing &rsquo;e&rsquo; from <br>
within the table editor lets you edit the column&rsquo;s
properties:</p>

<p style="margin-top: 1em">&Acirc;&middot; hdr: a column
header. This appears in the first row of the table.</p>

<p style="margin-top: 1em">&Acirc;&middot; just:
justification. &rsquo;-&rsquo; means left-justified and
&rsquo;&rsquo; means right-justified, just as with printf
formatting codes (not a coincidence).</p>

<p style="margin-top: 1em">&Acirc;&middot; dec: whether to
further align the column on the decimal point.</p>

<p style="margin-top: 1em">&Acirc;&middot; num: whether the
column is numeric. This affects how values are sorted
(lexically or numerically).</p>

<p style="margin-top: 1em">&Acirc;&middot; label: a small
note about the column, which appears in dialogs that help
the user choose columns.</p>

<p style="margin-top: 1em">&Acirc;&middot; src: an
expression that innotop uses to extract the column&rsquo;s
data from its source (see &quot;DATA SOURCES&quot;). See
&quot;EXPRESSIONS&quot; for more on expressions.</p>

<p style="margin-top: 1em">&Acirc;&middot; minw: specifies
a minimum display width. This helps stabilize the display,
which makes it easier to read if the data is changing
frequently.</p>

<p style="margin-top: 1em">&Acirc;&middot; maxw: similar to
minw.</p>

<p style="margin-top: 1em">&Acirc;&middot; trans: a list of
column transformations. See &quot;TRANSFORMATIONS&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; agg: an
aggregate function. See &quot;GROUPING&quot;. The default is
&quot;first&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; aggonly:
controls whether the column only shows when grouping is
enabled on the table (see &quot;GROUPING&quot;). By default,
this is disabled. This means columns will always be <br>
shown by default, whether grouping is enabled or not. If a
column&rsquo;s aggonly is set true, the column will appear
when you toggle grouping on the table. Several columns are
<br>
set this way, such as the count column on
&quot;processlist&quot; and &quot;innodb_transactions&quot;,
so you don&rsquo;t see a count when the grouping isn&rsquo;t
enabled, but you do when it is.</p>

<p style="margin-top: 1em">FILTERS <br>
Filters remove rows from the display. They behave much like
a WHERE clause in SQL. innotop has several built-in filters,
which remove irrelevant information like inactive <br>
queries, but you can define your own as well. innotop also
lets you create quick-filters, which do not get saved to the
configuration file, and are just an easy way to quickly <br>
view only some rows.</p>

<p style="margin-top: 1em">You can enable or disable a
filter on any table. Press the &rsquo;%&rsquo; key
(mnemonic: % looks kind of like a line being filtered
between two circles) and choose which table you want to <br>
filter, if asked. You&rsquo;ll then see a list of possible
filters and a list of filters currently enabled for that
table. Type the names of filters you want to apply and press
<br>
Enter.</p>

<p style="margin-top: 1em">USER-DEFINED FILTERS</p>

<p style="margin-top: 1em">If you type a name that
doesn&rsquo;t exist, innotop will prompt you to create the
filter. Filters are easy to create if you know Perl, and not
hard if you don&rsquo;t. What you&rsquo;re doing <br>
is creating a subroutine that returns true if the row should
be displayed. The row is a hash reference passed to your
subroutine as $set.</p>

<p style="margin-top: 1em">For example, imagine you want to
filter the processlist table so you only see queries that
have been running more than five minutes. Type a new name
for your filter, and when <br>
prompted for the subroutine body, press TAB to initiate your
terminal&rsquo;s auto-completion. You&rsquo;ll see the names
of the columns in the &quot;processlist&quot; table (innotop
generally tries <br>
to help you with auto-completion lists). You want to filter
on the &rsquo;time&rsquo; column. Type the text
&quot;$set-&gt;{time} &gt; 300&quot; to return true when the
query is more than five minutes <br>
old. That&rsquo;s all you need to do.</p>

<p style="margin-top: 1em">In other words, the code
you&rsquo;re typing is surrounded by an implicit context,
which looks like this:</p>

<p style="margin-top: 1em">sub filter { <br>
my ( $set ) = @_; <br>
# YOUR CODE HERE <br>
}</p>

<p style="margin-top: 1em">If your filter doesn&rsquo;t
work, or if something else suddenly behaves differently, you
might have made an error in your filter, and innotop is
silently catching the error. Try <br>
enabling &quot;debug&quot; to make innotop throw an error
instead.</p>

<p style="margin-top: 1em">QUICK-FILTERS</p>

<p style="margin-top: 1em">innotop&rsquo;s quick-filters
are a shortcut to create a temporary filter that
doesn&rsquo;t persist when you restart innotop. To create a
quick-filter, press the &rsquo;/&rsquo; key. innotop will
<br>
prompt you for the column name and filter text. Again, you
can use auto-completion on column names. The filter text can
be just the text you want to &quot;search for.&quot; For
example, <br>
to filter the &quot;processlist&quot; table on queries that
refer to the products table, type &rsquo;/&rsquo; and then
&rsquo;info product&rsquo;.</p>

<p style="margin-top: 1em">The filter text can actually be
any Perl regular expression, but of course a literal string
like &rsquo;product&rsquo; works fine as a regular
expression.</p>

<p style="margin-top: 1em">Behind the scenes innotop
compiles the quick-filter into a specially tagged filter
that is otherwise like any other filter. It just isn&rsquo;t
saved to the configuration file.</p>

<p style="margin-top: 1em">To clear quick-filters, press
the &rsquo;&acute; key and innotop will clear them all at
once.</p>

<p style="margin-top: 1em">SORTING <br>
innotop has sensible built-in defaults to sort the most
important rows to the top of the table. Like anything else
in innotop, you can customize how any table is sorted.</p>

<p style="margin-top: 1em">To start the sort dialog, start
the &quot;TABLE EDITOR&quot; with the &rsquo;^&rsquo; key,
choose a table if necessary, and press the &rsquo;s&rsquo;
key. You&rsquo;ll see a list of columns you can use in the
sort <br>
expression and the current sort expression, if any. Enter a
list of columns by which you want to sort and press Enter.
If you want to reverse sort, prefix the column name with
<br>
a minus sign. For example, if you want to sort by column a
ascending, then column b descending, type &rsquo;a
-b&rsquo;. You can also explicitly add a + in front of
columns you want to <br>
sort ascending, but it&rsquo;s not required.</p>

<p style="margin-top: 1em">Some modes have keys mapped to
open this dialog directly, and to quickly reverse sort
direction. Press &rsquo;?&rsquo; as usual to see which keys
are mapped in any mode.</p>

<p style="margin-top: 1em">GROUPING <br>
innotop can group, or aggregate, rows together (the terms
are used interchangeably). This is quite similar to an SQL
GROUP BY clause. You can specify to group on certain <br>
columns, or if you don&rsquo;t specify any, the entire set
of rows is treated as one group. This is quite like SQL so
far, but unlike SQL, you can also select un-grouped columns.
<br>
innotop actually aggregates every column. If you don&rsquo;t
explicitly specify a grouping function, the default is
&rsquo;first&rsquo;. This is basically a convenience so you
don&rsquo;t have to <br>
specify an aggregate function for every column you want in
the result.</p>

<p style="margin-top: 1em">You can quickly toggle grouping
on a table with the &rsquo;=&rsquo; key, which toggles its
aggregate property. This property doesn&rsquo;t persist to
the config file.</p>

<p style="margin-top: 1em">The columns by which the table
is grouped are specified in its group_by property. When you
turn grouping on, innotop places the group_by columns at the
far left of the table, <br>
even if they&rsquo;re not supposed to be visible. The rest
of the visible columns appear in order after them.</p>

<p style="margin-top: 1em">Two tables have default group_by
lists and a count column built in: &quot;processlist&quot;
and &quot;innodb_transactions&quot;. The grouping is by
connection and status, so you can quickly see how <br>
many queries or transactions are in a given status on each
server you&rsquo;re monitoring. The time columns are
aggregated as a sum; other columns are left at the default
&rsquo;first&rsquo; <br>
aggregation.</p>

<p style="margin-top: 1em">By default, the table shown in
&quot;S: Variables &amp; Status&quot; mode also uses
grouping so you can monitor variables and status across many
servers. The default aggregation function in <br>
this mode is &rsquo;avg&rsquo;.</p>

<p style="margin-top: 1em">Valid grouping functions are
defined in the %agg_funcs hash. They include</p>

<p style="margin-top: 1em">first <br>
Returns the first element in the group.</p>

<p style="margin-top: 1em">count <br>
Returns the number of elements in the group, including
undefined elements, much like SQL&rsquo;s COUNT(*).</p>

<p style="margin-top: 1em">avg Returns the average of
defined elements in the group.</p>

<p style="margin-top: 1em">sum Returns the sum of elements
in the group.</p>

<p style="margin-top: 1em">Here&rsquo;s an example of
grouping at work. Suppose you have a very busy server with
hundreds of open connections, and you want to see how many
connections are in what status. Using <br>
the built-in grouping rules, you can press &rsquo;Q&rsquo;
to enter &quot;Q: Query List&quot; mode. Press
&rsquo;=&rsquo; to toggle grouping (if necessary, select the
&quot;processlist&quot; table when prompted).</p>

<p style="margin-top: 1em">Your display might now look like
the following:</p>

<p style="margin-top: 1em">Query List (? for help)
localhost, 32:33, 0.11 QPS, 1 thd, 5.0.38-log</p>

<p style="margin-top: 1em">CXN Cmd Cnt ID User Host Time
Query <br>
localhost Query 49 12933 webusr localhost 19:38 SELECT *
FROM <br>
localhost Sending Da 23 2383 webusr localhost 12:43 SELECT
col1, <br>
localhost Sleep 120 140 webusr localhost 5:18:12 <br>
localhost Statistics 12 19213 webusr localhost 01:19 SELECT
* FROM</p>

<p style="margin-top: 1em">That&rsquo;s actually quite a
worrisome picture. You&rsquo;ve got a lot of idle
connections (Sleep), and some connections executing queries
(Query and Sending Data). That&rsquo;s okay, but you <br>
also have a lot in Statistics status, collectively spending
over a minute. That means the query optimizer is having a
really hard time optimizing your statements. Something is
<br>
wrong; it should normally take milliseconds to optimize
queries. You might not have seen this pattern if you
didn&rsquo;t look at your connections in aggregate. (This is
a made-up <br>
example, but it can happen in real life).</p>

<p style="margin-top: 1em">PIVOTING <br>
innotop can pivot a table for more compact display, similar
to a Pivot Table in a spreadsheet (also known as a
crosstab). Pivoting a table makes columns into rows. Assume
you <br>
start with this table:</p>

<p style="margin-top: 1em">foo bar <br>
=== === <br>
1 3 <br>
2 4</p>

<p style="margin-top: 1em">After pivoting, the table will
look like this:</p>

<p style="margin-top: 1em">name set0 set1 <br>
==== ==== ==== <br>
foo 1 2 <br>
bar 3 4</p>

<p style="margin-top: 1em">To get reasonable results, you
might need to group as well as pivoting. innotop currently
does this for &quot;S: Variables &amp; Status&quot;
mode.</p>

<p style="margin-top: 1em">COLORS <br>
By default, innotop highlights rows with color so you can
see at a glance which rows are more important. You can
customize the colorization rules and add your own to any
table. <br>
Open the table editor with the &rsquo;^&rsquo; key, choose a
table if needed, and press &rsquo;o&rsquo; to open the color
editor dialog.</p>

<p style="margin-top: 1em">The color editor dialog displays
the rules applied to the table, in the order they are
evaluated. Each row is evaluated against each rule to see if
the rule matches the row; if <br>
it does, the row gets the specified color, and no further
rules are evaluated. The rules look like the following:</p>

<p style="margin-top: 1em">state eq Locked black on_red
<br>
cmd eq Sleep white <br>
user eq system user white <br>
cmd eq Connect white <br>
cmd eq Binlog Dump white <br>
time &gt; 600 red <br>
time &gt; 120 yellow <br>
time &gt; 60 green <br>
time &gt; 30 cyan</p>

<p style="margin-top: 1em">This is the default rule set for
the &quot;processlist&quot; table. In order of priority,
these rules make locked queries black on a red background,
&quot;gray out&quot; connections from <br>
replication and sleeping queries, and make queries turn from
cyan to red as they run longer.</p>

<p style="margin-top: 1em">(For some reason, the ANSI color
code &quot;white&quot; is actually a light gray. Your
terminal&rsquo;s display may vary; experiment to find colors
you like).</p>

<p style="margin-top: 1em">You can use keystrokes to move
the rules up and down, which re-orders their priority. You
can also delete rules and add new ones. If you add a new
rule, innotop prompts you for <br>
the column, an operator for the comparison, a value against
which to compare the column, and a color to assign if the
rule matches. There is auto-completion and prompting at <br>
each step.</p>

<p style="margin-top: 1em">The value in the third step
needs to be correctly quoted. innotop does not try to quote
the value because it doesn&rsquo;t know whether it should
treat the value as a string or a <br>
number. If you want to compare the column against a string,
as for example in the first rule above, you should enter
&rsquo;Locked&rsquo; surrounded by quotes. If you get an
error message <br>
about a bareword, you probably should have quoted
something.</p>

<p style="margin-top: 1em">EXPRESSIONS <br>
Expressions are at the core of how innotop works, and are
what enables you to extend innotop as you wish. Recall the
table lifecycle explained in &quot;TABLES&quot;. Expressions
are used <br>
in the earliest step, where it extracts values from a data
source to form rows.</p>

<p style="margin-top: 1em">It does this by calling a
subroutine for each column, passing it the source data set,
a set of current values, and a set of previous values. These
are all needed so the <br>
subroutine can calculate things like the difference between
this tick and the previous tick.</p>

<p style="margin-top: 1em">The subroutines that extract the
data from the set are compiled from expressions. This gives
significantly more power than just naming the values to fill
the columns, because it <br>
allows the column&rsquo;s value to be calculated from
whatever data is necessary, but avoids the need to write
complicated and lengthy Perl code.</p>

<p style="margin-top: 1em">innotop begins with a string of
text that can look as simple as a value&rsquo;s name or as
complicated as a full-fledged Perl expression. It looks at
each &rsquo;bareword&rsquo; token in the <br>
string and decides whether it&rsquo;s supposed to be a key
into the $set hash. A bareword is an unquoted value that
isn&rsquo;t already surrounded by code-ish things like
dollar signs or <br>
curly brackets. If innotop decides that the bareword
isn&rsquo;t a function or other valid Perl code, it converts
it into a hash access. After the whole string is processed,
innotop <br>
compiles a subroutine, like this:</p>

<p style="margin-top: 1em">sub compute_column_value { <br>
my ( $set, $cur, $pre ) = @_; <br>
my $val = # EXPANDED STRING GOES HERE <br>
return $val; <br>
}</p>

<p style="margin-top: 1em">Here&rsquo;s a concrete example,
taken from the header table &quot;q_header&quot; in &quot;Q:
Query List&quot; mode. This expression calculates the qps,
or Queries Per Second, column&rsquo;s values, from the <br>
values returned by SHOW STATUS:</p>

<p style="margin-top: 1em">Questions/Uptime_hires</p>

<p style="margin-top: 1em">innotop decides both words are
barewords, and transforms this expression into the following
Perl code:</p>


<p style="margin-top: 1em">$set-&gt;{Questions}/$set-&gt;{Uptime_hires}</p>

<p style="margin-top: 1em">When surrounded by the rest of
the subroutine&rsquo;s code, this is executable Perl that
calculates a high-resolution queries-per-second value.</p>

<p style="margin-top: 1em">The arguments to the subroutine
are named $set, $cur, and $pre. In most cases, $set and $cur
will be the same values. However, if &quot;status_inc&quot;
is set, $cur will not be the same <br>
as $set, because $set will already contain values that are
the incremental difference between $cur and $pre.</p>

<p style="margin-top: 1em">Every column in innotop is
computed by subroutines compiled in the same fashion. There
is no difference between innotop&rsquo;s built-in columns
and user-defined columns. This keeps <br>
things consistent and predictable.</p>

<p style="margin-top: 1em">TRANSFORMATIONS <br>
Transformations change how a value is rendered. For example,
they can take a number of seconds and display it in H:M:S
format. The following transformations are defined:</p>

<p style="margin-top: 1em">commify <br>
Adds commas to large numbers every three decimal places.</p>

<p style="margin-top: 1em">dulint_to_int <br>
Accepts two unsigned integers and converts them into a
single longlong. This is useful for certain operations with
InnoDB, which uses two integers as transaction <br>
identifiers, for example.</p>

<p style="margin-top: 1em">no_ctrl_char <br>
Removes quoted control characters from the value. This is
affected by the &quot;charset&quot; configuration
variable.</p>

<p style="margin-top: 1em">This transformation only
operates within quoted strings, for example, values to a SET
clause in an UPDATE statement. It will not alter the UPDATE
statement, but will <br>
collapse the quoted string to [BINARY] or [TEXT], depending
on the charset.</p>

<p style="margin-top: 1em">percent <br>
Converts a number to a percentage by multiplying it by two,
formatting it with &quot;num_digits&quot; digits after the
decimal point, and optionally adding a percent sign (see
<br>
&quot;show_percent&quot;).</p>

<p style="margin-top: 1em">secs_to_time <br>
Formats a number of seconds as time in
days+hours:minutes:seconds format.</p>

<p style="margin-top: 1em">set_precision <br>
Formats numbers with &quot;num_digits&quot; number of digits
after the decimal point.</p>

<p style="margin-top: 1em">shorten <br>
Formats a number as a unit of 1024 (k/M/G/T) and with
&quot;num_digits&quot; number of digits after the decimal
point.</p>

<p style="margin-top: 1em">TABLE EDITOR <br>
The innotop table editor lets you customize tables with
keystrokes. You start the table editor with the
&rsquo;^&rsquo; key. If there&rsquo;s more than one table on
the screen, it will prompt <br>
you to choose one of them. Once you do, innotop will show
you something like this:</p>

<p style="margin-top: 1em">Editing table definition for
Buffer Pool. Press ? for help, q to quit.</p>

<p style="margin-top: 1em">name hdr label src <br>
cxn CXN Connection from which cxn <br>
buf_pool_size Size Buffer pool size IB_bp_buf_poo <br>
buf_free Free Bufs Buffers free in the b IB_bp_buf_fre <br>
pages_total Pages Pages total IB_bp_pages_t <br>
pages_modified Dirty Pages Pages modified (dirty
IB_bp_pages_m <br>
buf_pool_hit_rate Hit Rate Buffer pool hit rate
IB_bp_buf_poo <br>
total_mem_alloc Memory Total memory allocate IB_bp_total_m
<br>
add_pool_alloc Add&rsquo;l Pool Additonal pool alloca
IB_bp_add_poo</p>

<p style="margin-top: 1em">The first line shows which table
you&rsquo;re editing, and reminds you again to press
&rsquo;?&rsquo; for a list of key mappings. The rest is a
tabular representation of the table&rsquo;s columns, <br>
because that&rsquo;s likely what you&rsquo;re trying to
edit. However, you can edit more than just the table&rsquo;s
columns; this screen can start the filter editor, color rule
editor, and more.</p>

<p style="margin-top: 1em">Each row in the display shows a
single column in the table you&rsquo;re editing, along with
a couple of its properties such as its header and source
expression (see &quot;EXPRESSIONS&quot;).</p>

<p style="margin-top: 1em">The key mappings are Vim-style,
as in many other places. Pressing &rsquo;j&rsquo; and
&rsquo;k&rsquo; moves the highlight up or down. You can then
(d)elete or (e)dit the highlighted column. You can <br>
also (a)dd a column to the table. This actually just
activates one of the columns already defined for the table;
it prompts you to choose from among the columns available
but <br>
not currently displayed. Finally, you can re-order the
columns with the &rsquo;+&rsquo; and &rsquo;-&rsquo;
keys.</p>

<p style="margin-top: 1em">You can do more than just edit
the columns with the table editor, you can also edit other
properties, such as the table&rsquo;s sort expression and
group-by expression. Press &rsquo;?&rsquo; to <br>
see the full list, of course.</p>

<p style="margin-top: 1em">If you want to really customize
and create your own column, as opposed to just activating a
built-in one that&rsquo;s not currently displayed, press the
(n)ew key, and innotop will <br>
prompt you for the information it needs:</p>

<p style="margin-top: 1em">&Acirc;&middot; The column name:
this needs to be a word without any funny characters, e.g.
just letters, numbers and underscores.</p>

<p style="margin-top: 1em">&Acirc;&middot; The column
header: this is the label that appears at the top of the
column, in the table header. This can have spaces and funny
characters, but be careful not to make it too <br>
wide and waste space on-screen.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
column&rsquo;s data source: this is an expression that
determines what data from the source (see
&quot;TABLES&quot;) innotop will put into the column. This
can just be the name of an <br>
item in the source, or it can be a more complex expression,
as described in &quot;EXPRESSIONS&quot;.</p>

<p style="margin-top: 1em">Once you&rsquo;ve entered the
required data, your table has a new column. There is no
difference between this column and the built-in ones; it can
have all the same properties and <br>
behaviors. innotop will write the column&rsquo;s definition
to the configuration file, so it will persist across
sessions.</p>

<p style="margin-top: 1em">Here&rsquo;s an example: suppose
you want to track how many times your slaves have retried
transactions. According to the MySQL manual, the
Slave_retried_transactions status variable <br>
gives you that data: &quot;The total number of times since
startup that the replication slave SQL thread has retried
transactions. This variable was added in version
5.0.4.&quot; This is <br>
appropriate to add to the &quot;slave_sql_status&quot;
table.</p>

<p style="margin-top: 1em">To add the column, switch to the
replication-monitoring mode with the &rsquo;M&rsquo; key,
and press the &rsquo;^&rsquo; key to start the table editor.
When prompted, choose slave_sql_status as the <br>
table, then press &rsquo;n&rsquo; to create the column. Type
&rsquo;retries&rsquo; as the column name,
&rsquo;Retries&rsquo; as the column header, and
&rsquo;Slave_retried_transactions&rsquo; as the source. Now
the column is <br>
created, and you see the table editor screen again. Press
&rsquo;q&rsquo; to exit the table editor, and you&rsquo;ll
see your column at the end of the table.</p>

<p style="margin-top: 1em">VARIABLE SETS <br>
Variable sets are used in &quot;S: Variables &amp;
Status&quot; mode to define more easily what variables you
want to monitor. Behind the scenes they are compiled to a
list of expressions, <br>
and then into a column list so they can be treated just like
columns in any other table, in terms of data extraction and
transformations. However, you&rsquo;re protected from the
<br>
tedious details by a syntax that ought to feel very natural
to you: a SQL SELECT list.</p>

<p style="margin-top: 1em">The data source for variable
sets, and indeed the entire S mode, is the combination of
SHOW STATUS, SHOW VARIABLES, and SHOW INNODB STATUS. Imagine
that you had a huge table <br>
with one column per variable returned from those statements.
That&rsquo;s the data source for variable sets. You can now
query this data source just like you&rsquo;d expect. For
example:</p>

<p style="margin-top: 1em">Questions, Uptime,
Questions/Uptime as QPS</p>

<p style="margin-top: 1em">Behind the scenes innotop will
split that variable set into three expressions, compile them
and turn them into a table definition, then extract as
usual. This becomes a <br>
&quot;variable set,&quot; or a &quot;list of variables you
want to monitor.&quot;</p>

<p style="margin-top: 1em">innotop lets you name and save
your variable sets, and writes them to the configuration
file. You can choose which variable set you want to see with
the &rsquo;c&rsquo; key, or activate the <br>
next and previous sets with the &rsquo;&gt;&rsquo; and
&rsquo;&lt;&rsquo; keys. There are many built-in variable
sets as well, which should give you a good start for
creating your own. Press &rsquo;e&rsquo; to edit the <br>
current variable set, or just to see how it&rsquo;s defined.
To create a new one, just press &rsquo;c&rsquo; and type its
name.</p>

<p style="margin-top: 1em">You may want to use some of the
functions listed in &quot;TRANSFORMATIONS&quot; to help
format the results. In particular, &quot;set_precision&quot;
is often useful to limit the number of digits <br>
you see. Extending the above example, here&rsquo;s how:</p>

<p style="margin-top: 1em">Questions, Uptime,
set_precision(Questions/Uptime) as QPS</p>

<p style="margin-top: 1em">Actually, this still needs a
little more work. If your &quot;interval&quot; is less than
one second, you might be dividing by zero because Uptime is
incremental in this mode by default. <br>
Instead, use Uptime_hires:</p>

<p style="margin-top: 1em">Questions, Uptime,
set_precision(Questions/Uptime_hires) as QPS</p>

<p style="margin-top: 1em">This example is simple, but it
shows how easy it is to choose which variables you want to
monitor.</p>

<p style="margin-top: 1em">PLUGINS <br>
innotop has a simple but powerful plugin mechanism by which
you can extend or modify its existing functionality, and add
new functionality. innotop&rsquo;s plugin functionality is
<br>
event-based: plugins register themselves to be called when
events happen. They then have a chance to influence the
event.</p>

<p style="margin-top: 1em">An innotop plugin is a Perl
module placed in innotop&rsquo;s &quot;plugin_dir&quot;
directory. On UNIX systems, you can place a symbolic link to
the module instead of putting the actual file <br>
there. innotop automatically discovers the file. If there is
a corresponding entry in the &quot;plugins&quot;
configuration file section, innotop loads and activates the
plugin.</p>

<p style="margin-top: 1em">The module must conform to
innotop&rsquo;s plugin interface. Additionally, the source
code of the module must be written in such a way that
innotop can inspect the file and determine <br>
the package name and description.</p>

<p style="margin-top: 1em">Package Source Convention <br>
innotop inspects the plugin module&rsquo;s source to
determine the Perl package name. It looks for a line of the
form &quot;package Foo;&quot; and if found, considers the
plugin&rsquo;s package name <br>
to be Foo. Of course the package name can be a valid Perl
package name, with double semicolons and so on.</p>

<p style="margin-top: 1em">It also looks for a description
in the source code, to make the plugin editor more
human-friendly. The description is a comment line of the
form &quot;# description: Foo&quot;, where <br>
&quot;Foo&quot; is the text innotop will consider to be the
plugin&rsquo;s description.</p>

<p style="margin-top: 1em">Plugin Interface <br>
The innotop plugin interface is quite simple: innotop
expects the plugin to be an object-oriented module it can
call certain methods on. The methods are</p>

<p style="margin-top: 1em">new(%variables) <br>
This is the plugin&rsquo;s constructor. It is passed a hash
of innotop&rsquo;s variables, which it can manipulate (see
&quot;Plugin Variables&quot;). It must return a reference to
the newly <br>
created plugin object.</p>

<p style="margin-top: 1em">At construction time, innotop
has only loaded the general configuration and created the
default built-in variables with their default contents
(which is quite a lot). <br>
Therefore, the state of the program is exactly as in the
innotop source code, plus the configuration variables from
the &quot;general&quot; section in the config file.</p>

<p style="margin-top: 1em">If your plugin manipulates the
variables, it is changing global data, which is shared by
innotop and all plugins. Plugins are loaded in the order
they&rsquo;re listed in the <br>
config file. Your plugin may load before or after another
plugin, so there is a potential for conflict or interaction
between plugins if they modify data other plugins use <br>
or modify.</p>

<p style="margin-top: 1em">register_for_events() <br>
This method must return a list of events in which the plugin
is interested, if any. See &quot;Plugin Events&quot; for the
defined events. If the plugin returns an event that&rsquo;s
not <br>
defined, the event is ignored.</p>

<p style="margin-top: 1em">event handlers <br>
The plugin must implement a method named the same as each
event for which it has registered. In other words, if the
plugin returns qw(foo bar) from register_for_events(), it
<br>
must have foo() and bar() methods. These methods are
callbacks for the events. See &quot;Plugin Events&quot; for
more details about each event.</p>

<p style="margin-top: 1em">Plugin Variables <br>
The plugin&rsquo;s constructor is passed a hash of
innotop&rsquo;s variables, which it can manipulate. It is
probably a good idea if the plugin object saves a copy of it
for later use. The <br>
variables are defined in the innotop variable
%pluggable_vars, and are as follows:</p>

<p style="margin-top: 1em">action_for <br>
A hashref of key mappings. These are innotop&rsquo;s global
hot-keys.</p>

<p style="margin-top: 1em">agg_funcs <br>
A hashref of functions that can be used for grouping. See
&quot;GROUPING&quot;.</p>

<p style="margin-top: 1em">config <br>
The global configuration hash.</p>

<p style="margin-top: 1em">connections <br>
A hashref of connection specifications. These are just
specifications of how to connect to a server.</p>

<p style="margin-top: 1em">dbhs <br>
A hashref of innotop&rsquo;s database connections. These are
actual DBI connection objects.</p>

<p style="margin-top: 1em">filters <br>
A hashref of filters applied to table rows. See
&quot;FILTERS&quot; for more.</p>

<p style="margin-top: 1em">modes <br>
A hashref of modes. See &quot;MODES&quot; for more.</p>

<p style="margin-top: 1em">server_groups <br>
A hashref of server groups. See &quot;SERVER
GROUPS&quot;.</p>

<p style="margin-top: 1em">tbl_meta <br>
A hashref of innotop&rsquo;s table meta-data, with one entry
per table (see &quot;TABLES&quot; for more information).</p>

<p style="margin-top: 1em">trans_funcs <br>
A hashref of transformation functions. See
&quot;TRANSFORMATIONS&quot;.</p>

<p style="margin-top: 1em">var_sets <br>
A hashref of variable sets. See &quot;VARIABLE
SETS&quot;.</p>

<p style="margin-top: 1em">Plugin Events <br>
Each event is defined somewhere in the innotop source code.
When innotop runs that code, it executes the callback
function for each plugin that expressed its interest in the
<br>
event. innotop passes some data for each event. The events
are defined in the %event_listener_for variable, and are as
follows:</p>

<p style="margin-top: 1em">extract_values($set, $cur, $pre,
$tbl) <br>
This event occurs inside the function that extracts values
from a data source. The arguments are the set of values, the
current values, the previous values, and the table <br>
name.</p>

<p style="margin-top: 1em">set_to_tbl <br>
Events are defined at many places in this subroutine, which
is responsible for turning an arrayref of hashrefs into an
arrayref of lines that can be printed to the screen. <br>
The events all pass the same data: an arrayref of rows and
the name of the table being created. The events are
set_to_tbl_pre_filter, <br>
set_to_tbl_pre_sort,set_to_tbl_pre_group,
set_to_tbl_pre_colorize, set_to_tbl_pre_transform,
set_to_tbl_pre_pivot, set_to_tbl_pre_create,
set_to_tbl_post_create.</p>

<p style="margin-top: 1em">draw_screen($lines) <br>
This event occurs inside the subroutine that prints the
lines to the screen. $lines is an arrayref of strings.</p>

<p style="margin-top: 1em">Simple Plugin Example <br>
The easiest way to explain the plugin functionality is
probably with a simple example. The following module adds a
column to the beginning of every table and sets its value to
<br>
1.</p>

<p style="margin-top: 1em">use strict; <br>
use warnings FATAL =&gt; &rsquo;all&rsquo;;</p>

<p style="margin-top: 1em">package
Innotop::Plugin::Example; <br>
# description: Adds an &rsquo;example&rsquo; column to every
table</p>

<p style="margin-top: 1em">sub new { <br>
my ( $class, %vars ) = @_; <br>
# Store reference to innotop&rsquo;s variables in $self <br>
my $self = bless { %vars }, $class;</p>

<p style="margin-top: 1em"># Design the example column <br>
my $col = { <br>
hdr =&gt; &rsquo;Example&rsquo;, <br>
just =&gt; &rsquo;&rsquo;, <br>
dec =&gt; 0, <br>
num =&gt; 1, <br>
label =&gt; &rsquo;Example&rsquo;, <br>
src =&gt; &rsquo;example&rsquo;, # Get data from this column
in the data source <br>
tbl =&gt; &rsquo;&rsquo;, <br>
trans =&gt; [], <br>
};</p>

<p style="margin-top: 1em"># Add the column to every table.
<br>
my $tbl_meta = $vars{tbl_meta}; <br>
foreach my $tbl ( values %$tbl_meta ) { <br>
# Add the column to the list of defined columns <br>
$tbl-&gt;{cols}-&gt;{example} = $col; <br>
# Add the column to the list of visible columns <br>
unshift @{$tbl-&gt;{visible}}, &rsquo;example&rsquo;; <br>
}</p>

<p style="margin-top: 1em"># Be sure to return a reference
to the object. <br>
return $self; <br>
}</p>

<p style="margin-top: 1em"># I&rsquo;d like to be called
when a data set is being rendered into a table, please. <br>
sub register_for_events { <br>
my ( $self ) = @_; <br>
return qw(set_to_tbl_pre_filter); <br>
}</p>

<p style="margin-top: 1em"># This method will be called
when the event fires. <br>
sub set_to_tbl_pre_filter { <br>
my ( $self, $rows, $tbl ) = @_; <br>
# Set the example column&rsquo;s data source to the value 1.
<br>
foreach my $row ( @$rows ) { <br>
$row-&gt;{example} = 1; <br>
} <br>
}</p>

<p style="margin-top: 1em">1;</p>

<p style="margin-top: 1em">Plugin Editor <br>
The plugin editor lets you view the plugins innotop
discovered and activate or deactivate them. Start the editor
by pressing $ to start the configuration editor from any
mode. <br>
Press the &rsquo;p&rsquo; key to start the plugin editor.
You&rsquo;ll see a list of plugins innotop discovered. You
can use the &rsquo;j&rsquo; and &rsquo;k&rsquo; keys to move
the highlight to the desired one, then <br>
press the * key to toggle it active or inactive. Exit the
editor and restart innotop for the changes to take
effect.</p>

<p style="margin-top: 1em">SQL STATEMENTS <br>
innotop uses a limited set of SQL statements to retrieve
data from MySQL for display. The statements are customized
depending on the server version against which they are <br>
executed; for example, on MySQL 5 and newer, INNODB_STATUS
executes &quot;SHOW ENGINE INNODB STATUS&quot;, while on
earlier versions it executes &quot;SHOW INNODB STATUS&quot;.
The statements are <br>
as follows:</p>

<p style="margin-top: 1em">Statement SQL executed <br>
=================== =============================== <br>
INNODB_STATUS SHOW [ENGINE] INNODB STATUS <br>
KILL_CONNECTION KILL <br>
KILL_QUERY KILL QUERY <br>
OPEN_TABLES SHOW OPEN TABLES <br>
PROCESSLIST SHOW FULL PROCESSLIST <br>
SHOW_MASTER_LOGS SHOW MASTER LOGS <br>
SHOW_MASTER_STATUS SHOW MASTER STATUS <br>
SHOW_SLAVE_STATUS SHOW SLAVE STATUS <br>
SHOW_STATUS SHOW [GLOBAL] STATUS <br>
SHOW_VARIABLES SHOW [GLOBAL] VARIABLES</p>

<p style="margin-top: 1em">DATA SOURCES <br>
Each time innotop extracts values to create a table (see
&quot;EXPRESSIONS&quot; and &quot;TABLES&quot;), it does so
from a particular data source. Largely because of the
complex data extracted <br>
from SHOW INNODB STATUS, this is slightly messy. SHOW INNODB
STATUS contains a mixture of single values and repeated
values that form nested data sets.</p>

<p style="margin-top: 1em">Whenever innotop fetches data
from MySQL, it adds two extra bits to each set: cxn and
Uptime_hires. cxn is the name of the connection from which
the data came. Uptime_hires is <br>
a high-resolution version of the server&rsquo;s Uptime
status variable, which is important if your
&quot;interval&quot; setting is sub-second.</p>

<p style="margin-top: 1em">Here are the kinds of data
sources from which data is extracted:</p>

<p style="margin-top: 1em">STATUS_VARIABLES <br>
This is the broadest category, into which the most kinds of
data fall. It begins with the combination of SHOW STATUS and
SHOW VARIABLES, but other sources may be included as <br>
needed, for example, SHOW MASTER STATUS and SHOW SLAVE
STATUS, as well as many of the non-repeated values from SHOW
INNODB STATUS.</p>

<p style="margin-top: 1em">DEADLOCK_LOCKS <br>
This data is extracted from the transaction list in the
LATEST DETECTED DEADLOCK section of SHOW INNODB STATUS. It
is nested two levels deep: transactions, then locks.</p>

<p style="margin-top: 1em">DEADLOCK_TRANSACTIONS <br>
This data is from the transaction list in the LATEST
DETECTED DEADLOCK section of SHOW INNODB STATUS. It is
nested one level deep.</p>

<p style="margin-top: 1em">EXPLAIN <br>
This data is from the result set returned by EXPLAIN.</p>

<p style="margin-top: 1em">INNODB_TRANSACTIONS <br>
This data is from the TRANSACTIONS section of SHOW INNODB
STATUS.</p>

<p style="margin-top: 1em">IO_THREADS <br>
This data is from the list of threads in the the FILE I/O
section of SHOW INNODB STATUS.</p>

<p style="margin-top: 1em">INNODB_LOCKS <br>
This data is from the TRANSACTIONS section of SHOW INNODB
STATUS and is nested two levels deep.</p>

<p style="margin-top: 1em">OPEN_TABLES <br>
This data is from SHOW OPEN TABLES.</p>

<p style="margin-top: 1em">PROCESSLIST <br>
This data is from SHOW FULL PROCESSLIST.</p>

<p style="margin-top: 1em">OS_WAIT_ARRAY <br>
This data is from the SEMAPHORES section of SHOW INNODB
STATUS and is nested one level deep. It comes from the lines
that look like this:</p>

<p style="margin-top: 1em">--Thread 1568861104 has waited
at btr0cur.c line 424 ....</p>

<p style="margin-top: 1em">MYSQL PRIVILEGES <br>
&Acirc;&middot; You must connect to MySQL as a user who has
the SUPER privilege for many of the functions.</p>

<p style="margin-top: 1em">&Acirc;&middot; If you
don&rsquo;t have the SUPER privilege, you can still run some
functions, but you won&rsquo;t necessarily see all the same
data.</p>

<p style="margin-top: 1em">&Acirc;&middot; You need the
PROCESS privilege to see the list of currently running
queries in Q mode.</p>

<p style="margin-top: 1em">&Acirc;&middot; You need special
privileges to start and stop slave servers.</p>

<p style="margin-top: 1em">&Acirc;&middot; You need
appropriate privileges to create and drop the deadlock
tables if needed (see &quot;SERVER CONNECTIONS&quot;).</p>

<p style="margin-top: 1em">SYSTEM REQUIREMENTS <br>
You need Perl to run innotop, of course. You also need a few
Perl modules: DBI, DBD::mysql, Term::ReadKey, and
Time::HiRes. These should be included with most Perl <br>
distributions, but in case they are not, I recommend using
versions distributed with your operating system or Perl
distribution, not from CPAN. Term::ReadKey in particular has
<br>
been known to cause problems if installed from CPAN.</p>

<p style="margin-top: 1em">If you have Term::ANSIColor,
innotop will use it to format headers more readably and
compactly. (Under Microsoft Windows, you also need
Win32::Console::ANSI for terminal <br>
formatting codes to be honored). If you install
Term::ReadLine, preferably Term::ReadLine::Gnu, you&rsquo;ll
get nice auto-completion support.</p>

<p style="margin-top: 1em">I run innotop on Gentoo
GNU/Linux, Debian and Ubuntu, and I&rsquo;ve had feedback
from people successfully running it on Red Hat, CentOS,
Solaris, and Mac OSX. I don&rsquo;t see any reason <br>
why it won&rsquo;t work on other UNIX-ish operating systems,
but I don&rsquo;t know for sure. It also runs on Windows
under ActivePerl without problem.</p>

<p style="margin-top: 1em">innotop has been used on MySQL
versions 3.23.58, 4.0.27, 4.1.0, 4.1.22, 5.0.26, 5.1.15, and
5.2.3. If it doesn&rsquo;t run correctly for you, that is a
bug that should be reported.</p>

<p style="margin-top: 1em">FILES <br>
$HOMEDIR/.innotop and/or /etc/innotop are used to store
configuration information. Files include the configuration
file innotop.conf, the core_dump file which contains verbose
<br>
error messages if &quot;debug&quot; is enabled, and the
plugins/ subdirectory.</p>

<p style="margin-top: 1em">GLOSSARY OF TERMS <br>
tick <br>
A tick is a refresh event, when innotop re-fetches data from
connections and displays it.</p>

<p style="margin-top: 1em">ACKNOWLEDGEMENTS <br>
The following people and organizations are acknowledged for
various reasons. Hopefully no one has been forgotten.</p>

<p style="margin-top: 1em">Allen K. Smith, Aurimas
Mikalauskas, Bartosz Fenski, Brian Miezejewski, Christian
Hammers, Cyril Scetbon, Dane Miller, David Multer, Dr. Frank
Ullrich, Giuseppe Maxia, Google.com <br>
Site Reliability Engineers, Google Code, Jan Pieter Kunst,
Jari Aalto, Jay Pipes, Jeremy Zawodny, Johan Idren, Kristian
Kohntopp, Lenz Grimmer, Maciej Dobrzanski, Michiel Betel,
<br>
MySQL AB, Paul McCullagh, Sebastien Estienne,
Sourceforge.net, Steven Kreuzer, The Gentoo MySQL Team,
Trevor Price, Yaar Schnitman, and probably more people that
have not been <br>
included.</p>

<p style="margin-top: 1em">(If your name has been
misspelled, it&rsquo;s probably out of fear of putting
international characters into this documentation; earlier
versions of Perl might not be able to compile it <br>
then).</p>

<p style="margin-top: 1em">COPYRIGHT, LICENSE AND WARRANTY
<br>
This program is copyright (c) 2006 Baron Schwartz. Feedback
and improvements are welcome.</p>

<p style="margin-top: 1em">THIS PROGRAM IS PROVIDED
&quot;AS IS&quot; AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A <br>
PARTICULAR PURPOSE.</p>

<p style="margin-top: 1em">This program is free software;
you can redistribute it and/or modify it under the terms of
the GNU General Public License as published by the Free
Software Foundation, version 2; <br>
OR the Perl Artistic License. On UNIX and similar systems,
you can issue &lsquo;man perlgpl&rsquo; or &lsquo;man
perlartistic&rsquo; to read these licenses.</p>

<p style="margin-top: 1em">You should have received a copy
of the GNU General Public License along with this program;
if not, write to the Free Software Foundation, Inc., 59
Temple Place, Suite 330, <br>
Boston, MA 02111-1307 USA.</p>

<p style="margin-top: 1em">Execute innotop and press
&rsquo;!&rsquo; to see this information at any time.</p>

<p style="margin-top: 1em">AUTHOR <br>
Originally written by Baron Schwartz; currently maintained
by Aaron Racine.</p>

<p style="margin-top: 1em">BUGS <br>
You can report bugs, ask for improvements, and get other
help and support at
&lt;http://code.google.com/p/innotop/&gt;. There are mailing
lists, a source code browser, a bug tracker, <br>
etc. Please use these instead of contacting the maintainer
or author directly, as it makes our job easier and benefits
others if the discussions are permanent and public. Of <br>
course, if you need to contact us in private, please do.</p>

<p style="margin-top: 1em">perl v5.10.0 2009-03-09
INNOTOP(1)</p>
<hr>
</body>
</html>
