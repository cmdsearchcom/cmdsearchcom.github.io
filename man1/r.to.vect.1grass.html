<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.to.vect(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.to.vect(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.to.vect(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.to.vect</b> - Converts a raster map into a vector map.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, conversion, geometry, vectorization
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.to.vect</b>
<div>&#x00A0;</div>
<b>r.to.vect --help</b>
<div>&#x00A0;</div>
<b>r.to.vect</b> [-<b>svzbt</b>] <b>input</b>=<i>name</i>
  <b>output</b>=<i>name</i> <b>type</b>=<i>string</i>
  [<b>column</b>=<i>name</i>] [-- <b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Smooth corners of area features</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use raster values as categories instead of unique sequence (CELL only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Write raster values as z coordinate
    <div>&#x00A0;</div>
    Table is not created. Currently supported only for points.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not build vector topology
    <div>&#x00A0;</div>
    Recommended for massive point conversion</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not create attribute table</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output vector map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output feature type
    <div>&#x00A0;</div>
    Options: <i>point, line, area</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>column</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of attribute column to store value
    <div>&#x00A0;</div>
    Name must be SQL compliant
    <div>&#x00A0;</div>
    Default: <i>value</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.to.vect</i> scans the named <b>input</b> raster map layer, extracts points,
  lines or area edge features from it, converts data to GRASS vector format.
<h2 class="Ss" title="Ss" id="Point_conversion"><a class="selflink" href="#Point_conversion">Point
  conversion</a></h2>
The <i>r.to.vect</i> program extracts data from a GRASS raster map layer and
  stores output in a new GRASS <i>vector</i> file.
<h2 class="Ss" title="Ss" id="Line_conversion"><a class="selflink" href="#Line_conversion">Line
  conversion</a></h2>
<i>r.to.vect</i> assumes that the <i>input</i> map has been thinned using
  <i>r.thin</i>.
<div class="Pp"></div>
<i>r.to.vect</i> extracts vectors (aka, &quot;arcs&quot;) from a raster map.
  These arcs may represent linear features (like roads or streams), or may
  represent area edge features (like political boundaries, or soil mapping
  units).
<div class="Pp"></div>
<i>r.thin</i> and <i>r.to.vect</i> may create excessive nodes at every junction,
  and may create small spurs or &quot;dangling lines&quot; during the thinning
  and vectorization process. These excessive nodes and spurs may be removed
  using <i>v.clean</i>.
<h2 class="Ss" title="Ss" id="Area_conversion"><a class="selflink" href="#Area_conversion">Area
  conversion</a></h2>
<i>r.to.vect</i> first traces the perimeter of each unique area in the raster
  map layer and creates vector data to represent it. The cell category values
  for the raster map layer will be used to create attribute information for the
  resultant vector area edge data.
<div class="Pp"></div>
A true vector tracing of the area edges might appear blocky, since the vectors
  outline the edges of raster data that are stored in rectangular cells. To
  produce a better-looking vector map, <i>r.to.vect</i> smoothes the corners of
  the vector data as they are being extracted. At each change in direction
  (i.e., each corner), the two midpoints of the corner cell (half the
  cell&#x2019;s height and width) are taken, and the line segment connecting
  them is used to outline this corner in the resultant vector map. (The
  cell&#x2019;s cornermost node is ignored.) Because vectors are smoothed by
  this program, the resulting vector map will not be &quot;true&quot; to the
  raster map from which it was created. The user should check the resolution of
  the geographic region (and the original data) to estimate the possible error
  introduced by smoothing.
<div class="Pp"></div>
<i>r.to.vect</i> extracts only area edges from the named raster input file. If
  the raster map contains other data (i.e., line edges, or point data) the
  output may be wrong.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The examples are based on the North Carolina sample dataset:
<div class="Pp"></div>
<b>Conversion of raster points to vector points:</b>
<div class="Pp"></div>
Random sampling of points:
<div>&#x00A0;</div>
<pre>
g.region raster=elevation -p
# random sampling of points (note that r.random also writes vector points)
r.random elevation raster_output=elevrand1000 n=1000
r.to.vect input=elevrand1000 output=elevrand1000 type=point
# univariate statistics of sample points
v.univar elevrand1000 column=value type=point
# compare to univariate statistics on original full raster map
r.univar elevation
</pre>
<div class="Pp"></div>
<b>Conversion of raster lines to vector lines:</b>
<div class="Pp"></div>
Vectorization of streams in watershed basins map:
<div>&#x00A0;</div>
<pre>
g.region raster=elevation -p
r.watershed elev=elevation stream=elev.streams thresh=50000
r.to.vect -s input=elev.streams output=elev_streams type=line
# drop &quot;label&quot; column which is superfluous in this example
v.db.dropcolumn map=elev_streams column=label
v.db.renamecolumn map=elev_streams column=value,basin_id
# report length per basin ID
v.report map=elev_streams option=length units=meters sort=asc
</pre>
<div class="Pp"></div>
<b>Conversion of raster polygons to vector polygons:</b>
<div class="Pp"></div>
Vectorization of simplified landuse class map:
<div>&#x00A0;</div>
<pre>
g.region raster=landclass96 -p
# we smooth corners of area features
r.to.vect -s input=landclass96 output=my_landclass96 type=area
v.colors my_landclass96 color=random
</pre>
<h1 class="Sh" title="Sh" id="KNOWN_ISSUES"><a class="selflink" href="#KNOWN_ISSUES">KNOWN
  ISSUES</a></h1>
For type=line the input raster map MUST be thinned by <i>r.thin</i>; if not,
  <i>r.to.vect</i> may crash.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>g.region,</i> <i>r.thin,</i> <i>v.clean</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>Point support</b>
<div>&#x00A0;</div>
Bill Brown
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<b>Line support</b>
<div>&#x00A0;</div>
Mike Baba
<div>&#x00A0;</div>
DBA Systems, Inc.
<div>&#x00A0;</div>
10560 Arrowhead Drive
<div>&#x00A0;</div>
Fairfax, Virginia 22030
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<b>Area support</b>
<div>&#x00A0;</div>
<i>Original</i> version of <i>r.poly</i>:
<div>&#x00A0;</div>
Jean Ezell and Andrew Heekin,
<div>&#x00A0;</div>
U.S. Army Construction Engineering Research Laboratory
<div class="Pp"></div>
<i>Modified</i> program for smoothed lines:
<div>&#x00A0;</div>
David Satnik, Central Washington University
<div>&#x00A0;</div>
Updated 2001 by Andrea Aime, Modena, Italy
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<b>Update</b>
<div>&#x00A0;</div>
Original r.to.sites, r.line and r.poly merged and updated to 5.7 by Radim Blazek
<div class="Pp"></div>
<i>Last changed: $Date: 2015-05-11 02:11:34 +0200 (Mon, 11 May 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.to.vect source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
