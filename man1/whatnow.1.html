<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>WHATNOW(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">WHATNOW(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">WHATNOW(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
whatnow - prompting front-end for sending messages
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>whatnow</b>
  [<b>-draftfolder</b> <i>+folder</i>] [<b>-draftmessage</b> <i>msg</i>]
  [<b>-nodraftfolder</b>] [<b>-editor</b> <i>editor</i>] [<b>-noedit</b>]
  [<b>-prompt</b> <i>string</i>] [<i>file</i>] [<b>-version</b>]
  [<b>-help</b>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Whatnow</b> is the default program that queries the user about the
  disposition of a composed draft. It is normally automatically invoked by one
  of the <b>nmh</b> commands <b>comp</b>, <b>dist</b>, <b>forw</b>, or
  <b>repl</b> after the initial edit.
<div class="Pp"></div>
When started, the editor is started on the draft (unless <b>-noedit</b> is
  given, in which case the initial edit is suppressed). Then, <b>whatnow</b>
  repetitively prompts the user with &#x201C;What now?&#x201D; and awaits a
  response. The valid responses are:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>edit</b></dt>
  <dd class="It-tag">re-edit using the same editor that was used on the
      preceding round unless a profile entry &#x201C;&lt;lasteditor&gt;-next:
      &lt;editor&gt;&#x201D; names an alternate editor</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>edit &lt;editor&gt;</b></dt>
  <dd class="It-tag">invoke &lt;editor&gt; for further editing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>refile +folder</b></dt>
  <dd class="It-tag">refile the draft into the given folder</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mime</b></dt>
  <dd class="It-tag">process the draft as MIME composition file using the
      <i>buildmimeproc</i> command (<b>mhbuild</b> by default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>display</b></dt>
  <dd class="It-tag">list the message being distributed/replied-to on the
      terminal</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list</b></dt>
  <dd class="It-tag">list the draft on the terminal</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>send</b></dt>
  <dd class="It-tag">send the message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>send -watch</b></dt>
  <dd class="It-tag">send the message and monitor the delivery process</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>push</b></dt>
  <dd class="It-tag">send the message in the background</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>whom</b></dt>
  <dd class="It-tag">list the addresses that the message will go to</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>whom -check</b></dt>
  <dd class="It-tag">list the addresses and verify that they are acceptable to
      the transport service</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quit</b></dt>
  <dd class="It-tag">preserve the draft and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quit -delete</b></dt>
  <dd class="It-tag">delete the draft and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete</b></dt>
  <dd class="It-tag">delete the draft and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cd directory</b></dt>
  <dd class="It-tag">use the directory when interpreting attachment file
    names</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pwd</b></dt>
  <dd class="It-tag">print the working directory for attachment files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ls [ls-options]</b></dt>
  <dd class="It-tag">list files in the attachment working directory using the ls
      command</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>attach [-v] files</b></dt>
  <dd class="It-tag">add the named files to the message as MIME attachments; -v
      displays the mhbuild directive that <i>send</i>(1) will use</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>alist [-ln]</b></dt>
  <dd class="It-tag">list the MIME attachments, either short, long [-l] or
      numbered [-n]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>detach [-n] files-or-numbers</b></dt>
  <dd class="It-tag">remove MIME attachments, either by file name or by number
      with -n</dd>
</dl>
</div>
<div class="Pp"></div>
When entering your response, you need only type enough characters to uniquely
  identify the response.
<div class="Pp"></div>
For the <b>edit</b> response, any valid switch to the editor is valid.
<div class="Pp"></div>
For the <b>send</b> and <b>push</b> responses, any valid switch to
  <i>send</i>(1) is valid (as <b>push</b> merely invokes <b>send</b> with the
  <b>-push</b> option).
<div class="Pp"></div>
For the <b>whom</b> response, any valid switch to <i>whom</i>(1) is valid.
<div class="Pp"></div>
For the <b>refile</b> response, any valid switch to the <i>fileproc</i> is
  valid.
<div class="Pp"></div>
For the <b>display</b> and <b>list</b> responses, any valid argument to the
  <i>lproc</i> is valid. If any non-switch arguments are present, then the
  pathname of the draft will be excluded from the argument list given to the
  <i>lproc</i> (this is useful for listing another <b>nmh</b> message).
<div class="Pp"></div>
See <i>mh-profile</i>(5) for further information about how editors are used by
  <b>nmh</b>. It also discusses how environment variables can be used to direct
  <b>whatnow</b>'s actions in complex ways.
<div class="Pp"></div>
The <b>-prompt</b> <i>string</i> switch sets the prompting string for
  <b>whatnow</b>.
<div class="Pp"></div>
The <b>-draftfolder</b> <i>+folder</i> and <b>-draftmessage</b> <i>msg</i>
  switches invoke the <b>nmh</b> draft folder facility. This is an advanced (and
  highly useful) feature. Consult the <i>mh-draft</i>(5) man page for more
  information.
<div class="Pp"></div>
If your <b>nmh</b> was configured with readline enabled, you'll be able to use
  filename completion and other readline features at the prompt. These are
  particularly useful with the <b>cd</b>, <b>ls</b>, <b>attach</b>, and
  <b>detach</b> commands for managing MIME attachments.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<pre>
^$HOME/.mh_profile~^The user profile
^&lt;mh-dir&gt;/draft~^The draft file
</pre>
<h1 class="Sh" title="Sh" id="PROFILE_COMPONENTS"><a class="selflink" href="#PROFILE_COMPONENTS">PROFILE
  COMPONENTS</a></h1>
<pre>
^Path:~^To determine the user's nmh directory
^Draft-Folder:~^To find the default draft-folder
^Editor:~^To override the default editor
^&lt;lasteditor&gt;-next:~^To name an editor to be used after exit
^~^from &lt;lasteditor&gt;
^buildmimeproc:~^Program to translate MIME composition files
^fileproc:~^Program to refile the message
^lproc:~^Program to list the contents of a message
^sendproc:~^Program to use to send the message
^whomproc:~^Program to determine who a message would go to
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>send</i>(1), <i>whom</i>(1)
<h1 class="Sh" title="Sh" id="DEFAULTS"><a class="selflink" href="#DEFAULTS">DEFAULTS</a></h1>
<pre>
`<b>-prompt</b>' defaults to &#x201C;What&#x00A0;Now?&#x00A0;&#x201D;
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
If the initial edit fails, <b>whatnow</b> deletes your draft (by renaming it
  with a site-dependent prefix (usually a comma); failure of a later edit
  preserves the draft.
<div class="Pp"></div>
If the <i>buildmimeproc</i> fails (returns a nonzero status), <b>whatnow</b>
  simply prints a &#x201C;What now?&#x201D; prompt. <b>whatnow</b> depends on
  the <i>buildmimeproc</i> to tell the user that something went wrong.
<div class="Pp"></div>
If <i>whatnowproc</i> is <b>whatnow</b>, then <b>comp</b>, <b>dist</b>,
  <b>forw</b>, and <b>repl</b> use a built-in <b>whatnow</b>, and do not
  actually run the <b>whatnow</b> program. Hence, if you define your own
  <i>whatnowproc</i>, don't call it <b>whatnow</b> since it won't be run.
<div class="Pp"></div>
If <i>sendproc</i> is <b>send</b>, then <b>whatnow</b> uses a built-in
  <b>send</b>, it does not actually run the <b>send</b> program. Hence, if you
  define your own <i>sendproc</i>, don't call it <b>send</b> since
  <b>whatnow</b> won't run it.</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 17, 2014</td>
    <td class="foot-os">nmh-1.6</td>
  </tr>
</table>
</body>
</html>
