<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:48 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NASM(1) The Netwide Assembler Project NASM(1)</p>

<p style="margin-top: 1em">NAME <br>
nasm - the Netwide Assembler, a portable 80x86 assembler</p>

<p style="margin-top: 1em">SYNOPSIS <br>
nasm [-@ response file] [-f format] [-o outfile] [-l
listfile] [options...] filename</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The nasm command assembles the file filename and directs
output to the file outfile if specified. If outfile is not
specified, nasm will derive a default output file name from
<br>
the name of its input file, usually by appending
&acirc;.o&acirc; or &acirc;.obj&acirc;, or by removing all
extensions for a raw binary file. Failing that, the output
file name will be &acirc;nasm.out&acirc;.</p>

<p style="margin-top: 1em">OPTIONS <br>
-@ filename <br>
Causes nasm to process options from filename as if they were
included on the command line.</p>

<p style="margin-top: 1em">-a <br>
Causes nasm to assemble the given input file without first
applying the macro preprocessor.</p>

<p style="margin-top: 1em">-D|-d macro[=value] <br>
Pre-defines a single-line macro.</p>

<p style="margin-top: 1em">-E|-e <br>
Causes nasm to preprocess the given input file, and write
the output to stdout (or the specified output file name),
and not actually assemble anything.</p>

<p style="margin-top: 1em">-f format <br>
Specifies the output file format. To see a list of valid
output formats, use the -hf option.</p>

<p style="margin-top: 1em">-F format <br>
Specifies the debug information format. To see a list of
valid output formats, use the -y option (for example -felf
-y).</p>

<p style="margin-top: 1em">-g <br>
Causes nasm to generate debug information in selected
format.</p>

<p style="margin-top: 1em">-h <br>
Causes nasm to exit immediately, after giving a summary of
its invocation options.</p>

<p style="margin-top: 1em">-hf <br>
Same as -h , but also lists all valid output formats.</p>

<p style="margin-top: 1em">-I|-i directory <br>
Adds a directory to the search path for include files. The
directory specification must include the trailing slash, as
it will be directly prepended to the name of the <br>
include file.</p>

<p style="margin-top: 1em">-l listfile <br>
Causes an assembly listing to be directed to the given file,
in which the original source is displayed on the right hand
side (plus the source for included files and the <br>
expansions of multi-line macros) and the generated code is
shown in hex on the left.</p>

<p style="margin-top: 1em">-M <br>
Causes nasm to output Makefile-style dependencies to stdout;
normal output is suppressed.</p>

<p style="margin-top: 1em">-MG file <br>
Same as -M but assumes that missing Makefile dependecies are
generated and added to dependency list without a prefix.</p>

<p style="margin-top: 1em">-MF file <br>
Output Makefile-style dependencies to the specified
file.</p>

<p style="margin-top: 1em">-MD file <br>
Same as a combination of -M and -MF options.</p>

<p style="margin-top: 1em">-MT file <br>
Override the default name of the dependency target
dependency target name. This is normally the same as the
output filename, specified by the -o option.</p>

<p style="margin-top: 1em">-MQ file <br>
The same as -MT except it tries to quote characters that
have special meaning in Makefile syntax. This is not
foolproof, as not all characters with special meaning are
<br>
quotable in Make.</p>

<p style="margin-top: 1em">-MP <br>
Emit phony target.</p>

<p style="margin-top: 1em">-O number <br>
Optimize branch offsets.</p>

<p style="margin-top: 1em">&Acirc;&middot; -O0: No
optimization</p>

<p style="margin-top: 1em">&Acirc;&middot; -O1: Minimal
optimization</p>

<p style="margin-top: 1em">&Acirc;&middot; -Ox: Multipass
optimization (default)</p>

<p style="margin-top: 1em">-o outfile <br>
Specifies a precise name for the output file, overriding
nasm&rsquo;s default means of determining it.</p>

<p style="margin-top: 1em">-P|-p file <br>
Specifies a file to be pre-included, before the main source
file starts to be processed.</p>

<p style="margin-top: 1em">-s <br>
Causes nasm to send its error messages and/or help text to
stdout instead of stderr.</p>

<p style="margin-top: 1em">-t <br>
Causes nasm to assemble in SciTech TASM compatible mode.</p>

<p style="margin-top: 1em">-U|-u macro <br>
Undefines a single-line macro.</p>

<p style="margin-top: 1em">-v <br>
Causes nasm to exit immediately, after displaying its
version number.</p>

<p style="margin-top: 1em">*-W[no-]foo&rsquo; <br>
Causes nasm to enable or disable certain classes of warning
messages, in gcc-like style, for example -Worphan-labels or
-Wno-orphan-labels.</p>

<p style="margin-top: 1em">-w[+-]foo <br>
Causes nasm to enable or disable certain classes of warning
messages, for example -w+orphan-labels or
-w-macro-params.</p>

<p style="margin-top: 1em">-X format <br>
Specifies error reporting format (gnu or vc).</p>

<p style="margin-top: 1em">-y <br>
Causes nasm to list supported debug formats.</p>

<p style="margin-top: 1em">-Z filename <br>
Causes nasm to redirect error messages to filename. This
option exists to support operating systems on which stderr
is not easily redirected.</p>

<p style="margin-top: 1em">--prefix, --postfix <br>
Prepend or append (respectively) the given argument to all
global or extern variables.</p>

<p style="margin-top: 1em">SYNTAX <br>
This man page does not fully describe the syntax of
nasm&rsquo;s assembly language, but does give a summary of
the differences from other assemblers.</p>

<p style="margin-top: 1em">Registers have no leading
&acirc;%&acirc; sign, unlike gas, and floating-point stack
registers are referred to as st0, st1, and so on.</p>

<p style="margin-top: 1em">Floating-point instructions may
use either the single-operand form or the double. A TO
keyword is provided; thus, one could either write</p>

<p style="margin-top: 1em">fadd st0,st1 <br>
fadd st1,st0</p>

<p style="margin-top: 1em">or one could use the alternative
single-operand forms</p>

<p style="margin-top: 1em">fadd st1 <br>
fadd to st1</p>

<p style="margin-top: 1em">Uninitialised storage is
reserved using the RESB, RESW, RESD, RESQ, REST and RESO
pseudo-opcodes, each taking one parameter which gives the
number of bytes, words, doublewords, <br>
quadwords or ten-byte words to reserve.</p>

<p style="margin-top: 1em">Repetition of data items is not
done by the DUP keyword as seen in DOS assemblers, but by
the use of the TIMES prefix, like this:</p>

<p style="margin-top: 1em">message: times 3 db
&rsquo;abc&rsquo; <br>
times 64-$+message db 0</p>

<p style="margin-top: 1em">which defines the string
abcabcabc, followed by the right number of zero bytes to
make the total length up to 64 bytes.</p>

<p style="margin-top: 1em">Symbol references are always
understood to be immediate (i.e. the address of the symbol),
unless square brackets are used, in which case the contents
of the memory location are <br>
used. Thus:</p>

<p style="margin-top: 1em">mov ax,wordvar</p>

<p style="margin-top: 1em">loads AX with the address of the
variable wordvar, whereas</p>

<p style="margin-top: 1em">mov ax,[wordvar] <br>
mov ax,[wordvar+1] <br>
mov ax,[es:wordvar+bx]</p>

<p style="margin-top: 1em">all refer to the contents of
memory locations. The syntaxes</p>

<p style="margin-top: 1em">mov ax,es:wordvar[bx] <br>
es mov ax,wordvar[1]</p>

<p style="margin-top: 1em">are not legal at all, although
the use of a segment register name as an instruction prefix
is valid, and can be used with instructions such as LODSB
which can&acirc;t be overridden any <br>
other way.</p>

<p style="margin-top: 1em">Constants may be expressed
numerically in most formats: a trailing H, Q or B denotes
hex, octal or binary respectively, and a leading
&acirc;0x&acirc; or &acirc;$&acirc; denotes hex as well.
Leading <br>
zeros are not treated specially at all. Character constants
may be enclosed in single or double quotes; there is no
escape character. The ordering is little-endian (reversed),
so <br>
that the character constant &rsquo;abcd&rsquo; denotes
0x64636261 and not 0x61626364.</p>

<p style="margin-top: 1em">Local labels begin with a
period, and their &acirc;locality&acirc; is granted by the
assembler prepending the name of the previous non-local
symbol. Thus declaring a label &acirc;.loop&acirc; after a
<br>
label &acirc;label&acirc; has actually defined a symbol
called &acirc;label.loop&acirc;.</p>

<p style="margin-top: 1em">DIRECTIVES <br>
SECTION name or SEGMENT name causes nasm to direct all
following code to the named section. Section names vary with
output file format, although most formats support the names
<br>
.text, .data and .bss. (The exception is the obj format, in
which all segments are user-definable.)</p>

<p style="margin-top: 1em">ABSOLUTE address causes nasm to
position its notional assembly point at an absolute address:
so no code or data may be generated, but you can use RESB,
RESW and RESD to move the <br>
assembly point further on, and you can define labels. So
this directive may be used to define data structures. When
you have finished doing absolute assembly, you must issue
<br>
another SECTION directive to return to normal assembly.</p>

<p style="margin-top: 1em">BITS 16, BITS 32 or BITS 64
switches the default processor mode for which nasm is
generating code: it is equivalent to USE16 or USE32 in DOS
assemblers.</p>

<p style="margin-top: 1em">EXTERN symbol and GLOBAL symbol
import and export symbol definitions, respectively, from and
to other modules. Note that the GLOBAL directive must appear
before the definition of <br>
the symbol it refers to.</p>

<p style="margin-top: 1em">STRUC strucname and ENDSTRUC,
when used to bracket a number of RESB, RESW or similar
instructions, define a data structure. In addition to
defining the offsets of the structure <br>
members, the construct also defines a symbol for the size of
the structure, which is simply the structure name with size
tacked on to the end.</p>

<p style="margin-top: 1em">FORMAT-SPECIFIC DIRECTIVES <br>
ORG address is used by the bin flat-form binary output
format, and specifies the address at which the output code
will eventually be loaded.</p>

<p style="margin-top: 1em">GROUP grpname seg1 seg2... is
used by the obj (Microsoft 16-bit) output format, and
defines segment groups. This format also uses UPPERCASE,
which directs that all segment, group <br>
and symbol names output to the object file should be in
uppercase. Note that the actual assembly is still case
sensitive.</p>

<p style="margin-top: 1em">LIBRARY libname is used by the
rdf output format, and causes a dependency record to be
written to the output file which indicates that the program
requires a certain library in <br>
order to run.</p>

<p style="margin-top: 1em">MACRO PREPROCESSOR <br>
Single-line macros are defined using the %define or %idefine
commands, in a similar fashion to the C preprocessor. They
can be overloaded with respect to number of parameters, <br>
although defining a macro with no parameters prevents the
definition of any macro with the same name taking
parameters, and vice versa. %define defines macros whose
names match <br>
case-sensitively, whereas %idefine defines case-insensitive
macros.</p>

<p style="margin-top: 1em">Multi-line macros are defined
using %macro and %imacro (the distinction is the same as
that between %define and %idefine), whose syntax is as
follows</p>

<p style="margin-top: 1em">%macro name
minprm[-maxprm][+][.nolist] [defaults] <br>
&lt;some lines of macro expansion text&gt; <br>
%endmacro</p>

<p style="margin-top: 1em">Again, these macros may be
overloaded. The trailing plus sign indicates that any
parameters after the last one get subsumed, with their
separating commas, into the last <br>
parameter. The defaults part can be used to specify defaults
for unspecified macro parameters after minparam. %endm is a
valid synonym for %endmacro.</p>

<p style="margin-top: 1em">To refer to the macro parameters
within a macro expansion, you use %1, %2 and so on. You can
also enforce that a macro parameter should contain a
condition code by using %+1, and <br>
you can invert the condition code by using %-1. You can also
define a label specific to a macro invocation by prefixing
it with a double &acirc;%&acirc; sign.</p>

<p style="margin-top: 1em">Files can be included using the
%include directive, which works like C.</p>

<p style="margin-top: 1em">The preprocessor has a
&acirc;context stack&acirc;, which may be used by one macro
to store information that a later one will retrieve. You can
push a context on the stack using %push, <br>
remove one using %pop, and change the name of the top
context (without disturbing any associated definitions)
using %repl. Labels and %define macros specific to the top
context <br>
may be defined by prefixing their names with %$, and things
specific to the next context down with %$$, and so on.</p>

<p style="margin-top: 1em">Conditional assembly is done by
means of %ifdef, %ifndef, %else and %endif as in C. (Except
that %ifdef can accept several putative macro names, and
will evaluate TRUE if any of <br>
them is defined.) In addition, the directives %ifctx and
%ifnctx can be used to condition on the name of the top
context on the context stack. The obvious set of
&acirc;else-if&acirc; <br>
directives, %elifdef, %elifndef, %elifctx and %elifnctx are
also supported.</p>

<p style="margin-top: 1em">BUGS <br>
Please report bugs through the bug tracker function at
http://nasm.us.</p>

<p style="margin-top: 1em">SEE ALSO <br>
as(1), ld(1).</p>

<p style="margin-top: 1em">NASM 06/09/2014 NASM(1)</p>
<hr>
</body>
</html>
