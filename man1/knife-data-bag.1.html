<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:20:43 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KNIFE-DATA-BAG(1) knife data bag KNIFE-DATA-BAG(1)</p>

<p style="margin-top: 1em">NAME <br>
knife-data-bag - The man page for the knife data bag
subcommand.</p>

<p style="margin-top: 1em">A data bag is a global variable
that is stored as JSON data and is accessible from a Chef
server. A data bag is indexed for searching and can be
loaded by a recipe or accessed <br>
during a search.</p>

<p style="margin-top: 1em">A data bag item may be encrypted
using shared secret encryption. This allows each data bag
item to store confidential information (such as a database
password) or to be managed <br>
in a source control system (without plain-text data
appearing in revision history). Each data bag item may be
encrypted individually; if a data bag contains multiple
encrypted <br>
data bag items, these data bag items are not required to
share the same encryption keys.</p>

<p style="margin-top: 1em">The knife data bag subcommand is
used to manage arbitrary stores of globally available JSON
data.</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
The following options may be used with any of the arguments
available to the knife data bag subcommand:</p>

<p style="margin-top: 1em">--chef-zero-port PORT <br>
The port on which chef-zero will listen.</p>

<p style="margin-top: 1em">-c CONFIG_FILE, --config
CONFIG_FILE <br>
The configuration file to use.</p>

<p style="margin-top: 1em">-d, --disable-editing <br>
Use to prevent the $EDITOR from being opened and to accept
data as-is.</p>

<p style="margin-top: 1em">--defaults <br>
Use to have knife use the default value instead of asking a
user to provide one.</p>

<p style="margin-top: 1em">-e EDITOR, --editor EDITOR <br>
The $EDITOR that is used for all interactive commands.</p>

<p style="margin-top: 1em">-E ENVIRONMENT, --environment
ENVIRONMENT <br>
The name of the environment. When this option is added to a
command, the command will run only against the named
environment.</p>

<p style="margin-top: 1em">-F FORMAT, --format FORMAT <br>
The output format: summary (default), text, json, yaml, and
pp.</p>

<p style="margin-top: 1em">-h, --help <br>
Shows help for the command.</p>

<p style="margin-top: 1em">-k KEY, --key KEY <br>
The private key that knife will use to sign requests made by
the API client to the Chef server.</p>

<p style="margin-top: 1em">--[no-]color <br>
Use to view colored output.</p>

<p style="margin-top: 1em">--print-after <br>
Use to show data after a destructive operation.</p>

<p style="margin-top: 1em">-s URL, --server-url URL <br>
The URL for the Chef server.</p>

<p style="margin-top: 1em">-u USER, --user USER <br>
The user name used by knife to sign requests made by the API
client to the Chef server. Authentication will fail if the
user name does not match the private key.</p>

<p style="margin-top: 1em">-V, --verbose <br>
Set for more verbose outputs. Use -VV for maximum
verbosity.</p>

<p style="margin-top: 1em">-v, --version <br>
The version of the chef-client.</p>

<p style="margin-top: 1em">-y, --yes <br>
Use to respond to all confirmation prompts with
&quot;Yes&quot;. knife will not ask for confirmation.</p>

<p style="margin-top: 1em">-z, --local-mode <br>
Use to run the chef-client in local mode. This allows all
commands that work against the Chef server to also work
against the local chef-repo.</p>

<p style="margin-top: 1em">CREATE <br>
The create argument is used to add a data bag to the Chef
server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife data bag create
DATA_BAG_NAME [DATA_BAG_ITEM] (options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">DATA_BAG_ITEM <br>
The name of a specific item within a data bag.</p>

<p style="margin-top: 1em">--secret SECRET <br>
The encryption key that is used for values contained within
a data bag item. If secret is not specified, the chef-client
will look for a secret at the path specified by <br>
the encrypted_data_bag_secret setting in the client.rb
file.</p>

<p style="margin-top: 1em">--secret-file FILE <br>
The path to the file that contains the encryption key.</p>

<p style="margin-top: 1em">NOTE: <br>
For encrypted data bag items, use either --secret or
--secret-file, not both.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To create a data bag named
&quot;admins&quot;, enter:</p>

<p style="margin-top: 1em">$ knife data bag create
admins</p>

<p style="margin-top: 1em">to return:</p>

<p style="margin-top: 1em">Created data_bag[admins]</p>

<p style="margin-top: 1em">DELETE <br>
The delete argument is used to delete a data bag or a data
bag item from a Chef server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife data bag delete
DATA_BAG_NAME [DATA_BAG_ITEM] (options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">DATA_BAG_ITEM <br>
The name of a specific item within a data bag.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">$ knife data bag delete
data_bag_name</p>

<p style="margin-top: 1em">To delete an item named
&quot;charlie&quot;, enter:</p>

<p style="margin-top: 1em">$ knife data bag delete admins
charlie</p>

<p style="margin-top: 1em">Type Y to confirm a
deletion.</p>

<p style="margin-top: 1em">EDIT <br>
The edit argument is used to edit the data contained in a
data bag. If encryption is being used, the data bag will be
decrypted, the data will be made available in the $EDITOR,
<br>
and then encrypted again before saving it to the Chef
server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife data bag edit
DATA_BAG_NAME [DATA_BAG_ITEM] (options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">DATA_BAG_ITEM <br>
The name of a specific item within a data bag.</p>

<p style="margin-top: 1em">--secret SECRET <br>
The encryption key that is used for values contained within
a data bag item. If secret is not specified, the chef-client
will look for a secret at the path specified by <br>
the encrypted_data_bag_secret setting in the client.rb
file.</p>

<p style="margin-top: 1em">--secret-file FILE <br>
The path to the file that contains the encryption key.</p>

<p style="margin-top: 1em">NOTE: <br>
For encrypted data bag items, use either --secret or
--secret-file, not both.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To edit the contents of a data
bag, enter:</p>

<p style="margin-top: 1em">$ knife data bag edit dogs
tibetanspaniel</p>

<p style="margin-top: 1em">where dogs is the name of the
data bag and tibetanspaniel is the name of the data bag
item. This will return something similar to the following in
the knife editor:</p>

<p style="margin-top: 1em">{ <br>

&quot;name&quot;:&quot;data_bag_item_dogs_tibetanspaniel&quot;,
<br>
&quot;json_class&quot;:&quot;Chef::DataBagItem&quot;, <br>
&quot;chef_type&quot;:&quot;data_bag_item&quot;, <br>
&quot;data_bag&quot;:&quot;dogs&quot;, <br>
&quot;raw_data&quot;: <br>
{ <br>
&quot;description&quot;:&quot;small dog that likes to sit in
windows&quot;, <br>
&quot;id&quot;:&quot;tibetanspaniel&quot; <br>
} <br>
}</p>

<p style="margin-top: 1em">Make the necessary changes to
the key-value pairs under raw_data and save them.</p>

<p style="margin-top: 1em">To edit an item named
&quot;charlie&quot; that is contained in a data bag named
&quot;admins&quot;, enter:</p>

<p style="margin-top: 1em">$ knife data bag edit admins
charlie</p>

<p style="margin-top: 1em">to open the $EDITOR. Once
opened, you can update the data before saving it to the Chef
server. For example, by changing:</p>

<p style="margin-top: 1em">{ <br>
&quot;id&quot;: &quot;charlie&quot; <br>
}</p>

<p style="margin-top: 1em">to:</p>

<p style="margin-top: 1em">{ <br>
&quot;id&quot;: &quot;charlie&quot;, <br>
&quot;uid&quot;: 1005, <br>
&quot;gid&quot;: &quot;ops&quot;, <br>
&quot;shell&quot;: &quot;/bin/zsh&quot;, <br>
&quot;comment&quot;: &quot;Crazy Charlie&quot; <br>
}</p>

<p style="margin-top: 1em">FROM FILE <br>
The from file argument is used to:</p>

<p style="margin-top: 1em">&Acirc;&middot; Add a data bag
item to a data bag</p>

<p style="margin-top: 1em">&Acirc;&middot; Update the
contents of an existing data bag item</p>

<p style="margin-top: 1em">The data bag itself must already
exist on the Chef server and must be specified as part of
the command. The contents of the data bag item are specified
using a JSON file. This <br>
JSON file may be located at a relative or absolute path; its
location must be specified as part of the command. The JSON
file that defines the contents of the data bag item must
<br>
at least contain the name of the data bag
item---&quot;id&quot;: &quot;name&quot;.</p>

<p style="margin-top: 1em">WARNING: <br>
A chef-client must be version 11.6 (or higher) when using
the knife data bag from file argument with the Enterprise
Chef or Open Source Chef version 11 servers.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife data bag from file
DATA_BAG_NAME_or_PATH</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">-a, --all <br>
Use to upload all data bags found at the specified path.</p>

<p style="margin-top: 1em">--secret SECRET <br>
The encryption key that is used for values contained within
a data bag item. If secret is not specified, the chef-client
will look for a secret at the path specified by <br>
the encrypted_data_bag_secret setting in the client.rb
file.</p>

<p style="margin-top: 1em">--secret-file FILE <br>
The path to the file that contains the encryption key.</p>

<p style="margin-top: 1em">NOTE: <br>
For encrypted data bag items, use either --secret or
--secret-file, not both.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To create a data bag on the Chef
server from a file:</p>

<p style="margin-top: 1em">$ knife data bag from file
&quot;path to JSON file&quot;</p>

<p style="margin-top: 1em">To create a data bag named
&quot;devops_data&quot; that contains encrypted data,
enter:</p>

<p style="margin-top: 1em">$ knife data bag from file
devops_data --secret-file &quot;path to decryption
file&quot;</p>

<p style="margin-top: 1em">LIST <br>
The list argument is used to view a list of data bags that
are currently available on the Chef server.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife data bag list</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">-w, --with-uri <br>
Use to show the corresponding URIs.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">$ knife data bag list</p>

<p style="margin-top: 1em">SHOW <br>
The show argument is used to view the contents of a data
bag.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This argument has the following
syntax:</p>

<p style="margin-top: 1em">$ knife data bag show
DATA_BAG_NAME (options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This argument has the following
options:</p>

<p style="margin-top: 1em">DATA_BAG_ITEM <br>
The name of a specific item within a data bag.</p>

<p style="margin-top: 1em">--secret SECRET <br>
The encryption key that is used for values contained within
a data bag item. If secret is not specified, the chef-client
will look for a secret at the path specified by <br>
the encrypted_data_bag_secret setting in the client.rb
file.</p>

<p style="margin-top: 1em">--secret-file FILE <br>
The path to the file that contains the encryption key.</p>

<p style="margin-top: 1em">NOTE: <br>
For encrypted data bag items, use either --secret or
--secret-file, not both.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">$ knife data bag show admins</p>

<p style="margin-top: 1em">to return something like:</p>

<p style="margin-top: 1em">charlie</p>

<p style="margin-top: 1em">To show the contents of a
specific item within data bag, enter:</p>

<p style="margin-top: 1em">$ knife data bag show admins
charlie</p>

<p style="margin-top: 1em">to return:</p>

<p style="margin-top: 1em">comment: Crazy Charlie <br>
gid: ops <br>
id: charlie <br>
shell: /bin/zsh <br>
uid: 1005</p>

<p style="margin-top: 1em">To show the contents of a data
bag named passwords with an item that contains encrypted
data named mysql, enter:</p>

<p style="margin-top: 1em">$ knife data bag show passwords
mysql</p>

<p style="margin-top: 1em">to return:</p>

<p style="margin-top: 1em">## sample: <br>
{ <br>
&quot;id&quot;: &quot;mysql&quot;, <br>
&quot;pass&quot;:
&quot;trywgFA6R70NO28PNhMpGhEvKBZuxouemnbnAUQsUyo=0, <br>
&quot;user&quot;: &quot;e/p+8WJYVHY9fHcEgAAReg==0 <br>
}</p>

<p style="margin-top: 1em">To show the decrypted contents
of the same data bag, enter:</p>

<p style="margin-top: 1em">$ knife data bag show
--secret-file /path/to/decryption/file passwords mysql</p>

<p style="margin-top: 1em">to return:</p>

<p style="margin-top: 1em">## sample: <br>
{ <br>
&quot;id&quot;: &quot;mysql&quot;, <br>
&quot;pass&quot;: &quot;thesecret123&quot;, <br>
&quot;user&quot;: &quot;fred&quot; <br>
}</p>

<p style="margin-top: 1em">To view information in JSON
format, use the -F common option as part of the command like
this:</p>

<p style="margin-top: 1em">$ knife data bag show admins -F
json</p>

<p style="margin-top: 1em">Other formats available include
text, yaml, and pp.</p>

<p style="margin-top: 1em">AUTHOR <br>
Chef</p>

<p style="margin-top: 1em">Chef 12.0 KNIFE-DATA-BAG(1)</p>
<hr>
</body>
</html>
