<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:23:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MAILX(1) User Commands MAILX(1)</p>

<p style="margin-top: 1em">NAME <br>
mailx - send and receive Internet mail</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mailx [-BDdEFintv~] [-s subject] [-a attachment ] [-c
cc-addr] [-b bcc-addr] [-r from-addr] [-h hops] [-A account]
[-S variable[=value]] to-addr . . . <br>
mailx [-BDdeEHiInNRv~] [-T name] [-A account] [-S
variable[=value]] -f [name] <br>
mailx [-BDdeEinNRv~] [-A account] [-S variable[=value]] [-u
user]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Mailx is an intelligent mail processing system, which has a
command syntax reminiscent of ed(1) with lines replaced by
messages. It is based on Berkeley Mail 8.1, is intended to
<br>
provide the functionality of the POSIX mailx command, and
offers extensions for MIME, IMAP, POP3, SMTP, and S/MIME.
Mailx provides enhanced features for interactive use, such
as <br>
caching and disconnected operation for IMAP, message
threading, scoring, and filtering. It is also usable as a
mail batch language, both for sending and receiving
mail.</p>

<p style="margin-top: 1em">The following options are
accepted:</p>

<p style="margin-top: 1em">-A name <br>
Executes an account command (see below) for name after the
startup files have been read.</p>

<p style="margin-top: 1em">-a file <br>
Attach the given file to the message.</p>

<p style="margin-top: 1em">-B Make standard input and
standard output line-buffered.</p>

<p style="margin-top: 1em">-b address <br>
Send blind carbon copies to list. List should be a
comma-separated list of names.</p>

<p style="margin-top: 1em">-c address <br>
Send carbon copies to list of users.</p>

<p style="margin-top: 1em">-D Start in disconnected mode;
see the description for the disconnected variable
option.</p>

<p style="margin-top: 1em">-d Enables debugging messages
and disables the actual delivery of messages. Unlike -v,
this option is intended for mailx development only.</p>

<p style="margin-top: 1em">-e Just check if mail is present
in the system mailbox. If yes, return an exit status of
zero, else, a non-zero value.</p>

<p style="margin-top: 1em">-E If an outgoing message does
not contain any text in its first or only message part, do
not send it but discard it silently, effectively setting the
skipemptybody variable <br>
at program startup. This is useful for sending messages from
scripts started by cron(8).</p>

<p style="margin-top: 1em">-f [file] <br>
Read in the contents of the user&rsquo;s mbox (or the
specified file) for processing; when mailx is quit, it
writes undeleted messages back to this file. The string file
is <br>
handled as described for the folder command below.</p>

<p style="margin-top: 1em">-F Save the message to send in a
file named after the local part of the first
recipient&rsquo;s address.</p>

<p style="margin-top: 1em">-H Print header summaries for
all messages and exit.</p>

<p style="margin-top: 1em">-h hops <br>
Invoke sendmail with the specified hop count. This option
has no effect when SMTP is used for sending mail.</p>

<p style="margin-top: 1em">-i Ignore tty interrupt signals.
This is particularly useful when using mailx on noisy phone
lines.</p>

<p style="margin-top: 1em">-I Shows the
&lsquo;Newsgroup:&rsquo; or &lsquo;Article-Id:&rsquo; fields
in the header summary. Only applicable in combination with
-f.</p>

<p style="margin-top: 1em">-n Inhibits reading /etc/mail.rc
upon startup. This option should be activated for mailx
scripts that are invoked on more than one machine, because
the contents of that file <br>
may differ between them.</p>

<p style="margin-top: 1em">-N Inhibits the initial display
of message headers when reading mail or editing a mail
folder.</p>

<p style="margin-top: 1em">-q file <br>
Start the message with the contents of the specified file.
May be given in send mode only.</p>

<p style="margin-top: 1em">-r address <br>
Sets the From address. Overrides any from variable specified
in environment or startup files. Tilde escapes are disabled.
The -r address options are passed to the mail <br>
transfer agent unless SMTP is used. This option exists for
compatibility only; it is recommended to set the from
variable directly instead.</p>

<p style="margin-top: 1em">-R Opens any folders
read-only.</p>

<p style="margin-top: 1em">-s subject <br>
Specify subject on command line (only the first argument
after the -s flag is used as a subject; be careful to quote
subjects containing spaces).</p>

<p style="margin-top: 1em">-S variable[=value] <br>
Sets the internal option variable and, in case of a string
option, assigns value to it.</p>

<p style="margin-top: 1em">-T name <br>
Writes the &lsquo;Message-Id:&rsquo; and
&lsquo;Article-Id:&rsquo; header fields of each message read
in the file name. Implies -I. Compressed files are handled
as described for the folder com&acirc; <br>
mand below.</p>

<p style="margin-top: 1em">-t The message to be sent is
expected to contain a message header with &lsquo;To:&rsquo;,
&lsquo;Cc:&rsquo;, or &lsquo;Bcc:&rsquo; fields giving its
recipients. Recipients specified on the command line are
<br>
ignored.</p>

<p style="margin-top: 1em">-u user <br>
Reads the mailbox of the given user name.</p>

<p style="margin-top: 1em">-v Verbose mode. The details of
delivery are displayed on the user&rsquo;s terminal.</p>

<p style="margin-top: 1em">-V Print mailx&rsquo;s version
and exit.</p>

<p style="margin-top: 1em">-~ Enable tilde escapes even if
not in interactive mode.</p>

<p style="margin-top: 1em">Sending mail <br>
To send a message to one or more people, mailx can be
invoked with arguments which are the names of people to whom
the mail will be sent. The user is then expected to type in
<br>
his message, followed by an &lsquo;control-D&rsquo; at the
beginning of a line. The section below Replying to or
originating mail, describes some features of mailx available
to help when <br>
composing letters.</p>

<p style="margin-top: 1em">Reading mail <br>
In normal usage mailx is given no arguments and checks the
user&rsquo;s mail out of the post office, then prints out a
one line header of each message found. The current message
is <br>
initially the first message (numbered 1) and can be printed
using the print command which can be abbreviated
&lsquo;p&rsquo;). The user can move among the messages much
as he moves between <br>
lines in ed(1), with the commands &lsquo;+&rsquo; and
&lsquo;-&rsquo; moving backwards and forwards, and simple
numbers.</p>

<p style="margin-top: 1em">Disposing of mail <br>
After examining a message the user can delete
&lsquo;d&rsquo;) the message or reply &lsquo;r&rsquo;) to
it. Deletion causes the mailx program to forget about the
message. This is not irreversible; the <br>
message can be undeleted &lsquo;u&rsquo;) by giving its
number, or the mailx session can be aborted by giving the
exit &lsquo;x&rsquo;) command. Deleted messages will,
however, usually disappear never <br>
to be seen again.</p>

<p style="margin-top: 1em">Specifying messages <br>
Commands such as print and delete can be given a list of
message numbers as arguments to apply to a number of
messages at once. Thus &lsquo;delete 1 2&rsquo; deletes
messages 1 and 2, while <br>
&lsquo;delete 1-5&rsquo; deletes messages 1 through 5. In
sorted or threaded mode (see the sort and thread commands),
&lsquo;delete 1-5&rsquo; deletes the messages that are
located between (and includ&acirc; <br>
ing) messages 1 through 5 in the sorted/threaded order, as
shown in the header summary. The following special message
names exist:</p>

<p style="margin-top: 1em">:n All new messages.</p>

<p style="margin-top: 1em">:o All old messages (any not in
state read or new).</p>

<p style="margin-top: 1em">:u All unread messages.</p>

<p style="margin-top: 1em">:d All deleted messages (for the
undelete command).</p>

<p style="margin-top: 1em">:r All read messages.</p>

<p style="margin-top: 1em">:f All &lsquo;flagged&rsquo;
messages.</p>

<p style="margin-top: 1em">:a All answered messages (cf.
the markanswered variable).</p>

<p style="margin-top: 1em">:t All messages marked as
draft.</p>

<p style="margin-top: 1em">:k All &lsquo;killed&rsquo;
messages.</p>

<p style="margin-top: 1em">:j All messages classified as
junk.</p>

<p style="margin-top: 1em">. The current message.</p>

<p style="margin-top: 1em">; The message that was
previously the current message.</p>

<p style="margin-top: 1em">, The parent message of the
current message, that is the message with the Message-ID
given in the &lsquo;In-Reply-To:&rsquo; field or the last
entry of the &lsquo;References:&rsquo; field of the <br>
current message.</p>

<p style="margin-top: 1em">- The next previous undeleted
message, or the next previous deleted message for the
undelete command. In sorted/threaded mode, the next previous
such message in the <br>
sorted/threaded order.</p>

<p style="margin-top: 1em">+ The next undeleted message, or
the next deleted message for the undelete command. In
sorted/threaded mode, the next such message in the
sorted/threaded order.</p>

<p style="margin-top: 1em">^ The first undeleted message,
or the first deleted message for the undelete command. In
sorted/threaded mode, the first such message in the
sorted/threaded order.</p>

<p style="margin-top: 1em">$ The last message. In
sorted/threaded mode, the last message in the
sorted/threaded order.</p>

<p style="margin-top: 1em">&amp;x In threaded mode, selects
the message addressed with x, where x is any other message
specification, and all messages from the thread that begins
at it. Otherwise, it is <br>
identical to x. If x is omitted, the thread beginning with
the current message is selected.</p>

<p style="margin-top: 1em">* All messages.</p>

<p style="margin-top: 1em">&lsquo; All messages that were
included in the message list for the previous command.</p>

<p style="margin-top: 1em">/string <br>
All messages that contain string in the subject field (case
ignored). See also the searchheaders variable. If string is
empty, the string from the previous specification <br>
of that type is used again.</p>

<p style="margin-top: 1em">address <br>
All messages from address. By default, this is a
case-sensitive search for the complete email address. If the
allnet variable is set, only the local part of the <br>
addresses is evaluated for the comparison. Otherwise if the
showname variable is set, a case-sensitive search for the
complete real name of a sender is performed. The <br>
IMAP-style (from address) expression can be used instead if
substring matches are desired.</p>

<p style="margin-top: 1em">(criterion) <br>
All messages that satisfy the given IMAP-style SEARCH
criterion. This addressing mode is available with all types
of folders; for folders not located on IMAP servers, or <br>
for servers unable to execute the SEARCH command, mailx will
perform the search locally. Strings must be enclosed by
double quotes &lsquo;&quot;&rsquo; in their entirety if they
contain <br>
white space or parentheses; within the quotes, only
backslash &lsquo;&acute; is recognized as an escape
character. All string searches are case-insensitive. When
the description <br>
indicates that the &lsquo;envelope&rsquo; representation of
an address field is used, this means that the search string
is checked against both a list constructed as</p>

<p style="margin-top: 1em">(&quot;real name&quot;
&quot;source-route&quot; &quot;local-part&quot;
&quot;domain-part&quot;)</p>

<p style="margin-top: 1em">for each address, and the
addresses without real names from the respective header
field. Criteria can be nested using parentheses.</p>

<p style="margin-top: 1em">(criterion1 criterion2 ...
criterionN) <br>
All messages that satisfy all of the given criteria.</p>

<p style="margin-top: 1em">(or criterion1 criterion2) <br>
All messages that satisfy either criterion1 or criterion2,
or both. To connect more than two criteria using
&lsquo;or&rsquo;, (or) specifications have to be nested
using additional <br>
parentheses, as with &lsquo;(or a (or b c))&rsquo;;
&lsquo;(or a b c)&rsquo; means ((a or b) and c). For a
simple &lsquo;or&rsquo; operation of independent criteria on
the lowest nesting level, it is possi&acirc; <br>
ble to achieve similar effects by using three separate
criteria, as with &lsquo;(a) (b) (c)&rsquo;.</p>

<p style="margin-top: 1em">(not criterion) <br>
All messages that do not satisfy criterion.</p>

<p style="margin-top: 1em">(bcc string) <br>
All messages that contain string in the
&lsquo;envelope&rsquo; representation of the Bcc: field.</p>

<p style="margin-top: 1em">(cc string) <br>
All messages that contain string in the
&lsquo;envelope&rsquo; representation of the Cc: field.</p>

<p style="margin-top: 1em">(from string) <br>
All messages that contain string in the
&lsquo;envelope&rsquo; representation of the From:
field.</p>

<p style="margin-top: 1em">(subject string) <br>
All messages that contain string in the Subject: field.</p>

<p style="margin-top: 1em">(to string) <br>
All messages that contain string in the
&lsquo;envelope&rsquo; representation of the To: field.</p>

<p style="margin-top: 1em">(header name string) <br>
All messages that contain string in the specified Name:
field.</p>

<p style="margin-top: 1em">(body string) <br>
All messages that contain string in their body.</p>

<p style="margin-top: 1em">(text string) <br>
All messages that contain string in their header or
body.</p>

<p style="margin-top: 1em">(larger size) <br>
All messages that are larger than size (in bytes).</p>

<p style="margin-top: 1em">(smaller size) <br>
All messages that are smaller than size (in bytes).</p>

<p style="margin-top: 1em">(before date) <br>
All messages that were received before date; date must be in
the form d[d]-mon-yyyy, where d[d] is the day of the month
as one or two digits, mon is the name of the month&acirc;
<br>
one of &lsquo;Jan&rsquo;, &lsquo;Feb&rsquo;,
&lsquo;Mar&rsquo;, &lsquo;Apr&rsquo;, &lsquo;May&rsquo;,
&lsquo;Jun&rsquo;, &lsquo;Jul&rsquo;, &lsquo;Aug&rsquo;,
&lsquo;Sep&rsquo;, &lsquo;Oct&rsquo;, &lsquo;Nov&rsquo;, or
&lsquo;Dec&rsquo;, and yyyy is the year as four digits; e.g.
&quot;30-Aug-2004&quot;.</p>

<p style="margin-top: 1em">(on date) <br>
All messages that were received on the specified date.</p>

<p style="margin-top: 1em">(since date) <br>
All messages that were received since the specified
date.</p>

<p style="margin-top: 1em">(sentbefore date) <br>
All messages that were sent on the specified date.</p>

<p style="margin-top: 1em">(senton date) <br>
All messages that were sent on the specified date.</p>

<p style="margin-top: 1em">(sentsince date) <br>
All messages that were sent since the specified date.</p>

<p style="margin-top: 1em">() The same criterion as for the
previous search. This specification cannot be used as part
of another criterion. If the previous command line contained
more than one inde&acirc; <br>
pendent criterion, the last of those criteria is used.</p>

<p style="margin-top: 1em">A practical method to read a set
of messages is to issue a from command with the search
criteria first to check for appropriate messages, and to
read each single message then by <br>
typing &lsquo;&lsquo;&rsquo; repeatedly.</p>

<p style="margin-top: 1em">Replying to or originating mail
<br>
The reply command can be used to set up a response to a
message, sending it back to the person who it was from. Text
the user types in then, up to an end-of-file, defines the
<br>
contents of the message. While the user is composing a
message, mailx treats lines beginning with the character
&lsquo;~&rsquo; specially. For instance, typing
&lsquo;~m&rsquo; (alone on a line) will <br>
place a copy of the current message into the response right
shifting it by a tabstop (see indentprefix variable, below).
Other escapes will set up subject fields, add and delete
<br>
recipients to the message, attach files to it and allow the
user to escape to an editor to revise the message or to a
shell to run some commands. (These options are given in the
<br>
summary below.)</p>

<p style="margin-top: 1em">Ending a mail processing session
<br>
The user can end a mailx session with the quit
(&lsquo;q&rsquo;) command. Messages which have been examined
go to the user&rsquo;s mbox file unless they have been
deleted in which case they are <br>
discarded. Unexamined messages go back to the post office.
(See the -f option above).</p>

<p style="margin-top: 1em">Personal and systemwide
distribution lists <br>
It is also possible to create a personal distribution lists
so that, for instance, the user can send mail to
&lsquo;cohorts&rsquo; and have it go to a group of people.
Such lists can be <br>
defined by placing a line like</p>

<p style="margin-top: 1em">alias cohorts bill ozalp jkf
mark kridle@ucbcory</p>

<p style="margin-top: 1em">in the file .mailrc in the
user&rsquo;s home directory. The current list of such
aliases can be displayed with the alias command in mailx.
System wide distribution lists can be cre&acirc; <br>
ated by editing /etc/aliases, see aliases(5) and
sendmail(8); these are kept in a different syntax. In mail
the user sends, personal aliases will be expanded in mail
sent to <br>
others so that they will be able to reply to the recipients.
System wide aliases are not expanded when the mail is sent,
but any reply returned to the machine will have the
sys&acirc; <br>
tem wide alias expanded as all mail goes through
sendmail.</p>

<p style="margin-top: 1em">Recipient address specifications
<br>
If the expandaddr option is not set (the default), recipient
addresses must be names of local mailboxes or Internet mail
addresses.</p>

<p style="margin-top: 1em">If the expandaddr option is set,
the following rules apply: When an address is used to name a
recipient (in any of To, Cc, or Bcc), names of local mail
folders and pipes to <br>
external commands can also be specified; the message text is
then written to them. The rules are: Any name which starts
with a &lsquo;|&rsquo; character specifies a pipe, the
command string <br>
following the &lsquo;|&rsquo; is executed and the message is
sent to its standard input; any other name which contains a
&lsquo;@&rsquo; character is treated as a mail address; any
other name which <br>
starts with a &lsquo;+&rsquo; character specifies a folder
name; any other name which contains a &lsquo;/&rsquo;
character but no &lsquo;!&rsquo; or &lsquo;%&rsquo;
character before also specifies a folder name; what remains
<br>
is treated as a mail address. Compressed folders are handled
as described for the folder command below.</p>

<p style="margin-top: 1em">Network mail (Internet / ARPA,
UUCP, Berknet) <br>
See mailaddr(7) for a description of network addresses.
Mailx has a number of options which can be set in the
.mailrc file to alter its behavior; thus &lsquo;set
askcc&rsquo; enables the <br>
askcc feature. (These options are summarized below).</p>

<p style="margin-top: 1em">MIME types <br>
For any outgoing attachment, mailx tries to determine the
content type. It does this by reading MIME type files whose
lines have the following syntax:</p>

<p style="margin-top: 1em">type/subtype extension
[extension . . .]</p>

<p style="margin-top: 1em">where type/subtype are strings
describing the file contents, and extension is the part of a
filename starting after the last dot. Any line not
immediately beginning with an <br>
ASCII alphabetical character is ignored by mailx. If there
is a match with the extension of the file to attach, the
given type/subtype pair is used. Otherwise, or if the
file&acirc; <br>
name has no extension, the content types text/plain or
application/octet-stream are used, the first for text or
international text files, the second for any file that
contains <br>
formatting characters other than newlines and horizontal
tabulators.</p>

<p style="margin-top: 1em">Character sets <br>
Mailx normally detects the character set of the terminal
using the LC_CTYPE locale setting. If the locale cannot be
used appropriately, the ttycharset variable should be set to
<br>
provide an explicit value. When reading messages, their text
is converted to the terminal character set if possible.
Unprintable characters and illegal byte sequences are <br>
detected and replaced by Unicode substitute characters or
question marks unless the print-all-chars is set at
initialization time.</p>

<p style="margin-top: 1em">The character set for outgoing
messages is not necessarily the same as the one used on the
terminal. If an outgoing text message contains characters
not representable in US- <br>
ASCII, the character set being used must be declared within
its header. Permissible values can be declared using the
sendcharsets variable, separated by commas; mailx tries each
<br>
of the values in order and uses the first appropriate one.
If the message contains characters that cannot be
represented in any of the given character sets, the message
will not <br>
be sent, and its text will be saved to the
&lsquo;dead.letter&rsquo; file. Messages that contain NUL
bytes are not converted.</p>

<p style="margin-top: 1em">Outgoing attachments are
converted if they are plain text. If the sendcharsets
variable contains more than one character set name, the ~@
tilde escape will ask for the character <br>
sets for individual attachments if it is invoked without
arguments.</p>

<p style="margin-top: 1em">Best results are usually
achieved when mailx is run in a UTF-8 locale on a UTF-8
capable terminal. In this setup, characters from various
countries can be displayed, while it is <br>
still possible to use more simple character sets for sending
to retain maximum compatibility with older mail clients.</p>

<p style="margin-top: 1em">Commands <br>
Each command is typed on a line by itself, and may take
arguments following the command word. The command need not
be typed in its entirety &acirc; the first command which
matches the <br>
typed prefix is used. For commands which take message lists
as arguments, if no message list is given, then the next
message forward which satisfies the command&rsquo;s
requirements <br>
is used. If there are no messages forward of the current
message, the search proceeds backwards, and if there are no
good messages at all, mailx types &lsquo;applicable
messages&rsquo; and <br>
aborts the command. If the command begins with a # sign, the
line is ignored.</p>

<p style="margin-top: 1em">The arguments to commands can be
quoted, using the following methods:</p>

<p style="margin-top: 1em">&Acirc;&middot; An argument can
be enclosed between paired double-quotes &quot;&quot; or
single-quotes &rsquo;&rsquo;; any white space, shell word
expansion, or backslash characters within the quotes are
<br>
treated literally as part of the argument. A double-quote
will be treated literally within single-quotes and vice
versa. These special properties of the quote marks occur
<br>
only when they are paired at the beginning and end of the
argument.</p>

<p style="margin-top: 1em">&Acirc;&middot; A backslash
outside of the enclosing quotes is discarded and the
following character is treated literally as part of the
argument.</p>

<p style="margin-top: 1em">&Acirc;&middot; An unquoted
backslash at the end of a command line is discarded and the
next line continues the command.</p>

<p style="margin-top: 1em">Filenames, where expected, are
subjected to the following transformations, in sequence:</p>

<p style="margin-top: 1em">&Acirc;&middot; If the filename
begins with an unquoted plus sign, and the folder variable
is defined, the plus sign will be replaced by the value of
the folder variable followed by a <br>
slash. If the folder variable is unset or is set to null,
the filename will be unchanged.</p>

<p style="margin-top: 1em">&Acirc;&middot; Shell word
expansions are applied to the filename. If more than a
single pathname results from this expansion and the command
is expecting one file, an error results.</p>

<p style="margin-top: 1em">The following commands are
provided:</p>

<p style="margin-top: 1em">- Print out the preceding
message. If given a numeric argument n, goes to the
n&rsquo;th previous message and prints it.</p>

<p style="margin-top: 1em">? Prints a brief summary of
commands.</p>

<p style="margin-top: 1em">! Executes the shell (see sh(1)
and csh(1)) command which follows.</p>

<p style="margin-top: 1em">| A synonym for the pipe
command.</p>

<p style="margin-top: 1em">account <br>
(ac) Creates, selects or lists an email account. An account
is formed by a group of commands, primarily of those to set
variables. With two arguments, of which the sec&acirc; <br>
ond is a &lsquo;{&rsquo;, the first argument gives an
account name, and the following lines create a group of
commands for that account until a line containing a single
&lsquo;}&rsquo; appears. <br>
With one argument, the previously created group of commands
for the account name is executed, and a folder command is
executed for the system mailbox or inbox of that <br>
account. Without arguments, the list of accounts and their
contents are printed. As an example,</p>

<p style="margin-top: 1em">account myisp { <br>
set folder=imaps://mylogin@imap.myisp.example <br>
set record=+Sent <br>
set from=&quot;myname@myisp.example (My Name)&quot; <br>
set smtp=smtp.myisp.example <br>
}</p>

<p style="margin-top: 1em">creates an account named
&lsquo;myisp&rsquo; which can later be selected by
specifying &lsquo;account myisp&rsquo;.</p>

<p style="margin-top: 1em">alias (a) With no arguments,
prints out all currently-defined aliases. With one argument,
prints out that alias. With more than one argument, creates
a new alias or changes an <br>
old one.</p>

<p style="margin-top: 1em">alternates <br>
(alt) The alternates command is useful if the user has
accounts on several machines. It can be used to inform mailx
that the listed addresses all belong to the invoking <br>
user. When he replies to messages, mailx will not send a
copy of the message to any of the addresses listed on the
alternates list. If the alternates command is given <br>
with no argument, the current set of alternate names is
displayed.</p>

<p style="margin-top: 1em">answered <br>
(ans) Takes a message list and marks each message as a
having been answered. This mark has no technical meaning in
the mail system; it just causes messages to be marked <br>
in the header summary, and makes them specially
addressable.</p>

<p style="margin-top: 1em">cache Only applicable to cached
IMAP mailboxes; takes a message list and reads the specified
messages into the IMAP cache.</p>

<p style="margin-top: 1em">call Calls a macro (see the
define command).</p>

<p style="margin-top: 1em">cd Same as chdir.</p>

<p style="margin-top: 1em">certsave <br>
Only applicable to S/MIME signed messages. Takes a message
list and a file name and saves the certificates contained
within the message signatures to the named file in <br>
both human-readable and PEM format. The certificates can
later be used to send encrypted messages to the
messages&rsquo; originators by setting the
smime-encrypt-user@host <br>
variable.</p>

<p style="margin-top: 1em">chdir (ch) Changes the
user&rsquo;s working directory to that specified, if given.
If no directory is given, then changes to the user&rsquo;s
login directory.</p>

<p style="margin-top: 1em">classify <br>
(cl) Takes a list of messages and examines their contents
for characteristics of junk mail using Bayesian filtering.
Messages considered to be junk are then marked as <br>
such. The junk mail database is not changed.</p>

<p style="margin-top: 1em">collapse <br>
(coll) Only applicable to threaded mode. Takes a message
list and makes all replies to these messages invisible in
header summaries, unless they are in state
&lsquo;new&rsquo;.</p>

<p style="margin-top: 1em">connect <br>
(conn) If operating in disconnected mode on an IMAP mailbox,
switch to online mode and connect to the mail server while
retaining the mailbox status. See the description <br>
of the disconnected variable for more information.</p>

<p style="margin-top: 1em">copy (c) The copy command does
the same thing that save does, except that it does not mark
the messages it is used on for deletion when the user quits.
Compressed files and <br>
IMAP mailboxes are handled as described for the folder
command.</p>

<p style="margin-top: 1em">Copy (C) Similar to copy, but
saves the messages in a file named after the local part of
the sender address of the first message.</p>

<p style="margin-top: 1em">decrypt <br>
(dec) For unencrypted messages, this command is identical to
copy. Encrypted messages are first decrypted, if possible,
and then copied.</p>

<p style="margin-top: 1em">Decrypt <br>
(Dec) Similar to decrypt, but saves the messages in a file
named after the local part of the sender address of the
first message.</p>

<p style="margin-top: 1em">define (def) Defines a macro. A
macro definition is a sequence of commands in the following
form:</p>

<p style="margin-top: 1em">define name { <br>
command1 <br>
command2 <br>
... <br>
commandN <br>
}</p>

<p style="margin-top: 1em">Once defined, a macro can be
explicitly invoked using the call command, or can be
implicitly invoked by setting the folder-hook or
folder-hook-fullname variables.</p>

<p style="margin-top: 1em">defines <br>
Prints the currently defined macros including their
contents.</p>

<p style="margin-top: 1em">delete (d) Takes a list of
messages as argument and marks them all as deleted. Deleted
messages will not be saved in mbox, nor will they be
available for most other commands.</p>

<p style="margin-top: 1em">discard <br>
Same as ignore.</p>

<p style="margin-top: 1em">disconnect <br>
(disco) If operating in online mode on an IMAP mailbox,
switch to disconnected mode while retaining the mailbox
status. See the description of the disconnected variable
<br>
for more information. A list of messages may optionally be
given as argument; the respective messages are then read
into the cache before the connection is closed. Thus <br>
&lsquo;disco *&rsquo; makes the entire current mailbox
available for disconnected use.</p>

<p style="margin-top: 1em">dp or dt <br>
Deletes the current message and prints the next message. If
there is no next message, mailx says &lsquo;at
EOF&rsquo;.</p>

<p style="margin-top: 1em">draft Takes a message list and
marks each message as a draft. This mark has no technical
meaning in the mail system; it just causes messages to be
marked in the header summary, <br>
and makes them specially addressable.</p>

<p style="margin-top: 1em">echo Echoes its arguments,
resolving special names as, documented for the folder
command. The escape sequences &lsquo;&rsquo;,
&lsquo;&lsquo;,&rsquo;, &lsquo;&rsquo;, &lsquo;
&lsquo;\&rsquo;, and &lsquo; num&rsquo; &lsquo;, &lsquo;0,
&lsquo; <br>
are interpreted as with the echo(1) command.</p>

<p style="margin-top: 1em">edit (e) Takes a list of
messages and points the text editor at each one in turn.
Modified contents are discarded unless the writebackedited
variable is set.</p>

<p style="margin-top: 1em">else Marks the end of the
then-part of an if statement and the beginning of the part
to take effect if the condition of the if statement is
false.</p>

<p style="margin-top: 1em">endif Marks the end of an if
statement.</p>

<p style="margin-top: 1em">exit (ex or x) Effects an
immediate return to the Shell without modifying the
user&rsquo;s system mailbox, his mbox file, or his edit file
in -f.</p>

<p style="margin-top: 1em">file (fi) The same as
folder.</p>

<p style="margin-top: 1em">flag (fl) Takes a message list
and marks the messages as &lsquo;flagged&rsquo; for
urgent/special attention. This mark has no technical meaning
in the mail system; it just causes messages <br>
to be highlighted in the header summary, and makes them
specially addressable.</p>

<p style="margin-top: 1em">folders <br>
With no arguments, list the names of the folders in the
folder directory. With an existing folder as an argument,
lists then names of folders below the named folder; e.g.
<br>
the command &lsquo;folders @&rsquo; lists the folders on the
base level of the current IMAP server. See also the
imap-list-depth variable.</p>

<p style="margin-top: 1em">folder (fold) The folder command
switches to a new mail file or folder. With no arguments, it
tells the user which file he is currently reading. If an
argument is given, it <br>
will write out changes (such as deletions) the user has made
in the current file and read in the new file. Some special
conventions are recognized for the name. # means <br>
the previous file, % means the invoking user&rsquo;s system
mailbox, %user means user&rsquo;s system mailbox, &amp;
means the invoking user&rsquo;s mbox file, and +file means a
file in the <br>
folder directory. %:filespec expands to the same value as
filespec, but the file is handled as a system mailbox e. g.
by the mbox and save commands. If the name matches <br>
one of the strings defined with the shortcut command, it is
replaced by its long form and expanded. If the name ends
with .gz or .bz2, it is treated as compressed with <br>
gzip(1) or bzip2(1), respectively. Likewise, if name does
not exist, but either name.gz or name.bz2 exists, the
compressed file is used. If name refers to a directory <br>
with the subdirectories &lsquo;tmp&rsquo;,
&lsquo;new&rsquo;, and &lsquo;cur&rsquo;, it is treated as a
folder in maildir format. A name of the form</p>


<p style="margin-top: 1em">protocol://[user@]host[:port][/file]</p>

<p style="margin-top: 1em">is taken as an Internet mailbox
specification. The supported protocols are currently imap
(IMAP v4r1), imaps (IMAP with SSL/TLS encryption), pop3
(POP3), and pop3s (POP3 <br>
with SSL/TLS encryption). If user contains special
characters, in particular &lsquo;/&rsquo; or
&lsquo;%&rsquo;, they must be escaped in URL notation, as
&lsquo;%2F&rsquo; or &lsquo;%25&rsquo;. The optional file
part <br>
applies to IMAP only; if it is omitted, the default
&lsquo;INBOX&rsquo; is used. If mailx is connected to an
IMAP server, a name of the form @mailbox refers to the
mailbox on that <br>
server. If the &lsquo;folder&rsquo; variable refers to an
IMAP account, the special name &lsquo;%&rsquo; selects the
&lsquo;INBOX&rsquo; on that account.</p>

<p style="margin-top: 1em">Followup <br>
(F) Similar to Respond, but saves the message in a file
named after the local part of the first recipient&rsquo;s
address.</p>

<p style="margin-top: 1em">followup <br>
(fo) Similar to respond, but saves the message in a file
named after the local part of the first recipient&rsquo;s
address.</p>

<p style="margin-top: 1em">followupall <br>
Similar to followup, but responds to all recipients
regardless of the flipr and Replyall variables.</p>

<p style="margin-top: 1em">followupsender <br>
Similar to Followup, but responds to the sender only
regardless of the flipr and Replyall variables.</p>

<p style="margin-top: 1em">forward <br>
(fwd) Takes a message and the address of a recipient and
forwards the message to him. The text of the original
message is included in the new one, with the value of the
<br>
fwdheading variable printed before. The fwdignore and
fwdretain commands specify which header fields are included
in the new message. Only the first part of a multipart <br>
message is included unless the forward-as-attachment option
is set.</p>

<p style="margin-top: 1em">Forward <br>
(Fwd) Similar to forward, but saves the message in a file
named after the local part of the recipient&rsquo;s
address.</p>

<p style="margin-top: 1em">from (f) Takes a list of
messages and prints their message headers, piped through the
pager if the output does not fit on the screen.</p>

<p style="margin-top: 1em">fwdignore <br>
Specifies which header fields are to be ignored with the
forward command. This command has no effect when the
forward-as-attachment option is set.</p>

<p style="margin-top: 1em">fwdretain <br>
Specifies which header fields are to be retained with the
forward command. fwdretain overrides fwdignore. This command
has no effect when the forward-as-attachment <br>
option is set.</p>

<p style="margin-top: 1em">good (go) Takes a list of
messages and marks all of them as not being junk mail. Data
from these messages is then inserted into the junk mail
database for future classifica&acirc; <br>
tion.</p>

<p style="margin-top: 1em">headers <br>
(h) Lists the current range of headers, which is an
18-message group. If a &lsquo;+&rsquo; argument is given,
then the next 18-message group is printed, and if a
&lsquo;-&rsquo; argument is <br>
given, the previous 18-message group is printed.</p>

<p style="margin-top: 1em">help A synonym for ?.</p>

<p style="margin-top: 1em">hold (ho, also preserve) Takes a
message list and marks each message therein to be saved in
the user&rsquo;s system mailbox instead of in mbox. Does not
override the delete command. <br>
mailx deviates from the POSIX standard with this command, as
a &lsquo;next&rsquo; command issued after &lsquo;hold&rsquo;
will display the following message, not the current one.</p>

<p style="margin-top: 1em">if Commands in mailx&rsquo;s
startup files can be executed conditionally depending on
whether the user is sending or receiving mail with the if
command. For example:</p>

<p style="margin-top: 1em">if receive <br>
commands . . . <br>
endif</p>

<p style="margin-top: 1em">An else form is also
available:</p>

<p style="margin-top: 1em">if receive <br>
commands . . . <br>
else <br>
commands . . . <br>
endif</p>

<p style="margin-top: 1em">Note that the only allowed
conditions are receive, send, and term (execute command if
standard input is a tty).</p>

<p style="margin-top: 1em">ignore Add the list of header
fields named to the ignored list. Header fields in the
ignore list are not printed on the terminal when a message
is printed. This command is very <br>
handy for suppression of certain machine-generated header
fields. The Type and Print commands can be used to print a
message in its entirety, including ignored fields. <br>
If ignore is executed with no arguments, it lists the
current set of ignored fields.</p>

<p style="margin-top: 1em">imap Sends command strings
directly to the current IMAP server. Mailx operates always
in IMAP selected state on the current mailbox; commands that
change this will produce <br>
undesirable results and should be avoided. Useful IMAP
commands are:</p>

<p style="margin-top: 1em">create Takes the name of an IMAP
mailbox as an argument and creates it.</p>

<p style="margin-top: 1em">getquotaroot <br>
Takes the name of an IMAP mailbox as an argument and prints
the quotas that apply to the mailbox. Not all IMAP servers
support this command.</p>

<p style="margin-top: 1em">namespace <br>
Takes no arguments and prints the Personal Namespaces, the
Other User&rsquo;s Namespaces, and the Shared Namespaces.
Each namespace type is printed in parentheses; if <br>
there are multiple namespaces of the same type, inner
parentheses separate them. For each namespace, a namespace
prefix and a hierarchy separator is listed. Not <br>
all IMAP servers support this command.</p>

<p style="margin-top: 1em">inc Same as newmail.</p>

<p style="margin-top: 1em">junk (j) Takes a list of
messages and marks all of them as junk mail. Data from these
messages is then inserted into the junk mail database for
future classification.</p>

<p style="margin-top: 1em">kill (k) Takes a list of
messages and &lsquo;kills&rsquo; them. Killed messages are
not printed in header summaries, and are ignored by the next
command. The kill command also sets the <br>
score of the messages to negative infinity, so that
subsequent score commands will not unkill them again.
Killing is only effective for the current session on a
folder; <br>
when it is quit, all messages are automatically
unkilled.</p>

<p style="margin-top: 1em">list Prints the names of all
available commands.</p>

<p style="margin-top: 1em">Mail (M) Similar to mail, but
saves the message in a file named after the local part of
the first recipient&rsquo;s address.</p>

<p style="margin-top: 1em">mail (m) Takes as argument login
names and distribution group names and sends mail to those
people.</p>

<p style="margin-top: 1em">mbox Indicate that a list of
messages be sent to mbox in the user&rsquo;s home directory
when mailx is quit. This is the default action for messages
if unless the hold option is <br>
set. mailx deviates from the POSIX standard with this
command, as a &lsquo;next&rsquo; command issued after
&lsquo;mbox&rsquo; will display the following message, not
the current one.</p>

<p style="margin-top: 1em">move (mv) Acts like copy, but
marks the messages for deletion if they were transferred
successfully.</p>

<p style="margin-top: 1em">Move (Mv) Similar to move, but
moves the messages to a file named after the local part of
the sender address of the first message.</p>

<p style="margin-top: 1em">newmail <br>
Checks for new mail in the current folder without committing
any changes before. If new mail is present, a message is
printed. If the header variable is set, the headers <br>
of each new message are also printed.</p>

<p style="margin-top: 1em">next (n) like + or CR) Goes to
the next message in sequence and types it. With an argument
list, types the next matching message.</p>

<p style="margin-top: 1em">New Same as unread.</p>

<p style="margin-top: 1em">new Same as unread.</p>

<p style="margin-top: 1em">online Same as connect.</p>

<p style="margin-top: 1em">noop If the current folder is
located on an IMAP or POP3 server, a NOOP command is sent.
Otherwise, no operation is performed.</p>

<p style="margin-top: 1em">Pipe (Pi) Like pipe but also
pipes ignored header fields and all parts of MIME
multipart/alternative messages.</p>

<p style="margin-top: 1em">pipe (pi) Takes a message list
and a shell command and pipes the messages through the
command. Without an argument, the current message is piped
through the command given by <br>
the cmd variable. If the page variable is set, every message
is followed by a formfeed character.</p>

<p style="margin-top: 1em">preserve <br>
(pre) A synonym for hold.</p>

<p style="margin-top: 1em">Print (P) Like print but also
prints out ignored header fields and all parts of MIME
multipart/alternative messages. See also print, ignore, and
retain.</p>

<p style="margin-top: 1em">print (p) Takes a message list
and types out each message on the user&rsquo;s terminal. If
the message is a MIME multipart message, all parts with a
content type of &lsquo;text&rsquo; or &lsquo;mes&acirc; <br>
sage&rsquo; are shown, the other are hidden except for their
headers. Messages are decrypted and converted to the
terminal character set if necessary.</p>

<p style="margin-top: 1em">probability <br>
(prob) For each word given as argument, the contents of its
junk mail database entry are printed.</p>

<p style="margin-top: 1em">quit (q) Terminates the session,
saving all undeleted, unsaved messages in the user&rsquo;s
mbox file in his login directory, preserving all messages
marked with hold or preserve or <br>
never referenced in his system mailbox, and removing all
other messages from his system mailbox. If new mail has
arrived during the session, the message &lsquo;You have new
<br>
mail&rsquo; is given. If given while editing a mailbox file
with the -f flag, then the edit file is rewritten. A return
to the Shell is effected, unless the rewrite of edit <br>
file fails, in which case the user can escape with the exit
command.</p>

<p style="margin-top: 1em">redirect <br>
(red) Same as resend.</p>

<p style="margin-top: 1em">Redirect <br>
(Red) Same as Resend.</p>

<p style="margin-top: 1em">remove (rem) Removes the named
folders. The user is asked for confirmation in interactive
mode.</p>

<p style="margin-top: 1em">rename (ren) Takes the name of
an existing folder and the name for the new folder and
renames the first to the second one. Both folders must be of
the same type and must be <br>
located on the current server for IMAP.</p>

<p style="margin-top: 1em">Reply (R) Reply to originator.
Does not reply to other recipients of the original
message.</p>

<p style="margin-top: 1em">reply (r) Takes a message list
and sends mail to the sender and all recipients of the
specified message. The default message must not be
deleted.</p>

<p style="margin-top: 1em">replyall <br>
Similar to reply, but responds to all recipients regardless
of the flipr and Replyall variables.</p>

<p style="margin-top: 1em">replysender <br>
Similar to Reply, but responds to the sender only regardless
of the flipr and Replyall variables.</p>

<p style="margin-top: 1em">Resend Like resend, but does not
add any header lines. This is not a way to hide the
sender&rsquo;s identity, but useful for sending a message
again to the same recipients.</p>

<p style="margin-top: 1em">resend Takes a list of messages
and a user name and sends each message to the named user.
&lsquo;Resent-From:&rsquo; and related header fields are
prepended to the new copy of the message.</p>

<p style="margin-top: 1em">Respond <br>
Same as Reply.</p>

<p style="margin-top: 1em">respond <br>
Same as reply.</p>

<p style="margin-top: 1em">respondall <br>
Same as replyall.</p>

<p style="margin-top: 1em">respondsender <br>
Same as replysender.</p>

<p style="margin-top: 1em">retain Add the list of header
fields named to the retained list. Only the header fields in
the retain list are shown on the terminal when a message is
printed. All other header <br>
fields are suppressed. The Type and Print commands can be
used to print a message in its entirety. If retain is
executed with no arguments, it lists the current set of <br>
retained fields.</p>

<p style="margin-top: 1em">Save (S) Similar to save, but
saves the messages in a file named after the local part of
the sender of the first message instead of taking a filename
argument.</p>

<p style="margin-top: 1em">save (s) Takes a message list
and a filename and appends each message in turn to the end
of the file. If no filename is given, the mbox file is used.
The filename in quotes, <br>
followed by the line count and character count is echoed on
the user&rsquo;s terminal. If editing a system mailbox, the
messages are marked for deletion. Compressed files and <br>
IMAP mailboxes are handled as described for the -f command
line option above.</p>

<p style="margin-top: 1em">savediscard <br>
Same as saveignore.</p>

<p style="margin-top: 1em">saveignore <br>
Saveignore is to save what ignore is to print and type.
Header fields thus marked are filtered out when saving a
message by save or when automatically saving to mbox. <br>
This command should only be applied to header fields that do
not contain information needed to decode the message, as
MIME content fields do. If saving messages on an <br>
IMAP account, ignoring fields makes it impossible to copy
the data directly on the server, thus operation usually
becomes much slower.</p>

<p style="margin-top: 1em">saveretain <br>
Saveretain is to save what retain is to print and type.
Header fields thus marked are the only ones saved with a
message when saving by save or when automatically saving
<br>
to mbox. Saveretain overrides saveignore. The use of this
command is strongly discouraged since it may strip header
fields that are needed to decode the message cor&acirc; <br>
rectly.</p>

<p style="margin-top: 1em">score (sc) Takes a message list
and a floating point number and adds the number to the score
of each given message. All messages start at score 0 when a
folder is opened. When <br>
the score of a message becomes negative, it is
&lsquo;killed&rsquo; with the effects described for the kill
command; otherwise if it was negative before and becomes
positive, it is <br>
&lsquo;unkilled&rsquo;. Scores only refer to the currently
opened instance of a folder.</p>

<p style="margin-top: 1em">set (se) With no arguments,
prints all variable values, piped through the pager if the
output does not fit on the screen. Otherwise, sets option.
Arguments are of the form <br>
option=value (no space before or after =) or option.
Quotation marks may be placed around any part of the
assignment statement to quote blanks or tabs, i.e.
&lsquo;set indent&acirc; <br>
prefix=&quot;-&gt;&quot;&rsquo;. If an argument begins with
no, as in &lsquo;set nosave&rsquo;, the effect is the same
as invoking the unset command with the remaining part of the
variable (&lsquo;unset <br>
save&rsquo;).</p>

<p style="margin-top: 1em">seen Takes a message list and
marks all messages as having been read.</p>

<p style="margin-top: 1em">shell (sh) Invokes an
interactive version of the shell.</p>

<p style="margin-top: 1em">shortcut <br>
Defines a shortcut name and its string for expansion, as
described for the folder command. With no arguments, a list
of defined shortcuts is printed.</p>

<p style="margin-top: 1em">show (Sh) Like print, but
performs neither MIME decoding nor decryption so that the
raw message text is shown.</p>

<p style="margin-top: 1em">size Takes a message list and
prints out the size in characters of each message.</p>

<p style="margin-top: 1em">sort Create a sorted
representation of the current folder, and change the next
command and the addressing modes such that they refer to
messages in the sorted order. Message <br>
numbers are the same as in regular mode. If the header
variable is set, a header summary in the new order is also
printed. Possible sorting criteria are:</p>

<p style="margin-top: 1em">date Sort the messages by their
&lsquo;Date:&rsquo; field, that is by the time they were
sent.</p>

<p style="margin-top: 1em">from Sort messages by the value
of their &lsquo;From:&rsquo; field, that is by the address
of the sender. If the showname variable is set, the
sender&rsquo;s real name (if any) is used.</p>

<p style="margin-top: 1em">size Sort the messages by their
size.</p>

<p style="margin-top: 1em">score Sort the messages by their
score.</p>

<p style="margin-top: 1em">status Sort the messages by
their message status (new, read, old, etc.).</p>

<p style="margin-top: 1em">subject <br>
Sort the messages by their subject.</p>

<p style="margin-top: 1em">thread Create a threaded order,
as with the thread command.</p>

<p style="margin-top: 1em">to Sort messages by the value of
their &lsquo;To:&rsquo; field, that is by the address of the
recipient. If the showname variable is set, the
recipient&rsquo;s real name (if any) is <br>
used.</p>

<p style="margin-top: 1em">If no argument is given, the
current sorting criterion is printed.</p>

<p style="margin-top: 1em">source The source command reads
commands from a file.</p>

<p style="margin-top: 1em">thread (th) Create a threaded
representation of the current folder, i.e. indent messages
that are replies to other messages in the header display,
and change the next command and <br>
the addressing modes such that they refer to messages in the
threaded order. Message numbers are the same as in
unthreaded mode. If the header variable is set, a header
<br>
summary in threaded order is also printed.</p>

<p style="margin-top: 1em">top Takes a message list and
prints the top few lines of each. The number of lines
printed is controlled by the variable toplines and defaults
to five.</p>

<p style="margin-top: 1em">touch Takes a message list and
marks the messages for saving in the mbox file. mailx
deviates from the POSIX standard with this command, as a
&lsquo;next&rsquo; command issued after &lsquo;mbox&rsquo;
<br>
will display the following message, not the current one.</p>

<p style="margin-top: 1em">Type (T) Identical to the Print
command.</p>

<p style="margin-top: 1em">type (t) A synonym for
print.</p>

<p style="margin-top: 1em">unalias <br>
Takes a list of names defined by alias commands and discards
the remembered groups of users. The group names no longer
have any significance.</p>

<p style="margin-top: 1em">unanswered <br>
Takes a message list and marks each message as not having
been answered.</p>

<p style="margin-top: 1em">uncollapse <br>
(unc) Only applicable to threaded mode. Takes a message list
and makes the message and all replies to it visible in
header summaries again. When a message becomes the <br>
current message, it is automatically made visible. Also when
a message with collapsed replies is printed, all of these
are automatically uncollapsed.</p>

<p style="margin-top: 1em">undef Undefines each of the
named macros. It is not an error to use a name that does not
belong to one of the currently defined macros.</p>

<p style="margin-top: 1em">undelete <br>
(u) Takes a message list and marks each message as not being
deleted.</p>

<p style="margin-top: 1em">undraft <br>
Takes a message list and marks each message as a draft.</p>

<p style="margin-top: 1em">unflag Takes a message list and
marks each message as not being &lsquo;flagged&rsquo;.</p>

<p style="margin-top: 1em">unfwdignore <br>
Removes the header field names from the list of ignored
fields for the forward command.</p>

<p style="margin-top: 1em">unfwdretain <br>
Removes the header field names from the list of retained
fields for the forward command.</p>

<p style="margin-top: 1em">ungood Takes a message list and
undoes the effect of a good command that was previously
applied on exactly these messages.</p>

<p style="margin-top: 1em">unignore <br>
Removes the header field names from the list of ignored
fields.</p>

<p style="margin-top: 1em">unjunk Takes a message list and
undoes the effect of a junk command that was previously
applied on exactly these messages.</p>

<p style="margin-top: 1em">unkill Takes a message list and
&lsquo;unkills&rsquo; each message. Also sets the score of
the messages to 0.</p>

<p style="margin-top: 1em">Unread Same as unread.</p>

<p style="margin-top: 1em">unread (U) Takes a message list
and marks each message as not having been read.</p>

<p style="margin-top: 1em">unretain <br>
Removes the header field names from the list of retained
fields.</p>

<p style="margin-top: 1em">unsaveignore <br>
Removes the header field names from the list of ignored
fields for saving.</p>

<p style="margin-top: 1em">unsaveretain <br>
Removes the header field names from the list of retained
fields for saving.</p>

<p style="margin-top: 1em">unset Takes a list of option
names and discards their remembered values; the inverse of
set.</p>

<p style="margin-top: 1em">unshortcut <br>
Deletes the shortcut names given as arguments.</p>

<p style="margin-top: 1em">unsort Disable sorted or
threaded mode (see the sort and thread commands), return to
normal message order and, if the header variable is set,
print a header summary.</p>

<p style="margin-top: 1em">unthread <br>
(unth) Same as unsort.</p>

<p style="margin-top: 1em">verify (verif) Takes a message
list and verifies each message. If a message is not an
S/MIME signed message, verification will fail for it. The
verification process checks if <br>
the message was signed using a valid certificate, if the
message sender&rsquo;s email address matches one of those
contained within the certificate, and if the message content
<br>
has been altered.</p>

<p style="margin-top: 1em">visual (v) Takes a message list
and invokes the display editor on each message. Modified
contents are discarded unless the writebackedited variable
is set.</p>

<p style="margin-top: 1em">write (w) For conventional
messages, the body without all headers is written. The
output is decrypted and converted to its native format, if
necessary. If the output file <br>
exists, the text is appended.&acirc;If a message is in MIME
multipart format, its first part is written to the specified
file as for conventional messages, and the user is asked
<br>
for a filename to save each other part; if the contents of
the first part are not to be saved, &lsquo;write
/dev/null&rsquo; can be used. For the second and subsequent
parts, if the <br>
filename given starts with a &lsquo;|&rsquo; character, the
part is piped through the remainder of the filename
interpreted as a shell command. In non-interactive mode,
only the <br>
parts of the multipart message that have a filename given in
the part header are written, the other are discarded. The
original message is never marked for deletion in <br>
the originating mail folder. For attachments, the contents
of the destination file are overwritten if the file
previously existed. No special handling of compressed <br>
files is performed.</p>

<p style="margin-top: 1em">xit (x) A synonym for exit.</p>

<p style="margin-top: 1em">z Mailx presents message headers
in windowfuls as described under the headers command. The z
command scrolls to the next window of messages. If an
argument is given, it <br>
specifies the window to use. A number prefixed by
&lsquo;+&rsquo; or &lsquo;-&rsquo; indicates that the window
is calculated in relation to the current position. A number
without a prefix spec&acirc; <br>
ifies an absolute window number, and a &lsquo;$&rsquo; lets
mailx scroll to the last window of messages.</p>

<p style="margin-top: 1em">Z Similar to z, but scrolls to
the next or previous window that contains at least one new
or &lsquo;flagged&rsquo; message.</p>

<p style="margin-top: 1em">Tilde escapes <br>
Here is a summary of the tilde escapes, which are used when
composing messages to perform special functions. Tilde
escapes are only recognized at the beginning of lines. The
<br>
name &lsquo;tilde escape&rsquo; is somewhat of a misnomer
since the actual escape character can be set by the option
escape.</p>

<p style="margin-top: 1em">~!command <br>
Execute the indicated shell command, then return to the
message.</p>

<p style="margin-top: 1em">~. Same effect as typing the
end-of-file character.</p>

<p style="margin-top: 1em">~&lt;filename <br>
Identical to ~r.</p>

<p style="margin-top: 1em">~&lt;!command <br>
Command is executed using the shell. Its standard output is
inserted into the message.</p>

<p style="margin-top: 1em">~@ [filename . . . ] <br>
With no arguments, edit the attachment list. First, the user
can edit all existing attachment data. If an
attachment&rsquo;s file name is left empty, that attachment
is <br>
deleted from the list. When the end of the attachment list
is reached, mailx will ask for further attachments, until an
empty file name is given. If filename arguments <br>
are specified, all of them are appended to the end of the
attachment list. Filenames which contain white space can
only be specified with the first method (no filename <br>
arguments).</p>

<p style="margin-top: 1em">~A Inserts the string contained
in the Sign variable (same as &lsquo;~i Sign&rsquo;). The
escape sequences &lsquo;&rsquo; (tabulator) and &lsquo;0
(newline) are understood.</p>

<p style="margin-top: 1em">~a Inserts the string contained
in the sign variable (same as &lsquo;~i sign&rsquo;). The
escape sequences &lsquo;&rsquo; (tabulator) and &lsquo;0
(newline) are understood.</p>

<p style="margin-top: 1em">~bname . . . <br>
Add the given names to the list of carbon copy recipients
but do not make the names visible in the Cc: line
(&lsquo;blind&rsquo; carbon copy).</p>

<p style="margin-top: 1em">~cname . . . <br>
Add the given names to the list of carbon copy
recipients.</p>

<p style="margin-top: 1em">~d Read the file
&lsquo;dead.letter&rsquo; from the user&rsquo;s home
directory into the message.</p>

<p style="margin-top: 1em">~e Invoke the text editor on the
message collected so far. After the editing session is
finished, the user may continue appending text to the
message.</p>

<p style="margin-top: 1em">~fmessages <br>
Read the named messages into the message being sent. If no
messages are specified, read in the current message. Message
headers currently being ignored (by the ignore or <br>
retain command) are not included. For MIME multipart
messages, only the first printable part is included.</p>

<p style="margin-top: 1em">~Fmessages <br>
Identical to ~f, except all message headers and all MIME
parts are included.</p>

<p style="margin-top: 1em">~h Edit the message header
fields &lsquo;To:&rsquo;, &lsquo;Cc:&rsquo;,
&lsquo;Bcc:&rsquo;, and &lsquo;Subject:&rsquo; by typing
each one in turn and allowing the user to append text to the
end or modify the field by using <br>
the current terminal erase and kill characters.</p>

<p style="margin-top: 1em">~H Edit the message header
fields &lsquo;From:&rsquo;, &lsquo;Reply-To:&rsquo;,
&lsquo;Sender:&rsquo;, and &lsquo;Organization:&rsquo; in
the same manner as described for ~h. The default values for
these fields originate <br>
from the from, replyto, and ORGANIZATION variables. If this
tilde command has been used, changing the variables has no
effect on the current message anymore.</p>

<p style="margin-top: 1em">~ivariable <br>
Insert the value of the specified variable into the message
adding a newline character at the end. If the variable is
unset or empty, the message remains unaltered. The <br>
escape sequences &lsquo;&rsquo; (tabulator) and &lsquo;0
(newline) are understood.</p>

<p style="margin-top: 1em">~mmessages <br>
Read the named messages into the message being sent,
indented by a tab or by the value of indentprefix. If no
messages are specified, read the current message. Message
<br>
headers currently being ignored (by the ignore or retain
command) are not included. For MIME multipart messages, only
the first printable part is included.</p>

<p style="margin-top: 1em">~Mmessages <br>
Identical to ~m, except all message headers and all MIME
parts are included.</p>

<p style="margin-top: 1em">~p Print out the message
collected so far, prefaced by the message header fields and
followed by the attachment list, if any. If the message text
is longer than the screen <br>
size, it is piped through the pager.</p>

<p style="margin-top: 1em">~q Abort the message being sent,
copying the message to &lsquo;dead.letter&rsquo; in the
user&rsquo;s home directory if save is set.</p>

<p style="margin-top: 1em">~rfilename <br>
Read the named file into the message.</p>

<p style="margin-top: 1em">~sstring <br>
Cause the named string to become the current subject
field.</p>

<p style="margin-top: 1em">~tname . . . <br>
Add the given names to the direct recipient list.</p>

<p style="margin-top: 1em">~v Invoke an alternate editor
(defined by the VISUAL option) on the message collected so
far. Usually, the alternate editor will be a screen editor.
After the editor is <br>
quit, the user may resume appending text to the end of the
message.</p>

<p style="margin-top: 1em">~wfilename <br>
Write the message onto the named file. If the file exists,
the message is appended to it.</p>

<p style="margin-top: 1em">~x Same as ~q, except that the
message is not saved to the &lsquo;dead.letter&rsquo;
file.</p>

<p style="margin-top: 1em">~|command <br>
Pipe the message through the command as a filter. If the
command gives no output or terminates abnormally, retain the
original text of the message. The command fmt(1) is <br>
often used as command to rejustify the message.</p>

<p style="margin-top: 1em">~:mailx-command <br>
Execute the given mailx command. Not all commands, however,
are allowed.</p>

<p style="margin-top: 1em">~_mailx-command <br>
Identical to ~:.</p>

<p style="margin-top: 1em">~~string <br>
Insert the string of text in the message prefaced by a
single ~. If the escape character has been changed, that
character must be doubled in order to send it at the <br>
beginning of a line.</p>

<p style="margin-top: 1em">Variable options <br>
Options are controlled via set and unset commands, see their
entries for a syntax description. An option is also set if
it is passed to mailx as part of the environment (this is
<br>
not restricted to specific variables as in the POSIX
standard). A value given in a startup file overrides a value
imported from the environment. Options may be either binary,
<br>
in which case it is only significant to see whether they are
set or not; or string, in which case the actual value is of
interest.</p>

<p style="margin-top: 1em">Binary options <br>
The binary options include the following:</p>

<p style="margin-top: 1em">allnet Causes only the local
part to be evaluated when comparing addresses.</p>

<p style="margin-top: 1em">append Causes messages saved in
mbox to be appended to the end rather than prepended. This
should always be set.</p>

<p style="margin-top: 1em">ask or asksub <br>
Causes mailx to prompt for the subject of each message sent.
If the user responds with simply a newline, no subject field
will be sent.</p>

<p style="margin-top: 1em">askatend <br>
Causes the prompts for &lsquo;Cc:&rsquo; and
&lsquo;Bcc:&rsquo; lists to appear after the message has
been edited.</p>

<p style="margin-top: 1em">askattach <br>
If set, mailx asks for files to attach at the end of each
message. Responding with a newline indicates not to include
an attachment.</p>

<p style="margin-top: 1em">askcc Causes the user to be
prompted for additional carbon copy recipients (at the end
of each message if askatend or bsdcompat is set). Responding
with a newline indicates the <br>
user&rsquo;s satisfaction with the current list.</p>

<p style="margin-top: 1em">askbcc Causes the user to be
prompted for additional blind carbon copy recipients (at the
end of each message if askatend or bsdcompat is set).
Responding with a newline indi&acirc; <br>
cates the user&rsquo;s satisfaction with the current
list.</p>

<p style="margin-top: 1em">asksign <br>
Causes the user to be prompted if the message is to be
signed at the end of each message. The smime-sign variable
is ignored when this variable is set.</p>

<p style="margin-top: 1em">autocollapse <br>
Causes threads to be collapsed automatically when threaded
mode is entered (see the collapse command).</p>

<p style="margin-top: 1em">autoinc <br>
Same as newmail.</p>

<p style="margin-top: 1em">autoprint <br>
Causes the delete command to behave like dp - thus, after
deleting a message, the next one will be typed
automatically.</p>

<p style="margin-top: 1em">autothread <br>
Causes threaded mode (see the thread command) to be entered
automatically when a folder is opened.</p>

<p style="margin-top: 1em">bang Enables the substitution of
&lsquo;!&rsquo; by the contents of the last command line in
shell escapes.</p>

<p style="margin-top: 1em">bsdannounce <br>
Causes automatic display of a header summary after executing
a folder command.</p>

<p style="margin-top: 1em">bsdcompat <br>
Sets some cosmetical features to traditional BSD style; has
the same affect as setting &lsquo;askatend&rsquo; and all
other variables prefixed with &lsquo;bsd&rsquo;, setting
prompt to &lsquo;&amp; &rsquo;, and <br>
changing the default pager to more.</p>

<p style="margin-top: 1em">bsdflags <br>
Changes the letters printed in the first column of a header
summary to traditional BSD style.</p>

<p style="margin-top: 1em">bsdheadline <br>
Changes the display of columns in a header summary to
traditional BSD style.</p>

<p style="margin-top: 1em">bsdmsgs <br>
Changes some informational messages to traditional BSD
style.</p>

<p style="margin-top: 1em">bsdorder <br>
Causes the &lsquo;Subject:&rsquo; field to appear
immediately after the &lsquo;To:&rsquo; field in message
headers and with the ~h tilde command.</p>

<p style="margin-top: 1em">bsdset Changes the output format
of the set command to traditional BSD style.</p>

<p style="margin-top: 1em">chained-junk-tokens <br>
Normally, the Bayesian junk mail filter bases its
classifications on single word tokens extracted from
messages. If this option is set, adjacent words are combined
to <br>
pairs, which are then used as additional tokens. This
usually improves the accuracy of the filter, but also
increases the junk mail database five- to tenfold.</p>

<p style="margin-top: 1em">datefield <br>
The date in a header summary is normally the date of the
mailbox &lsquo;From &rsquo; line of the message. If this
variable is set, the date as given in the
&lsquo;Date:&rsquo; header field is <br>
used, converted to local time.</p>

<p style="margin-top: 1em">debug Prints debugging messages
and disables the actual delivery of messages. Unlike
verbose, this option is intended for mailx development
only.</p>

<p style="margin-top: 1em">disconnected <br>
When an IMAP mailbox is selected and this variable is set,
no connection to the server is initiated. Instead, data is
obtained from the local cache (see imap-cache). <br>
Mailboxes that are not present in the cache and messages
that have not yet entirely been fetched from the server are
not available; to fetch all messages in a mailbox at <br>
once, the command &lsquo;copy * /dev/null&rsquo; can be used
while still in online mode. Changes that are made to IMAP
mailboxes in disconnected mode are queued and committed
later <br>
when a connection to that server is opened in online mode.
This procedure is not completely reliable since it cannot be
guaranteed that the IMAP unique identifiers (UIDs) <br>
on the server still match the ones in the cache at that
time. Data is saved to &lsquo;dead.letter&rsquo; when this
problem occurs.</p>

<p style="margin-top: 1em">disconnected-user@host <br>
The specified account is handled as described for the
disconnected variable above, but other accounts are not
affected.</p>

<p style="margin-top: 1em">dot The binary option dot causes
mailx to interpret a period alone on a line as the
terminator of a message the user is sending.</p>

<p style="margin-top: 1em">editheaders <br>
When a message is edited while being composed, its header is
included in the editable text. &lsquo;To:&rsquo;,
&lsquo;Cc:&rsquo;, &lsquo;Bcc:&rsquo;,
&lsquo;Subject:&rsquo;, &lsquo;From:&rsquo;,
&lsquo;Reply-To:&rsquo;, &lsquo;Sender:&rsquo;, and
&rsquo;Orga&acirc; <br>
nization:&rsquo; fields are accepted within the header,
other fields are ignored.</p>

<p style="margin-top: 1em">emptybox <br>
If set, an empty mailbox file is not removed. This may
improve the interoperability with other mail user agents
when using a common folder directory.</p>

<p style="margin-top: 1em">emptystart <br>
If the mailbox is empty, mailx normally prints &lsquo;No
mail for user&rsquo; and exits immediately. If this option
is set, mailx starts even with an empty mailbox.</p>

<p style="margin-top: 1em">expandaddr <br>
Causes mailx to expand message recipient addresses, as
explained in the section, Recipient address
specifications.</p>

<p style="margin-top: 1em">flipr Exchanges the Respond with
the respond commands and vice-versa.</p>

<p style="margin-top: 1em">forward-as-attachment <br>
Original messages are normally sent as inline text with the
forward command, and only the first part of a multipart
message is included. With this option, messages are <br>
sent as MIME message/rfc822 attachments, and all of their
parts are included. The fwdignore and fwdretain options are
ignored when the forward-as-attachment option is <br>
set.</p>

<p style="margin-top: 1em">fullnames <br>
When replying to a message, mailx normally removes the
comment parts of email addresses, which by convention
contain the full names of the recipients. If this variable
is <br>
set, such stripping is not performed, and comments are
retained.</p>

<p style="margin-top: 1em">header Causes the header summary
to be written at startup and after commands that affect the
number of messages or the order of messages in the current
folder; enabled by <br>
default.</p>

<p style="margin-top: 1em">hold This option is used to hold
messages in the system mailbox by default.</p>

<p style="margin-top: 1em">ignore Causes interrupt signals
from the terminal to be ignored and echoed as @&rsquo;s.</p>

<p style="margin-top: 1em">ignoreeof <br>
An option related to dot is ignoreeof which makes mailx
refuse to accept a control-d as the end of a message.
Ignoreeof also applies to mailx command mode.</p>

<p style="margin-top: 1em">imap-use-starttls <br>
Causes mailx to issue a STARTTLS command to make an
unencrypted IMAP session SSL/TLS encrypted. This
functionality is not supported by all servers, and is not
used if the <br>
session is already encrypted by the IMAPS method.</p>

<p style="margin-top: 1em">imap-use-starttls-user@host <br>
Activates imap-use-starttls for a specific account.</p>

<p style="margin-top: 1em">keep This option causes mailx to
truncate the user&rsquo;s system mailbox instead of deleting
it when it is empty. This should always be set, since it
prevents malicious users from <br>
creating fake mail folders in a world-writable spool
directory.</p>

<p style="margin-top: 1em">keepsave <br>
When a message is saved, it is usually discarded from the
originating folder when mailx is quit. Setting this option
causes all saved message to be retained.</p>

<p style="margin-top: 1em">markanswered <br>
When a message is replied to and this variable is set, it is
marked as having been answered. This mark has no technical
meaning in the mail system; it just causes mes&acirc; <br>
sages to be marked in the header summary, and makes them
specially addressable.</p>

<p style="margin-top: 1em">metoo Usually, when a group is
expanded that contains the sender, the sender is removed
from the expansion. Setting this option causes the sender to
be included in the group.</p>

<p style="margin-top: 1em">newmail <br>
Checks for new mail in the current folder each time the
prompt is printed. For IMAP mailboxes, the server is then
polled for new mail, which may result in delayed
opera&acirc; <br>
tion if the connection to the server is slow. A maildir
folder must be re-scanned to determine if new mail has
arrived.</p>

<p style="margin-top: 1em">If this variable is set to the
special value nopoll, an IMAP server is not actively asked
for new mail, but new mail may still be detected and
announced with any other <br>
IMAP command that is sent to the server. A maildir folder is
not scanned then.</p>

<p style="margin-top: 1em">In any case, the IMAP server may
send notifications about messages that have been deleted on
the server by another process or client. In this case,
&lsquo;Expunged n messages&rsquo; <br>
is printed regardless of this variable, and message numbers
may have changed.</p>

<p style="margin-top: 1em">noheader <br>
Setting the option noheader is the same as giving the -N
flag on the command line.</p>

<p style="margin-top: 1em">outfolder <br>
Causes the filename given in the record variable and the
sender-based filenames for the Copy and Save commands to be
interpreted relative to the directory given in the <br>
folder variable rather than to the current directory unless
it is an absolute pathname.</p>

<p style="margin-top: 1em">page If set, each message the
pipe command prints out is followed by a formfeed
character.</p>

<p style="margin-top: 1em">piperaw <br>
Send messages to the pipe command without performing MIME
and character set conversions.</p>

<p style="margin-top: 1em">pop3-use-apop <br>
If this variable is set, the APOP authentication method is
used when a connection to a POP3 server is initiated. The
advantage of this method over the usual USER/PASS <br>
authentication is that the password is not sent over the
network in clear text. The connection fails if the server
does not support the APOP command.</p>

<p style="margin-top: 1em">pop3-use-apop-user@host <br>
Enables pop3-use-apop for a specific account.</p>

<p style="margin-top: 1em">pop3-use-starttls <br>
Causes mailx to issue a STLS command to make an unencrypted
POP3 session SSL/TLS encrypted. This functionality is not
supported by all servers, and is not used if the <br>
session is already encrypted by the POP3S method.</p>

<p style="margin-top: 1em">pop3-use-starttls-user@host <br>
Activates pop3-use-starttls for a specific account.</p>

<p style="margin-top: 1em">print-all-chars <br>
This option causes all characters to be considered
printable. It is only effective if given in a startup file.
With this option set, some character sequences in messages
<br>
may put the user&rsquo;s terminal in an undefined state when
printed; it should only be used as a last resort if no
working system locale can be found.</p>

<p style="margin-top: 1em">print-alternatives <br>
When a MIME message part of type multipart/alternative is
displayed and it contains a subpart of type text/plain,
other parts are normally discarded. Setting this vari&acirc;
<br>
able causes all subparts to be displayed, just as if the
surrounding part was of type multipart/mixed.</p>

<p style="margin-top: 1em">quiet Suppresses the printing of
the version when first invoked.</p>

<p style="margin-top: 1em">record-resent <br>
If both this variable and the record variable are set, the
resend and Resend commands save messages to the record
folder as it is normally only done for newly composed <br>
messages.</p>

<p style="margin-top: 1em">reply-in-same-charset <br>
If this variable is set, mailx first tries to use the same
character set of the original message for replies. If this
fails, the sendcharsets variable is evaluated as <br>
usual.</p>

<p style="margin-top: 1em">Replyall <br>
Reverses the sense of reply and Reply commands.</p>

<p style="margin-top: 1em">save When the user aborts a
message with two RUBOUT (interrupt characters) mailx copies
the partial letter to the file &lsquo;dead.letter&rsquo; in
the home directory. This option is set <br>
by default.</p>

<p style="margin-top: 1em">searchheaders <br>
If this option is set, then a message-list specifier in the
form &lsquo;/x:y&rsquo; will expand to all messages
containing the substring &lsquo;y&rsquo; in the header field
&lsquo;x&rsquo;. The string <br>
search is case insensitive.</p>

<p style="margin-top: 1em">sendwait <br>
When sending a message, wait until the mail transfer agent
exits before accepting further commands. If the mail
transfer agent returns a non-zero exit status, the exit <br>
status of mailx will also be non-zero.</p>

<p style="margin-top: 1em">showlast <br>
Setting this option causes mailx to start at the last
message instead of the first one when opening a mail
folder.</p>

<p style="margin-top: 1em">showname <br>
Causes mailx to use the sender&rsquo;s real name instead of
the plain address in the header field summary and in message
specifications.</p>

<p style="margin-top: 1em">showto Causes the recipient of
the message to be shown in the header summary if the message
was sent by the user.</p>

<p style="margin-top: 1em">skipemptybody <br>
If an outgoing message does not contain any text in its
first or only message part, do not send it but discard it
silently (see also the -E option).</p>

<p style="margin-top: 1em">smime-force-encryption <br>
Causes mailx to refuse sending unencrypted messages.</p>

<p style="margin-top: 1em">smime-sign <br>
If this variable is set, outgoing messages are S/MIME signed
with the user&rsquo;s private key. Signing a message enables
a recipient to verify that the sender used a valid <br>
certificate, that the email addresses in the certificate
match those in the message header, and that the message
content has not been altered. It does not change the
mes&acirc; <br>
sage text, and people will be able to read the message as
usual.</p>

<p style="margin-top: 1em">smime-no-default-ca <br>
Do not load the default CA locations when verifying S/MIME
signed messages. Only applicable if S/MIME support is built
using OpenSSL.</p>

<p style="margin-top: 1em">smtp-use-starttls <br>
Causes mailx to issue a STARTTLS command to make an SMTP
session SSL/TLS encrypted. Not all servers support this
command; because of common implementation defects, it <br>
cannot be automatically determined whether a server supports
it or not.</p>

<p style="margin-top: 1em">ssl-no-default-ca <br>
Do not load the default CA locations to verify SSL/TLS
server certificates. Only applicable if SSL/TLS support is
built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-v2-allow <br>
Accept SSLv2 connections. These are normally not allowed
because this protocol version is insecure.</p>

<p style="margin-top: 1em">stealthmua <br>
Inhibits the generation of the &lsquo;Message-Id:&rsquo; and
&lsquo;User-Agent:&rsquo; header fields that include obvious
references to mailx. There are two pitfalls associated with
this: First, <br>
the message id of outgoing messages is not known anymore.
Second, an expert may still use the remaining information in
the header to track down the originating mail user <br>
agent.</p>

<p style="margin-top: 1em">verbose <br>
Setting the option verbose is the same as using the -v flag
on the command line. When mailx runs in verbose mode,
details of the actual message delivery and protocol
con&acirc; <br>
versations for IMAP, POP3, and SMTP, as well as of other
internal processes, are displayed on the user&rsquo;s
terminal, This is sometimes useful to debug problems. Mailx
<br>
prints all data that is sent to remote servers in clear
texts, including passwords, so care should be taken that no
unauthorized option can view the screen if this option <br>
is enabled.</p>

<p style="margin-top: 1em">writebackedited <br>
If this variable is set, messages modified using the edit or
visual commands are written back to the current folder when
it is quit. This is only possible for writable <br>
folders in mbox format. Setting this variable also disables
MIME decoding and decryption for the editing commands.</p>

<p style="margin-top: 1em">String Options <br>
The string options include the following:</p>

<p style="margin-top: 1em">attrlist <br>
A sequence of characters to print in the
&lsquo;attribute&rsquo; column of a header summary, each for
one type of messages in the following order: new, unread but
old, new but read, <br>
read and old, saved, preserved, mboxed, flagged, answered,
draft, killed, start of a collapsed thread, collapsed,
classified as junk. The default is
&lsquo;NUROSPMFATK+-J&rsquo;, or <br>
&lsquo;NU *HMFATK+-J&rsquo; if bsdflags or the SYSV3
environment variable are set.</p>

<p style="margin-top: 1em">autobcc <br>
Specifies a list of recipients to which a blind carbon copy
of each outgoing message will be sent automatically.</p>

<p style="margin-top: 1em">autocc Specifies a list of
recipients to which a carbon copy of each outgoing message
will be sent automatically.</p>

<p style="margin-top: 1em">autosort <br>
Causes sorted mode (see the sort command) to be entered
automatically with the value of this option as sorting
method when a folder is opened.</p>

<p style="margin-top: 1em">cmd The default value for the
pipe command.</p>

<p style="margin-top: 1em">crt The valued option crt is
used as a threshold to determine how long a message must be
before PAGER is used to read it. If crt is set without a
value, then the height of <br>
the terminal screen stored in the system is used to compute
the threshold (see stty(1)).</p>

<p style="margin-top: 1em">DEAD The name of the file to use
for saving aborted messages. This defaults to
&lsquo;dead.letter&rsquo; in the user&rsquo;s home
directory.</p>

<p style="margin-top: 1em">EDITOR Pathname of the text
editor to use in the edit command and ~e escape. If not
defined, then a default editor is used.</p>

<p style="margin-top: 1em">encoding <br>
The default MIME encoding to use in outgoing text messages
and message parts. Valid values are 8bit or
quoted-printable. The default is 8bit. In case the mail
transfer <br>
system is not ESMTP compliant, quoted-printable should be
used instead. If there is no need to encode a message, 7bit
transfer mode is used, without regard to the value <br>
of this variable. Binary data is always encoded in base64
mode.</p>

<p style="margin-top: 1em">escape If defined, the first
character of this option gives the character to use in the
place of ~ to denote escapes.</p>

<p style="margin-top: 1em">folder The name of the directory
to use for storing folders of messages. All folder names
that begin with &lsquo;+&rsquo; refer to files below that
directory. If the directory name begins <br>
with a &lsquo;/&rsquo;, mailx considers it to be an absolute
pathname; otherwise, the folder directory is found relative
to the user&rsquo;s home directory.</p>

<p style="margin-top: 1em">The directory name may also
refer to an IMAP account; any names that begin with
&lsquo;+&rsquo; then refer to IMAP mailboxes on that
account. An IMAP folder is normally given in the <br>
form</p>


<p style="margin-top: 1em">imaps://mylogin@imap.myisp.example</p>

<p style="margin-top: 1em">In this case, the
&lsquo;+&rsquo; and &lsquo;@&rsquo; prefixes for folder
names have the same effect (see the folder command).</p>

<p style="margin-top: 1em">Some IMAP servers do not accept
the creation of mailboxes in the hierarchy base; they
require that they are created as subfolders of
&lsquo;INBOX&rsquo;. With such servers, a folder <br>
name of the form</p>


<p style="margin-top: 1em">imaps://mylogin@imap.myisp.example/INBOX.</p>

<p style="margin-top: 1em">should be used (the last
character is the server&rsquo;s hierarchy delimiter). Folder
names prefixed by &lsquo;+&rsquo; will then refer to folders
below &lsquo;INBOX&rsquo;, while folder names pre&acirc;
<br>
fixed by &lsquo;@&rsquo; refer to folders below the
hierarchy base. See the imap namespace command for a method
to detect the appropriate prefix and delimiter.</p>

<p style="margin-top: 1em">folder-hook <br>
When a folder is opened and this variable is set, the macro
corresponding to the value of this variable is executed. The
macro is also invoked when new mail arrives, but <br>
message lists for commands executed from the macro only
include newly arrived messages then.</p>

<p style="margin-top: 1em">folder-hook-fullname <br>
When a folder named fullname is opened, the macro
corresponding to the value of this variable is executed.
Unlike other folder specifications, the fully expanded name
of <br>
a folder, without metacharacters, is used to avoid
ambiguities. The macro specified with folder-hook is not
executed if this variable is effective for a folder (unless
it <br>
is explicitly invoked within the called macro).</p>

<p style="margin-top: 1em">from The address (or a list of
addresses) to put into the &lsquo;From:&rsquo; field of the
message header. If replying to a message, these addresses
are handled as if they were in the <br>
alternates list. If the machine&rsquo;s hostname is not
valid at the Internet (for example at a dialup machine),
either this variable or hostname have to be set to get
correct <br>
Message-ID header fields. If from contains more than one
address, the sender variable must also be set.</p>

<p style="margin-top: 1em">fwdheading <br>
The string to print before the text of a message with the
forward command (unless the forward-as-attachment variable
is set). Defaults to &lsquo;&lsquo;-------- Original Message
<br>
--------&rsquo;&rsquo; if unset. If it is set to the empty
string, no heading is printed.</p>

<p style="margin-top: 1em">headline <br>
A format string to use for the header summary, similar to
printf formats. A &lsquo;%&rsquo; character introduces a
format specifier. It may be followed by a number indicating
the <br>
field width. If the field is a number, the width may be
negative, which indicates that it is to be left-aligned.
Valid format specifiers are:</p>

<p style="margin-top: 1em">%a Message attributes. <br>
%c The score of the message. <br>
%d The date when the message was received. <br>
%e The indenting level in threaded mode. <br>
%f The address of the message sender. <br>
%i The message thread structure. <br>
%l The number of lines of the message. <br>
%m Message number. <br>
%o The number of octets (bytes) in the message. <br>
%s Message subject (if any). <br>
%S Message subject (if any) in double quotes. <br>
%t The position in threaded/sorted order. <br>
%&gt; A &lsquo;&gt;&rsquo; for the current message,
otherwise &lsquo; &rsquo;. <br>
%&lt; A &lsquo;&lt;&rsquo; for the current message,
otherwise &lsquo; &rsquo;. <br>
%% A &lsquo;%&rsquo; character.</p>

<p style="margin-top: 1em">The default is &lsquo;%&gt;%a%m
%18f %16d %4l/%-5o %i%s&rsquo;, or &lsquo;%&gt;%a%m %20f
%16d %3l/%-5o %i%S&rsquo; if bsdcompat is set.</p>

<p style="margin-top: 1em">hostname <br>
Use this string as hostname when expanding local addresses
instead of the value obtained from uname(2) and
getaddrinfo(3).</p>

<p style="margin-top: 1em">imap-auth <br>
Sets the IMAP authentication method. Valid values are
&lsquo;login&rsquo; for the usual password-based
authentication (the default), &lsquo;cram-md5&rsquo;, which
is a password-based authentica&acirc; <br>
tion that does not send the password over the network in
clear text, and &lsquo;gssapi&rsquo; for GSSAPI-based
authentication.</p>

<p style="margin-top: 1em">imap-auth-user@host <br>
Sets the IMAP authentication method for a specific
account.</p>

<p style="margin-top: 1em">imap-cache <br>
Enables caching of IMAP mailboxes. The value of this
variable must point to a directory that is either existent
or can be created by mailx. All contents of the cache can
<br>
be deleted by mailx at any time; it is not safe to make
assumptions about them.</p>

<p style="margin-top: 1em">imap-keepalive <br>
IMAP servers may close the connection after a period of
inactivity; the standard requires this to be at least 30
minutes, but practical experience may vary. Setting this
<br>
variable to a numeric value greater than 0 causes a NOOP
command to be sent each value seconds if no other operation
is performed.</p>

<p style="margin-top: 1em">imap-list-depth <br>
When retrieving the list of folders on an IMAP server, the
folders command stops after it has reached a certain depth
to avoid possible infinite loops. The value of this <br>
variable sets the maximum depth allowed. The default is 2.
If the folder separator on the current IMAP server is a
slash &lsquo;/&rsquo;, this variable has no effect, and the
fold&acirc; <br>
ers command does not descend to subfolders.</p>

<p style="margin-top: 1em">indentprefix <br>
String used by the &lsquo;~m&rsquo; and &lsquo;~M&rsquo;
tilde escapes and by the quote option for indenting
messages, in place of the normal tab character (^I). Be sure
to quote the value if it <br>
contains spaces or tabs.</p>

<p style="margin-top: 1em">junkdb The location of the junk
mail database. The string is treated like a folder name, as
described for the folder command.</p>

<p style="margin-top: 1em">The files in the junk mail
database are normally stored in compress(1) format for
saving space. If processing time is considered more
important, uncompress(1) can be used <br>
to store them in plain form. Mailx will then work using the
uncompressed files.</p>

<p style="margin-top: 1em">LISTER Pathname of the directory
lister to use in the folders command when operating on local
mailboxes. Default is /bin/ls.</p>

<p style="margin-top: 1em">MAIL Is used as the user&rsquo;s
mailbox, if set. Otherwise, a system-dependent default is
used. Can be a protocol:// string (see the folder command
for more information).</p>

<p style="margin-top: 1em">MAILX_HEAD <br>
A string to put at the beginning of each new message. The
escape sequences &lsquo;&rsquo; (tabulator) and &lsquo;0
(newline) are understood.</p>

<p style="margin-top: 1em">MAILX_TAIL <br>
A string to put at the end of each new message. The escape
sequences &lsquo;&rsquo; (tabulator) and &lsquo;0 (newline)
are understood.</p>

<p style="margin-top: 1em">maximum-unencoded-line-length
<br>
Messages that contain lines longer than the value of this
variable are encoded in quoted-printable even if they
contain only ASCII characters. The maximum effective value
<br>
is 950. If set to 0, all ASCII text messages are encoded in
quoted-printable. S/MIME signed messages are always encoded
in quoted-printable regardless of the value of <br>
this variable.</p>

<p style="margin-top: 1em">MBOX The name of the mbox file.
It can be the name of a folder. The default is
&lsquo;mbox&rsquo; in the user&rsquo;s home directory.</p>

<p style="margin-top: 1em">NAIL_EXTRA_RC <br>
The name of an optional startup file to be read after
~/.mailrc. This variable is ignored if it is imported from
the environment; it has an effect only if it is set in <br>
/etc/mail.rc or ~/.mailrc to allow bypassing the
configuration with e. g. &lsquo;MAILRC=/dev/null&rsquo;. Use
this file for commands that are not understood by other
mailx implemen&acirc; <br>
tations.</p>

<p style="margin-top: 1em">newfolders <br>
If this variable has the value maildir, newly created local
folders will be in maildir format.</p>

<p style="margin-top: 1em">nss-config-dir <br>
A directory that contains the files certN.db to retrieve
certificates, keyN.db to retrieve private keys, and
secmod.db, where N is a digit. These are usually taken from
<br>
Mozilla installations, so an appropriate value might be
&lsquo;~/.mozilla/firefox/default.clm&rsquo;. Mailx opens
these files read-only and does not modify them. However, if
the <br>
files are modified by Mozilla while mailx is running, it
will print a &lsquo;Bad database&rsquo; message. It may be
necessary to create copies of these files that are
exclusively <br>
used by mailx then. Only applicable if S/MIME and SSL/TLS
support is built using Network Security Services (NSS).</p>

<p style="margin-top: 1em">ORGANIZATION <br>
The value to put into the &lsquo;Organization:&rsquo; field
of the message header.</p>

<p style="margin-top: 1em">PAGER Pathname of the program to
use in the more command or when crt variable is set. The
default paginator pg(1) or, in BSD compatibility mode,
more(1) is used if this option <br>
is not defined.</p>

<p style="margin-top: 1em">password-user@host <br>
Set the password for user when connecting to host. If no
such variable is defined for a host, the user will be asked
for a password on standard input. Specifying pass&acirc;
<br>
words in a startup file is generally a security risk, the
file should be readable by the invoking user only.</p>

<p style="margin-top: 1em">pipe-content/subcontent <br>
When a MIME message part of content/subcontent type is
displayed or it is replied to, its text is filtered through
the value of this variable interpreted as a shell com&acirc;
<br>
mand. Special care must be taken when using such commands as
mail viruses may be distributed by this method; if messages
of type application/x-sh were filtered through <br>
the shell, for example, a message sender could easily
execute arbitrary code on the system mailx is running
on.</p>

<p style="margin-top: 1em">pop3-keepalive <br>
POP3 servers may close the connection after a period of
inactivity; the standard requires this to be at least 10
minutes, but practical experience may vary. Setting this
<br>
variable to a numeric value greater than 0 causes a NOOP
command to be sent each value seconds if no other operation
is performed.</p>

<p style="margin-top: 1em">prompt The string printed when a
command is accepted. Defaults to &lsquo;? &rsquo;, or to
&lsquo;&amp; &rsquo; if the bsdcompat variable is set.</p>

<p style="margin-top: 1em">quote If set, mailx starts a
replying message with the original message prefixed by the
value of the variable indentprefix. Normally, a heading
consisting of &lsquo;Fromheaderfield <br>
wrote:&rsquo; is printed before the quotation. If the string
noheading is assigned to the quote variable, this heading is
omitted. If the string headers is assigned, the head&acirc;
<br>
ers selected by the ignore/retain commands are printed above
the message body, thus quote acts like an automatic ~m
command then. If the string allheaders is assigned, <br>
all headers are printed above the message body, and all MIME
parts are included, thus quote acts like an automatic ~M
command then.</p>

<p style="margin-top: 1em">record If defined, gives the
pathname of the folder used to record all outgoing mail. If
not defined, then outgoing mail is not so saved. When saving
to this folder fails, the <br>
message is not sent but saved to the
&lsquo;dead.letter&rsquo; file instead.</p>

<p style="margin-top: 1em">replyto <br>
A list of addresses to put into the &lsquo;Reply-To:&rsquo;
field of the message header. If replying to a message, such
addresses are handled as if they were in the alternates
list.</p>

<p style="margin-top: 1em">screen When mailx initially
prints the message headers, it determines the number to
print by looking at the speed of the terminal. The faster
the terminal, the more it prints. <br>
This option overrides this calculation and specifies how
many message headers are printed. This number is also used
for scrolling with the z command.</p>

<p style="margin-top: 1em">sendcharsets <br>
A comma-separated list of character set names that can be
used in Internet mail. When a message that contains
characters not representable in US-ASCII is prepared for
<br>
sending, mailx tries to convert its text to each of the
given character sets in order and uses the first appropriate
one. The default is &lsquo;utf-8&rsquo;.</p>

<p style="margin-top: 1em">Character sets assigned to this
variable should be ordered in ascending complexity. That is,
the list should start with e.g. &lsquo;iso-8859-1&rsquo; for
compatibility with older <br>
mail clients, might contain some other language-specific
character sets, and should end with &lsquo;utf-8&rsquo; to
handle messages that combine texts in multiple
languages.</p>

<p style="margin-top: 1em">sender An address that is put
into the &lsquo;Sender:&rsquo; field of outgoing messages.
This field needs not normally be present. It is, however,
required if the &lsquo;From:&rsquo; field contains <br>
more than one address. It can also be used to indicate that
a message was sent on behalf of somebody other; in this
case, &lsquo;From:&rsquo; should contain the address of the
person <br>
that took responsibility for the message, and
&lsquo;Sender:&rsquo; should contain the address of the
person that actually sent the message. The sender address is
handled as if it <br>
were in the alternates list.</p>

<p style="margin-top: 1em">sendmail <br>
To use an alternate mail delivery system, set this option to
the full pathname of the program to use. This should be used
with care.</p>

<p style="margin-top: 1em">SHELL Pathname of the shell to
use in the ! command and the ~! escape. A default shell is
used if this option is not defined.</p>

<p style="margin-top: 1em">Sign A string for use with the
~A command.</p>

<p style="margin-top: 1em">sign A string for use with the
~a command.</p>

<p style="margin-top: 1em">signature <br>
Must correspond to the name of a readable file if set. The
file&rsquo;s content is then appended to each singlepart
message and to the first part of each multipart message. Be
<br>
warned that there is no possibility to edit the signature
for an individual message.</p>

<p style="margin-top: 1em">smime-ca-dir <br>
Specifies a directory with CA certificates for verification
of S/MIME signed messages. The format is the same as
described in SSL_CTX_load_verify_locations(3). Only <br>
applicable if S/MIME support is built using OpenSSL.</p>

<p style="margin-top: 1em">smime-ca-file <br>
Specifies a file with CA certificates for verification of
S/MIME signed messages. The format is the same as described
in SSL_CTX_load_verify_locations(3). Only applica&acirc;
<br>
ble if S/MIME support is built using OpenSSL.</p>

<p style="margin-top: 1em">smime-cipher-user@host <br>
Specifies a cipher to use when generating S/MIME encrypted
messages for user@host. Valid ciphers are rc2-40 (RC2 with
40 bits), rc2-64 (RC2 with 64 bits), des (DES, 56 <br>
bits) and des-ede3 (3DES, 112/168 bits). The default is
3DES. It is not recommended to use the other ciphers unless
a recipient&rsquo;s client is actually unable to handle <br>
3DES since they are comparatively weak; but even so, the
recipient should upgrade his software in preference.</p>

<p style="margin-top: 1em">smime-crl-file <br>
Specifies a file that contains a CRL in PEM format to use
when verifying S/MIME messages. Only applicable if S/MIME
support is built using OpenSSL.</p>

<p style="margin-top: 1em">smime-crl-dir <br>
Specifies a directory that contains files with CRLs in PEM
format to use when verifying S/MIME messages. Only
applicable if S/MIME support is built using OpenSSL.</p>

<p style="margin-top: 1em">smime-encrypt-user@host <br>
If this variable is set, messages to user@host are encrypted
before sending. If S/MIME support is built using OpenSSL,
the value of the variable must be set to the name <br>
of a file that contains a certificate in PEM format. If
S/MIME support is built using NSS, the value of this
variable is ignored, but if multiple certificates for <br>
user@host are available, the smime-nickname-user@host
variable should be set. Otherwise a certificate for the
recipient is automatically retrieved from the certificate
<br>
database, if possible.</p>

<p style="margin-top: 1em">If a message is sent to multiple
recipients, each of them for whom a corresponding variable
is set will receive an individually encrypted message; other
recipients will <br>
continue to receive the message in plain text unless the
smime-force-encryption variable is set. It is recommended to
sign encrypted messages, i.e. to also set the smime- <br>
sign variable.</p>

<p style="margin-top: 1em">smime-nickname-user@host <br>
Specifies the nickname of a certificate to be used when
encrypting messages for user@host . Only applicable if
S/MIME support is built using NSS.</p>

<p style="margin-top: 1em">smime-sign-cert <br>
Points to a file in PEM format that contains the
user&rsquo;s private key as well as his certificate. Both
are used with S/MIME for signing and decrypting messages.
Only <br>
applicable if S/MIME support is built using OpenSSL.</p>

<p style="margin-top: 1em">smime-sign-cert-user@host <br>
Overrides smime-sign-cert for the specific addresses. When
signing messages and the value of the from variable is set
to user@host, the specific file is used. When <br>
decrypting messages, their recipient fields (To: and Cc:)
are searched for addresses for which such a variable is set.
Mailx always uses the first address that matches, <br>
so if the same message is sent to more than one of the
user&rsquo;s addresses using different encryption keys,
decryption might fail. Only applicable if S/MIME support is
built <br>
using OpenSSL.</p>

<p style="margin-top: 1em">smime-sign-nickname <br>
Specifies that the named certificate be used for signing
mail. If this variable is not set, but a single certificate
matching the current from address is found in the <br>
database, that one is used automatically. Only applicable if
S/MIME support is built using NSS.</p>

<p style="margin-top: 1em">smime-sign-nickname-user@host
<br>
Overrides smime-sign-nickname for a specific address. Only
applicable if S/MIME support is built using NSS.</p>

<p style="margin-top: 1em">smtp Normally, mailx invokes
sendmail(8) directly to transfer messages. If the smtp
variable is set, a SMTP connection to the server specified
by the value of this variable is <br>
used instead. If the SMTP server does not use the standard
port, a value of server:port can be given, with port as a
name or as a number.</p>

<p style="margin-top: 1em">There are two possible methods
to get SSL/TLS encrypted SMTP sessions: First, the STARTTLS
command can be used to encrypt a session after it has been
initiated, but before <br>
any user-related data has been sent; see smtp-use-starttls
above. Second, some servers accept sessions that are
encrypted from their beginning on. This mode is configured
<br>
by assigning smtps://server[:port] to the smtp variable.</p>

<p style="margin-top: 1em">The SMTP transfer is executed in
a child process; unless either the sendwait or the verbose
variable is set, this process runs asynchronously. If it
receives a TERM sig&acirc; <br>
nal, it will abort and save the message to the
&lsquo;dead.letter&rsquo; file.</p>

<p style="margin-top: 1em">smtp-auth <br>
Sets the SMTP authentication method. If set to
&lsquo;login&rsquo;, or if unset and smtp-auth-user is set,
AUTH LOGIN is used. If set to &lsquo;cram-md5&rsquo;, AUTH
CRAM-MD5 is used; if set to <br>
&lsquo;plain&rsquo;, AUTH PLAIN is used. Otherwise, no SMTP
authentication is performed.</p>

<p style="margin-top: 1em">smtp-auth-user@host <br>
Overrides smtp-auth for specific values of sender addresses,
depending on the from variable.</p>

<p style="margin-top: 1em">smtp-auth-password <br>
Sets the global password for SMTP AUTH. Both user and
password have to be given for AUTH LOGIN and AUTH
CRAM-MD5.</p>

<p style="margin-top: 1em">smtp-auth-password-user@host
<br>
Overrides smtp-auth-password for specific values of sender
addresses, depending on the from variable.</p>

<p style="margin-top: 1em">smtp-auth-user <br>
Sets the global user name for SMTP AUTH. Both user and
password have to be given for AUTH LOGIN and AUTH
CRAM-MD5.</p>

<p style="margin-top: 1em">If this variable is set but
neither smtp-auth-password or a matching
smtp-auth-password-user@host can be found, mailx will as for
a password on the user&rsquo;s terminal.</p>

<p style="margin-top: 1em">smtp-auth-user-user@host <br>
Overrides smtp-auth-user for specific values of sender
addresses, depending on the from variable.</p>

<p style="margin-top: 1em">ssl-ca-dir <br>
Specifies a directory with CA certificates for verification
of SSL/TLS server certificates. See
SSL_CTX_load_verify_locations(3) for more information. Only
applicable if <br>
SSL/TLS support is built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-ca-file <br>
Specifies a file with CA certificates for verification of
SSL/TLS server certificates. See
SSL_CTX_load_verify_locations(3) for more information. Only
applicable if <br>
SSL/TLS support is built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-cert <br>
Sets the file name for a SSL/TLS client certificate required
by some servers. Only applicable if SSL/TLS support is built
using OpenSSL.</p>

<p style="margin-top: 1em">ssl-cert-user@host <br>
Sets an account-specific file name for a SSL/TLS client
certificate required by some servers. Overrides ssl-cert for
the specified account. Only applicable if SSL/TLS <br>
support is built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-cipher-list <br>
Specifies a list of ciphers for SSL/TLS connections. See
ciphers(1) for more information. Only applicable if SSL/TLS
support is built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-crl-file <br>
Specifies a file that contains a CRL in PEM format to use
when verifying SSL/TLS server certificates. Only applicable
if SSL/TLS support is built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-crl-dir <br>
Specifies a directory that contains files with CRLs in PEM
format to use when verifying SSL/TLS server certificates.
Only applicable if SSL/TLS support is built using <br>
OpenSSL.</p>

<p style="margin-top: 1em">ssl-key <br>
Sets the file name for the private key of a SSL/TLS client
certificate. If unset, the name of the certificate file is
used. The file is expected to be in PEM format. <br>
Only applicable if SSL/TLS support is built using
OpenSSL.</p>

<p style="margin-top: 1em">ssl-key-user@host <br>
Sets an account-specific file name for the private key of a
SSL/TLS client certificate. Overrides ssl-key for the
specified account. Only applicable if SSL/TLS support <br>
is built using OpenSSL.</p>

<p style="margin-top: 1em">ssl-method <br>
Selects a SSL/TLS protocol version; valid values are
&lsquo;ssl2&rsquo;, &lsquo;ssl3&rsquo;, and
&lsquo;tls1&rsquo;. If unset, the method is selected
automatically, if possible.</p>

<p style="margin-top: 1em">ssl-method-user@host <br>
Overrides ssl-method for a specific account.</p>

<p style="margin-top: 1em">ssl-rand-egd <br>
Gives the pathname to an entropy daemon socket, see
RAND_egd(3).</p>

<p style="margin-top: 1em">ssl-rand-file <br>
Gives the pathname to a file with entropy data, see
RAND_load_file(3). If the file is a regular file writable by
the invoking user, new data is written to it after it has
<br>
been loaded. Only applicable if SSL/TLS support is built
using OpenSSL.</p>

<p style="margin-top: 1em">ssl-verify <br>
Sets the action to be performed if an error occurs during
SSL/TLS server certificate validation. Valid values are
&lsquo;strict&rsquo; (fail and close connection
immediately), &lsquo;ask&rsquo; <br>
(ask whether to continue on standard input),
&lsquo;warn&rsquo; (print a warning and continue),
&lsquo;ignore&rsquo; (do not perform validation). The
default is &lsquo;ask&rsquo;.</p>

<p style="margin-top: 1em">ssl-verify-user@host <br>
Overrides ssl-verify for a specific account.</p>

<p style="margin-top: 1em">toplines <br>
If defined, gives the number of lines of a message to be
printed out with the top command; normally, the first five
lines are printed.</p>

<p style="margin-top: 1em">ttycharset <br>
The character set of the terminal mailx operates on. There
is normally no need to set this variable since mailx can
determine this automatically by looking at the <br>
LC_CTYPE locale setting; if this succeeds, the value is
assigned at startup and will be displayed by the set
command. Note that this is not necessarily a character set
<br>
name that can be used in Internet messages.</p>

<p style="margin-top: 1em">VISUAL Pathname of the text
editor to use in the visual command and ~v escape.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
Besides the variables described above, mailx uses the
following environment strings:</p>

<p style="margin-top: 1em">HOME The user&rsquo;s home
directory.</p>

<p style="margin-top: 1em">LANG, LC_ALL, LC_COLLATE,
LC_CTYPE, LC_MESSAGES <br>
See locale(7).</p>

<p style="margin-top: 1em">MAILRC Is used as startup file
instead of ~/.mailrc if set. When mailx scripts are invoked
on behalf of other users, this variable should be set to
&lsquo;/dev/null&rsquo; to avoid side- <br>
effects from reading their configuration files.</p>

<p style="margin-top: 1em">NAILRC If this variable is set
and MAILRC is not set, it is read as startup file.</p>

<p style="margin-top: 1em">SYSV3 Changes the letters
printed in the first column of a header summary.</p>

<p style="margin-top: 1em">TMPDIR Used as directory for
temporary files instead of /tmp, if set.</p>

<p style="margin-top: 1em">FILES <br>
~/.mailrc <br>
File giving initial commands.</p>

<p style="margin-top: 1em">/etc/mail.rc <br>
System wide initialization file.</p>

<p style="margin-top: 1em">~/.mime.types <br>
Personal MIME types.</p>

<p style="margin-top: 1em">/etc/mime.types <br>
System wide MIME types.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Getting started <br>
The mailx command has two distinct usages, according to
whether one wants to send or receive mail. Sending mail is
simple: to send a message to a user whose email address is,
<br>
say, &lt;bill@host.example&gt;, use the shell command:</p>

<p style="margin-top: 1em">$ mailx bill@host.example</p>

<p style="margin-top: 1em">then type your message. Mailx
will prompt you for a message subject first; after that,
lines typed by you form the body of the message. When you
reach the end of the message, <br>
type an EOT (control-d) at the beginning of a line, which
will cause mailx to echo &lsquo;EOT&rsquo; and return you to
the shell.</p>

<p style="margin-top: 1em">If, while you are composing the
message you decide that you do not wish to send it after
all, you can abort the letter with a RUBOUT. Typing a single
RUBOUT causes mailx to <br>
print &lsquo;(Interrupt -- one more to kill letter)&rsquo;.
Typing a second RUBOUT causes mailx to save your partial
letter on the file &lsquo;dead.letter&rsquo; in your home
directory and abort the <br>
letter. Once you have sent mail to someone, there is no way
to undo the act, so be careful.</p>

<p style="margin-top: 1em">If you want to send the same
message to several other people, you can list their email
addresses on the command line. Thus,</p>

<p style="margin-top: 1em">$ mailx sam@workstation.example
bob@server.example <br>
Subject: Fees <br>
Tuition fees are due next Friday. Don&rsquo;t forget! <br>
&lt;Control-d&gt; <br>
EOT <br>
$</p>

<p style="margin-top: 1em">will send the reminder to
&lt;sam@workstation.example&gt;. and
&lt;bob@server.example&gt;.</p>

<p style="margin-top: 1em">To read your mail, simply
type</p>

<p style="margin-top: 1em">$ mailx</p>

<p style="margin-top: 1em">Mailx will respond by typing its
version number and date and then listing the messages you
have waiting. Then it will type a prompt and await your
command. The messages are <br>
assigned numbers starting with 1&acirc;you refer to the
messages with these numbers. Mailx keeps track of which
messages are new (have been sent since you last read your
mail) and <br>
read (have been read by you). New messages have an N next to
them in the header listing and old, but unread messages have
a U next to them. Mailx keeps track of new/old and <br>
read/unread messages by putting a header field called Status
into your messages.</p>

<p style="margin-top: 1em">To look at a specific message,
use the type command, which may be abbreviated to simply t .
For example, if you had the following messages:</p>

<p style="margin-top: 1em">O 1 drfoo@myhost.example Wed Sep
1 19:52 18/631 &quot;Fees&quot; <br>
O 2 sam@friends.example Thu Sep 2 00:08 30/895</p>

<p style="margin-top: 1em">you could examine the first
message by giving the command:</p>

<p style="margin-top: 1em">type 1</p>

<p style="margin-top: 1em">which might cause mailx to
respond with, for example:</p>

<p style="margin-top: 1em">Message 1: <br>
From drfoo@myhost.example Wed Sep 1 19:52:25 2004 <br>
Subject: Fees <br>
Status: R</p>

<p style="margin-top: 1em">Tuition fees are due next
Wednesday. Don&rsquo;t forget!</p>

<p style="margin-top: 1em">Many mailx commands that operate
on messages take a message number as an argument like the
type command. For these commands, there is a notion of a
current message. When you <br>
enter the mailx program, the current message is initially
the first (or the first recent) one. Thus, you can often
omit the message number and use, for example,</p>

<p style="margin-top: 1em">t</p>

<p style="margin-top: 1em">to type the current message. As
a further shorthand, you can type a message by simply giving
its message number. Hence,</p>

<p style="margin-top: 1em">1</p>

<p style="margin-top: 1em">would type the first
message.</p>

<p style="margin-top: 1em">Frequently, it is useful to read
the messages in your mailbox in order, one after another.
You can read the next message in mailx by simply typing a
newline. As a special case, <br>
you can type a newline as your first command to mailx to
type the first message.</p>

<p style="margin-top: 1em">If, after typing a message, you
wish to immediately send a reply, you can do so with the
reply command. This command, like type, takes a message
number as an argument. mailx <br>
then begins a message addressed to the user who sent you the
message. You may then type in your letter in reply, followed
by a &lt;control-d&gt; at the beginning of a line, as
before.</p>

<p style="margin-top: 1em">Note that mailx copies the
subject header from the original message. This is useful in
that correspondence about a particular matter will tend to
retain the same subject head&acirc; <br>
ing, making it easy to recognize. If there are other header
fields in the message, like &lsquo;Cc:&rsquo;, the
information found will also be used.</p>

<p style="margin-top: 1em">Sometimes you will receive a
message that has been sent to several people and wish to
reply only to the person who sent it. Reply with a capital R
replies to a message, but <br>
sends a copy to the sender only.</p>

<p style="margin-top: 1em">If you wish, while reading your
mail, to send a message to someone, but not as a reply to
one of your messages, you can send the message directly with
the mail command, which <br>
takes as arguments the names of the recipients you wish to
send to. For example, to send a message to
&lt;frank@machine.example&gt;, you would do:</p>

<p style="margin-top: 1em">mail frank@machine.example</p>

<p style="margin-top: 1em">To delete a message from the
mail folder, you can use the delete command. In addition to
not saving deleted messages, mailx will not let you type
them, either. The effect is to <br>
make the message disappear altogether, along with its
number.</p>

<p style="margin-top: 1em">Many features of mailx can be
tailored to your liking with the set command. The set
command has two forms, depending on whether you are setting
a binary option or a valued <br>
option. Binary options are either on or off. For example,
the askcc option informs mailx that each time you send a
message, you want it to prompt you for a &lsquo;Cc:&rsquo;
header, to be <br>
included in the message. To set the askcc option, you would
type</p>

<p style="margin-top: 1em">set askcc</p>

<p style="margin-top: 1em">Valued options are values which
mailx uses to adapt to your tastes. For example, the record
option tells mailx where to save messages sent by you, and
is specified by</p>

<p style="margin-top: 1em">set record=Sent</p>

<p style="margin-top: 1em">for example. Note that no spaces
are allowed in set record=Sent .</p>

<p style="margin-top: 1em">Mailx includes a simple facility
for maintaining groups of messages together in folders. To
use the folder facility, you must tell mailx where you wish
to keep your folders. <br>
Each folder of messages will be a single file. For
convenience, all of your folders are kept in a single
directory of your choosing. To tell mailx where your folder
directory <br>
is, put a line of the form</p>

<p style="margin-top: 1em">set folder=letters</p>

<p style="margin-top: 1em">in your .mailrc file. If, as in
the example above, your folder directory does not begin with
a &lsquo;/&rsquo;, mailx will assume that your folder
directory is to be found starting from <br>
your home directory.</p>

<p style="margin-top: 1em">Anywhere a file name is
expected, you can use a folder name, preceded with
&lsquo;+&rsquo;. For example, to put a message into a folder
with the save command, you can use:</p>

<p style="margin-top: 1em">save +classwork</p>

<p style="margin-top: 1em">to save the current message in
the classwork folder. If the classwork folder does not yet
exist, it will be created. Note that messages which are
saved with the save command <br>
are automatically removed from your system mailbox.</p>

<p style="margin-top: 1em">In order to make a copy of a
message in a folder without causing that message to be
removed from your system mailbox, use the copy command,
which is identical in all other <br>
respects to the save command.</p>

<p style="margin-top: 1em">The folder command can be used
to direct mailx to the contents of a different folder. For
example,</p>

<p style="margin-top: 1em">folder +classwork</p>

<p style="margin-top: 1em">directs mailx to read the
contents of the classwork folder. All of the commands that
you can use on your system mailbox are also applicable to
folders, including type, delete, <br>
and reply. To inquire which folder you are currently
editing, use simply:</p>

<p style="margin-top: 1em">folder</p>

<p style="margin-top: 1em">To list your current set of
folders, use the folders command.</p>

<p style="margin-top: 1em">Finally, the help command is
available to print out a brief summary of the most important
mailx commands.</p>

<p style="margin-top: 1em">While typing in a message to be
sent to others, it is often useful to be able to invoke the
text editor on the partial message, print the message,
execute a shell command, or do <br>
some other auxiliary function. Mailx provides these
capabilities through tilde escapes , which consist of a
tilde (~) at the beginning of a line, followed by a single
character <br>
which indicates the function to be performed. For example,
to print the text of the message so far, use:</p>

<p style="margin-top: 1em">~p</p>

<p style="margin-top: 1em">which will print a line of
dashes, the recipients of your message, and the text of the
message so far. A list of the most important tilde escapes
is available with &lsquo;~?&rsquo;.</p>

<p style="margin-top: 1em">IMAP or POP3 client setup <br>
First you need the following data from your ISP: the host
name of the IMAP or POP3 server, user name and password for
this server, and a notice whether the server uses SSL/TLS
<br>
encryption. Assuming the host name is
&lsquo;server.myisp.example&rsquo; and your user name for
that server is &lsquo;mylogin&rsquo;, you can refer to this
account using the folder command or -f com&acirc; <br>
mand line option with</p>


<p style="margin-top: 1em">imaps://mylogin@server.myisp.example</p>

<p style="margin-top: 1em">(This string is not necessarily
the same as your Internet mail address.) You can replace
&lsquo;imaps://&rsquo; with &lsquo;imap://&rsquo; if the
server does not support SSL/TLS. (If SSL/TLS support <br>
is built using NSS, the nss-config-dir variable must be set
before a connection can be initiated, see above). Use
&lsquo;pop3s://&rsquo; or &lsquo;pop3://&rsquo; if the
server does not offer IMAP. You <br>
should use IMAP if you can, though; first because it
requires fewer network operations than POP3 to get the
contents of the mailbox and is thus faster; and second
because message <br>
attributes are maintained by the IMAP server, so you can
easily distinguish new and old messages each time you
connect. Even if the server does not accept IMAPS or POP3S
connec&acirc; <br>
tions, it is possible that it supports the STARTTLS method
to make a session SSL/TLS encrypted after the initial
connection has been performed, but before authentication
begins. <br>
The only reliable method to see if this works is to try it;
enter one of</p>

<p style="margin-top: 1em">set imap-use-starttls <br>
set pop3-use-starttls</p>

<p style="margin-top: 1em">before you initiate the
connection.</p>

<p style="margin-top: 1em">As you probably want messages to
be deleted from this account after saving them, prefix it
with &lsquo;%:&rsquo;. The shortcut command can be used to
avoid typing that many characters every <br>
time you want to connect:</p>

<p style="margin-top: 1em">shortcut myisp
%:imaps://mylogin@server.myisp.example</p>

<p style="margin-top: 1em">You might want to put this
string into a startup file. As the shortcut command is
specific to this implementation of mailx and will confuse
other implementations, it should not <br>
be used in ~/.mailrc, instead, put</p>

<p style="margin-top: 1em">set NAIL_EXTRA_RC=~/.nailrc</p>

<p style="margin-top: 1em">in ~/.mailrc and create a file
~/.nailrc containing the shortcut command above. You can
then access your remote mailbox by invoking &lsquo;mailx -f
myisp&rsquo; on the command line, or by <br>
executing &lsquo;fi myisp&rsquo; within mailx.</p>

<p style="margin-top: 1em">If you want to use more than one
IMAP mailbox on a server, or if you want to use the IMAP
server for mail storage too, the account command (which is
also mailx-specific) is more <br>
appropriate than the shortcut command. You can put the
following in ~/.nailrc:</p>

<p style="margin-top: 1em">account myisp { <br>
set folder=imaps://mylogin@server.myisp.example <br>
set record=+Sent MBOX=+mbox outfolder <br>
}</p>

<p style="margin-top: 1em">and can then access incoming
mail for this account by invoking &lsquo;mailx -A
myisp&rsquo; on the command line, or by executing &lsquo;ac
myisp&rsquo; within mailx. After that, a command like
&lsquo;copy 1 <br>
+otherfolder&rsquo; will refer to otherfolder on the IMAP
server. In particular, &lsquo;fi &amp;&rsquo; will change to
the mbox folder, and &lsquo;fi +Sent&rsquo; will show your
recorded sent mail, with both <br>
folders located on the IMAP server.</p>

<p style="margin-top: 1em">Mailx will ask you for a
password string each time you connect to a remote account.
If you can reasonably trust the security of your
workstation, you can give this password in <br>
the startup file as</p>

<p style="margin-top: 1em">set
password-mylogin@server.myisp.example=&quot;SECRET&quot;</p>

<p style="margin-top: 1em">You should change the
permissions of this file to 0600, see chmod(1).</p>

<p style="margin-top: 1em">Mailx supports different
authentication methods for both IMAP and POP3. If Kerberos
is used at your location, you can try to activate
GSSAPI-based authentication by</p>

<p style="margin-top: 1em">set imap-auth=gssapi</p>

<p style="margin-top: 1em">The advantage of this method is
that mailx does not need to know your password at all, nor
needs to send sensitive data over the network. Otherwise,
the options</p>

<p style="margin-top: 1em">set imap-auth=cram-md5 <br>
set pop3-use-apop</p>

<p style="margin-top: 1em">for IMAP and POP3, respectively,
offer authentication methods that avoid to send the password
in clear text over the network, which is especially
important if SSL/TLS cannot be <br>
used. If the server does not offer any of these
authentication methods, conventional user/password based
authentication must be used. It is sometimes helpful to set
the verbose <br>
option when authentication problems occur. Mailx will
display all data sent to the server in clear text on the
screen with this option, including passwords. You should
thus <br>
take care that no unauthorized person can look at your
terminal when this option is set.</p>

<p style="margin-top: 1em">If you regularly use the same
workstation to access IMAP accounts, you can greatly enhance
performance by enabling local caching of IMAP messages. For
any message that has been <br>
fully or partially fetched from the server, a local copy is
made and is used when the message is accessed again, so most
data is transferred over the network once only. To <br>
enable the IMAP cache, select a local directory name and
put</p>

<p style="margin-top: 1em">set
imap-cache=~/localdirectory</p>

<p style="margin-top: 1em">in the startup file. All files
within that directory can be overwritten or deleted by mailx
at any time, so you should not use the directory to store
other information.</p>

<p style="margin-top: 1em">Once the cache contains some
messages, it is not strictly necessary anymore to open a
connection to the IMAP server to access them. When mailx is
invoked with the -D option, or <br>
when the disconnected variable is set, only cached data is
used for any folder you open. Messages that have not yet
been completely cached are not available then, but all other
<br>
messages can be handled as usual. Changes made to IMAP
mailboxes in disconnected mode are committed to the IMAP
server next time it is used in online mode. Synchronizing
the <br>
local status with the status on the server is thus partially
within your responsibility; if you forget to initiate a
connection to the server again before you leave your
loca&acirc; <br>
tion, changes made on one workstation are not available on
others. Also if you alter IMAP mailboxes from a workstation
while uncommitted changes are still pending on another, <br>
the latter data may become invalid. The same might also
happen because of internal server status changes. You should
thus carefully evaluate this feature in your environment
<br>
before you rely on it.</p>

<p style="margin-top: 1em">Many servers will close the
connection after a short period of inactivity. Use one
of</p>

<p style="margin-top: 1em">set pop3-keepalive=30 <br>
set imap-keepalive=240</p>

<p style="margin-top: 1em">to send a keepalive message each
30 seconds for POP3, or each 4 minutes for IMAP.</p>

<p style="margin-top: 1em">If you encounter problems
connecting to a SSL/TLS server, try the ssl-rand-egd and
ssl-rand-file variables (see the OpenSSL FAQ for more
information) or specify the protocol ver&acirc; <br>
sion with ssl-method. Contact your ISP if you need a client
certificate or if verification of the server certificate
fails. If the failed certificate is indeed valid, fetch its
<br>
CA certificate by executing the shell command</p>

<p style="margin-top: 1em">$ openssl s_client &lt;/dev/null
-showcerts -connect server.myisp.example:imaps 2&gt;&amp;1 |
tee log</p>

<p style="margin-top: 1em">(see s_client(1)) and put it
into the file specified with ssl-ca-file. The data you need
is located at the end of the certificate chain within (and
including) the &lsquo;BEGIN CER&acirc; <br>
TIFICATE&rsquo; and &lsquo;END CERTIFICATE&rsquo; lines.
(Note that it is possible to fetch a forged certificate by
this method. You can only completely rely on the
authenticity of the CA cer&acirc; <br>
tificate if you fetch it in a way that is trusted by other
means, such as by personally receiving the certificate on
storage media.)</p>

<p style="margin-top: 1em">Creating a score file or message
filter <br>
The scoring commands are best separated from other
configuration for clarity, and are mostly mailx specific. It
is thus recommended to put them in a separate file that is
<br>
sourced from your NAIL_EXTRA_RC as follows:</p>

<p style="margin-top: 1em">source ~/.scores</p>

<p style="margin-top: 1em">The .scores file could then look
as follows:</p>

<p style="margin-top: 1em">define list { <br>
score (subject &quot;important discussion&quot;) +10 <br>
score (subject &quot;annoying discussion&quot;) -10 <br>
score (from &quot;nicefellow@goodnet&quot;) +15 <br>
score (from &quot;badguy@poornet&quot;) -5 <br>
move (header x-spam-flag &quot;+++++&quot;) +junk <br>
} <br>
set folder-hook-imap://user@host/public.list=list</p>

<p style="margin-top: 1em">In this scheme, you would see
any mail from &lsquo;nicefellow@goodnet&rsquo;, even if the
surrounding discussion is annoying; but you normally would
not see mail from &lsquo;badguy@poornet&rsquo;, <br>
unless he participates in the important discussion. Messages
that are marked with five or more plus characters in their
&lsquo;X-Spam-Flag&rsquo; field (inserted by some
server-side filter&acirc; <br>
ing software) are moved to the folder &lsquo;junk&rsquo; in
the folder directory.</p>

<p style="margin-top: 1em">Be aware that all criteria in ()
lead to substring matches, so you would also score messages
from e.g. &lsquo;notsobadguy@poornetmakers&rsquo; negative
here. It is possible to select <br>
addresses exactly using &quot;address&quot; message
specifications, but these cannot be executed remotely and
will thus cause all headers to be downloaded from IMAP
servers while looking <br>
for matches.</p>

<p style="margin-top: 1em">When searching messages on an
IMAP server, best performance is usually achieved by sending
as many criteria as possible in one large () specification,
because each single such <br>
specification will result in a separate network
operation.</p>

<p style="margin-top: 1em">Activating the Bayesian filter
<br>
The Bayesian junk mail filter works by examining the words
contained in messages. You decide yourself what a good and
what a bad message is. Thus the resulting filter is your
<br>
very personal one; once it is correctly set up, it will
filter only messages similar to those previously specified
by you.</p>

<p style="margin-top: 1em">To use the Bayesian filter, a
location for the junk mail database must be defined
first:</p>

<p style="margin-top: 1em">set junkdb=~/.junkdb</p>

<p style="margin-top: 1em">The junk mail database does not
contain actual words extracted from messages, but hashed
representations of them. A foreign person who can read the
database could only examine <br>
the frequency of previously known words in your mail.</p>

<p style="margin-top: 1em">If you have sufficient disk
space (several 10 MB) available, it is recommended that you
set the chained-junk-tokens option. The filter will then
also consider two-word tokens, <br>
improving its accuracy.</p>

<p style="margin-top: 1em">A set of good messages and junk
messages must now be available; it is also possible to use
the incoming new messages for this purpose, although it will
of course take some time <br>
until the filter becomes useful then. Do not underestimate
the amount of statistical data needed; some hundred messages
are typically necessary to get satisfactory results, and
<br>
many thousand messages for best operation. You have to pass
the good messages to the good command, and the junk messages
to the junk command. If you ever accidentally mark a <br>
good message as junk or vice-versa, call the ungood or
unjunk command to correct this.</p>

<p style="margin-top: 1em">Once a reasonable amount of
statistics has been collected, new messages can be
classified automatically. The classify command marks all
messages that the filter considers to be <br>
junk, but it does not perform any action on them by default.
It is recommended that you move these messages into a
separate folder just for the case that false positives
occur, <br>
or to pass them to the junk command later again to further
improve the junk mail database. To automatically move
incoming junk messages every time the inbox is opened, put
lines <br>
like the following into your .scores file (or whatever name
you gave to the file in the last example):</p>

<p style="margin-top: 1em">define junkfilter { <br>
classify (smaller 20000) :n <br>
move :j +junk <br>
} <br>
set folder-hook-imap://user@host/INBOX=junkfilter</p>

<p style="margin-top: 1em">If you set the verbose option
before running the classify command, mailx prints the words
it uses for calculating the junk status along with their
statistical probabilities. <br>
This can help you to find out why some messages are not
classified as you would like them to be. To see the
statistical probability of a given word, use the probability
command.</p>

<p style="margin-top: 1em">If a junk message was not
recognized as such, use the junk command to correct this.
Also if you encounter a false positive (a good message that
was wrongly classified as junk), <br>
pass it to the good command.</p>

<p style="margin-top: 1em">Since the classify command must
examine the entire text of all new messages in the
respective folder, this will also cause all of them to be
downloaded from the IMAP server. You <br>
should thus restrict the size of messages for automatic
filtering. If server-based filtering is also available, you
might try if that works for you first.</p>

<p style="margin-top: 1em">Reading HTML mail <br>
You need either the w3m or lynx utility or another
command-line web browser that can write plain text to
standard output.</p>

<p style="margin-top: 1em">set pipe-text/html=&quot;w3m
-dump -T text/html&quot;</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">set pipe-text/html=&quot;lynx
-dump -force_html /dev/stdin&quot;</p>

<p style="margin-top: 1em">will then cause HTML message
parts to be converted into a more friendly form.</p>

<p style="margin-top: 1em">Viewing PDF attachments <br>
Most PDF viewers do not accept input directly from a pipe.
It is thus necessary to store the attachment in a temporary
file, as with</p>

<p style="margin-top: 1em">set
pipe-application/pdf=&quot;cat &gt;/tmp/mailx$$.pdf;
acroread /tmp/mailx$$.pdf; rm /tmp/mailx$$.pdf&quot;</p>

<p style="margin-top: 1em">Note that security defects are
discovered in PDF viewers from time to time. Automatical
command execution like this can compromise your system
security, in particular if you <br>
stay not always informed about such issues.</p>

<p style="margin-top: 1em">Signed and encrypted messages
with S/MIME <br>
S/MIME provides two central mechanisms: message signing and
message encryption. A signed message contains some data in
addition to the regular text. The data can be used to <br>
verify that the message was sent using a valid certificate,
that the sender&rsquo;s address in the message header
matches that in the certificate, and that the message text
has not <br>
been altered. Signing a message does not change its regular
text; it can be read regardless of whether the
recipient&rsquo;s software is able to handle S/MIME. It is
thus usually <br>
possible to sign all outgoing messages if so
desired.&acirc;Encryption, in contrast, makes the message
text invisible for all people except those who have access
to the secret decryp&acirc; <br>
tion key. To encrypt a message, the specific
recipient&rsquo;s public encryption key must be known. It is
thus not possible to send encrypted mail to people unless
their key has been <br>
retrieved from either previous communication or public key
directories. A message should always be signed before it is
encrypted. Otherwise, it is still possible that the <br>
encrypted message text is altered.</p>

<p style="margin-top: 1em">A central concept to S/MIME is
that of the certification authority (CA). A CA is a trusted
institution that issues certificates. For each of these
certificates, it can be veri&acirc; <br>
fied that it really originates from the CA, provided that
the CA&rsquo;s own certificate is previously known. A set of
CA certificates is usually delivered with OpenSSL and
installed <br>
on your system. If you trust the source of your OpenSSL
software installation, this offers reasonable security for
S/MIME on the Internet. In general, a certificate cannot be
<br>
more secure than the method its CA certificate has been
retrieved with, though. Thus if you download a CA
certificate from the Internet, you can only trust the
messages you ver&acirc; <br>
ify using that certificate as much as you trust the download
process.</p>

<p style="margin-top: 1em">The first thing you need for
participating in S/MIME message exchange is your personal
certificate, including a private key. The certificate
contains public information, in par&acirc; <br>
ticular your name and your email address, and the public key
that is used by others to encrypt messages for you, and to
verify signed messages they supposedly received from you.
<br>
The certificate is included in each signed message you send.
The private key must be kept secret. It is used to decrypt
messages that were previously encrypted with your public
<br>
key, and to sign messages.</p>

<p style="margin-top: 1em">For personal use, it is
recommended that you get a S/MIME certificate from one of
the major CAs on the Internet using your WWW browser. (Many
CAs offer such certificates for <br>
free.) You will usually receive a combined certificate and
private key in PKCS#12 format which mailx does not directly
accept if S/MIME support is built using OpenSSL. To
con&acirc; <br>
vert it to PEM format, use the following shell command:</p>

<p style="margin-top: 1em">$ openssl pkcs12 -in cert.p12
-out cert.pem -clcerts -nodes</p>

<p style="margin-top: 1em">If you omit the -nodes
parameter, you can specifiy an additional PEM pass phrase
for protecting the private key. Mailx will then ask you for
that pass phrase each time it signs <br>
or decrypts a message. You can then use</p>

<p style="margin-top: 1em">set
smime-sign-cert-myname@myisp.example=cert.pem</p>

<p style="margin-top: 1em">to make this private key and
certificate known to mailx.</p>

<p style="margin-top: 1em">If S/MIME support is built using
NSS, the PKCS#12 file must be installed using Mozilla
(provided that nss-config-dir is set appropriately, see
above), and no further action is <br>
necessary unless multiple user certificates for the same
email address are installed. In this case, the
smime-sign-nickname variable has to be set
appropriately.</p>

<p style="margin-top: 1em">You can now sign outgoing
messages. Just use</p>

<p style="margin-top: 1em">set smime-sign</p>

<p style="margin-top: 1em">to do so.</p>

<p style="margin-top: 1em">From each signed message you
send, the recipient can fetch your certificate and use it to
send encrypted mail back to you. Accordingly if somebody
sends you a signed message, <br>
you can do the same. First use the verify command to check
the validity of the certificate. After that, retrieve the
certificate and tell mailx that it should use it for <br>
encryption:</p>

<p style="margin-top: 1em">certsave filename <br>
set smime-encrypt-user@host=filename</p>

<p style="margin-top: 1em">If S/MIME support is built using
NSS, the saved certificate must be installed using Mozilla.
The value of the smime-encrypt-user@host is ignored then,
but if multiple certifi&acirc; <br>
cates for the recipient are available, the
smime-nickname-user@host variable must be set.</p>

<p style="margin-top: 1em">You should carefully consider if
you prefer to store encrypted messages in decrypted form. If
you do, anybody who has access to your mail folders can read
them, but if you do <br>
not, you might be unable to read them yourself later if you
happen to lose your private key. The decrypt command saves
messages in decrypted form, while the save, copy, and move
<br>
commands leave them encrypted.</p>

<p style="margin-top: 1em">Note that neither S/MIME signing
nor encryption applies to message subjects or other header
fields. Thus they may not contain sensitive information for
encrypted messages, and <br>
cannot be trusted even if the message content has been
verified. When sending signed messages, it is recommended to
repeat any important header information in the message
text.</p>

<p style="margin-top: 1em">Using CRLs with S/MIME or
SSL/TLS <br>
Certification authorities (CAs) issue certificate revocation
lists (CRLs) on a regular basis. These lists contain the
serial numbers of certificates that have been declared <br>
invalid after they have been issued. Such usually happens
because the private key for the certificate has been
compromised, because the owner of the certificate has left
the <br>
organization that is mentioned in the certificate, etc. To
seriously use S/MIME or SSL/TLS verification, an up-to-date
CRL is required for each trusted CA. There is otherwise <br>
no method to distinguish between valid and invalidated
certificates. Mailx currently offers no mechanism to fetch
CRLs, or to access them on the Internet, so you have to <br>
retrieve them by some external mechanism.</p>

<p style="margin-top: 1em">If S/MIME and SSL/TLS support
are built using OpenSSL, mailx accepts CRLs in PEM format
only; CRLs in DER format must be converted, e.g. with the
shell command</p>

<p style="margin-top: 1em">$ openssl crl -inform DER -in
crl.der -out crl.pem</p>

<p style="margin-top: 1em">To tell mailx about the CRLs, a
directory that contains all CRL files (and no other files)
must be created. The smime-crl-dir or ssl-crl-dir variables,
respectively, must then <br>
be set to point to that directory. After that, mailx
requires a CRL to be present for each CA that is used to
verify a certificate.</p>

<p style="margin-top: 1em">If S/MIME and SSL/TLS support
are built using NSS, CRLs can be imported in Mozilla
applications (provided that nss-config-dir is set
appropriately).</p>

<p style="margin-top: 1em">Sending mail from scripts <br>
If you want to send mail from scripts, you must be aware
that mailx reads the user&rsquo;s configuration files by
default. So unless your script is only intended for your own
personal <br>
use (as e.g. a cron job), you need to circumvent this by
invoking mailx like</p>

<p style="margin-top: 1em">MAILRC=/dev/null mailx -n</p>

<p style="margin-top: 1em">You then need to create a
configuration for mailx for your script. This can be done by
either pointing the MAILRC variable to a custom
configuration file, or by passing the con&acirc; <br>
figuration in environment variables. Since many of the
configuration options are not valid shell variables, the env
command is useful in this situation. An invocation could
<br>
thus look like</p>

<p style="margin-top: 1em">env MAILRC=/dev/null
from=scriptreply@domain smtp=host smtp-auth-user=login
smtp-auth-password=secret smtp-auth=login mailx -n -s
&quot;subject&quot; -a attachment_file recipient@domain
&lt;content_file</p>

<p style="margin-top: 1em">SEE ALSO <br>
fmt(1), newaliases(1), openssl(1), pg(1), more(1),
vacation(1), ssl(3), aliases(5), locale(7), mailaddr(7),
sendmail(8)</p>

<p style="margin-top: 1em">NOTES <br>
Variables in the environment passed to mailx cannot be
unset.</p>

<p style="margin-top: 1em">The character set conversion
relies on the iconv(3) function. Its functionality differs
widely between the various system environments mailx runs
on. If the message &lsquo;Cannot <br>
convert from a to b&rsquo; appears, either some characters
within the message header or text are not appropriate for
the currently selected terminal character set, or the needed
con&acirc; <br>
version is not supported by the system. In the first case,
it is necessary to set an appropriate LC_CTYPE locale (e.g.
en_US) or the ttycharset variable. In the second case, <br>
the sendcharsets and ttycharset variables must be set to the
same value to inhibit character set conversion. If iconv()
is not available at all, the value assigned to send&acirc;
<br>
charsets must match the character set that is used on the
terminal.</p>

<p style="margin-top: 1em">Mailx expects input text to be
in Unix format, with lines separated by newline (^J, 0
characters only. Non-Unix text) characters in files that use
carriage return (^M, <br>
addition will be treated as binary data; to send such files
as text, strip these characters e. g. by</p>

<p style="margin-top: 1em">tr -d &rsquo; 15&rsquo;
&lt;input | mailx . . .</p>

<p style="margin-top: 1em">or fix the tools that generate
them.</p>

<p style="margin-top: 1em">Limitations with IMAP mailboxes
are: It is not possible to edit messages, but it is possible
to append them. Thus to edit a message, create a local copy
of it, edit it, append <br>
it, and delete the original. The line count for the header
display is only appropriate if the entire message has been
downloaded from the server. The marking of messages as <br>
&lsquo;new&rsquo; is performed by the IMAP server; use of
the exit command instead of quit will not cause it to be
reset, and if the autoinc/newmail variables are unset,
messages that <br>
arrived during a session will not be in state
&lsquo;new&rsquo; anymore when the folder is opened again.
Also if commands queued in disconnected mode are committed,
the IMAP server will <br>
delete the &lsquo;new&rsquo; flag for all messages in the
changed folder, and new messages will appear as unread when
it is selected for viewing later. The &lsquo;flagged&rsquo;,
&lsquo;answered&rsquo;, and <br>
&lsquo;draft&rsquo; attributes are usually permanent, but
some IMAP servers are known to drop them without
notification. Message numbers may change with IMAP every
time before the prompt is <br>
printed if mailx is notified by the server that messages
have been deleted by some other client or process. In this
case, &lsquo;Expunged n messages&rsquo; is printed, and
message numbers <br>
may have changed.</p>

<p style="margin-top: 1em">Limitations with POP3 mailboxes
are: It is not possible to edit messages, they can only be
copied and deleted. The line count for the header display is
only appropriate if the <br>
entire message has been downloaded from the server. The
status field of a message is maintained by the server
between connections; some servers do not update it at all,
and with <br>
a server that does, the &lsquo;exit&rsquo; command will not
cause the message status to be reset. The
&lsquo;newmail&rsquo; command and the &lsquo;newmail&rsquo;
variable have no effect. It is not possible to <br>
rename or to remove POP3 mailboxes.</p>

<p style="margin-top: 1em">If a RUBOUT (interrupt) is typed
while an IMAP or POP3 operation is in progress, mailx will
wait until the operation can be safely aborted, and will
then return to the command <br>
loop and print the prompt again. When a second RUBOUT is
typed while mailx is waiting for the operation to complete,
the operation itself will be canceled. In this case, data
<br>
that has not been fetched yet will have to be fetched before
the next command can be performed. If the canceled operation
was using an SSL/TLS encrypted channel, an error in the <br>
SSL transport will very likely result, and the connection is
no longer usable.</p>

<p style="margin-top: 1em">As mailx is a mail user agent,
it provides only basic SMTP services. If it fails to contact
its upstream SMTP server, it will not make further attempts
to transfer the message <br>
at a later time, and it does not leave other information
about this condition than an error message on the terminal
and a &lsquo;dead.letter&rsquo; file. This is usually not a
problem if <br>
the SMTP server is located in the same local network as the
computer on which mailx is run. However, care should be
taken when using a remote server of an ISP; it might be
bet&acirc; <br>
ter to set up a local SMTP server then which just acts as a
proxy.</p>

<p style="margin-top: 1em">Mailx immediately contacts the
SMTP server (or /usr/lib/sendmail) even when operating in
disconnected mode. It would not make much sense for mailx to
defer outgoing mail since <br>
SMTP servers usually provide much more elaborated delay
handling than mailx could perform as a client. Thus the
recommended setup for sending mail in disconnected mode is
to <br>
configure a local SMTP server such that it sends outgoing
mail as soon as an external network connection is available
again, i.e. to advise it to do that from a network startup
<br>
script.</p>

<p style="margin-top: 1em">The junk mail filter follows the
concepts developed by Paul Graham in his articles,
&lsquo;&lsquo;A Plan for Spam&rsquo;&rsquo;, August 2002,
&lt;http://www.paulgraham.com/spam.html&gt;, and
&lsquo;&lsquo;Better Bayesian <br>
Filtering&rsquo;&rsquo;, January 2003,
&lt;http://www.paulgraham.com/better.html&gt;. Chained
tokens are due to a paper by Jonathan A. Zdziarski,
&lsquo;&lsquo;Advanced Language Classification using Chained
<br>
Tokens&rsquo;&rsquo;, February 2004,
&lt;http://www.nuclearelephant.com/papers/chained.html&gt;.</p>

<p style="margin-top: 1em">A mail command appeared in
Version 1 AT&amp;T Unix. Berkeley Mail was written in 1978
by Kurt Shoens. This man page is derived from from The Mail
Reference Manual originally writ&acirc; <br>
ten by Kurt Shoens. Heirloom Mailx enhancements are
maintained and documented by Gunnar Ritter.</p>

<p style="margin-top: 1em">Portions of this text are
reprinted and reproduced in electronic form from IEEE Std
1003.1, 2003 Edition, Standard for Information Technology
&acirc; Operating System Interface <br>
(POSIX), The Open Group Base Specifications Issue 6,
Copyright &Acirc;&copy; 2001-2003 by the Institute of
Electrical and Electronics Engineers, Inc and The Open
Group. In the event of any <br>
discrepancy between this version and the original IEEE and
The Open Group Standard, the original IEEE and The Open
Group Standard is the referee document. The original
Standard <br>
can be obtained online at
http://www.opengroup.org/unix/online.html . Redistribution
of this material is permitted so long as this notice remains
intact.</p>

<p style="margin-top: 1em">Heirloom mailx 12.5 10/9/10
MAILX(1)</p>
<hr>
</body>
</html>
