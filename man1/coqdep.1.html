<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>COQ(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">COQ(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">COQ(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
coqdep - Compute inter-module dependencies for Coq and Caml programs
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>coqdep</b> [ <b>-w</b> ] [ <b>-I</b><i>&#x00A0;directory</i> ] [
  <b>-coqlib</b><i>&#x00A0;directory</i> ] [ <b>-c</b> ] [ <b>-i</b> ] [
  <b>-D</b> ] [ <b>-slash</b> ] <i>filename ...</i> <i>directory ...</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>coqdep</b> compute inter-module dependencies for Coq and Caml programs, and
  prints the dependencies on the standard output in a format readable by make.
  When a directory is given as argument, it is recursively looked at.
<div style="height: 1.00em;">&#x00A0;</div>
Dependencies of Coq modules are computed by looking at <i>Require</i> commands
  (Require, Require Export, Require Import), <i>Declare</i> <i>ML</i>
  <i>Module</i> commands and <i>Load</i> commands. Dependencies relative to
  modules from the Coq library are not printed except if <b>-boot</b> is given.
<div style="height: 1.00em;">&#x00A0;</div>
Dependencies of Caml modules are computed by looking at <i>open</i> directives
  and the dot notation <i>module.value</i>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Prints the dependencies of Caml modules. (On Caml modules,
      the behaviour is exactly the same as ocamldep).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I/-Q/-R</b><i>&#x00A0;options</i></dt>
  <dd class="It-tag">Have the same effects on load path and modules names than
      for other coq commands (coqtop, coqc).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-coqlib</b><i>&#x00A0;directory</i></dt>
  <dd class="It-tag">Indicates where is the Coq library. The default value has
      been determined at installation time, and therefore this option should not
      be used under normal circumstances.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-dumpgraph[box]</b><i>&#x00A0;file</i></dt>
  <dd class="It-tag">Dumps a dot dependency graph in file <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-exclude-dir</b><i>&#x00A0;dir</i></dt>
  <dd class="It-tag">Skips subdirectory <i>dir</i>&#x00A0;during
      <b>-R/-Q</b>&#x00A0;search.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sort</b></dt>
  <dd class="It-tag">Output the given file name ordered by dependencies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-boot</b></dt>
  <dd class="It-tag">For coq developpers, prints dependencies over coq library
      files (omitted by default).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ocamlc</b>(1), <b>coqc</b>(1), <b>make</b>(1).
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Lexers (for Coq and Caml) correctly handle nested comments and strings.
<div style="height: 1.00em;">&#x00A0;</div>
The treatment of symbolic links is primitive.
<div style="height: 1.00em;">&#x00A0;</div>
If two files have the same name, in two different directories, a warning is
  printed on standard error.
<div style="height: 1.00em;">&#x00A0;</div>
There is no way to limit the scope of the recursive search for directories.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Consider the files (in the same directory):
<div style="height: 1.00em;">&#x00A0;</div>
	A.ml B.ml C.ml D.ml X.v Y.v and Z.v
<div style="height: 1.00em;">&#x00A0;</div>
where
<dl class="Bl-tag">
  <dt class="It-tag"><b>+</b></dt>
  <dd class="It-tag">D.ml contains the commands `open A', `open B' and `type t =
      C.t' ;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+</b></dt>
  <dd class="It-tag">Y.v contains the command `Require X' ;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+</b></dt>
  <dd class="It-tag">Z.v contains the commands `Require X' and `Declare ML
      Module &quot;D&quot;'.</dd>
</dl>
<div class="Pp"></div>
To get the dependencies of the Coq files:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>example% coqdep -I . *.v</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 0.50em;">&#x00A0;</div>
<pre>
<b>Z.vo: Z.v ./X.vo ./D.cmo</b>
<b>Y.vo: Y.v ./X.vo</b>
<b>X.vo: X.v</b>
</pre>
</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
With a warning:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>example% coqdep -w -I . *.v</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 0.50em;">&#x00A0;</div>
<pre>
<b>Z.vo: Z.v ./X.vo ./D.cmo</b>
<b>Y.vo: Y.v ./X.vo</b>
<b>X.vo: X.v</b>
### Warning : In file Z.v, the ML modules declaration should be
### Declare ML Module &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot;.
</pre>
</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
To get only the Caml dependencies:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>example% coqdep -c -I . *.ml</b></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="height: 0.50em;">&#x00A0;</div>
<pre>
<b>D.cmo: D.ml ./A.cmo ./B.cmo ./C.cmo</b>
<b>D.cmx: D.ml ./A.cmx ./B.cmx ./C.cmx</b>
<b>C.cmo: C.ml</b>
<b>C.cmx: C.ml</b>
<b>B.cmo: B.ml</b>
<b>B.cmx: B.ml</b>
<b>A.cmo: A.ml</b>
<b>A.cmx: A.ml</b>
</pre>
</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report any bug to <b>coq-bugs@pauillac.inria.fr</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">28 March 1995</td>
    <td class="foot-os">Coq tools</td>
  </tr>
</table>
</body>
</html>
