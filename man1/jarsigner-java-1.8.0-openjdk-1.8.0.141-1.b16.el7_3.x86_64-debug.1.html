<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>jarsigner(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">jarsigner(1)</td>
    <td class="head-vol">Security Tools</td>
    <td class="head-rtitle">jarsigner(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
jarsigner - Signs and verifies Java Archive (JAR) files.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<div class="Pp"></div>
<b>jarsigner</b> [ <i>options</i> ] <i>jar-file</i> <i>alias</i>
<div class="Pp"></div>
<b>jarsigner</b> <b>-verify</b> [ <i>options</i> ] <i>jar-file</i> [<i>alias ...</i>]
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>options</i></dt>
  <dd class="It-tag">The command-line options. See Options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-verify</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The <b>-verify</b> option can take zero or more keystore alias names after
      the JAR file name. When the <b>-verify</b> option is specified, the
      <b>jarsigner</b> command checks that the certificate used to verify each
      signed entry in the JAR file matches one of the keystore aliases. The
      aliases are defined in the keystore specified by <b>-keystore</b> or the
      default keystore.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you also specified the <b>-strict</b> option, and the <b>jarsigner</b>
      command detected severe warnings, the message, &quot;jar verified, with
      signer errors&quot; is displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>jar-file</i></dt>
  <dd class="It-tag">The JAR file to be signed.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you also specified the <b>-strict</b> option, and the <b>jarsigner</b>
      command detected severe warnings, the message, &quot;jar signed, with
      signer errors&quot; is displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>alias</i></dt>
  <dd class="It-tag">The aliases are defined in the keystore specified by
      <b>-keystore</b> or the default keystore.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>jarsigner</b> tool has two purposes:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">To sign Java Archive (JAR) files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">To verify the signatures and integrity of signed JAR
    files.</dd>
</dl>
<div class="Pp"></div>
The JAR feature enables the packaging of class files, images, sounds, and other
  digital data in a single file for faster and easier distribution. A tool named
  <b>jar</b> enables developers to produce JAR files. (Technically, any zip file
  can also be considered a JAR file, although when created by the <b>jar</b>
  command or processed by the <b>jarsigner</b> command, JAR files also contain a
  <b>META-INF/MANIFEST.MF</b> file.)
<div class="Pp"></div>
A digital signature is a string of bits that is computed from some data (the
  data being signed) and the private key of an entity (a person, company, and so
  on). Similar to a handwritten signature, a digital signature has many useful
  characteristics:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Its authenticity can be verified by a computation that uses
      the public key corresponding to the private key used to generate the
      signature.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">It cannot be forged, assuming the private key is kept
      secret.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">It is a function of the data signed and thus cannot be
      claimed to be the signature for other data as well.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The signed data cannot be changed. If the data is changed,
      then the signature cannot be verified as authentic.</dd>
</dl>
<div class="Pp"></div>
To generate an entity's signature for a file, the entity must first have a
  public/private key pair associated with it and one or more certificates that
  authenticate its public key. A certificate is a digitally signed statement
  from one entity that says that the public key of another entity has a
  particular value.
<div class="Pp"></div>
The <b>jarsigner</b> command uses key and certificate information from a
  keystore to generate digital signatures for JAR files. A keystore is a
  database of private keys and their associated X.509 certificate chains that
  authenticate the corresponding public keys. The <b>keytool</b> command is used
  to create and administer keystores.
<div class="Pp"></div>
The <b>jarsigner</b> command uses an entity's private key to generate a
  signature. The signed JAR file contains, among other things, a copy of the
  certificate from the keystore for the public key corresponding to the private
  key used to sign the file. The <b>jarsigner</b> command can verify the digital
  signature of the signed JAR file using the certificate inside it (in its
  signature block file).
<div class="Pp"></div>
The <b>jarsigner</b> command can generate signatures that include a time stamp
  that lets a systems or deployer (including Java Plug-in) to check whether the
  JAR file was signed while the signing certificate was still valid. In
  addition, APIs allow applications to obtain the timestamp information.
<div class="Pp"></div>
At this time, the <b>jarsigner</b> command can only sign JAR files created by
  the <b>jar</b> command or zip files. JAR files are the same as zip files,
  except they also have a <b>META-INF/MANIFEST.MF</b> file. A
  <b>META-INF/MANIFEST.MF</b> file is created when the <b>jarsigner</b> command
  signs a zip file.
<div class="Pp"></div>
The default <b>jarsigner</b> command behavior is to sign a JAR or zip file. Use
  the <b>-verify</b> option to verify a signed JAR file.
<div class="Pp"></div>
The <b>jarsigner</b> command also attempts to validate the signer's certificate
  after signing or verifying. If there is a validation error or any other
  problem, the command generates warning messages. If you specify the
  <b>-strict</b> option, then the command treats severe warnings as errors. See
  Errors and Warnings.
<h2 class="Ss" title="Ss" id="KEYSTORE_ALIASES"><a class="selflink" href="#KEYSTORE_ALIASES">KEYSTORE&#x00A0;ALIASES</a></h2>
All keystore entities are accessed with unique aliases.
<div class="Pp"></div>
When you use the <b>jarsigner</b> command to sign a JAR file, you must specify
  the alias for the keystore entry that contains the private key needed to
  generate the signature. For example, the following command signs the JAR file
  named <b>MyJARFile.jar</b> with the private key associated with the alias
  <b>duke</b> in the keystore named <b>mystore</b> in the <b>working</b>
  directory. Because no output file is specified, it overwrites
  <b>MyJARFile.jar</b> with the signed JAR file.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -keystore /working/mystore -storepass &lt;keystore password&gt;</b>
<b>      -keypass &lt;private key password&gt; MyJARFile.jar duke</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Keystores are protected with a password, so the store password must be
  specified. You are prompted for it when you do not specify it on the command
  line. Similarly, private keys are protected in a keystore with a password, so
  the private key's password must be specified, and you are prompted for the
  password when you do not specify it on the command line and it is not the same
  as the store password.
<h2 class="Ss" title="Ss" id="KEYSTORE_LOCATION"><a class="selflink" href="#KEYSTORE_LOCATION">KEYSTORE&#x00A0;LOCATION</a></h2>
The <b>jarsigner</b> command has a <b>-keystore</b> option for specifying the
  URL of the keystore to be used. The keystore is by default stored in a file
  named <b>.keystore</b> in the user's home directory, as determined by the
  <b>user.home</b> system property.
<div class="Pp"></div>
On Oracle Solaris systems, <b>user.home</b> defaults to the user's home
  directory.
<div class="Pp"></div>
The input stream from the <b>-keystore</b> option is passed to the
  <b>KeyStore.load</b> method. If <b>NONE</b> is specified as the URL, then a
  null stream is passed to the <b>KeyStore.load</b> method. <b>NONE</b> should
  be specified when the <b>KeyStore</b> class is not file based, for example,
  when it resides on a hardware token device.
<h2 class="Ss" title="Ss" id="KEYSTORE_IMPLEMENTATION"><a class="selflink" href="#KEYSTORE_IMPLEMENTATION">KEYSTORE&#x00A0;IMPLEMENTATION</a></h2>
The <b>KeyStore</b> class provided in the <b>java.security</b> package supplies
  a number of well-defined interfaces to access and modify the information in a
  keystore. You can have multiple different concrete implementations, where each
  implementation is for a particular type of keystore.
<div class="Pp"></div>
Currently, there are two command-line tools that use keystore implementations (
  <b>keytool</b> and <b>jarsigner</b>), and a GUI-based tool named Policy Tool.
  Because the <b>KeyStore</b> class is publicly available, JDK users can write
  additional security applications that use it.
<div class="Pp"></div>
There is a built-in default implementation provided by Oracle that implements
  the keystore as a file, that uses a proprietary keystore type (format) named
  JKS. The built-in implementation protects each private key with its individual
  password and protects the integrity of the entire keystore with a (possibly
  different) password.
<div class="Pp"></div>
Keystore implementations are provider-based, which means the application
  interfaces supplied by the <b>KeyStore</b> class are implemented in terms of a
  Service Provider Interface (SPI). There is a corresponding abstract
  <b>KeystoreSpi</b> class, also in the <b>java.security package</b>, that
  defines the Service Provider Interface methods that providers must implement.
  The term provider refers to a package or a set of packages that supply a
  concrete implementation of a subset of services that can be accessed by the
  Java Security API. To provide a keystore implementation, clients must
  implement a provider and supply a <b>KeystoreSpi</b> subclass implementation,
  as described in How to Implement a Provider in the Java Cryptography
  Architecture at
  http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/HowToImplAProvider.html
<div class="Pp"></div>
Applications can choose different types of keystore implementations from
  different providers, with the <b>getInstance</b> factory method in the
  <b>KeyStore</b> class. A keystore type defines the storage and data format of
  the keystore information and the algorithms used to protect private keys in
  the keystore and the integrity of the keystore itself. Keystore
  implementations of different types are not compatible.
<div class="Pp"></div>
The <b>jarsigner</b> and <b>policytool</b> commands can read file-based
  keystores from any location that can be specified using a URL. In addition,
  these commands can read non-file-based keystores such as those provided by
  MSCAPI on Windows and PKCS11 on all platforms.
<div class="Pp"></div>
For the <b>jarsigner</b> and <b>keytool</b> commands, you can specify a keystore
  type at the command line with the <b>-storetype</b> option. For Policy Tool,
  you can specify a keystore type with the <i>Edit</i> command in the
  <i>KeyStore</i> menu.
<div class="Pp"></div>
If you do not explicitly specify a keystore type, then the tools choose a
  keystore implementation based on the value of the <b>keystore.type</b>
  property specified in the security properties file. The security properties
  file is called <b>java.security</b>, and it resides in the JDK security
  properties directory, <b>java.home/lib/security</b>, where <b>java.home</b> is
  the runtime environment's directory. The <b>jre</b> directory in the JDK or
  the top-level directory of the Java Runtime Environment (JRE).
<div class="Pp"></div>
Each tool gets the <b>keystore.type</b> value and then examines all the
  installed providers until it finds one that implements keystores of that type.
  It then uses the keystore implementation from that provider.
<div class="Pp"></div>
The <b>KeyStore</b> class defines a static method named <b>getDefaultType</b>
  that lets applications and applets retrieve the value of the
  <b>keystore.type</b> property. The following line of code creates an instance
  of the default keystore type as specified in the <b>keystore.type
  property</b>:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
The default keystore type is <b>jks</b> (the proprietary type of the keystore
  implementation provided by Oracle). This is specified by the following line in
  the security properties file:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>keystore.type=jks</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Case does not matter in keystore type designations. For example, <b>JKS</b> is
  the same as <b>jks</b>.
<div class="Pp"></div>
To have the tools use a keystore implementation other than the default, change
  that line to specify a different keystore type. For example, if you have a
  provider package that supplies a keystore implementation for a keystore type
  called <b>pkcs12</b>, then change the line to the following:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>keystore.type=pkcs12</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<i>Note:</i> If you use the PKCS 11 provider package, then see
  &quot;KeyTool&quot; and &quot;JarSigner&quot; in Java PKCS #11 Reference Guide
  at
  http://docs.oracle.com/javase/8/docs/technotes/guides/security/p11guide.html
<h2 class="Ss" title="Ss" id="SUPPORTED_ALGORITHMS"><a class="selflink" href="#SUPPORTED_ALGORITHMS">SUPPORTED&#x00A0;ALGORITHMS</a></h2>
By default, the <b>jarsigner</b> command signs a JAR file using one of the
  following algorithms:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Digital Signature Algorithm (DSA) with the SHA1 digest
      algorithm</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">RSA algorithm with the SHA256 digest algorithm</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Elliptic Curve (EC) cryptography algorithm with the SHA256
      with Elliptic Curve Digital Signature Algorithm (ECDSA).</dd>
</dl>
<div class="Pp"></div>
If the signer's public and private keys are DSA keys, then <b>jarsigner</b>
  signs the JAR file with the <b>SHA1withDSA</b> algorithm. If the signer's keys
  are RSA keys, then <b>jarsigner</b> attempts to sign the JAR file with the
  <b>SHA256withRSA</b> algorithm. If the signer's keys are EC keys, then
  <b>jarsigner</b> signs the JAR file with the <b>SHA256withECDSA</b> algorithm.
<div class="Pp"></div>
These default signature algorithms can be overridden using the <b>-sigalg</b>
  option.
<h2 class="Ss" title="Ss" id="THE_SIGNED_JAR_FILE"><a class="selflink" href="#THE_SIGNED_JAR_FILE">THE&#x00A0;SIGNED&#x00A0;JAR&#x00A0;FILE</a></h2>
When the <b>jarsigner</b> command is used to sign a JAR file, the output signed
  JAR file is exactly the same as the input JAR file, except that it has two
  additional files placed in the META-INF directory:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A signature file with an <b>.SF</b> extension</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A signature block file with a <b>.DSA</b>, <b>.RSA</b>, or
      <b>.EC</b> extension</dd>
</dl>
<div class="Pp"></div>
The base file names for these two files come from the value of the
  <b>-sigFile</b> option. For example, when the option is <b>-sigFile
  MKSIGN</b>, the files are named <b>MKSIGN.SF</b> and <b>MKSIGN.DSA</b>
<div class="Pp"></div>
If no <b>-sigfile</b> option appears on the command line, then the base file
  name for the <b>.SF</b> and <b>.DSA</b> files is the first 8 characters of the
  alias name specified on the command line, all converted to uppercase. If the
  alias name has fewer than 8 characters, then the full alias name is used. If
  the alias name contains any characters that are not allowed in a signature
  file name, then each such character is converted to an underscore (_)
  character in forming the file name. Valid characters include letters, digits,
  underscores, and hyphens.
<div class="Pp"></div>
Signature File
<div style="height: 1.00em;">&#x00A0;</div>
A signature file ( <b>.SF</b> file) looks similar to the manifest file that is
  always included in a JAR file when the <b>jarsigner</b> command is used to
  sign the file. For each source file included in the JAR file, the <b>.SF</b>
  file has three lines, such as in the manifest file, that list the following:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">File name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Name of the digest algorithm (SHA)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SHA digest value</dd>
</dl>
<div class="Pp"></div>
In the manifest file, the SHA digest value for each source file is the digest
  (hash) of the binary data in the source file. In the <b>.SF</b> file, the
  digest value for a specified source file is the hash of the three lines in the
  manifest file for the source file.
<div class="Pp"></div>
The signature file, by default, includes a header with a hash of the whole
  manifest file. The header also contains a hash of the manifest header. The
  presence of the header enables verification optimization. See JAR File
  Verification.
<div class="Pp"></div>
Signature Block File
<div style="height: 1.00em;">&#x00A0;</div>
The <b>.SF</b> file is signed and the signature is placed in the signature block
  file. This file also contains, encoded inside it, the certificate or
  certificate chain from the keystore that authenticates the public key
  corresponding to the private key used for signing. The file has the extension
  <b>.DSA</b>, <b>.RSA</b>, or <b>.EC</b>, depending on the digest algorithm
  used.
<h2 class="Ss" title="Ss" id="SIGNATURE_TIME_STAMP"><a class="selflink" href="#SIGNATURE_TIME_STAMP">SIGNATURE&#x00A0;TIME&#x00A0;STAMP</a></h2>
The <b>jarsigner</b> command can generate and store a signature time stamp when
  signing a JAR file. In addition, <b>jarsigner</b> supports alternative signing
  mechanisms. This behavior is optional and is controlled by the user at the
  time of signing through these options. See Options.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>-tsa </b><i>url</i><i></i>
<i></i><b>-tsacert </b><i>alias</i><i></i>
<i></i><b>-altsigner </b><i>class</i><i></i>
<i></i><b>-altsignerpath </b><i>classpathlist</i><i></i>
<i></i><b>-tsapolicyid </b><i>policyid</i><i></i>
<i></i><b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="JAR_FILE_VERIFICATION"><a class="selflink" href="#JAR_FILE_VERIFICATION">JAR&#x00A0;FILE&#x00A0;VERIFICATION</a></h2>
A successful JAR file verification occurs when the signatures are valid, and
  none of the files that were in the JAR file when the signatures were generated
  have changed since then. JAR file verification involves the following steps:
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">Verify the signature of the <b>.SF</b> file.
    <div style="height: 1.00em;">&#x00A0;</div>
    The verification ensures that the signature stored in each signature block (
      <b>.DSA</b>) file was generated using the private key corresponding to the
      public key whose certificate (or certificate chain) also appears in the
      <b>.DSA</b> file. It also ensures that the signature is a valid signature
      of the corresponding signature ( <b>.SF</b>) file, and thus the <b>.SF</b>
      file was not tampered with.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">Verify the digest listed in each entry in the <b>.SF</b>
      file with each corresponding section in the manifest.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>.SF</b> file by default includes a header that contains a hash of the
      entire manifest file. When the header is present, the verification can
      check to see whether or not the hash in the header matches the hash of the
      manifest file. If there is a match, then verification proceeds to the next
      step.
    <div style="height: 1.00em;">&#x00A0;</div>
    If there is no match, then a less optimized verification is required to
      ensure that the hash in each source file information section in the
      <b>.SF</b> file equals the hash of its corresponding section in the
      manifest file. See Signature File.
    <div style="height: 1.00em;">&#x00A0;</div>
    One reason the hash of the manifest file that is stored in the <b>.SF</b>
      file header might not equal the hash of the current manifest file is that
      one or more files were added to the JAR file (with the <b>jar</b> tool)
      after the signature and <b>.SF</b> file were generated. When the
      <b>jar</b> tool is used to add files, the manifest file is changed by
      adding sections to it for the new files, but the <b>.SF</b> file is not
      changed. A verification is still considered successful when none of the
      files that were in the JAR file when the signature was generated have been
      changed since then. This happens when the hashes in the non-header
      sections of the <b>.SF</b> file equal the hashes of the corresponding
      sections in the manifest file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">Read each file in the JAR file that has an entry in the
      <b>.SF</b> file. While reading, compute the file's digest and compare the
      result with the digest for this file in the manifest section. The digests
      should be the same or verification fails.
    <div style="height: 1.00em;">&#x00A0;</div>
    If any serious verification failures occur during the verification process,
      then the process is stopped and a security exception is thrown. The
      <b>jarsigner</b> command catches and displays the exception.</dd>
</dl>
<div class="Pp"></div>
<i>Note:</i> You should read any addition warnings (or errors if you specified
  the <b>-strict</b> option), as well as the content of the certificate (by
  specifying the <b>-verbose</b> and <b>-certs</b> options) to determine if the
  signature can be trusted.
<h2 class="Ss" title="Ss" id="MULTIPLE_SIGNATURES_FOR_A_JAR_FILE"><a class="selflink" href="#MULTIPLE_SIGNATURES_FOR_A_JAR_FILE">MULTIPLE&#x00A0;SIGNATURES&#x00A0;FOR&#x00A0;A&#x00A0;JAR&#x00A0;FILE</a></h2>
A JAR file can be signed by multiple people by running the <b>jarsigner</b>
  command on the file multiple times and specifying the alias for a different
  person each time, as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner myBundle.jar susan</b>
<b>jarsigner myBundle.jar kevin</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
When a JAR file is signed multiple times, there are multiple <b>.SF</b> and
  <b>.DSA</b> files in the resulting JAR file, one pair for each signature. In
  the previous example, the output JAR file includes files with the following
  names:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>SUSAN.SF</b>
<b>SUSAN.DSA</b>
<b>KEVIN.SF</b>
<b>KEVIN.DSA</b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The following sections describe the various <b>jarsigner</b> options. Be aware
  of the following standards:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">All option names are preceded by a minus sign (-).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The options can be provided in any order.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Items that are in italics or underlined (option values)
      represent the actual values that must be supplied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The <b>-storepass</b>, <b>-keypass</b>, <b>-sigfile</b>,
      <b>-sigalg</b>, <b>-digestalg</b>, <b>-signedjar</b>, and TSA-related
      options are only relevant when signing a JAR file; they are not relevant
      when verifying a signed JAR file. The <b>-keystore</b> option is relevant
      for signing and verifying a JAR file. In addition, aliases are specified
      when signing and verifying a JAR file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-keystore <i>url</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the URL that tells the keystore location. This defaults to the
      file <b>.keystore</b> in the user's home directory, as determined by the
      <b>user.home</b> system property.
    <div style="height: 1.00em;">&#x00A0;</div>
    A keystore is required when signing. You must explicitly specify a keystore
      when the default keystore does not exist or if you want to use one other
      than the default.
    <div style="height: 1.00em;">&#x00A0;</div>
    A keystore is not required when verifying, but if one is specified or the
      default exists and the <b>-verbose</b> option was also specified, then
      additional information is output regarding whether or not any of the
      certificates used to verify the JAR file are contained in that keystore.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>-keystore</b> argument can be a file name and path specification
      rather than a URL, in which case it is treated the same as a file: URL,
      for example, the following are equivalent:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>-keystore </b><i>filePathAndName</i><i></i>
<i></i><b>-keystore file:</b><i>filePathAndName</i><i></i>
<i></i><b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    If the Sun PKCS #11 provider was configured in the <b>java.security</b>
      security properties file (located in the JRE's <b>$JAVA_HOME/lib/security
      directory</b>), then the <b>keytool</b> and <b>jarsigner</b> tools can
      operate on the PKCS #11 token by specifying these options:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>-keystore NONE</b>
<b>-storetype PKCS11</b>
<b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    For example, the following command lists the contents of the configured
      PKCS#11 token:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>keytool -keystore NONE -storetype PKCS11 -list</b>
<b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-storetype <i>storetype</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the type of keystore to be instantiated. The default keystore type
      is the one that is specified as the value of the <b>keystore.type</b>
      property in the security properties file, which is returned by the static
      <b>getDefaultType</b> method in <b>java.security.KeyStore</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The PIN for a PCKS #11 token can also be specified with the
      <b>-storepass</b> option. If none is specified, then the <b>keytool</b>
      and <b>jarsigner</b> commands prompt for the token PIN. If the token has a
      protected authentication path (such as a dedicated PIN-pad or a biometric
      reader), then the <b>-protected</b> option must be specified and no
      password options can be specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-storepass[:env | :file] <i>argument</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the password that is required to access the keystore. This is only
      needed when signing (not verifying) a JAR file. In that case, if a
      <b>-storepass</b> option is not provided at the command line, then the
      user is prompted for the password.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the modifier <b>env</b> or <b>file</b> is not specified, then the
      password has the value <i>argument</i>. Otherwise, the password is
      retrieved as follows:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>env</b>: Retrieve the password from the environment
      variable named <b>argument</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>file</b>: Retrieve the password from the file named
      <b>argument</b>.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<i>Note:</i> The password should not be specified on the command line or in a
  script unless it is for testing purposes, or you are on a secure system.
<dl class="Bl-tag">
  <dt class="It-tag">-keypass [:env | :file] <i>argument</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the password used to protect the private key of the keystore entry
      addressed by the alias specified on the command line. The password is
      required when using <b>jarsigner</b> to sign a JAR file. If no password is
      provided on the command line, and the required password is different from
      the store password, then the user is prompted for it.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the modifier <b>env</b> or <b>file</b> is not specified, then the
      password has the value <b>argument</b>. Otherwise, the password is
      retrieved as follows:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>env</b>: Retrieve the password from the environment
      variable named <b>argument</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>file</b>: Retrieve the password from the file named
      <b>argument</b>.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<i>Note:</i> The password should not be specified on the command line or in a
  script unless it is for testing purposes, or you are on a secure system.
<dl class="Bl-tag">
  <dt class="It-tag">-sigfile <i>file</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the base file name to be used for the generated <b>.SF</b> and
      <b>.DSA</b> files. For example, if file is <b>DUKESIGN</b>, then the
      generated <b>.SF</b> and <b>.DSA</b> files are named <b>DUKESIGN.SF</b>
      and <b>DUKESIGN.DSA</b>, and placed in the <b>META-INF</b> directory of
      the signed JAR file.
    <div style="height: 1.00em;">&#x00A0;</div>
    The characters in the file must come from the set <b>a-zA-Z0-9_-</b>. Only
      letters, numbers, underscore, and hyphen characters are allowed. All
      lowercase characters are converted to uppercase for the <b>.SF</b> and
      <b>.DSA</b> file names.
    <div style="height: 1.00em;">&#x00A0;</div>
    If no <b>-sigfile</b> option appears on the command line, then the base file
      name for the <b>.SF</b> and <b>.DSA</b> files is the first 8 characters of
      the alias name specified on the command line, all converted to upper case.
      If the alias name has fewer than 8 characters, then the full alias name is
      used. If the alias name contains any characters that are not valid in a
      signature file name, then each such character is converted to an
      underscore (_) character to form the file name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-sigalg <i>algorithm</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the name of the signature algorithm to use to sign the JAR file.
    <div style="height: 1.00em;">&#x00A0;</div>
    For a list of standard signature algorithm names, see &quot;Appendix A:
      Standard Names&quot; in the Java Cryptography Architecture (JCA) Reference
      Guide at
      http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#AppA
    <div style="height: 1.00em;">&#x00A0;</div>
    This algorithm must be compatible with the private key used to sign the JAR
      file. If this option is not specified, then <b>SHA1withDSA</b>,
      <b>SHA256withRSA</b>, or <b>SHA256withECDSA</b> are used depending on the
      type of private key. There must either be a statically installed provider
      supplying an implementation of the specified algorithm or the user must
      specify one with the <b>-providerClass</b> option; otherwise, the command
      will not succeed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-digestalg <i>algorithm</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the name of the message digest algorithm to use when digesting the
      entries of a JAR file.
    <div style="height: 1.00em;">&#x00A0;</div>
    For a list of standard message digest algorithm names, see &quot;Appendix A:
      Standard Names&quot; in the Java Cryptography Architecture (JCA) Reference
      Guide at
      http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html#AppA
    <div style="height: 1.00em;">&#x00A0;</div>
    If this option is not specified, then <b>SHA256</b> is used. There must
      either be a statically installed provider supplying an implementation of
      the specified algorithm or the user must specify one with the
      <b>-providerClass</b> option; otherwise, the command will not
    succeed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-certs</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    If the <b>-certs</b> option appears on the command line with the
      <b>-verify</b> and <b>-verbose</b> options, then the output includes
      certificate information for each signer of the JAR file. This information
      includes the name of the type of certificate (stored in the <b>.DSA</b>
      file) that certifies the signer's public key, and if the certificate is an
      X.509 certificate (an instance of the
      <b>java.security.cert.X509Certificate</b>), then the distinguished name of
      the signer.
    <div style="height: 1.00em;">&#x00A0;</div>
    The keystore is also examined. If no keystore value is specified on the
      command line, then the default keystore file (if any) is checked. If the
      public key certificate for a signer matches an entry in the keystore, then
      the alias name for the keystore entry for that signer is displayed in
      parentheses.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-certchain <i>file</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the certificate chain to be used when the certificate chain
      associated with the private key of the keystore entry that is addressed by
      the alias specified on the command line is not complete. This can happen
      when the keystore is located on a hardware token where there is not enough
      capacity to hold a complete certificate chain. The file can be a sequence
      of concatenated X.509 certificates, or a single PKCS#7 formatted data
      block, either in binary encoding format or in printable encoding format
      (also known as Base64 encoding) as defined by the Internet RFC 1421
      standard. See Internet RFC 1421 Certificate Encoding Standard and
      http://tools.ietf.org/html/rfc1421.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-verbose</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    When the <b>-verbose</b> option appears on the command line, it indicates
      verbose mode, which causes <b>jarsigner</b> to output extra information
      about the progress of the JAR signing or verification.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-internalsf</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    In the past, the <b>.DSA</b> (signature block) file generated when a JAR
      file was signed included a complete encoded copy of the <b>.SF</b> file
      (signature file) also generated. This behavior has been changed. To reduce
      the overall size of the output JAR file, the <b>.DSA</b> file by default
      does not contain a copy of the <b>.SF</b> file anymore. If
      <b>-internalsf</b> appears on the command line, then the old behavior is
      utilized. This option is useful for testing. In practice, do not use the
      <b>-internalsf</b> option because it incurs higher overhead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-sectionsonly</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    If the <b>-sectionsonly</b> option appears on the command line, then the
      <b>.SF</b> file (signature file) generated when a JAR file is signed does
      not include a header that contains a hash of the whole manifest file. It
      contains only the information and hashes related to each individual source
      file included in the JAR file. See Signature File.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, this header is added, as an optimization. When the header is
      present, whenever the JAR file is verified, the verification can first
      check to see whether the hash in the header matches the hash of the whole
      manifest file. When there is a match, verification proceeds to the next
      step. When there is no match, it is necessary to do a less optimized
      verification that the hash in each source file information section in the
      <b>.SF</b> file equals the hash of its corresponding section in the
      manifest file. See JAR File Verification.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>-sectionsonly</b> option is primarily used for testing. It should not
      be used other than for testing because using it incurs higher
    overhead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-protected</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Values can be either <b>true</b> or <b>false</b>. Specify <b>true</b> when a
      password must be specified through a protected authentication path such as
      a dedicated PIN reader.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-providerClass <i>provider-class-name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Used to specify the name of cryptographic service provider's master class
      file when the service provider is not listed in the <b>java.security</b>
      security properties file.
    <div style="height: 1.00em;">&#x00A0;</div>
    Used with the <b>-providerArg ConfigFilePath</b> option, the <b>keytool</b>
      and <b>jarsigner</b> tools install the provider dynamically and use
      <i>ConfigFilePath</i> for the path to the token configuration file. The
      following example shows a command to list a <b>PKCS #11</b> keystore when
      the Oracle PKCS #11 provider was not configured in the security properties
      file.
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>jarsigner -keystore NONE -storetype PKCS11 \</b>
<b>          -providerClass sun.security.pkcs11.SunPKCS11 \</b>
<b>          -providerArg /mydir1/mydir2/token.config \</b>
<b>          -list</b>
<b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-providerName <i>providerName</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    If more than one provider was configured in the <b>java.security</b>
      security properties file, then you can use the <b>-providerName</b> option
      to target a specific provider instance. The argument to this option is the
      name of the provider.
    <div style="height: 1.00em;">&#x00A0;</div>
    For the Oracle PKCS #11 provider, <i>providerName</i> is of the form
      <b>SunPKCS11-</b> <i>TokenName</i>, where <i>TokenName</i> is the name
      suffix that the provider instance has been configured with, as detailed in
      the configuration attributes table. For example, the following command
      lists the contents of the <b>PKCS #11</b> keystore provider instance with
      name suffix <b>SmartCard</b>:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>jarsigner -keystore NONE -storetype PKCS11 \</b>
<b>        -providerName SunPKCS11-SmartCard \</b>
<b>        -list</b>
<b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-J<i>javaoption</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Passes through the specified <i>javaoption</i> string directly to the Java
      interpreter. The <b>jarsigner</b> command is a wrapper around the
      interpreter. This option should not contain any spaces. It is useful for
      adjusting the execution environment or memory usage. For a list of
      possible interpreter options, type <b>java -h</b> or <b>java -X</b> at the
      command line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-tsa <i>url</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    If <b>-tsa http://example.tsa.url</b> appears on the command line when
      signing a JAR file then a time stamp is generated for the signature. The
      URL, <b>http://example.tsa.url</b>, identifies the location of the Time
      Stamping Authority (TSA) and overrides any URL found with the
      <b>-tsacert</b> option. The <b>-tsa</b> option does not require the TSA
      public key certificate to be present in the keystore.
    <div style="height: 1.00em;">&#x00A0;</div>
    To generate the time stamp, <b>jarsigner</b> communicates with the TSA with
      the Time-Stamp Protocol (TSP) defined in RFC 3161. When successful, the
      time stamp token returned by the TSA is stored with the signature in the
      signature block file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-tsacert <i>alias</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    When <b>-tsacert alias</b> appears on the command line when signing a JAR
      file, a time stamp is generated for the signature. The alias identifies
      the TSA public key certificate in the keystore that is in effect. The
      entry's certificate is examined for a Subject Information Access extension
      that contains a URL identifying the location of the TSA.
    <div style="height: 1.00em;">&#x00A0;</div>
    The TSA public key certificate must be present in the keystore when using
      the <b>-tsacert</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-tsapolicyid <i>policyid</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the object identifier (OID) that identifies the policy ID to be
      sent to the TSA server. If this option is not specified, no policy ID is
      sent and the TSA server will choose a default policy ID.
    <div style="height: 1.00em;">&#x00A0;</div>
    Object identifiers are defined by X.696, which is an ITU Telecommunication
      Standardization Sector (ITU-T) standard. These identifiers are typically
      period-separated sets of non-negative digits like <b>1.2.3.4</b>, for
      example.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-altsigner <i>class</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This option specifies an alternative signing mechanism. The fully qualified
      class name identifies a class file that extends the
      <b>com.sun.jarsigner.ContentSigner</b> abstract class. The path to this
      class file is defined by the <b>-altsignerpath</b> option. If the
      <b>-altsigner</b> option is used, then the <b>jarsigner</b> command uses
      the signing mechanism provided by the specified class. Otherwise, the
      <b>jarsigner</b> command uses its default signing mechanism.
    <div style="height: 1.00em;">&#x00A0;</div>
    For example, to use the signing mechanism provided by a class named
      <b>com.sun.sun.jarsigner.AuthSigner</b>, use the jarsigner option
      <b>-altsigner com.sun.jarsigner.AuthSigner</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-altsignerpath <i>classpathlist</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specifies the path to the class file and any JAR file it depends on. The
      class file name is specified with the <b>-altsigner</b> option. If the
      class file is in a JAR file, then this option specifies the path to that
      JAR file.
    <div style="height: 1.00em;">&#x00A0;</div>
    An absolute path or a path relative to the current directory can be
      specified. If <i>classpathlist</i> contains multiple paths or JAR files,
      then they should be separated with a colon (:) on Oracle Solaris and a
      semicolon (;) on Windows. This option is not necessary when the class is
      already in the search path.
    <div style="height: 1.00em;">&#x00A0;</div>
    The following example shows how to specify the path to a JAR file that
      contains the class file. The JAR file name is included.
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>-altsignerpath /home/user/lib/authsigner.jar</b>
<b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    The following example shows how to specify the path to the JAR file that
      contains the class file. The JAR file name is omitted.
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<b>-altsignerpath /home/user/classes/com/sun/tools/jarsigner/</b>
<b></b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-strict</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    During the signing or verifying process, the command may issue warning
      messages. If you specify this option, the exit code of the tool reflects
      the severe warning messages that this command found. See Errors and
      Warnings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-verbose <i>suboptions</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    For the verifying process, the <b>-verbose</b> option takes suboptions to
      determine how much information is shown. If the <b>-certs</b> option is
      also specified, then the default mode (or suboption <b>all</b>) displays
      each entry as it is being processed, and after that, the certificate
      information for each signer of the JAR file. If the <b>-certs</b> and the
      <b>-verbose:grouped</b> suboptions are specified, then entries with the
      same signer info are grouped and displayed together with their certificate
      information. If <b>-certs</b> and the <b>-verbose:summary</b> suboptions
      are specified, then entries with the same signer information are grouped
      and displayed together with their certificate information. Details about
      each entry are summarized and displayed as <i>one entry (and more)</i>.
      See Examples.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ERRORS_AND_WARNINGS"><a class="selflink" href="#ERRORS_AND_WARNINGS">ERRORS&#x00A0;AND&#x00A0;WARNINGS</a></h1>
During the signing or verifying process, the <b>jarsigner</b> command may issue
  various errors or warnings.
<div class="Pp"></div>
If there is a failure, the <b>jarsigner</b> command exits with code 1. If there
  is no failure, but there are one or more severe warnings, the <b>jarsigner</b>
  command exits with code 0 when the <b>-strict</b> option is <i>not</i>
  specified, or exits with the OR-value of the warning codes when the
  <b>-strict</b> is specified. If there is only informational warnings or no
  warning at all, the command always exits with code 0.
<div class="Pp"></div>
For example, if a certificate used to sign an entry is expired and has a
  KeyUsage extension that does not allow it to sign a file, the <b>jarsigner</b>
  command exits with code 12 (=4+8) when the <b>-strict</b> option is specified.
<div class="Pp"></div>
<i>Note:</i> Exit codes are reused because only the values from 0 to 255 are
  legal on Unix-based operating systems.
<div class="Pp"></div>
The following sections describes the names, codes, and descriptions of the
  errors and warnings that the <b>jarsigner</b> command can issue.
<h2 class="Ss" title="Ss" id="FAILURE"><a class="selflink" href="#FAILURE">FAILURE</a></h2>
Reasons why the <b>jarsigner</b> command fails include (but are not limited to)
  a command line parsing error, the inability to find a keypair to sign the JAR
  file, or the verification of a signed JAR fails.
<dl class="Bl-tag">
  <dt class="It-tag">failure</dt>
  <dd class="It-tag">Code 1. The signing or verifying fails.</dd>
</dl>
<h2 class="Ss" title="Ss" id="SEVERE_WARNINGS"><a class="selflink" href="#SEVERE_WARNINGS">SEVERE&#x00A0;WARNINGS</a></h2>
<i>Note:</i> Severe warnings are reported as errors if you specify the
  <b>-strict</b> option.
<div class="Pp"></div>
Reasons why the <b>jarsigner</b> command issues a severe warning include the
  certificate used to sign the JAR file has an error or the signed JAR file has
  other problems.
<dl class="Bl-tag">
  <dt class="It-tag">hasExpiredCert</dt>
  <dd class="It-tag">Code 4. This jar contains entries whose signer certificate
      has expired.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">notYetValidCert</dt>
  <dd class="It-tag">Code 4. This jar contains entries whose signer certificate
      is not yet valid.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">chainNotValidated</dt>
  <dd class="It-tag">Code 4. This jar contains entries whose certificate chain
      cannot be correctly validated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">badKeyUsage</dt>
  <dd class="It-tag">Code 8. This jar contains entries whose signer
      certificate's KeyUsage extension doesn't allow code signing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">badExtendedKeyUsage</dt>
  <dd class="It-tag">Code 8. This jar contains entries whose signer
      certificate's ExtendedKeyUsage extension doesn't allow code signing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">badNetscapeCertType</dt>
  <dd class="It-tag">Code 8. This jar contains entries whose signer
      certificate's NetscapeCertType extension doesn't allow code signing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">hasUnsignedEntry</dt>
  <dd class="It-tag">Code 16. This jar contains unsigned entries which have not
      been integrity-checked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">notSignedByAlias</dt>
  <dd class="It-tag">Code 32. This jar contains signed entries which are not
      signed by the specified alias(es).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">aliasNotInStore</dt>
  <dd class="It-tag">Code 32. This jar contains signed entries that are not
      signed by alias in this keystore.</dd>
</dl>
<h2 class="Ss" title="Ss" id="INFORMATIONAL_WARNINGS"><a class="selflink" href="#INFORMATIONAL_WARNINGS">INFORMATIONAL&#x00A0;WARNINGS</a></h2>
Informational warnings include those that are not errors but regarded as bad
  practice. They do not have a code.
<dl class="Bl-tag">
  <dt class="It-tag">hasExpiringCert</dt>
  <dd class="It-tag">This jar contains entries whose signer certificate will
      expire within six months.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">noTimestamp</dt>
  <dd class="It-tag">This jar contains signatures that does not include a
      timestamp. Without a timestamp, users may not be able to validate this JAR
      file after the signer certificate's expiration date ( <b>YYYY-MM-DD</b>)
      or after any future revocation date.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="SIGN_A_JAR_FILE"><a class="selflink" href="#SIGN_A_JAR_FILE">SIGN&#x00A0;A&#x00A0;JAR&#x00A0;FILE</a></h2>
Use the following command to sign bundle.jar with the private key of a user
  whose keystore alias is <b>jane</b> in a keystore named <b>mystore</b> in the
  <b>working</b> directory and name the signed JAR file <b>sbundle.jar</b>:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -keystore /working/mystore</b>
<b>    -storepass &lt;keystore password&gt;</b>
<b>    -keypass &lt;private key password&gt;</b>
<b>    -signedjar sbundle.jar bundle.jar jane</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
There is no <b>-sigfile</b> specified in the previous command so the generated
  <b>.SF</b> and <b>.DSA</b> files to be placed in the signed JAR file have
  default names based on the alias name. They are named <b>JANE.SF</b> and
  <b>JANE.DSA</b>.
<div class="Pp"></div>
If you want to be prompted for the store password and the private key password,
  then you could shorten the previous command to the following:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -keystore /working/mystore</b>
<b>    -signedjar sbundle.jar bundle.jar jane</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
If the keystore is the default keystore (.keystore in your home directory), then
  you do not need to specify a keystore, as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -signedjar sbundle.jar bundle.jar jane</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
If you want the signed JAR file to overwrite the input JAR file (bundle.jar),
  then you do not need to specify a <b>-signedjar</b> option, as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner bundle.jar jane</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="VERIFY_A_SIGNED_JAR_FILE"><a class="selflink" href="#VERIFY_A_SIGNED_JAR_FILE">VERIFY&#x00A0;A&#x00A0;SIGNED&#x00A0;JAR&#x00A0;FILE</a></h2>
To verify a signed JAR file to ensure that the signature is valid and the JAR
  file was not been tampered with, use a command such as the following:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -verify sbundle.jar</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
When the verification is successful, <b>jar verified</b> is displayed.
  Otherwise, an error message is displayed. You can get more information when
  you use the <b>-verbose</b> option. A sample use of <b>jarsigner</b> with
  the<b>-verbose</b> option follows:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -verify -verbose sbundle.jar</b>
<b></b>
<b>           198 Fri Sep 26 16:14:06 PDT 1997 META-INF/MANIFEST.MF</b>
<b>           199 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.SF</b>
<b>          1013 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.DSA</b>
<b>    smk   2752 Fri Sep 26 16:12:30 PDT 1997 AclEx.class</b>
<b>    smk    849 Fri Sep 26 16:12:46 PDT 1997 test.class</b>
<b></b>
<b>      s = signature was verified</b>
<b>      m = entry is listed in manifest</b>
<b>      k = at least one certificate was found in keystore</b>
<b></b>
<b>    jar verified.</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="VERIFICATION_WITH_CERTIFICATE_INFORMATION"><a class="selflink" href="#VERIFICATION_WITH_CERTIFICATE_INFORMATION">VERIFICATION&#x00A0;WITH&#x00A0;CERTIFICATE&#x00A0;INFORMATION</a></h2>
If you specify the <b>-certs</b> option with the <b>-verify</b> and
  <b>-verbose</b> options, then the output includes certificate information for
  each signer of the JAR file. The information includes the certificate type,
  the signer distinguished name information (when it is an X.509 certificate),
  and in parentheses, the keystore alias for the signer when the public key
  certificate in the JAR file matches the one in a keystore entry, for example:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>jarsigner -keystore /working/mystore -verify -verbose -certs myTest.jar</b>
<b></b>
<b>           198 Fri Sep 26 16:14:06 PDT 1997 META-INF/MANIFEST.MF</b>
<b>           199 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.SF</b>
<b>          1013 Fri Sep 26 16:22:10 PDT 1997 META-INF/JANE.DSA</b>
<b>           208 Fri Sep 26 16:23:30 PDT 1997 META-INF/JAVATEST.SF</b>
<b>          1087 Fri Sep 26 16:23:30 PDT 1997 META-INF/JAVATEST.DSA</b>
<b>    smk   2752 Fri Sep 26 16:12:30 PDT 1997 Tst.class</b>
<b></b>
<b>      X.509, CN=Test Group, OU=Java Software, O=Oracle, L=CUP, S=CA, C=US (javatest)</b>
<b>      X.509, CN=Jane Smith, OU=Java Software, O=Oracle, L=cup, S=ca, C=us (jane)</b>
<b></b>
<b>      s = signature was verified</b>
<b>      m = entry is listed in manifest</b>
<b>      k = at least one certificate was found in keystore</b>
<b></b>
<b>    jar verified.</b>
<b></b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
If the certificate for a signer is not an X.509 certificate, then there is no
  distinguished name information. In that case, just the certificate type and
  the alias are shown. For example, if the certificate is a PGP certificate, and
  the alias is <b>bob</b>, then you would get: <b>PGP, (bob)</b>.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE&#x00A0;ALSO</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">jar(1)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">keytool(1)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Trail: Security Features in Java SE at
      http://docs.oracle.com/javase/tutorial/security/index.html</dd>
</dl>
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">21 November 2013</td>
    <td class="foot-os">JDK 8</td>
  </tr>
</table>
</body>
</html>
