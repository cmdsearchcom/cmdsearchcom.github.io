<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:30 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PG_TAPGEN(1p) User Contributed Perl Documentation
PG_TAPGEN(1p)</p>

<p style="margin-top: 1em">Name <br>
pg_tapgen - Generate schema TAP tests from an existing
database</p>

<p style="margin-top: 1em">Usage <br>
pg_tapgen -d template1 &gt; schema_test.sql</p>

<p style="margin-top: 1em">Description <br>
&quot;pg_tapgen&quot; is a command-line utility to generate
pgTAP tests to validate a database schema by reading an
existing database and generating the tests to match. Its use
requires <br>
the installation of the DBI and DBD::Pg from CPAN or via a
package distribution.</p>

<p style="margin-top: 1em">Warning: These prerequisites are
not validated by the pgTAP &quot;Makefile&quot;, so
you&rsquo;ll need to install them yourself. As a result,
inclusion of this script in the pgTAP distribution <br>
is experimental. It may be moved to its own distribution in
the future.</p>

<p style="margin-top: 1em">Options <br>
-d --dbname DBNAME Database to which to connect. <br>
-U --username USERNAME Username with which to connect. <br>
-h --host HOST Host to which to connect. <br>
-p --port PORT Port to which to connect. <br>
-v --verbose Display output of test scripts while running
them. <br>
-N --exclude-schema Exclude a schema from the generated
tests. <br>
-c --create-extension Include CREATE EXTENSION pgtap
statement. <br>
--no-create-extension Excluce CREATE EXTENSION pgtap
statement. <br>
--directory DIRECTORY Directory to which to write the test
files. <br>
-H --help Print a usage statement and exit. <br>
-m --man Print the complete documentation and exit. <br>
-V --version Print the version number and exit.</p>

<p style="margin-top: 1em">Options Details <br>
&quot;-d&quot; <br>
&quot;--dbname&quot; <br>
pg_tapgen --dbname try <br>
pg_tapgen -d postgres</p>

<p style="margin-top: 1em">The name of database to which to
connect. Defaults to the value of the $PGDATABASE
environment variable or to the system username.</p>

<p style="margin-top: 1em">&quot;-U&quot; <br>
&quot;--username&quot; <br>
pg_tapgen --username foo <br>
pg_tapgen -U postgres</p>

<p style="margin-top: 1em">PostgreSQL user name to connect
as. Defaults to the value of the $PGUSER environment
variable or to the operating system name of the user running
the application. Password <br>
can be specified with $PGPASSWORD.</p>

<p style="margin-top: 1em">&quot;-h&quot; <br>
&quot;--host&quot; <br>
pg_tapgen --host pg.example.com <br>
pg_tapgen -h dev.local</p>

<p style="margin-top: 1em">Specifies the host name of the
machine on which the server is running. If the value begins
with a slash, it is used as the directory for the
Unix-domain socket. Defaults to <br>
the value of the $PGHOST environment variable or
localhost.</p>

<p style="margin-top: 1em">&quot;-p&quot; <br>
&quot;--port&quot; <br>
pg_tapgen --port 1234 <br>
pg_tapgen -p 666</p>

<p style="margin-top: 1em">Specifies the TCP port or the
local Unix-domain socket file extension on which the server
is listening for connections. Defaults to the value of the
$PGPORT environment <br>
variable or, if not set, to the port specified at compile
time, usually 5432.</p>

<p style="margin-top: 1em">&quot;--dir&quot; <br>
&quot;--directory&quot; <br>
Directory to which to write test files. Defaults to the
current directory.</p>

<p style="margin-top: 1em">&quot;-c&quot; <br>
&quot;--create-extension&quot; <br>
&quot;--no-create-extension&quot; <br>
pg_tapgen --create-exension <br>
pg_tapgen -c <br>
pg_tapgen --no-create-exension</p>

<p style="margin-top: 1em">Enable or disable the inclusion
of &quot;CREATE EXTENSION pgtap;&quot; statements in the
generated test files. Enabled by default.</p>

<p style="margin-top: 1em">&quot;-v&quot; <br>
&quot;--verbose&quot; <br>
pg_tapgen --verbose <br>
pg_tapgen -v</p>

<p style="margin-top: 1em">Display standard output of test
scripts while running them. This behavior can also be
triggered by setting the $TEST_VERBOSE environment variable
to a true value.</p>

<p style="margin-top: 1em">&quot;-N&quot; <br>
&quot;--exclude-schema&quot; <br>
pg_tapgen --exclude-schema contrib <br>
pg_tapgen -N testing -N temporary</p>

<p style="margin-top: 1em">Exclude a schema from the test
generation. &quot;pg_tapgen&quot; always ignores
&quot;information_schema&quot;, as it is also ignored by
pgTAP. But if there are other schemas in the database <br>
that you don&rsquo;t need or want to test for in the
database (because you run the tests on another database
without those schemas, for example), use
&quot;--exclude-schema&quot; to omit <br>
them. May be used more than once to exclude more than one
schema.</p>

<p style="margin-top: 1em">&quot;-H&quot; <br>
&quot;--help&quot; <br>
pg_tapgen --help <br>
pg_tapgen -H</p>

<p style="margin-top: 1em">Outputs a brief description of
the options supported by &quot;pg_tapgen&quot; and
exits.</p>

<p style="margin-top: 1em">&quot;-m&quot; <br>
&quot;--man&quot; <br>
pg_tapgen --man <br>
pg_tapgen -m</p>

<p style="margin-top: 1em">Outputs this documentation and
exits.</p>

<p style="margin-top: 1em">&quot;-V&quot; <br>
&quot;--version&quot; <br>
pg_tapgen --version <br>
pg_tapgen -V</p>

<p style="margin-top: 1em">Outputs the program name and
version and exits.</p>

<p style="margin-top: 1em">Author <br>
David E. Wheeler &lt;dwheeler@cpan.org&gt;</p>

<p style="margin-top: 1em">Copyright <br>
Copyright (c) 2009-2016 David E. Wheeler. Some Rights
Reserved.</p>

<p style="margin-top: 1em">perl v5.24.1 2016-10-31
PG_TAPGEN(1p)</p>
<hr>
</body>
</html>
