<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:27:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NTPSHMMON(1) GPSD Documentation NTPSHMMON(1)</p>

<p style="margin-top: 1em">NAME <br>
ntpshmmon - capture samples from GPS or other ntpd refclock
sources</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ntpshmmon [-c cycletime] [-h] [-n nsamples] [-s] [-t
seconds] [-v] [-V]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This program monitors the shared-memory segments updated by
gpsd(8) (and possibly other refclock sources) as a way of
communicating with ntpd, the Network Time Protocol daemon.
<br>
It reads these in exactly the way an ntpd instance does. It
can be run concurrently with ntpd without interfering with
ntpd&rsquo;s normal operation.</p>

<p style="margin-top: 1em">This program runs forever, or
until a termination option is matched, or until interrupted,
generating sample reports to standard output. Each line
consists of <br>
whitespace-separated textual fields.</p>

<p style="margin-top: 1em">Here is an example of the
beginning of a report file:</p>

<p style="margin-top: 1em">ntpshmmon version 1 <br>
# Name Seen@ Clock Real L Prec <br>
sample NTP2 1424926256.443030206 1424926256.115869233
1424926256.000000000 0 -1 <br>
sample NTP3 1424926256.443060517 1424926255.995430821
1424926256.000000000 0 -20 <br>
sample NTP3 1424926256.995747347 1424926256.995422728
1424926257.000000000 0 -20 <br>
sample NTP2 1424926257.112433572 1424926257.111936726
1424926257.000000000 0 -1 <br>
sample NTP3 1424926257.996221153 1424926257.995410232
1424926258.000000000 0 -20 <br>
sample NTP2 1424926258.107769409 1424926258.107451006
1424926258.000000000 0 -1 <br>
sample NTP3 1424926258.995647636 1424926258.995406476
1424926259.000000000 0 -20</p>

<p style="margin-top: 1em">The output always begins with a
header line expressing the version of the output format; the
version line begins with &quot;ntpshmmon version&quot; and
is followed by a numeric version <br>
field.</p>

<p style="margin-top: 1em">The remainder of the file is
either commments or sample lines. A comment line begins with
a # and should ignored by programs that interpret this
format. This program never <br>
generates such lines itself.</p>

<p style="margin-top: 1em">The fields of a sample line are
as follows:</p>

<p style="margin-top: 1em">1. The keyword
&quot;sample&quot;</p>

<p style="margin-top: 1em">2. The NTP unit from which it
was collected.</p>

<p style="margin-top: 1em">3. Collection time of day,
seconds.</p>

<p style="margin-top: 1em">4. Receiver time of day,
seconds.</p>

<p style="margin-top: 1em">5. Clock time of day,
seconds.</p>

<p style="margin-top: 1em">6. Leap-second notification
status.</p>

<p style="margin-top: 1em">7. Source precision (log(2) of
source jitter).</p>

<p style="margin-top: 1em">In these fields, &quot;clock
time&quot; is the high-precision time measured by the source
and &quot;receiver time&quot; is Unix UTC time at the
receiver. It is normal for the seconds part of <br>
receiver time to coincide with the seconds part of
collection time and for the nanoseconds part of receiver
time to be zero.</p>

<p style="margin-top: 1em">-v <br>
Enable verbose status messages.</p>

<p style="margin-top: 1em">-c <br>
Device poll interval in fractional seconds - defaults to
1.</p>

<p style="margin-top: 1em">-n <br>
Set maximum number of samples to collect.</p>

<p style="margin-top: 1em">-s <br>
Remove all segments specified by the units argument. This
option will normally only be of interest to GPSD
developers.</p>

<p style="margin-top: 1em">-t <br>
Set maximum time to collect samples in seconds.</p>

<p style="margin-top: 1em">-h <br>
Display program usage and exit.</p>

<p style="margin-top: 1em">-V <br>
Display program version and exit.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gpsd(8), gpsdctl(8), gps(1), libgps(3), libgpsd(3),
gpsprof(1), gpsfake(1).</p>

<p style="margin-top: 1em">AUTHOR <br>
Eric S. Raymond &lt;esr@thyrsus.com&gt;.</p>

<p style="margin-top: 1em">The GPSD Project 25 Jan 2015
NTPSHMMON(1)</p>
<hr>
</body>
</html>
