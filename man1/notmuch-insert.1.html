<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NOTMUCH-INSERT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NOTMUCH-INSERT(1)</td>
    <td class="head-vol">notmuch</td>
    <td class="head-rtitle">NOTMUCH-INSERT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
notmuch-insert - add a message to the maildir and notmuch database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>notmuch</b> <b>insert</b> [option ...]
  [+&lt;<i>tag</i>&gt;|-&lt;<i>tag</i>&gt; ...]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>notmuch insert</b> reads a message from standard input and delivers it into
  the maildir directory given by configuration option <b>database.path</b>, then
  incorporates the message into the notmuch database. It is an alternative to
  using a separate tool to deliver the message then running <b>notmuch new</b>
  afterwards.
<div style="height: 1.00em;">&#x00A0;</div>
The new message will be tagged with the tags specified by the <b>new.tags</b>
  configuration option, then by operations specified on the command-line: tags
  prefixed by '+' are added while those prefixed by '-' are removed.
<div style="height: 1.00em;">&#x00A0;</div>
If the new message is a duplicate of an existing message in the database (it has
  same Message-ID), it will be added to the maildir folder and notmuch database,
  but the tags will not be changed.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>insert</b> command supports hooks. See <b>notmuch-hooks(5)</b> for more
  details on hooks.
<div style="height: 1.00em;">&#x00A0;</div>
Option arguments must appear before any tag operation arguments. Supported
  options for <b>insert</b> include
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--folder=&lt;</b>folder<b>&gt;</b></dt>
  <dd class="It-tag">Deliver the message to the specified folder, relative to
      the top-level directory given by the value of <b>database.path</b>. The
      default is to deliver to the top-level directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--create-folder</b></b></dt>
  <dd class="It-tag">Try to create the folder named by the <b>--folder</b>
      option, if it does not exist. Otherwise the folder must already exist for
      mail delivery to succeed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--keep</b></b></dt>
  <dd class="It-tag">Keep the message file if indexing fails, and keep the
      message indexed if applying tags or maildir flag synchronization fails.
      Ignore these errors and return exit status 0 to indicate successful mail
      delivery.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--no-hooks</b></b></dt>
  <dd class="It-tag">Prevent hooks from being run.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
This command returns exit status 0 on successful mail delivery, non-zero
  otherwise. The default is to indicate failed mail delivery on any errors,
  including message file delivery to the filesystem, message indexing to Notmuch
  database, changing tags, and synchronizing tags to maildir flags. The
  <b>--keep</b> option may be used to settle for successful message file
  delivery.
<div style="height: 1.00em;">&#x00A0;</div>
This command supports the following special exit status code for errors most
  likely to be temporary in nature, e.g. failure to get a database write lock.
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>75 (EX_TEMPFAIL)</b></b></dt>
  <dd class="It-tag">A temporary failure occured; the user is invited to
    retry.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The exit status of the <b>post-insert</b> hook does not affect the exit status
  of the <b>insert</b> command.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>notmuch(1)</b>, <b>notmuch-config(1)</b>, <b>notmuch-count(1)</b>,
  <b>notmuch-dump(1)</b>, <b>notmuch-hooks(5)</b>, <b>notmuch-reply(1)</b>,
  <b>notmuch-restore(1)</b>, <b>notmuch-search(1)</b>,
  <b>notmuch-search-terms(7)</b>, <b>notmuch-show(1)</b>, <b>notmuch-tag(1)</b>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Carl Worth and many others
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2009-2017, Carl Worth and many others</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 1, 2017</td>
    <td class="foot-os">0.24.2</td>
  </tr>
</table>
</body>
</html>
