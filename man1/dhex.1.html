<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:03:45 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DHEX(1) BSD General Commands Manual DHEX(1)</p>

<p style="margin-top: 1em">NAME <br>
dhex &acirc; hex editor with a diff mode</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dhex [-h] [-v] [-g] [-k] [-ab -ad -ah -ao base address] [-f
config-file] [-m marker-file] [-ob -od -oh -oo offset] [-r
searchlog] [-sa -sab string (ascii)] [-sh -shb string (hex)]
<br>
[-w searchlog] [file] <br>
dhex [-h] [-v] [-g] [-k] [-a1b -a1d -a1h -a1o base address
1] [-a2b -a2d -a2h -a2o base address 2] [-cb] [-cd
upper-limit] [-cl] [-f config-file] [-m marker-file] <br>
[-o1b -o1d -o1h -o1o offset1] [-o2b -o2d -o2h -o2o offset2]
[-r1 searchlog1] [-r2 searchlog2] [-s1a -s1ab -s1h -s1hb
string (ascii/hex)] <br>
[-s2a -s2ab -s2h -s2hb string (ascii/hex)] [-w1 searchlog1]
[-w2 searchlog2] [file1 file2]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dhex is a hex editor. It can be used to alter individual
bytes in large files. Since it is a text-mode program based
on ncurses, it can run in numerous scenarios. Its special
fea&acirc; <br>
ture is the diff mode: With it, the user has a visual tool
for file comparison. This mode is invoked when dhex is
called with two instead of one file as parameters.</p>

<p style="margin-top: 1em">OPTIONS <br>
All the options are case-insensitive and can be given as
either upper- or lowercase characters.</p>

<p style="margin-top: 1em">-ab -ad -ah -ao base address
<br>
After loading a file, every address gets a base address
other than 0. With this, it is easier to work on partial
memory dumps. The base address can be given as a binary <br>
one with [-ab] , as a decimal one with [-ad] , as a
hexadecimal one with [-ah] or an octal with [-ao].</p>

<p style="margin-top: 1em">-a1b -a1d -a1h -a1o base address
1</p>

<p style="margin-top: 1em">-a2b -a2d -a2h -a2o base address
2 <br>
For the diff mode, it is possible to set two different base
addresses. Again, a binary address can be given as [-a1b
-a2b] , as decimal one with [-a1d -a2d] , as hexa&acirc;
<br>
decimal one with [-a1h -a2h] or an octal one with [-a1o
-a2o].</p>

<p style="margin-top: 1em">This base address is calculated
into the marker files as well as the searchlogs.</p>

<p style="margin-top: 1em">-cb -cl Diff mode only: The
input files can be correlated from the command line with the
best -cb or longest -cl match. This is very slow.</p>

<p style="margin-top: 1em">-cd upper-limit <br>
Diff mode only: The input files can be correlated from the
command line with the minimum difference. To improve the
correlation speed, an upper limit can be provided.</p>

<p style="margin-top: 1em">-f configfile <br>
Usually, .dhexrc is being read from the invoker&rsquo;s home
directory. With this parameter, any other config file can be
loaded. See dhexrc(5) for a description of its file <br>
format.</p>

<p style="margin-top: 1em">-g Shows the license</p>

<p style="margin-top: 1em">-h Shows the help screen</p>

<p style="margin-top: 1em">-k Starts the keyboard setup
manually before any file is being loaded. This is very
helpful when calling dhex from an exotic terminal.</p>

<p style="margin-top: 1em">-m markerfile <br>
It is possible in dhex to set bookmarks and store them in a
markerfile for later use. With this parameter, the
markerfile is being read at start time, making it
unnece&acirc; <br>
sarry to read them later through the gui. Their file format
is described in dhex_markers(5).</p>

<p style="margin-top: 1em">-ob -od -oh -oo offset <br>
After loading a file, the cursor is set to 0, and the first
page of bytes is being shown on the screen. With one of
those parameters it is possible to start at any <br>
other location in the file. The cursorposition could be
given as a binary number with [-ob] , as a decimal one with
[-od] , as a hexadecimal one with [-oh] or an octal <br>
with [-oo].</p>

<p style="margin-top: 1em">-o1b -o1d -o1h -o1o offset1</p>

<p style="margin-top: 1em">-o2b -o2d -o2h -o2o offset2 <br>
For the diff mode, it is possible to set two different
cursorpositions at start time. Again, the cursorpositions
can be given as a binary number with [-o1b -o2b] , as <br>
decimal one with [-o1d -o2d] , as hexadecimal one with [-o1h
-o2h] or an octal one with [-o1o -o2o].</p>

<p style="margin-top: 1em">This way, the first few bytes in
a file can be skipped, and just the rest can be
compared.</p>

<p style="margin-top: 1em">-r searchlog <br>
When searching from the command line, the offsets are being
read from this searchlog. Its format is being decribed in
dhex_searchlog(5).</p>

<p style="margin-top: 1em">-r1 searchlog1</p>

<p style="margin-top: 1em">-r2 searchlog2 <br>
When searching in two files simultanously, the offsets can
be read from two different searchlogs.</p>

<p style="margin-top: 1em">-sa -sab -sh -shb string <br>
Instead of setting the cursor offset to an absolute value,
it is possible to search for a specific string from the
command line. If there is an additional [-ob -od -oh <br>
-oo offset] present, the search will start there. It is
possible to read and write search logs with [-r searchlog]
and [-w searchlog] respectively. With [-sa string] is <br>
being interpreted as ASCII. [-sh string] interprets it as
hex. For backwards search, [-sab string] or [-shb string]
can be applied.</p>

<p style="margin-top: 1em">-s1a -s1ab -s1h -s1hb
string1</p>

<p style="margin-top: 1em">-s2a -s2ab -s2h -s2hb string2
<br>
In the diff mode, it is possible to search for two strings
in two files simultanously.</p>

<p style="margin-top: 1em">-v Prints out the version of
dhex.</p>

<p style="margin-top: 1em">-w searchlog <br>
When searching from the command line, write the results into
this searchlog and quit. It is being written in the format
described in dhex_searchlog(5.)</p>

<p style="margin-top: 1em">-w1 searchlog1</p>

<p style="margin-top: 1em">-w2 searchlog2 <br>
When searching in two files simultanously, write the results
from both searches into those log files.</p>

<p style="margin-top: 1em">USER INTERFACE <br>
General <br>
Menus have hotkeys, they are being presented in a different
color. To jump from one menu item to the next, the cursor
keys or the TAB key can be used.</p>

<p style="margin-top: 1em">Input fields can be closed by
pressing ESC, ENTER, or any cursor key. Only pressing ESC
will not save the changes made in there.</p>

<p style="margin-top: 1em">The keyboard setup <br>
When running dhex for the first time, without any configfile
present, or with the parameter -k, the first screen shown is
that of the keyboard setup. In this screen, the program <br>
asks the user to press certain keys. Which are (in order)
ESCAPE, F1, F2, F3, F4, F5, F6, F7, F8, F9, F10, BACKSPACE,
DEL, ENTER, TAB, UP, DOWN, RIGHT, LEFT, PG UP, PG DOWN,
HOME, <br>
END. It also tells the user what it intends to do with those
keys later. So the user can decide on any alternative he
chooses. If he does not want to bind a specific function to
a <br>
certain key, he can simply press ESCAPE and skip to the next
question.</p>

<p style="margin-top: 1em">After pressing all the keys, the
user can chose whether or not to write those keys into the
config file.</p>

<p style="margin-top: 1em">The main screen <br>
The main screen is broken down into three columns: The first
column contains the offset within the file for the current
line. The second column contains the bytes in the file in
<br>
hex format. Finally, the third coumn contains the same
bytes, but this time in ascii format. If a byte is not
printable, it is being substituted with a &rsquo;.&rsquo;.
How many bytes are are <br>
being shown in a line depends on the width of the terminal.
For example, if the terminal is 80 characters wide, 16 bytes
are being shown in each line.</p>

<p style="margin-top: 1em">If no other [-o] or [-a]
parameter was given at start time, the cursor is being set
to offset 0. It is also being shown in the hex column. Here,
it can be moved with the cursor <br>
keys. When entering a hexadecimal number, the file is being
edited. The file can be edited in the ascii column as well,
simply by pressing the TAB key (or whichever key was
substi&acirc; <br>
tuted for it in the keyboard setup). Pressing TAB again will
return the cursor to the hex column. Pressing F9 (or its
substitute) will undo the last of the changes. Changes are
<br>
being shown in a differnt color.</p>

<p style="margin-top: 1em">Editing is not possible in the
diff mode. Here, pressing the cursor keys will move both
files synchronously.</p>

<p style="margin-top: 1em">The goto screen <br>
Pressing F1 (or its substitute) will open the Goto...
screen. Here, it is possible to jump to a specific address
directly, without the need of scrolling there with the
cursor keys. <br>
The address can be entered in the &rsquo;To&rsquo; field,
either absolute or relative (to leap over a specified amount
of bytes). An absolute address is being chosen by pressing
&rsquo;=&rsquo;, and a <br>
relative one by pressing &rsquo;+&rsquo; or &rsquo;-&rsquo;,
for a positive or negative leap respectively. Regardless of
the adressing mode, it has to be entered as a hexadecimal
number.</p>

<p style="margin-top: 1em">It is also possible to set up to
ten bookmarks in this screen: Pressing
&rsquo;0&rsquo;...&rsquo;9&rsquo; will select one of them.
Moving the cursor to &quot;Set&quot; and pressing ENTER will
alter one of those <br>
book marks. The &quot;Diff:&quot; fields are showing the
difference between the actual cursor position and the
bookmark.</p>

<p style="margin-top: 1em">Bookmarks can be stored and
loaded, for this there are the &quot;Save Markers&quot; and
&quot;Load Markers&quot; items on the bottom. Upon selecting
one of them, the user is being prompted for a file&acirc;
<br>
name. It is possible to load a marker file at start time, by
providing the [-m markerfile] parameter. dhex_markers(5)
describes the format of the marker files.</p>

<p style="margin-top: 1em">Searching <br>
Pressing F2 (or its subsitute) will open the Search...
screen. Here, a short string can be entered (either in hex,
or in ascii). If no logfiles are being selected, the cursor
will <br>
jump to the next occurance of this search string upon
selection of &quot;Go&quot;. It can be chosen if the search
is supposed to be conducted forward of backwards.</p>

<p style="margin-top: 1em">To jump to the next occurance,
F3 (or its substitute) has to be pressed. To jump to the
previous one, F4 has to be pressed. The search itself wraps
at the edges of the file, mean&acirc; <br>
ing that when it reaches the end, it will start from the
beginning and vice versa.</p>

<p style="margin-top: 1em">Searchlogs are an advanced way
of searching: Writing to the searchlog does not jump the
cursor from one occurance to the next. Instead, it will
write the offsets of all of them <br>
into the logfile. Their format is described in
dhex_searchlog(5).</p>

<p style="margin-top: 1em">Reading from this searchlog
means that the search does not cover the whole file: Only
the addresses which have been provided in this file are
being searched. Thus it is possible to <br>
search for specific changes. Like for example the number of
lives stored in the save file of a game. dhex_searchlog(5)
describes the format of the searchlog.</p>

<p style="margin-top: 1em">HexCal <br>
Pressing F5 (or its substitute) will open a small 64 bit
calculator. This calculator is capable of not only
performing arithmetic operations (+, -, *, /, modulo), but
also logic <br>
ones. (and, or, xor, shift). There are three columns to
enter numbers as hexadecimals, decimals or in binary format.
Pressing &rsquo;x&rsquo; will close this screen.</p>

<p style="margin-top: 1em">Correlation <br>
When dhex(1) is running in diff mode, pressing F6 (or its
substitute) will open the dialog for file correlation. This
will try to find the optimal offset between the two files.
<br>
There are three algorithms available for finding this
offset: Searching for the best match (as many bytes as
possible are the same), the longest match (as many
consecutive bytes <br>
match as possible), or the minimum difference (as little
differences between the bytes as possible).</p>

<p style="margin-top: 1em">Even though it seems like the
same at first, looking for the minimum difference is in fact
faster. This can be improved even more, if the user sets an
upper difference limit.</p>

<p style="margin-top: 1em">Upon selecting Go, the program
will search for the optimal offset. This will take some
time.</p>

<p style="margin-top: 1em">Saving and quitting <br>
Pressing F10 (or its substitute) will close dhex. In case
there have been changes made to the file, a save dialog
opens up. Here, it is possible to select whether or not to
write <br>
the changes back into the file.</p>

<p style="margin-top: 1em">FILES <br>
$HOME/.dhexrc: The default location of the config file. If
the $HOME-variable is not set, its location has to be
provided manually.</p>

<p style="margin-top: 1em">BUGS <br>
Report bugs to &lt;dettus@dettus.net&gt;. Make sure to
include DHEX somewhere in the subject.</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Thomas Dettbarn</p>

<p style="margin-top: 1em">SEE ALSO <br>
dhexrc(5), dhex_markers(5), dhex_searchlog(5)</p>

<p style="margin-top: 1em">BSD May 12, 2012 BSD</p>
<hr>
</body>
</html>
