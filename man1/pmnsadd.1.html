<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:32:08 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PMNSADD(1) General Commands Manual PMNSADD(1)</p>

<p style="margin-top: 1em">NAME <br>
pmnsadd - add new names to the Performance Co-Pilot PMNS</p>

<p style="margin-top: 1em">SYNOPSIS <br>
$PCP_BINADM_DIR/pmnsadd [-n namespace] file</p>

<p style="margin-top: 1em">DESCRIPTION <br>
pmnsmerge(1) performs the same function as pmnsadd and is
faster, more robust and more flexible. It is therefore
recommended that pmnsmerge(1) be used instead.</p>

<p style="margin-top: 1em">pmnsadd adds subtree(s) of new
names into a Performance Metrics Name Space (PMNS), as used
by the components of the Performance Co-Pilot (PCP).</p>

<p style="margin-top: 1em">Normally pmnsadd operates on the
default Performance Metrics Name Space (PMNS), however if
the -n option is specified an alternative namespace is used
from the file namespace.</p>

<p style="margin-top: 1em">The default PMNS is found in the
file $PCP_VAR_DIR/pmns/root unless the environment variable
PMNS_DEFAULT is set, in which case the value is assumed to
be the pathname to the <br>
file containing the default PMNS.</p>

<p style="margin-top: 1em">The new names are specified in
the file, arguments and conform to the syntax for PMNS
specifications, see pmns(5). There is one PMNS subtree in
each file, and the base PMNS <br>
pathname to the inserted subtree is identified by the first
group named in each file, e.g. if the specifications
begin</p>

<p style="margin-top: 1em">myagent.foo.stuff { <br>
mumble 123:45:1 <br>
fumble 123:45:2 <br>
}</p>

<p style="margin-top: 1em">then the new names will be added
into the PMNS at the non-leaf position identified by
myagent.foo.stuff, and following all other names with the
prefix myagent.foo.</p>

<p style="margin-top: 1em">The new names must be contained
within a single subtree of the namespace. If disjoint
subtrees need to be added, these must be packaged into
separate files and pmnsadd used on <br>
each, one at a time.</p>

<p style="margin-top: 1em">All of the files defining the
PMNS must be located within the directory that contains the
root of the PMNS, this would typically be $PCP_VAR_DIR/pmns
for the default PMNS, and <br>
this would typically imply running pmnsadd as root.</p>

<p style="margin-top: 1em">As a special case, if file
contains a line that begins root { then it is assumed to be
a complete PMNS that needs to be merged, so none of the
subtree extraction and rewriting is <br>
performed and file is handed directly to pmnsmerge(1).</p>

<p style="margin-top: 1em">Provided some initial integrity
checks are satisfied, pmnsadd will update the PMNS using
pmnsmerge(1) - if this fails for any reason, the original
namespace remains unchanged.</p>

<p style="margin-top: 1em">CAVEAT <br>
Once the writing of the new namespace file has begun, the
signals SIGINT, SIGHUP and SIGTERM will be ignored to
protect the integrity of the new files.</p>

<p style="margin-top: 1em">FILES <br>
$PCP_VAR_DIR/pmns/root the default PMNS, when then
environment variable PMNS_DEFAULT is unset</p>

<p style="margin-top: 1em">PCP ENVIRONMENT <br>
Environment variables with the prefix PCP_ are used to
parameterize the file and directory names used by PCP. On
each installation, the file /etc/pcp.conf contains the local
<br>
values for these variables. The $PCP_CONF variable may be
used to specify an alternative configuration file, as
described in pcp.conf(5).</p>

<p style="margin-top: 1em">SEE ALSO <br>
pmnsdel(1), pmnsmerge(1), pcp.conf(5), pcp.env(5) and
pmns(5).</p>

<p style="margin-top: 1em">Performance Co-Pilot PCP
PMNSADD(1)</p>
<hr>
</body>
</html>
