<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:40:54 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TRUST(1) User Commands TRUST(1)</p>

<p style="margin-top: 1em">NAME <br>
trust - Tool for operating on the trust policy store</p>

<p style="margin-top: 1em">SYNOPSIS <br>
trust list</p>

<p style="margin-top: 1em">trust extract
--filter=&lt;what&gt; --format=&lt;type&gt;
/path/to/destination</p>

<p style="margin-top: 1em">trust anchor
/path/to/certificate.crt</p>

<p style="margin-top: 1em">DESCRIPTION <br>
trust is a command line tool to examine and modify the
shared trust policy store.</p>

<p style="margin-top: 1em">See the various sub commands
below. The following global options can be used:</p>

<p style="margin-top: 1em">-v, --verbose <br>
Run in verbose mode with debug output.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Run in quiet mode without warning or failure messages.</p>

<p style="margin-top: 1em">LIST <br>
List trust policy store items.</p>

<p style="margin-top: 1em">$ trust list</p>

<p style="margin-top: 1em">List information about the
various items in the trust policy store. Each item is listed
with it&rsquo;s PKCS#11 URI and some descriptive
information.</p>

<p style="margin-top: 1em">You can specify the following
options to control what to list.</p>

<p style="margin-top: 1em">--filter=&lt;what&gt; <br>
Specifies what certificates to extract. You can specify the
following values:</p>

<p style="margin-top: 1em">ca-anchors <br>
Certificate anchors</p>

<p style="margin-top: 1em">trust-policy <br>
Anchors and blacklist (default)</p>

<p style="margin-top: 1em">blacklist <br>
Blacklisted certificates</p>

<p style="margin-top: 1em">certificates <br>
All certificates</p>

<p style="margin-top: 1em">pkcs11:object=xx <br>
A PKCS#11 URI to filter with</p>

<p style="margin-top: 1em">If an output format is chosen
that cannot support type what has been specified by the
filter, a message will be printed.</p>

<p style="margin-top: 1em">None of the available formats
support storage of blacklist entries that do not contain a
full certificate. Thus any certificates blacklisted by their
issuer and serial number <br>
alone, are not included in the extracted blacklist.</p>

<p style="margin-top: 1em">--purpose=&lt;usage&gt; <br>
Limit to certificates usable for the given purpose You can
specify one of the following values:</p>

<p style="margin-top: 1em">server-auth <br>
For authenticating servers</p>

<p style="margin-top: 1em">client-auth <br>
For authenticating clients</p>

<p style="margin-top: 1em">email <br>
For email protection</p>

<p style="margin-top: 1em">code-signing <br>
For authenticated signed code</p>

<p style="margin-top: 1em">1.2.3.4.5... <br>
An arbitrary purpose OID</p>

<p style="margin-top: 1em">ANCHOR <br>
Store or remove trust anchors.</p>

<p style="margin-top: 1em">$ trust anchor
/path/to/certificate.crt <br>
$ trust anchor --remove /path/to/certificate.crt <br>
$ trust anchor --remove
&quot;pkcs11:id=%AA%BB%CC%DD%EE;object-type=cert&quot;</p>

<p style="margin-top: 1em">Store or remove trust anchors in
the trust policy store. These are usually root certificate
authorities.</p>

<p style="margin-top: 1em">Specify either the --store or
--remove operations. If no operation is specified then
--store is assumed.</p>

<p style="margin-top: 1em">When storing, one or more
certificate files are expected on the command line. These
are stored as anchors, unless they are already present.</p>

<p style="margin-top: 1em">When removing an anchor, either
specify certificate files or PKCS#11 URI&rsquo;s on the
command line. Matching anchors will be removed.</p>

<p style="margin-top: 1em">It may be that this command
needs to be run as root in order to modify the system trust
policy store, if no user specific store is available.</p>

<p style="margin-top: 1em">You can specify the following
options.</p>

<p style="margin-top: 1em">--remove <br>
Remove one or more anchors from the trust policy store.
Specify certificate files or PKCS#11 URI&rsquo;s on the
command line.</p>

<p style="margin-top: 1em">--store <br>
Store one or more anchors to the trust policy store. Specify
certificate files on the command line.</p>

<p style="margin-top: 1em">EXTRACT <br>
Extract trust policy from the shared trust policy store.</p>

<p style="margin-top: 1em">$ trust extract
--format=x509-directory --filter=ca-anchors
/path/to/directory</p>

<p style="margin-top: 1em">You can specify the following
options to control what to extract. The --filter and
--format arguments should be specified. By default this
command will not overwrite the <br>
destination file or directory.</p>

<p style="margin-top: 1em">--comment <br>
Add identifying comments to PEM bundle output files before
each certificate.</p>

<p style="margin-top: 1em">--filter=&lt;what&gt; <br>
Specifies what certificates to extract. You can specify the
following values:</p>

<p style="margin-top: 1em">ca-anchors <br>
Certificate anchors (default)</p>

<p style="margin-top: 1em">trust-policy <br>
Anchors and blacklist</p>

<p style="margin-top: 1em">blacklist <br>
Blacklisted certificates</p>

<p style="margin-top: 1em">certificates <br>
All certificates</p>

<p style="margin-top: 1em">pkcs11:object=xx <br>
A PKCS#11 URI</p>

<p style="margin-top: 1em">If an output format is chosen
that cannot support type what has been specified by the
filter, a message will be printed.</p>

<p style="margin-top: 1em">None of the available formats
support storage of blacklist entries that do not contain a
full certificate. Thus any certificates blacklisted by their
issuer and serial number <br>
alone, are not included in the extracted blacklist.</p>

<p style="margin-top: 1em">--format=&lt;type&gt; <br>
The format of the destination file or directory. You can
specify one of the following values:</p>

<p style="margin-top: 1em">x509-file <br>
DER X.509 certificate file</p>

<p style="margin-top: 1em">x509-directory <br>
directory of X.509 certificates</p>

<p style="margin-top: 1em">pem-bundle <br>
File containing one or more certificate PEM blocks</p>

<p style="margin-top: 1em">pem-directory <br>
Directory PEM files each containing one certifiacte</p>

<p style="margin-top: 1em">openssl-bundle <br>
OpenSSL specific PEM bundle of certificates</p>

<p style="margin-top: 1em">openssl-directory <br>
Directory of OpenSSL specific PEM files</p>

<p style="margin-top: 1em">java-cacerts <br>
Java keystore &rsquo;cacerts&rsquo; certificate bundle</p>

<p style="margin-top: 1em">--overwrite <br>
Overwrite output file or directory.</p>

<p style="margin-top: 1em">--purpose=&lt;usage&gt; <br>
Limit to certificates usable for the given purpose You can
specify one of the following values:</p>

<p style="margin-top: 1em">server-auth <br>
For authenticating servers</p>

<p style="margin-top: 1em">client-auth <br>
For authenticating clients</p>

<p style="margin-top: 1em">email <br>
For email protection</p>

<p style="margin-top: 1em">code-signing <br>
For authenticated signed code</p>

<p style="margin-top: 1em">1.2.3.4.5... <br>
An arbitrary purpose OID</p>

<p style="margin-top: 1em">EXTRACT COMPAT <br>
Extract compatibility trust certificate bundles.</p>

<p style="margin-top: 1em">$ trust extract-compat</p>

<p style="margin-top: 1em">OpenSSL, Java and some versions
of GnuTLS cannot currently read trust information directly
from the trust policy store. This command extracts trust
information such as <br>
certificate anchors for use by these libraries.</p>

<p style="margin-top: 1em">What this command does, and
where it extracts the files is distribution or site
specific. Packagers or administrators are expected customize
this command.</p>

<p style="margin-top: 1em">BUGS <br>
Please send bug reports to either the distribution bug
tracker or the upstream bug tracker at
https://bugs.freedesktop.org/enter_bug.cgi?product=p11-glue&amp;component=p11-kit.</p>

<p style="margin-top: 1em">SEE ALSO <br>
p11-kit(8)</p>

<p style="margin-top: 1em">An explanatory document about
storing trust policy:
http://p11-glue.freedesktop.org/doc/storing-trust-policy/</p>

<p style="margin-top: 1em">Further details available in the
p11-kit online documentation at
http://p11-glue.freedesktop.org/doc/p11-kit/.</p>

<p style="margin-top: 1em">p11-kit TRUST(1)</p>
<hr>
</body>
</html>
