<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PROXYTUNNEL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PROXYTUNNEL(1)</td>
    <td class="head-vol">&#x00A0;</td>
    <td class="head-rtitle">PROXYTUNNEL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
proxytunnel - program to tunnel a connection through a standard HTTPS proxy
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>proxytunnel</b> <i>[OPTION]</i>...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>proxytunnel</b> is a program to tunnel any connection through a standard
  HTTPS proxy, circumventing standard HTTP filtering mechanisms. It&#x2019;s
  mostly used as a backend for OpenSSH&#x2019;s ProxyCommand, and as a proxy
  backend for Putty. It can also be used for other proxy-traversing purposes
  like proxy bouncing.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-i</b>, <b>--inetd</b>
<div style="margin-left: 4.00ex;">Run from inetd (default: off)</div>
<div class="Pp"></div>
<b>-a</b>, <b>--standalone</b>=<i>port</i>
<div style="margin-left: 4.00ex;">Run as standalone daemon on specified
  <i>port</i></div>
<div class="Pp"></div>
<b>-p</b>, <b>--proxy</b>=<i>host</i>:_port_
<div style="margin-left: 4.00ex;">Use <i>host</i> and <i>port</i> as the local
  proxy to connect to, if not specified the <b>HTTP_PROXY</b> environment
  variable, if set, will be used instead</div>
<div class="Pp"></div>
<b>-r</b>, <b>--remproxy</b>=<i>host</i>:_port_
<div style="margin-left: 4.00ex;">Use <i>host</i> and <i>port</i> as the remote
  (secondary) proxy to connect to</div>
<div class="Pp"></div>
<b>-d</b>, <b>--dest</b>=<i>host</i>:_port_
<div style="margin-left: 4.00ex;">Use <i>host</i> and <i>port</i> as the
  destination for the tunnel, you can also specify them as the argument to the
  proxytunnel command</div>
<div class="Pp"></div>
<b>-e</b>, <b>--encrypt</b>
<div style="margin-left: 4.00ex;">SSL encrypt data between local proxy and
  destination</div>
<div class="Pp"></div>
<b>-E</b>, <b>--encrypt-proxy</b>
<div style="margin-left: 4.00ex;">SSL encrypt data between client and local
  proxy</div>
<div class="Pp"></div>
<b>-X</b>, <b>--encrypt-remproxy</b>
<div style="margin-left: 4.00ex;">SSL encrypt data between local and remote
  (secondary) proxy</div>
<h1 class="Sh" title="Sh" id="ADDITIONAL_OPTIONS"><a class="selflink" href="#ADDITIONAL_OPTIONS">ADDITIONAL
  OPTIONS</a></h1>
<b>-F</b>, <b>--passfile</b>=<i>filename</i>
<div style="margin-left: 4.00ex;">Use <i>filename</i> for reading username and
  password for HTTPS proxy authentication, the file uses the same format as
  .wgetrc and can be shared with wget. Use this option, or environment variables
  to hide the password from other users</div>
<div class="Pp"></div>
<b>-P</b>, <b>--proxyauth</b>=<i>username</i>:_password_
<div style="margin-left: 4.00ex;">Use <i>username</i> and <i>password</i> as
  credentials to authenticate against a local HTTPS proxy, the username and
  password can also be specified in the <b>PROXYUSER</b> and <b>PROXYPASS</b>
  environment variables to hide them from other users. If the <i>password</i> is
  ommited and no <b>PROXYPASS</b> environment variable is set, proxytunnel will
  prompt for a password</div>
<div class="Pp"></div>
<b>-R</b>, <b>--remproxyauth</b>=<i>username</i>:_password_
<div style="margin-left: 4.00ex;">Use <i>username</i> and <i>password</i> as
  credentials to authenticate against a remote (secondary) HTTPS proxy, the
  username and password can also be specified in the <b>REMPROXYUSER</b> and
  <b>REMPROXYPASS</b> environment variables to hide them from other users. If
  the <i>password</i> is ommited and no <b>REMPROXYPASS</b> environment variable
  is set, proxytunnel will prompt for a password</div>
<div class="Pp"></div>
<b>-N</b>, <b>--ntlm</b>
<div style="margin-left: 4.00ex;">Use NTLM basd authentication</div>
<div class="Pp"></div>
<b>-t</b>, <b>--domain</b>=<i>STRING</i>
<div style="margin-left: 4.00ex;">Specify NTLM domain (default:
  autodetect)</div>
<div class="Pp"></div>
<b>-H</b>, <b>--header</b>=<i>STRING</i>
<div style="margin-left: 4.00ex;">Add additional HTTP headers to send to
  proxy</div>
<div class="Pp"></div>
<b>-x</b>, <b>--proctitle</b>=<i>STRING</i>
<div style="margin-left: 4.00ex;">Use a different process title</div>
<h1 class="Sh" title="Sh" id="MISCELLANEOUS_OPTIONS"><a class="selflink" href="#MISCELLANEOUS_OPTIONS">MISCELLANEOUS
  OPTIONS</a></h1>
<b>-v</b>, <b>--verbose</b>
<div style="margin-left: 4.00ex;">Turn on verbosity</div>
<div class="Pp"></div>
<b>-q</b>, <b>--quiet</b>
<div style="margin-left: 4.00ex;">Suppress messages</div>
<div class="Pp"></div>
<b>-h</b>, <b>--help</b>
<div style="margin-left: 4.00ex;">Print help and exit</div>
<div class="Pp"></div>
<b>-V</b>, <b>--version</b>
<div style="margin-left: 4.00ex;">Print version and exit</div>
<h1 class="Sh" title="Sh" id="ARGUMENTS"><a class="selflink" href="#ARGUMENTS">ARGUMENTS</a></h1>
<i>host</i>:_port_ is the destination hostname and port number combination
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Specifying the destination as arguments is exactly the same as specifying them
  using the <b>-d</b> or <b>--dest</b> option.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
Depending on your situation you might want to do any of the following things:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>Connect through a local proxy to
  your home system on port 22</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ proxytunnel -v -p proxy.company.com:8080 -d system.home.nl:22
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>Connect through a local proxy (with
  authentication) to your home system</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ proxytunnel -v -p proxy.company.com:8080 -P username:password -d system.home.nl:22
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>Connect through a local proxy (with
  authentication) hiding your password</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ export PROXYPASS=password
$ proxytunnel -v -p proxy.company.com:8080 -P username -d system.home.nl:22
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>Connect through a local proxy to a
  remote proxy and bounce to any system</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ proxytunnel -v -p proxy.company.com:8080 -r proxy.athome.nl:443 -d system.friend.nl:22
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>Connect using SSL through a local
  proxy to your home system</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
$ proxytunnel -v -E -p proxy.company.com:8080 -d system.home.nl:22
</pre>
</div>
</div>
<h1 class="Sh" title="Sh" id="OPENSSH_CONFIGURATION"><a class="selflink" href="#OPENSSH_CONFIGURATION">OPENSSH
  CONFIGURATION</a></h1>
To use this program with OpenSSH to connect to a host somewhere, create a
  <i>~/.ssh/config</i> file with the following content:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Host system.athome.nl
    ProxyCommand proxytunnel -p proxy.company.com:8080 -d %h:%p
    ServerAliveInterval 30
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The ServerAliveInterval directive makes sure that idle connections are not being
  dropped by intermediate firewalls that remove active sessions aggresively. If
  you see your connection dropping out, try to lower the value even more.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
To use the dynamic (SOCKS) portforwarding capability of the SSH client, you can
  specify the DynamicForward directive in your ssh_config file like:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Host system.athome.nl
    DynamicForward 1080
    ProxyCommand proxytunnel -p proxy.company.com:8080 -d %h:%p
    ServerAliveInterval 30
</pre>
</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Important</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Most HTTPS proxies do not allow access to ports other than HTTPS (tcp/443) and
  SNEWS (tcp/563). In this case you need to make sure the SSH daemon or remote
  proxy on the destination system is listening on either tcp/443 or tcp/563 to
  get through.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
Proxytunnel can be influenced by setting one of the following environment
  variables:
<div class="Pp"></div>
<b>HTTP_PROXY</b>
<div style="margin-left: 4.00ex;">If this environment variable is set,
  proxytunnel will use it as the <i>local proxy</i> if <b>-p</b> or
  <b>--proxy</b> is not provided</div>
<div class="Pp"></div>
<b>PROXYUSER</b>
<div style="margin-left: 4.00ex;">If this environment variable is set,
  proxytunnel will use it as the <i>username</i> for proxy authentication,
  unless specified using the <b>-P</b> or <b>--proxyauth</b> option</div>
<div class="Pp"></div>
<b>PROXYPASS</b>
<div style="margin-left: 4.00ex;">If this environment variable is set,
  proxytunnel will use it as the <i>password</i> for proxy authentication,
  unless specified using the <b>-P</b> or <b>--proxyauth</b> option</div>
<div class="Pp"></div>
<b>REMPROXYUSER</b>
<div style="margin-left: 4.00ex;">If this environment variable is set,
  proxytunnel will use it as the <i>username</i> for remote (secondary) proxy
  authentication, unless specified using the <b>-R</b> or <b>--remproxyauth</b>
  option</div>
<div class="Pp"></div>
<b>REMPROXYPASS</b>
<div style="margin-left: 4.00ex;">If this environment variable is set,
  proxytunnel will use it as the <i>password</i> for remote (secondary) proxy
  authentication, unless specified using the <b>-R</b> or <b>--remproxyauth</b>
  option</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<div style="margin-left: 4.00ex;">
<pre>
ssh(1), ssh_config(8)
</pre>
</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
This software is bug-free, at least we&#x2019;d like to think so. If you do not
  agree with us, please attach the proof to your friendly email :)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This manpage was initially written by Lo&#x00EF;c Le Guyader &lt;
  <b>loic.leguyader@laposte.net</b>[1]&gt; for the Debian GNU/Linux system,
  revamped in asciidoc by Dag Wie&#x00EB;rs &lt; <b>dag@wieers.com</b>[2]&gt;
  and is now maintained by the Proxytunnel developers.
<div style="height: 1.00em;">&#x00A0;</div>
Homepage at <b>http://proxytunnel.sourceforge.net/</b>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>Proxytunnel developers</b>
<div style="margin-left: 4.00ex;">Author.</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">loic.leguyader@laposte.net</dd>
</dl>
<div style="margin-left: 4.00ex;">mailto:loic.leguyader@laposte.net</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">dag@wieers.com</dd>
</dl>
<div style="margin-left: 4.00ex;">mailto:dag@wieers.com</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Augustus 2008</td>
    <td class="foot-os">&#x00A0; 1.9.0</td>
  </tr>
</table>
</body>
</html>
