<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MSTCONFIG(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MSTCONFIG(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">MSTCONFIG(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mstconfig
<h1 class="Sh" title="Sh" id="SYNOPSIS:"><a class="selflink" href="#SYNOPSIS:">SYNOPSIS:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">mstconfig [Options] &lt;Commands&gt; [Parameters]</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS:"><a class="selflink" href="#OPTIONS:">OPTIONS:</a></h1>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b>|<b>--dev</b> &lt;device&gt;</b></dt>
  <dd class="It-tag">: Perform operation for a specified MST device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-b</b>|<b>--db</b> &lt;filename&gt;</b></dt>
  <dd class="It-tag">: Use a specific database file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-f</b>|<b>--file</b> &lt;conf_file&gt;</b></dt>
  <dd class="It-tag">: raw configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>|<b>--help</b></b></dt>
  <dd class="It-tag">: Display help message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-v</b>|<b>--version</b></b></dt>
  <dd class="It-tag">: Display version info.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b>|<b>--enable_verbosity</b></b></dt>
  <dd class="It-tag">: Show default and current configurations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-y</b>|<b>--yes</b></b></dt>
  <dd class="It-tag">: Answer yes in prompt.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-a</b>|<b>--all_attrs</b></b></dt>
  <dd class="It-tag">: Show all attributes in the XML template</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="COMMANDS:"><a class="selflink" href="#COMMANDS:">COMMANDS:</a></h1>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>clear_semaphore</b></dt>
  <dd class="It-tag">: clear the tool semaphore.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>i[show_confs]</b></dt>
  <dd class="It-tag">: display informations about all configurations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>q[uery]</b></dt>
  <dd class="It-tag">: query supported configurations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>r[eset]</b></dt>
  <dd class="It-tag">: reset all configurations to their default value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>s[et]</b></dt>
  <dd class="It-tag">: set configurations to a specific device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_raw</b></dt>
  <dd class="It-tag">: set raw configuration <b>file.</b>(only
      Connect-IB/Connect-X4/LX.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backup</b></dt>
  <dd class="It-tag">: backup configurations to a <b>file.</b>(only
      Connect-IB/Connect-X4/LX.). Use set_raw command to restore file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>gen_tlvs_file</b></dt>
  <dd class="It-tag">: Generate List of all TLVs. TLVs output file name must be
      specified. (*)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>g[en_xml_template]</b></dt>
  <dd class="It-tag">: Generate XML template. TLVs input file name and XML
      output file name must be specified. (*)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xml2raw</b></dt>
  <dd class="It-tag">: Generate Raw file from XML file. XML input file name and
      raw output file name must be specified. (*)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>raw2xml</b></dt>
  <dd class="It-tag">: Generate XML file from Raw file. raw input file name and
      XML output file name must be specified. (*)</dd>
</dl>
</div>
<div class="Pp"></div>
(*) These commands do not require MST device
<div class="Pp"></div>
To show supported configurations by device type, run show_confs command
<div style="margin-left: 5.00ex;">Examples:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>To query configurations</b></dt>
  <dd class="It-tag">: mstconfig <b>-d</b> 04:00.0 query</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>To set configuration</b></dt>
  <dd class="It-tag">: mstconfig <b>-d</b> 04:00.0 set SRIOV_EN=1 NUM_OF_VFS=16
      WOL_MAGIC_EN_P1=1</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>To set raw configuration</b></dt>
  <dd class="It-tag">: mstconfig <b>-d</b> 05:00.0 <b>-f</b> conf_file
    set_raw</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>To reset configuration</b></dt>
  <dd class="It-tag">: mstconfig <b>-d</b> 04:00.0 reset</dd>
</dl>
</div>
<div class="Pp"></div>
Supported devices: 4th Generation devices: ConnectX3, ConnectX3-Pro (FW
  2.31.5000 and above). 5th Generation devices: ConnectIB, ConnectX4,
  ConnectX4-LX, ConnectX5.
<div class="Pp"></div>
Note: query device to view supported configurations by Firmware.</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">4.6.0</td>
    <td class="foot-os">10 January 2017</td>
  </tr>
</table>
</body>
</html>
