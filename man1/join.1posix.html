<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:19:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>JOIN(1POSIX) POSIX Programmer&rsquo;s Manual
JOIN(1POSIX)</p>

<p style="margin-top: 1em">PROLOG <br>
This manual page is part of the POSIX Programmer&rsquo;s
Manual. The Linux implementation of this interface may
differ (consult the corresponding Linux manual page for
details of <br>
Linux behavior), or the interface may not be implemented on
Linux.</p>

<p style="margin-top: 1em">NAME <br>
join &acirc; relational database operator</p>

<p style="margin-top: 1em">SYNOPSIS <br>
join [&acirc;a file_number|&acirc;v file_number] [&acirc;e
string] [&acirc;o list] [&acirc;t char] <br>
[&acirc;1 field] [&acirc;2 field] file1 file2</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The join utility shall perform an equality join on the files
file1 and file2. The joined files shall be written to the
standard output.</p>

<p style="margin-top: 1em">The join field is a field in
each file on which the files are compared. The join utility
shall write one line in the output for each pair of lines in
file1 and file2 that have <br>
identical join fields. The output line by default shall
consist of the join field, then the remaining fields from
file1, then the remaining fields from file2. This format can
be <br>
changed by using the &acirc;o option (see below). The
&acirc;a option can be used to add unmatched lines to the
output. The &acirc;v option can be used to output only
unmatched lines.</p>

<p style="margin-top: 1em">The files file1 and file2 shall
be ordered in the collating sequence of sort &acirc;b on the
fields on which they shall be joined, by default the first
in each line. All selected out&acirc; <br>
put shall be written in the same collating sequence.</p>

<p style="margin-top: 1em">The default input field
separators shall be &lt;blank&gt; characters. In this case,
multiple separators shall count as one field separator, and
leading separators shall be ignored. The <br>
default output field separator shall be a &lt;space&gt;.</p>

<p style="margin-top: 1em">The field separator and
collating sequence can be changed by using the &acirc;t
option (see below).</p>

<p style="margin-top: 1em">If the same key appears more
than once in either file, all combinations of the set of
remaining fields in file1 and the set of remaining fields in
file2 are output in the order <br>
of the lines encountered.</p>

<p style="margin-top: 1em">If the input files are not in
the appropriate collating sequence, the results are
unspecified.</p>

<p style="margin-top: 1em">OPTIONS <br>
The join utility shall conform to the Base Definitions
volume of POSIX.1&acirc;2008, Section 12.2, Utility Syntax
Guidelines.</p>

<p style="margin-top: 1em">The following options shall be
supported:</p>

<p style="margin-top: 1em">&acirc;a file_number <br>
Produce a line for each unpairable line in file file_number,
where file_number is 1 or 2, in addition to the default
output. If both &acirc;a1 and &acirc;a2 are specified, all
<br>
unpairable lines shall be output.</p>

<p style="margin-top: 1em">&acirc;e string Replace empty
output fields in the list selected by &acirc;o with the
string string.</p>

<p style="margin-top: 1em">&acirc;o list Construct the
output line to comprise the fields specified in list, each
element of which shall have one of the following two
forms:</p>

<p style="margin-top: 1em">1. file_number.field, where
file_number is a file number and field is a decimal integer
field number</p>

<p style="margin-top: 1em">2. 0 (zero), representing the
join field</p>

<p style="margin-top: 1em">The elements of list shall be
either &lt;comma&gt;-separated or &lt;blank&gt;-separated,
as specified in Guideline 8 of the Base Definitions volume
of POSIX.1&acirc;2008, Section 12.2, <br>
Utility Syntax Guidelines. The fields specified by list
shall be written for all selected output lines. Fields
selected by list that do not appear in the input shall <br>
be treated as empty output fields. (See the &acirc;e
option.) Only specifically requested fields shall be
written. The application shall ensure that list is a single
command <br>
line argument.</p>

<p style="margin-top: 1em">&acirc;t char Use character char
as a separator, for both input and output. Every appearance
of char in a line shall be significant. When this option is
specified, the collating <br>
sequence shall be the same as sort without the &acirc;b
option.</p>

<p style="margin-top: 1em">&acirc;v file_number <br>
Instead of the default output, produce a line only for each
unpairable line in file_number, where file_number is 1 or 2.
If both &acirc;v1 and &acirc;v2 are specified, all <br>
unpairable lines shall be output.</p>

<p style="margin-top: 1em">&acirc;1 field Join on the
fieldth field of file 1. Fields are decimal integers
starting with 1.</p>

<p style="margin-top: 1em">&acirc;2 field Join on the
fieldth field of file 2. Fields are decimal integers
starting with 1.</p>

<p style="margin-top: 1em">OPERANDS <br>
The following operands shall be supported:</p>

<p style="margin-top: 1em">file1, file2 <br>
A pathname of a file to be joined. If either of the file1 or
file2 operands is &rsquo;&acirc;&rsquo;, the standard input
shall be used in its place.</p>

<p style="margin-top: 1em">STDIN <br>
The standard input shall be used only if the file1 or file2
operand is &rsquo;&acirc;&rsquo;. See the INPUT FILES
section.</p>

<p style="margin-top: 1em">INPUT FILES <br>
The input files shall be text files.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The following environment variables shall affect the
execution of join:</p>

<p style="margin-top: 1em">LANG Provide a default value for
the internationalization variables that are unset or null.
(See the Base Definitions volume of POSIX.1&acirc;2008,
Section 8.2, Internationaliza&acirc; <br>
tion Variables for the precedence of internationalization
variables used to determine the values of locale
categories.)</p>

<p style="margin-top: 1em">LC_ALL If set to a non-empty
string value, override the values of all the other
internationalization variables.</p>

<p style="margin-top: 1em">LC_COLLATE <br>
Determine the locale of the collating sequence join expects
to have been used when the input files were sorted.</p>

<p style="margin-top: 1em">LC_CTYPE Determine the locale
for the interpretation of sequences of bytes of text data as
characters (for example, single-byte as opposed to
multi-byte characters in arguments <br>
and input files).</p>

<p style="margin-top: 1em">LC_MESSAGES <br>
Determine the locale that should be used to affect the
format and contents of diagnostic messages written to
standard error.</p>

<p style="margin-top: 1em">NLSPATH Determine the location
of message catalogs for the processing of LC_MESSAGES.</p>

<p style="margin-top: 1em">ASYNCHRONOUS EVENTS <br>
Default.</p>

<p style="margin-top: 1em">STDOUT <br>
The join utility output shall be a concatenation of selected
character fields. When the &acirc;o option is not specified,
the output shall be:</p>

<p style="margin-top: 1em">&quot;%s%s%s0, &lt;join
field&gt;, &lt;other file1 fields&gt;, <br>
&lt;other file2 fields&gt;</p>

<p style="margin-top: 1em">If the join field is not the
first field in a file, the &lt;other file fields&gt; for
that file shall be:</p>

<p style="margin-top: 1em">&lt;fields preceding join
field&gt;, &lt;fields following join field&gt;</p>

<p style="margin-top: 1em">When the &acirc;o option is
specified, the output format shall be:</p>

<p style="margin-top: 1em">&quot;%s0, &lt;concatenation of
fields&gt;</p>

<p style="margin-top: 1em">where the concatenation of
fields is described by the &acirc;o option, above.</p>

<p style="margin-top: 1em">For either format, each field
(except the last) shall be written with its trailing
separator character. If the separator is the default
(&lt;blank&gt; characters), a single &lt;space&gt; <br>
shall be written after each field (except the last).</p>

<p style="margin-top: 1em">STDERR <br>
The standard error shall be used only for diagnostic
messages.</p>

<p style="margin-top: 1em">OUTPUT FILES <br>
None.</p>

<p style="margin-top: 1em">EXTENDED DESCRIPTION <br>
None.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The following exit values shall be returned:</p>

<p style="margin-top: 1em">0 All input files were output
successfully.</p>

<p style="margin-top: 1em">&gt;0 An error occurred.</p>

<p style="margin-top: 1em">CONSEQUENCES OF ERRORS <br>
Default.</p>

<p style="margin-top: 1em">The following sections are
informative.</p>

<p style="margin-top: 1em">APPLICATION USAGE <br>
Pathnames consisting of numeric digits or of the form
string.string should not be specified directly following the
&acirc;o list.</p>

<p style="margin-top: 1em">EXAMPLES <br>
The &acirc;o 0 field essentially selects the union of the
join fields. For example, given file phone:</p>

<p style="margin-top: 1em">!Name Phone Number <br>
Don +1 123-456-7890 <br>
Hal +1 234-567-8901 <br>
Yasushi +2 345-678-9012</p>

<p style="margin-top: 1em">and file fax:</p>

<p style="margin-top: 1em">!Name Fax Number <br>
Don +1 123-456-7899 <br>
Keith +1 456-789-0122 <br>
Yasushi +2 345-678-9011</p>

<p style="margin-top: 1em">(where the large expanses of
white space are meant to each represent a single
&lt;tab&gt;), the command:</p>

<p style="margin-top: 1em">join &acirc;t
&quot;&lt;tab&gt;&quot; &acirc;a 1 &acirc;a 2 &acirc;e
&rsquo;(unknown)&rsquo; &acirc;o 0,1.2,2.2 phone fax</p>

<p style="margin-top: 1em">would produce:</p>

<p style="margin-top: 1em">!Name Phone Number Fax Number
<br>
Don +1 123-456-7890 +1 123-456-7899 <br>
Hal +1 234-567-8901 (unknown) <br>
Keith (unknown) +1 456-789-0122 <br>
Yasushi +2 345-678-9012 +2 345-678-9011</p>

<p style="margin-top: 1em">Multiple instances of the same
key will produce combinatorial results. The following:</p>

<p style="margin-top: 1em">fa: <br>
a x <br>
a y <br>
a z <br>
fb: <br>
a p</p>

<p style="margin-top: 1em">will produce:</p>

<p style="margin-top: 1em">a x p <br>
a y p <br>
a z p</p>

<p style="margin-top: 1em">And the following:</p>

<p style="margin-top: 1em">fa: <br>
a b c <br>
a d e <br>
fb: <br>
a w x <br>
a y z <br>
a o p</p>

<p style="margin-top: 1em">will produce:</p>

<p style="margin-top: 1em">a b c w x <br>
a b c y z <br>
a b c o p <br>
a d e w x <br>
a d e y z <br>
a d e o p</p>

<p style="margin-top: 1em">RATIONALE <br>
The &acirc;e option is only effective when used with
&acirc;o because, unless specific fields are identified
using &acirc;o, join is not aware of what fields might be
empty. The exception to this <br>
is the join field, but identifying an empty join field with
the &acirc;e string is not historical practice and some
scripts might break if this were changed.</p>

<p style="margin-top: 1em">The 0 field in the &acirc;o list
was adopted from the Tenth Edition version of join to
satisfy international objections that the join in the base
documents does not support the &lsquo;&lsquo;full <br>
join&rsquo;&rsquo; or &lsquo;&lsquo;outer join&rsquo;&rsquo;
described in relational database literature. Although it has
been possible to include a join field in the output (by
default, or by field number using <br>
&acirc;o), the join field could not be included for an
unpaired line selected by &acirc;a. The &acirc;o 0 field
essentially selects the union of the join fields.</p>

<p style="margin-top: 1em">This sort of outer join was not
possible with the join commands in the base documents. The
&acirc;o 0 field was chosen because it is an
upwards-compatible change for applications. An <br>
alternative was considered: have the join field represent
the union of the fields in the files (where they are
identical for matched lines, and one or both are null for
unmatched <br>
lines). This was not adopted because it would break some
historical applications.</p>

<p style="margin-top: 1em">The ability to specify file2 as
&acirc; is not historical practice; it was added for
completeness.</p>

<p style="margin-top: 1em">The &acirc;v option is not
historical practice, but was considered necessary because it
permitted the writing of only those lines that do not match
on the join field, as opposed to the <br>
&acirc;a option, which prints both lines that do and do not
match. This additional facility is parallel with the
&acirc;v option of grep.</p>

<p style="margin-top: 1em">Some historical implementations
have been encountered where a blank line in one of the input
files was considered to be the end of the file; the
description in this volume of <br>
POSIX.1&acirc;2008 does not cite this as an allowable
case.</p>

<p style="margin-top: 1em">Earlier versions of this
standard allowed &acirc;j, &acirc;j1, &acirc;j2 options, and
a form of the &acirc;o option that allowed the list
option-argument to be multiple arguments. These forms are no
<br>
longer specified by POSIX.1&acirc;2008 but may be present in
some implementations.</p>

<p style="margin-top: 1em">FUTURE DIRECTIONS <br>
None.</p>

<p style="margin-top: 1em">SEE ALSO <br>
awk, comm, sort, uniq</p>

<p style="margin-top: 1em">The Base Definitions volume of
POSIX.1&acirc;2008, Chapter 8, Environment Variables,
Section 12.2, Utility Syntax Guidelines</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Portions of this text are reprinted and reproduced in
electronic form from IEEE Std 1003.1, 2013 Edition, Standard
for Information Technology -- Portable Operating System
Inter&acirc; <br>
face (POSIX), The Open Group Base Specifications Issue 7,
Copyright (C) 2013 by the Institute of Electrical and
Electronics Engineers, Inc and The Open Group. (This is <br>
POSIX.1-2008 with the 2013 Technical Corrigendum 1 applied.)
In the event of any discrepancy between this version and the
original IEEE and The Open Group Standard, the original <br>
IEEE and The Open Group Standard is the referee document.
The original Standard can be obtained online at
http://www.unix.org/online.html .</p>

<p style="margin-top: 1em">Any typographical or formatting
errors that appear in this page are most likely to have been
introduced during the conversion of the source files to man
page format. To report <br>
such errors, see
https://www.kernel.org/doc/man-pages/reporting_bugs.html
.</p>

<p style="margin-top: 1em">IEEE/The Open Group 2013
JOIN(1POSIX)</p>
<hr>
</body>
</html>
