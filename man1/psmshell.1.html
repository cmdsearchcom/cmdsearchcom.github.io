<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PSMSHELL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PSMSHELL(1)</td>
    <td class="head-vol">ICI executables</td>
    <td class="head-rtitle">PSMSHELL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
psmshell - PSM memory management test shell
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>psmshell</b> <i>partition_size</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>psmshell</b> allocates a region of <i>partition_size</i> bytes of system
  memory, places it under PSM management, and offers the user an interactive
  &quot;shell&quot; for testing various PSM management functions.
<div class="Pp"></div>
<b>psmshell</b> prints a prompt string (&quot;: &quot;) to stdout, accepts a
  command from stdin, executes the command (possibly printing a diagnostic
  message), then prints another prompt string and so on.
<div class="Pp"></div>
The locations of objects allocated from the PSM-managed region of memory are
  referred to as &quot;cells&quot; in psmshell operations. That is, when an
  object is to be allocated, a cell number in the range 0-99 must be specified
  as the notional &quot;handle&quot; for that object, for use in future
  commands.
<div class="Pp"></div>
The following commands are supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>h</b></dt>
  <dd class="It-tag">The <b>help</b> command. Causes <b>psmshell</b> to print a
      summary of available commands. Same effect as the <b>?</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>?</b></dt>
  <dd class="It-tag">Another <b>help</b> command. Causes <b>psmshell</b> to
      print a summary of available commands. Same effect as the <b>h</b>
      command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>m</b> <i>cell_nbr</i> <i>size</i></dt>
  <dd class="It-tag">The <b>malloc</b> command. Allocates a large-pool object of
      the indicated size and associates that object with <i>cell_nbr</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>z</b> <i>cell_nbr</i> <i>size</i></dt>
  <dd class="It-tag">The <b>zalloc</b> command. Allocates a small-pool object of
      the indicated size and associates that object with <i>cell_nbr</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>p</b> <i>cell_nbr</i></dt>
  <dd class="It-tag">The <b>print</b> command. Prints the address (i.e., the
      offset within the managed block of memory) of the object associated with
      <i>cell_nbr</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>f</b> <i>cell_nbr</i></dt>
  <dd class="It-tag">The <b>free</b> command. Frees the object associated with
      <i>cell_nbr</i>, returning the space formerly occupied by that object to
      the appropriate free block list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>u</b></dt>
  <dd class="It-tag">The <b>usage</b> command. Prints a partition usage report,
      as per <i>psm_report</i>(3).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>q</b></dt>
  <dd class="It-tag">The <b>quit</b> command. Frees the allocated system memory
      in the managed block and terminates <b>psmshell</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;0&quot;</dt>
  <dd class="It-tag"><b>psmshell</b> has terminated.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
No configuration files are needed.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
No environment variables apply.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">IPC initialization failed.</dt>
  <dd class="It-tag">ION system error. Investigate, correct problem, and try
      again.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">psmshell: can't allocate space; quitting.</dt>
  <dd class="It-tag">Insufficient available system memory for selected partition
      size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">psmshell: can't allocate test variables; quitting.</dt>
  <dd class="It-tag">Insufficient available system memory for selected partition
      size.</dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report bugs to &lt;ion-bugs@korgano.eecs.ohiou.edu&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>psm</i>(3)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-07-07</td>
    <td class="foot-os">perl v5.24.1</td>
  </tr>
</table>
</body>
</html>
