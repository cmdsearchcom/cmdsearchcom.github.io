<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:28:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">opasmaquery(1) Master map:
IFSFFCLIRG (Man Page) opasmaquery(1)</p>

<p style="margin-top: 1em">NAME <br>
opasmaquery</p>

<p style="margin-top: 1em">(All) Performs Intel(R)
Omni-Path Architecture-defined SMA queries and displays the
resulting response. Each query is issued directly to the SMA
and does not involve SM interac&acirc; <br>
tion.</p>

<p style="margin-top: 1em">Syntax <br>
opasmaquery [-v] [-d detail][-g] [-l lid] [-h hfi] [-p port]
[-K mkey] [-o otype] [-m port| port1,port2] [-f flid] [-b
block[,count]] [hop hop ...]</p>

<p style="margin-top: 1em">Options <br>
--help Produces full help text.</p>

<p style="margin-top: 1em">-v Returns verbose output. Can
be specified more than once for additional openib and
libibumad debugging.</p>

<p style="margin-top: 1em">-d detail Output detail level
for cableinfo only. Range = 0 - n. Default = 2. An upper
limit for detail level is not enforced. After a maximum
amount of output is reached, a <br>
larger detail value has no effect.</p>

<p style="margin-top: 1em">-g Displays line-by-line format.
Default is summary format.</p>

<p style="margin-top: 1em">-l lid Destination LID. Default
is local port.</p>

<p style="margin-top: 1em">-h hfi HFI, numbered 1..n. Using
0 specifies that the -p port port is a system-wide port
number. Default is 0.</p>

<p style="margin-top: 1em">-p port Port, numbered 1..n. If
-h hfi is 0, then port is a system-wide port number. Default
is 1.</p>

<p style="margin-top: 1em">-K mkey SM management key to
access remote ports.</p>

<p style="margin-top: 1em">-o otype Output type. Default is
nodeinfo.</p>

<p style="margin-top: 1em">Valid output types are:</p>

<p style="margin-top: 1em">bfrctrl Buffer control
tables.</p>

<p style="margin-top: 1em">[-m dest_port] [-m
port1,port2]</p>

<p style="margin-top: 1em">cableinfo Cable information.</p>

<p style="margin-top: 1em">[-d detail] [-m dest_port] [-b
block[,count]]</p>

<p style="margin-top: 1em">conginfo <br>
Congestion information.</p>

<p style="margin-top: 1em">desc or nodedesc <br>
Node descriptions/names.</p>

<p style="margin-top: 1em">hficongcon <br>
HFI congestion control settings.</p>

<p style="margin-top: 1em">[-b block[,count]] [-f flid]</p>

<p style="margin-top: 1em">hficonglog <br>
HFI congestion logs.</p>

<p style="margin-top: 1em">[-b block[,count]]</p>

<p style="margin-top: 1em">hficongset <br>
HFI congestion settings.</p>

<p style="margin-top: 1em">linfdb Switch linear forwarding
database (FDB) tables.</p>

<p style="margin-top: 1em">[-b block[,count]] [-f flid]</p>

<p style="margin-top: 1em">mcfdb Switch multicast FDB
tables.</p>

<p style="margin-top: 1em">[-m dest_port] [-b
block[,count]] [-f flid]</p>

<p style="margin-top: 1em">portgroup Adaptive Routing port
groups.</p>

<p style="margin-top: 1em">[-b block[,count]]</p>

<p style="margin-top: 1em">portgroupfdb <br>
Adaptive Routing port group FWD tables.</p>

<p style="margin-top: 1em">[-b block[,count]] [-f flid]</p>

<p style="margin-top: 1em">nodeaggr Node information and
node descriptions.</p>

<p style="margin-top: 1em">node or nodeinfo <br>
Node information.</p>

<p style="margin-top: 1em">[-m dest_port]</p>

<p style="margin-top: 1em">portinfo Port information.</p>

<p style="margin-top: 1em">[-m dest_port]</p>

<p style="margin-top: 1em">pstateinfo <br>
Switch port state information.</p>

<p style="margin-top: 1em">[-m dest_port] [-m
port1,port2]</p>

<p style="margin-top: 1em">pkey P-Key tables.</p>

<p style="margin-top: 1em">[-m dest_port] [-b
block[,count]]</p>

<p style="margin-top: 1em">slsc SL to SC mapping
tables.</p>

<p style="margin-top: 1em">scsl SC to SL mapping
tables.</p>

<p style="margin-top: 1em">scsc SC to SC mapping
tables.</p>

<p style="margin-top: 1em">[-m dest_port] [-m
port1,port2]</p>

<p style="margin-top: 1em">scvlt <br>
SC to VLt tables.</p>

<p style="margin-top: 1em">[-m dest_port] [-m
port1,port2]</p>

<p style="margin-top: 1em">scvlnt SC to VLnt tables.</p>

<p style="margin-top: 1em">[-m dest_port] [-m
port1,port2]</p>

<p style="margin-top: 1em">sminfo SM information.</p>

<p style="margin-top: 1em">swaggr Node information and
switch information.</p>

<p style="margin-top: 1em">swconglog Switch congestion
logs.</p>

<p style="margin-top: 1em">[-b block[,count]]</p>

<p style="margin-top: 1em">swcongset Switch congestion
settings.</p>

<p style="margin-top: 1em">swinfo Switch information.</p>

<p style="margin-top: 1em">swportcong <br>
Switch congestion settings.</p>

<p style="margin-top: 1em">[-b block[,count]]</p>

<p style="margin-top: 1em">vlarb VL arbitration tables.</p>

<p style="margin-top: 1em">[-m dest_port]</p>

<p style="margin-top: 1em">ibnodeinfo <br>
IB node information.</p>

<p style="margin-top: 1em">ledinfo LED information.</p>

<p style="margin-top: 1em">[-m dest_port]</p>

<p style="margin-top: 1em">-h and -p options permit a
variety of selections: <br>
-h 0 First active port in system (default).</p>

<p style="margin-top: 1em">-h 0 -p 0 First active port in
system.</p>

<p style="margin-top: 1em">-h x First active port on HFI
x.</p>

<p style="margin-top: 1em">-h x#8217#160;-p 0 <br>
First active port on HFI x.</p>

<p style="margin-top: 1em">-h 0 -p y Port y#8217#160;
within system (no matter which ports are active).</p>

<p style="margin-top: 1em">-h x#8217#160;-p y <br>
HFI x, port y</p>

<p style="margin-top: 1em">otype Options Vary by Report
<br>
-m port Port in destination device to query.</p>

<p style="margin-top: 1em">-m port1,port2 <br>
For some reports, a range of ports between port1 and port2.
For others, this describes an inport/outport pair.</p>

<p style="margin-top: 1em">-f flid LID to look up in
forwarding table to select which LFT or MFT block to
display. Default is to show entire table.</p>

<p style="margin-top: 1em">-b block[,count] <br>
Block number of either GUIDs or pkey, and the number of
blocks to display. Default is to show entire table.</p>

<p style="margin-top: 1em">For example:</p>

<p style="margin-top: 1em">-b block Displays all of block
block of a larger table.</p>

<p style="margin-top: 1em">-b block,count <br>
Displays count blocks of data starting with block block.</p>

<p style="margin-top: 1em">-b, count <br>
Displays count blocks of data starting with block 0.</p>

<p style="margin-top: 1em">Examples <br>
opasmaquery -o desc -l 6 <br>
# get nodedesc via lid routed</p>

<p style="margin-top: 1em">opasmaquery -o nodedesc 1 3 <br>
# get nodedesc via directed route (2 dr hops)</p>

<p style="margin-top: 1em">opasmaquery -o nodeinfo -l 2 3
<br>
# get nodeinfo via a combination of lid routed and #
directed route (1 dr hop)</p>

<p style="margin-top: 1em">opasmaquery -o portinfo <br>
# get local port info</p>

<p style="margin-top: 1em">opasmaquery -o portinfo -l 6 -m
1 <br>
# get port info of port 1 of lid 6</p>

<p style="margin-top: 1em">opasmaquery -o pkey -l 2 3 <br>
# get pkey table entries starting (lid routed to lid 2, <br>
# then 1 dr hop to port 3)</p>

<p style="margin-top: 1em">opasmaquery -o vlarb -l 6 <br>
# get vlarb table entries from lid 6</p>

<p style="margin-top: 1em">opasmaquery -o swinfo -l 2 <br>
# get switch info</p>

<p style="margin-top: 1em">opasmaquery -o sminfo -l 1 <br>
# get SM info</p>

<p style="margin-top: 1em">opasmaquery -o slsc -l 3 <br>
# get sl2sc table entries from lid 3</p>

<p style="margin-top: 1em">opasmaquery -o scsl -l 3 <br>
# get sc2sl table entries from lid 3</p>

<p style="margin-top: 1em">Copyright(C) 2015-2016 Intel
Corporation opasmaquery(1)</p>
<hr>
</body>
</html>
