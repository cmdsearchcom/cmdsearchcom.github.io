<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:58:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CGM(1) User Commands CGM(1)</p>

<p style="margin-top: 1em">NAME <br>
cgm - a client script for cgmanager</p>

<p style="margin-top: 1em">DESCRIPTION <br>
cgm is a client script to simplify making requests of the
cgroup manager. It simply calls dbus-send to send requests
to the running cgmanager or cgproxy.</p>

<p style="margin-top: 1em">Usage:</p>

<p style="margin-top: 1em">cgm ping</p>

<p style="margin-top: 1em">cgm create &lt;controller&gt;
&lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm chown &lt;controller&gt;
&lt;cgroup&gt; uid gid</p>

<p style="margin-top: 1em">cgm chmod &lt;controller&gt;
&lt;cgroup&gt; mode</p>

<p style="margin-top: 1em">cgm chmodfile &lt;controller&gt;
&lt;cgroup&gt; file mode</p>

<p style="margin-top: 1em">cgm remove &lt;controller&gt;
&lt;cgroup&gt; [0|1]</p>

<p style="margin-top: 1em">cgm getpidcgroup
&lt;controller&gt; pid</p>

<p style="margin-top: 1em">cgm getpidcgroupabs
&lt;controller&gt; pid</p>

<p style="margin-top: 1em">cgm movepid &lt;controller&gt;
&lt;cgroup&gt; pid</p>

<p style="margin-top: 1em">cgm movepidabs
&lt;controller&gt; &lt;cgroup&gt; pid</p>

<p style="margin-top: 1em">cgm getvalue &lt;controller&gt;
&lt;cgroup&gt; file</p>

<p style="margin-top: 1em">cgm setvalue &lt;controller&gt;
&lt;cgroup&gt; file value</p>

<p style="margin-top: 1em">cgm gettasks &lt;controller&gt;
&lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm gettasksrecursive
&lt;controller&gt; &lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm listchildren
&lt;controller&gt; &lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm removeonempty
&lt;controller&gt; &lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm prune &lt;controller&gt;
&lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm listcontrollers</p>

<p style="margin-top: 1em">cgm listkeys &lt;controller&gt;
&lt;cgroup&gt;</p>

<p style="margin-top: 1em">cgm apiversion</p>

<p style="margin-top: 1em">Replace
&rsquo;&lt;controller&gt;&rsquo; with the desired
controller, i.e. memory, and &rsquo;&lt;cgroup&gt;&rsquo;
with the desired cgroup, i.e. x1. For create, chown, chmod,
remove, prune, <br>
remove_on_empty, gettasksrecursive and movepid,
&lt;controller&gt; may be &quot;all&quot; or a
comma-separated set of cgroups. Remove by default is
recursive, but adding &rsquo;0&rsquo; as the last <br>
argument will perforn non-recursive deletion. Adding
&rsquo;1&rsquo; is supported for legacy reasons.</p>

<p style="margin-top: 1em">To refer to the current cgroup,
use &rsquo;&rsquo;.</p>

<p style="margin-top: 1em">NOTES <br>
In order to protect the host from root in containers,
cgmanager locks prevents tasks from administering cgroups
which are not under their own. The exceptions are that root
in a <br>
container may escape up to the cgroup of its cgproxy, and
root on the host may escape to the root cgroup.</p>

<p style="margin-top: 1em">This means that a user in
freezer cgroup /foo cannot list cgroups in /. However, as
root he can use movepidabs to escape to /, then list cgroups
in /.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To create a new cgroup called foo and move your shell into
it, you could do:</p>

<p style="margin-top: 1em">sudo cgm create all foo <br>
sudo cgm chown all foo $(id -u) $(id -g) <br>
cgm movepid all foo $$</p>

<p style="margin-top: 1em">Then to freeze that cgroup,</p>

<p style="margin-top: 1em">cgm setvalue freezer foo
freezer.state FROZEN</p>

<p style="margin-top: 1em">SEE ALSO <br>
cgmanager(8)</p>

<p style="margin-top: 1em">cgm 0.29 April 2016 CGM(1)</p>
<hr>
</body>
</html>
