<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GBP-RPM-CH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GBP-RPM-CH(1)</td>
    <td class="head-vol">git-buildpackage-rpm Manual</td>
    <td class="head-rtitle">GBP-RPM-CH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gbp-rpm-ch; - Generate the RPM changelog from git commit messages
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gbp rpm-ch</b> [ <b>--version</b> ] [ <b>--help</b> ] [ <b>--verbose</b> ] [
  <b>--color=</b><i>[auto|on|off]</i><b></b> ] [
  <b>--color-scheme=</b><i>COLOR_SCHEME</i> <b></b> ] [
  <b>--tmp-dir=</b><i>DIRECTORY</i> <b></b> ] [
  <b>--vendor=</b><i>VENDOR</i><b></b> ] [
  <b>--packaging-branch=</b><i>BRANCH-NAME</i> <b></b> ] [
  <b>--packaging-tag=</b> <i>TAG-FORMAT</i><b></b> ] [ <b>--ignore-branch</b> ]
  [ <b>--packaging-dir=</b><i>DIRECTORY</i><b></b> ] [
  <b>--changelog-file=</b><i>FILEPATH</i><b></b> ] [
  <b>--spec-file=</b><i>FILEPATH</i> <b></b> ] [
  <b>--since=</b><i>COMMITISH</i><b></b> ] [ <b>--no-release</b> ] [
  <b>--[no-]git-author</b> ] [ <b>--[no-]full</b> ] [
  <b>--id-length=</b><i>NUMBER</i> <b></b> ] [
  <b>--ignore-regex=</b><i>REGEX</i> <b></b> ] [
  <b>--changelog-revision=</b><i>REV-FORMAT</i> <b></b> ] [
  <b>--git-log=</b><i>GIT-LOG-OPTIONS</i> <b></b> ] [
  <b>--spawn-editor=</b><i>[always|release|no]</i> <b></b> ] [
  <b>--editor-cmd=</b> <i>EDITOR</i><b></b> ] [
  <b>--customizations=</b><i>CUSTOMIZATION-FILE</i> <b></b> ] <b></b><i>[PATH1
  PATH2]</i> <b></b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>gbp rpm-ch</b> reads git commit messages up to the current tip of the current
  branch and updates the RPM changelog from them.
<div class="Pp"></div>
By default, <b>gbp rpm-ch</b> tries to guess the last Git commit documented in
  the changelog. Alternatively, <b>--since</b> can be used to tell <b>gbp
  rpm-ch</b> at which point it should start in the Git history, or, <b>--all</b>
  to use all commits from the Git history.
<div class="Pp"></div>
The additional path arguments can be used to restrict the repository paths
  <b>gbp rpm-ch</b> looks at. For even more detailed control, you can use
  <b>--git-log</b> to restrict the generated changelog entries further. E.g. by
  using <b>--git-log=</b><i>&quot;--author=Foo Bar&quot;</i>.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print version of the program, i.e. version of the
      git-buildpackage suite</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Verbose execution</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Print help and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--color=</b><i>[auto|on|off]</i><b> </b></dt>
  <dd class="It-tag">Whether to use colored output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--color-scheme=</b><i>COLOR_SCHEME</i><b> </b></dt>
  <dd class="It-tag">Colors to use in output (when color is enabled). The format
      for COLOR_SCHEME is
      '&lt;debug&gt;:&lt;info&gt;:&lt;warning&gt;:&lt;error&gt;'. Numerical
      values and color names are accepted, empty fields imply the default color.
      For example, <b>--git-color-scheme=</b>'cyan:34::' would show debug
      messages in cyan, info messages in blue and other messages in default
      (i.e. warning and error messages in red).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--git-tmp-dir=</b><i>DIRECTORY</i><b> </b></dt>
  <dd class="It-tag">Base directory under which temporary directories are
      created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--vendor=</b><i>VENDOR</i><b> </b></dt>
  <dd class="It-tag">Distribution vendor name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--packaging-branch=</b><i>BRANCH-NAME</i><b> </b></dt>
  <dd class="It-tag">The branch in the Git repository the package is being
      developed on, default is <i>master</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-branch </b></dt>
  <dd class="It-tag">Don't check if the current branch matches
      <i>PACKAGING-BRANCH</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--packaging-tag=</b><i>TAG-FORMAT</i><b> </b></dt>
  <dd class="It-tag">Tag format used, when tagging releases, default is
      <i>%(vendor)s/%(version)s</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--packaging-dir=</b><i>DIRECTORY</i><b> </b></dt>
  <dd class="It-tag">Subdirectory that contains the RPM packaging files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--changelog-file=</b><i>FILEPATH</i><b> </b></dt>
  <dd class="It-tag">Relative path to the changelog file to use. Special value
      <i>auto</i> causes <b>gbp</b> to guess, <i>SPEC</i> uses the spec file,
      <i>CHANGES</i> uses a separate changelog file (name derived spec file name
      with .spec suffix replaced by .changes). Guessing logic is simple: use
      separate changelog file if it is found, otherwise use the spec file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--spec-file=</b><i>FILEPATH</i><b> </b></dt>
  <dd class="It-tag">Relative path to the spec file to use. Special value
      <i>auto</i> causes <b>gbp</b> to search and guess. Other values cause the
      <b>--packaging-dir</b> option to be ignored: the directory of the spec
      file is used, instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--since=</b><i>COMMITTISH</i><b> </b></dt>
  <dd class="It-tag">Start reading commit messages at <i>COMMITTISH</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-release </b></dt>
  <dd class="It-tag">Do not create a new changelog section, just update the last
      changelog section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--[no-]full </b></dt>
  <dd class="It-tag">Include the full commit message in the changelog
    output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--git-log=</b><i>GIT-LOG-OPTIONS</i><b> </b></dt>
  <dd class="It-tag">Options passed on verbatim to git-log(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--id-length=</b><i>N</i><b> </b></dt>
  <dd class="It-tag">Include <i>N</i> digits of the commit id in the changelog
      entry. Default is to not include any commit ids at all.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-regex=</b><i>REGEX</i><b> </b></dt>
  <dd class="It-tag">Ignore lines in commit message matching <i>REGEX</i> when
      generating the changelog.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--changelog-revision=</b><i>REV-FORMAT</i><b> </b></dt>
  <dd class="It-tag">Format string to use for revision field in the changelog
      header. The following string fields are accepted:
      <i>%(upstreamversion)s</i> the upstream version; <i>%(release)s</i> the
      rpm patchlevel, i.e. Release; <i>%(version)s</i> full rpm package version;
      <i>%(tagname)s</i> tag/commit, i.e. basically what <b>git-describe</b>
      would give. If empty or not defined the default from packaging policy is
      used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-regex=</b><i>REGEX</i><b> </b></dt>
  <dd class="It-tag">Ignore commit lines matching <i>REGEX</i> when generating
      the changelog.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--[no-]git-author </b></dt>
  <dd class="It-tag">Use user.name and user.email from <b>git-config</b>(1) for
      the changelog header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--spawn-editor=</b><i>[always|release|no]</i><b>
    </b></dt>
  <dd class="It-tag">Whether to spawn an editor: always, when doing a release or
      never.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--editor-cmd=</b><i>EDITOR</i><b> </b></dt>
  <dd class="It-tag">The editor to use for editing the changelog.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--customizations=</b><i>CUSTOMIZATION-FILE</i><b>
    </b></dt>
  <dd class="It-tag">Load Python code from <i>CUSTOMIZATION-FILE</i>. At the
      moment, the only useful thing the code can do is define a custom
      ChangelogEntryFormatter class.</dd>
</dl>
<h1 class="Sh" title="Sh" id="META_TAGS"><a class="selflink" href="#META_TAGS">META
  TAGS</a></h1>
Additional to the above options the formatting of the new changelog entries
  (one-per-commit) in the changelog can be modified by special tags (called Meta
  Tags) given in the git commit message. The tags must start at the first column
  of a commit message but can appear on any line. They are of the form
  <b>Tagname</b>: <i>VALUE</i>. Valid Meta Tags are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>Git-Rpm-Ch: </b><i>ACTION</i><b> </b></dt>
  <dd class="It-tag">Supported actions are: <i>Ignore</i> which will ignore this
      commit when generating new changelog entries. <i>Short</i> which will only
      use the description (the first line) of the commit message when generating
      the changelog entry (useful when <b>--full</b> is given) and <i>Full</i>
      which will use the full commit message when generating the changelog entry
      (useful when <b>--full</b> is not given).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>[Close|Closes|...]: </b><i>BUGNUMBER</i><b> </b></dt>
  <dd class="It-tag">Indicate in the changelog entry that bug <i>BUGNUMBER</i>
      was addressed in this commit.</dd>
</dl>
<div class="Pp"></div>
The following git commit message:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      Document meta tags
<div class="Pp"></div>
      so one doesn't have to consult the manual
<div class="Pp"></div>
      Git-Rpm-Ch: Short
      Closes: #636088
    
</pre>
<div class="Pp"></div>
Results in this changelog entry:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
      - Document meta tags (Closes: #636088)
    
</pre>
<h1 class="Sh" title="Sh" id="CONFIGURATION_FILES"><a class="selflink" href="#CONFIGURATION_FILES">CONFIGURATION
  FILES</a></h1>
Several <i>gbp.conf</i> files are parsed to set defaults for the above
  command-line arguments. See the <b>gbp.conf</b>(5)&gt; manpage for details.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gbp-buildpackage-rpm</b>(1), <b>gbp-import-srpm</b>(1), <b>gbp.conf</b>(5),
  <b>debuild</b>(1), <b>git</b>(1), <b>pristine-tar</b>(1), <i>The
  Git-Buildpackage Manual</i>
  &lt;URL:file:///usr/share/doc/git-buildpackage/manual-html/index.html&gt;
  <i>Cl2vcs</i> &lt;URL:https://honk.sigxcpu.org/cl2vcs&gt;,
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Markus Lehtonen &lt;markus.lehtonen@linux.intel.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">07 February 2017</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
