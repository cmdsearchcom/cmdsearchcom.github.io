<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>STRIP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">STRIP(1)</td>
    <td class="head-vol">GNU Development Tools</td>
    <td class="head-rtitle">STRIP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
strip - Discard symbols from object files.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
strip [ <b>-F</b> <i>bfdname</i> |<b>--target=</b><i>bfdname</i>]
<br/>
 [ <b>-I</b> <i>bfdname</i> |<b>--input-target=</b><i>bfdname</i>]
<br/>
 [ <b>-O</b> <i>bfdname</i> |<b>--output-target=</b><i>bfdname</i>]
<br/>
 [ <b>-s</b>|<b>--strip-all</b>]
<br/>
 [ <b>-S</b>|<b>-g</b>|<b>-d</b>|<b>--strip-debug</b>]
<br/>
 [ <b>--strip-dwo</b>]
<br/>
 [ <b>-K</b> <i>symbolname</i> |<b>--keep-symbol=</b><i>symbolname</i>]
<br/>
 [ <b>-N</b> <i>symbolname</i> |<b>--strip-symbol=</b><i>symbolname</i>]
<br/>
 [ <b>-w</b>|<b>--wildcard</b>]
<br/>
 [ <b>-x</b>|<b>--discard-all</b>] [<b>-X</b> |<b>--discard-locals</b>]
<br/>
 [ <b>-R</b> <i>sectionname</i> |<b>--remove-section=</b><i>sectionname</i>]
<br/>
 [ <b>--remove-relocations=</b><i>sectionpattern</i>]
<br/>
 [ <b>-o</b> <i>file</i>] [<b>-p</b>|<b>--preserve-dates</b>]
<br/>
 [ <b>-D</b>|<b>--enable-deterministic-archives</b>]
<br/>
 [ <b>-U</b>|<b>--disable-deterministic-archives</b>]
<br/>
 [ <b>--keep-file-symbols</b>]
<br/>
 [ <b>--only-keep-debug</b>]
<br/>
 [ <b>-v</b> |<b>--verbose</b>] [<b>-V</b>|<b>--version</b>]
<br/>
 [ <b>--help</b>] [<b>--info</b>]
<br/>
 <i>objfile</i>...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
GNU <b>strip</b> discards all symbols from object files <i>objfile</i>. The list
  of object files may include archives. At least one object file must be given.
<div class="Pp"></div>
<b>strip</b> modifies the files named in its argument, rather than writing
  modified copies under different names.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b> <i>bfdname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--target=</b><i>bfdname</i></dt>
  <dd class="It-tag">Treat the original <i>objfile</i> as a file with the object
      code format <i>bfdname</i>, and rewrite it in the same format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show a summary of the options to <b>strip</b> and
    exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--info</b></dt>
  <dd class="It-tag">Display a list showing all architectures and object formats
      available.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b> <i>bfdname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--input-target=</b><i>bfdname</i></dt>
  <dd class="It-tag">Treat the original <i>objfile</i> as a file with the object
      code format <i>bfdname</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b> <i>bfdname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output-target=</b><i>bfdname</i></dt>
  <dd class="It-tag">Replace <i>objfile</i> with a file in the output format
      <i>bfdname</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b> <i>sectionname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--remove-section=</b><i>sectionname</i></dt>
  <dd class="It-tag">Remove any section named <i>sectionname</i> from the output
      file, in addition to whatever sections would otherwise be removed. This
      option may be given more than once. Note that using this option
      inappropriately may make the output file unusable. The wildcard character
      <b>*</b> may be given at the end of <i>sectionname</i>. If so, then any
      section starting with <i>sectionname</i> will be removed.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the first character of <i>sectionpattern</i> is the exclamation point (!)
      then matching sections will not be removed even if an earlier use of
      <b>--remove-section</b> on the same command line would otherwise remove
      it. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
          --remove-section=.text.* --remove-section=!.text.foo
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    will remove all sections matching the pattern '.text.*', but will not remove
      the section '.text.foo'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--remove-relocations=</b><i>sectionpattern</i></dt>
  <dd class="It-tag">Remove relocations from the output file for any section
      matching <i>sectionpattern</i>. This option may be given more than once.
      Note that using this option inappropriately may make the output file
      unusable. Wildcard characters are accepted in <i>sectionpattern</i>. For
      example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
          --remove-relocations=.text.*
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    will remove the relocations for all sections matching the patter '.text.*'.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the first character of <i>sectionpattern</i> is the exclamation point (!)
      then matching sections will not have their relocation removed even if an
      earlier use of <b>--remove-relocations</b> on the same command line would
      otherwise cause the relocations to be removed. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
          --remove-relocations=.text.* --remove-relocations=!.text.foo
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    will remove all relocations for sections matching the pattern '.text.*', but
      will not remove relocations for the section '.text.foo'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strip-all</b></dt>
  <dd class="It-tag">Remove all symbols.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strip-debug</b></dt>
  <dd class="It-tag">Remove debugging symbols only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strip-dwo</b></dt>
  <dd class="It-tag">Remove the contents of all DWARF .dwo sections, leaving the
      remaining debugging sections and all symbols intact. See the description
      of this option in the <b>objcopy</b> section for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strip-unneeded</b></dt>
  <dd class="It-tag">Remove all symbols that are not needed for relocation
      processing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b> <i>symbolname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-symbol=</b><i>symbolname</i></dt>
  <dd class="It-tag">When stripping symbols, keep symbol <i>symbolname</i> even
      if it would normally be stripped. This option may be given more than
    once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b> <i>symbolname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strip-symbol=</b><i>symbolname</i></dt>
  <dd class="It-tag">Remove symbol <i>symbolname</i> from the source file. This
      option may be given more than once, and may be combined with strip options
      other than <b>-K</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> <i>file</i></dt>
  <dd class="It-tag">Put the stripped output in <i>file</i>, rather than
      replacing the existing file. When this argument is used, only one
      <i>objfile</i> argument may be specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--preserve-dates</b></dt>
  <dd class="It-tag">Preserve the access and modification dates of the
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-deterministic-archives</b></dt>
  <dd class="It-tag">Operate in <i>deterministic</i> mode. When copying archive
      members and writing the archive index, use zero for UIDs, GIDs,
      timestamps, and use consistent file modes for all files.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>binutils</i> was configured with
      <b>--enable-deterministic-archives</b>, then this mode is on by default.
      It can be disabled with the <b>-U</b> option, below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-deterministic-archives</b></dt>
  <dd class="It-tag">Do <i>not</i> operate in <i>deterministic</i> mode. This is
      the inverse of the <b>-D</b> option, above: when copying archive members
      and writing the archive index, use their actual UID, GID, timestamp, and
      file mode values.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is the default unless <i>binutils</i> was configured with
      <b>--enable-deterministic-archives</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wildcard</b></dt>
  <dd class="It-tag">Permit regular expressions in <i>symbolname</i>s used in
      other command line options. The question mark (?), asterisk (*), backslash
      (\) and square brackets ([]) operators can be used anywhere in the symbol
      name. If the first character of the symbol name is the exclamation point
      (!) then the sense of the switch is reversed for that symbol. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
          -w -K !foo -K fo*
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    would cause strip to only keep symbols that start with the letters
      &quot;fo&quot;, but to discard the symbol &quot;foo&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--discard-all</b></dt>
  <dd class="It-tag">Remove non-global symbols.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--discard-locals</b></dt>
  <dd class="It-tag">Remove compiler-generated local symbols. (These usually
      start with <b>L</b> or <b>.</b>.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-file-symbols</b></dt>
  <dd class="It-tag">When stripping a file, perhaps with <b>--strip-debug</b> or
      <b>--strip-unneeded</b>, retain any symbols specifying source file names,
      which would otherwise get stripped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--only-keep-debug</b></dt>
  <dd class="It-tag">Strip a file, emptying the contents of any sections that
      would not be stripped by <b>--strip-debug</b> and leaving the debugging
      sections intact. In ELF files, this preserves all the note sections in the
      output as well.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note - the section headers of the stripped sections are preserved, including
      their sizes, but the contents of the section are discarded. The section
      headers are preserved so that other tools can match up the debuginfo file
      with the real executable, even if that executable has been relocated to a
      different address space.
    <div style="height: 1.00em;">&#x00A0;</div>
    The intention is that this option will be used in conjunction with
      <b>--add-gnu-debuglink</b> to create a two part executable. One a stripped
      binary which will occupy less space in RAM and in a distribution and the
      second a debugging information file which is only needed if debugging
      abilities are required. The suggested procedure to create these files is
      as follows:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Link the executable as normal. Assuming that is is
    called&gt;</dt>
  <dd class="It-tag">&quot;foo&quot; then...</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Run &quot;objcopy --only-keep-debug foo foo.dbg&quot;
    to&gt;</dt>
  <dd class="It-tag">create a file containing the debugging info.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Run &quot;objcopy --strip-debug foo&quot; to create
    a&gt;</dt>
  <dd class="It-tag">stripped executable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Run &quot;objcopy --add-gnu-debuglink=foo.dbg
    foo&quot;&gt;</dt>
  <dd class="It-tag">to add a link to the debugging info into the stripped
      executable.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Note---the choice of &quot;.dbg&quot; as an extension for the debug info file is
  arbitrary. Also the &quot;--only-keep-debug&quot; step is optional. You could
  instead do this:
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Link the executable as normal.&gt;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Copy &quot;foo&quot; to &quot;foo.full&quot;&gt;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Run &quot;strip --strip-debug foo&quot;&gt;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1.&lt;Run &quot;objcopy --add-gnu-debuglink=foo.full
    foo&quot;&gt;</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
i.e., the file pointed to by the <b>--add-gnu-debuglink</b> can be the full
  executable. It does not have to be a file created by the
  <b>--only-keep-debug</b> switch.
<div style="height: 1.00em;">&#x00A0;</div>
Note---this switch is only intended for use on fully linked files. It does not
  make sense to use it on object files where the debugging information may be
  incomplete. Besides the gnu_debuglink feature currently only supports the
  presence of one filename containing debugging information, not multiple
  filenames on a one-per-object-file basis.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Show the version number for <b>strip</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Verbose output: list all object files modified. In the case
      of archives, <b>strip -v</b> lists all members of the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>@</b><i>file</i></dt>
  <dd class="It-tag">Read command-line options from <i>file</i>. The options
      read are inserted in place of the original @ <i>file</i> option. If
      <i>file</i> does not exist, or cannot be read, then the option will be
      treated literally, and not removed.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options in <i>file</i> are separated by whitespace. A whitespace character
      may be included in an option by surrounding the entire option in either
      single or double quotes. Any character (including a backslash) may be
      included by prefixing the character to be included with a backslash. The
      <i>file</i> may itself contain additional @ <i>file</i> options; any such
      options will be processed recursively.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
the Info entries for <i>binutils</i>.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 1991-2017 Free Software Foundation, Inc.
<div class="Pp"></div>
Permission is granted to copy, distribute and/or modify this document under the
  terms of the GNU Free Documentation License, Version 1.3 or any later version
  published by the Free Software Foundation; with no Invariant Sections, with no
  Front-Cover Texts, and with no Back-Cover Texts. A copy of the license is
  included in the section entitled &quot;GNU Free Documentation
  License&quot;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-03-03</td>
    <td class="foot-os">binutils-2.28</td>
  </tr>
</table>
</body>
</html>
