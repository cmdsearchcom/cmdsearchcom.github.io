<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CSYNC2(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CSYNC2(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">CSYNC2(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
csync2 - cluster synchronization tool, 2nd generation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>csync2</b> [<i>-v..</i>]<i> [-C config-name]</i> [-D database-dir]<i> [-N
  hostname]</i> [-p port]<i>...</i>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
csync2 is copyright &#x00A9; 2004 - 2013 by LINBIT Information Technologies GmbH
<div class="Pp"></div>
csync2 is distributed under the GNU public license. See the file COPYING for
  details.
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This manual page documents briefly the <b>csync2</b> command.
<div style="margin-left: 0.00ex;">A verbose manual can be found on the
  <b>csync2</b> homepage:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>http://oss.linbit.com/csync2/paper.pdf</b></dd>
</dl>
<div class="Pp"></div>
<b>csync2</b> is a program for cluster wide file synchronization.</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="With_file_parameters:"><a class="selflink" href="#With_file_parameters:">With
  file parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b> [-r] file..</dt>
  <dd class="It-tag">Add (recursive) hints for check to db</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> [-r] file..</dt>
  <dd class="It-tag">Check files and maybe add to dirty db</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b> [-d] [-r] file..</dt>
  <dd class="It-tag">Updates files if listed in dirty db</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> [-r] file..</dt>
  <dd class="It-tag">Create list of files in compare-mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> [-r] file..</dt>
  <dd class="It-tag">Force files to win next conflict resolution</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b> file..</dt>
  <dd class="It-tag">Mark files in database as dirty</dd>
</dl>
<h2 class="Ss" title="Ss" id="Simple_mode:"><a class="selflink" href="#Simple_mode:">Simple
  mode:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b> [-d] [[-r] file..]</dt>
  <dd class="It-tag">Run checks for all given files and update remote
    hosts.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Without_file_parameters:"><a class="selflink" href="#Without_file_parameters:">Without
  file parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Check all hints in db and eventually mark files as
    dirty</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-u</b>
  [-d] Update (transfer dirty files to peers and mark as clear)</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b></dt>
  <dd class="It-tag">List all pending hints from status db</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b></dt>
  <dd class="It-tag">List all file-entries from status db</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b></dt>
  <dd class="It-tag">List all dirty files from status db</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b> myname peername</dt>
  <dd class="It-tag">List file-entries from status db for this synchronization
      pair.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b></dt>
  <dd class="It-tag">Test if everything is in sync with all peers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b> filename</dt>
  <dd class="It-tag">Test if this file is in sync with all peers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b> myname peername</dt>
  <dd class="It-tag">Test if this synchronization pair is in sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b> myname peer file</dt>
  <dd class="It-tag">Test only this file in this sync pair.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-TT</b></dt>
  <dd class="It-tag">As <b>-T</b>, but print the unified diffs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The modes <b>-H</b>, <b>-L</b>, <b>-M</b> and <b>-S</b>
      return 2 if the requested db is empty. The mode <b>-T</b> returns 2 if
      both hosts are in sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">Run in inetd server mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ii</b></dt>
  <dd class="It-tag">Run in stand-alone server mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-iii</b></dt>
  <dd class="It-tag">Run in stand-alone server mode (one connect only).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b></dt>
  <dd class="It-tag">Remove files from database which do not match config
      entries.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Exit_codes:"><a class="selflink" href="#Exit_codes:">Exit
  codes:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The modes <b>-H</b>, <b>-L</b>, <b>-M</b> and <b>-S</b>
      return 2 if the requested db is empty. The mode <b>-T</b> returns 2 if
      both hosts are in sync. Otherwise, only exit codes 0 (no errors) and 1
      (some unspecified errrors) are expected.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Modifiers:"><a class="selflink" href="#Modifiers:">Modifiers:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Recursive operation over subdirectories</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Dry-run on all remote update operations</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b></dt>
  <dd class="It-tag">Do not block everything into big SQL transactions. This
      slows down csync2 but allows multiple csync2 processes to access the
      database at the same time. Use e.g. when slow lines are used or huge files
      are transferred.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b></dt>
  <dd class="It-tag">Open database in asynchronous mode. This will cause data
      corruption if the operating system crashes or the computer loses
    power.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">Init-run. Use with care and read the documentation first!
      You usually do not need this option unless you are initializing groups
      with really large file lists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b></dt>
  <dd class="It-tag">Also add removals to dirty db when doing a <b>-TI</b>
    run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag">Don't mark all other peers as dirty when doing a <b>-TI</b>
      run.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-G</b>
  Group1,Group2,Group3,...</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Only use these groups from config-file.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-P</b>
  peer1,peer1,...</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Only update these peers (still mark all as dirty). Only
      show files for these peers in <b>-o</b> (compare) mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">Add new entries to dirty database with force flag set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Print timestamps to debug output (e.g. for profiling).</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-s</b>
  filename</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print timestamps also to this file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b> fd</dt>
  <dd class="It-tag">Write a list of directories in which relevant files can be
      found to the specified file descriptor (when doing a <b>-c</b> run). The
      directory names in this output are zero-terminated.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Database_switches:"><a class="selflink" href="#Database_switches:">Database
  switches:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-D</b>
  database-dir or url</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">default: /var/lib/csync2
    <br/>
     Absolute path: use sqlite database in that directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">URLs:
    <br/>
     sqlite:///some/path[/database.db3]
    <br/>
     sqlite3:///some/path[/database.db3]
    <br/>
     sqlite2:///some/path[/database.db]
    <br/>
     mysql://[&lt;user&gt;:&lt;password&gt;@]&lt;hostname&gt;/[database]
    <br/>
     pgsql://[&lt;user&gt;:&lt;password&gt;@]&lt;hostname&gt;/[database]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <b>database</b> is not given, it defaults to
      <b>csync2_&lt;qualified hostname&gt;</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Note that for non-sqlite backends, the database name is
      &quot;cleaned&quot;, characters outside of [0-9][a-z][A-Z] will be
      replaced with _.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Creating_key_file:"><a class="selflink" href="#Creating_key_file:">Creating
  key file:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>csync2 -k filename</b></dd>
</dl>
<h2 class="Ss" title="Ss" id="Environment_variables:"><a class="selflink" href="#Environment_variables:">Environment
  variables:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">CSYNC2_SYSTEM_DIR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Directory containing csync2.cfg and other csync2 system
      files. Defaults to /etc.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Note:"><a class="selflink" href="#Note:">Note:</a></h2>
Csync2 will refuse to do anything if this file is found:
  $CSYNC2_SYSTEM_DIR/csync2.lock
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">http://oss.linbit.com/csync2/paper.pdf</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">http://git.linbit.com/csync2.git/?a=blob;f=AUTHORS</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
This manual page is a hand-edited help2man processed csync2 help.</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 2013</td>
    <td class="foot-os">csync2 </td>
  </tr>
</table>
</body>
</html>
