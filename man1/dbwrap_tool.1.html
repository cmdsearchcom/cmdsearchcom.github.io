<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DBWRAP_TOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DBWRAP_TOOL(1)</td>
    <td class="head-vol">System Administration tools</td>
    <td class="head-rtitle">DBWRAP_TOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dbwrap_tool - low level TDB/CTDB manipulation tool using the dbwrap interface
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  [--persistent] [--non-persistent] [-d&#x00A0;&lt;debug&#x00A0;level&gt;]
  [-s&#x00A0;&lt;config&#x00A0;file&gt;]
  [-l&#x00A0;&lt;log&#x00A0;file&#x00A0;base&gt;] [-V]
  [--option=&lt;name&gt;=&lt;value&gt;] {&lt;database&gt;} {&lt;operation&gt;}
  [&lt;key&gt;&#x00A0;[&lt;type&gt;&#x00A0;[&lt;value&gt;]]]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This tool is part of the <b>samba</b>(7) suite.
<div class="Pp"></div>
The dbwrap_tool program is used to read and manipulate TDB/CTDB databases using
  the dbwrap interface.
<div class="Pp"></div>
The following database operations are available:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;fetch: fetch a record</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;store: create or modify a record</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;delete: remove a record</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;exists: test for existence of a
  record</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;erase: remove all records</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;listkeys: list all available
  records</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;listwatchers: list processes, which
  are waiting for changes in a record</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following types are available:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;int32: signed 32bit integer</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;uint32: unsigned 32bit integer</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;string: &quot;hello world&quot;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;hex: hex strings like
  &quot;68656C6C6F20776F726C6400&quot; (&quot;hello world&quot;)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
--persistent
<div style="margin-left: 4.00ex;">Open the database as a persistent database.
<div style="height: 1.00em;">&#x00A0;</div>
Exactly one of --persistent and --non-persistent must be specified.</div>
<div class="Pp"></div>
--non-persistent
<div style="margin-left: 4.00ex;">Open the database as a non-persistent
  database.
<div style="height: 1.00em;">&#x00A0;</div>
Caveat: opening a database as non-persistent when there is currently no other
  opener will wipe the database.
<div style="height: 1.00em;">&#x00A0;</div>
Exactly one of --persistent and --non-persistent must be specified.</div>
<div class="Pp"></div>
-d|--debuglevel=level
<div style="margin-left: 4.00ex;"><i>level</i> is an integer from 0 to 10. The
  default value if this parameter is not specified is 1.
<div style="height: 1.00em;">&#x00A0;</div>
The higher this value, the more detail will be logged to the log files about the
  activities of the server. At level 0, only critical errors and serious
  warnings will be logged. Level 1 is a reasonable level for day-to-day running
  - it generates a small amount of information about operations carried out.
<div style="height: 1.00em;">&#x00A0;</div>
Levels above 1 will generate considerable amounts of log data, and should only
  be used when investigating a problem. Levels above 3 are designed for use only
  by developers and generate HUGE amounts of log data, most of which is
  extremely cryptic.
<div style="height: 1.00em;">&#x00A0;</div>
Note that specifying this parameter here will override the <b>log level</b>
  parameter in the smb.conf file.</div>
<div class="Pp"></div>
-V|--version
<div style="margin-left: 4.00ex;">Prints the program version number.</div>
<div class="Pp"></div>
-s|--configfile=&lt;configuration file&gt;
<div style="margin-left: 4.00ex;">The file specified contains the configuration
  details required by the server. The information in this file includes
  server-specific information such as what printcap file to use, as well as
  descriptions of all the services that the server is to provide. See smb.conf
  for more information. The default configuration file name is determined at
  compile time.</div>
<div class="Pp"></div>
-l|--log-basename=logdirectory
<div style="margin-left: 4.00ex;">Base directory name for log/debug files. The
  extension <b>&quot;.progname&quot;</b> will be appended (e.g. log.smbclient,
  log.smbd, etc...). The log file is never removed by the client.</div>
<div class="Pp"></div>
--option=&lt;name&gt;=&lt;value&gt;
<div style="margin-left: 4.00ex;">Set the <b>smb.conf</b>(5) option
  &quot;&lt;name&gt;&quot; to value &quot;&lt;value&gt;&quot; from the command
  line. This overrides compiled-in defaults and options read from the
  configuration file.</div>
<div class="Pp"></div>
-?|--help
<div style="margin-left: 4.00ex;">Print a summary of command line options.</div>
<div class="Pp"></div>
--usage
<div style="margin-left: 4.00ex;">Display brief usage message.</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<h2 class="Ss" title="Ss" id="fetch"><a class="selflink" href="#fetch">fetch</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; fetch &lt;key&gt; &lt;type&gt; 		</div>
<h2 class="Ss" title="Ss" id="store"><a class="selflink" href="#store">store</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; store &lt;key&gt; &lt;type&gt; &lt;value&gt; 		</div>
<h2 class="Ss" title="Ss" id="delete"><a class="selflink" href="#delete">delete</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; delete &lt;key&gt; 		</div>
<h2 class="Ss" title="Ss" id="exists"><a class="selflink" href="#exists">exists</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; exists &lt;key&gt; 		</div>
<h2 class="Ss" title="Ss" id="erase"><a class="selflink" href="#erase">erase</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; erase</div>
<h2 class="Ss" title="Ss" id="listkeys"><a class="selflink" href="#listkeys">listkeys</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; listkeys 		</div>
<h2 class="Ss" title="Ss" id="listwatchers"><a class="selflink" href="#listwatchers">listwatchers</a></h2>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">dbwrap_tool
  &lt;database&gt; listwatchers 		</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
List all keys from winbindd_idmap.tdb
<div style="margin-left: 4.00ex;">dbwrap_tool --persistent winbindd_idmap.tdb
  listkeys</div>
<div class="Pp"></div>
Fetch record with key &quot;USER HWM&quot; as uint32
<div style="margin-left: 4.00ex;">dbwrap_tool --persistent winbindd_idmap.tdb
  fetch &quot;USER HWM&quot; uint32</div>
<div class="Pp"></div>
Remove record with key &quot;USER HWM&quot;
<div style="margin-left: 4.00ex;">dbwrap_tool --persistent winbindd_idmap.tdb
  remove &quot;USER HWM&quot;</div>
<div class="Pp"></div>
Store and overwrite record &quot;USER HWM&quot; with value 214
<div style="margin-left: 4.00ex;">uint32: dbwrap_tool --persistent
  winbindd_idmap.tdb store &quot;USER HWM&quot; uint32 214 hex: dbwrap_tool
  --persistent winbindd_idmap.tdb store &quot;USER HWM&quot; hex D6000000</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Use with caution!
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page is correct for version 3 of the Samba suite.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>smbd</b>(8), <b>samba</b>(7)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The original Samba software and related utilities were created by Andrew
  Tridgell. Samba is now developed by the Samba Team as an Open Source project
  similar to the way the Linux kernel is developed.
<div class="Pp"></div>
The dbwrap_tool manpage was written by Bjoern Baumbach.</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/25/2017</td>
    <td class="foot-os">Samba 4.4</td>
  </tr>
</table>
</body>
</html>
