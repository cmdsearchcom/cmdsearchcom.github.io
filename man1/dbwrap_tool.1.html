<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:51 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DBWRAP_TOOL(1) System Administration tools
DBWRAP_TOOL(1)</p>

<p style="margin-top: 1em">NAME <br>
dbwrap_tool - low level TDB/CTDB manipulation tool using the
dbwrap interface</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dbwrap_tool [--persistent] [--non-persistent] [-d &lt;debug
level&gt;] [-s &lt;config file&gt;] [-l &lt;log file
base&gt;] [-V] [--option=&lt;name&gt;=&lt;value&gt;]
{&lt;database&gt;} {&lt;operation&gt;} <br>
[&lt;key&gt; [&lt;type&gt; [&lt;value&gt;]]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(7) suite.</p>

<p style="margin-top: 1em">The dbwrap_tool program is used
to read and manipulate TDB/CTDB databases using the dbwrap
interface.</p>

<p style="margin-top: 1em">The following database
operations are available:</p>

<p style="margin-top: 1em">&Acirc;&middot; fetch: fetch a
record</p>

<p style="margin-top: 1em">&Acirc;&middot; store: create or
modify a record</p>

<p style="margin-top: 1em">&Acirc;&middot; delete: remove a
record</p>

<p style="margin-top: 1em">&Acirc;&middot; exists: test for
existence of a record</p>

<p style="margin-top: 1em">&Acirc;&middot; erase: remove
all records</p>

<p style="margin-top: 1em">&Acirc;&middot; listkeys: list
all available records</p>

<p style="margin-top: 1em">&Acirc;&middot; listwatchers:
list processes, which are waiting for changes in a
record</p>

<p style="margin-top: 1em">The following types are
available:</p>

<p style="margin-top: 1em">&Acirc;&middot; int32: signed
32bit integer</p>

<p style="margin-top: 1em">&Acirc;&middot; uint32: unsigned
32bit integer</p>

<p style="margin-top: 1em">&Acirc;&middot; string:
&quot;hello world&quot;</p>

<p style="margin-top: 1em">&Acirc;&middot; hex: hex strings
like &quot;68656C6C6F20776F726C6400&quot; (&quot;hello
world&quot;)</p>

<p style="margin-top: 1em">OPTIONS <br>
--persistent <br>
Open the database as a persistent database.</p>

<p style="margin-top: 1em">Exactly one of --persistent and
--non-persistent must be specified.</p>

<p style="margin-top: 1em">--non-persistent <br>
Open the database as a non-persistent database.</p>

<p style="margin-top: 1em">Caveat: opening a database as
non-persistent when there is currently no other opener will
wipe the database.</p>

<p style="margin-top: 1em">Exactly one of --persistent and
--non-persistent must be specified.</p>

<p style="margin-top: 1em">-d|--debuglevel=level <br>
level is an integer from 0 to 10. The default value if this
parameter is not specified is 1.</p>

<p style="margin-top: 1em">The higher this value, the more
detail will be logged to the log files about the activities
of the server. At level 0, only critical errors and serious
warnings will be <br>
logged. Level 1 is a reasonable level for day-to-day running
- it generates a small amount of information about
operations carried out.</p>

<p style="margin-top: 1em">Levels above 1 will generate
considerable amounts of log data, and should only be used
when investigating a problem. Levels above 3 are designed
for use only by developers <br>
and generate HUGE amounts of log data, most of which is
extremely cryptic.</p>

<p style="margin-top: 1em">Note that specifying this
parameter here will override the log level parameter in the
smb.conf file.</p>

<p style="margin-top: 1em">-V|--version <br>
Prints the program version number.</p>


<p style="margin-top: 1em">-s|--configfile=&lt;configuration
file&gt; <br>
The file specified contains the configuration details
required by the server. The information in this file
includes server-specific information such as what printcap
file to <br>
use, as well as descriptions of all the services that the
server is to provide. See smb.conf for more information. The
default configuration file name is determined at <br>
compile time.</p>

<p style="margin-top: 1em">-l|--log-basename=logdirectory
<br>
Base directory name for log/debug files. The extension
&quot;.progname&quot; will be appended (e.g. log.smbclient,
log.smbd, etc...). The log file is never removed by the
client.</p>


<p style="margin-top: 1em">--option=&lt;name&gt;=&lt;value&gt;
<br>
Set the smb.conf(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled-in defaults and options read from the
configuration file.</p>

<p style="margin-top: 1em">-?|--help <br>
Print a summary of command line options.</p>

<p style="margin-top: 1em">--usage <br>
Display brief usage message.</p>

<p style="margin-top: 1em">COMMANDS <br>
fetch <br>
dbwrap_tool &lt;database&gt; fetch &lt;key&gt;
&lt;type&gt;</p>

<p style="margin-top: 1em">store <br>
dbwrap_tool &lt;database&gt; store &lt;key&gt; &lt;type&gt;
&lt;value&gt;</p>

<p style="margin-top: 1em">delete <br>
dbwrap_tool &lt;database&gt; delete &lt;key&gt;</p>

<p style="margin-top: 1em">exists <br>
dbwrap_tool &lt;database&gt; exists &lt;key&gt;</p>

<p style="margin-top: 1em">erase <br>
dbwrap_tool &lt;database&gt; erase</p>

<p style="margin-top: 1em">listkeys <br>
dbwrap_tool &lt;database&gt; listkeys</p>

<p style="margin-top: 1em">listwatchers <br>
dbwrap_tool &lt;database&gt; listwatchers</p>

<p style="margin-top: 1em">EXAMPLES <br>
List all keys from winbindd_idmap.tdb <br>
dbwrap_tool --persistent winbindd_idmap.tdb listkeys</p>

<p style="margin-top: 1em">Fetch record with key &quot;USER
HWM&quot; as uint32 <br>
dbwrap_tool --persistent winbindd_idmap.tdb fetch &quot;USER
HWM&quot; uint32</p>

<p style="margin-top: 1em">Remove record with key
&quot;USER HWM&quot; <br>
dbwrap_tool --persistent winbindd_idmap.tdb remove
&quot;USER HWM&quot;</p>

<p style="margin-top: 1em">Store and overwrite record
&quot;USER HWM&quot; with value 214 <br>
uint32: dbwrap_tool --persistent winbindd_idmap.tdb store
&quot;USER HWM&quot; uint32 214 hex: dbwrap_tool
--persistent winbindd_idmap.tdb store &quot;USER HWM&quot;
hex D6000000</p>

<p style="margin-top: 1em">NOTES <br>
Use with caution!</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 3 of the Samba
suite.</p>

<p style="margin-top: 1em">SEE ALSO <br>
smbd(8), samba(7)</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">The dbwrap_tool manpage was
written by Bjoern Baumbach.</p>

<p style="margin-top: 1em">Samba 4.4 05/25/2017
DBWRAP_TOOL(1)</p>
<hr>
</body>
</html>
