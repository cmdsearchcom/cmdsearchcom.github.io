<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>vadm(1) ShapeTools vadm(1)</p>

<p style="margin-top: 1em">NAME <br>
vadm - manipulate and administer version object base</p>

<p style="margin-top: 1em">SYNOPSIS <br>
vadm [ version binding options ] [ options ] [ action ]
name..</p>

<p style="margin-top: 1em">Options: [ -?fq ] [ -cache ] [
-force ] [ -help ] [ -nomail ] [ -quiet ] [ -stdin ] [
-version ]</p>

<p style="margin-top: 1em">Actions: [ -alias version alias
name ] [ -attr attribute ] [ -chaut user ] [ -chmod
protection ] [ -chown user ] [ -delattr attribute name ] [
-d (or -delete) ] <br>
[ -l (or -lock) [version binding] ] [ -newgen ] [ -promote ]
[ -set description | note | intent ] [ -setc comment leader
] [ -unlock [version binding] ] [ -unpromote ]</p>

<p style="margin-top: 1em">vattr [ version binding options
] attribute name..</p>

<p style="margin-top: 1em">vrm [ version binding options ]
name..</p>

<p style="margin-top: 1em">sbmt [ version binding options ]
name..</p>

<p style="margin-top: 1em">publ [ version binding options ]
name..</p>

<p style="margin-top: 1em">accs [ version binding options ]
name..</p>

<p style="margin-top: 1em">frze [ version binding options ]
name..</p>

<p style="margin-top: 1em">DESCRIPTION <br>
vadm is a general purpose command to perform all sorts of
actions upon parts of an AtFS object repository. It can be
used to lock or unlock an AtFS object for modification, to
<br>
delete a particular object instance, to associate symbolic
(alias) names with version objects, to promote or unpromote
certain version objects from one status to another, to
mod&acirc; <br>
ify an objects access permissions, to set or modify a
descriptive entry of particular version objects, to set or
modify an eventual change intention, and to set or unset
various <br>
object attributes such as the author or any user defined
attributes.</p>

<p style="margin-top: 1em">vattr and vrm are short forms
for vadm -attr and vadm -delete. See the descriptions of the
-attr and the -delete options for details.</p>

<p style="margin-top: 1em">sbmt, publ, accs, and frze are
alternate program names for vadm that represent
status-change operations for version objects. See the
description of option -promote for details.</p>

<p style="margin-top: 1em">The typical command invocation
is supplemented by one or more command options, version
binding options defining the versions to be acted upon, an
action specifier indicating the <br>
sort of action to be performed, and a set of object names
defining the initial subset of the object base that&rsquo;s
going to be manipulated.</p>

<p style="margin-top: 1em">Object names may be given in
bound version notation, i.e. a notation that identifies a
particular version of an object (e.g. mkattr.c[2.4]). It is
also possible to use a previ&acirc; <br>
ously assigned symbolic name rather than a numerical version
identification (e.g. mkattr.c[tools-V4R3]). Make sure to
escape the bracket-symbols when using csh(1) or tcsh(1) <br>
because they have meaning to these shells.</p>

<p style="margin-top: 1em">OPTIONS <br>
For version selection, any version binding option, as
described on the vbind(1) manual page, may be given, or a
version bind directive may be given in brackets added to the
file <br>
name.</p>

<p style="margin-top: 1em">-?, -help <br>
print brief instructions about using vadm</p>

<p style="margin-top: 1em">-cache apply the requested
operation to objects residing in the derived object cache.
The set of actions that may be performed on binary pool
objects is limited.</p>

<p style="margin-top: 1em">-f, -force <br>
don&rsquo;t ask for confirmation when deleting versions from
a history.</p>

<p style="margin-top: 1em">-nomail <br>
Suppress the notification mail to the user who holds the
lock on a history when breaking this lock (-unlock
option).</p>

<p style="margin-top: 1em">-q, -quiet <br>
suppress any prompts, informal messages and user dialogues.
Default values are assumed for everything that might
otherwise be inquired interactively. This option is useful
<br>
for batch operation.</p>

<p style="margin-top: 1em">-stdin forces vadm to read a
descriptive text, note or intent from standard input if
action -set is selected. The note is used for all specified
AtFS objects. Otherwise your <br>
favorite editor (taken from the EDITOR environment variable)
is invoked.</p>

<p style="margin-top: 1em">-version <br>
print version information about the vadm program itself. No
action will be performed on the database.</p>

<p style="margin-top: 1em">vadm will perform all of its
operations upon a specified set of AtFS version objects. In
case no such set is specified, the operation will be applied
to the most recently saved <br>
versions of the named object(s).</p>

<p style="margin-top: 1em">ACTIONS <br>
The kind of action to be performed upon a specified set of
AtFS objects is indicated by a keyword. The following
actions are defined:</p>

<p style="margin-top: 1em">-alias version alias name <br>
assigns the version alias name to the specified version. The
name works as an alias for the version number, so it must be
different from any other symbolic name assigned <br>
to any version object in a particular object history. It is,
however, possible to assign the same symbolic name to
version objects in different object histories. An object
<br>
history is usually denoted by a name, similarly to a files
name. <br>
The use of alias names is a simple but effective way to
associate component members of a system configuration.
Typical symbolic names will look something like Mysys&acirc;
<br>
tem_Release_4.22, indicating that version objects with this
name are part of release 4.22 of the system in question.</p>

<p style="margin-top: 1em">-attr attrname <br>
Return rthe value of the named attribute. This may be a
standard attribute or a user defined attribute. Check the
list below for a complete list of standard attribute <br>
names.</p>

<p style="margin-top: 1em">-attr
attrname[+|-]=[@|^|!|*]value <br>
defines a user defined attribute with name attrname and sets
it to the value value for all specified version objects.
This option may also be used to set the value of <br>
certain standard attributes (see list below). If attrname is
followed by a single equal-symbol, the respective value of
the object is set (or reset) to the specified <br>
value. Any previous values will be overwritten. If attrname
is immediately followed by the symbols
&lsquo;&lsquo;plus-equal&rsquo;&rsquo; (+=), the specified
attribute value will be appended to <br>
the current value of the referenced attribute. Accordingly,
&lsquo;&lsquo;minus-equal&rsquo;&rsquo; (-=) should remove
the specified value from the given attribute. In the current
implementation, <br>
removal of single values is not supported. <br>
There are four basic kinds of user defined attribute values:
genuine values, reference values, execution values, and
pointer values. The kind of an attribute value is <br>
determined when it is set. If the first character of value
is an at character (@), the rest of value is taken to be the
name of a file the contents of which will be taken <br>
as the value of the attribute. This substitution takes place
immediately, i.e. the attribute has a genuine value. If the
filename is specified as &lsquo;&lsquo;-&rsquo;&rsquo;, the
attributes <br>
value will be read from standard input. If the first
character is a circumflex character (^), the rest of value
is interpreted as the name of a file whose contents will be
<br>
substituted for the attribute when it is cited. If the first
character of value is an exclamation mark character (!), the
rest of value is interpreted as the name of a <br>
program whose standard output will be substituted for the
attribute when it is cited. Execution values can be used to
generate highly dynamic attributes or even a primi&acirc;
<br>
tive form of event triggers. An asterisk (*) as first
character of value indicates a pointer to another version.
In this case, the remainder of value must be a valid bound
<br>
filename. <br>
User defined attributes may be of arbitrary length. Any
sequence of ASCII characters - with the exception of 1
(control-A) - is allowed to make up an attribute value. <br>
If attrname was already set to some value, the previous
value will be replaced by the newly specified one.</p>

<p style="margin-top: 1em">-attr @attrfile <br>
With a @filename argument, the -attr option reads names and
values of user defined attributes from the named file Each
entry (each line) in the attribute file must have a <br>
format as described above. The files last character must be
a newline character.</p>

<p style="margin-top: 1em">-chaut user <br>
sets user the author of a particular revision. Normally, the
author of a revision is considered the user who saved that
revision. However, as certain permissions are tied <br>
to the author attribute of a revision, circumstances may
occur that make it necessary to change the author.</p>

<p style="margin-top: 1em">-chmod protection <br>
changes the access permission code of the specified version
objects to the supplied three-octal-digit protection.
Currently, the access permissions are centered around <br>
UNIX&rsquo; notions of owner, group, and world access as
well as the access categories read, write, and execute.
These permissions are inherited upon save from the
permissions <br>
of the file representing the busy object of an AtFS history.
See chmod(2) for details.</p>

<p style="margin-top: 1em">-chown user <br>
sets user the owner of an entire object history. This option
is not supported on BSD type systems, as only the superuser
may change the owner of a file.</p>

<p style="margin-top: 1em">-delattr attrname <br>
deletes the user defined attribute attrname from the set of
attributes associated with the specified version
objects.</p>

<p style="margin-top: 1em">-d, -delete <br>
removes the specified version objects from the object base,
provided the objects&rsquo; status is saved. Any other
status indicates that some kind of project interaction
con&acirc; <br>
cerning this object might be in progress. If the programmer
wants to delete such a version object anyway, he has to
-unpromote the respective objects status to saved <br>
before it can actually be deleted.</p>

<p style="margin-top: 1em">-l, -lock [version binding] <br>
tries to reserve the privilege to add a new version to an
objects history, thus preventing multiple programmers
working upon the same object base from interfering with <br>
each other by saving concurrent updates. If the locking
operation succeeds, write permission is given for the
corresponding files in the development directory. When
set&acirc; <br>
ting a new lock on an object history, the requesting user is
prompted for an optional description of the planned changes.
<br>
In order to lock an object history successfully, the history
must not be locked by any other programmer, and the
programmer requesting the lock must have write permission
<br>
on the AtFS subdirectory hosting the object base. <br>
As ShapeTools allows locking of single generations within a
history, -lock optionally expects an argument denoting a
generation. Default is the most recent generation. <br>
The argument may be a generation number (e.g. 2), a version
number (e.g. 1.4), or a version alias (e.g.
release-4.7).</p>

<p style="margin-top: 1em">-newgen <br>
opens a new generation by duplicating the identified
version. The version must be locked. Any existing busy
versions are ignored by this action. If no version binding
is <br>
specified, the last saved version is taken by default.</p>

<p style="margin-top: 1em">-promote <br>
assigns the next-better value to the specified
objects&rsquo; state attribute. There are six states that an
object instance can be in: busy, saved, proposed, published,
<br>
accessed, and frozen. Version states are intended to relate
to visibility and operational restrictions (see for example
-delete) within a complex project environment. <br>
Due to the current lack of project library support, the
version states have very little actual functionality.
Implemented to its full extent, certain state transitions
may <br>
only be triggered by appropriately authorized users. The
transitions busy&acirc;saved and saved&acirc;proposed will
be triggered by regular programmers, whereas the remaining
transi&acirc; <br>
tions have to be initiated by the project administrator.
<br>
Each transition corresponds to a specific action or
interaction within a general software project communication
scheme. As these actions/interactions will be functionally
<br>
supported by the project support system currently under
development, the explicit manipulation of object states will
no longer be necessary (except, perhaps for manual <br>
adjusting of ill situations). <br>
The following actions relate to the state transitions: <br>
save (busy&acirc;saved, performed by programmer) <br>
sbmt (saved&acirc;proposed, performed by programmer) <br>
accpt (proposed&acirc;published, performed by project
administrator) <br>
accs (published&acirc;accessed, performed by any project
member) <br>
release (accessed&acirc;frozen, performed by project
administrator) <br>
A different interface to the status control facilities of
vadm is provided by the program aliases sbmt, publ, accs,
and frze. These commands correspond to conceptual <br>
project interactions like submit, publish, access, and
freeze. <br>
Submit is the operation performed by a team programmer when
a work result (such as a completed change request) is
proposed for inclusion into the official system
configu&acirc; <br>
ration. The associated status is proposed. <br>
Publish is an operation that is typically performed by
members of the quality assurance group, when a work result,
as proposed by a team programmer is approved and thus <br>
included into the current official system configuration. The
associated status is published. <br>
Access is an operation that is performed during
configuration identification, when component versions of a
(sub-)product are incorporated into some other (partial)
<br>
(sub-)system configuration. The associated status is
accessed. <br>
Freeze is an operation that is performed during
configuration identification, when a global release of the
entire system configuration is established. The associated
sta&acirc; <br>
tus is frozen</p>

<p style="margin-top: 1em">-set [description | note |
intent] <br>
allows to set or modify the descriptive text for an AtFS
history object (i.e. an entire version history), the note
usually describing the differences of a version object <br>
with respect to its preceding version, or an entry
describing a planned change. (Re-) setting the change
intention may be appropriate, if a previously set change
intent <br>
has been consumed by a sbmt command that retained the lock
on an object history. <br>
vadm will check the callers environment for the EDITOR
variable and invoke the program identified therein. If the
EDITOR variable is not set, the systems default editor <br>
will be activated. The user may write an arbitrary length
descriptive or note entry using the editor. When the user
leaves the editor, the resulting text is stored with <br>
the object history or the specified version objects.</p>

<p style="margin-top: 1em">-setc comment_string <br>
sets commentstring as the (sequence of) character(s) that
opens a comment line within the formalism of the document.
This comment_string will be prepended to the lines of <br>
the log history when the $__log$ attribute is expanded
within the text of a revision.</p>

<p style="margin-top: 1em">-unlock <br>
gives up the previously reserved privilege to update the
history of an AtFS object and clears the write-permission
for the corresponding files. -unlock may be used by the <br>
owner of an object history to break a lock previously set by
any programmer. This option is useful to resolve deadlock
situations resulting from careless use of -lock, or <br>
exceptional circumstances that require immediate updating of
an object history, even if the lock holder is not present.
The previous owner of a broken lock is notified by <br>
a mail message. Under some circumstances mail-notifications
upon broken locks can be annoying (e.g. when a development
tree has been moved to another system or domain with <br>
locked busy-versions; in this case the owner must break the
locks to check the busy-versions back into the version
archives at the new site). To avoid this effect, the <br>
switch -nomail can be used to suppress mail notification.
<br>
An eventually expressed change intention (see -lock) will be
cleared. <br>
Technically, the owner of an objects history is the owner of
the AtFS subdirectory hosting the object base.</p>

<p style="margin-top: 1em">-unpromote <br>
reverses a state transition carried out through a prior
-promote. The same remarks about functional embedding (and
thus hiding the state transitions) of state transitions <br>
made for -promote hold for -unpromote.</p>

<p style="margin-top: 1em">PREDEFINED ATTRIBUTE NAMES <br>
Name Meaning Value Remarks</p>

<p style="margin-top: 1em">alias version alias names list
of alias names, like1,3 <br>
&lsquo;&lsquo;vadm-4.2pre7&rsquo;&rsquo; or
&lsquo;&lsquo;ShapeTools-1.4&rsquo;&rsquo; <br>
atime time of last access e.g. &lsquo;&lsquo;Tue Jan 14
18:47:06 1992&rsquo;&rsquo;3 <br>
author user who saved a version user@do.ma.in (domain name
does1,3 <br>
usually not include the hostname) <br>
cachekey unique key for cached versionscompound numeric
built from3 <br>
creation date, process id, and a serial <br>
number e.g. &lsquo;&lsquo;740148430.18469.6&rsquo;&rsquo;
<br>
clead comment line leader symbol dependent on file type1
<br>
e.g. &lsquo;&lsquo;# &rsquo;&rsquo; for Shapefiles <br>
ctime time of last status change as atime <br>
Description descriptive text for modulemulti line text2 <br>
dsize size of delta to previous numeric <br>
version in bytes <br>
generation major revision number numeric1,3 <br>
Header RCS-style version header text <br>
Intent change intent multi line text 2 <br>
host name of current host e.g.
&lsquo;&lsquo;avalanche&rsquo;&rsquo; 3 <br>
Log cumulative descriptive entries multi line text <br>
of all versions from the first <br>
up to this one <br>
lock/locker user who locks a historyas author3 <br>
ltime time of last lock transaction as atime3 <br>
mode access pprotection e.g.
&lsquo;&lsquo;-rw-r--r--&rsquo;&rsquo; 1 <br>
mtime time of last modification as atime3 <br>
name name part of an object identifier e.g.
&lsquo;&lsquo;foo&rsquo;&rsquo; for
&lsquo;&lsquo;foo.c&rsquo;&rsquo;3 <br>
note short note describing the multi line text1, 2 <br>
changes in this version <br>
owner user who owns the repository in as author1,3 <br>
which this version is archived <br>
pred bound version identifier of e.g.
&lsquo;&lsquo;foo.c[3.22]&rsquo;&rsquo; or
&lsquo;&lsquo;n/a&rsquo;&rsquo; <br>
preceding version <br>
revision minor revision number numeric1,3 <br>
rtime last time when history was locked as atime <br>
self bound version identifier for e.g.
&lsquo;&lsquo;foo.c[3.23]&rsquo;&rsquo; <br>
this version <br>
selfpath bound version identifier fore.g.
&lsquo;&lsquo;/usr/proj/sample/foo.c[3.23]&rsquo;&rsquo;
<br>
this version including path <br>
size size of the version in bytes numeric3 <br>
state/status version status symbolic integers (busy,1,3 <br>
saved, proposed, published, <br>
accessed, and frozen) <br>
stime time when the version was saved as atime3 <br>
succ bound version identifier of as pred <br>
successive version <br>
syspath pathname part of an object e.g.
&lsquo;&lsquo;/usr/proj/sample&rsquo;&rsquo;3 <br>
identifier for
&lsquo;&lsquo;/usr/proj/sample/foo.c&rsquo;&rsquo; <br>
type suffix part of an object e.g.
&lsquo;&lsquo;c&rsquo;&rsquo; for
&lsquo;&lsquo;foo.c&rsquo;&rsquo;3 <br>
identifier <br>
unixname UNIX file name of this versione.g.
&lsquo;&lsquo;foo.c&rsquo;&rsquo; <br>
unixpath UNIX file name of this versione.g.
&lsquo;&lsquo;/usr/proj/sample/foo.c&rsquo;&rsquo; <br>
including path <br>
version compound version number e.g.
&lsquo;&lsquo;3.22&rsquo;&rsquo;1,3 <br>
consisting of generation <br>
and revision number <br>
vtime version time, modification time as atime <br>
for busy versions od save time <br>
for saved/cached versions <br>
xpoff pseudo attribute that turns none <br>
off subsequent attribute <br>
expansions <br>
xpon pseudo attribute that turns none <br>
subsequent attribute <br>
expansion on</p>

<p style="margin-top: 1em">1 - may be modified by vadm
-attr name=value. <br>
2 - may be modified by vadm -set &lt;type&gt;. <br>
3 - recognized by attr* predicates in version bind rules
(see bindrules(7)).</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
EDITOR</p>

<p style="margin-top: 1em">SEE ALSO <br>
save(1), retrv(1), vl(1), vbind(1)</p>

<p style="margin-top: 1em">AUTHORS <br>
Uli.Pralle@cs.tu-berlin.de, Axel.Mahler@cs.tu-berlin.de,
Andreas.Lampen@cs.tu-berlin.de</p>

<p style="margin-top: 1em">vadm-4.10 Fri Jul 9 16:30:15
1993 vadm(1)</p>
<hr>
</body>
</html>
