<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GEM2DEB-TEST-RUNNER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GEM2DEB-TEST-RUNNER(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">GEM2DEB-TEST-RUNNER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gem2deb-test-runner - runs test suite contained in Debian Ruby packages
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gem2deb-test-runner</b> [<b>OPTIONS</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>gem2deb-test-runner</b> runs the tests shipped inside a source Debian Ruby
  package. The way the tests are run is configured in one of the three files:
  <i>debian/ruby-test-files.yaml</i>, <i>debian/ruby-tests.rake</i>,
  <i>debian/ruby-tests.rb</i>. See the <b>FILES</b> section in <b>dh_ruby</b>(1)
  for details.
<div class="Pp"></div>
If called without argument in the root of the source package after the package
  is built and installed under debian/ <i>package_name</i>, then the tests will
  be run using the files of the package installed under debian/
  <i>package_name</i>. This call is part of the <b>dh_ruby</b>(1) sequence when
  building a Ruby package with gem2deb.
<div class="Pp"></div>
If the option <b>--autopkgtest</b> is used, the package needs to be installed on
  the system. <b>gem2deb-test-runner</b> will not try to load files under
  debian/ and will move away temporarily the lib/ and ext/ directory to ensure
  the test suite is run against the installed package. This is used in the
  context of automatic as-installed package testing, through the autopkgtest
  framework.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--autopkgtest</b></dt>
  <dd class="It-tag">Run the tests against the installed package for automatic
      as-installed package testing. Useful in conjunction with
      <b>adt-run</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--check-dependencies</b></dt>
  <dd class="It-tag">Before running the tests, checks whether all dependencies
      of the package, as declared in the Rubygems metadata, are present. Makes
      the program exit with a non-zero status code (i.e. fails) if they aren't.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you want to check dependencies during the build, you can add something
      like this to debian/rules:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--check-dependencies-only</b></dt>
  <dd class="It-tag">Exit after checking dependencies, i.e. only check
      dependencies, and don't run any tests. Implies
      <b>--check-dependencies</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">GEM2DEB_TEST_RUNNER</dt>
  <dd class="It-tag">Used to pass options to gem2deb-test-runner via the
      environment. For example, to make gem2deb-test-runner check dependencies
      during package build, you can add the following to
    <i>debian/rules</i>:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">export GEM2DEB_TEST_RUNNER =
  --check-dependencies</div>
</div>
<div style="margin-left: 4.00ex;"></div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dh_ruby</b>(1), <b>gem2deb</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-12-07</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
