<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:21:24 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LAZYGAL(1) User commands LAZYGAL(1)</p>

<p style="margin-top: 1em">NAME <br>
lazygal - static web gallery generator</p>

<p style="margin-top: 1em">SYNOPSIS <br>
lazygal [-h | -v | [options] albumdir]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This manual page explains the lazygal program. This program
is a static web gallery generator written in Python.</p>

<p style="margin-top: 1em">lazygal works so: you should
have an original store of files - possibly containg
subdirectories (their names serving as headings if not using
the album metadata feature). This is <br>
the source file hierarchy. It will never be modified by
lazygal. Then, when launching:</p>

<p style="margin-top: 1em">$ lazygal -o /var/www/MyAlbum
/home/user/SourceDir</p>

<p style="margin-top: 1em">lazygal will analyze the
contents of the source hierarchy and will (re)create the
target hierarchy, with all the bells and whistles defined by
the templates. Only missing parts <br>
or parts that are not up to date will be generated. There is
a limitation to this mechanism though: although updates in
the source directory, in the metadata or in the themes are
<br>
detected, changes in command line options and configuration
files since last generation are not and the user should
manually delete files that need to be generated again.</p>

<p style="margin-top: 1em">OPTIONS <br>
These programs follow the usual GNU command line syntax,
with long options starting with two dashes
(&lsquo;-&rsquo;). A summary of options is included below.
For a complete description, see <br>
the -h switch.</p>

<p style="margin-top: 1em">-v --version <br>
Show program&rsquo;s version number and exit.</p>

<p style="margin-top: 1em">-h --help <br>
Show summary of options.</p>

<p style="margin-top: 1em">--quiet <br>
Don&rsquo;t output anything except for errors.</p>

<p style="margin-top: 1em">--debug <br>
Output everything that lazygal is doing.</p>

<p style="margin-top: 1em">-o DEST_DIR
--output-directory=DEST_DIR <br>
Directory where web pages, slides and thumbs will be written
(default is current directory).</p>

<p style="margin-top: 1em">-t THEME --theme=THEME <br>
Theme name (looked up in theme directory) or theme full
path.</p>

<p style="margin-top: 1em">--default-style=DEFAULT_STYLE
<br>
Default style to apply to the theme.</p>

<p style="margin-top: 1em">--template-vars=TPL_VARS <br>
Common variables to load all templates with, e.g.
--template-vars=&rsquo;footer=foo bar,color=baz&rsquo;. For
longer variable contents, it is easier to use a
configuration file (see <br>
lazygal.conf(5)).</p>

<p style="margin-top: 1em">-f --force-gen-pages <br>
Force rebuild of web pages, regardless of the modification
times of their dependencies. This is handy when changing a
configuration option affecting these (theme, directory <br>
flattening, etc.).</p>

<p style="margin-top: 1em">--clean-destination <br>
Clean destination directory of files that should not be
there.</p>

<p style="margin-top: 1em">--preserve=PATTERN <br>
Specify a file pattern (or name) which should be ignored
during cleanup of the destination. May be specified more
than once. Values given here will be in addition to those
<br>
specified in configuration files.</p>

<p style="margin-top: 1em">--excludes=PATTERN <br>
Specify a file pattern (or name) which should be ignored
during processing. May be specified more than once. Values
given here will be in addition to those specified in <br>
configuration files.</p>

<p style="margin-top: 1em">--check-all-dirs <br>
Exhaustively go through all directories regardless of source
modification time.</p>

<p style="margin-top: 1em">-s IMAGE_SIZE
--image-size=IMAGE_SIZE <br>
Size of images, define as name=xxy, ..., eg.
small=800x600,medium=1024x768. The special dimensions 0x0
use original size. Refer to the IMAGE RESIZE DESCRIPTION
section for <br>
more information on the available syntax.</p>

<p style="margin-top: 1em">-T THUMBNAIL_SIZE
--thumbnail-size=THUMBNAIL_SIZE <br>
Size of thumbnails, eg. 150x113. Refer to the IMAGE RESIZE
DESCRIPTION section for more information on the available
syntax.</p>

<p style="margin-top: 1em">-q QUALITY --quality=QUALITY
<br>
Quality of generated JPEG images (default is 85).</p>

<p style="margin-top: 1em">-O --original <br>
Include original photos in output.</p>

<p style="margin-top: 1em">--orig-base=RELATIVE_PATH <br>
Do not copy original photos in output directory, instead
link them using RELATIVE_PATH as base for those links
(discarded without -O).</p>

<p style="margin-top: 1em">--orig-symlink <br>
Do not copy original photos in output directory, instead
create symlinks to their original locations. This is useful
when you plan transferring the whole directory which <br>
lazygal generated to some other location, perhaps with
rsync, and you wish to avoid creating an extra copy of each
photo.</p>

<p style="margin-top: 1em">Caution <br>
This option is not available on Windows; if you try to use
it on that operating system, lazygal will immediately exit
with an exit status of 1.</p>

<p style="margin-top: 1em">--puburl=PUB_URL <br>
Publication URL (only useful for feed generation).</p>

<p style="margin-top: 1em">-m --generate-metadata <br>
Generate metadata description files where they don&rsquo;t
exist in the source tree instead of generating the web
gallery. This disables all other options.</p>

<p style="margin-top: 1em">-n THUMBS_PER_PAGE
--thumbs-per-page=THUMBS_PER_PAGE <br>
Maximum number of thumbs per index page. This enables index
pagination (0 is unlimited).</p>

<p style="margin-top: 1em">--filter-by-tag=TAG <br>
If set, lazygal will only export the pictures that have one
of their (IPTC) tags matching TAG. It is also possible to
use an equivalent of AND and OR boolean tests to filter <br>
tags. For more details, read below the section TAG
FILTERING.</p>

<p style="margin-top: 1em">--pic-sort-by=ORDER <br>
Sort order for images in a subgallery, among
&rsquo;mtime&rsquo;, &rsquo;filename&rsquo;,
&rsquo;numeric&rsquo;, or &rsquo;exif&rsquo;. (default is
&rsquo;exif&rsquo; which is by EXIF date if EXIF data is
available, filename <br>
otherwise, sorting EXIF-less images before).
&rsquo;numeric&rsquo; does a numeric sort on the numeric
part of the filename. Add &rsquo;:reverse&rsquo; to reverse
the sort order (e.g. <br>
--pic-sort-by=mtime:reverse).</p>

<p style="margin-top: 1em">--subgal-sort-by=ORDER <br>
Sort order for subgalleries, among &rsquo;exif&rsquo; (EXIF
date of the latest picture in sub-gallery),
&rsquo;mtime&rsquo;, &rsquo;dirname&rsquo;, or
&rsquo;numeric&rsquo; (default is &rsquo;dirname&rsquo;).
&rsquo;numeric&rsquo; does a numeric <br>
sort on the numeric part of the dirname. Add
&rsquo;:reverse&rsquo; to reverse the sort order (e.g.
--subgal-sort-by=dirname:reverse).</p>

<p style="margin-top: 1em">--dir-flattening-depth=LEVEL
<br>
Level below which the directory tree is flattened. Default
is no flattening (&rsquo;No&rsquo;).</p>

<p style="margin-top: 1em">This option makes the program
include the web gallery index of child galleries in their
parent&rsquo;s gallery index, if their level is greater than
the supplied LEVEL. The level <br>
of the album root is 0.</p>

<p style="margin-top: 1em">Index pages with multiple
galleries (which happens when this section is used) show the
pictures links in gallery sections.</p>

<p style="margin-top: 1em">The following examples show the
produced indexes for a sample album (2 sub-galleries, 1
sub-sub-gallery, 1 picture in each one of those).</p>

<p style="margin-top: 1em">Example 1.
--dir-flattening-depth=No (default)</p>

<p style="margin-top: 1em">index.html &lt;- sub-gallery
links <br>
subgal1/index.html &lt;- index with img1 <br>
subgal1/img1.html <br>
subgal1/subsubgal1/index.html &lt;- index with img2 <br>
subgal1/subsubgal1/img2.html <br>
subgal2/index.html &lt;- index with img3 <br>
subgal2/img3.html</p>

<p style="margin-top: 1em">Example 2.
--dir-flattening-depth=0</p>

<p style="margin-top: 1em">index.html &lt;- contains index
for all pics <br>
subgal1/img1.html <br>
subgal1/subsubgal1/img2.html <br>
subgal2/img3.html</p>

<p style="margin-top: 1em">Example 3.
--dir-flattening-depth=1</p>

<p style="margin-top: 1em">index.html &lt;- contains index
for all pics <br>
subgal1/index.html &lt;- index with img1 and img2 <br>
subgal1/img1.html <br>
subgal1/subsubgal1/img2.html <br>
subgal2/index.html &lt;- index with img3 <br>
subgal2/img3.html</p>

<p style="margin-top: 1em">-z --make-dir-zip <br>
Make a zip archive of original pictures for each
directory.</p>


<p style="margin-top: 1em">--webalbum-pic-bg=WEBALBUMPIC_BG
<br>
Webalbum picture background color. Default is transparent,
and implies the PNG format. Any other value, e.g. red,
white, blue, uses JPEG.</p>


<p style="margin-top: 1em">--webalbum-pic-type=WEBALBUMPIC_TYPE
<br>
What type of web album thumbnails to generate. By default,
lazygal generates the well-loved &quot;messy&quot;
thumbnails with randomly selected pictures from the album
each rotated by <br>
a random amount and pasted together. This default can also
be forced by specifying &rsquo;messy&rsquo; as
WEBALBUMPIC_TYPE.</p>

<p style="margin-top: 1em">On the other hand, specifying
&rsquo;tidy&rsquo; as the value of this option forces
lazygal to skip the rotations, resulting in more regularly
shaped thumbnails which can also be more <br>
densely packed. This can be an advantage if not all users of
your albums have huge screens :-)</p>

<p style="margin-top: 1em">--keep-gps-data <br>
Do not remove GPS data from EXIF tags. By default the
location tags are removed for privacy reasons. However,
there are situations when having the location data makes
sense <br>
and is desired. This is mostly meant to be used with holiday
photos.</p>

<p style="margin-top: 1em">THEMES <br>
A theme maps to a directory that contains the following
items:</p>

<p style="margin-top: 1em">theme/SHARED_* <br>
Files to put in the web gallery shared directory, e.g. CSS,
Javascript, images or other resources common to all
galleries.</p>

<p style="margin-top: 1em">theme/browse.thtml <br>
The XHTML template for the theme browse page (displaying one
picture).</p>

<p style="margin-top: 1em">theme/dirindex.thtml or
theme/dynindex.thtml <br>
The XHTML template for the directory index page (pictures
and sub-galleries links).</p>

<p style="margin-top: 1em">Depending on which index file is
present, the theme will be:</p>

<p style="margin-top: 1em">dirindex.thtml: fully static
<br>
one HTML page per picture, per size and one index per size,
or</p>

<p style="margin-top: 1em">dynindex.thtml: dynamic <br>
only one index per directory is to be generated.</p>

<p style="margin-top: 1em">theme/*.thtml must be valid XML.
See
http://genshi.edgewall.org/wiki/Documentation/xml-templates.html
for syntax. Dependencies for statically included templates
(i.e. with <br>
filenames not computed from variables) are automatically
computed: when an included template is modified, the
software will automatically figure out which pages to
re-generate. <br>
Missing template files will be searched for in the default
theme.</p>

<p style="margin-top: 1em">theme/SHARED_* files (common
resources for the shared directory) are renamed to strip the
SHARED_ prefix and:</p>

<p style="margin-top: 1em">&Acirc;&middot; Processed using
the Genshi text template engine (see
http://genshi.edgewall.org/wiki/Documentation/text-templates.html
for syntax.) if their file extension starts with t,</p>

<p style="margin-top: 1em">&Acirc;&middot; Copied to the
web album destination otherwise.</p>

<p style="margin-top: 1em">Using the theme manifest
theme/manifest.json file, it is possible to include files
from other directories to be copied into the web album
shared files.</p>

<p style="margin-top: 1em">Example 4. manifest.json</p>

<p style="margin-top: 1em">{ <br>
&quot;shared&quot;: [ <br>
# copy as shared/lib.js <br>
{ &quot;path&quot;: &quot;../lib-2.1.js&quot;,
&quot;dest&quot;: &quot;lib.js&quot; },</p>

<p style="margin-top: 1em"># copy as shared/js/lib-2.1.js
<br>
{ &quot;path&quot;: &quot;../lib-2.1.js&quot;,
&quot;dest&quot;: &quot;js/&quot; } <br>
] <br>
}</p>

<p style="margin-top: 1em">Please refer to the examples
supplied in /usr/share/lazygal/themes.</p>

<p style="margin-top: 1em">ALBUM METADATA <br>
If a directory from the source album contains a file named
album_description, it is processed as a source of album
metadata. The format is borrowed from another album
generating <br>
tool - Matew. Each line is treated as one possible tag,
unknown lines are simply ignored. Example content of this
file follows:</p>

<p style="margin-top: 1em">Example 5. album_description</p>

<p style="margin-top: 1em">Album name &quot;My album&quot;
<br>
Album description &quot;Description, which can be very
long.&quot; <br>
Album image identifier relative/path/to/image.jpg</p>

<p style="margin-top: 1em">Otherwise, the user can provide
metadata in the following files.</p>

<p style="margin-top: 1em">SOURCE_DIR/album-name <br>
The title to use for this album directory.</p>

<p style="margin-top: 1em">SOURCE_DIR/album-description
<br>
The description for this album directory. HTML tags are used
verbatim from this file.</p>

<p style="margin-top: 1em">SOURCE_DIR/album-picture <br>
The relative path to the image to use at the top of the
album picture stack.</p>


<p style="margin-top: 1em">SOURCE_DIR/PICTURE_FILENAME.comment
<br>
The description to use for this particular image. Please
note that HTML tags are taken as provided in this file for
output in the templates.</p>

<p style="margin-top: 1em">Lazygal also extracts
information from many metadata tags in image files.
Regarding image description, Lazygal searches for comments
in this order:</p>

<p style="margin-top: 1em">1. pic.jpeg.comment file</p>

<p style="margin-top: 1em">2. Exif.Photo.UserComment</p>

<p style="margin-top: 1em">3.
Exif.Image.ImageDescription</p>

<p style="margin-top: 1em">4.
Iptc.Application2.ObjectName</p>

<p style="margin-top: 1em">5. JPEG comment</p>

<p style="margin-top: 1em">FILES <br>
~/.lazygal <br>
User configuration directory.</p>

<p style="margin-top: 1em">~/.lazygal/themes <br>
User themes directory.</p>

<p style="margin-top: 1em">CONFIGURATION FILES <br>
Multiple configuration files are processed by lazygal. The
configuration is initially set up with the defaults. The
defaults can be found in the lazygal source distribution in
<br>
lazygal/defaults.json.</p>

<p style="margin-top: 1em">Then, the configuration files
are processed in the following order, each newly defined
value overloading formerly defined values.</p>

<p style="margin-top: 1em">Finally, any
command-line-provided parameter takes precedence on any
configuration file value.</p>

<p style="margin-top: 1em">~/.lazygal/config <br>
User configuration file. See lazygal.conf(5) for format.</p>

<p style="margin-top: 1em">SOURCE_DIR/.lazygal <br>
Album root configuration file. See lazygal.conf(5) for
format.</p>

<p style="margin-top: 1em">SOURCE_DIR/gal/.lazygal <br>
Web gallery configuration file. Only the webgal and
template-vars sections are red in these files. The
configuration applies to the gallery representing the
directory of the <br>
configuration file, and all of its sub-directories, unless
another configuration file in a sub-directory overloads some
of the defined configuration values. See <br>
lazygal.conf(5) for format.</p>

<p style="margin-top: 1em">SIZE DESCRIPTION <br>
The size string follows the same syntax as
ImageMagick&rsquo;s.</p>

<p style="margin-top: 1em">scale% <br>
Height and width both scaled by specified percentage.</p>

<p style="margin-top: 1em">xscale%yscale% <br>
Height and width individually scaled by specified
percentages.</p>

<p style="margin-top: 1em">width <br>
Width given, height automatically selected to preserve
aspect ratio.</p>

<p style="margin-top: 1em">xheight <br>
Height given, width automatically selected to preserve
aspect ratio.</p>

<p style="margin-top: 1em">widthxheight <br>
Maximum values of height and width given, aspect ratio
preserved.</p>

<p style="margin-top: 1em">widthxheight^ <br>
Minimum values of width and height given, aspect ratio
preserved.</p>

<p style="margin-top: 1em">widthxheight! <br>
Width and height emphatically given, original aspect ratio
ignored.</p>

<p style="margin-top: 1em">widthxheight&gt; <br>
Change as per the supplied dimensions but only if an image
dimension exceeds a specified dimension.</p>

<p style="margin-top: 1em">widthxheight&lt; <br>
Change dimensions only if both image dimensions exceed
specified dimensions.</p>

<p style="margin-top: 1em">pixels@ <br>
Resize image to have specified area in pixels. Aspect ratio
is preserved.</p>

<p style="margin-top: 1em">TAG FILTERING <br>
Tag filtering supports regular expression matching thanks to
the &rsquo;re&rsquo; module of Python. All the filter
matchings can be indicated to lazygal by successive uses of
the <br>
&rsquo;filter-by-tag&rsquo; option, or by giving a
coma-separated list of keywords.</p>

<p style="margin-top: 1em">We illustrate here how more
elaorated tag filtering can be done.</p>

<p style="margin-top: 1em">We want to export only the
images that have the tags &rsquo;lazygal&rsquo; AND
&rsquo;hiking&rsquo;.</p>

<p style="margin-top: 1em">$ lazygal
--filter-by-tag=lazygal --filter-by-tag=hiking</p>

<p style="margin-top: 1em">or:</p>

<p style="margin-top: 1em">$ lazygal
--filter-by-tag=lazygal,hiking</p>

<p style="margin-top: 1em">We want to export the images
that have the tags &rsquo;lazygal&rsquo; OR
&rsquo;hiking&rsquo;.</p>

<p style="margin-top: 1em">$ lazygal
--filter-by-tag=&quot;(lazygal|hiking)&quot;</p>

<p style="margin-top: 1em">We want to export the images
that have one of the tags &rsquo;hiking_2012&rsquo;,
&rsquo;hiking_2013&rsquo;, &rsquo;hiking_France&rsquo;,
etc.</p>

<p style="margin-top: 1em">$ lazygal
--filter-by-tag=&quot;hiking_.*&quot;</p>

<p style="margin-top: 1em">We want to export the images
that have the tag &rsquo;lazygal&rsquo;, AND one of the tags
&rsquo;hiking_2012&rsquo;, &rsquo;hiking_2013&rsquo;,
&rsquo;hiking_France&rsquo;, etc.</p>

<p style="margin-top: 1em">$ lazygal
--filter-by-tag=&quot;lazygal,hiking_.*&quot;</p>

<p style="margin-top: 1em">SEE ALSO <br>
lazygal.conf(5).</p>

<p style="margin-top: 1em">More information is available on
the program website:
http://sousmonlit.zincube.net/~niol/playa/oss/projects/lazygal.</p>

<p style="margin-top: 1em">AUTHOR <br>
This manual page was written for the Debian system (but may
be used by others). Permission is granted to copy,
distribute and/or modify this document under the terms of
the GNU <br>
General Public License, Version 2 any later version
published by the Free Software Foundation.</p>

<p style="margin-top: 1em">On Debian systems, the complete
text of the GNU General Public License can be found in
/usr/share/common-licenses/GPL.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2010</p>

<p style="margin-top: 1em">lazygal August 2011
LAZYGAL(1)</p>
<hr>
</body>
</html>
