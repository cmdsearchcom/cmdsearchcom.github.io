<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>OSMIUM-DIFF(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">OSMIUM-DIFF(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">OSMIUM-DIFF(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
osmium-diff - display differences between OSM files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>osmium diff</b> [<i>OPTIONS</i>] <i>OSM-FILE1</i> <i>OSM-FILE2</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Finds all differences between two OSM files and displays them. This command
  compares all attributes of all objects, so it will even find, say, differences
  in the user name or even the order of tags, differences that should not happen
  in normal OSM data unless there is also a different object version.
<div class="Pp"></div>
Only differences between objects (node, ways, and relations) are found and
  displayed. Headers are ignored.
<div class="Pp"></div>
Objects in both input files must be sorted in the same order.
<div class="Pp"></div>
Several output formats are supported, see the <b>OUTPUT FORMATS</b> section.
<div class="Pp"></div>
This command is intended for displaying the differences between files to humans.
  It can not be used to create an OSM change file (.osc), use
  <b>osmium-derive-changes</b> for that.
<h1 class="Sh" title="Sh" id="OUTPUT_FORMATS"><a class="selflink" href="#OUTPUT_FORMATS">OUTPUT
  FORMATS</a></h1>
The following output formats are supported and can be set with the
  <b>--output-format</b> or <b>-f</b> options. Default is the compact format.
<dl class="Bl-tag">
  <dt class="It-tag"><b>compact</b></dt>
  <dd class="It-tag">A very compact format. For all objects a line is printed
      with the type of object ('n', 'w', or 'r'), the object ID and then the
      version number. If objects appear in both files and are identical they are
      preceded by a space (' ') character, if they are in both files, but
      different, they are preceded by an asterisk ('*'). Otherwise they get a
      minus ('-') or plus ('+') character to show that they are only in the
      first or second file, respectively.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>opl</b></dt>
  <dd class="It-tag">The usual OPL format with all lines preceded by space ('
      '), minus ('-'), or plus ('+') characters depending on whether the object
      is in both, the first, or the second file.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debug</b></dt>
  <dd class="It-tag">The usual debug format with all lines preceded by space ('
      '), minus ('-'), or plus ('+') characters depending on whether the object
      is in both, the first, or the second file. Color support can be enabled
      ('debug,color').</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<div class="Pp"></div>
None of the output formats print the headers of the input files.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --suppress-common</b></dt>
  <dd class="It-tag">Do not output objects that are the same in both files.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --output-format=FORMAT</b></dt>
  <dd class="It-tag">See the <b>OUTPUT FORMATS</b> section.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --output=FILE</b></dt>
  <dd class="It-tag">Name of the output file. Default is '-' (STDOUT).</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O, --overwrite</b></dt>
  <dd class="It-tag">Allow an existing output file to be overwritten. Normally
      <b>osmium</b> will refuse to write over an existing file.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q, --quiet</b></dt>
  <dd class="It-tag">No output. Just report when files differ through the return
      code.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --summary</b></dt>
  <dd class="It-tag">Print count of objects that are only in the left or right
      files, or the same in both or different in both to <i>stderr</i>.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t, --object-type=TYPE</b></dt>
  <dd class="It-tag">Read only objects of given type (<i>node</i>, <i>way</i>,
      <i>relation</i>). By default all types are read. This option can be given
      multiple times. This affects the output as well as the return code of the
      command.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="COMMON_OPTIONS"><a class="selflink" href="#COMMON_OPTIONS">COMMON
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Show usage help.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Set verbose mode. The program will output information about
      what it is doing to <i>stderr</i>.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="INPUT_OPTIONS"><a class="selflink" href="#INPUT_OPTIONS">INPUT
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F, --input-format=FORMAT</b></dt>
  <dd class="It-tag">The format of the input file(s). Can be used to set the
      input format if it can't be autodetected from the file name(s). This will
      set the format for all input files, there is no way to set the format for
      some input files only. See <b>osmium-file-formats</b>(5) or the libosmium
      manual for details.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
<b>osmium diff</b> exits with exit code
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">if the files are the same,</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">if the files are different, or</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">if there was an error</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="MEMORY_USAGE"><a class="selflink" href="#MEMORY_USAGE">MEMORY
  USAGE</a></h1>
<b>osmium diff</b> doesn't keep a lot of data in memory.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Show difference between Nepal files from January 2016 and Febrary 2016 in
  compact format:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
osmium&#x00A0;diff&#x00A0;nepal-20160101.osm.pbf&#x00A0;nepal-20160201.osm.pbf
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
Show in color debug format only those objects that are different:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
osmium&#x00A0;diff&#x00A0;nepal-20160101.osm.pbf&#x00A0;nepal-20160201.osm.pbf&#x00A0;-f&#x00A0;debug,color&#x00A0;-c
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>osmium</b>(1), <b>osmium-file-formats</b>(5),
      <b>osmium-derive-changes</b>(1)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Osmium website (http://osmcode.org/osmium-tool/)</dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2013-2017 Jochen Topf &lt;jochen@topf.org&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
License GPLv3+: GNU GPL version 3 or later
  &lt;https://gnu.org/licenses/gpl.html&gt;. This is free software: you are free
  to change and redistribute it. There is NO WARRANTY, to the extent permitted
  by law.
<h1 class="Sh" title="Sh" id="CONTACT"><a class="selflink" href="#CONTACT">CONTACT</a></h1>
If you have any questions or want to report a bug, please go to
  http://osmcode.org/contact.html
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Jochen Topf &lt;jochen@topf.org&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">1.6.1</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
