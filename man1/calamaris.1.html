<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CALAMARIS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CALAMARIS(1)</td>
    <td class="head-vol">Calamaris Manual</td>
    <td class="head-rtitle">CALAMARIS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>calamaris</b> - generate text and graphical statistics out of log files from
  Proxy-Cache-Servers
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
cat log | <b>calamaris</b> [ --config-file .../calamaris.conf ] [ switches ]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Calamaris</b> is used to produce statistical output from <b>Squid</b>,
  <b>NetCache</b>, <b>Inktomi Traffic Server</b>, <b>Oops! proxy server</b>,
  <b>Compaq Tasksmart</b>, <b>Cisco Content Engines</b> or related Proxy log
  files. The resulting output can be ascii or html with or without graphic and
  with or without frames. It is possible to cache calculated data in a file to
  use them in later runs.
<div style="height: 1.00em;">&#x00A0;</div>
This manual page describes the options of <b>Calamaris</b> and gives a few
  examples.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="Configuration_File"><a class="selflink" href="#Configuration_File">Configuration
  File</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--config-file file</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Not all reports and modification can be made through command-line-switches.
      To use all options of Calamaris you&#x00B4;ll have to use the
      configuration file. You'll find the configuration-directives below, always
      inside of braces. Examples are in the calamaris.conf which should come
      with this package.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Reports"><a class="selflink" href="#Reports">Reports</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--all-useful-reports|-a</i></dt>
  <dd class="It-tag">extracts all useful reports available,
      <i>--all-useful-reports</i> equals <i>--size-distribution-report 10</i>
      <i>--domain-report 20</i> <i>--performance-report 60</i>
      <i>--requester-report 20</i> <i>--status-report</i> <i>--type-report
      20</i> <i>--response-time-report</i>
      <i>--errorcode-distribution-report</i>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--domain-report|-d n ($domain_report)</i></dt>
  <dd class="It-tag">switches the top level and the second level report on. The
      data is derived from the URL. The output is limited by n. (-1 is
      unlimited)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--domain-report-limit n ($domain_report_limit)</i></dt>
  <dd class="It-tag">limit the domain-report to lines which have n or more
      requests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--domain-report-n-level|-N n
    ($domain_report_n_level)</i></dt>
  <dd class="It-tag">All URL-Host reports will be switched from 2nd-level to
      n-level-reports. (-1 shows a full urlhost-report)
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> This option is only useful with activated domain-report.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--errorcode-distribution-report
    ($errorcode_distribution_report)</i></dt>
  <dd class="It-tag">shows the Response code distribution over all objects
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($object_freshness_report)</i></dt>
  <dd class="It-tag">shows the freshness of objects in your cache.
      <b>Calamaris</b> looks for freshness tags like 'TCP_HIT',
      'TCP_REFRESH_MISS', ... and make statistics on it. With this information
      you can optimize the caching behaviour of your cache depending on the
      objects content type. E.g. squid admins could use this information to
      configure the refresh_pattern. This option needs more configuration in the
      configuration-file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--peak-report|-p type ($peak_report)</i></dt>
  <dd class="It-tag">Measures the peaks of the Proxy usage in requests per
      second, per minute and per hour. It reports peaks for TCP, UDP and ALL
      requests. If set to <i>'old'</i> these values were calculated with the old
      slow method, if set to <i>'new'</i> the new faster (but still slow) method
      is used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--performance-report|-P n ($performance_report)</i></dt>
  <dd class="It-tag">Shows the throughput of TCP requests for every n minutes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--performance-report-adjust|-T n
    ($performance_report_adjust)</i></dt>
  <dd class="It-tag">Time: Adjust the Performancereport in minutes for non
      GMT-Timezoners.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--requester-report|-r n ($requester_report)</i></dt>
  <dd class="It-tag">Switches the UDP and TCP requester reports on. The output
      is limited by n. (-1 is unlimited)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--requester-report-no-dns-lookup|-n
    ($requester_report_no_dns_lookup)</i></dt>
  <dd class="It-tag">Switches the IP lookup for the requesters off.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--requester-report-use-user-info|-u
    ($requester_report_use_user_info)</i></dt>
  <dd class="It-tag">Switches the usage of eventually available ident
      information for requester reports on.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Warning:</b> This breaks the privacy of your users! (see PRIVACY-Section
      below)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--requester-report-with-targets|-R n
    ($requester_report_with_targets)</i></dt>
  <dd class="It-tag">adds to each line of the requester report the requested
      URLs. The output is limited by n. (-1 is unlimited, and can result in very
      very long reports.)
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Warning:</b> Using this option breaks the privacy of your users! (see
      PRIVACY-Section below)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--response-time-report ($response_time_report)</i></dt>
  <dd class="It-tag">sums up the time distribution over all objects
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>(@response_time_report_interval)</i></dt>
  <dd class="It-tag">This array defines the time steps, which should be reported
      in the response-time-report.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--size-distribution-report|-D n
    ($size_distribution_report)</i></dt>
  <dd class="It-tag">shows size-based distribution of requested objects, smaller
      numbers result in more verbose reports. (choose 2, 10 or 100 for useful
      output.)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--status-report|-s ($status_report)</i></dt>
  <dd class="It-tag">alters the default behaviour of <b>Calamaris</b> and makes
      the status reports more verbose.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--type-report|-t n ($type_report)</i></dt>
  <dd class="It-tag">switches the content type and the file extension report on.
      The output is limited by n. (-1 is unlimited)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--type-report-ignore-case|-c
    ($type_report_ignore_case)</i></dt>
  <dd class="It-tag">Switch to case-insensitive. This is useful for the
      'Requested extensions' report.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Input"><a class="selflink" href="#Input">Input</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--input-format|-f type ($input_format)</i></dt>
  <dd class="It-tag">sets the type of input logfiles. If set to
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'auto'</i> <b>Calamaris</b> tries to guess the input file format. This is
      the Default.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> If the first line of your input file is corrupted,
      <b>Calamaris</b> will stop with an error.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'squid'</i> <b>Calamaris</b> expects native logfile derived from
      <b>Squid</b> V1.1.beta26-V2.x or <b>OOPS.</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'squid-extended'</i> <b>Calamaris</b> expects native logfile derived from
      <b>Squid</b> V1.1.alpha1-V2.x with <i>log_mime_hdrs</i> enabled or
      <b>Squid</b> with <b>Smartfilter-Patch</b> or squid-style logfiles out of
      <b>Cisco Content Engines.</b> (This only enables parsing of these kind of
      logfile, the additional data will be ignored.)
    <div style="height: 1.00em;">&#x00A0;</div>
    (Logging of MIME-Headers breaks the privacy of your users! (see
      PRIVACY-Section below)
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'squid-old'</i> <b>Calamaris</b> expects native logfile derived from
      <b>Squid</b> V1.1.alpha1-V1.1.beta25.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'nc'</i> <b>Calamaris</b> expects Logfiles from <b>NetCache</b> up to
      V4.x. (Please see the README on this.)
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'its'</i> <b>Calamaris</b> expects Logfiles from <b>Inktomi Traffic
      Server.</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'elff'</i> <b>Calamaris</b> expects Logfiles in Extended Logfile Format
      (i.e. from <b>Compaq Tasksmart,</b> <b>Novell Internet Caching System</b>
      or <b>NetCache</b> V5.x)
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'nse'</i> <b>Calamaris</b> expects Logfiles in Netscape Extended-1 or
      Netscape Extended-2 Logfile Format (from <b>Netscape/iPlanet/SunOne
      Proxy-Server</b> )
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--ipfilter-exclude IP/range ($ipfilter_exclude)</i></dt>
  <dd class="It-tag">all IPs are analyzed, except IP/range. Format:
      1.1.1.1/32:1.1.2.0/24 or 1.1.1.1/255.255.255.255:1.1.2.0/255.255.255.0
    <div style="height: 1.00em;">&#x00A0;</div>
    IP list separated by ':' This switch needs the perl Module NetAddr::IP.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Warning:</b> This breaks the privacy of your users! (see PRIVACY-Section
      below)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--ipfilter-include IP/range ($ipfilter_include)</i></dt>
  <dd class="It-tag">no IPs are analyzed, except IP/range. Format: see
      --ipfilter-exclude
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Warning:</b> This breaks the privacy of your users! (see PRIVACY-Section
      below)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--no-input|-z ($no_input)</i></dt>
  <dd class="It-tag">Switches reading from standard input off. You can use this
      to merge many cache files to one (see <i>--cache-input-file</i> and
      <i>--cache-output-file)</i> or to generate a report out of cache files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--time-interval|-I t-t ($time_interval)</i></dt>
  <dd class="It-tag">defines which time-interval should be parsed. t has to be
      the format yyyymmddhhmmss (localtime)
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> omitting the beginning or ending date is allowed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Output"><a class="selflink" href="#Output">Output</a></h2>
Standard output format is plain ascii with 80 chars width.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($column1_color)</i></dt>
  <dd class="It-tag"><i>($column2_color)</i> defines the colors for the columns
      in graphics. (only useful with <i>--output-format</i> graph)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($formats[n])</i></dt>
  <dd class="It-tag">Through the config-file you are able to modify the width of
      the report and alter the culomns that are displayed in the reports. n is
      the number of the report, as displayed by --help in the
      --show-reports-option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--hostname|-H name ($hostname)</i></dt>
  <dd class="It-tag">The name for the title or subject of the output. If set to
      <i>'lookup'</i> <b>Calamaris</b> looks up the host name of the system its
      been run on.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--image-type ($image_type)</i></dt>
  <dd class="It-tag">Sets the image type to gif, png, jpeg, gd or gd2. Only
      useful when <i>--output-format graph</i> is set. The available images
      types are dependend on your GD::Graph installation. Default is 'png'.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--logo|-l string ($logo)</i></dt>
  <dd class="It-tag">add a custom string to a HTML-Report. It'll be added to a
      table on the top of the output. <i>-l '&lt;A
      HREF=&quot;http://cord.de/&quot;&gt;&lt;IMG BORDER=0</i>
      SRC=&quot;http://cord.de/Images/cord/cordlog2n.gif&quot;
      ALT=&quot;Cord&quot;&gt;&lt;/A&gt;' will add my logo with a link to the
      Report.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> <i>--logo</i> works only in combination with <i>--output-format
      html or html-frame</i>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--meta|-M string ($meta)</i></dt>
  <dd class="It-tag">Meta: adds a custom string or the content of a file into
      the &lt;HEAD&gt; of a HTML-Report. Useful if you want to add Stylesheets
      or something to the Report.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> <i>--meta</i> works only in combination with <i>--output-format
      html or html-frame</i>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--output-format|-F type[,type[,type[,...]]]
    ($output_format)</i></dt>
  <dd class="It-tag">Format: sets the format of the output-report. If set to
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'mail'</i> adds a subject header to the beginning of the report.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'html'</i> all output is given in html with tables. Can be combined with
      <i>'mail'</i> to send html mails.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'html-frame'</i> all output is given in html frames with tables.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'html-embed'</i> all output is given in html with tables without
      HTML-Headers. Useful for Server-Side-Includes.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'graph'</i> enables graphics for html, html-embed or html-frame.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>'unformatted'</i> gives out the raw numbers separated by spaces. Useful
      for re-using the output in other scripts. If you use this along with
      <i>-U,</i> the byte values are calculated in the given Unit, and displayed
      without indication along with the numbers. the indication moves up to the
      header of the report.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--output-path ($output_path)</i></dt>
  <dd class="It-tag">output calamaris statistics to /path. In case of graph
      output, the graphics destination is /path and the filename is index.html,
      else it is calamaris.txt. If <i>--output-path</i> is not given, all
      graphics are written to the working directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--output-file ($output_file)</i></dt>
  <dd class="It-tag">alter the filename of --output-path.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--output-file-prefix ($output_file_prefix)</i></dt>
  <dd class="It-tag">adds a prefix to <i>--output-file</i> <i>%t</i> is replaced
      by the timerange of the report, <i>%h</i> by the hostname (see
      <i>--hostname</i> )
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--show-reports|-S n[,n[,n[,...]]]
    ($show_reports)</i></dt>
  <dd class="It-tag">Show: Shows only the defined reports in the specified
      order. Default is to display the reports as they are defined through the
      report-switches above. The following numbers are defined:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">0 Summary</div>
<div style="margin-left: 5.00ex;">1 Incoming request peak per protocol</div>
<div style="margin-left: 5.00ex;">2 Incoming transfer volume peak per
  protocol</div>
<div style="margin-left: 5.00ex;">3 Incoming requests by method</div>
<div style="margin-left: 5.00ex;">4 Incoming UDP-requests by status</div>
<div style="margin-left: 5.00ex;">5 Incoming TCP-requests by status</div>
<div style="margin-left: 5.00ex;">6 Outgoing requests by status</div>
<div style="margin-left: 5.00ex;">7 Outgoing requests by destination</div>
<div style="margin-left: 5.00ex;">8 Request-destinations by
  2ndlevel-domain</div>
<div style="margin-left: 5.00ex;">9 Request-destinations by
  toplevel-domain</div>
<div style="margin-left: 5.00ex;">10 TCP-Request-protocol</div>
<div style="margin-left: 5.00ex;">11 Requested content-type</div>
<div style="margin-left: 5.00ex;">12 Requested extensions</div>
<div style="margin-left: 5.00ex;">13 Incoming UDP-requests by host</div>
<div style="margin-left: 5.00ex;">14 Incoming TCP-requests by host</div>
<div style="margin-left: 5.00ex;">15 Size Distribution Diagram</div>
<div style="margin-left: 5.00ex;">16 Performance in n minute steps</div>
<div style="margin-left: 5.00ex;">17 UDP-Request duration distribution in
  msec</div>
<div style="margin-left: 5.00ex;">18 TCP-Request duration distribution in
  msec</div>
<div style="margin-left: 5.00ex;">19 UDP Response code distribution</div>
<div style="margin-left: 5.00ex;">20 TCP Response code distribution</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Note:</b> Using this doesn't make <b>Calamaris</b> any faster, the internal
  calculations will be done as the report-switches were set (see above).
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--sort-order|-O ($sort_order)</i></dt>
  <dd class="It-tag">Changes the sort order in the reports to request size,
      default is sorting by number of requests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($text_color)</i></dt>
  <dd class="It-tag">defines the colors for text/axis/legend/labels in graphics.
      (only useful with <i>--output-format graph</i> )
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--unit|-U string ($unit)</i></dt>
  <dd class="It-tag">You can define this to K(ilo), M(ega), G(iga) or T(era) for
      the Byte-units.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($width)</i></dt>
  <dd class="It-tag">defines the width of the graphics. height is calculated
      from this with a 3:2-ratio. (only useful with <i>--output-format graph</i>
      )
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($x_scale)</i></dt>
  <dd class="It-tag">defines how many datasets should be drawn on the graph. 30
      is a good value, but you can play with this. if $x_scale gets to big,
      you're on your own ;-)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--generate-index ($generate_index)</i></dt>
  <dd class="It-tag">generates an index for all reports that match
      <i>--output-file-prefix.</i>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Caching"><a class="selflink" href="#Caching">Caching</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--cache-input-file|-i file ($cache_input_file)</i></dt>
  <dd class="It-tag">You can reuse a cache file generated with
      <i>--cache-output-file file</i> to add old data to a new report. Several
      files can be separated with a ':'.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> if you use more than one cache file, make sure they are
      chronologicaly ordered (oldest first).
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> if you reuse cache-files, which were not created with <i>-d -1
      -r -1 -t -1 -R -1</i> the number of 'others' would be wrong everywhere. In
      this case the number of 'others' are omitted.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--cache-output-file|-o file
    ($cache_output_file)</i></dt>
  <dd class="It-tag"><b>Calamaris</b> stores a summary of the computed
      information in <i>file</i> and you can reuse it at a later time with
      <i>--cache-input-file</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>Note:</b> The output file can be the same as the input file: it is simply
      overwritten after reading the data. It is not recommended to change the
      options between different runs if you include older data as this can
      result in strange measurements.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Misc"><a class="selflink" href="#Misc">Misc</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--benchmark|-b n ($benchmark)</i></dt>
  <dd class="It-tag">benchmark: A switch for the impatient as it prints a '#'
      for every n parsed lines.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--copyright|-C</i></dt>
  <dd class="It-tag">Prints the copyright information of <b>Calamaris</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--help|-h</i></dt>
  <dd class="It-tag">Prints a brief description of the command line options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--version|-V</i></dt>
  <dd class="It-tag">Prints out the Version-Number.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Debug"><a class="selflink" href="#Debug">Debug</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--dump-loop|-L</i></dt>
  <dd class="It-tag">prints the internal loop to STDERR. (for Debugging)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>($test)</i></dt>
  <dd class="It-tag">activates some small tests for the programmer.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--verbose|-v ($verbose)</i></dt>
  <dd class="It-tag">print more information about what is Calamaris is doing and
      believing.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">This example mails the daily statistics to root:</dt>
  <dd class="It-tag">cat /var/log/squid/access.log | nice -39 <b>calamaris</b>
      <i>--all-useful-reports</i> <i>--hostname</i> &quot;daily worf&quot;
      <i>--output-format</i> mail | mail root
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">This one only caches a summary for later use:</dt>
  <dd class="It-tag">cat /var/log/squid/access.log | <b>calamaris</b>
      --all-useful-reports --cache-output-file daily.`date +&quot;%w&quot;` &gt;
      /dev/null
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">You can then use the caches to have weekly statistics:</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">if [ $DAYOFWEEK = &quot;0&quot; ]; then</dt>
  <dd class="It-tag"><b>calamaris</b> --all-useful-reports --cache-input-file
      daily.1:daily.2:daily.3:daily.4:daily.5:daily.6:daily.0 --no-input
      --output-format mail --hostname &quot;weekly worf&quot; | mail root ;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">fi</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
If you have a problem with <b>Calamaris</b> , please make sure that you use the
  recent version of <b>Calamaris</b> (see VERSION below). Also check that your
  proxy works correctly and doesn't produce invalid Logfiles. (see the README
  for buglist and pointers.)
<div style="height: 1.00em;">&#x00A0;</div>
If you're sure that you've encountered a bug in <b>Calamaris</b> please report
  it to Calamaris-bug@cord.de. This also applies if <b>Calamaris</b> itself says
  'please report this'.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="PRIVACY"><a class="selflink" href="#PRIVACY">PRIVACY</a></h1>
<b>Calamaris</b> can be (mis-)used to track what users are requesting.
<div style="height: 1.00em;">&#x00A0;</div>
So please read the following and think about it, before using <b>Calamaris</b>
  to be the <i>Big Brother.</i>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">-</dt>
  <dd class="It-tag">If you don't trust your users than there is something more
      wrong than the loss of productivity.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-</dt>
  <dd class="It-tag">Squid has some nice acl-mechanisms. If you think that your
      users don't use the net properly, don't let them use it. (You can also
      open the net at specific times or to specific sites, if you want.)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-</dt>
  <dd class="It-tag">If you still want to use <b>Calamaris</b> that way, let
      your vict^Wusers know, that they'll be monitored. (in Germany you have to
      let them know!)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>squid(8)</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Cord Beermann &lt;Cord@Wunder-Nett.org&gt;, Michael Pophal
  &lt;michael.pophal@nefkom.net&gt;. There are also a lot of people who
  contributed code, gave ideas or requested features. Look them up in the
  executable.
<div style="height: 1.00em;">&#x00A0;</div>
This man page was written by Philipp Frauenfelder &lt;pfrauenf@debian.org&gt;,
  maintainer of the Debian package. Maintenance is now taken over by Cord
  Beermann.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
Version of this manpage: $Id: calamaris.1,v 3.1 2006-03-19 17:52:48 cord Exp $
<div style="height: 1.00em;">&#x00A0;</div>
It describes the usage of Calamaris V3.0 and later.
<div style="height: 1.00em;">&#x00A0;</div>
Information about new releases, mailing lists, and other related issues can be
  found from the <b>Calamaris</b> home page at URL http://Calamaris.Cord.de/
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="WARRANTY"><a class="selflink" href="#WARRANTY">WARRANTY</a></h1>
<b>Calamaris</b> comes with &quot;absolutely no warranty&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 1997-2006, 2013, 2015 Cord Beermann
<div style="height: 1.00em;">&#x00A0;</div>
This program is free software; you can redistribute it and/or modify it under
  the terms of the GNU General Public License as published by the Free Software
  Foundation; either version 2 of the License, or (at your option) any later
  version.
<div style="height: 1.00em;">&#x00A0;</div>
(If you modify and want to publish it under the name <b>Calamaris</b> , please
  ask me. I don't want to confuse the 'audience' with many different versions of
  the same name and/or Version number. (This is not part of the license, it is
  only a favour i asked of you.))
<div style="height: 1.00em;">&#x00A0;</div>
This program is distributed in the hope that it will be useful, but WITHOUT ANY
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
  A PARTICULAR PURPOSE. See the GNU General Public License for more details.
<div style="height: 1.00em;">&#x00A0;</div>
You should have received a copy of the GNU General Public License along with
  this program; if not, write to the Free Software Foundation, Inc., 59 Temple
  Place - Suite 330, Boston, MA 02111-1307, USA.</div>
<table class="foot">
  <tr>
    <td class="foot-date">$Date: 2006-03-19 17:52:48 $</td>
    <td class="foot-os">Handmade</td>
  </tr>
</table>
</body>
</html>
