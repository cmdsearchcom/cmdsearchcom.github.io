<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PSMWATCH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PSMWATCH(1)</td>
    <td class="head-vol">ICI executables</td>
    <td class="head-rtitle">PSMWATCH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
psmwatch - PSM memory partition activity monitor
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>psmwatch</b> <i>shared_memory_key</i> <i>memory_size</i>
  <i>partition_name</i> <i>interval</i> <i>count</i> [ verbose ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
For <i>count</i> interations, <b>psmwatch</b> sleeps <i>interval</i> seconds and
  then invokes the <i>psm_print_trace()</i> function (see <i>psm</i>(3)) to
  report on PSM dynamic memory management activity in the PSM-managed shared
  memory partition identified by <i>shared_memory_key</i> during that interval.
  If the optional <b>verbose</b> parameter is specified, the printed PSM
  activity trace will be verbose as described in <i>psm</i>(3).
<div class="Pp"></div>
To prevent confusion, the specified <i>memory_size</i> and <i>partition_name</i>
  are compared to those declared when this shared memory partition was initially
  managed; if they don't match, <b>psmwatch</b> immediately terminates.
<div class="Pp"></div>
If <i>interval</i> is zero, <b>psmwatch</b> merely prints a current usage
  summary for the indicated shared-memory partition and terminates.
<div class="Pp"></div>
<b>psmwatch</b> is helpful for detecting and diagnosing memory leaks. For
  debugging the ION protocol stack:
<dl class="Bl-tag">
  <dt class="It-tag"><i>shared_memory_key</i></dt>
  <dd class="It-tag">Normally &quot;65281&quot;, but might be overridden by the
      value of wmKey in the .ionconfig file used to configure the node under
      study.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>memory_size</i></dt>
  <dd class="It-tag">As given by the value of wmKey in the .ionconfig file used
      to configure the node under study. If this value is not stated in the
      .ionconfig file, the default value is &quot;5000000&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>partition_name</i></dt>
  <dd class="It-tag">Always &quot;ionwm&quot;.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;0&quot;</dt>
  <dd class="It-tag"><b>psmwatch</b> has terminated.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
No configuration files are needed.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
No environment variables apply.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The following diagnostics may be issued to the <b>ion.log</b> log file:
<dl class="Bl-tag">
  <dt class="It-tag">Can't attach to psm.</dt>
  <dd class="It-tag">ION system error. One possible cause is that ION has not
      yet been initialized on the local computer; run <i>ionadmin</i>(1) to
      correct this.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Can't start trace.</dt>
  <dd class="It-tag">Insufficient ION working memory to contain trace
      information. Reinitialize ION with more memory.</dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report bugs to &lt;ion-bugs@korgano.eecs.ohiou.edu&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>psm</i>(3), <i>sdrwatch</i>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-07-07</td>
    <td class="foot-os">perl v5.24.1</td>
  </tr>
</table>
</body>
</html>
