<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BLTK(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BLTK(1)</td>
    <td class="head-vol">Battery life tool kit</td>
    <td class="head-rtitle">BLTK(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bltk - tool kit is used to measure battery life and performance under different
  workloads on Linux.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>bltk</b> [-hVvaNAcCBXswiIRDPGOYZyQzxul] [-t sec] [-r results_dir] [-m {0,1}]
  [-U path] [-g setup] [-J pid] [-T time] [-F file] [-W app] [-L title] [-K
  comment] [-e app] [-E app] [-p percent] [-d percent] [-o {0,1,2}] [-q file]
  [-b percent] [-f command] [-k num]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>The BLTK</b> can be used with various workloads to simulate different types
  of laptop usage. The following workloads are currently implemented:
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>Idle workload</b></dt>
  <dd class="It-tag">collect statistics only (mostly used to measure battery
      life)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Developer workload</b></dt>
  <dd class="It-tag">simulates code development in Linux environment</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Reader workload</b></dt>
  <dd class="It-tag">simulates text reading on laptop (mostly used to measure
      battery life)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Playback workload</b></dt>
  <dd class="It-tag">simulates laptop entertaining usage (produces constant
      average load on the system)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>3d game workload</b></dt>
  <dd class="It-tag">simulates 3D-gaming on laptop (Unreal Tournament demo is
      used to create this workload)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Office Activity workload</b></dt>
  <dd class="It-tag">simulates laptop usage for different office activities
      (based on OpenOffice.org office suit)</dd>
</dl>
</div>
<div class="Pp"></div>
When started, test collects platform/OS initial info and if it's OK prompts user
  to unplug AC adapter. After cable unplugged, workload started. During the
  workload execution test harness collects various system information (e.g. CPU
  load, battery drain, display state, CPU frequency, etc...). After battery
  completely discharged user should plug the AC cable back and boot the system.
  When it is done the results are available.
<div class="Pp"></div>
There are several tools for result evaluation. They allow creating report file
  for test run, to gather results into a table for system comparison, and to
  draw graphs for different purposes.
<div class="Pp"></div>
<b>Results</b> - after the battery dies and the system booted back, the results
  are available. They are stored in 'bltk/&lt;wokload_name&gt;.results'
  directory (or in the directory, specified in -r option). If target directory
  already exist the tool will add numeric extension to its name (.001, .002
  e.t.c.) The results consist of the following files (see below for detailed
  description):
<dl class="Bl-tag">
  <dt class="It-tag"><b>cmd</b></dt>
  <dd class="It-tag">In this file 'bltk' command with arguments are stored</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>infoi&lt;N&gt;.log (info1.log, info2.log, ...)</b></dt>
  <dd class="It-tag">Here initial system info is stored. Another two files
      (info1.log, info2.log) contains system info after AC adapter was
      unplugged, and on 5% battery capacity remained. They are used to check
      whether any changes occurred during test execution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stat.log</b></dt>
  <dd class="It-tag">Statistics generated by bltk harness are stored here. One
      statistic line generated per 1 minute (or per number of seconds, specified
      in -t option).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>system&lt;N&gt;</b></dt>
  <dd class="It-tag">When -k 1 is used, the system information is stored under
      this directory. The numbers at the end of directory name have the
      following meanings:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">initial system info</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">system info after AC adapter was unplugged</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">system info on 5% battery capacity remained</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>version</b></dt>
  <dd class="It-tag">this file contains version information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>workload</b></dt>
  <dd class="It-tag">the file contains info about workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>work_out.log</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>err.log</b></dt>
  <dd class="It-tag">There are stored any error messages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>warning.log</b></dt>
  <dd class="It-tag">Contains warnings</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>work.log</b></dt>
  <dd class="It-tag">Strings generated by USR1, USR2 signals from workload.
      String format is the same as in the 'stat.log' file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fail</b></dt>
  <dd class="It-tag">when test fails</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>score</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Report</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Report.table</b></dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>,<b> --help</b></dt>
  <dd class="It-tag">Help; display a help message and then exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>,<b> --version</b></dt>
  <dd class="It-tag">Version; display version number and then exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>,<b> --verbose</b></dt>
  <dd class="It-tag">Verbose</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>,<b> --ac-ignore</b></dt>
  <dd class="It-tag">ignore ac adapter state check (on/off)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b>,<b> --time-stat-ignore</b></dt>
  <dd class="It-tag">disable time statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>,<b> --ac-stat-ignore</b></dt>
  <dd class="It-tag">disable ac adapter statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>,<b> --cpu-stat-ignore</b></dt>
  <dd class="It-tag">disable cpu load statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>,<b> --cpu-add-stat-ignore</b></dt>
  <dd class="It-tag">disable cpu additional statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b>,<b> --bat-stat-ignore</b></dt>
  <dd class="It-tag">disable battery statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b>,<b> --disp-stat-ignore</b></dt>
  <dd class="It-tag">Disable display state statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b>,<b> --hd-stat-ignore</b></dt>
  <dd class="It-tag">disable hard drive state statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t </b>seconds,<b> --report-time </b>seconds</dt>
  <dd class="It-tag">frequency of report line generation in seconds</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r </b>results_dir,<b> --results </b>results_dir</dt>
  <dd class="It-tag">name of results directory</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>,<b> --stat-ignore</b></dt>
  <dd class="It-tag">disable all statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>,<b> --work-stat-ignore</b></dt>
  <dd class="It-tag">disable workload statistics</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m </b>{0,1},<b> --stat-memory </b>{0,1}</dt>
  <dd class="It-tag">dump statistics directly on disk or keep in memory, if
      statistics are kept in memory, it will be dumped	on disk at low battery
      capacity, or at the test end</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">disk</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">memory (by default)</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>,<b> --idle-test</b></dt>
  <dd class="It-tag">idle test</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b>,<b> --idle</b></dt>
  <dd class="It-tag">idle workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b>,<b> --reader</b></dt>
  <dd class="It-tag">reader workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b>,<b> --developer</b></dt>
  <dd class="It-tag">developer workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>,<b>'</b>--player&quot;</dt>
  <dd class="It-tag">playback workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b>,<b> --game</b></dt>
  <dd class="It-tag">3D-gaming workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b>,<b> --office</b></dt>
  <dd class="It-tag">office productivity workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U </b>path,<b> --user </b>path</dt>
  <dd class="It-tag">user-specified workload (path to executable)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g </b>routine,<b> --user-init </b>routine&quot;</dt>
  <dd class="It-tag">setup routines for user-specified workload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Y</b>,<b> --discharging</b></dt>
  <dd class="It-tag">battery discharge mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z</b>,<b> --charging</b></dt>
  <dd class="It-tag">battery charge mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-J </b>pid,<b> --jobs </b>pid</dt>
  <dd class="It-tag">make jobs number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T </b>seconds,<b> --time </b>seconds</dt>
  <dd class="It-tag">workload time</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b>,<b> --file</b></dt>
  <dd class="It-tag">workload file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b>,<b> --prog</b></dt>
  <dd class="It-tag">workload program 	name of player (player workload, default
      'mplayer') 	name of web-browser (reader workload, default 'firefox')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>,<b> --title</b></dt>
  <dd class="It-tag">title of web-browser document</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b>,<b> --manufacturer</b></dt>
  <dd class="It-tag">enable time and cpu load statistics only</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>,<b> --show</b></dt>
  <dd class="It-tag">demo/debug mode, one iteration only</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>,<b> --show-num</b></dt>
  <dd class="It-tag">demo/debug mode, 'show-num' iteration</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j</b>,<b> --show-cnt</b></dt>
  <dd class="It-tag">demo/debug mode, 'show-cnt' sub iteration</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T </b>seconds,<b> --show-time </b>seconds</dt>
  <dd class="It-tag">demo/debug mode, debug time</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K </b>comment,<b> --comment </b>comment</dt>
  <dd class="It-tag">user comment for report</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e </b>application,<b> --init-prog </b>application</dt>
  <dd class="It-tag">run program before test starting</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E </b>application,<b> --init-prog-su
    </b>application</dt>
  <dd class="It-tag">run program as root before test starting</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y</b>,<b> --yes</b></dt>
  <dd class="It-tag">auto 'yes' answer to all questions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b>,<b> --debug</b></dt>
  <dd class="It-tag">debug workload (see cpu-load and disp-load below)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p </b>percent,<b> --cpu-load </b>percent</dt>
  <dd class="It-tag">debug workload, the time cpu loaded in percent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d </b>percent,<b> --disp-load </b>percent</dt>
  <dd class="It-tag">Debug workload, the time display on in percent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o </b>{0,1,2},<b> --output </b>{0,1,2}</dt>
  <dd class="It-tag">direct workload output:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">file and console</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">/dev/null, other - console</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b>,<b> --debug-vars</b></dt>
  <dd class="It-tag">debug option</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q </b>file,<b> --debug-vars-file </b>file</dt>
  <dd class="It-tag">debug option - debug variables file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>,<b> --dpms</b></dt>
  <dd class="It-tag">debug option - try to use display power management</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>,<b> --spy</b></dt>
  <dd class="It-tag">debug option - try to find out unexpected system
    activity</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>,<b> --simul-laptop</b></dt>
  <dd class="It-tag">debug option, laptop simulation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b </b>percent,<b> --bat-sync </b>percent</dt>
  <dd class="It-tag">debug option, battery critical capacity, default 5%</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f </b>command,<b> --user-field </b>command</dt>
  <dd class="It-tag">the output of user-specified command being added to
      statistics Example: 	-f &quot;cat /proc/acpi/thermal_zone/TZ01/temperature
      | awk '{print $2}'&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k </b>num,<b> --stat-system </b>num</dt>
  <dd class="It-tag">debug option, save system files, default 0</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -I or --idle</dt>
  <dd class="It-tag">idle workload running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -R or --reader</dt>
  <dd class="It-tag">reader workload running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -D or --developer</dt>
  <dd class="It-tag">developer workload running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -O or --office</dt>
  <dd class="It-tag">office workload running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -P or --player</dt>
  <dd class="It-tag">player workload running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -G or --game</dt>
  <dd class="It-tag">game workload running</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bltk -i or --idle-test -T 60 -t 1</dt>
  <dd class="It-tag">idle test running for 60 seconds, stats interval 1
    second</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>bltk.conf</b>(5), <b>bltk_report</b>(1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<pre>
Konstantin Karasyov   &lt;konstantin.a.karasyov@intel.com&gt;
Vladimir Lebedev      &lt;vladimir.p.lebedev@intel.com&gt;
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">15 July 2008</td>
    <td class="foot-os">BLTK</td>
  </tr>
</table>
</body>
</html>
