<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:55:26 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BLTK(1) Battery life tool kit BLTK(1)</p>

<p style="margin-top: 1em">NAME <br>
bltk - tool kit is used to measure battery life and
performance under different workloads on Linux.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
bltk [-hVvaNAcCBXswiIRDPGOYZyQzxul] [-t sec] [-r
results_dir] [-m {0,1}] [-U path] [-g setup] [-J pid] [-T
time] [-F file] [-W app] [-L title] [-K comment] [-e app]
[-E app] [-p <br>
percent] [-d percent] [-o {0,1,2}] [-q file] [-b percent]
[-f command] [-k num]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The BLTK can be used with various workloads to simulate
different types of laptop usage. The following workloads are
currently implemented:</p>

<p style="margin-top: 1em">Idle workload <br>
collect statistics only (mostly used to measure battery
life)</p>

<p style="margin-top: 1em">Developer workload <br>
simulates code development in Linux environment</p>

<p style="margin-top: 1em">Reader workload <br>
simulates text reading on laptop (mostly used to measure
battery life)</p>

<p style="margin-top: 1em">Playback workload <br>
simulates laptop entertaining usage (produces constant
average load on the system)</p>

<p style="margin-top: 1em">3d game workload <br>
simulates 3D-gaming on laptop (Unreal Tournament demo is
used to create this workload)</p>

<p style="margin-top: 1em">Office Activity workload <br>
simulates laptop usage for different office activities
(based on OpenOffice.org office suit)</p>

<p style="margin-top: 1em">When started, test collects
platform/OS initial info and if it&rsquo;s OK prompts user
to unplug AC adapter. After cable unplugged, workload
started. During the workload execution test <br>
harness collects various system information (e.g. CPU load,
battery drain, display state, CPU frequency, etc...). After
battery completely discharged user should plug the AC <br>
cable back and boot the system. When it is done the results
are available.</p>

<p style="margin-top: 1em">There are several tools for
result evaluation. They allow creating report file for test
run, to gather results into a table for system comparison,
and to draw graphs for differ&acirc; <br>
ent purposes.</p>

<p style="margin-top: 1em">Results - after the battery dies
and the system booted back, the results are available. They
are stored in
&rsquo;bltk/&lt;wokload_name&gt;.results&rsquo; directory
(or in the directory, specified <br>
in -r option). If target directory already exist the tool
will add numeric extension to its name (.001, .002 e.t.c.)
The results consist of the following files (see below for
<br>
detailed description):</p>

<p style="margin-top: 1em">cmd In this file
&rsquo;bltk&rsquo; command with arguments are stored</p>

<p style="margin-top: 1em">infoi&lt;N&gt;.log (info1.log,
info2.log, ...) <br>
Here initial system info is stored. Another two files
(info1.log, info2.log) contains system info after AC adapter
was unplugged, and on 5% battery capacity remained. They
<br>
are used to check whether any changes occurred during test
execution.</p>

<p style="margin-top: 1em">stat.log <br>
Statistics generated by bltk harness are stored here. One
statistic line generated per 1 minute (or per number of
seconds, specified in -t option).</p>

<p style="margin-top: 1em">system&lt;N&gt; <br>
When -k 1 is used, the system information is stored under
this directory. The numbers at the end of directory name
have the following meanings:</p>

<p style="margin-top: 1em">0 initial system info</p>

<p style="margin-top: 1em">1 system info after AC adapter
was unplugged</p>

<p style="margin-top: 1em">2 system info on 5% battery
capacity remained</p>

<p style="margin-top: 1em">version <br>
this file contains version information</p>

<p style="margin-top: 1em">workload <br>
the file contains info about workload</p>

<p style="margin-top: 1em">work_out.log</p>

<p style="margin-top: 1em">err.log <br>
There are stored any error messages</p>

<p style="margin-top: 1em">warning.log <br>
Contains warnings</p>

<p style="margin-top: 1em">work.log <br>
Strings generated by USR1, USR2 signals from workload.
String format is the same as in the &rsquo;stat.log&rsquo;
file.</p>

<p style="margin-top: 1em">fail when test fails</p>

<p style="margin-top: 1em">score</p>

<p style="margin-top: 1em">Report</p>

<p style="margin-top: 1em">Report.table</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help <br>
Help; display a help message and then exits.</p>

<p style="margin-top: 1em">-V, --version <br>
Version; display version number and then exits.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Verbose</p>

<p style="margin-top: 1em">-a, --ac-ignore <br>
ignore ac adapter state check (on/off)</p>

<p style="margin-top: 1em">-N, --time-stat-ignore <br>
disable time statistics</p>

<p style="margin-top: 1em">-A, --ac-stat-ignore <br>
disable ac adapter statistics</p>

<p style="margin-top: 1em">-c, --cpu-stat-ignore <br>
disable cpu load statistics</p>

<p style="margin-top: 1em">-C, --cpu-add-stat-ignore <br>
disable cpu additional statistics</p>

<p style="margin-top: 1em">-B, --bat-stat-ignore <br>
disable battery statistics</p>

<p style="margin-top: 1em">-X, --disp-stat-ignore <br>
Disable display state statistics</p>

<p style="margin-top: 1em">-H, --hd-stat-ignore <br>
disable hard drive state statistics</p>

<p style="margin-top: 1em">-t seconds, --report-time
seconds <br>
frequency of report line generation in seconds</p>

<p style="margin-top: 1em">-r results_dir, --results
results_dir <br>
name of results directory</p>

<p style="margin-top: 1em">-s, --stat-ignore <br>
disable all statistics</p>

<p style="margin-top: 1em">-w, --work-stat-ignore <br>
disable workload statistics</p>

<p style="margin-top: 1em">-m {0,1}, --stat-memory {0,1}
<br>
dump statistics directly on disk or keep in memory, if
statistics are kept in memory, it will be dumped on disk at
low battery capacity, or at the test end</p>

<p style="margin-top: 1em">0 disk</p>

<p style="margin-top: 1em">1 memory (by default)</p>

<p style="margin-top: 1em">-i, --idle-test <br>
idle test</p>

<p style="margin-top: 1em">-I, --idle <br>
idle workload</p>

<p style="margin-top: 1em">-R, --reader <br>
reader workload</p>

<p style="margin-top: 1em">-D, --developer <br>
developer workload</p>

<p style="margin-top: 1em">-P,&rsquo;--player&quot; <br>
playback workload</p>

<p style="margin-top: 1em">-G, --game <br>
3D-gaming workload</p>

<p style="margin-top: 1em">-O, --office <br>
office productivity workload</p>

<p style="margin-top: 1em">-U path, --user path <br>
user-specified workload (path to executable)</p>

<p style="margin-top: 1em">-g routine, --user-init
routine&quot; <br>
setup routines for user-specified workload</p>

<p style="margin-top: 1em">-Y, --discharging <br>
battery discharge mode</p>

<p style="margin-top: 1em">-Z, --charging <br>
battery charge mode</p>

<p style="margin-top: 1em">-J pid, --jobs pid <br>
make jobs number</p>

<p style="margin-top: 1em">-T seconds, --time seconds <br>
workload time</p>

<p style="margin-top: 1em">-F, --file <br>
workload file</p>

<p style="margin-top: 1em">-W, --prog <br>
workload program name of player (player workload, default
&rsquo;mplayer&rsquo;) name of web-browser (reader workload,
default &rsquo;firefox&rsquo;)</p>

<p style="margin-top: 1em">-L, --title <br>
title of web-browser document</p>

<p style="margin-top: 1em">-M, --manufacturer <br>
enable time and cpu load statistics only</p>

<p style="margin-top: 1em">-S, --show <br>
demo/debug mode, one iteration only</p>

<p style="margin-top: 1em">-n, --show-num <br>
demo/debug mode, &rsquo;show-num&rsquo; iteration</p>

<p style="margin-top: 1em">-j, --show-cnt <br>
demo/debug mode, &rsquo;show-cnt&rsquo; sub iteration</p>

<p style="margin-top: 1em">-T seconds, --show-time seconds
<br>
demo/debug mode, debug time</p>

<p style="margin-top: 1em">-K comment, --comment comment
<br>
user comment for report</p>

<p style="margin-top: 1em">-e application, --init-prog
application <br>
run program before test starting</p>

<p style="margin-top: 1em">-E application, --init-prog-su
application <br>
run program as root before test starting</p>

<p style="margin-top: 1em">-y, --yes <br>
auto &rsquo;yes&rsquo; answer to all questions</p>

<p style="margin-top: 1em">-Q, --debug <br>
debug workload (see cpu-load and disp-load below)</p>

<p style="margin-top: 1em">-p percent, --cpu-load percent
<br>
debug workload, the time cpu loaded in percent</p>

<p style="margin-top: 1em">-d percent, --disp-load percent
<br>
Debug workload, the time display on in percent</p>

<p style="margin-top: 1em">-o {0,1,2}, --output {0,1,2}
<br>
direct workload output:</p>

<p style="margin-top: 1em">0 file</p>

<p style="margin-top: 1em">1 file and console</p>

<p style="margin-top: 1em">2 /dev/null, other - console</p>

<p style="margin-top: 1em">-z, --debug-vars <br>
debug option</p>

<p style="margin-top: 1em">-q file, --debug-vars-file file
<br>
debug option - debug variables file</p>

<p style="margin-top: 1em">-x, --dpms <br>
debug option - try to use display power management</p>

<p style="margin-top: 1em">-u, --spy <br>
debug option - try to find out unexpected system
activity</p>

<p style="margin-top: 1em">-l, --simul-laptop <br>
debug option, laptop simulation</p>

<p style="margin-top: 1em">-b percent, --bat-sync percent
<br>
debug option, battery critical capacity, default 5%</p>

<p style="margin-top: 1em">-f command, --user-field command
<br>
the output of user-specified command being added to
statistics Example: -f &quot;cat
/proc/acpi/thermal_zone/TZ01/temperature | awk &rsquo;{print
}&rsquo;&quot;</p>

<p style="margin-top: 1em">-k num, --stat-system num <br>
debug option, save system files, default 0</p>

<p style="margin-top: 1em">EXAMPLES <br>
bltk -I or --idle <br>
idle workload running</p>

<p style="margin-top: 1em">bltk -R or --reader <br>
reader workload running</p>

<p style="margin-top: 1em">bltk -D or --developer <br>
developer workload running</p>

<p style="margin-top: 1em">bltk -O or --office <br>
office workload running</p>

<p style="margin-top: 1em">bltk -P or --player <br>
player workload running</p>

<p style="margin-top: 1em">bltk -G or --game <br>
game workload running</p>

<p style="margin-top: 1em">bltk -i or --idle-test -T 60 -t
1 <br>
idle test running for 60 seconds, stats interval 1
second</p>

<p style="margin-top: 1em">SEE ALSO <br>
bltk.conf(5), bltk_report(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Konstantin Karasyov &lt;konstantin.a.karasyov@intel.com&gt;
<br>
Vladimir Lebedev &lt;vladimir.p.lebedev@intel.com&gt;</p>

<p style="margin-top: 1em">BLTK 15 July 2008 BLTK(1)</p>
<hr>
</body>
</html>
