<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:04:07 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DIFFSTAT(1) General Commands Manual DIFFSTAT(1)</p>

<p style="margin-top: 1em">NAME <br>
diffstat - make histogram from diff-output</p>

<p style="margin-top: 1em">SYNOPSIS <br>
diffstat [options] [file-specifications]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This program reads the output of diff and displays a
histogram of the insertions, deletions, and modifications
per-file. Diffstat is a program that is useful for reviewing
<br>
large, complex patch files. It reads from one or more input
files which contain output from diff, producing a histogram
of the total lines changed for each file referenced.</p>

<p style="margin-top: 1em">If the input filename ends with
.bz2, .gz, .lzma, .z or .Z, diffstat will read the
uncompressed data via a pipe from the corresponding program.
It also can infer the compression <br>
type from files piped via the standard input.</p>

<p style="margin-top: 1em">Diffstat recognizes the most
popular types of output from diff:</p>

<p style="margin-top: 1em">unified <br>
preferred by the patch utility.</p>

<p style="margin-top: 1em">context <br>
best for readability, but not very compact.</p>

<p style="margin-top: 1em">default <br>
not good for much, but simple to generate.</p>

<p style="margin-top: 1em">Diffstat detects the lines that
are output by diff to tell which files are compared, and
then counts the markers in the first column that denote the
type of change (insertion, <br>
deletion or modification). These are shown in the histogram
as &quot;+&quot;, &quot;-&quot; and &quot;!&quot;
characters.</p>

<p style="margin-top: 1em">If no filename is given on the
command line, diffstat reads the differences from the
standard input.</p>

<p style="margin-top: 1em">OPTIONS <br>
-b ignore lines matching &quot;Binary files XXX and YYY
differ&quot; in the diff</p>

<p style="margin-top: 1em">-c prefix each line of output
with &quot;#&quot;, making it a comment-line for shell
scripts.</p>

<p style="margin-top: 1em">-C add SGR color escape
sequences to highlight the histogram.</p>

<p style="margin-top: 1em">-D destination <br>
specify a directory containing files which can be referred
to as the result of applying the differences. diffstat will
count the lines in the corresponding files (after <br>
adjusting the names by the -p option) to obtain the total
number of lines in each file.</p>

<p style="margin-top: 1em">The remainder, after subtracting
modified and deleted lines, is shown as &quot;unchanged
lines&quot;.</p>

<p style="margin-top: 1em">-d The debug prints a lot of
information. It is normally compiled-in, but can be
suppressed.</p>

<p style="margin-top: 1em">-e file <br>
redirect standard error to file.</p>

<p style="margin-top: 1em">-f format <br>
specify the format of the histogram.</p>

<p style="margin-top: 1em">0 for concise, which shows only
the value and a single histogram code for each of insert
(+), delete (-) or modify (!)</p>

<p style="margin-top: 1em">1 for normal output,</p>

<p style="margin-top: 1em">2 to fill in the histogram with
dots,</p>

<p style="margin-top: 1em">4 to print each value with the
histogram.</p>

<p style="margin-top: 1em">Any nonzero value gives a
histogram. The dots and individual values can be combined,
e.g., -f6 gives both.</p>

<p style="margin-top: 1em">-h prints the usage message and
exits.</p>

<p style="margin-top: 1em">-k suppress the merging of
filenames in the report.</p>

<p style="margin-top: 1em">-K attempt to improve the
annotation of &quot;only&quot; files by looking for a match
in the resulting set of files and inferring whether the file
was added or removed.</p>

<p style="margin-top: 1em">This does not currently work in
combination with -R because diffstat maintains only the
resulting set of files.</p>

<p style="margin-top: 1em">-l lists only the filenames. No
histogram is generated.</p>

<p style="margin-top: 1em">-m merge insert/delete counts
from each &quot;chunk&quot; of the patch file to approximate
a count of the modified lines.</p>

<p style="margin-top: 1em">-n number <br>
specify the minimum width used for filenames. If you do not
specify this, diffstat uses the length of the longest
filename, after stripping common prefixes.</p>

<p style="margin-top: 1em">-N number <br>
specify the maximum width used for filenames. Names longer
than this limit are truncated on the left. If you do not
specify this, diffstat next checks the -n option.</p>

<p style="margin-top: 1em">-o file <br>
redirect standard output to file.</p>

<p style="margin-top: 1em">-p number <br>
override the logic that strips common pathnames, simulating
the patch &quot;-p&quot; option.</p>

<p style="margin-top: 1em">-q suppress the &quot;0 files
changed&quot; message for empty diffs.</p>

<p style="margin-top: 1em">-r code <br>
provides optional rounding of the data shown in histogram,
rather than truncating with error adjustments.</p>

<p style="margin-top: 1em">0 is the default. No rounding is
performed, but accumulated errors are added to following
columns.</p>

<p style="margin-top: 1em">1 rounds the data</p>

<p style="margin-top: 1em">2 rounds the data and adjusts
the histogram to ensure that it displays something if there
are any differences even if those would normally be rounded
to zero.</p>

<p style="margin-top: 1em">-R Assume patch was created with
old and new files swapped.</p>

<p style="margin-top: 1em">-s show only the summary line,
e.g., number of insertions and deletions.</p>

<p style="margin-top: 1em">-S source <br>
this is like the -D option, but specifies a location where
the original files (before applying differences) can be
found.</p>

<p style="margin-top: 1em">-t overrides the histogram,
generates output of comma separated values.</p>

<p style="margin-top: 1em">-u suppress the sorting of
filenames in the report.</p>

<p style="margin-top: 1em">-v show progress, e.g., if the
output is redirected to a file, write progress messages to
the standard error.</p>

<p style="margin-top: 1em">-V prints the current version
number and exits.</p>

<p style="margin-top: 1em">-w number <br>
specify the maximum width of the histogram. The histogram
will never be shorter than 10 columns, just in case the
filenames get too large.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
Diffstat runs in a portable UNIX&Acirc;&reg;
environment.</p>

<p style="margin-top: 1em">You can override the compiled-in
paths of programs used for decompressing input files by
setting environment variables corresponding to their
name:</p>

<p style="margin-top: 1em">DIFFSTAT_BZCAT_PATH <br>
DIFFSTAT_BZIP2_PATH <br>
DIFFSTAT_COMPRESS_PATH <br>
DIFFSTAT_GZIP_PATH <br>
DIFFSTAT_LZCAT_PATH <br>
DIFFSTAT_PCAT_PATH <br>
DIFFSTAT_UNCOMPRESS_PATH <br>
DIFFSTAT_XZ_PATH <br>
DIFFSTAT_ZCAT_PATH</p>

<p style="margin-top: 1em">However, diffstat assumes that
the resulting program uses the same command-line options,
e.g., &quot;-c&quot; to decompress to the standard
output.</p>

<p style="margin-top: 1em">FILES <br>
Diffstat is a single binary module, which uses no auxiliary
files.</p>

<p style="margin-top: 1em">BUGS <br>
Diffstat makes a lot of assumptions about the format of a
diff file.</p>

<p style="margin-top: 1em">There is no way to obtain a
filename from the standard diff between two files with no
options. Context diffs work, as well as unified diffs.</p>

<p style="margin-top: 1em">There&rsquo;s no easy way to
determine the degree of overlap between the
&quot;before&quot; and &quot;after&quot; displays of
modified lines. diffstat simply counts the number of
inserted and deleted <br>
lines to approximate modified lines for the -m option.</p>

<p style="margin-top: 1em">SEE ALSO <br>
diff(1).</p>

<p style="margin-top: 1em">AUTHOR <br>
Thomas Dickey &lt;dickey@invisible-island.net&gt;.</p>
 
<p style="margin-top: 1em">DIFFSTAT(1)</p>
<hr>
</body>
</html>
