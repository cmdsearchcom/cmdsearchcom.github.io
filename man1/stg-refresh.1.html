<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>STG-REFRESH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">STG-REFRESH(1)</td>
    <td class="head-vol">StGit Manual</td>
    <td class="head-rtitle">STG-REFRESH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
stg-refresh - Generate a new commit for the current patch
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>stg</i> refresh [options] [--] [&lt;files or dirs&gt;]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Include the latest work tree and index changes in the current patch. This
  command generates a new git commit object for the patch; the old commit is no
  longer visible.
<div style="height: 1.00em;">&#x00A0;</div>
Refresh will warn if the index is dirty, and require use of either the
  <i>--index</i> or <i>--force</i> options to override this check. This is to
  prevent accidental full refresh when only some changes were staged using git
  add interative mode.
<div style="height: 1.00em;">&#x00A0;</div>
You may optionally list one or more files or directories relative to the current
  working directory; if you do, only matching files will be updated.
<div style="height: 1.00em;">&#x00A0;</div>
Behind the scenes, stg refresh first creates a new temporary patch with your
  updates, and then merges that patch into the patch you asked to have
  refreshed. If you asked to refresh a patch other than the topmost patch, there
  can be conflicts; in that case, the temporary patch will be left for you to
  take care of, for example with stg squash.
<div style="height: 1.00em;">&#x00A0;</div>
The creation of the temporary patch is recorded in a separate entry in the patch
  stack log; this means that one undo step will undo the merge between the other
  patch and the temp patch, and two undo steps will additionally get rid of the
  temp patch.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-u, --update
<div style="margin-left: 4.00ex;">Only update the current patch files.</div>
<div class="Pp"></div>
-i, --index
<div style="margin-left: 4.00ex;">Instead of setting the patch top to the
  current contents of the worktree, set it to the current contents of the
  index.</div>
<div class="Pp"></div>
-F, --force
<div style="margin-left: 4.00ex;">Instead of warning the user when some work has
  already been staged (such as with git add interactive mode) force a full
  refresh.</div>
<div class="Pp"></div>
-p PATCH, --patch PATCH
<div style="margin-left: 4.00ex;">Refresh (applied) PATCH instead of the top
  patch.</div>
<div class="Pp"></div>
-e, --edit
<div style="margin-left: 4.00ex;">Invoke an editor for the patch
  description.</div>
<div class="Pp"></div>
-a NOTE, --annotate NOTE
<div style="margin-left: 4.00ex;">Annotate the patch log entry.</div>
<div class="Pp"></div>
-m MESSAGE, --message MESSAGE
<div style="margin-left: 4.00ex;">Use MESSAGE instead of invoking the
  editor.</div>
<div class="Pp"></div>
-f FILE, --file FILE
<div style="margin-left: 4.00ex;">Use the contents of FILE instead of invoking
  the editor. (If FILE is &quot;-&quot;, write to stdout.)</div>
<div class="Pp"></div>
--sign
<div style="margin-left: 4.00ex;">Add a &quot;Signed-off-by:&quot; to the end of
  the patch.</div>
<div class="Pp"></div>
--ack
<div style="margin-left: 4.00ex;">Add an &quot;Acked-by:&quot; line to the end
  of the patch.</div>
<div class="Pp"></div>
--author &quot;NAME &lt;EMAIL&gt;&quot;
<div style="margin-left: 4.00ex;">Set the author details.</div>
<div class="Pp"></div>
--authname NAME
<div style="margin-left: 4.00ex;">Set the author name.</div>
<div class="Pp"></div>
--authemail EMAIL
<div style="margin-left: 4.00ex;">Set the author email.</div>
<div class="Pp"></div>
--authdate DATE
<div style="margin-left: 4.00ex;">Set the author date.</div>
<h1 class="Sh" title="Sh" id="STGIT"><a class="selflink" href="#STGIT">STGIT</a></h1>
Part of the StGit suite - see <b>stg</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">02/12/2017</td>
    <td class="foot-os">StGit</td>
  </tr>
</table>
</body>
</html>
