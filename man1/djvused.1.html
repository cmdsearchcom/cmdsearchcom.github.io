<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DJVUSED(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DJVUSED(1)</td>
    <td class="head-vol">DjVuLibre-3.5</td>
    <td class="head-rtitle">DJVUSED(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
djvused - Multi-purpose DjVu document editor.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>djvused [</b><i>options</i><b>] </b><i>djvufile</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Program <b>djvused</b> is a powerful command line tool for manipulating
  multi-page documents, creating or editing annotation chunks, creating or
  editing hidden text layers, pre-computing thumbnail images, and more. The
  program first reads the DjVu document <i>djvufile</i> and executes a number of
  djvused commands.
<div style="height: 1.00em;">&#x00A0;</div>
Djvused commands can be read from a specific file (when option <b>-f</b> is
  specified), read from the command line (when option <b>-e</b> is specified),
  or read from the standard input (the default).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Cause <b>djvused</b> to print a command line prompt before
      reading commands and a brief message describing how each command was
      executed. This option is very useful for debugging djvused scripts and
      also for interactively entering djvused commands on the standard
    input.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f </b><i>scriptfile</i></dt>
  <dd class="It-tag">Cause <b>djvused</b> to read commands from file
      <i>scriptfile</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e </b><i>command</i></dt>
  <dd class="It-tag">Cause <b>djvused</b> to execute the commands specified by
      the option argument <i>commands</i>. It is advisable to surround the
      djvused commands by single quotes in order to prevent unwanted shell
      expansion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">Cause <b>djvused</b> to save the file <i>djvufile</i> after
      executing the specified commands. This is similar to executing command
      <b>save</b> immediately before terminating the program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b></dt>
  <dd class="It-tag">Cause <b>djvused</b> to print hidden text and annotations
      as UTF-8 instead of encoding non-ASCII characters with octal escape
      sequences for maximal portability. This option is convenient for manually
      editing or viewing the djvused output. This option also causes the
      emission of an UTF-8 BOM under Windows.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Cause <b>djvused</b> to disregard save commands. This is
      useful for debugging djvused scripts without overwriting files on your
      disk.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DJVUSED_EXAMPLES"><a class="selflink" href="#DJVUSED_EXAMPLES">DJVUSED
  EXAMPLES</a></h1>
There are many ways to use program <b>djvused</b>. The following examples
  illustrate some common uses of this program.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Obtaining_the_size_of_a_page"><a class="selflink" href="#Obtaining_the_size_of_a_page">&#x2002;&#x2002;&#x2002;Obtaining
  the size of a page</a></h1>
Command <b>size</b> outputs the width and height of the selected pages using a
  <small>HTML</small> friendly syntax. For instance, the following command
  prints the size of page <i>3</i> of document <i>myfile.djvu</i>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e 'select 3;
      size'</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="Extracting_the_hidden_text"><a class="selflink" href="#Extracting_the_hidden_text">&#x2002;&#x2002;&#x2002;Extracting
  the hidden text</a></h1>
Command <b>print-pure-txt</b> outputs the text associated with a page or a
  document. For instance, the following shell command outputs the text for the
  entire document. Lines and pages are delimited by the usual control
  characters.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e
      'print-pure-txt'</b></dd>
</dl>
<div class="Pp"></div>
Command <b>print-txt</b> produces a more extensive output describing the
  structure and the location of the text components. The syntax of this output
  is described later in this man page. For instance, the following shell command
  outputs extended text information for page <i>3</i> of document
  <i>myfile.djvu</i>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e 'select 3;
      print-txt'</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="Extracting_the_annotations"><a class="selflink" href="#Extracting_the_annotations">&#x2002;&#x2002;&#x2002;Extracting
  the annotations</a></h1>
Annotation data can be extracted using command <b>print-ant</b>. The syntax of
  the annotation data is described later in this man page. For instance, the
  following shell command outputs the annotation data for the first page of
  document <b>myfile.djvu</b>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e 'select 1;
      print-ant'</b></dd>
</dl>
<div class="Pp"></div>
Command <b>print-ant</b> only prints the annotations stored in the selected
  component file. Command <b>print-merged-ant</b> also retrieves annotations
  from all the component files referenced by the current page (using
  <small>INCL</small> chunks) and prints the merged information.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Dumping/restoring_annotations_and_text"><a class="selflink" href="#Dumping/restoring_annotations_and_text">&#x2002;&#x2002;&#x2002;Dumping/restoring
  annotations and text</a></h1>
Three commands, <b>output-txt</b>, <b>output-ant</b>, and <b>output-all</b>,
  produce djvused scripts. For instance, the following shell command produces a
  djvused script, <i>myfile.dsed</i>, that recreates all the text and annotation
  data in document <i>myfile.djvu</i>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e 'output-all' &gt;
      </b><i>myfile.dsed</i></dd>
</dl>
<div class="Pp"></div>
Script <i>myfile.dsed</i> is a text file that can be easily edited. The
  following shell command then recreates the text and annotation information in
  file <i>myfile.djvu</i>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -f
      </b><i>myfile.dsed</i><b> -s</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Extracting_a_page"><a class="selflink" href="#Extracting_a_page">&#x2002;&#x2002;&#x2002;Extracting
  a page</a></h1>
Both commands <b>save-page</b> and <b>save-page-with</b> create a DjVu file
  representing the selected component file of a document. The following shell
  command, for instance, creates a file <i>p05.djvu</i> containing page <i>5</i>
  of document <i>myfile.djvu</i>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e 'select 5;
      save-page </b><i>p05.djvu</i><b>'</b></dd>
</dl>
<div class="Pp"></div>
Each page of a document might import data from another component file using the
  so-called inclusion ( <small>INCL</small> ) chunks. Command <b>save-page</b>
  then produces a file with unresolved references to imported data. Such a file
  should then be made part of a multi-page document containing the required data
  in other component files. On the other hand, command <b>save-page-with</b>
  copies all the imported data into the output file. This file is directly
  usable. Yet collecting several such files into a multi-page document might
  lead to useless data replication.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Pre-computing_thumbnails"><a class="selflink" href="#Pre-computing_thumbnails">&#x2002;&#x2002;&#x2002;Pre-computing
  thumbnails</a></h1>
Commands <b>set-thumbnails</b> constructs thumbnails that can be later displayed
  by DjVu viewers. The following shell command, for instance, computes
  thumbnails of size <i>64</i>x<i>64</i> pixels for all pages of file
  <i>myfile.djvu</i>.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>djvused </b><i>myfile.djvu</i><b> -e 'set-thumbnails 64'
      -s</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DJVUSED_COMMANDS"><a class="selflink" href="#DJVUSED_COMMANDS">DJVUSED
  COMMANDS</a></h1>
Command lines might contain zero, one, or more djvused commands and an optional
  comment. Multiple djvused commands must be separated by a semicolon character
  ';'. Comments are introduced by the '#' character and extend until the end of
  the command line.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Selection_commands"><a class="selflink" href="#Selection_commands">&#x2002;&#x2002;&#x2002;Selection
  commands</a></h1>
Multi-page DjVu documents are composed of a number of component files. Most
  component files describe a specific page of a document. Some component files
  contain information shared by several pages such as shared image data, shared
  annotations or thumbnails. Many djvused commands operate on selected component
  files. All component files are initially selected. The following commands are
  useful for changing the selection.
<dl class="Bl-tag">
  <dt class="It-tag"><b>n</b></dt>
  <dd class="It-tag">Print the total number of pages in the document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ls</b></dt>
  <dd class="It-tag">List all component files in the document. Each line
      contains an optional page number, a letter describing the component file
      type, the size of the component file, and identifier of the component
      file. Component file type letters <b>P</b>, <b>I</b>, <b>A</b>, and
      <b>T</b> respectively stand for page data, shared image data, shared
      annotation data, and thumbnail data. Page numbers are only listed for
      component files containing page data. When it is set, the optional page
      title (see command <b>set-page-title</b> below) is displayed after the
      component file identifier.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select [</b><i>fileid</i><b>]</b></dt>
  <dd class="It-tag">Select the component file identified by argument
      <i>fileid</i>. Argument <i>fileid</i> must be either a page number or a
      component file identifier. The <b>select</b> command selects all component
      files when the argument <i>fileid</i> is omitted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select-shared-ant</b></dt>
  <dd class="It-tag">Select a component file containing shared annotations. Only
      one such component file is supported by the current DjVu software. This
      component file usually contains annotations pertaining to the whole
      document as opposed to specific pages. An error message is displayed if
      there is no such component file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>create-shared-ant</b></dt>
  <dd class="It-tag">Create and select a component file containing shared
      annotations. This command only selects the shared annotation component
      file if such a component file already exists. Otherwise it creates a new
      shared annotation component file and makes sure that it is imported by all
      pages in the document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>showsel</b></dt>
  <dd class="It-tag">Shows the currently selected component files with the same
      format as command <b>ls</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Text_and_annotation_commands"><a class="selflink" href="#Text_and_annotation_commands">&#x2002;&#x2002;&#x2002;Text
  and annotation commands</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-pure-txt</b></dt>
  <dd class="It-tag">Print the text stored in the hidden text layer of the
      selected pages. A similar capability is offered by program <b>djvutxt</b>.
      Structural information is sometimes represented by control characters.
      Text from different pages is delimited by form feed characters
      (&quot;\f&quot;). Lines are delimited by newline characters
      (&quot;\n&quot;). Columns, regions, and paragraphs are sometimes delimited
      by vertical tab (&quot;\013&quot;), group separators (&quot;\035&quot;)
      and unit separators (&quot;\037&quot;) respectively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-txt</b></dt>
  <dd class="It-tag">Prints extensive hidden text information for the selected
      pages. This information describes the structure of the text on the
      document page and locates the structural elements in the page image. The
      syntax of this output is described later in this man page.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove-txt</b></dt>
  <dd class="It-tag">Remove the hidden text information from the selected
      component files. For instance, executing commands <b>select</b> and
      <b>remove-txt</b> removes all hidden text information from the DjVu
      document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-txt [</b><i>djvusedtxtfile</i><b>]</b></dt>
  <dd class="It-tag">Insert hidden text information into the selected pages. The
      optional argument <i>djvusedtxtfile</i> names a file containing the hidden
      text information. This file must contain data similar to what is produced
      by command <b>print-txt</b>. When the optional argument is omitted, the
      program reads the hidden text information from the djvused script until
      reaching an end-of-file or a line containing a single period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output-txt</b></dt>
  <dd class="It-tag">Prints a djvused script that reconstructs the hidden text
      information for the selected pages. This script can later be edited and
      executed by invoking program <b>djvused</b> with option <b>-f</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-ant</b></dt>
  <dd class="It-tag">Prints the annotations of the selected component file. The
      annotation data is represented using a simple syntax described later in
      this document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-merged-ant</b></dt>
  <dd class="It-tag">Merge the annotations stored in the selected component
      files with the annotations imported from other component files such as the
      shared annotation component file.. The annotation data is represented
      using a simple syntax described later in this document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove-ant</b></dt>
  <dd class="It-tag">Remove the annotation information from the selected
      component files. For instance, executing commands <b>select</b> and
      <b>remove-ant</b> removes all annotation information from the DjVu
      document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-ant [</b><i>djvusedantfile</i><b>]</b></dt>
  <dd class="It-tag">Insert annotations into the selected component file. The
      optional argument <i>djvusedantfile</i> names a file containing the
      annotation data. This file must contain data similar to what is produced
      by command <b>print-ant</b>. When the optional argument is omitted, the
      program reads the annotation data from the djvused script itself until
      reaching an end-of-file or a line containing a single period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output-ant</b></dt>
  <dd class="It-tag">Print a djvused script that reconstructs the annotation
      information for the selected pages. This script can later be edited and
      executed by invoking program <b>djvused</b> with option <b>-f</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-meta</b></dt>
  <dd class="It-tag">Print the metadata part of the annotations for the selected
      component file. This command displays a subset of the information printed
      by command <b>print-ant</b> using a different syntax. metadata are
      organized as key-value pairs. Each printed line contains the key name such
      as <b>author</b>, <b>title</b>,etc., followed by a tab character
      (&quot;\t&quot;) and a double-quoted string representing the
      <small>UTF-8</small> encoded metadata value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove-meta</b></dt>
  <dd class="It-tag">Remove the metadata part of the annotations of the selected
      component files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-meta [</b><i>djvusedmetafile</i><b>]</b></dt>
  <dd class="It-tag">Set the metadata part of the annotations of the selected
      component file. The remaining part of the annotations is left unchanged.
      The optional argument <i>djvusedmetafile</i> names a file containing the
      metadata. This file must contain data similar to what is produced by
      command <b>print-meta</b>. When the optional argument is omitted, the
      program reads the annotation data from the djvused script itself until
      reaching an end-of-file or a line containing a single period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-xmp</b></dt>
  <dd class="It-tag">Print the XMP metadata string contained in the annotation
      chunk of the selected component file. This command displays in fact a
      subset of the information printed by command <b>print-ant</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove-xmp</b></dt>
  <dd class="It-tag">Removes the XMP tag from the annotation chunk of the
      selected component file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-xmp [</b><i>xmpfile</i><b>]</b></dt>
  <dd class="It-tag">Set the XMP metadata part of the annotations of the
      selected component file. The remaining part of the annotations is left
      unchanged. The optional argument <i>xmpfile</i> names a file containing
      the XMP metadata in a format similar to that produced by command
      <b>print-xmp</b>. When the optional argument is omitted, the program reads
      the XMP annotation data from the djvused script itself until reaching an
      end-of-file or a line containing a single period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output-all</b></dt>
  <dd class="It-tag">Print a djvused script that reconstructs both the hidden
      text and the annotation information for the selected pages. This script
      can later be edited and executed by invoking program <b>djvused</b> with
      option <b>-f</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Outline/bookmarks_commands"><a class="selflink" href="#Outline/bookmarks_commands">&#x2002;&#x2002;&#x2002;Outline/bookmarks
  commands</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print-outline</b></dt>
  <dd class="It-tag">Print the outline of the document. Nothing is printed if
      the document contains no outline.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove-outline</b></dt>
  <dd class="It-tag">Removes the outline from the document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-outline [</b><i>djvusedoutlinefile</i><b>]</b></dt>
  <dd class="It-tag">Insert outline information into the document. The optional
      argument <i>djvusedoutlinefile</i> names a file containing the outline
      information. This file must contain data similar to what is produced by
      command <b>print-outline</b>. When the optional argument is omitted, the
      program reads the hidden text information from the djvused script until
      reaching an end-of-file or a line containing a single period.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Thumbnail_commands"><a class="selflink" href="#Thumbnail_commands">&#x2002;&#x2002;&#x2002;Thumbnail
  commands</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-thumbnails </b><i>sz</i></dt>
  <dd class="It-tag">Compute thumbnails of size <i>sz</i>x<i>sz</i> pixels and
      insert them into the document. DjVu viewers can later display these
      thumbnails very efficiently without need to download the data for each
      page. Typical thumbnail size range from 48 to 128 pixels.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remove-thumbnails</b></dt>
  <dd class="It-tag">Remove the pre-computed thumbnails from the DjVu document.
      New thumbnails can then be computed using command <b>set-thumbnails</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Save_commands"><a class="selflink" href="#Save_commands">&#x2002;&#x2002;&#x2002;Save
  commands</a></h1>
The above commands only modify the memory image of the DjVu document. The
  following commands provide means to save the modified data into the file
  system.
<dl class="Bl-tag">
  <dt class="It-tag"><b>save</b></dt>
  <dd class="It-tag">Save the modified DjVu document back into the input file
      <i>djvufile</i> specified by the arguments of the program <b>djvused</b>.
      Nothing is done if the DjVu file was not modified. Passing option
      <b>-s</b> program <b>djvused</b> is equivalent to executing command
      <b>save</b> before exiting the program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-bundled </b><i>filename</i></dt>
  <dd class="It-tag">Save the current DjVu document as a bundled multi-page DjVu
      document named <i>filename</i>. A similar capability is offered by program
      <b>djvmcvt</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-indirect </b><i>filename</i></dt>
  <dd class="It-tag">Save the current DjVu document as an indirect multi-page
      DjVu document. The index file of the indirect document will be named
      <b>filename</b>. All other files composing the indirect document will be
      saved into the same directory as the index file. A similar capability is
      offered by program <b>djvmcvt</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-page </b><i>filename</i></dt>
  <dd class="It-tag">Save the selected component file into DjVu file
      <i>filename</i>. The selected component file might import data from
      another component file using the so-called inclusion ( <small>INCL</small>
      ) chunks. This command then produces a file with unresolved references to
      imported data. Such a file should then be made part of a multi-page
      document containing the required data in other component files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save-page-with </b><i>filename</i></dt>
  <dd class="It-tag">Save the selected component file into DjVu file
      <i>filename</i>. All data imported from other component files is copied
      into the output file as well. This command always produces a usable DjVu
      file. On the other hand, collecting several such files into a multi-page
      document might lead to useless data replication.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Miscellaneous_commands"><a class="selflink" href="#Miscellaneous_commands">&#x2002;&#x2002;&#x2002;Miscellaneous
  commands</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b></dt>
  <dd class="It-tag">Display a help message listing all commands supported by
      <b>djvused</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dump</b></dt>
  <dd class="It-tag">Display the <small>EA IFF 85</small> structure of the
      document or of the selected component file. A similar capability is
      offered by program <b>djvudump</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>size</b></dt>
  <dd class="It-tag">Display the width and the height of the selected pages. The
      dimensions of each page are displayed using a syntax suitable for direct
      insertion into the <small>&lt;EMBED...&gt;&lt;/EMBED&gt;</small> tags.
      This command also displays the default page orientation when it is
      different from zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-rotation [+-]</b><i>rot</i></dt>
  <dd class="It-tag">Changes the default orientation of the selected pages. The
      orientation is expressed as an integer in range 0..3 representing a number
      of 90 degree counter-clockwise rotations. When the argument is preceded by
      a sign <b>+</b> or <b>-</b>, argument <i>rot</i> counts how many
      additional 90 degree counter-clockwise rotations should be applied to the
      page. Otherwise, argument <i>rot</i> represents the desired absolute page
      orientation. Only DjVu pages can be rotated. Pages represented as a raw
      IW44 image cannot be rotated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-dpi </b><i>dpi</i></dt>
  <dd class="It-tag">Sets the resolution of the page image in dots per inche.
      Argument <i>dpi</i> should be in range 25..6000.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set-page-title </b><i>title</i></dt>
  <dd class="It-tag">Sets a page title for the selected page. When page titles
      are available, recent versions of the DjVuLibre viewers display these page
      titles instead of page numbers and also accept them in page selection
      options. Command <b>ls</b> can be used to see both the page titles and
      page identifiers. To unset a page title, simply make it equal to the page
      identifier.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DJVUSED_FILE_FORMATS"><a class="selflink" href="#DJVUSED_FILE_FORMATS">DJVUSED
  FILE FORMATS</a></h1>
Djvused uses a simple parenthesized syntax to represent both annotations and
  hidden text.
<dl class="Bl-tag">
  <dt class="It-tag">*</dt>
  <dd class="It-tag">This syntax is the native syntax used by DjVu for storing
      annotations. Program <b>djvused</b> simply compresses the annotation data
      using the <b>bzz</b>(1) algorithm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">*</dt>
  <dd class="It-tag">This syntax differs from the native syntax used by DjVu for
      storing the hidden text. Program <b>djvused</b> performs the translations
      between the compact binary representation used by DjVu and the easily
      modifiable parenthesized syntax.</dd>
</dl>
<h1 class="Sh" title="Sh" id="General_syntax"><a class="selflink" href="#General_syntax">&#x2002;&#x2002;&#x2002;General
  syntax</a></h1>
Djvused files are <small>ASCII</small> text files. The legal characters in
  djvused files are the printable <small>ASCII</small> characters and the space,
  tab, cr, and nl characters. Using other characters has undefined results.
<div style="height: 1.00em;">&#x00A0;</div>
Djvused files are composed of a sequence of expressions separated by blank
  characters (space, tab, cr, or nl). There are four kind of expressions, namely
  integers, symbols, strings and lists.
<dl class="Bl-tag">
  <dt class="It-tag">Integers:</dt>
  <dd class="It-tag">Integer numbers are represented by one or more digits, with
      the usual interpretation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Symbols:</dt>
  <dd class="It-tag">Symbols, or identifiers, are sequences of printable ascii
      characters representing a name or a keyword. Acceptable characters are the
      alpha-numeric characters, the underscore &quot;_&quot;, the minus
      character &quot;-&quot;, and the hash character &quot;#&quot;. Names
      should not begin with a digit or a minus character.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Strings:</dt>
  <dd class="It-tag">Strings denote an arbitrary sequence of bytes, usually
      interpreted as a sequence of <small>UTF-8</small> encoded characters.
      Strings in djvused files are similar to strings in the C language. They
      are surrounded by double quote characters. Certain sequences of characters
      starting with a backslash (&quot;\&quot;) have a special meaning. A
      backslash followed by letter &quot;a&quot;, &quot;b&quot;, &quot;t&quot;,
      &quot;n&quot;, &quot;v&quot;, &quot;f&quot;, &quot;r&quot;, &quot;\&quot;,
      and stands for the ascii character BEL(007), BS(008), HT(009), LF(010),
      VT(011), FF(012), CR(013), BACKSLASH(134) and DOUBLEQUOTE(042)
      respectively. A backslash followed by one to three digits stands for the
      byte whose octal code is expressed by the digits. All other backslash
      sequences are illegal. All non printable ascii characters must be
    escaped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Lists:</dt>
  <dd class="It-tag">Lists are sequence of expressions separated by blanks and
      surrounded by parentheses. All expressions types are acceptable within a
      list, including sub-lists.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Hidden_text_syntax"><a class="selflink" href="#Hidden_text_syntax">&#x2002;&#x2002;&#x2002;Hidden
  text syntax</a></h1>
The building blocks of the hidden text syntax are lists representing each
  structural component of the hidden text. Structural components have the
  following form:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(</b><i>type</i><b> </b><i>xmin</i><b>
      </b><i>ymin</i><b> </b><i>xmax</i><b> </b><i>ymax</i><b> ... )</b></dd>
</dl>
<div class="Pp"></div>
The symbol <i>type</i> must be one of <b>page</b>, <b>column</b>, <b>region</b>,
  <b>para</b>, <b>line</b>, <b>word</b>, or <b>char</b>, listed here by
  decreasing order of importance. The integers <i>xmin</i>, <i>ymin</i>,
  <i>xmax</i>, and <i>ymax</i> represent the coordinates of a rectangle
  indicating the position of the structural component in the page. Coordinates
  are measured in pixels and have their origin at the bottom left corner of the
  page. The remaining expressions in the list either is a single string
  representing the encoded text associated with this structural component, or is
  a sequence of structural components with a lesser type.
<div class="Pp"></div>
The hidden text for each page is simply represented by a single structural
  element of type <b>page</b>. Various level of structural information are
  acceptable. For instance, the page level component might only specify a page
  level string, or might only provide a list of lines, or might provide a full
  hierarchy down to the individual characters.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Outline/Bookmark_syntax"><a class="selflink" href="#Outline/Bookmark_syntax">&#x2002;&#x2002;&#x2002;Outline/Bookmark
  syntax</a></h1>
The outline syntax is a single list of the form
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(bookmarks ...)</b></dd>
</dl>
<div class="Pp"></div>
The first element of the list is symbol <b>bookmarks</b>. The subsequent
  elements are lists representing the toplevel outline entries. Each outline
  entry is represented by a list with the following form:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(</b><i>title</i><b> </b><i>url</i><b> ... )</b></dd>
</dl>
<div class="Pp"></div>
The string <i>title</i> is the title of the outline entry. The destination
  string <i>url</i> can be either an arbitrary percent encoded
  <small>URL,</small> or composed of the hash character (&quot;#&quot;) followed
  by a page name or number, or composed of the question mark character
  (&quot;?&quot;) followed by cgi-style arguments interpreted by the djvu
  viewer. The remaining expressions in the list describe subentries of this
  outline entry.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Annotation_syntax"><a class="selflink" href="#Annotation_syntax">&#x2002;&#x2002;&#x2002;Annotation
  syntax</a></h1>
Annotations are represented by a sequence of annotation expressions. The
  following annotation expressions are recognized:
<dl class="Bl-tag">
  <dt class="It-tag"><b>(background </b><i>color</i><b>)</b></dt>
  <dd class="It-tag">Specify the color of the viewer area surrounding the DjVu
      image. Colors are represented with the X11 hexadecimal syntax
      <b>#RRGGBB</b>. For instance, <b>#000000</b> is black and <b>#FFFFFF</b>
      is white.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(zoom </b><i>zoomvalue</i><b>)</b></dt>
  <dd class="It-tag">Specify the initial zoom factor of the image. Argument
      <i>zoomvalue</i> can be one of <b>stretch</b>, <b>one2one</b>,
      <b>width</b>, <b>page</b>, or composed of the letter <b>d</b> followed by
      a number in range 1 to 999 representing a zoom factor (such as in
      <b>d300</b> or <b>d150</b> for instance.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(mode </b><i>modevalue</i><b>)</b></dt>
  <dd class="It-tag">Specify the initial display mode of the image. Argument
      <i>modevalue</i> is one of <b>color</b>, <b>bw</b>, <b>fore</b>, or
      <b>back</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(align </b><i>horzalign</i><b>
    </b><i>vertalign</i><b>)</b></dt>
  <dd class="It-tag">Specify how the image should be aligned on the viewer
      surface. By default the image is located in the center. Argument
      <i>horzalign</i> can be one of <b>left</b>, <b>center</b>, or
      <b>right</b>. Argument <i>vertalign</i> can be one of <b>top</b>,
      <b>center</b>, or <b>bottom</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(maparea </b><i>url</i><b> </b><i>comment</i><b>
    </b><i>area</i><b> ...)</b></dt>
  <dd class="It-tag">Define an hyper-link for the specified destination.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
Argument <i>url</i> can have one of the following forms:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><i>href</i>
    <div>&#x00A0;</div>
    <b>(url </b><i>href</i><b> </b><i>target</i><b>)</b>
    <div>&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
where <i>href</i> is a string representing the destination and <i>target</i> is
  a string representing the target frame for the hyper-link, as defined by the
  <small>HTML</small> anchor tag <small>&lt;A&gt;.</small> The destination
  string <i>href</i> can be either an arbitrary percent encoded
  <small>URL,</small> or composed of the hash character (&quot;#&quot;) followed
  by a page name or number, or composed of the question mark character
  (&quot;?&quot;) followed by cgi-style arguments interpreted by the djvu
  viewer. Page numbers may be prefixed with an optional sign to represent a page
  displacement. For instance the strings <b>&quot;#-1&quot;</b> and
  <b>&quot;#+1&quot;</b> can be used to access the previous page and the next
  page.
<div style="height: 1.00em;">&#x00A0;</div>
Argument <i>comment</i> is a string that might be displayed by the viewer when
  the user moves the mouse over the hyper-link.
<div style="height: 1.00em;">&#x00A0;</div>
Argument <i>area</i> defines the shape and the location of the hyperlink. The
  following forms are recognized:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(rect </b><i>xmin</i><b> </b><i>ymin</i><b>
      </b><i>width</i><b> </b><i>height</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(oval </b><i>xmin</i><b> </b><i>ymin</i><b> </b><i>width</i><b>
      </b><i>height</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(poly </b><i>x0</i><b> </b><i>y0</i><b> </b><i>x1</i><b> </b><i>y1</i><b>
      ... )</b>
    <div>&#x00A0;</div>
    <b>(text </b><i>xmin</i><b> </b><i>ymin</i><b> </b><i>width</i><b>
      </b><i>height</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(line </b><i>x0</i><b> </b><i>y0</i><b> </b><i>x1</i><b>
      </b><i>y1</i><b>)</b></dd>
</dl>
<div class="Pp"></div>
All parameters are numbers representing coordinates. Coordinates are measured in
  pixels and have their origin at the bottom left corner of the page.
<div style="height: 1.00em;">&#x00A0;</div>
The remaining expressions in the <b>maparea</b> list represent the visual effect
  associated with the hyper-link.
<div style="height: 1.00em;">&#x00A0;</div>
A first set of options defines how borders are drawn for <b>rect</b>,
  <b>oval</b>, <b>polygon</b>, or <b>text</b> hyperlink areas.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(none)</b>
    <div>&#x00A0;</div>
    <b>(xor)</b>
    <div>&#x00A0;</div>
    <b>(border </b><i>color</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(shadow_in [</b><i>thickness</i><b>])</b>
    <div>&#x00A0;</div>
    <b>(shadow_out [</b><i>thickness</i><b>])</b>
    <div>&#x00A0;</div>
    <b>(shadow_ein [</b><i>thickness</i><b>])</b>
    <div>&#x00A0;</div>
    <b>(shadow_eout [</b><i>thickness</i><b>])</b></dd>
</dl>
<div class="Pp"></div>
where parameter <i>color</i> has syntax <b>#RRGGBB</b> as described above, and
  parameter thickness is an integer in range 1 to 32. The last four border
  options are only supported for <b>rect</b> hyperlink areas. Although the
  border mode defaults to <b>(xor)</b>, it is wise to always specify the border
  mode. Border options do not apply to <b>line</b> areas.
<div style="height: 1.00em;">&#x00A0;</div>
When a border option is specified, the border becomes visible when the user
  moves the mouse over the hyperlink. The border may be made always visible by
  using the following option:
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(border_avis)</b></dd>
</dl>
<div class="Pp"></div>
The following two options may be used with <b>rect</b> hyperlink areas. The
  complete area will be highlighted using the specified color at the specified
  opacity (0-100, default 50).
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(hilite </b><i>color</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(opacity </b><i>op</i><b>)</b></dd>
</dl>
<div class="Pp"></div>
This is often used with an empty <small>URL</small> for simply emphasizing a
  specific segment of an image.
<div class="Pp"></div>
The following three options may be used with line areas to specify an optional
  ending arrow, the line width and color. The default is a black line with width
  1 and without arrow.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(arrow)</b>
    <div>&#x00A0;</div>
    <b>(width </b><i>w</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(lineclr </b><i>color</i><b>)</b></dd>
</dl>
<div class="Pp"></div>
Finally the following three options can be used with text areas. The default
  background color is transparent. The default text color is black. The
  <b>pushpin</b> option indicates that the text is symbolized by a small pushpin
  icon. Clicking the icon reveals the text.
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>(backclr </b><i>bkcolor</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(textclr </b><i>txtcolor</i><b>)</b>
    <div>&#x00A0;</div>
    <b>(pushpin)</b></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(metadata ... (</b><i>key</i><b> </b><i>value</i><b>)
    ... )</b></dt>
  <dd class="It-tag">Define metadata entries. Each entry is identified by a
      symbol <i>key</i> representing the nature of the meta data entry. The
      string <i>value</i> represents the value associated with the corresponding
      key. Two sets of keys are noteworthy: keys borrowed from the BibTex
      bibliography system, and keys borrowed from the PDF DocInfo metadata.
      BibTex keys are always expressed in lowercase, such as <b>year</b>,
      <b>booktitle</b>, <b>editor</b>, <b>author</b>, etc.. DocInfo keys start
      with an uppercase letter, such as <b>Title</b>, <b>Author</b>,
      <b>Subject</b>, <b>Creator</b>, <b>Produced</b>, <b>Trapped</b>,
      <b>CreationDate</b>, and <b>ModDate</b>. The values associated with the
      last two keys should be dates expressed according to RFC 3339.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="LIMITATIONS"><a class="selflink" href="#LIMITATIONS">LIMITATIONS</a></h1>
The current version of program <b>djvused</b> only supports selecting one
  component file or all component files. There is no way to select only a few
  component files.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CREDITS"><a class="selflink" href="#CREDITS">CREDITS</a></h1>
This program was initially written by L&#x00E9;on Bottou
  &lt;leonb@users.sourceforge.net&gt; and was improved by Yann Le Cun
  &lt;profshadoko@users.sourceforge.net&gt;, Florin Nicsa, Bill Riemers
  &lt;docbill@sourceforge.net&gt; and many others.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>djvu</b>(1), <b>djvutxt</b>(1), <b>djvmcvt</b>(1), <b>djvudump</b>(1),
  <b>bzz</b>(1), Emacs djvused front end <b>djvu.el</b> on <small>GNU
  Elpa</small> repository.</div>
<table class="foot">
  <tr>
    <td class="foot-date">5/22/2005</td>
    <td class="foot-os">DjVuLibre-3.5</td>
  </tr>
</table>
</body>
</html>
