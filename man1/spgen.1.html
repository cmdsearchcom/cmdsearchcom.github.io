<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:38:41 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>spgen(1) General Commands Manual spgen(1)</p>

<p style="margin-top: 1em">NAME <br>
spgen - harden a Coccinelle semantic patch</p>

<p style="margin-top: 1em">spgen &lt;SmPL-patch.cocci&gt;
[-c | --config &lt;spgen config&gt;] [-i | --interactive]
[--default] [-o &lt;output file&gt;] [--no-output] [-help |
--help]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
spgen is a source-to-source transformation tool for
hardening Coccinelle semantic patch scripts. <br>
It takes a semantic patch and outputs the same patch with
added metadata and more options in the form of virtual
rules:</p>

<p style="margin-top: 1em">- patch: used for + or - rules
that transform matching C code.</p>

<p style="margin-top: 1em">- context: used for * rules that
find matching C code.</p>

<p style="margin-top: 1em">- org: used for script rules
that output matches in emacs org format.</p>

<p style="margin-top: 1em">- report: used for script rules
that output matches in pretty print format.</p>

<p style="margin-top: 1em">A semantic patch hardened with
spgen thus preserves the functionality of the original
patch, but allows the user to control the output mode.</p>

<p style="margin-top: 1em">The user can also specify
metadata to be included in the hardened script.</p>

<p style="margin-top: 1em">- Description of the
patch&rsquo;s functionality.</p>

<p style="margin-top: 1em">- Confidence level for the
patch.</p>

<p style="margin-top: 1em">- Authors of the patch.</p>

<p style="margin-top: 1em">- URL for gaining more
information about the patch.</p>

<p style="margin-top: 1em">- Known limitations of the
patch.</p>

<p style="margin-top: 1em">- Keywords for the patch.</p>

<p style="margin-top: 1em">- spatch options with which to
run the patch.</p>

<p style="margin-top: 1em">- Additional comments regarding
the patch.</p>

<p style="margin-top: 1em">- Rule messages to be output in
script mode for each match.</p>

<p style="margin-top: 1em">The metadata can be specified in
a configuration file or entered through the commandline in
interactive mode. The syntax of the configuration file
follows a simple newline-sepa&acirc; <br>
rated &lt;attribute=value&gt; pattern. Use interactive mode
to get an automatically generated configuration file.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Generate a hardened version of &lt;foo.cocci&gt; using the
configuration in &lt;foo.config&gt;:</p>

<p style="margin-top: 1em">./spgen &lt;foo.cocci&gt;
--config &lt;foo.config&gt;</p>

<p style="margin-top: 1em">Generate a hardened version of
&lt;foo.cocci&gt; using interactive mode through the
commandline. The user will be able to save their
interactively specified configuration to a file:</p>

<p style="margin-top: 1em">./spgen &lt;foo.cocci&gt;
--interactive</p>

<p style="margin-top: 1em">By default, spgen will look for
a foo.config file in the same directory and use that as
configuration. If not found, it will start in interactive
mode:</p>

<p style="margin-top: 1em">./spgen &lt;foo.cocci&gt;</p>

<p style="margin-top: 1em">Output the hardened version to
&lt;newfoo.cocci&gt; instead of stdout:</p>

<p style="margin-top: 1em">./spgen &lt;foo.cocci&gt; -o
&lt;newfoo.cocci&gt;</p>

<p style="margin-top: 1em">Suppose that &lt;foo.cocci&gt;
is the original patch and &lt;newfoo.cocci&gt; is the
hardened version of &lt;foo.cocci&gt;. Then what could be
achieved with</p>

<p style="margin-top: 1em">spatch --sp-file
&lt;foo.cocci&gt; &lt;foo.c&gt;</p>

<p style="margin-top: 1em">can now be achieved with</p>

<p style="margin-top: 1em">spatch --sp-file
&lt;newfoo.cocci&gt; &lt;foo.c&gt; -D patch</p>

<p style="margin-top: 1em">Substitute patch with context,
org, or report for any of the other modes.</p>

<p style="margin-top: 1em">OPTIONS <br>
Here is a summary of the options available on spgen:</p>

<p style="margin-top: 1em">SYNOPSIS <br>
spgen &lt;SmPL-patch.cocci&gt; [-c | --config &lt;spgen
config&gt;] [-i | --interactive] [--default] [-o &lt;output
file&gt;] [--no-output] [-help | --help]</p>

<p style="margin-top: 1em">-help | --help <br>
Print the help menu.</p>

<p style="margin-top: 1em">-c | --config &lt;foo.config&gt;
<br>
Harden the &lt;SmPL-patch.cocci&gt; using the configuration
specified in &lt;foo.config&gt;.</p>

<p style="margin-top: 1em">-i | --interactive <br>
Harden the &lt;SmPL-patch.cocci&gt; using configuration
options specified through the commandline.</p>

<p style="margin-top: 1em">-o &lt;output.cocci&gt; <br>
Output the hardened semantic patch to &lt;output.cocci&gt;
instead of stdout.</p>

<p style="margin-top: 1em">--default <br>
Harden the &lt;SmPL-patch.cocci&gt; without a configuration,
instead using default values. This option mainly exists to
see what the generated script would look like, as the <br>
default values are not specific to the input script.</p>

<p style="margin-top: 1em">--no-output <br>
Run the program without outputting anything. This option
mainly exists to check that the input script and
configuration file are parsable.</p>

<p style="margin-top: 1em">AUTHOR <br>
spgen and this man page were written by Chi Pham
&lt;chidaph@gmail.com&gt;</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Send a mail to &lt;cocci@systeme.lip6.fr&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright 2015, Chi Pham spgen is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License as published by the Free Software
<br>
Foundation, according to version 2 of the License.</p>

<p style="margin-top: 1em">SEE ALSO <br>
spatch(1), pycocci(1), diff(1)</p>

<p style="margin-top: 1em">October 17, 2015 spgen(1)</p>
<hr>
</body>
</html>
