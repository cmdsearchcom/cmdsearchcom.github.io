<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:15:40 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GSMC(1) User Manuals GSMC(1)</p>

<p style="margin-top: 1em">NAME <br>
gsmc - A GTK Smith Chart Calculator for RF impedance
matching</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gsmc</p>

<p style="margin-top: 1em">DESCRIPTION <br>
gsmc is a GTK application that allows one to do all the
calculation usually done on a Smith Chart. It permits one to
make calculation for network composed by resistor,
capaci&acirc; <br>
tor, inductance, and transmission line (also as stub).
Network topology is limited to series, parallel and as
trasmissive for transmission line. No series connection are
allowed <br>
in parallel branch, neither parallel connection in series
branch. Transmission line can be placed as quadrupole or as
a parallel or series stub, either opened or shorted at the
<br>
other end.</p>

<p style="margin-top: 1em">Calculation procedure starts
with setting the initial impedance to be matched, next
network elements are added and tuned to obtain the desidered
impedance value.</p>

<p style="margin-top: 1em">The network so obtained can be
saved in spice format for other analysis; current work can
be saved for successive retrieve.</p>

<p style="margin-top: 1em">The initial (start) impedance is
thought as &quot;the load&quot; so when adding a
transmission line placed as a quadrupole rotation is
clockwise, going &quot;toward generator&quot;; generator is
<br>
placed after the last network element, as can be seen from
spice output.</p>

<p style="margin-top: 1em">OPTIONS <br>
None</p>

<p style="margin-top: 1em">INTERACTIVE COMMANDS <br>
gsmc is a menu based GTK application with as much as
possible accelerators and mnemonics. Nearly all the command
can to be issued as a single keystroke or keystroke with
modi&acirc; <br>
fiers. This is, in the author&rsquo;s opinion, the
preferable way for very specialistic programs that has to be
used extensively.</p>

<p style="margin-top: 1em">Ctrl+q Quit the program.</p>

<p style="margin-top: 1em">Ctrl+1 Toggle visualization of
impedance (Z) circle</p>

<p style="margin-top: 1em">Ctrl+2 Toggle visualization of
admittance (Y) circle</p>

<p style="margin-top: 1em">Ctrl+3 Toggle visualization of
reflection coefficient (RHO) circle</p>

<p style="margin-top: 1em">Ctrl+4 Toggle visualization of
constant Q circle</p>

<p style="margin-top: 1em">s Set start point: can be
entered as impedance, admittance or reflection
coefficient</p>

<p style="margin-top: 1em">Ctrl+0 (zero) <br>
Set characteristic impedance z0</p>

<p style="margin-top: 1em">f Set frequency (f0)</p>

<p style="margin-top: 1em">r Add a resistor</p>

<p style="margin-top: 1em">l Add an inductor</p>

<p style="margin-top: 1em">c Add a capacitor</p>

<p style="margin-top: 1em">t Add a transmission line or
stub</p>

<p style="margin-top: 1em">Shift+r <br>
Insert a resistor before the highlighted element</p>

<p style="margin-top: 1em">Shift+l <br>
Insert an inductor before the highlighted element</p>

<p style="margin-top: 1em">Shift+c <br>
Insert a capacitor before the highlighted element</p>

<p style="margin-top: 1em">Shift+t <br>
Insert a transmission line or stub before the highlighted
element</p>

<p style="margin-top: 1em">d Delete the currently
highlighted element</p>

<p style="margin-top: 1em">Shift+Curs Up <br>
Highlight previous element</p>

<p style="margin-top: 1em">Shift+Curs Down <br>
Highlight next element</p>

<p style="margin-top: 1em">Shift+Curs Left <br>
Decrease the first field of currently highlighted
element</p>

<p style="margin-top: 1em">Shift+Curs Right <br>
Increase the first field of currently highlighted
element</p>

<p style="margin-top: 1em">Mod+Curs Left <br>
Decrease the second field of currently highlighted
element</p>

<p style="margin-top: 1em">Mod+Curs Right <br>
Increase the second field of currently highlighted
element</p>

<p style="margin-top: 1em">Mod+Curs Up <br>
Increase the tuning step</p>

<p style="margin-top: 1em">Mod+Curs Down <br>
Decrease the tuning step</p>

<p style="margin-top: 1em">Ctrl+w Write network file in
spice format</p>

<p style="margin-top: 1em">Ctrl+n Restart for a new
calculation with a clean chart</p>

<p style="margin-top: 1em">= Change first field of
currently highlighted element</p>

<p style="margin-top: 1em">Mod+= Change second field of
currently highlighted element</p>

<p style="margin-top: 1em">Ctrl+a Start autotune procedure
(tune goal is characteristic impedance)</p>

<p style="margin-top: 1em">Ctrl+x Toggle lock flag in
autotune procedure</p>

<p style="margin-top: 1em">Ctrl+p Write an EPS or PS
file</p>

<p style="margin-top: 1em">Ctrl+l Load a previously saved
.B gsmc job</p>

<p style="margin-top: 1em">Ctrl+l Save a .B gsmc job</p>

<p style="margin-top: 1em">Ctrl+f Increase frequency</p>

<p style="margin-top: 1em">Shift+Ctrl+f <br>
Decrease frequency</p>

<p style="margin-top: 1em">Check online keystroke for an
updated list of commands.</p>

<p style="margin-top: 1em">DIALOG WIN</p>

<p style="margin-top: 1em">For operation that requires data
entry a widget is created; it is composed by an text entry
field and optionally some radio button to chose the format
of data entry.</p>

<p style="margin-top: 1em">The format for data entry can be
a single number, or a more complex string. First of all
every number can be supplied using standard prefix for unit
of measure i.e.:</p>

<p style="margin-top: 1em">a (atto) 1e-18</p>

<p style="margin-top: 1em">f (femto) 1e-15</p>

<p style="margin-top: 1em">p (pico) 1e-12</p>

<p style="margin-top: 1em">n (nano) 1e-9</p>

<p style="margin-top: 1em">u (micro) 1e-6</p>

<p style="margin-top: 1em">m (milli) 1e-3</p>

<p style="margin-top: 1em">k (kilo) 1e3</p>

<p style="margin-top: 1em">M (mega) 1e6</p>

<p style="margin-top: 1em">G (giga) 1e9</p>

<p style="margin-top: 1em">T (tera) 1e12 <br>
Note that for spice output format mega is written as MEG
instead of M, that will be otherwise recognized by spice as
milli. Unit of measure are not allowed to be in the text
<br>
entered.</p>

<p style="margin-top: 1em">Where a complex number is
required both the rectangular and the polar format are
recognized: the former can be supplied as
&rsquo;12.3-j456m&rsquo; while the latter can be supplied as
&rsquo;34.2 <br>
145&rsquo; meaning a modulus of 34.2 with a phase of 145
degrees. If the complex number is purely imaginary only
something like &rsquo;j82&rsquo; can be supplied, while if
imaginary part is zero a <br>
single number can be given. Imaginary operator can be issued
as &rsquo;i&rsquo; as well as &rsquo;j&rsquo;.</p>

<p style="margin-top: 1em">DATA PRESENTATION <br>
The single window of gsmc is divided in four parts:</p>

<p style="margin-top: 1em">- The Smith chart itself in the
upper left portion, where arcs and constant circle are
drawn.</p>

<p style="margin-top: 1em">- The vertical bar on the right
of the Smith chart, where initial, final and cursor
impedance are presented together general data.</p>

<p style="margin-top: 1em">- The horizontal bar on the
bottom of Smith chart where the network element are
listed.</p>

<p style="margin-top: 1em">- The portion in the lower right
portion, for future use...</p>

<p style="margin-top: 1em">EXAMPLE OF USE <br>
Let&rsquo;s try a simple example to understand how gsmc
work. Suppose to have a load of 10-j35ohm to be matched to
50+j0ohm at an operating frequency of 15.5MHz and we can use
only <br>
concentrated reactive elements, i.e. inductances and
capacitors.</p>

<p style="margin-top: 1em">So start with setting operating
frequency: press &rsquo;f&rsquo; and a dialog win will
appear. Type in the string &rsquo;15.5M&rsquo; and then
press enter. Now in the vertical bar the frequency entered
<br>
is displayed.</p>

<p style="margin-top: 1em">Next set the start point
impedance: press &rsquo;s&rsquo; and a dialog win will
appear with the title &quot;Start Point&quot;; select the
format for start point either clicking the &quot;Z&quot;
radio button or <br>
using the mnemonic via Mod+Z. Now the impedance can be
entered as the string &rsquo;10-j35&rsquo; followed by
enter. The starting point is now displayed as a small
circle.</p>

<p style="margin-top: 1em">The network has now to be
constructed: let start with a series inductance of 800nH, so
press &rsquo;l&rsquo; and next introduce the value as
&rsquo;800n&rsquo;, be sure that &quot;Series&quot; radio
button is <br>
selected before pressing enter. TAB and Shift+TAB is useful
to move across items in dialog win without leave hands from
keyboard. This value is really too large, use Shift+Left
<br>
cursor to reduce a bit. Up to where? Let&rsquo;s help you
displaying the admittance constant circles pressing
&quot;Ctrl+2&quot;, the arc should arrive to the G=1 circle
(also called the mirror <br>
circle), it&rsquo;s around 546nH.</p>

<p style="margin-top: 1em">Now add a capacitor in parallel
connection, saying of 200pF: press &rsquo;c&rsquo; and
insert the string &rsquo;200p&rsquo; and select Parallel
either with mouse or with &quot;Mod+p&quot;. Now the
admittance cir&acirc; <br>
cles may confuse, remove it by pressing &quot;Ctrl+2&quot;
again. The value of 200pF is too small, enlarge it by
pressing Shift+Left cursor up to get the end point near to
the chart&rsquo;s cen&acirc; <br>
ter. The point reached with 429pF has nearly zero imaginary
but is 43ohm of real part instead of 50ohm.</p>

<p style="margin-top: 1em">So back to the inductance and
try to modify it, with Shift+Cursor up move to the first
component and then try to change the inductance value by
pressing cursor left and right. <br>
The changes are too large and 50+j0 cannot be reached. So
press &quot;Mod+Cursor down&quot; and the
&quot;tunestep&quot; value shown in the vertical bar is
reduced from 10% to 5%, try again to use <br>
Shift+Cursors left and right. It feel better. Now do the
same on the capacitor, moving to it by pressing cursor down
and than adjusting value as for the inductance.</p>

<p style="margin-top: 1em">Final values should be around
568nH and 408pF. Now you want to see what happen using the
closest standard commercial values, that is 560nH and 390pF
in the E12 series. Select <br>
(with Shift+Cursor Up), if needed, the inductance and then
press &rsquo;=&rsquo;, the dialog window appear (middle line
is unused) and the string &rsquo;560n s&rsquo; has to be
introduced. Next move to <br>
capacitor (Shift+Curs Down) and pressing &rsquo;=&rsquo;
here insert &rsquo;390p p&rsquo;. The final result is of
SWR=1.14, if it&rsquo;s enough for you...</p>

<p style="margin-top: 1em">Moving the mouse to the point
where the two arcs ends you can see that the point has an
impedance of about 10+j20ohm.</p>

<p style="margin-top: 1em">Transmission line and resistor
can be used similarly refer to the section INTERACTIVE
COMMANDS for knowing how they can be placed. The major
difference with transmission line is <br>
that they have two parameter, the electrical length and the
characteristic impedance: the former can be adjusted with
Shift+Cursor left/right as for resistor, inductance and <br>
capacitor; the latter can be adjusted with Mod+cursor
left/right.</p>

<p style="margin-top: 1em">Now the network can be saved
either in a gsmc format (.gdt extension) by pressing Ctrl+s
or in spice format pressing Ctrl+w: The file so generated
can be now analyzed with a <br>
spice simulator or gnucap or ngspice ; maybe you are
interested in simulating it sweeping around 15.5MHz, so
modify the line</p>

<p style="margin-top: 1em">.ac lin 1 15.50MEG 15.50MEG</p>

<p style="margin-top: 1em">in</p>

<p style="margin-top: 1em">.ac lin 51 10MEG 30MEG</p>

<p style="margin-top: 1em">and run spice or gnucap</p>

<p style="margin-top: 1em">This example should be included
in gsmc package an can be retrieved by pressing Ctrl+l and
selecting example1.gdt.</p>

<p style="margin-top: 1em">Autotune algorithm is very
primitive and may not reach what is very simple to do by
hand, do not ask to much from it, work in progress...</p>

<p style="margin-top: 1em">Charts so drawn can be printed
to a Postscript or Encapsulated Postscript file; in printed
file some information are added on the chart drawing as well
as Circuit Description and <br>
some of the Current Value are transcripted. Automatic
recognition of filename extension .eps or .ps allows one to
specify if the file has to be in encapsulated format or
not.</p>

<p style="margin-top: 1em">FILES <br>
gsmc don&rsquo;t use special configuration file, a gtkrc
file is supplied and can be tuned to user preferences; if
present it must be in /root/.gsmc/gtkrc. File describing the
network <br>
currently analyzed can be generated, it&rsquo;s only needed
that a minimum file permission is allowed, if not the
program will work but data could not be saved.</p>

<p style="margin-top: 1em">Data file (.gdt) contain a copy
of internal data structures in a quite human readable
format; by inspection one can recognize and modify some
parts using a text editor. For more <br>
details compare a .gdt file with smcdata struct defined in
source file main.h.</p>

<p style="margin-top: 1em">LIMITATIONS <br>
Porting can be very very difficult, since all is based on X
windows programming and GTK library, but for other platform
a plenty of similar program are available, free and good
<br>
one too.</p>

<p style="margin-top: 1em">BUGS <br>
Help me to find.</p>

<p style="margin-top: 1em">TODO <br>
&Acirc;&middot; Improve autotune algorithm</p>

<p style="margin-top: 1em">&Acirc;&middot; Target setting
(not always one want to match to z0) for autotune.</p>

<p style="margin-top: 1em">&Acirc;&middot; Auxiliary window
for error reporting instead of stderr.</p>

<p style="margin-top: 1em">COPYING <br>
This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
<br>
version 3 of the License, or (at your option) any later
version.</p>

<p style="margin-top: 1em">AUTHOR <br>
Lapo Pieri (IK5NAX)</p>

<p style="margin-top: 1em">Home address: via delle
Ortensie, 22 I-50142 Firenze Italy <br>
Phone: +39 055 706881 <br>
e-mail: ik5nax@radioteknos.it <br>
website: www.qsl.net/ik5nax ; www.radioteknos.it</p>

<p style="margin-top: 1em">SEE ALSO <br>
spice3(?), gnucap(1), ngspice(1), qucs(1)</p>

<p style="margin-top: 1em">Linux SEPTEMBER 2003 GSMC(1)</p>
<hr>
</body>
</html>
