<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DATAMASH(1) User Commands DATAMASH(1)</p>

<p style="margin-top: 1em">NAME <br>
datamash - command-line calculations</p>

<p style="margin-top: 1em">SYNOPSIS <br>
datamash [OPTION] op [col] [op col ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Performs numeric/string operations on input from stdin.</p>

<p style="margin-top: 1em">&rsquo;op&rsquo; is the
operation to perform; For grouping,per-line operations
&rsquo;col&rsquo; is the input field to use;
&rsquo;col&rsquo; can be a number (1=first field), or a
column name when using -H or <br>
--header-in options.</p>

<p style="margin-top: 1em">File operations: <br>
transpose, reverse</p>

<p style="margin-top: 1em">Line-Filtering operations: <br>
rmdup</p>

<p style="margin-top: 1em">Per-Line operations: <br>
base64, debase64, md5, sha1, sha256, sha512</p>

<p style="margin-top: 1em">Numeric Grouping operations:
<br>
sum, min, max, absmin, absmax</p>

<p style="margin-top: 1em">Textual/Numeric Grouping
operations: <br>
count, first, last, rand, unique, collapse, countunique</p>

<p style="margin-top: 1em">Statistical Grouping operations:
<br>
mean, median, q1, q3, iqr, mode, antimode, pstdev, sstdev,
pvar svar, mad, madraw, pskew, sskew, pkurt, skurt, dpo,
jarque</p>

<p style="margin-top: 1em">OPTIONS <br>
Grouping Options: <br>
-f, --full <br>
print entire input line before op results (default: print
only the grouped keys)</p>

<p style="margin-top: 1em">-g, --group=X[,Y,Z] <br>
group via fields X,[Y,Z]</p>

<p style="margin-top: 1em">--header-in <br>
first input line is column headers</p>

<p style="margin-top: 1em">--header-out <br>
print column headers as first line</p>

<p style="margin-top: 1em">-H, --headers <br>
same as &rsquo;--header-in --header-out&rsquo;</p>

<p style="margin-top: 1em">-i, --ignore-case <br>
ignore upper/lower case when comparing text; this affects
grouping, and string operations</p>

<p style="margin-top: 1em">-s, --sort <br>
sort the input before grouping; this removes the need to
manually pipe the input through &rsquo;sort&rsquo;</p>

<p style="margin-top: 1em">File Operation Options: <br>
--no-strict <br>
allow lines with varying number of fields</p>

<p style="margin-top: 1em">--filler=X <br>
fill missing values with X (default %s)</p>

<p style="margin-top: 1em">General Options: <br>
-t, --field-separator=X <br>
use X instead of TAB as field delimiter</p>

<p style="margin-top: 1em">--narm skip NA/NaN values</p>

<p style="margin-top: 1em">-W, --whitespace <br>
use whitespace (one or more spaces and/or tabs) for field
delimiters</p>

<p style="margin-top: 1em">-z, --zero-terminated <br>
end lines with 0 byte, not newline</p>

<p style="margin-top: 1em">--help display this help and
exit</p>

<p style="margin-top: 1em">--version <br>
output version information and exit</p>

<p style="margin-top: 1em">AVAILABLE OPERATIONS <br>
File operations: <br>
transpose transpose rows, columns of the input file</p>

<p style="margin-top: 1em">reverse reverse field order in
each line</p>

<p style="margin-top: 1em">Line-Filtering operations: <br>
rmdup remove lines with duplicated key value</p>

<p style="margin-top: 1em">Per-Line operations: <br>
base64 Encode the field as base64</p>

<p style="margin-top: 1em">debase64 Decode the field as
base64, exit with error if invalid base64 string</p>

<p style="margin-top: 1em">md5/sha1/sha256/sha512 <br>
Calculate md5/sha1/sha256/sha512 hash of the field value</p>

<p style="margin-top: 1em">reverse reverse field order in
each line</p>

<p style="margin-top: 1em">Numeric Grouping operations <br>
sum sum the of values</p>

<p style="margin-top: 1em">min minimum value</p>

<p style="margin-top: 1em">max maximum value</p>

<p style="margin-top: 1em">absmin minimum of the absolute
values</p>

<p style="margin-top: 1em">absmax maximum of the absolute
values</p>

<p style="margin-top: 1em">Textual/Numeric Grouping
operations <br>
count count number of elements in the group</p>

<p style="margin-top: 1em">first the first value of the
group</p>

<p style="margin-top: 1em">last the last value of the
group</p>

<p style="margin-top: 1em">rand one random value from the
group</p>

<p style="margin-top: 1em">unique comma-separated sorted
list of unique values</p>

<p style="margin-top: 1em">collapse comma-separated list of
all input values</p>

<p style="margin-top: 1em">countunique number of
unique/distinct values</p>

<p style="margin-top: 1em">Statistical Grouping operations
<br>
mean mean of the values</p>

<p style="margin-top: 1em">median median value</p>

<p style="margin-top: 1em">q1 1st quartile value</p>

<p style="margin-top: 1em">q3 3rd quartile value</p>

<p style="margin-top: 1em">iqr inter-quartile range</p>

<p style="margin-top: 1em">mode mode value (most common
value)</p>

<p style="margin-top: 1em">antimode anti-mode value (least
common value)</p>

<p style="margin-top: 1em">pstdev population standard
deviation</p>

<p style="margin-top: 1em">sstdev sample standard
deviation</p>

<p style="margin-top: 1em">pvar population variance</p>

<p style="margin-top: 1em">svar sample variance</p>

<p style="margin-top: 1em">mad median absolute deviation,
scaled by constant 1.4826 for normal distributions</p>

<p style="margin-top: 1em">madraw median absolute
deviation, unscaled</p>

<p style="margin-top: 1em">sskew skewness of the (sample)
group</p>

<p style="margin-top: 1em">pskew skewness of the
(population) group <br>
values x reported by &rsquo;sskew&rsquo; and
&rsquo;pskew&rsquo; operations: <br>
x &gt; 0 - positively skewed / skewed right <br>
0 &gt; x - negatively skewed / skewed left <br>
x &gt; 1 - highly skewed right <br>
1 &gt; x &gt; 0.5 - moderately skewed right <br>
0.5 &gt; x &gt; -0.5 - approximately symmetric <br>
-0.5 &gt; x &gt; -1 - moderately skewed left <br>
-1 &gt; x - highly skewed left</p>

<p style="margin-top: 1em">skurt excess Kurtosis of the
(sample) group</p>

<p style="margin-top: 1em">pkurt excess Kurtosis of the
(population) group</p>

<p style="margin-top: 1em">jarque p-value of the
Jarque-Beta test for normality</p>

<p style="margin-top: 1em">dpo p-value of the
D&rsquo;Agostino-Pearson Omnibus test for normality; <br>
for &rsquo;jarque&rsquo; and &rsquo;dpo&rsquo; operations:
<br>
null hypothesis is normality; <br>
low p-Values indicate non-normal data; <br>
high p-Values indicate null-hypothesis cannot be
rejected.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Print the sum and the mean of values from column 1:</p>

<p style="margin-top: 1em">$ seq 10 | datamash sum 1 mean 1
<br>
55 5.5</p>

<p style="margin-top: 1em">Group input based on field 1,
and sum values (per group) on field 2:</p>

<p style="margin-top: 1em">$ cat example.txt <br>
A 10 <br>
A 5 <br>
B 9 <br>
B 11 <br>
$ datamash -g 1 sum 2 &lt; example.txt <br>
A 15 <br>
B 20</p>

<p style="margin-top: 1em">Unsorted input must be sorted
(with &rsquo;-s&rsquo;):</p>

<p style="margin-top: 1em">$ cat example.txt <br>
A 10 <br>
C 4 <br>
B 9 <br>
C 1 <br>
A 5 <br>
B 11 <br>
$ datamash -s -g1 sum 2 &lt; example.txt <br>
A 15 <br>
B 20 <br>
C 5</p>

<p style="margin-top: 1em">Which is equivalent to:</p>

<p style="margin-top: 1em">$ cat example.txt | sort -k1,1 |
datamash -g 1 sum 2</p>

<p style="margin-top: 1em">Use -h (--headers) if the input
file has a header line:</p>

<p style="margin-top: 1em"># Given a file with student
name, field, test score... <br>
$ head -n5 scores_h.txt <br>
Name Major Score <br>
Shawn Engineering 47 <br>
Caleb Business 87 <br>
Christian Business 88 <br>
Derek Arts 60</p>

<p style="margin-top: 1em"># Calculate the mean and
standard devian for each major <br>
$ datamash --sort --headers --group 2 mean 3 pstdev 3 &lt;
scores_h.txt <br>
(or use short form) <br>
$ datamash -sH -g2 mean 3 pstdev 3 &lt; scores_h.txt <br>
(or use named columns) <br>
$ datamash -sH -g Major mean Score pstdev Score &lt;
scores_h.txt <br>
GroupBy(Major) mean(Score) pstdev(Score) <br>
Arts 68.9 10.1 <br>
Business 87.3 4.9 <br>
Engineering 66.5 19.1 <br>
Health-Medicine 90.6 8.8 <br>
Life-Sciences 55.3 19.7 <br>
Social-Sciences 60.2 16.6</p>

<p style="margin-top: 1em">Reverse field order in each
line:</p>

<p style="margin-top: 1em">$ seq 6 | paste - - | datamash
reverse <br>
2 1 <br>
4 3 <br>
6 5</p>

<p style="margin-top: 1em">Transpose rows, columns:</p>

<p style="margin-top: 1em">$ seq 6 | paste - - | datamash
transpose <br>
1 3 5 <br>
2 4 6</p>

<p style="margin-top: 1em">Remove lines with duplicate key
value from column 1 (Unlike first,last operations, rmdup is
much faster and does not require sorting the file with
-s):</p>

<p style="margin-top: 1em"># Given a list of files and
sample IDs: <br>
$ cat INPUT <br>
SampleID File <br>
2 cc.txt <br>
3 dd.txt <br>
1 ab.txt <br>
2 ee.txt <br>
3 ff.txt</p>

<p style="margin-top: 1em"># Remove lines with duplicated
Sample-ID (column 1): <br>
$ datamash rmdup 1 &lt; INPUT <br>
(or used named column) <br>
$ datamash -H rmdup SampleID &lt; INPUT <br>
SampleID File <br>
2 cc.txt <br>
3 dd.txt <br>
1 ab.txt</p>

<p style="margin-top: 1em">Calculate the sha1 hash value of
each TXT file, after calculating the sha1 value of each
file&rsquo;s content:</p>

<p style="margin-top: 1em">$ sha1sum *.txt | datamash -Wf
sha1 2</p>

<p style="margin-top: 1em">ADDITIONAL INFORMATION <br>
See GNU Datamash Website
(http://www.gnu.org/software/datamash)</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Assaf Gordon.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2015 Assaf Gordon License GPLv3+:
GNU GPL version 3 or later
&lt;http://gnu.org/licenses/gpl.html&gt;. <br>
This is free software: you are free to change and
redistribute it. There is NO WARRANTY, to the extent
permitted by law.</p>

<p style="margin-top: 1em">SEE ALSO <br>
The full documentation for datamash is maintained as a
Texinfo manual. If the info and datamash programs are
properly installed at your site, the command</p>

<p style="margin-top: 1em">info datamash</p>

<p style="margin-top: 1em">should give you access to the
complete manual.</p>

<p style="margin-top: 1em">datamash 1.0.7 June 2015
DATAMASH(1)</p>
<hr>
</body>
</html>
