<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pkidaemon(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pkidaemon(1)</td>
    <td class="head-vol">pkidaemon</td>
    <td class="head-rtitle">pkidaemon(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>pkidaemon</b> - provides status management of PKI instances
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>pkidaemon {start|status} [instance-name]</b>
</pre>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Note:</b> Although this tool currently resides in the
    <b>/usr/bin</b> directory, proper use of it requires it to be run with super
    user privileges.</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>pkidaemon</b> command with the 'status' argument provides a way to
  display the status of all existing PKI instances on a machine. Optionally, an
  individual PKI instance may be specified by using an optional
  <b>[instance-name]</b>.
<div class="Pp"></div>
The <b>pkidaemon</b> 'start' argument is currently only used internally by the
  systemctl scripts.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
As stated above, the only optional argument to <b>pkidaemon</b> is
  <b>[instance-name]</b>. If a valid instance name is specified, only the status
  of that instance will be displayed.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
For the following examples, two instances were installed. The first contained a
  CA, KRA, OCSP, TKS and TPS in a shared PKI instance named 'pki-tomcat', while
  the second simply contained a CA running on different ports and named
  'pki-tomcat-2'.
<div style="height: 1.00em;">&#x00A0;</div>
For the OCSP 'Unsecure URL' and the OCSP 'Secure EE URL' which both specify a
  static string of '&lt;ocsp request blob&gt;', the intention is for the user to
  replace this static string with an actual OCSP request blob relevant to their
  particular deployment.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Listing_the_status_of_all_local_PKI_instances_on_this_machine:"><a class="selflink" href="#Listing_the_status_of_all_local_PKI_instances_on_this_machine:">Listing
  the status of all local PKI instances on this machine:</a></h2>
<div class="Pp"></div>
<b># pkidaemon status</b>
<div style="height: 1.00em;">&#x00A0;</div>
REPORT STATUS OF 'tomcat' INSTANCE(S):
<div style="height: 1.00em;">&#x00A0;</div>
Status for pki-tomcat: pki-tomcat is running ..
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:8080/ca/ee/ca
<br/>
 Secure Agent URL = https://pki.example.com:8443/ca/agent/ca
<br/>
 Secure EE URL = https://pki.example.com:8443/ca/ee/ca
<br/>
 Secure Admin URL = https://pki.example.com:8443/ca/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/ca
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [KRA Status Definitions]
<br/>
 Secure Agent URL = https://pki.example.com:8443/kra/agent/kra
<br/>
 Secure Admin URL = https://pki.example.com:8443/kra/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/kra
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [OCSP Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:8080/ocsp/ee/ocsp/&lt;ocsp request
  blob&gt;
<br/>
 Secure Agent URL = https://pki.example.com:8443/ocsp/agent/ocsp
<br/>
 Secure EE URL = https://pki.example.com:8443/ocsp/ee/ocsp/&lt;ocsp request
  blob&gt;
<br/>
 Secure Admin URL = https://pki.example.com:8443/ocsp/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/ocsp
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TKS Status Definitions]
<br/>
 Secure Agent URL = https://pki.example.com:8443/tks/agent/tks
<br/>
 Secure Admin URL = https://pki.example.com:8443/tks/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/tks
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TPS Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:8080/tps
<br/>
 Secure URL = https://pki.example.com:8443/tps
<br/>
 Unsecure PHONE HOME = http://pki.example.com:8080/tps/phoneHome
<br/>
 Secure PHONE HOME = https://pki.example.com:8443/tps/phoneHome
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: Root CA (Security Domain)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [KRA Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: KRA
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [OCSP Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: OCSP
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TKS Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: TKS
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TPS Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: TPS
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
Status for pki-tomcat-2: pki-tomcat-2 is running ..
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:18080/ca/ee/ca
<br/>
 Secure Agent URL = https://pki.example.com:18443/ca/agent/ca
<br/>
 Secure EE URL = https://pki.example.com:18443/ca/ee/ca
<br/>
 Secure Admin URL = https://pki.example.com:18443/ca/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:18443/ca
<br/>
 Tomcat Port = 18005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat-2
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: Root CA (Security Domain)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:18443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
FINISHED REPORTING STATUS OF 'tomcat' INSTANCE(S).
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Listing_the_status_of_the_PKI_instance_named_'pki-tomcat':"><a class="selflink" href="#Listing_the_status_of_the_PKI_instance_named_'pki-tomcat':">Listing
  the status of the PKI instance named 'pki-tomcat':</a></h2>
<div class="Pp"></div>
<b># pkidaemon status pki-tomcat</b>
<div style="height: 1.00em;">&#x00A0;</div>
Status for pki-tomcat: pki-tomcat is running ..
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:8080/ca/ee/ca
<br/>
 Secure Agent URL = https://pki.example.com:8443/ca/agent/ca
<br/>
 Secure EE URL = https://pki.example.com:8443/ca/ee/ca
<br/>
 Secure Admin URL = https://pki.example.com:8443/ca/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/ca
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [KRA Status Definitions]
<br/>
 Secure Agent URL = https://pki.example.com:8443/kra/agent/kra
<br/>
 Secure Admin URL = https://pki.example.com:8443/kra/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/kra
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [OCSP Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:8080/ocsp/ee/ocsp/&lt;ocsp request
  blob&gt;
<br/>
 Secure Agent URL = https://pki.example.com:8443/ocsp/agent/ocsp
<br/>
 Secure EE URL = https://pki.example.com:8443/ocsp/ee/ocsp/&lt;ocsp request
  blob&gt;
<br/>
 Secure Admin URL = https://pki.example.com:8443/ocsp/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/ocsp
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TKS Status Definitions]
<br/>
 Secure Agent URL = https://pki.example.com:8443/tks/agent/tks
<br/>
 Secure Admin URL = https://pki.example.com:8443/tks/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:8443/tks
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TPS Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:8080/tps
<br/>
 Secure URL = https://pki.example.com:8443/tps
<br/>
 Unsecure PHONE HOME = http://pki.example.com:8080/tps/phoneHome
<br/>
 Secure PHONE HOME = https://pki.example.com:8443/tps/phoneHome
<br/>
 Tomcat Port = 8005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: Root CA (Security Domain)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [KRA Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: KRA
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [OCSP Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: OCSP
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TKS Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: TKS
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [TPS Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: TPS
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:8443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Listing_the_status_of_the_PKI_instance_named_'pki-tomcat-2':"><a class="selflink" href="#Listing_the_status_of_the_PKI_instance_named_'pki-tomcat-2':">Listing
  the status of the PKI instance named 'pki-tomcat-2':</a></h2>
<div class="Pp"></div>
<b># pkidaemon status pki-tomcat-2</b>
<div style="height: 1.00em;">&#x00A0;</div>
Status for pki-tomcat-2: pki-tomcat-2 is running ..
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Status Definitions]
<br/>
 Unsecure URL = http://pki.example.com:18080/ca/ee/ca
<br/>
 Secure Agent URL = https://pki.example.com:18443/ca/agent/ca
<br/>
 Secure EE URL = https://pki.example.com:18443/ca/ee/ca
<br/>
 Secure Admin URL = https://pki.example.com:18443/ca/services
<br/>
 PKI Console Command = pkiconsole https://pki.example.com:18443/ca
<br/>
 Tomcat Port = 18005 (for shutdown)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 [CA Configuration Definitions]
<br/>
 PKI Instance Name: pki-tomcat-2
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 PKI Subsystem Type: Root CA (Security Domain)
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 Registered PKI Security Domain Information:
<br/>
 ====================================================================
<br/>
 Name: example.com Security Domain
<br/>
 URL: https://pki.example.com:18443
<br/>
 ====================================================================
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report bugs to http://bugzilla.redhat.com.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Matthew Harmsen &lt;mharmsen@redhat.com&gt;. <b>pkidaemon</b> was written by the
  Certificate Server project.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2015 Red Hat, Inc. This is licensed under the GNU General Public
  License, version 2 (GPLv2). A copy of this license is available at
  http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pkispawn(8),</b> <b>pkidestroy(8),</b> <b>pki_default.cfg(5),</b>
  <b>pki(1)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">July 8, 2015</td>
    <td class="foot-os">version 10.2</td>
  </tr>
</table>
</body>
</html>
