<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>IPRANGE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">IPRANGE(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">IPRANGE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
iprange - manage IP ranges
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>iprange</b> [ <i>options</i>] <i>file1 file2 file3 </i>...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
iprange manages IP ranges
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
multiple options are aliases
<h2 class="Ss" title="Ss" id="CIDR_output_modes:"><a class="selflink" href="#CIDR_output_modes:">CIDR
  output modes:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--optimize</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--combine</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--merge</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--union</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-J</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; MERGE mode (the default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Returns all IPs found on all files. The resulting set is
      sorted.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--common</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--intersect</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; COMMON mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Intersect all files to find their common IPs. The resulting
      set is sorted.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--except</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--exclude-next</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; EXCEPT mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Here is how it works: (1) merge all files before this
      parameter (ipset A); (2) remove all IPs found in the files after this
      parameter, from ipset A and print what remains. The resulting set is
      sorted.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--diff</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--diff-next</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; DIFF mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Here is how it works: (1) merge all files before this
      parameter (ipset A); (2) merge all files after this parameter (ipset B);
      (3) print all differences between A and B, i.e IPs found is either A or B,
      but not both. The resulting set is sorted. When there are differences
      between A and B, iprange exits with 1, with 0 otherwise.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ipset-reduce</b>
  PERCENT</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--reduce-factor</b>
  PERCENT</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; IPSET REDUCE mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Merge all files and print the merged set, but try to reduce
      the number of prefixes (subnets) found, while allowing some increase in
      entries. The PERCENT is how much percent to allow increase on the number
      of entries in order to reduce the prefixes (subnets) (the internal default
      PERCENT is 20). Use <b>-v</b> to see exactly what it does. The resulting
      set is sorted.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ipset-reduce-entries</b>
  ENTRIES</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--reduce-entries</b>
  ENTRIES</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; IPSET REDUCE mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Allow increasing the entries above PERCENT, if they are
      below ENTRIES (the internal default ENTRIES is 16384).</dd>
</dl>
<h2 class="Ss" title="Ss" id="CSV_output_modes:"><a class="selflink" href="#CSV_output_modes:">CSV
  output modes:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--compare</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; COMPARE ALL mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Compare all files with all other files. Add <b>--header</b>
      to get the CSV header too.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--compare-first</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; COMPARE FIRST mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Compare the first file with all other files. Add
      <b>--header</b> to get the CSV header too.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--compare-next</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; COMPARE NEXT mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Compare all the files that appear before this parameter, to
      all files that appear after this parameter. Add <b>--header</b> to get the
      CSV header too.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--count-unique</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-C</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; COUNT UNIQUE mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Merge all files and print its counts. Add <b>--header</b>
      to get the CSV header too.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--count-unique-all</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; COUNT UNIQUE ALL mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print counts for each file. Add <b>--header</b> to get the
      CSV header too.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Controlling_input:"><a class="selflink" href="#Controlling_input:">Controlling
  input:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--dont-fix-network</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">By default, the network address of all CIDRs is used (i.e.,
      1.1.1.17/24 is read as 1.1.1.0/24): this option disables this feature
      (i.e., 1.1.1.17/24 is read as 1.1.1.17-1.1.1.255).</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--default-prefix</b>
  PREFIX</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-p</b>
  PREFIX</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Set the default prefix for all IPs without mask (the
      default is 32).</dd>
</dl>
<h2 class="Ss" title="Ss" id="Controlling_CIDR_output:"><a class="selflink" href="#Controlling_CIDR_output:">Controlling
  CIDR output:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--min-prefix</b>
  N</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Do not generate prefixes larger than N, i.e., if N is 24
      then <i>/24</i> to <i>/32</i> entries will be generated (a <i>/16</i>
      network will be generated using multiple <i>/24</i> networks). This is
      useful to optimize netfilter/iptables ipsets where each different prefix
      increases the lookup time for each packet whereas the number of entries in
      the ipset do not affect its performance. With this setting more entries
      will be produced to accomplish the same match. WARNING: misuse of this
      parameter can create a large number of entries in the generated set.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--prefixes</b>
  N,N,N, ...</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Enable only the given prefixes to express all CIDRs; prefix
      32 is always enabled. WARNING: misuse of this parameter can create a large
      number of entries in the generated set.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-ranges</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-j</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print IP ranges (A.A.A.A-B.B.B.B) (the default is to print
      CIDRs (A.A.A.A/B)). It only applies when the output is not CSV.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-single-ips</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-1</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print single IPs; this can produce large output (the
      default is to print CIDRs (A.A.A.A/B)). It only applies when the output is
      not CSV.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-binary</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print binary data: this is the fastest way to print a large
      ipset. The result can be read by iprange on the same architecture (no
      conversion of endianness).</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-prefix</b>
  STRING</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print STRING before each IP, range or CIDR. This sets both
      <b>--print-prefix-ips</b> and <b>--print-prefix-nets</b> .</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-prefix-ips</b>
  STRING</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print STRING before each single IP: useful for entering
      single IPs to a different ipset than the networks.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-prefix-nets</b>
  STRING</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print STRING before each range or CIDR: useful for entering
      sunbets to a different ipset than single IPs.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-suffix</b>
  STRING</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print STRING after each IP, range or CIDR. This sets both
      <b>--print-suffix-ips</b> and <b>--print-suffix-nets</b> .</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-suffix-ips</b>
  STRING</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print STRING after each single IP: useful for giving single
      IPs different ipset options.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--print-suffix-nets</b>
  STRING</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print STRING after each range or CIDR: useful for giving
      subnets different ipset options.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--quiet</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Do not print the actual ipset. Can only be used in DIFF
      mode.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Controlling_CSV_output:"><a class="selflink" href="#Controlling_CSV_output:">Controlling
  CSV output:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--header</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">When the output is CSV, print the header line (the default
      is to not print the header line).</dd>
</dl>
<h2 class="Ss" title="Ss" id="Controlling_DNS_resolution:"><a class="selflink" href="#Controlling_DNS_resolution:">Controlling
  DNS resolution:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--dns-threads</b>
  NUMBER</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The number of parallel DNS queries to execute when the
      input files contain hostnames (the default is 5).</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--dns-silent</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Do not print DNS resolution errors (the default is to print
      all DNS related errors).</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--dns-progress</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print DNS resolution progress bar.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Other_options:"><a class="selflink" href="#Other_options:">Other
  options:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--has-compare</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--has-reduce</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Exits with 0, other versions of iprange will exit with 1.
      Use this option in scripts to find if this version of iprange is present
      in a system.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-v</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Be verbose on stderr.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Getting_help:"><a class="selflink" href="#Getting_help:">Getting
  help:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--version</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print version and exit.</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--help</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-h</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print this message and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<h2 class="Ss" title="Ss" id="Input_files:"><a class="selflink" href="#Input_files:">Input
  files:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&gt; fileN</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">A filename or - for stdin. Each filename can be followed by
      [as NAME] to change its name in the CSV output. If no filename is given,
      stdin is assumed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Files may contain any or all of the following: (1) comments
      starting with hashes (#) or semicolons (;); (2) one IP per line (without
      mask); (3) a CIDR per line (A.A.A.A/B); (4) an IP range per line (A.A.A.A
      - B.B.B.B); (5) a CIDR range per line (A.A.A.A/B - C.C.C.C/D); the range
      is calculated as the network address of A.A.A.A/B to the broadcast address
      of C.C.C.C/D (this is affected by <b>--dont-fix-network</b>); (6) CIDRs
      can be given in either prefix or netmask format in all cases (including
      ranges); (7) one hostname per line, to be resolved with DNS (if the IP
      resolves to multiple IPs, all of them will be added to the ipset)
      hostnames cannot be given as ranges; (8) spaces and empty lines are
      ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Any number of files can be given.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2015 Costa Tsaousis for FireHOL (Refactored)
<div>&#x00A0;</div>
Copyright &#x00A9; 2004 Paul Townsend (Adapted)
<div>&#x00A0;</div>
Copyright &#x00A9; 2003 Gabriel L. Somlo (Original)
<div class="Pp"></div>
License: GPLv2+: GNU GPL version 2 or later
  &lt;http://gnu.org/licenses/gpl2.html&gt;. This program comes with ABSOLUTELY
  NO WARRANTY; This is free software, and you are welcome to redistribute it
  under certain conditions; See COPYING distributed in the source for
  details.</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 2016</td>
    <td class="foot-os">iprange 1.0.3</td>
  </tr>
</table>
</body>
</html>
