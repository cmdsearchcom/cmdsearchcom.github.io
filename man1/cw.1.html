<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:01:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CW(1) General Commands Manual CW(1)</p>

<p style="margin-top: 1em">NAME <br>
cw - sound characters as Morse code on the soundcard or
console speaker</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cw [-s --system=SYSTEM] [-d --device=DEVICE] [-w --wpm=WPM]
[-t --tone=HZ] [-v --volume=PERCENT] [-g --gap=GAP] [-k
--weighting=WEIGHT] [-e --noecho] [-m --nomessages] <br>
[-c --nocommands] [-o --nocombinations] [-p --nocomments]
[-f --infile=FILE] [-h --help] [-V --version]</p>

<p style="margin-top: 1em">cw installed on GNU/Linux
systems understands both short form and long form command
line options. cw installed on other operating systems may
understand only the short form <br>
options.</p>

<p style="margin-top: 1em">There are no mandatory
options.</p>

<p style="margin-top: 1em">Options may be predefined in the
environment variable CW_OPTIONS. If defined, these options
are used first; command line options take precedence.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
cw reads characters from an input file, or from standard
input, and sounds each valid character as Morse code on
either the system sound card, or the system console speaker.
<br>
After it sounds a character, cw echoes it to standard
output. The input stream can contain embedded command
strings. These change the parameters used when sounding the
Morse <br>
code. cw reports any errors in embedded commands on standard
error.</p>

<p style="margin-top: 1em">Use &rsquo;Ctrl+D&rsquo; key
combination to exit cw.</p>

<p style="margin-top: 1em">COMMAND LINE OPTIONS <br>
cw understands the following command line options. The long
form options may not be available in non-LINUX versions.</p>

<p style="margin-top: 1em">-s, --system=SYSTEM <br>
Specifies the way that cw generates tones. Valid values are:
null for no tones, just timings, console for tones through
the console speaker, alsa for tones generated <br>
through the system sound card using ALSA sound system, oss
for tones generated through system sound card using OSS
sound system, pulseaudio for tones generated through <br>
system sound card using PulseAudio sound system, soundcard
for tones generated through the system sound card, but
without explicit selection of sound system. These values
<br>
can be shortened to &rsquo;n&rsquo;, &rsquo;c&rsquo;,
&rsquo;a&rsquo;, &rsquo;o&rsquo;, &rsquo;p&rsquo;, or
&rsquo;s&rsquo;, respectively. The default value is
&rsquo;pulseaudio&rsquo; (on systems with PulseAudio
installed), followed by &rsquo;oss&rsquo;.</p>

<p style="margin-top: 1em">-d, --device=DEVICE <br>
Specifies the device file to open for generating a sound. cw
will use default device if none is specified. The default
devices are: /dev/console for sound produced <br>
through console, default for ALSA sound system, /dev/audio
for OSS sound system, a default device for PulseAudio sound
system. See also NOTES ON USING A SOUND CARD below.</p>

<p style="margin-top: 1em">-w, --wpm=WPM <br>
Sets the initial sending speed in words per minute. The
value must be between 4 and 60. The default value is 12
WPM.</p>

<p style="margin-top: 1em">-t, --tone=HZ <br>
Sets the initial sounder pitch in Hz. This value must be
between 0 and 4,000. A value of 0 selects silent operation,
and can be used for timing checks or other testing. <br>
The default value is 800Hz,</p>

<p style="margin-top: 1em">-v, --volume=PERCENT <br>
Sets the initial sending volume, as a percentage of full
scale volume. The value must be between 0 and 100. The
default value is 70 %. Sound volumes work fully for <br>
sound card tones, but cw cannot control the volume of tones
from the console speaker. In this case, a volume of zero is
silent, and all other volume values are simply <br>
sounded.</p>

<p style="margin-top: 1em">-g, --gap=GAP <br>
Sets the initial extra gap, in dot lengths, between
characters (the &rsquo;Farnsworth&rsquo; delay). It must be
between 0 and 60. The default is 0.</p>

<p style="margin-top: 1em">-k, --weighting=WEIGHT <br>
Sets the initial weighting, as a percentage of dot lengths.
It must be between 20 and 80. The default is 50.</p>

<p style="margin-top: 1em">-e, --noecho <br>
Stops cw echoing characters on standard output after they
are sounded. The default is to have echoing on.</p>

<p style="margin-top: 1em">-m, --nomessages <br>
Stops cw printing error messages on standard error. The
default is to print messages.</p>

<p style="margin-top: 1em">-c, --nocommands <br>
Stops cw from interpreting commands embedded in the input
stream. The default is to interpret embedded commands.</p>

<p style="margin-top: 1em">-o, --nocombinations <br>
Stops cw from treating character strings bracketed by [...]
as a single combination character. The default is to honor
combinations.</p>

<p style="margin-top: 1em">-p, --nocomments <br>
Stops cw from treating character strings bracketed by {...}
as &rsquo;comments&rsquo;. Characters inside these braces
will be echoed to standard output, but not sounded. When
com&acirc; <br>
ments are being honored, any embedded commands inside the
braces will be ignored. The default is to honor
comments.</p>

<p style="margin-top: 1em">-f, --infile=FILE <br>
Specifies a text file that cw can read to configure its
practice text.</p>

<p style="margin-top: 1em">-h, --help <br>
Prints short help message.</p>

<p style="margin-top: 1em">-V, --version <br>
Prints information about program&rsquo;s version, authors
and license.</p>

<p style="margin-top: 1em">SOUNDING CHARACTERS <br>
cw reads characters, one at a time, from its standard input
or from its input file. Lowercase letters are converted
internally to uppercase. The following list shows the valid
<br>
IS0 8859-1 (Latin-1) characters that can be sounded by
cw:</p>


<p style="margin-top: 1em">ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;$()+-./:;=?_@
and space</p>

<p style="margin-top: 1em">In addition, the program also
understands the following ISO 8859-1 and ISO 8859-2 accented
characters:</p>


<p style="margin-top: 1em">&Atilde;&Atilde;&Atilde;&Atilde;&Atilde;&Atilde;&Atilde;&Atilde;&Aring;
(S with cedilla), &Aring;&frac12; (Z with caron/hacek),</p>

<p style="margin-top: 1em">and accepts the following as
single character forms of common procedural signals:</p>

<p style="margin-top: 1em">&lt;&gt;!&amp;^~</p>

<p style="margin-top: 1em">See cw(7,LOCAL) for more
information on the above characters and Morse code.</p>

<p style="margin-top: 1em">If cw receives a character not
in this set, it prints an error message &rsquo;?c&rsquo;,
where c is the error character. The only exceptions to this
may be the cw command escape character <br>
&rsquo;%&rsquo;, the combination start and stop characters
&rsquo;[&rsquo; and &rsquo;]&rsquo;, and the comment start
and stop characters &rsquo;{&rsquo; and &rsquo;}&rsquo;. See
EMBEDDED COMMANDS and MORSE CODE COMBINATIONS below.</p>

<p style="margin-top: 1em">EMBEDDED COMMANDS <br>
cw recognizes special sequences in the input stream as
embedded commands. These commands alter the parameters of
the cw while it is running, or query current values. All
com&acirc; <br>
mands are prefixed by the command escape character
&rsquo;%&rsquo;, and those which set a value end with a
semicolon.</p>

<p style="margin-top: 1em">The format of an embedded
command to change a parameter value is</p>

<p style="margin-top: 1em">%Cvalue;</p>

<p style="margin-top: 1em">where C is a command letter
indicating what action cw is to take, and value is the
argument or value for the command.</p>

<p style="margin-top: 1em">Valid command letters are</p>

<p style="margin-top: 1em">T Sets the tone pitch used to
sound a character.</p>

<p style="margin-top: 1em">W Sets the sending speed.</p>

<p style="margin-top: 1em">G Sets the
&rsquo;Farnsworth&rsquo; gap between characters.</p>

<p style="margin-top: 1em">K Sets the weighting.</p>

<p style="margin-top: 1em">E Disables or re-enables echoing
of sent characters on standard output.</p>

<p style="margin-top: 1em">M Disables or re-enables error
messages on standard error.</p>

<p style="margin-top: 1em">S Disables or re-enables speaker
tone generation.</p>

<p style="margin-top: 1em">C Disables processing of
embedded commands. Note that once disabled, this command
cannot re-enable them.</p>

<p style="margin-top: 1em">O Disables or re-enables
recognition of [...] character combinations.</p>

<p style="margin-top: 1em">P Disables or re-enables
recognition of {...} comments. When comments are being
recognized, any character after an opening &rsquo;{&rsquo;
and before any closing &rsquo;}&rsquo; will be echoed to
<br>
standard output, but will not be sounded, or have any other
effect.</p>

<p style="margin-top: 1em">For example, the embedded
command sequence</p>

<p style="margin-top: 1em">%W25;%T1200;</p>

<p style="margin-top: 1em">will set cw to a speed of 25
WPM, and a tone pitch of 1200Hz.</p>

<p style="margin-top: 1em">The &rsquo;T&rsquo;,
&rsquo;W&rsquo;, &rsquo;G&rsquo;, and &rsquo;A&rsquo;
commands take values along with the command. The limits on
values given for embedded commands are the same as the
limits available for command line <br>
options, detailed above.</p>

<p style="margin-top: 1em">The &rsquo;E&rsquo;,
&rsquo;M&rsquo;, &rsquo;S&rsquo;, &rsquo;C&rsquo; and
&rsquo;O&rsquo; commands are flags, and treat a value of
zero as clear, and any other value as set. So, for example,
the sequence</p>

<p style="margin-top: 1em">%M0;%C0;</p>

<p style="margin-top: 1em">will turn off error messages,
and then turn off the processing of embedded commands.</p>

<p style="margin-top: 1em">If a parameter is set
successfully, cw reports the new setting on standard error
(except if no error messages is set). If an error is
detected in an embedded command, cw reports <br>
an error. For the formats of error messages see the MESSAGE
FORMATS section below.</p>

<p style="margin-top: 1em">The current values of parameters
within cw may be queried, as well as set. The command
format</p>

<p style="margin-top: 1em">%?C</p>

<p style="margin-top: 1em">queries the value of the
parameter normally set with command C. cw reports the
current value on standard error, using the same format as
when new values are set.</p>

<p style="margin-top: 1em">The current values of parameters
within cw may also be requested as output in Morse code. The
command format</p>

<p style="margin-top: 1em">%&gt;C</p>

<p style="margin-top: 1em">will generate Morse output
reporting the value of the parameter normally set with
command C.</p>

<p style="margin-top: 1em">If embedded commands are
disabled, &rsquo;%&rsquo; characters are treated as any
other (in this case, invalid) input character.</p>

<p style="margin-top: 1em">Once processing of embedded
commands has been switched off, any command to switch this
feature back on will not be recognized. That is, after
&rsquo;%C0;&rsquo;, an &rsquo;%C1;&rsquo; will not be
rec&acirc; <br>
ognized.</p>

<p style="margin-top: 1em">There is one additional command,
and that is &rsquo;%Q&rsquo;. This command closes all open
files and terminates cw. Any characters after this command
in the input stream will be lost.</p>

<p style="margin-top: 1em">The file cw.h provides a full
set of definitions for the commands, special characters, and
status codes of cw.</p>

<p style="margin-top: 1em">MESSAGE FORMATS <br>
Where a parameter value is set correctly with an embedded
command, the message format</p>

<p style="margin-top: 1em">=Cvalue</p>

<p style="margin-top: 1em">is returned. C is the command
used, and value is the new value.</p>

<p style="margin-top: 1em">If an invalid value is supplied
for a parameter in an embedded command, a message</p>

<p style="margin-top: 1em">?Cvalue</p>

<p style="margin-top: 1em">is returned.</p>

<p style="margin-top: 1em">Where an invalid command is
encountered, the message format</p>

<p style="margin-top: 1em">?%C</p>

<p style="margin-top: 1em">is used. For an invalid query,
the message is</p>

<p style="margin-top: 1em">??C</p>

<p style="margin-top: 1em">and for an invalid request for a
parameter in Morse code the message is</p>

<p style="margin-top: 1em">?&gt;C</p>

<p style="margin-top: 1em">A character in the input stream
that cannot be sounded produces a message</p>

<p style="margin-top: 1em">?C</p>

<p style="margin-top: 1em">These messages are not intended
to be user-friendly, but are designed to be easily and
quickly interpreted by another program. Similarly, the
format of embedded commands is more <br>
computer-friendly than user-friendly.</p>

<p style="margin-top: 1em">If error messages are disabled,
no messages of any type are printed on standard error.</p>

<p style="margin-top: 1em">MORSE CODE COMBINATIONS <br>
The standard set of characters offered by cw may not be
sufficient for some purposes. For example, some
international characters do not have equivalent ISO 8859-1
and ISO 8859-2 <br>
that cw can sound directly.</p>

<p style="margin-top: 1em">To help in sounding such
characters, cw offers the ability to form combination
characters by placing individual character components
between [...] brackets. Cw sounds characters <br>
inside a combination without the usual gap between them. In
this way, any missing character in the set can be built.</p>

<p style="margin-top: 1em">For example</p>

<p style="margin-top: 1em">[VA]</p>

<p style="margin-top: 1em">is one way to form the VA
procedural signal, though</p>

<p style="margin-top: 1em">[SK]</p>

<p style="margin-top: 1em">works just as well. The
eight-dot error signal can be sounded with</p>

<p style="margin-top: 1em">[HSE]</p>

<p style="margin-top: 1em">or the C-cedilla in
international Morse code with</p>

<p style="margin-top: 1em">[CE]</p>

<p style="margin-top: 1em">There can be as many valid
letters, numbers, or figures inside the [...] brackets as
required. For example, an alternative way of sending the
error signal could be</p>

<p style="margin-top: 1em">[EEEEEEEE]</p>

<p style="margin-top: 1em">Finally, three alternative ways
of sending 73 might be</p>

<p style="margin-top: 1em">[TTEEE][EEETT] <br>
[TDE][EUT] <br>
[GEE][VT]</p>

<p style="margin-top: 1em">Embedded commands may be placed
inside [...] combinations if required. Combinations do not
nest.</p>

<p style="margin-top: 1em">This feature can be disabled by
using the -O or --nocombinations command line flags, or with
the &rsquo;O&rsquo; embedded command. If combinations are
disabled, &rsquo;[&rsquo; and &rsquo;]&rsquo; characters are
<br>
treated as any other (invalid) input character.</p>

<p style="margin-top: 1em">NOTES ON USING A SOUND CARD <br>
By default, cw tries to open default PulseAudio. If
PulseAudio server is not accessible, cw tries to open OSS
device &quot;/dev/audio&quot; to access the system sound
card. This is gener&acirc; <br>
ally the correct device to use, but for systems with special
requirements, or those with multiple sound cards, the option
-d or --device, combined with -s or --system can be used
<br>
to specify the device and audio system for sound card
access. If the sound card device cannot be set up, cw prints
the error message</p>

<p style="margin-top: 1em">cannot set up soundcard
sound</p>

<p style="margin-top: 1em">and exits.</p>

<p style="margin-top: 1em">Sound card devices, when opened
through OSS sound system, are usually single-access devices,
so that when one process has opened the device, other
processes are prevented from <br>
using it. In such cases cw will of course conflict with any
other programs that expect exclusive use of the system sound
card (for example, MP3 players). If cw finds that the <br>
sound card is already busy, it prints the error message</p>

<p style="margin-top: 1em">open /dev/audio: Device or
resource busy</p>

<p style="margin-top: 1em">and exits.</p>

<p style="margin-top: 1em">The sound card device is not
used if cw is only sending tones on the console speaker.</p>

<p style="margin-top: 1em">AUDIO OUTPUT - DEFAULTS AND
SELECTION <br>
cw first tries to access sound card using PulseAudio sound
system, using default device name, unless user specifies
other audio device with option -d or --device.</p>

<p style="margin-top: 1em">cw then tries to access sound
card using OSS audio system and default OSS audio device
name (&rsquo;/dev/audio&rsquo;), unless user specifies other
audio device with option -d or --device.</p>

<p style="margin-top: 1em">If opening soundcard through OSS
fails, cw tries to access the sound card using ALSA audio
system, and default ALSA audio device name
(&rsquo;default&rsquo;), unless user specifies other <br>
audio device with option -d or --device.</p>

<p style="margin-top: 1em">If opening soundcard through
ALSA also fails, cw tries to access system console buzzer
using default buzzer device &rsquo;/dev/console&rsquo;,
unless user specifies other audio device with <br>
option -d or --device.</p>

<p style="margin-top: 1em">It is very common that in order
to access the console buzzer device user has to have root
privileges. For that reason trying to open console buzzer
almost always fails. This is <br>
not a program&rsquo;s bug, this is a result of operating
system&rsquo;s restrictions. Making cw an suid binary
bypasses this restriction. The program does not fork() or
exec(), so making <br>
it suid should be relatively safe. Note however that this
practice is discouraged for security reasons.</p>

<p style="margin-top: 1em">As stated, user can tell cw
which device to use, using -d or --device option. Which
device files are suitable will depend on which operating
system is running, which system user <br>
ID runs cw, and which user groups user belongs to.</p>

<p style="margin-top: 1em">NOTES <br>
Despite the fact that this manual page constantly and
consistently refers to Morse code elements as dots and
dashes, DO NOT think in these terms when trying to learn
Morse code. <br>
Always think of them as &rsquo;dit&rsquo;s and
&rsquo;dah&rsquo;s.</p>

<p style="margin-top: 1em">The Morse code table in the
cw(7,LOCAL) man page is provided for reference only. If
learning for the first time, you will be much better off
learning by hearing the characters <br>
sent, rather than by looking at the table.</p>

<p style="margin-top: 1em">Other programs running in the
system may interfere with the timing of the Morse code that
cw is sending. If this is a problem, either try to run on a
quiescent system, or try <br>
running cw with nice(1L,C,1). UNIX is not really designed
for user-level programs to do the sort of fine timing
required to send Morse code. cw is therefore more sensitive
than <br>
most programs to other system activity.</p>

<p style="margin-top: 1em">cw uses system itimers for its
internal timing. On most UNIX flavors, itimers are not
guaranteed to signal a program exactly at the specified
time, and they generally offer a <br>
resolution only as good as the normal system &rsquo;clock
tick&rsquo; resolution. An itimer SIGALRM usually falls on a
system clock tick, making it accurate to no better than 10mS
on a typ&acirc; <br>
ical 100Hz kernel.</p>

<p style="margin-top: 1em">The effect of this is that an
itimer period is generally either exactly as specified, or,
more likely, slightly longer. At higher WPM settings, the
cumulative effect of this <br>
affects timing accuracy, because at higher speeds, there are
fewer 10mS clock ticks in a dot period. For example, at 12
WPM, the dot length is 100mS, enough to contain five
ker&acirc; <br>
nel clock ticks. But at 60 WPM, the dot length is 20mS, or
just two kernel clock ticks. So at higher speeds, the effect
of itimer resolutions becomes more pronounced.</p>

<p style="margin-top: 1em">To test itimer timing, first
try</p>

<p style="margin-top: 1em">X=&quot;PARIS PARIS PARIS PARIS
&quot;</p>

<p style="margin-top: 1em">echo &quot;$X&quot; | time cw -w
4</p>

<p style="margin-top: 1em">and note the elapsed time, which
should be very close to one minute. Next, try</p>

<p style="margin-top: 1em">echo
&quot;$X$X$X$X$X$X$X$X$X$X$X$X&quot; | time cw -w 48</p>

<p style="margin-top: 1em">The elapsed time should be the
same. If it has increased, this is the effect of system
itimers delaying for slightly longer than the specified
period (higher WPM rates make more <br>
itimer calls). That&rsquo;s itimers for you, not perfect for
this job, but the best there is without writing some, and
perhaps a lot of, kernel code.</p>

<p style="margin-top: 1em">Except for zero, which is
silent, tone values lower than 10Hz may not sound at the
expected pitch.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Send a string of characters at 25 WPM, 700Hz, with no extra
gaps:</p>

<p style="margin-top: 1em">echo &quot;UNIX CW SOUNDER&quot;
| cw -w 25 -t 700</p>

<p style="margin-top: 1em">Send a string at varying speeds
and tones on the console speaker, specifying a system
console device:</p>

<p style="margin-top: 1em">echo &quot;%W12;%T400;400HZ
12WPM %W25;%T1500;1500HZ 25WPM&quot; | cw -m -sc -d
/dev/tty2</p>

<p style="margin-top: 1em">Send C-cedilla, VA, and a report
of the WPM setting, with extra spacing at half volume:</p>

<p style="margin-top: 1em">echo &quot;[CE] [VA]
%&gt;W&quot; | cw -g 10 -v 50</p>

<p style="margin-top: 1em">ERRORS AND OMISSIONS <br>
Cut numbers are not provided, though they can be emulated,
up to a point, by pre-filtering.</p>

<p style="margin-top: 1em">An output to an optional
external device, for example, keying a line on the parallel
port, or a serial line, might also be useful.</p>

<p style="margin-top: 1em">SEE ALSO <br>
Man pages for cw(7,LOCAL), libcw(3,LOCAL), cwgen(1,LOCAL),
cwcp(1,LOCAL), and xcwcp(1,LOCAL).</p>

<p style="margin-top: 1em">cw ver. 3.5.0 CW Tutor Package
CW(1)</p>
<hr>
</body>
</html>
