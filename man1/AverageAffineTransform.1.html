<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>AVERAGEAFFINETRANSFORM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">AVERAGEAFFINETRANSFORM(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">AVERAGEAFFINETRANSFORM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
AverageAffineTransform - part of ANTS registration suite
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
AverageAffineTransform ImageDimension output_affine_transform [-R
  reference_affine_transform] {[-i] affine_transform_txt [weight(=1)] ]}
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Usage: Compute weighted average of input affine
    transforms.</dd>
</dl>
<div class="Pp"></div>
For 2D and 3D transform, the affine transform is first decomposed into scale x
  shearing x rotation. Then these parameters are averaged, using the weights if
  they provided. For 3D transform, the rotation component is the quaternion.
  After averaging, the quaternion will also be normalized to have unit norm. For
  2D transform, the rotation component is the rotation angle. The weight for
  each transform is a non-negative number. The sum of all weights will be
  normalized to 1 before averaging. The default value for each weight is 1.0.
<div class="Pp"></div>
All affine transforms is a &quot;centerd&quot; transform, following ITK
  convention. A reference_affine_transform defines the center for the output
  transform. The first provided transform is the default reference transform
  Output affine transform is a MatrixOffsetBaseTransform.
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-i</b>
  option takes the inverse of the affine mapping.</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">For example: 2 output_affine.txt <b>-R</b> A.txt A1.txt 1.0
      <b>-i</b> A2.txt 2.0 A3.txt A4.txt 6.0 A5.txt</dd>
</dl>
<div class="Pp"></div>
This computes: (1*A1 + 2*(A2)^-1 + A3 + A4*6 + A5 ) / (1+2+1+6+5)</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 2017</td>
    <td class="foot-os">AverageAffineTransform 2.1.0</td>
  </tr>
</table>
</body>
</html>
