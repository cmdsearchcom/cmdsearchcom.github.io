<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GRDVIEW(1gmt)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GRDVIEW(1gmt)</td>
    <td class="head-vol">GMT</td>
    <td class="head-rtitle">GRDVIEW(1gmt)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
grdview - Create 3-D perspective image or surface mesh from a grid
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>grdview</b> <i>relief_file</i> <b>-J</b><i>parameters</i> [
  <b>-B</b>[<b>p</b>| <b>s</b>]<i>parameters</i> ] [ <b>-C</b>[<i>cpt</i>]] [
  <b>-G</b><i>drapefile</i> | <b>-G</b><i>grd_r</i> <b>-G</b><i>grd_g</i>
  <b>-G</b> <i>grd_b</i> ] [ <b>-I</b><i>intensfile</i>|<i>intensity</i> ] [
  <b>-Jz</b>| <b>Z</b><i>parameters</i> ] [ <b>-K</b> ] [
  <b>-N</b><i>level</i>[<b>+g</b><i>fill</i>] ] [ <b>-O</b> ] [ <b>-P</b> ] [
  <b>-Q</b><i>args</i>[<b>+m</b>] ] [
  <b>-R</b><i>west</i>/<i>east</i>/<i>south</i>/
  <i>north</i>[/<i>zmin</i>/<i>zmax</i>][ <b>r</b>] ] [ <b>-S</b><i>smooth</i> ]
  [ <b>-T</b>[<b>s</b>][<b>o</b>[<i>pen</i>]] ] [ <b>-U</b>[<i>stamp</i>] ] [
  <b>-W</b><b>type</b><i>pen</i> ] [ <b>-X</b><i>x_offset</i> ] [
  <b>-Y</b><i>y_offset</i> ] [ <b>-c</b><i>copies</i> ] [ <b>-n</b>flags ] [
  <b>-p</b>flags ] [ <b>-t</b>transp ]
<div style="height: 1.00em;">&#x00A0;</div>
<b>Note:</b> No space is allowed between the option flag and the associated
  arguments.
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>grdview</b> reads a 2-D grid file and produces a 3-D perspective plot by
  drawing a mesh, painting a colored/grayshaded surface made up of polygons, or
  by scanline conversion of these polygons to a raster image. Options include
  draping a data set on top of a surface, plotting of contours on top of the
  surface, and apply artificial illumination based on intensities provided in a
  separate grid file.
<h1 class="Sh" title="Sh" id="REQUIRED_ARGUMENTS"><a class="selflink" href="#REQUIRED_ARGUMENTS">REQUIRED
  ARGUMENTS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>relief_file</i></b></dt>
  <dd class="It-tag">2-D gridded data set to be imaged (the relief of the
      surface). (See GRID FILE FORMAT below.)</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-J</b><i>parameters</i> (more ...)</dt>
  <dd class="It-tag">Select map projection.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Jz</b>|<b>Z</b><i>parameters</i> (more ...)</dt>
  <dd class="It-tag">Set z-axis scaling; same syntax as <b>-Jx</b>.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="OPTIONAL_ARGUMENTS"><a class="selflink" href="#OPTIONAL_ARGUMENTS">OPTIONAL
  ARGUMENTS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b>[<b>p</b>|<b>s</b>]<i>parameters</i> (more
    ...)</dt>
  <dd class="It-tag">Set map boundary intervals.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>[<i>cpt</i>]</dt>
  <dd class="It-tag">name of the CPT. Must be present if you want (1) mesh plot
      with contours ( <b>-Qm</b>), or (2) shaded/colored perspective image (
      <b>-Qs</b> or <b>-Qi</b>). For <b>-Qs</b>: You can specify that you want
      to skip a z-slice by setting red = -; to use a pattern give red =
      <b>P|p</b>
      <i>dpi/pattern</i>[:<b>F</b><i>color</i>[<b>B</b><i>color</i>]].
      Alternatively, supply the name of a GMT color master dynamic CPT [rainbow]
      to automatically determine a continuous CPT from the grid's z-range. If
      the dynamic CPT has a default range then that range will be imposed
      instead.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">
  <br/>
   <b>-G</b><i>drapefile</i> | <b>-G</b><i>grd_r</i> <b>-G</b><i>grd_g</i>
    <b>-G</b> <i>grd_b</i></dt>
  <dd class="It-tag">Drape the image in <i>drapefile</i> on top of the relief
      provided by <i>relief_file</i>. [Default is <i>relief_file</i>]. Note that
      <b>-Jz</b> and <b>-N</b> always refers to the <i>relief_file</i>. The
      <i>drapefile</i> only provides the information pertaining to colors, which
      is looked-up via the CPT (see <b>-C</b>). Alternatively, give three grid
      files via separate <b>-G</b> options in the specified order. These files
      must contain the red, green, and blue colors directly (in 0-255 range) and
      no CPT is needed. The <i>drapefile</i> may be of higher resolution than
      the <i>relief_file</i>.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b><i>intensfile</i>|<i>intensity</i></dt>
  <dd class="It-tag">Gives the name of a grid file with intensities in the
      (-1,+1) range, or a constant intensity to apply everywhere. [Default is no
      illumination].</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b> (more ...)</dt>
  <dd class="It-tag">Do not finalize the PostScript plot.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b><i>level</i>[<b>+g</b><i>fill</i>]</dt>
  <dd class="It-tag">Draws a plane at this z-level. If the optional <i>color</i>
      is provided via the <b>+g</b> modifier, the frontal facade between the
      plane and the data perimeter is colored. See <b>-Wf</b> for setting the
      pen used for the outline.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b> (more ...)</dt>
  <dd class="It-tag">Append to existing PostScript plot.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b> (more ...)</dt>
  <dd class="It-tag">Select &quot;Portrait&quot; plot orientation.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b><i>args</i>[<b>+m</b>]</dt>
  <dd class="It-tag">Select one of following settings. For any of these choices,
      you may force a monochrome image by appending the modifier <b>+m</b>.
      Colors are then converted to shades of gray using the (monochrome
      television) YIQ transformation</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">Specify <b>m</b> for mesh plot [Default], and optionally
      append <i>color</i> for a different mesh paint [white].</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">Specify <b>mx</b> or <b>my</b> for waterfall plots (row or
      column profiles). Specify color as for plain <b>m</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">Specify <b>s</b> for surface plot, and optionally append
      <b>m</b> to have mesh lines drawn on top of surface.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4.</dt>
  <dd class="It-tag">Specify <b>i</b> for image plot, and optionally append the
      effective dpi resolution for the rasterization [100].</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5.</dt>
  <dd class="It-tag">Specify <b>c</b>. Same as <b>-Qi</b> but will make nodes
      with z = NaN transparent, using the colormasking feature in PostScript
      Level 3 (the PS device must support PS Level 3). .</dd>
</dl>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b>[<i>unit</i>]<i>xmin</i>/<i>xmax</i>/<i>ymin</i>/<i>ymax</i>[<b>r</b>]
    (more ...)</dt>
  <dd class="It-tag">Specify the region of interest.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
For perspective view <b>p</b>, optionally append /<i>zmin</i>/<i>zmax</i>. (more
  ...) This option may be used to indicate the range used for the 3-D axes
  [Default is region given by the <i>relief_file</i>]. You may ask for a larger
  <i>w/e/s/n</i> region to have more room between the image and the axes. A
  smaller region than specified in the <i>relief_file</i> will result in a
  subset of the grid.
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b><i>smooth</i></dt>
  <dd class="It-tag">Smooth the contours before plotting (see <b>grdcontour</b>)
      [Default is no smoothing].</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b>[<b>s</b>][<b>o</b>[<i>pen</i>]]</dt>
  <dd class="It-tag">Plot image without any interpolation. This involves
      converting each node-centered bin into a polygon which is then painted
      separately. Append <b>s</b> to skip nodes with z = NaN. This option is
      useful for categorical data where interpolating between values is
      meaningless. Optionally, append <b>o</b> to draw the tile outlines, and
      specify a custom pen if the default pen is not to your liking. As this
      option produces a flat surface it cannot be combined with <b>-JZ</b> or
      <b>-Jz</b>.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>[<i>just</i>/<i>dx</i>/<i>dy</i>/][<b>c</b>|<i>label</i>]
    (more ...)</dt>
  <dd class="It-tag">Draw GMT time stamp logo on plot.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>[<i>level</i>] (more ...)</dt>
  <dd class="It-tag">Select verbosity level [c].</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-W</b><b>type</b><i>pen</i>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Wc</b></dt>
  <dd class="It-tag">Draw contour lines on top of surface or mesh (not image).
      Append pen attributes used for the contours. [Default: width = 0.75p,
      color = black, style = solid].</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Wm</b></dt>
  <dd class="It-tag">Sets the pen attributes used for the mesh. [Default: width
      = 0.25p, color = black, style = solid]. You must also select <b>-Qm</b> or
      <b>-Qsm</b> for meshlines to be drawn.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Wf</b></dt>
  <dd class="It-tag">Sets the pen attributes used for the facade. [Default:
      width = 0.25p, color = black, style = solid]. You must also select
      <b>-N</b> for the facade outline to be drawn.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-X</b>[<b>a</b>|<b>c</b>|<b>f</b>|<b>r</b>][<i>x-shift</i>[<b>u</b>]]
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Y</b>[<b>a</b>|<b>c</b>|<b>f</b>|<b>r</b>][<i>y-shift</i>[<b>u</b>]]
    (more ...)</dt>
  <dd class="It-tag">Shift plot origin.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b><i>copies</i> (more ...)</dt>
  <dd class="It-tag">Specify number of plot copies [Default is 1].</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>[<b>b</b>|<b>c</b>|<b>l</b>|<b>n</b>][<b>+a</b>][<b>+b</b><i>BC</i>][<b>+c</b>][<b>+t</b><i>threshold</i>]
    (more ...)</dt>
  <dd class="It-tag">Select interpolation mode for grids.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>[<b>x</b>|<b>y</b>|<b>z</b>]<i>azim</i>/<i>elev</i>[/<i>zlevel</i>][<b>+w</b><i>lon0</i>/<i>lat0</i>[/<i>z0</i>]][<b>+v</b><i>x0</i>/<i>y0</i>]
    (more ...)</dt>
  <dd class="It-tag">Select perspective view.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>[<i>transp</i>] (more ...)</dt>
  <dd class="It-tag">Set PDF transparency level in percent.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-^</b> or just <b>-</b></dt>
  <dd class="It-tag">Print a short message about the syntax of the command, then
      exits (NOTE: on Windows use just <b>-</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-+</b> or just <b>+</b></dt>
  <dd class="It-tag">Print an extensive usage (help) message, including the
      explanation of any module-specific option (but not the GMT common
      options), then exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?</b> or no arguments</dt>
  <dd class="It-tag">Print a complete usage (help) message, including the
      explanation of options, then exits.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="GRID_FILE_FORMATS"><a class="selflink" href="#GRID_FILE_FORMATS">GRID
  FILE FORMATS</a></h1>
By default GMT writes out grid as single precision floats in a COARDS-complaint
  netCDF file format. However, GMT is able to produce grid files in many other
  commonly used grid file formats and also facilitates so called
  &quot;packing&quot; of grids, writing out floating point data as 1- or 2-byte
  integers. (more ...)
<h1 class="Sh" title="Sh" id="CONSEQUENCES_OF_GRID_RESAMPLING"><a class="selflink" href="#CONSEQUENCES_OF_GRID_RESAMPLING">CONSEQUENCES
  OF GRID RESAMPLING</a></h1>
Except for Cartesian cases, we need to resample your geographic grid onto an
  equidistant projected grid. In doing so various algorithms come into play that
  projects data from one lattice to another while avoiding anti-aliasing,
  leading to possible distortions. One expected effect of resampling with
  splines is the tendency for the new resampled grid to slightly exceed the
  global min/max limits of the original grid. If this is coupled with tight CPT
  limits you may find that some map areas may show up with fore- or background
  color due to the resampling. In that case you have two options: (1) Modify
  your CPT to fit the resampled extrema (reported with <b>-V</b>) or (2) Impose
  clipping of resampled values so they do not exceed the input min/max values
  (add <b>+c</b> to your <b>-n</b> option).
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To make a mesh plot from the file hawaii_grav.nc and drawing the contours given
  in the CPT hawaii.cpt on a Lambert map at 1.5 cm/degree along the standard
  parallels 18 and 24, with vertical scale 20 mgal/cm, and looking at the
  surface from SW at 30 degree elevation, run
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdview hawaii_grav.nc -Jl18/24/1.5c -Chawaii.cpt \
            -Jz0.05c -Qm -N-100 -p225/30 -Wc &gt; hawaii_grav_image.ps
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To create a illuminated color perspective plot of the gridded data set image.nc,
  using the CPT color.rgb, with linear scaling at 10 cm/x-unit and tickmarks
  every 5 units, with intensities provided by the file intens.nc, and looking
  from the SE, use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdview image.nc -Jx10.0c -Ccolor.rgb -Qs -p135/30 -Iintens.nc &gt; image3D.ps
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To make the same plot using the rastering option with dpi = 50, use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdview image.nc -Jx10.0c -Ccolor.rgb -Qi50 -p135/30 -Iintens.nc &gt; image3D.ps
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To create a color PostScript perspective plot of the gridded data set
  magnetics.nc, using the CPT mag_intens.cpt, draped over the relief given by
  the file topography.nc, with Mercator map width of 6 inch and tickmarks every
  1 degree, with intensities provided by the file topo_intens.nc, and looking
  from the SE, run
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdview topography.nc -JM6i -Gmagnetics.nc -Cmag_intens.cpt \
            -Qs -p140/30 -Itopo_intens.nc &gt; draped3D.ps
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Given topo.nc and the Landsat image veggies.ras, first run <b>grd2rgb</b> to get
  the red, green, and blue grids, and then drape this image over the topography
  and shade the result for good measure. The commands are
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grd2rgb veggies.ras -Glayer_%c.nc
gmt grdview topo.nc -JM6i -Qi -p140/30 -Itopo_intens.nc \
           -Glayer_r.nc -Glayer_g.nc -Glayer_b.nc &gt; image.ps
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="REMARKS"><a class="selflink" href="#REMARKS">REMARKS</a></h1>
For the <b>-Qs</b> option: PostScript provides no way of smoothly varying colors
  within a polygon, so colors can only vary from polygon to polygon. To obtain
  smooth images this way you may resample the grid file(s) using
  <b>grdsample</b> or use a finer grid size when running gridding programs like
  <b>surface</b> or <b>nearneighbor</b>. Unfortunately, this produces huge
  PostScript files. The alternative is to use the <b>-Qi</b> option, which
  computes bilinear or bicubic continuous color variations within polygons by
  using scanline conversion to image the polygons.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
gmt, grd2rgb, gmtcolors, grdcontour, grdimage, nearneighbor, psbasemap,
  pscontour, pstext, surface
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2016, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 5, 2016</td>
    <td class="foot-os">5.3.1</td>
  </tr>
</table>
</body>
</html>
