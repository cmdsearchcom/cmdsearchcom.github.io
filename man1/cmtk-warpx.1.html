<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:59:35 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>warpx(1) The Computational Morphometry Toolkit
warpx(1)</p>

<p style="margin-top: 1em">NAME <br>
warpx - B-spline nonrigid registration</p>

<p style="margin-top: 1em">SYNOPSIS <br>
warpx ReferenceImage FloatingImage InitialXform</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This program performs nonrigid image registration using
multi-resolution optimization of voxel-based image
similarity measures and a multi-resolution B-spline
transformation <br>
model.</p>

<p style="margin-top: 1em">OPTIONS <br>
Global Toolkit Options (these are shared by all CMTK tools)
<br>
--help <br>
Write list of basic command line options to standard
output.</p>

<p style="margin-top: 1em">--help-all <br>
Write complete list of basic and advanced command line
options to standard output.</p>

<p style="margin-top: 1em">--wiki <br>
Write list of command line options to standard output in
MediaWiki markup.</p>

<p style="margin-top: 1em">--man <br>
Write man page source in &rsquo;nroff&rsquo; markup to
standard output.</p>

<p style="margin-top: 1em">--xml <br>
Write command line syntax specification in XML markup (for
Slicer integration).</p>

<p style="margin-top: 1em">--version <br>
Write toolkit version to standard output.</p>

<p style="margin-top: 1em">--echo <br>
Write the current command line to standard output.</p>

<p style="margin-top: 1em">--verbose-level &lt;integer&gt;
<br>
Set verbosity level.</p>

<p style="margin-top: 1em">--verbose, -v <br>
Increment verbosity level by 1 (deprecated; supported for
backward compatibility).</p>

<p style="margin-top: 1em">--threads &lt;integer&gt; <br>
Set maximum number of parallel threads (for POSIX threads
and OpenMP).</p>

<p style="margin-top: 1em">Transformation import/export
<br>
--initial &lt;transformation-path&gt; <br>
Initialize transformation from given path [Default:
NONE]</p>

<p style="margin-top: 1em">--invert-initial <br>
Invert given (affine) initial transformation.</p>

<p style="margin-top: 1em">--write-itk-xform
&lt;transformation-path&gt; <br>
Output path for final transformation in ITK format [Default:
NONE]</p>

<p style="margin-top: 1em">--write-reformatted
&lt;image-path&gt; <br>
Write reformatted floating image. [Default: NONE]</p>

<p style="margin-top: 1em">Transformation parameters <br>
--grid-spacing &lt;double&gt; <br>
Control point grid spacing [Default: 10]</p>

<p style="margin-top: 1em">--grid-refine &lt;integer&gt;
<br>
Number of refinements (control point grid resolution levels)
[Default: 0]</p>

<p style="margin-top: 1em">--delay-refine <br>
Delay control point grid refinement; first switch to next
higher image resolution</p>

<p style="margin-top: 1em">--exact-spacing <br>
Use exact control point spacing; do not modify spacing to
fit reference image bounding box</p>

<p style="margin-top: 1em">--ignore-edge &lt;integer&gt;
<br>
Ignore n control point layers along each image face
[Default: 0]</p>

<p style="margin-top: 1em">--restrict &lt;string&gt; <br>
Restrict deformation to coordinate dimension(s) [one or more
of &rsquo;x&rsquo;,&rsquo;y&rsquo;,&rsquo;z&rsquo;]
[Default: NONE]</p>

<p style="margin-top: 1em">--no-adaptive-fix <br>
Disable adaptive fixing of control points; optimize all
deformation parameters</p>

<p style="margin-top: 1em">--adaptive-fix-thresh
&lt;float&gt; <br>
Threshold factor for entropy criterion to fix local control
points [Default: 0.5]</p>

<p style="margin-top: 1em">--accurate <br>
Accurate computation mode: may give slightly better results
after substantially longer computation [This is the
default]</p>

<p style="margin-top: 1em">--fast <br>
Fast computation mode: may give slightly worse results than
accurate mode, but saves substantial CPU time</p>

<p style="margin-top: 1em">Regularization parameters <br>
--jacobian-constraint-weight &lt;float&gt; <br>
Weight for Jacobian-based local volume preservation
constraint [Default: 0]</p>

<p style="margin-top: 1em">--smoothness-constraint-weight
&lt;float&gt; <br>
Weight for smoothness constraint based on second-order grid
bending energy. [Default: 0]</p>

<p style="margin-top: 1em">--inverse-consistency-weight
&lt;float&gt; <br>
Weight for inverse consistency constraint [Default: 0]</p>

<p style="margin-top: 1em">--constraint-relaxation-factor
&lt;float&gt; <br>
Weight relaxation factor for alternating under-constrained
iterations [Default: -1]</p>

<p style="margin-top: 1em">--relax-to-unfold <br>
Before each resolution level, regularize negative-Jacobian
areas of the deformation to unfold them.</p>

<p style="margin-top: 1em">Optimization parameters <br>
--max-stepsize &lt;double&gt; <br>
Maximum optimizer step size, which determines search space
exploration. [Default: -1]</p>

<p style="margin-top: 1em">--min-stepsize &lt;double&gt;
<br>
Minimum optimizer step size, which determines precision.
[Default: -1]</p>

<p style="margin-top: 1em">--stepfactor &lt;double&gt; <br>
Factor for search step size reduction. Must be &gt; 0.0 and
&lt; 1.0 [default: 0.5] [Default: 0.5]</p>

<p style="margin-top: 1em">--delta-f-threshold
&lt;double&gt; <br>
Optional threshold to terminate optimization (level) if
relative change of target function drops below this value.
[Default: 0]</p>

<p style="margin-top: 1em">--no-maxnorm <br>
Use Euclid norm for gradient normalication in optimization,
rather than maximum norm</p>

<p style="margin-top: 1em">Image resolution parameters <br>
--sampling &lt;double&gt;, -s &lt;double&gt; <br>
Image sampling (finest resampled image resolution) [Default:
-1]</p>

<p style="margin-top: 1em">--coarsest &lt;double&gt; <br>
Upper limit for image sampling in multiresolution hierarchy
[Default: -1]</p>

<p style="margin-top: 1em">--omit-original-data <br>
Do not use original data in full resolution for final
registration stage.</p>

<p style="margin-top: 1em">Image data <br>
--registration-metric <br>
Registration metric for motion estimation by image-to-image
registration. Supported values: &quot;nmi&quot;,
&quot;mi&quot;, &quot;cr&quot;, &quot;rms&quot;,
&quot;msd&quot;, &quot;ncc&quot;, where the default is
&quot;nmi&quot;, or use one <br>
of the following:</p>

<p style="margin-top: 1em">--nmi <br>
Normalized Mutual Information metric [This is the
default]</p>

<p style="margin-top: 1em">--mi Standard Mutual Information
metric</p>

<p style="margin-top: 1em">--cr Correlation Ratio
metric</p>

<p style="margin-top: 1em">--rms <br>
Root of Mean Squaresa metric (this is the square root of
MSD)</p>

<p style="margin-top: 1em">--msd <br>
Mean Squared Difference metric</p>

<p style="margin-top: 1em">--ncc <br>
Normalized Cross Correlation metric</p>

<p style="margin-top: 1em">Floating Image Interpolation
Options <br>
--interpolation <br>
Interpolation method for floating image sampling: Supported
values: &quot;nearest-neighbor&quot;, &quot;linear&quot;,
&quot;cubic&quot;, &quot;cosine-sinc&quot;,
&quot;partial-volume&quot;, &quot;automatic&quot;, where the
default is <br>
&quot;automatic&quot;, or use one of the following:</p>

<p style="margin-top: 1em">--nearest-neighbor <br>
Nearest neighbor interpolation (for intensity and label
data)</p>

<p style="margin-top: 1em">--linear <br>
Trilinear interpolation</p>

<p style="margin-top: 1em">--cubic <br>
Tricubic interpolation</p>

<p style="margin-top: 1em">--cosine-sinc <br>
Cosine-windowed sinc interpolation (most accurate but
slowest)</p>

<p style="margin-top: 1em">--partial-volume <br>
Partial volume interpolation (for label data)</p>

<p style="margin-top: 1em">--automatic <br>
Select interpolation automatically based on data type:
linear for grey-level data, nearest neighbor for label data.
[This is the default]</p>

<p style="margin-top: 1em">--match-histograms <br>
Match floating image histogram to reference image
histogram.</p>

<p style="margin-top: 1em">--repeat-match-histograms <br>
Repeat histogram matching after every level of the
registration to account for volume changes. When registering
masked data, it is advisable to also use the
--force-outside- <br>
value option to prevent poorly matched histograms.</p>

<p style="margin-top: 1em">--force-outside-value
&lt;double&gt; <br>
Force values outside field of view to this value rather than
drop incomplete pixel pairs [Default: disabled]</p>

<p style="margin-top: 1em">Reference Image Preprocessing
<br>
--class-ref &lt;string&gt; <br>
Data class: grey (default) or label [Default: NONE]</p>

<p style="margin-top: 1em">--pad-ref &lt;double&gt; <br>
Padding value [Default: disabled]</p>

<p style="margin-top: 1em">--thresh-min-ref &lt;double&gt;
<br>
Minimum value truncation threshold [Default: disabled]</p>

<p style="margin-top: 1em">--thresh-max-ref &lt;double&gt;
<br>
Maximum value truncation threshold [Default: disabled]</p>

<p style="margin-top: 1em">--prune-histogram-ref
&lt;integer&gt; <br>
Number of bins for histogram-based pruning [Default:
disabled]</p>

<p style="margin-top: 1em">--histogram-equalization-ref
<br>
Apply histogram equalization</p>

<p style="margin-top: 1em">--median-filter-radius-ref
&lt;integer&gt; <br>
Apply median filter with given radius [Default: 0]</p>

<p style="margin-top: 1em">--sobel-filter-ref <br>
Apply Sobel edge detection filter</p>

<p style="margin-top: 1em">--crop-index-ref &lt;string&gt;
<br>
Cropping region in pixel index coordinates [parsed as
%d,%d,%d,%d,%d,%d for i0,j0,k0,i1,j1,k1] [Default: NONE]</p>

<p style="margin-top: 1em">--crop-world-ref &lt;string&gt;
<br>
Cropping region in world coordinates [parsed as
%f,%f,%f,%f,%f,%f for x0,y0,z0,x1,y1,z1] [Default: NONE]</p>

<p style="margin-top: 1em">--crop-thresh-ref &lt;double&gt;
<br>
Automatic cropping based on threshold [Default:
disabled]</p>

<p style="margin-top: 1em">Floating Image Preprocessing
<br>
--class-flt &lt;string&gt; <br>
Data class: grey (default) or label [Default: NONE]</p>

<p style="margin-top: 1em">--pad-flt &lt;double&gt; <br>
Padding value [Default: disabled]</p>

<p style="margin-top: 1em">--thresh-min-flt &lt;double&gt;
<br>
Minimum value truncation threshold [Default: disabled]</p>

<p style="margin-top: 1em">--thresh-max-flt &lt;double&gt;
<br>
Maximum value truncation threshold [Default: disabled]</p>

<p style="margin-top: 1em">--prune-histogram-flt
&lt;integer&gt; <br>
Number of bins for histogram-based pruning [Default:
disabled]</p>

<p style="margin-top: 1em">--histogram-equalization-flt
<br>
Apply histogram equalization</p>

<p style="margin-top: 1em">--median-filter-radius-flt
&lt;integer&gt; <br>
Apply median filter with given radius [Default: 0]</p>

<p style="margin-top: 1em">--sobel-filter-flt <br>
Apply Sobel edge detection filter</p>

<p style="margin-top: 1em">--crop-index-flt &lt;string&gt;
<br>
Cropping region in pixel index coordinates [parsed as
%d,%d,%d,%d,%d,%d for i0,j0,k0,i1,j1,k1] [Default: NONE]</p>

<p style="margin-top: 1em">--crop-world-flt &lt;string&gt;
<br>
Cropping region in world coordinates [parsed as
%f,%f,%f,%f,%f,%f for x0,y0,z0,x1,y1,z1] [Default: NONE]</p>

<p style="margin-top: 1em">--crop-thresh-flt &lt;double&gt;
<br>
Automatic cropping based on threshold [Default:
disabled]</p>

<p style="margin-top: 1em">Output parameters <br>
--outlist &lt;string&gt;, -o &lt;string&gt; <br>
Output path for final transformation [Default: NONE]</p>

<p style="margin-top: 1em">--time &lt;string&gt;, -t
&lt;string&gt; <br>
Computation time statistics output file name [Default:
NONE]</p>

<p style="margin-top: 1em">--output-intermediate <br>
Write transformation for each level [default: only write
final transformation]</p>

<p style="margin-top: 1em">Image/Transformation Database
<br>
--db &lt;string&gt; <br>
Path to image/transformation database that should be updated
with the new registration and/or reformatted image.
[Default: NONE]</p>

<p style="margin-top: 1em">AUTHORS <br>
Torsten Rohlfing, with contributions from Michael P. Hasak,
Greg Jefferis, Calvin R. Maurer, Daniel B. Russakoff, and
Yaroslav Halchenko</p>

<p style="margin-top: 1em">LICENSE <br>
http://www.fsf.org/licensing/licenses/gpl.html</p>

<p style="margin-top: 1em">BUGS <br>
Report bugs at http://nitrc.org/projects/cmtk/</p>

<p style="margin-top: 1em">ACKNOWLEDGMENTS <br>
CMTK is developed with support from the NIAAA under Grant
AA021697, National Consortium on Alcohol and
Neurodevelopment in Adolescence (N-CANDA): Data Integration
Component. From <br>
April 2009 through September 2011, CMTK development and
maintenance was supported by the NIBIB under Grant
EB008381.</p>

<p style="margin-top: 1em">CMTK 3.3.1 Jan 13 2017
warpx(1)</p>
<hr>
</body>
</html>
