<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ipsilon-client-install(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ipsilon-client-install(1)</td>
    <td class="head-vol">Ipsilon Manual Pages</td>
    <td class="head-rtitle">ipsilon-client-install(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ipsilon-client-install - Configure an Ipsilon client
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
ipsilon-client-install [OPTION]...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Configures a server to be used as a Service Provider (SP) in federation with an
  Ipsilon instance as its Identity Provider (IdP).
<div style="height: 1.00em;">&#x00A0;</div>
By default, Apache is configured using mod_auth_mellon to handle the SAML 2
  Federation.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-h</b>, <b>--help</b> Show help message and exit
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Show program's version number and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostname</b> <i>HOSTNAME</i></dt>
  <dd class="It-tag">Machine's fully qualified host name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--port</b> PORT</dt>
  <dd class="It-tag">Port number that SP listens on. The default is to not set a
      specific listen port. The --saml-secure-setup option can affect this.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--admin-user</b> <i>ADMIN_USER</i></dt>
  <dd class="It-tag">Account allowed to create a Service Provider (SP). The
      default is admin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--admin-password</b> <i>ADMIN_PASSWORD</i></dt>
  <dd class="It-tag">File containing the password for the account used toc reate
      a SP (- to read from stdin)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--httpd-user</b> <i>HTTPD_USER</i></dt>
  <dd class="It-tag">Web server account used. Some files created by the
      installation will be chown(1) to this user. The default is apache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml</b></dt>
  <dd class="It-tag">Boolean value whether to install a saml2 SP or not. Default
      is True.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-idp-url</b> <i>SAML_IDP_URL</i></dt>
  <dd class="It-tag">An URL of the Ipsilon instance to register the SP
    with.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-idp-metadata</b> <i>SAML_IDP_METADATA</i></dt>
  <dd class="It-tag">An URL pointing at the IDP Metadata (FILE or HTTP)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-no-httpd</b></dt>
  <dd class="It-tag">Do not configure httpd. The default is False.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-base</b> <i>SAML_BASE</i></dt>
  <dd class="It-tag">Where saml2 authdata is available (default: /)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-auth</b> <i>SAML_AUTH</i></dt>
  <dd class="It-tag">Where saml2 authentication is enforced. The default is
      /saml2protected. This only applies when configuring Apache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-sp</b> <i>SAML_SP</i></dt>
  <dd class="It-tag">Where saml communication happens. The default is
    /saml2.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-sp-logout</b> <i>SAML_SP_LOGOUT</i></dt>
  <dd class="It-tag">Single Logout URL. The default is /saml2/logout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-sp-post</b> <i>SAML_SP_POST</i></dt>
  <dd class="It-tag">Post response URL. The default is /saml2/postResponse.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-secure-setup</b></dt>
  <dd class="It-tag">Turn on all security checks. The default is True.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-nameid</b></dt>
  <dd class="It-tag">The saml2 NameID format that this SP will use. Must be one
      of:
      x509,transient,persistent,windows,encrypted,kerberos,email,unspecified,entity.
      The default is unspecified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--saml-sp-name</b> <i>SAML_SP_NAME</i></dt>
  <dd class="It-tag">The SP name to register with the IdP.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Turn on script debugging</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--uninstall</b></dt>
  <dd class="It-tag">Uninstall the ipsilon client</dd>
</dl>
<h1 class="Sh" title="Sh" id="CERTIFICATES"><a class="selflink" href="#CERTIFICATES">CERTIFICATES</a></h1>
Two levels of SSL certificates may be used in an Ipsilon instalation.
<div style="height: 1.00em;">&#x00A0;</div>
An X509 signing certificate is used by Ipsilon to sign SAML 2 messages. The
  public key of the certificate is passed in the SAML metadata exchanged between
  the Identity Provider and the Service Provider. This certificate and key are
  automatically generated.
<div style="height: 1.00em;">&#x00A0;</div>
Any page on the SP that will use the authentication provided by the IdP will
  need to be protected by SSL in order to access the secure cookie that the IdP
  provides. Ipsilon does not provide this certificate.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Install a SAML 2 SP using the IdP instance idp on idp.example.com.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 # ipsilon-client-install --saml-idp-metadata
  https://idp.example.com/idp/saml2/metadata --saml-auth /protected
<div style="height: 1.00em;">&#x00A0;</div>
Any unauthenticated request to /protected will trigger a redirect to the IdP for
  authentication.
<div style="height: 1.00em;">&#x00A0;</div>
Once the SP has been generated it needs to be registered with the IdP.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 if the installation was successful
<div style="height: 1.00em;">&#x00A0;</div>
1 if an error occurred
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ipsilon(7)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">1.0.0</td>
    <td class="foot-os">Ipsilon</td>
  </tr>
</table>
</body>
</html>
