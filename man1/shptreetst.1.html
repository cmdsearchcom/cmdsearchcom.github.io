<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:37:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>shptreetst(1) shptreetst(1)</p>

<p style="margin-top: 1em">NAME <br>
shptreetst - execute a spatial query on an existing spatial
index</p>

<p style="margin-top: 1em">SYNOPSIS <br>
shptreetst shapefile [minx miny maxx maxy]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
shptreetst executes a spatial query on an existing spatial
index (.qix), that was created by the shptree(1) utility.
This utility is useful to understand how a search of a Shape
<br>
data set and its qix index works.</p>

<p style="margin-top: 1em">OPTIONS <br>
shapefile <br>
The name of the .shp file index.</p>

<p style="margin-top: 1em">minx miny maxx maxy <br>
Extents to render</p>

<p style="margin-top: 1em">EXAMPLE <br>
shptreetst esp 879827.480246 4317203.699447 884286.289767
4321662.508967</p>

<p style="margin-top: 1em">This new LSB index supports a
shapefile with 48 shapes, 4 depth <br>
shapes 6, node 4,
-13702.315770,3973784.599548,1127752.921471,4859616.714055
<br>
shapes 5, node 3,
-13702.315770,3973784.599548,614098.064712,4460992.262527
<br>
shapes 1, node 1,
-13702.315770,3973784.599548,331587.893495,4241748.814186
<br>
shapes 1, node 0,
141678.278400,3973784.599548,331587.893495,4121164.917599
<br>
shapes 1, node 0,
268807.855447,4193028.047889,614098.064712,4460992.262527
<br>
shapes 1, node 0,
268807.855447,3973784.599548,614098.064712,4241748.814186
<br>
shapes 7, node 4,
-13702.315770,4372409.051076,614098.064712,4859616.714055
<br>
shapes 1, node 0,
-13702.315770,4372409.051076,331587.893495,4640373.265714
<br>
shapes 3, node 1,
-13702.315770,4591652.499417,331587.893495,4859616.714055
<br>
shapes 1, node 0,
-13702.315770,4712236.396004,176207.299326,4859616.714055
<br>
shapes 2, node 0,
268807.855447,4372409.051076,614098.064712,4640373.265714
<br>
shapes 3, node 2,
268807.855447,4591652.499417,614098.064712,4859616.714055
<br>
shapes 2, node 0,
424188.449617,4712236.396004,614098.064712,4859616.714055
<br>
shapes 1, node 0,
424188.449617,4591652.499417,614098.064712,4739032.817468
<br>
shapes 2, node 1,
499952.540988,3973784.599548,1127752.921471,4460992.262527
<br>
shapes 2, node 0,
499952.540988,4193028.047889,845242.750254,4460992.262527
<br>
shapes 5, node 3,
499952.540988,4372409.051076,1127752.921471,4859616.714055
<br>
shapes 1, node 1,
499952.540988,4372409.051076,845242.750254,4640373.265714
<br>
shapes 1, node 0,
655333.135158,4372409.051076,845242.750254,4519789.369127
<br>
shapes 1, node 0,
499952.540988,4591652.499417,845242.750254,4859616.714055
<br>
read entire file now at quad box rec 20 file pos 1084 <br>
result of rectangle search was <br>
8, 10, 36, 37, 38, 39, 42, 46,</p>

<p style="margin-top: 1em">Result: <br>
The above output from the shptreetst command tells us that
the existing .qix index is for a Shape data set that
contains 48 shapes; indeed the Shape data set used in this
<br>
example, esp.shp, contains 48 polygons of Spain. The command
also tells us that qix file has a quadtree depth of 4.</p>

<p style="margin-top: 1em">Most importantly, the resulting
shape IDs (or feature IDs) that were contained in the
bounding box that we passed in our example were returned at
the bottom of the output: <br>
&quot;8, 10, 36, 37, 38, 39, 42, 46&quot;. You can use a
tool such as QGIS to view those feature IDs and check what
shapes MapServer is querying when a user clicks within that
<br>
bounding box.</p>

<p style="margin-top: 1em">SEE ALSO <br>
shptree(1), shptreevis(1), sortshp(1)</p>

<p style="margin-top: 1em">14 February 2017
shptreetst(1)</p>
<hr>
</body>
</html>
