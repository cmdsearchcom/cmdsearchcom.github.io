<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ATOMIC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ATOMIC(1)</td>
    <td class="head-vol">October 2015</td>
    <td class="head-rtitle">ATOMIC(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
atomic-storage - Manage container storage.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>atomic storage COMMAND [OPTIONS]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
atomic storage allows the user to easily manage container storage. You can reset
  your container environment back to its initial state as well as migrate all
  images, volumes, and containers from one version of atomic to another. With
  this command, users can quickly save all their data from the current atomic
  instance, change the container's content storage backend, and then import all
  their old data to the new system.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<b>export</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
export command will export all the current images, volumes, and containers to
  the specified directory (/var/lib/atomic/migrate by default), in the /images,
  /volumes, /containers subdirectories.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>import</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
import command will import images, volumes, and containers from the specified
  directory (/var/lib/atomic/migrate by default) into the new atomic instance.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>reset</b>
<br/>
 Remove all containers/images from your system
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>modify</b>
<br/>
 Modify the default storage setup
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="export_OPTIONS"><a class="selflink" href="#export_OPTIONS">export
  OPTIONS</a></h1>
<b>-h</b> <b>--help</b>
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--graph</b> Root of the docker runtime. If you are running docker at the
  default location (/var/lib/docker), you don't need to pass this flag. However
  if you are running docker at a custom location. This flag must be set.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--dir</b> Directory in which to temporarily store the files (can be an
  existing directory, or the command will create one). If no directory is
  specified, /var/lib/atomic/migrate would be used as default.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Note:"><a class="selflink" href="#Note:">Note:</a></h1>
Atomic --assumeyes option can be used
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
[ <b>-y|--assumeyes</b>]
<br/>
 Delete image(s) without conformation from the user
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="import_OPTIONS"><a class="selflink" href="#import_OPTIONS">import
  OPTIONS</a></h1>
<b>-h</b> <b>--help</b>
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--graph</b> Root of the docker runtime. If you are running docker at the
  default location (/var/lib/docker), you don't need to pass this flag. However
  if you are running docker at a custom location. This flag must be set.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--dir</b> Directory from which to import the files (images, containers and
  volumes). If this flag is not set atomic storage will assume the import
  location to be /var/lib/atomic/migrate. Whether you set this flag or use the
  default, the directory must be present for the import to happen successfully.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="modify_OPTIONS"><a class="selflink" href="#modify_OPTIONS">modify
  OPTIONS</a></h1>
<b>-h</b> <b>--help</b>
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--add-device</b> Add block devices to storage pool. This command will expand
  your devicemapper storage pool by adding the block device. Only works with
  devicemapper driver.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
E.g atomic storage modify --add-device /dev/vdb will add /dev/vdb to storage
  pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--remove-device</b> Remove block devices from the storage pool. If a device
  is not empty, this command will try to first move its data to some other
  device in the pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--remove-unused-devices</b> Remove all block devices from the storage pool
  that are currently unused.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--driver</b> Backend storage driver for containers. This options the storage
  driver. Drivers supported: devicemapper, overlay, overlay2
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--lvname</b> Logical volume name for container storage. E.g atomic storage
  modify --lvname=&quot;container-root-lv&quot;
  --rootfs=&quot;/var/lib/containers&quot; will create logical volume named
  container-root-lv and mount it on /var/lib/containers. Note: You must set
  --rootfs when setting --lvname.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--rootfs</b> Mountpath where logical volume for container storage would be
  mounted. E.g. atomic storage modify --rootfs=&quot;/var/lib/containers&quot;
  --lvname=&quot;container-root-lv&quot; will create logical volume named
  container-root-lv and mount it on /var/lib/containers. Note: You must set
  --lvname when setting --rootfs.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--lvsize</b> Logical volume size for container storage. It defaults to 40% of
  all free space. --lvsize can take values acceptable to &quot;lvcreate -L&quot;
  as well as some values acceptable to &quot;lvcreate -l&quot;. If user intends
  to pass values acceptable to &quot;lvcreate -l&quot;, then only those values
  which contains &quot;%&quot; in syntax are acceptable. If value does not
  contain &quot;%&quot; it is assumed value is suitable for &quot;lvcreate
  -L&quot;. E.g. atomic storage modify --rootfs=&quot;/var/lib/containers&quot;
  --lvname=&quot;container-root-lv&quot; --lvsize=20%FREE will create logical
  volume named container-root-lv of size (20% of the available free space in the
  volume group) and mount it on /var/lib/containers. Note: You must set --lvname
  and --rootfs when setting --lvsize.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--vgroup</b> The name of the volume group for the storage pool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="reset_OPTIONS"><a class="selflink" href="#reset_OPTIONS">reset
  OPTIONS</a></h1>
<b>-h</b> <b>--help</b>
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--graph</b> Root of the container runtime. atomic will search for either
  /var/lib/docker or /var/lib/docker-latest, if only one exists, atomic will
  select it as the default. If both exists or you are running docker with a
  graph storage at a non default location, you need to pass this flag.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
October 2015, Originally compiled by Shishir Mahajan (shishir dot mahajan at
  redhat dot com)</div>
<table class="foot">
  <tr>
    <td class="foot-date"> Atomic Man Pages</td>
    <td class="foot-os">Shishir Mahajan</td>
  </tr>
</table>
</body>
</html>
