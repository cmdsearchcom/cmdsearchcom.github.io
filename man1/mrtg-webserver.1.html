<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MRTG-WEBSERVER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MRTG-WEBSERVER(1)</td>
    <td class="head-vol">mrtg</td>
    <td class="head-rtitle">MRTG-WEBSERVER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mrtg-webserver - hints for web server configuration
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
If you want people to actually see the results of your network monitoring
  efforts you will need a webserver.
<div class="Pp"></div>
This document lists some configuration hints for webservers. Contributions
  welcome.
<h1 class="Sh" title="Sh" id="APACHE"><a class="selflink" href="#APACHE">APACHE</a></h1>
<h2 class="Ss" title="Ss" id="Configuring_mod_expire"><a class="selflink" href="#Configuring_mod_expire">Configuring
  mod_expire</a></h2>
A big issue with mrtg monitoring data is the expiry time. All these nice graphs
  you can create are only valid for a short time. If you do not take special
  action some webbrowsers will not notice this and you may end up with people
  seeing old data because of caching issues.
<div class="Pp"></div>
The apache module mod_expire allows you to setup special expiry properties for
  individual file.
<div class="Pp"></div>
Here is an example for how this may look for an mrtg web directory. The
  configuration directives can be stored into a <i>.htaccess</i> file.
<div class="Pp"></div>
<pre>
 ############################################################
 # Example .htaccess for use with apache-1.2 and mod_expire.
 # (mod_expire come with apache-1.2 but you have to explicitly
 # activate it when compiling the httpd ...)
 #############################################################
 #
 &lt;Files &quot;*-day.png&quot;&gt;
 ExpiresActive On                  # enable expirations
 # five minutes
 ExpiresDefault M300
 &lt;/Files&gt;
 &lt;Files &quot;*-week.png&quot;&gt;
 ExpiresActive On
 ExpiresDefault M1800
 &lt;/Files&gt;
 &lt;Files &quot;*-month.png&quot;&gt;
 ExpiresActive On
 ExpiresDefault M7200
 &lt;/Files&gt;
 &lt;Files &quot;*-year.png&quot;&gt;
 ExpiresActive On
 ExpiresDefault M86400
 &lt;/Files&gt;
 &lt;Files &quot;*.html&quot;&gt;
 ExpiresActive On
 ExpiresDefault M300
 &lt;/Files&gt;
 # index.html is not automatically generated
 &lt;Files &quot;index.html&quot;&gt;
 ExpiresActive Off
 &lt;/Files&gt;
</pre>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Unknown</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-01-12</td>
    <td class="foot-os">2.17.4</td>
  </tr>
</table>
</body>
</html>
