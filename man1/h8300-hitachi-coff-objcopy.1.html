<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:16:20 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OBJCOPY(1) GNU Development Tools OBJCOPY(1)</p>

<p style="margin-top: 1em">NAME <br>
objcopy - copy and translate object files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
objcopy [-F bfdname&acirc;&ordf;--target=bfdname] <br>
[-I bfdname&acirc;&ordf;--input-target=bfdname] <br>
[-O bfdname&acirc;&ordf;--output-target=bfdname] <br>
[-B bfdarch&acirc;&ordf;--binary-architecture=bfdarch] <br>
[-S&acirc;&ordf;--strip-all] <br>
[-g&acirc;&ordf;--strip-debug] <br>
[-K symbolname&acirc;&ordf;--keep-symbol=symbolname] <br>
[-N symbolname&acirc;&ordf;--strip-symbol=symbolname] <br>
[--strip-unneeded-symbol=symbolname] <br>
[-G symbolname&acirc;&ordf;--keep-global-symbol=symbolname]
<br>
[-L symbolname&acirc;&ordf;--localize-symbol=symbolname]
<br>
[-W symbolname&acirc;&ordf;--weaken-symbol=symbolname] <br>
[-w&acirc;&ordf;--wildcard] <br>
[-x&acirc;&ordf;--discard-all] <br>
[-X&acirc;&ordf;--discard-locals] <br>
[-b byte&acirc;&ordf;--byte=byte] <br>
[-i interleave&acirc;&ordf;--interleave=interleave] <br>
[-j sectionname&acirc;&ordf;--only-section=sectionname] <br>
[-R sectionname&acirc;&ordf;--remove-section=sectionname]
<br>
[-p&acirc;&ordf;--preserve-dates] <br>
[--debugging] <br>
[--gap-fill=val] <br>
[--pad-to=address] <br>
[--set-start=val] <br>
[--adjust-start=incr] <br>
[--change-addresses=incr] <br>
[--change-section-address section{=,+,-}val] <br>
[--change-section-lma section{=,+,-}val] <br>
[--change-section-vma section{=,+,-}val] <br>
[--change-warnings] [--no-change-warnings] <br>
[--set-section-flags section=flags] <br>
[--add-section sectionname=filename] <br>
[--rename-section oldname=newname[,flags]] <br>
[--change-leading-char] [--remove-leading-char] <br>
[--srec-len=ival] [--srec-forceS3] <br>
[--redefine-sym old=new] <br>
[--redefine-syms=filename] <br>
[--weaken] <br>
[--keep-symbols=filename] <br>
[--strip-symbols=filename] <br>
[--strip-unneeded-symbols=filename] <br>
[--keep-global-symbols=filename] <br>
[--localize-symbols=filename] <br>
[--weaken-symbols=filename] <br>
[--alt-machine-code=index] <br>
[--prefix-symbols=string] <br>
[--prefix-sections=string] <br>
[--prefix-alloc-sections=string] <br>
[--add-gnu-debuglink=path-to-file] <br>
[--only-keep-debug] <br>
[--writable-text] <br>
[--readonly-text] <br>
[--pure] <br>
[--impure] <br>
[-v&acirc;&ordf;--verbose] <br>
[-V&acirc;&ordf;--version] <br>
[--help] [--info] <br>
infile [outfile]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The GNU objcopy utility copies the contents of an object
file to another. objcopy uses the GNU BFD Library to read
and write the object files. It can write the destination
<br>
object file in a format different from that of the source
object file. The exact behavior of objcopy is controlled by
command-line options. Note that objcopy should be able to
<br>
copy a fully linked file between any two formats. However,
copying a relocatable object file between any two formats
may not work as expected.</p>

<p style="margin-top: 1em">objcopy creates temporary files
to do its translations and deletes them afterward. objcopy
uses BFD to do all its translation work; it has access to
all the formats described in <br>
BFD and thus is able to recognize most formats without being
told explicitly.</p>

<p style="margin-top: 1em">objcopy can be used to generate
S-records by using an output target of srec (e.g., use -O
srec).</p>

<p style="margin-top: 1em">objcopy can be used to generate
a raw binary file by using an output target of binary (e.g.,
use -O binary). When objcopy generates a raw binary file, it
will essentially pro&acirc; <br>
duce a memory dump of the contents of the input object file.
All symbols and relocation information will be discarded.
The memory dump will start at the load address of the <br>
lowest section copied into the output file.</p>

<p style="margin-top: 1em">When generating an S-record or a
raw binary file, it may be helpful to use -S to remove
sections containing debugging information. In some cases -R
will be useful to remove sec&acirc; <br>
tions which contain information that is not needed by the
binary file.</p>

<p style="margin-top: 1em">Note---objcopy is not able to
change the endianness of its input files. If the input
format has an endianness (some formats do not), objcopy can
only copy the inputs into file <br>
formats that have the same endianness or which have no
endianness (e.g., srec).</p>

<p style="margin-top: 1em">OPTIONS <br>
infile <br>
outfile <br>
The input and output files, respectively. If you do not
specify outfile, objcopy creates a temporary file and
destructively renames the result with the name of
infile.</p>

<p style="margin-top: 1em">-I bfdname <br>
--input-target=bfdname <br>
Consider the source file&rsquo;s object format to be
bfdname, rather than attempting to deduce it.</p>

<p style="margin-top: 1em">-O bfdname <br>
--output-target=bfdname <br>
Write the output file using the object format bfdname.</p>

<p style="margin-top: 1em">-F bfdname <br>
--target=bfdname <br>
Use bfdname as the object format for both the input and the
output file; i.e., simply transfer data from source to
destination with no translation.</p>

<p style="margin-top: 1em">-B bfdarch <br>
--binary-architecture=bfdarch <br>
Useful when transforming a raw binary input file into an
object file. In this case the output architecture can be set
to bfdarch. This option will be ignored if the input <br>
file has a known bfdarch. You can access this binary data
inside a program by referencing the special symbols that are
created by the conversion process. These symbols are <br>
called _binary_objfile_start, _binary_objfile_end and
_binary_objfile_size. e.g. you can transform a picture file
into an object file and then access it in your code using
<br>
these symbols.</p>

<p style="margin-top: 1em">-j sectionname <br>
--only-section=sectionname <br>
Copy only the named section from the input file to the
output file. This option may be given more than once. Note
that using this option inappropriately may make the output
<br>
file unusable.</p>

<p style="margin-top: 1em">-R sectionname <br>
--remove-section=sectionname <br>
Remove any section named sectionname from the output file.
This option may be given more than once. Note that using
this option inappropriately may make the output file <br>
unusable.</p>

<p style="margin-top: 1em">-S <br>
--strip-all <br>
Do not copy relocation and symbol information from the
source file.</p>

<p style="margin-top: 1em">-g <br>
--strip-debug <br>
Do not copy debugging symbols or sections from the source
file.</p>

<p style="margin-top: 1em">--strip-unneeded <br>
Strip all symbols that are not needed for relocation
processing.</p>

<p style="margin-top: 1em">-K symbolname <br>
--keep-symbol=symbolname <br>
Copy only symbol symbolname from the source file. This
option may be given more than once.</p>

<p style="margin-top: 1em">-N symbolname <br>
--strip-symbol=symbolname <br>
Do not copy symbol symbolname from the source file. This
option may be given more than once.</p>


<p style="margin-top: 1em">--strip-unneeded-symbol=symbolname
<br>
Do not copy symbol symbolname from the source file unless it
is needed by a relocation. This option may be given more
than once.</p>

<p style="margin-top: 1em">-G symbolname <br>
--keep-global-symbol=symbolname <br>
Keep only symbol symbolname global. Make all other symbols
local to the file, so that they are not visible externally.
This option may be given more than once.</p>

<p style="margin-top: 1em">-L symbolname <br>
--localize-symbol=symbolname <br>
Make symbol symbolname local to the file, so that it is not
visible externally. This option may be given more than
once.</p>

<p style="margin-top: 1em">-W symbolname <br>
--weaken-symbol=symbolname <br>
Make symbol symbolname weak. This option may be given more
than once.</p>

<p style="margin-top: 1em">-w <br>
--wildcard <br>
Permit regular expressions in symbolnames used in other
command line options. The question mark (?), asterisk (*),
backslash ( and square brackets ([]) operators can be <br>
used anywhere in the symbol name. If the first character of
the symbol name is the exclamation point (!) then the sense
of the switch is reversed for that symbol. For exam&acirc;
<br>
ple:</p>

<p style="margin-top: 1em">-w -W !foo -W fo*</p>

<p style="margin-top: 1em">would cause objcopy to weaken
all symbols that start with &lsquo;&lsquo;fo&rsquo;&rsquo;
except for the symbol &lsquo;&lsquo;foo&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">-x <br>
--discard-all <br>
Do not copy non-global symbols from the source file.</p>

<p style="margin-top: 1em">-X <br>
--discard-locals <br>
Do not copy compiler-generated local symbols. (These usually
start with L or ..)</p>

<p style="margin-top: 1em">-b byte <br>
--byte=byte <br>
Keep only every byteth byte of the input file (header data
is not affected). byte can be in the range from 0 to
interleave-1, where interleave is given by the -i or
--inter&acirc; <br>
leave option, or the default of 4. This option is useful for
creating files to program ROM. It is typically used with an
&quot;srec&quot; output target.</p>

<p style="margin-top: 1em">-i interleave <br>
--interleave=interleave <br>
Only copy one out of every interleave bytes. Select which
byte to copy with the -b or --byte option. The default is 4.
objcopy ignores this option if you do not specify <br>
either -b or --byte.</p>

<p style="margin-top: 1em">-p <br>
--preserve-dates <br>
Set the access and modification dates of the output file to
be the same as those of the input file.</p>

<p style="margin-top: 1em">--debugging <br>
Convert debugging information, if possible. This is not the
default because only certain debugging formats are
supported, and the conversion process can be time
consuming.</p>

<p style="margin-top: 1em">--gap-fill val <br>
Fill gaps between sections with val. This operation applies
to the load address (LMA) of the sections. It is done by
increasing the size of the section with the lower <br>
address, and filling in the extra space created with
val.</p>

<p style="margin-top: 1em">--pad-to address <br>
Pad the output file up to the load address address. This is
done by increasing the size of the last section. The extra
space is filled in with the value specified by <br>
--gap-fill (default zero).</p>

<p style="margin-top: 1em">--set-start val <br>
Set the start address of the new file to val. Not all object
file formats support setting the start address.</p>

<p style="margin-top: 1em">--change-start incr <br>
--adjust-start incr <br>
Change the start address by adding incr. Not all object file
formats support setting the start address.</p>

<p style="margin-top: 1em">--change-addresses incr <br>
--adjust-vma incr <br>
Change the VMA and LMA addresses of all sections, as well as
the start address, by adding incr. Some object file formats
do not permit section addresses to be changed arbi&acirc;
<br>
trarily. Note that this does not relocate the sections; if
the program expects sections to be loaded at a certain
address, and this option is used to change the sections <br>
such that they are loaded at a different address, the
program may fail.</p>

<p style="margin-top: 1em">--change-section-address
section{=,+,-}val <br>
--adjust-section-vma section{=,+,-}val <br>
Set or change both the VMA address and the LMA address of
the named section. If = is used, the section address is set
to val. Otherwise, val is added to or subtracted from <br>
the section address. See the comments under
--change-addresses, above. If section does not exist in the
input file, a warning will be issued, unless
--no-change-warnings is <br>
used.</p>

<p style="margin-top: 1em">--change-section-lma
section{=,+,-}val <br>
Set or change the LMA address of the named section. The LMA
address is the address where the section will be loaded into
memory at program load time. Normally this is the <br>
same as the VMA address, which is the address of the section
at program run time, but on some systems, especially those
where a program is held in ROM, the two can be differ&acirc;
<br>
ent. If = is used, the section address is set to val.
Otherwise, val is added to or subtracted from the section
address. See the comments under --change-addresses, above.
<br>
If section does not exist in the input file, a warning will
be issued, unless --no-change-warnings is used.</p>

<p style="margin-top: 1em">--change-section-vma
section{=,+,-}val <br>
Set or change the VMA address of the named section. The VMA
address is the address where the section will be located
once the program has started executing. Normally this <br>
is the same as the LMA address, which is the address where
the section will be loaded into memory, but on some systems,
especially those where a program is held in ROM, the <br>
two can be different. If = is used, the section address is
set to val. Otherwise, val is added to or subtracted from
the section address. See the comments under <br>
--change-addresses, above. If section does not exist in the
input file, a warning will be issued, unless
--no-change-warnings is used.</p>

<p style="margin-top: 1em">--change-warnings <br>
--adjust-warnings <br>
If --change-section-address or --change-section-lma or
--change-section-vma is used, and the named section does not
exist, issue a warning. This is the default.</p>

<p style="margin-top: 1em">--no-change-warnings <br>
--no-adjust-warnings <br>
Do not issue a warning if --change-section-address or
--adjust-section-lma or --adjust-section-vma is used, even
if the named section does not exist.</p>

<p style="margin-top: 1em">--set-section-flags
section=flags <br>
Set the flags for the named section. The flags argument is a
comma separated string of flag names. The recognized names
are alloc, contents, load, noload, readonly, code, <br>
data, rom, share, and debug. You can set the contents flag
for a section which does not have contents, but it is not
meaningful to clear the contents flag of a section which
<br>
does have contents--just remove the section instead. Not all
flags are meaningful for all object file formats.</p>

<p style="margin-top: 1em">--add-section
sectionname=filename <br>
Add a new section named sectionname while copying the file.
The contents of the new section are taken from the file
filename. The size of the section will be the size of <br>
the file. This option only works on file formats which can
support sections with arbitrary names.</p>

<p style="margin-top: 1em">--rename-section
oldname=newname[,flags] <br>
Rename a section from oldname to newname, optionally
changing the section&rsquo;s flags to flags in the process.
This has the advantage over usng a linker script to perform
the <br>
rename in that the output stays as an object file and does
not become a linked executable.</p>

<p style="margin-top: 1em">This option is particularly
helpful when the input format is binary, since this will
always create a section called .data. If for example, you
wanted instead to create a <br>
section called .rodata containing binary data you could use
the following command line to achieve it:</p>

<p style="margin-top: 1em">objcopy -I binary -O
&lt;output_format&gt; -B &lt;architecture&gt;
--rename-section
.data=.rodata,alloc,load,readonly,data,contents
&lt;input_binary_file&gt; &lt;output_object_file&gt;</p>

<p style="margin-top: 1em">--change-leading-char <br>
Some object file formats use special characters at the start
of symbols. The most common such character is underscore,
which compilers often add before every symbol. This <br>
option tells objcopy to change the leading character of
every symbol when it converts between object file formats.
If the object file formats use the same leading character,
<br>
this option has no effect. Otherwise, it will add a
character, or remove a character, or change a character, as
appropriate.</p>

<p style="margin-top: 1em">--remove-leading-char <br>
If the first character of a global symbol is a special
symbol leading character used by the object file format,
remove the character. The most common symbol leading
charac&acirc; <br>
ter is underscore. This option will remove a leading
underscore from all global symbols. This can be useful if
you want to link together objects of different file formats
<br>
with different conventions for symbol names. This is
different from --change-leading-char because it always
changes the symbol name when appropriate, regardless of the
<br>
object file format of the output file.</p>

<p style="margin-top: 1em">--srec-len=ival <br>
Meaningful only for srec output. Set the maximum length of
the Srecords being produced to ival. This length covers both
address, data and crc fields.</p>

<p style="margin-top: 1em">--srec-forceS3 <br>
Meaningful only for srec output. Avoid generation of S1/S2
records, creating S3-only record format.</p>

<p style="margin-top: 1em">--redefine-sym old=new <br>
Change the name of a symbol old, to new. This can be useful
when one is trying link two things together for which you
have no source, and there are name collisions.</p>

<p style="margin-top: 1em">--redefine-syms=filename <br>
Apply --redefine-sym to each symbol pair &quot;old new&quot;
listed in the file filename. filename is simply a flat file,
with one symbol pair per line. Line comments may be
intro&acirc; <br>
duced by the hash character. This option may be given more
than once.</p>

<p style="margin-top: 1em">--weaken <br>
Change all global symbols in the file to be weak. This can
be useful when building an object which will be linked
against other objects using the -R option to the linker.
<br>
This option is only effective when using an object file
format which supports weak symbols.</p>

<p style="margin-top: 1em">--keep-symbols=filename <br>
Apply --keep-symbol option to each symbol listed in the file
filename. filename is simply a flat file, with one symbol
name per line. Line comments may be introduced by the <br>
hash character. This option may be given more than once.</p>

<p style="margin-top: 1em">--strip-symbols=filename <br>
Apply --strip-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced by
<br>
the hash character. This option may be given more than
once.</p>


<p style="margin-top: 1em">--strip-unneeded-symbols=filename
<br>
Apply --strip-unneeded-symbol option to each symbol listed
in the file filename. filename is simply a flat file, with
one symbol name per line. Line comments may be intro&acirc;
<br>
duced by the hash character. This option may be given more
than once.</p>

<p style="margin-top: 1em">--keep-global-symbols=filename
<br>
Apply --keep-global-symbol option to each symbol listed in
the file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced <br>
by the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--localize-symbols=filename <br>
Apply --localize-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced by
<br>
the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--weaken-symbols=filename <br>
Apply --weaken-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced by
<br>
the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--alt-machine-code=index <br>
If the output architecture has alternate machine codes, use
the indexth code instead of the default one. This is useful
in case a machine is assigned an official code and <br>
the tool-chain adopts the new code, but other applications
still depend on the original code being used.</p>

<p style="margin-top: 1em">--writable-text <br>
Mark the output text as writable. This option isn&rsquo;t
meaningful for all object file formats.</p>

<p style="margin-top: 1em">--readonly-text <br>
Make the output text write protected. This option
isn&rsquo;t meaningful for all object file formats.</p>

<p style="margin-top: 1em">--pure <br>
Mark the output file as demand paged. This option
isn&rsquo;t meaningful for all object file formats.</p>

<p style="margin-top: 1em">--impure <br>
Mark the output file as impure. This option isn&rsquo;t
meaningful for all object file formats.</p>

<p style="margin-top: 1em">--prefix-symbols=string <br>
Prefix all symbols in the output file with string.</p>

<p style="margin-top: 1em">--prefix-sections=string <br>
Prefix all section names in the output file with string.</p>

<p style="margin-top: 1em">--prefix-alloc-sections=string
<br>
Prefix all the names of all allocated sections in the output
file with string.</p>


<p style="margin-top: 1em">--add-gnu-debuglink=path-to-file
<br>
Creates a .gnu_debuglink section which contains a reference
to path-to-file and adds it to the output file.</p>

<p style="margin-top: 1em">--only-keep-debug <br>
Strip a file, removing any sections that would be stripped
by --strip-debug and leaving the debugging sections.</p>

<p style="margin-top: 1em">The intention is that this
option will be used in conjunction with --add-gnu-debuglink
to create a two part executable. One a stripped binary which
will occupy less space in <br>
RAM and in a distribution and the second a debugging
information file which is only needed if debugging abilities
are required. The suggested procedure to create these files
<br>
is as follows:</p>

<p style="margin-top: 1em">1.&lt;Link the executable as
normal. Assuming that is is called&gt; <br>
&quot;foo&quot; then...</p>

<p style="margin-top: 1em">1.&lt;Run &quot;objcopy
--only-keep-debug foo foo.dbg&quot; to&gt; <br>
create a file containing the debugging info.</p>

<p style="margin-top: 1em">1.&lt;Run &quot;objcopy
--strip-debug foo&quot; to create a&gt; <br>
stripped executable.</p>

<p style="margin-top: 1em">1.&lt;Run &quot;objcopy
--add-gnu-debuglink=foo.dbg foo&quot;&gt; <br>
to add a link to the debugging info into the stripped
executable.</p>

<p style="margin-top: 1em">Note - the choice of
&quot;.dbg&quot; as an extension for the debug info file is
arbitrary. Also the &quot;--only-keep-debug&quot; step is
optional. You could instead do this:</p>

<p style="margin-top: 1em">1.&lt;Link the executable as
normal.&gt; <br>
1.&lt;Copy &quot;foo&quot; to &quot;foo.full&quot;&gt; <br>
1.&lt;Run &quot;objcopy --strip-debug foo&quot;&gt; <br>
1.&lt;Run &quot;objcopy --add-gnu-debuglink=foo.full
foo&quot;&gt;</p>

<p style="margin-top: 1em">ie the file pointed to by the
--add-gnu-debuglink can be the full executable. It does not
have to be a file created by the --only-keep-debug
switch.</p>

<p style="margin-top: 1em">-V <br>
--version <br>
Show the version number of objcopy.</p>

<p style="margin-top: 1em">-v <br>
--verbose <br>
Verbose output: list all object files modified. In the case
of archives, objcopy -V lists all members of the
archive.</p>

<p style="margin-top: 1em">--help <br>
Show a summary of the options to objcopy.</p>

<p style="margin-top: 1em">--info <br>
Display a list showing all architectures and object formats
available.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ld(1), objdump(1), and the Info entries for binutils.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 1991, 1992, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004 Free Software
Foundation, Inc.</p>

<p style="margin-top: 1em">Permission is granted to copy,
distribute and/or modify this document under the terms of
the GNU Free Documentation License, Version 1.1 or any later
version published by the <br>
Free Software Foundation; with no Invariant Sections, with
no Front-Cover Texts, and with no Back-Cover Texts. A copy
of the license is included in the section entitled
&lsquo;&lsquo;GNU <br>
Free Documentation License&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">binutils-2.15.97 2005-04-20
OBJCOPY(1)</p>
<hr>
</body>
</html>
