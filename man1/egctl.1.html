<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:07:02 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>egctl(1) General Commands Manual egctl(1)</p>

<p style="margin-top: 1em">NAME <br>
egctl - EnerGenie EG-PMS-LAN control utility</p>

<p style="margin-top: 1em">SYNOPSIS <br>
egctl NAME [S1 S2 S3 S4]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
egctl is a program to control the state of EnerGenie
Programmable surge protector with LAN interface. It uses
native EG-PMS-LAN data exchange protocol version 2.0 or 2.1,
not <br>
HTTP. When executed with the only argument it dumps the
state of the specified device. If all five arguments are
specified, it changes the state of the device and dumps the
new <br>
state.</p>

<p style="margin-top: 1em">OPTIONS <br>
NAME The name of the device to control (as it is specified
in the configuration file). This name has no relation to the
IP address or the domain name.</p>

<p style="margin-top: 1em">Sn The action to perform on n-th
socket. Possible values are: on, off, toggle and left.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
Configuration file is a table of devices. Each device is
described on a separate line; fields on each line are
separated by tabs or spaces. Lines starting with
&rsquo;#&rsquo; are comments, <br>
blank lines are ignored.</p>

<p style="margin-top: 1em">The first field <br>
Name of device. It is a string that will be used to address
the device in the utility commands. It is not necessary to
be the same as Server name in the web interface.</p>

<p style="margin-top: 1em">The second field <br>
Protocol. Supported protocols are: pms20 and pms21.</p>

<p style="margin-top: 1em">The third field <br>
IP address of device.</p>

<p style="margin-top: 1em">The fourth field <br>
TCP port of device. (Power Manager client port in the web
interface).</p>

<p style="margin-top: 1em">The fifth field <br>
Password.</p>

<p style="margin-top: 1em">SUPPORTED DEVICES <br>
Device Protocol <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;
<br>
EG-PMS-LAN pms20 <br>
EG-PMS2-LAN pms21</p>

<p style="margin-top: 1em">EXAMPLES <br>
Suppose a user has two EG-PMS-LAN devices configured as
follows:</p>

<p style="margin-top: 1em">1. 192.168.0.10, port 5000,
password hackme <br>
2. 192.168.10.10, port 5001, password hackmesoftly</p>

<p style="margin-top: 1em">In order to control them using
the utility the user needs to create a configuration file
like the following:</p>

<p style="margin-top: 1em">eg1 pms20 192.168.0.10 5000
hackme <br>
eg2 pms20 192.168.10.10 5001 hackmesoftly</p>

<p style="margin-top: 1em">Now she can get the status of
the devices with commands</p>

<p style="margin-top: 1em">egctl eg1 <br>
egctl eg2</p>

<p style="margin-top: 1em">and switch the state of the AC
power sockets with a command like</p>

<p style="margin-top: 1em">egctl eg1 on left left off</p>

<p style="margin-top: 1em">FILES <br>
~/.egtab <br>
user&rsquo;s configuration file</p>

<p style="margin-top: 1em">/etc/egtab <br>
system-wide configuration file</p>

<p style="margin-top: 1em">BUGS <br>
This program cannot modify the internal schedule of the
device.</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Vitaly Sinilin &lt;vs@kp4.ru&gt;</p>

<p style="margin-top: 1em">TRADEMARKS <br>
EnerGenie is a registered trademark of Gembird Holding
B.V.</p>

<p style="margin-top: 1em">egctl 19 August 2014
egctl(1)</p>
<hr>
</body>
</html>
