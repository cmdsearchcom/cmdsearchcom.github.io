<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TEST(1POSIX)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TEST(1POSIX)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">TEST(1POSIX)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="PROLOG"><a class="selflink" href="#PROLOG">PROLOG</a></h1>
This manual page is part of the POSIX Programmer's Manual. The Linux
  implementation of this interface may differ (consult the corresponding Linux
  manual page for details of Linux behavior), or the interface may not be
  implemented on Linux.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
test &#x2014; evaluate expression
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
test  <b>[</b><i>expression</i><b>]</b>
</pre>
<div class="Pp"></div>
<pre>
[  <b>[</b><i>expression</i><b>]</b> ]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>test</i> utility shall evaluate the <i>expression</i> and indicate the
  result of the evaluation by its exit status. An exit status of zero indicates
  that the expression evaluated as true and an exit status of 1 indicates that
  the expression evaluated as false.
<div class="Pp"></div>
In the second form of the utility, which uses <b>&quot;[]&quot;</b> rather than
  <i>test</i>, the application shall ensure that the square brackets are
  separate arguments.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <i>test</i> utility shall not recognize the
  <b>&quot;&#x2212;&#x2212;&quot;</b> argument in the manner specified by
  Guideline 10 in the Base Definitions volume of POSIX.1&#x2010;2008, <i>Section
  12.2</i>, <i>Utility Syntax Guidelines</i>.
<div class="Pp"></div>
No options shall be supported.
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
The application shall ensure that all operators and elements of primaries are
  presented as separate arguments to the <i>test</i> utility.
<div class="Pp"></div>
The following primaries can be used to construct <i>expression</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;b&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to en existing directory
      entry for a block special file. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file that is not a block special file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;c&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a character special file. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file that is not a character special file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;d&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a directory. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;e&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry. False if <i>pathname</i> cannot be resolved.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;f&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a regular file. False if <i>pathname</i> cannot be resolved, or
      if <i>pathname</i> resolves to an existing directory entry for a file that
      is not a regular file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;g&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a file that has its set-group-ID flag set. False if
      <i>pathname</i> cannot be resolved, or if <i>pathname</i> resolves to an
      existing directory entry for a file that does not have its set-group-ID
      flag set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;h&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a symbolic link. False if <i>pathname</i> cannot be resolved, or
      if <i>pathname</i> resolves to an existing directory entry for a file that
      is not a symbolic link. If the final component of <i>pathname</i> is a
      symbolic link, that symbolic link is not followed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;L&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a symbolic link. False if <i>pathname</i> cannot be resolved, or
      if <i>pathname</i> resolves to an existing directory entry for a file that
      is not a symbolic link. If the final component of <i>pathname</i> is a
      symbolic link, that symbolic link is not followed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;n&#x00A0;</b><i>string</i></dt>
  <dd class="It-tag">True if the length of <i>string</i> is non-zero; otherwise,
      false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;p&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a FIFO. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a FIFO.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;r&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a file for which permission to read from the file will be
      granted, as defined in <i>Section 1.1.1.4</i>, <i>File Read</i>,
      <i>Write</i>, <i>and Creation</i>. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file for which permission to read from the file will not be
    granted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;S&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a socket. False if <i>pathname</i> cannot be resolved, or if
      <i>pathname</i> resolves to an existing directory entry for a file that is
      not a socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;s&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a file that has a size greater than zero. False if
      <i>pathname</i> cannot be resolved, or if <i>pathname</i> resolves to an
      existing directory entry for a file that does not have a size greater than
      zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;t&#x00A0;</b><i>file_descriptor</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    True if file descriptor number <i>file_descriptor</i> is open and is
      associated with a terminal. False if <i>file_descriptor</i> is not a valid
      file descriptor number, or if file descriptor number
      <i>file_descriptor</i> is not open, or if it is open but is not associated
      with a terminal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;u&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a file that has its set-user-ID flag set. False if
      <i>pathname</i> cannot be resolved, or if <i>pathname</i> resolves to an
      existing directory entry for a file that does not have its set-user-ID
      flag set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;w&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a file for which permission to write to the file will be
      granted, as defined in <i>Section 1.1.1.4</i>, <i>File Read</i>,
      <i>Write</i>, <i>and Creation</i>. False if <i>pathname</i> cannot be
      resolved, or if <i>pathname</i> resolves to an existing directory entry
      for a file for which permission to write to the file will not be
    granted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;x&#x00A0;</b><i>pathname</i></dt>
  <dd class="It-tag">True if <i>pathname</i> resolves to an existing directory
      entry for a file for which permission to execute the file (or search it,
      if it is a directory) will be granted, as defined in <i>Section
      1.1.1.4</i>, <i>File Read</i>, <i>Write</i>, <i>and Creation</i>. False if
      <i>pathname</i> cannot be resolved, or if <i>pathname</i> resolves to an
      existing directory entry for a file for which permission to execute (or
      search) the file will not be granted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;z&#x00A0;</b><i>string</i></dt>
  <dd class="It-tag">True if the length of string <i>string</i> is zero;
      otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string</i></dt>
  <dd class="It-tag">True if the string <i>string</i> is not the null string;
      otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>s1</i><b>&#x00A0;=&#x00A0;</b><i>s2</i></dt>
  <dd class="It-tag">True if the strings <i>s1</i> and <i>s2</i> are identical;
      otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>s1</i><b>&#x00A0;!=&#x00A0;</b><i>s2</i></dt>
  <dd class="It-tag">True if the strings <i>s1</i> and <i>s2</i> are not
      identical; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>n1</i><b>&#x00A0;&#x2212;eq&#x00A0;</b><i>n2</i></dt>
  <dd class="It-tag">True if the integers <i>n1</i> and <i>n2</i> are
      algebraically equal; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>n1</i><b>&#x00A0;&#x2212;ne&#x00A0;</b><i>n2</i></dt>
  <dd class="It-tag">True if the integers <i>n1</i> and <i>n2</i> are not
      algebraically equal; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>n1</i><b>&#x00A0;&#x2212;gt&#x00A0;</b><i>n2</i></dt>
  <dd class="It-tag">True if the integer <i>n1</i> is algebraically greater than
      the integer <i>n2</i>; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>n1</i><b>&#x00A0;&#x2212;ge&#x00A0;</b><i>n2</i></dt>
  <dd class="It-tag">True if the integer <i>n1</i> is algebraically greater than
      or equal to the integer <i>n2</i>; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>n1</i><b>&#x00A0;&#x2212;lt&#x00A0;</b><i>n2</i></dt>
  <dd class="It-tag">True if the integer <i>n1</i> is algebraically less than
      the integer <i>n2</i>; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>n1</i><b>&#x00A0;&#x2212;le&#x00A0;</b><i>n2</i></dt>
  <dd class="It-tag">True if the integer <i>n1</i> is algebraically less than or
      equal to the integer <i>n2</i>; otherwise, false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i><b>&#x00A0;&#x2212;a&#x00A0;</b><i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    True if both <i>expression1</i> and <i>expression2</i> are true; otherwise,
      false. The <b>&#x2212;a</b> binary primary is left associative. It has a
      higher precedence than <b>&#x2212;o</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i><b>&#x00A0;&#x2212;o&#x00A0;</b><i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    True if either <i>expression1</i> or <i>expression2</i> is true; otherwise,
      false. The <b>&#x2212;o</b> binary primary is left associative.</dd>
</dl>
<div class="Pp"></div>
With the exception of the <b>&#x2212;h</b> <i>pathname</i> and <b>&#x2212;L</b>
  <i>pathname</i> primaries, if a <i>pathname</i> argument is a symbolic link,
  <i>test</i> shall evaluate the expression by resolving the symbolic link and
  using the file referenced by the link.
<div class="Pp"></div>
These primaries can be combined with the following operators:
<dl class="Bl-tag">
  <dt class="It-tag"><b>!&#x00A0;</b><i>expression</i></dt>
  <dd class="It-tag">True if <i>expression</i> is false. False if
      <i>expression</i> is true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(&#x00A0;</b><i>expression&#x00A0;</i><b>)</b></dt>
  <dd class="It-tag">True if <i>expression</i> is true. False if
      <i>expression</i> is false. The parentheses can be used to alter the
      normal precedence and associativity.</dd>
</dl>
<div class="Pp"></div>
The primaries with two elements of the form:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>&#x2212;</b><i>primary_operator primary_operand</i>
</pre>
</div>
<div class="Pp"></div>
are known as <i>unary primaries</i>. The primaries with three elements in either
  of the two forms:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b></b><i>primary_operand </i>&#x2212;<i>primary_operator primary_operand</i>
</pre>
<div class="Pp"></div>
<pre>
primary_operand primary_operator primary_operand
</pre>
</div>
<div class="Pp"></div>
are known as <i>binary primaries</i>. Additional implementation-defined
  operators and <i>primary_operator</i>s may be provided by implementations.
  They shall be of the form &#x2212;<i>operator</i> where the first character of
  <i>operator</i> is not a digit.
<div class="Pp"></div>
The algorithm for determining the precedence of the operators and the return
  value that shall be generated is based on the number of arguments presented to
  <i>test</i>. (However, when using the <b>&quot;[...]&quot;</b> form, the
  &lt;right-square-bracket&gt; final argument shall not be counted in this
  algorithm.)
<div class="Pp"></div>
In the following list, $1, $2, $3, and $4 represent the arguments presented to
  <i>test</i>:
<dl class="Bl-tag">
  <dt class="It-tag">0&#x00A0;arguments:</dt>
  <dd class="It-tag">Exit false (1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1&#x00A0;argument:</dt>
  <dd class="It-tag">Exit true (0) if $1 is not null; otherwise, exit
    false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2&#x00A0;arguments:</dt>
  <dd class="It-tag">
    <div style="height: 0.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 12.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $1 is <b>'!'</b>, exit true if $2 is null, false if $2
      is not null.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $1 is a unary primary, exit true if the unary test is
      true, false if the unary test is false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Otherwise, produce unspecified results.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">3&#x00A0;arguments:</dt>
  <dd class="It-tag">
    <div style="height: 0.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 12.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $2 is a binary primary, perform the binary test of $1
      and $3.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $1 is <b>'!'</b>, negate the two-argument test of $2 and
      $3.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $1 is <b>'('</b> and $3 is <b>')'</b>, perform the unary
      test of $2. On systems that do not support the XSI option, the results are
      unspecified if $1 is <b>'('</b> and $3 is <b>')'</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Otherwise, produce unspecified results.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">4&#x00A0;arguments:</dt>
  <dd class="It-tag">
    <div style="height: 0.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 12.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $1 is <b>'!'</b>, negate the three-argument test of $2,
      $3, and $4.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">If $1 is <b>'('</b> and $4 is <b>')'</b>, perform the
      two-argument test of $2 and $3. On systems that do not support the XSI
      option, the results are unspecified if $1 is <b>'('</b> and $4 is
      <b>')'</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">Otherwise, the results are unspecified.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">&gt;4&#x00A0;arguments:</dt>
  <dd class="It-tag">The results are unspecified.</dd>
</dl>
<div style="margin-left: 12.00ex;">
<div class="Pp"></div>
On XSI-conformant systems, combinations of primaries and operators shall be
  evaluated using the precedence and associativity rules described previously.
  In addition, the string comparison binary primaries <b>'='</b> and
  <b>&quot;!=&quot;</b> shall have a higher precedence than any unary
  primary.</div>
<h1 class="Sh" title="Sh" id="STDIN"><a class="selflink" href="#STDIN">STDIN</a></h1>
Not used.
<h1 class="Sh" title="Sh" id="INPUT_FILES"><a class="selflink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The following environment variables shall affect the execution of <i>test</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><i>LANG</i></dt>
  <dd class="It-tag">Provide a default value for the internationalization
      variables that are unset or null. (See the Base Definitions volume of
      POSIX.1&#x2010;2008, <i>Section 8.2</i>, <i>Internationalization
      Variables</i> for the precedence of internationalization variables used to
      determine the values of locale categories.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_ALL</i></dt>
  <dd class="It-tag">If set to a non-empty string value, override the values of
      all the other internationalization variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_CTYPE</i></dt>
  <dd class="It-tag">Determine the locale for the interpretation of sequences of
      bytes of text data as characters (for example, single-byte as opposed to
      multi-byte characters in arguments).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_MESSAGES</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>NLSPATH</i></dt>
  <dd class="It-tag">Determine the location of message catalogs for the
      processing of <i>LC_MESSAGES</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ASYNCHRONOUS_EVENTS"><a class="selflink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
Default.
<h1 class="Sh" title="Sh" id="STDOUT"><a class="selflink" href="#STDOUT">STDOUT</a></h1>
Not used.
<h1 class="Sh" title="Sh" id="STDERR"><a class="selflink" href="#STDERR">STDERR</a></h1>
The standard error shall be used only for diagnostic messages.
<h1 class="Sh" title="Sh" id="OUTPUT_FILES"><a class="selflink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXTENDED_DESCRIPTION"><a class="selflink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The following exit values shall be returned:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2002;0</dt>
  <dd class="It-tag"><i>expression</i> evaluated to true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2002;1</dt>
  <dd class="It-tag"><i>expression</i> evaluated to false or <i>expression</i>
      was missing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&gt;1</dt>
  <dd class="It-tag">An error occurred.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="selflink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
Default.
<div class="Pp"></div>
<i>The following sections are informative.</i>
<h1 class="Sh" title="Sh" id="APPLICATION_USAGE"><a class="selflink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
The XSI extensions specifying the <b>&#x2212;a</b> and <b>&#x2212;o</b> binary
  primaries and the <b>'('</b> and <b>')'</b> operators have been marked
  obsolescent. (Many expressions using them are ambiguously defined by the
  grammar depending on the specific expressions being evaluated.) Scripts using
  these expressions should be converted to the forms given below. Even though
  many implementations will continue to support these obsolescent forms, scripts
  should be extremely careful when dealing with user-supplied input that could
  be confused with these and other primaries and operators. Unless the
  application developer knows all the cases that produce input to the script,
  invocations like:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;$1&quot; &#x2212;a &quot;$2&quot;</b>
</pre>
</div>
<div class="Pp"></div>
should be written as:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;$1&quot; &amp;&amp; test &quot;$2&quot;</b>
</pre>
</div>
<div class="Pp"></div>
to avoid problems if a user supplied values such as $1 set to <b>'!'</b> and $2
  set to the null string. That is, in cases where maximal portability is of
  concern, replace:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test expr1 &#x2212;a expr2</b>
</pre>
</div>
<div class="Pp"></div>
with:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test expr1 &amp;&amp; test expr2</b>
</pre>
</div>
<div class="Pp"></div>
and replace:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test expr1 &#x2212;o expr2</b>
</pre>
</div>
<div class="Pp"></div>
with:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test expr1 || test expr2</b>
</pre>
</div>
<div class="Pp"></div>
but note that, in <i>test</i>, <b>&#x2212;a</b> has higher precedence than
  <b>&#x2212;o</b> while <b>&quot;&amp;&amp;&quot;</b> and <b>&quot;||&quot;</b>
  have equal precedence in the shell.
<div class="Pp"></div>
Parentheses or braces can be used in the shell command language to effect
  grouping.
<div class="Pp"></div>
Parentheses must be escaped when using <i>sh</i>; for example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test \( expr1 &#x2212;a expr2 \) &#x2212;o expr3</b>
</pre>
</div>
<div class="Pp"></div>
This command is not always portable even on XSI-conformant systems depending on
  the expressions specified by <i>expr</i>1, <i>expr</i>2, and <i>expr</i>3. The
  following form can be used instead:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>( test expr1 &amp;&amp; test expr2 ) || test expr3</b>
</pre>
</div>
<div class="Pp"></div>
The two commands:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;$1&quot;</b>
<b>test ! &quot;$1&quot;</b>
</pre>
</div>
<div class="Pp"></div>
could not be used reliably on some historical systems. Unexpected results would
  occur if such a <i>string</i> expression were used and $1 expanded to
  <b>'!'</b>, <b>'('</b>, or a known unary primary. Better constructs are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &#x2212;n &quot;$1&quot;</b>
<b>test &#x2212;z &quot;$1&quot;</b>
</pre>
</div>
<div class="Pp"></div>
respectively.
<div class="Pp"></div>
Historical systems have also been unreliable given the common construct:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;$response&quot; = &quot;expected string&quot;</b>
</pre>
</div>
<div class="Pp"></div>
One of the following is a more reliable form:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;X$response&quot; = &quot;Xexpected string&quot;</b>
<b>test &quot;expected string&quot; = &quot;$response&quot;</b>
</pre>
</div>
<div class="Pp"></div>
Note that the second form assumes that <i>expected string</i> could not be
  confused with any unary primary. If <i>expected string</i> starts with
  <b>'&#x2212;'</b>, <b>'('</b>, <b>'!'</b>, or even <b>'='</b>, the first form
  should be used instead. Using the preceding rules without the XSI marked
  extensions, any of the three comparison forms is reliable, given any input.
  (However, note that the strings are quoted in all cases.)
<div class="Pp"></div>
Because the string comparison binary primaries, <b>'='</b> and
  <b>&quot;!=&quot;</b>, have a higher precedence than any unary primary in the
  greater than 4 argument case, unexpected results can occur if arguments are
  not properly prepared. For example, in:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &#x2212;d $1 &#x2212;o &#x2212;d $2</b>
</pre>
</div>
<div class="Pp"></div>
If $1 evaluates to a possible directory name of <b>'='</b>, the first three
  arguments are considered a string comparison, which shall cause a syntax error
  when the second <b>&#x2212;d</b> is encountered. One of the following forms
  prevents this; the second is preferred:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test \( &#x2212;d &quot;$1&quot; \) &#x2212;o \( &#x2212;d &quot;$2&quot; \)</b>
<b>test &#x2212;d &quot;$1&quot; || test &#x2212;d &quot;$2&quot;</b>
</pre>
</div>
<div class="Pp"></div>
Also in the greater than 4 argument case:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;$1&quot; = &quot;bat&quot; &#x2212;a &quot;$2&quot; = &quot;ball&quot;</b>
</pre>
</div>
<div class="Pp"></div>
syntax errors occur if $1 evaluates to <b>'('</b> or <b>'!'</b>. One of the
  following forms prevents this; the third is preferred:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &quot;X$1&quot; = &quot;Xbat&quot; &#x2212;a &quot;X$2&quot; = &quot;Xball&quot;</b>
<b>test &quot;$1&quot; = &quot;bat&quot; &amp;&amp; test &quot;$2&quot; = &quot;ball&quot;</b>
<b>test &quot;X$1&quot; = &quot;Xbat&quot; &amp;&amp; test &quot;X$2&quot; = &quot;Xball&quot;</b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Exit if there are not two or three arguments (two
      variations):</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>if [ $# &#x2212;ne 2 ] &amp;&amp; [ $# &#x2212;ne 3 ]; then exit 1; fi</b>
<b>if [ $# &#x2212;lt 2 ] || [ $# &#x2212;gt 3 ]; then exit 1; fi</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">Perform a <i>mkdir</i> if a directory does not exist:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test ! &#x2212;d tempdir &amp;&amp; mkdir tempdir</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">Wait for a file to become non-readable:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>while test &#x2212;r thefile</b>
<b>do</b>
<b>    sleep 30</b>
<b>done</b>
<b>echo '&quot;thefile&quot; is no longer readable'</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag">Perform a command if the argument is one of three strings
      (two variations):</dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>if [ &quot;$1&quot; = &quot;pear&quot; ] || [ &quot;$1&quot; = &quot;grape&quot; ] || [ &quot;$1&quot; = &quot;apple&quot; ]</b>
<b>then</b>
<b>    </b><i>command</i><b></b>
<b>fi</b>
</pre>
<div class="Pp"></div>
<pre>
case &quot;$1&quot; in
    pear|grape|apple)  <i>command</i> ;;
esac
</pre>
</div>
</div>
<h1 class="Sh" title="Sh" id="RATIONALE"><a class="selflink" href="#RATIONALE">RATIONALE</a></h1>
The KornShell-derived conditional command (double bracket <b>[[]]</b>) was
  removed from the shell command language description in an early proposal.
  Objections were raised that the real problem is misuse of the <i>test</i>
  command (<b>[</b>), and putting it into the shell is the wrong way to fix the
  problem. Instead, proper documentation and a new shell reserved word
  (<b>!</b>) are sufficient.
<div class="Pp"></div>
Tests that require multiple <i>test</i> operations can be done at the shell
  level using individual invocations of the <i>test</i> command and shell
  logicals, rather than using the error-prone <b>&#x2212;o</b> flag of
  <i>test</i>.
<div class="Pp"></div>
XSI-conformant systems support more than four arguments.
<div class="Pp"></div>
XSI-conformant systems support the combining of primaries with the following
  constructs:
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i><b> &#x2212;a </b><i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    True if both <i>expression1</i> and <i>expression2</i> are true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>expression1</i><b> &#x2212;o </b><i>expression2</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    True if at least one of <i>expression1</i> and <i>expression2</i> are
    true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>( </b><i>expression </i><b>)</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    True if <i>expression</i> is true.</dd>
</dl>
<div class="Pp"></div>
In evaluating these more complex combined expressions, the following precedence
  rules are used:
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The unary primaries have higher precedence than the
      algebraic binary primaries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The unary primaries have lower precedence than the string
      binary primaries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The unary and binary primaries have higher precedence than
      the unary <i>string</i> primary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The <b>!</b> operator has higher precedence than the
      <b>&#x2212;a</b> operator, and the <b>&#x2212;a</b> operator has higher
      precedence than the <b>&#x2212;o</b> operator.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The <b>&#x2212;a</b> and <b>&#x2212;o</b> operators are
      left associative.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> *</dt>
  <dd class="It-tag">The parentheses can be used to alter the normal precedence
      and associativity.</dd>
</dl>
<div class="Pp"></div>
The BSD and System V versions of <b>&#x2212;f</b> are not the same. The BSD
  definition was:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;f&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">True if <i>file</i> exists and is not a directory.</dd>
</dl>
<div class="Pp"></div>
The SVID version (true if the file exists and is a regular file) was chosen for
  this volume of POSIX.1&#x2010;2008 because its use is consistent with the
  <b>&#x2212;b</b>, <b>&#x2212;c</b>, <b>&#x2212;d</b>, and <b>&#x2212;p</b>
  operands (<i>file</i> exists and is a specific file type).
<div class="Pp"></div>
The <b>&#x2212;e</b> primary, possessing similar functionality to that provided
  by the C shell, was added because it provides the only way for a shell script
  to find out if a file exists without trying to open the file. Since
  implementations are allowed to add additional file types, a portable script
  cannot use:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &#x2212;b foo &#x2212;o &#x2212;c foo &#x2212;o &#x2212;d foo &#x2212;o &#x2212;f foo &#x2212;o &#x2212;p foo</b>
</pre>
</div>
<div class="Pp"></div>
to find out if <b>foo</b> is an existing file. On historical BSD systems, the
  existence of a file could be determined by:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>test &#x2212;f foo &#x2212;o &#x2212;d foo</b>
</pre>
</div>
<div class="Pp"></div>
but there was no easy way to determine that an existing file was a regular file.
  An early proposal used the KornShell <b>&#x2212;a</b> primary (with the same
  meaning), but this was changed to <b>&#x2212;e</b> because there were concerns
  about the high probability of humans confusing the <b>&#x2212;a</b> primary
  with the <b>&#x2212;a</b> binary operator.
<div class="Pp"></div>
The following options were not included in this volume of POSIX.1&#x2010;2008,
  although they are provided by some implementations. These operands should not
  be used by new implementations for other purposes:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;k&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">True if <i>file</i> exists and its sticky bit is set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;C&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">True if <i>file</i> is a contiguous file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;V&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">True if <i>file</i> is a version file.</dd>
</dl>
<div class="Pp"></div>
The following option was not included because it was undocumented in most
  implementations, has been removed from some implementations (including System
  V), and the functionality is provided by the shell (see <i>Section 2.6.2</i>,
  <i>Parameter Expansion</i>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;l&#x00A0;</b><i>string</i></dt>
  <dd class="It-tag">The length of the string <i>string</i>.</dd>
</dl>
<div class="Pp"></div>
The <b>&#x2212;b</b>, <b>&#x2212;c</b>, <b>&#x2212;g</b>, <b>&#x2212;p</b>,
  <b>&#x2212;u</b>, and <b>&#x2212;x</b> operands are derived from the SVID;
  historical BSD does not provide them. The <b>&#x2212;k</b> operand is derived
  from System V; historical BSD does not provide it.
<div class="Pp"></div>
On historical BSD systems, <i>test</i> <b>&#x2212;w</b> <i>directory</i> always
  returned false because <i>test</i> tried to open the directory for writing,
  which always fails.
<div class="Pp"></div>
Some additional primaries newly invented or from the KornShell appeared in an
  early proposal as part of the conditional command (<b>[[]]</b>): <i>s1</i>
  <b>&gt;</b> <i>s2</i>, <i>s1</i> <b>&lt;</b> <i>s2</i>, <i>str</i> <b>=</b>
  <i>pattern</i>, <i>str</i> <b>!=</b> <i>pattern</i>, <i>f1</i>
  <b>&#x2212;nt</b> <i>f2</i>, <i>f1</i> <b>&#x2212;ot</b> <i>f2</i>, and
  <i>f1</i> <b>&#x2212;ef</b> <i>f2</i>. They were not carried forward into the
  <i>test</i> utility when the conditional command was removed from the shell
  because they have not been included in the <i>test</i> utility built into
  historical implementations of the <i>sh</i> utility.
<div class="Pp"></div>
The <b>&#x2212;t</b> <i>file_descriptor</i> primary is shown with a mandatory
  argument because the grammar is ambiguous if it can be omitted. Historical
  implementations have allowed it to be omitted, providing a default of 1.
<div class="Pp"></div>
It is noted that <b>'['</b> is not part of the portable filename character set;
  however, since it is required to be encoded by a single byte, and is part of
  the portable character set, the name of this utility forms a character string
  across all supported locales.
<h1 class="Sh" title="Sh" id="FUTURE_DIRECTIONS"><a class="selflink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
None.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>Section 1.1.1.4</i>, <i>File Read</i>, <i>Write</i>, <i>and Creation</i>,
  <i><i>find</i></i>
<div class="Pp"></div>
The Base Definitions volume of POSIX.1&#x2010;2008, <i>Chapter 8</i>,
  <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
  Guidelines</i>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Portions of this text are reprinted and reproduced in electronic form from IEEE
  Std 1003.1, 2013 Edition, Standard for Information Technology -- Portable
  Operating System Interface (POSIX), The Open Group Base Specifications Issue
  7, Copyright (C) 2013 by the Institute of Electrical and Electronics
  Engineers, Inc and The Open Group. (This is POSIX.1-2008 with the 2013
  Technical Corrigendum 1 applied.) In the event of any discrepancy between this
  version and the original IEEE and The Open Group Standard, the original IEEE
  and The Open Group Standard is the referee document. The original Standard can
  be obtained online at http://www.unix.org/online.html .
<div style="height: 1.00em;">&#x00A0;</div>
Any typographical or formatting errors that appear in this page are most likely
  to have been introduced during the conversion of the source files to man page
  format. To report such errors, see
  https://www.kernel.org/doc/man-pages/reporting_bugs.html .</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</table>
</body>
</html>
