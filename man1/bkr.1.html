<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:55:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BKR(1) Beaker BKR(1)</p>

<p style="margin-top: 1em">NAME <br>
bkr - Beaker client</p>

<p style="margin-top: 1em">SYNOPSIS <br>
bkr &lt;subcommand&gt; [options] ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Provides a scriptable command-line interface to the Beaker
server.</p>

<p style="margin-top: 1em">The following subcommands are
supported. Each subcommand is documented in its own man
page. This man page is reserved for common options and
features.</p>

<p style="margin-top: 1em">orphan</p>

<p style="margin-top: 1em">Subcommands <br>
&Acirc;&middot; bkr-distro-trees-list(1) -- List Beaker
distro trees</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-distro-trees-verify(1) -- Check Beaker distro trees for
problems</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-distros-edit-version(1) -- Edit the version of Beaker
distros</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-distros-list(1) -- List Beaker distros</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-distros-tag(1) -- Tag Beaker distros</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-distros-untag(1) -- Untag Beaker distros</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-group-create(1) -- Create a group</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-group-list(1) -- List groups</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-group-members(1) -- List members of a group</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-group-modify(1) -- Modify a group</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-harness-test(1) -- Generate Beaker job to test harness
installation</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-job-cancel(1) -- Cancel running Beaker jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-job-clone(1)
-- Clone existing Beaker jobs</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-job-delete(1) -- Delete Beaker jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-job-list(1)
-- List Beaker jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-job-logs(1)
-- Print URLs of Beaker recipe log files</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-job-modify(1) -- Modify Beaker jobs</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-job-results(1) -- Export Beaker job results as XML</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-job-submit(1) -- Submit job XML to Beaker</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-job-watch(1)
-- Watch the progress of a Beaker job</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-labcontroller-create(1) -- Create a new lab
controller</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-labcontroller-list(1) -- List Beaker lab controllers</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-labcontroller-modify(1) -- Modify a lab controller</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-list-labcontrollers(1) --</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-list-systems(1) --</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-loan-grant(1) -- Grant a loan for a Beaker system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-loan-return(1) -- Return a current Beaker system
loan</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-machine-test(1) -- Generate Beaker job to test a
system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-policy-grant(1) -- Grant permissions in an access
policy</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-policy-list(1) -- Lists access policy rules for a
system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-policy-revoke(1) -- Revoke permissions in an access
policy</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-pool-add(1)
-- Add systems to a system pool</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-pool-create(1) -- Create a system pool</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-pool-delete(1) -- Delete a system pool</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-pool-list(1)
-- List system pools</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-pool-modify(1) -- Modify a system pool</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-pool-remove(1) -- Remove systems from a pool</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-pool-systems(1) -- List systems in a pool</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-remove-account(1) -- Remove user accounts</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-create(1) -- Create a system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-delete(1) -- Delete a Beaker system
permanently</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-details(1) -- Export RDF/XML description of a
Beaker system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-list(1) -- List Beaker systems</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-modify(1) -- Modify system attributes</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-power(1) -- Control power for a Beaker system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-provision(1) -- Provision a Beaker system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-release(1) -- Release a reserved Beaker
system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-reserve(1) -- Manually reserve a Beaker
system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-system-status(1) -- Return the current status of a
system</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-task-add(1)
-- Upload tasks to Beaker&rsquo;s task library</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-task-details(1) -- Export details of a Beaker task</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-task-list(1)
-- List tasks in Beaker&rsquo;s task library</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-update-inventory(1) -- Submits a inventory job for the
system</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-update-openstack-trust(1) -- Update OpenStack Keystone
trust</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-update-prefs(1) -- Update user preferences</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-user-modify(1) -- Modify Beaker users</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-watchdog-extend(1) -- Extend Beaker watchdog time</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-watchdog-show(1) -- Show time remaining on Beaker
watchdogs</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-watchdogs-extend(1) -- Extend Beaker watchdogs time</p>

<p style="margin-top: 1em">&Acirc;&middot; bkr-whoami(1) --
Show your Beaker username</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-workflow-installer-test(1) -- DEPRECATED workflow to
generate a kickstart for testing Anaconda</p>

<p style="margin-top: 1em">&Acirc;&middot;
bkr-workflow-simple(1) -- Simple workflow to generate Beaker
jobs</p>

<p style="margin-top: 1em">Specifying tasks <br>
Some bkr subcommands accept one or more &lt;taskspec&gt;
arguments. This allows the user to identify a job, or any
subcomponent of a job, by its id. The format is
&lt;type&gt;:&lt;id&gt; where <br>
&lt;type&gt; is one of the following abbreviations, in
descending hierarchical order:</p>

<p style="margin-top: 1em">J job</p>

<p style="margin-top: 1em">RS recipe set</p>

<p style="margin-top: 1em">R recipe</p>

<p style="margin-top: 1em">T recipe-task</p>

<p style="margin-top: 1em">For example, J:123 might contain
RS:456, which might contain R:789, which might contain
T:1234 and T:5678.</p>

<p style="margin-top: 1em">This format is also used in the
Beaker web UI to identify jobs and their subcomponents.</p>

<p style="margin-top: 1em">OPTIONS <br>
Common options <br>
These options are applicable to all bkr subcommands.</p>

<p style="margin-top: 1em">--hub &lt;url&gt; <br>
Connect to the Beaker server at the given URL. This
overrides the HUB_URL setting from the configuration file.
The URL should not include a trailing slash.</p>

<p style="margin-top: 1em">--insecure <br>
Skip all SSL certificate validity checks. This allows the
client to connect to a Beaker server with an invalid,
expired, or untrusted SSL certificate.</p>

<p style="margin-top: 1em">--username &lt;username&gt; <br>
Authenticate using password authentication, with
&lt;username&gt;. If a password is not given using
--password, the user is prompted for the password on
stdin.</p>

<p style="margin-top: 1em">This option overrides the
authentication type specified in the configuration file,
forcing password authentication to be used.</p>

<p style="margin-top: 1em">--password &lt;password&gt; <br>
Authenticate using &lt;password&gt;. This option is only
applicable when --username is also passed.</p>

<p style="margin-top: 1em">--proxy-user &lt;username&gt;
<br>
Impersonate &lt;username&gt; in order to perform actions on
their behalf.</p>

<p style="margin-top: 1em">This option can only be used
when the authenticating user is a member of a group which
has been granted &rsquo;proxy_user&rsquo; permission by the
Beaker administrator. Typically this <br>
permission is granted to service accounts so that a trusted
script can perform actions on behalf of any other Beaker
user.</p>

<p style="margin-top: 1em">--help Show a brief summary of
the command and its available options then exit.</p>

<p style="margin-top: 1em">Workflow options <br>
These options are applicable to bkr workflow subcommands,
such as bkr workflow-simple.</p>

<p style="margin-top: 1em">--dry-run, --dryrun <br>
Don&rsquo;t submit the job(s) to Beaker.</p>

<p style="margin-top: 1em">--debug <br>
Print the generated job XML before submitting it to
Beaker.</p>

<p style="margin-top: 1em">--pretty-xml, --prettyxml <br>
Pretty-print the generated job XML in a human-readable form
(with indentation and line breaks).</p>

<p style="margin-top: 1em">--wait Watch the newly submitted
job(s) for state changes and print them to stdout. The
command will not exit until all submitted jobs have
finished. See bkr-job-watch(1).</p>

<p style="margin-top: 1em">--no-wait, --nowait <br>
Do not wait on job completion [default].</p>

<p style="margin-top: 1em">--quiet <br>
Be quiet, don&rsquo;t print warnings.</p>

<p style="margin-top: 1em">Options for selecting distro
tree(s):</p>

<p style="margin-top: 1em">--family &lt;family&gt; <br>
Run the job with the latest distro in &lt;family&gt; (for
example: RedHatEnterpriseLinux6).</p>

<p style="margin-top: 1em">--tag &lt;tag&gt; <br>
Run the job with the latest distro tagged with &lt;tag&gt;.
Combine this with --family. By default the STABLE tag is
used.</p>

<p style="margin-top: 1em">--distro &lt;name&gt; <br>
Run the job with distro named &lt;name&gt;. If the given
name includes a % character, it is interpreted as a SQL LIKE
pattern (the % character matches any substring).</p>

<p style="margin-top: 1em">--variant &lt;variant&gt; <br>
Run the job with distro variant &lt;variant&gt;, for example
Server. Combine this with --family.</p>

<p style="margin-top: 1em">--arch &lt;arch&gt; <br>
Use only &lt;arch&gt; in job. By default, a recipe set is
generated for each arch supported by the selected distro.
This option may be specified multiple times.</p>

<p style="margin-top: 1em">Options for selecting
system(s):</p>

<p style="margin-top: 1em">--machine &lt;fqdn&gt; <br>
Run the job on system with &lt;fqdn&gt;. This option will
always select a single system, and so does not make sense
combined with any other system options.</p>

<p style="margin-top: 1em">--ignore-system-status <br>
Always use the system given by --machine, regardless of its
status.</p>

<p style="margin-top: 1em">--systype &lt;type&gt; <br>
Run the job on system(s) of type &lt;type&gt;. This defaults
to Machine which is almost always what you want. Other
supported values are Laptop, Prototype and Resource. Laptop
<br>
type would be used to select a system from the available
laptop computers. Similarly, Resource and Prototype would be
used in cases where you would want to schedule your <br>
job against a system whose type has been set as such.</p>

<p style="margin-top: 1em">--hostrequire &lt;tag&gt;
&lt;operator&gt; &lt;value&gt; <br>
Additional &lt;hostRequires/&gt; for the job. For example,
labcontroller=lab.example.com would become &lt;labcontroller
op=&quot;=&quot; value=&quot;lab.example.com&quot;/&gt; in
the job XML.</p>

<p style="margin-top: 1em">For more advanced filtering (for
example using &lt;device/&gt;) you can also pass raw XML
directly to this option. Any value starting with &lt; is
parsed as XML and inserted <br>
directly into &lt;hostRequires/&gt;.</p>

<p style="margin-top: 1em">See job-xml for more information
about the &lt;hostRequires/&gt; element.</p>

<p style="margin-top: 1em">--host-filter &lt;name&gt; <br>
Look up the pre-defined host filter with the given name,and
add the corresponding XML snippet to
&lt;hostRequires/&gt;.</p>

<p style="margin-top: 1em">You can use pre-defined host
filters as a short-hand for complicated or difficult to
remember XML snippets. Beaker includes many pre-defined
filters for different types <br>
of hardware. For example, pass
--host-filter=INTEL__FAM15_CELERON to filter for hosts with
an Intel Celeron CPU.</p>

<p style="margin-top: 1em">Filter definitions are read from
the following configuration files:</p>

<p style="margin-top: 1em">&Acirc;&middot;
/usr/lib/python2.x/site-packages/bkr/client/host-filters/*.conf</p>

<p style="margin-top: 1em">&Acirc;&middot;
/etc/beaker/host-filters/*.conf</p>

<p style="margin-top: 1em">&Acirc;&middot;
~/.beaker_client/host-filter</p>

<p style="margin-top: 1em">Files within each directory are
processed in lexicographical order. The files contain one
filter definition per line, consisting of the filter name
and the associated XML <br>
snippet separated by whitespace. If the same filter name
appears in multiple files, the last definition overrides
earlier definitions.</p>

<p style="margin-top: 1em">--keyvalue &lt;name&gt;
&lt;operator&gt; &lt;value&gt; <br>
Run the job on system(s) which have the key &lt;name&gt; set
to &lt;value&gt; (for example: NETWORK=e1000).</p>

<p style="margin-top: 1em">--random <br>
Select a system at random. The systems owned by the user are
first checked for availability, followed by the systems
owned by the user&rsquo;s group and finally all other
sys&acirc; <br>
tems.</p>

<p style="margin-top: 1em">Options for selecting tasks:</p>

<p style="margin-top: 1em">--task &lt;task&gt; <br>
Include &lt;task&gt; in the job. This option may be
specified multiple times.</p>

<p style="margin-top: 1em">--taskfile &lt;filename&gt; <br>
Include tasks listed in &lt;filename&gt;, each line contains
one task name. Lines not starting with &rsquo;/&rsquo; are
ignored.</p>

<p style="margin-top: 1em">--package &lt;package&gt; <br>
Include tests for &lt;package&gt; in the job. This option
may be specified multiple times.</p>

<p style="margin-top: 1em">--task-type &lt;type&gt; <br>
Include tasks of type &lt;type&gt; in the job. This option
may be specified multiple times.</p>

<p style="margin-top: 1em">--install &lt;package&gt; <br>
Install additional package &lt;package&gt; after
provisioning. This uses the /distribution/pkginstall task.
This option may be specified multiple times.</p>

<p style="margin-top: 1em">--kdump <br>
Enable kdump using using /kernel/networking/kdump.</p>

<p style="margin-top: 1em">--ndump <br>
Enable ndnc using using /kernel/networking/ndnc.</p>

<p style="margin-top: 1em">--suppress-install-task <br>
Omit /distribution/install which is included by default.</p>

<p style="margin-top: 1em">Options for job
configuration:</p>

<p style="margin-top: 1em">--job-owner &lt;username&gt;
<br>
Submit the job on behalf of &lt;username&gt;. The job will
be owned by &lt;username&gt; rather than the submitting
user.</p>

<p style="margin-top: 1em">The submitting user must be a
submission delegate of &lt;username&gt;. Users can add other
users as submission delegates on their Preferences page in
Beaker&rsquo;s web UI.</p>

<p style="margin-top: 1em">--job-group &lt;group&gt; <br>
Associate the job with &lt;group&gt;. This will allow other
group members to modify the job.</p>

<p style="margin-top: 1em">--whiteboard &lt;whiteboard&gt;
<br>
Set the job&rsquo;s whiteboard to &lt;whiteboard&gt;.</p>

<p style="margin-top: 1em">--taskparam
&lt;name&gt;=&lt;value&gt; <br>
Sets parameter &lt;name&gt; to &lt;value&gt; for all tasks
in the job.</p>

<p style="margin-top: 1em">New in version 0.14.3.</p>

<p style="margin-top: 1em">--ignore-panic <br>
Disable kernel panic detection and install failure detection
for the recipe. By default if a kernel panic appears on the
serial console, or a fatal installer error <br>
appears during installation, the recipe is aborted. When
this option is given, the messages are ignored and the
recipe is not aborted.</p>

<p style="margin-top: 1em">--reserve <br>
Reserve the system at the end of the recipe, for further
testing or examination. The system will be reserved when all
tasks have completed executing, or if the recipe ends <br>
abnormally. Refer to reservesys.</p>

<p style="margin-top: 1em">--reserve-duration
&lt;seconds&gt; <br>
When --reserve is used, this option controls the duration
for the reservation. The default duration is 86400 seconds
(24 hours).</p>

<p style="margin-top: 1em">--cc &lt;email&gt; <br>
Add &lt;email&gt; to the cc list for the job(s). The cc list
will receive the job completion notification. This option
may be specified multiple times.</p>

<p style="margin-top: 1em">--priority &lt;priority&gt; <br>
Set job priority to &lt;priority&gt;. Can be Low, Medium,
Normal, High, or Urgent. The default is Normal.</p>

<p style="margin-top: 1em">--retention-tag &lt;tag&gt; <br>
Specify data retention policy for this job [default:
Scratch]</p>

<p style="margin-top: 1em">--product &lt;product&gt; <br>
Associate job with &lt;product&gt; for data retention
purposes.</p>

<p style="margin-top: 1em">Options for installation:</p>

<p style="margin-top: 1em">--method &lt;method&gt; <br>
Installation source method (nfs, http, ftp) [default:
nfs].</p>

<p style="margin-top: 1em">--kernel-options &lt;opts&gt;
<br>
Pass additional kernel options for during installation. The
options string is applied on top of any install-time kernel
options which are set by default for the chosen <br>
system and distro.</p>

<p style="margin-top: 1em">--kernel-options-post
&lt;opts&gt; <br>
Pass additional kernel options for after installation. The
options string is applied on top of any post-install kernel
options which are set by default for the chosen sys&acirc;
<br>
tem and distro.</p>

<p style="margin-top: 1em">--ks-append &lt;commands&gt;
<br>
Specify additional kickstart commands to add to the base
kickstart file.</p>

<p style="margin-top: 1em">--ks-meta &lt;options&gt; <br>
Pass kickstart metadata &lt;options&gt; when generating
kickstart.</p>

<p style="margin-top: 1em">--repo &lt;url&gt; <br>
Make the yum repository at &lt;url&gt; available during
initial installation of the system and afterwards. This
option may be specified multiple times. The installation may
<br>
fail if the repo is not actually available.</p>

<p style="margin-top: 1em">--repo-post &lt;url&gt; <br>
Make the yum repository at &lt;url&gt; available AFTER the
installation. This option may be specified multiple times.
The repo config will be appended to the kickstart&rsquo;s
%post <br>
section. Whether or not the installation succeeds is not
affected by the availability of the repo.</p>

<p style="margin-top: 1em">--kickstart &lt;filename&gt;
<br>
Use this kickstart template for installation. Templates are
rendered on the server. Refer to the custom-kickstarts
section in Beaker&rsquo;s documentation for details about
the <br>
templating language and available variables. You can also
pass raw kickstarts in - if you don&rsquo;t use any Jinja2
variable substitution syntax, the rendering process will
<br>
reproduce the template verbatim.</p>

<p style="margin-top: 1em">If the template provides the
following line:</p>

<p style="margin-top: 1em">## kernel_options:
&lt;options&gt;</p>

<p style="margin-top: 1em">the specified kernel options
will be appended to existing ones defined with
--kernel-options.</p>

<p style="margin-top: 1em">Options for multi-host
testing:</p>

<p style="margin-top: 1em">--clients &lt;number&gt; <br>
Use &lt;number&gt; clients in the job.</p>

<p style="margin-top: 1em">--servers &lt;number&gt; <br>
Use &lt;number&gt; servers in the job.</p>

<p style="margin-top: 1em">FILES <br>
On startup bkr searches the following locations in order for
its config: <br>
~/.beaker_client/config</p>

<p style="margin-top: 1em">/etc/beaker/client.conf</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The following environment variables affect the operation of
bkr.</p>

<p style="margin-top: 1em">BEAKER_CLIENT_CONF <br>
If set to a non-empty value, this overrides the usual
configuration search paths. This must be the full path to
the configuration file.</p>

<p style="margin-top: 1em">AUTHOR <br>
The Beaker team
&lt;beaker-devel@lists.fedorahosted.org&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2013, Red Hat, Inc</p>

<p style="margin-top: 1em">24.3 May 30, 2017 BKR(1)</p>
<hr>
</body>
</html>
