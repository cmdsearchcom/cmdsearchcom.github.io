<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>XDG-DESKTOP-MENU(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">XDG-DESKTOP-MENU(1)</td>
    <td class="head-vol">xdg-desktop-menu Manual</td>
    <td class="head-rtitle">XDG-DESKTOP-MENU(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
xdg-desktop-menu - command line tool for (un)installing desktop menu items
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 17.00ex; text-indent: -17.00ex;"><b>xdg-desktop-menu</b>
  install [ <b>--noupdate</b>] [<b>--novendor</b>]
  [<b>--mode&#x00A0;</b><b></b><i>mode</i>] <i>directory-file(s)</i>
  <i>desktop-file(s)</i></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 17.00ex; text-indent: -17.00ex;"><b>xdg-desktop-menu</b>
  uninstall [ <b>--noupdate</b>] [<b>--mode&#x00A0;</b><b></b><i>mode</i>]
  <i>directory-file(s)</i> <i>desktop-file(s)</i></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 17.00ex; text-indent: -17.00ex;"><b>xdg-desktop-menu</b>
  forceupdate [ <b>--mode&#x00A0;</b><b></b><i>mode</i>]</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 17.00ex; text-indent: -17.00ex;"><b>xdg-desktop-menu</b>
  { <b>--help</b> | <b>--manual</b> | <b>--version</b>}</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The xdg-desktop-menu program can be used to install new menu entries to the
  desktop's application menu.
<div class="Pp"></div>
The application menu works according to the XDG Desktop Menu Specification at
  <b>http://www.freedesktop.org/wiki/Specifications/menu-spec</b>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
install
<div style="margin-left: 4.00ex;">Install one or more applications in a submenu
  of the desktop menu system.
<div style="height: 1.00em;">&#x00A0;</div>
<i>desktop-file</i>: A desktop file represents a single menu entry in the menu.
  Desktop files are defined by the freedesktop.org Desktop Entry Specification.
  The most important aspects of *.desktop files are summarized below.
<div style="height: 1.00em;">&#x00A0;</div>
Menu entries can be added to the menu system in two different ways. They can
  either be added to a predefined submenu in the menu system based on one or
  more category keywords, or they can be added to a new submenu.
<div style="height: 1.00em;">&#x00A0;</div>
To add a menu entry to a predefined submenu the desktop file that represents the
  menu entry must have a Categories= entry that lists one or more keywords. The
  menu item will be included in an appropriate submenu based on the included
  keywords.
<div style="height: 1.00em;">&#x00A0;</div>
To add menu items to a new submenu the desktop-files must be preceded by a
  directory-file that describes the submenu. If multiple desktop-files are
  specified, all entries will be added to the same menu. If entries are
  installed to a menu that has been created with a previous call to
  <b>xdg-desktop-menu</b> the entries will be installed in addition to any
  already existing entries.
<div style="height: 1.00em;">&#x00A0;</div>
<i>directory-file</i>: The *.directory file indicated by <i>directory-file</i>
  represents a submenu. The directory file provides the name and icon for a
  submenu. The name of the directory file is used to identify the submenu.
<div style="height: 1.00em;">&#x00A0;</div>
If multiple directory files are provided each file will represent a submenu
  within the menu that precedes it, creating a nested menu hierarchy
  (sub-sub-menus). The menu entries themselves will be added to the last
  submenu.
<div style="height: 1.00em;">&#x00A0;</div>
Directory files follow the syntax defined by the freedesktop.org Desktop Entry
  Specification.</div>
<div class="Pp"></div>
uninstall
<div style="margin-left: 4.00ex;">Remove applications or submenus from the
  desktop menu system previously installed with <b>xdg-desktop-menu install</b>.
<div style="height: 1.00em;">&#x00A0;</div>
A submenu and the associated directory file is only removed when the submenu no
  longer contains any menu entries.</div>
<div class="Pp"></div>
forceupdate
<div style="margin-left: 4.00ex;">Force an update of the menu system.
<div style="height: 1.00em;">&#x00A0;</div>
This command is only useful if the last call to xdg-desktop-menu included the
  <b>--noupdate</b> option.</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--noupdate</b>
<div style="margin-left: 4.00ex;">Postpone updating the menu system. If multiple
  updates to the menu system are made in sequence this flag can be used to
  indicate that additional changes will follow and that it is not necessary to
  update the menu system right away.</div>
<div class="Pp"></div>
<b>--novendor</b>
<div style="margin-left: 4.00ex;">Normally, xdg-desktop-menu checks to ensure
  that any *.directory and *.desktop files to be installed has a vendor prefix.
  This option can be used to disable that check.
<div style="height: 1.00em;">&#x00A0;</div>
A vendor prefix consists of alpha characters ([a-zA-Z]) and is terminated with a
  dash (&quot;-&quot;). Companies and organizations are encouraged to use a word
  or phrase, preferably the organizations name, for which they hold a trademark
  as their vendor prefix. The purpose of the vendor prefix is to prevent name
  conflicts.</div>
<div class="Pp"></div>
<b>--mode</b> <i>mode</i>
<div style="margin-left: 4.00ex;"><i>mode</i> can be <i>user</i> or
  <i>system</i>. In user mode the file is (un)installed for the current user
  only. In system mode the file is (un)installed for all users on the system.
  Usually only root is allowed to install in system mode.
<div style="height: 1.00em;">&#x00A0;</div>
The default is to use system mode when called by root and to use user mode when
  called by a non-root user.</div>
<div class="Pp"></div>
<b>--help</b>
<div style="margin-left: 4.00ex;">Show command synopsis.</div>
<div class="Pp"></div>
<b>--manual</b>
<div style="margin-left: 4.00ex;">Show this manual page.</div>
<div class="Pp"></div>
<b>--version</b>
<div style="margin-left: 4.00ex;">Show the xdg-utils version information.</div>
<h1 class="Sh" title="Sh" id="DESKTOP_FILES"><a class="selflink" href="#DESKTOP_FILES">DESKTOP
  FILES</a></h1>
An application item in the application menu is represented by a *.desktop file.
  A *.desktop file consists of a <i>[Desktop Entry]</i> header followed by
  several <i>Key</i>=<i>Value</i> lines.
<div class="Pp"></div>
A *.desktop file can provide a name and description for an application in
  several different languages. This is done by adding a language code as used by
  LC_MESSAGES in square brackets behind the <i>Key</i>. This way one can specify
  different values for the same <i>Key</i> depending on the currently selected
  language.
<div class="Pp"></div>
The following keys are often used:
<div class="Pp"></div>
Value=1.0
<div style="margin-left: 4.00ex;">This is a mandatory field to indicate that the
  *.desktop file follows the 1.0 version of the specification.</div>
<div class="Pp"></div>
Type=Application
<div style="margin-left: 4.00ex;">This is a mandatory field that indicates that
  the *.desktop file describes an application launcher.</div>
<div class="Pp"></div>
Name= <i>Application Name</i>
<div style="margin-left: 4.00ex;">The name of the application. For example
  <i>Mozilla</i></div>
<div class="Pp"></div>
GenericName= <i>Generic Name</i>
<div style="margin-left: 4.00ex;">A generic description of the application. For
  example <i>Web Browser</i></div>
<div class="Pp"></div>
Comment= <i>Comment</i>
<div style="margin-left: 4.00ex;">Optional field to specify a tooltip for the
  application. For example <i>Visit websites on the Internet</i></div>
<div class="Pp"></div>
Icon= <i>Icon File</i>
<div style="margin-left: 4.00ex;">The icon to use for the application. This can
  either be an absolute path to an image file or an icon-name. If an icon-name
  is provided an image lookup by name is done in the user's current icon theme.
  The <b>xdg-icon-resource</b> command can be used to install image files into
  icon themes. The advantage of using an icon-name instead of an absolute path
  is that with an icon-name the application icon can be provided in several
  different sizes as well as in several differently themed styles.</div>
<div class="Pp"></div>
Exec= <i>Command Line</i>
<div style="margin-left: 4.00ex;">The command line to start the application. If
  the application can open files the %f placeholder should be specified. When a
  file is dropped on the application launcher the %f is replaced with the file
  path of the dropped file. If multiple files can be specified on the command
  line the %F placeholder should be used instead of %f. If the application is
  able to open URLs in addition to local files then %u or %U can be used instead
  of %f or %F.</div>
<div class="Pp"></div>
Categories= <i>Categories</i>
<div style="margin-left: 4.00ex;">A list of categories separated by semi-colons.
  A category is a keyword that describes and classifies the application. By
  default applications are organized in the application menu based on category.
  When menu entries are explicitly assigned to a new submenu it is not necessary
  to list any categories.
<div style="height: 1.00em;">&#x00A0;</div>
When using categories it is recommended to include one of the following
  categories: AudioVideo, Development, Education, Game, Graphics, Network,
  Office, Settings, System, Utility.
<div style="height: 1.00em;">&#x00A0;</div>
See Appendix A of the XDG Desktop Menu Specification for information about
  additional categories:
  <b>http://standards.freedesktop.org/menu-spec/menu-spec-1.0.html#category-registry</b></div>
<div class="Pp"></div>
MimeType= <i>Mimetypes</i>
<div style="margin-left: 4.00ex;">A list of mimetypes separated by semi-colons.
  This field is used to indicate which file types the application is able to
  open.</div>
<div class="Pp"></div>
For a complete overview of the *.desktop file format please visit
  <b>http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec</b>
<h1 class="Sh" title="Sh" id="DIRECTORY_FILES"><a class="selflink" href="#DIRECTORY_FILES">DIRECTORY
  FILES</a></h1>
The appearance of submenu in the application menu is provided by a *.directory
  file. In particular it provides the title of the submenu and a possible icon.
  A *.directory file consists of a <i>[Desktop Entry]</i> header followed by
  several <i>Key</i>=<i>Value</i> lines.
<div class="Pp"></div>
A *.directory file can provide a title (name) for the submenu in several
  different languages. This is done by adding a language code as used by
  LC_MESSAGES in square brackets behind the <i>Key</i>. This way one can specify
  different values for the same <i>Key</i> depending on the currently selected
  language.
<div class="Pp"></div>
The following keys are relevant for submenus:
<div class="Pp"></div>
Value=1.0
<div style="margin-left: 4.00ex;">This is a mandatory field to indicate that the
  *.directory file follows the 1.0 version of the Desktop Entry
  specification.</div>
<div class="Pp"></div>
Type=Directory
<div style="margin-left: 4.00ex;">This is a mandatory field that indicates that
  the *.directory file describes a submenu.</div>
<div class="Pp"></div>
Name= <i>Menu Name</i>
<div style="margin-left: 4.00ex;">The title of submenu. For example
  <i>Mozilla</i></div>
<div class="Pp"></div>
Comment= <i>Comment</i>
<div style="margin-left: 4.00ex;">Optional field to specify a tooltip for the
  submenu.</div>
<div class="Pp"></div>
Icon= <i>Icon File</i>
<div style="margin-left: 4.00ex;">The icon to use for the submenu. This can
  either be an absolute path to an image file or an icon-name. If an icon-name
  is provided an image lookup by name is done in the user's current icon theme.
  The <b>xdg-icon-resource</b> command can be used to install image files into
  icon themes. The advantage of using an icon-name instead of an absolute path
  is that with an icon-name the submenu icon can be provided in several
  different sizes as well as in several differently themed styles.</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
xdg-desktop-menu honours the following environment variables:
<div class="Pp"></div>
XDG_UTILS_DEBUG_LEVEL
<div style="margin-left: 4.00ex;">Setting this environment variable to a
  non-zero numerical value makes xdg-desktop-menu do more verbose reporting on
  stderr. Setting a higher value increases the verbosity.</div>
<div class="Pp"></div>
XDG_UTILS_INSTALL_MODE
<div style="margin-left: 4.00ex;">This environment variable can be used by the
  user or administrator to override the installation mode. Valid values are
  <i>user</i> and <i>system</i>.</div>
<h1 class="Sh" title="Sh" id="EXIT_CODES"><a class="selflink" href="#EXIT_CODES">EXIT
  CODES</a></h1>
An exit code of 0 indicates success while a non-zero exit code indicates
  failure. The following failure codes can be returned:
<div class="Pp"></div>
<b>1</b>
<div style="margin-left: 4.00ex;">Error in command line syntax.</div>
<div class="Pp"></div>
<b>2</b>
<div style="margin-left: 4.00ex;">One of the files passed on the command line
  did not exist.</div>
<div class="Pp"></div>
<b>3</b>
<div style="margin-left: 4.00ex;">A required tool could not be found.</div>
<div class="Pp"></div>
<b>4</b>
<div style="margin-left: 4.00ex;">The action failed.</div>
<div class="Pp"></div>
<b>5</b>
<div style="margin-left: 4.00ex;">No permission to read one of the files passed
  on the command line.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>xdg-desktop-icon</b>(1), <b>xdg-icon-resource</b>(1), <b>xdg-mime</b>(1)
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The company ShinyThings Inc. has developed an application named
  &quot;WebMirror&quot; and would like to add it to the application menu. The
  company will use &quot;shinythings&quot; as its vendor id. In order to add the
  application to the menu there needs to be a .desktop file with a suitable
  <i>Categories</i> entry:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
shinythings-webmirror.desktop:
<div class="Pp"></div>
  [Desktop Entry]
  Encoding=UTF-8
  Type=Application
<div class="Pp"></div>
  Exec=webmirror
  Icon=webmirror
<div class="Pp"></div>
  Name=WebMirror
  Name[nl]=WebSpiegel
<div class="Pp"></div>
  Categories=Network;WebDevelopment;
</pre>
</div>
<div class="Pp"></div>
Now the xdg-desktop-menu tool can be used to add the
  shinythings-webmirror.desktop file to the desktop application menu:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
xdg-desktop-menu install ./shinythings-webmirror.desktop
</pre>
</div>
<div class="Pp"></div>
Note that for the purpose of this example the menu items are available in two
  languages, English and Dutch. The language code for Dutch is nl.
<div class="Pp"></div>
In the next example the company ShinyThings Inc. will add its own submenu to the
  desktop application menu consisting of a &quot;WebMirror&quot; menu item and a
  &quot;WebMirror Admin Tool&quot; menu item.
<div class="Pp"></div>
First the company needs to create two .desktop files that describe the two menu
  items. Since the items are to be added to a new submenu it is not necessary to
  include a Categories= line:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
shinythings-webmirror.desktop:
<div class="Pp"></div>
  [Desktop Entry]
  Encoding=UTF-8
  Type=Application
<div class="Pp"></div>
  Exec=webmirror
  Icon=shinythings-webmirror
<div class="Pp"></div>
  Name=WebMirror
  Name[nl]=WebSpiegel
<div class="Pp"></div>
<div class="Pp"></div>
shinythings-webmirror-admin.desktop:
<div class="Pp"></div>
  [Desktop Entry]
  Encoding=UTF-8
  Type=Application
<div class="Pp"></div>
  Exec=webmirror-admintool
  Icon=shinythings-webmirror-admintool
<div class="Pp"></div>
  Name=WebMirror Admin Tool
  Name[nl]=WebSpiegel Administratie Tool
</pre>
</div>
<div class="Pp"></div>
In addition a .directory file needs to be created to provide a title and icon
  for the sub-menu itself:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
shinythings-webmirror.directory:
<div class="Pp"></div>
  [Desktop Entry]
  Encoding=UTF-8
<div class="Pp"></div>
  Icon=shinythings-webmirror-menu
<div class="Pp"></div>
  Name=WebMirror
  Name[nl]=WebSpiegel
</pre>
</div>
<div class="Pp"></div>
These file can now be installed with:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
xdg-desktop-menu install ./shinythings-webmirror.directory \
      ./shinythings-webmirror.desktop ./shinythings-webmirror-admin.desktop
</pre>
</div>
<div class="Pp"></div>
The menu entries could also be installed one by one:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
xdg-desktop-menu install --noupdate ./shinythings-webmirror.directory \
      ./shinythings-webmirror.desktop
xdg-desktop-menu install --noupdate ./shinythings-webmirror.directory \
      ./shinythings-webmirror-admin.desktop
xdg-desktop-menu forceupdate
</pre>
</div>
<div class="Pp"></div>
Although the result is the same it is slightly more efficient to install all
  files at the same time.
<div class="Pp"></div>
The *.desktop and *.directory files reference icons with the names webmirror,
  webmirror-admin and webmirror-menu which should also be installed. In this
  example the icons are installed in two different sizes, once with a size of
  22x22 pixels and once with a size of 64x64 pixels:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
xdg-icon-resource install --size 22 ./wmicon-22.png shinythings-webmirror
xdg-icon-resource install --size 22 ./wmicon-menu-22.png shinythings-webmirror-menu
xdg-icon-resource install --size 22 ./wmicon-admin-22.png shinythings-webmirror-admin
xdg-icon-resource install --size 64 ./wmicon-64.png shinythings-webmirror
xdg-icon-resource install --size 64 ./wmicon-menu-64.png shinythings-webmirror-menu
xdg-icon-resource install --size 64 ./wmicon-admin-64.png shinythings-webmirror-admin
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>Kevin Krammer</b>
<div style="margin-left: 4.00ex;">Author.</div>
<div class="Pp"></div>
<b>Jeremy White</b>
<div style="margin-left: 4.00ex;">Author.</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2006
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">11/05/2016</td>
    <td class="foot-os">xdg-utils 1.0</td>
  </tr>
</table>
</body>
</html>
