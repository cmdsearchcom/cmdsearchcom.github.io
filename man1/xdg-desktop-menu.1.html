<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:43:58 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>XDG-DESKTOP-MENU(1) xdg-desktop-menu Manual
XDG-DESKTOP-MENU(1)</p>

<p style="margin-top: 1em">NAME <br>
xdg-desktop-menu - command line tool for (un)installing
desktop menu items</p>

<p style="margin-top: 1em">SYNOPSIS <br>
xdg-desktop-menu install [--noupdate] [--novendor] [--mode
mode] directory-file(s) desktop-file(s)</p>

<p style="margin-top: 1em">xdg-desktop-menu uninstall
[--noupdate] [--mode mode] directory-file(s)
desktop-file(s)</p>

<p style="margin-top: 1em">xdg-desktop-menu forceupdate
[--mode mode]</p>

<p style="margin-top: 1em">xdg-desktop-menu {--help |
--manual | --version}</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The xdg-desktop-menu program can be used to install new menu
entries to the desktop&rsquo;s application menu.</p>

<p style="margin-top: 1em">The application menu works
according to the XDG Desktop Menu Specification at
http://www.freedesktop.org/wiki/Specifications/menu-spec</p>

<p style="margin-top: 1em">COMMANDS <br>
install <br>
Install one or more applications in a submenu of the desktop
menu system.</p>

<p style="margin-top: 1em">desktop-file: A desktop file
represents a single menu entry in the menu. Desktop files
are defined by the freedesktop.org Desktop Entry
Specification. The most important <br>
aspects of *.desktop files are summarized below.</p>

<p style="margin-top: 1em">Menu entries can be added to the
menu system in two different ways. They can either be added
to a predefined submenu in the menu system based on one or
more category <br>
keywords, or they can be added to a new submenu.</p>

<p style="margin-top: 1em">To add a menu entry to a
predefined submenu the desktop file that represents the menu
entry must have a Categories= entry that lists one or more
keywords. The menu item will <br>
be included in an appropriate submenu based on the included
keywords.</p>

<p style="margin-top: 1em">To add menu items to a new
submenu the desktop-files must be preceded by a
directory-file that describes the submenu. If multiple
desktop-files are specified, all entries <br>
will be added to the same menu. If entries are installed to
a menu that has been created with a previous call to
xdg-desktop-menu the entries will be installed in addition
to <br>
any already existing entries.</p>

<p style="margin-top: 1em">directory-file: The *.directory
file indicated by directory-file represents a submenu. The
directory file provides the name and icon for a submenu. The
name of the directory <br>
file is used to identify the submenu.</p>

<p style="margin-top: 1em">If multiple directory files are
provided each file will represent a submenu within the menu
that precedes it, creating a nested menu hierarchy
(sub-sub-menus). The menu <br>
entries themselves will be added to the last submenu.</p>

<p style="margin-top: 1em">Directory files follow the
syntax defined by the freedesktop.org Desktop Entry
Specification.</p>

<p style="margin-top: 1em">uninstall <br>
Remove applications or submenus from the desktop menu system
previously installed with xdg-desktop-menu install.</p>

<p style="margin-top: 1em">A submenu and the associated
directory file is only removed when the submenu no longer
contains any menu entries.</p>

<p style="margin-top: 1em">forceupdate <br>
Force an update of the menu system.</p>

<p style="margin-top: 1em">This command is only useful if
the last call to xdg-desktop-menu included the --noupdate
option.</p>

<p style="margin-top: 1em">OPTIONS <br>
--noupdate <br>
Postpone updating the menu system. If multiple updates to
the menu system are made in sequence this flag can be used
to indicate that additional changes will follow and that
<br>
it is not necessary to update the menu system right
away.</p>

<p style="margin-top: 1em">--novendor <br>
Normally, xdg-desktop-menu checks to ensure that any
*.directory and *.desktop files to be installed has a vendor
prefix. This option can be used to disable that check.</p>

<p style="margin-top: 1em">A vendor prefix consists of
alpha characters ([a-zA-Z]) and is terminated with a dash
(&quot;-&quot;). Companies and organizations are encouraged
to use a word or phrase, preferably <br>
the organizations name, for which they hold a trademark as
their vendor prefix. The purpose of the vendor prefix is to
prevent name conflicts.</p>

<p style="margin-top: 1em">--mode mode <br>
mode can be user or system. In user mode the file is
(un)installed for the current user only. In system mode the
file is (un)installed for all users on the system. Usually
<br>
only root is allowed to install in system mode.</p>

<p style="margin-top: 1em">The default is to use system
mode when called by root and to use user mode when called by
a non-root user.</p>

<p style="margin-top: 1em">--help <br>
Show command synopsis.</p>

<p style="margin-top: 1em">--manual <br>
Show this manual page.</p>

<p style="margin-top: 1em">--version <br>
Show the xdg-utils version information.</p>

<p style="margin-top: 1em">DESKTOP FILES <br>
An application item in the application menu is represented
by a *.desktop file. A *.desktop file consists of a [Desktop
Entry] header followed by several Key=Value lines.</p>

<p style="margin-top: 1em">A *.desktop file can provide a
name and description for an application in several different
languages. This is done by adding a language code as used by
LC_MESSAGES in square <br>
brackets behind the Key. This way one can specify different
values for the same Key depending on the currently selected
language.</p>

<p style="margin-top: 1em">The following keys are often
used:</p>

<p style="margin-top: 1em">Value=1.0 <br>
This is a mandatory field to indicate that the *.desktop
file follows the 1.0 version of the specification.</p>

<p style="margin-top: 1em">Type=Application <br>
This is a mandatory field that indicates that the *.desktop
file describes an application launcher.</p>

<p style="margin-top: 1em">Name=Application Name <br>
The name of the application. For example Mozilla</p>

<p style="margin-top: 1em">GenericName=Generic Name <br>
A generic description of the application. For example Web
Browser</p>

<p style="margin-top: 1em">Comment=Comment <br>
Optional field to specify a tooltip for the application. For
example Visit websites on the Internet</p>

<p style="margin-top: 1em">Icon=Icon File <br>
The icon to use for the application. This can either be an
absolute path to an image file or an icon-name. If an
icon-name is provided an image lookup by name is done in the
<br>
user&rsquo;s current icon theme. The xdg-icon-resource
command can be used to install image files into icon themes.
The advantage of using an icon-name instead of an absolute
path <br>
is that with an icon-name the application icon can be
provided in several different sizes as well as in several
differently themed styles.</p>

<p style="margin-top: 1em">Exec=Command Line <br>
The command line to start the application. If the
application can open files the %f placeholder should be
specified. When a file is dropped on the application
launcher the %f <br>
is replaced with the file path of the dropped file. If
multiple files can be specified on the command line the %F
placeholder should be used instead of %f. If the application
<br>
is able to open URLs in addition to local files then %u or
%U can be used instead of %f or %F.</p>

<p style="margin-top: 1em">Categories=Categories <br>
A list of categories separated by semi-colons. A category is
a keyword that describes and classifies the application. By
default applications are organized in the application <br>
menu based on category. When menu entries are explicitly
assigned to a new submenu it is not necessary to list any
categories.</p>

<p style="margin-top: 1em">When using categories it is
recommended to include one of the following categories:
AudioVideo, Development, Education, Game, Graphics, Network,
Office, Settings, System, <br>
Utility.</p>

<p style="margin-top: 1em">See Appendix A of the XDG
Desktop Menu Specification for information about additional
categories: <br>

http://standards.freedesktop.org/menu-spec/menu-spec-1.0.html#category-registry</p>

<p style="margin-top: 1em">MimeType=Mimetypes <br>
A list of mimetypes separated by semi-colons. This field is
used to indicate which file types the application is able to
open.</p>

<p style="margin-top: 1em">For a complete overview of the
*.desktop file format please visit
http://www.freedesktop.org/wiki/Specifications/desktop-entry-spec</p>

<p style="margin-top: 1em">DIRECTORY FILES <br>
The appearance of submenu in the application menu is
provided by a *.directory file. In particular it provides
the title of the submenu and a possible icon. A *.directory
file <br>
consists of a [Desktop Entry] header followed by several
Key=Value lines.</p>

<p style="margin-top: 1em">A *.directory file can provide a
title (name) for the submenu in several different languages.
This is done by adding a language code as used by
LC_MESSAGES in square brackets <br>
behind the Key. This way one can specify different values
for the same Key depending on the currently selected
language.</p>

<p style="margin-top: 1em">The following keys are relevant
for submenus:</p>

<p style="margin-top: 1em">Value=1.0 <br>
This is a mandatory field to indicate that the *.directory
file follows the 1.0 version of the Desktop Entry
specification.</p>

<p style="margin-top: 1em">Type=Directory <br>
This is a mandatory field that indicates that the
*.directory file describes a submenu.</p>

<p style="margin-top: 1em">Name=Menu Name <br>
The title of submenu. For example Mozilla</p>

<p style="margin-top: 1em">Comment=Comment <br>
Optional field to specify a tooltip for the submenu.</p>

<p style="margin-top: 1em">Icon=Icon File <br>
The icon to use for the submenu. This can either be an
absolute path to an image file or an icon-name. If an
icon-name is provided an image lookup by name is done in the
<br>
user&rsquo;s current icon theme. The xdg-icon-resource
command can be used to install image files into icon themes.
The advantage of using an icon-name instead of an absolute
path <br>
is that with an icon-name the submenu icon can be provided
in several different sizes as well as in several differently
themed styles.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
xdg-desktop-menu honours the following environment
variables:</p>

<p style="margin-top: 1em">XDG_UTILS_DEBUG_LEVEL <br>
Setting this environment variable to a non-zero numerical
value makes xdg-desktop-menu do more verbose reporting on
stderr. Setting a higher value increases the verbosity.</p>

<p style="margin-top: 1em">XDG_UTILS_INSTALL_MODE <br>
This environment variable can be used by the user or
administrator to override the installation mode. Valid
values are user and system.</p>

<p style="margin-top: 1em">EXIT CODES <br>
An exit code of 0 indicates success while a non-zero exit
code indicates failure. The following failure codes can be
returned:</p>

<p style="margin-top: 1em">1 <br>
Error in command line syntax.</p>

<p style="margin-top: 1em">2 <br>
One of the files passed on the command line did not
exist.</p>

<p style="margin-top: 1em">3 <br>
A required tool could not be found.</p>

<p style="margin-top: 1em">4 <br>
The action failed.</p>

<p style="margin-top: 1em">5 <br>
No permission to read one of the files passed on the command
line.</p>

<p style="margin-top: 1em">SEE ALSO <br>
xdg-desktop-icon(1), xdg-icon-resource(1), xdg-mime(1)</p>

<p style="margin-top: 1em">EXAMPLES <br>
The company ShinyThings Inc. has developed an application
named &quot;WebMirror&quot; and would like to add it to the
application menu. The company will use
&quot;shinythings&quot; as its vendor id. <br>
In order to add the application to the menu there needs to
be a .desktop file with a suitable Categories entry:</p>


<p style="margin-top: 1em">shinythings-webmirror.desktop:</p>

<p style="margin-top: 1em">[Desktop Entry] <br>
Encoding=UTF-8 <br>
Type=Application</p>

<p style="margin-top: 1em">Exec=webmirror <br>
Icon=webmirror</p>

<p style="margin-top: 1em">Name=WebMirror <br>
Name[nl]=WebSpiegel</p>


<p style="margin-top: 1em">Categories=Network;WebDevelopment;</p>

<p style="margin-top: 1em">Now the xdg-desktop-menu tool
can be used to add the shinythings-webmirror.desktop file to
the desktop application menu:</p>

<p style="margin-top: 1em">xdg-desktop-menu install
./shinythings-webmirror.desktop</p>

<p style="margin-top: 1em">Note that for the purpose of
this example the menu items are available in two languages,
English and Dutch. The language code for Dutch is nl.</p>

<p style="margin-top: 1em">In the next example the company
ShinyThings Inc. will add its own submenu to the desktop
application menu consisting of a &quot;WebMirror&quot; menu
item and a &quot;WebMirror Admin Tool&quot; menu <br>
item.</p>

<p style="margin-top: 1em">First the company needs to
create two .desktop files that describe the two menu items.
Since the items are to be added to a new submenu it is not
necessary to include a <br>
Categories= line:</p>


<p style="margin-top: 1em">shinythings-webmirror.desktop:</p>

<p style="margin-top: 1em">[Desktop Entry] <br>
Encoding=UTF-8 <br>
Type=Application</p>

<p style="margin-top: 1em">Exec=webmirror <br>
Icon=shinythings-webmirror</p>

<p style="margin-top: 1em">Name=WebMirror <br>
Name[nl]=WebSpiegel</p>


<p style="margin-top: 1em">shinythings-webmirror-admin.desktop:</p>

<p style="margin-top: 1em">[Desktop Entry] <br>
Encoding=UTF-8 <br>
Type=Application</p>

<p style="margin-top: 1em">Exec=webmirror-admintool <br>
Icon=shinythings-webmirror-admintool</p>

<p style="margin-top: 1em">Name=WebMirror Admin Tool <br>
Name[nl]=WebSpiegel Administratie Tool</p>

<p style="margin-top: 1em">In addition a .directory file
needs to be created to provide a title and icon for the
sub-menu itself:</p>


<p style="margin-top: 1em">shinythings-webmirror.directory:</p>

<p style="margin-top: 1em">[Desktop Entry] <br>
Encoding=UTF-8</p>


<p style="margin-top: 1em">Icon=shinythings-webmirror-menu</p>

<p style="margin-top: 1em">Name=WebMirror <br>
Name[nl]=WebSpiegel</p>

<p style="margin-top: 1em">These file can now be installed
with:</p>

<p style="margin-top: 1em">xdg-desktop-menu install
./shinythings-webmirror.directory
./shinythings-webmirror.desktop
./shinythings-webmirror-admin.desktop</p>

<p style="margin-top: 1em">The menu entries could also be
installed one by one:</p>

<p style="margin-top: 1em">xdg-desktop-menu install
--noupdate ./shinythings-webmirror.directory
./shinythings-webmirror.desktop <br>
xdg-desktop-menu install --noupdate
./shinythings-webmirror.directory
./shinythings-webmirror-admin.desktop <br>
xdg-desktop-menu forceupdate</p>

<p style="margin-top: 1em">Although the result is the same
it is slightly more efficient to install all files at the
same time.</p>

<p style="margin-top: 1em">The *.desktop and *.directory
files reference icons with the names webmirror,
webmirror-admin and webmirror-menu which should also be
installed. In this example the icons are <br>
installed in two different sizes, once with a size of 22x22
pixels and once with a size of 64x64 pixels:</p>

<p style="margin-top: 1em">xdg-icon-resource install --size
22 ./wmicon-22.png shinythings-webmirror <br>
xdg-icon-resource install --size 22 ./wmicon-menu-22.png
shinythings-webmirror-menu <br>
xdg-icon-resource install --size 22 ./wmicon-admin-22.png
shinythings-webmirror-admin <br>
xdg-icon-resource install --size 64 ./wmicon-64.png
shinythings-webmirror <br>
xdg-icon-resource install --size 64 ./wmicon-menu-64.png
shinythings-webmirror-menu <br>
xdg-icon-resource install --size 64 ./wmicon-admin-64.png
shinythings-webmirror-admin</p>

<p style="margin-top: 1em">AUTHORS <br>
Kevin Krammer <br>
Author.</p>

<p style="margin-top: 1em">Jeremy White <br>
Author.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2006</p>

<p style="margin-top: 1em">xdg-utils 1.0 11/05/2016
XDG-DESKTOP-MENU(1)</p>
<hr>
</body>
</html>
