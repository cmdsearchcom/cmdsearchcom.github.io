<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GIT-DPM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GIT-DPM(1)</td>
    <td class="head-vol">GIT-DPM</td>
    <td class="head-rtitle">GIT-DPM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
git-dpm - Debian packages in git manager
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>git-dpm --help</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>git-dpm</b> [ <i>options</i> ] <i>command</i> [ <i>per-command-options and
  -arguments</i> ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Git-dpm is a tool to handle a Debian source package in a git repository.
<div style="height: 1.00em;">&#x00A0;</div>
Each project contains three branches, a Debian branch (
  <b>master</b>/<i>whatever</i>), a patched branch (
  <b>patched</b>/<b>patched-</b> <i>whatever</i>) and an upstream branch (
  <b>upstream</b>/ <b>upstream-</b><i>whatever</i>) and <b>git-dpm</b> helps you
  store the information in there so you have your changes exportable as quilt
  series.
<div style="height: 1.00em;">&#x00A0;</div>
Git-dpm will guess the other two branches based on the branch it sees. (Most
  commands act based on the current HEAD, i.e. what branch you have currently
  checked out, though some as e.g. <b>status</b> allows an optional argument
  instead). So for example, if you are in branch <b>master</b>, git-dpm assumes
  the corresponding upstream branch is called <b>upstream</b>. If you are in
  branch <b>upstream-something</b>, it assumes the Debian branch is called
  <b>something</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Note that most commands may switch to another branch automatically, partly
  because it is easier to implement that way and hopefully so one does not need
  to switch branches manually so often.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SHORT_EXPLANATION_OF_THE_BRANCHES"><a class="selflink" href="#SHORT_EXPLANATION_OF_THE_BRANCHES">SHORT
  EXPLANATION OF THE BRANCHES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">the upstream branch
    (<b>upstream</b>|<b>upstream-</b><i>whatever</i>)</dt>
  <dd class="It-tag">This branch contains the upstream sources. Its contents
      need to be equal enough to the contents in your upstream tarball.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">the patched branch
    (<b>patched</b>|<b>patched-</b><i>whatever</i>)</dt>
  <dd class="It-tag">This branch contains your patches to the upstream source.
      Every commit will be stored as a single patch in the resulting package.
    <div style="height: 1.00em;">&#x00A0;</div>
    Most of the time it will not exist as a branch known to <b>git</b>, but only
      as some point in the history of the Debian branch and possibly as tag for
      published versions. <b>Git-dpm</b> will create it when needed and remove
      the branch when no longer needed.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    To help git generate a linear patch series, this should ideal be a linear
      chain of commits, whose description are helpful for other people.
    <div style="height: 1.00em;">&#x00A0;</div>
    As this branch is regularly rebased, you should not publish it.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">the Debian branch
    (<b>master</b>|<b></b><i>whatever</i><b>)</b></dt>
  <dd class="It-tag">This is the primary branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    This branch contains the <b>debian/</b> directory and has the patched branch
      merged in.
    <div style="height: 1.00em;">&#x00A0;</div>
    Every change not in <b>debian/</b>, <b>.git</b><i>*</i> or deleting files
      must be done in the patched branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Let's start with some examples:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">Checking out a project</dt>
  <dd class="It-tag">First get the master branch:
    <br/>
     <b>git clone</b> <i>URL</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then create upstream branch and see if the .orig.tar is ready:
    <br/>
     <b>git-dpm prepare</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Create the patched branch and check it out:
    <br/>
     <b>git-dpm checkout-patched</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Do some changes, apply some patches, commit them..
    <br/>
     <i>...</i>
    <br/>
     <b>git commit</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    If your modification fixes a previous change (and that is not the last
      commit, otherwise you could have used --amend), you might want to squash
      those two commits into one, so use:
    <br/>
     <b>git rebase -i upstream</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then you want to get those changes into the Debian branch and the new patch
      files created (which you can do using <b>git-dpm update-patches</b>), but
      you most likely want to also document what you did in the changelog, so
      all in one step:
    <br/>
     <b>git-dpm dch -- -i</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Perhaps change something in the Debian packaging:
    <br/>
     <i>...</i>
    <br/>
     <b>git commit -a</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then push the whole thing back:
    <br/>
     <b>git push</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Switching to a new upstream version</dt>
  <dd class="It-tag">Get a new .orig.tar file. Either upgrade your upstream
      branch to the contents of that file and call <b>git-dpm
      record-new-upstream ../</b> <i>new-stuff</i><b>.orig.tar.gz</b> or tell
      git-dpm to import and record it:
    <br/>
     <b>git-dpm import-new-upstream --rebase
      ../</b><i>new-stuff</i><b>.orig.tar.gz</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    This will rebase the patched branch to the new upstream branch, perhaps you
      will need to resolve some conflicts:
    <br/>
     <i>vim ...</i>
    <br/>
     <b>git add</b> <i>resolved files</i>
    <br/>
     <b>git rebase --continue</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    After rebase is run (with some luck even in the first try):
    <br/>
     <b>git-dpm dch -- -v </b><i>newupstream</i><b>-1 &quot;new upstream
      version&quot;</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    You could have also done the last step in three by:
    <br/>
     <b>git-dpm update-patches</b>
    <br/>
     <b>dch -- -v </b><i>newupstream</i><b>-1 &quot;new upstream
      version&quot;</b>
    <br/>
     <b>git commit --amend -a</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Do other debian/ changes:
    <br/>
     <i>...</i>
    <br/>
     <b>git commit -a</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then push the whole thing back:
    <br/>
     <b>git push</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Creating a new project</dt>
  <dd class="It-tag">Create an <b>upstream</b> (or
      <b>upstream-</b><i>whatever</i>) branch containing the contents of your
      orig.tar file:
    <br/>
     <b>tar -xvf </b><i>example</i><b>_</b><i>0</i><b>.orig.tar.gz</b>
    <br/>
     <b>cd </b><i>example</i><b>-</b><i>0</i>
    <br/>
     <b>git init</b>
    <br/>
     <b>git add .</b>
    <br/>
     <b>git commit -m &quot;import
      </b><i>example</i><b>_</b><i>0</i><b>.orig.tar.gz&quot;</b>
    <br/>
     <b>git checkout -b upstream-unstable</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    You might want to use pristine tar to store your tar:
    <br/>
     <b>pristine-tar commit ../</b><i>example</i><b>_</b><i>0</i><b>.orig.tar.gz
      upstream-unstable</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then let git-dpm know what tarball your upstream branch belongs to:
    <br/>
     <b>git-dpm init ../</b><i>example</i><b>_</b><i>0</i><b>.orig.tar.gz</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that since you were in <b>upstream-unstable</b> in this example, in the
      last example <b>git-dpm</b> assumed you want your Debian branch called
      <b>unstable</b> and not <b>master</b>, so after the command returned you
      are in the newly created <b>unstable</b> branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    Do the rest of the packaging:
    <br/>
     <i>vim</i> <b>debian/control debian/rules</b>
    <br/>
     <b>dch --create --package </b><i>example</i><b> -v </b><i>0</i><b>-1</b>
    <br/>
     <b>git add debian/control debian/rules debian/changelog</b>
    <br/>
     <b>git commit -m &quot;initial packaging&quot;</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then add some patches:
    <br/>
     <b>git-dpm checkout-patched</b>
    <br/>
     <i>vim ...</i>
    <br/>
     <b>git commit -a</b>
    <br/>
     <b>git-dpm dch &quot;</b><i>fix ... (Closes: num)</i><b>&quot;</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>git-dpm checkout-patched</b> created a temporary branch
      <b>patched-unstable</b> (as you were in a branch called <b>unstable</b>.
      If you had called it with HEAD being a branch <b>master</b>, it would have
      been <b>patched</b>) to which you added commits. Then the <b>git-dpm
      update-patches</b> implied by <b>git-dpm dch</b> merged those changes into
      <b>unstable</b>, deleted the temporary branch and created new
      <b>debian/patches/</b> files.
    <div style="height: 1.00em;">&#x00A0;</div>
    Then build your package:
    <br/>
     <b>git-dpm status &amp;&amp;</b>
    <br/>
     <b> dpkg-buildpackage -rfakeroot -us -uc -I&quot;.git*&quot;</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Now take a look what happened, perhaps you want to add some files to
      <b>.gitignore</b> (in the <b>unstable</b> branch), or remove some files
      from the <b>unstable</b> branch because your clean rule removes them.
    <div style="height: 1.00em;">&#x00A0;</div>
    Continue the last few steps until the package is finished. Then push your
      package:
    <br/>
     <b>git-dpm tag</b>
    <br/>
     <b>git push --tags </b><i>target</i><b> unstable:unstable
      pristine-tar:pristine-tar</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Removing existing patches</dt>
  <dd class="It-tag">First get the master branch:
    <br/>
     <b>git clone</b> <i>URL</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    Create the patched branch and check it out:
    <br/>
     <b>git-dpm checkout-patched</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Get a list of commits since the last upstream release: <b>git rebase -i
      upstream-unstable</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    This will open your default editor with a list of commits. Edit the list to
      remove undesired commits.
    <br/>
     <i>...</i>
    <br/>
     <b>git commit</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then you want to get those changes into the Debian branch and the old patch
      files deleted (which you can do using <b>git-dpm update-patches</b>), but
      you most likely want to also document what you did in the changelog, so
      all in one step:
    <br/>
     <b>git-dpm dch -- -i</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Perhaps change something in the Debian packaging:
    <br/>
     <i>...</i>
    <br/>
     <b>git commit -a</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Then push the whole thing back:
    <br/>
     <b>git push</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="GLOBAL_OPTIONS"><a class="selflink" href="#GLOBAL_OPTIONS">GLOBAL
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Give verbose output what git-dpm is doing. Mostly only
      useful for debugging or when preparing an bug report.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-git-calls</b></dt>
  <dd class="It-tag">Output git invocations to stderr. (For more complicated
      debugging cases).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-changes-in-debian-branch</b></dt>
  <dd class="It-tag">Ignore upstream changes in your Debian branch. This will
      either discard them if merge-patched is called by come command or them
      being ignored elsewhere.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>init [<i>options</i>] <i>tarfile</i>
    [<i>upstream-commit</i> [ <i>preapplied-commit</i>
    [<i>patched-commit</i>]]]</b></dt>
  <dd class="It-tag">Create a new project.
    <div style="height: 1.00em;">&#x00A0;</div>
    The first argument is an upstream tarball.
    <div style="height: 1.00em;">&#x00A0;</div>
    You also need to have the contents of that file and the files given with
      --component unpackaged as some branch or commit in your git repository (or
      similar enough so <b>dpkg-source</b> will not know the difference). This
      will be stored in the upstream branch (called <b>upstream</b> or
      <b>upstream-</b> <i>whatever</i>). If the second argument is non-existing
      or empty, that branch must already exist, otherwise that branch will be
      initialized with what that second argument. (It's your responsibility that
      the contents match. git-dpm does not know what your clean rule does, so
      cannot check (and does not even try to warn yet)).
    <div style="height: 1.00em;">&#x00A0;</div>
    You can already have an Debian branch (called <b>master</b> or
      <b>whatever</b>). If it does not exist, it will exist afterwards.
      Otherwise it can contain a <b>debian/patches/series</b> file, which
      git-dpm will import.
    <div style="height: 1.00em;">&#x00A0;</div>
    The third argument can be a descendant of your upstream branch, that
      contains the changes of your Debian branch before any patches are applied
      (Most people prefer to have none and lintian warns, but if you have some,
      commit/cherry pick them in a new branch/detached head on top of your
      upstream branch and name them here). Without --patches-applied, your
      Debian branch may not have any upstream changes compared to this commit
      (or if it is not given, the upstream branch).
    <div style="height: 1.00em;">&#x00A0;</div>
    If there is no fourth argument, git-dpm will apply possible patches in your
      Debian branch on top of the third argument or upstream. You can also do so
      yourself and give that as fourth argument.
    <div style="height: 1.00em;">&#x00A0;</div>
    The contents of this commit/branch given in the fourth commit or created by
      applying patches on top of the third/your upstream branch is then merged
      into your Debian branch and remembered as patched branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--component <i>filename</i></b></dt>
  <dd class="It-tag">Record a <b>.orig-</b><i>component</i><b>.tar</b> file to
      be unpacked in your upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patches-applied</b></dt>
  <dd class="It-tag">Denote the Debian branch already has the patches applied.
    <div style="height: 1.00em;">&#x00A0;</div>
    Without this git-dpm will check there are no changes in the Debian branch
      outside patch management before applying the patches; with this, it will
      instead check there are no differences after applying the patches.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--create-no-patches</b></dt>
  <dd class="It-tag">Do not create/override <b>debian/patches</b> directory. You
      will have to call <b>update-patches</b> yourself. Useful if you are
      importing historical data and keep the original patches in the Debian
      branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--record-patch-category</b></dt>
  <dd class="It-tag">Add a <b>Patch-Category:</b> field to each imported patch
      that is in a subdirectory of <b>debian/patches</b>. This causes
      <b>update-patches</b> to store it in the same subdirectory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--record-patch-name</b></dt>
  <dd class="It-tag">Add a <b>Patch-Name:</b> field to each imported patch with
      its name. This causes <b>update-patches</b> to store it under its original
      name.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>prepare</b></dt>
  <dd class="It-tag">Make sure upstream branch and upstream orig.tar ball are
      there and up to date. (Best called after a clone or a pull).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status [<i>branch</i>]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Check the status of the current project (or of the project belonging to the
      argument <i>branch</i> if that is given). Returns with non-zero exit code
      if something to do is detected.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>checkout-patched</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Checkout the patched branch ( <b>patched</b>|<b>patched-</b><i>whatever</i>)
      after making sure it exists and is one recorded in the
      <b>debian/.git-dpm</b> file.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the patched branch references an old state (i.e. one that is already
      ancestor of the current Debian branch), it is changed to the recorded
      current one.
    <div style="height: 1.00em;">&#x00A0;</div>
    Otherwise you can reset it to the last recorded state with the
      <b>--force</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>update-patches [<i>options</i>]
    [<i>branch-name</i>]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    After calling <b>merge-patched-into-debian</b> if necessary, update the
      contents of <b>debian/patches</b> to the current state of the
      <b>patched</b> branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    Also record in debian/.git-dpm which state of the patched branch the patches
      directory belongs to.
    <div style="height: 1.00em;">&#x00A0;</div>
    If a <i>branch-name</i> is given, that branch is processed. Otherwise the
      name is derived from the currently checked out branch as usual.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--redo</b></dt>
  <dd class="It-tag">Do something, even if it seems like there is nothing to do.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-revert</b>, <b>--ignore-deletions</b>,
    <b>--dot-git-files= <i>*</i></b></dt>
  <dd class="It-tag">passed on to merge-patched-into-debian
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--amend</b></dt>
  <dd class="It-tag">Do not create a new commit, but amend the last one in the
      Debian branch. (I.e. call merge-patched-into-debian with --amend and amend
      the updates patches into the last commit even if that was not created by
      merge-patched-into-debian).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m <i>message</i></b></dt>
  <dd class="It-tag">Use <i>message</i> as commit message. (If used together
      with --amend, do not reuse old commit message, author or author date but
      replace the old commit with a new commit with that message).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-branch</b></dt>
  <dd class="It-tag">do not remove an existing patched branch (usually that is
      removed and can be recreated with <b>checkout-patched</b> to avoid stale
      copies lurking around.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-nonlinear</b></dt>
  <dd class="It-tag">passed to merge-patched.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dch [<i>options</i>] -- <i>dch-options</i></b></dt>
  <dd class="It-tag">After calling update-patches if necessary, run devscripts'
      dch with the specified options and then do a <b>git commit</b> with a
      commit message containing changes to the <b>debian/changelog</b> file.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--amend</b></dt>
  <dd class="It-tag">Replace the commit currently the head of the Debian branch
      ( <b>master</b>|<i>something</i>) instead of creating a new one on top.
      The commit message will also include changes done to
      <b>debian/changelog</b> in the previous commit (unless reverted by the new
      edit).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-patches</b></dt>
  <dd class="It-tag">Do not call update-patches but simply ignore the current
      state of the patched branch (
      <b>patched</b>|<b>patched-</b><i>something</i>).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-branch</b>, <b>--allow-revert</b>,
    <b>--allow-nonlinear</b>, <b>--ignore-deletions</b>,
    <b>--dot-git-files=<i>*</i></b></dt>
  <dd class="It-tag">Passed to update-patches, if called.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--latest-only</b>|<b>--latest</b>|<b>-l</b></dt>
  <dd class="It-tag">Only include changes between the current working directory
      before calling dch and after calling it (and not since the last commit or
      the last commit not replaced).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b> | <b>-v</b> | <b>-a</b> | <b>--all</b> |
    <b>-s</b> | <b>-n</b> | <b>--no-verify</b> | <b>-u</b> |
    <b>--untracked-files</b> | <b>-q</b> | <b>--quiet</b> |
    <b>--cleanup=<i>...</i></b> | <b>--author=<i>...</i></b></dt>
  <dd class="It-tag">passed to git commit.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>merge-patched-into-debian [<i>options</i>]
    [<i>branch-name</i>]</b></dt>
  <dd class="It-tag">Usually <b>update-patches</b> runs this for you if deemed
      necessary.
    <div style="height: 1.00em;">&#x00A0;</div>
    This command is the core of <b>git-dpm</b>, but you usually do not call it
      directly. It is called by <b>update-patches</b> and things calling
      <b>update-patches</b> like <b>dch</b> when necessary.
    <div style="height: 1.00em;">&#x00A0;</div>
    It replaces all files (with only the exceptions described below) in the
      current Debian branch ( <b>master</b>|<i>whatever</i>) with those found in
      the patched branch ( <b>patched</b>|<b>patched-</b><i>whatever</i>).
    <div style="height: 1.00em;">&#x00A0;</div>
    Only the <b>debian</b> directory and files in the root directory starting
      with &quot;.git&quot; are kept from the Debian branch (so
      <b>.gitignore</b>, <b>.gitattributes</b>, ... will stay). And all files
      that were found in the last recorded patched branch and deleted in the
      current Debian branch will also be deleted in the new one.
    <div style="height: 1.00em;">&#x00A0;</div>
    Additionally the <b>debian/.git-dpm</b> file will be updated so the current
      patched branch is recorded and is marked as belonging to the last recorded
      upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    If there is no <i>branch-name</i> given on the command line the base name of
      the branches to operate on is computed from the currently checked out
      branch as usual. Otherwise this argument is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-revert</b></dt>
  <dd class="It-tag">Usually reverting to an old state of the patched branch is
      not allowed, to avoid mistakes (like having only pulled the Debian branch
      and forgot to run <b>checkout-patched</b>). This option changes that so
      you can for example drop the last patch in your stack.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-ignore-deletions</b> (default)</dt>
  <dd class="It-tag">Files deleted currently in the Debian branch relative to
      the recorded patched branch will still be deleted in the new Debian branch
      and not taken from the new patched branch. This is the default unless a
      different default was set with
    <br/>
     <b>git config dpm.</b><i>BRANCHNAME</i><b>.dpmIgnoreDeletions true</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-deletions</b></dt>
  <dd class="It-tag">Disable the behavior described in
      <b>--no-ignore-deletions</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dot-git-files=</b><i>method</i></dt>
  <dd class="It-tag">Specify how files starting with <b>.git</b> outside
      <b>debian/</b> are handled. Those are handles specially as
      <b>.gitattributes</b> and <b>.gitignore</b> might be different in the
      Debian branch without being part of any patch. (The whole <b>debian/</b>
      directory is always taken from the Debian branch, so files there are not
      affected).
    <div style="height: 1.00em;">&#x00A0;</div>
    Possible methods are:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>automatic</b> (default)</dt>
  <dd class="It-tag">Any <b>.git</b><i>*</i> files that are added, modified or
      removed in the current Debian branch compared to the old upstream branch
      are set to this state, everything else is taken as found in the new
      patched branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debian</b></dt>
  <dd class="It-tag">All <b>.git</b><i>*</i> files are taken from the Debian
      branch. Files with a name like that from the patched branch are ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>upstream</b></dt>
  <dd class="It-tag">Files starting with <b>.git</b> are not given special
      handling. They are taken from the patched branch, unless they are deleted
      in the Debian branch and the default <b>--no-ignore-deletions</b> is
      active. (i.e. just like any other file outside <b>debian/</b>).</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-branch</b></dt>
  <dd class="It-tag">do not remove an existing patched branch (usually that is
      removed and can be recreated with <b>checkout-patched</b> to avoid stale
      copies lurking around).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--amend</b></dt>
  <dd class="It-tag">Replace the last commit on your Debian branch (as git
      commit --amend would do). With the exception that every parent that is an
      ancestor of or equal to the new patched branch or the recorded patched
      branch is omitted. (That is, you lose not only the commit on the Debian
      branch, but also a previous state of the patched branch if your last
      commit also merged the patched branch).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b><i> message</i></dt>
  <dd class="It-tag">Commit message to use for the new commit created. (If used
      together with --amend, this disables reusing the old author and date).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-nonlinear</b></dt>
  <dd class="It-tag">do not abort with an error if the patched branch is no
      linear series of commits on top of the upstream branch. Using this option
      is not recommended as it easily hides problems with patched or upstream
      branch and may introduce broken debian/patches/ series, as format-patch
      does no serialisation.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import-new-upstream [<i>options</i>]<i>
    </i><i>.orig.tar</i> <i></i></b></dt>
  <dd class="It-tag">Import the contents of the given tarfile (as with
      <b>import-tar</b>) and record this branch (as with
      <b>record-new-upstream</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    This is roughly equivalent to:
    <br/>
     <b>git-dpm import-tar -p </b><i>upstream</i> <i>filename</i>
    <br/>
     <b>git checkout -b </b><i>upstream</i>
    <br/>
     <b>git-dpm record-new-upstream </b><i>filename</i>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--detached</b></dt>
  <dd class="It-tag">Don't make the new upstream branch an ancestor of the old
      upstream branch (unless you re-add that with <b>-p</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p <i>commit-id</i>|--parent <i>commit-id</i></b></dt>
  <dd class="It-tag">Give <b>import-tar</b> additional parents of the new commit
      to create.
    <div style="height: 1.00em;">&#x00A0;</div>
    For example if you track upstream's git repository in some branch, you can
      name that here to make it part of the history of your Debian branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-no-parent</b></dt>
  <dd class="It-tag">If dpm.importWithoutParent is set to false via git config,
      git-dpm will not allow import-new-upstream to be run without this option
      or at least on -p option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rebase-patched</b></dt>
  <dd class="It-tag">After recording the new upstream branch, rebase the patched
      branch to the new upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-rebase-patched</b></dt>
  <dd class="It-tag">Do not call rebase-patched after recording the new upstream
      branch. (This is currently the default, but that may change in the
      future).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m <i>message</i></b></dt>
  <dd class="It-tag">Commit message to use for the new commit to the Debian
      branch recording the new file and upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--component
    <i>package</i>_<i>version</i>.orig-<i>component</i>.tar <i>.gz</i></b></dt>
  <dd class="It-tag">Unpack the specified filename into the <i>component</i>
      directory and record it so that <b>prepare</b> and <b>status</b> know to
      check for it.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--init</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    None of the branches yet exists, create them.
    <div style="height: 1.00em;">&#x00A0;</div>
    As the branches to operate on are derived from <b>HEAD</b> if no
      <b>--branch</b> option is given, you either need <b>HEAD</b> point to an
      not yet existing branch (like directly after <b>git init</b>) or you need
      you give a name with <b>--branch</b>. Otherwise one of the branches
      already exists and you only get an error message.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--branch <i>debianbranch</i></b></dt>
  <dd class="It-tag">Don't derive the Debian branch name from current
      <b>HEAD</b> but use <i>debianbranch</i> instead. (And upstream branch name
      and patched branch name derived from that as usual).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pristine-tar-commit | --ptc</b></dt>
  <dd class="It-tag">Call <b>pristine-tar commit</b> for all imported tarballs
      not yet found in the pristine-tar branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-pristine-tar-commit</b></dt>
  <dd class="It-tag">Do not call <b>pristine-tar commit</b> for all imported
      tarballs even if configured to do so by
    <br/>
     <b>git config dpm.pristineTarCommit true</b> or by
    <br/>
     <b>git config branch.</b>debianbranch<b>.dpmPristineTarCommit true</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-deletions</b>, <b>--dot-git-files=</b></dt>
  <dd class="It-tag">Passed to merge-patched, if called (only done if there were
      no patches previously).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-author <i>author</i></b></dt>
  <dd class="It-tag">Used as the <b>--author</b> argument to <b>git-dpm
      import-tar</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-date <i>date</i></b></dt>
  <dd class="It-tag">Used as the <b>--date</b> argument to <b>git-dpm
      import-tar</b> (especially <b>auto</b> is supported to extract a date from
      the tar file).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exclude <i>pattern</i></b></dt>
  <dd class="It-tag">The given pattern is passed to tar as exclude pattern when
      unpacking. Can be given multiple times.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import-tar [<i>options</i>]<i>
    </i><i>.tar-file</i><i></i></b></dt>
  <dd class="It-tag">Create a new commit containing the contents of the given
      file. The commit will not have any parents, unless you give <b>-p</b>
      options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p <i>commit-id</i>|--parent <i>commit-id</i></b></dt>
  <dd class="It-tag">Add the given commit as parent. (Can be specified multiple
      times).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--branch <i>branchname</i></b></dt>
  <dd class="It-tag">Create new branch <i>branchname</i> if it does not already
      exist or replace <i>branchname</i> with a commit created from the tarball
      with the current <i>branchname</i> head as parent.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m <i>message</i></b></dt>
  <dd class="It-tag">Do not start an editor for the commit message, but use the
      argument instead.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--date <i>date</i></b></dt>
  <dd class="It-tag">Date of the commit to create.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the value is <b>auto</b> then the newest date of any file or directory in
      the tarball is used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--author <i>author</i></b></dt>
  <dd class="It-tag">Author of the commit to create. It has to be in the usual
      git format
    <br/>
     <i>author</i> <b>&lt;</b><i>email</i><b>&gt;</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exclude <i>pattern</i></b></dt>
  <dd class="It-tag">The given pattern is passed to tar as exclude pattern when
      unpacking. Can be given multiple times.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>record-new-upstream [<i>options</i>] <i>.orig.tar</i>
    [<i>commit</i>]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    If you changed the upstream branch (
      <b>upstream</b>|<b>upstream-</b><i>whatever</i>), git-dpm needs to know
      which tarball this branch now corresponds to and you have to rebase your
      patched branch ( <b>patched</b>|<b>patched-</b><i>whatever</i>) to the new
      upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    If there is a second argument, this command first replaces your upstream
      branch with the specified commit.
    <div style="height: 1.00em;">&#x00A0;</div>
    Then the new upstream branch is recorded in your Debian branch's
      <b>debian/.git-dpm</b> file.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you specified <b>--rebase-patched</b> (or short <b>--rebase</b>),
      <b>git-dpm rebase-patched</b> will be called to rebase your patched branch
      on top of the new upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    After this (and if the branch then looks like what you want), you still need
      to call <b>git-dpm merge-patched-into-debian</b> (or directly <b>git-dpm
      update-patches</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>WARNING</b> to avoid any misunderstandings: You have to change the
      upstream branch before using this command. It's your responsibility to
      ensure the contents of the tarball match those of the upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rebase-patched</b></dt>
  <dd class="It-tag">Automatically call <b>git-dpm rebase-patched</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--new-tarball-only</b></dt>
  <dd class="It-tag">Don't refuse operation if the tarball changes but the
      upstream branch did not. (This is only sensible if the tarball changed
      without changing its contents, see the warning above).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m <i>message</i></b></dt>
  <dd class="It-tag">Commit message to use for the new commit to the Debian
      branch recording the new file and upstream branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--amend</b></dt>
  <dd class="It-tag">Replace the last commit instead of creating a new one on
      top.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--component <i>filename</i></b></dt>
  <dd class="It-tag">Record <i>filename</i> as needed component source file
      (i.e. a
      <i>sourcename</i><b>_</b><i>upstreamversion</i><b>.orig-</b><i>component</i>
      <b>.tar.</b><i>compression</i> file). It's your responsible to have that
      file's contents already as part of your upstream branch (in a
      <i>component</i> subdirectory).
    <div style="height: 1.00em;">&#x00A0;</div>
    (Recorded files will be looked for by <b>status</b> and <b>prepare</b>. The
      list of recorded component source files is removed when a new upstream
      branch or upstream <b>.orig</b> source file is recorded).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-deletions</b>, <b>--ot-git-files=</b></dt>
  <dd class="It-tag">Passed to merge-patched, if called (which is only done if
      there were no patches previously, so the new upstream branch is merged in
      directly).</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rebase-patched</b></dt>
  <dd class="It-tag">Try to rebase your current patched branch (
      <b>patched</b>|<b>patched-</b><i>whatever</i>) to your current current
      upstream branch ( <b>upstream</b>|<b>upstream-</b><i>whatever</i>).
    <div style="height: 1.00em;">&#x00A0;</div>
    If those branches do not yet exist as git branches, they are (re)created
      from the information recorded in <b>debian/.git-dpm</b> first.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is only a convenience wrapper around git rebase that first tries to
      determine what exactly is to rebase. If there are any conflicts, git
      rebase will ask you to resolve them and tell rebase to continue.
    <div style="height: 1.00em;">&#x00A0;</div>
    After this is finished (and if the branch then looks like what you want),
      you still need <b>merge-patched-into-debian</b> (or directly
      <b>update-patches</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tag [ <i>options</i> ] [ <i>version</i> ]</b></dt>
  <dd class="It-tag">Add tags to the upstream, patched and Debian branches. If
      no version is given, it is taken from debian/changelog.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--refresh</b></dt>
  <dd class="It-tag">Overwrite the tags if they are already there and differ
      (except upstream).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--refresh-upstream</b></dt>
  <dd class="It-tag">Overwrite the upstream if that is there and differs.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-stale-patches</b></dt>
  <dd class="It-tag">Don't error out if patches are not up to date. This is only
      useful if you are importing historical data and want to tag it.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--named</b></dt>
  <dd class="It-tag">Use the package name as part of the names of the generated
      tags. (use <b>git config dpm.tagsNamed true</b> to make this the default)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-name <i>name</i></b></dt>
  <dd class="It-tag">Like <b>--named</b> but give the name to use.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debian-tag <i>tag-name</i></b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patched-tag <i>tag-name</i></b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-tag <i>tag-name</i></b></dt>
  <dd class="It-tag">Specify the names of the tags to generate.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%p</b> is
  replaced with the package name,</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%v</b>
  with the version (without epoch) with colons (:) and tilde (~) replaced by
  underscore (_),</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%u</b>
  with the upstream version (without epoch or Debian revision) with colons (:)
  and tilde (~) replaced by underscore (_),</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%e</b>
  with the epoch,</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%f</b>
  with the epoch followed by an underscore (_) if there is an epoch, and with
  the empty string if there is no epoch,</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%V</b>
  with the version (without epoch) with colons (:) and tilde (~) replaced by
  dots (.),</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%U</b>
  with the upstream version (without epoch or Debian revision) with colons (:)
  and tilde (~) replaced with dots (.),</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%E</b>
  with the epoch followed by a dot if there is an epoch, and with the empty
  string if there is no epoch,</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>%%</b>
  with a single <b>%</b>.</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
If one of those is not set via the command line option, <b>git config</b> is
  asked about value of <b>dpm.debianTag</b>, <b>dpm.patchedTag</b> or
  <b>dpm.upstreamTag</b>. If that is also not set or the special value
  <b>AUTO</b>, then debian/.git-dpm is scanned for a line of the form
<br/>
 <b>debianTag=&quot;</b><i>value</i><b>&quot;</b>,
<br/>
 <b>patchedTag=&quot;</b><i>value</i><b>&quot;</b> or
<br/>
 <b>upstreamTag=&quot;</b><i>value</i><b>&quot;</b>.
<div style="height: 1.00em;">&#x00A0;</div>
(Note: always add those to the end of the file, the first eight lines have fixed
  line numbers)
<div style="height: 1.00em;">&#x00A0;</div>
If this still does not result in an pattern to use, the defaults are '
  <b>%p-debian%e-%v</b>', ' <b>%p-patched%e-%v</b>' and
  '<b>%p-upstream%e-%u</b>' with <b>--named</b> and ' <b>debian%e-%v</b>',
  '<b>patched%e-%v</b>' and ' <b>upstream%e-%u</b>' without.
<div style="height: 1.00em;">&#x00A0;</div>
If a tag name has the special value <b>NONE</b>, no tag is generated.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ref-tag [ <i>options</i> ] <i>commit</i> [
    <i>version</i> ]</b></dt>
  <dd class="It-tag">Like <b>tag</b>, but create tags for <i>commit</i>, i.e.
      <i>commit</i> will get the Debian tag and the other tags are placed where
      the <b>debian/.git-dpm</b> file of that commit points to.
    <div style="height: 1.00em;">&#x00A0;</div>
    So it is mostly equivalent to:
    <br/>
     <b>git checkout -b temp </b><i>commit</i>
    <br/>
     <b>git-dpm tag </b>[<b></b><i>options</i><b></b>]<b> </b>[<i>version</i>]
    <br/>
     <b>git checkout </b><i>previous-head</i>
    <br/>
     <b>git branch -D temp</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Options like <b>tag</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>apply-patch [ <i>options...</i> ] [ <i>filename</i>
    ]</b></dt>
  <dd class="It-tag">Switch to the patched branch (assuming it is up to date,
      use checkout-patched first to make sure or get an warning), and apply the
      patch given as argument or from stdin.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--author <i>author &lt;email&gt;</i></b></dt>
  <dd class="It-tag">Override the author to be recorded.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--defaultauthor <i>author &lt;email&gt;</i></b></dt>
  <dd class="It-tag">If no author could be determined from the commit, use this.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--date <i>date</i></b></dt>
  <dd class="It-tag">Date to record this patch originally be from if non found.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dpatch</b></dt>
  <dd class="It-tag">Parse patch as dpatch patch (Only works for dpatch patches
      actually being a patch, might silently fail for others).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cdbs</b></dt>
  <dd class="It-tag">Parse patch as cdbs simple-patchsys.mk patch (Only works
      for dpatch patches actually being a patch, might silently fail for
      others).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--edit</b></dt>
  <dd class="It-tag">Start an editor before doing the commit (In case you are
      too lazy to amend).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--record-name</b></dt>
  <dd class="It-tag">Add a <b>Patch-Name:</b> field to tell
      <b>update-patches</b> to export it with the same name again.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--name <i>name</i></b></dt>
  <dd class="It-tag">Add a <b>Patch-Name:</b> field to tell
      <b>update-patches</b> to use <i>name</i> as filename to store this patch
      into (relative to <b>debian/patches</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--category <i>name</i></b></dt>
  <dd class="It-tag">Add a <b>Patch-Category:</b> field to tell
      <b>update-patches</b> to always export this patch into a subdirectory
      <i>name</i> of <b>debian/patches</b>.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cherry-pick [ <i>options...</i> ] <i>commit</i></b></dt>
  <dd class="It-tag">Recreate the patched branch and cherry-pick the given
      commit. Then merge that back into the Debian branch and update the
      debian/patches directory (i.e. mostly equivalent to checkout-patched,
      git's cherry-pick, and update-patches).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--merge-only</b></dt>
  <dd class="It-tag">Only merge the patched branch back into the Debian branch
      but do not update the patches directory (You'll need to run update-patches
      later to get this done).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e | --edit</b></dt>
  <dd class="It-tag">Passed to git's cherry-pick: edit the commit message
      picked.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s | --signoff</b></dt>
  <dd class="It-tag">Passed to git's cherry-pick: add a Signed-off-by header
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">Passed to git's cherry-pick: add a line describing what was
      picked
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m <i>num</i> | --mainline <i>num</i></b></dt>
  <dd class="It-tag">Passed to git's cherry-pick: allow picking a merge by
      specifying the parent to look at.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--repick</b></dt>
  <dd class="It-tag">Don't abort if the specified commit is already contained.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-nonlinear</b>, <b>--ignore-deletions</b>,
    <b>--dot-git-files=</b></dt>
  <dd class="It-tag">Passed to update-patches, if called.
    <div style="height: 1.00em;">&#x00A0;</div>
    passed to merge-patched-into-debian and update-patches.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-branch</b></dt>
  <dd class="It-tag">do not remove the patched branch when it is no longer
      needed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--amend</b></dt>
  <dd class="It-tag">passed to merge-patched-into-debian: amend the last commit
      in the Debian branch.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import-dsc</b></dt>
  <dd class="It-tag">Import a Debian source package from a .dsc file. This can
      be used to create a new project or to import a source package into an
      existing project.
    <div style="height: 1.00em;">&#x00A0;</div>
    While a possible old state of a project is recorded as parent commit, the
      state of the old Debian branch is not taken into account. Especially all
      file deletions and .gitignore files and the like need to be
      reapplied/re-added afterwards. (Assumption is that new source package
      versions from outside might change stuff significantly, so old information
      might more likely be outdated. And reapplying it is easier then reverting
      such changes.)
    <div style="height: 1.00em;">&#x00A0;</div>
    First step is importing the <b>.orig.tar</b> file and possible
      <b>.orig-</b><i>component</i><b>.tar</b> files. You can either specify a
      branch to use. Otherwise <b>import-dsc</b> will look if the previous state
      of this project already has the needed file so the old upstream branch can
      be reused. If there is non, the file will be imported as a new commit, by
      default with a possible previous upstream branch as parent.
    <div style="height: 1.00em;">&#x00A0;</div>
    Then <b>import-dsc</b> will try to import the source package in the state as
      <b>dpkg-source -x</b> would create it. (That is applying the .diff and
      making <b>debian/rules</b> executable for 1.0 format packages and
      replacing the <b>debian</b> directory with the contents of a .debian.tar
      and applying possible <b>debian/patches/series</b> for 3.0 format
      packages). This is later referred to as verbatim import.
    <div style="height: 1.00em;">&#x00A0;</div>
    If it is a 1.0 source format package, <b>import-dsc</b> then looks for a set
      of supported patch systems and tries to apply those patches. Those are
      then merged with the verbatim state into the new Debian branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    Then a <b>debian/.git-dpm</b> file is created and a possible old state of
      the project added as parent.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that <b>dpkg-source</b> is not used to extract packages, but they are
      extracted manually. Especially <b>git-apply</b> is used instead of
      <b>patch</b>. While this generally works (and <b>git-dpm</b> has some
      magic to work around some of <b>git-apply</b>'s shortcomings), unclean
      patches might sometimes need a <b>-C0</b> option and then in same cases be
      applied at different positions than where <b>patch</b> would apply them.
    <div style="height: 1.00em;">&#x00A0;</div>
    General options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b | --branch <i>branch-name</i></b></dt>
  <dd class="It-tag">Don't look at the current HEAD, but import the package into
      the git-dpm project <i>branchname</i> or create a new project (if that
      branch does not yet exist).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbatim <i>branch-name</i></b></dt>
  <dd class="It-tag">After <b>import-dsc</b> has completed successfully,
      <i>branch-name</i> will contain the verbatim import of the .dsc file. If a
      branch of that name already exists, the new verbatim commit will also have
      the old as parent. (This also causes the verbatim commit not being amended
      with other changes, which can result in more commits).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-changelog</b></dt>
  <dd class="It-tag">Parse debian/changelog of the imported package. Use the
      description as commit messages and the author and time as default for
      patches and import commits without that information. (Warning: may still
      contain some rough edges).</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">Options about creating the upstream branch:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-to-use <i>commit</i></b></dt>
  <dd class="It-tag">Do not import the .orig.tar nor try to reuse an old import,
      but always use the <i>commit</i> specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    It is your responsibility that this branch is similar enough to the
      .orig.tar file plus possible .orig-component.tar in their respective
      directories. (As usual, similar enough means: Does not miss any files that
      your patches touch or your build process requires (or recreates unless
      <b>debian/rules clean</b> removes them again). Every file different than
      in .orig.tar or not existing there you must delete in the resulting Debian
      branch. No patch may touch those files.)
    <div style="height: 1.00em;">&#x00A0;</div>
    Use with care. Nothing will warn you even if you use the contents of a
      totally wrong upstream version.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--detached-upstream</b></dt>
  <dd class="It-tag">If importing a .orig.tar as new commit, do not make an
      possible commit for an old upstream version parent.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-parent <i>commit</i></b></dt>
  <dd class="It-tag">Add <i>commit</i> as (additional) parent if importing a new
      upstream version.
    <div style="height: 1.00em;">&#x00A0;</div>
    (This can for example be used to make upstream's git history part of your
      package's history and thus help git when cherry-picking stuff).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-no-parent</b></dt>
  <dd class="It-tag">If dpm.importWithoutParent is set to false via git config,
      git-dpm will not allow import-dsc to be run without this option or at
      least on --upstream-parent option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pristine-tar-commit |--ptc</b></dt>
  <dd class="It-tag">Call <b>pristine-tar commit</b> for all tarballs imported
      after the rest of the import-dsc command was successful.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-pristine-tar-commit</b></dt>
  <dd class="It-tag">Do not call <b>pristine-tar commit</b> for all imported
      tarballs even if configured to do so by
    <br/>
     <b>git config dpm.pristineTarCommit true</b> or by
    <br/>
     <b>git config branch.</b>debianbranch<b>.dpmPristineTarCommit true</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-author <i>author</i></b></dt>
  <dd class="It-tag">Used as the <b>--author</b> argument to <b>git-dpm
      import-tar</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upstream-date <i>date</i></b></dt>
  <dd class="It-tag">Used as the <b>--date</b> argument to <b>git-dpm
      import-tar</b> (especially <b>auto</b> is supported to extract a date from
      the tar file).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tar-exclude <i>pattern</i></b></dt>
  <dd class="It-tag">The given pattern is passed to tar as exclude pattern when
      unpacking tarfiles. Can be given multiple times.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">Options about applying patches:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f | --force-commit-reuse</b></dt>
  <dd class="It-tag">Only look at parent and tree and no longer at the
      description when trying to reuse commits importing patches from previous
      package versions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C<i>num</i> | --patch-context <i>num</i></b></dt>
  <dd class="It-tag">Passed as <b>-C</b><i>num</i> to <b>git-apply</b>.
      Specifies the number of context lines that must match.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dpatch-allow-empty</b></dt>
  <dd class="It-tag">Do not error out if a dpatch file does not change anything
      when treated as patch.
    <div style="height: 1.00em;">&#x00A0;</div>
    As dpatch files can be arbitrary scripts, <b>git-dpm</b> has some problems
      detecting if they are really patches. (It can only cope with patches). If
      a script that is not a patch is treated as patch that usually results in
      patch not modify anything, thus those are forbidden without this option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patch-system <i>mode</i></b></dt>
  <dd class="It-tag">Specify what patch system is used for source format 1.0
      packages.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>auto (this is the default)</b></dt>
  <dd class="It-tag">Try to determine what patch system is used by looking at
      <b>debian/rules</b> (and <b>debian/control</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>none</b></dt>
  <dd class="It-tag">Those are not the patches you are looking for.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>history</b></dt>
  <dd class="It-tag">Don't try to find any patches in the .diff (like
      <b>none</b>). If if the project already exists and the upstream tarball is
      the same, create the patched state of the new one by using the patches of
      the old one and adding a patch of top bringing it to the new state.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you import multiple revisions of some package, where each new revision
      added at most a single change to upstream, this option allows you to
      almost automatically create a proper set of patches (ideally only missing
      descriptions).
    <div style="height: 1.00em;">&#x00A0;</div>
    If there are same changes and reverts those will be visible in the patches
      created, so this mode is not very useful in that case.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quilt</b></dt>
  <dd class="It-tag">Extract and apply a <b>debian/patches/series</b> quilt like
      series on top of possible upstream changes found in the .diff file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quilt-first</b></dt>
  <dd class="It-tag">As the <b>quilt</b> mode, but apply the patches to an
      unmodified upstream first and then cherry-pick the changes found in the
      .diff file.
    <div style="height: 1.00em;">&#x00A0;</div>
    As this is not the order in which patches are applied in a normal
      unpack/build cycle, this will fail if those changes are not distinct
      enough (for example when patches depend on changes done in the .diff).
    <div style="height: 1.00em;">&#x00A0;</div>
    But if the .diff only contains unrelated changes which varies with each
      version, this gives a much nicer history, as the commits for the patches
      can more easily be reused.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quilt-applied</b></dt>
  <dd class="It-tag">As the <b>quilt-first</b> mode, but assume the patches are
      already applied in the .diff, so apply them on top of an unmodified
      upstream and then add a commit bringing it to the state in the .diff. (Or
      not if that patch would be empty).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dpatch | dpatch-first | dpatch-applied</b></dt>
  <dd class="It-tag">Like the <b>quilt</b> resp. <b>quilt-first</b> resp.
      <b>quilt-applied</b> modes, but instead look for dpatch-style patches in
      <b>debian/patches/00list</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that only patches are supported and not dpatch running other commands.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>simple | simple-first | simple-applied</b></dt>
  <dd class="It-tag">Like the <b>quilt</b> resp. <b>quilt-first</b> resp.
      <b>quilt-applied</b> modes, but instead assume <b>debian/patches/</b>
      contains patches suitable for cdbs's <b>simple-patchsys.mk</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patch-author &quot;<i>name
    </i>&lt;<i>email</i>&gt;&quot;</b></dt>
  <dd class="It-tag">Set the author for all git commits importing patches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patch-default-author &quot;<i>name
    </i>&lt;<i>email</i>&gt;&quot;</b></dt>
  <dd class="It-tag">Set an author for all patches not containing author
      information (or where <b>git-dpm</b> cannot determine it).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--edit-patches</b></dt>
  <dd class="It-tag">For every patch imported, start an editor for the commit
      message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--record-patch-category</b></dt>
  <dd class="It-tag">Add a <b>Patch-Category:</b> field to each imported patch
      that is in a subdirectory of <b>debian/patches</b>. This causes
      <b>update-patches</b> to store it in the same subdirectory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--record-patch-name</b></dt>
  <dd class="It-tag">Add a <b>Patch-Name:</b> field to each imported patch with
      its name. This causes <b>update-patches</b> to store it under its original
      name.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>record-dsc [<i>options</i>] <i>commit</i>
    <i>.dsc-file</i></b></dt>
  <dd class="It-tag">Store a pristine .dsc file in a <b>dscs</b> branch after
      storing the files it contains using pristine-tar.
    <div style="height: 1.00em;">&#x00A0;</div>
    The first argument is an tag or commit storing the <b>git-dpm</b> project in
      the state belonging to the <b>.dsc</b> file and the second argument is the
      <b>.dsc</b> file itself. The files it references are expected in the same
      directory as the file itself (if they are needed).
    <div style="height: 1.00em;">&#x00A0;</div>
    Some checks are done to make sure the file and its contents are named
      properly and match the commit in question, but only cursory to avoid
      obvious mistakes (for example only the version is checked, but .debian.tar
      is not unpacked to check the files are really the same, for example).
    <div style="height: 1.00em;">&#x00A0;</div>
    Options:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--create-branch</b></dt>
  <dd class="It-tag">Create a new <b>dscs</b> branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-unsigned</b></dt>
  <dd class="It-tag">Allow recording a unsigned <b>.dsc</b> file. This usually
      defeats the point of storing them at all.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="the_debian/.git-dpm_file"><a class="selflink" href="#the_debian/.git-dpm_file">the
  debian/.git-dpm file</a></h1>
You should not need to know about the contents if this file except for debugging
  git-dpm.
<div style="height: 1.00em;">&#x00A0;</div>
The file contains 8 lines, but future version may contain more.
<div style="height: 1.00em;">&#x00A0;</div>
The first line is hint what this file is about and ignored.
<div style="height: 1.00em;">&#x00A0;</div>
Then there are 4 git commit ids for the recorded states:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">First the state of the patched branch when the
  patches in <b>debian/patches</b> were last updated.
<div style="height: 1.00em;">&#x00A0;</div>
Then the state of the patched branch when it was last merged into the Debian
  branch.
<div style="height: 1.00em;">&#x00A0;</div>
Then the state upstream branch when the patched branch was last merged.
<div style="height: 1.00em;">&#x00A0;</div>
Finally the upstream branch.</div>
<div style="height: 1.00em;">&#x00A0;</div>
The following 3 lines are the filename, the sha1 checksum and the size of the
  origtarball belonging to the recorded upstream branch.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SHORTCUTS"><a class="selflink" href="#SHORTCUTS">SHORTCUTS</a></h1>
Most commands also have shorter aliases, to avoid typing:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 update-patches:	up, u-p, ci
<br/>
 prepare:	prep
<br/>
 checkout-patched:	co, c-p
<br/>
 rebase-patched:	r-p
<br/>
 apply-patch:	a-p
<br/>
 import-tar:	i-t
<br/>
 import-new-upstream:	i-n-u, inu
<br/>
 record-new-upstream:	r-n-u, rnu
<br/>
 merge-patched-in-debian: merge-patched
<div style="height: 1.00em;">&#x00A0;</div>
record-new-upstream is also available under the old name new-upstream, though
  likely will be removed in future versions (to avoid confusion).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BRANCHES"><a class="selflink" href="#BRANCHES">BRANCHES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">the upstream branch
    (<b>upstream</b>|<b>upstream-</b><i>whatever</i>)</dt>
  <dd class="It-tag">This branch contains the upstream sources. It contents need
      to be equal enough to the contents in your upstream tarball.
    <div style="height: 1.00em;">&#x00A0;</div>
    Equal enough means that dpkg-source should see no difference between your
      patched tree and and original tarball unpackaged, the patched applied and
      <b>debian/rules clean</b> run. Usually it is easiest to just store the
      verbatim contents of your orig tarball here. Then you can also use it for
      pristine tar.
    <div style="height: 1.00em;">&#x00A0;</div>
    This branch may contain a debian/ subdirectory, which will usually be just
      ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can either publish that branch or make it only implicitly visible via
      the <b>debian/.git-dpm</b> file in the Debian branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    While it usually makes sense that newer upstream branches contain older
      ones, this is not needed. You should be able to switch from one created
      yourself or by some foreign-vcs importing tool generated one to an native
      upstream branch or vice versa without problems. Note that since the Debian
      branch has the patched branch as ancestor and the patched branch the
      upstream branch, your upstream branches are part of the history of your
      Debian branch. Which has the advantage that you can recreate the exact
      state of your branches from your history directly (like <b>git checkout -b
      oldstate </b> <i>myoldtagorshaofdebianbranchcommit</i><b> ; git-dpm
      prepare ; git checkout unstable-oldstate</b>) but the disadvantage that to
      remove those histories from your repository you have to do some manual
      work.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">the patched branch
    (<b>patched</b>|<b>patched-</b><i>whatever</i>)</dt>
  <dd class="It-tag">This branch contains your patches to the upstream source.
      (which of course means it is based on your upstream branch).
    <div style="height: 1.00em;">&#x00A0;</div>
    Every commit will be stored as a single patch in the resulting package.
    <div style="height: 1.00em;">&#x00A0;</div>
    To help git generate a linear patch series, this should ideal be a linear
      chain of commits, whose description are helpful for other people.
    <div style="height: 1.00em;">&#x00A0;</div>
    As this branch is regularly rebase d, you should not publish it. Instead you
      can recreate this branch using <b>git-dpm checkout-patched</b> using the
      information stored in <b>debian/.git-dpm</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    You are not allowed to change the contents of the <b>debian/</b>
      subdirectory in this branch. Renaming files or deleting files usually
      causes unnecessary large patches.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">the Debian branch (<b>master</b>|<i>whatever</i>)</dt>
  <dd class="It-tag">This is the primary branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    This branch contains the <b>debian/</b> directory and has the patched branch
      merged in.
    <div style="height: 1.00em;">&#x00A0;</div>
    Every change not in <b>debian/</b>, <b>.git</b><i>*</i> or deleting files
      must be done in the patched branch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">alternative branch names</dt>
  <dd class="It-tag">You can specify alternate branch names for upstream and
      patched branches of a specific Debian branch, or force a branch to be a
      Debian branch that would normally be considered e.g. upstream branch of
      another branch by adding <b>dpmUpstreamBranch</b> and
      <b>dpmPatchedBranch</b> configure items for the Debian branch in question
      (you need both, only one is treated as error).
    <div style="height: 1.00em;">&#x00A0;</div>
    The following example is a no-op for all practical purposes:
    <br/>
     <b>git config branch.master.dpmUpstreamBranch upstream</b>
    <br/>
     <b>git config branch.master.dpmPatchedBranch patched</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2009,2010 Bernhard R. Link
<div>&#x00A0;</div>
This is free software; see the source for copying conditions. There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS_AND_ISSUES"><a class="selflink" href="#REPORTING_BUGS_AND_ISSUES">REPORTING
  BUGS AND ISSUES</a></h1>
You can report bugs or feature suggestions to
  git-dpm-devel@lists.alioth.debian.org or to me. Please send questions to
  git-dpm-user@lists.alioth.debian.org or to me at brlink@debian.org.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-05-15</td>
    <td class="foot-os">git-dpm</td>
  </tr>
</table>
</body>
</html>
