<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TOR-GENCERT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TOR-GENCERT(1)</td>
    <td class="head-vol">Tor Manual</td>
    <td class="head-rtitle">TOR-GENCERT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
tor-gencert - Generate certs and keys for Tor directory authorities
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>tor-gencert</b> [-h|--help] [-v] [-r|--reuse] [--create-identity-key] [-i
  <i>id_file</i>] [-c <i>cert_file</i>] [-m <i>num</i>] [-a
  <i>address</i>:<i>port</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>tor-gencert</b> generates certificates and private keys for use by Tor
  directory authorities running the v3 Tor directory protocol, as used by Tor
  0.2.0 and later. If you are not running a directory authority, you
  don&#x2019;t need to use tor-gencert.
<div style="height: 1.00em;">&#x00A0;</div>
Every directory authority has a long term authority <i>identity</i> <i>key</i>
  (which is distinct from the identity key it uses as a Tor server); this key
  should be kept offline in a secure location. It is used to certify
  shorter-lived <i>signing</i> <i>keys</i>, which are kept online and used by
  the directory authority to sign votes and consensus documents.
<div style="height: 1.00em;">&#x00A0;</div>
After you use this program to generate a signing key and a certificate, copy
  those files to the keys subdirectory of your Tor process, and send Tor a
  SIGHUP signal. DO NOT COPY THE IDENTITY KEY.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-v</b>
<div style="margin-left: 4.00ex;">Display verbose output.</div>
<div class="Pp"></div>
<b>-h</b> or <b>--help</b>
<div style="margin-left: 4.00ex;">Display help text and exit.</div>
<div class="Pp"></div>
<b>-r</b> or <b>--reuse</b>
<div style="margin-left: 4.00ex;">Generate a new certificate, but not a new
  signing key. This can be used to change the address or lifetime associated
  with a given key.</div>
<div class="Pp"></div>
<b>--create-identity-key</b>
<div style="margin-left: 4.00ex;">Generate a new identity key. You should only
  use this option the first time you run tor-gencert; in the future, you should
  use the identity key that&#x2019;s already there.</div>
<div class="Pp"></div>
<b>-i</b> <i>FILENAME</i>
<div style="margin-left: 4.00ex;">Read the identity key from the specified file.
  If the file is not present and --create-identity-key is provided, create the
  identity key in the specified file. Default:
  &quot;./authority_identity_key&quot;</div>
<div class="Pp"></div>
<b>-s</b> <i>FILENAME</i>
<div style="margin-left: 4.00ex;">Write the signing key to the specified file.
  Default: &quot;./authority_signing_key&quot;</div>
<div class="Pp"></div>
<b>-c</b> <i>FILENAME</i>
<div style="margin-left: 4.00ex;">Write the certificate to the specified file.
  Default: &quot;./authority_certificate&quot;</div>
<div class="Pp"></div>
<b>-m</b> <i>NUM</i>
<div style="margin-left: 4.00ex;">Number of months that the certificate should
  be valid. Default: 12.</div>
<div class="Pp"></div>
<b>--passphrase-fd</b> <i>FILEDES</i>
<div style="margin-left: 4.00ex;">Filedescriptor to read the passphrase from.
  Ends at the first NUL or newline. Default: read from the terminal.</div>
<div class="Pp"></div>
<b>-a</b> <i>address</i>:<i>port</i>
<div style="margin-left: 4.00ex;">If provided, advertise the address:port
  combination as this authority&#x2019;s preferred directory port in its
  certificate. If the address is a hostname, the hostname is resolved to an IP
  before it&#x2019;s published.</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
This probably doesn&#x2019;t run on Windows. That&#x2019;s not a big issue,
  since we don&#x2019;t really want authorities to be running on Windows anyway.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>tor</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
See also the &quot;dir-spec.txt&quot; file, distributed with Tor.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<div style="margin-left: 4.00ex;">
<pre>
Roger Dingledine &lt;arma@mit.edu&gt;, Nick Mathewson &lt;nickm@alum.mit.edu&gt;.
</pre>
</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>Nick Mathewson</b>
<div style="margin-left: 4.00ex;">Author.</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">10/20/2016</td>
    <td class="foot-os">Tor</td>
  </tr>
</table>
</body>
</html>
