<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VARNISHLOG(1) VARNISHLOG(1)</p>

<p style="margin-top: 1em">NAME <br>
varnishlog - Display Varnish logs</p>

<p style="margin-top: 1em">SYNOPSIS <br>
varnishlog [-a] [-A] [-b] [-c] [-C] [-d] [-D] [-g
&lt;session|request|vxid|raw&gt;] [-h] [-i &lt;taglist&gt;]
[-I &lt;[taglist:]regex&gt;] [-k &lt;num&gt;] [-L
&lt;limit&gt;] [-n &lt;dir&gt;] [-N &lt;filename&gt;] [-P
<br>
&lt;file&gt;] [-q &lt;query&gt;] [-r &lt;filename&gt;] [-t
&lt;seconds|off&gt;] [-T &lt;seconds&gt;] [-v] [-V] [-w
&lt;filename&gt;] [-x &lt;taglist&gt;] [-X
&lt;[taglist:]regex&gt;]</p>

<p style="margin-top: 1em">OPTIONS <br>
The following options are available:</p>

<p style="margin-top: 1em">-a When writing output to a file
with the -w option, append to it rather than overwrite
it.</p>

<p style="margin-top: 1em">-A When writing output to a file
with the -w option, output data in ascii format.</p>

<p style="margin-top: 1em">-b Only display transactions and
log records coming from backend communication.</p>

<p style="margin-top: 1em">-c Only display transactions and
log records coming from client communication.</p>

<p style="margin-top: 1em">-C Do all regular expression and
string matching caseless.</p>

<p style="margin-top: 1em">-d Process log records at the
head of the log and exit.</p>

<p style="margin-top: 1em">-D Daemonize.</p>

<p style="margin-top: 1em">-g
&lt;session|request|vxid|raw&gt; <br>
The grouping of the log records. The default is to group by
vxid.</p>

<p style="margin-top: 1em">-h Print program usage and
exit</p>

<p style="margin-top: 1em">-i &lt;taglist&gt; <br>
Include log records of these tags in output. Taglist is a
comma-separated list of tag globs. Multiple -i options may
be given.</p>

<p style="margin-top: 1em">If a tag include option is the
first of any tag selection options, all tags are first
marked excluded.</p>

<p style="margin-top: 1em">-I &lt;[taglist:]regex&gt; <br>
Include by regex matching. Output only records matching
taglist and regular expression. Applies to any tag if
taglist is absent.</p>

<p style="margin-top: 1em">If a tag include option is the
first of any tag selection options, all tags are first
marked excluded.</p>

<p style="margin-top: 1em">-k &lt;num&gt; <br>
Process this number of matching log transactions before
exiting.</p>

<p style="margin-top: 1em">-L &lt;limit&gt; <br>
Sets the upper limit of incomplete transactions kept before
the oldest transaction is force completed. A warning record
is synthesized when this happens. This setting <br>
keeps an upper bound on the memory usage of running queries.
Defaults to 1000 transactions.</p>

<p style="margin-top: 1em">-n &lt;dir&gt; <br>
Specify the varnishd working directory (also known as
instance name) to get logs from. If -n is not specified, the
host name is used.</p>

<p style="margin-top: 1em">-N &lt;filename&gt; <br>
Specify the filename of a stale VSM instance. When using
this option the abandonment checking is disabled.</p>

<p style="margin-top: 1em">-P &lt;file&gt; <br>
Write the process&rsquo; PID to the specified file.</p>

<p style="margin-top: 1em">-q &lt;query&gt; <br>
Specifies the VSL query to use.</p>

<p style="margin-top: 1em">-r &lt;filename&gt; <br>
Read log in binary file format from this file. The file can
be created with varnishlog -w filename.</p>

<p style="margin-top: 1em">-t &lt;seconds|off&gt; <br>
Timeout before returning error on initial VSM connection. If
set the VSM connection is retried every 0.5 seconds for this
many seconds. If zero the connection is attempted <br>
only once and will fail immediately if unsuccessful. If set
to &quot;off&quot;, the connection will not fail, allowing
the utility to start and wait indefinetely for the Varnish
<br>
instance to appear. Defaults to 5 seconds.</p>

<p style="margin-top: 1em">-T &lt;seconds&gt; <br>
Sets the transaction timeout in seconds. This defines the
maximum number of seconds elapsed between a Begin tag and
the End tag. If the timeout expires, a warning record <br>
is synthesized and the transaction is force completed.
Defaults to 120 seconds.</p>

<p style="margin-top: 1em">-v Use verbose output on record
set printing, giving the VXID on every log line. Without
this option, the VXID will only be given on the header of
that transaction.</p>

<p style="margin-top: 1em">-V Print version information and
exit.</p>

<p style="margin-top: 1em">-w &lt;filename&gt; <br>
Redirect output to file. The file will be overwritten unless
the -a option was specified. If the application receives a
SIGHUP in daemon mode the file will be reopened <br>
allowing the old one to be rotated away. The file can then
be read by varnishlog and other tools with the -r option,
unless the -A option was specified. This option is <br>
required when running in daemon mode.</p>

<p style="margin-top: 1em">-x &lt;taglist&gt; <br>
Exclude log records of these tags in output. Taglist is a
comma-separated list of tag globs. Multiple -x options may
be given.</p>

<p style="margin-top: 1em">-X &lt;[taglist:]regex&gt; <br>
Exclude by regex matching. Do not output records matching
taglist and regular expression. Applies to any tag if
taglist is absent.</p>

<p style="margin-top: 1em">SIGNALS <br>
&Acirc;&middot; SIGHUP</p>

<p style="margin-top: 1em">Rotate the log file (see -w
option)</p>

<p style="margin-top: 1em">&Acirc;&middot; SIGUSR1</p>

<p style="margin-top: 1em">Flush any outstanding
transactions</p>

<p style="margin-top: 1em">SEE ALSO <br>
&Acirc;&middot; varnishd(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishhist(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishncsa(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishstat(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishtop(1)</p>

<p style="margin-top: 1em">&Acirc;&middot; vsl(7)</p>

<p style="margin-top: 1em">&Acirc;&middot; vsl-query(7)</p>

<p style="margin-top: 1em">HISTORY <br>
The varnishlog utility was developed by Poul-Henning Kamp
&lt;phk@phk.freebsd.dk&gt; in cooperation with Verdens Gang
AS and Varnish Software AS. This manual page was initially
written <br>
by Dag-Erling Sm&Atilde;&cedil;rgrav, and later updated by
Per Buer and Martin Blix Grydeland.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
This document is licensed under the same licence as Varnish
itself. See LICENCE for details.</p>

<p style="margin-top: 1em">&Acirc;&middot; Copyright (c)
2006 Verdens Gang AS</p>

<p style="margin-top: 1em">&Acirc;&middot; Copyright (c)
2006-2015 Varnish Software AS</p>
 
<p style="margin-top: 1em">VARNISHLOG(1)</p>
<hr>
</body>
</html>
