<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CAMLP5(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CAMLP5(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">CAMLP5(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
camlp5 - Pre-Precessor-Pretty-Printer for ocaml
<div>&#x00A0;</div>
mkcamlp5 - Create custom camlp5
<div>&#x00A0;</div>
mkcamlp5.opt - Create custom camlp5 (native code)
<div>&#x00A0;</div>
ocpp5 - Universal preprocessor
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>camlp5</b> [ load-options ] [--] [ other-options ]
<div>&#x00A0;</div>
<b>camlp5o</b> [ load-options ] [--] [ other-options ]
<div>&#x00A0;</div>
<b>camlp5r</b> [ load-options ] [--] [ other-options ]
<div>&#x00A0;</div>
<b>camlp5sch</b> [ load-options ] [--] [ other-options ]
<div>&#x00A0;</div>
<b>camlp5o.cma</b>
<div>&#x00A0;</div>
<b>camlp5r.cma</b>
<div>&#x00A0;</div>
<b>camlp5sch.cma</b>
<div>&#x00A0;</div>
<b>mkcamlp5</b>
<div>&#x00A0;</div>
<b>mkcamlp5.opt</b>
<div>&#x00A0;</div>
<b>ocpp5</b> [ load-options ] file
<div class="Pp"></div>
<b>camlp5o.opt</b> [--] [ other-options ]
<div>&#x00A0;</div>
<b>camlp5r.opt</b> [--] [ other-options ]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>camlp5</b> is a Pre-Processor-Pretty-Printer for OCaml, parsing a source file
  and printing some result on standard output.
<div class="Pp"></div>
<b>camlp5o,</b> <b>camlp5r</b> and <b>camlp5sch</b> are versions of
  <b>camlp5</b> with some files already loaded (see further).
<div class="Pp"></div>
<b>camlp5o.cma,</b> <b>camlp5r.cma</b> and <b>camlp5sch.cma</b> are files to be
  loaded in ocaml toplevel to use the camlp5 machinery
<div class="Pp"></div>
<b>mkcamlp5</b> and <b>mkcamlp5.opt</b> creates camlp5 executables with almost
  the same options than ocamlmktop. See further.
<div class="Pp"></div>
<b>ocpp5</b> is an universal preprocessor, treating any kind of source file,
  generating the same text with the possible quotations expanded.
<div class="Pp"></div>
<b>camlp5o.opt</b> and <b>camlp5r.opt</b> are versions of camlp5o and camlp5r
  compiled by the native-code compiler ocamlopt. They are faster but not
  extensible. And they are not available in all installations of camlp5.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LOAD_OPTIONS"><a class="selflink" href="#LOAD_OPTIONS">LOAD
  OPTIONS</a></h1>
The load options select parsing and printing actions recorded in OCaml object
  files (ending with .cmo or .cma). Several usage of these options are
  authorized. They must precede the other options.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
An optional <b>--</b> may end the load options.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I&#x00A0;</b><i>directory</i></dt>
  <dd class="It-tag">Add <i>directory</i> in the search path for files loaded.
      Unless the option -nolib is used, the camlp5 library directory is appended
      to the path. Warning: there is no automatic search in the current
      directory: add &quot;-I .&quot; for this.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-where</b></dt>
  <dd class="It-tag">Print camlp5 library directory name and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nolib</b></dt>
  <dd class="It-tag">No automatic search for objects files in camlp5 library
      directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>object-file</b></dt>
  <dd class="It-tag">The file is loaded in camlp5 core.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OTHER_OPTIONS"><a class="selflink" href="#OTHER_OPTIONS">OTHER
  OPTIONS</a></h1>
The others options are:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>file</i></dt>
  <dd class="It-tag">Treat <i>file</i> as an interface file if it ends with .mli
      and as an implementation file if it ends with .ml.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-intf&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">Treat <i>file</i> as an interface file, whatever its
      extension.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-impl&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">Treat <i>file</i> as an implementation file, whatever its
      extension.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-unsafe</b></dt>
  <dd class="It-tag">Generate unsafe accesses to arrays and strings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noassert</b></dt>
  <dd class="It-tag">Do not compile assertion checks.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-verbose</b></dt>
  <dd class="It-tag">More verbose in parsing errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-QD&#x00A0;</b><i>file</i></dt>
  <dd class="It-tag">Dump in <i>file</i> in case of syntax error in the result
      of a quotation expansion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o&#x00A0;</b><i>out-file</i></dt>
  <dd class="It-tag">Print the result on out-file instead of standard output.
      File is opened with open_out_bin (see OCaml library Pervasives).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Print the version number and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Print the available options and exit. This print includes
      the options possibly added by the loaded object files.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The others options can be extended by loaded object files. The provided files
  add the following options:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l&#x00A0;</b><i>line-length</i></dt>
  <dd class="It-tag">Added by pr_o.cmo and pr_r.cmo: set the line length
      (default 78).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sep&#x00A0;</b><i>string</i></dt>
  <dd class="It-tag">Added by pr_o.cmo and pr_r.cmo: print this string between
      phrases instead of comments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-no_ss</b></dt>
  <dd class="It-tag">Added by pr_o.cmo: do not print double semicolons</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D&#x00A0;</b><i>ident</i></dt>
  <dd class="It-tag">Added by pa_macro.cmo: define the ident.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U&#x00A0;</b><i>ident</i></dt>
  <dd class="It-tag">Added by pa_macro.cmo: undefine the ident.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="PROVIDED_FILES"><a class="selflink" href="#PROVIDED_FILES">PROVIDED
  FILES</a></h1>
These files are installed in the directory /usr/lib/ocaml/camlp5.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Parsing files:
<pre>
	pa_r.cmo: revised syntax
	pa_rp.cmo: streams and parsers
	pa_lexer.cmo: lexers
	pa_o.cmo: normal syntax
	pa_op.cmo: streams and parsers
	pa_oop.cmo: streams and parsers (without code optimization)
	pa_scheme.cmo: scheme syntax
	pa_extend.cmo: syntax extension for grammars
	pa_extfold.cmo: extension of pa_extend with FOLD0 and FOLD1
	pa_extfun.cmo: syntax extension for extensible functions
	pa_extprint.cmo: syntax extensions for extensible printers
	pa_pprintf.cmo: syntax extension for pprintf statement
	pa_fstream.cmo: syntax extension for functional streams
	pa_macro.cmo: add macros (ifdef, define) like in C
	pa_lefteval.cmo: left-to-right evaluation of parameters
	pa_pragma.cmo: directive #pragma
</pre>
<div class="Pp"></div>
Printing files:
<pre>
	pr_r.cmo: revised syntax without objects and labels
	pr_ro.cmo: revised syntax for objects and labels
	pr_rp.cmo: try to rebuild streams and parsers syntax
	pr_o.cmo: normal syntax
	pr_op.cmo: try to rebuild streams and parsers syntax
	pr_scheme.cmo: Scheme syntax
	pr_schemep.cmo: try to rebuild streams and parsers syntax
	pr_extend.cmo: try to rebuild EXTEND statements
	pr_extfun.cmo: try to rebuild extfun statements
	pr_extprint.cmo: try to rebuild EXTEND_PRINTER statements
	pr_dump.cmo: dump syntax tree for ocaml compiler
	pr_depend.cmo: file dependencies
	pr_null.cmo: no output
</pre>
<div class="Pp"></div>
Quotation expanders:
<pre>
	q_MLast.cmo: syntax tree nodes (in revised syntax)
	q_ast.cmo: syntax tree nodes in user full syntax
	q_phony.cmo: keeping quotations for pretty printing
</pre>
<div class="Pp"></div>
The command <b>camlp5o</b> is a shortcut for:
<pre>
	camlp5 pa_o.cmo pa_op.cmo pr_dump.cmo
</pre>
<div class="Pp"></div>
The command <b>camlp5r</b> is a shortcut for:
<pre>
	camlp5 pa_r.cmo pa_rp.cmo pr_dump.cmo
</pre>
<div class="Pp"></div>
The command <b>camlp5sch</b> is a shortcut for:
<pre>
	camlp5 pa_scheme.cmo pr_dump.cmo
</pre>
<div class="Pp"></div>
The file <b>camlp5o.cma</b> can be loaded in the toplevel to start camlp5 with
  OCaml syntax.
<div class="Pp"></div>
The file <b>camlp5r.cma</b> can be loaded in the toplevel to start camlp5 with
  revised syntax.
<div class="Pp"></div>
The file <b>camlp5sch.cma</b> can be loaded in the toplevel to start camlp5 with
  Scheme syntax.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="MKCAMLP5"><a class="selflink" href="#MKCAMLP5">MKCAMLP5</a></h1>
<b>mkcamlp5</b> and <b>mkcamlp5.opt</b> creates camlp5 executables with almost
  the same options than ocamlmktop. The version <b>mkcamlp5.opt</b> can create
  native code executables, faster but not extensible.
<div class="Pp"></div>
For mkcamlp5, the interfaces to be visible must be explicitly added in the
  command line as &quot;.cmi&quot; files. For example, how to add the the OCaml
  module &quot;str&quot;:
<pre>
	mkcamlp5 -custom str.cmi str.cma -cclib -lstr -o camlp5str
</pre>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLE"><a class="selflink" href="#ENVIRONMENT_VARIABLE">ENVIRONMENT
  VARIABLE</a></h1>
The following environment variable is also consulted:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>CAMLP5PARAM</b></dt>
  <dd class="It-tag">Set the grammars parsing algorithm parameters. This
      variable must be a sequence of parameter specifications. A parameter
      specification is a letter optionally followed by an = and a value. There
      are four possible parameters:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>b</b>&#x00A0;(backtrack)</dt>
  <dd class="It-tag">Set the backtrack algorithm as default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>t</b>&#x00A0;(trace)</dt>
  <dd class="It-tag">Trace symbols (terminals and non-terminals) while parsing
      with backtracking.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>y</b>&#x00A0;(trace-stalling)</dt>
  <dd class="It-tag">In backtracking, trace the advance in the input stream
      (number of unfrozen tokens) and the possible stalling (number of tokens
      tests).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>l</b>&#x00A0;(maximum-stalling)</dt>
  <dd class="It-tag">Set the maximum stalling value.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
Library directory of camlp5 in the present installation:
<div>&#x00A0;</div>
/usr/lib/ocaml/camlp5
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Camlp5 - Reference Manual
<div>&#x00A0;</div>
ocamlc(1), ocaml(1), ocamlmktop(1).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Daniel de Rauglaudre, INRIA Rocquencourt.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">INRIA</td>
  </tr>
</table>
</body>
</html>
