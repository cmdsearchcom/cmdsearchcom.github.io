<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:44:45 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>YUBICO-PIV-TOOL(1) User Commands YUBICO-PIV-TOOL(1)</p>

<p style="margin-top: 1em">NAME <br>
yubico-piv-tool - Yubico PIV tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
yubico-piv-tool [OPTIONS]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
yubico-piv-tool 1.4.3</p>

<p style="margin-top: 1em">-h, --help <br>
Print help and exit</p>

<p style="margin-top: 1em">--full-help <br>
Print help, including hidden options, and exit</p>

<p style="margin-top: 1em">-V, --version <br>
Print version and exit</p>

<p style="margin-top: 1em">-v, --verbose[=INT] <br>
Print more information (default=&lsquo;0&rsquo;)</p>

<p style="margin-top: 1em">-r, --reader=STRING <br>
Only use a matching reader
(default=&lsquo;Yubikey&rsquo;)</p>

<p style="margin-top: 1em">-k, --key[=STRING] <br>
Management key to use
(default=&lsquo;010203040506070801020304050607080102030405060708&rsquo;)</p>

<p style="margin-top: 1em">-a, --action=ENUM <br>
Action to take (possible values=&quot;version&quot;,
&quot;generate&quot;, &quot;set-mgm-key&quot;,
&quot;reset&quot;, &quot;pin-retries&quot;,
&quot;import-key&quot;, &quot;import-certificate&quot;,
&quot;set-chuid&quot;, &quot;request-certificate&quot;, <br>
&quot;verify-pin&quot;, &quot;change-pin&quot;,
&quot;change-puk&quot;, &quot;unblock-pin&quot;,
&quot;selfsign-certificate&quot;,
&quot;delete-certificate&quot;,
&quot;read-certificate&quot;, &quot;status&quot;,
&quot;test-signature&quot;, &quot;test-decipher&quot;, <br>
&quot;list-readers&quot;, &quot;set-ccc&quot;,
&quot;write-object&quot;, &quot;read-object&quot;,
&quot;attest&quot;)</p>

<p style="margin-top: 1em">Multiple actions may be given at
once and will be executed in order for example
--action=verify-pin --action=request-certificate</p>

<p style="margin-top: 1em">-s, --slot=ENUM <br>
What key slot to operate on (possible values=&quot;9a&quot;,
&quot;9c&quot;, &quot;9d&quot;, &quot;9e&quot;,
&quot;82&quot;, &quot;83&quot;, &quot;84&quot;,
&quot;85&quot;, &quot;86&quot;, &quot;87&quot;,
&quot;88&quot;, &quot;89&quot;, &quot;8a&quot;,
&quot;8b&quot;, &quot;8c&quot;, &quot;8d&quot;,
&quot;8e&quot;, &quot;8f&quot;, &quot;90&quot;,
&quot;91&quot;, &quot;92&quot;, <br>
&quot;93&quot;, &quot;94&quot;, &quot;95&quot;,
&quot;f9&quot;)</p>

<p style="margin-top: 1em">9a is for PIV Authentication 9c
is for Digital Signature (PIN always checked) 9d is for Key
Management 9e is for Card Authentication (PIN never checked)
82-95 is for <br>
Retired Key Management</p>

<p style="margin-top: 1em">-A, --algorithm=ENUM <br>
What algorithm to use (possible values=&quot;RSA1024&quot;,
&quot;RSA2048&quot;, &quot;ECCP256&quot;,
&quot;ECCP384&quot; default=&lsquo;RSA2048&rsquo;)</p>

<p style="margin-top: 1em">-H, --hash=ENUM <br>
Hash to use for signatures (possible
values=&quot;SHA1&quot;, &quot;SHA256&quot;,
&quot;SHA384&quot;, &quot;SHA512&quot;
default=&lsquo;SHA256&rsquo;)</p>

<p style="margin-top: 1em">-n, --new-key=STRING <br>
New management key to use for action set-mgm-key</p>

<p style="margin-top: 1em">--pin-retries=INT <br>
Number of retries before the pin code is blocked</p>

<p style="margin-top: 1em">--puk-retries=INT <br>
Number of retries before the puk code is blocked</p>

<p style="margin-top: 1em">-i, --input=STRING <br>
Filename to use as input, - for stdin
(default=&lsquo;-&rsquo;)</p>

<p style="margin-top: 1em">-o, --output=STRING <br>
Filename to use as output, - for stdout
(default=&lsquo;-&rsquo;)</p>

<p style="margin-top: 1em">-K, --key-format=ENUM <br>
Format of the key being read/written (possible
values=&quot;PEM&quot;, &quot;PKCS12&quot;,
&quot;GZIP&quot;, &quot;DER&quot;, &quot;SSH&quot;
default=&lsquo;PEM&rsquo;)</p>

<p style="margin-top: 1em">-p, --password=STRING <br>
Password for decryption of private key file</p>

<p style="margin-top: 1em">-S, --subject=STRING <br>
The subject to use for certificate request</p>

<p style="margin-top: 1em">The subject must be written as:
/CN=host.example.com/OU=test/O=example.com/</p>

<p style="margin-top: 1em">--serial=INT <br>
Serial number of the self-signed certificate</p>

<p style="margin-top: 1em">--valid-days=INT <br>
Time (in days) until the self-signed certificate expires
(default=&lsquo;365&rsquo;)</p>

<p style="margin-top: 1em">-P, --pin=STRING <br>
Pin/puk code for verification</p>

<p style="margin-top: 1em">-N, --new-pin=STRING <br>
New pin/puk code for changing</p>

<p style="margin-top: 1em">--pin-policy=ENUM <br>
Set pin policy for action generate or import-key (possible
values=&quot;never&quot;, &quot;once&quot;,
&quot;always&quot;)</p>

<p style="margin-top: 1em">--touch-policy=ENUM <br>
Set touch policy for action generate, import-key or
set-mgm-key (possible values=&quot;never&quot;,
&quot;always&quot;, &quot;cached&quot;)</p>

<p style="margin-top: 1em">--id=INT <br>
Id of object for write/read object</p>

<p style="margin-top: 1em">-f, --format=ENUM <br>
Format of data for write/read object (possible
values=&quot;hex&quot;, &quot;base64&quot;,
&quot;binary&quot; default=&lsquo;hex&rsquo;)</p>

<p style="margin-top: 1em">EXAMPLES <br>
For more information about what&rsquo;s happening --verbose
can be added to any command. For much more information
--verbose=2 may be used.</p>

<p style="margin-top: 1em">Display what version of the
application is running on the YubiKey:</p>

<p style="margin-top: 1em">yubico-piv-tool -a version</p>

<p style="margin-top: 1em">Generate a new ECC-P256 key on
device in slot 9a, will print the public key on stdout:</p>

<p style="margin-top: 1em">yubico-piv-tool -s 9a -A ECCP256
-a generate</p>

<p style="margin-top: 1em">Generate a certificate request
with public key from stdin, will print the resulting request
on stdout:</p>

<p style="margin-top: 1em">yubico-piv-tool -s 9a -S
&rsquo;/CN=foo/OU=test/O=example.com/&rsquo; -P 123456 -a
verify -a request</p>

<p style="margin-top: 1em">Generate a self-signed
certificate with public key from stdin, will print the
certificate, for later import, on stdout:</p>

<p style="margin-top: 1em">yubico-piv-tool -s 9a -S
&rsquo;/CN=bar/OU=test/O=example.com/&rsquo; -P 123456 -a
verify -a selfsign</p>

<p style="margin-top: 1em">Import a certificate from
stdin:</p>

<p style="margin-top: 1em">yubico-piv-tool -s 9a -a
import-certificate</p>

<p style="margin-top: 1em">Set a random chuid, import a key
and import a certificate from a PKCS12 file with password
test, into slot 9c:</p>

<p style="margin-top: 1em">yubico-piv-tool -s 9c -i
test.pfx -K PKCS12 -p test -a set-chuid -a import-key -a
import-cert</p>

<p style="margin-top: 1em">Import a certificate which is
larger than 2048 bytes and thus requires compression in
order to fit:</p>

<p style="margin-top: 1em">openssl x509 -in cert.pem
-outform DER | gzip -9 &gt; der.gz <br>
yubico-piv-tool -s 9c -i der.gz -K GZIP -a import-cert</p>

<p style="margin-top: 1em">Change the management key used
for administrative authentication:</p>

<p style="margin-top: 1em">yubico-piv-tool -n
0807605403020108070605040302010807060504030201 -a
set-mgm-key</p>

<p style="margin-top: 1em">Delete a certificate in slot
9a:</p>

<p style="margin-top: 1em">yubico-piv-tool -a
delete-certificate -s 9a</p>

<p style="margin-top: 1em">Show some information on
certificates and other data:</p>

<p style="margin-top: 1em">yubico-piv-tool -a status</p>

<p style="margin-top: 1em">Read out the certificate from a
slot and then run a signature test:</p>

<p style="margin-top: 1em">yubico-piv-tool -a read-cert -s
9a <br>
yubico-piv-tool -a verify-pin -P 123456 -a test-signature -s
9a</p>

<p style="margin-top: 1em">Import a key into slot 85 (only
available on YubiKey 4) and set the touch policy (also only
available on YubiKey 4):</p>

<p style="margin-top: 1em">yubico-piv-tool -a import-key -s
85 --touch-policy=always -i key.pem</p>

<p style="margin-top: 1em">yubico-piv-tool 1.4.3 April 2017
YUBICO-PIV-TOOL(1)</p>
<hr>
</body>
</html>
