<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:34:35 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>QEMU-SANITY-CHECK(1) Virtualization Support
QEMU-SANITY-CHECK(1)</p>

<p style="margin-top: 1em">NAME <br>
qemu-sanity-check - run a simple sanity check on qemu and
the Linux kernel</p>

<p style="margin-top: 1em">SUMMARY <br>
qemu-sanity-check [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
qemu-sanity-check is a short shell script that test-boots a
Linux kernel under qemu, making sure it boots up to
userspace. The idea is to test the Linux kernel and/or qemu
to <br>
make sure they are working.</p>

<p style="margin-top: 1em">You can use the command on its
own:</p>

<p style="margin-top: 1em">qemu-sanity-check</p>

<p style="margin-top: 1em">In this case, the script will
look for a suitable qemu binary on the $PATH and the latest
Linux kernel in &quot;/boot&quot; and try to boot that
kernel on that qemu.</p>

<p style="margin-top: 1em">You can also specify a qemu
binary or a Linux kernel (either or both options can be
omitted):</p>

<p style="margin-top: 1em">qemu-sanity-check
--qemu=/path/to/qemu --kernel=/path/to/vmlinuz</p>

<p style="margin-top: 1em">KVM <br>
KVM (&quot;kvm&quot; or &quot;qemu-kvm&quot;) can be used in
place of qemu.</p>

<p style="margin-top: 1em">KERNEL DRIVERS <br>
No kernel modules or special drivers are required except as
noted below. The test uses an initramfs containing a static
binary, so the kernel is not required to locate block <br>
devices, use virtio, mount filesystems, etc.</p>

<p style="margin-top: 1em">The kernel must support only the
following, compiled in (not as modules):</p>

<p style="margin-top: 1em">&Acirc;&middot; A serial port
(usually: &quot;CONFIG_SERIAL_8250=y&quot;)</p>

<p style="margin-top: 1em">&Acirc;&middot; Initrd/initramfs
(&quot;CONFIG_BLK_DEV_INITRD=y&quot;)</p>

<p style="margin-top: 1em">OPTIONS <br>
--help <br>
Display short help message and exit.</p>

<p style="margin-top: 1em">--accel=kvm <br>
--accel=tcg <br>
--accel=kvm:tcg <br>
This sets the &quot;-machine accel=...&quot; parameter which
is passed to qemu.</p>

<p style="margin-top: 1em">If not set, then
&quot;kvm:tcg&quot; is the default, which means to try to
use KVM (hardware-assisted virtualization), and fall back to
software emulation if KVM is not possible.</p>

<p style="margin-top: 1em">Other typical values of this
parameter are: &quot;tcg&quot;, which means to force
software emulation. &quot;kvm&quot;, which means to force
KVM and fail if KVM is unavailable.</p>

<p style="margin-top: 1em">-i INITRD <br>
--initrd=INITRD <br>
Use the initramfs image named &quot;INITRD&quot; instead of
the default.</p>

<p style="margin-top: 1em">-k VMLINUZ <br>
--kernel=VMLINUZ <br>
Use the kernel image &quot;VMLINUZ&quot; instead of
searching for the latest kernel installed in
&quot;/boot&quot;.</p>

<p style="margin-top: 1em">-q QEMU <br>
--qemu=QEMU <br>
Use the qemu (or KVM) binary &quot;QEMU&quot; instead of
searching $PATH for a suitable binary.</p>

<p style="margin-top: 1em">-t TIMEOUT <br>
--timeout=TIMEOUT <br>
Specify a timeout instead of the default which is
&quot;10m&quot; (10 minutes).</p>

<p style="margin-top: 1em">The syntax for the
&quot;TIMEOUT&quot; is described in full in the man page for
timeout(1).</p>

<p style="margin-top: 1em">-V <br>
--version <br>
Display version and exit.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The exit status is 0 if the Linux kernel booted as far as
userspace under qemu; or if the --help or --version options
were used.</p>

<p style="margin-top: 1em">The exit status is 1 if the
kernel boot failed under qemu.</p>

<p style="margin-top: 1em">The exit status is 2 if the
script itself failed (eg. incorrect command line options
were used, a suitable kernel could not be found).</p>

<p style="margin-top: 1em">FILES <br>
/usr/lib64/qemu-sanity-check/initrd <br>
The default location for the small initramfs image that is
used to test that userspace has been reached.</p>

<p style="margin-top: 1em">SEE ALSO <br>
&lt;http://qemu.org&gt;, &lt;http://kernel.org&gt;</p>

<p style="margin-top: 1em">AUTHORS <br>
Richard W.M. Jones &lt;rjones@redhat.com&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
(C) Copyright 2013 Red Hat Inc.</p>

<p style="margin-top: 1em">This program is free software;
you can redistribute it and/or modify it under the terms of
the GNU General Public License as published by the Free
Software Foundation; either <br>
version 2 of the License, or (at your option) any later
version.</p>

<p style="margin-top: 1em">This program is distributed in
the hope that it will be useful, but WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR <br>
PURPOSE. See the GNU General Public License for more
details.</p>

<p style="margin-top: 1em">You should have received a copy
of the GNU General Public License along with this program;
if not, write to the Free Software Foundation, Inc., 51
Franklin Street, Fifth Floor, <br>
Boston, MA 02110-1301 USA.</p>

<p style="margin-top: 1em">qemu-sanity-check-1.1.5
2017-02-11 QEMU-SANITY-CHECK(1)</p>
<hr>
</body>
</html>
