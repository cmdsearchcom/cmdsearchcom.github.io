<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BC(1plan9)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BC(1plan9)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">BC(1plan9)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bc - arbitrary-precision arithmetic language
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>bc</b> [ <b>-c</b> ] [ <b>-l</b> ] [ <b>-s</b> ] [ <i>file ...</i> ]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>Bc</i> is an interactive processor for a language that resembles C but
  provides arithmetic on numbers of arbitrary length with up to 100 digits right
  of the decimal point. It takes input from any files given, then reads the
  standard input. The <b>-l</b> argument stands for the name of an arbitrary
  precision math library. The <b>-s</b> argument suppresses the automatic
  display of calculation results; all output is via the <b>print</b> command.
<div class="Pp"></div>
The following syntax for <i>bc</i> programs is like that of C; <i>L</i> means
  letter <b>a</b>-<b>z</b>, <i>E</i> means expression, <i>S</i> means statement.
<dl class="Bl-tag">
  <dt class="It-tag">Lexical</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;">comments are
  enclosed in <b>/* */</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;">newlines end
  statements</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">Names</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">simple variables: <i>L</i>
    <div>&#x00A0;</div>
    array elements: <i>L</i><b>[</b><i>E</i><b>]</b>
    <div>&#x00A0;</div>
    The words <b>ibase</b>, <b>obase</b>, and <b>scale</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Other operands</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">arbitrarily long numbers with optional sign and decimal
      point.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>(</b><i>E</i><b>)</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sqrt(</b><i>E</i><b>)</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>length(</b><i>E</i><b>)</b></dt>
  <dd class="It-tag">number of significant decimal digits</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>scale(</b><i>E</i><b>)</b></dt>
  <dd class="It-tag">number of digits right of decimal point</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>L</i><b>(</b><i>E</i><b>,</b><i>...</i><b>,<i>E</i>)</b></dt>
  <dd class="It-tag">function call</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">Operators</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>+ - * / %
  ^&#x00A0;</b> (<b>%</b> is remainder; <b>^</b> is power)</div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>++
  --&#x00A0;</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>== &lt;= &gt;= != &lt; &gt;</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>= += -= *= /= %= ^=</b></dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">Statements</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div>&#x00A0;</div>
<i>E</i>
<div>&#x00A0;</div>
<b>{</b> <i>S</i> <b>;</b> ... <b>;</b> <i>S</i> <b>}</b>
<div>&#x00A0;</div>
<b>print</b> <i>E</i>
<div>&#x00A0;</div>
<b>if (</b> <i>E</i> <b>)</b> <i>S</i>
<div>&#x00A0;</div>
<b>while (</b> <i>E</i> <b>)</b> <i>S</i>
<div>&#x00A0;</div>
<b>for (</b> <i>E</i> <b>;</b> <i>E</i> <b>;</b> <i>E</i> <b>)</b> <i>S</i>
<div>&#x00A0;</div>
null statement
<div>&#x00A0;</div>
<b>break</b>
<div>&#x00A0;</div>
<b>quit</b>
<div>&#x00A0;</div>
&quot;text&quot;</div>
<dl class="Bl-tag">
  <dt class="It-tag">Function definitions</dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">
<div>&#x00A0;</div>
<b>define</b> <i>L</i> <b>(</b> <i>L</i> <b>,</b> ... <b>,</b> <i>L</i>
  <b>){</b>
<div>&#x00A0;</div>
<b>auto</b> <i>L</i> <b>,</b> ... <b>,</b> <i>L</i>
<div>&#x00A0;</div>
<i>S</i> <b>;</b> ... <b>;</b> <i>S</i>
<div>&#x00A0;</div>
<b>return</b> <i>E</i>
<div class="Pp"></div>
<b>}</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">Functions in</dt>
  <dd class="It-tag"><b>-l</b> math library</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>s(</b><i>x</i><b>)</b></dt>
  <dd class="It-tag">sine</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>c(</b><i>x</i><b>)</b></dt>
  <dd class="It-tag">cosine</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>e(</b><i>x</i><b>)</b></dt>
  <dd class="It-tag">exponential</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>l(</b><i>x</i><b>)</b></dt>
  <dd class="It-tag">log</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>a(</b><i>x</i><b>)</b></dt>
  <dd class="It-tag">arctangent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>j(</b><i>n, x</i><b>)</b></dt>
  <dd class="It-tag">Bessel function</dd>
</dl>
</div>
<div class="Pp"></div>
All function arguments are passed by value.
<div class="Pp"></div>
The value of an expression at the top level is printed unless the main operator
  is an assignment or the <b>-s</b> command line argument is given. Text in
  quotes, which may include newlines, is always printed. Either semicolons or
  newlines may separate statements. Assignment to <b>scale</b> influences the
  number of digits to be retained on arithmetic operations in the manner of
  <i>dc</i>(1). Assignments to <b>ibase</b> or <b>obase</b> set the input and
  output number radix respectively.
<div class="Pp"></div>
The same letter may be used as an array, a function, and a simple variable
  simultaneously. All variables are global to the program. Automatic variables
  are pushed down during function calls. In a declaration of an array as a
  function argument or automatic variable empty square brackets must follow the
  array name.
<div class="Pp"></div>
<i>Bc</i> is actually a preprocessor for <i>dc</i>(1), which it invokes
  automatically, unless the <b>-c</b> (compile only) option is present. In this
  case the <i>dc</i> input is sent to the standard output instead.
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
Define a function to compute an approximate value of the exponential. Use it to
  print 10 values. (The exponential function in the library gives better
  answers.)
<div class="Pp"></div>
<pre>
scale = 20
define e(x) {
	auto a, b, c, i, s
	a = 1
	b = 1
	s = 1
	for(i=1; 1; i++) {
		a *= x
		b *= i
		c = a/b
		if(c == 0) return s
		s += c
	}
}
for(i=1; i&lt;=10; i++) print e(i)
</pre>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>/lib/bclib</b> mathematical library
<h1 class="Sh" title="Sh" id="SOURCE"><a class="selflink" href="#SOURCE">SOURCE</a></h1>
<b>/src/cmd/bc.y</b>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>dc</i>(1), <i>hoc</i>(1)
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
No or operators.
<div class="Pp"></div>
A statement must have all three
<div class="Pp"></div>
A is interpreted when read, not when executed.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
