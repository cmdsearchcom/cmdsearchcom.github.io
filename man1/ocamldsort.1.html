<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:28:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OCAMLDSORT(1) General Commands Manual OCAMLDSORT(1)</p>

<p style="margin-top: 1em">NAME <br>
ocamldsort - Dependency sorter for OCaml source files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ocamldsort [ -pp pre-command ] [ -d dep-command ] <br>
[ -mli ] [ -nox ] [ -obj | -byte | -opt ] [ filename ]
...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The ocamldsort(1) command scans a set of OCaml source files
(.ml and .mli files), sorts them according to their
dependencies and prints the sorted files in order to link
their <br>
corresponding .cmo files.</p>

<p style="margin-top: 1em">For ocamldsort(1) to work it
must get a list of dependencies generated by ocamldep(1), if
the standard input to ocamldsort(1) has been redirected then
ocamldsort assumes that <br>
this is a dependency file generated by ocamldep(1).
Otherwise ocamldsort calls ocamldep(1) to generate the
dependency list itself. In either case the source files to
be sorted <br>
should be given as arguments to the ocamldsort(1)
command.</p>

<p style="margin-top: 1em">ocamldsort(1) can be used to
compile and link simple projects with one command, such
as:</p>

<p style="margin-top: 1em">ocamlc $(ocamldsort *.ml)</p>

<p style="margin-top: 1em">if your project doesn&rsquo;t
contain .mli files or:</p>

<p style="margin-top: 1em">ocamlc -c $(ocamldsort -mli *.ml
*.mli) &amp;&amp; ocamlc $(ocamldsort -byte *.ml)</p>

<p style="margin-top: 1em">if it contains .mli files.</p>

<p style="margin-top: 1em">However for larger projects
where separate compilation is desirable, ocamldsort(1) can
also be used from within a makefile. Here is a typical
makefile example:</p>

<p style="margin-top: 1em">TARGET=my_program <br>
OCAMLC=ocamlc <br>
OCAMLOPT=ocamlopt <br>
OCAMLDEP=ocamldep <br>
OCAMLDSORT=ocamldsort</p>

<p style="margin-top: 1em">PPFLAGS=-pp camlp4o</p>

<p style="margin-top: 1em">MLY=$(shell echo *.mly) <br>
MLL=$(shell echo *.mll) <br>
GENERATED_ML=$(MLY:.mly=.ml) $(MLL:.mll=.ml)</p>

<p style="margin-top: 1em">include .generated .depend
.ocamldsort</p>

<p style="margin-top: 1em">$(TARGET): $(CMO_FILES) <br>
$(OCAMLC) $(COMPFLAGS) $(LIBS) $^ -o $@</p>

<p style="margin-top: 1em">$(TARGET).opt: $(CMX_FILES) <br>
$(OCAMLOPT) $(COMPFLAGS) $(LIBS_OPT) $^ -o $@</p>

<p style="margin-top: 1em">.generated: $(GENERATED_ML) <br>
@touch .generated</p>

<p style="margin-top: 1em">.depend: .generated <br>
$(OCAMLDEP) *.ml *.mli &gt; $@</p>

<p style="margin-top: 1em">.ocamldsort: .depend <br>
echo CMO_FILES=&lsquo;&lt; .depend $(OCAMLDSORT) -byte
*.ml&lsquo; &gt; .ocamldsort <br>
echo CMX_FILES=&lsquo;&lt; .depend $(OCAMLDSORT) -opt
*.ml&lsquo; &gt;&gt; .ocamldsort</p>

<p style="margin-top: 1em">distclean: clean <br>
rm -f .generated .depend .ocamldsort <br>
rm -f $(GENERATED_ML) <br>
rm -f *~ <br>
rm -f $(TARGET)</p>

<p style="margin-top: 1em">clean: <br>
rm -f *.cmo *.cmi *.cmx *.o</p>

<p style="margin-top: 1em">.SUFFIXES: .mli .ml .cmi .cmo
.cmx .mll .mly</p>

<p style="margin-top: 1em">%.cmi:%.mli <br>
$(OCAMLC) $(PPFLAGS) $(COMPFLAGS) -c $&lt;</p>

<p style="margin-top: 1em">%.cmo:%.ml <br>
$(OCAMLC) $(PPFLAGS) $(COMPFLAGS) -c $&lt;</p>

<p style="margin-top: 1em">%.cmi %.cmo:%.ml <br>
$(OCAMLC) $(PPFLAGS) $(COMPFLAGS) -c $&lt;</p>

<p style="margin-top: 1em">%.cmx %.o:%.ml <br>
$(OCAMLOPT) $(PPFLAGS) $(COMPFLAGS) -c $&lt;</p>

<p style="margin-top: 1em">%.ml:%.mll <br>
$(OCAMLLEX) $&lt;</p>

<p style="margin-top: 1em">%.mli %.ml:%.mly <br>
$(OCAMLYACC) -v $&lt;</p>

<p style="margin-top: 1em">OPTIONS <br>
The following command-line options are recognized by
ocamlsort(1):</p>

<p style="margin-top: 1em">-I directory <br>
Add the given directory to the list of directories searched
for source files.</p>

<p style="margin-top: 1em">-pp pre-command <br>
Command to preprocess file.</p>

<p style="margin-top: 1em">-d dep-command <br>
Command to compute dependencies. ocamldep(1) by default.</p>

<p style="margin-top: 1em">-mli Sort files using mli
dependencies.</p>

<p style="margin-top: 1em">-nox Ignore filenames containg
&lsquo;*&rsquo; so that unexpanded wildcards are
ignored.</p>

<p style="margin-top: 1em">-obj Print bytecode filenames
(.cmo and .cmi) (deprecated: use -byte).</p>

<p style="margin-top: 1em">-byte Print bytecode filenames
(.cmo and .cmi).</p>

<p style="margin-top: 1em">-opt Print opt filenames (.cmx
and .cmi).</p>

<p style="margin-top: 1em">-v Output version information
and exit.</p>

<p style="margin-top: 1em">-help, --help <br>
Output help and exit.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ocamldep(1).</p>
 
<p style="margin-top: 1em">OCAMLDSORT(1)</p>
<hr>
</body>
</html>
