<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:53:21 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>AUTOSEARCH(1) User Contributed Perl Documentation
AUTOSEARCH(1)</p>

<p style="margin-top: 1em">NAME <br>
AutoSearch -- a web-search tracking application</p>

<p style="margin-top: 1em">SYNOPSIS <br>
AutoSearch [--stats] [--verbose] -n &quot;Query Name&quot;
-s &quot;query string&quot; --engine engine [--mail
you@where.com] [--options &quot;opt=val&quot;]... [--filter
&quot;filter&quot;] [--host host] [--port port] <br>
[--userid bbunny --password c4rr0t5] [--ignore_channels
KABC,KCBS,KNBC] qid</p>

<p style="margin-top: 1em">AutoSearch --VERSION AutoSearch
--help AutoSearch --man</p>

<p style="margin-top: 1em">DESCRIPTION <br>
AutoSearch performs a web-based search and puts the results
set in qid/index.html. Subsequent searches (i.e., the second
form above) AutoSearch determine what changes (if any) <br>
occured to the results sent since the last run. These
incremental changes are recorded in qid/YYYYMMDD.html.</p>

<p style="margin-top: 1em">AutoSearch is amenable to be run
as a cron job because all the input parameters are saved in
the web pages. AutoSearch can act as a automated query agent
for a particular <br>
search. The output files are designed to be a set of web
pages to easily display the results set with a web
browser.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">AutoSearch -n &rsquo;LSAM
Replication&rsquo; <br>
-s &rsquo;&quot;lsam replication&quot;&rsquo; <br>
-e AltaVista <br>
replication_query</p>

<p style="margin-top: 1em">This query (which should be all
on one line) creates a directory replication_query and fills
it with the fascinating output of the AltaVista query on
&quot;lsam replication&quot;, with <br>
pages titled &lsquo;&lsquo;LSAM Replication&rsquo;&rsquo;.
(Note the quoting: the single quotes in &rsquo;&quot;lsam
replication&quot;&rsquo; are for the shell, the double
quotes are for AltaVista to search for the phrase <br>
rather than the separate words.)</p>

<p style="margin-top: 1em">A more complicated example:</p>

<p style="margin-top: 1em">AutoSearch -n &rsquo;External
Links to LSAM&rsquo; <br>
-s &rsquo;(link:www.isi.edu/lsam or link:www.isi.edu/~lsam)
-url:isi.edu&rsquo; <br>
-e AltaVista::AdvancedWeb <br>
-o coolness=hot</p>

<p style="margin-top: 1em">This query does an advanced
AltaVista search and specifies the (hypothetical)
&lsquo;&lsquo;coolness&rsquo;&rsquo; option to the search
engine.</p>

<p style="margin-top: 1em">OPTIONS <br>
&quot;qid&quot; <br>
The query identifer specifies the directory in which all the
files that relate to this query and search results will
live. It can be an absolute path, or a relative path <br>
from cwd. If the directory does not exist, it will be
created and a new search started.</p>

<p style="margin-top: 1em">&quot;--stats&quot; <br>
Show search statistics: the query string, number of hits,
number of filtered hits, filter string, number of suspended
(deleted) hits, previous set size, current set size, <br>
etc.</p>

<p style="margin-top: 1em">&quot;-v&quot; or
&quot;--verbose&quot; <br>
Verbose: output additional messages and warnings.</p>

<p style="margin-top: 1em">&quot;-n&quot; or
&quot;--qn&quot; or &quot;--queryname&quot; <br>
Specify the query name. The query name is used as a heading
in the web pages, therefore it should be a
&rsquo;nice&rsquo; looking version of the query string.</p>

<p style="margin-top: 1em">&quot;-s&quot; or
&quot;--qs&quot; or &quot;--querystring&quot; <br>
Specify the query string. The query string is the character
string which will be submitted to the search engine. You may
include special characters to group or to qualify <br>
the search.</p>

<p style="margin-top: 1em">&quot;-e&quot; or
&quot;--engine&quot; <br>
Specify the search engine. The query string will be
submitted to the user specified search engine.</p>

<p style="margin-top: 1em">In many cases there are
specialized versions of search engines. For example,
AltaVista::AdvancedWeb and AltaVista::News allow more
powerful and Usenet searches. See <br>
AltaVista or the man page for your search engine for details
about specialized variations.</p>

<p style="margin-top: 1em">&quot;--listnewurls&quot; <br>
In addition to all the normal file maintenance, print all
new URLs to STDOUT, one per line.</p>

<p style="margin-top: 1em">&quot;-o&quot; or
&quot;--options&quot; <br>
Specify the query options. The query options will be
submitted to the user search engine with the query string.
This feature permits modification of the query string for a
<br>
specific search engine or option. More than one query option
may be specified.</p>

<p style="margin-top: 1em">Example: &quot;-o
what=news&quot; causes AltaVista to search Usenet. Although
this works, the preferred mechanism in this case would be
&quot;-e AltaVista::News&quot; or &quot;-e <br>
AltaVista::AdvancedNews&quot;. Options are intended for
internal or expert use.</p>

<p style="margin-top: 1em">&quot;-f&quot; or
&quot;--uf&quot; or &quot;--urlfilter&quot; <br>
This option specifies a regular expression which will be
compared against the URLs of any results; if they match the
case-insensitive regular expression, they will be removed
<br>
from the hit set.</p>

<p style="margin-top: 1em">Example: &quot;-f
&rsquo;.*.isi.edu&rsquo;&quot; avoids all of ISI&rsquo;s web
pages.</p>

<p style="margin-top: 1em">&quot;--cleanup i&quot; <br>
Delete all traces of query results from more than i days
ago. If --cleanup is given, all other options other than the
qid will be ignored.</p>

<p style="margin-top: 1em">&quot;--cmdline&quot; <br>
Reconstruct the complete command line (AutoSearch and all
its arguments) that was used to create the query results.
Command line will be shown on STDERR. If --cmdline is <br>
given, all other options other than the qid will be
ignored.</p>

<p style="margin-top: 1em">&quot;--mail user@address&quot;
or &quot;-m user@address&quot; <br>
After search is complete, send email to that user, listing
the NEW results. Email is HTML format. Requires the
Email::Send and related modules. If you send email through
<br>
an SMTP server, you must set environment variable SMTPSERVER
to your server name or IP address. If your SMTP server
requires password, you must set environment variables <br>
SMTPUSERNAME and SMTPPASSWORD. If you send email via
sendmail, you should set environment variable SENDMAIL if
the sendmail executable is not in the path.</p>

<p style="margin-top: 1em">&quot;--emailfrom
user@address&quot; <br>
If your outgoing mail server rejects email from certain
users, you can use this argument to set the From:
header.</p>

<p style="margin-top: 1em">&quot;--userid bbunny&quot; <br>
If the search engine requires a login/password (e.g.
Ebay::Completed), use this.</p>

<p style="margin-top: 1em">&quot;--password Carr0t5&quot;
<br>
If the search engine requires a login/password (e.g.
Ebay::Mature), use this.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
AutoSearch submits a query to a search engine, produces HTML
pages that reflect the set of &rsquo;hits&rsquo; (filtered
search results) returned by the search engine, and tracks
these <br>
results over time. The URL and title are displayed in the
qid/index.html, the URL, the title, and description are
displayed in the &rsquo;weekly&rsquo; files.</p>

<p style="margin-top: 1em">To organize these results, each
search result is placed in a query information directory
(qid). The directory becomes the search results
&rsquo;handle&rsquo;, an easy way to track a set of <br>
results. Thus a qid of
&quot;/usr/local/htdocs/lsam/autosearch/load_balancing&quot;
might locate the results on your web server at
&quot;http://www.isi.edu/lsam/autosearch/load_balancing&quot;.</p>

<p style="margin-top: 1em">Inside the qid directory you
will find files relating to this query. The primary file is
index.html, which reflects the latest search results. Every
not-filtered hit for every <br>
search is stored in index.html. When a hit is no longer
found by the search engine it a removed from index.html. As
new results for a search are returned from the search engine
<br>
they are placed in index.html.</p>

<p style="margin-top: 1em">At the bottom of index.html,
there is a heading &quot;Weekly Search Results&quot;, which
is updated each time the search is submitted (see
&quot;AUTOMATED SEARCHING&quot;). The list of search runs
<br>
is stored in reverse chronological order. Runs which provide
no new information are identified with</p>

<p style="margin-top: 1em">No Unique Results found for
search on &lt;date&gt;</p>

<p style="margin-top: 1em">Runs which contain changes are
identified by</p>

<p style="margin-top: 1em">Web search results for search on
&lt;date&gt;</p>

<p style="margin-top: 1em">which will be linked a page
detailing the changes from that run.</p>

<p style="margin-top: 1em">Detailed search results are
noted in weekly files. These files are named YYYYMMDD.html
and are stored in the qid directory. The weekly files
include THE URL, title, and a the <br>
description (if available). The title is a link to the
original web page.</p>

<p style="margin-top: 1em">AUTOMATED SEARCHING <br>
On UNIX-like systems, cron(1) may be used to establish
periodic searches and the web pages will be maintained by
AutoSearch. To establish the first search, use the first
example <br>
under SYNOPSIS. You must specify the qid, query name and
query string. If any of the items are missing, you will be
interactively prompted for the missing item(s).</p>

<p style="margin-top: 1em">Once the first search is
complete you can re-run the search with the second form
under SYNOPSIS.</p>

<p style="margin-top: 1em">A cron entry like:</p>

<p style="margin-top: 1em">0 3 * * 1
/nfs/u1/wls/AutoSearch.pl
/www/div7/lsam/autosearch/caching</p>

<p style="margin-top: 1em">might be used to run the search
each Monday at 3:00 AM. The query name and query string may
be repeated; but they will not be used. This means that with
a cron line like:</p>

<p style="margin-top: 1em">0 3 * * 1
/nfs/u1/wls/AutoSearch.pl /www/div7/lsam/autosearch/caching
-n caching -s caching</p>

<p style="margin-top: 1em">a whole new search series can be
originated by</p>

<p style="margin-top: 1em">rm -r
/www/div7/lsam/autosearch/caching</p>

<p style="margin-top: 1em">However, the only reason to
start a new search series would be to throw away the old
weekly files.</p>

<p style="margin-top: 1em">We don&rsquo;t recommend running
searches more than once per day, but if so the per-run files
will be updated in-place. Any changes are added to the page
with a comment that &quot;Recently <br>
Added:&quot;; and deletions are indicated with
&quot;Recently Suspended:.&quot;</p>

<p style="margin-top: 1em">CHANGING THE LOOK OF THE PAGES
<br>
The basic format of these two pages is simple and
customizable. One requirement is that the basic structure
remain unchanged. HTML comments are used to identify
sections of the <br>
document. Almost everything can be changed except for the
strings which identify the section starts and ends.</p>

<p style="margin-top: 1em">Noteworthy tags and their
meaning:</p>


<p style="margin-top: 1em">&lt;!--Top--&gt;.*&lt;!--/Top--&gt;
<br>
The text contained within this tag is placed at the top of
the output page. If the text contains AutoSearch WEB
Searching, then the query name will replace it. <br>
If the text does not contain this magic string and it is the
first ever search, the user will be asked for a query
name.</p>

<p style="margin-top: 1em">&lt;!--Query{.*}/Query--&gt;
<br>
The text contained between the braces is the query string.
This is how AutoSearch maintains the query string. You may
edit this string to change the query <br>
string; but only in qid/index.html. The text ask user is
special and will force AutoSearch to request the search
string from the user.</p>


<p style="margin-top: 1em">&lt;!--SearchEngine{.*}/SearchEngine--&gt;
<br>
The text contained between the braces is the search engine.
Other engines supported are HotBot and Lycos. You may edit
this string to change the engine used; <br>
but only in qid/index.html. The text ask user is special and
will force AutoSearch to to request the search string from
the user.</p>


<p style="margin-top: 1em">&lt;!--QueryOptions{.*}/QueryOptions--&gt;
<br>
The text contained between the braces specifies a query
options. Multiple occurrencs of this command are allowed to
specify multiple options.</p>


<p style="margin-top: 1em">&lt;!--URLFilter{.*}/URLFilter--&gt;
<br>
The text contained between the braces is the URL filter.
This is how AutoSearch maintains the filter. Again you may
edit this string to change the query string; <br>
but only in qid/index.html. The text ask user is special and
will force AutoSearch to ask the user (STDIN) for the query
string. When setting up the first <br>
search, you must edit first_index.html, not qid/index.html.
The URL filter is a standard perl5 regular expression. URLs
which do not match will be kept.</p>


<p style="margin-top: 1em">&lt;!--Bottom--&gt;.*&lt;!--/Bottom--&gt;
<br>
The text contained within this tag is placed at the bottom
of the output page. This is a good place to put navigation,
page owner information, etc.</p>

<p style="margin-top: 1em">The remainder of the tags fall
into a triplet of ~Heading, ~Template, and ~, where ~ is
Summary, Weekly, Appended, and Suspended. The sub-sections
appear in the order given. To <br>
produce a section AutoSearch outputs the heading, the
template, the section, n copies of the formatted data, and
an /section. The tags and their function are:</p>

<p style="margin-top: 1em">~Heading The heading tag
identifies the heading for a section of the output file. The
SummaryHeading is for the summary portion, etc. The section
may be empty (e.g., <br>
Suspended) and thus no heading is output.</p>

<p style="margin-top: 1em">~Template The template tag
identifies how each item is to be formatted. Simple text
replacement is used to change the template into the actual
output text. The text to be <br>
replaced is noted in ALLCAPS.</p>

<p style="margin-top: 1em">~ This tag is used to locate the
section (Summary, Weekly, etc.). This section represents the
actual n-items of data.</p>

<p style="margin-top: 1em">You can edit these values in the
qid/index.html page of an existing search. The file
first_index.html (in the directory above qid) will be used
as a default template for new <br>
queries.</p>

<p style="margin-top: 1em">Examples of these files can be
seen in the pages under
&quot;http://www.isi.edu/lsam/tools/autosearch/&quot;, or in
the output generated by a new AutoSearch.</p>

<p style="margin-top: 1em">FILES <br>
first_index.html optional file to determine the default
format of the index.html file of a new query.</p>

<p style="margin-top: 1em">first_date.html optional file to
determine the default format of the YYYYMMDD.html file for a
new query.</p>

<p style="margin-top: 1em">qid/index.html (automatically
created) latest search results, and reverse chronological
list of periodic searches.</p>

<p style="margin-top: 1em">qid/date.html file used as a
template for the YYYYMMDD.html files.</p>

<p style="margin-top: 1em">qid/YYYYMMDD.html (automatically
created) summary of changes for a particular date (AKA
&rsquo;Weekly&rsquo; file).</p>

<p style="margin-top: 1em">Optional files first_index.html
and first_date.html are used for the initial search as a
template for qid/index.html and date.html, respectively. If
either of these files does <br>
not exist; a default-default template is stored within the
AutoSearch source. The intention of these two files is to
permit a user to establish a framework for a group of search
<br>
sets which have a common format. By leaving the default
query name and query string alone, they will be overridden
by command line inputs.</p>

<p style="margin-top: 1em">SEE ALSO <br>
For the library, see WWW::Search, for the perl regular
expressions, see perlre.</p>

<p style="margin-top: 1em">AUTHORS <br>
Wm. L. Scheding</p>

<p style="margin-top: 1em">AutoSearch is a
re-implementation of an earlier version written by Kedar
Jog.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 1996-1997 University of Southern California.
All rights reserved.</p>

<p style="margin-top: 1em">Redistribution and use in source
and binary forms are permitted provided that the above
copyright notice and this paragraph are duplicated in all
such forms and that any <br>
documentation, advertising materials, and other materials
related to such distribution and use acknowledge that the
software was developed by the University of Southern <br>
California, Information Sciences Institute. The name of the
University may not be used to endorse or promote products
derived from this software without specific prior written
<br>
permission.</p>

<p style="margin-top: 1em">THIS SOFTWARE IS PROVIDED
&quot;AS IS&quot; AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A <br>
PARTICULAR PURPOSE.</p>

<p style="margin-top: 1em">DESIRED FEATURES <br>
These are good ideas that people have suggested.</p>

<p style="margin-top: 1em">URL validation. <br>
Validate the status of each URL (with HTTP HEAD requests)
and indicate this status in the output.</p>

<p style="margin-top: 1em">Multi-search. <br>
It should be possible to merge the results of searches from
two search-engines. If this merger were done as a new search
engine, this operation would be transparent to <br>
AutoSearch.</p>

<p style="margin-top: 1em">BUGS <br>
None known at this time; please inform the maintainer
mthurn@cpan.org if any crop up.</p>

<p style="margin-top: 1em">perl v5.24.1 2015-11-28
AUTOSEARCH(1)</p>
<hr>
</body>
</html>
