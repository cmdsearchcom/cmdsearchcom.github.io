<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DBENCH(1) General Commands Manual DBENCH(1)</p>

<p style="margin-top: 1em">NAME <br>
dbench - Measure disk throughput for simulated netbench
run</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dbench [options]numclients <br>
tbench [options]numclientsserver tbench_srv [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This manual page documents briefly the dbench and tbench
benchmarks. This manual page was written for the Debian
GNU/Linux distribution because the original program does not
<br>
have a manual page. However, it has fairly easy to read
source code.</p>

<p style="margin-top: 1em">Netbench is a terrible
benchmark, but it&rsquo;s an &quot;industry standard&quot;
and it&rsquo;s what is used in the press to rate windows
fileservers like Samba and WindowsNT. <br>
Given the requirements of running netbench (60 and 150
Windows PCs all on switched fast ethernet and a really
grunty server, and some way to nurse all those machines
along so <br>
they will run a very fussy benchmark suite without
crashing), these programs were written to open up netbench
to the masses. <br>
Both dbench and tbench read a load description file called
client.txt that was derived from a network sniffer dump of a
real netbench run. client.txt is about 4MB and describes
<br>
the 90 thousand operations that a netbench client does in a
typical netbench run. They parse client.txt and use it to
produce the same load without having to buy a huge lab. <br>
dbench produces only the filesystem load. It does all the
same IO calls that the smbd server in Samba would produce
when confronted with a netbench run. It does no networking
<br>
calls. <br>
tbench produces only the TCP and process load. It does the
same socket calls that smbd would do under a netbench load.
It does no filesystem calls. The idea behind tbench is to
<br>
eliminate smbd from the netbench test, as though the smbd
code could be made infinately fast.</p>

<p style="margin-top: 1em">OPTIONS <br>
The dbench program takes a number, which indicates the
number of clients to run simultaneously. It can also take
the following options:</p>

<p style="margin-top: 1em">-c client.txt <br>
Use this as the full path name of the client.txt file (the
default is /usr/share/dbench/client.txt).</p>

<p style="margin-top: 1em">-s Use synchronous file IO on
all file operations.</p>

<p style="margin-top: 1em">-t TIME <br>
set the runtime of the benchmark in seconds (default
600)</p>

<p style="margin-top: 1em">-D DIR set the base directory to
run the filesystem operations in</p>

<p style="margin-top: 1em">-x enable xattr support,
simulating the xattr operations Samba4 would need to perform
to run the load</p>

<p style="margin-top: 1em">-S Use synchronous IO for all
directory operations (unlink, rmdir, mkdir and rename). <br>
The tbench program takes a number, which indicates the
number of clients to run simultaneously, and a server name:
tbench_srv should be invoked on that server before <br>
invoking tbench. tbench can also take the following
options:</p>

<p style="margin-top: 1em">-T option[,...] <br>
This sets the socket options for the connection to the
server. The options are a comma-separated list of one or
more of the following: SO_KEEPALIVE, SO_REUSEADDR, <br>
SO_BROADCAST, SO_NODELAY, SO_LOWDELAY, SO_THROUGHPUT,
SO_SNDBUF=number, SO_RCVBUF=number, SO_SNDLOWAT=number,
SO_RCVLOWAT=number, SO_SNDTIMEO=number,and
SO_RCVTIMEO=num&acirc; <br>
ber. See socket(7) for details about these options. <br>
The tbench_srv can only take one option: -T option[,...] as
documented above.</p>

<p style="margin-top: 1em">SEE ALSO <br>
/usr/share/doc/dbench/README contains the original README by
Andrew Tridgell which accompanies the dbench source.</p>

<p style="margin-top: 1em">AUTHOR <br>
This manual page was originally written by Paul Russell
&lt;prussell@alderaan.franken.de&gt;, for the Debian
GNU/Linux system (but may be used by others). Modified and
updated by Mat&acirc; <br>
tias Nordstrom &lt;nordstrom@realnode.com&gt;.</p>

<p style="margin-top: 1em">June 18, 2005 DBENCH(1)</p>
<hr>
</body>
</html>
