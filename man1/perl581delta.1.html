<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PERL581DELTA(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PERL581DELTA(1)</td>
    <td class="head-vol">Perl Programmers Reference Guide</td>
    <td class="head-rtitle">PERL581DELTA(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
perl581delta - what is new for perl v5.8.1
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This document describes differences between the 5.8.0 release and the 5.8.1
  release.
<div class="Pp"></div>
If you are upgrading from an earlier release such as 5.6.1, first read the
  perl58delta, which describes differences between 5.6.0 and 5.8.0.
<div class="Pp"></div>
In case you are wondering about 5.6.1, it was bug-fix-wise rather identical to
  the development release 5.7.1. Confused? This timeline hopefully helps a bit:
  it lists the new major releases, their maintenance releases, and the
  development releases.
<div class="Pp"></div>
<pre>
          New     Maintenance  Development
          5.6.0                             2000-Mar-22
                               5.7.0        2000-Sep-02
                  5.6.1                     2001-Apr-08
                               5.7.1        2001-Apr-09
                               5.7.2        2001-Jul-13
                               5.7.3        2002-Mar-05
          5.8.0                             2002-Jul-18
                  5.8.1                     2003-Sep-25
</pre>
<h1 class="Sh" title="Sh" id="Incompatible_Changes"><a class="selflink" href="#Incompatible_Changes">Incompatible
  Changes</a></h1>
<h2 class="Ss" title="Ss" id="Hash_Randomisation"><a class="selflink" href="#Hash_Randomisation">Hash
  Randomisation</a></h2>
Mainly due to security reasons, the &quot;random ordering&quot; of hashes has
  been made even more random. Previously while the order of hash elements from
  <i>keys()</i>, <i>values()</i>, and <i>each()</i> was essentially random, it
  was still repeatable. Now, however, the order varies between different runs of
  Perl.
<div class="Pp"></div>
<b>Perl has never guaranteed any ordering of the hash keys</b>, and the ordering
  has already changed several times during the lifetime of Perl 5. Also, the
  ordering of hash keys has always been, and continues to be, affected by the
  insertion order.
<div class="Pp"></div>
The added randomness may affect applications.
<div class="Pp"></div>
One possible scenario is when output of an application has included hash data.
  For example, if you have used the Data::Dumper module to dump data into
  different files, and then compared the files to see whether the data has
  changed, now you will have false positives since the order in which hashes are
  dumped will vary. In general the cure is to sort the keys (or the values); in
  particular for Data::Dumper to use the &quot;Sortkeys&quot; option. If some
  particular order is really important, use tied hashes: for example the
  Tie::IxHash module which by default preserves the order in which the hash
  elements were added.
<div class="Pp"></div>
More subtle problem is reliance on the order of &quot;global destruction&quot;.
  That is what happens at the end of execution: Perl destroys all data
  structures, including user data. If your destructors (the DESTROY subroutines)
  have assumed any particular ordering to the global destruction, there might be
  problems ahead. For example, in a destructor of one object you cannot assume
  that objects of any other class are still available, unless you hold a
  reference to them. If the environment variable PERL_DESTRUCT_LEVEL is set to a
  non-zero value, or if Perl is exiting a spawned thread, it will also destruct
  the ordinary references and the symbol tables that are no longer in use. You
  can't call a class method or an ordinary function on a class that has been
  collected that way.
<div class="Pp"></div>
The hash randomisation is certain to reveal hidden assumptions about some
  particular ordering of hash elements, and outright bugs: it revealed a few
  bugs in the Perl core and core modules.
<div class="Pp"></div>
To disable the hash randomisation in runtime, set the environment variable
  PERL_HASH_SEED to 0 (zero) before running Perl (for more information see
  &quot;PERL_HASH_SEED&quot; in perlrun), or to disable the feature completely
  in compile time, compile with &quot;-DNO_HASH_SEED&quot; (see <i>INSTALL</i>).
<div class="Pp"></div>
See &quot;Algorithmic Complexity Attacks&quot; in perlsec for the original
  rationale behind this change.
<h2 class="Ss" title="Ss" id="UTF-8_On_Filehandles_No_Longer_Activated_By_Locale"><a class="selflink" href="#UTF-8_On_Filehandles_No_Longer_Activated_By_Locale">UTF-8
  On Filehandles No Longer Activated By Locale</a></h2>
In Perl 5.8.0 all filehandles, including the standard filehandles, were
  implicitly set to be in Unicode UTF-8 if the locale settings indicated the use
  of UTF-8. This feature caused too many problems, so the feature was turned off
  and redesigned: see &quot;Core Enhancements&quot;.
<h2 class="Ss" title="Ss" id="Single-number_v-strings_are_no_longer_v-strings_before_&quot;=&gt;&quot;"><a class="selflink" href="#Single-number_v-strings_are_no_longer_v-strings_before_&quot;=&gt;&quot;">Single-number
  v-strings are no longer v-strings before &quot;=&gt;&quot;</a></h2>
The version strings or v-strings (see &quot;Version Strings&quot; in perldata)
  feature introduced in Perl 5.6.0 has been a source of some confusion--
  especially when the user did not want to use it, but Perl thought it knew
  better. Especially troublesome has been the feature that before a
  &quot;=&gt;&quot; a version string (a &quot;v&quot; followed by digits) has
  been interpreted as a v-string instead of a string literal. In other words:
<div class="Pp"></div>
<pre>
        %h = ( v65 =&gt; 42 );
</pre>
<div class="Pp"></div>
has meant since Perl 5.6.0
<div class="Pp"></div>
<pre>
        %h = ( 'A' =&gt; 42 );
</pre>
<div class="Pp"></div>
(at least in platforms of ASCII progeny) Perl 5.8.1 restores the more natural
  interpretation
<div class="Pp"></div>
<pre>
        %h = ( 'v65' =&gt; 42 );
</pre>
<div class="Pp"></div>
The multi-number v-strings like v65.66 and 65.66.67 still continue to be
  v-strings in Perl 5.8.
<h2 class="Ss" title="Ss" id="(Win32)_The_-C_Switch_Has_Been_Repurposed"><a class="selflink" href="#(Win32)_The_-C_Switch_Has_Been_Repurposed">(Win32)
  The -C Switch Has Been Repurposed</a></h2>
The -C switch has changed in an incompatible way. The old semantics of this
  switch only made sense in Win32 and only in the &quot;use utf8&quot; universe
  in 5.6.x releases, and do not make sense for the Unicode implementation in
  5.8.0. Since this switch could not have been used by anyone, it has been
  repurposed. The behavior that this switch enabled in 5.6.x releases may be
  supported in a transparent, data-dependent fashion in a future release.
<div class="Pp"></div>
For the new life of this switch, see &quot;UTF-8 no longer default under UTF-8
  locales&quot;, and &quot;-C&quot; in perlrun.
<h2 class="Ss" title="Ss" id="(Win32)_The_/d_Switch_Of_cmd.exe"><a class="selflink" href="#(Win32)_The_/d_Switch_Of_cmd.exe">(Win32)
  The /d Switch Of cmd.exe</a></h2>
Perl 5.8.1 uses the /d switch when running the cmd.exe shell internally for
  <i>system()</i>, backticks, and when opening pipes to external programs. The
  extra switch disables the execution of AutoRun commands from the registry,
  which is generally considered undesirable when running external programs. If
  you wish to retain compatibility with the older behavior, set PERL5SHELL in
  your environment to &quot;cmd /x/c&quot;.
<h1 class="Sh" title="Sh" id="Core_Enhancements"><a class="selflink" href="#Core_Enhancements">Core
  Enhancements</a></h1>
<h2 class="Ss" title="Ss" id="UTF-8_no_longer_default_under_UTF-8_locales"><a class="selflink" href="#UTF-8_no_longer_default_under_UTF-8_locales">UTF-8
  no longer default under UTF-8 locales</a></h2>
In Perl 5.8.0 many Unicode features were introduced. One of them was found to be
  of more nuisance than benefit: the automagic (and silent)
  &quot;UTF-8-ification&quot; of filehandles, including the standard
  filehandles, if the user's locale settings indicated use of UTF-8.
<div class="Pp"></div>
For example, if you had &quot;en_US.UTF-8&quot; as your locale, your STDIN and
  STDOUT were automatically &quot;UTF-8&quot;, in other words an implicit
  binmode(..., &quot;:utf8&quot;) was made. This meant that trying to print,
  say, <i>chr</i>(0xff), ended up printing the bytes 0xc3 0xbf. Hardly what you
  had in mind unless you were aware of this feature of Perl 5.8.0. The problem
  is that the vast majority of people weren't: for example in RedHat releases 8
  and 9 the <b>default</b> locale setting is UTF-8, so all RedHat users got
  UTF-8 filehandles, whether they wanted it or not. The pain was intensified by
  the Unicode implementation of Perl 5.8.0 (still) having nasty bugs, especially
  related to the use of s/// and tr///. (Bugs that have been fixed in 5.8.1)
<div class="Pp"></div>
Therefore a decision was made to backtrack the feature and change it from
  implicit silent default to explicit conscious option. The new Perl command
  line option &quot;-C&quot; and its counterpart environment variable
  PERL_UNICODE can now be used to control how Perl and Unicode interact at
  interfaces like I/O and for example the command line arguments. See
  &quot;-C&quot; in perlrun and &quot;PERL_UNICODE&quot; in perlrun for more
  information.
<h2 class="Ss" title="Ss" id="Unsafe_signals_again_available"><a class="selflink" href="#Unsafe_signals_again_available">Unsafe
  signals again available</a></h2>
In Perl 5.8.0 the so-called &quot;safe signals&quot; were introduced. This means
  that Perl no longer handles signals immediately but instead &quot;between
  opcodes&quot;, when it is safe to do so. The earlier immediate handling easily
  could corrupt the internal state of Perl, resulting in mysterious crashes.
<div class="Pp"></div>
However, the new safer model has its problems too. Because now an opcode, a
  basic unit of Perl execution, is never interrupted but instead let to run to
  completion, certain operations that can take a long time now really do take a
  long time. For example, certain network operations have their own blocking and
  timeout mechanisms, and being able to interrupt them immediately would be
  nice.
<div class="Pp"></div>
Therefore perl 5.8.1 introduces a &quot;backdoor&quot; to restore the pre-5.8.0
  (pre-5.7.3, really) signal behaviour. Just set the environment variable
  PERL_SIGNALS to &quot;unsafe&quot;, and the old immediate (and unsafe) signal
  handling behaviour returns. See &quot;PERL_SIGNALS&quot; in perlrun and
  &quot;Deferred Signals (Safe Signals)&quot; in perlipc.
<div class="Pp"></div>
In completely unrelated news, you can now use safe signals with
  POSIX::SigAction. See &quot;POSIX::SigAction&quot; in POSIX.
<h2 class="Ss" title="Ss" id="Tied_Arrays_with_Negative_Array_Indices"><a class="selflink" href="#Tied_Arrays_with_Negative_Array_Indices">Tied
  Arrays with Negative Array Indices</a></h2>
Formerly, the indices passed to &quot;FETCH&quot;, &quot;STORE&quot;,
  &quot;EXISTS&quot;, and &quot;DELETE&quot; methods in tied array class were
  always non-negative. If the actual argument was negative, Perl would call
  FETCHSIZE implicitly and add the result to the index before passing the result
  to the tied array method. This behaviour is now optional. If the tied array
  class contains a package variable named $NEGATIVE_INDICES which is set to a
  true value, negative values will be passed to &quot;FETCH&quot;,
  &quot;STORE&quot;, &quot;EXISTS&quot;, and &quot;DELETE&quot; unchanged.
<h2 class="Ss" title="Ss" id="local_${$x}"><a class="selflink" href="#local_${$x}">local
  ${$x}</a></h2>
The syntaxes
<div class="Pp"></div>
<pre>
        local ${$x}
        local @{$x}
        local %{$x}
</pre>
<div class="Pp"></div>
now do localise variables, given that the $x is a valid variable name.
<h2 class="Ss" title="Ss" id="Unicode_Character_Database_4.0.0"><a class="selflink" href="#Unicode_Character_Database_4.0.0">Unicode
  Character Database 4.0.0</a></h2>
The copy of the Unicode Character Database included in Perl 5.8 has been updated
  to 4.0.0 from 3.2.0. This means for example that the Unicode character
  properties are as in Unicode 4.0.0.
<h2 class="Ss" title="Ss" id="Deprecation_Warnings"><a class="selflink" href="#Deprecation_Warnings">Deprecation
  Warnings</a></h2>
There is one new feature deprecation. Perl 5.8.0 forgot to add some deprecation
  warnings, these warnings have now been added. Finally, a reminder of an
  impending feature removal.
<div class="Pp"></div>
<i>(Reminder) Pseudo-hashes are deprecated (really)</i>
<div class="Pp"></div>
Pseudo-hashes were deprecated in Perl 5.8.0 and will be removed in Perl 5.10.0,
  see perl58delta for details. Each attempt to access pseudo-hashes will trigger
  the warning &quot;Pseudo-hashes are deprecated&quot;. If you really want to
  continue using pseudo-hashes but not to see the deprecation warnings, use:
<div class="Pp"></div>
<pre>
    no warnings 'deprecated';
</pre>
<div class="Pp"></div>
Or you can continue to use the fields pragma, but please don't expect the data
  structures to be pseudohashes any more.
<div class="Pp"></div>
<i>(Reminder) 5.005-style threads are deprecated (really)</i>
<div class="Pp"></div>
5.005-style threads (activated by &quot;use Thread;&quot;) were deprecated in
  Perl 5.8.0 and will be removed after Perl 5.8, see perl58delta for details.
  Each 5.005-style thread creation will trigger the warning &quot;5.005 threads
  are deprecated&quot;. If you really want to continue using the 5.005 threads
  but not to see the deprecation warnings, use:
<div class="Pp"></div>
<pre>
    no warnings 'deprecated';
</pre>
<div class="Pp"></div>
<i>(Reminder) The $* variable is deprecated (really)</i>
<div class="Pp"></div>
The $* variable controlling multi-line matching has been deprecated and will be
  removed after 5.8. The variable has been deprecated for a long time, and a
  deprecation warning &quot;Use of $* is deprecated&quot; is given, now the
  variable will just finally be removed. The functionality has been supplanted
  by the &quot;/s&quot; and &quot;/m&quot; modifiers on pattern matching. If you
  really want to continue using the $*-variable but not to see the deprecation
  warnings, use:
<div class="Pp"></div>
<pre>
    no warnings 'deprecated';
</pre>
<h2 class="Ss" title="Ss" id="Miscellaneous_Enhancements"><a class="selflink" href="#Miscellaneous_Enhancements">Miscellaneous
  Enhancements</a></h2>
&quot;map&quot; in void context is no longer expensive. &quot;map&quot; is now
  context aware, and will not construct a list if called in void context.
<div class="Pp"></div>
If a socket gets closed by the server while printing to it, the client now gets
  a SIGPIPE. While this new feature was not planned, it fell naturally out of
  PerlIO changes, and is to be considered an accidental feature.
<div class="Pp"></div>
PerlIO::get_layers(FH) returns the names of the PerlIO layers active on a
  filehandle.
<div class="Pp"></div>
PerlIO::via layers can now have an optional UTF8 method to indicate whether the
  layer wants to &quot;auto-:utf8&quot; the stream.
<div class="Pp"></div>
<i>utf8::is_utf8()</i> has been added as a quick way to test whether a scalar is
  encoded internally in UTF-8 (Unicode).
<h1 class="Sh" title="Sh" id="Modules_and_Pragmata"><a class="selflink" href="#Modules_and_Pragmata">Modules
  and Pragmata</a></h1>
<h2 class="Ss" title="Ss" id="Updated_Modules_And_Pragmata"><a class="selflink" href="#Updated_Modules_And_Pragmata">Updated
  Modules And Pragmata</a></h2>
The following modules and pragmata have been updated since Perl 5.8.0:
<dl class="Bl-tag">
  <dt class="It-tag">base</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">B::Bytecode</dt>
  <dd class="It-tag">In much better shape than it used to be. Still far from
      perfect, but maybe worth a try.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">B::Concise</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">B::Deparse</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Benchmark</dt>
  <dd class="It-tag">An optional feature, &quot;:hireswallclock&quot;, now
      allows for high resolution wall clock times (uses Time::HiRes).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ByteLoader</dt>
  <dd class="It-tag">See B::Bytecode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">bytes</dt>
  <dd class="It-tag">Now has bytes::substr.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">CGI</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">charnames</dt>
  <dd class="It-tag">One can now have custom character name aliases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">CPAN</dt>
  <dd class="It-tag">There is now a simple command line frontend to the CPAN.pm
      module called <i>cpan</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Data::Dumper</dt>
  <dd class="It-tag">A new option, Pair, allows choosing the separator between
      hash keys and values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">DB_File</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Devel::PPPort</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Digest::MD5</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Encode</dt>
  <dd class="It-tag">Significant updates on the encoding pragma functionality
      (tr/// and the DATA filehandle, formats).
    <div style="height: 1.00em;">&#x00A0;</div>
    If a filehandle has been marked as to have an encoding, unmappable
      characters are detected already during input, not later (when the
      corrupted data is being used).
    <div style="height: 1.00em;">&#x00A0;</div>
    The ISO 8859-6 conversion table has been corrected (the 0x30..0x39
      erroneously mapped to U+0660..U+0669, instead of U+0030..U+0039). The GSM
      03.38 conversion did not handle escape sequences correctly. The UTF-7
      encoding has been added (making Encode feature-complete with
      Unicode::String).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">fields</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">libnet</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Math::BigInt</dt>
  <dd class="It-tag">A lot of bugs have been fixed since v1.60, the version
      included in Perl v5.8.0. Especially noteworthy are the bug in Calc that
      caused div and mod to fail for some large values, and the fixes to the
      handling of bad inputs.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some new features were added, e.g. the <i>broot()</i> method, you can now
      pass parameters to <i>config()</i> to change some settings at runtime, and
      it is now possible to trap the creation of NaN and infinity.
    <div style="height: 1.00em;">&#x00A0;</div>
    As usual, some optimizations took place and made the math overall a tad
      faster. In some cases, quite a lot faster, actually. Especially
      alternative libraries like Math::BigInt::GMP benefit from this. In
      addition, a lot of the quite clunky routines like <i>fsqrt()</i> and
      <i>flog()</i> are now much much faster.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">MIME::Base64</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">NEXT</dt>
  <dd class="It-tag">Diamond inheritance now works.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Net::Ping</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">PerlIO::scalar</dt>
  <dd class="It-tag">Reading from non-string scalars (like the special
      variables, see perlvar) now works.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">podlators</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Pod::LaTeX</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">PodParsers</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Pod::Perldoc</dt>
  <dd class="It-tag">Complete rewrite. As a side-effect, no longer refuses to
      startup when run by root.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Scalar::Util</dt>
  <dd class="It-tag">New utilities: refaddr, isvstring, looks_like_number,
      set_prototype.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Storable</dt>
  <dd class="It-tag">Can now store code references (via B::Deparse, so not
      foolproof).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">strict</dt>
  <dd class="It-tag">Earlier versions of the strict pragma did not check the
      parameters implicitly passed to its &quot;import&quot; (use) and
      &quot;unimport&quot; (no) routine. This caused the false idiom such as:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
        use strict qw(@ISA);
        @ISA = qw(Foo);
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    This however (probably) raised the false expectation that the strict refs,
      vars and subs were being enforced (and that @ISA was somehow
      &quot;declared&quot;). But the strict refs, vars, and subs are <b>not</b>
      enforced when using this false idiom.
    <div style="height: 1.00em;">&#x00A0;</div>
    Starting from Perl 5.8.1, the above <b>will</b> cause an error to be raised.
      This may cause programs which used to execute seemingly correctly without
      warnings and errors to fail when run under 5.8.1. This happens because
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
        use strict qw(@ISA);
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    will now fail with the error:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
        Unknown 'strict' tag(s) '@ISA'
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The remedy to this problem is to replace this code with the correct idiom:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
        use strict;
        use vars qw(@ISA);
        @ISA = qw(Foo);
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Term::ANSIcolor</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Test::Harness</dt>
  <dd class="It-tag">Now much more picky about extra or missing output from test
      scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Test::More</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Test::Simple</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Text::Balanced</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Time::HiRes</dt>
  <dd class="It-tag">Use of <i>nanosleep()</i>, if available, allows mixing
      subsecond sleeps with alarms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">threads</dt>
  <dd class="It-tag">Several fixes, for example for <i>join()</i> problems and
      memory leaks. In some platforms (like Linux) that use glibc the minimum
      memory footprint of one ithread has been reduced by several hundred
      kilobytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">threads::shared</dt>
  <dd class="It-tag">Many memory leaks have been fixed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Unicode::Collate</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Unicode::Normalize</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Win32::GetFolderPath</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Win32::GetOSVersion</dt>
  <dd class="It-tag">Now returns extra information.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Utility_Changes"><a class="selflink" href="#Utility_Changes">Utility
  Changes</a></h1>
The &quot;h2xs&quot; utility now produces a more modern layout:
  <i>Foo-Bar/lib/Foo/Bar.pm</i> instead of <i>Foo/Bar/Bar.pm</i>. Also, the
  boilerplate test is now called <i>t/Foo-Bar.t</i> instead of <i>t/1.t</i>.
<div class="Pp"></div>
The Perl debugger ( <i>lib/perl5db.pl</i>) has now been extensively documented
  and bugs found while documenting have been fixed.
<div class="Pp"></div>
&quot;perldoc&quot; has been rewritten from scratch to be more robust and
  feature rich.
<div class="Pp"></div>
&quot;perlcc -B&quot; works now at least somewhat better, while &quot;perlcc
  -c&quot; is rather more broken. (The Perl compiler suite as a whole continues
  to be experimental.)
<h1 class="Sh" title="Sh" id="New_Documentation"><a class="selflink" href="#New_Documentation">New
  Documentation</a></h1>
perl573delta has been added to list the differences between the (now quite
  obsolete) development releases 5.7.2 and 5.7.3.
<div class="Pp"></div>
perl58delta has been added: it is the perldelta of 5.8.0, detailing the
  differences between 5.6.0 and 5.8.0.
<div class="Pp"></div>
perlartistic has been added: it is the Artistic License in pod format, making it
  easier for modules to refer to it.
<div class="Pp"></div>
perlcheat has been added: it is a Perl cheat sheet.
<div class="Pp"></div>
perlgpl has been added: it is the GNU General Public License in pod format,
  making it easier for modules to refer to it.
<div class="Pp"></div>
perlmacosx has been added to tell about the installation and use of Perl in Mac
  OS X.
<div class="Pp"></div>
perlos400 has been added to tell about the installation and use of Perl in
  OS/400 PASE.
<div class="Pp"></div>
perlreref has been added: it is a regular expressions quick reference.
<h1 class="Sh" title="Sh" id="Installation_and_Configuration_Improvements"><a class="selflink" href="#Installation_and_Configuration_Improvements">Installation
  and Configuration Improvements</a></h1>
The Unix standard Perl location, <i>/usr/bin/perl</i>, is no longer overwritten
  by default if it exists. This change was very prudent because so many Unix
  vendors already provide a <i>/usr/bin/perl</i>, but simultaneously many system
  utilities may depend on that exact version of Perl, so better not to overwrite
  it.
<div class="Pp"></div>
One can now specify installation directories for site and vendor man and HTML
  pages, and site and vendor scripts. See <i>INSTALL</i>.
<div class="Pp"></div>
One can now specify a destination directory for Perl installation by specifying
  the DESTDIR variable for &quot;make install&quot;. (This feature is slightly
  different from the previous &quot;Configure -Dinstallprefix=...&quot;.) See
  <i>INSTALL</i>.
<div class="Pp"></div>
gcc versions 3.x introduced a new warning that caused a lot of noise during Perl
  compilation: &quot;gcc -Ialreadyknowndirectory (warning: changing search
  order)&quot;. This warning has now been avoided by Configure weeding out such
  directories before the compilation.
<div class="Pp"></div>
One can now build subsets of Perl core modules by using the Configure flags
  &quot;-Dnoextensions=...&quot; and &quot;-Donlyextensions=...&quot;, see
  <i>INSTALL</i>.
<h2 class="Ss" title="Ss" id="Platform-specific_enhancements"><a class="selflink" href="#Platform-specific_enhancements">Platform-specific
  enhancements</a></h2>
In Cygwin Perl can now be built with threads (&quot;Configure
  -Duseithreads&quot;). This works with both Cygwin 1.3.22 and Cygwin 1.5.3.
<div class="Pp"></div>
In newer FreeBSD releases Perl 5.8.0 compilation failed because of trying to use
  <i>malloc.h</i>, which in FreeBSD is just a dummy file, and a fatal error to
  even try to use. Now <i>malloc.h</i> is not used.
<div class="Pp"></div>
Perl is now known to build also in Hitachi HI-UXMPP.
<div class="Pp"></div>
Perl is now known to build again in LynxOS.
<div class="Pp"></div>
Mac OS X now installs with Perl version number embedded in installation
  directory names for easier upgrading of user-compiled Perl, and the
  installation directories in general are more standard. In other words, the
  default installation no longer breaks the Apple-provided Perl. On the other
  hand, with &quot;Configure -Dprefix=/usr&quot; you can now really replace the
  Apple-supplied Perl ( <b>please be careful</b>).
<div class="Pp"></div>
Mac OS X now builds Perl statically by default. This change was done mainly for
  faster startup times. The Apple-provided Perl is still dynamically linked and
  shared, and you can enable the sharedness for your own Perl builds by
  &quot;Configure -Duseshrplib&quot;.
<div class="Pp"></div>
Perl has been ported to IBM's OS/400 PASE environment. The best way to build a
  Perl for PASE is to use an AIX host as a cross-compilation environment. See
  README.os400.
<div class="Pp"></div>
Yet another cross-compilation option has been added: now Perl builds on
  OpenZaurus, an Linux distribution based on Mandrake + Embedix for the Sharp
  Zaurus PDA. See the Cross/README file.
<div class="Pp"></div>
Tru64 when using gcc 3 drops the optimisation for <i>toke.c</i> to
  &quot;-O2&quot; because of gigantic memory use with the default
  &quot;-O3&quot;.
<div class="Pp"></div>
Tru64 can now build Perl with the newer Berkeley DBs.
<div class="Pp"></div>
Building Perl on WinCE has been much enhanced, see <i>README.ce</i> and
  <i>README.perlce</i>.
<h1 class="Sh" title="Sh" id="Selected_Bug_Fixes"><a class="selflink" href="#Selected_Bug_Fixes">Selected
  Bug Fixes</a></h1>
<h2 class="Ss" title="Ss" id="Closures,_eval_and_lexicals"><a class="selflink" href="#Closures,_eval_and_lexicals">Closures,
  eval and lexicals</a></h2>
There have been many fixes in the area of anonymous subs, lexicals and closures.
  Although this means that Perl is now more &quot;correct&quot;, it is possible
  that some existing code will break that happens to rely on the faulty
  behaviour. In practice this is unlikely unless your code contains a very
  complex nesting of anonymous subs, evals and lexicals.
<h2 class="Ss" title="Ss" id="Generic_fixes"><a class="selflink" href="#Generic_fixes">Generic
  fixes</a></h2>
If an input filehandle is marked &quot;:utf8&quot; and Perl sees illegal UTF-8
  coming in when doing &quot;&lt;FH&gt;&quot;, if warnings are enabled a warning
  is immediately given - instead of being silent about it and Perl being unhappy
  about the broken data later. (The &quot;:encoding(utf8)&quot; layer also works
  the same way.)
<div class="Pp"></div>
binmode(SOCKET, &quot;:utf8&quot;) only worked on the input side, not on the
  output side of the socket. Now it works both ways.
<div class="Pp"></div>
For threaded Perls certain system database functions like <i>getpwent()</i> and
  <i>getgrent()</i> now grow their result buffer dynamically, instead of
  failing. This means that at sites with lots of users and groups the functions
  no longer fail by returning only partial results.
<div class="Pp"></div>
Perl 5.8.0 had accidentally broken the capability for users to define their own
  uppercase&lt;-&gt;lowercase Unicode mappings (as advertised by the Camel).
  This feature has been fixed and is also documented better.
<div class="Pp"></div>
In 5.8.0 this
<div class="Pp"></div>
<pre>
        $some_unicode .= &lt;FH&gt;;
</pre>
<div class="Pp"></div>
didn't work correctly but instead corrupted the data. This has now been fixed.
<div class="Pp"></div>
Tied methods like FETCH etc. may now safely access tied values, i.e. resulting
  in a recursive call to FETCH etc. Remember to break the recursion, though.
<div class="Pp"></div>
At startup Perl blocks the SIGFPE signal away since there isn't much Perl can do
  about it. Previously this blocking was in effect also for programs executed
  from within Perl. Now Perl restores the original SIGFPE handling routine,
  whatever it was, before running external programs.
<div class="Pp"></div>
Linenumbers in Perl scripts may now be greater than 65536, or 2**16. (Perl
  scripts have always been able to be larger than that, it's just that the
  linenumber for reported errors and warnings have &quot;wrapped around&quot;.)
  While scripts that large usually indicate a need to rethink your code a bit,
  such Perl scripts do exist, for example as results from generated code. Now
  linenumbers can go all the way to 4294967296, or 2**32.
<h2 class="Ss" title="Ss" id="Platform-specific_fixes"><a class="selflink" href="#Platform-specific_fixes">Platform-specific
  fixes</a></h2>
Linux
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Setting $0 works again (with certain limitations that Perl
      cannot do much about: see &quot;$0&quot; in perlvar)</dd>
</dl>
<div class="Pp"></div>
HP-UX
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Setting $0 now works.</dd>
</dl>
<div class="Pp"></div>
VMS
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Configuration now tests for the presence of
      &quot;poll()&quot;, and IO::Poll now uses the vendor-supplied function if
      detected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A rare access violation at Perl start-up could occur if the
      Perl image was installed with privileges or if there was an identifier
      with the subsystem attribute set in the process's rightslist. Either of
      these circumstances triggered tainting code that contained a pointer bug.
      The faulty pointer arithmetic has been fixed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The length limit on values (not keys) in the %ENV hash has
      been raised from 255 bytes to 32640 bytes (except when the PERL_ENV_TABLES
      setting overrides the default use of logical names for %ENV). If it is
      necessary to access these long values from outside Perl, be aware that
      they are implemented using search list logical names that store the value
      in pieces, each 255-byte piece (up to 128 of them) being an element in the
      search list. When doing a lookup in %ENV from within Perl, the elements
      are combined into a single value. The existing VMS-specific ability to
      access individual elements of a search list logical name via the
      $ENV{'foo;N'} syntax (where N is the search list index) is
    unimpaired.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The piping implementation now uses local rather than global
      DCL symbols for inter-process communication.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">File::Find could become confused when navigating to a
      relative directory whose name collided with a logical name. This problem
      has been corrected by adding directory syntax to relative path names, thus
      preventing logical name translation.</dd>
</dl>
<div class="Pp"></div>
Win32
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A memory leak in the <i>fork()</i> emulation has been
      fixed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The return value of the <i>ioctl()</i> built-in function
      was accidentally broken in 5.8.0. This has been corrected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The internal message loop executed by perl during blocking
      operations sometimes interfered with messages that were external to Perl.
      This often resulted in blocking operations terminating prematurely or
      returning incorrect results, when Perl was executing under environments
      that could generate Windows messages. This has been corrected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Pipes and sockets are now automatically in binary
    mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The four-argument form of <i>select()</i> did not preserve
      $! (errno) properly when there were errors in the underlying call. This is
      now fixed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The &quot;CR CR LF&quot; problem of has been fixed,
      binmode(FH, &quot;:crlf&quot;) is now effectively a no-op.</dd>
</dl>
<h1 class="Sh" title="Sh" id="New_or_Changed_Diagnostics"><a class="selflink" href="#New_or_Changed_Diagnostics">New
  or Changed Diagnostics</a></h1>
All the warnings related to <i>pack()</i> and <i>unpack()</i> were made more
  informative and consistent.
<h2 class="Ss" title="Ss" id="Changed_&quot;A_thread_exited_while_%d_threads_were_running&quot;"><a class="selflink" href="#Changed_&quot;A_thread_exited_while_%d_threads_were_running&quot;">Changed
  &quot;A thread exited while %d threads were running&quot;</a></h2>
The old version
<div class="Pp"></div>
<pre>
    A thread exited while %d other threads were still running
</pre>
<div class="Pp"></div>
was misleading because the &quot;other&quot; included also the thread giving the
  warning.
<h2 class="Ss" title="Ss" id="Removed_&quot;Attempt_to_clear_a_restricted_hash&quot;"><a class="selflink" href="#Removed_&quot;Attempt_to_clear_a_restricted_hash&quot;">Removed
  &quot;Attempt to clear a restricted hash&quot;</a></h2>
It is not illegal to clear a restricted hash, so the warning was removed.
<h2 class="Ss" title="Ss" id="New_&quot;Illegal_declaration_of_anonymous_subroutine&quot;"><a class="selflink" href="#New_&quot;Illegal_declaration_of_anonymous_subroutine&quot;">New
  &quot;Illegal declaration of anonymous subroutine&quot;</a></h2>
You must specify the block of code for &quot;sub&quot;.
<h2 class="Ss" title="Ss" id="Changed_&quot;Invalid_range_&quot;%s&quot;_in_transliteration_operator&quot;"><a class="selflink" href="#Changed_&quot;Invalid_range_&quot;%s&quot;_in_transliteration_operator&quot;">Changed
  &quot;Invalid range &quot;%s&quot; in transliteration operator&quot;</a></h2>
The old version
<div class="Pp"></div>
<pre>
    Invalid [] range &quot;%s&quot; in transliteration operator
</pre>
<div class="Pp"></div>
was simply wrong because there are no &quot;[] ranges&quot; in tr///.
<h2 class="Ss" title="Ss" id="New_&quot;Missing_control_char_name_in_\c&quot;"><a class="selflink" href="#New_&quot;Missing_control_char_name_in_\c&quot;">New
  &quot;Missing control char name in \c&quot;</a></h2>
Self-explanatory.
<h2 class="Ss" title="Ss" id="New_&quot;Newline_in_left-justified_string_for_%s&quot;"><a class="selflink" href="#New_&quot;Newline_in_left-justified_string_for_%s&quot;">New
  &quot;Newline in left-justified string for %s&quot;</a></h2>
The padding spaces would appear after the newline, which is probably not what
  you had in mind.
<h2 class="Ss" title="Ss" id="New_&quot;Possible_precedence_problem_on_bitwise_%c_operator&quot;"><a class="selflink" href="#New_&quot;Possible_precedence_problem_on_bitwise_%c_operator&quot;">New
  &quot;Possible precedence problem on bitwise %c operator&quot;</a></h2>
If you think this
<div class="Pp"></div>
<pre>
    $x &amp; $y == 0
</pre>
<div class="Pp"></div>
tests whether the bitwise AND of $x and $y is zero, you will like this warning.
<h2 class="Ss" title="Ss" id="New_&quot;Pseudo-hashes_are_deprecated&quot;"><a class="selflink" href="#New_&quot;Pseudo-hashes_are_deprecated&quot;">New
  &quot;Pseudo-hashes are deprecated&quot;</a></h2>
This warning should have been already in 5.8.0, since they are.
<h2 class="Ss" title="Ss" id="New_&quot;read()_on_%s_filehandle_%s&quot;"><a class="selflink" href="#New_&quot;read()_on_%s_filehandle_%s&quot;">New
  &quot; <i>read()</i> on %s filehandle %s&quot;</a></h2>
You cannot <i>read()</i> (or <i>sysread()</i>) from a closed or unopened
  filehandle.
<h2 class="Ss" title="Ss" id="New_&quot;5.005_threads_are_deprecated&quot;"><a class="selflink" href="#New_&quot;5.005_threads_are_deprecated&quot;">New
  &quot;5.005 threads are deprecated&quot;</a></h2>
This warning should have been already in 5.8.0, since they are.
<h2 class="Ss" title="Ss" id="New_&quot;Tied_variable_freed_while_still_in_use&quot;"><a class="selflink" href="#New_&quot;Tied_variable_freed_while_still_in_use&quot;">New
  &quot;Tied variable freed while still in use&quot;</a></h2>
Something pulled the plug on a live tied variable, Perl plays safe by bailing
  out.
<h2 class="Ss" title="Ss" id="New_&quot;To%s:_illegal_mapping_'%s'&quot;"><a class="selflink" href="#New_&quot;To%s:_illegal_mapping_'%s'&quot;">New
  &quot;To%s: illegal mapping '%s'&quot;</a></h2>
An illegal user-defined Unicode casemapping was specified.
<h2 class="Ss" title="Ss" id="New_&quot;Use_of_freed_value_in_iteration&quot;"><a class="selflink" href="#New_&quot;Use_of_freed_value_in_iteration&quot;">New
  &quot;Use of freed value in iteration&quot;</a></h2>
Something modified the values being iterated over. This is not good.
<h1 class="Sh" title="Sh" id="Changed_Internals"><a class="selflink" href="#Changed_Internals">Changed
  Internals</a></h1>
These news matter to you only if you either write XS code or like to know about
  or hack Perl internals (using Devel::Peek or any of the &quot;B::&quot;
  modules counts), or like to run Perl with the &quot;-D&quot; option.
<div class="Pp"></div>
The embedding examples of perlembed have been reviewed to be up to date and
  consistent: for example, the correct use of <i>PERL_SYS_INIT3()</i> and
  <i>PERL_SYS_TERM()</i>.
<div class="Pp"></div>
Extensive reworking of the pad code (the code responsible for lexical variables)
  has been conducted by Dave Mitchell.
<div class="Pp"></div>
Extensive work on the v-strings by John Peacock.
<div class="Pp"></div>
UTF-8 length and position cache: to speed up the handling of Unicode (UTF-8)
  scalars, a cache was introduced. Potential problems exist if an extension
  bypasses the official APIs and directly modifies the PV of an SV: the UTF-8
  cache does not get cleared as it should.
<div class="Pp"></div>
APIs obsoleted in Perl 5.8.0, like sv_2pv, sv_catpvn, sv_catsv, sv_setsv, are
  again available.
<div class="Pp"></div>
Certain Perl core C APIs like cxinc and regatom are no longer available at all
  to code outside the Perl core of the Perl core extensions. This is
  intentional. They never should have been available with the shorter names, and
  if you application depends on them, you should (be ashamed and) contact
  perl5-porters to discuss what are the proper APIs.
<div class="Pp"></div>
Certain Perl core C APIs like &quot;Perl_list&quot; are no longer available
  without their &quot;Perl_&quot; prefix. If your XS module stops working
  because some functions cannot be found, in many cases a simple fix is to add
  the &quot;Perl_&quot; prefix to the function and the thread context
  &quot;aTHX_&quot; as the first argument of the function call. This is also how
  it should always have been done: letting the Perl_-less forms to leak from the
  core was an accident. For cleaner embedding you can also force this for all
  APIs by defining at compile time the cpp define PERL_NO_SHORT_NAMES.
<div class="Pp"></div>
<i>Perl_save_bool()</i> has been added.
<div class="Pp"></div>
Regexp objects (those created with &quot;qr&quot;) now have S-magic rather than
  R-magic. This fixed regexps of the form /...(??{...;$x})/ to no longer ignore
  changes made to $x. The S-magic avoids dropping the caching optimization and
  making (??{...}) constructs obscenely slow (and consequently useless). See
  also &quot;Magic Variables&quot; in perlguts. Regexp::Copy was affected by
  this change.
<div class="Pp"></div>
The Perl internal debugging macros <i>DEBUG()</i> and <i>DEB()</i> have been
  renamed to <i>PERL_DEBUG()</i> and <i>PERL_DEB()</i> to avoid namespace
  conflicts.
<div class="Pp"></div>
&quot;-DL&quot; removed (the leaktest had been broken and unsupported for years,
  use alternative debugging mallocs or tools like valgrind and Purify).
<div class="Pp"></div>
Verbose modifier &quot;v&quot; added for &quot;-DXv&quot; and &quot;-Dsv&quot;,
  see perlrun.
<h1 class="Sh" title="Sh" id="New_Tests"><a class="selflink" href="#New_Tests">New
  Tests</a></h1>
In Perl 5.8.0 there were about 69000 separate tests in about 700 test files, in
  Perl 5.8.1 there are about 77000 separate tests in about 780 test files. The
  exact numbers depend on the Perl configuration and on the operating system
  platform.
<h1 class="Sh" title="Sh" id="Known_Problems"><a class="selflink" href="#Known_Problems">Known
  Problems</a></h1>
The hash randomisation mentioned in &quot;Incompatible Changes&quot; is
  definitely problematic: it will wake dormant bugs and shake out bad
  assumptions.
<div class="Pp"></div>
If you want to use mod_perl 2.x with Perl 5.8.1, you will need mod_perl-1.99_10
  or higher. Earlier versions of mod_perl 2.x do not work with the randomised
  hashes. (mod_perl 1.x works fine.) You will also need Apache::Test 1.04 or
  higher.
<div class="Pp"></div>
Many of the rarer platforms that worked 100% or pretty close to it with perl
  5.8.0 have been left a little bit untended since their maintainers have been
  otherwise busy lately, and therefore there will be more failures on those
  platforms. Such platforms include Mac OS Classic, IBM z/OS (and other EBCDIC
  platforms), and NetWare. The most common Perl platforms (Unix and Unix-like,
  Microsoft platforms, and VMS) have large enough testing and expert population
  that they are doing well.
<h2 class="Ss" title="Ss" id="Tied_hashes_in_scalar_context"><a class="selflink" href="#Tied_hashes_in_scalar_context">Tied
  hashes in scalar context</a></h2>
Tied hashes do not currently return anything useful in scalar context, for
  example when used as boolean tests:
<div class="Pp"></div>
<pre>
        if (%tied_hash) { ... }
</pre>
<div class="Pp"></div>
The current nonsensical behaviour is always to return false, regardless of
  whether the hash is empty or has elements.
<div class="Pp"></div>
The root cause is that there is no interface for the implementors of tied hashes
  to implement the behaviour of a hash in scalar context.
<h2 class="Ss" title="Ss" id="Net::Ping_450_service_and_510_ping_udp_failures"><a class="selflink" href="#Net::Ping_450_service_and_510_ping_udp_failures">Net::Ping
  450_service and 510_ping_udp failures</a></h2>
The subtests 9 and 18 of lib/Net/Ping/t/450_service.t, and the subtest 2 of
  lib/Net/Ping/t/510_ping_udp.t might fail if you have an unusual networking
  setup. For example in the latter case the test is trying to send a UDP ping to
  the IP address 127.0.0.1.
<h2 class="Ss" title="Ss" id="B::C"><a class="selflink" href="#B::C">B::C</a></h2>
The C-generating compiler backend B::C (the frontend being &quot;perlcc
  -c&quot;) is even more broken than it used to be because of the extensive
  lexical variable changes. (The good news is that B::Bytecode and ByteLoader
  are better than they used to be.)
<h1 class="Sh" title="Sh" id="Platform_Specific_Problems"><a class="selflink" href="#Platform_Specific_Problems">Platform
  Specific Problems</a></h1>
<h2 class="Ss" title="Ss" id="EBCDIC_Platforms"><a class="selflink" href="#EBCDIC_Platforms">EBCDIC
  Platforms</a></h2>
IBM z/OS and other EBCDIC platforms continue to be problematic regarding Unicode
  support. Many Unicode tests are skipped when they really should be fixed.
<h2 class="Ss" title="Ss" id="Cygwin_1.5_problems"><a class="selflink" href="#Cygwin_1.5_problems">Cygwin
  1.5 problems</a></h2>
In Cygwin 1.5 the <i>io/tell</i> and <i>op/sysio</i> tests have failures for
  some yet unknown reason. In 1.5.5 the threads tests stress_cv, stress_re, and
  stress_string are failing unless the environment variable PERLIO is set to
  &quot;perlio&quot; (which makes also the io/tell failure go away).
<div class="Pp"></div>
Perl 5.8.1 does build and work well with Cygwin 1.3: with (uname -a)
  &quot;CYGWIN_NT-5.0 ... 1.3.22(0.78/3/2) 2003-03-18 09:20 i686 ...&quot; a
  100% &quot;make test&quot; was achieved with &quot;Configure -des
  -Duseithreads&quot;.
<h2 class="Ss" title="Ss" id="HP-UX:_HP_cc_warnings_about_sendfile_and_sendpath"><a class="selflink" href="#HP-UX:_HP_cc_warnings_about_sendfile_and_sendpath">HP-UX:
  HP cc warnings about sendfile and sendpath</a></h2>
With certain HP C compiler releases (e.g. B.11.11.02) you will get many warnings
  like this (lines wrapped for easier reading):
<div class="Pp"></div>
<pre>
  cc: &quot;/usr/include/sys/socket.h&quot;, line 504: warning 562:
    Redeclaration of &quot;sendfile&quot; with a different storage class specifier:
      &quot;sendfile&quot; will have internal linkage.
  cc: &quot;/usr/include/sys/socket.h&quot;, line 505: warning 562:
    Redeclaration of &quot;sendpath&quot; with a different storage class specifier:
      &quot;sendpath&quot; will have internal linkage.
</pre>
<div class="Pp"></div>
The warnings show up both during the build of Perl and during certain
  lib/ExtUtils tests that invoke the C compiler. The warning, however, is not
  serious and can be ignored.
<h2 class="Ss" title="Ss" id="IRIX:_t/uni/tr_7jis.t_falsely_failing"><a class="selflink" href="#IRIX:_t/uni/tr_7jis.t_falsely_failing">IRIX:
  t/uni/tr_7jis.t falsely failing</a></h2>
The test t/uni/tr_7jis.t is known to report failure under 'make test' or the
  test harness with certain releases of IRIX (at least IRIX 6.5 and MIPSpro
  Compilers Version 7.3.1.1m), but if run manually the test fully passes.
<h2 class="Ss" title="Ss" id="Mac_OS_X:_no_usemymalloc"><a class="selflink" href="#Mac_OS_X:_no_usemymalloc">Mac
  OS X: no usemymalloc</a></h2>
The Perl malloc (&quot;-Dusemymalloc&quot;) does not work at all in Mac OS X.
  This is not that serious, though, since the native malloc works just fine.
<h2 class="Ss" title="Ss" id="Tru64:_No_threaded_builds_with_GNU_cc_(gcc)"><a class="selflink" href="#Tru64:_No_threaded_builds_with_GNU_cc_(gcc)">Tru64:
  No threaded builds with GNU cc (gcc)</a></h2>
In the latest Tru64 releases (e.g. v5.1B or later) gcc cannot be used to compile
  a threaded Perl (-Duseithreads) because the system
  &quot;&lt;pthread.h&gt;&quot; file doesn't know about gcc.
<h2 class="Ss" title="Ss" id="Win32:_sysopen,_sysread,_syswrite"><a class="selflink" href="#Win32:_sysopen,_sysread,_syswrite">Win32:
  sysopen, sysread, syswrite</a></h2>
As of the 5.8.0 release, <i>sysopen()</i>/<i>sysread()</i>/<i>syswrite()</i> do
  not behave like they used to in 5.6.1 and earlier with respect to
  &quot;text&quot; mode. These built-ins now always operate in
  &quot;binary&quot; mode (even if <i>sysopen()</i> was passed the O_TEXT flag,
  or if <i>binmode()</i> was used on the file handle). Note that this issue
  should only make a difference for disk files, as sockets and pipes have always
  been in &quot;binary&quot; mode in the Windows port. As this behavior is
  currently considered a bug, compatible behavior may be re-introduced in a
  future release. Until then, the use of <i>sysopen()</i>, <i>sysread()</i> and
  <i>syswrite()</i> is not supported for &quot;text&quot; mode operations.
<h1 class="Sh" title="Sh" id="Future_Directions"><a class="selflink" href="#Future_Directions">Future
  Directions</a></h1>
The following things <b>might</b> happen in future. The first publicly available
  releases having these characteristics will be the developer releases Perl
  5.9.x, culminating in the Perl 5.10.0 release. These are our best guesses at
  the moment: we reserve the right to rethink.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">PerlIO will become The Default. Currently (in Perl 5.8.x)
      the stdio library is still used if Perl thinks it can use certain tricks
      to make stdio go <b>really</b> fast. For future releases our goal is to
      make PerlIO go even faster.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A new feature called <i>assertions</i> will be available.
      This means that one can have code called assertions sprinkled in the code:
      usually they are optimised away, but they can be enabled with the
      &quot;-A&quot; option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A new operator &quot;//&quot; (defined-or) will be
      available. This means that one will be able to say
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    $a // $b
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    instead of
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
   defined $a ? $a : $b
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    and
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
   $c //= $d;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    instead of
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
   $c = $d unless defined $c;
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The operator will have the same precedence and associativity as
      &quot;||&quot;. A source code patch against the Perl 5.8.1 sources will be
      available in CPAN as <i>authors/id/H/HM/HMBRAND/dor-5.8.1.diff</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;unpack()&quot; will default to unpacking the $_.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Various Copy-On-Write techniques will be investigated in
      hopes of speeding up Perl.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">CPANPLUS, Inline, and Module::Build will become core
      modules.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The ability to write true lexically scoped pragmas will be
      introduced.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Work will continue on the bytecompiler and byteloader.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">v-strings as they currently exist are scheduled to be
      deprecated. The v-less form (1.2.3) will become a &quot;version
      object&quot; when used with &quot;use&quot;, &quot;require&quot;, and
      $VERSION. $^V will also be a &quot;version object&quot; so the
      printf(&quot;%vd&quot;,...) construct will no longer be needed. The v-ful
      version (v1.2.3) will become obsolete. The equivalence of strings and
      v-strings (e.g. that currently 5.8.0 is equal to &quot;\5\8\0&quot;) will
      go away. <b>There may be no</b> <b>deprecation warning for v-strings</b>,
      though: it is quite hard to detect when v-strings are being used safely,
      and when they are not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">5.005 Threads Will Be Removed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The $* Variable Will Be Removed (it was deprecated a long
      time ago)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Pseudohashes Will Be Removed</dd>
</dl>
<h1 class="Sh" title="Sh" id="Reporting_Bugs"><a class="selflink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
If you find what you think is a bug, you might check the articles recently
  posted to the comp.lang.perl.misc newsgroup and the perl bug database at
  http://bugs.perl.org/ . There may also be information at http://www.perl.com/
  , the Perl Home Page.
<div class="Pp"></div>
If you believe you have an unreported bug, please run the <b>perlbug</b> program
  included with your release. Be sure to trim your bug down to a tiny but
  sufficient test case. Your bug report, along with the output of &quot;perl
  -V&quot;, will be sent off to perlbug@perl.org to be analysed by the Perl
  porting team. You can browse and search the Perl 5 bugs at
  http://bugs.perl.org/
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The <i>Changes</i> file for exhaustive details on what changed.
<div class="Pp"></div>
The <i>INSTALL</i> file for how to build Perl.
<div class="Pp"></div>
The <i>README</i> file for general stuff.
<div class="Pp"></div>
The <i>Artistic</i> and <i>Copying</i> files for copyright information.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-02-26</td>
    <td class="foot-os">perl v5.16.3</td>
  </tr>
</table>
</body>
</html>
