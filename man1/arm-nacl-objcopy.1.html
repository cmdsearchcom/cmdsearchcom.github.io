<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:52:03 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OBJCOPY(1) GNU Development Tools OBJCOPY(1)</p>

<p style="margin-top: 1em">NAME <br>
objcopy - copy and translate object files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
objcopy [-F bfdname|--target=bfdname] <br>
[-I bfdname|--input-target=bfdname] <br>
[-O bfdname|--output-target=bfdname] <br>
[-B bfdarch|--binary-architecture=bfdarch] <br>
[-S|--strip-all] <br>
[-g|--strip-debug] <br>
[-K symbolname|--keep-symbol=symbolname] <br>
[-N symbolname|--strip-symbol=symbolname] <br>
[--strip-unneeded-symbol=symbolname] <br>
[-G symbolname|--keep-global-symbol=symbolname] <br>
[--localize-hidden] <br>
[-L symbolname|--localize-symbol=symbolname] <br>
[--globalize-symbol=symbolname] <br>
[-W symbolname|--weaken-symbol=symbolname] <br>
[-w|--wildcard] <br>
[-x|--discard-all] <br>
[-X|--discard-locals] <br>
[-b byte|--byte=byte] <br>
[-i [breadth]|--interleave[=breadth]] <br>
[--interleave-width=width] <br>
[-j sectionpattern|--only-section=sectionpattern] <br>
[-R sectionpattern|--remove-section=sectionpattern] <br>
[-p|--preserve-dates] <br>
[-D|--enable-deterministic-archives] <br>
[-U|--disable-deterministic-archives] <br>
[--debugging] <br>
[--gap-fill=val] <br>
[--pad-to=address] <br>
[--set-start=val] <br>
[--adjust-start=incr] <br>
[--change-addresses=incr] <br>
[--change-section-address sectionpattern{=,+,-}val] <br>
[--change-section-lma sectionpattern{=,+,-}val] <br>
[--change-section-vma sectionpattern{=,+,-}val] <br>
[--change-warnings] [--no-change-warnings] <br>
[--set-section-flags sectionpattern=flags] <br>
[--add-section sectionname=filename] <br>
[--dump-section sectionname=filename] <br>
[--update-section sectionname=filename] <br>
[--rename-section oldname=newname[,flags]] <br>
[--long-section-names {enable,disable,keep}] <br>
[--change-leading-char] [--remove-leading-char] <br>
[--reverse-bytes=num] <br>
[--srec-len=ival] [--srec-forceS3] <br>
[--redefine-sym old=new] <br>
[--redefine-syms=filename] <br>
[--weaken] <br>
[--keep-symbols=filename] <br>
[--strip-symbols=filename] <br>
[--strip-unneeded-symbols=filename] <br>
[--keep-global-symbols=filename] <br>
[--localize-symbols=filename] <br>
[--globalize-symbols=filename] <br>
[--weaken-symbols=filename] <br>
[--add-symbol name=[section:]value[,flags] <br>
[--alt-machine-code=index] <br>
[--prefix-symbols=string] <br>
[--prefix-sections=string] <br>
[--prefix-alloc-sections=string] <br>
[--add-gnu-debuglink=path-to-file] <br>
[--keep-file-symbols] <br>
[--only-keep-debug] <br>
[--strip-dwo] <br>
[--extract-dwo] <br>
[--extract-symbol] <br>
[--writable-text] <br>
[--readonly-text] <br>
[--pure] <br>
[--impure] <br>
[--file-alignment=num] <br>
[--heap=size] <br>
[--image-base=address] <br>
[--section-alignment=num] <br>
[--stack=size] <br>
[--subsystem=which:major.minor] <br>
[--compress-debug-sections] <br>
[--decompress-debug-sections] <br>
[--dwarf-depth=n] <br>
[--dwarf-start=n] <br>
[-v|--verbose] <br>
[-V|--version] <br>
[--help] [--info] <br>
infile [outfile]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The GNU objcopy utility copies the contents of an object
file to another. objcopy uses the GNU BFD Library to read
and write the object files. It can write the destination
<br>
object file in a format different from that of the source
object file. The exact behavior of objcopy is controlled by
command-line options. Note that objcopy should be able to
<br>
copy a fully linked file between any two formats. However,
copying a relocatable object file between any two formats
may not work as expected.</p>

<p style="margin-top: 1em">objcopy creates temporary files
to do its translations and deletes them afterward. objcopy
uses BFD to do all its translation work; it has access to
all the formats described in <br>
BFD and thus is able to recognize most formats without being
told explicitly.</p>

<p style="margin-top: 1em">objcopy can be used to generate
S-records by using an output target of srec (e.g., use -O
srec).</p>

<p style="margin-top: 1em">objcopy can be used to generate
a raw binary file by using an output target of binary (e.g.,
use -O binary). When objcopy generates a raw binary file, it
will essentially <br>
produce a memory dump of the contents of the input object
file. All symbols and relocation information will be
discarded. The memory dump will start at the load address of
the <br>
lowest section copied into the output file.</p>

<p style="margin-top: 1em">When generating an S-record or a
raw binary file, it may be helpful to use -S to remove
sections containing debugging information. In some cases -R
will be useful to remove <br>
sections which contain information that is not needed by the
binary file.</p>

<p style="margin-top: 1em">Note---objcopy is not able to
change the endianness of its input files. If the input
format has an endianness (some formats do not), objcopy can
only copy the inputs into file <br>
formats that have the same endianness or which have no
endianness (e.g., srec). (However, see the --reverse-bytes
option.)</p>

<p style="margin-top: 1em">OPTIONS <br>
infile <br>
outfile <br>
The input and output files, respectively. If you do not
specify outfile, objcopy creates a temporary file and
destructively renames the result with the name of
infile.</p>

<p style="margin-top: 1em">-I bfdname <br>
--input-target=bfdname <br>
Consider the source file&rsquo;s object format to be
bfdname, rather than attempting to deduce it.</p>

<p style="margin-top: 1em">-O bfdname <br>
--output-target=bfdname <br>
Write the output file using the object format bfdname.</p>

<p style="margin-top: 1em">-F bfdname <br>
--target=bfdname <br>
Use bfdname as the object format for both the input and the
output file; i.e., simply transfer data from source to
destination with no translation.</p>

<p style="margin-top: 1em">-B bfdarch <br>
--binary-architecture=bfdarch <br>
Useful when transforming a architecture-less input file into
an object file. In this case the output architecture can be
set to bfdarch. This option will be ignored if the <br>
input file has a known bfdarch. You can access this binary
data inside a program by referencing the special symbols
that are created by the conversion process. These <br>
symbols are called _binary_objfile_start,
_binary_objfile_end and _binary_objfile_size. e.g. you can
transform a picture file into an object file and then access
it in your <br>
code using these symbols.</p>

<p style="margin-top: 1em">-j sectionpattern <br>
--only-section=sectionpattern <br>
Copy only the indicated sections from the input file to the
output file. This option may be given more than once. Note
that using this option inappropriately may make the <br>
output file unusable. Wildcard characters are accepted in
sectionpattern.</p>

<p style="margin-top: 1em">-R sectionpattern <br>
--remove-section=sectionpattern <br>
Remove any section matching sectionpattern from the output
file. This option may be given more than once. Note that
using this option inappropriately may make the output <br>
file unusable. Wildcard characters are accepted in
sectionpattern. Using both the -j and -R options together
results in undefined behaviour.</p>

<p style="margin-top: 1em">-S <br>
--strip-all <br>
Do not copy relocation and symbol information from the
source file.</p>

<p style="margin-top: 1em">-g <br>
--strip-debug <br>
Do not copy debugging symbols or sections from the source
file.</p>

<p style="margin-top: 1em">--strip-unneeded <br>
Strip all symbols that are not needed for relocation
processing.</p>

<p style="margin-top: 1em">-K symbolname <br>
--keep-symbol=symbolname <br>
When stripping symbols, keep symbol symbolname even if it
would normally be stripped. This option may be given more
than once.</p>

<p style="margin-top: 1em">-N symbolname <br>
--strip-symbol=symbolname <br>
Do not copy symbol symbolname from the source file. This
option may be given more than once.</p>


<p style="margin-top: 1em">--strip-unneeded-symbol=symbolname
<br>
Do not copy symbol symbolname from the source file unless it
is needed by a relocation. This option may be given more
than once.</p>

<p style="margin-top: 1em">-G symbolname <br>
--keep-global-symbol=symbolname <br>
Keep only symbol symbolname global. Make all other symbols
local to the file, so that they are not visible externally.
This option may be given more than once.</p>

<p style="margin-top: 1em">--localize-hidden <br>
In an ELF object, mark all symbols that have hidden or
internal visibility as local. This option applies on top of
symbol-specific localization options such as -L.</p>

<p style="margin-top: 1em">-L symbolname <br>
--localize-symbol=symbolname <br>
Make symbol symbolname local to the file, so that it is not
visible externally. This option may be given more than
once.</p>

<p style="margin-top: 1em">-W symbolname <br>
--weaken-symbol=symbolname <br>
Make symbol symbolname weak. This option may be given more
than once.</p>

<p style="margin-top: 1em">--globalize-symbol=symbolname
<br>
Give symbol symbolname global scoping so that it is visible
outside of the file in which it is defined. This option may
be given more than once.</p>

<p style="margin-top: 1em">-w <br>
--wildcard <br>
Permit regular expressions in symbolnames used in other
command line options. The question mark (?), asterisk (*),
backslash ( and square brackets ([]) operators can be <br>
used anywhere in the symbol name. If the first character of
the symbol name is the exclamation point (!) then the sense
of the switch is reversed for that symbol. For <br>
example:</p>

<p style="margin-top: 1em">-w -W !foo -W fo*</p>

<p style="margin-top: 1em">would cause objcopy to weaken
all symbols that start with &quot;fo&quot; except for the
symbol &quot;foo&quot;.</p>

<p style="margin-top: 1em">-x <br>
--discard-all <br>
Do not copy non-global symbols from the source file.</p>

<p style="margin-top: 1em">-X <br>
--discard-locals <br>
Do not copy compiler-generated local symbols. (These usually
start with L or ..)</p>

<p style="margin-top: 1em">-b byte <br>
--byte=byte <br>
If interleaving has been enabled via the --interleave option
then start the range of bytes to keep at the byteth byte.
byte can be in the range from 0 to breadth-1, where <br>
breadth is the value given by the --interleave option.</p>

<p style="margin-top: 1em">-i [breadth] <br>
--interleave[=breadth] <br>
Only copy a range out of every breadth bytes. (Header data
is not affected). Select which byte in the range begins the
copy with the --byte option. Select the width of the <br>
range with the --interleave-width option.</p>

<p style="margin-top: 1em">This option is useful for
creating files to program ROM. It is typically used with an
&quot;srec&quot; output target. Note that objcopy will
complain if you do not specify the --byte <br>
option as well.</p>

<p style="margin-top: 1em">The default interleave breadth
is 4, so with --byte set to 0, objcopy would copy the first
byte out of every four bytes from the input to the
output.</p>

<p style="margin-top: 1em">--interleave-width=width <br>
When used with the --interleave option, copy width bytes at
a time. The start of the range of bytes to be copied is set
by the --byte option, and the extent of the range is <br>
set with the --interleave option.</p>

<p style="margin-top: 1em">The default value for this
option is 1. The value of width plus the byte value set by
the --byte option must not exceed the interleave breadth set
by the --interleave <br>
option.</p>

<p style="margin-top: 1em">This option can be used to
create images for two 16-bit flashes interleaved in a 32-bit
bus by passing -b 0 -i 4 --interleave-width=2 and -b 2 -i 4
--interleave-width=2 to <br>
two objcopy commands. If the input was
&rsquo;12345678&rsquo; then the outputs would be
&rsquo;1256&rsquo; and &rsquo;3478&rsquo; respectively.</p>

<p style="margin-top: 1em">-p <br>
--preserve-dates <br>
Set the access and modification dates of the output file to
be the same as those of the input file.</p>

<p style="margin-top: 1em">-D <br>
--enable-deterministic-archives <br>
Operate in deterministic mode. When copying archive members
and writing the archive index, use zero for UIDs, GIDs,
timestamps, and use consistent file modes for all files.</p>

<p style="margin-top: 1em">If binutils was configured with
--enable-deterministic-archives, then this mode is on by
default. It can be disabled with the -U option, below.</p>

<p style="margin-top: 1em">-U <br>
--disable-deterministic-archives <br>
Do not operate in deterministic mode. This is the inverse of
the -D option, above: when copying archive members and
writing the archive index, use their actual UID, GID, <br>
timestamp, and file mode values.</p>

<p style="margin-top: 1em">This is the default unless
binutils was configured with
--enable-deterministic-archives.</p>

<p style="margin-top: 1em">--debugging <br>
Convert debugging information, if possible. This is not the
default because only certain debugging formats are
supported, and the conversion process can be time
consuming.</p>

<p style="margin-top: 1em">--gap-fill val <br>
Fill gaps between sections with val. This operation applies
to the load address (LMA) of the sections. It is done by
increasing the size of the section with the lower <br>
address, and filling in the extra space created with
val.</p>

<p style="margin-top: 1em">--pad-to address <br>
Pad the output file up to the load address address. This is
done by increasing the size of the last section. The extra
space is filled in with the value specified by <br>
--gap-fill (default zero).</p>

<p style="margin-top: 1em">--set-start val <br>
Set the start address of the new file to val. Not all object
file formats support setting the start address.</p>

<p style="margin-top: 1em">--change-start incr <br>
--adjust-start incr <br>
Change the start address by adding incr. Not all object file
formats support setting the start address.</p>

<p style="margin-top: 1em">--change-addresses incr <br>
--adjust-vma incr <br>
Change the VMA and LMA addresses of all sections, as well as
the start address, by adding incr. Some object file formats
do not permit section addresses to be changed <br>
arbitrarily. Note that this does not relocate the sections;
if the program expects sections to be loaded at a certain
address, and this option is used to change the sections <br>
such that they are loaded at a different address, the
program may fail.</p>

<p style="margin-top: 1em">--change-section-address
sectionpattern{=,+,-}val <br>
--adjust-section-vma sectionpattern{=,+,-}val <br>
Set or change both the VMA address and the LMA address of
any section matching sectionpattern. If = is used, the
section address is set to val. Otherwise, val is added to
<br>
or subtracted from the section address. See the comments
under --change-addresses, above. If sectionpattern does not
match any sections in the input file, a warning will be <br>
issued, unless --no-change-warnings is used.</p>

<p style="margin-top: 1em">--change-section-lma
sectionpattern{=,+,-}val <br>
Set or change the LMA address of any sections matching
sectionpattern. The LMA address is the address where the
section will be loaded into memory at program load time.
<br>
Normally this is the same as the VMA address, which is the
address of the section at program run time, but on some
systems, especially those where a program is held in ROM,
<br>
the two can be different. If = is used, the section address
is set to val. Otherwise, val is added to or subtracted from
the section address. See the comments under <br>
--change-addresses, above. If sectionpattern does not match
any sections in the input file, a warning will be issued,
unless --no-change-warnings is used.</p>

<p style="margin-top: 1em">--change-section-vma
sectionpattern{=,+,-}val <br>
Set or change the VMA address of any section matching
sectionpattern. The VMA address is the address where the
section will be located once the program has started <br>
executing. Normally this is the same as the LMA address,
which is the address where the section will be loaded into
memory, but on some systems, especially those where a <br>
program is held in ROM, the two can be different. If = is
used, the section address is set to val. Otherwise, val is
added to or subtracted from the section address. See <br>
the comments under --change-addresses, above. If
sectionpattern does not match any sections in the input
file, a warning will be issued, unless --no-change-warnings
is used.</p>

<p style="margin-top: 1em">--change-warnings <br>
--adjust-warnings <br>
If --change-section-address or --change-section-lma or
--change-section-vma is used, and the section pattern does
not match any sections, issue a warning. This is the <br>
default.</p>

<p style="margin-top: 1em">--no-change-warnings <br>
--no-adjust-warnings <br>
Do not issue a warning if --change-section-address or
--adjust-section-lma or --adjust-section-vma is used, even
if the section pattern does not match any sections.</p>

<p style="margin-top: 1em">--set-section-flags
sectionpattern=flags <br>
Set the flags for any sections matching sectionpattern. The
flags argument is a comma separated string of flag names.
The recognized names are alloc, contents, load, <br>
noload, readonly, code, data, rom, share, and debug. You can
set the contents flag for a section which does not have
contents, but it is not meaningful to clear the contents
<br>
flag of a section which does have contents--just remove the
section instead. Not all flags are meaningful for all object
file formats.</p>

<p style="margin-top: 1em">--add-section
sectionname=filename <br>
Add a new section named sectionname while copying the file.
The contents of the new section are taken from the file
filename. The size of the section will be the size of <br>
the file. This option only works on file formats which can
support sections with arbitrary names. Note - it may be
necessary to use the --set-section-flags option to set <br>
the attributes of the newly created section.</p>

<p style="margin-top: 1em">--dump-section
sectionname=filename <br>
Place the contents of section named sectionname into the
file filename, overwriting any contents that may have been
there previously. This option is the inverse of <br>
--add-section. This option is similar to the --only-section
option except that it does not create a formatted file, it
just dumps the contents as raw binary data, without <br>
applying any relocations. The option can be specified more
than once.</p>

<p style="margin-top: 1em">--update-section
sectionname=filename <br>
Replace the existing contents of a section named sectionname
with the contents of file filename. The size of the section
will be adjusted to the size of the file. The <br>
section flags for sectionname will be unchanged. For ELF
format files the section to segment mapping will also remain
unchanged, something which is not possible using <br>
--remove-section followed by --add-section. The option can
be specified more than once.</p>

<p style="margin-top: 1em">Note - it is possible to use
--rename-section and --update-section to both update and
rename a section from one command line. In this case, pass
the original section name to <br>
--update-section, and the original and new section names to
--rename-section.</p>

<p style="margin-top: 1em">--add-symbol
name=[section:]value[,flags] <br>
Add a new symbol named name while copying the file. This
option may be specified multiple times. If the section is
given, the symbol will be associated with and relative to
<br>
that section, otherwise it will be an ABS symbol. Specifying
an undefined section will result in a fatal error. There is
no check for the value, it will be taken as <br>
specified. Symbol flags can be specified and not all flags
will be meaningful for all object file formats. By default,
the symbol will be global. The special flag <br>
&rsquo;before=othersym&rsquo; will insert the new symbol in
front of the specified othersym, otherwise the symbol(s)
will be added at the end of the symbol table in the order
they <br>
appear.</p>

<p style="margin-top: 1em">--rename-section
oldname=newname[,flags] <br>
Rename a section from oldname to newname, optionally
changing the section&rsquo;s flags to flags in the process.
This has the advantage over usng a linker script to perform
the <br>
rename in that the output stays as an object file and does
not become a linked executable.</p>

<p style="margin-top: 1em">This option is particularly
helpful when the input format is binary, since this will
always create a section called .data. If for example, you
wanted instead to create a <br>
section called .rodata containing binary data you could use
the following command line to achieve it:</p>

<p style="margin-top: 1em">objcopy -I binary -O
&lt;output_format&gt; -B &lt;architecture&gt;
--rename-section
.data=.rodata,alloc,load,readonly,data,contents
&lt;input_binary_file&gt; &lt;output_object_file&gt;</p>

<p style="margin-top: 1em">--long-section-names
{enable,disable,keep} <br>
Controls the handling of long section names when processing
&quot;COFF&quot; and &quot;PE-COFF&quot; object formats. The
default behaviour, keep, is to preserve long section names
if any are <br>
present in the input file. The enable and disable options
forcibly enable or disable the use of long section names in
the output object; when disable is in effect, any long <br>
section names in the input object will be truncated. The
enable option will only emit long section names if any are
present in the inputs; this is mostly the same as keep, <br>
but it is left undefined whether the enable option might
force the creation of an empty string table in the output
file.</p>

<p style="margin-top: 1em">--change-leading-char <br>
Some object file formats use special characters at the start
of symbols. The most common such character is underscore,
which compilers often add before every symbol. This <br>
option tells objcopy to change the leading character of
every symbol when it converts between object file formats.
If the object file formats use the same leading character,
<br>
this option has no effect. Otherwise, it will add a
character, or remove a character, or change a character, as
appropriate.</p>

<p style="margin-top: 1em">--remove-leading-char <br>
If the first character of a global symbol is a special
symbol leading character used by the object file format,
remove the character. The most common symbol leading <br>
character is underscore. This option will remove a leading
underscore from all global symbols. This can be useful if
you want to link together objects of different file <br>
formats with different conventions for symbol names. This is
different from --change-leading-char because it always
changes the symbol name when appropriate, regardless of <br>
the object file format of the output file.</p>

<p style="margin-top: 1em">--reverse-bytes=num <br>
Reverse the bytes in a section with output contents. A
section length must be evenly divisible by the value given
in order for the swap to be able to take place. Reversing
<br>
takes place before the interleaving is performed.</p>

<p style="margin-top: 1em">This option is used typically in
generating ROM images for problematic target systems. For
example, on some target boards, the 32-bit words fetched
from 8-bit ROMs are re- <br>
assembled in little-endian byte order regardless of the CPU
byte order. Depending on the programming model, the
endianness of the ROM may need to be modified.</p>

<p style="margin-top: 1em">Consider a simple file with a
section containing the following eight bytes: 12345678.</p>

<p style="margin-top: 1em">Using --reverse-bytes=2 for the
above example, the bytes in the output file would be ordered
21436587.</p>

<p style="margin-top: 1em">Using --reverse-bytes=4 for the
above example, the bytes in the output file would be ordered
43218765.</p>

<p style="margin-top: 1em">By using --reverse-bytes=2 for
the above example, followed by --reverse-bytes=4 on the
output file, the bytes in the second output file would be
ordered 34127856.</p>

<p style="margin-top: 1em">--srec-len=ival <br>
Meaningful only for srec output. Set the maximum length of
the Srecords being produced to ival. This length covers both
address, data and crc fields.</p>

<p style="margin-top: 1em">--srec-forceS3 <br>
Meaningful only for srec output. Avoid generation of S1/S2
records, creating S3-only record format.</p>

<p style="margin-top: 1em">--redefine-sym old=new <br>
Change the name of a symbol old, to new. This can be useful
when one is trying link two things together for which you
have no source, and there are name collisions.</p>

<p style="margin-top: 1em">--redefine-syms=filename <br>
Apply --redefine-sym to each symbol pair &quot;old new&quot;
listed in the file filename. filename is simply a flat file,
with one symbol pair per line. Line comments may be <br>
introduced by the hash character. This option may be given
more than once.</p>

<p style="margin-top: 1em">--weaken <br>
Change all global symbols in the file to be weak. This can
be useful when building an object which will be linked
against other objects using the -R option to the linker.
<br>
This option is only effective when using an object file
format which supports weak symbols.</p>

<p style="margin-top: 1em">--keep-symbols=filename <br>
Apply --keep-symbol option to each symbol listed in the file
filename. filename is simply a flat file, with one symbol
name per line. Line comments may be introduced by the <br>
hash character. This option may be given more than once.</p>

<p style="margin-top: 1em">--strip-symbols=filename <br>
Apply --strip-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced by
<br>
the hash character. This option may be given more than
once.</p>


<p style="margin-top: 1em">--strip-unneeded-symbols=filename
<br>
Apply --strip-unneeded-symbol option to each symbol listed
in the file filename. filename is simply a flat file, with
one symbol name per line. Line comments may be <br>
introduced by the hash character. This option may be given
more than once.</p>

<p style="margin-top: 1em">--keep-global-symbols=filename
<br>
Apply --keep-global-symbol option to each symbol listed in
the file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced <br>
by the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--localize-symbols=filename <br>
Apply --localize-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced by
<br>
the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--globalize-symbols=filename
<br>
Apply --globalize-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced <br>
by the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--weaken-symbols=filename <br>
Apply --weaken-symbol option to each symbol listed in the
file filename. filename is simply a flat file, with one
symbol name per line. Line comments may be introduced by
<br>
the hash character. This option may be given more than
once.</p>

<p style="margin-top: 1em">--alt-machine-code=index <br>
If the output architecture has alternate machine codes, use
the indexth code instead of the default one. This is useful
in case a machine is assigned an official code and <br>
the tool-chain adopts the new code, but other applications
still depend on the original code being used. For ELF based
architectures if the index alternative does not exist <br>
then the value is treated as an absolute number to be stored
in the e_machine field of the ELF header.</p>

<p style="margin-top: 1em">--writable-text <br>
Mark the output text as writable. This option isn&rsquo;t
meaningful for all object file formats.</p>

<p style="margin-top: 1em">--readonly-text <br>
Make the output text write protected. This option
isn&rsquo;t meaningful for all object file formats.</p>

<p style="margin-top: 1em">--pure <br>
Mark the output file as demand paged. This option
isn&rsquo;t meaningful for all object file formats.</p>

<p style="margin-top: 1em">--impure <br>
Mark the output file as impure. This option isn&rsquo;t
meaningful for all object file formats.</p>

<p style="margin-top: 1em">--prefix-symbols=string <br>
Prefix all symbols in the output file with string.</p>

<p style="margin-top: 1em">--prefix-sections=string <br>
Prefix all section names in the output file with string.</p>

<p style="margin-top: 1em">--prefix-alloc-sections=string
<br>
Prefix all the names of all allocated sections in the output
file with string.</p>


<p style="margin-top: 1em">--add-gnu-debuglink=path-to-file
<br>
Creates a .gnu_debuglink section which contains a reference
to path-to-file and adds it to the output file. Note: the
file at path-to-file must exist. Part of the process <br>
of adding the .gnu_debuglink section involves embedding a
checksum of the contents of the debug info file into the
section.</p>

<p style="margin-top: 1em">If the debug info file is built
in one location but it is going to be installed at a later
time into a different location then do not use the path to
the installed location. <br>
The --add-gnu-debuglink option will fail because the
installed file does not exist yet. Instead put the debug
info file in the current directory and use the <br>
--add-gnu-debuglink option without any directory components,
like this:</p>

<p style="margin-top: 1em">objcopy
--add-gnu-debuglink=foo.debug</p>

<p style="margin-top: 1em">At debug time the debugger will
attempt to look for the separate debug info file in a set of
known locations. The exact set of these locations varies
depending upon the <br>
distribution being used, but it typically includes:</p>

<p style="margin-top: 1em">&quot;* The same directory as
the executable.&quot; <br>
&quot;* A sub-directory of the directory containing the
executable&quot; <br>
called .debug</p>

<p style="margin-top: 1em">&quot;* A global debug directory
such as /usr/lib/debug.&quot;</p>

<p style="margin-top: 1em">As long as the debug info file
has been installed into one of these locations before the
debugger is run everything should work correctly.</p>

<p style="margin-top: 1em">--keep-file-symbols <br>
When stripping a file, perhaps with --strip-debug or
--strip-unneeded, retain any symbols specifying source file
names, which would otherwise get stripped.</p>

<p style="margin-top: 1em">--only-keep-debug <br>
Strip a file, removing contents of any sections that would
not be stripped by --strip-debug and leaving the debugging
sections intact. In ELF files, this preserves all note <br>
sections in the output.</p>

<p style="margin-top: 1em">Note - the section headers of
the stripped sections are preserved, including their sizes,
but the contents of the section are discarded. The section
headers are preserved so <br>
that other tools can match up the debuginfo file with the
real executable, even if that executable has been relocated
to a different address space.</p>

<p style="margin-top: 1em">The intention is that this
option will be used in conjunction with --add-gnu-debuglink
to create a two part executable. One a stripped binary which
will occupy less space in <br>
RAM and in a distribution and the second a debugging
information file which is only needed if debugging abilities
are required. The suggested procedure to create these files
<br>
is as follows:</p>

<p style="margin-top: 1em">1.&lt;Link the executable as
normal. Assuming that is is called&gt; <br>
&quot;foo&quot; then...</p>

<p style="margin-top: 1em">1.&lt;Run &quot;objcopy
--only-keep-debug foo foo.dbg&quot; to&gt; <br>
create a file containing the debugging info.</p>

<p style="margin-top: 1em">1.&lt;Run &quot;objcopy
--strip-debug foo&quot; to create a&gt; <br>
stripped executable.</p>

<p style="margin-top: 1em">1.&lt;Run &quot;objcopy
--add-gnu-debuglink=foo.dbg foo&quot;&gt; <br>
to add a link to the debugging info into the stripped
executable.</p>

<p style="margin-top: 1em">Note---the choice of
&quot;.dbg&quot; as an extension for the debug info file is
arbitrary. Also the &quot;--only-keep-debug&quot; step is
optional. You could instead do this:</p>

<p style="margin-top: 1em">1.&lt;Link the executable as
normal.&gt; <br>
1.&lt;Copy &quot;foo&quot; to &quot;foo.full&quot;&gt; <br>
1.&lt;Run &quot;objcopy --strip-debug foo&quot;&gt; <br>
1.&lt;Run &quot;objcopy --add-gnu-debuglink=foo.full
foo&quot;&gt;</p>

<p style="margin-top: 1em">i.e., the file pointed to by the
--add-gnu-debuglink can be the full executable. It does not
have to be a file created by the --only-keep-debug
switch.</p>

<p style="margin-top: 1em">Note---this switch is only
intended for use on fully linked files. It does not make
sense to use it on object files where the debugging
information may be incomplete. <br>
Besides the gnu_debuglink feature currently only supports
the presence of one filename containing debugging
information, not multiple filenames on a one-per-object-file
<br>
basis.</p>

<p style="margin-top: 1em">--strip-dwo <br>
Remove the contents of all DWARF .dwo sections, leaving the
remaining debugging sections and all symbols intact. This
option is intended for use by the compiler as part of <br>
the -gsplit-dwarf option, which splits debug information
between the .o file and a separate .dwo file. The compiler
generates all debug information in the same file, then <br>
uses the --extract-dwo option to copy the .dwo sections to
the .dwo file, then the --strip-dwo option to remove those
sections from the original .o file.</p>

<p style="margin-top: 1em">--extract-dwo <br>
Extract the contents of all DWARF .dwo sections. See the
--strip-dwo option for more information.</p>

<p style="margin-top: 1em">--file-alignment num <br>
Specify the file alignment. Sections in the file will always
begin at file offsets which are multiples of this number.
This defaults to 512. [This option is specific to PE <br>
targets.]</p>

<p style="margin-top: 1em">--heap reserve <br>
--heap reserve,commit <br>
Specify the number of bytes of memory to reserve (and
optionally commit) to be used as heap for this program.
[This option is specific to PE targets.]</p>

<p style="margin-top: 1em">--image-base value <br>
Use value as the base address of your program or dll. This
is the lowest memory location that will be used when your
program or dll is loaded. To reduce the need to <br>
relocate and improve performance of your dlls, each should
have a unique base address and not overlap any other dlls.
The default is 0x400000 for executables, and 0x10000000 <br>
for dlls. [This option is specific to PE targets.]</p>

<p style="margin-top: 1em">--section-alignment num <br>
Sets the section alignment. Sections in memory will always
begin at addresses which are a multiple of this number.
Defaults to 0x1000. [This option is specific to PE <br>
targets.]</p>

<p style="margin-top: 1em">--stack reserve <br>
--stack reserve,commit <br>
Specify the number of bytes of memory to reserve (and
optionally commit) to be used as stack for this program.
[This option is specific to PE targets.]</p>

<p style="margin-top: 1em">--subsystem which <br>
--subsystem which:major <br>
--subsystem which:major.minor <br>
Specifies the subsystem under which your program will
execute. The legal values for which are &quot;native&quot;,
&quot;windows&quot;, &quot;console&quot;, &quot;posix&quot;,
&quot;efi-app&quot;, &quot;efi-bsd&quot;,
&quot;efi-rtd&quot;, <br>
&quot;sal-rtd&quot;, and &quot;xbox&quot;. You may
optionally set the subsystem version also. Numeric values
are also accepted for which. [This option is specific to PE
targets.]</p>

<p style="margin-top: 1em">--extract-symbol <br>
Keep the file&rsquo;s section flags and symbols but remove
all section data. Specifically, the option:</p>

<p style="margin-top: 1em">*&lt;removes the contents of all
sections;&gt; <br>
*&lt;sets the size of every section to zero; and&gt; <br>
*&lt;sets the file&rsquo;s start address to zero.&gt;</p>

<p style="margin-top: 1em">This option is used to build a
.sym file for a VxWorks kernel. It can also be a useful way
of reducing the size of a --just-symbols linker input
file.</p>

<p style="margin-top: 1em">--compress-debug-sections <br>
Compress DWARF debug sections using zlib with SHF_COMPRESSED
from the ELF ABI. Note - if compression would actually make
a section larger, then it is not compressed.</p>

<p style="margin-top: 1em">--compress-debug-sections=none
<br>
--compress-debug-sections=zlib <br>
--compress-debug-sections=zlib-gnu <br>
--compress-debug-sections=zlib-gabi <br>
For ELF files, these options control how DWARF debug
sections are compressed. --compress-debug-sections=none is
equivalent to --nocompress-debug-sections. <br>
--compress-debug-sections=zlib and
--compress-debug-sections=zlib-gabi are equivalent to
--compress-debug-sections.
--compress-debug-sections=zlib-gnu compresses DWARF debug
<br>
sections using zlib. The debug sections are renamed to begin
with .zdebug instead of .debug. Note - if compression would
actually make a section larger, then it is not <br>
compressed nor renamed.</p>

<p style="margin-top: 1em">--decompress-debug-sections <br>
Decompress DWARF debug sections using zlib. The original
section names of the compressed sections are restored.</p>

<p style="margin-top: 1em">-V <br>
--version <br>
Show the version number of objcopy.</p>

<p style="margin-top: 1em">-v <br>
--verbose <br>
Verbose output: list all object files modified. In the case
of archives, objcopy -V lists all members of the
archive.</p>

<p style="margin-top: 1em">--help <br>
Show a summary of the options to objcopy.</p>

<p style="margin-top: 1em">--info <br>
Display a list showing all architectures and object formats
available.</p>

<p style="margin-top: 1em">@file <br>
Read command-line options from file. The options read are
inserted in place of the original @file option. If file does
not exist, or cannot be read, then the option will be <br>
treated literally, and not removed.</p>

<p style="margin-top: 1em">Options in file are separated by
whitespace. A whitespace character may be included in an
option by surrounding the entire option in either single or
double quotes. Any <br>
character (including a backslash) may be included by
prefixing the character to be included with a backslash. The
file may itself contain additional @file options; any such
<br>
options will be processed recursively.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ld(1), objdump(1), and the Info entries for binutils.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 1991-2015 Free Software Foundation, Inc.</p>

<p style="margin-top: 1em">Permission is granted to copy,
distribute and/or modify this document under the terms of
the GNU Free Documentation License, Version 1.3 or any later
version published by the <br>
Free Software Foundation; with no Invariant Sections, with
no Front-Cover Texts, and with no Back-Cover Texts. A copy
of the license is included in the section entitled &quot;GNU
<br>
Free Documentation License&quot;.</p>

<p style="margin-top: 1em">binutils-2.26 2016-01-25
OBJCOPY(1)</p>
<hr>
</body>
</html>
