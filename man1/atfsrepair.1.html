<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>atfsrepair(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">atfsrepair(1)</td>
    <td class="head-vol">ShapeTools</td>
    <td class="head-rtitle">atfsrepair(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
atfsrepair - repair corrupted AtFS repository, or convert old repository to new
  format.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>atfsrepair</b> [<b>-Ceinqv</b>] file1 ...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>Atfsrepair</i> checks the AtFS repository for inconsistencies in the a given
  file history. If a corrupted archive file is found in the repository,
  atfsrepair tries to repair it by reconstructing missing parts and eliminating
  inconsistencies. Without a <i>file</i> argument, atfsrepair handles the
  complete repository. Atfsrepair is interactive and (hopefully) self
  explanatory.
<div class="Pp"></div>
If you have permission problems, e.g. your AtFS repository grants group write
  permission but another user from your group can still not save data to the
  repository, atfsrepair is also the right thing to do. The programs straightens
  permission bits within the repository.
<div class="Pp"></div>
Atfsrepair automatically updates archive files, when the archive file format or
  the arrangement of archive files within the AtFS subdirectory was changed.
  Before taking any permanent action, atfsrepair asks the user for a
  confirmation. This behaviour can be switched off by either the -n or the -q
  option (see below).
<div class="Pp"></div>
Atfsrepair shall not be called concurrently with other applications on an AtFS
  repository. Make sure, that nobody else works on the repository to be repaired
  as atfsrepair may ignore existing archive locks and does not set own locks.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>-C</i></b></dt>
  <dd class="It-tag">This option causes atfsrepair to try it's hand at a derived
      object cache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>-e</i></b></dt>
  <dd class="It-tag">Edit Mode. Invoking atfsrepair with this option rather
      serves for manipulating archive files than for repairing them. It shall
      only be used by <i>very experienced</i> users. For nearly every item in
      the archive file, <i>atfsrepair</i> asks the caller for confirmation or
      modification. Beware, this level of verbosity can be very annoying when
      the archive file is big.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>-i</i></b></dt>
  <dd class="It-tag">Interactive mode (default).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>-n</i></b></dt>
  <dd class="It-tag">Non-interactive mode. In this mode, atfsrepair tries to
      repair corrupted archive files without human assistance. It does not
      perform any user interaction and behaves as if the user would always
      choose the default decision in interactive mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>-q</i></b></dt>
  <dd class="It-tag">Quiet mode. Same as <i>-n</i> but also supresses all
      informative messages. Only error messages will be displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>-v</i></b></dt>
  <dd class="It-tag">Print current version number. No file processing is
    done.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
afarchive(5)
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Dates appear in internal form (seconds since 1970) rather than in human readable
  form.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Andreas.Lampen@cs.tu-berlin.de</div>
<table class="foot">
  <tr>
    <td class="foot-date">Thu Jan 20 12:06:00 1994</td>
    <td class="foot-os">AtFS-1.71</td>
  </tr>
</table>
</body>
</html>
