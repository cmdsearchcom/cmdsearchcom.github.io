<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GRDVOLUME(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GRDVOLUME(1)</td>
    <td class="head-vol">GMT</td>
    <td class="head-rtitle">GRDVOLUME(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
grdvolume - Calculate grid volume and area constrained by a contour
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>grdvolume</b> <i>grdfile</i> [ <b>-C</b><i>cval</i> or
  <b>-C</b><i>low/high/delta</i> or <b>-C</b><b>r</b><i>low/high</i> or
  <b>-C</b> <b>r</b><i>cval</i>] [ <b>-L</b><i>base</i> ] [
  <b>-R</b><i>region</i> ] [ <b>-S</b>[<i>unit</i>] ] [
  <b>-T</b>[<b>c</b>|<b>h</b>] ] [ <b>-V</b>[<i>level</i>] ] [
  <b>-Z</b><i>fact</i>[/ <i>shift</i>] ] [ <b>-f</b>flags ] [ <b>-o</b>flags ]
<div style="height: 1.00em;">&#x00A0;</div>
<b>Note:</b> No space is allowed between the option flag and the associated
  arguments.
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>grdvolume</b> reads a 2-D grid file and calculates the volume contained
  between the surface and the plane specified by the given contour (or zero if
  not given) and reports the area, volume, and maximum mean height
  (volume/area). Alternatively, specify a range of contours to be tried and
  <b>grdvolume</b> will determine the volume and area inside the contour for all
  contour values. Using <b>-T</b>, the contour that produced the maximum mean
  height (or maximum curvature of heights vs contour value) is reported as well.
  This feature may be used with grdfilter in designing an Optimal Robust
  Separator [ <i>Wessel</i>, 1998].
<h1 class="Sh" title="Sh" id="REQUIRED_ARGUMENTS"><a class="selflink" href="#REQUIRED_ARGUMENTS">REQUIRED
  ARGUMENTS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><i>grdfile</i></b></dt>
  <dd class="It-tag">The name of the input 2-D binary grid file. (See GRID FILE
      FORMAT below.)</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="OPTIONAL_ARGUMENTS"><a class="selflink" href="#OPTIONAL_ARGUMENTS">OPTIONAL
  ARGUMENTS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b><i>cval</i> or <b>-C</b><i>low/high/delta</i> or
    <b>-Cr</b><i>low/high</i> or <b>-Cr</b><i>cval</i></dt>
  <dd class="It-tag">find area, volume and mean height (volume/area) inside the
      <i>cval</i> contour. Alternatively, search using all contours from
      <i>low</i> to <i>high</i> in steps of <i>delta</i>. [Default returns area,
      volume and mean height of the entire grid]. The area is measured in the
      plane of the contour. The <b>Cr</b> form on the other hand computes the
      volume between the grid surface and the plans defined by <i>low</i> and
      <i>high</i>, or below <i>cval</i> and grid&#x2019;s minimum. Note that
      this is an <i>outside</i> volume whilst the other forms compute an
      <i>inside</i> (below the surface) area volume. Use this form to compute
      for example the volume of water between two contours.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b><i>base</i></dt>
  <dd class="It-tag">Also add in the volume from the level of the contour down
      to <i>base</i> [Default base is contour].</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>[<i>unit</i>]</dt>
  <dd class="It-tag">For geographical grids, append a unit from
      <b>e</b>|<b>f</b>| <b>k</b>|<b>M</b>|<b>n</b>|<b>u</b> [Default is meter (
      <b>e</b>)].</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b>[<b>c</b>|<b>h</b>]</dt>
  <dd class="It-tag">Determine the single contour that maximized the average
      height (= volume/area). Select <b>-Tc</b> to use the maximum curvature of
      heights versus contour value rather than the contour with the maximum
      height to pick the best contour value (requires <b>-C</b>).</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R</b><i>xmin</i>/<i>xmax</i>/<i>ymin</i>/<i>ymax</i>[<b>+r</b>][<b>+u</b><i>unit</i>]
    (more &#x2026;)</dt>
  <dd class="It-tag">Specify the region of interest.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>[<i>level</i>] (more &#x2026;)</dt>
  <dd class="It-tag">Select verbosity level [c].</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z</b><i>fact</i>[/<i>shift</i>]</dt>
  <dd class="It-tag">Optionally subtract <i>shift</i> before scaling data by
      <i>fact</i>. [Default is no scaling]. (Numbers in <b>-C</b>, <b>-L</b>
      refer to values after this scaling has occurred).</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>[<b>i</b>|<b>o</b>]<i>colinfo</i> (more
    &#x2026;)</dt>
  <dd class="It-tag">Specify data types of input and/or output columns.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i>cols</i>[,&#x2026;] (more &#x2026;)</dt>
  <dd class="It-tag">Select output columns (0 is first column).</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-^</b> or just <b>-</b></dt>
  <dd class="It-tag">Print a short message about the syntax of the command, then
      exits (NOTE: on Windows just use <b>-</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-+</b> or just <b>+</b></dt>
  <dd class="It-tag">Print an extensive usage (help) message, including the
      explanation of any module-specific option (but not the GMT common
      options), then exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?</b> or no arguments</dt>
  <dd class="It-tag">Print a complete usage (help) message, including the
      explanation of all options, then exits.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="GRID_FILE_FORMATS"><a class="selflink" href="#GRID_FILE_FORMATS">GRID
  FILE FORMATS</a></h1>
By default GMT writes out grid as single precision floats in a COARDS-complaint
  netCDF file format. However, GMT is able to produce grid files in many other
  commonly used grid file formats and also facilitates so called
  &#x201C;packing&#x201D; of grids, writing out floating point data as 1- or
  2-byte integers. (more &#x2026;)
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To determine the volume in km^3 under the surface hawaii_topo.nc (height in km),
  use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdvolume hawaii_topo.nc -Sk
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To find the volume between the surface peaks.nc and the contour z = 250 m in
  meters, use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdvolume peaks.nc -Se -C250
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To search for the contour, between 100 and 300 in steps of 10, that maximizes
  the ratio of volume to surface area for the file peaks.nc, use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdvolume peaks.nc -C0/300/10 -Th &gt; results.d
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To see the areas and volumes for all the contours in the previous example, use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdvolume peaks.nc -C100/300/10 &gt; results.d
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To find the volume of water in a lake with its free surface at 0 and max depth
  of 300 meters, use
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gmt grdvolume lake.nc -Cr-300/0
</pre>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">For geographical grids we convert degrees to &#x201C;Flat
      Earth&#x201D; distances in meter. You can use <b>-S</b> to select another
      distance unit. The area is then reported in this unit squared while the
      volume is reported in unit^2 * z_unit quantities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag"><b>grdvolume</b> distinguishes between gridline and
      pixel-registered grids. In both cases the area and volume are computed up
      to the grid boundaries. That means that in the first case the grid cells
      on the boundary only contribute half their area (and volume), whereas in
      the second case all grid cells are fully used. The exception is when the
      <b>-C</b> flag is used: since contours do not extend beyond the outermost
      grid point, both grid types are treated the same. That means the outer rim
      in pixel oriented grids is ignored when using the <b>-C</b> flag.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
gmt, grdfilter, grdmask, grdmath
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
Wessel, P., 1998, An empirical method for optimal robust regional-residual
  separation of geophysical data, <i>Math. Geol.</i>, <b>30</b>(4), 391-408.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2017, P. Wessel, W. H. F. Smith, R. Scharroo, J. Luis, and F. Wobbe</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 24, 2017</td>
    <td class="foot-os">5.4.2</td>
  </tr>
</table>
</body>
</html>
