<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SPATCH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SPATCH(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SPATCH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
spatch - apply a semantic patch file to a set of C files
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>spatch</b> <b>--sp-file</b> <i>&lt;SP&gt;</i> <i>&lt;files&gt;</i> <b>[-o</b>
  <i>&lt;outfile&gt;</i> <b>]</b> <b>[--iso-file</b> <i>&lt;iso&gt;</i> <b>]</b>
  <b>[</b> <i>options</i> <b>]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>spatch</b> is a program matching and transformation tool for C. The
  programmer describes the code to match and the transformation to perform as a
  semantic patch, which looks like a standard patch, but can transform multiple
  files at any number of code sites.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Further information about spatch is available at
  <b>http://coccinelle.lip6.fr/</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Semantic patch examples can be found at <b>http://coccinellery.org/</b>, and at
  the <b>scripts/coccinelle</b> directory of the Linux Kernel source code.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Here is a summary of the most commonly used options:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sp-file <i>&lt;file&gt;</i></b></dt>
  <dd class="It-tag">the semantic patch file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dir <i>&lt;dir&gt;</i></b></dt>
  <dd class="It-tag">process all files in directory recursively</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iso-file <i>&lt;file&gt;</i></b></dt>
  <dd class="It-tag">(default=@SHAREDIR@/standard.iso)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--macro-file <i>&lt;file&gt;</i></b></dt>
  <dd class="It-tag">(default=@SHAREDIR@/standard.h)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">print some information to help debug the matching
    process</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--all-includes</b></dt>
  <dd class="It-tag">causes all available include files to be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-includes</b></dt>
  <dd class="It-tag">causes not even local include files to be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I <i>&lt;dir&gt;</i></b></dt>
  <dd class="It-tag">the directory containing the include files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include-headers</b></dt>
  <dd class="It-tag">process header files independently</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-glimpse</b></dt>
  <dd class="It-tag">works with --dir, use information generated by
    glimpseindex</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o <i>&lt;file&gt;</i></b></dt>
  <dd class="It-tag">the output file. If none is specified, a patch is generated
      on the standard output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--in-place</b></dt>
  <dd class="It-tag">do the modification on the file directly</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--out-place</b></dt>
  <dd class="It-tag">store modifications in a .cocci_res file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">show the version of spatch</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--date</b></dt>
  <dd class="It-tag">show the date on which spatch was compiled</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--shorthelp</b></dt>
  <dd class="It-tag">see short list of options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--longhelp</b></dt>
  <dd class="It-tag">see all the available options in different categories</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help, --help</b></dt>
  <dd class="It-tag">show summary of options.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<br/>
 ./spatch --sp-file foo.cocci foo.c
<div style="height: 1.00em;">&#x00A0;</div>
Apply the semantic patch foo.cocci to the C file foo.c. The semantic patch is
  applied modulo a set of isomorphisms contained in standard.iso (standard.iso
  is by default located in @SHAREDIR@/standard.iso). A patch showing the effect
  of the application, if any, will be generated on the standard output.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 ./spatch --sp-file foo.cocci foo.c -o /tmp/newfoo.c
<div style="height: 1.00em;">&#x00A0;</div>
The same as the above, except that a modified version of foo.c is stored in
  /tmp/newfoo.c.
<div style="height: 1.00em;">&#x00A0;</div>
It is also possible to apply spatch to all of the C files in a directory:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 ./spatch --cocci-file foo.cocci --dir foodir
<div style="height: 1.00em;">&#x00A0;</div>
If the semantic patch is not working as expected, the option --debug shows
  selection of information about the application of a semantic patch to a file
  or directory.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="MORE_OPTIONS"><a class="selflink" href="#MORE_OPTIONS">MORE
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">MAIN OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sp-file</b></dt>
  <dd class="It-tag">&lt;file&gt; the semantic patch file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">&lt;file&gt; the output file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--in-place</b></dt>
  <dd class="It-tag">do the modification on the file directly</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--backup-suffix</b></dt>
  <dd class="It-tag">suffix to use when making a backup for inplace</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--out-place</b></dt>
  <dd class="It-tag">store modifications in a .cocci_res file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--reverse</b></dt>
  <dd class="It-tag">invert the semantic patch before applying it</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag">set number of diff context lines</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--partial-match</b></dt>
  <dd class="It-tag">report partial matches of the SP on the C file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iso-file</b></dt>
  <dd class="It-tag">&lt;file&gt;
      (default=/usr/local/lib/coccinelle/standard.iso)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--macro-file</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--macro-file-builtins</b></dt>
  <dd class="It-tag">&lt;file&gt;
    (default=/usr/local/lib/coccinelle/standard.h)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--recursive-includes</b></dt>
  <dd class="It-tag">causes all available include files, both those included in
      the C file(s) and those included in header files, to be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--all-includes</b></dt>
  <dd class="It-tag">causes all available include files included in the C
      file(s) to be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-includes</b></dt>
  <dd class="It-tag">causes not even local include files to be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--local-includes</b></dt>
  <dd class="It-tag">causes local include files to be used</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-unknown-options</b></dt>
  <dd class="It-tag">For integration in a toolchain (must be set before the
      first unknown option)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include-headers</b></dt>
  <dd class="It-tag">process header files independently</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">&lt;dir&gt; containing the header files (optional)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--preprocess</b></dt>
  <dd class="It-tag">run the C preprocessor before applying the semantic
    match</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">gcc/cpp compatibility mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dir</b></dt>
  <dd class="It-tag">&lt;dir&gt; process all files in directory recursively</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-glimpse</b></dt>
  <dd class="It-tag">works with <b>--dir</b>, use info generated by
    glimpseindex</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-google</b></dt>
  <dd class="It-tag">find relevant files using google code search</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-idutils</b></dt>
  <dd class="It-tag">find relevant files using id-utils</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patch</b></dt>
  <dd class="It-tag">&lt;dir&gt; path name with respect to which a patch should
      be created</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">&quot;&quot; for a file in the current directory</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--kbuild-info</b></dt>
  <dd class="It-tag">&lt;file&gt; improve <b>--dir</b> by grouping related c
      files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pyoutput</b></dt>
  <dd class="It-tag">Sets output routine: Standard values:
      &lt;coccilib.output.Gtk|coccilib.output.Console&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">guess what</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--date</b></dt>
  <dd class="It-tag">guess what</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--shorthelp</b></dt>
  <dd class="It-tag">see short list of options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--longhelp</b></dt>
  <dd class="It-tag">see all the available options in different categories</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ALIASES AND OBSOLETE OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sp</b></dt>
  <dd class="It-tag">command line semantic patch</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iso</b></dt>
  <dd class="It-tag">short option of <b>--iso-file</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cocci-file</b></dt>
  <dd class="It-tag">&lt;file&gt; the semantic patch file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">MOST USEFUL SHOW OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-diff</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--no-show-diff</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-diffshow</b></dt>
  <dd class="It-tag">diff even if only spacing changes</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-flow</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ctl-inline-let</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ctl-show-mcodekind</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-bindings</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-transinfo</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-misc</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--show-trying</b></dt>
  <dd class="It-tag">show the name of each function being processed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--show-dependencies</b></dt>
  <dd class="It-tag">show the dependencies related to each rule</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">VERBOSE SUBSYSTEMS OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--verbose-ctl-engine</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--verbose-match</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--verbose-engine</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--graphical-trace</b></dt>
  <dd class="It-tag">generate a pdf file representing the matching process</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gt-without-label</b></dt>
  <dd class="It-tag">remove graph label (requires option
      <b>-graphical-trace</b>)</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--parse-error-msg</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--verbose-parsing</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--type-error-msg</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">OTHER SHOW OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-c</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-cocci</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-before-fixed-flow</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-ctl-tex</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-ctl-text</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--show-SP</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">DEBUG C PARSING/UNPARSING</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--debug-cpp</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--debug-lexer</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--debug-etdt</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--debug-typedef</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--filter-msg</b></dt>
  <dd class="It-tag">filter some cpp message when the macro is a
      &quot;known&quot; cpp construct</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--filter-define-error</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--filter-msg-define-error</b></dt>
  <dd class="It-tag">filter the error msg</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--filter-passed-level</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--debug-unparsing</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">SHORTCUT FOR ENABLING/DISABLING A SET OF DEBUGGING OPTIONS
    AT ONCE</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--quiet</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--very-quiet</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--debug</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--pad</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">BENCH OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--profile</b></dt>
  <dd class="It-tag">gather timing information about the main coccinelle
      functions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bench</b></dt>
  <dd class="It-tag">&lt;level&gt; for profiling the CTL engine</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--timeout</b></dt>
  <dd class="It-tag">&lt;sec&gt; timeout in seconds</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--steps</b></dt>
  <dd class="It-tag">max number of model checking steps per code unit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--iso-limit</b></dt>
  <dd class="It-tag">max depth of iso application</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-iso-limit</b></dt>
  <dd class="It-tag">disable limit on max depth of iso application</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--track-iso</b></dt>
  <dd class="It-tag">gather information about isomorphism usage</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-iso</b></dt>
  <dd class="It-tag">disable a specific isomorphism</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--profile-iso</b></dt>
  <dd class="It-tag">gather information about the cost of isomorphism usage</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">CHANGE OF ALGORITHM OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keep-comments</b></dt>
  <dd class="It-tag">keep comments around removed code</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--loop</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-loops</b></dt>
  <dd class="It-tag">drop all back edges derived from looping constructs -
      unsafe</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-gotos</b></dt>
  <dd class="It-tag">drop all jumps derived from gotos - unsafe</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-saved-typedefs</b></dt>
  <dd class="It-tag">drop all inferred typedefs from one parse of some code to
      the next</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ocaml-regexps</b></dt>
  <dd class="It-tag">use OCaml Str regular expressions for constraints</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--l1</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ifdef-to-if</b></dt>
  <dd class="It-tag">convert ifdef to if (experimental)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-ifdef-to-if</b></dt>
  <dd class="It-tag">convert ifdef to if (experimental)</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--disable-multi-pass</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--noif0-passing</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--defined</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--undefined</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--noadd-typedef-root</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disallow-nested-exps</b></dt>
  <dd class="It-tag">disallow an expresion pattern from matching a term and its
      subterm</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--disable-worth-trying-opt</b></div>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--only-return-is-error-exitif</b>
  this flag is not set, then break and continue are also error exits</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--allow-inconsistent-paths</b></dt>
  <dd class="It-tag">if this flag is set don't check for inconsistent paths;
      dangerous</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-safe-expressions</b></dt>
  <dd class="It-tag">make an expression disjunction not prioritise the topmost
      disjunct</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--int-bits</b></dt>
  <dd class="It-tag">the number of bits in an unsigned int</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--long-bits</b></dt>
  <dd class="It-tag">the number of bits in an unsigned long</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--linux-spacing</b></dt>
  <dd class="It-tag">spacing of + code follows the conventions of Linux</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--smpl-spacing</b></dt>
  <dd class="It-tag">spacing of + code follows the semantic patch</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">indicate that a virtual rule should be considered to be
      matched</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--c</b>++</dt>
  <dd class="It-tag">make a small attempt to parse C++ files. The supported
      extensions for source files are .cpp, .cxx, .cc, and for header files are
      .h, .hpp and .hxx. Note that this option disables the processing of .c
      files as Coccinelle behaviour is different for C++.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">MISC OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debugger</b></dt>
  <dd class="It-tag">option to set if launch spatch in ocamldebug</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-once</b></dt>
  <dd class="It-tag">to print more messages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--show-trace-profile</b></dt>
  <dd class="It-tag">show trace</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--save-tmp-files</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">CONCURRENCY</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--index</b></dt>
  <dd class="It-tag">the processor to use for this run of spatch</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max</b></dt>
  <dd class="It-tag">the number of processors available</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mod-distrib</b></dt>
  <dd class="It-tag">use mod to distribute files among the processors</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">PAD OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--use-cache</b></dt>
  <dd class="It-tag">use .ast_raw pre-parsed cached C file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cache-prefix</b></dt>
  <dd class="It-tag">directory of cached ASTs, sets <b>--use-cache</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cache-limit</b></dt>
  <dd class="It-tag">maximum number of cached ASTs, sets <b>--use-cache</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">TEST MODE AND TEST OPTIONS (WORKS WITH TESTS/ OR .OK
    FILES)</dt>
  <dd class="It-tag">The test options don't work with the <b>--sp-file</b> and
      so on.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--test</b></dt>
  <dd class="It-tag">&lt;file&gt; launch spatch on tests/file.[c,cocci]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--testall</b></dt>
  <dd class="It-tag">launch spatch on all files in tests/ having a .res</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--test-okfailed</b></dt>
  <dd class="It-tag">generates .{ok,failed,spatch_ok} files using .res
    files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--test-regression-okfailed</b></dt>
  <dd class="It-tag">process the .{ok,failed,spatch_ok} files in current
    dir</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--compare-with-expected</b></dt>
  <dd class="It-tag">use also file.res</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--expected-score-file</b></dt>
  <dd class="It-tag">which score file to compare with in <b>--testall</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-update-score-file</b></dt>
  <dd class="It-tag">do not update the score file when <b>--testall</b>
    succeeds</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--relax-include-path</b></div>
<dl class="Bl-tag">
  <dt class="It-tag">ACTION MODE</dt>
  <dd class="It-tag">The action options don't work with the <b>--sp-file</b> and
      so on. It's for the other (internal) uses of the spatch program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tokens-c</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse-c</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse-h</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse-ch</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse-i</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--show-flow</b></dt>
  <dd class="It-tag">&lt;file or file:function&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--control-flow</b></dt>
  <dd class="It-tag">&lt;file or file:function&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--control-flow-to-file</b></dt>
  <dd class="It-tag">&lt;file or file:function&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--test-cfg-ifdef</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse-unparse</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--type-c</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--compare-c</b></dt>
  <dd class="It-tag">&lt;file1&gt; &lt;file2&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--comment-annotater-c</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--compare-c-hardcoded</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--test-attributes</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--test-cpp</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--extract-macros</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--extract-macros-select</b></dt>
  <dd class="It-tag">&lt;file or dir&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--xxx</b></dt>
  <dd class="It-tag">&lt;file1&gt; &lt;&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parse-cocci</b></dt>
  <dd class="It-tag">&lt;file&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--compare-c</b></dt>
  <dd class="It-tag">&lt;file1&gt; &lt;file2&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>@SHAREDIR@/standard.iso</i>
<div style="margin-left: 5.00ex;">This file contains the default set of
  isomorphisms.</div>
<i>@SHAREDIR@/standard.h</i>
<div style="margin-left: 5.00ex;">This file contains the default set of macro
  hints.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">COCCINELLE_HOME</dt>
  <dd class="It-tag">The path to the Coccinelle share directory. Default is
      <i>@SHAREDIR@</i>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
Y. Padioleau, J.L. Lawall, R.R Hansen, G. Muller. &quot;Documenting and
  Automating Collateral Evolutions in Linux Device Driver&quot;, <i>EuroSys
  2008</i> , Glasgow, Scotland, April 2008, pp. 247-260.
<div style="height: 1.00em;">&#x00A0;</div>
Julien Brunel, Damien Doligez, Ren&#x00E9; Rydhof Hansen, Julia L. Lawall,
  Gilles Muller. &quot;A foundation for flow-based program matching: using
  temporal logic and model checking&quot;, <i>POPL 2009</i> , Savannah, GA, USA,
  January 21-23, 2009, pp. 114-126.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>spatch</b> was written by Julia Lawall &lt;julia.lawall@lip6.fr&gt;, Yoann
  Padioleau &lt;yoann.padioleau@gmail.com&gt;, Rene Rydhof Hansen
  &lt;rrh@cs.aau.dk&gt;, Henrik Stuart &lt;henrik@hstuart.dk&gt;, Nicolas Palix
  &lt;nicolas.palix@imag.fr&gt;, Peter Senna Tschudin
  &lt;peter.senna@gmail.com&gt;, S&#x00E9;bastien Hinderer
  &lt;Sebastien.Hinderer@inria.fr&gt;, Xavier Clerc
  &lt;xavier.clerc@inria.fr&gt; and Matthieu Caneill
  &lt;matthieu.caneill42@gmail.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This manual page was written by Yoann Padioleau
  &lt;yoann.padioleau@gmail.com&gt;, Julia Lawall &lt;julia.lawall@lip6.fr&gt;,
  Nicolas Palix &lt;nicolas.palix@imag.fr&gt; and Peter Senna Tschudin
  &lt;peter.senna@gmail.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Send a mail to &lt;cocci@systeme.lip6.fr&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2012, 2015, INRIA and University of Grenoble-Alpes LIG. Copyright
  2010, 2011, University of Copenhagen DIKU and INRIA. Copyright 2005-2009,
  Ecole des Mines de Nantes, University of Copenhagen. spatch is free software:
  you can redistribute it and/or modify it under the terms of the GNU General
  Public License as published by the Free Software Foundation, according to
  version 2 of the License.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>patch</i>(1), <i>diff</i>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 26, 2015</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
