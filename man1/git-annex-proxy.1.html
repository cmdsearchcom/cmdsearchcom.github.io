<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>git-annex-proxy(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">git-annex-proxy(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">git-annex-proxy(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
git-annex-proxy - safely bypass direct mode guard
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
git annex proxy <b>-- git cmd [options]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Only useful in a direct mode repository, this runs the specified git command
  with a temporary work tree, and updates the working tree to reflect any
  changes staged or committed by the git command.
<div class="Pp"></div>
For example, to revert the most recent change that was committed to the
  repository:
<div class="Pp"></div>
<br/>
 git annex proxy -- git revert HEAD
<div class="Pp"></div>
To check out a past version of the repository:
<div class="Pp"></div>
<br/>
 git annex proxy -- git checkout HEAD^^
<div class="Pp"></div>
To rename a directory:
<div class="Pp"></div>
<br/>
 git annex proxy -- git mv mydir newname
<div class="Pp"></div>
To commit the changes to a specific file, first use git annex add to stage the
  changes in the index, and then proxy a commit:
<div class="Pp"></div>
<br/>
 git annex add myfile
<br/>
 git annex proxy -- git commit myfile -m foo
<div class="Pp"></div>
The temporary work tree that the git command is run in is set up by checking out
  all files that are in the index, and copying (or hard linking) any unstaged
  files from the real work tree. Since the git command is run using this
  temporary work tree, it won't see eg, local modifications to files. So, it
  probably is not useful to proxy a command like &quot;git add&quot;. However,
  you can use the proxy with any git command you like, as long as you think
  about how it will interact with the temporary work tree.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
git-annex(1)
<div class="Pp"></div>
git-annex-direct(1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Joey Hess &lt;id@joeyh.name&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
