<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:48 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>USBGUARD(1) USBGUARD(1)</p>

<p style="margin-top: 1em">NAME <br>
usbguard -- USBGuard command-line interface</p>

<p style="margin-top: 1em">SYNOPSIS <br>
usbguard [OPTIONS] command [COMMAND-OPTIONS] ...</p>

<p style="margin-top: 1em">usbguard list-devices</p>

<p style="margin-top: 1em">usbguard allow-device
&lt;id&gt;</p>

<p style="margin-top: 1em">usbguard block-device
&lt;id&gt;</p>

<p style="margin-top: 1em">usbguard reject-device
&lt;id&gt;</p>

<p style="margin-top: 1em">usbguard list-rules</p>

<p style="margin-top: 1em">usbguard append-rule
&lt;rule&gt;</p>

<p style="margin-top: 1em">usbguard remove-rule
&lt;id&gt;</p>

<p style="margin-top: 1em">usbguard generate-policy</p>

<p style="margin-top: 1em">usbguard watch</p>

<p style="margin-top: 1em">usbguard read-descriptor
&lt;file&gt;</p>

<p style="margin-top: 1em">usbguard add-user
&lt;name&gt;</p>

<p style="margin-top: 1em">usbguard remove-user
&lt;name&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The usbguard command provides a command-line interface (CLI)
to the usbguard-daemon(8) instance and provides a tool for
generating initial USBGuard policies.</p>

<p style="margin-top: 1em">SUBCOMMANDS <br>
list-devices</p>

<p style="margin-top: 1em">List all USB devices recognized
by the USBGuard daemon.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-a, --allowed <br>
List allowed devices.</p>

<p style="margin-top: 1em">-b, --blocked <br>
List blocked devices.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">allow-device [OPTIONS]
&lt;id&gt;</p>

<p style="margin-top: 1em">Authorize a device identified by
the device id to interact with the system.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-p, --permanent <br>
Make the decision permanent. A device specific allow rule
will be appended to the current policy.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">block-device [OPTIONS]
&lt;id&gt;</p>

<p style="margin-top: 1em">Deauthorize a device identified
by the device id.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-p, --permanent <br>
Make the decision permanent. A device specific block rule
will be appended to the current policy.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">reject-device [OPTIONS]
&lt;id&gt;</p>

<p style="margin-top: 1em">Deauthorize and remove a device
identified by the device id.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-p, --permanent <br>
Make the decision permanent. A device specific reject rule
will be appended to the current policy.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">list-rules [OPTIONS]</p>

<p style="margin-top: 1em">List the rule set (policy) used
by the USBGuard daemon.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">append-rule [OPTIONS]
&lt;rule&gt;</p>

<p style="margin-top: 1em">Append the rule to the current
rule set.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-a, --after &lt;id&gt; <br>
Append the new rule after a rule with the specified rule
id.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">remove-rule [OPTIONS]
&lt;id&gt;</p>

<p style="margin-top: 1em">Remove a rule identified by the
rule id from the rule set.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">generate-policy [OPTIONS]</p>

<p style="margin-top: 1em">Generate a rule set (policy)
which authorizes the currently connected USB devices.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-p, --with-ports <br>
Generate port specific rules for all devices. By default,
port specific rules are generated only for devices which do
not export an iSerial value.</p>

<p style="margin-top: 1em">-P, --no-ports-sn <br>
Don&rsquo;t generate port specific rules for devices without
an iSerial value. Without this option, the tool will add a
via-port attribute to any device that doesn&rsquo;t provide
a <br>
serial number. This is a security measure to limit devices
that cannot be uniquely identified to connect only via a
specific port. This makes it harder to bypass the <br>
policy since the real device will occupy the allowed USB
port most of the time.</p>

<p style="margin-top: 1em">-t, --target &lt;target&gt; <br>
Generate an explicit &quot;catch all&quot; rule with the
specified target. The target can be one of the following
values: allow, block, reject</p>

<p style="margin-top: 1em">-X, --no-hashes <br>
Don&rsquo;t generate a hash attribute for each device.</p>

<p style="margin-top: 1em">-H, --hash-only <br>
Generate a hash-only policy.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">watch [OPTIONS]</p>

<p style="margin-top: 1em">Watch the IPC interface events
and print them to stdout.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">read-descriptor [OPTIONS]
&lt;file&gt;</p>

<p style="margin-top: 1em">Read a USB descriptor from a
file and print it in human-readable form.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-h, --help <br>
Show help. <br>
~ ~ ~</p>

<p style="margin-top: 1em">add-user &lt;name&gt;
[OPTIONS]</p>

<p style="margin-top: 1em">Create an IPC access control
file allowing the user/group identified by name to use the
USBGuard IPC bus. The change takes effect only after
restarting the usbguard-daemon(8) <br>
instance.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-u, --user <br>
The specified name represents a username or UID
(default).</p>

<p style="margin-top: 1em">-g, --group <br>
The specified name represents a groupname or GID.</p>

<p style="margin-top: 1em">-p, --policy &lt;privileges&gt;
<br>
Policy related privileges.</p>

<p style="margin-top: 1em">-d, --devices &lt;privileges&gt;
<br>
Device related privileges.</p>

<p style="margin-top: 1em">-e, --exceptions
&lt;privileges&gt; <br>
Exceptions related privileges.</p>

<p style="margin-top: 1em">-P, --parameters
&lt;privileges&gt; <br>
Run-time parameter related privileges.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help.</p>

<p style="margin-top: 1em">Privileges:</p>

<p style="margin-top: 1em">When specifying privileges, they
are expected to be in the form of a list separated by a
colon:</p>

<p style="margin-top: 1em">$ sudo usbguard add-user joe
--devices=listen,modify</p>

<p style="margin-top: 1em">Consult the
usbguard-daemon.conf(5) man-page for a detailed list of
available privileges in each section. <br>
~ ~ ~</p>

<p style="margin-top: 1em">remove-user &lt;name&gt;
[OPTIONS]</p>

<p style="margin-top: 1em">Remove an IPC access control
file associated with the user/group identified by name. The
change takes effect only after restarting the
usbguard-daemon(8) instance.</p>

<p style="margin-top: 1em">Available options:</p>

<p style="margin-top: 1em">-u, --user <br>
The specified name represents a username or UID
(default).</p>

<p style="margin-top: 1em">-g, --group <br>
The specified name represents a groupname or GID.</p>

<p style="margin-top: 1em">-h, --help <br>
Show help.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Creating an initial policy</p>

<p style="margin-top: 1em">$ sudo usbguard generate-policy
&gt; rules.conf <br>
$ vi rules.conf <br>
(review/modify the rule set) <br>
$ sudo install -m 0600 -o root -g root rules.conf
/etc/usbguard/rules.conf</p>

<p style="margin-top: 1em">BUGS <br>
If you find a bug in this software or if you&rsquo;d like to
request a feature to be implemented, please file a ticket at
&lt;https://github.com/dkopecek/usbguard/issues/new&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2017 Red Hat, Inc. License GPLv2+:
GNU GPL version 2 or later
&lt;http://gnu.org/licenses/gpl.html&gt;. This is free
software: you are free to change and redistribute it. <br>
There is NO WARRANTY, to the extent permitted by law.</p>

<p style="margin-top: 1em">SEE ALSO <br>
usbguard-rules.conf(5), usbguard-daemon(8),
usbguard-daemon.conf(5)</p>

<p style="margin-top: 1em">AUTHORS <br>
Daniel Kope&Auml;ek &lt;dkopecek@redhat.com&gt;.</p>

<p style="margin-top: 1em">April 2017 USBGUARD(1)</p>
<hr>
</body>
</html>
