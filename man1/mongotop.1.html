<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:25:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MONGOTOP(1) mongodb-manual MONGOTOP(1)</p>

<p style="margin-top: 1em">NAME <br>
mongotop - MongoDB Activity Monitor</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mongotop provides a method to track the amount of time a
MongoDB instance spends reading and writing data. mongotop
provides statistics on a per-collection level. By default,
<br>
mongotop returns values every second.</p>

<p style="margin-top: 1em">IMPORTANT: <br>
In order to connect to a mongod that enforces authorization
with the --auth option, the --username and --password
options must be used, and the user specified must have the
<br>
serverStatus and top privileges.</p>

<p style="margin-top: 1em">The most appropriate built-in
role that has these privileges is clusterMonitor.</p>

<p style="margin-top: 1em">SEE ALSO: <br>
For more information about monitoring MongoDB, see
http://docs.mongodb.org/manual/administration/monitoring.</p>

<p style="margin-top: 1em">For additional background on
various other MongoDB status outputs see:</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://docs.mongodb.org/manual/reference/command/serverStatus</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://docs.mongodb.org/manual/reference/command/replSetGetStatus</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://docs.mongodb.org/manual/reference/command/dbStats</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://docs.mongodb.org/manual/reference/command/collStats</p>

<p style="margin-top: 1em">For an additional utility that
provides MongoDB metrics see mongostat.</p>

<p style="margin-top: 1em">OPTIONS <br>
mongotop</p>

<p style="margin-top: 1em">mongotop</p>

<p style="margin-top: 1em">--help Returns information on
the options and use of mongotop.</p>

<p style="margin-top: 1em">--verbose, -v <br>
Increases the amount of internal reporting returned on
standard output or in log files. Increase the verbosity with
the -v form by including the option multiple times, <br>
(e.g. -vvvvv.)</p>

<p style="margin-top: 1em">--quiet <br>
Runs the mongotop in a quiet mode that attempts to limit the
amount of output.</p>

<p style="margin-top: 1em">This option suppresses:</p>

<p style="margin-top: 1em">&Acirc;&middot; output from
database commands</p>

<p style="margin-top: 1em">&Acirc;&middot; replication
activity</p>

<p style="margin-top: 1em">&Acirc;&middot; connection
accepted events</p>

<p style="margin-top: 1em">&Acirc;&middot; connection
closed events</p>

<p style="margin-top: 1em">--version <br>
Returns the mongotop release number.</p>

<p style="margin-top: 1em">--host
&lt;hostname&gt;&lt;:port&gt;, -h
&lt;hostname&gt;&lt;:port&gt; <br>
Default: localhost:27017</p>

<p style="margin-top: 1em">Specifies a resolvable hostname
for the mongod to which to connect. By default, the mongotop
attempts to connect to a MongoDB instance running on the
localhost on port <br>
number 27017.</p>

<p style="margin-top: 1em">To connect to a replica set,
specify the replSetName and a seed list of set members, as
in the following:</p>


<p style="margin-top: 1em">&lt;replSetName&gt;/&lt;hostname1&gt;&lt;:port&gt;,&lt;hostname2&gt;&lt;:port&gt;,&lt;...&gt;</p>

<p style="margin-top: 1em">You can always connect directly
to a single MongoDB instance by specifying the host and port
number directly.</p>

<p style="margin-top: 1em">Changed in version 3.0.0: If you
use IPv6 and use the &lt;address&gt;:&lt;port&gt; format,
you must enclose the portion of an address and port
combination in brackets (e.g. <br>
[&lt;address&gt;]).</p>

<p style="margin-top: 1em">If connected to a replica set
where the primary is not reachable, mongotop returns an
error message.</p>

<p style="margin-top: 1em">--port &lt;port&gt; <br>
Default: 27017</p>

<p style="margin-top: 1em">Specifies the TCP port on which
the MongoDB instance listens for client connections.</p>

<p style="margin-top: 1em">--ipv6 Enables IPv6 support and
allows the mongotop to connect to the MongoDB instance using
an IPv6 network. All MongoDB programs and processes disable
IPv6 support by default.</p>

<p style="margin-top: 1em">--ssl New in version 2.6.</p>

<p style="margin-top: 1em">Enables connection to a mongod
or mongos that has SSL support enabled.</p>

<p style="margin-top: 1em">The default distribution of
MongoDB does not contain support for SSL. For more
information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure-ssl.</p>

<p style="margin-top: 1em">--sslCAFile &lt;filename&gt;
<br>
New in version 2.6.</p>

<p style="margin-top: 1em">Specifies the .pem file that
contains the root certificate chain from the Certificate
Authority. Specify the file name of the .pem file using
relative or absolute paths.</p>

<p style="margin-top: 1em">The default distribution of
MongoDB does not contain support for SSL. For more
information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure-ssl.</p>

<p style="margin-top: 1em">WARNING: <br>
If the mongo shell or any other tool that connects to mongos
or mongod is run without --sslCAFile, it will not attempt to
validate server certificates. This results in <br>
vulnerability to expired mongod and mongos certificates as
well as to foreign processes posing as valid mongod or
mongos instances. Ensure that you always specify the <br>
CA file against which server certificates should be
validated in cases where intrusion is a possibility.</p>

<p style="margin-top: 1em">--sslPEMKeyFile &lt;filename&gt;
<br>
New in version 2.6.</p>

<p style="margin-top: 1em">Specifies the .pem file that
contains both the SSL certificate and key. Specify the file
name of the .pem file using relative or absolute paths.</p>

<p style="margin-top: 1em">This option is required when
using the --ssl option to connect to a mongod or mongos that
has CAFile enabled without
allowConnectionsWithoutCertificates.</p>

<p style="margin-top: 1em">The default distribution of
MongoDB does not contain support for SSL. For more
information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure-ssl.</p>

<p style="margin-top: 1em">--sslPEMKeyPassword
&lt;value&gt; <br>
New in version 2.6.</p>

<p style="margin-top: 1em">Specifies the password to
de-crypt the certificate-key file (i.e. --sslPEMKeyFile).
Use the --sslPEMKeyPassword option only if the
certificate-key file is encrypted. In <br>
all cases, the mongotop will redact the password from all
logging and reporting output.</p>

<p style="margin-top: 1em">If the private key in the PEM
file is encrypted and you do not specify the
--sslPEMKeyPassword option, the mongotop will prompt for a
passphrase. See ssl-certificate-pass&acirc; <br>
word.</p>

<p style="margin-top: 1em">The default distribution of
MongoDB does not contain support for SSL. For more
information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure-ssl.</p>

<p style="margin-top: 1em">--sslCRLFile &lt;filename&gt;
<br>
New in version 2.6.</p>

<p style="margin-top: 1em">Specifies the .pem file that
contains the Certificate Revocation List. Specify the file
name of the .pem file using relative or absolute paths.</p>

<p style="margin-top: 1em">The default distribution of
MongoDB does not contain support for SSL. For more
information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure-ssl.</p>

<p style="margin-top: 1em">--sslAllowInvalidCertificates
<br>
New in version 2.6.</p>

<p style="margin-top: 1em">Bypasses the validation checks
for server certificates and allows the use of invalid
certificates. When using the allowInvalidCertificates
setting, MongoDB logs as a warn&acirc; <br>
ing the use of the invalid certificate.</p>

<p style="margin-top: 1em">The default distribution of
MongoDB does not contain support for SSL. For more
information on MongoDB and SSL, see
http://docs.mongodb.org/manual/tutorial/configure-ssl.</p>

<p style="margin-top: 1em">--sslAllowInvalidHostnames <br>
New in version 3.0.</p>

<p style="margin-top: 1em">Disables the validation of the
hostnames in SSL certificates. Allows mongotop to connect to
MongoDB instances if the hostname their certificates do not
match the specified <br>
hostname.</p>

<p style="margin-top: 1em">--sslFIPSMode <br>
New in version 2.6.</p>

<p style="margin-top: 1em">Directs the mongotop to use the
FIPS mode of the installed OpenSSL library. Your system must
have a FIPS compliant OpenSSL library to use the
--sslFIPSMode option.</p>

<p style="margin-top: 1em">NOTE: <br>
FIPS Compatible SSL is available only in MongoDB Enterprise.
See http://docs.mongodb.org/manual/tutorial/configure-fips
for more information.</p>

<p style="margin-top: 1em">--username &lt;username&gt;, -u
&lt;username&gt; <br>
Specifies a username with which to authenticate to a MongoDB
database that uses authentication. Use in conjunction with
the --password and --authenticationDatabase <br>
options.</p>

<p style="margin-top: 1em">--password &lt;password&gt;, -p
&lt;password&gt; <br>
Specifies a password with which to authenticate to a MongoDB
database that uses authentication. Use in conjunction with
the --username and --authenticationDatabase <br>
options.</p>

<p style="margin-top: 1em">If you do not specify an
argument for --password, mongotop will prompt interactively
for a password on the console.</p>

<p style="margin-top: 1em">--authenticationDatabase
&lt;dbname&gt; <br>
New in version 2.4.</p>

<p style="margin-top: 1em">Specifies the database that
holds the user&rsquo;s credentials.</p>

<p style="margin-top: 1em">Changed in version 3.0.0:
--authenticationDatabase is required for mongod and mongos
instances that use authentication.</p>

<p style="margin-top: 1em">--authenticationMechanism
&lt;name&gt; <br>
Default: MONGODB-CR</p>

<p style="margin-top: 1em">New in version 2.4.</p>

<p style="margin-top: 1em">Changed in version 2.6: Added
support for the PLAIN and MONGODB-X509 authentication
mechanisms.</p>

<p style="margin-top: 1em">Specifies the authentication
mechanism the mongotop instance uses to authenticate to the
mongod or mongos.</p>


<p style="margin-top: 1em">&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&not;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;
<br>
&acirc;Value &acirc; Description &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;MONGODB-CR &acirc; MongoDB challenge/response
authentication. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;MONGODB-X509 &acirc; MongoDB SSL certificate
authentication. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acute;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;</p>

<p style="margin-top: 1em">&acirc;PLAIN &acirc; External
authentication using LDAP. You can also use PLAIN for
&acirc; <br>
&acirc; &acirc; authenticating in-database users. PLAIN
transmits passwords in &acirc; <br>
&acirc; &acirc; plain text. This mechanism is available only
in MongoDB Enter&acirc; &acirc; <br>
&acirc; &acirc; prise. &acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&frac14;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&curren;
<br>
&acirc;GSSAPI &acirc; External authentication using
Kerberos. This mechanism is &acirc; <br>
&acirc; &acirc; available only in MongoDB Enterprise.
&acirc; <br>

&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acute;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;&acirc;</p>

<p style="margin-top: 1em">--gssapiServiceName <br>
New in version 2.6.</p>

<p style="margin-top: 1em">Specify the name of the service
using GSSAPI/Kerberos. Only required if the service does not
use the default name of mongodb.</p>

<p style="margin-top: 1em">This option is available only in
MongoDB Enterprise.</p>

<p style="margin-top: 1em">--gssapiHostName <br>
New in version 2.6.</p>

<p style="margin-top: 1em">Specify the hostname of a
service using GSSAPI/Kerberos. Only required if the hostname
of a machine does not match the hostname resolved by
DNS.</p>

<p style="margin-top: 1em">This option is available only in
MongoDB Enterprise.</p>

<p style="margin-top: 1em">--locks <br>
Toggles the mode of mongotop to report on use of
per-database locks. These data are useful for measuring
concurrent operations and lock percentage.</p>

<p style="margin-top: 1em">--locks returns an error when
called against a mongod instance that does not report lock
usage.</p>

<p style="margin-top: 1em">--rowcount int, -n int <br>
Number of lines of data that mongotop should print. &quot;0
for indefinite&quot;</p>

<p style="margin-top: 1em">--json New in version 3.0.0.</p>

<p style="margin-top: 1em">Returns output for mongotop in
JSON format.</p>

<p style="margin-top: 1em">&lt;sleeptime&gt; <br>
The final argument is the length of time, in seconds, that
mongotop waits in between calls. By default mongotop returns
data every second.</p>

<p style="margin-top: 1em">FIELDS <br>
mongotop returns time values specified in milliseconds
(ms.)</p>

<p style="margin-top: 1em">mongotop only reports active
namespaces or databases, depending on the --locks option. If
you don&rsquo;t see a database or collection, it has
received no recent activity. You can <br>
issue a simple operation in the mongo shell to generate
activity to affect the output of mongotop.</p>

<p style="margin-top: 1em">mongotop.ns <br>
Contains the database namespace, which combines the database
name and collection.</p>

<p style="margin-top: 1em">Changed in version 2.2: If you
use the mongotop --locks, the ns field does not appear in
the mongotop output.</p>

<p style="margin-top: 1em">mongotop.db <br>
New in version 2.2.</p>

<p style="margin-top: 1em">Contains the name of the
database. The database named . refers to the global lock,
rather than a specific database.</p>

<p style="margin-top: 1em">This field does not appear
unless you have invoked mongotop with the --locks
option.</p>

<p style="margin-top: 1em">mongotop.total <br>
Provides the total amount of time that this mongod spent
operating on this namespace.</p>

<p style="margin-top: 1em">mongotop.read <br>
Provides the amount of time that this mongod spent
performing read operations on this namespace.</p>

<p style="margin-top: 1em">mongotop.write <br>
Provides the amount of time that this mongod spent
performing write operations on this namespace.</p>

<p style="margin-top: 1em">mongotop.&lt;timestamp&gt; <br>
Provides a time stamp for the returned data.</p>

<p style="margin-top: 1em">USE <br>
By default mongotop connects to the MongoDB instance running
on the localhost port 27017. However, mongotop can
optionally connect to remote mongod instances. See the
mongotop <br>
options for more information.</p>

<p style="margin-top: 1em">To force mongotop to return less
frequently specify a number, in seconds at the end of the
command. In this example, mongotop will return every 15
seconds.</p>

<p style="margin-top: 1em">mongotop 15</p>

<p style="margin-top: 1em">This command produces the
following output:</p>

<p style="margin-top: 1em">ns total read write
2014-12-19T15:32:01-05:00 <br>
admin.system.roles 0ms 0ms 0ms <br>
admin.system.version 0ms 0ms 0ms <br>
local.me 0ms 0ms 0ms <br>
local.oplog.rs 0ms 0ms 0ms <br>
local.replset.minvalid 0ms 0ms 0ms <br>
local.startup_log 0ms 0ms 0ms <br>
local.system.indexes 0ms 0ms 0ms <br>
local.system.namespaces 0ms 0ms 0ms <br>
local.system.replset 0ms 0ms 0ms</p>

<p style="margin-top: 1em">ns total read write
2014-12-19T15:47:01-05:00 <br>
admin.system.roles 0ms 0ms 0ms <br>
admin.system.version 0ms 0ms 0ms <br>
local.me 0ms 0ms 0ms <br>
local.oplog.rs 0ms 0ms 0ms <br>
local.replset.minvalid 0ms 0ms 0ms <br>
local.startup_log 0ms 0ms 0ms <br>
local.system.indexes 0ms 0ms 0ms <br>
local.system.namespaces 0ms 0ms 0ms <br>
local.system.replset 0ms 0ms 0ms</p>

<p style="margin-top: 1em">The output varies depending on
your MongoDB setup. For example, local.system.indexes and
local.system.namespaces only appear for mongod instances
using the MMAPv1 storage engine.</p>

<p style="margin-top: 1em">To return a mongotop report
every 5 minutes, use the following command:</p>

<p style="margin-top: 1em">mongotop 300</p>

<p style="margin-top: 1em">To report the use of
per-database locks, use --locks, which produces the
following output:</p>

<p style="margin-top: 1em">$ mongotop --locks <br>
connected to: 127.0.0.1</p>

<p style="margin-top: 1em">db total read write
2012-08-13T16:33:34 <br>
local 0ms 0ms 0ms <br>
admin 0ms 0ms 0ms <br>
. 0ms 0ms 0ms</p>

<p style="margin-top: 1em">Changed in version 3.0.0: When
called against a mongod that does not report lock usage,
--locks will return a Failed: Server does not support
reporting locking information error.</p>

<p style="margin-top: 1em">AUTHOR <br>
MongoDB Documentation Project</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2011-2015</p>

<p style="margin-top: 1em">3.0 January 30, 2015
MONGOTOP(1)</p>
<hr>
</body>
</html>
