<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:12:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>geninfo(1) User Manuals geninfo(1)</p>

<p style="margin-top: 1em">NAME <br>
geninfo - Generate tracefiles from .da files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
geninfo [-h|--help] [-v|--version] [-q|--quiet] <br>
[-i|--initial] [-t|--test-name test-name] <br>
[-o|--output-filename filename] [-f|--follow] <br>
[-b|--base-directory directory] <br>
[--checksum] [--no-checksum] <br>
[--compat-libtool] [--no-compat-libtool] <br>
[--gcov-tool tool] [--ignore-errors errors] <br>
[--no-recursion] directory [--external] [--no-external] <br>
[--config-file config-file] [--no-markers] <br>
[--derive-func-data] [--compat mode=on|off|auto] <br>
[--rc keyword=value]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
geninfo converts all GCOV coverage data files found in
directory into tracefiles, which the genhtml tool can
convert to HTML output.</p>

<p style="margin-top: 1em">Unless the --output-filename
option is specified, geninfo writes its output to one file
per .da file, the name of which is generated by simply
appending &quot;.info&quot; to the respective <br>
.da file name.</p>

<p style="margin-top: 1em">Note that the current user needs
write access to both directory as well as to the original
source code location. This is necessary because some
temporary files have to be created <br>
there during the conversion process.</p>

<p style="margin-top: 1em">Note also that geninfo is called
from within lcov, so that there is usually no need to call
it directly.</p>

<p style="margin-top: 1em">Exclusion markers</p>

<p style="margin-top: 1em">To exclude specific lines of
code from a tracefile, you can add exclusion markers to the
source code. Additionally you can exclude specific branches
from branch coverage without <br>
excluding the involved lines from line and function
coverage. Exclusion markers are keywords which can for
example be added in the form of a comment. See lcovrc(5) how
to over&acirc; <br>
ride some of them.</p>

<p style="margin-top: 1em">The following markers are
recognized by geninfo:</p>

<p style="margin-top: 1em">LCOV_EXCL_LINE <br>
Lines containing this marker will be excluded. <br>
LCOV_EXCL_START <br>
Marks the beginning of an excluded section. The current line
is part of this section. <br>
LCOV_EXCL_STOP <br>
Marks the end of an excluded section. The current line not
part of this section. <br>
LCOV_EXCL_BR_LINE <br>
Lines containing this marker will be excluded from branch
coverage. <br>
LCOV_EXCL_BR_START <br>
Marks the beginning of a section which is excluded from
branch coverage. The current line is part of this section.
<br>
LCOV_EXCL_BR_STOP <br>
Marks the end of a section which is excluded from branch
coverage. The current line not part of this section.</p>

<p style="margin-top: 1em">OPTIONS <br>
-b directory <br>
--base-directory directory <br>
Use directory as base directory for relative paths.</p>

<p style="margin-top: 1em">Use this option to specify the
base directory of a build-environment when geninfo produces
error messages like:</p>

<p style="margin-top: 1em">ERROR: could not read source
file
/home/user/project/subdir1/subdir2/subdir1/subdir2/file.c</p>

<p style="margin-top: 1em">In this example, use
/home/user/project as base directory.</p>

<p style="margin-top: 1em">This option is required when
using geninfo on projects built with libtool or similar
build environments that work with a base directory, i.e.
environments, where the cur&acirc; <br>
rent working directory when invoking the compiler is not the
same directory in which the source code file is located.</p>

<p style="margin-top: 1em">Note that this option will not
work in environments where multiple base directories are
used. In that case use configuration file setting
geninfo_auto_base=1 (see <br>
lcovrc(5)).</p>

<p style="margin-top: 1em">--checksum <br>
--no-checksum <br>
Specify whether to generate checksum data when writing
tracefiles.</p>

<p style="margin-top: 1em">Use --checksum to enable
checksum generation or --no-checksum to disable it. Checksum
generation is disabled by default.</p>

<p style="margin-top: 1em">When checksum generation is
enabled, a checksum will be generated for each source code
line and stored along with the coverage data. This checksum
will be used to prevent <br>
attempts to combine coverage data from different source code
versions.</p>

<p style="margin-top: 1em">If you don&rsquo;t work with
different source code versions, disable this option to speed
up coverage data processing and to reduce the size of
tracefiles.</p>

<p style="margin-top: 1em">--compat
mode=value[,mode=value,...] <br>
Set compatibility mode.</p>

<p style="margin-top: 1em">Use --compat to specify that
geninfo should enable one or more compatibility modes when
capturing coverage data. You can provide a comma-separated
list of mode=value pairs <br>
to specify the values for multiple modes.</p>

<p style="margin-top: 1em">Valid values are:</p>

<p style="margin-top: 1em">on <br>
Enable compatibility mode. <br>
off <br>
Disable compatibility mode. <br>
auto <br>
Apply auto-detection to determine if compatibility mode is
required. Note that auto-detection is not available for all
compatibility modes.</p>

<p style="margin-top: 1em">If no value is specified,
&rsquo;on&rsquo; is assumed as default value.</p>

<p style="margin-top: 1em">Valid modes are:</p>

<p style="margin-top: 1em">libtool <br>
Enable this mode if you are capturing coverage data for a
project that was built using the libtool mechanism. See also
--compat-libtool.</p>

<p style="margin-top: 1em">The default value for this
setting is &rsquo;on&rsquo;.</p>

<p style="margin-top: 1em">hammer <br>
Enable this mode if you are capturing coverage data for a
project that was built using a version of GCC 3.3 that
contains a modification (hammer patch) of later GCC <br>
versions. You can identify a modified GCC 3.3 by checking
the build directory of your project for files ending in the
extension &rsquo;.bbg&rsquo;. Unmodified versions of GCC
<br>
3.3 name these files &rsquo;.bb&rsquo;.</p>

<p style="margin-top: 1em">The default value for this
setting is &rsquo;auto&rsquo;.</p>

<p style="margin-top: 1em">split_crc <br>
Enable this mode if you are capturing coverage data for a
project that was built using a version of GCC 4.6 that
contains a modification (split function checksums) <br>
of later GCC versions. Typical error messages when running
geninfo on coverage data produced by such GCC versions are
&Acirc;&acute;out of memory&rsquo; and &rsquo;reached
unexpected end of <br>
file&rsquo;.</p>

<p style="margin-top: 1em">The default value for this
setting is &rsquo;auto&rsquo;</p>

<p style="margin-top: 1em">--compat-libtool <br>
--no-compat-libtool <br>
Specify whether to enable libtool compatibility mode.</p>

<p style="margin-top: 1em">Use --compat-libtool to enable
libtool compatibility mode or --no-compat-libtool to disable
it. The libtool compatibility mode is enabled by
default.</p>

<p style="margin-top: 1em">When libtool compatibility mode
is enabled, geninfo will assume that the source code
relating to a .da file located in a directory named
&quot;.libs&quot; can be found in its parent <br>
directory.</p>

<p style="margin-top: 1em">If you have directories named
&quot;.libs&quot; in your build environment but don&rsquo;t
use libtool, disable this option to prevent problems when
capturing coverage data.</p>

<p style="margin-top: 1em">--config-file config-file <br>
Specify a configuration file to use.</p>

<p style="margin-top: 1em">When this option is specified,
neither the system-wide configuration file /etc/lcovrc, nor
the per-user configuration file ~/.lcovrc is read.</p>

<p style="margin-top: 1em">This option may be useful when
there is a need to run several instances of geninfo with
different configuration file options in parallel.</p>

<p style="margin-top: 1em">--derive-func-data <br>
Calculate function coverage data from line coverage
data.</p>

<p style="margin-top: 1em">Use this option to collect
function coverage data, even if the version of the gcov tool
installed on the test system does not provide this data.
lcov will instead derive <br>
function coverage data from line coverage data and
information about which lines belong to a function.</p>

<p style="margin-top: 1em">--external <br>
--no-external <br>
Specify whether to capture coverage data for external source
files.</p>

<p style="margin-top: 1em">External source files are files
which are not located in one of the directories specified by
--directory or --base-directory. Use --external to include
external source <br>
files while capturing coverage data or --no-external to
ignore this data.</p>

<p style="margin-top: 1em">Data for external source files
is included by default.</p>

<p style="margin-top: 1em">-f <br>
--follow <br>
Follow links when searching .da files.</p>

<p style="margin-top: 1em">--gcov-tool tool <br>
Specify the location of the gcov tool.</p>

<p style="margin-top: 1em">-h <br>
--help <br>
Print a short help text, then exit.</p>

<p style="margin-top: 1em">--ignore-errors errors <br>
Specify a list of errors after which to continue
processing.</p>

<p style="margin-top: 1em">Use this option to specify a
list of one or more classes of errors after which geninfo
should continue processing instead of aborting.</p>

<p style="margin-top: 1em">errors can be a comma-separated
list of the following keywords:</p>

<p style="margin-top: 1em">gcov: the gcov tool returned
with a non-zero return code.</p>

<p style="margin-top: 1em">source: the source code file for
a data set could not be found.</p>

<p style="margin-top: 1em">-i <br>
--initial <br>
Capture initial zero coverage data.</p>

<p style="margin-top: 1em">Run geninfo with this option on
the directories containing .bb, .bbg or .gcno files before
running any test case. The result is a &quot;baseline&quot;
coverage data file that con&acirc; <br>
tains zero coverage for every instrumented line and
function. Combine this data file (using lcov -a) with
coverage data files captured after a test run to ensure that
the <br>
percentage of total lines covered is correct even when not
all object code files were loaded during the test.</p>

<p style="margin-top: 1em">Note: currently, the --initial
option does not generate branch coverage information.</p>

<p style="margin-top: 1em">--no-markers <br>
Use this option if you want to get coverage data without
regard to exclusion markers in the source code file.</p>

<p style="margin-top: 1em">--no-recursion <br>
Use this option if you want to get coverage data for the
specified directory only without processing
subdirectories.</p>

<p style="margin-top: 1em">-o output-filename <br>
--output-filename output-filename <br>
Write all data to output-filename.</p>

<p style="margin-top: 1em">If you want to have all data
written to a single file (for easier handling), use this
option to specify the respective filename. By default, one
tracefile will be created <br>
for each processed .da file.</p>

<p style="margin-top: 1em">-q <br>
--quiet <br>
Do not print progress messages.</p>

<p style="margin-top: 1em">Suppresses all informational
progress output. When this switch is enabled, only error or
warning messages are printed.</p>

<p style="margin-top: 1em">--rc keyword=value <br>
Override a configuration directive.</p>

<p style="margin-top: 1em">Use this option to specify a
keyword=value statement which overrides the corresponding
configuration statement in the lcovrc configuration file.
You can specify this <br>
option more than once to override multiple configuration
statements. See lcovrc(5) for a list of available keywords
and their meaning.</p>

<p style="margin-top: 1em">-t testname <br>
--test-name testname <br>
Use test case name testname for resulting data. Valid test
case names can consist of letters, decimal digits and the
underscore character (&rsquo;_&rsquo;).</p>

<p style="margin-top: 1em">This proves useful when data
from several test cases is merged (i.e. by simply
concatenating the respective tracefiles) in which case a
test name can be used to differen&acirc; <br>
tiate between data from each test case.</p>

<p style="margin-top: 1em">-v <br>
--version <br>
Print version number, then exit.</p>

<p style="margin-top: 1em">FILES <br>
/etc/lcovrc <br>
The system-wide configuration file.</p>

<p style="margin-top: 1em">~/.lcovrc <br>
The per-user configuration file.</p>

<p style="margin-top: 1em">Following is a quick description
of the tracefile format as used by genhtml, geninfo and
lcov.</p>

<p style="margin-top: 1em">A tracefile is made up of
several human-readable lines of text, divided into sections.
If available, a tracefile begins with the testname which is
stored in the following format:</p>

<p style="margin-top: 1em">TN:&lt;test name&gt;</p>

<p style="margin-top: 1em">For each source file referenced
in the .da file, there is a section containing filename and
coverage data:</p>

<p style="margin-top: 1em">SF:&lt;absolute path to the
source file&gt;</p>

<p style="margin-top: 1em">Following is a list of line
numbers for each function name found in the source file:</p>

<p style="margin-top: 1em">FN:&lt;line number of function
start&gt;,&lt;function name&gt;</p>

<p style="margin-top: 1em">Next, there is a list of
execution counts for each instrumented function:</p>

<p style="margin-top: 1em">FNDA:&lt;execution
count&gt;,&lt;function name&gt;</p>

<p style="margin-top: 1em">This list is followed by two
lines containing the number of functions found and hit:</p>

<p style="margin-top: 1em">FNF:&lt;number of functions
found&gt; <br>
FNH:&lt;number of function hit&gt;</p>

<p style="margin-top: 1em">Branch coverage information is
stored which one line per branch:</p>

<p style="margin-top: 1em">BRDA:&lt;line
number&gt;,&lt;block number&gt;,&lt;branch
number&gt;,&lt;taken&gt;</p>

<p style="margin-top: 1em">Block number and branch number
are gcc internal IDs for the branch. Taken is either
&rsquo;-&rsquo; if the basic block containing the branch was
never executed or a number indicating how <br>
often that branch was taken.</p>

<p style="margin-top: 1em">Branch coverage summaries are
stored in two lines:</p>

<p style="margin-top: 1em">BRF:&lt;number of branches
found&gt; <br>
BRH:&lt;number of branches hit&gt;</p>

<p style="margin-top: 1em">Then there is a list of
execution counts for each instrumented line (i.e. a line
which resulted in executable code):</p>

<p style="margin-top: 1em">DA:&lt;line
number&gt;,&lt;execution count&gt;[,&lt;checksum&gt;]</p>

<p style="margin-top: 1em">Note that there may be an
optional checksum present for each instrumented line. The
current geninfo implementation uses an MD5 hash as
checksumming algorithm.</p>

<p style="margin-top: 1em">At the end of a section, there
is a summary about how many lines were found and how many
were actually instrumented:</p>

<p style="margin-top: 1em">LH:&lt;number of lines with a
non-zero execution count&gt; <br>
LF:&lt;number of instrumented lines&gt;</p>

<p style="margin-top: 1em">Each sections ends with:</p>

<p style="margin-top: 1em">end_of_record</p>

<p style="margin-top: 1em">In addition to the main source
code file there are sections for all #included files which
also contain executable code.</p>

<p style="margin-top: 1em">Note that the absolute path of a
source file is generated by interpreting the contents of the
respective .bb file (see gcov (1) for more information on
this file type). Relative <br>
filenames are prefixed with the directory in which the .bb
file is found.</p>

<p style="margin-top: 1em">Note also that symbolic links to
the .bb file will be resolved so that the actual file path
is used instead of the path to a link. This approach is
necessary for the mechanism to <br>
work with the /proc/gcov files.</p>

<p style="margin-top: 1em">AUTHOR <br>
Peter Oberparleiter
&lt;Peter.Oberparleiter@de.ibm.com&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
lcov(1), lcovrc(5), genhtml(1), genpng(1), gendesc(1),
gcov(1)</p>

<p style="margin-top: 1em">2016-12-19 LCOV 1.13
geninfo(1)</p>
<hr>
</body>
</html>
