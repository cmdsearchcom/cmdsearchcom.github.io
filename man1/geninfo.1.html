<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>geninfo(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">geninfo(1)</td>
    <td class="head-vol">User Manuals</td>
    <td class="head-rtitle">geninfo(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
geninfo - Generate tracefiles from .da files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>geninfo</b> [<b>-h</b>|<b>--help</b>] [<b>-v</b>|<b>--version</b>]
  [<b>-q</b>|<b>--quiet</b>]
<div>&#x00A0;</div>
<div style="margin-left: 8.00ex;">[<b>-i</b>|<b>--initial</b>]
  [<b>-t</b>|<b>--test-name</b> <i>test-name</i>]
<div>&#x00A0;</div>
[<b>-o</b>|<b>--output-filename</b> <i>filename</i>] [<b>-f</b>|<b>--follow</b>]
<div>&#x00A0;</div>
[<b>-b</b>|<b>--base-directory</b> <i>directory</i>]
<div>&#x00A0;</div>
[<b>--checksum</b>] [<b>--no-checksum</b>]
<div>&#x00A0;</div>
[<b>--compat-libtool</b>] [<b>--no-compat-libtool</b>]
<div>&#x00A0;</div>
[<b>--gcov-tool</b> <i>tool</i>] [<b>--ignore-errors</b> <i>errors</i>]
<div>&#x00A0;</div>
[<b>--no-recursion</b>] <i>directory</i> [<b>--external</b>]
  [<b>--no-external</b>]
<div>&#x00A0;</div>
[<b>--config-file</b> <i>config-file</i>] [<b>--no-markers</b>]
<div>&#x00A0;</div>
[<b>--derive-func-data</b>] [<b>--compat</b> <i>mode</i>=on|off|auto]
<div>&#x00A0;</div>
[<b>--rc</b> <i>keyword</i>=<i>value</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>geninfo</b> converts all GCOV coverage data files found in <i>directory</i>
  into tracefiles, which the <b>genhtml</b> tool can convert to HTML output.
<div style="height: 1.00em;">&#x00A0;</div>
Unless the --output-filename option is specified, <b>geninfo</b> writes its
  output to one file per .da file, the name of which is generated by simply
  appending &quot;.info&quot; to the respective .da file name.
<div style="height: 1.00em;">&#x00A0;</div>
Note that the current user needs write access to both <i>directory</i> as well
  as to the original source code location. This is necessary because some
  temporary files have to be created there during the conversion process.
<div style="height: 1.00em;">&#x00A0;</div>
Note also that <b>geninfo</b> is called from within <b>lcov</b>, so that there
  is usually no need to call it directly.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Exclusion markers</b>
<div style="height: 1.00em;">&#x00A0;</div>
To exclude specific lines of code from a tracefile, you can add exclusion
  markers to the source code. Additionally you can exclude specific branches
  from branch coverage without excluding the involved lines from line and
  function coverage. Exclusion markers are keywords which can for example be
  added in the form of a comment. See <b>lcovrc</b>(5) how to override some of
  them.
<div style="height: 1.00em;">&#x00A0;</div>
The following markers are recognized by geninfo:
<div style="height: 1.00em;">&#x00A0;</div>
LCOV_EXCL_LINE
<div style="margin-left: 5.00ex;">Lines containing this marker will be excluded.
<div>&#x00A0;</div>
</div>
LCOV_EXCL_START
<div style="margin-left: 5.00ex;">Marks the beginning of an excluded section.
  The current line is part of this section.
<div>&#x00A0;</div>
</div>
LCOV_EXCL_STOP
<div style="margin-left: 5.00ex;">Marks the end of an excluded section. The
  current line not part of this section.</div>
<div>&#x00A0;</div>
LCOV_EXCL_BR_LINE
<div style="margin-left: 5.00ex;">Lines containing this marker will be excluded
  from branch coverage.
<div>&#x00A0;</div>
</div>
LCOV_EXCL_BR_START
<div style="margin-left: 5.00ex;">Marks the beginning of a section which is
  excluded from branch coverage. The current line is part of this section.
<div>&#x00A0;</div>
</div>
LCOV_EXCL_BR_STOP
<div style="margin-left: 5.00ex;">Marks the end of a section which is excluded
  from branch coverage. The current line not part of this section.</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-b</b> <i>directory</i>
<div>&#x00A0;</div>
<b>--base-directory</b> <i>directory</i>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Use <i>directory</i> as base directory for
  relative paths.
<div style="height: 1.00em;">&#x00A0;</div>
Use this option to specify the base directory of a build-environment when
  geninfo produces error messages like:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">ERROR: could not read source file
  /home/user/project/subdir1/subdir2/subdir1/subdir2/file.c</div>
<div style="height: 1.00em;">&#x00A0;</div>
In this example, use /home/user/project as base directory.
<div style="height: 1.00em;">&#x00A0;</div>
This option is required when using geninfo on projects built with libtool or
  similar build environments that work with a base directory, i.e. environments,
  where the current working directory when invoking the compiler is not the same
  directory in which the source code file is located.
<div style="height: 1.00em;">&#x00A0;</div>
Note that this option will not work in environments where multiple base
  directories are used. In that case use configuration file setting
  <b>geninfo_auto_base=1</b> (see <b>lcovrc</b>(5)).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--checksum</b>
<div>&#x00A0;</div>
<b>--no-checksum</b>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Specify whether to generate checksum data when
  writing tracefiles.
<div style="height: 1.00em;">&#x00A0;</div>
Use --checksum to enable checksum generation or --no-checksum to disable it.
  Checksum generation is <b>disabled</b> by default.
<div style="height: 1.00em;">&#x00A0;</div>
When checksum generation is enabled, a checksum will be generated for each
  source code line and stored along with the coverage data. This checksum will
  be used to prevent attempts to combine coverage data from different source
  code versions.
<div style="height: 1.00em;">&#x00A0;</div>
If you don't work with different source code versions, disable this option to
  speed up coverage data processing and to reduce the size of tracefiles.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--compat</b> <i>mode</i>=<i>value</i>[,<i>mode</i>=<i>value</i>,...]
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Set compatibility mode.
<div style="height: 1.00em;">&#x00A0;</div>
Use --compat to specify that geninfo should enable one or more compatibility
  modes when capturing coverage data. You can provide a comma-separated list of
  mode=value pairs to specify the values for multiple modes.
<div style="height: 1.00em;">&#x00A0;</div>
Valid <i>values</i> are:
<div style="height: 1.00em;">&#x00A0;</div>
<b>on</b>
<div style="margin-left: 5.00ex;">Enable compatibility mode.</div>
<b>off</b>
<div style="margin-left: 5.00ex;">Disable compatibility mode.</div>
<b>auto</b>
<div style="margin-left: 5.00ex;">Apply auto-detection to determine if
  compatibility mode is required. Note that auto-detection is not available for
  all compatibility modes.</div>
<div style="height: 1.00em;">&#x00A0;</div>
If no value is specified, 'on' is assumed as default value.
<div style="height: 1.00em;">&#x00A0;</div>
Valid <i>modes</i> are:
<div style="height: 1.00em;">&#x00A0;</div>
<b>libtool</b>
<div style="margin-left: 5.00ex;">Enable this mode if you are capturing coverage
  data for a project that was built using the libtool mechanism. See also
  --compat-libtool.
<div style="height: 1.00em;">&#x00A0;</div>
The default value for this setting is 'on'.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>hammer</b>
<div style="margin-left: 5.00ex;">Enable this mode if you are capturing coverage
  data for a project that was built using a version of GCC 3.3 that contains a
  modification (hammer patch) of later GCC versions. You can identify a modified
  GCC 3.3 by checking the build directory of your project for files ending in
  the extension '.bbg'. Unmodified versions of GCC 3.3 name these files '.bb'.
<div style="height: 1.00em;">&#x00A0;</div>
The default value for this setting is 'auto'.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>split_crc</b>
<div style="margin-left: 5.00ex;">Enable this mode if you are capturing coverage
  data for a project that was built using a version of GCC 4.6 that contains a
  modification (split function checksums) of later GCC versions. Typical error
  messages when running geninfo on coverage data produced by such GCC versions
  are &#x00B4;out of memory' and 'reached unexpected end of file'.
<div style="height: 1.00em;">&#x00A0;</div>
The default value for this setting is 'auto'</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--compat-libtool</b>
<div>&#x00A0;</div>
<b>--no-compat-libtool</b>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Specify whether to enable libtool
  compatibility mode.
<div style="height: 1.00em;">&#x00A0;</div>
Use --compat-libtool to enable libtool compatibility mode or --no-compat-libtool
  to disable it. The libtool compatibility mode is <b>enabled</b> by default.
<div style="height: 1.00em;">&#x00A0;</div>
When libtool compatibility mode is enabled, geninfo will assume that the source
  code relating to a .da file located in a directory named &quot;.libs&quot; can
  be found in its parent directory.
<div style="height: 1.00em;">&#x00A0;</div>
If you have directories named &quot;.libs&quot; in your build environment but
  don't use libtool, disable this option to prevent problems when capturing
  coverage data.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--config-file</b> <i>config-file</i>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Specify a configuration file to use.
<div style="height: 1.00em;">&#x00A0;</div>
When this option is specified, neither the system-wide configuration file
  /etc/lcovrc, nor the per-user configuration file ~/.lcovrc is read.
<div style="height: 1.00em;">&#x00A0;</div>
This option may be useful when there is a need to run several instances of
  <b>geninfo</b> with different configuration file options in parallel.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--derive-func-data</b>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Calculate function coverage data from line
  coverage data.
<div style="height: 1.00em;">&#x00A0;</div>
Use this option to collect function coverage data, even if the version of the
  gcov tool installed on the test system does not provide this data. lcov will
  instead derive function coverage data from line coverage data and information
  about which lines belong to a function.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--external</b>
<div>&#x00A0;</div>
<b>--no-external</b>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Specify whether to capture coverage data for
  external source files.
<div style="height: 1.00em;">&#x00A0;</div>
External source files are files which are not located in one of the directories
  specified by --directory or --base-directory. Use --external to include
  external source files while capturing coverage data or --no-external to ignore
  this data.
<div style="height: 1.00em;">&#x00A0;</div>
Data for external source files is <b>included</b> by default.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-f</b>
<div>&#x00A0;</div>
<b>--follow</b>
<div style="margin-left: 5.00ex;">Follow links when searching .da files.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--gcov-tool</b> <i>tool</i>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Specify the location of the gcov tool.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-h</b>
<div>&#x00A0;</div>
<b>--help</b>
<div style="margin-left: 5.00ex;">Print a short help text, then exit.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--ignore-errors</b> <i>errors</i>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Specify a list of errors after which to
  continue processing.
<div style="height: 1.00em;">&#x00A0;</div>
Use this option to specify a list of one or more classes of errors after which
  geninfo should continue processing instead of aborting.
<div style="height: 1.00em;">&#x00A0;</div>
<i>errors</i> can be a comma-separated list of the following keywords:
<div style="height: 1.00em;">&#x00A0;</div>
<b>gcov:</b> the gcov tool returned with a non-zero return code.
<div style="height: 1.00em;">&#x00A0;</div>
<b>source:</b> the source code file for a data set could not be found.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-i</b>
<div>&#x00A0;</div>
<b>--initial</b>
<div style="margin-left: 5.00ex;">Capture initial zero coverage data.
<div style="height: 1.00em;">&#x00A0;</div>
Run geninfo with this option on the directories containing .bb, .bbg or .gcno
  files before running any test case. The result is a &quot;baseline&quot;
  coverage data file that contains zero coverage for every instrumented line and
  function. Combine this data file (using lcov -a) with coverage data files
  captured after a test run to ensure that the percentage of total lines covered
  is correct even when not all object code files were loaded during the test.
<div style="height: 1.00em;">&#x00A0;</div>
Note: currently, the --initial option does not generate branch coverage
  information.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--no-markers</b>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Use this option if you want to get coverage
  data without regard to exclusion markers in the source code file.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--no-recursion</b>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Use this option if you want to get coverage
  data for the specified directory only without processing subdirectories.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-o </b><i>output-filename</i>
<div>&#x00A0;</div>
<b>--output-filename </b><i>output-filename</i>
<div style="margin-left: 5.00ex;">Write all data to <i>output-filename</i>.
<div style="height: 1.00em;">&#x00A0;</div>
If you want to have all data written to a single file (for easier handling), use
  this option to specify the respective filename. By default, one tracefile will
  be created for each processed .da file.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-q</b>
<div>&#x00A0;</div>
<b>--quiet</b>
<div style="margin-left: 5.00ex;">Do not print progress messages.
<div style="height: 1.00em;">&#x00A0;</div>
Suppresses all informational progress output. When this switch is enabled, only
  error or warning messages are printed.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--rc</b> <i>keyword</i>=<i>value</i>
<div>&#x00A0;</div>
<div style="margin-left: 5.00ex;">Override a configuration directive.
<div style="height: 1.00em;">&#x00A0;</div>
Use this option to specify a <i>keyword</i>=<i>value</i> statement which
  overrides the corresponding configuration statement in the lcovrc
  configuration file. You can specify this option more than once to override
  multiple configuration statements. See <b>lcovrc</b>(5) for a list of
  available keywords and their meaning.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-t </b><i>testname</i>
<div>&#x00A0;</div>
<b>--test-name </b><i>testname</i>
<div style="margin-left: 5.00ex;">Use test case name <i>testname</i> for
  resulting data. Valid test case names can consist of letters, decimal digits
  and the underscore character ('_').
<div style="height: 1.00em;">&#x00A0;</div>
This proves useful when data from several test cases is merged (i.e. by simply
  concatenating the respective tracefiles) in which case a test name can be used
  to differentiate between data from each test case.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-v</b>
<div>&#x00A0;</div>
<b>--version</b>
<div style="margin-left: 5.00ex;">Print version number, then exit.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>/etc/lcovrc</i>
<div style="margin-left: 5.00ex;">The system-wide configuration file.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<i>~/.lcovrc</i>
<div style="margin-left: 5.00ex;">The per-user configuration file.</div>
<div style="height: 1.00em;">&#x00A0;</div>
Following is a quick description of the tracefile format as used by
  <b>genhtml</b>, <b>geninfo</b> and <b>lcov</b>.
<div style="height: 1.00em;">&#x00A0;</div>
A tracefile is made up of several human-readable lines of text, divided into
  sections. If available, a tracefile begins with the <i>testname</i> which is
  stored in the following format:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 TN:&lt;test name&gt;
<div style="height: 1.00em;">&#x00A0;</div>
For each source file referenced in the .da file, there is a section containing
  filename and coverage data:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 SF:&lt;absolute path to the source file&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Following is a list of line numbers for each function name found in the source
  file:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 FN:&lt;line number of function start&gt;,&lt;function name&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Next, there is a list of execution counts for each instrumented function:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 FNDA:&lt;execution count&gt;,&lt;function name&gt;
<div style="height: 1.00em;">&#x00A0;</div>
This list is followed by two lines containing the number of functions found and
  hit:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 FNF:&lt;number of functions found&gt;
<br/>
 FNH:&lt;number of function hit&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Branch coverage information is stored which one line per branch:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 BRDA:&lt;line number&gt;,&lt;block number&gt;,&lt;branch
  number&gt;,&lt;taken&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Block number and branch number are gcc internal IDs for the branch. Taken is
  either '-' if the basic block containing the branch was never executed or a
  number indicating how often that branch was taken.
<div style="height: 1.00em;">&#x00A0;</div>
Branch coverage summaries are stored in two lines:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 BRF:&lt;number of branches found&gt;
<br/>
 BRH:&lt;number of branches hit&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Then there is a list of execution counts for each instrumented line (i.e. a line
  which resulted in executable code):
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 DA:&lt;line number&gt;,&lt;execution count&gt;[,&lt;checksum&gt;]
<div style="height: 1.00em;">&#x00A0;</div>
Note that there may be an optional checksum present for each instrumented line.
  The current <b>geninfo</b> implementation uses an MD5 hash as checksumming
  algorithm.
<div style="height: 1.00em;">&#x00A0;</div>
At the end of a section, there is a summary about how many lines were found and
  how many were actually instrumented:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 LH:&lt;number of lines with a non-zero execution count&gt;
<br/>
 LF:&lt;number of instrumented lines&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Each sections ends with:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 end_of_record
<div style="height: 1.00em;">&#x00A0;</div>
In addition to the main source code file there are sections for all #included
  files which also contain executable code.
<div style="height: 1.00em;">&#x00A0;</div>
Note that the absolute path of a source file is generated by interpreting the
  contents of the respective .bb file (see <b>gcov </b>(1) for more information
  on this file type). Relative filenames are prefixed with the directory in
  which the .bb file is found.
<div style="height: 1.00em;">&#x00A0;</div>
Note also that symbolic links to the .bb file will be resolved so that the
  actual file path is used instead of the path to a link. This approach is
  necessary for the mechanism to work with the /proc/gcov files.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Peter Oberparleiter &lt;Peter.Oberparleiter@de.ibm.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>lcov</b>(1), <b>lcovrc</b>(5), <b>genhtml</b>(1), <b>genpng</b>(1),
  <b>gendesc</b>(1), <b>gcov</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">LCOV 1.13</td>
    <td class="foot-os">2016-12-19</td>
  </tr>
</table>
</body>
</html>
