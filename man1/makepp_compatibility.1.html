<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:23:45 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MAKEPP_COMPATIBILITY(1) Makepp
MAKEPP_COMPATIBILITY(1)</p>

<p style="margin-top: 1em">NAME <br>
makepp_compatibility -- Compatibility list for makepp</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Perl Version vs. System <br>
The many Perl versions available and still installed on many
machines come with various subtle bugs. We have tried to
work around most of them, but a few remain. We have a test
<br>
suite of around 75 tests, all of which usually pass. On some
platforms lacking some features, notably Cygwin, a few tests
are explicitly skipped. This table shows with what <br>
version this has been tested where, and whether it was
successful. We would like to hear of your results on other
platforms too!</p>

<p style="margin-top: 1em">Note that you get a comparable
overview when going to the top right CPAN tab and choosing
Perl/Platform Version Matrix
(&lt;http://matrix.cpantesters.org/?dist=makepp&gt;). But
they <br>
give a red bar even if only one out of about hundred tests
fail. And since those test are automated on screened off
machines, it can be hard to find out or even fix what is
<br>
going wrong. Often it is something that could be worked
around, like compiler, operating or file system
particularities or wrong environment variables.</p>

<p style="margin-top: 1em">#||||||||| 5.8 #| 5.10 #||||
5.12 #|| 5.14 #||| 5.16 #|| 5.18 # 5.20 #</p>

<p style="margin-top: 1em"># .0 | .1 | .2 | .3 | .4 | .5 |
.6 | .7 | .8 | .9 # .0 | .1 # .0 | .1 | .2 | .3 | .4 # .0 |
.1 | .2 # .0 | .1 | .2 | .3 # .0 | .1 | .2 # .0 #</p>

<p style="margin-top: 1em">GNU/Linux (x86)# x | x | x | x |
x | | x | x | x | x # x | x # x | x | x | x | x # x | x | x
# x | x | x | x # x | x | # x #</p>

<p style="margin-top: 1em">GNU/Linux (amd64)# | | | | | x |
| | | x # | # | | x | x | # x | | x # | | x | x # | | #
#</p>

<p style="margin-top: 1em">GNU/Linux (S/390)# | | | | | | |
| x | x # x | x # | | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">FreeBSD (x86) # | | | | | | | |
x | x # x | x # x | x | x | x | # | x | # | | x | x # | x |
x # x #</p>

<p style="margin-top: 1em">NetBSD (x86) # | | | | | | | | |
x # x | x # x | x | x | x | # | x | x # | | x | x # | x | #
#</p>

<p style="margin-top: 1em">NetBSD (Alpha) # | | | | | | | |
| x # x | x # | | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">OpenBSD (x86) # x | | | | | | |
| | x # x | x # x | x | x | | x # x | x | x # x | x | x | #
x | x | # #</p>

<p style="margin-top: 1em">AIX (PPC) # | x | x | | | | | x
| x | # | # | | | | # | | # | x | | # | x | # #</p>

<p style="margin-top: 1em">Darwin (x86) # | | | | | | | | |
# | # | x | | | # | | x # | | | # | | x # x #</p>

<p style="margin-top: 1em">Darwin (PPC) # | | | | | | x | x
| x | x # x | x # x | x | x | | # | | # | | x | # | x | #
#</p>

<p style="margin-top: 1em">HP/UX (IA64) # x | | | x | | | |
| | # | # | | | | # | | # | | | # | x | # x #</p>

<p style="margin-top: 1em">Irix # | | | | | | | | x | # | #
| | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">Solaris (Sparc)# x | x | x | x |
x | x | x | x | x | x # x | # x | x | | | # | | # x | x | |
# x | x | # x #</p>

<p style="margin-top: 1em">Solaris (64bit)# | x | | | | | |
| x | # x | # | | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">Solaris (x86) # | x | | | | | |
| x | x # x | x # x | x | x | | # | | # | | x | # | | #
#</p>

<p style="margin-top: 1em">BS2000 (S/390) # | x | | | | | |
| | # / | # | | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">z/OS USS (S/390)# | | | | | | |
| zOS | # / | # | | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">Cygwin (x86) # | | | | | | | Win
| x | # x | x # | | | | # | | x # | | | # | | # #</p>

<p style="margin-top: 1em">MinGW MSYS # | | | | | | | | x |
# | # | | | | # | | # | | | # | | # #</p>

<p style="margin-top: 1em">Stawberry # | | | | | | | | x |
x # x | x # | x | x | x | # | | x # x | x | x | x # x | | #
#</p>

<p style="margin-top: 1em">ActiveState Win# x | x | x | x |
x | | x | x | x | x # x | x # x | x | | x | # x | | x # | x
| | x # | | # #</p>

<p style="margin-top: 1em">Win There are 4 different Perl
environments on Windows, which normally extend one another
when installed in parallel. Here they have been tested with
a minimal PATH, so as to <br>
separate them completely. When using native programs, you
may need to see the note under &amp;ln.</p>

<p style="margin-top: 1em">&Acirc;&middot; Cygwin fairly
closely emulates GNU/Linux and gives the best results. Perl
5.8.7 has a small problem with environment vars, making one
test fail. In the long gone past, <br>
parallel builds didn&rsquo;t work, but it hasn&rsquo;t be
verified which version of Cygwin or Perl made them usable.
Perl 5.10.1 has a problem with chmod 0 files, so they
can&rsquo;t be <br>
used to prevent repository imports. In rare cases recent
Cygwin also leads stat() to report a symlink for an
inexistent file. This does not seem a Perl bug, since the
<br>
same perls that were error free before, now show this
behaviour. Makepp has been reorganized to much reduce this,
so you may never see it.</p>

<p style="margin-top: 1em">&Acirc;&middot; MinGW stays
close to Windows, giving it only a Unixy look and feel. It
has a clever workaround for lack of symbolic links, namely
copying instead (&amp;ln has stolen this <br>
idea). Alas this is not good enough for the repository
mechanism, so that isn&rsquo;t available, in addition to the
Cygwin deficiencies.</p>

<p style="margin-top: 1em">&Acirc;&middot; On Strawberry
Perl with only native Windows most customary Unix commands
(except GNU compilers) are missing, and the
&quot;shell&quot; is extremely primitive. A maximal use of
<br>
makepp&rsquo;s builtin commands and embedded Perl can
increase makefile portability.</p>

<p style="margin-top: 1em">While Windows programs can
handle normal slashes as directory separators, this does not
work for command names. Those should always be portably
written as dir$/command, <br>
where $/ gets replaced by a forward or backward slash,
depending on the environment. If you tell makepp, via the
SHELL variable, where to find a Unix-like Shell, you <br>
don&rsquo;t have these worries.</p>

<p style="margin-top: 1em">It cannot do smart recursive
makes (but who would want them, since they are known to be a
broken paradigm) and parallel builds.</p>

<p style="margin-top: 1em">&Acirc;&middot; ActiveState Perl
is very similar to Strawberry, as far as makepp goes, though
it doesn&rsquo;t come with GNU compilers. Up to Perl 5.8.6,
it will rewrite Mpp/File.pm so as to <br>
have a needed workaround for an lstat bug.</p>

<p style="margin-top: 1em">zOS On z/OS (alias VMS or
OS/390) Unix System Services smart recursive make
doesn&rsquo;t work. If your compiler is picky about option
order, you may have to write your own rules. <br>
(To compile Perl 5.8.8 you may have to remove the silly
&quot;(void)env;&quot; in miniperlmain.c. Perl 5.10.0 is not
compilable on an Ebcdic system while 5.12.1 and 5.14.0 may
have <br>
macro errors with the z/OS C compiler.)</p>

<p style="margin-top: 1em">Nest <br>
Some old compilers do not like nested comments. Since
additional_tests/2006_03_23_c_comments.test looks at all
kinds of constellations, and verifies it&rsquo;s conclusions
with <br>
the compiler, this test can fail if you do not use gcc.</p>

<p style="margin-top: 1em">File Systems <br>
Various special file systems have unusual properties, giving
makepp a hard time when working on them:</p>

<p style="margin-top: 1em">NFS NFS may reorder file
operations at its discretion, leading to unexpected
relationships between time stamps. This is relevant for the
build info meta-data files, which makepp <br>
stores alongside each file. Especially in build caches, with
their concurrent access, some workaround handling was
necessary, but it is shown by load test to work fine.</p>

<p style="margin-top: 1em">Windows CIFS on GNU/Linux <br>
A few special characters are not allowed in filenames. Links
are emulated by copying while symbolic linking fails.
Apparently write operations come back before they are <br>
visible on disk, which confuses makepp about the success of
the commands it executes. Six out of 76 tests fail due to
this. On the bright side, timestamps have a precision <br>
of 100 nanoseconds (though the observed obtainable
differences are only about a centisecond). This is much
better than most older Unix file systems -- alas
Perl&rsquo;s &quot;stat&quot; <br>
function has no access to this very welcome precision.</p>

<p style="margin-top: 1em">Windows Server Share on Cygwin
<br>
The same CIFS disk that was works so badly on Linux, passes
all tests on Cygwin. Possibly there are CIFS mount options
that might improve something.</p>

<p style="margin-top: 1em">Unix SMBFS from GNU/Linux <br>
Linking and symbolic linking fails. No other tests fail. I
have no access to a more realistic Windows SMB server, where
the situation might be different.</p>

<p style="margin-top: 1em">VFAT on GNU/Linux <br>
A few special characters are not allowed in filenames.
Linking and symbolic linking fails. The file permission mask
and owner are mount options, while the time stamps are <br>
not settable.</p>

<p style="margin-top: 1em">Mixed Case Sensitive &amp;
Insensitive File Names <br>
Makepp&rsquo;s file name handling is either fully case
sensitive or not, depending on the directory where it was
invoked. If this directory is case insensitive, but it is
mounted <br>
on a path containing upper case letters within the case
sensitive part of the path, then makepp will trip.</p>

<p style="margin-top: 1em">If you need this setup to work
(e.g. the Windows host is reachable as /mnt/hgfs/C from
Linux inside VMware) you will have to design your Makefile
as though you were on a case <br>
sensitive file system and &quot;export
MAKEPP_CASE_SENSITIVE_FILENAMES=1&quot; before you call
makepp.</p>

<p style="margin-top: 1em">AUTHOR <br>
Daniel Pfeiffer (occitan@esperanto.org)</p>

<p style="margin-top: 1em">perl v5.24.1 2016-11-28
MAKEPP_COMPATIBILITY(1)</p>
<hr>
</body>
</html>
