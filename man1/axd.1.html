<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:53:56 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>axd(1) AFNIX Client axd(1)</p>

<p style="margin-top: 1em">NAME <br>
axd - afnix cross debugger</p>

<p style="margin-top: 1em">SYNOPSIS <br>
axd [options] file</p>

<p style="margin-top: 1em">OPTIONS <br>
[h] <br>
prints the help message</p>

<p style="margin-top: 1em">[v] <br>
prints the program version</p>

<p style="margin-top: 1em">[i] path <br>
add a directory path to the resolver</p>

<p style="margin-top: 1em">[e] mode <br>
force the encoding mode</p>

<p style="margin-top: 1em">[f] runini <br>
run initial file</p>

<p style="margin-top: 1em">[f] emacs <br>
enable emacs mode</p>

<p style="margin-top: 1em">[f] assert <br>
enable assertion checking</p>

<p style="margin-top: 1em">[f] noseed <br>
do not seed the random engine</p>

<p style="margin-top: 1em">[f] seed <br>
seed the random engine</p>

<p style="margin-top: 1em">DESCRIPTION <br>
axdinvokes the AFNIX cross debugger. The axdclient permits
to debug an AFNIX program by inserting breakpoint at
strategic positions in the source code. During a debugging
ses&acirc; <br>
sion, when a breakpoint is reached, the program is suspended
and the debugger prompt is shown. Since the debugger is
based on the AFNIX interpreter, the full power of the AFNIX
<br>
interpreter is available at the debugger prompt.</p>

<p style="margin-top: 1em">VERSION <br>
The current version is the 2.6.3release.</p>

<p style="margin-top: 1em">SEE ALSO <br>
axc, axd, axl,</p>

<p style="margin-top: 1em">NOTES <br>
AFNIX comes with an extensive documentation. The
documentation is available onlineor in the docdirectory in
the form of formatted xhtml documents.</p>

<p style="margin-top: 1em">AUTHOR <br>
axdhas been written by (amaury@afnix.org) Amaury Darsch.</p>

<p style="margin-top: 1em">GETTING STARTED <br>
This chapter is short introduction to the cross debugger or
axd. The debugger is a special interpreter that is designed
to help the developer to trace an application. The
debug&acirc; <br>
ger is designed to operate in a stand-alone mode or with
Emacs. If you plan to use the debugger with Emacs, you will
have to install a gud-modepackage.</p>

<p style="margin-top: 1em">A sample debugger session <br>
The cross debugger or axdis a special interpreter that gives
the developer the opportunity to trace an application and
examine the object contents during the execution.
Opera&acirc; <br>
tions normally available in a debugger are available with
axd. Such operations include breakpoints, stepping, stack
tracing, and many others. Because axdis built on top of the
<br>
interpreter, all standard operations are supported by the
debugger.</p>

<p style="margin-top: 1em">Starting the debugger <br>
The debugger is started with the command axd. Within Emacs,
the command Meta-x axdwill do the same. When the debugger is
started, an axdprompt is displayed. At this stage, there
<br>
is no difference with the standard interpreter, except that
a new namesetcalled axdis defined with all debugger
commands. The axd:quitor axd:quitcommands will terminate the
ses&acirc; <br>
sion.</p>

<p style="margin-top: 1em">zsh&gt; axd <br>
(axd)axd:quit</p>

<p style="margin-top: 1em">Debugger commands <br>
All debugger commands are located in the axdnameset. For
example, the command to set a breakpoint is axd:break. Since
typing such command can be annoying, it is possible to <br>
rebind them at your convenience. For example, the form const
b axd:breakwill define the symbol bas the breakpoint
command, but care should be taken with this approach if your
<br>
program uses the same symbol.</p>

<p style="margin-top: 1em">Debugging session example <br>
The first example that demonstrates the use of axdis located
in the directory exp/ref, that is part of this distribution.
The platform information example 0501.alswill be used <br>
for illustration. A simple session and the original source
code is given below.</p>

<p style="margin-top: 1em">zsh&gt; axi 0501.als <br>
major version number : minor version number : patch version
number : interpreter version : ..program name : afnix <br>
operating system name : linux <br>
operating system type : unix <br>
afnix official uri : http://www.afnix.org</p>

<p style="margin-top: 1em">The source code for this example
is given below.</p>

<p style="margin-top: 1em"># many comments before <br>
println &quot;major version number : &quot;
interp:major-version <br>
println &quot;minor version number : &quot;
interp:minor-version <br>
println &quot;patch version number : &quot;
interp:patch-version <br>
println &quot;interpreter version : &quot; interp:version
<br>
println &quot;program name : &quot; interp:program-name <br>
println &quot;operating system name : &quot; interp:os-name
<br>
println &quot;operating system type : &quot; interp:os-type
<br>
println &quot;afnix official url : &quot;
interp:afnix-uri</p>

<p style="margin-top: 1em">The debugger is started with the
file to debug. The axd:infocommand can be used to print some
information.</p>

<p style="margin-top: 1em">zsh&gt; axd 0501.als <br>
(axd) axd:info <br>
debugger version : ..os name : linux <br>
os type : unix <br>
initial file : 0501.als <br>
form file name : 0501.als <br>
form line number : 17 <br>
verbose mode : true <br>
max line display : 10 <br>
defined breakpoints : 0 <br>
(axd)</p>

<p style="margin-top: 1em">Along with the version, initial
file name and other information, is the form file nameand
the form line numberthat indicates where the debugger is
position. Another way to get <br>
this information is with the axd:listcommand that display
the file at its current break position.</p>

<p style="margin-top: 1em">(axd) axd:list <br>
17 println &quot;major version number : &quot;
interp:major-version <br>
18 println &quot;minor version number : &quot;
interp:minor-version <br>
19 println &quot;patch version number : &quot;
interp:patch-version <br>
20 println &quot;interpreter version : &quot; interp:version
<br>
21 println &quot;program name : &quot; interp:program-name
<br>
22 println &quot;operating system name : &quot;
interp:os-name <br>
23 println &quot;operating system type : &quot;
interp:os-type <br>
24 println &quot;afnix official uri : &quot;
interp:afnix-uri <br>
25 <br>
26 <br>
(axd)</p>

<p style="margin-top: 1em">With this in place it is
possible to run the program. The axd:runcommand will do the
job, but will not give you the opportunity to do something
since there is no breakpoint <br>
installed. So, installing a breakpoint is simply achieved by
giving the file name and line number. To make life easier,
the axd:breakcommand takes also 0 or argument. Without <br>
argument, a breakpoint is set at the current position. With
one integer argument, a breakpoint is set at the specified
line in the current file. If the verbose mode is active <br>
(which is the default), a message is printed to indicate the
breakpoint index.</p>

<p style="margin-top: 1em">(axd) axd:break 19 <br>
setting breakpoint 0 in file 0501.als at line 19 <br>
(axd)axd:run <br>
major version number : minor version number : breakpoint 0
in file 0501.als at line 19 <br>
(axd)</p>

<p style="margin-top: 1em">The axd:runcommand starts the
program and immediately stops at the breakpoint. Note that
the debugger prints a message to indicate the cause of such
break. After this, stepping <br>
is achieved with the axd:nextcommand. Resuming the execution
is done with the axd:continuecommand. The axd:exitor
axd:quitcommand terminates the session.</p>

<p style="margin-top: 1em">(axd)axd:next <br>
patch version number : (axd)axd:next <br>
interpreter version : --(axd)axd:continue <br>
program name : axd <br>
operating system name : linux <br>
operating system type : unix <br>
afnix official uri : http://www.afnix.org <br>
(axd)axd:quit</p>

<p style="margin-top: 1em">USING THE DEBUGGER <br>
This chapter describes in detail the usage of the cross
debugger or axc. The debugger is a special application that
is built on top of the interpreter. For this reason, the
<br>
debugger provides the full execution environment with
special commands bound into a dedicated nameset.</p>

<p style="margin-top: 1em">Invocation and termination <br>
The axddebugger is started by typing the command axd. Once
started, the debugger reads the commands from the terminal.
Since the debugger is built on top of the interpreter, any
<br>
command is in fact a special form that is executed by the
interpreter. The natural way to invoke the debugger is to
pass the primary file to debug with eventually some
arguments.</p>

<p style="margin-top: 1em">zsh&gt; axd PROGRAM
[arguments]</p>

<p style="margin-top: 1em">When the debugger is started, a
prompt &rsquo;(axd)&rsquo;indicates that the session is
running. The debugger session is terminated with the
commands axd:exitor axd:quit.</p>

<p style="margin-top: 1em">zsh&gt; axd PROGRAM <br>
(axd) axd:quit <br>
zsh&gt;</p>

<p style="margin-top: 1em">Debugger options <br>
The available options can be seen with the hoption and the
current version with the voption. This mode of operations is
similar to the one found with the interpreter.</p>

<p style="margin-top: 1em">zsh&gt; axd [h] <br>
usage: axd [options] [file] [arguments] <br>
[h] print this help message <br>
[v] print version information <br>
[i] path add a path to the resolver <br>
[e mode] force the encoding mode <br>
[f runini] run initial file <br>
[f emacs] enable emacs mode <br>
[f assert] enable assertion checks <br>
[f nopath] do not set initial path</p>

<p style="margin-top: 1em">Running the program <br>
When a program is run within the debugger, a primary file
must be used to indicate where to start the program. The
file name can be given either as an axdcommand argument or
with <br>
the axd:loadcommand. The first available form in the primary
file is used as the program starting point.</p>

<p style="margin-top: 1em">Loading the program <br>
The axd:loadcommand loads the primary file and mark the
first available form as the starting form for the program
execution. The command takes a file name as its first
argument. <br>
The resolver rule apply for the file name resolution. <br>
If the string name has the .alsextension, the string is
considered to be the file name. <br>
If the string name has the .axcextension or no extension,
the string is used to search a file that has a .alsextension
or that belongs to a librarian.</p>

<p style="margin-top: 1em">Note that these operations are
also dependent on the ioption that adds a path or a
librarian to the search-path.</p>

<p style="margin-top: 1em">Starting the program <br>
The axd:runcommand starts the program at the first available
form in the primary file. The program is executed until a
breakpoint or any other halting condition is reached.
Gen&acirc; <br>
erally, when the program execution is suspended, an entry
into the debugger is done and the prompt is shown at the
command line.</p>

<p style="margin-top: 1em">(axd)axd:run</p>

<p style="margin-top: 1em">The axd:runis the primary
command to execute before the program can be debugged.
Eventually, a file name can be used as the primary file to
execute.</p>

<p style="margin-top: 1em">(axd)axd:run
&quot;test.als&quot;</p>

<p style="margin-top: 1em">Setting program arguments <br>
Since the debugger is built on top of the interpreter, it is
possible to set directly the argument vector. The argument
vector is bound to the interpreter with the qualified name
<br>
interp:argv. The standard vector can be used to manipulate
the argument vector.</p>

<p style="margin-top: 1em">(axd)interp:argv:reset <br>
(axd)interp:argv:append &quot;hello&quot;</p>

<p style="margin-top: 1em">In this example, the interpreter
argument vector is reset and then a single argument string
is added to the vector. If one wants to see the interpreter
argument vector, a simple <br>
procedure can be used as shown below.</p>

<p style="margin-top: 1em">const argc (interp:argv:length)
<br>
loop (trans i 0) (&lt; i argc) (i:++) { <br>
trans arg (interp:argv:get i) <br>
println &quot;argv[&quot; i &quot;] = &quot; arg <br>
}</p>

<p style="margin-top: 1em">Breakpoints operations <br>
Breakpoints are set with the axd:breakcommand. If a
breakpoint is reached during the program execution, the
program is suspended and the debugger session is resumed
with a com&acirc; <br>
mand prompt. At the command prompt, the full interpreter is
available. It permits to examine symbols.</p>

<p style="margin-top: 1em">Breakpoint command <br>
The axd:breakcommand sets a breakpoint in a file at a
specified line number. If the file is not specified, the
primary file is used instead. If the line number is not
specified, <br>
the first available form in the current file is used.</p>

<p style="margin-top: 1em">(axd) axd:break
&quot;demo.als&quot; 12 <br>
Setting breakpoint 0 in file demo.als at line 12</p>

<p style="margin-top: 1em">In this example, a breakpoint is
set in the file demo.alsat the line number 12. The file name
does not have to be the primary file. If another file name
is specified, the file is <br>
loaded, instrumented and the breakpoint is set.</p>

<p style="margin-top: 1em">Viewing breakpoints <br>
The axd:break-infocommand reports some information about the
current breakpoint setting.</p>

<p style="margin-top: 1em">(axd) axd:break
&quot;demo.als&quot; 12 <br>
(axd) axd:break &quot;test.als&quot; 18 <br>
(axd) axd:break-info <br>
Breakpoint 0 in file demo.als at line 12 <br>
Breakpoint 1 in file test.als at line 18</p>

<p style="margin-top: 1em">Resuming execution <br>
The axd:continuecommand resumes the program execution after
a breakpoint. The program execution continues until another
breaking condition is reached or the program terminates.</p>

<p style="margin-top: 1em">(axd) axd:run <br>
Breakpoint 0 in file demo.als at line 12 <br>
(axd) axd:continue</p>

<p style="margin-top: 1em">In this example, the program is
run and stopped at breakpoint 0. The axd:continuecommand
resumes the program execution.</p>

<p style="margin-top: 1em">DEBUGGER CONTROL REFERENCE <br>
This appendix is a reference of the cross debugger or axd.
The cross debugger is started with the axdcommand. All
control commands are bound to the axdnameset.</p>

<p style="margin-top: 1em">break <br>
The axd:breakbreak command sets a breakpoint. Without
argument a breakpoint is set in the current file at the
current line. With a line number, the breakpoint is set in
the cur&acirc; <br>
rent file. With two arguments, the first one is used as the
file name and the second one is used as the line number.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:break axd:break
&quot;line&quot; axd:break &quot;file&quot;
&quot;line&quot;</p>

<p style="margin-top: 1em">(axd) axd:break
&quot;demo.als&quot; 12 <br>
(axd) axd:break 25</p>

<p style="margin-top: 1em">The first example sets a
breakpoint in the file demo.alsat line 12. The second
example sets a breakpoint in the current file at line 25.
Without argument, the command sets the <br>
breakpoint at the current line. The current line can be seen
with the axd:infocommand.</p>

<p style="margin-top: 1em">break-info <br>
The axd:break-infocontrol command reports some information
about the current breakpoints.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:break-info</p>

<p style="margin-top: 1em">(axd) axd:break
&quot;demo.als&quot; 12 <br>
(axd) axd:break &quot;test.als&quot; 18 <br>
(axd) axd:break-info <br>
Breakpoint 0 in file demo.als at line 12 <br>
Breakpoint 1 in file test.als at line 18</p>

<p style="margin-top: 1em">In this example, two breakpoints
are set. One in file demo.alsat line 12 and one in file
test.alsat line 18. The axd:break-infocommand reports the
current breakpoint settings.</p>

<p style="margin-top: 1em">continue <br>
The axd:continuecontrol command resumes the program
execution after a breakpoint. The program execution
continues until a breakpoint or another terminating
condition is reached.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:continue</p>

<p style="margin-top: 1em">(axd) axd:run <br>
Breakpoint 0 in file demo.als at line 12 <br>
(axd) axd:continue</p>

<p style="margin-top: 1em">In this example, the program is
run and stopped at breakpoint 0. The axd:continuecommand
resumes the program execution.</p>

<p style="margin-top: 1em">exit <br>
The axd:exitcommand terminates a debugger session. This
command is similar to the axd:quitcommand.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:exit</p>

<p style="margin-top: 1em">(axd) axd:exit</p>

<p style="margin-top: 1em">info <br>
The axd:infocommand reports some debugger information. Such
information includes the debugger version, the operating
system, the primary input file, the primary input file
source <br>
and more.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:info</p>

<p style="margin-top: 1em">(axd) axd:info <br>
debugger version : ..os name : linux <br>
os type : unix <br>
initial file : 0501 <br>
form file name : 0501.als <br>
form line number : 17 <br>
verbose mode : true <br>
max line display : 10 <br>
defined breakpoints : 0</p>

<p style="margin-top: 1em">list <br>
The axd:listcommand display the form listing starting at the
current session line number. The current form line number
can also be seen with the axd:infocommand. The number of
<br>
line is a debugger parameter. The first line to display can
also be set as the first parameter. A file name can also be
set.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:list axd:list
&quot;line&quot; axd:list &quot;file&quot;
&quot;line&quot;</p>

<p style="margin-top: 1em">(axd) axd:list <br>
(axd) axd:list 20 <br>
(axd) axd:list &quot;file.als&quot; 20</p>

<p style="margin-top: 1em">The first example shows the
listing at the current debugger line. The second example
starts the listing at line 20. The third example starts at
line 20 with file file.als.</p>

<p style="margin-top: 1em">load <br>
The axd:loadcommand sets the initialor default file to be
used with the axd:runcontrol command.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:load &quot;file&quot;</p>

<p style="margin-top: 1em">(axd) axd:load
&quot;demo.als&quot;</p>

<p style="margin-top: 1em">In this example, the file
demo.alsis set as the primary file. Using the
axd:infocommand will report at which line, the first
available form has been found.</p>

<p style="margin-top: 1em">next <br>
The axd:nextcommand executes the next line in the source
file. The axd:nextcommand does not take argument.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:next</p>

<p style="margin-top: 1em">(axd) axd:next</p>

<p style="margin-top: 1em">quit <br>
The axd:quitcommand terminates a debugger session. This
command is similar to the axd:exitcommand.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:quit</p>

<p style="margin-top: 1em">(axd) axd:quit</p>

<p style="margin-top: 1em">run <br>
The axd:runcommand executes the default file in the slave
interpreter. Without argument, the initialor default file is
executed. The axd:loadcommand can be used to set the
ini&acirc; <br>
tial file. With one argument, the file name argument is used
as the initial file.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">axd:run axd:run
&quot;file&quot;</p>

<p style="margin-top: 1em">(axd) axd:run <br>
(axd) axd:run &quot;demo.als&quot;</p>

<p style="margin-top: 1em">The first example runs the
initial file. The second example sets the initial file as
demo.alsand run it.</p>

<p style="margin-top: 1em">AFNIX 2016-09-02 axd(1)</p>
<hr>
</body>
</html>
