<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:10 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>darcs-monitor(1) General Commands Manual
darcs-monitor(1)</p>

<p style="margin-top: 1em">NAME <br>
darcs-monitor - Darcs add-on that sends mail about newly
pushed changes</p>

<p style="margin-top: 1em">SYNOPSIS <br>
darcs-monitor [ option ... ] email recipient [ email
recipient ... ] [ repository ... ]</p>

<p style="margin-top: 1em">darcs-monitor -h | --help</p>

<p style="margin-top: 1em">darcs-monitor --version</p>

<p style="margin-top: 1em">DESCRIPTION <br>
darcs-monitor reads one or more darcs(1) repositories and
sends email about every change it has not previously sent an
email about to the same address. To have darcs-monitor run
<br>
every time someone pushes to a repository, add the following
lines to _darcs/prefs/defaults.</p>

<p style="margin-top: 1em">apply posthook darcs-monitor
--charset=charset email recipient [ email recipient ... ]
<br>
apply run-posthook</p>

<p style="margin-top: 1em">In the above, charset should be
the MIME charset that patches (including their metadata) are
in, and recipient should be the email address where emails
should be sent. You can <br>
specify more than one recipient by repeating the email
parameter.</p>

<p style="margin-top: 1em">You can also run darcs-monitor
from crontab(1) or from the command line. In those cases, it
is easiest to specify the path to the repository on the
command line after other <br>
arguments. In fact, you can specify more than one.</p>

<p style="margin-top: 1em">By default, mail is sent by
calling /usr/sbin/sendmail. Another sendmail (1) binary can
be specified by using a command-line switch.</p>

<p style="margin-top: 1em">You can customise the email by
providing a template. You should put your own template in
the file _darcs/third-party/darcs-monitor/email-template
(you can use other files, but <br>
then you have to specify where it is). In the template you
can use the following substitutions:</p>

<p style="margin-top: 1em">%RECIPIENT% <br>
the email address to which email is sent</p>

<p style="margin-top: 1em">%DIFF% the Darcs-provided diff
-u of the patch</p>

<p style="margin-top: 1em">%CHANGES% <br>
a Darcs-provided summary of changes</p>

<p style="margin-top: 1em">%REPO% the path to the
repository</p>

<p style="margin-top: 1em">%SHORTREPO% <br>
the final component of the path to the repository</p>

<p style="margin-top: 1em">%AUTHOR% <br>
the patch author</p>

<p style="margin-top: 1em">%DATE% the patch date</p>

<p style="margin-top: 1em">%HASH% the patch Darcs hash</p>

<p style="margin-top: 1em">%TITLE% <br>
the patch name</p>

<p style="margin-top: 1em">%COMMENT% <br>
the patch comment</p>

<p style="margin-top: 1em">Also, in the template, two
percent signs in sequence (%%) start a comment that extends
to the end of the current line.</p>

<p style="margin-top: 1em">OPTIONS <br>
-n, --dry-run <br>
Do not actually do anything, but do mark it done.</p>

<p style="margin-top: 1em">--darcs-path=FILE <br>
Provide the location of the darcs(1) executable.</p>

<p style="margin-top: 1em">--darcs-args=ARGS <br>
Provide additional arguments to darcs(1), separating
arguments with commas.</p>

<p style="margin-top: 1em">--use-sendmail[=FILE] <br>
Use sendmail(1) (either at /usr/sbin/sendmail or at
FILE).</p>

<p style="margin-top: 1em">-d, --max-diff=SIZE <br>
Only include the first SIZE bytes of the diff in the
e-mail.</p>

<p style="margin-top: 1em">--charset=CHARSET <br>
Specify the MIME name of the repository&rsquo;s character
set.</p>

<p style="margin-top: 1em">-h, --help <br>
Show usage.</p>

<p style="margin-top: 1em">--version <br>
Show version.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
Success is indicated by 0, failure by any other exit
status.</p>

<p style="margin-top: 1em">FILES <br>
/usr/share/darcs-monitor/default-template <br>
The default email template. See above for the format.</p>

<p style="margin-top: 1em">AUTHOR <br>
darcs-monitor was written by Antti-Juhani Kaijanaho.</p>

<p style="margin-top: 1em">SEE ALSO <br>
darcs(1)</p>
 
<p style="margin-top: 1em">darcs-monitor(1)</p>
<hr>
</body>
</html>
