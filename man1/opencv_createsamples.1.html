<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>OPENCV_CREATESAMPLES(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">OPENCV_CREATESAMPLES(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">OPENCV_CREATESAMPLES(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opencv_createsamples - create training and testing samples
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>opencv_createsamples [options]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>opencv_createsamples</b> creates positive samples from a single object image
  or a collection of positive images.
<div class="Pp"></div>
The scheme of test samples creation is similar to training samples creation
  since each test sample is a background image into which a randomly distorted
  and randomly scaled instance of the object picture is pasted at a random
  position.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>opencv_createsamples</b> supports the following options:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-info </b><i>collection_file_name</i></dt>
  <dd class="It-tag">A database of positive source images. Use it together with
      <b>-img</b> to create test samples instead.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-img </b><i>image_file_name</i></dt>
  <dd class="It-tag">A positive source image. Use it together with <b>-info</b>
      to create test samples instead.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-vec </b><i>vec_file_name</i></dt>
  <dd class="It-tag">The output file name containing the generated positive
      samples for training.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bg </b><i>background_file_name</i></dt>
  <dd class="It-tag">The background description file (the negative sample set).
      It contains a list of images into which randomly distorted versions of the
      object are pasted for positive sample generation.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-num </b><i>number_of_samples</i></dt>
  <dd class="It-tag">The number of positive samples to generate/train. The
      default is <i>1000</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bgcolor </b><i>background_color</i></dt>
  <dd class="It-tag">The background color (currently grayscale images are
      assumed); the background color denotes the transparent color. The default
      is <i>0</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-inv</b></dt>
  <dd class="It-tag">Invert the colors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-maxidev </b><i>max_intensity_deviation</i></dt>
  <dd class="It-tag">The desired maximum intensity deviation of foreground
      samples pixels. The default is <i>40</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-maxxangle </b><i>max_x_rotation_angle</i></dt>
  <dd class="It-tag">The maximum rotation angle in x-direction in radians. The
      default is <i>1.1</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-maxyangle </b><i>max_y_rotation_angle</i></dt>
  <dd class="It-tag">The maximum rotation angle in y-direction in radians. The
      default is <i>1.1</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-maxzangle </b><i>max_z_rotation_angle</i></dt>
  <dd class="It-tag">The maximum rotation angle in z-direction in radians. The
      default is <i>0.5</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-show [</b><i>scale_factor</i><b>]</b></dt>
  <dd class="It-tag">Show each created sample during the creation process.
      Optionally a scaling factor can be defined. The default is
    <i>4.0</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If &lt;<b>ESC</b>&gt; is pressed, the creation process will
      continue without showing the samples. This can be useful for debugging
      purposes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h </b><i>sample_height</i></dt>
  <dd class="It-tag">For the creation of training samples, it is the resulting
      sample height. The default is <i>24</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">In case of creating test samples, it is the minimal height
      of placed object picture.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w </b><i>sample_width</i></dt>
  <dd class="It-tag">For the creation of training samples, it is the resulting
      sample width. The default is <i>24</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">In case of creating test samples, it is the minimal width
      of placed object picture.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The same information is shown, if <b>opencv_createsamples</b> is called without
  any arguments/options.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
To create training samples from one image applying distortions and show the
  results:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>opencv_createsamples -img source.png -num 10 -bg
      negatives.dat -vec samples_out.vec -show</b></dd>
</dl>
<div class="Pp"></div>
To create training samples of size 40x40 from some images without applying
  distortions:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>opencv_creasamples -info source.dat -vec samples_out.vec
      -w 40 -h 40</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>opencv_haartraing</b>(1), <b>opencv_performance</b>(1)
<div class="Pp"></div>
More information and examples can be found in the OpenCV documentation.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
This manual page was written by <b>Daniel Leidert</b>
  &lt;daniel.leidert@wgdd.de&gt; and <b>Nobuhiro Iwamatsu</b>
  &lt;iwamatsu@debian.org&gt; for the Debian project (but may be used by
  others).</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 2010</td>
    <td class="foot-os">OpenCV</td>
  </tr>
</table>
</body>
</html>
