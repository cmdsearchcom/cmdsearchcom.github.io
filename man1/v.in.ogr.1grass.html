<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:15 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>v.in.ogr(1grass) Grass User&rsquo;s Manual
v.in.ogr(1grass)</p>

<p style="margin-top: 1em">NAME <br>
v.in.ogr - Imports vector data into a GRASS vector map using
OGR library.</p>

<p style="margin-top: 1em">KEYWORDS <br>
vector, import, OGR</p>

<p style="margin-top: 1em">SYNOPSIS <br>
v.in.ogr <br>
v.in.ogr --help <br>
v.in.ogr [-flc2tojrewi] input=string
[layer=string[,string,...]] [output=name]
[spatial=xmin,ymin,xmax,ymax[,xmin,ymin,xmax,ymax,...]]
[where=sql_query] [min_area=float] <br>
[type=string[,string,...]] [snap=float] [location=name]
[columns=name[,name,...]] [encoding=string] [key=string]
[geometry=name] [--overwrite] [--help] [--ver&acirc; <br>
bose] [--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-f <br>
List supported OGR formats and exit</p>

<p style="margin-top: 1em">-l <br>
List available OGR layers in data source and exit</p>

<p style="margin-top: 1em">-c <br>
Do not clean polygons (not recommended)</p>

<p style="margin-top: 1em">-2 <br>
Force 2D output even if input is 3D <br>
Useful if input is 3D but all z coordinates are
identical</p>

<p style="margin-top: 1em">-t <br>
Do not create attribute table</p>

<p style="margin-top: 1em">-o <br>
Override projection check (use current location&acirc;s
projection) <br>
Assume that the dataset has the same projection as the
current location</p>

<p style="margin-top: 1em">-j <br>
Perform projection check only and exit</p>

<p style="margin-top: 1em">-r <br>
Limit import to the current region</p>

<p style="margin-top: 1em">-e <br>
Extend region extents based on new dataset <br>
Also updates the default region if in the PERMANENT
mapset</p>

<p style="margin-top: 1em">-w <br>
Change column names to lowercase characters</p>

<p style="margin-top: 1em">-i <br>
Create the location specified by the &quot;location&quot;
parameter and exit. Do not import the vector data.</p>

<p style="margin-top: 1em">--overwrite <br>
Allow output files to overwrite existing files</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
input=string [required] <br>
Name of OGR datasource to be imported <br>
Examples: <br>
ESRI Shapefile: directory containing shapefiles <br>
MapInfo File: directory containing mapinfo files</p>

<p style="margin-top: 1em">layer=string[,string,...] <br>
OGR layer name. If not given, all available layers are
imported <br>
Examples: <br>
ESRI Shapefile: shapefile name <br>
MapInfo File: mapinfo file name</p>

<p style="margin-top: 1em">output=name <br>
Name for output vector map</p>


<p style="margin-top: 1em">spatial=xmin,ymin,xmax,ymax[,xmin,ymin,xmax,ymax,...]
<br>
Import subregion only <br>
Format: xmin,ymin,xmax,ymax - usually W,S,E,N</p>

<p style="margin-top: 1em">where=sql_query <br>
WHERE conditions of SQL statement without
&acirc;where&acirc; keyword <br>
Example: income &lt; 1000 and inhab &gt;= 10000</p>

<p style="margin-top: 1em">min_area=float <br>
Minimum size of area to be imported (square meters) <br>
Smaller areas and islands are ignored. Should be greater
than snap^2 <br>
Default: 0.0001</p>

<p style="margin-top: 1em">type=string[,string,...] <br>
Optionally change default input type <br>
Options: point, line, boundary, centroid <br>
Default: <br>
point: import area centroids as points <br>
line: import area boundaries as lines <br>
boundary: import lines as area boundaries <br>
centroid: import points as centroids</p>

<p style="margin-top: 1em">snap=float <br>
Snapping threshold for boundaries (map units) <br>
&acirc;-1&acirc; for no snap <br>
Default: -1</p>

<p style="margin-top: 1em">location=name <br>
Name for new location to create</p>

<p style="margin-top: 1em">columns=name[,name,...] <br>
List of column names to be used instead of original names,
first is used for category column</p>

<p style="margin-top: 1em">encoding=string <br>
Encoding value for attribute data <br>
Overrides encoding interpretation, useful when importing
ESRI Shapefile</p>

<p style="margin-top: 1em">key=string <br>
Name of column used for categories <br>
If not given, categories are generated as unique values and
stored in &acirc;cat&acirc; column</p>

<p style="margin-top: 1em">geometry=name <br>
Name of geometry column <br>
If not given, all geometry columns from the input are
used</p>

<p style="margin-top: 1em">DESCRIPTION <br>
v.in.ogr imports vector data from files and database
connections supported by the OGR library) into the current
location and mapset.</p>

<p style="margin-top: 1em">If the layer parameter is not
given, all available OGR layers are imported as separate
GRASS layers into one GRASS vector map. If several OGR layer
names are given, all these <br>
layers are imported as separate GRASS layers into one GRASS
vector map.</p>

<p style="margin-top: 1em">The optional spatial parameter
defines spatial query extents. This parameter allows the
user to restrict the region to a spatial subset while
importing the data. All vector fea&acirc; <br>
tures completely or partially falling into this rectangle
subregion are imported. The -r current region flag is
identical, but uses the current region settings as the
spatial <br>
bounds (see g.region).</p>

<p style="margin-top: 1em">Supported Vector Formats <br>
v.in.ogr uses the OGR library which supports various vector
data formats including ESRI Shapefile, Mapinfo File, UK
.NTF, SDTS, TIGER, IHO S-57 (ENC), DGN, GML, GPX, AVCBin,
REC, <br>
Memory, OGDI, and PostgreSQL, depending on the local OGR
installation. For details see the OGR web site. The OGR
(Simple Features Library) is part of the GDAL library, hence
<br>
GDAL needs to be installed to use v.in.ogr.</p>

<p style="margin-top: 1em">The list of actually supported
formats can be printed by -f flag.</p>

<p style="margin-top: 1em">Topology cleaning <br>
Topology cleaning on areas is automatically performed, but
may fail in special cases. In these cases, a snap threshold
value is estimated from the imported vector data and <br>
printed out at the end. The vector data can then be imported
again with the suggested snap threshold value which is
incremented by powers of 10 until either an estimated upper
<br>
limit for the threshold value is reached or the topology
cleaning on areas was successful. In some cases, manual
cleaning might be required or areas are truly overlapping,
e.g. <br>
buffers created with non-topological software.</p>

<p style="margin-top: 1em">The min_area threshold value is
being specified as area size in map units with the exception
of latitude-longitude locations in which it is being
specified solely in square <br>
meters.</p>

<p style="margin-top: 1em">The snap threshold value is used
to snap boundary vertices to each other if the distance in
map units between two vertices is not larger than the
threshold. Snapping is by <br>
default disabled with -1. See also the v.clean manual.</p>

<p style="margin-top: 1em">Overlapping polygons <br>
When importing overlapping polygons, the overlapping parts
will become new areas with multiple categories, one unique
category for each original polygon. An original polygon will
<br>
thus be converted to multiple areas with the same shared
category. These multiple areas will therefore also link to
the same entry in the attribute table. A single category
value <br>
may thus refer to multiple non-overlapping areas which
together represent the original polygon overlapping with
another polygon. The original polygon can be recovered by
using <br>
v.extract with the desired category value or where statement
and the -d flag to dissolve common boundaries.</p>

<p style="margin-top: 1em">Location Creation <br>
v.in.ogr attempts to preserve projection information when
importing datasets if the source format includes projection
information, and if the OGR driver supports it. If the
pro&acirc; <br>
jection of the source dataset does not match the projection
of the current location v.in.ogr will report an error
message (&quot;Projection of dataset does not appear to
match current <br>
location&quot;).</p>

<p style="margin-top: 1em">If the user wishes to ignore the
difference between the apparent coordinate system of the
source data and the current location, they may pass the -o
flag to override the projec&acirc; <br>
tion check.</p>

<p style="margin-top: 1em">If the user wishes to import the
data with the full projection definition, it is possible to
have v.in.ogr automatically create a new location based on
the projection and extents <br>
of the file being read. This is accomplished by passing the
name to be used for the new location via the location
parameter. Upon completion of the command, a new location
will <br>
have been created (with only a PERMANENT mapset), and the
vector map will have been imported with the indicated output
name into the PERMANENT mapset.</p>

<p style="margin-top: 1em">An interesting wrapper command
around v.in.ogr is v.import which reprojects (if needed) the
vector dataset during import to the projection of the
current location.</p>

<p style="margin-top: 1em">NOTES <br>
The characters which are eligible for table column names are
limited by the SQL standard. Supported are: <br>
[A-Za-z][A-Za-z0-9_]* <br>
This means that SQL neither supports &acirc;.&acirc; (dots)
nor &acirc;-&acirc; (minus) nor &acirc;#&acirc; in table
column names. Also a table name must start with a character,
not a number.</p>

<p style="margin-top: 1em">v.in.ogr converts
&acirc;.&acirc;, &acirc;-&acirc; and &acirc;#&acirc; to
&acirc;_&acirc; (underscore) during import. The -w flag
changes capital column names to lowercase characters as a
convenience for SQL usage (lowercase <br>
column names avoid the need to quote them if the attribute
table is stored in a SQL DBMS such as PostgreSQL). The
cnames parameter is used to define new column names during
<br>
import.</p>

<p style="margin-top: 1em">The DBF database specification
limits column names to 10 characters. If the default DB is
set to DBF and the input data contains longer column/field
names, they will be trun&acirc; <br>
cated. If this results in multiple columns with the same
name then v.in.ogr will produce an error. In this case you
will either have to modify the input data or use
v.in.ogr&acirc;s <br>
cnames parameter to rename columns to something unique.
(hint: copy and modify the list given with the error
message). Alternatively, change the local DB with
db.connect.</p>

<p style="margin-top: 1em">When importing Esri Shapefiles
the OGR library tries to read the LDID/codepage setting from
the .dbf file and use it to translate string fields to
UTF-8. LDID &quot;87 / 0x57&quot; is <br>
treated as ISO8859_1 which may not be appropriate for many
languages. Unfortunately it is not clear what other values
may be appropriate (see example below). To change encoding
<br>
the user can set up SHAPE_ENCODING environmental variable or
simply to define encoding value using encoding parameter.
Note that recoding support is new for GDAL/OGR 1.9.0.</p>

<p style="margin-top: 1em">Value for encoding also affects
text recoding when importing DXF files. For other formats
has encoding value no effect.</p>

<p style="margin-top: 1em">Option key specifies column name
used for feature categories. This column must be integer. If
not specified, categories numbers are generated starting
with 1 and stored in the <br>
column named &quot;cat&quot;.</p>

<p style="margin-top: 1em">Starting with GDAL 1.11 the
library supports multiple geometry columns in OGR. By
default v.in.ogr reads all geometry columns from given
layer. The user can choose desired geome&acirc; <br>
try column by geometry option, see example below.</p>

<p style="margin-top: 1em">EXAMPLES <br>
The command imports various vector formats:</p>

<p style="margin-top: 1em">SHAPE files <br>
v.in.ogr input=/home/user/shape_data/test_shape.shp
output=grass_map <br>
Alternate method: <br>
v.in.ogr input=/home/user/shape_data layer=test_shape
output=grass_map <br>
Define encoding value for attribute data (in this example we
expect attribute data in Windows-1250 encoding; ie. in
Central/Eastern European languages that use Latin script,
Mi&acirc; <br>
crosoft Windows encoding). <br>
v.in.ogr input=/home/user/shape_data/test_shape.shp
output=grass_map encoding=cp1250</p>

<p style="margin-top: 1em">MapInfo files <br>
v.in.ogr input=./ layer=mapinfo_test output=grass_map</p>

<p style="margin-top: 1em">Arc Coverage <br>
We import the Arcs and Label points, the module takes care
to build areas. <br>
v.in.ogr input=gemeinden layer=LAB,ARC
type=centroid,boundary output=mymap</p>

<p style="margin-top: 1em">E00 file <br>
See also v.in.e00.</p>

<p style="margin-top: 1em">First we have to convert the E00
file to an Arc Coverage with &acirc;avcimport&acirc; (AVCE00
tools, use e00conv first in case that avcimport fails): <br>
avcimport e00file coverage <br>
v.in.ogr input=coverage layer=LAB,ARC type=centroid,boundary
output=mymap</p>

<p style="margin-top: 1em">SDTS files <br>
You have to select the CATD file. <br>
v.in.ogr input=CITXCATD.DDF output=cities</p>

<p style="margin-top: 1em">TIGER files <br>
v.in.ogr input=input/2000/56015/ layer=CompleteChain,PIP
output=t56015_all type=boundary,centroid snap=-1</p>

<p style="margin-top: 1em">PostGIS tables <br>
Import polygons as areas: <br>
v.in.ogr input=&quot;PG:host=localhost dbname=postgis
user=postgres&quot; layer=polymap output=polygons
type=boundary,centroid</p>

<p style="margin-top: 1em">Default connection settings as
datasource (PostgreSQL only) <br>
If datasource (input) is specified as &acirc;PG:&acirc; and
the default DB driver is PostgreSQL (pg) than the connection
string is determined from the default DB settings, see
examples <br>
below.</p>

<p style="margin-top: 1em">For schema support, first set a
default schema with db.connect. If schema support is used
the schema name must be specified whenever a db.* module is
called. User and password <br>
for connection to the database can be specified by
db.login.</p>

<p style="margin-top: 1em">Example (with schema): <br>
db.connect driver=pg database=test schema=user1 <br>
db.login user=user1 password=pwd1 <br>
# -&gt; input=&quot;PG:dbname=test user=user1
password=pwd1&quot; layer=&quot;user1.river&quot; <br>
v.in.ogr input=PG: layer=river output=river <br>
db.select table=user1.river</p>

<p style="margin-top: 1em">The user can ignore schemas, if
desired: <br>
db.connect driver=pg database=test <br>
db.login user=user1 password=pwd1 <br>
# -&gt; input=&quot;PG:dbname=test user=user1
password=pwd1&quot; <br>
v.in.ogr input=PG: layer=river output=river <br>
db.select table=river</p>

<p style="margin-top: 1em">Oracle Spatial <br>
Note that you have to set the environment-variables
ORACLE_BASE, ORACLE_SID, ORACLE_HOME and TNS_ADMIN
accordingly. <br>
v.in.ogr input=OCI:username/password@database_instance
output=grasslayer layer=roads_oci</p>

<p style="margin-top: 1em">Multiple geometry columns <br>
This example shows how to work with data which contain
multiple geometry per feature. The number of geometry
columns per feature can be checked by v.external together
with -t <br>
flag. <br>
v.external -t input=20141130_ST_UKSH.xml.gz <br>
... <br>
Okresy,point,1,DefinicniBod <br>
Okresy,multipolygon,1,OriginalniHranice <br>
Okresy,multipolygon,1,GeneralizovaneHranice <br>
... <br>
In our example layer &quot;Okresy&quot; has three geometry
columns: &quot;DefinicniBod&quot;,
&quot;OriginalniHranice&quot; and
&quot;GeneralizovanaHranice&quot;. By default v.in.ogr reads
data from all three geometry <br>
columns. The user can specify desired geometry column by
geometry option, in this case the module will read geometry
only from the specified geometry column. In the example <br>
below, the output vector map will contain only geometry
saved in &quot;OriginalniHranice&quot; geometry column. <br>
v.in.ogr input=20141130_ST_UKSH.xml.gz layer=Okresy
geometry=OriginalniHranice</p>

<p style="margin-top: 1em">WARNINGS <br>
If a message like &quot;WARNING: Area size 1.3e-06, area not
imported.&quot; appears, the min_area may be adjusted to a
smaller value so that all areas are imported. Otherwise tiny
areas <br>
are filtered out during import (useful to polish
digitization errors or non-topological data).</p>

<p style="margin-top: 1em">If a message like &quot;Try to
import again, snapping with at least 1e-008:
&acirc;snap=1e-008&acirc;&quot; appears, then the map to be
imported contains topological errors. The message suggests a
<br>
value for the snap parameter to be tried. For more details,
see above in Topology Cleaning.</p>

<p style="margin-top: 1em">ERROR MESSAGES <br>
DBMI-DBF driver error: SQL parser error: syntax error,
unexpected DESC, expecting NAME processing
&acirc;DESC&acirc; <br>
indicates that a column name corresponds to a reserved SQL
word (here: &acirc;DESC&acirc;). A different column name
should be used. The cnames parameter can be used to assign
different <br>
column names on the fly.</p>

<p style="margin-top: 1em">Projection of dataset does not
appear to match the current location. <br>
You need to create a location whose projection matches the
data you wish to import. Try using location parameter to
create a new location based upon the projection
informa&acirc; <br>
tion in the file. If desired, you can then re-project it to
another location with v.proj.</p>

<p style="margin-top: 1em">REFERENCES <br>
&Acirc;&middot; OGR vector library</p>

<p style="margin-top: 1em">&Acirc;&middot; OGR vector
library C API documentation</p>

<p style="margin-top: 1em">SEE ALSO <br>
db.connect, v.clean, v.extract, v.build.polylines, v.edit,
v.external, v.import, v.in.db, v.in.e00, v.out.ogr</p>

<p style="margin-top: 1em">GRASS GIS Wiki page: Import of
Global datasets</p>

<p style="margin-top: 1em">AUTHORS <br>
Original author: Radim Blazek, ITC-irst, Trento, Italy <br>
Location and spatial extent support by Markus Neteler and
Paul Kelly <br>
Various improvements by Markus Metz <br>
Multiple geometry columns support by Martin Landa, OSGeoREL,
Czech Technical University in Prague, Czech Republic</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-08-06
18:34:49 +0200 (Sat, 06 Aug 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: v.in.ogr source code (history)</p>

<p style="margin-top: 1em">Main index | Vector index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0 v.in.ogr(1grass)</p>
<hr>
</body>
</html>
