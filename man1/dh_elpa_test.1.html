<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:03:45 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DH_ELPA_TEST(1) Debhelper DH_ELPA_TEST(1)</p>

<p style="margin-top: 1em">NAME <br>
dh_elpa_test - run ELPA package testsuites</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dh_elpa_test [debhelper options] [--autopkgtest]
[pkg-file]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dh_elpa_test is a debhelper program that is responsible for
running the testsuites of ELPA packages, when those test
suites use ERT or buttercup(1). dh_auto_test(1) is rarely
<br>
suitable.</p>

<p style="margin-top: 1em">Testing with buttercup(1) will
be activated if the package build-depends on elpa-buttercup.
Testing with ERT will be activated if ERT test files can be
found. Neither kind of <br>
test will be activated unless the debhelper compat level is
10 or higher.</p>

<p style="margin-top: 1em">dh_elpa_test overrides
dh_auto_test(1). If you need to switch back to use
dh_auto_test(1), use the disable configuration key,
below.</p>

<p style="margin-top: 1em">FILES <br>
debian/elpa-test <br>
Configuration for running the package&rsquo;s test suite.
Each line is of the form key = value, with key drawn from
the list of configuration options below.</p>

<p style="margin-top: 1em">Note that you should not
surround values with double quotation marks. This is
convenient for including lisp. Configuration values cannot
cover more than one line. Lines <br>
preceded with a # are ignored as comments.</p>

<p style="margin-top: 1em">This configuration file is
optional; in many cases, dh_elpa_test can figure out how to
run the test suite itself.</p>

<p style="margin-top: 1em">CONFIGURATION KEYS <br>
disable <br>
If this key is set to any value, dh_elpa(1) will not invoke
dh_elpa_test.</p>

<p style="margin-top: 1em">buttercup_load_path <br>
A comma-separated list of directories to add to the
load-path when buttercup(1) invokes Emacs. Will be passed to
buttercup(1) with its -L command line argument.</p>

<p style="margin-top: 1em">buttercup_patterns <br>
A comma-separated list of Emacs regular expressions jointly
matching all and only the files containing Buttercup tests
that you wish to run. If this key is not defined, all <br>
tests that can be found will be run. Will be passed to
buttercup(1) with its -p command line argument.</p>

<p style="margin-top: 1em">ert_exclude <br>
A comma-separated list of file globs matching files
containing ERT tests that should not be run.</p>

<p style="margin-top: 1em">The &rsquo;*&rsquo; character in
globs in this configuration key does NOT match
&rsquo;/&rsquo; directory separators.</p>

<p style="margin-top: 1em">ert_helper <br>
The name of a *.el file containing Emacs Lisp code that will
run the ERT test suite. When this key is not defined,
dh_elpa_test calls the function (ert-run-tests-batch-and-
<br>
exit).</p>

<p style="margin-top: 1em">Note that this is not the way to
load test helpers that do needed work but don&rsquo;t
actually run the tests. For that, you can use something
like</p>

<p style="margin-top: 1em">ert_eval = (load-file
&quot;test-helper.el&quot;)</p>

<p style="margin-top: 1em">ert_eval <br>
Emacs Lisp code to be run prior to running ERT tests by the
Emacs instance spawned by dh_elpa_test to run those
tests.</p>

<p style="margin-top: 1em">ert_load_path <br>
A comma-separated list of directories to add to the
load-path when dh_elpa_test invokes Emacs to run ERT
tests.</p>

<p style="margin-top: 1em">autopkgtest_keep <br>
A comma-separated list of file globs matching files that
should not be moved out of the source tree before running
DEP8 tests (see the --autopkgtest option below).</p>

<p style="margin-top: 1em">The &rsquo;*&rsquo; character in
globs in this configuration key matches &rsquo;/&rsquo;
directory separators.</p>

<p style="margin-top: 1em">OPTIONS <br>
--autopkgtest <br>
Operate in autopkgtest mode. dh_elpa_test will rename
non-test *.el files so that Emacs will not load them. This
ensures that the test test the installed binary package <br>
rather than the unpacked source package.</p>

<p style="margin-top: 1em">To exclude files from this
removal, specify them in the autopkgtest_keep configuration
option (see above).</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
Older versions of dh_elpa_test were configured using
environment variables corresponding to some of the above
configuration keys. For example, the ert_eval configuration
key <br>
replaced environment variable DH_ELPA_TEST_ERT_EVAL. Their
use is now deprecated. If the debian/elpa-test file exists,
they will be ignored.</p>

<p style="margin-top: 1em">perl v5.24.1 2017-01-08
DH_ELPA_TEST(1)</p>
<hr>
</body>
</html>
