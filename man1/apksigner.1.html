<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:49:41 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>APKSIGNER(1) 7.0.0_r1 APKSIGNER(1)</p>

<p style="margin-top: 1em">NAME <br>
apksigner - sign and verify Android APKs</p>

<p style="margin-top: 1em">SYNOPSIS <br>
A command line tool for signing Android APK files and for
checking whether signatures of APK files will verify on
Android devices:</p>

<p style="margin-top: 1em">apksigner [options] apk</p>

<p style="margin-top: 1em">apksigner --version</p>

<p style="margin-top: 1em">apksigner --help</p>

<p style="margin-top: 1em">apk is an existing file to sign
or verify.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
apksig is a project which aims to simplify APK signing and
checking whether APK&rsquo;s signatures should verify on
Android. apksig supports JAR signing (used by Android since
day <br>
one) and APK Signature Scheme v2 (supported since Android
Nougat, API Level 24).</p>

<p style="margin-top: 1em">The key feature of apksig is
that it knows about differences in APK signature
verification logic between different versions of the Android
platform. apksig can thus check <br>
whether a signed APK is expected to verify on all Android
platform versions supported by the APK. When signing an APK,
apksig will choose the most appropriate cryptographic
al&acirc; <br>
gorithms based on the Android platform versions supported by
the APK being signed.</p>

<p style="margin-top: 1em">COMMANDS <br>
sign</p>

<p style="margin-top: 1em">:This signs the provided APK,
stripping out any pre-existing signatures. Signing is
performed using one or more signers, each represented by an
asymmetric key pair and a corre&acirc; <br>
sponding certificate. Typically, an APK is signed by just
one signer. For each signer, you need to provide the
signer&rsquo;s private key and certificate.</p>

<p style="margin-top: 1em">verify :This checks whether the
provided APK will verify on Android. By default, this checks
whether the APK will verify on all Android platform versions
supported by the APK <br>
(as declared using minSdkVersion in AndroidManifest.xml).
Use --min-sdk-version and/or --max-sdk-version to verify the
APK against a custom range of API Levels.</p>

<p style="margin-top: 1em">version :Show this tool&rsquo;s
version number and exit</p>

<p style="margin-top: 1em">help :Show this usage page and
exit</p>

<p style="margin-top: 1em">OPTIONS <br>
-v, --verbose: Verbose output mode</p>

<p style="margin-top: 1em">-h, --help: Show help about this
command and exit</p>

<p style="margin-top: 1em">-Werr: Treat warnings as
errors</p>

<p style="margin-top: 1em">sign <br>
Sign the provided APK</p>

<p style="margin-top: 1em">--out :File into which to output
the signed APK. By default, the APK is signed in-place,
overwriting the input file.</p>

<p style="margin-top: 1em">--min-sdk-version :Lowest API
Level on which this APK&rsquo;s signatures will be verified.
By default, the value from AndroidManifest.xml is used. The
higher the value, the stronger <br>
security parameters are used when signing.</p>

<p style="margin-top: 1em">--max-sdk-version :Highest API
Level on which this APK&rsquo;s signatures will be verified.
By default, the highest possible value is used.</p>

<p style="margin-top: 1em">--v1-signing-enabled :Whether to
enable signing using JAR signing scheme (aka v1 signing
scheme, the one used in Android since day one). By default,
signing using this scheme is <br>
enabled based on min and max SDK version (see
--min-sdk-version and --max-sdk-version).</p>

<p style="margin-top: 1em">--v2-signing-enabled :Whether to
enable signing using APK Signature Scheme v2 (aka v2 signing
scheme, the one introduced in Android Nougat, API Level 24).
By default, signing <br>
using this scheme is enabled based on min and max SDK
version (see --min-sdk-version and --max-sdk-version).</p>

<p style="margin-top: 1em">per-signer options <br>
These options specify the configuration of a particular
signer. To delimit options of different signers, use
--next-signer.</p>

<p style="margin-top: 1em">--next-signer :Delimits options
of two different signers. There is no need to use this
option when only one signer is used.</p>

<p style="margin-top: 1em">--v1-signer-name :Basename for
files comprising the JAR signature scheme (aka v1 scheme)
signature of this signer. By default, KeyStore key alias or
basename of key file is <br>
used.</p>

<p style="margin-top: 1em">per-signer signing key &amp;
certificate options <br>
There are two ways to provide the signer&rsquo;s private key
and certificate: (1) Java KeyStore (see --ks), or (2)
private key file in PKCS #8 format and certificate file in
X.509 for&acirc; <br>
mat (see --key and --cert).</p>

<p style="margin-top: 1em">--ks :Load private key and
certificate chain from the Java KeyStore initialized from
the specified file. NONE means no file is needed by
KeyStore, which is the case for some <br>
PKCS #11 KeyStores.</p>

<p style="margin-top: 1em">--ks-key-alias :Alias under
which the private key and certificate are stored in the
KeyStore. This must be specified if the KeyStore contains
multiple keys.</p>

<p style="margin-top: 1em">--ks-pass :KeyStore password
(see --ks). The following formats are supported:</p>

<p style="margin-top: 1em">&Acirc;&middot; pass: password
provided inline</p>

<p style="margin-top: 1em">&Acirc;&middot; env: password
provided in the named environment variable</p>

<p style="margin-top: 1em">&Acirc;&middot; file: password
provided in the named file, as a single line</p>

<p style="margin-top: 1em">&Acirc;&middot; stdin password
provided on standard input, as a single line</p>

<p style="margin-top: 1em">A password is required to open a
KeyStore. By default, the tool will prompt for password via
console or standard input. When the same file (including
standard input) is used <br>
for providing multiple passwords, the passwords are read
from the file one line at a time. Passwords are read in the
order in which signers are specified and, within each
sign&acirc; <br>
er, KeyStore password is read before the key password is
read.</p>

<p style="margin-top: 1em">--key-pass :Password with which
the private key is protected. By default it is assumed that
KeyStore keys are protected using the same password as their
KeyStore (see <br>
--ks-pass). The following formats are supported:</p>

<p style="margin-top: 1em">&Acirc;&middot; pass: password
provided inline</p>

<p style="margin-top: 1em">&Acirc;&middot; env: password
provided in the named environment variable</p>

<p style="margin-top: 1em">&Acirc;&middot; file: password
provided in the named file, as a single line stdin password
provided on standard input, as a single line</p>

<p style="margin-top: 1em">By default, if the key is
password-protected, the tool will prompt for password via
console or standard input. When the same file (including
standard input) is used for provid&acirc; <br>
ing multiple passwords, the passwords are read from the file
one line at a time. Passwords are read in the order in which
signers are specified and, within each signer, KeyStore <br>
password is read before the key password is read.</p>

<p style="margin-top: 1em">--ks-type :Type/algorithm of
KeyStore to use. By default, the default type is used.</p>

<p style="margin-top: 1em">--ks-provider-name :Name of the
JCA Provider from which to request the KeyStore
implementation. By default, the highest priority provider is
used. See --ks-provider-class for <br>
the alternative way to specify a provider.</p>

<p style="margin-top: 1em">--ks-provider-class
:Fully-qualified class name of the JCA Provider from which
to request the KeyStore implementation. By default, the
provider is chosen based on <br>
--ks-provider-name.</p>

<p style="margin-top: 1em">--ks-provider-arg :Value to pass
into the constructor of the JCA Provider class specified by
--ks-provider-class. The value is passed into the
constructor as java.lang.String. <br>
By default, the no-arg provider&rsquo;s constructor is
used.</p>

<p style="margin-top: 1em">--key :Load private key from the
specified file. If the key is password-protected, the
password will be prompted via standard input unless
specified otherwise using --key-pass. <br>
The file must be in PKCS #8 DER format.</p>

<p style="margin-top: 1em">--cert :Load certificate chain
from the specified file. The file must be in X.509 PEM or
DER format.</p>

<p style="margin-top: 1em">verify <br>
Check whether the provided APK is expected to verify on
Android</p>

<p style="margin-top: 1em">--print-certs <br>
Show information about the APK&rsquo;s signing
certificates</p>

<p style="margin-top: 1em">--min-sdk-version :Lowest API
Level on which this APK&rsquo;s signatures will be verified.
By default, the value from AndroidManifest.xml is used.</p>

<p style="margin-top: 1em">--max-sdk-version Highest API
Level on which this APK&rsquo;s signatures will be verified.
By default, the highest possible value is used.</p>

<p style="margin-top: 1em">EXAMPLES <br>
apksigner sign --ks release.jks app.apk apksigner verify
--verbose app.apk</p>

<p style="margin-top: 1em">sign <br>
1. Sign an APK using the one and only key in keystore
release.jks: $ apksigner sign --ks release.jks app.apk</p>

<p style="margin-top: 1em">2. Sign an APK using a private
key and certificate stored as individual files: $ apksigner
sign --key release.pk8 --cert release.x509.pem app.apk</p>

<p style="margin-top: 1em">3. Sign an APK using two keys: $
apksigner sign --ks release.jks --next-signer --ks magic.jks
app.apk</p>

<p style="margin-top: 1em">verify <br>
1. Check whether the APK&rsquo;s signatures are expected to
verify on all Android platforms declared as supported by
this APK: $ apksigner verify app.apk</p>

<p style="margin-top: 1em">2. Check whether the APK&rsquo;s
signatures are expected to verify on Android platforms with
API Level 15 and higher: $ apksigner verify
--min-sdk-version 15 app.apk</p>

<p style="margin-top: 1em">SEE ALSO <br>
signapk(1) jar(1) zip(1) zipalign(1)</p>


<p style="margin-top: 1em">https://source.android.com/devices/tech/ota/sign_builds.html</p>

<p style="margin-top: 1em">AUTHORS <br>
The Android Open Source Project.</p>

<p style="margin-top: 1em">2 December 2016 APKSIGNER(1)</p>
<hr>
</body>
</html>
