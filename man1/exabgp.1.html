<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:08:32 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>EXABGP(1) BSD General Commands Manual EXABGP(1)</p>

<p style="margin-top: 1em">NAME <br>
exabgp &acirc; Influence or control network using BGP</p>

<p style="margin-top: 1em">SYNOPSIS <br>
exabgp [--folder folder | -f folder] [--env env-config | -e
env-config] [--full-ini | --fi] [--diff-ini | --di]
[--full-env | --fe] [--diff-env | --de] [--debug | -d] <br>
[--signal time] [--once | -1] [--pdb | -p] [--memory | -s]
[--profile profile] [--test | -t] [--decode hex-message | -x
hex-message] [--help | -h] [--version | -v] <br>
[configuration ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
exabgp allows engineers to control their network from
commodity servers. Possible uses include DDoS mitigation,
network visualisation, service high availability and
implementing <br>
anycast. exabgp does not perform any FIB manipulation on the
system it runs on; if you need that this is not the program
for you. exabgp can also print received BGP messages into
<br>
readable plain text or JSON formatted text.</p>

<p style="margin-top: 1em">The arguments are as
follows:</p>

<p style="margin-top: 1em">--folder folder | -f folder <br>
Specify the directory where the configuration file can be
found.</p>

<p style="margin-top: 1em">--env env-config | -e env-config
<br>
Specify where the environment configuration file can be
found.</p>

<p style="margin-top: 1em">--full-ini | --fi <br>
Display the full environment configuration using on stdout
using the ini format.</p>

<p style="margin-top: 1em">--diff-ini | --di <br>
Display the non-default environment configuration on stdout
using the ini format.</p>

<p style="margin-top: 1em">--full-env | --fe <br>
Display the full environment configuration on stdout using
the env format.</p>

<p style="margin-top: 1em">--diff-env | --de <br>
Display the non-default configuration on stdout using the
env format.</p>

<p style="margin-top: 1em">--debug | -d <br>
Start the python debugger on serious logging on and on
reception of the SIGTERM signal. This is a shortcut for
exabgp.log.all=true and exabgp.log.level=DEBUG.</p>

<p style="margin-top: 1em">--signal time <br>
Issue a SIGUSR1 signal to reload the configuration after the
specified number of seconds, only useful for code
debugging.</p>

<p style="margin-top: 1em">--once | -1 <br>
Only perform one attempt to connect to peers, used mostly
for debugging.</p>

<p style="margin-top: 1em">--pdb | -p <br>
Start the python debugger on critical logging, reception of
SIGTERM, and on uncaught python exceptions. This is a
shortcut for exabgp.pdb.enable=true.</p>

<p style="margin-top: 1em">--memory | -s <br>
Display memory usage information on program exit.</p>

<p style="margin-top: 1em">--profile profile <br>
Enable collection of profiling information to the given
file. This is a shortcut for exabgp.profile.enable=true and
exabgp.profile.file=profile.</p>

<p style="margin-top: 1em">--test | -t <br>
Only do a configuration validity check.</p>

<p style="margin-top: 1em">--decode hex-message | -x
hex-message <br>
Decode a raw route packet in hexadecimal string.</p>

<p style="margin-top: 1em">--help | -h <br>
Display summary of usage and configuration of exabgp.</p>

<p style="margin-top: 1em">--version | -v <br>
Display the exabgp version number and exit.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The configuration of exabgp is split in two:</p>

<p style="margin-top: 1em">&Acirc;&middot; The environment
configuration which controls the basic execution of exabgp
such as logging, daemonizing, pid-file, profiling etc. <br>
&Acirc;&middot; The BGP configuration of exabgp, which
specifies which neighbors it should talk BGP with and all
other aspects of the BGP configuration.</p>

<p style="margin-top: 1em">The environment configuration
can be specified a number of different ways, with different
priority:</p>

<p style="margin-top: 1em">1. Command line values using
dot-separated notation. <br>
2. Environment variables using dot-separated notation. <br>
3. Command line values using underscore-separated notation.
<br>
4. Environment variables using underscore-seprated notation.
<br>
5. The values from the ini configuration file,
/etc/exabgp/exabgp.env <br>
6. The built-in default values.</p>

<p style="margin-top: 1em">The following environment
variables can be used to configure the basic execution of
exabgp:</p>

<p style="margin-top: 1em">exabgp.api.encoder
(experimental) default encoder to use with external API
(text or json). Default: text.</p>

<p style="margin-top: 1em">exabgp.api.highres Controls
whether to use high-resolution timestamps in JSON. Default:
false.</p>

<p style="margin-top: 1em">exabgp.api.respawn Controls
whether to respawn a helper process if it dies. Default:
false.</p>

<p style="margin-top: 1em">exabgp.bgp.openwait Controls how
many seconds we should wait for a BGP open message once the
TCP session is established. Default: 60 seconds.</p>

<p style="margin-top: 1em">exabgp.cache.attributes Controls
whether all attributes (configuration and wire) should be
cached for faster parsing. Default: true.</p>

<p style="margin-top: 1em">exabgp.cache.nexthops
(deprecated) Controls whether route next-hops are cached.
Default: true.</p>

<p style="margin-top: 1em">exabgp.daemon.daemonize Controls
whether exabgp should run in the background. Default:
false.</p>

<p style="margin-top: 1em">exabgp.daemon.pid Where to save
the PID of exabgp if we manage it. Default: &rsquo;&rsquo;
(not set).</p>

<p style="margin-top: 1em">exabgp.daemon.user The user to
run exabgp as. Should be an unprivileged user. Default:
nobody.</p>

<p style="margin-top: 1em">exabgp.log.all Controls whether
debug logging should be done for everything. Default:
false.</p>

<p style="margin-top: 1em">exabgp.log.configuration
Controls whether logging should be done for the
configuration and command parsing. Default: true.</p>

<p style="margin-top: 1em">exabgp.log.daemon Controls
whether logging should be done for PID change, forking, etc.
Default: true.</p>

<p style="margin-top: 1em">exabgp.log.destination Controls
where logging should be sent. syslog (or no setting) sends
the data to the local syslog server. host:&lt;location&gt;
sends the data to a remote syslog <br>
server. stdout sends the data to stdout. stderr sends the
data to stderr. &lt;filename&gt; sends the data to the named
file. Default: stdout.</p>

<p style="margin-top: 1em">exabgp.log.enable Controls
whether logging should be done. Default: true.</p>

<p style="margin-top: 1em">exabgp.log.level Sets the
minimum severity level to log. Default: INFO.</p>

<p style="margin-top: 1em">exabgp.log.message Controls
logging of changes in route announcement in config reload.
Default: false.</p>

<p style="margin-top: 1em">exabgp.log.network Controls
logging of networking information (TCP/IP state, network
state etc.). Default: true.</p>

<p style="margin-top: 1em">exabgp.log.packets Controls
logging of BGP packets sent and received. Default:
false.</p>

<p style="margin-top: 1em">exabgp.log.parser Controls
logging of BGP message parsing details. Default: false.</p>

<p style="margin-top: 1em">exabgp.log.processes Controls
logging of forked processes. Default: true.</p>

<p style="margin-top: 1em">exabgp.log.reactor Controls
logging of signals received and command reload. Default:
true.</p>

<p style="margin-top: 1em">exabgp.log.rib Controls logging
of changes in locally configured routes. Default: false.</p>

<p style="margin-top: 1em">exabgp.log.routes Controls
logging of received routes. Default: false.</p>

<p style="margin-top: 1em">exabgp.log.short Coontrols
whether to use long or short log format (not prepended with
time, level, pid and source). Default: false.</p>

<p style="margin-top: 1em">exabgp.log.timers Controls
logging of keepalive timers. Default: false.</p>

<p style="margin-top: 1em">exabgp.pdb.enable Controls
whether pdb, the python interactive debugger should be
started on program faults. Default: false.</p>

<p style="margin-top: 1em">exabgp.profile.enable Controls
whether profiling of the code should be done. Default:
false.</p>

<p style="margin-top: 1em">exabgp.profile.file Controls
where profiling results should be written. None/empty means
stdout. Default: empty.</p>

<p style="margin-top: 1em">exabgp.reactor.speed Controls
the time of one reactor loop. Use only if you understand the
code. Default: 1.0.</p>

<p style="margin-top: 1em">exabgp.tcp.acl (experimental,
unimplemented). Default: empty.</p>

<p style="margin-top: 1em">exabgp.tcp.bind IP address to
bind to when listening (no ip to disable). Default:
empty.</p>

<p style="margin-top: 1em">exabgp.tcp.delay Start to
announce routes when the minutes in the hour is a modulo of
this number. Default: 0.</p>

<p style="margin-top: 1em">exabgp.tcp.once Only perform one
TCP connection attempt per peer, for debugging scripts.
Default: false.</p>

<p style="margin-top: 1em">exabgp.tcp.port Port to bind to
when listening. Default: 179.</p>

<p style="margin-top: 1em">FILES <br>
/etc/exabgp/exabgp.env is the default file for setting the
&quot;environment&quot; variables controlling the execution
of exabgp. An alaternative &quot;env&quot; configuration
file can be supplied <br>
via the --env env-config argument. The format of this file
is &quot;Windows INI format&quot;. All the default settings
can be shown with the exabgp --test --full-init command, an
example <br>
showing parts of this output is:</p>

<p style="margin-top: 1em">[exabgp.api] <br>
encoder = text <br>
highres = false <br>
respawn = false</p>

<p style="margin-top: 1em">[exabgp.bgp] <br>
openwait = 60</p>

<p style="margin-top: 1em">Additionally, the user will need
to supply a configuration file controlling the BGP
configuration of exabgp, in the format described in
exabgp.conf(5).</p>

<p style="margin-top: 1em">SIGNALS <br>
exabgp catches a few different signals to control specific
actions. They are:</p>

<p style="margin-top: 1em">ALRM Restarts exabgp. <br>
USR1 Causes exabgp to reload the configuration. <br>
USR2 Causes exabgp to reload the configuration and restart
any forked processes. <br>
TERM Terminates exabgp. <br>
HUP Also terminates exabgp (does not reload the
configuration anymore).</p>

<p style="margin-top: 1em">Reloading large configurations
using signals is currently not recommended, because the
configuration parsing code is currently blocking. Therefore
if you have a large configura&acirc; <br>
tion change, it could cause the peer to miss some keepalive
and cause a session flap.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
The --test argument is useful to validate the syntax of the
configuration file. The --debug flag will provide copious
debug output to whereever the various exabgp.log variable
<br>
settings dictate.</p>

<p style="margin-top: 1em">SEE ALSO <br>
exabgp.conf(5)</p>

<p style="margin-top: 1em">STANDARDS <br>
A list of the standards exabgp implements which is
indicative of the features implemented is:</p>

<p style="margin-top: 1em">RFC 4893 BGP Support for
Four-octet AS Number Space <br>
RFC 4760 Multiprotocol Extension for BGP-4 <br>
RFC 4659 BGP-MPLS IP Virtual Private Network (VPN) Extension
for IPv6 VPN <br>
RFC 4762 Virtual Private LAN Service (VPLS) Using Label
Distribution Protocol (LDP) Signalling <br>
RFC 5575 Dissemination of Flow Specification Rules <br>
RFC 4724 Graceful Restart Mechanism for BGP <br>
RFC 7313 Enhanced Route Refresh Capability for BGP-4 <br>
RFC 7311 The Accumulated IGP Metric Attribute for BGP <br>
draft-raszuk-idr-flow-spec-v6-03
(draft-ietf-idr-flow-spec-v6-06), Dissemination of Flow
Specification Rules for IPv6 <br>
draft-ietf-idr-flowspect-redirect-ip-00 (-02) BGP Flow-Spect
Redirect to IP Action <br>
draft-ietf-idr-add-paths-08 (-10) Advertisement of Multiple
Paths in BGP <br>
draft-ietf-idr-bgp-multisession-07 (??) <br>
draft-scudder-bmp-01 (??)</p>

<p style="margin-top: 1em">A list of other more basic
BGP-related standard entirely or partially implemented
is:</p>

<p style="margin-top: 1em">RFC 1997 BGP Communities
Attribute <br>
RFC 2385 Protection of BGP Sessions via the TCP MD5
Signature <br>
RFC 2545 Use of BGP-4 Multirptocol Extensions for IPv6
Inter-Domain Routing <br>
RFC 2918 Route Refresh Capability for BGP-4 <br>
RFC 3107 Carrying Label Information in BGP-4 <br>
RFC 3765 NOPEER Community for Border Gateway Protocol (BGP)
Route Scope Control <br>
RFC 4271 A Border Gateway Protocol 4 (BGP-4) <br>
RFC 4360 BGP Extended Communities Attribute <br>
RFC 4364 Constrained Route Distribution for BGP/MPLS IP VPNs
<br>
RFC 4456 BGP Rotue Relection: An Alternative to Full Mesh
Internal BGP (iBGP) <br>
RFC 5396 Textual Representation of Autonomous System (AS)
Numbers <br>
RFC 5492 Capabilities Advertisement with BGP-4 <br>
RFC 6286 Autonomous-System-Wide Unique BGP Identifier for
BGP-4 <br>
RFC 6608 Subcodes for BGP Finate State Machine Error</p>

<p style="margin-top: 1em">February 26, 2015</p>
<hr>
</body>
</html>
