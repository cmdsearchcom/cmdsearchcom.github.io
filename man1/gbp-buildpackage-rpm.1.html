<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:11:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GBP-BUILDPACKAGE-RPM(1) git-buildpackage Manual
GBP-BUILDPACKAGE-RPM(1)</p>

<p style="margin-top: 1em">NAME <br>
gbp-buildpackage-rpm - Build RPM packages from a Git
repository</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gbp buildpackage-rpm [ --git-[no-]ignore-new ] [ --git-tag ]
[ --git-verbose ] [ --git-color=[auto|on|off] ] [
--git-color-scheme=COLOR_SCHEME ] [
--git-notify=[auto|on|off] ] [ <br>
--git-tmp-dir=DIRECTORY ] [ --git-vendor=VENDOR ] [
--git-native=[auto|on|off] ] [ --git-upstream-branch=TREEISH
] [ --git-packaging-branch=BRANCH_NAME ] [
--git-ignore-branch ] <br>
[ --git-[no-]submodules ] [ --git-builder=BUILD_CMD ] [
--git-cleaner=CLEAN_CMD ] [ --git-[no-]sign-tags ] [
--git-keyid=GPG-KEYID ] [ --git-posttag=COMMAND ] [
--git-post&acirc; <br>
build=COMMAND ] [ --git-postexport=COMMAND ] [
--git-prebuild=COMMAND ] [ --git-[no-]build ] [
--git-[no-]hooks ] [ --git-packaging-tag=TAG-FORMAT ] [
--git-upstream-tag=TAG-FOR&acirc; <br>
MAT ] [ --git-force-create ] [ --git-no-create-orig ] [
--git-upstream-tree=[TAG|BRANCH|TREEISH] ] [
--git-tarball-dir=DIRECTORY ] [
--git-compression-level=LEVEL ] [ --git- <br>
export-dir=DIRECTORY ] [ --git-export=TREEISH ] [
--git-packaging-dir=DIRECTORY ] [ --git-spec-file=FILEPATH ]
[ --git-export-sourcedir=DIRECTORY ] [
--git-export-specdir=DIREC&acirc; <br>
TORY ] [ --git-[no-]pristine-tar ] [
--git-[no-]pristine-tar-commit ] [ --git-tag-only ] [
--git-retag ] [ --git-mock ] [ --git-dist=DISTRIBUTION ] [
--git-arch=ARCHITECTURE ] [ <br>
--git-mock-options=OPTIONS ] [ --git-mock-root=ROOT ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
gbp buildpackage-rpm is used to build RPM packages from a
Git repository. It is an RPM counterpart for the gbp
buildpackage tool that is designed for building Debian
packages.</p>

<p style="margin-top: 1em">gbp buildpackage-rpm will, in
order:</p>

<p style="margin-top: 1em">&Acirc;&middot; Verify that it
is being executed from the proper location.</p>

<p style="margin-top: 1em">&Acirc;&middot; Verify that the
repository doesn&rsquo;t contain any uncommitted source
changes.</p>

<p style="margin-top: 1em">&Acirc;&middot; Verify that it
is being executed from the correct branch.</p>

<p style="margin-top: 1em">&Acirc;&middot; Export packaging
files to a separate build area.</p>

<p style="margin-top: 1em">&Acirc;&middot; Create an orig
source tarball if it doesn&rsquo;t exist.</p>

<p style="margin-top: 1em">&Acirc;&middot; Call rpmbuild(1)
(or the application specified via --git-builder), passing
along all command line arguments that don&rsquo;t start with
--git-.</p>

<p style="margin-top: 1em">&Acirc;&middot; (Optionally) tag
the tree after a successful build.</p>

<p style="margin-top: 1em">&Acirc;&middot; (Optionally)
call a post build hook - e.g. to run rpmlint.</p>

<p style="margin-top: 1em">&Acirc;&middot; (Optionally)
call a post tag hook - e.g. to push the results to a remote
repository after creating the tag.</p>

<p style="margin-top: 1em">OPTIONS <br>
--git-[no-]ignore-new <br>
Don&rsquo;t abort if there are uncommitted changes in the
source tree or the current branch doesn&rsquo;t match the
PACKAGING-BRANCH.</p>

<p style="margin-top: 1em">--git-tag <br>
Add a git tag after a successful build.</p>

<p style="margin-top: 1em">--git-builder=BUILD_CMD <br>
Use BUILD_CMD instead of rpmbuild -ba.</p>

<p style="margin-top: 1em">--git-cleaner=CLEAN_CMD <br>
Use CLEAN_CMD.</p>

<p style="margin-top: 1em">--git-verbose <br>
Verbose execution</p>

<p style="margin-top: 1em">--git-color=[auto|on|off] <br>
Whether to use colored output.</p>

<p style="margin-top: 1em">--git-color-scheme=COLOR_SCHEME
<br>
Colors to use in output (when color is enabled). The format
for COLOR_SCHEME is
&rsquo;&lt;debug&gt;:&lt;info&gt;:&lt;warning&gt;:&lt;error&gt;&rsquo;.
Numerical values and color names are accepted, empty <br>
fields imply the default color. For example
--git-color-scheme=&rsquo;cyan:34::&rsquo; would show debug
messages in cyan, info messages in blue and other messages
in default (i.e. <br>
warning and error messages in red).</p>

<p style="margin-top: 1em">--git-notify=[auto|on|off] <br>
Whether to send a desktop notification after the build.</p>

<p style="margin-top: 1em">--git-tmp-dir=DIRECTORY <br>
Base directory under which temporary directories are
created.</p>

<p style="margin-top: 1em">--git-vendor=VENDOR <br>
Distribution vendor name.</p>

<p style="margin-top: 1em">--git-native=[auto|on|off] <br>
Define the &rsquo;nativity&rsquo; of a package. The default
value auto makes gbp buildpackage-rpm to guess. Guessing is
based on the existence of upstream branch.</p>


<p style="margin-top: 1em">--git-upstream-branch=BRANCH_NAME
<br>
Branch to build the orig tarball from if --git-upstream-tree
is set to BRANCH. Default is upstream.</p>


<p style="margin-top: 1em">--git-packaging-branch=BRANCH_NAME
<br>
If you&rsquo;re not on this branch when invoking gbp
buildpackage-rpm it will fail. Default is master. This is
done to make sure you don&rsquo;t accidentally release from
a topic <br>
branch. Not being on this branch will be ignored when using
--git-ignore-new.</p>

<p style="margin-top: 1em">--git-ignore-branch <br>
Don&rsquo;t check if the current branch matches
PACKAGING-BRANCH.</p>

<p style="margin-top: 1em">--git-[no-]submodules <br>
Include git submodules in the orig tarball.</p>

<p style="margin-top: 1em">--git-[no-]sign-tags <br>
GPG sign all created tags.</p>

<p style="margin-top: 1em">--git-keyid=GPG-KEYID <br>
Use this keyid for gpg signing tags.</p>

<p style="margin-top: 1em">--git-posttag=COMMAND <br>
Excecute COMMAND after tagging a new version.</p>

<p style="margin-top: 1em">Exported environment variables
are: GBP_TAG (the name of the generated tag), GBP_BRANCH
(the branch the package was build from) and GBP_SHA1 (the
sha1 of the commit the <br>
tag was created at).</p>

<p style="margin-top: 1em">--git-postbuild=COMMAND <br>
Execute COMMAND after successful build.</p>

<p style="margin-top: 1em">Exported environment variables
are: GBP_CHANGES_FILE (the name of the generated changes
file), GBP_BUILD_DIR (the build dir).</p>

<p style="margin-top: 1em">--git-postexport=COMMAND <br>
Execute COMMAND after exporting the source tree.</p>

<p style="margin-top: 1em">Exported environment variables
are: GBP_GIT_DIR (the repository the package is being built
from), GBP_TMP_DIR (the temporary directory where the
sources have been ini&acirc; <br>
tially exported).</p>

<p style="margin-top: 1em">--git-prebuild=COMMAND <br>
Execute COMMAND from the build directory before calling
rpmbuild or the application specified via --git-builder.</p>

<p style="margin-top: 1em">Exported environment variables
are: GBP_GIT_DIR (the repository the package is being built
from), GBP_BUILD_DIR (the build dir).</p>

<p style="margin-top: 1em">--git-[no-]build <br>
Enable builder. Note: --git-no-build causes the postbuild
hook to be disabled, too.</p>

<p style="margin-top: 1em">--git-[no-]hooks <br>
Enable running all (cleaner, postexport, prebuild,
postbuild, and posttag) hooks. Note: the --git-builder
command is not affected by this option.</p>

<p style="margin-top: 1em">--git-packaging-tag=TAG-FORMAT
<br>
Use this tag format when tagging released versions of the
package.</p>

<p style="margin-top: 1em">--git-upstream-tag=TAG-FORMAT
<br>
Use this tag format when looking for tags of upstream
versions, default is upstream/%(version)s.</p>

<p style="margin-top: 1em">--git-force-create <br>
Force creation of an orig tarball (overwriting a
pre-existing one if present).</p>

<p style="margin-top: 1em">--git-no-create-orig <br>
Don&rsquo;t try to create any orig tarball.</p>

<p style="margin-top: 1em">--git-export-dir=DIRECTORY <br>
Export the packaging files from the current branch head (or
the treeish object given via --git-export to DIRECTORY
before building.</p>


<p style="margin-top: 1em">--git-export-sourcedir=DIRECTORY</p>

<p style="margin-top: 1em">--git-export-specdir=DIRECTORY
<br>
Subdirectories under export directory where packaging files
are exported. The default build options of rpmbuild builder
are also adjusted accordingly.</p>

<p style="margin-top: 1em">--git-export=TREEISH <br>
Instead of exporting the current branch head, export the
treeish object TREEISH. The special name INDEX exports the
current index, WC) exports all files in the current <br>
working directory.</p>

<p style="margin-top: 1em">--git-packaging-dir=DIRECTORY
<br>
Subdirectory that contains the RPM packaging files.</p>

<p style="margin-top: 1em">--git-spec-file=FILEPATH <br>
Relative path to the spec file to use. Special value auto
causes gbp buildpackage-rpm to search and guess. Other
values cause the --git-packaging-dir option to be <br>
ignored: the directory of the spec file is used,
instead.</p>


<p style="margin-top: 1em">--git-upstream-tree=[TAG|BRANCH|TREEISH]
<br>
How to find the upstream sources used to generate the
tarball. TAG looks at a tag corresponding to the version in
the changelog. BRANCH looks at the upstream branch given
<br>
via the --git-upstream-branch option. Other values are
interpreted as treeishs.</p>

<p style="margin-top: 1em">This doesn&rsquo;t have any
effect if --git-pristine-tar is being used.</p>

<p style="margin-top: 1em">--git-tarball-dir=DIRECTORY <br>
Search for original tarballs in DIRECTORY instead of
generating them.</p>

<p style="margin-top: 1em">--git-compression-level=LEVEL
<br>
Specifies the upstream tarball compression level if an
upstream tarball needs to be built.</p>

<p style="margin-top: 1em">--git-tag-only <br>
Don&rsquo;t build, only tag and run post-tag hooks.</p>

<p style="margin-top: 1em">--git-retag <br>
Don&rsquo;t fail tag operations if a tag with the same
version already exists, but, overwrite the existing tag,
instead.</p>

<p style="margin-top: 1em">--git-pristine-tar <br>
Use pristine-tar when generating the upstream tarball if it
doesn&rsquo;t exist.</p>

<p style="margin-top: 1em">--git-pristine-tar-commit <br>
Commit the pristine-tar delta to the pristine-tar branch if
a new tarball was generated and the pristine-tar data
isn&rsquo;t already there.</p>

<p style="margin-top: 1em">--git-mock <br>
Use mock to build the rpms by invoking gbp-builder-mock.</p>

<p style="margin-top: 1em">--git-dist <br>
Build for this distribution when using mock (e.g.:
epel-6).</p>

<p style="margin-top: 1em">--git-arch <br>
Build for this architecture when using mock, default is to
build for the current host architecture.</p>

<p style="margin-top: 1em">--git-mock-root <br>
The mock root to use. Defaults to DIST-ARCH from above.</p>

<p style="margin-top: 1em">--git-mock-options <br>
Additional options to pass to mock. Default is to pass no
additional options.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Only build a source RPM with rpmbuild</p>

<p style="margin-top: 1em">gbp buildpackage-rpm -bs</p>

<p style="margin-top: 1em">Build an RPM package with
rpmbuild on a custom branch with the uncommitted changes
included.</p>

<p style="margin-top: 1em">gbp buildpackage-rpm
--git-ignore-branch --git-export=WC</p>

<p style="margin-top: 1em">CONFIGURATION FILES <br>
Several gbp.conf files are parsed to set defaults for the
above command-line arguments. See the gbp.conf(5)&gt;
manpage for details.</p>

<p style="margin-top: 1em">All options in the config files
are specified without the &rsquo;git-&rsquo; prefix.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gbp-import-srpm(1)&gt;, gbp-pq-rpm(1)&gt;, gbp-rpm-ch(1),
rpmbuild(8), mock(1), gbp.conf(5)&gt;, debuild(1), git(1),
pristine-tar(1), The Git-Buildpackage Manual <br>

&lt;URL:file:///usr/share/doc/git-buildpackage/manual-html/index.html&gt;</p>

<p style="margin-top: 1em">AUTHOR <br>
Markus Lehtonen &lt;markus.lehtonen@linux.intel.com&gt;</p>

<p style="margin-top: 1em">07 February 2017
GBP-BUILDPACKAGE-RPM(1)</p>
<hr>
</body>
</html>
