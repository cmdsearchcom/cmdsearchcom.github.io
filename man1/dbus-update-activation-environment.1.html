<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:49 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DBUS-UPDATE-ACTIVA(1) User Commands
DBUS-UPDATE-ACTIVA(1)</p>

<p style="margin-top: 1em">NAME <br>
dbus-update-activation-environment - update environment used
for D-Bus session services</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dbus-update-activation-environment [--systemd] [--verbose]
--all | VAR... | VAR=VAL...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dbus-update-activation-environment updates the list of
environment variables used by dbus-daemon --session when it
activates session services without using systemd.</p>

<p style="margin-top: 1em">With the --systemd option, if an
instance of systemd --user is available on D-Bus, it also
updates the list of environment variables used by systemd
--user when it activates user <br>
services, including D-Bus session services for which
dbus-daemon has been configured to delegate activation to
systemd. This is very similar to the import-environment
command <br>
provided by systemctl(1)).</p>

<p style="margin-top: 1em">Variables that are special to
dbus-daemon or systemd may be set, but their values will be
overridden when a service is started. For instance, it is
not useful to add <br>
DBUS_SESSION_BUS_ADDRESS to dbus-daemon&rsquo;s activation
environment, although it might still be useful to add it to
systemd&rsquo;s activation environment.</p>

<p style="margin-top: 1em">OPTIONS <br>
--all <br>
Set all environment variables present in the environment
used by dbus-update-activation-environment.</p>

<p style="margin-top: 1em">--systemd <br>
Set environment variables for systemd user services as well
as for traditional D-Bus session services.</p>

<p style="margin-top: 1em">--verbose <br>
Output messages to standard error explaining what
dbus-update-activation-environment is doing.</p>

<p style="margin-top: 1em">VAR <br>
If VAR is present in the environment of
dbus-update-activation-environment, set it to the same value
for D-Bus services. Its value must be UTF-8 (if not, it is
skipped with a <br>
warning). If VAR is not present in the environment, this
argument is silently ignored.</p>

<p style="margin-top: 1em">VAR=VAL <br>
Set VAR to VAL, which must be UTF-8.</p>

<p style="margin-top: 1em">EXAMPLES <br>
dbus-update-activation-environment is primarily designed to
be used in Linux distributions&rsquo; X11 session startup
scripts, in conjunction with the &quot;user bus&quot;
design.</p>

<p style="margin-top: 1em">To propagate DISPLAY and
XAUTHORITY to dbus-daemon and, if present, systemd, and
propagate DBUS_SESSION_BUS_ADDRESS to systemd:</p>


<p style="margin-top: 1em">dbus-update-activation-environment
--systemd DBUS_SESSION_BUS_ADDRESS DISPLAY XAUTHORITY</p>

<p style="margin-top: 1em">To propagate all environment
variables except XDG_SEAT, XDG_SESSION_ID and XDG_VTNR to
dbus-daemon (and, if present, systemd) for compatibility
with legacy X11 session startup <br>
scripts:</p>

<p style="margin-top: 1em"># in a subshell so the variables
remain set in the <br>
# parent script <br>
( <br>
unset XDG_SEAT <br>
unset XDG_SESSION_ID <br>
unset XDG_VTNR</p>


<p style="margin-top: 1em">dbus-update-activation-environment
--systemd --all <br>
)</p>

<p style="margin-top: 1em">EXIT STATUS <br>
dbus-update-activation-environment exits with status 0 on
success, EX_USAGE (64) on invalid command-line options,
EX_OSERR (71) if unable to connect to the session bus, or
<br>
EX_UNAVAILABLE (69) if unable to set the environment
variables. Other nonzero exit codes might be added in future
versions.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
DBUS_SESSION_BUS_ADDRESS, XDG_RUNTIME_DIR and/or DISPLAY are
used to find the address of the session bus.</p>

<p style="margin-top: 1em">LIMITATIONS <br>
dbus-daemon does not provide a way to unset environment
variables after they have been set (although systemd does),
so dbus-update-activation-environment does not offer this
<br>
functionality either.</p>

<p style="margin-top: 1em">POSIX does not specify the
encoding of non-ASCII environment variable names or values
and allows them to contain any non-zero byte, but neither
dbus-daemon nor systemd supports <br>
environment variables with non-UTF-8 names or values.
Accordingly, dbus-update-activation-environment assumes that
any name or value that appears to be valid UTF-8 is intended
to <br>
be UTF-8, and ignores other names or values with a
warning.</p>

<p style="margin-top: 1em">BUGS <br>
Please send bug reports to the D-Bus bug tracker or mailing
list. See http://www.freedesktop.org/software/dbus/.</p>

<p style="margin-top: 1em">SEE ALSO <br>
dbus-daemon(1), systemd(1), the import-environment command
of systemctl(1)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2015 Collabora Ltd.</p>

<p style="margin-top: 1em">This man page is distributed
under the same terms as dbus-update-activation-environment
(MIT/X11). There is NO WARRANTY, to the extent permitted by
law.</p>

<p style="margin-top: 1em">D-Bus 1.10.10
DBUS-UPDATE-ACTIVA(1)</p>
<hr>
</body>
</html>
