<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>H2LOAD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">H2LOAD(1)</td>
    <td class="head-vol">nghttp2</td>
    <td class="head-rtitle">H2LOAD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
h2load - HTTP/2 benchmarking tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>h2load</b> [OPTIONS]... [URI]...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
benchmarking tool for HTTP/2 and SPDY server
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;URI&gt;</b></dt>
  <dd class="It-tag">Specify URI to access. Multiple URIs can be specified. URIs
      are used in this order for each client. All URIs are used, then first URI
      is used and then 2nd URI, and so on. The scheme, host and port in the
      subsequent URIs, if present, are ignored. Those in the first URI are used
      solely. Definition of a base URI overrides all scheme, host or port
      values.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --requests=&lt;N&gt;</b></dt>
  <dd class="It-tag">Number of requests across all clients. If it is used with
      <i>--timing-script-file</i> option, this option specifies the number of
      requests each client performs rather than the number of requests across
      all clients.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>1</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --clients=&lt;N&gt;</b></dt>
  <dd class="It-tag">Number of concurrent clients. With <i>-r</i> option, this
      specifies the maximum number of connections to be made.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>1</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t, --threads=&lt;N&gt;</b></dt>
  <dd class="It-tag">Number of native threads.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>1</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --input-file=&lt;PATH&gt;</b></dt>
  <dd class="It-tag">Path of a file with multiple URIs are separated by EOLs.
      This option will disable URIs getting from command-line. If '-' is given
      as &lt;PATH&gt;, URIs will be read from stdin. URIs are used in this order
      for each client. All URIs are used, then first URI is used and then 2nd
      URI, and so on. The scheme, host and port in the subsequent URIs, if
      present, are ignored. Those in the first URI are used solely. Definition
      of a base URI overrides all scheme, host or port values.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m, --max-concurrent-streams=&lt;N&gt;</b></dt>
  <dd class="It-tag">Max concurrent streams to issue per session. When http/1.1
      is used, this specifies the number of HTTP pipelining requests in-flight.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>1</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w, --window-bits=&lt;N&gt;</b></dt>
  <dd class="It-tag">Sets the stream level initial window size to
      (2**&lt;N&gt;)-1. For SPDY, 2**&lt;N&gt; is used instead.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>30</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W, --connection-window-bits=&lt;N&gt;</b></dt>
  <dd class="It-tag">Sets the connection level initial window size to
      (2**&lt;N&gt;)-1. For SPDY, if &lt;N&gt; is strictly less than 16, this
      option is ignored. Otherwise 2**&lt;N&gt; is used for SPDY.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>30</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H, --header=&lt;HEADER&gt;</b></dt>
  <dd class="It-tag">Add/Override a header to the requests.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ciphers=&lt;SUITE&gt;</b></dt>
  <dd class="It-tag">Set allowed cipher list. The format of the string is
      described in OpenSSL ciphers(1).
    <div style="height: 1.00em;">&#x00A0;</div>
    Default:
      <b>ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p, --no-tls-proto=&lt;PROTOID&gt;</b></dt>
  <dd class="It-tag">Specify ALPN identifier of the protocol to be used when
      accessing http URI without SSL/TLS. Available protocols: h2c and http/1.1
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>h2c</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --data=&lt;PATH&gt;</b></dt>
  <dd class="It-tag">Post FILE to server. The request method is changed to POST.
      For http/1.1 connection, if <i>-d</i> is used, the maximum number of
      in-flight pipelined requests is set to 1.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --rate=&lt;N&gt;</b></dt>
  <dd class="It-tag">Specifies the fixed rate at which connections are created.
      The rate must be a positive integer, representing the number of
      connections to be made per rate period. The maximum number of connections
      to be made is given in <i>-c</i> option. This rate will be distributed
      among threads as evenly as possible. For example, with <i>-t</i>2 and
      <i>-r</i>4, each thread gets 2 connections per period. When the rate is 0,
      the program will run as it normally does, creating connections at whatever
      variable rate it wants. The default value for this option is 0.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rate-period=&lt;DURATION&gt;</b></dt>
  <dd class="It-tag">Specifies the time period between creating connections. The
      period must be a positive number, representing the length of the period in
      time. This option is ignored if the rate option is not used. The default
      value for this option is 1s.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T,
    --connection-active-timeout=&lt;DURATION&gt;</b></dt>
  <dd class="It-tag">Specifies the maximum time that h2load is willing to keep a
      connection open, regardless of the activity on said connection.
      &lt;DURATION&gt; must be a positive integer, specifying the amount of time
      to wait. When no timeout value is set (either active or inactive), h2load
      will keep a connection open indefinitely, waiting for a response.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N,
    --connection-inactivity-timeout=&lt;DURATION&gt;</b></dt>
  <dd class="It-tag">Specifies the amount of time that h2load is willing to wait
      to see activity on a given connection. &lt;DURATION&gt; must be a positive
      integer, specifying the amount of time to wait. When no timeout value is
      set (either active or inactive), h2load will keep a connection open
      indefinitely, waiting for a response.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--timing-script-file=&lt;PATH&gt;</b></dt>
  <dd class="It-tag">Path of a file containing one or more lines separated by
      EOLs. Each script line is composed of two tab-separated fields. The first
      field represents the time offset from the start of execution, expressed as
      a positive value of milliseconds with microsecond resolution. The second
      field represents the URI. This option will disable URIs getting from
      command-line. If '-' is given as &lt;PATH&gt;, script lines will be read
      from stdin. Script lines are used in order for each client. If <i>-n</i>
      is given, it must be less than or equal to the number of script lines,
      larger values are clamped to the number of script lines. If <i>-n</i> is
      not given, the number of requests will default to the number of script
      lines. The scheme, host and port defined in the first URI are used solely.
      Values contained in other URIs, if present, are ignored. Definition of a
      base URI overrides all scheme, host or port values.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B, --base-uri=(&lt;URI&gt;|unix:&lt;PATH&gt;)</b></dt>
  <dd class="It-tag">Specify URI from which the scheme, host and port will be
      used for all requests. The base URI overrides all values defined either at
      the command line or inside input files. If argument starts with
      &quot;unix:&quot;, then the rest of the argument will be treated as UNIX
      domain socket path. The connection is made through that path instead of
      TCP. In this case, scheme is inferred from the first URI appeared in the
      command line or inside input files as usual.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--npn-list=&lt;LIST&gt;</b></dt>
  <dd class="It-tag">Comma delimited list of ALPN protocol identifier sorted in
      the order of preference. That means most desirable protocol comes first.
      This is used in both ALPN and NPN. The parameter must be delimited by a
      single comma only and any white spaces are treated as a part of protocol
      string.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>h2,h2-16,h2-14,http/1.1</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--h1</b></dt>
  <dd class="It-tag">Short hand for <i>--npn-list</i>=http/1.1
      <i>--no-tls-proto</i>=http/1.1, which effectively force http/1.1 for both
      http and https URI.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--header-table-size=&lt;SIZE&gt;</b></dt>
  <dd class="It-tag">Specify decoder header table size.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>4K</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--encoder-header-table-size=&lt;SIZE&gt;</b></dt>
  <dd class="It-tag">Specify encoder header table size. The decoder (server)
      specifies the maximum dynamic table size it accepts. Then the negotiated
      dynamic table size is the minimum of this option value and the value which
      server specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: <b>4K</b></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Output debug information.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Display version information and exit.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Display this help and exit.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The &lt;SIZE&gt; argument is an integer and an optional unit (e.g., 10K is 10 *
  1024). Units are K, M and G (powers of 1024).
<div style="height: 1.00em;">&#x00A0;</div>
The &lt;DURATION&gt; argument is an integer and an optional unit (e.g., 1s is 1
  second and 500ms is 500 milliseconds). Units are h, m, s or ms (hours,
  minutes, seconds and milliseconds, respectively). If a unit is omitted, a
  second is used as unit.
<h1 class="Sh" title="Sh" id="OUTPUT"><a class="selflink" href="#OUTPUT">OUTPUT</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>requests</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>total</b></dt>
  <dd class="It-tag">The number of requests h2load was instructed to make.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>started</b></dt>
  <dd class="It-tag">The number of requests h2load has started.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>done</b></dt>
  <dd class="It-tag">The number of requests completed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>succeeded</b></dt>
  <dd class="It-tag">The number of requests completed successfully. Only HTTP
      status code 2xx or3xx are considered as success.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>failed</b></dt>
  <dd class="It-tag">The number of requests failed, including HTTP level
      failures (non-successful HTTP status code).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>errored</b></dt>
  <dd class="It-tag">The number of requests failed, except for HTTP level
      failures. This is the subset of the number reported in <b>failed</b> and
      most likely the network level failures or stream was reset by
    RST_STREAM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>timeout</b></dt>
  <dd class="It-tag">The number of requests whose connection timed out before
      they were completed. This is the subset of the number reported in
      <b>errored</b>.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status codes</b></dt>
  <dd class="It-tag">The number of status code h2load received.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>traffic</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>total</b></dt>
  <dd class="It-tag">The number of bytes received from the server &quot;on the
      wire&quot;. If requests were made via TLS, this value is the number of
      decrypted bytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>headers</b></dt>
  <dd class="It-tag">The number of response header bytes from the server without
      decompression. The <b>space savings</b> shows efficiency of header
      compression. Let <b>decompressed(headers)</b> to the number of bytes used
      for header fields after decompression. The <b>space savings</b> is
      calculated by (1 - <b>headers</b> / <b>decompressed(headers)</b>) * 100.
      For HTTP/1.1, this is usually 0.00%, since it does not have header
      compression. For HTTP/2 and SPDY, it shows some insightful numbers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>data</b></dt>
  <dd class="It-tag">The number of response body bytes received from the
    server.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>time for request</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>min</b></dt>
  <dd class="It-tag">The minimum time taken for request and response.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>max</b></dt>
  <dd class="It-tag">The maximum time taken for request and response.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mean</b></dt>
  <dd class="It-tag">The mean time taken for request and response.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sd</b></dt>
  <dd class="It-tag">The standard deviation of the time taken for request and
      response.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+/- sd</b></dt>
  <dd class="It-tag">The fraction of the number of requests within standard
      deviation range (mean +/- sd) against total number of successful
    requests.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>time for connect</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>min</b></dt>
  <dd class="It-tag">The minimum time taken to connect to a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>max</b></dt>
  <dd class="It-tag">The maximum time taken to connect to a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mean</b></dt>
  <dd class="It-tag">The mean time taken to connect to a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sd</b></dt>
  <dd class="It-tag">The standard deviation of the time taken to connect to a
      server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+/- sd</b></dt>
  <dd class="It-tag">The fraction of the number of connections within standard
      deviation range (mean +/- sd) against total number of successful
      connections.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>time for 1st byte (of (decrypted in case of TLS)
    application data)</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>min</b></dt>
  <dd class="It-tag">The minimum time taken to get 1st byte from a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>max</b></dt>
  <dd class="It-tag">The maximum time taken to get 1st byte from a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mean</b></dt>
  <dd class="It-tag">The mean time taken to get 1st byte from a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sd</b></dt>
  <dd class="It-tag">The standard deviation of the time taken to get 1st byte
      from a server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+/- sd</b></dt>
  <dd class="It-tag">The fraction of the number of connections within standard
      deviation range (mean +/- sd) against total number of successful
      connections.</dd>
</dl>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b>req/s</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>min</b></dt>
  <dd class="It-tag">The minimum request per second among all clients.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>max</b></dt>
  <dd class="It-tag">The maximum request per second among all clients.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mean</b></dt>
  <dd class="It-tag">The mean request per second among all clients.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sd</b></dt>
  <dd class="It-tag">The standard deviation of request per second among all
      clients. server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+/- sd</b></dt>
  <dd class="It-tag">The fraction of the number of connections within standard
      deviation range (mean +/- sd) against total number of successful
      connections.</dd>
</dl>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="FLOW_CONTROL"><a class="selflink" href="#FLOW_CONTROL">FLOW
  CONTROL</a></h1>
h2load sets large flow control window by default, and effectively disables flow
  control to avoid under utilization of server performance. To set smaller flow
  control window, use <i>-w</i> and <i>-W</i> options. For example, use <b>-w16
  -W16</b> to set default window size described in HTTP/2 and SPDY protocol
  specification.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>nghttp(1)</b>, <b>nghttpd(1)</b>, <b>nghttpx(1)</b>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Tatsuhiro Tsujikawa
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2012, 2015, 2016, Tatsuhiro Tsujikawa</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 9, 2017</td>
    <td class="foot-os">1.21.1</td>
  </tr>
</table>
</body>
</html>
