<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:16:15 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>H2LOAD(1) nghttp2 H2LOAD(1)</p>

<p style="margin-top: 1em">NAME <br>
h2load - HTTP/2 benchmarking tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
h2load [OPTIONS]... [URI]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
benchmarking tool for HTTP/2 and SPDY server</p>

<p style="margin-top: 1em">&lt;URI&gt; Specify URI to
access. Multiple URIs can be specified. URIs are used in
this order for each client. All URIs are used, then first
URI is used and then 2nd URI, and <br>
so on. The scheme, host and port in the subsequent URIs, if
present, are ignored. Those in the first URI are used
solely. Definition of a base URI overrides all <br>
scheme, host or port values.</p>

<p style="margin-top: 1em">OPTIONS <br>
-n, --requests=&lt;N&gt; <br>
Number of requests across all clients. If it is used with
--timing-script-file option, this option specifies the
number of requests each client performs rather than <br>
the number of requests across all clients.</p>

<p style="margin-top: 1em">Default: 1</p>

<p style="margin-top: 1em">-c, --clients=&lt;N&gt; <br>
Number of concurrent clients. With -r option, this specifies
the maximum number of connections to be made.</p>

<p style="margin-top: 1em">Default: 1</p>

<p style="margin-top: 1em">-t, --threads=&lt;N&gt; <br>
Number of native threads.</p>

<p style="margin-top: 1em">Default: 1</p>

<p style="margin-top: 1em">-i, --input-file=&lt;PATH&gt;
<br>
Path of a file with multiple URIs are separated by EOLs.
This option will disable URIs getting from command-line. If
&rsquo;-&rsquo; is given as &lt;PATH&gt;, URIs will be read
from <br>
stdin. URIs are used in this order for each client. All URIs
are used, then first URI is used and then 2nd URI, and so
on. The scheme, host and port in the <br>
subsequent URIs, if present, are ignored. Those in the first
URI are used solely. Definition of a base URI overrides all
scheme, host or port values.</p>

<p style="margin-top: 1em">-m,
--max-concurrent-streams=&lt;N&gt; <br>
Max concurrent streams to issue per session. When http/1.1
is used, this specifies the number of HTTP pipelining
requests in-flight.</p>

<p style="margin-top: 1em">Default: 1</p>

<p style="margin-top: 1em">-w, --window-bits=&lt;N&gt; <br>
Sets the stream level initial window size to
(2**&lt;N&gt;)-1. For SPDY, 2**&lt;N&gt; is used
instead.</p>

<p style="margin-top: 1em">Default: 30</p>

<p style="margin-top: 1em">-W,
--connection-window-bits=&lt;N&gt; <br>
Sets the connection level initial window size to
(2**&lt;N&gt;)-1. For SPDY, if &lt;N&gt; is strictly less
than 16, this option is ignored. Otherwise 2**&lt;N&gt; is
used for <br>
SPDY.</p>

<p style="margin-top: 1em">Default: 30</p>

<p style="margin-top: 1em">-H, --header=&lt;HEADER&gt; <br>
Add/Override a header to the requests.</p>

<p style="margin-top: 1em">--ciphers=&lt;SUITE&gt; <br>
Set allowed cipher list. The format of the string is
described in OpenSSL ciphers(1).</p>

<p style="margin-top: 1em">Default: <br>

ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256</p>

<p style="margin-top: 1em">-p,
--no-tls-proto=&lt;PROTOID&gt; <br>
Specify ALPN identifier of the protocol to be used when
accessing http URI without SSL/TLS. Available protocols: h2c
and http/1.1</p>

<p style="margin-top: 1em">Default: h2c</p>

<p style="margin-top: 1em">-d, --data=&lt;PATH&gt; <br>
Post FILE to server. The request method is changed to POST.
For http/1.1 connection, if -d is used, the maximum number
of in-flight pipelined requests is set to <br>
1.</p>

<p style="margin-top: 1em">-r, --rate=&lt;N&gt; <br>
Specifies the fixed rate at which connections are created.
The rate must be a positive integer, representing the number
of connections to be made per <br>
rate period. The maximum number of connections to be made is
given in -c option. This rate will be distributed among
threads as evenly as possible. For <br>
example, with -t2 and -r4, each thread gets 2 connections
per period. When the rate is 0, the program will run as it
normally does, creating connections at <br>
whatever variable rate it wants. The default value for this
option is 0.</p>

<p style="margin-top: 1em">--rate-period=&lt;DURATION&gt;
<br>
Specifies the time period between creating connections. The
period must be a positive number, representing the length of
the period in time. This option is ignored if <br>
the rate option is not used. The default value for this
option is 1s.</p>

<p style="margin-top: 1em">-T,
--connection-active-timeout=&lt;DURATION&gt; <br>
Specifies the maximum time that h2load is willing to keep a
connection open, regardless of the activity on said
connection. &lt;DURATION&gt; must be a positive integer,
<br>
specifying the amount of time to wait. When no timeout value
is set (either active or inactive), h2load will keep a
connection open indefinitely, waiting for a <br>
response.</p>

<p style="margin-top: 1em">-N,
--connection-inactivity-timeout=&lt;DURATION&gt; <br>
Specifies the amount of time that h2load is willing to wait
to see activity on a given connection. &lt;DURATION&gt; must
be a positive integer, specifying the amount of <br>
time to wait. When no timeout value is set (either active or
inactive), h2load will keep a connection open indefinitely,
waiting for a response.</p>


<p style="margin-top: 1em">--timing-script-file=&lt;PATH&gt;
<br>
Path of a file containing one or more lines separated by
EOLs. Each script line is composed of two tab-separated
fields. The first field represents the time offset from <br>
the start of execution, expressed as a positive value of
milliseconds with microsecond resolution. The second field
represents the URI. This option will disable URIs <br>
getting from command-line. If &rsquo;-&rsquo; is given as
&lt;PATH&gt;, script lines will be read from stdin. Script
lines are used in order for each client. If -n is given, it
must <br>
be less than or equal to the number of script lines, larger
values are clamped to the number of script lines. If -n is
not given, the number of requests will default <br>
to the number of script lines. The scheme, host and port
defined in the first URI are used solely. Values contained
in other URIs, if present, are ignored. <br>
Definition of a base URI overrides all scheme, host or port
values.</p>

<p style="margin-top: 1em">-B,
--base-uri=(&lt;URI&gt;|unix:&lt;PATH&gt;) <br>
Specify URI from which the scheme, host and port will be
used for all requests. The base URI overrides all values
defined either at the command line or inside <br>
input files. If argument starts with &quot;unix:&quot;, then
the rest of the argument will be treated as UNIX domain
socket path. The connection is made through that path <br>
instead of TCP. In this case, scheme is inferred from the
first URI appeared in the command line or inside input files
as usual.</p>

<p style="margin-top: 1em">--npn-list=&lt;LIST&gt; <br>
Comma delimited list of ALPN protocol identifier sorted in
the order of preference. That means most desirable protocol
comes first. This is used in both ALPN and <br>
NPN. The parameter must be delimited by a single comma only
and any white spaces are treated as a part of protocol
string.</p>

<p style="margin-top: 1em">Default:
h2,h2-16,h2-14,http/1.1</p>

<p style="margin-top: 1em">--h1 Short hand for
--npn-list=http/1.1 --no-tls-proto=http/1.1, which
effectively force http/1.1 for both http and https URI.</p>


<p style="margin-top: 1em">--header-table-size=&lt;SIZE&gt;
<br>
Specify decoder header table size.</p>

<p style="margin-top: 1em">Default: 4K</p>


<p style="margin-top: 1em">--encoder-header-table-size=&lt;SIZE&gt;
<br>
Specify encoder header table size. The decoder (server)
specifies the maximum dynamic table size it accepts. Then
the negotiated dynamic table size is the minimum of <br>
this option value and the value which server specified.</p>

<p style="margin-top: 1em">Default: 4K</p>

<p style="margin-top: 1em">-v, --verbose <br>
Output debug information.</p>

<p style="margin-top: 1em">--version <br>
Display version information and exit.</p>

<p style="margin-top: 1em">-h, --help <br>
Display this help and exit.</p>

<p style="margin-top: 1em">The &lt;SIZE&gt; argument is an
integer and an optional unit (e.g., 10K is 10 * 1024). Units
are K, M and G (powers of 1024).</p>

<p style="margin-top: 1em">The &lt;DURATION&gt; argument is
an integer and an optional unit (e.g., 1s is 1 second and
500ms is 500 milliseconds). Units are h, m, s or ms (hours,
minutes, seconds and millisec&acirc; <br>
onds, respectively). If a unit is omitted, a second is used
as unit.</p>

<p style="margin-top: 1em">OUTPUT <br>
requests</p>

<p style="margin-top: 1em">total The number of requests
h2load was instructed to make.</p>

<p style="margin-top: 1em">started <br>
The number of requests h2load has started.</p>

<p style="margin-top: 1em">done The number of requests
completed.</p>

<p style="margin-top: 1em">succeeded <br>
The number of requests completed successfully. Only HTTP
status code 2xx or3xx are considered as success.</p>

<p style="margin-top: 1em">failed The number of requests
failed, including HTTP level failures (non-successful HTTP
status code).</p>

<p style="margin-top: 1em">errored <br>
The number of requests failed, except for HTTP level
failures. This is the subset of the number reported in
failed and most likely the network level failures or <br>
stream was reset by RST_STREAM.</p>

<p style="margin-top: 1em">timeout <br>
The number of requests whose connection timed out before
they were completed. This is the subset of the number
reported in errored.</p>

<p style="margin-top: 1em">status codes <br>
The number of status code h2load received.</p>

<p style="margin-top: 1em">traffic</p>

<p style="margin-top: 1em">total The number of bytes
received from the server &quot;on the wire&quot;. If
requests were made via TLS, this value is the number of
decrypted bytes.</p>

<p style="margin-top: 1em">headers <br>
The number of response header bytes from the server without
decompression. The space savings shows efficiency of header
compression. Let decom&acirc; <br>
pressed(headers) to the number of bytes used for header
fields after decompression. The space savings is calculated
by (1 - headers / decompressed(headers)) * <br>
100. For HTTP/1.1, this is usually 0.00%, since it does not
have header compression. For HTTP/2 and SPDY, it shows some
insightful numbers.</p>

<p style="margin-top: 1em">data The number of response body
bytes received from the server.</p>

<p style="margin-top: 1em">time for request</p>

<p style="margin-top: 1em">min The minimum time taken for
request and response.</p>

<p style="margin-top: 1em">max The maximum time taken for
request and response.</p>

<p style="margin-top: 1em">mean The mean time taken for
request and response.</p>

<p style="margin-top: 1em">sd The standard deviation of the
time taken for request and response.</p>

<p style="margin-top: 1em">+/- sd The fraction of the
number of requests within standard deviation range (mean +/-
sd) against total number of successful requests.</p>

<p style="margin-top: 1em">time for connect</p>

<p style="margin-top: 1em">min The minimum time taken to
connect to a server.</p>

<p style="margin-top: 1em">max The maximum time taken to
connect to a server.</p>

<p style="margin-top: 1em">mean The mean time taken to
connect to a server.</p>

<p style="margin-top: 1em">sd The standard deviation of the
time taken to connect to a server.</p>

<p style="margin-top: 1em">+/- sd The fraction of the
number of connections within standard deviation range (mean
+/- sd) against total number of successful connections.</p>

<p style="margin-top: 1em">time for 1st byte (of (decrypted
in case of TLS) application data)</p>

<p style="margin-top: 1em">min The minimum time taken to
get 1st byte from a server.</p>

<p style="margin-top: 1em">max The maximum time taken to
get 1st byte from a server.</p>

<p style="margin-top: 1em">mean The mean time taken to get
1st byte from a server.</p>

<p style="margin-top: 1em">sd The standard deviation of the
time taken to get 1st byte from a server.</p>

<p style="margin-top: 1em">+/- sd The fraction of the
number of connections within standard deviation range (mean
+/- sd) against total number of successful connections.</p>

<p style="margin-top: 1em">req/s</p>

<p style="margin-top: 1em">min The minimum request per
second among all clients.</p>

<p style="margin-top: 1em">max The maximum request per
second among all clients.</p>

<p style="margin-top: 1em">mean The mean request per second
among all clients.</p>

<p style="margin-top: 1em">sd The standard deviation of
request per second among all clients. server.</p>

<p style="margin-top: 1em">+/- sd The fraction of the
number of connections within standard deviation range (mean
+/- sd) against total number of successful connections.</p>

<p style="margin-top: 1em">FLOW CONTROL <br>
h2load sets large flow control window by default, and
effectively disables flow control to avoid under utilization
of server performance. To set smaller flow control window,
use <br>
-w and -W options. For example, use -w16 -W16 to set default
window size described in HTTP/2 and SPDY protocol
specification.</p>

<p style="margin-top: 1em">SEE ALSO <br>
nghttp(1), nghttpd(1), nghttpx(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Tatsuhiro Tsujikawa</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2012, 2015, 2016, Tatsuhiro Tsujikawa</p>

<p style="margin-top: 1em">1.21.1 Apr 09, 2017
H2LOAD(1)</p>
<hr>
</body>
</html>
