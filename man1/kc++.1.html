<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KC++(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KC++(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">KC++(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
Kimwitu++ - generate C++ code from Kimwitu++ input
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>kc++</b> <i></i>[<i>options</i>]<i> &#xFB01;le</i>...
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>kc++</b> reads the abstract syntax de&#xFB01;nition, function
  de&#xFB01;nitions, rewrite rules and unparse rules from the &#xFB01;les given
  on the command line, or from the standard input if no &#xFB01;le arguments
  were given. It generates for each <i>&#xFB01;le</i><b>.k</b> input &#xFB01;le
  a pair of <i>&#xFB01;le</i><b>.cc</b> and <i>&#xFB01;le</i><b>.h</b>
  &#xFB01;les that contain the translation of the functions de&#xFB01;ned in the
  corresponding <i>&#xFB01;le</i><b>.k</b><i>.</i>
<div class="Pp"></div>
Additionally the following &#xFB01;les are generated: <b>csgiok.{h,cc}</b>,
  <b>rk.{h,cc}</b> and <b>unpk.{h,cc}</b>, that contain the CSGIO-, the rewrite-
  and the unparse-functions, respectively, and the <b>k.cc</b> and <b>k.h</b>
  &#xFB01;les that contain the grammar tables and the remaining `default'
  functions as well as the declaration of the classes for each phylum in the
  de&#xFB01;nition of the abstract syntax.
<div class="Pp"></div>
If no command line &#xFB01;le arguments are given, the translation of the
  user-de&#xFB01;ned functions will be generated in <b>stdin.{h,cc}</b>
  &#xFB01;les.
<div class="Pp"></div>
<b>kc++</b> does not unnecessarily overwrite a &#xFB01;le: if a &#xFB01;le would
  be overwritten with its own (identical) contents, it will not be touched. This
  makes it easy to write an e&#xFB03;cient Make&#xFB01;le.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="KIMWITU++_FEATURES"><a class="selflink" href="#KIMWITU++_FEATURES">KIMWITU++
  FEATURES</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--no-csgio</b></dt>
  <dd class="It-tag">no read/write functions (csgio.{h,cc}) are generated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--no-rewrite</b></dt>
  <dd class="It-tag">no code for rewrite rules (rk.{h,cc}) is generated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>, <b>--no-unparse</b></dt>
  <dd class="It-tag">no code for unparse rules (unpk.{h,cc}) is generated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>-no-printdot</b></dt>
  <dd class="It-tag">no printdot functions for printing dot-&#xFB01;les (input
      for the graphviz package) are generated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>-no-hashtables</b></dt>
  <dd class="It-tag">no code for hastables is generated (works only when both
      <b>--no-csgio</b> and <b>--no-printdot</b> are speci&#xFB01;ed).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--operator-cast</b></dt>
  <dd class="It-tag">generate <b>operatork.h</b> for operator_cast&lt;&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="C++_COMPILER_OPTIONS"><a class="selflink" href="#C++_COMPILER_OPTIONS">C++
  COMPILER OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--covariant</b>=<i>C</i></dt>
  <dd class="It-tag">use covariant return types; options are <b>yes</b> (use
      them), <b>no</b> (don't use them, requires explicit casting), or
      <b>pre</b> (use preprocessor symbol NO_COVARIANT_RETURN to guard the
      de&#xFB01;nitions).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i><b>--stdafx</b></i>[=<i>FILE</i>]</dt>
  <dd class="It-tag">include for Microsoft precompiled header &#xFB01;les is
      generated (default stdafx.h).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--dllexport</b>=<i>STRING</i></dt>
  <dd class="It-tag">generates string between keyword class and the class name
      of all operators and phyla (used eg. for DLL export de&#xFB01;nitions for
      Windows).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--smart-pointer</b></dt>
  <dd class="It-tag">generates code for smart pointers (does reference
      counting).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>, <b>--weak-pointer</b></dt>
  <dd class="It-tag">generates code for weak pointers (implies
      <b>--smart-pointer</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="OPTIONS_FOR_FILE_GENERATION"><a class="selflink" href="#OPTIONS_FOR_FILE_GENERATION">OPTIONS
  FOR FILE GENERATION</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--suffix</b>=<i>EXT</i></dt>
  <dd class="It-tag">extension for generated source &#xFB01;les (default
    cc).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--file-prefix</b>=<i>PREF</i></dt>
  <dd class="It-tag">pre&#xFB01;x for generated &#xFB01;les.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>,<b> --overwrite</b></dt>
  <dd class="It-tag">always write generated &#xFB01;les even if not
    changed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b>,</dt>
  <dd class="It-tag"><i><b>--yystype</b></i>[=<i>FILE</i>] generates &#xFB01;le
      (default yystype.h) containg YYSTYPE for <b>yacc</b>(1) or
      <b>bison</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y</b>,<b>--yxx-union</b></dt>
  <dd class="It-tag">generates &#xFB01;le yxx_union.h for yacc++.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="ADVANCED_OPTIONS"><a class="selflink" href="#ADVANCED_OPTIONS">ADVANCED
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--no-linedirec</b></dt>
  <dd class="It-tag">does not emit line directives (`#line'). This is sometimes
      handy when you need to debug your program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--comment-line</b></dt>
  <dd class="It-tag">prints line comments (`//line') instead of line directives.
      This may aid debugging when the bugs are not in your code but in
      Kimwitu++.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dir-line</b></dt>
  <dd class="It-tag">prepends the current working directory to the &#xFB01;le
      name in line directives.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rw-loop</b></dt>
  <dd class="It-tag">generates a non recursive rewrite function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>, <b>--pipe</b>=<i>CMD</i></dt>
  <dd class="It-tag">&#xFB01;lter every input &#xFB01;le through <i>CMD</i>. The
      programm will be called as <i>CMD &#xFB01;le</i><b>.k</b> and must deliver
      its output to standard output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="GENERAL_OPTIONS"><a class="selflink" href="#GENERAL_OPTIONS">GENERAL
  OPTIONS</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b>, <b>--msg-format</b>=<i>PATTERN</i></dt>
  <dd class="It-tag">speci&#xFB01;es format of (error) messages. The actual
      message is appended. <i>PATTERN</i> can contain:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <br/>
     %p (program name)
    <br/>
     %s (severity)
    <br/>
     %f (&#xFB01;le name)
    <br/>
     %d (current working directory)
    <br/>
     %l (line number)
    <br/>
     %c (column)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">be quite quiet about warnings etc., give only return status
      (not implemented).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">print additional status information while processing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i><b>-W</b></i>[<i>what</i>]</dt>
  <dd class="It-tag">enable all warnings; use comma-seperated list for detailed
      control (can be prefixed with `no')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <br/>
     drop &#x2013; dropped rule bodies (no code generated)
    <br/>
     equiv &#x2013; equivalent patterns (cannot match)
    <br/>
     overlap &#x2013; possibly overlapping patterns</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">give a short help message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">print the version number of <b>kc++</b> and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="GENERATED_FILES"><a class="selflink" href="#GENERATED_FILES">GENERATED
  FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">k.{h,cc}</dt>
  <dd class="It-tag">the grammar and default functions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">rk.{h,cc}</dt>
  <dd class="It-tag">the rewrite view declarations and rewrite functions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">csgiok.{h,cc}</dt>
  <dd class="It-tag">the CSGIO functions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">unpk.{h,cc}</dt>
  <dd class="It-tag">the unparse view declarations and unparsing functions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>&#xFB01;le</i>.{h,cc}</dt>
  <dd class="It-tag">translation of user-provided Kimwitu++ functions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">stdin.{h,cc}</dt>
  <dd class="It-tag">translation of user-provided Kimwitu++ functions if no
      command line &#xFB01;le arguments were given.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">yystype.h</dt>
  <dd class="It-tag">(or any other name you specify) the YYSTYPE union.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">yxx_union.h</dt>
  <dd class="It-tag">the (anonymous?) union (for yacc++, apparently).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
If an error is encountered in the Kimwitu++ input, an appropriate error message
  will be written on standard error, code generation will be suppressed and a
  non-zero exit value will be returned. The error messages should be
  self-explanatory.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The error messages are not always very self-explanatory. Sometimes <b>kc++</b>
  gets confused by parse errors.
<div>&#x00A0;</div>
The option <b>-p</b> is a hack. Not much checking is done, no fault recovery.
  Don't interrupt <b>kc++</b> when piping, you will regret it.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Kimwitu was written by</dt>
  <dd class="It-tag">Axel Belinfante, University of Twente, the Netherlands.
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Kimwitu++ was written by</dt>
  <dd class="It-tag">Michael Piefel, Humboldt-Universit&#x00E4;t zu Berlin,
      Germany.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to &lt;piefel@informatik.hu-berlin.de&gt;; we'd also like to hear
  from you when you successfully use Kimwitu++ for your projects.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 1998-2008 Michael Piefel, Humboldt-Universit&#x00E4;t zu
  Berlin
<div>&#x00A0;</div>
Kimwitu++ comes with <b>no</b> warranty; for details see GPL.
<div>&#x00A0;</div>
This is free software, and you are welcome to redistribute it under certain
  conditions; for details see GPL.</div>
<table class="foot">
  <tr>
    <td class="foot-date">February 2008</td>
    <td class="foot-os">Kimwitu++</td>
  </tr>
</table>
</body>
</html>
