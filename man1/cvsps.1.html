<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:01:52 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>cvsps(1) General Commands Manual cvsps(1)</p>

<p style="margin-top: 1em">NAME <br>
CVSps - create patchset information from CVS</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cvsps [-h] [-x] [-u] [-z &lt;fuzz&gt;] [-g] [-s
&lt;patchset&gt;] [-a &lt;author&gt;] [-f &lt;file&gt;] [-d
&lt;date1&gt; [-d &lt;date2&gt;]] [-l &lt;text&gt;] [-b
&lt;branch&gt;] [-r &lt;tag&gt; [-r &lt;tag&gt;]] [-p
&lt;directory&gt;] [-v] <br>
[-t] [--norc] [--summary-first] [--test-log
&lt;filename&gt;] [--bkcvs] [--no-rlog] [--diff-opts
&lt;option string&gt;] [--cvs-direct] [--debuglvl
&lt;bitmask&gt;] [-Z &lt;compression&gt;] [--root
&lt;cvs&acirc; <br>
root&gt;] [-q] [-A] [&lt;repository&gt;]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
CVSps is a program for generating &rsquo;patchset&rsquo;
information from a CVS repository. A patchset in this case
is defined as a set of changes made to a collection of
files, and all <br>
committed at the same time (using a single &rsquo;cvs
commit&rsquo; command). This information is valuable to
seeing the big picture of the evolution of a cvs project.
While cvs tracks <br>
revision information, it is often difficult to see what
changes were committed &Acirc;&acute;atomically&rsquo; to
the repository.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h display usage summary</p>

<p style="margin-top: 1em">-x ignore (and rebuild)
~/.cvsps/cvsps.cache file</p>

<p style="margin-top: 1em">-u update ~/.cvsps/cvsps.cache
file</p>

<p style="margin-top: 1em">-z &lt;fuzz&gt; <br>
set the timestamp fuzz factor for identifying patch sets</p>

<p style="margin-top: 1em">-g generate diffs of the
selected patch sets</p>

<p style="margin-top: 1em">-s
&lt;patchset&gt;[-[&lt;patchset&gt;]][,&lt;patchset&gt;...]
<br>
generate a diff for a given patchsets and patchset
ranges</p>

<p style="margin-top: 1em">-a &lt;author&gt; <br>
restrict output to patchsets created by author</p>

<p style="margin-top: 1em">-f &lt;file&gt; <br>
restrict output to patchsets involving file</p>

<p style="margin-top: 1em">-d &lt;date1&gt; -d
&lt;date2&gt; <br>
if just one date specified, show revisions newer than date1.
If two dates specified, show revisions between two
dates.</p>

<p style="margin-top: 1em">-l &lt;regex&gt; <br>
restrict output to patchsets matching regex in log
message</p>

<p style="margin-top: 1em">-b &lt;branch&gt; <br>
restrict output to patchsets affecting history of branch. If
you want to restrict to the main branch, use a branch of
&rsquo;HEAD&rsquo;.</p>

<p style="margin-top: 1em">-r &lt;tag1&gt; -r &lt;tag2&gt;
<br>
if just one tag specified, show revisions since tag1. If two
tags specified, show revisions between the two tags.</p>

<p style="margin-top: 1em">-p &lt;dir&gt; <br>
output individual patchsets as files in &lt;dir&gt; as
&lt;dir&gt;/&lt;patchset&gt;.patch</p>

<p style="margin-top: 1em">-v show very verbose parsing
messages</p>

<p style="margin-top: 1em">-t show some brief memory usage
statistics</p>

<p style="margin-top: 1em">--norc when invoking cvs, ignore
the .cvsrc file</p>

<p style="margin-top: 1em">--summary-first <br>
when multiple patchset diffs are being generated, put the
patchset summary for all patchsets at the beginning of the
output.</p>

<p style="margin-top: 1em">--test-log &lt;captured cvs log
file&gt; <br>
for testing changes, you can capture cvs log output, then
test against this captured file instead of hammering some
poor CVS server</p>

<p style="margin-top: 1em">--bkcvs <br>
(see note below) for use in parsing the BK-&gt;CVS tree log
formats only. This enables some hacks which are not
generally applicable.</p>

<p style="margin-top: 1em">--no-rlog <br>
disable the use of rlog internally. Note: rlog is required
for stable PatchSet numbering. Use with care.</p>

<p style="margin-top: 1em">--diff-opts &lt;option
string&gt; <br>
send a custom set of options to diff, for example to
increase the number of context lines, or change the diff
format.</p>

<p style="margin-top: 1em">--cvs-direct (--no-cvs-direct)
<br>
enable (disable) built-in cvs client code. This enables the
&rsquo;pipelining&rsquo; of multiple requests over a single
client, reducing the overhead of handshaking and
authentication <br>
to one per PatchSet instead of one per file.</p>

<p style="margin-top: 1em">--debuglvl &lt;bitmask&gt; <br>
enable various debug output channels.</p>

<p style="margin-top: 1em">-Z &lt;compression&gt; <br>
A value 1-9 which specifies amount of compression. A value
of 0 disables compression.</p>

<p style="margin-top: 1em">--root &lt;cvsroot&gt; <br>
Override the setting of CVSROOT (overrides working dir. and
environment). For --cvs-direct only.</p>

<p style="margin-top: 1em">-q Be quiet about warnings.</p>

<p style="margin-top: 1em">-A Show ancestor branch when a
new branch is found.</p>

<p style="margin-top: 1em">&lt;repository&gt; <br>
Operate on the specified repository (overrides working
dir.)</p>

<p style="margin-top: 1em">NOTE ON TAG HANDLING <br>
Tags are fundamentally &rsquo;file at a time&rsquo; in cvs,
but like everything else, it would be nice to imagine that
they are &rsquo;repository at a time.&rsquo; The approach
cvsps takes is that a <br>
tag is assigned to a patchset. The meaning of this is that
after this patchset, every revision of every file is after
the tag (and conversely, before this patchset, at least one
<br>
file is still before the tag). However, there are two kinds
of inconsistent (or &rsquo;funky&rsquo;) tags that can be
created, even when following best practices for cvs.</p>

<p style="margin-top: 1em">The first is what is called a
FUNKY tag. A funky tag is one where there are patchsets
which are chronologically (and thus by patchset id) earlier
than the tag, but are tagwise <br>
after. These tags will be marked as &rsquo;**FUNKY**&rsquo;
in the Tag: section of the cvsps output. When a funky tag is
specified as one of the &rsquo;-r&rsquo; arguments, there
are some number of <br>
patchsets which need to be considered out of sequence. In
this case, the patchsets themselves will be labeled FUNKY
and will be processed correctly.</p>

<p style="margin-top: 1em">The second is called an INVALID
tag. An invalid tag is a tag where there are patchsets which
are chronologically (and thus by patchset id) earlier than
the tag, but which have <br>
members which are tagwise both before, and after the tag, in
the same patchset. If an INVALID tag is specified as one of
the &rsquo;-r&rsquo; arguments, cvsps will flag each member
of the <br>
affected patchsets as before or after the tag and the
patchset summary will indicate which members are which, and
diffs will be generated accordingly.</p>

<p style="margin-top: 1em">NOTE ON CVS VERSIONS <br>
Among the different cvs subcommands used by cvsps is the
&rsquo;rlog&rsquo; command. The rlog command is used to get
revision history of a module, and it disregards the current
working <br>
directory. The important difference between
&rsquo;rlog&rsquo; and &rsquo;log&rsquo; (from cvsps
perspective) is the &rsquo;rlog&rsquo; will include log data
for files not in the current working directory. The <br>
impact of this is mainly when there are directories which at
one time had files, but are now empty, and have been pruned
from the working directory with the &rsquo;-P&rsquo; option.
If <br>
&rsquo;rlog&rsquo; is not used, these files logs will not be
parsed, and the PatchSet numbering will be unstable.</p>

<p style="margin-top: 1em">The main problem with
&rsquo;rlog&rsquo; is that, until cvs version 1.11.1,
&rsquo;rlog&rsquo; was an alias for the &rsquo;log&rsquo;
command. This means, for old versions of cvs,
&rsquo;rlog&rsquo; has different semantics <br>
and usage. cvsps will attempt to work around this problem by
detecting capable versions of cvs. If an old version is
detected, &rsquo;log&rsquo; will be used instead of
&rsquo;rlog&rsquo;, and YMMV.</p>

<p style="margin-top: 1em">NOTE ON GENERATED DIFFS <br>
Another important note is that cvsps will attempt, whenever
possible, to use the r-commands (rlog, rdiff and co) instead
of the local commands (log, diff, and update). This is <br>
to allow cvsps to function without a completely checked out
tree. Because these r-commands are used, the generated diffs
will include the module directory in them, and it is <br>
recommended to apply them in the working directory with the
-p1 option to the patch command. However, if the --diff-opts
option is specified (to change, for example, the lines <br>
of context), then rdiff cannot be used, because it
doesn&rsquo;t support arbitrary options. In this case, the
patches will be generated without the module directory in
the path, and <br>
-p0 will be required when applying the patch. When diffs are
generated in cvs-direct mode (see below), however, they will
always be -p1 style patches.</p>

<p style="margin-top: 1em">NOTE ON BKCVS <br>
The --bkcvs option is a special operating mode that should
only be used when parsing the log files from the BK -&gt;
CVS exported linux kernel trees. cvsps uses special
semantics <br>
for recreating the BK ChangeSet metadata that has been
embedded in the log files for those trees. The --bkcvs
option should only be specified when the cache file is being
cre&acirc; <br>
ated or updated (i.e. initial run of cvsps, or when -u and
-x options are used).</p>

<p style="margin-top: 1em">NOTE ON CVS-DIRECT <br>
As of version 2.0b6 cvsps has a partial implementation of
the cvs client code built in. This reduces the RTT and/or
handshaking overhead from one per patchset member to one per
<br>
patchset. This dramatically increases the speed of
generating diffs over a slow link, and improves the
consistency of operation. Currently the --cvs-direct option
turns on the <br>
use of this code, but it very well may be default by the
time 2.0 comes out. The built-in cvs code attempts to be
compatible with cvs, but may have problems, which should be
<br>
reported. It honors the CVS_RSH and CVS_SERVER environment
variables, but does not parse the ~/.cvsrc file.</p>

<p style="margin-top: 1em">NOTE ON CVSPS RC FILE <br>
CVSps parses an rc file at startup. This file should be
located in ~/.cvsps/cvspsrc. The file should contain
arguments, in the exact syntax as the command line, one per
line. <br>
If an argument takes a parameter, the parameter should be on
the same line as the argument.</p>

<p style="margin-top: 1em">NOTE ON DATE FORMATS <br>
All dates are reported in localtime. This can be overridden
(as usual) using the TZ environment variable. Dates as
arguments must be in the format &rsquo;yyyy/mm/dd
hh:mm:ss&rsquo;; for <br>
example,</p>

<p style="margin-top: 1em">$ cvsps -d &rsquo;2004/05/01
00:00:00&rsquo; -d &rsquo;2004/07/07 12:00:00&rsquo;</p>

<p style="margin-top: 1em">SEE ALSO <br>
cvs(1), ci(1), co(1), cvs(5), cvsbug(8), diff(1), grep(1),
patch(1), rcs(1), rcsdiff(1), rcsmerge(1), rlog(1).</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to &quot;David Mansfield
&lt;cvsps@dm.cobite.com&gt;&quot;</p>

<p style="margin-top: 1em">BUGS <br>
No known bugs.</p>
 
<p style="margin-top: 1em">cvsps(1)</p>
<hr>
</body>
</html>
