<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:21:38 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LEDGER(1) BSD General Commands Manual LEDGER(1)</p>

<p style="margin-top: 1em">NAME <br>
ledger &acirc; Command-line, double-entry account reporting
tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ledger [command] [options] [arguments]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ledger is a command-line accounting tool based on the power
and completeness of double-entry accounting. It is only a
reporting tool, which means it never modifies your data <br>
files, but it does offer a large selection of reports, and
different ways to customize them to your needs.</p>

<p style="margin-top: 1em">COMMANDS <br>
ledger accepts several top-level commands, each of which
generates a different kind of basic report. Most of them
accept a report-query argument, in order to determine what
should <br>
be reported. To understand the syntax of a report-query, see
the section on QUERIES. In its most basic form, simply
specifying one or more strings produces a report for all
<br>
accounts containing those strings.</p>

<p style="margin-top: 1em">If no command is given, ledger
enters a REPL, or command loop, allowing several commands to
be executed on the same dataset without reparsing.</p>

<p style="margin-top: 1em">The following is a complete list
of accepted reporting commands:</p>

<p style="margin-top: 1em">accounts [report-query] <br>
List all accounts for postings that match the
report-query.</p>

<p style="margin-top: 1em">balance [report-query] <br>
Print a balance report showing totals for postings that
match report-query, and aggregate totals for parents of
those accounts. Options most commonly used with this
com&acirc; <br>
mand are: <br>
--basis (-B) Report in terms of cost basis, not amount or
value. This is the only form of report which is guaranteed
to always balance to zero, when no report-query <br>
is specified. Only show totals for the top-most accounts.
<br>
--empty (-E) Show accounts whose total is zero. <br>
--flat Rather than display a hierarchical tree, flatten the
report to show subtotals for only accounts matching
report-query. <br>
--no-total Suppress the summary total shown at the bottom of
the report.</p>

<p style="margin-top: 1em">The synonyms bal and b are also
accepted.</p>

<p style="margin-top: 1em">budget [report-query] <br>
A special balance report which includes three extra columns:
the amount budgeted during the reporting period, how
spending differed from the budget, and the percentage of
<br>
budget spent (exceeds 100% if you go over budget). Note that
budgeting requires one or more &acirc;periodic
transactions&acirc; to be defined in your data file(s). See
the manual <br>
for more information.</p>

<p style="margin-top: 1em">cleared [report-query] <br>
A special balance report which adds two extra columns: the
cleared balance for each account, and the date of the most
recent cleared posting in that account. For this <br>
accounting to be meaningful, the cleared flag must be set on
at least one posting. See the manual for more
information.</p>

<p style="margin-top: 1em">commodities [report-query] <br>
List all commodities for postings matching the
report-query.</p>

<p style="margin-top: 1em">convert Reads data from a CSV
(comma-separated values) file and generates ledger
transactions.</p>

<p style="margin-top: 1em">csv [report-query] <br>
Report of postings matching the report-query in CSV format
(comma-separated values). Useful for exporting data to a
spreadsheet for further analysis or charting.</p>

<p style="margin-top: 1em">entry [entry-template] <br>
Generate and display a new, properly formatted ledger
transaction by comparing the entry-template to the
transactions in your data file(s). For more information on
draft <br>
templates and using this command to quickly create new
transactions, see the section ENTRIES.</p>

<p style="margin-top: 1em">The synonym xact is also
accepted.</p>

<p style="margin-top: 1em">emacs [query] <br>
Output posting and transaction data in a format readily
consumed by the Emacs editor, in a series of Lisp forms.
This is used by the ledger.el Emacs mode to process <br>
reporting data from ledger.</p>

<p style="margin-top: 1em">equity [report-query] <br>
Print a transaction with a series of postings that balance
current totals for accounts matching the report-query in a
special account called Equity:Opening Balances. The <br>
purpose of this report is to close the books for a prior
year, while using these equity postings to carry forward
those balances.</p>

<p style="margin-top: 1em">org Produce a journal file
suitable for use in the Emacs org mode.</p>

<p style="margin-top: 1em">payees [report-query] <br>
List all payees for postings matching the report-query.</p>

<p style="margin-top: 1em">pricemap <br>
Produce a file which can be used to generate a graph with
graphviz showing the relationship of commodities in the
ledger file.</p>

<p style="margin-top: 1em">prices [report-query] <br>
Report prices for all commodities in postings matching the
report-query. The prices are reported with the granularity
of a single day.</p>

<p style="margin-top: 1em">pricedb [report-query] <br>
Report prices for all commodities in postings matching the
report-query. Prices are reported down to the second, using
the same format as the ~/.pricedb file.</p>

<p style="margin-top: 1em">print [report-query] <br>
Print out the full transactions of any matching postings
using the same format as they would appear in a data file.
This can be used to extract subsets from a ledger file <br>
to transfer to other files.</p>

<p style="margin-top: 1em">push [options] <br>
In the REPL, push a set of command-line options, so that
they will apply to all subsequent reports.</p>

<p style="margin-top: 1em">pop In the REPL, pop any option
settings that have been pushed.</p>

<p style="margin-top: 1em">register [report-query] <br>
List all postings matching the report-query. This is one of
the most common commands, and can be used to provide a
variety of useful reports. Options most commonly used <br>
with this command are:</p>

<p style="margin-top: 1em">--average (-A) Show the running
average, rather than a running total. <br>
--current (-c) Don&rsquo;t show postings beyond the present
day. <br>
--exchange commodity (-X) <br>
Render all values in the given commodity, if a price
conversion rate can be determined. Rates are always
displayed relative to the date of the posting <br>
they are calculated for. This means a register report is a
historical value report. For current values, it may be
preferable to use the balance report. <br>
--gain (-G) Show any gains (or losses) in commodity values
over time. <br>
--head number Only show the top number postings. <br>
--historical (-H) <br>
Value commodities at the time of their acquisition. <br>
--invert Invert the value of amounts shown. <br>
--market (-V) Show current market values for all amounts.
This is determined in a somewhat magical fashion. It is
probably more straightforward to use --exchange <br>
option. <br>
--period time-period (-p) <br>
Show postings only for the given time-period. <br>
--related (-r) Show postings that are related to those that
would have been shown. It has the effect of displaying the
&quot;other side&quot; of the postings. <br>
--sort value-expression (-S) <br>
Sort postings by evaluating the given value-expression. Note
that a comma-separated list of expressions is allowed, in
which case each sorting term is <br>
used in order to determine the final ordering. For example,
to search by date and then amount, one would use: <br>
ledger reg --sort &rsquo;date, amount&rsquo; <br>
--tail number Only show the last number postings. <br>
--uncleared (-U) <br>
Only show uncleared (i.e., recent) postings.</p>

<p style="margin-top: 1em">There are also several grouping
options that can be useful:</p>

<p style="margin-top: 1em">--by-payee (-P) Group postings
by common payee names. <br>
--daily (-D) Group postings by day. <br>
--weekly (-W) Group postings by week (starting on Sundays).
<br>
--start-of-week day <br>
Set the start of each report grouped by week to the given
day. <br>
--monthly (-M) Group postings by month. <br>
--quarterly Group postings by fiscal quarter. <br>
--yearly (-Y) Group postings by year. <br>
--days-of-week Group postings by the day of the week on
which they took place. <br>
--subtotal (-s) Group all postings together. This is very
similar to the totals shown by the balance report.</p>

<p style="margin-top: 1em">The synonyms reg and r are also
accepted.</p>

<p style="margin-top: 1em">server This command requires
that Python support be active. If so, it starts up an HTTP
server listening for requests on port 9000. This provides an
alternate interface to cre&acirc; <br>
ating and viewing reports. Note that this is very much a
work-in-progress, and will not be fully functional until a
later version.</p>

<p style="margin-top: 1em">select [sql-query] <br>
List all postings matching the sql-query. This command
allows to generate SQL-like queries, e.g.: <br>
ledger select date,amount from posts where
account=~/Income/</p>

<p style="margin-top: 1em">source Parse a journal file and
checks it for errors. ledger will return success if no
errors are found.</p>

<p style="margin-top: 1em">stats [report-query] <br>
Provide summary information about all the postings matching
report-query. It provides information such as: <br>
&Acirc;&middot; Time range of all matching postings <br>
&Acirc;&middot; Unique payees <br>
&Acirc;&middot; Unique accounts <br>
&Acirc;&middot; Postings total <br>
&Acirc;&middot; Uncleared postings <br>
&Acirc;&middot; Days since last posting <br>
&Acirc;&middot; Posts in the last 7 days <br>
&Acirc;&middot; Posts in the last 30 days <br>
&Acirc;&middot; Posts this month</p>

<p style="margin-top: 1em">xml [report-query] <br>
Output data relating to the current report in XML format. It
includes all accounts and commodities involved in the
report, plus the postings and the transactions they are <br>
contained in. See the manual for more information.</p>

<p style="margin-top: 1em">OPTIONS <br>
--abbrev-len INT <br>
Set the minimum length an account can be abbreviated to if
it doesn&rsquo;t fit inside the account-width. If INT is
zero, then the account name will be truncated on the right.
<br>
If INT is greater than account-width then the account will
be truncated on the left, with no shortening of the account
names in order to fit into the desired width.</p>

<p style="margin-top: 1em">--account EXPR <br>
Prepend EXPR to all accounts reported. That is, the option
--account &quot;&rsquo;Personal&rsquo;&quot; would tack
Personal: and --account &quot;tag(&rsquo;VAT&rsquo;)&quot;
would tack the value of the VAT tag to <br>
the beginning of every account reported in a balance or
register report.</p>

<p style="margin-top: 1em">--account-width INT <br>
Set the width of the account column in the register report
to INT characters.</p>

<p style="margin-top: 1em">--actual (-L) <br>
Report only real transactions, with no automated or virtual
transactions used.</p>

<p style="margin-top: 1em">--add-budget <br>
Show only un-budgeted postings.</p>

<p style="margin-top: 1em">--amount EXPR (-t) <br>
Apply the given value expression to the posting amount.
Using --amount EXPR you can apply an arbitrary
transformation to the postings.</p>

<p style="margin-top: 1em">--amount-data (-j) <br>
On a register report print only the dates and amount of
postings. Useful for graphing and spreadsheet
applications.</p>

<p style="margin-top: 1em">--amount-width INT <br>
Set the width in characters of the amount column in the
register report.</p>

<p style="margin-top: 1em">--anon Anonymize registry
output, mostly for sending in bug reports.</p>

<p style="margin-top: 1em">--ansi Use color if the terminal
supports it. Alias for --color</p>

<p style="margin-top: 1em">--args-only <br>
Ignore init files and environment variables for the ledger
run.</p>

<p style="margin-top: 1em">--auto-match <br>
When generating a ledger transaction from a CSV file using
the convert command, automatically match an account from the
Ledger journal.</p>

<p style="margin-top: 1em">--aux-date <br>
Show auxiliary dates for all calculations. Alias for
--effective</p>

<p style="margin-top: 1em">--average (-A) <br>
Print average values over the number of transactions instead
of running totals.</p>

<p style="margin-top: 1em">--balance-format FMT <br>
Specify the format to use for the balance report.</p>

<p style="margin-top: 1em">--base Reduce convertible
commodities down the bottom of the conversion, e.g. display
time in seconds.</p>

<p style="margin-top: 1em">--basis (-B) <br>
Report the cost basis on all posting. Alias for --cost</p>

<p style="margin-top: 1em">--begin DATE (-b) <br>
Specify the start DATE of all calculations. Transactions
before that date will be ignored.</p>

<p style="margin-top: 1em">--bold-if EXPR <br>
Print the entire line in bold if the given value expression
is true.</p>

<p style="margin-top: 1em">--budget <br>
Only display budgeted items. In a register report this
displays transaction in the budget, in a balance report this
displays accounts in the budget.</p>

<p style="margin-top: 1em">--budget-format FMT <br>
Specify the format to use for the budget report.</p>

<p style="margin-top: 1em">--by-payee (-P) <br>
Group postings in the register report by common payee
names.</p>

<p style="margin-top: 1em">--check-payees <br>
Enable strict and pedantic checking for payees as well as
accounts, commodities and tags.</p>

<p style="margin-top: 1em">--cleared (-C) <br>
Display only cleared postings.</p>

<p style="margin-top: 1em">--cleared-format FMT <br>
Specify the format to use for the cleared report</p>

<p style="margin-top: 1em">--collapse (-n) <br>
Print only the top level accounts.</p>

<p style="margin-top: 1em">--collapse-if-zero <br>
Collapse the account display only if it has a zero
balance.</p>

<p style="margin-top: 1em">--color Use color if the
terminal supports it. Alias for --ansi</p>

<p style="margin-top: 1em">--columns INT <br>
Make the register report INT characters wide. By default
ledger will use all available columns in your terminal.</p>

<p style="margin-top: 1em">--cost Report the cost basis on
all posting. Alias for --basis.</p>

<p style="margin-top: 1em">--count Direct ledger to report
the number of items when appended to the commodities,
accounts or payees commands.</p>

<p style="margin-top: 1em">--csv-format FMT <br>
Format csv report according to FMT.</p>

<p style="margin-top: 1em">--current (-c) <br>
Shorthand for --limit &rsquo;date &lt;= today&rsquo;.</p>

<p style="margin-top: 1em">--daily (-D) <br>
Shorthand for --period daily.</p>

<p style="margin-top: 1em">--date EXPR <br>
Transform the date of the transaction using EXPR.</p>

<p style="margin-top: 1em">--date-format DATEFMT (-y) <br>
Print dates using DATEFMT. Refer to strftime(3) for details
on the format string syntax.</p>

<p style="margin-top: 1em">--datetime-format DATETIMEFMT
<br>
Print datetimes using DATETIMEFMT. Refer to strftime(3) for
details on the format string syntax.</p>

<p style="margin-top: 1em">--date-width INT <br>
Specify the width, in characters, of the date column in the
register report.</p>

<p style="margin-top: 1em">--day-break <br>
Break up register report of timelog entries that span
multiple days by day.</p>

<p style="margin-top: 1em">--days-of-week <br>
Group transactions by the days of the week. Alias for
--dow.</p>

<p style="margin-top: 1em">--dc Display register or balance
in debit/credit format If you use --dc with either the
register or balance commands, you will now get separate
columns for debits and credits.</p>

<p style="margin-top: 1em">--debug STR <br>
If ledger has been built with debug options this will
provide extra data during the run.</p>

<p style="margin-top: 1em">--decimal-comma <br>
Direct ledger to parse journals using the European standard
comma as decimal separator, vice a period.</p>

<p style="margin-top: 1em">--depth INT <br>
Limit the depth of the account tree. In a balance report,
for example, --depth 2 will print balances only for accounts
with two levels, i.e. Expenses:Entertainment but <br>
not Expenses:Entertainment:Dining. This is a display
predicate, which means it only affects display, not the
total calculations.</p>

<p style="margin-top: 1em">--detail <br>
Related to convert command. Synonym to --rich-data
option.</p>

<p style="margin-top: 1em">--deviation <br>
Report each posting&rsquo;s deviation from the average. It
is only meaningful in the register and prices reports.</p>

<p style="margin-top: 1em">--display EXPR (-d) <br>
Display lines that satisfy the expression EXPR.</p>

<p style="margin-top: 1em">--display-amount EXPR <br>
Apply a transformation to the displayed amount. This occurs
after calculations occur.</p>

<p style="margin-top: 1em">--display-total EXPR <br>
Apply a transformation to the displayed total. This occurs
after calculations occur.</p>

<p style="margin-top: 1em">--dow Group transactions by the
days of the week. Alias for --days-of-week.</p>

<p style="margin-top: 1em">--download <br>
Cause quotes to be automagically downloaded, as needed, by
running a script named getquote and expecting that script to
return a value understood by ledger. A sample <br>
implementation of a getquote script, implemented in Perl, is
provided in the distribution. Downloaded quote price are
then appended to the price database, usually speci&acirc;
<br>
fied using the environment variable LEDGER_PRICE_DB.</p>

<p style="margin-top: 1em">--effective <br>
Show auxiliary dates for all calculations. Alias for
--aux-date.</p>

<p style="margin-top: 1em">--empty (-E) <br>
Include empty accounts in report.</p>

<p style="margin-top: 1em">--end DATE (-e) <br>
Constrain the report so that transactions on or after DATE
are not considered.</p>

<p style="margin-top: 1em">--equity <br>
Related to the equity command. Gives current account
balances in the form of a register report.</p>

<p style="margin-top: 1em">--exact Report beginning and
ending of periods by the date of the first and last posting
occurring in that period.</p>

<p style="margin-top: 1em">--exchange COMMODITY [,
COMMODITY, ...] (-X) <br>
Display values in terms of the given COMMODITY. The latest
available price is used.</p>

<p style="margin-top: 1em">--explicit <br>
Direct ledger to require pre-declarations for entities (such
as accounts, commodities and tags) rather than taking
entities from cleared transactions as defined.</p>

<p style="margin-top: 1em">--file FILE <br>
Read journal data from FILE.</p>

<p style="margin-top: 1em">--first INT <br>
Print the first INT entries. Opposite of --last INT. Alias
for --head.</p>

<p style="margin-top: 1em">--flat Force the full names of
accounts to be used in the balance report. The balance
report will not use an indented tree.</p>

<p style="margin-top: 1em">--force-color <br>
Output TTY color codes even if the TTY doesn&rsquo;t support
them. Useful for TTYs that don&rsquo;t advertise their
capabilities correctly.</p>

<p style="margin-top: 1em">--force-pager <br>
Force ledger to paginate its output.</p>

<p style="margin-top: 1em">--forecast-while EXPR <br>
Continue forecasting while VEXPR is true. Alias for
--forecast.</p>

<p style="margin-top: 1em">--forecast-years INT <br>
Forecast at most INT years into the future.</p>

<p style="margin-top: 1em">--format FMT (-F) <br>
Use the given format string FMT to print output.</p>

<p style="margin-top: 1em">--gain (-G) <br>
Report net gain or loss for commodities that have a price
history.</p>

<p style="margin-top: 1em">--generated <br>
Include auto-generated postings (such as those from
automated transactions) in the report, in cases where you
normally wouldn&rsquo;t want them.</p>

<p style="margin-top: 1em">--group-by EXPR <br>
Group transaction together in the register report. EXPR can
be anything, although most common would be payee or
commodity. The tag() function is also useful here.</p>

<p style="margin-top: 1em">--group-title-format FMT <br>
Set the format for the headers that separate reports section
of a grouped report. Only has effect with a --group-by EXPR
register report.</p>

<p style="margin-top: 1em">--head INT <br>
Print the first INT entries. Opposite of --tail INT. Alias
for --first</p>

<p style="margin-top: 1em">--help Print this man page.</p>

<p style="margin-top: 1em">--immediate <br>
Evaluate calculations immediately rather than lazily.</p>

<p style="margin-top: 1em">--import FILE <br>
Import FILE as Python module.</p>

<p style="margin-top: 1em">--init-file FILE (-i) <br>
Read FILE before any other ledger file. This file may not
contain any postings, but it may contain option settings. To
specify options in the init file, use the same <br>
syntax as the command-line, but put each option on its own
line.</p>

<p style="margin-top: 1em">--inject STR <br>
Use STR amounts in calculations. In case you know what
amount a transaction should be, but the actual transaction
has the wrong value you can use metadata STR to specify <br>
the expected amount.</p>

<p style="margin-top: 1em">--input-date-format DATEFMT <br>
Specify the input date format for journal entries.</p>

<p style="margin-top: 1em">--invert <br>
Change the sign of all reported values.</p>

<p style="margin-top: 1em">--last INT. <br>
Report only the last INT entries. Opposite of --first INT.
Only useful on a register report. Alias for --tail.</p>

<p style="margin-top: 1em">--leeway INT (-Z) <br>
Alias for --price-expr.</p>

<p style="margin-top: 1em">--limit EXPR (-l) <br>
Limit postings in calculations.</p>

<p style="margin-top: 1em">--lot-dates <br>
Report the date on which each commodity in a balance report
was purchased.</p>

<p style="margin-top: 1em">--lot-notes <br>
Report the tag attached to each commodity in a balance
report.</p>

<p style="margin-top: 1em">--lot-prices <br>
Report the price at which each commodity in a balance report
was purchased.</p>

<p style="margin-top: 1em">--lots Report the date and price
at which each commodity was purchased in a balance
report.</p>

<p style="margin-top: 1em">--lots-actual <br>
Preserve the uniqueness of commodities so they aren&rsquo;t
merged during reporting without printing the lot
annotations.</p>

<p style="margin-top: 1em">--market (-V) <br>
Use the latest market value for all commodities.</p>

<p style="margin-top: 1em">--master-account STR <br>
Prepend all account names with STR</p>

<p style="margin-top: 1em">--meta STR <br>
In the register report, prepend the transaction with the
value of the given tag STR.</p>

<p style="margin-top: 1em">--meta-width INT <br>
Specify the width of the Meta column used for the --meta TAG
options.</p>

<p style="margin-top: 1em">--monthly (-M) <br>
Shorthand for --period monthly.</p>

<p style="margin-top: 1em">--no-aliases <br>
Aliases are completely ignored.</p>

<p style="margin-top: 1em">--no-color <br>
Suppress any color TTY output.</p>

<p style="margin-top: 1em">--no-pager <br>
Disables the pager on TTY output.</p>

<p style="margin-top: 1em">--no-revalued <br>
Stop ledger from showing &lt;Revalued&gt; postings.</p>

<p style="margin-top: 1em">--no-rounding <br>
Don&rsquo;t output &quot;&lt;Adjustment&gt;&quot; postings.
Note that this will cause the running total to often not add
up! Its main use is for --amount-data (-j) and --total-data
(-J) <br>
reports.</p>

<p style="margin-top: 1em">--no-titles <br>
Suppress the output of group titles.</p>

<p style="margin-top: 1em">--no-total <br>
Suppress printing the final total line in a balance
report.</p>

<p style="margin-top: 1em">--now DATE <br>
Use DATE as the current date. This affects the output when
using --period, --begin, --end, or --current to decide which
dates lie in the past or future.</p>

<p style="margin-top: 1em">--only EXPR <br>
This is a postings predicate that applies after certain
transforms have been executed, such as periodic
gathering.</p>

<p style="margin-top: 1em">--options <br>
Display the options in effect for this ledger invocation,
along with their values and the source of those values.</p>

<p style="margin-top: 1em">--output FILE (-o) <br>
Redirect the output of ledger to FILE.</p>

<p style="margin-top: 1em">--pager STR <br>
Use STR as the pager program.</p>

<p style="margin-top: 1em">--payee Sets a value expression
for formatting the payee. In the register report this
prevents the second entry from having a date and payee for
each transaction.</p>

<p style="margin-top: 1em">--payee-width INT <br>
Set the number of columns dedicated to the payee in the
register report to INT.</p>

<p style="margin-top: 1em">--pedantic <br>
Accounts, tags or commodities not previously declared will
cause errors.</p>

<p style="margin-top: 1em">--pending <br>
Use only postings that are marked pending.</p>

<p style="margin-top: 1em">--percent (-%) <br>
Calculate the percentage value of each account in a balance
reports. Only works for account that have a single
commodity.</p>

<p style="margin-top: 1em">--period PERIOD (-p) <br>
Define a period expression that sets the time period during
which transactions are to be accounted. For a register
report only the transactions that satisfy the period <br>
expression with be displayed. For a balance report only
those transactions will be accounted in the final
balances.</p>

<p style="margin-top: 1em">--period-sort <br>
Sort the posting within transactions using the given value
expression.</p>

<p style="margin-top: 1em">--permissive <br>
Quiet balance assertions.</p>

<p style="margin-top: 1em">--pivot TAG <br>
Produce a balance pivot report &quot;around&quot; the given
TAG.</p>

<p style="margin-top: 1em">--plot-amount-format FMT <br>
Define the output format for an amount data plot.</p>

<p style="margin-top: 1em">--plot-total-format FMT <br>
Define the output format for a total data plot.</p>

<p style="margin-top: 1em">--prepend-format FMT <br>
Prepend FMT to every line of the output.</p>

<p style="margin-top: 1em">--prepend-width INT <br>
Reserve INT spaces at the beginning of each line of the
output.</p>

<p style="margin-top: 1em">--price (-I) <br>
Use the price of the commodity purchase for performing
calculations.</p>

<p style="margin-top: 1em">--price-db FILE</p>

<p style="margin-top: 1em">--price-exp STR (-Z) <br>
Set the expected freshness of price quotes, in INT minutes.
That is, if the last known quote for any commodity is older
than this value, and if --download is being used, <br>
then the Internet will be consulted again for a newer price.
Otherwise, the old price is still considered to be fresh
enough. Alias for --leeway.</p>

<p style="margin-top: 1em">--prices-format FMT <br>
Set the format for the prices report.</p>

<p style="margin-top: 1em">--pricedb-format FMT <br>
Set the format expected for the historical price file.</p>

<p style="margin-top: 1em">--primary-date <br>
Show primary dates for all calculations. Alias for
--actual-dates</p>

<p style="margin-top: 1em">--quantity (-O) <br>
Report commodity totals (this is the default).</p>

<p style="margin-top: 1em">--quarterly <br>
Shorthand for --period quarterly.</p>

<p style="margin-top: 1em">--raw In the print report, show
transactions using the exact same syntax as specified by the
user in their data file. Don&rsquo;t do any massaging or
interpreting. Can be useful for <br>
minor cleanups, like just aligning amounts.</p>

<p style="margin-top: 1em">--real (-R) <br>
Account using only real transactions ignoring virtual and
automatic transactions.</p>

<p style="margin-top: 1em">--recursive-aliases <br>
Causes ledger to try to expand aliases recursively, i.e. try
to expand the result of an earlier expansion again, until no
more expansions apply.</p>

<p style="margin-top: 1em">--register-format FMT <br>
Define the output format for the register report.</p>

<p style="margin-top: 1em">--related (-r) <br>
In a register report show the related account. This is the
other side of the transaction.</p>

<p style="margin-top: 1em">--related-all <br>
Show all postings in a transaction, similar to --related but
show both sides of each transaction.</p>

<p style="margin-top: 1em">--revalued <br>
Report discrepancy in values for manual reports by inserting
&lt;Revalued&gt; postings. This is implied when using the
--exchange (-X) or --market (-V) option.</p>

<p style="margin-top: 1em">--revalued-only <br>
Show only &lt;Revalued&gt; postings.</p>

<p style="margin-top: 1em">--revalued-total <br>
Display the sum of the revalued postings as the running
total, which serves to show unrealized capital in a
gain/losses report.</p>

<p style="margin-top: 1em">--rich-data <br>
When generating a ledger transaction from a CSV file using
the convert command, add CSV, Imported, and UUID
meta-data.</p>

<p style="margin-top: 1em">--seed INT <br>
Set the random seed to INT for the generate command. Used as
part of development testing.</p>

<p style="margin-top: 1em">--script FILE <br>
Execute a ledger script.</p>

<p style="margin-top: 1em">--sort EXPR (-S) <br>
Sort the register report based on the value expression
EXPR.</p>

<p style="margin-top: 1em">--sort-xacts <br>
Sort the posting within transactions using the given value
expression.</p>

<p style="margin-top: 1em">--start-of-week STR <br>
Use STR as the particular day of the week to start when
using the --weekly option. STR can be day names, their
abbreviations like &quot;Mon&quot;, or the weekday number
starting at <br>
0 for Sunday.</p>

<p style="margin-top: 1em">--strict <br>
Accounts, tags or commodities not previously declared will
cause warnings.</p>

<p style="margin-top: 1em">--subtotal (-s) <br>
Report register as a single subtotal.</p>

<p style="margin-top: 1em">--tail INT <br>
Report only the last INT entries. Only useful on a register
report. Alias for --last INT</p>

<p style="margin-top: 1em">--time-colon <br>
Display the value for commodities based on seconds as hours
and minutes. Thus 8100s will be displayed as 2:15h instead
of 2.25h.</p>

<p style="margin-top: 1em">--time-report <br>
Add two columns to the balance report to show the earliest
checkin and checkout times for timelog entries.</p>

<p style="margin-top: 1em">--total EXPR (-T) <br>
Define a value expression used to calculate the total in
reports.</p>

<p style="margin-top: 1em">--total-data (-J) <br>
Show only dates and totals to format the output for
plots.</p>

<p style="margin-top: 1em">--total-width INT <br>
Set the width of the total field in the register report.</p>

<p style="margin-top: 1em">--trace INT <br>
Enable tracing. The INT specifies the level of trace
desired.</p>

<p style="margin-top: 1em">--truncate STR <br>
Indicates how truncation should happen when the contents of
columns exceed their width. Valid arguments for STR are
leading, middle, and trailing. The default is smarter <br>
than any of these three, as it considers sub-names within
the account name (that style is called
&quot;abbreviate&quot;).</p>

<p style="margin-top: 1em">--unbudgeted <br>
Show only un-budgeted postings.</p>

<p style="margin-top: 1em">--uncleared (-U) <br>
Use only uncleared transactions in calculations and
reports.</p>

<p style="margin-top: 1em">--unrealized <br>
Show generated unrealized gain and loss accounts in the
balance report.</p>

<p style="margin-top: 1em">--unrealized-gains <br>
Allow the user to specify what account name should be used
for unrealized gains. Defaults to Equity:Unrealized Gains.
Often set in one&rsquo;s ~/.ledgerrc file to change the <br>
default.</p>

<p style="margin-top: 1em">--unrealized-losses <br>
Allow the user to specify what account name should be used
for unrealized losses. Defaults to Equity:Unrealized Losses.
Often set in one&rsquo;s ~/.ledgerrc file to change the <br>
default.</p>

<p style="margin-top: 1em">--unround <br>
Perform all calculations without rounding and display
results to full precision.</p>

<p style="margin-top: 1em">--values <br>
Show the values used by each tag when used in combination
with the tags command.</p>

<p style="margin-top: 1em">--value-expr EXPR <br>
Set a global value expression annotation.</p>

<p style="margin-top: 1em">--verbose <br>
Print detailed information on the execution of ledger.</p>

<p style="margin-top: 1em">--verify <br>
Enable additional assertions during run-time. This causes a
significant slowdown. When combined with --debug CODE ledger
will produce memory trace information.</p>

<p style="margin-top: 1em">--verify-memory <br>
Verify that every constructed object is properly destructed.
This is for debugging purposes only.</p>

<p style="margin-top: 1em">--version <br>
Print version information and exit.</p>

<p style="margin-top: 1em">--weekly (-W) <br>
Shorthand for --period weekly.</p>

<p style="margin-top: 1em">--wide (-w) <br>
Assume 132 columns instead of the TTY width.</p>

<p style="margin-top: 1em">--yearly (-Y) <br>
Shorthand for --period yearly.</p>

<p style="margin-top: 1em">PRE-COMMANDS <br>
Pre-commands are useful when you aren&rsquo;t sure how a
command or option will work. The difference between a
pre-command and a regular command is that pre-commands
ignore the journal <br>
data file completely, nor is the user&rsquo;s init file
read.</p>

<p style="margin-top: 1em">args / query <br>
Evaluate the given arguments and report how ledger
interprets it against the following model transaction:</p>

<p style="margin-top: 1em">2004/05/27 Book Store <br>
; This note applies to all postings. :SecondTag: <br>
Expenses:Books 20 BOOK @ $10 <br>
; Metadata: Some Value <br>
; Typed:: $100 + $200 <br>
; :ExampleTag: <br>
; Here follows a note describing the posting. <br>
Liabilities:MasterCard $-200.00</p>

<p style="margin-top: 1em">eval Evaluate the given value
expression against the model transaction.</p>

<p style="margin-top: 1em">format Print details of how
ledger uses the given formatting description and apply it
against a model transaction.</p>

<p style="margin-top: 1em">parse / expr <br>
Print details of how ledger uses the given value expression
description and apply it against a model transaction.</p>

<p style="margin-top: 1em">generate <br>
Randomly generates syntactically valid ledger data from a
seed. Used by the GenerateTests harness for development
testing.</p>

<p style="margin-top: 1em">period Evaluate the given period
and report how ledger interprets it.</p>

<p style="margin-top: 1em">template <br>
Shows the insertion template that the xact command
generates. This is a debugging command.</p>

<p style="margin-top: 1em">QUERIES <br>
The syntax for reporting queries can get somewhat complex.
It is a series of query terms with an implicit OR operator
between them. The following terms are accepted:</p>

<p style="margin-top: 1em">regex A bare string is taken as
a regular expression matching the full account name. Thus,
to report the current balance for all assets and
liabilities, you would use:</p>

<p style="margin-top: 1em">ledger bal asset liab</p>

<p style="margin-top: 1em">payee regex (@regex) <br>
Query on the payee, rather than the account.</p>

<p style="margin-top: 1em">tag regex (%regex)</p>

<p style="margin-top: 1em">note regex (=regex) <br>
Query on anything found in an item&rsquo;s note.</p>

<p style="margin-top: 1em">code regex (#regex) <br>
Query on the xact&rsquo;s optional code (which can be any
string the user wishes).</p>

<p style="margin-top: 1em">term and term Query terms are
joined by an implicit OR operator. You can change this to
AND by using the and keyword. For example, to show food
expenditures occurring at Sha&acirc; <br>
kee&rsquo;s Pizza, you could say:</p>

<p style="margin-top: 1em">ledger reg food and @Shakee</p>

<p style="margin-top: 1em">term or term When you wish to be
more explicit, use the OR operator.</p>

<p style="margin-top: 1em">show</p>

<p style="margin-top: 1em">not term Reverse the logical
meaning of the following term. This can be used with
parentheses to great effect:</p>

<p style="margin-top: 1em">ledger reg food and @Shakee and
not dining</p>

<p style="margin-top: 1em">( term ) If you wish to mix OR
and AND operators, it is often helpful to surround logical
units with parentheses. NOTE: Because of the way some shells
interpret parentheses, <br>
you should always escape them:</p>

<p style="margin-top: 1em">ledger bal assets or liab and
not food</p>

<p style="margin-top: 1em">EXPRESSIONS <br>
abs(value) Return the absolute value of the given value.</p>

<p style="margin-top: 1em">account Return the
posting&rsquo;s account.</p>

<p style="margin-top: 1em">account_base Return the base
account, i.e. everything after the last account delimiter
&rsquo;:&rsquo;.</p>

<p style="margin-top: 1em">actual Return true if the
transaction is real, i.e not a automated or virtual
transaction, false otherwise.</p>

<p style="margin-top: 1em">amount Return the amount of the
posting.</p>

<p style="margin-top: 1em">amount_expr Return the
calculated amount of the posting according to the --amount
option.</p>

<p style="margin-top: 1em">ansify_if(value, color, bool)
<br>
Render the given value as a string, applying the proper ANSI
escape codes to display it in the given color if bool is
true. It typically checks the value of the <br>
option --color, for example: <br>
ansify_if(amount, blue, options.color)</p>

<p style="margin-top: 1em">beg_line Line number where entry
for posting begins.</p>

<p style="margin-top: 1em">beg_pos Character position where
entry for posting begins.</p>

<p style="margin-top: 1em">ceiling(value) Return the next
integer of value toward +infinity.</p>

<p style="margin-top: 1em">cleared Return true if the
posting was cleared, false otherwise.</p>

<p style="margin-top: 1em">code Return the transaction
code, the string between the parenthesis after the date.</p>

<p style="margin-top: 1em">commodity(value) <br>
Return the commodity of value or the posting amount when
value was not specified.</p>

<p style="margin-top: 1em">date Return the date of the
posting.</p>

<p style="margin-top: 1em">end_line Line number where entry
for posting ends.</p>

<p style="margin-top: 1em">end_pos Character position where
entry for posting ends.</p>

<p style="margin-top: 1em">floor(value) Return the next
integer of value toward -infinity.</p>

<p style="margin-top: 1em">filename The name of the ledger
data file from whence the posting came.</p>

<p style="margin-top: 1em">format(string) Evaluate string
as format just like the --format option.</p>

<p style="margin-top: 1em">format_date(date, format) <br>
Return the date as a string using format. Refer to
strftime(3) for format string details.</p>

<p style="margin-top: 1em">format_datetime(datetime,
format) <br>
Return the datetime as a string using format. Refer to
strftime(3) for format string details.</p>

<p style="margin-top: 1em">get_at(seq, index) <br>
Return value at index from seq. Used internally to construct
different reports.</p>

<p style="margin-top: 1em">has_meta() Return true if the
posting has metadata named tag, false otherwise.</p>

<p style="margin-top: 1em">has_tag(tag) Return true if the
posting has metadata named tag, false otherwise.</p>

<p style="margin-top: 1em">is_seq(value) Return true if
value is a sequence. Used internally.</p>

<p style="margin-top: 1em">join(value) Replace all newlines
in value with 0</p>

<p style="margin-top: 1em">justify(value, first_width,
latter_width, right_justify, colorize) <br>
Right or left justify the string representing value. The
width of the field in the first line is given by
first_width. For subsequent lines the width is given by <br>
latter_width. If latter_width is -1, first_width is used for
all lines. If right_justify is true then the field is right
justified within the width of the field. <br>
If it is false, then the field is left justified and padded
to the full width of the field. If colorize is true, then
ledger will honor color settings.</p>

<p style="margin-top: 1em">market(value, datetime) <br>
Return the price of value at datetime. Note that datetime
must be surrounded by brackets in order to be parsed
correctly, e.g. [2012/03/23].</p>

<p style="margin-top: 1em">meta() Return the value of
metadata named name.</p>

<p style="margin-top: 1em">note Return the note for the
posting.</p>

<p style="margin-top: 1em">now Return the current
datetime.</p>

<p style="margin-top: 1em">options A variable that allows
access to the values of the given command-line options using
the long option names, e.g. to see whether --daily (-D) was
given use <br>
option.daily.</p>

<p style="margin-top: 1em">payee Return the payee of the
posting.</p>

<p style="margin-top: 1em">percent(value_a, value_b) <br>
Return the percentage of value_a in relation to value_b
(used as 100%).</p>

<p style="margin-top: 1em">pending Return true if the
posting is marked as pending, false otherwise.</p>

<p style="margin-top: 1em">percent(value_a, value_b) <br>
Return the percentage of value_a in relation to value_b.</p>

<p style="margin-top: 1em">print(value) Print value to
stdout. Used internally for debugging.</p>

<p style="margin-top: 1em">quantity(value) Return the
quantity of value for values that have a per-unit cost.</p>

<p style="margin-top: 1em">quoted(expression) <br>
Surround expression with double-quotes.</p>

<p style="margin-top: 1em">real Return true if the
transaction is real, i.e not a automated or virtual
transaction, false otherwise.</p>

<p style="margin-top: 1em">roundto(value, n) <br>
Return value rounded to n digits. Does not affect
formatting.</p>

<p style="margin-top: 1em">should_bold Return true if
expression given to --bold-if evaluates to true. Internal
use only!</p>

<p style="margin-top: 1em">scrub(value) Clean value using
various transformations such as round, stripping value
annotations, and more.</p>

<p style="margin-top: 1em">strip(value) Strip value
annotation from value.</p>

<p style="margin-top: 1em">tag(name) Return the value of
tag named name.</p>

<p style="margin-top: 1em">to_amount(value) <br>
Convert value to an amount. Internal use only!</p>

<p style="margin-top: 1em">to_balance(value) <br>
Convert value to a balance. Internal use only!</p>

<p style="margin-top: 1em">to_boolean(value) <br>
Convert value to a boolean. Internal use only!</p>

<p style="margin-top: 1em">to_date(value) Convert value to
a date. Internal use only!</p>

<p style="margin-top: 1em">to_datetime(value) <br>
Convert value to a datetime. Internal use only!</p>

<p style="margin-top: 1em">to_int(value) Return the integer
value for value.</p>

<p style="margin-top: 1em">to_mask(value) Convert value to
a mask. Internal use only!</p>

<p style="margin-top: 1em">to_sequence(value) <br>
Convert value to a sequence. Internal use only!</p>

<p style="margin-top: 1em">to_string(value) <br>
Convert value to a character string.</p>

<p style="margin-top: 1em">today Return today&rsquo;s
date.</p>

<p style="margin-top: 1em">total Return the total of the
posting.</p>

<p style="margin-top: 1em">total_expr Return the calculated
total of the posting according to the --total option.</p>

<p style="margin-top: 1em">trim(value) Trim leading and
trailing whitespace from value.</p>

<p style="margin-top: 1em">truncated(string, total_len,
account_len) <br>
Truncate string to total_len ensuring that each account is
at least account_len long.</p>

<p style="margin-top: 1em">virtual Return true if the
transaction is virtual, e.g automated, false otherwise.</p>

<p style="margin-top: 1em">DEBUG COMMANDS <br>
In addition to the regular reporting commands, ledger also
accepts several debug commands:</p>

<p style="margin-top: 1em">args [report-query] <br>
Display complete analysis of how ledger interpreted the
given report-query. Useful if you want to understand how
report queries are translated into value expressions.</p>

<p style="margin-top: 1em">eval [value-expression] <br>
Evaluate the given value-expression and prints the result.
For more on value expressions, see the section
EXPRESSIONS.</p>

<p style="margin-top: 1em">format [format-string] <br>
Display an analysis of how format-string was parsed, and
what it would look like applied to a sample transaction. For
more on format strings, see the section FORMATS.</p>

<p style="margin-top: 1em">generate <br>
Generate 50 randomly composed yet valid ledger
transactions.</p>

<p style="margin-top: 1em">parse [value-expression] <br>
Parse the given value-expression and display an analysis of
the expression tree and its evaluated value. For more on
value expressions, see the section EXPRESSIONS.</p>

<p style="margin-top: 1em">python [file] <br>
Invoke a Python interpreter to read the given file. What is
special about this is that the ledger module is builtin, not
read from disk, so it doesn&rsquo;t require ledger to <br>
be installed anywhere, or the shared library variants to be
built.</p>

<p style="margin-top: 1em">reload Reload all data files for
the current session immediately. Can only be used in the
REPL.</p>

<p style="margin-top: 1em">template [draft-template] <br>
Display information about how draft-template was parsed. See
the section on DRAFTS.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
Every option to ledger may be set using an environment
variable if the option has a long name. For example setting
the environment variable
LEDGER_DATE_FORMAT=&quot;%d.%m.%Y&rsquo; will have <br>
the same effect as specifying --date-format
&rsquo;%d.%m.%Y&rsquo; on the command-line. Options on the
command-line always take precedence over environment
variable settings, however.</p>

<p style="margin-top: 1em">FILES <br>
~/.ledgerrc <br>
Your personal ledger initializations.</p>

<p style="margin-top: 1em">SEE ALSO <br>
beancount(1), hledger(1)</p>

<p style="margin-top: 1em">AUTHORS <br>
John Wiegley
&acirc;&uml;johnw@newartisans.com&acirc;&copy;</p>

<p style="margin-top: 1em">BSD March 23, 2012 BSD</p>
<hr>
</body>
</html>
