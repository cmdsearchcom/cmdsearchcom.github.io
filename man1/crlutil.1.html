<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:00:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CRLUTIL(1) NSS Security Tools CRLUTIL(1)</p>

<p style="margin-top: 1em">NAME <br>
crlutil - List, generate, modify, or delete CRLs within the
NSS security database file(s) and list, create, modify or
delete certificates entries in a particular CRL.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
crlutil [options] [[arguments]]</p>

<p style="margin-top: 1em">STATUS <br>
This documentation is still work in progress. Please
contribute to the initial review in Mozilla NSS bug
836477[1]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The Certificate Revocation List (CRL) Management Tool,
crlutil, is a command-line utility that can list, generate,
modify, or delete CRLs within the NSS security database
file(s) <br>
and list, create, modify or delete certificates entries in a
particular CRL.</p>

<p style="margin-top: 1em">The key and certificate
management process generally begins with creating keys in
the key database, then generating and managing certificates
in the certificate database(see <br>
certutil tool) and continues with certificates expiration or
revocation.</p>

<p style="margin-top: 1em">This document discusses
certificate revocation list management. For information on
security module database management, see Using the Security
Module Database Tool. For <br>
information on certificate and key database management, see
Using the Certificate Database Tool.</p>

<p style="margin-top: 1em">To run the Certificate
Revocation List Management Tool, type the command</p>

<p style="margin-top: 1em">crlutil option [arguments]</p>

<p style="margin-top: 1em">where options and arguments are
combinations of the options and arguments listed in the
following section. Each command takes one option. Each
option may take zero or more <br>
arguments. To see a usage string, issue the command without
options, or with the -H option.</p>

<p style="margin-top: 1em">OPTIONS AND ARGUMENTS <br>
Options</p>

<p style="margin-top: 1em">Options specify an action.
Option arguments modify an action. The options and arguments
for the crlutil command are defined as follows:</p>

<p style="margin-top: 1em">-D <br>
Delete Certificate Revocation List from cert database.</p>

<p style="margin-top: 1em">-E <br>
Erase all CRLs of specified type from the cert database</p>

<p style="margin-top: 1em">-G <br>
Create new Certificate Revocation List (CRL).</p>

<p style="margin-top: 1em">-I <br>
Import a CRL to the cert database</p>

<p style="margin-top: 1em">-L <br>
List existing CRL located in cert database file.</p>

<p style="margin-top: 1em">-M <br>
Modify existing CRL which can be located in cert db or in
arbitrary file. If located in file it should be encoded in
ASN.1 encode format.</p>

<p style="margin-top: 1em">-S <br>
Show contents of a CRL file which isn&rsquo;t stored in the
database.</p>

<p style="margin-top: 1em">Arguments</p>

<p style="margin-top: 1em">Option arguments modify an
action.</p>

<p style="margin-top: 1em">-a <br>
Use ASCII format or allow the use of ASCII format for input
and output. This formatting follows RFC #1113.</p>

<p style="margin-top: 1em">-B <br>
Bypass CA signature checks.</p>

<p style="margin-top: 1em">-c crl-gen-file <br>
Specify script file that will be used to control crl
generation/modification. See crl-cript-file format below. If
options -M|-G is used and -c crl-script-file is not <br>
specified, crlutil will read script data from standard
input.</p>

<p style="margin-top: 1em">-d directory <br>
Specify the database directory containing the certificate
and key database files. On Unix the Certificate Database
Tool defaults to $HOME/.netscape (that is, ~/.netscape). On
<br>
Windows NT the default is the current directory.</p>

<p style="margin-top: 1em">The NSS database files must
reside in the same directory.</p>

<p style="margin-top: 1em">-f password-file <br>
Specify a file that will automatically supply the password
to include in a certificate or to access a certificate
database. This is a plain-text file containing one password.
<br>
Be sure to prevent unauthorized access to this file.</p>

<p style="margin-top: 1em">-i crl-file <br>
Specify the file which contains the CRL to import or
show.</p>

<p style="margin-top: 1em">-l algorithm-name <br>
Specify a specific signature algorithm. List of possible
algorithms: MD2 | MD4 | MD5 | SHA1 | SHA256 | SHA384 |
SHA512</p>

<p style="margin-top: 1em">-n nickname <br>
Specify the nickname of a certificate or key to list,
create, add to a database, modify, or validate. Bracket the
nickname string with quotation marks if it contains
spaces.</p>

<p style="margin-top: 1em">-o output-file <br>
Specify the output file name for new CRL. Bracket the
output-file string with quotation marks if it contains
spaces. If this argument is not used the output destination
<br>
defaults to standard output.</p>

<p style="margin-top: 1em">-P dbprefix <br>
Specify the prefix used on the NSS security database files
(for example, my_cert8.db and my_key3.db). This option is
provided as a special case. Changing the names of the <br>
certificate and key databases is not recommended.</p>

<p style="margin-top: 1em">-t crl-type <br>
Specify type of CRL. possible types are: 0 - SEC_KRL_TYPE, 1
- SEC_CRL_TYPE. This option is obsolete</p>

<p style="margin-top: 1em">-u url <br>
Specify the url.</p>

<p style="margin-top: 1em">-w pwd-string <br>
Provide db password in command line.</p>

<p style="margin-top: 1em">-Z algorithm <br>
Specify the hash algorithm to use for signing the CRL.</p>

<p style="margin-top: 1em">CRL GENERATION SCRIPT SYNTAX
<br>
CRL generation script file has the following syntax:</p>

<p style="margin-top: 1em">* Line with comments should have
# as a first symbol of a line</p>

<p style="margin-top: 1em">* Set &quot;this update&quot; or
&quot;next update&quot; CRL fields:</p>

<p style="margin-top: 1em">update=YYYYMMDDhhmmssZ
nextupdate=YYYYMMDDhhmmssZ</p>

<p style="margin-top: 1em">Field &quot;next update&quot; is
optional. Time should be in GeneralizedTime format
(YYYYMMDDhhmmssZ). For example: 20050204153000Z</p>

<p style="margin-top: 1em">* Add an extension to a CRL or a
crl certificate entry:</p>

<p style="margin-top: 1em">addext extension-name
critical/non-critical [arg1[arg2 ...]]</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">extension-name: string value of
a name of known extensions. critical/non-critical: is 1 when
extension is critical and 0 otherwise. arg1, arg2: specific
to extension type <br>
extension parameters</p>

<p style="margin-top: 1em">addext uses the range that was
set earlier by addcert and will install an extension to
every cert entries within the range.</p>

<p style="margin-top: 1em">* Add certificate entries(s) to
CRL:</p>

<p style="margin-top: 1em">addcert range date</p>

<p style="margin-top: 1em">range: two integer values
separated by dash: range of certificates that will be added
by this command. dash is used as a delimiter. Only one cert
will be added if there is no <br>
delimiter. date: revocation date of a cert. Date should be
represented in GeneralizedTime format (YYYYMMDDhhmmssZ).</p>

<p style="margin-top: 1em">* Remove certificate entry(s)
from CRL</p>

<p style="margin-top: 1em">rmcert range</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">range: two integer values
separated by dash: range of certificates that will be added
by this command. dash is used as a delimiter. Only one cert
will be added if there is no <br>
delimiter.</p>

<p style="margin-top: 1em">* Change range of certificate
entry(s) in CRL</p>

<p style="margin-top: 1em">range new-range</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">new-range: two integer values
separated by dash: range of certificates that will be added
by this command. dash is used as a delimiter. Only one cert
will be added if there is no <br>
delimiter.</p>

<p style="margin-top: 1em">Implemented Extensions</p>

<p style="margin-top: 1em">The extensions defined for CRL
provide methods for associating additional attributes with
CRLs of theirs entries. For more information see RFC
#3280</p>

<p style="margin-top: 1em">* Add The Authority Key
Identifier extension:</p>

<p style="margin-top: 1em">The authority key identifier
extension provides a means of identifying the public key
corresponding to the private key used to sign a CRL.</p>

<p style="margin-top: 1em">authKeyId critical [key-id | dn
cert-serial]</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">authKeyIdent: identifies the
name of an extension critical: value of 1 of 0. Should be
set to 1 if this extension is critical or 0 otherwise.
key-id: key identifier represented <br>
in octet string. dn:: is a CA distinguished name
cert-serial: authority certificate serial number.</p>

<p style="margin-top: 1em">* Add Issuer Alternative Name
extension:</p>

<p style="margin-top: 1em">The issuer alternative names
extension allows additional identities to be associated with
the issuer of the CRL. Defined options include an rfc822
name (electronic mail address), <br>
a DNS name, an IP address, and a URI.</p>

<p style="margin-top: 1em">issuerAltNames non-critical
name-list</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">subjAltNames: identifies the
name of an extension should be set to 0 since this is
non-critical extension name-list: comma separated list of
names</p>

<p style="margin-top: 1em">* Add CRL Number extension:</p>

<p style="margin-top: 1em">The CRL number is a non-critical
CRL extension which conveys a monotonically increasing
sequence number for a given CRL scope and CRL issuer. This
extension allows users to <br>
easily determine when a particular CRL supersedes another
CRL</p>

<p style="margin-top: 1em">crlNumber non-critical
number</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">crlNumber: identifies the name
of an extension critical: should be set to 0 since this is
non-critical extension number: value of long which
identifies the sequential number of a <br>
CRL.</p>

<p style="margin-top: 1em">* Add Revocation Reason Code
extension:</p>

<p style="margin-top: 1em">The reasonCode is a non-critical
CRL entry extension that identifies the reason for the
certificate revocation.</p>

<p style="margin-top: 1em">reasonCode non-critical code</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">reasonCode: identifies the name
of an extension non-critical: should be set to 0 since this
is non-critical extension code: the following codes are
available:</p>

<p style="margin-top: 1em">unspecified (0), keyCompromise
(1), cACompromise (2), affiliationChanged (3), superseded
(4), cessationOfOperation (5), certificateHold (6),
removeFromCRL (8), privilegeWithdrawn <br>
(9), aACompromise (10)</p>

<p style="margin-top: 1em">* Add Invalidity Date
extension:</p>

<p style="margin-top: 1em">The invalidity date is a
non-critical CRL entry extension that provides the date on
which it is known or suspected that the private key was
compromised or that the certificate <br>
otherwise became invalid.</p>

<p style="margin-top: 1em">invalidityDate non-critical
date</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">crlNumber: identifies the name
of an extension non-critical: should be set to 0 since this
is non-critical extension date: invalidity date of a cert.
Date should be represented <br>
in GeneralizedTime format (YYYYMMDDhhmmssZ).</p>

<p style="margin-top: 1em">USAGE <br>
The Certificate Revocation List Management Tool&rsquo;s
capabilities are grouped as follows, using these
combinations of options and arguments. Options and arguments
in square brackets <br>
are optional, those without square brackets are
required.</p>

<p style="margin-top: 1em">See &quot;Implemented
extensions&quot; for more information regarding extensions
and their parameters.</p>

<p style="margin-top: 1em">* Creating or modifying a
CRL:</p>

<p style="margin-top: 1em">crlutil -G|-M -c crl-gen-file -n
nickname [-i crl] [-u url] [-d keydir] [-P dbprefix] [-l
alg] [-a] [-B]</p>

<p style="margin-top: 1em">* Listing all CRls or a named
CRL:</p>

<p style="margin-top: 1em">crlutil -L [-n crl-name] [-d
krydir]</p>

<p style="margin-top: 1em">* Deleting CRL from db:</p>

<p style="margin-top: 1em">crlutil -D -n nickname [-d
keydir] [-P dbprefix]</p>

<p style="margin-top: 1em">* Erasing CRLs from db:</p>

<p style="margin-top: 1em">crlutil -E [-d keydir] [-P
dbprefix]</p>

<p style="margin-top: 1em">* Deleting CRL from db:</p>

<p style="margin-top: 1em">crlutil -D -n nickname [-d
keydir] [-P dbprefix]</p>

<p style="margin-top: 1em">* Erasing CRLs from db:</p>

<p style="margin-top: 1em">crlutil -E [-d keydir] [-P
dbprefix]</p>

<p style="margin-top: 1em">* Import CRL from file:</p>

<p style="margin-top: 1em">crlutil -I -i crl [-t crlType]
[-u url] [-d keydir] [-P dbprefix] [-B]</p>

<p style="margin-top: 1em">SEE ALSO <br>
certutil(1)</p>

<p style="margin-top: 1em">ADDITIONAL RESOURCES <br>
For information about NSS and other tools related to NSS
(like JSS), check out the NSS project wiki at
http://www.mozilla.org/projects/security/pki/nss/. The NSS
site relates <br>
directly to NSS code changes and releases.</p>

<p style="margin-top: 1em">Mailing lists:
https://lists.mozilla.org/listinfo/dev-tech-crypto</p>

<p style="margin-top: 1em">IRC: Freenode at #dogtag-pki</p>

<p style="margin-top: 1em">AUTHORS <br>
The NSS tools were written and maintained by developers with
Netscape, Red Hat, Sun, Oracle, Mozilla, and Google.</p>

<p style="margin-top: 1em">Authors: Elio Maldonado
&lt;emaldona@redhat.com&gt;, Deon Lackey
&lt;dlackey@redhat.com&gt;.</p>

<p style="margin-top: 1em">LICENSE <br>
Licensed under the Mozilla Public License, v. 2.0. If a copy
of the MPL was not distributed with this file, You can
obtain one at http://mozilla.org/MPL/2.0/.</p>

<p style="margin-top: 1em">NOTES <br>
1. Mozilla NSS bug 836477 <br>
https://bugzilla.mozilla.org/show_bug.cgi?id=836477</p>

<p style="margin-top: 1em">nss-tools 5 June 2014
CRLUTIL(1)</p>
<hr>
</body>
</html>
