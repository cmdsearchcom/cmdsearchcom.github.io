<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>sfcbd(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">sfcbd(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">sfcbd(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
sfcbd - Small-Footprint CIM Broker (sfcb)
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>sfcbd</b> [ <i>options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
sfcb is a lightweight CIM daemon (aka CIMOM) that responds to CIM client
  requests for system management data and/or performs system management tasks.
  sfcb supports most of the standard CIM XML over http/https protocol. It is
  highly modular, allowing functionality to be easily added, removed or
  customized for different management applications. sfcb is specifically
  targetted for small embedded system that do not have the available CPU, memory
  or disk resources to support a full-blown enterprise-level CIMOM. That said,
  sfcb runs very well on a regular Linux/Unix system and supports most of the
  functions required by CIM clients to manage such the system. Supported CIM
  operations include:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <table class="tbl">
      <colgroup>
        <col style="width: 25.00ex;"/>
        <col style="width: 0.00ex;"/>
      </colgroup>
      <tr>
        <td>GetClass</td>
        <td></td>
      </tr>
      <tr>
        <td>EnumerateClasses</td>
        <td></td>
      </tr>
      <tr>
        <td>EnumerateClassNames</td>
        <td></td>
      </tr>
      <tr>
        <td>GetInstance</td>
        <td></td>
      </tr>
      <tr>
        <td>DeleteInstance</td>
        <td></td>
      </tr>
      <tr>
        <td>CreateInstance</td>
        <td></td>
      </tr>
      <tr>
        <td>ModifyInstance</td>
        <td></td>
      </tr>
      <tr>
        <td>EnumerateInstances</td>
        <td></td>
      </tr>
      <tr>
        <td>EnumerateInstanceNames</td>
        <td></td>
      </tr>
      <tr>
        <td>InvokeMethod (MethodCall)</td>
        <td></td>
      </tr>
      <tr>
        <td>ExecQuery</td>
        <td></td>
      </tr>
      <tr>
        <td>Associators</td>
        <td></td>
      </tr>
      <tr>
        <td>AssociatorNames</td>
        <td></td>
      </tr>
      <tr>
        <td>References</td>
        <td></td>
      </tr>
      <tr>
        <td>ReferenceNames</td>
        <td></td>
      </tr>
    </table>
  </dd>
</dl>
<div class="Pp"></div>
CIM process and lifecycle indications (aka 'events') are also supported.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Supported command line options are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--config-file</b>=<i>FILE</i></dt>
  <dd class="It-tag">Specify an alternative configuration file. Default=
      <i>/etc/sfcb/sfcb.cfg</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--daemon</b></dt>
  <dd class="It-tag">Run sfcbd (and child processes) in the background.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Print help message and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b>, <b>--color-trace</b></dt>
  <dd class="It-tag">-k, --color-trace Color the trace output of each
    process</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--collect-stats</b></dt>
  <dd class="It-tag">Turn on runtime statistics collecting. If enabled then
      various sfcbd runtime statistics will be written to <i>./sfcbStat</i>.
      Default is no statistics are collected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--trace-components</b>=<i>NUM</i></dt>
  <dd class="It-tag">Activate component-level tracing messages, where <i>NUM</i>
      is an OR-ed bitmask integer defining which component to trace. Specifying
      &quot;-t ?&quot; will list all the components and their associated integer
      bitmask.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--version</b></dt>
  <dd class="It-tag">Prints version information and exits.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONFIGURATION_FILE"><a class="selflink" href="#CONFIGURATION_FILE">CONFIGURATION
  FILE</a></h1>
sfcbd reads the configuration file <i>/etc/sfcb/sfcb.cfg</i> (or the file
  specified with the -c option) at start up. The configuration file contains
  <i>option : value</i> pairs, one per line. For a complete list of options, see
  the default configuration file included with the sfcb package.
<dl class="Bl-tag">
  <dt class="It-tag"><b>httpPort</b></dt>
  <dd class="It-tag">Local port that sfcbd should listen to receive HTTP (i.e.
      insecure) requests from CIM clients. Default= <i>5988</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>enableHttp</b></dt>
  <dd class="It-tag">Whether sfcb should accept HTTP client connections.
      Default= <i>true</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>httpProcs</b></dt>
  <dd class="It-tag">Maximum number of simultaneous HTTP client connections
      before blocking new incoming HTTP requests. Default= <i>8</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>httpsPort</b></dt>
  <dd class="It-tag">Local port that sfcbd should listen to receive HTTPS (i.e.
      secure) requests from CIM clients. Default= <i>5989</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>enableHttps</b></dt>
  <dd class="It-tag">Whether sfcb should accept HTTPS client connections.
      Default= <i>false</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>httpsProcs</b></dt>
  <dd class="It-tag">Maximum number of simultaneous HTTPS client connections
      before blocking new incoming HTTPS requests. Default= <i>8</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>enableInterOp</b></dt>
  <dd class="It-tag">Whether sfcb should provide the interop namespace for
      indication support. Default= <i>true</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>provProcs</b></dt>
  <dd class="It-tag">Maximum number of simultaneous provider processes. After
      this point if a new incoming request requires loading a new provider, then
      one of the existing providers will first be automatically unloaded.
      Default= <i>32</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>doBasicAuth</b></dt>
  <dd class="It-tag">Perform basic authentication on the client userid (obtained
      from the HTTP/HTTPS header) before allowing the request. Default=
      <i>false</i> (i.e. no client authentication performed).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>basicAuthLib</b></dt>
  <dd class="It-tag">Name of the local library to call to authenticate the
      client userid. Default= <i>sfcBasicAuthentication</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>useChunking</b></dt>
  <dd class="It-tag">Tell sfcbd to use HTTP/HTTPS 'chunking' to return large
      volumes of response data to the client in 'chunks', rather than buffering
      the data and sending it back all at once. Default= <i>true</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>keepaliveTimeout</b></dt>
  <dd class="It-tag">Specify the maximum time in seconds an sfcb HTTP process
      will wait between two requests on one connection before terminating.
      Setting it to 0 will disable HTTP keep-alive. Default= <i>0</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>keepaliveMaxRequest</b></dt>
  <dd class="It-tag">Specify the maximum number of consecutive request on one
      connection. Setting it to 0 will effectively disable HTTP keep-alive.
      Default= <i>10</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>registrationDir</b></dt>
  <dd class="It-tag">Specify the registration directory, which contains the
      provider registration data, the staging area and the static repository.
      Default= <i>/var/lib/sfcb/registration</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>providerDirs</b></dt>
  <dd class="It-tag">A space separated list of directories where sfcb is looking
      for provider libraries. Default= <i>/usr/lib&#x00A0;/usr/lib/cmpi
      /usr/lib64&#x00A0;/usr/lib64/cmpi</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>providerSampleInterval</b></dt>
  <dd class="It-tag">The interval in seconds at which the provider manager is
      checking for idle providers. Default: <i>30</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>providerTimeoutInterval</b></dt>
  <dd class="It-tag">The interval in seconds before an idle provider gets
      unloaded by the provider manager. Default: <i>60</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>providerAutoGroup</b></dt>
  <dd class="It-tag">If set to true, all providers residing in the same shared
      library will be executed in the same process unless another group has been
      specified in the provider registration file. Default: <i>true</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sslCertificateFilePath</b></dt>
  <dd class="It-tag">Specify the name of the file containing the server's
      certificate. The file must be in PEM format. This file is only required if
      enableHttps is set to <i>true</i>. Default=<i>
    /etc/sfcb/server.pem</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sslKeyFilePath</b></dt>
  <dd class="It-tag">Specify the name of the file containing the private key for
      the server's certificate. The file must be in PEM format and may not be
      passphrase-protected. This file is only required if enableHttps is set to
      <i>true</i>. Default=<i>/etc/sfcb/file.pem</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sslClientTrustStore</b></dt>
  <dd class="It-tag">Specify the name of the file or directory containing either
      the CA certificate issuing client certificates or self-signed certificates
      of the clients. This setting is only required if sslClientCertificate is
      set to <i>accept</i> or <i>require</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If a file, it must be in PEM format.
    <div style="height: 1.00em;">&#x00A0;</div>
    If a directory, it must be in &quot;hash format&quot;: each file in the
      directory should be named <i>hash.0</i>, where <i>hash</i> is the output
      of <i>openssl x509 -hash</i>. See the <i>-CApath</i> option in
      <i>verify(1)</i> from the <i>openssl</i> package for more information
      about the hash format.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default= <i>/etc/sfcb/client.pem</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sslClientCertificate</b></dt>
  <dd class="It-tag">Specify the way sfcb handles client certificate based
      authentication. If set to <i>ignore</i> it will not request a certificate
      from the client. If set to <i>accept</i> it will request a certificate
      from the client but not fail if the client doesn't present one. If set to
      <i>require</i> it will refuse the client connection if the client doesn't
      present a certificate. Default= <i>ignore</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>certificateAuthLib</b></dt>
  <dd class="It-tag">Name of the local library to call for client-certificate
      based user authentication. Called only if sslClientCertificate is not set
      to <i>ignore</i>. Default=<i>sfcCertificateAuthentication</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>traceLevel</b></dt>
  <dd class="It-tag">Specify the trace level for sfcb. Can be overriden by
      setting environment variable SFCB_TRACE_LEVEL. Default: <i>0</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>traceMask</b></dt>
  <dd class="It-tag">Specify the trace mask for sfcb. Can be overriden by the
      command line option --trace-components. Default: <i>0</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>traceFile</b></dt>
  <dd class="It-tag">Specify the trace file for sfcb. Can be overriden by
      setting environment variable SFCB_TRACE_FILE. Default: <i>stderr</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SFCB_PAUSE_PROVIDER</b></dt>
  <dd class="It-tag">Specifies the name of the provider to pause after first
      being loaded to facilitate attaching a runtime debugger to the provider's
      process for debugging purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SFCB_PAUSE_CODEC</b></dt>
  <dd class="It-tag">Specifies the name of the sfcb codec (currently only
      &quot;http&quot;) to pause after first being started to facilitate
      attaching a runtime debugger to the process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SFCB_TRACE</b></dt>
  <dd class="It-tag">Specifies the level of trace/debug messages for sfcb. Valid
      values are 0 (no trace messages), or 1 (key trace messages only) to 4 (all
      messages). A default value of 1 will be assumed, if this variable is not
      set.
    <div>&#x00A0;</div>
    [Note: SFCB_TRACE level is used in conjunction with sfcb's component-level
      tracing to control the level of detail of trace messages to display within
      each component]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SFCB_TRACE_FILE</b></dt>
  <dd class="It-tag">By default sfcb trace messages are written to STDERR.
      Setting this envorinment variable causes the trace messages to be written
      to a file instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SFCB_TRAP</b></dt>
  <dd class="It-tag">If set this environment variable enables trap interrupts on
      x86 platforms to be generated by sfcb in special situations.
    <div>&#x00A0;</div>
    [Note: not currently ever used]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SBLIM_TRACE</b></dt>
  <dd class="It-tag">Specifies the level of trace/debug messages for SBLIM
      providers. Valid values are 0 (no trace messages), or 1 (key trace
      messages only) to 4 (all messages).
    <div>&#x00A0;</div>
    [Note: this only applies to SBLIM providers written with explicit trace
      messages in their source code.]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SBLIM_TRACE_FILE</b></dt>
  <dd class="It-tag">By default SBLIM provider trace messages are written to
      STDERR. Setting this envorinment variable causes the trace messages to be
      written to a file instead.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/sfcb/sfcb.cfg</i></dt>
  <dd class="It-tag">Default sfcb configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/sfcb/server.pem</i></dt>
  <dd class="It-tag">SSL server certificate for sfcb.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/sfcb/file.pem</i></dt>
  <dd class="It-tag">SSL private key file for sfcb.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/sfcb/client.pem</i></dt>
  <dd class="It-tag">SSL client certificate / trust store for sfcb.</dd>
</dl>
<h1 class="Sh" title="Sh" id="LIBRARIES"><a class="selflink" href="#LIBRARIES">LIBRARIES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/usr/lib/libsfc* /usr/lib64/libsfc*</i></dt>
  <dd class="It-tag">Binaries for sfcb runtime libraries.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/usr/lib/cmpi/* /usr/lib64/cmpi/*</i></dt>
  <dd class="It-tag">Binaries for providers.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Adrian Schuur &lt;schuur@de.ibm.com&gt;
<h1 class="Sh" title="Sh" id="CONRIBUTORS"><a class="selflink" href="#CONRIBUTORS">CONRIBUTORS</a></h1>
<table class="tbl">
  <colgroup>
    <col style="width: 44.00ex;"/>
    <col style="width: 0.00ex;"/>
  </colgroup>
  <tr>
    <td>Dr. Gareth S. Bestor &lt;bestor@us.ibm.com&gt;,</td>
    <td></td>
  </tr>
  <tr>
    <td>Viktor Mihajlovski &lt;MIHAJLOV@de.ibm.com&gt;,</td>
    <td></td>
  </tr>
  <tr>
    <td>Chris Buccella &lt;buccella@linux.vnet.ibm.com&gt;</td>
    <td></td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The SBLIM project maintains a mailing list to which you should direct all
  questions regarding sfcb, sfcc, wbemcli, or any of the SBLIM providers. To
  subscribe to this mailing list visit
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">http://lists.sourceforge.net/lists/listinfo/sblim-devel</dd>
</dl>
<div class="Pp"></div>
The SBLIM Project Bug tracking page can be found at
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">http://sourceforge.net/tracker/?group_id=128809&amp;atid=712784</dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
(C) Copyright IBM Corp. 2004, 2005, 2009
<h1 class="Sh" title="Sh" id="AVAILABILITY"><a class="selflink" href="#AVAILABILITY">AVAILABILITY</a></h1>
The Small-Footprint CIM Broker (sfcb) is a part of the SBLIM project. The most
  recent version is available on the web at
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">http://sblim.sourceforge.net/</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>sfcbmof</b>(1), <b>sfcbstage</b>(1), <b>sfcbunstage</b>(1),
  <b>sfcbrebos</b>(1), <b>genSslCert.sh</b>(1), <b>getSchema.sh</b>(1),
  <b>wbemcli</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 2009</td>
    <td class="foot-os">sfcb Version 1.3.16</td>
  </tr>
</table>
</body>
</html>
