<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PKCS15-CRYPT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PKCS15-CRYPT(1)</td>
    <td class="head-vol">OpenSC Tools</td>
    <td class="head-rtitle">PKCS15-CRYPT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pkcs15-crypt - perform crypto operations using PKCS#15 smart cards
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 13.00ex; text-indent: -13.00ex;"><b>pkcs15-crypt</b>
  [ <i>OPTIONS</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>pkcs15-crypt</b> utility can be used from the command line to perform
  cryptographic operations such as computing digital signatures or decrypting
  data, using keys stored on a PKCS#15 compliant smart card.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--aid</b> <i>aid</i>
<div style="margin-left: 4.00ex;">Specify the AID of the on-card PKCS#15
  application to bind to. The <i>aid</i> must be in hexadecimal form.</div>
<div class="Pp"></div>
<b>--decipher</b>, <b>-c</b>
<div style="margin-left: 4.00ex;">Decrypt the contents of the file specified by
  the <b>--input</b> option. The result of the decryption operation is written
  to the file specified by the <b>--output</b> option. If this option is not
  given, the decrypted data is printed to standard output, displaying
  non-printable characters using their hex notation xNN (see also
  <b>--raw</b>).</div>
<div class="Pp"></div>
<b>--input</b> <i>file</i>, <b>-i</b> <i>file</i>
<div style="margin-left: 4.00ex;">Specifies the input file to use.</div>
<div class="Pp"></div>
<b>--key</b> <i>id</i>, <b>-k</b> <i>id</i>
<div style="margin-left: 4.00ex;">Selects the ID of the key to use.</div>
<div class="Pp"></div>
<b>--output</b> <i>file</i>, <b>-o</b> <i>file</i>
<div style="margin-left: 4.00ex;">Any output will be sent to the specified
  file.</div>
<div class="Pp"></div>
<b>--pin</b> <i>pin</i>, <b>-p</b> <i>pin</i>
<div style="margin-left: 4.00ex;">When the cryptographic operation requires a
  PIN to access the key, <b>pkcs15-crypt</b> will prompt the user for the PIN on
  the terminal. Using this option allows you to specify the PIN on the command
  line.
<div style="height: 1.00em;">&#x00A0;</div>
Note that on most operating systems, the command line of a process can be
  displayed by any user using the ps(1) command. It is therefore a security risk
  to specify secret information such as PINs on the command line. If you specify
  '-' as PIN, it will be read from STDIN.</div>
<div class="Pp"></div>
<b>--pkcs1</b>
<div style="margin-left: 4.00ex;">By default, <b>pkcs15-crypt</b> assumes that
  input data has been padded to the correct length (i.e. when computing an RSA
  signature using a 1024 bit key, the input must be padded to 128 bytes to match
  the modulus length). When giving the <b>--pkcs1</b> option, however,
  <b>pkcs15-crypt</b> will perform the required padding using the algorithm
  outlined in the PKCS #1 standard version 1.5.</div>
<div class="Pp"></div>
<b>--raw</b>, <b>-R</b>
<div style="margin-left: 4.00ex;">Outputs raw 8 bit data.</div>
<div class="Pp"></div>
<b>--reader</b> <i>N</i>, <b>-r</b> <i>N</i>
<div style="margin-left: 4.00ex;">Selects the <i>N</i>-th smart card reader
  configured by the system. If unspecified, <b>pkcs15-crypt</b> will use the
  first reader found.</div>
<div class="Pp"></div>
<b>--sha-1</b>
<div style="margin-left: 4.00ex;">This option tells <b>pkcs15-crypt</b> that the
  input file is the result of an SHA1 hash operation, rather than an MD5 hash.
  Again, the data must be in binary representation.</div>
<div class="Pp"></div>
<b>--sign</b>, <b>-s</b>
<div style="margin-left: 4.00ex;">Perform digital signature operation on the
  data read from a file specified using the <b>--input</b> option. By default,
  the contents of the file are assumed to be the result of an MD5 hash
  operation. Note that <b>pkcs15-crypt</b> expects the data in binary
  representation, not ASCII.
<div style="height: 1.00em;">&#x00A0;</div>
The digital signature is stored, in binary representation, in the file specified
  by the <b>--output</b> option. If this option is not given, the signature is
  printed on standard output, displaying non-printable characters using their
  hex notation x <i>NN</i> (see also <b>--raw</b>).</div>
<div class="Pp"></div>
<b>--verbose</b>, <b>-v</b>
<div style="margin-left: 4.00ex;">Causes <b>pkcs15-crypt</b> to be more verbose.
  Specify this flag several times to enable debug output in the OpenSC
  library.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pkcs15-init</b>(1), <b>pkcs15-tool</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">11/05/2016</td>
    <td class="foot-os">opensc</td>
  </tr>
</table>
</body>
</html>
