<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ALSALOOP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ALSALOOP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">ALSALOOP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
alsaloop - command-line PCM loopback
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>alsaloop</b> [<i>-option</i>] [<i>cmd</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>alsaloop</b> allows create a PCM loopback between a PCM capture device and a
  PCM playback device.
<div style="height: 1.00em;">&#x00A0;</div>
<b>alsaloop</b> supports multiple soundcards, adaptive clock synchronization,
  adaptive rate resampling using the samplerate library (if available in the
  system). Also, mixer controls can be redirected from one card to another (for
  example Master and PCM).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-h</i> | <i>--help</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Prints the help information.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-g &lt;file&gt;</i> | <i>--config=&lt;file&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Use given configuration file. The syntax of this file is simple: one line
      contains the command line options for one job. The '#' means comment and
      rest of line is ignored. Example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     # First line - comment, second line - first job
    <br/>
     -C hw:1,0 -P hw:0,0 -t 50000 -T 1
    <br/>
     # Third line - comment, fourth line - second job
    <br/>
     -C hw:1,1 -P hw:0,1 -t 40000 -T 2
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-d</i> | <i>--daemonize</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Daemonize the main process and use syslog for messages.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-P &lt;device&gt;</i> |
    <i>--pdevice=&lt;device&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Use given playback device.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-C &lt;device&gt;</i> |
    <i>--cdevice=&lt;device&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Use given capture device.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-X &lt;device&gt;</i> |
    <i>--pctl=&lt;device&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Use given CTL device for playback.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-Y &lt;device&gt;</i> |
    <i>--cctl=&lt;device&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Use given CTL device for capture.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-l &lt;latency&gt;</i> |
    <i>--latency=&lt;frames&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Requested latency in frames.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-t &lt;usec&gt;</i> |
    <i>--tlatency=&lt;usec&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Requested latency in usec (1/1000000sec).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-f &lt;format&gt;</i> |
    <i>--format=&lt;format&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Format specification (usually S16_LE S32_LE). Use -h to list all formats.
      Default format is S16_LE.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-c &lt;channels&gt;</i> |
    <i>--channels=&lt;channels&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Channel count specification. Default value is 2.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-c &lt;rate&gt;</i> | <i>--rate=&lt;rate&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Rate specification. Default value is 48000 (Hz).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-n</i> | <i>--resample</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Allow rate resampling using alsa-lib.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-A &lt;converter&gt;</i> |
    <i>--samplerate=&lt;converter&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Use libsamplerate and choose a converter:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     0 or sincbest - best quality
    <br/>
     1 or sincmedium - medium quality
    <br/>
     2 or sincfastest - lowest quality
    <br/>
     3 or zerohold - hold zero samples
    <br/>
     4 or linear - worst quality - linear resampling
    <br/>
     5 or auto - choose best method
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-B &lt;size&gt;</i> | <i>--buffer=&lt;size&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Buffer size in frames.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-E &lt;size&gt;</i> | <i>--period=&lt;size&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Period size in frames.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-s &lt;secs&gt;</i> | <i>--seconds=&lt;secs&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Duration of loop in seconds.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-b</i> | <i>--nblock</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Non-block mode (very early process wakeup). Eats more CPU.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-S &lt;mode&gt;</i> | <i>--sync=&lt;mode&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Sync mode specification for capture to playback stream:
    <br/>
     0 or none - do not touch the stream
    <br/>
     1 or simple - add or remove samples to keep
    <br/>
     both streams synchronized
    <br/>
     2 or captshift - use driver for the capture device
    <br/>
     (if supported) to compensate
    <br/>
     the rate shift
    <br/>
     3 or playshift - use driver for the playback device
    <br/>
     (if supported) to compensate
    <br/>
     the rate shift
    <br/>
     4 or samplerate - use samplerate library to do rate resampling
    <br/>
     5 or auto - automatically selects the best method
    <br/>
     in this order: captshift, playshift,
    <br/>
     samplerate, simple
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-T &lt;num&gt;</i> | <i>--thread=&lt;num&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Thread number (-1 means create a unique thread). All jobs with same thread
      numbers are run within one thread.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-m &lt;mixid&gt;</i> | <i>--mixer=&lt;midid&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Redirect mixer control from the playback card to the capture card. Format of
      <i>mixid</i> is SRCID(PLAYBACK)[@DSTID(PLAYBACK)]:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     &quot;name='Master Playback Switch'@name='Another Switch'&quot;
    <br/>
     &quot;name='PCM Playback Volume'&quot;
    <div style="height: 1.00em;">&#x00A0;</div>
    Known attributes:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     name - control ID name
    <br/>
     index - control ID index
    <br/>
     device - control ID device
    <br/>
     subdevice - control ID subdevice
    <br/>
     iface - control ID interface
    <br/>
     numid - control ID numid
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-O &lt;ossmixid&gt;</i> |
    <i>--ossmixer=&lt;midid&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Redirect mixer control from the OSS Mixer emulation layer (capture card) to
      the ALSA layer (capture card). Format of <i>ossmixid</i> is
      ALSAID[,INDEX]@OSSID:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     &quot;Master@VOLUME&quot;
    <br/>
     &quot;PCM,1@ALTPCM&quot;
    <div style="height: 1.00em;">&#x00A0;</div>
    Known OSS attributes:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     VOLUME, BASS, TREBLE, SYNTH, PCM, SPEAKER, LINE, MIC, CD, IMIX, ALTPCM,
    <br/>
     RECLEV, IGAIN, OGAIN, LINE1, LINE2, LINE3, DIGITAL1, DIGITAL2, DIGITAL3,
    <br/>
     PHONEIN, PHONEOUT, VIDEO, RADIO, MONITOR
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-v</i> | <i>--verbose</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Verbose mode. Use multiple times to increase verbosity.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-U</i> | <i>--xrun</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Verbose xrun profiling.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-W &lt;timeout&gt;</i> |
    <i>--wake=&lt;timeout&gt;</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Set process wake timeout.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>alsaloop -C hw:0,0 -P hw:1,0 -t 50000</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
None known.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>alsaloop</b> is by Jaroslav Kysela &lt;perex@perex.cz&gt;. This document is
  by Jaroslav Kysela &lt;perex@perex.cz&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">5 Aug 2010</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
