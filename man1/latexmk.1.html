<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:21:21 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LATEXMK(1) General Commands Manual LATEXMK(1)</p>

<p style="margin-top: 1em">NAME <br>
latexmk - generate LaTeX document</p>

<p style="margin-top: 1em">SYNOPSIS <br>
latexmk [options] [file ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Latexmk completely automates the process of compiling a
LaTeX document. Essentially, it is like a specialized
relative of the general make utility, but one which
determines <br>
dependencies automatically and has some other very useful
features. In its basic mode of operation latexmk is given
the name of the primary source file for a document, and it
<br>
issues the appropriate sequence of commands to generate a
.dvi, .ps, .pdf and/or hardcopy version of the document.</p>

<p style="margin-top: 1em">By default latexmk will run the
commands necessary to generate a .dvi file.</p>

<p style="margin-top: 1em">Latexmk can also be set to run
continuously with a suitable previewer. In that case the
latex program (or one of its relatives), etc, are rerun
whenever one of the source files <br>
is modified, and the previewer automatically updates the
on-screen view of the compiled document.</p>

<p style="margin-top: 1em">Latexmk determines which are the
source files by examining the log file. (Optionally, it also
examines the list of input and output files generated by the
-recorder option of <br>
modern versions of latex (and pdflatex, xelatex, lualatex,
etc). See the documentation for the -recorder option of
latexmk below.) When latexmk is run, it examines properties
<br>
of the source files, and if any have been changed since the
last document generation, latexmk will run the various LaTeX
processing programs as necessary. In particular, it will
<br>
repeat the run of latex (or a related program)) often enough
to resolve all cross references; depending on the macro
packages used. With some macro packages and document <br>
classes, four, or even more, runs may be needed. If
necessary, latexmk will also run bibtex, biber, and/or
makeindex. In addition, latexmk can be configured to
generate other <br>
necessary files. For example, from an updated figure file it
can automatically generate a file in encapsulated postscript
or another suitable format for reading by LaTeX.</p>

<p style="margin-top: 1em">Latexmk has two different
previewing options. With the simple -pv option, a dvi,
postscript or pdf previewer is automatically run after
generating the dvi, postscript or pdf <br>
version of the document. The type of file to view is
selected according to configuration settings and command
line options.</p>

<p style="margin-top: 1em">The second previewing option is
the powerful -pvc option (mnemonic: &quot;preview
continuously&quot;). In this case, latexmk runs
continuously, regularly monitoring all the source files <br>
to see if any have changed. Every time a change is detected,
latexmk runs all the programs necessary to generate a new
version of the document. A good previewer will then
auto&acirc; <br>
matically update its display. Thus the user can simply edit
a file and, when the changes are written to disk, latexmk
completely automates the cycle of updating the .dvi (and/or
<br>
the .ps and .pdf) file, and refreshing the previewer&rsquo;s
display. It&rsquo;s not quite WYSIWYG, but usefully
close.</p>

<p style="margin-top: 1em">For other previewers, the user
may have to manually make the previewer update its display,
which can be (e.g., with some versions of xdvi and gsview)
as simple as forcing a <br>
redraw of its display.</p>

<p style="margin-top: 1em">Latexmk has the ability to print
a banner in gray diagonally across each page when making the
postscript file. It can also, if needed, call an external
program to do other post&acirc; <br>
processing on generated dvi and postscript files. (See the
options -dF and -pF, and the documentation for the
$dvi_filter and $ps_filter configuration variables.) These
capa&acirc; <br>
bilities are leftover from older versions of latexmk. More
flexibility can be obtained in current versions, since the
command strings for running latex, pdflatex, etc can now be
<br>
configured to run multiple commands. This also extends the
possibility of postprocessing generated files.</p>

<p style="margin-top: 1em">Latexmk is highly configurable,
both from the command line and in configuration files, so
that it can accommodate a wide variety of user needs and
system configurations. Default <br>
values are set according to the operating system, so latexmk
often works without special configuration on MS-Windows,
cygwin, Linux, OS-X, and other UNIX systems.</p>

<p style="margin-top: 1em">A very annoying complication
handled very reliably by latexmk, is that LaTeX is a
multiple pass system. On each run, LaTeX reads in
information generated on a previous run, for <br>
things like cross referencing and indexing. In the simplest
cases, a second run of LaTeX suffices, and often the log
file contains a message about the need for another pass.
<br>
However, there is a wide variety of add-on macro packages to
LaTeX, with a variety of behaviors. The result is to break
simple-minded determinations of how many runs are needed
<br>
and of which programs. Latexmk has a highly general and
efficient solution to these issues. The solution involves
retaining between runs information on the source files, and
a <br>
symptom is that latexmk generates an extra file (with
extension .fdb_latexmk, by default) that contains the source
file information.</p>

<p style="margin-top: 1em">LATEXMK OPTIONS AND ARGUMENTS ON
COMMAND LINE <br>
In general the command line to invoke latexmk has the
form</p>

<p style="margin-top: 1em">latexmk [options] [file]</p>

<p style="margin-top: 1em">All options can be introduced by
single or double &quot;-&quot; characters, e.g.,
&quot;latexmk -help&quot; or &quot;latexmk --help&quot;.</p>

<p style="margin-top: 1em">Note 1: In addition to the
options in the list below, latexmk recognizes almost all the
options recognized by the latex, pdflatex programs (and
their relatives) in their current <br>
TeXLive and MiKTeX implementations. Some of the options for
these programs also trigger special action or behavior by
latexmk, in which case they have specific explanations in
<br>
this document. Otherwise, they are just passed through to a
called latex or pdflatex program. Run latexmk with the
-showextraoptions to get a list of the options that latexmk
<br>
accepts and that are simply passed through to latex or
pdflatex (etc). See also the explanation of the
-showextraoptions option for more information.</p>

<p style="margin-top: 1em">Note 2: In this documentation,
the program pdflatex is often referred to. Users of programs
like lualatex and xelatex should know that from
latexmk&rsquo;s point of view, these other <br>
programs behave very like pdflatex, i.e., they make a pdf
file from a tex file, etc. So whenever pdflatex is mentioned
without mention of the other programs, the statements <br>
apply equally to lualatex, xelatex, and any other similar
programs. Latexmk can be easily configured to use whichever
of these programs is needed. See the documentation for the
<br>
following options: -pdflua, -pdfxe, -lualatex, and -xelatex,
and also see the documentation for the $pdflatex, $lualatex,
and $xelatex configuration variables. At present <br>
latexmk does not do automatic detection of which program is
to be used.</p>

<p style="margin-top: 1em">Definitions of options and
arguments</p>

<p style="margin-top: 1em">file One or more files can be
specified. If no files are specified, latexmk will, by
default, run on all files in the current working directory
with a &quot;.tex&quot; extension. This <br>
behavior can be changed: see the description concerning the
@default_files variable in the section &quot;List of
configuration variables usable in initialization
files&quot;.</p>

<p style="margin-top: 1em">If a file is specified without
an extension, then the &quot;.tex&quot; extension is
automatically added, just as LaTeX does. Thus, if you
specify:</p>

<p style="margin-top: 1em">latexmk foo</p>

<p style="margin-top: 1em">then latexmk will operate on the
file &quot;foo.tex&quot;.</p>

<p style="margin-top: 1em">-auxdir=FOO or
-aux-directory=FOO <br>
Sets the directory for auxiliary output files of (pdf)latex
(.aux, .log etc). This achieves its effect by the
-aux-directory option of (pdf)latex, which currently is only
<br>
implemented on the MiKTeX version of (pdf)latex.</p>

<p style="margin-top: 1em">See also the
-outdir/-output-directory options, and the $aux_dir,
$out_dir, and $search_path_separator configuration variables
of latexmk. In particular, see the documen&acirc; <br>
tation of $out_dir for some complications on what directory
names are suitable.</p>

<p style="margin-top: 1em">If you also use the -cd option,
and the specified auxiliary output directory is a relative
path, then the path is interpreted relative to the document
directory.</p>

<p style="margin-top: 1em">-bibtex <br>
When the source file uses bbl files for bibliography, run
bibtex or biber as needed to regenerate the bbl files.</p>

<p style="margin-top: 1em">This property can also be
configured by setting the $bibtex_use variable to 2 in a
configuration file</p>

<p style="margin-top: 1em">-bibtex- <br>
Never run bibtex or biber.</p>

<p style="margin-top: 1em">A common use for this option is
when a document comes from an external source, complete with
its bbl file(s), and the user does not have the
corresponding bib files avail&acirc; <br>
able. In this situation use of the -bibtex- option will
prevent latexmk from trying to run bibtex or biber, which
would result in overwriting of the bbl files.</p>

<p style="margin-top: 1em">-bibtex-cond <br>
When the source file uses bbl file(s) for the bibliography,
run bibtex or biber as needed to regenerate the bbl files,
but only if the relevant bib file(s) exist. Thus <br>
when the bib files are not available, bibtex or biber is not
run, thereby avoiding overwriting of the bbl file(s). This
is the default setting.</p>

<p style="margin-top: 1em">(Note that it is possible for
latexmk to decide that the bib file does not exist, even
though the bib file does exist and bibtex or biber finds it.
The problem is that <br>
the bib file may not be in the current directory but in some
search path; the places latexmk and bibtex or biber cause to
be searched need not be identical. On modern <br>
installations of TeX and related programs this problem
should not arise, since latexmk uses the kpsewhich program
to do the search, and kpsewhich should use the same <br>
search path as bibtex and biber. If this problem arises, use
the -bibtex option when invoking latexmk.)</p>

<p style="margin-top: 1em">-bm &lt;message&gt; <br>
A banner message to print diagonally across each page when
converting the dvi file to postscript. The message must be a
single argument on the command line so be careful <br>
with quoting spaces and such.</p>

<p style="margin-top: 1em">Note that if the -bm option is
specified, the -ps option is assumed.</p>

<p style="margin-top: 1em">-bi &lt;intensity&gt; <br>
How dark to print the banner message. A decimal number
between 0 and 1. 0 is black and 1 is white. The default is
0.95, which is OK unless your toner cartridge is get&acirc;
<br>
ting low.</p>

<p style="margin-top: 1em">-bs &lt;scale&gt; <br>
A decimal number that specifies how large the banner message
will be printed. Experimentation is necessary to get the
right scale for your message, as a rule of thumb the <br>
scale should be about equal to 1100 divided by the number of
characters in the message. The default is 220.0 which is
just right for 5 character messages.</p>

<p style="margin-top: 1em">-commands <br>
List the commands used by latexmk for processing files, and
then exit.</p>

<p style="margin-top: 1em">-c Clean up (remove) all
regeneratable files generated by latex and bibtex or biber
except dvi, postscript and pdf. These files are a
combination of log files, aux files, <br>
latexmk&rsquo;s database file of source file information,
and those with extensions specified in the @generated_exts
configuration variable. In addition, files specified by the
<br>
$clean_ext configuration variable are removed.</p>

<p style="margin-top: 1em">This cleanup is instead of a
regular make. See the -gg option if you want to do a cleanup
then a make.</p>

<p style="margin-top: 1em">If $bibtex_use is set to 0 or 1,
bbl files are counted as non-regeneratable.</p>

<p style="margin-top: 1em">If
$cleanup_includes_cusdep_generated is nonzero, regeneratable
files are considered as including those generated by custom
dependencies and are also deleted. Otherwise <br>
these files are not deleted.</p>

<p style="margin-top: 1em">-C Clean up (remove) all
regeneratable files generated by latex and bibtex or biber.
This is the same as the -c option with the addition of dvi,
postscript and pdf files, <br>
and those specified in the $clean_full_ext configuration
variable.</p>

<p style="margin-top: 1em">This cleanup is instead of a
regular make. See the -gg option if you want to do a cleanup
than a make.</p>

<p style="margin-top: 1em">If $bibtex_use is set to 0 or 1,
bbl files are counted as non-regeneratable.</p>

<p style="margin-top: 1em">If
$cleanup_includes_cusdep_generated is nonzero, regeneratable
files are considered as including those generated by custom
dependencies and are also deleted. Otherwise <br>
these files are not deleted.</p>

<p style="margin-top: 1em">-CA (Obsolete). Now equivalent
to the -C option. See that option for details.</p>

<p style="margin-top: 1em">-cd Change to the directory
containing the main source file before processing it. Then
all the generated files (aux, log, dvi, pdf, etc) will be
relative to the source file.</p>

<p style="margin-top: 1em">This option is particularly
useful when latexmk is invoked from a GUI configured to
invoke latexmk with a full pathname for the source file.</p>

<p style="margin-top: 1em">-cd- Do NOT change to the
directory containing the main source file before processing
it. Then all the generated files (aux, log, dvi, pdf, etc)
will be relative to the cur&acirc; <br>
rent directory rather than the source file.</p>

<p style="margin-top: 1em">This is the default behavior and
corresponds to the behavior of the latex and pdflatex
programs. However, it is not desirable behavior when latexmk
is invoked by a GUI <br>
configured to invoke latexmk with a full pathname for the
source file. See the -cd option.</p>

<p style="margin-top: 1em">-CF Remove the file containing
the database of source file information, before doing the
other actions requested.</p>

<p style="margin-top: 1em">-d Set draft mode. This prints
the banner message &quot;DRAFT&quot; across your page when
converting the dvi file to postscript. Size and intensity
can be modified with the -bs and <br>
-bi options. The -bm option will override this option as
this is really just a short way of specifying:</p>

<p style="margin-top: 1em">latexmk -bm DRAFT</p>

<p style="margin-top: 1em">Note that if the -d option is
specified, the -ps option is assumed.</p>

<p style="margin-top: 1em">-deps Show a list of dependent
files after processing. This is in the form of a dependency
list of the form used by the make program, and it is
therefore suitable for use in a <br>
Makefile. It gives an overall view of the files without
listing intermediate files, as well as latexmk can determine
them.</p>

<p style="margin-top: 1em">By default the list of dependent
files is sent to stdout (i.e., normally to the screen unless
you&rsquo;ve redirected latexmk&rsquo;s output). But you can
set the filename where the <br>
list is sent by the -deps-out= option.</p>

<p style="margin-top: 1em">See the section &quot;USING
latexmk WITH make&quot; for an example of how to use a
dependency list with make.</p>

<p style="margin-top: 1em">Users familiar with GNU automake
and gcc will find that the -deps option is very similar in
its purpose and results to the -M option to gcc. (In fact,
latexmk also has <br>
options -M, -MF, and -MP options that behave like those of
gcc.)</p>

<p style="margin-top: 1em">-dependents <br>
Equivalent to -deps.</p>

<p style="margin-top: 1em">-deps- Do not show a list of
dependent files after processing. (This is the default.)</p>

<p style="margin-top: 1em">-dependents- <br>
Equivalent to -deps-.</p>

<p style="margin-top: 1em">-deps-out=FILENAME <br>
Set the filename to which the list of dependent files is
written. If the FILENAME argument is omitted or set to
&quot;-&quot;, then the output is sent to stdout.</p>

<p style="margin-top: 1em">Use of this option also turns on
the output of the list of dependent files after
processing.</p>

<p style="margin-top: 1em">-dF Dvi file filtering. The
argument to this option is a filter which will generate a
filtered dvi file with the extension &quot;.dviF&quot;. All
extra processing (e.g. conversion to <br>
postscript, preview, printing) will then be performed on
this filtered dvi file.</p>

<p style="margin-top: 1em">Example usage: To use dviselect
to select only the even pages of the dvi file:</p>

<p style="margin-top: 1em">latexmk -dF &quot;dviselect
even&quot; foo.tex</p>

<p style="margin-top: 1em">-diagnostics <br>
Print detailed diagnostics during a run. This may help for
debugging problems or to understand latexmk&rsquo;s behavior
in difficult situations.</p>

<p style="margin-top: 1em">-dvi Generate dvi version of
document.</p>

<p style="margin-top: 1em">-dvi- Turn off generation of dvi
version of document. (This may get overridden, if some other
file is made (e.g., a .ps file) that is generated from the
dvi file, or if no gen&acirc; <br>
erated file at all is requested.)</p>

<p style="margin-top: 1em">-e &lt;code&gt; <br>
Execute the specified initialization code before processing.
The code is Perl code of the same form as is used in
latexmk&rsquo;s initialization files. For more details, see
<br>
the information on the -r option, and the section about
&quot;Configuration/initialization (RC) files&quot;. The
code is typically a sequence of assignment statements
separated by <br>
semicolons.</p>

<p style="margin-top: 1em">The code is executed when the -e
option is encountered during latexmk&rsquo;s parsing of its
command line. See the -r option for a way of executing
initialization code from a <br>
file. An error results in latexmk stopping. Multiple
instances of the -r and -e options can be used, and they are
executed in the order they appear on the command line.</p>

<p style="margin-top: 1em">Some care is needed to deal with
proper quoting of special characters in the code on the
command line. For example, suppose you want to set the latex
command to use its <br>
-shell-escape option, then under UNIX/Linux you could use
the line</p>

<p style="margin-top: 1em">latexmk -e &rsquo;$latex=q/latex
%O -shell-escape %S/&rsquo; file.tex</p>

<p style="margin-top: 1em">Note that the single quotes
block normal UNIX/Linux command shells from treating the
characters inside the quotes as special. (In this example,
the q/.../ construct is a <br>
Perl idiom equivalent to using single quotes. This avoids
the complications of getting a quote character inside an
already quoted string in a way that is independent of <br>
both the shell and the operating-system.)</p>

<p style="margin-top: 1em">The above command line will NOT
work under MS-Windows with cmd.exe or command.com or
4nt.exe. For MS-Windows with these command shells you could
use</p>

<p style="margin-top: 1em">latexmk -e &quot;$latex=q/latex
%O -shell-escape %S/&quot; file.tex</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">latexmk -e
&quot;$latex=&rsquo;latex %O -shell-escape %S&rsquo;&quot;
file.tex</p>

<p style="margin-top: 1em">The last two examples will NOT
work with UNIX/Linux command shells.</p>

<p style="margin-top: 1em">(Note: the above examples show
are to show how to use the -e to specify initialization code
to be executed. But the particular effect can be achieved
also by the use of <br>
the -latex option with less problems in dealing with
quoting.)</p>

<p style="margin-top: 1em">-f Force latexmk to continue
document processing despite errors. Normally, when latexmk
detects that LaTeX or another program has found an error
which will not be resolved <br>
by further processing, no further processing is carried
out.</p>

<p style="margin-top: 1em">Note: &quot;Further
processing&quot; means the running of other programs or the
rerunning of latex (etc) that would be done if no errors had
occurred. If instead, or additionally, <br>
you want the latex (etc) program not to pause for user input
after an error, you should arrange this by an option that is
passed to the program, e.g., by latexmk&rsquo;s option <br>
-interaction=nonstopmode.</p>

<p style="margin-top: 1em">-f- Turn off the forced
processing-past-errors such as is set by the -f option. This
could be used to override a setting in a configuration
file.</p>

<p style="margin-top: 1em">-g Force latexmk to process
document fully, even under situations where latexmk would
normally decide that no changes in the source files have
occurred since the previous <br>
run. This option is useful, for example, if you change some
options and wish to reprocess the files.</p>

<p style="margin-top: 1em">-g- Turn off -g.</p>

<p style="margin-top: 1em">-gg &quot;Super go mode&quot; or
&quot;clean make&quot;: clean out generated files as if -C
had been given, and then do a regular make.</p>

<p style="margin-top: 1em">-h, -help <br>
Print help information.</p>

<p style="margin-top: 1em">-jobname=STRING <br>
Set the basename of output files(s) to STRING, instead of
the default, which is the basename of the specified TeX
file.</p>

<p style="margin-top: 1em">This is like the same option for
current implementations of the latex, pdflatex, etc, and the
passing of this option to these programs is part of
latexmk&rsquo;s implementation <br>
of -jobname.</p>

<p style="margin-top: 1em">-l Run in landscape mode, using
the landscape mode for the previewers and the dvi to
postscript converters. This option is not normally needed
nowadays, since current pre&acirc; <br>
viewers normally determine this information
automatically.</p>

<p style="margin-top: 1em">-l- Turn off -l.</p>

<p style="margin-top: 1em">-latex=&quot;COMMAND&quot; <br>
This sets the string specifying the command to run latex,
and is typically used to add desired options. Since the
string normally contains spaces, it should be quoted, <br>
e.g.,</p>

<p style="margin-top: 1em">latexmk -latex=&quot;latex
--shell-escape %O %S&quot; foo.tex</p>

<p style="margin-top: 1em">The specification of the
contents of the string are the same as for the $latex
configuration variable. Depending on your operating system
and the command-line shell you <br>
are using, you may need to change the single quotes to
double quotes (or something else).</p>

<p style="margin-top: 1em">To set the command for running
pdflatex (rather than the command for latex) see the
-pdflatex option.</p>

<p style="margin-top: 1em">-logfilewarninglist <br>
-logfilewarnings After a run of (pdf)latex, give a list of
warnings about undefined citations and references (unless
silent mode is on).</p>

<p style="margin-top: 1em">See also the
$silence_logfile_warnings configuration variable.</p>

<p style="margin-top: 1em">-logfilewarninglist- <br>
-logfilewarnings- After a run of (pdf)latex, do not give a
list of warnings about undefined citations and references.
(Default)</p>

<p style="margin-top: 1em">See also the
$silence_logfile_warnings configuration variable.</p>

<p style="margin-top: 1em">-lualatex <br>
Use lualatex. That is, use lualatex to process the source
file(s) to pdf. The generation of dvi and postscript files
is turned off.</p>

<p style="margin-top: 1em">This option is equivalent to
using the following set of options</p>

<p style="margin-top: 1em">-pdflua -dvi- -ps-</p>

<p style="margin-top: 1em">(Note: Note that the method of
implementation of this option, but not its intended effect,
differ from some earlier versions of latexmk.)</p>

<p style="margin-top: 1em">-M Show list of dependent files
after processing. This is equivalent to the -deps
option.</p>

<p style="margin-top: 1em">-MF file <br>
If a list of dependents is made, the -MF specifies the file
to write it to.</p>

<p style="margin-top: 1em">-MP If a list of dependents is
made, include a phony target for each source file. If you
use the dependents list in a Makefile, the dummy rules work
around errors the program <br>
make gives if you remove header files without updating the
Makefile to match.</p>

<p style="margin-top: 1em">-new-viewer <br>
When in continuous-preview mode, always start a new viewer
to view the generated file. By default, latexmk will, in
continuous-preview mode, test for a previously running <br>
previewer for the same file and not start a new one if a
previous previewer is running. However, its test sometimes
fails (notably if there is an already-running pre&acirc;
<br>
viewer that is viewing a file of the same name as the
current file, but in a different directory). This option
turns off the default behavior.</p>

<p style="margin-top: 1em">-new-viewer- <br>
The inverse of the -new-viewer option. It puts latexmk in
its normal behavior that in preview-continuous mode it
checks for an already-running previewer.</p>

<p style="margin-top: 1em">-nobibtex <br>
Never run bibtex or biber. Equivalent to the -bibtex-
option.</p>

<p style="margin-top: 1em">-norc Turn off the automatic
reading of initialization (rc) files.</p>

<p style="margin-top: 1em">N.B. Normally the initialization
files are read and obeyed, and then command line options are
obeyed in the order they are encountered. But -norc is an
exception to this <br>
rule: it is acted on first, no matter where it occurs on the
command line.</p>

<p style="margin-top: 1em">-outdir=FOO or
-output-directory=FOO</p>

<p style="margin-top: 1em">Sets the directory for the
output files of (pdf)latex. This achieves its effect by the
-output-directory option of (pdf)latex, which currently
(Dec. 2011 and later) is <br>
implemented on the common versions of (pdf)latex, i.e.,
MiKTeX and TeXLive. It may not be present in other
versions.</p>

<p style="margin-top: 1em">See also the
-auxdir/-aux-directory options, and the $aux_dir, $out_dir,
and $search_path_separator configuration variables of
latexmk. In particular, see the documenta&acirc; <br>
tion of $out_dir for some complications on what directory
names are suitable.</p>

<p style="margin-top: 1em">If you also use the -cd option,
and the specified output directory is a relative path, then
the path is interpreted relative to the document
directory.</p>

<p style="margin-top: 1em">-p Print out the document. By
default the file to be printed is the first in the list
postscript, pdf, dvi that is being made. But you can use the
-print=... option to <br>
change the type of file to be printed, and you can configure
this in a start up file (by setting the $print_type
variable).</p>

<p style="margin-top: 1em">However, printing is enabled by
default only under UNIX/Linux systems, where the default is
to use the lpr command and only on postscript files. In
general, the correct <br>
behavior for printing very much depends on your
system&rsquo;s software. In particular, under MS-Windows you
must have suitable program(s) available, and you must have
config&acirc; <br>
ured the print commands used by latexmk. This can be
non-trivial. See the documentation on the $lpr, $lpr_dvi,
and $lpr_pdf configuration variables to see how to set the
<br>
commands for printing.</p>

<p style="margin-top: 1em">This option is incompatible with
the -pv and -pvc options, so it turns them off.</p>

<p style="margin-top: 1em">-pdf Generate pdf version of
document using pdflatex. (If you wish to use lualatex or
xelatex, you can use whichever of the options -pdflua,
-pdfxe, -lualatex or -xelatex <br>
applies.) To configure latexmk to have such behavior by
default, see the section on
&quot;Configuration/initialization (rc) files&quot;.</p>

<p style="margin-top: 1em">-pdfdvi <br>
Generate pdf version of document from the dvi file, by
default using dvipdf.</p>

<p style="margin-top: 1em">-pdflua <br>
Generate pdf version of document using lualatex.</p>

<p style="margin-top: 1em">-pdfps Generate pdf version of
document from the ps file, by default using ps2pdf.</p>

<p style="margin-top: 1em">-pdfxe Generate pdf version of
document using xelatex. Note that to optimize processing
time, latexmk uses xelatex to generate an xdv file rather
than a pdf file directly. Only <br>
after possibly multiple runs to generate a fully up-to-date
xdv does latexmk then call xdvipdfmx to generate the final
pdf file.</p>

<p style="margin-top: 1em">(Note: When the document
includes large graphics files, especially png files, the
last step can be quite time consuming, even when the
creation of the xdv file by xelatex <br>
is fast. So the use of the intermediate xdv file can result
in substantial gains in procesing time, since the pdf file
is produced once rather than on every run of xela&acirc;
<br>
tex.)</p>

<p style="margin-top: 1em">-pdf- Turn off generation of pdf
version of document. (This can be used to override a setting
in a configuration file. It may get overridden if some other
option requires the <br>
generation of a pdf file.)</p>

<p style="margin-top: 1em">If after all options have been
processed, pdf generation is still turned off, then
generation of a dvi file will be turned on, and then the
program used to compiled a doc&acirc; <br>
ument will be latex (or, more precisely, whatever program is
configured to be used in the $latex configuration
variable).</p>

<p style="margin-top: 1em">-pdflatex=&quot;COMMAND&quot;
<br>
This sets the string specifying the command to run pdflatex,
and is typically used to add desired options. Since the
string normally contains spaces, it should be quoted, <br>
e.g.,</p>

<p style="margin-top: 1em">latexmk -pdf
-pdflatex=&quot;pdflatex --shell-escape %O %S&quot;
foo.tex</p>

<p style="margin-top: 1em">The specification of the
contents of the string are the same as for the $pdflatex
configuration variable. Depending on your operating system
and the command-line shell <br>
you are using, you may need to change the single quotes to
double quotes (or something else).</p>

<p style="margin-top: 1em">To set the command for running
latex (rather than the command for pdflatex) see the -latex
option.</p>

<p style="margin-top: 1em">-print=dvi, -print=ps,
-print=pdf, -print=auto, <br>
Define which kind of file is printed. This option also
ensures that the requisite file is made, and turns on
printing.</p>

<p style="margin-top: 1em">The (default) case -print=auto
determines the kind of print file automatically from the set
of files that is being made. The first in the list
postscript, pdf, dvi that <br>
is among the files to be made is the one used for print
out.</p>

<p style="margin-top: 1em">-ps Generate postscript version
of document.</p>

<p style="margin-top: 1em">-ps- Turn off generation of
postscript version of document. This can be used to override
a setting in a configuration file. (It may get overridden by
some other option that <br>
requires a postscript file, for example a request for
printing.)</p>

<p style="margin-top: 1em">-pF Postscript file filtering.
The argument to this option is a filter which will generate
a filtered postscript file with the extension
&quot;.psF&quot;. All extra processing (e.g. <br>
preview, printing) will then be performed on this filtered
postscript file.</p>

<p style="margin-top: 1em">Example of usage: Use psnup to
print two pages on the one page:</p>

<p style="margin-top: 1em">latexmk -ps -pF &rsquo;psnup
-2&rsquo; foo.tex</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">latexmk -ps -pF &quot;psnup
-2&quot; foo.tex</p>

<p style="margin-top: 1em">Whether to use single or double
quotes round the &quot;psnup -2&quot; will depend on your
command interpreter, as used by the particular version of
perl and the operating system on <br>
your computer.</p>

<p style="margin-top: 1em">-pv Run file previewer. If the
-view option is used, this will select the kind of file to
be previewed (dvi, ps or pdf). Otherwise the viewer views
the &quot;highest&quot; kind of <br>
file selected, by the -dvi, -ps, -pdf, -pdfps options, in
the order dvi, ps, pdf (low to high). If no file type has
been selected, the dvi previewer will be used. This <br>
option is incompatible with the -p and -pvc options, so it
turns them off.</p>

<p style="margin-top: 1em">-pv- Turn off -pv.</p>

<p style="margin-top: 1em">-pvc Run a file previewer and
continually update the .dvi, .ps, and/or .pdf files whenever
changes are made to source files (see the Description
above). Which of these files <br>
is generated and which is viewed is governed by the other
options, and is the same as for the -pv option. The
preview-continuous option -pvc can only work with one file.
<br>
So in this case you will normally only specify one filename
on the command line. It is also incompatible with the -p and
-pv options, so it turns these options off.</p>

<p style="margin-top: 1em">The -pvc option also turns off
force mode (-f), as is normally best for continuous preview
mode. If you really want force mode, use the options in the
order -pvc -f.</p>

<p style="margin-top: 1em">With a good previewer the
display will be automatically updated. (Under some but not
all versions of UNIX/Linux &quot;gv -watch&quot; does this
for postscript files; this can be <br>
set by a configuration variable. This would also work for
pdf files except for an apparent bug in gv that causes an
error when the newly updated pdf file is read.) Many <br>
other previewers will need a manual update.</p>

<p style="margin-top: 1em">Important note: the acroread
program on MS-Windows locks the pdf file, and prevents new
versions being written, so it is a bad idea to use acroread
to view pdf files in <br>
preview-continuous mode. It is better to use a different
viewer: SumatraPDF and gsview are good possibilities.</p>

<p style="margin-top: 1em">There are some other methods for
arranging an update, notably useful for many versions of
xdvi and xpdf. These are best set in latexmk&rsquo;s
configuration; see below.</p>

<p style="margin-top: 1em">Note that if latexmk dies or is
stopped by the user, the &quot;forked&quot; previewer will
continue to run. Successive invocations with the -pvc option
will not fork new preview&acirc; <br>
ers, but latexmk will normally use the existing previewer.
(At least this will happen when latexmk is running under an
operating system where it knows how to determine <br>
whether an existing previewer is running.)</p>

<p style="margin-top: 1em">-pvc- Turn off -pvc.</p>

<p style="margin-top: 1em">-quiet Same as -silent</p>

<p style="margin-top: 1em">-r &lt;rcfile&gt; <br>
Read the specified initialization file (&quot;RC file&quot;)
before processing.</p>

<p style="margin-top: 1em">Be careful about the ordering:
(1) Standard initialization files -- see the section below
on &quot;Configuration/initialization (RC) files&quot; --
are read first. (2) Then the <br>
options on the command line are acted on in the order they
are given. Therefore if an initialization file is specified
by the -r option, it is read during this second <br>
step. Thus an initialization file specified with the -r
option can override both the standard initialization files
and previously specified options. But all of these can <br>
be overridden by later options.</p>

<p style="margin-top: 1em">The contents of the RC file just
comprise a piece of code in the Perl programming language
(typically a sequence of assignment statements); they are
executed when the -r <br>
option is encountered during latexmk&rsquo;s parsing of its
command line. See the -e option for a way of giving
initialization code directly on latexmk&rsquo;s command
line. An <br>
error results in latexmk stopping. Multiple instances of the
-r and -e options can be used, and they are executed in the
order they appear on the command line.</p>

<p style="margin-top: 1em">-recorder <br>
Give the -recorder option with latex and pdflatex. In (most)
modern versions of these programs, this results in a file of
extension .fls containing a list of the files <br>
that these programs have read and written. Latexmk will then
use this file to improve its detection of source files and
generated files after a run of latex or pdflatex. <br>
This is the default setting of latexmk, unless overridden in
an initialization file.</p>

<p style="margin-top: 1em">For further information, see the
documentation for the $recorder configuration variable.</p>

<p style="margin-top: 1em">-recorder- <br>
Do not supply the -recorder option with latex and
pdflatex.</p>

<p style="margin-top: 1em">-rules Show a list of
latemk&rsquo;s rules and dependencies after processing.</p>

<p style="margin-top: 1em">-rules- <br>
Do not show a list of latexmk&rsquo;s rules and dependencies
after processing. (This is the default.)</p>

<p style="margin-top: 1em">-showextraoptions <br>
Show the list of extra latex and pdflatex options that
latexmk recognizes, but that it simply passes through to the
programs latex, pdflatex, etc when they are run. <br>
These options are (currently) a combination of those allowed
by the TeXLive and MiKTeX implementations. (If a particular
option is given to latexmk but is not handled by <br>
the particular implementation of latex or pdflatex that is
being used, that program will probably give an error
message.) These options are very numerous, but are not <br>
listed in this documentation because they have no effect on
latexmk&rsquo;s actions.</p>

<p style="margin-top: 1em">There are a few options
(-includedirectory=dir, -initialize, -ini) that are not
recognized, either because they don&rsquo;t fit with
latexmk&rsquo;s intended operations, or because <br>
they need special processing by latexmk that isn&rsquo;t
implemented (at least, not yet).</p>

<p style="margin-top: 1em">There are also options that are
accepted by latex etc, but instead trigger actions by
latexmk: -help, -version.</p>

<p style="margin-top: 1em">Finally, there are certain
options for latex and pdflatex (e.g., -recorder) that
trigger special actions or behavior by latexmk itself as
well as being passed in some form <br>
to the called latex and pdflatex program, or that affect
other programs as well. These options do have entries in
this documentation. These options are: -jobname=STRING, <br>
-aux-directory=dir, -output-directory=DIR, -quiet, and
-recorder.</p>

<p style="margin-top: 1em">-silent <br>
Run commands silently, i.e., with options that reduce the
amount of diagnostics generated. For example, with the
default settings, the command &quot;latex
-interaction=batch&acirc; <br>
mode&quot; is used for (pdf)latex and friends.</p>

<p style="margin-top: 1em">See also the -logfilewarninglist
and -logfilewarninglist- options.</p>

<p style="margin-top: 1em">Also reduce the number of
informational messages that latexmk itself generates.</p>

<p style="margin-top: 1em">To change the options used to
make the commands run silently, you need to configure
latexmk with changed values of its configuration variables,
the relevant ones being <br>
$bibtex_silent_switch, $biber_silent_switch,
$dvipdf_silent_switch, $dvips_silent_switch,
$latex_silent_switch, $lualatex_silent_switch
$makeindex_silent_switch, $pdfla&acirc; <br>
tex_silent_switch, and $xelatex_silent_switch</p>

<p style="margin-top: 1em">-time Show CPU time used. See
also the configuration variable $show_time.</p>

<p style="margin-top: 1em">-time- Do not show CPU time
used. See also the configuration variable $show_time.</p>

<p style="margin-top: 1em">-use-make <br>
When after a run of latex or pdflatex, there are warnings
about missing files (e.g., as requested by the LaTeX input,
include, and includgraphics commands), latexmk <br>
tries to make them by a custom dependency. If no relevant
custom dependency with an appropriate source file is found,
and if the -use-make option is set, then as a last <br>
resort latexmk will try to use the make program to try to
make the missing files.</p>

<p style="margin-top: 1em">Note that the filename may be
specified without an extension, e.g., by
includegraphics{drawing} in a LaTeX file. In that case,
latexmk will try making drawing.ext with <br>
ext set in turn to the possible extensions that are relevant
for latex (or as appropriate pdflatex).</p>

<p style="margin-top: 1em">See also the documentation for
the $use_make_for_missing_files configuration variable.</p>

<p style="margin-top: 1em">-use-make- <br>
Do not use the make program to try to make missing files.
(Default.)</p>

<p style="margin-top: 1em">-v, -version <br>
Print version number of latexmk.</p>

<p style="margin-top: 1em">-verbose <br>
Opposite of -silent. This is the default setting.</p>

<p style="margin-top: 1em">-view=default, -view=dvi,
-view=ps, -view=pdf, -view=none <br>
Set the kind of file used when previewing is requested
(e.g., by the -pv or -pvc switches). The default is to view
the &quot;highest&quot; kind of requested file (in the
low-to- <br>
high order dvi, ps, pdf).</p>

<p style="margin-top: 1em">Note the possibility -view=none
where no viewer is opened at all. One example of is use is
in conjunction with the -pvc option, when you want latexmk
to do a compilation <br>
automatically whenever source file(s) change, but do not
want a previewer to be opened.</p>

<p style="margin-top: 1em">-xelatex <br>
Use xelatex. That is, use xelatex to process the source
file(s) to pdf. The generation of dvi and postscript files
is turned off.</p>

<p style="margin-top: 1em">This option is equivalent to
using the following set of options</p>

<p style="margin-top: 1em">-pdfxe -dvi- -ps-</p>

<p style="margin-top: 1em">[Note: Note that the method of
implementation of this option, but not its intended primary
effect, differ from some earlier versions of latexmk.
Latexmk first uses xelatex <br>
to make an xdv file, and does all the extra runs needed
(including those of bibtex, etc). Only after that does it
make the pdf file from the xdv file, using xdvipdfmx. <br>
This procedure can result in considerable savings in run
time, since the xdv-to-pdf conversion is quite
time-consuming when large graphics files are used in the
document.]</p>

<p style="margin-top: 1em">Compatibility between
options</p>

<p style="margin-top: 1em">The preview-continuous option
-pvc can only work with one file. So in this case you will
normally only specify one filename on the command line.</p>

<p style="margin-top: 1em">Options -p, -pv and -pvc are
mutually exclusive. So each of these options turns the
others off.</p>

<p style="margin-top: 1em">EXAMPLES <br>
% latexmk thesis # run latex enough times to resolve <br>
cross-references</p>

<p style="margin-top: 1em">% latexmk -pvc -ps thesis# run
latex enough times to resolve <br>
cross-references, make a postscript <br>
file, start a previewer. Then <br>
watch for changes in the source <br>
file thesis.tex and any files it <br>
uses. After any changes rerun latex <br>
the appropriate number of times and <br>
remake the postscript file. If latex <br>
encounters an error, latexmk will <br>
keep running, watching for <br>
source file changes.</p>

<p style="margin-top: 1em">% latexmk -c # remove .aux,
.log, .bbl, .blg, .dvi, <br>
.pdf, .ps &amp; .bbl files</p>

<p style="margin-top: 1em">DEALING WITH ERRORS, PROBLEMS,
ETC <br>
Some possibilities:</p>

<p style="margin-top: 1em">a. If you get a strange error,
do look carefully at the output that is on the screen and in
log files. While there is much that is notoriously verbose
in the output of latex <br>
(and that is added to by latexmk), the verbosity is there
for a reason: to enable the user to diagnose problems.
Latexmk does repeat some messages at the end of a run that
it <br>
thinks would otherwise be easy to miss in the middle of
other output.</p>

<p style="margin-top: 1em">b. Generally, remember that
latexmk does its work by running other programs. Your first
priority in dealing with errors should be to examine what
went wrong with the individual <br>
programs. Then you need to correct the causes of errors in
the runs of these programs. (Often these come from errors in
the source document, but they could also be about
miss&acirc; <br>
ing LaTeX packages, etc.)</p>

<p style="margin-top: 1em">c. If latexmk doesn&rsquo;t run
the programs the way you would like, then you need to look
in this documentation at the list of command line options
and then at the sections on config&acirc; <br>
uration/initialization files. A lot of latexmk&rsquo;s
behavior is configurable to deal with particular situations.
(But there is a lot of reading!)</p>

<p style="margin-top: 1em">The remainder of these notes
consists of ideas for dealing with more difficult
situations.</p>

<p style="margin-top: 1em">d. Further tricks can involve
replacing the standard commands that latexmk runs by other
commands or scripts.</p>

<p style="margin-top: 1em">e. For possible examples of code
for use in an RC file, see the directory example_rcfiles in
the distribution of latexmk (e.g., at
http://mirror.ctan.org/support/latexmk/exam&acirc; <br>
ple_rcfiles). Even if these examples don&rsquo;t do what you
want, they may provide suitable inspiration.</p>

<p style="margin-top: 1em">f. There&rsquo;s a useful trick
that can be used when you use lualatex instead of pdflatex
(and in some related situations). The problem is that
latexmk won&rsquo;t notice a dependency on a <br>
file, bar.baz say, that is input by the lua code in your
document instead of by the LaTeX part. (Thus if you change
bar.baz and rerun latexmk, then latexmk will think no files
<br>
have changed and not rerun lualatex, whereas if you had
&rsquo;input{bar.baz}&rsquo; in the LaTeX part of the
document, latexmk would notice the change.) One solution is
just to put the <br>
following somewhere in the LaTeX part of the document:</p>

<p style="margin-top: 1em">ypeout{(bar.baz)}</p>

<p style="margin-top: 1em">This puts a line in the log file
that latexmk will treat as implying that the file bar.baz
was read. (At present I don&rsquo;t know a way of doing this
automatically.) Of course, if <br>
the file has a different name, change bar.baz to the name of
your file.</p>

<p style="margin-top: 1em">g. See also the section ADVANCED
CONFIGURATION: Some extra resources.</p>

<p style="margin-top: 1em">h. Look on tex.stackexchange,
i.e., at
http://tex.stackexchange.com/questions/tagged/latexmk
Someone may have already solved your problem.</p>

<p style="margin-top: 1em">i. Ask a question at
tex.stackexchange.com.</p>

<p style="margin-top: 1em">j. Or ask me (the author of
latexmk). My e-mail is at the end of this documentation.</p>

<p style="margin-top: 1em">CONFIGURATION/INITIALIZATION
(RC) FILES <br>
Latexmk can be customized using initialization files, which
are read at startup in the following order:</p>

<p style="margin-top: 1em">1) The system RC file, if it
exists. <br>
On a UNIX system, latexmk searches for following places for
its system RC file, in the following order, and reads the
first it finds: <br>
&quot;/opt/local/share/latexmk/LatexMk&quot;, <br>
&quot;/usr/local/share/latexmk/LatexMk&quot;, <br>
&quot;/usr/local/lib/latexmk/LatexMk&quot;. <br>
On a Fedora system, it only looks for
&quot;/etc/latexmk.conf&quot;. <br>
On a MS-Windows system it looks for &quot;C:exmkexMk&quot;.
<br>
On a cygwin system (i.e., a MS-Windows system in which Perl
is that of cygwin), latexmk reads the first it finds of <br>
&quot;/cygdrive/c/latexmk/LatexMk&quot;, <br>
&quot;/opt/local/share/latexmk/LatexMk&quot;, <br>
&quot;/usr/local/share/latexmk/LatexMk&quot;, <br>
&quot;/usr/local/lib/latexmk/LatexMk&quot;.</p>

<p style="margin-top: 1em">In addition, it then tries the
same set of locations, but with the file name replaced
&quot;LatexMk&quot; replaced by &quot;latexmkrc&quot;.</p>

<p style="margin-top: 1em">2) The user&rsquo;s RC file, if
it exists. This can be in one of two places. The traditional
one is &quot;.latexmkrc&quot; in the user&rsquo;s home
directory. The other possibility is <br>
&quot;latexmk/latexmkrc&quot; in the user&rsquo;s XDG
configuration home directory. The actual file read is the
first of &quot;$XDG_CONFIG_HOME/latexmk/latexmkrc&quot; or
&quot;$HOME/.latexmkrc&quot; which exists. <br>
(See
https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html
for details on the XDG Base Directory Specification.)</p>

<p style="margin-top: 1em">Here $HOME is the user&rsquo;s
home directory. [Latexmk determines the user&rsquo;s home
directory as follows: It is the value of the environment
variable HOME, if this variable exists, <br>
which normally is the case on UNIX-like systems (including
Linux and OS-X). Otherwise the environment variable
USERPROFILE is used, if it exists, which normally is the
case on <br>
MS-Windows systems. Otherwise a blank string is used instead
of $HOME, in which case latexmk does not look for an RC file
in it.]</p>

<p style="margin-top: 1em">$XDG_CONFIG_HOME is the value of
the environment variable XDG_CONFIG_HOME if it exists. If
this environment variable does not exist, but $HOME is
non-blank, then $XDG_CON&acirc; <br>
FIG_HOME is set to the default value of $HOME/.config.
Otherwise $XDG_CONFIG_HOME is blank, and latexmk does not
look for an RC file under it.</p>

<p style="margin-top: 1em">3) The RC file in the current
working directory. This file can be named either
&quot;latexmkrc&quot; or &quot;.latexmkrc&quot;, and the
first of these to be found is used, if any.</p>

<p style="margin-top: 1em">4) Any RC file(s) specified on
the command line with the -r option.</p>

<p style="margin-top: 1em">Each RC file is a sequence of
Perl commands. Naturally, a user can use this in creative
ways. But for most purposes, one simply uses a sequence of
assignment statements that <br>
override some of the built-in settings of Latexmk.
Straightforward cases can be handled without knowledge of
the Perl language by using the examples in this document as
tem&acirc; <br>
plates. Comment lines are introduced by the &quot;#&quot;
character.</p>

<p style="margin-top: 1em">Note that command line options
are obeyed in the order in which they are written; thus any
RC file specified on the command line with the -r option can
override previous options <br>
but can be itself overridden by later options on the command
line. There is also the -e option, which allows
initialization code to be specified in latexmk&rsquo;s
command line.</p>

<p style="margin-top: 1em">For possible examples of code
for in an RC file, see the directory example_rcfiles in the
distribution of latexmk (e.g., at
http://mirror.ctan.org/support/latexmk/exam&acirc; <br>
ple_rcfiles).</p>

<p style="margin-top: 1em">HOW TO SET VARIABLES IN
INITIALIZATION FILES <br>
The important variables that can be configured are described
in the section &quot;List of configuration variables usable
in initialization files&quot;. Syntax for setting these
variables <br>
is of the following forms:</p>

<p style="margin-top: 1em">$bibtex = &rsquo;bibtex %O
%B&rsquo;;</p>

<p style="margin-top: 1em">for the setting of a string
variable,</p>

<p style="margin-top: 1em">$preview_mode = 1;</p>

<p style="margin-top: 1em">for the setting of a numeric
variable, and</p>

<p style="margin-top: 1em">@default_files =
(&rsquo;paper&rsquo;, &rsquo;paper1&rsquo;);</p>

<p style="margin-top: 1em">for the setting of an array of
strings. It is possible to append an item to an array
variable as follows:</p>

<p style="margin-top: 1em">push @default_files,
&rsquo;paper2&rsquo;;</p>

<p style="margin-top: 1em">Note that simple
&quot;scalar&quot; variables have names that begin with a $
character and array variables have names that begin with a @
character. Each statement ends with a semicolon.</p>

<p style="margin-top: 1em">Strings should be enclosed in
single quotes. (You could use double quotes, as in many
programming languages. But then the Perl programming
language brings into play some spe&acirc; <br>
cial rules for interpolating variables into strings. People
not fluent in Perl will want to avoid these
complications.)</p>

<p style="margin-top: 1em">You can do much more complicated
things, but for this you will need to consult a manual for
the Perl programming language.</p>

<p style="margin-top: 1em">FORMAT OF COMMAND SPECIFICATIONS
<br>
Some of the variables set the commands that latexmk uses for
carrying out its work, for example to generate a dvi file
from a tex file or to view a postscript file. This section
<br>
describes some important features of how the commands are
specified. (Note that some of the possibilities listed here
do not apply to the $kpsewhich variable; see its
documenta&acirc; <br>
tion.)</p>

<p style="margin-top: 1em">Placeholders: Supposed you
wanted latexmk to use the command elatex in place of the
regular latex command, and suppose moreover that you wanted
to give it the option &quot;--shell- <br>
escape&quot;. You could do this by the following
setting:</p>

<p style="margin-top: 1em">$latex = &rsquo;elatex
--shell-escape %O %S&rsquo;;</p>

<p style="margin-top: 1em">The two items starting with the
% character are placeholders. These are substituted by
appropriate values before the command is run. Thus %S will
be replaced by the source file <br>
that elatex will be applied to, and %O will be replaced by
any options that latexmk has decided to use for this
command. (E.g., if you used the -silent option in the
invocation <br>
of latexmk, it results in the replacement of %O by
&quot;-interaction=batchmode&quot;.)</p>

<p style="margin-top: 1em">The available placeholders
are:</p>

<p style="margin-top: 1em">%B base of filename for current
command. E.g., if a postscript file document.ps is being
made from the dvi file document.dvi, then the basename is
document.</p>

<p style="margin-top: 1em">%D destination file (e.g., the
name of the postscript file when converting a dvi file to
postscript).</p>

<p style="margin-top: 1em">%O options</p>

<p style="margin-top: 1em">%R root filename. This is the
base name for the main tex file.</p>

<p style="margin-top: 1em">%S source file (e.g., the name
of the dvi file when converting a dvi file to ps).</p>

<p style="margin-top: 1em">%T The name of the primary tex
file.</p>

<p style="margin-top: 1em">%Y Name of directory for
auxiliary output files (see the configuration variable
$aux_dir). A directory separation character
(&rsquo;/&rsquo;) is appended if $aux_dir is non-empty and
<br>
does not end in a suitable character, with suitable
characters being those appropriate to UNIX and MS-Windows,
i.e., &rsquo;:&rsquo;, &rsquo;/&rsquo; and &rsquo;&acute;.
Note that if after initialization, <br>
$out_dir is set, but $aux_dir is not set (i.e., it is
blank), then latexmk sets $aux_dir to the same value
$out_dir.</p>

<p style="margin-top: 1em">%Z Name of directory for output
files (see the configuration variable $out_dir). A directory
separation character (&rsquo;/&rsquo;) is appended if
$out_dir is non-empty and does not end <br>
in a suitable character, with suitable characters being
those appropriate to UNIX and MS-Windows, i.e.,
&rsquo;:&rsquo;, &rsquo;/&rsquo; and &rsquo;&acute;.</p>

<p style="margin-top: 1em">If for some reason you need a
literal % character in your string not subject to the above
rules, use &quot;%%&quot;.</p>

<p style="margin-top: 1em">Appropriate quoting will be
applied to the filename substitutions, so you mustn&rsquo;t
supply them yourself even if the names of your files have
spaces in them. (But if your TeX <br>
filenames have spaces in them, beware that many versions of
the TeX program cannot correctly handle filenames containing
spaces.) In case latexmk&rsquo;s quoting does not work
cor&acirc; <br>
rectly on your system, you can turn it off -- see the
documentation for the variable $quote_filenames.</p>

<p style="margin-top: 1em">The distinction between %B and
%R needs a bit of care, since they are often the same, but
not always. For example on a simple document, the basename
of a bibtex run is the same <br>
as for the texfile. But in a document with several
bibliographies, the bibliography files will have a variety
of names. Since bibtex is invoked with the basename of the
bibli&acirc; <br>
ography file, the setting for the bibtex command should
therefore be</p>

<p style="margin-top: 1em">$bibtex = &rsquo;bibtex %O
%B&rsquo;;</p>

<p style="margin-top: 1em">Generally, you should use %B
rather than %R. Similarly for most purposes, the name %T of
the primary texfile is not a useful placeholder.</p>

<p style="margin-top: 1em">See the default values in the
section &quot;List of configuration variables usable in
initialization files&quot; for what is normally the most
appropriate usage.</p>

<p style="margin-top: 1em">If you omit to supply any
placeholders whatever in the specification of a command,
latexmk will supply what its author thinks are appropriate
defaults. This gives compatibility <br>
with configuration files for previous versions of latexmk,
which didn&rsquo;t use placeholders.</p>

<p style="margin-top: 1em">&quot;Detaching&quot; a command:
Normally when latexmk runs a command, it waits for the
command to run to completion. This is appropriate for
commands like latex, of course. But for pre&acirc; <br>
viewers, the command should normally run detached, so that
latexmk gets the previewer running and then returns to its
next task (or exits if there is nothing else to do). To <br>
achieve this effect of detaching a command, you need to
precede the command name with &quot;start &quot;, as in</p>

<p style="margin-top: 1em">$dvi_previewer = &rsquo;start
xdvi %O %S&rsquo;;</p>

<p style="margin-top: 1em">This will be translated to
whatever is appropriate for your operating system.</p>

<p style="margin-top: 1em">Notes: (1) In some
circumstances, latexmk will always run a command detached.
This is the case for a previewer in preview continuous mode,
since otherwise previewing continu&acirc; <br>
ously makes no sense. (2) This precludes the possibility of
running a command named start. (3) If the word start occurs
more than once at the beginning of the command string, <br>
that is equivalent to having just one. (4) Under cygwin,
some complications happen, since cygwin amounts to a
complicated merging of UNIX and MS-Windows. See the source
code <br>
for how I&rsquo;ve handled the problem.</p>

<p style="margin-top: 1em">Command names containing spaces:
Under MS-Windows it is common that the name of a command
includes spaces, since software is often installed in a
subdirectory of &quot;C:Program <br>
Files&quot;. Such command names should be enclosed in double
quotes, as in</p>

<p style="margin-top: 1em">$lpr_pdf =
&rsquo;&quot;c:/Program
Files/Ghostgum/gsview/gsview32.exe&quot; /p %S&rsquo;; <br>
$pdf_previewer = &rsquo;start &quot;c:/Program
Files/SumatraPDF/SumatraPDF.exe&quot; %O %S&rsquo;; <br>
$pdf_previewer = &rsquo;start &quot;c:/Program
Files/SumatraPDF (x86)/SumatraPDF.exe&quot; %O
%S&rsquo;;</p>

<p style="margin-top: 1em">(Note about the above example:
Under MS-Windows forward slashes are equivalent to
backslashes in a filename under almost all circumstances,
provided that the filename is inside <br>
double quotes. It is easier to use forward slashes in
examples like the one above, since then one does not have to
worry about the rules for dealing with forward slashes in
<br>
strings in the Perl language.)</p>

<p style="margin-top: 1em">Command names under Cygwin: If
latexmk is executed by Cygwin&rsquo;s Perl, be particularly
certain that pathnames in commands have forward slashes not
the usual backslashes for the <br>
separator of pathname components. See the above examples.
Backslashes often get misinterpreted by the Unix shell used
by Cygwin&rsquo;s Perl to execute external commands. Forward
<br>
slashes don&rsquo;t suffer from this problem, and (when
quoted, as above) are equally acceptable to MS-Windows.</p>

<p style="margin-top: 1em">Using MS-Windows file
associations: A useful trick under modern versions of
MS-Windows (e.g., WinXP) is to use just the command
&rsquo;start&rsquo; by itself:</p>

<p style="margin-top: 1em">$dvi_previewer = &rsquo;start
%S&rsquo;;</p>

<p style="margin-top: 1em">Under MS-Windows, this will
cause to be run whatever program the system has associated
with dvi files. (The same applies for a postscript viewer
and a pdf viewer.) But note <br>
that this trick is not always suitable for the pdf previwer,
if your system has acroread for the default pdf viewer. As
explained elsewhere, acroread under MS-Windows does not <br>
work well with latex and latexmk, because acroread locks the
pdf file.</p>

<p style="margin-top: 1em">Not using a certain command: If
a command is not to be run, the command name NONE is used,
as in</p>

<p style="margin-top: 1em">$lpr = &rsquo;NONE
lpr&rsquo;;</p>

<p style="margin-top: 1em">This typically is used when an
appropriate command does not exist on your system. The
string after the &quot;NONE&quot; is effectively a
comment.</p>

<p style="margin-top: 1em">Options to commands: Setting the
name of a command can be used not only for changing the name
of the command called, but also to add options to command.
Suppose you want latexmk <br>
to use latex with source specials enabled. Then you might
use the following line in an initialization file:</p>

<p style="margin-top: 1em">$latex = &rsquo;latex
--src-specials %O %S&rsquo;;</p>

<p style="margin-top: 1em">Running a subroutine instead of
an external command: Use a specification starting with
&quot;internal&quot;, as in</p>

<p style="margin-top: 1em">$latex = &rsquo;internal mylatex
%O %S&rsquo;; <br>
sub mylatex { <br>
my @args = @_; <br>
# Possible preprocessing here <br>
return system &rsquo;latex&rsquo;, @args; <br>
}</p>

<p style="margin-top: 1em">For some of the more exotic
possibilities that then become available, see the section
&quot;ADVANCED CONFIGURATION: Some extra resources and
advanced tricks&quot;. Also see some of the <br>
examples in the directory example_rcfiles in the latexmk
distribution.</p>

<p style="margin-top: 1em">Advanced tricks: Normally one
specifies a single command for the commands invoked by
latexmk. Naturally, if there is some complicated additional
processing you need to do in <br>
your special situation, you can write a script (or batch
file) to do the processing, and then configure latexmk to
use your script in place of the standard program.</p>

<p style="margin-top: 1em">You can also use a Perl
subroutine instead of a script -- see above. This is
generally the most flexible and portable solution.</p>

<p style="margin-top: 1em">It is also possible to configure
latexmk to run multiple commands. For example, if when
running pdflatex to generate a pdf file from a tex file you
need to run another program <br>
after pdflatex to perform some extra processing, you could
do something like:</p>

<p style="margin-top: 1em">$pdflatex = &rsquo;pdflatex
--shell-escape %O %S; pst2pdf_for_latexmk %B&rsquo;;</p>

<p style="margin-top: 1em">This definition assumes you are
using a UNIX-like system (which includes Linux and OS-X), so
that the two commands to be run are separated by the
semicolon in the middle of the <br>
string.</p>

<p style="margin-top: 1em">If you are using MS-Windows, you
would replace the above line by</p>

<p style="margin-top: 1em">$pdflatex = &rsquo;cmd /c
pdflatex --shell-escape %O %S&rsquo; <br>
. &rsquo;&amp;&amp; pst2pdf_for_latexmk %B&rsquo;;</p>

<p style="margin-top: 1em">Here, the UNIX command separator
; is replaced by &amp;&amp;. In addition, there is a problem
that some versions of Perl on MS-Windows do not obey the
command separator; this problem is <br>
overcome by explicitly invoking the MS-Windows command-line
processor cmd.exe.</p>

<p style="margin-top: 1em">LIST OF CONFIGURATION VARIABLES
USABLE IN INITIALIZATION FILES <br>
Default values are indicated in brackets.</p>

<p style="margin-top: 1em">$always_view_file_via_temporary
[0] <br>
Whether ps and pdf files are initially to be made in a
temporary directory and then moved to the final location.
(This applies to dvips, dvipdf, and ps2pdf operations, <br>
and the filtering operators on dvi and ps files. It does not
apply to pdflatex, unfortunately, since pdflatex provides no
way of specifying a chosen name for the output <br>
file.)</p>

<p style="margin-top: 1em">This use of a temporary file
solves a problem that the making of these files can occupy a
substantial time. If a viewer (notably gv) sees that the
file has changed, it <br>
may read the new file before the program writing the file
has not yet finished its work, which can cause havoc.</p>

<p style="margin-top: 1em">See the
$pvc_view_file_via_temporary variable for a setting that
applies only if preview-continuous mode (-pvc option) is
used. See $tmpdir for the setting of the direc&acirc; <br>
tory where the temporary file is created.</p>

<p style="margin-top: 1em">$auto_rc_use [1] <br>
Whether to automatically read the standard initialization
(rc) files, which are the system RC file, the user&rsquo;s
RC file, and the RC file in the current directory. The
com&acirc; <br>
mand line option -norc can be used to turn this setting off.
Each RC file could also turn this setting off, i.e., it
could set $auto_rc_use to zero to prevent automatic <br>
reading of the later RC files.</p>

<p style="margin-top: 1em">This variable does not affect
the reading of RC files specified on the command line by the
-r option.</p>

<p style="margin-top: 1em">$aux_dir [&quot;&quot;] <br>
The directory in which auxiliary files (aux, log, etc) are
to be written by a run of (pdf)latex. If this variable is
not set, but $out_dir is set, then $aux_dir is set to <br>
$out_dir, which is the directory to which general output
files are to be written.</p>

<p style="margin-top: 1em">Important note: The effect of
$aux_dir, if different from $out_dir, is achieved by giving
(pdf)latex the -aux-directory. Currently (Dec. 2011 and
later) this only works <br>
on the MiKTeX version of (pdf)latex.</p>

<p style="margin-top: 1em">See also the documentation of
$out_dir for some complications on what directory names are
suitable.</p>

<p style="margin-top: 1em">If you also use the -cd option,
and $out_dir (or $aux_dir) contains a relative path, then
the path is interpreted relative to the document
directory.</p>

<p style="margin-top: 1em">$banner [0] <br>
If nonzero, the banner message is printed across each page
when converting the dvi file to postscript. Without
modifying the variable $banner_message, this is equivalent
<br>
to specifying the -d option.</p>

<p style="margin-top: 1em">Note that if $banner is nonzero,
the $postscript_mode is assumed and the postscript file is
always generated, even if it is newer than the dvi file.</p>

<p style="margin-top: 1em">$banner_intensity [0.95] <br>
Equivalent to the -bi option, this is a decimal number
between 0 and 1 that specifies how dark to print the banner
message. 0 is black, 1 is white. The default is just <br>
right if your toner cartridge isn&rsquo;t running too
low.</p>

<p style="margin-top: 1em">$banner_message
[&quot;DRAFT&quot;] <br>
The banner message to print across each page when converting
the dvi file to postscript. This is equivalent to the -bm
option.</p>

<p style="margin-top: 1em">$banner_scale [220.0] <br>
A decimal number that specifies how large the banner message
will be printed. Experimentation is necessary to get the
right scale for your message, as a rule of thumb the <br>
scale should be about equal to 1100 divided by the number of
characters in the message. The Default is just right for 5
character messages. This is equivalent to the -bs <br>
option.</p>

<p style="margin-top: 1em">@BIBINPUTS <br>
This is an array variable, now mostly obsolete, that
specifies directories where latexmk should look for .bib
files. By default it is set from the BIBINPUTS environment
<br>
variable of the operating system. If that environment
variable is not set, a single element list consisting of the
current directory is set. The format of the directory <br>
names depends on your operating system, of course. Examples
for setting this variable are:</p>

<p style="margin-top: 1em">@BIBINPUTS = ( &quot;.&quot;,
&quot;C:\bibfiles&quot; );b <br>
@BIBINPUTS = ( &quot;.&quot;, &quot;\serverfles&quot; );
<br>
@BIBINPUTS = ( &quot;.&quot;, &quot;C:/bibfiles&quot; );
<br>
@BIBINPUTS = ( &quot;.&quot;, &quot;//server/bibfiles&quot;
); <br>
@BIBINPUTS = ( &quot;.&quot;,
&quot;/usr/local/texmf/bibtex/bib&quot; );</p>

<p style="margin-top: 1em">Note that under MS Windows,
either a forward slash &quot;/&quot; or a backward slash
&quot; <br>
are equivalent. Each backward slash should be doubled to
avoid running afoul of Perl&rsquo;s rules for writing
strings.</p>

<p style="margin-top: 1em">Important note: This variable is
now mostly obsolete in the current version of latexmk, since
it has a better method of searching for files using the
kpsewhich command. <br>
However, if your system is an unusual one without the
kpsewhich command, you may need to set the variable
@BIBINPUTS.</p>

<p style="margin-top: 1em">$biber [&quot;biber %O %S&quot;]
<br>
The biber processing program.</p>

<p style="margin-top: 1em">$biber_silent_switch
[&quot;--onlylog&quot;] <br>
Switch(es) for the biber processing program when silent mode
is on.</p>

<p style="margin-top: 1em">$bibtex [&quot;bibtex %O
%S&quot;] <br>
The BibTeX processing program.</p>

<p style="margin-top: 1em">$bibtex_silent_switch
[&quot;-terse&quot;] <br>
Switch(es) for the BibTeX processing program when silent
mode is on.</p>

<p style="margin-top: 1em">$bibtex_use [1] <br>
Under what conditions to run bibtex or biber. When latexmk
discovers from the log file that one (or more)
bibtex/biber-generated bibliographies are used, it can run
bib&acirc; <br>
tex or biber whenever it appears necessary to regenerate the
bbl file(s) from their source bib database file(s).</p>

<p style="margin-top: 1em">But sometimes, the bib file(s)
are not available (e.g., for a document obtained from an
external archive), but the bbl files are provided. In that
case use of bibtex or <br>
biber will result in incorrect overwriting of the precious
bbl files. The variable $bibtex_use controls whether this
happens. Its possible values are: 0: never use Bib&acirc;
<br>
TeX or biber. 1: only use bibtex or biber if the bib files
exist. 2: run bibtex or biber whenever it appears necessary
to update the bbl files, without testing for the <br>
existence of the bib files.</p>


<p style="margin-top: 1em">$cleanup_includes_cusdep_generated
[0] <br>
If nonzero, specifies that cleanup also deletes files that
are generated by custom dependencies. (When doing a clean
up, e.g., by use of the -C option, custom dependen&acirc;
<br>
cies are those listed in the .fdb_latexmk file from a
previous run.)</p>

<p style="margin-top: 1em">$cleanup_includes_generated [0]
<br>
If nonzero, specifies that cleanup also deletes files that
are detected in log file as being generated (see the e <br>
files made from these first generation generated files.</p>

<p style="margin-top: 1em">$cleanup_mode [0] <br>
If nonzero, specifies cleanup mode: 1 for full cleanup, 2
for cleanup except for dvi, ps and pdf files, 3 for cleanup
except for dep and aux files. (There is also extra <br>
cleaning as specified by the $clean_ext, $clean_full_ext and
@generated_exts variables.)</p>

<p style="margin-top: 1em">This variable is equivalent to
specifying one of the -c or -C options. But there should be
no need to set this variable from an RC file.</p>

<p style="margin-top: 1em">$clean_ext [&quot;&quot;] <br>
Extra extensions of files for latexmk to remove when any of
the clean-up options (-c or -C) is selected. The value of
this variable is a string containing the extensions <br>
separated by spaces.</p>

<p style="margin-top: 1em">It is also possible to specify a
more general pattern of file to be deleted, by using the
place holder %R, as in commands, and it is also possible to
use wildcards. Thus <br>
setting</p>

<p style="margin-top: 1em">$clean_ext = &quot;out
%R-blx.bib %R-figures*.log&quot;;</p>

<p style="margin-top: 1em">in an initialization file will
imply that when a clean-up operation is specified, not only
is the standard set of files deleted, but also files of the
form FOO.out, FOO- <br>
blx.bib, and %R-figures*.log, where FOO stands for the
basename of the file being processed (as in FOO.tex).</p>

<p style="margin-top: 1em">$clean_full_ext [&quot;&quot;]
<br>
Extra extensions of files for latexmk to remove when the -C
option is selected, i.e., extensions of files to remove when
the .dvi, etc files are to be cleaned-up.</p>

<p style="margin-top: 1em">More general patterns are
allowed, as for $clean_ext.</p>

<p style="margin-top: 1em">$compiling_cmd [undefined],
$failure_cmd [undefined], $success_cmd [undefined]</p>

<p style="margin-top: 1em">These variables specify commands
that are executed at certain points of compilations during
preview-continuous mode. One motivation for their existance
is to allow conve&acirc; <br>
nient visual indications of compilation status even when the
window receiving the screen output of the compilation is
hidden.</p>

<p style="margin-top: 1em">The commands are executed at the
following points: $compiling_cmd at the start of
compilation, $success_cmd at the end of a successful
compilation, and $failure_cmd at the <br>
end of an unsuccessful compilation. If any of above
variables is undefined (the default situation) or blank,
then the corresponding command is not executed.</p>

<p style="margin-top: 1em">An example of a typical setting
of these variables is as follows</p>

<p style="margin-top: 1em">$compiling_cmd = &quot;xdotool
search --name <br>
$success_cmd = &quot;xdotool search --name <br>
$failure_cmd = &quot;xdotool search --name</p>

<p style="margin-top: 1em">These assume that the program
xdotool is installed, that the previewer is using an
X-Window system for display, and that the title of the
window contains the name of the <br>
displayed file, as it normally does. When the commands are
executed, the placeholder string %D is replaced by the name
of the destination file, which is the previewed <br>
file. The above commands result in an appropriate string
being appended to the filename in the window title: &quot;
compiling&quot;, &quot; OK&quot;, or &quot;
FAILURE&quot;.</p>

<p style="margin-top: 1em">Other placeholders that can be
used are %S, %T, and %R, with %S and %T normally being
identical. These can be useful for a command changing the
title of the edit window. <br>
The visual indication in a window title can useful, since
the user does not have to keep shifting attention to the
(possibly hidden) compilation window to know the status <br>
of the compilation.</p>

<p style="margin-top: 1em">@cus_dep_list [()] <br>
Custom dependency list -- see section on &quot;Custom
Dependencies&quot;.</p>

<p style="margin-top: 1em">@default_excluded_files [()]
<br>
When latexmk is invoked with no files specified on the
command line, then, by default, it will process all files in
the current directory with the extension .tex. (In <br>
general, it will process the files specified in the
@default_files variable.)</p>

<p style="margin-top: 1em">But sometimes you want to
exclude particular files from this default list. In that
case you can specify the excluded files in the array
@default_excluded_files. For <br>
example if you wanted to process all .tex files with the
exception of common.tex, which is a not a standard alone
LaTeX file but a file input by some or all of the others,
<br>
you could do</p>

<p style="margin-top: 1em">@default_files =
(&quot;*.tex&quot;);</p>

<p style="margin-top: 1em">@default_excluded_files =
(&quot;common.tex&quot;);</p>

<p style="margin-top: 1em">If you have a variable or large
number of files to be processed, this method saves you from
having to list them in detail in @default_files and having
to update the list <br>
every time you change the set of files to be processed.</p>

<p style="margin-top: 1em">Notes: 1. This variable has no
effect except when no files are specified on the latexmk
command line. 2. Wildcards are allowed in
@default_excluded_files.</p>

<p style="margin-top: 1em">@default_files
[(&quot;*.tex&quot;)] <br>
Default list of files to be processed.</p>

<p style="margin-top: 1em">If no filenames are specified on
the command line, latexmk processes all tex files specified
in the @default_files variable, which by default is set to
all tex files <br>
(&quot;*.tex&quot;) in the current directory. This is a
convenience: just run latexmk and it will process an
appropriate set of files. But sometimes you want only some
of these <br>
files to be processed. In this case you can list the files
to be processed by setting @default_files in an
initialization file (e.g., the file &quot;latexmkrc&quot; in
the current <br>
directory). Then if no files are specified on the command
line then the files you specify by setting @default_files
are processed.</p>

<p style="margin-top: 1em">Three examples:</p>

<p style="margin-top: 1em">@default_files =
(&quot;paper_current&quot;);</p>

<p style="margin-top: 1em">@default_files =
(&quot;paper1&quot;, &quot;paper2.tex&quot;);</p>

<p style="margin-top: 1em">@default_files =
(&quot;*.tex&quot;, &quot;*.dtx&quot;);</p>

<p style="margin-top: 1em">Note that more than file may be
given, and that the default extension is &quot;.tex&quot;.
Wild cards are allowed. The parentheses are because
@default_files is an array variable, <br>
i.e., a sequence of filename specifications is possible.</p>

<p style="margin-top: 1em">If you want latexmk to process
all .tex files with a few exceptions, see the
@default_excluded_files array variable.</p>

<p style="margin-top: 1em">$dependents_phony [0] <br>
If a list of dependencies is output, this variable
determines whether to include a phony target for each source
file. If you use the dependents list in a Makefile, the <br>
dummy rules work around errors make gives if you remove
header files without updating the Makefile to match.</p>

<p style="margin-top: 1em">$dependents_list [0] <br>
Whether to display a list(s) of dependencies at the end of a
run.</p>

<p style="margin-top: 1em">$deps_file [&quot;-&quot;] <br>
Name of file to receive list(s) of dependencies at the end
of a run, to be used if $dependesnt_list is set. If the
filename is &quot;-&quot;, then the dependency list is set
to <br>
stdout (i.e., normally the screen).</p>

<p style="margin-top: 1em">$do_cd [0] <br>
Whether to change working directory to the directory
specified for the main source file before processing it. The
default behavior is not to do this, which is the same as
<br>
the behavior of latex and pdflatex programs. This variable
is set by the -cd and -cd- options on latexmk&rsquo;s
command line.</p>

<p style="margin-top: 1em">$dvi_filter [empty] <br>
The dvi file filter to be run on the newly produced dvi file
before other processing. Equivalent to specifying the -dF
option.</p>

<p style="margin-top: 1em">$dvi_mode [See below for
default] <br>
If nonzero, generate a dvi version of the document.
Equivalent to the -dvi option.</p>

<p style="margin-top: 1em">The variable $dvi_mode defaults
to 0, but if no explicit requests are made for other types
of file (postscript, pdf), then $dvi_mode will be set to 1.
In addition, if a <br>
request for a file for which a .dvi file is a prerequisite,
then $dvi_mode will be set to 1.</p>

<p style="margin-top: 1em">$dvi_previewer [&quot;start xdvi
%O %S&quot; under UNIX] <br>
The command to invoke a dvi-previewer. [Under MS-Windows the
default is &quot;start&quot;; then latexmk arranges to use
the MS-Windows start program, which will cause to be run
<br>
whatever command the system has associated with .dvi
files.]</p>

<p style="margin-top: 1em">Important note: Normally you
will want to have a previewer run detached, so that latexmk
doesn&rsquo;t wait for the previewer to terminate before
continuing its work. So nor&acirc; <br>
mally you should prefix the command by &quot;start &quot;,
which flags to latexmk that it should do the detaching of
the previewer itself (by whatever method is appropriate to
the <br>
operating system). But sometimes letting latexmk do the
detaching is not appropriate (for a variety of non-trivial
reasons), so you should put the &quot;start &quot; bit in
your&acirc; <br>
self, whenever it is needed.</p>

<p style="margin-top: 1em">$dvi_previewer_landscape
[&quot;start xdvi %O %S&quot;] <br>
The command to invoke a dvi-previewer in landscape mode.
[Under MS-Windows the default is &quot;start&quot;; then
latexmk arranges to use the MS-Windows start program, which
will <br>
cause to be run whatever command the system has associated
with .dvi files.]</p>

<p style="margin-top: 1em">$dvipdf [&quot;dvipdf %O %S
%D&quot;] <br>
Command to convert dvi to pdf file. A common reconfiguration
is to use the dvipdfm command, which needs its arguments in
a different order:</p>

<p style="margin-top: 1em">$dvipdf = &quot;dvipdfm %O -o %D
%S&quot;;</p>

<p style="margin-top: 1em">WARNING: The default dvipdf
script generates pdf files with bitmapped fonts, which do
not look good when viewed by acroread. That script should be
modified to give dvips <br>
the options &quot;-P pdf&quot; to ensure that type 1 fonts
are used in the pdf file.</p>

<p style="margin-top: 1em">$dvipdf_silent_switch
[&quot;-q&quot;] <br>
Switch(es) for dvipdf program when silent mode is on.</p>

<p style="margin-top: 1em">N.B. The standard dvipdf program
runs silently, so adding the silent switch has no effect,
but is actually innocuous. But if an alternative program is
used, e.g., <br>
dvipdfmx, then the silent switch has an effect. The default
setting is correct for dvipdfm and dvipdfmx.</p>

<p style="margin-top: 1em">$dvips [&quot;dvips %O -o %D
%S&quot;] <br>
The program to used as a filter to convert a .dvi file to a
.ps file. If pdf is going to be generated from pdf, then the
value of the $dvips_pdf_switch variable -- see <br>
below -- will be included in the options substituted for
&quot;%O&quot;.</p>

<p style="margin-top: 1em">$dvips_landscape [&quot;dvips
-tlandscape %O -o %D %S&quot;] <br>
The program to used as a filter to convert a .dvi file to a
.ps file in landscape mode.</p>

<p style="margin-top: 1em">$dvips_pdf_switch [&quot;-P
pdf&quot;] <br>
Switch(es) for dvips program when pdf file is to be
generated from ps file.</p>

<p style="margin-top: 1em">$dvips_silent_switch
[&quot;-q&quot;] <br>
Switch(es) for dvips program when silent mode is on.</p>

<p style="margin-top: 1em">$dvi_update_command
[&quot;&quot;] <br>
When the dvi previewer is set to be updated by running a
command, this is the command that is run. See the
information for the variable $dvi_update_method for further
<br>
information, and see information on the variable
$pdf_update_method for an example for the analogous case of
a pdf previewer.</p>

<p style="margin-top: 1em">$dvi_update_method [2 under
UNIX, 1 under MS-Windows] <br>
How the dvi viewer updates its display when the dvi file has
changed. The values here apply equally to the
$pdf_update_method and to the $ps_update_method variables.
<br>
0 =&gt; update is automatic, <br>
1=&gt; manual update by user, which may only mean a mouse
click on the viewer&rsquo;s window or may mean a more
serious action. <br>
2 =&gt; Send the signal, whose number is in the variable
$dvi_update_signal. The default value under UNIX is suitable
for xdvi. <br>
3 =&gt; Viewer cannot do an update, because it locks the
file. (As with acroread under MS-Windows.) <br>
4 =&gt; run a command to do the update. The command is
specified by the variable $dvi_update_command.</p>

<p style="margin-top: 1em">See information on the variable
$pdf_update_method for an example of updating by
command.</p>

<p style="margin-top: 1em">$dvi_update_signal [Under UNIX:
SIGUSR1, which is a system-dependent value] <br>
The number of the signal that is sent to the dvi viewer when
it is updated by sending a signal -- see the information on
the variable $dvi_update_method. The default <br>
value is the one appropriate for xdvi on a UNIX system.</p>

<p style="margin-top: 1em">$failure_cmd [undefined] <br>
See the documentation for $compiling_cmd.</p>

<p style="margin-top: 1em">$fdb_ext
[&quot;fdb_latexmk&quot;] <br>
The extension of the file which latexmk generates to contain
a database of information on source files. You will not
normally need to change this.</p>

<p style="margin-top: 1em">$force_mode [0] <br>
If nonzero, continue processing past minor latex errors
including unrecognized cross references. Equivalent to
specifying the -f option.</p>

<p style="margin-top: 1em">@generated_exts [( aux , bbl ,
idx , ind , lof , lot , out , toc , $fdb_ext )] <br>
This contains a list of extensions for files that are
generated during a LaTeX run and that are read in by LaTeX
in later runs, either directly or indirectly.</p>

<p style="margin-top: 1em">This list has two uses: (a) to
set the kinds of file to be deleted in a cleanup operation
(with the -c, -C, -CA, -g and -gg options), and (b) in the
determination of <br>
whether a rerun of (pdf)LaTeX is needed after a run that
gives an error.</p>

<p style="margin-top: 1em">(Normally, a change of a source
file during a run should provoke a rerun. This includes a
file generated by LaTeX, e.g., an aux file, that is read in
on subsequent runs. <br>
But after a run that results in an error, a new run should
occur until the user has made a change in the files. But the
user may have corrected an error in a source .tex <br>
file during the run. So latexmk needs to distinguish
user-generated and automatically generated files; it
determines the automatically generated files as those with
<br>
extensions in the list in @generated_exts.)</p>

<p style="margin-top: 1em">A convenient way to add an extra
extension to the list, without losing the already defined
ones is to use a push command in the line in an RC file.
E.g.,</p>

<p style="margin-top: 1em">push @generated_exts,
&quot;end&quot;;</p>

<p style="margin-top: 1em">adds the extension
&quot;end&quot; to the list of predefined generated
extensions. (This extension is used by the RevTeX package,
for example.)</p>

<p style="margin-top: 1em">$go_mode [0] <br>
If nonzero, process files regardless of timestamps, and is
then equivalent to the -g option.</p>

<p style="margin-top: 1em">%hash_calc_ignore_pattern <br>
!!!This variable is for experts only!!!</p>

<p style="margin-top: 1em">The general rule latexmk uses
for determining when an extra run of some program is needed
is that one of the source files has changed. But consider
for example a latex <br>
package that causes an encapsulated postscript file (an
&quot;eps&quot; file) to be made that is to be read in on
the next run. The file contains a comment line giving its
creation <br>
date and time. On the next run the time changes, latex sees
that the eps file has changed, and therefore reruns latex.
This causes an infinite loop, that is only termi&acirc; <br>
nated because latexmk has a limit on the number of runs to
guard against pathological situations.</p>

<p style="margin-top: 1em">But the changing line has no
real effect, since it is a comment. You can instruct latex
to ignore the offending line as follows:</p>


<p style="margin-top: 1em">$hash_calc_ignore_pattern{&rsquo;eps&rsquo;}
= &rsquo;^%%CreationDate: &rsquo;;</p>

<p style="margin-top: 1em">This creates a rule for files
with extension .eps about lines to ignore. The left-hand
side is a Perl idiom for setting an item in a hash. Note
that the file extension <br>
is specified without a period. The value, on the right-hand
side, is a string containing a regular expresssion. (See
documentation on Perl for how they are to be speci&acirc;
<br>
fied in general.) This particular regular expression
specifies that lines beginning with &quot;%%CreationDate:
&quot; are to be ignored in deciding whether a file of the
given <br>
extension .eps has changed.</p>

<p style="margin-top: 1em">There is only one regular
expression available for each extension. If you need more
one pattern to specify lines to ignore, then you need to
combine the patterns into a <br>
single regular expression. The simplest method is separate
the different simple patterns by a vertical bar character
(indicating &quot;alternation&quot; in the jargon of regular
<br>
expressions). For example,</p>


<p style="margin-top: 1em">$hash_calc_ignore_pattern{&rsquo;eps&rsquo;}
= &rsquo;^%%CreationDate: |^%%Title: &rsquo;;</p>

<p style="margin-top: 1em">causes lines starting with
either &quot;^%%CreationDate: &quot; or &quot;^%%Title:
&quot; to be ignored.</p>

<p style="margin-top: 1em">It may happen that a pattern to
be ignored is specified in, for example, in a system or user
initialization file, and you wish to remove this in a file
that is read later. <br>
To do this, you use Perl&rsquo;s delete function, e.g.,</p>

<p style="margin-top: 1em">delete
$hash_calc_ignore_pattern{&rsquo;eps&rsquo;};</p>

<p style="margin-top: 1em">$kpsewhich [&quot;kpsewhich
%S&quot;] <br>
The program called to locate a source file when the name
alone is not sufficient. Most filenames used by latexmk have
sufficient path information to be found directly. <br>
But sometimes, notably when a .bib or a .bst file is found
from the log file of a bibtex or biber run, only the base
name of the file is known, but not its path. The pro&acirc;
<br>
gram specified by $kpsewhich is used to find it.</p>

<p style="margin-top: 1em">(For advanced users: Because of
the different way in which latexmk uses the command
specified in $kpsewhich, some of the possibilities listed in
the FORMAT OF COMMAND <br>
SPECIFICATIONS do not apply. The internal and start keywords
are not available. A simple command specification with
possible options and then &quot;%S&quot; is all that is
guaran&acirc; <br>
teed to work. Note that for other commands, &quot;%S&quot;
is substituted by a single source file. In contrast, for
$kpsewhich, &quot;%S&quot; may be substituted by a long list
of space-sep&acirc; <br>
arated filenames, each of which is quoted. The result on
STDOUT of running the command is then piped to latexmk.)</p>

<p style="margin-top: 1em">See also the @BIBINPUTS variable
for another way that latexmk also uses to try to locate
files; it applies only in the case of .bib files.</p>

<p style="margin-top: 1em">$kpsewhich_show [0] <br>
Whether to show diagnostics about invocations of kpsewhich:
the command line use to invoke it and the results. These
diagnostics are shown if $kpsewhich_show is non-zero <br>
or if diagnostics mode is on. (But in the second case, lots
of other diagnostics are also shown.) Without these
diagnostics there is nothing visible in latexmk&rsquo;s
screen <br>
output about invocations of kpsewhich.</p>

<p style="margin-top: 1em">$landscape_mode [0] <br>
If nonzero, run in landscape mode, using the landscape mode
previewers and dvi to postscript converters. Equivalent to
the -l option. Normally not needed with current <br>
previewers.</p>

<p style="margin-top: 1em">$latex [&quot;latex %O %S&quot;]
<br>
The LaTeX processing program. Note that as with other
programs, you can use this variable not just to change the
name of the program used, but also specify options to the
<br>
program. E.g.,</p>

<p style="margin-top: 1em">$latex = &quot;latex
--src-specials&quot;;</p>

<p style="margin-top: 1em">%latex_input_extensions <br>
This variable specifies the extensions tried by latexmk when
it finds that a LaTeX run resulted in an error that a file
has not been found, and the file is given without <br>
an extension. This typically happens when LaTeX commands of
the form input{file} or includegraphics{figure}, when the
relevant source file does not exist.</p>

<p style="margin-top: 1em">In this situation, latexmk
searches for custom dependencies to make the missing
file(s), but restricts it to the extensions specified by the
variable %latex_input_exten&acirc; <br>
sions. The default extensions are &rsquo;tex&rsquo; and
&rsquo;eps&rsquo;.</p>

<p style="margin-top: 1em">(For Perl experts:
%latex_input_extensions is a hash whose keys are the
extensions. The values are irrelevant.) Two subroutines are
provided for manipulating this and <br>
the related variable %pdflatex_input_extensions,
add_input_ext and remove_input_ext. They are used as in the
following examples are possible lines in an initialization
<br>
file:</p>

<p style="margin-top: 1em">remove_input_ext(
&rsquo;latex&rsquo;, &rsquo;tex&rsquo; );</p>

<p style="margin-top: 1em">removes the extension
&rsquo;tex&rsquo; from latex_input_extensions</p>

<p style="margin-top: 1em">add_input_ext(
&rsquo;latex&rsquo;, &rsquo;asdf&rsquo; );</p>

<p style="margin-top: 1em">add the extension &rsquo;asdf to
latex_input_extensions. (Naturally with such an extension,
you should have made an appropriate custom dependency for
latexmk, and should also <br>
have done the appropriate programming in the LaTeX source
file to enable the file to be read. The standard extensions
are handled by LaTeX and its graphics/graphicx pack&acirc;
<br>
ages.</p>

<p style="margin-top: 1em">$latex_silent_switch
[&quot;-interaction=batchmode&quot;] <br>
Switch(es) for the LaTeX processing program when silent mode
is on.</p>

<p style="margin-top: 1em">If you use MikTeX, you may
prefer the results if you configure the options to include
-c-style-errors, e.g., by the following line in an
initialization file</p>

<p style="margin-top: 1em">$latex_silent_switch =
&quot;-interaction=batchmode -c-style-errors&quot;;</p>

<p style="margin-top: 1em">$lpr [&quot;lpr %O %S&quot;
under UNIX/Linux, &quot;NONE lpr&quot; under MS-Windows]
<br>
The command to print postscript files.</p>

<p style="margin-top: 1em">Under MS-Windows (unlike
UNIX/Linux), there is no standard program for printing
files. But there are ways you can do it. For example, if you
have gsview installed, you <br>
could use it with the option &quot;/p&quot;:</p>

<p style="margin-top: 1em">$lpr = &rsquo;&quot;c:/Program
Files/Ghostgum/gsview/gsview32.exe&quot; /p&rsquo;;</p>

<p style="margin-top: 1em">If gsview is installed in a
different directory, you will need to make the appropriate
change. Note the combination of single and double quotes
around the name. The sin&acirc; <br>
gle quotes specify that this is a string to be assigned to
the configuration variable $lpr. The double quotes are part
of the string passed to the operating system to get <br>
the command obeyed; this is necessary because one part of
the command name (&quot;Program Files&quot;) contains a
space which would otherwise be misinterpreted.</p>

<p style="margin-top: 1em">$lpr_dvi [&quot;NONE
lpr_dvi&quot;] <br>
The printing program to print dvi files.</p>

<p style="margin-top: 1em">$lpr_pdf [&quot;NONE
lpr_pdf&quot;] <br>
The printing program to print pdf files.</p>

<p style="margin-top: 1em">Under MS-Windows you could set
this to use gsview, if it is installed, e.g.,</p>

<p style="margin-top: 1em">$lpr = &rsquo;&quot;c:/Program
Files/Ghostgum/gsview/gsview32.exe&quot; /p&rsquo;;</p>

<p style="margin-top: 1em">If gsview is installed in a
different directory, you will need to make the appropriate
change. Note the double quotes around the name: this is
necessary because one part <br>
of the command name (&quot;Program Files&quot;) contains a
space which would otherwise be misinterpreted.</p>

<p style="margin-top: 1em">$lualatex [&quot;lualatex %O
%S&quot;] <br>
The LaTeX processing program that is to be used when the
lualatex program is called for (e.g., by the option
-lualatex.</p>

<p style="margin-top: 1em">%lualatex_input_extensions <br>
This variable specifies the extensions tried by latexmk when
it finds that a lualatex run resulted in an error that a
file has not been found, and the file is given with&acirc;
<br>
out an extension. This typically happens when LaTeX commands
of the form input{file} or includegraphics{figure}, when the
relevant source file does not exist.</p>

<p style="margin-top: 1em">In this situation, latexmk
searches for custom dependencies to make the missing
file(s), but restricts it to the extensions specified by the
variable %pdfla&acirc; <br>
tex_input_extensions. The default extensions are
&rsquo;tex&rsquo;, &rsquo;pdf&rsquo;, &rsquo;jpg, and
&rsquo;png&rsquo;.</p>

<p style="margin-top: 1em">See details of the
%latex_input_extensions for other information that equally
applies to %lualatex_input_extensions.</p>

<p style="margin-top: 1em">$lualatex_silent_switch
[&quot;-interaction=batchmode&quot;] <br>
Switch(es) for the lualatex program (specified in the
variable $lualatex) when silent mode is on.</p>

<p style="margin-top: 1em">See details of the
$latex_silent_switch for other information that equally
applies to $lualatex_silent_switch.</p>

<p style="margin-top: 1em">$make [&quot;make&quot;] <br>
The make processing program.</p>

<p style="margin-top: 1em">$makeindex [&quot;makeindex %O
-o %D %S&quot;] <br>
The index processing program.</p>

<p style="margin-top: 1em">$makeindex_silent_switch
[&quot;-q&quot;] <br>
Switch(es) for the index processing program when silent mode
is on.</p>

<p style="margin-top: 1em">$max_repeat [5] <br>
The maximum number of times latexmk will run latex/pdflatex
before deciding that there may be an infinite loop and that
it needs to bail out, rather than rerunning <br>
latex/pdflatex again to resolve cross-references, etc. The
default value covers all normal cases.</p>

<p style="margin-top: 1em">(Note that the &quot;etc&quot;
covers a lot of cases where one run of latex/pdflatex
generates files to be read in on a later run.)</p>

<p style="margin-top: 1em">$MSWin_back_slash [1] <br>
This configuration variable only has an effect when latexmk
is running under MS-Windows. It determines whether, when a
command is executed under MS-Windows, there should <br>
be substituted &quot; <br>
character used by Unix-like systems.</p>

<p style="margin-top: 1em">For many programs under
MS-Windows, both &quot; <br>
safety latexmk makes a translation, by default. It is
conceivable that under certain situations this is
undesirable, so the configuration can be changed. (A
possible <br>
example might be when some of the software is implemented
using Cygwin, which provides a Unix-like environment inside
MS-Windows.)</p>

<p style="margin-top: 1em">$new_viewer_always [0] <br>
This variable applies to latexmk only in continuous-preview
mode. If $new_viewer_always is 0, latexmk will check for a
previously running previewer on the same file, and <br>
if one is running will not start a new one. If
$new_viewer_always is non-zero, this check will be skipped,
and latexmk will behave as if no viewer is running.</p>

<p style="margin-top: 1em">$out_dir [&quot;&quot;] <br>
If non-blank, this variable specifies the directory in which
output files are to be written by a run of (pdf)latex. See
also the variable $aux_dir.</p>

<p style="margin-top: 1em">The effect of this variable
(when non-blank) is achieved by using the -output-directory
option of (pdf)latex. This exists in the usual current (Dec.
2011 and later) <br>
implementations of TeX, i.e., MiKTeX and TeXLive. But it may
not be present in other versions.</p>

<p style="margin-top: 1em">If you also use the -cd option,
and $out_dir (or $aux_dir) contains a relative path, then
the path is interpreted relative to the document
directory.</p>

<p style="margin-top: 1em">Commonly, the directory
specified for output files is a subdirectory of the current
working directory. However, if you specify some other
directory, e.g., &quot;/tmp/foo&quot; or <br>
&quot;../output&quot;, be aware that this could cause
problems, e.g., with makeindex or bibtex. This is because
modern versions of these programs, by default, will refuse
to work <br>
when they find that they are asked to write to a file in a
directory that appears not to be the current working
directory or one of its subdirectories. This is part of <br>
security measures by the whole TeX system that try to
prevent malicious or errant TeX documents from incorrectly
messing with a user&rsquo;s files. If for $out_dir or
$aux_dir <br>
you really do need to specify an absolute pathname (e.g.,
&quot;/tmp/foo&quot;) or a path (e.g.,
&quot;../output&quot;) that includes a higher-level
directory, and you need to use makeindex <br>
or bibtex, then you need to disable the security measures
(and assume any risks). One way of doing this is to
temporarily set an operating system environment variable
<br>
openout_any to &quot;a&quot; (as in &quot;all&quot;), to
override the default &quot;paranoid&quot; setting.</p>

<p style="margin-top: 1em">$pdf_mode [0] <br>
If zero, do NOT generate a pdf version of the document. If
equal to 1, generate a pdf version of the document using
pdflatex, using the command specified by the $pdflatex <br>
variable. If equal to 2, generate a pdf version of the
document from the ps file, by using the command specified by
the $ps2pdf variable. If equal to 3, generate a pdf <br>
version of the document from the dvi file, by using the
command specified by the $dvipdf variable. If equal to 4,
generate a pdf version of the document using lualatex, <br>
using the command specified by the $lualatex variable. If
equal to 5, generate a pdf version (and an xdv version) of
the document using xelatex, using the commands speci&acirc;
<br>
fied by the $xelatex and xdvipdfmx variables.</p>

<p style="margin-top: 1em">In $pdf_mode=2, it is ensured
that dvi and ps files are also made. In $pdf_mode=3, it is
ensured that a dvi file is also made.</p>

<p style="margin-top: 1em">$pdflatex [&quot;pdflatex %O
%S&quot;] <br>
The LaTeX processing program in a version that makes a pdf
file instead of a dvi file.</p>

<p style="margin-top: 1em">An example use of this variable
is to add certain options to the command line for the
program, e.g.,</p>

<p style="margin-top: 1em">$pdflatex = &quot;pdflatex
--shell-escape %O %S&quot;;</p>

<p style="margin-top: 1em">(In some earlier versions of
latexmk, you needed to use an assignment to $pdflatex to
allow the use of lualatex or xelatex instead of pdflatex.
There are now separate <br>
configuration variables for the use of lualatex or xelatex.
See $lualatex and $xelatex.)</p>

<p style="margin-top: 1em">%pdflatex_input_extensions <br>
This variable specifies the extensions tried by latexmk when
it finds that a pdflatex run resulted in an error that a
file has not been found, and the file is given with&acirc;
<br>
out an extension. This typically happens when LaTeX commands
of the form input{file} or includegraphics{figure}, when the
relevant source file does not exist.</p>

<p style="margin-top: 1em">In this situation, latexmk
searches for custom dependencies to make the missing
file(s), but restricts it to the extensions specified by the
variable %pdfla&acirc; <br>
tex_input_extensions. The default extensions are
&rsquo;tex&rsquo;, &rsquo;pdf&rsquo;, &rsquo;jpg, and
&rsquo;png&rsquo;.</p>

<p style="margin-top: 1em">See details of the
%latex_input_extensions for other information that equally
applies to %pdflatex_input_extensions.</p>

<p style="margin-top: 1em">$pdflatex_silent_switch
[&quot;-interaction=batchmode&quot;] <br>
Switch(es) for the pdflatex program (specified in the
variable $pdflatex) when silent mode is on.</p>

<p style="margin-top: 1em">See details of the
$latex_silent_switch for other information that equally
applies to $pdflatex_silent_switch.</p>

<p style="margin-top: 1em">$pdf_previewer [&quot;start
acroread %O %S&quot;] <br>
The command to invoke a pdf-previewer.</p>

<p style="margin-top: 1em">On MS-Windows, the default is
changed to &quot;cmd /c start &quot;&quot;&quot;; under more
recent versions of Windows, this will cause to be run
whatever command the system has associated <br>
with .pdf files. But this may be undesirable if this
association is to acroread -- see the notes in the
explanation of the -pvc option.]</p>

<p style="margin-top: 1em">On OS-X the default is changed
to &quot;open %S&quot;, which results in OS-X starting up
(and detaching) the viewer associated with the file. By
default, for pdf files this associ&acirc; <br>
ation is to OS-X&rsquo;s preview, which is quite
satisfactory.</p>

<p style="margin-top: 1em">WARNING: Problem under
MS-Windows: if acroread is used as the pdf previewer, and it
is actually viewing a pdf file, the pdf file cannot be
updated. Thus makes acroread a <br>
bad choice of previewer if you use latexmk&rsquo;s
previous-continuous mode (option -pvc) under MS-windows.
This problem does not occur if, for example, SumatraPDF or
gsview is <br>
used to view pdf files.</p>

<p style="margin-top: 1em">Important note: Normally you
will want to have a previewer run detached, so that latexmk
doesn&rsquo;t wait for the previewer to terminate before
continuing its work. So nor&acirc; <br>
mally you should prefix the command by &quot;start &quot;,
which flags to latexmk that it should do the detaching of
the previewer itself (by whatever method is appropriate to
the <br>
operating system). But sometimes letting latexmk do the
detaching is not appropriate (for a variety of non-trivial
reasons), so you should put the &quot;start &quot; bit in
your&acirc; <br>
self, whenever it is needed.</p>

<p style="margin-top: 1em">$pdf_update_command
[&quot;&quot;] <br>
When the pdf previewer is set to be updated by running a
command, this is the command that is run. See the
information for the variable $pdf_update_method.</p>

<p style="margin-top: 1em">$pdf_update_method [1 under
UNIX, 3 under MS-Windows] <br>
How the pdf viewer updates its display when the pdf file has
changed. See the information on the variable
$dvi_update_method for the codes. (Note that information
needs <br>
be changed slightly so that for the value 4, to run a
command to do the update, the command is specified by the
variable $pdf_update_command, and for the value 2, to
spec&acirc; <br>
ify update by signal, the signal is specified by
$pdf_update_signal.)</p>

<p style="margin-top: 1em">Note that acroread under
MS-Windows (but not UNIX) locks the pdf file, so the default
value is then 3.</p>

<p style="margin-top: 1em">Arranging to use a command to
get a previewer explicitly updated requires three variables
to be set. For example:</p>

<p style="margin-top: 1em">$pdf_previewer = &quot;start
xpdf -remote %R %O %S&quot;; <br>
$pdf_update_method = 4; <br>
$pdf_update_command = &quot;xpdf -remote %R
-reload&quot;;</p>

<p style="margin-top: 1em">The first setting arranges for
the xpdf program to be used in its &quot;remote server
mode&quot;, with the server name specified as the rootname
of the TeX file. The second setting <br>
arranges for updating to be done in response to a command,
and the third setting sets the update command.</p>

<p style="margin-top: 1em">$pdf_update_signal [Under UNIX:
SIGHUP, which is a system-dependent value] <br>
The number of the signal that is sent to the pdf viewer when
it is updated by sending a signal -- see the information on
the variable $pdf_update_method. The default <br>
value is the one appropriate for gv on a UNIX system.</p>

<p style="margin-top: 1em">$pid_position[1 under UNIX, -1
under MS-Windows] <br>
The variable $pid_position is used to specify which word in
lines of the output from $pscmd corresponds to the process
ID. The first word in the line is numbered 0. The <br>
default value of 1 (2nd word in line) is correct for Solaris
2.6, Linux, and OS-X with their default settings of
$pscmd.</p>

<p style="margin-top: 1em">Setting the variable to -1 is
used to indicate that $pscmd is not to be used.</p>

<p style="margin-top: 1em">$postscript_mode [0] <br>
If nonzero, generate a postscript version of the document.
Equivalent to the -ps option.</p>

<p style="margin-top: 1em">If some other request is made
for which a postscript file is needed, then $postscript_mode
will be set to 1.</p>

<p style="margin-top: 1em">$preview_continuous_mode [0]
<br>
If nonzero, run a previewer to view the document, and
continue running latexmk to keep .dvi up-to-date. Equivalent
to the -pvc option. Which previewer is run depends on <br>
the other settings, see the command line options -view=, and
the variable $view.</p>

<p style="margin-top: 1em">$preview_mode [0] <br>
If nonzero, run a previewer to preview the document.
Equivalent to the -pv option. Which previewer is run depends
on the other settings, see the command line options <br>
-view=, and the variable $view.</p>

<p style="margin-top: 1em">$printout_mode [0] <br>
If nonzero, print the document using the command specified
in the $lpr variable. Equivalent to the -p option. This is
recommended not to be set from an RC file, other&acirc; <br>
wise you could waste lots of paper.</p>

<p style="margin-top: 1em">$print_type = [&quot;auto&quot;]
<br>
Type of file to printout: possibilities are
&quot;auto&quot;, &quot;dvi&quot;, &quot;none&quot;,
&quot;pdf&quot;, or &quot;ps&quot;. See the option -print=
for the meaning of the &quot;auto&quot; value.</p>

<p style="margin-top: 1em">$pscmd Command used to get all
the processes currently run by the user. The -pvc option
uses the command specified by the variable $pscmd to
determine if there is an already <br>
running previewer, and to find the process ID (needed if
latexmk needs to signal the previewer about file
changes).</p>

<p style="margin-top: 1em">Each line of the output of this
command is assumed to correspond to one process. See the
$pid_position variable for how the process number is
determined.</p>

<p style="margin-top: 1em">The default for pscmd is
&quot;NONE&quot; under MS-Windows and cygwin (i.e., the
command is not used), &quot;ps -ww -u $ENV{USER}&quot; under
OS-X, and &quot;ps -f -u $ENV{USER}&quot; under other
oper&acirc; <br>
ating systems (including Linux). In these specifications
&quot;$ENV{USER}&quot; is substituted by the username.</p>

<p style="margin-top: 1em">$ps2pdf [&quot;ps2pdf %O %S
%D&quot;] <br>
Command to convert ps to pdf file.</p>

<p style="margin-top: 1em">$ps_filter [empty] <br>
The postscript file filter to be run on the newly produced
postscript file before other processing. Equivalent to
specifying the -pF option.</p>

<p style="margin-top: 1em">$ps_previewer [&quot;start gv %O
%S&quot;, but start %O %S under MS-Windows] <br>
The command to invoke a ps-previewer. (The default under
MS-Windows will cause to be run whatever command the system
has associated with .ps files.)</p>

<p style="margin-top: 1em">Note that gv could be used with
the -watch option updates its display whenever the
postscript file changes, whereas ghostview does not.
However, different versions of gv <br>
have slightly different ways of writing this option. You can
configure this variable appropriately.</p>

<p style="margin-top: 1em">WARNING: Linux systems may have
installed one (or more) versions of gv under different
names, e.g., ggv, kghostview, etc, but perhaps not one
actually called gv.</p>

<p style="margin-top: 1em">Important note: Normally you
will want to have a previewer run detached, so that latexmk
doesn&rsquo;t wait for the previewer to terminate before
continuing its work. So nor&acirc; <br>
mally you should prefix the command by &quot;start &quot;,
which flags to latexmk that it should do the detaching of
the previewer itself (by whatever method is appropriate to
the <br>
operating system). But sometimes letting latexmk do the
detaching is not appropriate (for a variety of non-trivial
reasons), so you should put the &quot;start &quot; bit in
your&acirc; <br>
self, whenever it is needed.</p>

<p style="margin-top: 1em">$ps_previewer_landscape
[&quot;start gv -swap %O %S&quot;, but start %O %S under
MS-Windows] <br>
The command to invoke a ps-previewer in landscape mode.</p>

<p style="margin-top: 1em">$ps_update_command
[&quot;&quot;] <br>
When the postscript previewer is set to be updated by
running a command, this is the command that is run. See the
information for the variable $ps_update_method.</p>

<p style="margin-top: 1em">$ps_update_method [0 under UNIX,
1 under MS-Windows] <br>
How the postscript viewer updates its display when the ps
file has changed. See the information on the variable
$dvi_update_method for the codes. (Note that information
<br>
needs be changed slightly so that for the value 4, to run a
command to do the update, the command is specified by the
variable $ps_update_command, and for the value 2, to <br>
specify update by signal, the signal is specified by
$ps_update_signal.)</p>

<p style="margin-top: 1em">$ps_update_signal [Under UNIX:
SIGHUP, which is a system-dependent value] <br>
The number of the signal that is sent to the pdf viewer when
it is updated by sending a signal -- see $ps_update_method.
The default value is the one appropriate for gv <br>
on a UNIX system.</p>

<p style="margin-top: 1em">$pvc_view_file_via_temporary [1]
<br>
The same as $always_view_file_via_temporary, except that it
only applies in preview-continuous mode (-pvc option).</p>

<p style="margin-top: 1em">$quote_filenames [1] <br>
This specifies whether substitutions for placeholders in
command specifications (as in $pdflatex) are surrounded by
double quotes. If this variable is 1 (or any other <br>
value Perl regards as true), then quoting is done. Otherwise
quoting is omitted.</p>

<p style="margin-top: 1em">The quoting method used by
latexmk is tested to work correctly under UNIX systems
(including Linux and Mac OS-X) and under MS-Windows. It
allows the use of filenames con&acirc; <br>
taining special characters, notably spaces. (But note that
many versions of latex and pdflatex cannot correctly deal
with TeX files whose names contain spaces. Latexmk&rsquo;s
<br>
quoting only ensures that such filenames are correctly
treated by the operating system in passing arguments to
programs.)</p>

<p style="margin-top: 1em">$recorder [1] <br>
Whether to use the -recorder option to latex and pdflatex.
Use of this option results in a file of extension .fls
containing a list of the files that these programs have <br>
read and written. Latexmk will then use this file to improve
its detection of source files and generated files after a
run of latex or pdflatex.</p>

<p style="margin-top: 1em">It is generally recommended to
use this option (or to configure the $recorder variable to
be on.) But it only works if (pdf)latex supports the
-recorder option, which is <br>
true for most current implementations</p>

<p style="margin-top: 1em">Note about the name of the .fls
file: Most implementations of (pdf)latex produce an .fls
file with the same basename as the main document&rsquo;s
LaTeX, e.g., for Document.tex, <br>
the .fls file is Document.fls. However, some implementations
instead produce files named for the program, i.e., latex.fls
or pdflatex.fls. In this second case, latexmk <br>
copies the latex.fls or pdflatex.fls to a file with the
basename of the main LaTeX document, e.g., Document.fls.</p>

<p style="margin-top: 1em">$search_path_separator [See
below for default] <br>
The character separating paths in the environment variables
TEXINPUTS, BIBINPUTS, and BSTINPUTS. This variable is mainly
used by latexmk when the -outdir, -output-direc&acirc; <br>
tory, -auxdir, and/or -aux-directory options are used. In
that case latexmk needs to communicate appropriately
modified search paths to bibtex, dvipdf, dvips, and <br>
(pdf)latex.</p>

<p style="margin-top: 1em">[Comment to technically savvy
readers: (pdf)latex doesn&rsquo;t actually need the modified
search path. But, surprisingly, dvipdf and dvips do, because
sometimes graphics files <br>
get generated in the output or aux directories.]</p>

<p style="margin-top: 1em">The default under MSWin and
Cygwin is &rsquo;;&rsquo; and under UNIX-like operating
systems (including Linux and OS-X) is &rsquo;:&rsquo;.
Normally the defaults give correct behavior. But there <br>
can be difficulties if your operating system is of one kind,
but some of your software is running under an emulator for
the other kind of operating system; in that case <br>
you&rsquo;ll need to find out what is needed, and set
$search_path_separator explicitly. (The same goes, of
course, for unusual operating systems that are not in the
MSWin, <br>
Linux, OS-X, Unix collection.)</p>

<p style="margin-top: 1em">$show_time [0] <br>
Whether to show CPU time used.</p>

<p style="margin-top: 1em">$silence_logfile_warnings [0]
<br>
Whether after a run of (pdf)latex to summarize warnings in
the log file about undefined citations and references.
Setting $silence_logfile_warnings=0 gives the summary of
<br>
warnings (provided silent mode isn&rsquo;t also set), and
this is useful to locate undefined citations and references
without searching through the much more verbose log file or
<br>
the screen output of (pdf)latex. But the summary can also be
excessively annoying. The default is not to give these
warnings. The command line options -silence_log&acirc; <br>
file_warning_list and -silence_logfile_warning_list- also
set this variable.</p>

<p style="margin-top: 1em">Note that multiple occurrences
for the same undefined object on the same page and same line
will be compressed to a single warning.</p>

<p style="margin-top: 1em">$silent [0] <br>
Whether to run silently. Setting $silent to 1 has the same
effect as the -quiet of -silent options on the command
line.</p>

<p style="margin-top: 1em">$sleep_time [2] <br>
The time to sleep (in seconds) between checking for source
file changes when running with the -pvc option. This is
subject to a minimum of one second delay, except that <br>
zero delay is also allowed.</p>

<p style="margin-top: 1em">A value of exactly 0 gives no
delay, and typically results in 100% CPU usage, which may
not be desirable.</p>

<p style="margin-top: 1em">$texfile_search [&quot;&quot;]
<br>
This is an obsolete variable, replaced by the @default_files
variable.</p>

<p style="margin-top: 1em">For backward compatibility, if
you choose to set $texfile_search, it is a string of
space-separated filenames, and then latexmk replaces
@default_files with the filenames <br>
in $texfile_search to which is added &quot;*.tex&quot;.</p>

<p style="margin-top: 1em">$success_cmd [undefined] <br>
See the documentation for $compiling_cmd.</p>

<p style="margin-top: 1em">$tmpdir [See below for default]
<br>
Directory to store temporary files that latexmk may generate
while running.</p>

<p style="margin-top: 1em">The default under MSWindows
(including cygwin), is to set $tmpdir to the value of the
first of whichever of the system environment variables
TMPDIR or TEMP exists, other&acirc; <br>
wise to the current directory. Under other operating systems
(expected to be UNIX/Linux, including OS-X), the default is
the value of the system environment variable <br>
TMPDIR if it exists, otherwise &quot;/tmp&quot;.</p>

<p style="margin-top: 1em">$use_make_for_missing_files [0]
<br>
Whether to use make to try and make files that are missing
after a run of latex or pdflatex, and for which a custom
dependency has not been found. This is generally use&acirc;
<br>
ful only when latexmk is used as part of a bigger project
which is built by using the make program.</p>

<p style="margin-top: 1em">Note that once a missing file
has been made, no further calls to make will be made on a
subsequent run of latexmk to update the file. Handling this
problem is the job of <br>
a suitably defined Makefile. See the section &quot;USING
latexmk WITH make&quot; for how to do this. The intent of
calling make from latexmk is merely to detect
dependencies.</p>

<p style="margin-top: 1em">$view [&quot;default&quot;] <br>
Which kind of file is to be previewed if a previewer is
used. The possible values are &quot;default&quot;,
&quot;dvi&quot;, &quot;ps&quot;, &quot;pdf&quot;. The value
of &quot;default&quot; means that the &quot;highest&quot; of
<br>
the kinds of file generated is to be used (among dvi, ps and
pdf).</p>

<p style="margin-top: 1em">$xdvipdfmx [&quot;xdvipdfmx -o
%D %O %S&quot;]</p>

<p style="margin-top: 1em">The program to make a pdf file
from an xdv file (used in conjunction with xelatex when
$pdf_mode=5).</p>

<p style="margin-top: 1em">$xdvipdfmx_silent_switch
[&quot;-q&quot;] <br>
Switch(es) for the xdvipdfmx program when silent mode is
on.</p>

<p style="margin-top: 1em">$xelatex [&quot;xelatex %O
%S&quot;] <br>
The LaTeX processing program of in a version that makes a
pdf file instead of a dvi file, when the xelatex program is
called for. See the documentation of the -xelatex <br>
option for some special properties of latexmk&rsquo;s use of
xelatex.</p>

<p style="margin-top: 1em">%xelatex_input_extensions <br>
This variable specifies the extensions tried by latexmk when
it finds that an xelatex run resulted in an error that a
file has not been found, and the file is given with&acirc;
<br>
out an extension. This typically happens when LaTeX commands
of the form input{file} or includegraphics{figure}, when the
relevant source file does not exist.</p>

<p style="margin-top: 1em">In this situation, latexmk
searches for custom dependencies to make the missing
file(s), but restricts it to the extensions specified by the
variable %xelatex_input_exten&acirc; <br>
sions. The default extensions are &rsquo;tex&rsquo;,
&rsquo;pdf&rsquo;, &rsquo;jpg, and &rsquo;png&rsquo;.</p>

<p style="margin-top: 1em">See details of the
%latex_input_extensions for other information that equally
applies to %xelatex_input_extensions.</p>

<p style="margin-top: 1em">$xelatex_silent_switch
[&quot;-interaction=batchmode&quot;] <br>
Switch(es) for the xelatex program (specified in the
variable $xelatex) when silent mode is on.</p>

<p style="margin-top: 1em">See details of the
$latex_silent_switch for other information that equally
applies to $xelatex_silent_switch.</p>

<p style="margin-top: 1em">CUSTOM DEPENDENCIES <br>
In any RC file a set of custom dependencies can be set up to
convert a file with one extension to a file with another. An
example use of this would be to allow latexmk to con&acirc;
<br>
vert a .fig file to .eps to be included in the .tex
file.</p>

<p style="margin-top: 1em">The old method of configuring
latexmk was to directly manipulate the @cus_dep_list array
that contains information defining the custom dependencies.
This method still works. <br>
But now there are subroutines that allow convenient
manipulations of the custom dependency list. These are</p>

<p style="margin-top: 1em">add_cus_dep( fromextension,
toextension, must, subroutine ) <br>
remove_cus_dep( fromextension, toextension ) <br>
show_cus_dep()</p>

<p style="margin-top: 1em">The custom dependency is a list
of rules, each of which is specified as follow:</p>

<p style="margin-top: 1em">from extension: <br>
The extension of the file we are converting from (e.g.
&quot;fig&quot;). It is specified without a period.</p>

<p style="margin-top: 1em">to extension: <br>
The extension of the file we are converting to (e.g.
&quot;eps&quot;). It is specified without a period.</p>

<p style="margin-top: 1em">must: If non-zero, the file from
which we are converting must exist, if it doesn&rsquo;t
exist latexmk will give an error message and exit unless the
-f option is specified. If must <br>
is zero and the file we are converting from doesn&rsquo;t
exist, then no action is taken.</p>

<p style="margin-top: 1em">function: <br>
The name of the subroutine that latexmk should call to
perform the file conversion. The first argument to the
subroutine is the base name of the file to be converted <br>
without any extension. The subroutines are declared in the
syntax of Perl. The function should return 0 if it was
successful and a nonzero number if it failed.</p>

<p style="margin-top: 1em">A custom dependency rule is
invoked whenever latexmk detects that a run of
latex/pdflatex needs to read a file, like a graphics file,
whose extension is the to-extension of a <br>
custom dependency. Then latexmk examines whether a file
exists with the same name, but with the corresponding
from-extension, as specified in the custom-dependency rule.
If it <br>
does, then the rule whenever the destination file (the one
with the to-extension) is out-of-date with respect to the
corresponding source file.</p>

<p style="margin-top: 1em">To make the new destination
file, the Perl subroutine specified in the rule is invoked,
with an argument that is the base name of the files in
question. Simple cases just <br>
involve a subroutine invoking an external program; this can
be done by following the templates below, even by those
without knowledge of the Perl programming language. Of <br>
course, experts could do something much more elaborate.</p>

<p style="margin-top: 1em">One other item in each
custom-dependency rule, labeled &quot;must&quot; above,
specifies how the rule should be applied when the source
file fails to exist.</p>

<p style="margin-top: 1em">A simple and typical example of
code in an initialization rcfile is</p>

<p style="margin-top: 1em">add_cus_dep( &rsquo;fig&rsquo;,
&rsquo;eps&rsquo;, 0, &rsquo;fig2eps&rsquo; ); <br>
sub fig2eps { <br>
return system( &quot;fig2dev -Leps <br>
}</p>

<p style="margin-top: 1em">The first line adds a custom
dependency that converts a file with extension
&quot;fig&quot;, as created by the xfig program, to an
encapsulated postscript file, with extension
&quot;eps&quot;. The <br>
remaining lines define a subroutine that carries out the
conversion. If a rule for converting &quot;fig&quot; to
&quot;eps&quot; files already exists (e.g., from a
previously read-in initialization <br>
file), the latexmk will delete this rule before making the
new one.</p>

<p style="margin-top: 1em">Suppose latexmk is using this
rule to convert a file &quot;figure.fig&quot; to
&quot;figure.eps&quot;. Then it will invoke the fig2eps
subroutine defined in the above code with a single argument
<br>
&quot;figure&quot;, which is the basename of each of the
files (possibly with a path component). This argument is
referred to by Perl as $_[0]. In the example above, the
subroutine uses <br>
the Perl command system to invoke the program fig2dev. The
double quotes around the string are a Perl idiom that
signify that each string of the form of a variable name,
$_[0] <br>
in this case, is to be substituted by its value.</p>

<p style="margin-top: 1em">If the return value of the
subroutine is non-zero, then latexmk will assume an error
occurred during the execution of the subroutine. In the
above example, no explicit return <br>
value is given, and instead the return value is the value
returned by the last (and only) statement, i.e., the
invocation of system, which returns the value 0 on
success.</p>

<p style="margin-top: 1em">If you use pdflatex instead of
latex, then you will probably prefer to convert your
graphics files to pdf format, in which case you would
replace the above code in an initializa&acirc; <br>
tion file by</p>

<p style="margin-top: 1em">add_cus_dep( &rsquo;fig&rsquo;,
&rsquo;pdf, 0, &rsquo;fig2pdf&rsquo; ); <br>
sub fig2pdf { <br>
return system( &quot;fig2dev -Lpdf <br>
}</p>

<p style="margin-top: 1em">Note 1: In the command lines
given in the system commands in the above examples, double
quotes have been inserted around the file names (implemented
by &rsquo; <br>
guage). They immunize the running of the program against
special characters in filenames. Very often these quotes are
not necessary, i.e., they can be omitted. But it is
nor&acirc; <br>
mally safer to keep them in. Even though the rules for
quoting vary between operating systems, command shells and
individual pieces of software, the quotes in the above
examples <br>
do not cause problems in the cases I have tested.</p>

<p style="margin-top: 1em">Note 2: One case in which the
quotes are important is when the files are in a subdirectory
and your operating system is Microsoft Windows. Then the
separator character for <br>
directory components can be either a forward slash
&rsquo;/&rsquo; or Microsoft&rsquo;s more usual backward
slash &Acirc;&acute;&acute;. Forward slashes are generated
by latexmk, to maintain its sanity from soft&acirc; <br>
ware like MiKTeX that mixes both directory separators; but
their correct use normally requires quoted filenames. (See a
log file from a run of MiKTeX (at least in v. 2.9) for an
<br>
example of the use of both directory separators.)</p>

<p style="margin-top: 1em">If you have some general custom
dependencies defined in the system or user initialization
file, you may find that for a particular project they are
undesirable. So you might <br>
want to delete the unneeded ones. For example, you remove
any &quot;fig&quot; to &quot;eps&quot; rule by the line</p>

<p style="margin-top: 1em">remove_cus_dep(
&rsquo;fig&rsquo;, &rsquo;eps&rsquo; );</p>

<p style="margin-top: 1em">If you have complicated sets of
custom dependencies, you may want to get a listing of the
custom dependencies. This is done by using the line</p>

<p style="margin-top: 1em">show_cus_dep();</p>

<p style="margin-top: 1em">in an initialization file.</p>

<p style="margin-top: 1em">Another example of a custom
dependency overcomes a limitation of latexmk concerning
index files. The only index-file conversion built-in to
latexmk is from an &quot;.idx&quot; file writ&acirc; <br>
ten on one run of latex/pdflatex to an &quot;.ind&quot; file
to be read in on a subsequent run. But with the index.sty
package you can create extra indexes with extensions that
you con&acirc; <br>
figure. Latexmk does not know how to deduce the extensions
from the information it has. But you can easily write a
custom dependency. For example if your latex file uses the
<br>
command &quot;0windex{special}{ndx}{nnd}{Special
index}&quot; you will need to convert files with the
extension .ndx to .nnd. The following lines in an
initialization RC file will cause <br>
this to happen:</p>

<p style="margin-top: 1em">add_cus_dep(&rsquo;ndx&rsquo;,
&rsquo;nnd&rsquo;, 0, &rsquo;makendx2nnd&rsquo;); <br>
sub makendx2nnd { <br>
return system( &quot;makeindex -o <br>
}</p>

<p style="margin-top: 1em">Those of you with experience
with Makefiles, will undoubtedly be concerned that the .ndx
file is written during a run of latex/pdflatex and is always
later than the .nnd last <br>
read in. Thus the .nnd appears to be perpetually
out-of-date. This situation, of circular dependencies, is
endemic to latex, and latexmk in its current version works
correctly <br>
with circular dependencies. It examines the contents of the
files (by use of an md5 checksum), and only does a remake
when the file contents have actually changed.</p>

<p style="margin-top: 1em">Of course if you choose to write
random data to the .nnd (or the .aux file, etc) that changes
on each new run, then you will have a problem. For real
experts: See the <br>
%hash_cal_ignore_pattern if you have to deal with such
problems.</p>

<p style="margin-top: 1em">Glossaries can be dealt with
similarly.</p>

<p style="margin-top: 1em">OLD METHOD OF DEFINING CUSTOM
DEPENDENCIES <br>
In previous versions of latexmk, the only method of defining
custom dependencies was to directly manipulate the table of
custom dependencies. This is contained in the <br>
@cus_dep_list array. It is an array of strings, and each
string in the array has four items in it, each separated by
a space, the from-extension, the to-extension, the
&quot;must&quot; <br>
item, and the name of the subroutine for the custom
dependency. These were all defined above.</p>

<p style="margin-top: 1em">An example of the old method of
defining custom dependencies is as follows. It is the code
in an RC file to ensure automatic conversion of .fig files
to .eps files:</p>

<p style="margin-top: 1em">push @cus_dep_list, &quot;fig
eps 0 fig2eps&quot;; <br>
sub fig2eps { <br>
return system( &quot;fig2dev -Lps <br>
}</p>

<p style="margin-top: 1em">This method still works, and is
equivalent to the earlier code using the add_cus_dep
subroutine, except that it doesn&rsquo;t delete any previous
custom-dependency for the same conver&acirc; <br>
sion. So the new method is preferable.</p>

<p style="margin-top: 1em">ADVANCED CONFIGURATION: Some
extra resources and advanced tricks <br>
For most purposes, simple configuration for latexmk along
the lines of the examples given is sufficient. But sometimes
you need something harder. In this section, I indicate <br>
some extra possibilities. Generally to use these, you need
to be fluent in the Perl language, since this is what is
used in the rc files.</p>

<p style="margin-top: 1em">See also the section DEALING
WITH ERRORS, PROBLEMS, ETC. See also the examples in the
directory example_rcfiles in the latexmk distributions. Even
if none of the examples apply <br>
to your case, they may give ideas</p>

<p style="margin-top: 1em">Variables and subroutines for
processing a rule <br>
A step in the processing is called a rule. One possibility
to implement the processing of a rule is by a Perl
subroutine. This is always the case for custom dependencies.
Also, <br>
for any other rule, you can use a subroutine by prefixing
the command specification by the word &quot;internal&quot;
-- see the section FORMAT OF COMMAND SPECIFICATIONS.</p>

<p style="margin-top: 1em">When you use a subroutine for
processing a rule, all the possibilities of Perl programming
are available, of course. In addition, some of
latexmk&rsquo;s internal variables and sub&acirc; <br>
routines are available. The ones listed below are intended
to be available to (advanced) users, and their
specifications will generally have stability under upgrades.
Generally, <br>
the variables should be treated as read-only: Changing their
values can have bad consequences, since it is liable to mess
up the consistency of what latexmk is doing.</p>

<p style="margin-top: 1em">$rule This variable has the name
of the rule, as known to latexmk. Note that the exact
contents of this variable for a given rule may be dependent
on the version of latexmk</p>

<p style="margin-top: 1em">$$Psource <br>
This gives the name of the primary source file. Note the
double dollar signs.</p>

<p style="margin-top: 1em">$$Pdest <br>
This gives the name of the main output file if any. Note the
double dollar signs.</p>

<p style="margin-top: 1em">rdb_ensure_file( $rule, file )
<br>
This a subroutine that ensures that the given file is among
the source files for the specified rule. It is typically
used when, during the processing of a rule, it is <br>
known that a particular extra file is among the dependencies
that latexmk should know, but its default methods
don&rsquo;t find the dependency. Almost always the first
argument <br>
is the name of the rule currently being processed, so it is
then appropriate to specify it by $rule.</p>

<p style="margin-top: 1em">For examples of its use, see
some of the files in the directory example_rcfiles of
latexmk&rsquo;s distribution. Currently the cases that use
this subroutine are excel&acirc; <br>
tex_latexmkrc and texinfo-latexmkrc. These illustrate
typical cases where latexmk&rsquo;s normal processing fails
to detect certain extra source files.</p>

<p style="margin-top: 1em">rdb_remove_files( $rule, file,
... ) <br>
This subroutine removes one or more files from the
dependency list for the given rule.</p>

<p style="margin-top: 1em">rdb_list_source( $rule ) <br>
This subroutine returns the list of source files (i.e., the
dependency list) for the given rule.</p>

<p style="margin-top: 1em">rdb_set_source( $rule, file, ...
) <br>
rdb_set_source( $rule, @files ) This subroutine sets the
dependency list for the given rule to be the specified
files. Files that are already in the list have unchanged
<br>
information. Files that were not in the list are added to
it. Files in the previous dependency list that are not in
the newly specified list of files are removed from <br>
the dependency list.</p>

<p style="margin-top: 1em">Advanced configuration: Using
latexmk with make <br>
This section is targeted only at advanced users who use the
make program for complex projects, as for software
development, with the dependencies specified by a
Makefile.</p>

<p style="margin-top: 1em">Now the basic task of latexmk is
to run the appropriate programs to make a viewable version
of a LaTeX document. However, the usual make program is not
suited to this purpose <br>
for at least two reasons. First is that the use of LaTeX
involves circular dependencies (e.g., via .aux files), and
these cannot be handled by the standard make program. Second
<br>
is that in a large document the set of source files can
change quite frequently, particularly with included graphics
files; in this situation keeping a Makefile manually updated
<br>
is inappropriate and error-prone, especially when the
dependencies can be determined automatically. Latexmk solves
both of these problems robustly.</p>

<p style="margin-top: 1em">Thus for many standard LaTeX
documents latexmk can be used by itself without the make
program. In a complex project it simply needs to be suitably
configured. A standard con&acirc; <br>
figuration would be to define custom dependencies to make
graphics files from their source files (e.g., as created by
the xfig program). Custom dependencies are latexmk&rsquo;s
equiv&acirc; <br>
alent of pattern rules in Makefiles.</p>

<p style="margin-top: 1em">Nevertheless there are projects
for which a Makefile is appropriate, and it is useful to
know how to use latexmk from a Makefile. A typical example
would be to generate documen&acirc; <br>
tation for a software project. Potentially the interaction
with the rest of the rules in the Makefile could be quite
complicated, for example if some of the source files for a
<br>
LaTeX document are generated by the project&rsquo;s
software.</p>

<p style="margin-top: 1em">In this section, I give a couple
of examples of how latexmk can be usefully invoked from a
Makefile. The examples use specific features of current
versions of GNU make, which is <br>
the default on both linux and OS-X systems. They may need
modifications for other versions of make.</p>

<p style="margin-top: 1em">The simplest method is simply to
delegate all the relevant tasks to latexmk, as is suitable
for a straightforward LaTeX document. For this a suitable
Makefile is like</p>

<p style="margin-top: 1em">.PHONY : FORCE_MAKE <br>
all : try.pdf <br>
%.pdf : %.tex FORCE_MAKE <br>
latexmk -pdf -dvi- -ps- $&lt;</p>

<p style="margin-top: 1em">(Note: the last line must be
introduced by a tab for the Makefile to function correctly!)
Naturally, if making try.pdf from its associated LaTeX file
try.tex were the only task <br>
to be performed, a direct use of latexmk without a Makefile
would normally be better. The benefit of using a Makefile
for a LaTeX document would be in a larger project, where
<br>
lines such as the above would be only be a small part of a
larger Makefile.</p>

<p style="margin-top: 1em">The above example has a pattern
rule for making a .pdf file from a .tex file, and it is
defined to use latexmk in the obvious way. There is a
conventional default target named <br>
&quot;all&quot;, with a prerequisite of try.pdf. So when
make is invoked, by default it makes try.pdf. The only
complication is that there may be many source files beyond
try.tex, but <br>
these aren&rsquo;t specified in the Makefile, so changes in
them will not by themselves cause latexmk to be invoked.
Instead, the pattern rule is equipped with a
&quot;phony&quot; prerequisite <br>
FORCE_MAKE; this has the effect of causing the rule to be
always out-of-date, so that latexmk is always run. It is
latexmk that decides whether any action is needed, e.g., a
<br>
rerun of pdflatex. Effectively the Makefile delegates all
decisions to latexmk, while make has no knowledge of the
list of source files except for primary LaTeX file for the
<br>
document. If there are, for example, graphics files to be
made, these must be made by custom dependencies configured
in latexmk.</p>

<p style="margin-top: 1em">But something better is needed
in more complicated situations, for example, when the making
of graphics files needs to be specified by rules in the
Makefile. To do this, one can <br>
use a Makefile like the following:</p>

<p style="margin-top: 1em">TARGETS = document1.pdf
document2.pdf <br>
DEPS_DIR = .deps <br>
LATEXMK = latexmk -recorder -use-make -deps -e &rsquo;warn
qq(In Makefile, turn off custom dependencies0;&rsquo; -e
&rsquo;@cus_dep_list = ();&rsquo; -e
&rsquo;show_cus_dep();&rsquo; <br>
all : $(TARGETS) <br>
$(foreach file,$(TARGETS),$(eval -include
$(DEPS_DIR)/$(file)P)) <br>
$(DEPS_DIR) : <br>
mkdir $@ <br>
%.pdf : %.tex <br>
if [ ! -e $(DEPS_DIR) ]; then mkdir $(DEPS_DIR); fi <br>
$(LATEXMK) -pdf -dvi- -ps- -deps-out=$(DEPS_DIR)/$@P $&lt;
<br>
%.pdf : %.fig <br>
fig2dev -Lpdf $&lt; $@</p>

<p style="margin-top: 1em">(Again, the lines containing the
commands for the rules should be started with tabs.) This
example was inspired by how GNU automake handles automatic
dependency tracking of C <br>
source files.</p>

<p style="margin-top: 1em">After each run of latexmk,
dependency information is put in a file in the .deps
subdirectory. The Makefile causes these dependency files to
be read by make, which now has the <br>
full dependency information for each target .pdf file. To
make things less trivial it is specificed that two files
document1.pdf and document2.pdf are the targets. The
depen&acirc; <br>
dency files are .deps/document1.pdfP and
.deps/document2.pdfP.</p>

<p style="margin-top: 1em">There is now no need for the
phony prerequisite for the rule to make .pdf files from .tex
files. But I have added a rule to make .pdf files from .fig
files produced by the xfig <br>
program; these are commonly used for graphics insertions in
LaTeX documents. Latexmk is arranged to output a dependency
file after each run. It is given the -recorder option, <br>
which improves its detection of files generated during a run
of pdflatex; such files should not be in the dependency
list. The -e options are used to turn off all custom
depen&acirc; <br>
dencies, and to document this. Instead the -use-make is used
to delegate the making of missing files to make itself.</p>

<p style="margin-top: 1em">Suppose in the LaTeX file there
is a command includegraphics{graph}, and an xfig file
&quot;graph.fig&quot; exists. On a first run, pdflatex
reports a missing file, named &quot;graph&quot;. <br>
Latexmk succeeds in making &quot;graph.pdf&quot; by calling
&quot;make graph.pdf&quot;, and after completion of its
work, it lists &quot;fig.pdf&quot; among the dependents of
the file latexmk is making. Then <br>
let &quot;fig.fig&quot; be updated, and then let make be
run. Make first remakes &quot;fig.pdf&quot;, and only then
reruns latexmk.</p>

<p style="margin-top: 1em">Thus we now have a method by
which all the subsidiary processing is delegated to
make.</p>

<p style="margin-top: 1em">SEE ALSO <br>
latex(1), bibtex(1).</p>

<p style="margin-top: 1em">BUGS <br>
Sometimes a viewer (gv) tries to read an updated .ps or .pdf
file after its creation is started but before the file is
complete. Work around: manually refresh (or reopen)
dis&acirc; <br>
play. Or use one of the other previewers and update
methods.</p>

<p style="margin-top: 1em">(The following isn&rsquo;t
really a bug, but concerns features of previewers.) Preview
continuous mode only works perfectly with certain
previewers: Xdvi on UNIX/Linux works for dvi <br>
files. Gv on UNIX/Linux works for both postscript and pdf.
Ghostview on UNIX/Linux needs a manual update (reopen); it
views postscript and pdf. Gsview under MS-Windows works <br>
for both postscript and pdf, but only reads the updated file
when its screen is refreshed. Acroread under UNIX/Linux
views pdf, but the file needs to be closed and reopened to
<br>
view an updated version. Under MS-Windows, acroread locks
its input file and so the pdf file cannot be updated.
(Remedy: configure latexmk to use sumatrapdf instead.)</p>

<p style="margin-top: 1em">THANKS TO <br>
Authors of previous versions. Many users with their
feedback, and especially David Coppit (username david at
node coppit.org) who made many useful suggestions that
contributed <br>
to version 3, and Herbert Schulz. (Please note that the
e-mail addresses are not written in their standard form to
avoid being harvested by worms and viruses.)</p>

<p style="margin-top: 1em">AUTHOR <br>
Current version, by John Collins (username jcc8 at node
psu.edu). (Version 4.53a).</p>

<p style="margin-top: 1em">Released version can be obtained
from CTAN: &lt;http://www.ctan.org/pkg/latexmk/&gt;, and
from the author&rsquo;s website
&lt;http://www.personal.psu.edu/jcc8/latexmk/&gt;. <br>
Modifications and enhancements by Evan McLean (Version 2.0)
<br>
Original script called &quot;go&quot; by David J. Musliner
(RCS Version 3.2)</p>

<p style="margin-top: 1em">16 May 2017 LATEXMK(1)</p>
<hr>
</body>
</html>
