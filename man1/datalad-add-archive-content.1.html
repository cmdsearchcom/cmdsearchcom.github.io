<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>datalad-add-archive-content(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">datalad-add-archive-content(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">datalad-add-archive-content(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<br/>
 <b>datalad-add-archive-content</b> [--version] [-h] [-l LEVEL] [-p {condor}]
<br/>
 [--annex ANNEX] [--add-archive-leading-dir]
<br/>
 [--strip-leading-dirs]
<br/>
 [--leading-dirs-depth LEADING_DIRS_DEPTH]
<br/>
 [--leading-dirs-consider LEADING_DIRS_CONSIDER]
<br/>
 [--use-current-dir] [-d] [--key] [-e EXCLUDE]
<br/>
 [-r RENAME]
<br/>
 [--existing {fail,overwrite,archive-suffix,numeric-suffix}]
<br/>
 [-o ANNEX_OPTIONS] [--copy] [--no-commit]
<br/>
 [--allow-dirty] [--stats STATS] [--drop-after]
<br/>
 [--delete-after]
<br/>
 archive
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Add content of an archive under git annex control.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
This results in the files within archive (which should be under annex
<div>&#x00A0;</div>
control itself) added under annex referencing original archive via
<div>&#x00A0;</div>
custom special remotes mechanism
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
Example:
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<br/>
 annex-repo$ datalad add-archive-content my_big_tarball.tar.gz
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<br/>
 archive archive file or a key (if --key specified).
<br/>
 Constraints: value must be a string
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 <b>--version</b> show the program's version and license information
<br/>
 <b>-h</b>, <b>--help</b>, <b>--help-np</b>
<br/>
 show this help message. --help-np forcefully disables
<br/>
 the use of a pager for displaying the help message
<br/>
 <b>-l</b> LEVEL, <b>--log-level</b> LEVEL
<br/>
 set logging verbosity level. Choose among critical,
<br/>
 error, warning, info, debug. Also you can specify an
<br/>
 integer &lt;10 to provide even more debugging information
<br/>
 <b>-p</b> {condor}, <b>--pbs-runner</b> {condor}
<br/>
 execute command by scheduling it via available PBS.
<br/>
 For settings, config file will be consulted
<br/>
 <b>--annex</b> <i>ANNEX</i>
<br/>
 annex instance to use. [Default: None]
<br/>
 <b>--add-archive-leading-dir</b>
<br/>
 flag to place extracted content under a directory
<br/>
 which would correspond to archive name with suffix
<br/>
 stripped. E.g. for archive EXAMPLE.ZIP its content
<br/>
 will be extracted under a directory EXAMPLE/.
<br/>
 [Default: False]
<br/>
 <b>--strip-leading-dirs</b>
<br/>
 flag to move all files directories up, from how they
<br/>
 were stored in an archive, if that one contained a
<br/>
 number (possibly more than 1 down) single leading
<br/>
 directories. [Default: False]
<br/>
 <b>--leading-dirs-depth</b> <i>LEADING_DIRS_DEPTH</i>
<br/>
 maximal depth to strip leading directories to. If not
<br/>
 specified (None), no limit. [Default: None]
<br/>
 <b>--leading-dirs-consider</b> <i>LEADING_DIRS_CONSIDER</i>
<br/>
 regular expression(s) for directories to consider to
<br/>
 strip away. Constraints: value must be a string
<br/>
 [Default: None]
<br/>
 <b>--use-current-dir</b>
<br/>
 flag to extract archive under the current directory,
<br/>
 not the directory where archive is located. Note that
<br/>
 it will be of no effect if --key is given. [Default:
<br/>
 False]
<br/>
 <b>-d</b>, <b>--delete</b>
<br/>
 flag to delete original archive from the
<br/>
 filesystem/git in current tree. Note that it will be
<br/>
 of no effect if --key is given. [Default: False]
<br/>
 <b>--key</b> flag to signal if provided archive is not actually a
<br/>
 filename on its own but an annex key. [Default: False]
<br/>
 <b>-e</b> <i>EXCLUDE</i>, <b>--exclude</b> <i>EXCLUDE</i>
<br/>
 regular expressions for filenames which to exclude
<br/>
 from being added to annex. Applied after --rename if
<br/>
 that one is specified. For exact matching, use
<br/>
 anchoring. Constraints: value must be a string
<br/>
 [Default: None]
<br/>
 <b>-r</b> <i>RENAME</i>, <b>--rename</b> <i>RENAME</i>
<br/>
 regular expressions to rename files before being added
<br/>
 under git. First letter defines how to split provided
<br/>
 string into two parts: Python regular expression (with
<br/>
 groups), and replacement string. Constraints: value
<br/>
 must be a string [Default: None]
<br/>
 <b>--existing</b> {fail,overwrite,archive-suffix,numeric-suffix}
<br/>
 what operation to perform a file from archive tries to
<br/>
 overwrite an existing file with the same name. 'fail'
<br/>
 (default) leads to RuntimeError exception. 'overwrite'
<br/>
 silently replaces existing file. 'archive-suffix'
<br/>
 instructs to add a suffix (prefixed with a '-')
<br/>
 matching archive name from which file gets extracted,
<br/>
 and if that one present, 'numeric-suffix' is in effect
<br/>
 in addition, when incremental numeric suffix (prefixed
<br/>
 with a '.') is added until no name collision is longer
<br/>
 detected. [Default: 'fail']
<br/>
 <b>-o</b> <i>ANNEX_OPTIONS</i>, <b>--annex-options</b> <i>ANNEX_OPTIONS</i>
<br/>
 additional options to pass to git-annex. Constraints:
<br/>
 value must be a string [Default: None]
<br/>
 <b>--copy</b> flag to copy the content of the archive instead of
<br/>
 moving. [Default: False]
<br/>
 <b>--no-commit</b> flag to not commit upon completion. [Default: True]
<br/>
 <b>--allow-dirty</b> flag that operating on a dirty repository (uncommitted
<br/>
 or untracked content) is ok. [Default: False]
<br/>
 <b>--stats</b> <i>STATS</i>
<br/>
 ActivityStats instance for global tracking. [Default:
<br/>
 None]
<br/>
 <b>--drop-after</b> drop extracted files after adding to annex. [Default:
<br/>
 False]
<br/>
 <b>--delete-after</b> extract under a temporary directory, git-annex add,
<br/>
 and delete after. To be used to &quot;index&quot; files within
<br/>
 annex without actually creating corresponding files
<br/>
 under git. Note that `annex dropunused` would later
<br/>
 remove that load. [Default: False]
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<br/>
 datalad is developed by The DataLad Team and Contributors
  &lt;team@datalad.org&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-12-18</td>
    <td class="foot-os">datalad-add-archive-content 0.4.1</td>
  </tr>
</table>
</body>
</html>
