<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:05:02 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DOSEMU.BIN(1) DOS Emulation DOSEMU.BIN(1)</p>

<p style="margin-top: 1em">NAME <br>
dosemu.bin, dosdebug - run DOS and DOS programs under
Linux</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dosemu.bin [ -234ABCcdKkmNnOpSstVwX ] [ -h level ] [ -F file
] [ --Fusers file ] [ --Flibdir directory ] [ --Fimagedir
directory ] [ -f file ] [ -L dexefile ] [ -u confvar ] [ -D
<br>
flags ] [ -M size ] [ -e size ] [ -x size ] [ -P file ] [ -o
file ] [ 2&gt; debugfile ] [ -I config-options ] [
-i[bootdir] ] [ -U inpipe[:outpipe] ] [ [-E] dos-command
]</p>

<p style="margin-top: 1em">dosdebug</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dosemu.bin is the binary wrapped by the script dosemu (1)
which invokes the Linux dos emulator, also known as DOSEMU.
<br>
debugfile is an optional file into which all debugging
output will be redirected.</p>

<p style="margin-top: 1em">dosdebug is used to control or
debug an already running DOSEMU.</p>

<p style="margin-top: 1em">Although this program is known
as the DOS emulator, it is actually a virtual machine for
DOS, allowing DOS and programs written for DOS to operate in
an environment similar to a <br>
standard IBM PC/AT or compatible with an Intel 80x86
processor in real mode. DOSEMU provides emulation of such
services as BIOS video, disk, keyboard, serial, and printer;
CMOS <br>
memory for configuration information; a real time clock;
memory allocation through the XMS 3.0 specification, EMS 4.0
and DPMI 0.9.</p>

<p style="margin-top: 1em">Because DOSEMU is not really a
DOS emulator, a copy of FreeDos is required, which now is
pre-configured and part of the official DOSEMU binary
distribution. In addition any cur&acirc; <br>
rently available proprietary DOS (such as MS-DOS, PC-DOS,
DR-DOS) can be booted, when properly configured.</p>

<p style="margin-top: 1em">KERNEL REQUIREMENTS <br>
At present, you will need Linux 2.0.28 or above with the
SYSV IPC option (System V Inter-Process Communication
facilities, see ipc(2)) compiled. SYSV IPC is an option in
the con&acirc; <br>
figuration setup during a Linux kernel compile.</p>

<p style="margin-top: 1em">OPTIONS <br>
-2,3,4,5 <br>
choose 286, 386, 486 or 586 processor to simulate.</p>

<p style="margin-top: 1em">-A boot from floppy disk A (does
not need to be a real floppy disk, see below)</p>

<p style="margin-top: 1em">-B boot from floppy disk B (does
not need to be a real floppy disk, see below)</p>

<p style="margin-top: 1em">-C boot from hard disk C (does
not need to be a real hard disk or even an msdos filesystem,
see below)</p>

<p style="margin-top: 1em">-c use direct Console video
(must be at the console, requires special privileges, and -s
).</p>

<p style="margin-top: 1em">-d detach from current virtual
console or tty and attach to the first free virtual
console</p>

<p style="margin-top: 1em">[-E] dos-command <br>
Run DOS command when starting DOSEMU, and, if
&rsquo;-E&rsquo; is not given, exit DOSEMU after running the
command. The command can also be given with a Linux path
(for example <br>
/home/joeuser/dosemu/freedos/bin/xcopy.exe). Note: this only
works if your autoexec.bat contains a &quot;unix -e&quot;
command.</p>

<p style="margin-top: 1em">-k use RAW console Keyboard
(must be at the console)</p>

<p style="margin-top: 1em">-F Parse this config-script
instead of the built-in global.conf file (you need to run as
root on suid DOSEMU for this)</p>

<p style="margin-top: 1em">--Fusers <br>
Bypass dosemu.users and take this file instead (only
accepted when dosemu.bin is not suid-root).</p>

<p style="margin-top: 1em">--Flibdir <br>
Bypass the default DOSEMU_LIB_DIR (as maybe defined in
dosemu.users) and use this directory instead.</p>

<p style="margin-top: 1em">--Fimagedir <br>
Bypass the default directory for bootdirectory and hdimages
(DOSEMU_HDIMAGE_DIR) and use this directory instead.</p>

<p style="margin-top: 1em">-f Parse this config-file
instead of .dosemurc</p>

<p style="margin-top: 1em">-n Bypass (don&rsquo;t use)
dosemu.users and dosemu.conf (only accepted when dosemu.bin
is not suid-root).</p>

<p style="margin-top: 1em">-u set a user configuration
variable. An u_ is prefixed to the name to avoid name
clashes. This variable then can be checked in dosemu.conf or
global.conf to do some special <br>
configuration.</p>

<p style="margin-top: 1em">-L Load and start a DEXE file
(special preconfigured bootable hdimage containing just one
DOS application)</p>

<p style="margin-top: 1em">-I Parse the string behind -I
with the same syntax as global.conf or .dosemurc such as</p>

<p style="margin-top: 1em">dos ... -I &rsquo;video { mda
}&rsquo;</p>

<p style="margin-top: 1em">This is useful if you just want
to override a given configuration parameter temporary. You
also may have a generic configuration by executing a script
such as</p>

<p style="margin-top: 1em">dos ... -I
&quot;&lsquo;myconf.sh&lsquo;&quot;</p>

<p style="margin-top: 1em">where myconf.sh is a script
writing the configuration to stdout. If you have an
alternate configuration file besides .dosrc,</p>

<p style="margin-top: 1em">dos ... -I &quot;&lsquo;cat
myother.conf&lsquo;&quot;</p>

<p style="margin-top: 1em">will do the job. Note however,
that you have to quote the parameter behind -I because it is
expected to be one argument.</p>

<p style="margin-top: 1em">-i[bootdir] <br>
launched as part of a systemwide installation, this option
(re-)installs a DOS that is used in DOSEMU (this can be the
DOSEMU distributed FreeDOS or any proprietary DOS, <br>
which is bootable via fatfs). bootdir is the base name of a
directory. The symbolic link ~/.dosemu/drives/c will be
changed to point to this directory. Re-installing is <br>
only rarely necessary, since in practise the symbolic
link(s) will automatically point to updated files.</p>

<p style="margin-top: 1em">-D specify which Debugging
messages to allow/suppress</p>

<p style="margin-top: 1em">-h dump configuration to stderr
and exit (implicit sets -D+c). This is useful for debugging
configuration files, you should use -O too to direct the +c
type messages to <br>
stderr. &lsquo;level&rsquo; can be 0, 1 or 2 and controls
the amount of configuration parser debug output: No parser
debug (0), parser loop debug (1), if_else_endif debug
(2).</p>

<p style="margin-top: 1em">-H specify the dosdebug support
flags, currently only &lsquo;1&rsquo; is is reasonable. with
-H1 you force dosemu to wait until the dosdebug terminal has
connected. Hence to debug a DOS <br>
session from the very beginning you first start dosemu with
-H1 and then start dosdebug. DOSEMU will then lock before
jumping into the loaded bootsector waiting for dos&acirc;
<br>
debug to connect. Once connected you are in
&lsquo;stopped&rsquo; state and can set breakpoints or
single-step through the bootstrap code.</p>

<p style="margin-top: 1em">-M set base memory to SIZE
Kilobytes</p>

<p style="margin-top: 1em">-m toggle internal
mouse-support</p>

<p style="margin-top: 1em">-O use stderr for output of
Debugging messages</p>

<p style="margin-top: 1em">-o use this file for output of
Debugging messages</p>

<p style="margin-top: 1em">-P copy debugging output to
FILE</p>

<p style="margin-top: 1em">-p stop for prompting if a
non-fatal configuration problem is detected</p>

<p style="margin-top: 1em">-S run using SDL</p>

<p style="margin-top: 1em">-s super-user/full feature mode:
enable direct hardware access. Use this switch if you wish
to use graphics on the console, need direct port access,
hardware interrupts or <br>
raw network access. Implies -V and -k by default.</p>

<p style="margin-top: 1em">WARNING: THIS SWITCH NEEDS ROOT,
SUID-ROOT, OR SUDO. GIVING DIRECT HARDWARE ACCESS TO DOS
PROGRAMS MAY GIVE THESE THE ABILITY TO LOCK YOUR COMPUTER,
OR (IN RARE CASES) <br>
EVEN DAMAGE HARDWARE. ONLY TRUSTED LOCAL USERS SHOULD BE
GIVEN THIS TYPE OF ACCESS.</p>

<p style="margin-top: 1em">-t terminal mode: run using the
S-Lang library</p>

<p style="margin-top: 1em">-U define inpipe and outpipe for
asynchronous control of DOSEMU from another process. The
format is (without whitespace in between)</p>

<p style="margin-top: 1em">inpipe:outpipe</p>

<p style="margin-top: 1em">where &lsquo;:outpipe&rsquo; can
be omitted. In the latter case no feedback from DOSEMU can
be expected.</p>

<p style="margin-top: 1em">For security reasons DOSEMU does
not create the named pipes itself, so the user is
responsible to set the permissions of the pipes correctly.
Note that when using this <br>
options, the foreign process can control your DOSEMU session
(such as entering keystrokes). This option should therefor
only used by frontends (such as kdos), which first <br>
create the proper named pipes and then launch DOSEMU. A
special control command ( ack on ) can be used to force
DOSEMU returning handshake tags via &lsquo;outpipe&rsquo;
such that <br>
the frontend knows when the control command has started or
finished and whether it was successful. The format of this
tagging is</p>

<p style="margin-top: 1em">SYN: &lt;commandname&gt;</p>

<p style="margin-top: 1em">&lt;any output from the
command&gt;</p>

<p style="margin-top: 1em">ACK: code=n</p>

<p style="margin-top: 1em">where n is 0 for success. A tiny
control terminal, which can serve as example, is the
supplied dosctrl program. It takes just the two pipes as
arguments and you may then <br>
enter control commands, which of them &lsquo;help&rsquo; is
the most important one;-) Note that dosctrl does not launch
DOSEMU, you have to do it yourself.</p>

<p style="margin-top: 1em">-V use direct console video with
VGA graphics and use the native graphics card&rsquo;s BIOS
(must be at the console, requires special privileges, and -s
).</p>

<p style="margin-top: 1em">-w toggle windowed/fullscreen
mode in X</p>

<p style="margin-top: 1em">-X run in an X Window</p>

<p style="margin-top: 1em">HARD DISKS <br>
DOSEMU supports four methods of supplying DOS with hard
disks:</p>

<p style="margin-top: 1em">1. a virtual disk file residing
on a Linux filesystem which emulates a hard drive.</p>

<p style="margin-top: 1em">2. direct access to a DOS
partition through a raw disk device (i.e. /dev/hda,
/dev/hdb, /dev/sdX).</p>

<p style="margin-top: 1em">3. direct access to an DOS
partition through single partition access (i.e. /dev/hda1,
/dev/hdb2, /dev/sdxx).</p>

<p style="margin-top: 1em">4. access to a Linux filesystem
as a &quot;network&quot; drive using the driver emufs.sys
supplied with DOSEMU in commands/emufs.sys or
lredir.exe.</p>

<p style="margin-top: 1em">Configuration of DOSEMU&rsquo;s
hard disk resources is done by editing dosemu.conf or
.dosemurc before running DOSEMU. Look at
/usr/share/doc/dosemu/README.txt.</p>

<p style="margin-top: 1em">FLOPPY DISKS <br>
DOSEMU supports two methods of supplying DOS with floppy
disks:</p>

<p style="margin-top: 1em">1. a virtual disk file residing
on a Linux filesystem which emulates a floppy drive</p>

<p style="margin-top: 1em">2. direct access to a physical
floppy through a raw disk device (i.e. /dev/fd0,
/dev/fd1).</p>

<p style="margin-top: 1em">This is also explained more
thoroughly in README.txt.</p>

<p style="margin-top: 1em">Configuration of DOSEMU&rsquo;s
floppy disk resources is done by editing the dosemu.conf
before running DOSEMU.</p>

<p style="margin-top: 1em">VIDEO <br>
DOSEMU may be run on any tty device. However, increased
performance and functionality may be had by taking advantage
of special features of the Linux console. Those running <br>
DOSEMU on the console may wish to investigate the -c, -k,
and -V switches, explained more thoroughly in README.txt.
There is also some very brief documentation in the file <br>
dosemu.conf, which can be edited for your needs.</p>

<p style="margin-top: 1em">In brief, proper use of the
console device and the corresponding switches allows the
user to view a DOS program in its original color and font,
with none of the periodic screen <br>
update problems with the generic tty output code.</p>

<p style="margin-top: 1em">KEYBOARD <br>
Those using DOSEMU on the Linux console may also wish to use
the RAW keyboard support. This mode of operation, selected
by the -k switch, provides the user with access to the <br>
entire keyboard accessible under DOS. Any combination of
ALT, CTRL, and SHIFT keys may be used to generate the odd
keycodes expected by many DOS programs.</p>

<p style="margin-top: 1em">PRINTING <br>
The BIOS printer services are emulated through standard UNIX
file I/O though temporary files which are then periodically
spooled by LPR or a different print client, as defined by
<br>
$_printer_commands in dosemu.conf.</p>

<p style="margin-top: 1em">DEBUG MESSAGES <br>
Debug messages can be controlled either at the command line
or in the configuration file. Take a look at the
documentation inside the config.dist file included with
DOSEMU in <br>
the examples subdirectory, for debugging options. At the
command line, you may specify which classes of messages you
wish dos to allow. The syntax of this is DOSEMU takes an
<br>
option &quot;-D FLAGS&quot;, where FLAGS is a string of
letters which specify which options to print or suppress.
DOSEMU parses this string from left to right.</p>

<p style="margin-top: 1em">+ turns the following options on
(initial state) <br>
- turns the following options off <br>
a turns all the options on/off, depending on flag <br>
0 turns all options off <br>
1-9 sets the debug level, the higher, the more output <br>
# where # is a letter from the valid class list, <br>
turns that option off/on depending on the <br>
+/- state.</p>

<p style="margin-top: 1em">Message Classes:</p>

<p style="margin-top: 1em">d disk R disk read W disk write
<br>
D int 21h C cdrom v video <br>
X X support k keyboard i port I/O <br>
s serial m mouse # default ints <br>
p printer g general c configuration <br>
w warning h hardware I IPC <br>
E EMS x XMS M DPMI <br>
n IPX network P Pkt-driver S SOUND <br>
r PIC T IO-tracing Z PCI-BIOS <br>
A ASPI driver Q mapping driver</p>

<p style="margin-top: 1em">Any debugging classes following
a + character, up to a - character, will be turned on
(non-suppressed). Any after a - character, up to a +
character, will be suppressed. The <br>
character a acts like a string of all possible debugging
classes, so +a turns on all debugging messages, and -a turns
off all debugging messages. The characters 0 and 1-9 are
<br>
also special: 0 turns off all debugging messages, and 1-9
turns on all debugging messages, but set the debug level
too.</p>

<p style="margin-top: 1em">There is an assumed + at the
beginning of the FLAGS string. Some classes, such as error,
can not be turned off. In case you didn&rsquo;t redirect
stderr, nearly all output to stderr <br>
goes to /dev/null.</p>

<p style="margin-top: 1em">Some examples: <br>
&quot;-D+a-v&quot; or &quot;-D1-v&quot; : all messages but
video <br>
&quot;-D+kd&quot; : default + keyboard and disk <br>
&quot;-D0+RW&quot; : only disk READ and WRITE</p>

<p style="margin-top: 1em">Any option letter can occur in
any place. Even pointless combinations, such as -D01-a-1+0,
will be parsed without error, so be careful. Some options
are set by default, some <br>
are clear. This is subject to my whim, and will probably
change between releases. You can ensure which are set by
always explicitly specifying them.</p>

<p style="margin-top: 1em">SPECIAL KEYS <br>
In RAW keyboard mode (see the -k option), DOSEMU responds to
certain key sequences as control functions.</p>

<p style="margin-top: 1em">ctrl-scrlock = show 0x32 int
vectors <br>
alt-scrlock = show the vm86 registers <br>
rshift-scrlock = generate an int8 (timer) <br>
lshift-scrlock = generate an int9 (keyboard) <br>
ctrl-break = ctrl-break as under DOS. <br>
ctrl-alt-pgup = reboot DOS. Don&rsquo;t trust this! <br>
ctrl-alt-pgdn = exit the emulator</p>

<p style="margin-top: 1em">Use &lt;LEFT CTRL&gt;-&lt;LEFT
ALT&gt;-&lt;Function key&gt; to switch to another virtual
console.</p>

<p style="margin-top: 1em">MEMORY <br>
The XMS memory support in DOSEMU conforms to
Lotus/Intel/Microsoft/AST extended memory specification 3.0.
I have implemented all XMS functions except function 0x12
(Reallocate <br>
Upper Memory Block).</p>

<p style="margin-top: 1em">DOSEMU also supports EMS 4.0 and
implements DPMI 0.9 (1.0 partially).</p>

<p style="margin-top: 1em">AUTHOR <br>
DOSEMU (comprised of the files dosemu.bin and dosemu ) is
based on version 0.4 of the original program written by
Matthias Lautner (no current address that I know of).</p>

<p style="margin-top: 1em">Robert Sanders
&lt;gt8134b@prism.gatech.edu&gt; was maintaining and
enhancing the incarnation of DOSEMU with which this man page
was originally distributed. During about 4 years James <br>
B. MacLean &lt;macleajb@ednet.ns.ca&gt; was the restless
leader of the dosemu team, implementation of DPMI (which
made Windows-3.1, dos4gw, djgpp, etc. running) happened
during his <br>
&rsquo;governement&rsquo; and brought the project near to
Beta-state. Hans Lermen &lt;lermen@fgan.de&gt; took over and
released the first 1.0 version. Now Bart Oldeman
&lt;bart@dosemu.org&gt; is main&acirc; <br>
taining this funny software.</p>

<p style="margin-top: 1em">BUGS <br>
There are too many to count, much less list.</p>

<p style="margin-top: 1em">Please report bugs to the
author. I&rsquo;d also like to hear about which programs DO
work. Just send me a note detailing what program (and what
version) you are using, what works <br>
and what doesn&rsquo;t, etc.</p>

<p style="margin-top: 1em">AVAILABILITY <br>
The most recent public version of DOSEMU can be obtained
from www.dosemu.org; a fast mirror is at
ibiblio.unc.edu:/pub/Linux/system/emulators/dosemu/. If you
want to keep up on <br>
private developer pre-releases, join the DOSEMU developer
team - even just good detailed debug reports are all you
need!</p>

<p style="margin-top: 1em">FILES <br>
/usr/bin/dosemu.bin <br>
The binary <br>
/usr/bin/dosemu <br>
The wrapper script, it is recommended not to invoke
dosemu.bin directly. <br>
/usr/bin/xdosemu <br>
Same, but invoking DOS in an X window. <br>
$HOME/.dosemu <br>
Per user DOSEMU local directory. This will be created
silently, if not existing. <br>
$HOME/.dosemu/tmp <br>
All temporary file creation happens here, we do not use /tmp
anymore. <br>
/var/run/dosemu.* <br>
or <br>
$HOME/.dosemu/run <br>
Various files used by DOSEMU including debugger pipes. <br>
$HOME/dosemu/freedos <br>
Bootdirectory containing the FreeDos part. <br>
/etc/dosemu/dosemu.conf <br>
or (only if /etc/dosemu.users exists) /etc/dosemu.conf Main
configuration file for DOSEMU. which is included by
global.conf (global.conf is included in dosemu.bin by <br>
default). <br>
$HOME/.dosemurc <br>
Per-user configuration file. <br>
/etc/dosemu.users <br>
or <br>
/etc/dosemu/dosemu.users <br>
For suid-root or sudo running binaries: Defines the access
rights to DOSEMU on a per user basis and sets some vital
configuration. This is the only fix-location
configura&acirc; <br>
tion file, DOSEMU first looks for /etc/dosemu.users and, if
this is not found, for /etc/dosemu/dosemu.users . Via the
keyword default_lib_dir= in dosemu.users the sys&acirc; <br>
temwide DOSEMU_LIB_DIR directory may be moved elsewhere. For
more information see /usr/share/doc/dosemu/README.txt <br>
/etc/dosemu/dos.ini <br>
IPX configuration file.</p>

<p style="margin-top: 1em">doc/DANG.txt <br>
To help you hack DOSEMU code. <br>
/usr/share/doc/dosemu/README.* <br>
Various documentation. <br>
QuickStart, README and INSTALL <br>
To set up DOSEMU quickly. <br>
ChangeLog <br>
Changes in DOSEMU since the last release. <br>
/usr/share/doc/dosemu/README.bindist <br>
Information on how to use the DOSEMU/FreeDos ready-to-use
binary distribution. <br>
MSDOS mailing list <br>
For more information, mail to <br>
linux-msdos@vger.kernel.org</p>

<p style="margin-top: 1em">SEE ALSO <br>
dosemu(1), mkfatimage16(1)</p>

<p style="margin-top: 1em">Version 1.4.0.8 2013-01-05
DOSEMU.BIN(1)</p>
<hr>
</body>
</html>
