<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>cleanup_digikamdb(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">cleanup_digikamdb(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">cleanup_digikamdb(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cleanup_digikamdb - Cleanup the digiKam databases to reduce their sizes and
  increase access speed
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<br/>
<b>cleanup_digikamdb</b>
<br/>
[-t] [-T] [-p] [-h]
<br/>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Include thumbnail databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b></dt>
  <dd class="It-tag">Only cleanup thumbnail databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p </b><b></b><i>path</i><b> </b></dt>
  <dd class="It-tag">Specify a different database <i>path</i>. If this option is
      not set or the specified <i>path</i> is invalid, the entry from the
      configuration file will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Show command line options.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>cleanup_digikamdb</b> will cleanup and optimize the digiKam database file.
  This will, in most cases, lead to a smaller database file size and an
  increased access speed, because unneeded elements are removed from the
  database and data is optimized.
<div class="Pp"></div>
The program will make sure that no instance of digiKam is running, because it is
  more safe to have no database access during the optimization process. It then
  will read the digiKam configuration file and determine the database location.
  In a final step the database will be optimized by invoking the sqlite command
  ' <i>VACUUM</i>;' on it. If more then one database is found in this location,
  <b>cleanup_digikamdb</b> will optimize every database found in this path and
  below.
<div class="Pp"></div>
For further explanation, see the following description of the <i>VACUUM</i>
  command from the sqlite3 website:
<div class="Pp"></div>
When an object (table, index, or trigger) is dropped from the database, it
  leaves behind empty space. This empty space will be reused the next time new
  information is added to the database. But in the meantime, the database file
  might be larger than strictly necessary. Also, frequent inserts, updates, and
  deletes can cause the information in the database to become fragmented -
  scrattered out all across the database file rather than clustered together in
  one place.
<div class="Pp"></div>
The <i>VACUUM</i> command cleans the main database by copying its contents to a
  temporary database file and reloading the original database file from the
  copy. This eliminates free pages, aligns table data to be contiguous, and
  otherwise cleans up the database file structure.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>cleanup_digikamdb</b> was written by Andi Clemens &lt;andi dot clemens at
  gmail dot com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">24 October 2011</td>
    <td class="foot-os">cleanup_digikamdb</td>
  </tr>
</table>
</body>
</html>
