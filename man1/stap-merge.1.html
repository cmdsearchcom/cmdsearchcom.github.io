<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>STAP-MERGE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">STAP-MERGE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">STAP-MERGE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
stap-merge - systemtap per-cpu binary merger
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>stap-merge</b> [ <i>OPTIONS</i> ] [ <i>INPUT FILENAMES</i> ]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The stap-merge executable applies when the -b option has been used while running
  a <i>stap</i> script. The -b option will generate files per-cpu, based on the
  timestamp field. Then stap-merge will merge and sort through the per-cpu files
  based on the timestamp field.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The systemtap merge executable supports the following options.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Verbose mode, displays three extra fields per set of
      collected data.
    <div>&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
<b>[cpu</b>number,<b>sequence</b>number<b>of</b>data,<b>the</b>length<b>of</b>the<b>data</b>set]
</pre>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i> OUTPUT_FILENAME</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Specify the name of the file you would like the output to be redirected
      into. If this option is not specified than the output will be pushed to
      standard out.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<div style="margin-left: 5.00ex;">
<pre>
$ stap -v -b -e 'probe syscall.open { printf(&quot;%s(%d) open\n&quot;,
execname(), pid()) }' 
<div class="Pp"></div>
</pre>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
This should result in several <i>stpd_cpu</i> files (each labled with a number
  representing which cpu the file was produced from).
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
$ stap-merge -v stpd_cpu0 stpd_cpu1
<div class="Pp"></div>
</pre>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Running the stap-merge program in the same directory as the stap script earlier
  in the example, will produce an ordered sequence of packets with the three
  part label for each set of data. This result will be pushed through the
  standard output. An output file could have been specified using the
  &quot;-o&quot; option.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Important files and their corresponding paths can be
    located in the</dt>
  <dd class="It-tag">stappaths (7) manual page.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<pre>
<i>stapprobes</i>(3stap),
<i>stappaths</i>(7),
<i>staprun</i>(8),
<i>stapvars</i>(3stap),
<i>stapex</i>(3stap),
<i>stap-server</i>(8),
<i>gdb</i>(1)
<div class="Pp"></div>
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Use the Bugzilla link of the project web page or our mailing list.
  <b>http://sourceware.org/systemtap/</b>,<b>&lt;systemtap@sourceware.org&gt;</b>.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
