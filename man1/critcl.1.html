<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>critcl(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">critcl(1)</td>
    <td class="head-vol">C Runtime In Tcl (CriTcl)</td>
    <td class="head-rtitle">critcl(1)</td>
  </tr>
</table>
<div class="manual-text">
<pre>
</pre>
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
critcl - CriTcl Application
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>critcl</b> ?<i>option</i>...? ?<i>file</i>...?
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
</pre>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Welcome to the <i>C Runtime In Tcl</i>, <i>CriTcl</i> for short, a system to
  build C extension packages for Tcl on the fly, from C code embedded within Tcl
  scripts, for all who wish to make their code go faster.
<div class="Pp"></div>
This document is the reference manpage for the <b>critcl</b> command. Its
  intended audience are people having to build packages using <b>critcl</b> for
  deployment. Writers of packages with embedded C code can ignore this document.
  If you are in need of an overview of the whole system instead, please go and
  read the <i>Introduction To CriTcl</i>.
<div class="Pp"></div>
This application resides in the Application Layer of CriTcl.
<div class="Pp"></div>
<pre>
*================*
|Applications    |
| critcl         |
| critcl::app    |
*================*
<div class="Pp"></div>
+----------------+
|Core Packages   |
| critcl         |
| critcl::util   |
+----------------+
<div class="Pp"></div>
+----------------+
|Support Packages|
| stubs::*       |
| md5, platform  |
|  ...           |
+----------------+
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
. The application supports the following general command line:
<dl class="Bl-tag">
  <dt class="It-tag"><b>critcl</b> ?<i>option</i>...? ?<i>file</i>...?</dt>
  <dd class="It-tag">The exact set of options supported, their meaning, and
      interaction is detailed in section <b>Application Options</b> below. For a
      larger set of examples please see section &quot;Building Critcl
      Packages&quot; in the document about <i>Using CriTcl</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="APPLICATION_OPTIONS"><a class="selflink" href="#APPLICATION_OPTIONS">APPLICATION
  OPTIONS</a></h1>
The following options are understood
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">These options cause critcl to print its version to
      <b>stdout</b> and then exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b> path</dt>
  <dd class="It-tag">This option specifies an additional global include path to
      use during compilation of &quot; <i>.critcl</i>&quot; files. All values
      are used if this is specified multiple times.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b> path</dt>
  <dd class="It-tag">This option specifies an additional global library searh
      path to use during linking of &quot; <i>.critcl</i>&quot; files. All
      values are used if this is specified multiple times.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-cache</b> path</dt>
  <dd class="It-tag">This option specifies the path to the directory to use as
      the result cache. If not specified it defaults to &quot;
      <i>~/.critcl/&lt;platform&gt;</i>&quot;, or, when generating a package
      (see option <b>-pkg</b> below), to &quot;
      <i>~/.critcl/&lt;pid&gt;.&lt;epoch&gt;</i>&quot;, When specified multiple
      times the last value is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-clean</b></dt>
  <dd class="It-tag">When specified the result cache is emptied, i.e. all files
      and directories found inside are deleted) before compilation begins.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a package (see option <b>-pkg</b>
      below) because this mode starts out with a unique and empty result cache.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-config</b> path</dt>
  <dd class="It-tag">This option specifies the path to a custom configuration
      file, allowing the user to use their own target specifications. If not
      specified a hardwired default configuration embedded in the system core is
      used instead. When specified multiple times the last value is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-debug</b> mode</dt>
  <dd class="It-tag">This option activates compilation with debugging. It
      accepts the modes below. When specified multiple times the combination of
      all modes is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>memory</b></dt>
  <dd class="It-tag">This mode activates memory debugging of allocations made
      through the Tcl core.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>symbols</b></dt>
  <dd class="It-tag">This mode activates building of all &quot;<i>.c</i>&quot;
      files with debugging symbols.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>all</b></dt>
  <dd class="It-tag">This mode activates both <b>memory</b> and
    <b>symbols</b>.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-disable</b> name</dt>
  <dd class="It-tag">This option sets the value of the custom build
      configuration option <i>name</i> to <b>false</b>. It is equivalent to
      &quot;-with- <i>name</i> 0&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    The information is validated only if one of the &quot; <i>.critcl</i>&quot;
      input files actually defines and uses a custom build configuration option
      with that <i>name</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-enable</b> name</dt>
  <dd class="It-tag">This option sets the value of the custom build
      configuration option <i>name</i> to <b>true</b>. It is equivalent to
      &quot;-with- <i>name</i> 1&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    The information is validated only if one of the &quot; <i>.critcl</i>&quot;
      input files actually defines and uses a custom build configuration option
      with that <i>name</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-force</b></dt>
  <dd class="It-tag">When specified compilation is always done, even if a shared
      library for the file exists already. This effect can be had through
      cleaning the cache (see above) as well, except that it is lazy in the
      destruction of files and will not destroy files unrelated to the ones we
      are building.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a package (see option <b>-pkg</b>
      below) because this mode starts out with a unique and empty result cache.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">This option will cause the system to print a short help
      about command line syntax and options and then exit the application.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-keep</b></dt>
  <dd class="It-tag">This option will cause the system to keep the
      &quot;<i>.c</i>&quot; files generated by a run in the result cache. When
      generating a package (see option <b>-pkg</b> below) this also prevents the
      deletion of the unique result cache used by the run. This option is
      intended for the debugging of <b>critcl</b> itself, where it may be
      necessary to inspect the generated C code.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-libdir</b> path</dt>
  <dd class="It-tag">This option specifies the path under which the packages
      generated via option <b>-pkg</b> are saved. It also specifies a path to
      search libraries in, like for <b>-L</b>. When specified multiple times the
      last value is used. When not specified at all the default, &quot;
      <i>lib</i>&quot;, is used. Note how this is a relative path, placing the
      result into the current working directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-includedir</b> path</dt>
  <dd class="It-tag">This option specifies the path under which any generated
      package headers are saved. It also specifies a path to search include
      files in, like for <b>-I</b>. When specified multiple times the last value
      is used as destination, however all previous values are kept on the
      include search path. When not specified at all the default, &quot;
      <i>include</i>&quot;, is used. Note how this is a relative path, placing
      the result into the current working directory.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pkg</b></dt>
  <dd class="It-tag">The default mode of the application is to build the
      &quot;<i>.critcl</i>&quot; files listed on the command line and save the
      results in the result cache. Essentially pre-filling the cache with
      important packages, cutting down on the time needed to use these packages.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option activates one of the other modes, package generation. In this
      mode the input files are processed first as usual, however after that they
      are bundled into a single library and additional files are generated to
      make this library usable as a regular Tcl package.
    <div style="height: 1.00em;">&#x00A0;</div>
    The option <b>-tea</b>, see below, invokes the last mode, TEA generation. If
      both options, i.e. <b>-pkg</b> and <b>-tea</b> are specified the last one
      specified wins.
    <div style="height: 1.00em;">&#x00A0;</div>
    In this mode the options <b>-clean</b> and <b>-force</b> are irrelevant and
      ignored. In contrast, the option <b>-libdir</b> is relevant in both this
      and <b>-tea</b> mode.
    <div style="height: 1.00em;">&#x00A0;</div>
    When this option is specified the basename of the first file argument after
      the options is used as the name of the package to generate. If the
      extension of that file indicates a shared library (&quot;
      <i>.so</i>&quot;, &quot; <i>.sl</i>&quot;, &quot;<i>.dylib</i>&quot;, and
      &quot; <i>.dll</i>&quot;) it is also removed from the set of input files.
      A &quot; <i>.tcl</i>&quot; file is kept as part of the input. A single
      file without extension is assumed to actually have a &quot;
      <i>.tcl</i>&quot; extension. A file without extension, but other input
      files following is treated like the name of a shared library proper, and
      removed from the set of input files.
    <div style="height: 1.00em;">&#x00A0;</div>
    Examples:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -pkg ... foo
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   foo.tcl
<div class="Pp"></div>
</pre>
</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -pkg ... foo bar.tcl
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   bar.tcl
<div class="Pp"></div>
</pre>
</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -pkg ... foo.tcl
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   foo.tcl
<div class="Pp"></div>
</pre>
</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -pkg ... foo.so bar.tcl
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   bar.tcl
<div class="Pp"></div>
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-show</b></dt>
  <dd class="It-tag">This option, when specified, will cause the system to print
      the configuration of the chosen target to <b>stdout</b> and then exit. The
      choice of target can be influenced through the option <b>-target</b> (see
      below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-showall</b></dt>
  <dd class="It-tag">This option, when specified, will cause the system to print
      the whole chosen configuration file to <b>stdout</b> and then exit. The
      choice of configuration file can be influenced through the option
      <b>-config</b> (see above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-target</b> name</dt>
  <dd class="It-tag">This option overrides the default choice of build target
      with the user's choice. When specified multiple times the last value is
      used. The named target must exist in the chosen configuration file. Use
      option <b>-targets</b> (see below) to get a list of the acceptable
      targets. The choice of configuration file can be influenced through the
      option <b>-config</b> (see above).
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-targets</b></dt>
  <dd class="It-tag">This option, when specified, will cause the system to print
      the list of all known targets from the chosen configuration file to
      <b>stdout</b> and then exit. The choice of configuration file can be
      influenced through the option <b>-config</b> (see above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-tea</b></dt>
  <dd class="It-tag">Similar to option <b>-pkg</b>, except that the invoked mode
      does not generate binaries, but a directory hierarchy containing the
      &quot; <i>.critcl</i>&quot; file, its companion files, and a TEA-lookalike
      build system with most of the needed support code (incliding copies of the
      critcl packages).
    <div style="height: 1.00em;">&#x00A0;</div>
    If both options, i.e. <b>-pkg</b> and <b>-tea</b> are specified the last one
      specified wins.
    <div style="height: 1.00em;">&#x00A0;</div>
    In this mode the options <b>-I</b>, <b>-L</b>, <b>-clean</b>, <b>-force</b>,
      <b>-cache</b>, <b>-includedir</b>, <b>-enable</b>, <b>-disable</b>, and
      <b>-with-</b><b>FOO</b> are irrelevant and ignored. In contrast, the
      option <b>-libdir</b> is relevant in both this and <b>-pkg</b> mode.
    <div style="height: 1.00em;">&#x00A0;</div>
    When this option is specified the basename of the first file argument after
      the options is used as the name of the package to generate. If the
      extension of that file indicates a shared library (&quot;
      <i>.so</i>&quot;, &quot; <i>.sl</i>&quot;, &quot;<i>.dylib</i>&quot;, and
      &quot; <i>.dll</i>&quot;) it is also removed from the set of input files.
      A &quot; <i>.tcl</i>&quot; file is kept as part of the input. A single
      file without extension is assumed to actually have a &quot;
      <i>.tcl</i>&quot; extension. A file without extension, but other input
      files following is treated like the name of a shared library proper, and
      removed from the set of input files.
    <div style="height: 1.00em;">&#x00A0;</div>
    Examples:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -tea ... foo
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   foo.tcl
<div class="Pp"></div>
</pre>
</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -tea ... foo bar.tcl
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   bar.tcl
<div class="Pp"></div>
</pre>
</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -tea ... foo.tcl
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   foo.tcl
<div class="Pp"></div>
</pre>
</div>
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
	... -tea ... foo.so bar.tcl
<div class="Pp"></div>
	=&gt; Package name is: foo
	=&gt; Input file is:   bar.tcl
<div class="Pp"></div>
</pre>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-with-</b><b>name</b> value</dt>
  <dd class="It-tag">This option sets the value of the custom build
      configuration option <i>name</i> to <i>value</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The information is validated only if one of the &quot; <i>.critcl</i>&quot;
      input files actually defines and uses a custom build configuration option
      with that <i>name</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is irrelevant when generating a TEA package (see option
      <b>-tea</b> above).</dd>
</dl>
<h1 class="Sh" title="Sh" id="PACKAGE_STRUCTURE"><a class="selflink" href="#PACKAGE_STRUCTURE">PACKAGE
  STRUCTURE</a></h1>
Packages generated by critcl have the following basic structure:
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
&lt;TOP&gt;
+- pkgIndex.tcl
+- critcl-rt.tcl
+- license.terms (optional)
|
+- tcl (optional)
|  +- &lt;tsources files&gt;
|
+- &lt;platform&gt;
   +- &lt;shared library&gt;
<div class="Pp"></div>
</pre>
</div>
<div class="Pp"></div>
<i>Notes</i>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">The file &quot;<i>pkgIndex.tcl</i>&quot; is the standard
      package index file expected by Tcl's package management. It is sourced
      during a search for packages, and declares the package to Tcl with its
      files, and how to handle them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">The file &quot;<i>critcl-rt.tcl</i>&quot; is a helper file
      containing the common code used by &quot; <i>pkgIndex.tcl</i>&quot; to
      perform its tasks.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">The file &quot;<i>license.terms</i>&quot; is optional and
      appears only if the &quot; <i>.critcl</i>&quot; file the package is
      generated from used the command <b>critcl::license</b> to declare package
      author and license.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">All files declared with the command <b>critcl::tsources</b>
      are put into the sub-directory &quot; <i>tcl</i>&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">The shared library generated by critcl is put into a
      platform-specific sub-directory.</dd>
</dl>
<div class="Pp"></div>
The whole structure, and especially the last point, enable us to later merge the
  results (for the same package, and version) for multiple target platforms into
  a single directory structure without conflict, by simply copying the top
  directories over each other. The only files which can conflict are in the
  &lt;TOP&gt; and &quot; <i>tcl</i>&quot; directories, and for these we know
  that they are identical across targets. The result of such a merge would look
  like:
<div style="margin-left: 5.00ex;">
<pre>
<div class="Pp"></div>
<div class="Pp"></div>
&lt;TOP&gt;
+- pkgIndex.tcl
+- critcl-rt.tcl
+- license.terms (optional)
|
+- tcl (optional)
|  +- &lt;tsources files&gt;
|
+- &lt;platform1&gt;
|  +- &lt;shared library1&gt;
+- &lt;platform2&gt;
|  +- &lt;shared library2&gt;
...
+- &lt;platformN&gt;
   +- &lt;shared libraryN&gt;
<div class="Pp"></div>
</pre>
</div>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_2.1"><a class="selflink" href="#CHANGES_FOR_VERSION_2.1">CHANGES
  FOR VERSION 2.1</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed bug where <b>critcl::tsources</b> interpreted
      relative paths as relative to the current working directory instead of
      relative to the &quot; <i>.critcl</i>&quot; file using the command, as all
      other commands of this type do.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed internals, preventing information collected for
      multiple &quot; <i>.critcl</i>&quot; files to leak between them. Notably,
      <b>critcl::tk</b> is not a global configuration option anymore.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Fixed the command <b>critcl::license</b> to be a
      null-operation in mode &quot;compile &amp; run&quot;, instead of throwing
      an error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Fixed the critcl application's interference with the
      &quot;compile &amp; run&quot; result cache in <b>-pkg</b> mode by having
      it use a wholly separate (and by default transient) directory for that
      mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">Fixed bug where changes to a &quot;<i>.critcl</i>&quot;
      file did not result in a rebuild for mode &quot;compile &amp; run&quot;.
      All relevant API commands now ensure UUID changes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[6]</dt>
  <dd class="It-tag">Fixed bug in the backend handling of <b>critcl::debug</b>
      where the companion c-sources of a &quot; <i>.critcl</i>&quot; file were
      not compiled with debug options, although the &quot; <i>.critcl</i>&quot;
      file was.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[7]</dt>
  <dd class="It-tag">Fixed bug in <b>critcl::debug</b> which prevented
      recognition of mode &quot;all&quot; when it was not the first argument to
      the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[8]</dt>
  <dd class="It-tag">Fixed bug in &quot;<i>preload.c</i>&quot; preventing its
      compilation on non-windows platforms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[9]</dt>
  <dd class="It-tag">Fixed long-standing bug in the handling of namespace
      qualifiers in the command name argument of <b>critcl::cproc</b> and
      <b>critcl::ccommand</b>. It is now possible to specify a fully qualified
      command name without issues.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[10]</dt>
  <dd class="It-tag">Extended/reworked <b>critcl::tsources</b> to be the
      canonical way of declaring &quot; <i>.tcl</i>&quot; companion files even
      for mode &quot;compile &amp; run&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[11]</dt>
  <dd class="It-tag">Extended/reworked <b>critcl::tsources</b> to allow the use
      of a &quot; <i>.critcl</i>&quot; file as its own Tcl companion file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[12]</dt>
  <dd class="It-tag">Extended <b>critcl::framework</b> to internally check for
      OS X build target, and to ignore the declaration if its not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[13]</dt>
  <dd class="It-tag">Extended <b>critcl::failed</b> to be callable more than
      once in a &quot; <i>.critcl</i>&quot; file. The first call forces the
      build, if it was not done already, to get the result. Further calls return
      the cached result of the first call.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[14]</dt>
  <dd class="It-tag">Extended the handling of environment variable CC in the
      code determining the compiler to use to deal with (i.e. remove) paths to
      the compiler, compiler file extensions, and compiler options specified
      after the compiler itself, leaving only the bare name of the
    compiler.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[15]</dt>
  <dd class="It-tag">Extended the code handling the search for preloaded
      libraries to print the paths it searched, making debugging of a search
      failure easier.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[16]</dt>
  <dd class="It-tag">A new command <b>critcl::tcl</b> can be used to declare the
      version of Tcl minimally needed to build and run the &quot;
      <i>.critcl</i>&quot; file and package. Defaults to 8.4 if not declared.
      Extended critcl to have the stubs and headers for all of Tcl 8.4, 8.5, and
      8.6.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[17]</dt>
  <dd class="It-tag">A new command <b>critcl::load</b> forces the build and load
      of a &quot; <i>.critcl</i>&quot; file. This is the official way for
      overriding critcl's default lazy-build-&amp;-load-on-demand scheme for
      mode &quot;compile &amp; run&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>Note</i> that after using <b>critcl::load</b> / <b>critcl::failed</b> in
      a &quot; <i>.critcl</i>&quot; file it is not possible to use critcl
      commands in that file anymore. Doing so will throw an error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[18]</dt>
  <dd class="It-tag">Extended the generation of '#line' pragmas to use <b>info
      frame</b> (if available) to provide the C compiler with exact line numbers
      into the &quot; <i>.critcl</i>&quot; file for the reporting of warnings
      and errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[19]</dt>
  <dd class="It-tag">Extended <b>critcl::check</b> with logging to help with
      debugging build-time checks of the environment, plus an additional
      optional argument to provide labeling.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[20]</dt>
  <dd class="It-tag">Added a new command <b>critcl::checklink</b> which not only
      tries to check the environment via compiling the code, but also its
      linkability.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[21]</dt>
  <dd class="It-tag">Added a new command <b>critcl::msg</b> for messaging, like
      command <b>critcl::error</b> is for error reporting. Likewise this is a
      hook a user of the package is allowed to override. The default
      implementation, used by mode <i>compile &amp; run</i> does nothing. The
      implementation for mode <i>generate package</i> prints the message to
      stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
    Envisioned use is for the reporting of results determined by
      <b>critcl::check</b> and <b>critcl::checklink</b> during building, to help
      with debugging when something goes wrong with a check.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[22]</dt>
  <dd class="It-tag">Exposed the argument processing internals of
      <b>critcl::proc</b> for use by advanced users. The new commands are</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag"><b>critcl::argnames</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag"><b>critcl::argcnames</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag"><b>critcl::argcsignature</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag"><b>critcl::argvardecls</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag"><b>critcl::argconversion</b></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Please see section <i>Advanced Embedded C Code</i> of the
      <b>critcl</b> package documentation for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[23]</dt>
  <dd class="It-tag">Extended the critcl package to intercept <b>package</b>
      <b>provide</b> and record the file -&gt; package name mapping. Plus other
      internal changes now allow the use of namespaced package names while still
      using proper path names and init function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[24]</dt>
  <dd class="It-tag">Dropped the unused commands <b>critcl::optimize</b> and
      <b>critcl::include</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[25]</dt>
  <dd class="It-tag">Dropped <b>-lib</b> mode from the critcl application.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[26]</dt>
  <dd class="It-tag">Dropped remnants of support for Tcl 8.3 and before.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3"><a class="selflink" href="#CHANGES_FOR_VERSION_3">CHANGES
  FOR VERSION 3</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">The command <b>critcl::platform</b> was deprecated in
      version 2.1, superceded by <b>critcl::targetplatform</b>, yet kept for
      compatibility. Now it has been removed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">The command <b>critcl::compiled</b> was kept with in
      version 2.1 with semantics in contradiction to its, for compatibility.
      This contradiction has been removed, changing the visible semantics of the
      command to be in line with its name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">The change to version 3 became necessary because of the two
      incompatible visible changes above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Extended the application package with code handling a new
      option <b>-tea</b>. Specifying this option invokes a special mode where
      critcl generates a TEA package, i.e. wraps the input into a directory
      hierarchy and support files which provide it TEA-lookalike buildsystem.
    <div style="height: 1.00em;">&#x00A0;</div>
    This new option, and <b>-pkg</b>, exclude each other. If both are specified
      the last used option takes precedence.
    <div style="height: 1.00em;">&#x00A0;</div>
    The generated package directory hierarchy is mostly self-contained, but not
      fully. It requires not only a working installation of Tcl, but also
      working installations of the packages <b>md5</b> and <b>cmdline</b>. Both
      of these are provided by the <b>Tcllib</b> bundle. Not required, but
      recommended to have installed are any of the packages which can accelerate
      md5's operation, i.e. <b>cryptkit</b>, <b>tcllibc</b>, or <b>Trf</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">Extended the critcl package with a new command
      <b>critcl::scan</b> taking the path to a &quot; <i>.critcl</i>&quot; file,
      statically scanning it, and returning license, version, a list of its
      companion files, list of imported APIs, and list of developer-specified
      custom configuration options. This data is the foundation for the TEA
      wrapping described above.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that this is a <i>static</i> scan. While the other build modes can
      (must) execute the &quot; <i>.critcl</i>&quot; file and make
      platform-specific decisions regarding the assembled C code, companion
      files, etc. the TEA wrap mode is not in a position to make
      platform-specific decisions. It has to wrap everything which might
      conceivably be needed when actually building. Hence the static scan. This
      has however its own set of problems, namely the inability to figure out
      any dynamic construction of companion file paths, at least on its own.
      Thus:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[6]</dt>
  <dd class="It-tag">Extended the API used by critcl-based packages with the
      command <b>critcl::owns</b>. While this command is ignored by the regular
      build modes the static scanner described above takes its arguments as the
      names of companion files which have to be wrapped into the TEA package and
      could not be figured by the scanner otherwise, like because of dynamic
      paths to <b>critcl::tsources</b>, <b>critcl::csources</b>, getting sourced
      directly, or simply being adjunct datafiles.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[7]</dt>
  <dd class="It-tag">Extended the API used by critcl-based packages with the
      command <b>critcl::api</b> for the management of stubs tables, be it their
      use, and/or declaration and export.
    <div style="height: 1.00em;">&#x00A0;</div>
    Please see section <i>Stubs Table Management</i> of the <b>critcl</b>
      package documentation for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[8]</dt>
  <dd class="It-tag">Extended the API used by critcl-based packages with the
      command <b>critcl::userconfig</b> for the management of
      developer-specified custom configuration options, be it their use and/or
      declaration.
    <div style="height: 1.00em;">&#x00A0;</div>
    Please see section <i>Custom Build Configuration</i> of the <b>critcl</b>
      package documentation for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[9]</dt>
  <dd class="It-tag">Extended the API used by critcl-based packages with the
      commands <b>critcl::description</b>, <b>critcl::summary</b>,
      <b>critcl::subject</b>, <b>critcl::meta</b>, and
      <b>critcl::buildrequirement</b> for the declaration of TEApot meta data
      for/about the package.
    <div style="height: 1.00em;">&#x00A0;</div>
    Please see section <i>Package Meta Data</i> of the <b>critcl</b> package
      documentation for details.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.1"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.1">CHANGES
  FOR VERSION 3.0.1</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Bugfixes all around. In detail:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed recording of Tcl version requirements. Keep package
      name and version together, unbreaking generated meta data and generated
      package load command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Fixed the build scripts: When installing, or wrapping for
      TEA, generate any missing directories</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Modified the build scripts to properly exit the application
      when the window of their GUI is closed through the (X) button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">Removed an 8.5-ism (open wb) which had slipped into the
      main build script.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[6]</dt>
  <dd class="It-tag">Modified the example build scripts to separate the output
      for the different examples (and packages) by adding empty lines.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[7]</dt>
  <dd class="It-tag">stack::c example bugfix: Include API declarations for use
      in the companion files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[8]</dt>
  <dd class="It-tag">Extended the documentation: Noted the need for a working
      installation of a C compiler.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[9]</dt>
  <dd class="It-tag">Extended the Windows target definitions and code to handle
      the manifest files used by modern MS development environments. Note that
      this code handles both possibilities, environment using manifests, and
      (old(er)) environments without.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[10]</dt>
  <dd class="It-tag">Extended the Windows 64bit target definitions and code to
      auto-detect the need for the helper library
      &quot;bufferoverflowU.lib&quot; and reconfigure the compile and link
      commands appropriately. We assume that the library must be linked when
      present. This should be no harm if the library is present, yet not needed.
      Just superfluous. We search for the library in the paths specified by the
      environment variable LIB.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.2"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.2">CHANGES
  FOR VERSION 3.0.2</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed issue in compile-and-run mode where commands put into
      the auto_index are not found by Tcl's [unknown] command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed an array key mismatch breaking usage of client data
      and delete function for procedure. Reported by Jos DeCoster, with
    patch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Implemented a command line option <b>-L</b>, an equivalent
      of option <b>-I</b>, just for library search paths.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Fixed github issues 5 and 8. Working around a missing
      variable ::errorInfo. It should always be present, however there seem to
      be revisions of Tcl around which violate this assumption.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.3"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.3">CHANGES
  FOR VERSION 3.0.3</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed github issues 5 and 8, for the example build.tcl
      scripts. Working around a missing variable ::errorInfo. It should always
      be present, however there seem to be revisions of Tcl around which violate
      this assumption.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.4"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.4">CHANGES
  FOR VERSION 3.0.4</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed generation of the package's initname when the
      incoming code is read from stdin and has no proper path.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed github issue 11. Now using /LIBPATH instead of -L on
      Windows (libinclude configuration setting).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Extended critcl to handle -l:path format of -l options. GNU
      ld 2.22+ handles this by searching for the path as is. Good when
      specifying static libraries, as plain -l looks for shared libraries in
      preference over static. critcl handles it now, as older GNU ld's do not
      understand it, nor the various vendor-specific linkers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Fixed github issue #12. Critcl now determines the version
      of MSVC in use and uses it to switch between various link debug options.
      Simplified the handling of bufferoverflowU.lib also, making use of the
      same mechanism and collapsing the two configurations sections we had back
      into one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">Reworked the insertion of #line pragmas into the generated
      C code to avoid limitations on the line number argument imposed by various
      compilers, and be more accurate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[6]</dt>
  <dd class="It-tag">Modified argument processing. Option -libdir now also
      implies -L for its argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[7]</dt>
  <dd class="It-tag">Extended handling of option -show
      (<b>critcl::showconfig</b>) to list the path of the configuration file the
      data is coming from. Good for debugging configuration processing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[8]</dt>
  <dd class="It-tag">Extended the build script with targets to regenerate the
      embedded documentation, and diagrams, and to generate a release.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.5"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.5">CHANGES
  FOR VERSION 3.0.5</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed bug in the new code for #line pragmas triggered when
      specifying C code without leading whitespace.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Extended the documentation to have manpages for the
      license, source retrieval, installer, and developer's guides.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.6"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.6">CHANGES
  FOR VERSION 3.0.6</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed github issue 10. The critcl application now delivers
      a proper exit code (1) on build failure, instead of always indicating
      success (status 0).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed github issue 13. Handling of bufferoverflowU.lib for
      release builds was inconsistent with handling for debug builds. It is now
      identically handled (conditional) by both cases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Documentation cleanup, mainly in the installation guide,
      and the README.md shown by github</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.0.7"><a class="selflink" href="#CHANGES_FOR_VERSION_3.0.7">CHANGES
  FOR VERSION 3.0.7</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed the code generated by <b>critcl::c++command</b>. The
      emitted code handed a non-static string table to
      <b>Tcl_GetIndexFromObj</b>, in violation of the contract, which requires
      the table to have a fixed address. This was a memory smash waiting to
      happen. Thanks to Brian Griffin for alrerting us to the general
    problem.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1">CHANGES
  FOR VERSION 3.1</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Added a new higher-level package <b>critcl::iassoc</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    This package simplifies the creation of code associating data with an
      interpreter via Tcl's <b>Tcl_(Get|Set)AssocData()</b> APIs. The user can
      concentrate on his data while all the necessary boilerplate C code to
      support this is generated by the package.
    <div style="height: 1.00em;">&#x00A0;</div>
    This package uses several of the new features which were added to the core
      <b>critcl</b> package, see below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Added the higher-level package <b>critcl::class</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    This package simplifies the creation of C level objects with class and
      instance commands. The user can write a class definition with class- and
      instance-variables and -methods similar to a TclOO class, with all the
      necessary boilerplate C code to support this generated by the package.
    <div style="height: 1.00em;">&#x00A0;</div>
    This package uses several of the new features which were added to the core
      <b>critcl</b> package, see below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Extended the API for handling TEApot metadata. Added the
      command <b>critcl::meta?</b> to query the stored information. Main use
      currently envisioned is retrieval of the current package's name by utility
      commands, for use in constructed names. This particular information is
      always available due to the static scan of the package file on execution
      of the first critcl command.
    <div style="height: 1.00em;">&#x00A0;</div>
    The new packages <b>critcl::iassoc</b> and <b>critcl::class</b> (see above)
      are users of this command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Extended the API with a command, <b>critcl::name2c</b>,
      exposing the process of converting a Tcl name into base name, namespace,
      and C namespace. This enables higher-level code generators to generate the
      same type of C identifiers as <b>critcl</b> itself.
    <div style="height: 1.00em;">&#x00A0;</div>
    The new package <b>critcl::class</b> (see above) is a user of this
    command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">Extended the API with a command, <b>critcl::source</b>,
      executing critcl commands found in a separate file in the context of the
      current file. This enables easier management of larger bodies of code as
      it allows the user to split such up into easier to digest smaller chunks
      without causing the generation of multiple packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[6]</dt>
  <dd class="It-tag">Related to the previous item, extended the API with
      commands to divert collection of generated C code into memory. This makes
      it easier to use the commands for embedded C code in higher-level code
      generators.
    <div style="height: 1.00em;">&#x00A0;</div>
    See the section <b>Advanced: Diversions</b> for details of the provided
      commands.
    <div style="height: 1.00em;">&#x00A0;</div>
    The new package <b>critcl::class</b> (see above) is a user of these
      facilities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[7]</dt>
  <dd class="It-tag">Extended the API with commands helping developers with the
      generation of proper C <i>#line</i> directives. This allows higher-level
      code generators to generate and insert their own directives, ensuring that
      compile errors in their code are properly attributed.
    <div style="height: 1.00em;">&#x00A0;</div>
    See the section <b>Advanced: Location management</b> for details of the
      provided commands.
    <div style="height: 1.00em;">&#x00A0;</div>
    The new packages <b>critcl::iassoc</b> and <b>critcl::class</b> (see above)
      are users of these facilities.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[8]</dt>
  <dd class="It-tag">Extended the API with commands giving users the ability to
      define custom argument and result types for <b>::critcl::cproc</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    See the section <b>Advanced: Extending cproc</b> for details of the provided
      commands.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.1"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.1">CHANGES
  FOR VERSION 3.1.1</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Bugfixes all around. In detail:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed the generation of wrong#args errors for
      <b>critcl::cproc</b> and derived code ( <b>critcl::class</b> cproc-based
      methods). Use NULL if there are no arguments, and take the offset into
      account.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Fixed the handling of package names by
      <b>critcl::class</b>. Forgot that they may contain namespace separators.
      Bumped to version 1.0.1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Extended a <b>critcl::class</b> generated error message in
      instance creation for clarity. Bumped to version 1.0.2.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.2"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.2">CHANGES
  FOR VERSION 3.1.2</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Enhancement. In detail:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Extended <b>critcl::cproc</b> to be able to handle optional
      arguments, in a limited way. This is automatically available to
      <b>critcl::class</b> cproc-based methods as well.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Bugfix in <b>lassign</b> emulation for Tcl 8.4. Properly
      set unused variables to the empty string. Bumped version of emulation
      package <b>lassign84</b> to 1.0.1.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.3"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.3">CHANGES
  FOR VERSION 3.1.3</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Enhancement. In detail:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Added new argument type &quot;pstring&quot;, for
      &quot;Pascal String&quot;, a counted string, i.e. a combination of string
      pointer and string length.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Added new methods <b>critcl::argtypesupport</b> and
      <b>::critcl::argsupport</b> to define and use additional supporting code
      for an argument type, here used by &quot;pstring&quot; above to define the
      necessary structure.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Semi-bugfixes in the packages <b>critcl::class</b> and
      <b>critcl::iassoc</b>. Pragmas for the AS meta data scanner to ensure that
      the template files are made part of the package. Versions bumped to 1.0.4
      and 1.0.1 respectively.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.4"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.4">CHANGES
  FOR VERSION 3.1.4</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Bugfix in package <b>critcl::class</b>. Generate a dummy
      field in the class structure if the class has no class variables. Without
      this change the structure would be empty, and a number of compilers are
      not able to handle such a type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed a typo which broke the win64 configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Fixed issue #16, a typo in the documentation of command
      <b>critcl::class</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.5"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.5">CHANGES
  FOR VERSION 3.1.5</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed issue #19. Made the regular expression extracting the
      MSVC version number more general to make it work on german language
      systems. This may have to be revisited in the future, for other Windows
      locales.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed issue #20. Made option -tea work on windows, at least
      in a unix emulation environment like msys/mingw.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.6"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.6">CHANGES
  FOR VERSION 3.1.6</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed issue #21. While the multi-definition of the
      stub-table pointer variables was ok with for all the C linkers seen so far
      C++ linkers did not like this at all. Reworked the code to ensure that
      this set of variables is generated only once, in the wrapper around all
      the pieces to assemble.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed issue #22, the handling of the command identifier
      arguments of <b>critcl::ccommand</b>, <b>critcl::cproc</b>, and
      <b>critcl::cdata</b>. We now properly allow any Tcl identifier and
      generate proper internal C identifiers from them.
    <div style="height: 1.00em;">&#x00A0;</div>
    As part of this the signature of command <b>critcl::name2c</b> changed. The
      command now delivers a list of four values instead of three. The new value
      was added at the end.
    <div style="height: 1.00em;">&#x00A0;</div>
    Further adapted the implementation of package <b>critcl::class</b>, a user
      of <b>critcl::name2c</b>. This package is now at version 1.0.6 and
      requires critcl 3.1.6
    <div style="height: 1.00em;">&#x00A0;</div>
    Lastly fixed the mis-handling of option <b>-cname</b> in
      <b>critcl::ccommand</b>, and <b>critcl::cproc</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Fixed issue #23.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.7"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.7">CHANGES
  FOR VERSION 3.1.7</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed issue #24. Extract and unconditionally display
      compiler warnings found in the build log. Prevents users from missing
      warnings which, while not causing the build to fail, may still indicate
      problems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">New feature. Output hook. All non-messaging user output is
      now routed through the command <b>critcl::print</b>, and users are allowed
      to override it when using the critcl application-as-package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">New feature, by Ashok P. Nadkarni. Platform configurations
      can inherit values from configurations defined before them.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.8"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.8">CHANGES
  FOR VERSION 3.1.8</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed issue with package indices generated for Tcl 8.4.
      Join the list of commands with semi-colon, not newline.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed issue #26 which brought up use-cases I had forgotten
      to consider while fixing bug #21 (see critcl 3.1.6).</dd>
</dl>
<h1 class="Sh" title="Sh" id="CHANGES_FOR_VERSION_3.1.9"><a class="selflink" href="#CHANGES_FOR_VERSION_3.1.9">CHANGES
  FOR VERSION 3.1.9</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Fixed issue #27. Added missing platform definitions for
      various alternate linux and OS X targets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Fixed issue #28. Added missing -mXX flags for linking at
      the linux-{32,64}-* targets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[3]</dt>
  <dd class="It-tag">Fixed issue #29. Replaced the use of raw
      &quot;cheaders&quot; information in the processing of &quot;cdefines&quot;
      with the proper include directives derived from it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[4]</dt>
  <dd class="It-tag">Fixed the issue behind rejected pull request #30 by Andrew
      Shadura. Dynamically extract the stubs variable declarations from the Tcl
      header files and generate matching variable definitions for use in the
      package code. The generated code will now be always consistent with the
      headers, even when critcl's own copy of them is replaced by system
      headers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[5]</dt>
  <dd class="It-tag">Fixed issue #31. Accepted patch by Andrew Shadura, with
      changes (comments), for easier integration of critcl with OS package
      systems, replacing critcl's copies of Tcl headers with their own.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[6]</dt>
  <dd class="It-tag">Fixed issue #32. Merged pull request by Andrew Shadura.
      Various typos in documentation and comments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[7]</dt>
  <dd class="It-tag">Fixed issue #33. Handle files starting with a dot
    better.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Jean Claude Wippler, Steve Landers, Andreas Kupries
<h1 class="Sh" title="Sh" id="BUGS,_IDEAS,_FEEDBACK"><a class="selflink" href="#BUGS,_IDEAS,_FEEDBACK">BUGS,
  IDEAS, FEEDBACK</a></h1>
This document, and the package it describes, will undoubtedly contain bugs and
  other problems. Please report them at
  <i>https://github.com/andreas-kupries/critcl/issues</i>. Ideas for
  enhancements you may have for either package, application, and/or the
  documentation are also very welcome and should be reported at
  <i>https://github.com/andreas-kupries/critcl/issues</i> as well.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
C code, Embedded C Code, code generator, compile &amp; run, compiler, dynamic
  code generation, dynamic compilation, generate package, linker, on demand
  compilation, on-the-fly compilation
<h1 class="Sh" title="Sh" id="CATEGORY"><a class="selflink" href="#CATEGORY">CATEGORY</a></h1>
Glueing/Embedded C code
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<pre>
Copyright (c) Jean-Claude Wippler
Copyright (c) Steve Landers
Copyright (c) 2011-2013 Andreas Kupries
<div class="Pp"></div>
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">3.1.8</td>
    <td class="foot-os">doc</td>
  </tr>
</table>
</body>
</html>
