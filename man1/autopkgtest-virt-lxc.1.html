<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:53:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>autopkgtest-virt-lxc(1) General Commands Manual
autopkgtest-virt-lxc(1)</p>

<p style="margin-top: 1em">NAME <br>
autopkgtest-virt-lxc - autopkgtest virtualisation server
using LXC</p>

<p style="margin-top: 1em">SYNOPSIS <br>
autopkgtest [...] -- lxc [options] lxc-container [-- extra
lxc-start args...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
autopkgtest-virt-lxc provides an autopkgtest virtualisation
server using LXC. It adapts the raw functionality provided
by the lxc-* tools for use by autopkgtest.</p>

<p style="margin-top: 1em">Normally autopkgtest-virt-lxc
will be invoked by autopkgtest.</p>

<p style="margin-top: 1em">You can conveniently create a
suitable container using the autopkgtest-build-lxc(1)
script.</p>

<p style="margin-top: 1em">REQUIREMENTS <br>
autopkgtest-virt-lxc assumes that you have already prepared
a suitable Debian based LXC container. See lxc-create(1) for
how to create containers, and particularly autopkgtest- <br>
build-lxc(1) for conveniently creating standard autopkgtest
containers.</p>

<p style="margin-top: 1em">OPTIONS <br>
-e | --ephemeral <br>
This option makes use of lxc-start-ephemeral to create
temporary container overlays, instead of the default
behaviour of cloning your containers.</p>

<p style="margin-top: 1em">This can be used to dramatically
improve performance, although you may see issues due to the
overlayfs filesystem as used by lxc-start-ephemeral not
being completely <br>
transparent (e. g. seen with tar failing when running LXC
within Qemu). Before using this option in automation you
should ensure that tests that involve large I/O work as <br>
expected.</p>

<p style="margin-top: 1em">Note that ephemeral containers
do not support rebooting with LXC 1.x. This does work with
LXC &gt;= 2.x.</p>

<p style="margin-top: 1em">-s | --sudo <br>
Run lxc-* commands through sudo; use this option if you run
autopkgtest as normal user, but need to run the container
itself as root (if you use LXC system level contain&acirc;
<br>
ers).</p>

<p style="margin-top: 1em">--name NAME <br>
Set a custom name for the temporary container in which to
run the test. This is autogenerated by default
(autopkgtest-lxc-XXXXXX), but if you have a way to generate
more <br>
expressive unique names you can use that to make it easier
to map containers to running tests.</p>

<p style="margin-top: 1em">-d | --debug <br>
Enables debugging output.</p>

<p style="margin-top: 1em">You can pass additional options
to LXC: Anything after a -- gets passed verbatim to
lxc-start/lxc-start-ephemeral.</p>

<p style="margin-top: 1em">INPUT, OUTPUT AND EXIT STATUS
<br>
The behaviour of autopkgtest-virt-lxc is as described by the
AutomatedTesting virtualisation regime specification.</p>

<p style="margin-top: 1em">NOTES <br>
autopkgtest does not run apt-get update at the start of a
package build, which can cause a build failure if you are
using a development release template. You will need to run
<br>
apt-get update in the template yourself (e. g. using
--setup-commands).</p>

<p style="margin-top: 1em">EXAMPLE <br>
Create a suitable debootstrap-based container for Debian or
Ubuntu template, e. g. a Debian sid one (will be named
autopkgtest-sid):</p>

<p style="margin-top: 1em">autopkgtest-build-lxc debian
sid</p>

<p style="margin-top: 1em">Or an Ubuntu one based on the
cloud images (faster than autopkgtest-build-lxc&rsquo;s
&quot;ubuntu&quot; template with debootstrap, but much
bigger):</p>

<p style="margin-top: 1em">lxc-create -t ubuntu-cloud -n
autopkgtest-trusty -- -r trusty -d daily</p>

<p style="margin-top: 1em">Run tests against
hello_2.8-4.dsc, using the LXC container autopkgtest-sid,
and with an ephemeral overlay for speed:</p>

<p style="margin-top: 1em">autopkgtest hello_2.8-4.dsc --
lxc -e autopkgtest-sid</p>

<p style="margin-top: 1em">SEE ALSO <br>
autopkgtest(1), autopkgtest-build-lxc(1), lxc-create(1),
/usr/share/doc/autopkgtest/.</p>

<p style="margin-top: 1em">AUTHORS AND COPYRIGHT <br>
autopkgtest-virt-lxc was written by Robie Basak
&lt;robie.basak@canonical.com&gt; and Martin Pitt
&lt;martin.pitt@ubuntu.com&gt;.</p>

<p style="margin-top: 1em">This manpage is part of
autopkgtest, a tool for testing Debian binary packages.
autopkgtest is Copyright (C) 2006-2013 Canonical Ltd and
others.</p>

<p style="margin-top: 1em">See
/usr/share/doc/autopkgtest/CREDITS for the list of
contributors and full copying conditions.</p>

<p style="margin-top: 1em">Linux Programmer&rsquo;s Manual
2013 autopkgtest-virt-lxc(1)</p>
<hr>
</body>
</html>
