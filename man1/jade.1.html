<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:19:18 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OPENJADE(1) OPENJADE(1)</p>

<p style="margin-top: 1em">NAME <br>
openjade - apply a DSSSL stylesheet to an SGML or XML
document</p>

<p style="margin-top: 1em">SYNOPSIS <br>
openjade [-vCegG2s] [-b encoding] [-f error_file] <br>
[-c catalog_sysid] [-D dir] [-a link_type] <br>
[-A arch] [-E max_errors] [-i entity] <br>
[-w warning_type] [-d dsssl_spec] [-V variable=value] <br>
[-t output_type] [-o output_file] [sysid...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
openjade is an implementation of the ISO/IEC 10179:1996
standard DSSSL language. The DSSSL engine receives as input
an SGML or XML document and transforms it into formats
like:</p>

<p style="margin-top: 1em">* XML representation of the flow
object tree.</p>

<p style="margin-top: 1em">* RTF format that can be
rendered and printed with Microsoft&rsquo;s free Word Viewer
97</p>

<p style="margin-top: 1em">* TeX format</p>

<p style="margin-top: 1em">* MIF format that can be
rendered and printed with Framemaker</p>

<p style="margin-top: 1em">* SGML or XML format. This is
used in conjunction with non-standard flow object classes to
generate SGML, thus allowing openjade to be used for
SGML/XML transformations.</p>

<p style="margin-top: 1em">The system identifier of the
document to be processed is specified as an argument to
openjade. If this is omitted, standard input will be
read.</p>

<p style="margin-top: 1em">openjade determines the system
identifier for the DSSSL specification as follows:</p>

<p style="margin-top: 1em">1. If the -d option is
specified, it will use the argument as the system
identifier.</p>

<p style="margin-top: 1em">2. Otherwise, it will look for
processing instructions in the prolog of the document. Two
kinds of processing instruction are recognized:</p>

<p style="margin-top: 1em">&lt;?stylesheet
href=&quot;sysid&quot; type=&quot;text/dsssl&quot;&gt;</p>

<p style="margin-top: 1em">The system data of the
processing instruction is parsed like an SGML start-tag. It
will be parsed using the reference concrete syntax whatever
the actual concrete syntax of the <br>
document. The name that starts the processing instruction
can be either stylesheet, xml-stylesheet or xml:stylesheet.
The processing instruction will be ignored unless the value
<br>
of the type attribute is one of text/dsssl, text/x-dsssl,
application/dsssl, or application/x-dsssl. The value of href
attribute is the system identifier of the DSSSL
specifica&acirc; <br>
tion.</p>

<p style="margin-top: 1em">&lt;?dsssl sysid&gt;</p>

<p style="margin-top: 1em">The system identifier is the
portion of the system data of the processing instruction
following the initial name and any whitespace.</p>

<p style="margin-top: 1em">Although the processing
instruction is only recognized in the prolog, it need not
occur in the document entity. For example, it could occur in
a DTD. The system identifier will <br>
be interpreted relative to where the the processing
instruction occurs.</p>

<p style="margin-top: 1em">3. Otherwise, it will use the
system identifier of the document with any extension changed
to .dsl.</p>

<p style="margin-top: 1em">A DSSSL specification document
can contain more than one style-specification. If the system
identifier of the DSSSL specification is followed by #id,
then openjade will use the <br>
style-specification whose unique identifier is id. This is
allowed both with the -d option and with the processing
instructions.</p>

<p style="margin-top: 1em">The DSSSL specification must be
an SGML document conforming to the DSSSL architecture. For
an example, see dsssl/demo.dsl.</p>

<p style="margin-top: 1em">openjade supports the following
options in addition to the normal OpenSP (see onsgmls(1))
options (note that all options are case-sensitive, ie -g and
-G are different options):</p>

<p style="margin-top: 1em">-d dsssl_spec <br>
This specifies that dsssl_spec is the system identifier of
the DSSSL specification to be used.</p>

<p style="margin-top: 1em">-G Debug mode. When an error
occurs in the evaluation of an expression, openjade will
display a stack trace. Note that this disables tail-call
optimization.</p>

<p style="margin-top: 1em">-c filename <br>
The filename arguments specify catalog files rather than the
document entity. The document entity is specified by the
first DOCUMENT entry in the catalog files.</p>

<p style="margin-top: 1em">-s Strict compliance mode.
Currently the only effect is that jade doesn&rsquo;t use any
predefined character names, sdata-entity mappings or
name-characters. This is useful for <br>
checking that your stylesheet is portable to other DSSSL
implementations and that it is strictly compliant to the
DSSSL specifications.</p>

<p style="margin-top: 1em">-t output_type <br>
output_type specifies the type of output as follows:</p>

<p style="margin-top: 1em">fot An XML representation of the
flow object tree</p>

<p style="margin-top: 1em">rtf rtf-95 RTF (used for
SGML/XML to RTF transformations) Microsoft&rsquo;s Rich Text
Format. rtf-95 produces output optimized for Word 95 rather
than Word 97.</p>

<p style="margin-top: 1em">tex TeX (used for SGML/XML to
TeX transformations)</p>

<p style="margin-top: 1em">sgml sgml-raw SGML (used for
SGML/XML to SGML transformations). sgml-raw doesn&rsquo;t
emit linebreaks in tags.</p>

<p style="margin-top: 1em">xml xml-raw XML (used for
SGML/XML to XML transformations). xml-raw doesn&rsquo;t emit
linebreaks in tags.</p>

<p style="margin-top: 1em">html HTML (used for SGML/XML to
HTML transformations)</p>

<p style="margin-top: 1em">mif MIF (used for SGML/XML to
MIF transformations)</p>

<p style="margin-top: 1em">-o output_file <br>
Write output to output_file instead of the default. The
default filename is the name of the last input file with its
extension replaced by the name of the type of output. <br>
If there is no input filename, then the extension is added
onto jade-out.</p>

<p style="margin-top: 1em">-V variable <br>
This is equivalent to doing (define variable #t) except that
this definition will take priority over any definition of
variable in a style-sheet.</p>

<p style="margin-top: 1em">-V variable=value <br>
This is equivalent to doing (define variable
&quot;value&quot;) except that this definition will take
priority over any definition of variable in a
style-sheet.</p>

<p style="margin-top: 1em">-V (define variable value) <br>
This is equivalent to doing (define variable value) except
that this definition will take priority over any definition
of variable in a style-sheet. Note that you will <br>
probably have to use some escaping mechanism for the spaces
to get the entire scheme expression parsed as one cmdline
argument.</p>

<p style="margin-top: 1em">-wtype Control warnings and
errors. Multiple -w options are allowed. The following
values of type enable warnings:</p>

<p style="margin-top: 1em">xml Warn about constructs that
are not allowed by XML.</p>

<p style="margin-top: 1em">mixed Warn about mixed content
models that do not allow #pcdata anywhere.</p>

<p style="margin-top: 1em">sgmldecl Warn about various
dubious constructions in the SGML declaration.</p>

<p style="margin-top: 1em">should Warn about various
recommendations made in ISO 8879 that the document does not
comply with. (Recommendations are expressed with
&lsquo;&lsquo;should&rsquo;&rsquo;, as distinct from <br>
requirements which are usually expressed with
&lsquo;&lsquo;shall&rsquo;&rsquo;.)</p>

<p style="margin-top: 1em">default Warn about defaulted
references.</p>

<p style="margin-top: 1em">duplicate Warn about duplicate
entity declarations.</p>

<p style="margin-top: 1em">undefined Warn about undefined
elements: elements used in the DTD but not defined.</p>

<p style="margin-top: 1em">unclosed Warn about unclosed
start and end-tags.</p>

<p style="margin-top: 1em">empty Warn about empty start and
end-tags.</p>

<p style="margin-top: 1em">net Warn about net-enabling
start-tags and null end-tags.</p>

<p style="margin-top: 1em">min-tag Warn about minimized
start and end-tags. Equivalent to combination of unclosed,
empty and net warnings.</p>

<p style="margin-top: 1em">unused-map Warn about unused
short reference maps: maps that are declared with a short
reference mapping declaration but never used in a short
reference use declaration in <br>
the DTD.</p>

<p style="margin-top: 1em">unused-param Warn about
parameter entities that are defined but not used in a DTD.
Unused internal parameter entities whose text is INCLUDE or
IGNORE won&rsquo;t get the warn&acirc; <br>
ing.</p>

<p style="margin-top: 1em">notation-sysid Warn about
notations for which no system identifier could be
generated.</p>

<p style="margin-top: 1em">all Warn about conditions that
should usually be avoided (in the opinion of the author).
Equivalent to: mixed, should, default, undefined, sgmldecl,
unused-map, unused- <br>
param, empty and unclosed.</p>

<p style="margin-top: 1em">A warning can be disabled by
using its name prefixed with no-. Thus -wall -wno-duplicate
will enable all warnings except those about duplicate entity
declarations.</p>

<p style="margin-top: 1em">The following values for
warning_type disable errors:</p>

<p style="margin-top: 1em">no-idref Do not give an error
for an ID reference value which no element has as its ID.
The effect will be as if each attribute declared as an ID
reference value had been <br>
declared as a name.</p>

<p style="margin-top: 1em">no-significant Do not give an
error when a character that is not a significant character
in the reference concrete syntax occurs in a literal in the
SGML declaration. This <br>
may be useful in conjunction with certain buggy test
suites.</p>

<p style="margin-top: 1em">no-valid Do not require the
document to be type-valid. This has the effect of changing
the SGML declaration to specify VALIDITY NOASSERT and
IMPLYDEF ATTLIST YES ELEMENT <br>
YES. An option of -wvalid has the effect of changing the
SGML declaration to specify VALIDITY TYPE and IMPLYDEF
ATTLIST NO ELEMENT NO. If neither -wvalid nor -wno-valid
<br>
are specified, then the VALIDITY and IMPLYDEF specified in
the SGML declaration will be used.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
OpenJade ignores the SP_CHARSET_FIXED and SP_SYSTEM_CHARSET
environment variables and always uses Unicode as its
internal character set, as if SP_CHARSET_FIXED was 1 and
SP_SYS&acirc; <br>
TEM_CHARSET was unset. Thus only the SP_ENCODING environment
variable is relevant to OpenJade&rsquo;s handling of
character sets.</p>

<p style="margin-top: 1em">OPENJADE EXTENSIONS <br>
The following external procedures are available. These
external procedures are defined by a prototype in the same
manner as in the standard. To use one of these external
proce&acirc; <br>
dures, you must make use of the standard external-procedure
procedure, using a public identifier of
&quot;UNREGISTERED::James Clark//Procedure::name&quot; where
name is the name given <br>
here, typically by including the following in the DSSSL
specification:</p>

<p style="margin-top: 1em">(define name (external-procedure
&quot;UNREGISTERED::James Clark//Procedure::name&quot;))</p>

<p style="margin-top: 1em">Note that external-procedure
returns #f if it doesn&rsquo;t know about the specified
public identifier. You can use this to enable your DSSSL
specifications to work gracefully with <br>
other implementations which do not support these
extensions.</p>

<p style="margin-top: 1em">For external procedures added by
the OpenJade team, use a public identifier of the form
&quot;UNREGISTERED::OpenJade//Procedure::name&quot;.</p>

<p style="margin-top: 1em">An easy way to get access to all
external procedures is to use the style specification
dsssl/extensions.dsl#procedures. The file
dsssl/extensions.dsl also contains style specifi&acirc; <br>
cations which make the nonstandard flow object classes and
inherited characteristics supported by the backends
available in a convenient way.</p>

<p style="margin-top: 1em">Debugging</p>

<p style="margin-top: 1em">(debug obj)</p>

<p style="margin-top: 1em">Generates a message including
the value of obj and then returns obj.</p>

<p style="margin-top: 1em">Simple-page-sequence
header/footer control</p>

<p style="margin-top: 1em">(if-first-page sosofo1
sosofo2)</p>

<p style="margin-top: 1em">This can be used only in the
specification of the value of one of the header/footer
characteristics of simple-page-sequence. It returns a sosofo
that will display as sosofo1 if <br>
the page is the first page of the simple-page-sequence and
as sosofo2 otherwise.</p>

<p style="margin-top: 1em">(if-front-page sosofo1
sosofo2)</p>

<p style="margin-top: 1em">This can be used only in the
specification of the value of one of the header/footer
characteristics of simple-page-sequence. It returns a sosofo
that will display as sosofo1 if <br>
the page is a front (ie recto, odd-numbered) page and as
sosofo2 if it is a back (ie verso, even-numbered) page.</p>

<p style="margin-top: 1em">Numbering</p>

<p style="margin-top: 1em">(all-element-number)</p>

<p style="margin-top: 1em">(all-element-number osnl)</p>

<p style="margin-top: 1em">This is the same as
element-number except it counts elements with any generic
identifier. If osnl is not an element returns #f, otherwise
returns 1 plus the number of elements <br>
that started before osnl. This provides an efficient way of
creating a unique identifier for any element in a
document.</p>

<p style="margin-top: 1em">External entity access</p>

<p style="margin-top: 1em">(read-entity string)</p>

<p style="margin-top: 1em">This returns a string containing
the contents of the external entity with system identifier
string. This should be used only for textual entities (CDATA
and SDATA), and not for <br>
binary entities (NDATA).</p>

<p style="margin-top: 1em">POSIX locale access</p>

<p style="margin-top: 1em">(language lang country)</p>

<p style="margin-top: 1em">This procedure returns an object
of type language, if the system supports the specified
language. lang is a string or symbol giving the two letter
language code. country is a <br>
string or symbol giving the two letter country code.</p>

<p style="margin-top: 1em">This procedure uses POSIX
locales. It is an OpenJade addition. It is not supported on
all operating systems.</p>

<p style="margin-top: 1em">Extended standard procedures</p>

<p style="margin-top: 1em">(sgml-parse sysid #!key active:
parent: architecture:)</p>

<p style="margin-top: 1em">This allows you to specify an
SGML architecture with respect to which the document should
be parsed. It is an OpenJade addition.</p>

<p style="margin-top: 1em">(expt q k)</p>

<p style="margin-top: 1em">This allows you to raise a
quantity to an integral power. It is an OpenJade
addition.</p>

<p style="margin-top: 1em">LIMITATIONS <br>
This section describes the limitations of the front-end (the
general-purpose DSSSL engine); each backend also has its own
limitations.</p>

<p style="margin-top: 1em">openjade doesn&rsquo;t allow
internal definitions at the beginning of bodies and the
(test =&gt; recipient) variant of cond clauses.</p>

<p style="margin-top: 1em">openjade supports only a single,
fixed grove plan which comprises the following modules:</p>

<p style="margin-top: 1em">* baseabs</p>

<p style="margin-top: 1em">* prlgabs0</p>

<p style="margin-top: 1em">* prlgabs1</p>

<p style="margin-top: 1em">* instabs</p>

<p style="margin-top: 1em">* basesds0</p>

<p style="margin-top: 1em">* instsds0</p>

<p style="margin-top: 1em">* subdcabs</p>

<p style="margin-top: 1em">It doesn&rsquo;t implement the
following parts of SDQL: HyTime support, auxiliary parsing,
node regular expressions.</p>

<p style="margin-top: 1em">Query rules, sosofo
synchronization, indirect sosofos, reference values,
decoration areas and font properties are not supported.</p>

<p style="margin-top: 1em">Note that only inherited
characteristics that are applicable to some supported flow
object can be specified.</p>

<p style="margin-top: 1em">Character/glyph handling</p>

<p style="margin-top: 1em">It only supports a single
pre-defined character repertoire. A character name of the
form U-XXXX where XXXX are four upper-case hexadecimal
digits, is recognized as referring to <br>
the Unicode character with that code. For many characters,
it is also possible to use the ISO/IEC 10646 name in
lower-case with words separated by hyphens.</p>

<p style="margin-top: 1em">Some common SDATA entity names
from the ISO entity sets are recognized and mapped to
characters. In addition an SDATA entity name of the form
U-XXXX, where XXXX are four upper- <br>
case hexadecimal digits, is mapped to the Unicode character
with that code.</p>

<p style="margin-top: 1em">OpenJade now supports the
standard-chars, map-sdata-entity, add-name-chars,
add-separator-chars and char-repertoire declaration element
forms, allowing a style-sheet to define <br>
additional character names, sdata entity mappings, name
characters (i.e. characters allowed in identifiers) and
separator characters. Currently the only recognized
character <br>
repertoire is the built-in repertoire. It has the public
identifier &quot;UNREGISTERED::OpenJade//Character
Repertoire::OpenJade&quot;.</p>

<p style="margin-top: 1em">Validation</p>

<p style="margin-top: 1em">Several things that it would be
desirable to have checked aren&rsquo;t checked:</p>

<p style="margin-top: 1em">* When the allowed value of an
inherited characteristic is a symbol, OpenJade checks only
that the value is a symbol that is allowed as the value of
some characteristic; #t and <br>
#f are treated as a special kind of symbol in this case.</p>

<p style="margin-top: 1em">* OpenJade doesn&rsquo;t check
whether a flow object is occurring in a context where it is
allowed.</p>

<p style="margin-top: 1em">* OpenJade does not prevent flow
objects being attached to the principal port of a flow
object when the flow object shouldn&rsquo;t have a principal
port.</p>

<p style="margin-top: 1em">* Most type-checking is done at
run-time not compile-time.</p>

<p style="margin-top: 1em">* OpenJade does not check for
non-inherited characteristics that are required to be
specified.</p>

<p style="margin-top: 1em">* It doesn&rsquo;t check that
optional features that have been used were declared in the
features form.</p>

<p style="margin-top: 1em">Other limitations</p>

<p style="margin-top: 1em">The following primitives are
just stubs:</p>

<p style="margin-top: 1em">char-script-case Always returns
last argument.</p>

<p style="margin-top: 1em">address-visited? Always returns
#f.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Given an SGML file file.sgml, use the stylesheet file.dsl
and publish as an rtf file.</p>

<p style="margin-top: 1em">openjade -t rtf file.sgml</p>

<p style="margin-top: 1em">Using a different
stylesheet:</p>

<p style="margin-top: 1em">openjade -t rtf -d docbook.dsl
file.sgml</p>

<p style="margin-top: 1em">Using the print style
specification contained within the stylesheet</p>

<p style="margin-top: 1em">openjade -t rtf -d
docbook.dsl#print file.sgml</p>

<p style="margin-top: 1em">And use the html specification
within the style sheet to convert to html</p>

<p style="margin-top: 1em">openjade -t sgml -i html -d
docbook.dsl#html file.sgml</p>

<p style="margin-top: 1em">SEE ALSO <br>
onsgmls(1)</p>

<p style="margin-top: 1em">AUTHORS <br>
James Clark, Ian Castle
&lt;ian.castle@looksystems.co.uk&gt;.</p>

<p style="margin-top: 1em">OpenJade January 2002
OPENJADE(1)</p>
<hr>
</body>
</html>
