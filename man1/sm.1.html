<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:38:08 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SM(1) InterNetNews Documentation SM(1)</p>

<p style="margin-top: 1em">NAME <br>
sm - Command-line interface to the INN storage manager</p>

<p style="margin-top: 1em">SYNOPSIS <br>
sm [-cdHiqRrSs] [token ...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The INN storage manager is the subsystem that stores and
keeps track of all of the articles and what storage backend
they&rsquo;re in. All stored articles are assigned a storage
API <br>
token. sm is a command-line interface to that storage
manager, primarily used to retrieve articles by those tokens
but also to perform other operations on the storage
subsystem.</p>

<p style="margin-top: 1em">token is the token of an article
(the same thing that&rsquo;s returned by grephistory or
stored in the history file). It looks something like:</p>


<p style="margin-top: 1em">@0502000005A4000000010000000000000000@</p>

<p style="margin-top: 1em">Any number of tokens can be
given on the command-line for any function other than -s. If
none are, sm normally reads tokens from standard input, one
per line. The default <br>
operation is to retrieve and write to standard output the
corresponding article for each token given.</p>

<p style="margin-top: 1em">If -s is given, sm instead
stores the article given on standard input (in native
format, not wire format) using the standard rules of the
storage subsystem. If the article is <br>
stored successfully, the token of the article is printed to
standard output. Please note that this does not make any
attempt to write a history entry or any overview data, and
<br>
is therefore only useful under very specific
circumstances.</p>

<p style="margin-top: 1em">OPTIONS <br>
-c Show a clear, decoded form of the storage API token. Each
part of the token is explained, in a human-readable string.
Amongst other elements, this command gives the path to <br>
where the corresponding article is supposed to be
stored.</p>

<p style="margin-top: 1em">-d, -r <br>
Rather than retrieving the specified article, remove the
article. This will delete the article out of the news spool
and it will not subsequently be retrievable by any part <br>
of INN. It&rsquo;s equivalent to &quot;ctlinnd cancel&quot;
except it takes a storage API token instead of a
message-ID.</p>

<p style="margin-top: 1em">-H Retrieve only the headers of
the article rather than the entire article. This option
cannot be used with -d, -r, -i, or -S.</p>

<p style="margin-top: 1em">-i Show the newsgroup name and
article number associated with the token rather than the
article itself. Note that for crossposted articles, only the
first newsgroup and article <br>
number to which the article is associated will be
returned.</p>

<p style="margin-top: 1em">-q Suppress all error messages
except usage errors.</p>

<p style="margin-top: 1em">-R Display the raw article. This
means that line endings won&rsquo;t be converted to native
line endings and will be left as CRLF sequences; leading
periods will still be escaped for <br>
sending over NNTP, and the article will end in a CRLF.CRLF
sequence.</p>

<p style="margin-top: 1em">-S Write the article to standard
output in the format used by rnews spool files. Multiple
articles can be written in this format, and the resulting
output can be fed to rnews <br>
(on another system, for example) to inject those articles
into INN. This option cannot be used with -d, -r, -H, -i, or
-R.</p>

<p style="margin-top: 1em">-s Store the article given on
standard input using the normal storage rules for articles
as configured in storage.conf(5). Print the new token for
the message to standard <br>
output if it is stored successfully. If this option is
given, no other options except possibly -q should be
given.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
If all operations were successful, sm exits with status 0.
If an operation on any of the provided tokens fails, sm will
exit with status 1, even if the operations on other <br>
tokens were successful. In other words, if twenty tokens are
fed to &quot;sm -r&quot; on stdin, 19 articles were
successfully removed, but the sixth article couldn&rsquo;t
be found, sm will <br>
still exit with status 1.</p>

<p style="margin-top: 1em">This means that if you need to
be sure whether a particular operation succeeded, you should
run sm on one token at a time.</p>

<p style="margin-top: 1em">HISTORY <br>
Written by Katsuhiro Kondou &lt;kondou@nec.co.jp&gt; for
InterNetNews. Rewritten in POD by Russ Allbery
&lt;eagle@eyrie.org&gt;.</p>

<p style="margin-top: 1em">$Id: sm.pod 9767 2014-12-07
21:13:43Z iulius $</p>

<p style="margin-top: 1em">SEE ALSO <br>
ctlinnd(8), grephistory(1), history(5), rnews(1),
storage.conf(5).</p>

<p style="margin-top: 1em">INN 2.6.1 2015-09-12 SM(1)</p>
<hr>
</body>
</html>
