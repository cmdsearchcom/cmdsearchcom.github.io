<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>bup-newliner(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">bup-newliner(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">bup-newliner(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bup-newliner - make sure progress messages don't overlap with output
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
&lt;any command&gt; 2&gt;&amp;1 | bup newliner
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
bup&#x00A0;newliner is run automatically by bup. You shouldn't need it unless
  you're using it in some other program.
<div class="Pp"></div>
Progress messages emitted by bup (and some other tools) are of the form
  &quot;Message ### content\r&quot;, that is, a status message containing a
  variable-length number, followed by a carriage return character and no
  newline. If these messages are printed more than once, they overwrite each
  other, so what the user sees is a single line with a continually-updating
  number.
<div class="Pp"></div>
This works fine until some other message is printed. For example, progress
  messages are usually printed to stderr, but other program messages might be
  printed to stdout. If those messages are shorter than the progress message
  line, the screen will be left with weird looking artifacts as the two messages
  get mixed together.
<div class="Pp"></div>
bup&#x00A0;newliner prints extra space characters at the right time to make sure
  that doesn't happen.
<div class="Pp"></div>
If you're running a program that has problems with these artifacts, you can
  usually fix them by piping its stdout <i>and</i> its stderr through bup
  newliner.
<h1 class="Sh" title="Sh" id="BUP"><a class="selflink" href="#BUP">BUP</a></h1>
Part of the bup(1) suite.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Avery Pennarun &lt;apenwarr@gmail.com&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-01-01</td>
    <td class="foot-os">Bup debian/0.29-2</td>
  </tr>
</table>
</body>
</html>
