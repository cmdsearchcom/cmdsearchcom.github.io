<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:28:41 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OPENSHIFT ADMIN MIGRATE(1) June 2016 OPENSHIFT ADMIN
MIGRATE(1)</p>

<p style="margin-top: 1em">NAME <br>
openshift admin migrate image-references - Update embedded
Docker image references</p>

<p style="margin-top: 1em">SYNOPSIS <br>
openshift admin migrate image-references [OPTIONS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Migrate references to Docker images</p>

<p style="margin-top: 1em">This command updates embedded
Docker image references on the server in place. By default
it will update image streams and images, and may be used to
update resources with a pod <br>
template (deployments, replication controllers, daemon
sets).</p>

<p style="margin-top: 1em">References are changed by
providing a mapping between a source registry and name and
the desired registry and name. Either name or registry can
be set to &rsquo; *&rsquo; to change all val&acirc; <br>
ues. The registry value &quot;docker.io&quot; is special and
will handle any image reference that refers to the
DockerHub. You may pass multiple mappings - the first
matching mapping will <br>
be applied per resource.</p>

<p style="margin-top: 1em">The following resource types may
be migrated by this command:</p>

<p style="margin-top: 1em">&Acirc;&middot; buildconfigs</p>

<p style="margin-top: 1em">&Acirc;&middot; daemonsets</p>

<p style="margin-top: 1em">&Acirc;&middot;
deploymentconfigs</p>

<p style="margin-top: 1em">&Acirc;&middot; images</p>

<p style="margin-top: 1em">&Acirc;&middot; imagestreams</p>

<p style="margin-top: 1em">&Acirc;&middot; jobs</p>

<p style="margin-top: 1em">&Acirc;&middot; pods</p>

<p style="margin-top: 1em">&Acirc;&middot;
replicationcontrollers</p>

<p style="margin-top: 1em">&Acirc;&middot; secrets
(docker)</p>

<p style="margin-top: 1em">Only images, imagestreams, and
secrets are updated by default. Updating images and image
streams requires administrative privileges.</p>

<p style="margin-top: 1em">OPTIONS <br>
--all-namespaces=true <br>
Migrate objects in all namespaces. Defaults to true.</p>

<p style="margin-top: 1em">--confirm=false <br>
If true, all requested objects will be migrated. Defaults to
false.</p>

<p style="margin-top: 1em">-f, --filename=[] <br>
Filename, directory, or URL to docker-compose.yml file to
use</p>

<p style="margin-top: 1em">--from-key=&quot;&quot; <br>
If specified, only migrate items with a key (namespace/name
or name) greater than or equal to this value</p>


<p style="margin-top: 1em">--include=[imagestream,image,secrets]
<br>
Resource types to migrate. Passing --filename will override
this flag.</p>

<p style="margin-top: 1em">-o, --output=&quot;&quot; <br>
Output the modified objects instead of saving them, valid
values are &rsquo;yaml&rsquo; or &rsquo;json&rsquo;</p>

<p style="margin-top: 1em">--to-key=&quot;&quot; <br>
If specified, only migrate items with a key (namespace/name
or name) less than this value</p>

<p style="margin-top: 1em">OPTIONS INHERITED FROM PARENT
COMMANDS <br>
--api-version=&quot;&quot; <br>
DEPRECATED: The API version to use when talking to the
server</p>

<p style="margin-top: 1em">--as=&quot;&quot; <br>
Username to impersonate for the operation</p>


<p style="margin-top: 1em">--azure-container-registry-config=&quot;&quot;
<br>
Path to the file container Azure container registry
configuration information.</p>


<p style="margin-top: 1em">--certificate-authority=&quot;&quot;
<br>
Path to a cert. file for the certificate authority</p>


<p style="margin-top: 1em">--client-certificate=&quot;&quot;
<br>
Path to a client certificate file for TLS</p>

<p style="margin-top: 1em">--client-key=&quot;&quot; <br>
Path to a client key file for TLS</p>

<p style="margin-top: 1em">--cluster=&quot;&quot; <br>
The name of the kubeconfig cluster to use</p>

<p style="margin-top: 1em">--config=&quot;&quot; <br>
Path to the config file to use for CLI requests.</p>

<p style="margin-top: 1em">--context=&quot;&quot; <br>
The name of the kubeconfig context to use</p>

<p style="margin-top: 1em">--google-json-key=&quot;&quot;
<br>
The Google Cloud Platform Service Account JSON Key to use
for authentication.</p>


<p style="margin-top: 1em">--insecure-skip-tls-verify=false
<br>
If true, the server&rsquo;s certificate will not be checked
for validity. This will make your HTTPS connections
insecure</p>

<p style="margin-top: 1em">--log-flush-frequency=0 <br>
Maximum number of seconds between log flushes</p>

<p style="margin-top: 1em">--match-server-version=false
<br>
Require server version to match client version</p>

<p style="margin-top: 1em">-n, --namespace=&quot;&quot;
<br>
If present, the namespace scope for this CLI request</p>

<p style="margin-top: 1em">--request-timeout=&quot;0&quot;
<br>
The length of time to wait before giving up on a single
server request. Non-zero values should contain a
corresponding time unit (e.g. 1s, 2m, 3h). A value of zero
means <br>
don&rsquo;t timeout requests.</p>

<p style="margin-top: 1em">--server=&quot;&quot; <br>
The address and port of the Kubernetes API server</p>

<p style="margin-top: 1em">--token=&quot;&quot; <br>
Bearer token for authentication to the API server</p>

<p style="margin-top: 1em">--user=&quot;&quot; <br>
The name of the kubeconfig user to use</p>

<p style="margin-top: 1em">EXAMPLE <br>
# Perform a dry-run of migrating all &quot;docker.io&quot;
references to &quot;myregistry.com&quot; <br>
openshift admin migrate image-references
docker.io/*=myregistry.com/*</p>

<p style="margin-top: 1em"># To actually perform the
migration, the confirm flag must be appended <br>
openshift admin migrate image-references
docker.io/*=myregistry.com/* --confirm</p>

<p style="margin-top: 1em"># To see more details of what
will be migrated, use the loglevel and output flags <br>
openshift admin migrate image-references
docker.io/*=myregistry.com/* --loglevel=2 -o yaml</p>

<p style="margin-top: 1em"># Migrate from a service IP to
an internal service DNS name <br>
openshift admin migrate image-references
172.30.1.54/*=registry.openshift.svc.cluster.local/*</p>

<p style="margin-top: 1em"># Migrate from a service IP to
an internal service DNS name for all deployment configs and
builds <br>
openshift admin migrate image-references
172.30.1.54/*=registry.openshift.svc.cluster.local/*
--include=buildconfigs,deploymentconfigs</p>

<p style="margin-top: 1em">SEE ALSO <br>
openshift-admin-migrate(1),</p>

<p style="margin-top: 1em">HISTORY <br>
June 2016, Ported from the Kubernetes man-doc generator</p>

<p style="margin-top: 1em">Openshift Openshift CLI User
Manuals OPENSHIFT ADMIN MIGRATE(1)</p>
<hr>
</body>
</html>
