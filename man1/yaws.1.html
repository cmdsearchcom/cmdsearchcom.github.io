<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>YAWS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">YAWS(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">YAWS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
yaws - yet another webserver
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>yaws</b> [ <i>OPTIONS</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Yaws is fast lightweight webserver. It can run as daemon or in interactive mode
  where it is possible to directly interact with the webserver. Yaws is
  particularly good at generating dynamic content. See the user docs for more
  information on that topic.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DAEMON/SERVER_options"><a class="selflink" href="#DAEMON/SERVER_options">DAEMON/SERVER
  options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i | --interactive</b></dt>
  <dd class="It-tag">Interactive mode. This will start yaws in interactive mode
      with an erlang prompt. All error_logger messages will be written to the
      tty as well in this mode. Use this when developing yaws code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w | --winteractive</b></dt>
  <dd class="It-tag">Cygwin inteactive mode (werl)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D | --daemon</b></dt>
  <dd class="It-tag">Daemon mode. This will start yaws as a daemon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--heart</b></dt>
  <dd class="It-tag">This will cause the yaws system to be automatically
      restarted in case it should crash. This switch also requires the
      <i>--daemon</i> switch to be present.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--heart-restart=C,T</b></dt>
  <dd class="It-tag">This controls the number of restarts in a given time period
      that heart tolerates before refusing to restart Yaws. By default, heart
      allows up to 5 restarts within a 60 second period before refusing to
      restart Yaws again. This option allows up to <i>C</i> restarts in <i>T</i>
      seconds instead. To allow infinite restarts, set both <i>C</i> and
      <i>T</i> to 0. This switch automatically enables the <i>--heart</i>
      switch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Debug mode. This will produce some auxiliary error output
      for some error conditions. It will also start the otp sasl lib for
      additional error printouts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nodebug</b></dt>
  <dd class="It-tag">Non-debug mode. This is useful for running interactively
      via the -i option but without incurring the performance penalties of debug
      mode.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--conf file</b></dt>
  <dd class="It-tag">Use a different configuration file than the default. If the
      configuration parameter <i>config</i> is set, yaws use it as default
      configuration file. Else, The default configuration file when running as
      root is /etc/yaws/yaws.conf. When running as a non priviliged user, yaws
      will search for its configuration file in the following order. First in
      $HOME/yaws.conf, then in ./yaws.conf and finally in
    /etc/yaws/yaws.conf.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--runmod module</b></dt>
  <dd class="It-tag">Tells yaws to call <i>module:start/0</i> at startup. This
      makes it possible to startup user specific applications together with
      yaws.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pa path</b></dt>
  <dd class="It-tag">Add path to the yaws system search path
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tracetraf</b></dt>
  <dd class="It-tag">Traffic trace mode. All traffic will be written to a trace
      file called trace.traffic in the log directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tracehttp</b></dt>
  <dd class="It-tag">HTTP trace mode. All HTTP messages will be written to a
      trace file called trace.http in the log directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--traceout</b></dt>
  <dd class="It-tag">When yaws is put into trace mode using either --tracetraf
      or --tracehttp, traces are written to files. If we provide the --traceout
      flag, the trace will also be written to stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--trace</b></dt>
  <dd class="It-tag">Sames as --tracetraf --traceout. I.e. trace everything and
      write to stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mnesiadir dir</b></dt>
  <dd class="It-tag">Start Mnesia in directory &lt;dir&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sname xxx</b></dt>
  <dd class="It-tag">Start yaws as a distributed erlang node with name
      &lt;xxx&gt; using the unqualified hostname as nodename postfix
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-kpoll</b></dt>
  <dd class="It-tag">By default, yaws starts erlang with <i>+K true</i>. This
      flag reverses that.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--name xxx</b></dt>
  <dd class="It-tag">Start yaws as a distributed erlang node with name
      &lt;xxx&gt; using the fully qualified hostname as nodename postfix
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--proto_dist Mod</b></dt>
  <dd class="It-tag">Use module Mod for erlang distribution. This is typically
      only used when we want to run erlang distribution over SSL.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--erlarg STRING</b></dt>
  <dd class="It-tag">Pass STRING as an additional argument to the
      &quot;erl&quot; program. If STRING comprises multiple words, you must
      quote it so that your shell passes it to yaws as a single argument. If
      STRING contains any single quote characters, you must quote each of them
      as well. For example, to pass the option <i>-env NAME O'Keeffe</i> to
      &quot;erl&quot; from a Bourne-compatible shell:</dd>
</dl>
<div class="Pp"></div>
<pre>
<div>&#x00A0;</div>
--erlarg &quot;-env NAME O\'Keeffe&quot;
<div>&#x00A0;</div>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--id ID</b></dt>
  <dd class="It-tag">This flag sets the id. If we're starting a daemon (or an
      interactive system) it gives the Yaws server the identity ID. This means
      that the server will write all internal files into the directory
      $HOME/.yaws/yaws/ID.
    <div style="height: 1.00em;">&#x00A0;</div>
    Yaws also creates a file called $HOME/.yaws/yaws/ID/CTL which contains the
      portnumber the daemon is listening on for control request by the control
      command such as &quot;yaws --hup&quot; etc.
    <div style="height: 1.00em;">&#x00A0;</div>
    If we're invoking a control command which should perform some control
      function on the daemon, we may have to give the --id flag also to the
      control command. If we don't do this the control command may interact with
      the wrong daemon due to finding the wrong &quot;ctl&quot; file.
    <div style="height: 1.00em;">&#x00A0;</div>
    The daemon may also optionally specify the &quot;id&quot; in the yaws.conf
      configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--umask MASK</b></dt>
  <dd class="It-tag">Set the umask for the daemon to MASK.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="CONTROL_OPTIONS"><a class="selflink" href="#CONTROL_OPTIONS">CONTROL
  OPTIONS</a></h1>
The following list of options are are used to control the daemon from the
  &quot;outside&quot; while it is running.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hup [--id ID]</b></dt>
  <dd class="It-tag">HUP the daemon. This forces the daemon to reread the
      configuration file. It also makes the daemon empty all its internal
      content caches. Hence when updating the doc root, HUPing the daemon is the
      fastest way to see the content updates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--stop [--id id]</b></dt>
  <dd class="It-tag">Stop the daemon (called id)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ls </b></dt>
  <dd class="It-tag">Lists current ids and status of all yaws servers on
      localhost. In practice this amounts to a listdir in $HOME/.yaws/yaws - and
      check whether the different systems who has created files there are
    alive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--status [--id id]</b></dt>
  <dd class="It-tag">Query a running yaws daemon for its status, and print
    it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--stats [--id id]</b></dt>
  <dd class="It-tag">Query a running yaws daemon for its statistics, and print
      it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--running-config [--id id]</b></dt>
  <dd class="It-tag">Query a running yaws daemon for its current configuration,
      and print it. This can be useful when attempting to figure out how to set
      config in embedded mode. Configure yaws to you liking in non-embedded
      mode, run this command and use the output to populate the embedded mode
      records.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load Modules [--id id]</b></dt>
  <dd class="It-tag">Try to (re)load erlang modules into a running daemon. This
      is useful after modifying appmods or modules used by scripts.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-dump [--id id]</b></dt>
  <dd class="It-tag">Produce a debug dump on stdout. In particular this code
      lists what we refer to as suspicious processes. I.e. processes that might
      be hanging or processes that are &quot;large&quot; - hardcoded to 40k
      words.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ctltrace [--id ID] http | traffic | off</b></dt>
  <dd class="It-tag">Control the trace capabilities of a running yaws daemon. If
      the http or traffic option is given, the daemon will write a log for debug
      purposes into the logdir.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wait-started[=T] [--id ID] </b></dt>
  <dd class="It-tag">Waits at most 30 seconds for the server to start. Exits
      with 0 if server is running, 1 otherwise. Typically useful in test
      scripts. The default 30 seconds can be modified by appending <i>=T</i> to
      the option, where <i>T</i> is the desired number of seconds to wait for
      the server to start.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="MISC_OPTIONS"><a class="selflink" href="#MISC_OPTIONS">MISC
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check YawsFile [IncDirs ....]</b></dt>
  <dd class="It-tag">Test compile a `.yaws' file. Useful in Makefiles when we
      want to ensure that all .yaws files are syntactically correct</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">output version information and exit
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>HOME</b></dt>
  <dd class="It-tag">Is used to determine where we write the temporary files. By
      default all tmp files end up in $HOME/.yaws. This includes the JIT files
      that are the result of processed .yaws files and also the so called
      control file that is used by the daemon to write the port number to which
      it is listening for control commands such as &quot;yaws --status&quot;
    <div style="height: 1.00em;">&#x00A0;</div>
    Thus HOME is the handle we use in the control commands to find the control
      file so that we know where to connect to.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>YAWSHOME</b></dt>
  <dd class="It-tag">Can be used to override the HOME variable. This is useful
      when we for example are running yaws under port binding programs such as
      authpriv.
    <div style="height: 1.00em;">&#x00A0;</div>
    It's useful by distros that don't want Yaws to write any files ever in the
      HOME directory of root.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Claes Wikstrom
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>yaws.conf</b>(5) <b>erl</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
