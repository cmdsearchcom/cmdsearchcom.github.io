<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SA-AWL(1p)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SA-AWL(1p)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">SA-AWL(1p)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
sa-awl - examine and manipulate SpamAssassin's auto-whitelist db
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>sa-awl</b> [--clean] [--min n] [dbfile]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Check or clean a SpamAssassin auto-whitelist (AWL) database file.
<div class="Pp"></div>
The name of the file is specified after any options, as &quot;dbfile&quot;. The
  default is &quot;$HOME/.spamassassin/auto-whitelist&quot;.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--clean</dt>
  <dd class="It-tag">Clean out infrequently-used AWL entries. The
      &quot;--min&quot; switch can be used to select the threshold at which
      entries are kept or deleted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--min n</dt>
  <dd class="It-tag">Select the threshold at which entries are kept or deleted
      when &quot;--clean&quot; is used. The default is 2, so entries that have
      only been seen once are deleted.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OUTPUT"><a class="selflink" href="#OUTPUT">OUTPUT</a></h1>
The output looks like this:
<div class="Pp"></div>
<pre>
     AVG  (TOTSCORE/COUNT)  --  EMAIL|ip=IPBASE
</pre>
<div class="Pp"></div>
For example:
<div class="Pp"></div>
<pre>
     0.0         (0.0/7)  --  dawson@example.com|ip=208.192
    21.8        (43.7/2)  --  mcdaniel_2s2000@example.com|ip=200.106
</pre>
<div class="Pp"></div>
&quot;AVG&quot; is the average score; &quot;TOTSCORE&quot; is the total score of
  all mails seen so far; &quot;COUNT&quot; is the number of messages seen from
  that sender; &quot;EMAIL&quot; is the sender's email address, and
  &quot;IPBASE&quot; is the <b>AWL base IP address</b>.
<div class="Pp"></div>
<b>AWL base IP address</b> is a way to identify the sender's IP address they
  frequently send from, in an approximate way, but remaining hard for spammers
  to spoof. The algorithm is as follows:
<div class="Pp"></div>
<pre>
  - take the last Received header that contains a public IP address -- namely
    one which is not in private, unrouted IP space.
  - chop off the last two octets, assuming that the user may be in an ISP's
    dynamic address pool.
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-10-30</td>
    <td class="foot-os">perl v5.24.1</td>
  </tr>
</table>
</body>
</html>
