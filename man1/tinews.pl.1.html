<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>tinews.pl(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">tinews.pl(1)</td>
    <td class="head-vol">Post and sign an article via NNTP</td>
    <td class="head-rtitle">tinews.pl(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
tinews.pl - Post and sign an article via NNTP
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>tinews.pl</b> [<b>OPTIONS</b>] &lt; <i>input</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>tinews.pl</b> reads an article on STDIN, signs it via <b>pgp</b>(1) or
  <b>gpg</b>(1) and posts it to a news server.
<div class="Pp"></div>
If the article contains To:, Cc: or Bcc: headers and mail-actions are configured
  it will automatically add a &quot;Posted-And-Mailed: yes&quot; header to the
  article and send out the mail-copies.
<div class="Pp"></div>
If a Cancel-Lock secret file is defined it will automatically add a Cancel-Lock:
  (and Cancel-Key: if required) header.
<div class="Pp"></div>
The input should have unix line endings (&lt;LF&gt;, '\n').
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>a</b> &quot;Approved&quot; | --<b>approved</b>
    &quot;Approved&quot;</dt>
  <dd class="It-tag">Set the article header field Approved: to the given
    value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>c</b> &quot;Control&quot; | --<b>control</b>
    &quot;Control&quot;</dt>
  <dd class="It-tag">Set the article header field Control: to the given
    value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>d</b> &quot;Distribution&quot; | --<b>distribution</b>
    &quot;Distribution&quot;</dt>
  <dd class="It-tag">Set the article header field Distribution: to the given
      value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>e</b> &quot;Expires&quot; | --<b>expires</b>
    &quot;Expires&quot;</dt>
  <dd class="It-tag">Set the article header field Expires: to the given
    value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>f</b> &quot;From&quot; | --<b>from</b>
    &quot;From&quot;</dt>
  <dd class="It-tag">Set the article header field From: to the given value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>i</b> <i>header</i> | --<b>ignore-headers</b>
    <i>header</i></dt>
  <dd class="It-tag">Comma separated list of headers that will be ignored during
      signing. Usually the following headers will be signed if present:
    <div style="height: 1.00em;">&#x00A0;</div>
    From, Newsgroups, Subject, Control, Supersedes, Followup-To, Date,
      Injection-Date, Sender, Approved, Message-ID, Reply-To, Cancel-Key,
      Also-Control and Distribution.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some of them may be altered on the Server (i.e. Cancel-Key) which would
      invalid the signature, this option can be used the exclude such headers if
      required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>n</b> &quot;Newsgroups&quot; | --<b>newsgroups</b>
    &quot;Newsgroups&quot;</dt>
  <dd class="It-tag">Set the article header field Newsgroups: to the given
      value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>o</b> &quot;Organization&quot; | --<b>organization</b>
    &quot;Organization&quot;</dt>
  <dd class="It-tag">Set the article header field Organization: to the given
      value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>p</b> &quot;port&quot; | --<b>port</b>
    &quot;port&quot;</dt>
  <dd class="It-tag">use &quot;port&quot; as NNTP-port</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>r</b> &quot;Reply-To&quot; | --<b>replyto</b>
    &quot;Reply-To&quot;</dt>
  <dd class="It-tag">Set the article header field Reply-To: to the given
    value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>s</b> <i>directory</i> | --<b>savedir</b>
    <i>directory</i></dt>
  <dd class="It-tag">Save signed article to directory <i>directory</i> instead
      of posting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>t</b> &quot;Subject&quot; | --<b>subject</b>
    &quot;Subject&quot;</dt>
  <dd class="It-tag">Set the article header field Subject: to the given
    value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>v</b> | --<b>version</b></dt>
  <dd class="It-tag">Show version.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>w</b> &quot;Followup-To&quot; | --<b>followupto</b>
    &quot;Followup-To&quot;</dt>
  <dd class="It-tag">Set the article header field Followup-To: to the given
      value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>x</b> &quot;Path&quot; | --<b>path</b>
    &quot;Path&quot;</dt>
  <dd class="It-tag">Set the article header field Path: to the given value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>H</b> | --<b>help</b></dt>
  <dd class="It-tag">Show help-page.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>I</b> | --<b>no-injection-date</b></dt>
  <dd class="It-tag">Do not add Injection-Date: header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>L</b> | --<b>no-canlock</b></dt>
  <dd class="It-tag">Do not add Cancel-Lock: / Cancel-Key: headers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>R</b> | --<b>no-control</b></dt>
  <dd class="It-tag">Restricted mode, disallow control-messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>S</b> | --<b>no-signature</b></dt>
  <dd class="It-tag">Do not append <i></i><i>$HOME</i><i>/.signature</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>X</b> | --<b>no-sign</b></dt>
  <dd class="It-tag">Do not sign the article.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>Y</b> | --<b>force-auth</b></dt>
  <dd class="It-tag">Force authentication on connect even if not required by the
      server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>A</b> -<b>V</b> -<b>W</b></dt>
  <dd class="It-tag">These options are accepted for compatibility reasons but
      ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>h</b> | --<b>headers</b></dt>
  <dd class="It-tag">These options are accepted for compatibility reasons but
      ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>O</b> | --<b>no-organization</b></dt>
  <dd class="It-tag">These options are accepted for compatibility reasons but
      ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<b>D</b> | -<b>N</b> | --<b>debug</b></dt>
  <dd class="It-tag">These options are accepted but do not have any
      functionality yet.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The following exit values are returned:
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;0</dt>
  <dd class="It-tag">Successful completion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">!=0</dt>
  <dd class="It-tag">An error occurred.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$NNTPSERVER</b><b></b></dt>
  <dd class="It-tag">Set to override the NNTP server configured in the
    source.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$NNTPPORT</b><b></b></dt>
  <dd class="It-tag">The NNTP TCP-port to post news to. This variable only needs
      to be set if the TCP-port is not 119 (the default). The '- <b>p</b>'
      command-line option overrides <b></b><b>$NNTPPORT</b><b></b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$PGPPASS</b><b></b></dt>
  <dd class="It-tag">Set to override the passphrase configured in the source
      (used for <b>pgp</b>(1)-2.6.3).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$PGPPASSFILE</b><b></b></dt>
  <dd class="It-tag">Passphrase file used for <b>pgp</b>(1) or
    <b>gpg</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$SIGNER</b><b></b></dt>
  <dd class="It-tag">Set to override the user-id for signing configured in the
      source. If you neither set <b></b><b>$SIGNER</b><b></b> nor configure it
      in the source the contents of the From:-field will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$REPLYTO</b><b></b></dt>
  <dd class="It-tag">Set the article header field Reply-To: to the return
      address specified by the variable if there isn't already a Reply-To:
      header in the article. The '- <b>r</b>' command-line option overrides
      <b></b> <b>$REPLYTO</b><b></b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$ORGANIZATION</b><b></b></dt>
  <dd class="It-tag">Set the article header field Organization: to the contents
      of the variable if there isn't already a Organization: header in the
      article. The '- <b>o</b>' command-line option overrides
      <b></b><b>$ORGANIZATION</b> <b></b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$DISTRIBUTION</b><b></b></dt>
  <dd class="It-tag">Set the article header field Distribution: to the contents
      of the variable if there isn't already a Distribution: header in the
      article. The '- <b>d</b>' command-line option overrides
      <b></b><b>$DISTRIBUTION</b> <b></b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pgptmp.txt</i></dt>
  <dd class="It-tag">Temporary file used to store the reformatted article.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>pgptmp.txt.asc</i></dt>
  <dd class="It-tag">Temporary file used to store the reformatted and signed
      article.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i></i><i>$PGPPASSFILE</i><i></i></dt>
  <dd class="It-tag">The passphrase file to be used for <b>pgp</b>(1) or
      <b>gpg</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i></i><i>$HOME</i><i>/.signature</i></dt>
  <dd class="It-tag">Signature file which will be automatically included.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i></i><i>$HOME</i><i>/.cancelsecret</i></dt>
  <dd class="It-tag">The passphrase file to be used for Cancel-Locks. This
      feature is turned off by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i></i><i>$HOME</i><i>/.newsauth</i></dt>
  <dd class="It-tag">&quot;nntpserver password [user]&quot; pairs for NNTP
      servers that require authorization. Any line that starts with
      &quot;#&quot; is a comment. Blank lines are ignored. This file should be
      readable only for the user as it contains the user's unencrypted password
      for reading news. First match counts. If no matching entry is found
      <i></i> <i>$HOME</i><i>/.nntpauth</i> is checked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i></i><i>$HOME</i><i>/.nntpauth</i></dt>
  <dd class="It-tag">&quot;nntpserver user password&quot; pairs for NNTP servers
      that require authorization. First match counts. Lines starting with
      &quot;#&quot; are skipped and blank lines are ignored. This file should be
      readable only for the user as it contains the user's unencrypted password
      for reading news. <i></i><i>$HOME</i><i>/.newsauth</i> is checked
    first.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i></i><i>$XDG_CONFIG_HOME</i><i>/tinewsrc</i>
    <i></i><i>$HOME</i> <i>/.config/tinewsrc</i>
    <i></i><i>$HOME</i><i>/.tinewsrc</i></dt>
  <dd class="It-tag">&quot;option=value&quot; configuration pairs. Lines that
      start with &quot;#&quot; are ignored. If the file contains unencrypted
      passwords (e.g. NNTPPass or PGPPass), it should be readable for the user
      only.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SECURITY"><a class="selflink" href="#SECURITY">SECURITY</a></h1>
If you've configured or entered a password, even if the variable that contained
  that password has been erased, it may be possible for someone to find that
  password, in plaintext, in a core dump. In short, if serious security is an
  issue, don't use this script.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<b>tinews.pl</b> is designed to be used with <b>pgp</b>(1)-2.6.3,
  <b>pgp</b>(1)-5, <b>pgp</b>(1)-6, <b>gpg</b>(1) and <b>gpg2</b>(1).
<div class="Pp"></div>
<b>tinews.pl</b> requires the following standard modules to be installed:
  <b>Getopt::Long</b>(3pm), <b>Net::NNTP</b>(3pm), <b>Time::Local</b>(3pm) and
  <b>Term::Readline</b>(3pm).
<div class="Pp"></div>
If the Cancel-Lock feature is enabled the following additional modules must be
  installed: <b>MIME::Base64</b>(3pm), <b>Digest::SHA</b>(3pm) or
  <b>Digest::SHA1</b>(3pm) and <b>Digest::HMAC_SHA1</b>(3pm)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Urs Janssen &lt;urs@tin.org&gt;, Marc Brockschmidt
  &lt;marc@marcbrockschmidt.de&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pgp</b>(1), <b>gpg</b>(1), <b>gpg2</b>(1), <b>pgps</b>(1),
  <b>Digest::HMAC_SHA1</b>(3pm), <b>Digest::SHA</b>(3pm),
  <b>Digest::SHA1</b>(3pm), <b>Getopt::Long</b>(3pm), <b>MIME::Base64</b>(3pm),
  <b>Net::NNTP</b>(3pm), <b>Time::Local</b>(3pm),
  <b>Term::Readline</b>(3pm)</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 13th, 2016</td>
    <td class="foot-os">1.1.42</td>
  </tr>
</table>
</body>
</html>
