<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>enca(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">enca(1)</td>
    <td class="head-vol"> </td>
    <td class="head-rtitle">enca(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
enca -- detect and convert encoding of text files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>enca</b> [<b>-L</b> <i>LANGUAGE</i>] [<i>OPTION</i>]... [<i>FILE</i>]...
<div>&#x00A0;</div>
<b>enconv</b> [<b>-L</b> <i>LANGUAGE</i>] [<i>OPTION</i>]... [<i>FILE</i>]...
<h1 class="Sh" title="Sh" id="INTRODUCTION_AND_EXAMPLES"><a class="selflink" href="#INTRODUCTION_AND_EXAMPLES">INTRODUCTION
  AND EXAMPLES</a></h1>
If you are lucky enough, the only two things you will ever need to know are:
  command
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca <i>FILE</i></div>
<div class="Pp"></div>
will tell you which encoding file <i>FILE</i> uses (without changing it), and
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enconv <i>FILE</i></div>
<div class="Pp"></div>
will convert file <i>FILE</i> to your locale native encoding. To convert the
  file to some other encoding use the <b>-x</b> option (see <b>-x</b> entry in
  section <b>OPTIONS</b> and sections <b>CONVERSION</b> and <b>ENCODINGS</b> for
  details).
<div class="Pp"></div>
Both work with multiple files and standard input (output) too. E.g.
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca -x latin2 &lt;sometext | lpr</div>
<div class="Pp"></div>
assures file `sometext' is in ISO Latin&#x00A0;2 when it's sent to printer.
<div class="Pp"></div>
The main reason why these command will fail and turn your files into garbage is
  that Enca needs to know their language to detect the encoding. It tries to
  determine your language and preferred charset from locale settings, which
  might not be what you want.
<div class="Pp"></div>
You can (or have to) use <b>-L</b> option to tell it the right language.
  Suppose, you downloaded some Russian HTML file, `file.htm', it claims it's
  windows-1251 but it isn't. So you run
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca -L ru file.htm</div>
<div class="Pp"></div>
and find out it's KOI8-R (for example). Be warned, currently there are not many
  supported languages (see section <b>LANGUAGES</b>).
<div class="Pp"></div>
Another warning concerns the fact several Enca's features, namely its charset
  conversion capabilities, strongly depend on what other tools are installed on
  your system (see section <b>CONVERSION)</b>--run
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --version</div>
<div class="Pp"></div>
to get list of features (see section <b>FEATURES</b>). Also try
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --help</div>
<div class="Pp"></div>
to get description of all other Enca options (and to find the rest of this
  manual page redundant).
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Enca reads given text files, or standard input when none are given, and uses
  knowledge about their language (must be supported by you) and a mixture of
  parsing, statistical analysis, guessing and black magic to determine their
  encodings, which it then prints to standard output (or it confesses it doesn't
  have any idea what the encoding could be). By default, Enca presents results
  as a multiline human-readable descriptions, several other formats are
  available--see Output type selectors below.
<div class="Pp"></div>
Enca can also convert files to some other encoding <i>ENC</i> when you ask for
  it--either using a built-in converter, some conversion library, or by calling
  an external converter.
<div class="Pp"></div>
Enca's primary goal is to be usable unattended, as an automatic conversion tool,
  though it perhaps have not reached this point yet (please see section
  <b>SECURITY</b>).
<div class="Pp"></div>
Please note except rare cases Enca really has to know the language of input
  files to give you a reliable answer. On the other hand, it can then cope quite
  well with files that are not purely textual or even detect charset of text
  strings inside some binary file; of course, it depends on the character of the
  non-text component.
<div class="Pp"></div>
Enca doesn't care about structure of input files, it views them as a uniform
  piece of text/data. In case of multipart files (e.g. mailboxes), you have to
  use some tool knowing the structure to extract the individual parts first.
  It's the cost of ability to detect encodings of any damaged, incomplete or
  otherwise incorrect files.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
There are several categories of options: operation mode options, output type
  selectors, guessing parameters, conversion parameters, general options and
  listings.
<div class="Pp"></div>
All long options can be abbreviated as long as they are unambiguous, mandatory
  parameters of long options are mandatory for short options too.
<h2 class="Ss" title="Ss" id="Operation_modes"><a class="selflink" href="#Operation_modes">Operation
  modes</a></h2>
are following:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--auto-convert</b></dt>
  <dd class="It-tag">Equivalent to calling Enca as <b>enconv</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If no output type selector is specified, detect file encodings, guess your
      preferred charset from locales, and convert files to it (only available
      with +target-charset-auto feature).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b>, <b>--guess</b></dt>
  <dd class="It-tag">Equivalent to calling Enca as <b>enca</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If no output type selector is specified, detect file encodings and report
      them.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Output_type_selectors"><a class="selflink" href="#Output_type_selectors">Output
  type selectors</a></h2>
select what action Enca will take when it determines the encoding; most of them
  just choose between different names, formats and conventions how encodings can
  be printed, but one of them ( <b>-x</b>) is special: it tells Enca to recode
  files to some other encoding <i>ENC</i>. These options are mutually exclusive;
  if you specify more than one output type selector the last one takes
  precedence.
<div style="height: 1.00em;">&#x00A0;</div>
Several output types represent charset name used by some other program, but not
  all these programs know all the charsets which Enca recognises. Be warned,
  Enca makes no difference between unrecognised charset and charset having no
  name in given namespace in such situations.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--details</b></dt>
  <dd class="It-tag">It used to print a few pages of details about the guessing
      process, but since Enca is just a program linked against Enca library,
      this is not possible and this option is roughly equivalent to
      <b>--human-readable</b>, except it reports failure reason when Enca
      doesn't recognize the encoding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>, <b>--enca-name</b></dt>
  <dd class="It-tag">Prints Enca's nice name of the charset, i.e., perhaps the
      most generally accepted and more or less human-readable charset
      identifier, with surfaces appended.
    <div style="height: 1.00em;">&#x00A0;</div>
    This name is used when calling an external converter, too.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--human-readable</b></dt>
  <dd class="It-tag">Prints verbal description of the detected charset and
      surfaces--something a human understands best. This is the default
      behaviour.
    <div style="height: 1.00em;">&#x00A0;</div>
    The precise format is following: the first line contains charset name alone,
      and it's followed by zero or more indented lines containing names of
      detected surfaces. This format is not, however, suitable or intended for
      further machine-processing, and the verbal charset descriptions are like
      to change in the future.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b>, <b>--iconv-name</b></dt>
  <dd class="It-tag">Prints how <i>iconv</i>(3) (and/or <i>iconv</i>(1)) calls
      the detected charset. More precisely, it prints one, more or less
      arbitrarily chosen, alias accepted by iconv. A charset unknown to iconv
      counts as unknown.
    <div style="height: 1.00em;">&#x00A0;</div>
    This output type makes sense only when Enca is compiled with iconv support
      (feature +iconv-interface).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--rfc1345-name</b></dt>
  <dd class="It-tag">Prints RFC&#x00A0;1345 charset name. When such a name
      doesn't exist because RFC&#x00A0;1345 doesn't define a given encoding,
      some other name defined in some other RFC or just the name which author
      considers `the most canonical', is printed.
    <div style="height: 1.00em;">&#x00A0;</div>
    Since RFC&#x00A0;1345 doesn't define surfaces, no surface info is
    appended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--mime-name</b></dt>
  <dd class="It-tag">Prints preferred MIME name of detected charset. This is the
      name you should normally use when fixing e-mails or web pages.
    <div style="height: 1.00em;">&#x00A0;</div>
    A charset not present in http://www.iana.org/assignments/character-sets
      counts as unknown.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--cstocs-name</b></dt>
  <dd class="It-tag">Prints how <i>cstocs</i>(1) calls the detected charset. A
      charset unknown to cstocs counts as unknown.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--name=</b><i>WORD</i></dt>
  <dd class="It-tag">Prints charset (encoding) name selected by <i>WORD</i> (can
      be abbreviated as long as is unambiguous). For names listed above,
      <b>--name=</b> <i>WORD</i> is equivalent to <b>--</b><i>WORD</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Using <b>aliases</b> as the output type causes Enca to print list of all
      accepted aliases of detected charset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>, <b>--convert-to=</b>[<b>..</b>]<i>ENC</i></dt>
  <dd class="It-tag">Converts file to encoding <i>ENC</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The optional `..' before encoding name has no special meaning, except you
      can use it to remind yourself that, unlike in <i>recode</i>(1), you should
      specify <i>desired</i> encoding, instead of current.
    <div style="height: 1.00em;">&#x00A0;</div>
    You can use <i>recode</i>(1) recoding chains or any other kind of braindead
      recoding specification for <i>ENC</i>, provided that you tell Enca to use
      some tool understanding it for conversion (see section <b>CONVERSION</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    When Enca fails to determine the encoding, it prints a warning and leaves
      the the file as is; when it is run as a filter it tries to do its best to
      copy standard input to standard output unchanged. Nevertheless, you should
      not rely on it and do backup.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Guessing_parameters"><a class="selflink" href="#Guessing_parameters">Guessing
  parameters</a></h2>
There's only one: <b>-L</b> setting language of input files. This option is
  mandatory (but see below).
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>, <b>--language=</b><i>LANG</i></dt>
  <dd class="It-tag">Sets language of input files to <i>LANG</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    More precisely, <i>LANG</i> can be any valid locale name (or alias with
      +locale-alias feature) of some supported language. You can also specify
      `none' as language name, only multibyte encodings are recognised then. Run
    <div style="height: 1.00em;">&#x00A0;</div>
    enca --list languages
    <div style="height: 1.00em;">&#x00A0;</div>
    to get list of supported languages. When you don't specify any language Enca
      tries to guess your language from locale settings and assumes input files
      use this language. See section <b>LANGUAGES</b> for details.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Conversion_parameters"><a class="selflink" href="#Conversion_parameters">Conversion
  parameters</a></h2>
give you finer control of how charset conversion will be performed. They don't
  affect anything when <b>-x</b> is not specified as output type. Please see
  section <b>CONVERSION</b> for the gory conversion details.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>, <b>--try-converters=</b><i>LIST</i></dt>
  <dd class="It-tag">Appends comma separated <i>LIST</i> to the list of
      converters that will be tried when you ask for conversion. Their names can
      be abbreviated as long as they are unambiguous. Run
    <div style="height: 1.00em;">&#x00A0;</div>
    enca --list converters
    <div style="height: 1.00em;">&#x00A0;</div>
    to get list of all valid converter names (and see section <b>CONVERSION</b>
      for their description).
    <div style="height: 1.00em;">&#x00A0;</div>
    The default list depends on how Enca has been compiled, run
    <div style="height: 1.00em;">&#x00A0;</div>
    enca --help
    <div style="height: 1.00em;">&#x00A0;</div>
    to find out default converter list.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note the default list is used only when you don't specify <b>-C</b> at all.
      Otherwise, the list is built as if it were initially empty and every
      <b>-C</b> adds new converter(s) to it. Moreover, specifying <b>none</b> as
      converter name causes clearing the converter list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b>,
    <b>--external-converter-program=</b><i>PATH</i></dt>
  <dd class="It-tag">Sets external converter program name to <i>PATH</i>.
      Default external converter depends on how enca has been complied, and the
      possibility to use external converters may not be available at all. Run
    <div style="height: 1.00em;">&#x00A0;</div>
    enca --help
    <div style="height: 1.00em;">&#x00A0;</div>
    to find out default converter program in your enca build.</dd>
</dl>
<h2 class="Ss" title="Ss" id="General_options"><a class="selflink" href="#General_options">General
  options</a></h2>
don't fit to other option categories...
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>, <b>--with-filename</b></dt>
  <dd class="It-tag">Forces Enca to prefix each result with corresponding file
      name. By default, Enca prefixes results with filenames when run on
      multiple files.
    <div style="height: 1.00em;">&#x00A0;</div>
    Standard input is printed as <b>STDIN</b> and standard output as
      <b>STDOUT</b> (the latter can be probably seen in error messages
    only).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>, <b>--no-filename</b></dt>
  <dd class="It-tag">Forces Enca to not prefix results with file names. By
      default, Enca doesn't prefix result with file name when run on a single
      file (including standard input).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Increases verbosity level (each use increases it by one).
    <div style="height: 1.00em;">&#x00A0;</div>
    Currently this option in not very useful because different parts of Enca
      respond differently to the same verbosity level, mostly not at all.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Listings"><a class="selflink" href="#Listings">Listings</a></h2>
are all terminal, i.e. when Enca encounters some of them it prints the required
  listing and terminates without processing any following options.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Prints brief usage help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b>, <b>--license</b></dt>
  <dd class="It-tag">Prints full Enca license (through a pager, if
    possible).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--list=</b><i>WORD</i></dt>
  <dd class="It-tag">Prints list specified by <i>WORD</i> (can be abbreviated as
      long as it is unambiguous). Available lists include:
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>built-in-charsets</b>. All encodings convertible by built-in converter,
      by group (both input and output encoding must be from this list and belong
      to the same group for internal conversion).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>built-in-encodings</b>. Equivalent to <b>built-in-charsets</b>, but
      considered obsolete; will be accepted with a warning, for a while.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>converters</b>. All valid converter names (to be used with <b>-C</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>charsets</b>. All encodings (charsets). You can select what names will
      be printed with <b>--name</b> or any name output type selector (of course,
      only encodings having a name in given namespace will be printed then), the
      selector must be specified <i>before</i> <b>--list</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>encodings</b>. Equivalent to <b>charsets</b>, but considered obsolete;
      will be accepted with a warning, for a while.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>languages</b>. All supported languages together with charsets belonging
      to them. Note output type selects language name style, not charset name
      style here.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>names</b>. All possible values of <b>--name</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>lists</b>. All possible values of this option. (Crazy?)
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>surfaces</b>. All surfaces Enca recognises.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--version</b></dt>
  <dd class="It-tag">Prints program version and list of features (see section
      <b>FEATURES</b>).</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONVERSION"><a class="selflink" href="#CONVERSION">CONVERSION</a></h1>
Though Enca has been originally designed as a tool for guessing encoding only,
  it now features several methods of charset conversion. You can control which
  of them will be used with <b>-C</b>.
<div class="Pp"></div>
Enca sequentially tries converters from the list specified by <b>-C</b> until it
  finds some that is able to perform required conversion or until it exhausts
  the list. You should specify preferred converters first, less preferred later.
  External converter ( <b>extern</b>) should be always specified last, only as
  last resort, since it's usually not possible to recover when it fails. The
  default list of converters always starts with <b>built-in</b> and then
  continues with the first one available from: <b>librecode</b>, <b>iconv</b>,
  nothing.
<div class="Pp"></div>
It should be noted when Enca says it is not able to perform the conversion it
  only means none of the converters is able to perform it. It can be still
  possible to perform the required conversion in several steps, using several
  converters, but to figure out how, human intelligence is probably needed.
<h2 class="Ss" title="Ss" id="Built-in_converter"><a class="selflink" href="#Built-in_converter">Built-in
  converter</a></h2>
is the simplest and far the fastest of all, can perform only a few byte-to-byte
  conversions and modifies files directly in place (may be considered dangerous,
  but is pretty efficient). You can get list of all encodings it can convert
  with
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --list built-in</div>
<div class="Pp"></div>
Beside speed, its main advantage (and also disadvantage) is that it doesn't
  care: it simply converts characters having a representation in target
  encoding, doesn't touch anything else and never prints any error message.
<div style="height: 1.00em;">&#x00A0;</div>
This converter can be specified as <b>built-in</b> with <b>-C</b>.
<h2 class="Ss" title="Ss" id="Librecode_converter"><a class="selflink" href="#Librecode_converter">Librecode
  converter</a></h2>
is an interface to GNU recode library, that does the actual recoding job. It may
  or may not be compiled in; run
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --version</div>
<div class="Pp"></div>
to find out its availability in your enca build (feature +librecode-interface).
<div style="height: 1.00em;">&#x00A0;</div>
You should be familiar with <i>recode</i>(1) before using it, since recode is a
  quite sophisticated and powerful charset conversion tool. You may run into
  problems using it together with Enca particularly because Enca's support for
  surfaces not 100% compatible, because recode tries too hard to make the
  transformation reversible, because it sometimes silently ignores I/O errors,
  and because it's incredibly buggy. Please see GNU recode info pages for
  details about recode library.
<div style="height: 1.00em;">&#x00A0;</div>
This converter can be specified as <b>librecode</b> with <b>-C</b>.
<h2 class="Ss" title="Ss" id="Iconv_converter"><a class="selflink" href="#Iconv_converter">Iconv
  converter</a></h2>
is an interface to the UNIX98 <i>iconv</i>(3) conversion functions, that do the
  actual recoding job. It may or may not be compiled in; run
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --version</div>
<div class="Pp"></div>
to find out its availability in your enca build (feature +iconv-interface).
<div style="height: 1.00em;">&#x00A0;</div>
While iconv is present on most today systems it only rarely offer some useful
  set of available conversions, the only notable exception being iconv from GNU
  libc. It is usually quite picky about surfaces, too (while, at the same time,
  not implementing surface conversion). It however probably represents the only
  standard(ized) tool able to perform conversion from/to Unicode. Please see
  iconv documentation about for details about its capabilities on your
  particular system.
<div style="height: 1.00em;">&#x00A0;</div>
This converter can be specified as <b>iconv</b> with <b>-C</b>.
<h2 class="Ss" title="Ss" id="External_converter"><a class="selflink" href="#External_converter">External
  converter</a></h2>
is an arbitrary external conversion tool that can be specified with <b>-E</b>
  option (at most one can be defined simultaneously). There are some standard,
  provided together with enca: <b>cstocs</b>, <b>recode</b>, <b>map</b>,
  <b>umap</b>, and <b>piconv</b>. All are wrapper scripts: for <i>cstocs</i>(1),
  <i>recode</i>(1), <i>map</i>(1), <i>umap</i>(1), and <i>piconv</i>(1).
<div style="height: 1.00em;">&#x00A0;</div>
Please note enca has little control what the external converter really does. If
  you set it to <b>/bin/rm</b> you are fully responsible for the consequences.
<div style="height: 1.00em;">&#x00A0;</div>
If you want to make your own converter to use with enca, you should know it is
  always called
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<i>CONVERTER</i> <i>ENC_CURRENT</i> <i>ENC</i> <i>FILE</i> [<b>-</b>]</div>
<div class="Pp"></div>
where <i>CONVERTER</i> is what has been set by <b>-E</b>, <i>ENC_CURRENT</i> is
  detected encoding, <i>ENC</i> is what has been specified with <b>-x</b>, and
  <i>FILE</i> is the file to convert, i.e. it is called for each file
  separately. The optional fourth parameter, <b>-</b>, should cause (when
  present) sending result of conversion to standard output instead of
  overwriting the file <i>FILE</i>. The converter should also take care of not
  changing file permissions, returning error code&#x00A0;1 when it fails and
  cleaning its temporary files. Please see the standard external converters for
  examples.
<div style="height: 1.00em;">&#x00A0;</div>
This converter can be specified as <b>extern</b> with <i>-C</i>.
<h2 class="Ss" title="Ss" id="Default_target_charset"><a class="selflink" href="#Default_target_charset">Default
  target charset</a></h2>
The straightforward way of specifying target charset is the <b>-x</b> option,
  which overrides any defaults. When Enca is called as <b>enconv</b>, default
  target charset is selected exactly the same way as <i>recode</i>(1) does it.
<div class="Pp"></div>
If the <b>DEFAULT_CHARSET</b> environment variable is set, it's used as the
  target charset.
<div class="Pp"></div>
Otherwise, if you system provides the <i>nl_langinfo</i>(3) function, current
  locale's native charset is used as the target charset.
<div class="Pp"></div>
When both methods fail, Enca complains and terminates.
<h2 class="Ss" title="Ss" id="Reversibility_notes"><a class="selflink" href="#Reversibility_notes">Reversibility
  notes</a></h2>
If reversibility is crucial for you, you shouldn't use enca as converter at all
  (or maybe you can, with very specifically designed <i>recode</i>(1) wrapper).
  Otherwise you should at least know that there four basic means of handling
  inconvertible character entities:
<div style="height: 1.00em;">&#x00A0;</div>
fail--this is a possibility, too, and incidentally it's exactly what current GNU
  libc iconv implementation does (recode can be also told to do it)
<div style="height: 1.00em;">&#x00A0;</div>
don't touch them--this is what enca internal converter always does and recode
  can do; though it is not reversible, a human being is usually able to
  reconstruct the original (at least in principle)
<div style="height: 1.00em;">&#x00A0;</div>
approximate them--this is what cstocs can do, and recode too, though
  differently; and the best choice if you just want to make the accursed text
  readable
<div style="height: 1.00em;">&#x00A0;</div>
drop them out--this is what both recode and cstocs can do (cstocs can also
  replace these characters by some fixed character instead of mere ignoring);
  useful when the to-be-omitted characters contain only noise.
<div style="height: 1.00em;">&#x00A0;</div>
Please consult your favourite converter manual for details of this issue.
  Generally, if you are not lucky enough to have all convertible characters in
  you file, manual intervention is needed anyway.
<h2 class="Ss" title="Ss" id="Performance_notes"><a class="selflink" href="#Performance_notes">Performance
  notes</a></h2>
Poor performance of available converters has been one of main reasons for
  including built-in converter in enca. Try to use it whenever possible, i.e.
  when files in consideration are charset-clean enough or charset-messy enough
  so that its zero built-in intelligence doesn't matter. It requires no extra
  disk space nor extra memory and can outperform <i>recode</i>(1) more than 10
  times on large files and Perl version (i.e. the faster one) of
  <i>cstocs</i>(1) more than 400 times on small files (in fact it's almost as
  fast as mere <i>cp</i>(1)).
<div class="Pp"></div>
Try to avoid external converters when it's not absolutely necessary since all
  the forking and moving stuff around is incredibly slow.
<h1 class="Sh" title="Sh" id="ENCODINGS"><a class="selflink" href="#ENCODINGS">ENCODINGS</a></h1>
You can get list of recognised character sets with
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --list charsets</div>
<div class="Pp"></div>
and using <b>--name</b> parameter you can select any name you want to be used in
  the listing. You can also list all surfaces with
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --list surfaces</div>
<div class="Pp"></div>
Encoding and surface names are case insensitive and non-alphanumeric characters
  are not taken into account. However, non-alphanumeric characters are mostly
  not allowed at all. The only allowed are: `-', `_', `.', `:', and&#x00A0;`/'
  (as charset/surface separator). So `ibm852' and `IBM-852' are the same, while
  `IBM 852' is not accepted.
<h2 class="Ss" title="Ss" id="Charsets"><a class="selflink" href="#Charsets">Charsets</a></h2>
Following list of recognised charsets uses Enca's names ( <b>-e</b>) and verbal
  descriptions as reported by Enca ( <b>-f</b>):
<table class="tbl">
  <colgroup>
    <col style="width: 11.00ex;"/>
    <col style="width: 49.00ex;"/>
  </colgroup>
  <tr>
    <td>ASCII</td>
    <td>7bit ASCII characters</td>
  </tr>
  <tr>
    <td>ISO-8859-2</td>
    <td>ISO 8859-2 standard; ISO Latin 2</td>
  </tr>
  <tr>
    <td>ISO-8859-4</td>
    <td>ISO 8859-4 standard; Latin 4</td>
  </tr>
  <tr>
    <td>ISO-8859-5</td>
    <td>ISO 8859-5 standard; ISO Cyrillic</td>
  </tr>
  <tr>
    <td>ISO-8859-13</td>
    <td>ISO 8859-13 standard; ISO Baltic; Latin 7</td>
  </tr>
  <tr>
    <td>ISO-8859-16</td>
    <td>ISO 8859-16 standard</td>
  </tr>
  <tr>
    <td>CP1125</td>
    <td>MS-Windows code page 1125</td>
  </tr>
  <tr>
    <td>CP1250</td>
    <td>MS-Windows code page 1250</td>
  </tr>
  <tr>
    <td>CP1251</td>
    <td>MS-Windows code page 1251</td>
  </tr>
  <tr>
    <td>CP1257</td>
    <td>MS-Windows code page 1257; WinBaltRim</td>
  </tr>
  <tr>
    <td>IBM852</td>
    <td>IBM/MS code page 852; PC (DOS) Latin 2</td>
  </tr>
  <tr>
    <td>IBM855</td>
    <td>IBM/MS code page 855</td>
  </tr>
  <tr>
    <td>IBM775</td>
    <td>IBM/MS code page 775</td>
  </tr>
  <tr>
    <td>IBM866</td>
    <td>IBM/MS code page 866</td>
  </tr>
  <tr>
    <td>baltic</td>
    <td>ISO-IR-179; Baltic</td>
  </tr>
  <tr>
    <td>KEYBCS2</td>
    <td>Kamenicky encoding; KEYBCS2</td>
  </tr>
  <tr>
    <td>macce</td>
    <td>Macintosh Central European</td>
  </tr>
  <tr>
    <td>maccyr</td>
    <td>Macintosh Cyrillic</td>
  </tr>
  <tr>
    <td>ECMA-113</td>
    <td>Ecma Cyrillic; ECMA-113</td>
  </tr>
  <tr>
    <td>KOI-8_CS_2</td>
    <td>KOI8-CS2 code (`T602')</td>
  </tr>
  <tr>
    <td>KOI8-R</td>
    <td>KOI8-R Cyrillic</td>
  </tr>
  <tr>
    <td>KOI8-U</td>
    <td>KOI8-U Cyrillic</td>
  </tr>
  <tr>
    <td>KOI8-UNI</td>
    <td>KOI8-Unified Cyrillic</td>
  </tr>
  <tr>
    <td>TeX</td>
    <td>(La)TeX control sequences</td>
  </tr>
  <tr>
    <td>UCS-2</td>
    <td>Universal character set 2 bytes; UCS-2; BMP</td>
  </tr>
  <tr>
    <td>UCS-4</td>
    <td>Universal character set 4 bytes; UCS-4; ISO-10646</td>
  </tr>
  <tr>
    <td>UTF-7</td>
    <td>Universal transformation format 7 bits; UTF-7</td>
  </tr>
  <tr>
    <td>UTF-8</td>
    <td>Universal transformation format 8 bits; UTF-8</td>
  </tr>
  <tr>
    <td>CORK</td>
    <td>Cork encoding; T1</td>
  </tr>
  <tr>
    <td>GBK</td>
    <td>Simplified Chinese National Standard; GB2312</td>
  </tr>
  <tr>
    <td>BIG5</td>
    <td>Traditional Chinese Industrial Standard; Big5</td>
  </tr>
  <tr>
    <td>HZ</td>
    <td>HZ encoded GB2312</td>
  </tr>
  <tr>
    <td>unknown</td>
    <td>Unrecognized encoding</td>
  </tr>
</table>
<div class="Pp"></div>
where <b>unknown</b> is not any real encoding, it's reported when Enca is not
  able to give a reliable answer.
<h2 class="Ss" title="Ss" id="Surfaces"><a class="selflink" href="#Surfaces">Surfaces</a></h2>
Enca has some experimental support for so-called surfaces (see below). It
  detects following surfaces (not all can be applied to all charsets):
<table class="tbl">
  <colgroup>
    <col style="width: 5.00ex;"/>
    <col style="width: 54.00ex;"/>
  </colgroup>
  <tr>
    <td>/CR</td>
    <td>CR line terminators</td>
  </tr>
  <tr>
    <td>/LF</td>
    <td>LF line terminators</td>
  </tr>
  <tr>
    <td>/CRLF</td>
    <td>CRLF line terminators</td>
  </tr>
  <tr>
    <td>N.A.</td>
    <td>Mixed line terminators</td>
  </tr>
  <tr>
    <td>N.A.</td>
    <td>Surrounded by/intermixed with non-text data</td>
  </tr>
  <tr>
    <td>/21</td>
    <td>Byte order reversed in pairs (1,2 -&gt; 2,1)</td>
  </tr>
  <tr>
    <td>/4321</td>
    <td>Byte order reversed in quadruples (1,2,3,4 -&gt; 4,3,2,1)</td>
  </tr>
  <tr>
    <td>N.A.</td>
    <td>Both little and big endian chunks, concatenated</td>
  </tr>
  <tr>
    <td>/qp</td>
    <td>Quoted-printable encoded</td>
  </tr>
</table>
<div class="Pp"></div>
Note some surfaces have N.A. in place of identifier--they cannot be specified on
  command line, they can only be reported by Enca. This is intentional because
  they only inform you why the file cannot be considered surface-consistent
  instead of representing a real surface.
<div class="Pp"></div>
Each charset has its natural surface (called `implied' in recode) which is not
  reported, e.g., for IBM 852 charset it's `CRLF line terminators'. For UCS
  encodings, big endian is considered as natural surface; unusual byte orders
  are constructed from 21 and 4321 permutations: 2143 is reported simply as 21,
  while 3412 is reported as combination of 4321 and 21.
<div class="Pp"></div>
Doubly-encoded UTF-8 is neither charset nor surface, it's just reported.
<h2 class="Ss" title="Ss" id="About_charsets,_encodings_and_surfaces"><a class="selflink" href="#About_charsets,_encodings_and_surfaces">About
  charsets, encodings and surfaces</a></h2>
Charset is a set of character entities while encoding is its representation in
  the terms of bytes and bits. In Enca, the word <i>encoding</i> means the same
  as `representation of text', i.e. the relation between sequence of character
  entities constituting the text and sequence of bytes (bits) constituting the
  file.
<div class="Pp"></div>
So, encoding is both character set and so-called surface (line terminators, byte
  order, combining, Base64 transformation, etc.). Nevertheless, it proves
  convenient to work with some {charset,surface} pairs as with genuine charsets.
  So, as in <i>recode</i>(1), all UCS- and UTF- encodings of Universal character
  set are called charsets. Please see recode documentation for more details of
  this issue.
<div class="Pp"></div>
The only good thing about surfaces is: when you don't start playing with them,
  neither Enca won't start and it will try to behave as much as possible as a
  surface-unaware program, even when talking to recode.
<h1 class="Sh" title="Sh" id="LANGUAGES"><a class="selflink" href="#LANGUAGES">LANGUAGES</a></h1>
Enca needs to know the language of input files to work reliably, at least in
  case of regular 8bit encoding. Multibyte encodings should be recognised for
  any Latin, Cyrillic or Greek language.
<div class="Pp"></div>
You can (or have to) use <b>-L</b> option to tell Enca the language. Since
  people most often work with files in the same language for which they have
  configured locales, Enca tries tries to guess the language by examining value
  of <b>LC_CTYPE</b> and other locale categories (please see <i>locale</i>(7))
  and using it for the language when you don't specify any. Of course, it may be
  completely wrong and will give you nonsense answers and damage your files, so
  please don't forget to use the <b>-L</b> option. You can also use
  <b>ENCAOPT</b> environment variable to set a default language (see section
  <b>ENVIRONMENT</b>).
<div class="Pp"></div>
Following languages are supported by Enca (each language is listed together with
  supported 8bit encodings).
<table class="tbl">
  <colgroup>
    <col style="width: 11.00ex;"/>
    <col style="width: 72.00ex;"/>
  </colgroup>
  <tr>
    <td>Belarusian </td>
    <td>CP1251 IBM866 ISO-8859-5 KOI8-UNI maccyr IBM855</td>
  </tr>
  <tr>
    <td>Bulgarian </td>
    <td>CP1251 ISO-8859-5 IBM855 maccyr ECMA-113</td>
  </tr>
  <tr>
    <td>Czech </td>
    <td>ISO-8859-2 CP1250 IBM852 KEYBCS2 macce KOI-8_CS_2 CORK</td>
  </tr>
  <tr>
    <td>Estonian </td>
    <td>ISO-8859-4 CP1257 IBM775 ISO-8859-13 macce baltic</td>
  </tr>
  <tr>
    <td>Croatian </td>
    <td>CP1250 ISO-8859-2 IBM852 macce CORK</td>
  </tr>
  <tr>
    <td>Hungarian </td>
    <td>ISO-8859-2 CP1250 IBM852 macce CORK</td>
  </tr>
  <tr>
    <td>Lithuanian </td>
    <td>CP1257 ISO-8859-4 IBM775 ISO-8859-13 macce baltic</td>
  </tr>
  <tr>
    <td>Latvian </td>
    <td>CP1257 ISO-8859-4 IBM775 ISO-8859-13 macce baltic</td>
  </tr>
  <tr>
    <td>Polish </td>
    <td>ISO-8859-2 CP1250 IBM852 macce ISO-8859-13 ISO-8859-16 baltic CORK</td>
  </tr>
  <tr>
    <td>Russian </td>
    <td>KOI8-R CP1251 ISO-8859-5 IBM866 maccyr</td>
  </tr>
  <tr>
    <td>Slovak </td>
    <td>CP1250 ISO-8859-2 IBM852 KEYBCS2 macce KOI-8_CS_2 CORK</td>
  </tr>
  <tr>
    <td>Slovene </td>
    <td>ISO-8859-2 CP1250 IBM852 macce CORK</td>
  </tr>
  <tr>
    <td>Ukrainian </td>
    <td>CP1251 IBM855 ISO-8859-5 CP1125 KOI8-U maccyr</td>
  </tr>
  <tr>
    <td>Chinese </td>
    <td>GBK BIG5 HZ</td>
  </tr>
  <tr>
    <td>none </td>
    <td></td>
  </tr>
</table>
<div class="Pp"></div>
The special language <b>none</b> can be shortened to <b>__</b>, it contains no
  8bit encodings, so only multibyte encodings are detected.
<div class="Pp"></div>
You can also use locale names instead of languages:
<table class="tbl">
  <colgroup>
    <col style="width: 13.00ex;"/>
    <col style="width: 2.00ex;"/>
  </colgroup>
  <tr>
    <td>Belarusian </td>
    <td>be</td>
  </tr>
  <tr>
    <td>Bulgarian </td>
    <td>bg</td>
  </tr>
  <tr>
    <td>Czech </td>
    <td>cs</td>
  </tr>
  <tr>
    <td>Estonian </td>
    <td>et</td>
  </tr>
  <tr>
    <td>Croatian </td>
    <td>hr</td>
  </tr>
  <tr>
    <td>Hungarian </td>
    <td>hu</td>
  </tr>
  <tr>
    <td>Lithuanian </td>
    <td>lt</td>
  </tr>
  <tr>
    <td>Latvian </td>
    <td>lv</td>
  </tr>
  <tr>
    <td>Polish </td>
    <td>pl</td>
  </tr>
  <tr>
    <td>Russian </td>
    <td>ru</td>
  </tr>
  <tr>
    <td>Slovak </td>
    <td>sk</td>
  </tr>
  <tr>
    <td>Slovene </td>
    <td>sl</td>
  </tr>
  <tr>
    <td>Ukrainian </td>
    <td>uk</td>
  </tr>
  <tr>
    <td>Chinese </td>
    <td>zh</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="FEATURES"><a class="selflink" href="#FEATURES">FEATURES</a></h1>
Several Enca's features depend on what is available on your system and how it
  was compiled. You can get their list with
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
enca --version</div>
<div class="Pp"></div>
Plus sign before a feature name means it's available, minus sign means this
  build lacks the particular feature.
<div class="Pp"></div>
<b>librecode-interface</b>. Enca has interface to GNU recode library charset
  conversion functions.
<div style="height: 1.00em;">&#x00A0;</div>
<b>iconv-interface</b>. Enca has interface to UNIX98 iconv charset conversion
  functions.
<div style="height: 1.00em;">&#x00A0;</div>
<b>external-converter</b>. Enca can use external conversion programs (if you
  have some suitable installed).
<div style="height: 1.00em;">&#x00A0;</div>
<b>language-detection</b>. Enca tries to guess language ( <b>-L</b>) from
  locales. You don't need the <b>--language</b> option, at least in principle.
<div style="height: 1.00em;">&#x00A0;</div>
<b>locale-alias</b>. Enca is able to decrypt locale aliases used for language
  names.
<div style="height: 1.00em;">&#x00A0;</div>
<b>target-charset-auto</b>. Enca tries to detect your preferred charset from
  locales. Option <b>--auto-convert</b> and calling Enca as <b>enconv</b> works,
  at least in principle.
<div style="height: 1.00em;">&#x00A0;</div>
<b>ENCAOPT</b>. Enca is able to correctly parse this environment variable before
  command line parameters. Simple stuff like <b>ENCAOPT=&quot;-L uk&quot;</b>
  will work even without this feature.
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The variable <b>ENCAOPT</b> can hold set of default Enca options. Its content is
  interpreted before command line arguments. Unfortunately, this doesn't work
  everywhere (must have +ENCAOPT feature).
<div class="Pp"></div>
<b>LC_CTYPE</b>, <b>LC_COLLATE</b>, <b>LC_MESSAGES</b> (possibly inherited from
  <b>LC_ALL</b> or <b>LANG</b>) is used for guessing your language (must have
  +language-detection feature).
<div class="Pp"></div>
The variable <b>DEFAULT_CHARSET</b> can be used by <b>enconv</b> as the default
  target charset.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Enca returns exit code&#x00A0;0 when all input files were successfully proceeded
  (i.e. all encodings were detected and all files were converted to required
  encoding, if conversion was asked for). Exit code&#x00A0;1 is returned when
  Enca wasn't able to either guess encoding or perform conversion on any input
  file because it's not clever enough. Exit code&#x00A0;2 is returned in case of
  serious (e.g. I/O) troubles.
<h1 class="Sh" title="Sh" id="SECURITY"><a class="selflink" href="#SECURITY">SECURITY</a></h1>
It should be possible to let Enca work unattended, it's its goal. However:
<div class="Pp"></div>
There's no warranty the detection works 100%. Don't bet on it, you can easily
  lose valuable data.
<div class="Pp"></div>
Don't use enca (the program), link to libenca instead if you want anything
  resembling security. You have to perform the eventual conversion yourself
  then.
<div class="Pp"></div>
Don't use external converters. Ideally, disable them compile-time.
<div class="Pp"></div>
Be aware of <b>ENCAOPT</b> and all the built-in automagic guessing various
  things from environment, namely locales.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>autoconvert</i>(1), <i>cstocs</i>(1), <i>file</i>(1), <i>iconv</i>(1),
  <i>iconv</i>(3), <i>nl_langinfo</i>(3), <i>map</i>(1), <i>piconv</i>(1),
  <i>recode</i>(1), <i>locale</i>(5), <i>locale</i>(7), <i>ltt</i>(1),
  <i>umap</i>(1), <i>unicode</i>(7), <i>utf-8</i>(7), <i>xcode</i>(1)
<h1 class="Sh" title="Sh" id="KNOWN_BUGS"><a class="selflink" href="#KNOWN_BUGS">KNOWN
  BUGS</a></h1>
It has too many <i>unknown</i> bugs.
<div class="Pp"></div>
The idea of using <b>LC_*</b> value for language is certainly braindead. However
  I like it.
<div class="Pp"></div>
It can't backup files before mangling them.
<div class="Pp"></div>
In certain situations, it may behave incorrectly on &gt;31bit file systems
  and/or over NFS (both untested but shouldn't cause problems in practice).
<div class="Pp"></div>
Built-in converter does not convert character `ch' from <i>KOI8-CS2</i>, and
  possibly some other characters you've probably never heard about anyway.
<div class="Pp"></div>
EOL type recognition works poorly on Quoted-printable encoded files. This should
  be fixed someday.
<div class="Pp"></div>
There are no command line options to tune libenca parameters. This is
  intentional (Enca should DWIM) but sometimes this is a nuisance.
<div class="Pp"></div>
The manual page is too long, especially this section. This doesn't matter since
  nobody does read it.
<div class="Pp"></div>
Send bug reports to &lt;https://github.com/nijel/enca/issues&gt;.
<h1 class="Sh" title="Sh" id="TRIVIA"><a class="selflink" href="#TRIVIA">TRIVIA</a></h1>
Enca is Extremely Naive Charset Analyser. Nevertheless, the `enc' originally
  comes from `encoding' so the leading&#x00A0;`e' should be read as in
  `encoding' not as in `extreme'.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
David Necas (Yeti) &lt;yeti@physics.muni.cz&gt;
<div class="Pp"></div>
Michal Cihar &lt;michal@cihar.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Unicode data has been generated from various (free) on-line resources or using
  GNU recode. Statistical data has been generated from various texts on the Net,
  I hope character counting doesn't break anyone's copyright.
<h1 class="Sh" title="Sh" id="ACKNOWLEDGEMENTS"><a class="selflink" href="#ACKNOWLEDGEMENTS">ACKNOWLEDGEMENTS</a></h1>
Please see the file THANKS in distribution.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2000-2003 David Necas (Yeti).
<div class="Pp"></div>
Copyright (C) 2009 Michal Cihar &lt;michal@cihar.com&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
Enca is free software; you can redistribute it and/or modify it under the terms
  of version 2 of the GNU General Public License as published by the Free
  Software Foundation.
<div style="height: 1.00em;">&#x00A0;</div>
Enca is distributed in the hope that it will be useful, but WITHOUT ANY
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
  A PARTICULAR PURPOSE. See the GNU General Public License for more details.
<div style="height: 1.00em;">&#x00A0;</div>
You should have received a copy of the GNU General Public License along with
  Enca; if not, write to the Free Software Foundation, Inc., 675 Mass Ave,
  Cambridge, MA 02139, USA.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Sep 2009</td>
    <td class="foot-os">enca 1.11</td>
  </tr>
</table>
</body>
</html>
