<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:03:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DEBMAKE(1) Debmake Manual DEBMAKE(1)</p>

<p style="margin-top: 1em">NAME <br>
debmake - program to make the Debian source package</p>

<p style="margin-top: 1em">SYNOPSIS <br>
debmake [-h] [-c | -k] [-n | -a package-version.orig.tar.gz
| -d | -t ] [-p package] [-u version] [-r revision] [-z
extension] [-b &quot;binarypackage, ...]&quot; [-e
foo@example.org] [-f <br>
&quot;firstname lastname&quot;] [-i &quot;buildtool&quot; |
-j] [-l license_file] [-m] [-o file] [-q] [-s] [-v] [-w
&quot;addon, ...&quot;] [-x [01234]] [-y] [-L] [-P] [-T]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
debmake helps to build the Debian package from the upstream
source. Normally, this is done as follows:</p>

<p style="margin-top: 1em">&Acirc;&middot; The upstream
tarball is downloaded as the package-version.tar.gz
file.</p>

<p style="margin-top: 1em">&Acirc;&middot; It is untared to
create many files under the package-version/ directory.</p>

<p style="margin-top: 1em">&Acirc;&middot; debmake is
invoked in the package-version/ directory possibly without
any arguments.</p>

<p style="margin-top: 1em">&Acirc;&middot; Files in the
package-version/debian/ directory are manually adjusted.</p>

<p style="margin-top: 1em">&Acirc;&middot;
dpkg-buildpackage (usually from its wrapper debuild or
pdebuild) is invoked in the package-version/ directory to
make Debian packages.</p>

<p style="margin-top: 1em">Make sure to protect the
arguments of the -b, -f, -l, and -w options from the shell
interference by quoting them properly.</p>

<p style="margin-top: 1em">optional arguments: <br>
-h, --help <br>
show this help message and exit.</p>

<p style="margin-top: 1em">-c, --copyright <br>
scan source for copyright+license text and exit.</p>

<p style="margin-top: 1em">&Acirc;&middot; -c: simple
output style</p>

<p style="margin-top: 1em">&Acirc;&middot; -cc: normal
output style (similar to the debian/copyright file)</p>

<p style="margin-top: 1em">&Acirc;&middot; -ccc: debug
output style</p>

<p style="margin-top: 1em">-k, --kludge <br>
compare the debian/copyright file with the source and
exit.</p>

<p style="margin-top: 1em">The debian/copyright file must
be organized to list the generic file patterns before the
specific exceptions.</p>

<p style="margin-top: 1em">&Acirc;&middot; -k: basic output
style</p>

<p style="margin-top: 1em">&Acirc;&middot; -kk: verbose
output style</p>

<p style="margin-top: 1em">-n, --native <br>
make a native Debian source package without .orig.tar.gz.
This makes the &acirc;3.0 (native)&acirc; format
package.</p>

<p style="margin-top: 1em">If you are thinking to package a
Debian specific source tree with debian/* in it into a
native Debian package, please think otherwise. You can use
the &acirc;debmake -d -i debuild&acirc; <br>
or &acirc;debmake -t -i debuild&acirc; commands to make the
&acirc;3.0 (quilt)&acirc; format non-native Debian package.
The only difference is that the debian/changelog file must
use the non-native <br>
version scheme: version-revision. The non-native package is
more friendly to the downstream distributions.</p>

<p style="margin-top: 1em">-a package-version.tar.gz,
--archive package-version.tar.gz <br>
use the upstream source tarball directly. (-p, -u, -z:
overridden)</p>

<p style="margin-top: 1em">The upstream tarball may be
specified as package_version.orig.tar.gz and tar.gz for all
cases may be tar.bz2, or tar.xz.</p>

<p style="margin-top: 1em">If the specified upstream
tarball name contains uppercase letters, the Debian package
name is generated by converting them to lowercase
letters.</p>

<p style="margin-top: 1em">If the specified argument is the
URL (http://, https://, or ftp://) to the upstream tarball,
the upstream tarball is downloaded from the URL using wget
or curl.</p>

<p style="margin-top: 1em">-d, --dist <br>
run the &acirc;make dist&acirc; command equivalents first to
generate the upstream tarball and use it.</p>

<p style="margin-top: 1em">The &acirc;debmake -d&acirc;
command is designed to run in the package/ directory hosting
the upstream VCS with the build system supporting the
&acirc;make dist&acirc; command equivalents. <br>
(automake/autoconf, Python distutils, ...)</p>

<p style="margin-top: 1em">-t, --tar <br>
run the &acirc;tar&acirc; command to generate the upstream
tarball and use it.</p>

<p style="margin-top: 1em">The &acirc;debmake -t&acirc;
command is designed to run in the package/ directory hosting
the upstream VCS. Unless you provide the upstream version
with the -u option or with the <br>
debian/changelog file, a snapshot upstream version is
generated in the 0~%y%m%d%H%M format, e.g., 0~1403012359,
from the UTC date and time. The generated tarball excludes
the <br>
debian/ directory found in the upstream VCS. (It also
excludes typical VCS directories: .git/ .hg/ .svn/
.CVS/)</p>

<p style="margin-top: 1em">-p package, --package package
<br>
set the Debian package name.</p>

<p style="margin-top: 1em">-u version, --upstreamversion
version <br>
set the upstream package version.</p>

<p style="margin-top: 1em">-r revision, --revision revision
<br>
set the Debian package revision.</p>

<p style="margin-top: 1em">-z extension, --targz extension
<br>
set the tarball type, extension=(tar.gz|tar.bz2|tar.xz)
(alias: z, b, x)</p>

<p style="margin-top: 1em">-b
&quot;binarypackage[:type],...&quot;, --binaryspec
&quot;binarypackage[:type],...&quot; <br>
set the binary package specs by the comma separated list of
binarypackage:type pairs, e.g., in the full form
&acirc;foo:bin,foo-doc:doc,libfoo1:lib,libfoo1-dbg:dbg,libfoo-dev:dev&acirc;
<br>
or in the short form &acirc;,-doc,libfoo1,libfoo1-dbg,
libfoo-dev&acirc;.</p>

<p style="margin-top: 1em">Here, binarypackage is the
binary package name; and the optional type is chosen from
the following type values:</p>

<p style="margin-top: 1em">&Acirc;&middot; bin: C/C++
compiled ELF binary code package (any, foreign) (default,
alias: &quot;&quot;, i.e., null-string)</p>

<p style="margin-top: 1em">&Acirc;&middot; data: Data
(fonts, graphics, ...) package (all, foreign) (alias:
da)</p>

<p style="margin-top: 1em">&Acirc;&middot; dbg: Debug
symbol package (any, same) (alias: db) (deprecated for
strech and after since the -dbgsym package is automatically
generated)</p>

<p style="margin-top: 1em">&Acirc;&middot; dev: Library
development package (any, same) (alias: de)</p>

<p style="margin-top: 1em">&Acirc;&middot; doc:
Documentation package (all, foreign) (alias: do)</p>

<p style="margin-top: 1em">&Acirc;&middot; lib: Library
package (any, same) (alias: l)</p>

<p style="margin-top: 1em">&Acirc;&middot; perl: Perl
script package (all, foreign) (alias: pl)</p>

<p style="margin-top: 1em">&Acirc;&middot; python: Python
script package (all, foreign) (alias: py)</p>

<p style="margin-top: 1em">&Acirc;&middot; python3: Python3
script package (all, foreign) (alias: py3)</p>

<p style="margin-top: 1em">&Acirc;&middot; ruby: Ruby
script package (all, foreign) (alias: rb)</p>

<p style="margin-top: 1em">&Acirc;&middot; script: Shell
script package (all, foreign) (alias: sh)</p>

<p style="margin-top: 1em">The pair values in the
parentheses, such as (any, foreign), are the Architecture
and Multi-Arch stanza values set in the debian/control
file.</p>

<p style="margin-top: 1em">In many cases, the debmake
command makes good guesses for type from binarypackage. If
type is not obvious, type is set to bin. For example, libfoo
sets type to lib, and <br>
font-bar sets type to data, ...</p>

<p style="margin-top: 1em">If the source tree contents do
not match settings for type, the debmake command warns
you.</p>

<p style="margin-top: 1em">-e foo@example.org, --email
foo@example.org <br>
set e-mail address.</p>

<p style="margin-top: 1em">The default is taken from the
value of the environment variable $DEBEMAIL.</p>

<p style="margin-top: 1em">-f &quot;firstname
lastname&quot;, --fullname &quot;firstname lastname&quot;
<br>
set the fullname.</p>

<p style="margin-top: 1em">The default is taken from the
value of the environment variable $DEBFULLNAME.</p>

<p style="margin-top: 1em">-i &quot;buildtool&quot;,
--invoke &quot;buildtool&quot; <br>
invoke &quot;buildtool&quot; at the end of execution.
buildtool may be &acirc;dpkg-buildpackage&acirc;,
&acirc;debuild&acirc;, &acirc;pdebuild&acirc;,
&acirc;pdebuild --pbuilder cowbuilder&acirc;, etc..</p>

<p style="margin-top: 1em">The default is not to execute
any program.</p>

<p style="margin-top: 1em">Setting this option
automatically sets the --local option.</p>

<p style="margin-top: 1em">-j, --judge <br>
run dpkg-depcheck to judge build dependencies and identify
file paths. Log files are in the parent directory.</p>

<p style="margin-top: 1em">&Acirc;&middot;
package.build-dep.log: Log file for dpkg-depcheck.</p>

<p style="margin-top: 1em">&Acirc;&middot;
package.install.log: Log file recording files in the
debian/tmp directory.</p>

<p style="margin-top: 1em">-l &quot;license_file,...&quot;,
--license &quot;license_file,...&quot; <br>
add formatted license text to the end of the
debian/copyright file holding license scan results</p>

<p style="margin-top: 1em">The default is add COPYING and
LICENSE and license_file needs to list only the additional
file names all separated by &acirc;,&acirc;.</p>

<p style="margin-top: 1em">-m, --monoarch <br>
force packages to be non-multiarch.</p>

<p style="margin-top: 1em">-o file, --option file <br>
read optional parameters from the file. (This is not for
everyday use.)</p>

<p style="margin-top: 1em">The file is sourced as the
Python3 code at the end of para.py. For example, the package
description can be specified by the following file.</p>

<p style="margin-top: 1em">para[&rsquo;desc&rsquo;] =
&rsquo;program short description&rsquo; <br>
para[&rsquo;desc_long&rsquo;] = &rsquo;&rsquo;&rsquo;
program long description which you wish to include. <br>
. <br>
Empty line is space + . <br>
You keep going on ... <br>
&rsquo;&rsquo;&rsquo;</p>

<p style="margin-top: 1em">-q, --quitearly <br>
quit early before creating files in the debian/
directory.</p>

<p style="margin-top: 1em">-s, --spec <br>
use upstream spec (setup.py for Python, etc.) for the
package description.</p>

<p style="margin-top: 1em">-v, --version <br>
show version information.</p>

<p style="margin-top: 1em">-w &quot;addon,...&quot;, --with
&quot;addon,...&quot; <br>
add extra arguments to the --with option of the dh(1)
command as addon in debian/rules.</p>

<p style="margin-top: 1em">The addon values are listed all
separated by &acirc;,&acirc;, e.g., &acirc;-w
&quot;python2,autoreconf&quot;&acirc;.</p>

<p style="margin-top: 1em">For Autotools based packages,
setting autoreconf as addon forces to run &acirc;autoreconf
-i -v -f&acirc; for every package building. Otherwise,
autotools-dev as addon is used as <br>
default.</p>

<p style="margin-top: 1em">For Autotools based packages, if
they install Python programs, python2 as addon is needed for
packages with &acirc;compat &lt; 9&acirc; since this is
non-obvious. But for setup.py based <br>
packages, python2 as addon is not needed since this is
obvious and it is automatically set for the dh(1) command by
the debmake command when it is required.</p>

<p style="margin-top: 1em">-x n, --extra n <br>
generate extra configuration files as templates.</p>

<p style="margin-top: 1em">The number n changes which
configuration templates are generated.</p>

<p style="margin-top: 1em">&Acirc;&middot; -x0: bare
minimum configuration files. (default if these files exist
already)</p>

<p style="margin-top: 1em">&Acirc;&middot; -x1: ,, +
desirable configuration files. (default for new
packages)</p>

<p style="margin-top: 1em">&Acirc;&middot; -x2: ,, +
interesting configuration files. (recommended for experts,
multi binary aware)</p>

<p style="margin-top: 1em">&Acirc;&middot; -x3: ,, +
unusual configuration template files with the extra .ex
suffix to ease their removal. (recommended for new users) To
use these as configuration files, rename <br>
their file names into ones without the .ex suffix.</p>

<p style="margin-top: 1em">&Acirc;&middot; -x4: ,, +
copyright file examples.</p>

<p style="margin-top: 1em">-y, --yes <br>
&acirc;force yes&acirc; for all prompts. (without option:
&acirc;ask [Y/n]&acirc;; doubled option: &acirc;force
no&acirc;)</p>

<p style="margin-top: 1em">-L, --local <br>
generate configuration files for the local package to fool
lintian(1) checks.</p>

<p style="margin-top: 1em">-P, --pedantic <br>
pedantically check auto-generated files.</p>

<p style="margin-top: 1em">-T, --tutorial <br>
output tutorial comment lines in template files.</p>

<p style="margin-top: 1em">EXAMPLES <br>
For a well behaving source, you can build a
good-for-local-use installable single Debian binary package
easily with one command. Test install of such a package
generated in this <br>
way offers a good alternative to the traditional &acirc;make
install&acirc; command to the /usr/local directory since the
Debian package can be removed cleanly by the &acirc;dpkg -P
...&acirc; command. <br>
Here are some examples of how to build such test packages.
(These should work in most cases. If the -d option does not
work, try the -t option instead.)</p>

<p style="margin-top: 1em">For a typical C program source
tree packaged with autoconf/automake:</p>

<p style="margin-top: 1em">&Acirc;&middot; debmake -d -i
debuild</p>

<p style="margin-top: 1em">For a typical python module
source tree:</p>

<p style="margin-top: 1em">&Acirc;&middot; debmake -s -d
-b&quot;:python&quot; -i debuild</p>

<p style="margin-top: 1em">For a typical python module in
the package-version.tar.gz archive:</p>

<p style="margin-top: 1em">&Acirc;&middot; debmake -s -a
package-version.tar.gz -b&quot;:python&quot; -i debuild</p>

<p style="margin-top: 1em">For a typical perl module in the
Package-version.tar.gz archive:</p>

<p style="margin-top: 1em">&Acirc;&middot; debmake -a
Package-version.tar.gz -b&quot;:perl&quot; -i debuild</p>

<p style="margin-top: 1em">HELPER PACKAGES <br>
Packaging may require installation of some additional
specialty helper packages.</p>

<p style="margin-top: 1em">&Acirc;&middot; Python3 program
may require the dh-python package.</p>

<p style="margin-top: 1em">&Acirc;&middot; Autotools
(Autoconf + Automake) build system may require autotools-dev
or dh-autoreconf package.</p>

<p style="margin-top: 1em">&Acirc;&middot; Ruby program may
require the gem2deb package.</p>

<p style="margin-top: 1em">&Acirc;&middot; Java program may
require the javahelper package.</p>

<p style="margin-top: 1em">&Acirc;&middot; Gnome programs
may require the gobject-introspection package.</p>

<p style="margin-top: 1em">&Acirc;&middot; etc.</p>

<p style="margin-top: 1em">CAVEAT <br>
debmake is meant to provide template files for the package
maintainer to work on. Comment lines started by # contain
the tutorial text. You must remove or edit such comment
lines <br>
before uploading to the Debian archive.</p>

<p style="margin-top: 1em">The license extraction and
assignment process involves a lot of heuristics, it may fail
in some cases. It is highly recommended to use other tools
such as licensecheck from the <br>
devscripts package in conjunction with debmake.</p>

<p style="margin-top: 1em">There are some limitations for
what characters may be used as a part of the Debian package.
The most notable limitation is the prohibition of uppercase
letters in the package <br>
name. Here is the summary in the regular expression.</p>

<p style="margin-top: 1em">&Acirc;&middot; Upstream package
name (-p): [-+.a-z0-9]{2,}</p>

<p style="margin-top: 1em">&Acirc;&middot; Binary package
name (-b): [-+.a-z0-9]{2,}</p>

<p style="margin-top: 1em">&Acirc;&middot; Upstream version
(-u): [0-9][-+.:~a-z0-9A-Z]*</p>

<p style="margin-top: 1em">&Acirc;&middot; Debian revision
(-r): [0-9][+.~a-z0-9A-Z]*</p>

<p style="margin-top: 1em">See the exact definition in
Chapter 5 - Control files and their fields of the
&acirc;Debian Policy Manual&acirc;.</p>

<p style="margin-top: 1em">debmake assumes relatively
simple packaging cases. So all programs related to the
interpreter are assumed to be &quot;Architecture: all&quot;.
This is not always true.</p>

<p style="margin-top: 1em">DEBUG <br>
Please report bugs to the debmake package using the
reportbug command.</p>

<p style="margin-top: 1em">The character set in the
environment variable $DEBUG determines the logging output
level.</p>

<p style="margin-top: 1em">&Acirc;&middot; i: print
information</p>

<p style="margin-top: 1em">&Acirc;&middot; p: list all
global parameters</p>

<p style="margin-top: 1em">&Acirc;&middot; d: list parsed
parameters for all binary packages</p>

<p style="margin-top: 1em">&Acirc;&middot; f: input
filename for the copyright scan</p>

<p style="margin-top: 1em">&Acirc;&middot; y: year/name
split of copyright line</p>

<p style="margin-top: 1em">&Acirc;&middot; s: line scanner
for format_state</p>

<p style="margin-top: 1em">&Acirc;&middot; b: content_state
scan loop: begin-loop</p>

<p style="margin-top: 1em">&Acirc;&middot; m: content_state
scan loop: after regex match</p>

<p style="margin-top: 1em">&Acirc;&middot; e: content_state
scan loop: end-loop</p>

<p style="margin-top: 1em">&Acirc;&middot; c: print
copyright section text</p>

<p style="margin-top: 1em">&Acirc;&middot; l: print license
section text</p>

<p style="margin-top: 1em">&Acirc;&middot; a: print
author/translator section text</p>

<p style="margin-top: 1em">&Acirc;&middot; k: sort key for
debian/copyright stanza</p>

<p style="margin-top: 1em">&Acirc;&middot; n: scan result
of debian/copyright (&acirc;debmake -k&acirc;)</p>

<p style="margin-top: 1em">Use this as:</p>

<p style="margin-top: 1em">$ DEBUG=pdfbmeclak debmake
...</p>

<p style="margin-top: 1em">See README.developer in the
source for more.</p>

<p style="margin-top: 1em">AUTHOR <br>
Copyright &Acirc;&copy; 2014-2015 Osamu Aoki
&lt;osamu@debian.org&gt;</p>

<p style="margin-top: 1em">LICENSE <br>
Expat License</p>

<p style="margin-top: 1em">SEE ALSO <br>
The debmake-doc package provides the &acirc;Guide for Debian
Maintainers&acirc; in the plain text, HTML and PDF formats
under the /usr/share/doc/debmake-doc/ directory.</p>

<p style="margin-top: 1em">Also, please read the original
Debian New Maintainers&acirc; Guide provided by the the
maint-guide package.</p>

<p style="margin-top: 1em">See also dpkg-source(1),
deb-control(5), debhelper(7), dh(1), dpkg-buildpackage(1),
debuild(1), quilt(1), dpkg-depcheck(1), pdebuild(1),
pbuilder(8), cowbuilder(8), <br>
gbp-buildpackage(1), gbp-pq(1), and git-pbuilder(1)
manpages.</p>

<p style="margin-top: 1em">DEBMAKE 12/04/2016
DEBMAKE(1)</p>
<hr>
</body>
</html>
