<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CMSUTIL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CMSUTIL(1)</td>
    <td class="head-vol">NSS Security Tools</td>
    <td class="head-rtitle">CMSUTIL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cmsutil - Performs basic cryptograpic operations, such as encryption and
  decryption, on Cryptographic Message Syntax (CMS) messages.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 8.00ex; text-indent: -8.00ex;"><b>cmsutil</b>
  [ <i>options</i>] [[<i>arguments</i>]]</div>
<h1 class="Sh" title="Sh" id="STATUS"><a class="selflink" href="#STATUS">STATUS</a></h1>
This documentation is still work in progress. Please contribute to the initial
  review in <b>Mozilla NSS bug 836477</b>[1]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>cmsutil</b> command-line uses the S/MIME Toolkit to perform basic
  operations, such as encryption and decryption, on Cryptographic Message Syntax
  (CMS) messages.
<div class="Pp"></div>
To run cmsutil, type the command cmsutil option [arguments] where option and
  arguments are combinations of the options and arguments listed in the
  following section. Each command takes one option. Each option may take zero or
  more arguments. To see a usage string, issue the command without options.
<h1 class="Sh" title="Sh" id="OPTIONS_AND_ARGUMENTS"><a class="selflink" href="#OPTIONS_AND_ARGUMENTS">OPTIONS
  AND ARGUMENTS</a></h1>
<b>Options</b>
<div class="Pp"></div>
Options specify an action. Option arguments modify an action. The options and
  arguments for the cmsutil command are defined as follows:
<div class="Pp"></div>
-C
<div style="margin-left: 4.00ex;">Encrypt a message.</div>
<div class="Pp"></div>
-D
<div style="margin-left: 4.00ex;">Decode a message.</div>
<div class="Pp"></div>
-E
<div style="margin-left: 4.00ex;">Envelope a message.</div>
<div class="Pp"></div>
-O
<div style="margin-left: 4.00ex;">Create a certificates-only message.</div>
<div class="Pp"></div>
-S
<div style="margin-left: 4.00ex;">Sign a message.</div>
<div class="Pp"></div>
<b>Arguments</b>
<div class="Pp"></div>
Option arguments modify an action.
<div class="Pp"></div>
-b
<div style="margin-left: 4.00ex;">Decode a batch of files named in infile.</div>
<div class="Pp"></div>
-c content
<div style="margin-left: 4.00ex;">Use this detached content (decode only).</div>
<div class="Pp"></div>
-d dbdir
<div style="margin-left: 4.00ex;">Specify the key/certificate database directory
  (default is &quot;.&quot;)</div>
<div class="Pp"></div>
-e envfile
<div style="margin-left: 4.00ex;">Specify a file containing an enveloped message
  for a set of recipients to which you would like to send an encrypted message.
  If this is the first encrypted message for that set of recipients, a new
  enveloped message will be created that you can then use for future messages
  (encrypt only).</div>
<div class="Pp"></div>
-f pwfile
<div style="margin-left: 4.00ex;">Use password file to set password on all
  PKCS#11 tokens.</div>
<div class="Pp"></div>
-G
<div style="margin-left: 4.00ex;">Include a signing time attribute (sign
  only).</div>
<div class="Pp"></div>
-H hash
<div style="margin-left: 4.00ex;">Use specified hash algorithm
  (default:SHA1).</div>
<div class="Pp"></div>
-h num
<div style="margin-left: 4.00ex;">Generate email headers with info about CMS
  message (decode only).</div>
<div class="Pp"></div>
-i infile
<div style="margin-left: 4.00ex;">Use infile as a source of data (default is
  stdin).</div>
<div class="Pp"></div>
-k
<div style="margin-left: 4.00ex;">Keep decoded encryption certs in permanent
  cert db.</div>
<div class="Pp"></div>
-N nickname
<div style="margin-left: 4.00ex;">Specify nickname of certificate to sign with
  (sign only).</div>
<div class="Pp"></div>
-n
<div style="margin-left: 4.00ex;">Suppress output of contents (decode
  only).</div>
<div class="Pp"></div>
-o outfile
<div style="margin-left: 4.00ex;">Use outfile as a destination of data (default
  is stdout).</div>
<div class="Pp"></div>
-P
<div style="margin-left: 4.00ex;">Include an S/MIME capabilities
  attribute.</div>
<div class="Pp"></div>
-p password
<div style="margin-left: 4.00ex;">Use password as key database password.</div>
<div class="Pp"></div>
-r recipient1,recipient2, ...
<div style="margin-left: 4.00ex;">Specify list of recipients (email addresses)
  for an encrypted or enveloped message. For certificates-only message, list of
  certificates to send.</div>
<div class="Pp"></div>
-T
<div style="margin-left: 4.00ex;">Suppress content in CMS message (sign
  only).</div>
<div class="Pp"></div>
-u certusage
<div style="margin-left: 4.00ex;">Set type of cert usage (default is
  certUsageEmailSigner).</div>
<div class="Pp"></div>
-v
<div style="margin-left: 4.00ex;">Print debugging information.</div>
<div class="Pp"></div>
-Y ekprefnick
<div style="margin-left: 4.00ex;">Specify an encryption key preference by
  nickname.</div>
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
Encrypt Example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
cmsutil -C [-i infile] [-o outfile] [-d dbdir] [-p password] -r &quot;recipient1,recipient2, . . .&quot; -e envfile
      
</pre>
</div>
<div class="Pp"></div>
Decode Example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
cmsutil -D [-i infile] [-o outfile] [-d dbdir] [-p password] [-c content] [-n] [-h num]
      
</pre>
</div>
<div class="Pp"></div>
Envelope Example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
cmsutil -E [-i infile] [-o outfile] [-d dbdir] [-p password] -r &quot;recipient1,recipient2, ...&quot;
      
</pre>
</div>
<div class="Pp"></div>
Certificate-only Example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
cmsutil -O [-i infile] [-o outfile] [-d dbdir] [-p password] -r &quot;cert1,cert2, . . .&quot;
      
</pre>
</div>
<div class="Pp"></div>
Sign Message Example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
cmsutil -S [-i infile] [-o outfile] [-d dbdir] [-p password] -N nickname[-TGP] [-Y ekprefnick]
      
</pre>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
certutil(1)
<h1 class="Sh" title="Sh" id="ADDITIONAL_RESOURCES"><a class="selflink" href="#ADDITIONAL_RESOURCES">ADDITIONAL
  RESOURCES</a></h1>
For information about NSS and other tools related to NSS (like JSS), check out
  the NSS project wiki at
  <b>http://www.mozilla.org/projects/security/pki/nss/</b>. The NSS site relates
  directly to NSS code changes and releases.
<div class="Pp"></div>
Mailing lists: https://lists.mozilla.org/listinfo/dev-tech-crypto
<div class="Pp"></div>
IRC: Freenode at #dogtag-pki
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
The NSS tools were written and maintained by developers with Netscape, Red Hat,
  Sun, Oracle, Mozilla, and Google.
<div class="Pp"></div>
Authors: Elio Maldonado &lt;emaldona@redhat.com&gt;, Deon Lackey
  &lt;dlackey@redhat.com&gt;.
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
Licensed under the Mozilla Public License, v. 2.0. If a copy of the MPL was not
  distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">Mozilla NSS bug 836477</dd>
</dl>
<div style="margin-left: 4.00ex;">https://bugzilla.mozilla.org/show_bug.cgi?id=836477</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">5 June 2014</td>
    <td class="foot-os">nss-tools</td>
  </tr>
</table>
</body>
</html>
