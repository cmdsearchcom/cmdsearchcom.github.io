<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:59:25 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CMSUTIL(1) NSS Security Tools CMSUTIL(1)</p>

<p style="margin-top: 1em">NAME <br>
cmsutil - Performs basic cryptograpic operations, such as
encryption and decryption, on Cryptographic Message Syntax
(CMS) messages.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cmsutil [options] [[arguments]]</p>

<p style="margin-top: 1em">STATUS <br>
This documentation is still work in progress. Please
contribute to the initial review in Mozilla NSS bug
836477[1]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The cmsutil command-line uses the S/MIME Toolkit to perform
basic operations, such as encryption and decryption, on
Cryptographic Message Syntax (CMS) messages.</p>

<p style="margin-top: 1em">To run cmsutil, type the command
cmsutil option [arguments] where option and arguments are
combinations of the options and arguments listed in the
following section. Each command <br>
takes one option. Each option may take zero or more
arguments. To see a usage string, issue the command without
options.</p>

<p style="margin-top: 1em">OPTIONS AND ARGUMENTS <br>
Options</p>

<p style="margin-top: 1em">Options specify an action.
Option arguments modify an action. The options and arguments
for the cmsutil command are defined as follows:</p>

<p style="margin-top: 1em">-C <br>
Encrypt a message.</p>

<p style="margin-top: 1em">-D <br>
Decode a message.</p>

<p style="margin-top: 1em">-E <br>
Envelope a message.</p>

<p style="margin-top: 1em">-O <br>
Create a certificates-only message.</p>

<p style="margin-top: 1em">-S <br>
Sign a message.</p>

<p style="margin-top: 1em">Arguments</p>

<p style="margin-top: 1em">Option arguments modify an
action.</p>

<p style="margin-top: 1em">-b <br>
Decode a batch of files named in infile.</p>

<p style="margin-top: 1em">-c content <br>
Use this detached content (decode only).</p>

<p style="margin-top: 1em">-d dbdir <br>
Specify the key/certificate database directory (default is
&quot;.&quot;)</p>

<p style="margin-top: 1em">-e envfile <br>
Specify a file containing an enveloped message for a set of
recipients to which you would like to send an encrypted
message. If this is the first encrypted message for that
<br>
set of recipients, a new enveloped message will be created
that you can then use for future messages (encrypt
only).</p>

<p style="margin-top: 1em">-f pwfile <br>
Use password file to set password on all PKCS#11 tokens.</p>

<p style="margin-top: 1em">-G <br>
Include a signing time attribute (sign only).</p>

<p style="margin-top: 1em">-H hash <br>
Use specified hash algorithm (default:SHA1).</p>

<p style="margin-top: 1em">-h num <br>
Generate email headers with info about CMS message (decode
only).</p>

<p style="margin-top: 1em">-i infile <br>
Use infile as a source of data (default is stdin).</p>

<p style="margin-top: 1em">-k <br>
Keep decoded encryption certs in permanent cert db.</p>

<p style="margin-top: 1em">-N nickname <br>
Specify nickname of certificate to sign with (sign
only).</p>

<p style="margin-top: 1em">-n <br>
Suppress output of contents (decode only).</p>

<p style="margin-top: 1em">-o outfile <br>
Use outfile as a destination of data (default is
stdout).</p>

<p style="margin-top: 1em">-P <br>
Include an S/MIME capabilities attribute.</p>

<p style="margin-top: 1em">-p password <br>
Use password as key database password.</p>

<p style="margin-top: 1em">-r recipient1,recipient2, ...
<br>
Specify list of recipients (email addresses) for an
encrypted or enveloped message. For certificates-only
message, list of certificates to send.</p>

<p style="margin-top: 1em">-T <br>
Suppress content in CMS message (sign only).</p>

<p style="margin-top: 1em">-u certusage <br>
Set type of cert usage (default is
certUsageEmailSigner).</p>

<p style="margin-top: 1em">-v <br>
Print debugging information.</p>

<p style="margin-top: 1em">-Y ekprefnick <br>
Specify an encryption key preference by nickname.</p>

<p style="margin-top: 1em">USAGE <br>
Encrypt Example</p>

<p style="margin-top: 1em">cmsutil -C [-i infile] [-o
outfile] [-d dbdir] [-p password] -r
&quot;recipient1,recipient2, . . .&quot; -e envfile</p>

<p style="margin-top: 1em">Decode Example</p>

<p style="margin-top: 1em">cmsutil -D [-i infile] [-o
outfile] [-d dbdir] [-p password] [-c content] [-n] [-h
num]</p>

<p style="margin-top: 1em">Envelope Example</p>

<p style="margin-top: 1em">cmsutil -E [-i infile] [-o
outfile] [-d dbdir] [-p password] -r
&quot;recipient1,recipient2, ...&quot;</p>

<p style="margin-top: 1em">Certificate-only Example</p>

<p style="margin-top: 1em">cmsutil -O [-i infile] [-o
outfile] [-d dbdir] [-p password] -r &quot;cert1,cert2, . .
.&quot;</p>

<p style="margin-top: 1em">Sign Message Example</p>

<p style="margin-top: 1em">cmsutil -S [-i infile] [-o
outfile] [-d dbdir] [-p password] -N nickname[-TGP] [-Y
ekprefnick]</p>

<p style="margin-top: 1em">SEE ALSO <br>
certutil(1)</p>

<p style="margin-top: 1em">ADDITIONAL RESOURCES <br>
For information about NSS and other tools related to NSS
(like JSS), check out the NSS project wiki at
http://www.mozilla.org/projects/security/pki/nss/. The NSS
site relates <br>
directly to NSS code changes and releases.</p>

<p style="margin-top: 1em">Mailing lists:
https://lists.mozilla.org/listinfo/dev-tech-crypto</p>

<p style="margin-top: 1em">IRC: Freenode at #dogtag-pki</p>

<p style="margin-top: 1em">AUTHORS <br>
The NSS tools were written and maintained by developers with
Netscape, Red Hat, Sun, Oracle, Mozilla, and Google.</p>

<p style="margin-top: 1em">Authors: Elio Maldonado
&lt;emaldona@redhat.com&gt;, Deon Lackey
&lt;dlackey@redhat.com&gt;.</p>

<p style="margin-top: 1em">LICENSE <br>
Licensed under the Mozilla Public License, v. 2.0. If a copy
of the MPL was not distributed with this file, You can
obtain one at http://mozilla.org/MPL/2.0/.</p>

<p style="margin-top: 1em">NOTES <br>
1. Mozilla NSS bug 836477 <br>
https://bugzilla.mozilla.org/show_bug.cgi?id=836477</p>

<p style="margin-top: 1em">nss-tools 5 June 2014
CMSUTIL(1)</p>
<hr>
</body>
</html>
