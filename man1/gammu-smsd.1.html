<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:11:35 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GAMMU-SMSD(1) Gammu GAMMU-SMSD(1)</p>

<p style="margin-top: 1em">NAME <br>
gammu-smsd - SMS daemon for Gammu</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gammu-smsd [OPTION]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This manual page documents briefly the gammu-smsd
command.</p>

<p style="margin-top: 1em">gammu-smsd is a program that
periodically scans GSM modem for received messages, stores
them in defined storage and also sends messages enqueued in
this storage.</p>

<p style="margin-top: 1em">The daemon can reload
configuration file after sending hangup signal (SIGHUP) and
properly terminates itself on SIGINT and SIGTERM.</p>

<p style="margin-top: 1em">Program accepts following
options (please note that long options might be not accepted
on some platforms):</p>

<p style="margin-top: 1em">-h, --help <br>
Shows help.</p>

<p style="margin-top: 1em">-v, --version <br>
Shows version information and compiled in features.</p>

<p style="margin-top: 1em">-c, --config=file <br>
Configuration file to use, default is /etc/gammu-smsdrc, on
Windows there is no default and configuration file path has
to be always specified.</p>

<p style="margin-top: 1em">If you run SMSD as a system
daemon (or service), it is recommended to use absolute path
to configuration file as startup directory might be
different than you expect.</p>

<p style="margin-top: 1em">See gammu-smsdrc for
configuration file documentation.</p>

<p style="margin-top: 1em">-p, --pid=file <br>
Lock file for storing pid, empty for no locking. Not
supported on Windows.</p>

<p style="margin-top: 1em">-U, --user=user <br>
Drop daemon privileges to chosen user after starting.</p>

<p style="margin-top: 1em">-G, --group=group <br>
Drop daemon privileges to chosen group after starting.</p>

<p style="margin-top: 1em">-d, --daemon <br>
Daemonize program on startup. Not supported on Windows.</p>

<p style="margin-top: 1em">-i, --install-service <br>
Installs SMSD as a Windows service.</p>

<p style="margin-top: 1em">-u, --uninstall-service <br>
Uninstalls SMSD as a Windows service.</p>

<p style="margin-top: 1em">-s, --start-service <br>
Starts SMSD Windows service.</p>

<p style="margin-top: 1em">-k, --stop-service <br>
Stops SMSD Windows service.</p>

<p style="margin-top: 1em">-f, --max-failures=count <br>
Terminate after defined number of failures. Use 0 to not
terminate (this is default).</p>

<p style="margin-top: 1em">-X, --suicide=seconds <br>
Kills itself after number of seconds.</p>

<p style="margin-top: 1em">-S, --run-service <br>
Runs pogram as SMSD Windows service. This should not be used
manually, but only Windows Service manager should use this
command.</p>

<p style="margin-top: 1em">-n, --service-name=name <br>
Defines name of a Windows service. Each service requires an
unique name, so if you want to run several SMSD instances,
you have to name each service differently. Default <br>
is &quot;GammuSMSD&quot;.</p>

<p style="margin-top: 1em">-l, --use-log <br>
Use logging as configured in config file (default).</p>

<p style="margin-top: 1em">-L, --no-use-log <br>
Do not use logging as configured in config file.</p>

<p style="margin-top: 1em">-e, --install-event-log <br>
Installs Windows EventLog description to registry.</p>

<p style="margin-top: 1em">New in version 1.31.90.</p>

<p style="margin-top: 1em">-E, --uninstall-event-log <br>
Uninstalls Windows EventLog description to registry.</p>

<p style="margin-top: 1em">New in version 1.31.90.</p>

<p style="margin-top: 1em">SIGNALS <br>
SMSD can be controlled using following POSIX signals (if
your platform supports this):</p>

<p style="margin-top: 1em">SIGHUP Reload configuration and
reconnect to phone.</p>

<p style="margin-top: 1em">SIGINT, SIGTERM <br>
Gracefully shutdown the daemon.</p>

<p style="margin-top: 1em">SIGALRM <br>
Used internally for gammu-smsd -X</p>

<p style="margin-top: 1em">SIGUSR1 <br>
Suspends SMSD operation, closing connection to phone and
database.</p>

<p style="margin-top: 1em">SIGUSR2 <br>
Resumes SMSD operation (after previous suspend).</p>

<p style="margin-top: 1em">Changed in version 1.22.91:
Added support for SIGHUP.</p>

<p style="margin-top: 1em">Changed in version 1.22.95:
Added support for SIGALRM.</p>

<p style="margin-top: 1em">Changed in version 1.31.90:
Added support for SIGUSR1 and SIGUSR2.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Linux/Unix Examples <br>
Start SMSD as a daemon on Linux:</p>

<p style="margin-top: 1em">gammu-smsd --config
/etc/gammu-smsdrc --pid /var/run/gammu-smsd.pid --daemon</p>

<p style="margin-top: 1em">Start SMSD as a daemon on Linux
with reduced privileges:</p>

<p style="margin-top: 1em">gammu-smsd --config
/etc/gammu-smsdrc --pid /var/run/gammu-smsd.pid --daemon
--user gammu --group gammu</p>

<p style="margin-top: 1em">SMSD as a system wide daemon
<br>
To use SMSD as a daemon, you might want to use init script
which is shipped with Gammu in contrib/init directory. It is
not installed by default, either install it manually or <br>
check INSTALL file for instructions.</p>

<p style="margin-top: 1em">Under Windows 7 you might need
to disable UAC (user account control) before you will be
able to install SMSD service.</p>

<p style="margin-top: 1em">Windows Service Examples <br>
Install Gammu SMSD Windows service:</p>

<p style="margin-top: 1em">gammu-smsd.exe -c c:Gammudrc
-i</p>

<p style="margin-top: 1em">Install two instances of SMSD
Windows service:</p>

<p style="margin-top: 1em">gammu-smsd.exe -c c:Gammudrc-1
-n Gammu-first-phone -i</p>

<p style="margin-top: 1em">gammu-smsd.exe -c c:Gammudrc-2
-n Gammu-second-phone -i</p>

<p style="margin-top: 1em">To uninstall a Windows
service:</p>

<p style="margin-top: 1em">gammu-smsd.exe -u</p>

<p style="margin-top: 1em">Troubleshooting Windows Service
<br>
If Gammu fails to start as a Windows service (you will
usually get &quot;Error 1053: The service did not respond to
the start or control request in a timely fashion&quot;),
first check <br>
your SMSD logs. If they do not contain any useful hint, try
starting SMSD manually with exactly same parameters as you
installed the service (without -i).</p>

<p style="margin-top: 1em">For example the command line can
look like:</p>

<p style="margin-top: 1em">gammu-smsd.exe -c smsdrc</p>

<p style="margin-top: 1em">You now should be able to get
errors from SMSD even if it fails to start as a service.</p>

<p style="margin-top: 1em">Invoking Gammu and suspending
SMSD <br>
As you can not run Gammu and Gammu SMSD at same time on
signle device, you can workaround this limitation by
suspending SMSD temporarily using SIGUSR1 and SIGUSR2
signals (see <br>
also Signals):</p>

<p style="margin-top: 1em">SMSD_PID=&lsquo;pidof
gammu-smsd&lsquo; <br>
if [ -z &quot;$SMSD_PID&quot; ] ; then <br>
echo &quot;Failed to figure out SMSD PID!&quot; <br>
else <br>
kill -SIGUSR1 $SMSD_PID <br>
gammu identify <br>
kill -SIGUSR2 $SMSD_PID <br>
fi</p>

<p style="margin-top: 1em">KNOWN LIMITATIONS <br>
You can not use same phone by more programs in same time.
However in case you did not enable locking in [gammu]
section, it might be able to start the communication with
phone <br>
from more programs. In this case neither of the programs
will probably work, see Invoking Gammu and suspending SMSD
for workaround.</p>

<p style="margin-top: 1em">There is no way to detect that
SMS message is reply to another by looking at message
headers. The only way to achieve this is to add some token
to the message and let the user <br>
include it in the message on reply.</p>

<p style="margin-top: 1em">AUTHOR <br>
Michal &Auml;iha&Aring; &lt;michal@cihar.com&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2009-2015, Michal &Auml;iha&Aring;
&lt;michal@cihar.com&gt;</p>

<p style="margin-top: 1em">1.38.1 Jan 05, 2017
GAMMU-SMSD(1)</p>
<hr>
</body>
</html>
