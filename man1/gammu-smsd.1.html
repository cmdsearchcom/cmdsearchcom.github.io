<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GAMMU-SMSD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GAMMU-SMSD(1)</td>
    <td class="head-vol">Gammu</td>
    <td class="head-rtitle">GAMMU-SMSD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gammu-smsd - SMS daemon for Gammu
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd [OPTION]...
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This manual page documents briefly the <b>gammu-smsd</b> command.
<div style="height: 1.00em;">&#x00A0;</div>
<b>gammu-smsd</b> is a program that periodically scans GSM modem for received
  messages, stores them in defined storage and also sends messages enqueued in
  this storage.
<div style="height: 1.00em;">&#x00A0;</div>
The daemon can reload configuration file after sending hangup signal (SIGHUP)
  and properly terminates itself on SIGINT and SIGTERM.
<div style="height: 1.00em;">&#x00A0;</div>
Program accepts following options (please note that long options might be not
  accepted on some platforms):
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">Shows help.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --version</b></dt>
  <dd class="It-tag">Shows version information and compiled in features.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --config=file</b></dt>
  <dd class="It-tag">Configuration file to use, default is /etc/gammu-smsdrc, on
      Windows there is no default and configuration file path has to be always
      specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you run SMSD as a system daemon (or service), it is recommended to use
      absolute path to configuration file as startup directory might be
      different than you expect.
    <div style="height: 1.00em;">&#x00A0;</div>
    See gammu-smsdrc for configuration file documentation.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p, --pid=file</b></dt>
  <dd class="It-tag">Lock file for storing pid, empty for no locking. Not
      supported on Windows.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U, --user=user</b></dt>
  <dd class="It-tag">Drop daemon privileges to chosen user after starting.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G, --group=group</b></dt>
  <dd class="It-tag">Drop daemon privileges to chosen group after starting.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --daemon</b></dt>
  <dd class="It-tag">Daemonize program on startup. Not supported on
    Windows.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --install-service</b></dt>
  <dd class="It-tag">Installs SMSD as a Windows service.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u, --uninstall-service</b></dt>
  <dd class="It-tag">Uninstalls SMSD as a Windows service.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --start-service</b></dt>
  <dd class="It-tag">Starts SMSD Windows service.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k, --stop-service</b></dt>
  <dd class="It-tag">Stops SMSD Windows service.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --max-failures=count</b></dt>
  <dd class="It-tag">Terminate after defined number of failures. Use 0 to not
      terminate (this is default).</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X, --suicide=seconds</b></dt>
  <dd class="It-tag">Kills itself after number of seconds.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S, --run-service</b></dt>
  <dd class="It-tag">Runs pogram as SMSD Windows service. This should not be
      used manually, but only Windows Service manager should use this
    command.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --service-name=name</b></dt>
  <dd class="It-tag">Defines name of a Windows service. Each service requires an
      unique name, so if you want to run several SMSD instances, you have to
      name each service differently. Default is &quot;GammuSMSD&quot;.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --use-log</b></dt>
  <dd class="It-tag">Use logging as configured in config file (default).</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L, --no-use-log</b></dt>
  <dd class="It-tag">Do not use logging as configured in config file.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --install-event-log</b></dt>
  <dd class="It-tag">Installs Windows EventLog description to registry.
    <div style="height: 1.00em;">&#x00A0;</div>
    New in version 1.31.90.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E, --uninstall-event-log</b></dt>
  <dd class="It-tag">Uninstalls Windows EventLog description to registry.
    <div style="height: 1.00em;">&#x00A0;</div>
    New in version 1.31.90.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SIGNALS"><a class="selflink" href="#SIGNALS">SIGNALS</a></h1>
SMSD can be controlled using following POSIX signals (if your platform supports
  this):
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGHUP</b></dt>
  <dd class="It-tag">Reload configuration and reconnect to phone.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGINT, SIGTERM</b></dt>
  <dd class="It-tag">Gracefully shutdown the daemon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGALRM</b></dt>
  <dd class="It-tag">Used internally for <b>gammu-smsd -X</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGUSR1</b></dt>
  <dd class="It-tag">Suspends SMSD operation, closing connection to phone and
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SIGUSR2</b></dt>
  <dd class="It-tag">Resumes SMSD operation (after previous suspend).</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Changed in version 1.22.91: Added support for SIGHUP.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Changed in version 1.22.95: Added support for SIGALRM.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Changed in version 1.31.90: Added support for SIGUSR1 and SIGUSR2.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Linux/Unix_Examples"><a class="selflink" href="#Linux/Unix_Examples">Linux/Unix
  Examples</a></h2>
Start SMSD as a daemon on Linux:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd --config /etc/gammu-smsdrc --pid /var/run/gammu-smsd.pid --daemon
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Start SMSD as a daemon on Linux with reduced privileges:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd --config /etc/gammu-smsdrc --pid /var/run/gammu-smsd.pid --daemon --user gammu --group gammu
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="SMSD_as_a_system_wide_daemon"><a class="selflink" href="#SMSD_as_a_system_wide_daemon">SMSD
  as a system wide daemon</a></h2>
To use SMSD as a daemon, you might want to use init script which is shipped with
  Gammu in contrib/init directory. It is not installed by default, either
  install it manually or check INSTALL file for instructions.
<div style="height: 1.00em;">&#x00A0;</div>
Under Windows 7 you might need to disable UAC (user account control) before you
  will be able to install SMSD service.
<h2 class="Ss" title="Ss" id="Windows_Service_Examples"><a class="selflink" href="#Windows_Service_Examples">Windows
  Service Examples</a></h2>
Install Gammu SMSD Windows service:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd.exe -c c:\Gammu\smsdrc -i
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Install two instances of SMSD Windows service:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd.exe -c c:\Gammu\smsdrc-1 -n Gammu-first-phone -i
<div class="Pp"></div>
gammu-smsd.exe -c c:\Gammu\smsdrc-2 -n Gammu-second-phone -i
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To uninstall a Windows service:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd.exe -u
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Troubleshooting_Windows_Service"><a class="selflink" href="#Troubleshooting_Windows_Service">Troubleshooting
  Windows Service</a></h2>
If Gammu fails to start as a Windows service (you will usually get &quot;Error
  1053: The service did not respond to the start or control request in a timely
  fashion&quot;), first check your SMSD logs. If they do not contain any useful
  hint, try starting SMSD manually with exactly same parameters as you installed
  the service (without -i).
<div style="height: 1.00em;">&#x00A0;</div>
For example the command line can look like:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
gammu-smsd.exe -c smsdrc
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
You now should be able to get errors from SMSD even if it fails to start as a
  service.
<h2 class="Ss" title="Ss" id="Invoking_Gammu_and_suspending_SMSD"><a class="selflink" href="#Invoking_Gammu_and_suspending_SMSD">Invoking
  Gammu and suspending SMSD</a></h2>
As you can not run Gammu and Gammu SMSD at same time on signle device, you can
  workaround this limitation by suspending SMSD temporarily using <i>SIGUSR1</i>
  and <i>SIGUSR2</i> signals (see also <i>Signals</i>):
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
SMSD_PID=`pidof gammu-smsd`
if [ -z &quot;$SMSD_PID&quot; ] ; then
    echo &quot;Failed to figure out SMSD PID!&quot;
else
    kill -SIGUSR1 $SMSD_PID
    gammu identify
    kill -SIGUSR2 $SMSD_PID
fi
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="KNOWN_LIMITATIONS"><a class="selflink" href="#KNOWN_LIMITATIONS">KNOWN
  LIMITATIONS</a></h1>
You can not use same phone by more programs in same time. However in case you
  did not enable locking in <b>[gammu]</b> section, it might be able to start
  the communication with phone from more programs. In this case neither of the
  programs will probably work, see <i>Invoking Gammu and suspending SMSD</i> for
  workaround.
<div style="height: 1.00em;">&#x00A0;</div>
There is no way to detect that SMS message is reply to another by looking at
  message headers. The only way to achieve this is to add some token to the
  message and let the user include it in the message on reply.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Michal &#x010C;iha&#x0159; &lt;michal@cihar.com&gt;
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2009-2015, Michal &#x010C;iha&#x0159; &lt;michal@cihar.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 5, 2017</td>
    <td class="foot-os">1.38.1</td>
  </tr>
</table>
</body>
</html>
