<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>VIRT-INSTALL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VIRT-INSTALL(1)</td>
    <td class="head-vol">Virtual Machine Manager</td>
    <td class="head-rtitle">VIRT-INSTALL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
virt-install - provision new virtual machines
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>virt-install</b> [OPTION]...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>virt-install</b> is a command line tool for creating new KVM, Xen, or Linux
  container guests using the &quot;libvirt&quot; hypervisor management library.
  See the EXAMPLES section at the end of this document to quickly get started.
<div class="Pp"></div>
<b>virt-install</b> tool supports graphical installations using (for example)
  VNC or SPICE, as well as text mode installs over serial console. The guest can
  be configured to use one or more virtual disks, network interfaces, audio
  devices, physical USB or PCI devices, among others.
<div class="Pp"></div>
The installation media can be held locally or remotely on NFS, HTTP, FTP
  servers. In the latter case &quot;virt-install&quot; will fetch the minimal
  files necessary to kick off the installation process, allowing the guest to
  fetch the rest of the OS distribution as needed. PXE booting, and importing an
  existing disk image (thus skipping the install phase) are also supported.
<div class="Pp"></div>
Given suitable command line arguments, &quot;virt-install&quot; is capable of
  running completely unattended, with the guest 'kickstarting' itself too. This
  allows for easy automation of guest installs.
<div class="Pp"></div>
Many arguments have sub options, specified like opt1=foo,opt2=bar, etc. Try
  --option=? to see a complete list of sub options associated with that
  argument, example: virt-install --disk=?
<div class="Pp"></div>
Most options are not required. Minimum requirements are --name, --memory, guest
  storage (--disk or --filesystem), and an install option.
<h1 class="Sh" title="Sh" id="CONNECTING_TO_LIBVIRT"><a class="selflink" href="#CONNECTING_TO_LIBVIRT">CONNECTING
  TO LIBVIRT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> URI</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--connect</b> URI</dt>
  <dd class="It-tag">Connect to a non-default hypervisor. If this isn't
      specified, libvirt will try and choose the most suitable default.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some valid options here are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">qemu:///system</dt>
  <dd class="It-tag">For creating KVM and QEMU guests to be run by the system
      libvirtd instance. This is the default mode that virt-manager uses, and
      what most KVM users want.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">qemu:///session</dt>
  <dd class="It-tag">For creating KVM and QEMU guests for libvirtd running as
      the regular user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">xen:///</dt>
  <dd class="It-tag">For connecting to Xen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">lxc:///</dt>
  <dd class="It-tag">For creating linux containers</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<h1 class="Sh" title="Sh" id="GENERAL_OPTIONS"><a class="selflink" href="#GENERAL_OPTIONS">GENERAL
  OPTIONS</a></h1>
General configuration parameters that apply to all types of guest installs.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b> NAME</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--name</b> NAME</dt>
  <dd class="It-tag">Name of the new guest virtual machine instance. This must
      be unique amongst all guests known to the hypervisor on the connection,
      including those not currently active. To re-define an existing guest, use
      the virsh(1) tool to shut it down ('virsh shutdown') &amp; delete ('virsh
      undefine') it prior to running &quot;virt-install&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--memory</b> OPTIONS</dt>
  <dd class="It-tag">Memory to allocate for the guest, in MiB. Sub options are
      available, like 'maxmemory' and 'hugepages'. This deprecates the -r/--ram
      option.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --memory=? to see a list of all available sub options. Complete details
      at
    &lt;http://libvirt.org/formatdomain.html#elementsMemoryAllocation&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--memorybacking</b> OPTIONS</dt>
  <dd class="It-tag">This option will influence how virtual memory pages are
      backed by host pages.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --memorybacking=? to see a list of all available sub options. Complete
      details at
      &lt;http://libvirt.org/formatdomain.html#elementsMemoryBacking&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--arch</b> ARCH</dt>
  <dd class="It-tag">Request a non-native CPU architecture for the guest virtual
      machine. If omitted, the host CPU architecture will be used in the
    guest.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--machine</b> MACHINE</dt>
  <dd class="It-tag">The machine type to emulate. This will typically not need
      to be specified for Xen or KVM, but is useful for choosing machine types
      of more exotic architectures.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--metadata</b> OPT=VAL,[...]</dt>
  <dd class="It-tag">Specify metadata values for the guest. Possible options
      include name, uuid, title, and description. This option deprecates
      -u/--uuid and --description.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --metadata=? to see a list of all available sub options. Complete
      details at
    &lt;http://libvirt.org/formatdomain.html#elementsMetadata&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--events</b> OPT=VAL,[...]</dt>
  <dd class="It-tag">Specify events values for the guest. Possible options
      include on_poweroff, on_reboot, and on_crash.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --events=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsEvents&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--resource</b> OPT=VAL,[...]</dt>
  <dd class="It-tag">Specify resource partitioning for the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --resource=? to see a list of all available sub options. Complete
      details at &lt;http://libvirt.org/formatdomain.html#resPartition&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--vcpus</b> OPTIONS</dt>
  <dd class="It-tag">Number of virtual cpus to configure for the guest. If
      'maxvcpus' is specified, the guest will be able to hotplug up to MAX vcpus
      while the guest is running, but will startup with VCPUS.
    <div style="height: 1.00em;">&#x00A0;</div>
    CPU topology can additionally be specified with sockets, cores, and threads.
      If values are omitted, the rest will be autofilled preferring sockets over
      cores over threads.
    <div style="height: 1.00em;">&#x00A0;</div>
    'cpuset' sets which physical cpus the guest can use. &quot;CPUSET&quot; is a
      comma separated list of numbers, which can also be specified in ranges or
      cpus to exclude. Example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    0,2,3,5     : Use processors 0,2,3 and 5
    1-5,^3,8    : Use processors 1,2,4,5 and 8
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    If the value 'auto' is passed, virt-install attempts to automatically
      determine an optimal cpu pinning using NUMA data, if available.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --vcpus=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsCPUAllocation&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--numatune</b> OPTIONS</dt>
  <dd class="It-tag">Tune NUMA policy for the domain process. Example
      invocations
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --numatune 1,2,3,4-7
    --numatune 1-3,5,mode=preferred
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the numa nodes to allocate memory from. This has the same syntax
      as &quot;--cpuset&quot; option. mode can be one of 'interleave',
      'preferred', or 'strict' (the default). See 'man 8 numactl' for
      information about each mode.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --numatune=? to see a list of all available sub options. Complete
      details at
    &lt;http://libvirt.org/formatdomain.html#elementsNUMATuning&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--memtune</b> OPTIONS</dt>
  <dd class="It-tag">Tune memory policy for the domain process. Example
      invocations
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --memtune 1000
    --memtune hard_limit=100,soft_limit=60,swap_hard_limit=150,min_guarantee=80
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --memtune=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsMemoryTuning&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--blkiotune</b> OPTIONS</dt>
  <dd class="It-tag">Tune blkio policy for the domain process. Example
      invocations
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --blkiotune 100
    --blkiotune weight=100,device_path=/dev/sdc,device_weight=200
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --blkiotune=? to see a list of all available sub options. Complete
      details at
      &lt;http://libvirt.org/formatdomain.html#elementsBlockTuning&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpu</b>
    MODEL[,+feature][,-feature][,match=MATCH][,vendor=VENDOR]</dt>
  <dd class="It-tag">Configure the CPU model and CPU features exposed to the
      guest. The only required value is MODEL, which is a valid CPU model as
      known to libvirt.
    <div style="height: 1.00em;">&#x00A0;</div>
    Libvirt's feature policy values force, require, optional, disable, or
      forbid, or with the shorthand '+feature' and '-feature', which equal
      'force=feature' and 'disable=feature' respectively
    <div style="height: 1.00em;">&#x00A0;</div>
    Some examples:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpu core2duo,+x2apic,disable=vmx</b></dt>
  <dd class="It-tag">Expose the core2duo CPU model, force enable x2apic, but do
      not expose vmx</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpu host</b></dt>
  <dd class="It-tag">Expose the host CPUs configuration to the guest. This
      enables the guest to take advantage of many of the host CPUs features
      (better performance), but may cause issues if migrating the guest to a
      host without an identical CPU.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpu host-model-only</b></dt>
  <dd class="It-tag">Expose the nearest host CPU model configuration to the
      guest. It is the best CPU which can be used for a guest on any of the
      hosts.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --cpu=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsCPU&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--security</b>
    type=TYPE[,label=LABEL][,relabel=yes|no]</dt>
  <dd class="It-tag">Configure domain security driver settings. Type can be
      either 'static' or 'dynamic'. 'static' configuration requires a security
      LABEL. Specifying LABEL without TYPE implies static configuration.
    <div style="height: 1.00em;">&#x00A0;</div>
    To have libvirt automatically apply your static label, you must specify
      relabel=yes. Otherwise disk images must be manually labeled by the admin,
      including images that virt-install is asked to create.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --security=? to see a list of all available sub options. Complete
      details at &lt;http://libvirt.org/formatdomain.html#seclabel&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features</b> FEAT=on|off,...</dt>
  <dd class="It-tag">Set elements in the guests &lt;features&gt; XML on or off.
      Examples include acpi, apic, eoi, privnet, and hyperv features. Some
      examples:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features eoi=on</b></dt>
  <dd class="It-tag">Enable APIC PV EOI</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features hyperv_vapic=on,hyperv_spinlocks=off</b></dt>
  <dd class="It-tag">Enable hypver VAPIC, but disable spinlocks</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features kvm_hidden=on</b></dt>
  <dd class="It-tag">Allow the KVM hypervisor signature to be hidden from the
      guest</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features pvspinlock=on</b></dt>
  <dd class="It-tag">Notify the guest that the host supports paravirtual
      spinlocks for example by exposing the pvticketlocks mechanism.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--features gic_version=2</b></dt>
  <dd class="It-tag">This is relevant only for ARM architectures. Possible
      values are &quot;host&quot; or version number.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --features=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsFeatures&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clock</b> offset=OFFSET,TIMER_OPT=VAL,...</dt>
  <dd class="It-tag">Configure the guest's &lt;clock&gt; XML. Some supported
      options:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clock offset=OFFSET</b></dt>
  <dd class="It-tag">Set the clock offset, ex. 'utc' or 'localtime'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clock TIMER_present=no</b></dt>
  <dd class="It-tag">Disable a boolean timer. TIMER here might be hpet,
      kvmclock, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clock TIMER_tickpolicy=VAL</b></dt>
  <dd class="It-tag">Set a timer's tickpolicy value. TIMER here might be rtc,
      pit, etc. VAL might be catchup, delay, etc. Refer to the libvirt docs for
      all values.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --clock=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsTime&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pm</b> OPTIONS</dt>
  <dd class="It-tag">Configure guest power management features. Example
      suboptions include suspend_to_mem=on|off and suspend_to_disk=on|off
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --pm=? to see a list of all available sub options. Complete details at
      &lt;http://libvirt.org/formatdomain.html#elementsPowerManagement&gt;</dd>
</dl>
<h1 class="Sh" title="Sh" id="INSTALLATION_OPTIONS"><a class="selflink" href="#INSTALLATION_OPTIONS">INSTALLATION
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cdrom</b> OPTIONS</dt>
  <dd class="It-tag">File or device used as a virtual CD-ROM device. It can be
      path to an ISO image or a URL from which to fetch/access a minimal boot
      ISO image. The URLs take the same format as described for the
      &quot;--location&quot; argument. If a cdrom has been specified via the
      &quot;--disk&quot; option, and neither &quot;--cdrom&quot; nor any other
      install option is specified, the &quot;--disk&quot; cdrom is used as the
      install media.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> LOCATION</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location</b> OPTIONS</dt>
  <dd class="It-tag">Distribution tree installation source. virt-install can
      recognize certain distribution trees and fetches a bootable kernel/initrd
      pair to launch the install.
    <div style="height: 1.00em;">&#x00A0;</div>
    With libvirt 0.9.4 or later, network URL installs work for remote
      connections. virt-install will download kernel/initrd to the local
      machine, and then upload the media to the remote host. This option
      requires the URL to be accessible by both the local and remote host.
    <div style="height: 1.00em;">&#x00A0;</div>
    --location allows things like --extra-args for kernel arguments, and using
      --initrd-inject. If you want to use those options with CDROM media, you
      have a few options:
    <div style="height: 1.00em;">&#x00A0;</div>
    * Run virt-install as root and do --location ISO
    <div style="height: 1.00em;">&#x00A0;</div>
    * Mount the ISO at a local directory, and do --location DIRECTORY
    <div style="height: 1.00em;">&#x00A0;</div>
    * Mount the ISO at a local directory, export that directory over local http,
      and do --location http://localhost/DIRECTORY
    <div style="height: 1.00em;">&#x00A0;</div>
    The &quot;LOCATION&quot; can take one of the following forms:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">http://host/path</dt>
  <dd class="It-tag">An HTTP server location containing an installable
      distribution image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ftp://host/path</dt>
  <dd class="It-tag">An FTP server location containing an installable
      distribution image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">nfs:host:/path or nfs://host/path</dt>
  <dd class="It-tag">An NFS server location containing an installable
      distribution image. This requires running virt-install as root.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">DIRECTORY</dt>
  <dd class="It-tag">Path to a local directory containing an installable
      distribution image. Note that the directory will not be accessible by the
      guest after initial boot, so the OS installer will need another way to
      access the rest of the install media.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ISO</dt>
  <dd class="It-tag">Mount the ISO and probe the directory. This requires
      running virt-install as root, and has the same VM access caveat as
      DIRECTORY.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Some distro specific url samples:
<dl class="Bl-tag">
  <dt class="It-tag">Fedora/Red Hat Based</dt>
  <dd class="It-tag">http://download.fedoraproject.org/pub/fedora/linux/releases/21/Server/x86_64/os</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Debian</dt>
  <dd class="It-tag">http://ftp.us.debian.org/debian/dists/stable/main/installer-amd64/</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Ubuntu</dt>
  <dd class="It-tag">http://us.archive.ubuntu.com/ubuntu/dists/wily/main/installer-amd64/</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Suse</dt>
  <dd class="It-tag">http://download.opensuse.org/distribution/11.0/repo/oss/</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Mandriva</dt>
  <dd class="It-tag">ftp://ftp.uwsg.indiana.edu/linux/mandrake/official/2009.0/i586/</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Mageia</dt>
  <dd class="It-tag">ftp://distrib-coffee.ipsl.jussieu.fr/pub/linux/Mageia/distrib/1</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pxe</b></dt>
  <dd class="It-tag">Use the PXE boot protocol to load the initial ramdisk and
      kernel for starting the guest installation process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--import</b></dt>
  <dd class="It-tag">Skip the OS installation process, and build a guest around
      an existing disk image. The device used for booting is the first device
      specified via &quot;--disk&quot; or &quot;--filesystem&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--livecd</b></dt>
  <dd class="It-tag">Specify that the installation media is a live CD and thus
      the guest needs to be configured to boot off the CDROM device permanently.
      It may be desirable to also use the &quot;--disk none&quot; flag in
      combination.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b> EXTRA</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--extra-args</b> OPTIONS</dt>
  <dd class="It-tag">Additional kernel command line arguments to pass to the
      installer when performing a guest install from &quot;--location&quot;. One
      common usage is specifying an anaconda kickstart file for automated
      installs, such as --extra-args &quot;ks=http://myserver/my.ks&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--initrd-inject</b> PATH</dt>
  <dd class="It-tag">Add PATH to the root of the initrd fetched with
      &quot;--location&quot;. This can be used to run an automated install
      without requiring a network hosted kickstart file:
    <div style="height: 1.00em;">&#x00A0;</div>
    --initrd-inject=/path/to/my.ks --extra-args &quot;ks=file:/my.ks&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--os-variant</b> OS_VARIANT</dt>
  <dd class="It-tag">Optimize the guest configuration for a specific operating
      system (ex. 'fedora18', 'rhel7', 'winxp'). While not required, specifying
      this options is HIGHLY RECOMMENDED, as it can greatly increase performance
      by specifying virtio among other guest tweaks.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, virt-install will attempt to auto detect this value from the
      install media (currently only supported for URL installs). Autodetection
      can be disabled with the special value 'none'. Autodetection can be forced
      with the special value 'auto'.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the command &quot;osinfo-query os&quot; to get the list of the accepted
      OS variants.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot</b> BOOTOPTS</dt>
  <dd class="It-tag">Optionally specify the post-install VM boot configuration.
      This option allows specifying a boot device order, permanently booting off
      kernel/initrd with option kernel arguments, and enabling a BIOS boot menu
      (requires libvirt 0.8.3 or later)
    <div style="height: 1.00em;">&#x00A0;</div>
    --boot can be specified in addition to other install options (such as
      --location, --cdrom, etc.) or can be specified on its own. In the latter
      case, behavior is similar to the --import install option: there is no
      'install' phase, the guest is just created and launched as specified.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some examples:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot cdrom,fd,hd,network,menu=on</b></dt>
  <dd class="It-tag">Set the boot device priority as first cdrom, first floppy,
      first harddisk, network PXE boot. Additionally enable BIOS boot menu
      prompt.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot
    kernel=KERNEL,initrd=INITRD,kernel_args=&quot;console=/dev/ttyS0&quot;</b></dt>
  <dd class="It-tag">Have guest permanently boot off a local kernel/initrd pair,
      with the specified kernel options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot kernel=KERNEL,initrd=INITRD,dtb=DTB</b></dt>
  <dd class="It-tag">Have guest permanently boot off a local kernel/initrd pair
      with an external device tree binary. DTB can be required for some non-x86
      configurations like ARM or PPC</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot loader=BIOSPATH</b></dt>
  <dd class="It-tag">Use BIOSPATH as the virtual machine BIOS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot menu=on,useserial=on</b></dt>
  <dd class="It-tag">Enable the bios boot menu, and enable sending bios text
      output over serial console.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot init=INITPATH</b></dt>
  <dd class="It-tag">Path to a binary that the container guest will init. If a
      root &quot;--filesystem&quot; has been specified, virt-install will
      default to /sbin/init, otherwise will default to /bin/sh.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot uefi</b></dt>
  <dd class="It-tag">Configure the VM to boot from UEFI. In order for
      virt-install to know the correct UEFI parameters, libvirt needs to be
      advertising known UEFI binaries via domcapabilities XML, so this will
      likely only work if using properly configured distro packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--boot
    loader=/.../OVMF_CODE.fd,loader_ro=yes,loader_type=pflash,nvram_template=/.../OVMF_VARS.fd</b></dt>
  <dd class="It-tag">Specify that the virtual machine use the custom OVMF binary
      as boot firmware, mapped as a virtual flash chip. In addition, request
      that libvirt instantiate the VM-specific UEFI varstore from the custom
      &quot;/.../OVMF_VARS.fd&quot; varstore template. This is the recommended
      UEFI setup, and should be used if --boot uefi doesn't know about your UEFI
      binaries.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --boot=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsOS&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--idmap</b> OPTIONS</dt>
  <dd class="It-tag">If the guest configuration declares a UID or GID mapping,
      the 'user' namespace will be enabled to apply these. A suitably configured
      UID/GID mapping is a pre-requisite to make containers secure, in the
      absence of sVirt confinement.
    <div style="height: 1.00em;">&#x00A0;</div>
    --idmap can be specified to enable user namespace for LXC containers
    <div style="height: 1.00em;">&#x00A0;</div>
    Example:
    <br/>
     --idmap
      uid_start=0,uid_target=1000,uid_count=10,gid_start=0,gid_target=1000,gid_count=10
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --idmap=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsOSContainer&gt;</dd>
</dl>
<h1 class="Sh" title="Sh" id="STORAGE_OPTIONS"><a class="selflink" href="#STORAGE_OPTIONS">STORAGE
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disk</b> OPTIONS</dt>
  <dd class="It-tag">Specifies media to use as storage for the guest, with
      various options. The general format of a disk string is
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --disk opt1=val1,opt2=val2,...
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The simplest invocation to create a new 10G disk image and associated disk
      device:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --disk size=10
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    virt-install will generate a path name, and place it in the default image
      location for the hypervisor. To specify media, the command can either be:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --disk /some/storage/path[,opt1=val1]...
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    or explicitly specify one of the following arguments:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>path</b></dt>
  <dd class="It-tag">A path to some storage media to use, existing or not.
      Existing media can be a file or block device.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifying a non-existent path implies attempting to create the new storage,
      and will require specifying a 'size' value. Even for remote hosts,
      virt-install will try to use libvirt storage APIs to automatically create
      the given path.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the hypervisor supports it, <b>path</b> can also be a network URL, like
      http://example.com/some-disk.img . For network paths, they hypervisor will
      directly access the storage, nothing is downloaded locally.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pool</b></dt>
  <dd class="It-tag">An existing libvirt storage pool name to create new storage
      on. Requires specifying a 'size' value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vol</b></dt>
  <dd class="It-tag">An existing libvirt storage volume to use. This is
      specified as 'poolname/volname'.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Other available options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>device</b></dt>
  <dd class="It-tag">Disk device type. Value can be 'cdrom', 'disk', 'lun' or
      'floppy'. Default is 'disk'. If a 'cdrom' is specified, and no install
      method is chosen, the cdrom is used as the install media.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>boot_order</b></dt>
  <dd class="It-tag">Guest installation with multiple disks will need this
      parameter to boot correctly after being installed. A boot_order parameter
      will take values 1,2,3,... Devices with lower value has higher
    priority.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>bus</b></dt>
  <dd class="It-tag">Disk bus type. Value can be 'ide', 'sata', 'scsi', 'usb',
      'virtio' or 'xen'. The default is hypervisor dependent since not all
      hypervisors support all bus types.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>removable</b></dt>
  <dd class="It-tag">Sets the removable flag (/sys/block/$dev/removable on
      Linux). Only used with QEMU and bus=usb. Value can be 'on' or 'off'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>readonly</b></dt>
  <dd class="It-tag">Set drive as readonly (takes 'on' or 'off')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shareable</b></dt>
  <dd class="It-tag">Set drive as shareable (takes 'on' or 'off')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>size</b></dt>
  <dd class="It-tag">size (in GiB) to use if creating new storage</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sparse</b></dt>
  <dd class="It-tag">whether to skip fully allocating newly created storage.
      Value is 'yes' or 'no'. Default is 'yes' (do not fully allocate) unless it
      isn't supported by the underlying storage type.
    <div style="height: 1.00em;">&#x00A0;</div>
    The initial time taken to fully-allocate the guest virtual disk (sparse=no)
      will be usually balanced by faster install times inside the guest. Thus
      use of this option is recommended to ensure consistently high performance
      and to avoid I/O errors in the guest should the host filesystem fill
    up.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backing_store</b></dt>
  <dd class="It-tag">Path to a disk to use as the backing store for the newly
      created image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backing_format</b></dt>
  <dd class="It-tag">Disk image format of <b>backing_store</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cache</b></dt>
  <dd class="It-tag">The cache mode to be used. The host pagecache provides
      cache memory. The cache value can be 'none', 'writethrough', 'directsync',
      'unsafe' or 'writeback'. 'writethrough' provides read caching. 'writeback'
      provides read and write caching. 'directsync' bypasses the host page
      cache. 'unsafe' may cache all content and ignore flush requests from the
      guest.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>discard</b></dt>
  <dd class="It-tag">Whether discard (also known as &quot;trim&quot; or
      &quot;unmap&quot;) requests are ignored or passed to the filesystem. The
      value can be either &quot;unmap&quot; (allow the discard request to be
      passed) or &quot;ignore&quot; (ignore the discard request). Since 1.0.6
      (QEMU and KVM only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>format</b></dt>
  <dd class="It-tag">Disk image format. For file volumes, this can be 'raw',
      'qcow2', 'vmdk', etc. See format types in
      &lt;http://libvirt.org/storage.html&gt; for possible values. This is often
      mapped to the <b>driver_type</b> value as well.
    <div style="height: 1.00em;">&#x00A0;</div>
    If not specified when creating file images, this will default to 'qcow2'.
    <div style="height: 1.00em;">&#x00A0;</div>
    If creating storage, this will be the format of the new image. If using an
      existing image, this overrides libvirt's format auto-detection.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>driver_name</b></dt>
  <dd class="It-tag">Driver name the hypervisor should use when accessing the
      specified storage. Typically does not need to be set by the user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>driver_type</b></dt>
  <dd class="It-tag">Driver format/type the hypervisor should use when accessing
      the specified storage. Typically does not need to be set by the user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>io</b></dt>
  <dd class="It-tag">Disk IO backend. Can be either &quot;threads&quot; or
      &quot;native&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>error_policy</b></dt>
  <dd class="It-tag">How guest should react if a write error is encountered. Can
      be one of &quot;stop&quot;, &quot;ignore&quot;, or
    &quot;enospace&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>serial</b></dt>
  <dd class="It-tag">Serial number of the emulated disk device. This is used in
      linux guests to set /dev/disk/by-id symlinks. An example serial number
      might be: WD-WMAP9A966149</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>startup_policy</b></dt>
  <dd class="It-tag">It defines what to do with the disk if the source file is
      not accessible. See possible values in
      &lt;http://www.libvirt.org/formatdomain.html#elementsDisks&gt;</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
See the examples section for some uses. This option deprecates -f/--file,
  -s/--file-size, --nonsparse, and --nodisks.
<div style="height: 1.00em;">&#x00A0;</div>
Use --disk=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsDisks&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--filesystem</b></dt>
  <dd class="It-tag">Specifies a directory on the host to export to the guest.
      The most simple invocation is:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --filesystem /source/on/host,/target/point/in/guest
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Which will work for recent QEMU and linux guest OS or LXC containers. For
      QEMU, the target point is just a mounting hint in sysfs, so will not be
      automatically mounted.
    <div style="height: 1.00em;">&#x00A0;</div>
    The following explicit options can be specified:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b></dt>
  <dd class="It-tag">The type or the source directory. Valid values are 'mount'
      (the default) or 'template' for OpenVZ templates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mode</b></dt>
  <dd class="It-tag">The access mode for the source directory from the guest OS.
      Only used with QEMU and type=mount. Valid modes are 'passthrough' (the
      default), 'mapped', or 'squash'. See libvirt domain XML documentation for
      more info.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>source</b></dt>
  <dd class="It-tag">The directory on the host to share.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>target</b></dt>
  <dd class="It-tag">The mount location to use in the guest.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --filesystem=? to see a list of all available sub options. Complete details
  at &lt;http://libvirt.org/formatdomain.html#elementsFilesystems&gt;</div>
<h1 class="Sh" title="Sh" id="NETWORKING_OPTIONS"><a class="selflink" href="#NETWORKING_OPTIONS">NETWORKING
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b> OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--network</b> OPTIONS</dt>
  <dd class="It-tag">Connect the guest to the host network. The value for
      &quot;NETWORK&quot; can take one of 4 formats:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">bridge=BRIDGE</dt>
  <dd class="It-tag">Connect to a bridge device in the host called
      &quot;BRIDGE&quot;. Use this option if the host has static networking
      config &amp; the guest requires full outbound and inbound connectivity
      to/from the LAN. Also use this if live migration will be used with this
      guest.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">network=NAME</dt>
  <dd class="It-tag">Connect to a virtual network in the host called
      &quot;NAME&quot;. Virtual networks can be listed, created, deleted using
      the &quot;virsh&quot; command line tool. In an unmodified install of
      &quot;libvirt&quot; there is usually a virtual network with a name of
      &quot;default&quot;. Use a virtual network if the host has dynamic
      networking (eg NetworkManager), or using wireless. The guest will be NATed
      to the LAN by whichever connection is active.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">type=direct,source=IFACE[,source_mode=MODE]</dt>
  <dd class="It-tag">Direct connect to host interface IFACE using macvtap.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">user</dt>
  <dd class="It-tag">Connect to the LAN using SLIRP. Only use this if running a
      QEMU guest as an unprivileged user. This provides a very limited form of
      NAT.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">none</dt>
  <dd class="It-tag">Tell virt-install not to add any default network
    interface.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
If this option is omitted a single NIC will be created in the guest. If there is
  a bridge device in the host with a physical interface enslaved, that will be
  used for connectivity. Failing that, the virtual network called
  &quot;default&quot; will be used. This option can be specified multiple times
  to setup more than one NIC.
<div style="height: 1.00em;">&#x00A0;</div>
Other available options are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>model</b></dt>
  <dd class="It-tag">Network device model as seen by the guest. Value can be any
      nic model supported by the hypervisor, e.g.: 'e1000', 'rtl8139', 'virtio',
      ...</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mac</b></dt>
  <dd class="It-tag">Fixed MAC address for the guest; If this parameter is
      omitted, or the value &quot;RANDOM&quot; is specified a suitable address
      will be randomly generated. For Xen virtual machines it is required that
      the first 3 pairs in the MAC address be the sequence '00:16:3e', while for
      QEMU or KVM virtual machines it must be '52:54:00'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>filterref</b></dt>
  <dd class="It-tag">Controlling firewall and network filtering in libvirt.
      Value can be any nwfilter defined by the &quot;virsh&quot; 'nwfilter'
      subcommands. Available filters can be listed by running 'virsh
      nwfilter-list', e.g.: 'clean-traffic', 'no-mac-spoofing', ...</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_type</b></dt>
  <dd class="It-tag">The type of virtual port profile, one the following
    values</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;802.Qbg&quot;</dt>
  <dd class="It-tag">The following additional parameters are accepted</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_managerid</b></dt>
  <dd class="It-tag">The VSI Manager ID identifies the database containing the
      VSI type and instance definitions. This is an integer value and the value
      0 is reserved.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_typeid</b></dt>
  <dd class="It-tag">The VSI Type ID identifies a VSI type characterizing the
      network access. VSI types are typically managed by network administrator.
      This is an integer value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_typeidversion</b></dt>
  <dd class="It-tag">The VSI Type Version allows multiple versions of a VSI
      Type. This is an integer value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_instanceid</b></dt>
  <dd class="It-tag">The VSI Instance ID Identifier is generated when a VSI
      instance (i.e. a virtual interface of a virtual machine) is created. This
      is a globally unique identifier.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;802.Qbh&quot;</dt>
  <dd class="It-tag">The following additional parameters are accepted</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_profileid</b></dt>
  <dd class="It-tag">The profile ID contains the name of the port profile that
      is to be applied to this interface. This name is resolved by the port
      profile database into the network parameters from the port profile, and
      those network parameters will be applied to this interface.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;openvswitch&quot;</dt>
  <dd class="It-tag">The following additional parameters are accepted</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_profileid</b></dt>
  <dd class="It-tag">The OpenVSwitch port profile for the interface</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_interfaceid</b></dt>
  <dd class="It-tag">A UUID to uniquely identify the interface. If omitted one
      will be generated automatically</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;midonet&quot;</dt>
  <dd class="It-tag">The following additional parameters are accepted</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>virtualport_interfaceid</b></dt>
  <dd class="It-tag">A UUID identifying the port in the network to which the
      interface will be bound</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
</div>
<div style="margin-left: 4.00ex;"></div>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --network=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsNICS&gt;
<div style="height: 1.00em;">&#x00A0;</div>
This option deprecates -m/--mac, -b/--bridge, and --nonetworks</div>
<h1 class="Sh" title="Sh" id="GRAPHICS_OPTIONS"><a class="selflink" href="#GRAPHICS_OPTIONS">GRAPHICS
  OPTIONS</a></h1>
If no graphics option is specified, &quot;virt-install&quot; will try to select
  the appropriate graphics if the DISPLAY environment variable is set, otherwise
  '--graphics none' is used.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--graphics</b> TYPE,opt1=arg1,opt2=arg2,...</dt>
  <dd class="It-tag">Specifies the graphical display configuration. This does
      not configure any virtual hardware, just how the guest's graphical display
      can be accessed. Typically the user does not need to specify this option,
      virt-install will try and choose a useful default, and launch a suitable
      connection.
    <div style="height: 1.00em;">&#x00A0;</div>
    General format of a graphical string is
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --graphics TYPE,opt1=arg1,opt2=arg2,...
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --graphics vnc,password=foobar
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The supported options are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b></dt>
  <dd class="It-tag">The display type. This is one of:
    <div style="height: 1.00em;">&#x00A0;</div>
    vnc
    <div style="height: 1.00em;">&#x00A0;</div>
    Setup a virtual console in the guest and export it as a VNC server in the
      host. Unless the &quot;port&quot; parameter is also provided, the VNC
      server will run on the first free port number at 5900 or above. The actual
      VNC display allocated can be obtained using the &quot;vncdisplay&quot;
      command to &quot;virsh&quot; (or <i>virt-viewer</i>(1) can be used which
      handles this detail for the use).
    <div style="height: 1.00em;">&#x00A0;</div>
    spice
    <div style="height: 1.00em;">&#x00A0;</div>
    Export the guest's console using the Spice protocol. Spice allows advanced
      features like audio and USB device streaming, as well as improved
      graphical performance.
    <div style="height: 1.00em;">&#x00A0;</div>
    Using spice graphic type will work as if those arguments were given:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --video qxl --channel spicevmc
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    none
    <div style="height: 1.00em;">&#x00A0;</div>
    No graphical console will be allocated for the guest. Guests will likely
      need to have a text console configured on the first serial port in the
      guest (this can be done via the --extra-args option). The command 'virsh
      console NAME' can be used to connect to the serial device.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>port</b></dt>
  <dd class="It-tag">Request a permanent, statically assigned port number for
      the guest console. This is used by 'vnc' and 'spice'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tlsport</b></dt>
  <dd class="It-tag">Specify the spice tlsport.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>listen</b></dt>
  <dd class="It-tag">Address to listen on for VNC/Spice connections. Default is
      typically 127.0.0.1 (localhost only), but some hypervisors allow changing
      this globally (for example, the qemu driver default can be changed in
      /etc/libvirt/qemu.conf). Use 0.0.0.0 to allow access from other machines.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use 'none' to specify that the display server should not listen on any port.
      The display server can be accessed only locally through libvirt unix
      socket (virt-viewer with --attach for instance).
    <div style="height: 1.00em;">&#x00A0;</div>
    Use 'socket' to have the VM listen on a libvirt generated unix socket path
      on the host filesystem.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is used by 'vnc' and 'spice'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>keymap</b></dt>
  <dd class="It-tag">Request that the virtual VNC console be configured to run
      with a specific keyboard layout. If the special value 'local' is
      specified, virt-install will attempt to configure to use the same keymap
      as the local system. A value of 'none' specifically defers to the
      hypervisor. Default behavior is hypervisor specific, but typically is the
      same as 'local'. This is used by 'vnc'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>password</b></dt>
  <dd class="It-tag">Request a VNC password, required at connection time.
      Beware, this info may end up in virt-install log files, so don't use an
      important password. This is used by 'vnc' and 'spice'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>gl</b></dt>
  <dd class="It-tag">Whether to use OpenGl accelerated rendering. Value is 'yes'
      or 'no'. This is used by 'spice'.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --graphics=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsGraphics&gt;
<div style="height: 1.00em;">&#x00A0;</div>
This deprecates the following options: --vnc, --vncport, --vnclisten,
  -k/--keymap, --sdl, --nographics</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--noautoconsole</b></dt>
  <dd class="It-tag">Don't automatically try to connect to the guest console.
      The default behaviour is to launch <i>virt-viewer</i>(1) to display the
      graphical console, or to run the &quot;virsh&quot; &quot;console&quot;
      command to display the text console. Use of this parameter will disable
      this behaviour.</dd>
</dl>
<h1 class="Sh" title="Sh" id="VIRTUALIZATION_OPTIONS"><a class="selflink" href="#VIRTUALIZATION_OPTIONS">VIRTUALIZATION
  OPTIONS</a></h1>
Options to override the default virtualization type choices.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hvm</b></dt>
  <dd class="It-tag">Request the use of full virtualization, if both para &amp;
      full virtualization are available on the host. This parameter may not be
      available if connecting to a Xen hypervisor on a machine without hardware
      virtualization support. This parameter is implied if connecting to a QEMU
      based hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--paravirt</b></dt>
  <dd class="It-tag">This guest should be a paravirtualized guest. If the host
      supports both para &amp; full virtualization, and neither this parameter
      nor the &quot;--hvm&quot; are specified, this will be assumed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--container</b></dt>
  <dd class="It-tag">This guest should be a container type guest. This option is
      only required if the hypervisor supports other guest types as well (so for
      example this option is the default behavior for LXC and OpenVZ, but is
      provided for completeness).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--virt-type</b></dt>
  <dd class="It-tag">The hypervisor to install on. Example choices are kvm,
      qemu, or xen. Available options are listed via 'virsh capabilities' in the
      &lt;domain&gt; tags.
    <div style="height: 1.00em;">&#x00A0;</div>
    This deprecates the --accelerate option, which is now the default behavior.
      To install a plain QEMU guest, use '--virt-type qemu'</dd>
</dl>
<h1 class="Sh" title="Sh" id="DEVICE_OPTIONS"><a class="selflink" href="#DEVICE_OPTIONS">DEVICE
  OPTIONS</a></h1>
All devices have a set of <b>address.*</b> options for configuring the
  particulars of the device's address on its parent controller or bus. See
  &quot;http://libvirt.org/formatdomain.html#elementsAddress&quot; for details.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--controller</b> OPTIONS</dt>
  <dd class="It-tag">Attach a controller device to the guest. TYPE is one of:
      <b>ide</b>, <b>fdc</b>, <b>scsi</b>, <b>sata</b>, <b>virtio-serial</b>, or
      <b>usb</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Controller also supports the special values <b>usb2</b> and <b>usb3</b> to
      specify which version of the USB controller should be used (version 2 or
      3).</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>model</b></dt>
  <dd class="It-tag">Controller model. These may vary according to the
      hypervisor and its version. Most commonly used models are e.g.
      <b>auto</b>, <b>virtio-scsi</b> for the <b>scsi</b> controller,
      <b>ehci</b> or <b>none</b> for the <b>usb</b> controller. For full list
      and further details on controllers/models, see
      &quot;http://libvirt.org/formatdomain.html#elementsControllers&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>address</b></dt>
  <dd class="It-tag">Shorthand for setting a manual PCI address from an lscpi
      style string. The preferred method for setting this is using the address.*
      parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>index</b></dt>
  <dd class="It-tag">A decimal integer describing in which order the bus
      controller is encountered, and to reference the controller bus.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>master</b></dt>
  <dd class="It-tag">Applicable to USB companion controllers, to define the
      master bus startport.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Examples:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--controller
    usb,model=ich9-ehci1,address=0:0:4.0,index=0</b></dt>
  <dd class="It-tag">Adds a ICH9 EHCI1 USB controller on PCI address
    0:0:4.0</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--controller
    usb,model=ich9-uhci2,address=0:0:4.7,index=0,master=2</b></dt>
  <dd class="It-tag">Adds a ICH9 UHCI2 USB companion controller for the previous
      master controller, ports start from port number 2.
    <div style="height: 1.00em;">&#x00A0;</div>
    The parameter multifunction='on' will be added automatically to the proper
      device (if needed). This applies to all PCI devices.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --controller=? to see a list of all available sub options. Complete details
  at &lt;http://libvirt.org/formatdomain.html#elementsControllers&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--input</b> OPTIONS</dt>
  <dd class="It-tag">Attach an input device to the guest. Example input device
      types are mouse, tablet, or keyboard.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --input=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsInput&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostdev</b> OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host-device</b> OPTIONS</dt>
  <dd class="It-tag">Attach a physical host device to the guest. Some example
      values for HOSTDEV:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostdev pci_0000_00_1b_0</b></dt>
  <dd class="It-tag">A node device name via libvirt, as shown by 'virsh
      nodedev-list'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostdev 001.003</b></dt>
  <dd class="It-tag">USB by bus, device (via lsusb).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostdev 0x1234:0x5678</b></dt>
  <dd class="It-tag">USB by vendor, product (via lsusb).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hostdev 1f.01.02</b></dt>
  <dd class="It-tag">PCI device (via lspci).</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --hostdev=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsHostDev&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sound</b> MODEL</dt>
  <dd class="It-tag">Attach a virtual audio device to the guest. MODEL specifies
      the emulated sound card model. Possible values are ich6, ich9, ac97,
      es1370, sb16, pcspk, or default. 'default' will try to pick the best model
      that the specified OS supports.
    <div style="height: 1.00em;">&#x00A0;</div>
    This deprecates the old --soundhw option.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --sound=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsSound&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--watchdog</b> MODEL[,action=ACTION]</dt>
  <dd class="It-tag">Attach a virtual hardware watchdog device to the guest.
      This requires a daemon and device driver in the guest. The watchdog fires
      a signal when the virtual machine appears to hung. ACTION specifies what
      libvirt will do when the watchdog fires. Values are</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>reset</b></dt>
  <dd class="It-tag">Forcefully reset the guest (the default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>poweroff</b></dt>
  <dd class="It-tag">Forcefully power off the guest</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pause</b></dt>
  <dd class="It-tag">Pause the guest</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>none</b></dt>
  <dd class="It-tag">Do nothing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shutdown</b></dt>
  <dd class="It-tag">Gracefully shutdown the guest (not recommended, since a
      hung guest probably won't respond to a graceful shutdown)</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
MODEL is the emulated device model: either i6300esb (the default) or ib700. Some
  examples:
<div style="height: 1.00em;">&#x00A0;</div>
Use the recommended settings:
<div style="height: 1.00em;">&#x00A0;</div>
--watchdog default
<div style="height: 1.00em;">&#x00A0;</div>
Use the i6300esb with the 'poweroff' action
<div style="height: 1.00em;">&#x00A0;</div>
--watchdog i6300esb,action=poweroff
<div style="height: 1.00em;">&#x00A0;</div>
Use --watchdog=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsWatchdog&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--parallel</b> OPTIONS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial</b> OPTIONS</dt>
  <dd class="It-tag">Specifies a serial device to attach to the guest, with
      various options. The general format of a serial string is
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    --serial type,opt1=val1,opt2=val2,...
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    --serial and --parallel devices share all the same options, unless otherwise
      noted. Some of the types of character device redirection are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial pty</b></dt>
  <dd class="It-tag">Pseudo TTY. The allocated pty will be listed in the running
      guests XML description.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial dev,path=HOSTPATH</b></dt>
  <dd class="It-tag">Host device. For serial devices, this could be /dev/ttyS0.
      For parallel devices, this could be /dev/parport0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial file,path=FILENAME</b></dt>
  <dd class="It-tag">Write output to FILENAME.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial pipe,path=PIPEPATH</b></dt>
  <dd class="It-tag">Named pipe (see <i>pipe</i>(7))</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial
    tcp,host=HOST:PORT,mode=MODE,protocol=PROTOCOL</b></dt>
  <dd class="It-tag">TCP net console. MODE is either 'bind' (wait for
      connections on HOST:PORT) or 'connect' (send output to HOST:PORT), default
      is 'bind'. HOST defaults to '127.0.0.1', but PORT is required. PROTOCOL
      can be either 'raw' or 'telnet' (default 'raw'). If 'telnet', the port
      acts like a telnet server or client. Some examples:
    <div style="height: 1.00em;">&#x00A0;</div>
    Wait for connections on any address, port 4567:
    <div style="height: 1.00em;">&#x00A0;</div>
    --serial tcp,host=0.0.0.0:4567
    <div style="height: 1.00em;">&#x00A0;</div>
    Connect to localhost, port 1234:
    <div style="height: 1.00em;">&#x00A0;</div>
    --serial tcp,host=:1234,mode=connect
    <div style="height: 1.00em;">&#x00A0;</div>
    Wait for telnet connection on localhost, port 2222. The user could then
      connect interactively to this console via 'telnet localhost 2222':
    <div style="height: 1.00em;">&#x00A0;</div>
    --serial tcp,host=:2222,mode=bind,protocol=telnet</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial
    udp,host=CONNECT_HOST:PORT,bind_host=BIND_HOST:BIND_PORT</b></dt>
  <dd class="It-tag">UDP net console. HOST:PORT is the destination to send
      output to (default HOST is '127.0.0.1', PORT is required).
      BIND_HOST:BIND_PORT is the optional local address to bind to (default
      BIND_HOST is 127.0.0.1, but is only set if BIND_PORT is specified). Some
      examples:
    <div style="height: 1.00em;">&#x00A0;</div>
    Send output to default syslog port (may need to edit /etc/rsyslog.conf
      accordingly):
    <div style="height: 1.00em;">&#x00A0;</div>
    --serial udp,host=:514
    <div style="height: 1.00em;">&#x00A0;</div>
    Send output to remote host 192.168.10.20, port 4444 (this output can be read
      on the remote host using 'nc -u -l 4444'):
    <div style="height: 1.00em;">&#x00A0;</div>
    --serial udp,host=192.168.10.20:4444</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--serial unix,path=UNIXPATH,mode=MODE</b></dt>
  <dd class="It-tag">Unix socket, see <i>unix</i>(7). MODE has similar behavior
      and defaults as --serial tcp,mode=MODE</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --serial=? or --parallel=? to see a list of all available sub options.
  Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsCharSerial&gt; and
  &lt;http://libvirt.org/formatdomain.html#elementsCharParallel&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--channel</b></dt>
  <dd class="It-tag">Specifies a communication channel device to connect the
      guest and host machine. This option uses the same options as --serial and
      --parallel for specifying the host/source end of the channel. Extra
      'target' options are used to specify how the guest machine sees the
      channel.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some of the types of character device redirection are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--channel
    SOURCE,target_type=guestfwd,target_address=HOST:PORT</b></dt>
  <dd class="It-tag">Communication channel using QEMU usermode networking stack.
      The guest can connect to the channel using the specified HOST:PORT
      combination.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--channel SOURCE,target_type=virtio[,name=NAME]</b></dt>
  <dd class="It-tag">Communication channel using virtio serial (requires 2.6.34
      or later host and guest). Each instance of a virtio --channel line is
      exposed in the guest as /dev/vport0p1, /dev/vport0p2, etc. NAME is
      optional metadata, and can be any string, such as
      org.linux-kvm.virtioport1. If specified, this will be exposed in the guest
      at /sys/class/virtio-ports/vport0p1/NAME</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--channel
    spicevmc,target_type=virtio[,name=NAME]</b></dt>
  <dd class="It-tag">Communication channel for QEMU spice agent, using virtio
      serial (requires 2.6.34 or later host and guest). NAME is optional
      metadata, and can be any string, such as the default com.redhat.spice.0
      that specifies how the guest will see the channel.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --channel=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsCharChannel&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--console</b></dt>
  <dd class="It-tag">Connect a text console between the guest and host. Certain
      guest and hypervisor combinations can automatically set up a getty in the
      guest, so an out of the box text login can be provided (target_type=xen
      for xen paravirt guests, and possibly target_type=virtio in the future).
    <div style="height: 1.00em;">&#x00A0;</div>
    Example:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--console pty,target_type=virtio</b></dt>
  <dd class="It-tag">Connect a virtio console to the guest, redirected to a PTY
      on the host. For supported guests, this exposes /dev/hvc0 in the guest.
      See http://fedoraproject.org/wiki/Features/VirtioSerial for more info.
      virtio console requires libvirt 0.8.3 or later.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --console=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsCharConsole&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--video</b> OPTIONS</dt>
  <dd class="It-tag">Specify what video device model will be attached to the
      guest. Valid values for VIDEO are hypervisor specific, but some options
      for recent kvm are cirrus, vga, qxl, virtio, or vmvga (vmware).
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --video=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsVideo&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--smartcard</b> MODE[,OPTIONS]</dt>
  <dd class="It-tag">Configure a virtual smartcard device.
    <div style="height: 1.00em;">&#x00A0;</div>
    Mode is one of <b>host</b>, <b>host-certificates</b>, or <b>passthrough</b>.
      Additional options are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b></dt>
  <dd class="It-tag">Character device type to connect to on the host. This is
      only applicable for <b>passthrough</b> mode.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
An example invocation:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--smartcard passthrough,type=spicevmc</b></dt>
  <dd class="It-tag">Use the smartcard channel of a SPICE graphics device to
      pass smartcard info to the guest</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --smartcard=? to see a list of all available sub options. Complete details
  at &lt;http://libvirt.org/formatdomain.html#elementsSmartcard&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--redirdev</b> BUS[,OPTIONS]</dt>
  <dd class="It-tag">Add a redirected device.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b></dt>
  <dd class="It-tag">The redirection type, currently supported is <b>tcp</b> or
      <b>spicevmc</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>server</b></dt>
  <dd class="It-tag">The TCP server connection details, of the form
      'server:port'.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Examples of invocation:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--redirdev usb,type=tcp,server=localhost:4000</b></dt>
  <dd class="It-tag">Add a USB redirected device provided by the TCP server on
      'localhost' port 4000.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--redirdev usb,type=spicevmc</b></dt>
  <dd class="It-tag">Add a USB device redirected via a dedicated Spice
    channel.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --redirdev=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsRedir&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--memballoon</b> MODEL</dt>
  <dd class="It-tag">Attach a virtual memory balloon device to the guest. If the
      memballoon device needs to be explicitly disabled, MODEL='none' is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    MODEL is the type of memballoon device provided. The value can be 'virtio',
      'xen' or 'none'. Some examples:
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the recommended settings:
    <div style="height: 1.00em;">&#x00A0;</div>
    --memballoon virtio
    <div style="height: 1.00em;">&#x00A0;</div>
    Do not use memballoon device:
    <div style="height: 1.00em;">&#x00A0;</div>
    --memballoon none
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --memballoon=? to see a list of all available sub options. Complete
      details at
    &lt;http://libvirt.org/formatdomain.html#elementsMemBalloon&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tpm</b> TYPE[,OPTIONS]</dt>
  <dd class="It-tag">Configure a virtual TPM device.
    <div style="height: 1.00em;">&#x00A0;</div>
    Type must be <b>passthrough</b>. Additional options are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>model</b></dt>
  <dd class="It-tag">The device model to present to the guest operating system.
      Model must be <b>tpm-tis</b>.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
An example invocation:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tpm passthrough,model=tpm-tis</b></dt>
  <dd class="It-tag">Make the host's TPM accessible to a single guest.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tpm /dev/tpm</b></dt>
  <dd class="It-tag">Convenience option for passing through the hosts TPM.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Use --tpm=? to see a list of all available sub options. Complete details at
  &lt;http://libvirt.org/formatdomain.html#elementsTpm&gt;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rng</b> TYPE[,OPTIONS]</dt>
  <dd class="It-tag">Configure a virtual RNG device.
    <div style="height: 1.00em;">&#x00A0;</div>
    Type can be <b>random</b> or <b>egd</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the specified type is <b>random</b> then these values must be
    specified:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_device</b></dt>
  <dd class="It-tag">The device to use as a source of entropy.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
Whereas, when the type is <b>egd</b>, these values must be provided:
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_host</b></dt>
  <dd class="It-tag">Specify the host of the Entropy Gathering Daemon to connect
      to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_service</b></dt>
  <dd class="It-tag">Specify the port of the Entropy Gathering Daemon to connect
      to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_type</b></dt>
  <dd class="It-tag">Specify the type of the connection: <b>tcp</b> or
      <b>udp</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_mode</b></dt>
  <dd class="It-tag">Specify the mode of the connection. It is either 'bind'
      (wait for connections on HOST:PORT) or 'connect' (send output to
      HOST:PORT).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_connect_host</b></dt>
  <dd class="It-tag">Specify the remote host to connect to when the specified
      backend_type is <b>udp</b> and backend_mode is <b>bind</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>backend_connect_service</b></dt>
  <dd class="It-tag">Specify the remote service to connect to when the specified
      backend_type is <b>udp</b> and backend_mode is <b>bind</b>.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
An example invocation:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rng
    egd,backend_host=localhost,backend_service=8000,backend_type=tcp</b></dt>
  <dd class="It-tag">Connect to localhost to the TCP port 8000 to get entropy
      data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rng /dev/random</b></dt>
  <dd class="It-tag">Use the /dev/random device to get entropy data, this form
      implicitly uses the &quot;random&quot; model.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --rng=? to see a list of all available sub options. Complete details at
      &lt;http://libvirt.org/formatdomain.html#elementsRng&gt;</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--panic</b> OPTS</dt>
  <dd class="It-tag">Attach a panic notifier device to the guest. For the
      recommended settings, use:
    <div style="height: 1.00em;">&#x00A0;</div>
    --panic default
    <div style="height: 1.00em;">&#x00A0;</div>
    Use --panic=? to see a list of all available sub options. Complete details
      at &lt;http://libvirt.org/formatdomain.html#elementsPanic&gt;</dd>
</dl>
<h1 class="Sh" title="Sh" id="MISCELLANEOUS_OPTIONS"><a class="selflink" href="#MISCELLANEOUS_OPTIONS">MISCELLANEOUS
  OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show the help message and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Show program's version number and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--autostart</b></dt>
  <dd class="It-tag">Set the autostart flag for a domain. This causes the domain
      to be started on host boot up.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--transient</b></dt>
  <dd class="It-tag">Use --import or --boot and --transient if you want a
      transient libvirt VM. These VMs exist only until the domain is shut down
      or the host server is restarted. Libvirt forgets the XML configuration of
      the VM after either of these events. Note that the VM's disks will not be
      deleted. See:
      &lt;http://wiki.libvirt.org/page/VM_lifecycle#Transient_guest_domains_vs_Persistent_guest_domains&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-xml</b> [STEP]</dt>
  <dd class="It-tag">Print the generated XML of the guest, instead of defining
      it. By default this WILL do storage creation (can be disabled with
      --dry-run). This option implies --quiet.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the VM install has multiple phases, by default this will print all
      generated XML. If you want to print a particular step, use --print-xml 2
      (for the second phase XML).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--noreboot</b></dt>
  <dd class="It-tag">Prevent the domain from automatically rebooting after the
      install has completed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wait</b> WAIT</dt>
  <dd class="It-tag">Amount of time to wait (in minutes) for a VM to complete
      its install. Without this option, virt-install will wait for the console
      to close (not necessarily indicating the guest has shutdown), or in the
      case of --noautoconsole, simply kick off the install and exit. Any
      negative value will make virt-install wait indefinitely, a value of 0
      triggers the same results as noautoconsole. If the time limit is exceeded,
      virt-install simply exits, leaving the virtual machine in its current
      state.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dry-run</b></dt>
  <dd class="It-tag">Proceed through the guest creation process, but do NOT
      create storage devices, change host device configuration, or actually
      teach libvirt about the guest. virt-install may still fetch install media,
      since this is required to properly detect the OS to install.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check</b></dt>
  <dd class="It-tag">Enable or disable some validation checks. Some examples are
      warning about using a disk that's already assigned to another VM (--check
      path_in_use=on|off), or warning about potentially running out of space
      during disk allocation (--check disk_size=on|off). Most checks are
      performed by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">Only print fatal error messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Print debugging information to the terminal when running
      the install process. The debugging information is also stored in
      &quot;~/.cache/virt-manager/virt-install.log&quot; even if this parameter
      is omitted.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Install a Fedora 9 plain QEMU guest, using LVM partition, virtual networking,
  booting from PXE, using VNC server/viewer, with virtio-scsi disk
<div class="Pp"></div>
<pre>
  # virt-install \
       --connect qemu:///system \
       --name demo \
       --memory 500 \
       --disk path=/dev/HostVG/DemoVM,bus=scsi \
       --controller virtio-scsi \
       --network network=default \
       --virt-type qemu
       --graphics vnc \
       --os-variant fedora9
</pre>
<div class="Pp"></div>
Run a Live CD image under Xen fullyvirt, in diskless environment
<div class="Pp"></div>
<pre>
  # virt-install \
       --hvm \
       --name demo \
       --memory 500 \
       --disk none \
       --livecd \
       --graphics vnc \
       --cdrom /root/fedora7live.iso
</pre>
<div class="Pp"></div>
Run /usr/bin/httpd in a linux container guest (LXC). Resource usage is capped at
  512 MiB of ram and 2 host cpus:
<div class="Pp"></div>
<pre>
  # virt-install \
        --connect lxc:/// \
        --name httpd_guest \
        --memory 512 \
        --vcpus 2 \
        --init /usr/bin/httpd
</pre>
<div class="Pp"></div>
Start a linux container guest(LXC) with a private root filesystem, using /bin/sh
  as init. Container's root will be under host dir /home/LXC. The host dir
  &quot;/home/test&quot; will be mounted at &quot;/mnt&quot; dir inside
  container:
<div class="Pp"></div>
<pre>
  # virt-install \
        --connect lxc:/// \
        --name container \
        --memory 128 \
        --filesystem /home/LXC,/ \
        --filesystem /home/test,/mnt \
        --init /bin/sh
</pre>
<div class="Pp"></div>
Install a paravirtualized Xen guest, 500 MiB of RAM, a 5 GiB of disk, and Fedora
  Core 6 from a web server, in text-only mode, with old style --file options:
<div class="Pp"></div>
<pre>
  # virt-install \
       --paravirt \
       --name demo \
       --memory 500 \
       --disk /var/lib/xen/images/demo.img,size=6 \
       --graphics none \
       --location http://download.fedora.redhat.com/pub/fedora/linux/core/6/x86_64/os/
</pre>
<div class="Pp"></div>
Create a guest from an existing disk image 'mydisk.img' using defaults for the
  rest of the options.
<div class="Pp"></div>
<pre>
  # virt-install \
       --name demo \
       --memory 512 \
       --disk /home/user/VMs/mydisk.img \
       --import
</pre>
<div class="Pp"></div>
Start serial QEMU ARM VM, which requires specifying a manual kernel.
<div class="Pp"></div>
<pre>
  # virt-install \
       --name armtest \
       --memory 1024 \
       --arch armv7l --machine vexpress-a9 \
       --disk /home/user/VMs/myarmdisk.img \
       --boot kernel=/tmp/my-arm-kernel,initrd=/tmp/my-arm-initrd,dtb=/tmp/my-arm-dtb,kernel_args=&quot;console=ttyAMA0 rw root=/dev/mmcblk0p3&quot; \
       --graphics none
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please see http://virt-manager.org/page/BugReporting
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) Red Hat, Inc, and various contributors. This is free software. You
  may redistribute copies of it under the terms of the GNU General Public
  License &quot;http://www.gnu.org/licenses/gpl.html&quot;. There is NO
  WARRANTY, to the extent permitted by law.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
virsh(1), &quot;virt-clone(1)&quot;, &quot;virt-manager(1)&quot;, the project
  website &quot;http://virt-manager.org&quot;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-11-12</td>
    <td class="foot-os">1.4.0</td>
  </tr>
</table>
</body>
</html>
