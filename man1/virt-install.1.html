<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VIRT-INSTALL(1) Virtual Machine Manager
VIRT-INSTALL(1)</p>

<p style="margin-top: 1em">NAME <br>
virt-install - provision new virtual machines</p>

<p style="margin-top: 1em">SYNOPSIS <br>
virt-install [OPTION]...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
virt-install is a command line tool for creating new KVM,
Xen, or Linux container guests using the &quot;libvirt&quot;
hypervisor management library. See the EXAMPLES section at
the end <br>
of this document to quickly get started.</p>

<p style="margin-top: 1em">virt-install tool supports
graphical installations using (for example) VNC or SPICE, as
well as text mode installs over serial console. The guest
can be configured to use one or <br>
more virtual disks, network interfaces, audio devices,
physical USB or PCI devices, among others.</p>

<p style="margin-top: 1em">The installation media can be
held locally or remotely on NFS, HTTP, FTP servers. In the
latter case &quot;virt-install&quot; will fetch the minimal
files necessary to kick off the <br>
installation process, allowing the guest to fetch the rest
of the OS distribution as needed. PXE booting, and importing
an existing disk image (thus skipping the install phase)
<br>
are also supported.</p>

<p style="margin-top: 1em">Given suitable command line
arguments, &quot;virt-install&quot; is capable of running
completely unattended, with the guest
&rsquo;kickstarting&rsquo; itself too. This allows for easy
automation of <br>
guest installs.</p>

<p style="margin-top: 1em">Many arguments have sub options,
specified like opt1=foo,opt2=bar, etc. Try --option=? to see
a complete list of sub options associated with that
argument, example: virt-install <br>
--disk=?</p>

<p style="margin-top: 1em">Most options are not required.
Minimum requirements are --name, --memory, guest storage
(--disk or --filesystem), and an install option.</p>

<p style="margin-top: 1em">CONNECTING TO LIBVIRT <br>
-c URI <br>
--connect URI <br>
Connect to a non-default hypervisor. If this isn&rsquo;t
specified, libvirt will try and choose the most suitable
default.</p>

<p style="margin-top: 1em">Some valid options here are:</p>

<p style="margin-top: 1em">qemu:///system <br>
For creating KVM and QEMU guests to be run by the system
libvirtd instance. This is the default mode that
virt-manager uses, and what most KVM users want.</p>

<p style="margin-top: 1em">qemu:///session <br>
For creating KVM and QEMU guests for libvirtd running as the
regular user.</p>

<p style="margin-top: 1em">xen:/// <br>
For connecting to Xen.</p>

<p style="margin-top: 1em">lxc:/// <br>
For creating linux containers</p>

<p style="margin-top: 1em">GENERAL OPTIONS <br>
General configuration parameters that apply to all types of
guest installs.</p>

<p style="margin-top: 1em">-n NAME <br>
--name NAME <br>
Name of the new guest virtual machine instance. This must be
unique amongst all guests known to the hypervisor on the
connection, including those not currently active. To re-
<br>
define an existing guest, use the virsh(1) tool to shut it
down (&rsquo;virsh shutdown&rsquo;) &amp; delete
(&rsquo;virsh undefine&rsquo;) it prior to running
&quot;virt-install&quot;.</p>

<p style="margin-top: 1em">--memory OPTIONS <br>
Memory to allocate for the guest, in MiB. Sub options are
available, like &rsquo;maxmemory&rsquo; and
&rsquo;hugepages&rsquo;. This deprecates the -r/--ram
option.</p>

<p style="margin-top: 1em">Use --memory=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemoryAllocation&gt;</p>

<p style="margin-top: 1em">--memorybacking OPTIONS <br>
This option will influence how virtual memory pages are
backed by host pages.</p>

<p style="margin-top: 1em">Use --memorybacking=? to see a
list of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemoryBacking&gt;</p>

<p style="margin-top: 1em">--arch ARCH <br>
Request a non-native CPU architecture for the guest virtual
machine. If omitted, the host CPU architecture will be used
in the guest.</p>

<p style="margin-top: 1em">--machine MACHINE <br>
The machine type to emulate. This will typically not need to
be specified for Xen or KVM, but is useful for choosing
machine types of more exotic architectures.</p>

<p style="margin-top: 1em">--metadata OPT=VAL,[...] <br>
Specify metadata values for the guest. Possible options
include name, uuid, title, and description. This option
deprecates -u/--uuid and --description.</p>

<p style="margin-top: 1em">Use --metadata=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMetadata&gt;</p>

<p style="margin-top: 1em">--events OPT=VAL,[...] <br>
Specify events values for the guest. Possible options
include on_poweroff, on_reboot, and on_crash.</p>

<p style="margin-top: 1em">Use --events=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsEvents&gt;</p>

<p style="margin-top: 1em">--resource OPT=VAL,[...] <br>
Specify resource partitioning for the guest.</p>

<p style="margin-top: 1em">Use --resource=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#resPartition&gt;</p>

<p style="margin-top: 1em">--vcpus OPTIONS <br>
Number of virtual cpus to configure for the guest. If
&rsquo;maxvcpus&rsquo; is specified, the guest will be able
to hotplug up to MAX vcpus while the guest is running, but
will startup <br>
with VCPUS.</p>

<p style="margin-top: 1em">CPU topology can additionally be
specified with sockets, cores, and threads. If values are
omitted, the rest will be autofilled preferring sockets over
cores over threads.</p>

<p style="margin-top: 1em">&rsquo;cpuset&rsquo; sets which
physical cpus the guest can use. &quot;CPUSET&quot; is a
comma separated list of numbers, which can also be specified
in ranges or cpus to exclude. Example:</p>

<p style="margin-top: 1em">0,2,3,5 : Use processors 0,2,3
and 5 <br>
1-5,^3,8 : Use processors 1,2,4,5 and 8</p>

<p style="margin-top: 1em">If the value &rsquo;auto&rsquo;
is passed, virt-install attempts to automatically determine
an optimal cpu pinning using NUMA data, if available.</p>

<p style="margin-top: 1em">Use --vcpus=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCPUAllocation&gt;</p>

<p style="margin-top: 1em">--numatune OPTIONS <br>
Tune NUMA policy for the domain process. Example
invocations</p>

<p style="margin-top: 1em">--numatune 1,2,3,4-7 <br>
--numatune 1-3,5,mode=preferred</p>

<p style="margin-top: 1em">Specifies the numa nodes to
allocate memory from. This has the same syntax as
&quot;--cpuset&quot; option. mode can be one of
&rsquo;interleave&rsquo;, &rsquo;preferred&rsquo;, or
&rsquo;strict&rsquo; (the default). See <br>
&rsquo;man 8 numactl&rsquo; for information about each
mode.</p>

<p style="margin-top: 1em">Use --numatune=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsNUMATuning&gt;</p>

<p style="margin-top: 1em">--memtune OPTIONS <br>
Tune memory policy for the domain process. Example
invocations</p>

<p style="margin-top: 1em">--memtune 1000 <br>
--memtune
hard_limit=100,soft_limit=60,swap_hard_limit=150,min_guarantee=80</p>

<p style="margin-top: 1em">Use --memtune=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemoryTuning&gt;</p>

<p style="margin-top: 1em">--blkiotune OPTIONS <br>
Tune blkio policy for the domain process. Example
invocations</p>

<p style="margin-top: 1em">--blkiotune 100 <br>
--blkiotune
weight=100,device_path=/dev/sdc,device_weight=200</p>

<p style="margin-top: 1em">Use --blkiotune=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsBlockTuning&gt;</p>

<p style="margin-top: 1em">--cpu
MODEL[,+feature][,-feature][,match=MATCH][,vendor=VENDOR]
<br>
Configure the CPU model and CPU features exposed to the
guest. The only required value is MODEL, which is a valid
CPU model as known to libvirt.</p>

<p style="margin-top: 1em">Libvirt&rsquo;s feature policy
values force, require, optional, disable, or forbid, or with
the shorthand &rsquo;+feature&rsquo; and
&rsquo;-feature&rsquo;, which equal
&rsquo;force=feature&rsquo; and <br>
&rsquo;disable=feature&rsquo; respectively</p>

<p style="margin-top: 1em">Some examples:</p>

<p style="margin-top: 1em">--cpu
core2duo,+x2apic,disable=vmx <br>
Expose the core2duo CPU model, force enable x2apic, but do
not expose vmx</p>

<p style="margin-top: 1em">--cpu host <br>
Expose the host CPUs configuration to the guest. This
enables the guest to take advantage of many of the host CPUs
features (better performance), but may cause issues if <br>
migrating the guest to a host without an identical CPU.</p>

<p style="margin-top: 1em">--cpu host-model-only <br>
Expose the nearest host CPU model configuration to the
guest. It is the best CPU which can be used for a guest on
any of the hosts.</p>

<p style="margin-top: 1em">Use --cpu=? to see a list of all
available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCPU&gt;</p>

<p style="margin-top: 1em">--security
type=TYPE[,label=LABEL][,relabel=yes|no] <br>
Configure domain security driver settings. Type can be
either &rsquo;static&rsquo; or &rsquo;dynamic&rsquo;.
&rsquo;static&rsquo; configuration requires a security
LABEL. Specifying LABEL without TYPE implies <br>
static configuration.</p>

<p style="margin-top: 1em">To have libvirt automatically
apply your static label, you must specify relabel=yes.
Otherwise disk images must be manually labeled by the admin,
including images that virt- <br>
install is asked to create.</p>

<p style="margin-top: 1em">Use --security=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#seclabel&gt;</p>

<p style="margin-top: 1em">--features FEAT=on|off,... <br>
Set elements in the guests &lt;features&gt; XML on or off.
Examples include acpi, apic, eoi, privnet, and hyperv
features. Some examples:</p>

<p style="margin-top: 1em">--features eoi=on <br>
Enable APIC PV EOI</p>

<p style="margin-top: 1em">--features
hyperv_vapic=on,hyperv_spinlocks=off <br>
Enable hypver VAPIC, but disable spinlocks</p>

<p style="margin-top: 1em">--features kvm_hidden=on <br>
Allow the KVM hypervisor signature to be hidden from the
guest</p>

<p style="margin-top: 1em">--features pvspinlock=on <br>
Notify the guest that the host supports paravirtual
spinlocks for example by exposing the pvticketlocks
mechanism.</p>

<p style="margin-top: 1em">--features gic_version=2 <br>
This is relevant only for ARM architectures. Possible values
are &quot;host&quot; or version number.</p>

<p style="margin-top: 1em">Use --features=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsFeatures&gt;</p>

<p style="margin-top: 1em">--clock
offset=OFFSET,TIMER_OPT=VAL,... <br>
Configure the guest&rsquo;s &lt;clock&gt; XML. Some
supported options:</p>

<p style="margin-top: 1em">--clock offset=OFFSET <br>
Set the clock offset, ex. &rsquo;utc&rsquo; or
&rsquo;localtime&rsquo;</p>

<p style="margin-top: 1em">--clock TIMER_present=no <br>
Disable a boolean timer. TIMER here might be hpet, kvmclock,
etc.</p>

<p style="margin-top: 1em">--clock TIMER_tickpolicy=VAL
<br>
Set a timer&rsquo;s tickpolicy value. TIMER here might be
rtc, pit, etc. VAL might be catchup, delay, etc. Refer to
the libvirt docs for all values.</p>

<p style="margin-top: 1em">Use --clock=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsTime&gt;</p>

<p style="margin-top: 1em">--pm OPTIONS <br>
Configure guest power management features. Example
suboptions include suspend_to_mem=on|off and
suspend_to_disk=on|off</p>

<p style="margin-top: 1em">Use --pm=? to see a list of all
available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsPowerManagement&gt;</p>

<p style="margin-top: 1em">INSTALLATION OPTIONS <br>
--cdrom OPTIONS <br>
File or device used as a virtual CD-ROM device. It can be
path to an ISO image or a URL from which to fetch/access a
minimal boot ISO image. The URLs take the same format as
<br>
described for the &quot;--location&quot; argument. If a
cdrom has been specified via the &quot;--disk&quot; option,
and neither &quot;--cdrom&quot; nor any other install option
is specified, the &quot;--disk&quot; <br>
cdrom is used as the install media.</p>

<p style="margin-top: 1em">-l LOCATION <br>
--location OPTIONS <br>
Distribution tree installation source. virt-install can
recognize certain distribution trees and fetches a bootable
kernel/initrd pair to launch the install.</p>

<p style="margin-top: 1em">With libvirt 0.9.4 or later,
network URL installs work for remote connections.
virt-install will download kernel/initrd to the local
machine, and then upload the media to <br>
the remote host. This option requires the URL to be
accessible by both the local and remote host.</p>

<p style="margin-top: 1em">--location allows things like
--extra-args for kernel arguments, and using
--initrd-inject. If you want to use those options with CDROM
media, you have a few options:</p>

<p style="margin-top: 1em">* Run virt-install as root and
do --location ISO</p>

<p style="margin-top: 1em">* Mount the ISO at a local
directory, and do --location DIRECTORY</p>

<p style="margin-top: 1em">* Mount the ISO at a local
directory, export that directory over local http, and do
--location http://localhost/DIRECTORY</p>

<p style="margin-top: 1em">The &quot;LOCATION&quot; can
take one of the following forms:</p>

<p style="margin-top: 1em">http://host/path <br>
An HTTP server location containing an installable
distribution image.</p>

<p style="margin-top: 1em">ftp://host/path <br>
An FTP server location containing an installable
distribution image.</p>

<p style="margin-top: 1em">nfs:host:/path or
nfs://host/path <br>
An NFS server location containing an installable
distribution image. This requires running virt-install as
root.</p>

<p style="margin-top: 1em">DIRECTORY <br>
Path to a local directory containing an installable
distribution image. Note that the directory will not be
accessible by the guest after initial boot, so the OS <br>
installer will need another way to access the rest of the
install media.</p>

<p style="margin-top: 1em">ISO Mount the ISO and probe the
directory. This requires running virt-install as root, and
has the same VM access caveat as DIRECTORY.</p>

<p style="margin-top: 1em">Some distro specific url
samples:</p>

<p style="margin-top: 1em">Fedora/Red Hat Based <br>

http://download.fedoraproject.org/pub/fedora/linux/releases/21/Server/x86_64/os</p>

<p style="margin-top: 1em">Debian <br>

http://ftp.us.debian.org/debian/dists/stable/main/installer-amd64/</p>

<p style="margin-top: 1em">Ubuntu <br>

http://us.archive.ubuntu.com/ubuntu/dists/wily/main/installer-amd64/</p>

<p style="margin-top: 1em">Suse <br>

http://download.opensuse.org/distribution/11.0/repo/oss/</p>

<p style="margin-top: 1em">Mandriva <br>

ftp://ftp.uwsg.indiana.edu/linux/mandrake/official/2009.0/i586/</p>

<p style="margin-top: 1em">Mageia <br>

ftp://distrib-coffee.ipsl.jussieu.fr/pub/linux/Mageia/distrib/1</p>

<p style="margin-top: 1em">--pxe <br>
Use the PXE boot protocol to load the initial ramdisk and
kernel for starting the guest installation process.</p>

<p style="margin-top: 1em">--import <br>
Skip the OS installation process, and build a guest around
an existing disk image. The device used for booting is the
first device specified via &quot;--disk&quot; or
&quot;--filesystem&quot;.</p>

<p style="margin-top: 1em">--livecd <br>
Specify that the installation media is a live CD and thus
the guest needs to be configured to boot off the CDROM
device permanently. It may be desirable to also use the <br>
&quot;--disk none&quot; flag in combination.</p>

<p style="margin-top: 1em">-x EXTRA <br>
--extra-args OPTIONS <br>
Additional kernel command line arguments to pass to the
installer when performing a guest install from
&quot;--location&quot;. One common usage is specifying an
anaconda kickstart file <br>
for automated installs, such as --extra-args
&quot;ks=http://myserver/my.ks&quot;</p>

<p style="margin-top: 1em">--initrd-inject PATH <br>
Add PATH to the root of the initrd fetched with
&quot;--location&quot;. This can be used to run an automated
install without requiring a network hosted kickstart
file:</p>

<p style="margin-top: 1em">--initrd-inject=/path/to/my.ks
--extra-args &quot;ks=file:/my.ks&quot;</p>

<p style="margin-top: 1em">--os-variant OS_VARIANT <br>
Optimize the guest configuration for a specific operating
system (ex. &rsquo;fedora18&rsquo;, &rsquo;rhel7&rsquo;,
&rsquo;winxp&rsquo;). While not required, specifying this
options is HIGHLY RECOMMENDED, as it <br>
can greatly increase performance by specifying virtio among
other guest tweaks.</p>

<p style="margin-top: 1em">By default, virt-install will
attempt to auto detect this value from the install media
(currently only supported for URL installs). Autodetection
can be disabled with the <br>
special value &rsquo;none&rsquo;. Autodetection can be
forced with the special value &rsquo;auto&rsquo;.</p>

<p style="margin-top: 1em">Use the command
&quot;osinfo-query os&quot; to get the list of the accepted
OS variants.</p>

<p style="margin-top: 1em">--boot BOOTOPTS <br>
Optionally specify the post-install VM boot configuration.
This option allows specifying a boot device order,
permanently booting off kernel/initrd with option kernel
<br>
arguments, and enabling a BIOS boot menu (requires libvirt
0.8.3 or later)</p>

<p style="margin-top: 1em">--boot can be specified in
addition to other install options (such as --location,
--cdrom, etc.) or can be specified on its own. In the latter
case, behavior is similar to <br>
the --import install option: there is no
&rsquo;install&rsquo; phase, the guest is just created and
launched as specified.</p>

<p style="margin-top: 1em">Some examples:</p>

<p style="margin-top: 1em">--boot
cdrom,fd,hd,network,menu=on <br>
Set the boot device priority as first cdrom, first floppy,
first harddisk, network PXE boot. Additionally enable BIOS
boot menu prompt.</p>

<p style="margin-top: 1em">--boot
kernel=KERNEL,initrd=INITRD,kernel_args=&quot;console=/dev/ttyS0&quot;
<br>
Have guest permanently boot off a local kernel/initrd pair,
with the specified kernel options.</p>

<p style="margin-top: 1em">--boot
kernel=KERNEL,initrd=INITRD,dtb=DTB <br>
Have guest permanently boot off a local kernel/initrd pair
with an external device tree binary. DTB can be required for
some non-x86 configurations like ARM or PPC</p>

<p style="margin-top: 1em">--boot loader=BIOSPATH <br>
Use BIOSPATH as the virtual machine BIOS.</p>

<p style="margin-top: 1em">--boot menu=on,useserial=on <br>
Enable the bios boot menu, and enable sending bios text
output over serial console.</p>

<p style="margin-top: 1em">--boot init=INITPATH <br>
Path to a binary that the container guest will init. If a
root &quot;--filesystem&quot; has been specified,
virt-install will default to /sbin/init, otherwise will
default to <br>
/bin/sh.</p>

<p style="margin-top: 1em">--boot uefi <br>
Configure the VM to boot from UEFI. In order for
virt-install to know the correct UEFI parameters, libvirt
needs to be advertising known UEFI binaries via
domcapabilities <br>
XML, so this will likely only work if using properly
configured distro packages.</p>

<p style="margin-top: 1em">--boot
loader=/.../OVMF_CODE.fd,loader_ro=yes,loader_type=pflash,nvram_template=/.../OVMF_VARS.fd
<br>
Specify that the virtual machine use the custom OVMF binary
as boot firmware, mapped as a virtual flash chip. In
addition, request that libvirt instantiate the VM- <br>
specific UEFI varstore from the custom
&quot;/.../OVMF_VARS.fd&quot; varstore template. This is the
recommended UEFI setup, and should be used if --boot uefi
doesn&rsquo;t know about <br>
your UEFI binaries.</p>

<p style="margin-top: 1em">Use --boot=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsOS&gt;</p>

<p style="margin-top: 1em">--idmap OPTIONS <br>
If the guest configuration declares a UID or GID mapping,
the &rsquo;user&rsquo; namespace will be enabled to apply
these. A suitably configured UID/GID mapping is a
pre-requisite to <br>
make containers secure, in the absence of sVirt
confinement.</p>

<p style="margin-top: 1em">--idmap can be specified to
enable user namespace for LXC containers</p>

<p style="margin-top: 1em">Example: <br>
--idmap
uid_start=0,uid_target=1000,uid_count=10,gid_start=0,gid_target=1000,gid_count=10</p>

<p style="margin-top: 1em">Use --idmap=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsOSContainer&gt;</p>

<p style="margin-top: 1em">STORAGE OPTIONS <br>
--disk OPTIONS <br>
Specifies media to use as storage for the guest, with
various options. The general format of a disk string is</p>

<p style="margin-top: 1em">--disk
opt1=val1,opt2=val2,...</p>

<p style="margin-top: 1em">The simplest invocation to
create a new 10G disk image and associated disk device:</p>

<p style="margin-top: 1em">--disk size=10</p>

<p style="margin-top: 1em">virt-install will generate a
path name, and place it in the default image location for
the hypervisor. To specify media, the command can either
be:</p>

<p style="margin-top: 1em">--disk
/some/storage/path[,opt1=val1]...</p>

<p style="margin-top: 1em">or explicitly specify one of the
following arguments:</p>

<p style="margin-top: 1em">path <br>
A path to some storage media to use, existing or not.
Existing media can be a file or block device.</p>

<p style="margin-top: 1em">Specifying a non-existent path
implies attempting to create the new storage, and will
require specifying a &rsquo;size&rsquo; value. Even for
remote hosts, virt-install will try to <br>
use libvirt storage APIs to automatically create the given
path.</p>

<p style="margin-top: 1em">If the hypervisor supports it,
path can also be a network URL, like
http://example.com/some-disk.img . For network paths, they
hypervisor will directly access the <br>
storage, nothing is downloaded locally.</p>

<p style="margin-top: 1em">pool <br>
An existing libvirt storage pool name to create new storage
on. Requires specifying a &rsquo;size&rsquo; value.</p>

<p style="margin-top: 1em">vol An existing libvirt storage
volume to use. This is specified as
&rsquo;poolname/volname&rsquo;.</p>

<p style="margin-top: 1em">Other available options:</p>

<p style="margin-top: 1em">device <br>
Disk device type. Value can be &rsquo;cdrom&rsquo;,
&rsquo;disk&rsquo;, &rsquo;lun&rsquo; or
&rsquo;floppy&rsquo;. Default is &rsquo;disk&rsquo;. If a
&rsquo;cdrom&rsquo; is specified, and no install method is
chosen, the cdrom is used as the <br>
install media.</p>

<p style="margin-top: 1em">boot_order <br>
Guest installation with multiple disks will need this
parameter to boot correctly after being installed. A
boot_order parameter will take values 1,2,3,... Devices with
<br>
lower value has higher priority.</p>

<p style="margin-top: 1em">bus Disk bus type. Value can be
&rsquo;ide&rsquo;, &rsquo;sata&rsquo;, &rsquo;scsi&rsquo;,
&rsquo;usb&rsquo;, &rsquo;virtio&rsquo; or
&rsquo;xen&rsquo;. The default is hypervisor dependent since
not all hypervisors support all bus types.</p>

<p style="margin-top: 1em">removable <br>
Sets the removable flag (/sys/block/$dev/removable on
Linux). Only used with QEMU and bus=usb. Value can be
&rsquo;on&rsquo; or &rsquo;off&rsquo;.</p>

<p style="margin-top: 1em">readonly <br>
Set drive as readonly (takes &rsquo;on&rsquo; or
&rsquo;off&rsquo;)</p>

<p style="margin-top: 1em">shareable <br>
Set drive as shareable (takes &rsquo;on&rsquo; or
&rsquo;off&rsquo;)</p>

<p style="margin-top: 1em">size <br>
size (in GiB) to use if creating new storage</p>

<p style="margin-top: 1em">sparse <br>
whether to skip fully allocating newly created storage.
Value is &rsquo;yes&rsquo; or &rsquo;no&rsquo;. Default is
&rsquo;yes&rsquo; (do not fully allocate) unless it
isn&rsquo;t supported by the underlying <br>
storage type.</p>

<p style="margin-top: 1em">The initial time taken to
fully-allocate the guest virtual disk (sparse=no) will be
usually balanced by faster install times inside the guest.
Thus use of this option is <br>
recommended to ensure consistently high performance and to
avoid I/O errors in the guest should the host filesystem
fill up.</p>

<p style="margin-top: 1em">backing_store <br>
Path to a disk to use as the backing store for the newly
created image.</p>

<p style="margin-top: 1em">backing_format <br>
Disk image format of backing_store</p>

<p style="margin-top: 1em">cache <br>
The cache mode to be used. The host pagecache provides cache
memory. The cache value can be &rsquo;none&rsquo;,
&rsquo;writethrough&rsquo;, &rsquo;directsync&rsquo;,
&rsquo;unsafe&rsquo; or &rsquo;writeback&rsquo;. <br>
&rsquo;writethrough&rsquo; provides read caching.
&rsquo;writeback&rsquo; provides read and write caching.
&rsquo;directsync&rsquo; bypasses the host page cache.
&rsquo;unsafe&rsquo; may cache all content and ignore <br>
flush requests from the guest.</p>

<p style="margin-top: 1em">discard <br>
Whether discard (also known as &quot;trim&quot; or
&quot;unmap&quot;) requests are ignored or passed to the
filesystem. The value can be either &quot;unmap&quot; (allow
the discard request to be <br>
passed) or &quot;ignore&quot; (ignore the discard request).
Since 1.0.6 (QEMU and KVM only)</p>

<p style="margin-top: 1em">format <br>
Disk image format. For file volumes, this can be
&rsquo;raw&rsquo;, &rsquo;qcow2&rsquo;, &rsquo;vmdk&rsquo;,
etc. See format types in
&lt;http://libvirt.org/storage.html&gt; for possible values.
This is often <br>
mapped to the driver_type value as well.</p>

<p style="margin-top: 1em">If not specified when creating
file images, this will default to &rsquo;qcow2&rsquo;.</p>

<p style="margin-top: 1em">If creating storage, this will
be the format of the new image. If using an existing image,
this overrides libvirt&rsquo;s format auto-detection.</p>

<p style="margin-top: 1em">driver_name <br>
Driver name the hypervisor should use when accessing the
specified storage. Typically does not need to be set by the
user.</p>

<p style="margin-top: 1em">driver_type <br>
Driver format/type the hypervisor should use when accessing
the specified storage. Typically does not need to be set by
the user.</p>

<p style="margin-top: 1em">io Disk IO backend. Can be
either &quot;threads&quot; or &quot;native&quot;.</p>

<p style="margin-top: 1em">error_policy <br>
How guest should react if a write error is encountered. Can
be one of &quot;stop&quot;, &quot;ignore&quot;, or
&quot;enospace&quot;</p>

<p style="margin-top: 1em">serial <br>
Serial number of the emulated disk device. This is used in
linux guests to set /dev/disk/by-id symlinks. An example
serial number might be: WD-WMAP9A966149</p>

<p style="margin-top: 1em">startup_policy <br>
It defines what to do with the disk if the source file is
not accessible. See possible values in
&lt;http://www.libvirt.org/formatdomain.html#elementsDisks&gt;</p>

<p style="margin-top: 1em">See the examples section for
some uses. This option deprecates -f/--file, -s/--file-size,
--nonsparse, and --nodisks.</p>

<p style="margin-top: 1em">Use --disk=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsDisks&gt;</p>

<p style="margin-top: 1em">--filesystem <br>
Specifies a directory on the host to export to the guest.
The most simple invocation is:</p>

<p style="margin-top: 1em">--filesystem
/source/on/host,/target/point/in/guest</p>

<p style="margin-top: 1em">Which will work for recent QEMU
and linux guest OS or LXC containers. For QEMU, the target
point is just a mounting hint in sysfs, so will not be
automatically mounted.</p>

<p style="margin-top: 1em">The following explicit options
can be specified:</p>

<p style="margin-top: 1em">type <br>
The type or the source directory. Valid values are
&rsquo;mount&rsquo; (the default) or &rsquo;template&rsquo;
for OpenVZ templates.</p>

<p style="margin-top: 1em">mode <br>
The access mode for the source directory from the guest OS.
Only used with QEMU and type=mount. Valid modes are
&rsquo;passthrough&rsquo; (the default),
&rsquo;mapped&rsquo;, or &rsquo;squash&rsquo;. See <br>
libvirt domain XML documentation for more info.</p>

<p style="margin-top: 1em">source <br>
The directory on the host to share.</p>

<p style="margin-top: 1em">target <br>
The mount location to use in the guest.</p>

<p style="margin-top: 1em">Use --filesystem=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsFilesystems&gt;</p>

<p style="margin-top: 1em">NETWORKING OPTIONS <br>
-w OPTIONS <br>
--network OPTIONS <br>
Connect the guest to the host network. The value for
&quot;NETWORK&quot; can take one of 4 formats:</p>

<p style="margin-top: 1em">bridge=BRIDGE <br>
Connect to a bridge device in the host called
&quot;BRIDGE&quot;. Use this option if the host has static
networking config &amp; the guest requires full outbound and
inbound <br>
connectivity to/from the LAN. Also use this if live
migration will be used with this guest.</p>

<p style="margin-top: 1em">network=NAME <br>
Connect to a virtual network in the host called
&quot;NAME&quot;. Virtual networks can be listed, created,
deleted using the &quot;virsh&quot; command line tool. In an
unmodified install of <br>
&quot;libvirt&quot; there is usually a virtual network with
a name of &quot;default&quot;. Use a virtual network if the
host has dynamic networking (eg NetworkManager), or using
wireless. <br>
The guest will be NATed to the LAN by whichever connection
is active.</p>


<p style="margin-top: 1em">type=direct,source=IFACE[,source_mode=MODE]
<br>
Direct connect to host interface IFACE using macvtap.</p>

<p style="margin-top: 1em">user <br>
Connect to the LAN using SLIRP. Only use this if running a
QEMU guest as an unprivileged user. This provides a very
limited form of NAT.</p>

<p style="margin-top: 1em">none <br>
Tell virt-install not to add any default network
interface.</p>

<p style="margin-top: 1em">If this option is omitted a
single NIC will be created in the guest. If there is a
bridge device in the host with a physical interface
enslaved, that will be used for <br>
connectivity. Failing that, the virtual network called
&quot;default&quot; will be used. This option can be
specified multiple times to setup more than one NIC.</p>

<p style="margin-top: 1em">Other available options are:</p>

<p style="margin-top: 1em">model <br>
Network device model as seen by the guest. Value can be any
nic model supported by the hypervisor, e.g.:
&rsquo;e1000&rsquo;, &rsquo;rtl8139&rsquo;,
&rsquo;virtio&rsquo;, ...</p>

<p style="margin-top: 1em">mac Fixed MAC address for the
guest; If this parameter is omitted, or the value
&quot;RANDOM&quot; is specified a suitable address will be
randomly generated. For Xen virtual machines <br>
it is required that the first 3 pairs in the MAC address be
the sequence &rsquo;00:16:3e&rsquo;, while for QEMU or KVM
virtual machines it must be &rsquo;52:54:00&rsquo;.</p>

<p style="margin-top: 1em">filterref <br>
Controlling firewall and network filtering in libvirt. Value
can be any nwfilter defined by the &quot;virsh&quot;
&rsquo;nwfilter&rsquo; subcommands. Available filters can be
listed by running <br>
&rsquo;virsh nwfilter-list&rsquo;, e.g.:
&rsquo;clean-traffic&rsquo;, &rsquo;no-mac-spoofing&rsquo;,
...</p>

<p style="margin-top: 1em">virtualport_type <br>
The type of virtual port profile, one the following
values</p>

<p style="margin-top: 1em">&quot;802.Qbg&quot; <br>
The following additional parameters are accepted</p>

<p style="margin-top: 1em">virtualport_managerid <br>
The VSI Manager ID identifies the database containing the
VSI type and instance definitions. This is an integer value
and the value 0 is reserved.</p>

<p style="margin-top: 1em">virtualport_typeid <br>
The VSI Type ID identifies a VSI type characterizing the
network access. VSI types are typically managed by network
administrator. This is an integer value.</p>

<p style="margin-top: 1em">virtualport_typeidversion <br>
The VSI Type Version allows multiple versions of a VSI Type.
This is an integer value.</p>

<p style="margin-top: 1em">virtualport_instanceid <br>
The VSI Instance ID Identifier is generated when a VSI
instance (i.e. a virtual interface of a virtual machine) is
created. This is a globally unique identifier.</p>

<p style="margin-top: 1em">&quot;802.Qbh&quot; <br>
The following additional parameters are accepted</p>

<p style="margin-top: 1em">virtualport_profileid <br>
The profile ID contains the name of the port profile that is
to be applied to this interface. This name is resolved by
the port profile database into the network <br>
parameters from the port profile, and those network
parameters will be applied to this interface.</p>

<p style="margin-top: 1em">&quot;openvswitch&quot; <br>
The following additional parameters are accepted</p>

<p style="margin-top: 1em">virtualport_profileid <br>
The OpenVSwitch port profile for the interface</p>

<p style="margin-top: 1em">virtualport_interfaceid <br>
A UUID to uniquely identify the interface. If omitted one
will be generated automatically</p>

<p style="margin-top: 1em">&quot;midonet&quot; <br>
The following additional parameters are accepted</p>

<p style="margin-top: 1em">virtualport_interfaceid <br>
A UUID identifying the port in the network to which the
interface will be bound</p>

<p style="margin-top: 1em">Use --network=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsNICS&gt;</p>

<p style="margin-top: 1em">This option deprecates -m/--mac,
-b/--bridge, and --nonetworks</p>

<p style="margin-top: 1em">GRAPHICS OPTIONS <br>
If no graphics option is specified, &quot;virt-install&quot;
will try to select the appropriate graphics if the DISPLAY
environment variable is set, otherwise &rsquo;--graphics
none&rsquo; is used.</p>

<p style="margin-top: 1em">--graphics
TYPE,opt1=arg1,opt2=arg2,... <br>
Specifies the graphical display configuration. This does not
configure any virtual hardware, just how the guest&rsquo;s
graphical display can be accessed. Typically the user does
<br>
not need to specify this option, virt-install will try and
choose a useful default, and launch a suitable
connection.</p>

<p style="margin-top: 1em">General format of a graphical
string is</p>

<p style="margin-top: 1em">--graphics
TYPE,opt1=arg1,opt2=arg2,...</p>

<p style="margin-top: 1em">For example:</p>

<p style="margin-top: 1em">--graphics
vnc,password=foobar</p>

<p style="margin-top: 1em">The supported options are:</p>

<p style="margin-top: 1em">type <br>
The display type. This is one of:</p>

<p style="margin-top: 1em">vnc</p>

<p style="margin-top: 1em">Setup a virtual console in the
guest and export it as a VNC server in the host. Unless the
&quot;port&quot; parameter is also provided, the VNC server
will run on the first free <br>
port number at 5900 or above. The actual VNC display
allocated can be obtained using the &quot;vncdisplay&quot;
command to &quot;virsh&quot; (or virt-viewer(1) can be used
which handles this <br>
detail for the use).</p>

<p style="margin-top: 1em">spice</p>

<p style="margin-top: 1em">Export the guest&rsquo;s console
using the Spice protocol. Spice allows advanced features
like audio and USB device streaming, as well as improved
graphical performance.</p>

<p style="margin-top: 1em">Using spice graphic type will
work as if those arguments were given:</p>

<p style="margin-top: 1em">--video qxl --channel
spicevmc</p>

<p style="margin-top: 1em">none</p>

<p style="margin-top: 1em">No graphical console will be
allocated for the guest. Guests will likely need to have a
text console configured on the first serial port in the
guest (this can be done <br>
via the --extra-args option). The command &rsquo;virsh
console NAME&rsquo; can be used to connect to the serial
device.</p>

<p style="margin-top: 1em">port <br>
Request a permanent, statically assigned port number for the
guest console. This is used by &rsquo;vnc&rsquo; and
&rsquo;spice&rsquo;</p>

<p style="margin-top: 1em">tlsport <br>
Specify the spice tlsport.</p>

<p style="margin-top: 1em">listen <br>
Address to listen on for VNC/Spice connections. Default is
typically 127.0.0.1 (localhost only), but some hypervisors
allow changing this globally (for example, the qemu <br>
driver default can be changed in /etc/libvirt/qemu.conf).
Use 0.0.0.0 to allow access from other machines.</p>

<p style="margin-top: 1em">Use &rsquo;none&rsquo; to
specify that the display server should not listen on any
port. The display server can be accessed only locally
through libvirt unix socket (virt-viewer with <br>
--attach for instance).</p>

<p style="margin-top: 1em">Use &rsquo;socket&rsquo; to have
the VM listen on a libvirt generated unix socket path on the
host filesystem.</p>

<p style="margin-top: 1em">This is used by
&rsquo;vnc&rsquo; and &rsquo;spice&rsquo;</p>

<p style="margin-top: 1em">keymap <br>
Request that the virtual VNC console be configured to run
with a specific keyboard layout. If the special value
&rsquo;local&rsquo; is specified, virt-install will attempt
to <br>
configure to use the same keymap as the local system. A
value of &rsquo;none&rsquo; specifically defers to the
hypervisor. Default behavior is hypervisor specific, but
typically is <br>
the same as &rsquo;local&rsquo;. This is used by
&rsquo;vnc&rsquo;</p>

<p style="margin-top: 1em">password <br>
Request a VNC password, required at connection time. Beware,
this info may end up in virt-install log files, so
don&rsquo;t use an important password. This is used by
&rsquo;vnc&rsquo; and <br>
&rsquo;spice&rsquo;</p>

<p style="margin-top: 1em">gl Whether to use OpenGl
accelerated rendering. Value is &rsquo;yes&rsquo; or
&rsquo;no&rsquo;. This is used by &rsquo;spice&rsquo;.</p>

<p style="margin-top: 1em">Use --graphics=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsGraphics&gt;</p>

<p style="margin-top: 1em">This deprecates the following
options: --vnc, --vncport, --vnclisten, -k/--keymap, --sdl,
--nographics</p>

<p style="margin-top: 1em">--noautoconsole <br>
Don&rsquo;t automatically try to connect to the guest
console. The default behaviour is to launch virt-viewer(1)
to display the graphical console, or to run the
&quot;virsh&quot; &quot;console&quot; <br>
command to display the text console. Use of this parameter
will disable this behaviour.</p>

<p style="margin-top: 1em">VIRTUALIZATION OPTIONS <br>
Options to override the default virtualization type
choices.</p>

<p style="margin-top: 1em">-v <br>
--hvm <br>
Request the use of full virtualization, if both para &amp;
full virtualization are available on the host. This
parameter may not be available if connecting to a Xen
hypervisor on <br>
a machine without hardware virtualization support. This
parameter is implied if connecting to a QEMU based
hypervisor.</p>

<p style="margin-top: 1em">-p <br>
--paravirt <br>
This guest should be a paravirtualized guest. If the host
supports both para &amp; full virtualization, and neither
this parameter nor the &quot;--hvm&quot; are specified, this
will be <br>
assumed.</p>

<p style="margin-top: 1em">--container <br>
This guest should be a container type guest. This option is
only required if the hypervisor supports other guest types
as well (so for example this option is the default <br>
behavior for LXC and OpenVZ, but is provided for
completeness).</p>

<p style="margin-top: 1em">--virt-type <br>
The hypervisor to install on. Example choices are kvm, qemu,
or xen. Available options are listed via &rsquo;virsh
capabilities&rsquo; in the &lt;domain&gt; tags.</p>

<p style="margin-top: 1em">This deprecates the --accelerate
option, which is now the default behavior. To install a
plain QEMU guest, use &rsquo;--virt-type qemu&rsquo;</p>

<p style="margin-top: 1em">DEVICE OPTIONS <br>
All devices have a set of address.* options for configuring
the particulars of the device&rsquo;s address on its parent
controller or bus. See <br>

&quot;http://libvirt.org/formatdomain.html#elementsAddress&quot;
for details.</p>

<p style="margin-top: 1em">--controller OPTIONS <br>
Attach a controller device to the guest. TYPE is one of:
ide, fdc, scsi, sata, virtio-serial, or usb.</p>

<p style="margin-top: 1em">Controller also supports the
special values usb2 and usb3 to specify which version of the
USB controller should be used (version 2 or 3).</p>

<p style="margin-top: 1em">model <br>
Controller model. These may vary according to the hypervisor
and its version. Most commonly used models are e.g. auto,
virtio-scsi for the scsi controller, ehci or none <br>
for the usb controller. For full list and further details on
controllers/models, see
&quot;http://libvirt.org/formatdomain.html#elementsControllers&quot;.</p>

<p style="margin-top: 1em">address <br>
Shorthand for setting a manual PCI address from an lscpi
style string. The preferred method for setting this is using
the address.* parameters.</p>

<p style="margin-top: 1em">index <br>
A decimal integer describing in which order the bus
controller is encountered, and to reference the controller
bus.</p>

<p style="margin-top: 1em">master <br>
Applicable to USB companion controllers, to define the
master bus startport.</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">--controller
usb,model=ich9-ehci1,address=0:0:4.0,index=0 <br>
Adds a ICH9 EHCI1 USB controller on PCI address 0:0:4.0</p>

<p style="margin-top: 1em">--controller
usb,model=ich9-uhci2,address=0:0:4.7,index=0,master=2 <br>
Adds a ICH9 UHCI2 USB companion controller for the previous
master controller, ports start from port number 2.</p>

<p style="margin-top: 1em">The parameter
multifunction=&rsquo;on&rsquo; will be added automatically
to the proper device (if needed). This applies to all PCI
devices.</p>

<p style="margin-top: 1em">Use --controller=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsControllers&gt;</p>

<p style="margin-top: 1em">--input OPTIONS <br>
Attach an input device to the guest. Example input device
types are mouse, tablet, or keyboard.</p>

<p style="margin-top: 1em">Use --input=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsInput&gt;</p>

<p style="margin-top: 1em">--hostdev OPTIONS <br>
--host-device OPTIONS <br>
Attach a physical host device to the guest. Some example
values for HOSTDEV:</p>

<p style="margin-top: 1em">--hostdev pci_0000_00_1b_0 <br>
A node device name via libvirt, as shown by &rsquo;virsh
nodedev-list&rsquo;</p>

<p style="margin-top: 1em">--hostdev 001.003 <br>
USB by bus, device (via lsusb).</p>

<p style="margin-top: 1em">--hostdev 0x1234:0x5678 <br>
USB by vendor, product (via lsusb).</p>

<p style="margin-top: 1em">--hostdev 1f.01.02 <br>
PCI device (via lspci).</p>

<p style="margin-top: 1em">Use --hostdev=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsHostDev&gt;</p>

<p style="margin-top: 1em">--sound MODEL <br>
Attach a virtual audio device to the guest. MODEL specifies
the emulated sound card model. Possible values are ich6,
ich9, ac97, es1370, sb16, pcspk, or default.
&rsquo;default&rsquo; <br>
will try to pick the best model that the specified OS
supports.</p>

<p style="margin-top: 1em">This deprecates the old
--soundhw option.</p>

<p style="margin-top: 1em">Use --sound=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsSound&gt;</p>

<p style="margin-top: 1em">--watchdog MODEL[,action=ACTION]
<br>
Attach a virtual hardware watchdog device to the guest. This
requires a daemon and device driver in the guest. The
watchdog fires a signal when the virtual machine appears to
<br>
hung. ACTION specifies what libvirt will do when the
watchdog fires. Values are</p>

<p style="margin-top: 1em">reset <br>
Forcefully reset the guest (the default)</p>

<p style="margin-top: 1em">poweroff <br>
Forcefully power off the guest</p>

<p style="margin-top: 1em">pause <br>
Pause the guest</p>

<p style="margin-top: 1em">none <br>
Do nothing</p>

<p style="margin-top: 1em">shutdown <br>
Gracefully shutdown the guest (not recommended, since a hung
guest probably won&rsquo;t respond to a graceful
shutdown)</p>

<p style="margin-top: 1em">MODEL is the emulated device
model: either i6300esb (the default) or ib700. Some
examples:</p>

<p style="margin-top: 1em">Use the recommended
settings:</p>

<p style="margin-top: 1em">--watchdog default</p>

<p style="margin-top: 1em">Use the i6300esb with the
&rsquo;poweroff&rsquo; action</p>

<p style="margin-top: 1em">--watchdog
i6300esb,action=poweroff</p>

<p style="margin-top: 1em">Use --watchdog=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsWatchdog&gt;</p>

<p style="margin-top: 1em">--parallel OPTIONS <br>
--serial OPTIONS <br>
Specifies a serial device to attach to the guest, with
various options. The general format of a serial string
is</p>

<p style="margin-top: 1em">--serial
type,opt1=val1,opt2=val2,...</p>

<p style="margin-top: 1em">--serial and --parallel devices
share all the same options, unless otherwise noted. Some of
the types of character device redirection are:</p>

<p style="margin-top: 1em">--serial pty <br>
Pseudo TTY. The allocated pty will be listed in the running
guests XML description.</p>

<p style="margin-top: 1em">--serial dev,path=HOSTPATH <br>
Host device. For serial devices, this could be /dev/ttyS0.
For parallel devices, this could be /dev/parport0.</p>

<p style="margin-top: 1em">--serial file,path=FILENAME <br>
Write output to FILENAME.</p>

<p style="margin-top: 1em">--serial pipe,path=PIPEPATH <br>
Named pipe (see pipe(7))</p>

<p style="margin-top: 1em">--serial
tcp,host=HOST:PORT,mode=MODE,protocol=PROTOCOL <br>
TCP net console. MODE is either &rsquo;bind&rsquo; (wait for
connections on HOST:PORT) or &rsquo;connect&rsquo; (send
output to HOST:PORT), default is &rsquo;bind&rsquo;. HOST
defaults to &rsquo;127.0.0.1&rsquo;, but <br>
PORT is required. PROTOCOL can be either &rsquo;raw&rsquo;
or &rsquo;telnet&rsquo; (default &rsquo;raw&rsquo;). If
&rsquo;telnet&rsquo;, the port acts like a telnet server or
client. Some examples:</p>

<p style="margin-top: 1em">Wait for connections on any
address, port 4567:</p>

<p style="margin-top: 1em">--serial
tcp,host=0.0.0.0:4567</p>

<p style="margin-top: 1em">Connect to localhost, port
1234:</p>

<p style="margin-top: 1em">--serial
tcp,host=:1234,mode=connect</p>

<p style="margin-top: 1em">Wait for telnet connection on
localhost, port 2222. The user could then connect
interactively to this console via &rsquo;telnet localhost
2222&rsquo;:</p>

<p style="margin-top: 1em">--serial
tcp,host=:2222,mode=bind,protocol=telnet</p>

<p style="margin-top: 1em">--serial
udp,host=CONNECT_HOST:PORT,bind_host=BIND_HOST:BIND_PORT
<br>
UDP net console. HOST:PORT is the destination to send output
to (default HOST is &rsquo;127.0.0.1&rsquo;, PORT is
required). BIND_HOST:BIND_PORT is the optional local address
to bind <br>
to (default BIND_HOST is 127.0.0.1, but is only set if
BIND_PORT is specified). Some examples:</p>

<p style="margin-top: 1em">Send output to default syslog
port (may need to edit /etc/rsyslog.conf accordingly):</p>

<p style="margin-top: 1em">--serial udp,host=:514</p>

<p style="margin-top: 1em">Send output to remote host
192.168.10.20, port 4444 (this output can be read on the
remote host using &rsquo;nc -u -l 4444&rsquo;):</p>

<p style="margin-top: 1em">--serial
udp,host=192.168.10.20:4444</p>

<p style="margin-top: 1em">--serial
unix,path=UNIXPATH,mode=MODE <br>
Unix socket, see unix(7). MODE has similar behavior and
defaults as --serial tcp,mode=MODE</p>

<p style="margin-top: 1em">Use --serial=? or --parallel=?
to see a list of all available sub options. Complete details
at
&lt;http://libvirt.org/formatdomain.html#elementsCharSerial&gt;
and <br>

&lt;http://libvirt.org/formatdomain.html#elementsCharParallel&gt;</p>

<p style="margin-top: 1em">--channel <br>
Specifies a communication channel device to connect the
guest and host machine. This option uses the same options as
--serial and --parallel for specifying the host/source <br>
end of the channel. Extra &rsquo;target&rsquo; options are
used to specify how the guest machine sees the channel.</p>

<p style="margin-top: 1em">Some of the types of character
device redirection are:</p>

<p style="margin-top: 1em">--channel
SOURCE,target_type=guestfwd,target_address=HOST:PORT <br>
Communication channel using QEMU usermode networking stack.
The guest can connect to the channel using the specified
HOST:PORT combination.</p>

<p style="margin-top: 1em">--channel
SOURCE,target_type=virtio[,name=NAME] <br>
Communication channel using virtio serial (requires 2.6.34
or later host and guest). Each instance of a virtio
--channel line is exposed in the guest as /dev/vport0p1,
<br>
/dev/vport0p2, etc. NAME is optional metadata, and can be
any string, such as org.linux-kvm.virtioport1. If specified,
this will be exposed in the guest at <br>
/sys/class/virtio-ports/vport0p1/NAME</p>

<p style="margin-top: 1em">--channel
spicevmc,target_type=virtio[,name=NAME] <br>
Communication channel for QEMU spice agent, using virtio
serial (requires 2.6.34 or later host and guest). NAME is
optional metadata, and can be any string, such as the <br>
default com.redhat.spice.0 that specifies how the guest will
see the channel.</p>

<p style="margin-top: 1em">Use --channel=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCharChannel&gt;</p>

<p style="margin-top: 1em">--console <br>
Connect a text console between the guest and host. Certain
guest and hypervisor combinations can automatically set up a
getty in the guest, so an out of the box text login <br>
can be provided (target_type=xen for xen paravirt guests,
and possibly target_type=virtio in the future).</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">--console pty,target_type=virtio
<br>
Connect a virtio console to the guest, redirected to a PTY
on the host. For supported guests, this exposes /dev/hvc0 in
the guest. See <br>
http://fedoraproject.org/wiki/Features/VirtioSerial for more
info. virtio console requires libvirt 0.8.3 or later.</p>

<p style="margin-top: 1em">Use --console=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsCharConsole&gt;</p>

<p style="margin-top: 1em">--video OPTIONS <br>
Specify what video device model will be attached to the
guest. Valid values for VIDEO are hypervisor specific, but
some options for recent kvm are cirrus, vga, qxl, virtio,
<br>
or vmvga (vmware).</p>

<p style="margin-top: 1em">Use --video=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsVideo&gt;</p>

<p style="margin-top: 1em">--smartcard MODE[,OPTIONS] <br>
Configure a virtual smartcard device.</p>

<p style="margin-top: 1em">Mode is one of host,
host-certificates, or passthrough. Additional options
are:</p>

<p style="margin-top: 1em">type <br>
Character device type to connect to on the host. This is
only applicable for passthrough mode.</p>

<p style="margin-top: 1em">An example invocation:</p>

<p style="margin-top: 1em">--smartcard
passthrough,type=spicevmc <br>
Use the smartcard channel of a SPICE graphics device to pass
smartcard info to the guest</p>

<p style="margin-top: 1em">Use --smartcard=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsSmartcard&gt;</p>

<p style="margin-top: 1em">--redirdev BUS[,OPTIONS] <br>
Add a redirected device.</p>

<p style="margin-top: 1em">type <br>
The redirection type, currently supported is tcp or
spicevmc.</p>

<p style="margin-top: 1em">server <br>
The TCP server connection details, of the form
&rsquo;server:port&rsquo;.</p>

<p style="margin-top: 1em">Examples of invocation:</p>

<p style="margin-top: 1em">--redirdev
usb,type=tcp,server=localhost:4000 <br>
Add a USB redirected device provided by the TCP server on
&rsquo;localhost&rsquo; port 4000.</p>

<p style="margin-top: 1em">--redirdev usb,type=spicevmc
<br>
Add a USB device redirected via a dedicated Spice
channel.</p>

<p style="margin-top: 1em">Use --redirdev=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsRedir&gt;</p>

<p style="margin-top: 1em">--memballoon MODEL <br>
Attach a virtual memory balloon device to the guest. If the
memballoon device needs to be explicitly disabled,
MODEL=&rsquo;none&rsquo; is used.</p>

<p style="margin-top: 1em">MODEL is the type of memballoon
device provided. The value can be &rsquo;virtio&rsquo;,
&rsquo;xen&rsquo; or &rsquo;none&rsquo;. Some examples:</p>

<p style="margin-top: 1em">Use the recommended
settings:</p>

<p style="margin-top: 1em">--memballoon virtio</p>

<p style="margin-top: 1em">Do not use memballoon
device:</p>

<p style="margin-top: 1em">--memballoon none</p>

<p style="margin-top: 1em">Use --memballoon=? to see a list
of all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsMemBalloon&gt;</p>

<p style="margin-top: 1em">--tpm TYPE[,OPTIONS] <br>
Configure a virtual TPM device.</p>

<p style="margin-top: 1em">Type must be passthrough.
Additional options are:</p>

<p style="margin-top: 1em">model <br>
The device model to present to the guest operating system.
Model must be tpm-tis.</p>

<p style="margin-top: 1em">An example invocation:</p>

<p style="margin-top: 1em">--tpm passthrough,model=tpm-tis
<br>
Make the host&rsquo;s TPM accessible to a single guest.</p>

<p style="margin-top: 1em">--tpm /dev/tpm <br>
Convenience option for passing through the hosts TPM.</p>

<p style="margin-top: 1em">Use --tpm=? to see a list of all
available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsTpm&gt;</p>

<p style="margin-top: 1em">--rng TYPE[,OPTIONS] <br>
Configure a virtual RNG device.</p>

<p style="margin-top: 1em">Type can be random or egd.</p>

<p style="margin-top: 1em">If the specified type is random
then these values must be specified:</p>

<p style="margin-top: 1em">backend_device <br>
The device to use as a source of entropy.</p>

<p style="margin-top: 1em">Whereas, when the type is egd,
these values must be provided:</p>

<p style="margin-top: 1em">backend_host <br>
Specify the host of the Entropy Gathering Daemon to connect
to.</p>

<p style="margin-top: 1em">backend_service <br>
Specify the port of the Entropy Gathering Daemon to connect
to.</p>

<p style="margin-top: 1em">backend_type <br>
Specify the type of the connection: tcp or udp.</p>

<p style="margin-top: 1em">backend_mode <br>
Specify the mode of the connection. It is either
&rsquo;bind&rsquo; (wait for connections on HOST:PORT) or
&rsquo;connect&rsquo; (send output to HOST:PORT).</p>

<p style="margin-top: 1em">backend_connect_host <br>
Specify the remote host to connect to when the specified
backend_type is udp and backend_mode is bind.</p>

<p style="margin-top: 1em">backend_connect_service <br>
Specify the remote service to connect to when the specified
backend_type is udp and backend_mode is bind.</p>

<p style="margin-top: 1em">An example invocation:</p>

<p style="margin-top: 1em">--rng
egd,backend_host=localhost,backend_service=8000,backend_type=tcp
<br>
Connect to localhost to the TCP port 8000 to get entropy
data.</p>

<p style="margin-top: 1em">--rng /dev/random <br>
Use the /dev/random device to get entropy data, this form
implicitly uses the &quot;random&quot; model.</p>

<p style="margin-top: 1em">Use --rng=? to see a list of all
available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsRng&gt;</p>

<p style="margin-top: 1em">--panic OPTS <br>
Attach a panic notifier device to the guest. For the
recommended settings, use:</p>

<p style="margin-top: 1em">--panic default</p>

<p style="margin-top: 1em">Use --panic=? to see a list of
all available sub options. Complete details at
&lt;http://libvirt.org/formatdomain.html#elementsPanic&gt;</p>

<p style="margin-top: 1em">MISCELLANEOUS OPTIONS <br>
-h <br>
--help <br>
Show the help message and exit</p>

<p style="margin-top: 1em">--version <br>
Show program&rsquo;s version number and exit</p>

<p style="margin-top: 1em">--autostart <br>
Set the autostart flag for a domain. This causes the domain
to be started on host boot up.</p>

<p style="margin-top: 1em">--transient <br>
Use --import or --boot and --transient if you want a
transient libvirt VM. These VMs exist only until the domain
is shut down or the host server is restarted. Libvirt <br>
forgets the XML configuration of the VM after either of
these events. Note that the VM&rsquo;s disks will not be
deleted. See: <br>

&lt;http://wiki.libvirt.org/page/VM_lifecycle#Transient_guest_domains_vs_Persistent_guest_domains&gt;</p>

<p style="margin-top: 1em">--print-xml [STEP] <br>
Print the generated XML of the guest, instead of defining
it. By default this WILL do storage creation (can be
disabled with --dry-run). This option implies --quiet.</p>

<p style="margin-top: 1em">If the VM install has multiple
phases, by default this will print all generated XML. If you
want to print a particular step, use --print-xml 2 (for the
second phase XML).</p>

<p style="margin-top: 1em">--noreboot <br>
Prevent the domain from automatically rebooting after the
install has completed.</p>

<p style="margin-top: 1em">--wait WAIT <br>
Amount of time to wait (in minutes) for a VM to complete its
install. Without this option, virt-install will wait for the
console to close (not necessarily indicating the <br>
guest has shutdown), or in the case of --noautoconsole,
simply kick off the install and exit. Any negative value
will make virt-install wait indefinitely, a value of 0 <br>
triggers the same results as noautoconsole. If the time
limit is exceeded, virt-install simply exits, leaving the
virtual machine in its current state.</p>

<p style="margin-top: 1em">--dry-run <br>
Proceed through the guest creation process, but do NOT
create storage devices, change host device configuration, or
actually teach libvirt about the guest. virt-install may
<br>
still fetch install media, since this is required to
properly detect the OS to install.</p>

<p style="margin-top: 1em">--check <br>
Enable or disable some validation checks. Some examples are
warning about using a disk that&rsquo;s already assigned to
another VM (--check path_in_use=on|off), or warning about
<br>
potentially running out of space during disk allocation
(--check disk_size=on|off). Most checks are performed by
default.</p>

<p style="margin-top: 1em">-q <br>
--quiet <br>
Only print fatal error messages.</p>

<p style="margin-top: 1em">-d <br>
--debug <br>
Print debugging information to the terminal when running the
install process. The debugging information is also stored in
&quot;~/.cache/virt-manager/virt-install.log&quot; even if
<br>
this parameter is omitted.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Install a Fedora 9 plain QEMU guest, using LVM partition,
virtual networking, booting from PXE, using VNC
server/viewer, with virtio-scsi disk</p>

<p style="margin-top: 1em"># virt-install --connect
qemu:///system --name demo --memory 500 --disk
path=/dev/HostVG/DemoVM,bus=scsi --controller virtio-scsi
--network network=default --virt-type qemu <br>
--graphics vnc --os-variant fedora9</p>

<p style="margin-top: 1em">Run a Live CD image under Xen
fullyvirt, in diskless environment</p>

<p style="margin-top: 1em"># virt-install --hvm --name demo
--memory 500 --disk none --livecd --graphics vnc --cdrom
/root/fedora7live.iso</p>

<p style="margin-top: 1em">Run /usr/bin/httpd in a linux
container guest (LXC). Resource usage is capped at 512 MiB
of ram and 2 host cpus:</p>

<p style="margin-top: 1em"># virt-install --connect lxc:///
--name httpd_guest --memory 512 --vcpus 2 --init
/usr/bin/httpd</p>

<p style="margin-top: 1em">Start a linux container
guest(LXC) with a private root filesystem, using /bin/sh as
init. Container&rsquo;s root will be under host dir
/home/LXC. The host dir &quot;/home/test&quot; will be <br>
mounted at &quot;/mnt&quot; dir inside container:</p>

<p style="margin-top: 1em"># virt-install --connect lxc:///
--name container --memory 128 --filesystem /home/LXC,/
--filesystem /home/test,/mnt --init /bin/sh</p>

<p style="margin-top: 1em">Install a paravirtualized Xen
guest, 500 MiB of RAM, a 5 GiB of disk, and Fedora Core 6
from a web server, in text-only mode, with old style --file
options:</p>

<p style="margin-top: 1em"># virt-install --paravirt --name
demo --memory 500 --disk /var/lib/xen/images/demo.img,size=6
--graphics none --location
http://download.fedora.redhat.com/pub/fedora/linux/core/6/x86_64/os/</p>

<p style="margin-top: 1em">Create a guest from an existing
disk image &rsquo;mydisk.img&rsquo; using defaults for the
rest of the options.</p>

<p style="margin-top: 1em"># virt-install --name demo
--memory 512 --disk /home/user/VMs/mydisk.img --import</p>

<p style="margin-top: 1em">Start serial QEMU ARM VM, which
requires specifying a manual kernel.</p>

<p style="margin-top: 1em"># virt-install --name armtest
--memory 1024 --arch armv7l --machine vexpress-a9 --disk
/home/user/VMs/myarmdisk.img --boot
kernel=/tmp/my-arm-kernel,initrd=/tmp/my-arm-initrd,dtb=/tmp/my-arm-dtb,kernel_args=&quot;console=ttyAMA0
rw root=/dev/mmcblk0p3&quot; --graphics none</p>

<p style="margin-top: 1em">BUGS <br>
Please see http://virt-manager.org/page/BugReporting</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) Red Hat, Inc, and various contributors. This
is free software. You may redistribute copies of it under
the terms of the GNU General Public License <br>
&quot;http://www.gnu.org/licenses/gpl.html&quot;. There is
NO WARRANTY, to the extent permitted by law.</p>

<p style="margin-top: 1em">SEE ALSO <br>
virsh(1), &quot;virt-clone(1)&quot;,
&quot;virt-manager(1)&quot;, the project website
&quot;http://virt-manager.org&quot;</p>

<p style="margin-top: 1em">1.4.0 2016-11-12
VIRT-INSTALL(1)</p>
<hr>
</body>
</html>
