<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:00:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>COPR-CLI(1) COPR COPR-CLI(1)</p>

<p style="margin-top: 1em">NAME <br>
copr-cli - command line interface for the Copr service</p>

<p style="margin-top: 1em">SYNOPSIS <br>
copr-cli [-h] [--version] [--config CONFIG]
{list,create,build} ...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This command allows you to interact with the Copr service
from the command line.</p>

<p style="margin-top: 1em">You need to generate an API key
first (see the API KEY section below).</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help <br>
show this help message and exit</p>

<p style="margin-top: 1em">--version <br>
show the program&acirc;s version number and exit</p>

<p style="margin-top: 1em">--config <br>
path to an alternative configuration file (default is
~/.config/copr).</p>

<p style="margin-top: 1em">ACTION LIST <br>
list [username|@groupname] <br>
List all the projects of the provided username. If no
username is provided, then your projects are listed.</p>

<p style="margin-top: 1em">create <br>
Create a new project.</p>

<p style="margin-top: 1em">delete <br>
Delete an entire project.</p>

<p style="margin-top: 1em">build <br>
Build packages for a specified project.</p>

<p style="margin-top: 1em">status <br>
Get the status of the build.</p>

<p style="margin-top: 1em">cancel <br>
Cancel a build of given id.</p>

<p style="margin-top: 1em">download-build <br>
Download a build to local directory.</p>

<p style="margin-top: 1em">modify <br>
Modify existing copr</p>

<p style="margin-top: 1em">add-package-* <br>
Add a new package of the specified source type (e.g.
add-package-tito)</p>

<p style="margin-top: 1em">edit-package-* <br>
Edit source definition and type of an existing package (e.g.
edit-package-tito)</p>

<p style="margin-top: 1em">list-packages <br>
List all packages from a copr in json format</p>

<p style="margin-top: 1em">list-package-names <br>
Output just the package names from the given copr</p>

<p style="margin-top: 1em">get-package <br>
Display details of a single package in json format</p>

<p style="margin-top: 1em">delete-package <br>
Remove package from a copr and all its builds as well</p>

<p style="margin-top: 1em">reset-package <br>
Clear source definition of a package and its source type</p>

<p style="margin-top: 1em">build-package <br>
Build package from its source definition</p>

<p style="margin-top: 1em">mock-config <br>
Get the mock profile (similar to koji mock-config)</p>

<p style="margin-top: 1em">build-module <br>
Build module via Copr MB</p>

<p style="margin-top: 1em">PROJECT ACTIONS <br>
copr-cli create [options] <br>
usage: copr-cli create [-h] --chroot CHROOTS [--repo REPOS]
[--initial-pkgs PKGS] [--description DESCRIPTION]
[--instructions INSTRUCTIONS] [--disable_createrepo <br>
DISABLE_CREATEREPO] [--enable-net {on,off}]
[--unlisted-on-hp {on,off}] [--persistent] [--auto-prune
{on,off}] name</p>

<p style="margin-top: 1em">--chroot <br>
Chroot to use for this project. Can be specified multiple
times, but at least one must be present.</p>

<p style="margin-top: 1em">--repo <br>
Repository to add to this project. Can be specified multiple
times.</p>

<p style="margin-top: 1em">--initial-pkgs <br>
List of packages to build in this new project. Can be
specified multiple times.</p>

<p style="margin-top: 1em">--description <br>
Description of the project.</p>

<p style="margin-top: 1em">--instructions <br>
Instructions for the project.</p>

<p style="margin-top: 1em">--disable_createrepo <br>
Disables automatic repository metadata generation. Accepted
values for DISABLE_CREATEREPO: true/false.</p>

<p style="margin-top: 1em">--enable-net <br>
If net should be enabled for builds in this project.</p>

<p style="margin-top: 1em">--unlisted-on-hp <br>
This project will not be listed on COPR home page.</p>

<p style="margin-top: 1em">--persistent <br>
Project and its builds will be undeletable. This option can
only be specified by a COPR admin.</p>

<p style="margin-top: 1em">--auto-prune <br>
If backend auto-prunning script should be run for this
project. This option can only be specified by a COPR
admin.</p>

<p style="margin-top: 1em">name <br>
Can be just name of the project or in form
username/projectname or @groupname/projectname.</p>

<p style="margin-top: 1em">copr-cli modify [options] <br>
usage: copr-cli modify [-h] [--repo REPOS] [--description
DESCRIPTION] [--instructions INSTRUCTIONS]
[--disable_createrepo DISABLE_CREATEREPO] [--enable-net
{on,off}] <br>
[--unlisted-on-hp {on,off}] [--auto-prune {on,off}] name</p>

<p style="margin-top: 1em">Alters only specified project
property.</p>

<p style="margin-top: 1em">--repo <br>
Repository to add to this project. Can be specified multiple
times.</p>

<p style="margin-top: 1em">--description <br>
Description of the project.</p>

<p style="margin-top: 1em">--instructions <br>
Instructions for the project.</p>

<p style="margin-top: 1em">--disable_createrepo <br>
Disables automatic repository metadata generation. Accepted
values for DISABLE_CREATEREPO: true/false.</p>

<p style="margin-top: 1em">--enable-net <br>
If net should be enabled for builds in this project.</p>

<p style="margin-top: 1em">--unlisted-on-hp <br>
This project will not be listed on COPR home page.</p>

<p style="margin-top: 1em">--auto-prune <br>
If backend auto-prunning script should be run for this
project. This option can only be specified by a COPR
admin.</p>

<p style="margin-top: 1em">name <br>
Can be just name of the project or in form
username/projectname or @groupname/projectname.</p>

<p style="margin-top: 1em">BUILD ACTIONS <br>
copr-cli build [options] <br>
usage: copr-cli build [-h] [-r, --chroot CHROOTS] [--memory
MEMORY] [--timeout TIMEOUT] [--nowait] [--background]
project PKG [PKG ...]</p>

<p style="margin-top: 1em">-r, --chroot <br>
If you don&acirc;t need this build for all the
project&acirc;s chroots. You can use it several times for
each chroot you need.</p>

<p style="margin-top: 1em">--memory <br>
Override memory for this build. This is actually not used
and it have no effect.</p>

<p style="margin-top: 1em">--timeout <br>
Override timeout for this build. This is actually not used
and it have no effect.</p>

<p style="margin-top: 1em">--nowait <br>
Don&acirc;t wait for build completion.</p>

<p style="margin-top: 1em">--background <br>
Run the build at a lower priority.</p>

<p style="margin-top: 1em">project <br>
The project build the package in. This can be a simple name
of some of your projects. Alternatively, you can specify it
as username/project or @groupname/project. This way <br>
you can build into the project of another user or group,
provided you have the permissions to do so.</p>

<p style="margin-top: 1em">PKG <br>
This can be either file on your local workstation or URL of
the package to build. When URL is used, then the package
must be placed on a public web or ftp server. Note that <br>
you cannot combine local file paths and URLs in one command
line and local-file builds are limited to the first
specified PKG. This limitation comes from the COPR API.</p>

<p style="margin-top: 1em">copr-cli buildpypi [options]
<br>
usage: copr buildpypi [-h] [-r, --chroot CHROOTS] [--memory
MEMORY] [--timeout TIMEOUT] [--nowait] [--background]
[--pythonversions [VERSION [VERSION ...]]] [--packageversion
<br>
PYPIVERSION] --packagename PYPINAME project</p>

<p style="margin-top: 1em">--pythonversions [VERSION
[VERSION ...]] <br>
For what Python versions to build (by default: 3 2)</p>

<p style="margin-top: 1em">--packageversion PYPIVERSION
<br>
Version of the PyPI package to be built (by default
latest)</p>

<p style="margin-top: 1em">--packagename PYPINAME <br>
Name of the PyPI package to be built, required.</p>

<p style="margin-top: 1em">For the rest of the arguments,
see copr-cli build command above.</p>

<p style="margin-top: 1em">copr-cli buildtito [options]
<br>
usage: copr buildtito [-h] [--memory MEMORY] [--timeout
TIMEOUT] [--nowait] [--background] [-r CHROOTS] [--git-url
URL] [--git-dir DIRECTORY] [--git-branch BRANCH] [--test]
<br>
project</p>

<p style="margin-top: 1em">--git-url URL <br>
Url to a project managed by Tito, required.</p>

<p style="margin-top: 1em">--git-dir DIRECTORY <br>
Relative path from Git root to directory containing .spec
file.</p>

<p style="margin-top: 1em">--git-branch BRANCH <br>
Checokut specific branch on the repository.</p>

<p style="margin-top: 1em">--test <br>
To build from the last commit instead of the last release
tag.</p>

<p style="margin-top: 1em">For the rest of the arguments,
see copr-cli build command above.</p>

<p style="margin-top: 1em">copr-cli buildmock [options]
<br>
usage: copr buildmock [-h] [--memory MEMORY] [--timeout
TIMEOUT] [--nowait] [--background] [-r CHROOTS] [--scm-type
TYPE] [--scm-url URL] [--scm-branch BRANCH] [--spec FILE]
<br>
project</p>

<p style="margin-top: 1em">--scm-type TYPE <br>
Specify versioning tool, default is git.</p>

<p style="margin-top: 1em">--scm-url URL <br>
Url to a project versioned by Git or SVN, required.</p>

<p style="margin-top: 1em">--scm-branch BRANCH <br>
Checokut specific branch on the repository.</p>

<p style="margin-top: 1em">--spec FILE <br>
Relative path from SCM root to .spec file, required.</p>

<p style="margin-top: 1em">For the rest of the arguments,
see copr-cli build command above.</p>

<p style="margin-top: 1em">copr-cli buildfedpkg [options]
<br>
usage: copr buildfedpkg [-h] [--memory MEMORY] [--timeout
TIMEOUT] [--nowait] [--background] [-r CHROOTS] [--clone-url
URL] [--branch BRANCH] project</p>

<p style="margin-top: 1em">--clone-url URL <br>
Specify clone url to the dist-git project on
pkgs.fedoraproject.org.</p>

<p style="margin-top: 1em">--branch BRANCH <br>
Specify branch in the dist-git project to be be built
from.</p>

<p style="margin-top: 1em">For the rest of the arguments,
see copr-cli build command above.</p>

<p style="margin-top: 1em">copr-cli download-build
[options] <br>
usage: copr-cli download-build [-h] [-d, --dest DESTINATION]
[-r, --chroot CHROOT] build_id</p>

<p style="margin-top: 1em">build_id <br>
Download built packages for build identified by
build_id.</p>

<p style="margin-top: 1em">-d, --dest, -r, --chroot <br>
Fetch only selected chroots. Can be specified multiple
times. EXAMPLES <br>
copr-cli build myproject some.src.rpm <br>
copr-cli build someone_else/project some.src.rpm <br>
copr-cli build -r fedora-24-x86_64 -r fedora-24-i386
&quot;@somegroup/project&quot; some.src.rpm</p>

<p style="margin-top: 1em">CHROOT ACTIONS <br>
copr-cli edit-chroot [options] coprchroot <br>
usage: copr edit-chroot [-h] [--upload-comps FILEPATH |
--delete-comps] [--packages PACKAGES] [--repos REPOS]
coprchroot</p>

<p style="margin-top: 1em">Edit the specified
coprchroot.</p>

<p style="margin-top: 1em">coprchroot <br>
Path to a project chroot as owner/project/chroot or
project/chroot</p>

<p style="margin-top: 1em">--upload-comps FILEPATH <br>
Filepath to the comps.xml file to be uploaded</p>

<p style="margin-top: 1em">--delete-comps <br>
Deletes already existing comps.xml for the chroot</p>

<p style="margin-top: 1em">--packages PACKAGES <br>
space separated string of package names to be added to
buildroot (e.g. &quot;gcc ghc&quot;)</p>

<p style="margin-top: 1em">--repos REPOS <br>
space separated string of additional repo urls for chroot
(e.g. &quot;http://foo http://bar&quot;)</p>

<p style="margin-top: 1em">copr-cli get-chroot coprchroot
<br>
usage: copr get-chroot [-h] coprchroot</p>

<p style="margin-top: 1em">Print info of the given
chroot.</p>

<p style="margin-top: 1em">coprchroot <br>
Path to a project chroot as owner/project/chroot or
project/chroot</p>

<p style="margin-top: 1em">PACKAGE ACTIONS <br>
copr-cli add-package-tito [options] <br>
usage: copr add-package-tito [-h] --git-url URL [--git-dir
DIRECTORY] [--git-branch BRANCH] [--test {on,off}] --name
PKGNAME [--webhook-rebuild {on,off}] project</p>

<p style="margin-top: 1em">Add package of Tito source
type.</p>

<p style="margin-top: 1em">--git-url URL <br>
URL to a project managed by Tito</p>

<p style="margin-top: 1em">--git-dir DIRECTORY <br>
Relative path from Git root to directory containing .spec
file</p>

<p style="margin-top: 1em">--git-branch BRANCH <br>
Git branch that you want to build from</p>

<p style="margin-top: 1em">--test {on,off} <br>
Build the last commit instead of the last release tag</p>

<p style="margin-top: 1em">--name PKGNAME <br>
Name of the package to be edited or created</p>

<p style="margin-top: 1em">--webhook-rebuild {on,off} <br>
Enable auto-rebuilding.</p>

<p style="margin-top: 1em">copr-cli edit-package-tito
[options] <br>
usage: copr edit-package-tito [-h] --git-url URL [--git-dir
DIRECTORY] [--git-branch BRANCH] [--test {on,off}] --name
PKGNAME [--webhook-rebuild {on,off}] project</p>

<p style="margin-top: 1em">Edit source definition and type
of an existing package. Options are shared with
add-package-tito.</p>

<p style="margin-top: 1em">copr-cli add-package-pypi
[options] <br>
usage: copr add-package-pypi [-h] [--pythonversions [VERSION
[VERSION ...]]] [--packageversion PYPIVERSION] --packagename
PYPINAME --name PKGNAME [--webhook-rebuild {on,off}] <br>
project</p>

<p style="margin-top: 1em">Add package of PyPI source
type.</p>

<p style="margin-top: 1em">--pythonversions [VERSION
[VERSION ...]] <br>
For what Python versions to build (by default: 3 2)</p>

<p style="margin-top: 1em">--packageversion PYPIVERSION
<br>
Version of the PyPI package to be built (by default
latest)</p>

<p style="margin-top: 1em">--packagename PYPINAME <br>
Name of the PyPI package to be built, required</p>

<p style="margin-top: 1em">--name PKGNAME <br>
Name of the package to be edited or created</p>

<p style="margin-top: 1em">--webhook-rebuild {on,off} <br>
Enable auto-rebuilding</p>

<p style="margin-top: 1em">copr-cli edit-package-pypi
[options] <br>
usage: copr edit-package-pypi [-h] [--pythonversions
[VERSION [VERSION ...]]] [--packageversion PYPIVERSION]
--packagename PYPINAME --name PKGNAME [--webhook-rebuild
{on,off}] <br>
project</p>

<p style="margin-top: 1em">Edit source definition and type
of an existing package. Options are shared with
add-package-pypi.</p>

<p style="margin-top: 1em">copr-cli add-package-mockscm
[options] <br>
usage: copr add-package-mockscm [-h] [--scm-type TYPE]
[--scm-url URL] [--scm-branch BRANCH] [--spec FILE] --name
PKGNAME [--webhook-rebuild {on,off}] project</p>

<p style="margin-top: 1em">Add package of MockSCM source
type.</p>

<p style="margin-top: 1em">--scm-type TYPE <br>
Specify versioning tool, default is git</p>

<p style="margin-top: 1em">--scm-url URL <br>
Url to a project versioned by Git or SVN, required</p>

<p style="margin-top: 1em">--scm-branch BRANCH <br>
Branch in the target repository to build from</p>

<p style="margin-top: 1em">--spec FILE <br>
Relative path from SCM root to .spec file, required</p>

<p style="margin-top: 1em">--name PKGNAME <br>
Name of the package to be edited or created</p>

<p style="margin-top: 1em">--webhook-rebuild {on,off} <br>
Enable auto-rebuilding</p>

<p style="margin-top: 1em">copr-cli edit-package-mockscm
[options] <br>
usage: copr edit-package-mockscm [-h] [--scm-type TYPE]
[--scm-url URL] [--scm-branch BRANCH] [--spec FILE] --name
PKGNAME [--webhook-rebuild {on,off}] project</p>

<p style="margin-top: 1em">Edit source definition and type
of an existing package. Options are shared with
add-package-mockscm.</p>

<p style="margin-top: 1em">copr-cli add-package-rubygems
[options] <br>
usage: copr add-package-rubygems [-h] [--gem GEM] --name
PKGNAME [--webhook-rebuild {on,off}] project</p>

<p style="margin-top: 1em">Add package of RubyGems source
type.</p>

<p style="margin-top: 1em">--gem GEM <br>
Specify gem name</p>

<p style="margin-top: 1em">--name PKGNAME <br>
Name of the package to be edited or created</p>

<p style="margin-top: 1em">--webhook-rebuild {on,off} <br>
Enable auto-rebuilding</p>

<p style="margin-top: 1em">copr-cli edit-package-rubygems
[options] <br>
usage: copr edit-package-rubygems [-h] [--gem GEM] --name
PKGNAME [--webhook-rebuild {on,off}] project</p>

<p style="margin-top: 1em">Edit source definition and type
of an existing package. Options are shared with
add-package-rubygems.</p>

<p style="margin-top: 1em">copr-cli list-packages [options]
<br>
usage: copr list-packages [-h] [--with-latest-build]
[--with-latest-succeeded-build] [--with-all-builds]
project</p>

<p style="margin-top: 1em">Lists all packages in the given
project in json format.</p>

<p style="margin-top: 1em">--with-latest-build <br>
Also display data related to the latest build for each
package.</p>

<p style="margin-top: 1em">--with-latest-succeeded-build
<br>
Also display data related to the latest succeeded build for
each package.</p>

<p style="margin-top: 1em">--with-all-builds <br>
Also display data related to the builds for each
package.</p>

<p style="margin-top: 1em">copr-cli list-package-names
[options] <br>
usage: copr list-package-names [-h] project</p>

<p style="margin-top: 1em">Only list package names in the
given project line by line.</p>

<p style="margin-top: 1em">copr-cli get-package [options]
<br>
usage: copr get-package [-h] --name PKGNAME
[--with-latest-build] [--with-latest-succeeded-build]
[--with-all-builds] project</p>

<p style="margin-top: 1em">Similar to list-packages but
returns just a single package directly as json structure
(not wrapped in a list).</p>

<p style="margin-top: 1em">copr-cli delete-package
[options] <br>
usage: copr delete-package [-h] --name PKGNAME project</p>

<p style="margin-top: 1em">Deletes package and all its
builds from the given project.</p>

<p style="margin-top: 1em">copr-cli reset-package [options]
<br>
usage: copr reset-package [-h] --name PKGNAME project</p>

<p style="margin-top: 1em">Clears default source of a
package and its source type (all the package settings are
lost after invoking this!).</p>

<p style="margin-top: 1em">copr-cli build-package [options]
<br>
usage: copr build-package [-h] [--memory MEMORY] [--timeout
TIMEOUT] [--nowait] [-r CHROOTS] --name PKGNAME project</p>

<p style="margin-top: 1em">Creates a new build of the given
package from its source definition.</p>

<p style="margin-top: 1em">--name PKGNAME <br>
Name of a package to be built</p>

<p style="margin-top: 1em">For the rest of the arguments,
see copr-cli build command above.</p>

<p style="margin-top: 1em">copr-cli mock-config [options]
<br>
usage: copr mock-config [-h] project chroot</p>

<p style="margin-top: 1em">Get the mock profile (similar to
koji mock-config), print it to standard output. The
configuration can be slightly different from the real mock
configuration used by Copr <br>
Builders, but should be similar enough for basic debugging
(e.g. by mock --shell).</p>

<p style="margin-top: 1em">EXAMPLES <br>
copr-cli add-package-tito myproject --name pkgname --git-url
http://github.com/clime/example.git --test on</p>

<p style="margin-top: 1em">copr-cli get-package myproject
--name pkgname</p>

<p style="margin-top: 1em">copr-cli build-package myproject
--name pkgname --nowait --timeout 10000 -r
fedora-23-x86_64</p>

<p style="margin-top: 1em">copr-cli delete-package
myproject --name pkgname</p>

<p style="margin-top: 1em">copr-cli mock-config myproject
fedora-rawhide-x86_64</p>

<p style="margin-top: 1em">MODULE ACTIONS <br>
copr-cli build-module [options] <br>
usage: copr build-module [-h] [--url URL] [--token TOKEN]
[copr]</p>

<p style="margin-top: 1em">Build module via Copr MBS</p>

<p style="margin-top: 1em">--url URL: SCM with modulemd
file in yaml format</p>

<p style="margin-top: 1em">--yaml YAML: Path to modulemd
file in yaml format</p>

<p style="margin-top: 1em">EXAMPLES <br>
copr-cli build-module --url
git://pkgs.stg.fedoraproject.org/modules/testmodule.git?#620ec77</p>

<p style="margin-top: 1em">EXIT STATUS <br>
Normally, the exit code is 0 when everything goes well. But
if not, we could get: 1 - Bad request like wrong project
name, insufficient rights etc. Also might happen when user
<br>
interrupts the operation when they shouldn&acirc;t. 2 -
Wrong arguments given. 3 - Bad or no configuration. 4 -
Build fails when Cli is waiting for the result. 5 -
Communication error <br>
between Cli and server. This issue probably means bug and
should be reported.</p>

<p style="margin-top: 1em">API KEY <br>
Visit the page https://copr.fedoraproject.org/api/ to obtain
an API token. This token must be saved in the file
~/.config/copr in the following format:</p>

<p style="margin-top: 1em">[copr-cli] <br>
username = msuchy <br>
login = Y57wcg==##fkfaxbkjhuoiebfafadl <br>
token = vbfseelqdebzedukgombekmuvbkqwo <br>
copr_url = https://copr.fedoraproject.org</p>

<p style="margin-top: 1em">Be aware that API tokens have an
expiration date. The expiration date for your token is
listed on the /api page.</p>

<p style="margin-top: 1em">USING DIFFERENT COPR INSTANCE
<br>
If you plan to run copr client against non-default Copr
instance, the API token is available on the
http://YOUR.COPR.URL/api/ page. You can either replace your
default <br>
~/.config/copr configuration file, or rather use alternative
file with a shell alias</p>

<p style="margin-top: 1em">alias your_copr=&rsquo;copr
--config ~/.config/your-copr&rsquo;</p>

<p style="margin-top: 1em">inserted into your profile.</p>

<p style="margin-top: 1em">AUTHORS <br>
Miroslav Such&Atilde;&frac12; &lt;msuchy@redhat.com&gt;,
clime &lt;clime@redhat.com&gt;</p>

<p style="margin-top: 1em">copr 06/09/2017 COPR-CLI(1)</p>
<hr>
</body>
</html>
