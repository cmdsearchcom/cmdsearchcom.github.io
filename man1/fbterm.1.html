<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>FbTerm(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">FbTerm(1)</td>
    <td class="head-vol">FbTerm User Manual</td>
    <td class="head-rtitle">FbTerm(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
FbTerm - a fast Frame Buffer based TERMinal emulator for linux
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>fbterm</b> [<i>options</i>] [--] [<i>command</i> [<i>arguments</i>]]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
FbTerm is a fast terminal emulator for linux with frame buffer device or VESA
  video card. Features include:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * mostly as fast as terminal of linux kernel while accelerated scrolling is
  enabled
<br/>
 * select font with fontconfig and draw text with freetype2, same as Qt/Gtk+
  based GUI apps
<br/>
 * dynamically create/destroy up to 10 windows initially running default shell
<br/>
 * record scroll-back history for every window
<br/>
 * auto-detect current locale and convert text encoding, support double width
  scripts like Chinese, Japanese etc
<br/>
 * switch between configurable additional text encodings with hot keys on the
  fly
<br/>
 * copy/past selected text between windows with mouse when gpm server is running
<br/>
 * change the orientation of screen display, a.k.a. screen rotation
<br/>
 * lightweight input method framework with client-server architecture
<br/>
 * background image for eye candy
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<i>command</i> [<i>arguments</i>] may be given to override the built-in choice
  of shell program. Normally FbTerm checks the <i>SHELL</i> variable. If that is
  not set, it tries to use the user's login shell program specified in the
  password file. If that is not set, /bin/sh will be used. You should use the
  <i>--</i> argument to separate FbTerm's options from the arguments supplied to
  the <i>command</i>.
<div style="height: 1.00em;">&#x00A0;</div>
FbTerm first uses option value specified in command line arguments, then in the
  configure file <i>$HOME/.fbtermrc</i>. If that file doesn't exist, FbTerm will
  create it with default options on startup.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">display the help and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V, --version</b></dt>
  <dd class="It-tag">display FbTerm version and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">display extra FbTerm's information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --font-names=</b><i>text</i></dt>
  <dd class="It-tag">specify font family names</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --font-size=</b><i>num</i></dt>
  <dd class="It-tag">specify font pixel size</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--font-width=</b><i>num</i></dt>
  <dd class="It-tag">force font width</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--font-height=</b><i>num</i></dt>
  <dd class="It-tag">force font height</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --color-foreground=</b><i>num</i></dt>
  <dd class="It-tag">specify foreground color</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b, --color-background=</b><i>num</i></dt>
  <dd class="It-tag">specify background color</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --text-encodings=</b><i>text</i></dt>
  <dd class="It-tag">specify additional text encodings</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a, --ambiguous-wide</b></dt>
  <dd class="It-tag">treat ambiguous width characters as wide</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --screen-rotate=</b><i>num</i></dt>
  <dd class="It-tag">specify the orientation of screen display</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i, --input-method=</b><i>text</i></dt>
  <dd class="It-tag">specify input method program</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cursor-shape=</b><i>num</i></dt>
  <dd class="It-tag">specify default cursor shape</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cursor-interval=</b><i>num</i></dt>
  <dd class="It-tag">specify cursor flash interval</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--vesa-mode=</b><i>num</i></dt>
  <dd class="It-tag">specify VESA video mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--vesa-mode=list</b></dt>
  <dd class="It-tag">display available VESA video modes
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">see comments in <i>$HOME/.fbtermrc</i> for details of these
    options.</dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="SHORTCUT_SUMMARY"><a class="selflink" href="#SHORTCUT_SUMMARY">SHORTCUT
  SUMMARY</a></h1>
keyboard:
<br/>
 CTRL_ALT_E: exit from FbTerm
<br/>
 CTRL_ALT_C: create a new window
<br/>
 CTRL_ALT_D: destroy current window
<br/>
 CTRL_ALT_1: switch to window 1
<br/>
 CTRL_ALT_2: switch to window 2
<br/>
 CTRL_ALT_3: switch to window 3
<br/>
 CTRL_ALT_4: switch to window 4
<br/>
 CTRL_ALT_5: switch to window 5
<br/>
 CTRL_ALT_6: switch to window 6
<br/>
 CTRL_ALT_7: switch to window 7
<br/>
 CTRL_ALT_8: switch to window 8
<br/>
 CTRL_ALT_9: switch to window 9
<br/>
 CTRL_ALT_0: switch to window 10
<br/>
 SHIFT_LEFT: switch to previous window
<br/>
 SHIFT_RIGHT: switch to next window
<br/>
 SHIFT_PAGEUP: history scroll up
<br/>
 SHIFT_PAGEDOWN: history scroll down
<br/>
 CTRL_ALT_F1: switch to encoding of current locale
<br/>
 CTRL_ALT_F2 to CTRL_ALT_F6: switch to additional encodings
<br/>
 CTRL_SPACE: toggle input method
<br/>
 CTRL_ALT_K: kill input method server
<div style="height: 1.00em;">&#x00A0;</div>
mouse:
<br/>
 move when left button down: select text
<br/>
 double click with left button: auto select text
<br/>
 click with right button: paste selected text
<div style="height: 1.00em;">&#x00A0;</div>
Sometimes above actions will not work, please try to redo them with shift key
  holding down.
<h1 class="Sh" title="Sh" id="FRAME_BUFFER_DEVICE"><a class="selflink" href="#FRAME_BUFFER_DEVICE">FRAME
  BUFFER DEVICE</a></h1>
Before executing FbTerm, make sure there is a frame buffer device in your
  system, and you have read/write access right with it. Normally FbTerm tries to
  open /dev/fb0 and /dev/fb/0, environment variable &quot;
  <i>FRAMEBUFFER</i>&quot; may be used to override this built-in behavior.
<h1 class="Sh" title="Sh" id="VESA_VIDEO_DEVICE"><a class="selflink" href="#VESA_VIDEO_DEVICE">VESA
  VIDEO DEVICE</a></h1>
From version 1.6, FbTerm adds VESA video card support. By default, FbTerm tries
  frame buffer device first, if failure, then tries to use VESA device with
  highest resolution and color depth. option &quot; <i>vesa-mode</i>&quot; may
  be given to force only open VESA device with the specified video mode. To see
  available video modes for your VESA card, execute &quot; <b>fbterm
  --vesa-mode=list</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
Attention: 1) VESA support requires root privilege to work; 2) do not force to
  use VESA device on the system with frame buffer device enabled, they maybe
  conflict with each other.
<h1 class="Sh" title="Sh" id="FONT"><a class="selflink" href="#FONT">FONT</a></h1>
FbTerm invokes fontconfig to get a font list, if the first font doesn't contain
  the glyph for the rendering character, it will try second font, then the
  third, ... and so on, user can see this ordered font list with &quot;
  <b>fbterm -v</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
If you don't like the fonts selected by FbTerm, execute &quot;fc-list&quot; to
  get available fonts, choose favorites as the value of option &quot;
  <i>font-names</i>&quot;. You may also modify the configure file of fontconfig,
  which will change the behavior of all programs based on fontconfig!
<h1 class="Sh" title="Sh" id="TEXT_ENCODING"><a class="selflink" href="#TEXT_ENCODING">TEXT
  ENCODING</a></h1>
By using iconv, FbTerm converts other encodings to internal encoding UTF-8. On
  startup, FbTerm checks variable <i>LC_CTYPE</i> to determine the default text
  encoding, which is binded to shortcut CTRL_ALT_F1. User can specify up to 5
  additional encodings with option &quot; <i>text-encodings</i>&quot;, for
  example, as a Chinese user, you set &quot;text-encodings=gbk,big5&quot;,
  shortcut CTRL_ALT_F2 will bind to gbk, and CTRL_ALT_F3 bind to big5.
<div style="height: 1.00em;">&#x00A0;</div>
In a number of CJK encodings there are ambiguous width characters which have a
  width of either narrow or wide depending on the context of their use. By
  default, FbTerm treats them as narrow width characters, option &quot;
  <i>ambiguous-wide</i>&quot; may be used to change the behavior.
<h1 class="Sh" title="Sh" id="BACKGROUND_IMAGE"><a class="selflink" href="#BACKGROUND_IMAGE">BACKGROUND
  IMAGE</a></h1>
FbTerm doesn't load and parse any image file with various formats directly,
  instead it takes a screen shot of frame buffer device on startup if variable
  <i>FBTERM_BACKGROUND_IMAGE</i> is defined, then uses this screen shot as the
  background for text rendering. In order to enable background image support,
  user should first put a image to frame buffer device with a image viewer. A
  wrapper script using fbv is listed below: <b></b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 #!/bin/bash
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 # fbterm-bi: a wrapper script to enable background image with fbterm
<br/>
 # usage: fbterm-bi /path/to/image fbterm-options
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 echo -ne &quot;\e[?25l&quot; # hide cursor
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 fbv -ciuker &quot;$1&quot; &lt;&lt; EOF
<br/>
 q
<br/>
 EOF
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 shift
<br/>
 export FBTERM_BACKGROUND_IMAGE=1
<br/>
 exec fbterm &quot;$@&quot; Attention: 1) do not enable background image on
  frame buffer device with 8bpp depth, because FbTerm changes color map table
  for correct text rendering; 2) if the screen shot is different from the
  original image, try to use a fast scrolling disabled frame buffer device.
<h1 class="Sh" title="Sh" id="256_COLOR_EXTENSION"><a class="selflink" href="#256_COLOR_EXTENSION">256
  COLOR EXTENSION</a></h1>
FbTerm supports xterm's 256 color mode extension. The first 16 colors are the
  default terminal colors. Additionally, there's a 6x6x6 color cube, and 24
  grayscale tones. But xterm's 256 color escape sequences conflict with the
  linux sequences implemented by FbTerm, so private escape sequences were
  introduced to support this feature: <b></b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 ESC [ 1 ; n } set foreground color to n (0 - 255)
<br/>
 ESC [ 2 ; n } set background color to n (0 - 255)
<br/>
 ESC [ 3 ; n ; r ; g ; b } set color n to (r, g, b) , n, r, g, b all in (0 -
  255)
<div style="height: 1.00em;">&#x00A0;</div>
A new terminfo database entry named &quot;fbterm&quot; was added to use these
  private sequences, all program based on terminfo should work with it. By
  default, FbTerm sets environment variable &quot;TERM&quot; to value
  &quot;linux&quot;, user need run &quot;TERM=fbterm /path/to/program&quot; to
  enable 256 color mode.
<h1 class="Sh" title="Sh" id="INPUT_METHOD"><a class="selflink" href="#INPUT_METHOD">INPUT
  METHOD</a></h1>
Instead of adding input method directly in FbTerm, a client-server based input
  method framework is designed to do this work. FbTerm acts as a client,
  standalone IM program as a server, and they run in separated processes.
<div style="height: 1.00em;">&#x00A0;</div>
As a normal IM user, you should install a IM program written for FbTerm, and
  specify it as the value of option &quot; <i>input-method</i>&quot;. CTRL_SPACE
  is the shortcut to activate/deactivate input method. And CTRL_ALT_K may be
  used to kill the IM program when it has freezed.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SECURITY_NOTES"><a class="selflink" href="#SECURITY_NOTES">SECURITY
  NOTES</a></h1>
FbTerm tries to change linux kernel key map table to setup shortcuts, which
  requires <i>SYS_TTY_CONFIG</i> capability since kernel version 2.6.15. It
  means FbTerm should be a setuid 0 program to allow non-root users to use
  shortcuts. FbTerm only switches to root privilege temporarily when changing
  key map table, we believe it's pretty much free from security problems. If you
  really don't like this and have a linux kernel with file system capabilities
  enabled, which allow user to give binaries a subset of root's powers without
  using setuid 0 (official kernel 2.6.27 includes it), you can run command
  &quot; <b>sudo setcap 'cap_sys_tty_config+ep' /path/to/fbterm</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
FbTerm redirects /dev/tty0 output to the pseudo terminal of current sub-window.
  In linux before version 2.6.10, anybody can do this as long as the output was
  not redirected yet; since version 2.6.10, only root or a process with the
  <i>CAP_SYS_ADMIN</i> capability may do this. You should do similar work with
  above ones for FbTerm to enable this feature for non-root users.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="PERFORMANCE"><a class="selflink" href="#PERFORMANCE">PERFORMANCE</a></h1>
According test result, FbTerm spends more than 95% time on painting screen.
  Speedup painting will significantly increase performance. Here are some
  suggestions for frame buffer device:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * Enable fast scrolling on frame buffer device. The visible screen will be just
  a window of the video memory, when scrolling, FbTerm only change the start of
  window, no need to repaint the whole screen.
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 * On Intel P6 family processors the Memory Type Range Registers (MTRRs) may be
  used to control processor access to memory ranges. If you have video card on a
  PCI or AGP bus, enabling write-combining allows bus write transfers to be
  combined into a larger transfer before bursting over the PCI/AGP bus. This can
  increase performance of FbTerm's paint operations.
<div style="height: 1.00em;">&#x00A0;</div>
Maybe you need to enable them manually for your video card. For example, by
  default fast scrolling and write-combining are all disabled on general VESA
  frame buffer device, GRUB/LILO configure file should be modified to enable
  them. A GRUB example is showed below:
<div style="height: 1.00em;">&#x00A0;</div>
title Ubuntu
<br/>
 root (hd0,0)
<br/>
 kernel /boot/vmlinuz ro root=LABEL=UBUNTU splash vga=0x317
  <b>video=vesafb:ywrap,mtrr:3</b>
<br/>
 initrd /boot/initrd.img
<div style="height: 1.00em;">&#x00A0;</div>
You may check fast scrolling status with &quot; <b>fbterm -v</b>&quot;, a
  message with &quot;scrolling: redraw&quot; means fast scrolling is disabled,
  otherwise enabled.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by dragchan.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Please submit bug reports to &lt;
  <b>http://code.google.com/p/fbterm/issues</b>&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2008-2010 dragchan. License GPLv2: GNU GPL version 2 or later
  &lt;http://gnu.org/licenses/gpl.html&gt;.
<div>&#x00A0;</div>
This is free software: you are free to change and redistribute it. There is NO
  WARRANTY, to the extent permitted by law.</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 2010</td>
    <td class="foot-os">FbTerm 1.7</td>
  </tr>
</table>
</body>
</html>
