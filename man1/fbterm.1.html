<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:09:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FbTerm(1) FbTerm User Manual FbTerm(1)</p>

<p style="margin-top: 1em">NAME <br>
FbTerm - a fast Frame Buffer based TERMinal emulator for
linux</p>

<p style="margin-top: 1em">SYNOPSIS <br>
fbterm [options] [--] [command [arguments]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
FbTerm is a fast terminal emulator for linux with frame
buffer device or VESA video card. Features include:</p>

<p style="margin-top: 1em">* mostly as fast as terminal of
linux kernel while accelerated scrolling is enabled <br>
* select font with fontconfig and draw text with freetype2,
same as Qt/Gtk+ based GUI apps <br>
* dynamically create/destroy up to 10 windows initially
running default shell <br>
* record scroll-back history for every window <br>
* auto-detect current locale and convert text encoding,
support double width scripts like Chinese, Japanese etc <br>
* switch between configurable additional text encodings with
hot keys on the fly <br>
* copy/past selected text between windows with mouse when
gpm server is running <br>
* change the orientation of screen display, a.k.a. screen
rotation <br>
* lightweight input method framework with client-server
architecture <br>
* background image for eye candy</p>

<p style="margin-top: 1em">OPTIONS <br>
command [arguments] may be given to override the built-in
choice of shell program. Normally FbTerm checks the SHELL
variable. If that is not set, it tries to use the
user&rsquo;s login <br>
shell program specified in the password file. If that is not
set, /bin/sh will be used. You should use the -- argument to
separate FbTerm&rsquo;s options from the arguments supplied
to <br>
the command.</p>

<p style="margin-top: 1em">FbTerm first uses option value
specified in command line arguments, then in the configure
file $HOME/.fbtermrc. If that file doesn&rsquo;t exist,
FbTerm will create it with default <br>
options on startup.</p>

<p style="margin-top: 1em">-h, --help <br>
display the help and exit</p>

<p style="margin-top: 1em">-V, --version <br>
display FbTerm version and exit</p>

<p style="margin-top: 1em">-v, --verbose <br>
display extra FbTerm&rsquo;s information</p>

<p style="margin-top: 1em">-n, --font-names=text <br>
specify font family names</p>

<p style="margin-top: 1em">-s, --font-size=num <br>
specify font pixel size</p>

<p style="margin-top: 1em">--font-width=num <br>
force font width</p>

<p style="margin-top: 1em">--font-height=num <br>
force font height</p>

<p style="margin-top: 1em">-f, --color-foreground=num <br>
specify foreground color</p>

<p style="margin-top: 1em">-b, --color-background=num <br>
specify background color</p>

<p style="margin-top: 1em">-e, --text-encodings=text <br>
specify additional text encodings</p>

<p style="margin-top: 1em">-a, --ambiguous-wide <br>
treat ambiguous width characters as wide</p>

<p style="margin-top: 1em">-r, --screen-rotate=num <br>
specify the orientation of screen display</p>

<p style="margin-top: 1em">-i, --input-method=text <br>
specify input method program</p>

<p style="margin-top: 1em">--cursor-shape=num <br>
specify default cursor shape</p>

<p style="margin-top: 1em">--cursor-interval=num <br>
specify cursor flash interval</p>

<p style="margin-top: 1em">--vesa-mode=num <br>
specify VESA video mode</p>

<p style="margin-top: 1em">--vesa-mode=list <br>
display available VESA video modes</p>

<p style="margin-top: 1em">see comments in $HOME/.fbtermrc
for details of these options.</p>

<p style="margin-top: 1em">SHORTCUT SUMMARY <br>
keyboard: <br>
CTRL_ALT_E: exit from FbTerm <br>
CTRL_ALT_C: create a new window <br>
CTRL_ALT_D: destroy current window <br>
CTRL_ALT_1: switch to window 1 <br>
CTRL_ALT_2: switch to window 2 <br>
CTRL_ALT_3: switch to window 3 <br>
CTRL_ALT_4: switch to window 4 <br>
CTRL_ALT_5: switch to window 5 <br>
CTRL_ALT_6: switch to window 6 <br>
CTRL_ALT_7: switch to window 7 <br>
CTRL_ALT_8: switch to window 8 <br>
CTRL_ALT_9: switch to window 9 <br>
CTRL_ALT_0: switch to window 10 <br>
SHIFT_LEFT: switch to previous window <br>
SHIFT_RIGHT: switch to next window <br>
SHIFT_PAGEUP: history scroll up <br>
SHIFT_PAGEDOWN: history scroll down <br>
CTRL_ALT_F1: switch to encoding of current locale <br>
CTRL_ALT_F2 to CTRL_ALT_F6: switch to additional encodings
<br>
CTRL_SPACE: toggle input method <br>
CTRL_ALT_K: kill input method server</p>

<p style="margin-top: 1em">mouse: <br>
move when left button down: select text <br>
double click with left button: auto select text <br>
click with right button: paste selected text</p>

<p style="margin-top: 1em">Sometimes above actions will not
work, please try to redo them with shift key holding
down.</p>

<p style="margin-top: 1em">FRAME BUFFER DEVICE <br>
Before executing FbTerm, make sure there is a frame buffer
device in your system, and you have read/write access right
with it. Normally FbTerm tries to open /dev/fb0 and <br>
/dev/fb/0, environment variable &quot;FRAMEBUFFER&quot; may
be used to override this built-in behavior.</p>

<p style="margin-top: 1em">VESA VIDEO DEVICE <br>
From version 1.6, FbTerm adds VESA video card support. By
default, FbTerm tries frame buffer device first, if failure,
then tries to use VESA device with highest resolution and
<br>
color depth. option &quot;vesa-mode&quot; may be given to
force only open VESA device with the specified video mode.
To see available video modes for your VESA card, execute
&quot;fbterm <br>
--vesa-mode=list&quot;.</p>

<p style="margin-top: 1em">Attention: 1) VESA support
requires root privilege to work; 2) do not force to use VESA
device on the system with frame buffer device enabled, they
maybe conflict with each <br>
other.</p>

<p style="margin-top: 1em">FONT <br>
FbTerm invokes fontconfig to get a font list, if the first
font doesn&rsquo;t contain the glyph for the rendering
character, it will try second font, then the third, ... and
so on, <br>
user can see this ordered font list with &quot;fbterm
-v&quot;.</p>

<p style="margin-top: 1em">If you don&rsquo;t like the
fonts selected by FbTerm, execute &quot;fc-list&quot; to get
available fonts, choose favorites as the value of option
&quot;font-names&quot;. You may also modify the configure
<br>
file of fontconfig, which will change the behavior of all
programs based on fontconfig!</p>

<p style="margin-top: 1em">TEXT ENCODING <br>
By using iconv, FbTerm converts other encodings to internal
encoding UTF-8. On startup, FbTerm checks variable LC_CTYPE
to determine the default text encoding, which is binded to
<br>
shortcut CTRL_ALT_F1. User can specify up to 5 additional
encodings with option &quot;text-encodings&quot;, for
example, as a Chinese user, you set
&quot;text-encodings=gbk,big5&quot;, shortcut <br>
CTRL_ALT_F2 will bind to gbk, and CTRL_ALT_F3 bind to
big5.</p>

<p style="margin-top: 1em">In a number of CJK encodings
there are ambiguous width characters which have a width of
either narrow or wide depending on the context of their use.
By default, FbTerm treats <br>
them as narrow width characters, option
&quot;ambiguous-wide&quot; may be used to change the
behavior.</p>

<p style="margin-top: 1em">BACKGROUND IMAGE <br>
FbTerm doesn&rsquo;t load and parse any image file with
various formats directly, instead it takes a screen shot of
frame buffer device on startup if variable
FBTERM_BACKGROUND_IMAGE <br>
is defined, then uses this screen shot as the background for
text rendering. In order to enable background image support,
user should first put a image to frame buffer device <br>
with a image viewer. A wrapper script using fbv is listed
below:</p>

<p style="margin-top: 1em">#!/bin/bash</p>

<p style="margin-top: 1em"># fbterm-bi: a wrapper script to
enable background image with fbterm <br>
# usage: fbterm-bi /path/to/image fbterm-options</p>

<p style="margin-top: 1em">echo -ne &quot;\[?25l&quot; #
hide cursor</p>

<p style="margin-top: 1em">fbv -ciuker &quot;$1&quot;
&lt;&lt; EOF <br>
q <br>
EOF</p>

<p style="margin-top: 1em">shift <br>
export FBTERM_BACKGROUND_IMAGE=1 <br>
exec fbterm &quot;$@&quot;</p>

<p style="margin-top: 1em">Attention: 1) do not enable
background image on frame buffer device with 8bpp depth,
because FbTerm changes color map table for correct text
rendering; 2) if the screen shot is <br>
different from the original image, try to use a fast
scrolling disabled frame buffer device.</p>

<p style="margin-top: 1em">256 COLOR EXTENSION <br>
FbTerm supports xterm&rsquo;s 256 color mode extension. The
first 16 colors are the default terminal colors.
Additionally, there&rsquo;s a 6x6x6 color cube, and 24
grayscale tones. But <br>
xterm&rsquo;s 256 color escape sequences conflict with the
linux sequences implemented by FbTerm, so private escape
sequences were introduced to support this feature:</p>

<p style="margin-top: 1em">ESC [ 1 ; n } set foreground
color to n (0 - 255) <br>
ESC [ 2 ; n } set background color to n (0 - 255) <br>
ESC [ 3 ; n ; r ; g ; b } set color n to (r, g, b) , n, r,
g, b all in (0 - 255)</p>

<p style="margin-top: 1em">A new terminfo database entry
named &quot;fbterm&quot; was added to use these private
sequences, all program based on terminfo should work with
it. By default, FbTerm sets environment <br>
variable &quot;TERM&quot; to value &quot;linux&quot;, user
need run &quot;TERM=fbterm /path/to/program&quot; to enable
256 color mode.</p>

<p style="margin-top: 1em">INPUT METHOD <br>
Instead of adding input method directly in FbTerm, a
client-server based input method framework is designed to do
this work. FbTerm acts as a client, standalone IM program as
a <br>
server, and they run in separated processes.</p>

<p style="margin-top: 1em">As a normal IM user, you should
install a IM program written for FbTerm, and specify it as
the value of option &quot;input-method&quot;. CTRL_SPACE is
the shortcut to activate/deactivate <br>
input method. And CTRL_ALT_K may be used to kill the IM
program when it has freezed.</p>

<p style="margin-top: 1em">SECURITY NOTES <br>
FbTerm tries to change linux kernel key map table to setup
shortcuts, which requires SYS_TTY_CONFIG capability since
kernel version 2.6.15. It means FbTerm should be a setuid 0
<br>
program to allow non-root users to use shortcuts. FbTerm
only switches to root privilege temporarily when changing
key map table, we believe it&rsquo;s pretty much free from
security <br>
problems. If you really don&rsquo;t like this and have a
linux kernel with file system capabilities enabled, which
allow user to give binaries a subset of root&rsquo;s powers
without using <br>
setuid 0 (official kernel 2.6.27 includes it), you can run
command &quot;sudo setcap
&rsquo;cap_sys_tty_config+ep&rsquo;
/path/to/fbterm&quot;.</p>

<p style="margin-top: 1em">FbTerm redirects /dev/tty0
output to the pseudo terminal of current sub-window. In
linux before version 2.6.10, anybody can do this as long as
the output was not redirected yet; <br>
since version 2.6.10, only root or a process with the
CAP_SYS_ADMIN capability may do this. You should do similar
work with above ones for FbTerm to enable this feature for
non- <br>
root users.</p>

<p style="margin-top: 1em">PERFORMANCE <br>
According test result, FbTerm spends more than 95% time on
painting screen. Speedup painting will significantly
increase performance. Here are some suggestions for frame
buffer <br>
device:</p>

<p style="margin-top: 1em">* Enable fast scrolling on frame
buffer device. The visible screen will be just a window of
the video memory, when scrolling, FbTerm only change the
start of window, no need to <br>
repaint the whole screen.</p>

<p style="margin-top: 1em">* On Intel P6 family processors
the Memory Type Range Registers (MTRRs) may be used to
control processor access to memory ranges. If you have video
card on a PCI or AGP bus, <br>
enabling write-combining allows bus write transfers to be
combined into a larger transfer before bursting over the
PCI/AGP bus. This can increase performance of FbTerm&rsquo;s
paint <br>
operations.</p>

<p style="margin-top: 1em">Maybe you need to enable them
manually for your video card. For example, by default fast
scrolling and write-combining are all disabled on general
VESA frame buffer device, <br>
GRUB/LILO configure file should be modified to enable them.
A GRUB example is showed below:</p>

<p style="margin-top: 1em">title Ubuntu <br>
root (hd0,0) <br>
kernel /boot/vmlinuz ro root=LABEL=UBUNTU splash vga=0x317
video=vesafb:ywrap,mtrr:3 <br>
initrd /boot/initrd.img</p>

<p style="margin-top: 1em">You may check fast scrolling
status with &quot;fbterm -v&quot;, a message with
&quot;scrolling: redraw&quot; means fast scrolling is
disabled, otherwise enabled.</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by dragchan.</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Please submit bug reports to
&lt;http://code.google.com/p/fbterm/issues&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2008-2010 dragchan. License GPLv2:
GNU GPL version 2 or later
&lt;http://gnu.org/licenses/gpl.html&gt;. <br>
This is free software: you are free to change and
redistribute it. There is NO WARRANTY, to the extent
permitted by law.</p>

<p style="margin-top: 1em">FbTerm 1.7 October 2010
FbTerm(1)</p>
<hr>
</body>
</html>
