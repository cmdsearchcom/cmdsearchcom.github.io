<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KAK_COMMANDS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KAK_COMMANDS(1)</td>
    <td class="head-vol">commands</td>
    <td class="head-rtitle">KAK_COMMANDS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
commands - a
<h1 class="Sh" title="Sh" id="PRIMITIVES"><a class="selflink" href="#PRIMITIVES">PRIMITIVES</a></h1>
Some commands take an exclamation mark ( <b>!</b>), which can be used to force
  the execution of the command (i.e. to quit a modified buffer, the command
  <b>q!</b> has to be used).
<div class="Pp"></div>
<b>cd</b> [&lt;directory&gt;]
<div style="margin-left: 4.00ex;">change the current directory to
  <b>directory</b>, or the home directory if unspecified</div>
<div class="Pp"></div>
<b>doc</b> &lt;topic&gt;
<div style="margin-left: 4.00ex;">display documentation about a topic. The
  completion list displays the available topics</div>
<div class="Pp"></div>
<b>e[dit][!]</b> &lt;filename&gt; [&lt;line&gt; [&lt;column&gt;]]
<div style="margin-left: 4.00ex;">open buffer on file, go to given line and
  column. If file is already opened, just switch to this file. Use edit! to
  force reloading</div>
<div class="Pp"></div>
<b>w[rite]</b> [&lt;filename&gt;]
<div style="margin-left: 4.00ex;">write buffer to &lt;filename&gt; or use
  it&#x2019;s name if filename is not given</div>
<div class="Pp"></div>
<b>w[rite]a[ll]</b>
<div style="margin-left: 4.00ex;">write all buffers that are associated to a
  file</div>
<div class="Pp"></div>
<b>q[uit][!]</b>
<div style="margin-left: 4.00ex;">exit Kakoune, use quit! to force quitting even
  if there is some unsaved buffers remaining</div>
<div class="Pp"></div>
<b>kill</b>
<div style="margin-left: 4.00ex;">terminate the current session, all the clients
  as well as the server</div>
<div class="Pp"></div>
<b>w[a]q[!]</b>
<div style="margin-left: 4.00ex;">write the current buffer (or all buffers when
  <b>waq</b> is used) and quit</div>
<div class="Pp"></div>
<b>b[uffer]</b> &lt;name&gt;
<div style="margin-left: 4.00ex;">switch to buffer &lt;name&gt;</div>
<div class="Pp"></div>
<b>b[uffer]n[ext]</b>
<div style="margin-left: 4.00ex;">switch to the next buffer</div>
<div class="Pp"></div>
<b>b[uffer]p[rev]</b>
<div style="margin-left: 4.00ex;">switch to the previous buffer</div>
<div class="Pp"></div>
<b>d[el]b[uf][!]</b> [&lt;name&gt;]
<div style="margin-left: 4.00ex;">delete the buffer &lt;name&gt;</div>
<div class="Pp"></div>
<b>source</b> &lt;filename&gt;
<div style="margin-left: 4.00ex;">execute commands in &lt;filename&gt;</div>
<div class="Pp"></div>
<b>runtime</b> &lt;filename&gt;
<div style="margin-left: 4.00ex;">execute commands in &lt;filename&gt;,
  &lt;filename&gt; is relative to kak executable path</div>
<div class="Pp"></div>
<b>colorscheme</b> &lt;name&gt;
<div style="margin-left: 4.00ex;">load named colorscheme</div>
<div class="Pp"></div>
<b>rename-client</b> &lt;name&gt;
<div style="margin-left: 4.00ex;">set current client name</div>
<div class="Pp"></div>
<b>rename-buffer</b> &lt;name&gt;
<div style="margin-left: 4.00ex;">set current buffer name</div>
<div class="Pp"></div>
<b>rename-session</b> &lt;name&gt;
<div style="margin-left: 4.00ex;">set current session name</div>
<div class="Pp"></div>
<b>echo</b> [options] &lt;text&gt;
<div style="margin-left: 4.00ex;">show <b>text</b> in status line, with the
  following <b>options</b>:
<div class="Pp"></div>
<b>-color</b> &lt;face&gt;
<div style="margin-left: 4.00ex;">print the given text with <b>face</b>, most
  commonly <b>Error</b> or <b>Information</b></div>
<div class="Pp"></div>
<b>-markup</b>
<div style="margin-left: 4.00ex;">expand the markup strings in <b>text</b> (c.f.
  the <i>expansions</i> documentation page)</div>
<div class="Pp"></div>
<b>-debug</b>
<div style="margin-left: 4.00ex;">print the given text to the <b>\*debug</b>*
  buffer</div>
</div>
<div class="Pp"></div>
<b>nop</b>
<div style="margin-left: 4.00ex;">does nothing, but arguments will be evaluated
  (e.g. shell expansion)</div>
<div class="Pp"></div>
<b>set</b> &lt;scope&gt; &lt;name&gt; &lt;value&gt;
<div style="margin-left: 4.00ex;">change the value of an option (c.f. the
  <i>options</i> documentation page), note that the name of a particular buffer
  can be specified when the target <b>scope</b> is <i>buffer</i>, e.g. set
  buffer=/path/to/buffer foo &quot;bar&quot;; the scope can also take the
  current special value, which will automatically point to the narrowest scope
  available in the current context</div>
<div class="Pp"></div>
<b>unset</b> &lt;scope&gt; &lt;name&gt;
<div style="margin-left: 4.00ex;">unset the value of an option (c.f. the
  <i>options</i> documentation page)</div>
<div class="Pp"></div>
<b>alias</b> &lt;scope&gt; &lt;name&gt; &lt;command&gt;
<div style="margin-left: 4.00ex;">define a new alias, within the context of a
  scope</div>
<div class="Pp"></div>
<b>unalias</b> &lt;scope&gt; &lt;name&gt; [&lt;command&gt;]
<div style="margin-left: 4.00ex;">remove an alias if its current value is the
  same as the one passed as an optional parameter, remove it unconditionally
  otherwise</div>
<div class="Pp"></div>
<b>declare-option</b> [-hidden] &lt;type&gt; &lt;name&gt; [&lt;value&gt;]
<div style="margin-left: 4.00ex;">declare a new option, the -hidden hides the
  option in completion suggestions (c.f. the <i>options</i> documentation
  page)</div>
<div class="Pp"></div>
<b>face</b> &lt;name&gt; &lt;facespec&gt;
<div style="margin-left: 4.00ex;">define a face (c.f. the <i>faces</i>
  documentation page)</div>
<div class="Pp"></div>
<b>exec</b> [&lt;flags&gt;] &lt;key&gt; ...
<div style="margin-left: 4.00ex;">execute a series of keys, as if they were hit
  (c.f. the <i>execeval</i> documentation page)</div>
<div class="Pp"></div>
<b>eval</b> [&lt;flags&gt;] &lt;command&gt; ...
<div style="margin-left: 4.00ex;">execute commands, as if they were entered in
  the command prompt (c.f. the <i>execeval</i> documentation page)</div>
<div class="Pp"></div>
<b>define-command</b> [&lt;flags&gt;] &lt;name&gt; &lt;command&gt;
<div style="margin-left: 4.00ex;">define a new command (c.f. the <i>Declaring
  new commands</i> section below)</div>
<div class="Pp"></div>
<b>map</b> &lt;scope&gt; &lt;mode&gt; &lt;key&gt; &lt;keys&gt;
<div style="margin-left: 4.00ex;">make <b>key</b> behave as if <b>keys</b> were
  typed. with <b>scope</b> being one of <b>global</b>, <b>buffer</b> or
  <b>window</b>, <b>mode</b> being <b>insert</b>, <b>normal</b>, <b>prompt</b>,
  <b>menu</b> or <b>user</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
*user* mode allows for user mapping behind the *,* key. Keys
will be executed in normal mode.
</pre>
</div>
</div>
<div class="Pp"></div>
<b>unmap</b> &lt;scope&gt; &lt;mode&gt; &lt;key&gt; [&lt;expected&gt;]
<div style="margin-left: 4.00ex;">remove the mapping of <b>key</b> in given
  <b>scope</b> and <b>mode</b>, if expected is specified, only remove the
  mapping it if matches the expected keys.</div>
<div class="Pp"></div>
<b>hook</b> [-group &lt;group&gt;] &lt;scope&gt; &lt;hook_name&gt;
  &lt;filtering_regex&gt; &lt;command&gt;
<div style="margin-left: 4.00ex;">execute a command whenever an event is
  triggered (c.f. the <i>hooks</i> documentation page)</div>
<div class="Pp"></div>
<b>remove-hooks</b> &lt;scope&gt; &lt;group&gt;
<div style="margin-left: 4.00ex;">remove every hooks in <b>scope</b> that are
  part of the given <b>group</b> (c.f. the <i>hooks</i> documentation
  page)</div>
<div class="Pp"></div>
<b>add-highlighter</b> [&lt;flags&gt;] &lt;highlighter_name&gt;
  &lt;highlighter_parameters&gt; ...
<div style="margin-left: 4.00ex;">add a highlighter to the current window (c.f.
  the <i>highlighters</i> documentation page)</div>
<div class="Pp"></div>
<b>remove-highlighter</b> &lt;highlighter_id&gt;
<div style="margin-left: 4.00ex;">remove the highlighter whose id is
  <b>highlighter_id</b> (c.f. the <i>highlighters</i> documentation page)</div>
<h1 class="Sh" title="Sh" id="HELPERS"><a class="selflink" href="#HELPERS">HELPERS</a></h1>
Kakoune provides some helper commands that can be used to define composite
  commands:
<div class="Pp"></div>
<b>prompt</b> &lt;prompt&gt; &lt;command&gt;
<div style="margin-left: 4.00ex;">prompt the user for a string, when the user
  validates, executes the command. The entered text is available in the text
  value accessible through $kak_text in shells or %val{text} in commands.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
The *-init &lt;str&gt;* switch allows setting initial content, the
*-password* switch hides the entered text and clears the register
after command execution.
</pre>
</div>
</div>
<div class="Pp"></div>
<b>on-key</b> &lt;command&gt;
<div style="margin-left: 4.00ex;">wait for next key from user, then execute
  &lt;command&gt;, the key is available through the key value, accessible
  through $kak_key in shells, or %val{key} in commands.</div>
<div class="Pp"></div>
<b>menu</b> &lt;label1&gt; &lt;commands1&gt; &lt;label2&gt; &lt;commands2&gt;
  ...
<div style="margin-left: 4.00ex;">display a menu using labels, the selected
  label&#x2019;s commands are executed. menu can take an <b>-auto-single</b>
  argument, to automatically run commands when only one choice is provided, and
  a <b>-select-cmds</b> argument, in which case menu takes three argument per
  item, the last one being a command to execute when the item is selected (but
  not validated)</div>
<div class="Pp"></div>
<b>info</b> [options] &lt;text&gt;
<div style="margin-left: 4.00ex;">display text in an information box with the
  following <b>options</b>:
<div class="Pp"></div>
<b>-anchor</b> &lt;line&gt;.&lt;column&gt;
<div style="margin-left: 4.00ex;">print the text at the given coordinates</div>
<div class="Pp"></div>
<b>-placement</b> {above,below}
<div style="margin-left: 4.00ex;">set the placement relative to the anchor</div>
<div class="Pp"></div>
<b>-title</b> &lt;text&gt;
<div style="margin-left: 4.00ex;">set the title of the message box</div>
</div>
<div class="Pp"></div>
<b>try</b> &lt;commands&gt; catch &lt;on_error_commands&gt;
<div style="margin-left: 4.00ex;">prevent an error in <b>commands</b> from
  aborting the whole commands execution, execute <b>on_error_commands</b>
  instead. If nothing is to be done on error, the catch part can be
  omitted</div>
<div class="Pp"></div>
<b>reg</b> &lt;name&gt; &lt;content&gt;
<div style="margin-left: 4.00ex;">set register <b>name</b> to
  <b>content</b></div>
<div class="Pp"></div>
<b>select</b>
  &lt;anchor_line&gt;.&lt;anchor_column&gt;,&lt;cursor_line&gt;.&lt;cursor_column&gt;:...
<div style="margin-left: 4.00ex;">replace the current selections with the one
  described in the argument</div>
<div class="Pp"></div>
<b>debug</b> {info,buffers,options,memory,shared-strings}
<div style="margin-left: 4.00ex;">print some debug information in the
  <b>\*debug</b>* buffer</div>
<div style="height: 1.00em;">&#x00A0;</div>
Note that those commands are also available in the interactive mode, but are not
  really useful in that context.
<h1 class="Sh" title="Sh" id="MULTIPLE_COMMANDS"><a class="selflink" href="#MULTIPLE_COMMANDS">MULTIPLE
  COMMANDS</a></h1>
Commands (c.f. previous sections) can be chained, by being separated either by
  new lines or by semicolons, as such a semicolon must be escaped with a
  backslash (\;) to be considered as a literal semicolon argument
<h1 class="Sh" title="Sh" id="DECLARING_NEW_COMMANDS"><a class="selflink" href="#DECLARING_NEW_COMMANDS">DECLARING
  NEW COMMANDS</a></h1>
New commands can be defined using the <b>define-command</b> command:
<div class="Pp"></div>
<b>define-command</b> [flags] &lt;command_name&gt; &lt;commands&gt;
<div style="margin-left: 4.00ex;"><b>commands</b> is a string containing the
  commands to execute, and <b>flags</b> can be any combination of the following
  parameters:
<div class="Pp"></div>
<b>-params</b> &lt;num&gt;
<div style="margin-left: 4.00ex;">the command accepts a <b>num</b> parameter,
  which can be either a number, or of the form &lt;min&gt;..&lt;max&gt;, with
  both &lt;min&gt; and &lt;max&gt; omittable</div>
<div class="Pp"></div>
<b>-file-completion</b>
<div style="margin-left: 4.00ex;">try file completion on any parameter passed to
  this command</div>
<div class="Pp"></div>
<b>-client-completion</b>
<div style="margin-left: 4.00ex;">try client name completion on any parameter
  passed to this command</div>
<div class="Pp"></div>
<b>-buffer-completion</b>
<div style="margin-left: 4.00ex;">try buffer name completion on any parameter
  passed to this command</div>
<div class="Pp"></div>
<b>-shell-completion</b>
<div style="margin-left: 4.00ex;">following string is a shell command which
  takes parameters as positional params and output one completion candidate per
  line</div>
<div class="Pp"></div>
<b>-allow-override</b>
<div style="margin-left: 4.00ex;">allow the new command to replace an existing
  one with the same name</div>
<div class="Pp"></div>
<b>-hidden</b>
<div style="margin-left: 4.00ex;">do not show the command in command name
  completions</div>
<div class="Pp"></div>
<b>-docstring</b>
<div style="margin-left: 4.00ex;">define the documentation string for the
  command</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Using shell expansion allows one to define complex commands or to access Kakoune
  state:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
def &quot; print_selection %{ echo %sh{ ${kak_selection} } }&quot;
</pre>
</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
