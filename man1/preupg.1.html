<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>preupg(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">preupg(1)</td>
    <td class="head-vol">Linux User's Manual</td>
    <td class="head-rtitle">preupg(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
preupg - Preupgrade assistant performs assessment of the system from the
  &quot;upgradeability&quot; point of view
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>preupg used in case of one installed contents on source system</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>preupg [-l, --list-contents]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>preupg [-d, --debug] [--skip-common] [-s, --scan PATH] [-m, --mode MODE]
  [--force] [--text] [--kickstart] [--dst-arch]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>preupg [-v, --verbose] [--riskcheck]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>preupg [-c, --contents PATH]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>preupg [--cleanup]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>preupg</b> is the main binary of Preupgrade Assistant.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c, --contents PATH</b></dt>
  <dd class="It-tag">Generates a content for preupgrade assistant.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --debug</b></dt>
  <dd class="It-tag">Makes preupgrade assistant log lots of debugging
      information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cleanup</b></dt>
  <dd class="It-tag">Clean all files created by preupg about previous state of
      the machine.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force</b></dt>
  <dd class="It-tag">Suppress user interaction.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--kickstart</b></dt>
  <dd class="It-tag">Generate kickstart.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l, --list</b></dt>
  <dd class="It-tag">Shows list of installed contents</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m, --mode MODE</b></dt>
  <dd class="It-tag">Select one (or both) from the possible modes:
      <b>migrate</b> or <b>upgrade</b>. Both modes are used by default.
      <b>upgrade</b> is used for in-place upgrades on the same machine by
      <i>fedup</i> or <i>redhat-upgrade-tool</i>. <b>migrate</b> is used for
      migration with kickstart with new clean installation, with settings of the
      new system as close as possible to settings of original system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s, --scan PATH</b></dt>
  <dd class="It-tag">Executes selected assessment taken from list option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--skip-common</b></dt>
  <dd class="It-tag">Skips generating common log files used during
    assessment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--riskcheck</b></dt>
  <dd class="It-tag">Returns value which depends on INPLACE RISK results. If
      verbose mode is mentioned then shows all inplace risks generated during
      assessment. Return values are 0 for SLIGHT, MEDIUM risk or 1 for HIGH risk
      or 2 for EXTREME risk.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--text</b></dt>
  <dd class="It-tag">Convert HTML results to text form by elinks, lynx or
    w3m.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Shows more information during assessment. Verbose can be
      repeated more times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dst-arch</b></dt>
  <dd class="It-tag">Specify destination architecture for migrations. Allowed
      options are: i386-x86_64 or ppc-ppc64.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="RETURN_STATES"><a class="selflink" href="#RETURN_STATES">RETURN
  STATES</a></h1>
<b>preupg</b> command returns several return values.
<div style="height: 1.00em;">&#x00A0;</div>
Possible return values are:
<div style="height: 1.00em;">&#x00A0;</div>
<b>0</b> - preupg works properly and was successful even modules went properly.
  Modules exits with results PASS.
<div style="height: 1.00em;">&#x00A0;</div>
<b>10</b> - preupg works properly but modules finishes with 10. Modules exits
  with results NOT_APPLICABLE, NOT_CHECKED, NOT_SELECTED.
<div style="height: 1.00em;">&#x00A0;</div>
<b>11</b> - preupg works properly but modules finishes with 11. Modules exits
  with results INFORMATIONAL.
<div style="height: 1.00em;">&#x00A0;</div>
<b>12</b> - preupg works properly but modules finishes with 12. Modules exits
  with results FIXED, NEEDS_INSPECTION or NEEDS_ACTION.
<div style="height: 1.00em;">&#x00A0;</div>
<b>13</b> - preupg works properly but modules finishes with 13. Modules exits
  with results FAILED.
<div style="height: 1.00em;">&#x00A0;</div>
<b>14</b> - preupg works properly but modules finishes with 14. Modules exits
  with results UNKNOWN.
<div style="height: 1.00em;">&#x00A0;</div>
<b>15</b> - preupg works properly but modules finishes with 15. Modules exits
  with results ERROR.
<div style="height: 1.00em;">&#x00A0;</div>
<b>20</b> - preupg does not find a proper upgrade scenario.
<div style="height: 1.00em;">&#x00A0;</div>
<b>21</b> - preupg is executed with parameters <b>mode</b> and
  <b>select-rules</b>. This is not allowed.
<div style="height: 1.00em;">&#x00A0;</div>
<b>22</b> - preupg is executed with parameters <b>riskcheck</b>, <b>cleanup</b>
  and <b>kickstart</b>. This options are not allowed together.
<div style="height: 1.00em;">&#x00A0;</div>
<b>23</b> - preupg has to be executed as <b>root</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>24</b> - preupg has to be executed before kickstart generation.
<div style="height: 1.00em;">&#x00A0;</div>
<b>25</b> - openscap and openscap-engine-sce are not installed on the system.
<div style="height: 1.00em;">&#x00A0;</div>
<b>26</b> - you specified a text convertor which does not exist. Allowe
  convertors are <b>w3m</b>, <b>lynx</b> and <b>elinks</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>27</b> - File <b>/usr/share/preupgrade/common/scripts.txt</b> is missing.
  Preupgrade-assistant is not installed properly. Reinstall it.
<div style="height: 1.00em;">&#x00A0;</div>
<b>28</b> - We have detected some trouble with sending report to WEB-UI. Check
  if it is installed.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
All common log files are stored in <b>/var/cache/preupgrade/common</b>
  directory. Assessment results are stored in <b>/root/preupgrade</b> directory.
  Tarballs with all assessments are stored in directory
  <b>/root/preupgrade-results</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Petr Hracek, &lt;phracek@redhat.com&gt; (man page)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-03-01</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
