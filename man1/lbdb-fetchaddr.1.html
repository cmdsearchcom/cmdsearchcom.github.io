<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>LBDB-FETCHADDR(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">LBDB-FETCHADDR(1)</td>
    <td class="head-vol">User Manuals</td>
    <td class="head-rtitle">LBDB-FETCHADDR(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
lbdb-fetchaddr - grab addresses from mails add append them to lbdb database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>lbdb-fetchaddr</b> [<b>-d</b> <i>dateformat</i>] [<b>-x</b>
  <i>headerfieldlist</i>] [<b>-c</b> <i>charset</i>] [<b>-a</b>]
<div>&#x00A0;</div>
<b>lbdb-fetchaddr</b> [<b>-v</b>|<b>-h</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>lbdb-fetchaddr</b> is a shell script which reads a mail on stdin. It extracts
  the contents of some header fields (default: `<b>From:</b>', `<b>To:</b>',
  `<b>Cc:</b>', `<b>Resent-From:</b>', and `<b>Resent-To:</b>') from the mail
  header (only addresses with a real name) and appends them to
  <i>$HOME/.lbdb/m_inmail.utf-8</i>. For performance issues
  <b>lbdb-fetchaddr</b> appends new addresses to this file without removing
  duplicates. To get rid of duplicates, the program <b>lbdb-munge</b> exists,
  which is run by <b>m_inmail</b> if needed and removes duplicates.
<div class="Pp"></div>
To use this program, put the following lines into your <i>$HOME/.procmailrc:</i>
<pre>
     :0hc
     | lbdb-fetchaddr
</pre>
<div class="Pp"></div>
<b>lbdb-fetchaddr</b> writes the actual date to the third column of the database
  by using <b>strftime</b>(3). It uses &quot;%Y-%m-%d %H:%M&quot; as the default
  date format (e.g. &quot;1999-04-29 14:33&quot;). You can change this by using
  the <b>-d</b> option to select a different date format string as parameter of
  lbdb-fetchaddr command like
<pre>
     :0hc
     | lbdb-fetchaddr -d &quot;%y-%m-%d&quot;
</pre>
which results in e.g. &quot;99-04-29&quot;.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Print version number of lbdb-fetchaddr.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Print short help of lbdb-fetchaddr.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b><i> dateformat</i></dt>
  <dd class="It-tag">Use the given date format using <b>strftime</b>(3)
    syntax.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b><i> headerfields</i></dt>
  <dd class="It-tag">A colon separated list of header fields, which should be
      searched for mail addresses. If this option isn't given, we fall back to
      `<b>from:to:cc:resent-from:resent-to</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b><i> charset</i></dt>
  <dd class="It-tag">The charset which will be used to write the database. This
      should be the charset which the application expects (normally the one from
      your current locale). If this option isn't given, we fall back to
      `<b>utf-8</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">Also grab addresses without a real name. Use the local part
      of the mail address as real name.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>$HOME/.lbdb/m_inmail.utf-8</i>
<div>&#x00A0;</div>
<i>$HOME/.lbdb/m_inmail.list</i> (old version used for ISO-8859-15 encoded
  addresses)
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<i>/usr/lib/lbdb/fetchaddr</i>
<div>&#x00A0;</div>
<i>/usr/lib/lbdb/m_inmail</i>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>lbdbq</b>(1), <b>lbdb_dotlock</b>(1), <b>procmail</b>(1),
  <b>procmailrc</b>(5), <b>strftime</b>(3).
<h1 class="Sh" title="Sh" id="CREDITS"><a class="selflink" href="#CREDITS">CREDITS</a></h1>
Most of the really interesting code of this program (namely, the RFC 822 address
  parser used by lbdb-fetchaddr) was stolen from Michael Elkins' mutt mail user
  agent. Additional credits go to Brandon Long for putting the query
  functionality into mutt.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The lbdb package was written by Thomas Roessler &lt;roessler@guug.de&gt; and is
  now maintained and extended by Roland Rosenfeld
  &lt;roland@spinnaker.de&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 2016</td>
    <td class="foot-os">Unix</td>
  </tr>
</table>
</body>
</html>
