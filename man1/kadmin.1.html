<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KADMIN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KADMIN(1)</td>
    <td class="head-vol">MIT Kerberos</td>
    <td class="head-rtitle">KADMIN(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
kadmin - Kerberos V5 database administration program
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>kadmin</b> [ <b>-O</b>|<b>-N</b>] [ <b>-r</b> <i>realm</i>] [ <b>-p</b>
  <i>principal</i>] [ <b>-q</b> <i>query</i>] [[ <b>-c</b>
  <i>cache_name</i>]|[<b>-k</b> [<b>-t</b> <i>keytab</i>]]|<b>-n</b>] [
  <b>-w</b> <i>password</i>] [ <b>-s</b> <i>admin_server</i>[:<i>port</i>]]
  [command args...]
<div style="height: 1.00em;">&#x00A0;</div>
<b>kadmin.local</b> [ <b>-r</b> <i>realm</i>] [ <b>-p</b> <i>principal</i>] [
  <b>-q</b> <i>query</i>] [ <b>-d</b> <i>dbname</i>] [ <b>-e</b>
  <i>enc</i>:<i>salt</i> ...] [ <b>-m</b>] [ <b>-x</b> <i>db_args</i>] [command
  args...]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
kadmin and kadmin.local are command-line interfaces to the Kerberos V5
  administration system. They provide nearly identical functionalities; the
  difference is that kadmin.local directly accesses the KDC database, while
  kadmin performs operations using <i>kadmind(8)</i>. Except as explicitly noted
  otherwise, this man page will use &quot;kadmin&quot; to refer to both
  versions. kadmin provides for the maintenance of Kerberos principals, password
  policies, and service key tables (keytabs).
<div style="height: 1.00em;">&#x00A0;</div>
The remote kadmin client uses Kerberos to authenticate to kadmind using the
  service principal <b>kadmin/ADMINHOST</b> (where <i>ADMINHOST</i> is the
  fully-qualified hostname of the admin server) or <b>kadmin/admin</b>. If the
  credentials cache contains a ticket for one of these principals, and the
  <b>-c</b> credentials_cache option is specified, that ticket is used to
  authenticate to kadmind. Otherwise, the <b>-p</b> and <b>-k</b> options are
  used to specify the client Kerberos principal name used to authenticate. Once
  kadmin has determined the principal name, it requests a service ticket from
  the KDC, and uses that service ticket to authenticate to kadmind.
<div style="height: 1.00em;">&#x00A0;</div>
Since kadmin.local directly accesses the KDC database, it usually must be run
  directly on the master KDC with sufficient permissions to read the KDC
  database. If the KDC database uses the LDAP database module, kadmin.local can
  be run on any host which can access the LDAP server.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-r</b> <i>realm</i></b></dt>
  <dd class="It-tag">Use <i>realm</i> as the default database realm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-p</b> <i>principal</i></b></dt>
  <dd class="It-tag">Use <i>principal</i> to authenticate. Otherwise, kadmin
      will append <b>/admin</b> to the primary principal name of the default
      ccache, the value of the <b>USER</b> environment variable, or the username
      as obtained with getpwuid, in order of preference.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k</b></b></dt>
  <dd class="It-tag">Use a keytab to decrypt the KDC response instead of
      prompting for a password. In this case, the default principal will be
      <b>host/hostname</b>. If there is no keytab specified with the <b>-t</b>
      option, then the default keytab will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-t</b> <i>keytab</i></b></dt>
  <dd class="It-tag">Use <i>keytab</i> to decrypt the KDC response. This can
      only be used with the <b>-k</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-n</b></b></dt>
  <dd class="It-tag">Requests anonymous processing. Two types of anonymous
      principals are supported. For fully anonymous Kerberos, configure PKINIT
      on the KDC and configure <b>pkinit_anchors</b> in the client's
      <i>krb5.conf(5)</i>. Then use the <b>-n</b> option with a principal of the
      form <b>@REALM</b> (an empty principal name followed by the at-sign and a
      realm name). If permitted by the KDC, an anonymous ticket will be
      returned. A second form of anonymous tickets is supported; these
      realm-exposed tickets hide the identity of the client but not the client's
      realm. For this mode, use <b>kinit</b> <b>-n</b> with a normal principal
      name. If supported by the KDC, the principal (but not realm) will be
      replaced by the anonymous principal. As of release 1.8, the MIT Kerberos
      KDC only supports fully anonymous operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c</b> <i>credentials_cache</i></b></dt>
  <dd class="It-tag">Use <i>credentials_cache</i> as the credentials cache. The
      cache should contain a service ticket for the <b>kadmin/ADMINHOST</b>
      (where <i>ADMINHOST</i> is the fully-qualified hostname of the admin
      server) or <b>kadmin/admin</b> service; it can be acquired with the
      <i>kinit(1)</i> program. If this option is not specified, kadmin requests
      a new service ticket from the KDC, and stores it in its own temporary
      ccache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-w</b> <i>password</i></b></dt>
  <dd class="It-tag">Use <i>password</i> instead of prompting for one. Use this
      option with care, as it may expose the password to other users on the
      system via the process list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-q</b> <i>query</i></b></dt>
  <dd class="It-tag">Perform the specified query and then exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b> <i>dbname</i></b></dt>
  <dd class="It-tag">Specifies the name of the KDC database. This option does
      not apply to the LDAP database module.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-s</b> <i>admin_server</i>[:<i>port</i>]</b></dt>
  <dd class="It-tag">Specifies the admin server which kadmin should
    contact.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-m</b></b></dt>
  <dd class="It-tag">If using kadmin.local, prompt for the database master
      password instead of reading it from a stash file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b> <i>enc</i>:<i>salt</i> ...</b></dt>
  <dd class="It-tag">Sets the keysalt list to be used for any new keys created.
      See <i>Keysalt_lists</i> in <i>kdc.conf(5)</i> for a list of possible
      values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-O</b></b></dt>
  <dd class="It-tag">Force use of old AUTH_GSSAPI authentication flavor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-N</b></b></dt>
  <dd class="It-tag">Prevent fallback to AUTH_GSSAPI authentication flavor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x</b> <i>db_args</i></b></dt>
  <dd class="It-tag">Specifies the database specific arguments. See the next
      section for supported options.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Starting with release 1.14, if any command-line arguments remain after the
  options, they will be treated as a single query to be executed. This mode of
  operation is intended for scripts and behaves differently from the interactive
  mode in several respects:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Query arguments are split by the shell, not by kadmin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Informational and warning messages are suppressed. Error
      messages and query output (e.g. for <b>get_principal</b>) will still be
      displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Confirmation prompts are disabled (as if <b>-force</b> was
      given). Password prompts will still be issued as required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The exit status will be non-zero if the query fails.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The <b>-q</b> option does not carry these behavior differences; the query will
  be processed as if it was entered interactively. The <b>-q</b> option cannot
  be used in combination with a query in the remaining arguments.
<h1 class="Sh" title="Sh" id="DATABASE_OPTIONS"><a class="selflink" href="#DATABASE_OPTIONS">DATABASE
  OPTIONS</a></h1>
Database options can be used to override database-specific defaults. Supported
  options for the DB2 module are:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x dbname=</b>*filename*</b></dt>
  <dd class="It-tag">Specifies the base filename of the DB2 database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x lockiter</b></b></dt>
  <dd class="It-tag">Make iteration operations hold the lock for the duration of
      the entire operation, rather than temporarily releasing the lock while
      handling each principal. This is the default behavior, but this option
      exists to allow command line override of a [dbmodules] setting. First
      introduced in release 1.13.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x unlockiter</b></b></dt>
  <dd class="It-tag">Make iteration operations unlock the database for each
      principal, instead of holding the lock for the duration of the entire
      operation. First introduced in release 1.13.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Supported options for the LDAP module are:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x host=</b><i>ldapuri</i></b></dt>
  <dd class="It-tag">Specifies the LDAP server to connect to by a LDAP URI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x binddn=</b><i>bind_dn</i></b></dt>
  <dd class="It-tag">Specifies the DN used to bind to the LDAP server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x bindpwd=</b><i>password</i></b></dt>
  <dd class="It-tag">Specifies the password or SASL secret used to bind to the
      LDAP server. Using this option may expose the password to other users on
      the system via the process list; to avoid this, instead stash the password
      using the <b>stashsrvpw</b> command of <i>kdb5_ldap_util(8)</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x sasl_mech=</b><i>mechanism</i></b></dt>
  <dd class="It-tag">Specifies the SASL mechanism used to bind to the LDAP
      server. The bind DN is ignored if a SASL mechanism is used. New in release
      1.13.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x sasl_authcid=</b><i>name</i></b></dt>
  <dd class="It-tag">Specifies the authentication name used when binding to the
      LDAP server with a SASL mechanism, if the mechanism requires one. New in
      release 1.13.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x sasl_authzid=</b><i>name</i></b></dt>
  <dd class="It-tag">Specifies the authorization name used when binding to the
      LDAP server with a SASL mechanism. New in release 1.13.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x sasl_realm=</b><i>realm</i></b></dt>
  <dd class="It-tag">Specifies the realm used when binding to the LDAP server
      with a SASL mechanism, if the mechanism uses one. New in release
    1.13.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x debug=</b><i>level</i></b></dt>
  <dd class="It-tag">sets the OpenLDAP client library debug level. <i>level</i>
      is an integer to be interpreted by the library. Debugging messages are
      printed to standard error. New in release 1.12.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
When using the remote client, available commands may be restricted according to
  the privileges specified in the <i>kadm5.acl(5)</i> file on the admin server.
<h2 class="Ss" title="Ss" id="add_principal"><a class="selflink" href="#add_principal">add_principal</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>add_principal</b> [<i>options</i>]
  <i>newprinc</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Creates the principal <i>newprinc</i>, prompting twice for a password. If no
  password policy is specified with the <b>-policy</b> option, and the policy
  named <b>default</b> is assigned to the principal if it exists. However,
  creating a policy named <b>default</b> will not automatically assign this
  policy to previously existing principals. This policy assignment can be
  suppressed with the <b>-clearpolicy</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>add</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Aliases: <b>addprinc</b>, <b>ank</b>
<div style="height: 1.00em;">&#x00A0;</div>
Options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-expire</b> <i>expdate</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) The expiration date of the
      principal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-pwexpire</b> <i>pwexpdate</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) The password expiration date.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-maxlife</b> <i>maxlife</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) The maximum ticket life for the
      principal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-maxrenewlife</b> <i>maxrenewlife</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) The maximum renewable life of
      tickets for the principal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-kvno</b> <i>kvno</i></b></dt>
  <dd class="It-tag">The initial key version number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-policy</b> <i>policy</i></b></dt>
  <dd class="It-tag">The password policy used by this principal. If not
      specified, the policy <b>default</b> is used if it exists (unless
      <b>-clearpolicy</b> is specified).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-clearpolicy</b></b></dt>
  <dd class="It-tag">Prevents any policy from being assigned when <b>-policy</b>
      is not specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_postdated</b></b></dt>
  <dd class="It-tag"><b>-allow_postdated</b> prohibits this principal from
      obtaining postdated tickets. <b>+allow_postdated</b> clears this
    flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_forwardable</b></b></dt>
  <dd class="It-tag"><b>-allow_forwardable</b> prohibits this principal from
      obtaining forwardable tickets. <b>+allow_forwardable</b> clears this
    flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_renewable</b></b></dt>
  <dd class="It-tag"><b>-allow_renewable</b> prohibits this principal from
      obtaining renewable tickets. <b>+allow_renewable</b> clears this
    flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_proxiable</b></b></dt>
  <dd class="It-tag"><b>-allow_proxiable</b> prohibits this principal from
      obtaining proxiable tickets. <b>+allow_proxiable</b> clears this
    flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_dup_skey</b></b></dt>
  <dd class="It-tag"><b>-allow_dup_skey</b> disables user-to-user authentication
      for this principal by prohibiting this principal from obtaining a session
      key for another user. <b>+allow_dup_skey</b> clears this flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>requires_preauth</b></b></dt>
  <dd class="It-tag"><b>+requires_preauth</b> requires this principal to
      preauthenticate before being allowed to kinit. <b>-requires_preauth</b>
      clears this flag. When <b>+requires_preauth</b> is set on a service
      principal, the KDC will only issue service tickets for that service
      principal if the client's initial authentication was performed using
      preauthentication.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>requires_hwauth</b></b></dt>
  <dd class="It-tag"><b>+requires_hwauth</b> requires this principal to
      preauthenticate using a hardware device before being allowed to kinit.
      <b>-requires_hwauth</b> clears this flag. When <b>+requires_hwauth</b> is
      set on a service principal, the KDC will only issue service tickets for
      that service principal if the client's initial authentication was
      performed using a hardware device to preauthenticate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>ok_as_delegate</b></b></dt>
  <dd class="It-tag"><b>+ok_as_delegate</b> sets the <b>okay as delegate</b>
      flag on tickets issued with this principal as the service. Clients may use
      this flag as a hint that credentials should be delegated when
      authenticating to the service. <b>-ok_as_delegate</b> clears this
    flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_svr</b></b></dt>
  <dd class="It-tag"><b>-allow_svr</b> prohibits the issuance of service tickets
      for this principal. <b>+allow_svr</b> clears this flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_tgs_req</b></b></dt>
  <dd class="It-tag"><b>-allow_tgs_req</b> specifies that a Ticket-Granting
      Service (TGS) request for a service ticket for this principal is not
      permitted. <b>+allow_tgs_req</b> clears this flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>allow_tix</b></b></dt>
  <dd class="It-tag"><b>-allow_tix</b> forbids the issuance of any tickets for
      this principal. <b>+allow_tix</b> clears this flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>needchange</b></b></dt>
  <dd class="It-tag"><b>+needchange</b> forces a password change on the next
      initial authentication to this principal. <b>-needchange</b> clears this
      flag.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>password_changing_service</b></b></dt>
  <dd class="It-tag"><b>+password_changing_service</b> marks this principal as a
      password change service principal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>ok_to_auth_as_delegate</b></b></dt>
  <dd class="It-tag"><b>+ok_to_auth_as_delegate</b> allows this principal to
      acquire forwardable tickets to itself from arbitrary users, for use with
      constrained delegation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{-|+}<b>no_auth_data_required</b></b></dt>
  <dd class="It-tag"><b>+no_auth_data_required</b> prevents PAC or AD-SIGNEDPATH
      data from being added to service tickets for the principal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-randkey</b></b></dt>
  <dd class="It-tag">Sets the key of the principal to a random value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-nokey</b></b></dt>
  <dd class="It-tag">Causes the principal to be created with no key. New in
      release 1.12.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-pw</b> <i>password</i></b></dt>
  <dd class="It-tag">Sets the password of the principal to the specified string
      and does not prompt for a password. Note: using this option in a shell
      script may expose the password to other users on the system via the
      process list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b> <i>enc</i>:<i>salt</i>,...</b></dt>
  <dd class="It-tag">Uses the specified keysalt list for setting the keys of the
      principal. See <i>Keysalt_lists</i> in <i>kdc.conf(5)</i> for a list of
      possible values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x</b> <i>db_princ_args</i></b></dt>
  <dd class="It-tag">Indicates database-specific options. The options for the
      LDAP database module are:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x dn=</b><i>dn</i></b></dt>
  <dd class="It-tag">Specifies the LDAP object that will contain the Kerberos
      principal being created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x linkdn=</b><i>dn</i></b></dt>
  <dd class="It-tag">Specifies the LDAP object to which the newly created
      Kerberos principal object will point.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x containerdn=</b><i>container_dn</i></b></dt>
  <dd class="It-tag">Specifies the container object under which the Kerberos
      principal is to be created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x tktpolicy=</b><i>policy</i></b></dt>
  <dd class="It-tag">Associates a ticket policy to the Kerberos principal.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The <b>containerdn</b> and <b>linkdn</b> options cannot be
      specified with the <b>dn</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">If the <i>dn</i> or <i>containerdn</i> options are not
      specified while adding the principal, the principals are created under the
      principal container configured in the realm or the realm container.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>dn</i> and <i>containerdn</i> should be within the
      subtrees or principal container configured in the realm.</dd>
</dl>
</div>
<br/>
</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: addprinc jennifer
WARNING: no policy specified for &quot;jennifer@ATHENA.MIT.EDU&quot;;
defaulting to no policy.
Enter password for principal jennifer@ATHENA.MIT.EDU:
Re-enter password for principal jennifer@ATHENA.MIT.EDU:
Principal &quot;jennifer@ATHENA.MIT.EDU&quot; created.
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="modify_principal"><a class="selflink" href="#modify_principal">modify_principal</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>modify_principal</b> [<i>options</i>]
  <i>principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Modifies the specified principal, changing the fields as specified. The options
  to <b>add_principal</b> also apply to this command, except for the
  <b>-randkey</b>, <b>-pw</b>, and <b>-e</b> options. In addition, the option
  <b>-clearpolicy</b> will clear the current policy of a principal.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <i>modify</i> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>modprinc</b>
<div style="height: 1.00em;">&#x00A0;</div>
Options (in addition to the <b>addprinc</b> options):
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-unlock</b></b></dt>
  <dd class="It-tag">Unlocks a locked principal (one which has received too many
      failed authentication attempts without enough time between them according
      to its password policy) so that it can successfully authenticate.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="rename_principal"><a class="selflink" href="#rename_principal">rename_principal</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>rename_principal</b> [<b>-force</b>]
  <i>old_principal</i> <i>new_principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Renames the specified <i>old_principal</i> to <i>new_principal</i>. This command
  prompts for confirmation, unless the <b>-force</b> option is given.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>add</b> and <b>delete</b> privileges.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>renprinc</b>
<h2 class="Ss" title="Ss" id="delete_principal"><a class="selflink" href="#delete_principal">delete_principal</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>delete_principal</b> [<b>-force</b>]
  <i>principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Deletes the specified <i>principal</i> from the database. This command prompts
  for deletion, unless the <b>-force</b> option is given.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>delete</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>delprinc</b>
<h2 class="Ss" title="Ss" id="change_password"><a class="selflink" href="#change_password">change_password</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>change_password</b> [<i>options</i>]
  <i>principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Changes the password of <i>principal</i>. Prompts for a new password if neither
  <b>-randkey</b> or <b>-pw</b> is specified.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>changepw</b> privilege, or that the principal
  running the program is the same as the principal being changed.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>cpw</b>
<div style="height: 1.00em;">&#x00A0;</div>
The following options are available:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-randkey</b></b></dt>
  <dd class="It-tag">Sets the key of the principal to a random value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-pw</b> <i>password</i></b></dt>
  <dd class="It-tag">Set the password to the specified string. Using this option
      in a script may expose the password to other users on the system via the
      process list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b> <i>enc</i>:<i>salt</i>,...</b></dt>
  <dd class="It-tag">Uses the specified keysalt list for setting the keys of the
      principal. See <i>Keysalt_lists</i> in <i>kdc.conf(5)</i> for a list of
      possible values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-keepold</b></b></dt>
  <dd class="It-tag">Keeps the existing keys in the database. This flag is
      usually not necessary except perhaps for <b>krbtgt</b> principals.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: cpw systest
Enter password for principal systest@BLEEP.COM:
Re-enter password for principal systest@BLEEP.COM:
Password for systest@BLEEP.COM changed.
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="purgekeys"><a class="selflink" href="#purgekeys">purgekeys</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>purgekeys</b> [<b>-all</b>|<b>-keepkvno</b>
  <i>oldest_kvno_to_keep</i>] <i>principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Purges previously retained old keys (e.g., from <b>change_password</b>
  <b>-keepold</b>) from <i>principal</i>. If <b>-keepkvno</b> is specified, then
  only purges keys with kvnos lower than <i>oldest_kvno_to_keep</i>. If
  <b>-all</b> is specified, then all keys are purged. The <b>-all</b> option is
  new in release 1.12.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>modify</b> privilege.
<h2 class="Ss" title="Ss" id="get_principal"><a class="selflink" href="#get_principal">get_principal</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>get_principal</b> [<b>-terse</b>]
  <i>principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Gets the attributes of principal. With the <b>-terse</b> option, outputs fields
  as quoted tab-separated strings.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>inquire</b> privilege, or that the principal
  running the the program to be the same as the one being listed.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>getprinc</b>
<div style="height: 1.00em;">&#x00A0;</div>
Examples:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: getprinc tlyu/admin
Principal: tlyu/admin@BLEEP.COM
Expiration date: [never]
Last password change: Mon Aug 12 14:16:47 EDT 1996
Password expiration date: [none]
Maximum ticket life: 0 days 10:00:00
Maximum renewable life: 7 days 00:00:00
Last modified: Mon Aug 12 14:16:47 EDT 1996 (bjaspan/admin@BLEEP.COM)
Last successful authentication: [never]
Last failed authentication: [never]
Failed password attempts: 0
Number of keys: 2
Key: vno 1, des-cbc-crc
Key: vno 1, des-cbc-crc:v4
Attributes:
Policy: [none]
<div class="Pp"></div>
kadmin: getprinc -terse systest
systest@BLEEP.COM   3    86400     604800    1
785926535 753241234 785900000
tlyu/admin@BLEEP.COM     786100034 0    0
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="list_principals"><a class="selflink" href="#list_principals">list_principals</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>list_principals</b>
  [<i>expression</i>]</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Retrieves all or some principal names. <i>expression</i> is a shell-style glob
  expression that can contain the wild-card characters <b>?</b>, <b>*</b>, and
  <b>[]</b>. All principal names matching the expression are printed. If no
  expression is provided, all principal names are printed. If the expression
  does not contain an <b>@</b> character, an <b>@</b> character followed by the
  local realm is appended to the expression.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>list</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>listprincs</b>, <b>get_principals</b>, <b>get_princs</b>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin:  listprincs test*
test3@SECURE-TEST.OV.COM
test2@SECURE-TEST.OV.COM
test1@SECURE-TEST.OV.COM
testuser@SECURE-TEST.OV.COM
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="get_strings"><a class="selflink" href="#get_strings">get_strings</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>get_strings</b> <i>principal</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Displays string attributes on <i>principal</i>.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>inquire</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>getstr</b>
<h2 class="Ss" title="Ss" id="set_string"><a class="selflink" href="#set_string">set_string</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>set_string</b> <i>principal</i> <i>name</i>
  <i>value</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Sets a string attribute on <i>principal</i>. String attributes are used to
  supply per-principal configuration to the KDC and some KDC plugin modules. The
  following string attribute names are recognized by the KDC:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>require_auth</b></b></dt>
  <dd class="It-tag">Specifies an authentication indicator which is required to
      authenticate to the principal as a service. Multiple indicators can be
      specified, separated by spaces; in this case any of the specified
      indicators will be accepted. (New in release 1.14.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>session_enctypes</b></b></dt>
  <dd class="It-tag">Specifies the encryption types supported for session keys
      when the principal is authenticated to as a server. See
      <i>Encryption_types</i> in <i>kdc.conf(5)</i> for a list of the accepted
      values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>otp</b></b></dt>
  <dd class="It-tag">Enables One Time Passwords (OTP) preauthentication for a
      client <i>principal</i>. The <i>value</i> is a JSON string representing an
      array of objects, each having optional <b>type</b> and <b>username</b>
      fields.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>modify</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>setstr</b>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
set_string host/foo.mit.edu session_enctypes aes128-cts
set_string user@FOO.COM otp [{&quot;type&quot;:&quot;hotp&quot;,&quot;username&quot;:&quot;custom&quot;}]
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="del_string"><a class="selflink" href="#del_string">del_string</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>del_string</b> <i>principal</i>
  <i>key</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Deletes a string attribute from <i>principal</i>.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>delete</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>delstr</b>
<h2 class="Ss" title="Ss" id="add_policy"><a class="selflink" href="#add_policy">add_policy</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>add_policy</b> [<i>options</i>]
  <i>policy</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Adds a password policy named <i>policy</i> to the database.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>add</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>addpol</b>
<div style="height: 1.00em;">&#x00A0;</div>
The following options are available:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-maxlife</b> <i>time</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) Sets the maximum lifetime of a
      password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-minlife</b> <i>time</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) Sets the minimum lifetime of a
      password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-minlength</b> <i>length</i></b></dt>
  <dd class="It-tag">Sets the minimum length of a password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-minclasses</b> <i>number</i></b></dt>
  <dd class="It-tag">Sets the minimum number of character classes required in a
      password. The five character classes are lower case, upper case, numbers,
      punctuation, and whitespace/unprintable characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-history</b> <i>number</i></b></dt>
  <dd class="It-tag">Sets the number of past keys kept for a principal. This
      option is not supported with the LDAP KDC database module.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-maxfailure</b> <i>maxnumber</i></b></dt>
  <dd class="It-tag">Sets the number of authentication failures before the
      principal is locked. Authentication failures are only tracked for
      principals which require preauthentication. The counter of failed attempts
      resets to 0 after a successful attempt to authenticate. A <i>maxnumber</i>
      value of 0 (the default) disables lockout.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-failurecountinterval</b> <i>failuretime</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) Sets the allowable time between
      authentication failures. If an authentication failure happens after
      <i>failuretime</i> has elapsed since the previous failure, the number of
      authentication failures is reset to 1. A <i>failuretime</i> value of 0
      (the default) means forever.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-lockoutduration</b> <i>lockouttime</i></b></dt>
  <dd class="It-tag">(<i>getdate</i> string) Sets the duration for which the
      principal is locked from authenticating if too many authentication
      failures occur without the specified failure count interval elapsing. A
      duration of 0 (the default) means the principal remains locked out until
      it is administratively unlocked with <b>modprinc</b> <b>-unlock</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-allowedkeysalts</b></b></dt>
  <dd class="It-tag">Specifies the key/salt tuples supported for long-term keys
      when setting or changing a principal's password/keys. See
      <i>Keysalt_lists</i> in <i>kdc.conf(5)</i> for a list of the accepted
      values, but note that key/salt tuples must be separated with commas (',')
      only. To clear the allowed key/salt policy use a value of '-'.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: add_policy -maxlife &quot;2 days&quot; -minlength 5 guests
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="modify_policy"><a class="selflink" href="#modify_policy">modify_policy</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>modify_policy</b> [<i>options</i>]
  <i>policy</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Modifies the password policy named <i>policy</i>. Options are as described for
  <b>add_policy</b>.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>modify</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>modpol</b>
<h2 class="Ss" title="Ss" id="delete_policy"><a class="selflink" href="#delete_policy">delete_policy</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>delete_policy</b> [<b>-force</b>]
  <i>policy</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Deletes the password policy named <i>policy</i>. Prompts for confirmation before
  deletion. The command will fail if the policy is in use by any principals.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>delete</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: <b>delpol</b>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: del_policy guests
Are you sure you want to delete the policy &quot;guests&quot;?
(yes/no): yes
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="get_policy"><a class="selflink" href="#get_policy">get_policy</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>get_policy</b> [ <b>-terse</b> ]
  <i>policy</i></div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Displays the values of the password policy named <i>policy</i>. With the
  <b>-terse</b> flag, outputs the fields as quoted strings separated by tabs.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>inquire</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Alias: getpol
<div style="height: 1.00em;">&#x00A0;</div>
Examples:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: get_policy admin
Policy: admin
Maximum password life: 180 days 00:00:00
Minimum password life: 00:00:00
Minimum password length: 6
Minimum number of password character classes: 2
Number of old keys kept: 5
Reference count: 17
<div class="Pp"></div>
kadmin: get_policy -terse admin
admin     15552000  0    6    2    5    17
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The &quot;Reference count&quot; is the number of principals using that policy.
  With the LDAP KDC database module, the reference count field is not
  meaningful.
<h2 class="Ss" title="Ss" id="list_policies"><a class="selflink" href="#list_policies">list_policies</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>list_policies</b> [<i>expression</i>]</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Retrieves all or some policy names. <i>expression</i> is a shell-style glob
  expression that can contain the wild-card characters <b>?</b>, <b>*</b>, and
  <b>[]</b>. All policy names matching the expression are printed. If no
  expression is provided, all existing policy names are printed.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>list</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
Aliases: <b>listpols</b>, <b>get_policies</b>, <b>getpols</b>.
<div style="height: 1.00em;">&#x00A0;</div>
Examples:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin:  listpols
test-pol
dict-only
once-a-min
test-pol-nopw
<div class="Pp"></div>
kadmin:  listpols t*
test-pol
test-pol-nopw
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="ktadd"><a class="selflink" href="#ktadd">ktadd</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<pre>
<b>ktadd</b> [options] <i>principal</i>
<b>ktadd</b> [options] <b>-glob</b> <i>princ-exp</i>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Adds a <i>principal</i>, or all principals matching <i>princ-exp</i>, to a
  keytab file. Each principal's keys are randomized in the process. The rules
  for <i>princ-exp</i> are described in the <b>list_principals</b> command.
<div style="height: 1.00em;">&#x00A0;</div>
This command requires the <b>inquire</b> and <b>changepw</b> privileges. With
  the <b>-glob</b> form, it also requires the <b>list</b> privilege.
<div style="height: 1.00em;">&#x00A0;</div>
The options are:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k[eytab]</b> <i>keytab</i></b></dt>
  <dd class="It-tag">Use <i>keytab</i> as the keytab file. Otherwise, the
      default keytab is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b> <i>enc</i>:<i>salt</i>,...</b></dt>
  <dd class="It-tag">Uses the specified keysalt list for setting the new keys of
      the principal. See <i>Keysalt_lists</i> in <i>kdc.conf(5)</i> for a list
      of possible values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-q</b></b></dt>
  <dd class="It-tag">Display less verbose information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-norandkey</b></b></dt>
  <dd class="It-tag">Do not randomize the keys. The keys and their version
      numbers stay unchanged. This option is only available in kadmin.local, and
      cannot be specified in combination with the <b>-e</b> option.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
An entry for each of the principal's unique encryption types is added, ignoring
  multiple keys with the same encryption type but different salt types.
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: ktadd -k /tmp/foo-new-keytab host/foo.mit.edu
Entry for principal host/foo.mit.edu@ATHENA.MIT.EDU with kvno 3,
     encryption type aes256-cts-hmac-sha1-96 added to keytab
     FILE:/tmp/foo-new-keytab
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="ktremove"><a class="selflink" href="#ktremove">ktremove</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"><b>ktremove</b> [options] <i>principal</i>
  [<i>kvno</i> | <i>all</i> | <i>old</i>]</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Removes entries for the specified <i>principal</i> from a keytab. Requires no
  permissions, since this does not require database access.
<div style="height: 1.00em;">&#x00A0;</div>
If the string &quot;all&quot; is specified, all entries for that principal are
  removed; if the string &quot;old&quot; is specified, all entries for that
  principal except those with the highest kvno are removed. Otherwise, the value
  specified is parsed as an integer, and all entries whose kvno match that
  integer are removed.
<div style="height: 1.00em;">&#x00A0;</div>
The options are:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k[eytab]</b> <i>keytab</i></b></dt>
  <dd class="It-tag">Use <i>keytab</i> as the keytab file. Otherwise, the
      default keytab is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-q</b></b></dt>
  <dd class="It-tag">Display less verbose information.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Example:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
kadmin: ktremove kadmin/admin all
Entry for principal kadmin/admin with kvno 3 removed from keytab
     FILE:/etc/krb5.keytab
kadmin:
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="lock"><a class="selflink" href="#lock">lock</a></h2>
Lock database exclusively. Use with extreme caution! This command only works
  with the DB2 KDC database module.
<h2 class="Ss" title="Ss" id="unlock"><a class="selflink" href="#unlock">unlock</a></h2>
Release the exclusive database lock.
<h2 class="Ss" title="Ss" id="list_requests"><a class="selflink" href="#list_requests">list_requests</a></h2>
Lists available for kadmin requests.
<div style="height: 1.00em;">&#x00A0;</div>
Aliases: <b>lr</b>, <b>?</b>
<h2 class="Ss" title="Ss" id="quit"><a class="selflink" href="#quit">quit</a></h2>
Exit program. If the database was locked, the lock is released.
<div style="height: 1.00em;">&#x00A0;</div>
Aliases: <b>exit</b>, <b>q</b>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
The kadmin program was originally written by Tom Yu at MIT, as an interface to
  the OpenVision Kerberos administration program.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>kpasswd(1)</i>, <i>kadmind(8)</i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
MIT
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
1985-2016, MIT</div>
<table class="foot">
  <tr>
    <td class="foot-date"> </td>
    <td class="foot-os">1.14.1</td>
  </tr>
</table>
</body>
</html>
