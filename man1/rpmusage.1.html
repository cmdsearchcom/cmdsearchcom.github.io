<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:36:00 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RPMUSAGE(1) User Contributed Perl Documentation
RPMUSAGE(1)</p>

<p style="margin-top: 1em">NAME <br>
rpmusage - display rpm packages last use</p>

<p style="margin-top: 1em">DESCRIPTION <br>
rpmusage will display for each package, the last date it was
used (in days). It can be used to find unused packages. It
use the atime field of all package&rsquo;s files to do this
job. <br>
Note : as it scan all files inodes, the run may be long
...</p>

<p style="margin-top: 1em">SYNOPSIS <br>
rpmusage.pl [options] [targets]</p>

<p style="margin-top: 1em">options:</p>

<p style="margin-top: 1em">-help brief help message <br>
-man full documentation <br>
-V, --version print version</p>

<p style="margin-top: 1em">-verbose verbose <br>
-fullalgo force full algorythm <br>
-use-cache use cache to avoid rpm query <br>
-clear-cache remove cache file</p>

<p style="margin-top: 1em">-exclude pac exclude pac from
results <br>
-install-time +/-d apply on packages which are installed
before (after) d days <br>
-access-time d apply on packages which are not been accessed
for d days (slow)</p>

<p style="margin-top: 1em">targets:</p>

<p style="margin-top: 1em">-package pac search last access
on pac package <br>
-all apply on all packages (this is the default) <br>
-guess-perl apply on perl packages <br>
-guess-python apply on python packages <br>
-guess-pike apply on pike packages <br>
-guess-ruby apply on ruby packages <br>
-guess-common apply on common packages <br>
-guess-data apply on data packages <br>
-guess-doc apply on documentation packages <br>
-guess-dev apply on development packages <br>
-guess-lib apply on library packages <br>
-guess-all apply all -guess-* options (perl, python ...)
<br>
-guess-custom regex apply the given regex to filter to
package&rsquo;s names to filter the output</p>

<p style="margin-top: 1em">REQUIRED ARGUMENTS <br>
it can be used without any argument, and then will apply on
all packages</p>

<p style="margin-top: 1em">OPTIONS <br>
-help Print a brief help message and exits.</p>

<p style="margin-top: 1em">-man Print the manual page and
exits.</p>

<p style="margin-top: 1em">-version <br>
Print the program release and exit.</p>

<p style="margin-top: 1em">-verbose <br>
The program works and print debugging messages.</p>

<p style="margin-top: 1em">-use-cache <br>
the rpm query may be long (10 to 30 s). If you will run an
rpmorphan tool several time, this option will allow to gain
a lot of time : it save the rpm query on a file <br>
cache (first call), then use this cache instead quering rpm
(others calls).</p>

<p style="margin-top: 1em">-clear-cache <br>
to remove cache file. Can be used with -use-cache to write a
new cache.</p>

<p style="margin-top: 1em">-exclude <br>
this option will specify the packages to exclude from the
output. Can be used as &rsquo;--exclude pac1 --exclude
pac2&rsquo; or &rsquo;--exclude &quot;pac1,
pac2&quot;&rsquo;</p>

<p style="margin-top: 1em">-install-time <br>
install-time is a filter on the period from the package
installation date to now (in days). if set positive, it only
allow packages installed before x days. if set <br>
negative, it only allow packages installed since x days.</p>

<p style="margin-top: 1em">-access-time <br>
access-time is designed to filter packages which have not
been used since x days.</p>

<p style="margin-top: 1em">be careful : this option will
slow the program</p>

<p style="margin-top: 1em">-fullalgo <br>
for a small list of packages, rpmusage use a different
quicker methode : rpm -e --test</p>

<p style="margin-top: 1em">this option can be used to force
the use of the full algo</p>

<p style="margin-top: 1em">-package <br>
search if the given package(s) is(are) orphaned. Can be used
as &rsquo;--package pac1 --package pac2&rsquo; or
&rsquo;--package &quot;pac1, pac2&quot;&rsquo;</p>

<p style="margin-top: 1em">-all apply on all installed
packages. The output should be interpreted. For example lilo
or grub are orphaned packages, but are necessary to boot
...</p>

<p style="margin-top: 1em">the &quot;-install-time&quot;
and &quot;-access-time&quot; options may be useful to filter
the list</p>

<p style="margin-top: 1em">-guess-perl <br>
This option tries to find perl modules. It tries to match
&quot;^perl&quot;</p>

<p style="margin-top: 1em">-guess-python <br>
This option tries to find python modules. It tries to match
&quot;^python&quot;</p>

<p style="margin-top: 1em">-guess-pike <br>
This option tries to find pike modules. It tries to match
&quot;^pike&quot;</p>

<p style="margin-top: 1em">-guess-ruby <br>
This option tries to find ruby modules. It tries to match
&quot;^ruby&quot;</p>

<p style="margin-top: 1em">-guess-common <br>
This option tries to find common packages. It tries to match
&quot;-common$&quot;</p>

<p style="margin-top: 1em">-guess-data <br>
This option tries to find data packages. It tries to match
&quot;-data$&quot;</p>

<p style="margin-top: 1em">-guess-doc <br>
This option tries to find documentation packages. It tries
to match &quot;-doc$&quot;</p>

<p style="margin-top: 1em">-guess-data <br>
This option tries to find data packages. It tries to match
&quot;-data$&quot;</p>

<p style="margin-top: 1em">-guess-dev <br>
This option tries to find development packages. It tries to
match &quot;-devel$&quot;</p>

<p style="margin-top: 1em">-guess-lib <br>
This option tries to find library packages. It tries to
match &quot;^lib&quot;</p>

<p style="margin-top: 1em">-guess-all <br>
This is a short to tell : Try all of the above (perl, python
...)</p>

<p style="margin-top: 1em">-guess-custom <br>
this will allow you to specify your own filter. for exemple
&quot;^wh&quot; will match whois, whatsnewfm ...</p>

<p style="margin-top: 1em">USAGE <br>
display all packages in access date order</p>

<p style="margin-top: 1em">rpmusage.pl --all | sort -k 2
-n</p>

<p style="margin-top: 1em">only ask for perl packages</p>

<p style="margin-top: 1em">rpmusage.pl --guess-perl | sort
-k 2 -n</p>

<p style="margin-top: 1em">to read the output :
&quot;python-pexpect 97 on
/usr/share/doc/python-pexpect&quot; means the package was
last used 97 days ago and the more recently used file was
the <br>
/usr/share/doc/python-pexpect file</p>

<p style="margin-top: 1em">FILES <br>
/tmp/rpmorphan.cache : cache file to store rpm query. The
cache file is common to all rpmorphan tools</p>

<p style="margin-top: 1em">DEPENDENCIES <br>
rpmusage uses only standard perl module.</p>

<p style="margin-top: 1em">but it needs the rpm command
tool.</p>

<p style="margin-top: 1em">BUGS AND LIMITATIONS <br>
the software can only work with one version of each software
: we only treat the first version seen</p>

<p style="margin-top: 1em">CONFIGURATION <br>
the program can read rcfile if some exists. it will load in
order</p>

<p style="margin-top: 1em">/etc/rpmorphanrc</p>

<p style="margin-top: 1em">~/.rpmorphanrc</p>

<p style="margin-top: 1em">.rpmorphanrc</p>

<p style="margin-top: 1em">In this file,</p>

<p style="margin-top: 1em"># are comments,</p>

<p style="margin-top: 1em">and parameters are stored in the
following format : parameter = value</p>

<p style="margin-top: 1em">example :</p>

<p style="margin-top: 1em">all = 1</p>

<p style="margin-top: 1em">curses = 1</p>

<p style="margin-top: 1em">INCOMPATIBILITIES <br>
not known</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
to be written</p>

<p style="margin-top: 1em">NOTES <br>
this program should be used as root superuser, because it
needs to access (in read mode) to all files</p>

<p style="margin-top: 1em">SEE ALSO <br>
rpm(1) for rpm call</p>

<p style="margin-top: 1em">rpmorphan(1)</p>

<p style="margin-top: 1em">rpmdep(1)</p>

<p style="margin-top: 1em">rpmduplicates(1)</p>

<p style="margin-top: 1em">rpmextra(1)</p>

<p style="margin-top: 1em">EXIT STATUS <br>
should be allways 0</p>

<p style="margin-top: 1em">LICENSE AND COPYRIGHT <br>
Copyright (C) 2006 by Eric Gerbier This program is free
software; you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the
<br>
Free Software Foundation; either version 2 of the License,
or (at your option) any later version.</p>

<p style="margin-top: 1em">AUTHOR <br>
Eric Gerbier</p>

<p style="margin-top: 1em">you can report any bug or
suggest to gerbier@users.sourceforge.net</p>

<p style="margin-top: 1em">perl v5.24.1 2017-02-11
RPMUSAGE(1)</p>
<hr>
</body>
</html>
