<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MRTG(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MRTG(1)</td>
    <td class="head-vol">mrtg</td>
    <td class="head-rtitle">MRTG(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mrtg - What is MRTG ?
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The Multi Router Traffic Grapher (MRTG) is a tool to monitor the traffic load on
  network links. MRTG generates HTML pages containing PNG images which provide a
  LIVE visual representation of this traffic. Check
  http://www.stat.ee.ethz.ch/mrtg/ to see what it does.
<div class="Pp"></div>
Go to
<br/>
 http://oss.oetiker.ch/mrtg for all the details about mrtg.
<h1 class="Sh" title="Sh" id="HIGHLIGHTS"><a class="selflink" href="#HIGHLIGHTS">HIGHLIGHTS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Portable</dt>
  <dd class="It-tag">MRTG works on most UNIX platforms and Windows NT.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Perl</dt>
  <dd class="It-tag">MRTG is written in Perl and comes with full source.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Portable SNMP</dt>
  <dd class="It-tag">MRTG Uses a highly portable SNMP implementation written
      entirely in Perl (thanks to Simon Leinen). There is no need to install any
      external SNMP package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">SNMPv2c support</dt>
  <dd class="It-tag">MRTG can read the new SNMPv2c 64bit counters. No more
      counter wrapping.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Reliable Interface Identification</dt>
  <dd class="It-tag">Router interfaces can be identified by IP address,
      description and ethernet address in addition to the normal interface
      number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Constant size Logfiles</dt>
  <dd class="It-tag">MRTG's logfiles do NOT grow thanks to the use of a unique
      data consolidation algorithm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Automatic Configuration</dt>
  <dd class="It-tag">MRTG comes with a set of configuration tools which make
      configuration and setup very simple.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Performance</dt>
  <dd class="It-tag">Time critical routines are written in C (thanks to the
      initiative of Dave Rand my Co-Author).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">GIF free Graphics</dt>
  <dd class="It-tag">Graphics are generated directly in PNG format using the GD
      library by Thomas Boutell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Customizability</dt>
  <dd class="It-tag">The look of the webpages produced by MRTG is highly
      configurable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">RRDtool</dt>
  <dd class="It-tag">MRTG has built-in hooks for using RRDtool. If you are
      strapped for performance this may help.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DETAILS"><a class="selflink" href="#DETAILS">DETAILS</a></h1>
MRTG consists of a Perl script which uses SNMP to read the traffic counters of
  your routers and a fast C program which logs the traffic data and creates
  beautiful graphs representing the traffic on the monitored network connection.
  These graphs are embedded into webpages which can be viewed from any modern
  Web-browser.
<div class="Pp"></div>
In addition to a detailed daily view, MRTG also creates visual representations
  of the traffic seen during the last seven days, the last five weeks and the
  last twelve months. This is possible because MRTG keeps a log of all the data
  it has pulled from the router. This log is automatically consolidated so that
  it does not grow over time, but still contains all the relevant data for all
  the traffic seen over the last two years. This is all performed in an
  efficient manner. Therefore you can monitor 200 or more network links from any
  halfway decent UNIX box.
<div class="Pp"></div>
MRTG is not limited to monitoring traffic, though. It is possible to monitor any
  SNMP variable you choose. You can even use an external program to gather the
  data which should be monitored via MRTG. People are using MRTG, to monitor
  things such as System Load, Login Sessions, Modem availability and more. MRTG
  even allows you to accumulate two or more data sources into a single graph.
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
In 1994 I was working at a site where we had one 64kbit line to the outside
  world. Obviously, everybody was interested in knowing how the link was
  performing. So I wrote a quick hack which created a constantly updated graph
  on the web that showed the traffic load on our Internet link. This eventually
  evolved into a rather configurable Perl script called MRTG-1.0 which I
  released in spring 1995. After a few updates, I left my job at DMU to start
  work at the Swiss Federal Institute of Technology. Due to lack of time I had
  to put MRTG aside. One day in January of 1996, I received email from Dave Rand
  asking if I had any ideas why MRTG was so slow. Actually, I did. MRTG's
  programming was not very efficient and it was written entirely in Perl. After
  a week or so, Dave wrote back to me and said he had tried what I had suggested
  for improving MRTG's speed. Since the changes did not help much, he had
  decided to rewrite the time-critical sections of MRTG in C. The code was
  attached to his email. His tool increased the speed of MRTG by a factor of 40!
  This got me out of my 'MRTG ignorance' and I started to spend my spare time
  developing of MRTG-2.
<div class="Pp"></div>
Soon after MRTG-2 development had begun I started to give beta copies to
  interested parties. In return I got many feature patches, a lot of user
  feedback and bug fixes. The product you are getting now wouldn't be in this
  state if it hadn't been for the great contributions and support I received
  from of many people. I would like to take this opportunity to thank them all.
  (See the files CHANGES for a long list of folk people who helped to make MRTG
  what it is today.)
<h1 class="Sh" title="Sh" id="Command-line"><a class="selflink" href="#Command-line">Command-line</a></h1>
Mrtg is also the name of the script you have to run to poll data and generate
  the graphs. Most configuration is set through the configuration file; some
  command-line options exist all the same.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--user</b> <i>username</i> and <b>--group</b>
    <i>groupname</i></dt>
  <dd class="It-tag">Run as the given user and/or group. (Unix Only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--lock-file</b> <i>filename</i></dt>
  <dd class="It-tag">Use an alternate lock-file (the default is to use the
      configuration-file appended with &quot;_l&quot;).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--confcache-file</b> <i>filename</i></dt>
  <dd class="It-tag">Use an alternate confcache-file (the default is to use the
      configuration-file appended with &quot;.ok&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--logging</b> <i>filename</i>|<b>eventlog</b></dt>
  <dd class="It-tag">If this is set to writable filename, all output from mrtg
      (warnings, debug messages, errors) will go to <i>filename</i>. If you are
      running on Win32 you can specify <b>eventlog</b> instead of a filename
      which will send all error to the windows event log.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b>Note, there is no Message DLL for mrtg. This has the side
      effect that the windows event logger will display a nice message with
      every entry in the event log, complaing about the fact that mrtg has no
      message dll. If any of the Windows folks want to contribute one, they are
      welcome.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--daemon</b></dt>
  <dd class="It-tag">Put MRTG into the background, running as a daemon. This
      works the same way as the config file option, but the switch is required
      for proper FHS operation (because /var/run is writable only by root)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--fhs</b></dt>
  <dd class="It-tag">Configure all mrtg paths to conform to the FHS
      specification; http://www.pathname.com/fhs/</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check</b></dt>
  <dd class="It-tag">Only check the cfg file for errors. Do not do
    anything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pid-file=s</b></dt>
  <dd class="It-tag">Define the name and path of the pid file for mrtg running
      as a daemon</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-only</b></dt>
  <dd class="It-tag">Only update the logfile, do not produce graphics or html
      pages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug=s</b></dt>
  <dd class="It-tag">Enable debug options. The argument of the debug option is a
      comma separated list of debug values:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 cfg  - watch the config file reading
 dir  - directory mangeling
 base - basic program flow 
 tarp - target parser
 snpo - snmp polling 
 fork - forking view 
 time - some timing info
 log  - logging of data via rateup or rrdtool
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 --debug=&quot;cfg,snpo&quot;
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="READ_ON"><a class="selflink" href="#READ_ON">READ
  ON</a></h1>
Learn more about MRTG by going to the mrtg home page on:
  http://oss.oetiker.ch/mrtg
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Tobias Oetiker &lt;tobi@oetiker.ch&gt; and many contributors</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-01-12</td>
    <td class="foot-os">2.17.4</td>
  </tr>
</table>
</body>
</html>
