<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PROSODYCTL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PROSODYCTL(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PROSODYCTL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
prosodyctl - Manage a Prosody XMPP server
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>prosodyctl</b> <i>command</i> [<i>--help</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>prosodyctl</b> is the control tool for the Prosody XMPP server. It may be
  used to control the server daemon and manage users.
<div style="height: 1.00em;">&#x00A0;</div>
<b>prosodyctl</b> needs to be executed with sufficient privileges to perform its
  commands. This typically means executing <b>prosodyctl</b> as the root user.
  If a user named &quot;prosody&quot; is found then <b>prosodyctl</b> will
  change to that user before executing its commands.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<h2 class="Ss" title="Ss" id="User_Management"><a class="selflink" href="#User_Management">User
  Management</a></h2>
In the following commands users are identified by a Jabber ID, <i>jid</i>, of
  the usual form: user@domain.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>adduser</b> <i>jid</i></dt>
  <dd class="It-tag">Adds a user with Jabber ID, <i>jid</i>, to the server. You
      will be prompted to enter the user's password.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>passwd</b> <i>jid</i></dt>
  <dd class="It-tag">Changes the password of an existing user with Jabber ID,
      <i>jid</i>. You will be prompted to enter the user's new password.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>deluser</b> <i>jid</i></dt>
  <dd class="It-tag">Deletes an existing user with Jabber ID, <i>jid</i>, from
      the server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Daemon_Management"><a class="selflink" href="#Daemon_Management">Daemon
  Management</a></h2>
Although <b>prosodyctl</b> has commands to manage the <b>prosody</b> daemon it
  is recommended that you utilize your distributions daemon management features
  if you attained Prosody through a package.
<div style="height: 1.00em;">&#x00A0;</div>
To perform daemon control commands <b>prosodyctl</b> needs a <i>pidfile</i>
  value specified in <i>/etc/prosody/prosody.cfg.lua</i>. Failure to do so will
  cause <b>prosodyctl</b> to complain.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>start</b></dt>
  <dd class="It-tag">Starts the <b>prosody</b> server daemon. If run as root
      <b>prosodyctl</b> will attempt to change to a user named
      &quot;prosody&quot; before executing. This operation will block for up to
      five seconds to wait for the server to execute.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stop</b></dt>
  <dd class="It-tag">Stops the <b>prosody</b> server daemon. This operation will
      block for up to five seconds to wait for the server to stop executing.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restart</b></dt>
  <dd class="It-tag">Restarts the <b>prosody</b> server daemon. Equivalent to
      running <b>prosodyctl</b> <b>stop</b> followed by <b>prosodyctl start</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status</b></dt>
  <dd class="It-tag">Prints the current execution status of the <b>prosody</b>
      server daemon.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Ejabberd_Compatibility"><a class="selflink" href="#Ejabberd_Compatibility">Ejabberd
  Compatibility</a></h2>
<b>ejabberd</b> is another XMPP server which provides a comparable control tool,
  <b>ejabberdctl</b>, to control its server's operations. <b>prosodyctl</b>
  implements some commands which are compatible with <b>ejabberdctl</b>. For
  details of how these commands work you should see <b>ejabberdctl</b>(8).
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>register</b> <i>user server password</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unregister</b> <i>user server</i></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>--help</i></dt>
  <dd class="It-tag">Display help text for the specified command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><i>/etc/prosody/prosody.cfg.lua</i></dt>
  <dd class="It-tag">The main <b>prosody</b> configuration file.
      <b>prosodyctl</b> reads this to determine the process ID file of the
      <b>prosody</b> server daemon and to determine if a host has been
      configured.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ONLINE"><a class="selflink" href="#ONLINE">ONLINE</a></h1>
More information may be found online at: <i>http://prosody.im/</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Dwayne Bent &lt;dbb.1@liqd.org&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2009-07-02</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
