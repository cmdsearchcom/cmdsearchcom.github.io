<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:15:27 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GRN(1) General Commands Manual GRN(1)</p>

<p style="margin-top: 1em">NAME <br>
grn - groff preprocessor for gremlin files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
grn [ -Cv ] [ -Tdev ] [ -Mdir ] [ -Fdir ] [ file... ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
grn is a preprocessor for including gremlin pictures in
groff input. grn writes to standard output, processing only
input lines between two that start with .GS and .GE. Those
<br>
lines must contain grn commands (see below). These commands
request a gremlin file, and the picture in that file is
converted and placed in the troff input stream. The .GS <br>
request may be followed by a C, L, or R to center, left, or
right justify the whole gremlin picture (default
justification is center). If no file is mentioned, the
standard <br>
input is read. At the end of the picture, the position on
the page is the bottom of the gremlin picture. If the grn
entry is ended with .GF instead of .GE, the position is left
<br>
at the top of the picture.</p>

<p style="margin-top: 1em">Please note that currently only
the -me macro package has support for .GS, .GE, and .GF.</p>

<p style="margin-top: 1em">The following command-line
options are understood:</p>

<p style="margin-top: 1em">-Tdev Prepare output for printer
dev. The default device is ps. See groff(1) for acceptable
devices.</p>

<p style="margin-top: 1em">-Mdir Prepend dir to the default
search path for gremlin files. The default path is (in that
order) the current directory, the home directory,
/etc/groff/site-tmac, <br>
/etc/groff/site-tmac, and /usr/share/groff/1.22.2/tmac.</p>

<p style="margin-top: 1em">-Fdir Search dir for
subdirectories devname (name is the name of the device) for
the DESC file before the default font directories
/etc/groff/site-font, <br>
/usr/share/groff/1.22.2/font, and /usr/lib/font.</p>

<p style="margin-top: 1em">-C Recognize .GS and .GE (and
.GF) even when followed by a character other than space or
newline.</p>

<p style="margin-top: 1em">-v Print the version number.</p>

<p style="margin-top: 1em">It is possible to have
whitespace between a command line option and its
parameter.</p>

<p style="margin-top: 1em">GRN COMMANDS <br>
Each input line between .GS and .GE may have one grn
command. Commands consist of one or two strings separated by
white space, the first string being the command and the
second <br>
its operand. Commands may be upper or lower case and
abbreviated down to one character.</p>

<p style="margin-top: 1em">Commands that affect a
picture&rsquo;s environment (those listed before default,
see below) are only in effect for the current picture: The
environment is reinitialized to the defaults <br>
at the start of the next picture. The commands are as
follows:</p>

<p style="margin-top: 1em">1 N <br>
2 N <br>
3 N <br>
4 N Set gremlin&rsquo;s text size number 1 (2, 3, or 4) to N
points. The default is 12 (16, 24, and 36,
respectively).</p>

<p style="margin-top: 1em">roman f <br>
italics f <br>
bold f <br>
special f <br>
Set the roman (italics, bold, or special) font to
troff&rsquo;s font f (either a name or number). The default
is R (I, B, and S, respectively).</p>

<p style="margin-top: 1em">l f <br>
stipple f <br>
Set the stipple font to troff&rsquo;s stipple font f (name
or number). The command stipple may be abbreviated down as
far as &lsquo;st&rsquo; (to avoid confusion with special).
There is <br>
no default for stipples (unless one is set by the default
command), and it is invalid to include a gremlin picture
with polygons without specifying a stipple font.</p>

<p style="margin-top: 1em">x N <br>
scale N <br>
Magnify the picture (in addition to any default
magnification) by N, a floating point number larger than
zero. The command scale may be abbreviated down to
&lsquo;sc&rsquo;.</p>

<p style="margin-top: 1em">narrow N <br>
medium N <br>
thick N <br>
Set the thickness of gremlin&rsquo;s narrow (medium and
thick, respectively) lines to N times 0.15pt (this value can
be changed at compile time). The default is 1.0 (3.0 and
<br>
5.0, respectively), which corresponds to 0.15pt (0.45pt and
0.75pt, respectively). A thickness value of zero selects the
smallest available line thickness. Negative val&acirc; <br>
ues cause the line thickness to be proportional to the
current point size.</p>

<p style="margin-top: 1em">pointscale &lt;off/on&gt; <br>
Scale text to match the picture. Gremlin text is usually
printed in the point size specified with the commands 1, 2,
3, or 4, regardless of any scaling factors in the <br>
picture. Setting pointscale will cause the point sizes to
scale with the picture (within troff&rsquo;s limitations, of
course). An operand of anything but off will turn text <br>
scaling on.</p>

<p style="margin-top: 1em">default <br>
Reset the picture environment defaults to the settings in
the current picture. This is meant to be used as a global
parameter setting mechanism at the beginning of the <br>
troff input file, but can be used at any time to reset the
default settings.</p>

<p style="margin-top: 1em">width N <br>
Forces the picture to be N inches wide. This overrides any
scaling factors present in the same picture. &lsquo;width
0&rsquo; is ignored.</p>

<p style="margin-top: 1em">height N <br>
Forces picture to be N inches high, overriding other scaling
factors. If both &lsquo;width&rsquo; and
&lsquo;height&rsquo; are specified the tighter constraint
will determine the scale of the <br>
picture. Height and width commands are not saved with a
default command. They will, however, affect point size
scaling if that option is set.</p>

<p style="margin-top: 1em">file name <br>
Get picture from gremlin file name located the current
directory (or in the library directory; see the -M option
above). If two file commands are given, the second one <br>
overrides the first. If name doesn&rsquo;t exist, an error
message is reported and processing continues from the .GE
line.</p>

<p style="margin-top: 1em">NOTES ABOUT GROFF <br>
Since grn is a preprocessor, it doesn&rsquo;t know about
current indents, point sizes, margins, number registers,
etc. Consequently, no troff input can be placed between the
.GS and <br>
.GE requests. However, gremlin text is now processed by
troff, so anything valid in a single line of troff input is
valid in a line of gremlin text (barring &lsquo;.&rsquo;
directives at <br>
the beginning of a line). Thus, it is possible to have
equations within a gremlin figure by including in the
gremlin file eqn expressions enclosed by previously defined
delim&acirc; <br>
iters (e.g. $$).</p>

<p style="margin-top: 1em">When using grn along with other
preprocessors, it is best to run tbl before grn, pic, and/or
ideal to avoid overworking tbl. Eqn should always be run
last.</p>

<p style="margin-top: 1em">A picture is considered an
entity, but that doesn&rsquo;t stop troff from trying to
break it up if it falls off the end of a page. Placing the
picture between &lsquo;keeps&rsquo; in -me macros <br>
will ensure proper placement.</p>

<p style="margin-top: 1em">grn uses troff&rsquo;s number
registers g1 through g9 and sets registers g1 and g2 to the
width and height of the gremlin figure (in device units)
before entering the .GS request (this <br>
is for those who want to rewrite these macros).</p>

<p style="margin-top: 1em">GREMLIN FILE FORMAT <br>
There exist two distinct gremlin file formats, the original
format from the AED graphic terminal version, and the SUN or
X11 version. An extension to the SUN/X11 version
allow&acirc; <br>
ing reference points with negative coordinates is not
compatible with the AED version. As long as a gremlin file
does not contain negative coordinates, either format will be
<br>
read correctly by either version of gremlin or grn. The
other difference to the SUN/X11 format is the use of names
for picture objects (e.g., POLYGON, CURVE) instead of
numbers. <br>
Files representing the same picture are shown in Table 1 in
each format.</p>

<p style="margin-top: 1em">sungremlinfile gremlinfile <br>
0 240.00 128.00 0 240.00 128.00 <br>
CENTCENT 2 <br>
240.00 128.00 240.00 128.00 <br>
185.00 120.00 185.00 120.00 <br>
240.00 120.00 240.00 120.00 <br>
296.00 120.00 296.00 120.00 <br>
* -1.00 -1.00 <br>
2 3 2 3 <br>
10 A Triangle 10 A Triangle <br>
POLYGON 6 <br>
224.00 416.00 224.00 416.00 <br>
96.00 160.00 96.00 160.00 <br>
384.00 160.00 384.00 160.00 <br>
* -1.00 -1.00 <br>
5 1 5 1 <br>
0 0 <br>
-1 -1</p>

<p style="margin-top: 1em">Table 1. File examples</p>

<p style="margin-top: 1em">&Acirc;&middot; The first line
of each gremlin file contains either the string gremlinfile
(AED version) or sungremlinfile (SUN/X11)</p>

<p style="margin-top: 1em">&Acirc;&middot; The second line
of the file contains an orientation, and x and y values for
a positioning point, separated by spaces. The orientation,
either 0 or 1, is ignored by the <br>
SUN/X11 version. 0 means that gremlin will display things in
horizontal format (drawing area wider than it is tall, with
menu across top). 1 means that gremlin will dis&acirc; <br>
play things in vertical format (drawing area taller than it
is wide, with menu on left side). x and y are floating point
values giving a positioning point to be used when <br>
this file is read into another file. The stuff on this line
really isn&rsquo;t all that important; a value of
&lsquo;&lsquo;1 0.00 0.00&rsquo;&rsquo; is suggested.</p>

<p style="margin-top: 1em">&Acirc;&middot; The rest of the
file consists of zero or more element specifications. After
the last element specification is a line containing the
string &lsquo;&lsquo;-1&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">&Acirc;&middot; Lines longer
than 127 characters are chopped to this limit.</p>

<p style="margin-top: 1em">ELEMENT SPECIFICATIONS <br>
&Acirc;&middot; The first line of each element contains a
single decimal number giving the type of the element (AED
version) or its ASCII name (SUN/X11 version). See Table
2.</p>

<p style="margin-top: 1em">gremlin File Format &acirc;
Object Type Specification</p>

<p style="margin-top: 1em">AED Number SUN/X11 Name
Description <br>
0 BOTLEFT bottom-left-justified text <br>
1 BOTRIGHT bottom-right-justified text <br>
2 CENTCENT center-justified text <br>
3 VECTOR vector <br>
4 ARC arc <br>
5 CURVE curve <br>
6 POLYGON polygon <br>
7 BSPLINE b-spline <br>
8 BEZIER B&Atilde;&copy;zier <br>
10 TOPLEFT top-left-justified text <br>
11 TOPCENT top-center-justified text <br>
12 TOPRIGHT top-right-justified text <br>
13 CENTLEFT left-center-justified text <br>
14 CENTRIGHT right-center-justified text <br>
15 BOTCENT bottom-center-justified text</p>

<p style="margin-top: 1em">Table 2. <br>
Type Specifications in gremlin Files</p>

<p style="margin-top: 1em">&Acirc;&middot; After the object
type comes a variable number of lines, each specifying a
point used to display the element. Each line contains an
x-coordinate and a y-coordinate in <br>
floating point format, separated by spaces. The list of
points is terminated by a line containing the string
&lsquo;&lsquo;-1.0 -1.0&rsquo;&rsquo; (AED version) or a
single asterisk, &lsquo;&lsquo;*&rsquo;&rsquo; <br>
(SUN/X11 version).</p>

<p style="margin-top: 1em">&Acirc;&middot; After the points
comes a line containing two decimal values, giving the brush
and size for the element. The brush determines the style in
which things are drawn. For <br>
vectors, arcs, and curves there are six valid brush
values:</p>

<p style="margin-top: 1em">1 &acirc; thin dotted lines <br>
2 &acirc; thin dot-dashed lines <br>
3 &acirc; thick solid lines <br>
4 &acirc; thin dashed lines <br>
5 &acirc; thin solid lines <br>
6 &acirc; medium solid lines</p>

<p style="margin-top: 1em">For polygons, one more value, 0,
is valid. It specifies a polygon with an invisible border.
For text, the brush selects a font as follows:</p>

<p style="margin-top: 1em">1 &acirc; roman (R font in
groff) <br>
2 &acirc; italics (I font in groff) <br>
3 &acirc; bold (B font in groff) <br>
4 &acirc; special (S font in groff)</p>

<p style="margin-top: 1em">If you&rsquo;re using grn to run
your pictures through groff, the font is really just a
starting font: The text string can contain formatting
sequences like &lsquo;&lsquo;<i>&rsquo;&rsquo; or
&lsquo;&lsquo;&rsquo;&rsquo; <br>
which may change the font (as well as do many other things).
For text, the size field is a decimal value between 1 and 4.
It selects the size of the font in which the <br>
text will be drawn. For polygons, this size field is
interpreted as a stipple number to fill the polygon with.
The number is used to index into a stipple font at print
<br>
time.</i></p>

<p style="margin-top: 1em"><i>&Acirc;&middot; The last line
of each element contains a decimal number and a string of
characters, separated by a single space. The number is a
count of the number of characters in the <br>
string. This information is only used for text elements, and
contains the text string. There can be spaces inside the
text. For arcs, curves, and vectors, this line of <br>
the element contains the string
&lsquo;&lsquo;0&rsquo;&rsquo;.</i></p>

<p style="margin-top: 1em"><i>NOTES ON COORDINATES <br>
gremlin was designed for AEDs, and its coordinates reflect
the AED coordinate space. For vertical pictures, x-values
range 116 to 511, and y-values from 0 to 483. For
horizon&acirc; <br>
tal pictures, x-values range from 0 to 511 and y-values
range from 0 to 367. Although you needn&rsquo;t absolutely
stick to this range, you&rsquo;ll get best results if you at
least stay in <br>
this vicinity. Also, point lists are terminated by a point
of (-1, -1), so you shouldn&rsquo;t ever use negative
coordinates. gremlin writes out coordinates using format
&lsquo;&lsquo;%f1.2&rsquo;&rsquo;; <br>
it&rsquo;s probably a good idea to use the same format if
you want to modify the grn code.</i></p>

<p style="margin-top: 1em"><i>NOTES ON SUN/X11 COORDINATES
<br>
There is no longer a restriction on the range of coordinates
used to create objects in the SUN/X11 version of gremlin.
However, files with negative coordinates will cause
prob&acirc; <br>
lems if displayed on the AED.</i></p>

<p style="margin-top: 1em"><i>FILES <br>
/usr/share/groff/1.22.2/font/devname/DESC Device description
file for device name.</i></p>

<p style="margin-top: 1em"><i>SEE ALSO <br>
gremlin(1), groff(1), pic(1), ideal(1)</i></p>

<p style="margin-top: 1em"><i>HISTORY <br>
David Slattengren and Barry Roitblat wrote the original
Berkeley grn.</i></p>

<p style="margin-top: 1em"><i>Daniel Senderowicz and Werner
Lemberg modified it for groff.</i></p>

<p style="margin-top: 1em"><i>Groff Version 1.22.2 7
February 2013 GRN(1)</i></p>
<hr>
</body>
</html>
