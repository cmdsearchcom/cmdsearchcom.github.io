<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DAR_MANAGER(1) General Commands Manual
DAR_MANAGER(1)</p>

<p style="margin-top: 1em">NAME <br>
dar_manager - compiles several archives contents in a
database to ease file restoration</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dar_manager [-v] -C [&lt;path&gt;/]&lt;database&gt;</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -A
[&lt;path&gt;/]&lt;basename&gt; [-9 &lt;min-digits&gt;]
[[&lt;path&gt;/]&lt;archive_basename&gt;]</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -l</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -D
&lt;number&gt;[-&lt;number&gt;]</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -b &lt;number&gt;
&lt;new_archive_basename&gt;</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -p &lt;number&gt;
&lt;path&gt;</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -o [list of options to pass
to dar]</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -d [&lt;path to dar
command&gt;]</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; [-N] [-k] [-w &lt;date&gt;]
[-e &quot;&lt;extra options to dar&gt;&quot;] -r [list of
files to restore]</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -u &lt;number&gt;</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -f file</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -s</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -m &lt;number&gt;
&lt;number&gt;</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -c</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -i</p>

<p style="margin-top: 1em">dar_manager [-v] -B
[&lt;path&gt;/]&lt;database&gt; -@ { &lt;filename&gt; |
&quot;-&quot; }</p>

<p style="margin-top: 1em">dar_manager -h</p>

<p style="margin-top: 1em">dar_manager -V</p>

<p style="margin-top: 1em">DESCRIPTION <br>
dar_manager is part of the Disk Archive suite. Its purpose
is to simplify the restoration of a set of few files present
in many backup, full or differential. This is achieved by
<br>
gathering the catalogue of each archive (this has to be done
once). At any time you just have to give the relative path
to the files you want to restore, dar_manager will call <br>
dar with the proper options and restore the last version of
each file (or the last version before given date). Note that
dar_manager is to be used when you have remove some files
<br>
by accident some time ago and wish to recover them. It thus
not adapted to restore the state a directory tree had at a
given time, in particular when some files have to be <br>
removed. For that you must use dar directly with the
corresponding archive to the date for which you wish to
restore the state.</p>

<p style="margin-top: 1em">you can restore any file by hand
without dar_manager , but if you make a lot of differential
backup, you may spend many time to find the archive that
contains the last version of <br>
your file, as dar will not save it if it has not changed
since previous backup. dar_manager simplify the process by
looking in its internal database, built from archive
&quot;cata&acirc; <br>
logues&quot;.</p>

<p style="margin-top: 1em">OPTIONS <br>
-C, --create [&lt;path&gt;/]&lt;database&gt; <br>
creates an empty database that will collect information
about several archives. The &lt;database&gt; is a filename
that is required for -B option. To destroy a <br>
&lt;database&gt; just remove the file.</p>

<p style="margin-top: 1em">-B, --base
[&lt;path&gt;/]&lt;database&gt; <br>
specify the database to read or modify. The &lt;database&gt;
file must exist, and have a database structure (see -C
option).</p>

<p style="margin-top: 1em">-i, --interactive use a keyboard
interactive text menu to do operations on the given
database. So you may avoid reading the other options
described in this manual page, if you <br>
wish, and just use the interactive option. You will however
always have to create an empty database (-C option) and
restore files manually (-r option).</p>

<p style="margin-top: 1em">-A, --add
[&lt;path&gt;/]&lt;basename&gt; [
[&lt;path&gt;/]&lt;archive_basename&gt;] <br>
add an archive to the database. An isolated catalogue can
also be used only if it has been produced by dar version
1.2.0 or above. Why ? Because, an isolated <br>
catalogue produced by older version will always tell that no
files are saved in the archive of reference, in that case
the solution is to provide the archive <br>
itself as argument. An optional second argument is the
basename of the archive if it is different from the first
argument (need for extraction of files). For <br>
example you could have an isolated catalogue in first
argument and the basename of the original archive (where is
stored the data) as second argument. By <br>
default,</p>

<p style="margin-top: 1em">-9, --min-digits &lt;num&gt;
<br>
the slice number zeroed padding to use to get the slices
filename (for more details see dar man page at this same
option) dar_manager will look for an archive <br>
of reference in the command line used to create each
archive, but in some cases, it may be necessary to specify
the archive name (for example if you&rsquo;ve <br>
changed its name).</p>

<p style="margin-top: 1em">-l, --list displays the
information about the archives compiled in the database. In
particular, a number is given to each archive, which is
required to some other option <br>
to design a particular archive within the database. Nothing
avoids you to feed the database with several archive of the
same basename ! You will just have to <br>
guess which one is asked under this name. :-)</p>

<p style="margin-top: 1em">-D, --delete
&lt;number&gt;[-&lt;number&gt;] <br>
removes an archive (or a range of archive) from the
database. The number of the archive (or the min and max
number or the archive range) is correspond to <br>
those given by the -l option. Note that all archive number
greater than the one(s) to be delete will be decremented to
keep continuous numbering of the ar&acirc; <br>
chive inside the database. If a single number is given (not
a range), it may be also a negative number, by which it
means counting from the end. For example, <br>
-1 means the last archive of the base, -2 the penultimate,
etc.</p>

<p style="margin-top: 1em">-b, --base &lt;number&gt;
&lt;new_archive_basename&gt; <br>
this option allows you to rename the archive basename (used
when restoring files from it). Here too, the number may be
also a negative number.</p>

<p style="margin-top: 1em">-p, --path &lt;number&gt;
&lt;path&gt; <br>
this option allows you to change the location of a given
archive (used when restoring files from it). Here too, a
negative number is allowed.</p>

<p style="margin-top: 1em">-o, --options [list of option to
pass to dar] <br>
Specify the option to use when calling dar. Each call erases
the previous setting. Possible dar options are all the
available ones except &quot;-x&quot; and simple <br>
arguments (the [list of path]) which will be added by
dar_manager itself.</p>

<p style="margin-top: 1em">-d, --dar [&lt;path&gt;] Set the
path to dar. If no argument is given, dar is expected to be
located in the PATH</p>

<p style="margin-top: 1em">-r, --restore [list of files or
directories to restore] <br>
dar_manager will restore all (an only) the given files or
directories, in their latest recorded status, or before the
date give thanks to the -e option. If a <br>
directory is given all subfiles and subdirectories are
restored recursively in it. You can filter out some files
from this recursion thanks to dar usual fil&acirc; <br>
tering option (see dar man page) you can provide beside -r
using the -e option (see below). Dar_manager lead dar to
remove any file, if a file is stored as <br>
having been removed at date requested for restoration, it is
simply not restored. Thus if you restore in an empty
directory you will get all the files and <br>
directories you provided to dar_manager in the state they
have at the date you asked. File that did not existed at
that time will not be restored. However you <br>
can restore over an existing installation, dar will then
warn you before overwriting files (see -w and -n options for
dar) but will still not remove files <br>
that were recorded removed from a previous archive of
reference. Note that files listed after -r option, must
never have an absolute path. They will be <br>
restored under the directory specified with -R option of dar
(passed to dar using -o or -e options), or by default, under
the current directory.</p>

<p style="margin-top: 1em">-w, --when &lt;date&gt; alters
the -r option behavior: still restores the files in the most
recent version available but only before the given date
(versions of more recent dates are <br>
ignored). The &lt;date&gt; must respect the following format
[ [ [year/]month/]day-]hour:minute[:second]. For example
&quot;22:10&quot; for 10 PM past 10 or the current day, <br>
&quot;7-22:10&quot; for 10 PM past 10 the 7th of the current
month, &quot;3/07-22:10&quot; for the 7th of march at 22:10
of the current year, &quot;2002/03/31-14:00:00&quot; the
date of <br>
the first dar&rsquo;s release ;-). The given date must be in
the past, of course, and is compared to the &quot;last
modification&quot; date of the saved files and not to the
<br>
date at which archives have been done. Thus if a file has
been changed long ago but saved in a recent (full) archive,
it will be elected for restoration even <br>
for dates older than the creation of the archive. In the
other way, a file saved long time ago with a mtime that was
set to a date in the future will not be <br>
elected for restoration when giving the date at which was
done the archive.</p>

<p style="margin-top: 1em">-e, --extra &lt;options&gt; <br>
pass some more options to dar. While the -o options takes
all that follows on the command line as argument to pass to
dar and write these in the database, the <br>
-e option does not alter the database and has only one
argument. In other words, if you need to pass several
options to dar through the use of the -e option, <br>
you need to use quotes (simple quotes &rsquo; or double
quotes &quot;) to enclose these options. Example:</p>

<p style="margin-top: 1em">dar_manager -B database.dmd -e
&quot;-w -v -p -b -r -H 1&quot; -r some/files</p>

<p style="margin-top: 1em">while using -o option you must
not use quotes:</p>

<p style="margin-top: 1em">dar_manager -B database.dmd -o
-w -v -p -b -r -H 1</p>

<p style="margin-top: 1em">-u, --used &lt;number&gt; list
the files that the given archive owns as last version
available. Thus when no file is listed, the given archive is
no more useful in database, and can be <br>
removed safely (-D option). If &lt;number&gt; is zero, all
available file are listed, the status provided for each file
present in the database is the most recent <br>
status. A negative number is allowed for this option (see -D
option for details).</p>

<p style="margin-top: 1em">-f, --file &lt;file&gt; displays
in which archive the given file is saved, and what are the
modification date (mtime) and change date (ctime).</p>

<p style="margin-top: 1em">-s, --stats show the number of
most recent files by archive. This helps to determine which
archive can be safely removed from the database.</p>

<p style="margin-top: 1em">-m, --move &lt;number&gt;
&lt;number&gt; <br>
changes the order of archives in the database. The first
number is the number of the archive to move, while the
second is the place where it must be shifted <br>
to.</p>

<p style="margin-top: 1em">Archive order is important: An
old archive must have a smaller index than a recent archive.
If you add archive to a database in the order they have been
cre&acirc; <br>
ated all should be fine. Else if a file has a more recent
version in an archive which index is smaller, a warning will
be issued (unless -ai option is used). <br>
This can occur if by mistake you added an archive to the
database in the wrong order (old archive added after a
recent one), in that case simply using the -m <br>
option will let you fix this mistake. If instead the problem
is relative to a single file (or a small set of file), you
should wonder why this file has its <br>
modification date altered in a way that it pretends to be
older than its really is. Checking for the signs of a
rootkit may be a good idea.</p>

<p style="margin-top: 1em">-c, --check check the database
consistency, in particular the date ordering is verified and
warning are issued for each file having more recent version
located in an ar&acirc; <br>
chive with a smaller index inside the database. -ai option
makes -c option useless.</p>

<p style="margin-top: 1em">-N, --ignore-options-in-base
<br>
Do not use the options stored in database when calling dar
for restoration. This option is only useful while restoring
files from dar_manager, either directly <br>
(-r option) or using a batch file (-@ option, see
below).</p>

<p style="margin-top: 1em">-k, --ignore-when-removed <br>
By default, dar_manager does not ask dar to restore file
that have been removed at the requested date (or in the
latest state available). This is useful for <br>
example to restore a directory in the state it has at a
given date (only files that existed at that time are
restored). However when you want to restore a <br>
file that has been destroyed by accident, you need to use -k
option so you don&rsquo;t have to determine at which date
that file existed to be be able to ask <br>
dar_manager to restore that file in the state it had before
that date. In other words, -k option gives a behavior of
dar_manager backward compatible with <br>
dar_manager released beside version 2.3.x of dar.</p>

<p style="margin-top: 1em">-ai, --alter=ignore-order <br>
avoid dar_manager to issue a warning for each file not
following a chronological order of modification date when
the archive number in the database is grow&acirc; <br>
ing.</p>

<p style="margin-top: 1em">-@, --batch &lt;filename&gt;
<br>
allows you to do several operations on a given database. All
operations are defined in the provided &lt;filename&gt; and
refer to the same database as defined by <br>
the -B switch on command line. This batch file, must thus
not contain neither -B, -C, -i or -ai option (-ai are global
to the batch operation). The batch file <br>
expected layout is one command per line, thus several
arguments (like -l -v for example) may take place on a given
line of the file (-v can be found both on <br>
command line for verbose output about the batch operation
steps, as well as inside the batch file for verbose output
of a particular batched command). Argu&acirc; <br>
ments are separated by spaces or tabs, other characters are
passed as-is. In consequence, you should only need to use
quotes (using &quot; or &rsquo;) if you intend to <br>
use an argument containing space. Last, comments may be
placed on any line beginning by a hash character (#).</p>

<p style="margin-top: 1em">-Q Do not display any message on
stderr when not launched from a terminal (for example when
launched from an at job or crontab). Remains that any
question to the <br>
user will be assumed a &rsquo;no&rsquo; answer, which most
of the time will abort the program.</p>

<p style="margin-top: 1em">-v, --verbose displays
additional information about what it is doing.</p>

<p style="margin-top: 1em">-h, --help display help
usage</p>

<p style="margin-top: 1em">-V, --version display software
version</p>

<p style="margin-top: 1em">EXIT CODES <br>
dar_manager exits with the following code:</p>

<p style="margin-top: 1em">0 Operation successful.</p>

<p style="margin-top: 1em">1 see dar manual page for
signification</p>

<p style="margin-top: 1em">2 see dar manual page for
signification</p>

<p style="margin-top: 1em">3 see dar manual page for
signification</p>

<p style="margin-top: 1em">5 see dar manual page for
signification</p>

<p style="margin-top: 1em">7 see dar manual page for
signification</p>

<p style="margin-top: 1em">8 see dar manual page for
signification</p>

<p style="margin-top: 1em">11 and above <br>
dar <br>
called from dar_manager has exited with non zero status.
Subtract 10 to this exit code to get dar&rsquo;s exit
code.</p>

<p style="margin-top: 1em">SIGNALS <br>
dar_manager acts like dar (see dar man page for list of
signals), upon certain signal reception dar aborts
cleanly</p>

<p style="margin-top: 1em">SEE ALSO <br>
dar(1), dar_xform(1), dar_slave(1), dar_cp(1),
dar_split(1)</p>

<p style="margin-top: 1em">LIMITATIONS <br>
at most 65534 archives can be compiled in a given database,
which should be enough for most users. Dar_manager does not
support encrypted archives for now and archive cannot
nei&acirc; <br>
ther be encrypted. See the FAQ for a workaround.</p>

<p style="margin-top: 1em">KNOWN BUGS <br>
http://sourceforge.net/p/dar/bugs/</p>

<p style="margin-top: 1em">AUTHOR <br>
http://dar.linux.free.fr/ <br>
Denis Corbin <br>
France <br>
Europe</p>

<p style="margin-top: 1em">3rd Berkeley Distribution May
17th, 2015 DAR_MANAGER(1)</p>
<hr>
</body>
</html>
