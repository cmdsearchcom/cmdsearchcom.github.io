<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DAR_MANAGER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DAR_MANAGER(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">DAR_MANAGER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dar_manager - compiles several archives contents in a database to ease file
  restoration
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
dar_manager [-v] -C [&lt;path&gt;/]&lt;database&gt;
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -A
  [&lt;path&gt;/]&lt;basename&gt; [-9 &lt;min-digits&gt;]
  [[&lt;path&gt;/]&lt;archive_basename&gt;]
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -l
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -D
  &lt;number&gt;[-&lt;number&gt;]
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -b &lt;number&gt;
  &lt;new_archive_basename&gt;
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -p &lt;number&gt;
  &lt;path&gt;
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -o [list of options to pass
  to dar]
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -d [&lt;path to dar
  command&gt;]
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; [-N] [-k] [-w &lt;date&gt;]
  [-e &quot;&lt;extra options to dar&gt;&quot;] -r [list of files to restore]
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -u &lt;number&gt;
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -f file
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -s
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -m &lt;number&gt;
  &lt;number&gt;
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -c
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -i
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager [-v] -B [&lt;path&gt;/]&lt;database&gt; -@ { &lt;filename&gt; |
  &quot;-&quot; }
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager -h
<div style="height: 1.00em;">&#x00A0;</div>
dar_manager -V
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dar_manager</b> is part of the Disk Archive suite. Its purpose is to simplify
  the restoration of a set of few files present in many backup, full or
  differential. This is achieved by gathering the catalogue of each archive
  (this has to be done once). At any time you just have to give the relative
  path to the files you want to restore, dar_manager will call dar with the
  proper options and restore the last version of each file (or the last version
  before given date). Note that dar_manager is to be used when you have remove
  some files by accident some time ago and wish to recover them. It thus not
  adapted to restore the state a directory tree had at a given time, in
  particular when some files have to be removed. For that you must use dar
  directly with the corresponding archive to the date for which you wish to
  restore the state.
<div class="Pp"></div>
you can restore any file by hand without <b>dar_manager</b> , but if you make a
  lot of differential backup, you may spend many time to find the archive that
  contains the last version of your file, as dar will not save it if it has not
  changed since previous backup. <b>dar_manager</b> simplify the process by
  looking in its internal database, built from archive &quot;catalogues&quot;.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-C, --create [&lt;path&gt;/]&lt;database&gt;</dt>
  <dd class="It-tag">creates an empty database that will collect information
      about several archives. The &lt;database&gt; is a filename that is
      required for -B option. To destroy a &lt;database&gt; just remove the
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-B, --base [&lt;path&gt;/]&lt;database&gt;</dt>
  <dd class="It-tag">specify the database to read or modify. The
      &lt;database&gt; file must exist, and have a database structure (see -C
      option).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i, --interactive</dt>
  <dd class="It-tag">use a keyboard interactive text menu to do operations on
      the given database. So you may avoid reading the other options described
      in this manual page, if you wish, and just use the interactive option. You
      will however always have to create an empty database (-C option) and
      restore files manually (-r option).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-A, --add [&lt;path&gt;/]&lt;basename&gt; [
    [&lt;path&gt;/]&lt;archive_basename&gt;]</dt>
  <dd class="It-tag">add an archive to the database. An isolated catalogue can
      also be used only if it has been produced by dar version 1.2.0 or above.
      Why ? Because, an isolated catalogue produced by older version will always
      tell that no files are saved in the archive of reference, in that case the
      solution is to provide the archive itself as argument. An optional second
      argument is the basename of the archive if it is different from the first
      argument (need for extraction of files). For example you could have an
      isolated catalogue in first argument and the basename of the original
      archive (where is stored the data) as second argument. By default,</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-9, --min-digits &lt;num&gt;</dt>
  <dd class="It-tag">the slice number zeroed padding to use to get the slices
      filename (for more details see dar man page at this same option)
      <b>dar_manager</b> will look for an archive of reference in the command
      line used to create each archive, but in some cases, it may be necessary
      to specify the archive name (for example if you've changed its name).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l, --list</dt>
  <dd class="It-tag">displays the information about the archives compiled in the
      database. In particular, a number is given to each archive, which is
      required to some other option to design a particular archive within the
      database. Nothing avoids you to feed the database with several archive of
      the same basename ! You will just have to guess which one is asked under
      this name. :-)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-D, --delete &lt;number&gt;[-&lt;number&gt;]</dt>
  <dd class="It-tag">removes an archive (or a range of archive) from the
      database. The number of the archive (or the min and max number or the
      archive range) is correspond to those given by the -l option. Note that
      all archive number greater than the one(s) to be delete will be
      decremented to keep continuous numbering of the archive inside the
      database. If a single number is given (not a range), it may be also a
      negative number, by which it means counting from the end. For example, -1
      means the last archive of the base, -2 the penultimate, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-b, --base &lt;number&gt; &lt;new_archive_basename&gt;</dt>
  <dd class="It-tag">this option allows you to rename the archive basename (used
      when restoring files from it). Here too, the number may be also a negative
      number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p, --path &lt;number&gt; &lt;path&gt;</dt>
  <dd class="It-tag">this option allows you to change the location of a given
      archive (used when restoring files from it). Here too, a negative number
      is allowed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o, --options [list of option to pass to dar]</dt>
  <dd class="It-tag">Specify the option to use when calling dar. Each call
      erases the previous setting. Possible <b>dar</b> options are all the
      available ones except &quot;-x&quot; and simple arguments (the [list of
      path]) which will be added by <b>dar_manager</b> itself.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d, --dar [&lt;path&gt;]</dt>
  <dd class="It-tag">Set the path to dar. If no argument is given, dar is
      expected to be located in the PATH</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r, --restore [list of files or directories to
    restore]</dt>
  <dd class="It-tag"><b>dar_manager</b> will restore all (an only) the given
      files or directories, in their latest recorded status, or before the date
      give thanks to the -e option. If a directory is given all subfiles and
      subdirectories are restored recursively in it. You can filter out some
      files from this recursion thanks to dar usual filtering option (see dar
      man page) you can provide beside -r using the -e option (see below).
      Dar_manager lead dar to remove any file, if a file is stored as having
      been removed at date requested for restoration, it is simply not restored.
      Thus if you restore in an empty directory you will get all the files and
      directories you provided to dar_manager in the state they have at the date
      you asked. File that did not existed at that time will not be restored.
      However you can restore over an existing installation, dar will then warn
      you before overwriting files (see -w and -n options for dar) but will
      still not remove files that were recorded removed from a previous archive
      of reference. Note that files listed after -r option, must never have an
      absolute path. They will be restored under the directory specified with -R
      option of dar (passed to dar using -o or -e options), or by default, under
      the current directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-w, --when &lt;date&gt;</dt>
  <dd class="It-tag">alters the -r option behavior: still restores the files in
      the most recent version available but only before the given date (versions
      of more recent dates are ignored). The &lt;date&gt; must respect the
      following format [ [ [year/]month/]day-]hour:minute[:second]. For example
      &quot;22:10&quot; for 10 PM past 10 or the current day,
      &quot;7-22:10&quot; for 10 PM past 10 the 7th of the current month,
      &quot;3/07-22:10&quot; for the 7th of march at 22:10 of the current year,
      &quot;2002/03/31-14:00:00&quot; the date of the first dar's release ;-).
      The given date must be in the past, of course, and is compared to the
      &quot;last modification&quot; date of the saved files and not to the date
      at which archives have been done. Thus if a file has been changed long ago
      but saved in a recent (full) archive, it will be elected for restoration
      even for dates older than the creation of the archive. In the other way, a
      file saved long time ago with a mtime that was set to a date in the future
      will not be elected for restoration when giving the date at which was done
      the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-e, --extra &lt;options&gt;</dt>
  <dd class="It-tag">pass some more options to dar. While the -o options takes
      all that follows on the command line as argument to pass to dar and write
      these in the database, the -e option does not alter the database and has
      only one argument. In other words, if you need to pass several options to
      dar through the use of the -e option, you need to use quotes (simple
      quotes ' or double quotes &quot;) to enclose these options. Example:</dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="margin-left: 5.00ex;">dar_manager -B database.dmd -e &quot;-w -v -p
  -b -r -H 1&quot; -r some/files</div>
<div class="Pp"></div>
while using -o option you must not use quotes:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">dar_manager -B database.dmd -o -w -v -p -b -r
  -H 1</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">-u, --used &lt;number&gt;</dt>
  <dd class="It-tag">list the files that the given archive owns as last version
      available. Thus when no file is listed, the given archive is no more
      useful in database, and can be removed safely (-D option). If
      &lt;number&gt; is zero, all available file are listed, the status provided
      for each file present in the database is the most recent status. A
      negative number is allowed for this option (see -D option for
    details).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f, --file &lt;file&gt;</dt>
  <dd class="It-tag">displays in which archive the given file is saved, and what
      are the modification date (mtime) and change date (ctime).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s, --stats</dt>
  <dd class="It-tag">show the number of most recent files by archive. This helps
      to determine which archive can be safely removed from the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m, --move &lt;number&gt; &lt;number&gt;</dt>
  <dd class="It-tag">changes the order of archives in the database. The first
      number is the number of the archive to move, while the second is the place
      where it must be shifted to.
    <div style="height: 1.00em;">&#x00A0;</div>
    Archive order is important: An old archive must have a smaller index than a
      recent archive. If you add archive to a database in the order they have
      been created all should be fine. Else if a file has a more recent version
      in an archive which index is smaller, a warning will be issued (unless -ai
      option is used). This can occur if by mistake you added an archive to the
      database in the wrong order (old archive added after a recent one), in
      that case simply using the -m option will let you fix this mistake. If
      instead the problem is relative to a single file (or a small set of file),
      you should wonder why this file has its modification date altered in a way
      that it pretends to be older than its really is. Checking for the signs of
      a rootkit may be a good idea.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c, --check</dt>
  <dd class="It-tag">check the database consistency, in particular the date
      ordering is verified and warning are issued for each file having more
      recent version located in an archive with a smaller index inside the
      database. -ai option makes -c option useless.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-N, --ignore-options-in-base</dt>
  <dd class="It-tag">Do not use the options stored in database when calling dar
      for restoration. This option is only useful while restoring files from
      dar_manager, either directly (-r option) or using a batch file (-@ option,
      see below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-k, --ignore-when-removed</dt>
  <dd class="It-tag">By default, dar_manager does not ask dar to restore file
      that have been removed at the requested date (or in the latest state
      available). This is useful for example to restore a directory in the state
      it has at a given date (only files that existed at that time are
      restored). However when you want to restore a file that has been destroyed
      by accident, you need to use -k option so you don't have to determine at
      which date that file existed to be be able to ask dar_manager to restore
      that file in the state it had before that date. In other words, -k option
      gives a behavior of dar_manager backward compatible with dar_manager
      released beside version 2.3.x of dar.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-ai, --alter=ignore-order</dt>
  <dd class="It-tag">avoid dar_manager to issue a warning for each file not
      following a chronological order of modification date when the archive
      number in the database is growing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-@, --batch &lt;filename&gt;</dt>
  <dd class="It-tag">allows you to do several operations on a given database.
      All operations are defined in the provided &lt;filename&gt; and refer to
      the same database as defined by the -B switch on command line. This batch
      file, must thus not contain neither -B, -C, -i or -ai option (-ai are
      global to the batch operation). The batch file expected layout is one
      command per line, thus several arguments (like -l -v for example) may take
      place on a given line of the file (-v can be found both on command line
      for verbose output about the batch operation steps, as well as inside the
      batch file for verbose output of a particular batched command). Arguments
      are separated by spaces or tabs, other characters are passed as-is. In
      consequence, you should only need to use quotes (using &quot; or ') if you
      intend to use an argument containing space. Last, comments may be placed
      on any line beginning by a hash character (#).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-Q</dt>
  <dd class="It-tag">Do not display any message on stderr when not launched from
      a terminal (for example when launched from an at job or crontab). Remains
      that any question to the user will be assumed a 'no' answer, which most of
      the time will abort the program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v, --verbose</dt>
  <dd class="It-tag">displays additional information about what it is
    doing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h, --help</dt>
  <dd class="It-tag">display help usage</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V, --version</dt>
  <dd class="It-tag">display software version
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_CODES"><a class="selflink" href="#EXIT_CODES">EXIT
  CODES</a></h1>
<b>dar_manager</b> exits with the following code:
<dl class="Bl-tag">
  <dt class="It-tag">0</dt>
  <dd class="It-tag">Operation successful.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1</dt>
  <dd class="It-tag">see dar manual page for signification</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2</dt>
  <dd class="It-tag">see dar manual page for signification</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3</dt>
  <dd class="It-tag">see dar manual page for signification</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5</dt>
  <dd class="It-tag">see dar manual page for signification</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">7</dt>
  <dd class="It-tag">see dar manual page for signification</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">8</dt>
  <dd class="It-tag">see dar manual page for signification</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">11 and above</dt>
  <dd class="It-tag"><b>dar</b>
    <br/>
     called from dar_manager has exited with non zero status. Subtract 10 to
      this exit code to get dar's exit code.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SIGNALS"><a class="selflink" href="#SIGNALS">SIGNALS</a></h1>
dar_manager acts like dar (see dar man page for list of signals), upon certain
  signal reception dar aborts cleanly
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
dar(1), dar_xform(1), dar_slave(1), dar_cp(1), dar_split(1)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LIMITATIONS"><a class="selflink" href="#LIMITATIONS">LIMITATIONS</a></h1>
at most 65534 archives can be compiled in a given database, which should be
  enough for most users. Dar_manager does not support encrypted archives for now
  and archive cannot neither be encrypted. See the FAQ for a workaround.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="KNOWN_BUGS"><a class="selflink" href="#KNOWN_BUGS">KNOWN
  BUGS</a></h1>
http://sourceforge.net/p/dar/bugs/
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<pre>
http://dar.linux.free.fr/
Denis Corbin
France
Europe
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 17th, 2015</td>
    <td class="foot-os">3rd Berkeley Distribution</td>
  </tr>
</table>
</body>
</html>
