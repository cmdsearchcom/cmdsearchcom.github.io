<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GPGSM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GPGSM(1)</td>
    <td class="head-vol">GNU Privacy Guard</td>
    <td class="head-rtitle">GPGSM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>gpgsm</b> - CMS encryption and signing tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gpgsm</b> [<b>--homedir</b> <i>dir</i>] [<b>--options</b> <i>file</i>]
  [<i>options</i>] <i>command</i> [<i>args</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>gpgsm</b> is a tool similar to <b>gpg</b> to provide digital encryption and
  signing services on X.509 certificates and the CMS protocol. It is mainly used
  as a backend for S/MIME mail processing. <b>gpgsm</b> includes a full featured
  certificate management and complies with all rules defined for the German
  Sphinx project.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
Commands are not distinguished from options except for the fact that only one
  command is allowed.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Commands_not_specific_to_the_function"><a class="selflink" href="#Commands_not_specific_to_the_function">Commands
  not specific to the function</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print the program version and licensing information. Note
      that you cannot abbreviate this command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help, -h</b></dt>
  <dd class="It-tag">Print a usage message summarizing the most useful
      command-line options. Note that you cannot abbreviate this command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--warranty</b></dt>
  <dd class="It-tag">Print warranty information. Note that you cannot abbreviate
      this command.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-options</b></dt>
  <dd class="It-tag">Print a list of all available options and commands. Note
      that you cannot abbreviate this command.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Commands_to_select_the_type_of_operation"><a class="selflink" href="#Commands_to_select_the_type_of_operation">Commands
  to select the type of operation</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--encrypt</b></dt>
  <dd class="It-tag">Perform an encryption. The keys the data is encrypted too
      must be set using the option <b>--recipient</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--decrypt</b></dt>
  <dd class="It-tag">Perform a decryption; the type of input is automatically
      determined. It may either be in binary form or PEM encoded; automatic
      determination of base-64 encoding is not done.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sign</b></dt>
  <dd class="It-tag">Create a digital signature. The key used is either the fist
      one found in the keybox or those set with the <b>--local-user</b> option.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verify</b></dt>
  <dd class="It-tag">Check a signature file for validity. Depending on the
      arguments a detached signature may also be checked.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--server</b></dt>
  <dd class="It-tag">Run in server mode and wait for commands on the
      <b>stdin</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--call-dirmngr <i>command</i> [<i>args</i>]</b></dt>
  <dd class="It-tag">Behave as a Dirmngr client issuing the request
      <i>command</i> with the optional list of <i>args</i>. The output of the
      Dirmngr is printed stdout. Please note that file names given as arguments
      should have an absolute file name (i.e. commencing with <b>/</b> because
      they are passed verbatim to the Dirmngr and the working directory of the
      Dirmngr might not be the same as the one of this client. Currently it is
      not possible to pass data via stdin to the Dirmngr. <i>command</i> should
      not contain spaces.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is command is required for certain maintaining tasks of the dirmngr
      where a dirmngr must be able to call back to <b>gpgsm</b>. See the Dirmngr
      manual for details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--call-protect-tool <i>arguments</i></b></dt>
  <dd class="It-tag">Certain maintenance operations are done by an external
      program call <b>gpg-protect-tool</b>; this is usually not installed in a
      directory listed in the PATH variable. This command provides a simple
      wrapper to access this tool. <i>arguments</i> are passed verbatim to this
      command; use '--help' to get a list of supported operations.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="How_to_manage_the_certificates_and_keys"><a class="selflink" href="#How_to_manage_the_certificates_and_keys">How
  to manage the certificates and keys</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gen-key</b></dt>
  <dd class="It-tag">-This command allows the creation of a certificate signing
      request. It -is commonly used along with the <b>--output</b> option to
      save the -created CSR into a file. If used with the <b>--batch</b> a
      parameter -file is used to create the CSR. This command allows the
      creation of a certificate signing request or a self-signed certificate. It
      is commonly used along with the <b>--output</b> option to save the created
      CSR or certificate into a file. If used with the <b>--batch</b> a
      parameter file is used to create the CSR or certificate and it is further
      possible to create non-self-signed certificates.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-keys</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b></dt>
  <dd class="It-tag">List all available certificates stored in the local key
      database. Note that the displayed data might be reformatted for better
      human readability and illegal characters are replaced by safe substitutes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-secret-keys</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K</b></dt>
  <dd class="It-tag">List all available certificates for which a corresponding a
      secret key is available.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-external-keys <i>pattern</i></b></dt>
  <dd class="It-tag">List certificates matching <i>pattern</i> using an external
      server. This utilizes the <b>dirmngr</b> service.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--list-chain</b></dt>
  <dd class="It-tag">Same as <b>--list-keys</b> but also prints all keys making
      up the chain.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-cert</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-keys</b></dt>
  <dd class="It-tag">List all available certificates stored in the local key
      database using a format useful mainly for debugging.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-chain</b></dt>
  <dd class="It-tag">Same as <b>--dump-keys</b> but also prints all keys making
      up the chain.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-secret-keys</b></dt>
  <dd class="It-tag">List all available certificates for which a corresponding a
      secret key is available using a format useful mainly for debugging.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dump-external-keys <i>pattern</i></b></dt>
  <dd class="It-tag">List certificates matching <i>pattern</i> using an external
      server. This utilizes the <b>dirmngr</b> service. It uses a format useful
      mainly for debugging.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keydb-clear-some-cert-flags</b></dt>
  <dd class="It-tag">This is a debugging aid to reset certain flags in the key
      database which are used to cache certain certificate stati. It is
      especially useful if a bad CRL or a weird running OCSP responder did
      accidentally revoke certificate. There is no security issue with this
      command because <b>gpgsm</b> always make sure that the validity of a
      certificate is checked right before it is used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delete-keys <i>pattern</i></b></dt>
  <dd class="It-tag">Delete the keys matching <i>pattern</i>. Note that there is
      no command to delete the secret part of the key directly. In case you need
      to do this, you should run the command <b>gpgsm --dump-secret-keys
      KEYID</b> before you delete the key, copy the string of hex-digits in the
      ``keygrip'' line and delete the file consisting of these hex-digits and
      the suffix <b>.key</b> from the &#x2018;<i>private-keys-v1.d</i>&#x2019;
      directory below our GnuPG home directory (usually &#x2018;
      <i>~/.gnupg</i>&#x2019;).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export [<i>pattern</i>]</b></dt>
  <dd class="It-tag">Export all certificates stored in the Keybox or those
      specified by the optional <i>pattern</i>. Those pattern consist of a list
      of user ids (see: [how-to-specify-a-user-id]). When used along with the
      <b>--armor</b> option a few informational lines are prepended before each
      block. There is one limitation: As there is no commonly agreed upon way to
      pack more than one certificate into an ASN.1 structure, the binary export
      (i.e. without using <b>armor</b>) works only for the export of one
      certificate. Thus it is required to specify a <i>pattern</i> which yields
      exactly one certificate. Ephemeral certificate are only exported if all
      <i>pattern</i> are given as fingerprints or keygrips.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--export-secret-key-p12 <i>key-id</i></b></dt>
  <dd class="It-tag">Export the private key and the certificate identified by
      <i>key-id</i> in a PKCS#12 format. When using along with the
      <b>--armor</b> option a few informational lines are prepended to the
      output. Note, that the PKCS#12 format is not very secure and this command
      is only provided if there is no other way to exchange the private key.
      (see: [option --p12-charset])
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--import [<i>files</i>]</b></dt>
  <dd class="It-tag">Import the certificates from the PEM or binary encoded
      files as well as from signed-only messages. This command may also be used
      to import a secret key from a PKCS#12 file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--learn-card</b></dt>
  <dd class="It-tag">Read information about the private keys from the smartcard
      and import the certificates from there. This command utilizes the
      <b>gpg-agent</b> and in turn the <b>scdaemon</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--passwd <i>user_id</i></b></dt>
  <dd class="It-tag">Change the passphrase of the private key belonging to the
      certificate specified as <i>user_id</i>. Note, that changing the
      passphrase/PIN of a smartcard is not yet supported.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>GPGSM</b> features a bunch of options to control the exact behaviour and to
  change the default configuration.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="How_to_change_the_configuration"><a class="selflink" href="#How_to_change_the_configuration">How
  to change the configuration</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
These options are used to change the configuration and are usually found in the
  option file.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--options <i>file</i></b></dt>
  <dd class="It-tag">Reads configuration from <i>file</i> instead of from the
      default per-user configuration file. The default configuration file is
      named &#x2018; <i>gpgsm.conf</i>&#x2019; and expected in the
      &#x2018;<i>.gnupg</i>&#x2019; directory directly below the home directory
      of the user.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--homedir <i>dir</i></b></dt>
  <dd class="It-tag">Set the name of the home directory to <i>dir</i>. If this
      option is not used, the home directory defaults to &#x2018;
      <i>~/.gnupg</i>&#x2019;. It is only recognized when given on the command
      line. It also overrides any home directory stated through the environment
      variable &#x2018; <i>GNUPGHOME</i>&#x2019; or (on W32 systems) by means of
      the Registry entry <i>HKCU\Software\GNU\GnuPG:HomeDir</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Outputs additional information while running. You can
      increase the verbosity by giving several verbose commands to <b>gpgsm</b>,
      such as '-vv'.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--policy-file <i>filename</i></b></dt>
  <dd class="It-tag">Change the default name of the policy file to
      <i>filename</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--agent-program <i>file</i></b></dt>
  <dd class="It-tag">Specify an agent program to be used for secret key
      operations. The default value is the &#x2018;
      <i>/usr/local/bin/gpg-agent</i>&#x2019;. This is only used as a fallback
      when the environment variable <b>GPG_AGENT_INFO</b> is not set or a
      running agent cannot be connected.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dirmngr-program <i>file</i></b></dt>
  <dd class="It-tag">Specify a dirmngr program to be used for CRL checks. The
      default value is &#x2018; <i>/usr/sbin/dirmngr</i>&#x2019;. This is only
      used as a fallback when the environment variable <b>DIRMNGR_INFO</b> is
      not set or a running dirmngr cannot be connected.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prefer-system-dirmngr</b></dt>
  <dd class="It-tag">If a system wide <b>dirmngr</b> is running in daemon mode,
      first try to connect to this one. Fallback to a pipe based server if this
      does not work. Under Windows this option is ignored because the system
      dirmngr is always used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-dirmngr</b></dt>
  <dd class="It-tag">Entirely disable the use of the Dirmngr.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-secmem-warning</b></dt>
  <dd class="It-tag">Do not print a warning when the so called &quot;secure
      memory&quot; cannot be used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--log-file <i>file</i></b></dt>
  <dd class="It-tag">When running in server mode, append all logging output to
      <i>file</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Certificate_related_options"><a class="selflink" href="#Certificate_related_options">Certificate
  related options</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-policy-checks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-policy-checks</b></dt>
  <dd class="It-tag">By default policy checks are enabled. These options may be
      used to change it.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-crl-checks</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-crl-checks</b></dt>
  <dd class="It-tag">By default the CRL checks are enabled and the DirMngr is
      used to check for revoked certificates. The disable option is most useful
      with an off-line network connection to suppress this check.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-trusted-cert-crl-check</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-trusted-cert-crl-check</b></dt>
  <dd class="It-tag">By default the CRL for trusted root certificates are
      checked like for any other certificates. This allows a CA to revoke its
      own certificates voluntary without the need of putting all ever issued
      certificates into a CRL. The disable option may be used to switch this
      extra check off. Due to the caching done by the Dirmngr, there will not be
      any noticeable performance gain. Note, that this also disables possible
      OCSP checks for trusted root certificates. A more specific way of
      disabling this check is by adding the ``relax'' keyword to the root CA
      line of the &#x2018; <i>trustlist.txt</i>&#x2019;
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-crl-refresh</b></dt>
  <dd class="It-tag">Tell the dirmngr to reload the CRL for each request. For
      better performance, the dirmngr will actually optimize this by suppressing
      the loading for short time intervals (e.g. 30 minutes). This option is
      useful to make sure that a fresh CRL is available for certificates hold in
      the keybox. The suggested way of doing this is by using it along with the
      option <b>--with-validation</b> for a key listing command. This option
      should not be used in a configuration file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-ocsp</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--disable-ocsp</b></dt>
  <dd class="It-tag">By default OCSP checks are disabled. The enable option may
      be used to enable OCSP checks via Dirmngr. If CRL checks are also enabled,
      CRLs will be used as a fallback if for some reason an OCSP request will
      not succeed. Note, that you have to allow OCSP requests in Dirmngr's
      configuration too (option <b>--allow-ocsp</b>) and configure Dirmngr
      properly. If you do not do so you will get the error code 'Not supported'.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auto-issuer-key-retrieve</b></dt>
  <dd class="It-tag">If a required certificate is missing while validating the
      chain of certificates, try to load that certificate from an external
      location. This usually means that Dirmngr is employed to search for the
      certificate. Note that this option makes a &quot;web bug&quot; like
      behavior possible. LDAP server operators can see which keys you request,
      so by sending you a message signed by a brand new key (which you naturally
      will not have on your local keybox), the operator can tell both your IP
      address and the time when you verified the signature.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--validation-model <i>name</i></b></dt>
  <dd class="It-tag">This option changes the default validation model. The only
      possible values are &quot;shell&quot; (which is the default),
      &quot;chain&quot; which forces the use of the chain model and
      &quot;steed&quot; for a new simplified model. The chain model is also used
      if an option in the &#x2018; <i>trustlist.txt</i>&#x2019; or an attribute
      of the certificate requests it. However the standard model (shell) is in
      that case always tried first.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-cert-extension <i>oid</i></b></dt>
  <dd class="It-tag">Add <i>oid</i> to the list of ignored certificate
      extensions. The <i>oid</i> is expected to be in dotted decimal form, like
      <b>2.5.29.3</b>. This option may be used more than once. Critical flagged
      certificate extensions matching one of the OIDs in the list are treated as
      if they are actually handled and thus the certificate will not be rejected
      due to an unknown critical extension. Use this option with care because
      extensions are usually flagged as critical for a reason.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Input_and_Output"><a class="selflink" href="#Input_and_Output">Input
  and Output</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--armor</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">Create PEM encoded output. Default is binary output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--base64</b></dt>
  <dd class="It-tag">Create Base-64 encoded output; i.e. PEM without the header
      lines.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--assume-armor</b></dt>
  <dd class="It-tag">Assume the input data is PEM encoded. Default is to
      autodetect the encoding but this is may fail.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--assume-base64</b></dt>
  <dd class="It-tag">Assume the input data is plain base-64 encoded.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--assume-binary</b></dt>
  <dd class="It-tag">Assume the input data is binary encoded.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--p12-charset <i>name</i></b></dt>
  <dd class="It-tag"><b>gpgsm</b> uses the UTF-8 encoding when encoding
      passphrases for PKCS#12 files. This option may be used to force the
      passphrase to be encoded in the specified encoding <i>name</i>. This is
      useful if the application used to import the key uses a different encoding
      and thus will not be able to import a file generated by <b>gpgsm</b>.
      Commonly used values for <i>name</i> are <b>Latin1</b> and <b>CP850</b>.
      Note that <b>gpgsm</b> itself automagically imports any file with a
      passphrase encoded to the most commonly used encodings.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--default-key <i>user_id</i></b></dt>
  <dd class="It-tag">Use <i>user_id</i> as the standard key for signing. This
      key is used if no other key has been defined as a signing key. Note, that
      the first <b>--local-users</b> option also sets this key if it has not yet
      been set; however <b>--default-key</b> always overrides this.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--local-user <i>user_id</i></b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u <i>user_id</i></b></dt>
  <dd class="It-tag">Set the user(s) to be used for signing. The default is the
      first secret key found in the database.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--recipient <i>name</i></b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Encrypt to the user id <i>name</i>. There are several ways
      a user id may be given (see: [how-to-specify-a-user-id]).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--output <i>file</i></b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o <i>file</i></b></dt>
  <dd class="It-tag">Write output to <i>file</i>. The default is to write it to
      stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-key-data</b></dt>
  <dd class="It-tag">Displays extra information with the <b>--list-keys</b>
      commands. Especially a line tagged <b>grp</b> is printed which tells you
      the keygrip of a key. This string is for example used as the file name of
      the secret key.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-validation</b></dt>
  <dd class="It-tag">When doing a key listing, do a full validation check for
      each key and print the result. This is usually a slow operation because it
      requires a CRL lookup and other operations.
    <div style="height: 1.00em;">&#x00A0;</div>
    When used along with --import, a validation of the certificate to import is
      done and only imported if it succeeds the test. Note that this does not
      affect an already available certificate in the DB. This option is
      therefore useful to simply verify a certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-md5-fingerprint</b></dt>
  <dd class="It-tag">For standard key listings, also print the MD5 fingerprint
      of the certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-keygrip</b></dt>
  <dd class="It-tag">Include the keygrip in standard key listings. Note that the
      keygrip is always listed in --with-colons mode.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="How_to_change_how_the_CMS_is_created."><a class="selflink" href="#How_to_change_how_the_CMS_is_created.">How
  to change how the CMS is created.</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include-certs <i>n</i></b></dt>
  <dd class="It-tag">Using <i>n</i> of -2 includes all certificate except for
      the root cert, -1 includes all certs, 0 does not include any certs, 1
      includes only the signers cert and all other positive values include up to
      <i>n</i> certificates starting with the signer cert. The default is -2.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cipher-algo <i>oid</i></b></dt>
  <dd class="It-tag">Use the cipher algorithm with the ASN.1 object identifier
      <i>oid</i> for encryption. For convenience the strings <b>3DES</b>,
      <b>AES</b> and <b>AES256</b> may be used instead of their OIDs. The
      default is <b>3DES</b> (1.2.840.113549.3.7).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--digest-algo <b>name</b></b></dt>
  <dd class="It-tag">Use <b>name</b> as the message digest algorithm. Usually
      this algorithm is deduced from the respective signing certificate. This
      option forces the use of the given algorithm and may lead to severe
      interoperability problems.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Doing_things_one_usually_do_not_want_to_do."><a class="selflink" href="#Doing_things_one_usually_do_not_want_to_do.">Doing
  things one usually do not want to do.</a></h2>
&#x00A0;
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--extra-digest-algo <i>name</i></b></dt>
  <dd class="It-tag">Sometimes signatures are broken in that they announce a
      different digest algorithm than actually used. <b>gpgsm</b> uses a
      one-pass data processing model and thus needs to rely on the announced
      digest algorithms to properly hash the data. As a workaround this option
      may be used to tell gpg to also hash the data using the algorithm
      <i>name</i>; this slows processing down a little bit but allows to verify
      such broken signatures. If <b>gpgsm</b> prints an error like ``digest algo
      8 has not been enabled'' you may want to try this option, with 'SHA256'
      for <i>name</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--faked-system-time <i>epoch</i></b></dt>
  <dd class="It-tag">This option is only useful for testing; it sets the system
      time back or forth to <i>epoch</i> which is the number of seconds elapsed
      since the year 1970. Alternatively <i>epoch</i> may be given as a full ISO
      time string (e.g. &quot;20070924T154812&quot;).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-ephemeral-keys</b></dt>
  <dd class="It-tag">Include ephemeral flagged keys in the output of key
      listings. Note that they are included anyway if the key specification for
      a listing is given as fingerprint or keygrip.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-level <i>level</i></b></dt>
  <dd class="It-tag">Select the debug level for investigating problems.
      <i>level</i> may be a numeric value or by a keyword:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>none</b></dt>
  <dd class="It-tag">No debugging at all. A value of less than 1 may be used
      instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>basic</b></dt>
  <dd class="It-tag">Some basic debug messages. A value between 1 and 2 may be
      used instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>advanced</b></dt>
  <dd class="It-tag">More verbose debug messages. A value between 3 and 5 may be
      used instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expert</b></dt>
  <dd class="It-tag">Even more detailed messages. A value between 6 and 8 may be
      used instead of the keyword.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>guru</b></dt>
  <dd class="It-tag">All of the debug messages you can get. A value greater than
      8 may be used instead of the keyword. The creation of hash tracing files
      is only enabled if the keyword is used.</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
How these messages are mapped to the actual debugging flags is not specified and
  may change with newer releases of this program. They are however carefully
  selected to best aid in debugging.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug <i>flags</i></b></dt>
  <dd class="It-tag">This option is only useful for debugging and the behaviour
      may change at any time without notice; using <b>--debug-levels</b> is the
      preferred method to select the debug verbosity. FLAGS are bit encoded and
      may be given in usual C-Syntax. The currently defined bits are:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>0 (1)</b></dt>
  <dd class="It-tag">X.509 or OpenPGP protocol related data</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1 (2)</b></dt>
  <dd class="It-tag">values of big number integers</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2 (4)</b></dt>
  <dd class="It-tag">low level crypto operations</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>5 (32)</b></dt>
  <dd class="It-tag">memory allocation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>6 (64)</b></dt>
  <dd class="It-tag">caching</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>7 (128)</b></dt>
  <dd class="It-tag">show memory statistics.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>9 (512)</b></dt>
  <dd class="It-tag">write hashed data to files named <b>dbgmd-000*</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>10 (1024)</b></dt>
  <dd class="It-tag">trace Assuan protocol</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Note, that all flags set using this option may get overridden by
  <b>--debug-level</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-all</b></dt>
  <dd class="It-tag">Same as <b>--debug=0xffffffff</b>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-allow-core-dump</b></dt>
  <dd class="It-tag">Usually <b>gpgsm</b> tries to avoid dumping core by well
      written code and by disabling core dumps for security reasons. However,
      bugs are pretty durable beasts and to squash them it is sometimes useful
      to have a core dump. This option enables core dumps unless the Bad Thing
      happened before the option parsing.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-no-chain-validation</b></dt>
  <dd class="It-tag">This is actually not a debugging option but only useful as
      such. It lets <b>gpgsm</b> bypass all certificate chain validation checks.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-ignore-expiration</b></dt>
  <dd class="It-tag">This is actually not a debugging option but only useful as
      such. It lets <b>gpgsm</b> ignore all notAfter dates, this is used by the
      regression tests.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--fixed-passphrase <i>string</i></b></dt>
  <dd class="It-tag">Supply the passphrase <i>string</i> to the
      gpg-protect-tool. This option is only useful for the regression tests
      included with this package and may be revised or removed at any time
      without notice.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-common-certs-import</b></dt>
  <dd class="It-tag">Suppress the import of common certificates on keybox
      creation.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    All the long options may also be given in the configuration file after
      stripping off the two leading dashes.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="HOW_TO_SPECIFY_A_USER_ID"><a class="selflink" href="#HOW_TO_SPECIFY_A_USER_ID">HOW
  TO SPECIFY A USER ID</a></h1>
There are different ways to specify a user ID to GnuPG. Some of them are only
  valid for <b>gpg</b> others are only good for <b>gpgsm</b>. Here is the entire
  list of ways to specify a key:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By key Id.</b></dt>
  <dd class="It-tag">This format is deduced from the length of the string and
      its content or <b>0x</b> prefix. The key Id of an X.509 certificate are
      the low 64 bits of its SHA-1 fingerprint. The use of key Ids is just a
      shortcut, for all automated processing the fingerprint should be used.
    <div style="height: 1.00em;">&#x00A0;</div>
    When using <b>gpg</b> an exclamation mark (!) may be appended to force using
      the specified primary or secondary key and not to try and calculate which
      primary or secondary key to use.
    <div style="height: 1.00em;">&#x00A0;</div>
    The last four lines of the example give the key ID in their long form as
      internally used by the OpenPGP protocol. You can see the long key ID using
      the option <b>--with-colons</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
234567C4
0F34E556E
01347A56A
0xAB123456
<div class="Pp"></div>
234AABBCC34567C4
0F323456784E56EAB
01AB3FED1347A5612
0x234AABBCC34567C4
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By fingerprint.</b></dt>
  <dd class="It-tag">This format is deduced from the length of the string and
      its content or the <b>0x</b> prefix. Note, that only the 20 byte version
      fingerprint is available with <b>gpgsm</b> (i.e. the SHA-1 hash of the
      certificate).
    <div style="height: 1.00em;">&#x00A0;</div>
    When using <b>gpg</b> an exclamation mark (!) may be appended to force using
      the specified primary or secondary key and not to try and calculate which
      primary or secondary key to use.
    <div style="height: 1.00em;">&#x00A0;</div>
    The best way to specify a key Id is by using the fingerprint. This avoids
      any ambiguities in case that there are duplicated key IDs.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
1234343434343434C434343434343434
123434343434343C3434343434343734349A3434
0E12343434343434343434EAB3484343434343434
0xE12343434343434343434EAB3484343434343434
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
( <b>gpgsm</b> also accepts colons between each pair of hexadecimal digits
  because this is the de-facto standard on how to present X.509 fingerprints.)
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By exact match on OpenPGP user ID.</b></dt>
  <dd class="It-tag">This is denoted by a leading equal sign. It does not make
      sense for X.509 certificates.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
=Heinrich Heine &lt;heinrichh@uni-duesseldorf.de&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By exact match on an email address.</b></dt>
  <dd class="It-tag">This is indicated by enclosing the email address in the
      usual way with left and right angles.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
&lt;heinrichh@uni-duesseldorf.de&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By word match.</b></dt>
  <dd class="It-tag">All words must match exactly (not case sensitive) but can
      appear in any order in the user ID or a subjects name. Words are any
      sequences of letters, digits, the underscore and all characters with bit 7
      set.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
+Heinrich Heine duesseldorf
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By exact match on the subject's DN.</b></dt>
  <dd class="It-tag">This is indicated by a leading slash, directly followed by
      the RFC-2253 encoded DN of the subject. Note that you can't use the string
      printed by &quot;gpgsm --list-keys&quot; because that one as been
      reordered and modified for better readability; use --with-colons to print
      the raw (but standard escaped) RFC-2253 string
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
/CN=Heinrich Heine,O=Poets,L=Paris,C=FR
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By exact match on the issuer's DN.</b></dt>
  <dd class="It-tag">This is indicated by a leading hash mark, directly followed
      by a slash and then directly followed by the rfc2253 encoded DN of the
      issuer. This should return the Root cert of the issuer. See note above.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
#/CN=Root Cert,O=Poets,L=Paris,C=FR
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By exact match on serial number and issuer's
    DN.</b></dt>
  <dd class="It-tag">This is indicated by a hash mark, followed by the
      hexadecimal representation of the serial number, then followed by a slash
      and the RFC-2253 encoded DN of the issuer. See note above.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
#4F03/CN=Root Cert,O=Poets,L=Paris,C=FR
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By keygrip</b></dt>
  <dd class="It-tag">This is indicated by an ampersand followed by the 40 hex
      digits of a keygrip. <b>gpgsm</b> prints the keygrip when using the
      command <b>--dump-cert</b>. It does not yet work for OpenPGP keys.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
&amp;D75F22C3F86E355877348498CDC92BD21010A480
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>By substring match.</b></dt>
  <dd class="It-tag">This is the default mode but applications may want to
      explicitly indicate this by putting the asterisk in front. Match is not
      case sensitive.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 2.00ex;">
<pre>
Heine
*Heine
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Please note that we have reused the hash mark identifier which was used in old
  GnuPG versions to indicate the so called local-id. It is not anymore used and
  there should be no conflict when used with X.509 stuff.
<div style="height: 1.00em;">&#x00A0;</div>
Using the RFC-2253 format of DNs has the drawback that it is not possible to map
  them back to the original encoding, however we don't have to do this because
  our key database stores this encoding as meta data.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<div style="margin-left: 2.00ex;">
<pre>
$ gpgsm -er goo@bar.net &lt;plaintext &gt;ciphertext
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
There are a few configuration files to control certain aspects of <b>gpgsm</b>'s
  operation. Unless noted, they are expected in the current home directory (see:
  [option --homedir]).
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>gpgsm.conf</b></dt>
  <dd class="It-tag">This is the standard configuration file read by
      <b>gpgsm</b> on startup. It may contain any valid long option; the leading
      two dashes may not be entered and the option may not be abbreviated. This
      default name may be changed on the command line (see: [gpgsm-option
      --options]). You should backup this file.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>policies.txt</b></dt>
  <dd class="It-tag">This is a list of allowed CA policies. This file should
      list the object identifiers of the policies line by line. Empty lines and
      lines starting with a hash mark are ignored. Policies missing in this file
      and not marked as critical in the certificate will print only a warning;
      certificates with policies marked as critical and not listed in this file
      will fail the signature verification. You should backup this file.
    <div style="height: 1.00em;">&#x00A0;</div>
    For example, to allow only the policy 2.289.9.9, the file should look like
      this:
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div style="margin-left: 5.00ex;">
<div style="margin-left: 2.00ex;">
<pre>
# Allowed policies
2.289.9.9
</pre>
</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>qualified.txt</b></dt>
  <dd class="It-tag">This is the list of root certificates used for qualified
      certificates. They are defined as certificates capable of creating legally
      binding signatures in the same way as handwritten signatures are. Comments
      start with a hash mark and empty lines are ignored. Lines do have a length
      limit but this is not a serious limitation as the format of the entries is
      fixed and checked by gpgsm: A non-comment line starts with optional
      whitespace, followed by exactly 40 hex character, white space and a
      lowercased 2 letter country code. Additional data delimited with by a
      white space is current ignored but might late be used for other purposes.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that even if a certificate is listed in this file, this does not mean
      that the certificate is trusted; in general the certificates listed in
      this file need to be listed also in &#x2018; <i>trustlist.txt</i>&#x2019;.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is a global file an installed in the data directory (e.g. &#x2018;
      <i>/usr/share/gnupg/qualified.txt</i>&#x2019;). GnuPG installs a suitable
      file with root certificates as used in Germany. As new Root-CA
      certificates may be issued over time, these entries may need to be
      updated; new distributions of this software should come with an updated
      list but it is still the responsibility of the Administrator to check that
      this list is correct.
    <div style="height: 1.00em;">&#x00A0;</div>
    Everytime <b>gpgsm</b> uses a certificate for signing or verification this
      file will be consulted to check whether the certificate under question has
      ultimately been issued by one of these CAs. If this is the case the user
      will be informed that the verified signature represents a legally binding
      (``qualified'') signature. When creating a signature using such a
      certificate an extra prompt will be issued to let the user confirm that
      such a legally binding signature shall really be created.
    <div style="height: 1.00em;">&#x00A0;</div>
    Because this software has not yet been approved for use with such
      certificates, appropriate notices will be shown to indicate this fact.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help.txt</b></dt>
  <dd class="It-tag">This is plain text file with a few help entries used with
      <b>pinentry</b> as well as a large list of help items for <b>gpg</b> and
      <b>gpgsm</b>. The standard file has English help texts; to install
      localized versions use filenames like &#x2018; <i>help.LL.txt</i>&#x2019;
      with LL denoting the locale. GnuPG comes with a set of predefined help
      files in the data directory (e.g. &#x2018;
      <i>/usr/share/gnupg/help.de.txt</i>&#x2019;) and allows overriding of any
      help item by help files stored in the system configuration directory (e.g.
      &#x2018; <i>/etc/gnupg/help.de.txt</i>&#x2019;). For a reference of the
      help file's syntax, please see the installed &#x2018;
      <i>help.txt</i>&#x2019; file.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>com-certs.pem</b></dt>
  <dd class="It-tag">This file is a collection of common certificates used to
      populated a newly created &#x2018; <i>pubring.kbx</i>&#x2019;. An
      administrator may replace this file with a custom one. The format is a
      concatenation of PEM encoded X.509 certificates. This global file is
      installed in the data directory (e.g. &#x2018;
      <i>/usr/share/gnupg/com-certs.pem</i>&#x2019;).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
Note that on larger installations, it is useful to put predefined files into the
  directory &#x2018; <i>/etc/skel/.gnupg/</i>&#x2019; so that newly created
  users start up with a working configuration. For existing users a small helper
  script is provided to create these files (see: [addgnupghome]).
<div style="height: 1.00em;">&#x00A0;</div>
For internal purposes gpgsm creates and maintains a few other files; they all
  live in in the current home directory (see: [option --homedir]). Only
  <b>gpgsm</b> may modify these files.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pubring.kbx</b></dt>
  <dd class="It-tag">This a database file storing the certificates as well as
      meta information. For debugging purposes the tool <b>kbxutil</b> may be
      used to show the internal structure of this file. You should backup this
      file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>random_seed</b></dt>
  <dd class="It-tag">This content of this file is used to maintain the internal
      state of the random number generator across invocations. The same file is
      used by other programs of this software too.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>S.gpg-agent</b></dt>
  <dd class="It-tag">If this file exists and the environment variable
      &#x2018;<i>GPG_AGENT_INFO</i>&#x2019; is not set, <b>gpgsm</b> will first
      try to connect to this socket for accessing <b>gpg-agent</b> before
      starting a new <b>gpg-agent</b> instance. Under Windows this socket (which
      in reality be a plain file describing a regular TCP listening port) is the
      standard way of connecting the <b>gpg-agent</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gpg2</b>(1), <b>gpg-agent</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
The full documentation for this tool is maintained as a Texinfo manual. If GnuPG
  and the info program are properly installed at your site, the command
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 2.00ex;">
<pre>
info gnupg
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
should give you access to the complete manual including a menu structure and an
  index.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-11-05</td>
    <td class="foot-os">GnuPG 2.0.22</td>
  </tr>
</table>
</body>
</html>
