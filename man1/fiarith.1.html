<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:09:51 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FIARITH(1) User Commands FIARITH(1)</p>

<p style="margin-top: 1em">NAME <br>
fiarith - evaluating arithmetic expressions on images as
operands</p>

<p style="margin-top: 1em">SYNOPSIS <br>
fiarith [options] &quot;&lt;expression&gt;&quot;
[-o|--output &lt;output.fits&gt;]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The purpose of this program is to evaluate
&lt;expression&gt; which is intented to contain arithmetic
operations and functions on FITS images (of the same size).
See the section &quot;Exam&acirc; <br>
ples&quot; below for examples on the syntax of
&lt;expression&gt;</p>

<p style="margin-top: 1em">OPTIONS <br>
General options: <br>
-h, --help <br>
Gives general summary about the command line options.</p>

<p style="margin-top: 1em">--long-help, --help-long <br>
Gives a detailed list of command line options.</p>

<p style="margin-top: 1em">--wiki-help, --help-wiki,
--mediawiki-help, --help-mediawiki <br>
Gives a detailed list of command line options in Mediawiki
format.</p>

<p style="margin-top: 1em">--version, --version-short,
--short-version <br>
Gives some version information about the program.</p>

<p style="margin-top: 1em">-o, --output &lt;fits&gt; <br>
The name of the output file (omitting or specifing
&rsquo;-&rsquo; yields the output to be written to
stdout).</p>

<p style="margin-top: 1em">-s, --size &lt;sx&gt;,&lt;sy&gt;
<br>
Horizontal and vertical size of the output image
(meaningless if &lt;expression&gt; contains any existing
FITS image).</p>

<p style="margin-top: 1em">-M, --input-mask &lt;fits&gt;
<br>
Input mask file to co-add to output image.</p>

<p style="margin-top: 1em">--output-mask &lt;fits&gt; <br>
Name of output mask file to create.</p>

<p style="margin-top: 1em">-D, --data &lt;spec&gt; <br>
Output pixel data format specification.</p>

<p style="margin-top: 1em">-b, --bitpix &lt;bitpix&gt; <br>
Standard FITS output bitpix value.</p>

<p style="margin-top: 1em">-a, --apply-mask <br>
Resets pixel values to zero if masked.</p>

<p style="margin-top: 1em">-e, --header &lt;fits&gt; <br>
Inherit output header from the specified FITS file.</p>

<p style="margin-top: 1em">Available arithmetic operators:
<br>
+ Addition.</p>

<p style="margin-top: 1em">- Subtraction.</p>

<p style="margin-top: 1em">* Multiplication.</p>

<p style="margin-top: 1em">/ Division. Dividing by zero
yields zero automatically.</p>

<p style="margin-top: 1em">Available arithmetic functions:
<br>
sin(.), cos(.), tan(.) <br>
Trigonometric functions.</p>

<p style="margin-top: 1em">asin(.), acos(.), atan(.),
atan2(.,.), arg(.,.) <br>
Inverse trigonometric functions.</p>

<p style="margin-top: 1em">abs(.), sq(.), sqrt(.), exp(.),
log(.) <br>
Absolute value, square, Square root, exponential and natural
logarithm functions.</p>

<p style="margin-top: 1em">Available image functions: <br>
min(....) <br>
The per pixel minimal value of pixel intensities of the
images listed (separated by comma) in the argument of the
function.</p>

<p style="margin-top: 1em">max(....) <br>
The per pixel maximal value of pixel intensities of the
images listed (separated by comma) in the argument of the
function.</p>

<p style="margin-top: 1em">mean(...) <br>
The per pixel mean value of pixel intensities of the images
listed (separated by comma) in the argument of the
function.</p>

<p style="margin-top: 1em">norm(.) <br>
The mean of the pixel values on the image.</p>

<p style="margin-top: 1em">sign(.) <br>
The per pixel sign function.</p>

<p style="margin-top: 1em">theta(.) <br>
The per pixel Heaviside step function.</p>

<p style="margin-top: 1em">laplace(.) <br>
The Laplace transform of the image.</p>

<p style="margin-top: 1em">scatter(.) <br>
Noise level estimation for the image.</p>

<p style="margin-top: 1em">corr(.,.) <br>
Correlation between two images.</p>


<p style="margin-top: 1em">smooth(&lt;image&gt;,&lt;sigma&gt;,&lt;size&gt;)
<br>
The smoothed variant of the first argument (threated as an
image), which is yielded by the convolution with a Gaussian
profile with a standard deviation of &lt;sigma&gt;,
evalu&acirc; <br>
ated on a kernel stamp with the size of &lt;size&gt;.</p>

<p style="margin-top: 1em">EXAMPLES <br>
fiarith
&quot;&rsquo;img1.fits&rsquo;-&rsquo;orig.fits&rsquo;&quot;
-o diff.fits <br>
Calculates the per pixel difference between images
&quot;img1.fits&quot; and &quot;orig.fits&quot; and stores
the result in &quot;diff.fits&quot;.</p>

<p style="margin-top: 1em">fiarith -s 512,512
&quot;137.42&quot; -o constant.fits <br>
Creates a new image with the size of 512 by 512 pixels with
the constant value of 137.42.</p>

<p style="margin-top: 1em">fiarith
&quot;&rsquo;-&rsquo;*26&quot; -o - <br>
Multiplies the pixel intensities of the image read from the
standard input by 26 and writes the result to the standard
output. The &quot;-o -&quot; can either be omitted, since by
<br>
default the output is written to stdout.</p>

<p style="margin-top: 1em">fiarith -s 512,512
&quot;[&rsquo;input.fits&rsquo;](a/(1-0.3*(X^2-Y^2)))&quot;
-o flattened.fits <br>
This invocation evaluates the
&quot;a/(1-0.3*(X^2+Y^2))&quot; expression on each pixel of
the image &quot;input.fits&quot;, where &quot;a&quot;
referes to the pixel value itself and X and Y are the <br>
normalized spatial coordinates. The normalization is always
done as X=(2*x-SX)/(SX) and Y=(2*y-SY)/SX, i.e. the X and Y
coordinates are zero at the center of the images, X <br>
has a unity absolute value at the left and right edges and Y
is scaled properly to X.</p>

<p style="margin-top: 1em">fiarith
&quot;(&rsquo;R.fits&rsquo;-&rsquo;B.fits&rsquo;-0.5*&rsquo;D.fits&rsquo;)*(norm(&rsquo;F.fits&rsquo;)/&rsquo;F.fits&rsquo;)&quot;
-o C.fits <br>
This operation performs a simple bias, dark and flat
calibration on the input raw image &quot;R.fits&quot;,
expecting &quot;B.fits&quot;, &quot;D.fits&quot; and
&quot;F.fits&quot; to be the master bias, dark and <br>
flat calibration frames, respectively; and assuming an
exposure time for the raw image which is the half of the
exposure time of the master dark frame. Due to the <br>
&quot;norm(...)&quot; function, the mean intensity level of
the image is kept to be the same as it is in the raw
image.</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to &lt;apal@szofi.net&gt;, see also
http://fitsh.net/.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 1996, 2002, 2004-2008, 2010-2015;
Pal, Andras &lt;apal@szofi.net&gt;</p>

<p style="margin-top: 1em">fiarith 1.0pre3
(0.9.2@2016.09.23) September 2016 FIARITH(1)</p>
<hr>
</body>
</html>
