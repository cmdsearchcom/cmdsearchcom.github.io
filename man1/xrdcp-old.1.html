<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>xrdcp-old(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">xrdcp-old(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">xrdcp-old(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
xrdcp-old - copy files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<div class="Pp"></div>
<b>xrdcp-old</b> [<i>options</i>] <i>source</i> <i>destination</i>
<div class="Pp"></div>
<i>options</i>: [<b>--cksum</b> <i>args</i>] [<b>--debug</b> <i>lvl</i>] [<b>--coerce</b>] [<b>--force</b>]
[ <b>--help</b>] [<b>--license</b>] [<b>--nopbar</b>] [<b>--posc</b>] [<b>--proxy </b><i>ipaddr</i><b>:</b><i>port</i>]
[ <b>--recursive</b>] [<b>--retry</b> <i>time</i>] [<b>--server</b>] [<b>--silent</b>]
[ <b>--sources</b> <i>num</i>] [<b>--streams</b> <i>num</i>] [<b>--tpc</b>] [<b>--verbose</b>]
[ <b>--version</b>] [<b>--xrate</b> <i>rate</i>]
<div class="Pp"></div>
<i>legacy options</i>: [<b>-adler</b>] [<b>-DS</b><i>parm string</i>] [<b>-DI</b><i>parm number</i>]
[ <b>-md5</b>] [<b>-np</b>] [<b>-OD</b><i>cgi</i>] [<b>-OS</b><i>cgi</i>] [<b>-x</b>]
<div class="Pp"></div>
</pre>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>This tool is DEPRECATED. It is what used to be xrdcp prior to xrootd 4.0.0
  release.</b> <b>Please use xrdcp instead.</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The <b>xrdcp-old</b> utility copies one or more files from one location to
  another. The data source and destination may be a local or remote file or
  directory. Additionally, the data source may also reside on multiple servers.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
{ <b>-C | --cksum</b>} <i>type</i>[<b>:</b>{<i>value</i>|<b>print</b>}]
<div style="margin-left: 5.00ex;">obtains the checksum of <i>type</i> (i.e.
  adler32, crc32, or md5) from the source, computes the checksum at the
  destination, and verifies that they are the same. If a <i>value</i> is
  specified, it is used as the source checksum. When <b>print</b> is specified,
  the checksum at the destination is printed but is <i>not</i> verified.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-d</b> | <b>--debug</b>} <i>lvl</i>
<div style="margin-left: 5.00ex;">debug level: 1 (low), 2 (medium), 3 (high)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-F</b> | --coerce}
<div style="margin-left: 5.00ex;">ignores locking semantics on the destination
  file. This option may lead to file corruption if not properly used.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-f</b> | <b>--force</b>}
<div style="margin-left: 5.00ex;">re-creates a file if it is already present.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-h</b> | --help}
<div style="margin-left: 5.00ex;">displays usage information.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-H</b> | --license}
<div style="margin-left: 5.00ex;">displays license terms and conditions.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-N</b> | <b>--nopbar</b>}
<div style="margin-left: 5.00ex;">does not display the progress bar.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-P</b> | <b>--posc</b>}
<div style="margin-left: 5.00ex;">requests POSC (persist-on-successful-close)
  processing to create a new file. Files are automatically deleted should they
  not be successfully closed.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-D</b> | <b>--proxy</b>} <i>proxyaddr</i><b>:</b><i>proxyport</i>
<div style="margin-left: 5.00ex;">use <i>proxyaddr</i><b>:</b><i>proxyport</i>
  as a SOCKS4 proxy. Only numerical addresses are supported.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-r</b> | <b>--recursive</b>}
<div style="margin-left: 5.00ex;">recursively copy all files starting at the
  given source directory. This option is <i>only</i> supported for local files.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>--server</b>
<div style="margin-left: 5.00ex;">runs as if in a server environment. Used only
  for server-side third party copy support.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-s</b> | <b>--silent</b>}
<div style="margin-left: 5.00ex;">neither produces summary information nor
  displays the progress bar.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-y</b> | <b>--sources</b>} <i>num</i>
<div style="margin-left: 5.00ex;">uses up to <i>num</i> sources to copy the
  file.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-S</b> | <b>--streams</b>} <i>num</i>
<div style="margin-left: 5.00ex;">uses <i>num</i> additional parallel streams to
  do the transfer. The maximum value is 15. The default is 0 (i.e., use only the
  main stream).
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>--tpc</b>
<div style="margin-left: 5.00ex;">copies the file from remote server to remote
  server using third-party-copy protocol (i.e., data flows from server to
  server). The source and destination servers must support third party copies.
  Additional security restrictions may apply and may cause the copy to fail if
  they cannot be satisfied.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-v</b> | <b>--verbose</b>}
<div style="margin-left: 5.00ex;">displays summary output.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-V</b> | <b>-version</b>}
<div style="margin-left: 5.00ex;">displays version information and immediately
  exits.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
{ <b>-X</b> | <b>--xrate</b>} <i>rate</i>
<div style="margin-left: 5.00ex;">limits the copy speed to the specified
  <i>rate</i> <b>. The rate may be qualified</b> <b>with the letter
  </b><b>k</b>, <b>m</b>, or <b>g</b> to indicate kilo, mega, or giga bytes,
  respectively. The option only applies when the source or destination is local.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="LEGACY_OPTIONS"><a class="selflink" href="#LEGACY_OPTIONS">LEGACY
  OPTIONS</a></h1>
Legacy options are provided for backward compatability. These are now deprecated
  and should be avoided. <b>--adler</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--cksum
  adler32:print</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-DI</b><i>pname numberval</i>
<div style="margin-left: 5.00ex;">set the internal parameter <i>pname</i> with
  the numeric value <i>numberval</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-DS</b><i>pname stringval</i>
<div style="margin-left: 5.00ex;">set the internal parameter <i>pname</i> with
  the string value <i>stringval</i>.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-md5</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--cksum
  md5:print</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-np</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--nopbar</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-OD</b><i>cgi</i>
<div style="margin-left: 5.00ex;">add cgi information <i>cgi</i> to any
  destination xrootd URL. You should specify the opaque information directly on
  the destination URL.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-OS</b><i>cgi</i>
<div style="margin-left: 5.00ex;">add cgi information <i>cgi</i> to any source
  xrootd URL.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<b>-x</b>
<div style="margin-left: 5.00ex;">equivalent to &quot;<b>--sources 12</b>&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
<i>source</i>
<div style="margin-left: 5.00ex;">a local file, a local directory name suffixed
  by /, or an xrootd URL in the form of
<div>&#x00A0;</div>
<b>xroot://[</b><i>user</i><b>@</b>]<i>host[</i><b>:</b><i>port</i>]<b>/</b><i>absolutepath</i>
<div>&#x00A0;</div>
The <i>absolutepath</i> can be a directory.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<i>destination</i>
<div style="margin-left: 5.00ex;">a dash (i.e. <b>-</b>) indicating stanard out,
  a local file, a local directory name suffixed by /, or an xrootd URL in the
  form
<div>&#x00A0;</div>
<b>xroot://[</b><i>user</i><b>@</b>]<i>host[</i><b>:</b><i>port</i>]<b>/</b><i>absolutepath</i>
<div>&#x00A0;</div>
The <i>absolutepath</i> can be a directory.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="EXAMPLES_(GENERIC)"><a class="selflink" href="#EXAMPLES_(GENERIC)">EXAMPLES
  (GENERIC)</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">local file upload:</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    <b>$ xrdcp-old /tmp/myfile xroot://foo.bar.com//data/myfile</b>
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">remote file download:</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    <b>$ xrdcp-old xroot://foo.bar.com//data/myfile /tmp/myfile</b>
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">remote-remote copy:</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    <b>$ xrdcp-old xroot://foo.bar.com//data/myfile1
      xroot://foo.bar.com//data/myfile2</b>
    <div>&#x00A0;</div>
    <br/>
    <div>&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES_(CASTOR)"><a class="selflink" href="#EXAMPLES_(CASTOR)">EXAMPLES
  (CASTOR)</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">local file upload to a Castor instance using a specific
    service class and stager:</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    <b>$ xrdcp-old /tmp/myfile
      root://&lt;stagerhost&gt;.cern.ch//castor/cern.ch/data/myfile
      -ODstagerHost=$STAGE_HOST&amp;svcClass=$STAGE_SVCCLASS</b>
    <div>&#x00A0;</div>
    [ you need to escape the '&amp;' in the shell ]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">remote file download from a Castor instance using a
    specific stager:</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    <b>$ xrdcp-old /tmp/myfile
      root://&lt;stagerhost&gt;.cern.ch//castor/cern.ch/data/myfile
      -OSstagerHost=$STAGE_HOST</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">client-proxy copy to-/from- a Castor instance:</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    <b>$ xrdcp-old</b>
    <div>&#x00A0;</div>
    <b>root://&lt;stagerA&gt;.cern.ch//castor/cern.ch/data/stagerA/myfile
      -OSstagerHost=&lt;stagerA&gt;</b>
    <div>&#x00A0;</div>
    <b>root://&lt;stagerB&gt;.cern.ch//castor/cern.ch/data/stagerB/myfile
      -ODstagerHost=&lt;stagerA&gt;</b>
    <div>&#x00A0;</div>
    <div>&#x00A0;</div>
    [ you cannot copy between stagers using the same logical filename in the
      castor namespace! ]</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Documentation for all components associated with <b>xrdcp-old</b> can be found
  at http://xrootd.org/docs.html
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Errors yield an error message and a non-zero exit status.
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
License terms can be displayed by typing &quot; <b>xrootd -H</b>&quot;.
<h1 class="Sh" title="Sh" id="SUPPORT_LEVEL"><a class="selflink" href="#SUPPORT_LEVEL">SUPPORT
  LEVEL</a></h1>
The <b>xrdcp</b> command is supported by the xrootd collaboration. Contact
  information can be found at
<div>&#x00A0;</div>
http://xrootd.org/contact.html
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">v4.6.1</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
