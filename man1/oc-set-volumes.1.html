<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:28:18 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OC SET(1) June 2016 OC SET(1)</p>

<p style="margin-top: 1em">NAME <br>
oc set volumes - Update volumes on a pod template</p>

<p style="margin-top: 1em">SYNOPSIS <br>
oc set volumes [OPTIONS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Update volumes on a pod template</p>

<p style="margin-top: 1em">This command can add, update or
remove volumes from containers for any object that has a pod
template (deployment configs, replication controllers, or
pods). You can list volumes <br>
in pod or any object that has a pod template. You can
specify a single object or multiple, and alter volumes on
all containers or just those that match a given name.</p>

<p style="margin-top: 1em">If you alter a volume setting on
a deployment config, a deployment will be triggered.
Changing a replication controller will not affect running
pods, and you cannot change a <br>
pod&rsquo;s volumes once it has been created.</p>

<p style="margin-top: 1em">Volume types include:</p>

<p style="margin-top: 1em">&Acirc;&middot; emptydir (empty
directory) default : A directory allocated when the pod is
created on a local host, is removed when the pod is deleted
and is not copied across servers</p>

<p style="margin-top: 1em">&Acirc;&middot; hostdir (host
directory): A directory with specific path on any host
(requires elevated privileges)</p>

<p style="margin-top: 1em">&Acirc;&middot;
persistentvolumeclaim or pvc (persistent volume claim): Link
the volume directory in the container to a persistent volume
claim you have allocated by name - a persistent <br>
volume claim is a request to allocate storage. Note that if
your claim hasn&rsquo;t been bound, your pods will not
start.</p>

<p style="margin-top: 1em">&Acirc;&middot; secret (mounted
secret): Secret volumes mount a named secret to the provided
directory.</p>

<p style="margin-top: 1em">For descriptions on other volume
types, see
&acirc;&uml;https://docs.openshift.com&acirc;&copy;</p>

<p style="margin-top: 1em">OPTIONS <br>
--add=false <br>
If true, add volume and/or volume mounts for containers</p>

<p style="margin-top: 1em">--all=false <br>
If true, select all resources in the namespace of the
specified resource types</p>


<p style="margin-top: 1em">--allow-missing-template-keys=true
<br>
If true, ignore any errors in templates when a field or map
key is missing in the template. Only applies to golang and
jsonpath output formats.</p>

<p style="margin-top: 1em">--claim-class=&quot;&quot; <br>
StorageClass to use for the persistent volume claim</p>


<p style="margin-top: 1em">--claim-mode=&quot;ReadWriteOnce&quot;
<br>
Set the access mode of the claim to be created. Valid values
are ReadWriteOnce (rwo), ReadWriteMany (rwm), or
ReadOnlyMany (rom)</p>

<p style="margin-top: 1em">--claim-name=&quot;&quot; <br>
Persistent volume claim name. Must be provided for
persistentVolumeClaim volume type</p>

<p style="margin-top: 1em">--claim-size=&quot;&quot; <br>
If specified along with a persistent volume type, create a
new claim with the given size in bytes. Accepts SI notation:
10, 10G, 10Gi</p>

<p style="margin-top: 1em">--configmap-name=&quot;&quot;
<br>
Name of the persisted config map. Must be provided for
configmap volume type</p>

<p style="margin-top: 1em">--confirm=false <br>
If true, confirm that you really want to remove multiple
volumes</p>

<p style="margin-top: 1em">-c, --containers=&quot;*&quot;
<br>
The names of containers in the selected pod templates to
change - may use wildcards</p>

<p style="margin-top: 1em">--default-mode=&quot;&quot; <br>
The default mode bits to create files with. Can be between
0000 and 0777. Defaults to 0644.</p>

<p style="margin-top: 1em">-f, --filename=[] <br>
Filename, directory, or URL to file to use to edit the
resource.</p>

<p style="margin-top: 1em">--list=false <br>
If true, list volumes and volume mounts for containers</p>

<p style="margin-top: 1em">-m, --mount-path=&quot;&quot;
<br>
Mount path inside the container. Optional param for --add or
--remove</p>

<p style="margin-top: 1em">--name=&quot;&quot; <br>
Name of the volume. If empty, auto generated for add
operation</p>

<p style="margin-top: 1em">--no-headers=false <br>
When using the default or custom-column output format,
don&rsquo;t print headers.</p>

<p style="margin-top: 1em">-o, --output=&quot;&quot; <br>
Output format. One of:
json|yaml|wide|name|custom-columns=...|custom-columns-file=...|go-template=...|go-template-file=...|jsonpath=...|jsonpath-file=...
See custom columns [ <br>

&acirc;&uml;http://kubernetes.io/docs/user-guide/kubectl-overview/#custom-columns&acirc;&copy;],
golang template [
&acirc;&uml;http://golang.org/pkg/text/template/#pkg-overview&acirc;&copy;]
and jsonpath template [ <br>

&acirc;&uml;http://kubernetes.io/docs/user-guide/jsonpath&acirc;&copy;].</p>

<p style="margin-top: 1em">--output-version=&quot;&quot;
<br>
Output the formatted object with the given group version
(for ex: &rsquo;extensions/v1beta1&rsquo;).</p>

<p style="margin-top: 1em">--overwrite=false <br>
If true, replace existing volume source with the provided
name and/or volume mount for the given resource</p>

<p style="margin-top: 1em">--path=&quot;&quot; <br>
Host path. Must be provided for hostPath volume type</p>

<p style="margin-top: 1em">--remove=false <br>
If true, remove volume and/or volume mounts for
containers</p>

<p style="margin-top: 1em">--secret-name=&quot;&quot; <br>
Name of the persisted secret. Must be provided for secret
volume type</p>

<p style="margin-top: 1em">-l, --selector=&quot;&quot; <br>
Selector (label query) to filter on</p>

<p style="margin-top: 1em">-a, --show-all=true <br>
When printing, show all resources (false means hide
terminated pods.)</p>

<p style="margin-top: 1em">--show-labels=false <br>
When printing, show all labels as the last column (default
hide labels column)</p>

<p style="margin-top: 1em">--sort-by=&quot;&quot; <br>
If non-empty, sort list types using this field
specification. The field specification is expressed as a
JSONPath expression (e.g. &rsquo;{.metadata.name}&rsquo;).
The field in the API <br>
resource specified by this JSONPath expression must be an
integer or a string.</p>

<p style="margin-top: 1em">--source=&quot;&quot; <br>
Details of volume source as json string. This can be used if
the required volume type is not supported by --type option.
(e.g.: &rsquo;{&quot;gitRepo&quot;: {&quot;repository&quot;:
&lt;git-url&gt;, &quot;revi&acirc; <br>
sion&quot;: &lt;commit-hash&gt;}}&rsquo;)</p>

<p style="margin-top: 1em">--template=&quot;&quot; <br>
Template string or path to template file to use when
-o=go-template, -o=go-template-file. The template format is
golang templates [
&acirc;&uml;http://golang.org/pkg/text/template/#pkg- <br>
overview&acirc;&copy;].</p>

<p style="margin-top: 1em">-t, --type=&quot;&quot; <br>
Type of the volume source for add operation. Supported
options: emptyDir, hostPath, secret, configmap,
persistentVolumeClaim</p>

<p style="margin-top: 1em">OPTIONS INHERITED FROM PARENT
COMMANDS <br>
--api-version=&quot;&quot; <br>
DEPRECATED: The API version to use when talking to the
server</p>

<p style="margin-top: 1em">--as=&quot;&quot; <br>
Username to impersonate for the operation</p>


<p style="margin-top: 1em">--azure-container-registry-config=&quot;&quot;
<br>
Path to the file container Azure container registry
configuration information.</p>


<p style="margin-top: 1em">--certificate-authority=&quot;&quot;
<br>
Path to a cert. file for the certificate authority</p>


<p style="margin-top: 1em">--client-certificate=&quot;&quot;
<br>
Path to a client certificate file for TLS</p>

<p style="margin-top: 1em">--client-key=&quot;&quot; <br>
Path to a client key file for TLS</p>

<p style="margin-top: 1em">--cluster=&quot;&quot; <br>
The name of the kubeconfig cluster to use</p>

<p style="margin-top: 1em">--config=&quot;&quot; <br>
Path to the config file to use for CLI requests.</p>

<p style="margin-top: 1em">--context=&quot;&quot; <br>
The name of the kubeconfig context to use</p>

<p style="margin-top: 1em">--google-json-key=&quot;&quot;
<br>
The Google Cloud Platform Service Account JSON Key to use
for authentication.</p>


<p style="margin-top: 1em">--insecure-skip-tls-verify=false
<br>
If true, the server&rsquo;s certificate will not be checked
for validity. This will make your HTTPS connections
insecure</p>

<p style="margin-top: 1em">--log-flush-frequency=0 <br>
Maximum number of seconds between log flushes</p>

<p style="margin-top: 1em">--match-server-version=false
<br>
Require server version to match client version</p>

<p style="margin-top: 1em">-n, --namespace=&quot;&quot;
<br>
If present, the namespace scope for this CLI request</p>

<p style="margin-top: 1em">--request-timeout=&quot;0&quot;
<br>
The length of time to wait before giving up on a single
server request. Non-zero values should contain a
corresponding time unit (e.g. 1s, 2m, 3h). A value of zero
means <br>
don&rsquo;t timeout requests.</p>

<p style="margin-top: 1em">--server=&quot;&quot; <br>
The address and port of the Kubernetes API server</p>

<p style="margin-top: 1em">--token=&quot;&quot; <br>
Bearer token for authentication to the API server</p>

<p style="margin-top: 1em">--user=&quot;&quot; <br>
The name of the kubeconfig user to use</p>

<p style="margin-top: 1em">EXAMPLE <br>
# List volumes defined on all deployment configs in the
current project <br>
oc set volume dc --all</p>

<p style="margin-top: 1em"># Add a new empty dir volume to
deployment config (dc) &rsquo;registry&rsquo; mounted under
<br>
# /var/lib/registry <br>
oc set volume dc/registry --add
--mount-path=/var/lib/registry</p>

<p style="margin-top: 1em"># Use an existing persistent
volume claim (pvc) to overwrite an existing volume
&rsquo;v1&rsquo; <br>
oc set volume dc/registry --add --name=v1 -t pvc
--claim-name=pvc1 --overwrite</p>

<p style="margin-top: 1em"># Remove volume &rsquo;v1&rsquo;
from deployment config &rsquo;registry&rsquo; <br>
oc set volume dc/registry --remove --name=v1</p>

<p style="margin-top: 1em"># Create a new persistent volume
claim that overwrites an existing volume &rsquo;v1&rsquo;
<br>
oc set volume dc/registry --add --name=v1 -t pvc
--claim-size=1G --overwrite</p>

<p style="margin-top: 1em"># Change the mount point for
volume &rsquo;v1&rsquo; to /data <br>
oc set volume dc/registry --add --name=v1 -m /data
--overwrite</p>

<p style="margin-top: 1em"># Modify the deployment config
by removing volume mount &quot;v1&quot; from container
&quot;c1&quot; <br>
# (and by removing the volume &quot;v1&quot; if no other
containers have volume mounts that reference it) <br>
oc set volume dc/registry --remove --name=v1
--containers=c1</p>

<p style="margin-top: 1em"># Add new volume based on a more
complex volume source (Git repo, AWS EBS, GCE PD, <br>
# Ceph, Gluster, NFS, ISCSI, ...) <br>
oc set volume dc/registry --add -m /repo
--source=&lt;json-string&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
oc-set(1),</p>

<p style="margin-top: 1em">HISTORY <br>
June 2016, Ported from the Kubernetes man-doc generator</p>

<p style="margin-top: 1em">Openshift Openshift CLI User
Manuals OC SET(1)</p>
<hr>
</body>
</html>
