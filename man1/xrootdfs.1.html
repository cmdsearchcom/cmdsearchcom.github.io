<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:44:26 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>xrootdfs(8) System Manager&rsquo;s Manual
xrootdfs(8)</p>

<p style="margin-top: 1em">NAME <br>
xrootdfs - xrootd FUSE file system daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
xrootdfs [options] parameters</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The xrootdfs daemon provides a file system view of an xrootd
cluster using FUSE. Usage synopsis can be displayed by
typing &quot;xrootdfs -h&quot;. Short documentation can be
found in a <br>
README file in the src/XrdFfs source directory.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Assuming the redirector is rdr:port</p>

<p style="margin-top: 1em">run from command line with
debugging output <br>
xrootdfs -d -o rdr=root://rdr:port//data,uid=daemon /mnt</p>

<p style="margin-top: 1em">use in /etc/fstab <br>
xrootdfs /mnt fuse rdr=root://rdr:port//data,uid=daemon 1
2</p>

<p style="margin-top: 1em">use with autofs <br>
1. add a line to /etc/auto.master <br>
/- /etc/auto.fuse</p>

<p style="margin-top: 1em">2. create /etc/auto.fuse with
the following one line <br>
/mnt -fstype=fuse,uid=2,rdr=root://rdrport//data
:xrootdfs.sh</p>

<p style="margin-top: 1em">3. create script
/usr/bin/xrootdfs.sh (make sure +x bit is set) <br>
#!/bin/sh <br>
exec /usr/bin/xrootdfs $@ &gt;/dev/null 2&gt;&amp;1</p>

<p style="margin-top: 1em">NOTES <br>
Documentation for all components associated with xrootdfs
can be found at http://xrootd.org/docs.html</p>

<p style="margin-top: 1em">xrootdfs allows users and
administators to query and change the internal parameters on
the fly via the filesystem extened attributes</p>

<p style="margin-top: 1em">getfattr -n attribute_name
/mount_point <br>
setfattr -n attribute_name [ -v value ] /mount_point</p>

<p style="margin-top: 1em">attribute_name: <br>
xroot.url: query the actual ROOT url of the file (this is an
old one) <br>
xrootdfs.fs.nworkers: query or change the number of threads
working in parallel on operations such as stat(),
unlink()/rmdir(), readdir(), statvfs(), etc. <br>
xrootdfs.fs.dataserverlist: query or refresh the list of all
data servers known to this xrootdfs instance (or &quot;kill
-USR1 pid&quot; to refresh)</p>

<p style="margin-top: 1em">SECURITY <br>
By default, XrootdFS does not send individual user identity
to the Xrootd storage servers. So Xrootd storage thinks that
all operations from an XrootdFS instance come from the <br>
user that runs the XrootdFS instance. When the Xrootd
&quot;sss&quot; security module (Simple Shared Security) is
enabled at both XrootdFS and Xrootd storage system, XrootdFS
will send <br>
individual user identity infomation to the Xrootd storage
servers. This info can be used along with the Xrootd ACL to
control file/directory access.</p>

<p style="margin-top: 1em">To use &quot;sss&quot; security
module, both Xrootd data servers and XrootdFS should be
configured to use &quot;sss&quot; in a particular way, e.g.
both sides should use a key file that contains the <br>
same key generated by the xrdsssadmin program in the
following way:</p>

<p style="margin-top: 1em">xrdsssadmin -k my_key_name -u
anybody -g usrgroup add keyfile</p>

<p style="margin-top: 1em">(change only
&quot;my_key_name&quot; and &quot;keyfile&quot;). Please
refer to environment variable &quot;XrdSecsssKT&quot; in
Xrootd &quot;Authentication &amp; Access Control
Configuration Reference&quot; for more infor&acirc; <br>
mation on the location of the keyfile and its unix
permission bits. That same document also describes the
Xrootd ACL DB file.</p>

<p style="margin-top: 1em">To enable &quot;sss&quot; with
XrootdFS, use the sss=/keyfile option with XrootdFS.</p>

<p style="margin-top: 1em">The following example shows how
to use both unix and sss security modules with the Xrootd
data servers.</p>

<p style="margin-top: 1em">xrootd.seclib
/usr/lib64/libXrdSec.so <br>
sec.protocol /usr/lib64 sss -s /keyfile <br>
sec.protocol /usr/lib64 unix <br>
acc.authdb /your_xrootd_ACL_auth_db_file <br>
acc.authrefresh 300 <br>
ofs.authorize</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
Errors yield an error message and a non-zero exit status.
The program never exits upon success. Use the umount command
to terminate the program.</p>

<p style="margin-top: 1em">Additional logging information
can be found in syslog (/var/log/messages)</p>

<p style="margin-top: 1em">LICENSE <br>
License terms can be displayed by typing &quot;xrootd
-H&quot;.</p>

<p style="margin-top: 1em">SUPPORT LEVEL <br>
The xrootdfs daemon is supported by the xrootd
collaboration. Contact information can be found at <br>
http://xrootd.org/contact.html</p>

<p style="margin-top: 1em">v4.6.1 xrootdfs(8)</p>
<hr>
</body>
</html>
