<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:40:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>tpmtool(1) User Commands tpmtool(1)</p>

<p style="margin-top: 1em">NAME <br>
tpmtool - GnuTLS TPM tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
tpmtool [-flags] [-flag [value]] [--option-name[[=|
]value]]</p>

<p style="margin-top: 1em">All arguments must be
options.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Program that allows handling cryptographic data from the TPM
chip.</p>

<p style="margin-top: 1em">OPTIONS <br>
-d number, --debug=number <br>
Enable debugging. This option takes an integer number as its
argument. The value of number is constrained to being: <br>
in the range 0 through 9999</p>

<p style="margin-top: 1em">Specifies the debug level.</p>

<p style="margin-top: 1em">--infile=file <br>
Input file.</p>

<p style="margin-top: 1em">--outfile=string <br>
Output file.</p>

<p style="margin-top: 1em">--generate-rsa <br>
Generate an RSA private-public key pair.</p>

<p style="margin-top: 1em">Generates an RSA private-public
key pair in the TPM chip. The key may be stored in
filesystem and protected by a PIN, or stored (registered) in
the TPM chip flash.</p>

<p style="margin-top: 1em">--register <br>
Any generated key will be registered in the TPM. This option
must appear in combination with the following options:
generate-rsa.</p>

<p style="margin-top: 1em">--signing <br>
Any generated key will be a signing key. This option must
appear in combination with the following options:
generate-rsa. This option must not appear in combination
with <br>
any of the following options: legacy.</p>

<p style="margin-top: 1em">--legacy <br>
Any generated key will be a legacy key. This option must
appear in combination with the following options:
generate-rsa. This option must not appear in combination
with <br>
any of the following options: signing.</p>

<p style="margin-top: 1em">--user Any registered key will
be a user key. This option must appear in combination with
the following options: register. This option must not appear
in combination with any <br>
of the following options: system.</p>

<p style="margin-top: 1em">The generated key will be stored
in a user specific persistent storage.</p>

<p style="margin-top: 1em">--system <br>
Any registred key will be a system key. This option must
appear in combination with the following options: register.
This option must not appear in combination with any <br>
of the following options: user.</p>

<p style="margin-top: 1em">The generated key will be stored
in system persistent storage.</p>

<p style="margin-top: 1em">--pubkey=url <br>
Prints the public key of the provided key.</p>

<p style="margin-top: 1em">--list Lists all stored keys in
the TPM.</p>

<p style="margin-top: 1em">--delete=url <br>
Delete the key identified by the given URL (UUID)..</p>

<p style="margin-top: 1em">--sec-param=security parameter
<br>
Specify the security level [low, legacy, medium, high,
ultra]..</p>

<p style="margin-top: 1em">This is alternative to the bits
option. Note however that the values allowed by the TPM chip
are quantized and given values may be rounded up.</p>

<p style="margin-top: 1em">--bits=number <br>
Specify the number of bits for key generate. This option
takes an integer number as its argument.</p>

<p style="margin-top: 1em">--inder, - Fl -no-inder <br>
Use the DER format for keys.. The no-inder form will disable
the option.</p>

<p style="margin-top: 1em">The input files will be assumed
to be in the portable DER format of TPM. The default format
is a custom format used by various TPM tools</p>

<p style="margin-top: 1em">--outder, - Fl -no-outder <br>
Use DER format for output keys. The no-outder form will
disable the option.</p>

<p style="margin-top: 1em">The output will be in the TPM
portable DER format.</p>

<p style="margin-top: 1em">-h, --help <br>
Display usage information and exit.</p>

<p style="margin-top: 1em">-!, --more-help <br>
Pass the extended usage information through a pager.</p>

<p style="margin-top: 1em">-v [{v|c|n --version [{v|c|n}]}]
<br>
Output version of program and exit. The default mode is
&lsquo;v&rsquo;, a simple version. The &lsquo;c&rsquo; mode
will print copyright information and &lsquo;n&rsquo; will
print the full copyright <br>
notice.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To generate a key that is to be stored in filesystem use:
<br>
$ tpmtool --generate-rsa --bits 2048 --outfile
tpmkey.pem</p>

<p style="margin-top: 1em">To generate a key that is to be
stored in TPM&rsquo;s flash use: <br>
$ tpmtool --generate-rsa --bits 2048 --register --user</p>

<p style="margin-top: 1em">To get the public key of a TPM
key use: <br>
$ tpmtool --pubkey
tpmkey:uuid=58ad734b-bde6-45c7-89d8-756a55ad1891;storage=user
--outfile pubkey.pem</p>

<p style="margin-top: 1em">or if the key is stored in the
filesystem: <br>
$ tpmtool --pubkey tpmkey:file=tmpkey.pem --outfile
pubkey.pem</p>

<p style="margin-top: 1em">To list all keys stored in TPM
use: <br>
$ tpmtool --list</p>

<p style="margin-top: 1em">EXIT STATUS <br>
One of the following exit values will be returned:</p>

<p style="margin-top: 1em">0 (EXIT_SUCCESS) <br>
Successful program execution.</p>

<p style="margin-top: 1em">1 (EXIT_FAILURE) <br>
The operation failed or the command syntax was not
valid.</p>

<p style="margin-top: 1em">70 (EX_SOFTWARE) <br>
libopts had an internal operational error. Please report it
to autogen-users@lists.sourceforge.net. Thank you.</p>

<p style="margin-top: 1em">SEE ALSO <br>
p11tool (1), certtool (1)</p>

<p style="margin-top: 1em">AUTHORS <br>
Nikos Mavrogiannopoulos, Simon Josefsson and others; see
/usr/share/doc/gnutls/AUTHORS for a complete list.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2000-2016 Free Software Foundation, and others
all rights reserved. This program is released under the
terms of the GNU General Public License, version 3 or
later.</p>

<p style="margin-top: 1em">BUGS <br>
Please send bug reports to: bugs@gnutls.org</p>

<p style="margin-top: 1em">NOTES <br>
This manual page was AutoGen-erated from the tpmtool option
definitions.</p>

<p style="margin-top: 1em">3.3.24 06 Jul 2016
tpmtool(1)</p>
<hr>
</body>
</html>
