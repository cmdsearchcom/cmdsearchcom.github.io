<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:30:22 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FAQ(1) User Contributed Perl Documentation FAQ(1)</p>

<p style="margin-top: 1em">NAME <br>
PDL::FAQ - Frequently asked questions about PDL</p>

<p style="margin-top: 1em">VERSION <br>
Current FAQ version: 1.008</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This is version 1.008 of the PDL FAQ, a collection of
frequently asked questions about PDL - the Perl Data
Language.</p>

<p style="margin-top: 1em">ABOUT THIS DOCUMENT <br>
Q: 1.1 Where to find this document <br>
You can find the latest version of this document at
&lt;http://pdl.perl.org/?docs=FAQ&amp;title=Frequently%20Asked%20Questions&gt;
.</p>

<p style="margin-top: 1em">Q: 1.2 How to contribute to this
document <br>
This is a considerably reworked version of the PDL FAQ. As
such many errors might have crept in and many updates might
not have made it in. You are explicitly encouraged to let
<br>
us know about questions which you think should be answered
in this document but currently aren&rsquo;t.</p>

<p style="margin-top: 1em">Similarly, if you think parts of
this document are unclear, please tell the FAQ maintainer
about it. Where a specific answer is taken in full from
someones posting the authorship <br>
should be indicated, let the FAQ maintainer know if it
isn&rsquo;t. For more general information explicit
acknowledgment is not made in the text, but rather there is
an incomplete list <br>
of contributors at the end of this document. Please contact
the FAQ maintainer if you feel hard done by.</p>

<p style="margin-top: 1em">Send your comments, additions,
suggestions or corrections to the PDL mailing list at
pdl-general@lists.sourceforge.net. See Q: 3.2 below for
instructions on how to join the <br>
mailing lists.</p>

<p style="margin-top: 1em">GENERAL QUESTIONS <br>
Q: 2.1 What is PDL ? <br>
PDL stands for Perl Data Language . To say it with the words
of Karl Glazebrook, initiator of the PDL project:</p>

<p style="margin-top: 1em">The PDL concept is to give
standard perl5 the ability <br>
to COMPACTLY store and SPEEDILY manipulate the large <br>
N-dimensional data sets which are the bread and butter <br>
of scientific computing. e.g. $a=$b+$c can add two <br>
2048x2048 images in only a fraction of a second.</p>

<p style="margin-top: 1em">It provides tons of useful
functionality for scientific and numeric analysis.</p>

<p style="margin-top: 1em">For readers familiar with other
scientific data evaluation packages it may be helpful to add
that PDL is in many respects similar to IDL, MATLAB and
similar packages. However, it <br>
tries to improve on a number of issues which were perceived
(by the authors of PDL) as shortcomings of those existing
packages.</p>

<p style="margin-top: 1em">Q: 2.2 Who supports PDL? Who
develops it? <br>
PDL is supported by its users. General informal support for
PDL is provided through the PDL mailing list
(pdl-general@lists.sourceforge.net , see below).</p>

<p style="margin-top: 1em">As a Perl extension (see Q: 2.5
below) it is devoted to the idea of free and open
development put forth by the Perl community. PDL was and is
being actively developed by a <br>
loosely knit group of people around the world who coordinate
their activities through the PDL development mailing list
(pdl-devel@lists.sourceforge.net , see Q: 3.2 below). If
<br>
you would like to join in the ongoing efforts to improve PDL
please join this list.</p>

<p style="margin-top: 1em">Q: 2.3 Why yet another Data
Language ? <br>
There are actually several reasons and everyone should
decide for himself which are the most important ones:</p>

<p style="margin-top: 1em">&Acirc;&middot; PDL is
&quot;free software&quot;. The authors of PDL think that
this concept has several advantages: everyone has access to
the sources -&gt; better debugging, easily adaptable to your
<br>
own needs, extensible for your purposes, etc... In
comparison with commercial packages such as MATLAB and IDL
this is of considerable importance for workers who want to
do <br>
some work at home and cannot afford the considerable cost to
buy commercial packages for personal use.</p>

<p style="margin-top: 1em">&Acirc;&middot; PDL is based on
a powerful and well designed scripting language: Perl. In
contrast to other scientific/numeric data analysis languages
it has been designed using the features <br>
of a proven language instead of having grown into existence
from scratch. Defining the control structures while features
were added during development leads to languages that <br>
often appear clumsy and badly planned for most existing
packages with similar scope as PDL.</p>

<p style="margin-top: 1em">&Acirc;&middot; Using Perl as
the basis a PDL programmer has all the powerful features of
Perl at his hand, right from the start. This includes
regular expressions, associative arrays <br>
(hashes), well designed interfaces to the operating system,
network, etc. Experience has shown that even in mainly
numerically oriented programming it is often extremely <br>
handy if you have easy access to powerful semi-numerical or
completely non-numerical functionality as well. For example,
you might want to offer the results of a complicated <br>
computation as a server process to other processes on the
network, perhaps directly accepting input from other
processes on the network. Using Perl and existing Perl <br>
extension packages things like this are no problem at all
(and it all will fit into your &quot;PDL script&quot;).</p>

<p style="margin-top: 1em">&Acirc;&middot; Extremely easy
extensibility and interoperability as PDL is a Perl
extension; development support for Perl extensions is an
integral part of Perl and there are already <br>
numerous extensions to standard Perl freely available on the
network.</p>

<p style="margin-top: 1em">&Acirc;&middot; Integral
language features of Perl (regular expressions, hashes,
object modules) immensely facilitated development and
implementation of key concepts of PDL. One of the most <br>
striking examples for this point is probably PDL::PP (see Q:
6.16 below), a code generator/parser/pre-processor that
generates PDL functions from concise descriptions.</p>

<p style="margin-top: 1em">&Acirc;&middot; None of the
existing data languages follow the Perl language rules,
which the authors firmly believe in:</p>

<p style="margin-top: 1em">&Acirc;&middot; TIMTOWTDI: There
is more than one way to do it. Minimalist languages are
interesting for computer scientists, but for users, a little
bit of redundancy makes things <br>
wildly easier to cope with and allows individual programming
styles - just as people speak in different ways. For many
people this will undoubtedly be a reason to avoid <br>
PDL ;)</p>

<p style="margin-top: 1em">&Acirc;&middot; Simple things
are simple, complicated things possible: Things that are
often done should be easy to do in the language, whereas
seldom done things shouldn&rsquo;t be too <br>
cumbersome.</p>

<p style="margin-top: 1em">All existing languages violate
at least one of these rules.</p>

<p style="margin-top: 1em">&Acirc;&middot; As a project for
the future PDL should be able to use super computer
features, e.g. vector capabilities/parallel processing,
GPGPU acceleration. This will probably be <br>
achieved by having PDL::PP (see Q: 6.16 below) generate
appropriate code on such architectures to exploit these
features.</p>

<p style="margin-top: 1em">&Acirc;&middot; [ fill in your
personal 111 favourite reasons here...]</p>

<p style="margin-top: 1em">Q: 2.4 What is PDL good for ?
<br>
Just in case you do not yet know what the main features of
PDL are and what one could do with them, here is a
(necessarily selective) list of key features:</p>

<p style="margin-top: 1em">PDL is well suited for matrix
computations, general handling of multidimensional data,
image processing, general scientific computation, numerical
applications. It supports I/O <br>
for many popular image and data formats, 1D (line plots), 2D
(images) and 3D (volume visualization, surface plots via
OpenGL - for instance implemented using Mesa or video card
<br>
OpenGL drivers), graphics display capabilities and
implements many numerical and semi-numerical algorithms.</p>

<p style="margin-top: 1em">Through the powerful
pre-processor it is also easy to interface Perl to your
favorite C routines, more of that further below.</p>

<p style="margin-top: 1em">Q: 2.5 What is the connection
between PDL and Perl ? <br>
PDL is a Perl5 extension package. As such it needs an
existing Perl5 installation (see below) to run. Furthermore,
much of PDL is written in Perl (+ some core functionality
that <br>
is written in C). PDL programs are (syntactically) just Perl
scripts that happen to use some of the functionality
implemented by the package &quot;PDL&quot;.</p>

<p style="margin-top: 1em">Q: 2.6 What do I need to run PDL
on my machine ? <br>
Since PDL is just a Perl5 package you need first of all an
installation of Perl5 on your machine. As of this writing
PDL requires version 5.10.x of perl, or higher. More <br>
information on where and how to get a Perl installation can
be found at the Perl home page &lt;http://www.perl.org&gt;
and at many CPAN sites (if you do not know what CPAN is,
check <br>
the answer to the next question).</p>

<p style="margin-top: 1em">To build PDL you also need a
working C compiler, support for Xsubs, and the package
Extutils::MakeMaker. If you don&rsquo;t have a compiler
there might be a binary distribution <br>
available, see &quot;Binary distributions&quot; below.</p>

<p style="margin-top: 1em">If you can (or cannot) get PDL
working on a new (previously unsupported) platform we would
like to hear about it. Please, report your success/failure
to the PDL mailing list at <br>
pdl-general@lists.sourceforge.net . We will do our best to
assist you in porting PDL to a new system.</p>

<p style="margin-top: 1em">Q: 2.7 Where do I get it? <br>
PDL is available as source distribution in the Comprehensive
Perl Archive Network (or CPAN) and from the sourceforge.net
project page at <br>
&lt;https://sourceforge.net/projects/pdl/files/&gt;. The
CPAN archives contains not only the PDL distribution but
also just about everything else that is Perl-related. CPAN
is <br>
mirrored by dozens of sites all over the world. The main
site is &lt;http://www.cpan.org&gt;, and local CPAN sites
(mirrors) can be found there. Within CPAN you find the
latest <br>
released version of PDL in the directory
/modules/by-module/PDL/. PDL&rsquo;s homepage is at
&lt;http://pdl.perl.org&gt; and the latest version can also
be downloaded from there.</p>

<p style="margin-top: 1em">Q: 2.8 What do I have to pay to
get PDL? <br>
We are delighted to be able to give you the nicest possible
answer on a question like this: PDL is *free software* and
all sources are publicly available. But still, there are
<br>
some copyrights to comply with. So please, try to be as nice
as we (the PDL authors) are and try to comply with them.</p>

<p style="margin-top: 1em">Oh, before you think it is
*completely* free: you have to invest some time to pull the
distribution from the net, compile and install it and
(maybe) read the manuals.</p>

<p style="margin-top: 1em">GETTING HELP/MORE INFORMATION
<br>
Q: 3.1 Where can I get information on PDL? <br>
The complete PDL documentation is available with the PDL
distribution. Use the command &quot;perldoc PDL&quot; to
start learning about PDL.</p>

<p style="margin-top: 1em">The easiest way by far, however,
to get familiar with PDL is to use the PDL on-line help
facility from within the PDL shell, &quot;pdl2&quot; Just
type &quot;pdl2&quot; at your system prompt. Once <br>
you are inside the &quot;pdl2&quot; shell type
&quot;help&quot; . Using the &quot;help&quot; and
&quot;apropos&quot; commands inside the shell you should be
able to find the way round the documentation.</p>

<p style="margin-top: 1em">Even better, you can immediately
try your newly acquired knowledge about PDL by issuing
PDL/Perl commands directly at the command line. To
illustrate this process, here is the <br>
record of a typical &quot;pdl2&quot; session of a PDL
beginner (lengthy output is only symbolically reproduced in
braces ( &lt;... ...&gt; ) ):</p>

<p style="margin-top: 1em">unix&gt; pdl2 <br>
pdl&gt; help <br>
&lt; ... help output ... &gt; <br>
pdl&gt; help PDL::QuickStart <br>
&lt; ... perldoc page ... &gt; <br>
pdl&gt; $a = pdl (1,5,7.3,1.0) <br>
pdl&gt; $b = sequence float, 4, 4 <br>
pdl&gt; help inner <br>
&lt; ... help on the &rsquo;inner&rsquo; function ... &gt;
<br>
pdl&gt; $c = inner $a, $b <br>
pdl&gt; p $c <br>
[22.6 79.8 137 194.2]</p>

<p style="margin-top: 1em">For further sources of
information that are accessible through the Internet see
next question.</p>

<p style="margin-top: 1em">Q: 3.2 Are there other PDL
information sources on the Internet? <br>
First of all, for all purely Perl-related questions there
are tons of sources on the net. Good points to start are
&lt;http://www.perl.com&gt; and &lt;http://www.perl.org&gt;
.</p>

<p style="margin-top: 1em">The PDL home site can be
accessed by pointing your web browser to
&lt;http://pdl.perl.org&gt; . It has tons of goodies for
anyone interested in PDL:</p>

<p style="margin-top: 1em">&Acirc;&middot; PDL
distributions</p>

<p style="margin-top: 1em">&Acirc;&middot; On-line
documentation</p>

<p style="margin-top: 1em">&Acirc;&middot; Pointers to an
HTML archive of the PDL mailing lists</p>

<p style="margin-top: 1em">&Acirc;&middot; A list of
platforms on which PDL has been successfully tested.</p>

<p style="margin-top: 1em">&Acirc;&middot; News about
recently added features, ported libraries, etc.</p>

<p style="margin-top: 1em">&Acirc;&middot; Name of the
current pumpkin holders for the different PDL modules (if
you want to know what that means you better had a look at
the web pages).</p>

<p style="margin-top: 1em">If you are interested in PDL in
general you can join the PDL mailing list
pdl-general@lists.sourceforge.net. This is a forum to
discuss programming issues in PDL, report bugs, <br>
seek assistance with PDL related problems, etc. To
subscribe, fill out the form at
&lt;http://lists.sourceforge.net/lists/listinfo/pdl-general&gt;
.</p>

<p style="margin-top: 1em">A searchable archive and a
hypertext version of the traffic on this list (1997-2004)
can be found at
&lt;http://www.xray.mpe.mpg.de/mailing-lists/perldl/&gt; .
More recent messages <br>
(since June 2005) can be found at TBD.</p>

<p style="margin-top: 1em">If you are interested in all the
technical details of the ongoing PDL development you can
join the PDL developers mailing list
pdl-devel@lists.sourceforge.net . To subscribe, <br>
fill out the form at
&lt;http://lists.sourceforge.net/lists/listinfo/pdl-devel&gt;
.</p>

<p style="margin-top: 1em">A searchable archive and a
hypertext version of the traffic on this list (1997-2004)
can be found at
&lt;http://www.xray.mpe.mpg.de/mailing-lists/pdl-porters/&gt;
. More recent <br>
messages (since June 2005) can be found at TBD</p>

<p style="margin-top: 1em">Cross-posting between these
lists should be avoided unless there is a very good reason
for doing that.</p>

<p style="margin-top: 1em">Q: 3.3 What is the current
version of PDL ? <br>
As of this writing (FAQ version 1.008 of 21 May 2017) the
latest stable version is 2.018. The latest stable version
should always be available from a CPAN mirror site near you
<br>
(see Question 2.7 for info on where to get PDL).</p>

<p style="margin-top: 1em">The most current (possibly
unstable) version of PDL can be obtained from the Git
repository, see Question 4.10 and periodic CPAN developers
releases of the Git code will be made <br>
for testing purposes and more general availability.</p>

<p style="margin-top: 1em">Q: 3.4 How can PDL-2.2 be older
than PDL-2.007? <br>
Over its development, PDL has used both a single floating
point version number (from the versions 1.x through 2.005)
at which point it switched to a dotted triple version for
<br>
2.1.1 onward---EXCEPT for version 2.2 which came out which
should have been 2.2.0. To simplify and unify things, PDL
has reverted to a single float version representation with
<br>
PDL-2.006. This can cause dependency problems for modules
that set a minimum PDL version of 2.2. The work around it,
note that all extant PDL releases have version numbers <br>
greater than 2.2.1 so that using 0 as the minimum version
will work.</p>

<p style="margin-top: 1em">Q: 3.5 I want to contribute to
the further development of PDL. How can I help? <br>
Two ways that you could help almost immediately are (1)
participate in CPAN Testers for PDL and related modules, and
(2) proofreading and clarifying the PDL documentation so
that <br>
it is most useable for PDL users, especially new users.</p>

<p style="margin-top: 1em">To participate in CPAN Testers
and contribute test reports, the page
&lt;http://wiki.cpantesters.org/wiki/QuickStart&gt; has
instructions for starting for either &quot;CPAN&quot; or
&quot;CPANPLUS&quot; <br>
users.</p>

<p style="margin-top: 1em">If you have a certain project in
mind you should check if somebody else is already working on
it or if you could benefit from existing modules. Do so by
posting your planned <br>
project to the PDL developers mailing list at
pdl-devel@lists.sourceforge.net . See the subscription
instructions in Question 3.2. We are always looking for
people to write code <br>
and/or documentation ;).</p>

<p style="margin-top: 1em">Q: 3.6 I think I have found a
bug in the current version of PDL. What shall I do? <br>
First, make sure that the bug/problem you came across has
not already been dealt with somewhere else in this FAQ.
Secondly, you can check the searchable archive of the PDL
<br>
mailing lists to find whether this bug has already been
discussed. If you still haven&rsquo;t found any explanations
you can post a bug report to
pdl-general@lists.sourceforge.net , <br>
or through the Bugs link on &lt;http://pdl.perl.org&gt; .
See the BUGS file in the PDL distribution for what
information to include. If you are unsure, discussions via
the perldl <br>
mailing list can be most helpful.</p>

<p style="margin-top: 1em">INSTALLATION <br>
Q: 4.1 I have problems installing PDL. What shall I do? <br>
First make sure you have read the file INSTALL in the
distribution. This contains a list of common problems which
are unnecessary to repeat here.</p>

<p style="margin-top: 1em">Next, check the file perldl.conf
to see if by editing the configuration options in that file
you will be able to successfully build PDL. Some of the
modules need additional <br>
software installed, please refer to the file DEPENDENCIES
for further details. Make sure to edit the location of these
packages in perldl.conf if you have them in non-standard
<br>
locations.</p>

<p style="margin-top: 1em">N.B. Unix shell specific: If you
would like to save an edited perldl.conf for future builds
just copy it as ~/.perldl.conf into your home directory
where it will be picked up <br>
automatically during the PDL build process.</p>

<p style="margin-top: 1em">Also, check for another,
pre-existing version of PDL on the build system. Multiple
PDL installs in the same PATH or @INC can cause puzzling
test or build failures.</p>

<p style="margin-top: 1em">If you still can&rsquo;t make it
work properly please submit a bug report including detailed
information on the problems you encountered to the perldl
mailing list ( <br>
pdl-general@lists.sourceforge.net , see also above).
Response is often rapid.</p>

<p style="margin-top: 1em">Q: 4.2 Are there configuration
files for PDL I have to edit? <br>
Most users should not have to edit any configuration files
manually. However, in some cases you might have to supply
some information about awkwardly placed include <br>
files/libraries or you might want to explicitly disable
building some of the optional PDL modules. Check the files
INSTALL and perldl.conf for details.</p>

<p style="margin-top: 1em">If you had to manually edit
perldl.conf and are happy with the results you can keep the
file handy for future reference. Place it in ~/.perldl.conf
where it will be picked up <br>
automatically or use &quot;perl Makefile.PL
PDLCONF=your_file_name&quot; next time you build PDL.</p>

<p style="margin-top: 1em">Q: 4.3 Do I need other software
for successful operation? <br>
For the basic PDL functionality you don&rsquo;t need any
additional software. However, some of the optional PDL
modules included in the distribution (notably most graphics
and some <br>
I/O modules) require certain other libraries/programs to be
installed. Check the file DEPENDENCIES in the distribution
for details and directions on how to get these.</p>

<p style="margin-top: 1em">Q: 4.4 How can I install PDL in
a non-standard location? <br>
To install PDL in a non-standard location, use the
INSTALL_BASE option in the &quot;perl Makefile.PL&quot;
configure step. For example, &quot;perl Makefile.PL
INSTALL_BASE=/mydir/perl5&quot; will <br>
configure PDL to install into the tree rooted at
&quot;/mydir/perl5&quot;. For more details see &quot;How do
I keep my own module/library directory?&quot; in perlfaq8
and subsequent sections. <br>
Another alternative is to use local::lib to do the heavy
listing for the needed configuration.</p>

<p style="margin-top: 1em">Q: 4.5 How can I force a
completely clean installation? <br>
To guarantee a completely clean installation of PDL, you
will need to first delete the current installation files and
folders. These will be all directories named &quot;PDL&quot;
in the <br>
Perl @INC path, files named &quot;*Pdlpp*&quot; in any
&quot;Inline&quot; directories, and the programs &quot;pdl,
pdldoc, pdl2, perldl, and pptemplate&quot;. Then just build
and install as usual. This is <br>
much easier to keep track of if you always install
&quot;PDL&quot; into a non-standard location. See Q: 4.4
above.</p>

<p style="margin-top: 1em">BINARY DISTRIBUTIONS <br>
Q: 4.5 What binary distributions are available? <br>
Information about binary distributions of PDL can be found
on &lt;http://pdl.perl.org&gt; . At present there are binary
distributions of PDL for Linux (RedHat and Debian), FreeBSD,
<br>
Mac OS X and Windows, though they might not be the most
recent version.</p>

<p style="margin-top: 1em">If someone is interested in
providing binary distributions for other architectures, that
would be very welcome. Let us know on the
pdl-devel@lists.sourceforge.net mailing list. <br>
Also check your Linux distribution&rsquo;s package manager
as many now include PDL. PPMs for win32 versions (both 32bit
and 64bit) are also available.</p>

<p style="margin-top: 1em">Q: 4.6 Does PDL run on Linux?
(And what about packages?) <br>
Yes, PDL does run on Linux and indeed much of the
development has been done under Linux. On
&lt;http://pdl.perl.org&gt; you can find links to packages
for some of the major <br>
distributions. Also check your distribution&rsquo;s package
manager (yum, apt, urpmi, ...) as PDL is now found by many
of these.</p>

<p style="margin-top: 1em">Q: 4.7 Does PDL run under
Windows? <br>
PDL builds fine on Win32 using MinGW or Microsoft compilers.
See the win32/INSTALL file in the PDL source distribution
for details. Other compilers have not been tested--input
<br>
is welcome. There is also a distribution of PDL through
ActiveState&rsquo;s ppm, though it might not always be the
latest version. PDL-2.018 builds out of the box on
Strawberry Perl <br>
and ActiveState Perl and there are distributions of
Strawberry Perl with bundled PDL (see
&lt;http://strawberryperl.com/releases.html&gt;).</p>

<p style="margin-top: 1em">CVS, GIT, AND ON-GOING
DEVELOPMENT <br>
Q: 4.8 Can I get PDL via CVS? <br>
No. PDL development was conducted with a CVS repository from
December 1999 to April 2009. In April 2009 the project
switched to the Git version control system (see <br>
&lt;http://git-scm.com&gt;).</p>

<p style="margin-top: 1em">Q: 4.9 How do I get PDL via Git?
<br>
Assume you have Git installed on your system and want to
download the project source code into the directory
&quot;PDL&quot;. To get read-only access to the repository,
you type at the <br>
command line</p>

<p style="margin-top: 1em">git clone
git://git.code.sf.net/p/pdl/code pdl-code</p>

<p style="margin-top: 1em">For official PDL developers, to
get read/write access to the repository type at the command
line</p>

<p style="margin-top: 1em">git clone
ssh://USERNAME@git.code.sf.net/p/pdl/code pdl-code</p>

<p style="margin-top: 1em">Q: 4.10 I had a problem with the
Git version, how do I check if someone has submitted a
patch? <br>
The Sourceforge system contains a patch-manager which
contains patches that have not yet been applied to the
distribution. This can be accessed via the Tickets menu at
PDL&rsquo;s <br>
Sourceforge project page
&lt;http://sourceforge.net/projects/pdl&gt; .</p>

<p style="margin-top: 1em">In addition, if you are not
subscribing to the mailing list, check the archive of the
&quot;pdl-porters&quot; and &quot;perldl&quot; mailing
lists. See Question 3.2 for details.</p>

<p style="margin-top: 1em">Q: 4.11 I have gotten developer
access to Git, how do I upload my changes? <br>
The first thing you should do is to read the Git
documentation and learn the basics about Git. There are many
sources available online. But here are the basics:</p>

<p style="margin-top: 1em">Before you upload your changes,
commit them to YOUR repository</p>

<p style="margin-top: 1em">git add &lt;file1&gt;
&lt;file2&gt; ... <br>
git commit</p>

<p style="margin-top: 1em">or combine these two with</p>

<p style="margin-top: 1em">git commit -a</p>

<p style="margin-top: 1em">Then pull in any changes others
have made</p>

<p style="margin-top: 1em">git pull origin</p>

<p style="margin-top: 1em">Test the PDL before you push it
to the main repository. If the code is broken for you, then
it is most likely broken for others and they won&rsquo;t be
happy to have their recent PDL <br>
fail to build! NOTE: git makes it very easy to maintain a
separate branch of development. [ TBD, provide information
on how ].</p>

<p style="margin-top: 1em">Then update the shared
repository (at SF.net) with your changes</p>

<p style="margin-top: 1em">git push origin master</p>

<p style="margin-top: 1em">PDL JARGON <br>
Q: 5.1 What is threading (is PDL a newsreader) ? <br>
Unfortunately, in the context of PDL the term threading can
have two different (but related) meanings:</p>

<p style="margin-top: 1em">&Acirc;&middot; When mentioned
in the INSTALL directions and possibly during the build
process we have the usual computer science meaning of
multi-threading in mind (useful mainly on <br>
multiprocessor machines or clusters)</p>

<p style="margin-top: 1em">&Acirc;&middot; PDL threading of
operations on piddles (as mentioned in the indexing docs) is
the iteration of a basic operation over appropriate
sub-slices of piddles, e.g. the inner <br>
product &quot;inner $a, $b&quot; of a (3) pdl $a and a
(3,5,4) pdl $b results in a (5,4) piddle where each value is
the result of an inner product of the (3) pdl with a (3)
sub-slice <br>
of the (3,5,4) piddle. For details check PDL::Indexing</p>

<p style="margin-top: 1em">PDL threading leads naturally to
potentially parallel code which can make use of multi
threading on multiprocessor machines/networks; there you
have the connection between the <br>
two types of use of the term.</p>

<p style="margin-top: 1em">Q: 5.2 What is a piddle? <br>
Well, PDL scalar variables (which are instances of a
particular class of Perl objects, i.e. blessed thingies (see
&quot;perldoc perlobj&quot; )) are in common PDL parlance
often called <br>
piddles (for example, check the mailing list archives). Err,
clear? If not, simply use the term piddle when you refer to
a PDL variable (an instance of a PDL object as you <br>
might remember) regardless of what actual data the PDL
variable contains.</p>

<p style="margin-top: 1em">TECHNICAL QUESTIONS <br>
Q: 6.1 What is perldl? What is pdl2? <br>
Sometimes &quot;perldl&quot; (&quot;pdl2&quot;) is used as a
synonym for PDL. Strictly speaking, however, the name
&quot;perldl&quot; (&quot;pdl2&quot;) is reserved for the
little shell that comes with the PDL <br>
distribution and is supposed to be used for the interactive
prototyping of PDL scripts. For details check perldl or
pdl2.</p>

<p style="margin-top: 1em">Q: 6.2 How do I get on-line help
for PDL? <br>
Just type &quot;help&quot; (shortcut = &quot;?&quot;) at the
&quot;pdl2&quot; shell prompt and proceed from there.
Another useful command is the &quot;apropos&quot; (shortcut
= &quot;??&quot;) command. Also try the &quot;demo&quot;
<br>
command in the &quot;perldl&quot; or &quot;pdl2&quot; shell
if you are new to PDL.</p>

<p style="margin-top: 1em">MANIPULATION OF PIDDLES <br>
Q: 6.3 I want to access the third element of a pdl but $a[2]
doesn&rsquo;t work ?! <br>
See answer to the next question why the normal Perl array
syntax doesn&rsquo;t work for piddles.</p>

<p style="margin-top: 1em">Q: 6.4 The docs say piddles are
some kind of array. But why doesn&rsquo;t the Perl array
syntax work with piddles then ? <br>
OK, you are right in a way. The docs say that piddles can be
thought of arrays. More specifically, it says (
PDL::QuickStart ):</p>

<p style="margin-top: 1em">I find when using the Perl Data
Language it is most useful <br>
to think of standard Perl @x variables as &quot;lists&quot;
of generic <br>
&quot;things&quot; and PDL variables like $x as
&quot;arrays&quot; which can be <br>
contained in lists or hashes.</p>

<p style="margin-top: 1em">So, while piddles can be thought
of as some kind of multi-dimensional array they are not
arrays in the Perl sense. Rather, from the point of view of
Perl they are some special <br>
class (which is currently implemented as an opaque pointer
to some stuff in memory) and therefore need special
functions (or &rsquo;methods&rsquo; if you are using the OO
version) to access <br>
individual elements or a range of elements. The
functions/methods to check are &quot;at&quot; /
&quot;set&quot; (see the section &rsquo;Sections&rsquo; in
PDL::QuickStart ) or the powerful &quot;slice&quot; function
and <br>
friends (see PDL::Slices and PDL::Indexing and especially
PDL::NiceSlice ).</p>

<p style="margin-top: 1em">Finally, to confuse you
completely, you can have Perl arrays of piddles, e.g.
$spec[3] can refer to a pdl representing ,e.g, a spectrum,
where $spec[3] is the fourth element of <br>
the Perl list (or array ;) @spec . This may be confusing but
is very useful !</p>

<p style="margin-top: 1em">Q: 6.5 How do I concatenate
piddles? <br>
Most people will try to form new piddles from old piddles
using some variation over the theme: &quot;$a = pdl([$b, 0,
2])&quot; , but this does not work. The way to concatenate
piddles is <br>
to use the function &quot;cat&quot; (see also
&quot;append&quot; and &quot;glue&quot;). Similarly you can
split piddles using the command &quot;dog&quot; .</p>

<p style="margin-top: 1em">Q: 6.6 Sometimes I am getting
these strange results when using inplace operations? <br>
This question is related to the &quot;inplace&quot;
function. From the documentation (see PDL::QuickStart):</p>

<p style="margin-top: 1em">Most functions, e.g. log(),
return a result which is a <br>
transformation of their argument. This makes for good <br>
programming practice. However many operations can be done
<br>
&quot;in-place&quot; and this may be required when large
arrays are in <br>
use and memory is at a premium. For these circumstances the
<br>
operator inplace() is provided which prevents the extra copy
<br>
and allows the argument to be modified. e.g.:</p>

<p style="margin-top: 1em">$x = log($array); # $array
unaffected <br>
log( inplace($bigarray) ); # $bigarray changed in situ</p>

<p style="margin-top: 1em">And also from the doc !!:</p>

<p style="margin-top: 1em">Obviously when used with some
functions which can not be <br>
applied in situ (e.g. convolve()) unexpected effects may
<br>
occur!</p>

<p style="margin-top: 1em">Q: 6.7 What is this strange
usage of the string concatenation operator &quot;.=&quot; in
PDL scripts? <br>
See next question on assignment in PDL.</p>

<p style="margin-top: 1em">Q: 6.8 Why are there two
different kinds of assignment in PDL ? <br>
This is caused by the fact that currently the assignment
operator &quot;=&quot; allows only restricted overloading.
For some purposes of PDL it turned out to be necessary to
have more <br>
control over the overloading of an assignment operator.
Therefore, PDL peruses the operator &quot;.=&quot; for
certain types of assignments.</p>

<p style="margin-top: 1em">Q: 6.9 How do I set a set of
values in a piddle? <br>
In Perl 5.6.7 and higher this assignment can be made using
lvalue subroutines:</p>

<p style="margin-top: 1em">pdl&gt; $a = sequence(5); p $a
<br>
[0 1 2 3 4] <br>
pdl&gt; $a-&gt;slice(&rsquo;1:2&rsquo;) .= pdl([5,6]) <br>
pdl&gt; p $a <br>
[0 5 6 3 4]</p>

<p style="margin-top: 1em">see PDL::Lvalue for more info.
PDL also supports a more matrix-like slice syntax via the
PDL::NiceSlice module:</p>

<p style="margin-top: 1em">pdl&gt; $a(1:2) .= pdl([5,6])
<br>
pdl&gt; p $a <br>
[0 5 6 3 4]</p>

<p style="margin-top: 1em">With versions of Perl prior to
5.6.7 or when running under the perl debugger this has to be
done using a temporary variable:</p>

<p style="margin-top: 1em">pdl&gt; $a = sequence(5); p $a
<br>
[0 1 2 3 4] <br>
pdl&gt; $tmp = $a-&gt;slice(&rsquo;1:2&rsquo;); p $tmp; <br>
[1 2] <br>
pdl&gt; $tmp .= pdl([5, 6]); # Note .= !! <br>
pdl&gt; p $a <br>
[0 5 6 3 4]</p>

<p style="margin-top: 1em">This can also be made into one
expression, which is often seen in PDL code:</p>

<p style="margin-top: 1em">pdl&gt; ($tmp =
$a-&gt;slice(&rsquo;1:2&rsquo;)) .= pdl([5,6]) <br>
pdl&gt; p $a <br>
[0 5 6 3 4]</p>

<p style="margin-top: 1em">Q: 6.10 Can I use a piddle in a
conditional expression? <br>
Yes you can, but not in the way you probably tried first. It
is not possible to use a piddle directly in a conditional
expression since this is usually poorly defined. Instead
<br>
PDL has two very useful functions: &quot;any&quot; and
&quot;all&quot; . Use these to test if any or all elements
in a piddle fulfills some criterion:</p>

<p style="margin-top: 1em">pdl&gt; $a=pdl ( 1, -2, 3); <br>
pdl&gt; print &rsquo;$a has at least one element &lt;
0&rsquo; if (any $a &lt; 0); <br>
$a has at least one element &lt; 0</p>

<p style="margin-top: 1em">pdl&gt; print &rsquo;$a is not
positive definite&rsquo; unless (all $a &gt; 0); <br>
$a is not positive definite</p>

<p style="margin-top: 1em">Q: 6.11 Logical operators and
piddles - &rsquo;||&rsquo; and &rsquo;&amp;&amp;&rsquo;
don&rsquo;t work! <br>
It is a common problem that you try to make a mask array or
something similar using a construct such as</p>

<p style="margin-top: 1em">$mask = which($piddle &gt; 1
&amp;&amp; $piddle &lt; 2); # incorrect</p>

<p style="margin-top: 1em">This does not work! What you are
looking for is the bitwise logical operators &rsquo;|&rsquo;
and &rsquo;&amp;&rsquo; which work on an element-by-element
basis. So it is really very simple: Do not use <br>
logical operators on multi-element piddles since that really
doesn&rsquo;t make sense, instead write the example as:</p>

<p style="margin-top: 1em">$mask = which($piddle &gt; 1
&amp; $piddle &lt; 2);</p>

<p style="margin-top: 1em">which works correctly.</p>

<p style="margin-top: 1em">ADVANCED TOPICS <br>
Q: 6.12 What is a null pdl ? <br>
&quot;null&quot; is a special token for &rsquo;empty
piddle&rsquo;. A null pdl can be used to flag to a PDL
function that it should create an appropriately sized and
typed piddle. Null piddles can be <br>
used in places where a PDL function expects an output or
temporary argument. Output and temporary arguments are
flagged in the signature of a PDL function with the
&quot;[o]&quot; and <br>
&quot;[t]&quot; qualifiers (see next question if you
don&rsquo;t know what the signature of a PDL function is).
For example, you can invoke the &quot;sumover&quot; function
as follows:</p>

<p style="margin-top: 1em">sumover $a, $b=null;</p>

<p style="margin-top: 1em">which is equivalent to</p>

<p style="margin-top: 1em">$b = sumover $a;</p>

<p style="margin-top: 1em">If this seems still a bit murky
check PDL::Indexing and PDL::PP for details about calling
conventions, the signature and threading (see also
below).</p>

<p style="margin-top: 1em">Q: 6.13 What is the signature of
a PDL function ? <br>
The signature of a function is an important concept in PDL.
Many (but not all) PDL function have a signature which
specifies the arguments and their (minimal) dimensionality.
As <br>
an example, look at the signature of the &quot;maximum&quot;
function:</p>

<p style="margin-top: 1em">&rsquo;a(n); [o] b;&rsquo;</p>

<p style="margin-top: 1em">this says that
&quot;maximum&quot; takes two arguments, the first of which
is (at least) one-dimensional while the second one is
zero-dimensional and an output argument (flagged by the <br>
&quot;[o]&quot; qualifier). If the function is called with
piddles of higher dimension the function will be repeatedly
called with slices of these piddles of appropriate
dimension(this is <br>
called threading in PDL).</p>

<p style="margin-top: 1em">For details and further
explanations consult PDL::Indexing and PDL::PP .</p>

<p style="margin-top: 1em">Q: 6.14 How can I subclass
(inherit from) piddles? <br>
The short answer is: read PDL::Objects (e.g. type &quot;help
PDL::Objects&quot; in the perldl or pdl2 shell).</p>

<p style="margin-top: 1em">The longer answer (extracted
from PDL::Objects ): Since a PDL object is an opaque
reference to a C struct, it is not possible to extend the
PDL class by e.g. extra data via sub- <br>
classing (as you could do with a hash based Perl object). To
circumvent this problem PDL has built-in support to extend
the PDL class via the has-a relation for blessed hashes.
<br>
You can get the HAS-A to behave like IS-A simply in that you
assign the PDL object to the attribute named &quot;PDL&quot;
and redefine the method initialize(). For example:</p>

<p style="margin-top: 1em">package FOO;</p>

<p style="margin-top: 1em">@FOO::ISA = qw(PDL); <br>
sub initialize { <br>
my $class = shift; <br>
my $self = { <br>
creation_time =&gt; time(), # necessary extension :-) <br>
PDL =&gt; PDL-&gt;null, # used to store PDL object <br>
}; <br>
bless $self, $class; <br>
}</p>

<p style="margin-top: 1em">For another example check the
script t/subclass.t in the PDL distribution.</p>

<p style="margin-top: 1em">Q: 6.15 What on earth is this
dataflow stuff ? <br>
Dataflow is an experimental project that you don&rsquo;t
need to concern yourself with (it should not interfere with
your usual programming). However, if you want to know, have
a look <br>
at PDL::Dataflow . There are applications which will benefit
from this feature (and it is already at work behind the
scenes).</p>

<p style="margin-top: 1em">Q: 6.16 What is PDL::PP? <br>
Simple answer: PDL::PP is both a glue between external
libraries and PDL and a concise language for writing PDL
functions.</p>

<p style="margin-top: 1em">Slightly longer answer: PDL::PP
is used to compile very concise definitions into XSUB
routines implemented in C that can easily be called from PDL
and which automatically support <br>
threading, dataflow and other things without you having to
worry about it.</p>

<p style="margin-top: 1em">For further details check
PDL::PP and the section below on Extensions of PDL.</p>

<p style="margin-top: 1em">Q: 6.17 What happens when I have
several references to the same PDL object in different
variables (cloning, etc?) ? <br>
Piddles behave like Perl references in many respects. So
when you say</p>

<p style="margin-top: 1em">$a = pdl [0,1,2,3]; <br>
$b = $a;</p>

<p style="margin-top: 1em">then both $b and $a point to the
same object, e.g. then saying</p>

<p style="margin-top: 1em">$b++;</p>

<p style="margin-top: 1em">will *not* create a copy of the
original piddle but just increment in place, of which you
can convince yourself by saying</p>

<p style="margin-top: 1em">print $a; <br>
[1 2 3 4]</p>

<p style="margin-top: 1em">This should not be mistaken for
dataflow which connects several *different* objects so that
data changes are propagated between the so linked piddles
(though, under certain <br>
circumstances, dataflown piddles can share physically the
same data).</p>

<p style="margin-top: 1em">It is important to keep the
&quot;reference nature&quot; of piddles in mind when passing
piddles into subroutines. If you modify the input piddles
you modify the original argument, not a <br>
copy of it. This is different from some other array
processing languages but makes for very efficient passing of
piddles between subroutines. If you do not want to modify
the <br>
original argument but rather a copy of it just create a copy
explicitly (this example also demonstrates how to properly
check for an explicit request to process inplace, assuming
<br>
your routine can work inplace):</p>

<p style="margin-top: 1em">sub myfunc { <br>
my $pdl = shift; <br>
if ($pdl-&gt;is_inplace) { <br>
$pdl-&gt;set_inplace(0) <br>
} else { <br>
# modify a copy by default <br>
$pdl = $pdl-&gt;copy <br>
} <br>
$pdl-&gt;set(0,0); <br>
return $pdl; <br>
}</p>

<p style="margin-top: 1em">MISCELLANEOUS <br>
Q: 6.18 What I/O formats are supported by PDL ? <br>
The current versions of PDL already support quite a number
of different I/O formats. However, it is not always obvious
which module implements which formats. To help you find <br>
the right module for the format you require, here is a short
list of the current list of I/O formats and a hint in which
module to find the implementation:</p>

<p style="margin-top: 1em">&Acirc;&middot; A home brew fast
raw (binary) I/O format for PDL is implemented by the
FastRaw module</p>

<p style="margin-top: 1em">&Acirc;&middot; The FlexRaw
module implements generic methods for the input and output
of &lsquo;raw&rsquo; data arrays. In particular, it is
designed to read output from FORTRAN 77 UNFORMATTED files
<br>
and the low-level C &quot;write&quot; function, even if the
files are compressed or gzipped.</p>

<p style="margin-top: 1em">It is possible that the FastRaw
functionality will be included in the FlexRaw module at some
time in the future.</p>

<p style="margin-top: 1em">&Acirc;&middot; FITS I/O is
implemented by the &quot;wfits&quot;/&quot;rfits&quot;
functions in PDL::IO::FITS .</p>

<p style="margin-top: 1em">&Acirc;&middot; ASCII file I/O
in various formats can be achieved by using the
&quot;rcols&quot; and &quot;rgrep&quot; functions, also in
PDL::IO::Misc .</p>

<p style="margin-top: 1em">&Acirc;&middot; PDL::IO::Pic
implements an interface to the NetPBM/PBM+ filters to
read/write several popular image formats; also supported is
output of image sequences as MPEG movies, <br>
animated GIFs and a wide variety of other video formats.</p>

<p style="margin-top: 1em">&Acirc;&middot; On CPAN you can
find the PDL::NetCDF module that works with PDL 2.007.</p>

<p style="margin-top: 1em">For further details consult the
more detailed list in the PDL::IO documentation or the
documentation for the individual modules.</p>

<p style="margin-top: 1em">Q: 6.19 How can I stack a set of
2D arrays (images) into a 3D piddle? <br>
Assuming all arrays are of the same size and in some format
recognized by &quot;rpic&quot; (see PDL::IO::Pic ) you could
say:</p>

<p style="margin-top: 1em">use PDL::IO::Pic; <br>
@names = qw/name1.tif .... nameN.tif/; # some file names
<br>
$dummy = PDL-&gt;rpic($names[0]); <br>
$cube =
PDL-&gt;zeroes($dummy-&gt;type,$dummy-&gt;dims,$#names+1); #
make 3D piddle <br>
for (0..$#names) { <br>
# this is the slice assignment <br>
($tmp = $cube-&gt;slice(&quot;:,:,($_)&quot;)) .=
PDL-&gt;rpic($names[$_]); <br>
}</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">$cube(:,:,($_)) .=
PDL-&gt;rpic($names[$_]);</p>

<p style="margin-top: 1em">for the slice assignment using
the new PDL::NiceSlice syntax and Lvalue assignments.</p>

<p style="margin-top: 1em">The for loop reads the actual
images into a temporary 2D piddle whose values are then
assigned (using the overloaded &quot;.=&quot; operator) to
the appropriate slices of the 3D piddle <br>
$cube .</p>

<p style="margin-top: 1em">Q: 6.20 Where are test files for
the graphics modules? <br>
This answer applies mainly to PDL::Graphics::TriD
(PDL&rsquo;s device independent 3D graphics model) which is
the trickiest one in this respect. You find some test
scripts in <br>
Demos/TriD in the distribution. There are also 3dtest.pl and
line3d.pl in the PDL/Example/TriD directory. After you have
built PDL you can do:</p>

<p style="margin-top: 1em">perl -Mblib
Example/TriD/3dtest.pl</p>

<p style="margin-top: 1em">perl -Mblib
Example/TriD/line3d.pl</p>

<p style="margin-top: 1em">to try the two TriD test
programs. They only exercise one TriD function each but
their simplicity makes it easy to debug if needed with the
Perl debugger, see perldbug.</p>

<p style="margin-top: 1em">The programs in the Demo
directory can be run most easily from the &quot;perldl&quot;
or &quot;pdl2&quot; interactive shell:</p>

<p style="margin-top: 1em">perl -Mblib perldl or perl
-Mblib Perldl2/pdl2</p>

<p style="margin-top: 1em">followed by &quot;demo 3d&quot;
or &quot;demo 3d2&quot; at the prompt. &quot;demo&quot; by
itself will give you a list of the available PDL demos.</p>

<p style="margin-top: 1em">You can run the test scripts in
the Demos/TriD directory manually by changing to that
directory and running</p>

<p style="margin-top: 1em">perl -Mblib &lt;testfile&gt;</p>

<p style="margin-top: 1em">where &quot;testfile&quot; ;
should match the pattern &quot;test[3-9].p&quot; and watch
the results. Some of the tests should bring up a window
where you can control (twiddle) the 3D objects with <br>
the mouse. Try using mouse button 1 for turning the objects
in 3D space, mouse button 3 to zoom in and out, and
&rsquo;q&rsquo; to advance to the next stage of the
test.</p>

<p style="margin-top: 1em">Q: 6.21 What is TriD or
PDL::TriD or PDL::Graphics::TriD? <br>
Questions like this should be a thing of the past with the
PDL on-line help system in place. Just try (after
installation):</p>

<p style="margin-top: 1em">un*x&gt; pdl2 <br>
pdl&gt; apropos trid</p>

<p style="margin-top: 1em">Check the output for promising
hits and then try to look up some of them, e.g.</p>

<p style="margin-top: 1em">pdl&gt; help
PDL::Graphics::TriD</p>

<p style="margin-top: 1em">Note that case matters with
&quot;help&quot; but not with &quot;apropos&quot; .</p>

<p style="margin-top: 1em">Q: 6.22 PGPLOT does not write
out PNG files. <br>
There are a few sources of trouble with PGPLOT and PNG
files. First, when compiling the pgplot libraries, make sure
you uncomment the PNG entries in the drivers.list file. Then
<br>
when running &rsquo;make&rsquo; you probably got an error
like</p>

<p style="margin-top: 1em">C&lt;make: *** No rule to make
target &lsquo;png.h&rsquo;, needed by
&lsquo;pndriv.o&rsquo;. Stop.&gt;</p>

<p style="margin-top: 1em">To fix this, find the line in
the &rsquo;makefile&rsquo; that starts with
&rsquo;pndriv.o:&rsquo; (it&rsquo;s near the bottom).
Change, for example, ./png.h to /usr/include/png.h, if that
is where your header <br>
files are (you do have the libpng and libz devel packages,
don&rsquo;t you?). Do this for all four entries on that
line, then go back and run &quot;make&quot;.</p>

<p style="margin-top: 1em">Second, if you already have the
PGPLOT Perl module and PDL installed, you probably tried to
write out a PNG file and got fatal error message like:</p>

<p style="margin-top: 1em">C&lt;undefined symbol:
png_create_write_struct&gt;</p>

<p style="margin-top: 1em">This is because the PGPLOT Perl
module does not automatically link against the png and z
libraries. So when you are installing the PGPLOT Perl module
(version 2.19) from CPAN, <br>
don&rsquo;t do &quot;install PGPLOT&quot;, but just do
&quot;get PGPLOT&quot;. Then exit from CPAN and manually
install PGPLOT, calling the makefile thusly:</p>

<p style="margin-top: 1em">C&lt;perl Makefile.PL
EXLIB=png,z EXDIR=/usr/lib&gt;</p>

<p style="margin-top: 1em">assuming that there exist files
such as /usr/lib/libpng.so.*, /usr/lib/libz.so.*. Then do
the standard &quot;make;make test;make install;&quot;
sequence. Now you can write png files from <br>
PDL!</p>

<p style="margin-top: 1em">EXTENSIONS OF PDL <br>
Q: 7.1 I am looking for a package to do XXX in PDL. Where
shall I look for it? <br>
The first stop is again &quot;perldl&quot; or
&quot;pdl2&quot; and the on-line help or the PDL
documentation. There is already a lot of functionality in
PDL which you might not be aware of. The <br>
easiest way to look for functionality is to use the
&quot;apropos&quot; command:</p>

<p style="margin-top: 1em">pdl&gt; apropos
&rsquo;integral&rsquo; <br>
ceil Round to integral values in floating-point format <br>
floor Round to integral values in floating-point format <br>
intover Project via integral to N-1 dimensions <br>
rint Round to integral values in floating-point format</p>

<p style="margin-top: 1em">Since the apropos command is no
sophisticated search engine make sure that you search on a
couple of related topics and use short phrases.</p>

<p style="margin-top: 1em">However there is a good chance
that what you need is not part of the PDL distribution. You
are then well advised to check out
&lt;http://pdl.perl.org&gt; where there is a list of <br>
packages using PDL. If that does not solve your problem, ask
on the mailing-list, if nothing else you might get
assistance which will let you interface your package with
PDL <br>
yourself, see also the next question.</p>

<p style="margin-top: 1em">Q: 7.2 Can I access my C/FORTRAN
library routines in PDL? <br>
Yes, you can, in fact it is very simple for many simple
applications. What you want is the PDL pre-processor PP
(PDL::PP ). This will allow you to make a simple interface
to your <br>
C routine.</p>

<p style="margin-top: 1em">The two functions you need to
learn (at least first) are &quot;pp_def&quot; which defines
the calling interface to the function, specifying input and
output parameters, and contains the <br>
code that links to the external library. The other command
is &quot;pp_end&quot; which finishes the PP definitions. For
details see the PDL::PP man-page, but we also have a worked
example <br>
here.</p>

<p style="margin-top: 1em">double eight_sum(int n) <br>
{ <br>
int i; <br>
double sum, x;</p>

<p style="margin-top: 1em">sum = 0.0; x=0.0; <br>
for (i=1; i&lt;=n; i++) { <br>
x++; <br>
sum += x/((4.0*x*x-1.0)*(4.0*x*x-1.0)); <br>
} <br>
return 1.0/sum; <br>
}</p>

<p style="margin-top: 1em">We will here show you an example
of how you interface C code with PDL. This is the first
example and will show you how to approximate the number
8...</p>

<p style="margin-top: 1em">The C code is shown above and is
a simple function returning a double, and expecting an
integer - the number of terms in the sum - as input. This
function could be defined in a <br>
library or, as we do here, as an inline function.</p>

<p style="margin-top: 1em">We will postpone the writing of
the Makefile till later. First we will construct the
&quot;.pd&quot; file. This is the file containing PDL::PP
code. We call this &quot;eight.pd&quot; .</p>

<p style="margin-top: 1em"># <br>
# pp_def defines a PDL function. <br>
# <br>
pp_addhdr ( <br>
&rsquo; <br>
double eight_sum(int n) <br>
{ <br>
int i; <br>
double sum, x;</p>

<p style="margin-top: 1em">sum = 0.0; x=0.0; <br>
for (i=1; i&lt;=n; i++) { <br>
x++; <br>
sum += x/((4.0*x*x-1.0)*(4.0*x*x-1.0)); <br>
} <br>
return 1.0/sum;</p>

<p style="margin-top: 1em">} <br>
&rsquo;);</p>

<p style="margin-top: 1em">pp_def ( <br>
&rsquo;eight&rsquo;, <br>
Pars =&gt; &rsquo;int a(); double [o]b();&rsquo;, <br>
Code =&gt; &rsquo;$b()=eight_sum($a());&rsquo; <br>
);</p>

<p style="margin-top: 1em"># Always make sure that you
finish your PP declarations with <br>
# pp_done</p>

<p style="margin-top: 1em">pp_done();</p>

<p style="margin-top: 1em">A peculiarity with our example
is that we have included the entire code with
&quot;pp_addhdr&quot; instead of linking it in. This is only
for the purposes of example, in a typical <br>
application you will use &quot;pp_addhdr&quot; to include
header files. Note that the argument to
&quot;pp_addhdr&quot; is enclosed in quotes.</p>

<p style="margin-top: 1em">What is most important in this
example is however the &quot;pp_def&quot; command. The first
argument to this is the name of the new function eight ,
then comes a hash which the real meat:</p>

<p style="margin-top: 1em">&Acirc;&middot; This gives the
input parameters (here &quot;a&quot;) and the output
parameters (here &quot;b&quot;). The latter are indicated by
the &quot;[o]&quot; specifier. Both arguments can have a
type <br>
specification as shown here.</p>

<p style="margin-top: 1em">Many variations and further
flexibility in the interface can be specified. See
&quot;perldoc PDL::PP&quot; for details.</p>

<p style="margin-top: 1em">&Acirc;&middot; This switch
contains the code that should be executed. As you can see
this is a rather peculiar mix of C and Perl, but essentially
it is just as you would write it in C, but <br>
the variables that are passed from PDL are treated
differently and have to be referred to with a preceding
&rsquo;$&rsquo;.</p>

<p style="margin-top: 1em">There are also simple macros to
pass pointers to data and to obtain the values of other Perl
quantities, see the manual page for further details.</p>

<p style="margin-top: 1em">Finally note the call to
&quot;pp_done()&quot; at the end of the file. This is
necessary in all PP files.</p>

<p style="margin-top: 1em">OK. So now we have a file with
code that we dearly would like to use in Perl via PDL. To do
this we need to compile the function, and to do that we need
a Makefile.</p>

<p style="margin-top: 1em">use PDL::Core::Dev; <br>
use ExtUtils::MakeMaker; <br>
PDL::Core::Dev-&gt;import();</p>

<p style="margin-top: 1em">$package =
[&quot;eight.pd&quot;,Eight,PDL::Eight]; <br>
%hash = pdlpp_stdargs($package);</p>

<p style="margin-top: 1em">WriteMakefile( %hash );</p>

<p style="margin-top: 1em">sub MY::postamble
{pdlpp_postamble($package)};</p>

<p style="margin-top: 1em">The code above should go in a
file called Makefile.PL, which should subsequently be called
in the standard Perl way: &quot;perl Makefile.PL&quot; .
This should give you a Makefile and <br>
running &quot;make&quot; should compile the module for you
and &quot;make install&quot; will install it for you.</p>

<p style="margin-top: 1em">Q: 7.3 How can I interface
package XXX in PDL? <br>
This question is closely related to the previous one, and as
we said there, the PDL::PP pre-processor is the standard way
of interfacing external packages with PDL. The most <br>
usual way to use PDL::PP is to write a short interface
routine, see the PDL::PP perldoc page and the answer to the
previous question for examples.</p>

<p style="margin-top: 1em">However it is also possible to
interface a package to PDL by re-writing your function in
PDL::PP directly. This can be convenient in certain
situations, in particular if you have <br>
a routine that expects a function as input and you would
like to pass the function a Perl function for
convenience.</p>

<p style="margin-top: 1em">The PDL::PP perldoc page is the
main source of information for writing PDL::PP extensions,
but it is very useful to look for files in the distribution
of PDL as many of the core <br>
functions are written in PDL::PP. Look for files that end in
&quot;.pd&quot; which is the generally accepted suffix for
PDL::PP files. But we also have a simple example here.</p>

<p style="margin-top: 1em">The following example will show
you how to write a simple function that automatically allows
threading. To make this concise the example is of an almost
trivial function, but the <br>
intention is to show the basics of writing a PDL::PP
interface.</p>

<p style="margin-top: 1em">We will write a simple function
that calculates the minimum, maximum and average of a
piddle. On my machine the resulting function is 8 times
faster than the built-in function <br>
&quot;stats&quot; (of course the latter also calculates the
median).</p>

<p style="margin-top: 1em">Let&rsquo;s jump straight in.
Here is the code (from a file called
&quot;quickstats.pd&quot; )</p>

<p style="margin-top: 1em"># <br>
pp_def(&rsquo;quickstats&rsquo;, <br>
Pars =&gt; &rsquo;a(n); [o]avg(); [o]max(); [o]min()&rsquo;,
<br>
Code =&gt; &rsquo;$GENERIC(a) curmax, curmin; <br>
$GENERIC(a) tmp=0; <br>
loop(n) %{ <br>
tmp += $a(); <br>
if (!n || $a() &gt; curmax) { curmax = $a();} <br>
if (!n || $a() &lt; curmin) { curmin = $a();} <br>
%} <br>
$avg() = tmp/$SIZE(n); <br>
$max() = curmax; <br>
$min() = curmin; <br>
&rsquo; <br>
);</p>

<p style="margin-top: 1em">pp_done();</p>

<p style="margin-top: 1em">The above might look like a
confusing mixture of C and Perl, but behind the peculiar
syntax lies a very powerful language. Let us take it line by
line.</p>

<p style="margin-top: 1em">The first line declares that we
are starting the definition of a PDL:PP function called
&quot;quickstats&quot; .</p>

<p style="margin-top: 1em">The second line is very
important as it specifies the input and output parameters of
the function. a(n) tells us that there is one input
parameter that we will refer to as &quot;a&quot; <br>
which is expected to be a vector of length n (likewise
matrices, both square and rectangular would be written as
&quot;a(n,n)&quot; and &quot;a(n,m)&quot; respectively). To
indicate that something <br>
is an output parameter we put &quot;[o]&quot; in front of
their names, so referring back to the code we see that avg,
max and min are three output parameters, all of which are
scalar <br>
(since they have no dimensional size indicated.</p>

<p style="margin-top: 1em">The third line starts the code
definition which is essentially pure C but with a couple of
convenient functions. $GENERIC is a function that returns
the C type of its argument - <br>
here the input parameter a. Thus the first two lines of the
code section are variable declarations.</p>

<p style="margin-top: 1em">The loop(n) construct is a
convenience function that loops over the dimension called n
in the parameter section. Inside this loop we calculate the
cumulative sum of the input <br>
vector and keep track of the maximum and minimum values.
Finally we assign the resulting values to the output
parameters.</p>

<p style="margin-top: 1em">Finally we finish our function
declaration with &quot;pp_done()&quot; .</p>

<p style="margin-top: 1em">To compile our new function we
need to create a Makefile, which we will just list since its
creation is discussed in an earlier question.</p>

<p style="margin-top: 1em">use PDL::Core::Dev; <br>
use ExtUtils::MakeMaker; <br>
PDL::Core::Dev-&gt;import();</p>

<p style="margin-top: 1em">$package =
[&quot;quickstats.pd&quot;,Quickstats,PDL::Quickstats]; <br>
%hash = pdlpp_stdargs($package);</p>

<p style="margin-top: 1em">WriteMakefile( %hash );</p>

<p style="margin-top: 1em">sub MY::postamble
{pdlpp_postamble($package)};</p>

<p style="margin-top: 1em">An example Makefile.PL</p>

<p style="margin-top: 1em">Our new statistic function
should now compile using the tried and tested Perl way:
&quot;perl Makefile.PL; make&quot; .</p>

<p style="margin-top: 1em">You should experiment with this
function, changing the calculations and input and output
parameters. In conjunction with the PDL::PP perldoc page
this should allow you to quickly <br>
write more advanced routines directly in PDL::PP.</p>

<p style="margin-top: 1em">BUGS <br>
If you find any inaccuracies in this document (or
dis-functional URLs) please report to the perldl mailing
list pdl-general@lists.sourceforge.net.</p>

<p style="margin-top: 1em">ACKNOWLEDGMENTS <br>
Achim Bohnet (ach@mpe.mpg.de ) for suggesting CoolHTML as a
prettypodder (although we have switched to XML now) and
various other improvements. Suggestions for some questions
<br>
were taken from Perl FAQ and adapted for PDL.</p>

<p style="margin-top: 1em">CONTRIBUTORS <br>
Many people have contributed or given feedback on the
current version of the FAQ, here is an incomplete list of
individuals whose contributions or posts to the mailing-list
have <br>
improved this FAQ at some point in time alphabetically
listed by first name: Christian Soeller, Chris Marshall,
Doug Burke, Doug Hunt, Frank Schmauder, Jarle Brinchmann,
John <br>
Cerney, Karl Glazebrook, Kurt Starsinic, Thomas Yengst,
Tuomas J. Lukka.</p>

<p style="margin-top: 1em">AUTHOR AND COPYRIGHT <br>
This document emerged from a joint effort of several PDL
developers (Karl Glazebrook, Tuomas J. Lukka, Christian
Soeller) to compile a list of the most frequently asked
questions <br>
about PDL with answers. Permission is granted for verbatim
copying (and formatting) of this material as part of
PDL.</p>

<p style="margin-top: 1em">Permission is explicitly not
granted for distribution in book or any corresponding form.
Ask on the PDL mailing list
pdl-general@lists.sourceforge.net if some of the issues <br>
covered in here are unclear.</p>

<p style="margin-top: 1em">perl v5.24.1 2017-05-21
FAQ(1)</p>
<hr>
</body>
</html>
