<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:52:48 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ATOMIC(1) January 2015 ATOMIC(1)</p>

<p style="margin-top: 1em">NAME <br>
atomic-install - Execute Image Install Method</p>

<p style="margin-top: 1em">SYNOPSIS <br>
atomic install [-h|--help] [--display] [-n][--name[=NAME]]
[--rootfs=ROOTFS] [--set=NAME=VALUE] [--storage]
[--system-package=auto|build|yes|no] [--system] IMAGE
[ARG...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
atomic install attempts to read the LABEL INSTALL field in
the container IMAGE, if this field does not exist, atomic
install will install the IMAGE.</p>

<p style="margin-top: 1em">If the container image has a
LABEL INSTALL instruction like the following:</p>

<p style="margin-top: 1em">LABEL INSTALL /usr/bin/docker
run -t -i --rm OPT1} --privileged -v /:/host --net=host
--ipc=host --pid=host -e HOST=/host -e NAME=NAME} -e
IMAGE=IMAGE} -e <br>
CONFDIR=etc/${NAME} -e LOGDIR=/var/log/NAME} -e
DATADIR=/var/lib/NAME} IMAGE} OPT2} /bin/install.sh
OPT3}</p>

<p style="margin-top: 1em">atomic install will set the
following environment variables for use in the command:</p>

<p style="margin-top: 1em">NAME The name specified via the
command. NAME will be replaced with IMAGE if it is not
specified.</p>

<p style="margin-top: 1em">IMAGE The name and image
specified via the command.</p>

<p style="margin-top: 1em">OPT1, OPT2, OPT3 Additional
options which can be specified via the command.</p>

<p style="margin-top: 1em">SUDO_UID The SUDO_UID
environment variable. This is useful with the docker -u
option for user space tools. If the environment variable is
not available, the value of <br>
/proc/self/loginuid is used.</p>

<p style="margin-top: 1em">SUDO_GID The SUDO_GID
environment variable. This is useful with the docker -u
option for user space tools. If the environment variable is
not available, the default GID of the <br>
value for SUDO_UID is used. If this value is not available,
the value of /proc/self/loginuid is used.</p>

<p style="margin-top: 1em">Any additional arguments will be
appended to the command.</p>

<p style="margin-top: 1em">OPTIONS: <br>
-h --help Print usage statement</p>

<p style="margin-top: 1em">--display Display the
image&rsquo;s install options and environment variables
populated into the install command. The install command will
not execute if --display is specified. If <br>
--display is not specified the install command will
execute.</p>

<p style="margin-top: 1em">-n --name=&quot;&quot; <br>
Use this name for creating installed content for the
container. <br>
NAME will default to the IMAGENAME if it is not
specified.</p>

<p style="margin-top: 1em">--rootfs=ROOTFS Specify a ROOTFS
folder, which can be an existing, expanded container/image,
or a location which contains an existing root filesystem.
The existing rootfs will be <br>
used as the new system container&rsquo;s rootfs (read only),
and thus the new container will only contain config and info
files.</p>

<p style="margin-top: 1em">--set=NAME=VALUE Set a value
that is going to be used by a system container for its
configuration and can be specified multiple times. It is
used only by --system. OSTree is <br>
required for this feature to be available.</p>

<p style="margin-top: 1em">--storage Allows you to override
the default definition for the storage backend where your
image will reside if pulled. If the image is already local,
the --storage option will <br>
dictate where atomic should look for the image prior to
installing. Valid options are docker and ostree.</p>

<p style="margin-top: 1em">If you are installing a
container using docker storage, you may define a label in
your image named atomic.has_install_files. This label
indicates there are files inside the con&acirc; <br>
tainer image which are meant to be placed on host system. An
rpm is created from these files and installed onto host
system.</p>

<p style="margin-top: 1em">--system Install a system
container. A system container is a container that is
executed out of an systemd unit file early in boot, using
runc. The specified IMAGE must be a <br>
system image already fetched. If it is not already present,
atomic will attempt to fetch it assuming it is an oci image.
For more information on how images are fetched, see <br>
also atomic-pull(1). Installing a system container consists
of checking it the image by default under
/var/lib/containers/atomic/ and generating the configuration
files for runc <br>
and systemd. OSTree and runc are required for this feature
to be available.</p>

<p style="margin-top: 1em">Note: If the image being pulled
contains a label of system.type=ostree, atomic will
automatically substitute the storage backend to be ostree.
This can be overridden with the <br>
--storage option.</p>


<p style="margin-top: 1em">--system-package=auto|build|no|yes
Control how the container will be installed to the
system.</p>

<p style="margin-top: 1em">auto generates an rpm and
install it to the system when the image defines a .spec
file. This is the default.</p>

<p style="margin-top: 1em">build build only the software
package, without installing it.</p>

<p style="margin-top: 1em">no do not generate an rpm
package to install the container.</p>

<p style="margin-top: 1em">yes generate an rpm package and
install it to the system.</p>

<p style="margin-top: 1em">--user If running as non-root,
specify to install the image from the current OSTree
repository and manage it through systemd and bubblewrap.
OSTree and bwrap-oci are required <br>
for this feature to be available.</p>

<p style="margin-top: 1em">HISTORY <br>
January 2015, Originally compiled by Daniel Walsh (dwalsh at
redhat dot com) July 2015, edited by Sally O&rsquo;Malley
(somalley at redhat dot com)</p>

<p style="margin-top: 1em">Dan Walsh Atomic Man Pages
ATOMIC(1)</p>
<hr>
</body>
</html>
