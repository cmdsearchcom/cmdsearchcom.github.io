<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:27:51 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OADM(1) June 2016 OADM(1)</p>

<p style="margin-top: 1em">NAME <br>
oadm router - Install a router</p>

<p style="margin-top: 1em">SYNOPSIS <br>
oadm router [OPTIONS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Install or configure a router</p>

<p style="margin-top: 1em">This command helps to setup a
router to take edge traffic and balance it to your
application. With no arguments, the command will check for
an existing router service called <br>
&rsquo;router&rsquo; and create one if it does not exist. If
you want to test whether a router has already been created
add the --dry-run flag and the command will exit with 1 if
the reg&acirc; <br>
istry does not exist.</p>

<p style="margin-top: 1em">If a router does not exist with
the given name, this command will create a deployment
configuration and service that will run the router. If you
are running your router in pro&acirc; <br>
duction, you should pass --replicas=2 or higher to ensure
you have failover protection.</p>

<p style="margin-top: 1em">OPTIONS <br>
--create=false <br>
deprecated; this is now the default behavior</p>

<p style="margin-top: 1em">--default-cert=&quot;&quot; <br>
Optional path to a certificate file that be used as the
default certificate. The file should contain the cert, key,
and any CA certs necessary for the router to serve the <br>
certificate.</p>


<p style="margin-top: 1em">--disable-namespace-ownership-check=false
<br>
Disables the namespace ownership check and allows different
namespaces to claim either different paths to a route host
or overlapping host names in case of a wildcard route. <br>
The default behavior (false) to restrict claims to the
oldest namespace that has claimed either the host or the
subdomain. Please be aware that if namespace ownership
checks are <br>
disabled, routes in a different namespace can use this
mechanism to &rsquo;steal&rsquo; sub-paths for existing
domains. This is only safe if route creation privileges are
restricted, or if <br>
all the users can be trusted.</p>

<p style="margin-top: 1em">--dry-run=false <br>
If true, show the result of the operation without performing
it.</p>

<p style="margin-top: 1em">--expose-metrics=false <br>
If true, attempts to run an extra container in the pod to
expose metrics - the image will either be set depending on
the router implementation or provided with --met&acirc; <br>
rics-image.</p>

<p style="margin-top: 1em">--external-host=&quot;&quot;
<br>
If the underlying router implementation connects with an
external host, this is the external host&rsquo;s
hostname.</p>


<p style="margin-top: 1em">--external-host-http-vserver=&quot;&quot;
<br>
If the underlying router implementation uses virtual
servers, this is the name of the virtual server for HTTP
connections.</p>


<p style="margin-top: 1em">--external-host-https-vserver=&quot;&quot;
<br>
If the underlying router implementation uses virtual
servers, this is the name of the virtual server for HTTPS
connections.</p>

<p style="margin-top: 1em">--external-host-insecure=false
<br>
If the underlying router implementation connects with an
external host over a secure connection, this causes the
router to skip strict certificate verification with the <br>
external host.</p>


<p style="margin-top: 1em">--external-host-internal-ip=&quot;&quot;
<br>
If the underlying router implementation requires the use of
a specific network interface to connect to the pod network,
this is the IP address of that internal interface.</p>


<p style="margin-top: 1em">--external-host-partition-path=&quot;&quot;
<br>
If the underlying router implementation uses partitions for
control boundaries, this is the path to use for that
partition.</p>


<p style="margin-top: 1em">--external-host-password=&quot;&quot;
<br>
If the underlying router implementation connects with an
external host, this is the password for authenticating with
the external host.</p>


<p style="margin-top: 1em">--external-host-private-key=&quot;&quot;
<br>
If the underlying router implementation requires an SSH
private key, this is the path to the private key file.</p>


<p style="margin-top: 1em">--external-host-username=&quot;&quot;
<br>
If the underlying router implementation connects with an
external host, this is the username for authenticating with
the external host.</p>


<p style="margin-top: 1em">--external-host-vxlan-gw=&quot;&quot;
<br>
If the underlying router implementation requires VxLAN
access to the pod network, this is the gateway address that
should be used in cidr format.</p>

<p style="margin-top: 1em">--force-subdomain=&quot;&quot;
<br>
A router path format to force on all routes used by this
router (will ignore the route host value)</p>

<p style="margin-top: 1em">--host-network=true <br>
If true (the default), then use host networking rather than
using a separate container network stack.</p>

<p style="margin-top: 1em">--host-ports=true <br>
If true (the default), when not using host networking host
ports will be exposed.</p>


<p style="margin-top: 1em">--images=&quot;openshift/origin-${component}:${version}&quot;
<br>
The image to base this router on - ${component} will be
replaced with --type</p>


<p style="margin-top: 1em">--labels=&quot;router=&lt;name&gt;&quot;
<br>
A set of labels to uniquely identify the router and its
components.</p>

<p style="margin-top: 1em">--latest-images=false <br>
If true, attempt to use the latest images for the router
instead of the latest release.</p>

<p style="margin-top: 1em">--max-connections=&quot;&quot;
<br>
Specifies the maximum number of concurrent connections.</p>

<p style="margin-top: 1em">--metrics-image=&quot;&quot;
<br>
If --expose-metrics is specified this is the image to use to
run a sidecar container in the pod exposing metrics. If not
set and --expose-metrics is true the image will <br>
depend on router implementation.</p>

<p style="margin-top: 1em">-o, --output=&quot;&quot; <br>
Output results as yaml or json instead of executing, or use
name for succint output (resource/name).</p>

<p style="margin-top: 1em">--output-version=&quot;&quot;
<br>
The preferred API versions of the output objects</p>


<p style="margin-top: 1em">--ports=&quot;80:80,443:443&quot;
<br>
A comma delimited list of ports or port pairs to expose on
the router pod. The default is set for HAProxy. Port pairs
are applied to the service and to host ports (if
speci&acirc; <br>
fied).</p>

<p style="margin-top: 1em">--replicas=1 <br>
The replication factor of the router; commonly 2 when high
availability is desired.</p>


<p style="margin-top: 1em">--router-canonical-hostname=&quot;&quot;
<br>
CanonicalHostname is the external host name for the router
that can be used as a CNAME for the host requested for this
route. This value is optional and may not be set in all <br>
cases.</p>

<p style="margin-top: 1em">--secrets-as-env=false <br>
If true, use environment variables for master secrets.</p>

<p style="margin-top: 1em">--selector=&quot;&quot; <br>
Selector used to filter nodes on deployment. Used to run
routers on a specific set of nodes.</p>


<p style="margin-top: 1em">--service-account=&quot;router&quot;
<br>
Name of the service account to use to run the router
pod.</p>

<p style="margin-top: 1em">--stats-password=&quot;&quot;
<br>
If the underlying router implementation can provide
statistics this is the requested password for auth. If not
set a password will be generated.</p>

<p style="margin-top: 1em">--stats-port=1936 <br>
If the underlying router implementation can provide
statistics this is a hint to expose it on this port. Specify
0 if you want to turn off exposing the statistics.</p>

<p style="margin-top: 1em">--stats-user=&quot;admin&quot;
<br>
If the underlying router implementation can provide
statistics this is the requested username for auth.</p>

<p style="margin-top: 1em">--subdomain=&quot;&quot; <br>
The template for the route subdomain exposed by this router,
used for routes that are not externally specified. E.g.
&rsquo;${name}-${namespace}.apps.mycompany.com&rsquo;</p>


<p style="margin-top: 1em">--type=&quot;haproxy-router&quot;
<br>
The type of router to use - if you specify --images this
flag may be ignored.</p>

<p style="margin-top: 1em">OPTIONS INHERITED FROM PARENT
COMMANDS <br>
--api-version=&quot;&quot; <br>
DEPRECATED: The API version to use when talking to the
server</p>

<p style="margin-top: 1em">--as=&quot;&quot; <br>
Username to impersonate for the operation</p>


<p style="margin-top: 1em">--azure-container-registry-config=&quot;&quot;
<br>
Path to the file container Azure container registry
configuration information.</p>


<p style="margin-top: 1em">--certificate-authority=&quot;&quot;
<br>
Path to a cert. file for the certificate authority</p>


<p style="margin-top: 1em">--client-certificate=&quot;&quot;
<br>
Path to a client certificate file for TLS</p>

<p style="margin-top: 1em">--client-key=&quot;&quot; <br>
Path to a client key file for TLS</p>

<p style="margin-top: 1em">--cluster=&quot;&quot; <br>
The name of the kubeconfig cluster to use</p>

<p style="margin-top: 1em">--config=&quot;&quot; <br>
Path to the config file to use for CLI requests.</p>

<p style="margin-top: 1em">--context=&quot;&quot; <br>
The name of the kubeconfig context to use</p>

<p style="margin-top: 1em">--google-json-key=&quot;&quot;
<br>
The Google Cloud Platform Service Account JSON Key to use
for authentication.</p>


<p style="margin-top: 1em">--insecure-skip-tls-verify=false
<br>
If true, the server&rsquo;s certificate will not be checked
for validity. This will make your HTTPS connections
insecure</p>

<p style="margin-top: 1em">--log-flush-frequency=0 <br>
Maximum number of seconds between log flushes</p>

<p style="margin-top: 1em">--match-server-version=false
<br>
Require server version to match client version</p>

<p style="margin-top: 1em">-n, --namespace=&quot;&quot;
<br>
If present, the namespace scope for this CLI request</p>

<p style="margin-top: 1em">--request-timeout=&quot;0&quot;
<br>
The length of time to wait before giving up on a single
server request. Non-zero values should contain a
corresponding time unit (e.g. 1s, 2m, 3h). A value of zero
means <br>
don&rsquo;t timeout requests.</p>

<p style="margin-top: 1em">--server=&quot;&quot; <br>
The address and port of the Kubernetes API server</p>

<p style="margin-top: 1em">--token=&quot;&quot; <br>
Bearer token for authentication to the API server</p>

<p style="margin-top: 1em">--user=&quot;&quot; <br>
The name of the kubeconfig user to use</p>

<p style="margin-top: 1em">EXAMPLE <br>
# Check the default router (&quot;router&quot;) <br>
oadm router --dry-run</p>

<p style="margin-top: 1em"># See what the router would look
like if created <br>
oadm router -o yaml</p>

<p style="margin-top: 1em"># Create a router with two
replicas if it does not exist <br>
oadm router router-west --replicas=2</p>

<p style="margin-top: 1em"># Use a different router image
<br>
oadm router region-west --images=myrepo/somerouter:mytag</p>

<p style="margin-top: 1em"># Run the router with a hint to
the underlying implementation to _not_ expose statistics.
<br>
oadm router router-west --stats-port=0</p>

<p style="margin-top: 1em">SEE ALSO <br>
oadm(1),</p>

<p style="margin-top: 1em">HISTORY <br>
June 2016, Ported from the Kubernetes man-doc generator</p>

<p style="margin-top: 1em">Openshift Openshift CLI User
Manuals OADM(1)</p>
<hr>
</body>
</html>
