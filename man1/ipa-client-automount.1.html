<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ipa-client-automount(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ipa-client-automount(1)</td>
    <td class="head-vol">IPA Manual Pages</td>
    <td class="head-rtitle">ipa-client-automount(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ipa-client-automount - Configure automount and NFS for IPA
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
ipa-client-automount [ <i>OPTION</i>]... &lt;location&gt;
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Configures automount for IPA.
<div style="height: 1.00em;">&#x00A0;</div>
The automount configuration consists of three files:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">/etc/nsswitch.conf</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">/etc/sysconfig/autofs</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">/etc/autofs_ldap_auth.conf
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">By default this will use DNS discovery to attempt to
    determine the IPA server(s) to use. If IPA servers are discovered then the
    automount client will be configured to use DNS discovery.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">If DNS discovery fails or a specific server is desired, use
    the --server option.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The default automount location is named default. To specify
    a different one use the --location option.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The IPA client must already be configured in order to
    configure automount. The IPA client is configured as part of a server
    installation.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">There are two ways to configure automount. The default is
    to use sssd to manage the automount maps. Alternatively autofs can
    configured to bind to LDAP over GSSAPI and authenticate using the machine's
    host principal.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">The nsswitch automount service is configured to use either
    sss or ldap and files depending on whether SSSD is configured or not.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">NFSv4 is also configured. The rpc.gssd and rpc.idmapd are
    started on clients to support Kerberos-secured mounts.</dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--server</b>=<i>SERVER</i> Set the IPA server to connect to
<dl class="Bl-tag">
  <dt class="It-tag"><b>--location</b>=<i>LOCATION</i></dt>
  <dd class="It-tag">Automount location</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>, <b>--no-sssd</b></dt>
  <dd class="It-tag">Do not configure the client to use SSSD for automount</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--debug</b></dt>
  <dd class="It-tag">Print debugging information to stdout</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>, <b>--unattended</b></dt>
  <dd class="It-tag">Unattended installation. The user will not be prompted</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--uninstall</b></dt>
  <dd class="It-tag">Restore the automount configuration files
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Files that will be always be configured:</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    /etc/nsswitch.conf</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Files that will be configured when SSSD is the automount
    client (default):</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    /etc/sssd/sssd.conf
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Files that will be configured when using the ldap automount
    client:</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    /etc/sysconfig/autofs
    <div style="height: 1.00em;">&#x00A0;</div>
    /etc/autofs_ldap_auth.conf
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 if the installation was successful
<div style="height: 1.00em;">&#x00A0;</div>
1 if an error occurred</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 25 2012</td>
    <td class="foot-os">IPA</td>
  </tr>
</table>
</body>
</html>
