<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Pbmtext User Manual(0)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Pbmtext User Manual(0)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">Pbmtext User Manual(0)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pbmtext - render text into a PBM image
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pbmtext</b> [ <b>-font</b> <i>fontfile</i>] [ <b>-builtin</b>
  <i>fontname</i>] [ <b>-space</b> <i>pixels</i>] [ <b>-lspace</b>
  <i>pixels</i>] [ <b>-nomargins</b>] [ <b>-width</b> <i>pixels</i>] [
  <i>text</i>]
<div class="Pp"></div>
Minimum unique abbreviation of option is acceptable. You may use double hyphens
  instead of single hyphen to denote options. You may use white space in place
  of the equals sign to separate an option name from its value.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of <b>Netpbm</b>(1)
<div class="Pp"></div>
<b>pbmtext</b> takes the specified text, either a single line from the command
  line or multiple lines from standard input, and renders it into a PBM
  graphical image.
<div class="Pp"></div>
In the image, each line of input is a line of output. Formatting characters such
  as newline have no effect on the formatting; like any unprintable character,
  they turn into spaces.
<div class="Pp"></div>
The image is just wide enough for the longest line of text, plus margins, and
  just high enough to contain the lines of text, plus margins.
<div class="Pp"></div>
The left and right margins are twice the width of the widest character in the
  font; the top and bottom margins are the height of the tallest character in
  the font. But if the text is only one line, all the margins are half of this.
  You can use the <b>-nomargins</b> option to eliminate the margins.
<div class="Pp"></div>
<b>pbmtextps</b> does the same thing as <b>pbmtext</b>, but uses Ghostscript to
  generate the characters, which means you can use Postscript fonts. But it also
  means you have to have Ghostscript installed and it isn't as fast. Also,
  <b>pbmtextps</b> generates only one line of text, whereas <b>pbmtext</b> can
  create multiple lines.
<div class="Pp"></div>
<b>pbmtext</b> is meant for small quantities of simple text. If you're working
  with a <i>document</i>, you would be better off using a document formatting
  program to 'print' to a Postscript file, then feeding that Postscript to
  <b>pstopnm</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-font</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-builtin</b></dt>
  <dd class="It-tag"><b>-builtin</b> selects a font among those built into
      Netpbm.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>-font</b> selects a font that you supply yourself either as an X Window
      System</dd>
</dl>
<a class="Lk" title="Lk" href="http://xfree86.org/current/bdf.pdf">BDF (Bitmap
  Distribution Format)</a> file or as a PBM file in a special form.
<div style="height: 1.00em;">&#x00A0;</div>
The default is the built in font 'bdf.'
<div style="height: 1.00em;">&#x00A0;</div>
'bdf' is Times-Roman 15 pixels high. (That's about 14 point type printed at 75
  dpi).
<div style="height: 1.00em;">&#x00A0;</div>
'fixed' is a built in fixed width font.
<div style="height: 1.00em;">&#x00A0;</div>
For information about other fonts, and how to make one of your own, see
  <a class="Lk" title="Lk" href="#fonts">Fonts</a> below.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-space</b> <i>pixels</i></dt>
  <dd class="It-tag">
    <br/>
     Add <i>pixels</i> pixels of space between characters. This is in addition
      to whatever space surrounding characters is built into the font, which is
      usually enough to produce a reasonable string of text.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>pixels</i> may be fractional, in which case the number of pixels added
      varies so as to achieve the specified average. For example
      <b>-space=1.5</b> causes half the spaces to be 1 pixel and half to be 2
      pixels.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>pixels</i> may be negative to crowd text together, but the author has
      not put much thought or testing into how this works in every possible
      case, so it might cause disastrous results.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-lspace</b> <i>pixels</i></dt>
  <dd class="It-tag">
    <br/>
     Add <i>pixels</i> pixels of space between lines. This is in addition to
      whatever space above and below characters is built into the font, which is
      usually enough to produce a reasonable line spacing.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>pixels</i> must be a whole number.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>pixels</i> may be negative to crowd lines together, but the author has
      not put much thought or testing into how this works in every possible
      case, so it might cause disastrous results.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nomargins</b></dt>
  <dd class="It-tag">By default, <b>pbmtext</b> adds margins all around the
      image as described above. This option causes <b>pbmtext</b> not to add any
      margins.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that there may still be space beyond the edges of the type because a
      character itself may include space at its edges. To eliminate all
      surrounding background, so the type touches all four edges of the image,
      use <b>pnmcrop</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-width</b> <i>pixels</i></dt>
  <dd class="It-tag">This specifies how much horizontal space the text is
      supposed to fit into.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the input is one line, <b>pbmtext</b> breaks it into multiple lines as
      needed to fit the specified width. It breaks it between characters, but
      does not pay attention to white space; it may break in the middle of a
      word and a line may begin or end with white space.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the input is multiple lines, <b>pbmtext</b> assumes you already have line
      breaks where they make sense, and <b>pbmtext</b> simply truncates each
      line as needed to fit the specified width.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
Often, you want to place text over another image. One way to do this is with
  <b>ppmlabel</b>. For more flexible (but complex) drawing of text on an image,
  there is <b>ppmdraw</b>. These do not give you the font options that
  <b>pbmtext</b> does, though.
<div class="Pp"></div>
Another way is to use <b>pbmtext</b> to create an image containing the text,
  then use <b>pamcomp</b> to overlay the text image onto your base image. To
  make only the text (and not the entire rectangle containing it) cover the base
  image, you will need to give <b>pamcomp</b> a mask, via its <b>-alpha</b>
  option. You can just use the text image itself as the mask, as long as you
  also specify the <b>-invert</b> option to <b>pamcomp</b>.
<div class="Pp"></div>
If you want to overlay colored text instead of black, just use <b>ppmchange</b>
  to change all black pixels to the color of your choice before overlaying the
  text image. But still use the original black and white image for the alpha
  mask.
<div class="Pp"></div>
If you want the text at an angle, use <b>pnmrotate</b> on the text image (and
  alpha mask) before overlaying.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FONTS"><a class="selflink" href="#FONTS">FONTS</a></h1>
There are three kinds of fonts you an use with <b>pbmtext</b>:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">built in</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">BDF</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">PBM
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Built_In_Fonts"><a class="selflink" href="#Built_In_Fonts">Built
  In Fonts</a></h2>
There are two built in fonts: <b>bdf</b> and <b>fixed</b>. You select these
  fonts with a <b>-builtin</b> option.
<div class="Pp"></div>
<b>bdf</b> is the default when you specify no font information on the command
  line.
<div class="Pp"></div>
<b>bdf</b> is encoded in ISO 8859-1 (Latin 1, 8-bit). In addition to English it
  can handle most West European languages (Spanish, French, German, Swedish ...)
  This set lacks the Euro currency sign.
<div class="Pp"></div>
<b>fixed</b> is ASCII (7-bit) only.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="BDF_Font"><a class="selflink" href="#BDF_Font">BDF
  Font</a></h2>
BDF is an ancient font format that at one time was standard for the X Window
  System. Now, you don't see it very often, but you can find some BDF fonts on
  the
  <a class="Lk" title="Lk" href="http://cvsweb.xfree86.org/cvsweb/xc/fonts/bdf/">Xfree86</a>
  web site.
<div class="Pp"></div>
You can get the full package of the BDF fonts from XFree86 (see above) from the
  <a class="Lk" title="Lk" href="http://netpbm.sourceforge.net/bdffont.tgz">Netpbm
  web site</a> .
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="PBM_Font"><a class="selflink" href="#PBM_Font">PBM
  Font</a></h2>
To create a font as a PBM file (to use with the <b>-font</b> option), you just
  create a PBM image of the text matrix below.
<div class="Pp"></div>
The first step is to display text matrix below on the screen, e.g. in an X11
  window.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<div class="Pp"></div>
    M ',/^_[`jpqy| M
<div class="Pp"></div>
    /  !'#$%&amp;'()*+ /
    &lt; ,-./01234567 &lt;
    &gt; 89:;&lt;=&gt;?@ABC &gt;
    @ DEFGHIJKLMNO @
    _ PQRSTUVWXYZ[ _
    { \]^_`abcdefg {
    } hijklmnopqrs }
    ~ tuvwxyz{|}~  ~
<div class="Pp"></div>
    M ',/^_[`jpqy| M
<div class="Pp"></div>
</pre>
<div class="Pp"></div>
Make sure it's a fixed width font -- This should display as a perfect rectangle.
<div class="Pp"></div>
Also, try to use a simple display program. Pbmtext divides this into a matrix of
  cells, all the same size, each containing one character, so it is important
  that whatever you use to display it display with uniform horizontal and
  vertical spacing. Fancy word processing programs sometimes stretch characters
  in both directions to fit certain dimensions, and that won't work. Sometimes a
  display program scales a font to show a character larger or smaller than its
  natural size. That too won't often work because the rounding involved in such
  scaling causes non-uniform distances between characters.
<div class="Pp"></div>
If you display the text matrix improperly, the usual symptom is that when you
  try to use the font, <b>pbmtext</b> fails with an error message telling you
  that the number of lines in the font isn't divisible by 11, or it can't find
  the blank band around the inner rectangle. Sometimes the symptom is that one
  of the characters displays with a piece of the character that is next to it in
  the matrix. For example, 'l' might display with a little piece of the 'm'
  attached on its right.
<div class="Pp"></div>
Do a screen grab or window dump of that text, using for instance <b>xwd</b>,
  <b>xgrabsc</b>, or <b>screendump</b>. Convert the result into a pbm file. If
  necessary, use <b>pamcut</b> to remove anything you grabbed in addition to the
  text pictured above (or be a wimp and use a graphical editor such as
  ImageMagick). Finally, run it through <b>pnmcrop</b>. to make sure the edges
  are right up against the text. <b>pbmtext</b> can figure out the sizes and
  spacings from that.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NON-ENGLISH_TEXT"><a class="selflink" href="#NON-ENGLISH_TEXT">NON-ENGLISH
  TEXT</a></h1>
<b>pbmtext</b> does little to accommodate the special needs of non-English text.
<div class="Pp"></div>
<b>pbmtext</b> reads input in byte units. Unicode (utf-7, utf-8, utf-16, etc.)
  text which contains multibyte characters does not work.
<div class="Pp"></div>
<b>pbmtext</b> can handle 7-bit and 8-bit character sets. Examples are ASCII,
  ISO 8859 family, koi8-r/u and VISCII. It is up to the user to supply a BDF
  file covering the necessary glyphs with the &quot;-font&quot; option. The font
  file must be in the right encoding.
<div class="Pp"></div>
<b>pbmtext</b> does not recognize locale. It ignores the associated environment
  variables.
<div class="Pp"></div>
<b>pbmtext</b> cannot render vertically or right to left.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="TIPS"><a class="selflink" href="#TIPS">TIPS</a></h1>
If you get garbled output, check whether the font file encoding corresponds to
  the input text encoding. Also make sure that your input is not in utf-* or any
  other multi-byte format.
<div class="Pp"></div>
To dump characters in a BDF font file run this command:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    $ awk 'BEGIN { for (i=0x01; i&lt;=0xFF; i++)  
                    { printf('%c%s',i,i%16==15 ? '\n':''); } }' |\
      pbmtext -f font.bdf &gt; dump.pbm
</pre>
<div class="Pp"></div>
If you need only ASCII, change the for statement to:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
     for (i=0x20; i&lt;=0x7E; i++)  
</pre>
<div class="Pp"></div>
To check the encoding of a BDF file, examine the CHARSET_REGISTRY line and the
  next line, which should be CHARSET_ENCODING:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    $ grep -A1 CHARSET_REGISTRY font-a.bdf
    CHARSET_REGISTRY 'ISO8859'
    CHARSET_ENCODING '1'
    
    $ grep -A1 CHARSET_REGISTRY font-b.bdf
    CHARSET_REGISTRY 'ISO10646'
    CHARSET_ENCODING '1'
</pre>
<div class="Pp"></div>
The latter is Unicode. BDF files coded in ISO 16046-1 usually work for Western
  European languages, because ISO 16046-1 expands ISO 8859-1 (also called
  'Latin-1') while maintaining the first 256 code points. ISO 8859-1 itself is a
  superset of ASCII. Run the above command and verify the necessary glyphs are
  present.
<div class="Pp"></div>
It may sound strange that <b>pbmtext</b> accepts font files encoded in Unicode
  but not input text in Unicode. This is because Unicode provides several
  'numbering schemes'.
<div class="Pp"></div>
When rendering text in character sets other than ISO 8859-1, one often has to
  produce a BDF file in the given encoding from a master BDF file encoded in ISO
  10646-1.
<div class="Pp"></div>
In particular, 75% of the BDF files in the font collection available from
  <a class="Lk" title="Lk" href="http://netpbm.sourceforge.net/bdffont.tgz">the
  Netpbm website</a> are in ISO 10646-1. Many have the Euro sign, Greek letters,
  etc, but they are placed in code points beyond what <b>pbmtext</b> sees.
<div class="Pp"></div>
There are several programs that perform BDF encoding conversion. If you have the
  X Window System installed, first look for <b>ucs2any</b>. If you don't, you
  can download <b>ucs2any.pl</b> from <b>Unicode</b>fonts<b>and</b>tools for X11
  (1)
<div class="Pp"></div>
Another converter is <b>trbdf</b>, included in the 'trscripts' package,
  available in some GNU/Linux distributions.
<div class="Pp"></div>
BDF files encoded in ISO 8859-2, ISO 8859-7, koi8-r, etc. are available from
  <b>ISO</b>8859<b>Alphabet</b> Soup (1)
<br/>
 and its sister page <b>The</b>Cyrillic<b>Charset</b> Soup (1) of 8-bit
  character sets.
<div class="Pp"></div>
To convert OTF or TTF font files to BDF, use
  <a class="Lk" title="Lk" href="http://www.math.nmsu.edu/~mleisher/Software/otf2bdf">
<br/>
 <b>otf2bdf</b> by Mike Leisher</a> .
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pbmtextps</b>(1) , <b>pamcut</b>(1) , <b>pnmcrop</b>(1) , <b>pamcomp</b>(1) ,
  <b>ppmchange</b>(1) , <b>pnmrotate</b>(1) , <b>ppmlabel</b>(1) ,
  <b>ppmdraw</b>(1) , <b>pstopnm</b>(1) , <b>pbm</b>(1) , <b></b>
  <a class="Lk" title="Lk" href="http://www.pango.org">Pango</a> <b>,</b>
  <b></b> <b></b>
  <a class="Lk" title="Lk" href="http://cairographics.org">Cairo</a> <b></b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Copyright (C) 1993 by Jef Poskanzer and George Phillips</div>
<table class="foot">
  <tr>
    <td class="foot-date">14 June 2010</td>
    <td class="foot-os">netpbm documentation</td>
  </tr>
</table>
</body>
</html>
