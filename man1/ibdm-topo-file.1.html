<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:17:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>IBDM-TOPO-FILE(1) IB DATA MODEL PACKAGE
IBDM-TOPO-FILE(1)</p>

<p style="margin-top: 1em">NAME <br>
IBDM Topology File</p>

<p style="margin-top: 1em">The topology file describes the
IB connectivity and systems included in the network. It
serves two purposes:</p>

<p style="margin-top: 1em">1. Support for arbitrary system
names to be later used in every report that IBDM generates.
<br>
2. Connectivity verification: The specified network topology
is verified against the discovered one. Mismatch errors
resulting from missing cables and/or wrong connections are
<br>
reported by IBADM.</p>

<p style="margin-top: 1em">The topology file is composed
&quot;system&quot; sections. Each such section describes the
connectivity of one system to other systems in the network.
The first line of each section is a <br>
declaration of the system composed of a system-type, its
system-name section, and optional configuration details. The
lines to follow until the next empty line describe the
con&acirc; <br>
nections between this system ports to the other systems. The
following is a formal definition of a system section
syntax.</p>

<p style="margin-top: 1em">An example is listed
afterwards.</p>

<p style="margin-top: 1em">SYSTEM-TYPE SYSTEM-NAME [CFG:
&lt;b1&gt;=&lt;modifier&gt;,
[&lt;b2&gt;=&lt;modifier&gt;]...]</p>

<p style="margin-top: 1em">LOCAL-PORT-PANEL-NAME -&gt;
REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME</p>

<p style="margin-top: 1em">LOCAL-PORT-PANEL-NAME -&gt;
REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME</p>

<p style="margin-top: 1em">LOCAL-PORT-PANEL-NAME -&gt;
REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME</p>

<p style="margin-top: 1em">. . .</p>

<p style="margin-top: 1em">SYSTEM-TYPE SYSTEM-NAME [CFG:
&lt;b1&gt;=&lt;modifier&gt;,
[&lt;b2&gt;=&lt;modifier&gt;]...]</p>

<p style="margin-top: 1em">LOCAL-PORT-PANEL-NAME -&gt;
REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME</p>

<p style="margin-top: 1em">LOCAL-PORT-PANEL-NAME -&gt;
REM-SYS-TYPE REM-SYS-NAME REM-PORT-PANEL-NAME</p>

<p style="margin-top: 1em">. . .</p>

<p style="margin-top: 1em">. . .</p>

<p style="margin-top: 1em">Where:</p>

<p style="margin-top: 1em">SYSTEM-TYPE and REM-SYS-TYPE
<br>
Any system that has a corresponding IBNL definition. See man
ibdm-ibnl-file</p>

<p style="margin-top: 1em">SYSTEM-NAME <br>
The name of the system described in this topology file
section.</p>

<p style="margin-top: 1em">LOCAL-PORT-PANEL-NAME <br>
The name of the local system port. The numbers printed on
the front panel are used together with Ln for Leaf no. N or
Sn for Spine no. N.</p>

<p style="margin-top: 1em">REM-SYS-NAME <br>
The name of the system connected to the local port.</p>

<p style="margin-top: 1em">REM-PORT-PANEL-NAME <br>
A name of the remote system port. We use the numbers as
printed on the front panel and Ln for Leaf number N or Sn
for Spine number N.</p>

<p style="margin-top: 1em">EXAMPLE <br>
The following is a topology file for a simple cluster with
one 24 port switch and two HCAs. The firts HCA named H-1 and
connect to the fabric with its two ports. The second HCA
<br>
named H-2. The switch is of type MTS2400 and is named
S-1</p>

<p style="margin-top: 1em">MTS2400 S-1 <br>
P1 -&gt; MT23108 H-1 P1 <br>
P2 -&gt; MT23108 H-1 P2 <br>
P24 -&gt; MT23108 H-2 P1</p>

<p style="margin-top: 1em">OPTIONAL CFG SECTION <br>
This section in the system declaration line describes the
special customization of each board of the system.</p>

<p style="margin-top: 1em">That is the CFG string is a set
of comma-separated sub-fields. Each sub-field describes some
special configuration of a corresponding system board. The
actual semantics of the <br>
specific board modifiers is defined by the IBNL of the
specific system.</p>

<p style="margin-top: 1em">EXAMPLE <br>
The following is an example of a definition-line in a
topology file of the MTS9600 switch system. This switch
system can have up to eight leafs and four spines. This
example of <br>
the MTS9600 lacks (R) leafs no.6,7 and 8, and lacks spines
no. 3 and 4.</p>

<p style="margin-top: 1em">MTS9600 PartialGz1 CFG:
leaf3=R,leaf5=R,leaf7=R,spine1=R</p>

<p style="margin-top: 1em">AUTHOR <br>
Eitan Zahavi, Mellanox Technologies LTD,
eitan@mellanox.co.il</p>

<p style="margin-top: 1em">IBDM 1.0 2008-06-16
IBDM-TOPO-FILE(1)</p>
<hr>
</body>
</html>
