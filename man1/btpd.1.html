<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BTPD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BTPD(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">BTPD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
btpd - BitTorrent Protocol Daemon
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>btpd</b> [ <b>-d</b> <i>dir</i>] [ <b>-p</b> <i>port</i>] [
  <b>OPTIONS</b>...]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Btpd is a utility for sharing files over the BitTorrent network protocol. It
  runs in daemon mode, thus needing no controlling terminal or gui. Instead, the
  daemon is controlled by <b>btcli</b>, its control utility, or other programs
  capable of sending commands and queries on the control socket.
<div class="Pp"></div>
btpd consists of the following programs:
<div style="margin-left: 4.00ex;"><b>btpd</b> - The bittorrent client.
<div>&#x00A0;</div>
<b>btcli</b> - Command line interface to btpd.
<div>&#x00A0;</div>
<b>btinfo</b> - Shows information from a torrent file.</div>
<div class="Pp"></div>
All programs accept the <b>--help</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>dir</i></dt>
  <dd class="It-tag">The path for the btpd directory. Default is
      <i>$HOME/.btpd</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>n</i>, <b>--port</b> <i>n</i></dt>
  <dd class="It-tag">Listen at port <i>n</i>. Default is 6881.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b> [<i>mode</i>]</dt>
  <dd class="It-tag">Show this text or help for the specified mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-4</b></dt>
  <dd class="It-tag">Use IPv4. If given in conjunction with <b>-6</b>, both
      versions are used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-6</b></dt>
  <dd class="It-tag">Use IPv6. By default IPv4 is used. Unfortunately enabling
      both IPv6 and IPv4 in btpd is less useful than it should be. The problem
      is that some sites have trackers for both versions and it's likely that
      the IPv6 one, which probably has less peers, will be used in favour of the
      IPv4 one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bw-in <i>n</i></b></dt>
  <dd class="It-tag">Limit incoming BitTorrent traffic to <i>n</i> kB/s. Default
      is 0 which means unlimited.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bw-out <i>n</i></b></dt>
  <dd class="It-tag">Limit outgoing BitTorrent traffic to <i>n</i> kB/s. Default
      is 0 which means unlimited.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--empty-start</b></dt>
  <dd class="It-tag">Start btpd without any active torrents.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ip <i>addr</i></b></dt>
  <dd class="It-tag">Let the tracker distribute the given address instead of the
      one it sees btpd connect from.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ipcprot <i>mode</i></b></dt>
  <dd class="It-tag">Set the protection mode of the command socket. The mode is
      specified by an octal number. Default is 0600.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--logfile <i>file</i></b></dt>
  <dd class="It-tag">Where to put the logfile. By default it's put in the btpd
      dir.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-peers <i>n</i></b></dt>
  <dd class="It-tag">Limit the amount of peers to <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-uploads n</b></dt>
  <dd class="It-tag">Controls the number of simultaneous uploads. The possible
      values are:</dd>
</dl>
<div style="margin-left: 5.00ex;"><i>n</i> &lt; -1 : Choose <i>n</i> &gt;= 2
  based on <b>--bw-out</b> (default).
<div>&#x00A0;</div>
<i>n</i> = -1 : Upload to every interested peer.
<div>&#x00A0;</div>
<i>n</i> = 0 : Dont't upload to anyone.
<div>&#x00A0;</div>
<i>n</i> &gt; 0 : Upload to at most n peers simultaneously.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-daemon</b></dt>
  <dd class="It-tag">Keep the btpd process in the foregorund and log to
      std{out,err}. This option is intended for debugging purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--prealloc <i>n</i></b></dt>
  <dd class="It-tag">Preallocate disk space in chunks of <i>n</i> kB. Default is
      2048. Note that <i>n</i> will be rounded up to the closest multiple of the
      torrent piece size. If <i>n</i> is zero no preallocation will be
    done.</dd>
</dl>
<h1 class="Sh" title="Sh" id="STARTING_BTPD"><a class="selflink" href="#STARTING_BTPD">STARTING
  BTPD</a></h1>
To start btpd with default settings you only need to run it. However, there are
  many useful options you may want to use. To see a full list run <b>btpd
  --help</b>. If you didn't specify otherwise, btpd starts with the same set of
  active torrents as it had the last time it was shut down.
<div class="Pp"></div>
<b>btdp</b> will store information and write its log in <i>$HOME/.btpd</i>.
  Therefore it needs to be able to write there during its execution. You can
  specify another directory via the <b>-d</b> option or the <i>$BTPD_HOME</i>
  variable.
<div class="Pp"></div>
It is recommended to specifiy the maximum number of uploads. Bittorrent employs
  a tit for tat algorithm, so uploading at good rates allows for downloading.
  Try to find a balance between uploads/outgoing bandwidth and the number of
  active torrents.
<div class="Pp"></div>
<b>Note:</b> You should only need one instance of btpd regardless of how many
  torrents you want to share.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Start btpd with all options set to their default values.
<div style="margin-left: 4.00ex;">
<pre>
<b>$ btpd</b>
</pre>
</div>
<div class="Pp"></div>
Start btpd as above, but with torrent data in the directory /var/torrents
<div style="margin-left: 4.00ex;">
<pre>
<b>$ btpd -d /var/torrents</b>
</pre>
</div>
<div class="Pp"></div>
Start btpd and make it listen on port 12345, limit outgoing bandwidth to
  200kB/s, limit the number of peers to 40 and not start any torrents that were
  active the last time btpd was shut down.
<div style="margin-left: 4.00ex;">
<pre>
<b>$ btpd -p 12345 --bw-out 200 --max-peers 40 --empty-start</b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="TROUBLESHOOTING"><a class="selflink" href="#TROUBLESHOOTING">TROUBLESHOOTING</a></h1>
If <b>btpd</b> has shut down for some unknown reason, check the logfile for
  possible clues.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Known bugs are listed at <i>http://github.com/queueRAM/btpd/issues</i>
<div style="height: 1.00em;">&#x00A0;</div>
Before submitting a bug report, please verify that you are running the latest
  version of btpd.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Current maintainers:
<div style="height: 1.00em;">&#x00A0;</div>
- Marq Schneider &lt; <i>queueRAM@gmail.com</i>&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Past contributors:
<div style="height: 1.00em;">&#x00A0;</div>
- Richard Nyberg &lt; <i>btpd@murmeldjur.se</i>&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b><b>btcli</b>(1)</b> <b><b>btinfo</b>(1)</b>
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2010-07-31</td>
    <td class="foot-os">BitTorrent Protocol Daemon 0.16</td>
  </tr>
</table>
</body>
</html>
