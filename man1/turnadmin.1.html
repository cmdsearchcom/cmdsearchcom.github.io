<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TURN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TURN(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">TURN(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="GENERAL_INFORMATION"><a class="selflink" href="#GENERAL_INFORMATION">GENERAL
  INFORMATION</a></h1>
<i>turnadmin</i> is a TURN administration tool. This tool can be used to manage
  the user accounts (add/remove users, generate TURN keys for the users). For
  security reasons, we do not recommend storing passwords openly. The better
  option is to use pre-processed &quot;keys&quot; which are then used for
  authentication. These keys are generated by <i>turnadmin</i>. Turnadmin is a
  link to <i>turnserver</i> binary, but <i>turnadmin</i> performs different
  functions.
<div class="Pp"></div>
Options note: <i>turnadmin</i> has long and short option names, for most
  options. Some options have only long form, some options have only short form.
  Their syntax somewhat different, if an argument is required:
<div class="Pp"></div>
The short form must be used as this (for example):
<div class="Pp"></div>
<pre>
  $ turnadmin -u &lt;username&gt; ...
<div class="Pp"></div>
</pre>
The long form equivalent must use the &quot;=&quot; character:
<div class="Pp"></div>
<pre>
  $ turnadmin --user=&lt;username&gt; ...
<div class="Pp"></div>
</pre>
If this is a flag option (no argument required) then their usage are the same,
  for example:
<div class="Pp"></div>
<pre>
 $ turnadmin -k ...
<div class="Pp"></div>
</pre>
is equivalent to:
<div class="Pp"></div>
<pre>
 $ turnadmin --key ...
<div class="Pp"></div>
</pre>
You have always the use the <b>-r</b> &lt;realm&gt; option with commands for
  long term credentials - because data for multiple realms can be stored in the
  same database.
<div class="Pp"></div>
=====================================
<h2 class="Ss" title="Ss" id="NAME"><a class="selflink" href="#NAME">NAME</a></h2>
<b></b> <b></b><b>turnadmin </b><b>- a TURN relay administration tool.</b>
  <b></b> <b></b>
<h2 class="Ss" title="Ss" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h2>
$ <i>turnadmin</i> [command] [options]
<div class="Pp"></div>
$ <i>turnadmin</i> [ <b>-h</b> | <b>--help</b>]
<h2 class="Ss" title="Ss" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Commands:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-P</b>, <b>--generate-encrypted-password</b></b></dt>
  <dd class="It-tag">Generate and print to the standard output an encrypted form
      of a password (for web admin user or CLI). The value then can be used as a
      safe key for the password storage on disk or in the database. Every
      invocation for the same password produces a different result. The for mat
      of the encrypted password is:
      $5$&lt;...salt...&gt;$&lt;...sha256(salt+password)...&gt;. Salt is 16
      characters, the sha256 output is 64 characters. Character 5 is the
      algorithm id (sha256). Only sha256 is supported as the hash function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k</b>, <b>--key</b></b></dt>
  <dd class="It-tag">Generate key for a long-term credentials mechanism
    user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-a</b>, <b>--add</b></b></dt>
  <dd class="It-tag">Add or update a long-term user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-A</b>, <b>--add-admin</b></b></dt>
  <dd class="It-tag">Add or update an admin user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b>, <b>--delete</b></b></dt>
  <dd class="It-tag">Delete a long-term user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-D</b>, <b>--delete-admin</b></b></dt>
  <dd class="It-tag">Delete an admin user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-l</b>, <b>--list</b></b></dt>
  <dd class="It-tag">List long-term users in the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-L</b>, <b>--list-admin</b></b></dt>
  <dd class="It-tag">List admin users in the database.</dd>
</dl>
<div class="Pp"></div>
<b>-s</b>, <b>--set-secret</b>=&lt;value&gt; Add shared secret for TURN RESP API
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-S</b>, <b>--show-secret</b></b></dt>
  <dd class="It-tag">Show stored shared secrets for TURN REST API</dd>
</dl>
<div class="Pp"></div>
<b>-X</b>, <b>--delete-secret</b>=&lt;value&gt; Delete a shared secret.
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--delete-all_secrets</b></b></dt>
  <dd class="It-tag">Delete all shared secrets for REST API.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-O</b>, <b>--add-origin</b></b></dt>
  <dd class="It-tag">Add origin-to-realm relation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-R</b>, <b>--del-origin</b></b></dt>
  <dd class="It-tag">Delete origin-to-realm relation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-I</b>, <b>--list-origins</b></b></dt>
  <dd class="It-tag">List origin-to-realm relations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-g</b>, <b>--set-realm-option</b></b></dt>
  <dd class="It-tag">Set realm params: max-bps, total-quota, user-quota.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-G</b>, <b>--list-realm-options</b></b></dt>
  <dd class="It-tag">List realm params.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Options with required values:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-b</b>, <b>--db</b>, <b>--userdb</b></b></dt>
  <dd class="It-tag">SQLite user database file name (default - /var/db/turndb or
      /usr/local/var/db/turndb or /var/lib/turn/turndb). See the same option in
      the <i>turnserver</i> section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e</b>, <b>--psql-userdb</b></b></dt>
  <dd class="It-tag">PostgreSQL user database connection string. See the
      <b>--psql-userdb</b> option in the <i>turnserver</i> section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-M</b>, <b>--mysql-userdb</b></b></dt>
  <dd class="It-tag">MySQL user database connection string. See the
      <b>--mysql-userdb</b> option in the <i>turnserver</i> section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-J</b>, <b>--mongo-userdb</b></b></dt>
  <dd class="It-tag">MongoDB user database connection string. See the
      <b>--mysql-mongo</b> option in the <i>turnserver</i> section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-N</b>, <b>--redis-userdb</b></b></dt>
  <dd class="It-tag">Redis user database connection string. See the
      <b>--redis-userdb</b> option in the <i>turnserver</i> section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-u</b>, <b>--user</b></b></dt>
  <dd class="It-tag">User name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-r</b>, <b>--realm</b></b></dt>
  <dd class="It-tag">Realm.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-p</b>, <b>--password</b></b></dt>
  <dd class="It-tag">Password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-o</b>, <b>--origin</b></b></dt>
  <dd class="It-tag">Origin</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--max-bps</b></b></dt>
  <dd class="It-tag">Set value of realm's max-bps parameter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--total-quota</b></b></dt>
  <dd class="It-tag">Set value of realm's total-quota parameter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--user-quota</b></b></dt>
  <dd class="It-tag">Set value of realm's user-quota parameter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>, <b>--help</b></b></dt>
  <dd class="It-tag">Help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Command examples:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
Generate an encrypted form of a password:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-P</b> <b>-p</b> &lt;password&gt;
<div class="Pp"></div>
Generate a key:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-k</b> <b>-u</b> &lt;username&gt; <b>-r</b> &lt;realm&gt;
  <b>-p</b> &lt;password&gt;
<div class="Pp"></div>
Add/update a user in the in the database:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-a</b> [<b>-b</b> &lt;userdb-file&gt; | <b>-e</b>
  &lt;db-connection-string&gt; | <b>-M</b> &lt;db-connection-string&gt; |
  <b>-N</b> &lt;db-connection-string&gt; ] <b>-u</b> &lt;username&gt; <b>-r</b>
  &lt;realm&gt; <b>-p</b> &lt;password&gt;
<div class="Pp"></div>
Delete a user from the database:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-d</b> [<b>-b</b> &lt;userdb-file&gt; | <b>-e</b>
  &lt;db-connection-string&gt; | <b>-M</b> &lt;db-connection-string&gt; |
  <b>-N</b> &lt;db-connection-string&gt; ] <b>-u</b> &lt;username&gt; <b>-r</b>
  &lt;realm&gt;
<div class="Pp"></div>
List all long-term users in MySQL database:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-l</b>
  <b>--mysql-userdb</b>=&quot;&lt;db-connection-string&gt;&quot; <b>-r</b>
  &lt;realm&gt;
<div class="Pp"></div>
List all admin users in Redis database:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-L</b>
  <b>--redis-userdb</b>=&quot;&lt;db-connection-string&gt;&quot;
<div class="Pp"></div>
Set secret in MySQL database:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-s</b> &lt;secret&gt;
  <b>--mysql-userdb</b>=&quot;&lt;db-connection-string&gt;&quot; <b>-r</b>
  &lt;realm&gt;
<div class="Pp"></div>
Show secret stored in PostgreSQL database:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-S</b>
  <b>--psql-userdb</b>=&quot;&lt;db-connection-string&gt;&quot; <b>-r</b>
  &lt;realm&gt;
<div class="Pp"></div>
Set origin-to-realm relation in MySQL database:
<div class="Pp"></div>
$ <i>turnadmin</i>
  <b>--mysql-userdb</b>=&quot;&lt;db-connection-string&gt;&quot; <b>-r</b>
  &lt;realm&gt; <b>-o</b> &lt;origin&gt;
<div class="Pp"></div>
Delete origin-to-realm relation from Redis DB:
<div class="Pp"></div>
$ <i>turnadmin</i>
  <b>--redis-userdb</b>=&quot;&lt;db-connection-string&gt;&quot; <b>-o</b>
  &lt;origin&gt;
<div class="Pp"></div>
List all origin-to-realm relations in Redis DB:
<div class="Pp"></div>
$ <i>turnadmin</i>
  <b>--redis-userdb</b>=&quot;&lt;db-connection-string&gt;&quot; <b>-I</b>
<div class="Pp"></div>
List the origin-to-realm relations in PostgreSQL DB for a single realm:
<div class="Pp"></div>
$ <i>turnadmin</i> <b>--psql-userdb</b>=&quot;&lt;db-connection-string&gt;&quot;
  <b>-I</b> <b>-r</b> &lt;realm&gt;
<dl class="Bl-tag">
  <dt class="It-tag"><b>Help:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
$ <i>turnadmin</i> <b>-h</b>
<div class="Pp"></div>
=======================================
<h2 class="Ss" title="Ss" id="DOCS"><a class="selflink" href="#DOCS">DOCS</a></h2>
After installation, run the command:
<div class="Pp"></div>
$ man <i>turnadmin</i>
<div class="Pp"></div>
or in the project root directory:
<div class="Pp"></div>
$ man <b>-M</b> man <i>turnadmin</i>
<div class="Pp"></div>
to see the man page.
<div class="Pp"></div>
=====================================
<h2 class="Ss" title="Ss" id="FILES"><a class="selflink" href="#FILES">FILES</a></h2>
/etc/turnserver.conf
<div class="Pp"></div>
/var/db/turndb
<div class="Pp"></div>
/usr/local/var/db/turndb
<div class="Pp"></div>
/var/lib/turn/turndb
<div class="Pp"></div>
/usr/local/etc/turnserver.conf
<div class="Pp"></div>
=====================================
<h2 class="Ss" title="Ss" id="DIRECTORIES"><a class="selflink" href="#DIRECTORIES">DIRECTORIES</a></h2>
/usr/local/share/ <i>turnserver</i>
<div class="Pp"></div>
/usr/local/share/doc/ <i>turnserver</i>
<div class="Pp"></div>
/usr/local/share/examples/ <i>turnserver</i>
<div class="Pp"></div>
======================================
<h2 class="Ss" title="Ss" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h2>
<i>turnserver</i>, <i>turnutils</i>
<div class="Pp"></div>
======================================
<h2 class="Ss" title="Ss" id="WEB_RESOURCES"><a class="selflink" href="#WEB_RESOURCES">WEB
  RESOURCES</a></h2>
project page:
<div class="Pp"></div>
https://github.com/coturn/coturn/
<div class="Pp"></div>
Wiki page:
<div class="Pp"></div>
https://github.com/coturn/coturn/wiki
<div class="Pp"></div>
forum:
<div class="Pp"></div>
https://groups.google.com/forum/?fromgroups=#!forum/turn-server-project-rfc5766-turn-server/
<div class="Pp"></div>
======================================
<h2 class="Ss" title="Ss" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h2>
Oleg Moskalenko &lt;mom040267@gmail.com&gt;
<div class="Pp"></div>
Gabor Kovesdan http://kovesdan.org/
<div class="Pp"></div>
Daniel Pocock http://danielpocock.com/
<div class="Pp"></div>
John Selbie (jselbie@gmail.com)
<div class="Pp"></div>
Lee Sylvester &lt;lee@designrealm.co.uk&gt;
<div class="Pp"></div>
Erik Johnston &lt;erikj@openmarket.com&gt;
<div class="Pp"></div>
Roman Lisagor &lt;roman@demonware.net&gt;
<div class="Pp"></div>
Vladimir Tsanev &lt;tsachev@gmail.com&gt;
<div class="Pp"></div>
Po-sheng Lin &lt;personlin118@gmail.com&gt;
<div class="Pp"></div>
Peter Dunkley &lt;peter.dunkley@acision.com&gt;
<div class="Pp"></div>
Mutsutoshi Yoshimoto &lt;mutsutoshi.yoshimoto@mixi.co.jp&gt;
<div class="Pp"></div>
Federico Pinna &lt;fpinna@vivocha.com&gt;
<div class="Pp"></div>
Bradley T. Hughes &lt;bradleythughes@fastmail.fm&gt;
<div class="Pp"></div>
Mihaly Meszaros &lt;bakfitty@gmail.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">25 September 2016</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
