<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:09 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TURN(1) TURN(1)</p>

<p style="margin-top: 1em">GENERAL INFORMATION <br>
turnadmin is a TURN administration tool. This tool can be
used to manage the user accounts (add/remove users, generate
TURN keys for the users). For security reasons, we do not
<br>
recommend storing passwords openly. The better option is to
use pre-processed &quot;keys&quot; which are then used for
authentication. These keys are generated by turnadmin.
Turnadmin is <br>
a link to turnserver binary, but turnadmin performs
different functions.</p>

<p style="margin-top: 1em">Options note: turnadmin has long
and short option names, for most options. Some options have
only long form, some options have only short form. Their
syntax somewhat different, <br>
if an argument is required:</p>

<p style="margin-top: 1em">The short form must be used as
this (for example):</p>

<p style="margin-top: 1em">$ turnadmin -u &lt;username&gt;
...</p>

<p style="margin-top: 1em">The long form equivalent must
use the &quot;=&quot; character:</p>

<p style="margin-top: 1em">$ turnadmin
--user=&lt;username&gt; ...</p>

<p style="margin-top: 1em">If this is a flag option (no
argument required) then their usage are the same, for
example:</p>

<p style="margin-top: 1em">$ turnadmin -k ...</p>

<p style="margin-top: 1em">is equivalent to:</p>

<p style="margin-top: 1em">$ turnadmin --key ...</p>

<p style="margin-top: 1em">You have always the use the -r
&lt;realm&gt; option with commands for long term credentials
- because data for multiple realms can be stored in the same
database.</p>


<p style="margin-top: 1em">=====================================</p>

<p style="margin-top: 1em">NAME <br>
turnadmin - a TURN relay administration tool.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
$ turnadmin [command] [options]</p>

<p style="margin-top: 1em">$ turnadmin [ -h | --help]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Commands:</p>

<p style="margin-top: 1em">-P,
--generate-encrypted-password <br>
Generate and print to the standard output an encrypted form
of a password (for web admin user or CLI). The value then
can be used as a safe key for the password storage <br>
on disk or in the database. Every invocation for the same
password produces a different result. The for mat of the
encrypted password is: <br>
$5$&lt;...salt...&gt;$&lt;...sha256(salt+password)...&gt;.
Salt is 16 characters, the sha256 output is 64 characters.
Character 5 is the algorithm id (sha256). Only sha256 is
sup&acirc; <br>
ported as the hash function.</p>

<p style="margin-top: 1em">-k, --key <br>
Generate key for a long-term credentials mechanism user.</p>

<p style="margin-top: 1em">-a, --add <br>
Add or update a long-term user.</p>

<p style="margin-top: 1em">-A, --add-admin <br>
Add or update an admin user.</p>

<p style="margin-top: 1em">-d, --delete <br>
Delete a long-term user.</p>

<p style="margin-top: 1em">-D, --delete-admin <br>
Delete an admin user.</p>

<p style="margin-top: 1em">-l, --list <br>
List long-term users in the database.</p>

<p style="margin-top: 1em">-L, --list-admin <br>
List admin users in the database.</p>

<p style="margin-top: 1em">-s, --set-secret=&lt;value&gt;
Add shared secret for TURN RESP API</p>

<p style="margin-top: 1em">-S, --show-secret <br>
Show stored shared secrets for TURN REST API</p>

<p style="margin-top: 1em">-X,
--delete-secret=&lt;value&gt; Delete a shared secret.</p>

<p style="margin-top: 1em">--delete-all_secrets <br>
Delete all shared secrets for REST API.</p>

<p style="margin-top: 1em">-O, --add-origin <br>
Add origin-to-realm relation.</p>

<p style="margin-top: 1em">-R, --del-origin <br>
Delete origin-to-realm relation.</p>

<p style="margin-top: 1em">-I, --list-origins <br>
List origin-to-realm relations.</p>

<p style="margin-top: 1em">-g, --set-realm-option <br>
Set realm params: max-bps, total-quota, user-quota.</p>

<p style="margin-top: 1em">-G, --list-realm-options <br>
List realm params.</p>

<p style="margin-top: 1em">Options with required
values:</p>

<p style="margin-top: 1em">-b, --db, --userdb <br>
SQLite user database file name (default - /var/db/turndb or
/usr/local/var/db/turndb or /var/lib/turn/turndb). See the
same option in the turnserver section.</p>

<p style="margin-top: 1em">-e, --psql-userdb <br>
PostgreSQL user database connection string. See the
--psql-userdb option in the turnserver section.</p>

<p style="margin-top: 1em">-M, --mysql-userdb <br>
MySQL user database connection string. See the
--mysql-userdb option in the turnserver section.</p>

<p style="margin-top: 1em">-J, --mongo-userdb <br>
MongoDB user database connection string. See the
--mysql-mongo option in the turnserver section.</p>

<p style="margin-top: 1em">-N, --redis-userdb <br>
Redis user database connection string. See the
--redis-userdb option in the turnserver section.</p>

<p style="margin-top: 1em">-u, --user <br>
User name.</p>

<p style="margin-top: 1em">-r, --realm <br>
Realm.</p>

<p style="margin-top: 1em">-p, --password <br>
Password.</p>

<p style="margin-top: 1em">-o, --origin <br>
Origin</p>

<p style="margin-top: 1em">--max-bps <br>
Set value of realm&rsquo;s max-bps parameter.</p>

<p style="margin-top: 1em">--total-quota <br>
Set value of realm&rsquo;s total-quota parameter.</p>

<p style="margin-top: 1em">--user-quota <br>
Set value of realm&rsquo;s user-quota parameter.</p>

<p style="margin-top: 1em">-h, --help <br>
Help.</p>

<p style="margin-top: 1em">Command examples:</p>

<p style="margin-top: 1em">Generate an encrypted form of a
password:</p>

<p style="margin-top: 1em">$ turnadmin -P -p
&lt;password&gt;</p>

<p style="margin-top: 1em">Generate a key:</p>

<p style="margin-top: 1em">$ turnadmin -k -u
&lt;username&gt; -r &lt;realm&gt; -p &lt;password&gt;</p>

<p style="margin-top: 1em">Add/update a user in the in the
database:</p>

<p style="margin-top: 1em">$ turnadmin -a [-b
&lt;userdb-file&gt; | -e &lt;db-connection-string&gt; | -M
&lt;db-connection-string&gt; | -N
&lt;db-connection-string&gt; ] -u &lt;username&gt; -r
&lt;realm&gt; -p &lt;password&gt;</p>

<p style="margin-top: 1em">Delete a user from the
database:</p>

<p style="margin-top: 1em">$ turnadmin -d [-b
&lt;userdb-file&gt; | -e &lt;db-connection-string&gt; | -M
&lt;db-connection-string&gt; | -N
&lt;db-connection-string&gt; ] -u &lt;username&gt; -r
&lt;realm&gt;</p>

<p style="margin-top: 1em">List all long-term users in
MySQL database:</p>

<p style="margin-top: 1em">$ turnadmin -l
--mysql-userdb=&quot;&lt;db-connection-string&gt;&quot; -r
&lt;realm&gt;</p>

<p style="margin-top: 1em">List all admin users in Redis
database:</p>

<p style="margin-top: 1em">$ turnadmin -L
--redis-userdb=&quot;&lt;db-connection-string&gt;&quot;</p>

<p style="margin-top: 1em">Set secret in MySQL
database:</p>

<p style="margin-top: 1em">$ turnadmin -s &lt;secret&gt;
--mysql-userdb=&quot;&lt;db-connection-string&gt;&quot; -r
&lt;realm&gt;</p>

<p style="margin-top: 1em">Show secret stored in PostgreSQL
database:</p>

<p style="margin-top: 1em">$ turnadmin -S
--psql-userdb=&quot;&lt;db-connection-string&gt;&quot; -r
&lt;realm&gt;</p>

<p style="margin-top: 1em">Set origin-to-realm relation in
MySQL database:</p>

<p style="margin-top: 1em">$ turnadmin
--mysql-userdb=&quot;&lt;db-connection-string&gt;&quot; -r
&lt;realm&gt; -o &lt;origin&gt;</p>

<p style="margin-top: 1em">Delete origin-to-realm relation
from Redis DB:</p>

<p style="margin-top: 1em">$ turnadmin
--redis-userdb=&quot;&lt;db-connection-string&gt;&quot; -o
&lt;origin&gt;</p>

<p style="margin-top: 1em">List all origin-to-realm
relations in Redis DB:</p>

<p style="margin-top: 1em">$ turnadmin
--redis-userdb=&quot;&lt;db-connection-string&gt;&quot;
-I</p>

<p style="margin-top: 1em">List the origin-to-realm
relations in PostgreSQL DB for a single realm:</p>

<p style="margin-top: 1em">$ turnadmin
--psql-userdb=&quot;&lt;db-connection-string&gt;&quot; -I -r
&lt;realm&gt;</p>

<p style="margin-top: 1em">Help:</p>

<p style="margin-top: 1em">$ turnadmin -h</p>


<p style="margin-top: 1em">=======================================</p>

<p style="margin-top: 1em">DOCS <br>
After installation, run the command:</p>

<p style="margin-top: 1em">$ man turnadmin</p>

<p style="margin-top: 1em">or in the project root
directory:</p>

<p style="margin-top: 1em">$ man -M man turnadmin</p>

<p style="margin-top: 1em">to see the man page.</p>


<p style="margin-top: 1em">=====================================</p>

<p style="margin-top: 1em">FILES <br>
/etc/turnserver.conf</p>

<p style="margin-top: 1em">/var/db/turndb</p>

<p style="margin-top: 1em">/usr/local/var/db/turndb</p>

<p style="margin-top: 1em">/var/lib/turn/turndb</p>


<p style="margin-top: 1em">/usr/local/etc/turnserver.conf</p>


<p style="margin-top: 1em">=====================================</p>

<p style="margin-top: 1em">DIRECTORIES <br>
/usr/local/share/turnserver</p>


<p style="margin-top: 1em">/usr/local/share/doc/turnserver</p>


<p style="margin-top: 1em">/usr/local/share/examples/turnserver</p>


<p style="margin-top: 1em">======================================</p>

<p style="margin-top: 1em">SEE ALSO <br>
turnserver, turnutils</p>


<p style="margin-top: 1em">======================================</p>

<p style="margin-top: 1em">WEB RESOURCES <br>
project page:</p>


<p style="margin-top: 1em">https://github.com/coturn/coturn/</p>

<p style="margin-top: 1em">Wiki page:</p>


<p style="margin-top: 1em">https://github.com/coturn/coturn/wiki</p>

<p style="margin-top: 1em">forum:</p>


<p style="margin-top: 1em">https://groups.google.com/forum/?fromgroups=#!forum/turn-server-project-rfc5766-turn-server/</p>


<p style="margin-top: 1em">======================================</p>

<p style="margin-top: 1em">AUTHORS <br>
Oleg Moskalenko &lt;mom040267@gmail.com&gt;</p>

<p style="margin-top: 1em">Gabor Kovesdan
http://kovesdan.org/</p>

<p style="margin-top: 1em">Daniel Pocock
http://danielpocock.com/</p>

<p style="margin-top: 1em">John Selbie
(jselbie@gmail.com)</p>

<p style="margin-top: 1em">Lee Sylvester
&lt;lee@designrealm.co.uk&gt;</p>

<p style="margin-top: 1em">Erik Johnston
&lt;erikj@openmarket.com&gt;</p>

<p style="margin-top: 1em">Roman Lisagor
&lt;roman@demonware.net&gt;</p>

<p style="margin-top: 1em">Vladimir Tsanev
&lt;tsachev@gmail.com&gt;</p>

<p style="margin-top: 1em">Po-sheng Lin
&lt;personlin118@gmail.com&gt;</p>

<p style="margin-top: 1em">Peter Dunkley
&lt;peter.dunkley@acision.com&gt;</p>

<p style="margin-top: 1em">Mutsutoshi Yoshimoto
&lt;mutsutoshi.yoshimoto@mixi.co.jp&gt;</p>

<p style="margin-top: 1em">Federico Pinna
&lt;fpinna@vivocha.com&gt;</p>

<p style="margin-top: 1em">Bradley T. Hughes
&lt;bradleythughes@fastmail.fm&gt;</p>

<p style="margin-top: 1em">Mihaly Meszaros
&lt;bakfitty@gmail.com&gt;</p>

<p style="margin-top: 1em">25 September 2016 TURN(1)</p>
<hr>
</body>
</html>
