<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CHKHELP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CHKHELP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">CHKHELP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>chkhelp</b> - check performance metrics help text files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>$PCP_BINADM_DIR/chkhelp</b> [ <b>-eHiOp</b>] [ <b>-n</b> <i>pmnsfile</i>] [
  <b>-v</b> <i>version</i>] <i>helpfile</i> [ <i>metricname</i> ...]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>chkhelp</b> checks the consistency of Performance Co-Pilot help text files
  generated by <b>newhelp</b>(1) and used by Performance Metric Domain Agents
  (PMDAs). The checking involves scanning the files, and optionally displaying
  selected entries.
<div class="Pp"></div>
The files <i>helpfile</i><b>.dir</b> and <i>helpfile</i><b>.pag</b> are created
  by <b>newhelp</b>(1), and are assumed to already exist.
<div class="Pp"></div>
Without any options or <i>metricname</i> arguments, <b>chkhelp</b> silently
  verifies the structural integrity of the help files.
<div class="Pp"></div>
If any <i>metricname</i> arguments are specified, then the help entries for only
  the corresponding metrics will be processed.
<div class="Pp"></div>
If no <i>metricname</i> arguments are specified, then at least one of the
  options <b>-i</b> or <b>-p</b> must be given. The <b>-i</b> option causes
  entries for all instance domains to be processed (ignoring entries for
  performance metrics). The <b>-p</b> option causes entries for all metrics to
  be displayed (ignoring entries for instance domains).
<div class="Pp"></div>
When metric entries are to be processed (via either the <i>metricname</i>
  arguments or the <b>-p</b> option or the <b>-i</b> option), the <b>-O</b> and
  <b>-H</b> options request the display of the one-line and verbose help text
  respectively. The default is <b>-O</b>.
<div class="Pp"></div>
Although historically there have been multiple help text file formats, the only
  format currently supported using the <b>-v</b> option is <i>version</i> 2, and
  this is the default if no <b>-v</b> flag is provided.
<div class="Pp"></div>
Normally <b>chkhelp</b> operates on the default Performance Metrics Name Space
  (PMNS), however if the <b>-n</b> option is specified an alternative namespace
  is loaded from the file <i>pmnsfile</i>.
<div class="Pp"></div>
The <b>-e</b> option provides an existence check where all of the specified
  metrics from the PMNS (note, not from <i>helpfile</i>) are scanned, and only
  the names of the metrics for which <b>no</b> help text exists are reported.
  The <b>-e</b> option is mutually exclusive with the <b>-i</b> and/or <b>-p</b>
  options.
<h1 class="Sh" title="Sh" id="PCP_ENVIRONMENT"><a class="selflink" href="#PCP_ENVIRONMENT">PCP
  ENVIRONMENT</a></h1>
Environment variables with the prefix <b>PCP_</b> are used to parameterize the
  file and directory names used by PCP. On each installation, the file
  <i>/etc/pcp.conf</i> contains the local values for these variables. The
  <b>$PCP_CONF</b> variable may be used to specify an alternative configuration
  file, as described in <b>pcp.conf</b>(5).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>newhelp</b>(1), <b>PMAPI</b>(3), <b>pmLookupInDomText</b>(3),
  <b>pmLookupText</b>(3), <b>pcp.conf</b>(5) and <b>pcp.env</b>(5).
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
There are all sorts of reasons a help database may be inconsistent, the most
  likely is that a performance metric in the database is not defined in the
  loaded PMNS.</div>
<table class="foot">
  <tr>
    <td class="foot-date">PCP</td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
