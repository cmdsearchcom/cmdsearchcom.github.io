<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DUFF(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DUFF(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">DUFF(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">duff</b> &#x2014; <span class="Nd" title="Nd">duplicate
  file finder</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">duff</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-0HLPaeqprtz</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-d</b>
      <var class="Ar" title="Ar">function</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-f</b>
      <var class="Ar" title="Ar">format</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-l</b>
      <var class="Ar" title="Ar">limit</var></span>]
      [<span class="Op"><var class="Ar" title="Ar">file ...</var></span>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">duff</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-h</b></span>]</td>
  </tr>
</table>
<br/>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">duff</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-v</b></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b class="Nm" title="Nm">duff</b> utility reports clusters of duplicates in
  the specified files and/or directories. In the default mode,
  <b class="Nm" title="Nm">duff</b> prints a customizable header, followed by
  the names of all the files in the cluster. In excess mode,
  <b class="Nm" title="Nm">duff</b> does not print a header, but instead for
  each cluster prints the names of all but the first of the files it includes.
<div class="Pp"></div>
If no files are specified as arguments, <b class="Nm" title="Nm">duff</b> reads
  file names from stdin.
<div class="Pp"></div>
Note that as of version 0.4, <b class="Nm" title="Nm">duff</b> ignores symbolic
  links to files, as that behavior was conceptually broken. Therefore, the
  <b class="Fl" title="Fl">-H</b>, <b class="Fl" title="Fl">-L</b> and
  <b class="Fl" title="Fl">-P</b> options now apply only to directories.
<div class="Pp"></div>
The following options are available:
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#0"><b class="Fl" title="Fl" id="0">-0</b></a></dt>
  <dd class="It-tag">If reading file names from stdin, assume they are
      null-terminated, instead of separated by newlines. Also, when printing
      file names and cluster headers, terminate them with null characters
      instead of newlines.
    <div class="Pp"></div>
    This is useful for file names containing whitespace or other non-standard
      characters.</dd>
  <dt class="It-tag"><a class="selflink" href="#H"><b class="Fl" title="Fl" id="H">-H</b></a></dt>
  <dd class="It-tag">Follow symbolic links listed on the command line. This
      overrides any previous <b class="Fl" title="Fl">-L</b> or
      <b class="Fl" title="Fl">-P</b> option. Note that this only applies to
      directories, as symbolic links to files are never followed.</dd>
  <dt class="It-tag"><a class="selflink" href="#L"><b class="Fl" title="Fl" id="L">-L</b></a></dt>
  <dd class="It-tag">Follow all symbolic links. This overrides any previous
      <b class="Fl" title="Fl">-H</b> or <b class="Fl" title="Fl">-P</b> option.
      Note that this only applies to directories, as symbolic links to files are
      never followed.</dd>
  <dt class="It-tag"><a class="selflink" href="#P"><b class="Fl" title="Fl" id="P">-P</b></a></dt>
  <dd class="It-tag">Don't follow any symbolic links. This overrides any
      previous <b class="Fl" title="Fl">-H</b> or
      <b class="Fl" title="Fl">-L</b> option. This is the default. Note that
      this only applies to directories, as symbolic links to files are never
      followed.</dd>
  <dt class="It-tag"><a class="selflink" href="#a"><b class="Fl" title="Fl" id="a">-a</b></a></dt>
  <dd class="It-tag">Include hidden files and directories when searching
      recursively.</dd>
  <dt class="It-tag"><a class="selflink" href="#d"><b class="Fl" title="Fl" id="d">-d</b></a>
    <var class="Ar" title="Ar">function</var></dt>
  <dd class="It-tag">The message digest function to use. The supported functions
      are <var class="Ar" title="Ar">sha1</var>,
      <var class="Ar" title="Ar">sha256</var>,
      <var class="Ar" title="Ar">sha384</var> and
      <var class="Ar" title="Ar">sha512</var>. The default is
      <var class="Ar" title="Ar">sha1</var>.</dd>
  <dt class="It-tag"><a class="selflink" href="#e"><b class="Fl" title="Fl" id="e">-e</b></a></dt>
  <dd class="It-tag">Excess mode. List all but one file from each cluster of
      duplicates. Also suppresses output of the cluster header. This is useful
      when you want to automate removal of duplicate files and don't care which
      duplicates are removed.</dd>
  <dt class="It-tag"><a class="selflink" href="#f"><b class="Fl" title="Fl" id="f">-f</b></a>
    <var class="Ar" title="Ar">format</var></dt>
  <dd class="It-tag">Set the format of the cluster header. If the header is set
      to the empty string, no header line is printed.
    <div class="Pp"></div>
    The following escape sequences are available:
    <dl class="Bl-hang" style="margin-left: 4.00ex;">
      <dt class="It-hang"><a class="selflink" href="#%n"><b class="Cm" title="Cm" id="%n">%n</b></a></dt>
      <dd class="It-hang">The number of files in the cluster.</dd>
      <dt class="It-hang"><a class="selflink" href="#%c"><b class="Cm" title="Cm" id="%c">%c</b></a></dt>
      <dd class="It-hang">A legacy synonym for <b class="Cm" title="Cm">%d</b>,
          for compatibility reasons.</dd>
      <dt class="It-hang"><a class="selflink" href="#%d"><b class="Cm" title="Cm" id="%d">%d</b></a></dt>
      <dd class="It-hang">The message digest of files in the cluster. This may
          not be combined with <b class="Fl" title="Fl">-t</b> as no digest is
          calculated.</dd>
      <dt class="It-hang"><a class="selflink" href="#%i"><b class="Cm" title="Cm" id="%i">%i</b></a></dt>
      <dd class="It-hang">The one-based index of the file cluster.</dd>
      <dt class="It-hang"><a class="selflink" href="#%s"><b class="Cm" title="Cm" id="%s">%s</b></a></dt>
      <dd class="It-hang">The size, in bytes, of a file in the cluster.</dd>
      <dt class="It-hang"><a class="selflink" href="#%%"><b class="Cm" title="Cm" id="%%">%%</b></a></dt>
      <dd class="It-hang">A &#x2018;%&#x2019; character.</dd>
    </dl>
    <div class="Pp"></div>
    The default format string when using <b class="Fl" title="Fl">-t</b> is:
    <div class="Pp"></div>
    <div class="D1"><code class="Li">%n files in cluster %i (%s
      bytes)</code></div>
    <div class="Pp"></div>
    The default format string for other modes is:
    <div class="Pp"></div>
    <div class="D1"><code class="Li">%n files in cluster %i (%s bytes, digest
      %d)</code></div>
  </dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">Display help information and exit.</dd>
  <dt class="It-tag"><a class="selflink" href="#l"><b class="Fl" title="Fl" id="l">-l</b></a>
    <var class="Ar" title="Ar">limit</var></dt>
  <dd class="It-tag">The minimum size of files to be sampled. If the size of
      files in a cluster is equal or greater than the specified limit,
      <b class="Nm" title="Nm">duff</b> will sample and compare a few bytes from
      the start of each file before calculating a full digest. This is stricly
      an optimization and does not affect which files are considered by duff.
      The default limit is zero bytes, i.e. to use sampling on all files.</dd>
  <dt class="It-tag"><a class="selflink" href="#q"><b class="Fl" title="Fl" id="q">-q</b></a></dt>
  <dd class="It-tag">Quiet mode. Suppress warnings and error messages.</dd>
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a></dt>
  <dd class="It-tag">Physical mode. Make <b class="Nm" title="Nm">duff</b>
      consider physical files instead of hard links. If specified, multiple hard
      links to the same physical file will not be reported as duplicates.</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a></dt>
  <dd class="It-tag">Recursively search into all specified directories.</dd>
  <dt class="It-tag"><a class="selflink" href="#t"><b class="Fl" title="Fl" id="t">-t</b></a></dt>
  <dd class="It-tag">Thorough mode. Distrust digests as a guarantee for
      equality. In thorough mode, <b class="Nm" title="Nm">duff</b> compares
      files byte by byte when their sizes match.</dd>
  <dt class="It-tag"><a class="selflink" href="#v"><b class="Fl" title="Fl" id="v">-v</b></a></dt>
  <dd class="It-tag">Display version information and exit.</dd>
  <dt class="It-tag"><a class="selflink" href="#z"><b class="Fl" title="Fl" id="z">-z</b></a></dt>
  <dd class="It-tag">Do not consider empty files to be equal. This option
      prevents empty files from being reported as duplicates.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The command:
<div class="D1"><code class="Li">duff -r foo/</code></div>
<div class="Pp"></div>
lists all duplicate files in the directory foo and its subdirectories.
<div class="Pp"></div>
The command:
<div class="D1"><code class="Li">duff -e0 * | xargs -0 rm</code></div>
<div class="Pp"></div>
removes all duplicate files in the current directory. Note that you have no
  control over which files in each cluster that are selected by
  <b class="Fl" title="Fl">-e</b> (excess mode). Use with care.
<div class="Pp"></div>
The command:
<div class="D1"><code class="Li">find . -name '*.h' -type f | duff</code></div>
<div class="Pp"></div>
lists all duplicate header files in the current directory and its
  subdirectories.
<div class="Pp"></div>
The command:
<div class="D1"><code class="Li">find . -name '*.h' -type f -print0 | duff -0 |
  xargs -0 -n1 echo</code></div>
<div class="Pp"></div>
lists all duplicate header files in the current directory and its
  subdirectories, correctly handling file names containing whitespace. Note the
  use of xargs and echo to remove the null separators again before listing.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The <b class="Nm" title="Nm">duff</b> utility exits&#x00A0;0 on success,
  and&#x00A0;&gt;0 if an error occurs.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">find(1)</a>, <a class="Xr" title="Xr">xargs(1)</a>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<span class="An" title="An">Camilla Berglund</span>
  &#x27E8;elmindreda@elmindreda.org&#x27E9;
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
<b class="Nm" title="Nm">duff</b> doesn't check whether the same file has been
  specified twice on the command line. This will lead it to report files listed
  multiple times as duplicates when not using <b class="Fl" title="Fl">-p</b>
  (physical mode). Note that this problem only affects files, not directories.
<div class="Pp"></div>
<b class="Nm" title="Nm">duff</b> no longer (as of version 0.4) reports symbolic
  links to files as duplicates, as they're by definition always duplicates. This
  may break scripts relying on the previous behavior.
<div class="Pp"></div>
If the underlying files are modified while duff is running, all bets are off.
  This is not really a bug, but it can still bite you.</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 18, 2012</td>
    <td class="foot-os">Linux 4.12.14-300.fc26.x86_64</td>
  </tr>
</table>
</body>
</html>
