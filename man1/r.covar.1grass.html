<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:35:07 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>r.covar(1grass) Grass User&rsquo;s Manual
r.covar(1grass)</p>

<p style="margin-top: 1em">NAME <br>
r.covar - Outputs a covariance/correlation matrix for
user-specified raster map layer(s).</p>

<p style="margin-top: 1em">KEYWORDS <br>
raster, statistics</p>

<p style="margin-top: 1em">SYNOPSIS <br>
r.covar <br>
r.covar --help <br>
r.covar [-r] map=name[,name,...] [--help] [--verbose]
[--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-r <br>
Print correlation matrix</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
map=name[,name,...] [required] <br>
Name of raster map(s)</p>

<p style="margin-top: 1em">DESCRIPTION <br>
r.covar outputs a covariance/correlation matrix for
user-specified raster map layer(s). The output can be
printed, or saved by redirecting output into a file.</p>

<p style="margin-top: 1em">The output is an N x N symmetric
covariance (correlation) matrix, where N is the number of
raster map layers specified on the command line.</p>

<p style="margin-top: 1em">NOTES <br>
This module can be used as the first step of a principle
components transformation. The covariance matrix would be
input into a system which determines eigen values and eigen
<br>
vectors. An NxN covariance matrix would result in N real
eigen values and N eigen vectors (each composed of N real
numbers).</p>

<p style="margin-top: 1em">The module m.eigensystem in
GRASS GIS Addons can be compiled and used to generate the
eigen values and vectors.</p>

<p style="margin-top: 1em">EXAMPLE <br>
For example, <br>
g.region raster=layer.1 -p <br>
r.covar -r map=layer.1,layer.2,layer.3 <br>
would produce a 3x3 matrix (values are example only): <br>
1.000000 0.914922 0.889581 <br>
0.914922 1.000000 0.939452 <br>
0.889581 0.939452 1.000000 <br>
In the above example, the eigen values and corresponding
eigen vectors for the covariance matrix are: <br>
component eigen value eigen vector <br>
1 1159.745202 &lt;0.691002 0.720528 0.480511&gt; <br>
2 5.970541 &lt;0.711939 -0.635820 -0.070394&gt; <br>
3 146.503197 &lt;0.226584 0.347470 -0.846873&gt; <br>
The component corresponding to each vector can be produced
using r.mapcalc as follows: <br>
r.mapcalc &quot;pc.1 = 0.691002*layer.1 + 0.720528*layer.2 +
0.480511*layer.3&quot; <br>
r.mapcalc &quot;pc.2 = 0.711939*layer.1 - 0.635820*layer.2 -
0.070394*layer.3&quot; <br>
r.mapcalc &quot;pc.3 = 0.226584*layer.1 + 0.347470*layer.2 -
0.846873*layer.3&quot; <br>
Note that based on the relative sizes of the eigen values,
pc.1 will contain about 88% of the variance in the data set,
pc.2 will contain about 1% of the variance in the data <br>
set, and pc.3 will contain about 11% of the variance in the
data set. Also, note that the range of values produced in
pc.1, pc.2, and pc.3 will not (in general) be the same as
<br>
those for layer.1, layer.2, and layer.3. It may be necessary
to rescale pc.1, pc.2 and pc.3 to the desired range (e.g.
0-255). This can be done with r.rescale.</p>

<p style="margin-top: 1em">SEE ALSO <br>
i.pca, m.eigensystem (Addon), r.mapcalc, r.rescale</p>

<p style="margin-top: 1em">AUTHOR <br>
Michael Shapiro, U.S. Army Construction Engineering Research
Laboratory</p>

<p style="margin-top: 1em">Last changed: $Date: 2014-12-28
16:42:58 +0100 (Sun, 28 Dec 2014) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: r.covar source code (history)</p>

<p style="margin-top: 1em">Main index | Raster index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0 r.covar(1grass)</p>
<hr>
</body>
</html>
