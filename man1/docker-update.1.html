<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DOCKER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DOCKER(1)</td>
    <td class="head-vol">JUNE 2014</td>
    <td class="head-rtitle">DOCKER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
docker-update - Update configuration of one or more containers
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>docker update</b> [ <b>--blkio-weight</b>[=<i>[BLKIO-WEIGHT]</i>]] [
  <b>--cpu-shares</b>[= <i>0</i>]] [ <b>--cpu-period</b>[=<i>0</i>]] [
  <b>--cpu-quota</b>[= <i>0</i>]] [ <b>--cpuset-cpus</b>[=<i>CPUSET-CPUS</i>]] [
  <b>--cpuset-mems</b>[=<i>CPUSET-MEMS</i>]] [ <b>--help</b>] [
  <b>--kernel-memory</b>[= <i>KERNEL-MEMORY</i>]] [
  <b>-m</b>|<b>--memory</b>[=<i>MEMORY</i>]] [
  <b>--memory-reservation</b>[=<i>MEMORY-RESERVATION</i>]] [
  <b>--memory-swap</b>[= <i>MEMORY-SWAP</i>]] [
  <b>--restart</b>[=<i>&quot;&quot;</i>]] CONTAINER [CONTAINER...]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b></b>docker update command dynamically updates container configuration.
  you can Use this command to prevent containers from consuming too many
  resources from their Docker host. With a single command, you can place limits
  on a single container or on many. To specify more than one container, provide
  space-separated list of container names or IDs.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
With the exception of the <b></b>--kernel-memory value, you can specify these
  options on a running or a stopped container. You can only update
  <b></b>--kernel-memory on a stopped container. When you run <b></b>docker
  update on stopped container, the next time you restart it, the container uses
  those values.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Another configuration you can change with this command is restart policy, new
  restart policy will take effect instantly after you run <b></b>docker update
  on a container.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--blkio-weight</b>=0
<br/>
 Block IO weight (relative weight) accepts a weight value between 10 and 1000.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cpu-shares</b>=0
<br/>
 CPU shares (relative weight)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cpu-period</b>=0
<br/>
 Limit the CPU CFS (Completely Fair Scheduler) period
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cpu-quota</b>=0
<br/>
 Limit the CPU CFS (Completely Fair Scheduler) quota
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cpuset-cpus</b>=&quot;&quot;
<br/>
 CPUs in which to allow execution (0-3, 0,1)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--cpuset-mems</b>=&quot;&quot;
<br/>
 Memory nodes(MEMs) in which to allow execution (0-3, 0,1). Only effective on
  NUMA systems.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--help</b>
<br/>
 Print usage statement
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--kernel-memory</b>=&quot;&quot;
<br/>
 Kernel memory limit (format: <b></b>&lt;number&gt;[&lt;unit&gt;], where unit =
  b, k, m or g)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Note that you can not update kernel memory to a running container, it can only
  be updated to a stopped container, and affect after it's started.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>-m</b>, <b>--memory</b>=&quot;&quot;
<br/>
 Memory limit (format: &lt;number&gt;&lt;optional unit&gt;, where unit = b, k, m
  or g)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--memory-reservation</b>=&quot;&quot;
<br/>
 Memory soft limit (format: &lt;number&gt;[&lt;unit&gt;], where unit = b, k, m
  or g)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--memory-swap</b>=&quot;&quot;
<br/>
 Total memory limit (memory + swap)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<b>--restart</b>=&quot;&quot;
<br/>
 Restart policy to apply when a container exits (no, on-failure[:max-retry],
  always, unless-stopped).
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The following sections illustrate ways to use this command.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Update_a_container_with_cpu-shares=512"><a class="selflink" href="#Update_a_container_with_cpu-shares=512">Update
  a container with cpu-shares=512</a></h2>
To limit a container's cpu-shares to 512, first identify the container name or
  ID. You can use <b>docker ps</b> to find these values. You can also use the ID
  returned from the <b>docker run</b> command. Then, do the following:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ docker update --cpu-shares 512 abebf7571666
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Update_a_container_with_cpu-shares_and_memory"><a class="selflink" href="#Update_a_container_with_cpu-shares_and_memory">Update
  a container with cpu-shares and memory</a></h2>
To update multiple resource configurations for multiple containers:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ docker update --cpu-shares 512 -m 300M abebf7571666 hopeful_morse
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Update_a_container's_restart_policy"><a class="selflink" href="#Update_a_container's_restart_policy">Update
  a container's restart policy</a></h2>
To update restart policy for one or more containers:
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ docker update --restart=on-failure:3 abebf7571666 hopeful_morse
<div class="Pp"></div>
</pre>
</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"> Docker User Manuals</td>
    <td class="foot-os">Docker Community</td>
  </tr>
</table>
</body>
</html>
