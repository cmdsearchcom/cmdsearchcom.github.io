<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>VARNISHSTAT(1) VARNISHSTAT(1)</p>

<p style="margin-top: 1em">NAME <br>
varnishstat - Varnish Cache statistics</p>

<p style="margin-top: 1em">SYNOPSIS <br>
varnishstat [-1] [-f &lt;glob&gt;] [-h] [-j] [-l] [-n
&lt;dir&gt;] [-N &lt;filename&gt;] [-t &lt;seconds|off&gt;]
[-V] [-x]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The varnishstat utility displays statistics from a running
varnishd(1) instance.</p>

<p style="margin-top: 1em">The following options are
available:</p>

<p style="margin-top: 1em">-1 Instead of presenting a
continuously updated display, print the statistics to
stdout.</p>

<p style="margin-top: 1em">-f &lt;glob&gt; <br>
Field inclusion glob. Use backslash to escape characters. If
the argument starts with &rsquo;^&rsquo; it is used as an
exclusion glob. Multiple -f arguments may be given, and they
<br>
will be applied in order.</p>

<p style="margin-top: 1em">-h Print program usage and
exit</p>

<p style="margin-top: 1em">-j Print statistics to stdout as
JSON.</p>

<p style="margin-top: 1em">-l Lists the available fields to
use with the -f option.</p>

<p style="margin-top: 1em">-n &lt;dir&gt; <br>
Specify the varnishd working directory (also known as
instance name) to get logs from. If -n is not specified, the
host name is used.</p>

<p style="margin-top: 1em">-N &lt;filename&gt; <br>
Specify the filename of a stale VSM instance. When using
this option the abandonment checking is disabled.</p>

<p style="margin-top: 1em">-t &lt;seconds|off&gt; <br>
Timeout before returning error on initial VSM connection. If
set the VSM connection is retried every 0.5 seconds for this
many seconds. If zero the connection is attempted <br>
only once and will fail immediately if unsuccessful. If set
to &quot;off&quot;, the connection will not fail, allowing
the utility to start and wait indefinetely for the Varnish
<br>
instance to appear. Defaults to 5 seconds.</p>

<p style="margin-top: 1em">-V Print version information and
exit.</p>

<p style="margin-top: 1em">-x Print statistics to stdout as
XML.</p>

<p style="margin-top: 1em">CURSES MODE <br>
When neither -1, -j or -x options are given, the application
starts up in curses mode. This shows a continuously updated
view of the counter values, along with their
description.</p>

<p style="margin-top: 1em">The top area shows process
uptime information.</p>

<p style="margin-top: 1em">The center area shows a list of
counter values.</p>

<p style="margin-top: 1em">The bottom area shows the
description of the currently selected counter.</p>

<p style="margin-top: 1em">Columns <br>
The following columns are displayed, from left to right:</p>

<p style="margin-top: 1em">Name The name of the counter</p>

<p style="margin-top: 1em">Current <br>
The current value of the counter.</p>

<p style="margin-top: 1em">Change The average per second
change over the last update interval.</p>

<p style="margin-top: 1em">Average <br>
The average value of this counter over the runtime of the
Varnish daemon, or a period if the counter can&rsquo;t be
averaged.</p>

<p style="margin-top: 1em">Avg_10 The moving average over
the last 10 update intervals.</p>

<p style="margin-top: 1em">Avg_100 <br>
The moving average over the last 100 update intervals.</p>

<p style="margin-top: 1em">Avg_1000 <br>
The moving average over the last 1000 update intervals.</p>

<p style="margin-top: 1em">Key bindings <br>
The following keys control the interactive display:</p>

<p style="margin-top: 1em">&lt;UP&gt; Navigate the counter
list one line up.</p>

<p style="margin-top: 1em">&lt;DOWN&gt; Navigate the
counter list one line down.</p>

<p style="margin-top: 1em">&lt;PAGEUP&gt; or &lt;b&gt; <br>
Navigate the counter list one page up.</p>

<p style="margin-top: 1em">&lt;PAGEDOWN&gt; or
&lt;SPACE&gt; <br>
Navigate the counter list one page down.</p>

<p style="margin-top: 1em">&lt;d&gt; Toggle between showing
and hiding unseen counters. Unseen counters are those that
has been zero for the entire runtime of varnishstat.
Defaults to hide unseen counters.</p>

<p style="margin-top: 1em">&lt;e&gt; Toggle scaling of
values.</p>

<p style="margin-top: 1em">&lt;g&gt; Go to the top of the
counter list.</p>

<p style="margin-top: 1em">&lt;G&gt; Go to the bottom of
the counter list.</p>

<p style="margin-top: 1em">&lt;v&gt; Cycle through the
verbosity levels. Defaults to only showing informational
counters.</p>

<p style="margin-top: 1em">&lt;q&gt; Quit.</p>

<p style="margin-top: 1em">&lt;CTRL+T&gt; <br>
Sample now.</p>

<p style="margin-top: 1em">OUTPUTS <br>
The XML output format is:</p>

<p style="margin-top: 1em">&lt;varnishstat
timestamp=&quot;YYYY-MM-DDTHH:mm:SS&quot;&gt; <br>
&lt;stat&gt; <br>
&lt;type&gt;FIELD TYPE&lt;/type&gt; <br>
&lt;ident&gt;FIELD IDENT&lt;/ident&gt; <br>
&lt;name&gt;FIELD NAME&lt;/name&gt; <br>
&lt;value&gt;FIELD VALUE&lt;/value&gt; <br>
&lt;flag&gt;FIELD SEMANTICS&lt;/flag&gt; <br>
&lt;format&gt;FIELD DISPLAY FORMAT&lt;/format&gt; <br>
&lt;description&gt;FIELD DESCRIPTION&lt;/description&gt;
<br>
&lt;/stat&gt; <br>
[..] <br>
&lt;/varnishstat&gt;</p>

<p style="margin-top: 1em">The JSON output format is:</p>

<p style="margin-top: 1em">{ <br>
&quot;timestamp&quot;: &quot;YYYY-MM-DDTHH:mm:SS&quot;, <br>
&quot;FIELD NAME&quot;: { <br>
&quot;description&quot;: &quot;FIELD DESCRIPTION&quot;, <br>
&quot;type&quot;: &quot;FIELD TYPE&quot;, &quot;ident&quot;:
&quot;FIELD IDENT&quot;, &quot;flag&quot;: &quot;FIELD
SEMANTICS&quot;, &quot;format&quot;: &quot;FIELD DISPLAY
FORMAT&quot;, <br>
&quot;value&quot;: FIELD VALUE <br>
}, <br>
&quot;FIELD NAME&quot;: { <br>
&quot;description&quot;: &quot;FIELD DESCRIPTION&quot;, <br>
&quot;type&quot;: &quot;FIELD TYPE&quot;, &quot;ident&quot;:
&quot;FIELD IDENT&quot;, &quot;flag&quot;: &quot;FIELD
SEMANTICS&quot;, &quot;format&quot;: &quot;FIELD DISPLAY
FORMAT&quot;, <br>
&quot;value&quot;: FIELD VALUE <br>
}, <br>
[..] <br>
}</p>

<p style="margin-top: 1em">Type and ident are optional.
Timestamp is the time when the report was generated by
varnishstat.</p>

<p style="margin-top: 1em">SEE ALSO <br>
&Acirc;&middot; varnishd(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishhist(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishlog(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishncsa(1)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnishtop(1)</p>

<p style="margin-top: 1em">&Acirc;&middot; curses(3)</p>

<p style="margin-top: 1em">&Acirc;&middot;
varnish-counters(7)</p>

<p style="margin-top: 1em">AUTHORS <br>
This manual page was written by Dag-Erling
Sm&Atilde;&cedil;rgrav, Per Buer, Lasse Karstensen and
Martin Blix Grydeland.</p>
 
<p style="margin-top: 1em">VARNISHSTAT(1)</p>
<hr>
</body>
</html>
