<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>dvbv5-zap(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dvbv5-zap(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">dvbv5-zap(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dvbv5-zap - DVBv5 tool for service tuning
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dvbv5-zap</b> [ <i>OPTION</i>]... <b>channel-name</b>
<div class="Pp"></div>
<b>dvbv5-zap</b> [ <i>OPTION</i>]... <b>frequency-name</b> (for monitor or all
  PIDs mode)
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
dvbv5-zap is a command line tuning tool for digital TV services that is
  compliant with version 5 of the DVB API, and backward compatible with the
  older v3 DVB API.
<div class="Pp"></div>
dvbv5-zap uses by default a new channel/service file format that it is capable
  of supporting all types of Digital TV standards. It can also support the
  legacy format used by the legacy dvb-apps.
<div class="Pp"></div>
The dvbv5-zap tool can be used on several different modes, depending on the
  parameters used.
<div class="Pp"></div>
Please note that, in order to be able to use it in record mode, where both the
  audio and video Packet IDs (PIDs) are output to a dvr record node, the input
  file should contain the PIDs, e. g. they should have been produced by a
  digital TV zap application like dvbv5-zap.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--channels</b>= <b>channel-name-file</b></dt>
  <dd class="It-tag">Read channels list from 'file'. Defaults to
      <b>~/.tzap/channels.conf</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-3</b>, <b>--dvbv3</b></dt>
  <dd class="It-tag">Force dvbv5-zap to use DVBv3 only. Useful to test if the
      legacy API support is working.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--adapter</b>=<i>adapter#</i></dt>
  <dd class="It-tag">Use the given adapter. Default value: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>, <b>--audio_pid</b>=<i>audio_pid#</i></dt>
  <dd class="It-tag">Select a different audio Packet ID (PID). The default is to
      use the first audio PID found at the <b>channel-name-file</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b>, <b>--cc</b>=<i>country_code</i></dt>
  <dd class="It-tag">Set the default country to be used by the MPEG-TS parsers,
      in ISO 3166-1 two letter code. If not specified, the default charset is
      guessed from the locale environment variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--demux</b>=<i>demux#</i></dt>
  <dd class="It-tag">Use the given demux. Default value: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--frontend</b>=<i>frontend#</i></dt>
  <dd class="It-tag">Use the given frontend. Default value: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b>, <b>--input-format</b>=<i>format</i></dt>
  <dd class="It-tag">Format of the input file. Please notice that caps is
      ignored. It can be:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>channel</i> - for dvb-apps compatible channel file;</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<i>zap</i> - for dvb-apps compatible zap file;
<div class="Pp"></div>
<i>dvbv5</i> (default) - for the dvbv5 apps format.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--lnbf</b>=<i>LNBf_type</i></dt>
  <dd class="It-tag">Type of LNBf to use 'help' lists the available ones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b>, <b>--search</b>=<i>string</i></dt>
  <dd class="It-tag">Search/look for a string inside the traffic. Used only on
      monitor mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--monitor</b></dt>
  <dd class="It-tag">Enable monitor mode. On this mode, it will monitor de DVB
      traffic for all Packet IDs (PIDs) received by the device, showing the
      Packet IDs (optionally filtered by a <i>string</i>), and presenting some
      traffic statistics: number of packets per second, number of Kbytes per
      second and total traffic. Those statistics are shown per PID and the total
      per MPEG-TS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>, <b>--output</b>=<i>file</i></dt>
  <dd class="It-tag">Output filename. If specified, it will output the content
      of the MPEG-TS into the file with the first video PID and the first audio
      PID (or the one specified by <i>audio_pid#</i>). Use <b>-o</b> - for
      directing the output to <b>stdout</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>, <b>--pat</b></dt>
  <dd class="It-tag">Add PAT and PMT MPEG-TS tables to TS recording (implies
      <b>-r)</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>, <b>--all-pids</b></dt>
  <dd class="It-tag">Don't filter any pids. Instead, outputs all of them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--record</b></dt>
  <dd class="It-tag">Sets up the /dev/dvb/adapter<i>adapter#</i>/dvr0 for
      MPEG-TS record.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--silence</b></dt>
  <dd class="It-tag">Increases silence (can be used more than once).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b>, <b>--sat_number</b>=<i>satellite_number</i></dt>
  <dd class="It-tag">Satellite number. Used only on satellite delivery systems.
      If not specified, disable DISEqC satellite switch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>, <b>--timeout</b>=<i>seconds</i></dt>
  <dd class="It-tag">Amount of seconds to keep the tool running for zapping and
      for recording. Useful if you want to record a program that you know its
      duration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>, <b>--freq_bpf</b>=<i>frequency</i></dt>
  <dd class="It-tag">SCR/Unicable band-pass filter frequency to use, in kHz.
      Used only on satellite delivery systems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Be verbose. Useful to check if the MPEG-TS is happenning
      fine. This option can be used multiple times to increase verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--video_pid</b>=<i>video_pid#</i></dt>
  <dd class="It-tag">video pid program to use (default 0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>, <b>--lna</b>=<i>LNA</i></dt>
  <dd class="It-tag">Enable, disable or put LNA power in auto mode. Not all
      frontends support it. Valid values are:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">
  <br/>
   0 - disable</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <br/>
   1 - enable</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-1 - auto</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b>, <b>--wait</b>=<i>time</i></dt>
  <dd class="It-tag">Adds additional wait time for DISEqC command
    completion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b>, <b>--exit</b></dt>
  <dd class="It-tag">Exit after tuning.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b>, <b>--low_traffic</b></dt>
  <dd class="It-tag">Also shows DVB traffic with less then 1 packet per second.
      Used only in monitor mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?</b>, <b>--help</b></dt>
  <dd class="It-tag">Outputs the usage help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--usage</b></dt>
  <dd class="It-tag">Gives a short usage message.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Prints program version.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
On success, it returns 0.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<div style="margin-left: 5.00ex;"></div>
<h2 class="Ss" title="Ss" id="Recording_a_channel"><a class="selflink" href="#Recording_a_channel">Recording
  a channel</a></h2>
The typical use is to tune into a channel and put it into record mode:
<div class="Pp"></div>
<pre>
$  <b>dvbv5-zap -c dvb_channel.conf 'music' -r</b>
using demux '/dev/dvb/adapter0/demux0'
reading channels from file 'dvb_channel.conf'
service has pid type 05: 204
tuning to 573000000 Hz
audio pid 104
dvb_set_pesfilter 104
Lock (0x1f) Quality= Good Signal= 100.00% C/N= -13.80dB UCB= 70 postBER= 3.14x10^-3 PER= 0
DVR interface '/dev/dvb/adapter0/dvr0' can now be opened
</pre>
<div class="Pp"></div>
The channel can be watched by playing the contents of the DVR interface, with
  some player that recognizes the MPEG-TS format.
<div class="Pp"></div>
For example, this audio-only channel can be played with mplayer:
<div class="Pp"></div>
<pre>
$  <b>mplayer -cache 800 /dev/dvb/adapter0/dvr0</b>
MPlayer SVN-r37077-4.8.2 (C) 2000-2014 MPlayer Team
TS file format detected.
NO VIDEO! AUDIO MPA(pid=104) NO SUBS (yet)!  PROGRAM N. 0
==================================================================
Opening audio decoder: [mpg123] MPEG 1.0/2.0/2.5 layers I, II, III
AUDIO: 48000 Hz, 2 ch, s16le, 192.0 kbit/12.50% (ratio: 24000-&gt;192000)
Selected audio codec: [mpg123] afm: mpg123 (MPEG 1.0/2.0/2.5 layers I, II, III)
==================================================================
AO: [alsa] 48000Hz 2ch s16le (2 bytes per sample)
Video: no video
Starting playback...
</pre>
<h2 class="Ss" title="Ss" id="Monitoring_a_channel"><a class="selflink" href="#Monitoring_a_channel">Monitoring
  a channel</a></h2>
The dvbv5-zap tool can also be used to monitor a DVB channel:
<div class="Pp"></div>
<pre>
$  <b>dvbv5-zap -c dvb_channel.conf 573000000 -m</b>
using demux '/dev/dvb/adapter0/demux0'
reading channels from file 'dvb_channel.conf'
service has pid type 05:  204
tuning to 573000000 Hz
Lock   (0x1f) Quality= Good Signal= 100.00% C/N= -13.90dB UCB= 384 postBER= 96.8x10^-6 PER= 0
  dvb_set_pesfilter to 0x2000
<div class="Pp"></div>
PID     FREQ    SPEED   TOTAL
0000    9.88 p/s        14.5 Kbps       1 KB
0001    1.98 p/s        2.9 Kbps        376 B
0010    18.77 p/s       27.6 Kbps       3 KB
0011    48.42 p/s       71.1 Kbps       8 KB
0012    1455.53 p/s     2137.8 Kbps     270 KB
&#x2026;
1fff    1033.60 p/s     1518.1 Kbps     192 KB
TOT     25296.44 p/s    37154.2 Kbps    4700 KB
<div class="Pp"></div>
Lock   (0x1f) Quality= Good Signal= 100.00% C/N= -13.90dB UCB= 384 postBER= 96.8x10^-6 PER= 0
</pre>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Report bugs to <b>Linux Media Mailing List
  &lt;linux-media@vger.kernel.org&gt;</b>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2011-2014 by Mauro Carvalho Chehab.
<div class="Pp"></div>
License GPLv2: GNU GPL version 2 &lt;http://gnu.org/licenses/gpl.html&gt;.
<div>&#x00A0;</div>
This is free software: you are free to change and redistribute it. There is NO
  WARRANTY, to the extent permitted by law.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Fri Oct 3 2014</td>
    <td class="foot-os">DVBv5 Utils 1.12.3</td>
  </tr>
</table>
</body>
</html>
