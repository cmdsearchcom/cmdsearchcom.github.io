<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:54:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BEAR(1) General Commands Manual BEAR(1)</p>

<p style="margin-top: 1em">NAME <br>
bear - build ear</p>

<p style="margin-top: 1em">SYNOPSIS <br>
bear [options] [build commands]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Bear is a tool to generate compilation database for clang
tooling.</p>

<p style="margin-top: 1em">The JSON compilation database
(http://clang.llvm.org/docs/JSONCompilationDatabase.html) is
used in clang project to provide information how a single
compilation unit was pro&acirc; <br>
cessed. When that is available then it is easy to re-run the
compilation with different programs.</p>

<p style="margin-top: 1em">Bear execs the original build
command and intercepts the exec calls. To achieve that Bear
uses the LD_PRELOAD or DYLD_INSERT_LIBRARIES mechanisms
provided by the dynamic linker. <br>
There is a library which defines the exec methods and used
in every child processes of the build command. The
executable itself sets the environment up to child processes
and <br>
writes the output file.</p>

<p style="margin-top: 1em">OPTIONS <br>
-o output, --cdb output <br>
Specify output file. Default value provided.</p>

<p style="margin-top: 1em">-a, --append <br>
Use previously generated output file and append the new
entries to it. This way you can run bear continuously during
work, and it keeps the compilation database up to <br>
date. File deletion and addition are both considered. But
build process change (modifying compiler flags) will cause
duplicate entries.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Make bear more verbose.</p>

<p style="margin-top: 1em">-l library <br>
Specify the preloaded library location. Default value
provided. (This option mainly for development purposes.)</p>

<p style="margin-top: 1em">-n Disable filter. The output is
also a JSON formatted file. But the result is not a
compilation database. It contains all available information
of the exec calls. (This <br>
option mainly for development purposes.)</p>

<p style="margin-top: 1em">OUTPUT <br>
There are two version of output formats. One is defined by
the clang tooling. This goes like this:</p>

<p style="margin-top: 1em">[ <br>
{ &quot;directory&quot;: &quot;/home/user/llvm/build&quot;,
<br>
&quot;command&quot;: &quot;clang++ -Irelative -c -o file.o
file.cc&quot;, <br>
&quot;file&quot;: &quot;file.cc&quot; }, <br>
... <br>
]</p>

<p style="margin-top: 1em">To achieve this bear has to run
some filtering and formatting. Build tools exec many
commands during the build process. Bear has to find was that
a compiler call, and what was <br>
the source file? The other output format is generated by the
-n flag. (This output is not formalized, it&rsquo;s used to
debug bear itself.)</p>

<p style="margin-top: 1em">EXIT STATUS <br>
Bear exit status is the exit status of the build command.
Except when bear crashes, then it sets to non zero.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
BEAR_OUTPUT <br>
The place of the temporary files where client shall report
exec calls. Value set by bear, overrides previous value for
child processes.</p>

<p style="margin-top: 1em">LD_PRELOAD <br>
Used by the dynamic loader on Linux, FreeBSD and other UNIX
OS. Value set by bear, overrides previous value for child
processes.</p>

<p style="margin-top: 1em">DYLD_INSERT_LIBRARIES <br>
Used by the dynamic loader on OS X. Value set by bear,
overrides previous value for child processes.</p>

<p style="margin-top: 1em">DYLD_FORCE_FLAT_NAMESPACE <br>
Used by the dynamic loader on OS X. Value set by bear,
overrides previous value for child processes.</p>

<p style="margin-top: 1em">FILES <br>
/usr/lib/x86_64-linux-gnu/bear/libear.so <br>
bear library to implement exec calls.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ld.so(8), exec(3)</p>

<p style="margin-top: 1em">BUGS <br>
Because Bear uses LD_PRELOAD or DYLD_INSERT_LIBRARIES
environment variables, it does not append to it, but
overrides it. So builds which are using these variables
might not work. <br>
(I don&rsquo;t know any build tool which does that, but
please let me know if you do.)</p>

<p style="margin-top: 1em">Security extension/modes on
different operating systems might disable library preloads.
This case Bear behaves normally, but the result compilation
database will be empty. <br>
(Please make sure it&rsquo;s not the case when reporting
bugs.) Notable examples for enabled security modes are: SIP
on OS X Captain and SELinux on Fedora, CentOS, RHEL.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2012-2016 by L&Atilde;&iexcl;szl&Atilde;&sup3;
Nagy &lt;https://github.com/rizsotto/Bear&gt;</p>

<p style="margin-top: 1em">AUTHORS <br>
L&Atilde;&iexcl;szl&Atilde;&sup3; Nagy.</p>

<p style="margin-top: 1em">Bear User Manuals February 16,
2016 BEAR(1)</p>
<hr>
</body>
</html>
