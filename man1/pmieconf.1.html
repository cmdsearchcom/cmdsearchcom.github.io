<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:32:04 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PMIECONF(1) General Commands Manual PMIECONF(1)</p>

<p style="margin-top: 1em">NAME <br>
pmieconf - display and set configurable pmie rule
variables</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pmieconf [-cFv] [-f file] [-r rulepath] [command
[args...]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
pmieconf is a utility for viewing and configuring variables
from generalized pmie(1) rules. The set of generalized rules
is read in from rulepath, and the output file produced <br>
by pmieconf is a valid input file for pmie.</p>

<p style="margin-top: 1em">A brief description of the
pmieconf command line options follows:</p>

<p style="margin-top: 1em">-c When run from automated pmie
setup processes, this option is used to add a specific
message and timestamp indicating that this is the case. It
is not appropriate when <br>
using the tool interactively.</p>

<p style="margin-top: 1em">-f file Any rule modifications
resulting from pmieconf manipulation of variable values will
be written to file. The default value of file is dependent
on the user ID - for the <br>
root user, the file $PCP_VAR_DIR/config/pmieconf/config.pmie
is used, for other users the default is
$HOME/.pcp/pmie/config.pmie.</p>

<p style="margin-top: 1em">-F Forces the pmieconf output
file to be created (or updated), after which pmieconf
immediately exits.</p>

<p style="margin-top: 1em">-r rulepath <br>
Allows the source of generalized pmie rules to be changed -
rulepath is a colon-delimited list of pmieconf(5) rule files
and/or subdirectories. The default value for <br>
rulepath is $PCP_VAR_DIR/config/pmieconf. Use of this option
overrides the PMIECONF_PATH environment variable which has a
similar function.</p>

<p style="margin-top: 1em">-v Verbose mode. Additional
information associated with each rule and its associated
variables will be displayed. This is the complete list of
variables which affects any <br>
given rule (by default, global variables are not displayed
with the rule).</p>

<p style="margin-top: 1em">The pmieconf commands allow
information related to the various rules and configurable
variables to be displayed or modified. If no pmieconf
commands are presented on the command <br>
line, pmieconf prompts for commands interactively.</p>

<p style="margin-top: 1em">The pmieconf command language is
described here:</p>

<p style="margin-top: 1em">help [ { . | all | global |
&lt;rule&gt; | &lt;group&gt; } [&lt;variable&gt;] ] <br>
Without arguments, the help command displays the syntax for
all of the available pmieconf commands. With one argument, a
description of one or more of the generalized <br>
rules is displayed. With two arguments, a description of a
specific variable relating to one or more of the generalized
rules is displayed.</p>

<p style="margin-top: 1em">rules [ enabled | disabled ]
<br>
Display the name and short summary for all of the
generalized rules found on rulepath. Each of the rule names
can be used in place of the keyword &lt;rule&gt; in this
command <br>
syntax description. The enabled and disabled options can be
used to filter the set of rules displayed to just those
which are enabled or disabled respectfully.</p>

<p style="margin-top: 1em">groups Display the name of all
of the rule groups that were found on rulepath. Each of the
group names can be used in place of the keyword
&lt;group&gt; in this command syntax <br>
description, which applies the command to all rules within
the rule group.</p>

<p style="margin-top: 1em">status Display status
information relating to the current pmieconf session,
including a list of running pmie processes which are
currently using file.</p>

<p style="margin-top: 1em">enable { . | all | &lt;rule&gt;
| &lt;group&gt; } <br>
Enables the specified rule or group of rules. An enabled
rule is one which will be included in the pmie configuration
file generated by pmieconf. Any enabled &quot;actions&quot;
<br>
will be appended to the rule&rsquo;s &quot;predicate&quot;,
in a manner conforming to the pmie syntax
(&quot;actions&quot; can be viewed using the list global
command, described below).</p>

<p style="margin-top: 1em">disable { . | all | &lt;rule&gt;
| &lt;group&gt; } <br>
Disables the specified rule or group of rules. If the rule
was previously enabled, it will be removed from the pmie
configuration file generated by pmieconf, and hence <br>
no longer evaluated when pmie is restarted (using pmieconf
does not affect any existing pmie processes using file).</p>

<p style="margin-top: 1em">list { . | all | global |
&lt;rule&gt; | &lt;group&gt; } [&lt;variable&gt;] <br>
Display the values for a specific rule variable; or for all
variables of a rule, a rule group, all rules, or the global
variables.</p>

<p style="margin-top: 1em">modify { . | all | global |
&lt;rule&gt; | &lt;group&gt; } &lt;variable&gt;
&lt;value&gt; <br>
Enable, disable, or otherwise change the value for one or
more rule variables. This value must be consistent with the
type of the variable, which can be inferred from <br>
the format of the printed value - e.g. strings will be
enclosed in double-quotes, percentages have the
&lsquo;&lsquo;%&rsquo;&rsquo; symbol appended, etc. Note
that certain rule variables can&acirc; <br>
not be modified through pmieconf - &quot;predicate&quot; and
&quot;help&quot;, for example.</p>

<p style="margin-top: 1em">undo { . | all | global |
&lt;rule&gt; | &lt;group&gt; } [&lt;variable&gt;] <br>
Applicable only to a variable whose value has been modified
- this command simply reverts to the default value for the
given variable.</p>

<p style="margin-top: 1em">quit Save any changes made to
file and then exit pmieconf.</p>

<p style="margin-top: 1em">abort Exit pmieconf immediately
without saving any changes to file.</p>

<p style="margin-top: 1em">Each of the commands above can
be shortened by simply using the first character of the
command name, and also &lsquo;&lsquo;?&rsquo;&rsquo; for
help.</p>

<p style="margin-top: 1em">Use of the all keyword causes
the command to be applied to all of the rules. The global
keyword refers to those variables which are applied to every
rule. Such variables can be <br>
changed either globally or locally, for example:</p>

<p style="margin-top: 1em">pmieconf&gt; modify global delta
&quot;5 minutes&quot; <br>
pmieconf&gt; modify memory delta &quot;1 minute&quot;</p>

<p style="margin-top: 1em">causes all rules to now be
evaluated once every five minutes, except for rules in the
&quot;memory&quot; group which are to be evaluated once per
minute.</p>

<p style="margin-top: 1em">The
&lsquo;&lsquo;.&rsquo;&rsquo; character is special to
pmieconf - it refers to the last successfully used value of
all, global, &lt;rule&gt; or &lt;group&gt;.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Specify that all of the rules in the &quot;memory&quot;
group should be evaluated:</p>

<p style="margin-top: 1em">pmieconf&gt; modify memory
enabled yes</p>

<p style="margin-top: 1em">Change your mind, and revert to
using only the &quot;memory&quot; rules which were enabled
by default:</p>

<p style="margin-top: 1em">pmieconf&gt; undo memory
enabled</p>

<p style="margin-top: 1em">Specify that notification of
rules which evaluate to true should be sent to
syslogd(1):</p>

<p style="margin-top: 1em">pmieconf&gt; modify global
syslog_action yes</p>

<p style="margin-top: 1em">Specify that rules in the
&quot;per_cpu&quot; group should use a different holdoff
value to other rules:</p>

<p style="margin-top: 1em">pmieconf&gt; help global holdoff
<br>
rule: global [generic parameters applied to all rules] <br>
var: holdoff <br>
help: Once the predicate is true and the action is executed,
<br>
this variable allows suppression of further action <br>
execution until the specified interval has elapsed. <br>
A value of zero enables execution of the action if <br>
the rule predicate is true at the next sample. Default <br>
units are seconds and common units are &quot;second&quot;,
&quot;sec&quot;, <br>
&quot;minute&quot;, &quot;min&quot; and
&quot;hour&quot;.</p>

<p style="margin-top: 1em">pmieconf&gt; modify per_cpu
holdoff &quot;1 hour&quot;</p>

<p style="margin-top: 1em">Lower the threshold associated
with a particular variable for a specified rule:</p>

<p style="margin-top: 1em">pmieconf&gt; l cpu.syscall
predicate <br>
rule: cpu.syscall [High aggregate system call rate] <br>
predicate = <br>
some_host ( <br>
( kernel.all.syscall $hosts$ ) <br>
&gt; $threshold$ count/sec * hinv.ncpu $hosts$ <br>
)</p>

<p style="margin-top: 1em">pmieconf&gt; m . threshold
7000</p>

<p style="margin-top: 1em">pmieconf&gt; l . threshold <br>
rule: cpu.syscall [High aggregate system call rate] <br>
threshold = 7000</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
The environment variable PMIECONF_PATH has a similar
function to the -r option described above, and if set will
be used provided no -r option is presented.</p>

<p style="margin-top: 1em">FILES <br>
$PCP_VAR_DIR/config/pmieconf/*/* <br>
generalized system resource monitoring rules <br>
$PCP_VAR_DIR/config/pmieconf/config.pmie <br>
default super-user settings for system resource monitoring
rules <br>
$HOME/.pcp/pmie/config.pmie <br>
default user settings for system resource monitoring
rules</p>

<p style="margin-top: 1em">PCP ENVIRONMENT <br>
Environment variables with the prefix PCP_ are used to
parameterize the file and directory names used by PCP. On
each installation, the file /etc/pcp.conf contains the local
<br>
values for these variables. The $PCP_CONF variable may be
used to specify an alternative configuration file, as
described in pcp.conf(5).</p>

<p style="margin-top: 1em">SEE ALSO <br>
PCPIntro(1), pmie(1), pmie_check(1) and pmieconf(5).</p>

<p style="margin-top: 1em">Performance Co-Pilot PCP
PMIECONF(1)</p>
<hr>
</body>
</html>
