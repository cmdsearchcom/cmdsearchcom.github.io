<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CYCMD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CYCMD(1)</td>
    <td class="head-vol">cyphesis</td>
    <td class="head-rtitle">CYCMD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cycmd - cycmd game server process
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>cycmd</b> [ <b>--section:option=value</b><i> ...</i> ] [ <b>command [ server
  ]</b> ]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>cycmd</b> program provides a commandline interface to a cyphesis server.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Configuration options are divided up into named sections, which need to be
  specified when modifying or overriding the options. In a config file the name
  of a section is specified in square brackets at the beginning of the section.
  On the command line the section is given at the beginning of the option
  specification, as shown in the synopsis above.
<h2 class="Ss" title="Ss" id="CLIENT_OPTIONS"><a class="selflink" href="#CLIENT_OPTIONS">CLIENT
  OPTIONS</a></h2>
The following options used by <b>cycmd</b> are present in the client section of
  the config file, and overridden by specifying the client section name on the
  command line.
<dl class="Bl-tag">
  <dt class="It-tag"><b>serverhost=hostname </b></dt>
  <dd class="It-tag">Hostname of the server to connect to.
    <div style="height: 1.00em;">&#x00A0;</div>
    This setting provides the hostname of the system where cyphesis is running
      that <b>cycmd</b> should try and connect to.</dd>
</dl>
<h2 class="Ss" title="Ss" id="SERVER_OPTIONS"><a class="selflink" href="#SERVER_OPTIONS">SERVER
  OPTIONS</a></h2>
The following options are present in the cyphesis section of the config file,
  and overridden by specifying the cyphesis section name on the command line.
  These options apply to the server, but are also required by the client to
  ensure that the client can connect.
<dl class="Bl-tag">
  <dt class="It-tag"><b>tcpport=6767 </b></dt>
  <dd class="It-tag">Network port for server TCP connections.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the port number to use when connecting to the server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unixport=&quot;cyphesis.sock&quot; </b></dt>
  <dd class="It-tag">Local liston socket for Unix domain connections.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the filename to use to listen for local trusted client
      connections.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b> add_agent [ type ] </b></dt>
  <dd class="It-tag">Create an in-game agent.
    <div style="height: 1.00em;">&#x00A0;</div>
    Create an avatar or agent in the game to be used to manipulate the world. By
      default an avatar of type &quot;creator&quot; is created, and this is
      required for most operations. Avatars of other types can be created, but
      have limited ability to edit the world.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> cancel </b></dt>
  <dd class="It-tag">Cancel the current admin task.
    <div style="height: 1.00em;">&#x00A0;</div>
    Various commands begin a background admin task in the client. This command
      stops any currently running task.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> connect hostname </b></dt>
  <dd class="It-tag">Connect the server to a peer.
    <div style="height: 1.00em;">&#x00A0;</div>
    Try and establish a connection to a peer server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> creator_create type </b></dt>
  <dd class="It-tag">Use agent to create an entity.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the in-game agent owned by this client to create an in-game entity of
      any type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> delete id </b></dt>
  <dd class="It-tag">Delete an entity from the server.
    <div style="height: 1.00em;">&#x00A0;</div>
    Delete the in-game entity with the given ID from the world.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> dump [ filename ] </b></dt>
  <dd class="It-tag">Write the contents of the world to an Atlas dump file.
    <div style="height: 1.00em;">&#x00A0;</div>
    An Atlas representation of every entity on the server is written to a file
      using the XML codec.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> get id </b></dt>
  <dd class="It-tag">Examine any object on the server.
    <div style="height: 1.00em;">&#x00A0;</div>
    Get an object description from the server, and display its contents.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> find_by_name name </b></dt>
  <dd class="It-tag">Find an entity with the given name.
    <div style="height: 1.00em;">&#x00A0;</div>
    Search the world for an entity with the given name, and return the first one
      found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> find_by_type type </b></dt>
  <dd class="It-tag">Find an entity with the given type.
    <div style="height: 1.00em;">&#x00A0;</div>
    Search the world for an entity with the given type, and return the first one
      found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> flush type </b></dt>
  <dd class="It-tag">Flush entities from the server
    <div style="height: 1.00em;">&#x00A0;</div>
    Search the world for entities with the given type, and delete them all.
    <div style="height: 1.00em;">&#x00A0;</div>
    This process does not work perfectly reliably, so may have to be run
      multiple times to fully clear the server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> help </b></dt>
  <dd class="It-tag">Display online help.
    <div style="height: 1.00em;">&#x00A0;</div>
    Lists all the commands available, with a short description of what each one
      does.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> install type_id parent_id </b></dt>
  <dd class="It-tag">Install a new type in the server.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> look </b></dt>
  <dd class="It-tag">Return a view of the current server lobby.
    <div style="height: 1.00em;">&#x00A0;</div>
    Look at the current server lobby, where all users currently logged in are
      represented. The view is returned and displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> logout [ account ] </b></dt>
  <dd class="It-tag">Log user out of server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> monitor </b></dt>
  <dd class="It-tag">Enable server monitoring.
    <div style="height: 1.00em;">&#x00A0;</div>
    Direct the server to report all in-game operations to the client. A digest
      of each operation is displayed, including the type, which entity the
      operation is from and which entity the operation is to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> query entity_id </b></dt>
  <dd class="It-tag">Synonym for &quot;get&quot; (deprecated).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> reload type </b></dt>
  <dd class="It-tag">Reload the script for a type.
    <div style="height: 1.00em;">&#x00A0;</div>
    Reload the Python script for a given type from the file on disk.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> restore [ filename ] </b></dt>
  <dd class="It-tag">Restore the contents of an Atlas dump file into the world.
    <div style="height: 1.00em;">&#x00A0;</div>
    Read entities from an Atlas XML codec dump file, and restore them into the
      server. The most reliable use case for this is with an empty server to
      restore a snapshot of the world taken at an earlier time.
    <div style="height: 1.00em;">&#x00A0;</div>
    It is possible to restore a dump file into server which already contains a
      world, but the following caveats apply:
    <div style="height: 1.00em;">&#x00A0;</div>
    If there are collisions between the ID space being used in the existing
      world, and the ID space used in the dump file, the tool will do its best
      to do the right thing, but the results are to some extent undefined. If an
      entity with the same ID and type exists in both spaces, only one will
      exist after the restore and it will have some of the properties of both
      copies of that entity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> stat </b></dt>
  <dd class="It-tag">Examine the current server status.
    <div style="height: 1.00em;">&#x00A0;</div>
    Get a description of the current server status, and display its
    contents.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b> unmonitor </b></dt>
  <dd class="It-tag">Disable server monitoring.
    <div style="height: 1.00em;">&#x00A0;</div>
    Direct the server to stop reporting all in-game operations to the
    client.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The first example shows getting the current server status and checking the lobby
  to see if any users are logged in.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
cyphesis&gt; stat
Info(
     clients:  1
     name:  calcitration.ecs.soton.ac.uk
     objtype:  obj
     parents:  [  server ]
     ruleset:  mason
     server:  cyphesis
     uptime:  1728.2
     version:  0.3.2
)
cyphesis&gt; look
Sight(
      id: lobby
      name: lobby
      objtype: obj
      parents: [  room ]
      people: [  1 ]
      rooms: [  ]
)
cyphesis&gt; 
  
</pre>
<div class="Pp"></div>
The first entity returned shows various information about the server, including
  when it was built, the number of connected client, the current ruleset, and
  the server uptime. The second entity representing the lobby shows that only
  one user is current logged in, and no chat rooms have been created.
<div class="Pp"></div>
The second example shows how to install a new type.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
cyphesis&gt; get thing
Info(
     children:  [  feature character plant food stackable structure arm arrow axe barrel block_house board boat boundary bow campfire cleaver coin fire gallows house lumber pelvis ribcage shin skull stall sword thigh tower twobyfour wall weather ]
     contains:  [  ]
     id:  thing
     loc:  
     name:  
     objtype:  class
     parents:  [  game_entity ]
     pos:  [  0 0 0 ]
     stamp_contains:  0
     velocity:  [  0 0 0 ]
)
cyphesis&gt; install box thing
cyphesis&gt; 
  
</pre>
<div class="Pp"></div>
The third example shows server monitoring being enable, followed by information
  of a series of in-game operations. The flow of messages in while monitoring
  the server can be large. In order to suppress the flow, the <b>unmonitor</b>
  command must be used.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
cyphesis&gt; monitor 
cyphesis&gt; 
tick(from=&quot;900006&quot;,to=&quot;900006&quot;)
tick(from=&quot;900007&quot;,to=&quot;900007&quot;)
cyphesis&gt; 
tick(from=&quot;900008&quot;,to=&quot;900008&quot;)
cyphesis&gt; 
tick(from=&quot;899982&quot;,to=&quot;899982&quot;)
cyphesis&gt; 
tick(from=&quot;899356&quot;,to=&quot;899356&quot;)
cyphesis&gt; 
tick(from=&quot;899357&quot;,to=&quot;899357&quot;)
cyphesis&gt; 
tick(from=&quot;899358&quot;,to=&quot;899358&quot;)
cyphesis&gt; 
tick(from=&quot;899359&quot;,to=&quot;899359&quot;)
cyphesis&gt; 
tick(from=&quot;899360&quot;,to=&quot;899360&quot;)
cyphesis&gt; 
tick(from=&quot;899361&quot;,to=&quot;899361&quot;)
cyphesis&gt; 
  
</pre>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Alistair Riddoch.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to &lt;general@worldforge.org&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2004 Alistair Riddoch.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>cyphesis</b>(1), <b>cyclient</b>(1), <b>cyphesis-tools</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">18 November 2010</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
