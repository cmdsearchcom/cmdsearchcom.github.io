<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:35:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RPMORPHAN(1) User Contributed Perl Documentation
RPMORPHAN(1)</p>

<p style="margin-top: 1em">NAME <br>
rpmorphan - find orphaned packages</p>

<p style="margin-top: 1em">DESCRIPTION <br>
rpmorphan finds &quot;orphaned&quot; packages on your
system. It determines which packages have no other packages
depending on their installation, and shows you a list of
these packages. <br>
It is clone of deborphan debian software for rpm
packages.</p>

<p style="margin-top: 1em">It will try to help you to
remove unused packages, for exemple :</p>

<p style="margin-top: 1em">- after a distribution
upgrade</p>

<p style="margin-top: 1em">- when you want to suppress
packages after some tests</p>

<p style="margin-top: 1em">SYNOPSIS <br>
rpmorphan [options] [targets]</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">grpmorphan [options]
[targets]</p>

<p style="margin-top: 1em">using grpmorphan is a short way
to use &quot;rpmorphan -gui&quot;</p>

<p style="margin-top: 1em">options:</p>

<p style="margin-top: 1em">-help brief help message <br>
-man full documentation <br>
-V, --version print version</p>

<p style="margin-top: 1em">-verbose verbose <br>
-debug debug mode (for developpers only) <br>
-dry-run simulate package remove <br>
-fullalgo force full algorythm <br>
-suggests use suggested package as if required <br>
-arch work and show on full name with version and
architecture <br>
-log-file mylog change default log file to mylog <br>
-use-cache use cache to avoid rpm query <br>
-clear-cache remove cache file <br>
-gui display the graphical interface <br>
-tk display the tk graphical interface <br>
-curses display the curses graphical interface</p>

<p style="margin-top: 1em">-exclude pac exclude pac from
results <br>
-install-time +/-d apply on packages which are installed
before (after) d days <br>
-access-time d apply on packages which are not been accessed
for d days (slow)</p>

<p style="margin-top: 1em">targets:</p>

<p style="margin-top: 1em">-package pac search if pac is an
orphan package <br>
-all apply on all packages <br>
-guess-perl apply on perl packages <br>
-guess-python apply on python packages <br>
-guess-pike apply on pike packages <br>
-guess-ruby apply on ruby packages <br>
-guess-common apply on common packages <br>
-guess-data apply on data packages <br>
-guess-doc apply on documentation packages <br>
-guess-dev apply on development packages <br>
-guess-lib apply on library packages (this is the default
target if none is specified) <br>
-guess-all apply all -guess-* options (perl, python ...)
<br>
-guess-custom regex apply the given regex to filter to
package&rsquo;s names to filter the output</p>

<p style="margin-top: 1em">keep file management</p>

<p style="margin-top: 1em">-keep-file file define the keep
file to be used <br>
-list-keep list permanent exclude list <br>
-zero-keep empty permanent exclude list <br>
-add-keep pac add pac package to permanent exclude list <br>
-del-keep pac remove pac package from permanent exclude
list</p>

<p style="margin-top: 1em">REQUIRED ARGUMENTS <br>
you should provide at least one target. this can be</p>

<p style="margin-top: 1em">-all all the installed rpm
package</p>

<p style="margin-top: 1em">-package <br>
one or several explicit package</p>

<p style="margin-top: 1em">-guess-* <br>
pre-selected packages groups</p>

<p style="margin-top: 1em">-guess-custom <br>
give a filter to select the packages you want study. you can
use regular expressions.</p>

<p style="margin-top: 1em">OPTIONS <br>
-help Print a brief help message and exits.</p>

<p style="margin-top: 1em">-man Print the manual page and
exits.</p>

<p style="margin-top: 1em">-version <br>
Print the program release and exit.</p>

<p style="margin-top: 1em">-verbose <br>
The program works and print debugging messages.</p>

<p style="margin-top: 1em">-debug for developpers, the
program will dump internals structures</p>

<p style="margin-top: 1em">-dry-run <br>
this is a simulation mode : rpmorphan will show you what is
the result of package removing. The window&rsquo;s title is
modified to show this mode.</p>

<p style="margin-top: 1em">-use-cache <br>
the rpm query may be long (10 to 30 s). If you will run an
rpmorphan tool several time, this option will allow to gain
a lot of time : it save the rpm query on a file <br>
cache (first call), then use this cache instead quering rpm
(others calls).</p>

<p style="margin-top: 1em">-clear-cache <br>
to remove cache file. Can be used with -use-cache to write a
new cache.</p>

<p style="margin-top: 1em">-gui display a graphical
interface which allow to show informations, remove packages
(an internal help is provided). This is currently the same
as the -tk option</p>

<p style="margin-top: 1em">-tk display a tk graphical
interface which allow to show informations, remove packages
(an internal help is provided). The Tk perl module is
necessary to run the gui.</p>

<p style="margin-top: 1em">-curses display a curses
graphical interface which allow to show informations, remove
packages (an internal help is provided). The Curses::UI perl
module is necessary to run the <br>
gui.</p>

<p style="margin-top: 1em">-exclude <br>
this option will specify the packages to exclude from the
output. Can be used as &rsquo;--exclude pac1 --exclude
pac2&rsquo; or &rsquo;--exclude &quot;pac1,
pac2&quot;&rsquo;</p>

<p style="margin-top: 1em">-install-time <br>
install-time is a filter on the period from the package
installation date to now (in days). if set positive, it only
allow packages installed before x days. if set <br>
negative, it only allow packages installed since x days.</p>

<p style="margin-top: 1em">-access-time <br>
access-time is designed to filter packages which have not
been used since x days.</p>

<p style="margin-top: 1em">be careful : this option will
slow the program</p>

<p style="margin-top: 1em">-fullalgo <br>
for a small list of packages, rpmorphan use a different
quicker methode : rpm -e --test</p>

<p style="margin-top: 1em">this option can be used to force
the use of the full algo</p>

<p style="margin-top: 1em">-suggests <br>
some rpm version offers a meta-data dependency call suggests
: it is for usefull but not necessary packages. if this
option is set, the suggested packages are used in <br>
rpmorphan as required packages. The default value for this
option is unset.</p>

<p style="margin-top: 1em">-arch by default, rpmorphan
works on package name. this option will rpmorphan work on
full package name : name-version-release.arch. This may be
usefull if you have several <br>
version or several archictectures installed.</p>

<p style="margin-top: 1em">-log-file <br>
change the default log file (/var/log/rpmorphan.log) to the
given file name</p>

<p style="margin-top: 1em">-package <br>
search if the given package(s) is(are) orphaned. Can be used
as &rsquo;--package pac1 --package pac2&rsquo; or
&rsquo;--package &quot;pac1, pac2&quot;&rsquo;</p>

<p style="margin-top: 1em">-all apply on all installed
packages. The output should be interpreted. For example lilo
or grub are orphaned packages, but are necessary to boot
...</p>

<p style="margin-top: 1em">the &quot;-install-time&quot;
and &quot;-access-time&quot; options may be useful to filter
the list</p>

<p style="margin-top: 1em">-guess-perl <br>
This option tries to find perl modules. It tries to match
&quot;^perl&quot;</p>

<p style="margin-top: 1em">-guess-python <br>
This option tries to find python modules. It tries to match
&quot;^python&quot;</p>

<p style="margin-top: 1em">-guess-pike <br>
This option tries to find pike modules. It tries to match
&quot;^pike&quot;</p>

<p style="margin-top: 1em">-guess-ruby <br>
This option tries to find ruby modules. It tries to match
&quot;^ruby&quot;</p>

<p style="margin-top: 1em">-guess-common <br>
This option tries to find common packages. It tries to match
&quot;-common$&quot;</p>

<p style="margin-top: 1em">-guess-data <br>
This option tries to find data packages. It tries to match
&quot;-data$&quot;</p>

<p style="margin-top: 1em">-guess-doc <br>
This option tries to find documentation packages. It tries
to match &quot;-doc$&quot;</p>

<p style="margin-top: 1em">-guess-data <br>
This option tries to find data packages. It tries to match
&quot;-data$&quot;</p>

<p style="margin-top: 1em">-guess-dev <br>
This option tries to find development packages. It tries to
match &quot;-devel$&quot;</p>

<p style="margin-top: 1em">-guess-lib <br>
This option tries to find library packages. It tries to
match &quot;^lib&quot;</p>

<p style="margin-top: 1em">-guess-all <br>
This is a short to tell : Try all of the above (perl, python
...)</p>

<p style="margin-top: 1em">-guess-custom <br>
this will allow you to specify your own filter. for exemple
&quot;^wh&quot; will match whois, whatsnewfm ...</p>

<p style="margin-top: 1em">-keep-file <br>
define the keep file to be used. If not set, the
/var/lib/rpmorphan/keep will be used</p>

<p style="margin-top: 1em">-list-keep <br>
list the permanent list of excluded packages and exit.</p>

<p style="margin-top: 1em">-zero-keep <br>
empty the permanent list of excluded packages and exit.</p>

<p style="margin-top: 1em">-add-keep <br>
add package(s) to the permanent list of excluded packages
and exit.</p>

<p style="margin-top: 1em">Can be used as &rsquo;--add-keep
pac1 --add-keep pac2&rsquo; or &rsquo;--add-keep &quot;pac1,
pac2&quot;&rsquo;</p>

<p style="margin-top: 1em">-del-keep <br>
remove package(s) from the permanent list of excluded
packages and exit.</p>

<p style="margin-top: 1em">Can be used as &rsquo;--add-keep
pac1 --add-keep pac2&rsquo; or &rsquo;--add-keep &quot;pac1,
pac2&quot;&rsquo;</p>

<p style="margin-top: 1em">USAGE <br>
rpmorphan can be useful after a distribution upgrade, to
remove packages forgotten by the upgrade tool. It is
interesting to use the options &quot;-all -install-time
+xx&rsquo;.</p>

<p style="margin-top: 1em">If you want to remove some
recent tested packages, my advice is &quot;-all
-install-time -xx&rsquo;.</p>

<p style="margin-top: 1em">if you just want to clean your
disk, use &rsquo;-all -access-time xxx&rsquo;</p>

<p style="margin-top: 1em">FILES <br>
/var/lib/rpmorphan/keep : the permanent exclude list</p>

<p style="margin-top: 1em">/tmp/rpmorphan.cache : cache
file to store rpm query. The cache file is common to all
rpmorphan tools</p>

<p style="margin-top: 1em">/var/log/rpmorphan.log : log of
all deleted packages</p>

<p style="margin-top: 1em">CONFIGURATION <br>
the program can read rcfile if some exists. it will load in
order</p>

<p style="margin-top: 1em">/etc/rpmorphanrc</p>

<p style="margin-top: 1em">~/.rpmorphanrc</p>

<p style="margin-top: 1em">.rpmorphanrc</p>

<p style="margin-top: 1em">In this file,</p>

<p style="margin-top: 1em"># are comments,</p>

<p style="margin-top: 1em">and parameters are stored in the
following format : parameter = value</p>

<p style="margin-top: 1em">example :</p>

<p style="margin-top: 1em">all = 1</p>

<p style="margin-top: 1em">curses = 1</p>

<p style="margin-top: 1em">DEPENDENCIES <br>
rpmorphan uses standard perl module in console mode.</p>

<p style="margin-top: 1em">If you want to use the Tk
graphical interface, you should install the Tk module
(perl-Tk rpm package).</p>

<p style="margin-top: 1em">If you want to use the curses
interface, you should install the Curses::UI perl module (
perl-Curses-UI rpm package).</p>

<p style="margin-top: 1em">If you want to speed up
rpmorphan, you should install the RPM2 perl module (
perl-RPM2 rpm package). On mandriva, the URPM perl module
(dependency from urpmi) will be used <br>
instead.</p>

<p style="margin-top: 1em">EXAMPLES <br>
display orphaned libraries <br>
rpmorphan</p>

<p style="margin-top: 1em">display all orphaned packages in
a curses interface <br>
rpmorphan --all --curses</p>

<p style="margin-top: 1em">display orphaned packages, not
used since one year <br>
rpmorphan --all -access-time +365</p>

<p style="margin-top: 1em">display all orphaned packages,
installed in the last 10 days <br>
rpmorphan --all -install-time -10</p>

<p style="margin-top: 1em">display all orphaned packages,
installed one month ago (or more) <br>
rpmorphan --all -install-time +30</p>

<p style="margin-top: 1em">BUGS AND LIMITATIONS <br>
Virtuals packages are not well (for now) taken in account.
Let&rsquo;s see an example : lilo and grub provide
&rsquo;bootloader&rsquo; virtual, which is necessary for
system boot. if the 2 are <br>
installed, they will be shown all 2 as orphans (but you can
not remove the 2). If you remove one of them, the other is
now longer shown as orphan.</p>

<p style="margin-top: 1em">the software can only work with
one version of each software : we only treat the first
version seen</p>

<p style="margin-top: 1em">INCOMPATIBILITIES <br>
not known</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
to be written</p>

<p style="margin-top: 1em">NOTES <br>
this program can be used as &quot;normal&quot; user to show
orphans, but you need to run it as supersuser (root) to
remove packages or apply changes in the permanent exclude
list</p>

<p style="margin-top: 1em">access-time and install-time
options are &quot;new&quot; features, not available in
deborphan tool</p>

<p style="margin-top: 1em">For Fedora users : Yum offers a
program called &rsquo;package-cleanup&rsquo; which, called
with the &rsquo;--leaves&rsquo; option, can show quickly a
list of unused library packages.</p>

<p style="margin-top: 1em">For Mandriva users : the
&rsquo;urpme --auto-orphans&rsquo; command show quickly a a
list of unused library packages.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
RPMORPHAN_METHOD <br>
for experts only : allow to force the method used to get rpm
data. It can be set to URPM, RPM2 or &rsquo;basic&rsquo;
(for external rpm query)</p>

<p style="margin-top: 1em">SEE ALSO <br>
rpm(1) for rpm call</p>

<p style="margin-top: 1em">rpmusage(1)</p>

<p style="margin-top: 1em">rpmdep(1)</p>

<p style="margin-top: 1em">rpmduplicates(1)</p>

<p style="margin-top: 1em">rpmextra(1)</p>

<p style="margin-top: 1em">EXIT STATUS <br>
should be allways 0</p>

<p style="margin-top: 1em">LICENSE AND COPYRIGHT <br>
Copyright (C) 2006 by Eric Gerbier This program is free
software; you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the
<br>
Free Software Foundation; either version 2 of the License,
or (at your option) any later version.</p>

<p style="margin-top: 1em">AUTHOR <br>
Eric Gerbier</p>

<p style="margin-top: 1em">you can report any bug or
suggest to gerbier@users.sourceforge.net</p>

<p style="margin-top: 1em">perl v5.24.1 2017-02-11
RPMORPHAN(1)</p>
<hr>
</body>
</html>
