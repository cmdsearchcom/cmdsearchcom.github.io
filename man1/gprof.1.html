<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:15:01 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GPROF(1) GNU GPROF(1)</p>

<p style="margin-top: 1em">NAME <br>
gprof - display call graph profile data</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gprof [ -[abcDhilLrsTvwxyz] ] [ -[ACeEfFJnNOpPqQZ][name] ]
<br>
[ -I dirs ] [ -d[num] ] [ -k from/to ] <br>
[ -m min-count ] [ -R map_file ] [ -t table-length ] <br>
[ --[no-]annotated-source[=name] ] <br>
[ --[no-]exec-counts[=name] ] <br>
[ --[no-]flat-profile[=name] ] [ --[no-]graph[=name] ] <br>
[ --[no-]time=name] [ --all-lines ] [ --brief ] <br>
[ --debug[=level] ] [ --function-ordering ] <br>
[ --file-ordering map_file ] [ --directory-path=dirs ] <br>
[ --display-unused-functions ] [ --file-format=name ] <br>
[ --file-info ] [ --help ] [ --line ] [ --inline-file-names
] <br>
[ --min-count=n ] [ --no-static ] [ --print-path ] <br>
[ --separate-files ] [ --static-call-graph ] [ --sum ] <br>
[ --table-length=len ] [ --traditional ] [ --version ] <br>
[ --width=n ] [ --ignore-non-functions ] <br>
[ --demangle[=STYLE] ] [ --no-demangle ] <br>
[--external-symbol-table=name] <br>
[ image-file ] [ profile-file ... ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
&quot;gprof&quot; produces an execution profile of C,
Pascal, or Fortran77 programs. The effect of called routines
is incorporated in the profile of each caller. The profile
data is <br>
taken from the call graph profile file (gmon.out default)
which is created by programs that are compiled with the -pg
option of &quot;cc&quot;, &quot;pc&quot;, and
&quot;f77&quot;. The -pg option also links <br>
in versions of the library routines that are compiled for
profiling. &quot;Gprof&quot; reads the given object file
(the default is &quot;a.out&quot;) and establishes the
relation between its symbol <br>
table and the call graph profile from gmon.out. If more than
one profile file is specified, the &quot;gprof&quot; output
shows the sum of the profile information in the given
profile <br>
files.</p>

<p style="margin-top: 1em">&quot;Gprof&quot; calculates the
amount of time spent in each routine. Next, these times are
propagated along the edges of the call graph. Cycles are
discovered, and calls into a cycle <br>
are made to share the time of the cycle.</p>

<p style="margin-top: 1em">Several forms of output are
available from the analysis.</p>

<p style="margin-top: 1em">The flat profile shows how much
time your program spent in each function, and how many times
that function was called. If you simply want to know which
functions burn most of <br>
the cycles, it is stated concisely here.</p>

<p style="margin-top: 1em">The call graph shows, for each
function, which functions called it, which other functions
it called, and how many times. There is also an estimate of
how much time was spent in <br>
the subroutines of each function. This can suggest places
where you might try to eliminate function calls that use a
lot of time.</p>

<p style="margin-top: 1em">The annotated source listing is
a copy of the program&rsquo;s source code, labeled with the
number of times each line of the program was executed.</p>

<p style="margin-top: 1em">OPTIONS <br>
These options specify which of several output formats
&quot;gprof&quot; should produce.</p>

<p style="margin-top: 1em">Many of these options take an
optional symspec to specify functions to be included or
excluded. These options can be specified multiple times,
with different symspecs, to <br>
include or exclude sets of symbols.</p>

<p style="margin-top: 1em">Specifying any of these options
overrides the default (-p -q), which prints a flat profile
and call graph analysis for all functions.</p>

<p style="margin-top: 1em">&quot;-A[symspec]&quot; <br>
&quot;--annotated-source[=symspec]&quot; <br>
The -A option causes &quot;gprof&quot; to print annotated
source code. If symspec is specified, print output only for
matching symbols.</p>

<p style="margin-top: 1em">&quot;-b&quot; <br>
&quot;--brief&quot; <br>
If the -b option is given, &quot;gprof&quot; doesn&rsquo;t
print the verbose blurbs that try to explain the meaning of
all of the fields in the tables. This is useful if you
intend to print <br>
out the output, or are tired of seeing the blurbs.</p>

<p style="margin-top: 1em">&quot;-C[symspec]&quot; <br>
&quot;--exec-counts[=symspec]&quot; <br>
The -C option causes &quot;gprof&quot; to print a tally of
functions and the number of times each was called. If
symspec is specified, print tally only for matching
symbols.</p>

<p style="margin-top: 1em">If the profile data file
contains basic-block count records, specifying the -l
option, along with -C, will cause basic-block execution
counts to be tallied and displayed.</p>

<p style="margin-top: 1em">&quot;-i&quot; <br>
&quot;--file-info&quot; <br>
The -i option causes &quot;gprof&quot; to display summary
information about the profile data file(s) and then exit.
The number of histogram, call graph, and basic-block count
records <br>
is displayed.</p>

<p style="margin-top: 1em">&quot;-I dirs&quot; <br>
&quot;--directory-path=dirs&quot; <br>
The -I option specifies a list of search directories in
which to find source files. Environment variable GPROF_PATH
can also be used to convey this information. Used mostly
<br>
for annotated source output.</p>

<p style="margin-top: 1em">&quot;-J[symspec]&quot; <br>
&quot;--no-annotated-source[=symspec]&quot; <br>
The -J option causes &quot;gprof&quot; not to print
annotated source code. If symspec is specified,
&quot;gprof&quot; prints annotated source, but excludes
matching symbols.</p>

<p style="margin-top: 1em">&quot;-L&quot; <br>
&quot;--print-path&quot; <br>
Normally, source filenames are printed with the path
component suppressed. The -L option causes &quot;gprof&quot;
to print the full pathname of source filenames, which is
determined <br>
from symbolic debugging information in the image file and is
relative to the directory in which the compiler was
invoked.</p>

<p style="margin-top: 1em">&quot;-p[symspec]&quot; <br>
&quot;--flat-profile[=symspec]&quot; <br>
The -p option causes &quot;gprof&quot; to print a flat
profile. If symspec is specified, print flat profile only
for matching symbols.</p>

<p style="margin-top: 1em">&quot;-P[symspec]&quot; <br>
&quot;--no-flat-profile[=symspec]&quot; <br>
The -P option causes &quot;gprof&quot; to suppress printing
a flat profile. If symspec is specified, &quot;gprof&quot;
prints a flat profile, but excludes matching symbols.</p>

<p style="margin-top: 1em">&quot;-q[symspec]&quot; <br>
&quot;--graph[=symspec]&quot; <br>
The -q option causes &quot;gprof&quot; to print the call
graph analysis. If symspec is specified, print call graph
only for matching symbols and their children.</p>

<p style="margin-top: 1em">&quot;-Q[symspec]&quot; <br>
&quot;--no-graph[=symspec]&quot; <br>
The -Q option causes &quot;gprof&quot; to suppress printing
the call graph. If symspec is specified, &quot;gprof&quot;
prints a call graph, but excludes matching symbols.</p>

<p style="margin-top: 1em">&quot;-t&quot; <br>
&quot;--table-length=num&quot; <br>
The -t option causes the num most active source lines in
each source file to be listed when source annotation is
enabled. The default is 10.</p>

<p style="margin-top: 1em">&quot;-y&quot; <br>
&quot;--separate-files&quot; <br>
This option affects annotated source output only. Normally,
&quot;gprof&quot; prints annotated source files to
standard-output. If this option is specified, annotated
source for a <br>
file named path/filename is generated in the file
filename-ann. If the underlying file system would truncate
filename-ann so that it overwrites the original filename,
<br>
&quot;gprof&quot; generates annotated source in the file
filename.ann instead (if the original file name has an
extension, that extension is replaced with .ann).</p>

<p style="margin-top: 1em">&quot;-Z[symspec]&quot; <br>
&quot;--no-exec-counts[=symspec]&quot; <br>
The -Z option causes &quot;gprof&quot; not to print a tally
of functions and the number of times each was called. If
symspec is specified, print tally, but exclude matching
symbols.</p>

<p style="margin-top: 1em">&quot;-r&quot; <br>
&quot;--function-ordering&quot; <br>
The --function-ordering option causes &quot;gprof&quot; to
print a suggested function ordering for the program based on
profiling data. This option suggests an ordering which may
<br>
improve paging, tlb and cache behavior for the program on
systems which support arbitrary ordering of functions in an
executable.</p>

<p style="margin-top: 1em">The exact details of how to
force the linker to place functions in a particular order is
system dependent and out of the scope of this manual.</p>

<p style="margin-top: 1em">&quot;-R map_file&quot; <br>
&quot;--file-ordering map_file&quot; <br>
The --file-ordering option causes &quot;gprof&quot; to print
a suggested .o link line ordering for the program based on
profiling data. This option suggests an ordering which may
<br>
improve paging, tlb and cache behavior for the program on
systems which do not support arbitrary ordering of functions
in an executable.</p>

<p style="margin-top: 1em">Use of the -a argument is highly
recommended with this option.</p>

<p style="margin-top: 1em">The map_file argument is a
pathname to a file which provides function name to object
file mappings. The format of the file is similar to the
output of the program &quot;nm&quot;.</p>

<p style="margin-top: 1em">c-parse.o:00000000 T yyparse
<br>
c-parse.o:00000004 C yyerrflag <br>
c-lang.o:00000000 T maybe_objc_method_name <br>
c-lang.o:00000000 T print_lang_statistics <br>
c-lang.o:00000000 T recognize_objc_keyword <br>
c-decl.o:00000000 T print_lang_identifier <br>
c-decl.o:00000000 T print_lang_type <br>
...</p>

<p style="margin-top: 1em">To create a map_file with GNU
&quot;nm&quot;, type a command like &quot;nm --extern-only
--defined-only -v --print-file-name program-name&quot;.</p>

<p style="margin-top: 1em">&quot;-T&quot; <br>
&quot;--traditional&quot; <br>
The -T option causes &quot;gprof&quot; to print its output
in &quot;traditional&quot; BSD style.</p>

<p style="margin-top: 1em">&quot;-w width&quot; <br>
&quot;--width=width&quot; <br>
Sets width of output lines to width. Currently only used
when printing the function index at the bottom of the call
graph.</p>

<p style="margin-top: 1em">&quot;-x&quot; <br>
&quot;--all-lines&quot; <br>
This option affects annotated source output only. By
default, only the lines at the beginning of a basic-block
are annotated. If this option is specified, every line in a
<br>
basic-block is annotated by repeating the annotation for the
first line. This behavior is similar to
&quot;tcov&quot;&rsquo;s -a.</p>

<p style="margin-top: 1em">&quot;--demangle[=style]&quot;
<br>
&quot;--no-demangle&quot; <br>
These options control whether C++ symbol names should be
demangled when printing output. The default is to demangle
symbols. The &quot;--no-demangle&quot; option may be used to
turn <br>
off demangling. Different compilers have different mangling
styles. The optional demangling style argument can be used
to choose an appropriate demangling style for your <br>
compiler.</p>

<p style="margin-top: 1em">Analysis Options <br>
&quot;-a&quot; <br>
&quot;--no-static&quot; <br>
The -a option causes &quot;gprof&quot; to suppress the
printing of statically declared (private) functions. (These
are functions whose names are not listed as global, and
which are <br>
not visible outside the file/function/block where they were
defined.) Time spent in these functions, calls to/from them,
etc., will all be attributed to the function that <br>
was loaded directly before it in the executable file. This
option affects both the flat profile and the call graph.</p>

<p style="margin-top: 1em">&quot;-c&quot; <br>
&quot;--static-call-graph&quot; <br>
The -c option causes the call graph of the program to be
augmented by a heuristic which examines the text space of
the object file and identifies function calls in the binary
<br>
machine code. Since normal call graph records are only
generated when functions are entered, this option identifies
children that could have been called, but never were. <br>
Calls to functions that were not compiled with profiling
enabled are also identified, but only if symbol table
entries are present for them. Calls to dynamic library <br>
routines are typically not found by this option. Parents or
children identified via this heuristic are indicated in the
call graph with call counts of 0.</p>

<p style="margin-top: 1em">&quot;-D&quot; <br>
&quot;--ignore-non-functions&quot; <br>
The -D option causes &quot;gprof&quot; to ignore symbols
which are not known to be functions. This option will give
more accurate profile data on systems where it is supported
<br>
(Solaris and HPUX for example).</p>

<p style="margin-top: 1em">&quot;-k from/to&quot; <br>
The -k option allows you to delete from the call graph any
arcs from symbols matching symspec from to those matching
symspec to.</p>

<p style="margin-top: 1em">&quot;-l&quot; <br>
&quot;--line&quot; <br>
The -l option enables line-by-line profiling, which causes
histogram hits to be charged to individual source code
lines, instead of functions. This feature only works with
<br>
programs compiled by older versions of the &quot;gcc&quot;
compiler. Newer versions of &quot;gcc&quot; are designed to
work with the &quot;gcov&quot; tool instead.</p>

<p style="margin-top: 1em">If the program was compiled with
basic-block counting enabled, this option will also identify
how many times each line of code was executed. While
line-by-line profiling can <br>
help isolate where in a large function a program is spending
its time, it also significantly increases the running time
of &quot;gprof&quot;, and magnifies statistical
inaccuracies.</p>

<p style="margin-top: 1em">&quot;--inline-file-names&quot;
<br>
This option causes &quot;gprof&quot; to print the source
file after each symbol in both the flat profile and the call
graph. The full path to the file is printed if used with the
-L <br>
option.</p>

<p style="margin-top: 1em">&quot;-m num&quot; <br>
&quot;--min-count=num&quot; <br>
This option affects execution count output only. Symbols
that are executed less than num times are suppressed.</p>

<p style="margin-top: 1em">&quot;-nsymspec&quot; <br>
&quot;--time=symspec&quot; <br>
The -n option causes &quot;gprof&quot;, in its call graph
analysis, to only propagate times for symbols matching
symspec.</p>

<p style="margin-top: 1em">&quot;-Nsymspec&quot; <br>
&quot;--no-time=symspec&quot; <br>
The -n option causes &quot;gprof&quot;, in its call graph
analysis, not to propagate times for symbols matching
symspec.</p>

<p style="margin-top: 1em">&quot;-Sfilename&quot; <br>
&quot;--external-symbol-table=filename&quot; <br>
The -S option causes &quot;gprof&quot; to read an external
symbol table file, such as /proc/kallsyms, rather than read
the symbol table from the given object file (the default is
<br>
&quot;a.out&quot;). This is useful for profiling kernel
modules.</p>

<p style="margin-top: 1em">&quot;-z&quot; <br>
&quot;--display-unused-functions&quot; <br>
If you give the -z option, &quot;gprof&quot; will mention
all functions in the flat profile, even those that were
never called, and that had no time spent in them. This is
useful in <br>
conjunction with the -c option for discovering which
routines were never called.</p>

<p style="margin-top: 1em">Miscellaneous Options <br>
&quot;-d[num]&quot; <br>
&quot;--debug[=num]&quot; <br>
The -d num option specifies debugging options. If num is not
specified, enable all debugging.</p>

<p style="margin-top: 1em">&quot;-h&quot; <br>
&quot;--help&quot; <br>
The -h option prints command line usage.</p>

<p style="margin-top: 1em">&quot;-Oname&quot; <br>
&quot;--file-format=name&quot; <br>
Selects the format of the profile data files. Recognized
formats are auto (the default), bsd, 4.4bsd, magic, and prof
(not yet supported).</p>

<p style="margin-top: 1em">&quot;-s&quot; <br>
&quot;--sum&quot; <br>
The -s option causes &quot;gprof&quot; to summarize the
information in the profile data files it read in, and write
out a profile data file called gmon.sum, which contains all
the <br>
information from the profile data files that
&quot;gprof&quot; read in. The file gmon.sum may be one of
the specified input files; the effect of this is to merge
the data in the other <br>
input files into gmon.sum.</p>

<p style="margin-top: 1em">Eventually you can run
&quot;gprof&quot; again without -s to analyze the cumulative
data in the file gmon.sum.</p>

<p style="margin-top: 1em">&quot;-v&quot; <br>
&quot;--version&quot; <br>
The -v flag causes &quot;gprof&quot; to print the current
version number, and then exit.</p>

<p style="margin-top: 1em">Deprecated Options <br>
These options have been replaced with newer versions that
use symspecs.</p>

<p style="margin-top: 1em">&quot;-e function_name&quot;
<br>
The -e function option tells &quot;gprof&quot; to not print
information about the function function_name (and its
children...) in the call graph. The function will still be
listed as <br>
a child of any functions that call it, but its index number
will be shown as [not printed]. More than one -e option may
be given; only one function_name may be indicated <br>
with each -e option.</p>

<p style="margin-top: 1em">&quot;-E function_name&quot;
<br>
The &quot;-E function&quot; option works like the
&quot;-e&quot; option, but time spent in the function (and
children who were not called from anywhere else), will not
be used to compute the <br>
percentages-of-time for the call graph. More than one -E
option may be given; only one function_name may be indicated
with each -E option.</p>

<p style="margin-top: 1em">&quot;-f function_name&quot;
<br>
The -f function option causes &quot;gprof&quot; to limit the
call graph to the function function_name and its children
(and their children...). More than one -f option may be
given; <br>
only one function_name may be indicated with each -f
option.</p>

<p style="margin-top: 1em">&quot;-F function_name&quot;
<br>
The -F function option works like the &quot;-f&quot; option,
but only time spent in the function and its children (and
their children...) will be used to determine total-time and
<br>
percentages-of-time for the call graph. More than one -F
option may be given; only one function_name may be indicated
with each -F option. The -F option overrides the -E <br>
option.</p>

<p style="margin-top: 1em">FILES <br>
&quot;a.out&quot; <br>
the namelist and text space.</p>

<p style="margin-top: 1em">&quot;gmon.out&quot; <br>
dynamic call graph and profile.</p>

<p style="margin-top: 1em">&quot;gmon.sum&quot; <br>
summarized dynamic call graph and profile.</p>

<p style="margin-top: 1em">BUGS <br>
The granularity of the sampling is shown, but remains
statistical at best. We assume that the time for each
execution of a function can be expressed by the total time
for the <br>
function divided by the number of times the function is
called. Thus the time propagated along the call graph arcs
to the function&rsquo;s parents is directly proportional to
the <br>
number of times that arc is traversed.</p>

<p style="margin-top: 1em">Parents that are not themselves
profiled will have the time of their profiled children
propagated to them, but they will appear to be spontaneously
invoked in the call graph <br>
listing, and will not have their time propagated further.
Similarly, signal catchers, even though profiled, will
appear to be spontaneous (although for more obscure
reasons). <br>
Any profiled children of signal catchers should have their
times propagated properly, unless the signal catcher was
invoked during the execution of the profiling routine, in
<br>
which case all is lost.</p>

<p style="margin-top: 1em">The profiled program must call
&quot;exit&quot;(2) or return normally for the profiling
information to be saved in the gmon.out file.</p>

<p style="margin-top: 1em">SEE ALSO <br>
monitor(3), profil(2), cc(1), prof(1), and the Info entry
for gprof.</p>

<p style="margin-top: 1em">&quot;An Execution Profiler for
Modular Programs&quot;, by S. Graham, P. Kessler, M.
McKusick; Software - Practice and Experience, Vol. 13, pp.
671-685, 1983.</p>

<p style="margin-top: 1em">&quot;gprof: A Call Graph
Execution Profiler&quot;, by S. Graham, P. Kessler, M.
McKusick; Proceedings of the SIGPLAN &rsquo;82 Symposium on
Compiler Construction, SIGPLAN Notices, Vol. 17, No <br>
6, pp. 120-126, June 1982.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 1988-2014 Free Software Foundation, Inc.</p>

<p style="margin-top: 1em">Permission is granted to copy,
distribute and/or modify this document under the terms of
the GNU Free Documentation License, Version 1.3 or any later
version published by the <br>
Free Software Foundation; with no Invariant Sections, with
no Front-Cover Texts, and with no Back-Cover Texts. A copy
of the license is included in the section entitled &quot;GNU
<br>
Free Documentation License&quot;.</p>

<p style="margin-top: 1em">binutils-2.25.1 2016-11-04
GPROF(1)</p>
<hr>
</body>
</html>
