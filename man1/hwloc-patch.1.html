<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HWLOC-PATCH(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HWLOC-PATCH(1)</td>
    <td class="head-vol">hwloc</td>
    <td class="head-rtitle">HWLOC-PATCH(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hwloc-patch - Apply a topology difference to an existing XML topology
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>hwloc-patch</b> [ <i>options</i>] <i>[&lt;topology.xml&gt; | refname]</i>
  <i>[&lt;diff.xml&gt; | -]</i> <i>&lt;output.xml&gt;</i>
<div class="Pp"></div>
<b>hwloc-patch</b> [ <i>options</i>] <i>[&lt;topology.xml&gt; | refname]</i>
  <i>[&lt;diff.xml&gt; | -]</i>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R --reverse</b></dt>
  <dd class="It-tag">Reverse the sense the difference file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Report version and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
hwloc-patch loads the difference between two topologies from a XML file (or from
  the standard input) and applies it to an existing topology, generating a new,
  modified one.
<div class="Pp"></div>
The XML difference may have been computed earlier with hwloc-diff or
  hwloc-compress-dir.
<div class="Pp"></div>
If &lt;output.xml&gt; is given, the new, modified topology is stored in that new
  file. Otherwise, &lt;topology.xml&gt; is modified in place.
<div class="Pp"></div>
If <b>refname</b> is given instead of &lt;topology.xml&gt;, the input topology
  filename is automatically guessed by reading the refname field of the XML diff
  file. By default hwloc-diff generates XML diffs with the right reference
  topology filename (without any path prefix).
<div class="Pp"></div>
If <b>-</b> is given instead of &lt;diff.xml&gt;, the topology difference is
  read from the standard input.
<div class="Pp"></div>
<b>NOTE:</b> It is highly recommended that you read the hwloc(7) overview page
  before reading this man page. Most of the concepts described in hwloc(7)
  directly apply to the hwloc-patch utility.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
hwloc-patch's operation is best described through several examples.
<div class="Pp"></div>
Apply a XML topology difference file to an existing topology:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-patch fourmi023.xml diff.xml fourmi023-new.xml
<div style="height: 1.00em;">&#x00A0;</div>
Apply a XML topology difference file whole refname field contains the right
  input topology:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-patch refname diff.xml fourmi023-new.xml
<div style="height: 1.00em;">&#x00A0;</div>
Apply a XML topology from the standard intput:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ cat diff.xml | hwloc-patch fourmi023.xml - fourmi023-new.xml
<div style="height: 1.00em;">&#x00A0;</div>
Directly compute the difference between two topologies and apply it to another
  one, in place:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 $ hwloc-diff fourmi023.xml fourmi024.xml | hwloc-patch fourmi025.xml -
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="RETURN_VALUE"><a class="selflink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
Upon successful execution, hwloc-patch outputs the modified topology. The return
  value is 0.
<div class="Pp"></div>
hwloc-patch also returns nonzero if any kind of error occurs, such as (but not
  limited to) failure to parse the command line.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
hwloc(7), lstopo(1), hwloc-diff(1), hwloc-compress-dir(1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 17, 2015</td>
    <td class="foot-os">1.11.2</td>
  </tr>
</table>
</body>
</html>
