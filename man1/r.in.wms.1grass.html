<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.in.wms(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.in.wms(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.in.wms(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.in.wms</b> - Downloads and imports data from WMS/WMTS/NASA OnEarth
  server.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, import, OGC web services
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.in.wms</b>
<div>&#x00A0;</div>
<b>r.in.wms --help</b>
<div>&#x00A0;</div>
<b>r.in.wms</b> [-<b>co</b>] <b>url</b>=<i>string</i> <b>output</b>=<i>name</i>
  <b>layers</b>=<i>string</i>[,<i>string</i>,...]
  [<b>styles</b>=<i>string</i>[,<i>string</i>,...]]
  [<b>format</b>=<i>string</i>] [ <b>srs</b>=<i>integer</i>]
  [<b>driver</b>=<i>string</i>] [ <b>wms_version</b>=<i>string</i>]
  [<b>maxcols</b>= <i>integer</i>] [<b>maxrows</b>=<i>integer</i>]
  [<b>urlparams</b>= <i>string</i>] [<b>username</b>=<i>string</i>]
  [<b>password</b>= <i>string</i>] [<b>method</b>=<i>string</i>]
  [<b>region</b>=<i>string</i>] [<b>bgcolor</b>=<i>string</i>]
  [<b>capfile</b>=<i>name</i>] [<b>capfile_output</b>=<i>name</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Get the server capabilities then exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not request transparent data</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>url</b>=<i>string</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Typically starts with &quot;http://&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output raster map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>layers</b>=<i>string[,</i><i>string</i>,...]
    <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer(s) to request from the map server</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>styles</b>=<i>string[,</i><i>string</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer style(s) to request from the map server</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>format</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Image format requested from the server
    <div>&#x00A0;</div>
    Options: <i>geotiff, tiff, jpeg, gif, png, png8</i>
    <div>&#x00A0;</div>
    Default: <i>png</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>srs</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    EPSG code of requested source projection
    <div>&#x00A0;</div>
    Default: <i>4326</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>driver</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Driver used to communication with server
    <div>&#x00A0;</div>
    Options: <i>WMS_GDAL, WMS_GRASS, WMTS_GRASS, OnEarth_GRASS</i>
    <div>&#x00A0;</div>
    Default: <i>WMS_GRASS</i>
    <div>&#x00A0;</div>
     <b>WMS_GDAL</b>: Download data using GDAL WMS driver
    <div>&#x00A0;</div>
     <b>WMS_GRASS</b>: Download data using native GRASS-WMS driver
    <div>&#x00A0;</div>
     <b>WMTS_GRASS</b>: Download data using native GRASS-WMTS driver
    <div>&#x00A0;</div>
     <b>OnEarth_GRASS</b>: Download data using native GRASS-OnEarth driver</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wms_version</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    WMS standard version
    <div>&#x00A0;</div>
    Options: <i>1.1.1, 1.3.0</i>
    <div>&#x00A0;</div>
    Default: <i>1.1.1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maxcols</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Maximum columns to request at a time
    <div>&#x00A0;</div>
    Default: <i>512</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maxrows</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Maximum rows to request at a time
    <div>&#x00A0;</div>
    Default: <i>512</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>urlparams</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Additional query parameters to pass to the server</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>username</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Username for server connection</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>password</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Password for server connection</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>method</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Interpolation method to use in reprojection
    <div>&#x00A0;</div>
    Options: <i>nearest, linear, cubic, cubicspline</i>
    <div>&#x00A0;</div>
    Default: <i>nearest</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>region</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Request data for this named region instead of the current region bounds</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>bgcolor</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Background color
    <div>&#x00A0;</div>
    Format: 0xRRGGBB</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>capfile</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Capabilities file to parse (input). It is relevant for WMTS_GRASS and
      OnEarth_GRASS drivers</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>capfile_output</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    File where the server capabilities will be saved (&#x2019;c&#x2019;
    flag)</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.in.wms</i> handles all of downloading and importing raster data from an OGC
  WMS and OGC WMTS web mapping servers. It only needs be told the desired data
  to collect (bounds and resolution) via a region, the server to get the data
  from, and the layer or layers to get. It downloads the data in tiles,
  reprojects it, imports it, and patches it back together.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
To understand the data you are getting it is necessary to look at the
  capabilities of the WMS server. This should be available via a capabilities
  request (see examples)
<div class="Pp"></div>
When using GDAL WMS driver ( <b>driver=WMS_GDAL</b>), the GDAL library needs to
  be built with WMS support, see GDAL WMS manual page for details.
<h2 class="Ss" title="Ss" id="Tiled_WMS"><a class="selflink" href="#Tiled_WMS">Tiled
  WMS</a></h2>
Into the parameter <b>layers</b> the name of the <i>TiledGroup</i> need to be
  inserted from Tile Service file. Time variable can be specified in
  <b>urlparams</b> parameter, e.g: urlparams=&#x2019;time=2012-1-1&#x2019;.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="General_Get_Capabilities_Request"><a class="selflink" href="#General_Get_Capabilities_Request">General
  Get Capabilities Request</a></h2>
<pre>
# Topographic WMS with OpenStreetMap by mundialis
r.in.wms -c url=&quot;http://ows.mundialis.de/services/service?&quot;
r.in.wms -c url=&quot;http://ows.mundialis.de/services/service?&quot; | grep Name
# Czech WMS
r.in.wms -c url=&quot;http://wms.cuzk.cz/wms.asp&quot;
</pre>
<h2 class="Ss" title="Ss" id="Download_raster_data_from_WMS_server_(GetMap_request)"><a class="selflink" href="#Download_raster_data_from_WMS_server_(GetMap_request)">Download
  raster data from WMS server (GetMap request)</a></h2>
<h2 class="Ss" title="Ss" id="Open_Street_Map"><a class="selflink" href="#Open_Street_Map">Open
  Street Map</a></h2>
<pre>
# OSM
g.region n=90 s=-90 w=-180 e=180 res=0:10:00 -p
r.in.wms url=http://watzmann-geog.urz.uni-heidelberg.de/cached/osm layers=osm_auto:all output=osm format=png
</pre>
<div>&#x00A0;</div>
<pre>
# OSM
r.in.wms url=http://irs.gis-lab.info layers=osm output=osm format=png
</pre>
<div>&#x00A0;</div>
<pre>
# OSM Overlay WMS (can be used as an overlay for other maps)
r.in.wms url=&quot;http://ows.mundialis.de/services/service?&quot; layer=OSM-Overlay-WMS output=osm_overlay format=png
# TOPO-OSM-WMS
r.in.wms url=&quot;http://ows.mundialis.de/services/service?&quot; layer=TOPO-OSM-WMS output=topo_osm format=png
# TOPO-WMS
r.in.wms url=&quot;http://ows.mundialis.de/services/service?&quot; layer=TOPO-WMS output=topo format=png
</pre>
<div class="Pp"></div>
More OSM WMS servers can be found online, e.g. on the OSM wiki in a OSM WMS
  Servers list and on the OSM-WMS-EUROPE page.
<h2 class="Ss" title="Ss" id="Image_data"><a class="selflink" href="#Image_data">Image
  data</a></h2>
<pre>
# Landsat
r.in.wms url=http://irs.gis-lab.info layers=landsat output=landsat format=png
</pre>
<h2 class="Ss" title="Ss" id="Countries_and_coastlines"><a class="selflink" href="#Countries_and_coastlines">Countries
  and coastlines</a></h2>
<pre>
r.in.wms url=http://www2.demis.nl/WMS/wms.asp layers=Countries,Borders,Coastline output=countries srs=4326 format=png
</pre>
<h2 class="Ss" title="Ss" id="OGC_WMTS_Example"><a class="selflink" href="#OGC_WMTS_Example">OGC
  WMTS Example</a></h2>
<pre>
r.in.wms url=http://gpp3-wxs.ign.fr/yourAPIkey/geoportail/wmts layers=ORTHOIMAGERY.ORTHOPHOTOS output=orthophoto srs=3857 format=jpeg driver=WMTS_GRASS style=normal password=* username=*
</pre>
Note: username, password and API key can be get from IGN API website
<h2 class="Ss" title="Ss" id="Data_covering_the_Czech_Republic"><a class="selflink" href="#Data_covering_the_Czech_Republic">Data
  covering the Czech Republic</a></h2>
<pre>
r.in.wms output=kn url=http://wms.cuzk.cz/wms.asp layers=prehledka_kraju-linie srs=4326 format=png
</pre>
<div>&#x00A0;</div>
<pre>
r.in.wms url=http://geoportal.cuzk.cz/WMTS_ORTOFOTO/WMTService.aspx layers=orto output=ortofoto srs=3857 format=jpeg driver=WMTS_GRASS style=default
</pre>
Note: data are provided by Czech office for surveying, mapping and cadastre.
<h1 class="Sh" title="Sh" id="REQUIREMENTS"><a class="selflink" href="#REQUIREMENTS">REQUIREMENTS</a></h1>
<i>r.in.wms</i> requires gdalwarp utility from GDAL/OGR library.
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">OGC WMS</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">OGC WMTS</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>r.in.gdal,</i> <i>r.patch,</i> <i>r.colors,</i> <i>r.composite,</i>
  <i>v.in.wfs</i> <i></i>
<div class="Pp"></div>
See also WMS support in wxGUI.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Stepan Turek, Czech Technical University in Prague, Czech Republic
  (bachelor&#x2019;s final project 2012, mentor: Martin Landa)
<div class="Pp"></div>
<i>Last changed: $Date: 2016-11-17 11:26:42 +0100 (Thu, 17 Nov 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.in.wms source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
