<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Ppmforge User Manual(0)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Ppmforge User Manual(0)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">Ppmforge User Manual(0)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ppmforge - fractal forgeries of clouds, planets, and starry skies
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>ppmforge</b>
<div style="height: 1.00em;">&#x00A0;</div>
[ <b>-clouds</b>] [ <b>-night</b>] [ <b>-dimension</b> <i>dimen</i>] [
  <b>-hour</b> <i>hour</i>] [ <b>-inclination|-tilt</b> <i>angle</i>] [
  <b>-mesh</b> <i>size</i>] [ <b>-power</b> <i>factor</i>] [ <b>-glaciers</b>
  <i>level</i>] [ <b>-ice</b> <i>level</i>] [ <b>-saturation</b> <i>sat</i>] [
  <b>-seed</b> <i>seed</i>] [ <b>-stars</b> <i>fraction</i>] [{
  <b>-xsize</b>|<b>-width</b>} <i>width</i>] [{ <b>-ysize</b>|<b>-height</b>}
  <i>height</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of <b>Netpbm</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<b>ppmforge</b> generates three kinds of ``random fractal forgeries,'' the term
  coined by Richard F. Voss of the IBM Thomas J. Watson Research Center for
  seemingly realistic pictures of natural objects generated by simple algorithms
  embodying randomness and fractal self-similarity. The techniques used by
  <b>ppmforge</b> are essentially those given by Voss[1], particularly the
  technique of spectral synthesis explained in more detail by Dietmar Saupe[2].
<div class="Pp"></div>
The program generates two varieties of pictures: planets and clouds, which are
  just different renderings of data generated in an identical manner,
  illustrating the unity of the fractal structure of these very different
  objects. A third type of picture, a starry sky, is synthesised directly from
  pseudorandom numbers.
<div class="Pp"></div>
The generation of planets or clouds begins with the preparation of an array of
  random data in the frequency domain. The size of this array, the ``mesh
  size,'' can be set with the <b>-mesh</b> option; the larger the mesh the more
  realistic the pictures but the calculation time and memory requirement
  increases as the square of the mesh size. The fractal dimension, which you can
  specify with the <b>-dimension</b> option, determines the roughness of the
  terrain on the planet or the scale of detail in the clouds. As the fractal
  dimension is increased, more high frequency components are added into the
  random mesh.
<div class="Pp"></div>
Once the mesh is generated, an inverse two dimensional Fourier transform is
  performed upon it. This converts the original random frequency domain data
  into spatial amplitudes. We scale the real components that result from the
  Fourier transform into numbers from 0 to 1 associated with each point on the
  mesh. You can further modify this number by applying a ``power law scale'' to
  it with the <b>-power</b> option. Unity scale leaves the numbers unmodified; a
  power scale of 0.5 takes the square root of the numbers in the mesh, while a
  power scale of 3 replaces the numbers in the mesh with their cubes. Power law
  scaling is best envisioned by thinking of the data as representing the
  elevation of terrain; powers less than 1 yield landscapes with vertical scarps
  that look like glacially-carved valleys; powers greater than one make
  fairy-castle spires (which require large mesh sizes and high resolution for
  best results).
<div class="Pp"></div>
After these calculations, we have a array of the specified size containing
  numbers that range from 0 to 1. <b>ppmforge</b> generates as follows:
<div class="Pp"></div>
The randomness in the image is limited before Netpbm 10.37 (December 2006) -- if
  you run the program twice in the same second, you may get identical output.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Clouds</b></dt>
  <dd class="It-tag">A color map is created that ranges from pure blue to white
      by increasing admixture (desaturation) of blue with white. Numbers less
      than 0.5 are colored blue, numbers between 0.5 and 1.0 are colored with
      corresponding levels of white, with 1.0 being pure white.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Planet</b></dt>
  <dd class="It-tag">The mesh is projected onto a sphere. Values less than 0.5
      are treated as water and values between 0.5 and 1.0 as land. The water
      areas are colored based upon the water depth, and land based on its
      elevation. The random depth data are used to create clouds over the
      oceans. An atmosphere approximately like the Earth's is simulated; its
      light absorption is calculated to create a blue cast around the limb of
      the planet. A function that rises from 0 to 1 based on latitude is
      modulated by the local elevation to generate polar ice caps--high altitude
      terrain carries glaciers farther from the pole. Based on the position of
      the star with respect to the observer, the apparent color of each pixel of
      the planet is calculated by ray-tracing from the star to the planet to the
      observer and applying a lighting model that sums ambient light and diffuse
      reflection (for most planets ambient light is zero, as their primary star
      is the only source of illumination). Additional random data are used to
      generate stars around the planet.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Night</b></dt>
  <dd class="It-tag">A sequence of pseudorandom numbers is used to generate
      stars with a user specified density.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Cloud pictures always contain 256 or fewer colors and may be displayed on most
  color mapped devices without further processing. Planet pictures often contain
  tens of thousands of colors which must be compressed with <b>pnmquant</b> or
  <b>ppmdither</b> before encoding in a color mapped format. If the display
  resolution is high enough, <b>ppmdither</b> generally produces better looking
  planets. <b>pnmquant</b> tends to create discrete color bands, particularly in
  the oceans, which are unrealistic and distracting. The number of colors in
  starry sky pictures generated with the <b>-night</b> option depends on the
  value specified for <b>-saturation</b>. Small values limit the color
  temperature distribution of the stars and reduce the number of colors in the
  image. If the <b>-saturation</b> is set to 0, none of the stars will be
  colored and the resulting image will never contain more than 256 colors. Night
  sky pictures with many different star colors often look best when color
  compressed by <b>pamdepth</b> rather than <b>pnmquant</b> or <b>ppmdither</b>.
  Try <i>newmaxval</i> settings of 63, 31, or 15 with <b>pamdepth</b> to reduce
  the number of colors in the picture to 256 or fewer.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
You can abbreviate any options to its shortest unique prefix.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-clouds</b></dt>
  <dd class="It-tag">Generate clouds. An image of fractal clouds is generated.
      Selecting clouds sets the default for fractal dimension to 2.15 and power
      scale factor to 0.75.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-dimension</b> <i>dimen</i></dt>
  <dd class="It-tag">
    <br/>
     Sets the fractal dimension to the specified <i>dimen</i>, which may be any
      floating point value between 0 and 3. Higher fractal dimensions create
      more ``chaotic'' images, which require higher resolution output and a
      larger FFT mesh size to look good. If no dimension is specified, 2.4 is
      used when generating planets and 2.15 for clouds.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-glaciers</b> <i>level</i></dt>
  <dd class="It-tag">The floating point <i>level</i> setting controls the extent
      to which terrain elevation causes ice to appear at lower latitudes. The
      default value of 0.75 makes the polar caps extend toward the equator
      across high terrain and forms glaciers in the highest mountains, as on
      Earth. Higher values make ice sheets that cover more and more of the land
      surface, simulating planets in the midst of an ice age. Lower values tend
      to be boring, resulting in unrealistic geometrically-precise ice cap
      boundaries.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-hour</b> <i>hour</i></dt>
  <dd class="It-tag">When generating a planet, <b>ppmforge</b> uses <i>hour</i>
      as the 'hour angle at the central meridian.' If you specify <b>-hour</b>
      <b>12</b>, for example, the planet will be fully illuminated,
      corresponding to high noon at the longitude at the center of the screen.
      You can specify any floating point value between 0 and 24 for <i>hour</i>,
      but values which place most of the planet in darkness (0 to 4 and 20 to
      24) result in crescents which, while pretty, don't give you many
      illuminated pixels for the amount of computing that's required. If no
      <b>-hour</b> option is specified, a random hour angle is chosen, biased so
      that only 25% of the images generated will be crescents.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ice</b> <i>level</i></dt>
  <dd class="It-tag">Sets the extent of the polar ice caps to the given floating
      point <i>level</i>. The default level of 0.4 produces ice caps similar to
      those of the Earth. Smaller values reduce the amount of ice, while larger
      <b>-ice</b> settings create more prominent ice caps. Sufficiently large
      values, such as 100 or more, in conjunction with small settings for
      <b>-glaciers</b> (try 0.1) create 'ice balls' like Europa.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-inclination|-tilt</b> <i>angle</i></dt>
  <dd class="It-tag">The inclination angle of the planet with regard to its
      primary star is set to <i>angle</i>, which can be any floating point value
      from -90 to 90. The inclination angle can be thought of as specifying, in
      degrees, the ``season'' the planet is presently experiencing or, more
      precisely, the latitude at which the star transits the zenith at local
      noon. If 0, the planet is at equinox; the star is directly overhead at the
      equator. Positive values represent summer in the northern hemisphere,
      negative values summer in the southern hemisphere. The Earth's inclination
      angle, for example, is about 23.5 at the June solstice, 0 at the equinoxes
      in March and September, and -23.5 at the December solstice. If no
      inclination angle is specified, a random value between -21.6 and 21.6
      degrees is chosen.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mesh</b> <i>size</i></dt>
  <dd class="It-tag">A mesh of <i>size</i> by <i>size</i> will be used for the
      fast Fourier transform (FFT). Note that memory requirements and
      computation speed increase as the square of <i>size</i>; if you double the
      mesh size, the program will use four times the memory and run four times
      as long. The default mesh is 256x256, which produces reasonably good
      looking pictures while using half a megabyte for the 256x256 array of
      single precision complex numbers required by the FFT. On machines with
      limited memory capacity, you may have to reduce the mesh size to avoid
      running out of RAM. Increasing the mesh size produces better looking
      pictures; the difference becomes particularly noticeable when generating
      high resolution images with relatively high fractal dimensions (between
      2.2 and 3).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-night</b></dt>
  <dd class="It-tag">A starry sky is generated. The stars are created by the
      same algorithm used for the stars that surround planet pictures, but the
      output consists exclusively of stars.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-power</b> <i>factor</i></dt>
  <dd class="It-tag">Sets the 'power factor' used to scale elevations
      synthesised from the FFT to <i>factor</i>, which can be any floating point
      number greater than zero. If no factor is specified a default of 1.2 is
      used if a planet is being generated, or 0.75 if clouds are selected by the
      <b>-clouds</b> option. The result of the FFT image synthesis is an array
      of elevation values between 0 and 1. A non-unity power factor
      exponentiates each of these elevations to the specified power. For
      example, a power factor of 2 squares each value, while a power factor of
      0.5 replaces each with its square root. (Note that exponentiating values
      between 0 and 1 yields values that remain within that range.) Power
      factors less than 1 emphasise large-scale elevation changes at the expense
      of small variations. Power factors greater than 1 increase the roughness
      of the terrain and, like high fractal dimensions, may require a larger FFT
      mesh size and/or higher screen resolution to look good.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-saturation</b> <i>sat</i></dt>
  <dd class="It-tag">Controls the degree of color saturation of the stars that
      surround planet pictures and fill starry skies created with the
      <b>-night</b> option. The default value of 125 creates stars which
      resemble the sky as seen by the human eye from Earth's surface. Stars are
      dim; only the brightest activate the cones in the human retina, causing
      color to be perceived. Higher values of <i>sat</i> approximate the
      appearance of stars from Earth orbit, where better dark adaptation,
      absence of skyglow, and the concentration of light from a given star onto
      a smaller area of the retina thanks to the lack of atmospheric turbulence
      enhances the perception of color. Values greater than 250 create ``science
      fiction'' skies that, while pretty, don't occur in this universe.
    <div style="height: 1.00em;">&#x00A0;</div>
    Thanks to the inverse square law combined with Nature's love of mediocrity,
      there are many, many dim stars for every bright one. This population
      relationship is accurately reflected in the skies created by
      <b>ppmforge</b>. Dim, low mass stars live much longer than bright massive
      stars, consequently there are many reddish stars for every blue giant.
      This relationship is preserved by <b>ppmforge</b>. You can reverse the
      proportion, simulating the sky as seen in a starburst galaxy, by
      specifying a negative <i>sat</i> value.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-seed</b> <i>num</i></dt>
  <dd class="It-tag">Sets the seed for the random number generator to the
      integer <i>num</i>. The seed used to create each picture is displayed on
      standard output (unless suppressed with the <b>-quiet</b> option).
      Pictures generated with the same seed will be identical. If no
      <b>-seed</b> is specified, a random seed derived from the date and time
      will be chosen. Specifying an explicit seed allows you to re-render a
      picture you particularly like at a higher resolution or with different
      viewing parameters.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-stars</b> <i>fraction</i></dt>
  <dd class="It-tag">Specifies the percentage of pixels, in tenths of a percent,
      which will appear as stars, either surrounding a planet or filling the
      entire frame if <b>-night</b> is specified. The default <i>fraction</i> is
      100.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-xsize|-width</b><i> width</i></dt>
  <dd class="It-tag">Sets the width of the generated image to <i>width</i>
      pixels. The default width is 256 pixels. Images must be at least as wide
      as they are high; if a width less than the height is specified, it will be
      increased to equal the height. If you must have a long skinny image, make
      a square one with <b>ppmforge</b>, then use <b>pamcut</b> to extract a
      portion of the shape and size you require.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ysize|-height</b> <i>height</i></dt>
  <dd class="It-tag">Sets the height of the generated image to <i>height</i>
      pixels. The default height is 256 pixels. If the height specified exceeds
      the width, the width will be increased to equal the height.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="LIMITATIONS"><a class="selflink" href="#LIMITATIONS">LIMITATIONS</a></h1>
The algorithms require the output image to be at least as wide as it is high,
  and the width to be an even number of pixels. These constraints are enforced
  by increasing the size of the requested image if necessary.
<div class="Pp"></div>
You may have to reduce the FFT mesh size on machines with 16 bit integers and
  segmented pointer architectures.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pamcut</b>(1) , <b>pamdepth</b>(1) , <b>ppmdither</b>(1) , <b>pnmquant</b>(1)
  , <b>ppm</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">[1]</dt>
  <dd class="It-tag">Voss, Richard F., ``Random Fractal Forgeries,'' in Earnshaw
      et. al., Fundamental Algorithms for Computer Graphics, Berlin:
      Springer-Verlag, 1985.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[2]</dt>
  <dd class="It-tag">Peitgen, H.-O., and Saupe, D. eds., The Science Of Fractal
      Images, New York: Springer Verlag, 1988.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<pre>
John Walker
Autodesk SA
Avenue des Champs-Montants 14b
CH-2074 MARIN
Suisse/Schweiz/Svizzera/Svizra/Switzerland
     <b>Usenet:</b><i>kelvin@Autodesk.com</i>
     <b>Fax:</b>038/33 88 15
     <b>Voice:</b>038/33 76 33
</pre>
<div class="Pp"></div>
Permission to use, copy, modify, and distribute this software and its
  documentation for any purpose and without fee is hereby granted, without any
  conditions or restrictions. This software is provided ``as is'' without
  express or implied warranty.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="PLUGWARE!"><a class="selflink" href="#PLUGWARE!">PLUGWARE!</a></h2>
If you like this kind of stuff, you may also enjoy ``James Gleick's Chaos--The
  Software'' for MS-DOS, available for $59.95 from your local software store or
  directly from Autodesk, Inc., Attn: Science Series, 2320 Marinship Way,
  Sausalito, CA 94965, USA. Telephone: (800) 688-2344 toll-free or, outside the
  U.S. (415) 332-2344 Ext 4886. Fax: (415) 289-4718. ``Chaos--The Software''
  includes a more comprehensive fractal forgery generator which creates
  three-dimensional landscapes as well as clouds and planets, plus five more
  modules which explore other aspects of Chaos. The user guide of more than 200
  pages includes an introduction by James Gleick and detailed explanations by
  Rudy Rucker of the mathematics and algorithms used by each program.</div>
<table class="foot">
  <tr>
    <td class="foot-date">25 October 1991</td>
    <td class="foot-os">netpbm documentation</td>
  </tr>
</table>
</body>
</html>
