<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CCACHE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CCACHE(1)</td>
    <td class="head-vol">ccache Manual</td>
    <td class="head-rtitle">CCACHE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ccache - a fast C/C++ compiler cache
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>ccache</b> [<i>options</i>]
<b>ccache</b> <i>compiler</i> [<i>compiler options</i>]
<i>compiler</i> [<i>compiler options</i>]                   (via symbolic link)
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
ccache is a compiler cache. It speeds up recompilation by caching the result of
  previous compilations and detecting when the same compilation is being done
  again. Supported languages are C, C++, Objective-C and Objective-C++.
<div style="height: 1.00em;">&#x00A0;</div>
ccache has been carefully written to always produce exactly the same compiler
  output that you would get without the cache. The only way you should be able
  to tell that you are using ccache is the speed. Currently known exceptions to
  this goal are listed under CAVEATS. If you ever discover an undocumented case
  where ccache changes the output of your compiler, please let us know.
<h2 class="Ss" title="Ss" id="Features"><a class="selflink" href="#Features">Features</a></h2>
<div style="margin-left: 4.00ex;">&#x2022;Keeps statistics on hits/misses.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Automatic cache size management.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Can cache compilations that generate
  warnings.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Easy installation.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Low overhead.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Optionally uses hard links where
  possible to avoid copies.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Optionally compresses files in the
  cache to reduce disk space.</div>
<h2 class="Ss" title="Ss" id="Limitations"><a class="selflink" href="#Limitations">Limitations</a></h2>
<div style="margin-left: 4.00ex;">&#x2022;Only knows how to cache the
  compilation of a single C/C++/Objective-C/Objective-C++ file. Other types of
  compilations (multi-file compilation, linking, etc) will silently fall back to
  running the real compiler.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Only works with GCC and compilers that
  behave similar enough.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Some compiler flags are not supported.
  If such a flag is detected, ccache will silently fall back to running the real
  compiler.</div>
<h1 class="Sh" title="Sh" id="RUN_MODES"><a class="selflink" href="#RUN_MODES">RUN
  MODES</a></h1>
There are two ways to use ccache. You can either prefix your compilation
  commands with <b>ccache</b> or you can let ccache masquerade as the compiler
  by creating a symbolic link (named as the compiler) to ccache. The first
  method is most convenient if you just want to try out ccache or wish to use it
  for some specific projects. The second method is most useful for when you wish
  to use ccache for all your compilations.
<div style="height: 1.00em;">&#x00A0;</div>
To use the second method on a Debian system, it's easiest to just prepend
  <i>/usr/lib/ccache</i> to your <b>PATH</b>. <i>/usr/lib/ccache</i> contains
  symlinks for all compilers currently installed as Debian packages.
<div style="height: 1.00em;">&#x00A0;</div>
Alternatively, you can create any symlinks you like yourself like this:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
ln -s /usr/bin/ccache /usr/local/bin/gcc
ln -s /usr/bin/ccache /usr/local/bin/g++
ln -s /usr/bin/ccache /usr/local/bin/cc
ln -s /usr/bin/ccache /usr/local/bin/c++
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
And so forth. This will work as long as the directory with symlinks comes before
  the path to the compiler (which is usually in /usr/bin). After installing you
  may wish to run &#x201C;which gcc&#x201D; to make sure that the correct link
  is being used.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The technique of letting ccache masquerade as the compiler works well, but
  currently doesn&#x2019;t interact well with other tools that do the same
  thing. See USING CCACHE WITH OTHER COMPILER WRAPPERS.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Warning</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
Do not use a hard link, use a symbolic link. A hard link will cause
  &#x201C;interesting&#x201D; problems.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
These options only apply when you invoke ccache as &#x201C;ccache&#x201D;. When
  invoked as a compiler (via a symlink as described in the previous section),
  the normal compiler options apply and you should refer to the
  compiler&#x2019;s documentation.
<div class="Pp"></div>
<b>-c, --cleanup</b>
<div style="margin-left: 4.00ex;">Clean up the cache by removing old cached
  files until the specified file number and cache size limits are not exceeded.
  This also recalculates the cache file count and size totals. Normally, there
  is no need to initiate cleanup manually as ccache keeps the cache below the
  specified limits at runtime and keeps statistics up to date on each
  compilation. Forcing a cleanup is mostly useful if you manually modify the
  cache contents or believe that the cache size statistics may be
  inaccurate.</div>
<div class="Pp"></div>
<b>-C, --clear</b>
<div style="margin-left: 4.00ex;">Clear the entire cache, removing all cached
  files, but keeping the configuration file.</div>
<div class="Pp"></div>
<b>-F, --max-files</b>=<i>N</i>
<div style="margin-left: 4.00ex;">Set the maximum number of files allowed in the
  cache. Use 0 for no limit. The value is stored in a configuration file in the
  cache directory and applies to all future compilations.</div>
<div class="Pp"></div>
<b>-h, --help</b>
<div style="margin-left: 4.00ex;">Print an options summary page.</div>
<div class="Pp"></div>
<b>-M, --max-size</b>=<i>SIZE</i>
<div style="margin-left: 4.00ex;">Set the maximum size of the files stored in
  the cache. <i>SIZE</i> should be a number followed by an optional suffix: k,
  M, G, T (decimal), Ki, Mi, Gi or Ti (binary). The default suffix is G. Use 0
  for no limit. The value is stored in a configuration file in the cache
  directory and applies to all future compilations.</div>
<div class="Pp"></div>
<b>-o, --set-config</b>=<i>KEY=VALUE</i>
<div style="margin-left: 4.00ex;">Set configuration <i>KEY</i> to <i>VALUE</i>.
  See CONFIGURATION for more information.</div>
<div class="Pp"></div>
<b>-p, --print-config</b>
<div style="margin-left: 4.00ex;">Print current configuration options and from
  where they originate (environment variable, configuration file or compile-time
  default).</div>
<div class="Pp"></div>
<b>-s, --show-stats</b>
<div style="margin-left: 4.00ex;">Print the current statistics summary for the
  cache.</div>
<div class="Pp"></div>
<b>-V, --version</b>
<div style="margin-left: 4.00ex;">Print version and copyright information.</div>
<div class="Pp"></div>
<b>-z, --zero-stats</b>
<div style="margin-left: 4.00ex;">Zero the cache statistics (but not the
  configuration options).</div>
<h1 class="Sh" title="Sh" id="EXTRA_OPTIONS"><a class="selflink" href="#EXTRA_OPTIONS">EXTRA
  OPTIONS</a></h1>
When run as a compiler, ccache usually just takes the same command line options
  as the compiler you are using. The only exception to this is the option
  <b>--ccache-skip</b>. That option can be used to tell ccache to avoid
  interpreting the next option in any way and to pass it along to the compiler
  as-is. <b>Note</b>: <b>--ccache-skip</b> currently only tells ccache not to
  interpret the next option as a special compiler option &#x2014; the option
  will still be included in the direct mode hash.
<div style="height: 1.00em;">&#x00A0;</div>
The reason this can be important is that ccache does need to parse the command
  line and determine what is an input filename and what is a compiler option, as
  it needs the input filename to determine the name of the resulting object file
  (among other things). The heuristic ccache uses when parsing the command line
  is that any argument that exists as a file is treated as an input file name.
  By using <b>--ccache-skip</b> you can force an option to not be treated as an
  input file name and instead be passed along to the compiler as a command line
  option.
<div style="height: 1.00em;">&#x00A0;</div>
Another case where <b>--ccache-skip</b> can be useful is if ccache interprets an
  option specially but shouldn&#x2019;t, since the option has another meaning
  for your compiler than what ccache thinks.
<h1 class="Sh" title="Sh" id="CONFIGURATION"><a class="selflink" href="#CONFIGURATION">CONFIGURATION</a></h1>
ccache&#x2019;s default behavior can be overridden by configuration file
  settings, which in turn can be overridden by environment variables with names
  starting with <b>CCACHE_</b>. ccache normally reads configuration from two
  files: first a system-level configuration file and secondly a cache-specific
  configuration file. The priority of configuration settings is as follows
  (where 1 is highest):
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 1.Environment variables.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 2.The cache-specific configuration file
  <b>&lt;ccachedir&gt;/ccache.conf</b> (typically
  <b>$HOME/.ccache/ccache.conf</b>).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 3.The system-wide configuration file
  <b>&lt;sysconfdir&gt;/ccache.conf</b> (typically <b>/etc/ccache.conf</b> or
  <b>/usr/local/etc/ccache.conf</b>).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 4.Compile-time defaults.</div>
<div style="height: 1.00em;">&#x00A0;</div>
As a special case, if the environment variable <b>CCACHE_CONFIGPATH</b> is set,
  ccache reads configuration from the specified path instead of the default
  paths.
<h2 class="Ss" title="Ss" id="Configuration_file_syntax"><a class="selflink" href="#Configuration_file_syntax">Configuration
  file syntax</a></h2>
Configuration files are in a simple &#x201C;key = value&#x201D; format, one
  setting per line. Lines starting with a hash sign are comments. Blank lines
  are ignored, as is whitespace surrounding keys and values. Example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
# Set maximum cache size to 10 GB:
max_size = 10G
</pre>
</div>
<h2 class="Ss" title="Ss" id="Boolean_values"><a class="selflink" href="#Boolean_values">Boolean
  values</a></h2>
Some settings are boolean values (i.e. truth values). In a configuration file,
  such values must be set to the string <b>true</b> or <b>false</b>. For the
  corresponding environment variables, the semantics are a bit different: a set
  environment variable means &#x201C;true&#x201D; regardless of the value (even
  if set to the empty string), and an unset environment variable means
  &#x201C;false&#x201D;. Each boolean environment variable also has a negated
  form starting with <b>CCACHE_NO</b>. For example, <b>CCACHE_COMPRESS</b> can
  be set to force compression and <b>CCACHE_NOCOMPRESS</b> can be set to force
  no compression.
<h2 class="Ss" title="Ss" id="Configuration_settings"><a class="selflink" href="#Configuration_settings">Configuration
  settings</a></h2>
Below is a list of available configuration settings. The corresponding
  environment variable name is indicated in parentheses after each configuration
  setting key.
<div class="Pp"></div>
<b>base_dir</b> (<b>CCACHE_BASEDIR</b>)
<div style="margin-left: 4.00ex;">This setting should be an absolute path to a
  directory. ccache then rewrites absolute paths into relative paths before
  computing the hash that identifies the compilation, but only for paths under
  the specified directory. If set to the empty string (which is the default), no
  rewriting is done. See also the discussion under COMPILING IN DIFFERENT
  DIRECTORIES. If using GCC or newer versions of Clang, you might want to look
  into the <b>-fdebug-prefix-map=old=new</b> option for relocating debug info to
  a common prefix (mapping prefix with old=new).</div>
<div class="Pp"></div>
<b>cache_dir</b> (<b>CCACHE_DIR</b>)
<div style="margin-left: 4.00ex;">This setting specifies where ccache will keep
  its cached compiler outputs. It will only take effect if set in the
  system-wide configuration file or as an environment variable. The default is
  <b>$HOME/.ccache</b>.</div>
<div class="Pp"></div>
<b>cache_dir_levels</b> (<b>CCACHE_NLEVELS</b>)
<div style="margin-left: 4.00ex;">This setting allows you to choose the number
  of directory levels in the cache directory. The default is 2. The minimum is 1
  and the maximum is 8.</div>
<div class="Pp"></div>
<b>compiler</b> (<b>CCACHE_CC</b>)
<div style="margin-left: 4.00ex;">This setting can be used to force the name of
  the compiler to use. If set to the empty string (which is the default), ccache
  works it out from the command line.</div>
<div class="Pp"></div>
<b>compiler_check</b> (<b>CCACHE_COMPILERCHECK</b>)
<div style="margin-left: 4.00ex;">By default, ccache includes the modification
  time (&#x201C;mtime&#x201D;) and size of the compiler in the hash to ensure
  that results retrieved from the cache are accurate. This setting can be used
  to select another strategy. Possible values are:
<div class="Pp"></div>
<b>content</b>
<div style="margin-left: 4.00ex;">Hash the content of the compiler binary. This
  makes ccache very slightly slower compared to the <b>mtime</b> setting, but
  makes it cope better with compiler upgrades during a build bootstrapping
  process.</div>
<div class="Pp"></div>
<b>mtime</b>
<div style="margin-left: 4.00ex;">Hash the compiler&#x2019;s mtime and size,
  which is fast. This is the default.</div>
<div class="Pp"></div>
<b>none</b>
<div style="margin-left: 4.00ex;">Don&#x2019;t hash anything. This may be good
  for situations where you can safely use the cached results even though the
  compiler&#x2019;s mtime or size has changed (e.g. if the compiler is built as
  part of your build system and the compiler&#x2019;s source has not changed, or
  if the compiler only has changes that don&#x2019;t affect code generation).
  You should only use the <b>none</b> setting if you know what you are
  doing.</div>
<div class="Pp"></div>
<b>string:value</b>
<div style="margin-left: 4.00ex;">Use <b>value</b> as the string to calculate
  hash from. This can be the compiler revision number you retrieved earlier and
  set here via environment variable.</div>
<div class="Pp"></div>
<i>a command string</i>
<div style="margin-left: 4.00ex;">Hash the standard output and standard error
  output of the specified command. The string will be split on whitespace to
  find out the command and arguments to run. No other interpretation of the
  command string will be done, except that the special word <b>%compiler%</b>
  will be replaced with the path to the compiler. Several commands can be
  specified with semicolon as separator. Examples:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;%compiler% -v</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;%compiler% -dumpmachine; %compiler%
  -dumpversion</div>
<div style="height: 1.00em;">&#x00A0;</div>
You should make sure that the specified command is as fast as possible since it
  will be run once for each ccache invocation.
<div style="height: 1.00em;">&#x00A0;</div>
Identifying the compiler using a command is useful if you want to avoid cache
  misses when the compiler has been rebuilt but not changed.
<div style="height: 1.00em;">&#x00A0;</div>
Another case is when the compiler (as seen by ccache) actually isn&#x2019;t the
  real compiler but another compiler wrapper &#x2014; in that case, the default
  <b>mtime</b> method will hash the mtime and size of the other compiler
  wrapper, which means that ccache won&#x2019;t be able to detect a compiler
  upgrade. Using a suitable command to identify the compiler is thus safer, but
  it&#x2019;s also slower, so you should consider continue using the
  <b>mtime</b> method in combination with the <b>prefix_command</b> setting if
  possible. See USING CCACHE WITH OTHER COMPILER WRAPPERS.</div>
</div>
<div class="Pp"></div>
<b>compression</b> (<b>CCACHE_COMPRESS</b> or <b>CCACHE_NOCOMPRESS</b>, see
  Boolean values above)
<div style="margin-left: 4.00ex;">If true, ccache will compress object files and
  other compiler output it puts in the cache. However, this setting has no
  effect on how files are retrieved from the cache; compressed and uncompressed
  results will still be usable regardless of this setting. The default is
  false.</div>
<div class="Pp"></div>
<b>compression_level</b> (<b>CCACHE_COMPRESSLEVEL</b>)
<div style="margin-left: 4.00ex;">This setting determines the level at which
  ccache will compress object files. It only has effect if <b>compression</b> is
  enabled. The value defaults to 6, and must be no lower than 1 (fastest, worst
  compression) and no higher than 9 (slowest, best compression).</div>
<div class="Pp"></div>
<b>cpp_extension</b> (<b>CCACHE_EXTENSION</b>)
<div style="margin-left: 4.00ex;">This setting can be used to force a certain
  extension for the intermediate preprocessed file. The default is to
  automatically determine the extension to use for intermediate preprocessor
  files based on the type of file being compiled, but that sometimes
  doesn&#x2019;t work. For example, when using the &#x201C;aCC&#x201D; compiler
  on HP-UX, set the cpp extension to <b>i</b>.</div>
<div class="Pp"></div>
<b>direct_mode</b> (<b>CCACHE_DIRECT</b> or <b>CCACHE_NODIRECT</b>, see Boolean
  values above)
<div style="margin-left: 4.00ex;">If true, the direct mode will be used. The
  default is true. See THE DIRECT MODE.</div>
<div class="Pp"></div>
<b>disable</b> (<b>CCACHE_DISABLE</b> or <b>CCACHE_NODISABLE</b>, see Boolean
  values above)
<div style="margin-left: 4.00ex;">When true, ccache will just call the real
  compiler, bypassing the cache completely. The default is false.</div>
<div class="Pp"></div>
<b>extra_files_to_hash</b> (<b>CCACHE_EXTRAFILES</b>)
<div style="margin-left: 4.00ex;">This setting is a list of paths to files that
  ccache will include in the the hash sum that identifies the build. The list
  separator is semicolon on Windows systems and colon on other systems.</div>
<div class="Pp"></div>
<b>hard_link</b> (<b>CCACHE_HARDLINK</b> or <b>CCACHE_NOHARDLINK</b>, see
  Boolean values above)
<div style="margin-left: 4.00ex;">If true, ccache will attempt to use hard links
  from the cache directory when creating the compiler output rather than using a
  file copy. Using hard links may be slightly faster in some situations, but can
  confuse programs like &#x201C;make&#x201D; that rely on modification times.
  Another thing to keep in mind is that if the resulting object file is modified
  in any way, this corrupts the cached object file as well. Hard links are never
  made for compressed cache files. This means that you should not enable
  compression if you want to use hard links. The default is false.</div>
<div class="Pp"></div>
<b>hash_dir</b> (<b>CCACHE_HASHDIR</b> or <b>CCACHE_NOHASHDIR</b>, see Boolean
  values above)
<div style="margin-left: 4.00ex;">If true (which is the default), ccache will
  include the current working directory (CWD) in the hash that is used to
  distinguish two compilations when generating debug info (compiler option
  <b>-g</b> with variations). Exception: The CWD will not be included in the
  hash if <b>base_dir</b> is set (and matches the CWD) and the compiler option
  <b>-fdebug-prefix-map</b> is used.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
The reason for including the CWD in the hash by default is to prevent a
problem with the storage of the current working directory in the debug info
of an object file, which can lead ccache to return a cached object file
that has the working directory in the debug info set incorrectly.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
You can disable this setting to get cache hits when compiling the same
source code in different directories if you don't mind that CWD in the
debug info might be incorrect.
</pre>
</div>
</div>
<div class="Pp"></div>
<b>ignore_headers_in_manifest</b> (<b>CCACHE_IGNOREHEADERS</b>)
<div style="margin-left: 4.00ex;">This setting is a list of paths to files (or
  directories with headers) that ccache will <b>not</b> include in the manifest
  list that makes up the direct mode. Note that this can cause stale cache hits
  if those headers do indeed change. The list separator is semicolon on Windows
  systems and colon on other systems.</div>
<div class="Pp"></div>
<b>keep_comments_cpp</b> (<b>CCACHE_COMMENTS</b> or <b>CCACHE_NOCOMMENTS</b>,
  see Boolean values above)
<div style="margin-left: 4.00ex;">If true, ccache will not discard the comments
  before hashing preprocessor output. This can be used to check documentation
  with <b>-Wdocumentation</b>.</div>
<div class="Pp"></div>
<b>limit_multiple</b> (<b>CCACHE_LIMIT_MULTIPLE</b>)
<div style="margin-left: 4.00ex;">Sets the limit when cleaning up. Files are
  deleted (in LRU order) until the levels are below the limit. The default is
  0.8 (= 80%).</div>
<div class="Pp"></div>
<b>log_file</b> (<b>CCACHE_LOGFILE</b>)
<div style="margin-left: 4.00ex;">If set to a file path, ccache will write
  information on what it is doing to the specified file. This is useful for
  tracking down problems.</div>
<div class="Pp"></div>
<b>max_files</b> (<b>CCACHE_MAXFILES</b>)
<div style="margin-left: 4.00ex;">This option specifies the maximum number of
  files to keep in the cache. Use 0 for no limit (which is the default).</div>
<div class="Pp"></div>
<b>max_size</b> (<b>CCACHE_MAXSIZE</b>)
<div style="margin-left: 4.00ex;">This option specifies the maximum size of the
  cache. Use 0 for no limit. The default value is 5G. Available suffixes: k, M,
  G, T (decimal) and Ki, Mi, Gi, Ti (binary). The default suffix is
  &quot;G&quot;.</div>
<div class="Pp"></div>
<b>path</b> (<b>CCACHE_PATH</b>)
<div style="margin-left: 4.00ex;">If set, ccache will search directories in this
  list when looking for the real compiler. The list separator is semicolon on
  Windows systems and colon on other systems. If not set, ccache will look for
  the first executable matching the compiler name in the normal <b>PATH</b> that
  isn&#x2019;t a symbolic link to ccache itself.</div>
<div class="Pp"></div>
<b>prefix_command</b> (<b>CCACHE_PREFIX</b>)
<div style="margin-left: 4.00ex;">This option adds a list of prefixes (separated
  by space) to the command line that ccache uses when invoking the compiler. See
  also USING CCACHE WITH OTHER COMPILER WRAPPERS.</div>
<div class="Pp"></div>
<b>prefix_command_cpp</b> (<b>CCACHE_PREFIX_CPP</b>)
<div style="margin-left: 4.00ex;">This option adds a list of prefixes (separated
  by space) to the command line that ccache uses when invoking the
  preprocessor.</div>
<div class="Pp"></div>
<b>read_only</b> (<b>CCACHE_READONLY</b> or <b>CCACHE_NOREADONLY</b>, see
  Boolean values above)
<div style="margin-left: 4.00ex;">If true, ccache will attempt to use existing
  cached object files, but it will not to try to add anything new to the cache.
  If you are using this because your ccache directory is read-only, then you
  need to set <b>temporary_dir</b> as otherwise ccache will fail to create
  temporary files.</div>
<div class="Pp"></div>
<b>read_only_direct</b> (<b>CCACHE_READONLY_DIRECT</b> or
  <b>CCACHE_NOREADONLY_DIRECT</b>, see Boolean values above)
<div style="margin-left: 4.00ex;">Just like <b>read_only</b> except that ccache
  will only try to retrieve results from the cache using the direct mode, not
  the preprocessor mode. See documentation for <b>read_only</b> regarding using
  a read-only ccache directory.</div>
<div class="Pp"></div>
<b>recache</b> (<b>CCACHE_RECACHE</b> or <b>CCACHE_NORECACHE</b>, see Boolean
  values above)
<div style="margin-left: 4.00ex;">If true, ccache will not use any previously
  stored result. New results will still be cached, possibly overwriting any
  pre-existing results.</div>
<div class="Pp"></div>
<b>run_second_cpp</b> (<b>CCACHE_CPP2</b> or <b>CCACHE_NOCPP2</b>, see Boolean
  values above)
<div style="margin-left: 4.00ex;">If true, ccache will first run the
  preprocessor to preprocess the source code (see THE PREPROCESSOR MODE) and
  then on a cache miss run the compiler on the source code to get hold of the
  object file. This is the default.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
If false, ccache will first run preprocessor to preprocess the source code
and then on a cache miss run the compiler on the _preprocessed source code_
instead of the original source code. This makes cache misses slightly
faster since the source code only has to be preprocessed once. The downside
is that some compilers won't produce the same result (for instance
diagnostics warnings) when compiling preprocessed source code.
</pre>
</div>
</div>
<div class="Pp"></div>
<b>sloppiness</b> (<b>CCACHE_SLOPPINESS</b>)
<div style="margin-left: 4.00ex;">By default, ccache tries to give as few false
  cache hits as possible. However, in certain situations it&#x2019;s possible
  that you know things that ccache can&#x2019;t take for granted. This setting
  makes it possible to tell ccache to relax some checks in order to increase the
  hit rate. The value should be a comma-separated string with options. Available
  options are:
<div class="Pp"></div>
<b>file_macro</b>
<div style="margin-left: 4.00ex;">Ignore <b>__FILE__</b> being present in the
  source.</div>
<div class="Pp"></div>
<b>file_stat_matches</b>
<div style="margin-left: 4.00ex;">ccache normally examines a file&#x2019;s
  contents to determine whether it matches the cached version. With this option
  set, ccache will consider a file as matching its cached version if the sizes,
  mtimes and ctimes match.</div>
<div class="Pp"></div>
<b>include_file_ctime</b>
<div style="margin-left: 4.00ex;">By default, ccache also will not cache a file
  if it includes a header whose ctime is too new. This option disables that
  check.</div>
<div class="Pp"></div>
<b>include_file_mtime</b>
<div style="margin-left: 4.00ex;">By default, ccache will not cache a file if it
  includes a header whose mtime is too new. This option disables that
  check.</div>
<div class="Pp"></div>
<b>no_system_headers</b>
<div style="margin-left: 4.00ex;">By default, ccache will also include all
  system headers in the manifest. With this option set, ccache will only include
  system headers in the hash but not add the system header files to the list of
  include files.</div>
<div class="Pp"></div>
<b>pch_defines</b>
<div style="margin-left: 4.00ex;">Be sloppy about #defines when precompiling a
  header file. See PRECOMPILED HEADERS for more information.</div>
<div class="Pp"></div>
<b>time_macros</b>
<div style="margin-left: 4.00ex;">Ignore <b>__DATE__</b> and <b>__TIME__</b>
  being present in the source code.</div>
<div style="height: 1.00em;">&#x00A0;</div>
See the discussion under TROUBLESHOOTING for more information.</div>
<div class="Pp"></div>
<b>stats</b> (<b>CCACHE_STATS</b> or <b>CCACHE_NOSTATS</b>, see Boolean values
  above)
<div style="margin-left: 4.00ex;">If true, ccache will update the statistics
  counters on each compilation. The default is true.</div>
<div class="Pp"></div>
<b>temporary_dir</b> (<b>CCACHE_TEMPDIR</b>)
<div style="margin-left: 4.00ex;">This setting specifies where ccache will put
  temporary files. The default is <b>&lt;cache_dir&gt;/tmp</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
In previous versions of ccache, <b>CCACHE_TEMPDIR</b> had to be on the same
  filesystem as the <b>CCACHE_DIR</b> path, but this requirement has been
  relaxed.)
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
<b>umask</b> (<b>CCACHE_UMASK</b>)
<div style="margin-left: 4.00ex;">This setting specifies the umask for ccache
  and all child processes (such as the compiler). This is mostly useful when you
  wish to share your cache with other users. Note that this also affects the
  file permissions set on the object files created from your compilations.</div>
<div class="Pp"></div>
<b>unify</b> (<b>CCACHE_UNIFY</b> or <b>CCACHE_NOUNIFY</b>, see Boolean values
  above)
<div style="margin-left: 4.00ex;">If true, ccache will use a C/C++ unifier when
  hashing the preprocessor output if the <b>-g</b> option is not used. The
  unifier is slower than a normal hash, so setting this environment variable
  loses a little bit of speed, but it means that ccache can take advantage of
  not recompiling when the changes to the source code consist of reformatting
  only. Note that enabling the unifier changes the hash, so cached compilations
  produced when the unifier is enabled cannot be reused when the unifier is
  disabled, and vice versa. Enabling the unifier may result in incorrect line
  number information in compiler warning messages and expansions of the
  <b>__LINE__</b> macro. Also note that enabling the unifier implies turning off
  the direct mode.</div>
<h1 class="Sh" title="Sh" id="CACHE_SIZE_MANAGEMENT"><a class="selflink" href="#CACHE_SIZE_MANAGEMENT">CACHE
  SIZE MANAGEMENT</a></h1>
By default, ccache has a five gigabyte limit on the total size of files in the
  cache and no maximum number of files. You can set different limits using the
  <b>-M</b>/<b>--max-size</b> and <b>-F</b>/<b>--max-files</b> options. Use
  <b>ccache -s/--show-stats</b> to see the cache size and the currently
  configured limits (in addition to other various statistics).
<h1 class="Sh" title="Sh" id="CACHE_COMPRESSION"><a class="selflink" href="#CACHE_COMPRESSION">CACHE
  COMPRESSION</a></h1>
ccache can optionally compress all files it puts into the cache using the
  compression library zlib. While this may involve a tiny performance slowdown,
  it increases the number of files that fit in the cache. You can turn on
  compression with the <b>compression</b> configuration setting and you can also
  tweak the compression level with <b>compression_level</b>.
<h1 class="Sh" title="Sh" id="HOW_CCACHE_WORKS"><a class="selflink" href="#HOW_CCACHE_WORKS">HOW
  CCACHE WORKS</a></h1>
The basic idea is to detect when you are compiling exactly the same code a
  second time and reuse the previously produced output. The detection is done by
  hashing different kinds of information that should be unique for the
  compilation and then using the hash sum to identify the cached output. ccache
  uses MD4, a very fast cryptographic hash algorithm, for the hashing. (MD4 is
  nowadays too weak to be useful in cryptographic contexts, but it should be
  safe enough to be used to identify recompilations.) On a cache hit, ccache is
  able to supply all of the correct compiler outputs (including all warnings,
  dependency file, etc) from the cache.
<div style="height: 1.00em;">&#x00A0;</div>
ccache has two ways of doing the detection:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the <b>direct mode</b>, where ccache
  hashes the source code and include files directly</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the <b>preprocessor mode</b>, where
  ccache runs the preprocessor on the source code and hashes the result</div>
<div style="height: 1.00em;">&#x00A0;</div>
The direct mode is generally faster since running the preprocessor has some
  overhead.
<h2 class="Ss" title="Ss" id="Common_hashed_information"><a class="selflink" href="#Common_hashed_information">Common
  hashed information</a></h2>
For both modes, the following information is included in the hash:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the extension used by the compiler for
  a file with preprocessor output (normally <b>.i</b> for C code and <b>.ii</b>
  for C++ code)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the compiler&#x2019;s size and
  modification time (or other compiler-specific information specified by the
  <b>compiler_check</b> setting)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the name of the compiler</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the current directory (if the
  <b>hash_dir</b> setting is enabled)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;contents of files specified by the
  <b>extra_files_to_hash</b> setting (if any)</div>
<h2 class="Ss" title="Ss" id="The_direct_mode"><a class="selflink" href="#The_direct_mode">The
  direct mode</a></h2>
In the direct mode, the hash is formed of the common information and:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the input source file</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the command line options</div>
<div style="height: 1.00em;">&#x00A0;</div>
Based on the hash, a data structure called &#x201C;manifest&#x201D; is looked up
  in the cache. The manifest contains:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;references to cached compilation
  results (object file, dependency file, etc) that were produced by previous
  compilations that matched the hash</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;paths to the include files that were
  read at the time the compilation results were stored in the cache</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;hash sums of the include files at the
  time the compilation results were stored in the cache</div>
<div style="height: 1.00em;">&#x00A0;</div>
The current contents of the include files are then hashed and compared to the
  information in the manifest. If there is a match, ccache knows the result of
  the compilation. If there is no match, ccache falls back to running the
  preprocessor. The output from the preprocessor is parsed to find the include
  files that were read. The paths and hash sums of those include files are then
  stored in the manifest along with information about the produced compilation
  result.
<div style="height: 1.00em;">&#x00A0;</div>
There is a catch with the direct mode: header files that were used by the
  compiler are recorded, but header files that were <b>not</b> used, but would
  have been used if they existed, are not. So, when ccache checks if a result
  can be taken from the cache, it currently can&#x2019;t check if the existence
  of a new header file should invalidate the result. In practice, the direct
  mode is safe to use in the absolute majority of cases.
<div style="height: 1.00em;">&#x00A0;</div>
The direct mode will be disabled if any of the following holds:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the configuration setting
  <b>direct_mode</b> is false</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;a modification time of one of the
  include files is too new (needed to avoid a race condition)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the unifier is enabled (the
  configuration setting <b>unify</b> is true)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;a compiler option not supported by the
  direct mode is used:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;a <b>-Wp,</b><b></b><i>X</i> compiler
  option other than <b>-Wp,-MD,</b><b></b><i>path</i>,
  <b>-Wp,-MMD,</b><b></b><i>path</i> and <b>-Wp,-D_define_</b></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>-Xpreprocessor</b></div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the string &#x201C;__TIME__&#x201D; is
  present in the source code</div>
<h2 class="Ss" title="Ss" id="The_preprocessor_mode"><a class="selflink" href="#The_preprocessor_mode">The
  preprocessor mode</a></h2>
In the preprocessor mode, the hash is formed of the common information and:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the preprocessor output from running
  the compiler with <b>-E</b></div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;the command line options except
  options that affect include files ( <b>-I</b>, <b>-include</b>, <b>-D</b>,
  etc; the theory is that these options will change the preprocessor output if
  they have any effect at all)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;any standard error output generated by
  the preprocessor</div>
<div style="height: 1.00em;">&#x00A0;</div>
Based on the hash, the cached compilation result can be looked up directly in
  the cache.
<h1 class="Sh" title="Sh" id="COMPILING_IN_DIFFERENT_DIRECTORIES"><a class="selflink" href="#COMPILING_IN_DIFFERENT_DIRECTORIES">COMPILING
  IN DIFFERENT DIRECTORIES</a></h1>
Some information included in the hash that identifies a unique compilation may
  contain absolute paths:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The preprocessed source code may
  contain absolute paths to include files if the compiler option <b>-g</b> is
  used or if absolute paths are given to <b>-I</b> and similar compiler
  options.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Paths specified by compiler options
  (such as <b>-I</b>, <b>-MF</b>, etc) may be absolute.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The source code file path may be
  absolute, and that path may substituted for <b>__FILE__</b> macros in the
  source code or included in warnings emitted to standard error by the
  preprocessor.</div>
<div style="height: 1.00em;">&#x00A0;</div>
This means that if you compile the same code in different locations, you
  can&#x2019;t share compilation results between the different build directories
  since you get cache misses because of the absolute build directory paths that
  are part of the hash. To mitigate this problem, you can specify a &#x201C;base
  directory&#x201D; in the configuration setting <b>base_dir</b> to an absolute
  path to the directory. ccache will then rewrite absolute paths that are under
  the base directory (i.e., paths that have the base directory as a prefix) to
  relative paths when constructing the hash. A typical path to use as the base
  directory is your home directory or another directory that is a parent of your
  build directories. (Don&#x2019;t use / as the base directory since that will
  make ccache also rewrite paths to system header files, which doesn&#x2019;t
  gain anything.)
<div style="height: 1.00em;">&#x00A0;</div>
The drawbacks of using a base directory are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If you specify an absolute path to the
  source code file, <b>__FILE__</b> macros will be expanded to a relative path
  instead.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If you specify an absolute path to the
  source code file and compile with <b>-g</b>, the source code path stored in
  the object file may point to the wrong directory, which may prevent debuggers
  like GDB from finding the source code. Sometimes, a work-around is to change
  the directory explicitly with the &#x201C;cd&#x201D; command in GDB.</div>
<h1 class="Sh" title="Sh" id="PRECOMPILED_HEADERS"><a class="selflink" href="#PRECOMPILED_HEADERS">PRECOMPILED
  HEADERS</a></h1>
ccache has support for GCC&#x2019;s precompiled headers. However, you have to do
  some things to make it work properly:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;You must set <b>sloppiness</b> to
  <b>pch_defines,time_macros</b>. The reason is that ccache can&#x2019;t tell
  whether <b>__TIME__</b> or <b>__DATE__</b> is used when using a precompiled
  header. Further, it can&#x2019;t detect changes in #defines in the source code
  because of how preprocessing works in combination with precompiled
  headers.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;You must either:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;use the <b>-include</b> compiler
  option to include the precompiled header (i.e., don&#x2019;t use
  <b>#include</b> in the source code to include the header); or</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;(for the Clang compiler) use the
  <b>-include-pch</b> compiler option to include the PCH file generated from the
  precompiled header; or</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;add the <b>-fpch-preprocess</b>
  compiler option when compiling.</div>
<div style="height: 1.00em;">&#x00A0;</div>
If you don&#x2019;t do this, either the non-precompiled version of the header
  file will be used (if available) or ccache will fall back to running the real
  compiler and increase the statistics counter &#x201C;preprocessor
  error&#x201D; (if the non-precompiled header file is not available).</div>
<h1 class="Sh" title="Sh" id="SHARING_A_CACHE"><a class="selflink" href="#SHARING_A_CACHE">SHARING
  A CACHE</a></h1>
A group of developers can increase the cache hit rate by sharing a cache
  directory. To share a cache without unpleasant side effects, the following
  conditions should to be met:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Use the same cache directory.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Make sure that the configuration
  setting <b>hard_link</b> is false (which is the default).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Make sure that all users are in the
  same group.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Set the configuration setting
  <b>umask</b> to 002. This ensures that cached files are accessible to everyone
  in the group.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Make sure that all users have write
  permission in the entire cache directory (and that you trust all users of the
  shared cache).</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Make sure that the setgid bit is set
  on all directories in the cache. This tells the filesystem to inherit group
  ownership for new directories. The command &#x201C;find $CCACHE_DIR -type d |
  xargs chmod g+s&#x201D; might be useful for this.</div>
<div style="height: 1.00em;">&#x00A0;</div>
The reason to avoid the hard link mode is that the hard links cause unwanted
  side effects, as all links to a cached file share the file&#x2019;s
  modification timestamp. This results in false dependencies to be triggered by
  timestamp-based build systems whenever another user links to an existing file.
  Typically, users will see that their libraries and binaries are relinked
  without reason.
<div style="height: 1.00em;">&#x00A0;</div>
You may also want to make sure that a base directory is set appropriately, as
  discussed in a previous section.
<h1 class="Sh" title="Sh" id="SHARING_A_CACHE_ON_NFS"><a class="selflink" href="#SHARING_A_CACHE_ON_NFS">SHARING
  A CACHE ON NFS</a></h1>
It is possible to put the cache directory on an NFS filesystem (or similar
  filesystems), but keep in mind that:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Having the cache on NFS may slow down
  compilation. Make sure to do some benchmarking to see if it&#x2019;s worth
  it.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;ccache hasn&#x2019;t been tested very
  thoroughly on NFS.</div>
<div style="height: 1.00em;">&#x00A0;</div>
A tip is to set <b>temporary_dir</b> to a directory on the local host to avoid
  NFS traffic for temporary files.
<h1 class="Sh" title="Sh" id="USING_CCACHE_WITH_OTHER_COMPILER_WRAPPERS"><a class="selflink" href="#USING_CCACHE_WITH_OTHER_COMPILER_WRAPPERS">USING
  CCACHE WITH OTHER COMPILER WRAPPERS</a></h1>
The recommended way of combining ccache with another compiler wrapper (such as
  &#x201C;distcc&#x201D;) is by letting ccache execute the compiler wrapper.
  This is accomplished by defining the configuration setting
  <b>prefix_command</b>, for example by setting the environment variable
  <b>CCACHE_PREFIX</b> to the name of the wrapper (e.g. <b>distcc</b>). ccache
  will then prefix the command line with the specified command when running the
  compiler. To specify several prefix commands, set <b>prefix_command</b> to a
  colon-separated list of commands.
<div style="height: 1.00em;">&#x00A0;</div>
Unless you set <b>compiler_check</b> to a suitable command (see the description
  of that configuration option), it is not recommended to use the form <b>ccache
  anotherwrapper compiler args</b> as the compilation command. It&#x2019;s also
  not recommended to use the masquerading technique for the other compiler
  wrapper. The reason is that by default, ccache will in both cases hash the
  mtime and size of the other wrapper instead of the real compiler, which means
  that:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Compiler upgrades will not be detected
  properly.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The cached results will not be shared
  between compilations with and without the other wrapper.</div>
<div style="height: 1.00em;">&#x00A0;</div>
Another minor thing is that if <b>prefix_command</b> is used, ccache will not
  invoke the other wrapper when running the preprocessor, which increases
  performance. You can use the <b>prefix_command_cpp</b> configuration setting
  if you also want to invoke the other wrapper when doing preprocessing
  (normally by adding <b>-E</b>).
<h1 class="Sh" title="Sh" id="CAVEATS"><a class="selflink" href="#CAVEATS">CAVEATS</a></h1>
<div style="margin-left: 4.00ex;">&#x2022;The direct mode fails to pick up new
  header files in some rare scenarios. See THE DIRECT MODE above.</div>
<h1 class="Sh" title="Sh" id="TROUBLESHOOTING"><a class="selflink" href="#TROUBLESHOOTING">TROUBLESHOOTING</a></h1>
<h2 class="Ss" title="Ss" id="General"><a class="selflink" href="#General">General</a></h2>
A general tip for getting information about what ccache is doing is to enable
  debug logging by setting <b>log_file</b>. The log contains executed commands,
  important decisions that ccache makes, read and written files, etc. Another
  way of keeping track of what is happening is to check the output of <b>ccache
  -s</b>.
<h2 class="Ss" title="Ss" id="Performance"><a class="selflink" href="#Performance">Performance</a></h2>
ccache has been written to perform well out of the box, but sometimes you may
  have to do some adjustments of how you use the compiler and ccache in order to
  improve performance.
<div style="height: 1.00em;">&#x00A0;</div>
Since ccache works best when I/O is fast, put the cache directory on a fast
  storage device if possible. Having lots of free memory so that files in the
  cache directory stay in the disk cache is also preferable.
<div style="height: 1.00em;">&#x00A0;</div>
A good way of monitoring how well ccache works is to run <b>ccache -s</b> before
  and after your build and then compare the statistics counters. Here are some
  common problems and what may be done to increase the hit rate:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If &#x201C;cache hit
  (preprocessed)&#x201D; has been incremented instead of &#x201C;cache hit
  (direct)&#x201D;, ccache has fallen back to preprocessor mode, which is
  generally slower. Some possible reasons are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The source code has been modified in
  such a way that the preprocessor output is not affected.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;Compiler arguments that are hashed in
  the direct mode but not in the preprocessor mode have changed ( <b>-I</b>,
  <b>-include</b>, <b>-D</b>, etc) and they didn&#x2019;t affect the
  preprocessor output.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The compiler option
  <b>-Xpreprocessor</b> or <b>-Wp,</b><b></b><i>X</i> (except
  <b>-Wp,-MD,</b><b></b> <i>path</i>, <b>-Wp,-MMD,</b><b></b><i>path</i>, and
  <b>-Wp,-D_define_</b>) is used.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;This was the first compilation with a
  new value of the base directory setting.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;A modification time of one of the
  include files is too new (created the same second as the compilation is being
  done). This check is made to avoid a race condition. To fix this, create the
  include file earlier in the build process, if possible, or set
  <b>sloppiness</b> to <b>include_file_mtime</b> if you are willing to take the
  risk. (The race condition consists of these events: the preprocessor is run;
  an include file is modified by someone; the new include file is hashed by
  ccache; the real compiler is run on the preprocessor&#x2019;s output, which
  contains data from the old header file; the wrong object file is stored in the
  cache.)</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The <b>__TIME__</b> preprocessor macro
  is (potentially) being used. ccache turns off direct mode if
  &#x201C;__TIME__&#x201D; is present in the source code. This is done as a
  safety measure since the string indicates that a <b>__TIME__</b> macro
  <i>may</i> affect the output. (To be sure, ccache would have to run the
  preprocessor, but the sole point of the direct mode is to avoid that.) If you
  know that <b>__TIME__</b> isn&#x2019;t used in practise, or don&#x2019;t care
  if ccache produces objects where <b>__TIME__</b> is expanded to something in
  the past, you can set <b>sloppiness</b> to <b>time_macros</b>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The <b>__DATE__</b> preprocessor macro
  is (potentially) being used and the date has changed. This is similar to how
  <b>__TIME__</b> is handled. If &#x201C;__DATE__&#x201D; is present in the
  source code, ccache hashes the current date in order to be able to produce the
  correct object file if the <b>__DATE__</b> macro affects the output. If you
  know that <b>__DATE__</b> isn&#x2019;t used in practise, or don&#x2019;t care
  if ccache produces objects where <b>__DATE__</b> is expanded to something in
  the past, you can set <b>sloppiness</b> to <b>time_macros</b>.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;The <b>__FILE__</b> preprocessor macro
  is (potentially) being used and the file path has changed. If
  &#x201C;__FILE__&#x201D; is present in the source code, ccache hashes the
  current input file path in order to be able to produce the correct object file
  if the <b>__FILE__</b> macro affects the output. If you know that
  <b>__FILE__</b> isn&#x2019;t used in practise, or don&#x2019;t care if ccache
  produces objects where <b>__FILE__</b> is expanded to the wrong path, you can
  set <b>sloppiness</b> to <b>file_macro</b>.</div>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If &#x201C;cache miss&#x201D; has been
  incremented even though the same code has been compiled and cached before,
  ccache has either detected that something has changed anyway or a cleanup has
  been performed (either explicitly or implicitly when a cache limit has been
  reached). Some perhaps unobvious things that may result in a cache miss are
  usage of <b>__TIME__</b> or <b>__DATE__</b> macros, or use of automatically
  generated code that contains a timestamp, build counter or other volatile
  information.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If &#x201C;multiple source
  files&#x201D; has been incremented, it&#x2019;s an indication that the
  compiler has been invoked on several source code files at once. ccache
  doesn&#x2019;t support that. Compile the source code files separately if
  possible.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If &#x201C;unsupported compiler
  option&#x201D; has been incremented, enable debug logging and check which
  option was rejected.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If &#x201C;preprocessor error&#x201D;
  has been incremented, one possible reason is that precompiled headers are
  being used. See PRECOMPILED HEADERS for how to remedy this.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;If &#x201C;can&#x2019;t use
  precompiled header&#x201D; has been incremented, see PRECOMPILED
  HEADERS.</div>
<h2 class="Ss" title="Ss" id="Corrupt_object_files"><a class="selflink" href="#Corrupt_object_files">Corrupt
  object files</a></h2>
It should be noted that ccache is susceptible to general storage problems. If a
  bad object file sneaks into the cache for some reason, it will of course stay
  bad. Some possible reasons for erroneous object files are bad hardware (disk
  drive, disk controller, memory, etc), buggy drivers or file systems, a bad
  <b>prefix_command</b> or compiler wrapper. If this happens, the easiest way of
  fixing it is this:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 1.Build so that the bad object file ends up
  in the build tree.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 2.Remove the bad object file from the build
  tree.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;"> 3.Rebuild with <b>CCACHE_RECACHE</b>
  set.</div>
<div style="height: 1.00em;">&#x00A0;</div>
An alternative is to clear the whole cache with <b>ccache -C</b> if you
  don&#x2019;t mind losing other cached results.
<div style="height: 1.00em;">&#x00A0;</div>
There are no reported issues about ccache producing broken object files
  reproducibly. That doesn&#x2019;t mean it can&#x2019;t happen, so if you find
  a repeatable case, please report it.
<h1 class="Sh" title="Sh" id="MORE_INFORMATION"><a class="selflink" href="#MORE_INFORMATION">MORE
  INFORMATION</a></h1>
Credits, mailing list information, bug reporting instructions, source code, etc,
  can be found on ccache&#x2019;s web site: https://ccache.samba.org.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
ccache was originally written by Andrew Tridgell and is currently developed and
  maintained by Joel Rosdahl. See AUTHORS.txt or AUTHORS.html and
  https://ccache.samba.org/credits.html for a list of contributors.</div>
<table class="foot">
  <tr>
    <td class="foot-date">10/26/2016</td>
    <td class="foot-os">ccache 3.3.3</td>
  </tr>
</table>
</body>
</html>
