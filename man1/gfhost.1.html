<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:12:49 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GFHOST(1) Gfarm GFHOST(1)</p>

<p style="margin-top: 1em">NAME <br>
gfhost - Gfarm host maintenance command</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gfhost [-H | -l | -M] [-iLprUv] [-P path] [-a architecture]
[-D domain-name] [-j concurrency] [hostname...]</p>

<p style="margin-top: 1em">gfhost -c [-P path] -a
architecture -p port-number [-n number-of-CPUs] hostname</p>

<p style="margin-top: 1em">gfhost -m [-P path] [-a
architecture] [-p port-number] [-n number-of-CPUs] [-A]
hostname</p>

<p style="margin-top: 1em">gfhost -d [-P path]
hostname...</p>

<p style="margin-top: 1em">gfhost -R [-P path]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
gfhost is used to display and maintain information about
filesystem nodes. The function that gfhost performs is
determined by an option, -c, -d, -H, -l, -M, -m, -R. These
<br>
functions are mutually exclusive, and only one option among
them can be specified. If none of them is specified, host
name will be displayed as the default function of
gfhost.</p>

<p style="margin-top: 1em">FUNCTIONS <br>
Metadata in the metadata server will be accessed by function
-c, -d, -M, -m or -R. These functions
add/delete/display/modify/restore host information in the
metadata.</p>

<p style="margin-top: 1em">If -H, -l or -M is specified, or
none of the functions are specified, gfhost displays
filesystem node information. The -M function only accesses
information in the metadata <br>
server. Display functions other than -M also access gfsd,
which is running on filesystem nodes. For functions which
access gfhost, the access option can be specified by options
<br>
-i, -j, -U and -v.</p>

<p style="margin-top: 1em">You don&rsquo;t have to specify
hostnames for display functions. In that case, all hosts
which are registered in metadata will be displayed, but you
can limit the type of hosts <br>
displayed by the -a or -D option. By default, hosts are
displayed in alphabetical order, but you can change this by
the -L, -p, or -r options. Although the -L option is ignored
<br>
in the -M function and in the default function. .</p>

<p style="margin-top: 1em">The following is a list of the
functions of the gfhost command. You shouldn&rsquo;t specify
more than one functions at a time.</p>

<p style="margin-top: 1em">&lt;none&gt; <br>
If you don&rsquo;t specify any of the functions, gfhost
accesses gfsd, and displays the names of hosts which are
currently available as its default function. Hostnames are
<br>
displayed in alphabetical order, by default.</p>

<p style="margin-top: 1em">-c <br>
Creates the metadata information for the host that is
specified in the argument. Option -a is mandatory for this
function, this option specifies the architecture of the
host. <br>
Option -p is mandatory in this function too, this option
specifies the port number of gfsd on the host. Option -n may
be used to specify the number of CPUs of the host, and 1
<br>
CPU is assumed, if -n is omitted.</p>

<p style="margin-top: 1em">You can specifiy multiple
hostnames in this function. In that case, the first hostname
is treated as the identifier of the host, and the host
identifier is used for <br>
replication information management.</p>

<p style="margin-top: 1em">-d <br>
Deletes host information from metadata. Currently, even
hosts which are referred by replica catalog can be deleted.
But be careful, because such deletions cause <br>
inconsistencies of metadata.</p>

<p style="margin-top: 1em">-H <br>
Displays load average and authentication method. With this
function, the exact hostname passed by the gfhost command
arguments will be displayed instead of the canonical host
<br>
identifier. Also, this function displays the IP address used
to access gfsd in parentheses just after the hostname.</p>

<p style="margin-top: 1em">If the host cannot be accessed
due to a machine down or network problem, etc.,
x.xx/x.xx/x.xx will be displayed in the load average field.
If the host is up, but gfsd on the <br>
host cannot be accessed, -.--/-.--/-.-- will be
displayed.</p>

<p style="margin-top: 1em">The next field is the
authentication method used with the host. &lsquo;G&rsquo; in
this field means GSI authentication and encryption,
&lsquo;g&rsquo; means only authentication is performed by
GSI <br>
and actual communication is unprotected plain data
(gsi_auth), &lsquo;s&rsquo; means gfarm sharedsecret
authentication, &lsquo;x&rsquo; means that the
authentication failed, and &lsquo;-&rsquo; means that the
<br>
authentication wasn&rsquo;t actually tried. If the -U option
is specified, this authentication method field won&rsquo;t
be provided.</p>

<p style="margin-top: 1em">Hostnames are displayed in
alphabetical order, by default.</p>

<p style="margin-top: 1em">-l <br>
Displays in the long format. This function displays both
information retrieved from gfsd and the metadata server. The
types of information retrieved from gfsd are load <br>
average and authentication method. And the types of
information retrieved from the metadata server are
architecture name, number of CPUs and host identifier. IP
address will <br>
be displayed in parentheses just after the hostname used for
the access to gfsd.</p>

<p style="margin-top: 1em">If the host cannot be accessed
due to a machine down or network problem, etc.,
x.xx/x.xx/x.xx will be displayed in the load average field.
If the host is up, but gfsd on the <br>
host cannot be accessed , -.--/-.--/-.-- will be
displayed.</p>

<p style="margin-top: 1em">The next field is the
authentication method used with the host. &lsquo;G&rsquo; in
this field means GSI authentication and encryption,
&lsquo;g&rsquo; means only authentication is performed by
GSI <br>
and actual communication is unprotected plain data
(gsi_auth), &lsquo;s&rsquo; means gfarm sharedsecret
authentication, &lsquo;x&rsquo; means that the
authentication failed, and &lsquo;-&rsquo; means that the
<br>
authentication wasn&rsquo;t actually tried. If that -U
option is specified, this authentication method field
won&rsquo;t be provided.</p>

<p style="margin-top: 1em">Hostnames are displayed in
alphabetical order, by default.</p>

<p style="margin-top: 1em">-M <br>
The metadata information of the hosts will be displayed.
Hostnames are displayed in alphabetical order, by
default.</p>

<p style="margin-top: 1em">-m <br>
Modifies metadata information of the host, by specifying the
host identifier. The -a and -n options overwrite the current
value of each option.</p>

<p style="margin-top: 1em">-R <br>
Restores metadata information read from standard input. The
format of the metadata is same as the format that the -M
function displays.</p>

<p style="margin-top: 1em">-? <br>
Prints usage.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a architecture <br>
This option specifies the CPU architecture using a format
like sparc-sun-solaris8 or i386-redhat8.0-linux, etc. If
this option is used with the -c or -m function, this means
<br>
the architecture used to add/modify the metadata
information. If this option is used with -H, -l, -M function
or default function, this limits hosts to the specified <br>
architecture.</p>

<p style="margin-top: 1em">-D domain-name <br>
This option is used with the -H, -l, -M function or the
default function to limit hosts to the specified domain.</p>

<p style="margin-top: 1em">-i <br>
There is an &quot;address_use&quot; directive in
%%SYSCONFDIR%%/gfarm2.conf and $HOME/.gfarm2rc to give
priorities of network addresses for gfarm access. This
directive works with the <br>
gfhost command, but will be ignored, if you specified the -i
option with gfhost.</p>

<p style="margin-top: 1em">-j concurrency <br>
This option specifies the concurrency used for access to
gfsd. The default value is 10.</p>

<p style="margin-top: 1em">-L <br>
Sorts by load average order. This option is effective only
with the -H and -l functions .</p>

<p style="margin-top: 1em">-n number-of-CPUs <br>
This option is used with the -c or -m function, and
specifies the number of CPUs of the host.</p>

<p style="margin-top: 1em">-p port-number <br>
This option is used with -c or -m function, and specifies
the port number of gfsd on the host.</p>

<p style="margin-top: 1em">-P path <br>
This option specifies a pathname or a Gfarm URL to identify
a metadata server which will be accessed by this command. If
not specified, &quot;/&quot; is used as the default
value.</p>

<p style="margin-top: 1em">-r <br>
Reverses the order of sort.</p>

<p style="margin-top: 1em">-u <br>
Plain order. This option stops sorting on the -H, -l, -M
function or the default function. With the -M function,
command argument order (if any), or the order that the <br>
metadata server answers is used for display. With the -H, -l
function or the default function, the result is displayed in
the order that each gfsd answers.</p>

<p style="margin-top: 1em">-U <br>
Suppresses authentication attempts by TCP, and only queries
load average by UDP. This option only makes sense if you
specified the -H or -l function, or if you didn&rsquo;t
specify <br>
any function. This option makes the gfhost command run
faster. If the -H or -l function is specified, this option
makes the authentication method field disappear.</p>

<p style="margin-top: 1em">-v <br>
The -H, -l function and the default function don&rsquo;t
produce error reports on gfsd accesses; these error reports
will be produced by this option.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gfarm2.conf(5), gfsd(8)</p>

<p style="margin-top: 1em">Gfarm 20 Jan 2010 GFHOST(1)</p>
<hr>
</body>
</html>
