<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>NAS(1) User Contributed Perl Documentation NAS(1)</p>

<p style="margin-top: 1em">NAME <br>
nas - Create Reusable Session Scripts</p>

<p style="margin-top: 1em">VERSION <br>
version 4.142720</p>

<p style="margin-top: 1em">SYNOPSIS <br>
$ nas --help</p>

<p style="margin-top: 1em">nas [options] [hostname or
IP]</p>

<p style="margin-top: 1em">-p, --personality Device
&lt;personality&gt; (default: &quot;ios&quot;) <br>
-t, --transport &lt;transport&gt; method (Serial, Telnet,
default: SSH) <br>
-u, --username &lt;username&gt; to connect as on device
(default: $USER)</p>

<p style="margin-top: 1em">-R, --record Record session <br>
-P, --playback Play back session <br>
-s, --script When recording, save playback script to this
&lt;filename&gt; <br>
-l, --cmdlog NAS &lt;file&gt; to record commands to, or play
them back from</p>

<p style="margin-top: 1em">-e, --exit-last Num. of output
lines from last command is program exit status <br>
-c, --cloginrc RANCID cloginrc &lt;file&gt; with device
credentials <br>
-z, --nopassword Do not ask for device password (if not
using cloginrc) <br>
-o, --echo Echo commands sent, when playing back the
recorded script/cmdlog <br>
-M, --paging Do not attempt to disable command output paging
<br>
-B, --nobanner Suppress display of any login banner received
from the device</p>

<p style="margin-top: 1em">-q, --quiet Hide informational
messages <br>
-v, --verbose NCI log &lt;level&gt; (&quot;debug&quot;,
&quot;notice&quot;, &quot;info&quot;, etc) <br>
-V, --version Display this program&rsquo;s version number
<br>
-h, --help Display this help text</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Use this program to help write reusable
Net::Appliance::Session scripts, play them back, and also to
more easily connect to network devices.</p>

<p style="margin-top: 1em">&Acirc;&middot; Start a
connection to a network device using CLI switches, and
prompts for credentials. This is easier than writing short
Perl programs.</p>

<p style="margin-top: 1em">&Acirc;&middot; Record a set of
commands issued to one network device into a command log,
then replay that log against other devices (&quot;-R -l
&lt;log&gt;&quot; and &quot;-P -l &lt;log&gt;&quot;).</p>

<p style="margin-top: 1em">&Acirc;&middot; Record a session
and produce a Perl script which when run, replays the
session to the same host, or overridable to other devices
(&quot;-R -s &lt;script&gt;&quot; and then run the
script).</p>

<p style="margin-top: 1em">Once connected to the device you
can enter any command and it will be run.</p>

<p style="margin-top: 1em">GENERAL USAGE NOTES <br>
Please see the &quot;SYNOPSIS&quot; section and the command
line help for the available options. In the future more
documentation will be forthcoming, I promise. Here are some
highlights:</p>

<p style="margin-top: 1em">The &quot;exit-last&quot; option
can be useful for creating a session script which checks for
some error condition. Assuming the last command should have
no output on success, then the <br>
exit status of the script will be non-zero when
there&rsquo;s a problem. Use this with &quot;-R&quot; to
make a reuseable script.</p>

<p style="margin-top: 1em">To play a script with no output
other than that returned from the device in response to sent
commands, use the switch combination &quot;-Bqoz&quot;. Note
that you will need to be able to <br>
login automatically, and RANCID config isn&rsquo;t yet
supported.</p>

<p style="margin-top: 1em">If you don&rsquo;t provide a
hostname or IP then the script goes into a loop waiting for
the hostname on standard input. This way, you can pipe a
list of device names to the script and <br>
it will execute the commands on each one.</p>

<p style="margin-top: 1em">In case you didn&rsquo;t know,
the library has support for connecting to linux boxes using
the &quot;-p bash&quot; setting to chose the Bash shell
personality.</p>

<p style="margin-top: 1em">Getting to be a super-user is a
little clunky at the moment. I need to work on that a little
more. Take care that your scripts don&rsquo;t contain any
passwords!</p>

<p style="margin-top: 1em">SPECIAL FEATURES <br>
The methods of Net::Appliance::Session are available by
using the command &quot;!s &lt;method-name&gt;&quot;. The
best use of this is to gracefully disconnect, by
issuing:</p>

<p style="margin-top: 1em">!s close</p>

<p style="margin-top: 1em">You can also enter the command
&quot;!m&quot; to see a list of available Macros. If you
don&rsquo;t know what a Macro is, please move a long,
there&rsquo;s nothing to see here. You run a Macro with <br>
the &quot;!m &lt;macro-name&gt; [params]&quot; command.</p>

<p style="margin-top: 1em">SEE ALSO <br>
&Acirc;&middot; https://github.com/aol/trigger</p>

<p style="margin-top: 1em">&Acirc;&middot;
http://www.shrubbery.net/rancid/</p>

<p style="margin-top: 1em">AUTHOR <br>
Oliver Gorwits &lt;oliver@cpan.org&gt;</p>

<p style="margin-top: 1em">COPYRIGHT AND LICENSE <br>
This software is copyright (c) 2014 by Oliver Gorwits.</p>

<p style="margin-top: 1em">This is free software; you can
redistribute it and/or modify it under the same terms as the
Perl 5 programming language system itself.</p>

<p style="margin-top: 1em">perl v5.24.1 2017-02-02
NAS(1)</p>
<hr>
</body>
</html>
