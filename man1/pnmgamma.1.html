<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:32:13 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>Pnmgamma User Manual(0) Pnmgamma User Manual(0)</p>

<p style="margin-top: 1em">NAME <br>
pnmgamma - perform gamma adjustment on a PNM image</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pnmgamma { <br>
-bt709tolinear | <br>
-lineartobt709 | <br>
-bt709tosrgb | <br>
-srgbtobt709 } [-gamma=float] [-rgamma=float]
[-ggamma=float] [-bgamma=float]</p>

<p style="margin-top: 1em">[pnmfile]</p>

<p style="margin-top: 1em">pnmgamma [ <br>
-bt709ramp | <br>
-srgbramp ] [-ungamma] [{gamma | redgamma greengamma
bluegamma} [pnmfile]]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This program is part of Netpbm(1)</p>

<p style="margin-top: 1em">Pnmgamma performs gamma
adjustment on pseudo-PNM images.</p>

<p style="margin-top: 1em">The PPM format specification
specifies that certain sample values in a file represent
certain light intensities in an image. In particular, they
specify that the sample values <br>
are directly proportional to luminance as defined by ITU-R
Recommendation BT.709. BT.709 luminance as a function of
radiance is a power function modified with a linear ramp
near <br>
black.</p>

<p style="margin-top: 1em">However, people sometimes work
with approximations of PPM and PGM where the sample values
represent intensity in different ways:</p>

<p style="margin-top: 1em">In one common variation, the
sample value is directly proportional to radiance (often
called &rsquo;linear intensity&rsquo;).</p>

<p style="margin-top: 1em">Another popular variation is to
make the samples proportional to luminance as defined by the
International Electrotechnical Commission (IEC) SRGB
standard. The SRGB gamma trans&acirc; <br>
fer function is like the BT.709 one except with different
constants in it.</p>

<p style="margin-top: 1em">Note that SRGB is often spelled
&rsquo;sRGB&rsquo;. In this document, we use standard
English typography, though, which doesn&rsquo;t allow for
that kind of capitalization.</p>

<p style="margin-top: 1em">pnmgamma allows you to
manipulate the gamma transfer function, thus working with
and/or creating pseudo-PPM files that are useful for various
things.</p>

<p style="margin-top: 1em">For example, if you feed a true
PPM to pnmgamma -bt709tolinear , you get as output a file
which is PPM in every respect except that the sample values
are radiances. If you feed <br>
such a file to pnmgamma -linearto709, you get back a true
PPM.</p>

<p style="margin-top: 1em">The situation for PGM images is
analogous. And pnmgamma treats PBM images as PGM images.</p>

<p style="margin-top: 1em">When you feed a
radiance-proportional pseudo-PPM image to a display program
that expects a true PPM, the display appears darker than it
should, so pnmgamma has the effect of <br>
lightening the image. When you feed a true PPM to a display
program that expects radiance-proportional sample values,
and therefore does a gamma adjustment of its own on them,
<br>
the display appears lighter than it should, so pnmgamma with
a gamma value less than one (the multiplicative inverse of
whatever gamma value the display program uses) has the <br>
effect of darkening the image.</p>

<p style="margin-top: 1em">PARAMETERS <br>
The form of the parameters depends on whether you&rsquo;re
using the old syntax or the new syntax. With the old syntax,
the parameters are a mixture of gamma values and the input
file <br>
name. With the new syntax, the only parameter is the input
file name and you specify gamma values with option.</p>

<p style="margin-top: 1em">You use the old syntax if you
specify -bt709ramp (or its synonym -cieramp) or -srgramp or
if you don&rsquo;t specify any transfer function at all (and
thus default to a simple exponen&acirc; <br>
tial). Otherwise, you use the new syntax.</p>

<p style="margin-top: 1em">With the old syntax, you may
specify a single gamma value or 3 separate gamma values
(red, green, and blue) or no gamma values. In any case, the
meanings of those parameters is <br>
the same as the more modern -gamma, -rgamma, -ggamma, and
-bgamma options described below.</p>

<p style="margin-top: 1em">OPTIONS <br>
-bt709tolinear <br>
Convert the image from BT.709 luminance to radiance. I.e.
convert from true PPM or PGM to a radiance-linear variation
that can be used with certain tools that need it.</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006).</p>

<p style="margin-top: 1em">-lineartobt709 <br>
Convert the image from radiance to BT.709 luminance. I.e.
convert to true PPM or PGM from a radiance-linear
variation.</p>

<p style="margin-top: 1em">You get true BT.709 (ergo true
PPM or PGM) only if you use the default gamma value (i.e.
don&rsquo;t specify -gamma, etc.).</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006).</p>

<p style="margin-top: 1em">-bt709tosrgb <br>
Convert the image from BT.709 luminance to SRGB luminance.
I.e. convert from true PPM or PGM to an SRGB-based variation
that is required by certain tools and display <br>
devices.</p>

<p style="margin-top: 1em">You get true SRGB only if you
use the default gamma value (i.e. don&rsquo;t specify
-gamma, etc.).</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006).</p>

<p style="margin-top: 1em">-srgbtobt709 <br>
Convert the image from SRGB luminance to BT.709 luminance.
I.e. convert to true PPM or PGM from an SRGB-based
variation.</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006).</p>

<p style="margin-top: 1em">-bt709ramp <br>
Same as -lineartobt709, but using the old syntax.</p>

<p style="margin-top: 1em">This option was renamed in
Netpbm 10.32 (February 2006). Before that, its name is
-cieramp.</p>

<p style="margin-top: 1em">-cieramp <br>
This is an obsolete synonym for -bt709ramp.</p>

<p style="margin-top: 1em">The name of this option comes
from a former belief that this was a standard of CIE
(International Commission On Illumination), but it now
(August 2005) looks like it never <br>
was.</p>

<p style="margin-top: 1em">-srgbramp <br>
Convert the image from radiance to SRGB luminance. Note that
it is true SRGB only if you use the default gamma value
(i.e. don&rsquo;t specify any gamma parameters).</p>

<p style="margin-top: 1em">This is an old syntax option.
There is no equivalent in the new syntax because it really
shouldn&rsquo;t be a function of pnmgamma at all. It exists
solely for backward com&acirc; <br>
patibility. The reason it shouldn&rsquo;t exist is that the
way to do this conversion consistent with the Netpbm
philosophy is do a -lineartobt709 followed by a
-bt709tosrgb. <br>
It&rsquo;s exactly analogous to the way you have to convert
from PNG to TIFF by doing a pngtopam followed by a
pnmtotiff. The -srgbramp option actually dates to before
there <br>
was a standard definition of what the sample values of a
Netpbm image measure, and pnmgamma considered
radiance-linear to be the proper intermediate format.</p>

<p style="margin-top: 1em">-ungamma <br>
Apply the inverse of the specified transfer function (i.e.
go from gamma-adjusted luminance to radiance).</p>

<p style="margin-top: 1em">This is valid only with
-bt709ramp (aka -cieramp), -srgbramp, and the default
exponential transfer function.</p>

<p style="margin-top: 1em">-gamma=float <br>
This specifies the gamma value to use in the transfer
function. All of the transfer functions involve an exponent,
and the gamma value is that exponent.</p>

<p style="margin-top: 1em">The standards specify a
particular gamma value. If you use anything else, you are
varying from the standard.</p>

<p style="margin-top: 1em">The default is the standard
value. For the simple exponential transfer function (which
is not a standard), the default is 2.2.</p>

<p style="margin-top: 1em">In the -bt709tosrgb and
-srgbtobt709 conversions there are two exponents. -gamma
affects the &rsquo;to&rsquo; function; the
&rsquo;from&rsquo; function always uses the standard gamma
value.</p>

<p style="margin-top: 1em">If you specify one of the
component-specific options (-rgamma, etc.), that overrides
the -gamma value.</p>

<p style="margin-top: 1em">With the -bt709ramp (aka
-cieramp), -srgbramp, or the default exponential transfer
function, you can&rsquo;t actually use this option, but you
specify the same thing with <br>
parameters. &acirc;&uml;#parameters&acirc;&copy;</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006).</p>

<p style="margin-top: 1em">-rgamma=float</p>

<p style="margin-top: 1em">-ggamma=float</p>

<p style="margin-top: 1em">-bgamma=float <br>
These options are just like -gamma, except they specify the
value for a particular one of the color components.</p>

<p style="margin-top: 1em">If you don&rsquo;t specify this
option for a particular color component, the default is the
-gamma value (or -gamma&rsquo;s default if you didn&rsquo;t
specify that either).</p>

<p style="margin-top: 1em">With the -bt709ramp (aka
-cieramp), -srgbramp, or the default exponential transfer
function, you can&rsquo;t actually use this option, but you
specify the same thing with <br>
parameters. &acirc;&uml;#parameters&acirc;&copy;</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006).</p>

<p style="margin-top: 1em">-maxval=maxval <br>
This is the maxval of the output image. By default, the
maxval of the output is the same as that of the input.</p>

<p style="margin-top: 1em">Because the transformation is
not linear, you need a greater maxval in the output in order
not to lose any information from the input. For example, if
you convert to <br>
radiance-linear sample values with -ungamma -bt709ramp and
default gamma value, and your maxval is 255 on both input
and output, 3 different input sample values all gener&acirc;
<br>
ate output sample value 254. In order to have a different
output sample value for each input sample value, you would
need an output maxval at least 3 times the input max&acirc;
<br>
val.</p>

<p style="margin-top: 1em">This option was new in Netpbm
10.32 (February 2006). Before that, you can achieve the same
result by increasing the maxval of the input or decreasing
the maxval of the <br>
output using pamdepth.</p>

<p style="margin-top: 1em">WHAT IS GAMMA? <br>
A good explanation of gamma is in Charles Poynton&rsquo;s
Gamma FAQ at http://www.poynton.com/GammaFAQ.html (1) <br>
and Color FAQ at http://www.poynton.com/ColorFAQ.html
(1)</p>

<p style="margin-top: 1em">In brief: The simplest way to
code an image is by using sample values that are directly
proportional to the radiance of the color components.
Radiance is a physical quantifica&acirc; <br>
tion based on the amount of power in the light; it is easily
measurable in a laboratory, but does not take into account
what the light looks like to a person. It wastes the
sam&acirc; <br>
ple space because the human eye can&rsquo;t discern
differences between low-radiance colors as well as it can
between high-radiance colors. So instead, we pass the
radiance values <br>
through a transfer function that makes it so that changing a
sample value by 1 causes the same level of perceived color
change anywhere in the sample range. We store those <br>
resulting values in the image file. That transfer function
is called the gamma transfer function and the transformation
is called gamma adjusting.</p>

<p style="margin-top: 1em">The gamma-adjusted value,
proportional to subjective brightness, are known as the
luminance of the pixel.</p>

<p style="margin-top: 1em">There is no precise objective
way to measure luminance, since it&rsquo;s psychological.
Also, perception of brightness varies according to a variety
of factors, including the sur&acirc; <br>
rounding in which an image is viewed. Therefore, there is
not just one gamma transfer function.</p>

<p style="margin-top: 1em">Virtually all image formats,
either specified or de facto, use gamma-adjusted values for
their sample values.</p>

<p style="margin-top: 1em">What&rsquo;s really nice about
gamma is that by coincidence, the inverse function that you
have to do to convert the gamma-adjusted values back to
radiance is done automatically by <br>
CRTs. You just apply a voltage to the CRT&rsquo;s electron
gun that is proportional to the gamma-adjusted sample value,
and the radiance of the light that comes out of the screen
is <br>
close to the radiance value you had before you applied the
gamma transfer function!</p>

<p style="margin-top: 1em">And when you consider that
computer video devices usually want you to store in video
memory a value proportional to the signal voltage you want
to go to the monitor, which the <br>
monitor turns into a proportional drive voltage on the
electron gun, it is really convenient to work with
gamma-adjusted sample values.</p>

<p style="margin-top: 1em">SEE ALSO <br>
pnm(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Copyright (C) 1991 by Bill Davidson and Jef Poskanzer.</p>

<p style="margin-top: 1em">netpbm documentation 30 June
2007 Pnmgamma User Manual(0)</p>
<hr>
</body>
</html>
