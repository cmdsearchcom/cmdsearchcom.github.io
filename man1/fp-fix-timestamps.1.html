<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>untitled(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">untitled(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">untitled(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>fp-fix-timestamps </b>- helper script for the Free Pascal stack in Debian
  <b></b>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<b>fp-fix-timestamps</b> check|update|touch
<div class="Pp"></div>
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>fp-fix-timestamps</b> is meant to be used by Debian source packages in the
  Free Pascal stack. The primary location for use is the debian/rules file. The
  aim of this script is to fix the timestamps of patched files (with respect to
  upstream) that would otherwise end up changing the timestamp stored in ppu
  files.
<div class="Pp"></div>
This timestamp in ppu files has two issues:
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">It deteriorates reproducible builds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">Reverse dependent packages that also build ppu files may
      believe that the source has changed and either require recompilation of
      the source or at least require recalculation all the time.</dd>
</dl>
<div class="Pp"></div>
Currently this script supports three operations.
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">touch: The main operation is to touch the files that are
      listed in debian/source/timestamps to the associated timestamps (in that
      same file).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">check: When the situation is simple and the only changes in
      the package to the source come from patches, the check option can be used
      to verify that the list in debian/source/timestamps is still up-to-date in
      the sense that all files touched by patches are listed and that all files
      listed are touched by patches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">update: Similar to check, but also update the
      debian/source/timestamps file.</dd>
</dl>
<div class="Pp"></div>
When the maintainer scripts modify a source file outside of the patches, the
  maintainer is free to add those files manually to the timestamps file, but
  then the check and update options don't work as expected anymore.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
https://wiki.debian.org/ReproducibleBuilds/TimestampsInPPUGeneratedByFPC
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Paul Gevers &lt;elbrus@debian.org&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">09 April 2017</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
