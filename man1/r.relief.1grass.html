<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.relief(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.relief(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.relief(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.relief</b> - Creates shaded relief map from an elevation map (DEM).
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, elevation, relief, terrain, hillshade
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.relief</b>
<div>&#x00A0;</div>
<b>r.relief --help</b>
<div>&#x00A0;</div>
<b>r.relief</b> <b>input</b>=<i>name</i> <b>output</b>=<i>name</i>
  [<b>altitude</b>= <i>float</i>] [<b>azimuth</b>=<i>float</i>]
  [<b>zscale</b>=<i>float</i>] [<b>scale</b>=<i>float</i>]
  [<b>units</b>=<i>string</i>] [-- <b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output shaded relief map
    <div>&#x00A0;</div>
    Name for output raster map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>altitude</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Altitude of the sun in degrees above the horizon
    <div>&#x00A0;</div>
    Options: <i>0-90</i>
    <div>&#x00A0;</div>
    Default: <i>30</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>azimuth</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Azimuth of the sun in degrees to the east of north
    <div>&#x00A0;</div>
    Options: <i>0-360</i>
    <div>&#x00A0;</div>
    Default: <i>270</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zscale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Factor for exaggerating relief
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>scale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Scale factor for converting meters to elevation units
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>units</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Elevation units (overrides scale factor)
    <div>&#x00A0;</div>
    Options: <i>intl, survey</i>
    <div>&#x00A0;</div>
     <b>intl</b>: international feet
    <div>&#x00A0;</div>
     <b>survey</b>: survey feet</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.relief</i> creates a raster shaded relief map based on current resolution
  settings and on sun altitude, azimuth, and z-exaggeration values entered by
  the user. If no output shademap name is given, the new shaded relief map is
  named <i>&lt;input_map</i> <i>&gt;.shade</i>. The map is assigned a grey-scale
  color table.
<div class="Pp"></div>
The parameters controlling the shading are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">A raster map layer to provide elevation values for the
      shaded relief map. Typically, this would be a map layer of elevation;
      however, any raster map layer can be named.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">The <b>altitude</b> of the sun in degrees above the horizon
      (a value between 0 and 90 degrees).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>3</b></dt>
  <dd class="It-tag">The <b>azimuth</b> of the sun in degrees to the east of
      north (a value between 0 and 360 degrees; clockwise from north).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>4</b></dt>
  <dd class="It-tag">The scaling parameter, which compensates for a different
      horizontal <b>scale</b> than vertical scale. If <b>scale</b> is a number,
      then the ewres and nsres are multiplied by that scale to calculate the
      shading. (Default=1.0 for equivalent horizontal and vertical scales.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>5</b></dt>
  <dd class="It-tag">The <b>zscale</b> exaggeration factor that changes the
      apparent relief for the shaded relief map. This can be any positive (or
      negative) floating point value. (Default=1.0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>6</b></dt>
  <dd class="It-tag">Horizontal distances are calculated in meters, using
      geodesic distances for a latitude-longitude projection. With an elevation
      map measured in feet, the <b>units</b> option can be set to automatically
      convert meters to international feet (0.3048 meters = 1 foot) or survey
      feet (1200 / 3937 meters = 1 foot). The <b>units</b> parameter overrides
      the <b>scale</b> parameter.</dd>
</dl>
<div class="Pp"></div>
<i>r.relief</i> assigns a grey-scale color table to the new shaded relief map.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
To visually improve the result of shade maps from low resolution elevation
  models, use <i>r.resamp.interp</i> with bilinear or bicubic method to resample
  the DEM at higher resolution. <i>r.relief</i> is then run on the resampled
  DEM.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Shaded_relief_map"><a class="selflink" href="#Shaded_relief_map">Shaded
  relief map</a></h2>
In this example, the aspect map in the North Carolina sample dataset location is
  used to hillshade the elevation map:
<div>&#x00A0;</div>
<pre>
g.region raster=elevation -p
r.relief input=elevation output=elevation_shade
</pre>
<div>&#x00A0;</div>
<i>r.relief: shaded elevation map (subset)</i>
<h2 class="Ss" title="Ss" id="Colorizing_a_shaded_relief_map"><a class="selflink" href="#Colorizing_a_shaded_relief_map">Colorizing
  a shaded relief map</a></h2>
Color can be added later using <i>r.shade</i>:
<div>&#x00A0;</div>
<pre>
r.shade shade=elevation_shade color=elevation output=elevation_shaded
</pre>
<h2 class="Ss" title="Ss" id="Using_the_scale_factor_in_Latitude-Longitude"><a class="selflink" href="#Using_the_scale_factor_in_Latitude-Longitude">Using
  the scale factor in Latitude-Longitude</a></h2>
In Latitude-Longitude locations (or other non-metric locations), the
  <i>scale</i> factor has to be used:
<div>&#x00A0;</div>
<pre>
# Latitude-Longitude example
g.region raster=srtm -p
r.relief input=srtm output=srtm_shaded scale=111120
</pre>
<h2 class="Ss" title="Ss" id="Exporting_shaded_relief_maps_to_GeoTIFF"><a class="selflink" href="#Exporting_shaded_relief_maps_to_GeoTIFF">Exporting
  shaded relief maps to GeoTIFF</a></h2>
The data range of shaded relief maps usually does not permit exporting the map
  to GeoTIFF format along with its associated color table due to limitations in
  the GeoTIFF format.
<div class="Pp"></div>
The most simple way to export it while even reducing the file size is to export
  as palette byte map. This requires a conversion done in r.mapcalc, using the #
  operator to convert map category values to their grey scale equivalents:
<div>&#x00A0;</div>
<pre>
# using the map created above
# create new map from map category values
r.mapcalc &quot;elevation_shade_byte = #elevation_shade&quot;
# verify data range
r.info elevation_shade_byte
# assign grey color table
r.colors elevation_shade_byte color=grey
# export (optionally: createopt=&quot;COMPRESS=DEFLATE,BIGTIFF=YES&quot;)
r.out.gdal input=elevation_shade_byte createopt=&quot;COMPRESS=DEFLATE&quot; \
           output=elevation_shade.tif
# add overview images in GeoTIFF file for faster zooming
gdaladdo --config GDAL_CACHEMAX 2000 elevation_shade.tif 2 4 8 16
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>d.shade,</i> <i>d.his,</i> <i>g.region,</i> <i>r.shade,</i>
  <i>r.blend,</i> <i>r.colors,</i> <i>r.mapcalc,</i> <i>r.resamp.interp</i>
  <i></i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Jim Westervelt, U.S. Army Construction Engineering Research Laboratory
<div>&#x00A0;</div>
Markus Metz: Enhanced fast C version of r.relief for GRASS GIS 7
<div class="Pp"></div>
<i>Last changed: $Date: 2016-05-16 12:06:50 +0200 (Mon, 16 May 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.relief source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
