<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:32:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>POSTPROOF(1) postproof Manual POSTPROOF(1)</p>

<p style="margin-top: 1em">NAME <br>
postproof - collect messages from a Postfix mail queue and
preserve them as incident</p>

<p style="margin-top: 1em">SYNOPSIS <br>
postproof [-m &lt;msg&gt;] [-M] [-j] [-z] [-p] [-c
&lt;config_dir&gt;] [-s] [-v] [-h] [-o &lt;out_dir&gt;] [-n
&lt;recipient&gt;] envelope-sender [ envelope-sender]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
postproof is a tool to retrieve and preserve messages from a
postfix mail queue. It was created as a tool to preserve
evidence after abuse incidents.</p>

<p style="margin-top: 1em">Given a whitespace separated
list of one or more envelope-sender addresses postproof will
search a Postfix queue for all messages from these senders.
It will move all identified <br>
messages into Postfix&rsquo; HOLD queue.</p>

<p style="margin-top: 1em">It will create an incident
directory and start preserving evidence. For each message it
will preserve a copy of its raw queue file, containing
delivery information and message. <br>
Postproof will also store all messages into a maildir style
directory for later inspection e.g. by a MUA. Finally it
will create checksums of all files and write them to a <br>
separate file.</p>

<p style="margin-top: 1em">OPTIONS <br>
-m &lt;msg&gt; (optional) <br>
Specifies a message on command line. The message will be
written to a file named incident.txt within the incident
directory.</p>

<p style="margin-top: 1em">-M (optional) <br>
Invoke $EDITOR in order to create a message describing the
incident. The message will be written to a file named
incident.txt within the incident directory.</p>

<p style="margin-top: 1em">-j (optional) <br>
Specifies to archive the incident using bzip2.</p>

<p style="margin-top: 1em">-z (optional) <br>
Specifies to archive the incident using gzip.</p>

<p style="margin-top: 1em">-p (optional) <br>
Specifies to purge each identified message from
Postfix&rsquo; HOLD queue after it has been preserved.</p>

<p style="margin-top: 1em">-c &lt;config_dir&gt; (default:
/etc/postfix) <br>
Specifies to use &lt;config_dir&gt; to identify the
corresponding Postfix queue. All postproof actions will be
acted upon messages in that queue. This option is useful for
Postfix <br>
multiple instance setups.</p>

<p style="margin-top: 1em">-s (optional) <br>
Specifies to store messages grouped by envelope-sender.
Postproof will create a subdirectory for each
envelope-sender. This option is useful only in combination
if multiple <br>
envelope-senders have been given to postproof.</p>

<p style="margin-top: 1em">-v (optional) <br>
Print verbose output during operation.</p>

<p style="margin-top: 1em">-h (optional) <br>
Print a help message including short explanations for
command line options.</p>

<p style="margin-top: 1em">-o &lt;out_dir&gt; (optional)
<br>
Specifies a directory out_dir name to which all incident
data should be written. If not specified postproof will
create a directory made from a timestamp and a random string
<br>
e.g. 2015-02-02_21:56:19.1422910579.c1m9.</p>

<p style="margin-top: 1em">-n &lt;recipient&gt; (optional)
<br>
Specifies an envelope-recipient to whom an incident
notification should be sent.</p>

<p style="margin-top: 1em">BUGS <br>
Please submit BUGS to
https://github.com/sys4/postproof/issues.</p>

<p style="margin-top: 1em">AUTHOR <br>
J&Atilde;&para;rg Zimmermann &lt;jz@sys4.de&gt; wrote the
program. Patrick Ben Koetter &lt;p@sys4.de&gt; wrote this
man page.</p>

<p style="margin-top: 1em">RESOURCES <br>
postproofs&acirc;s home is at
https://github.com/sys4/postproof.</p>

<p style="margin-top: 1em">COPYING <br>
Copyright (C) 2015 sys4 AG. Free use of this software is
granted under the terms of the GNU General Public License
(GPL).</p>

<p style="margin-top: 1em">postproof 0.1 03/24/2015
POSTPROOF(1)</p>
<hr>
</body>
</html>
