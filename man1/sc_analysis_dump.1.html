<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SC_ANALYSIS_DUMP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SC_ANALYSIS_DUMP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SC_ANALYSIS_DUMP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">sc_analysis_dump</b> &#x2014;
  <span class="Nd" title="Nd">dump of traceroute data in a format that is easily
  parsed.</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sc_analysis_dump</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-cCdeghHilMopQrstT</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-D</b>&#x00A0;<var class="Ar" title="Ar">debug-count</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-G</b>&#x00A0;<var class="Ar" title="Ar">geo-server</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-S</b>&#x00A0;<var class="Ar" title="Ar">skip-count</var></span>]
      [<span class="Op"><var class="Ar" title="Ar">file&#x00A0;...</var></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b class="Nm" title="Nm">sc_analysis_dump</b> utility provides a dump of
  traceroute data in a format that is easily parsed by scripts. Each line output
  contains a summary of a single trace, and includes the interfaces visited and
  the delay of each response. The output format is identical to that of
  sk_analysis_dump from CAIDA, except that it uses the scamper file API to read
  both arts++ files produced by skitter and warts files produced by scamper. The
  <b class="Nm" title="Nm">sc_analysis_dump</b> utility only outputs traceroute
  data; for parsing other types of measurement, use
  <a class="Xr" title="Xr">sc_warts2json(1)</a> instead. The options are as
  follows:
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#c"><b class="Fl" title="Fl" id="c">-c</b></a></dt>
  <dd class="It-tag">disables printing the cycle number in each line of
    output.</dd>
  <dt class="It-tag"><a class="selflink" href="#C"><b class="Fl" title="Fl" id="C">-C</b></a></dt>
  <dd class="It-tag">disables printing the comments about the output at the top
      of the output.</dd>
  <dt class="It-tag"><a class="selflink" href="#d"><b class="Fl" title="Fl" id="d">-d</b></a></dt>
  <dd class="It-tag">disables printing the destination address in each line of
      output.</dd>
  <dt class="It-tag"><a class="selflink" href="#D"><b class="Fl" title="Fl" id="D">-D</b></a>
    <var class="Ar" title="Ar">debug-count</var></dt>
  <dd class="It-tag">for each input file stop reading after the specified number
      of traces.</dd>
  <dt class="It-tag"><a class="selflink" href="#e"><b class="Fl" title="Fl" id="e">-e</b></a></dt>
  <dd class="It-tag">adds the response from the destination to each line of
      output. Please read the bugs section below.</dd>
  <dt class="It-tag"><a class="selflink" href="#g"><b class="Fl" title="Fl" id="g">-g</b></a></dt>
  <dd class="It-tag">use geographical data from netacuity. Not all builds of
      <b class="Nm" title="Nm">sc_analysis_dump</b> support this option.</dd>
  <dt class="It-tag"><a class="selflink" href="#G"><b class="Fl" title="Fl" id="G">-G</b></a>
    <var class="Ar" title="Ar">geo-server</var></dt>
  <dd class="It-tag">specifies the name of the netacuity server to use.</dd>
  <dt class="It-tag"><a class="selflink" href="#h"><b class="Fl" title="Fl" id="h">-h</b></a></dt>
  <dd class="It-tag">prints a help message and then exits.</dd>
  <dt class="It-tag"><a class="selflink" href="#H"><b class="Fl" title="Fl" id="H">-H</b></a></dt>
  <dd class="It-tag">disables printing the halt fields: why traceroute halted
      and data for that reason.</dd>
  <dt class="It-tag"><a class="selflink" href="#i"><b class="Fl" title="Fl" id="i">-i</b></a></dt>
  <dd class="It-tag">disables printing the RTT to each hop, and how many tries
      were required.</dd>
  <dt class="It-tag"><a class="selflink" href="#l"><b class="Fl" title="Fl" id="l">-l</b></a></dt>
  <dd class="It-tag">disables printing the list id in each line of output.</dd>
  <dt class="It-tag"><a class="selflink" href="#M"><b class="Fl" title="Fl" id="M">-M</b></a></dt>
  <dd class="It-tag">prints any MPLS label stack objects embedded in ICMP
      responses.</dd>
  <dt class="It-tag"><a class="selflink" href="#o"><b class="Fl" title="Fl" id="o">-o</b></a></dt>
  <dd class="It-tag">prints each line of output using the old format from
      sk_analysis_dump 1.0.</dd>
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a></dt>
  <dd class="It-tag">disables print path data in each line of output.</dd>
  <dt class="It-tag"><a class="selflink" href="#Q"><b class="Fl" title="Fl" id="Q">-Q</b></a></dt>
  <dd class="It-tag">prints the IP-TTL from inside the ICMP quotation.</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a></dt>
  <dd class="It-tag">disables printing the data associated the response from a
      destination: the RTT, the TTL of the probe, and the TTL of the
    response.</dd>
  <dt class="It-tag"><a class="selflink" href="#s"><b class="Fl" title="Fl" id="s">-s</b></a></dt>
  <dd class="It-tag">disables printing the source IP address in each line of
      output.</dd>
  <dt class="It-tag"><a class="selflink" href="#S"><b class="Fl" title="Fl" id="S">-S</b></a>
    <var class="Ar" title="Ar">skip-count</var></dt>
  <dd class="It-tag">skips the defined number of traces from each input
    file.</dd>
  <dt class="It-tag"><a class="selflink" href="#t"><b class="Fl" title="Fl" id="t">-t</b></a></dt>
  <dd class="It-tag">disables printing the timestamp of when the traceroute
      began.</dd>
  <dt class="It-tag"><a class="selflink" href="#T"><b class="Fl" title="Fl" id="T">-T</b></a></dt>
  <dd class="It-tag">prints the IP-TTL of the response packet.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OUTPUT"><a class="selflink" href="#OUTPUT">OUTPUT</a></h1>
There is one trace per line. Fields are separated by a tab character. The output
  is structured into header fields (2 to 6), reply fields (7 to 10)
  corresponding to the response received from the destination, halt fields (11
  and 12), and hop fields (beginning at index 13).
<ol class="Bl-enum" style="margin-left: 6.00ex;">
  <li class="It-enum">Key
    <div class="Pp"></div>
    Indicates the type of line and determines the meaning of the remaining
      fields. This will always be 'T' for an IP trace.</li>
  <li class="It-enum">Source
    <div class="Pp"></div>
    Source IP of skitter/scamper monitor performing the trace.</li>
  <li class="It-enum">Destination
    <div class="Pp"></div>
    Destination IP being traced.</li>
  <li class="It-enum">ListId
    <div class="Pp"></div>
    ID of the destination list containing this destination address. This value
      will be zero if no list ID was provided. A ListId is a 32 bit unsigned
      integer.</li>
  <li class="It-enum">CycleId
    <div class="Pp"></div>
    ID of current probing cycle. A cycle is a single run through a given list. A
      CycleId is a 32 bit unsigned integer. For skitter traces, cycle IDs will
      be equal to or slightly earlier than the timestamp of the first trace in
      each cycle. There is no standard interpretation for scamper cycle IDs.
      This value will be zero if no cycle ID was provided.</li>
  <li class="It-enum">Timestamp
    <div class="Pp"></div>
    Timestamp when trace began to this destination.</li>
  <li class="It-enum">DestReplied
    <div class="Pp"></div>
    Whether a response from the destination was received. The character R is
      printed if a reply was received. The character N is printed if no reply
      was received. Since skitter sends a packet with a TTL of 255 when it halts
      probing, it is still possible for the final destination to send a reply
      and for the HaltReasonData (see below) to not equal no_halt. Note: scamper
      does not perform this last-ditch probing at TTL 255 by default.</li>
  <li class="It-enum">DestRTT
    <div class="Pp"></div>
    The RTT (ms) of first response packet from destination. This value is zero
      if DestReplied is N.</li>
  <li class="It-enum">RequestTTL
    <div class="Pp"></div>
    TTL set in request packet which elicited a response (echo reply) from the
      destination. This value is zero if DestReplied is N.</li>
  <li class="It-enum">ReplyTTL
    <div class="Pp"></div>
    TTL found in reply packet from destination. This value is zero if
      DestReplied is N.</li>
  <li class="It-enum">HaltReason
    <div class="Pp"></div>
    A single character corresponding to the reason, if any, why incremental
      probing stopped. S is printed if the destination was reached or there is
      no halt data. U is printed if an ICMP unreachable message was received. L
      is printed if a loop was detected. G is printed if the gaplimit was
      reached.</li>
  <li class="It-enum">HaltReasonData
    <div class="Pp"></div>
    Extra data about why probing halted. If HaltReason is S, the zero is output.
      If HaltReason is U, the ICMP code of the unreachable message is printed.
      If HaltReason is L, the length of the loop is printed. If HaltReason is G,
      the length of the gap is printed.</li>
  <li class="It-enum">PathComplete
    <div class="Pp"></div>
    Whether all hops to destination were found. C is printed if the trace is
      complete, all hops are found. I is printed if the trace is incomplete, at
      least one hop is missing (i.e., did not respond).</li>
  <li class="It-enum">PerHopData
    <div class="Pp"></div>
    Response data for each hop. If multiple IP addresses respond at the same
      hop, response data for each IP address are separated by semicolons:
    <div class="Pp"></div>
    IP,RTT,numTries (for only one responding IP)
      IP,RTT,numTries;IP,RTT,numTries;... (for multiple responding IPs)
    <div class="Pp"></div>
    where IP is the IP address which sent a TTL expired packet, RTT is the RTT
      of the TTL expired packet, and numTries is the number of tries before a
      response was received from the TTL.
    <div class="Pp"></div>
    This field has the value 'q' if there was no response at a hop.
    <div class="Pp"></div>
    If the <b class="Fl" title="Fl">-M</b> option is specified, any MPLS label
      stack objects embedded in the ICMP response will be included in the
      following format, and the four fields correspond to each of the fields in
      a MPLS header.
    <div class="Pp"></div>
    M|ttl|label|exp|s
    <div class="Pp"></div>
    If the ICMP response embeds more than one MPLS header, they are given one at
      a time, each starting with an M.
    <div class="Pp"></div>
    If the <b class="Fl" title="Fl">-Q</b> option is specified, the TTL value
      found in a quoted IP packet is included with the following format:
    <div class="Pp"></div>
    Q|ttl
    <div class="Pp"></div>
    If the <b class="Fl" title="Fl">-T</b> option is specified, the TTL value of
      the response packet is included with the following format:
    <div class="Pp"></div>
    T|ttl</li>
</ol>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The command:
<div class="Pp"></div>
sc_analysis_dump file1.warts file2.warts
<div class="Pp"></div>
will decode and print the traceroute objects in file1.warts, followed by the
  traceroute objects in file2.warts.
<div class="Pp"></div>
The command:
<div class="Pp"></div>
gzcat file1.warts.gz | sc_analysis_dump
<div class="Pp"></div>
will decode and print the traceroute objects in the uncompressed file supplied
  on stdin.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
When the <b class="Fl" title="Fl">-e</b> option is used, any unresponsive hops
  between the last responding router and the destination are not printed, which
  could imply an IP link where none exists. The author recommends using
  <a class="Xr" title="Xr">sc_warts2json(1)</a> instead.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">scamper(1)</a>,
  <a class="Xr" title="Xr">sc_wartsdump(1,)</a>
  <a class="Xr" title="Xr">sc_warts2json(1)</a>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b class="Nm" title="Nm">sc_analysis_dump</b> is written by Matthew Luckie
  &lt;mjl@luckie.org.nz&gt;. It is derived from CAIDA's sk_analysis_dump program
  and should behave in an identical manner.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 8, 2013</td>
    <td class="foot-os">Linux 4.12.14-300.fc26.x86_64</td>
  </tr>
</table>
</body>
</html>
