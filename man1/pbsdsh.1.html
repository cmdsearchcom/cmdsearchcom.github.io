<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>pbsdsh(1B)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">pbsdsh(1B)</td>
    <td class="head-vol">PBS</td>
    <td class="head-rtitle">pbsdsh(1B)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pbsdsh - distribute task to nodes under pbs
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
pbsdsh [-c copies] [-o] [-s] [-u] [-v] program [args]
<div>&#x00A0;</div>
pbsdsh [-n node] [-o] [-s] [-u] [-v] program [args]
<div>&#x00A0;</div>
pbsdsh [-h nodename] [-o] [-v] program [args]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Executes (spawns) a normal Unix program on one or more nodes under control of
  the Portable Batch System, PBS. Pbsdsh uses the Task Manager API, see
  tm_spawn(3), to distribute the program on the allocated nodes.
<div class="Pp"></div>
When run without the -c or the -n option, pbsdsh will spawn the program on all
  nodes allocated to the PBS job. The spawns take place concurrently - all
  execute at (about) the same time.
<div class="Pp"></div>
Users will find the <b>PBS_TASKNUM</b> , <b>PBS_NODENUM</b> , and the
  <b>PBS_VNODENUM</b> environmental variables useful. They contain the TM task
  id, the node identifier, and the cpu (virtual node) identifier.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-c copies</dt>
  <dd class="It-tag">The program is spawned on the first nodes allocated. This
      option is mutual exclusive with -n.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n node</dt>
  <dd class="It-tag">The program is spawned on one node which is the node
      allocted. This option is mutual exclusive with -c.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h hostname</dt>
  <dd class="It-tag">The program is spawned on the node specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o</dt>
  <dd class="It-tag">Capture stdout of the spawned program. Normally stdout goes
      to the job's output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">If this option is given, the program is run in turn on each
      node, one after the other.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-u</dt>
  <dd class="It-tag">The program is run once on each node (unique). This ignores
      the number of allocated processers on a given node.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">Verbose output about error conditions and task exit status
      is produced.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
The first operand, is the program to execute.
<div class="Pp"></div>
Additional operands, are passed as arguments to the program.
<h1 class="Sh" title="Sh" id="STANDARD_ERROR"><a class="selflink" href="#STANDARD_ERROR">STANDARD
  ERROR</a></h1>
The pbsdsh command will write a diagnostic message to standard error for each
  error occurrence.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
Upon successful processing of all the operands presented to the command, the
  exit status will be a value of zero.
<div class="Pp"></div>
If the pbsdsh command fails to process any operand, or fails to contact the MOM
  daemon on the localhost the command exits with a value greater than zero.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
qsub(1B), tm_spawn(3B)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">Local</td>
  </tr>
</table>
</body>
</html>
