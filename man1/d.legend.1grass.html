<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:04:27 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>d.legend(1grass) Grass User&rsquo;s Manual
d.legend(1grass)</p>

<p style="margin-top: 1em">NAME <br>
d.legend - Displays a legend for a 2D or 3D raster map in
the active frame of the graphics monitor.</p>

<p style="margin-top: 1em">KEYWORDS <br>
display, cartography, legend</p>

<p style="margin-top: 1em">SYNOPSIS <br>
d.legend <br>
d.legend --help <br>
d.legend [-vctnsfdbl] [raster=name] [raster_3d=name]
[title=string] [title_fontsize=float] [lines=integer]
[thin=integer] [units=string] [labelnum=integer] <br>
[label_values=float[,float,...]] [label_step=float]
[digits=integer] [at=bottom,top,left,right]
[use=float[,float,...]] [range=min,max] [color=name]
[font=string] <br>
[fontsize=float] [path=name] [charset=string]
[border_color=name] [bgcolor=name] [--help] [--verbose]
[--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-v <br>
Do not show category labels</p>

<p style="margin-top: 1em">-c <br>
Do not show category numbers</p>

<p style="margin-top: 1em">-t <br>
Draw legend ticks for labels</p>

<p style="margin-top: 1em">-n <br>
Skip categories with no label</p>

<p style="margin-top: 1em">-s <br>
Draw smooth gradient</p>

<p style="margin-top: 1em">-f <br>
Flip legend</p>

<p style="margin-top: 1em">-d <br>
Add histogram to smoothed legend</p>

<p style="margin-top: 1em">-b <br>
Show background</p>

<p style="margin-top: 1em">-l <br>
Use logarithmic scale</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
raster=name <br>
Name of raster map</p>

<p style="margin-top: 1em">raster_3d=name <br>
Name of 3D raster map</p>

<p style="margin-top: 1em">title=string <br>
Legend title</p>

<p style="margin-top: 1em">title_fontsize=float <br>
Title font size <br>
Default: Same as fontsize <br>
Options: 1-360</p>

<p style="margin-top: 1em">lines=integer <br>
Number of text lines (useful for truncating long legends)
<br>
Options: 0-1000 <br>
Default: 0</p>

<p style="margin-top: 1em">thin=integer <br>
Thinning factor (thin=10 gives cats 0,10,20...) <br>
Options: 1-1000 <br>
Default: 1</p>

<p style="margin-top: 1em">units=string <br>
Units to display after labels (e.g. meters)</p>

<p style="margin-top: 1em">labelnum=integer <br>
Number of text labels for smooth gradient legend <br>
Options: 2-100 <br>
Default: 5</p>

<p style="margin-top: 1em">label_values=float[,float,...]
<br>
Specific values to draw ticks</p>

<p style="margin-top: 1em">label_step=float <br>
Display label every step</p>

<p style="margin-top: 1em">digits=integer <br>
Number of digits after decimal point <br>
Options: 0-6</p>

<p style="margin-top: 1em">at=bottom,top,left,right <br>
Size and placement as percentage of screen coordinates (0,0
is lower left) <br>
bottom,top,left,right <br>
Options: 0-100</p>

<p style="margin-top: 1em">use=float[,float,...] <br>
List of discrete category numbers/values for legend</p>

<p style="margin-top: 1em">range=min,max <br>
Use a subset of the map range for the legend (min,max)</p>

<p style="margin-top: 1em">color=name <br>
Text color <br>
Either a standard color name or R:G:B triplet <br>
Default: black</p>

<p style="margin-top: 1em">font=string <br>
Font name</p>

<p style="margin-top: 1em">fontsize=float <br>
Font size <br>
Default: Auto-scaled <br>
Options: 1-360</p>

<p style="margin-top: 1em">path=name <br>
Path to font file</p>

<p style="margin-top: 1em">charset=string <br>
Text encoding (only applicable to TrueType fonts)</p>

<p style="margin-top: 1em">border_color=name <br>
Border color <br>
Either a standard color name, R:G:B triplet, or
&quot;none&quot; <br>
Default: black</p>

<p style="margin-top: 1em">bgcolor=name <br>
Background color <br>
Either a standard color name, R:G:B triplet, or
&quot;none&quot; <br>
Default: white</p>

<p style="margin-top: 1em">DESCRIPTION <br>
d.legend displays a legend for a user-specified raster map
or 3D raster map layer in the active frame on the graphics
monitor.</p>

<p style="margin-top: 1em">The legend&acirc;s default size
is based on the dimensions of the active frame, specifically
its height. d.legend will only obscure those portions of the
active frame that directly <br>
underlie the legend.</p>

<p style="margin-top: 1em">NOTES <br>
When using the at to size &amp; place the legend, a user may
create a horizontal legend by making the box wider than it
is tall.</p>

<p style="margin-top: 1em">Raster maps based on floating
point values will display smoothed, from greatest to
smallest value, while categorical raster maps will display
in order, from top to bottom. Hori&acirc; <br>
zontal legends will always be smoothed. If the box is
defined with inverted y-values or an inverted range, the
legend will automatically flip. If this is not the desired
result, <br>
the -f flag may be used to flip it back.</p>

<p style="margin-top: 1em">If the user attempts to display
a very long legend in a relatively short display frame, the
legend may appear in unreadably small text, or even revert
to a smooth gradient leg&acirc; <br>
end. Use the lines, thin, use, range, and/or -n options to
reduce the number of categories to be displayed, or the -s
flag to force a smooth gradient legend.</p>

<p style="margin-top: 1em">The lines option will display
the first number of categories, as defined by value,
contained in the raster map. When used with the -n flag, it
takes on a new meaning: &quot;up to cat&acirc; <br>
egory #&quot;. When used with both thin and the -n flag, its
meaning becomes more obscure. When using lines, auto-scaled
text similar to &quot;4 of 16 categories&quot; will be
placed at the <br>
bottom of the legend.</p>

<p style="margin-top: 1em">The thin option sets the
thinning factor. For raster maps with a 0th category,
thin=10 gives cats [0,10,20,...]. For raster maps starting
at category 1, thin=10 gives cats <br>
[1,11,21,...].</p>

<p style="margin-top: 1em">The use option lets the user
create a legend made up of arbitrary category values. e.g.
use=1000,100,10,0,-10,-100,-1000</p>

<p style="margin-top: 1em">The range option lets the user
define the minimum and maximum categories to be used in the
legend. It may also be used to define the limits of a smooth
gradient legend created <br>
from a raster containing floating point values. Note the
color scale will remain faithful to the category values as
defined with r.colors, and the range may be extended to the
<br>
limits defined by the r.colors color map.</p>

<p style="margin-top: 1em">The flag -n is useful for
categorial maps, as it suppresses the drawing of
non-existing categories (otherwise the full range is
shown).</p>

<p style="margin-top: 1em">Vertical legends produced with
d.legend will place text labels to the right of the legend
box, horizontal legends will place text below. This text
will be auto-scaled to fit <br>
within the frame, reducing the size of the legend if
necessary. Legends positioned with the at option will not
auto-scale text, in order to provide more control to the
user. <br>
Smaller text may be obtained in this case by reducing the
height of the box or by using the fontsize option. The -c
and -v flags may be used to suppress the display of category
<br>
numbers and labels respectively, or used together to
suppress all text of categorial raster maps.</p>

<p style="margin-top: 1em">The text produced from
floating-point raster maps will automatically create output
with a meaningful number of significant digits. For very
small values, numbers will be <br>
expressed in scientific notation, e.g. &quot;1.7e-9&quot;.
Option digits can be used to determine how many digits after
decimal point will be displayed.</p>

<p style="margin-top: 1em">When the -d flag is used to
display a histogram distribution along side the smoothed
gradient legend, note that the statistics are calculated on
the current computational region <br>
settings set by g.region. The default range however covers
the entire natural bounds of the input map. If the histogram
appears empty, check your region settings.</p>

<p style="margin-top: 1em">If the raster map&acirc;s units
metadata has been set with the r.support module then it will
be displayed along side the legend.</p>

<p style="margin-top: 1em">The option title will display
the custom title at the top of the legend. In case of
vertical legend the title is aligned to the left edge of
legend, in case of horizontal legend <br>
the title is aligned to the center. title_fontsize can be
used to set the size of legend title. By default the legend
title font size is the same as labels font size.</p>

<p style="margin-top: 1em">There are different options to
customize displayed labels. The labelnum set the number of
labels which are displayed in regular intervals. The
label_values will specify the val&acirc; <br>
ues where the labels will be displayed. The label_step will
display labels at values which are divisible by this
value.</p>

<p style="margin-top: 1em">The flag -t will show ticks at
labels.</p>

<p style="margin-top: 1em">The flag -b will show the
background. Options bgcolor and border_color can be used to
choose the color of border and background fill.</p>

<p style="margin-top: 1em">The flag -l will switch to
logarithmic scale. In case this flag is used, the provided
step in label_step is interpreted in the logarithmic
space.</p>

<p style="margin-top: 1em">EXAMPLE <br>
Displaying the legend along with a histogram (North Carolina
Sample dataset): <br>
g.region raster=elevation -p <br>
d.rast elevation <br>
d.legend -d elevation <br>
Displaying the legend with custom labels and background:
<br>
g.region raster=elevation -p <br>
d.rast elevation <br>
d.legend raster=elevation -t label_step=20 label_values=108
title=Legend -b bgcolor=255:255:204 border_color=gray <br>
Displaying the legend with logarithmic scale: <br>
g.region raster=elevation -p <br>
r.watershed -a elevation=elevation threshold=1000
accumulation=flowacc <br>
d.rast flowacc <br>
d.legend raster=flowacc -t -l label_step=1</p>

<p style="margin-top: 1em">SEE ALSO <br>
d.barscale, d.colortable, d.font, d.grid, d.rast,
d.rast.leg, d.text, d.vect.thematic, r.reclass, r.stats,
r3.stats</p>

<p style="margin-top: 1em">AUTHORS <br>
Bill Brown, U.S. Army Construction Engineering Research
Laboratories <br>
Late 2002: Rewrite of much of the code. Hamish Bowman, Otago
University, New Zealand <br>
Additional improvements from various authors</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-07-27
20:05:07 +0200 (Wed, 27 Jul 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: d.legend source code (history)</p>

<p style="margin-top: 1em">Main index | Display index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0 d.legend(1grass)</p>
<hr>
</body>
</html>
