<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:44:26 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>xrdgsitest(1) General Commands Manual xrdgsitest(1)</p>

<p style="margin-top: 1em">NAME <br>
xrdgsitest - test crypto functionality relevant for the GSI
implementation</p>

<p style="margin-top: 1em">SYNOPSIS <br>
xrdgsitest [-h, --help] [-v, --verbose]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The xrdgsitest utility runs a few tests of the crypto
functionality implemented in XrdCrypto relevant for the
XrdSecgsi module, i.e. handling of certificates, proxies,
chains, <br>
verification and similar actions.</p>

<p style="margin-top: 1em">OPTIONS <br>
-h, --help display help</p>

<p style="margin-top: 1em">-v, --verbose <br>
Print very detailed information about the tests.</p>

<p style="margin-top: 1em">FILES <br>
The program needs access to a user certificate file and its
private key, and the related CA file(s); the CRL is
downloaded using the information found in the CA
certificate. The <br>
location of the files are the standard ones and they can
modified by the standard environment variables:</p>

<p style="margin-top: 1em">X509_USER_CERT
[$HOME/.globus/usercert.pem] user certificate</p>

<p style="margin-top: 1em">X509_USER_KEY
[$HOME/.globus/userkey.pem] user private key</p>

<p style="margin-top: 1em">X509_USER_PROXY
[/tmp/x509up_u&lt;uid&gt;] user proxy</p>

<p style="margin-top: 1em">X509_CERT_DIR
[/etc/grid-security/certificates/] CA certificates and CRL
directories</p>

<p style="margin-top: 1em">OUTPUT <br>
The output is a list of PASSED/FAILED test similar to</p>

<p style="margin-top: 1em">$ xrdgsitest <br>
||
---------------------------------------------------------------------------------
<br>
|| Crypto functionality tests for GSI
---------------------------------------------- <br>
||
---------------------------------------------------------------------------------
<br>
|| Loading EEC
.............................................................
PASSED <br>
|| Loading User Proxy
......................................................
PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Recreate the proxy certificate
-------------------------------------------------- <br>
Enter PEM pass phrase: <br>
|| Recreating User Proxy
................................................... PASSED
<br>
||
---------------------------------------------------------------------------------
<br>
|| Load CA certificates
------------------------------------------------------------
<br>
|| Loading CA certificate
.................................................. PASSED
<br>
|| Loading CA certificate
.................................................. PASSED
<br>
||
---------------------------------------------------------------------------------
<br>
|| Testing ParseFile
---------------------------------------------------------------
<br>
|| Chain reorder:
.........................................................
PASSED <br>
|| Chain verify:
..........................................................
PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing ExportChain
-------------------------------------------------------------
<br>
|| Attach to X509ExportChain
............................................... PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing Chain Import
------------------------------------------------------------
<br>
|| Chain reorder:
.........................................................
PASSED <br>
|| Chain verify:
..........................................................
PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing GSI chain import and verification
--------------------------------------- <br>
|| GSI chain verify:
......................................................
PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing GSI chain copy
----------------------------------------------------------
<br>
|| GSI chain verify:
......................................................
PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing Cert verification
------------------------------------------------------- <br>
|| verify cert: EE signed by CA
............................................ PASSED <br>
|| verify cert: PX signed by EE
............................................ PASSED <br>
|| verify cert: PX not signed by CA
........................................ PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing request creation
--------------------------------------------------------
<br>
|| Creating request
........................................................
PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing request signature
------------------------------------------------------- <br>
|| Check proxyCertInfo extension
........................................... PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing export of signed proxy
-------------------------------------------------- <br>
|| Saving signed proxy chain to file
....................................... PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing CRL identification
------------------------------------------------------ <br>
|| Check CRL distribution points extension OK
.............................. PASSED <br>
||
---------------------------------------------------------------------------------
<br>
|| Testing CRL loading
-------------------------------------------------------------
<br>
--2016-12-12 19:31:36--
http://cafiles.cern.ch/cafiles/crl/CERN%20Root%20Certification%20Authority%202.crl
<br>
Resolving cafiles.cern.ch (cafiles.cern.ch)... 137.138.4.52,
2001:1458:201:96::100:26 <br>
Connecting to cafiles.cern.ch
(cafiles.cern.ch)|137.138.4.52|:80... connected. <br>
HTTP request sent, awaiting response... 200 OK <br>
Length: 1097 (1.1K) [application/pkix-crl] <br>
Saving to: &acirc;/tmp/5168735f.0.crltmp&acirc;</p>

<p style="margin-top: 1em">/tmp/5168735f.0.crltmp
100%[========================================================================&gt;]
1.07K --.-KB/s in 0s</p>

<p style="margin-top: 1em">2016-12-12 19:31:36 (383 MB/s) -
&acirc;/tmp/5168735f.0.crltmp&acirc; saved [1097/1097]</p>

<p style="margin-top: 1em">|| Loading CA1 crl
.........................................................
PASSED <br>
|| CRL signature OK
........................................................
PASSED <br>
||
---------------------------------------------------------------------------------</p>

<p style="margin-top: 1em">The result of each test can be
interleaved with details when the verbose option is
chosen.</p>

<p style="margin-top: 1em">LICENSE <br>
License terms can be displayed by typing &quot;xrootd
-H&quot;.</p>

<p style="margin-top: 1em">SUPPORT LEVEL <br>
The xrdgsitest command is supported by the xrootd
collaboration. Contact information can be found at <br>
http://xrootd.org/contact.html</p>

<p style="margin-top: 1em">v4.6.1 xrdgsitest(1)</p>
<hr>
</body>
</html>
