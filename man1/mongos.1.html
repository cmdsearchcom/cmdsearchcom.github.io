<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MONGOS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MONGOS(1)</td>
    <td class="head-vol">mongodb-manual</td>
    <td class="head-rtitle">MONGOS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mongos - MongoDB Sharded Cluster Query Router
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>mongos</b> for &quot;MongoDB Shard,&quot; is a routing service for MongoDB
  shard configurations that processes queries from the application layer, and
  determines the location of this data in the <i>sharded cluster</i>, in order
  to complete these operations. From the perspective of the application, a
  <b>mongos</b> instance behaves identically to any other MongoDB instance.
<h1 class="Sh" title="Sh" id="CONSIDERATIONS"><a class="selflink" href="#CONSIDERATIONS">CONSIDERATIONS</a></h1>
Never change the name of the <b>mongos</b> binary.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="Core_Options"><a class="selflink" href="#Core_Options">Core
  Options</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>mongos</b></dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help, -h</b></dt>
  <dd class="It-tag">Returns information on the options and use of
      <b>mongos</b>.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Returns the <b>mongos</b> release number.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--config &lt;filename&gt;, -f &lt;filename&gt;</b></dt>
  <dd class="It-tag">Specifies a configuration file for runtime configuration
      options. The configuration file is the preferred method for runtime
      configuration of <b>mongos</b>. The options are equivalent to the
      command-line configuration options. See
      http://docs.mongodb.org/manual/reference/configuration-options for more
      information.
    <div style="height: 1.00em;">&#x00A0;</div>
    Ensure the configuration file uses ASCII encoding. The <b>mongos</b>
      instance does not support configuration files with non-ASCII encoding,
      including UTF-8.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose, -v</b></dt>
  <dd class="It-tag">Increases the amount of internal reporting returned on
      standard output or in log files. Increase the verbosity with the <b>-v</b>
      form by including the option multiple times, (e.g. <b>-vvvvv</b>.)</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">Runs the <b>mongos</b> in a quiet mode that attempts to
      limit the amount of output.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option suppresses:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">output from <i>database commands</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">replication activity</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">connection accepted events</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">connection closed events</dd>
</dl>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--port &lt;port&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: 27017
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the TCP port on which the MongoDB instance listens for client
      connections.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bind_ip &lt;ip address&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: All interfaces.
    <div style="height: 1.00em;">&#x00A0;</div>
    Changed in version 2.6.0: The <b>deb</b> and <b>rpm</b> packages include a
      default configuration file that sets <i>--bind_ip</i> to <b>127.0.0.1</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the IP address that <b>mongos</b> binds to in order to listen for
      connections from applications. You may attach <b>mongos</b> to any
      interface. When attaching <b>mongos</b> to a publicly accessible
      interface, ensure that you have implemented proper authentication and
      firewall restrictions to protect the integrity of your database.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--maxConns &lt;number&gt;</b></dt>
  <dd class="It-tag">Specifies the maximum number of simultaneous connections
      that <b>mongos</b> will accept. This setting will have no effect if the
      value of this setting is higher than your operating system's configured
      maximum connection tracking threshold.
    <div style="height: 1.00em;">&#x00A0;</div>
    This setting is particularly useful for <b>mongos</b> if you have a client
      that creates a number of connections but allows them to timeout rather
      than close the connections. When you set <b>maxIncomingConnections</b>,
      ensure the value is slightly higher than the size of the connection pool
      or the total number of connections to prevent erroneous connection spikes
      from propagating to the members of a <i>sharded cluster</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Changed in version 2.6: MongoDB removed the upward limit on the
      <b>maxIncomingConnections</b> setting.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog</b></dt>
  <dd class="It-tag">Sends all logging output to the host's <i>syslog</i> system
      rather than to standard output or to a log file. , as with
      <i>--logpath</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--syslog</i> option is not supported on Windows.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslogFacility &lt;string&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: user
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the facility level used when logging messages to syslog. The value
      you specify must be supported by your operating system's implementation of
      syslog. To use this option, you must enable the <i>--syslog</i>
    option.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--logpath &lt;path&gt;</b></dt>
  <dd class="It-tag">Sends all diagnostic logging information to a log file
      instead of to standard output or to the host's <i>syslog</i> system.
      MongoDB creates the log file at the path you specify.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, MongoDB overwrites the log file when the process restarts. To
      instead append to the log file, set the <i>--logappend</i> option.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--logappend</b></dt>
  <dd class="It-tag">Appends new entries to the end of the log file rather than
      overwriting the content of the log when the <b>mongos</b> instance
      restarts.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--timeStampFormat &lt;string&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: iso8601-local
    <div style="height: 1.00em;">&#x00A0;</div>
    The time format for timestamps in log messages. Specify one of the following
      values:
    <table class="tbl">
      <colgroup>
        <col style="width: 20.00ex;"/>
        <col style="width: 166.00ex;"/>
      </colgroup>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td>Value</td>
        <td>Description</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>ctime</b></td>
        <td>Displays timestamps as <b>Wed Dec 31 18:17:54.811</b>.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>iso8601-utc</b></td>
        <td>Displays timestamps in Coordinated Universal Time (UTC) in the
          ISO-8601 format. For example, for New York at the start of the Epoch:
          <b>1970-01-01T00:00:00.000Z</b></td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>iso8601-local</b></td>
        <td>Displays timestamps in local time in the ISO-8601 format. For
          example, for New York at the start of the Epoch:
          <b>1969-12-31T19:00:00.000+0500</b></td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
    </table>
  </dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pidfilepath &lt;path&gt;</b></dt>
  <dd class="It-tag">Specifies a file location to hold the process ID of the
      <b>mongos</b> process where <b>mongos</b> will write its PID. This is
      useful for tracking the <b>mongos</b> process in combination with the
      <i>--fork</i> option. Without a specified <i>--pidfilepath</i> option, the
      process creates no PID file.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--keyFile &lt;file&gt;</b></dt>
  <dd class="It-tag">Specifies the path to a key file that stores the shared
      secret that MongoDB instances use to authenticate to each other in a
      <i>sharded cluster</i> or <i>replica set</i>. <i>--keyFile</i> implies
      <i>--auth</i>. See <i>inter-process-auth</i> for more information.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--setParameter &lt;options&gt;</b></dt>
  <dd class="It-tag">Specifies one of the MongoDB parameters described in
      http://docs.mongodb.org/manual/reference/parameters. You can specify
      multiple <b>setParameter</b> fields.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--httpinterface</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Enables the HTTP interface. Enabling the interface can increase network
      exposure.
    <div style="height: 1.00em;">&#x00A0;</div>
    Leave the HTTP interface <i>disabled</i> for production deployments. If you
      <i>do</i> enable this interface, you should only allow trusted clients to
      access this port. See <i>security-firewalls</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">In MongoDB Enterprise, the HTTP Console does
  not support Kerberos Authentication.</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nounixsocket</b></dt>
  <dd class="It-tag">Disables listening on the UNIX domain socket. The
      <b>mongos</b> process always listens on the UNIX socket unless one of the
      following is true:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>--nounixsocket</i> is set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>bindIp</b> is not set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>bindIp</b> does not specify <b>127.0.0.1</b></dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
New in version 2.6: <b>mongos</b> installed from official <b>.deb</b> and
  <b>.rpm</b> packages have the <b>bind_ip</b> configuration set to
  <b>127.0.0.1</b> by default.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--unixSocketPrefix &lt;path&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: /tmp
    <div style="height: 1.00em;">&#x00A0;</div>
    The path for the UNIX socket. If this option has no value, the <b>mongos</b>
      process creates a socket with <b>/tmp</b> as a prefix. MongoDB creates and
      listens on a UNIX socket unless one of the following is true:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><i>--nounixsocket</i> is set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>bindIp</b> is not set</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>bindIp</b> does not specify <b>127.0.0.1</b></dd>
</dl>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--fork</b></dt>
  <dd class="It-tag">Enables a <i>daemon</i> mode that runs the <b>mongos</b>
      process in the background. By default <b>mongos</b> does not run as a
      daemon: typically you will run <b>mongos</b> as a daemon, either by using
      <i>--fork</i> or by using a controlling process that handles the
      daemonization process (e.g. as with <b>upstart</b> and
    <b>systemd</b>).</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Sharded_Cluster_Options"><a class="selflink" href="#Sharded_Cluster_Options">Sharded
  Cluster Options</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--configdb
    &lt;config1&gt;,&lt;config2&gt;,&lt;config3&gt;</b></dt>
  <dd class="It-tag">Specifies the <i>configuration database</i> for the
      <i>sharded cluster</i>. You must specify either 1 or 3 configuration
      servers, in a comma separated list. <b>Always</b> use 3 config servers in
      production environments.
    <div style="height: 1.00em;">&#x00A0;</div>
    All <b>mongos</b> instances <b>must</b> specify the exact same value for
      <i>--configdb</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    If your configuration databases reside in more that one data center, order
      the hosts so that first config sever in the list is the closest to the
      majority of your <b>mongos</b> instances.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>WARNING:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">Never remove a config server from this
  setting, even if the config server is not available or offline.</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--localThreshold</b></dt>
  <dd class="It-tag"><i>Default</i>: 15
    <div style="height: 1.00em;">&#x00A0;</div>
    Affects the logic that <b>mongos</b> uses when selecting <i>replica set</i>
      members to pass read operations from clients. Specify a value in
      milliseconds. The default value of <b>15</b> corresponds to the default
      value in all of the client <b>drivers</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    When <b>mongos</b> receives a request that permits reads to <i>secondary</i>
      members, the <b>mongos</b> will:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Find the member of the set with the lowest ping time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Construct a list of replica set members that is within a
      ping time of 15 milliseconds of the nearest suitable member of the set.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you specify a value for the <i>--localThreshold</i> option, <b>mongos</b>
      will construct the list of replica members that are within the latency
      allowed by this value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Select a member to read from at random from this list.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The ping time used for a member compared by the <i>--localThreshold</i> setting
  is a moving average of recent ping times, calculated at most every 10 seconds.
  As a result, some queries may reach members above the threshold until the
  <b>mongos</b> recalculates the average.
<div style="height: 1.00em;">&#x00A0;</div>
See the <i>replica-set-read-preference-behavior-member-selection</i> section of
  the <b>read preference</b> documentation for more information.</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--upgrade</b></dt>
  <dd class="It-tag">Updates the meta data format used by the <i>config
      database</i>.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--chunkSize &lt;value&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: 64
    <div style="height: 1.00em;">&#x00A0;</div>
    Determines the size in megabytes of each <i>chunk</i> in the <i>sharded
      cluster</i>. A size of 64 megabytes is ideal in most deployments: larger
      chunk size can lead to uneven data distribution; smaller chunk size can
      lead to inefficient movement of chunks between nodes.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option affects chunk size <i>only</i> when you initialize the cluster
      for the first time. If you later modify the option, the new value has no
      effect. See the
      http://docs.mongodb.org/manual/tutorial/modify-chunk-size-in-sharded-cluster
      procedure if you need to change the chunk size on an existing sharded
      cluster.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--noAutoSplit</b></dt>
  <dd class="It-tag">Prevents <b>mongos</b> from automatically inserting
      metadata splits in a <i>sharded collection</i>. If set on all
      <b>mongos</b> instances, this prevents MongoDB from creating new chunks as
      the data in a collection grows.
    <div style="height: 1.00em;">&#x00A0;</div>
    Because any <b>mongos</b> in a cluster can create a split, to totally
      disable splitting in a cluster you must set <i>--noAutoSplit</i> on all
      <b>mongos</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>WARNING:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">With <i>--noAutoSplit</i> enabled, the data in
  your sharded cluster may become imbalanced over time. Enable with
  caution.</div>
<br/>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="SSL_Options"><a class="selflink" href="#SSL_Options">SSL
  Options</a></h2>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;"></div>
</div>
<h2 class="Ss" title="Ss" id="See"><a class="selflink" href="#See">See</a></h2>
http://docs.mongodb.org/manual/tutorial/configure-ssl for full documentation of
  MongoDB's support.
<br/>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslOnNormalPorts</b></dt>
  <dd class="It-tag">Deprecated since version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Enables SSL for <b>mongos</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    With <i>--sslOnNormalPorts</i>, a <b>mongos</b> requires SSL encryption for
      all connections on the default MongoDB port, or the port specified by
      <i>--port</i>. By default, <i>--sslOnNormalPorts</i> is disabled.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslMode &lt;mode&gt;</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Enables SSL or mixed SSL used for all network connections. The argument to
      the <i>--sslMode</i> option can be one of the following:
    <table class="tbl">
      <colgroup>
        <col style="width: 16.00ex;"/>
        <col style="width: 111.00ex;"/>
      </colgroup>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td>Value</td>
        <td>Description</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>disabled</b></td>
        <td>The server does not use SSL.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>allowSSL</b></td>
        <td>Connections between servers do not use SSL. For incoming
          connections, the server accepts both SSL and non-SSL.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>preferSSL</b></td>
        <td>Connections between servers use SSL. For incoming connections, the
          server accepts both SSL and non-SSL.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>requireSSL</b></td>
        <td>The server uses and accepts only SSL encrypted connections.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
    </table>
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslPEMKeyFile &lt;filename&gt;</b></dt>
  <dd class="It-tag">New in version 2.2.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the <b>.pem</b> file that contains both the SSL certificate and
      key. Specify the file name of the <b>.pem</b> file using relative or
      absolute paths.
    <div style="height: 1.00em;">&#x00A0;</div>
    When SSL is enabled, you must specify <i>--sslPEMKeyFile</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslPEMKeyPassword &lt;value&gt;</b></dt>
  <dd class="It-tag">New in version 2.2.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the password to de-crypt the certificate-key file (i.e.
      <b>--sslPEMKeyFile</b>). Use the <i>--sslPEMKeyPassword</i> option only if
      the certificate-key file is encrypted. In all cases, the <b>mongos</b>
      will redact the password from all logging and reporting output.
    <div style="height: 1.00em;">&#x00A0;</div>
    Changed in version 2.6: If the private key in the PEM file is encrypted and
      you do not specify the <i>--sslPEMKeyPassword</i> option, the
      <b>mongos</b> will prompt for a passphrase. See
      <i>ssl-certificate-password</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clusterAuthMode &lt;option&gt;</b></dt>
  <dd class="It-tag"><i>Default</i>: keyFile
    <div style="height: 1.00em;">&#x00A0;</div>
    New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    The authentication mode used for cluster authentication. If you use
      <i>internal x.509 authentication</i>, specify so here. This option can
      have one of the following values:
    <table class="tbl">
      <colgroup>
        <col style="width: 17.00ex;"/>
        <col style="width: 128.00ex;"/>
      </colgroup>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td>Value</td>
        <td>Description</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>keyFile</b></td>
        <td>Use a keyfile for authentication. Accept only keyfiles.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>sendKeyFile</b></td>
        <td>For rolling upgrade purposes. Send a keyfile for authentication but
          can accept both keyfiles and x.509 certificates.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>sendX509</b></td>
        <td>For rolling upgrade purposes. Send the x.509 certificate for
          authentication but can accept both keyfiles and x.509
          certificates.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>x509</b></td>
        <td>Recommended. Send the x.509 certificate for authentication and
          accept only x.509 certificates.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
    </table>
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslClusterFile &lt;filename&gt;</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the <b>.pem</b> file that contains the x.509 certificate-key file
      for <i>membership authentication</i> for the cluster or replica set.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>--sslClusterFile</i> does not specify the <b>.pem</b> file for
      internal cluster authentication, the cluster uses the <b>.pem</b> file
      specified in the <i>--sslPEMKeyFile</i> option.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslClusterPassword &lt;value&gt;</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the password to de-crypt the x.509 certificate-key file specified
      with <b>--sslClusterFile</b>. Use the <i>--sslClusterPassword</i> option
      only if the certificate-key file is encrypted. In all cases, the
      <b>mongos</b> will redact the password from all logging and reporting
      output.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the x.509 key file is encrypted and you do not specify the
      <i>--sslClusterPassword</i> option, the <b>mongos</b> will prompt for a
      passphrase. See <i>ssl-certificate-password</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslCAFile &lt;filename&gt;</b></dt>
  <dd class="It-tag">New in version 2.4.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the <b>.pem</b> file that contains the root certificate chain from
      the Certificate Authority. Specify the file name of the <b>.pem</b> file
      using relative or absolute paths.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>WARNING:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">If the <i>--sslCAFile</i> option and its
  target file are not specified, x.509 client and member authentication will not
  function. <b>mongod</b>, and <b>mongos</b> in sharded systems, will not be
  able to verify the certificates of processes connecting to it against the
  trusted certificate authority (CA) that issued them, breaking the certificate
  chain.
<div style="height: 1.00em;">&#x00A0;</div>
As of version 2.6.4, <b>mongod</b> will not start with x.509 authentication
  enabled if the CA file is not specified.</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslCRLFile &lt;filename&gt;</b></dt>
  <dd class="It-tag">New in version 2.4.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the <b>.pem</b> file that contains the Certificate Revocation
      List. Specify the file name of the <b>.pem</b> file using relative or
      absolute paths.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslWeakCertificateValidation</b></dt>
  <dd class="It-tag">New in version 2.4.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Changed in version 3.0.0: <b>--sslAllowConnectionsWithoutCertificates</b>
      became <i>--sslWeakCertificateValidation</i>. For compatibility, MongoDB
      processes continue to accept
      <b>--sslAllowConnectionsWithoutCertificates</b>, but all users should
      update their configuration files.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Disables the requirement for SSL certificate validation that
      <b>--sslCAFile</b> enables. With the <i>--sslWeakCertificateValidation</i>
      option, the <b>mongos</b> will accept connections when the client does not
      present a certificate when establishing the connection.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the client presents a certificate and the <b>mongos</b> has
      <i>--sslWeakCertificateValidation</i> enabled, the <b>mongos</b> will
      validate the certificate using the root certificate chain specified by
      <b>--sslCAFile</b> and reject clients with invalid certificates.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the <i>--sslWeakCertificateValidation</i> option if you have a mixed
      deployment that includes clients that do not or cannot present
      certificates to the <b>mongos</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslAllowInvalidCertificates</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Bypasses the validation checks for SSL certificates on other servers in the
      cluster and allows the use of invalid certificates. When using the
      <b>allowInvalidCertificates</b> setting, MongoDB logs as a warning the use
      of the invalid certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslAllowInvalidHostnames</b></dt>
  <dd class="It-tag">New in version 3.0.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Disables the validation of the hostnames in SSL certificates, when
      connecting to other <b>mongos</b> instances for inter-process
      authentication. This allows <b>mongos</b> to connect to other
      <b>mongos</b> instances if the hostnames in their certificates do not
      match their configured hostname.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default distribution of MongoDB does not contain support for SSL. For
      more information on MongoDB and SSL, see
      http://docs.mongodb.org/manual/tutorial/configure-ssl.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--sslFIPSMode</b></dt>
  <dd class="It-tag">New in version 2.4.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Directs the <b>mongos</b> to use the FIPS mode of the installed OpenSSL
      library. Your system must have a FIPS compliant OpenSSL library to use the
      <i>--sslFIPSMode</i> option.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">FIPS Compatible SSL is available only in
  <i>MongoDB Enterprise</i>. See
  http://docs.mongodb.org/manual/tutorial/configure-fips for more
  information.</div>
<br/>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Audit_Options"><a class="selflink" href="#Audit_Options">Audit
  Options</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auditDestination</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Enables <b>auditing</b>. The <i>--auditDestination</i> option can have one
      of the following values:
    <table class="tbl">
      <colgroup>
        <col style="width: 13.00ex;"/>
        <col style="width: 330.00ex;"/>
      </colgroup>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td>Value</td>
        <td>Description</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>syslog</b></td>
        <td>Output the audit events to syslog in JSON format. Not available on
          Windows. Audit messages have a syslog severity level of <b>info</b>
          and a facility level of <b>user</b>. The syslog message limit can
          result in the truncation of audit messages. The auditing system will
          neither detect the truncation nor error upon its occurrence.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>console</b></td>
        <td>Output the audit events to <b>stdout</b> in JSON format.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>file</b></td>
        <td>Output the audit events to the file specified in <i>--auditPath</i>
          in the format specified in <i>--auditFormat</i>.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
    </table>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">Available only in <i>MongoDB
  Enterprise</i>.</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auditFormat</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the format of the output file for <b>auditing</b> if
      <i>--auditDestination</i> is <b>file</b>. The <i>--auditFormat</i> option
      can have one of the following values:
    <table class="tbl">
      <colgroup>
        <col style="width: 10.00ex;"/>
        <col style="width: 95.00ex;"/>
      </colgroup>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td>Value</td>
        <td>Description</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>JSON</b></td>
        <td>Output the audit events in JSON format to the file specified in
          <i>--auditPath</i>.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
      <tr>
        <td><b>BSON</b></td>
        <td>Output the audit events in BSON binary format to the file specified
          in <i>--auditPath</i>.</td>
      </tr>
      <tr>
        <td colspan="0"></td>
      </tr>
    </table>
    <div style="height: 1.00em;">&#x00A0;</div>
    Printing audit events to a file in JSON format degrades server performance
      more than printing to a file in BSON format.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">Available only in <i>MongoDB
  Enterprise</i>.</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auditPath</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the output file for <b>auditing</b> if <i>--auditDestination</i>
      has value of <b>file</b>. The <i>--auditPath</i> option can take either a
      full path name or a relative path name.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">Available only in <i>MongoDB
  Enterprise</i>.</div>
<br/>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--auditFilter</b></dt>
  <dd class="It-tag">New in version 2.6.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the filter to limit the <i>types of operations</i> the <b>audit
      system</b> records. The option takes a string representation of a query
      document of the form:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
{ &lt;field1&gt;: &lt;expression1&gt;, ... }
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The <b>&lt;field&gt;</b> can be <b>any field in the audit message</b>, including
  fields returned in the <i>param</i> document. The <b>&lt;expression&gt;</b> is
  a <i>query condition expression</i>.
<div style="height: 1.00em;">&#x00A0;</div>
To specify an audit filter, enclose the filter document in single quotes to pass
  the document as a string.
<div style="height: 1.00em;">&#x00A0;</div>
To specify the audit filter in a <b>configuration file</b>, you must use the
  YAML format of the configuration file.
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">Available only in <i>MongoDB
  Enterprise</i>.</div>
<br/>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Additional_Options"><a class="selflink" href="#Additional_Options">Additional
  Options</a></h2>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ipv6</b></dt>
  <dd class="It-tag">Enables IPv6 support and allows the <b>mongos</b> to
      connect to the MongoDB instance using an IPv6 network. All MongoDB
      programs and processes disable IPv6 support by default.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--jsonp</b></dt>
  <dd class="It-tag">Permits <i>JSONP</i> access via an HTTP interface. Enabling
      the interface can increase network exposure. The <i>--jsonp</i> option
      enables the HTTP interface, even if the <b>HTTP interface</b> option is
      disabled.</dd>
</dl>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--noscripting</b></dt>
  <dd class="It-tag">Disables the scripting engine.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
MongoDB Documentation Project
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2011-2015</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 30, 2015</td>
    <td class="foot-os">3.0</td>
  </tr>
</table>
</body>
</html>
