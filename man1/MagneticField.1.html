<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:23:30 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MAGNETICFIELD(1) GeographicLib Utilities
MAGNETICFIELD(1)</p>

<p style="margin-top: 1em">NAME <br>
MagneticField -- compute the earth&rsquo;s magnetic
field</p>

<p style="margin-top: 1em">SYNOPSIS <br>
MagneticField [ -n name ] [ -d dir ] [ -t time | -c time lat
h ] [ -r ] [ -w ] [ -T tguard ] [ -H hguard ] [ -p prec ] [
-v ] [ --comment-delimiter commentdelim ] [ --version | <br>
-h | --help ] [ --input-file infile | --input-string
instring ] [ --line-separator linesep ] [ --output-file
outfile ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
MagneticField reads in times and positions on standard input
and prints out the geomagnetic field on standard output and,
optionally, its rate of change.</p>

<p style="margin-top: 1em">The input line is of the form
time lat lon h. time is a date of the form 2012-07-03, a
fractional year such as 2012.5, or the string
&quot;now&quot;. lat and lon are the latitude and <br>
longitude expressed as decimal degrees or degrees, minutes,
and seconds; for details on the allowed formats for latitude
and longitude, see the &quot;GEOGRAPHIC COORDINATES&quot;
section <br>
of GeoConvert(1). h is the height above the ellipsoid in
meters; this is optional and defaults to zero.
Alternatively, time can be given on the command line as the
argument to <br>
the -t option, in which case it should not be included on
the input lines. Finally, the magnetic field can be computed
at various points on a circle of latitude (constant time,
<br>
lat, and h) via the -c option; in this case only the
longitude should be given on the input lines.</p>

<p style="margin-top: 1em">The output consists of the
following 7 items:</p>

<p style="margin-top: 1em">the declination (the direction
of the horizontal component of <br>
the magnetic field measured clockwise from north) in
degrees, <br>
the inclination (the direction of the magnetic field
measured <br>
down from the horizontal) in degrees, <br>
the horizontal field in nanotesla (nT), <br>
the north component of the field in nT, <br>
the east component of the field in nT, <br>
the vertical component of the field in nT (down is
positive), <br>
the total field in nT.</p>

<p style="margin-top: 1em">If the -r option is given, a
second line is printed giving the rates of change of these
quantities in degrees/yr and nT/yr.</p>

<p style="margin-top: 1em">The WGS84 ellipsoid is used, a =
6378137 m, f = 1/298.257223563.</p>

<p style="margin-top: 1em">OPTIONS <br>
-n name <br>
use magnetic field model name instead of the default
&quot;wmm2015&quot;. See &quot;MODELS&quot;.</p>

<p style="margin-top: 1em">-d dir <br>
read magnetic models from dir instead of the default. See
&quot;MODELS&quot;.</p>

<p style="margin-top: 1em">-t time <br>
evaluate the field at time instead of reading the time from
the input lines.</p>

<p style="margin-top: 1em">-c time lat h <br>
evaluate the field on a circle of latitude given by time,
lat, h instead of reading these quantities from the input
lines. In this case, MagneticField can calculate the <br>
field considerably more quickly.</p>

<p style="margin-top: 1em">-r toggle whether to report the
rates of change of the field.</p>

<p style="margin-top: 1em">-w toggle the longitude first
flag (it starts off); if the flag is on, then on input and
output, longitude precedes latitude (except that, on input,
this can be overridden by a <br>
hemisphere designator, N, S, E, W).</p>

<p style="margin-top: 1em">-T tguard <br>
signal an error if time lies tguard years (default 50 yr)
beyond the range for the model.</p>

<p style="margin-top: 1em">-H hguard <br>
signal an error if h lies hguard meters (default 500000 m)
beyond the range for the model.</p>

<p style="margin-top: 1em">-p prec <br>
set the output precision to prec (default 1). Fields are
printed with precision with prec decimal places; angles use
prec + 1 places.</p>

<p style="margin-top: 1em">-v print information about the
magnetic model on standard error before processing the
input.</p>

<p style="margin-top: 1em">--comment-delimiter commentdelim
<br>
set the comment delimiter to commentdelim (e.g.,
&quot;#&quot; or &quot;//&quot;). If set, the input lines
will be scanned for this delimiter and, if found, the
delimiter and the rest of the <br>
line will be removed prior to processing and subsequently
appended to the output line (separated by a space).</p>

<p style="margin-top: 1em">--version <br>
print version and exit.</p>

<p style="margin-top: 1em">-h print usage, the default
magnetic path and name, and exit.</p>

<p style="margin-top: 1em">--help <br>
print full documentation and exit.</p>

<p style="margin-top: 1em">--input-file infile <br>
read input from the file infile instead of from standard
input; a file name of &quot;-&quot; stands for standard
input.</p>

<p style="margin-top: 1em">--input-string instring <br>
read input from the string instring instead of from standard
input. All occurrences of the line separator character
(default is a semicolon) in instring are converted to <br>
newlines before the reading begins.</p>

<p style="margin-top: 1em">--line-separator linesep <br>
set the line separator character to linesep. By default this
is a semicolon.</p>

<p style="margin-top: 1em">--output-file outfile <br>
write output to the file outfile instead of to standard
output; a file name of &quot;-&quot; stands for standard
output.</p>

<p style="margin-top: 1em">MODELS <br>
MagneticField computes the geomagnetic field using one of
the following models</p>

<p style="margin-top: 1em">wmm2010, the World Magnetic
Model 2010, which approximates the <br>
main magnetic field for the period 2010-2015. See <br>
http://ngdc.noaa.gov/geomag/WMM/DoDWMM.shtml <br>
wmm2015, the World Magnetic Model 2015, which approximates
the <br>
main magnetic field for the period 2015-2020. See <br>
http://ngdc.noaa.gov/geomag/WMM/DoDWMM.shtml <br>
igrf11, the International Geomagnetic Reference Field (11th
<br>
generation), which approximates the main magnetic field for
<br>
the period 1900-2015. See <br>
http://ngdc.noaa.gov/IAGA/vmod/igrf.html <br>
igrf12, the International Geomagnetic Reference Field (12th
<br>
generation), which approximates the main magnetic field for
<br>
the period 1900-2020. See <br>
http://ngdc.noaa.gov/IAGA/vmod/igrf.html <br>
emm2010, the Enhanced Magnetic Model 2010, which
approximates <br>
the main and crustal magnetic fields for the period
2010-2015. <br>
See http://ngdc.noaa.gov/geomag/EMM/index.html <br>
emm2015, the Enhanced Magnetic Model 2015, which
approximates <br>
the main and crustal magnetic fields for the period
2000-2020. <br>
See http://ngdc.noaa.gov/geomag/EMM/index.html</p>

<p style="margin-top: 1em">These models approximate the
magnetic field due to the earth&rsquo;s core and (in the
case of emm2010) its crust. They neglect magnetic fields due
to the ionosphere, the <br>
magnetosphere, nearby magnetized materials, electrical
machinery, etc.</p>

<p style="margin-top: 1em">By default, the
&quot;wmm2015&quot; magnetic model is used. This may changed
by setting the environment variable
&quot;GEOGRAPHICLIB_MAGNETIC_NAME&quot; or with the -n
option.</p>

<p style="margin-top: 1em">The magnetic models will be
loaded from a directory specified at compile time. This may
changed by setting the environment variables
&quot;GEOGRAPHICLIB_MAGNETIC_PATH&quot; or <br>
&quot;GEOGRAPHICLIB_DATA&quot;, or with the -d option. The
-h option prints the default magnetic path and name. Use the
-v option to ascertain the full path name of the data
file.</p>

<p style="margin-top: 1em">Instructions for downloading and
installing magnetic models are available at
&lt;http://geographiclib.sourceforge.net/html/magnetic.html#magneticinst&gt;.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
GEOGRAPHICLIB_MAGNETIC_NAME <br>
Override the compile-time default magnetic name of
&quot;wmm2015&quot;. The -h option reports the value of
GEOGRAPHICLIB_MAGNETIC_NAME, if defined, otherwise it
reports the compile- <br>
time value. If the -n name option is used, then name takes
precedence.</p>

<p style="margin-top: 1em">GEOGRAPHICLIB_MAGNETIC_PATH <br>
Override the compile-time default magnetic path. This is
typically
&quot;/usr/local/share/GeographicLib/magnetic&quot; on
Unix-like systems and
&quot;C:/ProgramData/GeographicLib/magnetic&quot; <br>
on Windows systems. The -h option reports the value of
GEOGRAPHICLIB_MAGNETIC_PATH, if defined, otherwise it
reports the compile-time value. If the -d dir option is
used, <br>
then dir takes precedence.</p>

<p style="margin-top: 1em">GEOGRAPHICLIB_DATA <br>
Another way of overriding the compile-time default magnetic
path. If it is set (and if GEOGRAPHICLIB_MAGNETIC_PATH is
not set), then $GEOGRAPHICLIB_DATA/magnetic is used.</p>

<p style="margin-top: 1em">ERRORS <br>
An illegal line of input will print an error message to
standard output beginning with &quot;ERROR:&quot; and causes
MagneticField to return an exit code of 1. However, an error
does not <br>
cause MagneticField to terminate; following lines will be
converted. If time or h are outside the recommended ranges
for the model (but inside the ranges increase by tguard and
<br>
hguard), a warning is printed on standard error and the
field (which may be inaccurate) is returned in the normal
way.</p>

<p style="margin-top: 1em">EXAMPLES <br>
The magnetic field from WMM2015 in Timbuktu on
2016-01-01</p>

<p style="margin-top: 1em">echo 2016-01-01 16:46:33N
3:00:34W 300 | MagneticField -r <br>
=&gt; -2.12 12.15 33871.9 33848.7 -1251.4 7293.9 34648.3
<br>
0.09 -0.08 31.8 33.8 53.7 -41.4 22.3</p>

<p style="margin-top: 1em">The first two numbers returned
are the declination and inclination of the field. The second
line gives the annual change.</p>

<p style="margin-top: 1em">SEE ALSO <br>
GeoConvert(1), geographiclib-get-magnetic(8).</p>

<p style="margin-top: 1em">AUTHOR <br>
MagneticField was written by Charles Karney.</p>

<p style="margin-top: 1em">HISTORY <br>
MagneticField was added to GeographicLib,
&lt;http://geographiclib.sourceforge.net&gt;, in version
1.15.</p>

<p style="margin-top: 1em">GeographicLib 1.46 2016-02-14
MAGNETICFIELD(1)</p>
<hr>
</body>
</html>
