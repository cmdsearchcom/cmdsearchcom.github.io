<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>mbadblocks(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mbadblocks(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">mbadblocks(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="Name"><a class="selflink" href="#Name">Name</a></h1>
mbadblocks - tests a floppy disk, and marks the bad blocks in the FAT
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Note_of_warning"><a class="selflink" href="#Note_of_warning">Note&#x00A0;of&#x00A0;warning</a></h1>
This manpage has been automatically generated from mtools's texinfo
  documentation, and may not be entirely accurate or complete. See the end of
  this man page for details.
<h1 class="Sh" title="Sh" id="Description"><a class="selflink" href="#Description">Description</a></h1>
The mbadblocks command is used to mark some clusters on an MS-DOS filesystem
  bad. It has the following syntax:
<div class="Pp"></div>
mbadblocks [-s <i>sectorlist</i>|-c <i>clusterlist</i>|-w] <i>drive</i>:
<div class="Pp"></div>
If no command line flags are supplied, Mbadblocks scans an MS-DOS filesystem for
  bad blocks by simply trying to read them and flag them if read fails. All
  blocks that are unused are scanned, and if detected bad are marked as such in
  the FAT.
<div class="Pp"></div>
This command is intended to be used right after mformat. It is not intended to
  salvage data from bad disks.
<h1 class="Sh" title="Sh" id="Command_line_options"><a class="selflink" href="#Command_line_options">Command&#x00A0;line&#x00A0;options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">c&#x00A0;<i>file</i>&#x00A0;</dt>
  <dd class="It-tag">Use a list of bad clusters, rather than scanning for bad
      clusters itself.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">s&#x00A0;<i>file</i>&#x00A0;</dt>
  <dd class="It-tag">Use a list of bad sectors (counted from beginning of
      filesystem), rather than trying for bad clusters itself.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">w&#x00A0;</dt>
  <dd class="It-tag">Write a random pattern to each cluster, then read it back
      and flag cluster as bad if mismatch. Only free clusters are tested in such
      a way, so any file data is preserved.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Bugs"><a class="selflink" href="#Bugs">Bugs</a></h1>
Mbadblocks should (but doesn't yet :-( ) also try to salvage bad blocks which
  are in use by reading them repeatedly, and then mark them bad.
<h1 class="Sh" title="Sh" id="See_Also"><a class="selflink" href="#See_Also">See&#x00A0;Also</a></h1>
Mtools' texinfo doc
<h1 class="Sh" title="Sh" id="Viewing_the_texi_doc"><a class="selflink" href="#Viewing_the_texi_doc">Viewing&#x00A0;the&#x00A0;texi&#x00A0;doc</a></h1>
This manpage has been automatically generated from mtools's texinfo
  documentation. However, this process is only approximative, and some items,
  such as crossreferences, footnotes and indices are lost in this translation
  process. Indeed, these items have no appropriate representation in the manpage
  format. Moreover, not all information has been translated into the manpage
  version. Thus I strongly advise you to use the original texinfo doc. See the
  end of this manpage for instructions how to view the texinfo doc.
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">To generate a printable copy from the texinfo doc, run the
      following commands:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<br/>
    ./configure; make dvi; dvips mtools.dvi
    </pre>
    <br/>
  </dd>
</dl>
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">To generate a html copy, run:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<br/>
    ./configure; make html
    </pre>
    <br/>
  </dd>
</dl>
<div class="Pp"></div>
A premade html can be found at
  `http://www.gnu.org/software/mtools/manual/mtools.html'
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">To generate an info copy (browsable using emacs' info
      mode), run:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<br/>
    ./configure; make info
    </pre>
    <br/>
  </dd>
</dl>
<div class="Pp"></div>
<div class="Pp"></div>
The texinfo doc looks most pretty when printed or as html. Indeed, in the info
  version certain examples are difficult to read due to the quoting conventions
  used in info.</div>
<table class="foot">
  <tr>
    <td class="foot-date">09Jan13</td>
    <td class="foot-os">mtools-4.0.18</td>
  </tr>
</table>
</body>
</html>
