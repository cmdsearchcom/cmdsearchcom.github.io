<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>xl(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">xl(1)</td>
    <td class="head-vol">Xen</td>
    <td class="head-rtitle">xl(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
XL - Xen management tool, based on LibXenlight
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>xl</b> <i>subcommand</i> [<i>args</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>xl</b> program is the new tool for managing Xen guest domains. The
  program can be used to create, pause, and shutdown domains. It can also be
  used to list current domains, enable or pin VCPUs, and attach or detach
  virtual block devices.
<div class="Pp"></div>
The basic structure of every <b>xl</b> command is almost always:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 2.00ex;"><b>xl</b> <i>subcommand</i> [<i>OPTIONS</i>]
  <i>domain-id</i></div>
<div class="Pp"></div>
Where <i>subcommand</i> is one of the subcommands listed below, <i>domain-id</i>
  is the numeric domain id, or the domain name (which will be internally
  translated to domain id), and <i>OPTIONS</i> are subcommand specific options.
  There are a few exceptions to this rule in the cases where the subcommand in
  question acts on all domains, the entire machine, or directly on the Xen
  hypervisor. Those exceptions will be clear for each of those subcommands.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">start the script <b>/etc/init.d/xencommons</b> at boot
    time</dt>
  <dd class="It-tag">Most <b>xl</b> operations rely upon <b>xenstored</b> and
      <b>xenconsoled</b>: make sure you start the script
      <b>/etc/init.d/xencommons</b> at boot time to initialize all the daemons
      needed by <b>xl</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">setup a <b>xenbr0</b> bridge in dom0</dt>
  <dd class="It-tag">In the most common network configuration, you need to setup
      a bridge in dom0 named <b>xenbr0</b> in order to have a working network in
      the guest domains. Please refer to the documentation of your Linux
      distribution to know how to setup the bridge.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>autoballoon</b></dt>
  <dd class="It-tag">If you specify the amount of memory dom0 has, passing
      <b>dom0_mem</b> to Xen, it is highly recommended to disable
      <b>autoballoon</b>. Edit <b>/etc/xen/xl.conf</b> and set it to 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">run xl as <b>root</b></dt>
  <dd class="It-tag">Most <b>xl</b> commands require root privileges to run due
      to the communications channels used to talk to the hypervisor. Running as
      non root will return an error.</dd>
</dl>
<h1 class="Sh" title="Sh" id="GLOBAL_OPTIONS"><a class="selflink" href="#GLOBAL_OPTIONS">GLOBAL
  OPTIONS</a></h1>
Some global options are always available:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Verbose.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b></dt>
  <dd class="It-tag">Dry run: do not actually execute the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">Force execution: xl will refuse to run some commands if it
      detects that xend is also running, this option will force the execution of
      those commands, even though it is unsafe.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Always use carriage-return-based overwriting for printing
      progress messages without scrolling the screen. Without -t, this is done
      only if stderr is a tty.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DOMAIN_SUBCOMMANDS"><a class="selflink" href="#DOMAIN_SUBCOMMANDS">DOMAIN
  SUBCOMMANDS</a></h1>
The following subcommands manipulate domains directly. As stated previously,
  most commands take <i>domain-id</i> as the first parameter.
<dl class="Bl-tag">
  <dt class="It-tag"><b>button-press</b> <i>domain-id</i> <i>button</i></dt>
  <dd class="It-tag"><i>This command is deprecated. Please use </i><i>&quot;xl
      trigger&quot;</i> <i> in preference</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    Indicate an ACPI button press to the domain. <i>button</i> is may be 'power'
      or 'sleep'. This command is only available for HVM domains.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>create</b> [<i>configfile</i>] [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">The create subcommand takes a config file as first
      argument: see xl.cfg for full details of that file format and possible
      options. If <i>configfile</i> is missing <b>XL</b> creates the domain
      starting from the default value for every option.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>configfile</i> has to be an absolute path to a file.
    <div style="height: 1.00em;">&#x00A0;</div>
    Create will return <b>as soon</b> as the domain is started. This <b>does</b>
      <b>not</b> mean the guest OS in the domain has actually booted, or is
      available for input.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the <i>-F</i> option is specified, create will start the domain and not
      return until its death.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">No console output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f=FILE</b>, <b>--defconfig=FILE</b></dt>
  <dd class="It-tag">Use the given configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">Leave the domain paused after it is created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">Run in foreground until death of the domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--vncviewer</b></dt>
  <dd class="It-tag">Attach to domain's VNC server, forking a vncviewer
    process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>, <b>--vncviewer-autopass</b></dt>
  <dd class="It-tag">Pass VNC password to vncviewer via stdin.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Attach console to the domain as soon as it has started.
      This is useful for determining issues with crashing domains and just as a
      general convenience since you often want to watch the domain boot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>key=value</b></dt>
  <dd class="It-tag">It is possible to pass <i>key=value</i> pairs on the
      command line to provide options as if they were written in the
      configuration file; these override whatever is in the <i>configfile</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    NB: Many config options require characters such as quotes or brackets which
      are interpreted by the shell (and often discarded) before being passed to
      xl, resulting in xl being unable to parse the value correctly. A simple
      work-around is to put all extra options within a single set of quotes,
      separated by semicolons. (See below for an example.)</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>EXAMPLES</b>
<dl class="Bl-tag">
  <dt class="It-tag"><i>with config file</i></dt>
  <dd class="It-tag">
    <pre>
  xl create DebianLenny
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    This creates a domain with the file /etc/xen/DebianLenny, and returns as
      soon as it is run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>with extra parameters</i></dt>
  <dd class="It-tag">
    <pre>
  xl create hvm.cfg 'cpus=&quot;0-3&quot;; pci=[&quot;01:05.1&quot;,&quot;01:05.2&quot;]'
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    This creates a domain with the file hvm.cfg, but additionally pins it to
      cpus 0-3, and passes through two PCI devices.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>config-update</b> <b>domid</b> [<i>configfile</i>]
    [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">Update the saved configuration for a running domain. This
      has no immediate effect but will be applied when the guest is next
      restarted. This command is useful to ensure that runtime modifications
      made to the guest will be preserved when the guest is restarted.
    <div style="height: 1.00em;">&#x00A0;</div>
    Since Xen 4.5 xl has improved capabilities to handle dynamic domain
      configuration changes and will preserve any changes made a runtime when
      necessary. Therefore it should not normally be necessary to use this
      command any more.
    <div style="height: 1.00em;">&#x00A0;</div>
     <i>configfile</i> has to be an absolute path to a file.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f=FILE</b>, <b>--defconfig=FILE</b></dt>
  <dd class="It-tag">Use the given configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>key=value</b></dt>
  <dd class="It-tag">It is possible to pass <i>key=value</i> pairs on the
      command line to provide options as if they were written in the
      configuration file; these override whatever is in the <i>configfile</i>.
      Please see the note under <i>create</i> on handling special characters
      when passing <i>key=value</i> pairs on the command line.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>console</b> [<i>OPTIONS</i>] <i>domain-id</i></dt>
  <dd class="It-tag">Attach to domain <i>domain-id</i>'s console. If you've set
      up your domains to have a traditional log in console this will look much
      like a normal text log in screen.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the key combination Ctrl+] to detach the domain console.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>-t [pv|serial]</i></dt>
  <dd class="It-tag">Connect to a PV console or connect to an emulated serial
      console. PV consoles are the only consoles available for PV domains while
      HVM domains can have both. If this option is not specified it defaults to
      emulated serial for HVM guests and PV console for PV guests.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>-n NUM</i></dt>
  <dd class="It-tag">Connect to console number <i>NUM</i>. Console numbers start
      from 0.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>destroy</b> [<i>OPTIONS</i>] <i>domain-id</i></dt>
  <dd class="It-tag">Immediately terminate the domain <i>domain-id</i>. This
      doesn't give the domain OS any chance to react, and is the equivalent of
      ripping the power cord out on a physical machine. In most cases you will
      want to use the <b>shutdown</b> command instead.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>-f</i></dt>
  <dd class="It-tag">Allow domain 0 to be destroyed. Because domain cannot
      destroy itself, this is only possible when using a disaggregated
      toolstack, and is most useful when using a hardware domain separated from
      domain 0.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domid</b> <i>domain-name</i></dt>
  <dd class="It-tag">Converts a domain name to a domain id.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>domname</b> <i>domain-id</i></dt>
  <dd class="It-tag">Converts a domain id to a domain name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rename</b> <i>domain-id</i> <i>new-name</i></dt>
  <dd class="It-tag">Change the domain name of <i>domain-id</i> to
      <i>new-name</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dump-core</b> <i>domain-id</i> [<i>filename</i>]</dt>
  <dd class="It-tag">Dumps the virtual machine's memory for the specified domain
      to the <i>filename</i> specified, without pausing the domain. The dump
      file will be written to a distribution specific directory for dump files.
      Such as: /var/lib/xen/dump/dump.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b> [<i>--long</i>]</dt>
  <dd class="It-tag">Displays the short help message (i.e. common commands).
    <div style="height: 1.00em;">&#x00A0;</div>
    The <i>--long</i> option prints out the complete set of <b>xl</b>
      subcommands, grouped by function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list</b> [<i>OPTIONS</i>] [<i>domain-id</i> ...]</dt>
  <dd class="It-tag">Prints information about one or more domains. If no domains
      are specified it prints out information about all domains.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--long</b></dt>
  <dd class="It-tag">The output for <b>xl list</b> is not the table view shown
      below, but instead presents the data in as a JSON data structure.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z</b>, <b>--context</b> Also prints the security
    labels.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Also prints the domain UUIDs, the shutdown reason and
      security labels.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, &lt;--cpupool&gt;</dt>
  <dd class="It-tag">Also prints the cpupool the domain belong to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, &lt;--numa&gt;</dt>
  <dd class="It-tag">Also prints the domain NUMA node affinity.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>EXAMPLE</b>
<div style="height: 1.00em;">&#x00A0;</div>
An example format for the list is as follows:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    Name                                        ID   Mem VCPUs      State   Time(s)
    Domain-0                                     0   750     4     r-----   11794.3
    win                                          1  1019     1     r-----       0.3
    linux                                        2  2048     2     r-----    5624.2
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Name is the name of the domain. ID the numeric domain id. Mem is the desired
  amount of memory to allocate to the domain (although it may not be the
  currently allocated amount). VCPUs is the number of virtual CPUs allocated to
  the domain. State is the run state (see below). Time is the total run time of
  the domain as accounted for by Xen.
<div style="height: 1.00em;">&#x00A0;</div>
<b>STATES</b>
<div style="height: 1.00em;">&#x00A0;</div>
The State field lists 6 states for a Xen domain, and which ones the current
  domain is in.
<dl class="Bl-tag">
  <dt class="It-tag"><b>r - running</b></dt>
  <dd class="It-tag">The domain is currently running on a CPU.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>b - blocked</b></dt>
  <dd class="It-tag">The domain is blocked, and not running or runnable. This
      can be caused because the domain is waiting on IO (a traditional wait
      state) or has gone to sleep because there was nothing else for it to
    do.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>p - paused</b></dt>
  <dd class="It-tag">The domain has been paused, usually occurring through the
      administrator running <b>xl pause</b>. When in a paused state the domain
      will still consume allocated resources like memory, but will not be
      eligible for scheduling by the Xen hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>s - shutdown</b></dt>
  <dd class="It-tag">The guest OS has shut down (SCHEDOP_shutdown has been
      called) but the domain is not dying yet.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>c - crashed</b></dt>
  <dd class="It-tag">The domain has crashed, which is always a violent ending.
      Usually this state can only occur if the domain has been configured not to
      restart on crash. See <i>xl.cfg</i>(5) for more info.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>d - dying</b></dt>
  <dd class="It-tag">The domain is in process of dying, but hasn't completely
      shutdown or crashed.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTES</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The Time column is deceptive. Virtual IO
  (network and block devices) used by domains requires coordination by Domain0,
  which means that Domain0 is actually charged for much of the time that a
  DomainU is doing IO. Use of this time value to determine relative utilizations
  by domains is thus very suspect, as a high IO workload may show as less
  utilized than a high CPU workload. Consider yourself warned.</div>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mem-max</b> <i>domain-id</i> <i>mem</i></dt>
  <dd class="It-tag">Specify the maximum amount of memory the domain is able to
      use, appending 't' for terabytes, 'g' for gigabytes, 'm' for megabytes,
      'k' for kilobytes and 'b' for bytes.
    <div style="height: 1.00em;">&#x00A0;</div>
    The mem-max value may not correspond to the actual memory used in the
      domain, as it may balloon down its memory to give more back to the
    OS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mem-set</b> <i>domain-id</i> <i>mem</i></dt>
  <dd class="It-tag">Set the domain's used memory using the balloon driver;
      append 't' for terabytes, 'g' for gigabytes, 'm' for megabytes, 'k' for
      kilobytes and 'b' for bytes.
    <div style="height: 1.00em;">&#x00A0;</div>
    Because this operation requires cooperation from the domain operating
      system, there is no guarantee that it will succeed. This command will
      definitely not work unless the domain has the required paravirt driver.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Warning:</b> There is no good way to know in advance how small of a
      mem-set will make a domain unstable and cause it to crash. Be very careful
      when using this command on running domains.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>migrate</b> [<i>OPTIONS</i>] <i>domain-id</i>
    <i>host</i></dt>
  <dd class="It-tag">Migrate a domain to another host machine. By default
      <b>xl</b> relies on ssh as a transport mechanism between the two hosts.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>sshcommand</i></dt>
  <dd class="It-tag">Use &lt;sshcommand&gt; instead of ssh. String will be
      passed to sh. If empty, run &lt;host&gt; instead of ssh &lt;host&gt; xl
      migrate-receive [-d -e].</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">On the new host, do not wait in the background (on
      &lt;host&gt;) for the death of the domain. See the corresponding option of
      the <i>create</i> subcommand.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b> <i>config</i></dt>
  <dd class="It-tag">Send &lt;config&gt; instead of config file from
    creation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Print huge (!) amount of debug during the migration
      process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">Leave the domain on the receive side paused after
      migration.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>remus</b> [<i>OPTIONS</i>] <i>domain-id</i>
    <i>host</i></dt>
  <dd class="It-tag">Enable Remus HA or COLO HA for domain. By default <b>xl</b>
      relies on ssh as a transport mechanism between the two hosts.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTES</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">Remus support in xl is still in experimental
  (proof-of-concept) phase. Disk replication support is limited to DRBD disks.
<div style="height: 1.00em;">&#x00A0;</div>
COLO support in xl is still in experimental (proof-of-concept) phase. All
  options are subject to change in the future.</div>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
COLO disk configuration looks like:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
  disk = ['...,colo,colo-host=xxx,colo-port=xxx,colo-export=xxx,active-disk=xxx,hidden-disk=xxx...']
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
The supported options are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>colo-host</b> :Secondary host's ip address.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>colo-port</b> :Secondary host's port, we will run a nbd
    server on secondary host, and the nbd server will listen this port.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>colo-export</b> :Nbd server's disk export name of
    secondary host.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>active-disk</b> :Secondary's guest write will be
    buffered in this disk, and it's used by secondary.</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hidden-disk</b> :Primary's modified contents will be
    buffered in this disk, and it's used by secondary.</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
COLO network configuration looks like:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
  vif = [ '...,forwarddev=xxx,...']
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
The supported options are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>forwarddev</b> :Forward devices for primary and
    secondary, they are directly connected.</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>OPTIONS</b>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b> <i>MS</i></dt>
  <dd class="It-tag">Checkpoint domain memory every MS milliseconds (default
      200ms).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b></dt>
  <dd class="It-tag">Disable memory checkpoint compression.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>sshcommand</i></dt>
  <dd class="It-tag">Use &lt;sshcommand&gt; instead of ssh. String will be
      passed to sh. If empty, run &lt;host&gt; instead of ssh &lt;host&gt; xl
      migrate-receive -r [-e].</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">On the new host, do not wait in the background (on
      &lt;host&gt;) for the death of the domain. See the corresponding option of
      the <i>create</i> subcommand.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b> <i>netbufscript</i></dt>
  <dd class="It-tag">Use &lt;netbufscript&gt; to setup network buffering instead
      of the default script (/etc/xen/scripts/remus-netbuf-setup).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">Run Remus in unsafe mode. Use this option with caution as
      failover may not work as intended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">Replicate memory checkpoints to /dev/null (blackhole).
      Generally useful for debugging. Requires enabling unsafe mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Disable network output buffering. Requires enabling unsafe
      mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Disable disk replication. Requires enabling unsafe
    mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Enable COLO HA. This conflicts with <b>-i</b> and
      <b>-b</b>, and memory checkpoint compression must be disabled.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pause</b> <i>domain-id</i></dt>
  <dd class="It-tag">Pause a domain. When in a paused state the domain will
      still consume allocated resources such as memory, but will not be eligible
      for scheduling by the Xen hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reboot</b> [<i>OPTIONS</i>] <i>domain-id</i></dt>
  <dd class="It-tag">Reboot a domain. This acts just as if the domain had the
      <b>reboot</b> command run from the console. The command returns as soon as
      it has executed the reboot action, which may be significantly before the
      domain actually reboots.
    <div style="height: 1.00em;">&#x00A0;</div>
    For HVM domains this requires PV drivers to be installed in your guest OS.
      If PV drivers are not present but you have configured the guest OS to
      behave appropriately you may be able to use the <i>-F</i> option trigger a
      reset button press.
    <div style="height: 1.00em;">&#x00A0;</div>
    The behavior of what happens to a domain when it reboots is set by the
      <b>on_reboot</b> parameter of the domain configuration file when the
      domain was created.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">If the guest does not support PV reboot control then
      fallback to sending an ACPI power event (equivalent to the <i>reset</i>
      option to <i>trigger</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    You should ensure that the guest is configured to behave as expected in
      response to this event.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>restore</b> [<i>OPTIONS</i>] [<i>ConfigFile</i>]
    <i>CheckpointFile</i></dt>
  <dd class="It-tag">Build a domain from an <b>xl save</b> state file. See
      <b>save</b> for more info.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">Do not unpause domain after restoring it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Do not wait in the background for the death of the domain
      on the new host. See the corresponding option of the <i>create</i>
      subcommand.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Enable debug messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--vncviewer</b></dt>
  <dd class="It-tag">Attach to domain's VNC server, forking a vncviewer
    process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b>, <b>--vncviewer-autopass</b></dt>
  <dd class="It-tag">Pass VNC password to vncviewer via stdin.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save</b> [<i>OPTIONS</i>] <i>domain-id</i>
    <i>CheckpointFile</i> [ <i>ConfigFile</i>]</dt>
  <dd class="It-tag">Saves a running domain to a state file so that it can be
      restored later. Once saved, the domain will no longer be running on the
      system, unless the -c or -p options are used. <b>xl restore</b> restores
      from this checkpoint file. Passing a config file argument allows the user
      to manually select the VM config file used to create the domain.</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Leave domain running after creating the snapshot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">Leave domain paused after creating the snapshot.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sharing</b> [<i>domain-id</i>]</dt>
  <dd class="It-tag">List count of shared pages.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>domain_id</i></dt>
  <dd class="It-tag">List specifically for that domain. Otherwise, list for all
      domains.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shutdown</b> [<i>OPTIONS</i>] <i>-a|domain-id</i></dt>
  <dd class="It-tag">Gracefully shuts down a domain. This coordinates with the
      domain OS to perform graceful shutdown, so there is no guarantee that it
      will succeed, and may take a variable length of time depending on what
      services must be shutdown in the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    For HVM domains this requires PV drivers to be installed in your guest OS.
      If PV drivers are not present but you have configured the guest OS to
      behave appropriately you may be able to use the <i>-F</i> option trigger a
      power button press.
    <div style="height: 1.00em;">&#x00A0;</div>
    The command returns immediately after signally the domain unless that
      <b>-w</b> flag is used.
    <div style="height: 1.00em;">&#x00A0;</div>
    The behavior of what happens to a domain when it reboots is set by the
      <b>on_shutdown</b> parameter of the domain configuration file when the
      domain was created.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--all</b></dt>
  <dd class="It-tag">Shutdown all guest domains. Often used when doing a
      complete shutdown of a Xen system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b>, <b>--wait</b></dt>
  <dd class="It-tag">Wait for the domain to complete shutdown before
    returning.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b></dt>
  <dd class="It-tag">If the guest does not support PV shutdown control then
      fallback to sending an ACPI power event (equivalent to the <i>power</i>
      option to <i>trigger</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    You should ensure that the guest is configured to behave as expected in
      response to this event.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sysrq</b> <i>domain-id</i> <i>letter</i></dt>
  <dd class="It-tag">Send a &lt;Magic System Request&gt; to the domain, each
      type of request is represented by a different letter. It can be used to
      send SysRq requests to Linux guests, see sysrq.txt in your Linux Kernel
      sources for more information. It requires PV drivers to be installed in
      your guest OS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>trigger</b> <i>domain-id</i>
    <i>nmi|reset|init|power|sleep|s3resume</i> [ <i>VCPU</i>]</dt>
  <dd class="It-tag">Send a trigger to a domain, where the trigger can be: nmi,
      reset, init, power or sleep. Optionally a specific vcpu number can be
      passed as an argument. This command is only available for HVM
    domains.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unpause</b> <i>domain-id</i></dt>
  <dd class="It-tag">Moves a domain out of the paused state. This will allow a
      previously paused domain to now be eligible for scheduling by the Xen
      hypervisor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vcpu-set</b> <i>domain-id</i> <i>vcpu-count</i></dt>
  <dd class="It-tag">Enables the <i>vcpu-count</i> virtual CPUs for the domain
      in question. Like mem-set, this command can only allocate up to the
      maximum virtual CPU count configured at boot for the domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the <i>vcpu-count</i> is smaller than the current number of active VCPUs,
      the highest number VCPUs will be hotplug removed. This may be important
      for pinning purposes.
    <div style="height: 1.00em;">&#x00A0;</div>
    Attempting to set the VCPUs to a number larger than the initially configured
      VCPU count is an error. Trying to set VCPUs to &lt; 1 will be quietly
      ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    Some guests may need to actually bring the newly added CPU online after
      <b>vcpu-set</b>, go to <b>SEE ALSO</b> section for information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vcpu-list</b> [<i>domain-id</i>]</dt>
  <dd class="It-tag">Lists VCPU information for a specific domain. If no domain
      is specified, VCPU information for all domains will be provided.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vcpu-pin</b> [<i>-f|--force</i>] <i>domain-id</i>
    <i>vcpu</i> <i>cpus hard</i> <i>cpus soft</i></dt>
  <dd class="It-tag">Set hard and soft affinity for a <i>vcpu</i> of
      &lt;domain-id&gt;. Normally VCPUs can float between available CPUs
      whenever Xen deems a different run state is appropriate.
    <div style="height: 1.00em;">&#x00A0;</div>
    Hard affinity can be used to restrict this, by ensuring certain VCPUs can
      only run on certain physical CPUs. Soft affinity specifies a
      <i>preferred</i> set of CPUs. Soft affinity needs special support in the
      scheduler, which is only provided in credit1.
    <div style="height: 1.00em;">&#x00A0;</div>
    The keyword <b>all</b> can be used to apply the hard and soft affinity masks
      to all the VCPUs in the domain. The symbol '-' can be used to leave either
      hard or soft affinity alone.
    <div style="height: 1.00em;">&#x00A0;</div>
    For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 xl vcpu-pin 0 3 - 6-9
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    will set soft affinity for vCPU 3 of domain 0 to pCPUs 6,7,8 and 9, leaving
      its hard affinity untouched. On the othe hand:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 xl vcpu-pin 0 3 3,4 6-9
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    will set both hard and soft affinity, the former to pCPUs 3 and 4, the
      latter to pCPUs 6,7,8, and 9.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifying <i>-f</i> or <i>--force</i> will remove a temporary pinning done
      by the operating system (normally this should be done by the operating
      system). In case a temporary pinning is active for a vcpu the affinity of
      this vcpu can't be changed without this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vm-list</b></dt>
  <dd class="It-tag">Prints information about guests. This list excludes
      information about service or auxiliary domains such as dom0 and stubdoms.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>EXAMPLE</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    An example format for the list is as follows:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
    UUID                                  ID    name
    59e1cf6c-6ab9-4879-90e7-adc8d1c63bf5  2    win
    50bc8f75-81d0-4d53-b2e6-95cb44e2682e  3    linux
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vncviewer</b> [<i>OPTIONS</i>] <i>domain-id</i></dt>
  <dd class="It-tag">Attach to domain's VNC server, forking a vncviewer process.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>--autopass</i></dt>
  <dd class="It-tag">Pass VNC password to vncviewer via stdin.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<h1 class="Sh" title="Sh" id="XEN_HOST_SUBCOMMANDS"><a class="selflink" href="#XEN_HOST_SUBCOMMANDS">XEN
  HOST SUBCOMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>debug-keys</b> <i>keys</i></dt>
  <dd class="It-tag">Send debug <i>keys</i> to Xen. It is the same as pressing
      the Xen &quot;conswitch&quot; (Ctrl-A by default) three times and then
      pressing &quot;keys&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dmesg</b> [<b>-c</b>]</dt>
  <dd class="It-tag">Reads the Xen message buffer, similar to dmesg on a Linux
      system. The buffer contains informational, warning, and error messages
      created during Xen's boot process. If you are having problems with Xen,
      this is one of the first places to look as part of problem determination.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--clear</b></dt>
  <dd class="It-tag">Clears Xen's message buffer.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>info</b> [<b>-n</b>, <b>--numa</b>]</dt>
  <dd class="It-tag">Print information about the Xen host in <i>name : value</i>
      format. When reporting a Xen bug, please provide this information as part
      of the bug report. See <i>http://wiki.xen.org/xenwiki/ReportingBugs</i> on
      how to report Xen bugs.
    <div style="height: 1.00em;">&#x00A0;</div>
    Sample output looks as follows:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 host                   : scarlett
 release                : 3.1.0-rc4+
 version                : #1001 SMP Wed Oct 19 11:09:54 UTC 2011
 machine                : x86_64
 nr_cpus                : 4
 nr_nodes               : 1
 cores_per_socket       : 4
 threads_per_core       : 1
 cpu_mhz                : 2266
 hw_caps                : bfebfbff:28100800:00000000:00003b40:009ce3bd:00000000:00000001:00000000
 virt_caps              : hvm hvm_directio
 total_memory           : 6141
 free_memory            : 4274
 free_cpus              : 0
 outstanding_claims     : 0
 xen_major              : 4
 xen_minor              : 2
 xen_extra              : -unstable
 xen_caps               : xen-3.0-x86_64 xen-3.0-x86_32p hvm-3.0-x86_32 hvm-3.0-x86_32p hvm-3.0-x86_64 
 xen_scheduler          : credit
 xen_pagesize           : 4096
 platform_params        : virt_start=0xffff800000000000
 xen_changeset          : Wed Nov 02 17:09:09 2011 +0000 24066:54a5e994a241
 xen_commandline        : com1=115200,8n1 guest_loglvl=all dom0_mem=750M console=com1 
 cc_compiler            : gcc version 4.4.5 (Debian 4.4.5-8) 
 cc_compile_by          : sstabellini
 cc_compile_domain      : uk.xensource.com
 cc_compile_date        : Tue Nov  8 12:03:05 UTC 2011
 xend_config_format     : 4
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>FIELDS</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Not all fields will be explained here, but some of the less obvious ones
      deserve explanation:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>hw_caps</b></dt>
  <dd class="It-tag">A vector showing what hardware capabilities are supported
      by your processor. This is equivalent to, though more cryptic, the flags
      field in /proc/cpuinfo on a normal Linux machine: they both derive from
      the feature bits returned by the cpuid command on x86 platforms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>free_memory</b></dt>
  <dd class="It-tag">Available memory (in MB) not allocated to Xen, or any other
      domains, or claimed for domains.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>outstanding_claims</b></dt>
  <dd class="It-tag">When a claim call is done (see xl.conf) a reservation for a
      specific amount of pages is set and also a global value is incremented.
      This global value (outstanding_claims) is then reduced as the domain's
      memory is populated and eventually reaches zero. Most of the time the
      value will be zero, but if you are launching multiple guests, and
      <b>claim_mode</b> is enabled, this value can increase/decrease. Note that
      the value also affects the <b>free_memory</b> - as it will reflect the
      free memory in the hypervisor minus the outstanding pages claimed for
      guests. See xl <i>info</i> <b>claims</b> parameter for detailed
    listing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xen_caps</b></dt>
  <dd class="It-tag">The Xen version and architecture. Architecture values can
      be one of: x86_32, x86_32p (i.e. PAE enabled), x86_64, ia64.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>xen_changeset</b></dt>
  <dd class="It-tag">The Xen mercurial changeset id. Very useful for determining
      exactly what version of code your Xen system was built from.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>OPTIONS</b>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--numa</b></dt>
  <dd class="It-tag">List host NUMA topology information</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>top</b></dt>
  <dd class="It-tag">Executes the <b>xentop</b> command, which provides real
      time monitoring of domains. Xentop is a curses interface, and reasonably
      self explanatory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>uptime</b></dt>
  <dd class="It-tag">Prints the current uptime of the domains running.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>claims</b></dt>
  <dd class="It-tag">Prints information about outstanding claims by the guests.
      This provides the outstanding claims and currently populated memory count
      for the guests. These values added up reflect the global outstanding claim
      value, which is provided via the <i>info</i> argument,
      <b>outstanding_claims</b> value. The <b>Mem</b> column has the cumulative
      value of outstanding claims and the total amount of memory that has been
      right now allocated to the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>EXAMPLE</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    An example format for the list is as follows:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 Name                                        ID   Mem VCPUs      State   Time(s)  Claimed
 Domain-0                                     0  2047     4     r-----      19.7     0
 OL5                                          2  2048     1     --p---       0.0   847
 OL6                                          3  1024     4     r-----       5.9     0
 Windows_XP                                   4  2047     1     --p---       0.0  1989
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    In which it can be seen that the OL5 guest still has 847MB of claimed memory
      (out of the total 2048MB where 1191MB has been allocated to the
    guest).</dd>
</dl>
<h1 class="Sh" title="Sh" id="SCHEDULER_SUBCOMMANDS"><a class="selflink" href="#SCHEDULER_SUBCOMMANDS">SCHEDULER
  SUBCOMMANDS</a></h1>
Xen ships with a number of domain schedulers, which can be set at boot time with
  the <b>sched=</b> parameter on the Xen command line. By default <b>credit</b>
  is used for scheduling.
<dl class="Bl-tag">
  <dt class="It-tag"><b>sched-credit</b> [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">Set or get credit scheduler parameters. The credit
      scheduler is a proportional fair share CPU scheduler built from the ground
      up to be work conserving on SMP hosts.
    <div style="height: 1.00em;">&#x00A0;</div>
    Each domain (including Domain0) is assigned a weight and a cap.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d DOMAIN</b>, <b>--domain=DOMAIN</b></dt>
  <dd class="It-tag">Specify domain for which scheduler parameters are to be
      modified or retrieved. Mandatory for modifying scheduler parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w WEIGHT</b>, <b>--weight=WEIGHT</b></dt>
  <dd class="It-tag">A domain with a weight of 512 will get twice as much CPU as
      a domain with a weight of 256 on a contended host. Legal weights range
      from 1 to 65535 and the default is 256.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c CAP</b>, <b>--cap=CAP</b></dt>
  <dd class="It-tag">The cap optionally fixes the maximum amount of CPU a domain
      will be able to consume, even if the host system has idle CPU cycles. The
      cap is expressed in percentage of one physical CPU: 100 is 1 physical CPU,
      50 is half a CPU, 400 is 4 CPUs, etc. The default, 0, means there is no
      upper cap.
    <div style="height: 1.00em;">&#x00A0;</div>
    NB: Many systems have features that will scale down the computing power of a
      cpu that is not 100% utilized. This can be in the operating system, but
      can also sometimes be below the operating system in the BIOS. If you set a
      cap such that individual cores are running at less than 100%, this may
      have an impact on the performance of your workload over and above the
      impact of the cap. For example, if your processor runs at 2GHz, and you
      cap a vm at 50%, the power management system may also reduce the clock
      speed to 1GHz; the effect will be that your VM gets 25% of the available
      power (50% of 1GHz) rather than 50% (50% of 2GHz). If you are not getting
      the performance you expect, look at performance and cpufreq options in
      your operating system and your BIOS.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p CPUPOOL</b>, <b>--cpupool=CPUPOOL</b></dt>
  <dd class="It-tag">Restrict output to domains in the specified cpupool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--schedparam</b></dt>
  <dd class="It-tag">Specify to list or set pool-wide scheduler parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t TSLICE</b>, <b>--tslice_ms=TSLICE</b></dt>
  <dd class="It-tag">Timeslice tells the scheduler how long to allow VMs to run
      before pre-empting. The default is 30ms. Valid ranges are 1ms to 1000ms.
      The length of the timeslice (in ms) must be higher than the length of the
      ratelimit (see below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r RLIMIT</b>, <b>--ratelimit_us=RLIMIT</b></dt>
  <dd class="It-tag">Ratelimit attempts to limit the number of schedules per
      second. It sets a minimum amount of time (in microseconds) a VM must run
      before we will allow a higher-priority VM to pre-empt it. The default
      value is 1000 microseconds (1ms). Valid range is 100 to 500000 (500ms).
      The ratelimit length must be lower than the timeslice length.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>COMBINATION</b>
<div style="height: 1.00em;">&#x00A0;</div>
The following is the effect of combining the above options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;nothing&gt;</b> : List all domain params and sched
    params from all pools</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d [domid]</b> : List domain params for domain
    [domid]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d [domid] [params]</b> : Set domain params for domain
    [domid]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p [pool]</b> : list all domains and sched params for
    [pool]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> : List sched params for poolid 0</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s [params]</b> : Set sched params for poolid 0</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p [pool] -s</b> : List sched params for [pool]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p [pool] -s [params]</b> : Set sched params for
    [pool]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p [pool] -d</b>... : Illegal</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sched-credit2</b> [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">Set or get credit2 scheduler parameters. The credit2
      scheduler is a proportional fair share CPU scheduler built from the ground
      up to be work conserving on SMP hosts.
    <div style="height: 1.00em;">&#x00A0;</div>
    Each domain (including Domain0) is assigned a weight.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d DOMAIN</b>, <b>--domain=DOMAIN</b></dt>
  <dd class="It-tag">Specify domain for which scheduler parameters are to be
      modified or retrieved. Mandatory for modifying scheduler parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w WEIGHT</b>, <b>--weight=WEIGHT</b></dt>
  <dd class="It-tag">A domain with a weight of 512 will get twice as much CPU as
      a domain with a weight of 256 on a contended host. Legal weights range
      from 1 to 65535 and the default is 256.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p CPUPOOL</b>, <b>--cpupool=CPUPOOL</b></dt>
  <dd class="It-tag">Restrict output to domains in the specified cpupool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--schedparam</b></dt>
  <dd class="It-tag">Specify to list or set pool-wide scheduler parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r RLIMIT</b>, <b>--ratelimit_us=RLIMIT</b></dt>
  <dd class="It-tag">Attempts to limit the rate of context switching. It is
      basically the same as <b>--ratelimit_us</b> in <b>sched-credit</b></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sched-rtds</b> [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">Set or get rtds (Real Time Deferrable Server) scheduler
      parameters. This rt scheduler applies Preemptive Global Earliest Deadline
      First real-time scheduling algorithm to schedule VCPUs in the system. Each
      VCPU has a dedicated period and budget. VCPUs in the same domain have the
      same period and budget. While scheduled, a VCPU burns its budget. A VCPU
      has its budget replenished at the beginning of each period; Unused budget
      is discarded at the end of each period.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d DOMAIN</b>, <b>--domain=DOMAIN</b></dt>
  <dd class="It-tag">Specify domain for which scheduler parameters are to be
      modified or retrieved. Mandatory for modifying scheduler parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v VCPUID/all</b>, <b>--vcpuid=VCPUID/all</b></dt>
  <dd class="It-tag">Specify vcpu for which scheduler parameters are to be
      modified or retrieved.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p PERIOD</b>, <b>--period=PERIOD</b></dt>
  <dd class="It-tag">Period of time, in microseconds, over which to replenish
      the budget.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b BUDGET</b>, <b>--budget=BUDGET</b></dt>
  <dd class="It-tag">Amount of time, in microseconds, that the VCPU will be
      allowed to run every period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c CPUPOOL</b>, <b>--cpupool=CPUPOOL</b></dt>
  <dd class="It-tag">Restrict output to domains in the specified cpupool.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<b>EXAMPLE</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">1) Use <b>-v all</b> to see the budget and
  period of all the VCPUs of all the domains:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    xl sched-rtds -v all
    Cpupool Pool-0: sched=RTDS
    Name                        ID VCPU    Period    Budget
    Domain-0                     0    0     10000      4000
    vm1                          1    0       300       150
    vm1                          1    1       400       200
    vm1                          1    2     10000      4000
    vm1                          1    3      1000       500
    vm2                          2    0     10000      4000
    vm2                          2    1     10000      4000
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
Without any arguments, it will output the default scheduing parameters for each
  domain:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    xl sched-rtds
    Cpupool Pool-0: sched=RTDS
    Name                        ID    Period    Budget
    Domain-0                     0     10000      4000
    vm1                          1     10000      4000
    vm2                          2     10000      4000
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
2) Use, for instance <b>-d vm1, -v all</b> to see the budget and period of all
  VCPUs of a specific domain ( <b>vm1</b>):
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    xl sched-rtds -d vm1 -v all
    Name                        ID VCPU    Period    Budget
    vm1                          1    0       300       150
    vm1                          1    1       400       200
    vm1                          1    2     10000      4000
    vm1                          1    3      1000       500
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To see the parameters of a subset of the VCPUs of a domain, use:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    xl sched-rtds -d vm1 -v 0 -v 3
    Name                        ID VCPU    Period    Budget
    vm1                          1    0       300       150
    vm1                          1    3      1000       500
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
If no <b>-v</b> is speficified, the default scheduling parameter for the domain
  are shown:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    xl sched-rtds -d vm1
    Name                        ID    Period    Budget
    vm1                          1     10000      4000
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
3) Users can set the budget and period of multiple VCPUs of a specific domain
  with only one command, e.g., &quot;xl sched-rtds -d vm1 -v 0 -p 100 -b 50 -v 3
  -p 300 -b 150&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
To change the parameters of all the VCPUs of a domain, use <b>-v all</b>, e.g.,
  &quot;xl sched-rtds -d vm1 -v all -p 500 -b 250&quot;.</div>
</div>
<div style="margin-left: 4.00ex;"></div>
<h1 class="Sh" title="Sh" id="CPUPOOLS_COMMANDS"><a class="selflink" href="#CPUPOOLS_COMMANDS">CPUPOOLS
  COMMANDS</a></h1>
Xen can group the physical cpus of a server in cpu-pools. Each physical CPU is
  assigned at most to one cpu-pool. Domains are each restricted to a single
  cpu-pool. Scheduling does not cross cpu-pool boundaries, so each cpu-pool has
  an own scheduler. Physical cpus and domains can be moved from one cpu-pool to
  another only by an explicit command. Cpu-pools can be specified either by name
  or by id.
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-create</b> [<i>OPTIONS</i>] [<i>ConfigFile</i>]
    [ <i>Variable=Value</i> ...]</dt>
  <dd class="It-tag">Create a cpu pool based an config from a <i>ConfigFile</i>
      or command-line parameters. Variable settings from the <i>ConfigFile</i>
      may be altered by specifying new or additional assignments on the command
      line.
    <div style="height: 1.00em;">&#x00A0;</div>
    See the <i>xlcpupool.cfg</i>(5) manpage for more information.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f=FILE</b>, <b>--defconfig=FILE</b></dt>
  <dd class="It-tag">Use the given configuration file.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-list</b> [<i>-c|--cpus</i>]
    [<i>cpu-pool</i>]</dt>
  <dd class="It-tag">List CPU pools on the host. If <i>-c</i> is specified,
      <b>xl</b> prints a list of CPUs used by <i>cpu-pool</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-destroy</b> <i>cpu-pool</i></dt>
  <dd class="It-tag">Deactivates a cpu pool. This is possible only if no domain
      is active in the cpu-pool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-rename</b> <i>cpu-pool</i> &lt;newname&gt;</dt>
  <dd class="It-tag">Renames a cpu-pool to <i>newname</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-cpu-add</b> <i>cpu-pool</i>
    <i>cpus|node:nodes</i></dt>
  <dd class="It-tag">Adds one or more CPUs or NUMA nodes to <i>cpu-pool</i>.
      CPUs and NUMA nodes can be specified as single CPU/node IDs or as ranges.
    <div style="height: 1.00em;">&#x00A0;</div>
    For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 (a) xl cpupool-cpu-add mypool 4
 (b) xl cpupool-cpu-add mypool 1,5,10-16,^13
 (c) xl cpupool-cpu-add mypool node:0,nodes:2-3,^10-12,8
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    means adding CPU 4 to mypool, in (a); adding CPUs 1,5,10,11,12,14,15 and 16,
      in (b); and adding all the CPUs of NUMA nodes 0, 2 and 3, plus CPU 8, but
      keeping out CPUs 10,11,12, in (c).
    <div style="height: 1.00em;">&#x00A0;</div>
    All the specified CPUs that can be added to the cpupool will be added to it.
      If some CPU can't (e.g., because they're already part of another cpupool),
      an error is reported about each one of them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-cpu-remove</b> <i>cpus|node:nodes</i></dt>
  <dd class="It-tag">Removes one or more CPUs or NUMA nodes from
      <i>cpu-pool</i>. CPUs and NUMA nodes can be specified as single CPU/node
      IDs or as ranges, using the exact same syntax as in <b>cpupool-cpu-add</b>
      above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-migrate</b> <i>domain</i> <i>cpu-pool</i></dt>
  <dd class="It-tag">Moves a domain specified by domain-id or domain-name into a
      cpu-pool. Domain-0 can't be moved to another cpu-pool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cpupool-numa-split</b></dt>
  <dd class="It-tag">Splits up the machine into one cpu-pool per numa node.</dd>
</dl>
<h1 class="Sh" title="Sh" id="VIRTUAL_DEVICE_COMMANDS"><a class="selflink" href="#VIRTUAL_DEVICE_COMMANDS">VIRTUAL
  DEVICE COMMANDS</a></h1>
Most virtual devices can be added and removed while guests are running, assuming
  that the necessary support exists in the guest. The effect to the guest OS is
  much the same as any hotplug event.
<h2 class="Ss" title="Ss" id="BLOCK_DEVICES"><a class="selflink" href="#BLOCK_DEVICES">BLOCK
  DEVICES</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>block-attach</b> <i>domain-id</i>
    <i>disc-spec-component(s)</i> ...</dt>
  <dd class="It-tag">Create a new virtual block device. This will trigger a
      hotplug event for the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that only PV block devices are supported by block-attach. Requests to
      attach emulated devices (eg, vdev=hdc) will result in only the PV view
      being available to the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>domain-id</i></dt>
  <dd class="It-tag">The domain id of the guest domain that the device will be
      attached to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>disc-spec-component</i></dt>
  <dd class="It-tag">A disc specification in the same format used for the
      <b>disk</b> variable in the domain config file. See
      &lt;http://xenbits.xen.org/docs/unstable/misc/xl-disk-configuration.txt&gt;.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>block-detach</b> <i>domain-id</i> <i>devid</i>
    [<b>--force</b>]</dt>
  <dd class="It-tag">Detach a domain's virtual block device. <i>devid</i> may be
      the symbolic name or the numeric device id given to the device by domain
      0. You will need to run <b>xl block-list</b> to determine that number.
    <div style="height: 1.00em;">&#x00A0;</div>
    Detaching the device requires the cooperation of the domain. If the domain
      fails to release the device (perhaps because the domain is hung or is
      still using the device), the detach will fail. The <b>--force</b>
      parameter will forcefully detach the device, but may cause IO errors in
      the domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>block-list</b> <i>domain-id</i></dt>
  <dd class="It-tag">List virtual block devices for a domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cd-insert</b> <i>domain-id</i> <i>VirtualDevice</i>
    <i>target</i></dt>
  <dd class="It-tag">Insert a cdrom into a guest domain's existing virtial cd
      drive. The virtual drive must already exist but can be current empty.
    <div style="height: 1.00em;">&#x00A0;</div>
    Only works with HVM domains.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>VirtualDevice</i></dt>
  <dd class="It-tag">How the device should be presented to the guest domain; for
      example &quot;hdc&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>target</i></dt>
  <dd class="It-tag">the target path in the backend domain (usually domain 0) to
      be exported; Can be a block device or a file etc. See <b>target</b> in
      <i>docs/misc/xl-disk-configuration.txt</i>.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cd-eject</b> <i>domain-id</i> <i>VirtualDevice</i></dt>
  <dd class="It-tag">Eject a cdrom from a guest's virtual cd drive. Only works
      with HVM domains.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>VirtualDevice</i></dt>
  <dd class="It-tag">How the device should be presented to the guest domain; for
      example &quot;hdc&quot;.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<h2 class="Ss" title="Ss" id="NETWORK_DEVICES"><a class="selflink" href="#NETWORK_DEVICES">NETWORK
  DEVICES</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>network-attach</b> <i>domain-id</i>
    <i>network-device</i></dt>
  <dd class="It-tag">Creates a new network device in the domain specified by
      <i>domain-id</i>. <i>network-device</i> describes the device to attach,
      using the same format as the <b>vif</b> string in the domain config file.
      See xl.cfg and
      &lt;http://xenbits.xen.org/docs/unstable/misc/xl-network-configuration.html&gt;
      for more informations.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that only attaching PV network interface is supported.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>network-detach</b> <i>domain-id</i>
    <i>devid|mac</i></dt>
  <dd class="It-tag">Removes the network device from the domain specified by
      <i>domain-id</i>. <i>devid</i> is the virtual interface device number
      within the domain (i.e. the 3 in vif22.3). Alternatively the <i>mac</i>
      address can be used to select the virtual interface to detach.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>network-list</b> <i>domain-id</i></dt>
  <dd class="It-tag">List virtual network interfaces for a domain.</dd>
</dl>
<h2 class="Ss" title="Ss" id="CHANNEL_DEVICES"><a class="selflink" href="#CHANNEL_DEVICES">CHANNEL
  DEVICES</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>channel-list</b> <i>domain-id</i></dt>
  <dd class="It-tag">List virtual channel interfaces for a domain.</dd>
</dl>
<h2 class="Ss" title="Ss" id="VTPM_DEVICES"><a class="selflink" href="#VTPM_DEVICES">VTPM
  DEVICES</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vtpm-attach</b> <i>domain-id</i> <i>vtpm-device</i></dt>
  <dd class="It-tag">Creates a new vtpm device in the domain specified by
      <i>domain-id</i>. <i>vtpm-device</i> describes the device to attach, using
      the same format as the <b>vtpm</b> string in the domain config file. See
      xl.cfg for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vtpm-detach</b> <i>domain-id</i> <i>devid|uuid</i></dt>
  <dd class="It-tag">Removes the vtpm device from the domain specified by
      <i>domain-id</i>. <i>devid</i> is the numeric device id given to the
      virtual trusted platform module device. You will need to run <b>xl
      vtpm-list</b> to determine that number. Alternatively the <i>uuid</i> of
      the vtpm can be used to select the virtual device to detach.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>vtpm-list</b> <i>domain-id</i></dt>
  <dd class="It-tag">List virtual trusted platform modules for a domain.</dd>
</dl>
<h1 class="Sh" title="Sh" id="PCI_PASS-THROUGH"><a class="selflink" href="#PCI_PASS-THROUGH">PCI
  PASS-THROUGH</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pci-assignable-list</b></dt>
  <dd class="It-tag">List all the assignable PCI devices. These are devices in
      the system which are configured to be available for passthrough and are
      bound to a suitable PCI backend driver in domain 0 rather than a real
      driver.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pci-assignable-add</b> <i>BDF</i></dt>
  <dd class="It-tag">Make the device at PCI Bus/Device/Function BDF assignable
      to guests. This will bind the device to the pciback driver. If it is
      already bound to a driver, it will first be unbound, and the original
      driver stored so that it can be re-bound to the same driver later if
      desired. If the device is already bound, it will return success.
    <div style="height: 1.00em;">&#x00A0;</div>
    CAUTION: This will make the device unusable by Domain 0 until it is returned
      with pci-assignable-remove. Care should therefore be taken not to do this
      on a device critical to domain 0's operation, such as storage controllers,
      network interfaces, or GPUs that are currently being used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pci-assignable-remove</b> [<i>-r</i>] <i>BDF</i></dt>
  <dd class="It-tag">Make the device at PCI Bus/Device/Function BDF assignable
      to guests. This will at least unbind the device from pciback. If the -r
      option is specified, it will also attempt to re-bind the device to its
      original driver, making it usable by Domain 0 again. If the device is not
      bound to pciback, it will return success.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pci-attach</b> <i>domain-id</i> <i>BDF</i></dt>
  <dd class="It-tag">Hot-plug a new pass-through pci device to the specified
      domain. <b>BDF</b> is the PCI Bus/Device/Function of the physical device
      to pass-through.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pci-detach</b> [<i>-f</i>] <i>domain-id</i>
    <i>BDF</i></dt>
  <dd class="It-tag">Hot-unplug a previously assigned pci device from a domain.
      <b>BDF</b> is the PCI Bus/Device/Function of the physical device to be
      removed from the guest domain.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <b>-f</b> is specified, <b>xl</b> is going to forcefully remove the
      device even without guest's collaboration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pci-list</b> <i>domain-id</i></dt>
  <dd class="It-tag">List pass-through pci devices for a domain.</dd>
</dl>
<h1 class="Sh" title="Sh" id="USB_PASS-THROUGH"><a class="selflink" href="#USB_PASS-THROUGH">USB
  PASS-THROUGH</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usbctrl-attach</b> <i>domain-id</i>
    <i>usbctrl-device</i></dt>
  <dd class="It-tag">Create a new USB controller in the domain specified by
      <i>domain-id</i>, <i>usbctrl-device</i> describes the device to attach,
      using form &quot;KEY=VALUE KEY=VALUE ...&quot; where <b>KEY=VALUE</b> has
      the same meaning as the <b>usbctrl</b> description in the domain config
      file. See xl.cfg for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usbctrl-detach</b> <i>domain-id</i> <i>devid</i></dt>
  <dd class="It-tag">Destroy a USB controller from the specified domain.
      <b>devid</b> is devid of the USB controller.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usbdev-attach</b> <i>domain-id</i>
    <i>usbdev-device</i></dt>
  <dd class="It-tag">Hot-plug a new pass-through USB device to the domain
      specified by <i>domain-id</i>, <i>usbdev-device</i> describes the device
      to attach, using form &quot;KEY=VALUE KEY=VALUE ...&quot; where
      <b>KEY=VALUE</b> has the same meaning as the <b>usbdev</b> description in
      the domain config file. See xl.cfg for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usbdev-detach</b> <i>domain-id</i>
    <i>controller=devid</i> <i>port=number</i></dt>
  <dd class="It-tag">Hot-unplug a previously assigned USB device from a domain.
      <b>controller=devid</b> and <b>port=number</b> is USB controller:port in
      guest where the USB device is attached to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>usb-list</b> <i>domain-id</i></dt>
  <dd class="It-tag">List pass-through usb devices for a domain.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DEVICE-MODEL_CONTROL"><a class="selflink" href="#DEVICE-MODEL_CONTROL">DEVICE-MODEL
  CONTROL</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>qemu-monitor-command</b> <i>domain-id</i>
    <i>command</i></dt>
  <dd class="It-tag">Issue a monitor command to the device model of the domain
      specified by <i>domain-id</i>. <i>command</i> can be any valid command
      qemu understands. This can be e.g. used to add non-standard devices or
      devices with non-standard parameters to a domain. The output of the
      command is printed to stdout.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>Warning:</b> This qemu monitor access is provided for convenience when
      debugging, troubleshooting, and experimenting. Its use is not supported by
      the Xen Project.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifically, not all information printed by the qemu monitor will
      necessarily be accurate or complete, because in a Xen system qemu does not
      have a complete view of the guest.
    <div style="height: 1.00em;">&#x00A0;</div>
    Furthermore, modifying the guest's setup via the qemu monitor may conflict
      with the Xen toolstack's assumptions. Resulting problems may include, but
      are not limited to: guest crashes; toolstack error messages; inability to
      migrate the guest; and security vulnerabilities which are not covered by
      the Xen Project security response policy.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>EXAMPLE</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    Obtain information of USB devices connected as such via the device model
      (only!) to a domain:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 xl qemu-monitor-command vm1 'info usb'
  Device 0.2, Port 5, Speed 480 Mb/s, Product Mass Storage
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="TMEM"><a class="selflink" href="#TMEM">TMEM</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem-list</b> I[&lt;-l&gt;] <i>domain-id</i></dt>
  <dd class="It-tag">List tmem pools. If <i>-l</i> is specified, also list tmem
      stats.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem-freeze</b> <i>domain-id</i></dt>
  <dd class="It-tag">Freeze tmem pools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem-thaw</b> <i>domain-id</i></dt>
  <dd class="It-tag">Thaw tmem pools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem-set</b> <i>domain-id</i> [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">Change tmem settings.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b> <i>WEIGHT</i></dt>
  <dd class="It-tag">Weight (int)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>COMPRESS</i></dt>
  <dd class="It-tag">Compress (int)</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem-shared-auth</b> <i>domain-id</i>
    [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">De/authenticate shared tmem pool.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b> <i>UUID</i></dt>
  <dd class="It-tag">Specify uuid (abcdef01-2345-6789-1234-567890abcdef)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b> <i>AUTH</i></dt>
  <dd class="It-tag">0=auth,1=deauth</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem-freeable</b></dt>
  <dd class="It-tag">Get information about how much freeable memory (MB) is
      in-use by tmem.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FLASK"><a class="selflink" href="#FLASK">FLASK</a></h1>
<b>FLASK</b> is a security framework that defines a mandatory access control
  policy providing fine-grained controls over Xen domains, allowing the policy
  writer to define what interactions between domains, devices, and the
  hypervisor are permitted. Some example of what you can do using XSM/FLASK:
<br/>
 - Prevent two domains from communicating via event channels or grants
<br/>
 - Control which domains can use device passthrough (and which devices)
<br/>
 - Restrict or audit operations performed by privileged domains
<br/>
 - Prevent a privileged domain from arbitrarily mapping pages from other
<br/>
 domains.
<div class="Pp"></div>
You can find more details on how to use FLASK and an example security policy
  here: &lt;http://xenbits.xen.org/docs/unstable/misc/xsm-flask.txt&gt;
<dl class="Bl-tag">
  <dt class="It-tag"><b>getenforce</b></dt>
  <dd class="It-tag">Determine if the FLASK security module is loaded and
      enforcing its policy.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>setenforce</b> <i>1|0|Enforcing|Permissive</i></dt>
  <dd class="It-tag">Enable or disable enforcing of the FLASK access controls.
      The default is permissive, but this can be changed to enforcing by
      specifying &quot;flask=enforcing&quot; or &quot;flask=late&quot; on the
      hypervisor's command line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>loadpolicy</b> <i>policy-file</i></dt>
  <dd class="It-tag">Load FLASK policy from the given policy file. The initial
      policy is provided to the hypervisor as a multiboot module; this command
      allows runtime updates to the policy. Loading new security policy will
      reset runtime changes to device labels.</dd>
</dl>
<h1 class="Sh" title="Sh" id="PLATFORM_SHARED_RESOURCE_MONITORING/CONTROL"><a class="selflink" href="#PLATFORM_SHARED_RESOURCE_MONITORING/CONTROL">PLATFORM
  SHARED RESOURCE MONITORING/CONTROL</a></h1>
Intel Haswell and later server platforms offer shared resource monitoring and
  control technologies. The availability of these technologies and the hardware
  capabilities can be shown with <b>psr-hwinfo</b>.
<div class="Pp"></div>
See &lt;http://xenbits.xen.org/docs/unstable/misc/xl-psr.html&gt; for more
  information.
<dl class="Bl-tag">
  <dt class="It-tag"><b>psr-hwinfo</b> [<i>OPTIONS</i>]</dt>
  <dd class="It-tag">Show Platform Shared Resource (PSR) hardware information.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--cmt</b></dt>
  <dd class="It-tag">Show Cache Monitoring Technology (CMT) hardware
      information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--cat</b></dt>
  <dd class="It-tag">Show Cache Allocation Technology (CAT) hardware
      information.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<h2 class="Ss" title="Ss" id="CACHE_MONITORING_TECHNOLOGY"><a class="selflink" href="#CACHE_MONITORING_TECHNOLOGY">CACHE
  MONITORING TECHNOLOGY</a></h2>
Intel Haswell and later server platforms offer monitoring capability in each
  logical processor to measure specific platform shared resource metric, for
  example, L3 cache occupancy. In the Xen implementation, the monitoring
  granularity is domain level. To monitor a specific domain, just attach the
  domain id with the monitoring service. When the domain doesn't need to be
  monitored any more, detach the domain id from the monitoring service.
<div class="Pp"></div>
Intel Broadwell and later server platforms also offer total/local memory
  bandwidth monitoring. Xen supports per-domain monitoring for these two
  additional monitoring types. Both memory bandwidth monitoring and L3 cache
  occupancy monitoring share the same set of underlying monitoring service. Once
  a domain is attached to the monitoring service, monitoring data can be shown
  for any of these monitoring types.
<dl class="Bl-tag">
  <dt class="It-tag"><b>psr-cmt-attach</b> [<i>domain-id</i>]</dt>
  <dd class="It-tag">attach: Attach the platform shared resource monitoring
      service to a domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>psr-cmt-detach</b> [<i>domain-id</i>]</dt>
  <dd class="It-tag">detach: Detach the platform shared resource monitoring
      service from a domain.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>psr-cmt-show</b> [<i>psr-monitor-type</i>]
    [<i>domain-id</i>]</dt>
  <dd class="It-tag">Show monitoring data for a certain domain or all domains.
      Current supported monitor types are:
    <br/>
     - &quot;cache-occupancy&quot;: showing the L3 cache occupancy(KB).
    <br/>
     - &quot;total-mem-bandwidth&quot;: showing the total memory
      bandwidth(KB/s).
    <br/>
     - &quot;local-mem-bandwidth&quot;: showing the local memory
      bandwidth(KB/s).</dd>
</dl>
<h2 class="Ss" title="Ss" id="CACHE_ALLOCATION_TECHNOLOGY"><a class="selflink" href="#CACHE_ALLOCATION_TECHNOLOGY">CACHE
  ALLOCATION TECHNOLOGY</a></h2>
Intel Broadwell and later server platforms offer capabilities to configure and
  make use of the Cache Allocation Technology (CAT) mechanisms, which enable
  more cache resources (i.e. L3 cache) to be made available for high priority
  applications. In the Xen implementation, CAT is used to control cache
  allocation on VM basis. To enforce cache on a specific domain, just set
  capacity bitmasks (CBM) for the domain.
<div class="Pp"></div>
Intel Broadwell and later server platforms also offer Code/Data Prioritization
  (CDP) for cache allocations, which support specifying code or data cache for
  applications. CDP is used on a per VM basis in the Xen implementation. To
  specify code or data CBM for the domain, CDP feature must be enabled and CBM
  type options need to be specified when setting CBM, and the type options (code
  and data) are mutually exclusive.
<dl class="Bl-tag">
  <dt class="It-tag"><b>psr-cat-cbm-set</b> [<i>OPTIONS</i>] <i>domain-id</i>
    <i>cbm</i></dt>
  <dd class="It-tag">Set cache capacity bitmasks(CBM) for a domain. For how to
      specify <i>cbm</i> please refer to
      &lt;http://xenbits.xen.org/docs/unstable/misc/xl-psr.html&gt;.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>OPTIONS</b></dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s SOCKET</b>, <b>--socket=SOCKET</b></dt>
  <dd class="It-tag">Specify the socket to process, otherwise all sockets are
      processed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--code</b></dt>
  <dd class="It-tag">Set code CBM when CDP is enabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b>, <b>--data</b></dt>
  <dd class="It-tag">Set data CBM when CDP is enabled.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>psr-cat-show</b> [<i>domain-id</i>]</dt>
  <dd class="It-tag">Show CAT settings for a certain domain or all domains.</dd>
</dl>
<h1 class="Sh" title="Sh" id="IGNORED_FOR_COMPATIBILITY_WITH_XM"><a class="selflink" href="#IGNORED_FOR_COMPATIBILITY_WITH_XM">IGNORED
  FOR COMPATIBILITY WITH XM</a></h1>
xl is mostly command-line compatible with the old xm utility used with the old
  Python xend. For compatibility, the following options are ignored:
<dl class="Bl-tag">
  <dt class="It-tag"><b>xl migrate --live</b></dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="TO_BE_DOCUMENTED"><a class="selflink" href="#TO_BE_DOCUMENTED">TO
  BE DOCUMENTED</a></h1>
We need better documentation for:
<dl class="Bl-tag">
  <dt class="It-tag"><b>tmem</b></dt>
  <dd class="It-tag">Transcendent Memory.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The following man pages:
<div class="Pp"></div>
xl.cfg(5), xlcpupool.cfg(5), <b>xentop</b>(1)
<div class="Pp"></div>
And the following documents on the xen.org website:
<div class="Pp"></div>
&lt;http://xenbits.xen.org/docs/unstable/misc/xl-network-configuration.html&gt;
  &lt;http://xenbits.xen.org/docs/unstable/misc/xl-disk-configuration.txt&gt;
  &lt;http://xenbits.xen.org/docs/unstable/misc/xsm-flask.txt&gt;
  &lt;http://xenbits.xen.org/docs/unstable/misc/xl-psr.html&gt;
<div class="Pp"></div>
For systems that don't automatically bring CPU online:
<div class="Pp"></div>
&lt;http://wiki.xen.org/wiki/Paravirt_Linux_CPU_Hotplug&gt;
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Send bugs to xen-devel@lists.xen.org, see
  http://wiki.xen.org/xenwiki/ReportingBugs on how to send bug reports.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-08-15</td>
    <td class="foot-os">4.8.1-6.fc26</td>
  </tr>
</table>
</body>
</html>
