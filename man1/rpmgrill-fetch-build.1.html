<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:35:58 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>RPMGRILL-FETCH-BUILD(1) User Contributed Perl
Documentation RPMGRILL-FETCH-BUILD(1)</p>

<p style="margin-top: 1em">NAME <br>
rpmgrill-fetch-build - extract all RPMs and build logs from
a Koji build</p>

<p style="margin-top: 1em">SYNOPSIS <br>
rpmgrill-fetch-build BUILDINFO DESTDIR</p>

<p style="margin-top: 1em">rpmgrill-fetch-build --help |
--version | --man</p>

<p style="margin-top: 1em">DESCRIPTION <br>
rpmgrill-fetch-build extracts all RPMs and build logs from a
koji build. This is a helper step required by the rpmgrill
analysis tool.</p>

<p style="margin-top: 1em">USAGE EXAMPLES <br>
# By name <br>
$ rpmgrill-fetch-build coreutils-8.15-10.fc17
my-coreutils-8.15-10.fc17</p>

<p style="margin-top: 1em"># Same thing, by Koji task ID
<br>
$ rpmgrill-fetch-build 381337 my-coreutils-8.15-10.fc17</p>

<p style="margin-top: 1em">ARGUMENTS <br>
&Acirc;&middot; BUILDINFO describes what to extract. It may
be an N-V-R or a task ID. FIXME: test with scratch
builds.</p>

<p style="margin-top: 1em">&Acirc;&middot; DESTDIR is the
path to a directory into which rpmgrill-fetch-build will
extract RPMs. It must not exist: if it does,
rpmgrill-fetch-build will abort with a fatal error.</p>

<p style="margin-top: 1em">OPTIONS <br>
--download-only <br>
Download the RPMs and build logs into DESTDIR, then exit
cleanly.</p>

<p style="margin-top: 1em">RPM filenames will be exactly as
downloaded; log files will be named
&quot;build.log.ARCH&quot; for all available ARCHes.</p>

<p style="margin-top: 1em">--server-url <br>
URL of the Koji XMLRPC endpoint.</p>

<p style="margin-top: 1em">(Default:
http://koji.fedoraproject.org/kojihub)</p>

<p style="margin-top: 1em">--top-url <br>
Download URL for the Koji file access.</p>

<p style="margin-top: 1em">(Default:
http://kojipkgs.fedoraproject.org/)</p>

<p style="margin-top: 1em">--verbose <br>
Show progress messages.</p>

<p style="margin-top: 1em">--help <br>
Emit usage hints.</p>

<p style="margin-top: 1em">--version <br>
Display program version.</p>

<p style="margin-top: 1em">--man <br>
Display this man page.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
FIXME</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
If the environment variable $RPMGRILL_FETCH_BUILD_CACHE is
defined, and points to an existing directory, and that
directory has a subdirectory named N-V-R,
rpmgrill-fetch-build <br>
fetches RPMs and build logs from there.</p>

<p style="margin-top: 1em">The format of this directory
is:</p>

<p style="margin-top: 1em">PMGRILL_FETCH_BUILD_CACHE/ <br>
&lsquo;-- mypkg-1.0-1.fc19/ <br>
|-- build.log.i686 <br>
|-- build.log.x86_64 <br>
|-- mypkg-1.0-1.fc19.i686.rpm <br>
&lsquo;-- mypkg-1.0-1.fc19.x86_64.rpm</p>

<p style="margin-top: 1em">That is: all *.rpm files (as
fetched from koji), and all build logs using the convention
&quot;build.log.ARCH&quot; for all available ARCHes.</p>

<p style="margin-top: 1em">FILES <br>
rpmgrill-fetch-build writes a README file to DESTDIR. On
successful completion of all rpms, it will look like:</p>

<p style="margin-top: 1em">Contents: coreutils-8.15-10.fc17
<br>
on: Fri May 3 12:02:03 2013 <br>
by: rpmgrill-fetch-build 0.0 <br>
invoked as: rpmgrill-fetch-build 381337
my-coreutils-8.15-10.fc17</p>

<p style="margin-top: 1em">During extraction, or if
there&rsquo;s a failure, the README will have the above text
and also a note explaining that the directory is incomplete
and should not be used.</p>

<p style="margin-top: 1em">AUTHOR <br>
Ed Santiago &lt;santiago@redhat.com&gt;</p>

<p style="margin-top: 1em">perl v5.24.1 2017-02-11
RPMGRILL-FETCH-BUILD(1)</p>
<hr>
</body>
</html>
