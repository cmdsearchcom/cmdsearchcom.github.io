<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:07 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PERLSYMBIAN(1) Perl Programmers Reference Guide
PERLSYMBIAN(1)</p>

<p style="margin-top: 1em">NAME <br>
perlsymbian - Perl version 5 on Symbian OS</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This document describes various features of the Symbian
operating system that will affect how Perl version 5
(hereafter just Perl) is compiled and/or runs.</p>

<p style="margin-top: 1em">NOTE: this port (as of 0.4.1)
does not compile into a Symbian OS GUI application, but
instead it results in a Symbian DLL. The DLL includes a C++
class called CPerlBase, which <br>
one can then (derive from and) use to embed Perl into
applications, see symbian/README.</p>

<p style="margin-top: 1em">The base port of Perl to Symbian
only implements the basic POSIX-like functionality; it does
not implement any further Symbian or Series 60, Series 80,
or UIQ bindings for Perl.</p>

<p style="margin-top: 1em">It is also possible to generate
Symbian executables for &quot;miniperl&quot; and
&quot;perl&quot;, but since there is no standard command
line interface for Symbian (nor full keyboards in the <br>
devices), these are useful mainly as demonstrations.</p>

<p style="margin-top: 1em">Compiling Perl on Symbian <br>
(0) You need to have the appropriate Symbian SDK
installed.</p>

<p style="margin-top: 1em">These instructions have been
tested under various Nokia Series 60 <br>
Symbian SDKs (1.2 to 2.6, 2.8 should also work, 1.2 compiles
but <br>
does not work), Series 80 2.0, and Nokia 7710 (Series 90)
SDK. <br>
You can get the SDKs from Forum Nokia
(L&lt;http://www.forum.nokia.com/&gt;). <br>
A very rough port (&quot;it compiles&quot;) to UIQ 2.1 has
also been made.</p>

<p style="margin-top: 1em">A prerequisite for any of the
SDKs is to install ActivePerl <br>
from ActiveState,
L&lt;http://www.activestate.com/Products/ActivePerl/&gt;</p>

<p style="margin-top: 1em">Having the SDK installed also
means that you need to have either <br>
the Metrowerks CodeWarrior installed (2.8 and 3.0 were used
in testing) <br>
or the Microsoft Visual C++ 6.0 installed (SP3 minimum, SP5
recommended).</p>

<p style="margin-top: 1em">Note that for example the Series
60 2.0 VC SDK installation talks <br>
about ActivePerl build 518, which does no more (as of
mid-2005) exist <br>
at the ActiveState website. The ActivePerl 5.8.4 build 810
was <br>
used successfully for compiling Perl on Symbian. The 5.6.x
ActivePerls <br>
do not work.</p>

<p style="margin-top: 1em">Other SDKs or compilers like
Visual.NET, command-line-only <br>
Visual.NET, Borland, GnuPoc, or sdk2unix have not been
tried.</p>

<p style="margin-top: 1em">These instructions almost
certainly won&rsquo;t work with older Symbian <br>
releases or other SDKs. Patches to get this port running in
other <br>
releases, SDKs, compilers, platforms, or devices are
naturally welcome.</p>

<p style="margin-top: 1em">(1) Get a Perl source code
distribution (for example the file <br>
perl-5.9.2.tar.gz is fine) from
&lt;http://www.cpan.org/src/&gt; <br>
and unpack it in your the C:/Symbian directory of your
Windows <br>
system.</p>

<p style="margin-top: 1em">(2) Change to the perl source
directory.</p>

<p style="margin-top: 1em">cd c:bianerl-5.x.x</p>

<p style="margin-top: 1em">(3) Run the following script
using the perl coming with the SDK</p>

<p style="margin-top: 1em">perl symbian <br>
You must use the cmd.exe, the Cygwin shell will not work.
<br>
The PATH must include the SDK tools, including a Perl, <br>
which should be the case under cmd.exe. If you do not <br>
have that, see the end of symbian.pl for notes of <br>
how your environment should be set up for Symbian
compiles.</p>

<p style="margin-top: 1em">(4) Build the project, either
by</p>

<p style="margin-top: 1em">make all</p>

<p style="margin-top: 1em">in cmd.exe or by using either
the Metrowerks CodeWarrior <br>
or the Visual C++ 6.0, or the Visual Studio 8 (the Visual
C++ <br>
2005 Express Edition works fine).</p>

<p style="margin-top: 1em">If you use the VC IDE, you will
have to run F&lt;symbian first using the cmd.exe, and then
run &rsquo;make win.mf vc6.mf&rsquo; to generate <br>
the VC6 makefiles and workspaces. &quot;make vc6&quot; will
compile for the VC6, <br>
and &quot;make cw&quot; for the CodeWarrior.</p>

<p style="margin-top: 1em">The following SDK and compiler
configurations and Nokia phones were <br>
tested at some point in time (+ = compiled and PerlApp run,
- = not), <br>
both for Perl 5.8.x and 5.9.x:</p>

<p style="margin-top: 1em">SDK | VC | CW | <br>
--------+----+----+--- <br>
S60 1.2 | + | + | 3650 (*) <br>
S60 2.0 | + | + | 6600 <br>
S60 2.1 | - | + | 6670 <br>
S60 2.6 | + | + | 6630 <br>
S60 2.8 | + | + | (not tested in a device) <br>
S80 2.6 | - | + | 9300 <br>
S90 1.1 | + | - | 7710 <br>
UIQ 2.1 | - | + | (not tested in a device)</p>

<p style="margin-top: 1em">(*) Compiles but does not work,
unfortunately, a problem with Symbian.</p>

<p style="margin-top: 1em">If you are using the
&rsquo;make&rsquo; directly, it is the GNU make from the
SDKs, <br>
and it will invoke the right make commands for the Windows
emulator <br>
build and the Arm target builds (&rsquo;thumb&rsquo; by
default) as necessary.</p>

<p style="margin-top: 1em">The build scripts assume the
&rsquo;absolute style&rsquo; SDK installs under C:, <br>
the &rsquo;subst style&rsquo; will not work.</p>

<p style="margin-top: 1em">If using the VC IDE, to build
use for example the File-&gt;Open Workspace-&gt; i l d b i a
n e <br>
C:bian8.0a0_2nd_FP2\poc32r l e r l 2 1 6 <br>
The emulator binaries will appear in the same directory.</p>

<p style="margin-top: 1em">If using the VC IDE, you will a
lot of warnings in the beginning of <br>
the build because a lot of headers mentioned by the source
cannot <br>
be found, but this is not serious since those headers are
not used.</p>

<p style="margin-top: 1em">The Metrowerks will give a lot
of warnings about unused variables and <br>
empty declarations, you can ignore those.</p>

<p style="margin-top: 1em">When the Windows and Arm DLLs
are built do not be scared by a very long <br>
messages whizzing by: it is the &quot;export freeze&quot;
phase where the whole <br>
(rather large) API of Perl is listed.</p>

<p style="margin-top: 1em">Once the build is completed you
need to create the DLL SIS file by</p>

<p style="margin-top: 1em">make perldll.sis</p>

<p style="margin-top: 1em">which will create the file
perlXYZ.sis (the XYZ being the Perl version) <br>
which you can then install into your Symbian device: an easy
way <br>
to do this is to send them via Bluetooth or infrared and
just open <br>
the messages.</p>

<p style="margin-top: 1em">Since the total size of all Perl
SIS files once installed is <br>
over 2 MB, it is recommended to do the installation into a
<br>
memory card (drive E:) instead of the C: drive.</p>

<p style="margin-top: 1em">The size of the perlXYZ.SIS is
about 370 kB but once it is in the <br>
device it is about one 750 kB (according to the application
manager).</p>

<p style="margin-top: 1em">The perlXYZ.sis includes only
the Perl DLL: to create an additional <br>
SIS file which includes some of the standard (pure) Perl
libraries, <br>
issue the command</p>

<p style="margin-top: 1em">make perllib.sis</p>

<p style="margin-top: 1em">Some of the standard Perl
libraries are included, but not all: <br>
see L&lt;/HISTORY&gt; or F&lt;symbianinstall.cfg&gt; for
more details <br>
(250 kB -&gt; 700 kB).</p>

<p style="margin-top: 1em">Some of the standard Perl XS
extensions (see L&lt;/HISTORY&gt; are <br>
also available:</p>

<p style="margin-top: 1em">make perlext.sis</p>

<p style="margin-top: 1em">which will create perlXYZext.sis
(290 kB -&gt; 770 kB).</p>

<p style="margin-top: 1em">To compile the demonstration
application PerlApp you need first to <br>
install the Perl headers under the SDK.</p>

<p style="margin-top: 1em">To install the Perl headers and
the class CPerlBase documentation <br>
so that you no more need the Perl sources around to compile
Perl <br>
applications using the SDK:</p>

<p style="margin-top: 1em">make sdkinstall</p>

<p style="margin-top: 1em">The destination directory is
C:bianerlZ. For more <br>
details, see F&lt;symbianPerlBase.pod&gt;.</p>

<p style="margin-top: 1em">Once the headers have been
installed, you can create a SIS for <br>
the PerlApp:</p>

<p style="margin-top: 1em">make perlapp.sis</p>

<p style="margin-top: 1em">The perlapp.sis (11 kB -&gt; 16
kB) will be built in the symbian <br>
subdirectory, but a copy will also be made to the main
directory.</p>

<p style="margin-top: 1em">If you want to package the Perl
DLLs (one for WINS, one for ARMI), <br>
the headers, and the documentation:</p>

<p style="margin-top: 1em">make perlsdk.zip</p>

<p style="margin-top: 1em">which will create perlXYZsdk.zip
that can be used in another <br>
Windows system with the SDK, without having to compile Perl
in <br>
that system.</p>

<p style="margin-top: 1em">If you want to package the
PerlApp sources:</p>

<p style="margin-top: 1em">make perlapp.zip</p>

<p style="margin-top: 1em">If you want to package the
perl.exe and miniperl.exe, you <br>
can use the perlexe.sis and miniperlexe.sis make targets.
<br>
You also probably want the perllib.sis for the libraries
<br>
and maybe even the perlapp.sis for the recognizer.</p>

<p style="margin-top: 1em">The make target
&rsquo;allsis&rsquo; combines all the above SIS targets.</p>

<p style="margin-top: 1em">To clean up after compilation
you can use either of</p>

<p style="margin-top: 1em">make clean <br>
make distclean</p>

<p style="margin-top: 1em">depending on how clean you want
to be.</p>

<p style="margin-top: 1em">Compilation problems <br>
If you see right after &quot;make&quot; this</p>

<p style="margin-top: 1em">cat makefile.sh &gt;makefile
<br>
&rsquo;cat&rsquo; is not recognized as an internal or
external command, <br>
operable program or batch file.</p>

<p style="margin-top: 1em">it means you need to (re)run the
symbian <br>
If you get the error</p>

<p style="margin-top: 1em">&rsquo;perl&rsquo; is not
recognized as an internal or external command, <br>
operable program or batch file.</p>

<p style="margin-top: 1em">you may need to reinstall the
ActivePerl.</p>

<p style="margin-top: 1em">If you see this</p>

<p style="margin-top: 1em">ren makedef.pl nomakedef.pl <br>
The system cannot find the file specified. <br>
C:bian...ke.exe: [rename_makedef] Error 1 (ignored)</p>

<p style="margin-top: 1em">please ignore it since it is
nothing serious (the build process of renames the Perl
makedef.pl as nomakedef.pl to avoid confusing it with a
makedef.pl of the SDK).</p>

<p style="margin-top: 1em">PerlApp <br>
The PerlApp application demonstrates how to embed Perl
interpreters to a Symbian application. The &quot;Time&quot;
menu item runs the following Perl code: &quot;print
&quot;Running in &quot;, $^O, &quot;0, <br>
scalar localtime&quot;, the &quot;Oneliner&quot; allows one
to type in Perl code, and the &quot;Run&quot; opens a file
chooser for selecting a Perl file to run.</p>

<p style="margin-top: 1em">The PerlApp also is started when
the &quot;Perl recognizer&quot; (also included and
installed) detects a Perl file being activated through the
GUI, and offers either to install it under <br>
Perl (if the Perl file is in the inbox of the messaging
application) or to run it (if the Perl file is under
Perl).</p>

<p style="margin-top: 1em">sisify.pl <br>
In the symbian subdirectory there is sisify.pl utility which
can be used to package Perl scripts and/or Perl library
directories into SIS files, which can be installed to the
<br>
device. To run the sisify.pl utility, you will need to have
the &rsquo;makesis&rsquo; and &rsquo;uidcrc&rsquo; utilities
already installed. If you don&rsquo;t have the Win32 SDKs,
you may try for example <br>
&lt;http://gnupoc.sourceforge.net/&gt; or
&lt;http://symbianos.org/~andreh/&gt;.</p>

<p style="margin-top: 1em">Using Perl in Symbian <br>
First of all note that you have full access to the Symbian
device when using Perl: you can do a lot of damage to your
device (like removing system files) unless you are careful.
<br>
Please do take backups before doing anything.</p>

<p style="margin-top: 1em">The Perl port has been done for
the most part using the Symbian standard POSIX-ish STDLIB
library. It is a reasonably complete library, but certain
corners of such emulation <br>
libraries that tend to be left unimplemented on non-UNIX
platforms have been left unimplemented also this time:
fork(), signals(), user/group ids, select() working for
sockets, <br>
non-blocking sockets, and so forth. See the file
symbian/config.sh and look for &rsquo;undef&rsquo; to find
the unsupported APIs (or from Perl use Config).</p>

<p style="margin-top: 1em">The filesystem of Symbian
devices uses DOSish syntax, &quot;drives&quot; separated
from paths by a colon, and backslashes for the path. The
exact assignment of the drives probably varies <br>
between platforms, but for example in Series 60 you might
see C: as the (flash) main memory, D: as the RAM drive, E:
as the memory card (MMC), Z: as the ROM. In Series 80 D: is
<br>
the memory card. As far the devices go the NUL: is the bit
bucket, the COMx: are the serial lines, IRCOMx: are the IR
ports, TMP: might be C:temTemp. Remember to double <br>
those backslashes in doublequoted strings.</p>

<p style="margin-top: 1em">The Perl DLL is installed in
tems. The Perl libraries and extension DLLs are installed in
temsPerlZ. The PerlApp is installed in tem0s and the <br>
SIS also installs a couple of demo scripts in
Perl&nbsp;(C:docsPerl&nbsp;on Nokia 7710).</p>

<p style="margin-top: 1em">Note that the Symbian filesystem
is very picky: it strongly prefers the &nbsp;instead of the
/.</p>

<p style="margin-top: 1em">When doing XS / Symbian C++
programming include first the Symbian headers, then any
standard C/POSIX headers, then Perl headers, and finally any
application headers.</p>

<p style="margin-top: 1em">New() and Copy() are
unfortunately used by both Symbian and Perl code so
you&rsquo;ll have to play cpp games if you need them.
PerlBase.h undefines the Perl definitions and redefines <br>
them as PerlNew() and PerlCopy().</p>

<p style="margin-top: 1em">TO DO <br>
Lots. See symbian/TODO.</p>

<p style="margin-top: 1em">WARNING <br>
As of Perl Symbian port version 0.4.1 any part of
Perl&rsquo;s standard regression test suite has not been run
on a real Symbian device using the ported Perl, so
innumerable bugs may <br>
lie in wait. Therefore there is absolutely no warranty.</p>

<p style="margin-top: 1em">NOTE <br>
When creating and extending application programming
interfaces (APIs) for Symbian or Series 60 or Series 80 or
Series 90 it is suggested that trademarks, registered
trademarks, <br>
or trade names are not used in the API names. Instead,
developers should consider basing the API naming in the
existing (C++, or maybe Java) public component and API
naming, <br>
modified as appropriate by the rules of the programming
language the new APIs are for.</p>

<p style="margin-top: 1em">Nokia is a registered trademark
of Nokia Corporation. Nokia&rsquo;s product names are
trademarks or registered trademarks of Nokia. Other product
and company names mentioned herein <br>
may be trademarks or trade names of their respective
owners.</p>

<p style="margin-top: 1em">AUTHOR <br>
Jarkko Hietaniemi</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 2004-2005 Nokia. All rights reserved.</p>

<p style="margin-top: 1em">Copyright (c) 2006-2007 Jarkko
Hietaniemi.</p>

<p style="margin-top: 1em">LICENSE <br>
The Symbian port is licensed under the same terms as Perl
itself.</p>

<p style="margin-top: 1em">HISTORY <br>
&Acirc;&middot; 0.1.0: April 2005</p>

<p style="margin-top: 1em">(This will show as
&quot;0.01&quot; in the Symbian Installer.)</p>

<p style="margin-top: 1em">- The console window is a very
simple console indeed: one can <br>
get the newline with &quot;000&quot; and the &quot;C&quot;
button is a backspace. <br>
Do not expect a terminal capable of vt100 or ANSI sequences.
<br>
The console is also &quot;ASCII&quot;, you cannot input e.g.
any accented <br>
letters. Because of obvious physical constraints the console
is <br>
also very small: (in Nokia 6600) 22 columns, 17 rows. <br>
- The following libraries are available: <br>
AnyDBM_File AutoLoader base Carp Config Cwd constant <br>
DynaLoader Exporter File::Spec integer lib strict Symbol
<br>
vars warnings XSLoader <br>
- The following extensions are available: <br>
attributes Compress::Zlib Cwd Data::Dumper Devel::Peek
Digest::MD5 DynaLoader <br>
Fcntl File::Glob Filter::Util::Call IO List::Util
MIME::Base64 <br>
PerlIO::scalar PerlIO::via SDBM_File Socket Storable
Time::HiRes <br>
- The following extensions are missing for various technical
reasons: <br>
B ByteLoader Devel::DProf Devel::PPPort Encode GDBM_File
<br>
I18N::Langinfo IPC::SysV NDBM_File Opcode PerlIO::encoding
POSIX <br>
re Safe Sys::Hostname Sys::Syslog <br>
threads threads::shared Unicode::Normalize <br>
- Using MakeMaker or the Module::* to build and install
modules <br>
is not supported. <br>
- Building XS other than the ones in the core is not
supported.</p>

<p style="margin-top: 1em">Since this is 0.something
release, any future releases are almost guaranteed to be
binary incompatible. As a sign of this the Symbian symbol
exports are kept unfrozen and <br>
the .def files fully rebuilt every time.</p>

<p style="margin-top: 1em">&Acirc;&middot; 0.2.0: October
2005</p>

<p style="margin-top: 1em">- Perl 5.9.3 (patch level 25741)
<br>
- Compress::Zlib and IO::Zlib supported <br>
- sisify.pl added</p>

<p style="margin-top: 1em">We maintain the binary
incompatibility.</p>

<p style="margin-top: 1em">&Acirc;&middot; 0.3.0: October
2005</p>

<p style="margin-top: 1em">- Perl 5.9.3 (patch level 25911)
<br>
- Series 80 2.0 and UIQ 2.1 support</p>

<p style="margin-top: 1em">We maintain the binary
incompatibility.</p>

<p style="margin-top: 1em">&Acirc;&middot; 0.4.0: November
2005</p>

<p style="margin-top: 1em">- Perl 5.9.3 (patch level 26052)
<br>
- adding a sample Symbian extension</p>

<p style="margin-top: 1em">We maintain the binary
incompatibility.</p>

<p style="margin-top: 1em">&Acirc;&middot; 0.4.1: December
2006</p>

<p style="margin-top: 1em">- Perl 5.9.5-to-be (patch level
30002) <br>
- added extensions: Compress/Raw/Zlib, Digest/SHA, <br>
Hash/Util, Math/BigInt/FastCalc, Text/Soundex, Time/Piece
<br>
- port to S90 1.1 by alexander smishlajev</p>

<p style="margin-top: 1em">We maintain the binary
incompatibility.</p>

<p style="margin-top: 1em">&Acirc;&middot; 0.4.2: March
2007</p>

<p style="margin-top: 1em">- catchup with Perl 5.9.5-to-be
(patch level 30812) <br>
- tested to build with Microsoft Visual C++ 2005 Express
Edition <br>
(which uses Microsoft Visual C 8, instead of the old VC6),
<br>
SDK used for testing S60_2nd_FP3 aka 8.1a</p>

<p style="margin-top: 1em">We maintain the binary
incompatibility.</p>

<p style="margin-top: 1em">perl v5.16.3 2013-03-04
PERLSYMBIAN(1)</p>
<hr>
</body>
</html>
