<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:15 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PERLWIN32(1) Perl Programmers Reference Guide
PERLWIN32(1)</p>

<p style="margin-top: 1em">NAME <br>
perlwin32 - Perl under Windows</p>

<p style="margin-top: 1em">SYNOPSIS <br>
These are instructions for building Perl under Windows 2000
and later.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Before you start, you should glance through the README file
found in the top-level directory to which the Perl
distribution was extracted. Make sure you read and
understand the <br>
terms under which this software is being distributed.</p>

<p style="margin-top: 1em">Also make sure you read
&quot;BUGS AND CAVEATS&quot; below for the known limitations
of this port.</p>

<p style="margin-top: 1em">The INSTALL file in the perl
top-level has much information that is only relevant to
people building Perl on Unix-like systems. In particular,
you can safely ignore any <br>
information that talks about &quot;Configure&quot;.</p>

<p style="margin-top: 1em">You may also want to look at one
other option for building a perl that will work on Windows:
the README.cygwin file, which give a different set of rules
to build a perl for <br>
Windows. This method will probably enable you to build a
more Unix-compatible perl, but you will also need to
download and use various other build-time and run-time
support <br>
software described in that file.</p>

<p style="margin-top: 1em">This set of instructions is
meant to describe a so-called &quot;native&quot; port of
Perl to the Windows platform. This includes both 32-bit and
64-bit Windows operating systems. The <br>
resulting Perl requires no additional software to run (other
than what came with your operating system). Currently, this
port is capable of using one of the following compilers <br>
on the Intel x86 architecture:</p>

<p style="margin-top: 1em">Microsoft Visual C++ version 6.0
or later <br>
Gcc by mingw.org gcc version 3.2 or later <br>
Gcc by mingw-w64.sf.net gcc version 4.4.3 or later</p>

<p style="margin-top: 1em">Note that the last two of these
are actually competing projects both delivering complete gcc
toolchain for MS Windows:</p>

<p style="margin-top: 1em">&lt;http://mingw.org&gt; <br>
Delivers gcc toolchain targeting 32-bit Windows
platform.</p>

<p style="margin-top: 1em">http://mingw-w64.sf.net
&lt;http://mingw-w64.sf.net&gt; <br>
Delivers gcc toolchain targeting both 64-bit Windows and
32-bit Windows platforms (despite the project name
&quot;mingw-w64&quot; they are not only 64-bit oriented).
They deliver the <br>
native gcc compilers and cross-compilers that are also
supported by perl&rsquo;s makefile.</p>

<p style="margin-top: 1em">The Microsoft Visual C++
compilers are also now being given away free. They are
available as &quot;Visual C++ Toolkit 2003&quot; or
&quot;Visual C++ 2005/2008/2010 Express Edition&quot; (and
also as <br>
part of the &quot;.NET Framework SDK&quot;) and are the same
compilers that ship with &quot;Visual C++ .NET 2003
Professional&quot; or &quot;Visual C++ 2005/2008/2010
Professional&quot; respectively.</p>

<p style="margin-top: 1em">This port can also be built on
IA64/AMD64 using:</p>

<p style="margin-top: 1em">Microsoft Platform SDK Nov 2001
(64-bit compiler and tools) <br>
MinGW64 compiler (gcc version 4.4.3 or later)</p>

<p style="margin-top: 1em">The Windows SDK can be
downloaded from &lt;http://www.microsoft.com/&gt;. The
MinGW64 compiler is available at
http://sourceforge.net/projects/mingw-w64 <br>
&lt;http://sourceforge.net/projects/mingw-w64&gt;. The
latter is actually a cross-compiler targeting Win64.
There&rsquo;s also a trimmed down compiler (no java, or
gfortran) suitable for <br>
building perl available at:
&lt;http://strawberryperl.com/package/kmx/64_gcctoolchain/&gt;</p>

<p style="margin-top: 1em">NOTE: If you&rsquo;re using a
32-bit compiler to build perl on a 64-bit Windows operating
system, then you should set the WIN64 environment variable
to &quot;undef&quot;. Also, the trimmed down <br>
compiler only passes tests when USE_ITHREADS *= define (as
opposed to undef) and when the CFG *= Debug line is
commented out.</p>

<p style="margin-top: 1em">This port fully supports
MakeMaker (the set of modules that is used to build
extensions to perl). Therefore, you should be able to build
and install most extensions found in the <br>
CPAN sites. See &quot;Usage Hints for Perl on Windows&quot;
below for general hints about this.</p>

<p style="margin-top: 1em">Setting Up Perl on Windows <br>
Make <br>
You need a &quot;make&quot; program to build the sources. If
you are using Visual C++ or the Windows SDK tools, nmake
will work. Builds using the gcc need dmake.</p>

<p style="margin-top: 1em">dmake is a freely available make
that has very nice macro features and parallelability.</p>

<p style="margin-top: 1em">A port of dmake for Windows is
available from:</p>


<p style="margin-top: 1em">&lt;http://search.cpan.org/dist/dmake/&gt;</p>

<p style="margin-top: 1em">Fetch and install dmake
somewhere on your path.</p>

<p style="margin-top: 1em">Command Shell <br>
Use the default &quot;cmd&quot; shell that comes with
Windows. Some versions of the popular 4DOS/NT shell have
incompatibilities that may cause you trouble. If the build
fails under <br>
that shell, try building again with the cmd shell.</p>

<p style="margin-top: 1em">Make sure the path to the build
directory does not contain spaces. The build usually works
in this circumstance, but some tests will fail.</p>

<p style="margin-top: 1em">Microsoft Visual C++ <br>
The nmake that comes with Visual C++ will suffice for
building. You will need to run the VCVARS32.BAT file,
usually found somewhere like C:Program Filescrosoft Visual
<br>
Studio980s will set your build environment.</p>

<p style="margin-top: 1em">You can also use dmake to build
using Visual C++; provided, however, you set OSRELEASE to
&quot;microsft&quot; (or whatever the directory name under
which the Visual C dmake <br>
configuration lives) in your environment and edit
win32/config.vc to change &quot;make=nmake&quot; into
&quot;make=dmake&quot;. The latter step is only essential if
you want to use dmake as <br>
your default make for building extensions using
MakeMaker.</p>

<p style="margin-top: 1em">Microsoft Visual C++ 2008/2010
Express Edition <br>
These free versions of Visual C++ 2008/2010 Professional
contain the same compilers and linkers that ship with the
full versions, and also contain everything necessary to <br>
build Perl, rather than requiring a separate download of the
Windows SDK like previous versions did.</p>

<p style="margin-top: 1em">These packages can be downloaded
by searching in the Download Center at
&lt;http://www.microsoft.com/downloads/search.aspx?displaylang=en&gt;.
(Providing exact links to these <br>
packages has proven a pointless task because the links keep
on changing so often.)</p>

<p style="margin-top: 1em">Install Visual C++ 2008/2010
Express, then setup your environment using, e.g.</p>

<p style="margin-top: 1em">C:Program Filescrosoft Visual
Studio 10.0n7Toolsars32.bat</p>

<p style="margin-top: 1em">(assuming the default
installation location was chosen).</p>

<p style="margin-top: 1em">Perl should now build using the
win32/Makefile. You will need to edit that file to set
CCTYPE to MSVC90FREE or MSVC100FREE first.</p>

<p style="margin-top: 1em">Microsoft Visual C++ 2005
Express Edition <br>
This free version of Visual C++ 2005 Professional contains
the same compiler and linker that ship with the full
version, but doesn&rsquo;t contain everything necessary to
build <br>
Perl.</p>

<p style="margin-top: 1em">You will also need to download
the &quot;Windows SDK&quot; (the &quot;Core SDK&quot; and
&quot;MDAC SDK&quot; components are required) for more
header files and libraries.</p>

<p style="margin-top: 1em">These packages can both be
downloaded by searching in the Download Center at
&lt;http://www.microsoft.com/downloads/search.aspx?displaylang=en&gt;.
(Providing exact links to these <br>
packages has proven a pointless task because the links keep
on changing so often.)</p>

<p style="margin-top: 1em">Try to obtain the latest version
of the Windows SDK. Sometimes these packages contain a
particular Windows OS version in their name, but actually
work on other OS versions <br>
too. For example, the &quot;Windows Server 2003 R2 Platform
SDK&quot; also runs on Windows XP SP2 and Windows 2000.</p>

<p style="margin-top: 1em">Install Visual C++ 2005 first,
then the Platform SDK. Setup your environment as follows
(assuming default installation locations were chosen):</p>

<p style="margin-top: 1em">SET PlatformSDKDir=C:Program
Filescrosoft Platform SDK</p>

<p style="margin-top: 1em">SET
PATH=%SystemRoot%tem32;%SystemRoot%;C:Program Filescrosoft
Visual Studio 8n7IDE;C:Program Filescrosoft Visual Studio
80</p>

<p style="margin-top: 1em">SET INCLUDE=C:Program
Filescrosoft Visual Studio
8INCLUDE;%PlatformSDKDir%include</p>

<p style="margin-top: 1em">SET LIB=C:Program Filescrosoft
Visual Studio 8;C:Program Filescrosoft Visual Studio
8.0;%PlatformSDKDir%</p>

<p style="margin-top: 1em">SET
LIBPATH=C:WINDOWScrosoft.NETamework.0.50727</p>

<p style="margin-top: 1em">(The PlatformSDKDir might need
to be set differently depending on which version you are
using. Earlier versions installed into &quot;C:Program
Filescrosoft SDK&quot;, while the <br>
latest versions install into version-specific locations such
as &quot;C:Program Filescrosoft Platform SDK for Windows
Server 2003 R2&quot;.)</p>

<p style="margin-top: 1em">Perl should now build using the
win32/Makefile. You will need to edit that file to set</p>

<p style="margin-top: 1em">CCTYPE = MSVC80FREE</p>

<p style="margin-top: 1em">and to set CCHOME, CCINCDIR and
CCLIBDIR as per the environment setup above.</p>

<p style="margin-top: 1em">Microsoft Visual C++ Toolkit
2003 <br>
This free toolkit contains the same compiler and linker that
ship with Visual C++ .NET 2003 Professional, but
doesn&rsquo;t contain everything necessary to build
Perl.</p>

<p style="margin-top: 1em">You will also need to download
the &quot;Platform SDK&quot; (the &quot;Core SDK&quot; and
&quot;MDAC SDK&quot; components are required) for header
files, libraries and rc.exe, and &quot;.NET Framework
SDK&quot; for <br>
more libraries and nmake.exe. Note that the latter (which
also includes the free compiler and linker) requires the
&quot;.NET Framework Redistributable&quot; to be installed
first. <br>
This can be downloaded and installed separately, but is
included in the &quot;Visual C++ Toolkit 2003&quot;
anyway.</p>

<p style="margin-top: 1em">These packages can all be
downloaded by searching in the Download Center at
&lt;http://www.microsoft.com/downloads/search.aspx?displaylang=en&gt;.
(Providing exact links to these <br>
packages has proven a pointless task because the links keep
on changing so often.)</p>

<p style="margin-top: 1em">Try to obtain the latest version
of the Windows SDK. Sometimes these packages contain a
particular Windows OS version in their name, but actually
work on other OS versions <br>
too. For example, the &quot;Windows Server 2003 R2 Platform
SDK&quot; also runs on Windows XP SP2 and Windows 2000.</p>

<p style="margin-top: 1em">Install the Toolkit first, then
the Platform SDK, then the .NET Framework SDK. Setup your
environment as follows (assuming default installation
locations were chosen):</p>

<p style="margin-top: 1em">SET PlatformSDKDir=C:Program
Filescrosoft Platform SDK</p>

<p style="margin-top: 1em">SET
PATH=%SystemRoot%tem32;%SystemRoot%;C:Program Filescrosoft
Visual n ; % P l a t C++ Toolkit 2003fr%0lescrosoft.NET.10 o
r m S D K D</p>

<p style="margin-top: 1em">SET INCLUDE=C:Program
Filescrosoft Visual C++ Toolkit
2003include;%PlatformSDKDir%include;C:Program Filescrosoft
Visual Studio .NET 20037include</p>

<p style="margin-top: 1em">SET LIB=C:Program Filescrosoft
Visual C++ Toolkit 2003;%PlatformSDKDir%;C:Program
Filescrosoft Visual Studio .NET 20037</p>

<p style="margin-top: 1em">(The PlatformSDKDir might need
to be set differently depending on which version you are
using. Earlier versions installed into &quot;C:Program
Filescrosoft SDK&quot;, while the <br>
latest versions install into version-specific locations such
as &quot;C:Program Filescrosoft Platform SDK for Windows
Server 2003 R2&quot;.)</p>

<p style="margin-top: 1em">Several required files will
still be missing:</p>

<p style="margin-top: 1em">&Acirc;&middot; cvtres.exe is
required by link.exe when using a .res file. It is actually
installed by the .NET Framework SDK, but into a location
such as the following:</p>


<p style="margin-top: 1em">C:WINDOWScrosoft.NETamework.1.4322</p>

<p style="margin-top: 1em">Copy it from there to
%PlatformSDKDir%0</p>

<p style="margin-top: 1em">&Acirc;&middot; lib.exe is
normally used to build libraries, but link.exe with the /lib
option also works, so change win32/config.vc to use it
instead:</p>

<p style="margin-top: 1em">Change the line reading:</p>

<p style="margin-top: 1em">ar=&rsquo;lib&rsquo;</p>

<p style="margin-top: 1em">to:</p>

<p style="margin-top: 1em">ar=&rsquo;link /lib&rsquo;</p>

<p style="margin-top: 1em">It may also be useful to create
a batch file called lib.bat in C:Program Filescrosoft Visual
C++ Toolkit n c o 2003nning: t a</p>

<p style="margin-top: 1em">@echo off <br>
link /lib %*</p>

<p style="margin-top: 1em">for the benefit of any naughty C
extension modules that you might want to build later which
explicitly reference &quot;lib&quot; rather than taking
their value from $Config{ar}.</p>

<p style="margin-top: 1em">&Acirc;&middot; setargv.obj is
required to build perlglob.exe (and perl.exe if the
USE_SETARGV option is enabled). The Platform SDK supplies
this object file in source form in <br>
%PlatformSDKDir% <br>
cl.exe /c /I. /D_CRTBLD setargv.c</p>

<p style="margin-top: 1em">Then copy setargv.obj to
%PlatformSDKDir%</p>

<p style="margin-top: 1em">Alternatively, if you
don&rsquo;t need perlglob.exe and don&rsquo;t need to enable
the USE_SETARGV option then you can safely just remove all
mention of $(GLOBEXE) from <br>
win32/Makefile and setargv.obj won&rsquo;t be required
anyway.</p>

<p style="margin-top: 1em">Perl should now build using the
win32/Makefile. You will need to edit that file to set</p>

<p style="margin-top: 1em">CCTYPE = MSVC70FREE</p>

<p style="margin-top: 1em">and to set CCHOME, CCINCDIR and
CCLIBDIR as per the environment setup above.</p>

<p style="margin-top: 1em">Microsoft Platform SDK 64-bit
Compiler <br>
The nmake that comes with the Platform SDK will suffice for
building Perl. Make sure you are building within one of the
&quot;Build Environment&quot; shells available after you
<br>
install the Platform SDK from the Start Menu.</p>

<p style="margin-top: 1em">MinGW release 3 with gcc <br>
Perl can be compiled with gcc from MinGW release 3 and later
(using gcc 3.2.x and later). It can be downloaded here:</p>


<p style="margin-top: 1em">&lt;http://www.mingw.org/&gt;</p>

<p style="margin-top: 1em">You also need dmake. See
&quot;Make&quot; above on how to get it.</p>

<p style="margin-top: 1em">Building <br>
&Acirc;&middot; Make sure you are in the &quot;win32&quot;
subdirectory under the perl toplevel. This directory
contains a &quot;Makefile&quot; that will work with versions
of nmake that come with Visual C++ <br>
or the Windows SDK, and a dmake &quot;makefile.mk&quot; that
will work for all supported compilers. The defaults in the
dmake makefile are setup to build using MinGW/gcc.</p>

<p style="margin-top: 1em">&Acirc;&middot; Edit the
makefile.mk (or Makefile, if you&rsquo;re using nmake) and
change the values of INST_DRV and INST_TOP. You can also
enable various build flags. These are explained in <br>
the makefiles.</p>

<p style="margin-top: 1em">Note that it is generally not a
good idea to try to build a perl with INST_DRV and INST_TOP
set to a path that already exists from a previous build. In
particular, this may <br>
cause problems with the lib/ExtUtils/t/Embed.t test, which
attempts to build a test program and may end up building
against the installed perl&rsquo;s lib/CORE directory rather
<br>
than the one being tested.</p>

<p style="margin-top: 1em">You will have to make sure that
CCTYPE is set correctly and that CCHOME points to wherever
you installed your compiler.</p>

<p style="margin-top: 1em">If building with the
cross-compiler provided by mingw-w64.sourceforge.net
you&rsquo;ll need to uncomment the line that sets GCCCROSS
in the makefile.mk. Do this only if it&rsquo;s the <br>
cross-compiler - ie only if the bin folder doesn&rsquo;t
contain a gcc.exe. (The cross-compiler does not provide a
gcc.exe, g++.exe, ar.exe, etc. Instead, all of these
executables <br>
are prefixed with &rsquo;x86_64-w64-mingw32-&rsquo;.)</p>

<p style="margin-top: 1em">The default value for CCHOME in
the makefiles for Visual C++ may not be correct for some
versions. Make sure the default exists and is valid.</p>

<p style="margin-top: 1em">You may also need to comment out
the &quot;DELAYLOAD = ...&quot; line in the Makefile if
you&rsquo;re using VC++ 6.0 without the latest service pack
and the linker reports an internal error.</p>

<p style="margin-top: 1em">If you want build some core
extensions statically into perl&rsquo;s dll, specify them in
the STATIC_EXT macro.</p>

<p style="margin-top: 1em">Be sure to read the instructions
near the top of the makefiles carefully.</p>

<p style="margin-top: 1em">&Acirc;&middot; Type
&quot;dmake&quot; (or &quot;nmake&quot; if you are using
that make).</p>

<p style="margin-top: 1em">This should build everything.
Specifically, it will create perl.exe, perl516.dll at the
perl toplevel, and various other extension dll&rsquo;s under
the libuto directory. If <br>
the build fails for any reason, make sure you have done the
previous steps correctly.</p>

<p style="margin-top: 1em">Testing Perl on Windows <br>
Type &quot;dmake test&quot; (or &quot;nmake test&quot;).
This will run most of the tests from the testsuite (many
tests will be skipped).</p>

<p style="margin-top: 1em">There should be no test
failures.</p>

<p style="margin-top: 1em">Some test failures may occur if
you use a command shell other than the native
&quot;cmd.exe&quot;, or if you are building from a path that
contains spaces. So don&rsquo;t do that.</p>

<p style="margin-top: 1em">If you are running the tests
from a emacs shell window, you may see failures in
op/stat.t. Run &quot;dmake test-notty&quot; in that
case.</p>

<p style="margin-top: 1em">If you run the tests on a FAT
partition, you may see some failures for &quot;link()&quot;
related tests (op/write.t, op/stat.t ...). Testing on NTFS
avoids these errors.</p>

<p style="margin-top: 1em">Furthermore, you should make
sure that during &quot;make test&quot; you do not have any
GNU tool packages in your path: some toolkits like Unixutils
include some tools (&quot;type&quot; for <br>
instance) which override the Windows ones and makes tests
fail. Remove them from your path while testing to avoid
these errors.</p>

<p style="margin-top: 1em">Please report any other failures
as described under &quot;BUGS AND CAVEATS&quot;.</p>

<p style="margin-top: 1em">Installation of Perl on Windows
<br>
Type &quot;dmake install&quot; (or &quot;nmake
install&quot;). This will put the newly built perl and the
libraries under whatever &quot;INST_TOP&quot; points to in
the Makefile. It will also install the <br>
pod documentation under &quot;$INST_TOPNST_VERod&quot; and
HTML versions of the same under
&quot;$INST_TOPNST_VERodl&quot;.</p>

<p style="margin-top: 1em">To use the Perl you just
installed you will need to add a n &quot; , new entry to
your PATH environment variable: &quot;$INST_TOPe . g . n ; %
P</p>

<p style="margin-top: 1em">set PATH=c:erlA T H %</p>

<p style="margin-top: 1em">If you opted to uncomment
&quot;INST_VER&quot; and &quot;INST_ARCH&quot; in the
makefile then the installation structure is a little more
complicated and you will need to add two new PATH components
n &quot; a n d &quot; $ I N S T <br>
instead: &quot;$INST_TOPNST_VER_ T O P N S T _ V E R n ; c :
e r l 5 . 6 . 0 n</p>

<p style="margin-top: 1em">set PATH=c:erl5.6.03 2 - x 8 6 ;
% P A T H %</p>

<p style="margin-top: 1em">Usage Hints for Perl on Windows
<br>
Environment Variables <br>
The installation paths that you set during the build get
compiled into perl, so you don&rsquo;t have to do anything
additional to start using that perl (except add its location
to <br>
your PATH variable).</p>

<p style="margin-top: 1em">If you put extensions in unusual
places, you can set PERL5LIB to a list of paths separated by
semicolons where you want perl to look for libraries. Look
for descriptions of <br>
other environment variables you can set in perlrun.</p>

<p style="margin-top: 1em">You can also control the shell
that perl uses to run system() and backtick commands via
PERL5SHELL. See perlrun.</p>

<p style="margin-top: 1em">Perl does not depend on the
registry, but it can look up certain default values if you
choose to put them there. Perl attempts to read entries from
<br>
&quot;HKEY_CURRENT_USERtwarePerl&quot; and
&quot;HKEY_LOCAL_MACHINEtwarePerl&quot;. Entries in the
former override entries in the latter. One or more of the
following entries (of <br>
type REG_SZ or REG_EXPAND_SZ) may be set:</p>

<p style="margin-top: 1em">lib-$] version-specific standard
library path to add to @INC <br>
lib standard library path to add to @INC <br>
sitelib-$] version-specific site library path to add to @INC
<br>
sitelib site library path to add to @INC <br>
vendorlib-$] version-specific vendor library path to add to
@INC <br>
vendorlib vendor library path to add to @INC <br>
PERL* fallback for all %ENV lookups that begin with
&quot;PERL&quot;</p>

<p style="margin-top: 1em">Note the $] in the above is not
literal. Substitute whatever version of perl you want to
honor that entry, e.g. 5.6.0. Paths must be separated with
semicolons, as usual on <br>
Windows.</p>

<p style="margin-top: 1em">File Globbing <br>
By default, perl handles file globbing using the File::Glob
extension, which provides portable globbing.</p>

<p style="margin-top: 1em">If you want perl to use globbing
that emulates the quirks of DOS filename conventions, you
might want to consider using File::DosGlob to override the
internal glob() <br>
implementation. See File::DosGlob for details.</p>

<p style="margin-top: 1em">Using perl from the command line
<br>
If you are accustomed to using perl from various
command-line shells found in UNIX environments, you will be
less than pleased with what Windows offers by way of a
command <br>
shell.</p>

<p style="margin-top: 1em">The crucial thing to understand
about the Windows environment is that the command line you
type in is processed twice before Perl sees it. First, your
command shell (usually <br>
CMD.EXE) preprocesses the command line, to handle
redirection, environment variable expansion, and location of
the executable to run. Then, the perl executable splits the
<br>
remaining command line into individual arguments, using the
C runtime library upon which Perl was built.</p>

<p style="margin-top: 1em">It is particularly important to
note that neither the shell nor the C runtime do any
wildcard expansions of command-line arguments (so wildcards
need not be quoted). Also, <br>
the quoting behaviours of the shell and the C runtime are
rudimentary at best (and may, if you are using a
non-standard shell, be inconsistent). The only (useful)
quote <br>
character is the double quote (&quot;). It can be used to
protect spaces and other special characters in
arguments.</p>

<p style="margin-top: 1em">The Windows documentation
describes the shell parsing rules here:
http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/cmd.mspx?mfr=true
<br>

&lt;http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/cmd.mspx?mfr=true&gt;
and the C runtime parsing rules here: <br>

http://msdn.microsoft.com/en-us/library/17w5ykft%28v=VS.100%29.aspx
&lt;http://msdn.microsoft.com/en-us/library/17w5ykft%28v=VS.100%29.aspx&gt;.</p>

<p style="margin-top: 1em">Here are some further
observations based on experiments: The C runtime breaks
arguments at spaces and passes them to programs in
argc/argv. Double quotes can be used to <br>
prevent arguments with spaces in them from being split up.
You can put a double quote in an argument by escaping it
with a backslash and enclosing the whole argument within
<br>
double quotes. The backslash and the pair of double quotes
surrounding the argument will be stripped by the C
runtime.</p>

<p style="margin-top: 1em">The file redirection characters
&quot;&lt;&quot;, &quot;&gt;&quot;, and &quot;|&quot; can be
quoted by double quotes (although there are suggestions that
this may not always be true). Single quotes are not <br>
treated as quotes by the shell or the C runtime, they
don&rsquo;t get stripped by the shell (just to make this
type of quoting completely useless). The caret &quot;^&quot;
has also been <br>
observed to behave as a quoting character, but this appears
to be a shell feature, and the caret is not stripped from
the command line, so Perl still sees it (and the C <br>
runtime phase does not treat the caret as a quote
character).</p>

<p style="margin-top: 1em">Here are some examples of usage
of the &quot;cmd&quot; shell:</p>

<p style="margin-top: 1em">This prints two
doublequotes:</p>

<p style="margin-top: 1em">perl -e &quot;print &rsquo;</p>

<p style="margin-top: 1em">This does the same:</p>

<p style="margin-top: 1em">perl -e &quot;print</p>

<p style="margin-top: 1em">This prints &quot;bar&quot; and
writes &quot;foo&quot; to the file &quot;blurch&quot;:</p>

<p style="margin-top: 1em">perl -e &quot;print
&rsquo;foo&rsquo;; print STDERR &rsquo;bar&rsquo;&quot; &gt;
blurch</p>

<p style="margin-top: 1em">This prints &quot;foo&quot;
(&quot;bar&quot; disappears into nowhereland):</p>

<p style="margin-top: 1em">perl -e &quot;print
&rsquo;foo&rsquo;; print STDERR &rsquo;bar&rsquo;&quot;
2&gt; nul</p>

<p style="margin-top: 1em">This prints &quot;bar&quot; and
writes &quot;foo&quot; into the file &quot;blurch&quot;:</p>

<p style="margin-top: 1em">perl -e &quot;print
&rsquo;foo&rsquo;; print STDERR &rsquo;bar&rsquo;&quot;
1&gt; blurch</p>

<p style="margin-top: 1em">This pipes &quot;foo&quot; to
the &quot;less&quot; pager and prints &quot;bar&quot; on the
console:</p>

<p style="margin-top: 1em">perl -e &quot;print
&rsquo;foo&rsquo;; print STDERR &rsquo;bar&rsquo;&quot; |
less</p>

<p style="margin-top: 1em">This pipes &quot;foo0ar0 to the
less pager:</p>

<p style="margin-top: 1em">perl -le &quot;print
&rsquo;foo&rsquo;; print STDERR &rsquo;bar&rsquo;&quot;
2&gt;&amp;1 | less</p>

<p style="margin-top: 1em">This pipes &quot;foo&quot; to
the pager and writes &quot;bar&quot; in the file
&quot;blurch&quot;:</p>

<p style="margin-top: 1em">perl -e &quot;print
&rsquo;foo&rsquo;; print STDERR &rsquo;bar&rsquo;&quot;
2&gt; blurch | less</p>

<p style="margin-top: 1em">Discovering the usefulness of
the &quot;command.com&quot; shell on Windows 9x is left as
an exercise to the reader :)</p>

<p style="margin-top: 1em">One particularly pernicious
problem with the 4NT command shell for Windows is that it
(nearly) always treats a % character as indicating that
environment variable expansion <br>
is needed. Under this shell, it is therefore important to
always double any % characters which you want Perl to see
(for example, for hash variables), even when they are <br>
quoted.</p>

<p style="margin-top: 1em">Building Extensions <br>
The Comprehensive Perl Archive Network (CPAN) offers a
wealth of extensions, some of which require a C compiler to
build. Look in &lt;http://www.cpan.org/&gt; for more
information <br>
on CPAN.</p>

<p style="margin-top: 1em">Note that not all of the
extensions available from CPAN may work in the Windows
environment; you should check the information at
&lt;http://testers.cpan.org/&gt; before investing <br>
too much effort into porting modules that don&rsquo;t
readily build.</p>

<p style="margin-top: 1em">Most extensions (whether they
require a C compiler or not) can be built, tested and
installed with the standard mantra:</p>

<p style="margin-top: 1em">perl Makefile.PL <br>
$MAKE <br>
$MAKE test <br>
$MAKE install</p>

<p style="margin-top: 1em">where $MAKE is whatever
&rsquo;make&rsquo; program you have configured perl to use.
Use &quot;perl -V:make&quot; to find out what this is. Some
extensions may not provide a testsuite (so &quot;$MAKE <br>
test&quot; may not do anything or fail), but most serious
ones do.</p>

<p style="margin-top: 1em">It is important that you use a
supported &rsquo;make&rsquo; program, and ensure Config.pm
knows about it. If you don&rsquo;t have nmake, you can
either get dmake from the location mentioned <br>
earlier or get an old version of nmake reportedly available
from:</p>


<p style="margin-top: 1em">http://download.microsoft.com/download/vc15/Patch/1.52/W95/EN-US/nmake15.exe
&lt;http://download.microsoft.com/download/vc15/Patch/1.52/W95/EN-US/nmake15.exe&gt;</p>

<p style="margin-top: 1em">Another option is to use the
make written in Perl, available from CPAN.</p>


<p style="margin-top: 1em">http://www.cpan.org/modules/by-module/Make/
&lt;http://www.cpan.org/modules/by-module/Make/&gt;</p>

<p style="margin-top: 1em">You may also use dmake. See
&quot;Make&quot; above on how to get it.</p>

<p style="margin-top: 1em">Note that MakeMaker actually
emits makefiles with different syntax depending on what
&rsquo;make&rsquo; it thinks you are using. Therefore, it is
important that one of the following <br>
values appears in Config.pm:</p>

<p style="margin-top: 1em">make=&rsquo;nmake&rsquo; #
MakeMaker emits nmake syntax <br>
make=&rsquo;dmake&rsquo; # MakeMaker emits dmake syntax <br>
any other value # MakeMaker emits generic make syntax <br>
(e.g GNU make, or Perl make)</p>

<p style="margin-top: 1em">If the value doesn&rsquo;t match
the &rsquo;make&rsquo; program you want to use, edit
Config.pm to fix it.</p>

<p style="margin-top: 1em">If a module implements XSUBs,
you will need one of the supported C compilers. You must
make sure you have set up the environment for the compiler
for command-line <br>
compilation.</p>

<p style="margin-top: 1em">If a module does not build for
some reason, look carefully for why it failed, and report
problems to the module author. If it looks like the
extension building support is at <br>
fault, report that with full details of how the build failed
using the perlbug utility.</p>

<p style="margin-top: 1em">Command-line Wildcard Expansion
<br>
The default command shells on DOS descendant operating
systems (such as they are) usually do not expand wildcard
arguments supplied to programs. They consider it the <br>
application&rsquo;s job to handle that. This is commonly
achieved by linking the application (in our case, perl) with
startup code that the C runtime libraries usually provide.
<br>
However, doing that results in incompatible perl versions
(since the behavior of the argv expansion code differs
depending on the compiler, and it is even buggy on some <br>
compilers). Besides, it may be a source of frustration if
you use such a perl binary with an alternate shell that
*does* expand wildcards.</p>

<p style="margin-top: 1em">Instead, the following solution
works rather well. The nice things about it are 1) you can
start using it right away; 2) it is more powerful, because
it will do the right <br>
thing with a pattern like */*/*.c; 3) you can decide whether
you do/don&rsquo;t want to use it; and 4) you can extend the
method to add any customizations (or even entirely <br>
different kinds of wildcard expansion).</p>

<p style="margin-top: 1em">C:&gt; copy con c:erlWild.pm
<br>
# Wild.pm - emulate shell @ARGV expansion on shells that
don&rsquo;t <br>
use File::DosGlob; <br>
@ARGV = map { <br>
my @g = File::DosGlob::glob($_) if /[*?]/; <br>
@g ? @g : $_; <br>
} @ARGV; <br>
1; <br>
^Z <br>
C:&gt; set PERL5OPT=-MWild <br>
C:&gt; perl -le &quot;for (@ARGV) { print }&quot;
*/*/perl*.c <br>
p4view/perl/perl.c <br>
p4view/perl/perlio.c <br>
p4view/perl/perly.c <br>
perl5.005/win32/perlglob.c <br>
perl5.005/win32/perllib.c <br>
perl5.005/win32/perlglob.c <br>
perl5.005/win32/perllib.c <br>
perl5.005/win32/perlglob.c <br>
perl5.005/win32/perllib.c</p>

<p style="margin-top: 1em">Note there are two distinct
steps there: 1) You&rsquo;ll have to create Wild.pm and put
it in your perl lib directory. 2) You&rsquo;ll need to set
the PERL5OPT environment variable. If <br>
you want argv expansion to be the default, just set PERL5OPT
in your default startup environment.</p>

<p style="margin-top: 1em">If you are using the Visual C
compiler, you can get the C runtime&rsquo;s command line
wildcard expansion built into perl binary. The resulting
binary will always expand unquoted <br>
command lines, which may not be what you want if you use a
shell that does that for you. The expansion done is also
somewhat less powerful than the approach suggested
above.</p>

<p style="margin-top: 1em">Notes on 64-bit Windows <br>
Windows .NET Server supports the LLP64 data model on the
Intel Itanium architecture.</p>

<p style="margin-top: 1em">The LLP64 data model is
different from the LP64 data model that is the norm on
64-bit Unix platforms. In the former, &quot;int&quot; and
&quot;long&quot; are both 32-bit data types, while <br>
pointers are 64 bits wide. In addition, there is a separate
64-bit wide integral type, &quot;__int64&quot;. In contrast,
the LP64 data model that is pervasive on Unix platforms <br>
provides &quot;int&quot; as the 32-bit type, while both the
&quot;long&quot; type and pointers are of 64-bit precision.
Note that both models provide for 64-bits of
addressability.</p>

<p style="margin-top: 1em">64-bit Windows running on
Itanium is capable of running 32-bit x86 binaries
transparently. This means that you could use a 32-bit build
of Perl on a 64-bit system. Given <br>
this, why would one want to build a 64-bit build of Perl?
Here are some reasons why you would bother:</p>

<p style="margin-top: 1em">&Acirc;&middot; A 64-bit native
application will run much more efficiently on Itanium
hardware.</p>

<p style="margin-top: 1em">&Acirc;&middot; There is no 2GB
limit on process size.</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl
automatically provides large file support when built under
64-bit Windows.</p>

<p style="margin-top: 1em">&Acirc;&middot; Embedding Perl
inside a 64-bit application.</p>

<p style="margin-top: 1em">Running Perl Scripts <br>
Perl scripts on UNIX use the &quot;#!&quot; (a.k.a
&quot;shebang&quot;) line to indicate to the OS that it
should execute the file using perl. Windows has no
comparable means to indicate arbitrary <br>
files are executables.</p>

<p style="margin-top: 1em">Instead, all available methods
to execute plain text files on Windows rely on the file
&quot;extension&quot;. There are three methods to use this
to execute perl scripts:</p>

<p style="margin-top: 1em">1. There is a facility called
&quot;file extension associations&quot;. This can be
manipulated via the two commands &quot;assoc&quot; and
&quot;ftype&quot; that come standard with Windows. Type
&quot;ftype <br>
/?&quot; for a complete example of how to set this up for
perl scripts (Say what? You thought Windows wasn&rsquo;t
perl-ready? :).</p>

<p style="margin-top: 1em">2. Since file associations
don&rsquo;t work everywhere, and there are reportedly bugs
with file associations where it does work, the old method of
wrapping the perl script to make <br>
it look like a regular batch file to the OS, may be used.
The install process makes available the
&quot;pl2bat.bat&quot; script which can be used to wrap perl
scripts into batch <br>
files. For example:</p>

<p style="margin-top: 1em">pl2bat foo.pl</p>

<p style="margin-top: 1em">will create the file
&quot;FOO.BAT&quot;. Note &quot;pl2bat&quot; strips any .pl
suffix and adds a .bat suffix to the generated file.</p>

<p style="margin-top: 1em">If you use the 4DOS/NT or
similar command shell, note that &quot;pl2bat&quot; uses the
&quot;%*&quot; variable in the generated batch file to refer
to all the command line arguments, so you <br>
may need to make sure that construct works in batch files.
As of this writing, 4DOS/NT users will need a
&quot;ParameterChar = *&quot; statement in their 4NT.INI
file or will need <br>
to execute &quot;setdos /p*&quot; in the 4DOS/NT startup
file to enable this to work.</p>

<p style="margin-top: 1em">3. Using &quot;pl2bat&quot; has
a few problems: the file name gets changed, so scripts that
rely on $0 to find what they must do may not run properly;
running &quot;pl2bat&quot; replicates the <br>
contents of the original script, and so this process can be
maintenance intensive if the originals get updated often. A
different approach that avoids both problems is <br>
possible.</p>

<p style="margin-top: 1em">A script called
&quot;runperl.bat&quot; is available that can be copied to
any filename (along with the .bat suffix). For example, if
you call it &quot;foo.bat&quot;, it will run the file <br>
&quot;foo&quot; when it is executed. Since you can run batch
files on Windows platforms simply by typing the name
(without the extension), this effectively runs the file
&quot;foo&quot;, <br>
when you type either &quot;foo&quot; or &quot;foo.bat&quot;.
With this method, &quot;foo.bat&quot; can even be in a
different location than the file &quot;foo&quot;, as long as
&quot;foo&quot; is available somewhere on <br>
the PATH. If your scripts are on a filesystem that allows
symbolic links, you can even avoid copying
&quot;runperl.bat&quot;.</p>

<p style="margin-top: 1em">Here&rsquo;s a diversion: copy
&quot;runperl.bat&quot; to &quot;runperl&quot;, and type
&quot;runperl&quot;. Explain the observed behavior, or lack
thereof. :) Hint: .gnidnats llits er&rsquo;uoy fi
,&quot;lrepnur&quot; <br>
eteled :tniH</p>

<p style="margin-top: 1em">Miscellaneous Things <br>
A full set of HTML documentation is installed, so you should
be able to use it if you have a web browser installed on
your system.</p>

<p style="margin-top: 1em">&quot;perldoc&quot; is also a
useful tool for browsing information contained in the
documentation, especially in conjunction with a pager like
&quot;less&quot; (recent versions of which have Windows <br>
support). You may have to set the PAGER environment variable
to use a specific pager. &quot;perldoc -f foo&quot; will
print information about the perl operator
&quot;foo&quot;.</p>

<p style="margin-top: 1em">One common mistake when using
this port with a GUI library like &quot;Tk&quot; is assuming
that Perl&rsquo;s normal behavior of opening a command-line
window will go away. This isn&rsquo;t the case. <br>
If you want to start a copy of &quot;perl&quot; without
opening a command-line window, use the &quot;wperl&quot;
executable built during the installation process. Usage is
exactly the same as <br>
normal &quot;perl&quot; on Windows, except that options like
&quot;-h&quot; don&rsquo;t work (since they need a
command-line window to print to).</p>

<p style="margin-top: 1em">If you find bugs in perl, you
can run &quot;perlbug&quot; to create a bug report (you may
have to send it manually if &quot;perlbug&quot; cannot find
a mailer on your system).</p>

<p style="margin-top: 1em">BUGS AND CAVEATS <br>
Norton AntiVirus interferes with the build process,
particularly if set to &quot;AutoProtect, All Files, when
Opened&quot;. Unlike large applications the perl build
process opens and <br>
modifies a lot of files. Having the the AntiVirus scan each
and every one slows build the process significantly. Worse,
with PERLIO=stdio the build process fails with peculiar <br>
messages as the virus checker interacts badly with
miniperl.exe writing configure files (it seems to either
catch file part written and treat it as suspicious, or virus
checker <br>
may have it &quot;locked&quot; in a way which inhibits
miniperl updating it). The build does complete with</p>

<p style="margin-top: 1em">set PERLIO=perlio</p>

<p style="margin-top: 1em">but that may be just luck. Other
AntiVirus software may have similar issues.</p>

<p style="margin-top: 1em">Some of the built-in functions
do not act exactly as documented in perlfunc, and a few are
not implemented at all. To avoid surprises, particularly if
you have had prior <br>
exposure to Perl in other operating environments or if you
intend to write code that will be portable to other
environments, see perlport for a reasonably definitive list
of <br>
these differences.</p>

<p style="margin-top: 1em">Not all extensions available
from CPAN may build or work properly in the Windows
environment. See &quot;Building Extensions&quot;.</p>

<p style="margin-top: 1em">Most &quot;socket()&quot;
related calls are supported, but they may not behave as on
Unix platforms. See perlport for the full list.</p>

<p style="margin-top: 1em">Signal handling may not behave
as on Unix platforms (where it doesn&rsquo;t exactly
&quot;behave&quot;, either :). For instance, calling
&quot;die()&quot; or &quot;exit()&quot; from signal handlers
will cause an <br>
exception, since most implementations of
&quot;signal()&quot; on Windows are severely crippled. Thus,
signals may work only for simple things like setting a flag
variable in the handler. <br>
Using signals under this port should currently be considered
unsupported.</p>

<p style="margin-top: 1em">Please send detailed
descriptions of any problems and solutions that you may find
to &lt;perlbug@perl.org&gt;, along with the output produced
by &quot;perl -V&quot;.</p>

<p style="margin-top: 1em">ACKNOWLEDGEMENTS <br>
The use of a camel with the topic of Perl is a trademark of
O&rsquo;Reilly and Associates, Inc. Used with
permission.</p>

<p style="margin-top: 1em">AUTHORS <br>
Gary Ng &lt;71564.1743@CompuServe.COM&gt; <br>
Gurusamy Sarathy &lt;gsar@activestate.com&gt; <br>
Nick Ing-Simmons &lt;nick@ing-simmons.net&gt; <br>
Jan Dubois &lt;jand@activestate.com&gt; <br>
Steve Hay &lt;steve.m.hay@googlemail.com&gt;</p>

<p style="margin-top: 1em">This document is maintained by
Jan Dubois.</p>

<p style="margin-top: 1em">SEE ALSO <br>
perl</p>

<p style="margin-top: 1em">HISTORY <br>
This port was originally contributed by Gary Ng around
5.003_24, and borrowed from the Hip Communications port that
was available at the time. Various people have made numerous
<br>
and sundry hacks since then.</p>

<p style="margin-top: 1em">GCC/mingw32 support was added in
5.005 (Nick Ing-Simmons).</p>

<p style="margin-top: 1em">Support for PERL_OBJECT was
added in 5.005 (ActiveState Tool Corp).</p>

<p style="margin-top: 1em">Support for fork() emulation was
added in 5.6 (ActiveState Tool Corp).</p>

<p style="margin-top: 1em">Win9x support was added in 5.6
(Benjamin Stuhl).</p>

<p style="margin-top: 1em">Support for 64-bit Windows added
in 5.8 (ActiveState Corp).</p>

<p style="margin-top: 1em">Last updated: 10 September
2011</p>

<p style="margin-top: 1em">perl v5.16.3 2013-03-04
PERLWIN32(1)</p>
<hr>
</body>
</html>
