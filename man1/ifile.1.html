<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:18:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>IFILE(1) User Commands IFILE(1)</p>

<p style="margin-top: 1em">NAME <br>
ifile - core executable for the ifile mail filtering
system</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ifile [-b file] [-q|-Q] [-g] [-k] [-o] [-v num] [lexing
options] file ... <br>
ifile -c -q|-Q [-T threshold] [-b file] [-g] [-k] [-o]
[lexing options] file ... <br>
ifile [-b file] [-d folder] [-i folder|-u folder] [-g] [-k]
[-o] [-v num] [lexing options] file ... <br>
ifile -r [-b file]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
ifile is a mail filter client that uses machine learning to
classify e-mail into folders/mail boxes. The algorithm that
it uses is called Naive Bayes. Basically, naive bayes <br>
considers each document an unordered collection of words and
classifies by matching the document distribution with the
most closely matching folder/mailbox distribution.</p>

<p style="margin-top: 1em">OPTIONS <br>
-b, --db-file=file <br>
Location to read/store ifile database. Default is
~/.idata</p>

<p style="margin-top: 1em">-c, --concise <br>
equivalent of &quot;ifile -v 0 | head -1 | cut -f1 -d&quot;.
Must be used with -q or -Q.</p>

<p style="margin-top: 1em">-d, --delete=folder <br>
Delete the statistics for each of files from the category
folder</p>

<p style="margin-top: 1em">-f, --folder-calcs=folder <br>
Show the word-probability calculations for folder</p>

<p style="margin-top: 1em">-g, --log-file <br>
Create and store debugging information in ~/.ifile.log</p>

<p style="margin-top: 1em">-i, --insert=folder <br>
Add the statistics for each of the files to the category
folder</p>

<p style="margin-top: 1em">-k, --keep-infrequent <br>
Leave in the database words that occur infrequently
(normally they are tossed)</p>

<p style="margin-top: 1em">-l, --query-loocv=folder <br>
For each of the files, temporarily removes file from folder,
performs query and then reinserts file in folder. Database
is not modified.</p>

<p style="margin-top: 1em">-o, --occur <br>
Uses document bit-vector representation. Count each word
once per document.</p>

<p style="margin-top: 1em">-q, --query <br>
Output rating scores for each of the files</p>

<p style="margin-top: 1em">-Q, --query-insert <br>
For each of the files, output rating scores and add
statistics for the folder with the highest score</p>

<p style="margin-top: 1em">-T, --threshold=threshold <br>
When used with both -c and -q, output the two highest
ranking categories if their score differs by at most
threshold / 1000, which can be used to detect border cases.
<br>
When used with -q only and any threshold &gt; 0, output the
score difference percentage. For example, <br>
ifile -T1 -q foo.txt <br>
might result in <br>
spam -15570.48640776 <br>
non-spam -18728.00272369 <br>
diff[spam,non-spam](%) 9.21 <br>
If so, then <br>
ifile -T93 -q -c foo.txt <br>
will result in <br>
foo.txt spam,non-spam <br>
whereas <br>
ifile -T92 -q -c foo.txt <br>
will result in <br>
foo.txt spam</p>

<p style="margin-top: 1em">-r, --reset-data <br>
Erases all currently stored information</p>

<p style="margin-top: 1em">-u, --update=folder <br>
Same as &rsquo;insert&rsquo; except only adds stats if
folder already exists</p>

<p style="margin-top: 1em">-v, --verbosity=num <br>
Amount of output while running: 0=silent, 1=quiet,
2=progress, 3=verbose, 4=debug</p>

<p style="margin-top: 1em">Lexing options:</p>

<p style="margin-top: 1em">-a, --alpha-lexer <br>
Lex words as sequences of alphabetic characters
(default)</p>

<p style="margin-top: 1em">-A, --alpha-only-lexer <br>
Only lex space-separated character sequences which are
composed entirely of alphabetic characters</p>

<p style="margin-top: 1em">-h, --strip-header <br>
Skip all of the header lines except Subject:, From: and
To:</p>

<p style="margin-top: 1em">-m, --max-length=char <br>
Ignore portion of message after first char characters. Use
entire message if char set to 0. Default is 50,000.</p>

<p style="margin-top: 1em">-p, --print-tokens <br>
Just tokenize and print, don&rsquo;t do any other
processing. Documents are returned as a list of word,
frequency pairs.</p>

<p style="margin-top: 1em">-s, --no-stoplist <br>
Do not throw out overly frequent (stoplist) words when
lexing</p>

<p style="margin-top: 1em">-S, --stemming <br>
Use &rsquo;Porter&rsquo; stemming algorithm when lexing
documents</p>

<p style="margin-top: 1em">-w, --white-lexer <br>
Lex words as sequences of space separated characters</p>

<p style="margin-top: 1em">If no files are specified on the
command line, ifile will use standard input as its message
to process.</p>

<p style="margin-top: 1em">-?, --help <br>
Give this help list</p>

<p style="margin-top: 1em">--usage <br>
Give a short usage message</p>

<p style="margin-top: 1em">-V, --version <br>
Print program version</p>

<p style="margin-top: 1em">Mandatory or optional arguments
to long options are also mandatory or optional for any
corresponding short options.</p>

<p style="margin-top: 1em">FILES <br>
~/.idata <br>
ifile database (default location). See FAQ included in ifile
package for description of database format.</p>

<p style="margin-top: 1em">AUTHOR <br>
Jason Rennie &lt;jrennie@csail.mit.edu&gt; and many others.
See the ChangeLog for the full list.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Before using ifile, you need to train it. Let&rsquo;s say
that you have three folders, &quot;spam&quot;,
&quot;ifile&quot; and &quot;friends&quot;, and the following
directory structure:</p>

<p style="margin-top: 1em">/--+--spam----+--1 <br>
| +--2 <br>
| +--3 <br>
| <br>
+--ifile---+--1 <br>
| +--2 <br>
| +--3 <br>
| <br>
+--friends-+--1 <br>
+--2 <br>
+--3</p>

<p style="margin-top: 1em">The following commands build the
ifile database in ~/.idata (use the -d option to specify a
different location for the database):</p>

<p style="margin-top: 1em">ifile -h -i spam /spam/* <br>
ifile -h -i ifile /ifile/* <br>
ifile -h -i friends /friends/*</p>

<p style="margin-top: 1em">The -h option strips off headers
besides &quot;Subject:&quot;, &quot;From:&quot; and
&quot;To:&quot;. I find that -h improves ifile&rsquo;s
performance, but you may find otherwise for your personal
collection.</p>

<p style="margin-top: 1em">Note that we have made the
argument to -i the same as the corresponding folder name.
This is not necessary. The argument to -i can be any word
you want to use to identify a cate&acirc; <br>
gory of e-mails. The argument to -i must not include space
characters (including tab, feedline, etc.).</p>

<p style="margin-top: 1em">At this point, your ~/.idata
file should look something like this:</p>

<p style="margin-top: 1em">spam ifile friends <br>
662 1020 6451 <br>
3 3 3 <br>
jrennie 9 0:3 1:18 2:16 <br>
mindspring 6 1:7 2:5 <br>
make 9 0:5 1:3 <br>
yahoo 9 0:1 1:22 2:2</p>

<p style="margin-top: 1em">The first line is the
space-separated list of folders. Their ordering specifies a
numbering (spam=0, ifile=1, friends=2). The second line is a
token count for each folder (e.g. <br>
662 tokens observed in the three spam messages). The third
line is an e-mail count for each folder (e.g. 3 e-mails for
each of spam, ifile and friends). Each following line
spec&acirc; <br>
ifies statistics for a word. The format of a line is</p>

<p style="margin-top: 1em">word age folder:count
[folder:count ...]</p>

<p style="margin-top: 1em">where folder is the folder
number determined by the first line ordering. Folders with a
count of zero are not listed. So, the line beginning with
&quot;jrennie&quot; indicates that &quot;jren&acirc; <br>
nie&quot; appeared 3 times in &quot;spam&quot; e-mails, 18
times in &quot;ifile&quot; e-mails and 16 times in
&quot;friends&quot; e-mails. The age is the number of
e-mails that have been processed since the word <br>
was added to the database. Very infrequent words are pruned
from the database to keep the database size down.</p>

<p style="margin-top: 1em">Now that you have a database,
you might want to filter some e-mails. Say you have the
following incoming e-mails:</p>

<p style="margin-top: 1em">/--inbox--+--1 <br>
+--2 <br>
+--3</p>

<p style="margin-top: 1em">To find out what folders ifile
thinks these e-mails belong in, run</p>

<p style="margin-top: 1em">ifile -c -q /inbox/1 <br>
ifile -c -q /inbox/2 <br>
ifile -c -q /inbox/3</p>

<p style="margin-top: 1em">Let&rsquo;s say that 1 is about
ifile, 2 is spam and 3 is from a friend. Assuming ifile does
its job correctly, you&rsquo;ll see output like this:</p>

<p style="margin-top: 1em">/inbox/1 ifile <br>
/inbox/2 spam <br>
/inbox/3 friends</p>

<p style="margin-top: 1em">With such little training data,
ifile is unlikely to get the labels correct, but you should
get the idea :-)</p>

<p style="margin-top: 1em">Now, if you move the e-mails to
the folders suggested by ifile, you&rsquo;ll want to update
the database accordingly. You can do this with the -i
option, like before. Or, you can sim&acirc; <br>
ply use -Q in place of -q above. This automatically adds the
e-mail to the folder ifile suggests.</p>

<p style="margin-top: 1em">Now, assume for a moment that
e-mail 1 was actually spam. We&rsquo;ve added 1 to ifile and
put it in the ifile folder. We need to move it to the spam
folder and update the ifile data&acirc; <br>
base accordingly. We can update the database with the
following command:</p>

<p style="margin-top: 1em">ifile -d ifile -i spam
/inbox/1</p>

<p style="margin-top: 1em">This deletes the e-mail from
&quot;ifile&quot; and adds it to &quot;spam&quot;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
Examples of how to use ifile together with procmail(1) and
metamail(1) can be found in the directory
/usr/share/doc/ifile/examples.</p>

<p style="margin-top: 1em">ifile 1.3.4 November 2004
IFILE(1)</p>
<hr>
</body>
</html>
