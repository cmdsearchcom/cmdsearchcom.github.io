<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opagetvf(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opagetvf(1)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opagetvf(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opagetvf
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Used for scripting application use of vFabrics, such as for mpirun parameters.
  You can query by VF Name, VF Index, Service ID, MGID, PKey, or SL. Fetches the
  Virtual Fabric info in a delimited format. Returns exactly one matching VF.
  When multiple VFs match the query, it prefers non-default VFs in which the
  calling server is a full member. If multiple choices remain, it returns the
  one with the lowest VF Index. Uses the same algorithm as the Distributed SA
  Plug-in (DSAP).
<div class="Pp"></div>
The tool can be used with additional scripts to help set PKey, SL, MTU, and Rate
  when running MPI jobs. Internally, this tool is based on the opasaquery -o
  vfinfocsv command. For more information, see <i>opasaquery</i>
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
opagetvf [-h <i>hfi</i>] [-p <i>port</i>] [-e] [-d <i>vfname</i>|-S
  <i>serviceId</i>|-m <i>mcgid</i>|-i <i>vfIndex</i>| -k <i>pkey</i>|-L
  <i>sl</i>]
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">--help</dt>
  <dd class="It-tag">Produces full help text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h <i>hfi</i></dt>
  <dd class="It-tag">HFI to send by. Default is first HFI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p <i>port</i></dt>
  <dd class="It-tag">Port to send by, default is first active port.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-e</dt>
  <dd class="It-tag">Output MTU and rate as enum values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d <i>vfname</i></dt>
  <dd class="It-tag">Queries by VirtualFabric Name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-S <i>serviceId</i></dt>
  <dd class="It-tag">Queries by Application ServiceId.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m <i>gid</i></dt>
  <dd class="It-tag">Queries by Application Multicast GID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i <i>vfindex</i></dt>
  <dd class="It-tag">Queries by VirtualFabric Index.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-k <i>pkey</i></dt>
  <dd class="It-tag">Queries by VirtualFabric PKey.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-L <i>SL</i></dt>
  <dd class="It-tag">Queries by VirtualFabric SL.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Examples"><a class="selflink" href="#Examples">Examples</a></h1>
opagetvf -d 'Compute'
<div>&#x00A0;</div>
opagetvf -h 2 -p 2 -d 'Compute'
<h1 class="Sh" title="Sh" id="Sample_Outputs"><a class="selflink" href="#Sample_Outputs">Sample
  Outputs</a></h1>
The output is of the form: name:index:pkey:sl:mtu:rate:optionflag as shown in
  the following example.
<div class="Pp"></div>
Option flag (bitmask) values include:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">0x00 Indicates no bits are set. Specifically, no QOS, no
      Security, and no flow control disabled (which means flow control is
      enabled).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">0x01 Security</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">0x02 QOS</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">0x04 Flow Control Disable</dd>
</dl>
<div class="Pp"></div>
# opagetvf -d Default
<div>&#x00A0;</div>
Default:0:0xffff:0:unlimited:unlimited:0x0
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
