<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:59:41 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>code2html(1) code2html(1)</p>

<p style="margin-top: 1em">NAME <br>
code2html - Converts a program source code to HTML</p>

<p style="margin-top: 1em">SYNOPSIS <br>
(1) code2html [options] [input-file [output-file]]</p>

<p style="margin-top: 1em">(2) code2html -p [file
[alternate-outfile]]</p>

<p style="margin-top: 1em">(3) code2html (as a CGI script;
see the section on CGI)</p>

<p style="margin-top: 1em">DESCRIPTION <br>
code2html is a perl script which converts a program source
code to syntax highlighted HTML, or any other format for
wich rules are defined.</p>

<p style="margin-top: 1em">(1) OPTIONS <br>
input-file <br>
Is the file which contains the program source code to be
formatted. If not specified or a minus (-) is given, the
code will be read from STDIN.</p>

<p style="margin-top: 1em">output-file <br>
Is the file to write the formatted code to. If not specified
or a minus (-) is given, the code will be written to
STDOUT.</p>

<p style="margin-top: 1em">-l, --language-mode <br>
Specify the set of regular expressions to use. These have to
be defined in a language file (see FILES below). To find out
which language modes are defined, issue a <br>
code2html --modes.</p>

<p style="margin-top: 1em">This input is treated
case-insensitive.</p>

<p style="margin-top: 1em">If not given, some heuristics
will be used to determine the file language.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Prints progress information to STDERR.</p>

<p style="margin-top: 1em">-n, --linenumbers <br>
Print out the source code with line numbers.</p>

<p style="margin-top: 1em">-N, --linknumbers <br>
Print out the source code with line numbers. The linenumbers
will link to themselves, which makes it easy to send links
to lines.</p>

<p style="margin-top: 1em">-P, --prefix <br>
Optional prefix to use for line number anchors.</p>

<p style="margin-top: 1em">-t,
--replace-tabs[=TABSTOP-WIDTH] <br>
Replace each occurence of a &lt;TAB&gt; character with the
right amount of spaces to get to the next tabstop. Default
is a tabstop width of 8 characters.</p>

<p style="margin-top: 1em">-L,
--language-file=LANGUAGE-FILE <br>
Specify an alternate file to take the language and
output-format definitions from (see the section on FILES
below).</p>

<p style="margin-top: 1em">-m, --modes <br>
Print all language modes and output-formats currently
defined to STDOUT and exit succesfully. Also prints modes
from a LANGUAGE-FILE given by --language-file if
applica&acirc; <br>
ble.</p>

<p style="margin-top: 1em">--fallback=LANG <br>
If the language mode given with --language-mode cannot be
found then use this mode.</p>

<p style="margin-top: 1em">--fallback plain for instance is
usefull when code2html is called from a script to ensure
output is created.</p>

<p style="margin-top: 1em">-h, --help <br>
Print a short help and exit succesfully.</p>

<p style="margin-top: 1em">-V, --version <br>
Print the program version and exit succesfully.</p>

<p style="margin-top: 1em">-c, --content-type <br>
Prints &acirc;Content-Type: text/html0 (or whatever the
output-format defines as a content-type) prior to the rest
of the output. Usefull if the script is ivoked as a cgi <br>
script.</p>

<p style="margin-top: 1em">-o, --output-format <br>
Selects the output-format. html is the default. To find out
which outputformats are defined, issue a code2html
--modes.</p>

<p style="margin-top: 1em">-H, --no-header <br>
do not make use of the template defined by the
output-format. For HTML this means that there will be no
&lt;html&gt;, &lt;head&gt;, and no &lt;typical for patch and
CGI modes,pre&gt; <br>
tags.</p>

<p style="margin-top: 1em">--template=FILE <br>
overrides the default template for the given output format.
If --no-header is given too, this has no meaning, since the
template is ignored anyway.</p>

<p style="margin-top: 1em">-T, --title <br>
Set the title of the produced output file. Only works if the
template does support setting the title.</p>

<p style="margin-top: 1em">-w, --linewidth=LINEWIDTH <br>
Wrap lines after LINEWIDTH characters. Default is to not
wrap lines at all.</p>

<p style="margin-top: 1em">-b, --linebreakprefix=LINEPREFIX
<br>
Use fILINEPREFIX at the start of wrapped lines. Default is
&quot;&Acirc;&raquo; &quot;.</p>

<p style="margin-top: 1em">(2) HTML patching <br>
code2html -p [file [alternate-outfile]]</p>

<p style="margin-top: 1em">code2html also allows you to
have inline source code in an html file. It can then take
this html file and insert the syntax highlighted code.</p>

<p style="margin-top: 1em">If no file is given, code2html
reads from STDIN and writes to STDOUT. If just one file is
given it replaces this file with the output. If two files
are provided, the first one <br>
is read from and the second one written to.</p>

<p style="margin-top: 1em">To use this feature, just insert
a like like this into your html file:</p>

<p style="margin-top: 1em">&lt;!-- code2html add [options]
&lt;file&gt; --&gt;</p>

<p style="margin-top: 1em">the syntax highlighted file will
be inserted at this position enclosed in &lt;pre&gt;
tags.</p>

<p style="margin-top: 1em">All options that can be given on
the command line like --linenumbers etc. work. --help,
--version, etc. work too however it is not very intelligent
to use them :). Using --out&acirc; <br>
put-format to choose a non-HTML outputformat is not
adviseable. --content-type is ignored.</p>

<p style="margin-top: 1em">You may also write the
program&rsquo;s source code directly in the html file with
the following syntax:</p>

<p style="margin-top: 1em">&lt;!-- code2html add
[options]</p>

<p style="margin-top: 1em">&lt;your program source code
here&gt;</p>

<p style="margin-top: 1em">--&gt;</p>

<p style="margin-top: 1em">It is usually a good idea to at
least give the --language-mode option to specify the
language.</p>

<p style="margin-top: 1em">(3) CGI <br>
If the the script is used as a CGI script (GATEWAY_INTERFACE
environment set and no command line arguments given)
code2html reads the arguments either from the query string
or <br>
from SDTIN. (methods POST and GET).</p>

<p style="margin-top: 1em">--content-type is switched on
automatically and the output always goes to STDOUT.</p>

<p style="margin-top: 1em">The following parameters/options
are accepted:</p>

<p style="margin-top: 1em">language-mode - optional <br>
&lsquo;c&rsquo;, &lsquo;cc&rsquo;, &lsquo;pas&rsquo;,
etc.</p>

<p style="margin-top: 1em">if not given, some heuristics
are used to find out the language.</p>

<p style="margin-top: 1em">fallback - optional <br>
&lsquo;plain&rsquo;, &lsquo;c&rsquo;, etc. if language-mode
cannot be found, use this one</p>

<p style="margin-top: 1em">input-selector - optional <br>
either &lsquo;file&rsquo;, &lsquo;cgi-input1&rsquo;,
&lsquo;cgi-input2&rsquo;, or &lsquo;REDIRECT_URL&rsquo;</p>

<p style="margin-top: 1em">default: file</p>

<p style="margin-top: 1em">filename <br>
file to read from if input-selector is
&lsquo;file&rsquo;</p>

<p style="margin-top: 1em">cgi-input1 <br>
The source code to syntax highlight. For example from a
&lt;textarea&gt; or from a upload. See input-selector.</p>

<p style="margin-top: 1em">cgi-input2 <br>
The source code to syntax highlight. For example from a
&lt;textarea&gt; or from a upload. See input-selector.</p>

<p style="margin-top: 1em">line-numbers - optional <br>
&lsquo;yes&rsquo;, &lsquo;no&rsquo; or
&lsquo;link&rsquo;</p>

<p style="margin-top: 1em">default: no</p>

<p style="margin-top: 1em">replace-tabs - optional <br>
If 0 then tabs are not replaced, else replace each occurence
of a &lt;TAB&gt; character with the right amount of spaces
to get to the next tabstop.</p>

<p style="margin-top: 1em">default: 0</p>

<p style="margin-top: 1em">title - optional <br>
Set&rsquo;s the title of the file.</p>

<p style="margin-top: 1em">no-encoding - optional <br>
By default code2html tries to encode the output as either
bz2/gz/Z if the client supports this (HTTP_ACCEPT_ENCODING)
and the needed program is available on the server. <br>
You may need to modify @CGI_ENCODING in the script to match
your program locations.</p>

<p style="margin-top: 1em">If no-encoding is defined as
&acirc;true&acirc; code2html does not try to encode the
output.</p>

<p style="margin-top: 1em">Why two cgi-inputs you may ask:
This is to allow your users to choose vie a &lt;form&gt;
interface whether they want to insert their file into a
&lt;textarea&gt; or user a &lt;browse&gt; button to <br>
select their file. See the example on my home- page.</p>

<p style="margin-top: 1em">Note that if
$FILES_DISALLOWED_IN_CGI is 0 it is possbile for your users
to read all the files the httpd can read (if you don&rsquo;t
run a cgi- wrapper or something like this. By <br>
default this value is set to 1, so file reading via cgi
should not be allowed. You can allow it with setting
$FILES_DISALLOWED_IN_CGI to 0 at the top of the script.</p>

<p style="margin-top: 1em">The input selector REDIRECT_URL
needs a special explaination. The file name is formed from
the two enviroment variables DOCUMENT_ROOT and
REDIRECT_URL.</p>

<p style="margin-top: 1em">If you want apache to
automatically call code2html for all program source code
files you may do this by adding these two lines to your
srm.conf:</p>

<p style="margin-top: 1em">AddHandler text/x-sourcecode .c
.cc .cpp .pas .h .p</p>

<p style="margin-top: 1em">Action text/x-sourcecode
/cgi-bin/code2html?input-selector=REDIRECT_URL&amp;foo=</p>

<p style="margin-top: 1em">or something similar to this. In
the AddHandle line you can choose which extensions to pass
through code2html.</p>

<p style="margin-top: 1em">WARNING: Do not add .pl to this
line and name this script &acirc;code2html.pl&acirc;. This
will result in a loop.</p>

<p style="margin-top: 1em">Also make sure that you load the
Action module (srm.conf).</p>

<p style="margin-top: 1em">Replace /cgi-bin/code2html with
the virtual location under which the file can be accessed.
Note the &acirc;foo=&acirc; part. Apache appends the URL of
the file to display at the end of the <br>
action part. We do not need this since we use the
environment variable REDIRECT_URL however we do not want to
get the url addes to the input-selector string. Therefore we
append <br>
the &acirc;&amp;foo=&acirc; part.</p>

<p style="margin-top: 1em">Tnx to Kevin Burton
&lt;burton@relativity.yi.org&gt; for the idea. He also
states that</p>

<p style="margin-top: 1em">&gt; It is more powerfull if you
use it in an Apache <br>
&gt; &lt;Directory&gt; tag <br>
&gt; <br>
&gt; &lt;Directory /source&gt; <br>
&gt; <br>
&gt; #with your Action tag here... this way you can <br>
&gt; #still have regular .java files on your server. <br>
&gt; <br>
&gt; &lt;/Directory&gt; <br>
&gt;</p>

<p style="margin-top: 1em">EXAMPLE <br>
assuming code2html is in the current directory, you may
type</p>

<p style="margin-top: 1em">code2html -l perl code2html.pl
code2html.html</p>

<p style="margin-top: 1em">to convert the script into a
html file.</p>

<p style="margin-top: 1em">FILES <br>
Code2html looks for it&rsquo;s configuration in several
places.</p>

<p style="margin-top: 1em">&Acirc;&middot; the file
specified by -L or --language-file if any</p>

<p style="margin-top: 1em">&Acirc;&middot; the files
specified in the evironment variable CODE2HTML_CONFIG,
seperated by colons</p>

<p style="margin-top: 1em">&Acirc;&middot; user&rsquo;s
$HOME/.code2html.config</p>

<p style="margin-top: 1em">&Acirc;&middot;
/etc/code2html.config</p>

<p style="margin-top: 1em">&Acirc;&middot; built in default
languages</p>

<p style="margin-top: 1em">Entries in a file that is
mentioned earlier in this list override rules from later
files.</p>

<p style="margin-top: 1em">The file structure must be valid
perl code.</p>

<p style="margin-top: 1em">The global variables %LANGUAGE
and %STYLESHEET are already defined, so you should not
redeclare them using &acirc;my&acirc;.</p>

<p style="margin-top: 1em">When you are looking for a model
configuration to serve as a basis for your own configuration
file, it is probably best to start out by checking the
built-in definitions at the <br>
bottom of code2html.</p>

<p style="margin-top: 1em">If your pattern includes back
references like a lot patterns do in perl for example, then
you have to use 2 instead of 1, 3 instead of 2 and so on. I
really don&rsquo;t like this <br>
hack but it is a lot faster.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">&lt;&lt;([^0*).*?^2$</p>

<p style="margin-top: 1em">In this example the perl
&lt;&lt; stuff is matched, i.e. everything from a &lt;&lt;
until a line that consists of exactly the same string as
behind the &lt;&lt; was. The 2 references the matched <br>
chars in the parentenses.</p>

<p style="margin-top: 1em">If you ever write language
specific rule files yourself, I&rsquo;d be grateful if you
could send those to me, so I could make them available (with
full credits of course) on my home&acirc; <br>
page for anyone to grab, whenever some of those files suit
someone else&rsquo;s needs. Before you do so you might also
have a look at my site to check wheter someone has already
writ&acirc; <br>
ten a rule file for your favourite language.</p>

<p style="margin-top: 1em">NOTES <br>
The language recognition mechanism relies on specific
patterns within the file name and the content of the
processed file, such as file name extensions and shebangs
(#!). This <br>
means that if the input is a pipe or a socket, the file name
does not follow traditional naming conventions, or the
content of the processed file is incomplete, the input
lan&acirc; <br>
guage name should be specified using the --language-mode
command line parameter.</p>

<p style="margin-top: 1em">BUGS <br>
Please report bugs to code2html@palfrader.org. This program
is still a beta release, so you should expect to find some.
<br>
Also have a look at my web-site, perhaps a new version is
available already at
http://www.palfrader.org/code2html/.</p>

<p style="margin-top: 1em">AUTHOR <br>
Peter Palfrader, &lt;code2html@palfrader.org&gt; A lot of
other people. See contributers in the file itself.</p>

<p style="margin-top: 1em">LICENSE <br>
Copyright (c) 1999, 2000 by Peter Palfrader &amp;
others.</p>

<p style="margin-top: 1em">Permission is hereby granted,
free of charge, to any person obtaining a copy of this
software and associated documentation files (the
&acirc;Software&acirc;, to deal in the Software without <br>
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or
sell copies of the Software, and to permit persons to <br>
whom the Software is furnished to do so, subject to the
following conditions:</p>

<p style="margin-top: 1em">The above copyright notice and
this permission notice shall be included in all copies or
substantial portions of the Software.</p>

<p style="margin-top: 1em">THE SOFTWARE IS PROVIDED
&acirc;AS IS&acirc;, WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PUR&acirc; <br>
POSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTH&acirc; <br>
ERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

<p style="margin-top: 1em">Mar-2000 code2html(1)</p>
<hr>
</body>
</html>
