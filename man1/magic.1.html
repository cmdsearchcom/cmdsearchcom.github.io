<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MAGIC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MAGIC(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">MAGIC(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
magic - VLSI layout editor
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>magic</b> [ <b>-T&#x00A0;</b> <i>technology</i> ] [ <b>-d&#x00A0;</b>
  <i>device_type</i> ] [ <b>-g&#x00A0;</b> <i>graphics_port</i> ] [
  <b>-m&#x00A0;</b> <i>monitor_type</i> ] [ <b>-D</b> ] [ <i>file</i> ]
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Magic is an interactive editor for VLSI layouts that runs under all variants of
  UNIX, including Mac OS-X and Cygwin. This man page is a reference manual; if
  you are a first-time user, you should use the Magic tutorials to get
  acquainted with the system (see the online resources links below).
<div class="Pp"></div>
Magic uses two windows: one for text and a separate window for displaying
  layouts. Magic runs under the window system X11 (use under Cygwin requires the
  presence of an X11 server in Windows; the server that comes packaged with
  Cygwin works well). The command line switch &quot;-d&quot; can be used to tell
  Magic which kind of display you are running. Specifically, this is useful to
  tell magic to use OpenGL graphics instead of plain X11 (&quot;-d OGL&quot;),
  or to use 24 bit plane graphics instead of 8 bit planes (&quot;-d
  24BITS&quot;) if both are available on a video card with overlay support.
<div class="Pp"></div>
Here are the options accepted by Magic:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b></dt>
  <dd class="It-tag">The next argument is the name of a technology. The tile
      types, display information, and design rules for this technology are read
      by Magic from a technology file when it starts up. The technology defaults
      to ``scmos''.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">The next argument is the type of workstation or graphics
      display being used. Magic supports these types:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>NULL</b></dt>
  <dd class="It-tag">A null device for running Magic without using a graphics
      display, such as a batch job. Note that the special case
      &quot;-dnull&quot; (lowercase, no space) has a more streamlined startup
      specifically for batch processing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>X11</b></dt>
  <dd class="It-tag">X-windows, version 11. The is the preferred interface.
      Magic acts as a client to the X window server and interfaces to all
      graphics terminals supported by the X server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>OGL</b></dt>
  <dd class="It-tag">OpenGL graphics running under X11. This is the preferred
      interface on systems having hardware-accelerated 3D graphics video cards
      and drivers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Addition information on Magic's X11 driver, including
      options for .Xdefaults files, may be found in ``Magic Maintainer's Manual
      #4: Using Magic Under X Windows''.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>XWIND</b></dt>
  <dd class="It-tag">Simply another name for the X11 driver.</dd>
</dl>
</div>
If no device is specified, Magic tries to guess which driver is appropriate (by
  checking the environment variables and by poking around in /dev).
<div class="Pp"></div>
When Magic starts up it looks for a command file in
  ${CAD_ROOT}/magic/sys/.magicrc and processes it if it exists. Then Magic looks
  for a file with the name ``.magicrc'' in the home directory and processes it
  if it exists. Finally, Magic looks for a .magicrc file in the current
  directory and reads it as a command file if it exists. The .magicrc file
  format is described under the <b>source</b> command. If magic is compiled with
  Tcl/Tk support, then any magic or Tcl/Tk commands may be used inside the
  startup file. The startup file name was changed to &quot;.magicrc&quot; to
  avoid conflicts with a common system file named &quot;.magic&quot;. However,
  the name &quot;.magic&quot; will be searched after &quot;.magicrc&quot; for
  backward compatibility.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS_--_GENERAL_INFORMATION"><a class="selflink" href="#COMMANDS_--_GENERAL_INFORMATION">COMMANDS
  -- GENERAL INFORMATION</a></h1>
Magics uses types of commands: Key macros and long commands. The first form
  consists of single-key (or button) abbreviations called ``macros''; macros are
  invoked by pressing a single key or mouse button. Certain macros are
  predefined in the systemwide ${CAD_ROOT}/magic/sys/.magicrc file, but you can
  override them and add your own macros using the <b>macro</b> command
  (described below under COMMANDS FOR ALL WINDOWS). The special macro
  &quot;.&quot; is reserved to mean &quot;execute the last typed long
  command&quot;.
<div style="height: 1.00em;">&#x00A0;</div>
You can enter long commands in the terminal console at the console prompt, or
  from the layout window by typing a <b>:</b> or <b>;</b> key, which are the two
  other reserved macros meaning &quot;switch keyboard focus to the console
  window&quot;. After typing the <b>:</b> or <b>;</b> key, type the text of the
  command, which will be written to the terminal window. Multiple commands may
  be specified on one line by separating them with semicolons.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Most commands deal with the window underneath the cursor, so if a command
  doesn't do what you expect make sure that you are pointing to the correct
  place on the screen. There are several different kinds of windows in Magic
  (layout, color, and netlist); each window has a different command set,
  described in a separate section below.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="MOUSE_BUTTONS_FOR_LAYOUT_WINDOWS"><a class="selflink" href="#MOUSE_BUTTONS_FOR_LAYOUT_WINDOWS">MOUSE
  BUTTONS FOR LAYOUT WINDOWS</a></h1>
Magic uses a three button mouse. The buttons are interpreted in a way that
  depends on the current tool, as indicated by the shape of the cursor (see the
  <b>tool</b> command). The various tools are described below. The initial tool
  is <b>box</b>. These interpretations apply only when mouse buttons are pressed
  in the interior of a layout window.
<dl class="Bl-tag">
  <dt class="It-tag"><b>Box Tool</b></dt>
  <dd class="It-tag">This is the default tool, and is indicated by a crosshair
      cursor. It is used to position the box and to paint and erase:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>left</b></dt>
  <dd class="It-tag">This button is used to move the box by one of its corners.
      Normally, this button picks up the box by its lower-left corner. To pick
      the box up by a different corner, click the right button while the left
      button is down. This switches the pick-up point to the corner nearest the
      cursor. When the button is released, the box is moved to position the
      corner at the cursor location. If the box has been set to snap to the
      window's grid (see the <b>:snap</b> command), then the box corner is left
      aligned with the grid that the user has chosen for the window with the
      <b>:grid</b> command, even if that grid is not visible.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>right</b></dt>
  <dd class="It-tag">Change the size of the box by moving one corner. Normally
      this button moves the upper-right corner of the box. To move a different
      corner, click the left button while the right button is down. This
      switches the corner to the one nearest the cursor. When you release the
      button, three corners of the box move in order to place the selected
      corner at the cursor location (the corner opposite the one you picked up
      remains fixed). Snapping to the window's grid is handled as for the left
      button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>middle (bottom)</b></dt>
  <dd class="It-tag">Used to paint or erase. If the crosshair is over paint,
      then the area of the box is painted with the layer(s) underneath the
      crosshair. If the crosshair is over white space, then the area of the box
      is erased.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Wiring Tool</b></dt>
  <dd class="It-tag">The wiring tool, indicated by an arrow cursor, is used to
      provide an efficient interface to the wiring commands:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>left</b></dt>
  <dd class="It-tag">Same as the long command <b>wire type</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>right</b></dt>
  <dd class="It-tag">Same as the long command <b>wire leg</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>middle (bottom) </b></dt>
  <dd class="It-tag">Same as the long command <b>wire switch</b>.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Netlist Tool</b></dt>
  <dd class="It-tag">This tool is used to edit netlists interactively. It is
      indicated by a thick box cursor.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>left</b></dt>
  <dd class="It-tag">Select the net associated with the terminal nearest the
      cursor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>right</b></dt>
  <dd class="It-tag">Find the terminal nearest the cursor, and toggle it into
      the current net (if it wasn't already in the current net) or out of the
      current net (if it was previously in the net).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>middle (bottom) </b></dt>
  <dd class="It-tag">Find the terminal nearest the cursor, and join its net with
      the current net.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Rsim Tool</b></dt>
  <dd class="It-tag">Used when running the IRSIM simulator under Magic. A
      pointing hand is used as the cursor.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>left</b></dt>
  <dd class="It-tag">Moves the box just like the box tool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>right</b></dt>
  <dd class="It-tag">Moves the box just like the box tool.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>middle (bottom) </b></dt>
  <dd class="It-tag">Displays the Rsim node values of the selected paint.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="LONG_COMMANDS_FOR_LAYOUT_WINDOWS"><a class="selflink" href="#LONG_COMMANDS_FOR_LAYOUT_WINDOWS">LONG
  COMMANDS FOR LAYOUT WINDOWS</a></h1>
These commands work if you are pointing to the interior of a layout window.
  Commands are invoked by typing a colon (``:'') or semi-colon (``;''), followed
  by a line containing a command name and zero or more parameters. In addition,
  macros may be used to invoke commands with single keystrokes. Useful default
  macros are set in the global <b>.magicrc</b> file (in
  <b>${CAD_ROOT}/magic/sys</b>, normally <b>/usr/local/lib/magic/sys</b>). You
  can list all current macros with the <b>macro</b> command, described under
  ``LONG COMMANDS FOR ALL WINDOWS''. Unique abbreviations are acceptable for all
  keywords in commands. The commands are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>addpath <i>searchpath</i></b></dt>
  <dd class="It-tag">Add more directories to the end of Magic's cell search
      path. See the documentation for the <b>path</b> command for an explanation
      of the search path.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>array <i>xsize ysize</i></b></dt>
  <dd class="It-tag">Make many copies of the selection. There will be
      <i>xsize</i> instances in the x-direction and <i>ysize</i> instances in
      the y-direction. Paint and labels are arrayed by copying them. Subcells
      are not copied, but instead each instance is turned into an array instance
      with elements numbered from 0 to <i>xsize</i>-1 in the x-direction, and
      from 0 to <i>ysize</i>-1 in the y-direction. The spacing between elements
      of the array is determined by the box x- and y-dimensions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>array <i>xlo ylo xhi yhi</i></b></dt>
  <dd class="It-tag">Identical to the form of <b>array</b> above, except that
      the elements of arrayed cells are numbered left-to-right from <i>xlo</i>
      to <i>xhi</i> and bottom-to-top from <i>ylo</i> to <i>yhi</i>. It is legal
      for <i>xlo</i> to be greater than <i>xhi</i>, and also for <i>ylo</i> to
      be greater than <i>yhi</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>box [<i>args</i>]</b></dt>
  <dd class="It-tag">Used to change the size of the box or to find out its size.
      There are several sorts of arguments that may be given to this
    command:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>(No arguments.)</i></dt>
  <dd class="It-tag">Show the box size and its location in the edit cell, or
      root cell of its window if the edit cell isn't in that window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>direction</i> [<i>distance</i>]</dt>
  <dd class="It-tag">Move the box <i>distance</i> units in <i>direction</i>,
      which may be one of <b>left</b>, <b>right</b>, <b>up</b>, or <b>down</b>.
      <i>Distance</i> defaults to the width of the box if <i>direction</i> is
      <b>right</b> or <b>left</b>, and to the height of the box if
      <i>direction</i> is <b>up</b> or <b>down</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>width [</b><i>size</i>]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>height [</b><i>size</i>]</dt>
  <dd class="It-tag">Set the box to the width or height indicated. If
      <i>size</i> is not specified the width or height is reported.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>x1 y1 x2 y2</i></dt>
  <dd class="It-tag">Move the box to the coordinates specified (these are in
      edit cell coordinates if the edit cell is in the window under the cursor;
      otherwise these are in the root coordinates of the window). <i>x1</i> and
      <i>y1</i> are the coordinates of the lower left corner of the box, while
      <i>x2</i> and <i>y2</i> are the upper right corner. The coordinates must
      all be integers.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma </b>[<i>option</i>] [<i>args</i>]</dt>
  <dd class="It-tag">This command is used to read and write files in Calma GDS
      II Stream format (version 3.0, corresponding to GDS II Release 5.1). This
      format is like CIF, in that it describes physical mask layers instead of
      Magic layers. In fact, the technology file specifies a correspondence
      between CIF and Calma layers. The current CIF output style (see
      <b>cif&#x00A0;ostyle</b>) controls how Calma stream layers are generated
      from Magic layers. If no arguments are given, the <b>calma</b> command
      generates a Calma stream file for the layout in the window beneath the
      cursor in <i>file</i><b>.strm</b>, where <i>file</i> is the name of the
      root cell. This stream file describes the entire cell hierarchy in the
      window. The name of the library is the same as the name of the root cell.
      <i>Option</i> and <i>args</i> may be used to invoke one of several
      additional operations:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma flatten</b></dt>
  <dd class="It-tag">Ordinarily, Magic arrays are output using the Calma ARRAY
      construct. After a <b>calma flatten</b> command, though, arrays will be
      output instead as a collection of individual cell uses, as occurs when
      writing CIF.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma help</b></dt>
  <dd class="It-tag">Print a short synopsis of all of the <b>calma</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma labels</b></dt>
  <dd class="It-tag">Output labels whenever writing a Calma output file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma lower</b></dt>
  <dd class="It-tag">Allow both upper and lower case to be output for label
      text. This is the default behavior; <b>calma nolower</b> causes lower case
      to be converted to upper case on output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma noflatten</b></dt>
  <dd class="It-tag">Undoes the effect of a prior <b>:calma flatten</b> command,
      re-enabling the output of Magic arrays using the Calma ARRAY
    construct.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma nolabels</b></dt>
  <dd class="It-tag">Don't output labels when writing a Calma output file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma nolower</b></dt>
  <dd class="It-tag">Convert lower to upper case when outputting labels.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma read </b><i>file</i></dt>
  <dd class="It-tag">The file <i>file</i>.<b>strm</b> is read in Calma format
      and converted to a collection of Magic cells. The current CIF input style
      determines how the Calma layers are converted to Magic layers. The new
      cells are marked for design-rule checking. Calma format doesn't identify
      the root of the collection of cells read in, so none of the cells read
      will appear on the display; use <b>load</b> to make them visible. If the
      Calma file had been produced by Magic, then the name of the root cell is
      the same as the library name printed by the <b>:calma read</b>
    command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>calma write </b><i>fileName</i></dt>
  <dd class="It-tag">Writes a stream file just as if no arguments had been
      entered, except that the output is written into
      <i>fileName</i><b>.strm</b> instead of using the root cell name for the
      file name.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>channels</b></dt>
  <dd class="It-tag">This command will run just the channel decomposition part
      of the Magic router, deriving channels for the area under the box. The
      channels will be displayed as outlined feedback areas over the edit
    cell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif </b>[<i>option</i>] [<i>args</i>]</dt>
  <dd class="It-tag">Read or write files in Caltech Intermediate Form (CIF). If
      no arguments are given, this command generates a CIF file for the window
      beneath the cursor in <i>file</i><b>.cif</b>, where <i>file</i> is the
      name of the root cell. The CIF file describes the entire cell hierarchy in
      the window. <i>Option</i> and <i>args</i> may be used to invoke one of
      several additional CIF operations:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif arealabels </b>[<b>yes </b>|<b> no]</b></dt>
  <dd class="It-tag">Enables/disables the cif area-label extension. If enabled,
      area labels are written via the <b>95</b> cif extension. If disabled,
      labels are collapsed to points when writing cif and the <b>94</b> cif
      construct is used. Area-labels are disabled by default (many programs
      don't understand cif area-labels).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif help</b></dt>
  <dd class="It-tag">Print a short synopsis of all of the cif command
    options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif istyle </b>[<i>style</i>]</dt>
  <dd class="It-tag">Select the style to be used for CIF input. If no
      <i>style</i> argument is provided, then Magic prints the names of all CIF
      input styles defined in the technology file and identifies the current
      style. If <i>style</i> is provided, it is made the current style.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif ostyle </b>[<i>style</i>]</dt>
  <dd class="It-tag">Select the style to be used for CIF output. If no
      <i>style</i> argument is provided, then Magic prints the names of all CIF
      output styles defined in the technology file and identifies the current
      style. If <i>style</i> is provided, it is made the current style.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif read </b><i>file</i></dt>
  <dd class="It-tag">The file <i>file</i>.<b>cif</b> is read in CIF format and
      converted to a collection of Magic cells. The current input style
      determines how the CIF layers are converted to Magic layers. The new cells
      are marked for design-rule checking. Any information in the top-level CIF
      cell is copied into the edit cell. Note: this command is not undo-able (it
      would waste too much space and time to save information for undoing).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif see </b><i>layer</i></dt>
  <dd class="It-tag">In this command <i>layer</i> must be the CIF name for a
      layer in the current output style. Magic will display on the screen all
      the CIF for that layer that falls under the box, using stippled feedback
      areas. It's a bad idea to look at CIF over a large area, since this
      command requires the area under the box to be flattened and therefore is
      slow.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif statistics</b></dt>
  <dd class="It-tag">Prints out statistics gathered by the CIF generator as it
      operates. This is probably not useful to anyone except system
    maintainers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif write </b><i>fileName</i></dt>
  <dd class="It-tag">Writes out CIF just as if no arguments had been entered,
      except that the CIF is written into <i>fileName</i><b>.cif</b> instead of
      using the root cell name for the file name. The current output style
      controls how CIF layers are generated from Magic layers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cif flat </b><i>fileName</i></dt>
  <dd class="It-tag">Writes out CIF as in the <b>cif write</b> command, but
      flattens the design first (e.g. creates an internal version with the cell
      hierarchy removed). This is useful if one wishes to use the <b>and-not</b>
      feature of the CIF output styles, but is having problems with interactions
      of overlapping cells.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>clockwise </b>[<i>degrees</i>]</dt>
  <dd class="It-tag">Rotate the selection by <b>90</b>, <b>180</b> or <b>270</b>
      degrees. After the rotation, the lower-left corner of the selection's
      bounding box will be in the same place as the lower-left corner of the
      bounding box before the rotation. <i>Degrees</i> defaults to <b>90</b>. If
      the box is in the same window as the selection, it is rotated too. Only
      material in the edit cell is affected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>copy [<i>direction </i>[<i>amount</i>]]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>copy to <i>x y</i></b></dt>
  <dd class="It-tag">If no arguments are given, a copy of the selection is
      picking up at the point lying underneath the box lower-left corner, and
      placed so that this point lies at the cursor position. If <i>direction</i>
      is given, it must be a Manhattan direction (e.g. <b>north</b>, see the
      ``DIRECTIONS'' section below). The copy of the selection is moved in that
      direction by <i>amount</i>. If the box is in the same window as the
      selection, it is moved too. <i>Amount</i> defaults to <b>1</b>. The second
      form of the command behaves as though the cursor were pointing to (
      <i>x,&#x00A0;y</i>) in the edit cell; a copy of the selection is picked up
      by the point beneath the lower-left corner of the box and placed so that
      this point lies at ( <i>x</i>,<i>&#x00A0;y</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>corner <i>direction1 direction2 </i>[layers]</b></dt>
  <dd class="It-tag">This command is similar to <b>fill</b>, except that it
      generates L-shaped wires that travel across the box first in
      <i>direction1</i> and then in <i>direction2</i>. For example, <b>corner
      north east</b> finds all paint under the bottom edge of the box and
      extends it up to the top of the box and then across to the right side of
      the box, generating neat corners at the top of the box. The box should be
      at least as tall as it is wide for this command to work correctly.
      <i>Direction1</i> and <i>direction2</i> must be Manhattan directions (see
      the section DIRECTIONS below) and must be orthogonal to each other. If
      <i>layers</i> is specified then only those layers are used; otherwise all
      layers are considered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete</b></dt>
  <dd class="It-tag">Delete all the information in the current selection that is
      in the edit cell. When cells are deleted, only the selected use(s) of the
      cell is (are) deleted: other uses of the cell remain intact, as does the
      disk file containing the cell. Selected material outside the edit cell is
      not deleted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc option </b>[<i>args</i>]</dt>
  <dd class="It-tag">This command is used to interact with the design rule
      checker. <i>Option</i> and <i>args</i> (if needed) are used to invoke a
      <b>drc</b> command in one of the following ways:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc catchup</b></dt>
  <dd class="It-tag">Let the checker process all the areas that need rechecking.
      This command will not return until design-rule checking is complete or an
      interrupt is typed. The checker will run even if the background checker
      has been disabled with <b>drc off</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc check</b></dt>
  <dd class="It-tag">Mark the area under the box for rechecking in all cells
      that intersect the box. The recheck will occur in background after the
      command completes. This command is not normally necessary, since Magic
      automatically remembers which areas need to be rechecked. It should only
      be needed if the design rules are changed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc count</b></dt>
  <dd class="It-tag">Print the number of errors in each cell under the box.
      Cells with no errors are skipped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc find</b> [<i>nth</i>]</dt>
  <dd class="It-tag">Place the box over the <i>nth</i> error area in the
      selected cell or edit cell, and print out information about the error just
      as if <b>drc why</b> had been typed. If <i>nth</i> isn't given (or is less
      than 1), the command moves to the next error area. Successive invocations
      of <b>drc find</b> cycle through all the error tiles in the cell. If
      multiple cells are selected, this command uses the upper-leftmost one. If
      no cells are selected, this command uses the edit cell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc help</b></dt>
  <dd class="It-tag">Print a short synopsis of all the drc command options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc off</b></dt>
  <dd class="It-tag">Turn off the background checker. From now on, Magic will
      not recheck design rules immediately after each command (but it will
      record the areas that need to be rechecked; the command <b>drc on</b> can
      be used to restart the checker).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc on</b></dt>
  <dd class="It-tag">Turn on the background checker. The checker will check
      whatever modifications have not already been checked. From now on, the
      checker will reverify modified areas as they result from commands. The
      checker is run in the background, not synchronously with commands, so it
      may get temporarily behind if massive changes are made.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc printrules </b>[<i>file</i>]</dt>
  <dd class="It-tag">Print out the compiled rule set in <i>file</i>, or on the
      text terminal if <i>file</i> isn't given. For system maintenance
    only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc rulestats</b></dt>
  <dd class="It-tag">Print out summary statistics about the compiled rule set.
      This is primarily for use in writing technology files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc statistics</b></dt>
  <dd class="It-tag">Print out statistics kept by the design-rule checker. For
      each statistic, two values are printed: the count since the last time
      <b>drc statistics</b> was invoked, and the total count in this editing
      session. This command is intended primarily for system maintenance
      purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drc why</b></dt>
  <dd class="It-tag">Recheck the area underneath the box and print out the
      reason for each violation found. Since this command causes a recheck, the
      box should normally be placed around a small area (such as an error
    area).</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dump <i>cellName </i>[<b>child</b><i> refPointC</i>]
    [<b>parent</b><i> refPointP</i>]</b></dt>
  <dd class="It-tag">Copy the contents of cell <i>cellName</i> into the edit
      cell so that <i>refPointC</i> in the child is positioned at point
      <i>refPointP</i> in the edit cell. The reference points can either be the
      name of a label, in which case the lower-left corner of the label's box is
      used as the reference point, or as a pair of numbers giving the (
      <i>x</i>,&#x00A0; <i>y</i>) coordinates of a point explicitly. If
      <i>refPointC</i> is not specified, the lower-left corner of
      <i>cellName</i> cell is used. If <i>refPointP</i> is not specified, the
      lower-left corner of the box tool is used (the box must be in a window on
      the edit cell). After this command completes, the new information is
      selected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>edit</b></dt>
  <dd class="It-tag">Make the selected cell the edit cell, and edit it in
      context. The edit cell is normally displayed in brighter colors than other
      cells (see the <b>see</b> command to change this). If more than one cell
      is selected, or if the selected cell is an array, the cursor position is
      used to select one of those cells as the new edit cell. Generally, Magic
      commands modify only the current edit cell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>erase [<i>layers</i>]</b></dt>
  <dd class="It-tag">For the area enclosed by the box, erase all paint in
      <i>layers</i>. (See the ``LAYERS'' section for the syntax of layer lists).
      If <i>layers</i> is omitted it defaults to <b>*,labels</b>. See your
      technology manual, or use the <b>layers</b> command, to find out about the
      available layer names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>expand [<b>toggle</b>]</b></dt>
  <dd class="It-tag">If the keyword <b>toggle</b> is supplied, all of the
      selected cells that are unexpanded are expanded, and all of the selected
      cells that are expanded are unexpanded. If <b>toggle</b> isn't specified,
      then all of the cells underneath the box are expanded recursively until
      there is nothing but paint under the box.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract </b><i>option</i> [<i>args</i>]</dt>
  <dd class="It-tag">Extract a layout, producing one or more hierarchical
      <b>.ext</b> files that describe the electrical circuit implemented by the
      layout. The current extraction style (see <b>extract style</b> below)
      determines the parameters for parasitic resistance, capacitance, etc. that
      will be used. The <b>extract</b> command with no parameters checks
      timestamps and re-extracts as needed to bring all <b>.ext</b> files
      up-to-date for the cell in the window beneath the crosshair, and all cells
      beneath it. Magic displays any errors encountered during circuit
      extraction using stippled feedback areas over the area of the error, along
      with a message describing the type of error. Option and <i>args</i> are
      used in the following ways:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract all</b></dt>
  <dd class="It-tag">All cells in the window beneath the cursor are re-extracted
      regardless of whether they have changed since last being extracted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract cell </b><i>name</i></dt>
  <dd class="It-tag">Extract only the currently selected cell, placing the
      output in the file <i>name</i>. If more than one cell is selected, this
      command uses the upper-leftmost one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract do </b>[ <i>option</i> ]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract no </b><i>option</i></dt>
  <dd class="It-tag">Enable or disable various options governing how the
      extractor will work. Use <b>:extract do</b> with no arguments to print a
      list of available options and their current settings. When the
      <b>adjust</b> option is enabled, the extractor will compute compensating
      capacitance and resistance whenever cells overlap or abut; if disabled,
      the extractor will not compute these adjustments but will run faster. If
      <b>capacitance</b> is enabled, node capacitances to substrate (perimeter
      and area) are computed; otherwise, all node capacitances are set to zero.
      Similarly, <b>resistance</b> governs whether or not node resistances are
      computed. The <b>coupling</b> option controls whether coupling
      capacitances are computed or not; if disabled, flat extraction is
      significantly faster than if coupling capacitance computation is enabled.
      Finally, the <b>length</b> option determines whether or not pathlengths in
      the root cell are computed (see <b>extract length</b> below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract help</b></dt>
  <dd class="It-tag">Prints a short synopsis of all the <b>extract</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract length</b> [ <i>option args</i> ]</dt>
  <dd class="It-tag">Provides several options for controlling which
      point-to-point path lengths are extracted explicitly. The extractor
      maintains two internal tables, one of <i>drivers</i>, or places where a
      signal is generated, and one of <i>receivers</i>, or places where a signal
      is sent. The components of each table are hierarchical label names,
      defined by means of the two commands <b>extract length driver </b><i>name1
      </i>[ <i>name2 ...</i>] and <b>extract length receiver </b><i>name1
      </i>[<i>name2 ...</i>]. If extraction of pathlengths is enabled (``
      <b>:extract do length</b>''), then when the root cell in an extract
      command is being extracted, the extractor will compute the shortest and
      longest path between each driver and each receiver on the same electrical
      net, and output it to the <b>.ext</b> file for the root cell. Normally,
      one should create a file of these Magic commands for the circuit drivers
      and receivers of interest, and use <b>source</b> to read it in prior to
      circuit extraction. <b>Extract length clear</b> removes all the entries
      from both the driver and receiver tables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract parents</b></dt>
  <dd class="It-tag">Extract the currently selected cell and all of its parents.
      All of its parents must be loaded in order for this to work correctly. If
      more than one cell is selected, this command uses the upper-leftmost
    one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract showparents</b></dt>
  <dd class="It-tag">Like <b>extract parents</b>, but only print the cells that
      would be extracted; don't actually extract them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract style </b>[<i>style</i>]</dt>
  <dd class="It-tag">Select the style to be used for extraction parameters. If
      no <i>style</i> argument is provided, then Magic prints the names of all
      extraction parameter styles defined in the technology file and identifies
      the current style. If <i>style</i> is provided, it is made the current
      style.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract unique </b>[<b>#</b>]</dt>
  <dd class="It-tag">For each cell in the window beneath the cursor, check to
      insure that no label is attached to more than one node. If the <b>#</b>
      keyword was not specified, whenever a label is attached to more than one
      node, the labels in all but one of the nodes are changed by appending a
      numeric suffix to make them unique. If the <b>#</b> keyword is specified,
      only names that end in a `` <b>#</b>'' are made unique; any other
      duplicate nodenames that don't end in a `` <b>!</b>'' are reported by
      leaving a warning feedback area. This command is provided for converting
      old designs that were intended for extraction with Mextra, which would
      automatically append unique suffixes to node names when they appeared more
      than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract warn</b> [ [<b>no</b>] <i>option</i> |
    [<b>no</b>] <b>all</b> ]</dt>
  <dd class="It-tag">The extractor always reports fatal errors. This command
      controls the types of warnings that are reported. <i>Option</i> may be one
      of the following: <b>dup</b>, to warn about two or more unconnected nodes
      in the same cell that have the same name, <b>fets</b>, to warn about
      transistors with fewer than the minimum number of terminals, and
      <b>labels</b>, to warn when nodes are not labeled in the area of cell
      overlap. In addition, <b>all</b> may be used to refer to all warnings. If
      a warning is preceded by <b>no</b>, it is disabled. To disable all
      warnings, use `` <b>extract warn no all</b>''. To see which warning
      options are in effect, use `` <b>extract warn</b>''.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extresist [</b><i>cell</i> [<i>threshold</i>] ]</dt>
  <dd class="It-tag">Postprocessor for improving on the resistance calculation
      performed by the circuit extractor. To use this command, you first have to
      extract the design rooted at <i>cell</i> with
      <b>:extract&#x00A0;</b><i>cell</i>, and then flatten the design using
      <i>ext2sim</i>(1), producing the files <i>cell</i><b>.sim</b> and
      <i>cell</i> <b>.nodes</b>. Then run <b>:extresist</b><i>&#x00A0;cell</i>
      to produce a file, <i>cell</i><b>.res.ext</b>, containing differences
      between the network described by the <b>.ext</b> files produced the first
      time around, and a new network that incorporates explicit two-point
      resistors where appropriate (see below). This file may be appended to
      <i>cell</i> <b>.ext</b>, and then <i>ext2sim</i>run for a second time, to
      produce a new network with explicit resistors. The <i>threshold</i>
      parameter is used to control which nodes are turned into resistor
      networks: any node whose total resistance exceeds <i>threshold</i> times
      the smallest on-resistance of any transistor connected to that node will
      be approximated as a resistor network.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback </b><i>option</i> [<i>args</i>]</dt>
  <dd class="It-tag">Examine feedback information that is created by several of
      the Magic commands to report problems or highlight certain things for
      users. <i>Option</i> and <i>args</i> are used in the following ways:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback add </b><i>text</i> [<i>style</i>]</dt>
  <dd class="It-tag">Used to create a feedback area manually at the location of
      the box. This is intended as a way for other programs like Crystal to
      highlight things on a layout. They can generate a command file consisting
      of a <b>feedback clear</b> command, and a sequence of <b>box</b> and
      <b>feedback add</b> commands. <i>Text</i> is associated with the feedback
      (it will be printed by <b>feedback why</b> and <b>feedback find</b>).
      <i>Style</i> tells how to display the feedback, and is one of
      <b>dotted</b>, <b>medium</b>, <b>outline</b>, <b>pale</b>, and
      <b>solid</b> (if unspecified, <i>style</i> defaults to <b>pale</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback clear</b></dt>
  <dd class="It-tag">Clears all existing feedback information from the
    screen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback count</b></dt>
  <dd class="It-tag">Prints out a count of the current number of feedback
    areas.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback find </b>[<i>nth</i>]</dt>
  <dd class="It-tag">Used to locate a particular feedback area. If <i>nth</i> is
      specified, the box is moved to the location of the <i>nth</i> feedback
      area. If <i>nth</i> isn't specified, then the box is moved to the next
      sequential feedback area after the last one located with <b>feedback
      find</b>. In either event, the explanation associated with the feedback
      area is printed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback help</b></dt>
  <dd class="It-tag">Prints a short synopsis of all the <b>feedback</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback save </b><i>file</i></dt>
  <dd class="It-tag">This option will save information about all existing
      feedback areas in <i>file</i>. The information is stored as a collection
      of Magic commands, so that it can be recovered with the command <b>source
      </b> <i>file</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>feedback why</b></dt>
  <dd class="It-tag">Prints out the explanations associated with all feedback
      areas underneath the box.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fill <i>direction</i> [<i>layers</i>]</b></dt>
  <dd class="It-tag"><i>Direction</i> is a Manhattan direction (see the section
      DIRECTIONS below). The paint visible under one edge of the box is sampled.
      Everywhere that the edge touches paint, the paint is extended in the given
      direction to the opposite side of the box. For example, if
      <i>direction</i> is <b>north</b>, then paint is sampled under the bottom
      edge of the box and extended to the top edge. If <i>layers</i> is
      specified, then only the given layers are considered; if <i>layers</i>
      isn't specified, then all layers are considered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>findbox [<b>zoom</b>]</b></dt>
  <dd class="It-tag">Center the view on the box. If the optional <b>zoom</b>
      argument is present, zoom into the area specified by the box. This command
      will complain if the box is not in the window you are pointing to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>flush [<i>cellname</i>]</b></dt>
  <dd class="It-tag">Cell <i>cellname</i> is reloaded from disk. All changes
      made to the cell since it was last saved are discarded. If <i>cellname</i>
      is not given, the edit cell is flushed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute </b><i>option</i> [<i>args</i>]</dt>
  <dd class="It-tag">This command, with no <i>option</i> or <i>arg</i>, is like
      the <b>route</b> command: it generates routing in the edit cell to make
      connections specified in the current netlist. (See the <b>route</b>
      command for further information). Unlike the <b>route</b> command, this
      command is intended to be used for routing types of circuits, such as
      gate-arrays, whose routing channels can be determined in advance, and
      which require the ability to river-route across the tops of cells. The
      channels must have been predefined using <b>garoute&#x00A0;channel</b>
      commands prior to this command being invoked. Unlike the <b>route</b>
      command, where the box indicates the routing area, this command ignores
      the box entirely. The new wires are placed in the edit cell. The netlist
      used is that selected by the <b>route netlist</b> command, or the current
      netlist being edited in a <b>netlist</b> window if no <b>route netlist</b>
      command has been given. <i>Options</i> and <i>args</i> have the following
      effects:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute channel </b>[<i>type</i>]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute channel </b><i>xlo ylo xhi yhi
    </i>[<i>type]</i></dt>
  <dd class="It-tag">Define a channel. If <i>xlo</i>, <i>ylo</i>, <i>xhi</i>,
      and <i>yhi</i> are provided, they are interpreted as the coordinates of
      the lower-left and upper-right of the bounding box for the channel
      respectively. Otherwise, the coordinates of the box are used. The boundary
      of each channel is adjusted inward to lie halfway between routing grid
      lines if it does not lie there already; if the channel is adjusted, a
      warning message is printed. The channel defined is an ordinary routing
      channel if <i>type</i> is not specified; such channels are identical to
      those used by the router of the <b>route</b> command. If <i>type</i> is
      given, it must be either <b>h</b> or <b>v</b>. The channel thereby created
      will be a <i>river-routing</i> channel inside which only left-to-right
      routes are possible (`` <b>h</b>'') or top-to-bottom (``<b>v</b>'').
      Unlike a normal channel, a river-routing channel may contain terminals in
      its interior.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute generate</b><i> type </i>[<i>file</i>]</dt>
  <dd class="It-tag">Provides a primitive form of channel decomposition for
      regular structures such as gate-array or standard-cell layouts. Generates
      a collection of <b>garoute channel</b> commands, either to the standard
      output, or to <i>file</i> if the latter is specified. The <i>type</i>
      parameter must be either <b>h</b> or <b>v</b>. The entire area contained
      within the box is turned into routing channels. Each cell inside this area
      has its bounding box computed for purposes of routing by looking only at
      those layers considered to be ``obstacles'' to routing (see ``Tutorial #7:
      Netlists and Routing'' for details). The bounding box just computed is
      then extended all the way to the sides of the area of the box tool,
      vertically if <i>type</i> is <b>h</b> or horizontally if <i>type</i> is
      <b>v</b>. This extended area is then marked as belonging to a
      river-routing channel of type <i>type</i>; adjacent channels of this type
      are merged into a single channel. After all cells are processed, the areas
      not marked as being river-routing channels are output as normal
    channels.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute help</b></dt>
  <dd class="It-tag">Print a short synopsis of all the <b>garoute</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute nowarn</b></dt>
  <dd class="It-tag">If a given terminal appears in more than one place inside a
      cell, the router can leave feedback if it is not possible to route to all
      of the places where the terminal appears. The <b>garoute nowarn</b>
      command instructs the router to leave feedback only if it is not possible
      to route to <i>any</i> of the locations of a terminal. (This is the
      default behavior of <b>garoute</b> router).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute route</b> [<i>netlist</i>]</dt>
  <dd class="It-tag">Route the edit cell. If <i>netlist</i> is not specified,
      the netlist used is the same as when <b>garoute</b> is given with no
      options. If <i>netlist</i> is given, then it is used instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute reset</b></dt>
  <dd class="It-tag">Clear all channels defined by <b>garoute channel</b> in
      preparation for redefining a new set of channels.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>garoute warn</b></dt>
  <dd class="It-tag">The opposite of <b>garoute nowarn</b>, this command
      instructs the router to leave feedback if it is not possible to route to
      all of the places where a terminal appears when a terminal has more than
      one location, even if not all of those locations are actually selected for
      routing by the global router.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>getcell <i>cellName </i>[<b>child</b><i> refPointC</i>]
    [ <b>parent</b><i> refPointP</i>]</b></dt>
  <dd class="It-tag">This command adds a child cell instance to the edit cell.
      The instance refers to the cell <i>cellName</i>; it is positioned so that
      <i>refPointC</i> in the child is at point <i>refPointP</i> in the edit
      cell. The reference points can either be the name of a label, in which
      case the lower-left corner of the label's box is used as the reference
      point, or as a pair of numbers giving the ( <i>x</i>,&#x00A0;<i>y</i>)
      coordinates of a point explicitly. If <i>refPointC</i> is not specified,
      the lower-left corner of <i>cellName</i> cell is used. If <i>refPointP</i>
      is not specified, the lower-left corner of the box tool is used (the box
      must be in a window on the edit cell). The new subcell is selected. The
      difference between this command and <b>dump</b> is that <b>dump</b> copies
      the contents of the cell, while <b>getcell</b> simply makes a reference to
      the original cell. <i>Cellname</i> must not be the edit cell or one of its
      ancestors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>getnode [<b>alias on</b> | <b>alias off</b>]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>getnode [<b>abort </b>[<i>str</i>]]</b></dt>
  <dd class="It-tag">Getnode prints out the node names (used by the extractor)
      for all selected paint. If aliasing turned on, getnode prints all the
      names it finds for a given node. It may not print every name that exists,
      however. When turned off, it just prints one name. The abort option allows
      the user to tell getnode that it is not important to completely search
      nodes that have certain names. For example, <b>getnode abort Vdd</b> will
      tell getnode not to continue searching the node if it determines that one
      of its names is Vdd. A <b>getnode abort</b>, without a string argument,
      will erase the list of names previously created by calling <b>getnode
      abort</b> with string arguments. Getnode can be safely aborted at any time
      by typing the interrupt character, usually ^C. See <i>Tutorial #11: Using
      IRSIM and RSIM with Magic</i> for more information on this command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grid [<i>xSpacing</i> [<i>ySpacing </i>[<i>xOrigin
    yOrigin</i>]]]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grid off</b></dt>
  <dd class="It-tag">If no arguments are given, a one-unit grid is toggled on or
      off in the window underneath the cursor. <b>Grid off</b> always turns the
      grid off, regardless of whether it was on or off previously. If numerical
      arguments are given, the arguments determine the grid spacing and origin
      for the window under the cursor. In its most general form, <b>grid</b>
      takes four integer arguments. <b>XOrigin</b> and <b>yOrigin</b> specify an
      origin for the grid: horizontal and vertical grid lines will pass through
      this point. <b>XSpacing</b> and <b>ySpacing</b> determine the number of
      units between adjacent grid lines. If <b>xOrigin</b> and <b>yOrigin</b>
      are omitted, they default to 0. If <b>ySpacing</b> is also omitted, the
      xSpacing value is used for both spacings. Grid parameters will be retained
      for a window until explicitly changed by another <i>grid</i> command. When
      the grid is displayed, a solid box is drawn to show the origin of the edit
      cell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>identify <i>instance_id</i></b></dt>
  <dd class="It-tag">Set the instance identifier of the selected cell use to
      <i>instance_id</i>. <i>Instance_id</i> must be unique among all instance
      identifiers in the parent of the selected cell. Initially, Magic
      guarantees uniqueness of identifiers by giving each cell an initial
      identifier consisting of the cell definition name followed by an
      underscore and a small integer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute <i>subcommand</i> [<i>args</i>]</b></dt>
  <dd class="It-tag">This command provides an interactive interface to the Magic
      maze-router. Routing is done one connection at a time. Three internal
      <i>hint</i> layers, <b>magnet</b>, <b>fence</b>, and <b>rotate</b>, allow
      the user to guide routing graphically. Routes are chosen close to magnets
      (if possible), routing does not cross fence boundaries, and rotate areas
      reverse the preferred routing directions for each layer. The maze-router
      seeks to find a lowest-cost path. Parameters specifying costs for
      horizontal and vertical routing on each layer, cost for jogs and contacts,
      and cost (per unit area) for distance between a path and magnets, help
      determine the nature of the routes. Several <i>search</i> parameters
      permit tuning to achieve acceptable routes in as short a time as possible.
      Routing can always be interrupted with <b>^C</b>. The iroute subcommands
      are as follows:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute</b></dt>
  <dd class="It-tag">Routes from cursor to inside box.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute contact </b>[<i>type</i>] [<i>parameter</i>]
    [<i>value1</i>] ... [ <i>valuen</i>]</dt>
  <dd class="It-tag">An asterisk, <b>*</b>, can be used for <i>type</i> and
      <i>parameter</i>. This command is for setting and examining parameters
      related to contacts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute help </b>[<i>subcommand</i>]</dt>
  <dd class="It-tag">Summarizes irouter commands. If a <i>subcommand</i> is
      given, usage information for that subcommand is printed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute layers </b>[<i>type</i>] [<i>parameter</i>]
    [<i>value1</i>] ... [ <i>valuen</i>]</dt>
  <dd class="It-tag">An asterisk, <b>*</b>, can be used for <i>type</i> and
      <i>parameter</i>. This command is for setting and examining parameters
      related to route layers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute route </b>[<i>options</i>]</dt>
  <dd class="It-tag">Invokes the router. Options are as follows:
    <br/>
    <pre>
<b>-sLayers</b><i> layers</i> = layers route may start on
<b>-sCursor</b> = start route at cursor (DEFAULT)
<b>-sLabel </b><i>name</i> = start route at label of given name
<b>-sPoint </b><i>x y</i> = start route at given coordinates
<b>-dLayers</b><i> layers</i> = layers route may end on
<b>-dBox</b> = route to box (DEFAULT)
<b>-dLabel</b><i> name</i> = route to label of given name
<b>-dRect</b><i> xbot ybot xtop ytop</i> = route to rectangle of given coordinates
<b>-dSelection</b><i> = route to selection</i>
<br/>
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute saveParameters </b>&lt;<i>filename</i>&gt;</dt>
  <dd class="It-tag">Saves all current irouter parameter settings. The
      parameters can be restored to these values with the command `` <b>source
      </b> <i>filename</i>''.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute search </b>[<i>searchParameter</i>]
    [<i>value</i>]</dt>
  <dd class="It-tag">Allows parameters controlling the search to be modified. If
      routing is too slow try increasing <b>rate</b>. If the router is producing
      bad results, try reducing <b>rate</b>. Its a good idea to make
      <b>width</b> at least twice as big as <b>rate</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute spacings </b>[<i>route-type</i>] [<i>type</i>]
    [<i>spacing</i>] ... [<i>typen spacingn</i>]</dt>
  <dd class="It-tag">Default minimum spacings between a route-type placed by the
      router and other types are derived from the <b>drc</b> section of the
      technology file. The defaults can be overridden by this command. The
      special type <b>SUBCELL</b> is used to specify minimum spacing to
      unexpanded subcells.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute verbosity </b>[<i>level</i>]</dt>
  <dd class="It-tag">Controls the number of messages printed during routing:
    <br/>
    <pre>
<b>0</b> = errors and warnings only,
<b>1</b> = brief,
<b>2</b> = lots of statistics.
<br/>
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute version</b></dt>
  <dd class="It-tag">Prints irouter version information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>iroute wizard </b>[<i>wizardparameter</i>]
    [<i>value</i>]</dt>
  <dd class="It-tag">Used to examine and set miscellaneous parameters. Most of
      these are best left alone by the unadventurous user.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>label <i>string </i>[<i>pos </i>[<i>layer</i>]]</b></dt>
  <dd class="It-tag">A label with text <i>string</i> is positioned at the box
      location. Labels may cover points, lines, or areas, and are associated
      with specific layers. Normally the box is collapsed to either a point or
      to a line (when labeling terminals on the edges of cells). Normally also,
      the area under the box is occupied by a single layer. If no <i>layer</i>
      argument is specified, then the label is attached to the layer under the
      box, or space if no layer covers the entire area of the box. If
      <i>layer</i> is specified but <i>layer</i> doesn't cover the entire area
      of the box, the label will be moved to another layer or space. Labels
      attached to space will be considered by CIF processing programs to be
      attached to all layers overlapping the area of the label. <i>Pos</i> is
      optional, and specifies where the label text is to be displayed relative
      to the box (e.g. ``north''). If <i>pos</i> isn't given, Magic will pick a
      position to ensure that the label text doesn't stick out past the edge of
      the cell.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>layers</b></dt>
  <dd class="It-tag">Prints out the names of all the layers defined for the
      current technology.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>load [<i>file</i>]</b></dt>
  <dd class="It-tag">Load the cell hierarchy rooted at <i>file</i><b>.mag</b>
      into the window underneath the cursor. If no <i>file</i> is supplied, a
      new unnamed cell is created. The root cell of the hierarchy is made the
      edit cell unless there is already an edit cell in a different window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>move [<i>direction </i>[<i>amount</i>]]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>move to <i>x y</i></b></dt>
  <dd class="It-tag">If no arguments are given, the selection is picked up by
      the point underneath the lower-left corner of the box and moved so that
      this point lies at the cursor location. If <i>direction</i> is given, it
      must be a Manhattan direction (e.g. <b>north</b>). The selection is moved
      in that direction by <i>amount</i>. If the box is in the same window as
      the selection, it is moved too. <i>Amount</i> defaults to 1. Selected
      material that is not in the edit cell, is not affected. The second form of
      the command is as though the cursor were pointing to ( <i>x,&#x00A0;y</i>)
      in the edit cell; the selection is picked up by the point beneath the
      lower-left corner of the box and moved so that this point lies at (
      <i>x</i>, <i>&#x00A0;y</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>paint <i>layers</i></b></dt>
  <dd class="It-tag">The area underneath the box is painted in
    <i>layers</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>path [<i>searchpath</i>]</b></dt>
  <dd class="It-tag">This command tells Magic where to look for cells.
      <i>Searchpath</i> contains a list of directories separated by colons or
      spaces (if spaces are used, then <i>searchpath</i> must be surrounded by
      quotes). When looking for a cell, Magic will check each directory in the
      path in order, until the cell is found. If the cell is not found anywhere
      in the path, Magic will look in the system library for it. If the
      <i>path</i> command is invoked with no arguments, the current search path
      is printed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plot <i>option</i> [<i>args</i>]</b></dt>
  <dd class="It-tag">Used to generate hardcopy plots direct from Magic.
      <i>Options</i> and <i>args</i> are used in the following ways:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>plot gremlin </b><i>file</i> [<i>layers</i>]</dt>
  <dd class="It-tag">Generate a Gremlin-format description of everything under
      the box, and write the description in <i>file</i>. If <i>layers</i> isn't
      specified, paint, labels, and unexpanded subcells are all included in the
      Gremlin file just as they appear on the screen. If <i>layers</i> is
      specified, then just the indicated layers are output in the Gremlin file.
      <i>Layers</i> may include the special layers <b>labels</b> and
      <b>subcell</b>. The Gremlin file is scaled to have a total size between
      256 and 512 units; you should use the <b>width</b> and/or <b>height</b>
      Grn commands to ensure that the printed version is the size you want. Use
      the <b>mg</b> stipples in Grn. No plot parameters are used in Gremlin
      plotting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plot help</b></dt>
  <dd class="It-tag">Print a short synopsis of all the <b>plot</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plot parameters [</b><i>name value</i>]</dt>
  <dd class="It-tag">If <b>plot parameters</b> is invoked with no additional
      arguments, the values for all of the plot parameters are printed. If
      <i>name</i> and <i>value</i> are provided, then <i>name</i> is the name of
      a plot parameter and <i>value</i> is a new value for it. Plot parameters
      are used to control various aspects of plotting; all of them have
      ``reasonable'' initial values. Most of the parameters available now are
      used to control Versatec-style plotting. They are:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>cellIdFont</b></dt>
  <dd class="It-tag">The name of the font to use for cell instance ids in
      Versatec plots. This must be a file in Vfont format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cellNameFont</b></dt>
  <dd class="It-tag">The name of the font to use for cell names in Versatec
      plots. This must be a file in Vfont format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>color</b></dt>
  <dd class="It-tag">If this is set to <b>true</b>, the <b>:plot versatec</b>
      command will generate output suitable for a four-color Versatec plotter,
      using the styles defined in the <b>colorversatec</b> style of the
      <b>plot</b> section of the technology file. If <b>color</b> is
      <b>false</b> (the default), then <b>:plot versatec</b> generates normal
      black-and-white plots.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>directory</b></dt>
  <dd class="It-tag">The name of the directory in which to create raster files
      for the Versatec. The raster files have names of the form
      <b>magicPlotXXXXXX</b>, where <b>XXXXXX</b> is a process-specific
      identifier.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dotsPerInch</b></dt>
  <dd class="It-tag">Indicates how many dots per inch there are on the Versatec
      printer. This parameter is used only for computing the scale factor for
      plotting. Must be an integer greater than zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>labelFont</b></dt>
  <dd class="It-tag">The name of the font to use for labels in Versatec plots.
      This must be a file in Vfont format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>printer</b></dt>
  <dd class="It-tag">The name of the printer to which to spool Versatec raster
      files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>showcellnames</b></dt>
  <dd class="It-tag">If ``true'' (the default) then the name and
      instance-identifier of each unexpanded subcell is displayed inside its
      bounding box. If this parameter is ``false'' then only the bounding box of
      the cell is displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>spoolCommand</b></dt>
  <dd class="It-tag">The command used to spool Versatec raster files. This must
      be a text string containing two ``%s'' formatting fields. The first ``%s''
      will be replaced with the printer name, and the second one will be
      replaced with the name of the raster file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>swathHeight</b></dt>
  <dd class="It-tag">How many raster lines of Versatec output to generate in
      memory at one time. The raster file is generated in swaths in order to
      keep the memory requirements reasonable. This parameter determines the
      size of the swaths. It must be an integer greater than zero, and should be
      a multiple of 16 in order to avoid misalignment of stipple patterns.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>width</b></dt>
  <dd class="It-tag">The number of pixels across the Versatec printer. Must be
      an integer greater than 0, and must be an even multiple of 32.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plot versatec </b>[<i>size</i> [<i>layers</i>]]</dt>
  <dd class="It-tag">Generate a raster file describing all the the information
      underneath the box in a format suitable for printing on Versatec
      black-and-white or color printers, and spool the file for printing. See
      the plot parameters above for information about the parameters that are
      used to control Versatec plotting. <i>Size</i> is used to scale the plot:
      a scalefactor is chosen so that the area of the box is <i>size</i> inches
      across on the printed page. <i>Size</i> defaults to the width of the
      printer. <i>Layers</i> selects which layers (including labels and
      subcells) to plot; it defaults to everything visible on the screen.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow <i>direction</i> [<i>layers</i>]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow <i>option</i> [<i>args</i>]</b></dt>
  <dd class="It-tag">The first form of this command invokes the plowing
      operation to stretch and/or compact a cell. <i>Direction</i> is a
      Manhattan direction. <i>Layers</i> is an optional collection of mask
      layers, which defaults to <b>*</b>. One of the edges of the box is treated
      as a plow and dragged to the opposite edge of the box (e.g. the left edge
      is used as the plow when <b>plow right</b> is invoked). All edges on
      <i>layers</i> that lie in the plow's path are pushed ahead of it, and they
      push other edges ahead of them to maintain design rules, connectivity, and
      transistor and contact sizes. Subcells are moved in their entirety without
      being modified internally. Any mask information overlapping a subcell
      moved by plowing is also moved by the same amount. <i>Option</i> and
      <i>args</i> are used in the following ways:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow boundary</b></dt>
  <dd class="It-tag">The box specifies the area that may be modified by plowing.
      This area is highlighted with a pale stipple outline. Subsequent plows are
      not allowed to modify any area outside that specified by the box; if they
      do, the distance the plow moves is reduced by an amount sufficient to
      insure that no geometry outside the boundary gets affected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow help</b></dt>
  <dd class="It-tag">Prints a short synopsis of all the <b>plow</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow horizon</b><i>&#x00A0;n</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow horizon</b></dt>
  <dd class="It-tag">The first form sets the plowing jog horizon to <i>n</i>
      units. The second form simply prints the value of the jog horizon. Every
      time plowing considers introducing a jog in a piece of material, it looks
      up and down that piece of material for a distance equal to the jog
      horizon. If it finds an existing jog within this distance, it uses it.
      Only if no jog is found within the jog horizon does plowing introduce one
      of its own. A jog horizon of zero means that plowing will always introduce
      new jogs where needed. A jog horizon of infinity ( <b>plow nojogs</b>)
      means that plowing will not introduce any new jogs of its own.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow jogs</b></dt>
  <dd class="It-tag">Re-enable jog insertion with a horizon of 0. This command
      is equivalent to <b>plow horizon 0</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow noboundary</b></dt>
  <dd class="It-tag">Remove any boundary specified with a previous <b>plow
      boundary</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow nojogs</b></dt>
  <dd class="It-tag">Sets the jog horizon to infinity. This means that plowing
      will not introduce any jogs of its own; it will only use existing
    ones.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow nostraighten</b></dt>
  <dd class="It-tag">Don't straighten jogs automatically after each plow
      operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow selection </b>[<i>direction
    </i>[<i>distance</i>]]</dt>
  <dd class="It-tag">Like the <b>move</b> or <b>stretch</b> commands, this moves
      all the material in the selection that belongs to the edit cell. However,
      any material not in the selection is pushed out of its way, just as though
      each piece of the selection were plowed individually. If no arguments are
      given, the selection is picked up by the point underneath the lower-left
      corner of the box and plowed so that this point lies at the cursor
      location. The box is moved along with the selection. If <i>direction</i>
      is given, it must be a Manhattan direction (e.g. <b>north</b>). The
      selection is moved in that direction by <i>amount</i>. If the box is in
      the same window as the selection, it is moved too. <i>Amount</i> defaults
      to 1. If there is selected material that isn't in the edit cell, it is
      ignored (note that this is different from <b>select</b> and <b>move</b>).
      If <i>direction</i> isn't given and the cursor isn't exactly left, right,
      up, or down from the box corner, then Magic first rounds the cursor
      position off to a position that is one of those (whichever is
    closest).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>plow straighten</b></dt>
  <dd class="It-tag">Straighten jogs automatically after each plow operation.
      The effect will be as though the <b>straighten</b> command were invoked
      after each plow operation, with the same direction, and over the area
      changed by plowing.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>resist </b><i>cell</i> [<i>tolerance</i>]</dt>
  <dd class="It-tag">This command is similar to <b>extresist</b> above, but used
      for extracting resistance networks for individual nodes. Only the node
      underneath the box is processed. The network for this node is output to
      the file <i>cell</i><b>.res.ext</b>. See the description for
      <b>extresist</b> for an explanation of <i>tolerance</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route </b><i>option</i> [<i>args</i>]</dt>
  <dd class="It-tag">This command, with no <i>option</i> or <i>arg</i>, is used
      to generate routing using the Magic router in the edit cell to make
      connections specified in the current netlist. The box is used to indicate
      the routing area: no routing will be placed outside the area of the box.
      The new wires are placed in the edit cell. <i>Options</i> and <i>args</i>
      have the following effects:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>route end </b>[<i>real</i>]</dt>
  <dd class="It-tag">Print the value of the channel end constant used by the
      channel router. If a value is supplied, the channel end constant is set to
      that value. The channel end constant is a dimensionless multiplier used to
      compute how far from the end of a channel to begin preparations to make
      end connections.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route help</b></dt>
  <dd class="It-tag">Print a short synopsis of all the <b>route</b> command
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route jog </b>[<i>int</i>]</dt>
  <dd class="It-tag">Print the value of the minimum jog length used by the
      channel router. If a value is supplied, the minimum jog length is set to
      that value. The channel router makes no vertical jogs shorter than the
      minimum jog length, measured in router grid units. Higher values for this
      constant may improve the quality of the routing by removing unnecessary
      jogs; however, prohibiting short jogs may make some channels
    unroutable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route metal</b></dt>
  <dd class="It-tag">Toggle metal maximization on or off. The route command
      routes the preferred routing layer (termed ``metal'') horizontally and the
      alternate routing layer vertically. By default wires on the alternate
      routing layer are then converted, as much as possible, to the preferred
      layer before being painted into the layout. Enabling metal maximization
      improves the quality of the resulting routing, since the preferred routing
      layer generally has better electrical characteristics; however, designers
      wishing to do hand routing after automatic routing may find it easier to
      disable metal maximization and deal with a layer-per-direction
    layout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route netlist </b>[<i>file</i>]</dt>
  <dd class="It-tag">Print the name of the current netlist. If a file name is
      specified, it is opened if possible, and the new netlist is loaded. This
      option is provided primarily as a convenience so you need not open the
      netlist menu before routing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route obstacle </b>[<i>real</i>]</dt>
  <dd class="It-tag">Print the obstacle constant used by the channel router. If
      a value is supplied, set the channel router obstacle constant to that
      value. The obstacle constant is a dimensionless multiplier used in
      deciding how far in front of an obstacle the channel router should begin
      jogging nets out of the way. Larger values mean that nets will jog out of
      the way earlier; however, if nets jog out of the way too early routing
      area is wasted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route origin </b>[<i>x y</i>]</dt>
  <dd class="It-tag">Print the x- and y-coordinates of the origin of the routing
      grid. By default, the routing grid starts from (0,0). However, by
      supplying an <i>x</i> and <i>y</i> coordinate to the <b>route origin</b>
      command, the origin can be set to any other value. This command is
      primarily useful when routing a chip that has been designed with routing
      on the same pitch as the router will use, but where the left and bottom
      edges of the pre-existing routing don't line up with the routing grid
      lines (for example, the pre-existing routing might have been centered on
      routing grid lines). The alternative to specifying a different origin for
      the routing grid would be to translate all the material in the cell to be
      routed so that the prewiring lined up properly with routing grid
    lines.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route settings</b></dt>
  <dd class="It-tag">Print the values of all router parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route steady </b>[<i>int</i>]</dt>
  <dd class="It-tag">Print the value of the channel router's steady net
      constant. If a value is supplied, set the steady net constant to the
      value. The steady net constant, measured in router grid units, specifies
      how far beyond the next terminal the channel router should look for a
      conflicting terminal before deciding that a net is rising or falling.
      Larger values mean that the net rises and falls less often.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route tech</b></dt>
  <dd class="It-tag">Print the router technology information. This includes
      information such as the names of the preferred and alternate routing
      layers, their wire widths, the router grid spacing, and the contact
    size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route viamin</b></dt>
  <dd class="It-tag">Minimize vias in (previously) routed netlist. This
      subcommand removes unnecessary layer changes in all nets in the current
      netlist to minimize via count. The preferred routing layer, <b>layer1</b>
      in the <b>router</b> section of the technology file, is favored by the
      algorithm. Note that `` <b>route viamin</b>'' is an independent routing
      postpass that can be applied even if the routing was not generated by the
      <b>route</b> command, provided the layers and widths agree with the
      <b>router</b> section of the technology file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>route vias </b>[<i>int</i>]</dt>
  <dd class="It-tag">Print the value of the metal maximization via constant. If
      a value is supplied, set the via constant to the value. The via constant,
      measured in router grid units, represents the tradeoff between metal
      maximization and the via count. In many cases it is possible to convert
      wiring on the alternate routing layer into routing on the preferred
      routing layer (``metal'') at the expense of introducing one or two vias.
      The via constant specifies the amount of converted wiring that makes it
      worthwhile to add vias to the routing.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>rsim </b>[<i>options</i>] [<i>filename</i>]</b></dt>
  <dd class="It-tag">Runs rsim under Magic. See <i>Tutorial #11: Using IRSIM and
      RSIM with Magic</i> for more information on what options and files are
      required by rsim. Normally, IRSIM requires a parameter file for the
      technology and a <b>.sim</b> file describing the circuit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The <b>rsim</b> command without any options can be used to
      interact with a previously-started rsim. Type <b>rsim</b> and you will see
      the rsim prompt. To get back to magic, type <b>q</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save [<i>name</i>]</b></dt>
  <dd class="It-tag">Save the edit cell on disk. If the edit cell is currently
      the ``(UNNAMED)'' cell, <i>name</i> must be specified; in this case the
      edit cell is renamed to <i>name</i> as well as being saved in the file
      <i>name</i>. <b>mag</b>. Otherwise, <i>name</i> is optional. If specified,
      the edit cell is saved in the file <i>name</i>.<b>mag</b>; otherwise, it
      is saved in the file from which it was originally read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>see <i>option</i></b></dt>
  <dd class="It-tag">This command is used to control which layers are to be
      displayed in the window under the cursor. It has several forms:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>see no </b><i>layers</i></dt>
  <dd class="It-tag">Do not display the given layers in the window under the
      cursor. If <b>labels</b> is given as a layer name, don't display labels in
      that window either. If <b>errors</b> is given as a layer, no design-rule
      violations will be displayed (the checker will continue to run, though).
      If <i>layers</i> is given as &quot;*&quot;, all mask layers will be
      disabled, but errors and labels will still be shown. See the
      &quot;LAYERS&quot; section at the end of this manual page for an
      explanation of layer naming in Magic.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>see </b><i>layers</i></dt>
  <dd class="It-tag">Reenable display of the given <i>layers</i>. Note that
      &quot;*&quot; expands to all mask layers, but does not include the label
      or error layers. See the &quot;LAYERS&quot; section at the end of this
      manual page for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>see no</b></dt>
  <dd class="It-tag">Don't display any mask layers or labels. Only subcell
      bounding boxes will be displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>see</b></dt>
  <dd class="It-tag">Reenable display of all mask layers, labels, and
    errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>see allSame</b></dt>
  <dd class="It-tag">Display all cells the same way. This disables the facility
      where the edit cell is displayed in bright colors and non-edit cells are
      in paler colors. After <b>see allSame</b>, all mask information will be
      displayed in bright colors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>see no allSame</b></dt>
  <dd class="It-tag">Reenable the facility where non-edit cells are drawn in
      paler colors.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select <i>option</i></b></dt>
  <dd class="It-tag">This command is used to select paint, labels, and subcells
      before operating on them with commands like <b>move</b> and <b>copy</b>
      and <b>delete</b>. It has several forms:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>select</b></dt>
  <dd class="It-tag">If the cursor is over empty space, then this command is
      identical to <b>select cell</b>. Otherwise, paint is selected. The first
      time the command is invoked, a chunk of paint is selected: the largest
      rectangular area of material of the same type visible underneath the
      cursor. If the command is invoked again without moving the cursor, the
      selection is extended to include all material of the same type, regardless
      of shape. If the command is invoked a third time, the selection is
      extended again to include all material that is visible and electrically
      connected to the point underneath the cursor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select more</b></dt>
  <dd class="It-tag">This command is identical to <b>select</b> except that the
      selection is not first cleared. The result is to add the newly-selected
      material to what is already in the selection.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select less</b></dt>
  <dd class="It-tag">This chooses material just as <b>select</b> does, but the
      material is removed from the selection, rather than added to it. The
      result is to deselect the chosen material.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select [<b>more</b> | <b>less</b>] <b>area</b><i>
    layers</i></b></dt>
  <dd class="It-tag">Select material by area. If <i>layers</i> are not
      specified, then all paint, labels, and unexpanded subcells visible
      underneath the box are selected. If <i>layers</i> is specified, then only
      those layers are selected. If <b>more</b> is specified, the new material
      is added to the current selection rather than replacing it. If <b>less</b>
      is specified, the new material is removed from the selection
    (deselected).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select [<b>more</b> | <b>less</b>] <b>cell</b><i>
    name</i></b></dt>
  <dd class="It-tag">Select a subcell. If <i>name</i> isn't given, this command
      finds a subcell that is visible underneath the cursor and selects it. If
      the command is repeated without moving the cursor then it will step
      through all the subcells under the cursor. If <i>name</i> is given, it is
      treated as a hierarchical instance identifier starting from the root of
      the window underneath the cursor. The named cell is selected. If
      <b>more</b> is specified, the new subcell is added to the current
      selection instead of replacing it. If <b>less</b> is specified, the new
      subcell is removed from the selection (deselected).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select clear</b></dt>
  <dd class="It-tag">Clear out the selection. This does not affect the layout;
      it merely deselects everything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select help</b></dt>
  <dd class="It-tag">Print a short synopsis of the selection commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select save <i>cell</i></b></dt>
  <dd class="It-tag">Save all the information in the selection as a Magic cell
      on disk. The selection will be saved in file <i>cell</i><b>.mag</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>select and the see command</i></dt>
  <dd class="It-tag">Select interacts with the <b>see</b> command. When
      selecting individual pieces of material, only visible layers are
      candidates for selection. When selecting an entire area, however, both
      visible and non-visible material is selected. This behavior allows entire
      regions of material to be moved, even if <b>see</b> has been used to turn
      off the display of some of the layers.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sideways</b></dt>
  <dd class="It-tag">Flip the selection left-to-right about a vertical axis
      running through the center of the selection's area. If the box is in the
      same window as the selection, it is flipped too. Selected material not in
      the edit cell is not affected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>simcmd <i>cmd</i></b></dt>
  <dd class="It-tag">Sends the command <i>cmd</i> to rsim for execution. See
      <i>Tutorial #11: Using IRSIM and RSIM with Magic</i> for more
    information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snap [<b>on</b>]</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>snap [<b>off</b>]</b></dt>
  <dd class="It-tag">Control whether the box and point are snapped to the grid
      selected for the windows in which they appear (the grid was set by the
      <b>grid</b> command), or to the standard 1x1 grid. The default is for
      snapping to be <b>off</b>, i.e., snapping to a 1x1 grid. With no
      arguments, <b>snap</b> prints whether snapping is enabled or not.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>startrsim </b>[<i>options</i>]
    [<i>filename</i>]</b></dt>
  <dd class="It-tag">Similar to the <b>rsim</b> command, except it returns to
      Magic as soon as rsim is started. See <i>Tutorial #11: Using IRSIM and
      RSIM with Magic</i> for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>straighten <i>direction</i></b></dt>
  <dd class="It-tag">Straighten jogs in wires underneath the box by pulling them
      in <i>direction</i>. Jogs are only straightened if doing so will cause no
      additional geometry to move.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stretch [<i>direction </i>[<i>amount</i>]]</b></dt>
  <dd class="It-tag">This command is identical to <b>move</b> except that simple
      stretching occurs as the selection is moved. Each piece of paint in the
      selection causes the area through which it's moved to be erased in that
      layer. Also, each piece of paint in the selection that touches unselected
      material along its back side causes extra material to be painted to fill
      in the gap left by the move. If <i>direction</i> isn't given and the
      cursor isn't exactly left, right, up, or down from the box corner, then
      Magic first rounds the cursor position off to a position that is one of
      those (whichever is closest).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tool [<i>name</i> | <b>info</b>]</b></dt>
  <dd class="It-tag">Change the current tool. The result is that the cursor
      shape is different and the mouse buttons mean different things. The
      command <b>tool info</b> prints out the meanings of the buttons for the
      current tool. <b>Tool </b><i>name</i> changes the current tool to
      <i>name</i>, where <i>name</i> is one of <b>box</b>, <b>wiring</b>, or
      <b>netlist</b>. If <b>tool</b> is invoked with no arguments, it picks a
      new tool in circular sequence: multiple invocations will cycle through all
      of the available tools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unexpand</b></dt>
  <dd class="It-tag">Unexpand all cells that touch the box but don't completely
      contain it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>upsidedown</b></dt>
  <dd class="It-tag">Flip the selection upside down about a horizontal axis
      running through the center of the selection's area. If the box is in the
      same window as the selection then it is flipped too. Selected material
      that is not in the edit cell is not changed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>what</b></dt>
  <dd class="It-tag">Print out information about all the things that are
      selected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire <i>option </i>[<i>args</i>]</b></dt>
  <dd class="It-tag">This command provides a centerline-wiring style user
      interface. <i>Option</i> and <i>args</i> specify a particular wiring
      option, as described below. Some of the options can be invoked via mouse
      buttons when the <b>wiring</b> tool is active.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire help</b></dt>
  <dd class="It-tag">Print out a synopsis of the various wiring commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire horizontal</b></dt>
  <dd class="It-tag">Just like <b>wire leg</b> except that the new segment is
      forced to be horizontal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire leg</b></dt>
  <dd class="It-tag">Paint a horizontal or vertical segment of wire from one
      side of the box over to the cursor's x- or y-location (respectively). The
      direction (horizontal or vertical) is chosen so as to produce the longest
      possible segment. The segment is painted in the current wiring material
      and thickness. The new segment is selected, and the box is placed at its
      tip.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire switch <b>[</b><i>layer width</i>]</b></dt>
  <dd class="It-tag">Switch routing layers and place a contact at the box
      location. The contact type is chosen to connect the old and new routing
      materials. The box is placed at the position of the contact, and the
      contact is selected. If <i>layer</i> and <i>width</i> are specified, they
      are used as the new routing material and width, respectively. If they are
      not specified, the new material and width are chosen to correspond to the
      material underneath the cursor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire type <b>[</b><i>layer width</i>]</b></dt>
  <dd class="It-tag">Pick a material and width for wiring. If <i>layer</i> and
      <i>width</i> are not given, then they are chosen from the material
      underneath the cursor, a square chunk of material is selected to indicate
      the layer and width that were chosen, and the box is placed over this
      chunk. If <i>layer</i> and <i>width</i> are given, then this command does
      not modify the box position.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wire vertical</b></dt>
  <dd class="It-tag">Just like <b>wire leg</b> except that the new segment is
      forced to be vertical.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>writeall [<b>force</b>]</b></dt>
  <dd class="It-tag">This command steps through all the cells that have been
      modified in this edit session and gives you a chance to write them out. If
      the <b>force</b> option is specified, then ``autowrite'' mode is used: all
      modified cells are automatically written without asking for permission.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMANDS_FOR_ALL_WINDOWS"><a class="selflink" href="#COMMANDS_FOR_ALL_WINDOWS">COMMANDS
  FOR ALL WINDOWS</a></h1>
These commands are not used for layout, but are instead used for overall,
  housekeeping functions. They are valid in all windows.
<dl class="Bl-tag">
  <dt class="It-tag"><b>closewindow</b></dt>
  <dd class="It-tag">The window under the cursor is closed. That area of the
      screen will now show other windows or the background.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>echo </b>[<b>-n</b>] <i>str1 str2 ... strN</i></dt>
  <dd class="It-tag">Prints <i>str1 str2 ... strN</i> in the text window,
      separated by spaces and followed by a newline. If the <b>-n</b> switch is
      given, no newline is output after the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b> [<i>pattern</i>]</dt>
  <dd class="It-tag">Displays a synopsis of commands that apply to the window
      you are pointing to. If <i>pattern</i> is given then only command
      descriptions containing the pattern are printed. <i>Pattern</i> may
      contain '*' and '?' characters, which match a string of non-blank
      characters or a single non-blank character (respectively).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>logcommands [<i>file </i>[<b>update</b>]]]</b></dt>
  <dd class="It-tag">If <i>file</i> is given, all further commands are logged to
      that file. If no arguments are given, command logging is terminated. If
      the keyword <b>update</b> is present, commands are output to the file to
      cause the screen to be updated after each command when the command file is
      read back in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>macro [<i>char </i>[<i>command</i>]]</b></dt>
  <dd class="It-tag"><i>Command</i> is associated with <i>char</i> such that
      typing <i>char</i> on the keyboard is equivalent to typing ``:'' followed
      by <i>command</i>. If <i>command</i> is omitted, the current macro for
      <i>char</i> is printed. If <i>char</i> is also omitted, then all current
      macros are printed. If <i>command</i> contains spaces, tabs, or semicolons
      then it must be placed in quotes. The semicolon acts as a command
      separator allowing multiple commands to be combined in a single
    macro.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>openwindow [<i>cell</i>]</b></dt>
  <dd class="It-tag">Open a new, empty window at the cursor position. Placement,
      sizing, and methods of manipulation are determined by the conventions of
      the window system in use. If <i>cell</i> is specified, then that cell is
      displayed in the new window. Otherwise the area of the box will be
      displayed in the new window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pushbutton <i>button action</i></b></dt>
  <dd class="It-tag">Simulates a button push. Button should be <b>left</b>,
      <b>middle</b>, or <b>right</b>. Action is one of <b>up</b>, or
      <b>down</b>. This command is normally invoked only from command scripts
      produced by the <b>logcommands</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quit</b></dt>
  <dd class="It-tag">Exit Magic and return to the shell. If any cells,
      colormaps, or netlists have changed since they were last saved on disk,
      you are given a chance to abort the command and continue in Magic.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>redo [<i>n</i>]</b></dt>
  <dd class="It-tag">Redo the last <i>n</i> commands that were undone using
      <b>undo</b> (see below). The number of commands to redo defaults to 1 if
      <i>n</i> is not specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>redraw</b></dt>
  <dd class="It-tag">Redraw the graphics screen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>scroll <i>direction </i>[<i>amount</i>]</b></dt>
  <dd class="It-tag">The window under the cursor is moved by <i>amount</i>
      screenfulls in <i>direction</i> relative to the circuit. If <i>amount</i>
      is omitted, it defaults to 0.5.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>send <i>type command</i></b></dt>
  <dd class="It-tag">Send a <i>command</i> to the window client named by
      <i>type</i>. The result is just as if <i>command</i> had been typed in a
      window of type <i>type</i>. See <b>specialopen</b>, below, for the
      allowable types of windows.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>setpoint [<i>x y</i> [<i>windowID</i>]]</b></dt>
  <dd class="It-tag">Fakes the location of the cursor up until after the next
      interactive command. Without arguments, just prints out the current point
      location. This command is normally invoked only from command scripts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <i>windowID</i> is given, then the point is assumed to
      be in that window's screen coordinate system rather than absolute screen
      coordinates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sleep <i>n</i></b></dt>
  <dd class="It-tag">Causes Magic to go to sleep for <i>n</i> seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>source <i>filename</i></b></dt>
  <dd class="It-tag">Each line of <i>filename</i> is read and processed as one
      command. Any line whose last character is backslash is joined to the
      following line. The commands <b>setpoint</b>, <b>pushbutton</b>,
      <b>echo</b>, <b>sleep</b>, and <b>updatedisplay</b> are useful in command
      files, and seldom used elsewhere.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>specialopen [<i>x1 y1 x2 y2</i>] <i>type</i>
    [<i>args</i>]</b></dt>
  <dd class="It-tag">Open a window of type <i>type</i>. If the optional <i>x1 y1
      x2 y2</i> coordinates are given, then the new window will have its lower
      left corner at screen coordinates ( <i>x1</i>, <i>y1</i>) and its upper
      right corner at screen coordinates ( <i>x2</i>, <i>y2</i>). The
      <i>args</i> arguments are interpreted differently depending upon the type
      of the window. These types are known:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>layout</b></dt>
  <dd class="It-tag">This type of window is used to edit a VLSI cell. The
      command takes a single argument which is used as the name of a cell to be
      loaded. The command
    <div>&#x00A0;</div>
     <b>open </b><i>filename</i>
    <div>&#x00A0;</div>
    is a shorthand for the command
    <div>&#x00A0;</div>
     <b>specialopen layout </b><i>filename</i>.
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>color</b></dt>
  <dd class="It-tag">This type of window allows the color map to be edited. See
      the section COMMANDS FOR COLORMAP EDITING below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>netlist</b></dt>
  <dd class="It-tag">This type of window presents a menu that can be used to
      place labels, and to generate and edit net-lists. See the section COMMANDS
      FOR NETLIST EDITING below.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>underneath</b></dt>
  <dd class="It-tag">Move the window pointed at so that it lies underneath the
      rest of the windows.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>undo [<i>count</i>]</b></dt>
  <dd class="It-tag">Undoes the last <i>count</i> commands. Almost all commands
      in Magic are now undo-able. The only holdouts left are cell
      expansion/unexpansion, and window modifications (change of size, zooming,
      etc.). If <i>count</i> is unspecified, it defaults to 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>updatedisplay</b></dt>
  <dd class="It-tag">Update the display. This command is normally invoked only
      from command scripts. Scripts that do not contain this command update the
      screen only at the end of the script.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>view</b></dt>
  <dd class="It-tag">Choose a view for the window underneath the cursor so that
      everything in the window is visible.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>windscrollbars [<i>on</i>|<i>off</i>]</b></dt>
  <dd class="It-tag">Set the flag that determines if new windows will have
      scroll bars.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>windowpositions [<i>file</i>]</b></dt>
  <dd class="It-tag">Write out the positions of the windows in a format suitable
      for the <b>source</b> command. If <i>file</i> is specified, then write it
      out to that file instead of to the terminal.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zoom [<i>factor</i>]</b></dt>
  <dd class="It-tag">Zoom the view in the window underneath the cursor by
      <i>factor</i>. If <i>factor</i> is less than 1, we zoom in; if it is
      greater than one, we zoom out.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="MOUSE_BUTTONS_FOR_NETLIST_WINDOWS"><a class="selflink" href="#MOUSE_BUTTONS_FOR_NETLIST_WINDOWS">MOUSE
  BUTTONS FOR NETLIST WINDOWS</a></h1>
When the netlist menu is opened using the command <b>special netlist</b>, a menu
  appears on the screen. The colored areas on the menu can be clicked with
  various mouse buttons to perform various actions, such as placing labels and
  editing netlists. For details on how to use the menu, see ``Magic Tutorial #7:
  Netlists and Routing''. The menu buttons all correspond to commands that could
  be typed in netlist or layout windows.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS_FOR_NETLIST_WINDOWS"><a class="selflink" href="#COMMANDS_FOR_NETLIST_WINDOWS">COMMANDS
  FOR NETLIST WINDOWS</a></h1>
The commands described below work if you are pointing to the interior of the
  netlist menu. They may also be invoked when you are pointing at another window
  by using the <b>send netlist</b> command. Terminal names in all of the
  commands below are hierarchical names consisting of zero or more cell use ids
  separated by slashes, followed by the label name, e.g.
  <b>toplatch/shiftcell_1/in</b>. When processing the terminal paths, the search
  always starts in the edit cell.
<dl class="Bl-tag">
  <dt class="It-tag"><b>add </b><i>term1 term2</i></dt>
  <dd class="It-tag">Add the terminal named <i>term1</i> to the net containing
      terminal <i>term2</i>. If <i>term2</i> isn't in a net yet, make a new net
      containing just <i>term1</i> and <i>term2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cleanup</b></dt>
  <dd class="It-tag">Check the netlist to make sure that for every terminal
      named in the list there is at least one label in the design. Also check to
      make sure that every net contains at least two distinct terminals, or one
      terminal with several labels by the same name. When errors are found, give
      the user an opportunity to delete offending terminals and nets. This
      command can also be invoked by clicking the ``Cleanup'' menu button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cull</b></dt>
  <dd class="It-tag">Examine the current netlist and the routing in the edit
      cell, and remove those nets from the netlist that are already routed. This
      command is often used after pre-routing nets by hand, so the router won't
      try to implement them again.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dnet </b><i>name name</i> ...</dt>
  <dd class="It-tag">For each <i>name</i> given, delete the net containing that
      terminal. If no <i>name</i> is given, delete the currently-selected net,
      just as happens when the ``No Net'' menu button is clicked.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dterm </b><i>name name</i> ...</dt>
  <dd class="It-tag">For each <i>name</i> given, delete that terminal from its
      net.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>extract</b></dt>
  <dd class="It-tag">Pick a piece of paint in the edit cell that lies under the
      box. Starting from this, trace out all the electrically-connected material
      in the edit cell. Where this material touches subcells, find any terminals
      in the subcells and make a new net containing those terminals. Note: this
      is a different command from the <b>extract</b> command in layout
    windows.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>find </b><i>pattern </i>[<i>layers</i>]</dt>
  <dd class="It-tag">Search the area beneath the box for labels matching
      <i>pattern</i>, which may contain the regular-expression characters ``
      <b>*</b>'' `` <b>?</b>'', `` <b>[</b>'', `` <b>]</b>'', and `` <b>\</b>''
      (as matched by <i>csh</i>(1); see the description of the <b>find</b>
      button in ``Magic Tutorial #7: Netlists and Routing''). For each label
      found, leave feedback whose text is the layer on which the label appears,
      followed by a semicolon, followed by the full hierarchical pathname of the
      label. The feedback surrounds the area of the label by one unit on all
      sides. (The reason for the one-unit extension is that feedback rectangles
      must have positive area, while labels may have zero width or height). If
      <i>layers</i> are given, only labels attached to those layers are
      considered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>flush </b>[<i>netlist</i>]</dt>
  <dd class="It-tag">The netlist named <i>netlist</i> is reloaded from the disk
      file <i>netlist</i><b>.net</b>. Any changes made to the netlist since the
      last time it was written are discarded. If <i>netlist</i> isn't given, the
      current netlist is flushed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>join </b><i>term1 term2</i></dt>
  <dd class="It-tag">Join together the nets containing terminals <i>term1</i>
      and <i>term2</i>. The result is a single net containing all the terminals
      from both the old nets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>netlist </b>[<i>name</i>]</dt>
  <dd class="It-tag">Select a netlist to work on. If <i>name</i> is provided,
      read <i>name</i>.<b>net</b> (if it hasn't already been read before) and
      make it the current netlist. If <i>name</i> isn't provided, use the name
      of the edit cell instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>print </b>[<i>name</i>]</dt>
  <dd class="It-tag">Print the names of all the terminals in the net containing
      <i>name</i>. If <i>name</i> isn't provided, print the terminals in the
      current net. This command has the same effect as clicking on the ``Print''
      menu button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ripup </b>[<b>netlist</b>]</dt>
  <dd class="It-tag">This command has two forms. If <b>netlist</b> isn't typed
      as an argument, then find a piece of paint in the edit cell under the box.
      Trace out all paint in the edit cell that is electrically connected to the
      starting piece, and delete all of this paint. If <b>netlist</b> is typed,
      find all paint in the edit cell that is electrically connected to any of
      the terminals in the current netlist, and delete all of this paint.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>savenetlist </b>[<i>file</i>]</dt>
  <dd class="It-tag">Save the current netlist on disk. If <i>file</i> is given,
      write the netlist in <i>file</i>.<b>net</b>. Otherwise, write the netlist
      back to the place from which it was read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shownet</b></dt>
  <dd class="It-tag">Find a piece of paint in any cell underneath the box.
      Starting from this paint, trace out all paint in all cells that is
      electrically connected to the starting piece and highlight this paint on
      the screen. To make the highlights go away, invoke the command with the
      box over empty space. This command has the same effect as clicking on the
      ``Show'' menu button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>showterms</b></dt>
  <dd class="It-tag">Find the labels corresponding to each of the terminals in
      the current netlist, and generate a feedback area over each. This command
      has the same effect as clicking on the ``Terms'' menu button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>trace</b> [<i>name</i>]</dt>
  <dd class="It-tag">This command is similar to <b>shownet</b> except that
      instead of starting from a piece of paint under the box, it starts from
      each of the terminals in the net containing <i>name</i> (or the current
      net if no <i>name</i> is given). All connected paint in all cells is
      highlighted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>verify</b></dt>
  <dd class="It-tag">Compare the current netlist against the wiring in the edit
      cell to make sure that the nets are implemented exactly as specified in
      the netlist. If there are discrepancies, feedback areas are created to
      describe them. This command can also be invoked by clicking the ``Verify''
      menu button.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>writeall</b></dt>
  <dd class="It-tag">Scan through all the netlists that have been read during
      this editing session. If any have been modified, ask the user whether or
      not to write them out.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="MOUSE_BUTTONS_FOR_COLORMAP_WINDOWS"><a class="selflink" href="#MOUSE_BUTTONS_FOR_COLORMAP_WINDOWS">MOUSE
  BUTTONS FOR COLORMAP WINDOWS</a></h1>
Color windows display two sets of colored bars and a swatch of the color being
  edited. The left set of color bars is labeled Red, Green, and Blue; these
  correspond to the proportion of red, green, and blue in the color being
  edited. The right set of bars is labeled Hue, Saturation, and Value; these
  correspond to the same color but in a space whose axes are hue (spectral
  color), saturation (spectral purity vs. dilution with white), and value (light
  vs. dark).
<div class="Pp"></div>
The value of a color is changed by pointing inside the region spanned by one of
  the color bars and clicking any mouse button. The color bar will change so
  that it extends to the point selected by the crosshair when the button was
  pressed. The color can also be changed by clicking a button over one of the
  ``pumps'' next to a color bar. A left-button click makes a 1% increment or
  decrement, and a right-button click makes a 5% change.
<div class="Pp"></div>
The color being edited can be changed by pressing the left button over the
  current color box in the editing window, then moving the mouse and releasing
  the button over a point on the screen that contains the color to be edited. A
  color value can be copied from an existing color to the current color by
  pressing the right mouse button over the current color box, then releasing the
  button when the cursor is over the color whose value is to be copied into the
  current color.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COMMANDS_FOR_COLORMAP_WINDOWS"><a class="selflink" href="#COMMANDS_FOR_COLORMAP_WINDOWS">COMMANDS
  FOR COLORMAP WINDOWS</a></h1>
These commands work if you are pointing to the interior of a colormap window.
  The commands are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>color [<i>number</i>]</b></dt>
  <dd class="It-tag">Load <i>number</i> as the color being edited in the window.
      <i>Number</i> must be an octal number between 0 and 377; it corresponds to
      the entry in the color map that is to be edited. If no <i>number</i> is
      given, this command prints out the value of the color currently being
      edited.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>load [<i>techStyle displayStyle
    monitorType</i>]</b></dt>
  <dd class="It-tag">Load a new color map. If no arguments are specified, the
      color map for the current technology style (e.g, <b>mos</b>), display
      style (e.g, <b>7bit</b>), and monitor type (e.g, <b>std</b>) is re-loaded.
      Otherwise, the color map is read from the file
      <i>techStyle</i>.<i>displayStyle</i>. <i>monitorType</i><b>.cmap</b> in
      the current directory or in the system library directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>save [<i>techStyle displayStyle
    monitorType</i>]</b></dt>
  <dd class="It-tag">Save the current color map. If no arguments are specified,
      save the color map in a file determined by the current technology style,
      display style, and monitor type as above. Otherwise, save it in the file
      <i>techStyle</i>.<i>displayStyle</i>.<i>monitorType</i><b>.cmap</b> in the
      current directory or in the system library directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DIRECTIONS"><a class="selflink" href="#DIRECTIONS">DIRECTIONS</a></h1>
Many of the commands take a direction as an argument. The valid direction names
  are <b>north</b>, <b>south</b>, <b>east</b>, <b>west</b>, <b>top</b>,
  <b>bottom</b>, <b>up</b>, <b>down</b>, <b>left</b>, <b>right</b>,
  <b>northeast</b>, <b>ne</b>, <b>southeast</b>, <b>se</b>, <b>northwest</b>,
  <b>nw</b>, <b>southwest</b>, <b>sw</b>, and <b>center</b>. In some cases, only
  Manhattan directions are permitted, which means only <b>north</b>,
  <b>south</b>, <b>east</b>, <b>west</b>, and their synonyms, are allowed.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LAYERS"><a class="selflink" href="#LAYERS">LAYERS</a></h1>
The mask layers are different for each technology, and are described in the
  technology manuals. The layers below are defined in all technologies:
<dl class="Bl-tag">
  <dt class="It-tag"><b>*</b></dt>
  <dd class="It-tag">All mask layers. Does not include special layers like the
      label layer and the error layer (see below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$</b></dt>
  <dd class="It-tag">All layers underneath the cursor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>errors</b></dt>
  <dd class="It-tag">Design-rule violations (useful primarily in the <b>see</b>
      command).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>labels</b></dt>
  <dd class="It-tag">Label layer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>subcell</b></dt>
  <dd class="It-tag">Subcell layer.</dd>
</dl>
<div class="Pp"></div>
Layer masks may be formed by constructing comma-separated lists of individual
  layer names. The individual layer names may be abbreviated, as long as the
  abbreviations are unique. For example, to indicate polysilicon and
  n-diffusion, use <b>poly,ndiff</b> or <b>ndiff,poly</b>. The special character
  <b>-</b> causes all subsequent layers to be subtracted from the layer mask.
  For example, <b>*-p</b> means ``all layers but polysilicon''. The special
  character <b>+</b> reverses the effect of a previous <b>-</b>; all subsequent
  layers are once again added to the layer mask.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
ext2sim(1), ext2spice(1), cmap(5), dstyle(5), ext(5), sim(5), glyphs(5),
  magic(5), displays(5), net(5)
<div style="height: 1.00em;">&#x00A0;</div>
Online documentation can be found at the following URLs:
<div>&#x00A0;</div>
http://opencircuitdesign.com/magic/
<div>&#x00A0;</div>
http://vlsi.cornell.edu/magic/
<div>&#x00A0;</div>
The OpenCircuitDesign website contains HTML versions of all the documentation
  found in the Magic &quot;doc&quot; subdirectory, including tutorials,
  technology file manual; download, compile and install instructions, and
  command reference.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<pre>
${CAD_ROOT}/magic/sys/.magic	startup file to create default macros
<div>&#x00A0;</div>
~/.magic		user-specific startup command file 
<div>&#x00A0;</div>
${CAD_ROOT}/magic/nmos/*	some standard nmos cells
<div>&#x00A0;</div>
${CAD_ROOT}/magic/scmos/*	some standard scmos cells
<div>&#x00A0;</div>
${CAD_ROOT}/magic/sys/*.cmap	colormap files, see CMAP(5) man page
<div>&#x00A0;</div>
${CAD_ROOT}/magic/sys/*.dstyle	display style files, see DSTYLE(5) man page
<div>&#x00A0;</div>
${CAD_ROOT}/magic/sys/*.glyphs	cursor and window bitmap files, see GLYPH(5) man page
<div>&#x00A0;</div>
${CAD_ROOT}/magic/sys/*.tech	technology files, see ``Maintainer's Manual
		#2: The Technology File''
<div>&#x00A0;</div>
${CAD_ROOT}/displays	configuration file for Magic serial-line displays
</pre>
<div class="Pp"></div>
<i>CAD_ROOT variable.</i> If the shell environment variable <b>CAD_ROOT</b> is
  set, Magic uses that location instead of the installed location
  (/usr/local/lib, by default). Normally one would change the search path (see
  below) rather than redirect the entire <b>CAD_ROOT</b> location.
<div class="Pp"></div>
<i>Search path.</i> Magic's system and library files, such as technology files
  and display-style files, normally are placed in the ${CAD_ROOT}/magic area.
  However, Magic first tries to find them in the user's current directory. This
  makes it easier for an individual user to override installed system files. The
  search path is defined by the Magic command <b>path</b>,
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>Original</b>: Gordon Hamachi, Robert Mayo, John Ousterhout, Walter Scott,
  George Taylor
<div style="height: 1.00em;">&#x00A0;</div>
<b>Contributors</b>: Michael Arnold (Magic maze-router and Irouter command), Don
  Stark (new contact scheme, X11 interface, various other things), Mike Chow
  (Rsim interface). The X11 driver is the work of several people, including Don
  Stark, Walter Scott, and Doug Pan.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Developers</b>: Ongoing development (magic version 6.5 and higher) made
  possible by Stefanos Sidiropolous, Tim Edwards, Rajit Manohar, Philippe
  Pouliquen, Michael Godfrey, and others.
<div style="height: 1.00em;">&#x00A0;</div>
Many other people have contributed to Magic, but it is impossible to list them
  all here. We appreciate their help!
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
If Magic gets stuck for some reason, first try typing Control-C into the
  terminal window (in the Tcl/Tk version, this is the <i>original</i> terminal,
  not the Tk console window). Most of Magic's lengthy database searches are
  interruptible. If this doesn't work, kill the process. The Tcl/Tk version
  automatically creates periodic backups that may be recovered with &quot;magic
  -r&quot;.
<div class="Pp"></div>
Report bugs to <b>magic-dev@csl.cornell.edu</b>. Please be specific: tell us
  exactly what you did to cause the problem, what you expected to happen, and
  what happened instead. If possible send along small files that we can use to
  reproduce the bug. A list of known bugs and fixes is also available from the
  above address. Tell us which version of magic you are running.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">4th Berkeley Distribution</td>
  </tr>
</table>
</body>
</html>
