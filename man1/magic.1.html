<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:23:30 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MAGIC(1) General Commands Manual MAGIC(1)</p>

<p style="margin-top: 1em">NAME <br>
magic - VLSI layout editor</p>

<p style="margin-top: 1em">SYNOPSIS <br>
magic [ -T technology ] [ -d device_type ] [ -g
graphics_port ] [ -m monitor_type ] [ -D ] [ file ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Magic is an interactive editor for VLSI layouts that runs
under all variants of UNIX, including Mac OS-X and Cygwin.
This man page is a reference manual; if you are a first-
<br>
time user, you should use the Magic tutorials to get
acquainted with the system (see the online resources links
below).</p>

<p style="margin-top: 1em">Magic uses two windows: one for
text and a separate window for displaying layouts. Magic
runs under the window system X11 (use under Cygwin requires
the presence of an X11 <br>
server in Windows; the server that comes packaged with
Cygwin works well). The command line switch &quot;-d&quot;
can be used to tell Magic which kind of display you are
running. <br>
Specifically, this is useful to tell magic to use OpenGL
graphics instead of plain X11 (&quot;-d OGL&quot;), or to
use 24 bit plane graphics instead of 8 bit planes (&quot;-d
24BITS&quot;) if both <br>
are available on a video card with overlay support.</p>

<p style="margin-top: 1em">Here are the options accepted by
Magic:</p>

<p style="margin-top: 1em">-T The next argument is the name
of a technology. The tile types, display information, and
design rules for this technology are read by Magic from a
technology file when it <br>
starts up. The technology defaults to
&lsquo;&lsquo;scmos&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">-d The next argument is the type
of workstation or graphics display being used. Magic
supports these types:</p>

<p style="margin-top: 1em">NULL A null device for running
Magic without using a graphics display, such as a batch job.
Note that the special case &quot;-dnull&quot; (lowercase, no
space) has a more stream&acirc; <br>
lined startup specifically for batch processing.</p>

<p style="margin-top: 1em">X11 X-windows, version 11. The
is the preferred interface. Magic acts as a client to the X
window server and interfaces to all graphics terminals
supported by the X <br>
server.</p>

<p style="margin-top: 1em">OGL OpenGL graphics running
under X11. This is the preferred interface on systems having
hardware-accelerated 3D graphics video cards and
drivers.</p>

<p style="margin-top: 1em">Addition information on
Magic&rsquo;s X11 driver, including options for .Xdefaults
files, may be found in &lsquo;&lsquo;Magic
Maintainer&rsquo;s Manual #4: Using Magic Under X
Windows&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">XWIND Simply another name for
the X11 driver. <br>
If no device is specified, Magic tries to guess which driver
is appropriate (by checking the environment variables and by
poking around in /dev).</p>

<p style="margin-top: 1em">When Magic starts up it looks
for a command file in ${CAD_ROOT}/magic/sys/.magicrc and
processes it if it exists. Then Magic looks for a file with
the name &lsquo;&lsquo;.magicrc&rsquo;&rsquo; in the <br>
home directory and processes it if it exists. Finally, Magic
looks for a .magicrc file in the current directory and reads
it as a command file if it exists. The .magicrc file <br>
format is described under the source command. If magic is
compiled with Tcl/Tk support, then any magic or Tcl/Tk
commands may be used inside the startup file. The startup
file <br>
name was changed to &quot;.magicrc&quot; to avoid conflicts
with a common system file named &quot;.magic&quot;. However,
the name &quot;.magic&quot; will be searched after
&quot;.magicrc&quot; for backward compatibil&acirc; <br>
ity.</p>

<p style="margin-top: 1em">COMMANDS -- GENERAL INFORMATION
<br>
Magics uses types of commands: Key macros and long commands.
The first form consists of single-key (or button)
abbreviations called &lsquo;&lsquo;macros&rsquo;&rsquo;;
macros are invoked by pressing a <br>
single key or mouse button. Certain macros are predefined in
the systemwide ${CAD_ROOT}/magic/sys/.magicrc file, but you
can override them and add your own macros using the <br>
macro command (described below under COMMANDS FOR ALL
WINDOWS). The special macro &quot;.&quot; is reserved to
mean &quot;execute the last typed long command&quot;.</p>

<p style="margin-top: 1em">You can enter long commands in
the terminal console at the console prompt, or from the
layout window by typing a : or ; key, which are the two
other reserved macros meaning <br>
&quot;switch keyboard focus to the console window&quot;.
After typing the : or ; key, type the text of the command,
which will be written to the terminal window. Multiple
commands may be <br>
specified on one line by separating them with
semicolons.</p>

<p style="margin-top: 1em">Most commands deal with the
window underneath the cursor, so if a command doesn&rsquo;t
do what you expect make sure that you are pointing to the
correct place on the screen. There <br>
are several different kinds of windows in Magic (layout,
color, and netlist); each window has a different command
set, described in a separate section below.</p>

<p style="margin-top: 1em">MOUSE BUTTONS FOR LAYOUT WINDOWS
<br>
Magic uses a three button mouse. The buttons are interpreted
in a way that depends on the current tool, as indicated by
the shape of the cursor (see the tool command). The
var&acirc; <br>
ious tools are described below. The initial tool is box.
These interpretations apply only when mouse buttons are
pressed in the interior of a layout window.</p>

<p style="margin-top: 1em">Box Tool <br>
This is the default tool, and is indicated by a crosshair
cursor. It is used to position the box and to paint and
erase:</p>

<p style="margin-top: 1em">left This button is used to move
the box by one of its corners. Normally, this button picks
up the box by its lower-left corner. To pick the box up by a
different cor&acirc; <br>
ner, click the right button while the left button is down.
This switches the pick-up point to the corner nearest the
cursor. When the button is released, the box <br>
is moved to position the corner at the cursor location. If
the box has been set to snap to the window&rsquo;s grid (see
the :snap command), then the box corner is left <br>
aligned with the grid that the user has chosen for the
window with the :grid command, even if that grid is not
visible.</p>

<p style="margin-top: 1em">right Change the size of the box
by moving one corner. Normally this button moves the
upper-right corner of the box. To move a different corner,
click the left button <br>
while the right button is down. This switches the corner to
the one nearest the cursor. When you release the button,
three corners of the box move in order to <br>
place the selected corner at the cursor location (the corner
opposite the one you picked up remains fixed). Snapping to
the window&rsquo;s grid is handled as for the <br>
left button.</p>

<p style="margin-top: 1em">middle (bottom) <br>
Used to paint or erase. If the crosshair is over paint, then
the area of the box is painted with the layer(s) underneath
the crosshair. If the crosshair is over <br>
white space, then the area of the box is erased.</p>

<p style="margin-top: 1em">Wiring Tool <br>
The wiring tool, indicated by an arrow cursor, is used to
provide an efficient interface to the wiring commands:</p>

<p style="margin-top: 1em">left Same as the long command
wire type.</p>

<p style="margin-top: 1em">right Same as the long command
wire leg.</p>

<p style="margin-top: 1em">middle (bottom) <br>
Same as the long command wire switch.</p>

<p style="margin-top: 1em">Netlist Tool <br>
This tool is used to edit netlists interactively. It is
indicated by a thick box cursor.</p>

<p style="margin-top: 1em">left Select the net associated
with the terminal nearest the cursor.</p>

<p style="margin-top: 1em">right Find the terminal nearest
the cursor, and toggle it into the current net (if it
wasn&rsquo;t already in the current net) or out of the
current net (if it was previously <br>
in the net).</p>

<p style="margin-top: 1em">middle (bottom) <br>
Find the terminal nearest the cursor, and join its net with
the current net.</p>

<p style="margin-top: 1em">Rsim Tool <br>
Used when running the IRSIM simulator under Magic. A
pointing hand is used as the cursor.</p>

<p style="margin-top: 1em">left Moves the box just like the
box tool.</p>

<p style="margin-top: 1em">right Moves the box just like
the box tool.</p>

<p style="margin-top: 1em">middle (bottom) <br>
Displays the Rsim node values of the selected paint.</p>

<p style="margin-top: 1em">LONG COMMANDS FOR LAYOUT WINDOWS
<br>
These commands work if you are pointing to the interior of a
layout window. Commands are invoked by typing a colon
(&lsquo;&lsquo;:&rsquo;&rsquo;) or semi-colon
(&lsquo;&lsquo;;&rsquo;&rsquo;), followed by a line
containing a <br>
command name and zero or more parameters. In addition,
macros may be used to invoke commands with single
keystrokes. Useful default macros are set in the global
.magicrc file <br>
(in ${CAD_ROOT}/magic/sys, normally
/usr/local/lib/magic/sys). You can list all current macros
with the macro command, described under &lsquo;&lsquo;LONG
COMMANDS FOR ALL WINDOWS&rsquo;&rsquo;. Unique <br>
abbreviations are acceptable for all keywords in commands.
The commands are:</p>

<p style="margin-top: 1em">addpath searchpath <br>
Add more directories to the end of Magic&rsquo;s cell search
path. See the documentation for the path command for an
explanation of the search path.</p>

<p style="margin-top: 1em">array xsize ysize <br>
Make many copies of the selection. There will be xsize
instances in the x-direction and ysize instances in the
y-direction. Paint and labels are arrayed by copying them.
<br>
Subcells are not copied, but instead each instance is turned
into an array instance with elements numbered from 0 to
xsize-1 in the x-direction, and from 0 to ysize-1 in <br>
the y-direction. The spacing between elements of the array
is determined by the box x- and y-dimensions.</p>

<p style="margin-top: 1em">array xlo ylo xhi yhi <br>
Identical to the form of array above, except that the
elements of arrayed cells are numbered left-to-right from
xlo to xhi and bottom-to-top from ylo to yhi. It is legal
<br>
for xlo to be greater than xhi, and also for ylo to be
greater than yhi.</p>

<p style="margin-top: 1em">box [args] <br>
Used to change the size of the box or to find out its size.
There are several sorts of arguments that may be given to
this command:</p>

<p style="margin-top: 1em">(No arguments.) <br>
Show the box size and its location in the edit cell, or root
cell of its window if the edit cell isn&rsquo;t in that
window.</p>

<p style="margin-top: 1em">direction [distance] <br>
Move the box distance units in direction, which may be one
of left, right, up, or down. Distance defaults to the width
of the box if direction is right or left, <br>
and to the height of the box if direction is up or down.</p>

<p style="margin-top: 1em">width [size]</p>

<p style="margin-top: 1em">height [size] <br>
Set the box to the width or height indicated. If size is not
specified the width or height is reported.</p>

<p style="margin-top: 1em">x1 y1 x2 y2 <br>
Move the box to the coordinates specified (these are in edit
cell coordinates if the edit cell is in the window under the
cursor; otherwise these are in the root <br>
coordinates of the window). x1 and y1 are the coordinates of
the lower left corner of the box, while x2 and y2 are the
upper right corner. The coordinates must all <br>
be integers.</p>

<p style="margin-top: 1em">calma [option] [args] <br>
This command is used to read and write files in Calma GDS II
Stream format (version 3.0, corresponding to GDS II Release
5.1). This format is like CIF, in that it <br>
describes physical mask layers instead of Magic layers. In
fact, the technology file specifies a correspondence between
CIF and Calma layers. The current CIF output <br>
style (see cif ostyle) controls how Calma stream layers are
generated from Magic layers. If no arguments are given, the
calma command generates a Calma stream file for <br>
the layout in the window beneath the cursor in file.strm,
where file is the name of the root cell. This stream file
describes the entire cell hierarchy in the window. <br>
The name of the library is the same as the name of the root
cell. Option and args may be used to invoke one of several
additional operations:</p>

<p style="margin-top: 1em">calma flatten <br>
Ordinarily, Magic arrays are output using the Calma ARRAY
construct. After a calma flatten command, though, arrays
will be output instead as a collection of indi&acirc; <br>
vidual cell uses, as occurs when writing CIF.</p>

<p style="margin-top: 1em">calma help <br>
Print a short synopsis of all of the calma command
options.</p>

<p style="margin-top: 1em">calma labels <br>
Output labels whenever writing a Calma output file.</p>

<p style="margin-top: 1em">calma lower <br>
Allow both upper and lower case to be output for label text.
This is the default behavior; calma nolower causes lower
case to be converted to upper case on output.</p>

<p style="margin-top: 1em">calma noflatten <br>
Undoes the effect of a prior :calma flatten command,
re-enabling the output of Magic arrays using the Calma ARRAY
construct.</p>

<p style="margin-top: 1em">calma nolabels <br>
Don&rsquo;t output labels when writing a Calma output
file.</p>

<p style="margin-top: 1em">calma nolower <br>
Convert lower to upper case when outputting labels.</p>

<p style="margin-top: 1em">calma read file <br>
The file file.strm is read in Calma format and converted to
a collection of Magic cells. The current CIF input style
determines how the Calma layers are converted <br>
to Magic layers. The new cells are marked for design-rule
checking. Calma format doesn&rsquo;t identify the root of
the collection of cells read in, so none of the <br>
cells read will appear on the display; use load to make them
visible. If the Calma file had been produced by Magic, then
the name of the root cell is the same as <br>
the library name printed by the :calma read command.</p>

<p style="margin-top: 1em">calma write fileName <br>
Writes a stream file just as if no arguments had been
entered, except that the output is written into
fileName.strm instead of using the root cell name for the
file <br>
name.</p>

<p style="margin-top: 1em">channels <br>
This command will run just the channel decomposition part of
the Magic router, deriving channels for the area under the
box. The channels will be displayed as outlined <br>
feedback areas over the edit cell.</p>

<p style="margin-top: 1em">cif [option] [args] <br>
Read or write files in Caltech Intermediate Form (CIF). If
no arguments are given, this command generates a CIF file
for the window beneath the cursor in file.cif, where <br>
file is the name of the root cell. The CIF file describes
the entire cell hierarchy in the window. Option and args may
be used to invoke one of several additional CIF <br>
operations:</p>

<p style="margin-top: 1em">cif arealabels [yes | no] <br>
Enables/disables the cif area-label extension. If enabled,
area labels are written via the 95 cif extension. If
disabled, labels are collapsed to points when <br>
writing cif and the 94 cif construct is used. Area-labels
are disabled by default (many programs don&rsquo;t
understand cif area-labels).</p>

<p style="margin-top: 1em">cif help <br>
Print a short synopsis of all of the cif command
options.</p>

<p style="margin-top: 1em">cif istyle [style] <br>
Select the style to be used for CIF input. If no style
argument is provided, then Magic prints the names of all CIF
input styles defined in the technology file and <br>
identifies the current style. If style is provided, it is
made the current style.</p>

<p style="margin-top: 1em">cif ostyle [style] <br>
Select the style to be used for CIF output. If no style
argument is provided, then Magic prints the names of all CIF
output styles defined in the technology file <br>
and identifies the current style. If style is provided, it
is made the current style.</p>

<p style="margin-top: 1em">cif read file <br>
The file file.cif is read in CIF format and converted to a
collection of Magic cells. The current input style
determines how the CIF layers are converted to Magic <br>
layers. The new cells are marked for design-rule checking.
Any information in the top-level CIF cell is copied into the
edit cell. Note: this command is not <br>
undo-able (it would waste too much space and time to save
information for undoing).</p>

<p style="margin-top: 1em">cif see layer <br>
In this command layer must be the CIF name for a layer in
the current output style. Magic will display on the screen
all the CIF for that layer that falls under <br>
the box, using stippled feedback areas. It&rsquo;s a bad
idea to look at CIF over a large area, since this command
requires the area under the box to be flattened and <br>
therefore is slow.</p>

<p style="margin-top: 1em">cif statistics <br>
Prints out statistics gathered by the CIF generator as it
operates. This is probably not useful to anyone except
system maintainers.</p>

<p style="margin-top: 1em">cif write fileName <br>
Writes out CIF just as if no arguments had been entered,
except that the CIF is written into fileName.cif instead of
using the root cell name for the file name. <br>
The current output style controls how CIF layers are
generated from Magic layers.</p>

<p style="margin-top: 1em">cif flat fileName <br>
Writes out CIF as in the cif write command, but flattens the
design first (e.g. creates an internal version with the cell
hierarchy removed). This is useful if one <br>
wishes to use the and-not feature of the CIF output styles,
but is having problems with interactions of overlapping
cells.</p>

<p style="margin-top: 1em">clockwise [degrees] <br>
Rotate the selection by 90, 180 or 270 degrees. After the
rotation, the lower-left corner of the selection&rsquo;s
bounding box will be in the same place as the lower-left
cor&acirc; <br>
ner of the bounding box before the rotation. Degrees
defaults to 90. If the box is in the same window as the
selection, it is rotated too. Only material in the edit <br>
cell is affected.</p>

<p style="margin-top: 1em">copy [direction [amount]]</p>

<p style="margin-top: 1em">copy to x y <br>
If no arguments are given, a copy of the selection is
picking up at the point lying underneath the box lower-left
corner, and placed so that this point lies at the cursor
<br>
position. If direction is given, it must be a Manhattan
direction (e.g. north, see the
&lsquo;&lsquo;DIRECTIONS&rsquo;&rsquo; section below). The
copy of the selection is moved in that direc&acirc; <br>
tion by amount. If the box is in the same window as the
selection, it is moved too. Amount defaults to 1. The second
form of the command behaves as though the cursor <br>
were pointing to (x, y) in the edit cell; a copy of the
selection is picked up by the point beneath the lower-left
corner of the box and placed so that this point lies at <br>
(x, y).</p>

<p style="margin-top: 1em">corner direction1 direction2
[layers] <br>
This command is similar to fill, except that it generates
L-shaped wires that travel across the box first in
direction1 and then in direction2. For example, corner north
<br>
east finds all paint under the bottom edge of the box and
extends it up to the top of the box and then across to the
right side of the box, generating neat corners at the <br>
top of the box. The box should be at least as tall as it is
wide for this command to work correctly. Direction1 and
direction2 must be Manhattan directions (see the sec&acirc;
<br>
tion DIRECTIONS below) and must be orthogonal to each other.
If layers is specified then only those layers are used;
otherwise all layers are considered.</p>

<p style="margin-top: 1em">delete Delete all the
information in the current selection that is in the edit
cell. When cells are deleted, only the selected use(s) of
the cell is (are) deleted: other uses <br>
of the cell remain intact, as does the disk file containing
the cell. Selected material outside the edit cell is not
deleted.</p>

<p style="margin-top: 1em">drc option [args] <br>
This command is used to interact with the design rule
checker. Option and args (if needed) are used to invoke a
drc command in one of the following ways:</p>

<p style="margin-top: 1em">drc catchup <br>
Let the checker process all the areas that need rechecking.
This command will not return until design-rule checking is
complete or an interrupt is typed. The <br>
checker will run even if the background checker has been
disabled with drc off.</p>

<p style="margin-top: 1em">drc check <br>
Mark the area under the box for rechecking in all cells that
intersect the box. The recheck will occur in background
after the command completes. This command is <br>
not normally necessary, since Magic automatically remembers
which areas need to be rechecked. It should only be needed
if the design rules are changed.</p>

<p style="margin-top: 1em">drc count <br>
Print the number of errors in each cell under the box. Cells
with no errors are skipped.</p>

<p style="margin-top: 1em">drc find [nth] <br>
Place the box over the nth error area in the selected cell
or edit cell, and print out information about the error just
as if drc why had been typed. If nth isn&rsquo;t <br>
given (or is less than 1), the command moves to the next
error area. Successive invocations of drc find cycle through
all the error tiles in the cell. If multiple <br>
cells are selected, this command uses the upper-leftmost
one. If no cells are selected, this command uses the edit
cell.</p>

<p style="margin-top: 1em">drc help <br>
Print a short synopsis of all the drc command options.</p>

<p style="margin-top: 1em">drc off <br>
Turn off the background checker. From now on, Magic will not
recheck design rules immediately after each command (but it
will record the areas that need to be <br>
rechecked; the command drc on can be used to restart the
checker).</p>

<p style="margin-top: 1em">drc on Turn on the background
checker. The checker will check whatever modifications have
not already been checked. From now on, the checker will
reverify modified areas <br>
as they result from commands. The checker is run in the
background, not synchronously with commands, so it may get
temporarily behind if massive changes are made.</p>

<p style="margin-top: 1em">drc printrules [file] <br>
Print out the compiled rule set in file, or on the text
terminal if file isn&rsquo;t given. For system maintenance
only.</p>

<p style="margin-top: 1em">drc rulestats <br>
Print out summary statistics about the compiled rule set.
This is primarily for use in writing technology files.</p>

<p style="margin-top: 1em">drc statistics <br>
Print out statistics kept by the design-rule checker. For
each statistic, two values are printed: the count since the
last time drc statistics was invoked, and <br>
the total count in this editing session. This command is
intended primarily for system maintenance purposes.</p>

<p style="margin-top: 1em">drc why <br>
Recheck the area underneath the box and print out the reason
for each violation found. Since this command causes a
recheck, the box should normally be placed <br>
around a small area (such as an error area).</p>

<p style="margin-top: 1em">dump cellName [child refPointC]
[parent refPointP] <br>
Copy the contents of cell cellName into the edit cell so
that refPointC in the child is positioned at point refPointP
in the edit cell. The reference points can either be <br>
the name of a label, in which case the lower-left corner of
the label&rsquo;s box is used as the reference point, or as
a pair of numbers giving the (x, y) coordinates of a <br>
point explicitly. If refPointC is not specified, the
lower-left corner of cellName cell is used. If refPointP is
not specified, the lower-left corner of the box tool is <br>
used (the box must be in a window on the edit cell). After
this command completes, the new information is selected.</p>

<p style="margin-top: 1em">edit Make the selected cell the
edit cell, and edit it in context. The edit cell is normally
displayed in brighter colors than other cells (see the see
command to change <br>
this). If more than one cell is selected, or if the selected
cell is an array, the cursor position is used to select one
of those cells as the new edit cell. Generally, <br>
Magic commands modify only the current edit cell.</p>

<p style="margin-top: 1em">erase [layers] <br>
For the area enclosed by the box, erase all paint in layers.
(See the &lsquo;&lsquo;LAYERS&rsquo;&rsquo; section for the
syntax of layer lists). If layers is omitted it defaults to
*,labels. <br>
See your technology manual, or use the layers command, to
find out about the available layer names.</p>

<p style="margin-top: 1em">expand [toggle] <br>
If the keyword toggle is supplied, all of the selected cells
that are unexpanded are expanded, and all of the selected
cells that are expanded are unexpanded. If toggle <br>
isn&rsquo;t specified, then all of the cells underneath the
box are expanded recursively until there is nothing but
paint under the box.</p>

<p style="margin-top: 1em">extract option [args] <br>
Extract a layout, producing one or more hierarchical .ext
files that describe the electrical circuit implemented by
the layout. The current extraction style (see extract <br>
style below) determines the parameters for parasitic
resistance, capacitance, etc. that will be used. The extract
command with no parameters checks timestamps and re- <br>
extracts as needed to bring all .ext files up-to-date for
the cell in the window beneath the crosshair, and all cells
beneath it. Magic displays any errors encountered <br>
during circuit extraction using stippled feedback areas over
the area of the error, along with a message describing the
type of error. Option and args are used in the <br>
following ways:</p>

<p style="margin-top: 1em">extract all <br>
All cells in the window beneath the cursor are re-extracted
regardless of whether they have changed since last being
extracted.</p>

<p style="margin-top: 1em">extract cell name <br>
Extract only the currently selected cell, placing the output
in the file name. If more than one cell is selected, this
command uses the upper-leftmost one.</p>

<p style="margin-top: 1em">extract do [ option ]</p>

<p style="margin-top: 1em">extract no option <br>
Enable or disable various options governing how the
extractor will work. Use :extract do with no arguments to
print a list of available options and their current <br>
settings. When the adjust option is enabled, the extractor
will compute compensating capacitance and resistance
whenever cells overlap or abut; if disabled, the <br>
extractor will not compute these adjustments but will run
faster. If capacitance is enabled, node capacitances to
substrate (perimeter and area) are computed; oth&acirc; <br>
erwise, all node capacitances are set to zero. Similarly,
resistance governs whether or not node resistances are
computed. The coupling option controls whether <br>
coupling capacitances are computed or not; if disabled, flat
extraction is significantly faster than if coupling
capacitance computation is enabled. Finally, the <br>
length option determines whether or not pathlengths in the
root cell are computed (see extract length below).</p>

<p style="margin-top: 1em">extract help <br>
Prints a short synopsis of all the extract command
options.</p>

<p style="margin-top: 1em">extract length [ option args ]
<br>
Provides several options for controlling which
point-to-point path lengths are extracted explicitly. The
extractor maintains two internal tables, one of drivers,
<br>
or places where a signal is generated, and one of receivers,
or places where a signal is sent. The components of each
table are hierarchical label names, defined <br>
by means of the two commands extract length driver name1
[name2 ...] and extract length receiver name1 [name2 ...].
If extraction of pathlengths is enabled <br>
(&lsquo;&lsquo;:extract do length&rsquo;&rsquo;), then when
the root cell in an extract command is being extracted, the
extractor will compute the shortest and longest path between
each <br>
driver and each receiver on the same electrical net, and
output it to the .ext file for the root cell. Normally, one
should create a file of these Magic commands <br>
for the circuit drivers and receivers of interest, and use
source to read it in prior to circuit extraction. Extract
length clear removes all the entries from both <br>
the driver and receiver tables.</p>

<p style="margin-top: 1em">extract parents <br>
Extract the currently selected cell and all of its parents.
All of its parents must be loaded in order for this to work
correctly. If more than one cell is <br>
selected, this command uses the upper-leftmost one.</p>

<p style="margin-top: 1em">extract showparents <br>
Like extract parents, but only print the cells that would be
extracted; don&rsquo;t actually extract them.</p>

<p style="margin-top: 1em">extract style [style] <br>
Select the style to be used for extraction parameters. If no
style argument is provided, then Magic prints the names of
all extraction parameter styles defined in <br>
the technology file and identifies the current style. If
style is provided, it is made the current style.</p>

<p style="margin-top: 1em">extract unique [#] <br>
For each cell in the window beneath the cursor, check to
insure that no label is attached to more than one node. If
the # keyword was not specified, whenever a <br>
label is attached to more than one node, the labels in all
but one of the nodes are changed by appending a numeric
suffix to make them unique. If the # keyword is <br>
specified, only names that end in a
&lsquo;&lsquo;#&rsquo;&rsquo; are made unique; any other
duplicate nodenames that don&rsquo;t end in a
&lsquo;&lsquo;!&rsquo;&rsquo; are reported by leaving a
warning feedback area. <br>
This command is provided for converting old designs that
were intended for extraction with Mextra, which would
automatically append unique suffixes to node names <br>
when they appeared more than once.</p>

<p style="margin-top: 1em">extract warn [ [no] option |
[no] all ] <br>
The extractor always reports fatal errors. This command
controls the types of warnings that are reported. Option may
be one of the following: dup, to warn about <br>
two or more unconnected nodes in the same cell that have the
same name, fets, to warn about transistors with fewer than
the minimum number of terminals, and labels, <br>
to warn when nodes are not labeled in the area of cell
overlap. In addition, all may be used to refer to all
warnings. If a warning is preceded by no, it is dis&acirc;
<br>
abled. To disable all warnings, use &lsquo;&lsquo;extract
warn no all&rsquo;&rsquo;. To see which warning options are
in effect, use &lsquo;&lsquo;extract warn&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">extresist [cell [threshold] ]
<br>
Postprocessor for improving on the resistance calculation
performed by the circuit extractor. To use this command, you
first have to extract the design rooted at cell <br>
with :extract cell, and then flatten the design using
ext2sim(1), producing the files cell.sim and cell.nodes.
Then run :extresist cell to produce a file, cell.res.ext,
<br>
containing differences between the network described by the
.ext files produced the first time around, and a new network
that incorporates explicit two-point resistors <br>
where appropriate (see below). This file may be appended to
cell.ext, and then ext2simrun for a second time, to produce
a new network with explicit resistors. The <br>
threshold parameter is used to control which nodes are
turned into resistor networks: any node whose total
resistance exceeds threshold times the smallest
on-resistance of <br>
any transistor connected to that node will be approximated
as a resistor network.</p>

<p style="margin-top: 1em">feedback option [args] <br>
Examine feedback information that is created by several of
the Magic commands to report problems or highlight certain
things for users. Option and args are used in the <br>
following ways:</p>

<p style="margin-top: 1em">feedback add text [style] <br>
Used to create a feedback area manually at the location of
the box. This is intended as a way for other programs like
Crystal to highlight things on a layout. <br>
They can generate a command file consisting of a feedback
clear command, and a sequence of box and feedback add
commands. Text is associated with the feedback (it <br>
will be printed by feedback why and feedback find). Style
tells how to display the feedback, and is one of dotted,
medium, outline, pale, and solid (if unspeci&acirc; <br>
fied, style defaults to pale).</p>

<p style="margin-top: 1em">feedback clear <br>
Clears all existing feedback information from the
screen.</p>

<p style="margin-top: 1em">feedback count <br>
Prints out a count of the current number of feedback
areas.</p>

<p style="margin-top: 1em">feedback find [nth] <br>
Used to locate a particular feedback area. If nth is
specified, the box is moved to the location of the nth
feedback area. If nth isn&rsquo;t specified, then the box is
<br>
moved to the next sequential feedback area after the last
one located with feedback find. In either event, the
explanation associated with the feedback area is <br>
printed.</p>

<p style="margin-top: 1em">feedback help <br>
Prints a short synopsis of all the feedback command
options.</p>

<p style="margin-top: 1em">feedback save file <br>
This option will save information about all existing
feedback areas in file. The information is stored as a
collection of Magic commands, so that it can be recov&acirc;
<br>
ered with the command source file.</p>

<p style="margin-top: 1em">feedback why <br>
Prints out the explanations associated with all feedback
areas underneath the box.</p>

<p style="margin-top: 1em">fill direction [layers] <br>
Direction is a Manhattan direction (see the section
DIRECTIONS below). The paint visible under one edge of the
box is sampled. Everywhere that the edge touches paint, <br>
the paint is extended in the given direction to the opposite
side of the box. For example, if direction is north, then
paint is sampled under the bottom edge of the box <br>
and extended to the top edge. If layers is specified, then
only the given layers are considered; if layers isn&rsquo;t
specified, then all layers are considered.</p>

<p style="margin-top: 1em">findbox [zoom] <br>
Center the view on the box. If the optional zoom argument is
present, zoom into the area specified by the box. This
command will complain if the box is not in the window <br>
you are pointing to.</p>

<p style="margin-top: 1em">flush [cellname] <br>
Cell cellname is reloaded from disk. All changes made to the
cell since it was last saved are discarded. If cellname is
not given, the edit cell is flushed.</p>

<p style="margin-top: 1em">garoute option [args] <br>
This command, with no option or arg, is like the route
command: it generates routing in the edit cell to make
connections specified in the current netlist. (See the route
<br>
command for further information). Unlike the route command,
this command is intended to be used for routing types of
circuits, such as gate-arrays, whose routing channels <br>
can be determined in advance, and which require the ability
to river-route across the tops of cells. The channels must
have been predefined using garoute channel commands <br>
prior to this command being invoked. Unlike the route
command, where the box indicates the routing area, this
command ignores the box entirely. The new wires are placed
<br>
in the edit cell. The netlist used is that selected by the
route netlist command, or the current netlist being edited
in a netlist window if no route netlist command has <br>
been given. Options and args have the following effects:</p>

<p style="margin-top: 1em">garoute channel [type]</p>

<p style="margin-top: 1em">garoute channel xlo ylo xhi yhi
[type] <br>
Define a channel. If xlo, ylo, xhi, and yhi are provided,
they are interpreted as the coordinates of the lower-left
and upper-right of the bounding box for the <br>
channel respectively. Otherwise, the coordinates of the box
are used. The boundary of each channel is adjusted inward to
lie halfway between routing grid lines if <br>
it does not lie there already; if the channel is adjusted, a
warning message is printed. The channel defined is an
ordinary routing channel if type is not speci&acirc; <br>
fied; such channels are identical to those used by the
router of the route command. If type is given, it must be
either h or v. The channel thereby created will <br>
be a river-routing channel inside which only left-to-right
routes are possible (&lsquo;&lsquo;h&rsquo;&rsquo;) or
top-to-bottom (&lsquo;&lsquo;v&rsquo;&rsquo;). Unlike a
normal channel, a river-routing channel <br>
may contain terminals in its interior.</p>

<p style="margin-top: 1em">garoute generate type [file]
<br>
Provides a primitive form of channel decomposition for
regular structures such as gate-array or standard-cell
layouts. Generates a collection of garoute channel <br>
commands, either to the standard output, or to file if the
latter is specified. The type parameter must be either h or
v. The entire area contained within the box <br>
is turned into routing channels. Each cell inside this area
has its bounding box computed for purposes of routing by
looking only at those layers considered to be <br>
&lsquo;&lsquo;obstacles&rsquo;&rsquo; to routing (see
&lsquo;&lsquo;Tutorial #7: Netlists and
Routing&rsquo;&rsquo; for details). The bounding box just
computed is then extended all the way to the sides of the
<br>
area of the box tool, vertically if type is h or
horizontally if type is v. This extended area is then marked
as belonging to a river-routing channel of type type; <br>
adjacent channels of this type are merged into a single
channel. After all cells are processed, the areas not marked
as being river-routing channels are output as <br>
normal channels.</p>

<p style="margin-top: 1em">garoute help <br>
Print a short synopsis of all the garoute command
options.</p>

<p style="margin-top: 1em">garoute nowarn <br>
If a given terminal appears in more than one place inside a
cell, the router can leave feedback if it is not possible to
route to all of the places where the termi&acirc; <br>
nal appears. The garoute nowarn command instructs the router
to leave feedback only if it is not possible to route to any
of the locations of a terminal. (This is <br>
the default behavior of garoute router).</p>

<p style="margin-top: 1em">garoute route [netlist] <br>
Route the edit cell. If netlist is not specified, the
netlist used is the same as when garoute is given with no
options. If netlist is given, then it is used <br>
instead.</p>

<p style="margin-top: 1em">garoute reset <br>
Clear all channels defined by garoute channel in preparation
for redefining a new set of channels.</p>

<p style="margin-top: 1em">garoute warn <br>
The opposite of garoute nowarn, this command instructs the
router to leave feedback if it is not possible to route to
all of the places where a terminal appears <br>
when a terminal has more than one location, even if not all
of those locations are actually selected for routing by the
global router.</p>

<p style="margin-top: 1em">getcell cellName [child
refPointC] [parent refPointP] <br>
This command adds a child cell instance to the edit cell.
The instance refers to the cell cellName; it is positioned
so that refPointC in the child is at point refPointP <br>
in the edit cell. The reference points can either be the
name of a label, in which case the lower-left corner of the
label&rsquo;s box is used as the reference point, or as a
<br>
pair of numbers giving the (x, y) coordinates of a point
explicitly. If refPointC is not specified, the lower-left
corner of cellName cell is used. If refPointP is not <br>
specified, the lower-left corner of the box tool is used
(the box must be in a window on the edit cell). The new
subcell is selected. The difference between this command
<br>
and dump is that dump copies the contents of the cell, while
getcell simply makes a reference to the original cell.
Cellname must not be the edit cell or one of its <br>
ancestors.</p>

<p style="margin-top: 1em">getnode [alias on | alias
off]</p>

<p style="margin-top: 1em">getnode [abort [str]] <br>
Getnode prints out the node names (used by the extractor)
for all selected paint. If aliasing turned on, getnode
prints all the names it finds for a given node. It may <br>
not print every name that exists, however. When turned off,
it just prints one name. The abort option allows the user to
tell getnode that it is not important to com&acirc; <br>
pletely search nodes that have certain names. For example,
getnode abort Vdd will tell getnode not to continue
searching the node if it determines that one of its names
<br>
is Vdd. A getnode abort, without a string argument, will
erase the list of names previously created by calling
getnode abort with string arguments. Getnode can be safely
<br>
aborted at any time by typing the interrupt character,
usually ^C. See Tutorial #11: Using IRSIM and RSIM with
Magic for more information on this command.</p>

<p style="margin-top: 1em">grid [xSpacing [ySpacing
[xOrigin yOrigin]]]</p>

<p style="margin-top: 1em">grid off <br>
If no arguments are given, a one-unit grid is toggled on or
off in the window underneath the cursor. Grid off always
turns the grid off, regardless of whether it was on <br>
or off previously. If numerical arguments are given, the
arguments determine the grid spacing and origin for the
window under the cursor. In its most general form, grid <br>
takes four integer arguments. XOrigin and yOrigin specify an
origin for the grid: horizontal and vertical grid lines will
pass through this point. XSpacing and ySpacing <br>
determine the number of units between adjacent grid lines.
If xOrigin and yOrigin are omitted, they default to 0. If
ySpacing is also omitted, the xSpacing value is used <br>
for both spacings. Grid parameters will be retained for a
window until explicitly changed by another grid command.
When the grid is displayed, a solid box is drawn to <br>
show the origin of the edit cell.</p>

<p style="margin-top: 1em">identify instance_id <br>
Set the instance identifier of the selected cell use to
instance_id. Instance_id must be unique among all instance
identifiers in the parent of the selected cell. Ini&acirc;
<br>
tially, Magic guarantees uniqueness of identifiers by giving
each cell an initial identifier consisting of the cell
definition name followed by an underscore and a small <br>
integer.</p>

<p style="margin-top: 1em">iroute subcommand [args] <br>
This command provides an interactive interface to the Magic
maze-router. Routing is done one connection at a time. Three
internal hint layers, magnet, fence, and rotate, <br>
allow the user to guide routing graphically. Routes are
chosen close to magnets (if possible), routing does not
cross fence boundaries, and rotate areas reverse the
pre&acirc; <br>
ferred routing directions for each layer. The maze-router
seeks to find a lowest-cost path. Parameters specifying
costs for horizontal and vertical routing on each <br>
layer, cost for jogs and contacts, and cost (per unit area)
for distance between a path and magnets, help determine the
nature of the routes. Several search parameters <br>
permit tuning to achieve acceptable routes in as short a
time as possible. Routing can always be interrupted with ^C.
The iroute subcommands are as follows:</p>

<p style="margin-top: 1em">iroute Routes from cursor to
inside box.</p>

<p style="margin-top: 1em">iroute contact [type]
[parameter] [value1] ... [valuen] <br>
An asterisk, *, can be used for type and parameter. This
command is for setting and examining parameters related to
contacts.</p>

<p style="margin-top: 1em">iroute help [subcommand] <br>
Summarizes irouter commands. If a subcommand is given, usage
information for that subcommand is printed.</p>

<p style="margin-top: 1em">iroute layers [type] [parameter]
[value1] ... [valuen] <br>
An asterisk, *, can be used for type and parameter. This
command is for setting and examining parameters related to
route layers.</p>

<p style="margin-top: 1em">iroute route [options] <br>
Invokes the router. Options are as follows: <br>
-sLayers layers = layers route may start on <br>
-sCursor = start route at cursor (DEFAULT) <br>
-sLabel name = start route at label of given name <br>
-sPoint x y = start route at given coordinates <br>
-dLayers layers = layers route may end on <br>
-dBox = route to box (DEFAULT) <br>
-dLabel name = route to label of given name <br>
-dRect xbot ybot xtop ytop = route to rectangle of given
coordinates <br>
-dSelection = route to selection</p>

<p style="margin-top: 1em">iroute saveParameters
&lt;filename&gt; <br>
Saves all current irouter parameter settings. The parameters
can be restored to these values with the command
&lsquo;&lsquo;source filename&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">iroute search [searchParameter]
[value] <br>
Allows parameters controlling the search to be modified. If
routing is too slow try increasing rate. If the router is
producing bad results, try reducing rate. <br>
Its a good idea to make width at least twice as big as
rate.</p>

<p style="margin-top: 1em">iroute spacings [route-type]
[type] [spacing] ... [typen spacingn] <br>
Default minimum spacings between a route-type placed by the
router and other types are derived from the drc section of
the technology file. The defaults can be <br>
overridden by this command. The special type SUBCELL is used
to specify minimum spacing to unexpanded subcells.</p>

<p style="margin-top: 1em">iroute verbosity [level] <br>
Controls the number of messages printed during routing: <br>
0 = errors and warnings only, <br>
1 = brief, <br>
2 = lots of statistics.</p>

<p style="margin-top: 1em">iroute version <br>
Prints irouter version information.</p>

<p style="margin-top: 1em">iroute wizard [wizardparameter]
[value] <br>
Used to examine and set miscellaneous parameters. Most of
these are best left alone by the unadventurous user.</p>

<p style="margin-top: 1em">label string [pos [layer]] <br>
A label with text string is positioned at the box location.
Labels may cover points, lines, or areas, and are associated
with specific layers. Normally the box is col&acirc; <br>
lapsed to either a point or to a line (when labeling
terminals on the edges of cells). Normally also, the area
under the box is occupied by a single layer. If no layer
<br>
argument is specified, then the label is attached to the
layer under the box, or space if no layer covers the entire
area of the box. If layer is specified but layer <br>
doesn&rsquo;t cover the entire area of the box, the label
will be moved to another layer or space. Labels attached to
space will be considered by CIF processing programs to be
<br>
attached to all layers overlapping the area of the label.
Pos is optional, and specifies where the label text is to be
displayed relative to the box (e.g.
&lsquo;&lsquo;north&rsquo;&rsquo;). If <br>
pos isn&rsquo;t given, Magic will pick a position to ensure
that the label text doesn&rsquo;t stick out past the edge of
the cell.</p>

<p style="margin-top: 1em">layers Prints out the names of
all the layers defined for the current technology.</p>

<p style="margin-top: 1em">load [file] <br>
Load the cell hierarchy rooted at file.mag into the window
underneath the cursor. If no file is supplied, a new unnamed
cell is created. The root cell of the hierarchy <br>
is made the edit cell unless there is already an edit cell
in a different window.</p>

<p style="margin-top: 1em">move [direction [amount]]</p>

<p style="margin-top: 1em">move to x y <br>
If no arguments are given, the selection is picked up by the
point underneath the lower-left corner of the box and moved
so that this point lies at the cursor location. <br>
If direction is given, it must be a Manhattan direction
(e.g. north). The selection is moved in that direction by
amount. If the box is in the same window as the selec&acirc;
<br>
tion, it is moved too. Amount defaults to 1. Selected
material that is not in the edit cell, is not affected. The
second form of the command is as though the cursor <br>
were pointing to (x, y) in the edit cell; the selection is
picked up by the point beneath the lower-left corner of the
box and moved so that this point lies at (x, y).</p>

<p style="margin-top: 1em">paint layers <br>
The area underneath the box is painted in layers.</p>

<p style="margin-top: 1em">path [searchpath] <br>
This command tells Magic where to look for cells. Searchpath
contains a list of directories separated by colons or spaces
(if spaces are used, then searchpath must be <br>
surrounded by quotes). When looking for a cell, Magic will
check each directory in the path in order, until the cell is
found. If the cell is not found anywhere in the <br>
path, Magic will look in the system library for it. If the
path command is invoked with no arguments, the current
search path is printed.</p>

<p style="margin-top: 1em">plot option [args] <br>
Used to generate hardcopy plots direct from Magic. Options
and args are used in the following ways:</p>

<p style="margin-top: 1em">plot gremlin file [layers] <br>
Generate a Gremlin-format description of everything under
the box, and write the description in file. If layers
isn&rsquo;t specified, paint, labels, and unexpanded
sub&acirc; <br>
cells are all included in the Gremlin file just as they
appear on the screen. If layers is specified, then just the
indicated layers are output in the Gremlin <br>
file. Layers may include the special layers labels and
subcell. The Gremlin file is scaled to have a total size
between 256 and 512 units; you should use the <br>
width and/or height Grn commands to ensure that the printed
version is the size you want. Use the mg stipples in Grn. No
plot parameters are used in Gremlin plot&acirc; <br>
ting.</p>

<p style="margin-top: 1em">plot help <br>
Print a short synopsis of all the plot command options.</p>

<p style="margin-top: 1em">plot parameters [name value]
<br>
If plot parameters is invoked with no additional arguments,
the values for all of the plot parameters are printed. If
name and value are provided, then name is the <br>
name of a plot parameter and value is a new value for it.
Plot parameters are used to control various aspects of
plotting; all of them have
&lsquo;&lsquo;reasonable&rsquo;&rsquo; initial <br>
values. Most of the parameters available now are used to
control Versatec-style plotting. They are:</p>

<p style="margin-top: 1em">cellIdFont <br>
The name of the font to use for cell instance ids in
Versatec plots. This must be a file in Vfont format.</p>

<p style="margin-top: 1em">cellNameFont <br>
The name of the font to use for cell names in Versatec
plots. This must be a file in Vfont format.</p>

<p style="margin-top: 1em">color If this is set to true,
the :plot versatec command will generate output suitable for
a four-color Versatec plotter, using the styles defined in
the colorver&acirc; <br>
satec style of the plot section of the technology file. If
color is false (the default), then :plot versatec generates
normal black-and-white plots.</p>

<p style="margin-top: 1em">directory <br>
The name of the directory in which to create raster files
for the Versatec. The raster files have names of the form
magicPlotXXXXXX, where XXXXXX is a <br>
process-specific identifier.</p>

<p style="margin-top: 1em">dotsPerInch <br>
Indicates how many dots per inch there are on the Versatec
printer. This parameter is used only for computing the scale
factor for plotting. Must be an <br>
integer greater than zero.</p>

<p style="margin-top: 1em">labelFont <br>
The name of the font to use for labels in Versatec plots.
This must be a file in Vfont format.</p>

<p style="margin-top: 1em">printer <br>
The name of the printer to which to spool Versatec raster
files.</p>

<p style="margin-top: 1em">showcellnames <br>
If &lsquo;&lsquo;true&rsquo;&rsquo; (the default) then the
name and instance-identifier of each unexpanded subcell is
displayed inside its bounding box. If this parameter is <br>
&lsquo;&lsquo;false&rsquo;&rsquo; then only the bounding box
of the cell is displayed.</p>

<p style="margin-top: 1em">spoolCommand <br>
The command used to spool Versatec raster files. This must
be a text string containing two
&lsquo;&lsquo;%s&rsquo;&rsquo; formatting fields. The first
&lsquo;&lsquo;%s&rsquo;&rsquo; will be replaced with <br>
the printer name, and the second one will be replaced with
the name of the raster file.</p>

<p style="margin-top: 1em">swathHeight <br>
How many raster lines of Versatec output to generate in
memory at one time. The raster file is generated in swaths
in order to keep the memory requirements <br>
reasonable. This parameter determines the size of the
swaths. It must be an integer greater than zero, and should
be a multiple of 16 in order to avoid <br>
misalignment of stipple patterns.</p>

<p style="margin-top: 1em">width The number of pixels
across the Versatec printer. Must be an integer greater than
0, and must be an even multiple of 32.</p>

<p style="margin-top: 1em">plot versatec [size [layers]]
<br>
Generate a raster file describing all the the information
underneath the box in a format suitable for printing on
Versatec black-and-white or color printers, and <br>
spool the file for printing. See the plot parameters above
for information about the parameters that are used to
control Versatec plotting. Size is used to scale <br>
the plot: a scalefactor is chosen so that the area of the
box is size inches across on the printed page. Size defaults
to the width of the printer. Layers <br>
selects which layers (including labels and subcells) to
plot; it defaults to everything visible on the screen.</p>

<p style="margin-top: 1em">plow direction [layers]</p>

<p style="margin-top: 1em">plow option [args] <br>
The first form of this command invokes the plowing operation
to stretch and/or compact a cell. Direction is a Manhattan
direction. Layers is an optional collection of <br>
mask layers, which defaults to *. One of the edges of the
box is treated as a plow and dragged to the opposite edge of
the box (e.g. the left edge is used as the plow <br>
when plow right is invoked). All edges on layers that lie in
the plow&rsquo;s path are pushed ahead of it, and they push
other edges ahead of them to maintain design rules, <br>
connectivity, and transistor and contact sizes. Subcells are
moved in their entirety without being modified internally.
Any mask information overlapping a subcell moved <br>
by plowing is also moved by the same amount. Option and args
are used in the following ways:</p>

<p style="margin-top: 1em">plow boundary <br>
The box specifies the area that may be modified by plowing.
This area is highlighted with a pale stipple outline.
Subsequent plows are not allowed to modify any <br>
area outside that specified by the box; if they do, the
distance the plow moves is reduced by an amount sufficient
to insure that no geometry outside the boundary <br>
gets affected.</p>

<p style="margin-top: 1em">plow help <br>
Prints a short synopsis of all the plow command options.</p>

<p style="margin-top: 1em">plow horizon n</p>

<p style="margin-top: 1em">plow horizon <br>
The first form sets the plowing jog horizon to n units. The
second form simply prints the value of the jog horizon.
Every time plowing considers introducing a jog <br>
in a piece of material, it looks up and down that piece of
material for a distance equal to the jog horizon. If it
finds an existing jog within this distance, it <br>
uses it. Only if no jog is found within the jog horizon does
plowing introduce one of its own. A jog horizon of zero
means that plowing will always introduce new <br>
jogs where needed. A jog horizon of infinity (plow nojogs)
means that plowing will not introduce any new jogs of its
own.</p>

<p style="margin-top: 1em">plow jogs <br>
Re-enable jog insertion with a horizon of 0. This command is
equivalent to plow horizon 0.</p>

<p style="margin-top: 1em">plow noboundary <br>
Remove any boundary specified with a previous plow boundary
command.</p>

<p style="margin-top: 1em">plow nojogs <br>
Sets the jog horizon to infinity. This means that plowing
will not introduce any jogs of its own; it will only use
existing ones.</p>

<p style="margin-top: 1em">plow nostraighten <br>
Don&rsquo;t straighten jogs automatically after each plow
operation.</p>

<p style="margin-top: 1em">plow selection [direction
[distance]] <br>
Like the move or stretch commands, this moves all the
material in the selection that belongs to the edit cell.
However, any material not in the selection is pushed <br>
out of its way, just as though each piece of the selection
were plowed individually. If no arguments are given, the
selection is picked up by the point underneath <br>
the lower-left corner of the box and plowed so that this
point lies at the cursor location. The box is moved along
with the selection. If direction is given, it <br>
must be a Manhattan direction (e.g. north). The selection is
moved in that direction by amount. If the box is in the same
window as the selection, it is moved <br>
too. Amount defaults to 1. If there is selected material
that isn&rsquo;t in the edit cell, it is ignored (note that
this is different from select and move). If direc&acirc;
<br>
tion isn&rsquo;t given and the cursor isn&rsquo;t exactly
left, right, up, or down from the box corner, then Magic
first rounds the cursor position off to a position that is
<br>
one of those (whichever is closest).</p>

<p style="margin-top: 1em">plow straighten <br>
Straighten jogs automatically after each plow operation. The
effect will be as though the straighten command were invoked
after each plow operation, with the same <br>
direction, and over the area changed by plowing.</p>

<p style="margin-top: 1em">resist cell [tolerance] <br>
This command is similar to extresist above, but used for
extracting resistance networks for individual nodes. Only
the node underneath the box is processed. The network <br>
for this node is output to the file cell.res.ext. See the
description for extresist for an explanation of
tolerance.</p>

<p style="margin-top: 1em">route option [args] <br>
This command, with no option or arg, is used to generate
routing using the Magic router in the edit cell to make
connections specified in the current netlist. The box is
<br>
used to indicate the routing area: no routing will be placed
outside the area of the box. The new wires are placed in the
edit cell. Options and args have the following <br>
effects:</p>

<p style="margin-top: 1em">route end [real] <br>
Print the value of the channel end constant used by the
channel router. If a value is supplied, the channel end
constant is set to that value. The channel end <br>
constant is a dimensionless multiplier used to compute how
far from the end of a channel to begin preparations to make
end connections.</p>

<p style="margin-top: 1em">route help <br>
Print a short synopsis of all the route command options.</p>

<p style="margin-top: 1em">route jog [int] <br>
Print the value of the minimum jog length used by the
channel router. If a value is supplied, the minimum jog
length is set to that value. The channel router <br>
makes no vertical jogs shorter than the minimum jog length,
measured in router grid units. Higher values for this
constant may improve the quality of the routing <br>
by removing unnecessary jogs; however, prohibiting short
jogs may make some channels unroutable.</p>

<p style="margin-top: 1em">route metal <br>
Toggle metal maximization on or off. The route command
routes the preferred routing layer (termed
&lsquo;&lsquo;metal&rsquo;&rsquo;) horizontally and the
alternate routing layer verti&acirc; <br>
cally. By default wires on the alternate routing layer are
then converted, as much as possible, to the preferred layer
before being painted into the layout. <br>
Enabling metal maximization improves the quality of the
resulting routing, since the preferred routing layer
generally has better electrical characteristics; how&acirc;
<br>
ever, designers wishing to do hand routing after automatic
routing may find it easier to disable metal maximization and
deal with a layer-per-direction layout.</p>

<p style="margin-top: 1em">route netlist [file] <br>
Print the name of the current netlist. If a file name is
specified, it is opened if possible, and the new netlist is
loaded. This option is provided primarily as <br>
a convenience so you need not open the netlist menu before
routing.</p>

<p style="margin-top: 1em">route obstacle [real] <br>
Print the obstacle constant used by the channel router. If a
value is supplied, set the channel router obstacle constant
to that value. The obstacle constant is a <br>
dimensionless multiplier used in deciding how far in front
of an obstacle the channel router should begin jogging nets
out of the way. Larger values mean that nets <br>
will jog out of the way earlier; however, if nets jog out of
the way too early routing area is wasted.</p>

<p style="margin-top: 1em">route origin [x y] <br>
Print the x- and y-coordinates of the origin of the routing
grid. By default, the routing grid starts from (0,0).
However, by supplying an x and y coordinate to <br>
the route origin command, the origin can be set to any other
value. This command is primarily useful when routing a chip
that has been designed with routing on the <br>
same pitch as the router will use, but where the left and
bottom edges of the pre-existing routing don&rsquo;t line up
with the routing grid lines (for example, the pre- <br>
existing routing might have been centered on routing grid
lines). The alternative to specifying a different origin for
the routing grid would be to translate all <br>
the material in the cell to be routed so that the prewiring
lined up properly with routing grid lines.</p>

<p style="margin-top: 1em">route settings <br>
Print the values of all router parameters.</p>

<p style="margin-top: 1em">route steady [int] <br>
Print the value of the channel router&rsquo;s steady net
constant. If a value is supplied, set the steady net
constant to the value. The steady net constant, measured
<br>
in router grid units, specifies how far beyond the next
terminal the channel router should look for a conflicting
terminal before deciding that a net is rising or <br>
falling. Larger values mean that the net rises and falls
less often.</p>

<p style="margin-top: 1em">route tech <br>
Print the router technology information. This includes
information such as the names of the preferred and alternate
routing layers, their wire widths, the router <br>
grid spacing, and the contact size.</p>

<p style="margin-top: 1em">route viamin <br>
Minimize vias in (previously) routed netlist. This
subcommand removes unnecessary layer changes in all nets in
the current netlist to minimize via count. The pre&acirc;
<br>
ferred routing layer, layer1 in the router section of the
technology file, is favored by the algorithm. Note that
&lsquo;&lsquo;route viamin&rsquo;&rsquo; is an independent
routing post&acirc; <br>
pass that can be applied even if the routing was not
generated by the route command, provided the layers and
widths agree with the router section of the technology <br>
file.</p>

<p style="margin-top: 1em">route vias [int] <br>
Print the value of the metal maximization via constant. If a
value is supplied, set the via constant to the value. The
via constant, measured in router grid <br>
units, represents the tradeoff between metal maximization
and the via count. In many cases it is possible to convert
wiring on the alternate routing layer into <br>
routing on the preferred routing layer
(&lsquo;&lsquo;metal&rsquo;&rsquo;) at the expense of
introducing one or two vias. The via constant specifies the
amount of converted wiring that <br>
makes it worthwhile to add vias to the routing.</p>

<p style="margin-top: 1em">rsim [options] [filename] <br>
Runs rsim under Magic. See Tutorial #11: Using IRSIM and
RSIM with Magic for more information on what options and
files are required by rsim. Normally, IRSIM requires a <br>
parameter file for the technology and a .sim file describing
the circuit.</p>

<p style="margin-top: 1em">The rsim command without any
options can be used to interact with a previously-started
rsim. Type rsim and you will see the rsim prompt. To get
back to magic, type q.</p>

<p style="margin-top: 1em">save [name] <br>
Save the edit cell on disk. If the edit cell is currently
the &lsquo;&lsquo;(UNNAMED)&rsquo;&rsquo; cell, name must be
specified; in this case the edit cell is renamed to name as
well as being <br>
saved in the file name.mag. Otherwise, name is optional. If
specified, the edit cell is saved in the file name.mag;
otherwise, it is saved in the file from which it was <br>
originally read.</p>

<p style="margin-top: 1em">see option <br>
This command is used to control which layers are to be
displayed in the window under the cursor. It has several
forms:</p>

<p style="margin-top: 1em">see no layers <br>
Do not display the given layers in the window under the
cursor. If labels is given as a layer name, don&rsquo;t
display labels in that window either. If errors is given
<br>
as a layer, no design-rule violations will be displayed (the
checker will continue to run, though). If layers is given as
&quot;*&quot;, all mask layers will be disabled, <br>
but errors and labels will still be shown. See the
&quot;LAYERS&quot; section at the end of this manual page
for an explanation of layer naming in Magic.</p>

<p style="margin-top: 1em">see layers <br>
Reenable display of the given layers. Note that
&quot;*&quot; expands to all mask layers, but does not
include the label or error layers. See the
&quot;LAYERS&quot; section at the <br>
end of this manual page for details.</p>

<p style="margin-top: 1em">see no Don&rsquo;t display any
mask layers or labels. Only subcell bounding boxes will be
displayed.</p>

<p style="margin-top: 1em">see Reenable display of all mask
layers, labels, and errors.</p>

<p style="margin-top: 1em">see allSame <br>
Display all cells the same way. This disables the facility
where the edit cell is displayed in bright colors and
non-edit cells are in paler colors. After see <br>
allSame, all mask information will be displayed in bright
colors.</p>

<p style="margin-top: 1em">see no allSame <br>
Reenable the facility where non-edit cells are drawn in
paler colors.</p>

<p style="margin-top: 1em">select option <br>
This command is used to select paint, labels, and subcells
before operating on them with commands like move and copy
and delete. It has several forms:</p>

<p style="margin-top: 1em">select If the cursor is over
empty space, then this command is identical to select cell.
Otherwise, paint is selected. The first time the command is
invoked, a chunk of <br>
paint is selected: the largest rectangular area of material
of the same type visible underneath the cursor. If the
command is invoked again without moving the cur&acirc; <br>
sor, the selection is extended to include all material of
the same type, regardless of shape. If the command is
invoked a third time, the selection is extended <br>
again to include all material that is visible and
electrically connected to the point underneath the
cursor.</p>

<p style="margin-top: 1em">select more <br>
This command is identical to select except that the
selection is not first cleared. The result is to add the
newly-selected material to what is already in the <br>
selection.</p>

<p style="margin-top: 1em">select less <br>
This chooses material just as select does, but the material
is removed from the selection, rather than added to it. The
result is to deselect the chosen material.</p>

<p style="margin-top: 1em">select [more | less] area layers
<br>
Select material by area. If layers are not specified, then
all paint, labels, and unexpanded subcells visible
underneath the box are selected. If layers is speci&acirc;
<br>
fied, then only those layers are selected. If more is
specified, the new material is added to the current
selection rather than replacing it. If less is speci&acirc;
<br>
fied, the new material is removed from the selection
(deselected).</p>

<p style="margin-top: 1em">select [more | less] cell name
<br>
Select a subcell. If name isn&rsquo;t given, this command
finds a subcell that is visible underneath the cursor and
selects it. If the command is repeated without mov&acirc;
<br>
ing the cursor then it will step through all the subcells
under the cursor. If name is given, it is treated as a
hierarchical instance identifier starting from the <br>
root of the window underneath the cursor. The named cell is
selected. If more is specified, the new subcell is added to
the current selection instead of replacing <br>
it. If less is specified, the new subcell is removed from
the selection (deselected).</p>

<p style="margin-top: 1em">select clear <br>
Clear out the selection. This does not affect the layout; it
merely deselects everything.</p>

<p style="margin-top: 1em">select help <br>
Print a short synopsis of the selection commands.</p>

<p style="margin-top: 1em">select save cell <br>
Save all the information in the selection as a Magic cell on
disk. The selection will be saved in file cell.mag.</p>

<p style="margin-top: 1em">select and the see command <br>
Select interacts with the see command. When selecting
individual pieces of material, only visible layers are
candidates for selection. When selecting an entire <br>
area, however, both visible and non-visible material is
selected. This behavior allows entire regions of material to
be moved, even if see has been used to turn <br>
off the display of some of the layers.</p>

<p style="margin-top: 1em">sideways <br>
Flip the selection left-to-right about a vertical axis
running through the center of the selection&rsquo;s area. If
the box is in the same window as the selection, it is <br>
flipped too. Selected material not in the edit cell is not
affected.</p>

<p style="margin-top: 1em">simcmd cmd <br>
Sends the command cmd to rsim for execution. See Tutorial
#11: Using IRSIM and RSIM with Magic for more
information.</p>

<p style="margin-top: 1em">snap [on]</p>

<p style="margin-top: 1em">snap [off] <br>
Control whether the box and point are snapped to the grid
selected for the windows in which they appear (the grid was
set by the grid command), or to the standard 1x1 <br>
grid. The default is for snapping to be off, i.e., snapping
to a 1x1 grid. With no arguments, snap prints whether
snapping is enabled or not.</p>

<p style="margin-top: 1em">startrsim [options] [filename]
<br>
Similar to the rsim command, except it returns to Magic as
soon as rsim is started. See Tutorial #11: Using IRSIM and
RSIM with Magic for more information.</p>

<p style="margin-top: 1em">straighten direction <br>
Straighten jogs in wires underneath the box by pulling them
in direction. Jogs are only straightened if doing so will
cause no additional geometry to move.</p>

<p style="margin-top: 1em">stretch [direction [amount]]
<br>
This command is identical to move except that simple
stretching occurs as the selection is moved. Each piece of
paint in the selection causes the area through which
it&rsquo;s <br>
moved to be erased in that layer. Also, each piece of paint
in the selection that touches unselected material along its
back side causes extra material to be painted to <br>
fill in the gap left by the move. If direction isn&rsquo;t
given and the cursor isn&rsquo;t exactly left, right, up, or
down from the box corner, then Magic first rounds the cursor
<br>
position off to a position that is one of those (whichever
is closest).</p>

<p style="margin-top: 1em">tool [name | info] <br>
Change the current tool. The result is that the cursor shape
is different and the mouse buttons mean different things.
The command tool info prints out the meanings of <br>
the buttons for the current tool. Tool name changes the
current tool to name, where name is one of box, wiring, or
netlist. If tool is invoked with no arguments, it <br>
picks a new tool in circular sequence: multiple invocations
will cycle through all of the available tools.</p>

<p style="margin-top: 1em">unexpand <br>
Unexpand all cells that touch the box but don&rsquo;t
completely contain it.</p>

<p style="margin-top: 1em">upsidedown <br>
Flip the selection upside down about a horizontal axis
running through the center of the selection&rsquo;s area. If
the box is in the same window as the selection then it is
<br>
flipped too. Selected material that is not in the edit cell
is not changed.</p>

<p style="margin-top: 1em">what Print out information about
all the things that are selected.</p>

<p style="margin-top: 1em">wire option [args] <br>
This command provides a centerline-wiring style user
interface. Option and args specify a particular wiring
option, as described below. Some of the options can be <br>
invoked via mouse buttons when the wiring tool is
active.</p>

<p style="margin-top: 1em">wire help <br>
Print out a synopsis of the various wiring commands.</p>

<p style="margin-top: 1em">wire horizontal <br>
Just like wire leg except that the new segment is forced to
be horizontal.</p>

<p style="margin-top: 1em">wire leg <br>
Paint a horizontal or vertical segment of wire from one side
of the box over to the cursor&rsquo;s x- or y-location
(respectively). The direction (horizontal or verti&acirc;
<br>
cal) is chosen so as to produce the longest possible
segment. The segment is painted in the current wiring
material and thickness. The new segment is selected, <br>
and the box is placed at its tip.</p>

<p style="margin-top: 1em">wire switch [layer width] <br>
Switch routing layers and place a contact at the box
location. The contact type is chosen to connect the old and
new routing materials. The box is placed at the <br>
position of the contact, and the contact is selected. If
layer and width are specified, they are used as the new
routing material and width, respectively. If they <br>
are not specified, the new material and width are chosen to
correspond to the material underneath the cursor.</p>

<p style="margin-top: 1em">wire type [layer width] <br>
Pick a material and width for wiring. If layer and width are
not given, then they are chosen from the material underneath
the cursor, a square chunk of material is <br>
selected to indicate the layer and width that were chosen,
and the box is placed over this chunk. If layer and width
are given, then this command does not modify <br>
the box position.</p>

<p style="margin-top: 1em">wire vertical <br>
Just like wire leg except that the new segment is forced to
be vertical.</p>

<p style="margin-top: 1em">writeall [force] <br>
This command steps through all the cells that have been
modified in this edit session and gives you a chance to
write them out. If the force option is specified, then <br>
&lsquo;&lsquo;autowrite&rsquo;&rsquo; mode is used: all
modified cells are automatically written without asking for
permission.</p>

<p style="margin-top: 1em">COMMANDS FOR ALL WINDOWS <br>
These commands are not used for layout, but are instead used
for overall, housekeeping functions. They are valid in all
windows.</p>

<p style="margin-top: 1em">closewindow <br>
The window under the cursor is closed. That area of the
screen will now show other windows or the background.</p>

<p style="margin-top: 1em">echo [-n] str1 str2 ... strN
<br>
Prints str1 str2 ... strN in the text window, separated by
spaces and followed by a newline. If the -n switch is given,
no newline is output after the command.</p>

<p style="margin-top: 1em">help [pattern] <br>
Displays a synopsis of commands that apply to the window you
are pointing to. If pattern is given then only command
descriptions containing the pattern are printed. Pat&acirc;
<br>
tern may contain &rsquo;*&rsquo; and &rsquo;?&rsquo;
characters, which match a string of non-blank characters or
a single non-blank character (respectively).</p>

<p style="margin-top: 1em">logcommands [file [update]]]
<br>
If file is given, all further commands are logged to that
file. If no arguments are given, command logging is
terminated. If the keyword update is present, commands are
<br>
output to the file to cause the screen to be updated after
each command when the command file is read back in.</p>

<p style="margin-top: 1em">macro [char [command]] <br>
Command is associated with char such that typing char on the
keyboard is equivalent to typing
&lsquo;&lsquo;:&rsquo;&rsquo; followed by command. If
command is omitted, the current macro for char <br>
is printed. If char is also omitted, then all current macros
are printed. If command contains spaces, tabs, or semicolons
then it must be placed in quotes. The semi&acirc; <br>
colon acts as a command separator allowing multiple commands
to be combined in a single macro.</p>

<p style="margin-top: 1em">openwindow [cell] <br>
Open a new, empty window at the cursor position. Placement,
sizing, and methods of manipulation are determined by the
conventions of the window system in use. If cell is <br>
specified, then that cell is displayed in the new window.
Otherwise the area of the box will be displayed in the new
window.</p>

<p style="margin-top: 1em">pushbutton button action <br>
Simulates a button push. Button should be left, middle, or
right. Action is one of up, or down. This command is
normally invoked only from command scripts produced by <br>
the logcommands command.</p>

<p style="margin-top: 1em">quit Exit Magic and return to
the shell. If any cells, colormaps, or netlists have changed
since they were last saved on disk, you are given a chance
to abort the command and <br>
continue in Magic.</p>

<p style="margin-top: 1em">redo [n] <br>
Redo the last n commands that were undone using undo (see
below). The number of commands to redo defaults to 1 if n is
not specified.</p>

<p style="margin-top: 1em">redraw Redraw the graphics
screen.</p>

<p style="margin-top: 1em">scroll direction [amount] <br>
The window under the cursor is moved by amount screenfulls
in direction relative to the circuit. If amount is omitted,
it defaults to 0.5.</p>

<p style="margin-top: 1em">send type command <br>
Send a command to the window client named by type. The
result is just as if command had been typed in a window of
type type. See specialopen, below, for the allowable <br>
types of windows.</p>

<p style="margin-top: 1em">setpoint [x y [windowID]] <br>
Fakes the location of the cursor up until after the next
interactive command. Without arguments, just prints out the
current point location. This command is normally <br>
invoked only from command scripts.</p>

<p style="margin-top: 1em">If windowID is given, then the
point is assumed to be in that window&rsquo;s screen
coordinate system rather than absolute screen
coordinates.</p>

<p style="margin-top: 1em">sleep n <br>
Causes Magic to go to sleep for n seconds.</p>

<p style="margin-top: 1em">source filename <br>
Each line of filename is read and processed as one command.
Any line whose last character is backslash is joined to the
following line. The commands setpoint, pushbut&acirc; <br>
ton, echo, sleep, and updatedisplay are useful in command
files, and seldom used elsewhere.</p>

<p style="margin-top: 1em">specialopen [x1 y1 x2 y2] type
[args] <br>
Open a window of type type. If the optional x1 y1 x2 y2
coordinates are given, then the new window will have its
lower left corner at screen coordinates (x1, y1) and its
<br>
upper right corner at screen coordinates (x2, y2). The args
arguments are interpreted differently depending upon the
type of the window. These types are known:</p>

<p style="margin-top: 1em">layout This type of window is
used to edit a VLSI cell. The command takes a single
argument which is used as the name of a cell to be loaded.
The command <br>
open filename <br>
is a shorthand for the command <br>
specialopen layout filename.</p>

<p style="margin-top: 1em">color This type of window allows
the color map to be edited. See the section COMMANDS FOR
COLORMAP EDITING below.</p>

<p style="margin-top: 1em">netlist <br>
This type of window presents a menu that can be used to
place labels, and to generate and edit net-lists. See the
section COMMANDS FOR NETLIST EDITING below.</p>

<p style="margin-top: 1em">underneath <br>
Move the window pointed at so that it lies underneath the
rest of the windows.</p>

<p style="margin-top: 1em">undo [count] <br>
Undoes the last count commands. Almost all commands in Magic
are now undo-able. The only holdouts left are cell
expansion/unexpansion, and window modifications (change <br>
of size, zooming, etc.). If count is unspecified, it
defaults to 1.</p>

<p style="margin-top: 1em">updatedisplay <br>
Update the display. This command is normally invoked only
from command scripts. Scripts that do not contain this
command update the screen only at the end of the script.</p>

<p style="margin-top: 1em">view Choose a view for the
window underneath the cursor so that everything in the
window is visible.</p>

<p style="margin-top: 1em">windscrollbars [on|off] <br>
Set the flag that determines if new windows will have scroll
bars.</p>

<p style="margin-top: 1em">windowpositions [file] <br>
Write out the positions of the windows in a format suitable
for the source command. If file is specified, then write it
out to that file instead of to the terminal.</p>

<p style="margin-top: 1em">zoom [factor] <br>
Zoom the view in the window underneath the cursor by factor.
If factor is less than 1, we zoom in; if it is greater than
one, we zoom out.</p>

<p style="margin-top: 1em">MOUSE BUTTONS FOR NETLIST
WINDOWS <br>
When the netlist menu is opened using the command special
netlist, a menu appears on the screen. The colored areas on
the menu can be clicked with various mouse buttons to
per&acirc; <br>
form various actions, such as placing labels and editing
netlists. For details on how to use the menu, see
&lsquo;&lsquo;Magic Tutorial #7: Netlists and
Routing&rsquo;&rsquo;. The menu buttons all <br>
correspond to commands that could be typed in netlist or
layout windows.</p>

<p style="margin-top: 1em">COMMANDS FOR NETLIST WINDOWS
<br>
The commands described below work if you are pointing to the
interior of the netlist menu. They may also be invoked when
you are pointing at another window by using the send <br>
netlist command. Terminal names in all of the commands below
are hierarchical names consisting of zero or more cell use
ids separated by slashes, followed by the label name, <br>
e.g. toplatch/shiftcell_1/in. When processing the terminal
paths, the search always starts in the edit cell.</p>

<p style="margin-top: 1em">add term1 term2 <br>
Add the terminal named term1 to the net containing terminal
term2. If term2 isn&rsquo;t in a net yet, make a new net
containing just term1 and term2.</p>

<p style="margin-top: 1em">cleanup <br>
Check the netlist to make sure that for every terminal named
in the list there is at least one label in the design. Also
check to make sure that every net contains at <br>
least two distinct terminals, or one terminal with several
labels by the same name. When errors are found, give the
user an opportunity to delete offending terminals and <br>
nets. This command can also be invoked by clicking the
&lsquo;&lsquo;Cleanup&rsquo;&rsquo; menu button.</p>

<p style="margin-top: 1em">cull Examine the current netlist
and the routing in the edit cell, and remove those nets from
the netlist that are already routed. This command is often
used after pre-routing <br>
nets by hand, so the router won&rsquo;t try to implement
them again.</p>

<p style="margin-top: 1em">dnet name name ... <br>
For each name given, delete the net containing that
terminal. If no name is given, delete the currently-selected
net, just as happens when the &lsquo;&lsquo;No
Net&rsquo;&rsquo; menu button is <br>
clicked.</p>

<p style="margin-top: 1em">dterm name name ... <br>
For each name given, delete that terminal from its net.</p>

<p style="margin-top: 1em">extract <br>
Pick a piece of paint in the edit cell that lies under the
box. Starting from this, trace out all the
electrically-connected material in the edit cell. Where this
mate&acirc; <br>
rial touches subcells, find any terminals in the subcells
and make a new net containing those terminals. Note: this is
a different command from the extract command in <br>
layout windows.</p>

<p style="margin-top: 1em">find pattern [layers] <br>
Search the area beneath the box for labels matching pattern,
which may contain the regular-expression characters
&lsquo;&lsquo;*&rsquo;&rsquo; &lsquo;&lsquo;?&rsquo;&rsquo;,
&lsquo;&lsquo;[&rsquo;&rsquo;,
&lsquo;&lsquo;]&rsquo;&rsquo;, and
&lsquo;&lsquo;&acute;&rsquo; (as matched by <br>
csh(1); see the description of the find button in
&lsquo;&lsquo;Magic Tutorial #7: Netlists and
Routing&rsquo;&rsquo;). For each label found, leave feedback
whose text is the layer on which the <br>
label appears, followed by a semicolon, followed by the full
hierarchical pathname of the label. The feedback surrounds
the area of the label by one unit on all sides. <br>
(The reason for the one-unit extension is that feedback
rectangles must have positive area, while labels may have
zero width or height). If layers are given, only labels <br>
attached to those layers are considered.</p>

<p style="margin-top: 1em">flush [netlist] <br>
The netlist named netlist is reloaded from the disk file
netlist.net. Any changes made to the netlist since the last
time it was written are discarded. If netlist isn&rsquo;t
<br>
given, the current netlist is flushed.</p>

<p style="margin-top: 1em">join term1 term2 <br>
Join together the nets containing terminals term1 and term2.
The result is a single net containing all the terminals from
both the old nets.</p>

<p style="margin-top: 1em">netlist [name] <br>
Select a netlist to work on. If name is provided, read
name.net (if it hasn&rsquo;t already been read before) and
make it the current netlist. If name isn&rsquo;t provided,
use the <br>
name of the edit cell instead.</p>

<p style="margin-top: 1em">print [name] <br>
Print the names of all the terminals in the net containing
name. If name isn&rsquo;t provided, print the terminals in
the current net. This command has the same effect as <br>
clicking on the &lsquo;&lsquo;Print&rsquo;&rsquo; menu
button.</p>

<p style="margin-top: 1em">ripup [netlist] <br>
This command has two forms. If netlist isn&rsquo;t typed as
an argument, then find a piece of paint in the edit cell
under the box. Trace out all paint in the edit cell that
<br>
is electrically connected to the starting piece, and delete
all of this paint. If netlist is typed, find all paint in
the edit cell that is electrically connected to any <br>
of the terminals in the current netlist, and delete all of
this paint.</p>

<p style="margin-top: 1em">savenetlist [file] <br>
Save the current netlist on disk. If file is given, write
the netlist in file.net. Otherwise, write the netlist back
to the place from which it was read.</p>

<p style="margin-top: 1em">shownet <br>
Find a piece of paint in any cell underneath the box.
Starting from this paint, trace out all paint in all cells
that is electrically connected to the starting piece and
<br>
highlight this paint on the screen. To make the highlights
go away, invoke the command with the box over empty space.
This command has the same effect as clicking on the <br>
&lsquo;&lsquo;Show&rsquo;&rsquo; menu button.</p>

<p style="margin-top: 1em">showterms <br>
Find the labels corresponding to each of the terminals in
the current netlist, and generate a feedback area over each.
This command has the same effect as clicking on the <br>
&lsquo;&lsquo;Terms&rsquo;&rsquo; menu button.</p>

<p style="margin-top: 1em">trace [name] <br>
This command is similar to shownet except that instead of
starting from a piece of paint under the box, it starts from
each of the terminals in the net containing name (or <br>
the current net if no name is given). All connected paint in
all cells is highlighted.</p>

<p style="margin-top: 1em">verify Compare the current
netlist against the wiring in the edit cell to make sure
that the nets are implemented exactly as specified in the
netlist. If there are discrepan&acirc; <br>
cies, feedback areas are created to describe them. This
command can also be invoked by clicking the
&lsquo;&lsquo;Verify&rsquo;&rsquo; menu button.</p>

<p style="margin-top: 1em">writeall <br>
Scan through all the netlists that have been read during
this editing session. If any have been modified, ask the
user whether or not to write them out.</p>

<p style="margin-top: 1em">MOUSE BUTTONS FOR COLORMAP
WINDOWS <br>
Color windows display two sets of colored bars and a swatch
of the color being edited. The left set of color bars is
labeled Red, Green, and Blue; these correspond to the
pro&acirc; <br>
portion of red, green, and blue in the color being edited.
The right set of bars is labeled Hue, Saturation, and Value;
these correspond to the same color but in a space whose <br>
axes are hue (spectral color), saturation (spectral purity
vs. dilution with white), and value (light vs. dark).</p>

<p style="margin-top: 1em">The value of a color is changed
by pointing inside the region spanned by one of the color
bars and clicking any mouse button. The color bar will
change so that it extends to the <br>
point selected by the crosshair when the button was pressed.
The color can also be changed by clicking a button over one
of the &lsquo;&lsquo;pumps&rsquo;&rsquo; next to a color
bar. A left-button <br>
click makes a 1% increment or decrement, and a right-button
click makes a 5% change.</p>

<p style="margin-top: 1em">The color being edited can be
changed by pressing the left button over the current color
box in the editing window, then moving the mouse and
releasing the button over a point on <br>
the screen that contains the color to be edited. A color
value can be copied from an existing color to the current
color by pressing the right mouse button over the current
<br>
color box, then releasing the button when the cursor is over
the color whose value is to be copied into the current
color.</p>

<p style="margin-top: 1em">COMMANDS FOR COLORMAP WINDOWS
<br>
These commands work if you are pointing to the interior of a
colormap window. The commands are:</p>

<p style="margin-top: 1em">color [number] <br>
Load number as the color being edited in the window. Number
must be an octal number between 0 and 377; it corresponds to
the entry in the color map that is to be edited. <br>
If no number is given, this command prints out the value of
the color currently being edited.</p>

<p style="margin-top: 1em">load [techStyle displayStyle
monitorType] <br>
Load a new color map. If no arguments are specified, the
color map for the current technology style (e.g, mos),
display style (e.g, 7bit), and monitor type (e.g, std) is
<br>
re-loaded. Otherwise, the color map is read from the file
techStyle.displayStyle.monitorType.cmap in the current
directory or in the system library directory.</p>

<p style="margin-top: 1em">save [techStyle displayStyle
monitorType] <br>
Save the current color map. If no arguments are specified,
save the color map in a file determined by the current
technology style, display style, and monitor type as <br>
above. Otherwise, save it in the file
techStyle.displayStyle.monitorType.cmap in the current
directory or in the system library directory.</p>

<p style="margin-top: 1em">DIRECTIONS <br>
Many of the commands take a direction as an argument. The
valid direction names are north, south, east, west, top,
bottom, up, down, left, right, northeast, ne, southeast, se,
<br>
northwest, nw, southwest, sw, and center. In some cases,
only Manhattan directions are permitted, which means only
north, south, east, west, and their synonyms, are
allowed.</p>

<p style="margin-top: 1em">LAYERS <br>
The mask layers are different for each technology, and are
described in the technology manuals. The layers below are
defined in all technologies:</p>

<p style="margin-top: 1em">* All mask layers. Does not
include special layers like the label layer and the error
layer (see below).</p>

<p style="margin-top: 1em">$ All layers underneath the
cursor.</p>

<p style="margin-top: 1em">errors Design-rule violations
(useful primarily in the see command).</p>

<p style="margin-top: 1em">labels Label layer.</p>

<p style="margin-top: 1em">subcell <br>
Subcell layer.</p>

<p style="margin-top: 1em">Layer masks may be formed by
constructing comma-separated lists of individual layer
names. The individual layer names may be abbreviated, as
long as the abbreviations are <br>
unique. For example, to indicate polysilicon and
n-diffusion, use poly,ndiff or ndiff,poly. The special
character - causes all subsequent layers to be subtracted
from the layer <br>
mask. For example, *-p means &lsquo;&lsquo;all layers but
polysilicon&rsquo;&rsquo;. The special character + reverses
the effect of a previous -; all subsequent layers are once
again added to the <br>
layer mask.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ext2sim(1), ext2spice(1), cmap(5), dstyle(5), ext(5),
sim(5), glyphs(5), magic(5), displays(5), net(5)</p>

<p style="margin-top: 1em">Online documentation can be
found at the following URLs: <br>
http://opencircuitdesign.com/magic/ <br>
http://vlsi.cornell.edu/magic/ <br>
The OpenCircuitDesign website contains HTML versions of all
the documentation found in the Magic &quot;doc&quot;
subdirectory, including tutorials, technology file manual;
download, com&acirc; <br>
pile and install instructions, and command reference.</p>

<p style="margin-top: 1em">FILES <br>
${CAD_ROOT}/magic/sys/.magicstartup file to create default
macros <br>
~/.magic user-specific startup command file <br>
${CAD_ROOT}/magic/nmos/*some standard nmos cells <br>
${CAD_ROOT}/magic/scmos/*some standard scmos cells <br>
${CAD_ROOT}/magic/sys/*.cmapcolormap files, see CMAP(5) man
page <br>
${CAD_ROOT}/magic/sys/*.dstyledisplay style files, see
DSTYLE(5) man page <br>
${CAD_ROOT}/magic/sys/*.glyphscursor and window bitmap
files, see GLYPH(5) man page <br>
${CAD_ROOT}/magic/sys/*.techtechnology files, see
&lsquo;&lsquo;Maintainer&rsquo;s Manual <br>
#2: The Technology File&rsquo;&rsquo; <br>
${CAD_ROOT}/displaysconfiguration file for Magic serial-line
displays</p>

<p style="margin-top: 1em">CAD_ROOT variable. If the shell
environment variable CAD_ROOT is set, Magic uses that
location instead of the installed location (/usr/local/lib,
by default). Normally one <br>
would change the search path (see below) rather than
redirect the entire CAD_ROOT location.</p>

<p style="margin-top: 1em">Search path. Magic&rsquo;s
system and library files, such as technology files and
display-style files, normally are placed in the
${CAD_ROOT}/magic area. However, Magic first tries <br>
to find them in the user&rsquo;s current directory. This
makes it easier for an individual user to override installed
system files. The search path is defined by the Magic
command <br>
path,</p>

<p style="margin-top: 1em">AUTHORS <br>
Original: Gordon Hamachi, Robert Mayo, John Ousterhout,
Walter Scott, George Taylor</p>

<p style="margin-top: 1em">Contributors: Michael Arnold
(Magic maze-router and Irouter command), Don Stark (new
contact scheme, X11 interface, various other things), Mike
Chow (Rsim interface). The X11 <br>
driver is the work of several people, including Don Stark,
Walter Scott, and Doug Pan.</p>

<p style="margin-top: 1em">Developers: Ongoing development
(magic version 6.5 and higher) made possible by Stefanos
Sidiropolous, Tim Edwards, Rajit Manohar, Philippe
Pouliquen, Michael Godfrey, and oth&acirc; <br>
ers.</p>

<p style="margin-top: 1em">Many other people have
contributed to Magic, but it is impossible to list them all
here. We appreciate their help!</p>

<p style="margin-top: 1em">BUGS <br>
If Magic gets stuck for some reason, first try typing
Control-C into the terminal window (in the Tcl/Tk version,
this is the original terminal, not the Tk console window).
Most <br>
of Magic&rsquo;s lengthy database searches are
interruptible. If this doesn&rsquo;t work, kill the process.
The Tcl/Tk version automatically creates periodic backups
that may be recovered <br>
with &quot;magic -r&quot;.</p>

<p style="margin-top: 1em">Report bugs to
magic-dev@csl.cornell.edu. Please be specific: tell us
exactly what you did to cause the problem, what you expected
to happen, and what happened instead. If pos&acirc; <br>
sible send along small files that we can use to reproduce
the bug. A list of known bugs and fixes is also available
from the above address. Tell us which version of magic you
<br>
are running.</p>

<p style="margin-top: 1em">4th Berkeley Distribution
MAGIC(1)</p>
<hr>
</body>
</html>
