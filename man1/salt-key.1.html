<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:36:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SALT-KEY(1) Salt SALT-KEY(1)</p>

<p style="margin-top: 1em">NAME <br>
salt-key - salt-key Documentation</p>

<p style="margin-top: 1em">SYNOPSIS <br>
salt-key [ options ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Salt-key executes simple management of Salt server public
keys used for authentication.</p>

<p style="margin-top: 1em">On initial connection, a Salt
minion sends its public key to the Salt master. This key
must be accepted using the salt-key command on the Salt
master.</p>

<p style="margin-top: 1em">Salt minion keys can be in one
of the following states:</p>

<p style="margin-top: 1em">&Acirc;&middot; unaccepted: key
is waiting to be accepted.</p>

<p style="margin-top: 1em">&Acirc;&middot; accepted: key
was accepted and the minion can communicate with the Salt
master.</p>

<p style="margin-top: 1em">&Acirc;&middot; rejected: key
was rejected using the salt-key command. In this state the
minion does not receive any communication from the Salt
master.</p>

<p style="margin-top: 1em">&Acirc;&middot; denied: key was
rejected automatically by the Salt master. This occurs when
a minion has a duplicate ID, or when a minion was rebuilt or
had new keys generated and the previ&acirc; <br>
ous key was not deleted from the Salt master. In this state
the minion does not receive any communication from the Salt
master.</p>

<p style="margin-top: 1em">To change the state of a minion
key, use -d to delete the key and then accept or reject the
key.</p>

<p style="margin-top: 1em">OPTIONS <br>
--version <br>
Print the version of Salt that is running.</p>

<p style="margin-top: 1em">--versions-report <br>
Show program&rsquo;s dependencies and version number, and
then exit</p>

<p style="margin-top: 1em">-h, --help <br>
Show the help message and exit</p>

<p style="margin-top: 1em">-c CONFIG_DIR,
--config-dir=CONFIG_dir <br>
The location of the Salt configuration directory. This
directory contains the configuration files for Salt master
and minions. The default location on most systems is <br>
/etc/salt.</p>

<p style="margin-top: 1em">-u USER, --user=USER <br>
Specify user to run salt-key</p>

<p style="margin-top: 1em">--hard-crash <br>
Raise any original exception rather than exiting gracefully.
Default is False.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Suppress output</p>

<p style="margin-top: 1em">-y, --yes <br>
Answer &rsquo;Yes&rsquo; to all questions presented,
defaults to False</p>

<p style="margin-top: 1em">--rotate-aes-key=ROTATE_AES_KEY
<br>
Setting this to False prevents the master from refreshing
the key session when keys are deleted or rejected, this
lowers the security of the key deletion/rejection
opera&acirc; <br>
tion. Default is True.</p>

<p style="margin-top: 1em">Logging Options <br>
Logging options which override any settings defined on the
configuration files.</p>

<p style="margin-top: 1em">--log-file=LOG_FILE <br>
Log file path. Default: /var/log/salt/minion.</p>


<p style="margin-top: 1em">--log-file-level=LOG_LEVEL_LOGFILE
<br>
Logfile logging log level. One of all, garbage, trace,
debug, info, warning, error, quiet. Default: warning.</p>

<p style="margin-top: 1em">Output Options <br>
--out Pass in an alternative outputter to display the return
of data. This outputter can be any of the available
outputters: <br>
grains, highstate, json, key, overstatestage, pprint, raw,
txt, yaml</p>

<p style="margin-top: 1em">Some outputters are formatted
only for data returned from specific functions; for
instance, the grains outputter will not work for non-grains
data.</p>

<p style="margin-top: 1em">If an outputter is used that
does not support the data passed into it, then Salt will
fall back on the pprint outputter and display the return
data using the Python pprint <br>
standard library module.</p>

<p style="margin-top: 1em">NOTE: <br>
If using --out=json, you will probably want --static as
well. Without the static option, you will get a separate
JSON string per minion which makes JSON output invalid <br>
as a whole. This is due to using an iterative outputter. So
if you want to feed it to a JSON parser, use --static as
well.</p>

<p style="margin-top: 1em">--out-indent OUTPUT_INDENT,
--output-indent OUTPUT_INDENT <br>
Print the output indented by the provided value in spaces.
Negative values disable indentation. Only applicable in
outputters that support indentation.</p>

<p style="margin-top: 1em">--out-file=OUTPUT_FILE,
--output-file=OUTPUT_FILE <br>
Write the output to the specified file.</p>

<p style="margin-top: 1em">--no-color <br>
Disable all colored output</p>

<p style="margin-top: 1em">--force-color <br>
Force colored output</p>

<p style="margin-top: 1em">NOTE: <br>
When using colored output the color codes are as
follows:</p>

<p style="margin-top: 1em">green denotes success, red
denotes failure, blue denotes changes and success and yellow
denotes a expected future change in configuration.</p>

<p style="margin-top: 1em">Actions <br>
-l ARG, --list=ARG <br>
List the public keys. The args pre, un, and unaccepted will
list unaccepted/unsigned keys. acc or accepted will list
accepted/signed keys. rej or rejected will list <br>
rejected keys. Finally, all will list all keys.</p>

<p style="margin-top: 1em">-L, --list-all <br>
List all public keys. (Deprecated: use --list all)</p>

<p style="margin-top: 1em">-a ACCEPT, --accept=ACCEPT <br>
Accept the specified public key (use --include-all to match
rejected keys in addition to pending keys). Globs are
supported.</p>

<p style="margin-top: 1em">-A, --accept-all <br>
Accepts all pending keys.</p>

<p style="margin-top: 1em">-r REJECT, --reject=REJECT <br>
Reject the specified public key (use --include-all to match
accepted keys in addition to pending keys). Globs are
supported.</p>

<p style="margin-top: 1em">-R, --reject-all <br>
Rejects all pending keys.</p>

<p style="margin-top: 1em">--include-all <br>
Include non-pending keys when accepting/rejecting.</p>

<p style="margin-top: 1em">-p PRINT, --print=PRINT <br>
Print the specified public key.</p>

<p style="margin-top: 1em">-P, --print-all <br>
Print all public keys</p>

<p style="margin-top: 1em">-d DELETE, --delete=DELETE <br>
Delete the specified key. Globs are supported.</p>

<p style="margin-top: 1em">-D, --delete-all <br>
Delete all keys.</p>

<p style="margin-top: 1em">-f FINGER, --finger=FINGER <br>
Print the specified key&rsquo;s fingerprint.</p>

<p style="margin-top: 1em">-F, --finger-all <br>
Print all keys&rsquo; fingerprints.</p>

<p style="margin-top: 1em">Key Generation Options <br>
--gen-keys=GEN_KEYS <br>
Set a name to generate a keypair for use with salt</p>

<p style="margin-top: 1em">--gen-keys-dir=GEN_KEYS_DIR <br>
Set the directory to save the generated keypair. Only works
with &rsquo;gen_keys_dir&rsquo; option; default is the
current directory.</p>

<p style="margin-top: 1em">--keysize=KEYSIZE <br>
Set the keysize for the generated key, only works with the
&rsquo;--gen-keys&rsquo; option, the key size must be 2048
or higher, otherwise it will be rounded up to 2048. The
default <br>
is 2048.</p>

<p style="margin-top: 1em">--gen-signature <br>
Create a signature file of the master&rsquo;s public-key
named master_pubkey_signature. The signature can be sent to
a minion in the master&rsquo;s auth-reply and enables the
minion <br>
to verify the master&rsquo;s public-key cryptographically.
This requires a new signing-key-pair which can be
auto-created with the --auto-create parameter.</p>

<p style="margin-top: 1em">--priv=PRIV <br>
The private-key file to create a signature with</p>

<p style="margin-top: 1em">--signature-path=SIGNATURE_PATH
<br>
The path where the signature file should be written</p>

<p style="margin-top: 1em">--pub=PUB <br>
The public-key file to create a signature for</p>

<p style="margin-top: 1em">--auto-create <br>
Auto-create a signing key-pair if it does not yet exist</p>

<p style="margin-top: 1em">SEE ALSO <br>
salt(7) salt-master(1) salt-minion(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Thomas S. Hatch &lt;thatch45@gmail.com&gt; and many others,
please see the Authors file</p>

<p style="margin-top: 1em">COPYRIGHT <br>
2016 SaltStack, Inc.</p>

<p style="margin-top: 1em">2016.11.0 October 31, 2016
SALT-KEY(1)</p>
<hr>
</body>
</html>
