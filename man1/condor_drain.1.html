<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:00:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>condor_drain(1) General Commands Manual
condor_drain(1)</p>

<p style="margin-top: 1em">Name <br>
condor_drain Control - draining of an execute machine</p>

<p style="margin-top: 1em">Synopsis <br>
condor_drain [-help]</p>

<p style="margin-top: 1em">condor_drain[-debug] [-pool
pool-name] [-graceful | -quick | -fast]
[-resume-on-completion] [-check expr] machine-name</p>

<p style="margin-top: 1em">condor_drain[-debug] [-pool
pool-name] -cancel[-request-id id] machine-name</p>

<p style="margin-top: 1em">Description <br>
condor_drainis an administrative command used to control the
draining of all slots on an execute machine. When a machine
is draining, it will not accept any new jobs. Which <br>
machine to drain is specified by the argument machine-name,
and will be the same as the machine ClassAd attribute
Machine .</p>

<p style="margin-top: 1em">How currently running jobs are
treated depends on the draining schedule that is chosen with
a command-line option:</p>

<p style="margin-top: 1em">-graceful</p>

<p style="margin-top: 1em">Initiate a graceful eviction of
the job. This means all promises that have been made to the
job are honored, including MaxJobRetirementTime . The
eviction of jobs is coordi&acirc; <br>
nated to reduce idle time. This means that if one slot has a
job with a long retirement time and the other slots have
jobs with shorter retirement times, the effective
retire&acirc; <br>
ment time for all of the jobs is the longer one. If no
draining schedule is specified, -gracefulis chosen by
default.</p>

<p style="margin-top: 1em">-quick</p>

<p style="margin-top: 1em">MaxJobRetirementTime is not
honored. Eviction of jobs is immediately initiated. Jobs are
given time to shut down and produce checkpoints, according
to the usual policy, that <br>
is, given by MachineMaxVacateTime .</p>

<p style="margin-top: 1em">-fast</p>

<p style="margin-top: 1em">Jobs are immediately
hard-killed, with no chance to gracefully shut down or
produce a checkpoint.</p>

<p style="margin-top: 1em">Once draining is complete, the
machine will enter the Drained/Idle state. To resume normal
operation (negotiation) at that time or any previous time
during draining, the -can&acirc; <br>
celoption may be used. The -resume-on-completionoption
results in automatic resumption of normal operation once
draining has completed, and may be used when initiating
draining. <br>
This is useful for forcing a machine with a partitionable
slots to join all of the resources back together into one
machine, facilitating de-fragmentation and whole machine
nego&acirc; <br>
tiation.</p>

<p style="margin-top: 1em">Options <br>
-help</p>

<p style="margin-top: 1em">Display brief usage information
and exit.</p>

<p style="margin-top: 1em">-debug</p>

<p style="margin-top: 1em">Causes debugging information to
be sent to stderr , based on the value of the configuration
variable TOOL_DEBUG</p>

<p style="margin-top: 1em">-pool pool-name</p>

<p style="margin-top: 1em">Specify an alternate HTCondor
pool, if the default one is not desired.</p>

<p style="margin-top: 1em">-graceful</p>

<p style="margin-top: 1em">(the default) Honor the maximum
vacate and retirement time policy.</p>

<p style="margin-top: 1em">-quick</p>

<p style="margin-top: 1em">Honor the maximum vacate time,
but not the retirement time policy.</p>

<p style="margin-top: 1em">-fast</p>

<p style="margin-top: 1em">Honor neither the maximum vacate
time policy nor the retirement time policy.</p>

<p style="margin-top: 1em">-resume-on-completion</p>

<p style="margin-top: 1em">When done draining, resume
normal operation, such that potentially the whole machine
could be claimed.</p>

<p style="margin-top: 1em">-check expr</p>

<p style="margin-top: 1em">Abort draining, if expr is not
true for all slots to be drained.</p>

<p style="margin-top: 1em">-cancel</p>

<p style="margin-top: 1em">Cancel a prior draining request,
to permit the condor_negotiatorto use the machine again.</p>

<p style="margin-top: 1em">-request-id id</p>

<p style="margin-top: 1em">Specify a specific draining
request to cancel, where idis given by the DrainingRequestId
machine ClassAd attribute.</p>

<p style="margin-top: 1em">Exit Status <br>
condor_drainwill exit with a non-zero status value if it
fails and zero status if it succeeds.</p>

<p style="margin-top: 1em">Author <br>
Center for High Throughput Computing, University of
Wisconsin-Madison</p>

<p style="margin-top: 1em">Copyright <br>
Copyright (C) 1990-2015 Center for High Throughput
Computing, Computer Sciences Department, University of
Wisconsin-Madison, Madison, WI. All Rights Reserved.
Licensed under the <br>
Apache License, Version 2.0.</p>

<p style="margin-top: 1em">January 2017 condor_drain(1)</p>
<hr>
</body>
</html>
