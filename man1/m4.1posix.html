<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>M4(1POSIX)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">M4(1POSIX)</td>
    <td class="head-vol">POSIX Programmer's Manual</td>
    <td class="head-rtitle">M4(1POSIX)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="PROLOG"><a class="selflink" href="#PROLOG">PROLOG</a></h1>
This manual page is part of the POSIX Programmer's Manual. The Linux
  implementation of this interface may differ (consult the corresponding Linux
  manual page for details of Linux behavior), or the interface may not be
  implemented on Linux.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
m4 &#x2014; macro processor
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
m4  <b>[</b>&#x2212;s<b>] [</b>&#x2212;D <i>name</i><b>[</b>=<i>val</i><b>]]</b>...<b> [</b>&#x2212;U <i>name</i><b>]</b>... <i>file</i>...
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <i>m4</i> utility is a macro processor that shall read one or more text
  files, process them according to their included macro statements, and write
  the results to standard output.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The <i>m4</i> utility shall conform to the Base Definitions volume of
  POSIX.1&#x2010;2008, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>,
  except that the order of the <b>&#x2212;D</b> and <b>&#x2212;U</b> options
  shall be significant, and options can be interspersed with operands.
<div class="Pp"></div>
The following options shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;s</b></dt>
  <dd class="It-tag">Enable line synchronization output for the <i>c99</i>
      preprocessor phase (that is, <b>#line</b> directives).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;D&#x00A0;</b><i>name</i><b>[</b>=<i>val</i><b>]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Define <i>name</i> to <i>val</i> or to null if =<i>val</i> is omitted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2212;U&#x00A0;</b><i>name</i></dt>
  <dd class="It-tag">Undefine <i>name</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPERANDS"><a class="selflink" href="#OPERANDS">OPERANDS</a></h1>
The following operand shall be supported:
<dl class="Bl-tag">
  <dt class="It-tag"><i>file</i></dt>
  <dd class="It-tag">A pathname of a text file to be processed. If no
      <i>file</i> is given, or if it is <b>'&#x2212;'</b>, the standard input
      shall be read.</dd>
</dl>
<h1 class="Sh" title="Sh" id="STDIN"><a class="selflink" href="#STDIN">STDIN</a></h1>
The standard input shall be a text file that is used if no <i>file</i> operand
  is given, or if it is <b>'&#x2212;'</b>.
<h1 class="Sh" title="Sh" id="INPUT_FILES"><a class="selflink" href="#INPUT_FILES">INPUT
  FILES</a></h1>
The input file named by the <i>file</i> operand shall be a text file.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The following environment variables shall affect the execution of <i>m4</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><i>LANG</i></dt>
  <dd class="It-tag">Provide a default value for the internationalization
      variables that are unset or null. (See the Base Definitions volume of
      POSIX.1&#x2010;2008, <i>Section 8.2</i>, <i>Internationalization
      Variables</i> for the precedence of internationalization variables used to
      determine the values of locale categories.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_ALL</i></dt>
  <dd class="It-tag">If set to a non-empty string value, override the values of
      all the other internationalization variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_CTYPE</i></dt>
  <dd class="It-tag">Determine the locale for the interpretation of sequences of
      bytes of text data as characters (for example, single-byte as opposed to
      multi-byte characters in arguments and input files).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>LC_MESSAGES</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Determine the locale that should be used to affect the format and contents
      of diagnostic messages written to standard error.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>NLSPATH</i></dt>
  <dd class="It-tag">Determine the location of message catalogs for the
      processing of <i>LC_MESSAGES</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ASYNCHRONOUS_EVENTS"><a class="selflink" href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS
  EVENTS</a></h1>
Default.
<h1 class="Sh" title="Sh" id="STDOUT"><a class="selflink" href="#STDOUT">STDOUT</a></h1>
The standard output shall be the same as the input files, after being processed
  for macro expansion.
<h1 class="Sh" title="Sh" id="STDERR"><a class="selflink" href="#STDERR">STDERR</a></h1>
The standard error shall be used to display strings with the <b>errprint</b>
  macro, macro tracing enabled by the <b>traceon</b> macro, the defined text for
  macros written by the <b>dumpdef</b> macro, or for diagnostic messages.
<h1 class="Sh" title="Sh" id="OUTPUT_FILES"><a class="selflink" href="#OUTPUT_FILES">OUTPUT
  FILES</a></h1>
None.
<h1 class="Sh" title="Sh" id="EXTENDED_DESCRIPTION"><a class="selflink" href="#EXTENDED_DESCRIPTION">EXTENDED
  DESCRIPTION</a></h1>
The <i>m4</i> utility shall compare each token from the input against the set of
  built-in and user-defined macros. If the token matches the name of a macro,
  then the token shall be replaced by the macro's defining text, if any, and
  rescanned for matching macro names. Once no portion of the token matches the
  name of a macro, it shall be written to standard output. Macros may have
  arguments, in which case the arguments shall be substituted into the defining
  text before it is rescanned.
<div class="Pp"></div>
Macro calls have the form:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b></b><i>name</i>(<i>arg1</i>, <i>arg2</i>, ..., <i>argn</i>)
</pre>
</div>
<div class="Pp"></div>
Macro names shall consist of letters, digits, and underscores, where the first
  character is not a digit. Tokens not of this form shall not be treated as
  macros.
<div class="Pp"></div>
The application shall ensure that the &lt;left-parenthesis&gt; immediately
  follows the name of the macro. If a token matching the name of a macro is not
  followed by a &lt;left-parenthesis&gt;, it is handled as a use of that macro
  without arguments.
<div class="Pp"></div>
If a macro name is followed by a &lt;left-parenthesis&gt;, its arguments are the
  &lt;comma&gt;-separated tokens between the &lt;left-parenthesis&gt; and the
  matching &lt;right-parenthesis&gt;. Unquoted white-space characters preceding
  each argument shall be ignored. All other characters, including trailing
  white-space characters, are retained. &lt;comma&gt; characters enclosed
  between &lt;left-parenthesis&gt; and &lt;right-parenthesis&gt; characters do
  not delimit arguments.
<div class="Pp"></div>
Arguments are positionally defined and referenced. The string
  <b>&quot;$1&quot;</b> in the defining text shall be replaced by the first
  argument. Systems shall support at least nine arguments; only the first nine
  can be referenced, using the strings <b>&quot;$1&quot;</b> to
  <b>&quot;$9&quot;</b>, inclusive. The string <b>&quot;$0&quot;</b> is replaced
  with the name of the macro. The string <b>&quot;$#&quot;</b> is replaced by
  the number of arguments as a string. The string <b>&quot;$*&quot;</b> is
  replaced by a list of all of the arguments, separated by &lt;comma&gt;
  characters. The string <b>&quot;$@&quot;</b> is replaced by a list of all of
  the arguments separated by &lt;comma&gt; characters, and each argument is
  quoted using the current left and right quoting strings. The string
  <b>&quot;${&quot;</b> produces unspecified behavior.
<div class="Pp"></div>
If fewer arguments are supplied than are in the macro definition, the omitted
  arguments are taken to be null. It is not an error if more arguments are
  supplied than are in the macro definition.
<div class="Pp"></div>
No special meaning is given to any characters enclosed between matching left and
  right quoting strings, but the quoting strings are themselves discarded. By
  default, the left quoting string consists of a grave accent (backquote) and
  the right quoting string consists of an acute accent (single-quote); see also
  the <b>changequote</b> macro.
<div class="Pp"></div>
Comments are written but not scanned for matching macro names; by default, the
  begin-comment string consists of the &lt;number-sign&gt; character and the
  end-comment string consists of a &lt;newline&gt;. See also the
  <b>changecom</b> and <b>dnl</b> macros.
<div class="Pp"></div>
The <i>m4</i> utility shall make available the following built-in macros. They
  can be redefined, but once this is done the original meaning is lost. Their
  values shall be null unless otherwise stated. In the descriptions below, the
  term <i>defining text</i> refers to the value of the macro: the second
  argument to the <b>define</b> macro, among other things. Except for the first
  argument to the <b>eval</b> macro, all numeric arguments to built-in macros
  shall be interpreted as decimal values. The string values produced as the
  defining text of the <b>decr</b>, <b>divnum</b>, <b>incr</b>, <b>index</b>,
  <b>len</b>, and <b>sysval</b> built-in macros shall be in the form of a
  decimal-constant as defined in the C language.
<dl class="Bl-tag">
  <dt class="It-tag"><b>changecom</b></dt>
  <dd class="It-tag">The <b>changecom</b> macro shall set the begin-comment and
      end-comment strings. With no arguments, the comment mechanism shall be
      disabled. With a single non-null argument, that argument shall become the
      begin-comment and the &lt;newline&gt; shall become the end-comment string.
      With two non-null arguments, the first argument shall become the
      begin-comment string and the second argument shall become the end-comment
      string. The behavior is unspecified if either argument is provided but
      null. Systems shall support comment strings of at least five
    characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>changequote</b></dt>
  <dd class="It-tag">The <b>changequote</b> macro shall set the begin-quote and
      end-quote strings. With no arguments, the quote strings shall be set to
      the default values (that is, `'). The behavior is unspecified if there is
      a single argument or either argument is null. With two non-null arguments,
      the first argument shall become the begin-quote string and the second
      argument shall become the end-quote string. Systems shall support quote
      strings of at least five characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>decr</b></dt>
  <dd class="It-tag">The defining text of the <b>decr</b> macro shall be its
      first argument decremented by 1. It shall be an error to specify an
      argument containing any non-numeric characters. The behavior is
      unspecified if <b>decr</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>define</b></dt>
  <dd class="It-tag">The second argument shall become the defining text of the
      macro whose name is the first argument. It is unspecified whether the
      <b>define</b> macro deletes all prior definitions of the macro named by
      its first argument or preserves all but the current definition of the
      macro. The behavior is unspecified if <b>define</b> is not immediately
      followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>defn</b></dt>
  <dd class="It-tag">The defining text of the <b>defn</b> macro shall be the
      quoted definition (using the current quoting strings) of its arguments.
      The behavior is unspecified if <b>defn</b> is not immediately followed by
      a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>divert</b></dt>
  <dd class="It-tag">The <i>m4</i> utility maintains nine temporary buffers,
      numbered 1 to 9, inclusive. When the last of the input has been processed,
      any output that has been placed in these buffers shall be written to
      standard output in buffer-numerical order. The <b>divert</b> macro shall
      divert future output to the buffer specified by its argument. Specifying
      no argument or an argument of 0 shall resume the normal output process.
      Output diverted to a stream with a negative number shall be discarded.
      Behavior is implementation-defined if a stream number larger than 9 is
      specified. It shall be an error to specify an argument containing any
      non-numeric characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>divnum</b></dt>
  <dd class="It-tag">The defining text of the <b>divnum</b> macro shall be the
      number of the current output stream as a string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dnl</b></dt>
  <dd class="It-tag">The <b>dnl</b> macro shall cause <i>m4</i> to discard all
      input characters up to and including the next &lt;newline&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dumpdef</b></dt>
  <dd class="It-tag">The <b>dumpdef</b> macro shall write the defined text to
      standard error for each of the macros specified as arguments, or, if no
      arguments are specified, for all macros.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>errprint</b></dt>
  <dd class="It-tag">The <b>errprint</b> macro shall write its arguments to
      standard error. The behavior is unspecified if <b>errprint</b> is not
      immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>eval</b></dt>
  <dd class="It-tag">The <b>eval</b> macro shall evaluate its first argument as
      an arithmetic expression, using signed integer arithmetic with at least
      32-bit precision. At least the following C-language operators shall be
      supported, with precedence, associativity, and behavior as described in
      <i>Section 1.1.2.1</i>, <i>Arithmetic Precision and Operations</i>:</dd>
</dl>
<div style="margin-left: 10.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>()</b>
<b>unary +</b>
<b>unary &#x2212;</b>
<b>~</b>
</pre>
<div class="Pp"></div>
<pre>
!
binary *
/
%
binary +
binary &#x2212;
&lt;&lt;
&gt;&gt;
&lt;
&lt;=
&gt;
&gt;=
==
!=
binary &amp;
^
|
&amp;&amp;
||
</pre>
</div>
<div class="Pp"></div>
Systems shall support octal and hexadecimal numbers as in the ISO&#x00A0;C
  standard. The second argument, if specified, shall set the radix for the
  result; if the argument is blank or unspecified, the default is 10. Behavior
  is unspecified if the radix falls outside the range 2 to 36, inclusive. The
  third argument, if specified, sets the minimum number of digits in the result.
  Behavior is unspecified if the third argument is less than zero. It shall be
  an error to specify the second or third argument containing any non-numeric
  characters. The behavior is unspecified if <b>eval</b> is not immediately
  followed by a &lt;left-parenthesis&gt;.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ifdef</b></dt>
  <dd class="It-tag">If the first argument to the <b>ifdef</b> macro is defined,
      the defining text shall be the second argument. Otherwise, the defining
      text shall be the third argument, if specified, or the null string, if
      not. The behavior is unspecified if <b>ifdef</b> is not immediately
      followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ifelse</b></dt>
  <dd class="It-tag">The <b>ifelse</b> macro takes three or more arguments. If
      the first two arguments compare as equal strings (after macro expansion of
      both arguments), the defining text shall be the third argument. If the
      first two arguments do not compare as equal strings and there are three
      arguments, the defining text shall be null. If the first two arguments do
      not compare as equal strings and there are four or five arguments, the
      defining text shall be the fourth argument. If the first two arguments do
      not compare as equal strings and there are six or more arguments, the
      first three arguments shall be discarded and processing shall restart with
      the remaining arguments. The behavior is unspecified if <b>ifelse</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>include</b></dt>
  <dd class="It-tag">The defining text for the <b>include</b> macro shall be the
      contents of the file named by the first argument. It shall be an error if
      the file cannot be read. The behavior is unspecified if <b>include</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>incr</b></dt>
  <dd class="It-tag">The defining text of the <b>incr</b> macro shall be its
      first argument incremented by 1. It shall be an error to specify an
      argument containing any non-numeric characters. The behavior is
      unspecified if <b>incr</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>index</b></dt>
  <dd class="It-tag">The defining text of the <b>index</b> macro shall be the
      first character position (as a string) in the first argument where a
      string matching the second argument begins (zero origin), or &#x2212;1 if
      the second argument does not occur. The behavior is unspecified if
      <b>index</b> is not immediately followed by a
    &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>len</b></dt>
  <dd class="It-tag">The defining text of the <b>len</b> macro shall be the
      length (as a string) of the first argument. The behavior is unspecified if
      <b>len</b> is not immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>m4exit</b></dt>
  <dd class="It-tag">Exit from the <i>m4</i> utility. If the first argument is
      specified, it is the exit code. The default is zero. It shall be an error
      to specify an argument containing any non-numeric characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>m4wrap</b></dt>
  <dd class="It-tag">The first argument shall be processed when EOF is reached.
      If the <b>m4wrap</b> macro is used multiple times, the arguments specified
      shall be processed in the order in which the <b>m4wrap</b> macros were
      processed. The behavior is unspecified if <b>m4wrap</b> is not immediately
      followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maketemp</b></dt>
  <dd class="It-tag">The defining text shall be the first argument, with any
      trailing <b>'X'</b> characters replaced with the current process ID as a
      string. The behavior is unspecified if <b>maketemp</b> is not immediately
      followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mkstemp</b></dt>
  <dd class="It-tag">The first argument shall be taken as a template for
      creating an empty file, with trailing <b>'X'</b> characters replaced with
      characters from the portable filename character set. The behavior is
      unspecified if the first argument does not end in at least six <b>'X'</b>
      characters. If a temporary file is successfully created, then the defining
      text of the macro shall be the name of the new file. The user ID of the
      file shall be set to the effective user ID of the process. The group ID of
      the file shall be set to the group ID of the file's parent directory or to
      the effective group ID of the process. The file access permission bits are
      set such that only the owner can both read and write the file, regardless
      of the current <i>umask</i> of the process. If a file could not be
      created, the defining text of the macro shall be the empty string. The
      behavior is unspecified if <b>mkstemp</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>popdef</b></dt>
  <dd class="It-tag">The <b>popdef</b> macro shall delete the current definition
      of its arguments, replacing that definition with the previous one. If
      there is no previous definition, the macro is undefined. The behavior is
      unspecified if <b>popdef</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pushdef</b></dt>
  <dd class="It-tag">The <b>pushdef</b> macro shall be equivalent to the
      <b>define</b> macro with the exception that it shall preserve any current
      definition for future retrieval using the <b>popdef</b> macro. The
      behavior is unspecified if <b>pushdef</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>shift</b></dt>
  <dd class="It-tag">The defining text for the <b>shift</b> macro shall be a
      comma-separated list of its arguments except the first one. Each argument
      shall be quoted using the current quoting strings. The behavior is
      unspecified if <b>shift</b> is not immediately followed by a
      &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sinclude</b></dt>
  <dd class="It-tag">The <b>sinclude</b> macro shall be equivalent to the
      <b>include</b> macro, except that it shall not be an error if the file is
      inaccessible. The behavior is unspecified if <b>sinclude</b> is not
      immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>substr</b></dt>
  <dd class="It-tag">The defining text for the <b>substr</b> macro shall be the
      substring of the first argument beginning at the zero-offset character
      position specified by the second argument. The third argument, if
      specified, shall be the number of characters to select; if not specified,
      the characters from the starting point to the end of the first argument
      shall become the defining text. It shall not be an error to specify a
      starting point beyond the end of the first argument and the defining text
      shall be null. It shall be an error to specify an argument containing any
      non-numeric characters. The behavior is unspecified if <b>substr</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>syscmd</b></dt>
  <dd class="It-tag">The <b>syscmd</b> macro shall interpret its first argument
      as a shell command line. The defining text shall be the string result of
      that command. The string result shall not be rescanned for macros while
      setting the defining text. No output redirection shall be performed by the
      <i>m4</i> utility. The exit status value from the command can be retrieved
      using the <b>sysval</b> macro. The behavior is unspecified if
      <b>syscmd</b> is not immediately followed by a
    &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sysval</b></dt>
  <dd class="It-tag">The defining text of the <b>sysval</b> macro shall be the
      exit value of the utility last invoked by the <b>syscmd</b> macro (as a
      string).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>traceon</b></dt>
  <dd class="It-tag">The <b>traceon</b> macro shall enable tracing for the
      macros specified as arguments, or, if no arguments are specified, for all
      macros. The trace output shall be written to standard error in an
      unspecified format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>traceoff</b></dt>
  <dd class="It-tag">The <b>traceoff</b> macro shall disable tracing for the
      macros specified as arguments, or, if no arguments are specified, for all
      macros.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>translit</b></dt>
  <dd class="It-tag">The defining text of the <b>translit</b> macro shall be the
      first argument with every character that occurs in the second argument
      replaced with the corresponding character from the third argument. If no
      replacement character is specified for some source character because the
      second argument is longer than the third argument, that character shall be
      deleted from the first argument in <b>translit</b>'s defining text. The
      behavior is unspecified if the <b>'&#x2212;'</b> character appears within
      the second or third argument anywhere besides the first or last character.
      The behavior is unspecified if the same character appears more than once
      in the second argument. The behavior is unspecified if <b>translit</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>undefine</b></dt>
  <dd class="It-tag">The <b>undefine</b> macro shall delete all definitions
      (including those preserved using the <b>pushdef</b> macro) of the macros
      named by its arguments. The behavior is unspecified if <b>undefine</b> is
      not immediately followed by a &lt;left-parenthesis&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>undivert</b></dt>
  <dd class="It-tag">The <b>undivert</b> macro shall cause immediate output of
      any text in temporary buffers named as arguments, or all temporary buffers
      if no arguments are specified. Buffers can be undiverted into other
      temporary buffers. Undiverting shall discard the contents of the temporary
      buffer. The behavior is unspecified if an argument contains any
      non-numeric characters.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The following exit values shall be returned:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2002;0</dt>
  <dd class="It-tag">Successful completion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&gt;0</dt>
  <dd class="It-tag">An error occurred</dd>
</dl>
<div class="Pp"></div>
If the <b>m4exit</b> macro is used, the exit value can be specified by the input
  file.
<h1 class="Sh" title="Sh" id="CONSEQUENCES_OF_ERRORS"><a class="selflink" href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES
  OF ERRORS</a></h1>
Default.
<div class="Pp"></div>
<i>The following sections are informative.</i>
<h1 class="Sh" title="Sh" id="APPLICATION_USAGE"><a class="selflink" href="#APPLICATION_USAGE">APPLICATION
  USAGE</a></h1>
The <b>defn</b> macro is useful for renaming macros, especially built-ins.
<div class="Pp"></div>
Since <b>eval</b> defers to the ISO&#x00A0;C standard, some operations have
  undefined behavior. In some implementations, division or remainder by zero
  cause a fatal signal, even if the division occurs on the short-circuited
  branch of <b>&quot;&amp;&amp;&quot;</b> or <b>&quot;||&quot;</b>. Any
  operation that overflows in signed arithmetic produces undefined behavior.
  Likewise, using the <b>shift</b> operators with a shift amount that is not
  positive and smaller than the precision is undefined, as is shifting a
  negative number to the right. Historically, not all implementations obeyed
  C-language precedence rules: <b>'~'</b> and <b>'!'</b> were lower than
  <b>'=='</b>; <b>'=='</b> and <b>'!='</b> were not lower than <b>'&lt;'</b>;
  and <b>'|'</b> was not lower than <b>'^'</b>; the liberal use of
  <b>&quot;()&quot;</b> can force the desired precedence even with these
  non-compliant implementations. Furthermore, some traditional implementations
  treated <b>'^'</b> as an exponentiation operator, although most
  implementations now use <b>&quot;**&quot;</b> as an extension for this
  purpose.
<div class="Pp"></div>
When a macro has been multiply defined via the <b>pushdef</b> macro, it is
  unspecified whether the <b>define</b> macro will alter only the most recent
  definition (as though by <b>popdef</b> and <b>pushdef</b>), or replace the
  entire stack of definitions with a single definition (as though by
  <b>undefine</b> and <b>pushdef</b>). An application desiring particular
  behavior for the <b>define</b> macro in this case can redefine it accordingly.
<div class="Pp"></div>
Applications should use the <b>mkstemp</b> macro instead of the obsolescent
  <b>maketemp</b> macro for creating temporary files.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
If the file <b>m4src</b> contains the lines:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>The value of `VER' is &quot;VER&quot;.</b>
<b>ifdef(`VER', ``VER'' is defined to be VER., VER is not defined.)</b>
<b>ifelse(VER, 1, ``VER'' is `VER'.)</b>
<b>ifelse(VER, 2, ``VER'' is `VER'., ``VER'' is not 2.)</b>
<b>end</b>
</pre>
</div>
<div class="Pp"></div>
then the command
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>m4 m4src</b>
</pre>
</div>
<div class="Pp"></div>
or the command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>m4 &#x2212;U VER m4src</b>
</pre>
</div>
<div class="Pp"></div>
produces the output:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>The value of VER is &quot;VER&quot;.</b>
<b>VER is not defined.</b>
</pre>
<div class="Pp"></div>
<pre>
VER is not 2.
end
</pre>
</div>
<div class="Pp"></div>
The command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>m4 &#x2212;D VER m4src</b>
</pre>
</div>
<div class="Pp"></div>
produces the output:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>The value of VER is &quot;&quot;.</b>
<b>VER is defined to be .</b>
</pre>
<div class="Pp"></div>
<pre>
VER is not 2.
end
</pre>
</div>
<div class="Pp"></div>
The command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>m4 &#x2212;D VER=1 m4src</b>
</pre>
</div>
<div class="Pp"></div>
produces the output:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>The value of VER is &quot;1&quot;.</b>
<b>VER is defined to be 1.</b>
<b>VER is 1.</b>
<b>VER is not 2.</b>
<b>end</b>
</pre>
</div>
<div class="Pp"></div>
The command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>m4 &#x2212;D VER=2 m4src</b>
</pre>
</div>
<div class="Pp"></div>
produces the output:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
<b></b>
<b>The value of VER is &quot;2&quot;.</b>
<b>VER is defined to be 2.</b>
</pre>
<div class="Pp"></div>
<pre>
VER is 2.
end
</pre>
</div>
<h1 class="Sh" title="Sh" id="RATIONALE"><a class="selflink" href="#RATIONALE">RATIONALE</a></h1>
Historic System V-based behavior treated <b>&quot;${&quot;</b> in a macro
  definition as two literal characters. However, this sequence is left
  unspecified so that implementations may offer extensions such as
  <b>&quot;${11}&quot;</b> meaning the eleventh positional parameter. Macros can
  still be defined with appropriate uses of nested quoting to result in a
  literal <b>&quot;${&quot;</b> in the output after rescanning removes the
  nested quotes.
<div class="Pp"></div>
In the <b>translit</b> built-in, historic System V-based behavior treated
  <b>'&#x2212;'</b> as a literal; GNU behavior treats it as a range. This
  version of the standard allows either behavior.
<h1 class="Sh" title="Sh" id="FUTURE_DIRECTIONS"><a class="selflink" href="#FUTURE_DIRECTIONS">FUTURE
  DIRECTIONS</a></h1>
None.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i><i>c99</i></i>
<div class="Pp"></div>
The Base Definitions volume of POSIX.1&#x2010;2008, <i>Chapter 8</i>,
  <i>Environment Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax
  Guidelines</i>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Portions of this text are reprinted and reproduced in electronic form from IEEE
  Std 1003.1, 2013 Edition, Standard for Information Technology -- Portable
  Operating System Interface (POSIX), The Open Group Base Specifications Issue
  7, Copyright (C) 2013 by the Institute of Electrical and Electronics
  Engineers, Inc and The Open Group. (This is POSIX.1-2008 with the 2013
  Technical Corrigendum 1 applied.) In the event of any discrepancy between this
  version and the original IEEE and The Open Group Standard, the original IEEE
  and The Open Group Standard is the referee document. The original Standard can
  be obtained online at http://www.unix.org/online.html .
<div style="height: 1.00em;">&#x00A0;</div>
Any typographical or formatting errors that appear in this page are most likely
  to have been introduced during the conversion of the source files to man page
  format. To report such errors, see
  https://www.kernel.org/doc/man-pages/reporting_bugs.html .</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013</td>
    <td class="foot-os">IEEE/The Open Group</td>
  </tr>
</table>
</body>
</html>
