<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>VOMS-PROXY-INIT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">VOMS-PROXY-INIT(1)</td>
    <td class="head-vol">&#x00A0;</td>
    <td class="head-rtitle">VOMS-PROXY-INIT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
voms-proxy-init - creates a proxy certificate with VOMS extensions
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>voms-proxy-init</b> [options]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The voms-proxy-init command generates a proxy with the VOMS information included
  in an X.509 non critical extension.
<div style="height: 1.00em;">&#x00A0;</div>
The VOMS attributes are obtained from a known VOMS server. The list of known
  VOMS servers is configured using a <b>vomses</b> configuration file, whose
  syntax is documented in the <b>vomses</b> man page. A custom vomses location
  can be specified using the <b>--vomses</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
VOMS attributes are requested only if the <b>-voms</b> option is passed on the
  command line, specifying for which Virtual Organizations (VOs) attributes are
  requested.
<div style="height: 1.00em;">&#x00A0;</div>
VOMS attributes are signed by the VOMS server that issues them. The signature is
  verified on the client side leveraging local trust information, which is
  typically maintained in <b>/etc/grid-security/vomsdir</b>. The vomsdir
  structure is documented in the <b>vomsdir</b> man page. A custom vomsdir can
  be specified using the <b>--vomsdir</b> option.
<div style="height: 1.00em;">&#x00A0;</div>
The default location of the proxy generated by voms-proxy-init is
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
 /tmp/x509up_u&lt;user_id&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
where user_id is the effective user id of the user running the command. A
  non-standard location for the proxy can be specified using the <b>-out</b>
  option.
<h2 class="Ss" title="Ss" id="Requesting_VOMS_attributes"><a class="selflink" href="#Requesting_VOMS_attributes">Requesting
  VOMS attributes</a></h2>
Attributes can be requested using the <b>-voms</b> option. A basic usage is
  given in the following example:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
voms-proxy-init -voms &lt;voname&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
where voname is the name of one of the configured VOs. The above command will
  create a proxy containing a VOMS extension which holds all group attributes
  beloging to the user.
<div style="height: 1.00em;">&#x00A0;</div>
VOMS roles are conditional attributes which are included in a VOMS attribute
  certificate only when explicitly requested. Roles can be requested using a
  command like the following one:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
voms-proxy-init -voms atlas:/atlas/Role=pilot
</pre>
</div>
<h2 class="Ss" title="Ss" id="Ordering_requested_attributes"><a class="selflink" href="#Ordering_requested_attributes">Ordering
  requested attributes</a></h2>
Typically VOMS attributes are returned in the order on which they are requested
  on the command line. For instance, the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
voms-proxy-init -voms infngrid:/infngrid/group1 -voms infngrid:/infngrid/Role=pilot
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
will produce an Attribute Certificate which has as the primary attribute
  /infngrid/group1, followed by /infngrid/Role=pilot, and then by the other
  attributes belonging to the user. The <b>-order</b> can also be used to
  express order requirements.
<h2 class="Ss" title="Ss" id="Setting_the_validity_period_of_the_generated_proxy_and_attribute_certificate"><a class="selflink" href="#Setting_the_validity_period_of_the_generated_proxy_and_attribute_certificate">Setting
  the validity period of the generated proxy and attribute certificate</a></h2>
By default, voms-proxy-init will generate a proxy valid for 12 hours including a
  VOMS extension valid for the same time (if requested). These time periods can
  be changed using the <b>-valid</b> option, which will set the validity of both
  the proxy and the AC. Note that the validity of the AC can only be
  &quot;proposed&quot; by voms-proxy-init, as the AC validity is set by the VOMS
  server and its maximum value is limited by local VOMS server configuration
  (typically the maximum value is 24 hours).
<h2 class="Ss" title="Ss" id="Setting_the_type_of_proxy_generated_by_voms-proxy-init"><a class="selflink" href="#Setting_the_type_of_proxy_generated_by_voms-proxy-init">Setting
  the type of proxy generated by voms-proxy-init</a></h2>
By default, voms-proxy-init generates a legacy proxy compatible with Globus
  Toolkit version 2. This behaviour can be changed using the <b>-rfc</b> option,
  which will produce an RFC3820 compliant proxy. In order to generate a Globus
  Toolkit version 3 proxy, i.e. a draft compliant proxy, use the <b>-proxyver
  3</b> option.
<h1 class="Sh" title="Sh" id="CONFIGURATION"><a class="selflink" href="#CONFIGURATION">CONFIGURATION</a></h1>
Local configuration for trusted VOs is needed for <i>voms-proxy-init</i> to work
  properly. See the <i>vomses(5)</i> and <i>vomsdir(5)</i> man pages for more
  details.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Options may be specified using either a &quot;-&quot; or &quot;--&quot; prefix.
<div style="height: 1.00em;">&#x00A0;</div>
<b>-b,--bits &lt;num-bits&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Number of bits in key {512|1024|2048|4096}
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--cert &lt;certfile&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Nonstandard location of user certificate
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--certdir &lt;certdir&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Nonstandard location of trusted cert dir
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--conf &lt;file&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Read options from &lt;file&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--debug</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Enables extra debug output
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--dont_verify_ac</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Skips AC verification
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-f,--failonwarn</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Treat warnings as errors
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--help</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Displays helps and exits
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--hours &lt;hours&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Sets the generated proxy validity to H hours (default:12).
Note that this option only sets the lifetime of the generated proxy.
Use -valid to set lifetime for both the proxy and the AC.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--ignorewarn</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Ignore warnings
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-k,--key &lt;keyfile&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Non standard location of user key
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--limited</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Creates a limited proxy
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-n,--noregen</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Use an existing proxy certificate to obtain VOMS attributes and to sign the new generated proxy
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--old</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Creates a legacy, GT2 compliant proxy (synonymous with '-proxyver 2')
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--order &lt;fqan&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
The fqan specified with this option is set as the primary FQAN if present in the list of  attributes returned by the server.
Use this option more than once if you want to set the  order for more than one FQAN.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--out &lt;proxyfile&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Non standard location of the generated proxy certificate
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--path_length &lt;L&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Allow a chain of at most L proxies to be generated and signed from the proxy created by voms-proxy-init.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--proxyver &lt;2|3|4&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Sets the type of proxy generated by VOMS proxy init. 2 stands for legacy proxy,3 for draft proxy, 4 for rfc proxy.
Use -old or -rfc instead of this option.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--pwstdin</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Reads private key passphrase from standard input.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-q,--quiet</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Quiet mode, minimal output
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-r,--rfc</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Creates an RFC 3820 compliant proxy (synonymous with '-proxyver 4')
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--target &lt;hostname&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Targets the AC against a specific hostname. Multiple targets can be expressed using this option multiple times.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--usage</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Displays helps and exits
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--valid &lt;h:m&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Sets generated proxy and AC validity to h hours and m minutes (defaults to 12:00).
Note that the VOMS server could shorten the validity of the issued AC depending on the server configuration.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--verify</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Verifies the validity of the user certificate.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--version</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Displays version
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--voms &lt;voms&lt;:fqan&gt;&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Specifies the VO for which the AC is requested. &lt;:fqan&gt; is optional,and is used to ask for
specific attributes (e.g:  --voms atlas:/atlas/Role=pilot).
This option can be used multiple times to request multiple FQANs for different VOs.
The order in which the option appears on the command line influence the order of the issued attributes.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--vomsdir &lt;DIR&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Sets the path where lsc files and other local VOMS trust anchors will be looked for.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--vomses &lt;vomses file&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Specifies the name of a VOMSES file from which VOMS server contact information is parsed.
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>--vomslife &lt;h:m&gt;</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Sets the validity of the requested VOMS attribute certificate to h hours and m minutes (defaults to the value of the '-valid' option)
</pre>
</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
To report bugs or ask for support, use GGUS: https://ggus.eu/pages/home.php
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Andrea Ceccanti &lt;andrea.ceccanti@cnaf.infn.it&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Daniele Andreotti &lt;daniele.andreotti@cnaf.infn.it&gt;
<div style="height: 1.00em;">&#x00A0;</div>
Valerio Venturi &lt;valerio.venturi@cnaf.infn.it&gt;
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
voms-proxy-destroy(1), voms-proxy-info(1), vomses(5), vomsdir(5)
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright 2012 Istituto Nazionale di Fisica Nucleare
<div style="height: 1.00em;">&#x00A0;</div>
Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you
  may not use this file except in compliance with the License. You may obtain a
  copy of the License at
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
http://www.apache.org/licenses/LICENSE-2.0
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Unless required by applicable law or agreed to in writing, software distributed
  under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
  License for the specific language governing permissions and limitations under
  the License.</div>
<table class="foot">
  <tr>
    <td class="foot-date">09/26/2013</td>
    <td class="foot-os">&#x00A0;</td>
  </tr>
</table>
</body>
</html>
