<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GENKRF(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GENKRF(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">GENKRF(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
genkrf - Generate a keyrec file from Key Signing Key (KSK) and/or Zone Signing
  Key (ZSK) files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  genkrf [options] &lt;zone-file&gt; [&lt;signed-zone-file&gt;]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>genkrf</b> generates a <i>keyrec</i> file from KSK and/or ZSK files. It
  generates new KSK and ZSK keys if needed.
<div class="Pp"></div>
The name of the <i>keyrec</i> file to be generated is given by the
  <b>-krfile</b> option. If this option is not specified, <b>zone-name.krf</b>
  is used as the name of the <i>keyrec</i> file. If the <i>keyrec</i> file
  already exists, it will be overwritten with new <i>keyrec</i> definitions.
<div class="Pp"></div>
The <i>zone-file</i> argument is required. It specifies the name of the zone
  file from which the signed zone file was created. The optional
  <i>signed-zone-file</i> argument specifies the name of the signed zone file.
  If it is not given, then it defaults to <b>zone-file.signed</b>. The signed
  zone file field is, in effect, a dummy field as the zone file is not actually
  signed.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>genkrf</b> has a number of options that assist in creation of the
  <i>keyrec</i> file. These options will be set to the first value found from
  this search path:
<div class="Pp"></div>
<pre>
    command line options
    DNSSEC-Tools configuration file
    DNSSEC-Tools defaults
</pre>
<div class="Pp"></div>
See <i></i><i>tooloptions.pm</i><i>(3)</i> for more details. Exceptions to this
  are given in the option descriptions.
<div class="Pp"></div>
The <b>genkrf</b> options are described below.
<h2 class="Ss" title="Ss" id="General_genkrf_Options"><a class="selflink" href="#General_genkrf_Options">General
  <b>genkrf</b> Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zone zone-name</b></dt>
  <dd class="It-tag">This option specifies the name of the zone. If it is not
      given then <i>zone-file</i> will be used as the name of the zone.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-krfile keyrec-file</b></dt>
  <dd class="It-tag">This option specifies the name of the <i>keyrec</i> file to
      be generated. If it is not given, then <b>zone-name.krf</b> will be
    used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-algorithm algorithm</b></dt>
  <dd class="It-tag">This option specifies the algorithm used to generate
      encryption keys.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-endtime endtime</b></dt>
  <dd class="It-tag">This option specifies the time that the signature on the
      zone expires, measured in seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-random random-device</b></dt>
  <dd class="It-tag">Source of randomness used to generate the zone's keys. See
      the man page for <b>dnssec-signzone</b> for the valid format of this
      field.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-verbose</b></dt>
  <dd class="It-tag">Display additional messages during processing. If this
      option is given at least once, then a message will be displayed indicating
      the successful generation of the <i>keyrec</i> file. If it is given twice,
      then the values of all options will also be displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Version</b></dt>
  <dd class="It-tag">Displays the version information for <b>genkrf</b> and the
      DNSSEC-Tools package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Display a usage message.</dd>
</dl>
<h2 class="Ss" title="Ss" id="KSK-related_Options"><a class="selflink" href="#KSK-related_Options">KSK-related
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-kskcur KSK-name</b></dt>
  <dd class="It-tag">This option specifies the Current KSK's key file being used
      to sign the zone. If this option is not given, a new KSK will be
    created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-kskcount KSK-count</b></dt>
  <dd class="It-tag">This option specifies the number of KSK keys that will be
      generated. If this option is not given, the default given in the
      DNSSEC-Tools configuration file will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-kskdir KSK-directory</b></dt>
  <dd class="It-tag">This option specifies the absolute or relative path of the
      directory where the KSK resides. If this option is not given, it defaults
      to the current directory &quot;.&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ksklength KSK-length</b></dt>
  <dd class="It-tag">This option specifies the length of the KSK encryption
    key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-ksklife KSK-lifespan</b></dt>
  <dd class="It-tag">This option specifies the lifespan of the KSK encryption
      key. This lifespan is <b>not</b> inherent to the key itself. It is
      <b>only</b> used to determine when the KSK must be rolled over.</dd>
</dl>
<h2 class="Ss" title="Ss" id="ZSK-related_Options"><a class="selflink" href="#ZSK-related_Options">ZSK-related
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zskcur ZSK-name</b></dt>
  <dd class="It-tag">This option specifies the current ZSK being used to sign
      the zone. If this option is not given, a new ZSK will be created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zskpub ZSK-name</b></dt>
  <dd class="It-tag">This option specifies the published ZSK for the zone. If
      this option is not given, a new ZSK will be created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zskcount ZSK-count</b></dt>
  <dd class="It-tag">This option specifies the number of current and published
      ZSK keys that will be generated. If this option is not given, the default
      given in the DNSSEC-Tools configuration file will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zskdir ZSK-directory</b></dt>
  <dd class="It-tag">This option specifies the absolute or relative path of the
      directory where the ZSKs reside. If this option is not given, it defaults
      to the current directory &quot;.&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zsklength ZSK-length</b></dt>
  <dd class="It-tag">This option specifies the length of the ZSK encryption
    key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-zsklife ZSK-lifespan</b></dt>
  <dd class="It-tag">This option specifies the lifespan of the ZSK encryption
      key. This lifespan is <b>not</b> inherent to the key itself. It is
      <b>only</b> used to determine when the ZSK must be rolled over.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2005-2014 SPARTA, Inc. All rights reserved. See the COPYING file
  included with the DNSSEC-Tools package for details.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Wayne Morrison, tewok@tislabs.com
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b></b><b><i>dnssec-keygen</i></b><b>(8)</b>,
  <b></b><b><i>dnssec-signzone</i></b> <b>(8)</b>,
  <b></b><b><i>zonesigner</i></b> <b>(8)</b>
<div class="Pp"></div>
<b></b><b><i>Net::DNS::SEC::Tools::conf.pm</i></b><b>(3)</b>,
  <b></b><b><i>Net::DNS::SEC::Tools::defaults.pm</i></b> <b>(3)</b>,
  <b></b><b><i>Net::DNS::SEC::Tools::keyrec.pm</i></b><b>(3)</b>
<div class="Pp"></div>
<b></b><b><i>conf</i></b><b>(5)</b>, <b></b><b><i>keyrec</i></b><b>(5)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-30</td>
    <td class="foot-os">perl v5.24.0</td>
  </tr>
</table>
</body>
</html>
