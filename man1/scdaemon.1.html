<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:36:58 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SCDAEMON(1) GNU Privacy Guard SCDAEMON(1)</p>

<p style="margin-top: 1em">NAME <br>
scdaemon - Smartcard daemon for the GnuPG system</p>

<p style="margin-top: 1em">SYNOPSIS <br>
scdaemon [--homedir dir] [--options file] [options] --server
<br>
scdaemon [--homedir dir] [--options file] [options] --daemon
[command_line]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The scdaemon is a daemon to manage smartcards. It is usually
invoked by gpg-agent and in general not used directly.</p>

<p style="margin-top: 1em">COMMANDS <br>
Commands are not distinguished from options except for the
fact that only one command is allowed.</p>

<p style="margin-top: 1em">--version <br>
Print the program version and licensing information. Not
that you can abbreviate this command.</p>

<p style="margin-top: 1em">--help, -h <br>
Print a usage message summarizing the most useful
command-line options. Not that you can abbreviate this
command.</p>

<p style="margin-top: 1em">--dump-options <br>
Print a list of all available options and commands. Not that
you can abbreviate this command.</p>

<p style="margin-top: 1em">--server <br>
Run in server mode and wait for commands on the stdin. This
is default mode is to create a socket and listen for
commands there.</p>

<p style="margin-top: 1em">--multi-server <br>
Run in server mode and wait for commands on the stdin as
well as on an additional Unix Domain socket. The server
command GETINFO may be used to get the name of that extra
<br>
socket.</p>

<p style="margin-top: 1em">--daemon <br>
Run the program in the background. This option is required
to prevent it from being accidentally running in the
background.</p>

<p style="margin-top: 1em">OPTIONS <br>
--options file <br>
Reads configuration from file instead of from the default
per-user configuration file. The default configuration file
is named &acirc;scdaemon.conf&acirc; and expected in the
<br>
&acirc;.gnupg&acirc; directory directly below the home
directory of the user.</p>

<p style="margin-top: 1em">--homedir dir <br>
Set the name of the home directory to dir. If this option is
not used, the home directory defaults to
&acirc;~/.gnupg&acirc;. It is only recognized when given on
the command line. <br>
It also overrides any home directory stated through the
environment variable &acirc;GNUPGHOME&acirc; or (on W32
systems) by means of the Registry entry
HKCUtwareGNUGnuPG:Home&acirc; <br>
Dir.</p>

<p style="margin-top: 1em">-v</p>

<p style="margin-top: 1em">--verbose <br>
Outputs additional information while running. You can
increase the verbosity by giving several verbose commands to
gpgsm, such as &rsquo;-vv&rsquo;.</p>

<p style="margin-top: 1em">--debug-level level <br>
Select the debug level for investigating problems. level may
be a numeric value or a keyword:</p>

<p style="margin-top: 1em">none No debugging at all. A
value of less than 1 may be used instead of the keyword.</p>

<p style="margin-top: 1em">basic Some basic debug messages.
A value between 1 and 2 may be used instead of the
keyword.</p>

<p style="margin-top: 1em">advanced <br>
More verbose debug messages. A value between 3 and 5 may be
used instead of the keyword.</p>

<p style="margin-top: 1em">expert Even more detailed
messages. A value between 6 and 8 may be used instead of the
keyword.</p>

<p style="margin-top: 1em">guru All of the debug messages
you can get. A value greater than 8 may be used instead of
the keyword. The creation of hash tracing files is only
enabled if the keyword <br>
is used.</p>

<p style="margin-top: 1em">How these messages are mapped to
the actual debugging flags is not specified and may change
with newer releases of this program. They are however
carefully selected to best aid <br>
in debugging.</p>

<p style="margin-top: 1em">All debugging options are
subject to change and thus should not be used by any
application program. As the name says, they are only used as
helpers to debug problems.</p>

<p style="margin-top: 1em">--debug flags <br>
This option is only useful for debugging and the behaviour
may change at any time without notice. FLAGS are bit encoded
and may be given in usual C-Syntax. The currently <br>
defined bits are:</p>

<p style="margin-top: 1em">0 (1) command I/O</p>

<p style="margin-top: 1em">1 (2) values of big number
integers</p>

<p style="margin-top: 1em">2 (4) low level crypto
operations</p>

<p style="margin-top: 1em">5 (32) memory allocation</p>

<p style="margin-top: 1em">6 (64) caching</p>

<p style="margin-top: 1em">7 (128) <br>
show memory statistics.</p>

<p style="margin-top: 1em">9 (512) <br>
write hashed data to files named dbgmd-000*</p>

<p style="margin-top: 1em">10 (1024) <br>
trace Assuan protocol. See also option
--debug-assuan-log-cats.</p>

<p style="margin-top: 1em">11 (2048) <br>
trace APDU I/O to the card. This may reveal sensitive
data.</p>

<p style="margin-top: 1em">12 (4096) <br>
trace some card reader related function calls.</p>

<p style="margin-top: 1em">--debug-all <br>
Same as --debug=0xffffffff</p>

<p style="margin-top: 1em">--debug-wait n <br>
When running in server mode, wait n seconds before entering
the actual processing loop and print the pid. This gives
time to attach a debugger.</p>

<p style="margin-top: 1em">--debug-ccid-driver <br>
Enable debug output from the included CCID driver for
smartcards. Using this option twice will also enable some
tracing of the T=1 protocol. Note that this option may <br>
reveal sensitive data.</p>

<p style="margin-top: 1em">--debug-disable-ticker <br>
This option disables all ticker functions like checking for
card insertions.</p>

<p style="margin-top: 1em">--debug-allow-core-dump <br>
For security reasons we won&rsquo;t create a core dump when
the process aborts. For debugging purposes it is sometimes
better to allow core dump. This options enables it and <br>
also changes the working directory to &acirc;/tmp&acirc;
when running in --server mode.</p>

<p style="margin-top: 1em">--debug-log-tid <br>
This option appends a thread ID to the PID in the log
output.</p>

<p style="margin-top: 1em">--debug-assuan-log-cats cats
<br>
Changes the active Libassuan logging categories to cats. The
value for cats is an unsigned integer given in usual
C-Syntax. A value of of 0 switches to a default cate&acirc;
<br>
gory. If this option is not used the categories are taken
from the environment variable &rsquo;ASSUAN_DEBUG&rsquo;.
Note that this option has only an effect if the Assuan debug
flag <br>
has also been with the option --debug. For a list of
categories see the Libassuan manual.</p>

<p style="margin-top: 1em">--no-detach <br>
Don&rsquo;t detach the process from the console. This is
mainly useful for debugging.</p>

<p style="margin-top: 1em">--log-file file <br>
Append all logging output to file. This is very helpful in
seeing what the agent actually does.</p>

<p style="margin-top: 1em">--pcsc-driver library <br>
Use library to access the smartcard reader. The current
default is &acirc;libpcsclite.so&acirc;. Instead of using
this option you might also want to install a symbolic link
to the <br>
default file name (e.g. from
&acirc;libpcsclite.so.1&acirc;).</p>

<p style="margin-top: 1em">--ctapi-driver library <br>
Use library to access the smartcard reader. The current
default is &acirc;libtowitoko.so&acirc;. Note that the use
of this interface is deprecated; it may be removed in future
<br>
releases.</p>

<p style="margin-top: 1em">--disable-ccid <br>
Disable the integrated support for CCID compliant readers.
This allows to fall back to one of the other drivers even if
the internal CCID driver can handle the reader. <br>
Note, that CCID support is only available if libusb was
available at build time.</p>

<p style="margin-top: 1em">--reader-port number_or_string
<br>
This option may be used to specify the port of the card
terminal. A value of 0 refers to the first serial device;
add 32768 to access USB devices. The default is 32768 <br>
(first USB device). PC/SC or CCID readers might need a
string here; run the program in verbose mode to get a list
of available readers. The default is then the first <br>
reader found.</p>

<p style="margin-top: 1em">To get a list of available CCID
readers you may use this command: <br>
echo scd getinfo reader_list | gpg-connect-agent --decode |
awk &rsquo;/^D/ {print $2}&rsquo;</p>

<p style="margin-top: 1em">--card-timeout n <br>
If n is not 0 and no client is actively using the card, the
card will be powered down after n seconds. Powering down the
card avoids a potential risk of damaging a card <br>
when used with certain cheap readers. This also allows non
Scdaemon aware applications to access the card. The
disadvantage of using a card timeout is that accessing the
<br>
card takes longer and that the user needs to enter the PIN
again after the next power up.</p>

<p style="margin-top: 1em">Note that with the current
version of Scdaemon the card is powered down immediately at
the next timer tick for any value of n other than 0.</p>

<p style="margin-top: 1em">--enable-pinpad-varlen <br>
Please specify this option when the card reader supports
variable length input for pinpad (default is no). For known
readers (listed in ccid-driver.c and apdu.c), this <br>
option is not needed. Note that if your card reader
doesn&rsquo;t supports variable length input but you want to
use it, you need to specify your pinpad request on your
card.</p>

<p style="margin-top: 1em">--disable-pinpad <br>
Even if a card reader features a pinpad, do not try to use
it.</p>

<p style="margin-top: 1em">--deny-admin <br>
This option disables the use of admin class commands for
card applications where this is supported. Currently we
support it for the OpenPGP card. This commands is useful
<br>
to inhibit accidental access to admin class command which
could ultimately lock the card through wrong PIN numbers.
Note that GnuPG versions older than 2.0.11 featured an <br>
--allow-admin command which was required to use such admin
commands. This option has no more effect today because the
default is now to allow admin commands.</p>

<p style="margin-top: 1em">--disable-application name <br>
This option disables the use of the card application named
name. This is mainly useful for debugging or if a
application with lower priority should be used by
default.</p>

<p style="margin-top: 1em">All the long options may also be
given in the configuration file after stripping off the two
leading dashes.</p>

<p style="margin-top: 1em">CARD APPLICATIONS <br>
scdaemon supports the card applications as described
below.</p>

<p style="margin-top: 1em">The OpenPGP card application
&lsquo;&lsquo;openpgp&rsquo;&rsquo;</p>

<p style="margin-top: 1em">This application is currently
only used by gpg but may in future also be useful with
gpgsm. Version 1 and version 2 of the card is supported.</p>

<p style="margin-top: 1em">The specifications for these
cards are available at
(http://g10code.com/docs/openpgp-card-1.0.pdf) and
(http://g10code.com/docs/openpgp-card-2.0.pdf).</p>

<p style="margin-top: 1em">The Telesec NetKey card
&lsquo;&lsquo;nks&rsquo;&rsquo;</p>

<p style="margin-top: 1em">This is the main application of
the Telesec cards as available in Germany. It is a superset
of the German DINSIG card. The card is used by gpgsm.</p>

<p style="margin-top: 1em">The DINSIG card application
&lsquo;&lsquo;dinsig&rsquo;&rsquo;</p>

<p style="margin-top: 1em">This is an application as
described in the German draft standard DIN V 66291-1. It is
intended to be used by cards supporting the German signature
law and its bylaws (SigG and <br>
SigV).</p>

<p style="margin-top: 1em">The PKCS#15 card application
&lsquo;&lsquo;p15&rsquo;&rsquo;</p>

<p style="margin-top: 1em">This is common framework for
smart card applications. It is used by gpgsm.</p>

<p style="margin-top: 1em">The Geldkarte card application
&lsquo;&lsquo;geldkarte&rsquo;&rsquo;</p>

<p style="margin-top: 1em">This is a simple application to
display information of a German Geldkarte. The Geldkarte is
a small amount debit card application which comes with
almost all German banking <br>
cards.</p>

<p style="margin-top: 1em">The Undefined card application
&lsquo;&lsquo;undefined&rsquo;&rsquo;</p>

<p style="margin-top: 1em">This is a stub application to
allow the use of the APDU command even if no supported
application is found on the card. This application is not
used automatically but must be <br>
explicitly requested using the SERIALNO command.</p>

<p style="margin-top: 1em">EXAMPLES <br>
$ scdaemon --server -v</p>

<p style="margin-top: 1em">FILES <br>
There are a few configuration files to control certain
aspects of scdaemons&rsquo;s operation. Unless noted, they
are expected in the current home directory (see: [option
--homedir]).</p>

<p style="margin-top: 1em">scdaemon.conf <br>
This is the standard configuration file read by scdaemon on
startup. It may contain any valid long option; the leading
two dashes may not be entered and the option may <br>
not be abbreviated. This default name may be changed on the
command line (see: [option --options]).</p>

<p style="margin-top: 1em">scd-event <br>
If this file is present and executable, it will be called on
veyer card reader&rsquo;s status changed. An example of this
script is provided with the distribution</p>

<p style="margin-top: 1em">reader_n.status <br>
This file is created by sdaemon to let other applications
now about reader status changes. Its use is now deprecated
in favor of &acirc;scd-event&acirc;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gpg-agent(1), gpgsm(1), gpg2(1)</p>

<p style="margin-top: 1em">The full documentation for this
tool is maintained as a Texinfo manual. If GnuPG and the
info program are properly installed at your site, the
command</p>

<p style="margin-top: 1em">info gnupg</p>

<p style="margin-top: 1em">should give you access to the
complete manual including a menu structure and an index.</p>

<p style="margin-top: 1em">GnuPG 2.0.22 2016-11-05
SCDAEMON(1)</p>
<hr>
</body>
</html>
