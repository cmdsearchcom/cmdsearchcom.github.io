<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:03:00 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>dcmmkdir(1) OFFIS DCMTK dcmmkdir(1)</p>

<p style="margin-top: 1em">NAME <br>
dcmmkdir - Create a DICOMDIR file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dcmmkdir [options] [dcmfile-in...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The dcmmkdir utility creates a DICOMDIR file from the
specified referenced DICOM files according to the DICOM Part
11 Media Storage Application Profiles.</p>

<p style="margin-top: 1em">Currently the following profiles
are supported (others might be added later):</p>

<p style="margin-top: 1em">&Acirc;&middot; General Purpose
CD-R Interchange (STD-GEN-CD) <br>
&Acirc;&middot; General Purpose Interchange on DVD-RAM Media
(STD-GEN-DVD-RAM) <br>
&Acirc;&middot; General Purpose DVD Interchange with JPEG
(STD-GEN-DVD-JPEG) <br>
&Acirc;&middot; General Purpose DVD Interchange with JPEG
2000 (STD-GEN-DVD-J2K) <br>
&Acirc;&middot; General Purpose BD Interchange with JPEG
(STD-GEN-BD-JPEG) <br>
&Acirc;&middot; General Purpose BD Interchange with JPEG
2000 (STD-GEN-BD-J2K) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG2
MP@ML (STD-GEN-BD-MPEG2-MPML) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG2
MP@HL (STD-GEN-BD-MPEG2-MPHL) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG-4
AVC/H.264 HiP@Level4.1 (STD-GEN-BD-MPEG4-HPLV41) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG-4
AVC/H.264 BD-Compatible HiP@Level4.1
(STD-GEN-BD-MPEG4-HPLV41BD) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG-4
AVC/H.264 HiP@Level4.2 for 2D video
(STD-GEN-BD-MPEG4-HPLV42-2D) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG-4
AVC/H.264 HiP@Level4.2 for 3D video
(STD-GEN-BD-MPEG4-HPLV42-3D) <br>
&Acirc;&middot; General Purpose BD Interchange with MPEG-4
AVC/H.264 Stereo HiP@Level4.2 (STD-GEN-BD-MPEG4-SHPLV42)
<br>
&Acirc;&middot; General Purpose USB and Flash Memory
Interchange with JPEG (STD-GEN-USB/MMC/CF/SD-JPEG) <br>
&Acirc;&middot; General Purpose USB and Flash Memory
Interchange with JPEG 2000 (STD-GEN-USB/MMC/CF/SD-J2K) <br>
&Acirc;&middot; General Purpose MIME Interchange
(STD-GEN-MIME) <br>
&Acirc;&middot; DVD Interchange with MPEG2 MP@ML
(STD-DVD-MPEG2-MPML) <br>
&Acirc;&middot; Basic Cardiac X-Ray Angiographic Studies on
CD-R Media (STD-XABC-CD) <br>
&Acirc;&middot; 1024 X-Ray Angiographic Studies on CD-R
Media (STD-XA1K-CD) <br>
&Acirc;&middot; 1024 X-Ray Angiographic Studies on DVD Media
(STD-XA1K-DVD) <br>
&Acirc;&middot; Dental Radiograph Interchange (STD-DEN-CD)
<br>
&Acirc;&middot; CT/MR Studies on various Media
(STD-CTMR-xxxx) <br>
&Acirc;&middot; Ultrasound Single Frame for Image Display
(STD-US-ID-SF-xxxx) <br>
&Acirc;&middot; Ultrasound Single Frame with Spatial
Calibration (STD-US-SC-SF-xxxx) <br>
&Acirc;&middot; Ultrasound Single Frame with Combined
Calibration (STD-US-CC-SF-xxxx) <br>
&Acirc;&middot; Ultrasound Single &amp; Multi-Frame for
Image Display (STD-US-ID-MF-xxxx) <br>
&Acirc;&middot; Ultrasound Single &amp; Multi-Frame with
Spatial Calibration (STD-US-SC-MF-xxxx) <br>
&Acirc;&middot; Ultrasound Single &amp; Multi-Frame with
Combined Calibration (STD-US-CC-MF-xxxx) <br>
&Acirc;&middot; 12-lead ECG Interchange on Diskette
(STD-WVFM-ECG-FD) <br>
&Acirc;&middot; Hemodynamic Waveform Interchange on Diskette
(STD-WVFM-HD-FD) <br>
This tool extends dcmgpdir which can only create General
Purpose DICOMDIR files. The default behavior of dcmmkdir
(with --general-purpose) is equivalent to that of dcmgpdir.
PARAMETERS <br>
dcmfile-in referenced DICOM file (or directory to be
scanned) OPTIONS <br>
general options <br>
-h --help <br>
print this help text and exit</p>

<p style="margin-top: 1em">--version <br>
print version information and exit</p>

<p style="margin-top: 1em">--arguments <br>
print expanded command line arguments</p>

<p style="margin-top: 1em">-q --quiet <br>
quiet mode, print no warnings and errors</p>

<p style="margin-top: 1em">-v --verbose <br>
verbose mode, print processing details</p>

<p style="margin-top: 1em">-d --debug <br>
debug mode, print debug information</p>

<p style="margin-top: 1em">-ll --log-level [l]evel: string
constant <br>
(fatal, error, warn, info, debug, trace) <br>
use level l for the logger</p>

<p style="margin-top: 1em">-lc --log-config [f]ilename:
string <br>
use config file f for the logger <br>
input options <br>
DICOMDIR identifiers:</p>

<p style="margin-top: 1em">+F --fileset-id [i]d: string
<br>
use specific file-set ID <br>
(default: DCMTK_MEDIA_DEMO, &quot;&quot; for none)</p>

<p style="margin-top: 1em">+R --descriptor [f]ilename:
string <br>
add a file-set descriptor file ID <br>
(e.g. README, default: no descriptor)</p>

<p style="margin-top: 1em">+C --char-set [c]harset: string
<br>
add a specific character set for descriptor <br>
(default: &quot;ISO_IR 100&quot; if descriptor present)</p>

<p style="margin-top: 1em">reading:</p>

<p style="margin-top: 1em">+id --input-directory
[d]irectory: string <br>
read referenced DICOM files from directory d <br>
(default for --recurse: current directory)</p>

<p style="margin-top: 1em">-m --keep-filenames <br>
expect filenames to be in DICOM format (default)</p>

<p style="margin-top: 1em">+m --map-filenames <br>
map to DICOM filenames (lowercase-&gt;uppercase, <br>
and remove trailing period)</p>

<p style="margin-top: 1em">-r --no-recurse <br>
do not recurse within directories (default)</p>

<p style="margin-top: 1em">+r --recurse <br>
recurse within filesystem directories</p>

<p style="margin-top: 1em">+p --pattern [p]attern: string
(only with --recurse) <br>
pattern for filename matching (wildcards)</p>

<p style="margin-top: 1em"># possibly not available on all
systems <br>
processing options <br>
consistency check:</p>

<p style="margin-top: 1em">-W --no-consistency-check <br>
do not check files for consistency</p>

<p style="margin-top: 1em">+W --warn-inconsist-files <br>
warn about inconsistent files (default)</p>

<p style="margin-top: 1em">-a --abort-inconsist-file <br>
abort on first inconsistent file</p>

<p style="margin-top: 1em">type 1 attributes:</p>

<p style="margin-top: 1em">-I --strict <br>
exit with error if DICOMDIR type 1 attributes <br>
are missing in DICOM file (default)</p>

<p style="margin-top: 1em">+I --invent <br>
invent DICOMDIR type 1 attributes if missing in DICOM
file</p>

<p style="margin-top: 1em">+Ipi --invent-patient-id <br>
invent new PatientID in case of inconsistent <br>
PatientName attributes</p>

<p style="margin-top: 1em">other checks:</p>

<p style="margin-top: 1em">+Nrs --allow-retired-sop <br>
allow retired SOP classes defined in previous editions <br>
of the DICOM standard</p>

<p style="margin-top: 1em">-Nxc --no-xfer-check <br>
do not reject images with non-standard transfer syntax <br>
(just warn)</p>

<p style="margin-top: 1em">-Nec --no-encoding-check <br>
do not reject images with non-standard pixel encoding <br>
(just warn)</p>

<p style="margin-top: 1em">-Nrc --no-resolution-check <br>
do not reject images with non-standard spatial resolution
<br>
(just warn)</p>

<p style="margin-top: 1em">icon images:</p>

<p style="margin-top: 1em">+X --add-icon-image <br>
add monochrome icon image on IMAGE level <br>
(default for cardiac profiles)</p>

<p style="margin-top: 1em">-Xs --icon-image-size [s]ize:
integer (1..128) <br>
width and height of the icon image (in pixel) <br>
(fixed: 128 for XA, 64 for CT/MR profile)</p>

<p style="margin-top: 1em">-Xi --icon-file-prefix [p]refix:
string <br>
use PGM image &rsquo;prefix&rsquo;+&rsquo;dcmfile-in&rsquo;
as icon <br>
(default: create icon from DICOM image)</p>

<p style="margin-top: 1em">-Xd --default-icon [f]ilename:
string <br>
use specified PGM image if icon cannot be <br>
created automatically (default: black image) <br>
output options <br>
DICOMDIR file:</p>

<p style="margin-top: 1em">+D --output-file [f]ilename:
string <br>
generate specific DICOMDIR file <br>
(default: DICOMDIR in current directory)</p>

<p style="margin-top: 1em">profiles:</p>

<p style="margin-top: 1em">-Pgp --general-purpose <br>
General Purpose Interchange on CD-R or DVD-RAM Media <br>
(STD-GEN-CD/DVD-RAM, default)</p>

<p style="margin-top: 1em">-Pdv --general-dvd-jpeg <br>
General Purpose DVD Interchange with JPEG <br>
(STD-GEN-DVD-JPEG)</p>

<p style="margin-top: 1em">-Pd2 --general-dvd-j2k <br>
General Purpose DVD Interchange with JPEG 2000 <br>
(STD-GEN-DVD-J2K)</p>

<p style="margin-top: 1em">-Pbd --general-bd-jpeg <br>
General Purpose BD Interchange with JPEG <br>
(STD-GEN-BD-JPEG)</p>

<p style="margin-top: 1em">-Pb2 --general-bd-j2k <br>
General Purpose BD Interchange with JPEG 2000 <br>
(STD-GEN-BD-J2K)</p>

<p style="margin-top: 1em">-Pbm --general-bd-mpeg2-mpml
<br>
General Purpose BD Interchange with MPEG2 MP@ML <br>
(STD-GEN-BD-MPEG2-MPML)</p>

<p style="margin-top: 1em">-Pbh --general-bd-mpeg2-mphl
<br>
General Purpose BD Interchange with MPEG2 MP@HL <br>
(STD-GEN-BD-MPEG2-MPHL)</p>

<p style="margin-top: 1em">-Pba --general-bd-mpeg4-hp <br>
General Purpose BD Interchange with MPEG-4 AVC/H.264 <br>
HiP@Level4.1 (STD-GEN-BD-MPEG4-HPLV41)</p>

<p style="margin-top: 1em">-Pbb --general-bd-mpeg4-hpbd
<br>
General Purpose BD Interchange with MPEG-4 AVC/H.264 <br>
BD-Compatible HiP@Level4.1 (STD-GEN-BD-MPEG4-HPLV41BD)</p>

<p style="margin-top: 1em">--general-bd-mpeg4-hp2d <br>
General Purpose BD Interchange with MPEG-4 AVC/H.264 <br>
HiP@Level4.2 for 2D video (STD-GEN-BD-MPEG4-HPLV42-2D)</p>

<p style="margin-top: 1em">--general-bd-mpeg4-hp3d <br>
General Purpose BD Interchange with MPEG-4 AVC/H.264 <br>
HiP@Level4.2 for 3D video (STD-GEN-BD-MPEG4-HPLV42-3D)</p>

<p style="margin-top: 1em">--general-bd-mpeg4-hpst <br>
General Purpose BD Interchange with MPEG-4 AVC/H.264 <br>
Stereo HiP@Level4.2 (STD-GEN-BD-MPEG4-SHPLV42)</p>

<p style="margin-top: 1em">-Pfl --usb-and-flash-jpeg <br>
General Purpose USB/Flash Memory Interchange with JPEG <br>
(STD-GEN-USB/MMC/CF/SD-JPEG)</p>

<p style="margin-top: 1em">-Pf2 --usb-and-flash-j2k <br>
General Purpose USB/Flash Memory Interchange with JPEG 2000
<br>
(STD-GEN-USB/MMC/CF/SD-J2K)</p>

<p style="margin-top: 1em">-Pmi --general-mime <br>
General Purpose MIME Interchange (STD-GEN-MIME)</p>

<p style="margin-top: 1em">-Pmp --mpeg2-mpml-dvd <br>
DVD Interchange with MPEG2 Main Profile @ Main Level <br>
(STD-DVD-MPEG2-MPML)</p>

<p style="margin-top: 1em">-Pbc --basic-cardiac <br>
Basic Cardiac X-Ray Angiographic Studies on CD-R Media <br>
(STD-XABC-CD)</p>

<p style="margin-top: 1em">-Pxa --xray-angiographic <br>
1024 X-Ray Angiographic Studies on CD-R Media <br>
(STD-XA1K-CD)</p>

<p style="margin-top: 1em">-Pxd --xray-angiographic-dvd
<br>
1024 X-Ray Angiographic Studies on DVD Media <br>
(STD-XA1K-DVD)</p>

<p style="margin-top: 1em">-Pde --dental-radiograph <br>
Dental Radiograph Interchange (STD-DEN-CD)</p>

<p style="margin-top: 1em">-Pcm --ct-and-mr <br>
CT/MR Studies (STD-CTMR-xxxx)</p>

<p style="margin-top: 1em">-Pus --ultrasound-id-sf <br>
Ultrasound Single Frame for Image Display <br>
(STD-US-ID-SF-xxxx)</p>

<p style="margin-top: 1em">--ultrasound-sc-sf <br>
Ultrasound Single Frame with Spatial Calibration <br>
(STD-US-SC-SF-xxxx)</p>

<p style="margin-top: 1em">--ultrasound-cc-sf <br>
Ultrasound Single Frame with Combined Calibration <br>
(STD-US-CC-SF-xxxx)</p>

<p style="margin-top: 1em">-Pum --ultrasound-id-mf <br>
Ultrasound Single &amp; Multi-Frame for Image Display <br>
(STD-US-ID-MF-xxxx)</p>

<p style="margin-top: 1em">--ultrasound-sc-mf <br>
Ultrasound Single &amp; Multi-Frame with Spatial Calibration
<br>
(STD-UD-SC-MF-xxxx)</p>

<p style="margin-top: 1em">--ultrasound-cc-mf <br>
Ultrasound Single &amp; Multi-Frame with Combined
Calibration <br>
(STD-UD-CC-MF-xxxx)</p>

<p style="margin-top: 1em">-Pec --12-lead-ecg <br>
12-lead ECG Interchange on Diskette <br>
(STD-WVFM-ECG-FD)</p>

<p style="margin-top: 1em">-Phd --hemodynamic-waveform <br>
Hemodynamic Waveform Interchange on Diskette <br>
(STD-WVFM-HD-FD)</p>

<p style="margin-top: 1em">writing:</p>

<p style="margin-top: 1em">-A --replace <br>
replace existing DICOMDIR (default)</p>

<p style="margin-top: 1em">+A --append <br>
append to existing DICOMDIR</p>

<p style="margin-top: 1em">+U --update <br>
update existing DICOMDIR</p>

<p style="margin-top: 1em">-w --discard <br>
do not write out DICOMDIR</p>

<p style="margin-top: 1em">backup:</p>

<p style="margin-top: 1em">--create-backup <br>
create a backup of existing DICOMDIR (default)</p>

<p style="margin-top: 1em">-nb --no-backup <br>
do not create a backup of existing DICOMDIR</p>

<p style="margin-top: 1em">post-1993 value
representations:</p>

<p style="margin-top: 1em">+u --enable-new-vr <br>
enable support for new VRs (UN/UT) (default)</p>

<p style="margin-top: 1em">-u --disable-new-vr <br>
disable support for new VRs, convert to OB</p>

<p style="margin-top: 1em">group length encoding:</p>

<p style="margin-top: 1em">-g --group-length-remove <br>
write without group length elements (default)</p>

<p style="margin-top: 1em">+g --group-length-create <br>
write with group length elements</p>

<p style="margin-top: 1em">length encoding in sequences and
items:</p>

<p style="margin-top: 1em">+e --length-explicit <br>
write with explicit lengths (default)</p>

<p style="margin-top: 1em">-e --length-undefined <br>
write with undefined lengths NOTES <br>
All files specified on the command line (or discovered by
recursively examining the contents of directories with the
+r option) are first evaluated for their compatibility with
<br>
the specified Media Storage Application Profile (Part 11).
Only appropriate files encoded using one of the allowed
Transfer Syntaxes will be accepted. Files having invalid
<br>
filenames will be rejected (the rules can be relaxed via the
+m option). Files missing required attributes will be
rejected (the +I option can relax this behavior). <br>
A DICOMDIR file will only be constructed if all files have
passed initial tests. <br>
The dcmmkdir utility also allows one to append new entries
to and to update existing entries in a DICOMDIR file. Using
option +A new entries are only appended to the DICOMDIR,
<br>
i.e. existing records like the ones for PATIENT information
are not updated. Using option +U also existing records are
updated according to the information found in the <br>
referenced DICOM files. Please note that this update process
might be slower than just appending new entries. However, it
makes sure that additional information that is required <br>
for the selected application profile is also added to
existing records. <br>
The support for icon images is currently restricted to
monochrome images. This might change in the future. Till
then, color images are automatically converted to grayscale
mode. <br>
The icon size is 128*128 pixels for the cardiac profiles (as
required by the DICOM standard) and 64*64 for all others.
<br>
Scanning Directories <br>
Adding files from directories is possible by using option
--recurse. If no further command line parameters are given,
the directory specified by option --input-directory <br>
(default: current directory) is scanned for files. If
parameters are given, they can either specify a file or
directory name; the input directory is always prepended. If
the <br>
files in the provided directories should be selected
according to a specific name pattern (e.g. using wildcard
matching), option --pattern has to be used. Please note that
this <br>
file pattern only applies to the files within the scanned
directories, and, if any other patterns are specified on the
command line outside the --input-directory option (e.g. in
<br>
order to select further files), these do not apply to the
specified directories. LOGGING <br>
The level of logging output of the various command line
tools and underlying libraries can be specified by the user.
By default, only errors and warnings are written to the <br>
standard error stream. Using option --verbose also
informational messages like processing details are reported.
Option --debug can be used to get more details on the
internal <br>
activity, e.g. for debugging purposes. Other logging levels
can be selected using option --log-level. In --quiet mode
only fatal errors are reported. In such very severe error
<br>
events, the application will usually terminate. For more
details on the different logging levels, see documentation
of module &rsquo;oflog&rsquo;. <br>
In case the logging output should be written to file
(optionally with logfile rotation), to syslog (Unix) or the
event log (Windows) option --log-config can be used. This
<br>
configuration file also allows for directing only certain
messages to a particular output stream and for filtering
certain messages based on the module or application where
they <br>
are generated. An example configuration file is provided in
&lt;etcdir&gt;/logger.cfg. COMMAND LINE <br>
All command line tools use the following notation for
parameters: square brackets enclose optional values (0-1),
three trailing dots indicate that multiple values are
allowed <br>
(1-n), a combination of both means 0 to n values. <br>
Command line options are distinguished from parameters by a
leading &rsquo;+&rsquo; or &rsquo;-&rsquo; sign,
respectively. Usually, order and position of command line
options are arbitrary (i.e. they <br>
can appear anywhere). However, if options are mutually
exclusive the rightmost appearance is used. This behavior
conforms to the standard evaluation rules of common Unix
shells. <br>
In addition, one or more command files can be specified
using an &rsquo;@&rsquo; sign as a prefix to the filename
(e.g. @command.txt). Such a command argument is replaced by
the content of <br>
the corresponding text file (multiple whitespaces are
treated as a single separator unless they appear between two
quotation marks) prior to any further evaluation. Please
note <br>
that a command file cannot contain another command file.
This simple but effective approach allows one to summarize
common combinations of options/parameters and avoids longish
<br>
and confusing command lines (an example is provided in file
&lt;datadir&gt;/dumppat.txt). ENVIRONMENT <br>
The dcmmkdir utility will attempt to load DICOM data
dictionaries specified in the DCMDICTPATH environment
variable. By default, i.e. if the DCMDICTPATH environment
variable is <br>
not set, the file &lt;datadir&gt;/dicom.dic will be loaded
unless the dictionary is built into the application (default
for Windows). <br>
The default behavior should be preferred and the DCMDICTPATH
environment variable only used when alternative data
dictionaries are required. The DCMDICTPATH environment
variable <br>
has the same format as the Unix shell PATH variable in that
a colon (&rsquo;:&rsquo;) separates entries. On Windows
systems, a semicolon (&rsquo;;&rsquo;) is used as a
separator. The data dictionary <br>
code will attempt to load each file specified in the
DCMDICTPATH environment variable. It is an error if no data
dictionary can be loaded. SEE ALSO <br>
dcmgpdir(1) COPYRIGHT <br>
Copyright (C) 2001-2016 by OFFIS e.V., Escherweg 2, 26121
Oldenburg, Germany.</p>

<p style="margin-top: 1em">Version 3.6.1 Tue Feb 16 2016
dcmmkdir(1)</p>
<hr>
</body>
</html>
