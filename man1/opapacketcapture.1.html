<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opapacketcapture(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opapacketcapture(1)</td>
    <td class="head-vol">Master map: IFSFFCLIRG (Man Page)</td>
    <td class="head-rtitle">opapacketcapture(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opapacketcapture
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Starts capturing packet data.
<div class="Pp"></div>
To stop capture and trigger dump, use SIGINT or SIGUSR1. Program dumps packets
  to file and exits.
<div class="Pp"></div>
<b>NOTE:</b> Using opapacketcapture with large amounts of traffic can cause
  performance issues on the given host. Intel recommends you use
  opapacketcapture on hosts with lower packet rates and bandwidth.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h1>
opapacketcapture [-o <i>outfile</i>] [-d <i>devfile</i>] [-f <i>filterfile</i>]
  [-t <i>triggerfile</i>] [-l <i>triggerlag</i>][-a <i>alarm</i>] [-p
  <i>packets</i>] [-s <i>maxblocks</i>] [-v] [-h]
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-h/--help</dt>
  <dd class="It-tag">Produces full help text.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o <i>outfile</i></dt>
  <dd class="It-tag">Output file for captured packets. Default = packetDump.pcap
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d <i>devfile</i></dt>
  <dd class="It-tag">Device file for capturing packets. Default =
      /dev/hfi1_diagpkt0
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f <i>filterfile</i></dt>
  <dd class="It-tag">File used for filtering. If absent, no filtering is done.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t <i>triggerfile</i></dt>
  <dd class="It-tag">File used for triggering a stop capture. If absent, normal
      triggering is performed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l <i>triggerlag</i></dt>
  <dd class="It-tag">Number of packets to collect after trigger condition is
      met, before dumping data and exiting. Default = 10.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-a <i>alarm</i></dt>
  <dd class="It-tag">Number of seconds for alarm trigger to dump capture and
      exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p <i>packets</i></dt>
  <dd class="It-tag">Number of packets for alarm trigger to dump capture and
      exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s <i>maxblocks</i></dt>
  <dd class="It-tag">Number of blocks to allocate for ring buffer. Value is in
      Millions. Default = 2 which corresponds to 128 MiB because 1 block = 64
      Bytes.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">Produces verbose output.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Example"><a class="selflink" href="#Example">Example</a></h1>
# opapacketcapture
<div>&#x00A0;</div>
opapacketcapture: Capturing packets using 128 MiB buffer
<div>&#x00A0;</div>
^C
<div>&#x00A0;</div>
opapacketcapture: Triggered
<div>&#x00A0;</div>
Number of packets stored is 100
<div class="Pp"></div>
In the example above, opapacketcapture operates until <b>CTRL+C</b> is
  entered.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Intel Corporation</td>
    <td class="foot-os">Copyright(C) 2015-2016</td>
  </tr>
</table>
</body>
</html>
