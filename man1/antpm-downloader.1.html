<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>antpm-downloader(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">antpm-downloader(1)</td>
    <td class="head-vol">ANT-FS client</td>
    <td class="head-rtitle">antpm-downloader(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
antpm-downloader - console based ANT-FS information retrieval client for Garmin
  GPS products.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>antpm-downloader [ </b><i>OPTIONS</i><b> ] </b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>antpm-downloader</b> is a small command-line utility to retrieve information
  (sports tracks, etc.) from Garmin GPS products over the wireless ANT-FS
  protocols. Currently supported devices are the Forerunner 310XT. It is
  expected that the Forerunner 60, Forerunner 610, Forerunner 910XT, FR70 and
  Swim models work, but user feedback is required.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b> [ <b>--pairing</b> ]</dt>
  <dd class="It-tag">Force pairing first</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dir-only</b></dt>
  <dd class="It-tag">Download and list device directory</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-D</b> [
  <b>--download</b> ] arg Download a single file (hex id e.g. 0x12FB) from
  device</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--erase</b> arg</dt>
  <dd class="It-tag">Erase a single file (hex id e.g. 0x12FB) from device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--v</b> arg</dt>
  <dd class="It-tag">Adjust verbosity level, varies in [1, 6]</dd>
</dl>
<h2 class="Ss" title="Ss" id="Help_options"><a class="selflink" href="#Help_options">Help
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b> [ <b>--help</b> ]</dt>
  <dd class="It-tag">produce help message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b> [ <b>--version</b> ]</dt>
  <dd class="It-tag">Print version information</dd>
</dl>
<h1 class="Sh" title="Sh" id="LINUX_USER'S_GUIDE"><a class="selflink" href="#LINUX_USER'S_GUIDE">LINUX
  USER'S GUIDE</a></h1>
Make sure you're using the latest released version of ANT+minus.
<div class="Pp"></div>
Make sure that the cp210x kernel module is loaded: &quot;sudo modprobe
  cp210x&quot;. Verify by looking at non-empty output of &quot;lsmod | grep
  cp210x&quot;.
<div class="Pp"></div>
Make sure that the USB2ANT stick is connected to the machine.
<div class="Pp"></div>
Make sure cp210x driver was assigned to your USB2ANT. Verify by &quot;dmesg |
  grep tty&quot; and look for a line similar to: &quot;[ 3274.854726] usb 6-2:
  cp210x converter now attached to ttyUSB0&quot;. Also make sure &quot;ls
  /dev/ttyUSB*&quot; lists your device node.
<div class="Pp"></div>
Your user must be able to access the /dev/ttyUSB0 device. This can be achieved
  e.g. by the installing the
  <a class="Lk" title="Lk" href="http://antpm.googlecode.com/git/scripts/80-ant-stick.rules"><b>http://antpm.googlecode.com/git/scripts/80-ant-stick.rules</b>
  udev rule into <i>/etc/udev/rules.d</i>. Restart udev. Verify by &quot;cat
  /dev/ttyUSB0&quot;.
<div class="Pp"></div>
Install the antpm binary package.
<div class="Pp"></div>
Enable &quot;pairing mode&quot; on your watch.
<div class="Pp"></div>
Bring your watch to ~50cm from the USB2ANT stick. Sometimes avoiding the
  proximity of a WiFi network helps.
<div class="Pp"></div>
Run <b>antpm-downloader</b> on your machine. This will attempt connecting to the
  watch and pair with it first.
<div class="Pp"></div>
During pairing, you have to click &quot;Yes&quot; on the watch to complete
  pairing.
<div class="Pp"></div>
Afterwards all activity information from the watch is downloaded to your
  machine. This can take some time.
<div class="Pp"></div>
The downloaded files are stored on your machine to the folder
  ConfigFolder/*device-id*/*current-date-time* (where ConfigFolder equals
  $XDG_CONFIG_HOME which usually points to $HOME/.config/antpm/ or $ANTPM_DIR/
  if that is set).
<div class="Pp"></div>
The 310XT stores all information in .fit files. These files can describe
  waypoints/tracks/activities.
<div class="Pp"></div>
To convert the downloaded .fit files to a more commonly used .gpx format, issue
  the command &quot;antpm-fit2gpx -F
  ConfigFolder/*device-id*/*current-date-time*&quot; e.g. &quot;antpm-fit2gpx -F
  ~/.config/antpm/4531082473/2013_03_26_10_58_19&quot;. This will populate the
  given folder with .gpx files.</a>
<h1 class="Sh" title="Sh" id="HOW_TO_SUBMIT_A_BUG-REPORT"><a class="selflink" href="#HOW_TO_SUBMIT_A_BUG-REPORT">HOW
  TO SUBMIT A BUG-REPORT</a></h1>
Please open a bug report at
  <a class="Lk" title="Lk" href="http://code.google.com/p/antpm"><b>http://code.google.com/p/antpm</b>
<div class="Pp"></div>
In your report please include:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">The log of the program in question (usually
  saved under ~/.config/antpm)?</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">What steps will reproduce the problem?</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">What is the expected output? What do you see
  instead?</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">What version of ANT+minus are you using? On
  what operating system? Is it pre-built of from sources?</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">What GPS are you trying to use? What firmware
  version?</div>
</a>
<h1 class="Sh" title="Sh" id="WINDOWS_USER'S_GUIDE"><a class="selflink" href="#WINDOWS_USER'S_GUIDE">WINDOWS
  USER'S GUIDE</a></h1>
Make sure that the USB2ANT stick is connected to the machine.
<div class="Pp"></div>
Install the libusb driver by running
  &quot;3rd_party/libusb-win32-bin-1.2.6.0/driver_installer/inf-wizard.exe&quot;
<h1 class="Sh" title="Sh" id="DEVICES"><a class="selflink" href="#DEVICES">DEVICES</a></h1>
Wireless ANT communications happens over a USB2ANT dongle. Under Linux the
  dongle is driven by <b>cp210x</b> kernel module, and presented to user-space
  as a USB serial port, <b>/dev/ttyUSBxxx</b> where <b>xxx</b> is an integer.
  The dongle is typically carrying the USB vendor id/product id pair of
  0fcf/1004 or 0fcf/1008. Recent Linux systems employ <b>udev</b> to handle
  device nodes and permissions, thus appropriate
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/lib/modules/`uname
    -r`/kernel/drivers/usb/serial/cp210x.ko</b></dt>
  <dd class="It-tag">Kernel driver module for USB2ANT dongle.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/dev/ttyUSBxxx</b></dt>
  <dd class="It-tag">Serial device created for dongle.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$XDG_CONFIG_HOME/antpm ($HOME/.config/antpm)</b></dt>
  <dd class="It-tag">Default config folder (downloaded content is also stored
      here).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ANTPM_DIR</b></dt>
  <dd class="It-tag">The <b>ANTPM_DIR</b> environment variable is honored to
      override the default config folder.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<b>antpm-downloader</b> was written by Krist&#x00F3;f Ralovich. This man page is
  Copyright &#x00A9; 2010-2013 Krist&#x00F3;f Ralovich.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Lk" title="Lk" href="http://code.google.com/p/antpm"><b>http://code.google.com/p/antpm</b></a></div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-10</td>
    <td class="foot-os">antpm-downloader v1.9</td>
  </tr>
</table>
</body>
</html>
