<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GRANDVIZIER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GRANDVIZIER(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">GRANDVIZIER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
grandvizier - DNSSEC-Tools dtrealms GUI
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
  grandvizier &lt;realms-file&gt;
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>THIS NEEDS MAJOR EDITTING!!!</b>
<div class="Pp"></div>
<b>Warning:</b> This is an early prototype. Consider it to be beta quality, if
  not alpha.
<div class="Pp"></div>
<b>grandvizier</b> is a GUI tool for use with monitoring and controlling the
  DNSSEC-Tools <b>dtrealms</b> program. It displays information on the current
  state of the realms <b>dtrealms</b> is managing. The user may control some
  aspects of <b>dtrealms</b>'s execution using <b>grandvizier</b> menu commands.
<div class="Pp"></div>
<b>grandvizier</b> creates a window in which to display information about each
  realms. (These realms are those in <b>dtrealms</b>'s current <i>realms</i>
  file.) For each realm, it displays the realm name and the count of zones in
  each of these four states: normal, ZSK rollover, KSK rollover, and KSK phase 6
  wait state. As the rollover status of the zones in each realm changes,
  <b>grandvizier</b> will update its display for that realm. Inactive realms,
  realms listed in the <i>realms</i> file but which are not in currently being
  run, are displayed but have no useful information to display.
<div class="Pp"></div>
The user may also hide realms from the display. These realms, if in the active
  state, will continue to execute; however, their information will not be
  displayed. Display state for each realm will persist across <b>grandvizier</b>
  executions.
<div class="Pp"></div>
Menu commands are available for some control over <b>dtrealms</b>. Display and
  execution options for <b>grandvizier</b> are also available through menu
  commands. More information about the menu commands is available in the MENU
  COMMANDS section.
<div class="Pp"></div>
<b>grandvizier</b> is only intended to be started by <b>dtrealms</b>, not
  directly by a user. There are two ways to have <b>dtrealms</b> start
  <b>grandvizier</b>. First, <b>realmctl</b> may be given the <b>-display</b>
  option. Second, the <b>-display</b> option may be given on <b>dtrealms</b>'
  command line.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>grandvizier</b> takes the following options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-display</b></dt>
  <dd class="It-tag">Tells <b>dtrealms</b> to execute <b>grandvizier</b> as a
      child process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-maxrealms</b></dt>
  <dd class="It-tag">Tells <b>grandvizier</b> how many realms to display.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Version</b></dt>
  <dd class="It-tag">Displays the version information for <b>grandvizier</b> and
      the DNSSEC-Tools package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Displays a usage message and exits.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SCREEN_LAYOUT"><a class="selflink" href="#SCREEN_LAYOUT">SCREEN
  LAYOUT</a></h1>
The <b>grandvizier</b> window is laid out as a series of &quot;stripes&quot;.
  The top stripe contains status information about <b>dtrealms</b>, the second
  stripe contains column headers, and the bulk of the window consists of realm
  stripes. The list below provides more detail on the contents of each stripe.
<div class="Pp"></div>
See the ROW COLORS section for a discussion of the colors used for the zone
  stripes.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>dtrealms</b> information stripe
    <div style="height: 1.00em;">&#x00A0;</div>
    The information stripe contains five pieces of information:
      <b>dtrealms</b>'s current <i>realms</i> file, the count of rolling zones,
      the count of stopped zones, the count of zones to be displayed, and the
      amount of time <b>dtrealms</b> waits between processing its queue.
      Coincidentally, that last datum is also the amount of time between
      <b>grandvizier</b> screen updates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">column headers stripe
    <div style="height: 1.00em;">&#x00A0;</div>
    This stripe contains the column headers for the columns of each realm
      stripe.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">realm stripes
    <div style="height: 1.00em;">&#x00A0;</div>
    Each realm managed by <b>dtrealms</b> (i.e., every realm in the current
      <i>realms</i> file) will have a realm stripe which describes that realm's
      current state. The stripe is divided into two sections: realm
      identification and the realm's zone counts.
    <div style="height: 1.00em;">&#x00A0;</div>
    The realm identification section contains the name of the realm and the
      realm's <b>rollrec</b> file.
    <div style="height: 1.00em;">&#x00A0;</div>
    The realm's zone counts section contains the number of zones in normal
      state, ZSK rollover, KSK rollover, and KSK phase 6 wait state.
    <div style="height: 1.00em;">&#x00A0;</div>
    See the ROW COLORS section for a discussion of the colors used for the realm
      stripes.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ROW_COLORS"><a class="selflink" href="#ROW_COLORS">ROW
  COLORS</a></h1>
The default <b>grandvizier</b> configuration displays each realm in its own row
  with a rotating set of colors. The rows alternate with blue, red, and green,
  as defined in the X11 <b>rgb.txt</b> file. Row coloring can be turned off (and
  on) with configuration options and menu commands.
<h1 class="Sh" title="Sh" id="MENU_COMMANDS"><a class="selflink" href="#MENU_COMMANDS">MENU
  COMMANDS</a></h1>
A number of menu commands are available to control the behavior of
  <b>grandvizier</b> and to send commands to <b>dtrealms</b>. These commands are
  discusses in this section.
<h2 class="Ss" title="Ss" id="File_Menu"><a class="selflink" href="#File_Menu">File
  Menu</a></h2>
The commands in this menu are basic GUI commands.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Halt Dtrealms
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>dtrealms</b>'s execution is halted immediately. As a result,
      <b>grandvizier</b>'s execution will also be halted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Quit
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>grandvizier</b> will stop execution.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Options_Menu"><a class="selflink" href="#Options_Menu">Options
  Menu</a></h2>
The commands in this menu control the appearance and behavior of
  <b>grandvizier</b>.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Row Colors (toggle)
    <div style="height: 1.00em;">&#x00A0;</div>
    This menu item is a toggle to turn on or off the coloring of realm stripes.
      If row coloring is turned off, realm stripes will all be the same color.
      If row coloring is turned on, realm stripes will be displayed in varying
      colors. See the ROW COLORS section for a discussion of row coloring.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Inactive Realms Display (toggle)
    <div style="height: 1.00em;">&#x00A0;</div>
    This menu item is a toggle to turn on or off the display of inactive realms.
      If display is turned off, realm stripes for inactive realms will not be
      displayed. If display is turned on, realm stripes for all realms will be
      displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Modification Commands (toggle)
    <div style="height: 1.00em;">&#x00A0;</div>
    In some situations, it may be desirable to turn off <b>grandvizier</b>'
      ability to send commands to <b>dtrealms</b>. This menu item is a toggle to
      turn on or off this ability.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Font Size
    <div style="height: 1.00em;">&#x00A0;</div>
    This menu item allows selection of font size of text displayed in the main
      window.
    <div style="height: 1.00em;">&#x00A0;</div>
    Normally, changing the font size causes the window to grow and shrink as
      required. However, on Mac OS X there seems to be a problem when the size
      selected increases the window size to be greater than will fit on the
      screen. If the font size is subsequently reduced, the window size does not
      shrink in response.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Realms to Display
    <div style="height: 1.00em;">&#x00A0;</div>
    This menu item allows selection of the number of realms to be displayed in
      the main window.</dd>
</dl>
<h2 class="Ss" title="Ss" id="General_Control_Menu"><a class="selflink" href="#General_Control_Menu">General
  Control Menu</a></h2>
The commands in this menu are GUI interfaces for the <b>realmctl</b> commands
  related to <i>general</i> realm management.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Stop Selected Realm
    <div style="height: 1.00em;">&#x00A0;</div>
    The selected realm will be moved to the inactive state. This only has an
      effect on active realms.
    <div style="height: 1.00em;">&#x00A0;</div>
    A realm may be selected by clicking on its realm stripe. If this command is
      selected without a realm having been selected, a dialog box is displayed
      from which a currently active realm may be chosen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Stop All Realms
    <div style="height: 1.00em;">&#x00A0;</div>
    All realms will be moved to the inactive state. This has no effect on
      currently inactive realms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Restart Selected Inactive Realm
    <div style="height: 1.00em;">&#x00A0;</div>
    The selected realm will be moved from the inactive state to the active
      state. The realm will enter the active state at the same point from which
      it entered the inactive state. This only has an effect on inactive realms.
    <div style="height: 1.00em;">&#x00A0;</div>
    A realm may be selected by clicking on its realm stripe. If this command is
      selected without a realm having been selected, a dialog box is displayed
      from which a currently inactive realm may be chosen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Restart All Stopped Realms
    <div style="height: 1.00em;">&#x00A0;</div>
    All realms will be moved from the inactive state to the roll state. The
      realms will enter the roll state at the same point from which they entered
      the inactive state. This has no effect on currently active realms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">DS Published for All Zones in Selected Realm
    <div style="height: 1.00em;">&#x00A0;</div>
    This command is used to indicate that all the zones in KSK rollover phase 6
      in the selected realm have new DS records published by their parents. It
      moves all these realms from KSK phase 6 to KSK phase 7. There is no effect
      on realms not in KSK rollover phase 6.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Display_Menu"><a class="selflink" href="#Display_Menu">Display
  Menu</a></h2>
The commands in this menu provide control over what is being displayed.
<div class="Pp"></div>
The realmstripe commands allow all, some, or none of the realm stripes to be
  displayed. Undisplayed active realms will continue to be active, but they will
  do so without the <b>grandvizier</b> window indicating this.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Realm Selection
    <div style="height: 1.00em;">&#x00A0;</div>
    A dialog box is displayed that holds a list of the realms currently managed
      by <b>dtrealms</b>. The user may select which realms should be displayed
      by clicking on the realm's checkbox. Realms with a selected checkbox will
      be displayed; realms without a selected checkbox will not be
    displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Refresh Display
    <div style="height: 1.00em;">&#x00A0;</div>
    Refresh the <b>grandvizier</b> display. The display will automatically
      refresh after a certain number of updates; this command forces it to
      happen immediately upon invocation.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Help_Menu"><a class="selflink" href="#Help_Menu">Help
  Menu</a></h2>
The commands in this menu provide assistance to the user.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Help
    <div style="height: 1.00em;">&#x00A0;</div>
    Display a window containing help information.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONFIGURATION_FILE"><a class="selflink" href="#CONFIGURATION_FILE">CONFIGURATION
  FILE</a></h1>
Several aspects of <b>grandvizier</b>' behavior may be controlled from
  configuration files. Configuration value may be specified in the DNSSEC Tools
  configuration file or in a more specific <b>rc.grandvizier</b>. The
  system-wide <b>grandvizier</b> configuration file is in the DNSSEC-Tools
  configuration directory and is named <b>grandvizier.conf</b>. Multiple
  <b>rc.grandvizier</b> files may exist on a system, but only the one in the
  directory in which <b>grandvizier</b> is executed is used.
<div class="Pp"></div>
The following are the available configuration values:
<div class="Pp"></div>
<pre>
    colors              Turn on/off use of colors on realm stripes.
    fontsize            The size of the font in the output window.
    inactivecolor       The background color used for inactive zones.
    maxrealms           The number of realms to display.
    modify              Turn on/off execution of dtrealms modification commands.
    showinactive        Turn on/off display of inactive zones.
</pre>
<div class="Pp"></div>
The <b>rc.grandvizier</b> file is <b>only</b> searched for in the directory in
  which <b>grandvizier</b> is executed. The potential problems inherent in this
  may cause these <b>grandvizier</b>-specific configuration files to be removed
  in the future.
<div class="Pp"></div>
This file is in the &quot;field value&quot; format, where <i>field</i> specifies
  the output aspect and <i>value</i> defines the value for that field. The
  following are the recognized fields:
<div class="Pp"></div>
Empty lines and comments are ignored. Comment lines are lines that start with an
  octothorpe ('#').
<div class="Pp"></div>
Spaces are not allowed in the configuration values.
<div class="Pp"></div>
Choose your inactivecolors carefully. The only foreground color used is black,
  so your background colors must work well with black.
<h1 class="Sh" title="Sh" id="REQUIREMENTS"><a class="selflink" href="#REQUIREMENTS">REQUIREMENTS</a></h1>
<b>grandvizier</b> is implemented in Perl/Tk, so both Perl and Perl/Tk must be
  installed on your system.
<h1 class="Sh" title="Sh" id="WARNINGS"><a class="selflink" href="#WARNINGS">WARNINGS</a></h1>
<b>grandvizier</b> has several potential problems that must be taken into
  account.
<dl class="Bl-tag">
  <dt class="It-tag">development environment</dt>
  <dd class="It-tag"><b>grandvizier</b> was developed and tested on a
      single-user system running X11 using a relatively small number of zones.
      While it works fine in this environment, it has not been run on a system
      with many users or in a situation where the system console hasn't been in
      use by the <b>grandvizier</b> user.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2012-2013 SPARTA, Inc. All rights reserved. See the COPYING file
  included with the DNSSEC-Tools package for details.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Wayne Morrison, tewok@tislabs.com
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b></b><b><i>dtrealms</i></b><b>(8)</b>,
  <b></b><b><i>realmctl</i></b><b>(8)</b>,
  <b></b><b><i>rollerd</i></b><b>(8)</b>
<div class="Pp"></div>
<b></b><b><i>Net::DNS::SEC::Tools::realm</i></b><b>(5)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-06-30</td>
    <td class="foot-os">perl v5.24.0</td>
  </tr>
</table>
</body>
</html>
