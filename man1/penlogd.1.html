<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PENLOGD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PENLOGD(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PENLOGD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
penlogd - consolidate web server logs
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>penlogd</b> [-fd] [-j dir] [-l logfile] [-n N] [-p pidfile] [-u user] port
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
penlogd -l /var/log/access_log -p /var/run/penlogd.pid 10000
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>Penlogd</i> receives log entries from Pen and from each of the web servers.
  It consolidates the entries by replacing the source addresses in each entry
  with the &quot;real&quot; client address and writes the result to stdout or to
  the file given on the command line. This completely removes the need for
  postprocessing with mergelogs, since the logs are already merged.
<div style="height: 1.00em;">&#x00A0;</div>
Pen must be instructed to send its log to penlogd. See HOWTO and pen man page
  for details.
<div style="height: 1.00em;">&#x00A0;</div>
Sending penlogd a HUP signal will make it close and reopen the logfile, unless
  it is logging to stdout. Rotate the log like this:
<div style="height: 1.00em;">&#x00A0;</div>
mv access_log access_log.1 kill -HUP `cat &lt;pidfile&gt;`
<div style="height: 1.00em;">&#x00A0;</div>
where &lt;pidfile&gt; is the file containing pen's process id.
<div style="height: 1.00em;">&#x00A0;</div>
Sending penlogd a TERM signal will make it close the log file and exit cleanly.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-d</dt>
  <dd class="It-tag">Turn on debugging. The output goes to stderr if we are
      running in the foreground (see -f) and to syslog (facility user, priority
      debug) otherwise.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f</dt>
  <dd class="It-tag">Stay in foreground.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-j <i>dir</i></dt>
  <dd class="It-tag">Run in a chroot environment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l <i>logfile</i></dt>
  <dd class="It-tag">Write output into logfile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n <i>N</i></dt>
  <dd class="It-tag">Number of pen log entries to cache (default 1000).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p <i>pidfile</i></dt>
  <dd class="It-tag">Write process id into pidfile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-u <i>user</i></dt>
  <dd class="It-tag">Run as a different user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">port</dt>
  <dd class="It-tag">The UDP port where penlogd receives log entries.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
pen(1), penlog(1), webresolve(1)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Copyright (C) 2002-2015 Ulric Eriksson, &lt;ulric@siag.nu&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">LOCAL</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
