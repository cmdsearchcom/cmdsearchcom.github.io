<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Pbmtoppa User Manual(0)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Pbmtoppa User Manual(0)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">Pbmtoppa User Manual(0)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pbmtoppa - convert PBM image to HP Printer Performance Architecture (PPA)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pbmtoppa</b> [ <i>pbm_file</i> [ <i>ppa_file</i>]]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of <b>Netpbm</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<b>pbmtoppa</b> converts page images in PBM format to Hewlett Packard's PPA
  (Printer Performance Architecture) format, which is the data stream format
  expected by some HP 'Windows-only' printers including the HP Deskjet 820C
  series, the HP DeskJet 720 series, and the HP DeskJet 1000 series.
<div class="Pp"></div>
<i>pbm_file</i> is the file specification of the input file or <b>-</b> for
  Standard Input. The default is Standard Input.
<div class="Pp"></div>
The input file contains one or more PBM images, with each one being a single
  page. Each image must have the exact dimensions of a page (at 600 pixels per
  inch in both directions). Significantly, this is the format that Ghostscript
  produces.
<div class="Pp"></div>
<i>ppa_file</i> is the file specification of the output file or <b>-</b> for
  Standard Output. The default is Standard Output.
<div class="Pp"></div>
To print Postscript on an HP PPA printer, just use Ghostscript with the
  <b>pbmraw</b> (or <b>pbm</b>) device driver.
<div class="Pp"></div>
You can generate a test page for use with this program with <b>pbmpage</b>.
<div class="Pp"></div>
You can also set up a printer filter so you can submit PBM input directly to
  your print queue. See the documentation for your print spooler for information
  on how to do that, or look in hp820install.doc for an example lpd print filter
  for Postscript and text files.
<div class="Pp"></div>
Sometimes, <b>pbmtoppa</b> generates a file which the printer will not print
  (because <b>pbmtoppa</b>'s input is unprintable). When this happens, all three
  lights blink to signal the error. This is usually because there is material
  outside of the printer's printable area. To make the file print, increase the
  margins via <b>pbmtoppa</b> options or a configuration file. See
  <a class="Lk" title="Lk" href="#calibration">the section on calibration</a>
  below.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="About_PPA"><a class="selflink" href="#About_PPA">About
  PPA</a></h2>
The PPA printer language is a far lower level language than most. When you use a
  PPA printer, most of the processing that a conventional printer does is done
  instead on the computer end of the wire. In particular, <b>pbmtoppa</b> has to
  do 'swath cutting,' and 'sweep formatting,' which other printers do
  themselves. There is very little intelligence inside a PPA printer;
  <b>pbmtoppa</b> generates direct controls for the printer's hardware.
<div class="Pp"></div>
The design goal of PPA was to reduce the cost of a printer by exploiting
  computing resources already present in the computer that requests the
  printing. CPU power, ROM, and RAM requirements inside the printer are all
  reduced compared to a conventional printer.
<div class="Pp"></div>
PPA was new in 1997. It was preceded by Hewlett Packard's PCL (Printer Control
  Language) language. HP manufactured PPA printers for only a few years, and no
  one else ever did.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b> <i>version</i></dt>
  <dd class="It-tag">printer version (720, 820, or 1000)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b> <i>xoff</i></dt>
  <dd class="It-tag">horizontal offset adjustment in 1/600 inches.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y</b> <i>yoff</i></dt>
  <dd class="It-tag">vertical offset adjustment in 1/600 inches.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> <i>topmarg</i></dt>
  <dd class="It-tag">top margin in 1/600 inches (default: 150 = 0.25 inch)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> <i>leftmarg</i></dt>
  <dd class="It-tag">left margin in 1/600 inches (default: 150 = 0.25 inch)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b> <i>rightmarg</i></dt>
  <dd class="It-tag">right margin in 1/600 inches (default: 150 = 0.25 inch)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b> <i>botmarg</i></dt>
  <dd class="It-tag">bottom margin in 1/600 inches (default: 150 = 0.25 inch)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>paper</i></dt>
  <dd class="It-tag">paper size: <b>us</b> or <b>a4</b>. Default is <b>us</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>dpi</i></dt>
  <dd class="It-tag">Print resolution in dots per inch.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <i>cfgfile</i></dt>
  <dd class="It-tag">Read parameters from the configuration file named
      <i>cfgfile</i>. See</dd>
</dl>
<a class="Lk" title="Lk" href="#configfile">CONFIGURATION FILES</a>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The offset adjustments you specify with <b>-x</b> and <b>-y</b> accumulate. I.e.
  if you specify them multiple times, the total offset adjustment is the sum of
  the adjustments you specify. <b>-x 60 -x 120</b> is the same as <b>-x 180</b>.
<div class="Pp"></div>
The <b>-v</b> option undoes any preceding <b>-x</b> and <b>-y</b> options,
  leaving the horizontal and vertical adjustments their default values.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CONFIGURATION_FILES"><a class="selflink" href="#CONFIGURATION_FILES">CONFIGURATION
  FILES</a></h1>
You can use a configuration file to specify parameters rather than use
  invocation options. <b>pbmtoppa</b> processes the file
  <b>/etc/pbmtoppa.conf</b>, if it exists, before processing any options. It
  then processes each configuration file named by a <b>-f</b> option in order,
  applying the parameters from the configuration file as if they were invocation
  options used in the place of the <b>-f</b> option.
<div class="Pp"></div>
Configuration files have the following format:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<b>#</b><i>Comment</i>
<i>key1</i> <i>value1</i>
<i>key2</i> <i>value2</i>
[etc.]
</pre>
<div class="Pp"></div>
Valid <i>key</i>s are <b>version</b>, <b>xoffset</b>, <b>yoffset</b>,
  <b>topmargin</b>, <b>leftmargin</b>, <b>rightmargin</b>, <b>bottommargin</b>,
  <b>papersize</b>, or any non-null prefix of these words. Valid values are the
  same as with the corresponding invocation parameters.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Print a test pattern:
<pre>
<b>pbmpage | pbmppa &gt;/dev/lp1</b>
</pre>
<div class="Pp"></div>
Print three pages:
<pre>
<b>cat page1.pbm page2.pbm page3.pbm | pbmppa &gt;/dev/lp1</b>
</pre>
<div class="Pp"></div>
Print the Postscript file myfile.ps:
<pre>
gs -sDEVICE=rawpbm -q -dNOPAUSE -r600 \
   -sOutputFile=- myfile.ps ;\
| pbmtoppa | lpr
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="CALIBRATION"><a class="selflink" href="#CALIBRATION">CALIBRATION</a></h1>
To be able to print successfully and properly, you need to tell <b>pbmtoppa</b>
  an X and a Y offset appropriate for your printer to use when generating the
  page. You can specify these offsets with the <b>-x</b> and <b>-y</b>
  invocation options or with the <b>xoff</b> and <b>yoff</b> parameters in a
  <b>pbmtoppa</b> configuration file.
<div class="Pp"></div>
To determine the correct offsets, use the <b>pbmpage</b> program.
<div class="Pp"></div>
If while trying to do this calibration, the printer refuses to print a page, but
  just blinks all three lights, specify large margins (e.g. 600 pixels -- one
  inch) via <b>pbmpage</b> invocation options while doing the calibration.
<div class="Pp"></div>
For example:
<pre>
<b>pbmpage | pbmtoppa &gt;/dev/lp1</b>
</pre>
or
<pre>
<b>pbmpage | pbmtoppa | lpr -l</b>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
(if your printer filter recognizes the '-l' (direct output) parameter).
<div class="Pp"></div>
In the test pattern, the grid is marked off in pixel coordinate numbers.
  Unfortunately, these coordinates are probably cut off before the edge of the
  paper. You'll have to use a ruler to estimate the pixel coordinate of the left
  and top edges of the actual sheet of paper (should be within +/- 300, may be
  negative; there are 600 pixels per inch).
<div class="Pp"></div>
Add these coordinates to the X and Y offsets by either editing the configuration
  file or using the <b>-x </b> and <b>-y</b> command-line parameters.
<div class="Pp"></div>
When <b>pbmtoppa</b> is properly calibrated, the center mark should be in the
  center of the paper. Also, the margins should be able to be as small as 1/4
  inch without causing the printer to choke with 'blinking lights syndrome'.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REDHAT_LINUX_INSTALLATION"><a class="selflink" href="#REDHAT_LINUX_INSTALLATION">REDHAT
  LINUX INSTALLATION</a></h1>
RedHat users may find the following tip from Panayotis Vryonis &lt;
  <i>vrypan@hol.gr</i>&gt; helpful. The same should work for the 820 and 1000,
  but it hasn't been tested. Also, use the pbmraw GSDriver if you have it; it's
  faster.
<div class="Pp"></div>
Here is a tip to integrate HP720C support in RedHat's printtool:
<div class="Pp"></div>
Install pbmtoppa. Copy pbmtoppa to /usr/bin.
<div class="Pp"></div>
Edit 'printerdb' (in my system it is found in /usr/lib/rhs/rhs-printfilters )
  and append the following lines:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
----------------------Cut here-----------------------
<div class="Pp"></div>
StartEntry: DeskJet720C
&#x00A0;&#x00A0;GSDriver:&#x00A0;pbm
&#x00A0;&#x00A0;Description:&#x00A0;{HP&#x00A0;DeskJet&#x00A0;720C}
&#x00A0;&#x00A0;About:&#x00A0;{&#x00A0;\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;This&#x00A0;driver&#x00A0;supports&#x00A0;the&#x00A0;HP&#x00A0;DeskJet&#x00A0;720C&#x00A0;\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;inkjet&#x00A0;printer.&#x00A0;\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;It&#x00A0;does&#x00A0;not&#x00A0;support&#x00A0;color&#x00A0;printing.&#x00A0;\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;IMPORTANT!&#x00A0;Insert&#x00A0;\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;'-&#x00A0;|&#x00A0;pbm2ppa&#x00A0;-'&#x00A0;\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;in&#x00A0;the&#x00A0;'Extra&#x00A0;GS&#x00A0;Options'&#x00A0;field.\
&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;}
<div class="Pp"></div>
&#x00A0;&#x00A0;Resolution:&#x00A0;{600}&#x00A0;{600}&#x00A0;{}
<div class="Pp"></div>
EndEntry
----------------------------------------------------
</pre>
<div class="Pp"></div>
Now you can add an HP720C printer just like any other, using printtool.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pbmpage</b>(1) , <b>pstopnm</b>(1) , <b>pbm</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
This program was derived from <b>pbm2ppa</b>. <b>pbm2ppa</b> is obsolete and has
  been replaced by <b>pnm2ppa</b>, which does the same things as <b>pbmtoppa</b>
  except it also works with color and has lots more features. See
  <a class="Lk" title="Lk" href="http://pnm2ppa.sourceforge.net">http://pnm2ppa.sourceforge.net</a>
  for more information about the PPA protocol and the separately distributed
  <b>pnm2ppa</b> program.
<div class="Pp"></div>
The file INSTALL-MORE in the pbmtoppa directory of the Netpbm source code
  contains detailed instructions on setting up a system to use pbmtoppa to allow
  convenient printing on HP PPA printers. It was written by Michael Buehlmann.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Tim Norman. Copyright (C) 1998. Licensed under GNU Public License
<div class="Pp"></div>
Manual page by Bryan Henderson, May 2000.</div>
<table class="foot">
  <tr>
    <td class="foot-date">01 May 2005</td>
    <td class="foot-os">netpbm documentation</td>
  </tr>
</table>
</body>
</html>
