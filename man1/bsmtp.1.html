<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:56:19 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>BSMTP(1) Network backup, recovery and verification
BSMTP(1)</p>

<p style="margin-top: 1em">NAME <br>
bsmtp - Bacula&rsquo;s SMTP client (mail submission
program)</p>

<p style="margin-top: 1em">SYNOPSIS <br>
bsmtp [options] &lt;recipient&gt; &lt;...&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
bsmtp is a simple mail user agent designed to permit more
flexibility than the standard mail programs typically found
on Unix systems, and to ease portability. It can even run on
<br>
Windows machines. It is used by the Director daemon to send
notifications and requests to the operator.</p>

<p style="margin-top: 1em">OPTIONS <br>
-4 Forces bsmtp to use IPv4 addresses only.</p>

<p style="margin-top: 1em">-6 Forces bsmtp to use IPv6
addresses only.</p>

<p style="margin-top: 1em">-8 Encode the mail in UTF-8.</p>

<p style="margin-top: 1em">-a Use any ip protocol for
address resolution.</p>

<p style="margin-top: 1em">-c Set the Cc: header.</p>

<p style="margin-top: 1em">-d nn Set debug level to nn.</p>

<p style="margin-top: 1em">-dt Print timestamp in debug
output.</p>

<p style="margin-top: 1em">-f Set the From: header. If not
specified, bsmtp will try to use your username.</p>

<p style="margin-top: 1em">-h mailhost:port <br>
Use mailhost:port as the SMTP server. (default port: 25)</p>

<p style="margin-top: 1em">-s Set the Subject: header.</p>

<p style="margin-top: 1em">-r Set the Reply-To::
header.</p>

<p style="margin-top: 1em">-l Set the maximum number of
lines to be sent. (default: unlimited)</p>

<p style="margin-top: 1em">-? Show version and usage of
program.</p>

<p style="margin-top: 1em">USAGE <br>
recipients is a space separated list of email addresses.</p>

<p style="margin-top: 1em">The body of the email message is
read from standard input. Message is ended by sending the
EOF character (Ctrl-D on many systems) on the start of a new
line, much like many <br>
&rsquo;mail&rsquo; commands.</p>

<p style="margin-top: 1em">The actual, automated behavior
of bsmtp will depend on the mail-related configuration of
the Director in the Messages resource of
bacula-dir.conf.</p>

<p style="margin-top: 1em">Interactive use of bsmtp is
pertinent to manually test and ensure these configuration
bits are valid. This is highly recommended.</p>

<p style="margin-top: 1em">CONFIGURATION <br>
These commands should each appear on a single line in the
configuration file.</p>

<p style="margin-top: 1em">Messages { <br>
Name = Standard <br>
mailcommand = &quot;/home/bacula/bin/bsmtp -h
mail.domain.com -f <br>
-s <br>
operatorcommand = &quot;/home/bacula/bin/bsmtp -h
mail.domain.com -f <br>
-s <br>
mail = sysadmin@site.domain.com = all, !skipped <br>
operator = sysop@site.domain.com = mount <br>
console = all, !skipped, !saved <br>
}</p>

<p style="margin-top: 1em">home/bacula/bin is replaced with
the path to the Bacula binary directory, and mail.domain.com
is replaced with the fully qualified name of an SMTP server,
which usually listen on <br>
port 25.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
If the -h option is not specified, bsmtp will use
environment variable SMTPSERVER, or &rsquo;localhost&rsquo;
if not set.</p>

<p style="margin-top: 1em">NOTES <br>
Since bsmtp always uses a TCP connection rather than writing
to a spool file, you may find that your From: address is
being rejected because it does not contain a valid domain,
<br>
or because your message has gotten caught in spam filtering
rules. Generally, you should specify a fully qualified
domain name in the from field, and depending on whether your
<br>
SMTP gateway is Exim or Sendmail, you may need to modify the
syntax of the from part of the message.</p>

<p style="margin-top: 1em">If bsmtp cannot connect to the
specified mail host, it will retry to connect to
localhost.</p>

<p style="margin-top: 1em">BUGS <br>
If you are getting incorrect dates (e.g. 1970) and you are
running with a non-English locale, you might try setting the
LANG=&quot;en_US&quot; environment variable.</p>

<p style="margin-top: 1em">AUTHOR <br>
This manual page was written by Jose Luis Tallon
&lt;jltallon@adv-solutions.net&gt;, revised and edited by
Lucas B. Cohen &lt;lbc@members.fsf.org&gt;.</p>

<p style="margin-top: 1em">SEE ALSO <br>
bacula-dir(8)</p>

<p style="margin-top: 1em">Kern Sibbald 3 July 2012
BSMTP(1)</p>
<hr>
</body>
</html>
