<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:18:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>INOTICOMING(1) INOTICOMING INOTICOMING(1)</p>

<p style="margin-top: 1em">NAME <br>
inoticoming - trigger actions when files hit an incoming
directory</p>

<p style="margin-top: 1em">SYNOPSIS <br>
inoticoming [ global-options ] directory actions*</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Inoticoming is a daemon to watch a directory with
Linux&rsquo;s inotify framework and trigger actions once
files with specific names are placed in there.</p>

<p style="margin-top: 1em">For example it can be used to
wait for .changes files uploaded into a directory and call
reprepro to put them into your repository.</p>

<p style="margin-top: 1em">GLOBAL OPTIONS <br>
--foreground <br>
Do not fork, but stay in the foreground and log to
stderr.</p>

<p style="margin-top: 1em">--logfile filename <br>
After forking in the background, log to the specified
filename instead of syslog.</p>

<p style="margin-top: 1em">--pid-file filename <br>
Write the pid of the running instance into filename.</p>

<p style="margin-top: 1em">--initialsearch <br>
First search the directory for files already existing and
process them with the given rules as if they just appeared.
If files show up in this inital phase, they may be <br>
processed twice, but should never be missed. (Unless they
are too many and the inotify queue overflows).</p>

<p style="margin-top: 1em">ACTIONS <br>
Each action description is an optional list of options for
this action (which files to call it for, what directory to
change into before executing it, ...), followed by the
com&acirc; <br>
mand and its arguments ended with a single ; as argument.
Like: <br>
inoticoming --foreground / --regexp ^v echo There appeared
{} in the root directory. ; (Note that the &nbsp;before the
; is needed if and only if you calling it from a shell or
any&acirc; <br>
thing else interpreting the ; on its own).</p>

<p style="margin-top: 1em">ACTION OPTIONS <br>
--prefix string <br>
Only trigger this action, if the filename starts with the
specified string.</p>

<p style="margin-top: 1em">--suffix string <br>
Only trigger this action, if the filename ends with the
specified string.</p>

<p style="margin-top: 1em">--regexp regular expression <br>
Only trigger this action, if the filename matches the
specified regular expression.</p>

<p style="margin-top: 1em">--chdir directory <br>
Change into directory before executing the specified
commands. (Note that since it is a well-behaved daemon, its
working directory is / which will be inherited by all <br>
actions).</p>

<p style="margin-top: 1em">--stdout-to-log <br>
Redirect the command&rsquo;s output (stdout) to the
logfile.</p>

<p style="margin-top: 1em">--stderr-to-log <br>
Redirect the command&rsquo;s error output (stderr) to the
logfile.</p>

<p style="margin-top: 1em">EXAMPLES <br>
inoticoming --logfile logs/ilog --pid-file pid $INCOMINGDIR
--suffix .changes --stderr-to-log reprepro -s -b
$REPREPROBASEDIR --waitforlock 1000 processincoming rulename
{} ; <br>
This will call reprepro for every new .changes file. Note
that giving {} as argument to processincoming (which
inoticoming will replace with the filename) so that only
<br>
that .changes file is processed and reprepro will not
complain about a possible other yet incomplete .changes file
is only available starting with reprepro version 2.2.2.</p>

<p style="margin-top: 1em">PROBLEMS <br>
There is no handling of queue overflows yet.</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs or wishlist requests to the Debian BTS <br>
(e.g. by using reportbug inoticoming under Debian) <br>
or directly to &lt;brlink@debian.org&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2007 Bernhard R. Link <br>
This is free software; see the source for copying
conditions. There is NO warranty; not even for
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>

<p style="margin-top: 1em">inoticoming 2007-08-18
INOTICOMING(1)</p>
<hr>
</body>
</html>
