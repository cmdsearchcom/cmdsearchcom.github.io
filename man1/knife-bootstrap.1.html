<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KNIFE-BOOTSTRAP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KNIFE-BOOTSTRAP(1)</td>
    <td class="head-vol">knife bootstrap</td>
    <td class="head-rtitle">KNIFE-BOOTSTRAP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
knife-bootstrap - The man page for the knife bootstrap subcommand.
<div style="height: 1.00em;">&#x00A0;</div>
A bootstrap is a process that installs the chef-client on a target system so
  that it can run as a chef-client and communicate with a Chef server.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>knife bootstrap</b> subcommand is used to run a bootstrap operation that
  installs the chef-client on the target system. The bootstrap operation must
  specify the IP address or FQDN of the target system.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This subcommand has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife bootstrap FQDN_or_IP_ADDRESS (options)
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This subcommand has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-A</b>, <b>--forward-agent</b></b></dt>
  <dd class="It-tag">Use to enable SSH agent forwarding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-curl-options OPTIONS</b></b></dt>
  <dd class="It-tag">Use to specify arbitrary options to be added to the
      bootstrap command when using cURL. This option may not be used in the same
      command with <b>--bootstrap-install-command</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-install-command COMMAND</b></b></dt>
  <dd class="It-tag">Use to execute a custom installation command sequence for
      the chef-client. This option may not be used in the same command with
      <b>--bootstrap-curl-options</b>, <b>--bootstrap-install-sh</b>, or
      <b>--bootstrap-wget-options</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-install-sh URL</b></b></dt>
  <dd class="It-tag">Use to fetch and execute an installation script at the
      specified URL. This option may not be used in the same command with
      <b>--bootstrap-install-command</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-no-proxy NO_PROXY_URL_or_IP</b></b></dt>
  <dd class="It-tag">A URL or IP address that specifies a location that should
      not be proxied.
    <div style="height: 1.00em;">&#x00A0;</div>
     <b>NOTE:</b></dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">This option is used internally by Chef to help
  verify bootstrap operations during testing and should never be used during an
  actual bootstrap operation.</div>
<br/>
</div>
<br/>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-proxy PROXY_URL</b></b></dt>
  <dd class="It-tag">The proxy server for the node that is the target of a
      bootstrap operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-version VERSION</b></b></dt>
  <dd class="It-tag">The version of the chef-client to install.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--bootstrap-wget-options OPTIONS</b></b></dt>
  <dd class="It-tag">Use to specify arbitrary options to be added to the
      bootstrap command when using GNU Wget. This option may not be used in the
      same command with <b>--bootstrap-install-command</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-E ENVIRONMENT</b>, <b>--environment
    ENVIRONMENT</b></b></dt>
  <dd class="It-tag">The name of the environment. When this option is added to a
      command, the command will run only against the named environment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-G GATEWAY</b>, <b>--ssh-gateway GATEWAY</b></b></dt>
  <dd class="It-tag">The SSH tunnel or gateway that is used to run a bootstrap
      action on a machine that is not accessible from the workstation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--hint HINT_NAME[=HINT_FILE]</b></b></dt>
  <dd class="It-tag">Use to specify an Ohai hint to be set on the target node.
    <div style="height: 1.00em;">&#x00A0;</div>
    Ohai hints are used to tell Ohai something about the system that it is
      running on that it would not be able to discover itself. An Ohai hint
      exists if a JSON file exists in the hint directory with the same name as
      the hint. For example, calling <b>hint?('antartica')</b> in an Ohai plugin
      would return an empty hash if the file <b>antartica.json</b> existed in
      the hints directory, and return nil if the file does not exist.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the hint file contains JSON content, it will be returned as a hash from
      the call to <b>hint?</b>.</dd>
</dl>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
{
  &quot;snow&quot;: true,
  &quot;penguins&quot;: &quot;many&quot;
}
</pre>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 7.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
arctic_hint = hint?('antartica')
if arctic_hint['snow']
  &quot;There are #{arctic_hint['penguins']} penguins here.&quot;
else
  &quot;There is no snow here, and penguins like snow.&quot;
end
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The default directory in which hint files are located is
  <b>/etc/chef/ohai/hints/</b>. Use the <b>Ohai::Config[:hints_path]</b> setting
  in the client.rb file to customize this location.
<div style="height: 1.00em;">&#x00A0;</div>
<b>HINT_FILE</b> is the name of the JSON file. <b>HINT_NAME</b> is the name of a
  hint in a JSON file. Use multiple <b>--hint</b> options to specify multiple
  hints.
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-i IDENTITY_FILE</b>, <b>--identity-file
    IDENTITY_FILE</b></b></dt>
  <dd class="It-tag">The SSH identity file used for authentication. Key-based
      authentication is recommended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-j JSON_ATTRIBS</b>, <b>--json-attributes
    JSON_ATTRIBS</b></b></dt>
  <dd class="It-tag">A JSON string that is added to the first run of a
      chef-client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-N NAME</b>, <b>--node-name NAME</b></b></dt>
  <dd class="It-tag">The name of the node.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]host-key-verify</b></b></dt>
  <dd class="It-tag">Use <b>--no-host-key-verify</b> to disable host key
      verification. Default setting: <b>--host-key-verify</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]node-verify-api-cert</b></b></dt>
  <dd class="It-tag">Use <b>verify_api_cert</b> to only do SSL validation of the
      Chef server connection; may be needed if the chef-client needs to talk to
      other services that have broken SSL certificates. If this option is not
      specified, the setting for <b>verify_api_cert</b> in the configuration
      file is applied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--node-ssl-verify-mode PEER_OR_NONE</b></b></dt>
  <dd class="It-tag">The verify mode for HTTPS requests.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <b>:verify_none</b> to do no validation of SSL certificates.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use <b>:verify_peer</b> to do validation of all SSL certificates, including
      the Chef server connections, S3 connections, and any HTTPS
      <b>remote_file</b> resource URLs used in the chef-client run. This is the
      recommended setting.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this option is not specified, the setting for <b>ssl_verify_mode</b> in
      the configuration file is applied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-p PORT</b>, <b>--ssh-port PORT</b></b></dt>
  <dd class="It-tag">The SSH port.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-P PASSWORD</b>, <b>--ssh-password
    PASSWORD</b></b></dt>
  <dd class="It-tag">The SSH password. This can be used to pass the password
      directly on the command line. If this option is not specified (and a
      password is required) knife will prompt for the password.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--prerelease</b></b></dt>
  <dd class="It-tag">Use to install pre-release gems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-r RUN_LIST</b>, <b>--run-list RUN_LIST</b></b></dt>
  <dd class="It-tag">A comma-separated list of roles and/or recipes to be
      applied.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--secret SECRET</b></b></dt>
  <dd class="It-tag">The encryption key that is used for values contained within
      a data bag item.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--secret-file FILE</b></b></dt>
  <dd class="It-tag">The path to the file that contains the encryption key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--sudo</b></b></dt>
  <dd class="It-tag">Use to execute a bootstrap operation with sudo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-t TEMPLATE</b>, <b>--bootstrap-template
    TEMPLATE</b></b></dt>
  <dd class="It-tag">Use to specify the bootstrap template to use. This may
      specify the name of a bootstrap template--- <b>chef-full</b>, for
      example---or it may specify the full path to an Embedded Ruby (ERB)
      template that defines a custom bootstrap. Default value: <b>chef-full</b>,
      which installs the chef-client using the omnibus installer on all
      supported platforms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--use-sudo-password</b></b></dt>
  <dd class="It-tag">Use to perform a bootstrap operation with sudo; specify the
      password with the <b>-P</b> (or <b>--ssh-password</b>) option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-V -V</b></b></dt>
  <dd class="It-tag">Use to run the initial chef-client run at the <b>debug</b>
      log-level (e.g. <b>chef-client -l debug</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-x USERNAME</b>, <b>--ssh-user USERNAME</b></b></dt>
  <dd class="It-tag">The SSH user name.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife bootstrap 192.168.1.1 -x username -P PASSWORD --sudo
</pre>
</div>
<br/>
</div>
<br/>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife bootstrap 192.168.1.1 -x username -i ~/.ssh/id_rsa --sudo
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Chef</div>
<table class="foot">
  <tr>
    <td class="foot-date">Chef 12.0</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
