<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:38:09 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SMBCLIENT(1) User Commands SMBCLIENT(1)</p>

<p style="margin-top: 1em">NAME <br>
smbclient - ftp-like client to access SMB/CIFS resources on
servers</p>

<p style="margin-top: 1em">SYNOPSIS <br>
smbclient [-b &lt;buffer size&gt;] [-d debuglevel] [-e] [-L
&lt;netbios name&gt;] [-U username] [-I destinationIP] [-M
&lt;netbios name&gt;] [-m maxprotocol] [-A authfile] [-N]
[-C] [-g] <br>
[-i scope] [-O &lt;socket options&gt;] [-p port] [-R
&lt;name resolve order&gt;] [-s &lt;smb config file&gt;] [-t
&lt;per-operation timeout in seconds&gt;] [-k] [-P] [-c
&lt;command&gt;]</p>

<p style="margin-top: 1em">smbclient {servicename}
[password] [-b &lt;buffer size&gt;] [-d debuglevel] [-e] [-D
Directory] [-U username] [-W workgroup] [-M &lt;netbios
name&gt;] [-m maxprotocol] [-A authfile] [-N] <br>
[-C] [-g] [-l log-basename] [-I destinationIP] [-E] [-c
&lt;command string&gt;] [-i scope] [-O &lt;socket
options&gt;] [-p port] [-R &lt;name resolve order&gt;] [-s
&lt;smb config file&gt;] <br>
[-t &lt;per-operation timeout in seconds&gt;]
[-T&lt;c|x&gt;IXFqgbNan] [-k]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(7) suite.</p>

<p style="margin-top: 1em">smbclient is a client that can
&rsquo;talk&rsquo; to an SMB/CIFS server. It offers an
interface similar to that of the ftp program (see ftp(1)).
Operations include things like getting files <br>
from the server to the local machine, putting files from the
local machine to the server, retrieving directory
information from the server and so on.</p>

<p style="margin-top: 1em">OPTIONS <br>
servicename <br>
servicename is the name of the service you want to use on
the server. A service name takes the form //server/service
where server is the NetBIOS name of the SMB/CIFS server <br>
offering the desired service and service is the name of the
service offered. Thus to connect to the service
&quot;printer&quot; on the SMB/CIFS server
&quot;smbserver&quot;, you would use the <br>
servicename //smbserver/printer</p>

<p style="margin-top: 1em">Note that the server name
required is NOT necessarily the IP (DNS) host name of the
server ! The name required is a NetBIOS server name, which
may or may not be the same as <br>
the IP hostname of the machine running the server.</p>

<p style="margin-top: 1em">The server name is looked up
according to either the -R parameter to smbclient or using
the name resolve order parameter in the smb.conf(5) file,
allowing an administrator to <br>
change the order and methods by which server names are
looked up.</p>

<p style="margin-top: 1em">password <br>
The password required to access the specified service on the
specified server. If this parameter is supplied, the -N
option (suppress password prompt) is assumed.</p>

<p style="margin-top: 1em">There is no default password. If
no password is supplied on the command line (either by using
this parameter or adding a password to the -U option (see
below)) and the -N <br>
option is not specified, the client will prompt for a
password, even if the desired service does not require one.
(If no password is required, simply press ENTER to provide a
<br>
null password.)</p>

<p style="margin-top: 1em">Note: Some servers (including
OS/2 and Windows for Workgroups) insist on an uppercase
password. Lowercase or mixed case passwords may be rejected
by these servers.</p>

<p style="margin-top: 1em">Be cautious about including
passwords in scripts.</p>

<p style="margin-top: 1em">-R|--name-resolve &lt;name
resolve order&gt; <br>
This option is used by the programs in the Samba suite to
determine what naming services and in what order to resolve
host names to IP addresses. The option takes a <br>
space-separated string of different name resolution
options.</p>

<p style="margin-top: 1em">The options are
:&quot;lmhosts&quot;, &quot;host&quot;, &quot;wins&quot; and
&quot;bcast&quot;. They cause names to be resolved as
follows:</p>

<p style="margin-top: 1em">&Acirc;&middot; lmhosts: Lookup
an IP address in the Samba lmhosts file. If the line in
lmhosts has no name type attached to the NetBIOS name (see
the lmhosts(5) for details) then any <br>
name type matches for lookup.</p>

<p style="margin-top: 1em">&Acirc;&middot; host: Do a
standard host name to IP address resolution, using the
system /etc/hosts, NIS, or DNS lookups. This method of name
resolution is operating system dependent, <br>
for instance on IRIX or Solaris this may be controlled by
the /etc/nsswitch.conf file). Note that this method is only
used if the NetBIOS name type being queried is the <br>
0x20 (server) name type, otherwise it is ignored.</p>

<p style="margin-top: 1em">&Acirc;&middot; wins: Query a
name with the IP address listed in the wins server
parameter. If no WINS server has been specified this method
will be ignored.</p>

<p style="margin-top: 1em">&Acirc;&middot; bcast: Do a
broadcast on each of the known local interfaces listed in
the interfaces parameter. This is the least reliable of the
name resolution methods as it depends on <br>
the target host being on a locally connected subnet.</p>

<p style="margin-top: 1em">If this parameter is not set
then the name resolve order defined in the smb.conf(5) file
parameter (name resolve order) will be used.</p>

<p style="margin-top: 1em">The default order is lmhosts,
host, wins, bcast and without this parameter or any entry in
the name resolve order parameter of the smb.conf(5) file the
name resolution methods <br>
will be attempted in this order.</p>

<p style="margin-top: 1em">-M|--message NetBIOS name <br>
This options allows you to send messages, using the
&quot;WinPopup&quot; protocol, to another computer. Once a
connection is established you then type your message,
pressing ^D <br>
(control-D) to end.</p>

<p style="margin-top: 1em">If the receiving computer is
running WinPopup the user will receive the message and
probably a beep. If they are not running WinPopup the
message will be lost, and no error <br>
message will occur.</p>

<p style="margin-top: 1em">The message is also
automatically truncated if the message is over 1600 bytes,
as this is the limit of the protocol.</p>

<p style="margin-top: 1em">One useful trick is to pipe the
message through smbclient. For example: smbclient -M FRED
&lt; mymessage.txt will send the message in the file
mymessage.txt to the machine FRED.</p>

<p style="margin-top: 1em">You may also find the -U and -I
options useful, as they allow you to control the FROM and TO
parts of the message.</p>

<p style="margin-top: 1em">See the message command
parameter in the smb.conf(5) for a description of how to
handle incoming WinPopup messages in Samba.</p>

<p style="margin-top: 1em">Note: Copy WinPopup into the
startup group on your WfWg PCs if you want them to always be
able to receive messages.</p>

<p style="margin-top: 1em">-p|--port port <br>
This number is the TCP port number that will be used when
making connections to the server. The standard (well-known)
TCP port number for an SMB/CIFS server is 139, which is <br>
the default.</p>

<p style="margin-top: 1em">-g|--grepable <br>
This parameter provides combined with -L easy parseable
output that allows processing with utilities such as grep
and cut.</p>

<p style="margin-top: 1em">-m|--max-protocol protocol <br>
This allows the user to select the highest SMB protocol
level that smbclient will use to connect to the server. By
default this is set to NT1, which is the highest available
<br>
SMB1 protocol. To connect using SMB2 or SMB3 protocol, use
the strings SMB2 or SMB3 respectively. Note that to connect
to a Windows 2012 server with encrypted transport <br>
selecting a max-protocol of SMB3 is required.</p>

<p style="margin-top: 1em">-P|--machine-pass <br>
Make queries to the external server using the machine
account of the local server.</p>

<p style="margin-top: 1em">-I|--ip-address IP-address <br>
IP address is the address of the server to connect to. It
should be specified in standard &quot;a.b.c.d&quot;
notation.</p>

<p style="margin-top: 1em">Normally the client would
attempt to locate a named SMB/CIFS server by looking it up
via the NetBIOS name resolution mechanism described above in
the name resolve order <br>
parameter above. Using this parameter will force the client
to assume that the server is on the machine with the
specified IP address and the NetBIOS name component of the
<br>
resource being connected to will be ignored.</p>

<p style="margin-top: 1em">There is no default for this
parameter. If not supplied, it will be determined
automatically by the client as described above.</p>

<p style="margin-top: 1em">-E|--stderr <br>
This parameter causes the client to write messages to the
standard error stream (stderr) rather than to the standard
output stream.</p>

<p style="margin-top: 1em">By default, the client writes
messages to standard output - typically the user&rsquo;s
tty.</p>

<p style="margin-top: 1em">-L|--list <br>
This option allows you to look at what services are
available on a server. You use it as smbclient -L host and a
list should appear. The -I option may be useful if your <br>
NetBIOS names don&rsquo;t match your TCP/IP DNS host names
or if you are trying to reach a host on another network.</p>

<p style="margin-top: 1em">-b|--send-buffer buffersize <br>
When sending or receiving files, smbclient uses an internal
buffer sized by the maximum number of allowed requests to
the connected server. This command allows this size to <br>
be set to any range between 0 (which means use the default
server controlled size) bytes and 16776960 (0xFFFF00) bytes.
Using the server controlled size is the most efficient <br>
as smbclient will pipeline as many simultaneous reads or
writes needed to keep the server as busy as possible.
Setting this to any other size will slow down the transfer.
<br>
This can also be set using the iosize command inside
smbclient.</p>

<p style="margin-top: 1em">-B|--browse <br>
Browse SMB servers using DNS.</p>

<p style="margin-top: 1em">-d|--debuglevel=level <br>
level is an integer from 0 to 10. The default value if this
parameter is not specified is 1.</p>

<p style="margin-top: 1em">The higher this value, the more
detail will be logged to the log files about the activities
of the server. At level 0, only critical errors and serious
warnings will be <br>
logged. Level 1 is a reasonable level for day-to-day running
- it generates a small amount of information about
operations carried out.</p>

<p style="margin-top: 1em">Levels above 1 will generate
considerable amounts of log data, and should only be used
when investigating a problem. Levels above 3 are designed
for use only by developers <br>
and generate HUGE amounts of log data, most of which is
extremely cryptic.</p>

<p style="margin-top: 1em">Note that specifying this
parameter here will override the log level parameter in the
smb.conf file.</p>

<p style="margin-top: 1em">-V|--version <br>
Prints the program version number.</p>


<p style="margin-top: 1em">-s|--configfile=&lt;configuration
file&gt; <br>
The file specified contains the configuration details
required by the server. The information in this file
includes server-specific information such as what printcap
file to <br>
use, as well as descriptions of all the services that the
server is to provide. See smb.conf for more information. The
default configuration file name is determined at <br>
compile time.</p>

<p style="margin-top: 1em">-l|--log-basename=logdirectory
<br>
Base directory name for log/debug files. The extension
&quot;.progname&quot; will be appended (e.g. log.smbclient,
log.smbd, etc...). The log file is never removed by the
client.</p>


<p style="margin-top: 1em">--option=&lt;name&gt;=&lt;value&gt;
<br>
Set the smb.conf(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled-in defaults and options read from the
configuration file.</p>

<p style="margin-top: 1em">-N|--no-pass <br>
If specified, this parameter suppresses the normal password
prompt from the client to the user. This is useful when
accessing a service that does not require a password.</p>

<p style="margin-top: 1em">Unless a password is specified
on the command line or this parameter is specified, the
client will request a password.</p>

<p style="margin-top: 1em">If a password is specified on
the command line and this option is also defined the
password on the command line will be silently ingnored and
no password will be used.</p>

<p style="margin-top: 1em">-k|--kerberos <br>
Try to authenticate with kerberos. Only useful in an Active
Directory environment.</p>

<p style="margin-top: 1em">-C|--use-ccache <br>
Try to use the credentials cached by winbind.</p>


<p style="margin-top: 1em">-A|--authentication-file=filename
<br>
This option allows you to specify a file from which to read
the username and password used in the connection. The format
of the file is</p>

<p style="margin-top: 1em">username = &lt;value&gt; <br>
password = &lt;value&gt; <br>
domain = &lt;value&gt;</p>

<p style="margin-top: 1em">Make certain that the
permissions on the file restrict access from unwanted
users.</p>

<p style="margin-top: 1em">-U|--user=username[%password]
<br>
Sets the SMB username or username and password.</p>

<p style="margin-top: 1em">If %password is not specified,
the user will be prompted. The client will first check the
USER environment variable, then the LOGNAME variable and if
either exists, the <br>
string is uppercased. If these environmental variables are
not found, the username GUEST is used.</p>

<p style="margin-top: 1em">A third option is to use a
credentials file which contains the plaintext of the
username and password. This option is mainly provided for
scripts where the admin does not <br>
wish to pass the credentials on the command line or via
environment variables. If this method is used, make certain
that the permissions on the file restrict access from <br>
unwanted users. See the -A for more details.</p>

<p style="margin-top: 1em">Be cautious about including
passwords in scripts. Also, on many systems the command line
of a running process may be seen via the ps command. To be
safe always allow <br>
rpcclient to prompt for a password and type it in
directly.</p>

<p style="margin-top: 1em">-S|--signing on|off|required
<br>
Set the client signing state.</p>

<p style="margin-top: 1em">-P|--machine-pass <br>
Use stored machine account password.</p>

<p style="margin-top: 1em">-e|--encrypt <br>
This command line parameter requires the remote server
support the UNIX extensions or that the SMB3 protocol has
been selected. Requests that the connection be encrypted.
<br>
Negotiates SMB encryption using either SMB3 or POSIX
extensions via GSSAPI. Uses the given credentials for the
encryption negotiation (either kerberos or NTLMv1/v2 if
given <br>
domain/username/password triple. Fails the connection if
encryption cannot be negotiated.</p>

<p style="margin-top: 1em">--pw-nt-hash <br>
The supplied password is the NT hash.</p>

<p style="margin-top: 1em">-n|--netbiosname &lt;primary
NetBIOS name&gt; <br>
This option allows you to override the NetBIOS name that
Samba uses for itself. This is identical to setting the
netbios name parameter in the smb.conf file. However, a <br>
command line setting will take precedence over settings in
smb.conf.</p>

<p style="margin-top: 1em">-i|--scope &lt;scope&gt; <br>
This specifies a NetBIOS scope that nmblookup will use to
communicate with when generating NetBIOS names. For details
on the use of NetBIOS scopes, see rfc1001.txt and <br>
rfc1002.txt. NetBIOS scopes are very rarely used, only set
this parameter if you are the system administrator in charge
of all the NetBIOS systems you communicate with.</p>

<p style="margin-top: 1em">-W|--workgroup=domain <br>
Set the SMB domain of the username. This overrides the
default domain which is the domain defined in smb.conf. If
the domain specified is the same as the servers NetBIOS <br>
name, it causes the client to log on using the servers local
SAM (as opposed to the Domain SAM).</p>

<p style="margin-top: 1em">-O|--socket-options socket
options <br>
TCP socket options to set on the client socket. See the
socket options parameter in the smb.conf manual page for the
list of valid options.</p>

<p style="margin-top: 1em">-?|--help <br>
Print a summary of command line options.</p>

<p style="margin-top: 1em">--usage <br>
Display brief usage message.</p>

<p style="margin-top: 1em">-t|--timeout
&lt;timeout-seconds&gt; <br>
This allows the user to tune the default timeout used for
each SMB request. The default setting is 20 seconds.
Increase it if requests to the server sometimes time out.
This <br>
can happen when SMB3 encryption is selected and smbclient is
overwhelming the server with requests. This can also be set
using the timeout command inside smbclient.</p>

<p style="margin-top: 1em">-T|--tar tar options <br>
smbclient may be used to create tar(1) compatible backups of
all the files on an SMB/CIFS share. The secondary tar flags
that can be given to this option are:</p>

<p style="margin-top: 1em">&Acirc;&middot; c - Create a tar
backup archive on the local system. Must be followed by the
name of a tar file, tape device or &quot;-&quot; for
standard output. If using standard output you must <br>
turn the log level to its lowest value -d0 to avoid
corrupting your tar file. This flag is mutually exclusive
with the x flag.</p>

<p style="margin-top: 1em">&Acirc;&middot; x - Extract
(restore) a local tar file back to a share. Unless the -D
option is given, the tar files will be restored from the top
level of the share. Must be followed by <br>
the name of the tar file, device or &quot;-&quot; for
standard input. Mutually exclusive with the c flag. Restored
files have their creation times (mtime) set to the date
saved in <br>
the tar file. Directories currently do not get their
creation dates restored properly.</p>

<p style="margin-top: 1em">&Acirc;&middot; I - Include
files and directories. Is the default behavior when
filenames are specified above. Causes files to be included
in an extract or create (and therefore <br>
everything else to be excluded). See example below. Filename
globbing works in one of two ways. See r below.</p>

<p style="margin-top: 1em">&Acirc;&middot; X - Exclude
files and directories. Causes files to be excluded from an
extract or create. See example below. Filename globbing
works in one of two ways. See r below.</p>

<p style="margin-top: 1em">&Acirc;&middot; F - File
containing a list of files and directories. The F causes the
name following the tarfile to create to be read as a
filename that contains a list of files and <br>
directories to be included in an extract or create (and
therefore everything else to be excluded). See example
below. Filename globbing works in one of two ways. See r
<br>
below.</p>

<p style="margin-top: 1em">&Acirc;&middot; b - Blocksize.
Must be followed by a valid (greater than zero) blocksize.
Causes tar file to be written out in blocksize*TBLOCK (512
byte) blocks.</p>

<p style="margin-top: 1em">&Acirc;&middot; g - Incremental.
Only back up files that have the archive bit set. Useful
only with the c flag.</p>

<p style="margin-top: 1em">&Acirc;&middot; q - Quiet. Keeps
tar from printing diagnostics as it works. This is the same
as tarmode quiet.</p>

<p style="margin-top: 1em">&Acirc;&middot; r - Use wildcard
matching to include or exclude. Deprecated.</p>

<p style="margin-top: 1em">&Acirc;&middot; N - Newer than.
Must be followed by the name of a file whose date is
compared against files found on the share during a create.
Only files newer than the file specified <br>
are backed up to the tar file. Useful only with the c
flag.</p>

<p style="margin-top: 1em">&Acirc;&middot; a - Set archive
bit. Causes the archive bit to be reset when a file is
backed up. Useful with the g and c flags.</p>

<p style="margin-top: 1em">Tar Long File Names</p>

<p style="margin-top: 1em">smbclient&rsquo;s tar option now
supports long file names both on backup and restore.
However, the full path name of the file must be less than
1024 bytes. Also, when a tar archive is <br>
created, smbclient&rsquo;s tar option places all files in
the archive with relative names, not absolute names.</p>

<p style="margin-top: 1em">Tar Filenames</p>

<p style="margin-top: 1em">All file names can be given as
DOS path names (with &rsquo;\&rsquo; as the component
separator) or as UNIX path names (with &rsquo;/&rsquo; as
the component separator).</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">Restore from tar file backup.tar
into myshare on mypc (no password on share).</p>

<p style="margin-top: 1em">smbclient //mypc/myshare
&quot;&quot; -N -Tx backup.tar</p>

<p style="margin-top: 1em">Restore everything except
users/docs</p>

<p style="margin-top: 1em">smbclient //mypc/myshare
&quot;&quot; -N -TXx backup.tar users/docs</p>

<p style="margin-top: 1em">Create a tar file of the files
beneath users/docs.</p>

<p style="margin-top: 1em">smbclient //mypc/myshare
&quot;&quot; -N -Tc backup.tar users/docs</p>

<p style="margin-top: 1em">Create the same tar file as
above, but now use a DOS path name.</p>

<p style="margin-top: 1em">smbclient //mypc/myshare
&quot;&quot; -N -Tc backup.tar users\docs</p>

<p style="margin-top: 1em">Create a tar file of the files
listed in the file tarlist.</p>

<p style="margin-top: 1em">smbclient //mypc/myshare
&quot;&quot; -N -TcF backup.tar tarlist</p>

<p style="margin-top: 1em">Create a tar file of all the
files and directories in the share.</p>

<p style="margin-top: 1em">smbclient //mypc/myshare
&quot;&quot; -N -Tc backup.tar *</p>

<p style="margin-top: 1em">-D|--directory initial directory
<br>
Change to initial directory before starting. Probably only
of any use with the tar -T option.</p>

<p style="margin-top: 1em">-c|--command command string <br>
command string is a semicolon-separated list of commands to
be executed instead of prompting from stdin. <br>
-N is implied by -c.</p>

<p style="margin-top: 1em">This is particularly useful in
scripts and for printing stdin to the server, e.g. -c
&rsquo;print -&rsquo;.</p>

<p style="margin-top: 1em">OPERATIONS <br>
Once the client is running, the user is presented with a
prompt :</p>

<p style="margin-top: 1em">smb:&gt;</p>

<p style="margin-top: 1em">The backslash (&quot;\&quot;)
indicates the current working directory on the server, and
will change if the current working directory is changed.</p>

<p style="margin-top: 1em">The prompt indicates that the
client is ready and waiting to carry out a user command.
Each command is a single word, optionally followed by
parameters specific to that command. <br>
Command and parameters are space-delimited unless these
notes specifically state otherwise. All commands are
case-insensitive. Parameters to commands may or may not be
case <br>
sensitive, depending on the command.</p>

<p style="margin-top: 1em">You can specify file names which
have spaces in them by quoting the name with double quotes,
for example &quot;a long file name&quot;.</p>

<p style="margin-top: 1em">Parameters shown in square
brackets (e.g., &quot;[parameter]&quot;) are optional. If
not given, the command will use suitable defaults.
Parameters shown in angle brackets (e.g., <br>
&quot;&lt;parameter&gt;&quot;) are required.</p>

<p style="margin-top: 1em">Note that all commands operating
on the server are actually performed by issuing a request to
the server. Thus the behavior may vary from server to
server, depending on how the <br>
server was implemented.</p>

<p style="margin-top: 1em">The commands available are given
here in alphabetical order.</p>

<p style="margin-top: 1em">? [command] <br>
If command is specified, the ? command will display a brief
informative message about the specified command. If no
command is specified, a list of available commands will be
<br>
displayed.</p>

<p style="margin-top: 1em">! [shell command] <br>
If shell command is specified, the ! command will execute a
shell locally and run the specified shell command. If no
command is specified, a local shell will be run.</p>

<p style="margin-top: 1em">allinfo file <br>
The client will request that the server return all known
information about a file or directory (including
streams).</p>

<p style="margin-top: 1em">altname file <br>
The client will request that the server return the
&quot;alternate&quot; name (the 8.3 name) for a file or
directory.</p>

<p style="margin-top: 1em">archive &lt;number&gt; <br>
Sets the archive level when operating on files. 0 means
ignore the archive bit, 1 means only operate on files with
this bit set, 2 means only operate on files with this bit
<br>
set and reset it after operation, 3 means operate on all
files and reset it after operation. The default is 0.</p>

<p style="margin-top: 1em">backup <br>
Toggle the state of the &quot;backup intent&quot; flag sent
to the server on directory listings and file opens. If the
&quot;backup intent&quot; flag is true, the server will try
and bypass some <br>
file system checks if the user has been granted SE_BACKUP or
SE_RESTORE privileges. This state is useful when performing
a backup or restore operation.</p>

<p style="margin-top: 1em">blocksize &lt;number&gt; <br>
Sets the blocksize parameter for a tar operation. The
default is 20. Causes tar file to be written out in
blocksize*TBLOCK (normally 512 byte) units.</p>

<p style="margin-top: 1em">cancel jobid0 [jobid1] ...
[jobidN] <br>
The client will request that the server cancel the printjobs
identified by the given numeric print job ids.</p>

<p style="margin-top: 1em">case_sensitive <br>
Toggles the setting of the flag in SMB packets that tells
the server to treat filenames as case sensitive. Set to OFF
by default (tells file server to treat filenames as case
<br>
insensitive). Only currently affects Samba 3.0.5 and above
file servers with the case sensitive parameter set to auto
in the smb.conf.</p>

<p style="margin-top: 1em">cd &lt;directory name&gt; <br>
If &quot;directory name&quot; is specified, the current
working directory on the server will be changed to the
directory specified. This operation will fail if for any
reason the <br>
specified directory is inaccessible.</p>

<p style="margin-top: 1em">If no directory name is
specified, the current working directory on the server will
be reported.</p>

<p style="margin-top: 1em">chmod file mode in octal <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server change the UNIX permissions <br>
to the given octal mode, in standard UNIX format.</p>

<p style="margin-top: 1em">chown file uid gid <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server change the UNIX user and <br>
group ownership to the given decimal values. Note there is
currently no way to remotely look up the UNIX uid and gid
values for a given name. This may be addressed in future
<br>
versions of the CIFS UNIX extensions.</p>

<p style="margin-top: 1em">close &lt;fileid&gt; <br>
Closes a file explicitly opened by the open command. Used
for internal Samba testing purposes.</p>

<p style="margin-top: 1em">del &lt;mask&gt; <br>
The client will request that the server attempt to delete
all files matching mask from the current working directory
on the server.</p>

<p style="margin-top: 1em">dir &lt;mask&gt; <br>
A list of the files matching mask in the current working
directory on the server will be retrieved from the server
and displayed.</p>

<p style="margin-top: 1em">du &lt;filename&gt; <br>
Does a directory listing and then prints out the current
disk usage and free space on a share.</p>

<p style="margin-top: 1em">echo &lt;number&gt; &lt;data&gt;
<br>
Does an SMBecho request to ping the server. Used for
internal Samba testing purposes.</p>

<p style="margin-top: 1em">exit <br>
Terminate the connection with the server and exit from the
program.</p>

<p style="margin-top: 1em">get &lt;remote file name&gt;
[local file name] <br>
Copy the file called remote file name from the server to the
machine running the client. If specified, name the local
copy local file name. Note that all transfers in <br>
smbclient are binary. See also the lowercase command.</p>

<p style="margin-top: 1em">getfacl &lt;filename&gt; <br>
Requires the server support the UNIX extensions. Requests
and prints the POSIX ACL on a file.</p>

<p style="margin-top: 1em">hardlink &lt;src&gt;
&lt;dest&gt; <br>
Creates a hardlink on the server using Windows CIFS
semantics.</p>

<p style="margin-top: 1em">help [command] <br>
See the ? command above.</p>

<p style="margin-top: 1em">history <br>
Displays the command history.</p>

<p style="margin-top: 1em">iosize &lt;bytes&gt; <br>
When sending or receiving files, smbclient uses an internal
buffer sized by the maximum number of allowed requests to
the connected server. This command allows this size to <br>
be set to any range between 0 (which means use the default
server controlled size) bytes and 16776960 (0xFFFF00) bytes.
Using the server controlled size is the most efficient <br>
as smbclient will pipeline as many simultaneous reads or
writes needed to keep the server as busy as possible.
Setting this to any other size will slow down the
transfer.</p>

<p style="margin-top: 1em">lcd [directory name] <br>
If directory name is specified, the current working
directory on the local machine will be changed to the
directory specified. This operation will fail if for any
reason the <br>
specified directory is inaccessible.</p>

<p style="margin-top: 1em">If no directory name is
specified, the name of the current working directory on the
local machine will be reported.</p>

<p style="margin-top: 1em">link target linkname <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server create a hard link between <br>
the linkname and target files. The linkname file must not
exist.</p>

<p style="margin-top: 1em">listconnect <br>
Show the current connections held for DFS purposes.</p>

<p style="margin-top: 1em">lock &lt;filenum&gt; &lt;r|w&gt;
&lt;hex-start&gt; &lt;hex-len&gt; <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Tries to
set a POSIX fcntl lock of the given type on the given <br>
range. Used for internal Samba testing purposes.</p>

<p style="margin-top: 1em">logon &lt;username&gt;
&lt;password&gt; <br>
Establishes a new vuid for this session by logging on again.
Replaces the current vuid. Prints out the new vuid. Used for
internal Samba testing purposes.</p>

<p style="margin-top: 1em">logoff <br>
Logs the user off the server, closing the session. Used for
internal Samba testing purposes.</p>

<p style="margin-top: 1em">lowercase <br>
Toggle lowercasing of filenames for the get and mget
commands.</p>

<p style="margin-top: 1em">When lowercasing is toggled ON,
local filenames are converted to lowercase when using the
get and mget commands. This is often useful when copying
(say) MSDOS files from a <br>
server, because lowercase filenames are the norm on UNIX
systems.</p>

<p style="margin-top: 1em">ls &lt;mask&gt; <br>
See the dir command above.</p>

<p style="margin-top: 1em">mask &lt;mask&gt; <br>
This command allows the user to set up a mask which will be
used during recursive operation of the mget and mput
commands.</p>

<p style="margin-top: 1em">The masks specified to the mget
and mput commands act as filters for directories rather than
files when recursion is toggled ON.</p>

<p style="margin-top: 1em">The mask specified with the mask
command is necessary to filter files within those
directories. For example, if the mask specified in an mget
command is &quot;source*&quot; and the <br>
mask specified with the mask command is &quot;*.c&quot; and
recursion is toggled ON, the mget command will retrieve all
files matching &quot;*.c&quot; in all directories below and
including all <br>
directories matching &quot;source*&quot; in the current
working directory.</p>

<p style="margin-top: 1em">Note that the value for mask
defaults to blank (equivalent to &quot;*&quot;) and remains
so until the mask command is used to change it. It retains
the most recently specified value <br>
indefinitely. To avoid unexpected results it would be wise
to change the value of mask back to &quot;*&quot; after
using the mget or mput commands.</p>

<p style="margin-top: 1em">md &lt;directory name&gt; <br>
See the mkdir command.</p>

<p style="margin-top: 1em">mget &lt;mask&gt; <br>
Copy all files matching mask from the server to the machine
running the client.</p>

<p style="margin-top: 1em">Note that mask is interpreted
differently during recursive operation and non-recursive
operation - refer to the recurse and mask commands for more
information. Note that all <br>
transfers in smbclient are binary. See also the lowercase
command.</p>

<p style="margin-top: 1em">mkdir &lt;directory name&gt;
<br>
Create a new directory on the server (user access privileges
permitting) with the specified name.</p>

<p style="margin-top: 1em">more &lt;file name&gt; <br>
Fetch a remote file and view it with the contents of your
PAGER environment variable.</p>

<p style="margin-top: 1em">mput &lt;mask&gt; <br>
Copy all files matching mask in the current working
directory on the local machine to the current working
directory on the server.</p>

<p style="margin-top: 1em">Note that mask is interpreted
differently during recursive operation and non-recursive
operation - refer to the recurse and mask commands for more
information. Note that all <br>
transfers in smbclient are binary.</p>

<p style="margin-top: 1em">notify &lt;dir name&gt; <br>
Query a directory for change notifications. This command
issues a recursive filechangenotify call for all possible
changes. As changes come in will print one line per change.
<br>
See https://msdn.microsoft.com/en-us/library/dn392331.aspx
for a description of the action numbers that this command
prints.</p>

<p style="margin-top: 1em">This command never ends, it
waits for event indefinitely.</p>

<p style="margin-top: 1em">posix <br>
Query the remote server to see if it supports the CIFS UNIX
extensions and prints out the list of capabilities
supported. If so, turn on POSIX pathname processing and
large <br>
file read/writes (if available),.</p>

<p style="margin-top: 1em">posix_encrypt &lt;domain&gt;
&lt;username&gt; &lt;password&gt; <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Attempt to
negotiate SMB encryption on this connection. If <br>
smbclient connected with kerberos credentials (-k) the
arguments to this command are ignored and the kerberos
credentials are used to negotiate GSSAPI signing and sealing
<br>
instead. See also the -e option to smbclient to force
encryption on initial connection. This command is new with
Samba 3.2.</p>

<p style="margin-top: 1em">posix_open &lt;filename&gt;
&lt;octal mode&gt; <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Opens a
remote file using the CIFS UNIX extensions and prints a <br>
fileid. Used for internal Samba testing purposes.</p>

<p style="margin-top: 1em">posix_mkdir
&lt;directoryname&gt; &lt;octal mode&gt; <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Creates a
remote directory using the CIFS UNIX extensions with <br>
the given mode.</p>

<p style="margin-top: 1em">posix_rmdir
&lt;directoryname&gt; <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Deletes a
remote directory using the CIFS UNIX extensions.</p>

<p style="margin-top: 1em">posix_unlink &lt;filename&gt;
<br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Deletes a
remote file using the CIFS UNIX extensions.</p>

<p style="margin-top: 1em">print &lt;file name&gt; <br>
Print the specified file from the local machine through a
printable service on the server.</p>

<p style="margin-top: 1em">prompt <br>
Toggle prompting for filenames during operation of the mget
and mput commands.</p>

<p style="margin-top: 1em">When toggled ON, the user will
be prompted to confirm the transfer of each file during
these commands. When toggled OFF, all specified files will
be transferred without <br>
prompting.</p>

<p style="margin-top: 1em">put &lt;local file name&gt;
[remote file name] <br>
Copy the file called local file name from the machine
running the client to the server. If specified, name the
remote copy remote file name. Note that all transfers in
<br>
smbclient are binary. See also the lowercase command.</p>

<p style="margin-top: 1em">queue <br>
Displays the print queue, showing the job id, name, size and
current status.</p>

<p style="margin-top: 1em">quit <br>
See the exit command.</p>

<p style="margin-top: 1em">readlink symlinkname <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Print the
value of the symlink &quot;symlinkname&quot;.</p>

<p style="margin-top: 1em">rd &lt;directory name&gt; <br>
See the rmdir command.</p>

<p style="margin-top: 1em">recurse <br>
Toggle directory recursion for the commands mget and
mput.</p>

<p style="margin-top: 1em">When toggled ON, these commands
will process all directories in the source directory (i.e.,
the directory they are copying from ) and will recurse into
any that match the <br>
mask specified to the command. Only files that match the
mask specified using the mask command will be retrieved. See
also the mask command.</p>

<p style="margin-top: 1em">When recursion is toggled OFF,
only files from the current working directory on the source
machine that match the mask specified to the mget or mput
commands will be copied, <br>
and any mask specified using the mask command will be
ignored.</p>

<p style="margin-top: 1em">rename &lt;old filename&gt;
&lt;new filename&gt; <br>
Rename files in the current working directory on the server
from old filename to new filename.</p>

<p style="margin-top: 1em">rm &lt;mask&gt; <br>
Remove all files matching mask from the current working
directory on the server.</p>

<p style="margin-top: 1em">rmdir &lt;directory name&gt;
<br>
Remove the specified directory (user access privileges
permitting) from the server.</p>

<p style="margin-top: 1em">scopy &lt;source filename&gt;
&lt;destination filename&gt; <br>
Attempt to copy a file on the server using the most
efficient server-side copy calls. Falls back to using read
then write if server doesn&rsquo;t support server-side
copy.</p>

<p style="margin-top: 1em">setmode &lt;filename&gt;
&lt;perm=[+|&minus;]rsha&gt; <br>
A version of the DOS attrib command to set file permissions.
For example:</p>

<p style="margin-top: 1em">setmode myfile +r</p>

<p style="margin-top: 1em">would make myfile read only.</p>

<p style="margin-top: 1em">showconnect <br>
Show the currently active connection held for DFS
purposes.</p>

<p style="margin-top: 1em">stat file <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests the UNIX basic info level and prints out the <br>
same info that the Linux stat command would about the file.
This includes the size, blocks used on disk, file type,
permissions, inode number, number of links and finally the
<br>
three timestamps (access, modify and change). If the file is
a special file (symlink, character or block device, fifo or
socket) then extra information may also be printed.</p>

<p style="margin-top: 1em">symlink target linkname <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server create a symbolic hard link <br>
between the target and linkname files. The linkname file
must not exist. Note that the server will not create a link
to any path that lies outside the currently connected <br>
share. This is enforced by the Samba server.</p>

<p style="margin-top: 1em">tar &lt;c|x&gt;[IXbgNa] <br>
Performs a tar operation - see the -T command line option
above. Behavior may be affected by the tarmode command (see
below). Using g (incremental) and N (newer) will affect <br>
tarmode settings. Note that using the &quot;-&quot; option
with tar x may not work - use the command line option
instead.</p>

<p style="margin-top: 1em">blocksize &lt;blocksize&gt; <br>
Blocksize. Must be followed by a valid (greater than zero)
blocksize. Causes tar file to be written out in
blocksize*TBLOCK (512 byte) blocks.</p>

<p style="margin-top: 1em">tarmode
&lt;full|inc|reset|noreset|system|nosystem|hidden|nohidden&gt;
<br>
Changes tar&rsquo;s behavior with regard to DOS attributes.
There are 4 modes which can be turned on or off.</p>

<p style="margin-top: 1em">Incremental mode (default off).
When off (using full) tar will back up everything regardless
of the archive bit setting. When on (using inc), tar will
only back up files with <br>
the archive bit set.</p>

<p style="margin-top: 1em">Reset mode (default off). When
on (using reset), tar will remove the archive bit on all
files it backs up (implies read/write share). Use noreset to
turn off.</p>

<p style="margin-top: 1em">System mode (default on). When
off, tar will not backup system files. Use nosystem to turn
off.</p>

<p style="margin-top: 1em">Hidden mode (default on). When
off, tar will not backup hidden files. Use nohidden to turn
off.</p>

<p style="margin-top: 1em">timeout &lt;per-operation
timeout in seconds&gt; <br>
This allows the user to tune the default timeout used for
each SMB request. The default setting is 20 seconds.
Increase it if requests to the server sometimes time out.
This <br>
can happen when SMB3 encryption is selected and smbclient is
overwhelming the server with requests.</p>

<p style="margin-top: 1em">unlock &lt;filenum&gt;
&lt;hex-start&gt; &lt;hex-len&gt; <br>
This command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Tries to
unlock a POSIX fcntl lock on the given range. Used for <br>
internal Samba testing purposes.</p>

<p style="margin-top: 1em">volume <br>
Prints the current volume name of the share.</p>

<p style="margin-top: 1em">vuid &lt;number&gt; <br>
Changes the currently used vuid in the protocol to the given
arbitrary number. Without an argument prints out the current
vuid being used. Used for internal Samba testing <br>
purposes.</p>

<p style="margin-top: 1em">tcon &lt;sharename&gt; <br>
Establishes a new tree connect (connection to a share).
Replaces the current tree connect. Prints the new tid (tree
id). Used for internal Samba testing purposes.</p>

<p style="margin-top: 1em">tdis <br>
Close the current share connection (tree disconnect). Used
for internal Samba testing purposes.</p>

<p style="margin-top: 1em">tid &lt;number&gt; <br>
Changes the current tree id (tid) in the protocol to a new
arbitrary number. Without an argument, it prints out the tid
currently used. Used for internal Samba testing <br>
purposes.</p>

<p style="margin-top: 1em">NOTES <br>
Some servers are fussy about the case of supplied usernames,
passwords, share names (AKA service names) and machine
names. If you fail to connect try giving all parameters in
<br>
uppercase.</p>

<p style="margin-top: 1em">It is often necessary to use the
-n option when connecting to some types of servers. For
example OS/2 LanManager insists on a valid NetBIOS name
being used, so you need to supply <br>
a valid name that would be known to the server.</p>

<p style="margin-top: 1em">smbclient supports long file
names where the server supports the LANMAN2 protocol or
above.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
The variable USER may contain the username of the person
using the client. This information is used only if the
protocol level is high enough to support session-level
passwords.</p>

<p style="margin-top: 1em">The variable PASSWD may contain
the password of the person using the client. This
information is used only if the protocol level is high
enough to support session-level <br>
passwords.</p>

<p style="margin-top: 1em">The variable LIBSMB_PROG may
contain the path, executed with system(), which the client
should connect to instead of connecting to a server. This
functionality is primarily <br>
intended as a development aid, and works best when using a
LMHOSTS file</p>

<p style="margin-top: 1em">INSTALLATION <br>
The location of the client program is a matter for
individual system administrators. The following are thus
suggestions only.</p>

<p style="margin-top: 1em">It is recommended that the
smbclient software be installed in the /usr/local/samba/bin/
or /usr/samba/bin/ directory, this directory readable by
all, writeable only by root. The <br>
client program itself should be executable by all. The
client should NOT be setuid or setgid!</p>

<p style="margin-top: 1em">The client log files should be
put in a directory readable and writeable only by the
user.</p>

<p style="margin-top: 1em">To test the client, you will
need to know the name of a running SMB/CIFS server. It is
possible to run smbd(8) as an ordinary user - running that
server as a daemon on a <br>
user-accessible port (typically any port number over 1024)
would provide a suitable test server.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
Most diagnostics issued by the client are logged in a
specified log file. The log file name is specified at
compile time, but may be overridden on the command line.</p>

<p style="margin-top: 1em">The number and nature of
diagnostics available depends on the debug level used by the
client. If you have problems, set the debug level to 3 and
peruse the log files.</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 3.2 of the Samba
suite.</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">The original Samba man pages
were written by Karl Auer. The man page sources were
converted to YODL format (another excellent piece of Open
Source software, available at <br>
ftp://ftp.icce.rug.nl/pub/unix/) and updated for the Samba
2.0 release by Jeremy Allison. The conversion to DocBook for
Samba 2.2 was done by Gerald Carter. The conversion to <br>
DocBook XML 4.2 for Samba 3.0 was done by Alexander
Bokovoy.</p>

<p style="margin-top: 1em">Samba 4.4 05/25/2017
SMBCLIENT(1)</p>
<hr>
</body>
</html>
