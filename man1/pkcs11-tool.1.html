<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PKCS11-TOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PKCS11-TOOL(1)</td>
    <td class="head-vol">OpenSC Tools</td>
    <td class="head-rtitle">PKCS11-TOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pkcs11-tool - utility for managing and using PKCS #11 security tokens
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 12.00ex; text-indent: -12.00ex;"><b>pkcs11-tool</b>
  [ <i>OPTIONS</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>pkcs11-tool</b> utility is used to manage the data objects on smart cards
  and similar PKCS #11 security tokens. Users can list and read PINs, keys and
  certificates stored on the token. User PIN authentication is performed for
  those operations that require it.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--attr-from</b> <i>path</i>
<div style="margin-left: 4.00ex;">Extract information from <i>path</i>
  (DER-encoded certificate file) and create the corresponding attributes when
  writing an object to the token. Example: the certificate subject name is used
  to create the CKA_SUBJECT attribute.</div>
<div class="Pp"></div>
<b>--change-pin</b>, <b>-c</b>
<div style="margin-left: 4.00ex;">Change the user PIN on the token</div>
<div class="Pp"></div>
<b>--hash</b>, <b>-h</b>
<div style="margin-left: 4.00ex;">Hash some data.</div>
<div class="Pp"></div>
<b>--id</b> <i>id</i>, <b>-d</b> <i>id</i>
<div style="margin-left: 4.00ex;">Specify the id of the object to operate
  on.</div>
<div class="Pp"></div>
<b>--init-pin</b>
<div style="margin-left: 4.00ex;">Initializes the user PIN. This option differs
  from --change-pin in that it sets the user PIN for the first time. Once set,
  the user PIN can be changed using <b>--change-pin</b>.</div>
<div class="Pp"></div>
<b>--init-token</b>
<div style="margin-left: 4.00ex;">Initialize a token: set the token label as
  well as a Security Officer PIN (the label must be specified using
  <b>--label</b>).</div>
<div class="Pp"></div>
<b>--input-file</b> <i>path</i>, <b>-i</b> <i>path</i>
<div style="margin-left: 4.00ex;">Specify the path to a file for input.</div>
<div class="Pp"></div>
<b>--keypairgen</b>, <b>-k</b>
<div style="margin-left: 4.00ex;">Generate a new key pair (public and private
  pair.)</div>
<div class="Pp"></div>
<b>--label</b> <i>name</i>, <b>-a</b> <i>name</i>
<div style="margin-left: 4.00ex;">Specify the name of the object to operate on
  (or the token label when <b>--init-token</b> is used).</div>
<div class="Pp"></div>
<b>--list-mechanisms</b>, <b>-M</b>
<div style="margin-left: 4.00ex;">Display a list of mechanisms supported by the
  token.</div>
<div class="Pp"></div>
<b>--list-objects</b>, <b>-O</b>
<div style="margin-left: 4.00ex;">Display a list of objects.</div>
<div class="Pp"></div>
<b>--list-slots</b>, <b>-L</b>
<div style="margin-left: 4.00ex;">Display a list of available slots on the
  token.</div>
<div class="Pp"></div>
<b>--list-token-slots</b>, <b>-T</b>
<div style="margin-left: 4.00ex;">List slots with tokens.</div>
<div class="Pp"></div>
<b>--login</b>, <b>-l</b>
<div style="margin-left: 4.00ex;">Authenticate to the token before performing
  other operations. This option is not needed if a PIN is provided on the
  command line.</div>
<div class="Pp"></div>
<b>--mechanism</b> <i>mechanism</i>, <b>-m</b> <i>mechanism</i>
<div style="margin-left: 4.00ex;">Use the specified <i>mechanism</i> for token
  operations. See <b>-M</b> for a list of mechanisms supported by your
  token.</div>
<div class="Pp"></div>
<b>--module</b> <i>mod</i>
<div style="margin-left: 4.00ex;">Specify a PKCS#11 module (or library) to
  load.</div>
<div class="Pp"></div>
<b>--moz-cert</b> <i>path</i>, <b>-z</b> <i>path</i>
<div style="margin-left: 4.00ex;">Test a Mozilla-like keypair generation and
  certificate request. Specify the <i>path</i> to the certificate file.</div>
<div class="Pp"></div>
<b>--output-file</b> <i>path</i>, <b>-o</b> <i>path</i>
<div style="margin-left: 4.00ex;">Specify the path to a file for output.</div>
<div class="Pp"></div>
<b>--pin</b> <i>pin</i>, <b>-p</b> <i>pin</i>
<div style="margin-left: 4.00ex;">Use the given <i>pin</i> for token operations.
  WARNING: Be careful using this option as other users may be able to read the
  command line from the system or if it is embedded in a script.
<div style="height: 1.00em;">&#x00A0;</div>
This option will also set the <b>--login</b> option.</div>
<div class="Pp"></div>
<b>--set-id</b> <i>id</i>, <b>-e</b> <i>id</i>
<div style="margin-left: 4.00ex;">Set the CKA_ID of the object.</div>
<div class="Pp"></div>
<b>--show-info</b>, <b>-I</b>
<div style="margin-left: 4.00ex;">Display general token information.</div>
<div class="Pp"></div>
<b>--sign</b>, <b>-s</b>
<div style="margin-left: 4.00ex;">Sign some data.</div>
<div class="Pp"></div>
<b>--slot</b> <i>id</i>
<div style="margin-left: 4.00ex;">Specify the id of the slot to use.</div>
<div class="Pp"></div>
<b>--slot-description</b> <i>description</i>
<div style="margin-left: 4.00ex;">Specify the description of the slot to
  use.</div>
<div class="Pp"></div>
<b>--slot-index</b> <i>index</i>
<div style="margin-left: 4.00ex;">Specify the index of the slot to use.</div>
<div class="Pp"></div>
<b>--token-label</b> <i>label</i>
<div style="margin-left: 4.00ex;">Specify the label of token. Will be used the
  first slot, that has the inserted token with this label.</div>
<div class="Pp"></div>
<b>--so-pin</b> <i>pin</i>
<div style="margin-left: 4.00ex;">Use the given <i>pin</i> as the Security
  Officer PIN for some token operations (token initialization, user PIN
  initialization, etc). The same warning as <b>--pin</b> also applies
  here.</div>
<div class="Pp"></div>
<b>--test</b>, <b>-t</b>
<div style="margin-left: 4.00ex;">Perform some tests on the token. This option
  is most useful when used with either <b>--login</b> or <b>--pin</b>.</div>
<div class="Pp"></div>
<b>--type</b> <i>type</i>, <b>-y</b> <i>type</i>
<div style="margin-left: 4.00ex;">Specify the type of object to operate on.
  Examples are cert, privkey and pubkey.</div>
<div class="Pp"></div>
<b>--verbose</b>, <b>-v</b>
<div style="margin-left: 4.00ex;">Cause <b>pkcs11-tool</b> to be more verbose.
<div style="height: 1.00em;">&#x00A0;</div>
NB! This does not affect OpenSC debugging level! To set OpenSC PKCS#11 module
  into debug mode, set the <i>OPENSC_DEBUG</i> environment variable to a
  non-zero number.</div>
<div class="Pp"></div>
<b>--write-object</b> <i>id</i>, <b>-w</b> <i>path</i>
<div style="margin-left: 4.00ex;">Write a key or certificate object to the
  token. <i>path</i> points to the DER-encoded certificate or key file.</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">11/05/2016</td>
    <td class="foot-os">opensc</td>
  </tr>
</table>
</body>
</html>
