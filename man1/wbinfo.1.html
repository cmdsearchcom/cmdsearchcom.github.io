<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>WBINFO(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">WBINFO(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">WBINFO(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
wbinfo - Query information from winbind daemon
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">wbinfo
  [-a&#x00A0;user%password] [--all-domains] [--allocate-gid] [--allocate-uid]
  [-c] [--ccache-save] [--change-user-password] [-D&#x00A0;domain]
  [--dc-info&#x00A0;domain] [--domain&#x00A0;domain]
  [--dsgetdcname&#x00A0;domain] [-g] [--getdcname&#x00A0;domain]
  [--get-auth-user] [-G&#x00A0;gid] [--gid-info&#x00A0;gid]
  [--group-info&#x00A0;group] [--help|-?] [-i&#x00A0;user] [-I&#x00A0;ip]
  [-K&#x00A0;user%password] [--krb5ccname&#x00A0;cctype] [--lanman] [--logoff]
  [--logoff-uid&#x00A0;uid] [--logoff-user&#x00A0;username] [--lookup-sids] [-m]
  [-n&#x00A0;name] [-N&#x00A0;netbios-name] [--ntlmv2] [--online-status]
  [--own-domain] [-p] [-P|--ping-dc] [--pam-logon&#x00A0;user%password]
  [-r&#x00A0;user] [-R|--lookup-rids] [--remove-gid-mapping&#x00A0;gid,sid]
  [--remove-uid-mapping&#x00A0;uid,sid] [-s&#x00A0;sid] [--separator]
  [--sequence] [--set-auth-user&#x00A0;user%password]
  [--set-gid-mapping&#x00A0;gid,sid] [--set-uid-mapping&#x00A0;uid,sid]
  [-S&#x00A0;sid] [--sid-aliases&#x00A0;sid] [--sid-to-fullname&#x00A0;sid]
  [--sids-to-unix-ids&#x00A0;sidlist] [-t] [-u] [--uid-info&#x00A0;uid]
  [--usage] [--user-domgroups&#x00A0;sid] [--user-sidinfo&#x00A0;sid]
  [--user-sids&#x00A0;sid] [-U&#x00A0;uid] [-V] [--verbose]
  [-Y&#x00A0;sid]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This tool is part of the <b>samba</b>(7) suite.
<div class="Pp"></div>
The wbinfo program queries and returns information created and used by the
  <b>winbindd</b>(8) daemon.
<div class="Pp"></div>
The <b>winbindd</b>(8) daemon must be configured and running for the wbinfo
  program to be able to return information.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-a|--authenticate <i>username%password</i>
<div style="margin-left: 4.00ex;">Attempt to authenticate a user via
  <b>winbindd</b>(8). This checks both authentication methods and reports its
  results.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Note</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Do not be tempted to use this functionality for authentication in third-party
  applications. Instead use <b>ntlm_auth</b>(1).
<div style="height: 0.50em;">&#x00A0;</div>
</div>
</div>
<div class="Pp"></div>
--allocate-gid
<div style="margin-left: 4.00ex;">Get a new GID out of idmap</div>
<div class="Pp"></div>
--allocate-uid
<div style="margin-left: 4.00ex;">Get a new UID out of idmap</div>
<div class="Pp"></div>
--all-domains
<div style="margin-left: 4.00ex;">List all domains (trusted and own
  domain).</div>
<div class="Pp"></div>
-c|--change-secret
<div style="margin-left: 4.00ex;">Change the trust account password. May be used
  in conjunction with <b>domain</b> in order to change interdomain trust account
  passwords.</div>
<div class="Pp"></div>
--ccache-save <i>username%password</i>
<div style="margin-left: 4.00ex;">Store user and password for ccache.</div>
<div class="Pp"></div>
--change-user-password <i>username</i>
<div style="margin-left: 4.00ex;">Change the password of a user. The old and new
  password will be prompted.</div>
<div class="Pp"></div>
--dc-info <i>domain</i>
<div style="margin-left: 4.00ex;">Displays information about the current domain
  controller for a domain.</div>
<div class="Pp"></div>
--domain <i>name</i>
<div style="margin-left: 4.00ex;">This parameter sets the domain on which any
  specified operations will performed. If special domain name '.' is used to
  represent the current domain to which <b>winbindd</b>(8) belongs. A '*' as the
  domain name means to enumerate over all domains (NOTE: This can take a long
  time and use a lot of memory).</div>
<div class="Pp"></div>
-D|--domain-info <i>domain</i>
<div style="margin-left: 4.00ex;">Show most of the info we have about the
  specified domain.</div>
<div class="Pp"></div>
--dsgetdcname <i>domain</i>
<div style="margin-left: 4.00ex;">Find a DC for a domain.</div>
<div class="Pp"></div>
--gid-info <i>gid</i>
<div style="margin-left: 4.00ex;">Get group info from gid.</div>
<div class="Pp"></div>
--group-info <i>group</i>
<div style="margin-left: 4.00ex;">Get group info from group name.</div>
<div class="Pp"></div>
-g|--domain-groups
<div style="margin-left: 4.00ex;">This option will list all groups available in
  the Windows NT domain for which the <b>samba</b>(7) daemon is operating in.
  Groups in all trusted domains can be listed with the --domain='*' option. Note
  that this operation does not assign group ids to any groups that have not
  already been seen by <b>winbindd</b>(8).</div>
<div class="Pp"></div>
--get-auth-user
<div style="margin-left: 4.00ex;">Print username and password used by
  <b>winbindd</b>(8) during session setup to a domain controller. Username and
  password can be set using <b>--set-auth-user</b>. Only available for
  root.</div>
<div class="Pp"></div>
--getdcname <i>domain</i>
<div style="margin-left: 4.00ex;">Get the DC name for the specified
  domain.</div>
<div class="Pp"></div>
-G|--gid-to-sid <i>gid</i>
<div style="margin-left: 4.00ex;">Try to convert a UNIX group id to a Windows NT
  SID. If the gid specified does not refer to one within the idmap gid range
  then the operation will fail.</div>
<div class="Pp"></div>
-?
<div style="margin-left: 4.00ex;">Print brief help overview.</div>
<div class="Pp"></div>
-i|--user-info <i>user</i>
<div style="margin-left: 4.00ex;">Get user info.</div>
<div class="Pp"></div>
-I|--WINS-by-ip <i>ip</i>
<div style="margin-left: 4.00ex;">The <i>-I</i> option queries
  <b>winbindd</b>(8) to send a node status request to get the NetBIOS name
  associated with the IP address specified by the <i>ip</i> parameter.</div>
<div class="Pp"></div>
-K|--krb5auth <i>username%password</i>
<div style="margin-left: 4.00ex;">Attempt to authenticate a user via
  Kerberos.</div>
<div class="Pp"></div>
--krb5ccname <i>KRB5CCNAME</i>
<div style="margin-left: 4.00ex;">Allows one to request a sepcific kerberos
  credential cache type used for authentication.</div>
<div class="Pp"></div>
--lanman
<div style="margin-left: 4.00ex;">Use lanman cryptography for user
  authentication.</div>
<div class="Pp"></div>
--logoff
<div style="margin-left: 4.00ex;">Logoff a user.</div>
<div class="Pp"></div>
--logoff-uid <i>UID</i>
<div style="margin-left: 4.00ex;">Define user uid used during logoff
  request.</div>
<div class="Pp"></div>
--logoff-user <i>USERNAME</i>
<div style="margin-left: 4.00ex;">Define username used during logoff
  request.</div>
<div class="Pp"></div>
--lookup-sids <i>SID1,SID2...</i>
<div style="margin-left: 4.00ex;">Looks up SIDs. SIDs must be specified as ASCII
  strings in the traditional Microsoft format. For example,
  S-1-5-21-1455342024-3071081365-2475485837-500.</div>
<div class="Pp"></div>
-m|--trusted-domains
<div style="margin-left: 4.00ex;">Produce a list of domains trusted by the
  Windows NT server <b>winbindd</b>(8) contacts when resolving names. This list
  does not include the Windows NT domain the server is a Primary Domain
  Controller for.</div>
<div class="Pp"></div>
-n|--name-to-sid <i>name</i>
<div style="margin-left: 4.00ex;">The <i>-n</i> option queries
  <b>winbindd</b>(8) for the SID associated with the name specified. Domain
  names can be specified before the user name by using the winbind separator
  character. For example CWDOM1/Administrator refers to the Administrator user
  in the domain CWDOM1. If no domain is specified then the domain used is the
  one specified in the <b>smb.conf</b>(5)<i>workgroup </i> parameter.</div>
<div class="Pp"></div>
-N|--WINS-by-name <i>name</i>
<div style="margin-left: 4.00ex;">The <i>-N</i> option queries
  <b>winbindd</b>(8) to query the WINS server for the IP address associated with
  the NetBIOS name specified by the <i>name</i> parameter.</div>
<div class="Pp"></div>
--ntlmv2
<div style="margin-left: 4.00ex;">Use NTLMv2 cryptography for user
  authentication.</div>
<div class="Pp"></div>
--online-status <i>domain</i>
<div style="margin-left: 4.00ex;">Show whether domains are marked as online or
  offline. An optional domain argument limits the output to the online status of
  a given domain.</div>
<div class="Pp"></div>
--own-domain
<div style="margin-left: 4.00ex;">List own domain.</div>
<div class="Pp"></div>
--pam-logon <i>username%password</i>
<div style="margin-left: 4.00ex;">Attempt to authenticate a user in the same way
  pam_winbind would do.</div>
<div class="Pp"></div>
-p|--ping
<div style="margin-left: 4.00ex;">Check whether <b>winbindd</b>(8) is still
  alive. Prints out either 'succeeded' or 'failed'.</div>
<div class="Pp"></div>
-P|--ping-dc
<div style="margin-left: 4.00ex;">Issue a no-effect command to our DC. This
  checks if our secure channel connection to our domain controller is still
  alive. It has much less impact than wbinfo -t.</div>
<div class="Pp"></div>
-r|--user-groups <i>username</i>
<div style="margin-left: 4.00ex;">Try to obtain the list of UNIX group ids to
  which the user belongs. This only works for users defined on a Domain
  Controller.</div>
<div class="Pp"></div>
-R|--lookup-rids <i>rid1, rid2, rid3...</i>
<div style="margin-left: 4.00ex;">Converts RIDs to names. Uses a comma separated
  list of rids.</div>
<div class="Pp"></div>
--remove-gid-mapping <i>GID,SID</i>
<div style="margin-left: 4.00ex;">Removes an existing GID to SID mapping from
  the database.</div>
<div class="Pp"></div>
--remove-uid-mapping <i>UID,SID</i>
<div style="margin-left: 4.00ex;">Removes an existing UID to SID mapping from
  the database.</div>
<div class="Pp"></div>
-s|--sid-to-name <i>sid</i>
<div style="margin-left: 4.00ex;">Use <i>-s</i> to resolve a SID to a name. This
  is the inverse of the <i>-n </i> option above. SIDs must be specified as ASCII
  strings in the traditional Microsoft format. For example,
  S-1-5-21-1455342024-3071081365-2475485837-500.</div>
<div class="Pp"></div>
--separator
<div style="margin-left: 4.00ex;">Get the active winbind separator.</div>
<div class="Pp"></div>
--sequence
<div style="margin-left: 4.00ex;">This command has been deprecated. Please use
  the --online-status option instead.</div>
<div class="Pp"></div>
--set-auth-user <i>username%password</i>
<div style="margin-left: 4.00ex;">Store username and password used by
  <b>winbindd</b>(8) during session setup to a domain controller. This enables
  winbindd to operate in a Windows 2000 domain with Restrict Anonymous turned on
  (a.k.a. Permissions compatible with Windows 2000 servers only).</div>
<div class="Pp"></div>
--set-gid-mapping <i>GID,SID</i>
<div style="margin-left: 4.00ex;">Create a GID to SID mapping in the
  database.</div>
<div class="Pp"></div>
--set-uid-mapping <i>UID,SID</i>
<div style="margin-left: 4.00ex;">Create a UID to SID mapping in the
  database.</div>
<div class="Pp"></div>
-S|--sid-to-uid <i>sid</i>
<div style="margin-left: 4.00ex;">Convert a SID to a UNIX user id. If the SID
  does not correspond to a UNIX user mapped by <b>winbindd</b>(8) then the
  operation will fail.</div>
<div class="Pp"></div>
--sid-aliases <i>sid</i>
<div style="margin-left: 4.00ex;">Get SID aliases for a given SID.</div>
<div class="Pp"></div>
--sid-to-fullname <i>sid</i>
<div style="margin-left: 4.00ex;">Converts a SID to a full username
  (DOMAIN\username).</div>
<div class="Pp"></div>
--sids-to-unix-ids <i>sid1,sid2,sid3...</i>
<div style="margin-left: 4.00ex;">Resolve SIDs to Unix IDs. SIDs must be
  specified as ASCII strings in the traditional Microsoft format. For example,
  S-1-5-21-1455342024-3071081365-2475485837-500.</div>
<div class="Pp"></div>
-t|--check-secret
<div style="margin-left: 4.00ex;">Verify that the workstation trust account
  created when the Samba server is added to the Windows NT domain is working.
  May be used in conjunction with <b>domain</b> in order to verify interdomain
  trust accounts.</div>
<div class="Pp"></div>
-u|--domain-users
<div style="margin-left: 4.00ex;">This option will list all users available in
  the Windows NT domain for which the <b>winbindd</b>(8) daemon is operating in.
  Users in all trusted domains can be listed with the --domain='*' option. Note
  that this operation does not assign user ids to any users that have not
  already been seen by <b>winbindd</b>(8) .</div>
<div class="Pp"></div>
--uid-info <i>uid</i>
<div style="margin-left: 4.00ex;">Get user info for the user connected to user
  id UID.</div>
<div class="Pp"></div>
--usage
<div style="margin-left: 4.00ex;">Print brief help overview.</div>
<div class="Pp"></div>
--user-domgroups <i>sid</i>
<div style="margin-left: 4.00ex;">Get user domain groups.</div>
<div class="Pp"></div>
--user-sidinfo <i>sid</i>
<div style="margin-left: 4.00ex;">Get user info by sid.</div>
<div class="Pp"></div>
--user-sids <i>sid</i>
<div style="margin-left: 4.00ex;">Get user group SIDs for user.</div>
<div class="Pp"></div>
-U|--uid-to-sid <i>uid</i>
<div style="margin-left: 4.00ex;">Try to convert a UNIX user id to a Windows NT
  SID. If the uid specified does not refer to one within the idmap range then
  the operation will fail.</div>
<div class="Pp"></div>
--verbose
<div style="margin-left: 4.00ex;">Print additional information about the query
  results.</div>
<div class="Pp"></div>
-Y|--sid-to-gid <i>sid</i>
<div style="margin-left: 4.00ex;">Convert a SID to a UNIX group id. If the SID
  does not correspond to a UNIX group mapped by <b>winbindd</b>(8) then the
  operation will fail.</div>
<div class="Pp"></div>
-V|--version
<div style="margin-left: 4.00ex;">Prints the program version number.</div>
<div class="Pp"></div>
-?|--help
<div style="margin-left: 4.00ex;">Print a summary of command line options.</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The wbinfo program returns 0 if the operation succeeded, or 1 if the operation
  failed. If the <b>winbindd</b>(8) daemon is not working wbinfo will always
  return failure.
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page is correct for version 3 of the Samba suite.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>winbindd</b>(8) and <b>ntlm_auth</b>(1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The original Samba software and related utilities were created by Andrew
  Tridgell. Samba is now developed by the Samba Team as an Open Source project
  similar to the way the Linux kernel is developed.
<div class="Pp"></div>
wbinfo and winbindd were written by Tim Potter.
<div class="Pp"></div>
The conversion to DocBook for Samba 2.2 was done by Gerald Carter. The
  conversion to DocBook XML 4.2 for Samba 3.0 was done by Alexander
  Bokovoy.</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/25/2017</td>
    <td class="foot-os">Samba 4.4</td>
  </tr>
</table>
</body>
</html>
