<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>WBINFO(1) User Commands WBINFO(1)</p>

<p style="margin-top: 1em">NAME <br>
wbinfo - Query information from winbind daemon</p>

<p style="margin-top: 1em">SYNOPSIS <br>
wbinfo [-a user%password] [--all-domains] [--allocate-gid]
[--allocate-uid] [-c] [--ccache-save]
[--change-user-password] [-D domain] [--dc-info domain]
[--domain domain] <br>
[--dsgetdcname domain] [-g] [--getdcname domain]
[--get-auth-user] [-G gid] [--gid-info gid] [--group-info
group] [--help|-?] [-i user] [-I ip] [-K user%password] <br>
[--krb5ccname cctype] [--lanman] [--logoff] [--logoff-uid
uid] [--logoff-user username] [--lookup-sids] [-m] [-n name]
[-N netbios-name] [--ntlmv2] [--online-status] <br>
[--own-domain] [-p] [-P|--ping-dc] [--pam-logon
user%password] [-r user] [-R|--lookup-rids]
[--remove-gid-mapping gid,sid] [--remove-uid-mapping
uid,sid] [-s sid] [--separator] <br>
[--sequence] [--set-auth-user user%password]
[--set-gid-mapping gid,sid] [--set-uid-mapping uid,sid] [-S
sid] [--sid-aliases sid] [--sid-to-fullname sid] <br>
[--sids-to-unix-ids sidlist] [-t] [-u] [--uid-info uid]
[--usage] [--user-domgroups sid] [--user-sidinfo sid]
[--user-sids sid] [-U uid] [-V] [--verbose] [-Y sid]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This tool is part of the samba(7) suite.</p>

<p style="margin-top: 1em">The wbinfo program queries and
returns information created and used by the winbindd(8)
daemon.</p>

<p style="margin-top: 1em">The winbindd(8) daemon must be
configured and running for the wbinfo program to be able to
return information.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a|--authenticate username%password <br>
Attempt to authenticate a user via winbindd(8). This checks
both authentication methods and reports its results.</p>

<p style="margin-top: 1em">Note <br>
Do not be tempted to use this functionality for
authentication in third-party applications. Instead use
ntlm_auth(1).</p>

<p style="margin-top: 1em">--allocate-gid <br>
Get a new GID out of idmap</p>

<p style="margin-top: 1em">--allocate-uid <br>
Get a new UID out of idmap</p>

<p style="margin-top: 1em">--all-domains <br>
List all domains (trusted and own domain).</p>

<p style="margin-top: 1em">-c|--change-secret <br>
Change the trust account password. May be used in
conjunction with domain in order to change interdomain trust
account passwords.</p>

<p style="margin-top: 1em">--ccache-save username%password
<br>
Store user and password for ccache.</p>

<p style="margin-top: 1em">--change-user-password username
<br>
Change the password of a user. The old and new password will
be prompted.</p>

<p style="margin-top: 1em">--dc-info domain <br>
Displays information about the current domain controller for
a domain.</p>

<p style="margin-top: 1em">--domain name <br>
This parameter sets the domain on which any specified
operations will performed. If special domain name
&rsquo;.&rsquo; is used to represent the current domain to
which winbindd(8) <br>
belongs. A &rsquo;*&rsquo; as the domain name means to
enumerate over all domains (NOTE: This can take a long time
and use a lot of memory).</p>

<p style="margin-top: 1em">-D|--domain-info domain <br>
Show most of the info we have about the specified
domain.</p>

<p style="margin-top: 1em">--dsgetdcname domain <br>
Find a DC for a domain.</p>

<p style="margin-top: 1em">--gid-info gid <br>
Get group info from gid.</p>

<p style="margin-top: 1em">--group-info group <br>
Get group info from group name.</p>

<p style="margin-top: 1em">-g|--domain-groups <br>
This option will list all groups available in the Windows NT
domain for which the samba(7) daemon is operating in. Groups
in all trusted domains can be listed with the <br>
--domain=&rsquo;*&rsquo; option. Note that this operation
does not assign group ids to any groups that have not
already been seen by winbindd(8).</p>

<p style="margin-top: 1em">--get-auth-user <br>
Print username and password used by winbindd(8) during
session setup to a domain controller. Username and password
can be set using --set-auth-user. Only available for
root.</p>

<p style="margin-top: 1em">--getdcname domain <br>
Get the DC name for the specified domain.</p>

<p style="margin-top: 1em">-G|--gid-to-sid gid <br>
Try to convert a UNIX group id to a Windows NT SID. If the
gid specified does not refer to one within the idmap gid
range then the operation will fail.</p>

<p style="margin-top: 1em">-? <br>
Print brief help overview.</p>

<p style="margin-top: 1em">-i|--user-info user <br>
Get user info.</p>

<p style="margin-top: 1em">-I|--WINS-by-ip ip <br>
The -I option queries winbindd(8) to send a node status
request to get the NetBIOS name associated with the IP
address specified by the ip parameter.</p>

<p style="margin-top: 1em">-K|--krb5auth username%password
<br>
Attempt to authenticate a user via Kerberos.</p>

<p style="margin-top: 1em">--krb5ccname KRB5CCNAME <br>
Allows one to request a sepcific kerberos credential cache
type used for authentication.</p>

<p style="margin-top: 1em">--lanman <br>
Use lanman cryptography for user authentication.</p>

<p style="margin-top: 1em">--logoff <br>
Logoff a user.</p>

<p style="margin-top: 1em">--logoff-uid UID <br>
Define user uid used during logoff request.</p>

<p style="margin-top: 1em">--logoff-user USERNAME <br>
Define username used during logoff request.</p>

<p style="margin-top: 1em">--lookup-sids SID1,SID2... <br>
Looks up SIDs. SIDs must be specified as ASCII strings in
the traditional Microsoft format. For example,
S-1-5-21-1455342024-3071081365-2475485837-500.</p>

<p style="margin-top: 1em">-m|--trusted-domains <br>
Produce a list of domains trusted by the Windows NT server
winbindd(8) contacts when resolving names. This list does
not include the Windows NT domain the server is a Primary
<br>
Domain Controller for.</p>

<p style="margin-top: 1em">-n|--name-to-sid name <br>
The -n option queries winbindd(8) for the SID associated
with the name specified. Domain names can be specified
before the user name by using the winbind separator
character. <br>
For example CWDOM1/Administrator refers to the Administrator
user in the domain CWDOM1. If no domain is specified then
the domain used is the one specified in the <br>
smb.conf(5)workgroup parameter.</p>

<p style="margin-top: 1em">-N|--WINS-by-name name <br>
The -N option queries winbindd(8) to query the WINS server
for the IP address associated with the NetBIOS name
specified by the name parameter.</p>

<p style="margin-top: 1em">--ntlmv2 <br>
Use NTLMv2 cryptography for user authentication.</p>

<p style="margin-top: 1em">--online-status domain <br>
Show whether domains are marked as online or offline. An
optional domain argument limits the output to the online
status of a given domain.</p>

<p style="margin-top: 1em">--own-domain <br>
List own domain.</p>

<p style="margin-top: 1em">--pam-logon username%password
<br>
Attempt to authenticate a user in the same way pam_winbind
would do.</p>

<p style="margin-top: 1em">-p|--ping <br>
Check whether winbindd(8) is still alive. Prints out either
&rsquo;succeeded&rsquo; or &rsquo;failed&rsquo;.</p>

<p style="margin-top: 1em">-P|--ping-dc <br>
Issue a no-effect command to our DC. This checks if our
secure channel connection to our domain controller is still
alive. It has much less impact than wbinfo -t.</p>

<p style="margin-top: 1em">-r|--user-groups username <br>
Try to obtain the list of UNIX group ids to which the user
belongs. This only works for users defined on a Domain
Controller.</p>

<p style="margin-top: 1em">-R|--lookup-rids rid1, rid2,
rid3... <br>
Converts RIDs to names. Uses a comma separated list of
rids.</p>

<p style="margin-top: 1em">--remove-gid-mapping GID,SID
<br>
Removes an existing GID to SID mapping from the
database.</p>

<p style="margin-top: 1em">--remove-uid-mapping UID,SID
<br>
Removes an existing UID to SID mapping from the
database.</p>

<p style="margin-top: 1em">-s|--sid-to-name sid <br>
Use -s to resolve a SID to a name. This is the inverse of
the -n option above. SIDs must be specified as ASCII strings
in the traditional Microsoft format. For example, <br>
S-1-5-21-1455342024-3071081365-2475485837-500.</p>

<p style="margin-top: 1em">--separator <br>
Get the active winbind separator.</p>

<p style="margin-top: 1em">--sequence <br>
This command has been deprecated. Please use the
--online-status option instead.</p>

<p style="margin-top: 1em">--set-auth-user
username%password <br>
Store username and password used by winbindd(8) during
session setup to a domain controller. This enables winbindd
to operate in a Windows 2000 domain with Restrict Anonymous
<br>
turned on (a.k.a. Permissions compatible with Windows 2000
servers only).</p>

<p style="margin-top: 1em">--set-gid-mapping GID,SID <br>
Create a GID to SID mapping in the database.</p>

<p style="margin-top: 1em">--set-uid-mapping UID,SID <br>
Create a UID to SID mapping in the database.</p>

<p style="margin-top: 1em">-S|--sid-to-uid sid <br>
Convert a SID to a UNIX user id. If the SID does not
correspond to a UNIX user mapped by winbindd(8) then the
operation will fail.</p>

<p style="margin-top: 1em">--sid-aliases sid <br>
Get SID aliases for a given SID.</p>

<p style="margin-top: 1em">--sid-to-fullname sid <br>
Converts a SID to a full username (DOMAINsername).</p>

<p style="margin-top: 1em">--sids-to-unix-ids
sid1,sid2,sid3... <br>
Resolve SIDs to Unix IDs. SIDs must be specified as ASCII
strings in the traditional Microsoft format. For example,
S-1-5-21-1455342024-3071081365-2475485837-500.</p>

<p style="margin-top: 1em">-t|--check-secret <br>
Verify that the workstation trust account created when the
Samba server is added to the Windows NT domain is working.
May be used in conjunction with domain in order to <br>
verify interdomain trust accounts.</p>

<p style="margin-top: 1em">-u|--domain-users <br>
This option will list all users available in the Windows NT
domain for which the winbindd(8) daemon is operating in.
Users in all trusted domains can be listed with the <br>
--domain=&rsquo;*&rsquo; option. Note that this operation
does not assign user ids to any users that have not already
been seen by winbindd(8) .</p>

<p style="margin-top: 1em">--uid-info uid <br>
Get user info for the user connected to user id UID.</p>

<p style="margin-top: 1em">--usage <br>
Print brief help overview.</p>

<p style="margin-top: 1em">--user-domgroups sid <br>
Get user domain groups.</p>

<p style="margin-top: 1em">--user-sidinfo sid <br>
Get user info by sid.</p>

<p style="margin-top: 1em">--user-sids sid <br>
Get user group SIDs for user.</p>

<p style="margin-top: 1em">-U|--uid-to-sid uid <br>
Try to convert a UNIX user id to a Windows NT SID. If the
uid specified does not refer to one within the idmap range
then the operation will fail.</p>

<p style="margin-top: 1em">--verbose <br>
Print additional information about the query results.</p>

<p style="margin-top: 1em">-Y|--sid-to-gid sid <br>
Convert a SID to a UNIX group id. If the SID does not
correspond to a UNIX group mapped by winbindd(8) then the
operation will fail.</p>

<p style="margin-top: 1em">-V|--version <br>
Prints the program version number.</p>

<p style="margin-top: 1em">-?|--help <br>
Print a summary of command line options.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The wbinfo program returns 0 if the operation succeeded, or
1 if the operation failed. If the winbindd(8) daemon is not
working wbinfo will always return failure.</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 3 of the Samba
suite.</p>

<p style="margin-top: 1em">SEE ALSO <br>
winbindd(8) and ntlm_auth(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
The original Samba software and related utilities were
created by Andrew Tridgell. Samba is now developed by the
Samba Team as an Open Source project similar to the way the
Linux <br>
kernel is developed.</p>

<p style="margin-top: 1em">wbinfo and winbindd were written
by Tim Potter.</p>

<p style="margin-top: 1em">The conversion to DocBook for
Samba 2.2 was done by Gerald Carter. The conversion to
DocBook XML 4.2 for Samba 3.0 was done by Alexander
Bokovoy.</p>

<p style="margin-top: 1em">Samba 4.4 05/25/2017
WBINFO(1)</p>
<hr>
</body>
</html>
