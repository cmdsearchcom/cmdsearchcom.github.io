<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>storescp(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">storescp(1)</td>
    <td class="head-vol">OFFIS DCMTK</td>
    <td class="head-rtitle">storescp(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
storescp - DICOM storage (C-STORE) SCP
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
storescp [options] [port]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>storescp</b> application implements a Service Class Provider (SCP) for
  the Storage Service Class. It listens on a specific TCP/IP port for incoming
  association requests from a Storage Service Class User (SCU) and can receive
  both DICOM images and other DICOM composite objects. The <b>storescp</b>
  application also supports the Verification Service Class as an SCP.
<h1 class="Sh" title="Sh" id="PARAMETERS"><a class="selflink" href="#PARAMETERS">PARAMETERS</a></h1>
<pre>
port  tcp/ip port number to listen on
      (this parameter is required unless the --inetd option is specified)
</pre>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="general_options"><a class="selflink" href="#general_options">general
  options</a></h2>
<pre>
  -h    --help
          print this help text and exit
<div class="Pp"></div>
        --version
          print version information and exit
<div class="Pp"></div>
        --arguments
          print expanded command line arguments
<div class="Pp"></div>
  -q    --quiet
          quiet mode, print no warnings and errors
<div class="Pp"></div>
  -v    --verbose
          verbose mode, print processing details
<div class="Pp"></div>
  -d    --debug
          debug mode, print debug information
<div class="Pp"></div>
  -ll   --log-level  [l]evel: string constant
          (fatal, error, warn, info, debug, trace)
          use level l for the logger
<div class="Pp"></div>
  -lc   --log-config  [f]ilename: string
          use config file f for the logger
<div class="Pp"></div>
  +v    --verbose-pc
          show presentation contexts in verbose mode
</pre>
<h2 class="Ss" title="Ss" id="multi-process_options"><a class="selflink" href="#multi-process_options">multi-process
  options</a></h2>
<pre>
        --single-process
          single process mode (default)
<div class="Pp"></div>
        --fork
          fork child process for each association
</pre>
<h2 class="Ss" title="Ss" id="network_options"><a class="selflink" href="#network_options">network
  options</a></h2>
<pre>
association negotiation profile from configuration file:
<div class="Pp"></div>
  -xf   --config-file  [f]ilename [p]rofile: string
          use profile p from config file f
<div class="Pp"></div>
preferred network transfer syntaxes (not with --config-file):
<div class="Pp"></div>
  +x=   --prefer-uncompr
          prefer explicit VR local byte order (default)
<div class="Pp"></div>
  +xe   --prefer-little
          prefer explicit VR little endian TS
<div class="Pp"></div>
  +xb   --prefer-big
          prefer explicit VR big endian TS
<div class="Pp"></div>
  +xs   --prefer-lossless
          prefer default JPEG lossless TS
<div class="Pp"></div>
  +xy   --prefer-jpeg8
          prefer default JPEG lossy TS for 8 bit data
<div class="Pp"></div>
  +xx   --prefer-jpeg12
          prefer default JPEG lossy TS for 12 bit data
<div class="Pp"></div>
  +xv   --prefer-j2k-lossless
          prefer JPEG 2000 lossless TS
<div class="Pp"></div>
  +xw   --prefer-j2k-lossy
          prefer JPEG 2000 lossy TS
<div class="Pp"></div>
  +xt   --prefer-jls-lossless
          prefer JPEG-LS lossless TS
<div class="Pp"></div>
  +xu   --prefer-jls-lossy
          prefer JPEG-LS lossy TS
<div class="Pp"></div>
  +xm   --prefer-mpeg2
          prefer MPEG2 Main Profile @ Main Level TS
<div class="Pp"></div>
  +xh   --prefer-mpeg2-high
          prefer MPEG2 Main Profile @ High Level TS
<div class="Pp"></div>
  +xn   --prefer-mpeg4
          prefer MPEG4 AVC/H.264 High Profile / Level 4.1 TS
<div class="Pp"></div>
  +xl   --prefer-mpeg4-bd
          prefer MPEG4 AVC/H.264 BD-compatible HP / Level 4.1 TS
<div class="Pp"></div>
  +xr   --prefer-rle
          prefer RLE lossless TS
<div class="Pp"></div>
  +xd   --prefer-deflated
          prefer deflated explicit VR little endian TS
<div class="Pp"></div>
  +xi   --implicit
          accept implicit VR little endian TS only
<div class="Pp"></div>
  +xa   --accept-all
          accept all supported transfer syntaxes
<div class="Pp"></div>
network host access control (tcp wrapper):
<div class="Pp"></div>
  -ac   --access-full
          accept connections from any host (default)
<div class="Pp"></div>
  +ac   --access-control
          enforce host access control rules
<div class="Pp"></div>
other network options:
<div class="Pp"></div>
  -id   --inetd
          run from inetd super server (not with --fork)
<div class="Pp"></div>
          # not available on all systems (e.g. not on Windows)
<div class="Pp"></div>
  -ta   --acse-timeout  [s]econds: integer (default: 30)
          timeout for ACSE messages
<div class="Pp"></div>
  -td   --dimse-timeout  [s]econds: integer (default: unlimited)
          timeout for DIMSE messages
<div class="Pp"></div>
  -aet  --aetitle  [a]etitle: string
          set my AE title (default: STORESCP)
<div class="Pp"></div>
  -pdu  --max-pdu  [n]umber of bytes: integer (4096..131072)
          set max receive pdu to n bytes (default: 16384)
<div class="Pp"></div>
  -dhl  --disable-host-lookup
          disable hostname lookup
<div class="Pp"></div>
        --refuse
          refuse association
<div class="Pp"></div>
        --reject
          reject association if no implementation class UID
<div class="Pp"></div>
        --ignore
          ignore store data, receive but do not store
<div class="Pp"></div>
        --sleep-after  [s]econds: integer
          sleep s seconds after store (default: 0)
<div class="Pp"></div>
        --sleep-during  [s]econds: integer
          sleep s seconds during store (default: 0)
<div class="Pp"></div>
        --abort-after
          abort association after receipt of C-STORE-RQ
          (but before sending response)
<div class="Pp"></div>
        --abort-during
          abort association during receipt of C-STORE-RQ
<div class="Pp"></div>
  -pm   --promiscuous
          promiscuous mode, accept unknown SOP classes
          (not with --config-file)
<div class="Pp"></div>
  -up   --uid-padding
          silently correct space-padded UIDs
</pre>
<h2 class="Ss" title="Ss" id="transport_layer_security_(TLS)_options"><a class="selflink" href="#transport_layer_security_(TLS)_options">transport
  layer security (TLS) options</a></h2>
<pre>
transport protocol stack:
<div class="Pp"></div>
  -tls  --disable-tls
          use normal TCP/IP connection (default)
<div class="Pp"></div>
  +tls  --enable-tls  [p]rivate key file, [c]ertificate file: string
          use authenticated secure TLS connection
<div class="Pp"></div>
private key password (only with --enable-tls):
<div class="Pp"></div>
  +ps   --std-passwd
          prompt user to type password on stdin (default)
<div class="Pp"></div>
  +pw   --use-passwd  [p]assword: string
          use specified password
<div class="Pp"></div>
  -pw   --null-passwd
          use empty string as password
<div class="Pp"></div>
key and certificate file format:
<div class="Pp"></div>
  -pem  --pem-keys
          read keys and certificates as PEM file (default)
<div class="Pp"></div>
  -der  --der-keys
          read keys and certificates as DER file
<div class="Pp"></div>
certification authority:
<div class="Pp"></div>
  +cf   --add-cert-file  [c]ertificate filename: string
          add certificate file to list of certificates
<div class="Pp"></div>
  +cd   --add-cert-dir  [c]ertificate directory: string
          add certificates in d to list of certificates
<div class="Pp"></div>
ciphersuite:
<div class="Pp"></div>
  +cs   --cipher  [c]iphersuite name: string
          add ciphersuite to list of negotiated suites
<div class="Pp"></div>
  +dp   --dhparam  [f]ilename: string
          read DH parameters for DH/DSS ciphersuites
<div class="Pp"></div>
pseudo random generator:
<div class="Pp"></div>
  +rs   --seed  [f]ilename: string
          seed random generator with contents of f
<div class="Pp"></div>
  +ws   --write-seed
          write back modified seed (only with --seed)
<div class="Pp"></div>
  +wf   --write-seed-file  [f]ilename: string (only with --seed)
          write modified seed to file f
<div class="Pp"></div>
peer authentication:
<div class="Pp"></div>
  -rc   --require-peer-cert
          verify peer certificate, fail if absent (default)
<div class="Pp"></div>
  -vc   --verify-peer-cert
          verify peer certificate if present
<div class="Pp"></div>
  -ic   --ignore-peer-cert
          don't verify peer certificate
</pre>
<h2 class="Ss" title="Ss" id="output_options"><a class="selflink" href="#output_options">output
  options</a></h2>
<pre>
general:
<div class="Pp"></div>
  -od   --output-directory  [d]irectory: string (default: &quot;.&quot;)
          write received objects to existing directory d
<div class="Pp"></div>
bit preserving mode:
<div class="Pp"></div>
  -B    --normal
          allow implicit format conversions (default)
<div class="Pp"></div>
  +B    --bit-preserving
          write data exactly as read
<div class="Pp"></div>
output file format:
<div class="Pp"></div>
  +F    --write-file
          write file format (default)
<div class="Pp"></div>
  -F    --write-dataset
          write data set without file meta information
<div class="Pp"></div>
output transfer syntax
(not with --bit-preserving or compressed transmission):
<div class="Pp"></div>
  +t=   --write-xfer-same
          write with same TS as input (default)
<div class="Pp"></div>
  +te   --write-xfer-little
          write with explicit VR little endian TS
<div class="Pp"></div>
  +tb   --write-xfer-big
          write with explicit VR big endian TS
<div class="Pp"></div>
  +ti   --write-xfer-implicit
          write with implicit VR little endian TS
<div class="Pp"></div>
  +td   --write-xfer-deflated
          write with deflated explicit VR little endian TS
<div class="Pp"></div>
post-1993 value representations (not with --bit-preserving):
<div class="Pp"></div>
  +u    --enable-new-vr
          enable support for new VRs (UN/UT) (default)
<div class="Pp"></div>
  -u    --disable-new-vr
          disable support for new VRs, convert to OB
<div class="Pp"></div>
group length encoding (not with --bit-preserving):
<div class="Pp"></div>
  +g=   --group-length-recalc
          recalculate group lengths if present (default)
<div class="Pp"></div>
  +g    --group-length-create
          always write with group length elements
<div class="Pp"></div>
  -g    --group-length-remove
          always write without group length elements
<div class="Pp"></div>
length encoding in sequences and items (not with --bit-preserving):
<div class="Pp"></div>
  +e    --length-explicit
          write with explicit lengths (default)
<div class="Pp"></div>
  -e    --length-undefined
          write with undefined lengths
<div class="Pp"></div>
data set trailing padding
(not with --write-dataset or --bit-preserving):
<div class="Pp"></div>
  -p    --padding-off
          no padding (default)
<div class="Pp"></div>
  +p    --padding-create  [f]ile-pad [i]tem-pad: integer
          align file on multiple of f bytes and items on
          multiple of i bytes
<div class="Pp"></div>
deflate compression level (only with --write-xfer-deflated/same):
<div class="Pp"></div>
  +cl   --compression-level  [l]evel: integer (default: 6)
          0=uncompressed, 1=fastest, 9=best compression
<div class="Pp"></div>
sorting into subdirectories (not with --bit-preserving):
<div class="Pp"></div>
  -ss   --sort-conc-studies  [p]refix: string
          sort studies using prefix p and a timestamp
<div class="Pp"></div>
  -su   --sort-on-study-uid  [p]refix: string
          sort studies using prefix p and the Study Instance UID
<div class="Pp"></div>
  -sp   --sort-on-patientname
          sort studies using the Patient's Name and a timestamp
<div class="Pp"></div>
filename generation:
<div class="Pp"></div>
  -uf   --default-filenames
          generate filename from instance UID (default)
<div class="Pp"></div>
  +uf   --unique-filenames
          generate unique filenames
<div class="Pp"></div>
  -tn   --timenames
          generate filename from creation time
<div class="Pp"></div>
  -fe   --filename-extension  [e]xtension: string
          append e to all filenames
</pre>
<h2 class="Ss" title="Ss" id="event_options"><a class="selflink" href="#event_options">event
  options</a></h2>
<pre>
  -xcr  --exec-on-reception  [c]ommand: string
          execute command c after having received and processed
          one C-STORE-RQ message
<div class="Pp"></div>
  -xcs  --exec-on-eostudy  [c]ommand: string
          execute command c after having received and processed
          all C-STORE-RQ messages that belong to one study
<div class="Pp"></div>
  -rns  --rename-on-eostudy
          having received and processed all C-STORE-RQ messages
          that belong to one study, rename output files according
          to a certain pattern
<div class="Pp"></div>
  -tos  --eostudy-timeout  [t]imeout: integer
          specifies a timeout of t seconds for end-of-study
          determination
<div class="Pp"></div>
  -xs   --exec-sync
          execute command synchronously in foreground
</pre>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The semantic impacts of the above mentioned options is clear for the majority of
  options. Some particular options, however, are so specific that they need
  detailed descriptions which will be given in this passage.
<div class="Pp"></div>
Option <i>--sort-conc-studies</i> enables a user to sort all received DICOM
  objects into different subdirectories. The sorting will be done with regard to
  the studies the individual objects belong to, i.e. objects that belong to the
  same study will be stored in the same subdirectory. In general, a DICOM object
  d_n+1 is considered to belong to the same study as a DICOM object d_n if and
  only if d_n and d_n+1 show the exact same values in attribute Study Instance
  UID. The names of the resulting subdirectories always start with a prefix p
  which was passed to this option as a parameter. In addition to this prefix,
  the subdirectory names contain time stamp information with regard to the date
  and time of reception of this particular study's first DICOM object. In
  detail, the determination of the subdirectory names pertains to the pattern
<div class="Pp"></div>
<pre>
  [prefix]_[YYYYMMDD]_[HHMMSSPPP]
</pre>
<div class="Pp"></div>
where YYYY refers to year (4 digits), MM to month (01-12), DD to day (01-31), HH
  to hour (00-23), MM to minute (00-59), SS to second (00-59) and PPP to
  milliseconds (000-999). If the prefix is an empty string, the first '_' is
  omitted.
<div class="Pp"></div>
The other <i>--sort-xxx</i> options work in a similar manner, only the
  subdirectory names are created differently. For option
  <i>--sort-on-study-uid</i> the pattern is
<div class="Pp"></div>
<pre>
  [prefix]_[StudyInstanceUID]
</pre>
<div class="Pp"></div>
and for option <i>--sort-on-patientname</i>
<div class="Pp"></div>
<pre>
  [PatientName]_[YYYYMMDD]_[HHMMSSPPP]
</pre>
<div class="Pp"></div>
where 'PatientName' is replaced by 'ANONYMOUS' if the data element is empty or
  absent in the data set. Please note, however, that for option
  <i>--sort-on-study-uid</i> the same subdirectory will be used for all DICOM
  objects that belong to the same study, i.e. in contrast to the other
  <i>--sort-xxx</i> options there is no guarantee that a study directory is ever
  completed.
<div class="Pp"></div>
Option <i>--timenames</i> creates filenames from timestamps corresponding to the
  time, <b>storescp</b> writes a file to disk. The format is
<div class="Pp"></div>
<pre>
  [YYYYMMDDHHMMSSPPP]_[SERIALNO].[MD]
</pre>
<div class="Pp"></div>
where YYYY, MM, DD, HH, MM, SS, PPP are interpreted as described above. If more
  files are created at the same time, SERIALNO is inserted. It consists of a
  4-digit, consecutive number (0000 to 9999). For the first file, that exists
  for a specific time, no number (and no '_') is inserted at all. MD represents
  an identification code (2 letters) for the kind of object stored in the file
  (see notes on <i>--rename-on-eostudy</i>).
<div class="Pp"></div>
Option <i>--filename-extension</i> appends a specified suffix to each filename
  (a dot '.' is not added automatically). This suffix is not appended to the
  filenames created by <i>--rename-on-eostudy</i> to maintain the length of 8
  characters.
<div class="Pp"></div>
Option <i>--exec-on-reception</i> allows one to execute a certain command line
  after having received and processed one DICOM object (through a C-STORE-RQ
  message). The command line to be executed is passed to this option as a
  parameter. The specified command line may contain a number of placeholders
  which will be replaced at run time:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>#p:</b> complete path to the output directory into which
      the last DICOM object was stored (not available with option
      <i>--ignore</i> though)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>#f:</b> filename of the current output file (not
      available with option <i>--ignore</i> though)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>#a:</b> calling application entity title of the peer
      Storage SCU</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>#c:</b> called application entity title used by the peer
      Storage SCU to address <b>storescp</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"><b>#r:</b> calling presentation address, i.e. hostname or
      IP address of the peer Storage SCU</dd>
</dl>
<div class="Pp"></div>
The specified command line is executed as a separate process, so that the
  execution of <b>storescp</b> will not be held back. This behavior can be
  influenced with the <i>--exec-sync</i> option.
<div class="Pp"></div>
Option <i>--exec-on-eostudy</i> allows one to execute a certain command line
  when all DICOM objects that belong to one study have been received by
  <b>storescp</b>. The same placeholders as with <i>--exec-on-reception</i> may
  be used, except for '#f', which is not supported. A study is considered
  complete by <b>storescp</b> when an object belonging to a different study is
  received or the timeout specified with <i>--eostudy-timeout</i> takes place.
  If option <i>--rename-on-eostudy</i> is in force, the renaming takes place
  before the external command is executed.
<div class="Pp"></div>
Option <i>--rename-on-eostudy</i> refers to the above mentioned
  <i>--sort-xxx</i> options and can only be used in combination with one of
  these options. If a user specifies option <i>--rename-on-eostudy</i> and
  <b>storescp</b> determines that all DICOM objects that belong to a certain
  study have been received, all DICOM files that belong to the last study will
  be renamed in the corresponding output directory. The filenames into which the
  files are being renamed will be calculated using the pattern
<div class="Pp"></div>
<pre>
  [prefix][consecutive numbering]
</pre>
<div class="Pp"></div>
where [prefix] is a 2 character prefix that reveals the kind of DICOM object
  stored in the file and [consecutive numbering] is a consecutively numbered,
  6-digit number, starting at '000001'. In general, the question if all DICOM
  objects that belong to one study have been received by <b>storescp</b> will be
  answered positively if and only if two consecutively received DICOM objects
  d_n and d_n+1 do not show the same values in attribute Study Instance UID; in
  such a case, d_n+1 is considered to belong to a new study.
<div class="Pp"></div>
Using option <i>--eostudy-timeout</i> a user can modify the determination
  process to figure out if all DICOM objects that belong to one study have
  already been received by <b>storescp</b>. With regard to this fact, it is
  clear that this option can only be used in combination with at least one of
  the following options: <i>--sort-xxx</i>, <i>--exec-on-eostudy</i> and
  <i>--rename-on-eostudy</i>. If option <i>--eostudy-timeout</i> is specified,
  the end of a study is considered to have occurred not only if two
  consecutively received DICOM objects d_n and d_n+1 do not show the same values
  in attribute Study Instance UID, but also if within a time span of x seconds
  after the reception of a DICOM object d_n, no other DICOM object was received
  over the network. Note that the amount x of seconds (which determines the
  length of this time span) has to be passed to this option as a parameter.
<div class="Pp"></div>
Please note that two consecutive network connections can transfer objects for
  the same study. The study will only be considered complete when an object of a
  different study is received or the <i>--eostudy-timeout</i> is reached. For
  this reason, the options <i>--fork</i> and <i>--inet</i> are incompatible with
  <i>--exec-on-eostudy</i>, <i>--rename-on-eostudy</i> and
  <i>--sort-conc-studies</i>.
<h2 class="Ss" title="Ss" id="DICOM_Conformance"><a class="selflink" href="#DICOM_Conformance">DICOM
  Conformance</a></h2>
The <b>storescp</b> application supports the following SOP Classes as an SCP:
<div class="Pp"></div>
<pre>
VerificationSOPClass                                 1.2.840.10008.1.1
<div class="Pp"></div>
RETIRED_StoredPrintStorage                           1.2.840.10008.5.1.1.27
RETIRED_HardcopyGrayscaleImageStorage                1.2.840.10008.5.1.1.29
RETIRED_HardcopyColorImageStorage                    1.2.840.10008.5.1.1.30
ComputedRadiographyImageStorage                      1.2.840.10008.5.1.4.1.1.1
DigitalXRayImageStorageForPresentation               1.2.840.10008.5.1.4.1.1.1.1
DigitalXRayImageStorageForProcessing                 1.2.840.10008.5.1.4.1.1.1.1.1
DigitalMammographyXRayImageStorageForPresentation    1.2.840.10008.5.1.4.1.1.1.2
DigitalMammographyXRayImageStorageForProcessing      1.2.840.10008.5.1.4.1.1.1.2.1
DigitalIntraOralXRayImageStorageForPresentation      1.2.840.10008.5.1.4.1.1.1.3
DigitalIntraOralXRayImageStorageForProcessing        1.2.840.10008.5.1.4.1.1.1.3.1
CTImageStorage                                       1.2.840.10008.5.1.4.1.1.2
EnhancedCTImageStorage                               1.2.840.10008.5.1.4.1.1.2.1
LegacyConvertedEnhancedCTImageStorage                1.2.840.10008.5.1.4.1.1.2.2
RETIRED_UltrasoundMultiframeImageStorage             1.2.840.10008.5.1.4.1.1.3
UltrasoundMultiframeImageStorage                     1.2.840.10008.5.1.4.1.1.3.1
MRImageStorage                                       1.2.840.10008.5.1.4.1.1.4
EnhancedMRImageStorage                               1.2.840.10008.5.1.4.1.1.4.1
MRSpectroscopyStorage                                1.2.840.10008.5.1.4.1.1.4.2
EnhancedMRColorImageStorage                          1.2.840.10008.5.1.4.1.1.4.3
LegacyConvertedEnhancedMRImageStorage                1.2.840.10008.5.1.4.1.1.4.4
RETIRED_NuclearMedicineImageStorage                  1.2.840.10008.5.1.4.1.1.5
RETIRED_UltrasoundImageStorage                       1.2.840.10008.5.1.4.1.1.6
UltrasoundImageStorage                               1.2.840.10008.5.1.4.1.1.6.1
EnhancedUSVolumeStorage                              1.2.840.10008.5.1.4.1.1.6.2
SecondaryCaptureImageStorage                         1.2.840.10008.5.1.4.1.1.7
MultiframeSingleBitSecondaryCaptureImageStorage      1.2.840.10008.5.1.4.1.1.7.1
MultiframeGrayscaleByteSecondaryCaptureImageStorage  1.2.840.10008.5.1.4.1.1.7.2
MultiframeGrayscaleWordSecondaryCaptureImageStorage  1.2.840.10008.5.1.4.1.1.7.3
MultiframeTrueColorSecondaryCaptureImageStorage      1.2.840.10008.5.1.4.1.1.7.4
RETIRED_StandaloneOverlayStorage                     1.2.840.10008.5.1.4.1.1.8
RETIRED_StandaloneCurveStorage                       1.2.840.10008.5.1.4.1.1.9
DRAFT_WaveformStorage                                1.2.840.10008.5.1.4.1.1.9.1
TwelveLeadECGWaveformStorage                         1.2.840.10008.5.1.4.1.1.9.1.1
GeneralECGWaveformStorage                            1.2.840.10008.5.1.4.1.1.9.1.2
AmbulatoryECGWaveformStorage                         1.2.840.10008.5.1.4.1.1.9.1.3
HemodynamicWaveformStorage                           1.2.840.10008.5.1.4.1.1.9.2.1
CardiacElectrophysiologyWaveformStorage              1.2.840.10008.5.1.4.1.1.9.3.1
BasicVoiceAudioWaveformStorage                       1.2.840.10008.5.1.4.1.1.9.4.1
GeneralAudioWaveformStorage                          1.2.840.10008.5.1.4.1.1.9.4.2
ArterialPulseWaveformStorage                         1.2.840.10008.5.1.4.1.1.9.5.1
RespiratoryWaveformStorage                           1.2.840.10008.5.1.4.1.1.9.6.1
RETIRED_StandaloneModalityLUTStorage                 1.2.840.10008.5.1.4.1.1.10
RETIRED_StandaloneVOILUTStorage                      1.2.840.10008.5.1.4.1.1.11
GrayscaleSoftcopyPresentationStateStorage            1.2.840.10008.5.1.4.1.1.11.1
ColorSoftcopyPresentationStateStorage                1.2.840.10008.5.1.4.1.1.11.2
PseudoColorSoftcopyPresentationStateStorage          1.2.840.10008.5.1.4.1.1.11.3
BlendingSoftcopyPresentationStateStorage             1.2.840.10008.5.1.4.1.1.11.4
XAXRFGrayscaleSoftcopyPresentationStateStorage       1.2.840.10008.5.1.4.1.1.11.5
GrayscalePlanarMPRVolumetricPresentationStateStorage 1.2.840.10008.5.1.4.1.1.11.6
CompositingPlanarMPRVolumetricPresentationStateStor. 1.2.840.10008.5.1.4.1.1.11.7
XRayAngiographicImageStorage                         1.2.840.10008.5.1.4.1.1.12.1
EnhancedXAImageStorage                               1.2.840.10008.5.1.4.1.1.12.1.1
XRayRadiofluoroscopicImageStorage                    1.2.840.10008.5.1.4.1.1.12.2
EnhancedXRFImageStorage                              1.2.840.10008.5.1.4.1.1.12.2.1
RETIRED_XRayAngiographicBiPlaneImageStorage          1.2.840.10008.5.1.4.1.1.12.3
XRay3DAngiographicImageStorage                       1.2.840.10008.5.1.4.1.1.13.1.1
XRay3DCraniofacialImageStorage                       1.2.840.10008.5.1.4.1.1.13.1.2
BreastTomosynthesisImageStorage                      1.2.840.10008.5.1.4.1.1.13.1.3
BreastProjectionXRayImageStorageForPresentation      1.2.840.10008.5.1.4.1.1.13.1.4
BreastProjectionXRayImageStorageForProcessing        1.2.840.10008.5.1.4.1.1.13.1.5
IntravascularOpt.Coh.Tom.ImageStorageForPresentation 1.2.840.10008.5.1.4.1.1.14.1
IntravascularOpt.Coh.Tom.ImageStorageForProcessing   1.2.840.10008.5.1.4.1.1.14.2
NuclearMedicineImageStorage                          1.2.840.10008.5.1.4.1.1.20
ParametricMapStorage                                 1.2.840.10008.5.1.4.1.1.30
RawDataStorage                                       1.2.840.10008.5.1.4.1.1.66
SpatialRegistrationStorage                           1.2.840.10008.5.1.4.1.1.66.1
SpatialFiducialsStorage                              1.2.840.10008.5.1.4.1.1.66.2
DeformableSpatialRegistrationStorage                 1.2.840.10008.5.1.4.1.1.66.3
SegmentationStorage                                  1.2.840.10008.5.1.4.1.1.66.4
SurfaceSegmentationStorage                           1.2.840.10008.5.1.4.1.1.66.5
TractographyResultsStorage                           1.2.840.10008.5.1.4.1.1.66.6
RealWorldValueMappingStorage                         1.2.840.10008.5.1.4.1.1.67
SurfaceScanMeshStorage                               1.2.840.10008.5.1.4.1.1.68.1
SurfaceScanPointCloudStorage                         1.2.840.10008.5.1.4.1.1.68.2
RETIRED_VLImageStorage                               1.2.840.10008.5.1.4.1.1.77.1
VLEndoscopicImageStorage                             1.2.840.10008.5.1.4.1.1.77.1.1
VideoEndoscopicImageStorage                          1.2.840.10008.5.1.4.1.1.77.1.1.1
VLMicroscopicImageStorage                            1.2.840.10008.5.1.4.1.1.77.1.2
VideoMicroscopicImageStorage                         1.2.840.10008.5.1.4.1.1.77.1.2.1
VLSlideCoordinatesMicroscopicImageStorage            1.2.840.10008.5.1.4.1.1.77.1.3
VLPhotographicImageStorage                           1.2.840.10008.5.1.4.1.1.77.1.4
VideoPhotographicImageStorage                        1.2.840.10008.5.1.4.1.1.77.1.4.1
OphthalmicPhotography8BitImageStorage                1.2.840.10008.5.1.4.1.1.77.1.5.1
OphthalmicPhotography16BitImageStorage               1.2.840.10008.5.1.4.1.1.77.1.5.2
StereometricRelationshipStorage                      1.2.840.10008.5.1.4.1.1.77.1.5.3
OphthalmicTomographyImageStorage                     1.2.840.10008.5.1.4.1.1.77.1.5.4
WideFieldOphthalmicPhoto.Stereogr.Proj.ImageStorage  1.2.840.10008.5.1.4.1.1.77.1.5.5
WideFieldOphthalmicPhotogr.3DCoordinatesImageStorage 1.2.840.10008.5.1.4.1.1.77.1.5.6
VLWholeSlideMicroscopyImageStorage                   1.2.840.10008.5.1.4.1.1.77.1.6
RETIRED_VLMultiFrameImageStorage                     1.2.840.10008.5.1.4.1.1.77.2
LensometryMeasurementsStorage                        1.2.840.10008.5.1.4.1.1.78.1
AutorefractionMeasurementsStorage                    1.2.840.10008.5.1.4.1.1.78.2
KeratometryMeasurementsStorage                       1.2.840.10008.5.1.4.1.1.78.3
SubjectiveRefractionMeasurementsStorage              1.2.840.10008.5.1.4.1.1.78.4
VisualAcuityMeasurementsStorage                      1.2.840.10008.5.1.4.1.1.78.5
SpectaclePrescriptionReportStorage                   1.2.840.10008.5.1.4.1.1.78.6
OphthalmicAxialMeasurementsStorage                   1.2.840.10008.5.1.4.1.1.78.7
IntraocularLensCalculationsStorage                   1.2.840.10008.5.1.4.1.1.78.8
MacularGridThicknessAndVolumeReportStorage           1.2.840.10008.5.1.4.1.1.79.1
OphthalmicVisualFieldStaticPerimetryMeasurementsSt.  1.2.840.10008.5.1.4.1.1.80.1
OphthalmicThicknessMapStorage                        1.2.840.10008.5.1.4.1.1.81.1
CornealTopographyMapStorage                          1.2.840.10008.5.1.4.1.1.82.1
DRAFT_SRTextStorage                                  1.2.840.10008.5.1.4.1.1.88.1
DRAFT_SRAudioStorage                                 1.2.840.10008.5.1.4.1.1.88.2
DRAFT_SRDetailStorage                                1.2.840.10008.5.1.4.1.1.88.3
DRAFT_SRComprehensiveStorage                         1.2.840.10008.5.1.4.1.1.88.4
BasicTextSRStorage                                   1.2.840.10008.5.1.4.1.1.88.11
EnhancedSRStorage                                    1.2.840.10008.5.1.4.1.1.88.22
ComprehensiveSRStorage                               1.2.840.10008.5.1.4.1.1.88.33
Comprehensive3DSRStorage                             1.2.840.10008.5.1.4.1.1.88.34
ExtensibleSRStorage                                  1.2.840.10008.5.1.4.1.1.88.35
ProcedureLogStorage                                  1.2.840.10008.5.1.4.1.1.88.40
MammographyCADSRStorage                              1.2.840.10008.5.1.4.1.1.88.50
KeyObjectSelectionDocumentStorage                    1.2.840.10008.5.1.4.1.1.88.59
ChestCADSRStorage                                    1.2.840.10008.5.1.4.1.1.88.65
XRayRadiationDoseSRStorage                           1.2.840.10008.5.1.4.1.1.88.67
RadiopharmaceuticalRadiationDoseSRStorage            1.2.840.10008.5.1.4.1.1.88.68
ColonCADSRStorage                                    1.2.840.10008.5.1.4.1.1.88.69
ImplantationPlanSRDocumentStorage                    1.2.840.10008.5.1.4.1.1.88.70
AcquisitionContextSRStorage                          1.2.840.10008.5.1.4.1.1.88.71
EncapsulatedPDFStorage                               1.2.840.10008.5.1.4.1.1.104.1
EncapsulatedCDAStorage                               1.2.840.10008.5.1.4.1.1.104.2
PositronEmissionTomographyImageStorage               1.2.840.10008.5.1.4.1.1.128
LegacyConvertedEnhancedPETImageStorage               1.2.840.10008.5.1.4.1.1.128.1
RETIRED_StandalonePETCurveStorage                    1.2.840.10008.5.1.4.1.1.129
EnhancedPETImageStorage                              1.2.840.10008.5.1.4.1.1.130
BasicStructuredDisplayStorage                        1.2.840.10008.5.1.4.1.1.131
RTImageStorage                                       1.2.840.10008.5.1.4.1.1.481.1
RTDoseStorage                                        1.2.840.10008.5.1.4.1.1.481.2
RTStructureSetStorage                                1.2.840.10008.5.1.4.1.1.481.3
RTBeamsTreatmentRecordStorage                        1.2.840.10008.5.1.4.1.1.481.4
RTPlanStorage                                        1.2.840.10008.5.1.4.1.1.481.5
RTBrachyTreatmentRecordStorage                       1.2.840.10008.5.1.4.1.1.481.6
RTTreatmentSummaryRecordStorage                      1.2.840.10008.5.1.4.1.1.481.7
RTIonPlanStorage                                     1.2.840.10008.5.1.4.1.1.481.8
RTIonBeamsTreatmentRecordStorage                     1.2.840.10008.5.1.4.1.1.481.9
DICOS_CTImageStorage                                 1.2.840.10008.5.1.4.1.1.501.1
DICOS_DigitalXRayImageStorageForPresentation         1.2.840.10008.5.1.4.1.1.501.2.1
DICOS_DigitalXRayImageStorageForProcessing           1.2.840.10008.5.1.4.1.1.501.2.2
DICOS_ThreatDetectionReportStorage                   1.2.840.10008.5.1.4.1.1.501.3
DICONDE_EddyCurrentImageStorage                      1.2.840.10008.5.1.4.1.1.601.1
DICONDE_EddyCurrentMultiframeImageStorage            1.2.840.10008.5.1.4.1.1.601.2
DRAFT_RTBeamsDeliveryInstructionStorage              1.2.840.10008.5.1.4.34.1
RTBeamsDeliveryInstructionStorage                    1.2.840.10008.5.1.4.34.7
RTBrachyApplicationSetupDeliveryInstructionStorage   1.2.840.10008.5.1.4.34.10
GenericImplantTemplateStorage                        1.2.840.10008.5.1.4.43.1
ImplantAssemblyTemplateStorage                       1.2.840.10008.5.1.4.44.1
ImplantTemplateGroupStorage                          1.2.840.10008.5.1.4.45.1
</pre>
<div class="Pp"></div>
The <b>storescp</b> application will accept presentation contexts for all of the
  abovementioned supported SOP Classes using any of the following transfer
  syntaxes:
<div class="Pp"></div>
<pre>
LittleEndianImplicitTransferSyntax                   1.2.840.10008.1.2
LittleEndianExplicitTransferSyntax                   1.2.840.10008.1.2.1
BigEndianExplicitTransferSyntax                      1.2.840.10008.1.2.2
</pre>
<div class="Pp"></div>
The default behavior of the <b>storescp</b> application is to prefer transfer
  syntaxes having an explicit encoding over the default implicit transfer
  syntax. If <b>storescp</b> is running on big-endian hardware it will prefer
  BigEndianExplicit to LittleEndianExplicit transfer syntax (and vice versa).
  This behavior can be changed with the <i>--prefer</i> options (see above).
  Using option <i>--accept-all</i> any of the following transfer syntaxes is
  supported:
<div class="Pp"></div>
<pre>
LittleEndianImplicitTransferSyntax                   1.2.840.10008.1.2
LittleEndianExplicitTransferSyntax                   1.2.840.10008.1.2.1
DeflatedExplicitVRLittleEndianTransferSyntax         1.2.840.10008.1.2.1.99
BigEndianExplicitTransferSyntax                      1.2.840.10008.1.2.2
JPEGProcess1TransferSyntax                           1.2.840.10008.1.2.4.50
JPEGProcess2_4TransferSyntax                         1.2.840.10008.1.2.4.51
JPEGProcess14SV1TransferSyntax                       1.2.840.10008.1.2.4.70
JPEGLSLosslessTransferSyntax                         1.2.840.10008.1.2.4.80
JPEGLSLossyTransferSyntax                            1.2.840.10008.1.2.4.81
JPEG2000LosslessOnlyTransferSyntax                   1.2.840.10008.1.2.4.90
JPEG2000TransferSyntax                               1.2.840.10008.1.2.4.91
MPEG2MainProfileAtMainLevelTransferSyntax            1.2.840.10008.1.2.4.100
MPEG2MainProfileAtHighLevelTransferSyntax            1.2.840.10008.1.2.4.101
MPEG4HighProfileLevel4_1TransferSyntax               1.2.840.10008.1.2.4.102
MPEG4BDcompatibleHighProfileLevel4_1TransferSyntax   1.2.840.10008.1.2.4.103
MPEG4HighProfileLevel4_2_For2DVideoTransferSyntax    1.2.840.10008.1.2.4.104
MPEG4HighProfileLevel4_2_For3DVideoTransferSyntax    1.2.840.10008.1.2.4.105
MPEG4StereoHighProfileLevel4_2TransferSyntax         1.2.840.10008.1.2.4.106
RLELosslessTransferSyntax                            1.2.840.10008.1.2.5
</pre>
<div class="Pp"></div>
Additional Storage SOP Classes and Transfer Syntaxes can be used with the
  so-called 'association negotiation profiles' (see below).
<div class="Pp"></div>
The <b>storescp</b> application does not support extended negotiation by
  default. However, using an appropriate association negotiation profile (see
  below) the optional support for extended negotiation can be added to
  particular SOP classes.
<h2 class="Ss" title="Ss" id="Access_Control"><a class="selflink" href="#Access_Control">Access
  Control</a></h2>
When compiled on Unix platforms with TCP wrapper support, host-based access
  control can be enabled with the <i>--access-control</i> command line option.
  In this case the access control rules defined in the system's host access
  control tables for <b>storescp</b> are enforced. The default locations of the
  host access control tables are <i>/etc/hosts.allow</i> and
  <i>/etc/hosts.deny</i>. Further details are described in
  <b>hosts_access</b>(5).
<h2 class="Ss" title="Ss" id="Running_storescp_from_inetd"><a class="selflink" href="#Running_storescp_from_inetd">Running
  storescp from inetd</a></h2>
On Posix platforms, <b>storescp</b> can be initiated through the inetd(8) super
  server. This requires that <b>storescp</b> be configured in the
  <i>/etc/inetd.conf</i> configuration file. A typical configuration line could
  look like this:
<div class="Pp"></div>
<pre>
acr-nema stream tcp nowait root /usr/sbin/storescp -id +ac -od /tmp/storescp
</pre>
<div class="Pp"></div>
where <i>-id</i> (<i>--inetd</i>) activates the inetd mode in which the DICOM
  association is actually accepted by inetd and passed to <b>storescp</b>,
  <i>+ac</i> ( <i>--access-control</i>) activates the TCP wrapper based access
  control described above and <i>-od</i> (<i>--output-directory</i>) defines the
  directory in which <b>storescp</b> stores incoming DICOM objects. Note that
  the service name ('acr-nema' in this example) determines the port number on
  which DICOM associations are accepted and must be defined in
  <i>/etc/services</i>. When running from inetd, the stdout and stderr streams
  are discarded. However, you can still configure logging via the
  <i>--log-config</i> option (see below).
<div class="Pp"></div>
Please note that when run through inetd, <b>storescp</b> is executed with root
  privileges, which may be a security risk.
<h2 class="Ss" title="Ss" id="Association_Negotiation_Profiles_and_Configuration_Files"><a class="selflink" href="#Association_Negotiation_Profiles_and_Configuration_Files">Association
  Negotiation Profiles and Configuration Files</a></h2>
<b>storescp</b> supports a flexible mechanism for specifying the DICOM network
  association negotiation behavior, based on so-called 'association negotiation
  profiles' which may be read from a configuration file. The format and
  semantics of this configuration file are documented in <i>asconfig.txt</i>.
<h1 class="Sh" title="Sh" id="LOGGING"><a class="selflink" href="#LOGGING">LOGGING</a></h1>
The level of logging output of the various command line tools and underlying
  libraries can be specified by the user. By default, only errors and warnings
  are written to the standard error stream. Using option <i>--verbose</i> also
  informational messages like processing details are reported. Option
  <i>--debug</i> can be used to get more details on the internal activity, e.g.
  for debugging purposes. Other logging levels can be selected using option
  <i>--log-level</i>. In <i>--quiet</i> mode only fatal errors are reported. In
  such very severe error events, the application will usually terminate. For
  more details on the different logging levels, see documentation of module
  'oflog'.
<div class="Pp"></div>
In case the logging output should be written to file (optionally with logfile
  rotation), to syslog (Unix) or the event log (Windows) option
  <i>--log-config</i> can be used. This configuration file also allows for
  directing only certain messages to a particular output stream and for
  filtering certain messages based on the module or application where they are
  generated. An example configuration file is provided in
  <i>&lt;etcdir&gt;/logger.cfg</i>.
<h1 class="Sh" title="Sh" id="COMMAND_LINE"><a class="selflink" href="#COMMAND_LINE">COMMAND
  LINE</a></h1>
All command line tools use the following notation for parameters: square
  brackets enclose optional values (0-1), three trailing dots indicate that
  multiple values are allowed (1-n), a combination of both means 0 to n values.
<div class="Pp"></div>
Command line options are distinguished from parameters by a leading '+' or '-'
  sign, respectively. Usually, order and position of command line options are
  arbitrary (i.e. they can appear anywhere). However, if options are mutually
  exclusive the rightmost appearance is used. This behavior conforms to the
  standard evaluation rules of common Unix shells.
<div class="Pp"></div>
In addition, one or more command files can be specified using an '@' sign as a
  prefix to the filename (e.g. <i>@command.txt</i>). Such a command argument is
  replaced by the content of the corresponding text file (multiple whitespaces
  are treated as a single separator unless they appear between two quotation
  marks) prior to any further evaluation. Please note that a command file cannot
  contain another command file. This simple but effective approach allows one to
  summarize common combinations of options/parameters and avoids longish and
  confusing command lines (an example is provided in file
  <i>&lt;datadir&gt;/dumppat.txt</i>).
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
The <b>storescp</b> utility will attempt to load DICOM data dictionaries
  specified in the <i>DCMDICTPATH</i> environment variable. By default, i.e. if
  the <i>DCMDICTPATH</i> environment variable is not set, the file
  <i>&lt;datadir&gt;/dicom.dic</i> will be loaded unless the dictionary is built
  into the application (default for Windows).
<div class="Pp"></div>
The default behavior should be preferred and the <i>DCMDICTPATH</i> environment
  variable only used when alternative data dictionaries are required. The
  <i>DCMDICTPATH</i> environment variable has the same format as the Unix shell
  <i>PATH</i> variable in that a colon (':') separates entries. On Windows
  systems, a semicolon (';') is used as a separator. The data dictionary code
  will attempt to load each file specified in the <i>DCMDICTPATH</i> environment
  variable. It is an error if no data dictionary can be loaded.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<i>&lt;docdir&gt;/asconfig.txt</i> - configuration file documentation
<div>&#x00A0;</div>
<i>&lt;etcdir&gt;/storescp.cfg</i> - example association negotiation profile
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>storescu</b>(1)
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 1996-2016 by OFFIS e.V., Escherweg 2, 26121 Oldenburg,
  Germany.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Tue Feb 16 2016</td>
    <td class="foot-os">Version 3.6.1</td>
  </tr>
</table>
</body>
</html>
