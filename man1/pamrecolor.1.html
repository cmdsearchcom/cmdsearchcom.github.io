<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Pamrecolor User Manual(0)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Pamrecolor User Manual(0)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">Pamrecolor User Manual(0)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pamrecolor - alter colors without affecting luminance
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pamrecolor</b> [ <b>--colorspace</b>=<i>name</i>] [
  <b>--rmult</b>=<i>fraction</i>] [ <b>--gmult</b>=<i>fraction</i>] [
  <b>--bmult</b>= <i>fraction</i>] [ <b>--targetcolor</b>=<i>color</i>] [
  <b>--colorfile</b>= <i>file</i>] [ <b>-randomseed=</b><i>integer</i>]
<div style="height: 1.00em;">&#x00A0;</div>
[ <i>infile</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Minimum unique abbreviation of option is acceptable. You may use double hyphens
  instead of single hyphen to denote options. You may use white space in place
  of the equals sign to separate an option name from its value.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of <b>Netpbm</b>(1)
<div class="Pp"></div>
<b>pamrecolor</b> changes an image's colors to be as close as possible to given
  target colors but with the constraint that the luminance not be modified. That
  is, the original image and the target image will look identical if both are
  converted to grayscale (e.g. with <b>ppmtopgm</b>(1) ). You can have
  <b>pamrecolor</b> select target colors randomly, specify a single hue for the
  entire image, or take the target colors from a target image.
<div class="Pp"></div>
<b>pamrecolor</b> works on pseudo-Netpbm images based on arbitrary color spaces.
  You can define the color space explicitly or choose on of many that
  <b>pamrecolor</b> knows by name.
<div class="Pp"></div>
The output is a PAM image on standard output. Options control the exact format
  of the PAM. If you want a PNM (PBM, PGM, or PPM) image, use <b>pamtopnm</b>(1)
<br/>
 on the output. There is no need to convert if you will use the image as input
  to a current Netpbm program, but many other programs don't know what a PAM is.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--colorspace</b>=<i>name</i></dt>
  <dd class="It-tag">Designate the color space to use for determining the
      contribution to luminance of each of the red, green, and blue color
      channels. For example, in the SMPTE-C color space an RGB color is
      converted to grayscale by multiplying the red channel by 0.2124132, the
      green channel by 0.7010437, and the blue channel by 0.0865432 and summing
      the resulting three products.
    <div style="height: 1.00em;">&#x00A0;</div>
    When you use this option, the input and output images are not true Netpbm
      images, because the Netpbm image format specifies a particular color
      space. Instead, you are using a variation on the format in which the
      sample values in the raster have different meaning. Many programs that
      ostensibly use Netpbm images actually use a variation with a different
      color space, For example,</dd>
</dl>
<a class="Lk" title="Lk" href="http://www.gimp.org/">GIMP</a> uses sRGB
  internally and if you have GIMP generate a Netpbm image file, it really
  generates a variation of the format that uses sRGB.
<div style="height: 1.00em;">&#x00A0;</div>
<b>pamrecolor</b> knows the following color spaces (<i>name</i> values):
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">adobe</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Adobe RGB (1998) with a D65 reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">apple</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Apple RGB with a D65 reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cie</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    CIE with an Illuminant E reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ntsc</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    NTSC RGB with an Illuminant C reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">pal</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    PAL/SECAM with a D65 reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">smpte-c</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    SMPTE-C with a D65 reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">srgb</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    sRGB with a D65 reference white
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">wide</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    Wide-gamut RGB with a D50 reference white
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    The default is &lt;q&gt;ntsc&lt;/q&gt; because this is the color space that
      the Netpbm format of Netpbm and many other graphics utilities. As a
      counterexample,</dd>
</dl>
<a class="Lk" title="Lk" href="http://www.gimp.org/">GIMP</a> uses sRGB as its
  native color space.
<div style="height: 1.00em;">&#x00A0;</div>
The luminance values <b>pamrecolor</b> uses for each of the above come from
  Bruce Lindbloom's Computing RGB-to-XYZ and XYZ-to-RGB matrices (1)
<br/>
 page.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rmult</b>=<i>fraction</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gmult</b>=<i>fraction</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--bmult</b>=<i>fraction</i></dt>
  <dd class="It-tag">Instead of selecting a color space by name, you can specify
      explicitly the contribution of each color channel to the overall luminance
      as red, green, and blue multipliers. These three options must be used
      together, and the three <i>fraction</i> values must sum to 1.0. For
      example, you can specify the ProPhoto (ROMM) RGB color space with
      &lt;q&gt; <b>--rmult</b>=0.2880402 <b>--gmult</b>=0.7118741
      <b>--bmult</b>=0.0000857&lt;/q&gt;.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--targetcolor</b>=<i>color</i></dt>
  <dd class="It-tag">Designate <i>color</i> as the target color for the image.
      <b>pamrecolor</b> will make each pixel as close as possible to
      <i>color</i> subject to the constraint that the luminance must stay the
      same as in the original image. Specify <i>color</i> as in the</dd>
</dl>
<a class="Lk" title="Lk" href="libppm.html#colorname">argument of the
  <b>ppm_parsecolor()</b> library routine</a>
  (e.g.,&#x00A0;&lt;q&gt;hotpink&lt;/q&gt; or &lt;q&gt;#ff69b4&lt;/q&gt;).
<div style="height: 1.00em;">&#x00A0;</div>
If you specify neither <b>--targetcolor</b> nor <b>--colorfile</b>,
  <b>pamrecolor</b> will randomly select a target color for each pixel of the
  input image.
<div style="height: 1.00em;">&#x00A0;</div>
You may not specify both <b>-targetcolor</b> and <b>-colorfile</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--colorfile</b>=<i>file</i></dt>
  <dd class="It-tag">Take per-pixel target colors from Netpbm file <i>file</i>
      instead of using a single target color for the entire image. <i>file</i>
      should be a PPM or color PAM image. If the image in the file wider or
      taller than the input image, <b>pamrecolor</b> uses only the left and top
      part of it. If the image is narrower or shorter, <b>pamrecolor</b>
      considers the image to be repeated in a tile pattern.
    <div style="height: 1.00em;">&#x00A0;</div>
    If you specify neither <b>--targetcolor</b> nor <b>--colorfile</b>,
      <b>pamrecolor</b> will randomly select a target color for each pixel of
      the input image.
    <div style="height: 1.00em;">&#x00A0;</div>
    You may not specify both <b>-targetcolor</b> and <b>-colorfile</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-randomseed=</b><i>integer</i></dt>
  <dd class="It-tag">This is the seed for the random number generator that
      generates the pixels.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use this to ensure you get the same image on separate invocations.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, <b>pamrecolor</b> uses a seed derived from the time of day and
      process ID, which gives you fairly uncorrelated results in multiple
      invocations.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option was new in Netpbm 10.61 (December 2012).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
This command tints an image yellow:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    pamrecolor --targetcolor=yellow colorpic.pam &gt; yellowpic.pam
</pre>
<div class="Pp"></div>
This command takes the colors from <b>colorpicture.ppm</b> and applies them to
  <b>graypicture.pgm</b>:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
    pamrecolor --colorfile=colorpic.ppm graypic.pgm &gt; colorizedpic.pam
</pre>
<div class="Pp"></div>
The grayscale version of <b>colorizedpic.pam</b> will look just like
  graypic.pgm. Note that if you use a non-Netpbm tool to do the conversion to
  grayscale, you may additionally need to specify an appropriate
  <b>--colorspace</b> value for your conversion tool.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Here are a couple of fun special effects you can produce with <b>pamrecolor</b>:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Specify a color file that is identical to the input image
      but with some large, colored text added to it. The text will
      &lt;q&gt;magically&lt;/q&gt; vanish when the image is converted to
      grayscale.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Provide a low-contrast grayscale image &amp;mdash; perhaps
      a secret message written in similar shades of gray &amp;mdash; as the
      input file and a colorful but completely different image as the color
      file. If done carefully, the grayscale image can be hidden by the colorful
      image. Only people who know to convert the result to grayscale can recover
      the original grayscale image.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Use <b>--targetcolor</b>=tan to make an image look like an
      old-timey photograph (or, more precisely, a</dd>
</dl>
<a class="Lk" title="Lk" href="http://en.wikipedia.org/wiki/Photographic_print_toning">sepia-toned
  photograph</a> of the late 1800s).
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
Scott Pakin wrote <b>pamrecolor</b> in July 2010.
<div class="Pp"></div>
<b>pamrecolor</b> was new in Netpbm 10.52 (September 2010).
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Copyright (C) 2010 Scott Pakin, <i>scott+pbm@pakin.org.</i>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    <b><b>ppmtopgm</b></b>(1)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    <b><b>ppmchange</b></b>(1)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    <b><b>pnmremap</b></b>(1)</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">31 July 2010</td>
    <td class="foot-os">netpbm documentation</td>
  </tr>
</table>
</body>
</html>
