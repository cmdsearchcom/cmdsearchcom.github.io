<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CWEBP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CWEBP(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">CWEBP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cwebp - compress an image file to a WebP file
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>cwebp</b> [<i>options</i>]<i> input_file -o output_file.webp</i>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This manual page documents the <b>cwebp</b> command.
<div class="Pp"></div>
<b>cwebp</b> compresses an image using the WebP format. Input format can be
  either PNG, JPEG, TIFF or raw Y'CbCr samples.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
The basic options are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b><i> string</i></dt>
  <dd class="It-tag">Specify the name of the output WebP file. If omitted,
      <b>cwebp</b> will perform compression but only report statistics.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, -help</b></dt>
  <dd class="It-tag">A short usage summary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H, -longhelp</b></dt>
  <dd class="It-tag">A summary of all the possible options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-version</b></dt>
  <dd class="It-tag">Print the version number (as major.minor.revision) and
      exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b><i> float</i></dt>
  <dd class="It-tag">Specify the compression factor for RGB channels between 0
      and 100. The default is 75.
    <div>&#x00A0;</div>
    In case of lossy compression (default), a small factor produces a smaller
      file with lower quality. Best quality is achieved by using a value of 100.
    <div>&#x00A0;</div>
    In case of lossless compression (specified by the -lossless option), a small
      factor enables faster compression speed, but produces a larger file.
      Maximum compression is achieved by using a value of 100.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-alpha_q</b><i> int</i></dt>
  <dd class="It-tag">Specify the compression factor for alpha compression
      between 0 and 100. Lossless compression of alpha is achieved using a value
      of 100, while the lower values result in a lossy compression. The default
      is 100.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b><i> int</i></dt>
  <dd class="It-tag">Specify the strength of the deblocking filter, between 0
      (no filtering) and 100 (maximum filtering). A value of 0 will turn off any
      filtering. Higher value will increase the strength of the filtering
      process applied after decoding the picture. The higher the value the
      smoother the picture will appear. Typical values are usually in the range
      of 20 to 50.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-preset</b><i> string</i></dt>
  <dd class="It-tag">Specify a set of pre-defined parameters to suit a
      particular type of source material. Possible values are: <b>default</b>,
      <b>photo</b>, <b>picture</b>, <b>drawing</b>, <b>icon</b>, <b>text</b>.
      Since <b>-preset</b> overwrites the other parameters' values (except the
      <b>-q</b> one), this option should preferably appear first in the order of
      the arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sns</b><i> int</i></dt>
  <dd class="It-tag">Specify the amplitude of the spatial noise shaping. Spatial
      noise shaping (or <b>sns</b> for short) refers to a general collection of
      built-in algorithms used to decide which area of the picture should use
      relatively less bits, and where else to better transfer these bits. The
      possible range goes from 0 (algorithm is off) to 100 (the maximal effect).
      The default value is 80.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b><i> int</i></dt>
  <dd class="It-tag">Specify the compression method to use. This parameter
      controls the trade off between encoding speed and the compressed file size
      and quality. Possible values range from 0 to 6. Default value is 4. When
      higher values are used, the encoder will spend more time inspecting
      additional encoding possibilities and decide on the quality gain. Lower
      value can result is faster processing time at the expense of larger file
      size and lower compression quality.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-jpeg_like</b></dt>
  <dd class="It-tag">Change the internal parameter mapping to better match the
      expected size of JPEG compression. This flag will generally produce an
      output file of similar size to its JPEG equivalent (for the same <b>-q</b>
      setting), but with less visual distortion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mt</b></dt>
  <dd class="It-tag">Use multi-threading for encoding, if possible. This option
      is only effective when using lossy compression on a source with a
      transparency channel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-low_memory</b></dt>
  <dd class="It-tag">Reduce memory usage of lossy encoding by saving four times
      the compressed size (typically). This will make the encoding slower and
      the output slightly different in size and distortion. This flag is only
      effective for methods 3 and up, and is off by default. Note that leaving
      this flag off will have some side effects on the bitstream: it forces
      certain bitstream features like number of partitions (forced to 1). Note
      that a more detailed report of bitstream size is printed by <b>cwebp</b>
      when using this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-af</b></dt>
  <dd class="It-tag">Turns auto-filter on. This algorithm will spend additional
      time optimizing the filtering strength to reach a well-balanced quality.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ADDITIONAL_OPTIONS"><a class="selflink" href="#ADDITIONAL_OPTIONS">ADDITIONAL
  OPTIONS</a></h1>
More advanced options are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sharpness</b><i> int</i></dt>
  <dd class="It-tag">Specify the sharpness of the filtering (if used). Range is
      0 (sharpest) to 7 (least sharp). Default is 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-strong</b></dt>
  <dd class="It-tag">Use strong filtering (if filtering is being used thanks to
      the <b>-f</b> option). Strong filtering is on by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nostrong</b></dt>
  <dd class="It-tag">Disable strong filtering (if filtering is being used thanks
      to the <b>-f</b> option) and use simple filtering instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-segments</b><i> int</i></dt>
  <dd class="It-tag">Change the number of partitions to use during the
      segmentation of the sns algorithm. Segments should be in range 1 to 4.
      Default value is 4. This option has no effect for methods 3 and up, unless
      <b>-low_memory</b> is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-partition_limit</b><i> int</i></dt>
  <dd class="It-tag">Degrade quality by limiting the number of bits used by some
      macroblocks. Range is 0 (no degradation, the default) to 100 (full
      degradation). Useful values are usually around 30-70 for moderately large
      images. In the VP8 format, the so-called control partition has a limit of
      512k and is used to store the following information: whether the
      macroblock is skipped, which segment it belongs to, whether it is coded as
      intra 4x4 or intra 16x16 mode, and finally the prediction modes to use for
      each of the sub-blocks. For a very large image, 512k only leaves room to
      few bits per 16x16 macroblock. The absolute minimum is 4 bits per
      macroblock. Skip, segment, and mode information can use up almost all
      these 4 bits (although the case is unlikely), which is problematic for
      very large images. The partition_limit factor controls how frequently the
      most bit-costly mode (intra 4x4) will be used. This is useful in case the
      512k limit is reached and the following message is displayed: <i>Error
      code: 6 (PARTITION0_OVERFLOW: Partition #0 is too big to fit 512k)</i>. If
      using <b>-partition_limit</b> is not enough to meet the 512k constraint,
      one should use less segments in order to save more header bits per
      macroblock. See the <b>-segments</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-size</b><i> int</i></dt>
  <dd class="It-tag">Specify a target size (in bytes) to try and reach for the
      compressed output. Compressor will make several pass of partial encoding
      in order to get as close as possible to this target.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-psnr</b><i> float</i></dt>
  <dd class="It-tag">Specify a target PSNR (in dB) to try and reach for the
      compressed output. Compressor will make several pass of partial encoding
      in order to get as close as possible to this target.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pass</b><i> int</i></dt>
  <dd class="It-tag">Set a maximum number of passes to use during the dichotomy
      used by options <b>-size</b> or <b>-psnr</b>. Maximum value is 10.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-crop</b><i> x_position y_position width height</i></dt>
  <dd class="It-tag">Crop the source to a rectangle with top-left corner at
      coordinates ( <b>x_position</b>, <b>y_position</b>) and size <b>width</b>
      x <b>height</b>. This cropping area must be fully contained within the
      source rectangle.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b><i> width height</i></dt>
  <dd class="It-tag">Specify that the input file actually consists of raw Y'CbCr
      samples following the ITU-R BT.601 recommendation, in 4:2:0 linear format.
      The luma plane has size <b>width</b> x <b>height</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-map</b><i> int</i></dt>
  <dd class="It-tag">Output additional ASCII-map of encoding information.
      Possible map values range from 1 to 6. This is only meant to help
      debugging.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pre</b><i> int</i></dt>
  <dd class="It-tag">Specify a pre-processing filter. This option is a
      placeholder and has currently no effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-alpha_filter</b><i> string</i></dt>
  <dd class="It-tag">Specify the predictive filtering method for the alpha
      plane. One of 'none', 'fast' or 'best', in increasing complexity and
      slowness order. Default is 'fast'. Internally, alpha filtering is
      performed using four possible predictions (none, horizontal, vertical,
      gradient). The 'best' mode will try each mode in turn and pick the one
      which gives the smaller size. The 'fast' mode will just try to form an
      a-priori guess without testing all modes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-alpha_method</b><i> int</i></dt>
  <dd class="It-tag">Specify the algorithm used for alpha compression: 0 or 1.
      Algorithm 0 denotes no compression, 1 uses WebP lossless format for
      compression. The default is 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-alpha_cleanup</b></dt>
  <dd class="It-tag">Modify unseen RGB values under fully transparent area, to
      help compressibility. The default is off.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noalpha</b></dt>
  <dd class="It-tag">Using this option will discard the alpha channel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-lossless</b></dt>
  <dd class="It-tag">Encode the image without any loss.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-hint</b><i> string</i></dt>
  <dd class="It-tag">Specify the hint about input image type. Possible values
      are: <b>photo</b>, <b>picture</b> or <b>graph</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-metadata</b><i> string</i></dt>
  <dd class="It-tag">A comma separated list of metadata to copy from the input
      to the output if present. Valid values: <b>all</b>, <b>none</b>,
      <b>exif</b>, <b>icc</b>, <b>xmp</b>. The default is <b>none</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note: each input format may not support all combinations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noasm</b></dt>
  <dd class="It-tag">Disable all assembly optimizations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Print extra information (encoding time in particular).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-print_psnr</b></dt>
  <dd class="It-tag">Compute and report average PSNR (Peak-Signal-To-Noise
      ratio).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-print_ssim</b></dt>
  <dd class="It-tag">Compute and report average SSIM (structural similarity
      metric, see http://en.wikipedia.org/wiki/SSIM for additional
    details).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-print_lsim</b></dt>
  <dd class="It-tag">Compute and report local similarity metric (sum of lowest
      error amongst the collocated pixel neighbors).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-progress</b></dt>
  <dd class="It-tag">Report encoding progress in percent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-quiet</b></dt>
  <dd class="It-tag">Do not print anything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-short</b></dt>
  <dd class="It-tag">Only print brief information (output file size and PSNR)
      for testing purpose.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please report all bugs to our issue tracker:
  http://code.google.com/p/webp/issues
<div>&#x00A0;</div>
Patches welcome! See this page to get started:
  http://www.webmproject.org/code/contribute/submitting-patches/
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
cwebp -q 50 -lossless picture.png -o picture_lossless.webp
<div>&#x00A0;</div>
cwebp -q 70 picture_with_alpha.png -o picture_with_alpha.webp
<div>&#x00A0;</div>
cwebp -sns 70 -f 50 -size 60000 picture.png -o picture.webp
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>cwebp</b> was written by the WebP team.
<div>&#x00A0;</div>
The latest source tree is available at http://www.webmproject.org/code
<div class="Pp"></div>
This manual page was written by Pascal Massimino
  &lt;pascal.massimino@gmail.com&gt;, for the Debian project (and may be used by
  others).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dwebp</b>(1), <b>gif2webp</b>(1).
<div>&#x00A0;</div>
Please refer to http://developers.google.com/speed/webp/ for additional
  information.</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 13, 2013</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
