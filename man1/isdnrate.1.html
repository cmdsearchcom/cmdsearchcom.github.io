<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:19:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ISDNRATE(1) General Commands Manual ISDNRATE(1)</p>

<p style="margin-top: 1em">NAME <br>
isdnrate - Print telephone rates and various info from
rate-files(5).</p>

<p style="margin-top: 1em">SYNOPSIS <br>
isdnrate -a -bbest -dday -ffrom -hhour -llen -o -pprovs -r
vNN -s -ttakt -vverbose -xexclude -C -Ddet -Gdata -H -L -N
-Osocketfile -Ppiddir -Ssort -T -U -V -Xexplain -Z NUMBER
<br>
...</p>

<p style="margin-top: 1em">All options are optional.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The isdnrate program prints various information from
rate-files(5). Its main purpose is the calculation of
telephone rates from your location to an arbitrary
destination at a <br>
certain time and of a certain length for all the providers
in a rate-file.</p>

<p style="margin-top: 1em">NUMBER <br>
A telephone number may be</p>

<p style="margin-top: 1em">1234 a local area number</p>

<p style="margin-top: 1em">01234 a different area in your
country</p>

<p style="margin-top: 1em">+12345 a foreign country</p>

<p style="margin-top: 1em">China text for a foreign
country</p>

<p style="margin-top: 1em">Paris a town</p>

<p style="margin-top: 1em">US a code as defined in
country.dat.</p>

<p style="margin-top: 1em">Internet a Service name (if
option -s is also given).</p>

<p style="margin-top: 1em">Note that currently only city
names in AT, DE and NL are supported plus some international
capitals. <br>
Note also, spaces in country- or service names may be given
as underscores.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a Show old and newer rates. Default actual only.</p>

<p style="margin-top: 1em">-bbest Print only best
providers. Default is all.</p>

<p style="margin-top: 1em">-crateconf Use rateconf as
provider selection file and ignore setting in isdn.conf.</p>

<p style="margin-top: 1em">-dday Calc rates for day. day
can be one of</p>

<p style="margin-top: 1em">dd day of current month <br>
dd.mm day month <br>
dd.mm.yy[yy] day, month, year <br>
W Weekday <br>
N Weekday - night <br>
E Weekend</p>

<p style="margin-top: 1em">Default is now.</p>

<p style="margin-top: 1em">-ffrom Callers location. Default
is from isdn.conf.</p>

<p style="margin-top: 1em">-hhour Time hh[:mm[:ss]] of
call. Default is now.</p>

<p style="margin-top: 1em">-iratefile Use ratefile (usually
rate-CC.dat) as source for telephone fees and ignore setting
in isdn.conf.</p>

<p style="margin-top: 1em">-llen Length of call in seconds.
Default is 153 seconds.</p>

<p style="margin-top: 1em">-o Show only booked providers.
These are providers, which are listed in rate.conf.</p>

<p style="margin-top: 1em">-p provider[,provider...] Print
only info for given provider(s). provider is the provider
number, without the leading VBN, or provider_variant if
there are more variations, or <br>
B for business providers.</p>

<p style="margin-top: 1em">-rvNN Show only providers whose
VBN begins with NN. The VBN is also known as provider prefix
consisting of VBN and provider number.</p>

<p style="margin-top: 1em">-s Consider NUMBER as the name
of a service and print all numbers / providers, which supply
this service.</p>

<p style="margin-top: 1em">-ttakt Print only providers,
which have calculation impulses smaller or equal to takt.
Default is 9999.</p>

<p style="margin-top: 1em">-vverbose Set verbose level.</p>

<p style="margin-top: 1em">-x provider[,provider...]
Exclude these provider(s).</p>

<p style="margin-top: 1em">DISPLAY AND RUN OPTIONS <br>
-C Connect to a running isdnrate daemon. This avoids long
start-up times.</p>

<p style="margin-top: 1em">-D Start as a daemon, waiting
for connections from a client. The socket /tmp/isdnrate is
created, which clients can connect to.</p>

<p style="margin-top: 1em">-D2 Start as a daemon and go
background.</p>

<p style="margin-top: 1em">-CD3 Stop a running daemon.</p>

<p style="margin-top: 1em">-Gn Print raw data for
connection. n may be currently 97,98,99.</p>

<p style="margin-top: 1em">-H Print a header.</p>

<p style="margin-top: 1em">-L Print a semicolon separated
list of</p>

<p style="margin-top: 1em">vbn ; providername ; zone ; day
; time ; currency ; charge ; basicprice ; price ; duration ;
charge/min ; takt ; minimum price</p>

<p style="margin-top: 1em">-N Show info about following
numbers. If no provider is given, the preselected provider
is used.</p>

<p style="margin-top: 1em">-Osocketfile Write socket to
given filename on start of daemon. Default is
tmp/isdnrate.</p>

<p style="margin-top: 1em">-Ppiddir Write own PID to
piddir/isdnrate.pid on start of daemon.</p>

<p style="margin-top: 1em">-Ssort Sort output by sort,
which may be</p>

<p style="margin-top: 1em">v vbn or n provider name.
Default is by charge.</p>

<p style="margin-top: 1em">-T Print a table of charges for
daytimes weekday/weekend.</p>

<p style="margin-top: 1em">-V Print version info and
exit.</p>

<p style="margin-top: 1em">-Xexplain Print additional
information for charge or from rate-file. explain may be</p>

<p style="margin-top: 1em">1 (zone) <br>
2 (charge/min, zone, day, time) <br>
50 International areas <br>
51 National zones <br>
52 Services <br>
COMMENT Print C:COMMENT: info from rate files.</p>

<p style="margin-top: 1em">If -s is given, the number of
the service is also listed with -X1 or -X2.</p>

<p style="margin-top: 1em">-Z Print info for LCR <br>
e.g. isdnrate -p1 -ZX 19430 <br>
shows the rate for provider 1 and the cheapest rate to this
service.</p>

<p style="margin-top: 1em">Note: Various output options may
not be used together. Conflicting options will produce a
warning. <br>
Note also: Sort by name or providernumber and -bbest will
bring you the first best providers in sorting order, not the
cheapest. <br>
And finally: Some options like -X50, -X51, -X52, -D, -V
don&rsquo;t require a telephone NUMBER.</p>

<p style="margin-top: 1em">FILES <br>
rate-CC.dat, holiday-CC.dat, dest.gdbm, zone-CC-PPP.gdbm,
isdn.conf, telrate.cgi and more. <br>
Note: The extension of zone- and dest data files depends on
configuration. Recently .cdb is used.</p>

<p style="margin-top: 1em">EXAMPLES <br>
isdnrate -D2 <br>
Start the isdnrate daemon.</p>

<p style="margin-top: 1em">isdnrate -D2 -P /var/run -O
/tmp/isdnr_socket <br>
Start the isdnrate daemon, write isdnrate.pid to /var/run
and create the given socket.</p>

<p style="margin-top: 1em">isdnrate -CH -b5 -f01 -l120
Attersee <br>
Connect to running daemon, print a header and the best 5
rates from Vienna (01) to destination Attersee for a
connection length of 2 Minutes.</p>

<p style="margin-top: 1em">isdnrate -CX -p1_2,24 +1 <br>
Show rates and zones for destination USA for providers 1, 2
and 24.</p>

<p style="margin-top: 1em">isdnrate -C -l60 -rv010 HAM <br>
Show rates for a one minute call to Hamburg (HAM: airport
code) and use only providers whose vbn begins with 010. So
provider A with vbn 01030 is displayed, provider B with vbn
<br>
0190023 is not.</p>

<p style="margin-top: 1em">isdnrate -CX -H -dW -b5 US CA
<br>
Show a header, rates and zones for destinations USA and
Canada for best 5 providers during workday.</p>

<p style="margin-top: 1em">isdnrate -CHoX US <br>
Show header, rate and zone for destination USA for booked
providers only.</p>

<p style="margin-top: 1em">isdnrate -CsX -l60 Internet <br>
Show rates and numbers for service Internet for a 1 minute
call.</p>

<p style="margin-top: 1em">isdnrate -CZ 19430 <br>
Show rates and the best provider for this
(service-)number.</p>

<p style="margin-top: 1em">isdnrate -CD3 <br>
Stop the running isdnrate daemon.</p>

<p style="margin-top: 1em">SIGNALS <br>
A isdnrate daemon restarts (and therefore rereads its
configuration) on getting a SIGHUP signal.</p>

<p style="margin-top: 1em">SEE ALSO <br>
rate-files(5), isdnlog(8), isdn.conf(5)</p>

<p style="margin-top: 1em">BUGS <br>
Definitely yes. Sometimes more then one daemon can be
started, sometimes the socket is not removed, when the
daemon terminates. if this happens (&rsquo;socket in
use&rsquo;), do a rm <br>
/tmp/isdnrate and try again.</p>

<p style="margin-top: 1em">AUTHORS <br>
Andreas Kool &lt;akool@isdn4linux.de&gt; started this
program. Leopold Toetsch &lt;lt@toetsch.at&gt; continued the
work and brought this man page to you. Michael Reinelt
&lt;reinelt@eunet.at&gt; <br>
did the calculation engine and various tools for it.</p>

<p style="margin-top: 1em">-lt- 2004/07/13 ISDNRATE(1)</p>
<hr>
</body>
</html>
