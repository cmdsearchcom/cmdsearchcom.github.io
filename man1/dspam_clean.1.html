<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>dspam_clean(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dspam_clean(1)</td>
    <td class="head-vol">DSPAM</td>
    <td class="head-rtitle">dspam_clean(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dspam_clean - perform periodic maintenance of metadata
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dspam_clean</b> [<b>--profile</b>=PROFILE] [<i>-s[signature_life]</i>]
  [<i>-p[probability_life]</i>] [<i>-u[sl,hcl,shl,ihl]</i>] [<i>user1 user2 ...
  userN</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dspam_clean</b> is used to perform periodic housecleaning on DSPAM's metadata
  dictionary by deleting old or useless data.
<div style="height: 1.00em;">&#x00A0;</div>
<b>dspam_clean</b> has no effect if you use the &quot;hash&quot; storage driver.
  In that case, you should use the tools <b>cssclean</b> and <b>csscompress</b>
  (which do not currently have manual pages).
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x00A0;--profile=</b><i>PROFILE</i>Specify a storage
    profile from dspam.conf. The storage profile selected will be used</dt>
  <dd class="It-tag">for all database connectivity. See dspam.conf for more
      information.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>Performs stale signature purging. If a value is
    specified, the default value of</dt>
  <dd class="It-tag">14 days will be overridden. Specifying an age of 0 will
      delete all signatures from the user(s) processed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>Deletes all tokens from the target user(s)
    database whose probability is</dt>
  <dd class="It-tag">between 0.35 and 0.65 (fairly neutral, useless data). If a
      value is specified, the default life of 30 days will be overridden. It's a
      good idea to use this flag once with a life of 0 days for users after a
      significant amount of corpus training.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b>Deletes all unused tokens from a user's dataset.
    Four different life values</dt>
  <dd class="It-tag">are used:
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>sl</b> Stale tokens which have not been used for a long period of time
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>hcl</b> Tokens with a total hit count below 5 (which will be assigned a
      hapaxial value by DSPAM)
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>shl</b> Tokens witha single spam hit
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>ihl</b> Tokens with a single innocent hit
    <div style="height: 1.00em;">&#x00A0;</div>
    Ages may be overridden by specifying a format string, such as -u30,15,10,10
      where each number represents the respective life. Specifying a life of
      zero will delete all unused tokens in the category.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x00A0;user1&#x00A0;user2&#x00A0;...&#x00A0;userN</b>Specify
    the username(s) to perform the selected maintenance operations on. If</dt>
  <dd class="It-tag">no username is specified, all users are processed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_VALUE"><a class="selflink" href="#EXIT_VALUE">EXIT
  VALUE</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">Operation was successful.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>other</b></dt>
  <dd class="It-tag">Operation resulted in an error.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2002-2012 DSPAM Project
<div>&#x00A0;</div>
All rights reserved.
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
For more information, see http://dspam.sourceforge.net.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dspam</b>(1), <b>dspam_admin</b>(1), <b>dspam_crc</b>(1),
  <b>dspam_dump</b>(1), <b>dspam_logrotate</b>(1), <b>dspam_merge</b>(1),
  <b>dspam_stats</b>(1), <b>dspam_train</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">April 17, 2010</td>
    <td class="foot-os">DSPAM</td>
  </tr>
</table>
</body>
</html>
