<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ipa-kra-install(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ipa-kra-install(1)</td>
    <td class="head-vol">IPA Manual Pages</td>
    <td class="head-rtitle">ipa-kra-install(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ipa-kra-install - Install a KRA on a server
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
ipa-kra-install [ <i>OPTION</i>]... [replica_file]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Adds a KRA as an IPA-managed service. This requires that the IPA server is
  already installed and configured, including a CA.
<div style="height: 1.00em;">&#x00A0;</div>
The KRA (Key Recovery Authority) is a component used to securely store secrets
  such as passwords, symmetric keys and private asymmetric keys. It is used as
  the back-end repository for the IPA Password Vault.
<div style="height: 1.00em;">&#x00A0;</div>
ipa-kra-install can be run without replica_file to add KRA to the existing CA.
  ipa-kra-install will contact the CA to determine if a KRA has already been
  installed on another replica, and if so, will exit indicating that a
  replica_file is required.
<div style="height: 1.00em;">&#x00A0;</div>
The replica_file is created using the ipa-replica-prepare utility. A new
  replica_file should be generated on the master IPA server after the KRA has
  been installed and configured, so that the replica_file will contain the
  master KRA configuration and system certificates.
<div style="height: 1.00em;">&#x00A0;</div>
The uninstall option can be used to remove the KRA from the local IPA server.
  KRA instances on other replicas are not affected. The KRA will also be removed
  if the entire server is removed using ipa-server-install --uninstall.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-p</b> <i>DM_PASSWORD</i>, <b>--password</b>=<i>DM_PASSWORD</i> Directory
  Manager (existing master) password
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b>, <b>--unattended</b></dt>
  <dd class="It-tag">An unattended installation that will never prompt for user
      input</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--uninstall</b></dt>
  <dd class="It-tag">Uninstall the KRA from the local IPA server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--verbose</b></dt>
  <dd class="It-tag">Enable debug output when more verbose output is needed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">Output only errors</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--log-file</b>=ILE</dt>
  <dd class="It-tag">Log to the given file</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
0 if the command was successful
<div style="height: 1.00em;">&#x00A0;</div>
1 if an error occurred</div>
<table class="foot">
  <tr>
    <td class="foot-date">Aug 24 2014</td>
    <td class="foot-os">IPA</td>
  </tr>
</table>
</body>
</html>
