<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GENPKEY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GENPKEY(1)</td>
    <td class="head-vol">OpenSSL</td>
    <td class="head-rtitle">GENPKEY(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
genpkey - generate a private key
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>openssl</b> <b>genpkey</b> [ <b>-out filename</b>] [ <b>-outform PEM|DER</b>]
  [ <b>-pass arg</b>] [ <b>-cipher</b>] [ <b>-engine id</b>] [ <b>-paramfile
  file</b>] [ <b>-algorithm alg</b>] [ <b>-pkeyopt opt:value</b>] [
  <b>-genparam</b>] [ <b>-text</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>genpkey</b> command generates a private key.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-out filename</b></dt>
  <dd class="It-tag">the output filename. If this argument is not specified then
      standard output is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-outform DER|PEM</b></dt>
  <dd class="It-tag">This specifies the output format DER or PEM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pass arg</b></dt>
  <dd class="It-tag">the output file password source. For more information about
      the format of <b>arg</b> see the <b>PASS PHRASE ARGUMENTS</b> section in
      <i>openssl</i>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-cipher</b></dt>
  <dd class="It-tag">This option encrypts the private key with the supplied
      cipher. Any algorithm name accepted by <i>EVP_get_cipherbyname()</i> is
      acceptable such as <b>des3</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-engine id</b></dt>
  <dd class="It-tag">specifying an engine (by its unique <b>id</b> string) will
      cause <b>genpkey</b> to attempt to obtain a functional reference to the
      specified engine, thus initialising it if needed. The engine will then be
      set as the default for all available algorithms. If used this option
      should precede all other options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-algorithm alg</b></dt>
  <dd class="It-tag">public key algorithm to use such as RSA, DSA or DH. If used
      this option must precede any <b>-pkeyopt</b> options. The options
      <b>-paramfile</b> and <b>-algorithm</b> are mutually exclusive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pkeyopt opt:value</b></dt>
  <dd class="It-tag">set the public key algorithm option <b>opt</b> to
      <b>value</b>. The precise set of options supported depends on the public
      key algorithm used and its implementation. See <b>KEY GENERATION
      OPTIONS</b> below for more details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-genparam</b></dt>
  <dd class="It-tag">generate a set of parameters instead of a private key. If
      used this option must precede and <b>-algorithm</b>, <b>-paramfile</b> or
      <b>-pkeyopt</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-paramfile filename</b></dt>
  <dd class="It-tag">Some public key algorithms generate a private key based on
      a set of parameters. They can be supplied using this option. If this
      option is used the public key algorithm used is determined by the
      parameters. If used this option must precede and <b>-pkeyopt</b> options.
      The options <b>-paramfile</b> and <b>-algorithm</b> are mutually
      exclusive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-text</b></dt>
  <dd class="It-tag">Print an (unencrypted) text representation of private and
      public keys and parameters along with the PEM or DER structure.</dd>
</dl>
<h1 class="Sh" title="Sh" id="KEY_GENERATION_OPTIONS"><a class="selflink" href="#KEY_GENERATION_OPTIONS">KEY
  GENERATION OPTIONS</a></h1>
The options supported by each algorith and indeed each implementation of an
  algorithm can vary. The options for the OpenSSL implementations are detailed
  below.
<h1 class="Sh" title="Sh" id="RSA_KEY_GENERATION_OPTIONS"><a class="selflink" href="#RSA_KEY_GENERATION_OPTIONS">RSA
  KEY GENERATION OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rsa_keygen_bits:numbits</b></dt>
  <dd class="It-tag">The number of bits in the generated key. If not specified
      1024 is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rsa_keygen_pubexp:value</b></dt>
  <dd class="It-tag">The RSA public exponent value. This can be a large decimal
      or hexadecimal value if preceded by <b>0x</b>. Default value is
    65537.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DSA_PARAMETER_GENERATION_OPTIONS"><a class="selflink" href="#DSA_PARAMETER_GENERATION_OPTIONS">DSA
  PARAMETER GENERATION OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dsa_paramgen_bits:numbits</b></dt>
  <dd class="It-tag">The number of bits in the generated parameters. If not
      specified 1024 is used.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DH_PARAMETER_GENERATION_OPTIONS"><a class="selflink" href="#DH_PARAMETER_GENERATION_OPTIONS">DH
  PARAMETER GENERATION OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dh_paramgen_prime_len:numbits</b></dt>
  <dd class="It-tag">The number of bits in the prime parameter <b>p</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dh_paramgen_generator:value</b></dt>
  <dd class="It-tag">The value to use for the generator <b>g</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EC_PARAMETER_GENERATION_OPTIONS"><a class="selflink" href="#EC_PARAMETER_GENERATION_OPTIONS">EC
  PARAMETER GENERATION OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ec_paramgen_curve:curve</b></dt>
  <dd class="It-tag">the EC curve to use.</dd>
</dl>
<h1 class="Sh" title="Sh" id="GOST2001_KEY_GENERATION_AND_PARAMETER_OPTIONS"><a class="selflink" href="#GOST2001_KEY_GENERATION_AND_PARAMETER_OPTIONS">GOST2001
  KEY GENERATION AND PARAMETER OPTIONS</a></h1>
Gost 2001 support is not enabled by default. To enable this algorithm, one
  should load the ccgost engine in the OpenSSL configuration file. See
  README.gost file in the engines/ccgost directiry of the source distribution
  for more details.
<div class="Pp"></div>
Use of a parameter file for the GOST R 34.10 algorithm is optional. Parameters
  can be specified during key generation directly as well as during generation
  of parameter file.
<dl class="Bl-tag">
  <dt class="It-tag"><b>paramset:name</b></dt>
  <dd class="It-tag">Specifies GOST R 34.10-2001 parameter set according to RFC
      4357. Parameter set can be specified using abbreviated name, object short
      name or numeric OID. Following parameter sets are supported:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
  paramset   OID               Usage
  A          1.2.643.2.2.35.1  Signature
  B          1.2.643.2.2.35.2  Signature
  C          1.2.643.2.2.35.3  Signature
  XA         1.2.643.2.2.36.0  Key exchange
  XB         1.2.643.2.2.36.1  Key exchange
  test       1.2.643.2.2.35.0  Test purposes
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The use of the genpkey program is encouraged over the algorithm specific
  utilities because additional algorithm options and ENGINE provided algorithms
  can be used.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Generate an RSA private key using default parameters:
<div class="Pp"></div>
<pre>
 openssl genpkey -algorithm RSA -out key.pem
</pre>
<div class="Pp"></div>
Encrypt output private key using 128 bit AES and the passphrase
  &quot;hello&quot;:
<div class="Pp"></div>
<pre>
 openssl genpkey -algorithm RSA -out key.pem -aes-128-cbc -pass pass:hello
</pre>
<div class="Pp"></div>
Generate a 2048 bit RSA key using 3 as the public exponent:
<div class="Pp"></div>
<pre>
 openssl genpkey -algorithm RSA -out key.pem -pkeyopt rsa_keygen_bits:2048 \
                                                -pkeyopt rsa_keygen_pubexp:3
</pre>
<div class="Pp"></div>
Generate 1024 bit DSA parameters:
<div class="Pp"></div>
<pre>
 openssl genpkey -genparam -algorithm DSA -out dsap.pem \
                                                -pkeyopt dsa_paramgen_bits:1024
</pre>
<div class="Pp"></div>
Generate DSA key from parameters:
<div class="Pp"></div>
<pre>
 openssl genpkey -paramfile dsap.pem -out dsakey.pem
</pre>
<div class="Pp"></div>
Generate 1024 bit DH parameters:
<div class="Pp"></div>
<pre>
 openssl genpkey -genparam -algorithm DH -out dhp.pem \
                                        -pkeyopt dh_paramgen_prime_len:1024
</pre>
<div class="Pp"></div>
Generate DH key from parameters:
<div class="Pp"></div>
<pre>
 openssl genpkey -paramfile dhp.pem -out dhkey.pem
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2013-02-11</td>
    <td class="foot-os">1.0.1e</td>
  </tr>
</table>
</body>
</html>
