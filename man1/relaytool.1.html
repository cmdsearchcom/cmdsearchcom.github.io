<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>RELAYTOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RELAYTOOL(1)</td>
    <td class="head-vol">Limba Project</td>
    <td class="head-rtitle">RELAYTOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
relaytool - Generate a file that can be used instead of linking directly against
  a library
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 10.00ex; text-indent: -10.00ex;"><b>relaytool</b>
  [ <b>OPTION ...</b>] [<b>LINKER COMMAND ...</b>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This manual page documents briefly the <b>relaytool</b> command.
<div class="Pp"></div>
<b>relaytool</b> is a program to provide a more convenient interface to
  dlopen/dlsym. It lets you write the same style of code you would when using a
  normal hard link (-lwhatever), but the symbols are actually lazy-linked at
  runtime. You can use the symbols libwhatever_is_present and
  libwhatever_symbol_is_present() to find out what APIs are actually available
  at runtime.
<div class="Pp"></div>
In other words, the need to use function pointers and lots of manual calls to
  dlsym() is eliminated, and it becomes much simpler to soft link to things as a
  result. If a symbol is missing at runtime and you call it anyway, your
  application will abort and an error message is printed that states which
  function was called. If a variable is missing at runtime, the value is always
  -1.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--relay </b><b></b><i>LIB</i>
<div style="margin-left: 4.00ex;">If a matching -lLIB is found, generate a file
  that can be used instead of linking directly to LIB. The name of the file is
  echoed on stdout. Multiple --relay can be used together, a file will be
  generated for each matching ones.</div>
<div class="Pp"></div>
<b>--replace-all-libs</b>
<div style="margin-left: 4.00ex;">Generate a file for every -lLIB
  parameter.</div>
<div class="Pp"></div>
<b>--minimal-list </b><b></b><i>OBJ_LIST</i>
<div style="margin-left: 4.00ex;">Will look in OBJ_LIST for undefined symbols,
  and generate a file creating only the needed symbols for each LIB.</div>
<div class="Pp"></div>
<b>--partial-map </b><b></b><i>MAP_FILE</i>
<div style="margin-left: 4.00ex;">Generate a file creating only the symbols
  contained in MAP_FILE. Will apply to all further -lLIB parameters, so in
  general is not suitable to multiple libs in the same invocation of
  relaytool.</div>
<div class="Pp"></div>
<b>--no-replace</b>
<div style="margin-left: 4.00ex;">Echo -lLIB on stdout even if a --relay LIB is
  found, so it'll be linked in normally.</div>
<div class="Pp"></div>
<b>--multilink </b><b></b><i>[SONAMES...]</i>
<div style="margin-left: 4.00ex;">If a library has different SONAMES on
  different Linux distributions you can specify the various SONAMES that it's
  known by here. Relaytool will attempt to load them (in the order provided)
  until one if found. This cannot be used with multiple --relay options. The
  first SONAME in the list will be used as the name in the _is_present variable
  and _symbol_is_present function.</div>
<div class="Pp"></div>
<b>--out-dir </b><b></b><i>DIRECTORY</i>
<div style="margin-left: 4.00ex;">Write stub file to DIRECTORY instead of
  CWD.</div>
<h1 class="Sh" title="Sh" id="LINKER_COMMANDS"><a class="selflink" href="#LINKER_COMMANDS">LINKER
  COMMANDS</a></h1>
<b>-LPATH</b>
<div style="margin-left: 4.00ex;">Add PATH to the list of paths to search for
  LIBs.</div>
<div class="Pp"></div>
<b>-lLIB</b>
<div style="margin-left: 4.00ex;">If a matching --relay LIB is found (or if
  --replace-all-libs is specified), generate a file that can be used instead of
  linking directly to LIB. If there's no --relay LIB, echo -lLIB to
  stdout.</div>
<div class="Pp"></div>
All other linker commands are passed as is to stdout.
<h1 class="Sh" title="Sh" id="OTHER_COMMANDS"><a class="selflink" href="#OTHER_COMMANDS">OTHER
  COMMANDS</a></h1>
<b>-h</b>, <b>--help</b>
<div style="margin-left: 4.00ex;">Show some help.</div>
<div class="Pp"></div>
<b>--version</b>
<div style="margin-left: 4.00ex;">Display version information of relaytool</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
lipkgen (1), ligcc(1), gcc(1).
<div class="Pp"></div>
Additional documentation can be found on
  http://people.freedesktop.org/~mak/limba.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
This manual page was written by Matthias Klumpp &lt;matthias@tenstral.net&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2010-2014 Matthias Klumpp
<div>&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">14 May,2012</td>
    <td class="foot-os">Limba Project</td>
  </tr>
</table>
</body>
</html>
