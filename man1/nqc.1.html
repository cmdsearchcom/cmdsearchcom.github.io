<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:27:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>nqc(1) General Commands Manual nqc(1)</p>

<p style="margin-top: 1em">NAME <br>
nqc - A simple C-like language for Lego&rsquo;s RCX
programmable brick</p>

<p style="margin-top: 1em">SYNOPSIS <br>
nqc [ options ] [ actions ] [ - | filename ] [ actions ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
NQC stands for Not Quite C, and is a simple language for
programming the LEGO RCX. The preprocessor and control
structures of NQC are very similar to C. NQC is not a
general <br>
purpose language -- there are many restrictions that stem
from limitations of the standard RCX firmware.</p>

<p style="margin-top: 1em">This man page does not attempt
to describe the NQC programming language or the RCX API,
merely the options of the nqc command-line program.
References to more complete documen&acirc; <br>
tation are given at the end of this man page.</p>

<p style="margin-top: 1em">nqc is normally used to process
a single source file given as filename. You can also read
from stdin by using - instead. If the filename ends in .rcx,
it is assumed to be a RCX <br>
image file from a previous compile, and will be used as is
(for downloading or listing).</p>

<p style="margin-top: 1em">OPTIONS <br>
-1 use NQC 1.x compatibility mode. The RCX API changed
significantly with version 2.0. This flag makes the compiler
grok old code.</p>

<p style="margin-top: 1em">-Ttarget <br>
generate code and use communications methods for &quot;smart
bricks&quot; other than the RCX. Currently, can be either CM
or Scout.</p>

<p style="margin-top: 1em">-d download program to the RCX.
When this option is given, code is sent directly over the
serial port to the brick and no output file is generated by
default.</p>

<p style="margin-top: 1em">-n prevent the standard nqc.h
file from being automatically included.</p>

<p style="margin-top: 1em">-Dsym[=value] <br>
define macro sym as value.</p>

<p style="margin-top: 1em">-E[filename] <br>
write compiler errors to filename (or to stdout, if no name
specified) instead of to stderr.</p>

<p style="margin-top: 1em">-Ipath search path for include
files. Multiple directories should be seperated as normal
for the platform (under Linux / Unix, that&rsquo;d be
&quot;&quot;). Can also be set with the <br>
NQC_INCLUDE environment variable.</p>

<p style="margin-top: 1em">-L[filename] <br>
generate a human-readable bytecode listing to filename (or
to stdout) instead of generating a binary file.</p>

<p style="margin-top: 1em">-Ooutfile <br>
output code to outfile. This option causes a file to be
written even if -d or -L is also given. If no filename is
specified, the output file will have the same basename <br>
as the input file but an extension of .rcx instead of
.nqc.</p>

<p style="margin-top: 1em">-Sportname <br>
use serial port portname. Under Linux, /dev/ttyS0 is the
default. (This will differ on other platforms.) The port can
also be specified via the RCX_PORT environment <br>
variable, but the command line option takes precedence.</p>

<p style="margin-top: 1em">-Usym undefine macro sym.</p>

<p style="margin-top: 1em">ACTIONS <br>
Actions look similar to options, but they have some subtle
differences. In general, options set up things (such as a
serial port) for later use, while actions cause something to
<br>
happen. Actions are executed in the order that they appear
on the command line. In addition, actions appearing before
the source file happen before compilation, while actions
<br>
after the source file happen after compilation. For
historical reasons, downloading the compiled file (-d) works
as an option and not an action.</p>

<p style="margin-top: 1em">-run run the current program.
This causes the program selected on the RCX to execute.</p>

<p style="margin-top: 1em">-pgm number <br>
select program number. This changes the program slot on the
RCX.</p>

<p style="margin-top: 1em">-datalog <br>
get the datalog from the RCX and print it to stdout.</p>

<p style="margin-top: 1em">-datalog-full <br>
same as -datalog but with more verbose output.</p>

<p style="margin-top: 1em">-near set the IR port to
short-range mode.</p>

<p style="margin-top: 1em">-far set the IR port to
long-range mode.</p>

<p style="margin-top: 1em">-watch time <br>
set the RCX&rsquo;s clock to the specified time. If you use
now, then the host&rsquo;s current time is used.</p>

<p style="margin-top: 1em">-firmware filename <br>
downloads the firmware to the RCX. You&rsquo;ll need the
official Lego RCX firmware from the CD-ROM -- the current
(and so far only) file is called firm0309.lgo. This will
<br>
probably be necessary the first time you use your RCX, and
whenever it&rsquo;s been without batteries for more than a
few minutes.</p>

<p style="margin-top: 1em">-firmfast filename <br>
same as -firmware, but at quad speed. Requires the tower to
be in near mode (see -near). If you have trouble getting the
fast download to work, please revert to the <br>
older (and slower) method.</p>

<p style="margin-top: 1em">-sleep timeout <br>
set RCX auto-shutoff timeout, in minutes.</p>

<p style="margin-top: 1em">-msg number <br>
send IR message to RCX. The brick will respond to this just
as it would a communication from another RCX.</p>

<p style="margin-top: 1em">-raw data <br>
send an arbitrary packet to the RCX and print the reply (if
any) to stdout. The data should be a hexadecimal string,
with no spaces, zero-padded so that it is an even <br>
number of characters (although it may be an odd number of
bytes). For example, to read the contents of variable 1, you
could use -raw 120001. The bytecodes for raw mes&acirc; <br>
sages can be found on web sites that document the RCX
protocol.</p>

<p style="margin-top: 1em">-remote value repeat <br>
send a repeating remote command to the RCX.</p>

<p style="margin-top: 1em">-clear erase all programs and
datalog from the RCX.</p>

<p style="margin-top: 1em">ENVIRONMENT VARIABLES <br>
RCX_PORT <br>
sets the default serial port. See the -S option.</p>

<p style="margin-top: 1em">NQC_OPTIONS <br>
specifies extra options to be inserted into the command
line. For example, setting NQC_OPTIONS to -TScout would
cause nqc to target the Scout by default.</p>

<p style="margin-top: 1em">NQC_INCLUDE <br>
specifies additional paths to search for include files. See
also the -I option.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To compile foo.nqc, download the bytecode to program slot
three, and make the RCX start executing it immediately:</p>

<p style="margin-top: 1em">nqc -d -pgm 3 foo.nqc -run</p>

<p style="margin-top: 1em">To just compile bar.nqc,
resulting in bar.rcx:</p>

<p style="margin-top: 1em">nqc bar.nqc</p>

<p style="margin-top: 1em">To download bar.rcx to the
RCX:</p>

<p style="margin-top: 1em">nqc -d bar.rcx</p>

<p style="margin-top: 1em">To set the IR tower to
short-range mode and download the firmware at high
speed:</p>

<p style="margin-top: 1em">nqc -near -firmfast
firm0309.lgo</p>

<p style="margin-top: 1em">To compile
/usr/doc/nqc-2.1.0/test.nqc and print the resulting bytecode
listing to the screen in human-readable format:</p>

<p style="margin-top: 1em">nqc -L
/usr/doc/nqc-2.1.0/test.nqc</p>

<p style="margin-top: 1em">(This should result in the
following output under nqc 2.1.0:</p>

<p style="margin-top: 1em">*** Task 0 = main <br>
000 pwr ABC, 7 13 07 02 07 <br>
004 dir ABC, Fwd e1 87 <br>
006 InType 0, Switch 32 00 01 <br>
009 InMode 0, Boolean 42 00 20 <br>
012 out A, On 21 81 <br>
014 chkl 1 != Input(0), 14 95 82 09 01 00 00 fa ff <br>
022 plays 0 51 00 <br>
024 out A, Off 21 41</p>

<p style="margin-top: 1em">)</p>

<p style="margin-top: 1em">FILES <br>
Older versions of nqc required a seperate rcx.nqh or
rcx2.nqh file. This is now integrated into the binary and no
longer necessary, but for reference, rcx2.nqh is included
with <br>
the package. (If you installed the RPM, try
/usr/doc/nqc-2.1.0/rcx2.nqh).</p>

<p style="margin-top: 1em">SEE ALSO <br>
http://www.enteract.com/~dbaum/nqc/ <br>
The main Not Quite C web site. You&rsquo;ll definitely want
to look here. Notably, you&rsquo;ll find the NQC
Programmer&rsquo;s Guide, which covers the NQC language
itself.</p>


<p style="margin-top: 1em">http://www.crynwr.com/lego-robotics/
<br>
A great site for alternative RCX / Mindstorms
development.</p>


<p style="margin-top: 1em">http://graphics.stanford.edu/~kekoa/rcx/
<br>
Details on the internals of the RCX and the RCX
protocol.</p>


<p style="margin-top: 1em">http://www.lugnet.com/robotics/rcx/nqc/
<br>
Discussion group for NQC. Also available via NNTP at
lugnet.com.</p>

<p style="margin-top: 1em">http://nqc.mattdm.org/ <br>
Linux binaries and RPM-format packages for NQC, including
source RPMs. Also has an RPM containing the NQC language
documentation from Dave&rsquo;s site, in case you&rsquo;d
prefer to <br>
have it installed locally.</p>

<p style="margin-top: 1em">BUGS <br>
None known. But be aware that Scout support is still
preliminary and may change significantly.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
nqc is Copyright (C) 1998-2000 David Baum and released under
the terms of the Mozilla Public License. See the
documentation included with the program for more
details.</p>

<p style="margin-top: 1em">AUTHOR <br>
The Not Quite C programming language and the nqc program
were written and are maintained by Dave Baum. Various
contributions have been made by other people -- a full list
of <br>
these can be found on Dave&rsquo;s web site.</p>

<p style="margin-top: 1em">This man page was written by
Matthew Miller (mattdm@mattdm.org), with extremely large
amounts of borrowing from other NQC documentation.</p>

<p style="margin-top: 1em">Version 2.1 r1: 19 Feb 2000
nqc(1)</p>
<hr>
</body>
</html>
