<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:46:20 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>2PING(1) 2ping 2PING(1)</p>

<p style="margin-top: 1em">NAME <br>
2ping - A bi-directional ping utility</p>

<p style="margin-top: 1em">SYNOPSIS <br>
2ping [options] --listen | host/IP</p>

<p style="margin-top: 1em">DESCRIPTION <br>
2ping is a bi-directional ping utility. It uses 3-way pings
(akin to TCP SYN, SYN/ACK, ACK) and after-the-fact state
comparison between a 2ping listener and a 2ping client to
<br>
determine which direction packet loss occurs.</p>

<p style="margin-top: 1em">To use 2ping, start a listener
on a known stable network host. The relative network
stability of the 2ping listener host should not be in
question, because while 2ping can <br>
determine whether packet loss is occurring inbound or
outbound relative to an endpoint, that will not help you
determine the cause if both of the endpoints are in
question.</p>

<p style="margin-top: 1em">Once the listener is started,
start 2ping in client mode and tell it to connect to the
listener. The ends will begin pinging each other and
displaying network statistics. If <br>
packet loss occurs, 2ping will wait a few seconds (default
10, configurable with --inquire-wait) before comparing notes
between the two endpoints to determine which direction the
<br>
packet loss is occurring.</p>

<p style="margin-top: 1em">To quit 2ping on the client or
listener ends, enter ^C, and a list of statistics will be
displayed. To get a short inline display of statistics
without quitting, enter ^&nbsp;or <br>
send the process a QUIT signal.</p>

<p style="margin-top: 1em">OPTIONS <br>
ping-compatible options (long option names are
2ping-specific):</p>

<p style="margin-top: 1em">--audible, -a <br>
Audible ping.</p>

<p style="margin-top: 1em">--adaptive, -A <br>
Adaptive ping. A new client ping request is sent as soon as
a client ping response is received. If a ping response is
not received within the interval period, a new ping <br>
request is sent. On networks with low rtt this mode is
essentially equivalent to flood mode.</p>

<p style="margin-top: 1em">--count=count, -c count <br>
Stop after sending count ping requests.</p>

<p style="margin-top: 1em">--flood, -f <br>
Flood ping. For every ping sent a period &quot;.&quot; is
printed, while for ever ping received a backspace is
printed. This provides a rapid display of how many pings are
being <br>
dropped. If interval is not given, it sets interval to zero
and outputs pings as fast as they come back or one hundred
times per second, whichever is more.</p>

<p style="margin-top: 1em">2ping-specific notes: Detected
outbound/inbound loss responses are printed as
&quot;&gt;&quot; and &quot;&lt;&quot;, respectively. Receive
errors are printed as &quot;E&quot;. Due to the asynchronous
<br>
nature of 2ping, successful responses (backspaces) may
overwrite these loss and error characters.</p>

<p style="margin-top: 1em">--interval=interval, -i interval
<br>
Wait interval seconds between sending each ping. The default
is to wait for one second between each ping normally, or not
to wait in flood mode.</p>

<p style="margin-top: 1em">--interface-address=address, -I
address <br>
Set source IP address. When in listener mode, this option
may be specified multiple to bind to multiple IP addresses.
When in client mode, this option may only be speci&acirc;
<br>
fied once, and all outbound pings will be bound to this
source IP.</p>

<p style="margin-top: 1em">2ping-specific notes: This
option only takes an IP address, not a device name. Note
that in listener mode, if the machine has an interface with
multiple IP addresses and <br>
an request comes in via a sub IP, the reply still leaves via
the interface&rsquo;s main IP. So this option must be used
if you would like to respond via an interface&rsquo;s
sub-IP.</p>

<p style="margin-top: 1em">--preload=count, -l count <br>
If specified, 2ping sends that many packets not waiting for
reply.</p>

<p style="margin-top: 1em">--pattern=hex_bytes, -p
hex_bytes <br>
You may specify up to 16 &quot;pad&quot; bytes to fill out
the packets you send. This is useful for diagnosing
data-dependent problems in a network. For example,
--pattern=ff will <br>
cause the sent packet pad area to be filled with all
ones.</p>

<p style="margin-top: 1em">2ping-specific notes: This pads
the portion of the packet that does not contain the active
payload data. If the active payload data is larger than the
minimum packet size <br>
(--min-packet-size), no padding will be sent.</p>

<p style="margin-top: 1em">--quiet, -q <br>
Quiet output. Nothing is displayed except the summary lines
at startup time and when finished.</p>

<p style="margin-top: 1em">--packetsize-compat=bytes, -s
bytes <br>
ping compatibility; this will set --min-packet-size to this
plus 8 bytes.</p>

<p style="margin-top: 1em">--verbose, -v <br>
Verbose output. In 2ping, this prints decodes of packets
that are sent and received.</p>

<p style="margin-top: 1em">--version, -V <br>
Show version and exit.</p>

<p style="margin-top: 1em">--deadline=seconds, -w seconds
<br>
Specify a timeout, in seconds, before 2ping exits regardless
of how many pings have been sent or received. Due to
blocking, this may occur up to one second after the <br>
deadline specified.</p>

<p style="margin-top: 1em">2ping-specific options:</p>

<p style="margin-top: 1em">--help, -h <br>
Print a synposis and exit.</p>

<p style="margin-top: 1em">--ipv4, -4 <br>
Limit binds to IPv4. In client mode, this forces resolution
of dual-homed hostnames to the IPv4 address. (Without --ipv4
or --ipv6, the first result will be used as <br>
specified by your operating system, usually the AAAA address
on IPv6-routable machines, or the A address on IPv4-only
machines.) In listener mode, this filters out any <br>
non-IPv4 --interface-address binds, either through hostname
resolution or explicit passing.</p>

<p style="margin-top: 1em">--ipv6, -6 <br>
Limit binds to IPv6. In client mode, this forces resolution
of dual-homed hostnames to the IPv6 address. (Without -4 or
-6, the first result will be used as specified by <br>
your operating system, usually the AAAA address on
IPv6-routable machines, or the A address on IPv4-only
machines.) In listener mode, this filters out any non-IPv6
<br>
--interface-address binds, either through hostname
resolution or explicit passing.</p>

<p style="margin-top: 1em">--auth=key <br>
Set a shared key, send cryptographic hashes with each
packet, and require cryptographic hashes from peer packets
signed with the same shared key.</p>

<p style="margin-top: 1em">--auth-digest=digest <br>
When --auth is used, specify the digest type to compute the
cryptographic hash. Valid options are hmac-md5 (default),
hmac-sha1 and hmac-sha256.</p>

<p style="margin-top: 1em">--debug <br>
Print (lots of) debugging information.</p>

<p style="margin-top: 1em">--fuzz=percent <br>
Simulate corruption of incoming packets, with a percent
probability each bit will be flipped. After fuzzing, the
packet checksum will be recalculated, and then the
check&acirc; <br>
sum itself will be fuzzed (but at a lower probability).</p>

<p style="margin-top: 1em">--inquire-wait=secs <br>
Wait at least secs seconds before inquiring about a lost
packet. Default is 10 seconds. UDP packets can arrive
delayed or out of order, so it is best to give it some <br>
time before inquiring about a lost packet.</p>

<p style="margin-top: 1em">--listen <br>
Start as a listener. The listener will not send out ping
requests at regular intervals, and will instead wait for the
far end to initiate ping requests. A listener is <br>
required as the remote end for a client.</p>

<p style="margin-top: 1em">--min-packet-size=min <br>
Set the minimum total payload size to min bytes, default
128. If the payload is smaller than min bytes, padding will
be added to the end of the packet.</p>

<p style="margin-top: 1em">--max-packet-size=max <br>
Set the maximum total payload size to max bytes, default
512, absolute minimum 64. If the payload is larger than max
bytes, information will be rearranged and sent in <br>
future packets when possible.</p>


<p style="margin-top: 1em">--nagios=wrta,wloss%,crta,closs%
<br>
Produce output suitable for use in a Nagios check. If
--count is not specified, defaults to 5 pings. A warning
condition (exit code 1) will be returned if average RTT <br>
exceeds wrta or ping loss exceeds wloss%. A critical
condition (exit code 2) will be returned if average RTT
exceeds crta or ping loss exceeds closs%.</p>

<p style="margin-top: 1em">--no-3way <br>
Do not perform 3-way pings. Used most often when combined
with --listen, as the listener is usually the one to
determine whether a ping reply should become a 3-way
ping.</p>

<p style="margin-top: 1em">Strictly speaking, a 3-way ping
is not necessary for determining directional packet loss
between the client and the listener. However, the extra leg
of the 3-way ping <br>
allows for extra chances to determine packet loss more
efficiently. Also, with 3-way ping disabled, the listener
will receive no client performance indicators, nor will <br>
the listener be able to determine directional packet loss
that it detects.</p>

<p style="margin-top: 1em">--no-match-packet-size <br>
When sending replies, 2ping will try to match the packet
size of the received packet by adding padding if necessary,
but will not exceed --max-packet-size. <br>
--no-match-packet-size disabled this behavior, always
setting the minimum to --min-packet-size.</p>

<p style="margin-top: 1em">--no-send-version <br>
Do not send the current running version of 2ping with each
packet.</p>

<p style="margin-top: 1em">--notice=text <br>
Send arbitrary notice text with each packet. If the remote
peer supports it, this may be displayed to the user.</p>

<p style="margin-top: 1em">--packet-loss=out:in <br>
Simulate random packet loss outbound and inbound. For
example, 25:10 means a 25% chance of not sending a packet,
and a 10% chance of ignoring a received packet. A single
<br>
number without colon separation means use the same
percentage for both outbound and inbound.</p>

<p style="margin-top: 1em">--port=port <br>
Use UDP port port, either a numeric port number of a service
name string. With --listen, this is the port to bind as,
otherwise this is the port to send to. Default is <br>
UDP port 15998.</p>

<p style="margin-top: 1em">--send-monotonic-clock <br>
Send a monotonic clock value with each packet. Peer time (if
sent by the peer) can be viewed with --verbose. Only
supported if the system is capable of generating a <br>
monotonic clock.</p>

<p style="margin-top: 1em">--send-random=bytes <br>
Send random data to the peer, up to bytes. The number of
bytes will be limited by other factors, up to
--max-packet-size. If this data is to be used for trusted
pur&acirc; <br>
poses, it should be combined with --auth for HMAC
authentication.</p>

<p style="margin-top: 1em">--send-time <br>
Send the host time (wall clock) with each packet. Peer time
(if sent by the peer) can be viewed with --verbose.</p>

<p style="margin-top: 1em">--srv In client mode, causes
hostnames to be looked up via DNS SRV records. If the SRV
query returns multiple record targets, they will all be
pinged in parallel; priority and <br>
weight are not considered. The record&rsquo;s port will be
used instead of --port. This functionality requires the
dnspython module to be installed.</p>

<p style="margin-top: 1em">--stats=interval <br>
Print a line of brief current statistics every interval
seconds. The same line can be printed on demand by entering
^&nbsp;or sending the QUIT signal to the 2ping process.</p>

<p style="margin-top: 1em">BUGS <br>
None known, many assumed.</p>

<p style="margin-top: 1em">AUTHOR <br>
2ping was written by Ryan Finnie
&lt;ryan@finnie.org&gt;.</p>

<p style="margin-top: 1em">AUTHORS <br>
Ryan Finnie.</p>
 
<p style="margin-top: 1em">2PING(1)</p>
<hr>
</body>
</html>
