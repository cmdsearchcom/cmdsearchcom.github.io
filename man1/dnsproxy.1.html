<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:04:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DNSPROXY(1) BSD General Commands Manual DNSPROXY(1)</p>

<p style="margin-top: 1em">NAME <br>
dnsproxy &acirc; DNS proxy</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dnsproxy [-dhV] [-c file]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The dnsproxy daemon waits for nameserver queries on a user
specified address, dispatches these queries to authoritative
and recursive nameservers and forwards the received answers
<br>
back to the original client.</p>

<p style="margin-top: 1em">The options are as follows:</p>

<p style="margin-top: 1em">-c file Read configuration from
file.</p>

<p style="margin-top: 1em">-d Detach from current terminal
and run as background process.</p>

<p style="margin-top: 1em">-h Show usage.</p>

<p style="margin-top: 1em">-V Show version.</p>

<p style="margin-top: 1em">If a client from an internal IP
address does a recursive lookup the query is forwarded to a
recursive DNS server. Authoritative queries and queries
coming from clients in foreign <br>
networks are forwarded to an authoritative DNS server.</p>

<p style="margin-top: 1em">CONFIGURATION FILE <br>
At startup dnsproxy reads a configuration file specified via
the -c option or at the default location of
/etc/dnsproxy.conf.</p>

<p style="margin-top: 1em">The following keywords are
recognized:</p>

<p style="margin-top: 1em">authoritative IP <br>
Address of the authoritative nameserver [required].</p>

<p style="margin-top: 1em">recursive IP <br>
Address of the recursive nameserver [required].</p>

<p style="margin-top: 1em">listen IP <br>
Local address (defaults to 0.0.0.0).</p>

<p style="margin-top: 1em">port number <br>
Local port number (defaults to 53).</p>

<p style="margin-top: 1em">chroot path <br>
A path to chroot to before starting to answer queries.</p>

<p style="margin-top: 1em">user name <br>
A user to change to before starting to answer queries.</p>

<p style="margin-top: 1em">authoritative-timeout seconds
<br>
Time in seconds when authoritative queries time out
(defaults to 10).</p>

<p style="margin-top: 1em">recursive-timeout seconds <br>
Time in seconds when recursive queries time out (defaults to
90).</p>

<p style="margin-top: 1em">authoritative-port number <br>
Port number on authoritative nameserver (defaults to
53).</p>

<p style="margin-top: 1em">recursive-port number <br>
Port number on recursive nameserver (defaults to 53).</p>

<p style="margin-top: 1em">statistics seconds <br>
Period between output of statistics (defaults to 3600). Use
0 to disable output of statistics completely.</p>

<p style="margin-top: 1em">internal network <br>
Declare networks recognized as internal and thus eligible to
do recursive queries. One network in CIDR notation per
keyword.</p>

<p style="margin-top: 1em">EXAMPLE <br>
authoritative 10.1.1.1 <br>
recursive 127.0.0.1 <br>
recursive-port 10053 <br>
listen 192.168.1.1 <br>
port 53 <br>
chroot /var/empty <br>
user nobody <br>
internal 192.168.1.0/24 <br>
internal 127.0.0.1</p>

<p style="margin-top: 1em">STATISTICS <br>
Every hour (by default) dnsproxy logs the collected
statistics about its usage to standard error (or syslog when
running detached). Statistics look like</p>

<p style="margin-top: 1em">ActiveQr AuthorQr RecursQr
AllQuery Answered <br>
0 0 0 0 0 <br>
TimeoutQ DroppedQ DroppedA LateAnsw HashColl <br>
0 0 0 0 0</p>

<p style="margin-top: 1em">and have the following
meaning:</p>

<p style="margin-top: 1em">ActiveQr <br>
Number of currently active queries proxied to the
servers.</p>

<p style="margin-top: 1em">AuthorQr <br>
Accumulated number of authoritative queries.</p>

<p style="margin-top: 1em">RecursQr <br>
Accumulated number of recursive queries.</p>

<p style="margin-top: 1em">AllQuery <br>
Accumulated number of all queries ever received.</p>

<p style="margin-top: 1em">Answered <br>
Accumulated number of answered queries.</p>

<p style="margin-top: 1em">TimeoutQ <br>
Accumulated number of queries that did not receive an answer
in time.</p>

<p style="margin-top: 1em">DroppedQ <br>
Accumulated number of dropped queries (e.g. transmission
errors).</p>

<p style="margin-top: 1em">DroppedA <br>
Accumulated number of dropped answers.</p>

<p style="margin-top: 1em">LateAnsw <br>
Accumulated number of answers received after the timeout
period.</p>

<p style="margin-top: 1em">HashColl <br>
Accumulated number of hash collisions in the query list.</p>

<p style="margin-top: 1em">SEE ALSO <br>
named(1)</p>

<p style="margin-top: 1em">VERSION <br>
This manual page describes dnsproxy version 1.16.</p>

<p style="margin-top: 1em">AUTHORS <br>
Armin Wolfermann &lt;armin@wolfermann.org&gt;</p>

<p style="margin-top: 1em">The dnsproxy homepage is at
http://www.wolfermann.org/dnsproxy.html.</p>

<p style="margin-top: 1em">LOCAL November 29, 2003
LOCAL</p>
<hr>
</body>
</html>
