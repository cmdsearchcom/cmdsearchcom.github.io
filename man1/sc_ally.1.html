<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SC_ALLY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SC_ALLY(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SC_ALLY(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">sc_ally</b> &#x2014;
  <span class="Nd" title="Nd">scamper driver to run Ally on a list of candidate
  aliases.</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">sc_ally</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-?D</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-i</b>&#x00A0;<var class="Ar" title="Ar">infile</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-o</b>&#x00A0;<var class="Ar" title="Ar">outfile</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-p</b>&#x00A0;<var class="Ar" title="Ar">port</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-U</b>&#x00A0;<var class="Ar" title="Ar">unix-socket</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-f</b>&#x00A0;<var class="Ar" title="Ar">fudge</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-i</b>&#x00A0;<var class="Ar" title="Ar">probe-wait</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-q</b>&#x00A0;<var class="Ar" title="Ar">attempts</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-t</b>&#x00A0;<var class="Ar" title="Ar">logfile</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-w</b>&#x00A0;<var class="Ar" title="Ar">waittime</var></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b class="Nm" title="Nm">sc_ally</b> utility provides the ability to connect
  to a running <a class="Xr" title="Xr">scamper(1)</a> instance and have a set
  of IPv4 address-pairs tested for aliases using the Ally technique. For each
  address pair in the file, <b class="Nm" title="Nm">sc_ally</b> establishes
  which probe methods (UDP, TCP-ack, ICMP-echo) solicit an incrementing IP-ID
  value, and then uses the Ally technique on pairs where a probe method is able
  to obtain an incrementing IP-ID for both addresses. The output is written to a
  warts file. The options are as follows:
<dl class="Bl-tag">
  <dt class="It-tag"><b class="Fl" title="Fl">-</b>?</dt>
  <dd class="It-tag">prints a list of command line options and a synopsis of
      each.</dd>
  <dt class="It-tag"><a class="selflink" href="#D"><b class="Fl" title="Fl" id="D">-D</b></a></dt>
  <dd class="It-tag">causes <b class="Nm" title="Nm">sc_ally</b> to detach and
      become a daemon.</dd>
  <dt class="It-tag"><a class="selflink" href="#i"><b class="Fl" title="Fl" id="i">-i</b></a>
    <var class="Ar" title="Ar">infile</var></dt>
  <dd class="It-tag">specifies the name of the input file which consists of a
      sequence of IPv4 address-pairs, one pair per line.</dd>
  <dt class="It-tag"><a class="selflink" href="#o"><b class="Fl" title="Fl" id="o">-o</b></a>
    <var class="Ar" title="Ar">outfile</var></dt>
  <dd class="It-tag">specifies the name of the output file to be written. The
      output file will use the warts format.</dd>
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a>
    <var class="Ar" title="Ar">port</var></dt>
  <dd class="It-tag">specifies the port on the local host where
      <a class="Xr" title="Xr">scamper(1)</a> is accepting control socket
      connections.</dd>
  <dt class="It-tag"><a class="selflink" href="#U"><b class="Fl" title="Fl" id="U">-U</b></a>
    <var class="Ar" title="Ar">unix-socket</var></dt>
  <dd class="It-tag">specifies the name of a unix domain socket where
      <a class="Xr" title="Xr">scamper(1)</a> is accepting control socket
      connections.</dd>
  <dt class="It-tag"><a class="selflink" href="#f"><b class="Fl" title="Fl" id="f">-f</b></a>
    <var class="Ar" title="Ar">fudge</var></dt>
  <dd class="It-tag">specifies the fudge factor to use when (1) inferring if
      IPIDs are assigned from a counter, and (2) inferring if two addresses
      share the same counter.</dd>
  <dt class="It-tag"><a class="selflink" href="#i"><b class="Fl" title="Fl" id="i">-i</b></a>
    <var class="Ar" title="Ar">probe-wait</var></dt>
  <dd class="It-tag">specifies the inter-probe gap for both ping and Ally
      measurements, in milliseconds. The default is 1000ms (1 second); the
      minimum is 200ms, and the maximum is 2000ms.</dd>
  <dt class="It-tag"><a class="selflink" href="#q"><b class="Fl" title="Fl" id="q">-q</b></a>
    <var class="Ar" title="Ar">attempts</var></dt>
  <dd class="It-tag">specifies the number of times to try Ally when one of the
      addresses is unresponsive.</dd>
  <dt class="It-tag"><a class="selflink" href="#t"><b class="Fl" title="Fl" id="t">-t</b></a>
    <var class="Ar" title="Ar">logfile</var></dt>
  <dd class="It-tag">specifies the name of a file to log output from
      <b class="Nm" title="Nm">sc_ally</b> generated at run time.</dd>
  <dt class="It-tag"><a class="selflink" href="#w"><b class="Fl" title="Fl" id="w">-w</b></a>
    <var class="Ar" title="Ar">waittime</var></dt>
  <dd class="It-tag">specifies the minimum length of time, in seconds, to wait
      between completing a measurement to a particular IP address and issuing
      the next.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
Given a set of IPv4-address pairs in a file named infile.txt:
<div class="Pp"></div>
192.0.2.1 192.0.32.10 192.0.2.2 192.0.31.8 192.0.2.3 192.0.30.64
<div class="Pp"></div>
and a <a class="Xr" title="Xr">scamper(1)</a> daemon listening on port 31337,
  then these address-pairs can be tested for aliases using
<div class="Pp"></div>
sc_ally -i infile.txt -o outfile.warts -p 31337
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<cite class="Rs" title="Rs"><span class="RsA">N. Spring</span>,
  <span class="RsA">R. Mahajan</span>, and <span class="RsA">D.
  Wetherall</span>, <span class="RsT">Measuring ISP topologies with
  Rocketfuel</span>, <span class="RsO">Proc. ACM SIGCOMM 2002</span>.</cite>
  <a class="Xr" title="Xr">scamper(1)</a>,
  <a class="Xr" title="Xr">sc_wartsdump(1)</a>,
  <a class="Xr" title="Xr">sc_warts2text(1)</a>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b class="Nm" title="Nm">sc_ally</b> is written by Matthew Luckie
  &lt;mjl@luckie.org.nz&gt;.</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 1, 2011</td>
    <td class="foot-os">Linux 4.12.14-300.fc26.x86_64</td>
  </tr>
</table>
</body>
</html>
