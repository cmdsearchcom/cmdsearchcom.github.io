<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PMCD_WAIT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PMCD_WAIT(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PMCD_WAIT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>pmcd_wait</b> - wait for PMCD to accept client connections
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>$PCP_BINADM_DIR/pmcd_wait</b> [ <b>-h</b> <i>host</i>] [ <b>-t</b>
  <i>interval</i>] [ <b>-v</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pmcd_wait</b> waits for the Performance Metrics Collector Daemon (PMCD) to be
  running and accepting client connections.
<div class="Pp"></div>
Unless directed to another host by the <b>-h</b> option, <b>pmcd_wait</b> will
  try to contact <b>pmcd</b>(1) on the local host.
<div class="Pp"></div>
<b>pmcd_wait</b> will timeout and abandon the attempt to connect to <b>pmcd</b>
  after 60 seconds. This default timeout interval may be changed using the
  <b>-t</b> option, where the <i>interval</i> argument follows the syntax
  described in <b>PCPIntro</b>(1) and in the simplest form may be an unsigned
  integer (the implied units in this case are seconds).
<div class="Pp"></div>
On successful connection to <b>pmcd</b> an exit status of zero is returned.
<div class="Pp"></div>
If an error or timeout occurs, then a non-zero exit status is returned as
  described below.
<div class="Pp"></div>
The other options are as follows:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">This option turns the verbose mode on. With the verbose
      mode off (which is the default), no output will be generated. With verbose
      mode on, error messages will be output on <i>stderr</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="PCP_ENVIRONMENT"><a class="selflink" href="#PCP_ENVIRONMENT">PCP
  ENVIRONMENT</a></h1>
Environment variables with the prefix <b>PCP_</b> are used to parameterize the
  file and directory names used by PCP. On each installation, the file
  <i>/etc/pcp.conf</i> contains the local values for these variables. The
  <b>$PCP_CONF</b> variable may be used to specify an alternative configuration
  file, as described in <b>pcp.conf</b>(5).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>PCPIntro</b>(1), <b>pmcd</b>(1), <b>pcp.conf</b>(5) and <b>pcp.env</b>(5).
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Error messages will be output to <i>stderr</i> only if the verbose mode is on.
<div class="Pp"></div>
The following exit status codes are returned:
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag"><b>pmcd_wait</b> was able to successfully connect to
      <b>pmcd</b> within the timeout period.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">A usage error occurred, use <b>-v</b> for more
    details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">No connection was made in the timeout interval. This will
      happen if <b>pmcd</b> is running but takes too long to complete the client
      connection, or if <b>pmcd</b> is not running and all connection attempts
      in the timeout interval failed with the error ECONNREFUSED.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>3</b></dt>
  <dd class="It-tag">A UNIX error occurred, use <b>-v</b> for more details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>4</b></dt>
  <dd class="It-tag">A PCP error occurred, use <b>-v</b> for more details.</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">PCP</td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
