<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:20:37 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">KINPUT2(1) General Commands
Manual KINPUT2(1)</p>

<p style="margin-top: 1em">NAME <br>
kinput2 - kanji input server for X11</p>

<p style="margin-top: 1em">SYNOPSIS <br>
kinput2 [-options...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Kinput2 is an X window application to input Japanese text.
It acts as a front-end for other applications that want
kana-kanji conversion.</p>

<p style="margin-top: 1em">When invoked, after some
initialization (which will take about a few to 30 seconds
depending on your machine) kinput2 waits quietly for a
Japanese text input request from another <br>
client (i.e. no windows appear). When kinput2 receives a
request, it pops up a window and starts conversion process.
It sends the converted text back to the client when the text
<br>
is fixed.</p>

<p style="margin-top: 1em">Kinput2 has some big
improvements over its predecessor, kinput, which was
contributed to X11R4.</p>

<p style="margin-top: 1em">Over-the-spot/On-the-spot Input
<br>
These features enable conversion process to be done at
cursor position, avoiding unnecessary movement of eyes
between cursor position and conversion window. Kinput2 also
<br>
supports root window style input and off-the-spot style
input.</p>

<p style="margin-top: 1em">Multiple Protocol Support <br>
Kinput2 supports several conversion protocols between
front-end and client. Supported protocols are: <br>
kinput protocol <br>
kinput2 protocol <br>
Matsushita jinput protocol <br>
Sony xlc protocol <br>
XIMP protocol <br>
X Input Method Protocol (X Consortium standard)</p>

<p style="margin-top: 1em">Multiple Conversion Engine
Support <br>
Kinput2 can use 4 different conversion engines, Wnn, Canna,
Sj3 and Atok. You can choose one at compilation time, or at
run time.</p>

<p style="margin-top: 1em">Kinput Compatibility <br>
Kinput2 is fully upward-compatible with kinput, so
applications which use kinput as the front-end can also use
kinput2. In this case, the applications cannot take
advan&acirc; <br>
tage of over-the-spot conversion, though.</p>

<p style="margin-top: 1em">OPTIONS <br>
kinput2 accepts all of the standard X Toolkit command line
options. The following options are accepted as well.</p>

<p style="margin-top: 1em">-wnn This option specifies that
Wnn jserver is used as the conversion engine.</p>

<p style="margin-top: 1em">-jserver <br>
This option specifies the hostname of the jserver to be used
for conversion.</p>

<p style="margin-top: 1em">-ccdef This option specifies the
input character conversion rule file.</p>

<p style="margin-top: 1em">-wnnenvrc4 <br>
This option specifies the Wnn convertion environment
initialization file (wnnenvrc) for Wnn version 4.</p>

<p style="margin-top: 1em">-wnnenvrc6 <br>
This option is similar to -wnenvrc4, but for Wnn version
6.</p>

<p style="margin-top: 1em">-canna This option specifies
that Canna conversion server (irohaserver) is used as the
conversion engine.</p>

<p style="margin-top: 1em">-cannaserver <br>
This option specifies the hostname of Canna conversion
server.</p>

<p style="margin-top: 1em">-cannafile <br>
This option specifies Canna conversion customization
file.</p>

<p style="margin-top: 1em">-sj3 This option specifies that
Sj3 conversion server (sj3serv) is used as the conversion
engine.</p>

<p style="margin-top: 1em">-sj3serv <br>
This option specifies the hostname of the primary sj3
conversion server.</p>

<p style="margin-top: 1em">-sj3serv2 <br>
This option specifies the hostname of the secondary sj3
server. The secondary server is used when kinput2 cannot
connect to the primary server.</p>

<p style="margin-top: 1em">-atok This option specifies that
Atok server is used as the conversion engine.</p>

<p style="margin-top: 1em">-atokserver <br>
This option specifies the hostname of the atok server to be
used for conversion.</p>

<p style="margin-top: 1em">-font ascii-font <br>
This option specifies the default font to be used for
displaying ASCII text.</p>

<p style="margin-top: 1em">-kanjifont kanji-font <br>
This option specifies the default font to be used for
displaying Kanji text.</p>

<p style="margin-top: 1em">-kanafont kana-font <br>
This option specifies the default font to be used for
displaying Kana text.</p>

<p style="margin-top: 1em">-/+kinput <br>
This option enables/disables use of kinput protocol family
(i.e. kinput protocol, kinput2 protocol, jinput protocol and
xlc protocol).</p>

<p style="margin-top: 1em">-/+ximp This option
enables/disables use of XIMP protocol.</p>

<p style="margin-top: 1em">-/+xim This option
enables/disables use of X Input Method Protocol.</p>

<p style="margin-top: 1em">-bc Kinput protocol, which is
one of the communication protocols kinput2 supports, uses X
window&rsquo;s selection mechanism to notify other clients
of front-end&rsquo;s existence. This <br>
option forces kinput2 to use selection
&lsquo;&lsquo;JAPANESE_CONVERSION&rsquo;&rsquo; (which is
not a standard selection name) as well as
&lsquo;&lsquo;_JAPANESE_CONVERSION&rsquo;&rsquo;. This is
for backward compat&acirc; <br>
ibility, since many of the applications that connect with
kinput still use this non-standard selection.</p>

<p style="margin-top: 1em">-tbheightP title-bar-height <br>
This option specifies the height (in pixels) of the titlebar
attached to popup shells such as candidate selection window.
Kinput2 uses this value to compute the correct <br>
popup location of these windows.</p>

<p style="margin-top: 1em">WIDGET TREE <br>
Below is the widget hierarchy of kinput2. <br>
Kinput2 kinput2 <br>
ConversionManager convmanager <br>
KinputProtocol kinputprotocol <br>
XimpProtocol ximpprotocol <br>
IMProtocol improtocol <br>
SeparateConversion converter <br>
CcWnn inputObj <br>
Canna inputObj <br>
Sj3 inputObj <br>
JpWcharDisplay displayObj <br>
Form form <br>
ICLabel mode <br>
JpWcharDisplay display <br>
Canvas text <br>
TransientShell selectionShell <br>
CandidatePanel selection <br>
JpWcharDisplay display <br>
TransientShell auxShell <br>
AuxPanel aux <br>
JpWcharDisplay display <br>
OffTheSpotConversion converter <br>
CcWnn inputObj <br>
Canna inputObj <br>
Sj3 inputObj <br>
JpWcharDisplay displayObj <br>
AdoptedShell modeShell <br>
ICLabel mode <br>
JpWcharDisplay display <br>
CanvasShell text <br>
TransientShell selectionShell <br>
CandidatePanel selection <br>
JpWcharDisplay display <br>
TransientShell auxShell <br>
AuxPanel aux <br>
JpWcharDisplay display <br>
OverTheSpotConversion converter <br>
CcWnn inputObj <br>
Canna inputObj <br>
Sj3 inputObj <br>
JpWcharDisplay displayObj <br>
TransientShell selectionShell <br>
CandidatePanel selection <br>
JpWcharDisplay display <br>
TransientShell auxShell <br>
AuxPanel aux <br>
JpWcharDisplay display <br>
AdoptedShell modeShell <br>
ICLabel mode <br>
JpWcharDisplay display <br>
TransientShell modeShell <br>
ICLabel mode <br>
JpWcharDisplay display <br>
CanvasShell text</p>

<p style="margin-top: 1em">RESOURCES <br>
There are too many resources to describe here, but you
don&rsquo;t have to know most of them. So here is a brief
description of resources which you might want to set.</p>

<p style="margin-top: 1em">Kinput2 application
resource:</p>

<p style="margin-top: 1em">conversionEngine <br>
This resource specifies which conversion engine to use. You
can specify one of &lsquo;&lsquo;wnn&rsquo;&rsquo;,
&lsquo;&lsquo;canna&rsquo;&rsquo;,
&lsquo;&lsquo;sj3&rsquo;&rsquo; or
&lsquo;&lsquo;atok&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">ConversionControl widget (which
is a superclass of SeparateConversion, OffTheSpotConversion
and OverTheSpotConversion) resource:</p>

<p style="margin-top: 1em">sendbackKeyPress <br>
If this resource is &lsquo;&lsquo;true&rsquo;&rsquo;, the
KeyPress events intercepted but unused by kinput2 are sent
back to the client when there is no conversion text.
Although this feature <br>
is convenient, it might confuse some clients since none of
corresponding KeyRelease events are sent. Also, since the
&lsquo;&lsquo;send_event&rsquo;&rsquo; flag of those events
are true, some <br>
clients do not accept events sent back by kinput2. For
example, kterm doesn&rsquo;t accept those events without
specifying <br>
KTerm*allowSendEvents: true <br>
in a resource file. <br>
The default of sendbackKeyPress resource is true.</p>

<p style="margin-top: 1em">titlebarHeight <br>
This resource specifies the height of a title bar which is
attached to various popup shell windows, such as candicate
selection. When computing the location of these <br>
windows, kinput2 uses this value to pop up them at correct
position. <br>
The default is 0P.</p>

<p style="margin-top: 1em">OverTheSpotConversion widget
resources:</p>

<p style="margin-top: 1em">shrinkWindow <br>
If this resource is &lsquo;&lsquo;true&rsquo;&rsquo;, the
width of on-the-spot conversion window shrinks according to
the length of the text on it. Otherwise, the window never
shrinks. If the <br>
performance of Xserver on window resizing is poor, you may
consider setting this resources to false. The default is
true.</p>

<p style="margin-top: 1em">modeLocation <br>
This resource specifies the location of status widget in
case of over-the-spot type conversion. Unless client
specifies the location explicitly, the location of the
sta&acirc; <br>
tus widget is determined by this resource. If the value of
this resource is &lsquo;&lsquo;topleft&rsquo;&rsquo;, the
widget is placed at the top left of the client window. You
can also specify <br>
&lsquo;&lsquo;topright&rsquo;&rsquo;,
&lsquo;&lsquo;bottomleft&rsquo;&rsquo; and
&lsquo;&lsquo;bottomright&rsquo;&rsquo;. If the value is
&lsquo;&lsquo;tracktext&rsquo;&rsquo;, the widget is placed
just under the cursor position, and moves according to the
cursor. <br>
However, if the region available for conversion is too
small, status is placed at the bottom left of the client
area. If the value is &lsquo;&lsquo;none&rsquo;&rsquo;, the
status widget will <br>
never appear. <br>
The default is &lsquo;&lsquo;tracktext&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">modeBorderForeground <br>
If this resource is &lsquo;&lsquo;true&rsquo;&rsquo;, the
color of status widget is forced to be same as the
foreground color of the widget. <br>
The default is false.</p>

<p style="margin-top: 1em">useOverrideShellForMode <br>
If this resource is &lsquo;&lsquo;true&rsquo;&rsquo;, the
status widget becomes an instance of OverriddeShell, instead
of the default TransientShell. Turn this resource on if you
encounter a <br>
strange phenomenon that the status widget keeps flickering
and you cannnot enter any text. This is caused by
(incorrect) focus management of your window manager, and
<br>
setting this resource will stop any window management for
the widget. The result is that the widget will be totally
ignored by the window manager, meaning you cannot <br>
move, resize, raise nor lower the widget. <br>
The default is false.</p>

<p style="margin-top: 1em">OnTheSpotConversion widget
resources:</p>

<p style="margin-top: 1em">feedbackAttributes <br>
This resource specifies the display attributes of preedit
string when on-the-spot input style is used. In on-the-spot
style, it is a client&rsquo;s responsibility to draw <br>
preedit string, and kinput2 sends some hints on how it
should be drawn, which is controled by this resource. The
value of this resource should be a comma-separated list <br>
of 4 elements, and each element represents the drawing hint
of specific type of string. They represent the hints for
not-yet-converted string, for converted string, for <br>
converted string which belongs to the current clause, for
converted string belonging to the current sub-clause, in
that order. Each element consists of zero or more <br>
drawing attributes, which are &lsquo;R&rsquo; (reverse),
&lsquo;U&rsquo; (underline), &lsquo;H&rsquo; (highlight),
&lsquo;P&rsquo; (primary), &lsquo;S&rsquo; (secondary) or
&lsquo;T&rsquo; (tertiary). You should consult the Xlib
document for <br>
the meaning of these attributes (see the section about
preedit draw callback). The default is
&lsquo;&lsquo;U,,R,H&rsquo;&rsquo;, which is close to the
drawing attributes used by other input <br>
styles.</p>

<p style="margin-top: 1em">CcWnn (conversion widget using
Wnn) resources:</p>

<p style="margin-top: 1em">jserver <br>
This resource specifies the hostname of the (primary)
jserver to be used for conversion. If not specified, value
of environment variable &lsquo;&lsquo;JSERVER&rsquo;&rsquo;
is used.</p>

<p style="margin-top: 1em">jserver2nd <br>
This resource specifies the hostname of the secondary
jserver, which is used if the primary server is down. If not
specified, kinput2 doesn&rsquo;t use secondary server.</p>

<p style="margin-top: 1em">wnnEnvrc4 <br>
This resource specifies the filename of the Wnn conversion
environment initialization file. This file is used when the
Wnn server (jserver) is version 4. See documents of <br>
Wnn for the format of the file. The default is
/usr/local/lib/wnn/wnnenvrc.</p>

<p style="margin-top: 1em">wnnEnvrc6 <br>
This resource also specifies the filename of the Wnn
conversion environment initialization file. This file is
used when the Wnn server (jserver) is version 6. See
docu&acirc; <br>
ments of Wnn for the format of the file.</p>

<p style="margin-top: 1em">wnnEnvrc <br>
This resource is provided for backward compatibility. Use
wnnEnvrc4 or wnnEnvrc6 instead.</p>

<p style="margin-top: 1em">ccdef <br>
This resource specifies the input character conversion rule
file. The default is /usr/lib/X11/ccdef/ccdef.kinput2.</p>

<p style="margin-top: 1em">Canna (conversion widget using
Canna) resources:</p>

<p style="margin-top: 1em">cannahost <br>
This resource specifies the hostname of the canna server to
be used.</p>

<p style="margin-top: 1em">cannafile <br>
This resource specifies Canna conversion customization
file.</p>

<p style="margin-top: 1em">Sj3 (conversion widget using
SJ3) resources:</p>

<p style="margin-top: 1em">sj3serv <br>
This resource specifies the hostname of the (primary)
sj3serv to be used for conversion. If not specified, value
of environment variable &lsquo;&lsquo;SJ3SERV&rsquo;&rsquo;
is used.</p>

<p style="margin-top: 1em">sj3serv2 <br>
This resource specifies the hostname of the secondary
sj3serv, which is used if the primary server is down.</p>

<p style="margin-top: 1em">rcfile <br>
This resource specifies the filename of the Sj3 conversion
customization file. The default is
/usr/lib/X11/sj3def/sjrc.</p>

<p style="margin-top: 1em">rkfile <br>
This resource specifies the Romaji-Kana conversion rule
file. The default is /usr/lib/X11/sj3def/sjrk.</p>

<p style="margin-top: 1em">Atok (conversion widget using
Atok) resources:</p>

<p style="margin-top: 1em">server <br>
This resource specifies the hostname of the atok server to
be used for conversion.</p>

<p style="margin-top: 1em">port <br>
This resource specifies the port number of the atok
server.</p>

<p style="margin-top: 1em">conf <br>
This resource specifies the name of atok configuration
file.</p>

<p style="margin-top: 1em">style <br>
This resource specifies the name of atok style file.</p>

<p style="margin-top: 1em">JpWcharDisplay (widget for
drawing Japanese text) resources:</p>

<p style="margin-top: 1em">font, kanjiFont, kanaFont <br>
These resource specifies the font to be used for displaying
ASCII, Kanji and Kana text, respectively. Since kinput2
changes fonts dynamically by client requests, the <br>
fonts specified by these resources might not be used. If not
specified, the following fonts are used. <br>
-*-fixed-medium-r-normal--14-*-*-*-c-*-iso8859-1 <br>
-*-fixed-medium-r-normal--14-*-*-*-c-*-jisx0208.1983-0 <br>
-*-fixed-medium-r-normal--14-*-*-*-c-*-jisx0201.1976-0</p>

<p style="margin-top: 1em">KinputProtocol (widget for
handling kinput protocol family - kinput, kinput2, jinput
and xlc protocol) resources:</p>

<p style="margin-top: 1em">backwardCompatible <br>
All of the protocols in kinput protocol family use X
window&rsquo;s selection mechanism to notify other clients
of front-end&rsquo;s existence. If this resource is
&lsquo;&lsquo;true&rsquo;&rsquo;, kinput2 <br>
uses selection
&lsquo;&lsquo;JAPANESE_CONVERSION&rsquo;&rsquo; (which is
not a standard selection name) as well as
&lsquo;&lsquo;_JAPANESE_CONVERSION&rsquo;&rsquo;. This is
for backward compatibility, since many of <br>
the applications using these protocols still use this
non-standard selection. <br>
The default is true.</p>

<p style="margin-top: 1em">xlcConversionStartKey <br>
This resource specifies the key that starts the conversion.
The key is a hint for the clients using xlc protocol to
determine when they should request conversion to kin&acirc;
<br>
put2. The syntax of the specification is a subset of the
translation table syntax: <br>
modifier-names&lt;Key&gt;keysym-name <br>
where modifier-names is a combination of Shift, Lock, Meta,
Alt and Mod[1-5]. <br>
The default is Shift&lt;Key&gt;space.</p>

<p style="margin-top: 1em">XimpProtocol and IMProtocol
(which handle XIMP protocol and X Input Method Protocol)
resources:</p>

<p style="margin-top: 1em">conversionStartKeys <br>
This resource specifies the keys that start the conversion.
The syntax of the specification is a subset of the
translation table syntax: <br>
modifier-names&lt;Key&gt;keysym-name <br>
where modifier-names is a combination of Ctrl, Shift, Lock,
Meta, Alt and Mod[1-5]. A &rsquo;~&rsquo; can precede each
modifier name, meaning the modifier must not be asserted.
For <br>
example, if the conversion start key is
&lsquo;&lsquo;Kanji&rsquo;&rsquo; key with shift key pressed
and control key not pressed (other modifier keys may be
pressed or not), the specification <br>
is: <br>
Shift ~Ctrl&lt;Key&gt;Kanji <br>
Multiple keys can be specified by separating them with
newlines. <br>
The default is as follows: <br>
Shift&lt;Key&gt;space Ctrl&lt;Key&gt;Kanji</p>

<p style="margin-top: 1em">defaultFontList <br>
This resource specifies the default fonts to be used if the
client does not specify fonts to be used. The default is
-*-fixed-medium-r-normal--14-*-*-*-c-*.</p>

<p style="margin-top: 1em">CLIENT SETUP <br>
When using X Input Method Protocol, you have to specify the
name of the input server you want to use. This can be done
by setting &lsquo;&lsquo;inputMethod&rsquo;&rsquo; resource
or setting XMODIFIERS <br>
environment variable. Since some clients don&rsquo;t regard
inputMethod resource while other clients ignore XMODIFIERS
variable, so it is a good idea to set both of them.</p>

<p style="margin-top: 1em">To use kinput2, you should add
the following line to your resource file (such as
.Xresources or .Xdefaults): <br>
*inputMethod: kinput2 <br>
and, set XMODIFIERS to
&lsquo;&lsquo;@im=kinput2&rsquo;&rsquo;. <br>
setenv XMODIFIERS &quot;@im=kinput2&quot; (for csh) <br>
XMODIFIERS=&quot;@im=kinput2&quot;; export XMODIFIERS (for
sh)</p>

<p style="margin-top: 1em">SEE ALSO <br>
Wnn documents, Canna documents, Sj3 documents, XIMP protocol
specification, The Input Method Protocol</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright 1988, 1989, 1990, 1991, 1992, 1994 Software
Research Associates, Inc. <br>
Copyright 1991 NEC Corporation, Tokyo, Japan. <br>
Copyright 1991 Sony Corporation <br>
Copyright 1998 MORIBE, Hideyuki <br>
Copyright 1999 Kazuki YASUMATSU <br>
Copyright 1999 Justsystem Corporation, Japan.</p>

<p style="margin-top: 1em">AUTHORS <br>
Makoto Ishisone, Software Research Associates, Inc. <br>
Akira Kon, NEC Corporation <br>
Naoshi Suzuki, Sony Corporation <br>
MORIBE, Hideyuki <br>
Kazuki YASUMATSU <br>
Atsushi Irisawa</p>

<p style="margin-top: 1em">X Version 11 24 March 1999
KINPUT2(1)</p>
<hr>
</body>
</html>
