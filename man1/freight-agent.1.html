<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:10:47 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>freight-agent(1) General Commands Manual
freight-agent(1)</p>

<p style="margin-top: 1em">NAME <br>
freight-agent - daemon to download and execute systemd
containers</p>

<p style="margin-top: 1em">SYNOPSIS <br>
frieght-agent [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
freight-agent Is a daemon that executes on a remote host,
downloading and executing systemd containers produced by
freight-builder. A freight administrator can direct
configured <br>
agents to execute containers provided in configured yum
repositories.</p>

<p style="margin-top: 1em">OPTIONS <br>
freight-agent [OPTIONS]</p>

<p style="margin-top: 1em">-h | --help <br>
Display options and usage for the daemon</p>

<p style="margin-top: 1em">-c | --config
&lt;/path/to/config/file&gt; <br>
Specify the config file to use with freight-agent (defaults
to</p>

<p style="margin-top: 1em">-l | --list
&lt;all|local|running&gt; <br>
Select local or global scope in list mode, or list running
containers</p>

<p style="margin-top: 1em">-v | --verbose <br>
Verbose output</p>

<p style="margin-top: 1em">-m | --mode &lt;mode&gt; <br>
Specify the mode which freight agent is operating in</p>

<p style="margin-top: 1em">--mode node <br>
Operate in node mode - freight-agent listens for and
executes container requests</p>

<p style="margin-top: 1em">--mode master <br>
Operate in master mode - freight-agent monitors health of
nodes and database /etc/freight-agent/config</p>

<p style="margin-top: 1em">--mode init <br>
Preform a one time initalization of the container working
directory for freight-agent. This is useful for setting up
for local container install and execution.</p>

<p style="margin-top: 1em">--mode clean <br>
Remove that freight-agent container root working directory.
This destroys the yum and local rpm databases that track
which containers are installed, removes the installed <br>
containers, and destroys the existing config retrieved from
the database.</p>

<p style="margin-top: 1em">CONFIG FILE FORMAT</p>

<p style="margin-top: 1em">The config file has the
following format</p>


<p style="margin-top: 1em">---------------------------------------------
<br>
# These are comments</p>

<p style="margin-top: 1em"># The type of database to
connect to <br>
# postgres is meant for clusters of freight agents on
multiple systesm <br>
# sqlite is meant for local installations <br>
# freightproxy is the xmlrpc proxy to a backend postgres db
<br>
db = { <br>
dbtype = &quot;postgres | sqlite | freightproxy&quot;; <br>
hostaddr = &quot;hostname of db server&quot;; <br>
hostport = &quot;optional port of db server <br>
dbname = &quot;Name of database/database file&quot;; <br>
user = &quot;User name to access server&quot;; <br>
password = &quot;password to access server&quot;; <br>
};</p>

<p style="margin-top: 1em"># configuration for
freight-agent when running in node mode <br>
node = { <br>
container_root = &quot;Path to container store&quot;; <br>
host_bridge = &quot;bridge to use for container
communication&quot;; <br>
hostname = &quot;name to register in db. defaults to
gethostname&quot;; <br>
gc_interval = &quot;How often to check for unused containers
(0 disables)&quot;; <br>
gc_thresh = &quot;Number of gc intervals before a container
is removed&quot;; <br>
};</p>

<p style="margin-top: 1em"># configuration for freight
proxy server <br>
proxy = { <br>
serverport = &quot;8080&quot;; <br>
log = &quot;/tmp/freightproxy.log&quot;; <br>
};</p>

<p style="margin-top: 1em">master = { <br>
};</p>


<p style="margin-top: 1em">----------------------------------------------</p>

<p style="margin-top: 1em">Note that the dbtype field
supports the following database types</p>

<p style="margin-top: 1em">postgres</p>

<p style="margin-top: 1em">Standard postgres database</p>

<p style="margin-top: 1em">nodb</p>

<p style="margin-top: 1em">A Null db for local freigght
agent use</p>

<p style="margin-top: 1em">freightproxy</p>

<p style="margin-top: 1em">Connection to the freightproxy
xmlrpc database proxy</p>

<p style="margin-top: 1em">Neil Horman Apr 2015
freight-agent(1)</p>
<hr>
</body>
</html>
