<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:06:45 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>ECACCESS-JOB-SUBMIT(1p) User Contributed Perl
Documentation ECACCESS-JOB-SUBMIT(1p)</p>

<p style="margin-top: 1em">NAME <br>
ecaccess-job-submit - Submit a new ECaccess Job</p>

<p style="margin-top: 1em">SYNOPSIS <br>
ecaccess-job-submit -version|-help|-manual</p>

<p style="margin-top: 1em">ecaccess-job-submit [-debug]
[-distant] [-encrypt] [-bufsize length] [-scheduledDate
date] [-noDirectives] [-gateway name] [-remote location]
[-transferOutput] [-transferError] <br>
[-transferInput] [-keep] [-eventIds list] [-sterr2Stdout]
[-noRenew] [-mailTo email] [-onStart] [-onSuccess]
[-onFailure] [-onRetry] [-jobName name] [-manPage content]
[-lifeTime <br>
days] [-retryCount number] [-retryFrequency frequency]
[-queueName name] source</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Allow submitting the source script on either the default
ECaccess batch queue or the ECaccess batch queue specified
with the -queueName option. ECaccess batch queue name can be
<br>
obtained with the ecaccess-queue-list command (the default
queue is the first in the list).</p>

<p style="margin-top: 1em">A special service (see option
-eventIds) allows to automatically submit jobs to be run
when certain points in the daily ECMWF operational forecast
suite have been reached. The <br>
main purpose is to ensure that certain data is available
before e.g. submitting a MARS request. These events
correspond to the different stages when the ECMWF
operational <br>
activity has produced certain data or products. The list of
events can be retrieved with the ecaccess-event-list
command.</p>

<p style="margin-top: 1em">In order to facilitate the
migration from the old ECtools (ecjreq/ecjput commands) the
equivalents options can be set using their old names (e.g.
-at for -scheduledDate). This <br>
should limit the scripts modifications for job
submissions.</p>

<p style="margin-top: 1em">ARGUMENTS <br>
source The name of the file which contains the job input
script (depending of the -distant option this file is either
at ECMWF or local to your workstation).</p>

<p style="margin-top: 1em">OPTIONS <br>
-distant <br>
By default the source is specifying a file which is local to
your workstation. Using this option allow submitting a
script which is already at ECMWF.</p>

<p style="margin-top: 1em">-encrypt <br>
By default the source file is uploaded through the plain
text channel (http). Using this option will force the upload
to occurs through the SSL secure channel (https). <br>
This option only apply for local scripts (no -distant).</p>

<p style="margin-top: 1em">-bufsize length <br>
Specify the length of the buffer (in bytes) which is used to
upload the file. The larger the buffer the smaller the
number of http/s requests. By default a buffer of <br>
524288 bytes (512KB) is used. This option only apply for
local scripts (no -distant).</p>

<p style="margin-top: 1em">-at, -scheduledDate date <br>
Allow specifying the start date for the Job. By default the
job will start as soon as possible. The format for the date
is &rsquo;yyyy-MM-dd HH:mm&rsquo;.</p>

<p style="margin-top: 1em">-nd, -noDirectives <br>
Allow submitting a job with no scheduler directives. Some
default directives will be added to your input script to
allow processing the job.</p>

<p style="margin-top: 1em">-tg, -gateway name <br>
This is the name of the target ECaccess Gateway for the
transfers. It is by default the Gateway you are connected
to. In order to get the name of your current Gateway you
<br>
can use the ecaccess-gateway-name command. When using the
commands at ECMWF the default Gateway is always
&quot;ecaccess.ecmwf.int&quot;.</p>

<p style="margin-top: 1em">-tr, -remote location <br>
Defines the target ECtrans location in the format
association-name[@protocol].</p>

<p style="margin-top: 1em">-to, -transferOutput <br>
Request the transfer of the job standard output to the
gateway and remote location defined in the -gateway and
-remote options.</p>

<p style="margin-top: 1em">-te, -transferError <br>
Request the transfer of the job error output to the gateway
and remote location defined in the -gateway and -remote
options.</p>

<p style="margin-top: 1em">-ti, -transferInput <br>
Request the transfer of the job input to the gateway and
remote location defined in the -gateway and -remote
options.</p>

<p style="margin-top: 1em">-tk, -keep <br>
Allow keeping the transfers requests in the spool.</p>

<p style="margin-top: 1em">-ni, -eventIds list <br>
Allow giving a list of event-identifiers to subscribe to
with the Job. The list should be separated by
&rsquo;;&rsquo; or &rsquo;,&rsquo;.</p>

<p style="margin-top: 1em">-eo, -sterr2Stdout <br>
Force redirection of the job standard error output (stderr)
to the job standard output (stdout).</p>

<p style="margin-top: 1em">-ro, -noRenew <br>
The job subscriptions to events will not be renewed.</p>

<p style="margin-top: 1em">-mu, -mailTo email <br>
Defines the target email address (default: current ECMWF
user identifier).</p>

<p style="margin-top: 1em">-mb, -onStart <br>
Allow sending a mail when the execution/transfer begins.</p>

<p style="margin-top: 1em">-me, -onSuccess <br>
Allow sending a mail when the execution/transfer ends.</p>

<p style="margin-top: 1em">-mf, -onFailure <br>
Allow sending a mail when the execution/transfer fails.</p>

<p style="margin-top: 1em">-mr, -onRetry <br>
Allow sending a mail when the execution/transfer
retries.</p>

<p style="margin-top: 1em">-queueName name <br>
The name of the ECaccess batch queue to submit the job
to.</p>

<p style="margin-top: 1em">-jn, -jobName name <br>
Allow specifying a name for the new Job (other than the Job
Identifier). If no name is specified then the name of the
input script is used.</p>

<p style="margin-top: 1em">-mp, -manPage content <br>
Allow giving the man page content which will be displayed to
the ECMWF operators in case of problems with your Job (e.g.
what to do or who to contact).</p>

<p style="margin-top: 1em">-lt, -lifeTime days <br>
Allow specifying the job input/output life time in days. The
default is 7 days.</p>

<p style="margin-top: 1em">-rc, -retryCount number <br>
Defines the number of retries. The default is 0.</p>

<p style="margin-top: 1em">-rf, -retryFrequency frequency
<br>
Defines the frequency of retries in seconds. The default is
600 seconds.</p>

<p style="margin-top: 1em">-version <br>
Display version number and exits.</p>

<p style="margin-top: 1em">-help Print a brief help message
and exits.</p>

<p style="margin-top: 1em">-manual Prints the manual page
and exits.</p>

<p style="margin-top: 1em">-retry count <br>
Number of SSL connection retries per 5s to ECMWF. This
parameter only apply to the initial SSL connection initiated
by the command to the ECMWF server. It does not apply <br>
to all the subsequent requests made afteward as it is mainly
targeting errors that can happen from time to time during
the SSL handshake. Default is no retry.</p>

<p style="margin-top: 1em">-debug Display the SOAP and SSL
messages exchanged.</p>

<p style="margin-top: 1em">EXAMPLES <br>
ecaccess-job-submit -noDirectives ./test.txt</p>

<p style="margin-top: 1em">Transfer the local file test.txt
to your ECMWF spool and submit the job to the default
ECaccess batch queue. The source does not have any
directives.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ecaccess-queue-list, ecaccess-event-list,
ecaccess-job-delete, ecaccess-job-get, ecaccess-job-list
ecaccess-job-restart and ecaccess.</p>

<p style="margin-top: 1em">perl v5.18.1 2013-12-11
ECACCESS-JOB-SUBMIT(1p)</p>
<hr>
</body>
</html>
