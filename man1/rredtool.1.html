<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>RREDTOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RREDTOOL(1)</td>
    <td class="head-vol">REPREPRO</td>
    <td class="head-rtitle">RREDTOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
rredtool - merge or apply a very restricted subset of ed patches
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>rredtool --help</b>
<div style="height: 1.00em;">&#x00A0;</div>
<b>rredtool</b> [ <i>options</i> ] <b>--merge</b> <i>patches...</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>rredtool</b> [ <i>options</i> ] <b>--patch</b> <i>file-to-patch</i>
  <i>patches...</i>
<div style="height: 1.00em;">&#x00A0;</div>
<b>rredtool</b> <i>directory</i> <i>newfile</i> <i>oldfile</i> <i>mode</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
rredtool is a tool to handle a subset of ed patches in a safe way. It is
  especially targeted at ed patches as used in Packages.diff and Sources.diff.
  Is also has a mode supposed to be called from reprepro as Index Hook to
  generate and update a <b>Packages.diff/Index</b> file.
<h1 class="Sh" title="Sh" id="MODI"><a class="selflink" href="#MODI">MODI</a></h1>
One of the following has to be given, so that rredtool know that to do.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Print the version of this tool (or rather the version of
      reprepro which it is coming with).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Print a short overview of the modi.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--patch</b></dt>
  <dd class="It-tag">The first argument of rredtool is the file to patch, the
      other arguments are ed patches to apply on this one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--merge</b></dt>
  <dd class="It-tag">The arguments are treated as ed patches, which are merged
      into a single one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--reprepro-hook</b> (or no other mode flag)</dt>
  <dd class="It-tag">Act as reprepro index hook to manage a
      <b>Packages.diff/index</b> file. That means it expects to get exactly 4
      arguments and writes the names of files to place into filedescriptor 3.
    <div style="height: 1.00em;">&#x00A0;</div>
    If neither --patch nor --merge is given, this mode is used, so you can just
      put
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     <b>DebIndices: Packages Release . .gz /usr/bin/rredtool</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    into reprepro's <b>conf/distributions</b> file to have a Packages.diff
      directory generated. (Note that you have to generate an uncompressed file
      (the single dot). You will need to have patch, gzip and gunzip available
      in your path.)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug</b></dt>
  <dd class="It-tag">Print intermediate results or other details that might be
      interesting when trying to track down bugs in rredtool but not intresting
      otherwise.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--max-patch-count=<i>count</i></b></dt>
  <dd class="It-tag">When generating a <i>Packages</i><b>.diff/Index</b> file,
      put at most <i>count</i> patches in it (not counting possible apt
      workaround patches).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>|<b>--output</b></dt>
  <dd class="It-tag">Not yet implemented.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TMPDIR</b>, <b>TEMPDIR</b></dt>
  <dd class="It-tag">temporary files are created in $<i>TEMPDIR</i> if set,
      otherwise in $ <i>TMPDIR</i> if set, otherwise in <b>/tmp/</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs or wishlist requests the Debian BTS (e.g. by using <b>reportbug
  reperepro</b>) or directly to &lt;brlink@debian.org&gt;.
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2009 Bernhard R. Link
<div>&#x00A0;</div>
This is free software; see the source for copying conditions. There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
  PURPOSE.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2009-11-12</td>
    <td class="foot-os">reprepro</td>
  </tr>
</table>
</body>
</html>
