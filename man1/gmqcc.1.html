<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:14:06 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GMQCC(1) Programmer&rsquo;s Manual GMQCC(1)</p>

<p style="margin-top: 1em">NAME <br>
gmqcc &acirc; A Quake C compiler built from the NIH realm of
sarcastic wit</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gmqcc [options] [files...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Traditionally, a QC compiler reads the file progs.src which
in its first line contains the output filename, and the rest
is a list of QC source files that are to be compiled in <br>
order. gmqcc optionally takes options to specify the output
and input files on the commandline, and also accepts
assembly files.</p>

<p style="margin-top: 1em">OPTIONS <br>
gmqcc mostly tries to mimic gcc&rsquo;s commandline
handling, though there are also traditional long-options
available.</p>

<p style="margin-top: 1em">-h, --help <br>
Show a usage message and exit.</p>

<p style="margin-top: 1em">-o, --output=filename <br>
Specify the output filename. Defaults to progs.dat. This
will overwrite the output file listed in a progs.src file in
case such a file is used.</p>

<p style="margin-top: 1em">-Onumber <br>
Specify the optimization level</p>

<p style="margin-top: 1em">3 Highest optimization level</p>

<p style="margin-top: 1em">2 Default optimization level</p>

<p style="margin-top: 1em">1 Minimal optimization level</p>

<p style="margin-top: 1em">0 Disable optimization
entirely</p>

<p style="margin-top: 1em">-Oname, -Ono-name <br>
Enable or disable a specific optimization. Note that these
options must be used after setting the optimization level,
otherwise they&rsquo;ll be overwritten.</p>

<p style="margin-top: 1em">-Ohelp List all possible
optimizations and the optimization level they&rsquo;re
activated at.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Be less verbose. In particular removes the messages about
which files are being processed, and which compilation mode
is being used, and some others. Warnings and errors <br>
will of course still be displayed.</p>

<p style="margin-top: 1em">-Dmacroname, -Dmacroname=value
<br>
Predefine a macro, optionally with a optional value.</p>

<p style="margin-top: 1em">-E Run only the preprocessor as
if -fftepp was used and print the preprocessed code to
stdout.</p>

<p style="margin-top: 1em">-Wwarning, -Wno-warning <br>
Enable or disable a warning.</p>

<p style="margin-top: 1em">-Wall Enable almost all
warnings. Overrides preceding -W parameters.</p>

<p style="margin-top: 1em">The following warnings will not
be enabled:</p>

<p style="margin-top: 1em">-Wuninitialized-global</p>

<p style="margin-top: 1em">-Werror, -Wno-error <br>
Controls whether or not all warnings should be treated as
errors.</p>

<p style="margin-top: 1em">-Werror-warning,
-Wno-error-warning <br>
Controls whether a specific warning should be an error.</p>

<p style="margin-top: 1em">-Whelp List all possible warn
flags.</p>

<p style="margin-top: 1em">-fflag, -fno-flag <br>
Enable or disable a specific compile flag. See the list of
flags below.</p>

<p style="margin-top: 1em">-fhelp List all possible compile
flags.</p>

<p style="margin-top: 1em">-nocolor <br>
Disables colored output</p>

<p style="margin-top: 1em">-config=file <br>
Use an ini file to read all the -O, -W and -f flag from. See
the</p>

<p style="margin-top: 1em">-debug Turn on some compiler
debugging mechanisms.</p>

<p style="margin-top: 1em">-memchk <br>
Turn on compiler mem-check. (Shows allocations and checks
for leaks.)</p>

<p style="margin-top: 1em">--memdumpcolscolumns <br>
Changes the number of columns to use for the debug memory
dump, defaults to 16. CONFIG section about the file
format.</p>

<p style="margin-top: 1em">-redirout=file <br>
Redirects standard output to a file</p>

<p style="margin-top: 1em">-redirerr=file <br>
Redirects standard error to a file</p>

<p style="margin-top: 1em">-std=standard <br>
Use the specified standard for parsing QC code. The
following standards are available: gmqcc, qcc, fteqcc
Selecting a standard also implies some -f options and
behaves as <br>
if those options have been written right after the -std
option, meaning if you changed them before the --std option,
you&rsquo;re now overwriting them.</p>

<p style="margin-top: 1em">-std=gmqcc includes: <br>
-fadjust-vector-fields <br>
-fcorrect-logic <br>
-ftrue-empty-strings <br>
-floop-labels <br>
-finitialized-nonconstants <br>
-ftranslatable-strings <br>
-fno-false-empty-strings <br>
-Winvalid-parameter-count <br>
-Wmissing-returnvalues <br>
-fcorrect-ternary (cannot be turned off)</p>

<p style="margin-top: 1em">-std=qcc includes: <br>
-fassign-function-types <br>
-fIno-adjust-vector-fields</p>

<p style="margin-top: 1em">-std=fteqcc includes: <br>
-fftepp <br>
-ftranslatable-strings <br>
-fassign-function-types <br>
-Wternary-precedence <br>
-fno-adjust-vector-fields <br>
-fno-correct-ternary</p>

<p style="margin-top: 1em">--add-info <br>
Adds compiler information to the generated binary file.
Currently this includes the following globals: <br>
reserved:version <br>
String containing the compiler version as printed by the
--version parameter.</p>

<p style="margin-top: 1em">--correct, --no-correct <br>
When enabled, errors about undefined values try to suggest
an existing value via spell checking.</p>

<p style="margin-top: 1em">-dump DEBUG OPTION. Print the
code&rsquo;s intermediate representation before the
optimization and finalization passes to stdout before
generating the binary.</p>

<p style="margin-top: 1em">-dumpfin <br>
DEBUG OPTION. Print the code&rsquo;s intermediate
representation after the optimization and finalization
passes to stdout before generating the binary. The
instructions will be <br>
enumerated, and values will contain a list of
liferanges.</p>

<p style="margin-top: 1em">COMPILE WARNINGS <br>
-Wunused-variable <br>
Generate a warning about variables which are declared but
never used. This can be avoided by adding the
&acirc;noref&acirc; keyword in front of the variable
declaration. Additionally <br>
a complete section of unreferenced variables can be opened
using &acirc;#pragma noref 1&acirc; and closed via
&acirc;#pragma noref 0&acirc;.</p>

<p style="margin-top: 1em">-Wused-uninitialized <br>
Generate a warning if it is possible that a variable can be
used without prior initialization. Note that this warning is
not necessarily reliable if the initialization hap&acirc;
<br>
pens only under certain conditions. The other way is not
possible: that the warning is not generated when
uninitialized use is possible.</p>

<p style="margin-top: 1em">-Wunknown-control-sequence <br>
Generate an error when an unrecognized control sequence in a
string is used. Meaning: when there&rsquo;s a character
after a backslash in a string which has no known
meaning.</p>

<p style="margin-top: 1em">-Wextensions <br>
Warn when using special extensions which are not part of the
selected standard.</p>

<p style="margin-top: 1em">-Wfield-redeclared <br>
Generally QC compilers ignore redeclaration of fields. Here
you can optionally enable a warning.</p>

<p style="margin-top: 1em">-Wmissing-return-values <br>
Functions which aren&rsquo;t of type void will warn if it
possible to reach the end without returning an actual
value.</p>

<p style="margin-top: 1em">-Winvalid-parameter-count <br>
Warn about a function call with an invalid number of
parameters.</p>

<p style="margin-top: 1em">-Wlocal-shadows <br>
Warn when a locally declared variable shadows variable.</p>

<p style="margin-top: 1em">-Wlocal-constants <br>
Warn when the initialization of a local variable turns the
variable into a constant. This is default behaviour unless
-finitialized-nonconstants is used.</p>

<p style="margin-top: 1em">-Wvoid-variables <br>
There are only 2 known global variables of type void:
&acirc;end_sys_globals&acirc; and
&acirc;end_sys_fields&acirc;. Any other void-variable will
warn.</p>

<p style="margin-top: 1em">-Wimplicit-function-pointer <br>
A global function which is not declared with the
&acirc;var&acirc; keyword is expected to have an
implementing body, or be a builtin. If neither is the case,
it implicitly becomes a <br>
function pointer, and a warning is generated.</p>

<p style="margin-top: 1em">-Wvariadic-function <br>
Currently there&rsquo;s no way for an in QC implemented
function to access variadic parameters. If a function with
variadic parameters has an implementing body, a warning will
be <br>
generated.</p>

<p style="margin-top: 1em">-Wframe-macros <br>
Generate warnings about &acirc;$frame&acirc; commands, for
instance about duplicate frame definitions.</p>

<p style="margin-top: 1em">-Weffectless-statement <br>
Warn about statements which have no effect. Any expression
which does not call a function or assigns a variable.</p>

<p style="margin-top: 1em">-Wend-sys-fields <br>
The &acirc;end_sys_fields&acirc; variable is supposed to be
a global variable of type void. It is also recognized as a
field but this will generate a warning.</p>

<p style="margin-top: 1em">-Wassign-function-types <br>
Warn when assigning to a function pointer with an unmatching
signature. This usually happens in cases like assigning the
null function to an entity&rsquo;s .think function <br>
pointer.</p>

<p style="margin-top: 1em">-Wcpp Show warnings created
using the preprocessor&rsquo;s &rsquo;#warning&rsquo;
directive.</p>

<p style="margin-top: 1em">-Wmultifile-if <br>
Warn if there&rsquo;s a preprocessor #if spanning across
several files.</p>

<p style="margin-top: 1em">-Wdouble-declaration <br>
Warn about multiple declarations of globals. This seems
pretty common in QC code so you probably do not want this
unless you want to clean up your code.</p>

<p style="margin-top: 1em">-Wconst-var <br>
The combination of const and var is not illegal, however
different compilers may handle them differently. We were
told, the intention is to create a function-pointer which
<br>
is not assignable. This is exactly how we interpret it.
However for this interpretation the &acirc;var&acirc;
keyword is considered superfluous (and philosophically
wrong), so it is <br>
possible to generate a warning about this.</p>

<p style="margin-top: 1em">-Wmultibyte-character <br>
Warn about multibyte character constants, they do not work
right now.</p>

<p style="margin-top: 1em">-Wternary-precedence <br>
Warn if a ternary expression which contains a comma operator
is used without enclosing parenthesis, since this is most
likely not what you actually want. We recommend the <br>
-fcorrect-ternary option.</p>

<p style="margin-top: 1em">-Wunknown-pragmas <br>
Warn when encountering an unrecognized &acirc;#pragma&acirc;
line.</p>

<p style="margin-top: 1em">-Wunreachable-code <br>
Warn about unreachable code. That is: code after a return
statement, or code after a call to a function marked as
&rsquo;noreturn&rsquo;.</p>

<p style="margin-top: 1em">-Wdebug <br>
Enable some warnings added in order to help debugging in the
compiler. You won&rsquo;t need this.</p>

<p style="margin-top: 1em">-Wunknown-attribute <br>
Warn on an unknown attribute. The warning will inlclude only
the first token inside the enclosing attribute-brackets.
This may change when the actual attribute syntax is <br>
better defined.</p>

<p style="margin-top: 1em">-Wreserved-names <br>
Warn when using reserved names such as
&acirc;nil&acirc;.</p>

<p style="margin-top: 1em">-Wuninitialized-constant <br>
Warn about global constants (using the &acirc;const&acirc;
keyword) with no assigned value.</p>

<p style="margin-top: 1em">-Wuninitialized-global <br>
Warn about global variables with no initializing value. This
is off by default, and is added mostly to help find
null-values which are supposed to be replaced by the <br>
untyped &rsquo;nil&rsquo; constant.</p>

<p style="margin-top: 1em">-Wdifferent-qualifiers <br>
Warn when a variables is redeclared with a different
qualifier. For example when redeclaring a variable as
&Acirc;&acute;var&Acirc;&acute; which was previously marked
&Acirc;&acute;const&Acirc;&acute;.</p>

<p style="margin-top: 1em">-Wdifferent-attributes <br>
Similar to the above but for attributes like
&acirc;[[noreturn]]&acirc;.</p>

<p style="margin-top: 1em">-Wdeprecated <br>
Warn when a function is marked with the attribute
&quot;[[deprecated]]&quot;. This flag enables a warning on
calls to functions marked as such.</p>

<p style="margin-top: 1em">-Wparenthesis <br>
Warn about possible mistakes caused by missing or wrong
parenthesis, like an assignment in an &rsquo;if&rsquo;
condition when there&rsquo;s no additional set of parens
around the assignment.</p>

<p style="margin-top: 1em">-Wunsafe-types <br>
When passing variadic parameters via ...(N) it can happen
that incompatible types are passed to functions. This
enables several warnings when static typechecking cannot
<br>
guarantee consistent behavior.</p>

<p style="margin-top: 1em">-Wbreakdef <br>
When compiling original id1 QC there is a definition for
&lsquo;break&lsquo; which conflicts with the
&rsquo;break&rsquo; keyword in GMQCC. Enabling this will
print a warning when the definition <br>
occurs. The definition is ignored for both cases.</p>

<p style="margin-top: 1em">-Wconst-overwrite <br>
When compiling original QuakeWorld QC there are instances
where code overwrites constants. This is considered an
error, however for QuakeWorld to compile it needs to be <br>
treated as a warning instead, as such this warning only
works when -std=qcc.</p>

<p style="margin-top: 1em">-Wdirective-inmacro <br>
Warn about the use of preprocessor directives inside
macros.</p>

<p style="margin-top: 1em">COMPILE FLAGS <br>
-fdarkplaces-string-table-bug <br>
Add some additional characters to the string table in order
to compensate for a wrong boundcheck in some specific
version of the darkplaces engine.</p>

<p style="margin-top: 1em">-fadjust-vector-fields <br>
When assigning to field pointers of type .vector the common
behaviour in compilers like fteqcc is to only assign the
x-component of the pointer. This means that you can use <br>
the vector as such, but you cannot use its y and z
components directly. This flag fixes this behaviour. Before
using it make sure your code does not depend on the buggy
be&acirc; <br>
haviour.</p>

<p style="margin-top: 1em">-fftepp <br>
Enable a partially fteqcc-compatible preprocessor. It
supports all the features used in the Xonotic codebase. If
you need more, write a ticket.</p>

<p style="margin-top: 1em">-fftepp-predefs <br>
Enable some predefined macros. This only works in
combination with &Acirc;&acute;-fftepp&rsquo; and is
currently not included by &rsquo;-std=fteqcc&rsquo;. The
following macros will be added:</p>

<p style="margin-top: 1em">__LINE__ <br>
__FILE__ <br>
__COUNTER__ <br>
__COUNTER_LAST__ <br>
__RANDOM__ <br>
__RANDOM_LAST__ <br>
__DATE__ <br>
__TIME__ <br>
__FUNC__</p>

<p style="margin-top: 1em">Note that __FUNC__ is not
actually a preprocessor macro, but is recognized by the
parser even with the preprocessor disabled.</p>

<p style="margin-top: 1em">Note that fteqcc also defines
__NULL__ which becomes the first global. Assigning it to a
vector does not yield the same result as in gmqcc where
__NULL__ is defined to nil <br>
(See -funtyped-nil ), which will cause the vector to be zero
in all components. With fteqcc only the first component will
be 0, while the other two will become the first to <br>
of the global return value. This behavior is odd and relying
on it should be discouraged, and thus is not supported by
gmqcc.</p>

<p style="margin-top: 1em">-frelaxed-switch <br>
Allow switch cases to use non constant variables.</p>

<p style="margin-top: 1em">-fshort-logic <br>
Perform early out in logical AND and OR expressions. The
final result will be either a 0 or a 1, see the next flag
for more possibilities.</p>

<p style="margin-top: 1em">-fperl-logic <br>
In many languages, logical expressions perform early out in
a special way: If the left operand of an AND yeilds true, or
the one of an OR yields false, the complete expres&acirc;
<br>
sion evaluates to the right side. Thus &acirc;true
&amp;&amp; 5&acirc; evaluates to 5 rather than 1.</p>

<p style="margin-top: 1em">-ftranslatable-strings <br>
Enable the underscore intrinsic: Using &acirc;_(&quot;A
string constant&quot;)&acirc; will cause the string
immediate to get a name with a &quot;dotranslate_&quot;
prefix. The darkplaces engine recognizes <br>
these and translates them in a way similar to how gettext
works.</p>

<p style="margin-top: 1em">-finitialized-nonconstants <br>
Don&rsquo;t implicitly convert initialized variables to
constants. With this flag, the const keyword is required to
make a constant.</p>

<p style="margin-top: 1em">-fassign-function-types <br>
If this flag is not set, (and it is set by default in the
qcc and fteqcc standards), assigning function pointers of
mismatching signatures will result in an error rather <br>
than a warning.</p>

<p style="margin-top: 1em">-flno Produce a linenumber file
along with the output .dat file.</p>

<p style="margin-top: 1em">-fcorrect-ternary <br>
Use C&rsquo;s operator precedence for ternary expressions.
Unless your code depends on fteqcc-compatible behaviour,
you&rsquo;ll want to use thi soption.</p>

<p style="margin-top: 1em">-fsingle-vector-defs <br>
Normally vectors generate 4 defs, once for the vector, and
once for its components with _x, _y, _z suffixes. This
option prevents components from being listed.</p>

<p style="margin-top: 1em">-fcorrect-logic <br>
Most QC compilers translate &acirc;if(a_vector)&acirc;
directly as an IF on the vector, which means only the
x-component is checked. This option causes vectors to be
cast to actual <br>
booleans via a NOT_V and, if necessary, a NOT_F chained to
it.</p>

<p style="margin-top: 1em">if (a_vector) // becomes <br>
if not(!a_vector) <br>
// likewise <br>
a = a_vector &amp;&amp; a_float // becomes <br>
a = !!a_vector &amp;&amp; a_float</p>

<p style="margin-top: 1em">-ftrue-empty-strings <br>
An empty string is considered to be true everywhere. The
NOT_S instruction usually considers an empty string to be
false, this option effectively causes the unary not in <br>
strings to use NOT_F instead.</p>

<p style="margin-top: 1em">-ffalse-empty-strings <br>
An empty string is considered to be false everywhere. This
means loops and if statements which depend on a string will
perform a NOT_S instruction on the string before <br>
using it.</p>

<p style="margin-top: 1em">-futf8 Enable utf8 characters.
This allows utf-8 encoded character constants, and escape
sequence codepoints in the valid utf-8 range. Effectively
enabling escape sequences like <br>
&rsquo;x2211}&rsquo;.</p>

<p style="margin-top: 1em">-fbail-on-werror <br>
When a warning is treated as an error, and this option is
set (which it is by default), it is like any other error and
will cause compilation to stop. When disabling this <br>
flag by using -fno-bail-on-werror, compilation will continue
until the end, but no output is generated. Instead the first
such error message&rsquo;s context is shown.</p>

<p style="margin-top: 1em">-floop-labels <br>
Allow loops to be labeled, and allow &rsquo;break&rsquo; and
&rsquo;continue&rsquo; to take an optional label to decide
which loop to actually jump out of or continue.</p>

<p style="margin-top: 1em">for :outer (i = 0; i &lt; n;
++i) { <br>
while (inner) { <br>
...; <br>
if (something) <br>
continue outer; <br>
} <br>
}</p>

<p style="margin-top: 1em">-funtyped-nil <br>
Adds a global named &rsquo;nil&rsquo; which is of no type
and can be assigned to anything. No typechecking will be
performed on assignments. Assigning to it is forbidden,
using it in <br>
any other kind of expression is also not allowed.</p>

<p style="margin-top: 1em">Note that this is different from
fteqcc&rsquo;s __NULL__: In fteqcc, __NULL__ maps to the
integer written as &rsquo;0i&rsquo;. It&rsquo;s can be
assigned to function pointers and integers, but <br>
it&rsquo;ll error about invalid instructions when assigning
it to floats without enabling the FTE instruction set.
There&rsquo;s also a bug which allows it to be assigned to
vectors, <br>
for which the source will be the global at offset 0, meaning
the vector&rsquo;s y and z components will contain the
OFS_RETURN x and y components.</p>

<p style="margin-top: 1em">In that gmqcc the nil global is
an actual global filled with zeroes, and can be assigned to
anything including fields, vectors or function pointers, and
they end up becom&acirc; <br>
ing zeroed.</p>

<p style="margin-top: 1em">-fpermissive <br>
Various effects, usually to weaken some conditions.</p>

<p style="margin-top: 1em">with -funtyped-nil <br>
Allow local variables named &acirc;nil&acirc;. (This will
not allow declaring a global of that name.)</p>

<p style="margin-top: 1em">-fvariadic-args <br>
Allow variadic parameters to be accessed by QC code. This
can be achieved via the &rsquo;...&rsquo; function, which
takes a parameter index and a typename.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">void vafunc(string...count) {
<br>
float i; <br>
for (i = 0; i &lt; count; ++i) <br>
print(...(i, string), &quot;0); <br>
}</p>

<p style="margin-top: 1em">-flegacy-vector-maths <br>
Most Quake VMs, including the one from FTEQW or up till
recently Darkplaces, do not cope well with vector
instructions with overlapping input and output. This option
will <br>
avoid producing such code.</p>

<p style="margin-top: 1em">-fexpressions-for-builtins <br>
Usually builtin-numbers are just immediate constants. With
this flag expressions can be used, as long as they are
compile-time constant.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">void printA() = #1; // the usual
way <br>
void printB() = #2-1; // with a constant expression</p>

<p style="margin-top: 1em">-freturn-assignments <br>
Enabiling this option will allow assigning values or
expressions to the return keyword as if it were a local
variable of the same type as the function&rsquo;s
signature&rsquo;s return <br>
type.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">float bar() { return 1024; }
<br>
float fun() { <br>
return = bar(); <br>
return; // returns value of bar <br>
}</p>

<p style="margin-top: 1em">-funsafe-varargs <br>
When passing on varargs to a different functions, this turns
some static error cases into warnings. Like when the
caller&rsquo;s varargs are restricted to a different type
than <br>
the callee&rsquo;s parameter. Or a list of unrestricted
varargs is passed into restricted varargs.</p>

<p style="margin-top: 1em">-ftypeless-stores <br>
Always use STORE_F, LOAD_F, STOREP_F when accessing scalar
variables. This is somewhat incorrect assembly instruction
use, but in all engines they do exactly the same. <br>
This makes disassembly output harder to read, breaks
decompilers, but causes the output file to be better
compressible.</p>

<p style="margin-top: 1em">-fsort-operands <br>
In commutative instructions, always put the lower-numbered
operand first. This shaves off 1 byte of entropy from all
these instructions, reducing compressed size of the <br>
output file.</p>

<p style="margin-top: 1em">OPTIMIZATIONS <br>
-Opeephole <br>
Some general peephole optimizations. For instance the code
&lsquo;a = b + c&lsquo; typically generates 2 instructions,
an ADD and a STORE. This optimization removes the STORE and
lets <br>
the ADD write directly into A.</p>

<p style="margin-top: 1em">-Otail-recursion <br>
Tail recursive function calls will be turned into loops to
avoid the overhead of the CALL and RETURN instructions.</p>

<p style="margin-top: 1em">-Ooverlap-locals <br>
Make all functions which use neither local arrays nor have
locals which are seen as possibly uninitialized use the same
local section. This should be pretty safe compared <br>
to other compilers which do not check for uninitialized
values properly. The problem is that there&rsquo;s QC code
out there which really doesn&rsquo;t initialize some values.
This is <br>
fine as long as this kind of optimization isn&rsquo;t used,
but also, only as long as the functions cannot be called in
a recursive manner. Since it&rsquo;s hard to know whether or
not <br>
an array is actually fully initialized, especially when
initializing it via a loop, we assume functions with arrays
to be too dangerous for this optimization.</p>

<p style="margin-top: 1em">-Olocal-temps <br>
This promotes locally declared variables to
&quot;temps&quot;. Meaning when a temporary result of an
operation has to be stored somewhere, a local variable which
is not &rsquo;alive&rsquo; at <br>
that point can be used to keep the result. This can reduce
the size of the global section. This will not have declared
variables overlap, even if it was possible.</p>

<p style="margin-top: 1em">-Oglobal-temps <br>
Causes temporary values which do not need to be backed up on
a CALL to not be stored in the function&rsquo;s locals-area.
With this, a CALL to a function may need to back up <br>
fewer values and thus execute faster.</p>

<p style="margin-top: 1em">-Ostrip-constant-names <br>
Don&rsquo;t generate defs for immediate values or even
declared constants. Meaning variables which are implicitly
constant or qualified as such using the &rsquo;const&rsquo;
keyword.</p>

<p style="margin-top: 1em">-Ooverlap-strings <br>
Aggressively reuse strings in the string section. When a
string should be added which is the trailing substring of an
already existing string, the existing string&rsquo;s tail
<br>
will be returned instead of the new string being added.</p>

<p style="margin-top: 1em">For example the following code
will only generate 1 string:</p>

<p style="margin-top: 1em">print(&quot;Hello you!0); <br>
print(&quot;you!0); // trailing substring of &quot;Hello
you!0</p>

<p style="margin-top: 1em">There&rsquo;s however one
limitation. Strings are still processed in order, so if the
above print statements were reversed, this optimization
would not happen.</p>

<p style="margin-top: 1em">-Ocall-stores <br>
By default, all parameters of a CALL are copied into the
parameter-globals right before the CALL instructions. This
is the easiest and safest way to translate calls, but <br>
also adds a lot of unnecessary copying and unnecessary
temporary values. This optimization makes operations which
are used as a parameter evaluate directly into the
parame&acirc; <br>
ter-global if that is possible, which is when there&rsquo;s
no other CALL instruction in between.</p>

<p style="margin-top: 1em">-Ovoid-return <br>
Usually an empty RETURN instruction is added to the end of a
void typed function. However, additionally after every
function a DONE instruction is added for several rea&acirc;
<br>
sons. (For example the qcvm&rsquo;s disassemble switch uses
it to know when the function ends.). This optimization
replaces that last RETURN with DONE rather than adding the
DONE <br>
additionally.</p>

<p style="margin-top: 1em">-Ovector-components <br>
Because traditional QC code doesn&rsquo;t allow you to
access individual vector components of a computed vector
without storing it in a local first, sometimes people
multiply it <br>
by a constant like &acirc;&rsquo;0 1 0&rsquo;&acirc; to get,
in this case, the y component of a vector. This optimization
will turn such a multiplication into a direct component
access. If the <br>
factor is anything other than 1, a float-multiplication will
be added, which is still faster than a vector
multiplication.</p>

<p style="margin-top: 1em">-Oconst-fold-dce <br>
For constant expressions that result in dead code (such as a
branch whos condition can be evaluated at compile-time),
this will eliminate the branch and else body (if <br>
present) to produce more optimal code.</p>

<p style="margin-top: 1em">CONFIG <br>
The configuration file is similar to regular .ini files.
Comments start with hashtags or semicolons, sections are
written in square brackets and in each section there can be
arbi&acirc; <br>
trary many key-value pairs.</p>

<p style="margin-top: 1em">There are 3 sections currently:
&acirc;flags&acirc;, &acirc;warnings&acirc;,
&acirc;optimizations&acirc;. They contain a list of boolean
values of the form &acirc;VARNAME = true&acirc; or
&acirc;VARNAME = false&acirc;. The variable names <br>
are the same as for the corresponding -W, -f or -O flag
written with only capital letters and dashes replaced by
underscores.</p>

<p style="margin-top: 1em">Here&rsquo;s an example:</p>

<p style="margin-top: 1em"># a GMQCC configuration file
<br>
[flags] <br>
FTEPP = true <br>
ADJUST_VECTOR_FIELDS = false <br>
LNO = true</p>

<p style="margin-top: 1em">[warnings] <br>
UNUSED_VARIABLE = false <br>
USED_UNINITIALIZED = true</p>

<p style="margin-top: 1em">[optimizations] <br>
PEEPHOLE = true <br>
TAIL_RECURSION = true</p>

<p style="margin-top: 1em">FILES <br>
gmqcc.ini.example <br>
A documented example for a gmqcc.ini file.</p>

<p style="margin-top: 1em">SEE ALSO <br>
qcvm(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
See &lt;http://graphitemaster.github.com/gmqcc&gt;.</p>

<p style="margin-top: 1em">BUGS <br>
Currently the &rsquo;-fftepp-predefs&rsquo; flag is not
included by &rsquo;-std=fteqcc&rsquo;, partially because it
is not entirely conformant to fteqcc.</p>

<p style="margin-top: 1em">Please report bugs on
&lt;http://github.com/graphitemaster/gmqcc/issues&gt;, or
see &lt;http://graphitemaster.github.com/gmqcc&gt; on how to
contact us.</p>

<p style="margin-top: 1em">BSD January 24, 2013 BSD</p>
<hr>
</body>
</html>
