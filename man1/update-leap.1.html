<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:36 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>update-leap(1update-leapman) User Commands
update-leap(1update-leapman)</p>

<p style="margin-top: 1em">NAME <br>
update-leap - leap-seconds file manager/updater</p>

<p style="margin-top: 1em">SYNOPSIS <br>
update-leap [-flags] [-flag [value]] [--option-name[[=|
]value]]</p>

<p style="margin-top: 1em">All arguments must be
options.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
update-leap will validate the file currently on the local
system and if necessary, updates leap-second definition
file.</p>

<p style="margin-top: 1em">Ordinarily, the file is found
using the &quot;leapfile&quot; directive in ntp.conf(5).
However, an alternate location can be specified on the
command line.</p>

<p style="margin-top: 1em">If the file does not exist, is
not valid, has expired, or is expiring soon, a new copy will
be downloaded. If the new copy validates, it is installed
and NTP is (optionally) <br>
restarted.</p>

<p style="margin-top: 1em">If the current file is
acceptable, no download or restart occurs.</p>

<p style="margin-top: 1em">-c can also be used to invoke
another script to perform administrative functions, e.g. to
copy the file to other local systems.</p>

<p style="margin-top: 1em">This can be run as a cron job.
As the file is rarely updated, and leap seconds are
announced at least one month in advance (usually longer), it
need not be run more frequently <br>
than about once every three weeks.</p>

<p style="margin-top: 1em">For cron-friendly behavior,
define CRONJOB=1 in the crontab.</p>

<p style="margin-top: 1em">This script depends
on$REQUIREDCMDS</p>

<p style="margin-top: 1em">OPTIONS <br>
-s string, --source-url=string <br>
The URL of the master copy of the leapseconds file.</p>

<p style="margin-top: 1em">Specify the URL of the master
copy to download $LEAPSRC</p>

<p style="margin-top: 1em">-4, --ipv4 <br>
Use only IPv4 addresses for DNS name resolution. This option
must not appear in combination with any of the following
options: ipv6.</p>

<p style="margin-top: 1em">Force DNS resolution of
following host names on the command line <br>
to the IPv4 namespace. <br>
_EndOfDoc_; };</p>

<p style="margin-top: 1em">flag = { <br>
name = ipv6; <br>
flags-cant = ipv4, prefer; <br>
value = 6; <br>
descrip = &quot;Use only IPv6 addresses for DNS name
resolution&quot;; <br>
doc = &lt;&lt;- _EndOfDoc_ <br>
Force DNS resolution of following host names on the command
line <br>
to the IPv6 namespace. <br>
_EndOfDoc_; };</p>

<p style="margin-top: 1em">flag = { <br>
name = prefer; <br>
flags-cant = ipv4, ipv6; <br>
value = p; <br>
arg-type = keyword; <br>
keyword = 4, 6; <br>
descrip = &rsquo;Prefer IPv4 or IPv6 (as specified)
addresses, but use either&rsquo;; <br>
doc = &lt;&lt;- _EndOfDoc_ Prefer IPv4 or IPv6 (as
specified) addresses, but use either.</p>

<p style="margin-top: 1em">-d float, --destination=float
<br>
Filename on the local system.</p>

<p style="margin-top: 1em">The name to use to store the
leapfile on the local system. $LEAPFILE</p>

<p style="margin-top: 1em">-e string, --expiration=string
<br>
Refresh the leapfile this long before it expires.</p>

<p style="margin-top: 1em">Specify how long before
expiration the file is to be refreshed Units are required,
e.g. &quot;-e 60 days&quot; Note that larger values imply
more frequent refreshes. &quot;$PREFETCH&quot;</p>

<p style="margin-top: 1em">-f string,
--ntp-conf-file=string <br>
Location of the ntp.conf file.</p>

<p style="margin-top: 1em">Specify location of ntp.conf
(used to make sure leapfile directive is present and to
default leapfile) /etc/ntp.conf</p>

<p style="margin-top: 1em">-F, --force-update <br>
Force update of the leapfile.</p>

<p style="margin-top: 1em">Force update even if current
file is OK and not close to expiring.</p>

<p style="margin-top: 1em">--dont-wait <br>
Don&rsquo;t wait for keystroke between plots.</p>

<p style="margin-top: 1em">-?, --help <br>
Display usage information and exit.</p>

<p style="margin-top: 1em">-!, --more-help <br>
Pass the extended usage information through a pager.</p>

<p style="margin-top: 1em">-v [{v|c|n --version [{v|c|n}]}]
<br>
Output version of program and exit. The default mode is
&lsquo;v&rsquo;, a simple version. The &lsquo;c&rsquo; mode
will print copyright information and &lsquo;n&rsquo; will
print the full copyright <br>
notice.</p>

<p style="margin-top: 1em">USAGE <br>
Usage stuff</p>

<p style="margin-top: 1em">EXIT STATUS <br>
One of the following exit values will be returned:</p>

<p style="margin-top: 1em">0 (EXIT_SUCCESS) <br>
Successful program execution.</p>

<p style="margin-top: 1em">1 (EXIT_FAILURE) <br>
The operation failed or the command syntax was not
valid.</p>

<p style="margin-top: 1em">70 (EX_SOFTWARE) <br>
libopts had an internal operational error. Please report it
to autogen-users@lists.sourceforge.net. Thank you.</p>

<p style="margin-top: 1em">AUTHORS <br>
Timothe Litt</p>

<p style="margin-top: 1em">NOTES <br>
This manual page was AutoGen-erated from the update-leap
option definitions.</p>

<p style="margin-top: 1em">ntp (4.2.8p9) 21 Nov 2016
update-leap(1update-leapman)</p>
<hr>
</body>
</html>
