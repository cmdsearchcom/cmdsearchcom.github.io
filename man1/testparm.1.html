<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TESTPARM(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TESTPARM(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">TESTPARM(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
testparm - check an smb.conf configuration file for internal correctness
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 1.00ex; text-indent: -1.00ex;">testparm
  [-s|--suppress-prompt] [--help] [-v|--verbose] {config&#x00A0;filename}
  [hostname&#x00A0;hostIP]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This tool is part of the <b>samba</b>(7) suite.
<div class="Pp"></div>
testparm is a very simple test program to check an <b>smbd</b>(8) configuration
  file for internal correctness. If this program reports no problems, you can
  use the configuration file with confidence that smbd will successfully load
  the configuration file.
<div class="Pp"></div>
Note that this is <i>NOT</i> a guarantee that the services specified in the
  configuration file will be available or will operate as expected.
<div class="Pp"></div>
If the optional host name and host IP address are specified on the command line,
  this test program will run through the service entries reporting whether the
  specified host has access to each service.
<div class="Pp"></div>
If testparm finds an error in the smb.conf file it returns an exit code of 1 to
  the calling program, else it returns an exit code of 0. This allows shell
  scripts to test the output from testparm.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-s|--suppress-prompt
<div style="margin-left: 4.00ex;">Without this option, testparm will prompt for
  a carriage return after printing the service names and before dumping the
  service definitions.</div>
<div class="Pp"></div>
-V|--version
<div style="margin-left: 4.00ex;">Prints the program version number.</div>
<div class="Pp"></div>
--option=&lt;name&gt;=&lt;value&gt;
<div style="margin-left: 4.00ex;">Set the <b>smb.conf</b>(5) option
  &quot;&lt;name&gt;&quot; to value &quot;&lt;value&gt;&quot; from the command
  line. This overrides compiled-in defaults and options read from the
  configuration file.</div>
<div class="Pp"></div>
-?|--help
<div style="margin-left: 4.00ex;">Print a summary of command line options.</div>
<div class="Pp"></div>
--usage
<div style="margin-left: 4.00ex;">Display brief usage message.</div>
<div class="Pp"></div>
-d|--debuglevel=level
<div style="margin-left: 4.00ex;"><i>level</i> is an integer from 0 to 10. The
  default value if this parameter is not specified is 1.
<div style="height: 1.00em;">&#x00A0;</div>
The higher this value, the more detail will be logged to the log files about the
  activities of the server. At level 0, only critical errors and serious
  warnings will be logged. Level 1 is a reasonable level for day-to-day running
  - it generates a small amount of information about operations carried out.
<div style="height: 1.00em;">&#x00A0;</div>
Levels above 1 will generate considerable amounts of log data, and should only
  be used when investigating a problem. Levels above 3 are designed for use only
  by developers and generate HUGE amounts of log data, most of which is
  extremely cryptic.
<div style="height: 1.00em;">&#x00A0;</div>
Note that specifying this parameter here will override the <b>log level</b>
  parameter in the smb.conf file.</div>
<div class="Pp"></div>
-v|--verbose
<div style="margin-left: 4.00ex;">If this option is specified, testparm will
  also output all options that were not used in <b>smb.conf</b>(5) and are thus
  set to their defaults.</div>
<div class="Pp"></div>
--parameter-name parametername
<div style="margin-left: 4.00ex;">Dumps the named parameter. If no section-name
  is set the view is limited by default to the global section. It is also
  possible to dump a parametrical option. Therefore the option has to be
  separated by a colon from the parametername.</div>
<div class="Pp"></div>
--section-name sectionname
<div style="margin-left: 4.00ex;">Dumps the named section.</div>
<div class="Pp"></div>
--show-all-parameters
<div style="margin-left: 4.00ex;">Show the parameters, type, possible
  values.</div>
<div class="Pp"></div>
-l|--skip-logic-checks
<div style="margin-left: 4.00ex;">Skip the global checks.</div>
<div class="Pp"></div>
configfilename
<div style="margin-left: 4.00ex;">This is the name of the configuration file to
  check. If this parameter is not present then the default <b>smb.conf</b>(5)
  file will be checked.</div>
<div class="Pp"></div>
hostname
<div style="margin-left: 4.00ex;">If this parameter and the following are
  specified, then testparm will examine the <i>hosts allow</i> and <i>hosts
  deny</i> parameters in the <b>smb.conf</b>(5) file to determine if the
  hostname with this IP address would be allowed access to the smbd server. If
  this parameter is supplied, the hostIP parameter must also be supplied.</div>
<div class="Pp"></div>
hostIP
<div style="margin-left: 4.00ex;">This is the IP address of the host specified
  in the previous parameter. This address must be supplied if the hostname
  parameter is supplied.</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>smb.conf</b>(5)
<div style="margin-left: 4.00ex;">This is usually the name of the configuration
  file used by <b>smbd</b>(8).</div>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The program will issue a message saying whether the configuration file loaded OK
  or not. This message may be preceded by errors and warnings if the file did
  not load. If the file was loaded OK, the program then dumps all known service
  details to stdout.
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This man page is correct for version 3 of the Samba suite.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>smb.conf</b>(5), <b>smbd</b>(8)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
The original Samba software and related utilities were created by Andrew
  Tridgell. Samba is now developed by the Samba Team as an Open Source project
  similar to the way the Linux kernel is developed.
<div class="Pp"></div>
The original Samba man pages were written by Karl Auer. The man page sources
  were converted to YODL format (another excellent piece of Open Source
  software, available at ftp://ftp.icce.rug.nl/pub/unix/) and updated for the
  Samba 2.0 release by Jeremy Allison. The conversion to DocBook for Samba 2.2
  was done by Gerald Carter. The conversion to DocBook XML 4.2 for Samba 3.0 was
  done by Alexander Bokovoy.</div>
<table class="foot">
  <tr>
    <td class="foot-date">05/25/2017</td>
    <td class="foot-os">Samba 4.4</td>
  </tr>
</table>
</body>
</html>
