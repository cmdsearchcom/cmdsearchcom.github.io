<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:37:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>shptree(1) shptree(1)</p>

<p style="margin-top: 1em">NAME <br>
shptree - create a quadtree-based spatial index for a Shape
data set</p>

<p style="margin-top: 1em">SYNOPSIS <br>
shptree [ shpfile [depth] [index_format] | -v]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
shptree creates a quadtree-based spatial index for a Shape
data set. The default tree depth is calculated so that each
tree node (quadtree cell) contains 8 shapes. Do not use the
<br>
default with point files, a value between 6 and 10 seems to
work ok. Your millage may vary and you&rsquo;ll need to do
some experimenting.</p>

<p style="margin-top: 1em">This utility is a must for any
MapServer application that uses Shape data sets. shptree
creates a spatial index of your Shape data set, using a
quadtree method. This means that <br>
MapServer will use this index to quickly find the
appropriate shapes to draw. It creates a file of the same
name as your Shape data set, with a .qix file extension. The
quadtree <br>
method breaks the file into 4 quadrants, recursively until
only a few shapes are contained in each quadrant. This
minimum number can be set with the depth parameter of the
com&acirc; <br>
mand.</p>

<p style="margin-top: 1em">OPTIONS <br>
shpfile <br>
The name of the .shp file to index.</p>

<p style="margin-top: 1em">depth (Optional) The maximum
depth of the index to create, default is 0 meaning that
shptree will calculate a reasonable default depth.</p>

<p style="margin-top: 1em">index_format <br>
(Optional) One of:</p>

<p style="margin-top: 1em">NL LSB byte order, using new
index format</p>

<p style="margin-top: 1em">NM MSB byte order, using new
index format</p>

<p style="margin-top: 1em">The following old format options
are deprecated:</p>

<p style="margin-top: 1em">N Native byte order</p>

<p style="margin-top: 1em">L LSB (intel) byte order</p>

<p style="margin-top: 1em">M MSB byte order</p>

<p style="margin-top: 1em">The default index_format on this
system is: NL</p>

<p style="margin-top: 1em">-v Display mapserver version and
build options.</p>

<p style="margin-top: 1em">NOTES <br>
Shape data sets are native to MapServer, and therefore do
not require the .shp extension in the DATA path of the
LAYER. In fact, in order for MapServer to use the .qix
extension <br>
you MUST NOT specify the extension, for example:</p>

<p style="margin-top: 1em">LAYER <br>
... <br>
DATA &quot;us_states&quot; #MapServer will search for
us_states.qix and will use it <br>
... <br>
END</p>

<p style="margin-top: 1em">LAYER <br>
... <br>
DATA &quot;us_states.shp&quot; #MapServer will search for
us_states.shp.qix and won&rsquo;t find it <br>
... <br>
END</p>

<p style="margin-top: 1em">Note: As of MapServer 5.2 the
qix will be used even when the .shp extension is
specified.</p>

<p style="margin-top: 1em">EXAMPLE <br>
shptree us_states.shp <br>
creating index of new LSB format</p>

<p style="margin-top: 1em">Result: <br>
A file named &rsquo;us_states.qix&rsquo; is created in the
same location. (note that you can use the shptreevis(1)
utility to view the actual quadtree quadrants that are used
by <br>
MapServer in this qix file)</p>

<p style="margin-top: 1em">SEE ALSO <br>
shptreetst(1), shptreevis(1), sortshp(1)</p>

<p style="margin-top: 1em">The shptree wiki page
&acirc;&uml;https://github.com/mapserver/mapserver/wiki/ShpTree&acirc;&copy;
may also contain information on this utility.</p>

<p style="margin-top: 1em">14 February 2017 shptree(1)</p>
<hr>
</body>
</html>
