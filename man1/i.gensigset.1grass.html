<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>i.gensigset(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">i.gensigset(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">i.gensigset(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>i.gensigset</b> - Generates statistics for i.smap from raster map.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
imagery, classification, supervised classification, SMAP, signatures
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>i.gensigset</b>
<div>&#x00A0;</div>
<b>i.gensigset --help</b>
<div>&#x00A0;</div>
<b>i.gensigset</b> <b>trainingmap</b>=<i>name</i> <b>group</b>=<i>name</i>
  <b>subgroup</b>= <i>name</i> <b>signaturefile</b>=<i>name</i>
  [<b>maxsig</b>=<i>integer</i>] [--<b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>trainingmap</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Ground truth training map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input imagery group</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>subgroup</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input imagery subgroup</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>signaturefile</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output file containing result signatures</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>maxsig</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Maximum number of sub-signatures in any class
    <div>&#x00A0;</div>
    Default: <i>5</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>i.gensigset</i> is a non-interactive method for generating input into
  <i>i.smap.</i> It is used as the first pass in the a two-pass classification
  process. It reads a raster map layer, called the training map, which has some
  of the pixels or regions already classified. <i>i.gensigset</i> will then
  extract spectral signatures from an image based on the classification of the
  pixels in the training map and make these signatures available to
  <i>i.smap.</i>
<div class="Pp"></div>
The user would then execute the GRASS program <i></i> <i>i.smap</i> to create
  the final classified map.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="Parameters"><a class="selflink" href="#Parameters">Parameters</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>trainingmap=</b><i>name</i> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    ground truth training map</dd>
</dl>
<div class="Pp"></div>
This raster layer, supplied as input by the user, has some of its pixels already
  classified, and the rest (probably most) of the pixels unclassified.
  Classified means that the pixel has a non-zero value and unclassified means
  that the pixel has a zero value.
<div class="Pp"></div>
This map must be prepared by the user in advance by using a combination of
  <i>wxGUI vector digitizer</i> and <i>v.to.rast</i>, or some other
  import/developement process (e.g., <i>v.transects)</i> to define the areas
  representative of the classes in the image.
<div class="Pp"></div>
At present, there is no fully-interactive tool specifically designed for
  producing this layer.
<dl class="Bl-tag">
  <dt class="It-tag"><b>group=</b><i>name</i> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    imagery group</dd>
</dl>
<div class="Pp"></div>
This is the name of the group that contains the band files which comprise the
  image to be analyzed. The <i>i.group</i> command is used to construct groups
  of raster layers which comprise an image.
<dl class="Bl-tag">
  <dt class="It-tag"><b>subgroup=</b><i>name</i> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    subgroup containing image files</dd>
</dl>
<div class="Pp"></div>
This names the subgroup within the group that selects a subset of the bands to
  be analyzed. The <i>i.group</i> command is also used to prepare this subgroup.
  The subgroup mechanism allows the user to select a subset of all the band
  files that form an image.
<dl class="Bl-tag">
  <dt class="It-tag"><b>signaturefile=</b><i>name</i> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    resultant signature file</dd>
</dl>
<div class="Pp"></div>
This is the resultant signature file (containing the means and covariance
  matrices) for each class in the training map that is associated with the band
  files in the subgroup selected.
<dl class="Bl-tag">
  <dt class="It-tag"><b>maxsig=</b><i>value</i> </dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    maximum number of sub-signatures in any class
    <div>&#x00A0;</div>
    default: 5</dd>
</dl>
<div class="Pp"></div>
The spectral signatures which are produced by this program are &quot;mixed&quot;
  signatures (see NOTES). Each signature contains one or more subsignatures
  (represeting subclasses). The algorithm in this program starts with a maximum
  number of subclasses and reduces this number to a minimal number of subclasses
  which are spectrally distinct. The user has the option to set this starting
  value with this option.
<h1 class="Sh" title="Sh" id="INTERACTIVE_MODE"><a class="selflink" href="#INTERACTIVE_MODE">INTERACTIVE
  MODE</a></h1>
If none of the arguments are specified on the command line, <i>i.gensigset</i>
  will interactively prompt for the names of these maps and files.
<div class="Pp"></div>
It should be noted that interactive mode here only means interactive prompting
  for maps and files. It does not mean visualization of the signatures that
  result from the process.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The algorithm in <i>i.gensigset</i> determines the parameters of a spectral
  class model known as a Gaussian mixture distribution. The parameters are
  estimated using multispectral image data and a training map which labels the
  class of a subset of the image pixels. The mixture class parameters are stored
  as a class signature which can be used for subsequent segmentation (i.e.,
  classification) of the multispectral image.
<div class="Pp"></div>
The Gaussian mixture class is a useful model because it can be used to describe
  the behavior of an information class which contains pixels with a variety of
  distinct spectral characteristics. For example, forest, grasslands or urban
  areas are examples of information classes that a user may wish to separate in
  an image. However, each of these information classes may contain subclasses
  each with its own distinctive spectral characteristic. For example, a forest
  may contain a variety of different tree species each with its own spectral
  behavior.
<div class="Pp"></div>
The objective of mixture classes is to improve segmentation performance by
  modeling each information class as a probabilistic mixture with a variety of
  subclasses. The mixture class model also removes the need to perform an
  initial unsupervised segmentation for the purposes of identifying these
  subclasses. However, if misclassified samples are used in the training
  process, these erroneous samples may be grouped as a separate undesired
  subclass. Therefore, care should be taken to provided accurate training data.
<div class="Pp"></div>
This clustering algorithm estimates both the number of distinct subclasses in
  each class, and the spectral mean and covariance for each subclass. The number
  of subclasses is estimated using Rissanen&#x2019;s minimum description length
  (MDL) criteria [1]. This criteria attempts to determine the number of
  subclasses which &quot;best&quot; describe the data. The approximate maximum
  likelihood estimates of the mean and covariance of the subclasses are computed
  using the expectation maximization (EM) algorithm [2,3].
<h1 class="Sh" title="Sh" id="WARNINGS"><a class="selflink" href="#WARNINGS">WARNINGS</a></h1>
If warnings like this occur, reducing the remaining classes to 0:
<div>&#x00A0;</div>
<pre>
...
WARNING: Removed a singular subsignature number 1 (4 remain)
WARNING: Removed a singular subsignature number 1 (3 remain)
WARNING: Removed a singular subsignature number 1 (2 remain)
WARNING: Removed a singular subsignature number 1 (1 remain)
WARNING: Unreliable clustering. Try a smaller initial number of clusters
WARNING: Removed a singular subsignature number 1 (-1 remain)
WARNING: Unreliable clustering. Try a smaller initial number of clusters
Number of subclasses is 0
</pre>
then the user should check for:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">the range of the input data should be between 0 and 100 or
      255 but not between 0.0 and 1.0 ( <i>r.info</i> and <i>r.univar</i> show
      the range)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">the training areas need to contain a sufficient amount of
      pixels</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">J. Rissanen, &quot;A Universal Prior for Integers and
      Estimation by Minimum Description Length,&quot; <i>Annals of
      Statistics,</i> vol. 11, no. 2, pp. 417-431, 1983.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">A. Dempster, N. Laird and D. Rubin, &quot;Maximum
      Likelihood from Incomplete Data via the EM Algorithm,&quot; <i>J. Roy.
      Statist. Soc. B,</i> vol. 39, no. 1, pp. 1-38, 1977.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">E. Redner and H. Walker, &quot;Mixture Densities, Maximum
      Likelihood and the EM Algorithm,&quot; <i>SIAM Review,</i> vol. 26, no. 2,
      April 1984.</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>i.group,</i> <i>i.smap,</i> <i>r.info,</i> <i>r.univar,</i> <i>wxGUI
  vector digitizer</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Charles Bouman, School of Electrical Engineering, Purdue University
<div>&#x00A0;</div>
Michael Shapiro, U.S.Army Construction Engineering Research Laboratory
<div class="Pp"></div>
<i>Last changed: $Date: 2015-02-14 22:07:18 +0100 (Sat, 14 Feb 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: i.gensigset source code (history)
<div class="Pp"></div>
Main index | Imagery index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
