<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:20:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KNIFE-DIFF(1) knife diff KNIFE-DIFF(1)</p>

<p style="margin-top: 1em">NAME <br>
knife-diff - The man page for the knife diff subcommand.</p>

<p style="margin-top: 1em">The knife diff subcommand is
used to compare the differences between files and
directories on the Chef server and in the chef-repo. For
example, to compare files on the Chef <br>
server prior to an uploading or downloading files using the
knife download and knife upload subcommands, or to ensure
that certain files in multiple production environments are
<br>
the same. This subcommand is similar to the git diff command
that can be used to diff what is in the chef-repo with what
is synced to a git repository.</p>

<p style="margin-top: 1em">Syntax</p>

<p style="margin-top: 1em">This subcommand has the
following syntax:</p>

<p style="margin-top: 1em">$ knife diff [PATTERN...]
(options)</p>

<p style="margin-top: 1em">Options</p>

<p style="margin-top: 1em">This subcommand has the
following options:</p>

<p style="margin-top: 1em">-c CONFIG_FILE, --config
CONFIG_FILE <br>
The configuration file to use.</p>

<p style="margin-top: 1em">--chef-repo-path PATH <br>
The path to the chef-repo. This setting will override the
default path to the chef-repo. Default: same as specified by
chef_repo_path in config.rb.</p>

<p style="margin-top: 1em">--chef-zero-port PORT <br>
The port on which chef-zero will listen.</p>

<p style="margin-top: 1em">--[no-]color <br>
Use to view colored output.</p>

<p style="margin-top: 1em">--cookbook-version VERSION <br>
The version of a cookbook to be downloaded.</p>

<p style="margin-top: 1em">--concurrency <br>
The number of allowed concurrent connections. Default:
10.</p>

<p style="margin-top: 1em">-d, --disable-editing <br>
Use to prevent the $EDITOR from being opened and to accept
data as-is.</p>

<p style="margin-top: 1em">--defaults <br>
Use to have knife use the default value instead of asking a
user to provide one.</p>

<p style="margin-top: 1em">--diff-filter=[(A|D|M|T)...[*]]
<br>
Use to select only files that have been added (A), deleted
(D), modified (M), and/or have had their type changed (T).
Any combination of filter characters may be used, <br>
including no filter characters. Use * to select all paths if
a file matches other criteria in the comparison. Default
value: nil.</p>

<p style="margin-top: 1em">-e EDITOR, --editor EDITOR <br>
The $EDITOR that is used for all interactive commands.</p>

<p style="margin-top: 1em">-E ENVIRONMENT, --environment
ENVIRONMENT <br>
The name of the environment. When this option is added to a
command, the command will run only against the named
environment.</p>

<p style="margin-top: 1em">-F FORMAT, --format FORMAT <br>
The output format: summary (default), text, json, yaml, and
pp.</p>

<p style="margin-top: 1em">-h, --help <br>
Shows help for the command.</p>

<p style="margin-top: 1em">-k KEY, --key KEY <br>
The private key that knife will use to sign requests made by
the API client to the Chef server.</p>

<p style="margin-top: 1em">--name-only <br>
Use to show only the names of modified files.</p>

<p style="margin-top: 1em">--name-status <br>
Use to show only the names of files with a status of Added,
Deleted, Modified, or Type Changed.</p>

<p style="margin-top: 1em">--no-recurse <br>
Use --no-recurse to disable listing a directory recursively.
Default: --recurse.</p>

<p style="margin-top: 1em">--print-after <br>
Use to show data after a destructive operation.</p>

<p style="margin-top: 1em">--repo-mode MODE <br>
The layout of the local chef-repo. Possible values: static,
everything, or hosted_everything. Use static for just roles,
environments, cookbooks, and data bags. By <br>
default, everything and hosted_everything are dynamically
selected depending on the server type. Default: everything /
hosted_everything.</p>

<p style="margin-top: 1em">-s URL, --server-url URL <br>
The URL for the Chef server.</p>

<p style="margin-top: 1em">-u USER, --user USER <br>
The user name used by knife to sign requests made by the API
client to the Chef server. Authentication will fail if the
user name does not match the private key.</p>

<p style="margin-top: 1em">-v, --version <br>
The version of the chef-client.</p>

<p style="margin-top: 1em">-V, --verbose <br>
Set for more verbose outputs. Use -VV for maximum
verbosity.</p>

<p style="margin-top: 1em">-y, --yes <br>
Use to respond to all confirmation prompts with
&quot;Yes&quot;. knife will not ask for confirmation.</p>

<p style="margin-top: 1em">-z, --local-mode <br>
Use to run the chef-client in local mode. This allows all
commands that work against the Chef server to also work
against the local chef-repo.</p>

<p style="margin-top: 1em">knife.rb File Settings</p>

<p style="margin-top: 1em">In addition to the default
settings in a knife.rb file, there are other
subcommand-specific settings that can be added. When a
subcommand is run, knife will use:</p>

<p style="margin-top: 1em">1. A value passed via the
command-line</p>

<p style="margin-top: 1em">2. A value contained in the
knife.rb file</p>

<p style="margin-top: 1em">3. The default value</p>

<p style="margin-top: 1em">A value passed via the command
line will override a value in the knife.rb file; a value in
a knife.rb file will override a default value.</p>

<p style="margin-top: 1em">The following knife diff
settings can be added to the knife.rb file:</p>

<p style="margin-top: 1em">knife[:chef_repo_path] <br>
Use to add the --chef-repo-path option.</p>

<p style="margin-top: 1em">knife[:concurrency] <br>
Use to add the --concurrency option.</p>

<p style="margin-top: 1em">knife[:name_only] <br>
Use to add the --name-only option.</p>

<p style="margin-top: 1em">knife[:name_status] <br>
Use to add the --name-status option.</p>

<p style="margin-top: 1em">knife[:recurse] <br>
Use to add the --recurse option.</p>

<p style="margin-top: 1em">knife[:repo_mode] <br>
Use to add the --repo-mode option.</p>

<p style="margin-top: 1em">Examples</p>

<p style="margin-top: 1em">To compare the base.json role to
a webserver.json role, enter:</p>

<p style="margin-top: 1em">$ knife diff roles/base.json
roles/webserver.json</p>

<p style="margin-top: 1em">To compare the differences
between the local chef-repo and the files that are on the
Chef server, enter:</p>

<p style="margin-top: 1em">$ knife diff</p>

<p style="margin-top: 1em">To diff a node named node-lb and
then only return files that have been added, deleted,
modified, or changed, enter:</p>

<p style="margin-top: 1em">$ knife diff --name-status
node-lb</p>

<p style="margin-top: 1em">to return something like:</p>

<p style="margin-top: 1em">node-lb/recipes/eip.rb <br>
node-lb/recipes/heartbeat-int.rb <br>
node-lb/templates/default/corpsite.conf.erb <br>
node-lb/files/default/wildcard.node.com.crt <br>
node-lb/files/default/wildcard.node.com.crt-2009 <br>
node-lb/files/default/wildcard.node.com.key <br>
node-lb/.gitignore <br>
node-lb/Rakefile</p>

<p style="margin-top: 1em">AUTHOR <br>
Chef</p>

<p style="margin-top: 1em">Chef 12.0 KNIFE-DIFF(1)</p>
<hr>
</body>
</html>
