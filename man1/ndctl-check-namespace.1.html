<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>NDCTL-CHECK-NAMESP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">NDCTL-CHECK-NAMESP(1)</td>
    <td class="head-vol">ndctl Manual</td>
    <td class="head-rtitle">NDCTL-CHECK-NAMESP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ndctl-check-namespace - check namespace metadata consistency
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
<i>ndctl check-namespace</i> &lt;namespace&gt; [&lt;options&gt;]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
A namespace in the <i>sector</i> mode will have metadata on it to describe the
  kernel BTT (Block Translation Table). The check-namespace command can be used
  to check the consistency of this metadata, and optionally, also attempt to
  repair it, if it has enough information to do so.
<div style="height: 1.00em;">&#x00A0;</div>
The namespace being checked has to be disabled before initiating a check on it
  as a precautionary measure. The --force option can override this.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Check a namespace (only report errors)
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
ndctl disable-namespace namespace0.0
ndctl check-namespace namespace0.0
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Check a namespace, and perform repairs if possible
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
ndctl disable-namespace namespace0.0
ndctl check-namespace --repair namespace0.0
</pre>
</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
-R, --repair
<div style="margin-left: 4.00ex;">Perform metadata repairs if possible. Without
  this option, the raw namespace contents will not be touched.</div>
<div class="Pp"></div>
-f, --force
<div style="margin-left: 4.00ex;">Unless this option is specified, a
  check-namespace operation will fail if the namespace is presently active.
  Specifying --force causes the namespace to be disabled before checking.</div>
<div class="Pp"></div>
-v, --verbose
<div style="margin-left: 4.00ex;">Emit debug messages for the namespace check
  process.</div>
<div class="Pp"></div>
-r, --region=
<div style="margin-left: 4.00ex;">A <i>regionX</i> device name, or a region id
  number. The keyword <i>all</i> can be specified to carry out the operation on
  every region in the system, optionally filtered by bus id (see --bus=
  option).</div>
<div class="Pp"></div>
-b, --bus=
<div style="margin-left: 4.00ex;">Enforce that the operation only be carried on
  devices that are attached to the given bus. Where <i>bus</i> can be a provider
  name or a bus id number.</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2016 - 2017, Intel Corporation. License GPLv2: GNU GPL version 2
  <b>http://gnu.org/licenses/gpl.html</b>. This is free software: you are free
  to change and redistribute it. There is NO WARRANTY, to the extent permitted
  by law.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ndctl-disable-namespace</b>(1), <b>ndctl-enable-namespace</b>(1), <b>NVDIMM
  Namespace Specification</b>[1]
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">NVDIMM Namespace Specification</dd>
</dl>
<div style="margin-left: 4.00ex;">http://pmem.io/documents/NVDIMM_Namespace_Spec.pdf</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">06/30/2017</td>
    <td class="foot-os">ndctl 57.1</td>
  </tr>
</table>
</body>
</html>
