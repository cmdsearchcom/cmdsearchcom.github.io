<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KAK_HOOKS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KAK_HOOKS(1)</td>
    <td class="head-vol">hooks</td>
    <td class="head-rtitle">KAK_HOOKS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hooks - a
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Commands can be registered to be executed when certain events arise. To register
  a hook use the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
hook [-group &lt;group&gt;] &lt;scope&gt; &lt;hook_name&gt; &lt;filtering_regex&gt; &lt;commands&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>scope</b> can be one of <b>global</b>, <b>buffer</b> or <b>window</b> (c.f.
  the <i>scopes</i> documentation page).
<div style="height: 1.00em;">&#x00A0;</div>
<b>command</b> is a string containing the commands to execute when the hook is
  called.
<div style="height: 1.00em;">&#x00A0;</div>
For example to automatically use line numbering with .cc files, use the
  following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
hook global WinCreate .*\.cc %{ addhl number_lines }
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
if <b>group</b> is given, make this hook part of the named group. Groups are
  used for removing hooks with the following command:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
rmhooks &lt;scope&gt; &lt;group&gt;
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
A call to the command above will remove every hooks in <b>scope</b> that are
  part of the given <b>group</b>.
<h1 class="Sh" title="Sh" id="DEFAULT_HOOKS"><a class="selflink" href="#DEFAULT_HOOKS">DEFAULT
  HOOKS</a></h1>
<b>NormalIdle</b>
<div style="margin-left: 4.00ex;">a certain duration has passed since last key
  was pressed in normal mode</div>
<div class="Pp"></div>
<b>NormalBegin</b>
<div style="margin-left: 4.00ex;">entering normal mode</div>
<div class="Pp"></div>
<b>NormalEnd</b>
<div style="margin-left: 4.00ex;">leaving normal mode</div>
<div class="Pp"></div>
<b>NormalKey</b>
<div style="margin-left: 4.00ex;">a key is received in normal mode, the key is
  used for filtering</div>
<div class="Pp"></div>
<b>InsertIdle</b>
<div style="margin-left: 4.00ex;">a certain duration has passed since last key
  was pressed in insert mode</div>
<div class="Pp"></div>
<b>InsertBegin</b>
<div style="margin-left: 4.00ex;">entering insert mode</div>
<div class="Pp"></div>
<b>InsertEnd</b>
<div style="margin-left: 4.00ex;">leaving insert mode</div>
<div class="Pp"></div>
<b>InsertKey</b>
<div style="margin-left: 4.00ex;">a key is received in insert mode, the key is
  used for filtering</div>
<div class="Pp"></div>
<b>InsertChar</b>
<div style="margin-left: 4.00ex;">a character is received in insert mode, the
  character is used for filtering</div>
<div class="Pp"></div>
<b>InsertMove</b>
<div style="margin-left: 4.00ex;">the cursor moved (without inserting) in insert
  mode, the key that triggered the move is used for filtering</div>
<div class="Pp"></div>
<b>WinCreate</b>
<div style="margin-left: 4.00ex;">a window was created, the filtering text is
  the buffer name</div>
<div class="Pp"></div>
<b>WinClose</b>
<div style="margin-left: 4.00ex;">a window was destroyed, the filtering text is
  the buffer name</div>
<div class="Pp"></div>
<b>WinResize</b>
<div style="margin-left: 4.00ex;">a window resized, the filtering text is
  <b>&lt;line&gt;.&lt;column&gt;</b></div>
<div class="Pp"></div>
<b>WinDisplay</b>
<div style="margin-left: 4.00ex;">a window was bound a client, the filtering
  text is the buffer name</div>
<div class="Pp"></div>
<b>WinSetOption</b>
<div style="margin-left: 4.00ex;">an option was set in a window context, the
  filtering text is <b>&lt;option_name&gt;=&lt;new_value&gt;</b></div>
<div class="Pp"></div>
<b>BufSetOption</b>
<div style="margin-left: 4.00ex;">an option was set in a buffer context, the
  filtering text is <b>&lt;option_name&gt;=&lt;new_value&gt;</b></div>
<div class="Pp"></div>
<b>BufNew</b>
<div style="margin-left: 4.00ex;">a buffer for a new file has been created,
  filename is used for filtering</div>
<div class="Pp"></div>
<b>BufOpen</b>
<div style="margin-left: 4.00ex;">a buffer for an existing file has been
  created, filename is used for filtering</div>
<div class="Pp"></div>
<b>BufCreate</b>
<div style="margin-left: 4.00ex;">a buffer has been created, filename is used
  for filtering</div>
<div class="Pp"></div>
<b>BufWritePre</b>
<div style="margin-left: 4.00ex;">executed just before a buffer is written,
  filename is used for filtering</div>
<div class="Pp"></div>
<b>BufWritePost</b>
<div style="margin-left: 4.00ex;">executed just after a buffer is written,
  filename is used for filtering</div>
<div class="Pp"></div>
<b>BufClose</b>
<div style="margin-left: 4.00ex;">executed when a buffer is deleted, while it is
  still valid</div>
<div class="Pp"></div>
<b>BufOpenFifo</b>
<div style="margin-left: 4.00ex;">executed when a buffer opens a fifo</div>
<div class="Pp"></div>
<b>BufReadFifo</b>
<div style="margin-left: 4.00ex;">executed after some data has been read from a
  fifo and inserted in the buffer</div>
<div class="Pp"></div>
<b>BufCloseFifo</b>
<div style="margin-left: 4.00ex;">executed when a fifo buffer closes its fifo
  file descriptor either because the buffer is being deleted, or because the
  writing end has been closed</div>
<div class="Pp"></div>
<b>RuntimeError</b>
<div style="margin-left: 4.00ex;">an error was encountered while executing an
  user command the error message is used for filtering</div>
<div class="Pp"></div>
<b>KakBegin</b>
<div style="margin-left: 4.00ex;">kakoune has started, this hook is called just
  after reading the user configuration files</div>
<div class="Pp"></div>
<b>KakEnd</b>
<div style="margin-left: 4.00ex;">kakoune is quitting</div>
<div class="Pp"></div>
<b>FocusIn</b>
<div style="margin-left: 4.00ex;">on supported clients, triggered when the
  client gets focused. the filtering text is the client name</div>
<div class="Pp"></div>
<b>FocusOut</b>
<div style="margin-left: 4.00ex;">on supported clients, triggered when the
  client gets unfocused. the filtering text is the client name</div>
<div class="Pp"></div>
<b>InsertCompletionShow</b>
<div style="margin-left: 4.00ex;">Triggered when the insert completion menu gets
  displayed</div>
<div class="Pp"></div>
<b>InsertCompletionHide</b>
<div style="margin-left: 4.00ex;">Triggered when the insert completion menu gets
  hidden</div>
<div style="height: 1.00em;">&#x00A0;</div>
When not specified, the filtering text is an empty string. Note that some hooks
  will not consider underlying scopes depending on what context they are bound
  to be run into, e.g. the BufWritePost hook is a buffer hook, and will not
  consider the window scope.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
