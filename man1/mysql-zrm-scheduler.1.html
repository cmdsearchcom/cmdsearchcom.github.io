<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:45 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>mysql&acirc;zrm&acirc;scheduler(1) mysql&acirc;
zrm&acirc;scheduler(1)</p>

<p style="margin-top: 1em">NAME <br>
mysql&acirc;zrm&acirc;scheduler &acirc; backup scheduler
utility for ZRM for MySQL</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mysql&acirc;zrm&acirc;scheduler
&acirc;&acirc;add|&acirc;&acirc;query|&acirc;&acirc;delete|&acirc;&acirc;now
<br>
[&acirc;&acirc;start&acirc;time start time] <br>
[&acirc;&acirc;day&acirc;of&acirc;week day of week] <br>
[&acirc;&acirc;day&acirc;of&acirc;month day of month] <br>
[&acirc;&acirc;interval interval] <br>
[&acirc;&acirc;backup&acirc;level level] <br>
[&acirc;&acirc;backup&acirc;set backupset name] <br>
[&acirc;&acirc;help]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
mysql&acirc;zrm&acirc;scheduler is the utility for ZRM for
MySQL used to schedule <br>
MySQL backups using mysql&acirc;zrm&acirc;backup(1).</p>

<p style="margin-top: 1em">At the scheduled time, this
utility will first execute the optional <br>
pre&acirc;scheduler plugin (see Pre&acirc;Scheduler section)
to de&acirc; termine the sys&acirc; <br>
tem load before running the backup. If no
pre&acirc;scheduler plugin exists, <br>
it will directly run the backup.</p>

<p style="margin-top: 1em">mysql&acirc;zrm&acirc;scheduler
also implements the backup reten&acirc; tion policy and <br>
purges backup files. By default, the backup image purge
action will be <br>
performed at 4:00am daily. See
mysql&acirc;zrm&acirc;backup(1)
&acirc;&acirc;retention&acirc;policy <br>
parameter for details.</p>

<p style="margin-top: 1em">When &acirc;&acirc;now option is
specified, the mysql&acirc;zrm&acirc;scheduler utility will
<br>
run mysql&acirc;zrm immediately.</p>

<p style="margin-top: 1em">OPTIONS <br>
&acirc;&acirc;add Add a mysql&acirc;zrm backup run to the
schedule based on the time <br>
specified by other options.</p>

<p style="margin-top: 1em">&acirc;&acirc;delete <br>
Delete a scheduled backup run. Use the &acirc;&acirc;start
op&acirc; tion to delete <br>
a scheduled run with specific time.</p>

<p style="margin-top: 1em">&acirc;&acirc;query <br>
Display a list of backup runs scheduled.</p>

<p style="margin-top: 1em">&acirc;&acirc;interval interval
<br>
Valid options are daily, weekly or monthly. De&acirc; fault:
weekly</p>

<p style="margin-top: 1em">&acirc;&acirc;now Immediately do
the backup of MySQL.</p>

<p style="margin-top: 1em">&acirc;&acirc;backup&acirc;set
name <br>
Specify the backup set name for the backup run. De&acirc;
fault is Back&acirc; <br>
upSet1.</p>


<p style="margin-top: 1em">&acirc;&acirc;backup&acirc;level
Level <br>
Choose 0 for full backup. Choose 1 for an incre&acirc;
mental backup. <br>
Default is 0.</p>

<p style="margin-top: 1em">&acirc;&acirc;start&acirc;time
start time <br>
Start time for the backup run in HH:MM format. Default
values <br>
are 00:00 for monthly, 02:00 for weekly and 03:00 for daily
<br>
interval.</p>


<p style="margin-top: 1em">&acirc;&acirc;day&acirc;of&acirc;week
day of week <br>
Value used with weekly interval to specify the day(s) of
week. <br>
Use a single number from 0&acirc;6 (0=Sunday, 6=Satur&acirc;
day), or a range <br>
of two numbers separated with a hyphen.</p>

<p style="margin-top: 1em">Example: 1, to start on Monday
<br>
0&acirc;2, to start on Sunday, Monday and Tues&acirc;
day.</p>

<p style="margin-top: 1em">Default value is 0 (Sunday).</p>


<p style="margin-top: 1em">&acirc;&acirc;day&acirc;of&acirc;month
day of month <br>
Value used with monthly interval to specify the day(s) of
month. <br>
Use a single number from 1&acirc;31 or a range of two
numbers sepa&acirc; <br>
rated with a hyphen. Interval must be set to
&quot;monthly&quot; to use <br>
this option.</p>

<p style="margin-top: 1em">Example: 2, to start on second
day of the month <br>
10&acirc;12, to start on the 10th, 11th and 12th day of the
<br>
month. Default value is 1 (first day of the month).</p>

<p style="margin-top: 1em">&acirc;&acirc;help Display help
message and exits.</p>

<p style="margin-top: 1em">Pre&acirc;Scheduler <br>
The pre&acirc;scheduler plugin has to be specified in
mysql&acirc; zrm.conf(5).</p>

<p style="margin-top: 1em">mysql&acirc;zrm&acirc;scheduler
calls the specified pre&acirc;scheduler plugin before the
<br>
scheduled MySQL backup run. The plugin should return
&quot;0&quot; to continue <br>
to perform MySQL backup run immediately. It should re&acirc;
turn &quot;n&quot; where n <br>
is a positive integer smaller or equal to 11 to delay the
MySQL backup <br>
run by &quot;n&quot; hour(s) from the current time.</p>

<p style="margin-top: 1em">Returning any number greater
than &quot;11&quot; would skip the scheduled MySQL <br>
backup run.</p>

<p style="margin-top: 1em">mysql&acirc;zrm&acirc;scheduler
skips the daily backup run if the pre&acirc;scheduler <br>
plugin does not find a suitable time (return &quot;0&quot;
or &quot;n&quot;&quot;) in 24 hours <br>
(from the initial scheduled start time).</p>

<p style="margin-top: 1em">For weekly or monthly backup
run, mysql&acirc;zrm&acirc;scheduler will perform a <br>
backup run at the end of the 24 hours (from the initial
scheduled start <br>
time) even if pre&acirc;scheduler plugin have not found a
suit&acirc; able time in <br>
the 24 hours cycle.</p>

<p style="margin-top: 1em">The pre&acirc;scheduler plugin
is used to tell mysql&acirc;zrm if a backup should <br>
happen at a particular time.</p>

<p style="margin-top: 1em">It is to be customized by the
user to control if at the scheduled time <br>
a backup should run or not. For example: a user has
scheduled backups <br>
to happen every night at midnight. But he wants to do
de&acirc; lay the backup <br>
if the number of users in the system is more than 5. For
this the user <br>
needs to write a pre&acirc;scheduler script that can
determine how many users <br>
are there in the system and inform the scheduler to go ahead
and do <br>
backup or delay the backup.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To schedule a daily mysql&acirc;zrm run that starts at
1:35pm:</p>

<p style="margin-top: 1em">#
mysql&acirc;zrm&acirc;scheduler &acirc;&acirc;add
&acirc;interval daily &acirc;&acirc;start 13:35</p>

<p style="margin-top: 1em">To schedule a weekly
mysql&acirc;zrm run on Tuesday and Wednes&acirc; day:</p>

<p style="margin-top: 1em">#
mysql&acirc;zrm&acirc;scheduler &acirc;&acirc;add
&acirc;interval weekly &acirc;&acirc;day&acirc;of&acirc;week
2&acirc;3</p>

<p style="margin-top: 1em">To schedule a monthly
mysql&acirc;zrm run on the tenth day of each month:</p>

<p style="margin-top: 1em">#
mysql&acirc;zrm&acirc;scheduler &acirc;&acirc;add
&acirc;&acirc;interval monthly
&acirc;&acirc;day&acirc;of&acirc;month 10 To <br>
query scheduled runs:</p>

<p style="margin-top: 1em">#
mysql&acirc;zrm&acirc;scheduler &acirc;&acirc;query</p>

<p style="margin-top: 1em">35 13 * * *
/usr/bin/zrm&acirc;pre&acirc;scheduler &acirc;&acirc;action
backup &acirc;&acirc;backup&acirc;set <br>
BackupSet1 &acirc;&acirc;interval daily</p>

<p style="margin-top: 1em">0 2 * * 2&acirc;3
/usr/bin/zrm&acirc;pre&acirc;scheduler &acirc;&acirc;action
backup &acirc;&acirc;backup&acirc;set <br>
BackupSet1 &acirc;&acirc;interval weekly</p>

<p style="margin-top: 1em">0 0 10 * *
/usr/bin/zrm&acirc;pre&acirc;scheduler &acirc;&acirc;action
backup &acirc;&acirc;backup&acirc;set <br>
BackupSet1 &acirc;&acirc;interval monthly</p>

<p style="margin-top: 1em">To delete a daily
mysql&acirc;zrm run with specific start time:</p>

<p style="margin-top: 1em">#
mysql&acirc;zrm&acirc;scheduler &acirc;&acirc;delete
&acirc;&acirc;interval daily &acirc;&acirc;start 08:20</p>

<p style="margin-top: 1em">FILES <br>
/var/lib/mysql&acirc;zrm <br>
Directory under which all backup data is stored.</p>

<p style="margin-top: 1em">/etc/mysql&acirc;zrm/backup set
name/mysql&acirc;zrm.conf <br>
Configuration file read by mysql&acirc;zrm utility.</p>

<p style="margin-top: 1em">RETURN VALUES <br>
On success, zero is returned. On error, non&acirc;zero value
is returned.</p>

<p style="margin-top: 1em">SEE ALSO <br>
mysql&acirc;zrm(1), mysql&acirc;zrm&acirc;backup(1),
mysql&acirc;zrm&acirc;man&acirc; age&acirc;backup(1), <br>
mysql&acirc;zrm&acirc;restore(1),
mysql&acirc;zrm&acirc;check(1),
mysql&acirc;zrm&acirc;list(1), <br>
mysql&acirc;zrm&acirc;getconf(1),
mysql&acirc;zrm&acirc;setconf(1), mysql&acirc;zrm&acirc;
parse&acirc;binlogs(1), <br>
mysql&acirc;zrm&acirc;purge(1),
mysql&acirc;zrm&acirc;extract&acirc;backup(1),
mysql&acirc;zrm&acirc;ver&acirc; <br>
ify&acirc;backup(1),
mysql&acirc;zrm&acirc;abort&acirc;backup(1),
mysql&acirc;zrm.conf(5), <br>
mysql&acirc;zrm&acirc;reporter(1), mysql(1), Zmanda Recovery
Man&acirc; ager for MySQL <br>
(http://mysqlbackup.zmanda.com/)</p>

<p style="margin-top: 1em">AUTHOR <br>
Zmanda Inc. (http://www.zmanda.com)</p>

<p style="margin-top: 1em">Zmanda, Inc. ZRM for MySQL
mysql&acirc; zrm&acirc;scheduler(1)</p>
<hr>
</body>
</html>
