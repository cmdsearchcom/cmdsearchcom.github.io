<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:29:27 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OSMIUM-ADD-LOCATIONS-TO-WAYS(1)
OSMIUM-ADD-LOCATIONS-TO-WAYS(1)</p>

<p style="margin-top: 1em">NAME <br>
osmium-add-locations-to-ways - add node locations to ways in
OSM file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
osmium add-locations-to-ways [OPTIONS] OSM-FILE...</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Usually only nodes have locations and the ways refer to
those locations via the IDs of the nodes. This program will
copy the input file(s) to the output, taking the locations
<br>
from the nodes and adding them to the ways. This makes it
easier for other programs to assemble the way
geometries.</p>

<p style="margin-top: 1em">The input file must contain all
nodes needed for the ways, otherwise there will be an error.
You can change this behaviour using the
--ignore-missing-nodes option.</p>

<p style="margin-top: 1em">Nodes without any tags will not
be copied (unless the --keep-untagged-nodes, -n option is
used). The size of the output file will be similar or a bit
smaller than the input file <br>
(unless the --keep-untagged-nodes, -n option is used in
which case it will be a lot bigger).</p>

<p style="margin-top: 1em">Note that the OSM files
generated by this command use a non-standard format
extension.</p>

<p style="margin-top: 1em">The node locations have to be
kept in memory while doings this. Use the --index-type, -i
option to set the index type used. Default is
sparse_mmap_array on Linux and <br>
sparse_mem_array on OSX/Windows. This is the right index
type for small to medium sized extracts. For large
(continent-sized) extracts or the full planet use
dense_mmap_array <br>
on Linux or dense_mem_array on OSX/Windows.</p>

<p style="margin-top: 1em">If the --keep-untagged-nodes, -n
option is used, files created by this command can be updated
with the apply-changes command using the --locations-on-ways
option.</p>

<p style="margin-top: 1em">This program will not work on
full history files.</p>

<p style="margin-top: 1em">OPTIONS <br>
-i, --index-type=TYPE <br>
Set the index type.</p>

<p style="margin-top: 1em">-I, --show-index-types <br>
Shows a list of available index types. It depends on your
operating system which index types are available.</p>

<p style="margin-top: 1em">-n, --keep-untagged-nodes <br>
Keep the untagged nodes in the output file.</p>

<p style="margin-top: 1em">--ignore-missing-nodes <br>
If this is not set a missing node needed for a way results
in an error. If this is set, errors are ignored and the way
will have an invalid location set for the missing <br>
node.</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
-h, --help <br>
Show usage help.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Set verbose mode. The program will output information about
what it is doing to stderr.</p>

<p style="margin-top: 1em">--progress <br>
Show progress bar. Usually a progress bar is only displayed
if STDERR is detected to be a TTY. With this option a
progress bar is always shown. Note that a progress bar <br>
will never be shown when reading from STDIN or a pipe.</p>

<p style="margin-top: 1em">--no-progress <br>
Do not show progress bar. Usually a progress bar is
displayed if STDERR is detected to be a TTY. With this
option the progress bar is suppressed. Note that a progress
<br>
bar will never be shown when reading from STDIN or a
pipe.</p>

<p style="margin-top: 1em">INPUT OPTIONS <br>
-F, --input-format=FORMAT <br>
The format of the input file(s). Can be used to set the
input format if it can&rsquo;t be autodetected from the file
name(s). This will set the format for all input files, <br>
there is no way to set the format for some input files only.
See osmium-file-formats(5) or the libosmium manual for
details.</p>

<p style="margin-top: 1em">OUTPUT OPTIONS <br>
-f, --output-format=FORMAT <br>
The format of the output file. Can be used to set the output
file format if it can&rsquo;t be autodetected from the
output file name. See osmium-file-formats(5) or the <br>
libosmium manual for details.</p>

<p style="margin-top: 1em">--fsync <br>
Call fsync after writing the output file to force flushing
buffers to disk.</p>

<p style="margin-top: 1em">--generator=NAME <br>
The name and version of the program generating the output
file. It will be added to the header of the output file.
Default is &quot;osmium/&quot; and the version of
osmium.</p>

<p style="margin-top: 1em">-o, --output=FILE <br>
Name of the output file. Default is &rsquo;-&rsquo;
(STDOUT).</p>

<p style="margin-top: 1em">-O, --overwrite <br>
Allow an existing output file to be overwritten. Normally
osmium will refuse to write over an existing file.</p>

<p style="margin-top: 1em">--output-header=OPTION <br>
Add output header option. This option can be given several
times. See the libosmium manual for a list of allowed header
options.</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
osmium add-locations-to-ways exits with exit code</p>

<p style="margin-top: 1em">0 if everything went
alright,</p>

<p style="margin-top: 1em">1 if there was an error
processing the data, or</p>

<p style="margin-top: 1em">2 if there was a problem with
the command line arguments.</p>

<p style="margin-top: 1em">MEMORY USAGE <br>
osmium add-locations-to-ways needs to keep all node
locations in memory. It depends on the index type used how
much memory is needed:</p>

<p style="margin-top: 1em">&Acirc;&middot; For sparse types
16 bytes per node in the input file are used.</p>

<p style="margin-top: 1em">&Acirc;&middot; For dense types
8 bytes times the largest node ID in the input file are
used.</p>

<p style="margin-top: 1em">The *_mem_* types use
potentially up to twice this amount.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Add node locations to an extract keeping all nodes:</p>

<p style="margin-top: 1em">osmium add-locations-to-ways -n
-o germany-low.osm.pbf germany.osm.pbf</p>

<p style="margin-top: 1em">Add node locations to a planet
file (without untagged nodes):</p>

<p style="margin-top: 1em">osmium add-locations-to-ways -i
dense_mmap_array -o planet-low.osm.pbf planet.osm.pbf</p>

<p style="margin-top: 1em">SEE ALSO <br>
&Acirc;&middot; osmium(1), osmium-file-formats(5)</p>

<p style="margin-top: 1em">&Acirc;&middot; Osmium website
(http://osmcode.org/osmium-tool/)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2013-2017 Jochen Topf
&lt;jochen@topf.org&gt;.</p>

<p style="margin-top: 1em">License GPLv3+: GNU GPL version
3 or later &lt;https://gnu.org/licenses/gpl.html&gt;. This
is free software: you are free to change and redistribute
it. There is NO WARRANTY, to the <br>
extent permitted by law.</p>

<p style="margin-top: 1em">CONTACT <br>
If you have any questions or want to report a bug, please go
to http://osmcode.org/contact.html</p>

<p style="margin-top: 1em">AUTHORS <br>
Jochen Topf &lt;jochen@topf.org&gt;.</p>

<p style="margin-top: 1em">1.6.1
OSMIUM-ADD-LOCATIONS-TO-WAYS(1)</p>
<hr>
</body>
</html>
