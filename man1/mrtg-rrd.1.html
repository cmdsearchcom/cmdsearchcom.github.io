<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:14 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MRTG-RRD(1) mrtg MRTG-RRD(1)</p>

<p style="margin-top: 1em">NAME <br>
mrtg-rrd - How to use RRDtool with MRTG</p>

<p style="margin-top: 1em">SYNOPSIS <br>
After using MRTG for some time you may find some
limitations, mostly in the areas of performance and graphing
flexibility. These are exactly the areas addressed by
RRDtool. To <br>
learn more about RRDtool check out its website on</p>


<p style="margin-top: 1em">http://oss.oetiker.ch/rrdtool</p>

<p style="margin-top: 1em">RRDTOOL INTEGRATION <br>
When using mrtg with RRDtool you are replacing rateup with
the RRDtool perl module RRDs.pm. To enable RRDtool support
in mrtg you have to add the line</p>

<p style="margin-top: 1em">LogFormat: rrdtool</p>

<p style="margin-top: 1em">to your mrtg config file.</p>

<p style="margin-top: 1em">MRTG needs access to both the
RRDtool perl module RRDs.pm and to the rrdtool
executable.</p>

<p style="margin-top: 1em">If these two items are not
installed in locations where perl can find them on its own,
then you can use the following two parameters to supply the
appropriate directories.</p>

<p style="margin-top: 1em">For the location of the rrdtool
executable you put</p>

<p style="margin-top: 1em">PathAdd:
/usr/local/rrdtool/bin/</p>

<p style="margin-top: 1em">or rdtooln</p>

<p style="margin-top: 1em">PathAdd: c:</p>

<p style="margin-top: 1em">For the location of the perl
module it would be:</p>

<p style="margin-top: 1em">LibAdd:
/usr/local/rrdtool/lib/perl/</p>

<p style="margin-top: 1em">or n e rdtoolr</p>

<p style="margin-top: 1em">LibAdd: c: l</p>

<p style="margin-top: 1em">When you have made this
modification to the configuration file, several things will
happen when you run mrtg again with the new config file:</p>

<p style="margin-top: 1em">1. mrtg will take all your old
&quot;.log&quot; files and convert them to &quot;.rrd&quot;
format. (The &quot;.log&quot; files don&rsquo;t get touched
in the process, so if things don&rsquo;t work out they are
still <br>
there.)</p>

<p style="margin-top: 1em">2. mrtg will use rrdtool to
update its databases. These will have a new format called
rrd which is totally different than the native log format of
the classic mrtg.</p>

<p style="margin-top: 1em">3. mrtg will not create any
webpages of graphs anymore. It will only query the routers
for traffic information and update its rrd databases.</p>

<p style="margin-top: 1em">The advantage of whole thing is
that the mrtg will become much faster. Expect the runtime to
drop to 20% of the previous value. (I would like to get some
feedback on this from <br>
folks with large installations.)</p>

<p style="margin-top: 1em">Mind you, though, while the
logging process of RRDtool is very fast, you are also
gaining some time by neither creating graphs nor updating
webpages. The idea behind this is <br>
that it is more efficient to create graphs and webpages on
demand by using a cgi script.</p>

<p style="margin-top: 1em">At the moment there is no
official script to do this, but two contributers have
created such scripts:</p>

<p style="margin-top: 1em">One4All aka 14all.cgi <br>
This was the first program to take over the webpage creation
and graphing task. It has been developed by Rainer
Bawidamann rainer.bawidamann@web.de. You can find a copy on
<br>
Rainers website: http://my14all.sourceforge.net/ The program
comes with its own documentation</p>

<p style="margin-top: 1em">routers2.cgi <br>
This is another CGI frontend for mrtg running with rrdtool.
The main difference between this and 14all is that the web
pages it creates are much more stylish than the ones <br>
from mrtg, plus they support User Defined summary graphs and
different levels of Authentication and Authorisation. This
has been written by Steve Shipway <br>
(steve@steveshipway.org). You obtain a copy, and find a
forum and demonstration system at
http://www.steveshipway.org/software/ The program comes with
its own installation <br>
instructions and install script.</p>

<p style="margin-top: 1em">mrtg-rrd <br>
The mrtg-rrd script is a CGI/FastCGI application by Jan
&quot;Yenya&quot; Kasprzak for displaying MRTG graphs from
data in the RRDtool format. It is an intended replacement
for the <br>
14all.cgi script. It can make your monitoring system faster
because MRTG does not have to generate all the PNG files
with graphs every 5 minutes or so. Instead of this the <br>
graphs are generated on-demand when the user wants to see
them. http://www.fi.muni.cz/~kas/mrtg-rrd/</p>

<p style="margin-top: 1em">FUTURE <br>
Just as a side note: MRTG-3 will be based entirely on
rrdtool technology. But don&rsquo;t wait for it ... get
going now!</p>

<p style="margin-top: 1em">AUTHOR <br>
Tobias Oetiker &lt;tobi@oetiker.ch&gt;</p>

<p style="margin-top: 1em">2.17.4 2012-01-12
MRTG-RRD(1)</p>
<hr>
</body>
</html>
