<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PKCS15-TOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PKCS15-TOOL(1)</td>
    <td class="head-vol">OpenSC Tools</td>
    <td class="head-rtitle">PKCS15-TOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pkcs15-tool - utility for manipulating PKCS #15 data structures on smart cards
  and similar security tokens
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 12.00ex; text-indent: -12.00ex;"><b>pkcs15-tool</b>
  [ <i>OPTIONS</i>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>pkcs15-tool</b> utility is used to manipulate the PKCS #15 data
  structures on smart cards and similar security tokens. Users can list and read
  PINs, keys and certificates stored on the token. User PIN authentication is
  performed for those operations that require it.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--aid</b> <i>aid</i>
<div style="margin-left: 4.00ex;">Specify in a hexadecimal form the AID of the
  on-card PKCS#15 application to bind to.</div>
<div class="Pp"></div>
<b>--auth-id</b> <i>pin</i>, <b>-a</b> <i>pin</i>
<div style="margin-left: 4.00ex;">Specifies the auth id of the PIN to use for
  the operation. This is useful with the --change-pin operation.</div>
<div class="Pp"></div>
<b>--change-pin</b>
<div style="margin-left: 4.00ex;">Changes a PIN or PUK stored on the token. User
  authentication is required for this operation.</div>
<div class="Pp"></div>
<b>--dump</b>, <b>-D</b>
<div style="margin-left: 4.00ex;">Dump card objects.</div>
<div class="Pp"></div>
<b>--learn-card</b>, <b>-L</b>
<div style="margin-left: 4.00ex;">Cache PKCS #15 token data to the local
  filesystem. Subsequent operations are performed on the cached data where
  possible. If the cache becomes out-of-sync with the token state (eg. new key
  is generated and stored on the token), the cache should be updated or
  operations may show stale results.</div>
<div class="Pp"></div>
<b>--list-applications</b>
<div style="margin-left: 4.00ex;">List the on-card PKCS#15 applications</div>
<div class="Pp"></div>
<b>--list-certificates</b>, <b>-c</b>
<div style="margin-left: 4.00ex;">Lists all certificates stored on the
  token.</div>
<div class="Pp"></div>
<b>--list-data-objects</b>, <b>-C</b>
<div style="margin-left: 4.00ex;">Lists all data objects stored on the token.
  For some cards the PKCS#15 attributes of the private data objects are
  protected for reading and need the authentication with the User PIN. In such a
  case the <b>--verify-pin</b> option has to be used.</div>
<div class="Pp"></div>
<b>--list-keys</b>, <b>-k</b>
<div style="margin-left: 4.00ex;">Lists all private keys stored on the token.
  General information about each private key is listed (eg. key name, id and
  algorithm). Actual private key values are not displayed. For some cards the
  PKCS#15 attributes of the private keys are protected for reading and need the
  authentication with the User PIN. In such a case the <b>--verify-pin</b>
  option has to be used.</div>
<div class="Pp"></div>
<b>--list-pins</b>
<div style="margin-left: 4.00ex;">Lists all PINs stored on the token. General
  information about each PIN is listed (eg. PIN name). Actual PIN values are not
  shown.</div>
<div class="Pp"></div>
<b>--list-public-keys</b>
<div style="margin-left: 4.00ex;">Lists all public keys stored on the token,
  including key name, id, algorithm and length information.</div>
<div class="Pp"></div>
<b>--no-cache</b>
<div style="margin-left: 4.00ex;">Disables token data caching.</div>
<div class="Pp"></div>
<b>--output</b> <i>filename</i>, <b>-o</b> <i>filename</i>
<div style="margin-left: 4.00ex;">Specifies where key output should be written.
  If <i>filename</i> already exists, it will be overwritten. If this option is
  not given, keys will be printed to standard output.</div>
<div class="Pp"></div>
<b>--read-certificate</b> <i>cert</i>, <b>-r</b> <i>cert</i>
<div style="margin-left: 4.00ex;">Reads the certificate with the given id.</div>
<div class="Pp"></div>
<b>--read-data-object</b> <i>cert</i>, <b>-R</b> <i>data</i>
<div style="margin-left: 4.00ex;">Reads data object with OID, applicationName or
  label.</div>
<div class="Pp"></div>
<b>--read-public-key</b> <i>id</i>
<div style="margin-left: 4.00ex;">Reads the public key with id <i>id</i>,
  allowing the user to extract and store or use the public key.</div>
<div class="Pp"></div>
<b>--read-ssh-key</b> <i>id</i>
<div style="margin-left: 4.00ex;">Reads the public key with id <i>id</i>,
  writing the output in format suitable for $HOME/.ssh/authorized_keys.</div>
<div class="Pp"></div>
<b>--reader</b> <i>num</i>
<div style="margin-left: 4.00ex;">Forces <b>pkcs15-tool</b> to use reader number
  <i>num</i> for operations. The default is to use reader number 0, the first
  reader in the system.</div>
<div class="Pp"></div>
<b>--unblock-pin</b>, <b>-u</b>
<div style="margin-left: 4.00ex;">Unblocks a PIN stored on the token. Knowledge
  of the Pin Unblock Key (PUK) is required for this operation.</div>
<div class="Pp"></div>
<b>--verbose</b>, <b>-v</b>
<div style="margin-left: 4.00ex;">Causes <b>pkcs15-tool</b> to be more verbose.
  Specify this flag several times to enable debug output in the OpenSC
  library.</div>
<div class="Pp"></div>
<b>--verify-pin</b>
<div style="margin-left: 4.00ex;">Verify PIN after card binding and before
  issuing any command (without 'auth-id' the first non-SO, non-Unblock PIN will
  be verified)</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pkcs15-init</b>(1), <b>pkcs15-crypt</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">11/05/2016</td>
    <td class="foot-os">opensc</td>
  </tr>
</table>
</body>
</html>
