<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:22:41 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>LSKRF(1) User Contributed Perl Documentation
LSKRF(1)</p>

<p style="margin-top: 1em">NAME <br>
lskrf - List the keyrecs in a DNSSEC-Tools keyrec file</p>

<p style="margin-top: 1em">SYNOPSIS <br>
lskrf [options] &lt;keyrec-files&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
lskrf lists the contents of the specified keyrec files. All
keyrec files are loaded before the output is displayed. If
any keyrecs have duplicated names, whether within one <br>
file or across multiple files, the later keyrec will be the
one whose data are displayed.</p>

<p style="margin-top: 1em">lskrf has three base output
formats. In ascending levels of detail, these formats are
terse output, default format, and long format. Terse output
is given when the -terse <br>
option is specified; long output is given when the -long
option is specified.</p>

<p style="margin-top: 1em">The output displayed for each
record in a keyrec file depends on the selected records, the
selected attributes, and the selected output format. Each
option in these option <br>
groups is described in detail in the OPTIONS section; the
three basic output formats are described in the OUTPUT
FORMATS section.</p>

<p style="margin-top: 1em">OUTPUT FORMATS <br>
keyrec files hold three types of keyrec records: zone
records, signing set records, and key records. Each type of
keyrec record contains keyrec fields related to that type.
<br>
Zone keyrec records contain data about all the keys
associated with a particular zone; set keyrec records
contain data about all the keys associated with a particular
signing <br>
set; key keyrec records contain key lengths and algorithms
for each particular key. (There is the case of subordinate
revoked and obsolete signing sets. These are stored in key
<br>
keyrec records, but they contain the set_type entry which
key keyrecs do not.) The data to be printed must be
specified by selecting some combination of the -zone, -sets,
-keys, <br>
and -all options. There are also options for specifying
specific types of keys to be printed.</p>

<p style="margin-top: 1em">The three base output formats
are the default format, the terse format, and the long
format. The -terse option indicates that a minimal amount of
output is desired; the -long <br>
option indicates that a great deal of output is desired. The
record-selection and attribute-selection options may be used
in conjunction with -terse to display exactly the set <br>
of keyrec fields needed. The default output format is a
middle ground between terse and long output and is that used
when neither -terse nor -long is given.</p>

<p style="margin-top: 1em">Zone keyrec Output <br>
The table below shows the zone keyrec fields displayed for
each output format.</p>

<p style="margin-top: 1em">keyrec field default terse long
<br>
------------ ------- ----- ---- <br>
keyrec type yes no yes <br>
zone name yes yes yes <br>
zone file yes no yes <br>
signed zonefile yes no yes <br>
signing date yes no yes <br>
expiration date no no yes <br>
archive directory no no yes <br>
KSK count no no yes <br>
KSK directory no no yes <br>
current KSK set no no yes <br>
published KSK set no no yes <br>
ZSK count no no yes <br>
ZSK directory no no yes <br>
current ZSK set no no yes <br>
published ZSK set no no yes <br>
new ZSK set no no yes</p>

<p style="margin-top: 1em">Set keyrec Output <br>
The table below shows the signing set keyrec fields
displayed for each output format.</p>

<p style="margin-top: 1em">keyrec field default terse long
<br>
------------ ------- ----- ---- <br>
keyrec type yes no yes <br>
set name yes yes yes <br>
zone name yes no yes <br>
type yes no yes <br>
keys no no yes <br>
last modification date no no yes</p>

<p style="margin-top: 1em">Key keyrec Output <br>
The table below shows the key keyrec fields displayed for
each output format.</p>

<p style="margin-top: 1em">keyrec field default terse long
<br>
------------ ------- ----- ---- <br>
keyrec type yes no yes <br>
key name yes yes yes <br>
algorithm no no yes <br>
end date no no yes <br>
generation date yes no yes <br>
key length no no yes <br>
key life no no yes <br>
key path no no yes <br>
keys no no yes <br>
random number generator no no yes <br>
zone name yes no yes</p>

<p style="margin-top: 1em">OPTIONS <br>
lskrf takes three types of options: record-selection
options, record-attribute options, and output-style options.
These option sets are detailed below.</p>

<p style="margin-top: 1em">Record-selection options are
required options; at least one record-selection option must
be selected. Record-attribute options and output-style
options are optional options; any <br>
number of these option may be selected.</p>

<p style="margin-top: 1em">Record-Selection Options <br>
These options select the types of keyrec that will be
displayed.</p>

<p style="margin-top: 1em">-all <br>
This option displays all the records in a keyrec file.</p>

<p style="margin-top: 1em">-zones <br>
This option displays the zones in a keyrec file.</p>

<p style="margin-top: 1em">-sets <br>
This option displays the signing sets in a keyrec file.</p>

<p style="margin-top: 1em">-keys <br>
This option displays the keys in a keyrec file.</p>

<p style="margin-top: 1em">The key data are sorted by key
type in the following order: Current KSKs, Published KSKs,
Current ZSKs, Published ZSKs, New ZSKs, Obsolete KSKs, and
Obsolete ZSKs.</p>

<p style="margin-top: 1em">-ksk <br>
This option displays the KSK keys in a keyrec file.</p>

<p style="margin-top: 1em">-kcur <br>
This option displays the Current KSK keys in a keyrec
file.</p>

<p style="margin-top: 1em">-kpub <br>
This option displays the Published KSK keys in a keyrec
file.</p>

<p style="margin-top: 1em">-kobs <br>
This option displays the obsolete KSK keys in a keyrec file.
This option must be give if obsolete KSK keys are to be
displayed.</p>

<p style="margin-top: 1em">-krev <br>
This option displays the revoked KSK keys in a keyrec file.
This option must be give if revoked KSK keys are to be
displayed.</p>

<p style="margin-top: 1em">-zsk <br>
This option displays the ZSK keys in a keyrec file. It does
not include obsolete ZSK keys; the -obs option must be
specified to display obsolete keys.</p>

<p style="margin-top: 1em">-cur <br>
This option displays the Current ZSK keys in a keyrec
file.</p>

<p style="margin-top: 1em">-new <br>
This option displays the New ZSK keys in a keyrec file.</p>

<p style="margin-top: 1em">-pub <br>
This option displays the Published ZSK keys in a keyrec
file.</p>

<p style="margin-top: 1em">-zobs <br>
This option displays the obsolete ZSK keys in a keyrec file.
This option must be give if obsolete ZSK keys are to be
displayed.</p>

<p style="margin-top: 1em">-zrev <br>
This option displays the revoked ZSK keys in a keyrec file.
This option must be give if revoked ZSK keys are to be
displayed.</p>

<p style="margin-top: 1em">-obs <br>
This option displays the obsolete KSK and ZSK keys in a
keyrec file. This option is a shorthand method specifying
the -kobs and -zobs options.</p>

<p style="margin-top: 1em">-rev <br>
This option displays the revoked KSK and ZSK keys in a
keyrec file. This option is a shorthand method specifying
the -krev and -zrev options.</p>

<p style="margin-top: 1em">-invalid <br>
This option displays the obsolete and revoked KSK and ZSK
keys in a keyrec file. This option is a shorthand method
specifying the -obs and -rev options.</p>

<p style="margin-top: 1em">Record-Attribute Options <br>
These options select subsets of the keyrecs chosen by the
record-selection options.</p>

<p style="margin-top: 1em">-valid <br>
This option displays the valid zones in a keyrec file. It
implies the -zones option.</p>

<p style="margin-top: 1em">-expired&gt; <br>
This option displays the expired zones in a keyrec file. It
implies the -zones option.</p>

<p style="margin-top: 1em">-ref <br>
This option displays the referenced signing set keyrecs and
the referenced key keyrecs in a keyrec file, depending upon
other selected options.</p>

<p style="margin-top: 1em">Referenced state depends on the
following:</p>

<p style="margin-top: 1em">* Signing sets are considered to
be referenced if they <br>
are listed in a zone keyrec.</p>

<p style="margin-top: 1em">* KSKs are considered to be
referenced if they are listed <br>
in a signing set keyrec that is listed in a zone keyrec.</p>

<p style="margin-top: 1em">* ZSKs are considered to be
referenced if they are listed <br>
in a signing set keyrec that is listed in a zone keyrec.</p>

<p style="margin-top: 1em">This option may be used with
either the -sets or -keys options. If it isn&rsquo;t used
with any record-selection options, then it is assumed that
both -sets and -keys have been <br>
specified.</p>

<p style="margin-top: 1em">-unref <br>
This option displays the unreferenced signing set keyrecs or
the unreferenced key keyrecs in a keyrec file, depending
upon other selected options.</p>

<p style="margin-top: 1em">Unreferenced state depends on
the following:</p>

<p style="margin-top: 1em">* Signing sets are considered to
be unreferenced if they <br>
are not listed in a zone keyrec.</p>

<p style="margin-top: 1em">* KSKs are considered to be
unreferenced if they are not listed <br>
in a signing set keyrec that is listed in a zone keyrec.</p>

<p style="margin-top: 1em">* ZSKs are considered to be
unreferenced if they are not listed <br>
in a signing set keyrec that is listed in a zone keyrec.</p>

<p style="margin-top: 1em">* Obsolete ZSKs are checked,
whether or not the -obs flag <br>
was specified.</p>

<p style="margin-top: 1em">This option may be used with
either the -sets or -keys options. If it isn&rsquo;t used
with any record-selection options, then it is assumed that
both -sets and -keys have been <br>
specified.</p>

<p style="margin-top: 1em">Zone-Attribute Options <br>
These options allow specific zone fields to be included in
the output. If combined with the -terse option, only those
fields specifically desired will be printed. These options
<br>
must be used with the -zone option.</p>

<p style="margin-top: 1em">-z-archdir <br>
Display the zone&rsquo;s archive directory. If an archive
directory is not explicitly set for the zone, the default
directory will be listed.</p>

<p style="margin-top: 1em">-z-dates <br>
Display the zone&rsquo;s time-stamps. These are the signing
date and the expiration date.</p>

<p style="margin-top: 1em">-z-dirs <br>
Display the zone&rsquo;s directories. These directories are
the KSK directory, the ZSK directory, and the key archive
directory.</p>

<p style="margin-top: 1em">-z-expdate <br>
Display the zone&rsquo;s expiration date.</p>

<p style="margin-top: 1em">-z-ksk <br>
Display the zone&rsquo;s KSK data. This is the equivalent of
specifying the -z-kskcount, -z-kskcur, -z-kskdir, and
-z-kskpub options.</p>

<p style="margin-top: 1em">-z-kskcount <br>
Display the zone&rsquo;s KSK count.</p>

<p style="margin-top: 1em">-z-kskcur <br>
Display the zone&rsquo;s Current KSK signing set. If this is
not defined, then &quot;&lt;unset&gt;&quot; will be
given.</p>

<p style="margin-top: 1em">-z-kskdir <br>
Display the zone&rsquo;s KSK directory. If this is not
defined, then &quot;.&quot; will be given.</p>

<p style="margin-top: 1em">-z-kskpub <br>
Display the zone&rsquo;s Published KSK signing set. If this
is not defined, then &quot;&lt;unset&gt;&quot; will be
given.</p>

<p style="margin-top: 1em">-z-sets <br>
Display the zone&rsquo;s signing sets. This is the
equivalent of specifying the -z-kskcur, -z-kskpub,
-z-zskcur, -z-zsknew, and -z-zskpub options.</p>

<p style="margin-top: 1em">-z-signdate <br>
Display the zone&rsquo;s signing date.</p>

<p style="margin-top: 1em">-z-signfile <br>
Display the zone&rsquo;s signed zonefile.</p>

<p style="margin-top: 1em">-z-zonefile <br>
Display the zone&rsquo;s zonefile.</p>

<p style="margin-top: 1em">-z-zsk <br>
Display the zone&rsquo;s ZSK data. This is the equivalent of
specifying the -z-zskcount, -z-zskcur, -z-zskdir, -z-zsknew,
and -z-zskpub options.</p>

<p style="margin-top: 1em">-z-zskcount <br>
Display the zone&rsquo;s ZSK count.</p>

<p style="margin-top: 1em">-z-zskcur <br>
Display the zone&rsquo;s Current ZSK signing set. If this is
not defined, then &quot;&lt;unset&gt;&quot; will be
given.</p>

<p style="margin-top: 1em">-z-zskdir <br>
Display the zone&rsquo;s ZSK directory. If this is not
defined, then &quot;.&quot; will be given.</p>

<p style="margin-top: 1em">-z-zsknew <br>
Display the zone&rsquo;s New ZSK signing set. If this is not
defined, then &quot;&lt;unset&gt;&quot; will be given.</p>

<p style="margin-top: 1em">-z-zskpub <br>
Display the zone&rsquo;s Published ZSK signing set. If this
is not defined, then &quot;&lt;unset&gt;&quot; will be
given.</p>

<p style="margin-top: 1em">Set-Attribute Options <br>
These options allow specific set fields to be included in
the output. If combined with the -terse option, only those
fields specifically desired will be printed. These options
<br>
must be used with the -sets option.</p>

<p style="margin-top: 1em">If RFC5011 processing is
enabled, there is special handling of the zone&rsquo;s set
keyrec of revoked KSK keys. The &quot;kskrev&quot; field in
the zone&rsquo;s keyrec points to a set keyrec, marked <br>
as being of type &quot;kskrev&quot;. This set keyrec, in
turn, points to a number of other set keyrecs, all of which
are also marked as being of type &quot;kskrev&quot;. The
group of all revoked <br>
KSK keys is found by consulting that subsidiary set of
&quot;kskrev&quot; set keyrecs. When the ages of these
revoked keys exceeds their revocation periods, they are
marked as being <br>
obsolete (&quot;kskobs&quot;). If this happens as part of
normal rollover, these revoked key and set keyrecs are all
removed from the chain of active, revoked keyrecs. If this
happens to <br>
a key that&rsquo;s part of a larger set of keys, it is
removed from that signing set and put in its own new signing
set. lskrf displays the type of the &quot;kskrev&quot; set
(listed in the <br>
zone keyrec) as &quot;KSK-REV&quot;, and all other revoked
KSK keyrecs are listed as &quot;KSK-rev&quot;.</p>

<p style="margin-top: 1em">-s-keys <br>
Display the set&rsquo;s keys.</p>

<p style="margin-top: 1em">-s-lastmod <br>
Display the set&rsquo;s date of last modification.</p>

<p style="margin-top: 1em">-s-type <br>
Display the set&rsquo;s type.</p>

<p style="margin-top: 1em">-s-zone <br>
Display the set&rsquo;s zone name.</p>

<p style="margin-top: 1em">-s-ksk <br>
Display KSK signing sets. This option implies the -sets
option.</p>

<p style="margin-top: 1em">-s-kcur <br>
Display current KSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-kobs <br>
Display obsolete KSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-kpub <br>
Display published KSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-krev <br>
Display revoked KSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-zsk <br>
Display ZSK signing sets. This option implies the -sets
option.</p>

<p style="margin-top: 1em">-s-zcur <br>
Display current ZSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-znew <br>
Display new ZSK signing sets. This option implies the -sets
option.</p>

<p style="margin-top: 1em">-s-zobs <br>
Display obsolete ZSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-zpub <br>
Display published ZSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">-s-zrev <br>
Display revoked ZSK signing sets. This option implies the
-sets option.</p>

<p style="margin-top: 1em">Key-Attribute Options <br>
These options allow specific key fields to be included in
the output. If combined with the -terse option, only those
fields specifically desired will be printed. These options
<br>
must be used with the -key option.</p>

<p style="margin-top: 1em">-k-algorithm <br>
Display the key&rsquo;s encryption algorithm.</p>

<p style="margin-top: 1em">-k-enddate <br>
Display the key&rsquo;s end-date, calculated by adding the
key&rsquo;s lifespan to its signing date.</p>

<p style="margin-top: 1em">-k-length <br>
Display the key&rsquo;s length.</p>

<p style="margin-top: 1em">-k-lifespan <br>
Display the key&rsquo;s lifespan (in seconds.) This lifespan
is only related to the time between key rollover. There is
no other lifespan associated with a key.</p>

<p style="margin-top: 1em">-k-path <br>
Display the key&rsquo;s path.</p>

<p style="margin-top: 1em">-k-random <br>
Display the key&rsquo;s random number generator.</p>

<p style="margin-top: 1em">-k-signdate <br>
Display the key&rsquo;s signing date.</p>

<p style="margin-top: 1em">-k-zone <br>
Display the key&rsquo;s zonefile.</p>

<p style="margin-top: 1em">Output-Format Options <br>
These options define how the keyrec information will be
displayed.</p>

<p style="margin-top: 1em">Without any of these options,
the zone name, zone file, zone-signing date, and a label
will be displayed for zones. For types, the key name, the
key&rsquo;s zone, the key&rsquo;s generation <br>
date, and a label will be displayed if these options
aren&rsquo;t given.</p>

<p style="margin-top: 1em">-count <br>
The count of matching records will be displayed, but the
matching records will not be.</p>

<p style="margin-top: 1em">-nodate <br>
The key&rsquo;s generation date will not be printed if this
flag is given.</p>

<p style="margin-top: 1em">-headers <br>
Display explanatory column headers. If this flag is given,
then entry labels will not be printed unless explicitly
requested by use of the -label option.</p>

<p style="margin-top: 1em">-label <br>
A label for the keyrec&rsquo;s type will be given.</p>

<p style="margin-top: 1em">-long <br>
The long form of output will be given. See the OUTPUT
FORMATS section for details on data printed for each type of
keyrec record.</p>

<p style="margin-top: 1em">Long zone output can get very
wide, depending on the data.</p>

<p style="margin-top: 1em">-terse <br>
This options displays only the name of the zones or keys
selected by other options.</p>

<p style="margin-top: 1em">-Version <br>
Displays the version information for lskrf and the
DNSSEC-Tools package.</p>

<p style="margin-top: 1em">-help <br>
Display a usage message and exit.</p>

<p style="margin-top: 1em">-h-zones <br>
Display the zone-attribute options and exit.</p>

<p style="margin-top: 1em">-h-sets <br>
Display the set-attribute options and exit.</p>

<p style="margin-top: 1em">-h-keys <br>
Display the key-attribute options and exit.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright 2005-2014 SPARTA, Inc. All rights reserved. See
the COPYING file included with the DNSSEC-Tools package for
details.</p>

<p style="margin-top: 1em">AUTHOR <br>
Wayne Morrison, tewok@tislabs.com</p>

<p style="margin-top: 1em">SEE ALSO <br>
zonesigner(8)</p>


<p style="margin-top: 1em">Net::DNS::SEC::Tools::keyrec.pm(3)</p>

<p style="margin-top: 1em">file-keyrec(5)</p>

<p style="margin-top: 1em">perl v5.24.0 2015-06-30
LSKRF(1)</p>
<hr>
</body>
</html>
