<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:41:16 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>UBERFTP(1C) UBERFTP(1C)</p>

<p style="margin-top: 1em">NAME <br>
uberftp - GridFTP-enabled client</p>

<p style="margin-top: 1em">SYNOPSIS <br>
uberftp [options] [host options] [host]</p>

<p style="margin-top: 1em">uberftp [options] [host options]
host &acirc;cmd&acirc;</p>

<p style="margin-top: 1em">uberftp [options] srcurl
dsturl</p>

<p style="margin-top: 1em">uberftp [options] -f urlfile</p>

<p style="margin-top: 1em">uberftp [options] -cmd url</p>

<p style="margin-top: 1em">DESCRIPTION <br>
uberftp is a GridFTP-enabled client that supports both
interactive use and FTP commands on the uberftp command line
to transfer files between two computers. It is intended for
<br>
use with computers that have a GridFTP server installed.
Uberftp supports GSI authentication, parallel data channels
and striping. For more information about GridFTP, see the
<br>
GridFTP URL in the &quot;SEE ALSO&quot; section below.</p>

<p style="margin-top: 1em">Only the first usage shown above
will create an interactive session. If host is specified,
uberftp immediately attempts to establish a connection to
the GridFTP server on host, <br>
enters its command interpreter and awaits commands from the
user. If host is not specified, uberftp immediately drops
into the command interpreter without connecting to any <br>
GridFTP server.</p>

<p style="margin-top: 1em">The second usage option denotes
a non interactive session in which &acirc;cmd&acirc; is a
series of one or more commands as described in the COMMANDS
section below to run once the control <br>
connection is established. These commands are run exactly as
if they had been entered from the interactive prompt. This
list must be enclosed in quotes. Multiple commands are <br>
semicolon or comma delimited. uberftp will execute these
commands and then exit. Uberftp will exit upon the first
error encountered.</p>

<p style="margin-top: 1em">The third and forth usage
statements use the URL style format for specifying the
source and destination for the files to transfer. The third
usage statement places these URLs on <br>
the command line. The forth usage allows the user to specify
multiple URL pairs in a separate file for Uberftp to
transfer one at a time. The supported URL syntaxes are <br>
gsiftp://[user@]host[:port]/file,
ftp://[user[:pass]@]host[:port]/file and file://path.</p>

<p style="margin-top: 1em">The fifth usage statement allows
for commands that take pathnames to accept URLs instead. The
allowable commands are listed in the -cmds section
below.</p>

<p style="margin-top: 1em">HOST OPTIONS <br>
-P port <br>
Connect to port instead of the default. The default for GSI
authentication is 2811. The default for password
authentication is 21.</p>

<p style="margin-top: 1em">-u user <br>
Connect as user. This is useful for both password and GSI
authentication mechanisms.</p>

<p style="margin-top: 1em">-p pass <br>
Use pass when authenticating. If pass equals X, UberFTP will
prompt for the password with character echoing turned
off.</p>

<p style="margin-top: 1em">OPTIONS <br>
-active <br>
Use ACTIVE mode for data transfers.</p>

<p style="margin-top: 1em">-ascii Use ASCII mode for data
transfers.</p>

<p style="margin-top: 1em">-binary <br>
Use BINARY mode for data transfers.</p>

<p style="margin-top: 1em">-blksize n <br>
Set the internal buffer size to n.</p>

<p style="margin-top: 1em">-cksum [on|off] <br>
Enable/Disable CRC checks after file transfers.</p>

<p style="margin-top: 1em">-cos name <br>
Set the storage class of service to name. Used with HPSS
installations. Use the class of service name default to
allow the remote server to decide which class of service
<br>
to use.</p>

<p style="margin-top: 1em">-d Enable debugging. Same as
&rsquo;-debug 3&rsquo;. Deprecated.</p>

<p style="margin-top: 1em">-debug n <br>
Set the debug level to n.</p>

<p style="margin-top: 1em">-family name <br>
Set the storage family to name. Use the family name default
to allow the remote server to decide which family to
use.</p>

<p style="margin-top: 1em">-glob [on|off] <br>
Enable/Disable filename expansion.</p>

<p style="margin-top: 1em">-hash Enable printing of hash
marks during transfers.</p>

<p style="margin-top: 1em">-keepalive n <br>
Send control channel keepalive messages every n seconds
during data transfers.</p>

<p style="margin-top: 1em">-mode [E|S] <br>
Switch the transfer mode to extended block (E) or streams
mode (S).</p>

<p style="margin-top: 1em">-parallel n <br>
Use n parallel data channels during extended block
transfers.</p>

<p style="margin-top: 1em">-passive <br>
Use PASSIVE mode for data transfers.</p>

<p style="margin-top: 1em">-pbsz n <br>
Set the data protection buffer size to n n bytes.</p>

<p style="margin-top: 1em">-prot [C|S|E|P] <br>
Set the data protection lelvel to clear (C), safe (S),
confidential (E) or private (P).</p>

<p style="margin-top: 1em">-retry n <br>
Retry commands that fail with transient errors n times.</p>

<p style="margin-top: 1em">-resume path <br>
Retry the recursive transfer starting at path.</p>

<p style="margin-top: 1em">-tcpbuf n <br>
Set the TCP read/write buffers to n bytes.</p>

<p style="margin-top: 1em">-wait This will cause the client
to wait for remote files to stage before attempting to
transfer them.</p>

<p style="margin-top: 1em">-v Print UberFTP version
information and exit.</p>

<p style="margin-top: 1em">-version <br>
Print UberFTP version information and exit.</p>

<p style="margin-top: 1em">-versions <br>
Print version information about all used globus modules and
exit.</p>

<p style="margin-top: 1em">Supported -cmds <br>
-cat url <br>
Print to stdout the contents of the remote file.</p>

<p style="margin-top: 1em">-chgrp [-r] group url <br>
Set the group ownership of the remote object(s).</p>

<p style="margin-top: 1em">-chmod [-r] perms url <br>
Set the permissions of the remote object(s).</p>

<p style="margin-top: 1em">-dir [-r] url <br>
List the contents of the remote object.</p>

<p style="margin-top: 1em">-link url path <br>
Create a hardlink named &lt;path&gt; to the remote
object.</p>

<p style="margin-top: 1em">-ls [-r] url <br>
List the contents of the remote object.</p>

<p style="margin-top: 1em">-mkdir url <br>
Create the remote directory.</p>

<p style="margin-top: 1em">-rename url path <br>
Rename the remote object to the given path.</p>

<p style="margin-top: 1em">-rm [-r] url <br>
Remove the remote object(s).</p>

<p style="margin-top: 1em">-rmdir url <br>
Remove the remote directory.</p>

<p style="margin-top: 1em">-size url <br>
Return the size of the remote object.</p>

<p style="margin-top: 1em">-stage [-r] seconds url <br>
Attempt to stage the remote object(s) over the time period
given in seconds.</p>

<p style="margin-top: 1em">-symlink url path <br>
Create a symlink named &lt;path&gt; to the remote
object.</p>

<p style="margin-top: 1em">DEFAULT TRANSFER MODE <br>
By default, without any special environment variables,
command line options or commands, uberftp will transfer
files in PASSIVE STREAMS mode. PASSIVE means that the client
will <br>
initiate the data connection which is useful for users
behind firewalls. STREAMS mode implies that GRIDFTP features
including striping and parallel data connections are not
used. <br>
In order to take advantage of these features with GridFTP
capable servers, you must either change the mode directly
using -m command line switch or the mode interactive
command, <br>
or you can change the mode indirectly by specifying more
than one parallel data connection using the -c command line
switch or by using the parallel interactive command.</p>

<p style="margin-top: 1em">GETTING YOUR GSI PROXY <br>
By default, uberftp requires a GSI certificate. If you do
not already have a certificate, see the following web page
to learn how to get one:</p>


<p style="margin-top: 1em">http://www.ncsa.uiuc.edu/UserInfo/Grid/Security/GetUserCert.html</p>

<p style="margin-top: 1em">Once you have a certificate, use
the grid-proxy-init command to get a valid proxy.</p>

<p style="margin-top: 1em">COMMANDS <br>
! [command] <br>
Run the command using a shell on the local machine. If no
command is given, invoke an interactive shell.</p>

<p style="margin-top: 1em">? [command] <br>
If command is given, print a (hopefully) helpful blurb about
it. Otherwise, list all commands.</p>

<p style="margin-top: 1em">active Change to ACTIVE mode
which causes the server to initiate the data connection. The
default is PASSIVE mode unless the variable
UBERFTP_ACTIVE_MODE is set in the environ&acirc; <br>
ment. If you are behind a firewall you must use PASSIVE
mode.</p>

<p style="margin-top: 1em">ascii Change the data transfer
type to ASCII which causes the server to do some simple
transformations to the file being transferred. This is
mostly useful for changing EOL (end <br>
of line) in text files when moving between platforms. This
option is almost never necessary today. The default is
BINARY mode also known as IMAGE mode.</p>

<p style="margin-top: 1em">binary Change the data transfer
type to BINARY (aka IMAGE) which causes the server to not
perform transformations to the file being transferred. This
is the default and is faster <br>
than an ASCII transfer.</p>

<p style="margin-top: 1em">blksize size <br>
Change the size of the memory buffer used to read and write
data to disks to size bytes. The default block size is
1024*1024 (1048576) bytes but it can be changed at
com&acirc; <br>
pile time. The block size can be increased to improve file
transfer performance. This is not related to the extended
block mode block size used to determine the ratio of <br>
data to header for data transferred on the data channel.</p>

<p style="margin-top: 1em">bugs Prints information
regarding bug reporting and feature requests.</p>

<p style="margin-top: 1em">bye Close all control and data
connections and exit.</p>

<p style="margin-top: 1em">cat file1 [file2 ... filen] <br>
Print the contents of the remote file(s) to stdout.</p>

<p style="margin-top: 1em">cdup Change the remote working
directory up one level.</p>

<p style="margin-top: 1em">cd [dir] <br>
Change the remote working directory to dir. If dir is not
given, the client will make every attempt to change to the
user&rsquo;s home directory.</p>

<p style="margin-top: 1em">chgrp [-r] group object [object2
... objectn] <br>
Change group ownership on the remote object(s). <br>
-r Recursively chgrp everything in the given directory.</p>

<p style="margin-top: 1em">chmod [-r] perms object [object2
... objectn] <br>
Change permissions on the remote object(s). <br>
-r Recursively chmod everything in the given directory.</p>

<p style="margin-top: 1em">close Close the control
connection to the remote host.</p>

<p style="margin-top: 1em">cksum [on|off] <br>
Enable file cksum comparison after each file transfer. This
only works with NCSA&rsquo;s mass storage system. <br>
on Enable checksum comparison <br>
off Disable checksum comparison</p>

<p style="margin-top: 1em">cos name <br>
Sets the HPSS class of service to name on the FTP service if
the service supports it. If name is omitted, the current
class of service is printed. Use the class of ser&acirc;
<br>
vice name default to allow the remote server to decide which
class of service to use.</p>

<p style="margin-top: 1em">dcau [N|A|S subject] <br>
Change the data channel authentication settings. If the
service does not support DCAU, these settings are ignored.
<br>
N Disabled dcau. <br>
A Expect the remote identity to be mine. (Default) <br>
S subject Expect the remote identity to be subject.</p>

<p style="margin-top: 1em">debug [0-3] <br>
Turn debug statements on/off. If no value is given, this
command will toggle between debug(2) and non debug(1) mode.
Otherwise the debug level is set to the given level. <br>
0 Only errors are printed <br>
1 Default. Errors and some helpful messages are printed <br>
2 Print useful control channel information <br>
3 Print all information</p>

<p style="margin-top: 1em">family name <br>
Sets the tape family to name on the FTP service if the
service supports it. If name is omitted, the current family
is printed. Use the family name default to allow the <br>
remote server to decide which family to use.</p>

<p style="margin-top: 1em">glob [on|off] <br>
Enable or disable filename globbing. If no option is given,
this command will toggle the current setting. <br>
on Enable filename globbing <br>
off Disable filename globbing</p>

<p style="margin-top: 1em">dir [-r] [target] <br>
List the contents of the remote target directory. If target
is not given, then the current working directory is used.
<br>
-r Recursively list target. <br>
target Directory or file to list. &rsquo;.&rsquo; is used by
default.</p>

<p style="margin-top: 1em">get [-r] source [destination]
<br>
Retrieve file(s) from the remote service. If source implies
multiple transfers, either through regular expressions or by
using the recursive feature, then destination must <br>
be a directory. If destination is not specified, source is
used. <br>
-r Recursively transfer the given directory.</p>

<p style="margin-top: 1em">hash Print hash marks during
data transfers. This does not work during third party
transfers.</p>

<p style="margin-top: 1em">help [command] <br>
If command is given, print a helpful blurb about command.
Otherwise, list all commands.</p>

<p style="margin-top: 1em">keepalive [seconds] <br>
Attempts to keep the control channel from being blocked by
firewalls during long data channel operations. UberFTP sends
a NOOP command to the service at intervals equal to <br>
the specified number of seconds. Setting it to zero will
disable keepalive. If seconds are not given, the current
timeout is displayed. This feature is disabled by <br>
default. <br>
seconds number of seconds between NOOPs. Disabled if
zero.</p>

<p style="margin-top: 1em">lcat file1 [file2 ... filen]
<br>
Print the contents of the local file(s) to stdout.</p>

<p style="margin-top: 1em">lcd [dir] <br>
Change the local working directory to dir. If dir is not
given, the client will make every attempt to change to the
user&rsquo;s home directory.</p>

<p style="margin-top: 1em">lcdup Change the local working
directory up one level.</p>

<p style="margin-top: 1em">lchgrp [-r] group object
[object2 ... objectn] <br>
Change group ownership on the local object(s). <br>
-r Recursively chgrp everything in the given directory.</p>

<p style="margin-top: 1em">lchmod [-r] perms object
[object2 ... objectn] <br>
Change permissions on the local object(s). <br>
-r Recursively chmod everything in the given directory.</p>

<p style="margin-top: 1em">lclose Close the control
connection to the local host.</p>

<p style="margin-top: 1em">ldir [-r] [target] <br>
List the contents of the local target directory. If target
is not given, then the current working directory is used.
<br>
-r Recursively list target. <br>
target Directory or file to list. &rsquo;.&rsquo; is used by
default.</p>

<p style="margin-top: 1em">link [oldfile] [newfile] <br>
Create a hardlink to oldfile named newfile on the remote
service.</p>

<p style="margin-top: 1em">llink [oldfile] [newfile] <br>
Create a hardlink to oldfile named newfile on the local
service.</p>

<p style="margin-top: 1em">lls [-r] [target] <br>
List the contents of the local target directory. If target
is not given, then the current working directory is used.
<br>
-r Recursively list target. <br>
target Directory or file to list. &rsquo;.&rsquo; is used by
default.</p>

<p style="margin-top: 1em">llscos List the available class
of services on the local server (HPSS only).</p>

<p style="margin-top: 1em">llsfam List the available tape
families on the local server (HPSS only).</p>

<p style="margin-top: 1em">lmkdir dir1 [dir2 ... dirn] <br>
Create the local directory(ies).</p>

<p style="margin-top: 1em">lopen [-P port] [-u user] [-p
pass | X] host <br>
Opens a control channel to host and that host becomes the
&rsquo;local&rsquo; machine. After using lopen, all local
(l*) commands perform their respective operations on host
rather <br>
than the local machine. This is how third party transfers
are accomplished. GSI authentication is used unless the -p
option is used. <br>
-P port Connect to port (Default 2811 for GSI, 21 for
password). <br>
-u user Connect as alternate user. <br>
-p pass | X <br>
Use password pass when authenticating with host. <br>
If pass equals X, read the password from STDIN with <br>
character echoing turned off. <br>
host Connect to host.</p>

<p style="margin-top: 1em">lpwd Prints the current local
working directory.</p>

<p style="margin-top: 1em">lrename src dst <br>
Rename the local object src to dst.</p>

<p style="margin-top: 1em">lrm [-r] object1
[object1...objectn] <br>
Removes the local file system object(s). <br>
-r Recursively remove the given directory.</p>

<p style="margin-top: 1em">lrmdir dir1 [dir2...dirn] <br>
Removes the given directories from the local service.</p>

<p style="margin-top: 1em">lquote cmd <br>
Pass cmd to the local FTP service. This allows the user to
use server-specific commands that are not available through
the uberftp interface.</p>

<p style="margin-top: 1em">ls [-r] [target] <br>
List the contents of the remote target directory. If
[target] is not given, then the current working directory is
used. <br>
-r Recursively list target. <br>
target Directory or file to list. &rsquo;.&rsquo; is used by
default.</p>

<p style="margin-top: 1em">lscos List the available class
of services on the remote server (HPSS only).</p>

<p style="margin-top: 1em">lsfam List the available tape
families on the remote server (HPSS only).</p>

<p style="margin-top: 1em">lsize file1 [file2...filen] <br>
Prints the size of the given object(s).</p>

<p style="margin-top: 1em">lstage [-r] seconds object1
[object2...objectn] <br>
Attempt to stage all matching files within the given number
of seconds on the local service. <br>
seconds number of seconds to attempt staging <br>
-r Recursively stage all files in the given
subdirectory.</p>

<p style="margin-top: 1em">lsymlink [oldfile] [newfile]
<br>
Create a symlink to oldfile named newfile on the local
service.</p>

<p style="margin-top: 1em">mput [-r] object1
[object2...objectn] <br>
Retrieve file(s) from the remote service. This is similiar
to making multiple calls to get without specifying a
destination. <br>
-r Recursively transfer the given directory.</p>

<p style="margin-top: 1em">mkdir dir <br>
Create the remote directory.</p>

<p style="margin-top: 1em">mode [E|S] <br>
Toggle the data transfer mode between Streams mode and
Extended Block mode. The default is Streams mode. If no
option is given, it will display the current mode. <br>
E Extended block mode <br>
S Streams mode</p>

<p style="margin-top: 1em">mput [-r] object1
[object2...objectn] <br>
Store file(s) to the remote service. This is similiar to
making multiple calls to put without specifying a
destination. <br>
-r Recursively transfer the given directory.</p>

<p style="margin-top: 1em">open [-P port] [-u user] [-p
pass | X] host <br>
Opens a control channel to host and that host becomes the
&rsquo;remote&rsquo; machine. GSI authentication is used
unless the -p option is used. <br>
-P port Connect to port (Default 2811 for GSI, 21 for
password). <br>
-u user Connect as user. <br>
-p pass | X <br>
Use password pass when authenticating with host. <br>
If pass equals X, read the password from STDIN with <br>
character echoing turned off. <br>
host Connect to host.</p>

<p style="margin-top: 1em">order [type] <br>
Changes the order of lists returned from ls and lls to the
given scheme. If type is not given, the current order is
displayed. <br>
type Ordering scheme to use. Value options are: <br>
none Do not order listings <br>
name Order listings by name <br>
size Order listings by size <br>
type Order listings by type</p>

<p style="margin-top: 1em">parallel [number] <br>
Set the number of parallel data connections to number. This
is only useful for extended block mode transfers. The
default number of data connections is one. If no number <br>
is given, the current setting for the number of parallel
connects is printed.</p>

<p style="margin-top: 1em">passive <br>
Change to PASSIVE mode which causes the client to initiate
the data connection. This is the default mode unless the
variable UBERFTP_ACTIVE_MODE is set in the environment. <br>
If you are behind a firewall you must use PASSIVE mode.</p>

<p style="margin-top: 1em">pbsz [size] <br>
Change the length of the protection buffer. The protection
buffer is used to encrypt data on the data channel. The
length of the protection buffer represents the largest <br>
encoded message that is allowed on the data channel. By
default, the protection buffer is grown to match the
internal buffer used. For efficient transfers, pbsz should
be <br>
sufficiently larger than blksize so that the wrapped buffer
fits within the protection buffer. Otherwise, the blksize
buffer is broken into multiple pieces so that each <br>
write is less than pbsz when wrapped. If pbsz is not given,
the current size is displayed. <br>
size length of protection buffer. 0 will set it to its
default.</p>

<p style="margin-top: 1em">pget offset size srcfile
[destfile] <br>
Retrieve only the specified portion of the file(s). If
srcfile is a regular expression and expands to multiple
files, and destination is given, destination must refer to a
<br>
directory. <br>
offset Offset within the file <br>
size Amount of data to retrieve <br>
srcfile Name of remote file <br>
destfile Name of local file. srcfile is used if destfile
<br>
is not specified</p>

<p style="margin-top: 1em">pput offset size srcfile
[destfile] <br>
Store only the specified portion of the file(s). If srcfile
is a regular expression and expands to multiple files, and
destination is given, destination must refer to a <br>
directory. <br>
offset Offset within the file <br>
size Amount of data to retrieve <br>
srcfile Name of local file <br>
destfile Name of remote file. srcfile is used if destfile
<br>
is not specified</p>

<p style="margin-top: 1em">prot [C|S|E|P] <br>
This command configures the level of security on the data
channel after data channel authentication has completed.
Clear means that the data will not be protected. Safe <br>
means that the data will be integrity protected meaning that
altered data will be detected. Confidential means that the
data will be unreadable to third parties. Private <br>
mode means the data will be confidential and safe. <br>
C Set protection level to clear. <br>
S Set protection level to safe. <br>
E Set protection level to confidential. <br>
P Set protection level to private.</p>

<p style="margin-top: 1em">put [-r] source [destination]
<br>
Store file(s) to the remote service. If source implies
multiple transfers, either through regular expressions or by
using the recursive feature, then destination must be a <br>
directory. If destination is not specified, source is used.
<br>
-r Recursively transfer the given directory.</p>

<p style="margin-top: 1em">pwd Prints the current working
directory.</p>

<p style="margin-top: 1em">quit Close all control and data
connections and exit.</p>

<p style="margin-top: 1em">quote cmd <br>
Pass cmd to the remote FTP service. This allows the user to
use server-specific commands that are not available through
the uberftp interface.</p>

<p style="margin-top: 1em">rename src dst <br>
Rename the remote object src to dst.</p>

<p style="margin-top: 1em">retry [cnt] <br>
Configures retry on failed commands that have transient
errors. cnt represents the number of times a failed command
is retried. A value of zero effectively disables retry. <br>
Zero is the default. If no value is given the current
setting is displayed. <br>
cnt Number of times a failed command is retried.</p>

<p style="margin-top: 1em">resume [-d] path <br>
Sets a restart point for recursive transfers. If a long
recursive transfer fails, you can set resume to the path
that failed and UberFTP will skip all file and directory
<br>
creations up to the given path. <br>
path Path to resume transfer at. If path is not given, print
the current <br>
resume target. <br>
-d Remove the current resume path.</p>

<p style="margin-top: 1em">rm [-r] object1
[object1...objectn] <br>
Removes the remote file system object(s). <br>
-r Recursively remove the given directory.</p>

<p style="margin-top: 1em">rmdir dir1 [dir2...dirn] <br>
Removes the given directories from the remote service.</p>

<p style="margin-top: 1em">runique <br>
Toggles the client to store files using unique names during
put operations.</p>

<p style="margin-top: 1em">size file1 [file2...filen] <br>
Prints the size of the given object(s).</p>

<p style="margin-top: 1em">stage [-r] seconds object1
[object2...objectn] <br>
Attempt to stage all matching files within the given number
of seconds on the remote service. <br>
seconds number of seconds to attempt staging <br>
-r Recursively stage all files in the given
subdirectory.</p>

<p style="margin-top: 1em">sunique <br>
Toggles the client to store files using unique names during
get operations.</p>

<p style="margin-top: 1em">symlink [oldfile] [newfile] <br>
Create a symlink to oldfile named newfile on the remote
service.</p>

<p style="margin-top: 1em">tcpbuf [size] <br>
Set the data channel TCP buffer size to size bytes. If size
is not given, the current TCP buffer size will be
printed.</p>

<p style="margin-top: 1em">versions <br>
Prints the versions of all Globus modules being used.</p>

<p style="margin-top: 1em">wait Toggles whether the client
should wait for files to stage before attempting to retrieve
them.</p>

<p style="margin-top: 1em">IMPROVING FILE TRANSFER
PERFORMANCE <br>
Use the active command to enable active mode FTP when using
NCSA&rsquo;s UniTree mass storage system if possible since
it will give much better file transfer performance. When
tran&acirc; <br>
ferring files over long distances, use a large value (for
example, 16777216) for tcpbuf. When there is high network
traffic, you may be able to improve performance using the
<br>
parallel command to increase the number of parallel data
connections to 2-4.</p>

<p style="margin-top: 1em">THIRD-PARTY TRANSFERS <br>
In order to perform a third-party transfer, you must log
into two FTP servers. Typically, you connect to a single FTP
service to &quot;get&quot; files to the local machine and
&quot;put&quot; files <br>
to the remote service. For third-party transfers, you must
connect to a second service thereby replacing the former
local machine. In UberFTP terminology, it is referred to as
<br>
&quot;opening a new local service&quot; since, from the
perspective of the user, the new local service will appear
as though the user initiated the FTP session from that
machine.</p>

<p style="margin-top: 1em">All remote service commands have
&quot;l*&quot; counterparts that allow you to specify that
the command is to be performed on the local service, whether
that service is the local machine <br>
or a new local service. So to open a new local service, use
the &quot;l*&quot; version of the open command:</p>

<p style="margin-top: 1em">UberFTP&gt; lopen
mss.ncsa.teragrid.org <br>
UberFTP&gt; lclose</p>

<p style="margin-top: 1em">Once you have connected to both
services, files can be transferred as before with the change
that files you &quot;get&quot; go to the new local service
and files you &quot;put&quot; are sent from <br>
the new local service.</p>

<p style="margin-top: 1em">CONTROLLING EPHEMERAL PORT
SELECTION <br>
By default, local port selection is managed by the operating
system. However, you may wish to specify which ports UberFTP
should use for incoming and out going connections. This <br>
is useful when dealing with firewalls.</p>

<p style="margin-top: 1em">Setting UBERFTP_TCP_PORT_RANGE
in your environment will cause all inbound connections to
use the specified port range. Likewise, setting
UBERFTP_TCP_SOURCE_RANGE in your environ&acirc; <br>
ment will cause all outbound connections to use the
specified port range.</p>

<p style="margin-top: 1em">The environment variables
GLOBUS_TCP_PORT_RANGE and GLOBUS_TCP_SOURCE_RANGE will also
control the ephemeral port selection. These variables behave
exactly as their UBERFTP coun&acirc; <br>
terparts and are available for backwards compatibility with
older versions. The UBERFTP variables take precedence over
the GLOBUS variables.</p>

<p style="margin-top: 1em">The values of the variables
specify a port range, a minimum port number and a maximum
port number, separated by either a comma or a space. For
example, to set the inbound port <br>
range, you would set:</p>


<p style="margin-top: 1em">UBERFTP_TCP_PORT_RANGE=40000,50000</p>

<p style="margin-top: 1em">Using the space delimiter, this
format is also acceptable:</p>


<p style="margin-top: 1em">UBERFTP_TCP_PORT_RANGE=&quot;40000
50000&quot;</p>

<p style="margin-top: 1em">See your shell documentation for
the proper syntax for settings variables within your
environment.</p>

<p style="margin-top: 1em">Setting the ephemeral port range
to an unusable range will cause UberFTP connections to fail.
For instance, setting a port range from 10 to 100 with a non
root process will fail <br>
on most operating systems.</p>

<p style="margin-top: 1em">EXIT VALUES <br>
UberFTP will exit with a value of 0 if no errors occurred
during the session, otherwise it will exit with a value of
1. In non interactive, commandline mode, it will exit after
<br>
the first error occurs.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Set the environment variable to set active mode FTP
(improves file transfer performance to the mass storage
system). Connect to NCSA&rsquo;s UniTree mass storage system
interactively <br>
from NCSA&rsquo;s TeraGrid cluster:</p>

<p style="margin-top: 1em">setenv UBERFTP_ACTIVE_MODE on
<br>
% uberftp mss.ncsa.teragrid.org <br>
... <br>
220 UNIX Archive FTP server ready. <br>
230 User consult logged in. <br>
UberFTP&gt;</p>

<p style="margin-top: 1em">Use the command-line interface
to copy a file from NCSA&rsquo;s TeraGrid cluster to the
UniTree mass storage system. (There is no need to set tcpbuf
since it is over a LAN but active <br>
mode is turned on to improve file transfer performance to
the mass storage system.):</p>

<p style="margin-top: 1em">uberftp mss.ncsa.teragrid.org
&quot;active; cd work; get file.tar&quot;</p>

<p style="margin-top: 1em">Copy a file from SDSC&rsquo;s
TeraGrid cluster to NCSA&rsquo;s TeraGrid cluster. (Note
that tcpbuf is set to 16777216 since there is a long network
latency between NCSA and SDSC):</p>

<p style="margin-top: 1em">uberftp
tg-gridftp.sdsc.teragrid.org &quot;tcpbuf 16777216; cd scr;
put file.tar&quot;</p>

<p style="margin-top: 1em">SEE ALSO <br>
mssftp(1), msscmd(1), ftp(1), <br>
GridFTP: <br>
http://www.globus.org/datagrid/gridftp.html <br>
TCP Window Size: <br>

http://dast.nlanr.net/Articles/GettingStarted/TCP_window_size.html
<br>
Active vs. Passive FTP: <br>
http://slacksite.com/other/ftp.html</p>

<p style="margin-top: 1em">Note: The links above are not
under NCSA&rsquo;s control so they may become obsolete.</p>

<p style="margin-top: 1em">16 May 2008 UBERFTP(1C)</p>
<hr>
</body>
</html>
