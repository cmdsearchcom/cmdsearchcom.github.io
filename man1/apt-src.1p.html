<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:49:55 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>APT-SRC(1p) User Contributed Perl Documentation
APT-SRC(1p)</p>

<p style="margin-top: 1em">NAME <br>
apt-src - manage debian source package trees</p>

<p style="margin-top: 1em">SYNOPSIS <br>
apt-src [options] command</p>

<p style="margin-top: 1em">apt-src [options] install|remove
pkg1 [pkg2 ...]</p>

<p style="margin-top: 1em">apt-src location pkg</p>

<p style="margin-top: 1em">DESCRIPTION <br>
apt-src is a command line interface for downloading,
installing, upgrading, and tracking debian source packages.
It can be run as a normal user, or as root.</p>

<p style="margin-top: 1em">Unlike binary packages, source
packages are not installed into a canonical location.
Instead, they are &quot;installed&quot; by unpacking their
source tree into a directory, which can be <br>
anywhere you wish. A source package can be installed
multiple times, in different locations. This program manages
source packages installed in this way, and provides querying
<br>
facilities to help find where a source package is
installed.</p>

<p style="margin-top: 1em">Unless the -h or --help option
is given one of the commands below must be present.</p>

<p style="margin-top: 1em">update <br>
Update the lists of available packages. Identical to apt-get
update, really, and must be run as root in the default
configuration.</p>

<p style="margin-top: 1em">install <br>
Install the named source package or packages into the
current directory. If a package in the current directory is
already installed, it will attempt to upgrade it.</p>

<p style="margin-top: 1em">This command will accept the
names of binary packages, or source packages. Just like with
apt-get install, you can prefix the name with =version or
/release to specify what <br>
version to install or what release to take the source
from.</p>

<p style="margin-top: 1em">It will make sure that the
build-dependencies of the source package are satisfied.</p>

<p style="margin-top: 1em">If the --location option is
given, the source package will be installed or upgraded into
the given location instead of the current directory.</p>

<p style="margin-top: 1em">If the --build option is given,
each newly installed or upgraded package will be
compiled.</p>

<p style="margin-top: 1em">upgrade <br>
Upgrade all installed source packages, or, if the --location
or --here options are used, update only source packages in
the specified directory.</p>

<p style="margin-top: 1em">If the --patch option is given
(the default), apt-src will attempt to generate a patch
containing any local changes made to the source package, and
will apply this patch to <br>
the updated tree. This will allow your local changes to be
preserved across package upgrades, but it may not always
work, and you might sometimes have to merge in your <br>
changes by hand.</p>

<p style="margin-top: 1em">If the --build option is given,
each newly installed or upgraded package will be
compiled.</p>

<p style="margin-top: 1em">remove <br>
Remove the named source package or packages. The --location
and --here options may be used to only remove packages in a
particular directory.</p>

<p style="margin-top: 1em">build <br>
Build the specified source or sources. If the source is not
installed yet, it will first be installed.</p>

<p style="margin-top: 1em">clean <br>
Clean the trees of the named source package or packages. The
--location and --here options may be used to only clean
packages in a particular directory.</p>

<p style="margin-top: 1em">import <br>
Use this option to let apt-src know about an existing,
unpacked source tree. Besides the name under which it should
be imported, you must specify the location of the source
<br>
tree (with --location), and you may need to tell the version
of the source (with --version). Don&rsquo;t expect the build
command to work on this source, unless it has a debian/ <br>
directory.</p>

<p style="margin-top: 1em">list <br>
With no other parameters, it will list all installed source
packages; their status, and the directory they are installed
in. If a package&rsquo;s name is given, it will display <br>
only installed instances of that source package. If the
--location or --here options are used, they will limit the
list to packages in the specified directory.</p>

<p style="margin-top: 1em">location <br>
Takes a single parameter; the name of a source package. If
the package is installed, it will return the root of the
package&rsquo;s source tree.</p>

<p style="margin-top: 1em">This command can be used when
you need to include files from another source package, or
something like that. For example:</p>

<p style="margin-top: 1em">-I&lsquo;apt-src location
pkg&lsquo;</p>

<p style="margin-top: 1em">version <br>
Takes a single parameter; the name of a source package. If
the package is installed, it will return the version of the
package that is installed.</p>

<p style="margin-top: 1em">name <br>
Takes a single parameter; the name of a source package (may
be specified with regexps). Returns the name of the source
package installed matching that name, if any.</p>

<p style="margin-top: 1em">OPTIONS <br>
All command line options may be set using the configuration
file, the descriptions indicate the configuration option to
set. For boolean options you can override the defaults <br>
file by using something like -f-,--no-f, -f=no or several
other variations.</p>

<p style="margin-top: 1em">-h, --help <br>
Show this help text.</p>

<p style="margin-top: 1em">-b, --build, --compile <br>
Build source packages after installing or upgrading them.
Configuration Item: APT::Src::Compile.</p>

<p style="margin-top: 1em">-i, --installdebs <br>
Install packages after building sources. Implies --build.
Configuration Item: APT::Src::InstallDebs</p>

<p style="margin-top: 1em">Note that if multiple packages
are generated from a single source package, they will all be
installed.</p>

<p style="margin-top: 1em">-p, --patch <br>
Try to patch local changes into new source tree when
upgrading. On by default, use --no-p to disable.
Configuration Item: APT::Src::Patch.</p>

<p style="margin-top: 1em">-l, --location <br>
Specify a directory; only operate on packages in that
directory. Configuration Item: APT::Src::Location.</p>

<p style="margin-top: 1em">-c, --cwd, --here <br>
Only operate on packages in the current directory.
Configuration Item: APT::Src::Here.</p>

<p style="margin-top: 1em">--upstream-version <br>
Only of use with the version command; makes it omit the
debian version number from the version of the package
output.</p>

<p style="margin-top: 1em">-k, --keep-built <br>
Do not delete .debs and other built files after installing
them with the --installdebs option. Configuration Item:
APT::Src::KeepBuilt</p>

<p style="margin-top: 1em">-n, --no-delete-source <br>
Do not delete source files when removing source package.
Configuration Item: APT::Src:NoDeleteSource</p>

<p style="margin-top: 1em">--version <br>
Specify a source tree version. Of use with the import
command.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Direct all command output to /dev/null unless a command
fails to run as expected. Configuration item:
APT::Src::Quiet</p>

<p style="margin-top: 1em">-t, --trace <br>
Output each command as it is run. Configuration item:
APT::Src::Trace</p>

<p style="margin-top: 1em">In addition to the above
options, some less-used configuration items may only be
specified in the config files, /etc/apt/apt.conf and
~/.apt-src/config. They are:</p>

<p style="margin-top: 1em">APT::Src::BuildCommand <br>
The command to use to build a tree. Run in the tree to
build, it defaults to &quot;dpkg-buildpackage -b -us
-uc&quot;, with &quot;-rfakeroot&quot; appended for non-root
users.</p>

<p style="margin-top: 1em">APT::Src::RootCommand <br>
The command to use if a non-root user needs to become root.
This is used for, example, to satisfy build-deps. sudo is a
good choice and the default. If you want to use su, <br>
you&rsquo;ll need to set it to &quot;su -c&quot;.</p>

<p style="margin-top: 1em">APT::Src::BuildDeps <br>
Controls whether apt-src makes sure a source package&rsquo;s
build dependencies are installed when installing or
upgrading it. Defaults to true, if you turn it off, packages
may <br>
fail to build due to missing build dependencies.</p>

<p style="margin-top: 1em">NOTE ON NAMES <br>
You can use either binary package names, or source package
names when installing a new source package.</p>

<p style="margin-top: 1em">The rest of the time, when
dealing with already installed packages, you currently have
to use the source package names (this may later changes).
However, you may use regexps as <br>
part of the names.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
This program sets APT_SRC_BUILD when it is building a
package.</p>

<p style="margin-top: 1em">EXAMPLES <br>
To install the source to pine to /usr/src, build it, and
install the resulting debs:</p>

<p style="margin-top: 1em">apt-src install
--location=/usr/src -i pine</p>

<p style="margin-top: 1em">To track changes to said
installed pine source package, and install debs whenever a
new version comes out:</p>

<p style="margin-top: 1em">apt-src install -i pine</p>

<p style="margin-top: 1em">To install a local copy of
package foo, which you are going to apply a local patch
to:</p>

<p style="margin-top: 1em">apt-src install foo <br>
cd foo-version <br>
patch &lt;~/my-foo-patch <br>
apt-src build --installdebs foo</p>

<p style="margin-top: 1em">To upgrade your local copy of
foo, bringing your patch forward, and building and
installing new debs:</p>

<p style="margin-top: 1em">apt-src install -i foo</p>

<p style="margin-top: 1em">To import the source tree in
/usr/src/linux, which you unpacked from a ftp.kernel.org
tarball (or from the kernel-source package) into apt-src, so
it knows about it:</p>

<p style="margin-top: 1em">apt-src import kernel
--location=/usr/src/linux --version=2.4.18</p>

<p style="margin-top: 1em">In a debian/rules of a kernel
module package that needs to figure out if it is being built
by apt-src, and if so set the KVERS, KSRC. and KDREV
variables that make-kpkg normally <br>
sets:</p>

<p style="margin-top: 1em">ifdef APT_SRC_BUILD <br>
KDREV=$(shell apt-src version kernelource. KSRC=$(shell
apt-src location kernelource. KVERS=$(shell apt-src name
kernelource. endif</p>

<p style="margin-top: 1em">FILES <br>
/etc/apt/sources.list <br>
Locations to fetch packages from.</p>

<p style="margin-top: 1em">~/.apt-src/status <br>
apt-src&rsquo;s status file, lists installed packages.</p>

<p style="margin-top: 1em">/etc/apt/apt.conf <br>
Global config file for apt-src (and apt).</p>

<p style="margin-top: 1em">~/.apt-src/config <br>
Per-user config file for apt-src.</p>

<p style="margin-top: 1em">SEE ALSO <br>
apt-get(8), sources.list(5), dpkg-source(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Copyright 2002 Joey Hess &lt;joeyh@debian.org&gt;</p>

<p style="margin-top: 1em">This is free software; see the
GNU General Public Licence version 2 or later for copying
conditions. There is NO warranty.</p>

<p style="margin-top: 1em">perl v5.24.1 2016-12-21
APT-SRC(1p)</p>
<hr>
</body>
</html>
