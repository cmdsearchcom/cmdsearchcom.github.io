<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>EXP(1.0)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">EXP(1.0)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">EXP(1.0)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="EXP"><a class="selflink" href="#EXP">EXP</a></h1>
exp - a multiple expession calculator.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
See the file man1/origin.1.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>exp</b> [<b>-v</b>n<i>0..4</i>] [<b>-o</b> <i>output-file</i>]
  [<i>input-file</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Input is an ascii format file including numeric expessions with variables. Input
  file can includes other input files thanks to an inclusion directive.
  <b>exp</b> reads the input files to write it as is in the output file, but the
  numeric expessions are replaced by their value.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">verbose mode
    <div>&#x00A0;</div>
    0 : quiet mode
    <div>&#x00A0;</div>
    1 : messages <i>mess(...)</i> are printed
    <div>&#x00A0;</div>
    2 : few statistics
    <div>&#x00A0;</div>
    3 : all expressions are decomposed
    <div>&#x00A0;</div>
    4 : yacc messages</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o <i>output-file</i></b></dt>
  <dd class="It-tag">where <b>exp</b> writes (stdout by default).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>input-file</i></dt>
  <dd class="It-tag">where <b>exp</b> reads (stdin by default).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXP_FORMAT_FILES"><a class="selflink" href="#EXP_FORMAT_FILES">EXP
  FORMAT FILES</a></h1>
Except the expessionsi and offline comments, the output file is identical to the
  flattened view of the input files whatever they are. The expession forms can
  be either <i>[expessions]</i> or <i>{expessions}</i>. The first form is for
  floating point expessions, the second one is for integer expessions. By
  default, the print format is respectively %7.3f and %4d (cf.
  <i>sprintf(3)</i>). Offline comments begins with // and ends at the beginning
  of the next line.
<div style="height: 1.00em;">&#x00A0;</div>
<i>Examples</i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ 3.0 + 12.1] <i>print</i> 15.100</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">{ 3.0 + 12.1} <i>print</i> 15</dd>
</dl>
<div class="Pp"></div>
It is possible to have more that one expession separated by <i>;</i>
  (semi-column). All the expessions of a list are computed, but only the last
  one is printed. If the last expession is empty, <b>exp</b> do not print
  anything (see Examples section).
<div style="height: 1.00em;">&#x00A0;</div>
<i>Examples</i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ 6. *2.0;
    <div>&#x00A0;</div>
    <br/>
     3.0 + 12.1 ] <i>print</i> 15.100</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ 6. *2.0;
    <div>&#x00A0;</div>
    <br/>
     3.0 + 12.1; ] <i>print</i> nothing</dd>
</dl>
<div class="Pp"></div>
It is possible to have comments in expessions. A comment begins with <i>#</i>
  (diese) and ends to the carriage return. Comment in expression is not copied
  to the output file.
<div style="height: 1.00em;">&#x00A0;</div>
<i>Example</i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ 3.0 + 12.1 # comment
    <div>&#x00A0;</div>
    ] <i>print</i> 15.100
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Expessions"><a class="selflink" href="#Expessions">Expessions</a></h2>
Expession is a multi-level numeric expession using numbers, variables,
  arithmetic operators and numeric functions.
<div style="height: 1.00em;">&#x00A0;</div>
<i>Examples</i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ i=3.0; i*12.1] <i>print</i> 15.100
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">{i=3} <i>print</i> 3
    <div>&#x00A0;</div>
    {i++} <i>print</i> 4</dd>
</dl>
<h2 class="Ss" title="Ss" id="Arithmetic_Operators"><a class="selflink" href="#Arithmetic_Operators">Arithmetic
  Operators</a></h2>
The operators, in order of increasing priority, are
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+ -</b></dt>
  <dd class="It-tag">Addition and subtraction.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>* /</b></dt>
  <dd class="It-tag">Multiplication and division.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>++ --</b></dt>
  <dd class="It-tag">post-incrementation of 1, post-decrementation of 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>( )</b></dt>
  <dd class="It-tag">Grouping</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>=</b></dt>
  <dd class="It-tag">Variable affectation. The return value is the one affected.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Boolean_Operators"><a class="selflink" href="#Boolean_Operators">Boolean
  Operators</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt; &lt;</b></dt>
  <dd class="It-tag">respectively greater than and lower than</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>def(variable)</b></dt>
  <dd class="It-tag">True whenever variable is defined yet</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ndef(variable)</b></dt>
  <dd class="It-tag">True whenever variable is not defined yet
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Variables"><a class="selflink" href="#Variables">Variables</a></h2>
Expession values may be stored in simple variables. There are three forms of
  variable name. First, they can begin with a letter followed by any number of
  letters, digits and underscores; second, they can begin with <i>&quot;</i>
  (double quote) followed by any number of any char and ended by a
  <i>&quot;</i>; Third they can begin with <i>&#x00B4;</i> (quote) then a
  regular expression (see <i>regex(7)</i>) ended by <i>&#x00B4;</i>. <b>exp</b>
  is case sensitive.
<div style="height: 1.00em;">&#x00A0;</div>
<i>Examples</i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ VAR_1=3.0; # first form
    <div>&#x00A0;</div>
    <br/>
     &quot;variable numero 2&quot;=12.0; # second form
    <div>&#x00A0;</div>
    ] <i>print</i> nothing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ VAR_1 * &quot;variable numero 2&quot; ] <i>print</i>
      15.100</dd>
</dl>
<div class="Pp"></div>
When a variable appears in the right member of an affectation, <b>exp</b> uses
  its value. If it has never been defined, this causes a fatal error. If it
  appears the left member, the first time it is automatically created and its
  value is set, or its value is changed.
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Special_variables"><a class="selflink" href="#Special_variables">Special
  variables</a></h2>
<b>float_fmt</b>, <b>integer_fmt</b> and <b>string_fmt</b> special variables to
  redefine print format of floats, integers and strings. Defaults are %7.3f,
  %-8s and %4d. Those variables are the only variables with a non numerical
  value.
<div style="height: 1.00em;">&#x00A0;</div>
<i>Examples</i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[<b>float_fmt</b> = &quot;%7.1f&quot;;] <i>print</i>
      nothing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[ 3.0 + 12.1] <i>print</i> 15.1</dd>
</dl>
<div class="Pp"></div>
<b>verbose</b> is the variable passed in argument list, which can be modified by
  the program itself.
<div style="height: 1.00em;">&#x00A0;</div>
<i>Examples <b> get details of expression calculation</b></i>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[tmp = <b>verbose</b>; <b>verbose</b> = 3;
      <i>..expressions..</i>;
    <div>&#x00A0;</div>
     <b>verbose</b> = tmp;]</dd>
</dl>
<h2 class="Ss" title="Ss" id="Numeric_functions"><a class="selflink" href="#Numeric_functions">Numeric
  functions</a></h2>
Few numeric functions are available. The form is <i>fun(args)</i>. The arguments
  take the form of a list of expessions, separated with a <i>,</i> (comma). The
  number of arguments depends on functions. It is possible to make a list of
  arguments with a regular expession (see <i>regex(7)</i>). Then all matching
  variable names are part of the list.
<dl class="Bl-tag">
  <dt class="It-tag"><b>min<i>(args)</i> max<i>(args)</i></b></dt>
  <dd class="It-tag">The minimum (resp. maximum) value of its arguments.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>Examples</i></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[min(3.0,12.1)] <i>print</i> 3.000</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[min('RW_ALU.*')] <i>print</i> min value of all variables
      beginning by RW_ALU</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>inf<i>(step,val)</i> sup<i>(step,val)</i></b></dt>
  <dd class="It-tag">Two arguments. <i>inf</i> (resp. <i>sup</i>) function
      rounds the second argument (val) downwards (resp. upwards) to an integer
      number of the first argument (step).
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>Examples</i></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[step=0.3;value=1.6;inf(step,value)] <i>print</i>
    1.500</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h2 class="Ss" title="Ss" id="Special_functions_and_directives"><a class="selflink" href="#Special_functions_and_directives">Special
  functions and directives</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>if<i>(condition, expr1, expr2, ...)</i></b></dt>
  <dd class="It-tag">Calculates the condition if it is true (means greater than
      zero), the following expressions are all calculated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sort<i>(args)</i> rsort<i>(args)</i></b></dt>
  <dd class="It-tag"><b>sort</b> (resp. reverse <b>rsort</b>) numerically all
      its arguments, each argument must be a variable, not directly a numeric
      expession. The return value is the sorted list of its arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>message<i>(args)</i></b></dt>
  <dd class="It-tag">writes its arguments to stdout using <i>float_fmt</i>, one
      argument per line. The form is : <i>variable_name = value;</i>, value is
      omitted if the variable has never been defined.
    <div>&#x00A0;</div>
    <i>Examples</i></dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[message('&quot;'this is a message'&quot;');] <i>print</i>
    <div>&#x00A0;</div>
    this is a message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[a1b=0; a2b=1O; a3b=5; message(a*b);] <i>print</i>
    <div>&#x00A0;</div>
    a1b = 0.000
    <div>&#x00A0;</div>
    a2b = 1O.000
    <div>&#x00A0;</div>
    a3b = 5.000</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">[string_fmt=%6s; message(sort(a*b));] <i>print</i>
    <div>&#x00A0;</div>
    <br/>
     a1b = 0.000
    <div>&#x00A0;</div>
    <br/>
     a3b = 5.000
    <div>&#x00A0;</div>
    <br/>
     a2b = 1O.000</dd>
</dl>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>#include &quot;filename&quot;</b></dt>
  <dd class="It-tag">Opens the file in argument then returns to the current file
      as soon as the new one is empty.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Input file</b></dt>
  <dd class="It-tag">
    <pre>
# this is a test file
[ # few variables
  WITDH = 2;
  LENGTH = 25 ;
]
this message is unchanged but all expressions are computed
  length_div_2 = [LENGTH/2]
  length_mul_2 = {LENGTH*2}
  result = [max ('leng.*')]
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Output file</b></dt>
  <dd class="It-tag">
    <pre>
# this is a test file
<div class="Pp"></div>
this message is unchanged but all expressions are computed
  length_div_2 =   12.500
  length_mul_2 =   50
  result =   12.500
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Franck Wajsburt.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Alliance .rds file uses <b>exp</b> to be generated.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
See the file man1/bug_report.1.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 18, 2002</td>
    <td class="foot-os">UPMC/ASIM/LIP6</td>
  </tr>
</table>
</body>
</html>
