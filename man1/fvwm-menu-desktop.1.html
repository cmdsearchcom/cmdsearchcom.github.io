<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>fvwm-menu-desktop(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">fvwm-menu-desktop(1)</td>
    <td class="head-vol">Fvwm Modules</td>
    <td class="head-rtitle">fvwm-menu-desktop(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
fvwm-menu-desktop - Reads XDG menu files and creates Fvwm menus
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
fvwm-menu-desktop [ <b>--help</b>|<b>-h</b> ] [ <b>--version</b> ] [
  <b>--install-prefix</b> <i>DIR</i> ] [ <b>--desktop</b> <i>NAME</i> ] [
  <b>--menu-type</b> <i>NAME</i> ] [ <b>--theme</b> <i>NAME</i> ] [
  <b>--with-titles</b>| <b>-w</b> ] [ <b>--without-titles</b> ] [
  <b>--enable-mini-icons</b> ] [ <b>--size</b>|<b>-s</b> <i>NUM</i> ] [
  <b>--mini-icon-dir</b> <i>DIR</i> ] [ <b>--app-icon</b> <i>NAME</i> ] [
  <b>--dir-icon</b> <i>NAME</i> ] [ <b>--title</b>|<b>-t</b> <i>NAME</i> ] [
  <b>--insert-in-menu</b> <i>NAME</i> ] [ <b>--get-menus</b>
  <i>all</i>|<i>desktop</i> ] [ <b>--set-menus</b> <i>menu_paths</i> ] [
  <b>--all-menus</b> ] [ <b>--include-items</b> <i>NAME</i> ] [
  <b>--regen-cmd</b> <i>CMD</i> ] [ <b>--dynamic</b> ] [
  <b>--menu-error</b>|<b>-e</b> ] [ <b>--verbose</b>|<b>-v</b> ]
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This is a python script which parses XDG menus definitions to build
  corresponding fvwm menus. This script depends on python-xdg to run.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Main Options</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show the help and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Show the version and exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--get-menus</b> <i>all</i>|<i>desktop</i></dt>
  <dd class="It-tag">Prints a space separated list of full menu paths found on
      the system. <i>all</i> will print all menus found on the system except
      empty ones. <i>desktop</i> will print the menu(s) that would be generated
      by the script.
    <div style="height: 1.00em;">&#x00A0;</div>
    No menu generation is done.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--desktop</b> <i>NAME</i></dt>
  <dd class="It-tag">Optional parameter to set the <i>NAME</i> of the desktop
      XDG .menu file(s) to use. This option will override any default menus set
      via <b>FvwmForm-XDGMenu-Config</b> and cause the script to find menus in
      which <i>NAME</i> is a part of the file name. Possible names are:
      <i>gnome</i>, <i>kde</i>, <i>xfce</i>, <i>lxde</i>, <i>debian</i>, etc.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option can be used in conjunction with <b>--menu-type</b> to control
      which .menu file(s) are used.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--menu-type</b> <i>NAME</i></dt>
  <dd class="It-tag">Optional parameter to set the <i>NAME</i> of the XDG menu
      type to use. This option will override any default menus set via
      <b>FvwmForm-XDGMenu-Config</b> and cause the script to find menus in which
      <i>NAME</i> is a part of the file name. Possible <i>NAME</i> types could
      be: <i>applications</i>, <i>settings</i>, <i>preferences</i>, etc.
    <div style="height: 1.00em;">&#x00A0;</div>
    When used in conjunction with <b>--desktop</b>, only menus whose file name
      matches '*destkop*menutype*' are found. If no menus are found, the script
      exits with an error.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--all-menus</b></dt>
  <dd class="It-tag">This option will build all menus found on the system. If
      used in conjunction with <b>--desktop</b> or <b>--menu-type</b> this will
      build all menus matching those settings.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--install-prefix</b> <i>DIR</i></dt>
  <dd class="It-tag">Optional parameter to override the standard locations for
      XDG menu definitions. Tells <b>fvwm-menu-desktop</b> to look in <i>DIR</i>
      for .menu files instead of the standard locations /etc/xdg/menus (and
      $HOME/.config/menus if it exists).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--with-titles</b>|<b>-w</b></dt>
  <dd class="It-tag">If this option is set menus are generated with titles. This
      is the default. This option can be used to override the
      <b>FvwmForm-XDGMenu-Config</b> default setting.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--without-titles</b></dt>
  <dd class="It-tag">If this option is set menus are generated without titles.
      The default is to generate with titles.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--title</b>|<b>-t</b> <i>NAME</i> </dt>
  <dd class="It-tag">Option to define the menu title <i>NAME</i> of the top menu
      used by Fvwm's <b>Menu</b> or <b>Popup</b> commands. Default is
      &quot;XDGMenu&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--include-items</b> <i>NAME</i> </dt>
  <dd class="It-tag">This option controls if the additional menu items
      'Regenerate' and 'Configure' are included in the top level menu.
      <i>NAME</i> can be one of <i>regen</i>, <i>config</i>, <i>both</i>, or
      <i>none</i>. The default is <i>both</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--regen-cmd</b> <i>CMD</i> </dt>
  <dd class="It-tag">This option sets the fvwm command <i>CMD</i> that is run
      when the menu item &#x00B4;Regenerate' is selected. The default is
      &quot;PipeRead `fvwm-menu-desktop`&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dynamic</b> </dt>
  <dd class="It-tag">This option is to be used with creating dynamic menus using
      <b>DynamicPopUpAction</b> and <b>DynamicPopDownAction</b>. This adds a
      'recreate' to the <b>DestroyMenu</b> command on the top level menu so
      those actions are not Destroyed when the menu is regenerated.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--insert-in-menu</b> <i>NAME</i></dt>
  <dd class="It-tag">Option to insert generated menu(s) <b>IN</b> a menu
      <i>NAME</i> (its top title). This option makes it so the top level menu is
      not Destroyed and the items are added to the end.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note menus regenerated with this option will append the menu items at the
      end of the existing menu. Each time the menu is regenerated new menu items
      appear giving a growing menu of duplicate items. You have to regenerate
      the whole menu via a function or restart fvwm. See <b>EXAMPLES</b> below
      for some solutions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--set-menus</b> <i>menu_paths</i></dt>
  <dd class="It-tag">Generates all menus listed in a space separated list of
      full menu paths. This option overrides any defaults and
      <b>--desktop</b>|<b>--menu-type</b> settings.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--menu-error</b> |<b>-t</b></dt>
  <dd class="It-tag">If this option is present and python-xdg is not found, the
      script will print the error in the generated menu. Used in the
      default-config.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Enables additional information printouts on STDERR.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Icons Options</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    By default, fvwm-menu-desktop builds menus without mini-icons. To enable
      mini-icons use the following options.
    <div style="height: 1.00em;">&#x00A0;</div>
    If ImageMagick is installed on the system, the script will resize and copy
      the icons to $FVWM_USERDIR/.icons. This can take awhile. You should be
      prepared to wait the first time you generate the icons. Once the icons
      have been generated the script should run faster. If it is still to slow
      using icons, see <b>EXAMPLES</b> for ways to limit how often the menu is
      generated to speed things up.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--enable-mini-icons</b></dt>
  <dd class="It-tag">This option enables mini-icons in the menus. If set, 24x24
      mini-icons are used. If the specified icon isn't that size it will be
      converted if <b>ImageMagick</b> is installed and saved in
      $HOME/.fvwm/icons or to the directory specified with --mini-icon-dir
      option. Otherwise no icon appears in the menu for that entry. With most
      distributions, all the menu entries will have mini-icons appropriate to
      the application.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--theme</b> <i>NAME</i></dt>
  <dd class="It-tag">Defines the used icon theme. Default is <i>gnome</i> but
      all others found in /usr/share/icons could be used except the
      <i>hicolor</i> theme because it's the default fallback theme if no icon is
      found.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--size</b>|<b>-s</b> <i>NUM</i></dt>
  <dd class="It-tag">If --enable-mini-icons is used the <i>size</i> of the icons
      can changed with this parameter. Default is 24.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mini-icon-dir</b> <i>DIR</i></dt>
  <dd class="It-tag">When the right size mini-icon isn't available,
      fvwm-menu-desktop creates icons with the right size in $HOME/.fvwm/icons.
      If you don't want to use the default directory, $HOME/.fvwm/icons, use
      this option to specify a different folder.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--app-icon</b> <i>NAME</i></dt>
  <dd class="It-tag">Sets the default application icon if no others are found.
      Default is &#x00B4;gnome-applications'.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dir-icon</b> <i>NAME</i></dt>
  <dd class="It-tag">Sets the default directory icon if no others are found.
      Default is &#x00B4;gnome-fs-directory'.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
<b>fvwm-menu-desktop</b> outputs XDG .menu files in the syntax of fvwm menus.
  When <b>fvwm-menu-desktop</b> is run with no options, it will load defaults
  from the <b>FvwmForm-XDGMenu-Config</b> file (see below) then search your
  system for suitable menu file(s). To see which menus are available on your
  system run:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
fvwm-menu-desktop --get-menus all
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
If no menus are found you may not have any installed on your system. By default
  menus are stored as *.menu files in /etc/xdg/menus, $HOME/.config/menus or the
  location set in $XDG_MENU_PREFIX. You can use <b>--install-prefix</b> to
  specify another location search for menus.
<div style="height: 1.00em;">&#x00A0;</div>
Though a combination of command line options and the
  <b>FvwmForm-XDGMenu-Config</b> settings, <b>fvwm-menu-desktop</b> can generate
  any combination of the menus found. To get a list of what menu(s) would be
  generated use the <b>--get-menus</b> <i>desktop</i> option. The following will
  list all menus generated if <b>fvwm-menu-desktop</b> was run with no options.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
fvwm-menu-desktop --get-menus desktop
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>fvwm-menu-desktop</b> determines which menu(s) to generate as follows
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">If no config file is found, all menus will be
  weighted and the script will generate the best (highest weight) menu found.
<div style="height: 1.00em;">&#x00A0;</div>
If a config file is found (and override options are not used) the script will
  generate all menus selected in <b>FvwmForm-XDGMenu-Config</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--desktop</b>, <b>--menu-type</b>, <b>--set-menus</b> and <b>--all-menus</b>
  will override any menus selected in <b>FvwmForm-XDGMenu-Config</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--desktop</b> and <b>--menu-type</b> will only include menus whose name
  matches '*desktop*menutype*'. If used with <b>--all-menus</b>, all matching
  menus are generated. If used without <b>--all-menus</b>, only the highest
  weighted menu is generated.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--set-menus</b> generates menus from the list of full path menu file names.
<div style="height: 1.00em;">&#x00A0;</div>
<b>--all-menus</b> by itself will generate all menus found.</div>
<div style="height: 1.00em;">&#x00A0;</div>
By default <b>fvwm-menu-desktop</b> will generate a menu whose top level name is
  &quot;XDGMenu&quot;. To tell fvwm to read the output of
  <b>fvwm-menu-desktop</b> to create the menu XDGMenu add the following to your
  fvwm config file:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
PipeRead 'fvwm-menu-desktop'
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Warning:</b> Depending on the options used this command may be slow and fvwm
  will pause until this command is complete. See <b>EXAMPLES</b> below for more
  details and possible workarounds.
<div style="height: 1.00em;">&#x00A0;</div>
Once the menu is generated you can open the menu by using the command &quot;Menu
  XDGMenu&quot;. You can also include this in the MenuFvwmRoot menu by:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
AddToMenu MenuFvwmRoot &quot;XDG Menu&quot; Popup XDGMenu
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>fvwm-menu-desktop</b> can be configured though both command line options and
  a <b>FvwmForm</b> GUI to customize the menu(s) that get generated.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="GUI"><a class="selflink" href="#GUI">GUI</a></h1>
<b>FvwmForm-XDGMenu-Config</b> is a <b>FvwmForm</b> interface that can be used
  to configure the defaults for <b>fvwm-menu-desktop</b>. You can access this
  from the &quot;Configure&quot; item in the top level menu that is generated or
  run the following from within <b>FvwmConsole</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
Module FvwmPerl -l fvwm-menu-desktop-config.fpl
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This form can be used to select which menu(s) get generated by default along
  with setting many (but not all) of the available options. When you click
  &quot;Save Settings&quot; the form will write a config file located at
  $FVWM_USERDIR/.FvwmForm-XDGMenu-Config that <b>fvwm-menu-desktop</b> will
  parse for defaults when run.
<div style="height: 1.00em;">&#x00A0;</div>
See the help inside of <b>FvwmForm-XDGMenu-Config</b> for more information.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
There are many ways to setup when fvwm runs <b>fvwm-menu-desktop</b> to generate
  the menu. One method is to just generate the menu when fvwm loads and then use
  the GUI config tool to change any options. To do this you only need to add the
  following to the fvwm config file:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
AddToMenu MenuFvwmRoot &quot;XDG Menu&quot; Popup XDGMenu
PipeRead 'fvwm-menu-desktop'
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
The menu is created once when fvwm loads. Since menu creation can sometimes be
  slow, this could cause fvwm to take longer to load than one wants.
<div style="height: 1.00em;">&#x00A0;</div>
The menu is only generated when fvwm starts. If software is installed or removed
  you will have to select the 'Regenerate' option to rebuild the menu.
<div style="height: 1.00em;">&#x00A0;</div>
One way to speed things up is to save the menu in a file and only generate the
  menu when 'Regenerate' is selected. To do this use <b>--regen-cmd</b> to call
  a custom function and write the menu to a file using a command like
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
fvwm-menu-desktop --regen-cmd XDGRegen &gt; $FVWM_USERDIR/.XDGMenu
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Then add the following to the fvwm config file to define the function XDGRegen.
  The second to last line will generate the menu if the menu file doesn't exist
  when fvwm starts.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
DestroyFunc XDGRegen
AddToFunc XDGRegen
+ I PipeRead 'fvwm-menu-desktop --regen-cmd XDGRegen &gt; \
    $[FVWM_USERDIR]/.XDGMenu; echo &quot;Nop&quot;'
+ I Read $[FVWM_USERDIR]/.XDGMenu
<div class="Pp"></div>
Test (!f $[FVWM_USERDIR]/.XDGMenu) XDGRegen
Read $[FVWM_USERDIR]/.XDGMenu
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Besides creating a top level menu, <b>fvwm-menu-desktop</b> can insert the menu
  into an existing menu using the <b>--insert-in-menu</b> option. For example
  one could create the menu MenuFvwmRoot and include the XDG items at the end.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
DestroyMenu MenuFvwmRoot
AddToMenu MenuFvwmRoot &quot;Fvwm&quot; Title
+ &quot;Item1&quot; Action1
  ...
+ &quot;ItemN&quot; ActionN
+ &quot;&quot; Nop
PipeRead 'fvwm-menu-desktop --insert-in-menu MenuFvwmRoot'
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
In this case the menu items are inserted at the end of the MenuFvwmRoot menu. If
  no items are in the menu, this menu becomes MenuFvwmRoot. The problem here is,
  that you have to restart fvwm or rebuild the whole menu to Regenerate it
  because menu items cannot be removed. To do this you could use a function like
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
DestroyFunc XDGRegen
AddToFunc XDGRegen
+ I DestroyMenu MenuFvwmRoot
+ I AddToMenu MenuFvwmRoot &quot;Fvwm&quot; Title
+ I AddToMenu MenuFvwmRoot &quot;Item1&quot; Action1
  ...
+ I AddToMenu MenuFvwmRoot &quot;ItemN&quot; ActionN
+ I AddToMenu MenuFvwmRoot &quot;&quot; Nop
+ I PipeRead 'fvwm-menu-desktop --insert-in-menu MenuFvwmRoot \
              --regen-cmd XDGRegen'
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
Fvwm can also create menus dynamically by using <b>DynamicPopUpAction</b> and/or
  <b>DynamicPopDownAction</b>. These commands when used with a Menu will run a
  Function when the menu is opened. For example one could create the menu
  XDGMenu when it is opened using
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
AddToMenu XDGMenu &quot;XDGMenu&quot; Title
+ DynamicPopUpAction PipeRead 'fvwm-menu-desktop'
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will create the menu when it is opened. One issue here is it will only
  create the menu the first time it is opened, and you still have to Regenerate
  the menu to see any changes. To create the menu each time it is open used the
  <b>--dynamic</b> option
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
AddToMenu XDGMenu &quot;XDGMenu&quot; Title
+ DynamicPopUpAction PipeRead 'fvwm-menu-desktop \
                     --dynamic --include-items config'
+ DynamicPopDownAction DestroyMenu recreate XDGMenu
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
This will now Destroy the menu when it closed so it can be rebuilt the next time
  it is opened. The recreate flag doesn't completely destroy the menu keeping
  the DynamicPopUpAction and DynamicPopDownAction actions. The <b>--dynamic</b>
  flag includes the recreate option in the generated menus.
<div style="height: 1.00em;">&#x00A0;</div>
To insert a menu into MenuFvwmRoot and still be dynamic you need to use a
  function that generates the whole menu. For example
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 5.00ex;">
<pre>
DestroyFunc GenRootMenu
AddToFunc GenRootMenu
+ I DestroyMenu recreate MenuFvwmRoot
+ I AddToMenu MenuFvwmRoot &quot;Fvwm&quot; Title
+ I AddToMenu MenuFvwmRoot &quot;Item1&quot; Action1
  ...
+ I AddToMenu MenuFvwmRoot &quot;ItemN&quot; ActionN
+ I AddToMenu MenuFvwmRoot &quot;&quot; Nop
+ PipeRead `fvwm-menu-desktop --insert-in-menu MenuFvwmRoot \
           --include-items config`
<div class="Pp"></div>
AddToMenu MenuFvwmRoot &quot;Fvwm&quot; Title
+ DynamicPopUpAction GenRootMenu
+ DynamicPopDownAction DestroyMenu recreate MenuFvwmRoot
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The whole process of creating menus from files is slow. Otherwise report bugs to
  the fvwm-workers mailing list &lt;fvwm-workers@fvwm.org&gt;.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
This script is based on fvwm-xdg-menu.py written by Piotr Zielinski
  (http://www.cl.cam.ac.uk/~pz215/) who assigned Licence: GPL 2 Date:
  03.12.2005.
<div style="height: 1.00em;">&#x00A0;</div>
The script was reworked to replace the existing fvwm-menu-desktop perl script by
  the fvwm-workers.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
The script is distributed by the same terms as fvwm itself. See GNU General
  Public License for details.</div>
<table class="foot">
  <tr>
    <td class="foot-date">06 November 2016 (2.6.7)</td>
    <td class="foot-os">3rd Berkeley Distribution</td>
  </tr>
</table>
</body>
</html>
