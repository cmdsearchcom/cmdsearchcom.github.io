<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:44 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>pki-ca-kraconnector(1) PKI CA-KRA Connector Management
Commands pki-ca-kraconnector(1)</p>

<p style="margin-top: 1em">NAME <br>
pki-ca-kraconnector - Command-Line Interface for managing
CA-KRA connectors.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
pki [CLI options] ca-kraconnector <br>
pki [CLI options] ca-kraconnector-show <br>
pki [CLI options] ca-kraconnector-add --input-file &lt;input
file&gt; | --host &lt;KRA host&gt; --port &lt;KRA port&gt;
<br>
pki [CLI options] ca-kraconnector-del --host &lt;KRA
host&gt; --port &lt;KRA port&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The pki-ca-kraconnector commands provide command-line
interfaces to manage CA-KRA connectors. This command should
be applied against CAs only.</p>

<p style="margin-top: 1em">When keys are archived, the CA
communicates with the KRA through authenticated persistent
connections called Connectors. Because the CA initiates the
communication, the connec&acirc; <br>
tor configuration is performed on the CA only. A Connector
is automatically configured on the issuing CA whenever a KRA
is set up by pkispawn.</p>

<p style="margin-top: 1em">A CA may have only one KRA
connector. This connector can be configured to talk to
multiple KRAs (for high availability) only if the KRAs are
clones.</p>

<p style="margin-top: 1em">pki [CLI options]
ca-kraconnector <br>
This command is to list available KRA connector
commands.</p>

<p style="margin-top: 1em">pki [CLI options]
ca-kraconnector-show <br>
This command is to view the configuration settings for the
CA-KRA connector configured on the CA. These details can be
redirected to a file, modified as needed, and used as <br>
the input file for the ca-kraconnector-add command.</p>

<p style="margin-top: 1em">pki [CLI options]
ca-kraconnector-add --input-file &lt;input_file&gt; <br>
This command is to configure the CA-KRA connector on the CA
subsystem. The input file is an XML document as provided by
the ca-kraconnector-show command.</p>

<p style="margin-top: 1em">A CA-KRA connector can only be
created from an input file only if a connector does not
already exist. If one already exists, it should be removed
first.</p>

<p style="margin-top: 1em">pki [CLI options]
ca-kraconnector-add --host &lt;KRA host&gt; --port &lt;KRA
Port&gt; <br>
This command is to add a host to an existing CA-KRA
connector.</p>

<p style="margin-top: 1em">pki [CLI options]
ca-kraconnector-del --host &lt;KRA Host&gt; --port &lt;KRA
Port&gt; <br>
This command is to delete a host from the CA-KRA connector
on a CA. If the last KRA host is removed, the connector
configuration is removed from the CA.</p>

<p style="margin-top: 1em">OPTIONS <br>
The CLI options are described in pki(1).</p>

<p style="margin-top: 1em">OPERATIONS <br>
To view available CA-KRA connector commands, type pki
ca-kraconnector. To view each command&rsquo;s usage, type
pki ca-kraconnector-&lt;command&gt; --help.</p>

<p style="margin-top: 1em">All CA-KRA connector commands
must be executed as the CA administrator.</p>

<p style="margin-top: 1em">To retrieve the CA-KRA connector
configuration from the CA:</p>

<p style="margin-top: 1em">pki &lt;CA admin
authentication&gt; ca-kraconnector-show</p>

<p style="margin-top: 1em">One of the most common use cases
for these commands is to add a KRA clone to an existing
CA-KRA connector for high availability. This can be done
using the pki ca-kraconnector- <br>
add command as shown:</p>

<p style="margin-top: 1em">pki &lt;CA admin
authentication&gt; ca-kraconnector-add --host
kra2.example.com --port 8443</p>

<p style="margin-top: 1em">To delete a KRA clone from the
connector:</p>

<p style="margin-top: 1em">pki &lt;CA admin
authentication&gt; ca-kraconnector-del --host
kra2.example.com --port 8443</p>

<p style="margin-top: 1em">AUTHOR <br>
Ade Lee &lt;alee@redhat.com&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 2016 Red Hat, Inc. This is licensed under the
GNU General Public License, version 2 (GPLv2). A copy of
this license is available at
http://www.gnu.org/licenses/old- <br>
licenses/gpl-2.0.txt.</p>

<p style="margin-top: 1em">version 10.3 June 10, 2016
pki-ca-kraconnector(1)</p>
<hr>
</body>
</html>
