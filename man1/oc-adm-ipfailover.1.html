<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:27:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OC ADM(1) June 2016 OC ADM(1)</p>

<p style="margin-top: 1em">NAME <br>
oc adm ipfailover - Install an IP failover group to a set of
nodes</p>

<p style="margin-top: 1em">SYNOPSIS <br>
oc adm ipfailover [OPTIONS]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Configure or view IP Failover configuration</p>

<p style="margin-top: 1em">This command helps to setup an
IP failover configuration for the cluster. An administrator
can configure IP failover on an entire cluster or on a
subset of nodes (as defined via <br>
a labeled selector).</p>

<p style="margin-top: 1em">If an IP failover configuration
does not exist with the given name, the --create flag can be
passed to create a deployment configuration that will
provide IP failover capability. <br>
If you are running in production, it is recommended that the
labeled selector for the nodes matches at least 2 nodes to
ensure you have failover protection, and that you provide
<br>
a --replicas= &lt;n&gt; value that matches the number of
nodes for the given labeled selector.</p>

<p style="margin-top: 1em">OPTIONS <br>
--check-interval=2 <br>
Run the check-script at this interval (seconds)</p>

<p style="margin-top: 1em">--check-script=&quot;&quot; <br>
Run this script at the check-interval to verify service is
OK</p>

<p style="margin-top: 1em">--create=false <br>
If true, create the configuration if it does not exist.</p>

<p style="margin-top: 1em">--dry-run=false <br>
If true, show the result of the operation without performing
it.</p>


<p style="margin-top: 1em">--images=&quot;openshift/origin-${component}:${version}&quot;
<br>
The image to base this IP failover configurator on -
${component} will be replaced based on --type.</p>

<p style="margin-top: 1em">-i, --interface=&quot;&quot;
<br>
Network interface bound by VRRP to use for the set of
virtual IP ranges/addresses specified.</p>


<p style="margin-top: 1em">--iptables-chain=&quot;INPUT&quot;
<br>
Add a rule to this iptables chain to accept 224.0.0.28
multicast packets if no rule exists. When iptables-chain is
empty do not change iptables.</p>

<p style="margin-top: 1em">--latest-images=false <br>
If true, attempt to use the latest images instead of the
current release</p>

<p style="margin-top: 1em">--notify-script=&quot;&quot;
<br>
Run this script when state changes.</p>

<p style="margin-top: 1em">-o, --output=&quot;&quot; <br>
Output results as yaml or json instead of executing, or use
name for succint output (resource/name).</p>

<p style="margin-top: 1em">--output-version=&quot;&quot;
<br>
The preferred API versions of the output objects</p>

<p style="margin-top: 1em">-r, --replicas=1 <br>
The replication factor of this IP failover configuration;
commonly 2 when high availability is desired. Please ensure
this matches the number of nodes that satisfy the
selec&acirc; <br>
tor (or default selector) specified.</p>

<p style="margin-top: 1em">-l,
--selector=&quot;ipfailover=&lt;name&gt;&quot; <br>
Selector (label query) to filter nodes on.</p>


<p style="margin-top: 1em">--service-account=&quot;ipfailover&quot;
<br>
Name of the service account to use to run the ipfailover
pod.</p>

<p style="margin-top: 1em">--type=&quot;keepalived&quot;
<br>
The type of IP failover configurator to use.</p>

<p style="margin-top: 1em">--virtual-ips=&quot;&quot; <br>
A set of virtual IP ranges and/or addresses that the routers
bind and serve on and provide IP failover capability
for.</p>

<p style="margin-top: 1em">--vrrp-id-offset=0 <br>
Offset to use for setting ids of VRRP instances (default
offset is 0). This allows multiple ipfailover instances to
run within the same cluster.</p>

<p style="margin-top: 1em">-w, --watch-port=80 <br>
Port to monitor or watch for resource availability.</p>

<p style="margin-top: 1em">OPTIONS INHERITED FROM PARENT
COMMANDS <br>
--api-version=&quot;&quot; <br>
DEPRECATED: The API version to use when talking to the
server</p>

<p style="margin-top: 1em">--as=&quot;&quot; <br>
Username to impersonate for the operation</p>


<p style="margin-top: 1em">--azure-container-registry-config=&quot;&quot;
<br>
Path to the file container Azure container registry
configuration information.</p>


<p style="margin-top: 1em">--certificate-authority=&quot;&quot;
<br>
Path to a cert. file for the certificate authority</p>


<p style="margin-top: 1em">--client-certificate=&quot;&quot;
<br>
Path to a client certificate file for TLS</p>

<p style="margin-top: 1em">--client-key=&quot;&quot; <br>
Path to a client key file for TLS</p>

<p style="margin-top: 1em">--cluster=&quot;&quot; <br>
The name of the kubeconfig cluster to use</p>

<p style="margin-top: 1em">--config=&quot;&quot; <br>
Path to the config file to use for CLI requests.</p>

<p style="margin-top: 1em">--context=&quot;&quot; <br>
The name of the kubeconfig context to use</p>

<p style="margin-top: 1em">--google-json-key=&quot;&quot;
<br>
The Google Cloud Platform Service Account JSON Key to use
for authentication.</p>


<p style="margin-top: 1em">--insecure-skip-tls-verify=false
<br>
If true, the server&rsquo;s certificate will not be checked
for validity. This will make your HTTPS connections
insecure</p>

<p style="margin-top: 1em">--log-flush-frequency=0 <br>
Maximum number of seconds between log flushes</p>

<p style="margin-top: 1em">--match-server-version=false
<br>
Require server version to match client version</p>

<p style="margin-top: 1em">-n, --namespace=&quot;&quot;
<br>
If present, the namespace scope for this CLI request</p>

<p style="margin-top: 1em">--request-timeout=&quot;0&quot;
<br>
The length of time to wait before giving up on a single
server request. Non-zero values should contain a
corresponding time unit (e.g. 1s, 2m, 3h). A value of zero
means <br>
don&rsquo;t timeout requests.</p>

<p style="margin-top: 1em">--server=&quot;&quot; <br>
The address and port of the Kubernetes API server</p>

<p style="margin-top: 1em">--token=&quot;&quot; <br>
Bearer token for authentication to the API server</p>

<p style="margin-top: 1em">--user=&quot;&quot; <br>
The name of the kubeconfig user to use</p>

<p style="margin-top: 1em">EXAMPLE <br>
# Check the default IP failover configuration
(&quot;ipfailover&quot;): <br>
oc adm ipfailover</p>

<p style="margin-top: 1em"># See what the IP failover
configuration would look like if it is created: <br>
oc adm ipfailover -o json</p>

<p style="margin-top: 1em"># Create an IP failover
configuration if it does not already exist: <br>
oc adm ipfailover ipf --virtual-ips=&quot;10.1.1.1-4&quot;
--create</p>

<p style="margin-top: 1em"># Create an IP failover
configuration on a selection of nodes labeled <br>
# &quot;router=us-west-ha&quot; (on 4 nodes with 7 virtual
IPs monitoring a service <br>
# listening on port 80, such as the router process). <br>
oc adm ipfailover ipfailover
--selector=&quot;router=us-west-ha&quot;
--virtual-ips=&quot;1.2.3.4,10.1.1.100-104,5.6.7.8&quot;
--watch-port=80 --replicas=4 --create</p>

<p style="margin-top: 1em"># Use a different IP failover
config image and see the configuration: <br>
oc adm ipfailover ipf-alt
--selector=&quot;hagroup=us-west-ha&quot;
--virtual-ips=&quot;1.2.3.4&quot; -o yaml
--images=myrepo/myipfailover:mytag</p>

<p style="margin-top: 1em">SEE ALSO <br>
oc-adm(1),</p>

<p style="margin-top: 1em">HISTORY <br>
June 2016, Ported from the Kubernetes man-doc generator</p>

<p style="margin-top: 1em">Openshift Openshift CLI User
Manuals OC ADM(1)</p>
<hr>
</body>
</html>
