<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HID-REPLAY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HID-REPLAY(1)</td>
    <td class="head-vol">&#x00A0;</td>
    <td class="head-rtitle">HID-REPLAY(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hid-replay - HID Input device replay through uhid.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>hid-replay</b> [OPTIONS] [FILENAME]
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>-i, --interactive</b>
<div style="margin-left: 4.00ex;"><i>interactive</i> mode: This is the default
  mode. The device is created and the program wait for the user to hit
  <i>enter</i>. Once the <i>enter</i> key is pressed the whole events sequence
  in FILENAME is played in real time. Once it is done, the program loops back to
  the wait of the user keypress on the <i>enter</i> key.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
Hit *Ctrl-C* to stop the replay.
</pre>
</div>
</div>
<div class="Pp"></div>
<b>-1, --one</b>
<div style="margin-left: 4.00ex;"><i>one shot</i> mode: the device is created
  and then the events are replayed once in real time. The process exists at the
  end of the replay.</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>-s, --sleep X</b>: <i>sleep</i> X seconds once the device is created before
  next step. Useful in conjunction with <b>--one</b>.
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>hid-replay</b> requires the module uhid to be loaded (present in kernels
  3.6+).
<div style="height: 1.00em;">&#x00A0;</div>
If this kernel module is loaded, <b>hid-replay</b> allows the user to create
  virtual HID devices as if they were physically plugged to the system. Then,
  the user has the possibility to replay the previously recorded HID events that
  are therefore handled by the right HID kernel module.
<div style="height: 1.00em;">&#x00A0;</div>
<b>hid-replay</b> needs to be able to write to /dev/uhid; in most cases this
  means it must be run as root.
<div style="height: 1.00em;">&#x00A0;</div>
<b>hid-recorder</b> and <b>hid-replay</b> are used to debug kernel issues with
  HID input devices.
<h1 class="Sh" title="Sh" id="INPUT_FILE"><a class="selflink" href="#INPUT_FILE">INPUT
  FILE</a></h1>
The input file of <b>hid-replay</b> has the following syntax:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>#</b> comments</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>D:</b> tell which device we are
  currently working with</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>R:</b> size
  dump_of_report_descriptor_in_hexadecimal</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>N:</b>
  common_name_of_the_device</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>P:</b> physical_path</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>I:</b> bus vendor_id
  product_id</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">&#x2022;<b>E:</b> timestamp size
  report_in_hexadecimal</div>
<div style="height: 1.00em;">&#x00A0;</div>
Any other starting characters are just ignored.
<h1 class="Sh" title="Sh" id="CAUTION"><a class="selflink" href="#CAUTION">CAUTION</a></h1>
<b>hid-replay</b> is a very low level events injector. To have the virtual
  device handled by the right HID kernel module, <b>hid-replay</b> fakes that
  the device is on the original bus (USB, I2C or BT). Thus, if the kernel module
  in use has to write <i>back</i> to the device the kernel may oops if the
  module is trying to direclty talk to the physical layer.
<div style="height: 1.00em;">&#x00A0;</div>
Be sure to use this program with friendly HID modules that rely only on the
  generic hid callbacks.
<h1 class="Sh" title="Sh" id="EXIT_CODE"><a class="selflink" href="#EXIT_CODE">EXIT
  CODE</a></h1>
<b>hid-replay</b> returns EXIT_FAILURE on error.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
hid-recorder(1)
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
<div style="margin-left: 4.00ex;">
<pre>
Copyright 2012, Benjamin Tissoires.
Copyright 2012, Red Hat, Inc.
</pre>
</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
<div style="margin-left: 4.00ex;">
<pre>
Benjamin Tissoires &lt;benjamin.tissoires@redhat.com&gt;
</pre>
</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">02/10/2017</td>
    <td class="foot-os">&#x00A0;</td>
  </tr>
</table>
</body>
</html>
