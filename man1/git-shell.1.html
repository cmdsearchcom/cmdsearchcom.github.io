<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:13:39 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GIT-SHELL(1) Git Manual GIT-SHELL(1)</p>

<p style="margin-top: 1em">NAME <br>
git-shell - Restricted login shell for Git-only SSH
access</p>

<p style="margin-top: 1em">SYNOPSIS <br>
chsh -s $(command -v git-shell) &lt;user&gt; <br>
git clone &lt;user&gt;@localhost:/path/to/repo.git <br>
ssh &lt;user&gt;@localhost</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This is a login shell for SSH accounts to provide restricted
Git access. It permits execution only of server-side Git
commands implementing the pull/push functionality, plus <br>
custom commands present in a subdirectory named
git-shell-commands in the user&acirc;s home directory.</p>

<p style="margin-top: 1em">COMMANDS <br>
git shell accepts the following commands after the -c
option:</p>

<p style="margin-top: 1em">git receive-pack
&lt;argument&gt;, git upload-pack &lt;argument&gt;, git
upload-archive &lt;argument&gt; <br>
Call the corresponding server-side command to support the
client&acirc;s git push, git fetch, or git archive --remote
request.</p>

<p style="margin-top: 1em">cvs server <br>
Imitate a CVS server. See git-cvsserver(1).</p>

<p style="margin-top: 1em">If a ~/git-shell-commands
directory is present, git shell will also handle other,
custom commands by running
&quot;git-shell-commands/&lt;command&gt;
&lt;arguments&gt;&quot; from the user&acirc;s home <br>
directory.</p>

<p style="margin-top: 1em">INTERACTIVE USE <br>
By default, the commands above can be executed only with the
-c option; the shell is not interactive.</p>

<p style="margin-top: 1em">If a ~/git-shell-commands
directory is present, git shell can also be run
interactively (with no arguments). If a help command is
present in the git-shell-commands directory, it <br>
is run to provide the user with an overview of allowed
actions. Then a &quot;git&gt; &quot; prompt is presented at
which one can enter any of the commands from the
git-shell-commands <br>
directory, or exit to close the connection.</p>

<p style="margin-top: 1em">Generally this mode is used as
an administrative interface to allow users to list
repositories they have access to, create, delete, or rename
repositories, or change repository <br>
descriptions and permissions.</p>

<p style="margin-top: 1em">If a no-interactive-login
command exists, then it is run and the interactive shell is
aborted.</p>

<p style="margin-top: 1em">EXAMPLE <br>
To disable interactive logins, displaying a greeting
instead:</p>

<p style="margin-top: 1em">+</p>

<p style="margin-top: 1em">$ chsh -s /usr/bin/git-shell
<br>
$ mkdir $HOME/git-shell-commands <br>
$ cat &gt;$HOME/git-shell-commands/no-interactive-login
&lt;&lt; <br>
#!/bin/sh <br>
printf &rsquo;%s0 &quot;Hi $USER! You&rsquo;ve successfully
authenticated, but I do not&quot; <br>
printf &rsquo;%s0 &quot;provide interactive shell
access.&quot; <br>
exit 128 <br>
EOF <br>
$ chmod +x $HOME/git-shell-commands/no-interactive-login</p>

<p style="margin-top: 1em">SEE ALSO <br>
ssh(1), git-daemon(1), contrib/git-shell-commands/README</p>

<p style="margin-top: 1em">GIT <br>
Part of the git(1) suite</p>

<p style="margin-top: 1em">Git 1.8.3.1 03/23/2016
GIT-SHELL(1)</p>
<hr>
</body>
</html>
