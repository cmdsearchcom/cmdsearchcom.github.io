<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:20:24 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KDIG(1) Knot DNS KDIG(1)</p>

<p style="margin-top: 1em">NAME <br>
kdig - Advanced DNS lookup utility</p>

<p style="margin-top: 1em">SYNOPSIS <br>
kdig [common-settings] [query [settings]]...</p>

<p style="margin-top: 1em">kdig -h</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This utility sends one or more DNS queries to a nameserver.
Each query can have individual settings, or it can be
specified globally via common-settings, which must precede
query <br>
specification.</p>

<p style="margin-top: 1em">Parameters <br>
query name | -q name | -x address | -G tapfile</p>

<p style="margin-top: 1em">common-settings, settings <br>
[class] [type] [@server]... [options]</p>

<p style="margin-top: 1em">name Is a domain name that is to
be looked up.</p>

<p style="margin-top: 1em">server Is a domain name or an
IPv4 or IPv6 address of the nameserver to send a query to.
An additional port can be specified using address:port
([address]:port for IPv6 address), <br>
address@port, or address#port notation. If no server is
specified, the servers from /etc/resolv.conf are used.</p>

<p style="margin-top: 1em">If no arguments are provided,
kdig sends NS query for the root zone.</p>

<p style="margin-top: 1em">Options <br>
-4 Use the IPv4 protocol only.</p>

<p style="margin-top: 1em">-6 Use the IPv6 protocol
only.</p>

<p style="margin-top: 1em">-b address <br>
Set the source IP address of the query to address. The
address must be a valid address for local interface or :: or
0.0.0.0. An optional port can be specified in the same <br>
format as the server value.</p>

<p style="margin-top: 1em">-c class <br>
Set the query class (e.g. CH, CLASS4). An explicit variant
of class specification. The default class is IN.</p>

<p style="margin-top: 1em">-d Enable debug messages.</p>

<p style="margin-top: 1em">-h, --help <br>
Print the program help.</p>

<p style="margin-top: 1em">-k keyfile <br>
Use the TSIG key stored in a file keyfile to authenticate
the request. The file must contain the key in the same
format as accepted by the -y option.</p>

<p style="margin-top: 1em">-p port <br>
Set the nameserver port number or service name to send a
query to. The default port is 53.</p>

<p style="margin-top: 1em">-q name <br>
Set the query name. An explicit variant of name
specification.</p>

<p style="margin-top: 1em">-t type <br>
Set the query type (e.g. NS, IXFR=12345, TYPE65535, NOTIFY).
An explicit variant of type specification. The default type
is A. IXFR type requires SOA serial parameter. <br>
NOTIFY type without SOA serial parameter causes pure NOTIFY
message without any SOA hint.</p>

<p style="margin-top: 1em">-V, --version <br>
Print the program version.</p>

<p style="margin-top: 1em">-x address <br>
Send a reverse (PTR) query for IPv4 or IPv6 address. The
correct name, class and type is set automatically.</p>

<p style="margin-top: 1em">-y [alg:]name:key <br>
Use the TSIG key named name to authenticate the request. The
alg part specifies the algorithm (the default is hmac-md5)
and key specifies the shared secret encoded in <br>
Base64.</p>

<p style="margin-top: 1em">-E tapfile <br>
Export a dnstap trace of the query and response messages
received to the file tapfile.</p>

<p style="margin-top: 1em">-G tapfile <br>
Generate message output from a previously saved dnstap file
tapfile.</p>

<p style="margin-top: 1em">+[no]multiline <br>
Wrap long records to more lines and improve human
readability.</p>

<p style="margin-top: 1em">+[no]short <br>
Show record data only.</p>

<p style="margin-top: 1em">+[no]generic <br>
Use the generic representation format when printing resource
record types and data.</p>

<p style="margin-top: 1em">+[no]aaflag <br>
Set the AA flag.</p>

<p style="margin-top: 1em">+[no]tcflag <br>
Set the TC flag.</p>

<p style="margin-top: 1em">+[no]rdflag <br>
Set the RD flag.</p>

<p style="margin-top: 1em">+[no]recurse <br>
Same as +[no]rdflag</p>

<p style="margin-top: 1em">+[no]raflag <br>
Set the RA flag.</p>

<p style="margin-top: 1em">+[no]zflag <br>
Set the zero flag bit.</p>

<p style="margin-top: 1em">+[no]adflag <br>
Set the AD flag.</p>

<p style="margin-top: 1em">+[no]cdflag <br>
Set the CD flag.</p>

<p style="margin-top: 1em">+[no]dnssec <br>
Set the DO flag.</p>

<p style="margin-top: 1em">+[no]all <br>
Show all packet sections.</p>

<p style="margin-top: 1em">+[no]qr <br>
Show the query packet.</p>

<p style="margin-top: 1em">+[no]header <br>
Show the packet header.</p>

<p style="margin-top: 1em">+[no]opt <br>
Show the EDNS pseudosection.</p>

<p style="margin-top: 1em">+[no]question <br>
Show the question section.</p>

<p style="margin-top: 1em">+[no]answer <br>
Show the answer section.</p>

<p style="margin-top: 1em">+[no]authority <br>
Show the authority section.</p>

<p style="margin-top: 1em">+[no]additional <br>
Show the additional section.</p>

<p style="margin-top: 1em">+[no]tsig <br>
Show the TSIG pseudosection.</p>

<p style="margin-top: 1em">+[no]stats <br>
Show trailing packet statistics.</p>

<p style="margin-top: 1em">+[no]class <br>
Show the DNS class.</p>

<p style="margin-top: 1em">+[no]ttl <br>
Show the TTL value.</p>

<p style="margin-top: 1em">+[no]tcp <br>
Use the TCP protocol (default is UDP for standard query and
TCP for AXFR/IXFR).</p>

<p style="margin-top: 1em">+[no]ignore <br>
Don&rsquo;t use TCP automatically if a truncated reply is
received.</p>

<p style="margin-top: 1em">+[no]tls <br>
Use TLS with the Opportunistic privacy profile.</p>

<p style="margin-top: 1em">+[no]tls-ca[=FILE] <br>
Use TLS with the Out-Of-Band privacy profile, use a
specified PEM file (default is system certificate storage if
no argument is provided). Can be specified multiple <br>
times.</p>

<p style="margin-top: 1em">+[no]tls-pin=BASE64 <br>
Use TLS with a pinned certificate check. The PIN must be a
Base64 encoded SHA-256 hash of the X.509
SubjectPublicKeyInfo. Can be specified multiple times.</p>

<p style="margin-top: 1em">+[no]tls-hostname=STR <br>
Use TLS with a remote server hostname check.</p>

<p style="margin-top: 1em">+[no]nsid <br>
Request the nameserver identifier (NSID).</p>

<p style="margin-top: 1em">+[no]bufsize=B <br>
Set EDNS buffer size in bytes (default is 512 bytes).</p>

<p style="margin-top: 1em">+[no]padding=B <br>
Set EDNS(0) padding option data length (default is no).</p>

<p style="margin-top: 1em">+[no]alignment[=B] <br>
Align the query to B-byte-block message using the EDNS(0)
padding option (default is no or 128 if no argument is
specified).</p>

<p style="margin-top: 1em">+[no]subnet=SUBN <br>
Set EDNS(0) client subnet SUBN=addr/prefix.</p>

<p style="margin-top: 1em">+[no]edns[=N] <br>
Use EDNS version (default is 0).</p>

<p style="margin-top: 1em">+[no]time=T <br>
Set the wait-for-reply interval in seconds (default is 5
seconds). This timeout applies to each query attempt.</p>

<p style="margin-top: 1em">+[no]retry=N <br>
Set the number (&gt;=0) of UDP retries (default is 2). This
doesn&rsquo;t apply to AXFR/IXFR.</p>

<p style="margin-top: 1em">+noidn Disable the IDN
transformation to ASCII and vice versa. IDNA2003 support
depends on libidn availability during project building!</p>

<p style="margin-top: 1em">NOTES <br>
Options -k and -y can not be used simultaneously.</p>

<p style="margin-top: 1em">Dnssec-keygen keyfile format is
not supported. Use keymgr(8) instead.</p>

<p style="margin-top: 1em">EXAMPLES <br>
1. Get A records for example.com:</p>

<p style="margin-top: 1em">$ kdig example.com A</p>

<p style="margin-top: 1em">2. Perform AXFR for zone
example.com from the server 192.0.2.1:</p>

<p style="margin-top: 1em">$ kdig example.com -t AXFR
@192.0.2.1</p>

<p style="margin-top: 1em">3. Get A records for example.com
from 192.0.2.1 and reverse lookup for address 2001:DB8::1
from 192.0.2.2. Both using the TCP protocol:</p>

<p style="margin-top: 1em">$ kdig +tcp example.com -t A
@192.0.2.1 -x 2001:DB8::1 @192.0.2.2</p>

<p style="margin-top: 1em">4. Get SOA record for
example.com, use TLS, use system certificates, check for
specified hostname, check for certificate pin, and print
additional debug info:</p>

<p style="margin-top: 1em">$ kdig -d @185.49.141.38 +tls-ca
+tls-host=getdnsapi.net
+tls-pin=foxZRnIh9gZpWnl+zEiKa0EJ2rdCGroMWm02gaxSc9S= soa
example.com</p>

<p style="margin-top: 1em">FILES <br>
/etc/resolv.conf</p>

<p style="margin-top: 1em">SEE ALSO <br>
khost(1), knsupdate(1), keymgr(8).</p>

<p style="margin-top: 1em">AUTHOR <br>
CZ.NIC Labs &lt;http://www.knot-dns.cz&gt;</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright 2010&acirc;2017, CZ.NIC, z.s.p.o.</p>

<p style="margin-top: 1em">2.4.1 2017-02-10 KDIG(1)</p>
<hr>
</body>
</html>
