<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KNIFE-ENVIRONMENT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KNIFE-ENVIRONMENT(1)</td>
    <td class="head-vol">knife environment</td>
    <td class="head-rtitle">KNIFE-ENVIRONMENT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
knife-environment - The man page for the knife environment subcommand.
<div style="height: 1.00em;">&#x00A0;</div>
An environment is a way to map an organization's real-life workflow to what can
  be configured and managed when using Chef server. Every organization begins
  with a single environment called the <b>_default</b> environment, which cannot
  be modified (or deleted). Additional environments can be created to reflect
  each organization's patterns and workflow. For example, creating
  <b>production</b>, <b>staging</b>, <b>testing</b>, and <b>development</b>
  environments. Generally, an environment is also associated with one (or more)
  cookbook versions.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>knife environment</b> subcommand is used to manage environments within a
  single organization on the Chef server.
<h1 class="Sh" title="Sh" id="COMMON_OPTIONS"><a class="selflink" href="#COMMON_OPTIONS">COMMON
  OPTIONS</a></h1>
The following options may be used with any of the arguments available to the
  <b>knife environment</b> subcommand:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--chef-zero-port PORT</b></b></dt>
  <dd class="It-tag">The port on which chef-zero will listen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c CONFIG_FILE</b>, <b>--config
    CONFIG_FILE</b></b></dt>
  <dd class="It-tag">The configuration file to use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b>, <b>--disable-editing</b></b></dt>
  <dd class="It-tag">Use to prevent the $EDITOR from being opened and to accept
      data as-is.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--defaults</b></b></dt>
  <dd class="It-tag">Use to have knife use the default value instead of asking a
      user to provide one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e EDITOR</b>, <b>--editor EDITOR</b></b></dt>
  <dd class="It-tag">The $EDITOR that is used for all interactive commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-E ENVIRONMENT</b>, <b>--environment
    ENVIRONMENT</b></b></dt>
  <dd class="It-tag">The name of the environment. When this option is added to a
      command, the command will run only against the named environment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-F FORMAT</b>, <b>--format FORMAT</b></b></dt>
  <dd class="It-tag">The output format: <b>summary</b> (default), <b>text</b>,
      <b>json</b>, <b>yaml</b>, and <b>pp</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>, <b>--help</b></b></dt>
  <dd class="It-tag">Shows help for the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k KEY</b>, <b>--key KEY</b></b></dt>
  <dd class="It-tag">The private key that knife will use to sign requests made
      by the API client to the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]color</b></b></dt>
  <dd class="It-tag">Use to view colored output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--print-after</b></b></dt>
  <dd class="It-tag">Use to show data after a destructive operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-s URL</b>, <b>--server-url URL</b></b></dt>
  <dd class="It-tag">The URL for the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-u USER</b>, <b>--user USER</b></b></dt>
  <dd class="It-tag">The user name used by knife to sign requests made by the
      API client to the Chef server. Authentication will fail if the user name
      does not match the private key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-V</b>, <b>--verbose</b></b></dt>
  <dd class="It-tag">Set for more verbose outputs. Use <b>-VV</b> for maximum
      verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-v</b>, <b>--version</b></b></dt>
  <dd class="It-tag">The version of the chef-client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-y</b>, <b>--yes</b></b></dt>
  <dd class="It-tag">Use to respond to all confirmation prompts with
      &quot;Yes&quot;. knife will not ask for confirmation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-z</b>, <b>--local-mode</b></b></dt>
  <dd class="It-tag">Use to run the chef-client in local mode. This allows all
      commands that work against the Chef server to also work against the local
      chef-repo.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="COMPARE"><a class="selflink" href="#COMPARE">COMPARE</a></h1>
The <b>compare</b> argument is used to compare the cookbook version constraints
  that are set on one (or more) environments.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment compare [ENVIRONMENT_NAME...] (options)
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-a</b>, <b>--all</b></b></dt>
  <dd class="It-tag">Use to upload all environments found at the specified
    path.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-m</b>, <b>--mismatch</b></b></dt>
  <dd class="It-tag">Use to show only matching versions.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Example</b>
<div style="height: 1.00em;">&#x00A0;</div>
To compare cookbook versions for a single environment:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment compare development
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
to return something similar to:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
           development
apache     2.3.1
windows    4.1.2
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To compare cookbook versions for multiple environments:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment compare development staging
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
to return something similar to:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
              development    staging
apache        2.3.1          1.2.2
windows       4.1.2          1.0.0
postgresql    1.0.0          1.0.0
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To compare all cookbook versions for all environments:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment compare --all
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
to return something similar to:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
                   staging  development
ulimit             latest   latest
redisio            latest   latest
journly            latest   latest
aws                latest   latest
test               latest   latest
unicorn            latest   latest
sensu              latest   latest
runit              latest   latest
templater          latest   latest
powershell         latest   latest
openssl            latest   latest
rbenv              latest   latest
rabbitmq           latest   latest
postgresql         latest   latest
mysql              latest   latest
ohai               latest   latest
git                latest   latest
erlang             latest   latest
ssh_known_hosts    latest   latest
nginx              latest   latest
database           latest   latest
yum                latest   latest
xfs                latest   latest
apt                latest   latest
dmg                latest   latest
chef_handler       latest   latest
windows            1.0.0    4.1.2
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="CREATE"><a class="selflink" href="#CREATE">CREATE</a></h1>
The <b>create</b> argument is used to add an environment object to the Chef
  server. When this argument is run, knife will open $EDITOR to enable editing
  of the <b>ENVIRONMENT</b> description field (unless a description is specified
  as part of the command). When finished, knife will add the environment to the
  Chef server.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment create ENVIRONMENT_NAME -d DESCRIPTION
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d DESCRIPTION</b>, <b>--description
    DESCRIPTION</b></b></dt>
  <dd class="It-tag">The description of the environment. This value will
      populate the description field for the environment on the Chef
    server.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To create an environment named <b>dev</b> with a description of <b>The
  development environment.</b>:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment create dev -d &quot;The development environment.&quot;
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="DELETE"><a class="selflink" href="#DELETE">DELETE</a></h1>
The <b>delete</b> argument is used to delete an environment from a Chef server.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment delete ENVIRONMENT_NAME
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This command does not have any specific options.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To delete an environment named <b>dev</b>, enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment delete dev
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Type <b>Y</b> to confirm a deletion.
<h1 class="Sh" title="Sh" id="EDIT"><a class="selflink" href="#EDIT">EDIT</a></h1>
The <b>edit</b> argument is used to edit the attributes of an environment. When
  this argument is run, knife will open $EDITOR to enable editing of
  <b>ENVIRONMENT</b> attributes. When finished, knife will update the Chef
  server with those changes.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment edit ENVIRONMENT_NAME
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This command does not have any specific options.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To edit an environment named <b>devops</b>, enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment edit devops
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="FROM_FILE"><a class="selflink" href="#FROM_FILE">FROM
  FILE</a></h1>
The <b>from file</b> argument is used to add or update an environment using a
  JSON or Ruby DSL description. It must be run with the <b>create</b> or
  <b>edit</b> arguments.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment [create | edit] from file FILE (options)
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-a</b>, <b>--all</b></b></dt>
  <dd class="It-tag">Use to upload all environments found at the specified
    path.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To add an environment using data contained in a JSON file:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment create devops from file &quot;path to JSON file&quot;
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
or:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment edit devops from file &quot;path to JSON file&quot;
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="LIST"><a class="selflink" href="#LIST">LIST</a></h1>
The <b>list</b> argument is used to list all of the environments that are
  currently available on the Chef server.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment list -w
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following options:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-w</b>, <b>--with-uri</b></b></dt>
  <dd class="It-tag">Use to show the corresponding URIs.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To view a list of environments:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment list -w
</pre>
</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SHOW"><a class="selflink" href="#SHOW">SHOW</a></h1>
The <b>show</b> argument is used to display information about the specified
  environment.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Syntax</b>
<div style="height: 1.00em;">&#x00A0;</div>
This argument has the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment show ENVIRONMENT_NAME
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Options</b>
<div style="height: 1.00em;">&#x00A0;</div>
This command does not have any specific options.
<div style="height: 1.00em;">&#x00A0;</div>
<b>Examples</b>
<div style="height: 1.00em;">&#x00A0;</div>
To view information about the <b>dev</b> environment enter:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife environment show dev
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
to return:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
% knife environment show dev
chef_type:            environment
cookbook_versions:
default_attributes:
description:
json_class:           Chef::Environment
name:                 dev
override_attributes:
<div class="Pp"></div>
\\
\\
\\
\\
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
To view information in JSON format, use the <b>-F</b> common option as part of
  the command like this:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife role show devops -F json
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Other formats available include <b>text</b>, <b>yaml</b>, and <b>pp</b>.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Chef</div>
<table class="foot">
  <tr>
    <td class="foot-date">Chef 12.0</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
