<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>CSMOCK(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">CSMOCK(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">CSMOCK(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
csmock - run static analysis of the given SRPM using mock
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
usage: csmock [-h] [-r MOCK_PROFILE] [-t TOOLS] [-a] [-l]
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[--install LIST_OF_PKGS] [-o OUTPUT] [-f] [-j JOBS]
      [--cswrap-timeout CSWRAP_TIMEOUT] [-U EMBED_CONTEXT] [-k] [--no-clean]
      [--no-scan] [--print-defects] [--no-print-defects] [--base-srpm BASE_SRPM]
      [--base-root BASE_MOCK_PROFILE] [--skip-patches | <b>--diff-patches</b> |
      <b>-c</b> SHELL_CMD] [--version] [SRPM]</dd>
</dl>
<h2 class="Ss" title="Ss" id="positional_arguments:"><a class="selflink" href="#positional_arguments:">positional
  arguments:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">SRPM</dt>
  <dd class="It-tag">source RPM package to be scanned by static analyzers</dd>
</dl>
<h2 class="Ss" title="Ss" id="optional_arguments:"><a class="selflink" href="#optional_arguments:">optional
  arguments:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">show this help message and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b> MOCK_PROFILE, <b>--root</b> MOCK_PROFILE</dt>
  <dd class="It-tag">mock profile to use (defaults to mock's default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> TOOLS, <b>--tools</b> TOOLS</dt>
  <dd class="It-tag">comma-spearated list of tools to enable (use
      <b>--listavailable-tools</b> to see the list of available tools)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b>, <b>--all-tools</b></dt>
  <dd class="It-tag">enable all available tools (use
      <b>--list-available-tools</b> to see the list of available tools)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--list-available-tools</b></dt>
  <dd class="It-tag">list available tools and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--install</b> LIST_OF_PKGS</dt>
  <dd class="It-tag">space-separated list of packages to install into the
    chroot</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> OUTPUT, <b>--output</b> OUTPUT</dt>
  <dd class="It-tag">name of the tarball or directory to put the results to</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--force</b></dt>
  <dd class="It-tag">overwrite the resulting file or directory if it exists
      already</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j</b> JOBS, <b>--jobs</b> JOBS</dt>
  <dd class="It-tag">maximal number of jobs running in parallel (passed to
      'make')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cswrap-timeout</b> CSWRAP_TIMEOUT</dt>
  <dd class="It-tag">maximal amount of time taken by analysis of a single module
      [s]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b> EMBED_CONTEXT, <b>--embed-context</b>
    EMBED_CONTEXT</dt>
  <dd class="It-tag">embed a number of lines of context from the source file for
      the key event (defaults to 3).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b>, <b>--keep-going</b></dt>
  <dd class="It-tag">continue as much as possible after an error</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-clean</b></dt>
  <dd class="It-tag">do not clean chroot when it becomes unused</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-scan</b></dt>
  <dd class="It-tag">do not analyze any package, just check versions of the
      analyzers</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-defects</b></dt>
  <dd class="It-tag">print the resulting list of defects (default if connected
      to a tty)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-print-defects</b></dt>
  <dd class="It-tag">disables <b>--print-defects</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--base-srpm</b> BASE_SRPM</dt>
  <dd class="It-tag">perform a differential scan against the specified base
      pacakge</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--base-root</b> BASE_MOCK_PROFILE</dt>
  <dd class="It-tag">mock profile to use for the base scan (use only with
      <b>--base-srpm</b>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--skip-patches</b></dt>
  <dd class="It-tag">skip patches not annotated by %{?_rawbuild} (vanilla
    build)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--diff-patches</b></dt>
  <dd class="It-tag">scan with/without patches and diff the lists of
    defects</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> SHELL_CMD, <b>--shell-cmd</b> SHELL_CMD</dt>
  <dd class="It-tag">use shell command to build the given tarball (instead of
      SRPM)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">print the version of csmock and exit</dd>
</dl>
<h1 class="Sh" title="Sh" id="OUTPUT_FORMAT"><a class="selflink" href="#OUTPUT_FORMAT">OUTPUT
  FORMAT</a></h1>
If not overridden by the --output option, csmock creates an archive
  <b>NVR.tar.xz</b> in the current directory for an SRPM named NVR.src.rpm (or
  NVR.tar.* if the --shell-cmd option is used). The archive contains a directory
  named NVR as the only top-level directory, containing the following items:
<div style="height: 1.00em;">&#x00A0;</div>
<b>scan-results.err</b> - scan results encoded as plain-text (for source code
  editors)
<div style="height: 1.00em;">&#x00A0;</div>
<b>scan-results.html</b> - scan results encoded as HTML (suitable for web
  browsers)
<div style="height: 1.00em;">&#x00A0;</div>
<b>scan-results.js</b> - scan results, including scan metadata, encoded using
  JSON
<div style="height: 1.00em;">&#x00A0;</div>
<b>scan-results-summary.txt</b> - total count of defects found by particular
  checkers
<div style="height: 1.00em;">&#x00A0;</div>
<b>scan.ini</b> - scan metadata encoded in the INI format
<div style="height: 1.00em;">&#x00A0;</div>
<b>scan.log</b> - scan log file (useful for debugging scan failures)
<div style="height: 1.00em;">&#x00A0;</div>
<b>debug</b> - a directory containing additional data (intended for csmock
  debugging)
<div style="height: 1.00em;">&#x00A0;</div>
Note that external plug-ins of csmock may create additional files (not covered
  by this man page) in the directory with results.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 2017</td>
    <td class="foot-os">csmock csmock-2.0.4-1.fc26</td>
  </tr>
</table>
</body>
</html>
