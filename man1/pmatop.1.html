<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:31:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PCP-ATOP(1) General Commands Manual PCP-ATOP(1)</p>

<p style="margin-top: 1em">NAME <br>
pcp-atop, pmatop - Advanced System and Process Monitor</p>

<p style="margin-top: 1em">SYNOPSIS <br>
Interactive Usage:</p>

<p style="margin-top: 1em">pcp [pcp options] atop
[-g|-m|-d|-n|-u|-p|-s|-c|-v|-o|-y] [-C|-M|-D|-N|-A]
[-afFG1xR] [-L linelen] [-Plabel[,label]...] [interval
[samples]]</p>

<p style="margin-top: 1em">Writing and reading raw
logfiles:</p>

<p style="margin-top: 1em">pcp atop -w rawfile [-a] [-S]
[interval [samples]] <br>
pcp atop -r [ rawfile ] [-b hh:mm ] [-e hh:mm ]
[-g|-m|-d|-n|-u|-p|-s|-c|-v|-o|-y] [-C|-M|-D|-N|-A]
[-fFG1xR] [-L linelen] [-Plabel[,label]...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The program pcp-atop is an interactive monitor to view
various aspects of load on a system. It shows the occupation
of the most critical hardware resources (from a performance
<br>
point of view) on system level, i.e. cpu, memory, disk and
network. <br>
It also shows which processes are responsible for the
indicated load with respect to cpu and memory load on
process level. Disk load is shown per process if
&quot;storage accounting&quot; <br>
is active in the kernel.</p>

<p style="margin-top: 1em">Every interval (default: 10
seconds) information is shown about the resource occupation
on system level (cpu, memory, disks and network layers),
followed by a list of processes <br>
which have been active during the last interval (note that
all processes that were unchanged during the last interval
are not shown, unless the key &rsquo;a&rsquo; has been
pressed). If the <br>
list of active processes does not entirely fit on the
screen, only the top of the list is shown (sorted in order
of activity). <br>
The intervals are repeated till the number of samples
(specified as command argument) is reached, or till the key
&rsquo;q&rsquo; is pressed in interactive mode.</p>

<p style="margin-top: 1em">When invoked via the pcp(1)
command, the PCPIntro(1) options -h/--host, -a/--archive,
-O/--origin, -s/--samples, -t/--interval, -Z/--timezone and
several other pcp options become <br>
indirectly available.</p>

<p style="margin-top: 1em">When pcp-atop is started, it
checks whether the standard output channel is connected to a
screen, or to a file/pipe. In the first case it produces
screen control codes (via the <br>
ncurses library) and behaves interactively; in the second
case it produces flat ASCII-output.</p>

<p style="margin-top: 1em">In interactive mode, the output
of pcp-atop scales dynamically to the current dimensions of
the screen/window. <br>
If the window is resized horizontally, columns will be added
or removed automatically. For this purpose, every column has
a particular weight. The columns with the highest <br>
weights that fit within the current width will be shown.
<br>
If the window is resized vertically, lines of the
process/thread list will be added or removed
automatically.</p>

<p style="margin-top: 1em">Furthermore in interactive mode
the output of pcp-atop can be controlled by pressing
particular keys. However it is also possible to specify such
key as flag on the command <br>
line. In that case pcp-atop switches to the indicated mode
on beforehand; this mode can be modified again
interactively. Specifying such key as flag is especially
useful when <br>
running pcp-atop with output to a pipe or file
(non-interactively). These flags are the same as the keys
that can be pressed in interactive mode (see section
INTERACTIVE COM&acirc; <br>
MANDS). <br>
Additional flags are available to support storage of
pcp-atop data in PCP archive format (see section PCP DATA
STORAGE).</p>

<p style="margin-top: 1em">COLORS <br>
For the resource consumption on system level, pcp-atop uses
colors to indicate that a critical occupation percentage has
been (almost) reached. A critical occupation percentage <br>
means that is likely that this load causes a noticeable
negative performance influence for applications using this
resource. The critical percentage depends on the type of
<br>
resource: e.g. the performance influence of a disk with a
busy percentage of 80% might be more noticeable for
applications/user than a CPU with a busy percentage of 90%.
<br>
Currently pcp-atop uses the following default values to
calculate a weighted percentage per resource:</p>

<p style="margin-top: 1em">Processor <br>
A busy percentage of 90% or higher is considered
&lsquo;critical&rsquo;.</p>

<p style="margin-top: 1em">Disk <br>
A busy percentage of 70% or higher is considered
&lsquo;critical&rsquo;.</p>

<p style="margin-top: 1em">Network <br>
A busy percentage of 90% or higher for the load of an
interface is considered &lsquo;critical&rsquo;.</p>

<p style="margin-top: 1em">Memory <br>
An occupation percentage of 90% is considered
&lsquo;critical&rsquo;. Notice that this occupation
percentage is the accumulated memory consumption of the
kernel (including slab) and <br>
all processes; the memory for the page cache
(&lsquo;cache&rsquo; and &lsquo;buff&rsquo; in the MEM-line)
and the reclaimable part of the slab (&lsquo;slrec&lsquo;)
is not implied! <br>
If the number of pages swapped out (&lsquo;swout&rsquo; in
the PAG-line) is larger than 10 per second, the memory
resource is considered &lsquo;critical&rsquo;. A value of at
least 1 per second is <br>
considered &lsquo;almost critical&rsquo;. <br>
If the committed virtual memory exceeds the limit
(&lsquo;vmcom&rsquo; and &lsquo;vmlim&rsquo; in the
SWP-line), the SWP-line is colored due to overcommitting the
system.</p>

<p style="margin-top: 1em">Swap <br>
An occupation percentage of 80% is considered
&lsquo;critical&rsquo; because swap space might be
completely exhausted in the near future; it is not critical
from a performance point-of- <br>
view.</p>

<p style="margin-top: 1em">These default values can be
modified in the configuration file (see separate man-page of
pcp-atoprc).</p>

<p style="margin-top: 1em">When a resource exceeds its
critical occupation percentage, the concerning values in the
screen line are colored red by default. <br>
When a resource exceeded (default) 80% of its critical
percentage (so it is almost critical), the concerning values
in the screen line are colored cyan by default. This
&lsquo;almost <br>
critical percentage&rsquo; (one value for all resources) can
be modified in the configuration file (see separate man-page
of pcp-atoprc). <br>
The default colors red and cyan can be modified in the
configuration file as well (see separate man-page of
pcp-atoprc).</p>

<p style="margin-top: 1em">With the key &rsquo;x&rsquo; (or
flag -x), the use of colors can be suppressed.</p>

<p style="margin-top: 1em">INTERACTIVE COMMANDS <br>
When running pcp-atop interactively (no output redirection),
keys can be pressed to control the output. In general, lower
case keys can be used to show other information for the <br>
active processes and upper case keys can be used to
influence the sort order of the active process/thread
list.</p>

<p style="margin-top: 1em">g Show generic output
(default).</p>

<p style="margin-top: 1em">Per process the following fields
are shown in case of a window-width of 80 positions:
process-id, cpu consumption during the last interval in
system and user mode, the vir&acirc; <br>
tual and resident memory growth of the process.</p>

<p style="margin-top: 1em">The subsequent columns depend on
the used kernel: <br>
When the kernel supports &quot;storage accounting&quot;
(&gt;= 2.6.20), the data transfer for read/write on disk,
the status and exit code are shown for each process. When
the kernel <br>
does not support &quot;storage accounting&quot;, the
username, number of threads in the thread group, the status
and exit code are shown. <br>
The last columns contain the state, the occupation
percentage for the chosen resource (default: cpu) and the
process name.</p>

<p style="margin-top: 1em">When more than 80 positions are
available, other information is added.</p>

<p style="margin-top: 1em">m Show memory related
output.</p>

<p style="margin-top: 1em">Per process the following fields
are shown in case of a window-width of 80 positions:
process-id, minor and major memory faults, size of virtual
shared text, total virtual <br>
process size, total resident process size, virtual and
resident growth during last interval, memory occupation
percentage and process name.</p>

<p style="margin-top: 1em">When more than 80 positions are
available, other information is added.</p>

<p style="margin-top: 1em">d Show disk-related output.</p>

<p style="margin-top: 1em">When &quot;storage
accounting&quot; is active in the kernel, the following
fields are shown: process-id, amount of data read from disk,
amount of data written to disk, amount of data <br>
that was written but has been withdrawn again (WCANCL), disk
occupation percentage and process name.</p>

<p style="margin-top: 1em">s Show scheduling
characteristics.</p>

<p style="margin-top: 1em">Per process the following fields
are shown in case of a window-width of 80 positions:
process-id, number of threads in state &rsquo;running&rsquo;
(R), number of threads in state <br>
&rsquo;interruptible sleeping&rsquo; (S), number of threads
in state &rsquo;uninterruptible sleeping&rsquo; (D),
scheduling policy (normal timesharing, realtime round-robin,
realtime fifo), nice <br>
value, priority, realtime priority, current processor,
status, exit code, state, the occupation percentage for the
chosen resource and the process name.</p>

<p style="margin-top: 1em">When more than 80 positions are
available, other information is added.</p>

<p style="margin-top: 1em">v Show various process
characteristics.</p>

<p style="margin-top: 1em">Per process the following fields
are shown in case of a window-width of 80 positions:
process-id, user name and group, start date and time, status
(e.g. exit code if the <br>
process has finished), state, the occupation percentage for
the chosen resource and the process name.</p>

<p style="margin-top: 1em">When more than 80 positions are
available, other information is added.</p>

<p style="margin-top: 1em">c Show the command line of the
process.</p>

<p style="margin-top: 1em">Per process the following fields
are shown: process-id, the occupation percentage for the
chosen resource and the command line including
arguments.</p>

<p style="margin-top: 1em">o Show the user-defined line of
the process.</p>

<p style="margin-top: 1em">In the configuration file the
keyword ownprocline can be specified with the description of
a user-defined output-line. <br>
Refer to the man-page of pcp-atoprc for a detailed
description.</p>

<p style="margin-top: 1em">y Show the individual threads
within a process (toggle).</p>

<p style="margin-top: 1em">Single-threaded processes are
still shown as one line. <br>
For multi-threaded processes, one line represents the
process while additional lines show the activity per
individual thread (in a different color). Depending on the
option <br>
&rsquo;a&rsquo; (all or active toggle), all threads are
shown or only the threads that were active during the last
interval. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">u Show the process activity
accumulated per user.</p>

<p style="margin-top: 1em">Per user the following fields
are shown: number of processes active or terminated during
last interval (or in total if combined with command
&lsquo;a&rsquo;), accumulated cpu consump&acirc; <br>
tion during last interval in system and user mode, the
current virtual and resident memory space consumed by active
processes (or all processes of the user if combined with
<br>
command &lsquo;a&rsquo;). <br>
When &quot;storage accounting&quot; is active in the kernel,
the accumulated read and write throughput on disk is shown.
When the kernel module &lsquo;netatop&rsquo; has been
installed, the num&acirc; <br>
ber of received and sent network packets are shown. <br>
The last columns contain the accumulated occupation
percentage for the chosen resource (default: cpu) and the
user name.</p>

<p style="margin-top: 1em">p Show the process activity
accumulated per program (i.e. process name).</p>

<p style="margin-top: 1em">Per program the following fields
are shown: number of processes active or terminated during
last interval (or in total if combined with command
&lsquo;a&rsquo;), accumulated cpu con&acirc; <br>
sumption during last interval in system and user mode, the
current virtual and resident memory space consumed by active
processes (or all processes of the user if combined <br>
with command &lsquo;a&rsquo;). <br>
When &quot;storage accounting&quot; is active in the kernel,
the accumulated read and write throughput on disk is shown.
When the kernel module &lsquo;netatop&rsquo; has been
installed, the num&acirc; <br>
ber of received and sent network packets are shown. <br>
The last columns contain the accumulated occupation
percentage for the chosen resource (default: cpu) and the
program name.</p>

<p style="margin-top: 1em">C Sort the current list in the
order of cpu consumption (default). The one-but-last column
changes to &lsquo;&lsquo;CPU&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">M Sort the current list in the
order of resident memory consumption. The one-but-last
column changes to &lsquo;&lsquo;MEM&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">D Sort the current list in the
order of disk accesses issued. The one-but-last column
changes to &lsquo;&lsquo;DSK&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">N Sort the current list in the
order of network bandwidth (received and transmitted). The
one-but-last column changes to
&lsquo;&lsquo;NET&rsquo;&rsquo;.</p>

<p style="margin-top: 1em">A Sort the current list
automatically in the order of the most busy system resource
during this interval. The one-but-last column shows either
&lsquo;&lsquo;ACPU&rsquo;&rsquo;,
&lsquo;&lsquo;AMEM&rsquo;&rsquo;,
&lsquo;&lsquo;ADSK&rsquo;&rsquo; or <br>
&lsquo;&lsquo;ANET&rsquo;&rsquo; (the preceding
&rsquo;A&rsquo; indicates automatic sorting-order). The most
busy resource is determined by comparing the weighted
busy-percentages of the system resources, as <br>
described earlier in the section COLORS. <br>
This option remains valid until another sorting-order is
explicitly selected again. <br>
A sorting-order for disk is only possible when &quot;storage
accounting&quot; is active. A sorting-order for network is
only possible when the kernel module &lsquo;netatop&rsquo;
is loaded.</p>

<p style="margin-top: 1em">Miscellaneous interactive
commands:</p>

<p style="margin-top: 1em">? Request for help information
(also the key &rsquo;h&rsquo; can be pressed).</p>

<p style="margin-top: 1em">V Request for version
information (version number and date).</p>

<p style="margin-top: 1em">R Gather and calculate the
proportional set size of processes (toggle). Gathering of
all values that are needed to calculate the PSIZE of a
process is a relatively time-con&acirc; <br>
suming task, so this key should only be active when
analyzing the resident memory consumption of processes.</p>

<p style="margin-top: 1em">x Suppress colors to highlight
critical resources (toggle). <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">z The pause key can be used to
freeze the current situation in order to investigate the
output on the screen. While pcp-atop is paused, the keys
described above can be pressed <br>
to show other information about the current list of
processes. Whenever the pause key is pressed again, pcp-atop
will continue with a next sample.</p>

<p style="margin-top: 1em">i Modify the interval timer
(default: 10 seconds). If an interval timer of 0 is entered,
the interval timer is switched off. In that case a new
sample can only be triggered <br>
manually by pressing the key &rsquo;t&rsquo;.</p>

<p style="margin-top: 1em">t Trigger a new sample manually.
This key can be pressed if the current sample should be
finished before the timer has exceeded, or if no timer is
set at all (interval timer <br>
defined as 0). In the latter case pcp-atop can be used as a
stopwatch to measure the load being caused by a particular
application transaction, without knowing on beforehand <br>
how many seconds this transaction will last.</p>

<p style="margin-top: 1em">When viewing the contents of a
raw file, this key can be used to show the next sample from
the file.</p>

<p style="margin-top: 1em">T When viewing the contents of a
raw file, this key can be used to show the previous sample
from the file.</p>

<p style="margin-top: 1em">b When viewing the contents of a
raw file, this key can be used to branch to a certain
timestamp within the file (either forward or backward).</p>

<p style="margin-top: 1em">r Reset all counters to zero to
see the system and process activity since boot again.</p>

<p style="margin-top: 1em">When viewing the contents of a
raw file, this key can be used to rewind to the beginning of
the file again.</p>

<p style="margin-top: 1em">U Specify a search string for
specific user names as a regular expression. From now on,
only (active) processes will be shown from a user which
matches the regular expres&acirc; <br>
sion. The system statistics are still system wide. If the
Enter-key is pressed without specifying a name, (active)
processes of all users will be shown again. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">I Specify a list with one or
more PIDs to be selected. From now on, only processes will
be shown with a PID which matches one of the given list. The
system statistics are <br>
still system wide. If the Enter-key is pressed without
specifying a PID, all (active) processes will be shown
again. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">P Specify a search string for
specific process names as a regular expression. From now on,
only processes will be shown with a name which matches the
regular expression. The <br>
system statistics are still system wide. If the Enter-key is
pressed without specifying a name, all (active) processes
will be shown again. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">/ Specify a specific command
line search string as a regular expression. From now on,
only processes will be shown with a command line which
matches the regular expression. <br>
The system statistics are still system wide. If the
Enter-key is pressed without specifying a string, all
(active) processes will be shown again. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">S Specify search strings for
specific logical volume names, specific disk names and
specific network interface names. All search strings are
interpreted as a regular expres&acirc; <br>
sions. From now on, only those system resources are shown
that match the concerning regular expression. If the
Enter-key is pressed without specifying a search string, all
<br>
(active) system resources of that type will be shown again.
<br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">a The &lsquo;all/active&rsquo;
key can be used to toggle between only showing/accumulating
the processes that were active during the last interval
(default) or showing/accumulating all <br>
processes. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">G By default, pcp-atop
shows/accumulates the processes that are alive and the
processes that are exited during the last interval. With
this key (toggle), showing/accumulating <br>
the processes that are exited can be suppressed. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">f Show a fixed (maximum) number
of header lines for system resources (toggle). By default
only the lines are shown about system resources (CPUs,
paging, logical volumes, <br>
disks, network interfaces) that really have been active
during the last interval. With this key you can force
pcp-atop to show lines of inactive resources as well. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">F Suppress sorting of system
resources (toggle). By default system resources (CPUs,
logical volumes, disks, network interfaces) are sorted on
utilization. <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">1 Show relevant counters as an
average per second (in the format &lsquo;..../s&rsquo;)
instead of as a total during the interval (toggle). <br>
Whether this key is active or not can be seen in the header
line.</p>

<p style="margin-top: 1em">l Limit the number of system
level lines for the counters per-cpu, the active disks and
the network interfaces. By default lines are shown of all
CPUs, disks and network <br>
interfaces which have been active during the last interval.
Limiting these lines can be useful on systems with huge
number CPUs, disks or interfaces in order to be able to <br>
run pcp-atop on a screen/window with e.g. only 24 lines.
<br>
For all mentioned resources the maximum number of lines can
be specified interactively. When using the flag -l the
maximum number of per-cpu lines is set to 0, the maximum
<br>
number of disk lines to 5 and the maximum number of
interface lines to 3. These values can be modified again in
interactive mode.</p>

<p style="margin-top: 1em">k Send a signal to an active
process (a.k.a. kill a process).</p>

<p style="margin-top: 1em">q Quit the program.</p>

<p style="margin-top: 1em">PgDn Show the next page of the
process/thread list. <br>
With the arrow-down key the list can be scrolled downwards
with single lines.</p>

<p style="margin-top: 1em">^F Show the next page of the
process/thread list (forward). <br>
With the arrow-down key the list can be scrolled downwards
with single lines.</p>

<p style="margin-top: 1em">PgUp Show the previous page of
the process/thread list. <br>
With the arrow-up key the list can be scrolled upwards with
single lines.</p>

<p style="margin-top: 1em">^B Show the previous page of the
process/thread list (backward). <br>
With the arrow-up key the list can be scrolled upwards with
single lines.</p>

<p style="margin-top: 1em">^L Redraw the screen.</p>

<p style="margin-top: 1em">PCP DATA STORAGE <br>
In order to store system and process level statistics for
long-term analysis (e.g. to check the system load and the
active processes running yesterday between 3:00 and 4:00
PM), <br>
pcp-atop can store the system and process level statistics
in the PCP archive format, as an archive folio (see
mkaf(1)). <br>
By default only processes which have been active during the
interval are stored in the raw file. When the flag -a is
specified, all processes will be stored. <br>
The interval (default: 10 seconds) and number of samples
(default: infinite) can be passed as last arguments. Instead
of the number of samples, the flag -S can be used to
indi&acirc; <br>
cate that pcp-atop should finish anyhow before midnight.</p>

<p style="margin-top: 1em">A PCP archive can be read and
visualized again with the flag -r . The argument is a
comma-separated list of names, each of which may be the base
name of an archive or the name <br>
of a directory containing one or more archives. If no
argument is specified, the file
$PCP_LOG_DIR/pmlogger/HOST/YYYYMMDD is opened for input
(where YYYYMMDD are digits repre&acirc; <br>
senting the current date, and HOST is the hostname of the
machine being logged). If a filename is specified in the
format YYYYMMDD (representing any valid date), the file <br>
$PCP_LOG_DIR/pmlogger/HOST/YYYYMMDD is opened. If a filename
with the symbolic name y is specified, yesterday&rsquo;s
daily logfile is opened (this can be repeated so
&rsquo;yyyy&rsquo; indicates <br>
the logfile of four days ago). <br>
The samples from the file can be viewed interactively by
using the key &rsquo;t&rsquo; to show the next sample, the
key &rsquo;T&rsquo; to show the previous sample, the key
&rsquo;b&rsquo; to branch to a particular <br>
time or the key &rsquo;r&rsquo; to rewind to the begin of
the file. <br>
When output is redirected to a file or pipe, pcp-atop prints
all samples in plain ASCII. The default line length is 80
characters in that case; with the flag -L followed by an
<br>
alternate line length, more (or less) columns will be shown.
<br>
With the flag -b (begin time) and/or -e (end time) followed
by a time argument of the form HH:MM, a certain time period
within the raw file can be selected.</p>

<p style="margin-top: 1em">OUTPUT DESCRIPTION <br>
The first sample shows the system level activity since boot
(the elapsed time in the header shows the time since boot).
Note that particular counters could have reached their <br>
maximum value (several times) and started by zero again, so
do not rely on these figures.</p>

<p style="margin-top: 1em">For every sample pcp-atop first
shows the lines related to system level activity. If a
particular system resource has not been used during the
interval, the entire line related <br>
to this resource is suppressed. So the number of system
level lines may vary for each sample. <br>
After that a list is shown of processes which have been
active during the last interval. This list is by default
sorted on cpu consumption, but this order can be changed by
the <br>
keys which are previously described.</p>

<p style="margin-top: 1em">If values have to be shown by
pcp-atop which do not fit in the column width, another
format is used. If e.g. a cpu-consumption of 233216
milliseconds should be shown in a column <br>
width of 4 positions, it is shown as &lsquo;233s&rsquo; (in
seconds). For large memory figures, another unit is chosen
if the value does not fit (Mb instead of Kb, Gb instead of
Mb, Tb <br>
instead of Gb, ...). For other values, a kind of exponent
notation is used (value 123456789 shown in a column of 5
positions gives 123e6).</p>

<p style="margin-top: 1em">OUTPUT DESCRIPTION - SYSTEM
LEVEL <br>
The system level information consists of the following
output lines:</p>

<p style="margin-top: 1em">PRC Process and thread level
totals. <br>
This line contains the total cpu time consumed in system
mode (&lsquo;sys&rsquo;) and in user mode
(&lsquo;user&rsquo;), the total number of processes present
at this moment (&lsquo;#proc&rsquo;), the total <br>
number of threads present at this moment in state
&lsquo;running&rsquo; (&lsquo;#trun&rsquo;), &lsquo;sleeping
interruptible&rsquo; (&lsquo;#tslpi&rsquo;) and
&lsquo;sleeping uninterruptible&rsquo;
(&lsquo;#tslpu&rsquo;), the number of zombie <br>
processes (&lsquo;#zombie&rsquo;), the number of clone
system calls (&lsquo;clones&rsquo;), and the number of
processes that ended during the interval
(&lsquo;#exit&rsquo;) when process accounting is used. <br>
Instead of &lsquo;#exit&lsquo; the last column may indicate
that process accounting could not be activated (&lsquo;no
procacct&lsquo;). <br>
If the screen-width does not allow all of these counters,
only a relevant subset is shown.</p>

<p style="margin-top: 1em">CPU CPU utilization. <br>
At least one line is shown for the total occupation of all
CPUs together. <br>
In case of a multi-processor system, an additional line is
shown for every individual processor (with &lsquo;cpu&rsquo;
in lower case), sorted on activity. Inactive CPUs will not
be <br>
shown by default. The lines showing the per-cpu occupation
contain the cpu number in the last field.</p>

<p style="margin-top: 1em">Every line contains the
percentage of cpu time spent in kernel mode by all active
processes (&lsquo;sys&rsquo;), the percentage of cpu time
consumed in user mode (&lsquo;user&rsquo;) for all active
<br>
processes (including processes running with a nice value
larger than zero), the percentage of cpu time spent for
interrupt handling (&lsquo;irq&rsquo;) including softirq,
the percentage <br>
of unused cpu time while no processes were waiting for
disk-I/O (&lsquo;idle&rsquo;), and the percentage of unused
cpu time while at least one process was waiting for disk-I/O
(&lsquo;wait&rsquo;). <br>
In case of per-cpu occupation, the last column shows the cpu
number and the wait percentage (&lsquo;w&rsquo;) for that
cpu. The number of lines showing the per-cpu occupation can
be <br>
limited.</p>

<p style="margin-top: 1em">For virtual machines the
steal-percentage is shown (&lsquo;steal&rsquo;), reflecting
the percentage of cpu time stolen by other virtual machines
running on the same hardware. <br>
For physical machines hosting one or more virtual machines,
the guest-percentage is shown (&lsquo;guest&rsquo;),
reflecting the percentage of cpu time used by the virtual
machines. <br>
Notice that this percentage overlaps the
user-percentage.</p>

<p style="margin-top: 1em">In case of frequency-scaling,
all previously mentioned CPU-percentages are relative to the
used scaling of the CPU during the interval. If a CPU has
been active for e.g. <br>
50% in user mode during the interval while the
frequency-scaling of that CPU was 40%, only 20% of the full
capacity of the CPU has been used in user mode.</p>

<p style="margin-top: 1em">If the screen-width does not
allow all of these counters, only a relevant subset is
shown.</p>

<p style="margin-top: 1em">CPL CPU load information. <br>
This line contains the load average figures reflecting the
number of threads that are available to run on a CPU (i.e.
part of the runqueue) or that are waiting for disk I/O. <br>
These figures are averaged over 1 (&lsquo;avg1&rsquo;), 5
(&lsquo;avg5&rsquo;) and 15 (&lsquo;avg15&rsquo;) minutes.
<br>
Furthermore the number of context switches
(&lsquo;csw&rsquo;), the number of serviced interrupts
(&lsquo;intr&rsquo;) and the number of available CPUs are
shown.</p>

<p style="margin-top: 1em">If the screen-width does not
allow all of these counters, only a relevant subset is
shown.</p>

<p style="margin-top: 1em">MEM Memory occupation. <br>
This line contains the total amount of physical memory
(&lsquo;tot&rsquo;), the amount of memory which is currently
free (&lsquo;free&rsquo;), the amount of memory in use as
page cache including <br>
the total resident shared memory (&lsquo;cache&rsquo;), the
amount of memory within the page cache that has to be
flushed to disk (&lsquo;dirty&rsquo;), the amount of memory
used for filesystem <br>
meta data (&lsquo;buff&rsquo;), the amount of memory being
used for kernel mallocs (&lsquo;slab&rsquo;), the amount of
slab memory that is reclaimable (&lsquo;slrec&rsquo;), the
resident size of shared memory <br>
including tmpfs (&lsquo;shmem&lsquo;), the resident size of
shared memory (&lsquo;shrss&lsquo;) the amount of shared
memory that is currently swapped (&lsquo;shswp&lsquo;), the
amount of memory that is cur&acirc; <br>
rently claimed by vmware&rsquo;s balloon driver
(&lsquo;vmbal&lsquo;), the amount of memory that is claimed
for huge pages (&lsquo;hptot&lsquo;), and the amount of huge
page memory that is really in use <br>
(&lsquo;hpuse&lsquo;).</p>

<p style="margin-top: 1em">If the screen-width does not
allow all of these counters, only a relevant subset is
shown.</p>

<p style="margin-top: 1em">SWP Swap occupation and
overcommit info. <br>
This line contains the total amount of swap space on disk
(&lsquo;tot&rsquo;) and the amount of free swap space
(&lsquo;free&rsquo;). <br>
Furthermore the committed virtual memory space
(&lsquo;vmcom&rsquo;) and the maximum limit of the committed
space (&lsquo;vmlim&rsquo;, which is by default swap size
plus 50% of memory size) is <br>
shown. The committed space is the reserved virtual space for
all allocations of private memory space for processes. The
kernel only verifies whether the committed space <br>
exceeds the limit if strict overcommit handling is
configured (vm.overcommit_memory is 2).</p>

<p style="margin-top: 1em">PAG Paging frequency. <br>
This line contains the number of scanned pages
(&lsquo;scan&rsquo;) due to the fact that free memory drops
below a particular threshold and the number times that the
kernel tries to <br>
reclaim pages due to an urgent need (&lsquo;stall&rsquo;).
<br>
Also the number of memory pages the system read from swap
space (&lsquo;swin&rsquo;) and the number of memory pages
the system wrote to swap space (&lsquo;swout&rsquo;) are
shown.</p>

<p style="margin-top: 1em">LVM/MDD/DSK <br>
Logical volume/multiple device/disk utilization. <br>
Per active unit one line is produced, sorted on unit
activity. Such line shows the name (e.g. VolGroup00-lvtmp
for a logical volume or sda for a hard disk), the busy
per&acirc; <br>
centage i.e. the portion of time that the unit was busy
handling requests (&lsquo;busy&rsquo;), the number of read
requests issued (&lsquo;read&rsquo;), the number of write
requests issued <br>
(&lsquo;write&rsquo;), the number of KiBytes per read
(&lsquo;KiB/r&rsquo;), the number of KiBytes per write
(&lsquo;KiB/w&rsquo;), the number of MiBytes per second
throughput for reads (&lsquo;MBr/s&rsquo;), the number <br>
of MiBytes per second throughput for writes
(&lsquo;MBw/s&rsquo;), the average queue depth
(&lsquo;avq&rsquo;) and the average number of milliseconds
needed by a request (&lsquo;avio&rsquo;) for seek, latency
<br>
and data transfer. <br>
If the screen-width does not allow all of these counters,
only a relevant subset is shown.</p>

<p style="margin-top: 1em">The number of lines showing the
units can be limited per class (LVM, MDD or DSK) with the
&rsquo;l&rsquo; key or statically (see separate man-page of
pcp-atoprc(5)). By specifying the <br>
value 0 for a particular class, no lines will be shown any
more for that class.</p>

<p style="margin-top: 1em">NFM Network Filesystem (NFS)
mount at the client side. <br>
For each NFS-mounted filesystem, a line is shown that
contains the mounted server directory, the name of the
server (&lsquo;srv&rsquo;), the total number of bytes
physically read from <br>
the server (&lsquo;read&rsquo;) and the total number of
bytes physically written to the server
(&lsquo;write&rsquo;). Data transfer is subdivided in the
number of bytes read via normal read() sys&acirc; <br>
tem calls (&lsquo;nread&rsquo;), the number of bytes written
via normal read() system calls (&lsquo;nwrit&rsquo;), the
number of bytes read via direct I/O (&lsquo;dread&rsquo;),
the number of bytes written via <br>
direct I/O (&lsquo;dwrit&rsquo;), the number of bytes read
via memory mapped I/O pages (&lsquo;mread&rsquo;), and the
number of bytes written via memory mapped I/O pages
(&lsquo;mwrit&rsquo;).</p>

<p style="margin-top: 1em">NFC Network Filesystem (NFS)
client side counters. <br>
This line contains the number of RPC calls issues by local
processes (&lsquo;rpc&rsquo;), the number of read RPC calls
(&lsquo;read&lsquo;) and write RPC calls
(&lsquo;rpwrite&rsquo;) issued to the NFS server, <br>
the number of RPC calls being retransmitted
(&lsquo;retxmit&rsquo;) and the number of authorization
refreshes (&lsquo;autref&rsquo;).</p>

<p style="margin-top: 1em">NFS Network Filesystem (NFS)
server side counters. <br>
This line contains the number of RPC calls received from NFS
clients (&lsquo;rpc&rsquo;), the number of read RPC calls
received (&lsquo;cread&lsquo;), the number of write RPC
calls received <br>
(&lsquo;cwrit&rsquo;), the number of network requests
handled via TCP (&lsquo;nettcp&rsquo;), the number of
network requests handled via UDP (&lsquo;netudp&rsquo;), the
number of Megabytes/second returned to <br>
read requests by clients (&lsquo;MBcr/s&lsquo;), the number
of Megabytes/second passed in write requests by clients
(&lsquo;MBcw/s&lsquo;), the number of reply cache hits
(&lsquo;rchits&rsquo;), the number of <br>
reply cache misses (&lsquo;rcmiss&rsquo;) and the number of
uncached requests (&lsquo;rcnoca&rsquo;). Furthermore some
error counters indicating the number of requests with a bad
format (&lsquo;badfmt&rsquo;) <br>
or a bad authorization (&lsquo;badaut&rsquo;), and a counter
indicating the number of bad clients (&lsquo;badcln&rsquo;).
and the number of authorization refreshes
(&lsquo;autref&rsquo;).</p>

<p style="margin-top: 1em">NET Network utilization
(TCP/IP). <br>
One line is shown for activity of the transport layer (TCP
and UDP), one line for the IP layer and one line per active
interface. <br>
For the transport layer, counters are shown concerning the
number of received TCP segments including those received in
error (&lsquo;tcpi&rsquo;), the number of transmitted TCP
segments <br>
excluding those containing only retransmitted octets
(&lsquo;tcpo&rsquo;), the number of UDP datagrams received
(&lsquo;udpi&rsquo;), the number of UDP datagrams
transmitted (&lsquo;udpo&rsquo;), the number of <br>
active TCP opens (&lsquo;tcpao&rsquo;), the number of
passive TCP opens (&lsquo;tcppo&rsquo;), the number of TCP
output retransmissions (&lsquo;tcprs&rsquo;), the number of
TCP input errors (&lsquo;tcpie&rsquo;), the num&acirc; <br>
ber of TCP output resets (&lsquo;tcpor&rsquo;), the number
of UDP no ports (&lsquo;udpnp&rsquo;), and the number of UDP
input errors (&lsquo;udpie&rsquo;). <br>
If the screen-width does not allow all of these counters,
only a relevant subset is shown. <br>
These counters are related to IPv4 and IPv6 combined.</p>

<p style="margin-top: 1em">For the IP layer, counters are
shown concerning the number of IP datagrams received from
interfaces, including those received in error
(&lsquo;ipi&rsquo;), the number of IP datagrams <br>
that local higher-layer protocols offered for transmission
(&lsquo;ipo&rsquo;), the number of received IP datagrams
which were forwarded to other interfaces
(&lsquo;ipfrw&rsquo;), the number of IP <br>
datagrams which were delivered to local higher-layer
protocols (&lsquo;deliv&rsquo;), the number of received ICMP
datagrams (&lsquo;icmpi&rsquo;), and the number of
transmitted ICMP datagrams <br>
(&lsquo;icmpo&rsquo;). <br>
If the screen-width does not allow all of these counters,
only a relevant subset is shown. <br>
These counters are related to IPv4 and IPv6 combined.</p>

<p style="margin-top: 1em">For every active network
interface one line is shown, sorted on the interface
activity. Such line shows the name of the interface and its
busy percentage in the first col&acirc; <br>
umn. The busy percentage for half duplex is determined by
comparing the interface speed with the number of bits
transmitted and received per second; for full duplex the
<br>
interface speed is compared with the highest of either the
transmitted or the received bits. When the interface speed
can not be determined (e.g. for the loopback inter&acirc;
<br>
face), &lsquo;---&rsquo; is shown instead of the percentage.
<br>
Furthermore the number of received packets
(&lsquo;pcki&rsquo;), the number of transmitted packets
(&lsquo;pcko&rsquo;), the line speed of the interface
(&lsquo;sp&rsquo;), the effective amount of bits <br>
received per second (&lsquo;si&rsquo;), the effective amount
of bits transmitted per second (&lsquo;so&rsquo;), the
number of collisions (&lsquo;coll&rsquo;), the number of
received multicast packets (&lsquo;mlti&rsquo;), <br>
the number of errors while receiving a packet
(&lsquo;erri&rsquo;), the number of errors while
transmitting a packet (&lsquo;erro&rsquo;), the number of
received packets dropped (&lsquo;drpi&rsquo;), and the <br>
number of transmitted packets dropped (&lsquo;drpo&rsquo;).
<br>
If the screen-width does not allow all of these counters,
only a relevant subset is shown. <br>
The number of lines showing the network interfaces can be
limited.</p>

<p style="margin-top: 1em">OUTPUT DESCRIPTION - PROCESS
LEVEL <br>
Following the system level information, the processes are
shown from which the resource utilization has changed during
the last interval. These processes might have used cpu time
<br>
or issued disk or network requests. However a process is
also shown if part of it has been paged out due to lack of
memory (while the process itself was in sleep state).</p>

<p style="margin-top: 1em">Per process the following fields
may be shown (in alphabetical order), depending on the
current output mode as described in the section INTERACTIVE
COMMANDS and depending on the <br>
current width of your window:</p>

<p style="margin-top: 1em">AVGRSZ The average size of one
read-action on disk.</p>

<p style="margin-top: 1em">AVGWSZ The average size of one
write-action on disk.</p>

<p style="margin-top: 1em">CMD The name of the process.
This name can be surrounded by &quot;less/greater than&quot;
signs (&lsquo;&lt;name&gt;&rsquo;) which means that the
process has finished during the last interval. <br>
Behind the abbreviation &lsquo;CMD&rsquo; in the header
line, the current page number and the total number of pages
of the process/thread list are shown.</p>

<p style="margin-top: 1em">COMMAND-LINE <br>
The full command line of the process (including arguments).
If the length of the command line exceeds the length of the
screen line, the arrow keys -&gt; and &lt;- can be used <br>
for horizontal scroll. <br>
Behind the verb &lsquo;COMMAND-LINE&rsquo; in the header
line, the current page number and the total number of pages
of the process/thread list are shown.</p>

<p style="margin-top: 1em">CPU The occupation percentage of
this process related to the available capacity for this
resource on system level.</p>

<p style="margin-top: 1em">CPUNR The identification of the
CPU the (main) thread is running on or has recently been
running on.</p>

<p style="margin-top: 1em">DSK The occupation percentage of
this process related to the total load that is produced by
all processes (i.e. total disk accesses by all processes
during the last inter&acirc; <br>
val). <br>
This information is shown when per process &quot;storage
accounting&quot; is active in the kernel.</p>

<p style="margin-top: 1em">EGID Effective group-id under
which this process executes.</p>

<p style="margin-top: 1em">ENDATE Date that the process has
been finished. If the process is still running, this field
shows &lsquo;active&rsquo;.</p>

<p style="margin-top: 1em">ENTIME Time that the process has
been finished. If the process is still running, this field
shows &lsquo;active&rsquo;.</p>

<p style="margin-top: 1em">ENVID Virtual environment
identified (OpenVZ only).</p>

<p style="margin-top: 1em">EUID Effective user-id under
which this process executes.</p>

<p style="margin-top: 1em">EXC The exit code of a
terminated process (second position of column
&lsquo;ST&rsquo; is E) or the fatal signal number (second
position of column &lsquo;ST&rsquo; is S or C).</p>

<p style="margin-top: 1em">FSGID Filesystem group-id under
which this process executes.</p>

<p style="margin-top: 1em">FSUID Filesystem user-id under
which this process executes.</p>

<p style="margin-top: 1em">MAJFLT The number of page faults
issued by this process that have been solved by
creating/loading the requested memory page.</p>

<p style="margin-top: 1em">MEM The occupation percentage of
this process related to the available capacity for this
resource on system level.</p>

<p style="margin-top: 1em">MINFLT The number of page faults
issued by this process that have been solved by reclaiming
the requested memory page from the free list of pages.</p>

<p style="margin-top: 1em">NET The occupation percentage of
this process related to the total load that is produced by
all processes (i.e. consumed network bandwidth of all
processes during the last <br>
interval). <br>
This information will only be shown when kernel module
&lsquo;netatop&rsquo; is loaded.</p>

<p style="margin-top: 1em">NICE The more or less static
priority that can be given to a process on a scale from -20
(high priority) to +19 (low priority).</p>

<p style="margin-top: 1em">NPROCS The number of active and
terminated processes accumulated for this user or
program.</p>

<p style="margin-top: 1em">PID Process-id.</p>

<p style="margin-top: 1em">POLI The policies
&rsquo;norm&rsquo; (normal, which is SCHED_OTHER),
&rsquo;btch&rsquo; (batch) and &rsquo;idle&rsquo; refer to
timesharing processes. The policies &rsquo;fifo&rsquo;
(SCHED_FIFO) and &rsquo;rr&rsquo; (round robin, <br>
which is SCHED_RR) refer to realtime processes.</p>

<p style="margin-top: 1em">PPID Parent process-id.</p>

<p style="margin-top: 1em">PRI The process&rsquo; priority
ranges from 0 (highest priority) to 139 (lowest priority).
Priority 0 to 99 are used for realtime processes (fixed
priority independent of their <br>
behavior) and priority 100 to 139 for timesharing processes
(variable priority depending on their recent CPU consumption
and the nice value).</p>

<p style="margin-top: 1em">PSIZE The proportional memory
size of this process (or user). <br>
Every process shares resident memory with other processes.
E.g. when a particular program is started several times, the
code pages (text) are only loaded once in memory <br>
and shared by all incarnations. Also the code of shared
libraries is shared by all processes using that shared
library, as well as shared memory and memory-mapped files.
<br>
For the PSIZE calculation of a process, the resident memory
of a process that is shared with other processes is divided
by the number of sharers. This means, that every <br>
process is accounted for a proportional part of that memory.
Accumulating the PSIZE values of all processes in the system
gives a reliable impression of the total resi&acirc; <br>
dent memory consumed by all processes. <br>
Since gathering of all values that are needed to calculate
the PSIZE is a relatively time-consuming task, the
&rsquo;R&rsquo; key (or &rsquo;-R&rsquo; flag) should be
active. Gathering these <br>
values also requires superuser privileges (otherwise
&rsquo;?K&rsquo; is shown in the output).</p>

<p style="margin-top: 1em">RDDSK When the kernel maintains
standard io statistics (&gt;= 2.6.20): <br>
The read data transfer issued physically on disk (so reading
from the disk cache is not accounted for). <br>
Unfortunately, the kernel aggregates the data tranfer of a
process to the data transfer of its parent process when
terminating, so you might see transfers for (parent) <br>
processes like cron, bash or init, that are not really
issued by them.</p>

<p style="margin-top: 1em">RGID The real group-id under
which the process executes.</p>

<p style="margin-top: 1em">RGROW The amount of resident
memory that the process has grown during the last interval.
A resident growth can be caused by touching memory pages
which were not physically <br>
created/loaded before (load-on-demand). Note that a resident
growth can also be negative e.g. when part of the process is
paged out due to lack of memory or when the <br>
process frees dynamically allocated memory. For a process
which started during the last interval, the resident growth
reflects the total resident size of the process at <br>
that moment.</p>

<p style="margin-top: 1em">RSIZE The total resident memory
usage consumed by this process (or user). Notice that the
RSIZE of a process includes all resident memory used by that
process, even if cer&acirc; <br>
tain memory parts are shared with other processes (see also
the explanation of PSIZE).</p>

<p style="margin-top: 1em">RTPR Realtime priority according
the POSIX standard. Value can be 0 for a timesharing process
(policy &rsquo;norm&rsquo;, &rsquo;btch&rsquo; or
&rsquo;idle&rsquo;) or ranges from 1 (lowest) till 99
(highest) <br>
for a realtime process (policy &rsquo;rr&rsquo; or
&rsquo;fifo&rsquo;).</p>

<p style="margin-top: 1em">RUID The real user-id under
which the process executes.</p>

<p style="margin-top: 1em">S The current state of the
(main) thread: &lsquo;R&rsquo; for running (currently
processing or in the runqueue), &lsquo;S&rsquo; for sleeping
interruptible (wait for an event to occur), &lsquo;D&rsquo;
for <br>
sleeping non-interruptible, &lsquo;Z&rsquo; for zombie
(waiting to be synchronized with its parent process),
&lsquo;T&rsquo; for stopped (suspended or traced),
&lsquo;W&rsquo; for swapping, and &lsquo;E&rsquo; (exit)
<br>
for processes which have finished during the last
interval.</p>

<p style="margin-top: 1em">SGID The saved group-id of the
process.</p>

<p style="margin-top: 1em">ST The status of a process. <br>
The first position indicates if the process has been started
during the last interval (the value N means &rsquo;new
process&rsquo;).</p>

<p style="margin-top: 1em">The second position indicates if
the process has been finished during the last interval. <br>
The value E means &rsquo;exit&rsquo; on the process&rsquo;
own initiative; the exit code is displayed in the column
&lsquo;EXC&rsquo;. <br>
The value S means that the process has been terminated
unvoluntarily by a signal; the signal number is displayed in
the in the column &lsquo;EXC&rsquo;. <br>
The value C means that the process has been terminated
unvoluntarily by a signal, producing a core dump in its
current directory; the signal number is displayed in the
<br>
column &lsquo;EXC&rsquo;.</p>

<p style="margin-top: 1em">STDATE The start date of the
process.</p>

<p style="margin-top: 1em">STTIME The start time of the
process.</p>

<p style="margin-top: 1em">SUID The saved user-id of the
process.</p>

<p style="margin-top: 1em">SWAPSZ The swap space consumed
by this process (or user).</p>

<p style="margin-top: 1em">SYSCPU CPU time consumption of
this process in system mode (kernel mode), usually due to
system call handling.</p>

<p style="margin-top: 1em">THR Total number of threads
within this process. All related threads are contained in a
thread group, represented by pcp-atop as one line or as a
separate line when the &rsquo;y&rsquo; <br>
key (or -y flag) is active.</p>

<p style="margin-top: 1em">On Linux 2.4 systems it is
hardly possible to determine which threads (i.e. processes)
are related to the same thread group. Every thread is
represented by pcp-atop as <br>
a separate line.</p>

<p style="margin-top: 1em">TID Thread-id. All threads
within a process run with the same PID but with a different
TID. This value is shown for individual threads in
multi-threaded processes (when <br>
using the key &rsquo;y&rsquo;).</p>

<p style="margin-top: 1em">TRUN Number of threads within
this process that are in the state &rsquo;running&rsquo;
(R).</p>

<p style="margin-top: 1em">TSLPI Number of threads within
this process that are in the state &rsquo;interruptible
sleeping&rsquo; (S).</p>

<p style="margin-top: 1em">TSLPU Number of threads within
this process that are in the state &rsquo;uninterruptible
sleeping&rsquo; (D).</p>

<p style="margin-top: 1em">USRCPU CPU time consumption of
this process in user mode, due to processing the own program
text.</p>

<p style="margin-top: 1em">VDATA The virtual memory size of
the private data used by this process (including heap and
shared library data).</p>

<p style="margin-top: 1em">VGROW The amount of virtual
memory that the process has grown during the last interval.
A virtual growth can be caused by e.g. issueing a malloc()
or attaching a shared memory <br>
segment. Note that a virtual growth can also be negative by
e.g. issueing a free() or detaching a shared memory segment.
For a process which started during the last <br>
interval, the virtual growth reflects the total virtual size
of the process at that moment.</p>

<p style="margin-top: 1em">VSIZE The total virtual memory
usage consumed by this process (or user).</p>

<p style="margin-top: 1em">VSLIBS The virtual memory size
of the (shared) text of all shared libraries used by this
process.</p>

<p style="margin-top: 1em">VSTACK The virtual memory size
of the (private) stack used by this process</p>

<p style="margin-top: 1em">VSTEXT The virtual memory size
of the (shared) text of the executable program.</p>

<p style="margin-top: 1em">WRDSK When the kernel maintains
standard io statistics (&gt;= 2.6.20): <br>
The write data transfer issued physically on disk (so
writing to the disk cache is not accounted for). This
counter is maintained for the application process that <br>
writes its data to the cache (assuming that this data is
physically transferred to disk later on). Notice that disk
I/O needed for swapping is not taken into account. <br>
Unfortunately, the kernel aggregates the data tranfer of a
process to the data transfer of its parent process when
terminating, so you might see transfers for (parent) <br>
processes like cron, bash or init, that are not really
issued by them.</p>

<p style="margin-top: 1em">WCANCL When the kernel maintains
standard io statistics (&gt;= 2.6.20): <br>
The write data transfer previously accounted for this
process or another process that has been cancelled. Suppose
that a process writes new data to a file and that data <br>
is removed again before the cache buffers have been flushed
to disk. Then the original process shows the written data as
WRDSK, while the process that removes/truncates <br>
the file shows the unflushed removed data as WCANCL.</p>

<p style="margin-top: 1em">PARSEABLE OUTPUT <br>
With the flag -P followed by a list of one or more labels
(comma-separated), parseable output is produced for each
sample. The labels that can be specified for system-level
sta&acirc; <br>
tistics correspond to the labels (first verb of each line)
that can be found in the interactive output:
&quot;CPU&quot;, &quot;cpu&quot; &quot;CPL&quot;
&quot;MEM&quot;, &quot;SWP&quot;, &quot;PAG&quot;,
&quot;LVM&quot;, &quot;MDD&quot;, &quot;DSK&quot;,
&quot;NFM&quot;, &quot;NFC&quot;, <br>
&quot;NFS&quot; and &quot;NET&quot;. <br>
For process-level statistics special labels are introduced:
&quot;PRG&quot; (general), &quot;PRC&quot; (cpu),
&quot;PRM&quot; (memory), &quot;PRD&quot; (disk, only if
&quot;storage accounting&quot; is active) and
&quot;PRN&quot; (network, <br>
only if the kernel module &rsquo;netatop&rsquo; has been
installed). <br>
With the label &quot;ALL&quot;, all system and process level
statistics are shown.</p>

<p style="margin-top: 1em">For every interval all requested
lines are shown whereafter pcp-atop shows a line just
containing the label &quot;SEP&quot; as a separator before
the lines for the next sample are gener&acirc; <br>
ated. <br>
When a sample contains the values since boot, pcp-atop shows
a line just containing the label &quot;RESET&quot; before
the lines for this sample are generated.</p>

<p style="margin-top: 1em">The first part of each
output-line consists of the following six fields: label (the
name of the label), host (the name of this machine), epoch
(the time of this interval as num&acirc; <br>
ber of seconds since 1-1-1970), date (date of this interval
in format YYYY/MM/DD), time (time of this interval in format
HH:MM:SS), and interval (number of seconds elapsed for <br>
this interval).</p>

<p style="margin-top: 1em">The subsequent fields of each
output-line depend on the label:</p>

<p style="margin-top: 1em">CPU Subsequent fields: total
number of clock-ticks per second for this machine, number of
processors, consumption for all CPUs in system mode
(clock-ticks), consumption for <br>
all CPUs in user mode (clock-ticks), consumption for all
CPUs in user mode for niced processes (clock-ticks),
consumption for all CPUs in idle mode (clock-ticks),
con&acirc; <br>
sumption for all CPUs in wait mode (clock-ticks),
consumption for all CPUs in irq mode (clock-ticks),
consumption for all CPUs in softirq mode (clock-ticks),
consumption <br>
for all CPUs in steal mode (clock-ticks), consumption for
all CPUs in guest mode (clock-ticks) overlapping user mode,
frequency of all CPUs and frequency percentage of <br>
all CPUs.</p>

<p style="margin-top: 1em">cpu Subsequent fields: total
number of clock-ticks per second for this machine,
processor-number, consumption for this CPU in system mode
(clock-ticks), consumption for this <br>
CPU in user mode (clock-ticks), consumption for this CPU in
user mode for niced processes (clock-ticks), consumption for
this CPU in idle mode (clock-ticks), consumption <br>
for this CPU in wait mode (clock-ticks), consumption for
this CPU in irq mode (clock-ticks), consumption for this CPU
in softirq mode (clock-ticks), consumption for this <br>
CPU in steal mode (clock-ticks), consumption for this CPU in
guest mode (clock-ticks) overlapping user mode, frequency of
this CPU and frequency percentage of this CPU.</p>

<p style="margin-top: 1em">CPL Subsequent fields: number of
processors, load average for last minute, load average for
last five minutes, load average for last fifteen minutes,
number of context- <br>
switches, and number of device interrupts.</p>

<p style="margin-top: 1em">MEM Subsequent fields: page size
for this machine (in bytes), size of physical memory
(pages), size of free memory (pages), size of page cache
(pages), size of buffer cache <br>
(pages), size of slab (pages), dirty pages in cache (pages),
reclaimable part of slab (pages), size of vmware&rsquo;s
balloon pages (pages), total size of shared memory <br>
(pages), size of resident shared memory (pages), size of
swapped shared memory (pages), huge page size (in bytes),
total size of huge pages (huge pages), and size of <br>
free huge pages (huge pages).</p>

<p style="margin-top: 1em">SWP Subsequent fields: page size
for this machine (in bytes), size of swap (pages), size of
free swap (pages), 0 (future use), size of committed space
(pages), and limit for <br>
committed space (pages).</p>

<p style="margin-top: 1em">PAG Subsequent fields: page size
for this machine (in bytes), number of page scans, number of
allocstalls, 0 (future use), number of swapins, and number
of swapouts.</p>

<p style="margin-top: 1em">LVM/MDD/DSK <br>
For every logical volume/multiple device/hard disk one line
is shown. <br>
Subsequent fields: name, number of milliseconds spent for
I/O, number of reads issued, number of sectors transferred
for reads, number of writes issued, and number of <br>
sectors transferred for write.</p>

<p style="margin-top: 1em">NFM Subsequent fields: mounted
NFS filesystem, total number of bytes read, total number of
bytes written, number of bytes read by normal system calls,
number of bytes writ&acirc; <br>
ten by normal system calls, number of bytes read by direct
I/O, number of bytes written by direct I/O, number of pages
read by memory-mapped I/O, and number of pages <br>
written by memory-mapped I/O.</p>

<p style="margin-top: 1em">NFC Subsequent fields: number of
transmitted RPCs, number of transmitted read RPCs, number of
transmitted write RPCs, number of RPC retransmissions, and
number of authoriza&acirc; <br>
tion refreshes.</p>

<p style="margin-top: 1em">NFS Subsequent fields: number of
handled RPCs, number of received read RPCs, number of
received write RPCs, number of bytes read by clients, number
of bytes written by <br>
clients, number of RPCs with bad format, number of RPCs with
bad authorization, number of RPCs from bad client, total
number of handled network requests, number of han&acirc;
<br>
dled network requests via TCP, number of handled network
requests via UDP, number of handled TCP connections, number
of hits on reply cache, number of misses on reply <br>
cache, and number of uncached requests.</p>

<p style="margin-top: 1em">NET First one line is produced
for the upper layers of the TCP/IP stack. <br>
Subsequent fields: the verb &quot;upper&quot;, number of
packets received by TCP, number of packets transmitted by
TCP, number of packets received by UDP, number of packets
trans&acirc; <br>
mitted by UDP, number of packets received by IP, number of
packets transmitted by IP, number of packets delivered to
higher layers by IP, and number of packets forwarded <br>
by IP.</p>

<p style="margin-top: 1em">Next one line is shown for every
interface. <br>
Subsequent fields: name of the interface, number of packets
received by the interface, number of bytes received by the
interface, number of packets transmitted by the <br>
interface, number of bytes transmitted by the interface,
interface speed, and duplex mode (0=half, 1=full).</p>

<p style="margin-top: 1em">PRG For every process one line
is shown. <br>
Subsequent fields: PID (unique ID of task), name (between
brackets), state, real uid, real gid, TGID (group number of
related tasks/threads), total number of threads, <br>
exit code, start time (epoch), full command line (between
brackets), PPID, number of threads in state
&rsquo;running&rsquo; (R), number of threads in state
&rsquo;interruptible sleeping&rsquo; <br>
(S), number of threads in state &rsquo;uninterruptible
sleeping&rsquo; (D), effective uid, effective gid, saved
uid, saved gid, filesystem uid, filesystem gid, elapsed time
(hertz), <br>
is_process (y/n), virtual pid and container id.</p>

<p style="margin-top: 1em">PRC For every process one line
is shown. <br>
Subsequent fields: PID, name (between brackets), state,
total number of clock-ticks per second for this machine,
CPU-consumption in user mode (clockticks),
CPU-consump&acirc; <br>
tion in system mode (clockticks), nice value, priority,
realtime priority, scheduling policy, current CPU, sleep
average, TGID (group number of related tasks/threads) <br>
and is_process (y/n).</p>

<p style="margin-top: 1em">PRM For every process one line
is shown. <br>
Subsequent fields: PID, name (between brackets), state, page
size for this machine (in bytes), virtual memory size
(Kbytes), resident memory size (Kbytes), shared text <br>
memory size (Kbytes), virtual memory growth (Kbytes),
resident memory growth (Kbytes), number of minor page
faults, number of major page faults, virtual library exec
<br>
size (Kbytes), virtual data size (Kbytes), virtual stack
size (Kbytes), swap space used (Kbytes), TGID (group number
of related tasks/threads), is_process (y/n) and pro&acirc;
<br>
portional set size (Kbytes) if in &rsquo;R&rsquo; option is
specified.</p>

<p style="margin-top: 1em">PRD For every process one line
is shown. <br>
Subsequent fields: PID, name (between brackets), state,
obsoleted kernel patch installed (&rsquo;n&rsquo;), standard
io statistics used (&rsquo;y&rsquo; or &rsquo;n&rsquo;),
number of reads on disk, cumu&acirc; <br>
lative number of sectors read, number of writes on disk,
cumulative number of sectors written, cancelled number of
written sectors, TGID (group number of related <br>
tasks/threads) and is_process (y/n). <br>
If the standard I/O statistics (&gt;= 2.6.20) are not used,
the disk I/O counters per process are not relevant. The
counters &rsquo;number of reads on disk&rsquo; and
&rsquo;number of <br>
writes on disk&rsquo; are obsoleted anyhow.</p>

<p style="margin-top: 1em">PRN For every process one line
is shown. <br>
Subsequent fields: PID, name (between brackets), state,
kernel module &rsquo;netatop&rsquo; loaded (&rsquo;y&rsquo;
or &rsquo;n&rsquo;), number of TCP-packets transmitted,
cumulative size of TCP-packets <br>
transmitted, number of TCP-packets received, cumulative size
of TCP-packets received, number of UDP-packets transmitted,
cumulative size of UDP-packets transmitted, num&acirc; <br>
ber of UDP-packets received, cumulative size of UDP-packets
transmitted, number of raw packets transmitted (obsolete,
always 0), number of raw packets received (obso&acirc; <br>
lete, always 0), TGID (group number of related
tasks/threads) and is_process (y/n).</p>

<p style="margin-top: 1em">EXAMPLES <br>
To monitor the current system load interactively with an
interval of 5 seconds:</p>

<p style="margin-top: 1em">pcp atop 5</p>

<p style="margin-top: 1em">To monitor the system load and
write it to a file (in plain ASCII) with an interval of one
minute during half an hour with active processes sorted on
memory consumption:</p>

<p style="margin-top: 1em">pcp atop -M 60 30 &gt;
/log/pcp-atop.mem</p>

<p style="margin-top: 1em">Store information about the
system and process activity in a PCP archive folio with an
interval of ten minutes during an hour:</p>

<p style="margin-top: 1em">pcp atop -w /tmp/pcp-atop 600
6</p>

<p style="margin-top: 1em">View the contents of this file
interactively:</p>

<p style="margin-top: 1em">pcp atop -r /tmp/pcp-atop</p>

<p style="margin-top: 1em">View the processor and disk
utilization of this file in parseable format:</p>

<p style="margin-top: 1em">pcp atop -PCPU,DSK -r
/tmp/pcp-atop.raw</p>

<p style="margin-top: 1em">View the contents of
today&rsquo;s standard logfile interactively:</p>

<p style="margin-top: 1em">pcp atop -r</p>

<p style="margin-top: 1em">View the contents of the
standard logfile of the day before yesterday
interactively:</p>

<p style="margin-top: 1em">pcp atop -r yy</p>

<p style="margin-top: 1em">View the contents of the
standard logfile of 2014, June 7 from 02:00 PM onwards
interactively:</p>

<p style="margin-top: 1em">pcp atop -r 20140607 -b
14:00</p>

<p style="margin-top: 1em">FILES <br>
/etc/atoprc <br>
Configuration file containing system-wide default values.
See related man-page.</p>

<p style="margin-top: 1em">~/.atoprc <br>
Configuration file containing personal default values. See
related man-page.</p>

<p style="margin-top: 1em">NOTES <br>
pcp-atop is based on the source code of the atop(1) command
from http://atoptool.nl and aims to be command line and
output compatible with it as much as possible. Some features
<br>
of that atop command are not available in pcp-atop.</p>

<p style="margin-top: 1em">Some features of pcp-atop (such
as reporting on the Apache HTTP daemon, and NFS client
mounts) are only activated if the corresonding PCP metrics
are available. Refer to the <br>
documentation for pmdaapache(1) and pmdanfsclient(1) for
further details on activating these metrics.</p>

<p style="margin-top: 1em">SEE ALSO <br>
pcp(1), pcp-atopsar(1), pmdaapache(1), pmdanfsclient(1),
mkaf(1), pmlogger(1), pmlogger_daily(1), PCPIntro(1) and
pcp-atoprc(5).</p>

<p style="margin-top: 1em">Performance Co-Pilot PCP
PCP-ATOP(1)</p>
<hr>
</body>
</html>
