<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>mpqcrun(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mpqcrun(1)</td>
    <td class="head-vol">MPQC</td>
    <td class="head-rtitle">mpqcrun(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
mpqcrun - The mpqcrun program simplifies running MPQC.
<h1 class="Sh" title="Sh" id="Synopsis"><a class="selflink" href="#Synopsis">Synopsis</a></h1>
<pre>
<div class="Pp"></div>
mpqcrun [options] [file1.in] [file2.in] ...
</pre>
<h1 class="Sh" title="Sh" id="Description"><a class="selflink" href="#Description">Description</a></h1>
The mpqcrun program simplifies the task of running MPQC on multiple input files.
  Although it was primarily designed to run the validation suite, mpqcrun, is
  general enough to be useful in other situations. If multiple nodes or
  processors are present, it can be used to manage multiple invocations of MPQC.
<h1 class="Sh" title="Sh" id="Running_mpqcrun"><a class="selflink" href="#Running_mpqcrun">Running
  mpqcrun</a></h1>
mpqcrun takes the following command line options:
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--mpqc<b> path</b></dt>
  <dd class="It-tag">The mpqc executable to use.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--objdir<b></b></dt>
  <dd class="It-tag">Run the mpqc executable in the compile directory, rather
      than the install directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--small<b></b></dt>
  <dd class="It-tag">Skip big runs in verification suite.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nnodeperjob<b> n</b></dt>
  <dd class="It-tag">Run with n nodes per job. If this is nnode, use all
      available nodes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nprocpernode<b> n</b></dt>
  <dd class="It-tag">Run with n processes per node.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nprocperjob<b> n</b></dt>
  <dd class="It-tag">Run with n processes per job. The default is to use all
      available processors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nthreadperproc<b> n</b></dt>
  <dd class="It-tag">Use n threads per process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--threadgrp<b> grp</b></dt>
  <dd class="It-tag">Use the given threading layer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>none<b></b></dt>
  <dd class="It-tag">Use MPQC's default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>proc<b></b></dt>
  <dd class="It-tag">Do a single threaded run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>posix<b></b></dt>
  <dd class="It-tag">Use POSIX threads.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--messagegrp<b> grp</b></dt>
  <dd class="It-tag">Use the given communication layer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>none<b></b></dt>
  <dd class="It-tag">Use MPQC's default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>proc<b></b></dt>
  <dd class="It-tag">Does a single processor run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>mpi<b></b></dt>
  <dd class="It-tag">Use MPI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--memorygrp<b> grp</b></dt>
  <dd class="It-tag">Use the given remote memory communication layer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>none<b></b></dt>
  <dd class="It-tag">Use MPQC's default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>proc<b></b></dt>
  <dd class="It-tag">Does a single processor run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>mtmpi<b></b></dt>
  <dd class="It-tag">Use multi-threaded MPI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grp=</b>armci<b></b></dt>
  <dd class="It-tag">Use ARMCI.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--launch<b> cmd</b></dt>
  <dd class="It-tag">Use the given command to launch jobs. See below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nodefile<b> file</b></dt>
  <dd class="It-tag">Specifies a file listing nodes to use. Duplicated nodes are
      removed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nodes<b> nodes</b></dt>
  <dd class="It-tag">Specifies list of machines to use. A range of nodes can be
      given with two integers separated by a dash. Groups of nodes can be
      separated by a comma.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--nodename<b> fmt</b></dt>
  <dd class="It-tag">This is a format string that converts the node number to
      its name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--seq<b> regex</b></dt>
  <dd class="It-tag">Run inputs matching reqex sequentially. This is useful when
      one input requires that another be run first, and more than one job is run
      at a time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--exclude<b> regex</b></dt>
  <dd class="It-tag">Exclude files matching regex.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--readdir<b> dir</b></dt>
  <dd class="It-tag">Run mpqc on all files matching dir/*.in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--inputprefix<b> prefix</b></dt>
  <dd class="It-tag">Prepend prefix to all input file names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--outputprefix<b> prefix</b></dt>
  <dd class="It-tag">Prepend prefix to all output file names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--count<b></b></dt>
  <dd class="It-tag">Print the number of input files that would be run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--printfiles<b></b></dt>
  <dd class="It-tag">Print the list of input files that would be run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--rerun<b></b></dt>
  <dd class="It-tag">Overwrite output file, even if up-to-date.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--onlynew<b></b></dt>
  <dd class="It-tag">Do not overwrite output file, even if not up-to-date.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--simpout<b></b></dt>
  <dd class="It-tag">Do not append extra info like nnode to filename.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--uniqout<b></b></dt>
  <dd class="It-tag">Generate unique output filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--autoout<b></b></dt>
  <dd class="It-tag">Generate output filenames by replacing the suffix with
      'out'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--verbose<b></b></dt>
  <dd class="It-tag">Print out what action is to be taken on each file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--debug<b></b></dt>
  <dd class="It-tag">Don't actually run mpqc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>--help<b></b></dt>
  <dd class="It-tag">Print the documentation.</dd>
</dl>
<div class="Pp"></div>
The cmd given with the --launch option can contain special strings that will be
  substituted:
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>%MPQC%<b></b></dt>
  <dd class="It-tag">The MPQC program to run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>%INPUT%<b></b></dt>
  <dd class="It-tag">The input filename.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>%OUTPUT%<b></b></dt>
  <dd class="It-tag">The output filename.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>%NPROC%<b></b></dt>
  <dd class="It-tag">The number of processes to start.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>%NODEFILE%<b></b></dt>
  <dd class="It-tag">The name of a file containing the node names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b>%NODELIST%<b></b></dt>
  <dd class="It-tag">A comma separated list of node names.</dd>
</dl>
<div class="Pp"></div>
For these last two, if they are contained within square brackets and a
  substitution is not available, then everything within the the brackets is
  removed.
<div class="Pp"></div>
This argument will launch MPI jobs giving mpirun a nodefile.
<div class="Pp"></div>
<pre>
<div class="Pp"></div>
  --launch 'mpirun [-hf %NODEFILE%] -n %NPROC% %MPQC% -o %OUTPUT% %INPUT%'
</pre>
<div class="Pp"></div>
This argument will launch MPI jobs giving mpirun list of hosts on the command
  line.
<div class="Pp"></div>
<pre>
<div class="Pp"></div>
  --launch 'mpirun [-H %NODELIST%] -n %NPROC% %MPQC% -o %OUTPUT% %INPUT%'
</pre>
<h1 class="Sh" title="Sh" id="License"><a class="selflink" href="#License">License</a></h1>
mpqcrun is open-source software; you can redistribute it and/or modify it under
  the terms of the GNU General Public License as published by the Free Software
  Foundation; either version 2 of the License, or (at your option) any later
  version.
<h1 class="Sh" title="Sh" id="Warranty"><a class="selflink" href="#Warranty">Warranty</a></h1>
mpqcrun is distributed in the hope that it will be useful, but WITHOUT ANY
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
  A PARTICULAR PURPOSE. See the GNU General Public License for more
  details.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Mon May 15 2017</td>
    <td class="foot-os">Version 2.3.1</td>
  </tr>
</table>
</body>
</html>
