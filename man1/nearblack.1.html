<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:27:03 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>nearblack(1) General Commands Manual nearblack(1)</p>

<p style="margin-top: 1em">NAME <br>
nearblacknearblack <br>
- convert nearly black/white borders to black</p>

<p style="margin-top: 1em">SYNOPSIS <br>
nearblack [-of format] [-white | [-color c1,c2,c3...cn]*]
[-near dist] [-nb non_black_pixels] <br>
[-setalpha] [-setmask] [-o outfile] [-q] [-co
&quot;NAME=VALUE&quot;]* infile</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This utility will scan an image and try to set all pixels
that are nearly or exactly black, white or one or more
custom colors around the collar to black or white. This is
often <br>
used to &rsquo;fix up&rsquo; lossy compressed air photos so
that color pixels can be treated as transparent when
mosaicing.</p>

<p style="margin-top: 1em">-o outfile: <br>
The name of the output file to be created. Newly created
files are created with the HFA driver by default (Erdas
Imagine - .img)</p>

<p style="margin-top: 1em">-of format: <br>
(GDAL 1.8.0 or later) Select the output format. Use the
short format name (GTiff for GeoTIFF for example).</p>

<p style="margin-top: 1em">-co &rsquo;NAME=VALUE&rsquo;:
<br>
(GDAL 1.8.0 or later) Passes a creation option to the output
format driver. Multiple -co options may be listed. See
format specific documentation for legal creation options
<br>
for each format. Only valid when creating a new file</p>

<p style="margin-top: 1em">-white: <br>
Search for nearly white (255) pixels instead of nearly black
pixels.</p>

<p style="margin-top: 1em">-color c1,c2,c3...cn: <br>
(GDAL &gt;= 1.9.0) Search for pixels near the specified
color. May be specified multiple times. When -color is
specified, the pixels that are considered as the collar are
set to <br>
0.</p>

<p style="margin-top: 1em">-near dist: <br>
Select how far from black, white or custom colors the pixel
values can be and still considered near black, white or
custom color. Defaults to 15.</p>

<p style="margin-top: 1em">-nb non_black_pixels: <br>
number of non-black pixels that can be encountered before
the giving up search inwards. Defaults to 2.</p>

<p style="margin-top: 1em">-setalpha: <br>
(GDAL 1.8.0 or later) Adds an alpha band if the output file
is specified and the input file has 3 bands, or sets the
alpha band of the output file if it is specified and the
<br>
input file has 4 bands, or sets the alpha band of the input
file if it has 4 bands and no output file is specified. The
alpha band is set to 0 in the image collar and to 255 <br>
elsewhere.</p>

<p style="margin-top: 1em">-setmask: <br>
(GDAL 1.8.0 or later) Adds a mask band to the output file,
or adds a mask band to the input file if it does not already
have one and no output file is specified. The mask <br>
band is set to 0 in the image collar and to 255
elsewhere.</p>

<p style="margin-top: 1em">-q: <br>
(GDAL 1.8.0 or later) Suppress progress monitor and other
non-error output.</p>

<p style="margin-top: 1em">infile: <br>
The input file. Any GDAL supported format, any number of
bands, normally 8bit Byte bands.</p>

<p style="margin-top: 1em">The algorithm processes the
image one scanline at a time. A scan &rsquo;in&rsquo; is
done from either end setting pixels to black or white until
at least &rsquo;non_black_pixels&rsquo; pixels that are <br>
more than &rsquo;dist&rsquo; gray levels away from black,
white or custom colors have been encountered at which point
the scan stops. The nearly black, white or custom color
pixels are set <br>
to black or white. The algorithm also scans from top to
bottom and from bottom to top to identify indentations in
the top or bottom.</p>

<p style="margin-top: 1em">The processing is all done in
8bit (Bytes).</p>

<p style="margin-top: 1em">If the output file is omitted,
the processed results will be written back to the input file
- which must support update.</p>

<p style="margin-top: 1em">C API <br>
Starting with GDAL 2.1, this utility is also callable from C
with GDALNearblack().</p>

<p style="margin-top: 1em">AUTHORS <br>
Frank Warmerdam warmerdam@pobox.com</p>

<p style="margin-top: 1em">GDAL Thu Feb 2 2017
nearblack(1)</p>
<hr>
</body>
</html>
