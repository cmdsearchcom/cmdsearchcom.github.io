<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:29:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OTR_PARSE(1) General Commands Manual OTR_PARSE(1)</p>

<p style="margin-top: 1em">NAME <br>
otr_parse, otr_sesskeys, otr_mackey, otr_readforge,
otr_modify, otr_remac - Process Off-the-Record Messaging
transcripts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
otr_parse <br>
otr_sesskeys our_privkey their_pubkey <br>
otr_mackey aes_enc_key <br>
otr_readforge aes_enc_key [newmsg] <br>
otr_modify mackey old_text new_text offset <br>
otr_remac mackey sender_instance receiver_instance flags
snd_keyid rcv_keyid pubkey counter encdata
revealed_mackeys</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Off-the-Record (OTR) Messaging allows you to have private
conversations over IM by providing: <br>
- Encryption <br>
- No one else can read your instant messages. <br>
- Authentication <br>
- You are assured the correspondent is who you think it is.
<br>
- Deniability <br>
- The messages you send do not have digital signatures that
are <br>
checkable by a third party. Anyone can forge messages after
a <br>
conversation to make them look like they came from you.
However, <br>
during a conversation, your correspondent is assured the
messages <br>
he sees are authentic and unmodified. <br>
- Perfect forward secrecy <br>
- If you lose control of your private keys, no previous
conversation <br>
is compromised.</p>

<p style="margin-top: 1em">The OTR Toolkit is useful for
analyzing and/or forging OTR messages. Why do we offer this?
Primarily, to make absolutely sure that transcripts of OTR
conversations are really <br>
easy to forge after the fact. [Note that during an OTR
conversation, messages can&rsquo;t be forged without
real-time access to the secret keys on the
participants&rsquo; computers, and in <br>
that case, all security has already been lost.]
Easily-forgeable transcripts help us provide the
&quot;Deniability&quot; property: if someone claims you said
something over OTR, they&rsquo;ll <br>
have no proof, as anyone at all can modify a transcript to
make it say whatever they like, and still have all the
verification come out correctly.</p>

<p style="margin-top: 1em">Here are the six programs in the
toolkit:</p>

<p style="margin-top: 1em">- otr_parse <br>
- Parse OTR messages given on stdin, showing the values of
all the <br>
fields in OTR protocol messages.</p>

<p style="margin-top: 1em">- otr_sesskeys our_privkey
their_pubkey <br>
- Shows our public key, the session id, two AES and two MAC
keys <br>
derived from the given Diffie-Hellman keys (one private, one
public).</p>

<p style="margin-top: 1em">- otr_mackey aes_enc_key <br>
- Shows the MAC key derived from the given AES key.</p>

<p style="margin-top: 1em">- otr_readforge aes_enc_key
[newmsg] <br>
- Decrypts an OTR Data message using the given AES key, and
displays <br>
the message. <br>
- If newmsg is given, replace the message with that one,
encrypt <br>
and MAC it properly, and output the resulting OTR Data
Message. <br>
This works even if the given key was not correct for the
original <br>
message, so as to enable complete forgeries.</p>

<p style="margin-top: 1em">- otr_modify mackey old_text
new_text offset <br>
- Even if you can&rsquo;t read the data because you
don&rsquo;t know either <br>
the AES key or the Diffie-Hellman private key, but you can
make a <br>
good guess that the substring &quot;old_text&quot; appears
at the given <br>
offset in the message, replace the old_text with the
new_text <br>
(which must be of the same length), recalculate the MAC with
the <br>
given mackey, and output the resulting Data message. <br>
- Note that, even if you don&rsquo;t know any text in an
existing message, <br>
you can still forge messages of your choice using the <br>
otr_readforge command, above.</p>

<p style="margin-top: 1em">- otr_remac mackey
sender_instance receiver_instance flags snd_keyid rcv_keyid
pubkey counter encdata revealed_mackeys <br>
- Make a new OTR protocol version 3 Data Message, with the
given <br>
pieces (note that the data part is already encrypted). MAC
it <br>
with the given mackey.</p>

<p style="margin-top: 1em">SEE ALSO <br>
Off-the-Record Messaging, at https://www.cypherpunks.ca/otr/
&acirc;&uml;https://www.cypherpunks.ca/otr/&acirc;&copy;</p>

<p style="margin-top: 1em">AUTHOR <br>
otr_toolkit was written by the OTR Dev Team
&lt;otr@cypherpunks.ca&gt;.</p>

<p style="margin-top: 1em">March 14, 2012 OTR_PARSE(1)</p>
<hr>
</body>
</html>
