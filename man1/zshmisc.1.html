<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ZSHMISC(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ZSHMISC(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">ZSHMISC(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
zshmisc - everything and then some
<h1 class="Sh" title="Sh" id="SIMPLE_COMMANDS_&amp;_PIPELINES"><a class="selflink" href="#SIMPLE_COMMANDS_&amp;_PIPELINES">SIMPLE
  COMMANDS &amp; PIPELINES</a></h1>
A <i>simple command</i> is a sequence of optional parameter assignments followed
  by blank-separated words, with optional redirections interspersed. The first
  word is the command to be executed, and the remaining words, if any, are
  arguments to the command. If a command name is given, the parameter
  assignments modify the environment of the command when it is executed. The
  value of a simple command is its exit status, or 128 plus the signal number if
  terminated by a signal. For example,
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>echo foo</b>
</pre>
</div>
<div class="Pp"></div>
is a simple command with arguments.
<div class="Pp"></div>
A <i>pipeline</i> is either a simple command, or a sequence of two or more
  simple commands where each command is separated from the next by ` <b>|</b>'
  or ` <b>|&amp;</b>'. Where commands are separated by `<b>|</b>', the standard
  output of the first command is connected to the standard input of the next. `
  <b>|&amp;</b>' is shorthand for `<b>2&gt;&amp;1 |</b>', which connects both
  the standard output and the standard error of the command to the standard
  input of the next. The value of a pipeline is the value of the last command,
  unless the pipeline is preceded by ` <b>!</b>' in which case the value is the
  logical inverse of the value of the last command. For example,
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>echo foo | sed 's/foo/bar/'</b>
</pre>
</div>
<div class="Pp"></div>
is a pipeline, where the output (` <b>foo</b>' plus a newline) of the first
  command will be passed to the input of the second.
<div class="Pp"></div>
If a pipeline is preceded by ` <b>coproc</b>', it is executed as a coprocess; a
  two-way pipe is established between it and the parent shell. The shell can
  read from or write to the coprocess by means of the ` <b>&gt;&amp;p</b>' and `
  <b>&lt;&amp;p</b>' redirection operators or with `<b>print -p</b>' and
  `<b>read -p</b>'. A pipeline cannot be preceded by both ` <b>coproc</b>' and
  `<b>!</b>'. If job control is active, the coprocess can be treated in other
  than input and output as an ordinary background job.
<div class="Pp"></div>
A <i>sublist</i> is either a single pipeline, or a sequence of two or more
  pipelines separated by ` <b>&amp;&amp;</b>' or `<b>||</b>'. If two pipelines
  are separated by ` <b>&amp;&amp;</b>', the second pipeline is executed only if
  the first succeeds (returns a zero status). If two pipelines are separated by
  ` <b>||</b>', the second is executed only if the first fails (returns a
  nonzero status). Both operators have equal precedence and are left
  associative. The value of the sublist is the value of the last pipeline
  executed. For example,
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>dmesg | grep panic &amp;&amp; print yes</b>
</pre>
</div>
<div class="Pp"></div>
is a sublist consisting of two pipelines, the second just a simple command which
  will be executed if and only if the <b>grep</b> command returns a zero status.
  If it does not, the value of the sublist is that return status, else it is the
  status returned by the <b>print</b> (almost certainly zero).
<div class="Pp"></div>
A <i>list</i> is a sequence of zero or more sublists, in which each sublist is
  terminated by ` <b>;</b>', `<b>&amp;</b>', `<b>&amp;|</b>', `<b>&amp;!</b>',
  or a newline. This terminator may optionally be omitted from the last sublist
  in the list when the list appears as a complex command inside `
  <b>(</b>...<b>)</b>' or ` <b>{</b>...<b>}</b>'. When a sublist is terminated
  by ` <b>;</b>' or newline, the shell waits for it to finish before executing
  the next sublist. If a sublist is terminated by a ` <b>&amp;</b>',
  `<b>&amp;|</b>', or ` <b>&amp;!</b>', the shell executes the last pipeline in
  it in the background, and does not wait for it to finish (note the difference
  from other shells which execute the whole sublist in the background). A
  backgrounded pipeline returns a status of zero.
<div class="Pp"></div>
More generally, a list can be seen as a set of any shell commands whatsoever,
  including the complex commands below; this is implied wherever the word `list'
  appears in later descriptions. For example, the commands in a shell function
  form a special sort of list.
<h1 class="Sh" title="Sh" id="PRECOMMAND_MODIFIERS"><a class="selflink" href="#PRECOMMAND_MODIFIERS">PRECOMMAND
  MODIFIERS</a></h1>
A simple command may be preceded by a <i>precommand modifier</i>, which will
  alter how the command is interpreted. These modifiers are shell builtin
  commands with the exception of <b>nocorrect</b> which is a reserved word.
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-</b></dt>
  <dd class="It-tag">The command is executed with a `<b>-</b>' prepended to its
      <b>argv[0]</b> string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>builtin</b></dt>
  <dd class="It-tag">The command word is taken to be the name of a builtin
      command, rather than a shell function or external command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>command</b> [ <b>-pvV</b> ]</dt>
  <dd class="It-tag">The command word is taken to be the name of an external
      command, rather than a shell function or builtin. If the
      <b>POSIX_BUILTINS</b> option is set, builtins will also be executed but
      certain special properties of them are suppressed. The <b>-p</b> flag
      causes a default path to be searched instead of that in <b>$path</b>. With
      the <b>-v</b> flag, <b>command</b> is similar to <b>whence</b> and with
      <b>-V</b>, it is equivalent to <b>whence</b> <b>-v</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>exec</b> [ <b>-cl</b> ] [ <b>-a</b> <i>argv0</i> ]</dt>
  <dd class="It-tag">The following command together with any arguments is run in
      place of the current process, rather than as a sub-process. The shell does
      not fork and is replaced. The shell does not invoke <b>TRAPEXIT</b>, nor
      does it source <b>zlogout</b> files. The options are provided for
      compatibility with other shells.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The <b>-c</b> option clears the environment.
<div class="Pp"></div>
The <b>-l</b> option is equivalent to the <b>-</b> precommand modifier, to treat
  the replacement command as a login shell; the command is executed with a
  <b>-</b> prepended to its <b>argv[0]</b> string. This flag has no effect if
  used together with the <b>-a</b> option.
<div class="Pp"></div>
The <b>-a</b> option is used to specify explicitly the <b>argv[0]</b> string
  (the name of the command as seen by the process itself) to be used by the
  replacement command and is directly equivalent to setting a value for the
  <b>ARGV0</b> environment variable.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nocorrect</b></dt>
  <dd class="It-tag">Spelling correction is not done on any of the words. This
      must appear before any other precommand modifier, as it is interpreted
      immediately, before any parsing is done. It has no effect in
      non-interactive shells.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>noglob</b></dt>
  <dd class="It-tag">Filename generation (globbing) is not performed on any of
      the words.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COMPLEX_COMMANDS"><a class="selflink" href="#COMPLEX_COMMANDS">COMPLEX
  COMMANDS</a></h1>
A <i>complex command</i> in zsh is one of the following:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>if</b> <i>list</i> <b>then</b> <i>list</i> [ <b>elif</b>
    <i>list</i> <b>then</b> <i>list</i> ] ... [ <b>else</b> <i>list</i> ]
    <b>fi</b></dt>
  <dd class="It-tag">The <b>if</b> <i>list</i> is executed, and if it returns a
      zero exit status, the <b>then</b> <i>list</i> is executed. Otherwise, the
      <b>elif</b> <i>list</i> is executed and if its status is zero, the
      <b>then</b> <i>list</i> is executed. If each <b>elif</b> <i>list</i>
      returns nonzero status, the <b>else</b> <i>list</i> is executed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>for</b> <i>name</i> ... [ <b>in</b> <i>word</i> ... ]
    <i>term</i> <b>do</b> <i>list</i> <b>done</b></dt>
  <dd class="It-tag">where <i>term</i> is at least one newline or <b>;</b>.
      Expand the list of <i>word</i>s, and set the parameter <i>name</i> to each
      of them in turn, executing <i>list</i> each time. If the <b>in</b>
      <i>word</i> is omitted, use the positional parameters instead of the
      <i>word</i>s.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
More than one parameter <i>name</i> can appear before the list of <i>word</i>s.
  If <i>N</i> <i>name</i>s are given, then on each execution of the loop the
  next <b>N</b> <i>word</i>s are assigned to the corresponding parameters. If
  there are more <i>name</i>s than remaining <i>word</i>s, the remaining
  parameters are each set to the empty string. Execution of the loop ends when
  there is no remaining <i>word</i> to assign to the first <i>name</i>. It is
  only possible for <b>in</b> to appear as the first <i>name</i> in the list,
  else it will be treated as marking the end of the list.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>for ((</b> [<i>expr1</i>] <b>;</b> [<i>expr2</i>]
    <b>;</b> [ <i>expr3</i>] <b>)) do</b> <i>list</i> <b>done</b></dt>
  <dd class="It-tag">The arithmetic expression <i>expr1</i> is evaluated first
      (see the section `Arithmetic Evaluation'). The arithmetic expression
      <i>expr2</i> is repeatedly evaluated until it evaluates to zero and when
      non-zero, <i>list</i> is executed and the arithmetic expression
      <i>expr3</i> evaluated. If any expression is omitted, then it behaves as
      if it evaluated to 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>while</b> <i>list</i> <b>do</b> <i>list</i>
    <b>done</b></dt>
  <dd class="It-tag">Execute the <b>do</b> <i>list</i> as long as the
      <b>while</b> <i>list</i> returns a zero exit status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>until</b> <i>list</i> <b>do</b> <i>list</i>
    <b>done</b></dt>
  <dd class="It-tag">Execute the <b>do</b> <i>list</i> as long as <b>until</b>
      <i>list</i> returns a nonzero exit status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>repeat</b> <i>word</i> <b>do</b> <i>list</i>
    <b>done</b></dt>
  <dd class="It-tag"><i>word</i> is expanded and treated as an arithmetic
      expression, which must evaluate to a number <i>n</i>. <i>list</i> is then
      executed <i>n</i> times.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The <b>repeat</b> syntax is disabled by default when the shell starts in a mode
  emulating another shell. It can be enabled with the command ` <b>enable -r
  repeat</b>'</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>case</b> <i>word</i> <b>in</b> [ [<b>(</b>]
    <i>pattern</i> [ <b>|</b> <i>pattern</i> ] ... <b>)</b> <i>list</i>
    (<b>;;</b>| <b>;&amp;</b>|<b>;|</b>) ] ... <b>esac</b></dt>
  <dd class="It-tag">Execute the <i>list</i> associated with the first
      <i>pattern</i> that matches <i>word</i>, if any. The form of the patterns
      is the same as that used for filename generation. See the section
      `Filename Generation'.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If the <i>list</i> that is executed is terminated with <b>;&amp;</b> rather than
  <b>;;</b>, the following list is also executed. The rule for the terminator of
  the following list <b>;;</b>, <b>;&amp;</b> or <b>;|</b> is applied unless the
  <b>esac</b> is reached.
<div class="Pp"></div>
If the <i>list</i> that is executed is terminated with <b>;|</b> the shell
  continues to scan the <i>pattern</i>s looking for the next match, executing
  the corresponding <i>list</i>, and applying the rule for the corresponding
  terminator <b>;;</b>, <b>;&amp;</b> or <b>;|</b>. Note that <i>word</i> is not
  re-expanded; all applicable <i>pattern</i>s are tested with the same
  <i>word</i>.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select</b> <i>name</i> [ <b>in</b> <i>word</i> ...
    <i>term</i> ] <b>do</b> <i>list</i> <b>done</b></dt>
  <dd class="It-tag">where <i>term</i> is one or more newline or <b>;</b> to
      terminate the <i>word</i>s. Print the set of <i>word</i>s, each preceded
      by a number. If the <b>in</b> <i>word</i> is omitted, use the positional
      parameters. The <b>PROMPT3</b> prompt is printed and a line is read from
      the line editor if the shell is interactive and that is active, or else
      standard input. If this line consists of the number of one of the listed
      <i>word</i>s, then the parameter <i>name</i> is set to the <i>word</i>
      corresponding to this number. If this line is empty, the selection list is
      printed again. Otherwise, the value of the parameter <i>name</i> is set to
      null. The contents of the line read from standard input is saved in the
      parameter <b>REPLY</b>. <i>list</i> is executed for each selection until a
      break or end-of-file is encountered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(</b> <i>list</i> <b>)</b></dt>
  <dd class="It-tag">Execute <i>list</i> in a subshell. Traps set by the
      <b>trap</b> builtin are reset to their default values while executing
      <i>list</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{</b> <i>list</i> <b>}</b></dt>
  <dd class="It-tag">Execute <i>list</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>{</b> <i>try-list</i> <b>} always {</b>
    <i>always-list</i> <b>}</b></dt>
  <dd class="It-tag">First execute <i>try-list</i>. Regardless of errors, or
      <b>break</b>, <b>continue</b>, or <b>return</b> commands encountered
      within <i>try-list</i>, execute <i>always-list</i>. Execution then
      continues from the result of the execution of <i>try-list</i>; in other
      words, any error, or <b>break</b>, <b>continue</b>, or <b>return</b>
      command is treated in the normal way, as if <i>always-list</i> were not
      present. The two chunks of code are referred to as the `try block' and the
      `always block'.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
Optional newlines or semicolons may appear after the <b>always</b>; note,
  however, that they may <i>not</i> appear between the preceding closing brace
  and the <b>always</b>.
<div class="Pp"></div>
An `error' in this context is a condition such as a syntax error which causes
  the shell to abort execution of the current function, script, or list. Syntax
  errors encountered while the shell is parsing the code do not cause the
  <i>always-list</i> to be executed. For example, an erroneously constructed
  <b>if</b> block in <b>try-list</b> would cause the shell to abort during
  parsing, so that <b>always-list</b> would not be executed, while an erroneous
  substitution such as <b>${*foo*}</b> would cause a run-time error, after which
  <b>always-list</b> would be executed.
<div class="Pp"></div>
An error condition can be tested and reset with the special integer variable
  <b>TRY_BLOCK_ERROR</b>. Outside an <b>always-list</b> the value is irrelevant,
  but it is initialised to <b>-1</b>. Inside <b>always-list</b>, the value is 1
  if an error occurred in the <b>try-list</b>, else 0. If <b>TRY_BLOCK_ERROR</b>
  is set to 0 during the <b>always-list</b>, the error condition caused by the
  <b>try-list</b> is reset, and shell execution continues normally after the end
  of <b>always-list</b>. Altering the value during the <b>try-list</b> is not
  useful (unless this forms part of an enclosing <b>always</b> block).
<div class="Pp"></div>
Regardless of <b>TRY_BLOCK_ERROR</b>, after the end of <b>always-list</b> the
  normal shell status <b>$?</b> is the value returned from <b>always-list</b>.
  This will be non-zero if there was an error, even if <b>TRY_BLOCK_ERROR</b>
  was set to zero.
<div class="Pp"></div>
The following executes the given code, ignoring any errors it causes. This is an
  alternative to the usual convention of protecting code by executing it in a
  subshell.
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>{</b>
<b>    # code which may cause an error</b>
<b>  } always {</b>
<b>    # This code is executed regardless of the error.</b>
<b>    (( TRY_BLOCK_ERROR = 0 ))</b>
<b>}</b>
<b># The error condition has been reset.</b>
</pre>
</div>
<div class="Pp"></div>
An <b>exit</b> command (or a <b>return</b> command executed at the outermost
  function level of a script) encountered in <b>try-list</b> does <i>not</i>
  cause the execution of <i>always-list</i>. Instead, the shell exits
  immediately after any <b>EXIT</b> trap has been executed.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>function</b> <i>word</i> ... [ <b>()</b> ] [ <i>term</i>
    ] <b>{</b> <i>list</i> <b>}</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>word</i> ... <b>()</b> [ <i>term</i> ] <b>{</b>
    <i>list</i> <b>}</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>word</i> ... <b>()</b> [ <i>term</i> ]
    <i>command</i></dt>
  <dd class="It-tag">where <i>term</i> is one or more newline or <b>;</b>.
      Define a function which is referenced by any one of <i>word</i>. Normally,
      only one <i>word</i> is provided; multiple <i>word</i>s are usually only
      useful for setting traps. The body of the function is the <i>list</i>
      between the <b>{</b> and <b>}</b>. See the section `Functions'.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If the option <b>SH_GLOB</b> is set for compatibility with other shells, then
  whitespace may appear between between the left and right parentheses when
  there is a single <i>word</i>; otherwise, the parentheses will be treated as
  forming a globbing pattern in that case.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>time</b> [ <i>pipeline</i> ]</dt>
  <dd class="It-tag">The <i>pipeline</i> is executed, and timing statistics are
      reported on the standard error in the form specified by the <b>TIMEFMT</b>
      parameter. If <i>pipeline</i> is omitted, print statistics about the shell
      process and its children.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>[[</b> <i>exp</i> <b>]]</b></dt>
  <dd class="It-tag">Evaluates the conditional expression <i>exp</i> and return
      a zero exit status if it is true. See the section `Conditional
      Expressions' for a description of <i>exp</i>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ALTERNATE_FORMS_FOR_COMPLEX_COMMANDS"><a class="selflink" href="#ALTERNATE_FORMS_FOR_COMPLEX_COMMANDS">ALTERNATE
  FORMS FOR COMPLEX COMMANDS</a></h1>
Many of zsh's complex commands have alternate forms. These are non-standard and
  are likely not to be obvious even to seasoned shell programmers; they should
  not be used anywhere that portability of shell code is a concern.
<div class="Pp"></div>
The short versions below only work if <i>sublist</i> is of the form `<b>{</b>
  <i>list</i> <b>}</b>' or if the <b>SHORT_LOOPS</b> option is set. For the
  <b>if</b>, <b>while</b> and <b>until</b> commands, in both these cases the
  test part of the loop must also be suitably delimited, such as by ` <b>[[ ...
  ]]</b>' or ` <b>((</b> <b>... ))</b>', else the end of the test will not be
  recognized. For the <b>for</b>, <b>repeat</b>, <b>case</b> and <b>select</b>
  commands no such special form for the arguments is necessary, but the other
  condition (the special form of <i>sublist</i> or use of the <b>SHORT_LOOPS</b>
  option) still applies.
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>if</b> <i>list</i> <b>{</b> <i>list</i> <b>}</b> [
    <b>elif</b> <i>list</i> <b>{</b> <i>list</i> <b>}</b> ] ... [ <b>else {</b>
    <i>list</i> <b>}</b> ]</dt>
  <dd class="It-tag">An alternate form of <b>if</b>. The rules mean that</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>if [[ -o ignorebraces ]] {</b>
<b>  print yes</b>
<b>}</b>
</pre>
</div>
<div class="Pp"></div>
works, but
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>if true {  # Does not work!</b>
<b>  print yes</b>
<b>}</b>
<b></b>
</pre>
</div>
<div class="Pp"></div>
does <i>not</i>, since the test is not suitably delimited.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>if</b> <i>list</i> <i>sublist</i></dt>
  <dd class="It-tag">A short form of the alternate `if'. The same limitations on
      the form of <i>list</i> apply as for the previous form.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>for</b> <i>name</i> ... <b>(</b> <i>word</i> ...
    <b>)</b> <i>sublist</i></dt>
  <dd class="It-tag">A short form of <b>for</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>for</b> <i>name</i> ... [ <b>in</b> <i>word</i> ... ]
    <i>term</i> <i>sublist</i></dt>
  <dd class="It-tag">where <i>term</i> is at least one newline or <b>;</b>.
      Another short form of <b>for</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>for ((</b> [<i>expr1</i>] <b>;</b> [<i>expr2</i>]
    <b>;</b> [ <i>expr3</i>] <b>))</b> <i>sublist</i></dt>
  <dd class="It-tag">A short form of the arithmetic <b>for</b> command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>foreach</b> <i>name</i> ... <b>(</b> <i>word</i> ...
    <b>)</b> <i>list</i> <b>end</b></dt>
  <dd class="It-tag">Another form of <b>for</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>while</b> <i>list</i> <b>{</b> <i>list</i> <b>}</b></dt>
  <dd class="It-tag">An alternative form of <b>while</b>. Note the limitations
      on the form of <i>list</i> mentioned above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>until</b> <i>list</i> <b>{</b> <i>list</i> <b>}</b></dt>
  <dd class="It-tag">An alternative form of <b>until</b>. Note the limitations
      on the form of <i>list</i> mentioned above.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>repeat</b> <i>word</i> <i>sublist</i></dt>
  <dd class="It-tag">This is a short form of <b>repeat</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>case</b> <i>word</i> <b>{</b> [ [<b>(</b>]
    <i>pattern</i> [ <b>|</b> <i>pattern</i> ] ... <b>)</b> <i>list</i>
    (<b>;;</b>| <b>;&amp;</b>|<b>;|</b>) ] ... <b>}</b></dt>
  <dd class="It-tag">An alternative form of <b>case</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>select</b> <i>name</i> [ <b>in</b> <i>word</i>
    <i>term</i> ] <i>sublist</i></dt>
  <dd class="It-tag">where <i>term</i> is at least one newline or <b>;</b>. A
      short form of <b>select</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="RESERVED_WORDS"><a class="selflink" href="#RESERVED_WORDS">RESERVED
  WORDS</a></h1>
The following words are recognized as reserved words when used as the first word
  of a command unless quoted or disabled using <b>disable -r</b>:
<div class="Pp"></div>
<b>do done esac then elif else fi for case</b> <b>if while function repeat time
  until</b> <b>select coproc nocorrect foreach end ! [[ { }</b>
<div class="Pp"></div>
Additionally, ` <b>}</b>' is recognized in any position if neither the
  <b>IGNORE_BRACES</b> option nor the <b>IGNORE_CLOSE_BRACES</b> option is set.
<h1 class="Sh" title="Sh" id="ERRORS"><a class="selflink" href="#ERRORS">ERRORS</a></h1>
Certain errors are treated as fatal by the shell: in an interactive shell, they
  cause control to return to the command line, and in a non-interactive shell
  they cause the shell to be aborted. In older versions of zsh, a
  non-interactive shell running a script would not abort completely, but would
  resume execution at the next command to be read from the script, skipping the
  remainder of any functions or shell constructs such as loops or conditions;
  this somewhat illogical behaviour can be recovered by setting the option
  <b>CONTINUE_ON_ERROR</b>.
<div class="Pp"></div>
Fatal errors found in non-interactive shells include:
<dl class="Bl-tag">
  <dt class="It-tag">Failure to parse shell options passed when invoking the
    shell</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Failure to change options with the <b>set</b> builtin</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Parse errors of all sorts, including failures to parse</dt>
  <dd class="It-tag">mathematical expressions</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Failures to set or modify variable behaviour with
    <b>typeset</b>,</dt>
  <dd class="It-tag"><b>local</b>, <b>declare</b>, <b>export</b>,
      <b>integer</b>, <b>float</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Execution of incorrectly positioned loop control
    structures</dt>
  <dd class="It-tag">(<b>continue</b>, <b>break</b>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Attempts to use regular expression with no regular
    expression</dt>
  <dd class="It-tag">module available</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Disallowed operations when the <b>RESTRICTED</b> options is
    set</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Failure to create a pipe needed for a pipeline</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Failure to create a multio</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Failure to autoload a module needed for a declared shell
    feature</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Errors creating command or process substitutions</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Syntax errors in glob qualifiers</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">File generation errors where not caught by the option
    <b>BAD_PATTERN</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">All bad patterns used for matching within case
    statements</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">File generation failures where not caused by
    <b>NO_MATCH</b> or</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">All file generation errors where the pattern was used to
    create a</dt>
  <dd class="It-tag">multio</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Memory errors where detected by the shell</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Invalid subscripts to shell variables</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Attempts to assign read-only variables</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Logical errors with variables such as assignment to the
    wrong type</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Use of invalid variable names</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Errors in variable substitution syntax</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Failure to convert characters in <b>$'</b>...<b>'</b>
    expressions</dt>
  <dd class="It-tag">similar options</dd>
</dl>
<div class="Pp"></div>
If the <b>POSIX_BUILTINS</b> option is set, more errors associated with shell
  builtin commands are treated as fatal, as specified by the POSIX standard.
<h1 class="Sh" title="Sh" id="COMMENTS"><a class="selflink" href="#COMMENTS">COMMENTS</a></h1>
In non-interactive shells, or in interactive shells with the
  <b>INTERACTIVE_COMMENTS</b> option set, a word beginning with the third
  character of the <b>histchars</b> parameter (` <b>#</b>' by default) causes
  that word and all the following characters up to a newline to be ignored.
<h1 class="Sh" title="Sh" id="ALIASING"><a class="selflink" href="#ALIASING">ALIASING</a></h1>
Every token in the shell input is checked to see if there is an alias defined
  for it. If so, it is replaced by the text of the alias if it is in command
  position (if it could be the first word of a simple command), or if the alias
  is global. If the text ends with a space, the next word in the shell input is
  treated as though it were in command position for purposes of alias expansion.
  An alias is defined using the <b>alias</b> builtin; global aliases may be
  defined using the <b>-g</b> option to that builtin.
<div class="Pp"></div>
Alias expansion is done on the shell input before any other expansion except
  history expansion. Therefore, if an alias is defined for the word <b>foo</b>,
  alias expansion may be avoided by quoting part of the word, e.g. <b>\foo</b>.
  Any form of quoting works, although there is nothing to prevent an alias being
  defined for the quoted form such as <b>\foo</b> as well. For use with
  completion, which would remove an initial backslash followed by a character
  that isn't special, it may be more convenient to quote the word by starting
  with a single quote, i.e. <b>'foo</b>; completion will automatically add the
  trailing single quote.
<div class="Pp"></div>
There is a commonly encountered problem with aliases illustrated by the
  following code:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>alias echobar='echo bar'; echobar</b>
</pre>
</div>
<div class="Pp"></div>
This prints a message that the command <b>echobar</b> could not be found. This
  happens because aliases are expanded when the code is read in; the entire line
  is read in one go, so that when <b>echobar</b> is executed it is too late to
  expand the newly defined alias. This is often a problem in shell scripts,
  functions, and code executed with ` <b>source</b>' or ` <b>.</b>'.
  Consequently, use of functions rather than aliases is recommended in
  non-interactive code.
<div class="Pp"></div>
Note also the unhelpful interaction of aliases and function definitions:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>alias func='noglob func'</b>
<b>func() {</b>
<b>    echo Do something with $*</b>
<b>}</b>
</pre>
</div>
<div class="Pp"></div>
Because aliases are expanded in function definitions, this causes the following
  command to be executed:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>noglob func() {</b>
<b>    echo Do something with $*</b>
<b>}</b>
</pre>
</div>
<div class="Pp"></div>
which defines <b>noglob</b> as well as <b>func</b> as functions with the body
  given. To avoid this, either quote the name <b>func</b> or use the alternative
  function definition form ` <b>function func</b>'. Ensuring the alias is
  defined after the function works but is problematic if the code fragment might
  be re-executed.
<h1 class="Sh" title="Sh" id="QUOTING"><a class="selflink" href="#QUOTING">QUOTING</a></h1>
A character may be <i>quoted</i> (that is, made to stand for itself) by
  preceding it with a ` <b>\</b>'. ` <b>\</b>' followed by a newline is ignored.
<div class="Pp"></div>
A string enclosed between ` <b>$'</b>' and `<b>'</b>' is processed the same way
  as the string arguments of the <b>print</b> builtin, and the resulting string
  is considered to be entirely quoted. A literal ` <b>'</b>' character can be
  included in the string by using the ` <b>\'</b>' escape.
<div class="Pp"></div>
All characters enclosed between a pair of single quotes ( <b>''</b>) that is not
  preceded by a ` <b>$</b>' are quoted. A single quote cannot appear within
  single quotes unless the option <b>RC_QUOTES</b> is set, in which case a pair
  of single quotes are turned into a single quote. For example,
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>print ''''</b>
</pre>
</div>
<div class="Pp"></div>
outputs nothing apart from a newline if <b>RC_QUOTES</b> is not set, but one
  single quote if it is set.
<div class="Pp"></div>
Inside double quotes ( <b>&quot;&quot;</b>), parameter and command substitution
  occur, and ` <b>\</b>' quotes the characters ` <b>\</b>', `<b>`</b>',
  `<b>&quot;</b>', and ` <b>$</b>'.
<h1 class="Sh" title="Sh" id="REDIRECTION"><a class="selflink" href="#REDIRECTION">REDIRECTION</a></h1>
If a command is followed by <b>&amp;</b> and job control is not active, then the
  default standard input for the command is the empty file <b>/dev/null</b>.
  Otherwise, the environment for the execution of a command contains the file
  descriptors of the invoking shell as modified by input/output specifications.
<div class="Pp"></div>
The following may appear anywhere in a simple command or may precede or follow a
  complex command. Expansion occurs before <i>word</i> or <i>digit</i> is used
  except as noted below. If the result of substitution on <i>word</i> produces
  more than one filename, redirection occurs for each separate filename in turn.
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;</b> <i>word</i></dt>
  <dd class="It-tag">Open file <i>word</i> for reading as standard input.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&gt;</b> <i>word</i></dt>
  <dd class="It-tag">Open file <i>word</i> for reading and writing as standard
      input. If the file does not exist then it is created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;</b> <i>word</i></dt>
  <dd class="It-tag">Open file <i>word</i> for writing as standard output. If
      the file does not exist then it is created. If the file exists, and the
      <b>CLOBBER</b> option is unset, this causes an error; otherwise, it is
      truncated to zero length.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;|</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;!</b> <i>word</i></dt>
  <dd class="It-tag">Same as <b>&gt;</b>, except that the file is truncated to
      zero length if it exists, even if <b>CLOBBER</b> is unset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&gt;</b> <i>word</i></dt>
  <dd class="It-tag">Open file <i>word</i> for writing in append mode as
      standard output. If the file does not exist, and the <b>CLOBBER</b> option
      is unset, this causes an error; otherwise, the file is created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&gt;|</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&gt;!</b> <i>word</i></dt>
  <dd class="It-tag">Same as <b>&gt;&gt;</b>, except that the file is created if
      it does not exist, even if <b>CLOBBER</b> is unset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&lt;</b>[<b>-</b>] <i>word</i></dt>
  <dd class="It-tag">The shell input is read up to a line that is the same as
      <i>word</i>, or to an end-of-file. No parameter expansion, command
      substitution or filename generation is performed on <i>word</i>. The
      resulting document, called a <i>here-document</i>, becomes the standard
      input.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If any character of <i>word</i> is quoted with single or double quotes or a `
  <b>\</b>', no interpretation is placed upon the characters of the document.
  Otherwise, parameter and command substitution occurs, ` <b>\</b>' followed by
  a newline is removed, and ` <b>\</b>' must be used to quote the characters `
  <b>\</b>', `<b>$</b>', `<b>`</b>' and the first character of <i>word</i>.
<div class="Pp"></div>
Note that <i>word</i> itself does not undergo shell expansion. Backquotes in
  <i>word</i> do not have their usual effect; instead they behave similarly to
  double quotes, except that the backquotes themselves are passed through
  unchanged. (This information is given for completeness and it is not
  recommended that backquotes be used.) Quotes in the form
  <b>$'</b><i>...</i><b>'</b> have their standard effect of expanding
  backslashed references to special characters.
<div class="Pp"></div>
If <b>&lt;&lt;-</b> is used, then all leading tabs are stripped from <i>word</i>
  and from the document.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&lt;&lt;</b> <i>word</i></dt>
  <dd class="It-tag">Perform shell expansion on <i>word</i> and pass the result
      to standard input. This is known as a <i>here-string</i>. Compare the use
      of <i>word</i> in here-documents above, where <i>word</i> does not undergo
      shell expansion.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&amp;</b> <i>number</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&amp;</b> <i>number</i></dt>
  <dd class="It-tag">The standard input/output is duplicated from file
      descriptor <i>number</i> (see <i>dup2</i>(2)).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&amp; -</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&amp; -</b></dt>
  <dd class="It-tag">Close the standard input/output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&amp; p</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&amp; p</b></dt>
  <dd class="It-tag">The input/output from/to the coprocess is moved to the
      standard input/output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&amp;</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&gt;</b> <i>word</i></dt>
  <dd class="It-tag">(Except where `<b>&gt;&amp;</b> <i>word</i>' matches one of
      the above syntaxes; ` <b>&amp;&gt;</b>' can always be used to avoid this
      ambiguity.) Redirects both standard output and standard error (file
      descriptor 2) in the manner of ` <b>&gt;</b> <i>word</i>'. Note that this
      does <i>not</i> have the same effect as `<b>&gt;</b> <i>word</i>
      <b>2&gt;&amp;1</b>' in the presence of multios (see the section
    below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&amp;|</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&amp;!</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&gt;|</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&gt;!</b> <i>word</i></dt>
  <dd class="It-tag">Redirects both standard output and standard error (file
      descriptor 2) in the manner of ` <b>&gt;|</b> <i>word</i>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&gt;&amp;</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&gt;&gt;</b> <i>word</i></dt>
  <dd class="It-tag">Redirects both standard output and standard error (file
      descriptor 2) in the manner of ` <b>&gt;&gt;</b> <i>word</i>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&gt;&amp;|</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&gt;&gt;&amp;!</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&gt;&gt;|</b> <i>word</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&gt;&gt;!</b> <i>word</i></dt>
  <dd class="It-tag">Redirects both standard output and standard error (file
      descriptor 2) in the manner of ` <b>&gt;&gt;|</b> <i>word</i>'.</dd>
</dl>
<div class="Pp"></div>
If one of the above is preceded by a digit, then the file descriptor referred to
  is that specified by the digit instead of the default 0 or 1. The order in
  which redirections are specified is significant. The shell evaluates each
  redirection in terms of the ( <i>file descriptor</i>, <i>file</i>) association
  at the time of evaluation. For example:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
...  <b>1&gt;</b><i>fname</i> <b>2&gt;&amp;1</b>
</pre>
</div>
<div class="Pp"></div>
first associates file descriptor 1 with file <i>fname</i>. It then associates
  file descriptor 2 with the file associated with file descriptor 1 (that is,
  <i>fname</i>). If the order of redirections were reversed, file descriptor 2
  would be associated with the terminal (assuming file descriptor 1 had been)
  and then file descriptor 1 would be associated with file <i>fname</i>.
<div class="Pp"></div>
The ` <b>|&amp;</b>' command separator described in <i>Simple Commands &amp;
  Pipelines</i> in <i>zshmisc</i>(1) is a shorthand for ` <b>2&gt;&amp;1 |</b>'.
<div class="Pp"></div>
The various forms of process substitution, ` <b>&lt;(</b><i>list</i><b>)</b>',
  and ` <b>=(</b><i>list</i>())' for input and `
  <b>&gt;(</b><i>list</i><b>)</b>' for output, are often used together with
  redirection. For example, if <i>word</i> in an output redirection is of the
  form ` <b>&gt;(</b><i>list</i><b>)</b>' then the output is piped to the
  command represented by <i>list</i>. See <i>Process Substitution</i> in
  <i>zshexpn</i>(1).
<h1 class="Sh" title="Sh" id="OPENING_FILE_DESCRIPTORS_USING_PARAMETERS"><a class="selflink" href="#OPENING_FILE_DESCRIPTORS_USING_PARAMETERS">OPENING
  FILE DESCRIPTORS USING PARAMETERS</a></h1>
When the shell is parsing arguments to a command, and the shell option
  <b>IGNORE_BRACES</b> is not set, a different form of redirection is allowed:
  instead of a digit before the operator there is a valid shell identifier
  enclosed in braces. The shell will open a new file descriptor that is
  guaranteed to be at least 10 and set the parameter named by the identifier to
  the file descriptor opened. No whitespace is allowed between the closing brace
  and the redirection character. For example:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
... {myfd}&gt;&amp;1
</pre>
</div>
<div class="Pp"></div>
This opens a new file descriptor that is a duplicate of file descriptor 1 and
  sets the parameter <b>myfd</b> to the number of the file descriptor, which
  will be at least 10. The new file descriptor can be written to using the
  syntax <b>&gt;&amp;$myfd</b>.
<div class="Pp"></div>
The syntax <b>{</b><i>varid</i><b>}&gt;&amp;-</b>, for example
  <b>{myfd}&gt;&amp;-</b>, may be used to close a file descriptor opened in this
  fashion. Note that the parameter given by <i>varid</i> must previously be set
  to a file descriptor in this case.
<div class="Pp"></div>
It is an error to open or close a file descriptor in this fashion when the
  parameter is readonly. However, it is not an error to read or write a file
  descriptor using <b>&lt;&amp;$</b><i>param</i> or
  <b>&gt;&amp;$</b><i>param</i> if <i>param</i> is readonly.
<div class="Pp"></div>
If the option <b>CLOBBER</b> is unset, it is an error to open a file descriptor
  using a parameter that is already set to an open file descriptor previously
  allocated by this mechanism. Unsetting the parameter before using it for
  allocating a file descriptor avoids the error.
<div class="Pp"></div>
Note that this mechanism merely allocates or closes a file descriptor; it does
  not perform any redirections from or to it. It is usually convenient to
  allocate a file descriptor prior to use as an argument to <b>exec</b>. The
  syntax does not in any case work when used around complex commands such as
  parenthesised subshells or loops, where the opening brace is interpreted as
  part of a command list to be executed in the current shell.
<div class="Pp"></div>
The following shows a typical sequence of allocation, use, and closing of a file
  descriptor:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>integer myfd</b>
<b>exec {myfd}&gt;~/logs/mylogfile.txt</b>
<b>print This is a log message. &gt;&amp;$myfd</b>
<b>exec {myfd}&gt;&amp;-</b>
</pre>
</div>
<div class="Pp"></div>
Note that the expansion of the variable in the expression <b>&gt;&amp;$myfd</b>
  occurs at the point the redirection is opened. This is after the expansion of
  command arguments and after any redirections to the left on the command line
  have been processed.
<h1 class="Sh" title="Sh" id="MULTIOS"><a class="selflink" href="#MULTIOS">MULTIOS</a></h1>
If the user tries to open a file descriptor for writing more than once, the
  shell opens the file descriptor as a pipe to a process that copies its input
  to all the specified outputs, similar to <b>tee</b>, provided the
  <b>MULTIOS</b> option is set, as it is by default. Thus:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>date &gt;foo &gt;bar</b>
</pre>
</div>
<div class="Pp"></div>
writes the date to two files, named ` <b>foo</b>' and `<b>bar</b>'. Note that a
  pipe is an implicit redirection; thus
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>date &gt;foo | cat</b>
</pre>
</div>
<div class="Pp"></div>
writes the date to the file ` <b>foo</b>', and also pipes it to cat.
<div class="Pp"></div>
If the <b>MULTIOS</b> option is set, the word after a redirection operator is
  also subjected to filename generation (globbing). Thus
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>: &gt; *</b>
</pre>
</div>
<div class="Pp"></div>
will truncate all files in the current directory, assuming there's at least one.
  (Without the <b>MULTIOS</b> option, it would create an empty file called `
  <b>*</b>'.) Similarly, you can do
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>echo exit 0 &gt;&gt; *.sh</b>
</pre>
</div>
<div class="Pp"></div>
If the user tries to open a file descriptor for reading more than once, the
  shell opens the file descriptor as a pipe to a process that copies all the
  specified inputs to its output in the order specified, similar to <b>cat</b>,
  provided the <b>MULTIOS</b> option is set. Thus
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>sort &lt;foo &lt;fubar</b>
</pre>
</div>
<div class="Pp"></div>
or even
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>sort &lt;f{oo,ubar}</b>
</pre>
</div>
<div class="Pp"></div>
is equivalent to ` <b>cat foo fubar | sort</b>'.
<div class="Pp"></div>
Expansion of the redirection argument occurs at the point the redirection is
  opened, at the point described above for the expansion of the variable in
  <b>&gt;&amp;$myfd</b>.
<div class="Pp"></div>
Note that a pipe is an implicit redirection; thus
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>cat bar | sort &lt;foo</b>
</pre>
</div>
<div class="Pp"></div>
is equivalent to ` <b>cat bar foo | sort</b>' (note the order of the inputs).
<div class="Pp"></div>
If the <b>MULTIOS</b> option is <i>un</i>set, each redirection replaces the
  previous redirection for that file descriptor. However, all files redirected
  to are actually opened, so
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>echo foo &gt; bar &gt; baz</b>
</pre>
</div>
<div class="Pp"></div>
when <b>MULTIOS</b> is unset will truncate bar, and write `<b>foo</b>' into baz.
<div class="Pp"></div>
There is a problem when an output multio is attached to an external program. A
  simple example shows this:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>cat file &gt;file1 &gt;file2</b>
<b>cat file1 file2</b>
</pre>
</div>
<div class="Pp"></div>
Here, it is possible that the second ` <b>cat</b>' will not display the full
  contents of <b>file1</b> and <b>file2</b> (i.e. the original contents of
  <b>file</b> repeated twice).
<div class="Pp"></div>
The reason for this is that the multios are spawned after the <b>cat</b> process
  is forked from the parent shell, so the parent shell does not wait for the
  multios to finish writing data. This means the command as shown can exit
  before <b>file1</b> and <b>file2</b> are completely written. As a workaround,
  it is possible to run the <b>cat</b> process as part of a job in the current
  shell:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>{ cat file } &gt;file &gt;file2</b>
</pre>
</div>
<div class="Pp"></div>
Here, the <b>{</b><i>...</i><b>}</b> job will pause to wait for both files to be
  written.
<h1 class="Sh" title="Sh" id="REDIRECTIONS_WITH_NO_COMMAND"><a class="selflink" href="#REDIRECTIONS_WITH_NO_COMMAND">REDIRECTIONS
  WITH NO COMMAND</a></h1>
When a simple command consists of one or more redirection operators and zero or
  more parameter assignments, but no command name, zsh can behave in several
  ways.
<div class="Pp"></div>
If the parameter <b>NULLCMD</b> is not set or the option <b>CSH_NULLCMD</b> is
  set, an error is caused. This is the <b>csh</b> behavior and
  <b>CSH_NULLCMD</b> is set by default when emulating <b>csh</b>.
<div class="Pp"></div>
If the option <b>SH_NULLCMD</b> is set, the builtin `<b>:</b>' is inserted as a
  command with the given redirections. This is the default when emulating
  <b>sh</b> or <b>ksh</b>.
<div class="Pp"></div>
Otherwise, if the parameter <b>NULLCMD</b> is set, its value will be used as a
  command with the given redirections. If both <b>NULLCMD</b> and
  <b>READNULLCMD</b> are set, then the value of the latter will be used instead
  of that of the former when the redirection is an input. The default for
  <b>NULLCMD</b> is ` <b>cat</b>' and for <b>READNULLCMD</b> is `<b>more</b>'.
  Thus
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>&lt; file</b>
</pre>
</div>
<div class="Pp"></div>
shows the contents of <b>file</b> on standard output, with paging if that is a
  terminal. <b>NULLCMD</b> and <b>READNULLCMD</b> may refer to shell functions.
<h1 class="Sh" title="Sh" id="COMMAND_EXECUTION"><a class="selflink" href="#COMMAND_EXECUTION">COMMAND
  EXECUTION</a></h1>
If a command name contains no slashes, the shell attempts to locate it. If there
  exists a shell function by that name, the function is invoked as described in
  the section `Functions'. If there exists a shell builtin by that name, the
  builtin is invoked.
<div class="Pp"></div>
Otherwise, the shell searches each element of <b>$path</b> for a directory
  containing an executable file by that name. If the search is unsuccessful, the
  shell prints an error message and returns a nonzero exit status.
<div class="Pp"></div>
If execution fails because the file is not in executable format, and the file is
  not a directory, it is assumed to be a shell script. <b>/bin/sh</b> is spawned
  to execute it. If the program is a file beginning with ` <b>#!</b>', the
  remainder of the first line specifies an interpreter for the program. The
  shell will execute the specified interpreter on operating systems that do not
  handle this executable format in the kernel.
<div class="Pp"></div>
If no external command is found but a function <b>command_not_found_handler</b>
  exists the shell executes this function with all command line arguments. The
  function should return status zero if it successfully handled the command, or
  non-zero status if it failed. In the latter case the standard handling is
  applied: `command not found' is printed to standard error and the shell exits
  with status 127. Note that the handler is executed in a subshell forked to
  execute an external command, hence changes to directories, shell parameters,
  etc. have no effect on the main shell.
<h1 class="Sh" title="Sh" id="FUNCTIONS"><a class="selflink" href="#FUNCTIONS">FUNCTIONS</a></h1>
Shell functions are defined with the <b>function</b> reserved word or the
  special syntax ` <i>funcname</i> <b>()</b>'. Shell functions are read in and
  stored internally. Alias names are resolved when the function is read.
  Functions are executed like commands with the arguments passed as positional
  parameters. (See the section `Command Execution'.)
<div class="Pp"></div>
Functions execute in the same process as the caller and share all files and
  present working directory with the caller. A trap on <b>EXIT</b> set inside a
  function is executed after the function completes in the environment of the
  caller.
<div class="Pp"></div>
The <b>return</b> builtin is used to return from function calls.
<div class="Pp"></div>
Function identifiers can be listed with the <b>functions</b> builtin. Functions
  can be undefined with the <b>unfunction</b> builtin.
<h1 class="Sh" title="Sh" id="AUTOLOADING_FUNCTIONS"><a class="selflink" href="#AUTOLOADING_FUNCTIONS">AUTOLOADING
  FUNCTIONS</a></h1>
A function can be marked as <i>undefined</i> using the <b>autoload</b> builtin
  (or ` <b>functions -u</b>' or `<b>typeset -fu</b>'). Such a function has no
  body. When the function is first executed, the shell searches for its
  definition using the elements of the <b>fpath</b> variable. Thus to define
  functions for autoloading, a typical sequence is:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>fpath=(~/myfuncs $fpath)</b>
<b>autoload myfunc1 myfunc2 ...</b>
</pre>
</div>
<div class="Pp"></div>
The usual alias expansion during reading will be suppressed if the
  <b>autoload</b> builtin or its equivalent is given the option <b>-U</b>. This
  is recommended for the use of functions supplied with the zsh distribution.
  Note that for functions precompiled with the <b>zcompile</b> builtin command
  the flag <b>-U</b> must be provided when the <b>.zwc</b> file is created, as
  the corresponding information is compiled into the latter.
<div class="Pp"></div>
For each <i>element</i> in <b>fpath</b>, the shell looks for three possible
  files, the newest of which is used to load the definition for the function:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>element</i><b>.zwc</b></dt>
  <dd class="It-tag">A file created with the <b>zcompile</b> builtin command,
      which is expected to contain the definitions for all functions in the
      directory named <i>element</i>. The file is treated in the same manner as
      a directory containing files for functions and is searched for the
      definition of the function. If the definition is not found, the search for
      a definition proceeds with the other two possibilities described
    below.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If <i>element</i> already includes a <b>.zwc</b> extension (i.e. the extension
  was explicitly given by the user), <i>element</i> is searched for the
  definition of the function without comparing its age to that of other files;
  in fact, there does not need to be any directory named <i>element</i> without
  the suffix. Thus including an element such as ` <b>/usr/local/funcs.zwc</b>'
  in <b>fpath</b> will speed up the search for functions, with the disadvantage
  that functions included must be explicitly recompiled by hand before the shell
  notices any changes.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>element</i><b>/</b><i>function</i><b>.zwc</b></dt>
  <dd class="It-tag">A file created with <b>zcompile</b>, which is expected to
      contain the definition for <i>function</i>. It may include other function
      definitions as well, but those are neither loaded nor executed; a file
      found in this way is searched <i>only</i> for the definition of
      <i>function</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>element</i><b>/</b><i>function</i></dt>
  <dd class="It-tag">A file of zsh command text, taken to be the definition for
      <i>function</i>.</dd>
</dl>
<div class="Pp"></div>
In summary, the order of searching is, first, in the <i>parents of</i>
  directories in <b>fpath</b> for the newer of either a compiled directory or a
  directory in <b>fpath</b>; second, if more than one of these contains a
  definition for the function that is sought, the leftmost in the <b>fpath</b>
  is chosen; and third, within a directory, the newer of either a compiled
  function or an ordinary function definition is used.
<div class="Pp"></div>
If the <b>KSH_AUTOLOAD</b> option is set, or the file contains only a simple
  definition of the function, the file's contents will be executed. This will
  normally define the function in question, but may also perform initialization,
  which is executed in the context of the function execution, and may therefore
  define local parameters. It is an error if the function is not defined by
  loading the file.
<div class="Pp"></div>
Otherwise, the function body (with no surrounding ` <i>funcname</i><b>()</b>
  <b>{</b> <i>...</i><b>}</b>') is taken to be the complete contents of the
  file. This form allows the file to be used directly as an executable shell
  script. If processing of the file results in the function being re-defined,
  the function itself is not re-executed. To force the shell to perform
  initialization and then call the function defined, the file should contain
  initialization code (which will be executed then discarded) in addition to a
  complete function definition (which will be retained for subsequent calls to
  the function), and a call to the shell function, including any arguments, at
  the end.
<div class="Pp"></div>
For example, suppose the autoload file <b>func</b> contains
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>func() { print This is func; }</b>
<b>print func is initialized</b>
<b></b>
</pre>
</div>
<div class="Pp"></div>
then ` <b>func; func</b>' with <b>KSH_AUTOLOAD</b> set will produce both
  messages on the first call, but only the message ` <b>This is func</b>' on the
  second and subsequent calls. Without <b>KSH_AUTOLOAD</b> set, it will produce
  the initialization message on the first call, and the other message on the
  second and subsequent calls.
<div class="Pp"></div>
It is also possible to create a function that is not marked as autoloaded, but
  which loads its own definition by searching <b>fpath</b>, by using `
  <b>autoload -X</b>' within a shell function. For example, the following are
  equivalent:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>myfunc() {</b>
<b>  autoload -X</b>
<b>}</b>
<b>myfunc args...</b>
</pre>
</div>
<div class="Pp"></div>
and
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>unfunction myfunc   # if myfunc was defined</b>
<b>autoload myfunc</b>
<b>myfunc args...</b>
</pre>
</div>
<div class="Pp"></div>
In fact, the <b>functions</b> command outputs `<b>builtin autoload -X</b>' as
  the body of an autoloaded function. This is done so that
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>eval &quot;$(functions)&quot;</b>
</pre>
</div>
<div class="Pp"></div>
produces a reasonable result. A true autoloaded function can be identified by
  the presence of the comment ` <b># undefined</b>' in the body, because all
  comments are discarded from defined functions.
<div class="Pp"></div>
To load the definition of an autoloaded function <b>myfunc</b> without executing
  <b>myfunc</b>, use:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>autoload +X myfunc</b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="ANONYMOUS_FUNCTIONS"><a class="selflink" href="#ANONYMOUS_FUNCTIONS">ANONYMOUS
  FUNCTIONS</a></h1>
If no name is given for a function, it is `anonymous' and is handled specially.
  Either form of function definition may be used: a ` <b>()</b>' with no
  preceding name, or a ` <b>function</b>' with an immediately following open
  brace. The function is executed immediately at the point of definition and is
  not stored for future use. The function name is set to ` <b>(anon)</b>'.
<div class="Pp"></div>
Arguments to the function may be specified as words following the closing brace
  defining the function, hence if there are none no arguments (other than
  <b>$0</b>) are set. This is a difference from the way other functions are
  parsed: normal function definitions may be followed by certain keywords such
  as ` <b>else</b>' or `<b>fi</b>', which will be treated as arguments to
  anonymous functions, so that a newline or semicolon is needed to force keyword
  interpretation.
<div class="Pp"></div>
Note also that the argument list of any enclosing script or function is hidden
  (as would be the case for any other function called at this point).
<div class="Pp"></div>
Redirections may be applied to the anonymous function in the same manner as to a
  current-shell structure enclosed in braces. The main use of anonymous
  functions is to provide a scope for local variables. This is particularly
  convenient in start-up files as these do not provide their own local variable
  scope.
<div class="Pp"></div>
For example,
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>variable=outside</b>
<b>function {</b>
<b>  local variable=inside</b>
<b>  print &quot;I am $variable with arguments $*&quot;</b>
<b>} this and that</b>
<b>print &quot;I am $variable&quot;</b>
</pre>
</div>
<div class="Pp"></div>
outputs the following:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>I am inside with arguments this and that</b>
<b>I am outside</b>
</pre>
</div>
<div class="Pp"></div>
Note that function definitions with arguments that expand to nothing, for
  example ` <b>name=; function $name { </b><i>...</i><b> }</b>', are not treated
  as anonymous functions. Instead, they are treated as normal function
  definitions where the definition is silently discarded.
<h1 class="Sh" title="Sh" id="SPECIAL_FUNCTIONS"><a class="selflink" href="#SPECIAL_FUNCTIONS">SPECIAL
  FUNCTIONS</a></h1>
Certain functions, if defined, have special meaning to the shell.
<h2 class="Ss" title="Ss" id="Hook_Functions"><a class="selflink" href="#Hook_Functions">Hook
  Functions</a></h2>
For the functions below, it is possible to define an array that has the same
  name as the function with ` <b>_functions</b>' appended. Any element in such
  an array is taken as the name of a function to execute; it is executed in the
  same context and with the same arguments as the basic function. For example,
  if <b>$chpwd_functions</b> is an array containing the values `
  <b>mychpwd</b>', ` <b>chpwd_save_dirstack</b>', then the shell attempts to
  execute the functions ` <b>chpwd</b>', `<b>mychpwd</b>' and `
  <b>chpwd_save_dirstack</b>', in that order. Any function that does not exist
  is silently ignored. A function found by this mechanism is referred to
  elsewhere as a `hook function'. An error in any function causes subsequent
  functions not to be run. Note further that an error in a <b>precmd</b> hook
  causes an immediately following <b>periodic</b> function not to run (though it
  may run at the next opportunity).
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>chpwd</b></dt>
  <dd class="It-tag">Executed whenever the current working directory is
    changed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>periodic</b></dt>
  <dd class="It-tag">If the parameter <b>PERIOD</b> is set, this function is
      executed every <b>$PERIOD</b> seconds, just before a prompt. Note that if
      multiple functions are defined using the array <b>periodic_functions</b>
      only one period is applied to the complete set of functions, and the
      scheduled time is not reset if the list of functions is altered. Hence the
      set of functions is always called together.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>precmd</b></dt>
  <dd class="It-tag">Executed before each prompt. Note that precommand functions
      are not re-executed simply because the command line is redrawn, as
      happens, for example, when a notification about an exiting job is
      displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>preexec</b></dt>
  <dd class="It-tag">Executed just after a command has been read and is about to
      be executed. If the history mechanism is active (and the line was not
      discarded from the history buffer), the string that the user typed is
      passed as the first argument, otherwise it is an empty string. The actual
      command that will be executed (including expanded aliases) is passed in
      two different forms: the second argument is a single-line, size-limited
      version of the command (with things like function bodies elided); the
      third argument contains the full text that is being executed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zshaddhistory</b></dt>
  <dd class="It-tag">Executed when a history line has been read interactively,
      but before it is executed. The sole argument is the complete history line
      (so that any terminating newline will still be present).</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If any of the hook functions return a non-zero value the history line will not
  be saved, although it lingers in the history until the next line is executed
  allow you to reuse or edit it immediately.
<div class="Pp"></div>
A hook function may call ` <b>fc -p</b> <i>...</i>' to switch the history
  context so that the history is saved in a different file from the that in the
  global <b>HISTFILE</b> parameter. This is handled specially: the history
  context is automatically restored after the processing of the history line is
  finished.
<div class="Pp"></div>
The following example function first adds the history line to the normal history
  with the newline stripped, which is usually the correct behaviour. Then it
  switches the history context so that the line will be written to a history
  file in the current directory.
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>zshaddhistory() {</b>
<b>  print -sr -- ${1%%$'\n'}</b>
<b>  fc -p .zsh_local_history</b>
<b>}</b>
</pre>
</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zshexit</b></dt>
  <dd class="It-tag">Executed at the point where the main shell is about to exit
      normally. This is not called by exiting subshells, nor when the
      <b>exec</b> precommand modifier is used before an external command. Also,
      unlike <b>TRAPEXIT</b>, it is not called when functions exit.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Trap_Functions"><a class="selflink" href="#Trap_Functions">Trap
  Functions</a></h2>
The functions below are treated specially but do not have corresponding hook
  arrays.
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TRAP</b><i>NAL</i></dt>
  <dd class="It-tag">If defined and non-null, this function will be executed
      whenever the shell catches a signal <b>SIG</b><i>NAL</i>, where <i>NAL</i>
      is a signal name as specified for the <b>kill</b> builtin. The signal
      number will be passed as the first parameter to the function.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If a function of this form is defined and null, the shell and processes spawned
  by it will ignore <b>SIG</b><i>NAL</i>.
<div class="Pp"></div>
The return status from the function is handled specially. If it is zero, the
  signal is assumed to have been handled, and execution continues normally.
  Otherwise, the shell will behave as interrupted except that the return status
  of the trap is retained.
<div class="Pp"></div>
Programs terminated by uncaught signals typically return the status 128 plus the
  signal number. Hence the following causes the handler for <b>SIGINT</b> to
  print a message, then mimic the usual effect of the signal.
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>TRAPINT() {</b>
<b>  print &quot;Caught SIGINT, aborting.&quot;</b>
<b>  return $(( 128 + $1 ))</b>
<b>}</b>
</pre>
</div>
<div class="Pp"></div>
The functions <b>TRAPZERR</b>, <b>TRAPDEBUG</b> and <b>TRAPEXIT</b> are never
  executed inside other traps.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TRAPDEBUG</b></dt>
  <dd class="It-tag">If the option <b>DEBUG_BEFORE_CMD</b> is set (as it is by
      default), executed before each command; otherwise executed after each
      command. See the description of the <b>trap</b> builtin in
      <i>zshbuiltins</i>(1) for details of additional features provided in debug
      traps.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TRAPEXIT</b></dt>
  <dd class="It-tag">Executed when the shell exits, or when the current function
      exits if defined inside a function. The value of <b>$?</b> at the start of
      execution is the exit status of the shell or the return status of the
      function exiting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TRAPZERR</b></dt>
  <dd class="It-tag">Executed whenever a command has a non-zero exit status.
      However, the function is not executed if the command occurred in a sublist
      followed by ` <b>&amp;&amp;</b>' or `<b>||</b>'; only the final command in
      a sublist of this type causes the trap to be executed. The function
      <b>TRAPERR</b> acts the same as <b>TRAPZERR</b> on systems where there is
      no <b>SIGERR</b> (this is the usual case).</dd>
</dl>
<div class="Pp"></div>
The functions beginning ` <b>TRAP</b>' may alternatively be defined with the
  <b>trap</b> builtin: this may be preferable for some uses. Setting a trap with
  one form removes any trap of the other form for the same signal; removing a
  trap in either form removes all traps for the same signal. The forms
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>TRAPNAL() { </b>
<b> # code</b>
<b>}</b>
</pre>
</div>
<div class="Pp"></div>
('function traps') and
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>trap '</b>
<b> # code</b>
<b>' NAL</b>
</pre>
</div>
<div class="Pp"></div>
('list traps') are equivalent in most ways, the exceptions being the following:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Function traps have all the properties of normal functions,
      appearing in the list of functions and being called with their own
      function context rather than the context where the trap was
    triggered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The return status from function traps is special, whereas a
      return from a list trap causes the surrounding context to return with the
      given status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Function traps are not reset within subshells, in
      accordance with zsh behaviour; list traps are reset, in accordance with
      POSIX behaviour.</dd>
</dl>
<h1 class="Sh" title="Sh" id="JOBS"><a class="selflink" href="#JOBS">JOBS</a></h1>
If the <b>MONITOR</b> option is set, an interactive shell associates a
  <i>job</i> with each pipeline. It keeps a table of current jobs, printed by
  the <b>jobs</b> command, and assigns them small integer numbers. When a job is
  started asynchronously with ` <b>&amp;</b>', the shell prints a line to
  standard error which looks like:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>[1] 1234</b>
</pre>
</div>
<div class="Pp"></div>
indicating that the job which was started asynchronously was job number 1 and
  had one (top-level) process, whose process ID was 1234.
<div class="Pp"></div>
If a job is started with ` <b>&amp;|</b>' or `<b>&amp;!</b>', then that job is
  immediately disowned. After startup, it does not have a place in the job
  table, and is not subject to the job control features described here.
<div class="Pp"></div>
If you are running a job and wish to do something else you may hit the key ^Z
  (control-Z) which sends a <b>TSTP</b> signal to the current job: this key may
  be redefined by the <b>susp</b> option of the external <b>stty</b> command.
  The shell will then normally indicate that the job has been `suspended', and
  print another prompt. You can then manipulate the state of this job, putting
  it in the background with the <b>bg</b> command, or run some other commands
  and then eventually bring the job back into the foreground with the foreground
  command <b>fg</b>. A ^Z takes effect immediately and is like an interrupt in
  that pending output and unread input are discarded when it is typed.
<div class="Pp"></div>
A job being run in the background will suspend if it tries to read from the
  terminal.
<div class="Pp"></div>
Note that if the job running in the foreground is a shell function, then
  suspending it will have the effect of causing the shell to fork. This is
  necessary to separate the function's state from that of the parent shell
  performing the job control, so that the latter can return to the command line
  prompt. As a result, even if <b>fg</b> is used to continue the job the
  function will no longer be part of the parent shell, and any variables set by
  the function will not be visible in the parent shell. Thus the behaviour is
  different from the case where the function was never suspended. Zsh is
  different from many other shells in this regard.
<div class="Pp"></div>
The same behaviour is found when the shell is executing code as the right hand
  side of a pipeline or any complex shell construct such as <b>if</b>,
  <b>for</b>, etc., in order that the entire block of code can be managed as a
  single job. Background jobs are normally allowed to produce output, but this
  can be disabled by giving the command ` <b>stty tostop</b>'. If you set this
  tty option, then background jobs will suspend when they try to produce output
  like they do when they try to read input.
<div class="Pp"></div>
When a command is suspended and continued later with the <b>fg</b> or
  <b>wait</b> builtins, zsh restores tty modes that were in effect when it was
  suspended. This (intentionally) does not apply if the command is continued via
  ` <b>kill -CONT</b>', nor when it is continued with <b>bg</b>.
<div class="Pp"></div>
There are several ways to refer to jobs in the shell. A job can be referred to
  by the process ID of any process of the job or by one of the following:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%</b><i>number</i></dt>
  <dd class="It-tag">The job with the given number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%</b><i>string</i></dt>
  <dd class="It-tag">Any job whose command line begins with <i>string</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%?</b><i>string</i></dt>
  <dd class="It-tag">Any job whose command line contains <i>string</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%%</b></dt>
  <dd class="It-tag">Current job.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%+</b></dt>
  <dd class="It-tag">Equivalent to `<b>%%</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%-</b></dt>
  <dd class="It-tag">Previous job.</dd>
</dl>
<div class="Pp"></div>
The shell learns immediately whenever a process changes state. It normally
  informs you whenever a job becomes blocked so that no further progress is
  possible. If the <b>NOTIFY</b> option is not set, it waits until just before
  it prints a prompt before it informs you. All such notifications are sent
  directly to the terminal, not to the standard output or standard error.
<div class="Pp"></div>
When the monitor mode is on, each background job that completes triggers any
  trap set for <b>CHLD</b>.
<div class="Pp"></div>
When you try to leave the shell while jobs are running or suspended, you will be
  warned that `You have suspended (running) jobs'. You may use the <b>jobs</b>
  command to see what they are. If you do this or immediately try to exit again,
  the shell will not warn you a second time; the suspended jobs will be
  terminated, and the running jobs will be sent a <b>SIGHUP</b> signal, if the
  <b>HUP</b> option is set.
<div class="Pp"></div>
To avoid having the shell terminate the running jobs, either use the
  <b>nohup</b> command (see <i>nohup</i>(1)) or the <b>disown</b> builtin.
<h1 class="Sh" title="Sh" id="SIGNALS"><a class="selflink" href="#SIGNALS">SIGNALS</a></h1>
The <b>INT</b> and <b>QUIT</b> signals for an invoked command are ignored if the
  command is followed by ` <b>&amp;</b>' and the <b>MONITOR</b> option is not
  active. The shell itself always ignores the <b>QUIT</b> signal. Otherwise,
  signals have the values inherited by the shell from its parent (but see the
  <b>TRAP</b><i>NAL</i> special functions in the section `Functions').
<h1 class="Sh" title="Sh" id="ARITHMETIC_EVALUATION"><a class="selflink" href="#ARITHMETIC_EVALUATION">ARITHMETIC
  EVALUATION</a></h1>
The shell can perform integer and floating point arithmetic, either using the
  builtin <b>let</b>, or via a substitution of the form <b>$((...))</b>. For
  integers, the shell is usually compiled to use 8-byte precision where this is
  available, otherwise precision is 4 bytes. This can be tested, for example, by
  giving the command ` <b>print - $(( 12345678901 ))</b>'; if the number appears
  unchanged, the precision is at least 8 bytes. Floating point arithmetic always
  uses the `double' type with whatever corresponding precision is provided by
  the compiler and the library.
<div class="Pp"></div>
The <b>let</b> builtin command takes arithmetic expressions as arguments; each
  is evaluated separately. Since many of the arithmetic operators, as well as
  spaces, require quoting, an alternative form is provided: for any command
  which begins with a ` <b>((</b>', all the characters until a matching `
  <b>))</b>' are treated as a quoted expression and arithmetic expansion
  performed as for an argument of <b>let</b>. More precisely, `
  <b>((</b><i>...</i> <b>))</b>' is equivalent to ` <b>let
  &quot;</b><i>...</i><b>&quot;</b>'. The return status is 0 if the arithmetic
  value of the expression is non-zero, 1 if it is zero, and 2 if an error
  occurred.
<div class="Pp"></div>
For example, the following statement
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>(( val = 2 + 1 ))</b>
</pre>
</div>
<div class="Pp"></div>
is equivalent to
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>let &quot;val = 2 + 1&quot;</b>
</pre>
</div>
<div class="Pp"></div>
both assigning the value 3 to the shell variable <b>val</b> and returning a zero
  status.
<div class="Pp"></div>
Integers can be in bases other than 10. A leading ` <b>0x</b>' or `<b>0X</b>'
  denotes hexadecimal. Integers may also be of the form `
  <i>base</i><b>#</b><i>n</i>', where <i>base</i> is a decimal number between
  two and thirty-six representing the arithmetic base and <i>n</i> is a number
  in that base (for example, ` <b>16#ff</b>' is 255 in hexadecimal). The
  <i>base</i> <b>#</b> may also be omitted, in which case base 10 is used. For
  backwards compatibility the form ` <b>[</b><i>base</i><b>]</b><i>n</i>' is
  also accepted.
<div class="Pp"></div>
An integer expression or a base given in the form ` <i>base</i><b>#</b><i>n</i>'
  may contain underscores (` <b>_</b>') after the leading digit for visual
  guidance; these are ignored in computation. Examples are <b>1_000_000</b> or
  <b>0xffff_ffff</b> which are equivalent to <b>1000000</b> and
  <b>0xffffffff</b> respectively.
<div class="Pp"></div>
It is also possible to specify a base to be used for output in the form `
  <b>[#</b> <i>base</i><b>]</b>', for example `<b>[#16]</b>'. This is used when
  outputting arithmetical substitutions or when assigning to scalar parameters,
  but an explicitly defined integer or floating point parameter will not be
  affected. If an integer variable is implicitly defined by an arithmetic
  expression, any base specified in this way will be set as the variable's
  output arithmetic base as if the option ` <b>-i</b> <i>base</i>' to the
  <b>typeset</b> builtin had been used. The expression has no precedence and if
  it occurs more than once in a mathematical expression, the last encountered is
  used. For clarity it is recommended that it appear at the beginning of an
  expression. As an example:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>typeset -i 16 y</b>
<b>print $(( [#8] x = 32, y = 32 ))</b>
<b>print $x $y</b>
</pre>
</div>
<div class="Pp"></div>
outputs first ` <b>8#40</b>', the rightmost value in the given output base, and
  then ` <b>8#40 16#20</b>', because <b>y</b> has been explicitly declared to
  have output base 16, while <b>x</b> (assuming it does not already exist) is
  implicitly typed by the arithmetic evaluation, where it acquires the output
  base 8.
<div class="Pp"></div>
If the <b>C_BASES</b> option is set, hexadecimal numbers in the standard C
  format, for example <b>0xFF</b> instead of the usual `<b>16#FF</b>'. If the
  option <b>OCTAL_ZEROES</b> is also set (it is not by default), octal numbers
  will be treated similarly and hence appear as ` <b>077</b>' instead of `
  <b>8#77</b>'. This option has no effect on the output of bases other than
  hexadecimal and octal, and these formats are always understood on input.
<div class="Pp"></div>
When an output base is specified using the ` <b>[#</b><i>base</i><b>]</b>'
  syntax, an appropriate base prefix will be output if necessary, so that the
  value output is valid syntax for input. If the <b>#</b> is doubled, for
  example ` <b>[##16]</b>', then no base prefix is output.
<div class="Pp"></div>
Floating point constants are recognized by the presence of a decimal point or an
  exponent. The decimal point may be the first character of the constant, but
  the exponent character <b>e</b> or <b>E</b> may not, as it will be taken for a
  parameter name. All numeric parts (before and after the decimal point and in
  the exponent) may contain underscores after the leading digit for visual
  guidance; these are ignored in computation.
<div class="Pp"></div>
An arithmetic expression uses nearly the same syntax and associativity of
  expressions as in C.
<div class="Pp"></div>
In the native mode of operation, the following operators are supported (listed
  in decreasing order of precedence):
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+ - ! ~ ++ --</b></dt>
  <dd class="It-tag">unary plus/minus, logical NOT, complement,
      {pre,post}{in,de}crement</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&lt; &gt;&gt;</b></dt>
  <dd class="It-tag">bitwise shift left, right</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;</b></dt>
  <dd class="It-tag">bitwise AND</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>^</b></dt>
  <dd class="It-tag">bitwise XOR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>|</b></dt>
  <dd class="It-tag">bitwise OR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>**</b></dt>
  <dd class="It-tag">exponentiation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>* / %</b></dt>
  <dd class="It-tag">multiplication, division, modulus (remainder)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+ -</b></dt>
  <dd class="It-tag">addition, subtraction</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt; &gt; &lt;= &gt;=</b></dt>
  <dd class="It-tag">comparison</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>== !=</b></dt>
  <dd class="It-tag">equality and inequality</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&amp;</b></dt>
  <dd class="It-tag">logical AND</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>|| ^^</b></dt>
  <dd class="It-tag">logical OR, XOR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>? :</b></dt>
  <dd class="It-tag">ternary operator</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>= += -= *= /= %= &amp;= ^= |= &lt;&lt;= &gt;&gt;=
    &amp;&amp;= ||= ^^= **=</b></dt>
  <dd class="It-tag">assignment</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>,</b></dt>
  <dd class="It-tag">comma operator</dd>
</dl>
<div class="Pp"></div>
The operators ` <b>&amp;&amp;</b>', `<b>||</b>', `<b>&amp;&amp;=</b>', and
  `<b>||=</b>' are short-circuiting, and only one of the latter two expressions
  in a ternary operator is evaluated. Note the precedence of the bitwise AND,
  OR, and XOR operators.
<div class="Pp"></div>
With the option <b>C_PRECEDENCES</b> the precedences (but no other properties)
  of the operators are altered to be the same as those in most other languages
  that support the relevant operators:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+ - ! ~ ++ --</b></dt>
  <dd class="It-tag">unary plus/minus, logical NOT, complement,
      {pre,post}{in,de}crement</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>**</b></dt>
  <dd class="It-tag">exponentiation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>* / %</b></dt>
  <dd class="It-tag">multiplication, division, modulus (remainder)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>+ -</b></dt>
  <dd class="It-tag">addition, subtraction</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;&lt; &gt;&gt;</b></dt>
  <dd class="It-tag">bitwise shift left, right</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt; &gt; &lt;= &gt;=</b></dt>
  <dd class="It-tag">comparison</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>== !=</b></dt>
  <dd class="It-tag">equality and inequality</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;</b></dt>
  <dd class="It-tag">bitwise AND</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>^</b></dt>
  <dd class="It-tag">bitwise XOR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>|</b></dt>
  <dd class="It-tag">bitwise OR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&amp;&amp;</b></dt>
  <dd class="It-tag">logical AND</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>^^</b></dt>
  <dd class="It-tag">logical XOR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>||</b></dt>
  <dd class="It-tag">logical OR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>? :</b></dt>
  <dd class="It-tag">ternary operator</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>= += -= *= /= %= &amp;= ^= |= &lt;&lt;= &gt;&gt;=
    &amp;&amp;= ||= ^^= **=</b></dt>
  <dd class="It-tag">assignment</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>,</b></dt>
  <dd class="It-tag">comma operator</dd>
</dl>
<div class="Pp"></div>
Note the precedence of exponentiation in both cases is below that of unary
  operators, hence ` <b>-3**2</b>' evaluates as `<b>9</b>', not <b>-9</b>. Use
  parentheses where necessary: ` <b>-(3**2)</b>'. This is for compatibility with
  other shells.
<div class="Pp"></div>
Mathematical functions can be called with the syntax `
  <i>func</i><b>(</b><i>args</i> <b>)</b>', where the function decides if the
  <i>args</i> is used as a string or a comma-separated list of arithmetic
  expressions. The shell currently defines no mathematical functions by default,
  but the module <b>zsh/mathfunc</b> may be loaded with the <b>zmodload</b>
  builtin to provide standard floating point mathematical functions.
<div class="Pp"></div>
An expression of the form ` <b>##</b><i>x</i>' where <i>x</i> is any character
  sequence such as ` <b>a</b>', `<b>^A</b>', or `<b>\M-\C-x</b>' gives the value
  of this character and an expression of the form ` <b>#</b><i>foo</i>' gives
  the value of the first character of the contents of the parameter <i>foo</i>.
  Character values are according to the character set used in the current
  locale; for multibyte character handling the option <b>MULTIBYTE</b> must be
  set. Note that this form is different from ` <b>$#</b><i>foo</i>', a standard
  parameter substitution which gives the length of the parameter <i>foo</i>. `
  <b>#\</b>' is accepted instead of `<b>##</b>', but its use is deprecated.
<div class="Pp"></div>
Named parameters and subscripted arrays can be referenced by name within an
  arithmetic expression without using the parameter expansion syntax. For
  example,
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>((val2 = val1 * 2))</b>
</pre>
</div>
<div class="Pp"></div>
assigns twice the value of <b>$val1</b> to the parameter named <b>val2</b>.
<div class="Pp"></div>
An internal integer representation of a named parameter can be specified with
  the <b>integer</b> builtin. Arithmetic evaluation is performed on the value of
  each assignment to a named parameter declared integer in this manner.
  Assigning a floating point number to an integer results in rounding down to
  the next integer.
<div class="Pp"></div>
Likewise, floating point numbers can be declared with the <b>float</b> builtin;
  there are two types, differing only in their output format, as described for
  the <b>typeset</b> builtin. The output format can be bypassed by using
  arithmetic substitution instead of the parameter substitution, i.e. `
  <b>${</b> <i>float</i><b>}</b>' uses the defined format, but `
  <b>$((</b><i>float</i> <b>))</b>' uses a generic floating point format.
<div class="Pp"></div>
Promotion of integer to floating point values is performed where necessary. In
  addition, if any operator which requires an integer (` <b>~</b>',
  `<b>&amp;</b>', ` <b>|</b>', `<b>^</b>', `<b>%</b>', `<b>&lt;&lt;</b>',
  `<b>&gt;&gt;</b>' and their equivalents with assignment) is given a floating
  point argument, it will be silently rounded down to the next integer.
<div class="Pp"></div>
Scalar variables can hold integer or floating point values at different times;
  there is no memory of the numeric type in this case.
<div class="Pp"></div>
If a variable is first assigned in a numeric context without previously being
  declared, it will be implicitly typed as <b>integer</b> or <b>float</b> and
  retain that type either until the type is explicitly changed or until the end
  of the scope. This can have unforeseen consequences. For example, in the loop
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>for (( f = 0; f &lt; 1; f += 0.1 )); do</b>
<b># use $f</b>
<b>done</b>
</pre>
</div>
<div class="Pp"></div>
if <b>f</b> has not already been declared, the first assignment will cause it to
  be created as an integer, and consequently the operation ` <b>f += 0.1</b>'
  will always cause the result to be truncated to zero, so that the loop will
  fail. A simple fix would be to turn the initialization into ` <b>f = 0.0</b>'.
  It is therefore best to declare numeric variables with explicit types.
<h1 class="Sh" title="Sh" id="CONDITIONAL_EXPRESSIONS"><a class="selflink" href="#CONDITIONAL_EXPRESSIONS">CONDITIONAL
  EXPRESSIONS</a></h1>
A <i>conditional expression</i> is used with the <b>[[</b> compound command to
  test attributes of files and to compare strings. Each expression can be
  constructed from one or more of the following unary or binary expressions:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a block special
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a character special
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a regular file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and has its setgid bit set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a symbolic link.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and has its sticky bit set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b> <i>string</i></dt>
  <dd class="It-tag">true if length of <i>string</i> is non-zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> <i>option</i></dt>
  <dd class="It-tag">true if option named <i>option</i> is on. <i>option</i> may
      be a single character, in which case it is a single letter option name.
      (See the section `Specifying Options'.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a FIFO special file
      (named pipe).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is readable by current
      process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and has size greater than
    zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> <i>fd</i></dt>
  <dd class="It-tag">true if file descriptor number <i>fd</i> is open and
      associated with a terminal device. (note: <i>fd</i> is not optional)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and has its setuid bit set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is writable by current
      process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is executable by current
      process. If <i>file</i> exists and is a directory, then the current
      process has permission to search in the directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b> <i>string</i></dt>
  <dd class="It-tag">true if length of <i>string</i> is zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a symbolic link.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is owned by the effective
      user ID of this process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and its group matches the
      effective group ID of this process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and is a socket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b> <i>file</i></dt>
  <dd class="It-tag">true if <i>file</i> exists and its access time is not newer
      than its modification time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>file1</i> <b>-nt</b> <i>file2</i></dt>
  <dd class="It-tag">true if <i>file1</i> exists and is newer than
    <i>file2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>file1</i> <b>-ot</b> <i>file2</i></dt>
  <dd class="It-tag">true if <i>file1</i> exists and is older than
    <i>file2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>file1</i> <b>-ef</b> <i>file2</i></dt>
  <dd class="It-tag">true if <i>file1</i> and <i>file2</i> exist and refer to
      the same file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string</i> <b>=</b> <i>pattern</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string</i> <b>==</b> <i>pattern</i></dt>
  <dd class="It-tag">true if <i>string</i> matches <i>pattern</i>. The `
      <b>==</b>' form is the preferred one. The ` <b>=</b>' form is for backward
      compatibility and should be considered obsolete.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string</i> <b>!=</b> <i>pattern</i></dt>
  <dd class="It-tag">true if <i>string</i> does not match <i>pattern</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string</i> <b>=~</b> <i>regexp</i></dt>
  <dd class="It-tag">true if <i>string</i> matches the regular expression
      <i>regexp</i>. If the option <b>RE_MATCH_PCRE</b> is set <i>regexp</i> is
      tested as a PCRE regular expression using the <b>zsh/pcre</b> module, else
      it is tested as a POSIX extended regular expression using the
      <b>zsh/regex</b> module. Upon successful match, some variables will be
      updated; no variables are changed if the matching fails.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If the option <b>BASH_REMATCH</b> is not set the scalar parameter <b>MATCH</b>
  is set to the substring that matched the pattern and the integer parameters
  <b>MBEGIN</b> and <b>MEND</b> to the index of the start and end, respectively,
  of the match in <i>string</i>, such that if <i>string</i> is contained in
  variable <b>var</b> the expression `${var[$MBEGIN,$MEND]}' is identical to
  `$MATCH'. The setting of the option <b>KSH_ARRAYS</b> is respected. Likewise,
  the array <b>match</b> is set to the substrings that matched parenthesised
  subexpressions and the arrays <b>mbegin</b> and <b>mend</b> to the indices of
  the start and end positions, respectively, of the substrings within
  <i>string</i>. The arrays are not set if there were no parenthesised
  subexpresssions. For example, if the string ` <b>a short string</b>' is
  matched against the regular expression ` <b>s(...)t</b>', then (assuming the
  option <b>KSH_ARRAYS</b> is not set) <b>MATCH</b>, <b>MBEGIN</b> and
  <b>MEND</b> are ` <b>short</b>', 3 and 7, respectively, while <b>match</b>,
  <b>mbegin</b> and <b>mend</b> are single entry arrays containing the strings `
  <b>hor</b>', `<b>4</b>' and `<b>6</b>, respectively.
<div class="Pp"></div>
If the option <b>BASH_REMATCH</b> is set the array <b>BASH_REMATCH</b> is set to
  the substring that matched the pattern followed by the substrings that matched
  parenthesised subexpressions within the pattern.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string1</i> <b>&lt;</b> <i>string2</i></dt>
  <dd class="It-tag">true if <i>string1</i> comes before <i>string2</i> based on
      ASCII value of their characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>string1</i> <b>&gt;</b> <i>string2</i></dt>
  <dd class="It-tag">true if <i>string1</i> comes after <i>string2</i> based on
      ASCII value of their characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>-eq</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> is numerically equal to <i>exp2</i>.
      Note that for purely numeric comparisons use of the
      <b>((</b><i>...</i><b>))</b> builtin described in the section `ARITHMETIC
      EVALUATION' is more convenient than conditional expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>-ne</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> is numerically not equal to
      <i>exp2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>-lt</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> is numerically less than
    <i>exp2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>-gt</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> is numerically greater than
      <i>exp2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>-le</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> is numerically less than or equal to
      <i>exp2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>-ge</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> is numerically greater than or equal to
      <i>exp2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>(</b> <i>exp</i> <b>)</b></dt>
  <dd class="It-tag">true if <i>exp</i> is true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>!</b> <i>exp</i></dt>
  <dd class="It-tag">true if <i>exp</i> is false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>&amp;&amp;</b> <i>exp2</i></dt>
  <dd class="It-tag">true if <i>exp1</i> and <i>exp2</i> are both true.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>exp1</i> <b>||</b> <i>exp2</i></dt>
  <dd class="It-tag">true if either <i>exp1</i> or <i>exp2</i> is true.</dd>
</dl>
<div class="Pp"></div>
Normal shell expansion is performed on the <i>file</i>, <i>string</i> and
  <i>pattern</i> arguments, but the result of each expansion is constrained to
  be a single word, similar to the effect of double quotes. Filename generation
  is not performed on any form of argument to conditions. However, pattern
  metacharacters are active for the <i>pattern</i> arguments; the patterns are
  the same as those used for filename generation, see <i>zshexpn</i>(1), but
  there is no special behaviour of ` <b>/</b>' nor initial dots, and no glob
  qualifiers are allowed.
<div class="Pp"></div>
In each of the above expressions, if <i>file</i> is of the form
  `<b>/dev/fd/</b><i>n</i>', where <i>n</i> is an integer, then the test applied
  to the open file whose descriptor number is <i>n</i>, even if the underlying
  system does not support the <b>/dev/fd</b> directory.
<div class="Pp"></div>
In the forms which do numeric comparison, the expressions <i>exp</i> undergo
  arithmetic expansion as if they were enclosed in <b>$((...))</b>.
<div class="Pp"></div>
For example, the following:
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<pre>
<b>[[ ( -f foo || -f bar ) &amp;&amp; $report = y* ]] &amp;&amp; print File exists.</b>
</pre>
</div>
<div class="Pp"></div>
tests if either file <b>foo</b> or file <b>bar</b> exists, and if so, if the
  value of the parameter <b>report</b> begins with `<b>y</b>'; if the complete
  condition is true, the message ` <b>File exists.</b>' is printed.
<h1 class="Sh" title="Sh" id="EXPANSION_OF_PROMPT_SEQUENCES"><a class="selflink" href="#EXPANSION_OF_PROMPT_SEQUENCES">EXPANSION
  OF PROMPT SEQUENCES</a></h1>
Prompt sequences undergo a special form of expansion. This type of expansion is
  also available using the <b>-P</b> option to the <b>print</b> builtin.
<div class="Pp"></div>
If the <b>PROMPT_SUBST</b> option is set, the prompt string is first subjected
  to <i>parameter expansion</i>, <i>command substitution</i> and <i>arithmetic
  expansion</i>. See <i>zshexpn</i>(1).
<div style="height: 1.00em;">&#x00A0;</div>
Certain escape sequences may be recognised in the prompt string.
<div class="Pp"></div>
If the <b>PROMPT_BANG</b> option is set, a `<b>!</b>' in the prompt is replaced
  by the current history event number. A literal ` <b>!</b>' may then be
  represented as ` <b>!!</b>'.
<div class="Pp"></div>
If the <b>PROMPT_PERCENT</b> option is set, certain escape sequences that start
  with ` <b>%</b>' are expanded. Many escapes are followed by a single
  character, although some of these take an optional integer argument that
  should appear between the ` <b>%</b>' and the next character of the sequence.
  More complicated escape sequences are available to provide conditional
  expansion.
<h1 class="Sh" title="Sh" id="SIMPLE_PROMPT_ESCAPES"><a class="selflink" href="#SIMPLE_PROMPT_ESCAPES">SIMPLE
  PROMPT ESCAPES</a></h1>
<h2 class="Ss" title="Ss" id="Special_characters"><a class="selflink" href="#Special_characters">Special
  characters</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%%</b></dt>
  <dd class="It-tag">A `<b>%</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%)</b></dt>
  <dd class="It-tag">A `<b>)</b>'.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Login_information"><a class="selflink" href="#Login_information">Login
  information</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%l</b></dt>
  <dd class="It-tag">The line (tty) the user is logged in on, without
      `<b>/dev/</b>' prefix. If the name starts with ` <b>/dev/tty</b>', that
      prefix is stripped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%M</b></dt>
  <dd class="It-tag">The full machine hostname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%m</b></dt>
  <dd class="It-tag">The hostname up to the first `<b>.</b>'. An integer may
      follow the ` <b>%</b>' to specify how many components of the hostname are
      desired. With a negative integer, trailing components of the hostname are
      shown.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%n</b></dt>
  <dd class="It-tag"><b>$USERNAME</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%y</b></dt>
  <dd class="It-tag">The line (tty) the user is logged in on, without
      `<b>/dev/</b>' prefix. This does not treat ` <b>/dev/tty</b>' names
      specially.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Shell_state"><a class="selflink" href="#Shell_state">Shell
  state</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%#</b></dt>
  <dd class="It-tag">A `<b>#</b>' if the shell is running with privileges, a
      `<b>%</b>' if not. Equivalent to ` <b>%(!.#.%%)</b>'. The definition of
      `privileged', for these purposes, is that either the effective user ID is
      zero, or, if POSIX.1e capabilities are supported, that at least one
      capability is raised in either the Effective or Inheritable capability
      vectors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%?</b></dt>
  <dd class="It-tag">The return status of the last command executed just before
      the prompt.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%_</b></dt>
  <dd class="It-tag">The status of the parser, i.e. the shell constructs (like
      `<b>if</b>' and ` <b>for</b>') that have been started on the command line.
      If given an integer number that many strings will be printed; zero or
      negative or no integer means print as many as there are. This is most
      useful in prompts <b>PS2</b> for continuation lines and <b>PS4</b> for
      debugging with the <b>XTRACE</b> option; in the latter case it will also
      work non-interactively.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%d</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/</b></dt>
  <dd class="It-tag">Current working directory. If an integer follows the
      `<b>%</b>', it specifies a number of trailing components of the current
      working directory to show; zero means the whole path. A negative integer
      specifies leading components, i.e. <b>%-1d</b> specifies the first
      component.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%~</b></dt>
  <dd class="It-tag">As <b>%d</b> and <b>%/</b>, but if the current working
      directory has a named directory as its prefix, that part is replaced by a
      ` <b>~</b>' followed by the name of the directory. If it starts with
      <b>$HOME</b>, that part is replaced by a ` <b>~</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%h</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%!</b></dt>
  <dd class="It-tag">Current history event number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%i</b></dt>
  <dd class="It-tag">The line number currently being executed in the script,
      sourced file, or shell function given by <b>%N</b>. This is most useful
      for debugging as part of <b>$PS4</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%I</b></dt>
  <dd class="It-tag">The line number currently being executed in the file
      <b>%x</b>. This is similar to <b>%i</b>, but the line number is always a
      line number in the file where the code was defined, even if the code is a
      shell function.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%j</b></dt>
  <dd class="It-tag">The number of jobs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%L</b></dt>
  <dd class="It-tag">The current value of <b>$SHLVL</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%N</b></dt>
  <dd class="It-tag">The name of the script, sourced file, or shell function
      that zsh is currently executing, whichever was started most recently. If
      there is none, this is equivalent to the parameter <b>$0</b>. An integer
      may follow the ` <b>%</b>' to specify a number of trailing path components
      to show; zero means the full path. A negative integer specifies leading
      components.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%x</b></dt>
  <dd class="It-tag">The name of the file containing the source code currently
      being executed. This behaves as <b>%N</b> except that function and eval
      command names are not shown, instead the file where they were
    defined.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%c</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%C</b></dt>
  <dd class="It-tag">Trailing component of the current working directory. An
      integer may follow the ` <b>%</b>' to get more than one component. Unless
      ` <b>%C</b>' is used, tilde contraction is performed first. These are
      deprecated as <b>%c</b> and <b>%C</b> are equivalent to <b>%1~</b> and
      <b>%1/</b>, respectively, while explicit positive integers have the same
      effect as for the latter two sequences.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Date_and_time"><a class="selflink" href="#Date_and_time">Date
  and time</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%D</b></dt>
  <dd class="It-tag">The date in <i>yy</i><b>-</b><i>mm</i><b>-</b><i>dd</i>
      format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%T</b></dt>
  <dd class="It-tag">Current time of day, in 24-hour format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%t</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%@</b></dt>
  <dd class="It-tag">Current time of day, in 12-hour, am/pm format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%*</b></dt>
  <dd class="It-tag">Current time of day in 24-hour format, with seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%w</b></dt>
  <dd class="It-tag">The date in <i>day</i><b>-</b><i>dd</i> format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%W</b></dt>
  <dd class="It-tag">The date in <i>mm</i><b>/</b><i>dd</i><b>/</b><i>yy</i>
      format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%D{</b><i>string</i><b>}</b></dt>
  <dd class="It-tag"><i>string</i> is formatted using the <b>strftime</b>
      function. See <i>strftime</i>(3) for more details. Various zsh extensions
      provide numbers with no leading zero or space if the number is a single
      digit:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%f</b></dt>
  <dd class="It-tag">a day of the month</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%K</b></dt>
  <dd class="It-tag">the hour of the day on the 24-hour clock</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%L</b></dt>
  <dd class="It-tag">the hour of the day on the 12-hour clock</dd>
</dl>
<div class="Pp"></div>
The GNU extension that a ` <b>-</b>' between the <b>%</b> and the format
  character causes a leading zero or space to be stripped is handled directly by
  the shell for the format characters <b>d</b>, <b>f</b>, <b>H</b>, <b>k</b>,
  <b>l</b>, <b>m</b>, <b>M</b>, <b>S</b> and <b>y</b>; any other format
  characters are provided to <b>strftime()</b> with any leading `<b>-</b>',
  present, so the handling is system dependent. Further GNU extensions are not
  supported at present.</div>
<h2 class="Ss" title="Ss" id="Visual_effects"><a class="selflink" href="#Visual_effects">Visual
  effects</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%B</b> (<b>%b</b>)</dt>
  <dd class="It-tag">Start (stop) boldface mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%E</b></dt>
  <dd class="It-tag">Clear to end of line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%U</b> (<b>%u</b>)</dt>
  <dd class="It-tag">Start (stop) underline mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%S</b> (<b>%s</b>)</dt>
  <dd class="It-tag">Start (stop) standout mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%F</b> (<b>%f</b>)</dt>
  <dd class="It-tag">Start (stop) using a different foreground colour, if
      supported by the terminal. The colour may be specified two ways: either as
      a numeric argument, as normal, or by a sequence in braces following the
      <b>%F</b>, for example <b>%F{red}</b>. In the latter case the values
      allowed are as described for the <b>fg</b> <b>zle_highlight</b> attribute;
      see <i>Character Highlighting</i> in <i>zshzle</i>(1). This means that
      numeric colours are allowed in the second format also.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%K</b> (<b>%k</b>)</dt>
  <dd class="It-tag">Start (stop) using a different bacKground colour. The
      syntax is identical to that for <b>%F</b> and <b>%f</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%{</b>...<b>%}</b></dt>
  <dd class="It-tag">Include a string as a literal escape sequence. The string
      within the braces should not change the cursor position. Brace pairs can
      nest.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
A positive numeric argument between the <b>%</b> and the <b>{</b> is treated as
  described for <b>%G</b> below.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%G</b></dt>
  <dd class="It-tag">Within a <b>%{</b>...<b>%}</b> sequence, include a
      `glitch': that is, assume that a single character width will be output.
      This is useful when outputting characters that otherwise cannot be
      correctly handled by the shell, such as the alternate character set on
      some terminals. The characters in question can be included within a
      <b>%{</b>... <b>%}</b> sequence together with the appropriate number of
      <b>%G</b> sequences to indicate the correct width. An integer between the
      ` <b>%</b>' and `<b>G</b>' indicates a character width other than one.
      Hence <b>%{</b><i>seq</i><b>%2G%}</b> outputs <i>seq</i> and assumes it
      takes up the width of two standard characters.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
Multiple uses of <b>%G</b> accumulate in the obvious fashion; the position of
  the <b>%G</b> is unimportant. Negative integers are not handled.
<div class="Pp"></div>
Note that when prompt truncation is in use it is advisable to divide up output
  into single characters within each <b>%{</b>...<b>%}</b> group so that the
  correct truncation point can be found.</div>
<h1 class="Sh" title="Sh" id="CONDITIONAL_SUBSTRINGS_IN_PROMPTS"><a class="selflink" href="#CONDITIONAL_SUBSTRINGS_IN_PROMPTS">CONDITIONAL
  SUBSTRINGS IN PROMPTS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%v</b></dt>
  <dd class="It-tag">The value of the first element of the <b>psvar</b> array
      parameter. Following the ` <b>%</b>' with an integer gives that element of
      the array. Negative integers count from the end of the array.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%(</b><i>x.true-text.false-text</i><b>)</b></dt>
  <dd class="It-tag">Specifies a ternary expression. The character following the
      <i>x</i> is arbitrary; the same character is used to separate the text for
      the `true' result from that for the `false' result. This separator may not
      appear in the <i>true-text</i>, except as part of a %-escape sequence. A `
      <b>)</b>' may appear in the <i>false-text</i> as `<b>%)</b>'.
      <i>true-text</i> and <i>false-text</i> may both contain arbitrarily-nested
      escape sequences, including further ternary expressions.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The left parenthesis may be preceded or followed by a positive integer <i>n</i>,
  which defaults to zero. A negative integer will be multiplied by -1. The test
  character <i>x</i> may be any of the following:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>!</b></dt>
  <dd class="It-tag">True if the shell is running with privileges.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>#</b></dt>
  <dd class="It-tag">True if the effective uid of the current process is
      <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>?</b></dt>
  <dd class="It-tag">True if the exit status of the last command was
    <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>_</b></dt>
  <dd class="It-tag">True if at least <i>n</i> shell constructs were
    started.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>C</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/</b></dt>
  <dd class="It-tag">True if the current absolute path has at least <i>n</i>
      elements relative to the root directory, hence <b>/</b> is counted as 0
      elements.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>c</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>~</b></dt>
  <dd class="It-tag">True if the current path, with prefix replacement, has at
      least <i>n</i> elements relative to the root directory, hence <b>/</b> is
      counted as 0 elements.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>D</b></dt>
  <dd class="It-tag">True if the month is equal to <i>n</i> (January = 0).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>d</b></dt>
  <dd class="It-tag">True if the day of the month is equal to <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>g</b></dt>
  <dd class="It-tag">True if the effective gid of the current process is
      <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>j</b></dt>
  <dd class="It-tag">True if the number of jobs is at least <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>L</b></dt>
  <dd class="It-tag">True if the <b>SHLVL</b> parameter is at least
    <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>l</b></dt>
  <dd class="It-tag">True if at least <i>n</i> characters have already been
      printed on the current line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>S</b></dt>
  <dd class="It-tag">True if the <b>SECONDS</b> parameter is at least
    <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>T</b></dt>
  <dd class="It-tag">True if the time in hours is equal to <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>t</b></dt>
  <dd class="It-tag">True if the time in minutes is equal to <i>n</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>v</b></dt>
  <dd class="It-tag">True if the array <b>psvar</b> has at least <i>n</i>
      elements.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>V</b></dt>
  <dd class="It-tag">True if element <i>n</i> of the array <b>psvar</b> is set
      and non-empty.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>w</b></dt>
  <dd class="It-tag">True if the day of the week is equal to <i>n</i> (Sunday =
      0).</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%&lt;</b><i>string</i><b>&lt;</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%&gt;</b><i>string</i><b>&gt;</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>%[</b><i>xstring</i><b>]</b></dt>
  <dd class="It-tag">Specifies truncation behaviour for the remainder of the
      prompt string. The third, deprecated, form is equivalent to `
      <b>%</b><i>xstringx</i>', i.e. <i>x</i> may be `<b>&lt;</b>' or
      `<b>&gt;</b>'. The numeric argument, which in the third form may appear
      immediately after the ` <b>[</b>', specifies the maximum permitted length
      of the various strings that can be displayed in the prompt. The
      <i>string</i> will be displayed in place of the truncated portion of any
      string; note this does not undergo prompt expansion.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The forms with ` <b>&lt;</b>' truncate at the left of the string, and the forms
  with ` <b>&gt;</b>' truncate at the right of the string. For example, if the
  current directory is ` <b>/home/pike</b>', the prompt ` <b>%8&lt;..&lt;%/</b>'
  will expand to ` <b>..e/pike</b>'. In this string, the terminating character
  (` <b>&lt;</b>', `<b>&gt;</b>' or `<b>]</b>'), or in fact any character, may
  be quoted by a preceding ` <b>\</b>'; note when using <b>print -P</b>,
  however, that this must be doubled as the string is also subject to standard
  <b>print</b> processing, in addition to any backslashes removed by a double
  quoted string: the worst case is therefore ` <b>print -P
  &quot;%&lt;\\\\&lt;&lt;...&quot;</b>'.
<div class="Pp"></div>
If the <i>string</i> is longer than the specified truncation length, it will
  appear in full, completely replacing the truncated string.
<div class="Pp"></div>
The part of the prompt string to be truncated runs to the end of the string, or
  to the end of the next enclosing group of the ` <b>%(</b>' construct, or to
  the next truncation encountered at the same grouping level (i.e. truncations
  inside a ` <b>%(</b>' are separate), which ever comes first. In particular, a
  truncation with argument zero (e.g. ` <b>%&lt;&lt;</b>') marks the end of the
  range of the string to be truncated while turning off truncation from there
  on. For example, the prompt '%10&lt;...&lt;%~%&lt;&lt;%# ' will print a
  truncated representation of the current directory, followed by a ` <b>%</b>'
  or ` <b>#</b>', followed by a space. Without the ` <b>%&lt;&lt;</b>', those
  two characters would be included in the string to be truncated.</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 21, 2012</td>
    <td class="foot-os">zsh 5.0.2</td>
  </tr>
</table>
</body>
</html>
