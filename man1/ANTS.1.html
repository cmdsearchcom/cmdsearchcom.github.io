<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ANTS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ANTS(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">ANTS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ANTS - part of ANTS registration suite
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<h2 class="Ss" title="Ss" id="COMMAND:"><a class="selflink" href="#COMMAND:">COMMAND:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">ANTS</dd>
</dl>
<h2 class="Ss" title="Ss" id="OPTIONS:"><a class="selflink" href="#OPTIONS:">OPTIONS:</a></h2>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-x</b>,
  <b>--mask-image</b> maskFileName</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">this mask <b>--</b> defined in the 'fixed' image space
      defines the region of interest over which the registration is computed
      ==&gt; above 0.1 means inside mask ==&gt; continuous values in range
      [0.1,1.0] effect optimization like a probability. ==&gt; values &gt; 1 are
      treated as = 1.0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-m</b>,
  <b>--image-metric</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The metric weights are relative to the weights on the N
      other metrics passed to ANTS <b>---</b> N is unlimited. So, the weight,
      w_i on the i^{th} metric will be w_i=w_i/ ( sum_i w_i ).Intensity-Based
      Metrics:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">CC/cross-correlation/CrossCorrelation[fixedImage,movingImage,weight,radius/OrForMI-#histogramBins]
      MI/mutual-information/MutualInformation[fixedImage,movingImage,weight,radius/OrForMI-#histogramBins]
      SMI/spatial-mutual-information/SpatialMutualInformation[fixedImage,movingImage,weight,radius/OrForMI-#histogramBins]
      PR/probabilistic/Probabilistic[fixedImage,movingImage,weight,radius/OrForMI-#histogramBins]
      SSD</dd>
</dl>
<div class="Pp"></div>
<b>---</b> standard intensity
  difference.[fixedImage,movingImage,weight,radius/OrForMI-#histogramBins]
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">MSQ/mean-squares/MeanSquares</dd>
</dl>
<div class="Pp"></div>
<b>--</b> demons-like, radius &gt; 0 uses moving image gradient in metric
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">deriv.[fixedImage,movingImage,weight,radius/OrForMI-#histogramBins]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Point-Set-Based Metrics:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">PSE/point-set-expectation/PointSetExpectation[fixedImage,movingImage,fixedPoints,movingPoints,weight,pointSetPercentage,pointSetSigma,boundaryPointsOnly,kNeighborhood,</dd>
</dl>
<div class="Pp"></div>
PartialMatchingIterations=100000]
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">the partial matching option assumes the</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">complete labeling is in the first set of label parameters
      ... more iterations leads to more symmetry in the matching - 0 iterations
      means full asymmetry</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">[fixedImage,movingImage,fixedPoints,movingPoints,weight,pointSetPercentage,pointSetSigma,boundaryPointsOnly,kNeighborhood,alpha,meshResolution,splineOrder,numberOfLevels,useAnisotropicCovariances]</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-o</b>,
  <b>--output-naming</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The name for the output - a prefix or a name+type : e.g.
      <b>-o</b> OUT or <b>-o</b> OUT.nii or <b>-o</b> OUT.mha</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--R</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">TODO/FIXME: the <b>--R</b> sets an ROI option <b>--</b> it
      passes a vector of parameters that sets the center and bounding box</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">of the region of interest for a sub-field</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">registration. e.g. in 3D the option setting</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-r</b>
  10x12x15x50x50x25</div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">sets up a</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">bounding box of size 50,50,25 with origin at 10,12,15 in
      voxel (should this be physical?) coordinates. &lt;VALUES&gt;: 0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-i</b>,
  <b>--number-of-iterations</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">number of iterations per level <b>--</b> a 'vector' e.g. :
      100x100x20 &lt;VALUES&gt;: 10x10x5</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--Restrict-Deformation</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">restrict the gradient that drives the deformation by scalar
      factors along specified dimensions <b>--</b> a TReal 'vector' of length
      ImageDimension to multiply against the similarity metric's gradient values
      <b>---</b> e.g. in 3D : 0.1x1x0 <b>---</b> will set the z gradient to zero
      and scale the x gradient by 0.1 and y by 1 (no change). Thus, you get a
      2.5-Dimensional registration as there is still 3D continuity in the
      mapping. &lt;VALUES&gt;: 1x1</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-v</b>,
  <b>--verbose</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">verbose output</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--use-all-metrics-for-convergence</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">enable to use weighted sum of all metric terms for
      convergence computation. By default, only the first metric is used
      &lt;VALUES&gt;: 0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-h</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print the help menu (short version). &lt;VALUES&gt;: 0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--help</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Print the help menu. &lt;VALUES&gt;: 1, 0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-t</b>,
  <b>--transformation-model</b></div>
<div class="Pp"></div>
TRANSFORMATION[gradient-step-length,number-of-time-steps,DeltaTime,symmetry-type].
<div class="Pp"></div>
Choose one of the following TRANSFORMATIONS:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Diff = diffeomorphic Elast =</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Elastic</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Exp = exponential diff</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Greedy Exp = greedy exponential diff, like</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">diffeomorphic demons. same parameters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">SyN <b>--</b> symmetric normalization</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">DeltaTime is the integration time-discretization step -
      sub-voxel - n-time steps currently fixed at 2 &lt;VALUES&gt;:
    SyN[0.5]</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-r</b>,
  <b>--regularization</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">REGULARIZATION[gradient-field-sigma,def-field-sigma,truncation].</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Choose one of</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">the following REGULARIZATIONS:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Gauss = gaussian DMFFD = directly manipulated</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">free form deformation &lt;VALUES&gt;: Gauss[3,0.5]</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-a</b>,
  <b>--initial-affine</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use the input file as the initial affine parameter</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-F</b>,
  <b>--fixed-image-initial-affine</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use the input file as the initial affine parameter for the
      fixed image</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--fixed-image-initial-affine-ref-image</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">reference space for using the input file as the initial
      affine parameter for the fixed image</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-T</b>,
  <b>--geodesic</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">= 0 / 1 / 2, 0 = not time-dependent, 1 = asymmetric , 2 =
      symmetric</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>-G</b>,
  <b>--go-faster</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">true / false <b>--</b> if true, SyN is faster but loses
      some accuracy wrt inverse-identity constraint, see Avants MIA 2008.
      &lt;VALUES&gt;: false</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--continue-affine</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">true (default) | false, do (not) perform affine given the
      initial affine parameters &lt;VALUES&gt;: true</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--number-of-affine-iterations</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">number of iterations per level <b>--</b> a 'vector' e.g. :
      100x100x20 &lt;VALUES&gt;: 10000x10000x10000</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--use-NN</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use nearest neighbor interpolation &lt;VALUES&gt;: 0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--use-Histogram-Matching</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use histogram matching of moving to fixed image
      &lt;VALUES&gt;: 0</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--affine-metric-type</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">MI: mutual information (default), MSQ: mean square error,
      SSD, CC: Normalized correlation, CCH: Histogram-based correlation
      coefficient (not recommended), GD: gradient difference (not recommended)
      &lt;VALUES&gt;: MI</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--MI-option</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">option of mutual information: MI_bins x MI_samples
      (default: 32x32000) &lt;VALUES&gt;: 32x5000</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--rigid-affine</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use rigid transformation : true / false(default)
      &lt;VALUES&gt;: false</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--do-rigid</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use rigid transformation : true / false(default)
      &lt;VALUES&gt;: false</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--affine-gradient-descent-option</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">option of gradient descent in affine transformation:
      maximum_step_length x relaxation_factor x minimum_step_length x
      translation_scales &lt;VALUES&gt;: 0.1x0.5x1.e-4x1.e-4</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--use-rotation-header</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">use rotation matrix in image headers: true (default) /
      false &lt;VALUES&gt;: false</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--ignore-void-origin</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">ignore the apparently unmatched origins (when
      use-rotation-header is false and the rotation matrix is identity: true
      (default) / false &lt;VALUES&gt;: false</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--gaussian-smoothing-sigmas</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">At each resolution level the image is subsampled and
      smoothed by Gaussian convolution. This option allows the user to override
      the default smoothing by specifying sigma values (in mm) for smoothing
      both fixed and moving images for each resolution level.
    &lt;VALUES&gt;:</dd>
</dl>
<div class="Pp"></div>
<div class="Pp" style="margin-left: 5.00ex; text-indent: -5.00ex;"><b>--subsampling-factors</b></div>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">At each resolution level the image is subsampled and
      smoothed by Gaussian convolution. This option allows the user to override
      the default subsampling by specifying the subsampling factor for both
      fixed and moving images for each resolution level. &lt;VALUES&gt;:</dd>
</dl>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">March 2017</td>
    <td class="foot-os">ANTS 2.1.0</td>
  </tr>
</table>
</body>
</html>
