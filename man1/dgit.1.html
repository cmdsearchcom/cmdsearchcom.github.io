<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>dgit(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">dgit(1)</td>
    <td class="head-vol">dgit</td>
    <td class="head-rtitle">dgit(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dgit - git integration with the Debian archive
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>dgit</b> [ <i>dgit-opts</i>] <b>clone</b> [<i>dgit-opts</i>] <i>package</i>
  [<i>suite</i>] [<b>./</b><i>dir|</i><b>/</b><i></i><i>dir</i>]
<div>&#x00A0;</div>
<b>dgit</b> [ <i>dgit-opts</i>] <b>fetch</b>|<b>pull</b> [<i>dgit-opts</i>] [
  <i>suite</i>]
<div>&#x00A0;</div>
<b>dgit</b> [ <i>dgit-opts</i>] <b>build</b>|<b>sbuild</b>|<b>build-source</b> [
  <i>build-opts</i>]
<div>&#x00A0;</div>
<b>dgit</b> [ <i>dgit-opts</i>] <b>push</b> [<i>dgit-opts</i>] [ <i>suite</i>]
<div>&#x00A0;</div>
<b>dgit</b> [ <i>dgit-opts</i>] <b>rpush</b>
  <i>build-host</i><b>:</b><i>build-dir</i> [ <i>push args...</i>]
<div>&#x00A0;</div>
<b>dgit</b> [ <i>dgit-opts</i>] <i>action</i> ...
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>dgit</b> allows you to treat the Debian archive as if it were a git
  repository.
<div style="height: 1.00em;">&#x00A0;</div>
This is the command line reference. Please read the tutorial(s):
<table class="tbl">
  <colgroup>
    <col style="width: 20.00ex;"/>
    <col style="width: 49.00ex;"/>
  </colgroup>
  <tr>
    <td>dgit-user(7)</td>
    <td>for users: editing, building and sharing packages</td>
  </tr>
  <tr>
    <td>dgit-nmu-simple(7)</td>
    <td>for DDs: doing a straightforward NMU</td>
  </tr>
  <tr>
    <td>dgit-maint-native(7)</td>
    <td>for maintainers of Debian-native packages</td>
  </tr>
  <tr>
    <td>dgit-maint-merge(7)</td>
    <td>for maintainers who want a pure git workflow</td>
  </tr>
  <tr>
    <td>dgit-maint-gbp(7)</td>
    <td>for maintainers already using git-buildpackage</td>
  </tr>
  <tr>
    <td>dgit-sponsorship(7)</td>
    <td>for sponsors and sponsored contributors</td>
  </tr>
</table>
<div class="Pp"></div>
See <b>dgit(7)</b> for detailed information about the data model, common
  problems likely to arise with certain kinds of package, etc.
<h1 class="Sh" title="Sh" id="OPERATIONS"><a class="selflink" href="#OPERATIONS">OPERATIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit clone</b> <i>package</i> [<i>suite</i>]
    [<b>./</b><i>dir|</i><b>/</b><i></i><i>dir</i>]</dt>
  <dd class="It-tag">Consults the archive and dgit-repos to construct the git
      view of history for <i>package</i> in <i>suite</i> (<b>sid</b> by default)
      in a new directory (named <b>./</b><i>package</i> by default); also,
      downloads any necessary orig tarballs.
    <div style="height: 1.00em;">&#x00A0;</div>
    The suite's git tip is left on the local branch <b>dgit/</b><i>suite</i>
      ready for work, and on the corresponding dgit remote tracking branch. The
      <b>origin</b> remote will be set up to point to the package's dgit-repos
      tree for the distro to which <i>suite</i> belongs.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>suite</i> may be a combination of several underlying suites in the form
      <i>mainsuite</i><b>,</b><i>subsuite</i>...; see COMBINED SUITES in
      dgit(7).
    <div style="height: 1.00em;">&#x00A0;</div>
    For your convenience, the <b>vcs-git</b> remote will be set up from the
      package's Vcs-Git field, if there is one - but note that in the general
      case the history found there may be different to or even disjoint from
      dgit's view.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit fetch</b> [<i>suite</i>]</dt>
  <dd class="It-tag">Consults the archive and git-repos to update the git view
      of history for a specific suite (and downloads any necessary orig
      tarballs), and updates the remote tracking branch
      <b>remotes/dgit/dgit/</b><i>suite</i>. If the current branch is
      <b>dgit/</b><i>suite</i> then dgit fetch defaults to <i>suite</i>;
      otherwise it parses debian/changelog and uses the suite specified there.
      suite may be a combined suite, as for clone.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit pull</b> [<i>suite</i>]</dt>
  <dd class="It-tag">Does dgit fetch, and then merges the new head of the remote
      tracking branch <b>remotes/dgit/dgit/</b><i>suite</i> into the current
      branch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit build</b> ...</dt>
  <dd class="It-tag">Runs <b>dpkg-buildpackage</b> with some suitable options.
      Options and arguments after build will be passed on to dpkg-buildpackage.
      It is not necessary to use dgit build when using dgit; it is OK to use any
      approach which ensures that the generated source package corresponds to
      the relevant git commit.
    <div style="height: 1.00em;">&#x00A0;</div>
    Tagging, signing and actually uploading should be left to dgit push.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit build-source</b> ...</dt>
  <dd class="It-tag">Builds the source package, and a changes file for a
      prospective source-only upload, using <b>dpkg-source</b>. The output is
      left in <i>package</i><b>_</b><i>version</i><b>.dsc</b> and
      <i>package</i><b>_</b><i>version</i><b>_source.changes</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Tagging, signing and actually uploading should be left to dgit push.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit clean</b></dt>
  <dd class="It-tag">Cleans the current working tree (according to the --clean=
      option in force).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit help</b></dt>
  <dd class="It-tag">Print a usage summary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit sbuild</b> ...</dt>
  <dd class="It-tag">Constructs the source package, uses <b>sbuild</b> to do a
      binary build, and uses mergechanges to merge the source and binary changes
      files. Options and arguments after sbuild will be passed on to sbuild. The
      output is left in
      <i>package</i><b>_</b><i>version</i><b>_multi.changes</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Note that by default sbuild does not build arch-independent
      packages. You probably want to pass -A, to request those.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Tagging, signing and actually uploading should be left to
      dgit push.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit gbp-build</b> ...</dt>
  <dd class="It-tag">Runs <b>git-buildpackage</b> with some suitable options.
      Options and arguments after gbp-build will be passed on to
      git-buildpackage.
    <div style="height: 1.00em;">&#x00A0;</div>
    By default this uses --quilt=gbp, so HEAD should be a git-buildpackage style
      branch, not a patches-applied branch.
    <div style="height: 1.00em;">&#x00A0;</div>
    Tagging, signing and actually uploading should be left to dgit push.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit push</b> [<i>suite</i>]</dt>
  <dd class="It-tag">Does an `upload', pushing the current HEAD to the archive
      (as a source package) and to dgit-repos (as git commits). The package must
      already have been built ready for upload, with the .dsc and .changes left
      in the parent directory. It is normally best to do the build with dgit too
      (eg with dgit sbuild): some existing build tools pass unhelpful options to
      dpkg-source et al by default, which can result in the built source package
      not being identical to the git tree.
    <div style="height: 1.00em;">&#x00A0;</div>
    In more detail: dgit push checks that the current HEAD corresponds to the
      .dsc. It then pushes the HEAD to the suite's dgit-repos branch, adjusts
      the .changes to include any .origs which the archive lacks and exclude
      .origs which the archive has (so -sa and -sd are not needed when building
      for dgit push), makes a signed git tag, edits the .dsc to contain the dgit
      metadata field, runs debsign to sign the upload (.dsc and .changes),
      pushes the signed tag, and finally uses dput to upload the .changes to the
      archive.
    <div style="height: 1.00em;">&#x00A0;</div>
    dgit push always uses the package, suite and version specified in the
      debian/changelog and the .dsc, which must agree. If the command line
      specifies a suite then that must match too.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit rpush</b> <i>build-host</i><b>:</b><i>build-dir</i>
    [ <i>push args...</i>]</dt>
  <dd class="It-tag">Pushes the contents of the specified directory on a remote
      machine. This is like running dgit push on build-host with build-dir as
      the current directory; however, signing operations are done on the
      invoking host. This allows you to do a push when the system which has the
      source code and the build outputs has no access to the key:
    <div style="height: 1.00em;">&#x00A0;</div>
    <table class="tbl">
      <colgroup>
        <col style="width: 2.00ex;"/>
        <col style="width: 56.00ex;"/>
      </colgroup>
      <tr>
        <td>1.</td>
        <td>Clone on build host (dgit clone)</td>
      </tr>
      <tr>
        <td>2.</td>
        <td>Edit code on build host (edit, git commit)</td>
      </tr>
      <tr>
        <td>3.</td>
        <td>Build package on build host (dgit build)</td>
      </tr>
      <tr>
        <td>4.</td>
        <td>Test package on build host or elsewhere (dpkg -i, test)</td>
      </tr>
      <tr>
        <td>5.</td>
        <td>Upload by invoking dgit rpush on host with your GPG key.</td>
      </tr>
    </table>
    <div style="height: 1.00em;">&#x00A0;</div>
    However, the build-host must be able to ssh to the dgit repos. If this is
      not already the case, you must organise it separately, for example by the
      use of ssh agent forwarding.
    <div style="height: 1.00em;">&#x00A0;</div>
    The remaining arguments are treated just as dgit push would handle them.
    <div style="height: 1.00em;">&#x00A0;</div>
    build-host and build-dir can be passed as separate arguments; this is
      assumed to be the case if the first argument contains no : (except perhaps
      one in [ ], to support IPv6 address literals).
    <div style="height: 1.00em;">&#x00A0;</div>
    You will need similar enough versions of dgit on the build-host and the
      invocation host. The build-host needs gnupg installed, with your public
      key in its keyring (but not your private key, obviously).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit setup-new-tree</b></dt>
  <dd class="It-tag">Configure the current working tree the way that dgit clone
      would have set it up. Like running <b>dgit setup-useremail</b>,
      <b>setup-mergechangelogs</b> and <b>setup-gitattributes</b> (but only does
      each thing if dgit is configured to do it automatically). You can use
      these in any git repository, not just ones used with the other dgit
      operations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit setup-useremail</b></dt>
  <dd class="It-tag">Set the working tree's user.name and user.email from the
      distro-specific dgit configuration
      (<b>dgit-distro.</b><i>distro</i><b>.user-name</b> and
      <b>.user-email</b>), or DEBFULLNAME or DEBEMAIL.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit setup-mergechangelogs</b></dt>
  <dd class="It-tag">Configures a git merge helper for the file
      <b>debian/changelog</b> which uses <b>dpkg-mergechangelogs</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit setup-gitattributes</b></dt>
  <dd class="It-tag">Set up the working tree's <b>.git/info/attributes</b> to
      disable all transforming attributes for all files. This is done by
      defining a macro attribute <b>dgit-defuse-attrs</b> and applying it to
      <b>*</b>. For why, see <b>GITATTRIBUTES</b> in <b>dgit(7)</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    (If there is already a macro attribute line <b>[attr]dgit-defuse-attrs</b>
      in .git/info/attributes (whatever its effects), this operation does
      nothing further. This fact can be used to defeat or partially defeat dgit
      setup-gitattributes and hence dgit setup-new-tree.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit quilt-fixup</b></dt>
  <dd class="It-tag">`3.0 (quilt)' format source packages need changes
      representing not only in-tree but also as patches in debian/patches. dgit
      quilt-fixup checks whether this has been done; if not, dgit will make
      appropriate patches in debian/patches and also commit the resulting
      changes to git.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is normally done automatically by dgit build and dgit push.
    <div style="height: 1.00em;">&#x00A0;</div>
    dgit will try to turn each relevant commit in your git history into a new
      quilt patch. dgit cannot convert nontrivial merges, or certain other kinds
      of more exotic history. If dgit can't find a suitable linearisation of
      your history, by default it will fail, but you can ask it to generate a
      single squashed patch instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit import-dsc</b> [<i>sub-options</i>]
    <i>../path/to/.dsc</i> [ <b>+</b>|<b>..</b>]branch</dt>
  <dd class="It-tag">Import a Debian-format source package, specified by its
      .dsc, into git, the way dgit fetch would do.
    <div style="height: 1.00em;">&#x00A0;</div>
    This does about half the work of dgit fetch: it will convert the .dsc into a
      new, orphan git branch. Since dgit has no access to a corresponding source
      package archive or knowledge of the history it does not consider whether
      this version is newer than any previous import or corresponding git
      branches; and it therefore does not make a pseudomerge to bind the import
      into any existing git history.
    <div style="height: 1.00em;">&#x00A0;</div>
    Because a .dsc can contain a Dgit field naming a git commit (which you might
      not have), and specifying where to find that commit (and any history
      rewrite table), import-dsc might need online access. If this is a problem
      (or dgit's efforts to find the commit fail), consider
      --no-chase-dsc-distro or --force-import-dsc-with-dgit-field.
    <div style="height: 1.00em;">&#x00A0;</div>
    There is only only sub-option:
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>--require-valid-signature</b> causes dgit to insist that the signature on
      the .dsc is valid (using the same criteria as dpkg-source -x). Otherwise,
      dgit tries to verify the signature but the outcome is reported only as
      messages to stderr.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>branch</i> is prefixed with <b>+</b> then if it already exists, it
      will be simply ovewritten, no matter its existing contents. If
      <i>branch</i> is prefixed with <b>..</b> then if it already exists and
      dgit actually imports the dsc (rather than simply reading the git commit
      out of the Dgit field), dgit will make a pseudomerge so that the result is
      necessarily fast forward from the existing branch. Otherwise, if branch
      already exists, dgit will stop with an error message.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>branch</i> does not start with refs/, refs/heads/ is prepended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit version</b></dt>
  <dd class="It-tag">Prints version information and exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit clone-dgit-repos-server</b><i> destdir</i></dt>
  <dd class="It-tag">Tries to fetch a copy of the source code for the
      dgit-repos-server, as actually being used on the dgit git server, as a git
      tree.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit print-dgit-repos-server-source-url</b></dt>
  <dd class="It-tag">Prints the url used by dgit clone-dgit-repos-server. This
      is hopefully suitable for use as a git remote url. It may not be useable
      in a browser.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dry-run</b> | <b>-n</b></dt>
  <dd class="It-tag">Go through the motions, fetching all information needed,
      but do not actually update the output(s). For push, dgit does the required
      checks and leaves the new .dsc in a temporary file, but does not sign,
      tag, push or upload.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--damp-run</b> | <b>-L</b></dt>
  <dd class="It-tag">Go through many more of the motions: do everything that
      doesn't involve either signing things, or making changes on the public
      servers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b><i>keyid</i></dt>
  <dd class="It-tag">Use <i>keyid</i> for signing the tag and the upload. The
      default comes from the distro's <b>keyid</b> config setting (see
      CONFIGURATION, below), or failing that, the uploader trailer line in
      debian/changelog.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-sign</b></dt>
  <dd class="It-tag">does not sign tags or uploads (meaningful only with
    push).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b><i>package</i></dt>
  <dd class="It-tag">Specifies that we should process source package
      <i>package</i> rather than looking in debian/control or debian/changelog.
      Valid with dgit fetch and dgit pull, only.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clean=git</b> | <b>-wg</b></dt>
  <dd class="It-tag">Use <b>git clean -xdf</b> to clean the working tree, rather
      than running the package's rules clean target.
    <div style="height: 1.00em;">&#x00A0;</div>
    This will delete all files which are not tracked by git. (Including any
      files you forgot to git add.)
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>--clean=</b><i>...</i> options other than dpkg-source are useful when the
      package's clean target is troublesome, or to avoid needing the
      build-dependencies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clean=git-ff</b> | <b>-wgf</b></dt>
  <dd class="It-tag">Use <b>git clean -xdff</b> to clean the working tree. Like
      git clean -xdf but it also removes any subdirectories containing different
      git trees (which only unusual packages are likely to create).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clean=check</b> | <b>-wc</b></dt>
  <dd class="It-tag">Merely check that the tree is clean (does not contain
      uncommitted files). Avoids running rules clean, and can avoid needing the
      build-dependencies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clean=none</b> | <b>-wn</b></dt>
  <dd class="It-tag">Do not clean the tree, nor check that it is clean. Avoids
      running rules clean, and can avoid needing the build-dependencies. If
      there are files which are not in git, or if the build creates such files,
      a subsequent dgit push will fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clean=dpkg-source</b> | <b>-wd</b></dt>
  <dd class="It-tag">Use dpkg-buildpackage to do the clean, so that the source
      package is cleaned by dpkg-source running the package's clean target. This
      is the default. Requires the package's build dependencies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--clean=dpkg-source-d</b> | <b>-wdd</b></dt>
  <dd class="It-tag">Use <b>dpkg-buildpackage -d</b> to do the clean, so that
      the source package is cleaned by dpkg-source running the package's clean
      target. The build-dependencies are not checked (due to <b>-d</b>), which
      violates policy, but may work in practice.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b> | <b>--new</b></dt>
  <dd class="It-tag">The package is or may be new in this suite. Without this,
      dgit will refuse to push. It may (for Debian, will) be unable to access
      the git history for any packages which have been newly pushed and have not
      yet been published.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignore-dirty</b></dt>
  <dd class="It-tag">Do not complain if the working tree does not match your git
      HEAD. This can be useful with build, if you plan to commit later. (dgit
      push will still ensure that the .dsc you upload and the git tree you push
      are identical, so this option won't make broken pushes.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b>[=<i>previous-version</i>]</dt>
  <dd class="It-tag">Declare that even though your git branch is not a
      descendant of the version in the archive according to the revision
      history, it really does contain all the (wanted) changes from that
      version.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is useful if you are the maintainer, and you have incorporated
      NMU changes into your own git workflow in a way that doesn't make your
      branch a fast forward from the NMU.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>previous-version</i> ought to be the version currently in the archive. If
      <i>previous-version</i> is not specified, dgit will check that the version
      in the archive is mentioned in your debian/changelog. (This will avoid
      losing changes unless someone committed to git a finalised changelog
      entry, and then made later changes to that version.)
    <div style="height: 1.00em;">&#x00A0;</div>
    dgit push --overwrite will make a pseudo-merge (that is, something that
      looks like the result of git merge -s ours) to stitch the archive's
      version into your own git history, so that your push is a fast forward
      from the archive.
    <div style="height: 1.00em;">&#x00A0;</div>
    (In quilt mode <b>gbp</b>, <b>dpm</b> or <b>unpatched</b>, implying a split
      between the dgit view and the maintainer view, the pseudo-merge will
      appear only in the dgit view.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delayed</b>=<i>days</i></dt>
  <dd class="It-tag">Upload to a DELAYED queue.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>WARNING:</b> If the maintainer responds by cancelling your upload from
      the queue, and does not make an upload of their own, this will not rewind
      the git branch on the dgit git server. Other dgit users will then see your
      push (with a warning message from dgit) even though the maintainer wanted
      to abolish it. Such users might unwittingly reintroduce your changes.
    <div style="height: 1.00em;">&#x00A0;</div>
    If this situation arises, someone should make a suitable dgit push to update
      the contents of dgit-repos to a version without the controversial
    changes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-chase-dsc-distro</b></dt>
  <dd class="It-tag">Tells dgit not to look online for additional git
      repositories containing information about a particular .dsc being
      imported. Chasing is the default.
    <div style="height: 1.00em;">&#x00A0;</div>
    For most operations (such as fetch and pull), disabling chasing means dgit
      will access only the git server for the distro you are directly working
      with, even if the .dsc was copied verbatim from another distro. For
      import-dsc, disabling chasing means dgit will work completely offline.
    <div style="height: 1.00em;">&#x00A0;</div>
    Disabling chasing can be hazardous: if the .dsc names a git commit which has
      been rewritten by those in charge of the distro, this option may prevent
      that rewrite from being effective. Also, it can mean that dgit fails to
      find necessary git commits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dgit-view-save=</b><i>branch</i>|<i>ref</i></dt>
  <dd class="It-tag">Specifies that when a split view quilt mode is in
      operation, and dgit calculates (or looks up in its cache) a dgit view
      corresponding to your HEAD, the dgit view will be left in <i>ref</i>. The
      specified ref is unconditionally overwritten, so don't specify a branch
      you want to keep.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is effective only with the following operations: quilt-fixup;
      push; all builds. And it is only effective with --[quilt=]gbp,
      --[quilt=]dpm, --quilt=unpatched.
    <div style="height: 1.00em;">&#x00A0;</div>
    If ref does not start with refs/ it is taken to to be a branch - i.e.
      refs/heads/ is prepended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deliberately-</b><i>something</i></dt>
  <dd class="It-tag">Declare that you are deliberately doing <i>something</i>.
      This can be used to override safety catches, including safety catches
      which relate to distro-specific policies. The use of --deliberately is
      declared and published in the signed tags generated for you by dgit, so
      that the archive software can give effect to your intent, and for the
      benefit humans looking at the history. The meanings of <i>something</i>s
      understood in the context of Debian are discussed below:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deliberately-not-fast-forward</b></dt>
  <dd class="It-tag">Declare that you are deliberately rewinding history. When
      pushing to Debian, use this when you are making a renewed upload of an
      entirely new source package whose previous version was not accepted for
      release from NEW because of problems with copyright or
    redistributibility.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deliberately-include-questionable-history</b></dt>
  <dd class="It-tag">Declare that you are deliberately including, in the git
      history of your current push, history which contains a
      previously-submitted version of this package which was not approved (or
      has not yet been approved) by the ftpmasters. When pushing to Debian, only
      use this option after verifying that: none of the rejected-from-NEW (or
      never-accepted) versions in the git history of your current push, were
      rejected by ftpmaster for copyright or redistributability reasons.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--deliberately-fresh-repo</b></dt>
  <dd class="It-tag">Declare that you are deliberately rewinding history and
      want to throw away the existing repo. Not relevant when pushing to Debian,
      as the Debian server will do this automatically when necessary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quilt=linear</b></dt>
  <dd class="It-tag">When fixing up source format `3.0 (quilt)' metadata, insist
      on generating a linear patch stack: one new patch for each relevant
      commit. If such a stack cannot be generated, fail. This is the default for
      Debian.
    <div style="height: 1.00em;">&#x00A0;</div>
    HEAD should be a series of plain commits (not touching debian/patches/), and
      pseudomerges, with as ancestor a patches-applied branch.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quilt=auto</b></dt>
  <dd class="It-tag">When fixing up source format `3.0 (quilt)' metadata, prefer
      to generate a linear patch stack (as with --quilt=auto) but if that
      doesn't seem possible, try to generate a single squashed patch for all the
      changes made in git (as with --quilt=smash). This is not a good idea for
      an NMU in Debian.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quilt=smash</b></dt>
  <dd class="It-tag">When fixing up source format `3.0 (quilt)' metadata,
      generate a single additional patch for all the changes made in git. This
      is not a good idea for an NMU in Debian.
    <div style="height: 1.00em;">&#x00A0;</div>
    (If HEAD has any in-tree patches already, they must apply cleanly. This will
      be the case for any trees produced by dgit fetch or clone; if you do not
      change the upstream version nor make changes in debian/patches, it will
      remain true.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quilt=nofix</b></dt>
  <dd class="It-tag">Check whether source format `3.0 (quilt)' metadata would
      need fixing up, but, if it does, fail. You must then fix the metadata
      yourself somehow before pushing. (NB that dpkg-source --commit will not
      work because the dgit git tree does not have a <b>.pc</b> directory.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quilt=nocheck</b> | <b>--no-quilt-fixup</b></dt>
  <dd class="It-tag">Do not check whether up source format `3.0 (quilt)'
      metadata needs fixing up. If you use this option and the metadata did in
      fact need fixing up, dgit push will fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--</b>[<b>quilt=</b>]<b>gbp</b> |
    <b>--</b>[<b>quilt=</b>]<b>dpm</b> | <b>--quilt=unapplied</b></dt>
  <dd class="It-tag">Tell dgit that you are using a nearly-dgit-compatible git
      branch, aka a <b>maintainer view</b>, and do not want your branch changed
      by dgit.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>--gbp</b> (short for <b>--quilt=gbp</b>) is for use with
      git-buildpackage. Your HEAD is expected to be a patches-unapplied git
      branch, except that it might contain changes to upstream .gitignore files.
      This is the default for dgit gbp-build.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>--dpm</b> (short for <b>--quilt=dpm</b>) is for use with git-dpm. Your
      HEAD is expected to be a patches-applied git branch, except that it might
      contain changes to upstream .gitignore files.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>--quilt=unapplied</b> specifies that your HEAD is a patches-unapplied git
      branch (and that any changes to upstream .gitignore files are represented
      as patches in debian/patches).
    <div style="height: 1.00em;">&#x00A0;</div>
    With --quilt=gbp|dpm|unapplied, dgit push (or precursors like quilt-fixup
      and build) will automatically generate a conversion of your git branch
      into the right form. dgit push will push the dgit-compatible form (the
      <b>dgit view</b>) to the dgit git server. The dgit view will be visible to
      you in the dgit remote tracking branches, but your own branch will not be
      modified. dgit push will create a tag <b>debian/</b><i>version</i> for the
      maintainer view, and the dgit tag <b>archive/debian/</b><i>version</i> for
      the dgit view. dgit quilt-fixup will merely do some checks, and cache the
      maintainer view.
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>If you have a branch like this it is essential to specify the appropriate
      --quilt= option!</b> This is because it is not always possible to tell: a
      patches-unapplied git branch of a package with one patch, for example,
      looks very like a patches-applied branch where the user has used git
      revert to undo the patch, expecting to actually revert it. However, if you
      fail to specify the right --quilt option, and you aren't too lucky, dgit
      will notice the problem and stop, with a useful hint.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b><i>distro</i> | <b>--distro=</b><i>distro</i></dt>
  <dd class="It-tag">Specifies that the suite to be operated on is part of
      distro <i>distro</i>. This overrides the default value found from the git
      config option <b>dgit-suite.</b><i>suite</i><b>.distro</b>. The only
      effect is that other configuration variables (used for accessing the
      archive and dgit-repos) used are
      <b>dgit-distro.</b><i>distro</i><b>.*</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If your suite is part of a distro that dgit already knows about, you can use
      this option to make dgit work even if your dgit doesn't know about the
      suite. For example, specifying <b>-ddebian</b> will work when the suite is
      an unknown suite in the Debian archive.
    <div style="height: 1.00em;">&#x00A0;</div>
    To define a new distro it is necessary to define methods and URLs for
      fetching (and, for dgit push, altering) a variety of information both in
      the archive and in dgit-repos. How to set this up is not yet
    documented.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b><i>changesfile</i></dt>
  <dd class="It-tag">Specifies the .changes file which is to be uploaded. By
      default dgit push looks for single .changes file in the parent directory
      whose filename suggests it is for the right package and version.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the specified <i>changesfile</i> pathname contains slashes, the directory
      part is also used as the value for <b>--build-products-dir</b>; otherwise,
      the changes file is expected in that directory (by default, in
    <b>..</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rm-old-changes</b></dt>
  <dd class="It-tag">When doing a build, delete any changes files matching
      <i>package</i><b>_</b><i>version</i><b>_*.changes</b> before starting.
      This ensures that dgit push (and dgit sbuild) will be able to unambigously
      identify the relevant changes files from the most recent build, even if
      there have been previous builds with different tools or options. The
      default is not to remove, but <b>--no-rm-old-changes</b> can be used to
      override a previous --rm-old-changes or the .rm-old-changes configuration
      setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--build-products-dir=</b><i>directory</i></dt>
  <dd class="It-tag">Specifies where to find the built files to be uploaded. By
      default, dgit looks in the parent directory (<b>..</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-rm-on-error</b></dt>
  <dd class="It-tag">Do not delete the destination directory if clone
    fails.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dep14tag</b></dt>
  <dd class="It-tag">Generates a DEP-14 tag (eg <b>debian/</b><i>version</i>) as
      well as a dgit tag (eg <b>archive/debian/</b><i>version</i>) where
      possible. This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no-dep14tag</b></dt>
  <dd class="It-tag">Do not generate a DEP-14 tag, except in split quilt view
      mode. (On servers where only the old tag format is supported, the dgit tag
      will have the DEP-14 name. This option does not prevent that.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dep14tag-always</b></dt>
  <dd class="It-tag">Insist on generating a DEP-14 tag as well as a dgit tag. If
      the server does not support that, dgit push will fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b></dt>
  <dd class="It-tag">Prints debugging information to stderr. Repeating the
      option produces more output (currently, up to -DDDD is meaningfully
      different).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b><i>name</i><b>=</b><i>value</i></dt>
  <dd class="It-tag">Specifies a git configuration option, to be used for this
      run. dgit itself is also controlled by git configuration options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b><i>version</i>|<b>_</b> |
    <i><b>--since-version=</b></i>version<i>|<b>_</b></i></dt>
  <dd class="It-tag">Specifies the <b>-v</b><i>version</i> option to pass to
      dpkg-genchanges, during builds. Changes (from debian/changelog) since this
      version will be included in the built changes file, and hence in the
      upload. If this option is not specified, dgit will query the archive and
      use the latest version uploaded to the intended suite.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifying <b>_</b> inhibits this, so that no -v option will be passed to
      dpkg-genchanges (and as a result, only the last stanza from
      debian/changelog will be used for the build and upload).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b><i>maintaineraddress</i></dt>
  <dd class="It-tag">Passed to dpkg-genchanges (eventually).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ch:</b><i>option</i></dt>
  <dd class="It-tag">Specifies a single additional option to pass, eventually,
      to dpkg-genchanges.
    <div style="height: 1.00em;">&#x00A0;</div>
    Options which are safe to pass include <b>-C</b> (and also <b>-si -sa
      -sd</b> although these should never be necessary with Debian since dgit
      automatically calculates whether .origs need to be uploaded.)
    <div style="height: 1.00em;">&#x00A0;</div>
    For other options the caveat below applies.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--curl:</b><i>option</i> | <b>--dput:</b><i>option</i>
    |...</dt>
  <dd class="It-tag">Specifies a single additional option to pass to
      <b>curl</b>, <b>dput</b>, <b>debsign</b>, <b>dpkg-source</b>,
      <b>dpkg-buildpackage</b>, <b>dpkg-genchanges</b>, <b>sbuild</b>,
      <b>ssh</b>, <b>dgit</b>, <b>apt-get</b>, <b>apt-cache</b>, <b>gbp-pq</b>,
      <b>gbp-build</b>, or <b>mergechanges</b>. Can be repeated as necessary.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use of this ability should not normally be necessary. It is provided for
      working around bugs, or other unusual situations. If you use these
      options, you may violate dgit's assumptions about the behaviour of its
      subprograms and cause lossage.
    <div style="height: 1.00em;">&#x00A0;</div>
    For dpkg-buildpackage, dpkg-genchanges, mergechanges and sbuild, the option
      applies only when the program is invoked directly by dgit. Usually, for
      passing options to dpkg-genchanges, you should use
      <b>--ch:</b><i>option</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifying --git is not effective for some lower-level read-only git
      operations performed by dgit, and also not when git is invoked by another
      program run by dgit.
    <div style="height: 1.00em;">&#x00A0;</div>
    See notes below regarding ssh and dgit.
    <div style="height: 1.00em;">&#x00A0;</div>
    NB that --gpg:option is not supported (because debsign does not have that
      facility). But see <b>-k</b> and the <b>keyid</b> distro config
    setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--curl=</b><i>program</i> | <b>--dput=</b><i>program</i>
    |...</dt>
  <dd class="It-tag">Specifies alternative programs to use instead of
      <b>curl</b>, <b>dput</b>, <b>debsign</b>, <b>dpkg-source</b>,
      <b>dpkg-buildpackage</b>, <b>dpkg-genchanges</b>, <b>sbuild</b>,
      <b>gpg</b>, <b>ssh</b>, <b>dgit</b>, <b>apt-get</b>, <b>apt-cache</b>,
      <b>git</b>, <b>gbp-pq</b>, <b>gbp-build</b>, or <b>mergechanges</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    For <b>dpkg-buildpackage</b>, <b>dpkg-genchanges</b>, <b>mergechanges</b>
      and <b>sbuild</b>, this applies only when the program is invoked directly
      by dgit.
    <div style="height: 1.00em;">&#x00A0;</div>
    For <b>dgit</b>, specifies the command to run on the remote host when dgit
      rpush needs to invoke a remote copy of itself. (dgit also reinvokes itself
      as the EDITOR for dpkg-source --commit; this is done using argv[0], and is
      not affected by --dgit=).
    <div style="height: 1.00em;">&#x00A0;</div>
    <b>gbp-build</b>'s value is used instead of gbp build or git-buildpackage.
      (The default is the latter unless the former exists on PATH.)
      <b>gbp-pq</b>'s value is used instead of gbp pq. In both cases, unusually,
      the specified value is split on whitespace to produce a command and
      possibly some options and/or arguments.
    <div style="height: 1.00em;">&#x00A0;</div>
    For <b>ssh</b>, the default value is taken from the <b>DGIT_SSH</b> or
      <b>GIT_SSH</b> environment variables, if set (see below). And, for ssh,
      when accessing the archive and dgit-repos, this command line setting is
      overridden by the git config variables
      <b>dgit-distro.</b><i>distro</i><b>.ssh</b> and <b>.dgit.default.ssh</b>
      (which can in turn be overridden with -c). Also, when dgit is using git to
      access dgit-repos, only git's idea of what ssh to use (eg, <b>GIT_SSH</b>)
      is relevant.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--existing-package=</b><i>package</i></dt>
  <dd class="It-tag">dgit push needs to canonicalise the suite name. Sometimes,
      dgit lacks a way to ask the archive to do this without knowing the name of
      an existing package. Without --new we can just use the package we are
      trying to push. But with --new that will not work, so we guess <b>dpkg</b>
      or use the value of this option. This option is not needed with the
      default mechanisms for accessing the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>|<b>--help</b></dt>
  <dd class="It-tag">Print a usage summary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--initiator-tempdir=</b><i>directory</i></dt>
  <dd class="It-tag">dgit rpush uses a temporary directory on the invoking
      (signing) host. This option causes dgit to use <i>directory</i> instead.
      Furthermore, the specified directory will be emptied, removed and
      recreated before dgit starts, rather than removed after dgit finishes. The
      directory specified must be an absolute pathname.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-</b><i>something</i></dt>
  <dd class="It-tag">Instructs dgit to try to proceed despite detecting what it
      thinks is going to be a fatal problem. <b>This is probably not going to
      work.</b> These options are provided as an escape hatch, in case dgit is
      confused. (They might also be useful for testing error cases.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-import-dsc-with-dgit-field</b></dt>
  <dd class="It-tag">Tell dgit import-dsc to treat a .dsc with a Dgit field like
      one without it. The result is a fresh import, discarding the git history
      that the person who pushed that .dsc was working with.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-unrepresentable</b></dt>
  <dd class="It-tag">Carry on even if dgit thinks that your git tree contains
      changes (relative to your .orig tarballs) which dpkg-source is not able to
      represent. Your build or push will probably fail later.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-changes-origs-exactly</b></dt>
  <dd class="It-tag">Use the set of .origs specified in your .changes, exactly,
      without regard to what is in the archive already. The archive may well
      reject your upload.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-unsupported-source-format</b></dt>
  <dd class="It-tag">Carry on despite dgit not understanding your source package
      format. dgit will probably mishandle it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-dsc-changes-mismatch</b></dt>
  <dd class="It-tag">Do not check whether .dsc and .changes match. The archive
      will probably reject your upload.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--force-import-gitapply-absurd</b> |
    <b>--force-import-gitapply-no-absurd</b></dt>
  <dd class="It-tag">Force on or off the use of the absurd git-apply emulation
      when running gbp pq import when importing a package from a .dsc. See
      Debian bug #841867.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONFIGURATION"><a class="selflink" href="#CONFIGURATION">CONFIGURATION</a></h1>
dgit can be configured via the git config system. You may set keys with
  git-config (either in system-global or per-tree configuration), or provide
  <b>-c</b><i>key</i><b>=</b><i>value</i> on the dgit command line.
<div class="Pp"></div>
Settings likely to be useful for an end user include:
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-suite.</b><i>suite</i><b>.distro</b>
    <i>distro</i></dt>
  <dd class="It-tag">Specifies the distro for a suite. dgit keys off the suite
      name (which appears in changelogs etc.), and uses that to determine the
      distro which is involved. The config used is thereafter that for the
      distro.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>suite</i> may be a glob pattern.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.default.distro</b><i> distro</i></dt>
  <dd class="It-tag">The default distro for an unknown suite.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.default.default-suite</b><i> suite</i></dt>
  <dd class="It-tag">The default suite (eg for clone).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.default.</b>*</dt>
  <dd class="It-tag">for each <b>dgit-distro.</b><i>distro</i><b>.</b>*, the
      default value used if there is no distro-specific setting.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.clean-mode</b></dt>
  <dd class="It-tag">One of the values for the command line --clean= option;
      used if --clean is not specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.quilt-mode</b></dt>
  <dd class="It-tag">One of the values for the command line --quilt= option;
      used if --quilt is not specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.rm-old-changes</b></dt>
  <dd class="It-tag">Boolean, used if neither --rm-old-changes nor
      --no-rm-old-changes is specified. The default is not to remove.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.readonly</b>
    <b>auto</b>|<b>a</b> | <b>true</b>|<b>t</b>|<b>y</b>|<b>1</b> |
    <b>false</b>|<b>f</b>|<b>n</b>|<b>0</b></dt>
  <dd class="It-tag">Whether you have push access to the distro. For Debian, it
      is OK to use auto, which uses readonly mode if you are not pushing right
      now; but, setting this to false will avoid relying on the mirror of the
      dgit git repository server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.keyid</b></dt>
  <dd class="It-tag">See also <b>-k</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.mirror</b><i>
    url</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.username</b></dt>
  <dd class="It-tag">Not relevant for Debian.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.upload-host</b></dt>
  <dd class="It-tag">Might be useful if you have an intermediate queue
    server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.user-name</b><i>
    </i><b>dgit-distro.</b><i>distro</i><b>.user-email</b></dt>
  <dd class="It-tag">Values to configure for user.name and user.email in new git
      trees. If not specified, the DEBFULLNAME and DEBEMAIL environment
      variables are used, respectively. Only used if .setup-usermail is not
      disabled.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.setup-useremail</b></dt>
  <dd class="It-tag">Whether to set user.name and user.email in new git trees.
      True by default. Ignored for dgit setup-setup-useremail, which does it
      anyway.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.setup-mergechangelogs</b></dt>
  <dd class="It-tag">Whether to setup a merge driver which uses
      dpkg-mergechangelogs for debian/changelog. True by default. Ignored for
      dgit setup-mergechangelogs, which does it anyway.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.setup-gitattributes</b></dt>
  <dd class="It-tag">Whether to configure .git/info/attributes to suppress
      checkin/checkout file content transformations in new git trees. True by
      default. Ignored for dgit setup-gitattributes, which does it anyway.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.cmd-</b><i>cmd</i></dt>
  <dd class="It-tag">Program to use instead of <i>cmd</i>. Works like
      <b>--</b><i>cmd</i><b>=</b>... .</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.opts-</b><i>cmd</i></dt>
  <dd class="It-tag">Extra options to pass to <i>cmd</i>. Works like
      <b>--</b><i>cmd</i><b>:</b>... . To pass several options, configure
      multiple values in git config (with git config --add). The options for
      <b>dgit.default.opts-</b><i>cmd</i>
      <b>dgit-distro.</b><i>distro</i><b>/push.opts-</b><i>cmd</i> and are all
      used, followed by options from dgit's command line.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ACCESS_CONFIGURATION"><a class="selflink" href="#ACCESS_CONFIGURATION">ACCESS
  CONFIGURATION</a></h1>
There are many other settings which specify how a particular distro's services
  (archive and git) are provided. These should not normally be adjusted, but are
  documented for the benefit of distros who wish to adopt dgit.
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.nominal-distro</b></dt>
  <dd class="It-tag">Shown in git tags, Dgit fields, and so on.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.alias-canon</b></dt>
  <dd class="It-tag">Used for all access configuration lookup.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>/push.</b>*</dt>
  <dd class="It-tag">If set, overrides corresponding non <b>/push</b> config
      when <b>readonly=false</b>, or when pushing and <b>readonly=auto</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-url</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-url</b>[<b>-suffix</b>]</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-proto</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-path</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-check</b>
    <b>true</b>|<b>false</b>|<b>url</b>|<b>ssh-cmd</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-check-suffix</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.diverts.divert</b>
    <b>new-distro</b>|<b>/</b><i>distro-suffix</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.git-create</b><i>
    </i><b>ssh-cmd</b><i>|</i><b>true</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.archive-query</b>
    <b>ftpmasterapi:</b> | <b>madison:</b><i>distro</i> |
    <b>dummycat:</b><i>/path</i> |
    <b>sshpsql:</b><i>user</i><b>@</b><i>host</i><b>:</b><i>dbname</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.archive-query-</b>(<b>url</b>|<b>tls-key</b>|<b>curl-ca-args</b>)</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.madison-distro</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.archive-query-default-component</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.dgit-tag-format</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.dep14tag</b>
    <b>want</b>|<b>no</b>|<b>always</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.ssh</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.sshpsql-dbname</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.</b>(<b>git</b>|<b>sshpsql</b>)<b>-</b>(<b>user</b>|<b>host</b>|<b>user-force</b>)</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.backports-quirk</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit-distro.</b><i>distro</i><b>.rewrite-map-enable</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.default.old-dsc-distro</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.dsc-url-proto-ok.</b><i>protocol</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.dsc-url-proto-ok.bad-syntax</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dgit.default.dsc-url-proto-ok</b></dt>
  <dd class="It-tag"></dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DGIT_SSH</b>, <b>GIT_SSH</b></dt>
  <dd class="It-tag">specify an alternative default program (and perhaps
      arguments) to use instead of ssh. DGIT_SSH is consulted first and may
      contain arguments; if it contains any whitespace will be passed to the
      shell. GIT_SSH specifies just the program; no arguments can be specified,
      so dgit interprets it the same way as git does. See also the --ssh= and
      --ssh: options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>DEBEMAIL</b>, <b>DEBFULLNAME</b></dt>
  <dd class="It-tag">Default git user.email and user.name for new trees. See
      <b>dgit setup-new-tree</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>gpg</b>, <b>dpkg-</b>..., <b>debsign</b>, <b>git</b>,
    <b>curl</b>, <b>dput</b>, <b>LWP::UserAgent</b></dt>
  <dd class="It-tag">and other subprograms and modules used by dgit are affected
      by various environment variables. Consult the documentaton for those
      programs for details.</dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
There should be a `dgit rebase-prep' command or some such to turn a
  fast-forwarding branch containing pseudo-merges back into a rebasing patch
  stack. It might have to leave a note for a future dgit push.
<div style="height: 1.00em;">&#x00A0;</div>
If the dgit push fails halfway through, it is not necessarily restartable and
  idempotent. It would be good to check that the proposed signing key is
  available before starting work.
<div style="height: 1.00em;">&#x00A0;</div>
dgit's build functions, and dgit push, may make changes to your current HEAD.
  Sadly this is necessary for packages in the `3.0 (quilt)' source format. This
  is ultimately due to what I consider design problems in quilt and dpkg-source.
<div style="height: 1.00em;">&#x00A0;</div>
--dry-run does not always work properly, as not doing some of the git fetches
  may result in subsequent actions being different. Doing a non-dry-run dgit
  fetch first will help. --damp-run is likely to work much better.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dgit</b>(7), <b>dgit-*</b>(7), <b>curl</b>(1), <b>dput</b>(1),
  <b>debsign</b>(1), <b>git-config</b>(1), <b>git-buildpackage</b>(1),
  <b>dpkg-buildpackage</b>(1),
<div>&#x00A0;</div>
https://browse.dgit.debian.org/</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">Debian Project</td>
  </tr>
</table>
</body>
</html>
