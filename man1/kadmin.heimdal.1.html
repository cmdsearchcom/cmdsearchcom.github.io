<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KADMIN(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KADMIN(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">KADMIN(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b class="Nm" title="Nm">kadmin</b> &#x2014;
  <span class="Nd" title="Nd">Kerberos administration utility</span>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><b class="Nm" title="Nm">kadmin</b></td>
    <td>[<span class="Op"><b class="Fl" title="Fl">-p</b>
      <var class="Ar" title="Ar">string</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-principal=</b><var class="Ar" title="Ar">string</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-K</b>&#x00A0;<var class="Ar" title="Ar">string</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-keytab=</b><var class="Ar" title="Ar">string</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-c</b>&#x00A0;<var class="Ar" title="Ar">file</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-config-file=</b><var class="Ar" title="Ar">file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-k</b>&#x00A0;<var class="Ar" title="Ar">file</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-key-file=</b><var class="Ar" title="Ar">file</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-r</b>&#x00A0;<var class="Ar" title="Ar">realm</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-realm=</b><var class="Ar" title="Ar">realm</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-a</b>&#x00A0;<var class="Ar" title="Ar">host</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-admin-server=</b><var class="Ar" title="Ar">host</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-s</b>&#x00A0;<var class="Ar" title="Ar">port&#x00A0;number</var>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-server-port=</b><var class="Ar" title="Ar">port&#x00A0;number</var></span>]
      [<span class="Op"><b class="Fl" title="Fl">-l</b>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-local</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-h</b>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-help</b></span>]
      [<span class="Op"><b class="Fl" title="Fl">-v</b>&#x00A0;|&#x00A0;<b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-version</b></span>]
      [<span class="Op"><var class="Ar" title="Ar">command</var></span>]</td>
  </tr>
</table>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b class="Nm" title="Nm">kadmin</b> program is used to make modifications to
  the Kerberos database, either remotely via the
  <a class="Xr" title="Xr">kadmind(8)</a> daemon, or locally (with the
  <b class="Fl" title="Fl">-l</b> option).
<div class="Pp"></div>
Supported options:
<dl class="Bl-tag">
  <dt class="It-tag"><a class="selflink" href="#p"><b class="Fl" title="Fl" id="p">-p</b></a>
    <var class="Ar" title="Ar">string</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-principal=</b><var class="Ar" title="Ar">string</var></dt>
  <dd class="It-tag">principal to authenticate as</dd>
  <dt class="It-tag"><a class="selflink" href="#K"><b class="Fl" title="Fl" id="K">-K</b></a>
    <var class="Ar" title="Ar">string</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-keytab=</b><var class="Ar" title="Ar">string</var></dt>
  <dd class="It-tag">keytab for authentication principal</dd>
  <dt class="It-tag"><a class="selflink" href="#c"><b class="Fl" title="Fl" id="c">-c</b></a>
    <var class="Ar" title="Ar">file</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-config-file=</b><var class="Ar" title="Ar">file</var></dt>
  <dd class="It-tag">location of config file</dd>
  <dt class="It-tag"><a class="selflink" href="#k"><b class="Fl" title="Fl" id="k">-k</b></a>
    <var class="Ar" title="Ar">file</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-key-file=</b><var class="Ar" title="Ar">file</var></dt>
  <dd class="It-tag">location of master key file</dd>
  <dt class="It-tag"><a class="selflink" href="#r"><b class="Fl" title="Fl" id="r">-r</b></a>
    <var class="Ar" title="Ar">realm</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-realm=</b><var class="Ar" title="Ar">realm</var></dt>
  <dd class="It-tag">realm to use</dd>
  <dt class="It-tag"><a class="selflink" href="#a"><b class="Fl" title="Fl" id="a">-a</b></a>
    <var class="Ar" title="Ar">host</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-admin-server=</b><var class="Ar" title="Ar">host</var></dt>
  <dd class="It-tag">server to contact</dd>
  <dt class="It-tag"><a class="selflink" href="#s"><b class="Fl" title="Fl" id="s">-s</b></a>
    <var class="Ar" title="Ar">port number</var>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-server-port=</b><var class="Ar" title="Ar">port
    number</var></dt>
  <dd class="It-tag">port to use</dd>
  <dt class="It-tag"><a class="selflink" href="#l"><b class="Fl" title="Fl" id="l">-l</b></a>,
    <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-local</b></dt>
  <dd class="It-tag">local admin mode</dd>
</dl>
<div class="Pp"></div>
If no <var class="Ar" title="Ar">command</var> is given on the command line,
  <b class="Nm" title="Nm">kadmin</b> will prompt for commands to process. Some
  of the commands that take one or more principals as argument
  (<b class="Nm" title="Nm">delete</b>, <b class="Nm" title="Nm">ext_keytab</b>,
  <b class="Nm" title="Nm">get</b>, <b class="Nm" title="Nm">modify</b>, and
  <b class="Nm" title="Nm">passwd</b>) will accept a glob style wildcard, and
  perform the operation on all matching principals.
<div class="Pp"></div>
Commands include:
<div class="Pp"></div>
<b class="Nm" title="Nm">add</b>
  [<span class="Op"><b class="Fl" title="Fl">-r</b> |
  <b class="Fl" title="Fl">-</b>
  <b class="Fl" title="Fl">-random-key</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-random-password</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-p</b>
  <var class="Ar" title="Ar">string</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-password=</b><var class="Ar" title="Ar">string</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-key=</b><var class="Ar" title="Ar">string</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-max-ticket-life=</b><var class="Ar" title="Ar">lifetime</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-max-renewable-life=</b><var class="Ar" title="Ar">lifetime</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-attributes=</b><var class="Ar" title="Ar">attributes</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-expiration-time=</b><var class="Ar" title="Ar">time</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-pw-expiration-time=</b><var class="Ar" title="Ar">time</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-policy=</b><var class="Ar" title="Ar">policy-name</var></span>]
  <var class="Ar" title="Ar">principal...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Adds a new principal to the
  database. The options not passed on the command line will be promped for. The
  only policy supported by Heimdal servers is
  &#x2018;<code class="Li">default</code>&#x2019;.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">add_enctype</b>
  [<span class="Op"><b class="Fl" title="Fl">-r</b> |
  <b class="Fl" title="Fl">-</b>
  <b class="Fl" title="Fl">-random-key</b></span>]
  <var class="Ar" title="Ar">principal enctypes...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Adds a new encryption type to the
  principal, only random key are supported.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">delete</b>
  <var class="Ar" title="Ar">principal...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Removes a principal.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">del_enctype</b> <var class="Ar" title="Ar">principal
  enctypes...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Removes some enctypes from a
  principal; this can be useful if the service belonging to the principal is
  known to not handle certain enctypes.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">ext_keytab</b>
  [<span class="Op"><b class="Fl" title="Fl">-k</b>
  <var class="Ar" title="Ar">string</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-keytab=</b><var class="Ar" title="Ar">string</var></span>]
  <var class="Ar" title="Ar">principal...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Creates a keytab with the keys of
  the specified principals. Requires get-keys rights, otherwise the principal's
  keys are changed and saved in the keytab.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">get</b>
  [<span class="Op"><b class="Fl" title="Fl">-l</b> |
  <b class="Fl" title="Fl">-</b> <b class="Fl" title="Fl">-long</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-s</b> |
  <b class="Fl" title="Fl">-</b> <b class="Fl" title="Fl">-short</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-t</b> |
  <b class="Fl" title="Fl">-</b> <b class="Fl" title="Fl">-terse</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-o</b>
  <var class="Ar" title="Ar">string</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-column-info=</b><var class="Ar" title="Ar">string</var></span>]
  <var class="Ar" title="Ar">principal...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Lists the matching principals,
  short prints the result as a table, while long format produces a more verbose
  output. Which columns to print can be selected with the
  <b class="Fl" title="Fl">-o</b> option. The argument is a comma separated list
  of column names optionally appended with an equal sign (&#x2018;=&#x2019;) and
  a column header. Which columns are printed by default differ slightly between
  short and long output.
<div class="Pp"></div>
The default terse output format is similar to <b class="Fl" title="Fl">-s</b>
  <b class="Fl" title="Fl">-o</b> <var class="Ar" title="Ar">principal=</var>,
  just printing the names of matched principals.
<div class="Pp"></div>
Possible column names include: <code class="Li">principal</code>,
  <code class="Li">princ_expire_time</code>,
  <code class="Li">pw_expiration</code>,
  <code class="Li">last_pwd_change</code>, <code class="Li">max_life</code>,
  <code class="Li">max_rlife</code>, <code class="Li">mod_time</code>,
  <code class="Li">mod_name</code>, <code class="Li">attributes</code>,
  <code class="Li">kvno</code>, <code class="Li">mkvno</code>,
  <code class="Li">last_success</code>, <code class="Li">last_failed</code>,
  <code class="Li">fail_auth_count</code>, <code class="Li">policy</code>, and
  <code class="Li">keytypes</code>.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">modify</b>
  [<span class="Op"><b class="Fl" title="Fl">-a</b>
  <var class="Ar" title="Ar">attributes</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-attributes=</b><var class="Ar" title="Ar">attributes</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-max-ticket-life=</b><var class="Ar" title="Ar">lifetime</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-max-renewable-life=</b><var class="Ar" title="Ar">lifetime</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-expiration-time=</b><var class="Ar" title="Ar">time</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-pw-expiration-time=</b><var class="Ar" title="Ar">time</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-kvno=</b><var class="Ar" title="Ar">number</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-policy=</b><var class="Ar" title="Ar">policy-name</var></span>]
  <var class="Ar" title="Ar">principal...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Modifies certain attributes of a
  principal. If run without command line options, you will be prompted. With
  command line options, it will only change the ones specified.
<div class="Pp"></div>
Only policy supported by Heimdal is
  &#x2018;<code class="Li">default</code>&#x2019;.
<div class="Pp"></div>
Possible attributes are: <code class="Li">new-princ</code>,
  <code class="Li">support-desmd5</code>,
  <code class="Li">pwchange-service</code>,
  <code class="Li">disallow-svr</code>,
  <code class="Li">requires-pw-change</code>,
  <code class="Li">requires-hw-auth</code>,
  <code class="Li">requires-pre-auth</code>,
  <code class="Li">disallow-all-tix</code>,
  <code class="Li">disallow-dup-skey</code>,
  <code class="Li">disallow-proxiable</code>,
  <code class="Li">disallow-renewable</code>,
  <code class="Li">disallow-tgt-based</code>,
  <code class="Li">disallow-forwardable</code>,
  <code class="Li">disallow-postdated</code>
<div class="Pp"></div>
Attributes may be negated with a &quot;-&quot;, e.g.,
<div class="Pp"></div>
kadmin -l modify -a -disallow-proxiable user</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">passwd</b>
  [<span class="Op"><b class="Fl" title="Fl">-</b>
  <b class="Fl" title="Fl">-keepold</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-r</b> |
  <b class="Fl" title="Fl">-</b>
  <b class="Fl" title="Fl">-random-key</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-random-password</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-p</b>
  <var class="Ar" title="Ar">string</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-password=</b><var class="Ar" title="Ar">string</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-key=</b><var class="Ar" title="Ar">string</var></span>]
  <var class="Ar" title="Ar">principal...</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Changes the password of an existing
  principal.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">password-quality</b>
  <var class="Ar" title="Ar">principal</var>
  <var class="Ar" title="Ar">password</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Run the password quality check
  function locally. You can run this on the host that is configured to run the
  kadmind process to verify that your configuration file is correct. The
  verification is done locally, if kadmin is run in remote mode, no rpc call is
  done to the server.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">privileges</b>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Lists the operations you are
  allowed to perform. These include <code class="Li">add</code>,
  <code class="Li">add_enctype</code>, <code class="Li">change-password</code>,
  <code class="Li">delete</code>, <code class="Li">del_enctype</code>,
  <code class="Li">get</code>, <code class="Li">get-keys</code>,
  <code class="Li">list</code>, and <code class="Li">modify</code>.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">rename</b> <var class="Ar" title="Ar">from to</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Renames a principal. This is
  normally transparent, but since keys are salted with the principal name, they
  will have a non-standard salt, and clients which are unable to cope with this
  will fail. Kerberos 4 suffers from this.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">check</b>
  [<span class="Op"><var class="Ar" title="Ar">realm</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Check database for strange
  configurations on important principals. If no realm is given, the default
  realm is used.</div>
<div class="Pp"></div>
When running in local mode, the following commands can also be used:
<div class="Pp"></div>
<b class="Nm" title="Nm">dump</b>
  [<span class="Op"><b class="Fl" title="Fl">-d</b> |
  <b class="Fl" title="Fl">-</b> <b class="Fl" title="Fl">-decrypt</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-f</b><var class="Ar" title="Ar">format</var>
  |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-format=</b><var class="Ar" title="Ar">format</var></span>]
  [<span class="Op"><var class="Ar" title="Ar">dump-file</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Writes the database in
  &#x201C;machine readable text&#x201D; form to the specified file, or standard
  out. If the database is encrypted, the dump will also have encrypted keys,
  unless <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-decrypt</b> is
  used. If
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-format=MIT</b> is used
  then the dump will be in MIT format. Otherwise it will be in Heimdal
  format.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">init</b>
  [<span class="Op"><b class="Fl" title="Fl">-</b>
  <b class="Fl" title="Fl">-realm-max-ticket-life=</b><var class="Ar" title="Ar">string</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-realm-max-renewable-life=</b><var class="Ar" title="Ar">string</var></span>]
  <var class="Ar" title="Ar">realm</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Initializes the Kerberos database
  with entries for a new realm. It's possible to have more than one realm served
  by one server.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">load</b> <var class="Ar" title="Ar">file</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Reads a previously dumped database,
  and re-creates that database from scratch.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">merge</b> <var class="Ar" title="Ar">file</var>
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Similar to
  <b class="Nm" title="Nm">load</b> but just modifies the database with the
  entries in the dump file.</div>
<div class="Pp"></div>
<b class="Nm" title="Nm">stash</b>
  [<span class="Op"><b class="Fl" title="Fl">-e</b>
  <var class="Ar" title="Ar">enctype</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-enctype=</b><var class="Ar" title="Ar">enctype</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-k</b>
  <var class="Ar" title="Ar">keyfile</var> |
  <b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-key-file=</b><var class="Ar" title="Ar">keyfile</var></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-convert-file</b></span>]
  [<span class="Op"><b class="Fl" title="Fl">-</b><b class="Fl" title="Fl">-master-key-fd=</b><var class="Ar" title="Ar">fd</var></span>]
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">Writes the Kerberos master key to a
  file used by the KDC.</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr">kadmind(8)</a>,
  <a class="Xr" title="Xr">kdc(8)</a></div>
<table class="foot">
  <tr>
    <td class="foot-date">February 22, 2007</td>
    <td class="foot-os">HEIMDAL</td>
  </tr>
</table>
</body>
</html>
