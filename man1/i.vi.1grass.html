<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>i.vi(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">i.vi(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">i.vi(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>i.vi</b> - Calculates different types of vegetation indices.
<div>&#x00A0;</div>
Uses red and nir bands mostly, and some indices require additional bands.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
imagery, vegetation index, biophysical parameters
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>i.vi</b>
<div>&#x00A0;</div>
<b>i.vi --help</b>
<div>&#x00A0;</div>
<b>i.vi</b> <b>red</b>=<i>name</i> <b>output</b>=<i>name</i>
  <b>viname</b>=<i>type</i> [ <b>nir</b>=<i>name</i>] [<b>green</b>=<i>name</i>]
  [ <b>blue</b>=<i>name</i>] [<b>band5</b>=<i>name</i>]
  [<b>band7</b>=<i>name</i>] [ <b>soil_line_slope</b>=<i>float</i>]
  [<b>soil_line_intercept</b>= <i>float</i>]
  [<b>soil_noise_reduction</b>=<i>float</i>] [
  <b>storage_bit</b>=<i>integer</i>] [-- <b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [--<b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>red</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input red channel surface reflectance map
    <div>&#x00A0;</div>
    Range: [0.0;1.0]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output raster map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>viname</b>=<i>type</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Type of vegetation index
    <div>&#x00A0;</div>
    Options: <i>arvi, dvi, evi, evi2, gvi, gari, gemi, ipvi, msavi, msavi2,
      ndvi, pvi, savi, sr, vari, wdvi</i>
    <div>&#x00A0;</div>
    Default: <i>ndvi</i>
    <div>&#x00A0;</div>
     <b>arvi</b>: Atmospherically Resistant Vegetation Index
    <div>&#x00A0;</div>
     <b>dvi</b>: Difference Vegetation Index
    <div>&#x00A0;</div>
     <b>evi</b>: Enhanced Vegetation Index
    <div>&#x00A0;</div>
     <b>evi2</b>: Enhanced Vegetation Index 2
    <div>&#x00A0;</div>
     <b>gvi</b>: Green Vegetation Index
    <div>&#x00A0;</div>
     <b>gari</b>: Green Atmospherically Resistant Vegetation Index
    <div>&#x00A0;</div>
     <b>gemi</b>: Global Environmental Monitoring Index
    <div>&#x00A0;</div>
     <b>ipvi</b>: Infrared Percentage Vegetation Index
    <div>&#x00A0;</div>
     <b>msavi</b>: Modified Soil Adjusted Vegetation Index
    <div>&#x00A0;</div>
     <b>msavi2</b>: second Modified Soil Adjusted Vegetation Index
    <div>&#x00A0;</div>
     <b>ndvi</b>: Normalized Difference Vegetation Index
    <div>&#x00A0;</div>
     <b>pvi</b>: Perpendicular Vegetation Index
    <div>&#x00A0;</div>
     <b>savi</b>: Soil Adjusted Vegetation Index
    <div>&#x00A0;</div>
     <b>sr</b>: Simple Ratio
    <div>&#x00A0;</div>
     <b>vari</b>: Visible Atmospherically Resistant Index
    <div>&#x00A0;</div>
     <b>wdvi</b>: Weighted Difference Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>nir</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input nir channel surface reflectance map
    <div>&#x00A0;</div>
    Range: [0.0;1.0]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>green</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input green channel surface reflectance map
    <div>&#x00A0;</div>
    Range: [0.0;1.0]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blue</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input blue channel surface reflectance map
    <div>&#x00A0;</div>
    Range: [0.0;1.0]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>band5</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input 5th channel surface reflectance map
    <div>&#x00A0;</div>
    Range: [0.0;1.0]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>band7</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input 7th channel surface reflectance map
    <div>&#x00A0;</div>
    Range: [0.0;1.0]</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>soil_line_slope</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Value of the slope of the soil line (MSAVI only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>soil_line_intercept</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Value of the intercept of the soil line (MSAVI only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>soil_noise_reduction</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Value of the factor of reduction of soil noise (MSAVI only)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>storage_bit</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Maximum bits for digital numbers
    <div>&#x00A0;</div>
    If data is in Digital Numbers (i.e. integer type), give the max bits (i.e. 8
      for Landsat -&gt; [0-255])
    <div>&#x00A0;</div>
    Options: <i>7, 8, 10, 16</i>
    <div>&#x00A0;</div>
    Default: <i>8</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>i.vi</i> calculates vegetation indices based on biophysical parameters.
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">ARVI: atmospherically resistant vegetation indices</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">DVI: Difference Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">EVI: Enhanced Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">EVI2: Enhanced Vegetation Index 2</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">GARI: Green atmospherically resistant vegetation index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">GEMI: Global Environmental Monitoring Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">GVI: Green Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">IPVI: Infrared Percentage Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">MSAVI2: second Modified Soil Adjusted Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">MSAVI: Modified Soil Adjusted Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">NDVI: Normalized Difference Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">PVI: Perpendicular Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">RVI: ratio vegetation index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SAVI: Soil Adjusted Vegetation Index</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SR: Simple Vegetation ratio</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">WDVI: Weighted Difference Vegetation Index</dd>
</dl>
</div>
<h2 class="Ss" title="Ss" id="Background_for_users_new_to_remote_sensing"><a class="selflink" href="#Background_for_users_new_to_remote_sensing">Background
  for users new to remote sensing</a></h2>
Vegetation Indices are often considered the entry point of remote sensing for
  Earth land monitoring. They are suffering from their success, in terms that
  often people tend to harvest satellite images from online sources and use them
  directly in this module.
<div class="Pp"></div>
From Digital number to Radiance:
<div>&#x00A0;</div>
Satellite imagery is commonly stored in Digital Number (DN) for storage
  purposes; e.g., Landsat5 data is stored in 8bit values (ranging from 0 to
  255), other satellites maybe stored in 10 or 16 bits. If the data is provided
  in DN, this implies that this imagery is &quot;uncorrected&quot;. What this
  means is that the image is what the satellite sees at its position and
  altitude in space (stored in DN). This is not the signal at ground yet. We
  call this data at-satellite or at-sensor. Encoded in the 8bits (or more) is
  the amount of energy sensed by the sensor inside the satellite platform. This
  energy is called radiance-at-sensor. Generally, satellites image providers
  encode the radiance-at-sensor into 8bit (or more) through an affine transform
  equation (y=ax+b). In case of using Landsat imagery, look at the
  <i>i.landsat.toar</i> for an easy way to transform DN to radiance-at-sensor.
  If using Aster data, try the <i>i.aster.toar</i> module.
<div class="Pp"></div>
From Radiance to Reflectance:
<div>&#x00A0;</div>
Finally, once having obtained the radiance at sensor values, still the
  atmosphere is between sensor and Earth&#x2019;s surface. This fact needs to be
  corrected to account for the atmospheric interaction with the sun energy that
  the vegetation reflects back into space. This can be done in two ways for
  Landsat. The simple way is through <i>i.landsat.toar</i>, use e.g. the DOS
  correction. The more accurate way is by using <i>i.atcorr</i> (which works for
  many satellite sensors). Once the atmospheric correction has been applied to
  the satellite data, data vales are called surface reflectance. Surface
  reflectance is ranging from 0.0 to 1.0 theoretically (and absolutely). This
  level of data correction is the proper level of correction to use with
  <i>i.vi</i>.
<h2 class="Ss" title="Ss" id="Vegetation_Indices"><a class="selflink" href="#Vegetation_Indices">Vegetation
  Indices</a></h2>
<b>ARVI: Atmospheric Resistant Vegetation Index</b>
<div class="Pp"></div>
ARVI is resistant to atmospheric effects (in comparison to the NDVI) and is
  accomplished by a self correcting process for the atmospheric effect in the
  red channel, using the difference in the radiance between the blue and the red
  channels (Kaufman and Tanre 1996).
<div>&#x00A0;</div>
<pre>
arvi( redchan, nirchan, bluechan )
ARVI = (nirchan - (2.0*redchan - bluechan)) /
       ( nirchan + (2.0*redchan - bluechan))
</pre>
<div class="Pp"></div>
<b>DVI: Difference Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
dvi( redchan, nirchan )
DVI = ( nirchan - redchan )
</pre>
<div class="Pp"></div>
<b>EVI: Enhanced Vegetation Index</b>
<div class="Pp"></div>
The enhanced vegetation index (EVI) is an optimized index designed to enhance
  the vegetation signal with improved sensitivity in high biomass regions and
  improved vegetation monitoring through a de-coupling of the canopy background
  signal and a reduction in atmosphere influences (Huete A.R., Liu H.Q.,
  Batchily K., van Leeuwen W. (1997). A comparison of vegetation indices global
  set of TM images for EOS-MODIS. Remote Sensing of Environment, 59:440-451).
<div>&#x00A0;</div>
<pre>
evi( bluechan, redchan, nirchan )
EVI = 2.5 * ( nirchan - redchan ) /
      ( nirchan + 6.0 * redchan - 7.5 * bluechan + 1.0 )
</pre>
<div class="Pp"></div>
<b>EVI2: Enhanced Vegetation Index 2</b>
<div class="Pp"></div>
A 2-band EVI (EVI2), without a blue band, which has the best similarity with the
  3-band EVI, particularly when atmospheric effects are insignificant and data
  quality is good (Zhangyan Jiang ; Alfredo R. Huete ; Youngwook Kim and Kamel
  Didan 2-band enhanced vegetation index without a blue band and its application
  to AVHRR data. Proc. SPIE 6679, Remote Sensing and Modeling of Ecosystems for
  Sustainability IV, 667905 (october 09, 2007) doi:10.1117/12.734933).
<div>&#x00A0;</div>
<pre>
evi2( redchan, nirchan )
EVI2 = 2.5 * ( nirchan - redchan ) /
       ( nirchan + 2.4 * redchan + 1.0 )
</pre>
<div class="Pp"></div>
<b>GARI: green atmospherically resistant vegetation index</b>
<div class="Pp"></div>
The formula was actually defined: Gitelson, Anatoly A.; Kaufman, Yoram J.;
  Merzlyak, Mark N. (1996) Use of a green channel in remote sensing of global
  vegetation from EOS- MODIS, Remote Sensing of Environment 58 (3), 289-298.
  doi:10.1016/s0034-4257(96)00072-7
<div>&#x00A0;</div>
<pre>
gari( redchan, nirchan, bluechan, greenchan )
GARI = ( nirchan - (greenchan - (bluechan - redchan))) /
       ( nirchan + (greenchan - (bluechan - redchan)))
</pre>
<div class="Pp"></div>
<b>GEMI: Global Environmental Monitoring Index</b>
<div>&#x00A0;</div>
<pre>
gemi( redchan, nirchan )
GEMI = (( (2*((nirchan * nirchan)-(redchan * redchan)) +
       1.5*nirchan+0.5*redchan) / (nirchan + redchan + 0.5)) *
       (1 - 0.25 * (2*((nirchan * nirchan)-(redchan * redchan)) +
       1.5*nirchan+0.5*redchan) / (nirchan + redchan + 0.5))) -
       ( (redchan - 0.125) / (1 - redchan))
</pre>
<div class="Pp"></div>
<b>GVI: Green Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
gvi( bluechan, greenchan, redchan, nirchan, chan5chan, chan7chan)
GVI = ( -0.2848 * bluechan - 0.2435 * greenchan -
      0.5436 * redchan + 0.7243 * nirchan + 0.0840 * chan5chan-
      0.1800 * chan7chan)
</pre>
<div class="Pp"></div>
<b>IPVI: Infrared Percentage Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
ipvi( redchan, nirchan )
IPVI = nirchan/(nirchan+redchan)
</pre>
<div class="Pp"></div>
<b>MSAVI2: second Modified Soil Adjusted Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
msavi2( redchan, nirchan )
MSAVI2 = (1/2)*(2(NIR+1)-sqrt((2*NIR+1)^2-8(NIR-red)))
</pre>
<div class="Pp"></div>
<b>MSAVI: Modified Soil Adjusted Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
msavi( redchan, nirchan )
MSAVI = s(NIR-s*red-a) / (a*NIR+red-a*s+X*(1+s*s))
</pre>
where a is the soil line intercept, s is the soil line slope, and X 	is an
  adjustment factor which is set to minimize soil noise (0.08 in original
  papers).
<div class="Pp"></div>
<b>NDVI: Normalized Difference Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
ndvi( redchan, nirchan )
Satellite specific band numbers ([NIR, Red]):
  MSS Bands        = [ 7,  5]
  TM1-5,7 Bands    = [ 4,  3]
  TM8 Bands        = [ 5,  4]
  Sentinel-2 Bands = [ 5,  4]
  AVHRR Bands      = [ 2,  1]
  SPOT XS Bands    = [ 3,  2]
  AVIRIS Bands     = [51, 29]
NDVI = (NIR - Red) / (NIR + Red)
</pre>
<div class="Pp"></div>
<b>PVI: Perpendicular Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
pvi( redchan, nirchan )
PVI = sin(a)NIR-cos(a)red
</pre>
for a isovegetation lines (lines of equal vegetation) would all be parallel to
  the soil line therefore a=1.
<div class="Pp"></div>
<b>SAVI: Soil Adjusted Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
savi( redchan, nirchan )
SAVI = ((1.0+0.5)*(nirchan - redchan)) / (nirchan + redchan +0.5)
</pre>
<div class="Pp"></div>
<b>SR: Simple Vegetation ratio</b>
<div>&#x00A0;</div>
<pre>
sr( redchan, nirchan )
SR = (nirchan/redchan)
</pre>
<div class="Pp"></div>
<b>VARI: Visible Atmospherically Resistant Index</b> VARI was designed to
  introduce an atmospheric self-correction (Gitelson A.A., Kaufman Y.J., Stark
  R., Rundquist D., 2002. Novel algorithms for estimation of vegetation fraction
  Remote Sensing of Environment (80), pp76-87.)
<div>&#x00A0;</div>
<pre>
vari = ( bluechan, greenchan, redchan )
VARI = (green - red ) / (green + red - blue)
</pre>
<div class="Pp"></div>
<b>WDVI: Weighted Difference Vegetation Index</b>
<div>&#x00A0;</div>
<pre>
wdvi( redchan, nirchan, soil_line_weight )
WDVI = nirchan - a * redchan
if(soil_weight_line == None):
   a = 1.0   #slope of soil line
</pre>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="Calculation_of_DVI"><a class="selflink" href="#Calculation_of_DVI">Calculation
  of DVI</a></h2>
The calculation of DVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.1 -p
i.vi blue=band.1 red=band.3 nir=band.4 viname=dvi output=dvi
r.univar -e dvi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_EVI"><a class="selflink" href="#Calculation_of_EVI">Calculation
  of EVI</a></h2>
The calculation of EVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.1 -p
i.vi blue=band.1 red=band.3 nir=band.4 viname=evi output=evi
r.univar -e evi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_EVI2"><a class="selflink" href="#Calculation_of_EVI2">Calculation
  of EVI2</a></h2>
The calculation of EVI2 from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=evi2 output=evi2
r.univar -e evi2
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_GARI"><a class="selflink" href="#Calculation_of_GARI">Calculation
  of GARI</a></h2>
The calculation of GARI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.1 -p
i.vi blue=band.1 green=band.2 red=band.3 nir=band.4 viname=gari output=gari
r.univar -e gari
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_GEMI"><a class="selflink" href="#Calculation_of_GEMI">Calculation
  of GEMI</a></h2>
The calculation of GEMI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=gemi output=gemi
r.univar -e gemi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_GVI"><a class="selflink" href="#Calculation_of_GVI">Calculation
  of GVI</a></h2>
The calculation of GVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi blue=band.1 green=band.2 red=band.3 nir=band.4 band5=band.5 band7=band.7 viname=gvi output=gvi
r.univar -e gvi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_IPVI"><a class="selflink" href="#Calculation_of_IPVI">Calculation
  of IPVI</a></h2>
The calculation of IPVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=ipvi output=ipvi
r.univar -e ipvi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_MSAVI"><a class="selflink" href="#Calculation_of_MSAVI">Calculation
  of MSAVI</a></h2>
The calculation of MSAVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=msavi output=msavi
r.univar -e msavi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_NDVI"><a class="selflink" href="#Calculation_of_NDVI">Calculation
  of NDVI</a></h2>
The calculation of NDVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=ndvi output=ndvi
r.univar -e ndvi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_PVI"><a class="selflink" href="#Calculation_of_PVI">Calculation
  of PVI</a></h2>
The calculation of PVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=pvi output=pvi
r.univar -e pvi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_SAVI"><a class="selflink" href="#Calculation_of_SAVI">Calculation
  of SAVI</a></h2>
The calculation of SAVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=savi output=savi
r.univar -e savi
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_SR"><a class="selflink" href="#Calculation_of_SR">Calculation
  of SR</a></h2>
The calculation of SR from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi red=band.3 nir=band.4 viname=sr output=sr
r.univar -e sr
</pre>
<h2 class="Ss" title="Ss" id="Calculation_of_VARI"><a class="selflink" href="#Calculation_of_VARI">Calculation
  of VARI</a></h2>
The calculation of VARI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=band.3 -p
i.vi blue=band.2 green=band.3 red=band.4 viname=vari output=vari
r.univar -e vari
</pre>
<h2 class="Ss" title="Ss" id="Landsat_TM7_example"><a class="selflink" href="#Landsat_TM7_example">Landsat
  TM7 example</a></h2>
The following examples are based on a LANDSAT TM7 scene included in the North
  Carolina sample dataset.
<h2 class="Ss" title="Ss" id="Preparation:_DN_to_reflectance"><a class="selflink" href="#Preparation:_DN_to_reflectance">Preparation:
  DN to reflectance</a></h2>
As a first step, the original DN (digital number) pixel values must be converted
  to reflectance using <i>i.landsat.toar</i>. To do so, we make a copy (or
  rename the channels) to match <i>i.landsat.toar</i>&#x2019;s input scheme:
<div class="Pp"></div>
<pre>
g.copy raster=lsat7_2002_10,lsat7_2002.1
g.copy raster=lsat7_2002_20,lsat7_2002.2
g.copy raster=lsat7_2002_30,lsat7_2002.3
g.copy raster=lsat7_2002_40,lsat7_2002.4
g.copy raster=lsat7_2002_50,lsat7_2002.5
g.copy raster=lsat7_2002_61,lsat7_2002.61
g.copy raster=lsat7_2002_62,lsat7_2002.62
g.copy raster=lsat7_2002_70,lsat7_2002.7
g.copy raster=lsat7_2002_80,lsat7_2002.8
</pre>
<div class="Pp"></div>
Calculation of reflectance values from DN using DOS1 (metadata obtained from
  p016r035_7x20020524.met.gz):
<div class="Pp"></div>
<pre>
i.landsat.toar input=lsat7_2002. output=lsat7_2002_toar. sensor=tm7 \
  method=dos1 date=2002-05-24 sun_elevation=64.7730999 \
  product_date=2004-02-12 gain=HHHLHLHHL
</pre>
The resulting Landsat channels are names lsat7_2002_toar.1 .. lsat7_2002_toar.8.
<h2 class="Ss" title="Ss" id="Calculation_of_NDVI"><a class="selflink" href="#Calculation_of_NDVI">Calculation
  of NDVI</a></h2>
The calculation of NDVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=lsat7_2002_toar.3 -p
i.vi red=lsat7_2002_toar.3 nir=lsat7_2002_toar.4 viname=ndvi \
     output=lsat7_2002.ndvi
r.colors lsat7_2002.ndvi color=ndvi
d.mon wx0
d.rast.leg lsat7_2002.ndvi
</pre>
<div>&#x00A0;</div>
North Carolina dataset: NDVI
<h2 class="Ss" title="Ss" id="Calculation_of_ARVI"><a class="selflink" href="#Calculation_of_ARVI">Calculation
  of ARVI</a></h2>
The calculation of ARVI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=lsat7_2002_toar.3 -p
i.vi blue=lsat7_2002_toar.1 red=lsat7_2002_toar.3 nir=lsat7_2002_toar.4 \
     viname=arvi output=lsat7_2002.arvi
d.mon wx0
d.rast.leg lsat7_2002.arvi
</pre>
<div>&#x00A0;</div>
North Carolina dataset: ARVI
<h2 class="Ss" title="Ss" id="Calculation_of_GARI"><a class="selflink" href="#Calculation_of_GARI">Calculation
  of GARI</a></h2>
The calculation of GARI from the reflectance values is done as follows:
<div>&#x00A0;</div>
<pre>
g.region raster=lsat7_2002_toar.3 -p
i.vi blue=lsat7_2002_toar.1 green=lsat7_2002_toar.2 red=lsat7_2002_toar.3 \
     nir=lsat7_2002_toar.4 viname=gari output=lsat7_2002.gari
d.mon wx0
d.rast.leg lsat7_2002.gari
</pre>
<div>&#x00A0;</div>
North Carolina dataset: GARI
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Originally from kepler.gps.caltech.edu (FAQ):
<div class="Pp"></div>
A FAQ on Vegetation in Remote Sensing
<div>&#x00A0;</div>
Written by Terrill W. Ray, Div. of Geological and Planetary Sciences, California
  Institute of Technology, email: terrill@mars1.gps.caltech.edu
<div class="Pp"></div>
Snail Mail: Terrill Ray
<div>&#x00A0;</div>
Division of Geological and Planetary Sciences
<div>&#x00A0;</div>
Caltech, Mail Code 170-25
<div>&#x00A0;</div>
Pasadena, CA 91125
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>i.albedo,</i> <i>i.aster.toar,</i> <i>i.landsat.toar,</i>
  <i>i.atcorr,</i> <i>i.tasscap</i> <i></i>
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
AVHRR, Landsat TM5:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Bastiaanssen, W.G.M., 1995. Regionalization of surface flux
      densities and moisture indicators in composite terrain; a remote sensing
      approach under clear skies in mediterranean climates. PhD thesis,
      Wageningen Agricultural Univ., The Netherland, 271 pp. (PDF)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Index DataBase: List of available Indices</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Baburao Kamble, Asian Institute of Technology, Thailand
<div>&#x00A0;</div>
Yann Chemin, Asian Institute of Technology, Thailand
<div class="Pp"></div>
<i>Last changed: $Date: 2016-07-28 00:29:31 +0200 (Thu, 28 Jul 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: i.vi source code (history)
<div class="Pp"></div>
Main index | Imagery index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
