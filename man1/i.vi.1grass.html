<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:19:12 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>i.vi(1grass) Grass User&rsquo;s Manual i.vi(1grass)</p>

<p style="margin-top: 1em">NAME <br>
i.vi - Calculates different types of vegetation indices.
<br>
Uses red and nir bands mostly, and some indices require
additional bands.</p>

<p style="margin-top: 1em">KEYWORDS <br>
imagery, vegetation index, biophysical parameters</p>

<p style="margin-top: 1em">SYNOPSIS <br>
i.vi <br>
i.vi --help <br>
i.vi red=name output=name viname=type [nir=name]
[green=name] [blue=name] [band5=name] [band7=name]
[soil_line_slope=float] [soil_line_intercept=float] <br>
[soil_noise_reduction=float] [storage_bit=integer]
[--overwrite] [--help] [--verbose] [--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
--overwrite <br>
Allow output files to overwrite existing files</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
red=name [required] <br>
Name of input red channel surface reflectance map <br>
Range: [0.0;1.0]</p>

<p style="margin-top: 1em">output=name [required] <br>
Name for output raster map</p>

<p style="margin-top: 1em">viname=type [required] <br>
Type of vegetation index <br>
Options: arvi, dvi, evi, evi2, gvi, gari, gemi, ipvi, msavi,
msavi2, ndvi, pvi, savi, sr, vari, wdvi <br>
Default: ndvi <br>
arvi: Atmospherically Resistant Vegetation Index <br>
dvi: Difference Vegetation Index <br>
evi: Enhanced Vegetation Index <br>
evi2: Enhanced Vegetation Index 2 <br>
gvi: Green Vegetation Index <br>
gari: Green Atmospherically Resistant Vegetation Index <br>
gemi: Global Environmental Monitoring Index <br>
ipvi: Infrared Percentage Vegetation Index <br>
msavi: Modified Soil Adjusted Vegetation Index <br>
msavi2: second Modified Soil Adjusted Vegetation Index <br>
ndvi: Normalized Difference Vegetation Index <br>
pvi: Perpendicular Vegetation Index <br>
savi: Soil Adjusted Vegetation Index <br>
sr: Simple Ratio <br>
vari: Visible Atmospherically Resistant Index <br>
wdvi: Weighted Difference Vegetation Index</p>

<p style="margin-top: 1em">nir=name <br>
Name of input nir channel surface reflectance map <br>
Range: [0.0;1.0]</p>

<p style="margin-top: 1em">green=name <br>
Name of input green channel surface reflectance map <br>
Range: [0.0;1.0]</p>

<p style="margin-top: 1em">blue=name <br>
Name of input blue channel surface reflectance map <br>
Range: [0.0;1.0]</p>

<p style="margin-top: 1em">band5=name <br>
Name of input 5th channel surface reflectance map <br>
Range: [0.0;1.0]</p>

<p style="margin-top: 1em">band7=name <br>
Name of input 7th channel surface reflectance map <br>
Range: [0.0;1.0]</p>

<p style="margin-top: 1em">soil_line_slope=float <br>
Value of the slope of the soil line (MSAVI only)</p>

<p style="margin-top: 1em">soil_line_intercept=float <br>
Value of the intercept of the soil line (MSAVI only)</p>

<p style="margin-top: 1em">soil_noise_reduction=float <br>
Value of the factor of reduction of soil noise (MSAVI
only)</p>

<p style="margin-top: 1em">storage_bit=integer <br>
Maximum bits for digital numbers <br>
If data is in Digital Numbers (i.e. integer type), give the
max bits (i.e. 8 for Landsat -&gt; [0-255]) <br>
Options: 7, 8, 10, 16 <br>
Default: 8</p>

<p style="margin-top: 1em">DESCRIPTION <br>
i.vi calculates vegetation indices based on biophysical
parameters.</p>

<p style="margin-top: 1em">&Acirc;&middot; ARVI:
atmospherically resistant vegetation indices</p>

<p style="margin-top: 1em">&Acirc;&middot; DVI: Difference
Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; EVI: Enhanced
Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; EVI2: Enhanced
Vegetation Index 2</p>

<p style="margin-top: 1em">&Acirc;&middot; GARI: Green
atmospherically resistant vegetation index</p>

<p style="margin-top: 1em">&Acirc;&middot; GEMI: Global
Environmental Monitoring Index</p>

<p style="margin-top: 1em">&Acirc;&middot; GVI: Green
Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; IPVI: Infrared
Percentage Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; MSAVI2: second
Modified Soil Adjusted Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; MSAVI: Modified
Soil Adjusted Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; NDVI: Normalized
Difference Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; PVI:
Perpendicular Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; RVI: ratio
vegetation index</p>

<p style="margin-top: 1em">&Acirc;&middot; SAVI: Soil
Adjusted Vegetation Index</p>

<p style="margin-top: 1em">&Acirc;&middot; SR: Simple
Vegetation ratio</p>

<p style="margin-top: 1em">&Acirc;&middot; WDVI: Weighted
Difference Vegetation Index</p>

<p style="margin-top: 1em">Background for users new to
remote sensing <br>
Vegetation Indices are often considered the entry point of
remote sensing for Earth land monitoring. They are suffering
from their success, in terms that often people tend to <br>
harvest satellite images from online sources and use them
directly in this module.</p>

<p style="margin-top: 1em">From Digital number to Radiance:
<br>
Satellite imagery is commonly stored in Digital Number (DN)
for storage purposes; e.g., Landsat5 data is stored in 8bit
values (ranging from 0 to 255), other satellites maybe <br>
stored in 10 or 16 bits. If the data is provided in DN, this
implies that this imagery is &quot;uncorrected&quot;. What
this means is that the image is what the satellite sees at
its posi&acirc; <br>
tion and altitude in space (stored in DN). This is not the
signal at ground yet. We call this data at-satellite or
at-sensor. Encoded in the 8bits (or more) is the amount of
<br>
energy sensed by the sensor inside the satellite platform.
This energy is called radiance-at-sensor. Generally,
satellites image providers encode the radiance-at-sensor
into 8bit <br>
(or more) through an affine transform equation (y=ax+b). In
case of using Landsat imagery, look at the i.landsat.toar
for an easy way to transform DN to radiance-at-sensor. If
<br>
using Aster data, try the i.aster.toar module.</p>

<p style="margin-top: 1em">From Radiance to Reflectance:
<br>
Finally, once having obtained the radiance at sensor values,
still the atmosphere is between sensor and Earth&acirc;s
surface. This fact needs to be corrected to account for the
atmo&acirc; <br>
spheric interaction with the sun energy that the vegetation
reflects back into space. This can be done in two ways for
Landsat. The simple way is through i.landsat.toar, use <br>
e.g. the DOS correction. The more accurate way is by using
i.atcorr (which works for many satellite sensors). Once the
atmospheric correction has been applied to the satellite
<br>
data, data vales are called surface reflectance. Surface
reflectance is ranging from 0.0 to 1.0 theoretically (and
absolutely). This level of data correction is the proper
level <br>
of correction to use with i.vi.</p>

<p style="margin-top: 1em">Vegetation Indices <br>
ARVI: Atmospheric Resistant Vegetation Index</p>

<p style="margin-top: 1em">ARVI is resistant to atmospheric
effects (in comparison to the NDVI) and is accomplished by a
self correcting process for the atmospheric effect in the
red channel, using the <br>
difference in the radiance between the blue and the red
channels (Kaufman and Tanre 1996). <br>
arvi( redchan, nirchan, bluechan ) <br>
ARVI = (nirchan - (2.0*redchan - bluechan)) / <br>
( nirchan + (2.0*redchan - bluechan))</p>

<p style="margin-top: 1em">DVI: Difference Vegetation Index
<br>
dvi( redchan, nirchan ) <br>
DVI = ( nirchan - redchan )</p>

<p style="margin-top: 1em">EVI: Enhanced Vegetation
Index</p>

<p style="margin-top: 1em">The enhanced vegetation index
(EVI) is an optimized index designed to enhance the
vegetation signal with improved sensitivity in high biomass
regions and improved vegetation mon&acirc; <br>
itoring through a de-coupling of the canopy background
signal and a reduction in atmosphere influences (Huete A.R.,
Liu H.Q., Batchily K., van Leeuwen W. (1997). A comparison
of <br>
vegetation indices global set of TM images for EOS-MODIS.
Remote Sensing of Environment, 59:440-451). <br>
evi( bluechan, redchan, nirchan ) <br>
EVI = 2.5 * ( nirchan - redchan ) / <br>
( nirchan + 6.0 * redchan - 7.5 * bluechan + 1.0 )</p>

<p style="margin-top: 1em">EVI2: Enhanced Vegetation Index
2</p>

<p style="margin-top: 1em">A 2-band EVI (EVI2), without a
blue band, which has the best similarity with the 3-band
EVI, particularly when atmospheric effects are insignificant
and data quality is good <br>
(Zhangyan Jiang ; Alfredo R. Huete ; Youngwook Kim and Kamel
Didan 2-band enhanced vegetation index without a blue band
and its application to AVHRR data. Proc. SPIE 6679, Remote
<br>
Sensing and Modeling of Ecosystems for Sustainability IV,
667905 (october 09, 2007) doi:10.1117/12.734933). <br>
evi2( redchan, nirchan ) <br>
EVI2 = 2.5 * ( nirchan - redchan ) / <br>
( nirchan + 2.4 * redchan + 1.0 )</p>

<p style="margin-top: 1em">GARI: green atmospherically
resistant vegetation index</p>

<p style="margin-top: 1em">The formula was actually
defined: Gitelson, Anatoly A.; Kaufman, Yoram J.; Merzlyak,
Mark N. (1996) Use of a green channel in remote sensing of
global vegetation from EOS- MODIS, <br>
Remote Sensing of Environment 58 (3), 289-298.
doi:10.1016/s0034-4257(96)00072-7 <br>
gari( redchan, nirchan, bluechan, greenchan ) <br>
GARI = ( nirchan - (greenchan - (bluechan - redchan))) /
<br>
( nirchan + (greenchan - (bluechan - redchan)))</p>

<p style="margin-top: 1em">GEMI: Global Environmental
Monitoring Index <br>
gemi( redchan, nirchan ) <br>
GEMI = (( (2*((nirchan * nirchan)-(redchan * redchan)) +
<br>
1.5*nirchan+0.5*redchan) / (nirchan + redchan + 0.5)) * <br>
(1 - 0.25 * (2*((nirchan * nirchan)-(redchan * redchan)) +
<br>
1.5*nirchan+0.5*redchan) / (nirchan + redchan + 0.5))) -
<br>
( (redchan - 0.125) / (1 - redchan))</p>

<p style="margin-top: 1em">GVI: Green Vegetation Index <br>
gvi( bluechan, greenchan, redchan, nirchan, chan5chan,
chan7chan) <br>
GVI = ( -0.2848 * bluechan - 0.2435 * greenchan - <br>
0.5436 * redchan + 0.7243 * nirchan + 0.0840 * chan5chan-
<br>
0.1800 * chan7chan)</p>

<p style="margin-top: 1em">IPVI: Infrared Percentage
Vegetation Index <br>
ipvi( redchan, nirchan ) <br>
IPVI = nirchan/(nirchan+redchan)</p>

<p style="margin-top: 1em">MSAVI2: second Modified Soil
Adjusted Vegetation Index <br>
msavi2( redchan, nirchan ) <br>
MSAVI2 = (1/2)*(2(NIR+1)-sqrt((2*NIR+1)^2-8(NIR-red)))</p>

<p style="margin-top: 1em">MSAVI: Modified Soil Adjusted
Vegetation Index <br>
msavi( redchan, nirchan ) <br>
MSAVI = s(NIR-s*red-a) / (a*NIR+red-a*s+X*(1+s*s)) <br>
where a is the soil line intercept, s is the soil line
slope, and X is an adjustment factor which is set to
minimize soil noise (0.08 in original papers).</p>

<p style="margin-top: 1em">NDVI: Normalized Difference
Vegetation Index <br>
ndvi( redchan, nirchan ) <br>
Satellite specific band numbers ([NIR, Red]): <br>
MSS Bands = [ 7, 5] <br>
TM1-5,7 Bands = [ 4, 3] <br>
TM8 Bands = [ 5, 4] <br>
Sentinel-2 Bands = [ 5, 4] <br>
AVHRR Bands = [ 2, 1] <br>
SPOT XS Bands = [ 3, 2] <br>
AVIRIS Bands = [51, 29] <br>
NDVI = (NIR - Red) / (NIR + Red)</p>

<p style="margin-top: 1em">PVI: Perpendicular Vegetation
Index <br>
pvi( redchan, nirchan ) <br>
PVI = sin(a)NIR-cos(a)red <br>
for a isovegetation lines (lines of equal vegetation) would
all be parallel to the soil line therefore a=1.</p>

<p style="margin-top: 1em">SAVI: Soil Adjusted Vegetation
Index <br>
savi( redchan, nirchan ) <br>
SAVI = ((1.0+0.5)*(nirchan - redchan)) / (nirchan + redchan
+0.5)</p>

<p style="margin-top: 1em">SR: Simple Vegetation ratio <br>
sr( redchan, nirchan ) <br>
SR = (nirchan/redchan)</p>

<p style="margin-top: 1em">VARI: Visible Atmospherically
Resistant Index VARI was designed to introduce an
atmospheric self-correction (Gitelson A.A., Kaufman Y.J.,
Stark R., Rundquist D., 2002. Novel <br>
algorithms for estimation of vegetation fraction Remote
Sensing of Environment (80), pp76-87.) <br>
vari = ( bluechan, greenchan, redchan ) <br>
VARI = (green - red ) / (green + red - blue)</p>

<p style="margin-top: 1em">WDVI: Weighted Difference
Vegetation Index <br>
wdvi( redchan, nirchan, soil_line_weight ) <br>
WDVI = nirchan - a * redchan <br>
if(soil_weight_line == None): <br>
a = 1.0 #slope of soil line</p>

<p style="margin-top: 1em">EXAMPLES <br>
Calculation of DVI <br>
The calculation of DVI from the reflectance values is done
as follows: <br>
g.region raster=band.1 -p <br>
i.vi blue=band.1 red=band.3 nir=band.4 viname=dvi output=dvi
<br>
r.univar -e dvi</p>

<p style="margin-top: 1em">Calculation of EVI <br>
The calculation of EVI from the reflectance values is done
as follows: <br>
g.region raster=band.1 -p <br>
i.vi blue=band.1 red=band.3 nir=band.4 viname=evi output=evi
<br>
r.univar -e evi</p>

<p style="margin-top: 1em">Calculation of EVI2 <br>
The calculation of EVI2 from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=evi2 output=evi2 <br>
r.univar -e evi2</p>

<p style="margin-top: 1em">Calculation of GARI <br>
The calculation of GARI from the reflectance values is done
as follows: <br>
g.region raster=band.1 -p <br>
i.vi blue=band.1 green=band.2 red=band.3 nir=band.4
viname=gari output=gari <br>
r.univar -e gari</p>

<p style="margin-top: 1em">Calculation of GEMI <br>
The calculation of GEMI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=gemi output=gemi <br>
r.univar -e gemi</p>

<p style="margin-top: 1em">Calculation of GVI <br>
The calculation of GVI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi blue=band.1 green=band.2 red=band.3 nir=band.4
band5=band.5 band7=band.7 viname=gvi output=gvi <br>
r.univar -e gvi</p>

<p style="margin-top: 1em">Calculation of IPVI <br>
The calculation of IPVI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=ipvi output=ipvi <br>
r.univar -e ipvi</p>

<p style="margin-top: 1em">Calculation of MSAVI <br>
The calculation of MSAVI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=msavi output=msavi <br>
r.univar -e msavi</p>

<p style="margin-top: 1em">Calculation of NDVI <br>
The calculation of NDVI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=ndvi output=ndvi <br>
r.univar -e ndvi</p>

<p style="margin-top: 1em">Calculation of PVI <br>
The calculation of PVI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=pvi output=pvi <br>
r.univar -e pvi</p>

<p style="margin-top: 1em">Calculation of SAVI <br>
The calculation of SAVI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=savi output=savi <br>
r.univar -e savi</p>

<p style="margin-top: 1em">Calculation of SR <br>
The calculation of SR from the reflectance values is done as
follows: <br>
g.region raster=band.3 -p <br>
i.vi red=band.3 nir=band.4 viname=sr output=sr <br>
r.univar -e sr</p>

<p style="margin-top: 1em">Calculation of VARI <br>
The calculation of VARI from the reflectance values is done
as follows: <br>
g.region raster=band.3 -p <br>
i.vi blue=band.2 green=band.3 red=band.4 viname=vari
output=vari <br>
r.univar -e vari</p>

<p style="margin-top: 1em">Landsat TM7 example <br>
The following examples are based on a LANDSAT TM7 scene
included in the North Carolina sample dataset.</p>

<p style="margin-top: 1em">Preparation: DN to reflectance
<br>
As a first step, the original DN (digital number) pixel
values must be converted to reflectance using
i.landsat.toar. To do so, we make a copy (or rename the
channels) to match <br>
i.landsat.toar&acirc;s input scheme:</p>

<p style="margin-top: 1em">g.copy
raster=lsat7_2002_10,lsat7_2002.1 <br>
g.copy raster=lsat7_2002_20,lsat7_2002.2 <br>
g.copy raster=lsat7_2002_30,lsat7_2002.3 <br>
g.copy raster=lsat7_2002_40,lsat7_2002.4 <br>
g.copy raster=lsat7_2002_50,lsat7_2002.5 <br>
g.copy raster=lsat7_2002_61,lsat7_2002.61 <br>
g.copy raster=lsat7_2002_62,lsat7_2002.62 <br>
g.copy raster=lsat7_2002_70,lsat7_2002.7 <br>
g.copy raster=lsat7_2002_80,lsat7_2002.8</p>

<p style="margin-top: 1em">Calculation of reflectance
values from DN using DOS1 (metadata obtained from
p016r035_7x20020524.met.gz):</p>

<p style="margin-top: 1em">i.landsat.toar input=lsat7_2002.
output=lsat7_2002_toar. sensor=tm7 method=dos1
date=2002-05-24 sun_elevation=64.7730999
product_date=2004-02-12 gain=HHHLHLHHL <br>
The resulting Landsat channels are names lsat7_2002_toar.1
.. lsat7_2002_toar.8.</p>

<p style="margin-top: 1em">Calculation of NDVI <br>
The calculation of NDVI from the reflectance values is done
as follows: <br>
g.region raster=lsat7_2002_toar.3 -p <br>
i.vi red=lsat7_2002_toar.3 nir=lsat7_2002_toar.4 viname=ndvi
output=lsat7_2002.ndvi <br>
r.colors lsat7_2002.ndvi color=ndvi <br>
d.mon wx0 <br>
d.rast.leg lsat7_2002.ndvi <br>
North Carolina dataset: NDVI</p>

<p style="margin-top: 1em">Calculation of ARVI <br>
The calculation of ARVI from the reflectance values is done
as follows: <br>
g.region raster=lsat7_2002_toar.3 -p <br>
i.vi blue=lsat7_2002_toar.1 red=lsat7_2002_toar.3
nir=lsat7_2002_toar.4 viname=arvi output=lsat7_2002.arvi
<br>
d.mon wx0 <br>
d.rast.leg lsat7_2002.arvi <br>
North Carolina dataset: ARVI</p>

<p style="margin-top: 1em">Calculation of GARI <br>
The calculation of GARI from the reflectance values is done
as follows: <br>
g.region raster=lsat7_2002_toar.3 -p <br>
i.vi blue=lsat7_2002_toar.1 green=lsat7_2002_toar.2
red=lsat7_2002_toar.3 nir=lsat7_2002_toar.4 viname=gari
output=lsat7_2002.gari <br>
d.mon wx0 <br>
d.rast.leg lsat7_2002.gari <br>
North Carolina dataset: GARI</p>

<p style="margin-top: 1em">NOTES <br>
Originally from kepler.gps.caltech.edu (FAQ):</p>

<p style="margin-top: 1em">A FAQ on Vegetation in Remote
Sensing <br>
Written by Terrill W. Ray, Div. of Geological and Planetary
Sciences, California Institute of Technology, email:
terrill@mars1.gps.caltech.edu</p>

<p style="margin-top: 1em">Snail Mail: Terrill Ray <br>
Division of Geological and Planetary Sciences <br>
Caltech, Mail Code 170-25 <br>
Pasadena, CA 91125</p>

<p style="margin-top: 1em">SEE ALSO <br>
i.albedo, i.aster.toar, i.landsat.toar, i.atcorr,
i.tasscap</p>

<p style="margin-top: 1em">REFERENCES <br>
AVHRR, Landsat TM5:</p>

<p style="margin-top: 1em">&Acirc;&middot; Bastiaanssen,
W.G.M., 1995. Regionalization of surface flux densities and
moisture indicators in composite terrain; a remote sensing
approach under clear skies in <br>
mediterranean climates. PhD thesis, Wageningen Agricultural
Univ., The Netherland, 271 pp. (PDF)</p>

<p style="margin-top: 1em">&Acirc;&middot; Index DataBase:
List of available Indices</p>

<p style="margin-top: 1em">AUTHORS <br>
Baburao Kamble, Asian Institute of Technology, Thailand <br>
Yann Chemin, Asian Institute of Technology, Thailand</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-07-28
00:29:31 +0200 (Thu, 28 Jul 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: i.vi source code (history)</p>

<p style="margin-top: 1em">Main index | Imagery index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0 i.vi(1grass)</p>
<hr>
</body>
</html>
