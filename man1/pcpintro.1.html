<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PCPINTRO(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PCPINTRO(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PCPINTRO(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>PCPIntro</b> - introduction to the Performance Co-Pilot (PCP)
<h1 class="Sh" title="Sh" id="INTRODUCTION"><a class="selflink" href="#INTRODUCTION">INTRODUCTION</a></h1>
The Performance Co-Pilot (PCP) is a toolkit designed for monitoring and managing
  system-level performance. These services are distributed and scalable to
  accommodate the most complex system configurations and performance problems.
<div class="Pp"></div>
PCP supports many different platforms, including (but not limited to) Linux,
  MacOSX, Solaris and Windows. From a high-level PCP can be considered to
  contain two classes of software utility:
<dl class="Bl-tag">
  <dt class="It-tag"><i>PCP Collectors</i></dt>
  <dd class="It-tag">These are the parts of PCP that collect and extract
      performance data from various sources, e.g. the operating system
    kernel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>PCP Monitors</i></dt>
  <dd class="It-tag">These are the parts of PCP that display data collected from
      hosts (or archives) that have the <i>PCP Collector</i> installed. Many
      monitor tools are available as part of the core PCP release, while other
      (typically graphical) monitoring tools are available separately in the PCP
      GUI package.</dd>
</dl>
<div class="Pp"></div>
This manual entry describes the high-level features and options common to most
  PCP utilities available on all platforms.
<h1 class="Sh" title="Sh" id="OVERVIEW"><a class="selflink" href="#OVERVIEW">OVERVIEW</a></h1>
The PCP architecture is distributed in the sense that any PCP tool may be
  executing remotely. On the host (or hosts) being monitored, each domain of
  performance metrics, whether the kernel, a service layer, a database
  management system, a web server, an application, etc. requires a Performance
  Metrics Domain Agent (PMDA) which is responsible for collecting performance
  measurements from that domain. All PMDAs are controlled by the Performance
  Metrics Collector Daemon (<b>pmcd</b>(1)) on the same host.
<div class="Pp"></div>
Client applications (the monitoring tools) connect to <b>pmcd</b>(1), which acts
  as a router for requests, by forwarding requests to the appropriate PMDA and
  returning the responses to the clients. Clients may also access performance
  data from sets of PCP archives (created using <b>pmlogger</b>(1)) for
  retrospective analysis.
<h2 class="Ss" title="Ss" id="Security_philosophy"><a class="selflink" href="#Security_philosophy">Security
  philosophy</a></h2>
PCP redistributes a wealth of performance information within a host and across
  its networks. The following security philosophy underlies the setting of
  several <i>defaults</i> that control how much information is sent and
  received.
<div class="Pp"></div>
By default, the information exposed by PMCD about a host is approximately of the
  same level of confidentiality as available to a completely unprivileged user
  on that host. So, performance data that is available to be <i>read</i>
  completely freely on a machine may be made available by PMCD to the network.
<div class="Pp"></div>
However, the host running PMCD and its network is <i>not</i> assumed to run only
  friendly applications. Therefore, <i>write</i> type operations, including from
  the local host, are not permitted by default.
<div class="Pp"></div>
These defaults may be overridden (expanded or reduced) in several ways,
  including by specifying network ACLs in <b>pmcd.conf</b>, activating
  non-default PMDAs, or by using PMCD connections that pass user credentials.
  For example, some PMDAs automatically provide greater information for
  particular credentialed users or groups.
<h2 class="Ss" title="Ss" id="Applications"><a class="selflink" href="#Applications">Applications</a></h2>
The following performance monitoring applications are primarily console based,
  typically run directly from the command line, and are just a small subset of
  the tools available as part of the base PCP package.
<div class="Pp"></div>
Each tool or command is documented completely in its own reference page.
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmstat</b></dt>
  <dd class="It-tag">Outputs an ASCII high-level summary of system
    performance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmie</b></dt>
  <dd class="It-tag">An inference engine that can evaluate predicate-action
      rules to perform alarms and automate system management tasks.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pminfo</b></dt>
  <dd class="It-tag">Interrogate specific performance metrics and the metadata
      that describes them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmlogger</b></dt>
  <dd class="It-tag">Generates PCP archives of performance metrics suitable for
      replay by most PCP tools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmrep</b></dt>
  <dd class="It-tag">Highly customizable performance metrics reporter with
      support for various different output modes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmval</b></dt>
  <dd class="It-tag">Simple periodic reporting for some or all instances of a
      performance metric, with optional VCR time control.</dd>
</dl>
<div class="Pp"></div>
If the PCP GUI package is installed then the following additional tools are
  available.
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmchart</b></dt>
  <dd class="It-tag">Displays trends over time of arbitrarily selected
      performance metrics from one or more hosts.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmtime</b></dt>
  <dd class="It-tag">Time control utility for coordinating the time between
      multiple tools (including pmchart and pmval).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pmdumptext</b></dt>
  <dd class="It-tag">Produce ASCII reports for arbitrary combinations of
      performance metrics.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COMMON_COMMAND_LINE_ARGUMENTS"><a class="selflink" href="#COMMON_COMMAND_LINE_ARGUMENTS">COMMON
  COMMAND LINE ARGUMENTS</a></h1>
There is a set of common command line arguments that are used consistently by
  most PCP tools.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a </b><i>archive</i></dt>
  <dd class="It-tag">Performance metric information is retrospectively retrieved
      from the set of Performance Co-Pilot (PCP) archives identified by
      <i>archive</i>, previously generated by <b>pmlogger</b>(1).<b>See</b>
      <b>pcp-archive</b>(5) for format documentation. The <b>-a</b> and
      <b>-h</b> options are mutually exclusive.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
<i>archive</i> is a comma-separated list of names, each of which may be the name
  of a directory containing one or more archives, the base name common to all of
  the physical files created by an instance of <b>pmlogger</b>(1), or any one of
  the physical files, e.g. <i>/path/to/myarchives</i> (directory) or
  <i>myarchive</i> (base name) or <i>myarchive</i><b>.meta</b> (the metadata
  file) or <i>myarchive</i><b>.index</b> (the temporal index) or
  <i>myarchive</i><b>.0</b> (the first data volume of <i>archive</i>) or
  <i>myarchive</i><b>.0.bz2</b> or <i>myarchive</i><b>.0.bz</b> (the first data
  volume compressed with <b>bzip2</b>(1)) or <i>myarchive</i><b>.0.gz</b> or
  <i>myarchive</i><b>.0.Z</b> or <i>myarchive</i><b>.0.z</b> (the first data
  volume compressed with <b>gzip</b>(1)), <i>myarchive</i><b>.1</b> or
  <i>myarchive</i><b>.3.bz2</b> or <i>myarchive</i><b>.42.gz</b> etc.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h </b><i>hostname</i></dt>
  <dd class="It-tag">Unless directed to another host by the <b>-h</b> option, or
      to a set of archives by the <b>-a</b> option, the source of performance
      metrics will be the Performance Metrics Collector Daemon (PMCD) on the
      local host. Refer to the <b>PMCD HOST SPECIFICATION</b> section later for
      further details on the many options available when forming the
      <i>hostname</i> specification, as well as a detailed description of the
      default local host connection. The <b>-a</b> and <b>-h</b> options are
      mutually exclusive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s </b><i>samples</i></dt>
  <dd class="It-tag">The argument <i>samples</i> defines the number of samples
      to be retrieved and reported. If <i>samples</i> is 0 or <b>-s</b> is not
      specified, the application will sample and report continuously (in real
      time mode) or until the end of the set of PCP archives (in archive
    mode).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">Change the reporting timezone to the local timezone at the
      host that is the source of the performance metrics, as identified via
      either the <b>-h</b> or <b>-a</b> options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z </b><i>timezone</i></dt>
  <dd class="It-tag">By default, applications report the time of day according
      to the local timezone on the system where the application is executed. The
      <b>-Z</b> option changes the timezone to <i>timezone</i> in the format of
      the environment variable <b>TZ</b> as described in <b>environ</b>(7).</dd>
</dl>
<h1 class="Sh" title="Sh" id="INTERVAL_SPECIFICATION_AND_ALIGNMENT"><a class="selflink" href="#INTERVAL_SPECIFICATION_AND_ALIGNMENT">INTERVAL
  SPECIFICATION AND ALIGNMENT</a></h1>
Most PCP tools operate with periodic sampling or reporting, and the <b>-t</b>
  and <b>-A</b> options may be used to control the duration of the sample
  interval and the alignment of the sample times.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t </b><i>interval</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">Set the update or reporting interval.
<div class="Pp"></div>
The <i>interval</i> argument is specified as a sequence of one or more elements
  of the form
<pre>
<br/>
<i>number</i>[<i>units</i>]
<br/>
</pre>
where <i>number</i> is an integer or floating point constant (parsed using
  <b>strtod</b>(3)) and the optional <i>units</i> is one of: <b>seconds</b>,
  <b>second</b>, <b>secs</b>, <b>sec</b>, <b>s</b>, <b>minutes</b>,
  <b>minute</b>, <b>mins</b>, <b>min</b>, <b>m</b>, <b>hours</b>, <b>hour</b>,
  <b>h</b>, <b>days</b>, <b>day</b> and <b>d</b>. If the <i>unit</i> is empty,
  <b>second</b> is assumed.
<div class="Pp"></div>
In addition, the upper case (or mixed case) version of any of the above is also
  acceptable.
<div class="Pp"></div>
Spaces anywhere in the <i>interval</i> are ignored, so <b>4 days 6 hours 30
  minutes</b>, <b>4day6hour30min</b>, <b>4d6h30m</b> and <b>4d6.5h</b> are all
  equivalent.
<div class="Pp"></div>
Multiple specifications are additive, e.g. `` <b>1hour 15mins 30secs</b>'' is
  interpreted as 3600+900+30 seconds.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A </b><i>align</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">By default samples are not necessarily aligned
  on any natural unit of time. The <b>-A</b> option may be used to force the
  initial sample to be aligned on the boundary of a natural time unit. For
  example <b>-A 1sec</b>, <b>-A 30min</b> and <b>-A 1hour</b> specify alignment
  on whole seconds, half and whole hours respectively.
<div class="Pp"></div>
The <i>align</i> argument follows the syntax for an <i>interval</i> argument
  described above for the <b>-t</b> option.
<div class="Pp"></div>
Note that alignment occurs by advancing the time as required, and that <b>-A</b>
  acts as a modifier to advance both the start of the time window (see the next
  section) and the origin time (if the <b>-O</b> option is specified).</div>
<h1 class="Sh" title="Sh" id="TIME_WINDOW_SPECIFICATION"><a class="selflink" href="#TIME_WINDOW_SPECIFICATION">TIME
  WINDOW SPECIFICATION</a></h1>
Many PCP tools are designed to operate in some time window of interest, e.g. to
  define a termination time for real-time monitoring or to define a start and
  end time within a set of PCP archive logs.
<div class="Pp"></div>
In the absence of the <b>-O</b> and <b>-A</b> options to specify an initial
  sample time origin and time alignment (see above), the PCP application will
  retrieve the first sample at the start of the time window.
<div class="Pp"></div>
The following options may be used to specify a time window of interest.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S </b><i>starttime</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">By default the time window commences
  immediately in real-time mode, or coincides with time at the start of the set
  of PCP archive logs in archive mode. The <b>-S</b> option may be used to
  specify a later time for the start of the time window.
<div class="Pp"></div>
The <i>starttime</i> parameter may be given in one of three forms
  (<i>interval</i> is the same as for the <b>-t</b> option as described above,
  <i>datetime</i> is described below):
<dl class="Bl-tag">
  <dt class="It-tag"><i>interval</i></dt>
  <dd class="It-tag">To specify an offset from the current time (in real-time
      mode) or the beginning of a set of PCP archives (in archive mode) simply
      specify the interval of time as the argument. For example <b>-S 30min</b>
      will set the start of the time window to be exactly 30 minutes from now in
      real-time mode, or exactly 30 minutes from the start of a set of PCP
      archives.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<i>interval</i></dt>
  <dd class="It-tag">To specify an offset from the end of a set of PCP archive
      logs, prefix the <i>interval</i> argument with a minus sign. In this case,
      the start of the time window precedes the time at the end of the set of
      archives by the given interval. For example <b>-S -1hour</b> will set the
      start of the time window to be exactly one hour before the time of the
      last sample in a set of PCP archive logs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">@<i>datetime</i></dt>
  <dd class="It-tag">To specify the calendar date and time (local time in the
      reporting timezone) for the start of the time window, use the datetime
      syntax preceded by an at sign. Refer to the datetime description below for
      detailed information.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T </b><i>endtime</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">By default the end of the time window is
  unbounded (in real-time mode) or aligned with the time at the end of a set of
  PCP archive logs (in archive mode). The <b>-T</b> option may be used to
  specify an earlier time for the end of the time window.
<div class="Pp"></div>
The <i>endtime</i> parameter may be given in one of three forms (<i>interval</i>
  is the same as for the <b>-t</b> option as described above, <i>datetime</i> is
  described below):
<dl class="Bl-tag">
  <dt class="It-tag"><i>interval</i></dt>
  <dd class="It-tag">To specify an offset from the start of the time window
      simply use the interval of time as the argument. For example <b>-T
      2h30m</b> will set the end of the time window to be 2 hours and 30 minutes
      after the start of the time window.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-<i>interval</i></dt>
  <dd class="It-tag">To specify an offset back from the time at the end of a set
      of PCP archive logs, prefix the <i>interval</i> argument with a minus
      sign. For example <b>-T -90m</b> will set the end of the time window to be
      90 minutes before the time of the last sample in a set of PCP archive
      logs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">@<i>datetime</i></dt>
  <dd class="It-tag">To specify the calendar date and time (local time in the
      reporting timezone) for the end of the time window, use the datetime
      syntax preceded by an at sign. Refer to the datetime description below for
      detailed information.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O </b><i>origin</i></dt>
  <dd class="It-tag"></dd>
</dl>
<div style="margin-left: 5.00ex;">By default samples are fetched from the start
  of the time window (see description of <b>-S</b> option) to the end of the
  time window (see description of <b>-T</b> option). The <b>-O</b> option allows
  the specification of an origin within the time window to be used as the
  initial sample time. This is useful for interactive use of a PCP tool with the
  <b>pmtime</b>(1) VCR replay facility.
<div class="Pp"></div>
The <i>origin</i> argument accepted by <b>-O</b> conforms to the same syntax and
  semantics as the <i>starttime</i> argument for the <b>-T</b> option.
<div class="Pp"></div>
For example <b>-O -0</b> specifies that the initial position should be at the
  end of the time window; this is most useful when wishing to replay
  ``backwards'' within the time window.</div>
<div class="Pp"></div>
The <i>datetime</i> argument for the <b>-O</b>, <b>-S</b> and <b>-T</b> options
  consists of:
<div>&#x00A0;</div>
<b>date time zone day relative</b>
<div>&#x00A0;</div>
A date can be one of: YY-MM-DD, MM/DD/YY, DD Month YYYY, or Month DD YYYY. A
  time can be one of: HH:MM:SS, HH:MM. HH:MM can use either the 12 hour (via an
  am or pm suffix) or 24 hour convention. A day of the week can be a spelled out
  day of the week, optionally preceded by an ordinal number such as second
  tuesday. A zone is a time zone value as specified by the <b>tzselect(1)</b>
  command. A relative time can be a time unit that is: preceded by a cardinal
  number such as 1 year or 2 months, preceded by one of the time words this or
  last, or succeeded by the time word ago. A relative time can also be one of
  the time words: yesterday, today, tomorrow, now. Examples of datetime strings
  are: <b>1996-03-04 13:07:47 EST Mon</b>, <b>1996-03-05 14:07:47 EST
  -1hour</b>, <b>Mon Mar 4 13:07:47 1996</b>, <b>Mar 4 1996</b>, <b>Mar 4</b>,
  <b>Mar</b>, <b>13:07:50</b> or <b>13:08</b>.
<div class="Pp"></div>
For any missing low order fields, the default value of 0 is assumed for hours,
  minutes and seconds, 1 for day of the month and Jan for months. Hence, the
  following are equivalent: <b>-S '@ Mar 1996'</b> and <b>-S '@ Mar 1 00:00:00
  1996'</b>.
<div class="Pp"></div>
If any high order fields are missing, they are filled in by starting with the
  year, month and day from the current time (real-time mode) or the time at the
  beginning of the set of PCP archive logs (archive mode) and advancing the time
  until it matches the fields that are specified. So, for example if the time
  window starts by default at ``Mon Mar 4 13:07:47 1996'', then <b>-S @13:10</b>
  corresponds to 13:10:00 on Mon Mar 4, 1996, while <b>-S @10:00</b> corresponds
  to 10:00:00 on Tue Mar 5, 1996 (note this is the following day).
<div class="Pp"></div>
For greater precision than afforded by <b>datetime</b>(3), the seconds component
  may be a floating point number.
<div class="Pp"></div>
If a timezone is not included in a <i>datetime</i> then there ares several
  interpretations available depending on the other command line options used.
  The default is to use the local timezone on the system where the PCP tool is
  being run. A <b>-Z</b> option specifies an explicit timezone, else a <b>-z</b>
  option changes the timezone to the local timezone at the host that is the
  source of the performance metrics.
<h1 class="Sh" title="Sh" id="PERFORMANCE_METRICS_-_NAMES_AND_IDENTIFIERS"><a class="selflink" href="#PERFORMANCE_METRICS_-_NAMES_AND_IDENTIFIERS">PERFORMANCE
  METRICS - NAMES AND IDENTIFIERS</a></h1>
The number of performance metric names supported by PCP on most platforms ranges
  from many hundreds to several thousand. The PCP libraries and applications use
  an internal identification scheme that unambiguously associates a single
  integer with each known performance metric. This integer is known as the
  Performance Metric Identifier, or PMID. Although not a requirement, PMIDs tend
  to have global consistency across all systems, so a particular performance
  metric usually has the same PMID.
<div class="Pp"></div>
For all users and most applications, direct use of the PMIDs would be
  inappropriate (e.g. this would limit the range of accessible metrics, make the
  code hard to maintain, force the user interface to be particularly baroque,
  etc.). Hence a Performance Metrics Name Space (PMNS) is used to provide
  external names and a hierarchic classification for performance metrics. A PMNS
  is represented as a tree, with each node having a label, a pointer to either a
  PMID (for leaf nodes) or a set of descendent nodes in the PMNS (for non-leaf
  nodes).
<div class="Pp"></div>
A node label must begin with an alphabetic character, followed by zero or more
  characters drawn from the alphabetics, the digits and character `_&#x00B4;
  (underscore). For alphabetic characters in a node label, upper and lower case
  are distinguished.
<div class="Pp"></div>
By convention, the name of a performance metric is constructed by concatenation
  of the node labels on a path through the PMNS from the root node to a leaf
  node, with a ``.'' as a separator. The root node in the PMNS is unlabeled, so
  all names begin with the label associated with one of the descendent nodes
  below the root node of the PMNS, e.g. <i>kernel.percpu.syscall</i>. Typically
  (although this is not a requirement) there would be at most one name for each
  PMID in a PMNS. For example <i>kernel.all.cpu.idle</i> and
  <i>disk.dev.read</i> are the unique names for two distinct performance
  metrics, each with a unique PMID.
<div class="Pp"></div>
Groups of related PMIDs may be named by naming a non-leaf node in the PMNS tree,
  e.g. <i>disk</i>.
<div class="Pp"></div>
The default local PMNS used by <b>pmcd</b> is located at
  <b>$PCP_VAR_DIR/pmns/root</b> however the environment variable
  <b>PMNS_DEFAULT</b> may be set to the full pathname of a different PMNS which
  will then be used as the default local PMNS.
<div class="Pp"></div>
Most applications do not use the local PMNS directly, but rather import parts of
  the PMNS as required from the same place that performance metrics are fetched,
  i.e. from <b>pmcd</b>(1) for live monitoring or from a set of PCP archives for
  retrospective monitoring.
<div class="Pp"></div>
To explore the PMNS use <b>pminfo</b>(1), or if the PCP GUI package is installed
  the New Chart and Metric Search windows within <b>pmchart</b>(1).
<h1 class="Sh" title="Sh" id="PERFORMANCE_METRIC_SPECIFICATIONS"><a class="selflink" href="#PERFORMANCE_METRIC_SPECIFICATIONS">PERFORMANCE
  METRIC SPECIFICATIONS</a></h1>
In configuration files and (to a lesser extent) command line options, metric
  specifications adhere to the following syntax rules.
<div class="Pp"></div>
If the source of performance metrics is real-time from <b>pmcd</b>(1) then the
  accepted syntax is
<div>&#x00A0;</div>
<i>host</i><b>:</b><i>metric</i><b>[</b><i>instance1</i><b>,</b><i>instance2</i><b>,</b>...<b>]</b>
<div class="Pp"></div>
If the source of performance metrics is a set of PCP archive logs then the
  accepted syntax is
<div>&#x00A0;</div>
<i>archive</i><b>/</b><i>metric</i><b>[</b><i>instance1</i><b>,</b><i>instance2</i><b>,</b>...<b>]</b>
<div class="Pp"></div>
The <i>host</i><b>:,</b> <i>archive</i><b>/</b> and
  <b>[</b><i>instance1</i><b>,</b> <i>instance2</i><b>,</b>...<b>]</b>
  components are all optional.
<div class="Pp"></div>
The <b>,</b> delimiter in the list of instance names may be replaced by white
  space.
<div class="Pp"></div>
Special characters in <i>instance</i> names may be escaped by surrounding the
  name in double quotes or preceding the character with a backslash.
<div class="Pp"></div>
White space is ignored everywhere except within a quoted <i>instance</i> name.
<div class="Pp"></div>
An empty <i>instance</i> is silently ignored, and in particular `` <b>[]</b>''
  is the same as no <i>instance</i>, while `` <b>[one,,,two]</b>'' is parsed as
  specifying just the two instances `` <b>one</b>'' and ``<b>two</b>''.
<div class="Pp"></div>
As a special case, if the <b>host</b> is the single character ``@'' then this
  refers to a <b>PM_CONTEXT_LOCAL</b> source, see <b>pmNewContext</b>(3).
<h1 class="Sh" title="Sh" id="SECURE_PMCD_CONNECTIONS"><a class="selflink" href="#SECURE_PMCD_CONNECTIONS">SECURE
  PMCD CONNECTIONS</a></h1>
Since PCP version 3.6.11, a monitor can explicitly request a secure connection
  to a collector host running <b>pmcd</b>(1) or <b>pmproxy</b>(1) using the
  PM_CTXFLAG_SECURE context flag. If the PCP Collector host supports this
  feature - refer to the pmcd.feature.secure metric for confirmation of this - a
  TLS/SSL (Transport Layer Security or Secure Sockets Layer) connection can be
  established which uses public key cryptography and related techniques. These
  features aim to prevent eavesdropping and data tampering from a malicious
  third party, as well as providing server-side authentication (confident
  identification of a server by a client) which can be used to guard against
  man-in-the-middle attacks.
<div class="Pp"></div>
A secure <b>pmcd</b> connection requires use of certificate-based
  authentication. The security features offered by <b>pmcd</b> and
  <b>pmproxy</b> are implemented using the Network Security Services (NSS) APIs
  and utilities. The NSS <b>certutil</b> tool can be used to create certificates
  suitable for establishing trust between PCP monitor and collector hosts.
<div class="Pp"></div>
A complete description is beyond the scope of this document, refer to the <b>PCP
  ENVIRONMENT</b>, <b>FILES</b> and <b>SEE ALSO</b> sections for detailed
  information. This includes links to tutorials on the steps involved in setting
  up the available security features.
<h1 class="Sh" title="Sh" id="PMCD_HOST_SPECIFICATION"><a class="selflink" href="#PMCD_HOST_SPECIFICATION">PMCD
  HOST SPECIFICATION</a></h1>
In the absence of an explicit host name specification, most tools will default
  to the local host in live update mode. In PCP releases since 3.8.4 onward,
  this results in an efficient local protocol being selected - typically a Unix
  domain socket. If this option is used (which can also be explicitly requested
  via the <i>unix:</i> host specification described below), it is important to
  note that all connections will be automatically authenticated. In other words,
  the credentials of the user invoking a client tool will automatically be made
  available to <b>pmcd</b>(1) and all of its PMDAs, on the users behalf, such
  that results can be customized to the privilege levels of individual users.
<div class="Pp"></div>
Names of remote hosts running the <b>pmcd</b>(1) daemon can of course also be
  provided to request a remote host be used. The most basic form of <b>pmcd</b>
  host specification is a simple host name, possibly including the domain name
  if necessary. However, this can be extended in a number of ways to further
  refine attributes of the connection made to <b>pmcd</b>.
<div class="Pp"></div>
The <b>pmcd</b> port number and also optional <b>pmproxy</b>(1) hostname and its
  port number, can be given as part of the host specification, since PCP version
  3.0. These supersede (and override) the old-style PMCD_PORT, PMPROXY_HOST and
  PMPROXY_PORT environment variables.
<div class="Pp"></div>
The following are valid hostname specifications that specify connections to
  <b>pmcd</b> on host <i>nas1.servers.com</i> with/without a list of ports,
  with/without a <b>pmproxy</b>(1) connection through a firewall, and with IPv6
  and IPv4 addresses as shown.
<div class="Pp"></div>
<br/>
<pre>
$ pcp -h nas1.servers.com:44321,4321@firewall.servers.com:44322
$ pcp -h nas1.servers.com:44321@firewall.servers.com:44322
$ pcp -h nas1.servers.com:44321@firewall.servers.com
$ pcp -h nas1.servers.com@firewall.servers.com
$ pcp -h nas1.servers.com:44321
$ pcp -h [fe80::2ad2:44ff:fe88:e4f1%p2p1]
$ pcp -h 192.168.0.103
</pre>
<br/>
<div class="Pp"></div>
In addition, ``connection attributes'' can also be specified. These include
  username, password (can be given interactively and may depend on the
  authentication mechanism employed), whether to target a specific running
  container, whether to use secure (encrypted) or native (naked) protocol, and
  so on. The previous examples all default to native protocol, and use no
  authentication. This can be altered, as in the following examples.
<div class="Pp"></div>
<br/>
<pre>
$ pcp -h pcps://app2.servers.com?container=cae8e6edc0d5
$ pcp -h pcps://nas1.servers.com:44321?username=tanya&amp;method=gssapi
$ pcp -h pcps://nas2.servers.com@firewalls.r.us?method=plain
$ pcp -h pcp://nas3.servers.com
$ pcp -h 192.168.0.103?container=cae8e6edc0d5,method=digest-md5
$ pcp -h unix:
$ pcp -h local:
</pre>
<br/>
<div class="Pp"></div>
The choice of authentication method, and other resulting parameters like
  username, optionally password, etc, depends on the SASL2 configuration used by
  each (remote) <b>pmcd</b>. Tutorials are available specifying various aspects
  of configuring the authentication module(s) used, these fine details are
  outside the scope of this document.
<div class="Pp"></div>
In all situations, host names can be used interchangeably with IPv4 or IPv6
  addressing (directly), as shown above. In the case of an IPv6 address, the
  full address must be enclosed by square brackets and the scope (interface)
  must also be specified.
<div class="Pp"></div>
The final <i>local:</i> example above is now the default for most tools. This
  connection is an automatically authenticated local host connection on all
  platforms that support Unix domain sockets. No password is required and
  authentication is automatic. This is also the most efficient (lowest overhead)
  communication channel available.
<div class="Pp"></div>
The difference between <i>unix:</i> and <i>local:</i> is that the former is a
  strict Unix domain socket specification (connection fails if it cannot connect
  that way), whereas the latter has a more forgiving fallback to using
  <i>localhost</i> (i.e. a regular Inet socket connection is used when Unix
  domain socket connections are unavailable).
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
In addition to the PCP run-time environment and configuration variables
  described in the <b>PCP ENVIRONMENT</b> section below, the following
  environment variables apply to all installations.
<div class="Pp"></div>
Note that most uses of these environment variables are optimized to check the
  environment only the first time the variable might be used. As the environment
  usually is not checked again, the only safe strategy is to ensure all
  PCP-related environment variables are set before the first call into any of
  the PCP libraries.
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_ALLOW_BAD_CERT_DOMAIN</b></dt>
  <dd class="It-tag">When set, allow clients to accept certificates with
      mismatched domain names with no prompt when they are sent by <b>pmcd</b>
      or other server components. See <b>PCP_SECURE_SOCKETS.</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_ALLOW_SERVER_SELF_CERT</b></dt>
  <dd class="It-tag">When set, allow clients to accept self-signed certificates
      with no prompt when they are sent by <b>pmcd</b> or other server
      components. See <b>PCP_SECURE_SOCKETS.</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_CONSOLE</b></dt>
  <dd class="It-tag">When set, this changes the default console from
      <i>/dev/tty</i> (on Unix) or <i>CON:</i> (on Windows) to be the specified
      console. The special value of <i>none</i> can be used to indicate no
      console is available for use. This is used in places where console-based
      tools need to interact with the user, and in particular is used when
      authentication is being performed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_DEBUG</b></dt>
  <dd class="It-tag">When set, this variable provides an alternate way to
      initialize the value used to control diagnostic and debug output (the
      default value is 0 to suppress this output). The value for
      <b>$PCP_DEBUG</b> should be a decimal integer, see <b>pmdbg</b>(1) for a
      description of the supported values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_DERIVED_CONFIG</b></dt>
  <dd class="It-tag">When set, this variable defines a colon separated list of
      files and/or directories (the syntax is the same as for the <b>$PATH</b>
      variable for <b>sh</b>(1)). The components are expanded into a list of
      files as follows: if a component of <b>$PCP_DERIVED_CONFIG</b> is a file,
      then that file is added to the list, else if a component is a directory
      then recursive descent is used to enumerate all files below that directory
      and these are added to the list.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
Each file in the resulting list is assumed to contain definitions of derived
  metrics as per the syntax described in <b>pmLoadDerivedConfig</b>(3), and
  these are loaded in order.
<div class="Pp"></div>
Derived metrics may be used to extend the available metrics with new (derived)
  metrics using simple arithmetic expressions.
<div class="Pp"></div>
If <b>PCP_DERIVED_CONFIG</b> is set, the derived metric definitions are
  processed automatically as each new source of performance metrics is
  established (i.e. each time a <b>pmNewContext</b>(3) is called) or when
  requests are made against the PMNS.
<div class="Pp"></div>
Any component in the <b>$PCP_DERIVED_CONFIG</b> list or the expanded list of
  files that is not a file, or is not a directory or is not accessible (due to
  permissions or a bad symbolic link) will be silently ignored.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_SECURE_SOCKETS</b></dt>
  <dd class="It-tag">When set, this variable forces any monitor tool connections
      to be established using the certificate-based secure sockets feature. If
      the connections cannot be established securely, they will fail.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_SECURE_DB_METHOD</b></dt>
  <dd class="It-tag">With secure socket connections, the certificate and key
      database is stored using the <b>sql:</b> method by default. Use
      <b>PCP_SECURE_DB_METHOD</b> to override the default, most usually setting
      the value to the empty string (for the older database methods).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_SECURE_DB_PATH</b></dt>
  <dd class="It-tag">When set, this variable specifies an alternate certficate
      database path for client tools. Similar to the action of the -C option for
      <b>pmcd</b>(1) and <b>pmproxy</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_STDERR</b></dt>
  <dd class="It-tag">Many PCP tools support the environment variable
      <b>PCP_STDERR</b>, which can be used to control where error messages are
      sent. When unset, the default behavior is that ``usage'' messages and
      option parsing errors are reported on standard error, other messages after
      initial startup are sent to the default destination for the tool, i.e.
      standard error for ASCII tools, or a dialog for GUI tools.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If <b>PCP_STDERR</b> is set to the literal value <b>DISPLAY</b> then all
  messages will be displayed in a dialog. This is used for any tools launched
  from the a Desktop environment.
<div class="Pp"></div>
If <b>PCP_STDERR</b> is set to any other value, the value is assumed to be a
  filename, and all messages will be written there.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMCD_CONNECT_TIMEOUT</b></dt>
  <dd class="It-tag">When attempting to connect to a remote <b>pmcd</b>(1) on a
      machine that is booting, the connection attempt could potentially block
      for a long time until the remote machine finishes its initialization. Most
      PCP applications and some of the PCP library routines will abort and
      return an error if the connection has not been established after some
      specified interval has elapsed. The default interval is 5 seconds. This
      may be modified by setting <b>PMCD_CONNECT_TIMEOUT</b> in the environment
      to a real number of seconds for the desired timeout. This is most useful
      in cases where the remote host is at the end of a slow network, requiring
      longer latencies to establish the connection correctly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMCD_RECONNECT_TIMEOUT</b></dt>
  <dd class="It-tag">When a monitor or client application loses a connection to
      a <b>pmcd</b>(1), the connection may be re-established by calling a
      service routine in the PCP library. However, attempts to reconnect are
      controlled by a back-off strategy to avoid flooding the network with
      reconnection requests. By default, the back-off delays are 5, 10, 20, 40
      and 80 seconds for consecutive reconnection requests from a client (the
      last delay will be repeated for any further attempts after the fifth).
      Setting the environment variable <b>PMCD_RECONNECT_TIMEOUT</b> to a comma
      separated list of positive integers will re-define the back-off delays,
      e.g. setting <b>PMCD_RECONNECT_TIMEOUT</b> to ``1,2'' will back-off for 1
      second, then attempt another connection request every 2 seconds
      thereafter.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMCD_REQUEST_TIMEOUT</b></dt>
  <dd class="It-tag">For monitor or client applications connected to
      <b>pmcd</b>(1), there is a possibility of the application
      &quot;hanging&quot; on a request for performance metrics or metadata or
      help text. These delays may become severe if the system running
      <b>pmcd</b> crashes, or the network connection is lost. By setting the
      environment variable <b>PMCD_REQUEST_TIMEOUT</b> to a number of seconds,
      requests to <b>pmcd</b> will timeout after this number of seconds. The
      default behavior is to be willing to wait 10 seconds for a response from
      every <b>pmcd</b> for all applications.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMCD_WAIT_TIMEOUT</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    When <b>pmcd</b>(1) is started from <b>$PCP_RC_DIR/pcp</b> then the primary
      instance of <b>pmlogger</b>(1) will be started if the configuration flag
      <b>pmlogger</b> is <b>chkconfig</b>(8) enabled and <b>pmcd</b> is running
      and accepting connections.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The check on <b>pmcd</b>'s readiness will wait up to <b>PMCD_WAIT_TIMEOUT</b>
  seconds. If <b>pmcd</b> has a long startup time (such as on a very large
  system), then <b>PMCD_WAIT_TIMEOUT</b> can be set to provide a maximum wait
  longer than the default 60 seconds.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMNS_DEFAULT</b></dt>
  <dd class="It-tag">If set, then interpreted as the full pathname to be used as
      the default local PMNS for <b>pmLoadNameSpace</b>(3). Otherwise, the
      default local PMNS is located at <b>$PCP_VAR_DIR/pcp/pmns/root</b> for
      base PCP installations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PCP_COUNTER_WRAP</b></dt>
  <dd class="It-tag">Many of the performance metrics exported from PCP agents
      have the semantics of <i>counter</i> meaning they are expected to be
      monotonically increasing. Under some circumstances, one value of these
      metrics may smaller than the previously fetched value. This can happen
      when a counter of finite precision overflows, or when the PCP agent has
      been reset or restarted, or when the PCP agent is exporting values from
      some underlying instrumentation that is subject to some asynchronous
      discontinuity.
    <div style="height: 1.00em;">&#x00A0;</div>
    The environment variable <b>PCP_COUNTER_WRAP</b> may be set to indicate that
      all such cases of a decreasing ``counter'' should be treated as a counter
      overflow, and hence the values are assumed to have wrapped once in the
      interval between consecutive samples. This ``wrapping'' behavior was the
      default in earlier PCP versions, but by default has been disabled in PCP
      release from version 1.3 on.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMDA_PATH</b></dt>
  <dd class="It-tag">The <b>PMDA_PATH</b> environment variable may be used to
      modify the search path used by <b>pmcd</b>(1) and <b>pmNewContext</b>(3)
      (for <b>PM_CONTEXT_LOCAL</b> contexts) when searching for a daemon or DSO
      PMDA. The syntax follows that for <b>PATH</b> in <b>sh</b>(1), i.e. a
      colon separated list of directories, and the default search path is
      ``/var/pcp/lib:/usr/pcp/lib'', (or ``/var/lib/pcp/lib'' on Linux,
      depending on the value of the $PCP_VAR_DIR environment variable).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMCD_PORT</b></dt>
  <dd class="It-tag">The TPC/IP port(s) used by <b>pmcd</b>(1) to create the
      socket for incoming connections and requests, was historically 4321 and
      more recently the officially registered port 44321; in the current
      release, <b>both</b> port numbers are used by default as a transitional
      arrangement. This may be over-ridden by setting <b>PMCD_PORT</b> to a
      different port number, or a comma-separated list of port numbers. If a
      non-default port is used when <b>pmcd</b> is started, then every
      monitoring application connecting to that <b>pmcd</b> must also have
      <b>PMCD_PORT</b> set in their environment before attempting a
    connection.</dd>
</dl>
<div class="Pp"></div>
The following environment variables are relevant to installations in which
  <b>pmlogger</b>(1), the PCP archive logger, is used.
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMLOGGER_PORT</b></dt>
  <dd class="It-tag">The environment variable <b>PMLOGGER_PORT</b> may be used
      to change the base TCP/IP port number used by <b>pmlogger</b>(1) to create
      the socket to which <b>pmlc</b>(1) instances will try and connect. The
      default base port number is 4330. When used, <b>PMLOGGER_PORT</b> should
      be set in the environment before <b>pmlogger</b> is executed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMLOGGER_REQUEST_TIMEOUT</b></dt>
  <dd class="It-tag">When <b>pmlc</b>(1) connects to <b>pmlogger</b>(1), there
      is a remote possibility of <b>pmlc</b> &quot;hanging&quot; on a request
      for information as a consequence of a failure of the network or
      <b>pmlogger</b>. By setting the environment variable
      <b>PMLOGGER_REQUEST_TIMEOUT</b> to a number of seconds, requests to
      <b>pmlogger</b> will timeout after this number of seconds. The default
      behavior is to be willing to wait forever for a response from each request
      to a <b>pmlogger</b>. When used, <b>PMLOGGER_REQUEST_TIMEOUT</b> should be
      set in the environment before <b>pmlc</b> is executed.</dd>
</dl>
<div class="Pp"></div>
If you have the PCP product installed, then the following environment variables
  are relevant to the Performance Metrics Domain Agents (PMDAs).
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMDA_LOCAL_PROC</b></dt>
  <dd class="It-tag">Use this variable has been deprecated and it is now
      ignored. If the ``proc'' PMDA is configured as a DSO for use with
      <b>pmcd</b>(1) on the local host then all of the ``proc'' metrics will be
      available to applications using a <b>PM_CONTEXT_LOCAL</b> context.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The previous behaviour was that if this variable was set, then a context
  established with the <i>type</i> of <b>PM_CONTEXT_LOCAL</b> will have access
  to the ``proc'' PMDA to retrieve performance metrics about individual
  processes.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMDA_LOCAL_SAMPLE</b></dt>
  <dd class="It-tag">Use this variable has been deprecated and it is now
      ignored. If the ``sample'' PMDA is configured as a DSO for use with
      <b>pmcd</b>(1) on the local host then all of the ``sample'' metrics will
      be available to applications using a <b>PM_CONTEXT_LOCAL</b> context.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
The previous behaviour was that if this variable was set, then a context
  established with the <i>type</i> of <b>PM_CONTEXT_LOCAL</b> will have access
  to the ``sample'' PMDA if this optional PMDA has been installed locally.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PMIECONF_PATH</b></dt>
  <dd class="It-tag">If set, <b>pmieconf</b>(1) will form its <b>pmieconf</b>(5)
      specification (set of parameterized <b>pmie</b>(1) rules) using all valid
      <b>pmieconf</b> files found below each subdirectory in this
      colon-separated list of subdirectories. If not set, the default is
      <b>$PCP_VAR_DIR/config/pmieconf</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/pcp.conf</b></dt>
  <dd class="It-tag">Configuration file for the PCP runtime environment, see
      <b>pcp.conf</b>(5).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/pki/nssdb</b></dt>
  <dd class="It-tag">Optionally contains a Network Security Services database
      with a &quot;PCP Collector&quot; certificate providing trusted
      identification for the collector host.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$HOME/.pcp</b></dt>
  <dd class="It-tag">User-specific directories containing configuration files
      for customisation of the various monitor tools, such as
    <b>pmchart</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$HOME/.pki/nssdb</b></dt>
  <dd class="It-tag">A shared Network Security Services (NSS) database directory
      containing per-user certificates identifying known valid remote
      <b>pmcd</b> collector hosts. The NSS <b>certutil</b> tool is one of
      several that can be used to maintain this database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_RC_DIR/pcp</b></dt>
  <dd class="It-tag">Script for starting and stopping <b>pmcd</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMCDCONF_PATH</b></dt>
  <dd class="It-tag">Control file for <b>pmcd</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMCDOPTIONS_PATH</b></dt>
  <dd class="It-tag">Command line options passed to <b>pmcd</b>(1) when it is
      started from <b>$PCP_RC_DIR/pcp</b>. All the command line option lines
      should start with a hyphen as the first character. This file can also
      contain environment variable settings of the form
      &quot;VARIABLE=value&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_BINADM_DIR</b></dt>
  <dd class="It-tag">Location of PCP utilities for collecting and maintaining
      PCP archives, PMDA help text, PMNS files etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMDAS_DIR</b></dt>
  <dd class="It-tag">Parent directory of the installation directory for Dynamic
      Shared Object (DSO) PMDAs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_RUN_DIR/pmcd.pid</b></dt>
  <dd class="It-tag">If pmcd is running, this file contains an ascii decimal
      representation of its process ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_LOG_DIR/pmcd</b></dt>
  <dd class="It-tag">Default location of log files for <b>pmcd</b>(1), current
      directory for running PMDAs. Archives generated by <b>pmlogger</b>(1) are
      generally below <b>$PCP_LOG_DIR/pmlogger</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_LOG_DIR/pmcd/pmcd.log</b></dt>
  <dd class="It-tag">Diagnostic and status log for the current running
      <b>pmcd</b>(1) process. The first place to look when there are problems
      associated with <b>pmcd</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_LOG_DIR/pmcd/pmcd.log.prev</b></dt>
  <dd class="It-tag">Diagnostic and status log for the previous <b>pmcd</b>(1)
      instance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_LOG_DIR/NOTICES</b></dt>
  <dd class="It-tag">Log of <b>pmcd</b>(1) and PMDA starts, stops, additions and
      removals.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_VAR_DIR/config</b></dt>
  <dd class="It-tag">Contains directories of configuration files for several PCP
      tools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_SYSCONF_DIR/pmcd/rc.local</b></dt>
  <dd class="It-tag">Local script for controlling PCP boot, shutdown and restart
      actions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_VAR_DIR/pmns</b></dt>
  <dd class="It-tag">Directory containing the set of PMNS files for all
      installed PMDAs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_VAR_DIR/pmns/root</b></dt>
  <dd class="It-tag">The ASCII <b>pmns</b>(5) exported by <b>pmcd</b>(1) by
      default. This PMNS is be the super set of all other PMNS files installed
      in <b>$PCP_VAR_DIR/pmns</b>.</dd>
</dl>
<div class="Pp"></div>
In addition, if the PCP product is installed the following files and directories
  are relevant.
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_LOG_DIR/NOTICES</b></dt>
  <dd class="It-tag">In addition to the <b>pmcd</b>(1) and PMDA activity, may be
      used to log alarms and notices from <b>pmie</b>(1) via
    <b>pmpost</b>(1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>$PCP_PMLOGGERCONTROL_PATH</b></dt>
  <dd class="It-tag">Control file for <b>pmlogger</b>(1) instances launched from
      <b>$PCP_RC_DIR/pcp</b> and/or managed by <b>pmlogger_check</b>(1) and
      <b>pmlogger_daily</b>(1) as part of a production PCP archive collection
      setup.</dd>
</dl>
<h1 class="Sh" title="Sh" id="PCP_ENVIRONMENT"><a class="selflink" href="#PCP_ENVIRONMENT">PCP
  ENVIRONMENT</a></h1>
Environment variables with the prefix <b>PCP_</b> are used to parameterize the
  file and directory names used by PCP. On each installation, the file
  <b>/etc/pcp.conf</b> contains the local values for these variables. The
  <b>$PCP_CONF</b> variable may be used to specify an alternative configuration
  file, as described in <b>pcp.conf</b>(5).
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pmcd</b>(1), <b>pmie</b>(1), <b>pmie_daily</b>(1), <b>pminfo</b>(1),
  <b>pmlc</b>(1), <b>pmlogger</b>(1), <b>pmlogger_daily</b>(1), <b>pmrep</b>(1),
  <b>pmstat</b>(1), <b>pmval</b>(1), <b>pcp</b>(1), <b>pcp.conf</b>(5),
  <b>pcp.env</b>(5), <b>pmns</b>(5) and <b>chkconfig</b>(8).
<div class="Pp"></div>
If the PCP GUI package is installed, then the following entries are also
  relevant:
<div>&#x00A0;</div>
<b>pmchart</b>(1), <b>pmtime</b>(1), and <b>pmdumptext</b>(1).
<div class="Pp"></div>
If the secure sockets extensions have been enabled, then the following
  references are also relevant:
<div>&#x00A0;</div>
<i>http://www.pcp.io/documentation.html</i>
<div>&#x00A0;</div>
<i>http://www.mozilla.org/projects/security/pki/nss/#documentation</i>
<div>&#x00A0;</div>
<i>http://www.mozilla.org/projects/security/pki/nss/tools/certutil.html</i>
<div class="Pp"></div>
Also refer to the books <i>Performance Co-Pilot User's and Administrator's
  Guide</i> and <i>Performance Co-Pilot Programmer's Guide</i> which can be
  found at http://www.pcp.io/</div>
<table class="foot">
  <tr>
    <td class="foot-date">PCP</td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
