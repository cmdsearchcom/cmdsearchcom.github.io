<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:40:39 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>TRACE-CMD-MEM(1) TRACE-CMD-MEM(1)</p>

<p style="margin-top: 1em">NAME <br>
trace-cmd-mem - show memory usage of certain kmem events</p>

<p style="margin-top: 1em">SYNOPSIS <br>
trace-cmd mem [OPTIONS][input-file]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The trace-cmd(1) mem requires a trace-cmd record that
enabled the following events:</p>

<p style="margin-top: 1em">kmalloc <br>
kmalloc_node <br>
kfree <br>
kmem_cache_alloc <br>
kmem_cache_alloc_node <br>
kmem_cache_alloc_free</p>

<p style="margin-top: 1em">It then reads the amount
requested and the ammount freed as well as the functions
that called the allocation. It then reports the final amount
of bytes requested and allocated, <br>
along with the total amount allocated and requested, as well
as the max allocation and requested during the run. It
reports the amount of wasted bytes (allocated - requested)
<br>
that was not freed, as well as the max wasted amount during
the run. The list is sorted by descending order of wasted
bytes after the run.</p>

<p style="margin-top: 1em">Function Waste Alloc req
TotAlloc TotReq MaxAlloc MaxReq MaxWaste <br>
-------- ----- ----- --- -------- ------ -------- ------
-------- <br>
rb_allocate_cpu_buffer 768 2304 1536 2304 1536 2304 1536 768
<br>
alloc_pipe_info 400 1152 752 1152 752 1152 752 400 <br>
instance_mkdir 252 544 292 544 292 544 292 252 <br>
__d_alloc 215 1086560 1086345 1087208 1086993 1086560
1086345 215 <br>
get_empty_filp 72 2304 2232 4864 4712 4864 4712 152 <br>
mm_alloc 40 960 920 960 920 960 920 40 <br>
prepare_creds 32 192 160 1728 1440 1728 1440 288 <br>
tracing_buffers_open 8 32 24 32 24 32 24 8 <br>
do_brk 0 0 0 368 368 368 368 0 <br>
journal_add_journal_head 0 6048 6048 6048 6048 6048 6048 0
<br>
journal_start 0 0 0 1224 1224 48 48 0 <br>
__rb_allocate_pages 0 3289856 3289856 3289856 3289856
3289856 3289856 0 <br>
anon_vma_alloc 0 0 0 936 936 864 864 0 <br>
[...]</p>

<p style="margin-top: 1em">OPTIONS <br>
-i input-file <br>
By default, trace-cmd hist will read the file trace.dat. But
the -i option open up the given input-file instead. Note,
the input file may also be specified as the last item <br>
on the command line.</p>

<p style="margin-top: 1em">SEE ALSO <br>
trace-cmd(1), trace-cmd-record(1), trace-cmd-report(1),
trace-cmd-start(1), trace-cmd-stop(1), trace-cmd-extract(1),
trace-cmd-reset(1), trace-cmd-hist(1), trace-cmd-split(1),
<br>
trace-cmd-listen(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Written by Steven Rostedt,
&lt;rostedt@goodmis.org[1]&gt;</p>

<p style="margin-top: 1em">RESOURCES <br>

git://git.kernel.org/pub/scm/linux/kernel/git/rostedt/trace-cmd.git</p>

<p style="margin-top: 1em">COPYING <br>
Copyright (C) 2013 Red Hat, Inc. Free use of this software
is granted under the terms of the GNU Public License
(GPL).</p>

<p style="margin-top: 1em">NOTES <br>
1. rostedt@goodmis.org <br>
mailto:rostedt@goodmis.org</p>

<p style="margin-top: 1em">11/05/2016 TRACE-CMD-MEM(1)</p>
<hr>
</body>
</html>
