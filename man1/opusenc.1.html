<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:29:22 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>opusenc(1) opus-tools opusenc(1)</p>

<p style="margin-top: 1em">NAME <br>
opusenc - encode audio into the Opus format</p>

<p style="margin-top: 1em">SYNOPSIS <br>
opusenc [ -h ] [ -V ] [ --help-picture ] [ --quiet ] [
--bitrate kbit/sec ] [ --vbr ] [ --cvbr ] [ --hard-cbr ] [
--comp complexity ] [ --framesize 2.5, 5, 10, 20, 40, 60 ] [
<br>
--expect-loss pct ] [ --downmix-mono ] [ --downmix-stereo ]
[ --max-delay ms ] [ --title &rsquo;track title&rsquo; ] [
--artist author ] [ --album &rsquo;album title&rsquo; ] [
--genre genre ] [ --date <br>
YYYY-MM-DD ] [ --comment tag=value ] [ --picture
filename|specification ] [ --padding n ] [
--discard-comments ] [ --discard-pictures ] [ --raw ] [
--raw-bits bits/sample ] [ <br>
--raw-rate Hz ] [ --raw-chan N ] [ --raw-endianness flag ] [
--ignorelength ] [ --serial serial number ] [ --save-range
file ] [ --set-ctl-int ctl=value ] input.wav output.opus</p>

<p style="margin-top: 1em">DESCRIPTION <br>
opusenc reads audio data in Wave, AIFF, FLAC, Ogg/FLAC, or
raw PCM format and encodes it into an Ogg Opus stream. If
the input file is &quot;-&quot; audio data is read from
stdin. Like&acirc; <br>
wise, if the output file is &quot;-&quot; the Ogg Opus
stream is written to stdout.</p>

<p style="margin-top: 1em">Unless quieted opusenc displays
fancy statistics about the encoding progress.</p>

<p style="margin-top: 1em">OPTIONS <br>
General options <br>
-h, --help <br>
Show command help</p>

<p style="margin-top: 1em">-V, --version <br>
Show the version number</p>

<p style="margin-top: 1em">--help-picture <br>
Show help on attaching album art</p>

<p style="margin-top: 1em">--quiet <br>
Enable quiet mode. No messages are displayed.</p>

<p style="margin-top: 1em">Encoding options <br>
--bitrate N.nnn <br>
Set target bitrate in kbit/sec (6-256 per channel)</p>

<p style="margin-top: 1em">In VBR mode this specifies the
average rate for a large and diverse collection of audio. In
CVBR and Hard-CBR mode it specifies the specific output
bitrate.</p>

<p style="margin-top: 1em">Default for &gt;=44.1kHz input
is 64kbps per mono stream, 96kbps per coupled pair.</p>

<p style="margin-top: 1em">--vbr Use variable bitrate
encoding (default) In VBR mode the bitrate may go up and
down freely depending on the content to achieve more
consistent quality.</p>

<p style="margin-top: 1em">--cvbr Use constrained variable
bitrate encoding.</p>

<p style="margin-top: 1em">Outputs to a specific bitrate.
This mode is analogous to CBR in AAC/MP3 encoders and
managed mode in Vorbis coders. This delivers less consistent
quality than VBR mode but <br>
consistent bitrate.</p>

<p style="margin-top: 1em">--hard-cbr <br>
Use hard constant bitrate encoding.</p>

<p style="margin-top: 1em">With hard-cbr every frame will
be exactly the same size, similar to how speech codecs work.
This delivers lower overall quality but is useful where
bitrate changes might <br>
leak data in encrypted channels or on synchronous
transports.</p>

<p style="margin-top: 1em">--comp N <br>
Set encoding computational complexity (0-10, default: 10).
Zero gives the fastest encodes but lower quality, while 10
gives the highest quality but slower encoding.</p>

<p style="margin-top: 1em">--framesize N <br>
Set maximum frame size in milliseconds (2.5, 5, 10, 20, 40,
60, default: 20) <br>
Smaller framesizes achieve lower latency but less quality at
a given bitrate. <br>
Sizes greater than 20ms are only interesting at fairly low
bitrates.</p>

<p style="margin-top: 1em">--expect-loss N <br>
Set expected packet loss in percent (default: 0)</p>

<p style="margin-top: 1em">--downmix-mono <br>
Downmix to mono</p>

<p style="margin-top: 1em">--downmix-stereo <br>
Downmix to stereo (if &gt;2 channels input)</p>

<p style="margin-top: 1em">--max-delay N <br>
Set maximum container delay in milliseconds (0-1000,
default: 1000)</p>

<p style="margin-top: 1em">Metadata options <br>
--title title <br>
Set the track title comment field to title</p>

<p style="margin-top: 1em">--artist artist <br>
Set the artist comment field to artist. This may be used
multiple times to list contributing artists individually.
Note that some playback software does not display mul&acirc;
<br>
tiple artists gracefully.</p>

<p style="margin-top: 1em">--album album <br>
Set the album or collection title field to album</p>

<p style="margin-top: 1em">--date YYYY-MM-DD <br>
Set the date comment field to YYYY-MM-DD. This may be
shortened to YYYY-MM or YYYY.</p>

<p style="margin-top: 1em">--genre genre <br>
Set the genre comment field to genre. This option may be
specified multiple times to tag a track with multiple
overlapping genres.</p>

<p style="margin-top: 1em">--comment tag=value <br>
Add an extra comment. This may be used multiple times. The
argument should be in the form &quot;tag=value&quot;. See
the vorbis-comment specification for well known tag names:
<br>
http://www.xiph.org/vorbis/doc/v-comment.html</p>

<p style="margin-top: 1em">--picture filename|specification
<br>
Attach album art for the track.</p>

<p style="margin-top: 1em">Either a filename for the
artwork or a more complete specification form can be used.
The picture is added to a METADATA_BLOCK_PICTURE comment
field similar to what is <br>
used in FLAC. The specification is a string whose parts are
separated by | (pipe) characters. Some parts may be left
empty to invoke default values. Passing a plain <br>
filename is just shorthand for the &quot;||||filename&quot;
specification.</p>

<p style="margin-top: 1em">The format of specification is
[type]|[media-type]|[description]|[widthxheightxdepth[/colors]]|filename</p>

<p style="margin-top: 1em">type is an optional number
describing the nature of the picture. Defined values are
from one of:</p>

<p style="margin-top: 1em">0: Other <br>
1: 32x32 pixel &rsquo;file icon&rsquo; (PNG only) <br>
2: Other file icon <br>
3: Cover (front) <br>
4: Cover (back) <br>
5: Leaflet page <br>
6: Media (e.g., label side of a CD) <br>
7: Lead artist/lead performer/soloist <br>
8: Artist/performer <br>
9: Conductor <br>
10: Band/Orchestra <br>
11: Composer <br>
12: Lyricist/text writer <br>
13: Recording location <br>
14: During recording <br>
15: During performance <br>
16: Movie/video screen capture <br>
17: A bright colored fish <br>
18: Illustration <br>
19: Band/artist logotype <br>
20: Publisher/studio logotype</p>

<p style="margin-top: 1em">The default is 3 (front cover).
More than one --picture option can be specified to attach
multiple pictures. There may only be one picture each of
type 1 and 2 in a <br>
file.</p>

<p style="margin-top: 1em">media-type is optional. If left
blank, it will be detected from the file. For best
compatibility with players, use pictures with a media-type
of image/jpeg or image/png. <br>
The media-type can also be &quot;--&gt;&quot; to mean that
filename is actually a URL to an image, though this use is
discouraged. The file at the URL will not be fetched. The
URL <br>
itself is stored in the metadata.</p>

<p style="margin-top: 1em">description is optional. The
default is an empty string.</p>

<p style="margin-top: 1em">The next part specifies the
resolution and color information. If the media-type is
image/jpeg, image/png, or image/gif, this can usually be
left empty and the information <br>
will be read from the file. Otherwise, you must specify the
width in pixels, height in pixels, and color depth in
bits-per-pixel. If the image has indexed colors you <br>
should also specify the number of colors used. If possible,
these are checked against the file for accuracy.</p>

<p style="margin-top: 1em">filename is the path to the
picture file to be imported, or the URL if the media-type is
&quot;--&gt;&quot;.</p>

<p style="margin-top: 1em">--padding n <br>
Reserve n extra bytes for metadata tags. This can make later
tag editing more efficient. Defaults to 512.</p>

<p style="margin-top: 1em">--discard-comments <br>
Don&rsquo;t propagate metadata tags from the input file.</p>

<p style="margin-top: 1em">--discard-pictures <br>
Don&rsquo;t propagate pictures or art from the input
file.</p>

<p style="margin-top: 1em">Input options <br>
--raw Interpret input as raw PCM data without headers</p>

<p style="margin-top: 1em">--raw-bits N <br>
Set bits/sample for raw input (default: 16)</p>

<p style="margin-top: 1em">--raw-rate N <br>
Set sampling rate for raw input (default: 48000)</p>

<p style="margin-top: 1em">--raw-chan N <br>
Set number of channels for raw input (default: 2)</p>

<p style="margin-top: 1em">--raw-endianness [0/1] <br>
Set the endianness for raw input: 1 for big endian, 0 for
little (default: 0)</p>

<p style="margin-top: 1em">--ignorelength <br>
Ignore the data length in Wave headers. Opusenc
automatically ignores the length when its implausible (very
small or very large) but some STDIN usage may still need
this <br>
option to avoid truncation.</p>

<p style="margin-top: 1em">Diagnostic options <br>
--serial n <br>
Force use of a specific stream serial number, rather than
one that is randomly generated. This is used to make the
encoder deterministic for testing and is not generally <br>
recommended.</p>

<p style="margin-top: 1em">--save-range file <br>
Save check values for every frame to a file</p>

<p style="margin-top: 1em">--set-ctl-int x=y <br>
Pass the encoder control x with value y (advanced). Preface
with s: to direct the ctl to multistream s <br>
This may be used multiple times</p>

<p style="margin-top: 1em">EXAMPLES <br>
Simplest usage. Take input as input.wav and produce output
as output.opus: <br>
opusenc input.wav output.opus</p>

<p style="margin-top: 1em">Produce a very high quality
encode with a target rate of 160kbps: <br>
opusenc --bitrate 160 input.wav output.opus</p>

<p style="margin-top: 1em">Record and send a live stream to
an Icecast HTTP streaming server using oggfwd: <br>
arecord -c 2 -r 48000 -twav - | opusenc --bitrate 96 - - |
oggfwd icecast.somewhere.org 8000 password /stream.opus</p>

<p style="margin-top: 1em">NOTES <br>
While it is possible to use opusenc for low latency
streaming (e.g. with --max-delay set to 0 and netcat instead
of Icecast) it&rsquo;s not really designed for this, and the
Ogg con&acirc; <br>
tainer and TCP transport aren&rsquo;t the best tools for
that application. Shell pipelines themselves will often have
high buffering. The ability to set framesizes as low as 2.5
ms in <br>
opusenc mostly exists to try out the quality of the format
with low latency settings, but not really for actual low
latency usage. <br>
Interactive usage should use UDP/RTP directly.</p>

<p style="margin-top: 1em">AUTHORS <br>
Gregory Maxwell &lt;greg@xiph.org&gt;</p>

<p style="margin-top: 1em">SEE ALSO <br>
opusdec(1), opusinfo(1), oggfwd(1)</p>

<p style="margin-top: 1em">Xiph.Org Foundation 2012-08-31
opusenc(1)</p>
<hr>
</body>
</html>
