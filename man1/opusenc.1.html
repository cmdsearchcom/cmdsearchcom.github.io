<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>opusenc(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">opusenc(1)</td>
    <td class="head-vol">opus-tools</td>
    <td class="head-rtitle">opusenc(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
opusenc - encode audio into the Opus format
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>opusenc</b> [ <b>-h</b> ] [ <b>-V</b> ] [ <b>--help-picture</b> ] [
  <b>--quiet</b> ] [ <b>--bitrate</b> <i>kbit/sec</i> ] [ <b>--vbr</b> ] [
  <b>--cvbr</b> ] [ <b>--hard-cbr</b> ] [ <b>--comp</b> <i>complexity</i> ] [
  <b>--framesize</b> <i>2.5, 5, 10, 20, 40, 60</i> ] [ <b>--expect-loss</b>
  <i>pct</i> ] [ <b>--downmix-mono</b> ] [ <b>--downmix-stereo</b> ] [
  <b>--max-delay</b> <i>ms</i> ] [ <b>--title</b> <i>'track title'</i> ] [
  <b>--artist</b> <i>author</i> ] [ <b>--album</b> <i>'album title'</i> ] [
  <b>--genre</b> <i>genre</i> ] [ <b>--date</b> <i>YYYY-MM-DD</i> ] [
  <b>--comment</b> <i>tag=value</i> ] [ <b>--picture</b>
  <i>filename</i><b>|</b><i>specification</i> ] [ <b>--padding</b> <i>n</i> ] [
  <b>--discard-comments</b> ] [ <b>--discard-pictures</b> ] [ <b>--raw</b> ] [
  <b>--raw-bits</b> <i>bits/sample</i> ] [ <b>--raw-rate</b> <i>Hz</i> ] [
  <b>--raw-chan</b> <i>N</i> ] [ <b>--raw-endianness</b> <i>flag</i> ] [
  <b>--ignorelength</b> ] [ <b>--serial</b> <i>serial number</i> ] [
  <b>--save-range</b> <i>file</i> ] [ <b>--set-ctl-int</b> <i>ctl=value</i> ]
  <i>input.wav</i> <i>output.opus</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>opusenc</b> reads audio data in Wave, AIFF, FLAC, Ogg/FLAC, or raw PCM format
  and encodes it into an Ogg Opus stream. If the input file is &quot;-&quot;
  audio data is read from stdin. Likewise, if the output file is &quot;-&quot;
  the Ogg Opus stream is written to stdout.
<div style="height: 1.00em;">&#x00A0;</div>
Unless quieted <b>opusenc</b> displays fancy statistics about the encoding
  progress.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="General_options"><a class="selflink" href="#General_options">General
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">-h, --help</dt>
  <dd class="It-tag">Show command help</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V, --version</dt>
  <dd class="It-tag">Show the version number</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--help-picture</dt>
  <dd class="It-tag">Show help on attaching album art</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--quiet</dt>
  <dd class="It-tag">Enable quiet mode. No messages are displayed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Encoding_options"><a class="selflink" href="#Encoding_options">Encoding
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">--bitrate N.nnn</dt>
  <dd class="It-tag">Set target bitrate in kbit/sec (6-256 per channel)
    <div style="height: 1.00em;">&#x00A0;</div>
    In VBR mode this specifies the average rate for a large and diverse
      collection of audio. In CVBR and Hard-CBR mode it specifies the specific
      output bitrate.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default for &gt;=44.1kHz input is 64kbps per mono stream, 96kbps per coupled
      pair.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--vbr</dt>
  <dd class="It-tag">Use variable bitrate encoding (default) In VBR mode the
      bitrate may go up and down freely depending on the content to achieve more
      consistent quality.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--cvbr</dt>
  <dd class="It-tag">Use constrained variable bitrate encoding.
    <div style="height: 1.00em;">&#x00A0;</div>
    Outputs to a specific bitrate. This mode is analogous to CBR in AAC/MP3
      encoders and managed mode in Vorbis coders. This delivers less consistent
      quality than VBR mode but consistent bitrate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--hard-cbr</dt>
  <dd class="It-tag">Use hard constant bitrate encoding.
    <div style="height: 1.00em;">&#x00A0;</div>
    With hard-cbr every frame will be exactly the same size, similar to how
      speech codecs work. This delivers lower overall quality but is useful
      where bitrate changes might leak data in encrypted channels or on
      synchronous transports.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--comp N</dt>
  <dd class="It-tag">Set encoding computational complexity (0-10, default: 10).
      Zero gives the fastest encodes but lower quality, while 10 gives the
      highest quality but slower encoding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--framesize N</dt>
  <dd class="It-tag">Set maximum frame size in milliseconds (2.5, 5, 10, 20, 40,
      60, default: 20)
    <div>&#x00A0;</div>
    Smaller framesizes achieve lower latency but less quality at a given
      bitrate.
    <div>&#x00A0;</div>
    Sizes greater than 20ms are only interesting at fairly low bitrates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--expect-loss N</dt>
  <dd class="It-tag">Set expected packet loss in percent (default: 0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--downmix-mono</dt>
  <dd class="It-tag">Downmix to mono</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--downmix-stereo</dt>
  <dd class="It-tag">Downmix to stereo (if &gt;2 channels input)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--max-delay N</dt>
  <dd class="It-tag">Set maximum container delay in milliseconds (0-1000,
      default: 1000)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Metadata_options"><a class="selflink" href="#Metadata_options">Metadata
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">--title title</dt>
  <dd class="It-tag">Set the track title comment field to <i>title</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--artist artist</dt>
  <dd class="It-tag">Set the artist comment field to <i>artist.</i> This may be
      used multiple times to list contributing artists individually. Note that
      some playback software does not display multiple artists gracefully.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--album album</dt>
  <dd class="It-tag">Set the album or collection title field to
    <i>album</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--date YYYY-MM-DD</dt>
  <dd class="It-tag">Set the date comment field to <i>YYYY-MM-DD.</i> This may
      be shortened to YYYY-MM or YYYY.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--genre genre</dt>
  <dd class="It-tag">Set the genre comment field to <i>genre.</i> This option
      may be specified multiple times to tag a track with multiple overlapping
      genres.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--comment tag=value</dt>
  <dd class="It-tag">Add an extra comment. This may be used multiple times. The
      argument should be in the form &quot;tag=value&quot;. See the
      vorbis-comment specification for well known tag names:
      http://www.xiph.org/vorbis/doc/v-comment.html</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--picture filename|specification</dt>
  <dd class="It-tag">Attach album art for the track.
    <div style="height: 1.00em;">&#x00A0;</div>
    Either a <i>filename</i> for the artwork or a more complete
      <i>specification</i> form can be used. The picture is added to a
      <b>METADATA_BLOCK_PICTURE</b> comment field similar to what is used in
      <small>FLAC.</small> The <i>specification</i> is a string whose parts are
      separated by | (pipe) characters. Some parts may be left empty to invoke
      default values. Passing a plain filename is just shorthand for the
      &quot;||||filename&quot; specification.
    <div style="height: 1.00em;">&#x00A0;</div>
    The format of <i>specification</i> is [
      <b>type</b>]|[<b>media-type</b>]|[<b>description</b>]|[<b>width</b>x<b>height</b>x<b>depth</b>[/<b>colors</b>]]|<b>filename</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>type</i> is an optional number describing the nature of the picture.
      Defined values are from one of:
    <div style="height: 1.00em;">&#x00A0;</div>
    <br/>
     0: Other
    <div>&#x00A0;</div>
    <br/>
     1: 32x32 pixel 'file icon' (PNG only)
    <div>&#x00A0;</div>
    <br/>
     2: Other file icon
    <div>&#x00A0;</div>
    <br/>
     3: Cover (front)
    <div>&#x00A0;</div>
    <br/>
     4: Cover (back)
    <div>&#x00A0;</div>
    <br/>
     5: Leaflet page
    <div>&#x00A0;</div>
    <br/>
     6: Media (e.g., label side of a CD)
    <div>&#x00A0;</div>
    <br/>
     7: Lead artist/lead performer/soloist
    <div>&#x00A0;</div>
    <br/>
     8: Artist/performer
    <div>&#x00A0;</div>
    <br/>
     9: Conductor
    <div>&#x00A0;</div>
    <br/>
     10: Band/Orchestra
    <div>&#x00A0;</div>
    <br/>
     11: Composer
    <div>&#x00A0;</div>
    <br/>
     12: Lyricist/text writer
    <div>&#x00A0;</div>
    <br/>
     13: Recording location
    <div>&#x00A0;</div>
    <br/>
     14: During recording
    <div>&#x00A0;</div>
    <br/>
     15: During performance
    <div>&#x00A0;</div>
    <br/>
     16: Movie/video screen capture
    <div>&#x00A0;</div>
    <br/>
     17: A bright colored fish
    <div>&#x00A0;</div>
    <br/>
     18: Illustration
    <div>&#x00A0;</div>
    <br/>
     19: Band/artist logotype
    <div>&#x00A0;</div>
    <br/>
     20: Publisher/studio logotype
    <div style="height: 1.00em;">&#x00A0;</div>
    The default is 3 (front cover). More than one --picture option can be
      specified to attach multiple pictures. There may only be one picture each
      of type 1 and 2 in a file.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>media-type</i> is optional. If left blank, it will be detected from the
      file. For best compatibility with players, use pictures with a
      <i>media-type</i> of image/jpeg or image/png. The <i>media-type</i> can
      also be &quot;--&gt;&quot; to mean that <i>filename</i> is actually a URL
      to an image, though this use is discouraged. The file at the URL will not
      be fetched. The URL itself is stored in the metadata.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>description</i> is optional. The default is an empty string.
    <div style="height: 1.00em;">&#x00A0;</div>
    The next part specifies the resolution and color information. If the
      <i>media-type</i> is image/jpeg, image/png, or image/gif, this can usually
      be left empty and the information will be read from the file. Otherwise,
      you must specify the width in pixels, height in pixels, and color depth in
      bits-per-pixel. If the image has indexed colors you should also specify
      the number of colors used. If possible, these are checked against the file
      for accuracy.
    <div style="height: 1.00em;">&#x00A0;</div>
    <i>filename</i> is the path to the picture file to be imported, or the URL
      if the <i>media-type</i> is &quot;--&gt;&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--padding n</dt>
  <dd class="It-tag">Reserve <i>n</i> extra bytes for metadata tags. This can
      make later tag editing more efficient. Defaults to 512.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--discard-comments</dt>
  <dd class="It-tag">Don't propagate metadata tags from the input file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--discard-pictures</dt>
  <dd class="It-tag">Don't propagate pictures or art from the input file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Input_options"><a class="selflink" href="#Input_options">Input
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">--raw</dt>
  <dd class="It-tag">Interpret input as raw PCM data without headers</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--raw-bits N</dt>
  <dd class="It-tag">Set bits/sample for raw input (default: 16)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--raw-rate N</dt>
  <dd class="It-tag">Set sampling rate for raw input (default: 48000)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--raw-chan N</dt>
  <dd class="It-tag">Set number of channels for raw input (default: 2)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--raw-endianness [0/1]</dt>
  <dd class="It-tag">Set the endianness for raw input: 1 for big endian, 0 for
      little (default: 0)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--ignorelength</dt>
  <dd class="It-tag">Ignore the data length in Wave headers. Opusenc
      automatically ignores the length when its implausible (very small or very
      large) but some STDIN usage may still need this option to avoid
      truncation.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Diagnostic_options"><a class="selflink" href="#Diagnostic_options">Diagnostic
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">--serial n</dt>
  <dd class="It-tag">Force use of a specific stream serial number, rather than
      one that is randomly generated. This is used to make the encoder
      deterministic for testing and is not generally recommended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--save-range file</dt>
  <dd class="It-tag">Save check values for every frame to a file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--set-ctl-int x=y</dt>
  <dd class="It-tag">Pass the encoder control x with value y (advanced). Preface
      with s: to direct the ctl to multistream s
    <div>&#x00A0;</div>
    This may be used multiple times
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Simplest usage. Take input as input.wav and produce output as output.opus:
<div style="margin-left: 5.00ex;">opusenc input.wav output.opus</div>
<div class="Pp"></div>
Produce a very high quality encode with a target rate of 160kbps:
<div style="margin-left: 5.00ex;">opusenc --bitrate 160 input.wav
  output.opus</div>
<div class="Pp"></div>
Record and send a live stream to an Icecast HTTP streaming server using oggfwd:
<div style="margin-left: 5.00ex;">arecord -c 2 -r 48000 -twav - | opusenc
  --bitrate 96 - - | oggfwd icecast.somewhere.org 8000 password
  /stream.opus</div>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
While it is possible to use opusenc for low latency streaming (e.g. with
  --max-delay set to 0 and netcat instead of Icecast) it's not really designed
  for this, and the Ogg container and TCP transport aren't the best tools for
  that application. Shell pipelines themselves will often have high buffering.
  The ability to set framesizes as low as 2.5 ms in opusenc mostly exists to try
  out the quality of the format with low latency settings, but not really for
  actual low latency usage.
<div>&#x00A0;</div>
Interactive usage should use UDP/RTP directly.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Gregory Maxwell &lt;greg@xiph.org&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>opusdec</b>(1), <b>opusinfo</b>(1), <b>oggfwd</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-08-31</td>
    <td class="foot-os">Xiph.Org Foundation</td>
  </tr>
</table>
</body>
</html>
