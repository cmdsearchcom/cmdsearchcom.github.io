<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>I3BLOCKS(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">I3BLOCKS(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">I3BLOCKS(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
i3blocks - A flexible scheduler for your i3bar blocks
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
i3blocks [ <i>options</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>i3blocks</b> allows one to easily describe blocks in a simple format, and
  generate a status line for i3bar(1). It handles clicks, signals and time
  interval for user scripts.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Specifies an alternate configuration file path. By default,
      i3blocks looks for configuration files in the following order (note that
      /etc may be prefixed with /usr/local depending on the compilation
    flags):</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
1.&#x00A0;~/.config/i3blocks/config&#x00A0;(or&#x00A0;$XDG_CONFIG_HOME/i3blocks/config&#x00A0;if&#x00A0;set)
2.&#x00A0;~/.i3blocks.conf
3.&#x00A0;/etc/xdg/i3blocks/config&#x00A0;(or&#x00A0;$XDG_CONFIG_DIRS/i3blocks/config&#x00A0;if&#x00A0;set)
4.&#x00A0;/etc/i3blocks.conf
    </pre>
  </dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Log level. This option is cumulative. By default, error
      messages are displayed on stderr. Passed once, a failure during an update
      is shown within the block. Passed twice enables the debug messages on
      stderr.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">Print the version and exit.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Print the help message and exit.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="CONFIGURATION"><a class="selflink" href="#CONFIGURATION">CONFIGURATION</a></h1>
The configuration file is an ini file. Each section describes a new block. A
  line beginning with a # sign is a comment, and empty lines are ignored. A
  property is a key=value pair per line, with no space around the equal sign.
  Properties declared outside a block (i.e. at the beginning of the file)
  describe global settings.
<div class="Pp"></div>
Here is an example config file:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
#&#x00A0;This&#x00A0;is&#x00A0;a&#x00A0;comment
interval=5
color=#00FF00
<div class="Pp"></div>
[weather]
command=~/bin/weather.pl
interval=1800
<div class="Pp"></div>
[time]
command=date&#x00A0;+%T
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
To use i3blocks as your status line, define it in a <i>bar</i> block of your
  ~/i3/config file:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
bar&#x00A0;{
&#x00A0;&#x00A0;status_command&#x00A0;i3blocks
}
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="BLOCK"><a class="selflink" href="#BLOCK">BLOCK</a></h1>
The properties used to describe a block are the keys specified in the i3bar
  protocol http://i3wm.org/docs/i3bar-protocol.html , plus additional properties
  used by <b>i3blocks</b> to describe when and how to update a block. All the
  supported properties are described below.
<div class="Pp"></div>
The following keys are standard, see http://i3wm.org/docs/i3bar-protocol.html
  for details.
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">full_text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">short_text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">color</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">min_width</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">align</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">name</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">instance</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">urgent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">separator</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">separator_block_width</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">markup</dd>
</dl>
<div class="Pp"></div>
The following keys are specific to <b>i3blocks</b>.
<dl class="Bl-tag">
  <dt class="It-tag"><b>command</b></dt>
  <dd class="It-tag">The command executed by a shell, used to update the block.
      The expected behavior is described below, in the <b>COMMAND</b>
    section.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>interval</b></dt>
  <dd class="It-tag">If it is a positive integer, then the block is spawned on
      startup and the value is used as a time interval in seconds to schedule
      future updates. If unspecified or 0, the block won't be executed on
      startup (which is useful to simulate buttons).</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div class="Pp"></div>
If &quot; <i>once</i>&quot; (or -1), the block will be executed only on startup
  (note that a click or signal will still trigger an update).
<div class="Pp"></div>
If &quot; <i>repeat</i>&quot; (or -2), the block will be spawned on startup, and
  as soon as it terminates (useful to repeat blocking commands). Use with
  caution!
<div class="Pp"></div>
If &quot; <i>persist</i>&quot; (or -3), the block will be executed only on
  startup, and updated as soon as it outputs a line. Thus limited to single line
  updates.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>signal</b></dt>
  <dd class="It-tag">The signal number used to update the block. All the
      real-time (think prioritized and queueable) signals are available to the
      user. The number is valid between 1 and N, where SIGRTMIN+N = SIGRTMAX.
      (Note: there are 31 real-time signals in Linux.) For instance, signal=10
      means that this block will be updated when <b>i3blocks</b> receives
      SIGRTMIN+10.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>label</b></dt>
  <dd class="It-tag">An optional label to preprend to the full_text after an
      update.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>format</b></dt>
  <dd class="It-tag">This property specifies the format of the output text. The
      default format is plain text, as described in the <b>COMMAND</b> section.
      If &quot;json&quot; (or 1) is used, the block output is parsed as
    JSON.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<h1 class="Sh" title="Sh" id="COMMAND"><a class="selflink" href="#COMMAND">COMMAND</a></h1>
The value of the command key will be passed and executed as is by a shell.
<div class="Pp"></div>
The standard output of the command line is used to update the block content.
  Each non-empty line of the output will overwrite the corresponding property:
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">full_text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">short_text</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">color</dd>
</dl>
<div class="Pp"></div>
For example, this script sets the full_text in blue but no short_text:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
echo&#x00A0;&quot;Here's&#x00A0;my&#x00A0;label&quot;
echo
echo&#x00A0;\#0000FF
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
If the command line returns 0 or 33, the block is updated. Otherwise, it is
  considered a failure and the first line (if any) is still displayed. Note that
  stderr is ignored. A return code of 33 will set the urgent flag to true.
<div class="Pp"></div>
For example, this script prints the battery percentage and sets the urgent flag
  if it is below 10%:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
BAT=`acpi&#x00A0;-b&#x00A0;|&#x00A0;grep&#x00A0;-E&#x00A0;-o&#x00A0;'[0-9][0-9]?%'`
echo&#x00A0;&quot;BAT:&#x00A0;$BAT&quot;
test&#x00A0;${BAT%?}&#x00A0;-le&#x00A0;10&#x00A0;&amp;&amp;&#x00A0;exit&#x00A0;33&#x00A0;||&#x00A0;exit&#x00A0;0
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
When forking a block command, <b>i3blocks</b> will set the environment with some
  BLOCK_* variables. The following variables are always provided, with
  eventually an empty string as the value.
<dl class="Bl-tag">
  <dt class="It-tag"><b>BLOCK_NAME</b></dt>
  <dd class="It-tag">The name of the block (usually the section name).</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>BLOCK_INSTANCE</b></dt>
  <dd class="It-tag">An optional argument to the script.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>BLOCK_BUTTON</b></dt>
  <dd class="It-tag">Mouse button (1, 2 or 3) if the block was clicked.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>BLOCK_X and BLOCK_Y</b></dt>
  <dd class="It-tag">Coordinates where the click occurred, if the block was
      clicked.</dd>
</dl>
<div style="margin-left: 5.00ex;"></div>
<div class="Pp"></div>
Here is an example using the environment:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
[block]
command=echo&#x00A0;name=$BLOCK_NAME&#x00A0;instance=$BLOCK_INSTANCE
interval=1
<div class="Pp"></div>
[clickme]
full_text=Click&#x00A0;me!
command=echo&#x00A0;button=$BLOCK_BUTTON&#x00A0;x=$BLOCK_X&#x00A0;y=$BLOCK_Y
min_width=button=1&#x00A0;x=1366&#x00A0;y=768
align=left
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
Note that <b>i3blocks</b> provides a set of optional scripts for convenience,
  such as network status, battery check, cpu load, volume, etc.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
As an example, here is a close configuration to i3status(1) default settings:
<div class="Pp"></div>
<b>TODO</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
interval=5
signal=10
<div class="Pp"></div>
[ipv6]
<div class="Pp"></div>
[free]
<div class="Pp"></div>
[dhcp]
<div class="Pp"></div>
[vpn]
<div class="Pp"></div>
[wifi]
<div class="Pp"></div>
[ethernet]
min_width=E:&#x00A0;255.255.255.255&#x00A0;(1000&#x00A0;Mbit/s)
<div class="Pp"></div>
[battery]
<div class="Pp"></div>
[cpu]
<div class="Pp"></div>
[datetime]
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
The following block shows the usage of signal with some i3(1) bindings which
  adjust the volume, before issuing a pkill&#x00A0;-RTMIN+1&#x00A0;i3blocks:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
[volume]
command=echo&#x00A0;-n&#x00A0;'Volume:&#x00A0;';&#x00A0;amixer&#x00A0;get&#x00A0;Master&#x00A0;|&#x00A0;grep&#x00A0;-E&#x00A0;-o&#x00A0;'[0-9][0-9]?%'
interval=once
signal=1
#&#x00A0;no&#x00A0;interval,&#x00A0;only&#x00A0;check&#x00A0;on&#x00A0;SIGRTMIN+1
    </pre>
  </dd>
</dl>
<div class="Pp"></div>
Here is an example of a very minimalist config, assuming you have a bunch of
  scripts under ~/bin/blocks/ with the same name as the blocks:
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">
    <pre>
command=~/bin/blocks/$BLOCK_NAME
interval=1
<div class="Pp"></div>
[free]
[wifi]
[ethernet]
[battery]
[cpu]
[datetime]
    </pre>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The development of i3blocks takes place on Github
  (https://github.com/vivien/i3blocks).
<div class="Pp"></div>
The wiki (https://github.com/vivien/i3blocks/wiki) is a good source of examples
  for blocks and screenshots.
<div class="Pp"></div>
i3 (1), i3bar (1), i3status (1)
<h1 class="Sh" title="Sh" id="Reporting_Bugs"><a class="selflink" href="#Reporting_Bugs">Reporting
  Bugs</a></h1>
Please report bugs on the issue tracker
  (https://github.com/vivien/i3blocks/issues).
<h1 class="Sh" title="Sh" id="Known_Bugs"><a class="selflink" href="#Known_Bugs">Known
  Bugs</a></h1>
None.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by Vivien Didelot &lt;vivien.didelot@gmail.com&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2014 Vivien Didelot &lt;vivien.didelot@gmail.com&gt;
<div class="Pp"></div>
License GPLv3+: GNU GPL version 3 or later
  &lt;http://gnu.org/licenses/gpl.html&gt;.
<div class="Pp"></div>
This is free software: you are free to change and redistribute it. There is NO
  WARRANTY, to the extent permitted by law.</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
