<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>OCI-REGISTER-MACHINE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">OCI-REGISTER-MACHINE(1)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">OCI-REGISTER-MACHINE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
oci-register-machine - Register OCI containers with systemd-machined
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>oci-register-machine</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b></b>oci-register-machine is a OCI hook program. If you add it to the runc
  json data as a hook, runc will execute the application after the container
  process is created but before it is executed, with a <b></b>prestart flag.
  When the container exits <b></b>oci-register-machine will be executed, after
  the container exits but before it is destroyed, with the <b></b>poststop flag.
  Docker will execute <b></b>oci-register-machine as a container hook when it is
  installed in the /usr/libexec/oci/hooks.d directory.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
After starting an OCI container, the container will be listed with the
  <b></b>machinectl. The machine name will be the container ID. Machinectl will
  then be able to manage the container. When container exits, the
  oci-register-machine will remove the instance from machinectl.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
You can disable this service by editing the /etc/oci-register-machine.conf file
  and setting the disabled field to true.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ docker run -it busybox /bin/sh
<div class="Pp"></div>
(In different terminal):
<div class="Pp"></div>
$ machinectl
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
#
MACHINE                          CLASS     SERVICE
5556287c7fa1c2312243f5ca2d75c90b container docker 
<div class="Pp"></div>
1 machines listed.
<div class="Pp"></div>
<div class="Pp"></div>
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
docker-run(1), machinectl(1), systemd-machined(8)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="selflink" href="#HISTORY">HISTORY</a></h1>
November 2015, updated by Sally O'Malley
  &#x27E8;somalley@redhat.com&#x27E9;</div>
<table class="foot">
  <tr>
    <td class="foot-date"> oci-register-machine</td>
    <td class="foot-os">November 2015</td>
  </tr>
</table>
</body>
</html>
