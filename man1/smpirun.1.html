<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>smpirun(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">smpirun(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">smpirun(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
smpirun - Exectute MPI programs in the SimGrid simulator
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
smpirun [ <i>SMPI OPTIONS</i>]&#x2026; <b>-platform</b> &lt;platform.xml&gt;
  <b>-hostfile</b> &lt;hostfile&gt; program [ <i>SIMULATION OPTIONS</i>]
  [<i>PROGRAM OPTIONS</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
smpirun car run MPI programs that were compiled with smpicc on top of the
  simulator. Basically, it generates a deployment files from the provided
  hostfile (if needed), and launches the simulation with the right arguments. It
  is intended to be easy to use to regular MPI users.
<h1 class="Sh" title="Sh" id="MANDATORY_PARAMETERS"><a class="selflink" href="#MANDATORY_PARAMETERS">MANDATORY
  PARAMETERS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-platform</b> &lt;platform.xml&gt;</dt>
  <dd class="It-tag">XML file describing the platform on which we want to deploy
      the program</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-hostfile</b>, <b>-machinefile</b> &lt;hostfile&gt;</dt>
  <dd class="It-tag">Hostfile listing all the machines in use</dd>
</dl>
<h1 class="Sh" title="Sh" id="SMPI_OPTIONS"><a class="selflink" href="#SMPI_OPTIONS">SMPI
  OPTIONS</a></h1>
The smpirun itself accepts some optional parameters, that are not to be mixed
  with the configuration options described in the next section.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Print the usage and a r&#x00E9;sum&#x00E9; of the available
      options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-keep-temps</b></dt>
  <dd class="It-tag">Do not remove the generated files after execution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-wrapper</b> &lt;command&gt;</dt>
  <dd class="It-tag">Use command to run the program (e.g. &quot;valgrind&quot;,
      &quot;gdb --args&quot;, &quot;rr record&quot;). You usually want to use
      the &quot;-foreground&quot; option as well in order to have a TTY.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-foreground</b></dt>
  <dd class="It-tag">Run the child process in the foreground. This gives the
      child process access to the TTY.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-map</b></dt>
  <dd class="It-tag">Display the machine on which each process rank is
    mapped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-np</b> &lt;numprocs&gt;</dt>
  <dd class="It-tag">Use that amount of processes. By default, there is the same
      number of processes as there are of hosts in the hostfile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-no-privatize</b></dt>
  <dd class="It-tag">Disable the globals privatization, that is activated by
      default. This should only be necessary if you use dynamic libraries, but
      you should probably link statically instead of disabling this. Do not link
      statically against SimGrid, only the others.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace</b></dt>
  <dd class="It-tag">Activate the trace mechanism if available (equivalent to
      <b>--cfg</b>=<i>tracing</i>:<i>yes</i>
      <b>--cfg</b>=<i>tracing/smpi</i>:<i>yes</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-ti</b></dt>
  <dd class="It-tag">Activate time independent tracing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-comment</b> &lt;comment&gt;</dt>
  <dd class="It-tag">Put a comment on the top of the trace file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-comment-file</b> &lt;file&gt;</dt>
  <dd class="It-tag">Insert the content of the file at the head of the trace
      file as a comment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-grouped</b></dt>
  <dd class="It-tag">Group MPI processes by location.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-resource</b></dt>
  <dd class="It-tag">Trace resource utilization.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-viva</b></dt>
  <dd class="It-tag">Generate configuration for Viva's GraphView.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-trace-file</b> &lt;tracefile&gt;</dt>
  <dd class="It-tag">Name of the tracefile
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SIMULATION_OPTIONS"><a class="selflink" href="#SIMULATION_OPTIONS">SIMULATION
  OPTIONS</a></h1>
You can change many simulation parameter on the command line by passing
  <b>--cfg</b>= <i>parameter</i>:<i>value</i> after the program name. A full
  list of existing parameters and their meaning can be found at
  http://simgrid.gforge.inria.fr/simgrid/latest/doc/options.html
<div style="height: 1.00em;">&#x00A0;</div>
Here are some options commonly used with SMPI:
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cfg=smpi/cpu-threshold:XXX</b></dt>
  <dd class="It-tag">Only simulate computation chunks that last more than XXX
      seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cfg=smpi/simulate-computation:no</b></dt>
  <dd class="It-tag">Disable the simulation of all computation chunks (that are
      still executed on the host machine).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
The SimGrid team (simgrid-devel@lists.gforge.inria.fr)
<h1 class="Sh" title="Sh" id="COPYRIGHT_AND_LICENCE"><a class="selflink" href="#COPYRIGHT_AND_LICENCE">COPYRIGHT
  AND LICENCE</a></h1>
Copyright (c) 2014-2016. The SimGrid Team. All rights reserved.
<div style="height: 1.00em;">&#x00A0;</div>
This program is free software; you may redistribute it and/or modify it under
  the terms of GNU LGPL (v2.1) license.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>smpicc(1)</b> <b>smpicxx(1)</b> <b>smpiff(1)</b> <b>smpif90(1)</b></div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
