<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>glilypond(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">glilypond(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">glilypond(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
glilypond &#x2014; integrate lilypond parts into groff
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
[<span class="Op"><b></b> <i>options</i>]</span>
  [<span class="Op"><b>-</b>]</span> [<span class="Op"><b>--</b>]</span>
  [<span class="Op"><b></b> <i>filespec ....</i>]</span>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>glilypond</b> transforms sheet music written in the <i>lilypond</i> language
  into the <b>groff</b>(7) language using the <b>.PSPIC</b> request, such that
  <b>groff</b>(1) can transform it into a format that can be displayed directly.
<div class="Pp"></div>
Files in <i>groff</i> language and <i>standard input</i> can be provided as
  arguments.
<h1 class="Sh" title="Sh" id="OPTION_OVERVIEW"><a class="selflink" href="#OPTION_OVERVIEW">OPTION
  OVERVIEW</a></h1>
<h2 class="Ss" title="Ss" id="Breaking_Options"><a class="selflink" href="#Breaking_Options">Breaking
  Options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-?</b>|<b>-h</b>|<b>--help</b>|<b>--usage</b></dt>
  <dd class="It-tag">
    <pre>
Print help or usage information, then leave the program.
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">
    <pre>
Print version information.
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>|<b>--license</b></dt>
  <dd class="It-tag">
    <pre>
Print license information.
    </pre>
  </dd>
</dl>
<h2 class="Ss" title="Ss" id="Options_for_building_EPS_Files"><a class="selflink" href="#Options_for_building_EPS_Files">Options
  for building EPS Files</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">[<span class="Op"><b>--ly2eps</b>]</span></dt>
  <dd class="It-tag">Here the <b>lilypond</b> program creates <i>eps</i> files
      directly. This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">[<span class="Op"><b>--pdf2eps</b>]</span></dt>
  <dd class="It-tag">The program <b>glilypond</b> generates a <i>pdf</i> file
      using <b>lilypond</b>. Then the <i>eps</i> file is generated by
      <b>pdf2ps</b> and <b>ps2eps</b>R<b>.</b></dd>
</dl>
<h2 class="Ss" title="Ss" id="Directories_and_Files"><a class="selflink" href="#Directories_and_Files">Directories
  and Files</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b>|<b>--eps_dir</b><i> directory_name</i></dt>
  <dd class="It-tag">Normally all <i>EPS</i> files are sent to the temporary
      directory. With this option, you can generate your own directory, in which
      all useful <i>EPS</i> files are send. So at last, the temporary directory
      can be removed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b>|<b>--prefix</b><i> begin_of_name</i></dt>
  <dd class="It-tag">Normally all temporary files get names that start with the
      <b>ly</b><i>....</i> prefix. With this option, you can freely change this
      prefix.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b>|<b>--keep_all</b></dt>
  <dd class="It-tag">Normally all temporary files without the <i>eps</i> files
      are deleted. With this option, all generated files either by the
      <b>lilypond</b> program or other format transposers are kept.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b>|<b>--temp_dir</b><i> dir</i></dt>
  <dd class="It-tag">With this option, you call a directory that is the base for
      the temporary directory. This directory name is used as is without any
      extensions. If this directory does not exist it is be created. The
      temporary directory is created by Perl's security operations directly
      under this directory. In this temporary directory, the temporary files are
      stored.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Output"><a class="selflink" href="#Output">Output</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b>|<b>--output</b><i> file_name</i></dt>
  <dd class="It-tag">Normally all <i>groff</i> output of this program is sent to
      <b>STDOUT</b>R<b>.</b> With this option, that can be changed, such that
      the output is stored into a file named in the option argument
      <i>file_name</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>|<b>-V</b>|<b>--verbose</b></dt>
  <dd class="It-tag">A lot more of information is sent to STDERR.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Short_Option_Collections"><a class="selflink" href="#Short_Option_Collections">Short
  Option Collections</a></h2>
The argument handling of options
<div class="Pp"></div>
<i>Short options</i> are arguments that start with a single dash <b>-</b>. Such
  an argument can consist of arbitrary many options without option argument,
  composed as a collection of option characters following the single dash.
<div class="Pp"></div>
Such a collection can be terminated by an option character that expects an
  option argument. If this option character is not the last character of the
  argument, the following final part of the argument is the option argument. If
  it is the last character of the argument, the next argument is taken as the
  option argument.
<div class="Pp"></div>
This is the standard for <i>POSIX</i> and <i>GNU</i> option management.
<div class="Pp"></div>
For example,
<dl class="Bl-tag">
  <dt class="It-tag"><b>-kVe</b><i> some_dir</i></dt>
  <dd class="It-tag">is a collection of the short options <b>-k</b> and
      <b>-V</b> without option argument, followed by the short option <b>-e</b>
      with option argument that is the following part of the argument
      <i>some_dir</i>. So this argument could also be written as several
      arguments <b>-k -V -e</b> <i>some_dir</i>.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Handling_of_Long_Options"><a class="selflink" href="#Handling_of_Long_Options">Handling
  of Long Options</a></h2>
Arguments that start with a double dash <b>--</b> are so-called <i>long options
  R .</i> Each double dash argument can only have a single long option.
<div class="Pp"></div>
<i>Long options</i> have or have not an option argument. An option argument can
  be the next argument or can be appended with an equal sign <b>=</b> to the
  same argument as the long option.
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">is a long option without an option argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--eps_dir</b><i> some_dir</i></dt>
  <dd class="It-tag"><b>--eps_dir=</b><i>some_dir</i> is the long option
      <b>--eps_dir</b> with the option argument <i>some_dir</i>.</dd>
</dl>
<div class="Pp"></div>
Moreover the program allows abbreviations of long options, as much as possible.
<div class="Pp"></div>
The <i>long option</i> <b>--keep_all</b> can be abbreviated from
  <b>--keep_al</b> up to <b>--k</b> because the program does not have another
  <i>long option</i> whose name starts with the character <b>k</b>.
<div class="Pp"></div>
On the other hand, the option <b>--version</b> cannot be abbreviated further
  than <b>--vers</b> because there is also the <i>long option</i>
  <b>--verbose</b> that can be abbreviated up to <b>--verb</b>.
<div class="Pp"></div>
An option argument can also be appended to an abbreviation. So is
  <b>--e=</b><i>some_dir</i> the same as <b>--eps_dir</b> <i>some_dir</i>.
<div class="Pp"></div>
Moreover the program allows an arbitrary usage of upper and lower case in the
  option name. This is <i>Perl</i> style.
<div class="Pp"></div>
For example, the <i>long option</i> <b>--keep_all</b> can as well be written as
  <b>--Keep_All</b> or even as an abbreviation like <b>--KeE</b>.
<h1 class="Sh" title="Sh" id="FILESPEC_ARGUMENTS"><a class="selflink" href="#FILESPEC_ARGUMENTS">FILESPEC
  ARGUMENTS</a></h1>
An argument that is not an option or an option argument is called a
  <i>filespec</i> argument.
<div class="Pp"></div>
Without any <i>filespec</i> argument, <i>standard input</i> is read.
<div class="Pp"></div>
Each <i>filespec</i> argument must either be the name of a readable file or a
  dash <b>-</b> for <i>standard input</i>. Each input must be written in the
  <i>roff</i> or <i>groff</i> language and can include <i>lilypond</i> parts.
<div class="Pp"></div>
Normally arguments starting with a dash <b>-</b> are interpreted as an option.
  But if you use an argument that consists only of a doubled dash <b>-- R ,</b>
  all following arguments are taken as <i>filespec</i> argument, even if such an
  argument starts with a dash. This is handled according to the <i>GNU</i>
  standard.
<h1 class="Sh" title="Sh" id="THE_LILYPOND_PARTS_IN_ROFF_INPUT"><a class="selflink" href="#THE_LILYPOND_PARTS_IN_ROFF_INPUT">THE
  LILYPOND PARTS IN ROFF INPUT</a></h1>
<h2 class="Ss" title="Ss" id="Integrated_Lilypond_Codes"><a class="selflink" href="#Integrated_Lilypond_Codes">Integrated
  Lilypond Codes</a></h2>
A <i>lilypond</i> part within a structure written in the <i>groff</i> language
  is the whole part between the marks
<div style="margin-left: 5.00ex;">
<pre>
<b>.lilypond start</b>
</pre>
</div>
and
<div style="margin-left: 5.00ex;">
<pre>
<b>.lilypond end</b>
</pre>
</div>
<div class="Pp"></div>
A <i>groff</i> input can have several of these <i>lilypond</i> parts.
<div class="Pp"></div>
When processing such a <i>lilypond</i> part between <b>.lilypond start</b> and
  <b>.lilypond end</b> we say that the <b>glilypond</b> program is in
  <i>lilypond mode</i>.
<div class="Pp"></div>
These <i>lilypond</i> parts are sent into temporary <i>lilypond</i> files with
  the file name extension <b>.ly</b>. These files are transformed later on into
  <i>EPS</i> files.
<h2 class="Ss" title="Ss" id="Inclusion_of_ly-Files"><a class="selflink" href="#Inclusion_of_ly-Files">Inclusion
  of ly-Files</a></h2>
An additional command line for file inclusion of <i>lilypond</i> files is given
  by
<pre>
<b>.lilypond include</b><i> file_name</i>
</pre>
in <i>groff</i> input. For each such <i>include</i> command, one file of
  <i>lilypond</i> code can be included into the <i>groff</i> code. Arbitrarily
  many of these commands can be included in the <i>groff</i> input.
<div class="Pp"></div>
These include commands can only be used outside the <i>lilypond</i> parts.
  Within the <i>lilypond mode</i>, this inclusion is not possible. So
  <b>.lilypond include</b> may not be used in <i>lilypond mode</i>, i.e. between
  <b>.lilypond start</b> and <b>.lilypond end</b>. These included
  <i>ly</i>-files are also transformed into <i>EPS</i> files.
<h1 class="Sh" title="Sh" id="GENERATED_FILES"><a class="selflink" href="#GENERATED_FILES">GENERATED
  FILES</a></h1>
By the transformation process of <i>lilypond</i> parts into <i>EPS</i> files,
  there are many files generated. By default, these files are regarded as
  temporary files and as such stored in a temporary directory.
<div class="Pp"></div>
This process can be changed by command line options.
<h2 class="Ss" title="Ss" id="Command_Line_Options_for_Directories"><a class="selflink" href="#Command_Line_Options_for_Directories">Command
  Line Options for Directories</a></h2>
The temporary directory for this program is either created automatically or can
  be named by the option <b>-t</b>|<b>--temp_dir</b> <i>dir</i>.
<div class="Pp"></div>
Moreover, the <i>EPS</i> files that are later on referred by <b>.PSPIC</b>
  command in the final <i>groff</i> output can be stored in a different
  directory that can be set by the command line option
  <b>-e</b>|<b>--eps_dir</b> <i>directory_name</i>. With this option, the
  temporary directory can be removed completely at the end of the program.
<div class="Pp"></div>
The beginning of the names of the temporary files can be set by the command line
  option [<span class="Op"><b>-p</b> <i>|</i>]</span> <i>begin_of_name</i>.
<div class="Pp"></div>
All of the temporary files except the <i>EPS</i> files are deleted finally. This
  can be changed by setting the command line option [<span class="Op"><b>-k</b>
  <i>|</i>]</span> With this, all temporary files and directories are kept, not
  deleted.
<div class="Pp"></div>
These <i>EPS</i> files are stored in a temporary or <i>EPS</i> directory. But
  they cannot be deleted by the transformation process because they are needed
  for the display which can take a long time.
<h1 class="Sh" title="Sh" id="TRANSFORMATION_PROCESSES_FOR_GENERATING_EPS_FILES"><a class="selflink" href="#TRANSFORMATION_PROCESSES_FOR_GENERATING_EPS_FILES">TRANSFORMATION
  PROCESSES FOR GENERATING EPS FILES</a></h1>
<h2 class="Ss" title="Ss" id="Mode_ly2eps"><a class="selflink" href="#Mode_ly2eps">Mode
  ly2eps</a></h2>
This mode is the default. It can also be chosen by the option <b>--ly2eps</b>.
<div class="Pp"></div>
In this mode, the <b>.ly</b> files are transformed by the <b>lilypond</b>
  program into many files of different formats, including <i>eps</i> files,
  using
<div style="margin-left: 5.00ex;">
<pre>
<b>$ lilypond --ps -dbackend=eps -dgs-load-fonts --output=</b><i>file-name</i>
</pre>
</div>
for each <b>.ly</b> file. The output <i>file-name</i> must be provided without
  an extension, its directory is temporary.
<div class="Pp"></div>
There are many <i>EPS</i> files created. One having the complete transformed
  <b>ly</b> file, named <i>file-name</i><b>.eps</b><i>.</i>
<div class="Pp"></div>
Moreover there are <i>EPS</i> files for each page, named
  <i>file-name</i><b>-</b><i>digit</i><b>.eps</b><i>.</i>
<div class="Pp"></div>
The last step to be done is replacing all <i>lilypond</i> parts by the
  collection of the corresponding <i>EPS</i> page files. This is done by
  <i>groff</i> commands
<pre>
<b>.PSPIC </b><i>file-name</i><b>-</b><i>digit</i><b>.eps</b>
</pre>
<h2 class="Ss" title="Ss" id="Mode_pdf2eps"><a class="selflink" href="#Mode_pdf2eps">Mode
  pdf2eps</a></h2>
This mode can be chosen by the option <b>--pdf2eps</b>.
<div class="Pp"></div>
In this mode, the <b>.ly</b> files are transformed by the <b>lilypond</b>(1)
  program into <i>pdf</i> files, using
<div style="margin-left: 5.00ex;">
<pre>
<b>lilypond --pdf --output=</b><i>file-name</i>
</pre>
</div>
for each <b>.ly</b> file. The <i>file-name</i> must be provided without the
  extension <b>.pdf</b>. By this process, a file <i>file-name</i><b>.pdf</b> is
  generated.
<div class="Pp"></div>
The next step is to transform these <i>PDF</i> files into a <i>PS</i> file. This
  is done by the <b>pdf2ps</b>(1) program using
<div style="margin-left: 5.00ex;">
<pre>
$   <b>pdf2ps</b> <i>file-name</i> <b>.pdf</b> <i>file-name</i> <b>.ps</b>
</pre>
</div>
The next step creates an <i>EPS</i> file from the <i>PS</i> file. This is done
  by the <b>ps2eps</b>(1) program using
<div style="margin-left: 5.00ex;">
<pre>
$ <b>ps2eps </b><i>file-name</i><b>.ps</b>
</pre>
</div>
<div class="Pp"></div>
By that, a file <i>file-name</i><b>.eps</b> is created for each <i>lilypond</i>
  part in the <i>groff</i> file or standard input.
<div class="Pp"></div>
The last step to be done is replacing all <i>lilypond</i> parts by the
  <i>groff</i> command
<div style="margin-left: 5.00ex;">
<pre>
<b>.PSPIC </b><i>file-name</i><b>.eps</b>
</pre>
</div>
<h1 class="Sh" title="Sh" id="THE_GENERATED_NEW_ROFF_STRUCTURE"><a class="selflink" href="#THE_GENERATED_NEW_ROFF_STRUCTURE">THE
  GENERATED NEW ROFF STRUCTURE</a></h1>
The new <b>groff</b>(7) structure generated by <b>glilypond</b> is either
<dl class="Bl-tag">
  <dt class="It-tag">1)</dt>
  <dd class="It-tag">sent to standard output and can there be saved into a file
      or piped into <b>groff</b>(1) or <b>groffer</b>(1) or</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2)</dt>
  <dd class="It-tag">stored into a file by given the option
      <b>-o&#x00A0;&#x00A0;|</b>&#x00A0;--output <i>file_name</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>groff</b>(1)</dt>
  <dd class="It-tag">the usage of the groff program and pointers to the
      documentation and availability of the <i>groff</i> system. The main source
      of information for the <i>groff</i> system is the <i>groff</i>
      <b>info</b>(1) file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>groff</b>(7)</dt>
  <dd class="It-tag">documents the <i>groff</i> language.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>groff_tmac</b>(5)</dt>
  <dd class="It-tag">contains documentation of the <b>.PSPIC</b> request.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lilypond</b>(1)</dt>
  <dd class="It-tag">The documentation of the <b>lilypond</b> program. The main
      source of information for the <i>lilypond</i> language is the
      <i>lilypond</i> <b>info</b>(1) file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pdf2ps</b>(1)</dt>
  <dd class="It-tag">transform a <i>PDF</i> file into a <i>Postscript</i>
      format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ps2eps</b>(1)</dt>
  <dd class="It-tag">transform a <i>PS</i> file into an <i>EPS</i> format.</dd>
</dl>
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright &#x00A9; 2013-2014 Free Software Foundation, Inc.
<div style="height: 1.00em;">&#x00A0;</div>
This file is part of glilypond, which is part of GNU groff, a free software
  project.
<div style="height: 1.00em;">&#x00A0;</div>
You can redistribute it and/or modify it under the terms of the GNU General
  Public License version 2 (GPL2) as published by the Free Software Foundation.
<div style="height: 1.00em;">&#x00A0;</div>
The license text is available in the internet at
  <a class="Lk" title="Lk" href="http://www.gnu.org/licenses/gpl-2.0.html">http://www.gnu.org/licenses/gpl-2.0.html</a>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
This document was written by
  <a class="Mt" title="Mt" href="mailto:groff-bernd.warken-72@web.de">Bernd
  Warken</a></div>
<table class="foot">
  <tr>
    <td class="foot-date">13 December 2016</td>
    <td class="foot-os">Groff Version 1.22.3</td>
  </tr>
</table>
</body>
</html>
