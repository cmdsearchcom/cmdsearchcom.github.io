<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>AFS_COMPILE_ET(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">AFS_COMPILE_ET(1)</td>
    <td class="head-vol">AFS Command Reference</td>
    <td class="head-rtitle">AFS_COMPILE_ET(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
afs_compile_et - Produce error text tables for compilation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>afs_compile_et</b> [<b>-debug</b>]
  [<b>-language</b>&#x00A0;&lt;<i>lang</i>&gt;]
<br/>
 [ <b>-prefix</b>&#x00A0;&lt;<i>prefix</i>&gt;]
  [<b>-v</b>&#x00A0;&lt;<i>version</i>&gt;]
<br/>
 [ <b>-h</b>&#x00A0;&lt;<i>include</i>&gt;]
  &lt;[<b>-emit</b>&#x00A0;&lt;<i>output</i>&gt;]
<br/>
 <i>error_table</i>&gt;
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>afs_compile_et</b> command builds the error text tables for compilation.
  This includes both a header file that contains a set of mappings between error
  names and values and a <i>.c</i> (or <i>.msf</i>) file that provides a text
  table of descriptions.
<div class="Pp"></div>
The &lt; <i>error_table</i>&gt; argument specifies which error table to
  generate. The error table specification should exist in the current working
  directory or in the directory specified with <b>-prefix</b> and should be
  named <i>error_table.et</i>.
<div class="Pp"></div>
By default, <b>afs_compile_et</b> generates two files in one invocation. This is
  problematic for parallel build systems. The <b>-emit</b> option may be used to
  generate the output files independently with two separate invocations of
  <b>afs_compile_et</b> for a given error table. This allows parallel build
  systems to generate the source and header files, and the targets which depend
  on the generated source and headers files, in parallel.
<h1 class="Sh" title="Sh" id="CAUTIONS"><a class="selflink" href="#CAUTIONS">CAUTIONS</a></h1>
This command is used internally within the build process for OpenAFS. Most users
  will access this information via <i>translate_et</i>(1) rather than via
  <b>afs_compile_et</b>.
<div class="Pp"></div>
This command does not use the standard AFS command-line parsing package.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-debug</b></dt>
  <dd class="It-tag">Does nothing. It neither adds debugging information to the
      output nor provides additional information on its operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-language</b> &lt;<i>lang</i>&gt;</dt>
  <dd class="It-tag">Specifies the type of output to generate. Currently, only
      ANSI C and K&amp;R are supported values (via the <b>c</b> and
      <b>k&amp;r-c</b> values, respectively). The default is ANSI C. There is
      some support for C++ started, but that is not yet supported.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>-lang</b> &lt;<i>lang</i>&gt; option is a synonym for
      <b>-language</b> &lt; <i>lang</i>&gt;&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-prefix</b> &lt;<i>prefix</i>&gt;</dt>
  <dd class="It-tag">Specifies the directory to search for the
      <i>error_table.et</i> file. Specifies the directory to search for the
      prolog file when the <b>-h</b> option is given. The <b>-p</b>
      &lt;<i>prefix</i>&gt; option is a synonym for <b>-prefix</b>
      &lt;<i>prefix</i>&gt;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b> &lt;<i>include</i>&gt;</dt>
  <dd class="It-tag">Specifies an input file, called a prolog file, and modifies
      the name of the header file generated by <b>afs_compile_et</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    When the <b>-h</b> option is given, <b>afs_compile_et</b> will search for a
      prolog file named &lt; <i>include</i>&gt;<i>.p.h</i>.
      <b>afs_compile_et</b> will search the current working directory for the
      prolog file, unless the <b>-p</b> option is given. If the prolog file is
      found, <b>afs_compile_et</b> will place a verbatim copy of the prolog file
      contents into the generated header file.
    <div style="height: 1.00em;">&#x00A0;</div>
    When the <b>-h</b> option is given, the name of the header file generated by
      <b>afs_compile_et</b> is &lt;<i>include</i>&gt;<i>.h</i>, instead of
      &lt;<i>error_table</i>&gt;<i>.h</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    The <b>-h</b> option does not affect the source file generated by
      <b>afs_compile_et</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b> &lt;<i>version</i>&gt;</dt>
  <dd class="It-tag">Specified the type of output file: valid values are 1 (the
      default, for C files) or 2, for <b>.msf</b> file generation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-emit</b> &lt;<i>output</i>&gt;</dt>
  <dd class="It-tag">Specifies which program file to generate; the header file
      or the source file. Specify <b>-emit header</b> (or <b>-emit h</b>) to
      generate the <i>.h</i> header file. Specify <b>-emit source</b> (or
      <b>-emit c</b>) to generate the <i>.c</i> (or <i>.msf</i>) source
    file.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The following command generates the files <i>pterror.h</i> and <i>pterror.c</i>,
  suitable for use with C programs:
<div class="Pp"></div>
<pre>
   % afs_compile_et -p path/to/src/ptserver pterror
</pre>
<div class="Pp"></div>
The following command generates K&amp;R style files instead:
<div class="Pp"></div>
<pre>
   % afs_compile_et -p path/to/src/ptserver -lang 'k&amp;r-c' pterror
</pre>
<div class="Pp"></div>
The following command generates the <i>pterror.h</i> file, but not the
  <i>pterror.c</i> file.
<div class="Pp"></div>
<pre>
   % afs_compile_et -p path/to/src/ptserver -emit header pterror
</pre>
<div class="Pp"></div>
The following command generates the <i>pterror.c</i> file, but not the
  <i>pterror.h</i> file.
<div class="Pp"></div>
<pre>
   % afs_compile_et -p path/to/src/ptserver -emit source pterror
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>translate_et</i>(1)
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2009 Steven Jenkins &lt;steven@endpoint.com&gt;
<div class="Pp"></div>
This documentation is covered by the IBM Public License Version 1.0. This man
  page was written by Steven Jenkins for OpenAFS.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2017-02-14</td>
    <td class="foot-os">OpenAFS</td>
  </tr>
</table>
</body>
</html>
