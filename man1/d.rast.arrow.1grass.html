<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>d.rast.arrow(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">d.rast.arrow(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">d.rast.arrow(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>d.rast.arrow</b> - Draws arrows representing cell aspect direction for
  a raster map containing aspect data.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
display, map annotations, raster
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>d.rast.arrow</b>
<div>&#x00A0;</div>
<b>d.rast.arrow --help</b>
<div>&#x00A0;</div>
<b>d.rast.arrow</b> [-<b>a</b>] <b>map</b>=<i>name</i>
  [<b>type</b>=<i>string</i>] [ <b>color</b>=<i>name</i>]
  [<b>grid_color</b>=<i>name</i>] [ <b>null_color</b>=<i>name</i>]
  [<b>unknown_color</b>= <i>name</i>] [<b>skip</b>=<i>integer</i>]
  [<b>magnitude_map</b>= <i>string</i>] [<b>scale</b>=<i>float</i>]
  [--<b>help</b>] [-- <b>verbose</b>] [--<b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Align grids with raster cells</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>map</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of raster aspect map to be displayed</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>type</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Type of existing raster aspect map
    <div>&#x00A0;</div>
    Options: <i>grass, compass, drainage, agnps, answers</i>
    <div>&#x00A0;</div>
    Default: <i>grass</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>color</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Color for drawing arrows
    <div>&#x00A0;</div>
    Either a standard color name or R:G:B triplet
    <div>&#x00A0;</div>
    Default: <i>green</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>grid_color</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Color for drawing drawing grid
    <div>&#x00A0;</div>
    Either a standard color name, R:G:B triplet, or &quot;none&quot;
    <div>&#x00A0;</div>
    Default: <i>gray</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>null_color</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Color for drawing null values (X symbol)
    <div>&#x00A0;</div>
    Either a standard color name, R:G:B triplet, or &quot;none&quot;
    <div>&#x00A0;</div>
    Default: <i>black</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unknown_color</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Color for showing unknown information (? symbol)
    <div>&#x00A0;</div>
    Either a standard color name, R:G:B triplet, or &quot;none&quot;
    <div>&#x00A0;</div>
    Default: <i>red</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>skip</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Draw arrow every Nth grid cell
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>magnitude_map</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Raster map containing values used for arrow length</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>scale</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Scale factor for arrows (magnitude map)
    <div>&#x00A0;</div>
    Default: <i>1.0</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>d.rast.arrow</i> is designed to help users better visualize surface water
  flow direction, as indicated in an aspect raster map layer. There are two ways
  to specify the aspect layer the program is to use. The first is to display the
  aspect map layer on the graphics monitor before running <i>d.rast.arrow</i>.
  The second method involves setting the <i>map</i> parameter to the name of the
  desired aspect map. This allows the arrows to be drawn over any other maps
  already displayed on the graphics monitor.
<div class="Pp"></div>
<i>d.rast.arrow</i> will draw an arrow over each displayed cell to indicate in
  which direction the cell slopes. If the aspect layer has a category value
  denoting locations of &quot;unknown&quot; aspect, <i>d.rast.arrow</i> draws a
  question mark over the displayed cells of that category. Cells containing null
  data will be marked with an &quot;X&quot;. You can disable drawing of null
  data and unknown aspect values by setting its color to &quot;none&quot;.
<div class="Pp"></div>
When specifying the <i>magnitude_map</i> option, arrow lengths denoting
  magnitude will be extracted from the cell values of the specified map. In this
  case the tail of the arrow will be centered on the source cell. You may adjust
  the overall scale using the <i>scale</i> option. <i>d.rast.arrow</i> will
  ignore NULL and negative magnitudes, and will warn you if the debug level is
  set at 5 or higher. Be aware. If your application uses negative values for
  magnitude, you can use <i>r.mapcalc</i> to prepare the magnitude map to suit
  your needs (absolute value, inverted direction and so on).
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
By default, arrows are drawn at the size of a cell and cannot be seen if the
  raster map is relatively close in scale. You can use the <i>skip</i> option to
  draw arrows every n-th cell in both directions if you are working with
  relatively high resolutions. It may be useful to disable the grid in this
  case, which is accomplished by setting its color to &quot;none&quot;.
<div class="Pp"></div>
For GRASS and Compass type aspect maps, the cell values of the aspect map will
  determine the corresponding direction in 360 degrees. ANSWERS type aspect maps
  will be plotted in multiples of 15 degrees counterclockwise from east, and
  AGNPS and Drainage type aspect maps will be displayed in D8 representation,
  i.e. the eight multiples of 45 degrees. Cell values are 1 to 8 clockwise from
  north for AGNPS and 1 to 8 counterclockwise from north east for Drainage. See
  <i>r.watershed</i> for more details about the Drainage aspect.
<div class="Pp"></div>
GRASS aspect maps are measured using Cartesian conventions, i.e. in degrees
  counterclockwise from east. e.g.:
<div>&#x00A0;</div>
<pre>
90  North
180 West
270 South
0,360 East
</pre>
They can be created from a raster elevation map with <i>r.slope.aspect</i>.
<div class="Pp"></div>
Compass type aspect maps are measured in degrees clockwise from north.
<div class="Pp"></div>
This module uses oceanographic conventions, i.e. arrows point downslope or
  direction &quot;to&quot;, as opposed to atmospheric conventions (direction
  &quot;from&quot;).
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
Convert U,V velocity component maps into magnitude,direction maps for use with
  <i>d.rast.arrow</i>:
<div>&#x00A0;</div>
<pre>
r.mapcalc &quot;magnitude = sqrt(U_map^2 + V_map^2)&quot;
r.mapcalc &quot;direction = atan(U_map, V_map)&quot;
d.rast.arrow map=direction type=grass magnitude_map=magnitude skip=3 grid=none
</pre>
<div>&#x00A0;</div>
<i>Sea wind speed (magnitude) and direction shown in the Tasmanian Sea</i>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>d.frame,</i> <i>d.rast,</i> <i>d.rast.edit,</i> <i>d.rast.num,</i>
  <i>g.region,</i> <i>r.slope.aspect,</i> <i>r.watershed</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Original author
<div>&#x00A0;</div>
Chris Rewerts
<div>&#x00A0;</div>
<i>Agricultural Engineering,</i>
<div>&#x00A0;</div>
Purdue University
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Magnitude and 360 arrow code
<div>&#x00A0;</div>
Hamish Bowman
<div>&#x00A0;</div>
<i>Department of Marine Science,</i>
<div>&#x00A0;</div>
University of Otago, New Zealand
<div>&#x00A0;</div>
<div>&#x00A0;</div>
Align grids with raster cells and Drainage aspect type
<div>&#x00A0;</div>
Huidae Cho
<div>&#x00A0;</div>
<div class="Pp"></div>
<i>Last changed: $Date: 2016-10-31 11:49:51 +0100 (Mon, 31 Oct 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: d.rast.arrow source code (history)
<div class="Pp"></div>
Main index | Display index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
