<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>MSORT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MSORT(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">MSORT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
msort - sort records in complex ways
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>msort</b> &lt;options&gt; [&lt;input file&gt;]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>msort</i> is a program for sorting text files in sophisticated ways. It was
  developed initially for alphabetizing dictionaries of languages in which the
  ordering may be quite different from English but has many other uses.
<div class="Pp"></div>
<i>msort</i> allows you to sort blocks of text delimited in a number of ways
  rather than just lines and to specify particular fields of a record as sort
  keys using either their position, counted from either end, or by matching
  regular expressions to their tags.
<div class="Pp"></div>
<i>msort</i> is capable of sorting on multiple keys, so that when two records
  tie on one key, the tie may be broken on another. Any or all keys may be
  optional. How absent optional keys are ordered with respect to present keys
  may be set separately for each key.
<div class="Pp"></div>
<i>msort</i> allows you to specify arbitrary sort orders and to define virtually
  unlimited numbers of multigraphs of effectively unlimited length. The sort
  order and multigraphs are defined separately for each key. If your system has
  locale support, you can also use locale collation rules instead of specify
  your own sort order.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<i>msort</i> provides twelve types of key comparison: lexicographic, numeric,
  numeric string, hybrid, by string length, by angle, by date, by domain name,
  by time, by ISO8601 date/time stamp, by month name, and random.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
What month names are used is a bit complicated. If the <i>-s</i> flag is used on
  the same key and its argument is the name of a file, the month names are read
  from the file, which should be in the same format as a sort order definition
  file. If the <i>-s</i> flag is used and its argument is a locale name, the
  month names recognized will be the month names and abbreviations associated
  with the specified locale. If the <i>-s</i> flag is not used the month names
  recognized will be the month names and abbreviations associated with the
  current locale. If your system does not have locale support and you do not use
  the <i>-s</i> flag to read the month names from a file, the month names
  recognized will be the English month names and abbreviations.
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
<i>msort</i> can reverse the characters in a key, allowing it to be used to
  generate reverse dictionaries.
<div class="Pp"></div>
A choice of sorting algorithms is provided.
<div class="Pp"></div>
<i>msort</i> fully supports Unicode. The text to be sorted, and all
  specifications, should be in UTF-8 Unicode. (If you have plain ASCII text,
  this is not a problem as ASCII is a subset of Unicode.) Full Unicode
  case-folding is available, in Turkic and non-Turkic variants. Unicode
  normalization is performed before sorting.
<div class="Pp"></div>
For usage information, execute <i>msort</i> with no arguments.
<div class="Pp"></div>
Full information about <b>msort</b> is currently to be found in the reference
  manual, which is distributed as a PDF (Portable Document Format) file. If a
  copy is not available locally, you can download it from msort's home page:
<div>&#x00A0;</div>
http://billposer.org/Software/msort.html
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<h2 class="Ss" title="Ss" id="Informational_options"><a class="selflink" href="#Informational_options">Informational
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h,--help</b></dt>
  <dd class="It-tag">Print usage message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v,--version</b></dt>
  <dd class="It-tag">Print version message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D,--defaults</b></dt>
  <dd class="It-tag">List defaults</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F,--general-options</b></dt>
  <dd class="It-tag">List general command line options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G,--gnu-equivalences</b></dt>
  <dd class="It-tag">List equivalents for GNU sort command line options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H,--informational-options</b></dt>
  <dd class="It-tag">List informational command line options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K,--key-specific-options</b></dt>
  <dd class="It-tag">List key-specific command line options</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L,--limits</b></dt>
  <dd class="It-tag">List limits</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N,--number-systems</b></dt>
  <dd class="It-tag">List the supported number systems.</dd>
</dl>
<h2 class="Ss" title="Ss" id="General_options"><a class="selflink" href="#General_options">General
  options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b,--block</b></dt>
  <dd class="It-tag">A record is terminated by two or more newlines</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l,--line</b></dt>
  <dd class="It-tag">A record consists of a single line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r,--record-separator</b> &lt;separator&gt;</dt>
  <dd class="It-tag">A record is terminated by separator character</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O,--fixed-size-record</b> &lt;bytes&gt;</dt>
  <dd class="It-tag">A record consists of the specified number of bytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d,--field-separators</b> &lt;character&gt;+</dt>
  <dd class="It-tag">Fields are delimited by the named character(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w,--whole</b></dt>
  <dd class="It-tag">Sort on the entire text of the record</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a,--algorithm</b> &lt;algorithm&gt;</dt>
  <dd class="It-tag">Use the specified sort algorithm. The choices are:
      I(nsertionSort), M(ergeSort), Q(uickSort), and S(hellSort). Note that
      InsertionSort and MergeSort are stable, while QuickSort and ShellSort are
      unstable. The default is QuickSort.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M,-initial-maximum-records</b> &lt;records&gt;</dt>
  <dd class="It-tag">Set initial maximum number of records</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m,--line-end-carriage-return</b></dt>
  <dd class="It-tag">End-of-line in the input data is marked by Carriage Return
      (0x0D) as on the Macintosh rather than by Line Feed (0x0A) as on Unix
      systems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I,--invert-globally</b></dt>
  <dd class="It-tag">Invert sense of comparisons globally</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B,--BMP</b></dt>
  <dd class="It-tag">No characters fall outside the Basic Multingual Plane (that
      is, have values greater than 0xFFFF).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z,--skip-first-record</b></dt>
  <dd class="It-tag">Copy the first record in the input to the output without
      sorting it. This is useful for sorting files with a header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p,--reserve-private-use-area</b></dt>
  <dd class="It-tag">Do not make internal use of the Private Use areas. By
      default, multigraphs are assigned internally to codepoints in the
      Supplementary Private Use areas if full Unicode is in use or to codepoints
      in the Private Use area if input is restricted to the Basic Multilingual
      Plane by means of the <i>-B</i> option. If your input makes use of the
      Private Use areas, this option prevents interference with your input. In
      this case, multigraphs will be assigned to the Low and High Surrogate
      areas (0xD800-0xDFFF). Note that this limits the number of multigraphs to
      2,048.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P,--random-seed</b> &lt;seed&gt;</dt>
  <dd class="It-tag">Set the seed for the random number generator. If not set
      here, it is set to a value determined by the time. The seed used is
      reported in the log. This option allows runs to be replicated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q,--check-only</b></dt>
  <dd class="It-tag">Check whether the input is already sorted. Do not generate
      any output. Exit status is 0 if input is already sorted, 11 if not
    sorted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-1,--in</b> &lt;input file name&gt;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-2,--out</b> &lt;output file name&gt;</dt>
  <dd class="It-tag">If the output file is the same as the input file, the input
      file will be overwritten. The input file will not be overwritten if the
      run is unsuccessful.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j,--suppress-log</b></dt>
  <dd class="It-tag">Suppress output to the log. If this flag is given before
      there is any output to the log from a command line flag, nothing will be
      written to the log and the log file will not be created. If a command line
      flag generates a log message before this flag is processed, the log file
      will be created but no log messages will be written to it once this flag
      is processed. To guarantee that no attempt will be made to open a log
      file, give this flag first.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q,--quiet</b></dt>
  <dd class="It-tag">Be quiet - do not chat while working</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u,--unicode-normalization</b> &lt;mode&gt;</dt>
  <dd class="It-tag">Select Unicode normalization mode. The choices of mode are:
      <i>c</i> for normalization form C (NFC), <i>d</i> for normalization form D
      (NFD), <i>C</i> for normalization form KC (NFKC), <i>D</i> for
      normalization form KD (NFKD), and <i>n</i> for no normalization. The
      default is NFC.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Key_specific_options"><a class="selflink" href="#Key_specific_options">Key
  specific options</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e,--character-range</b> &lt;m,n&gt;</dt>
  <dd class="It-tag">Sort on characters m through n. Positive indices start from
      one. Negative indices indicate position with respect to the end of the
      record. For example, the range <i>3,-2</i> consists of the third character
      through the next-to-last character.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n,--position</b> &lt;POS&gt;(,&lt;POS&gt;)</dt>
  <dd class="It-tag">Sort on the specified POS or contiguous range of POSs,
      where a POS is of the form &lt;field number&gt;(.&lt;character
      number&gt;). Both counts begin at one. Field numbers but not character
      numbers may be negative, in which case they are counted from the right.
      Thus, 1.2 is the second character of the first field; -2.1 is the first
      character of the next to last field.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t,--tag</b> &lt;tag regexp&gt;</dt>
  <dd class="It-tag">Sort on the field with the specified tag</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o,--optional</b> &lt;comparison&gt;</dt>
  <dd class="It-tag">Optional: compare as (&lt;,=,&gt;) to present key if
    absent</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C,--fold-case</b></dt>
  <dd class="It-tag">Fold case</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z,--fold-case-turkic</b></dt>
  <dd class="It-tag">Fold case with additional Turkic conversions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c,--comparison-type</b> &lt;comparison type&gt;</dt>
  <dd class="It-tag">a(ngle),l(exicographic), i(so8601 date/time), t(ime),
      D(omain name/email address), d(ate), m(onth name), n(umeric), N(umeric
      string),s(ize), h(hybrid), r(andom)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y,--number-system</b> &lt;number system&gt;</dt>
  <dd class="It-tag">Specifies the number system expected for this key. This
      affects only numeric and numeric string keys. There are two special
      values. If the number system is &quot;all&quot;, records may contain any
      number system that msort can interpret. Different records may contain
      different number systems. If the number system is &quot;any&quot;, records
      may contain any writing system that msort can interpret, but all records
      must make use of the same number system. <i>msort</i> sets the number
      system on the basis of the first record.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f,--date-format</b> &lt;date format&gt;</dt>
  <dd class="It-tag">Permutation of ymd with separators, e.g. y-m-d for
      international date format, m/d/y for American date format, or a
      permutation of yd with separators, e.g. y-d, for day-of-year dates. All
      three components may be numbers in any available number system. The month
      field may also be a month name, determined by the same devices as
      independent month name fields.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W,--sort-order-file-separators</b> &lt;file
    name&gt;</dt>
  <dd class="It-tag">Read the list of characters to be treated as separators in
      the sort order definition file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S,--substitutions</b> &lt;file name&gt;</dt>
  <dd class="It-tag">Read substitutions from named file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s,--sort-order</b> &lt;file name&gt;|&lt;locale
    name&gt;|&quot;locale&quot;</dt>
  <dd class="It-tag">If the argument is a file name, it is taken to be a sort
      order file and the sort order for the key is read from the file. If the
      argument is a locale name, the collation rules for that locale are used.
      If the argument is &quot;locale&quot;, the collation rules for the current
      locale are used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T,--transformations</b> &lt;(d)(e)(s)&gt;</dt>
  <dd class="It-tag">Apply the specified transformations. <i>d</i> specifies
      that diacritics are to be stripped. Separately encoded combining
      diacritics are removed. Characters with diacritics represented by	single
      codepoints are replaced with the corresponding ASCII character without the
      diacritics, if there is one. <i>e</i> specifies that enclosed characters,
      that is, characters within circles or parentheses, are to be replaced with
      the corresponding plain ASCII character if there is one. <i>s</i>
      specifies that characters in special styles are to be replaced with the
      corresponding plain ASCII character if there is one. Stylistic equivalents
      include: small capitals (e.g. U+1D04), script forms (e.g. U+212C), black
      letter forms (e.g. U+212D), Arabic presentation forms (e.g. U+FE81),
      Hebrew presentation forms (e.g. U+FB1D), fullwidth forms (e.g. U+FF01),
      halfwidth forms (e.g. U+FF7B), and the mathematical alphanumeric symbols
      (e.g. U+1D400).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x,--exclusion-file</b> &lt;file name&gt;</dt>
  <dd class="It-tag">Read exclusions from named file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X,--exclude-characters</b> &lt;exclusions&gt;</dt>
  <dd class="It-tag">Exclude specified characters</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i,--invert-locally</b></dt>
  <dd class="It-tag">Invert sense of comparisons</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R,--reverse-key</b></dt>
  <dd class="It-tag">Reverse characters of key</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A,--first-character-only</b></dt>
  <dd class="It-tag">Ignore all but the first character of the field, after
      substitutions, exclusions, etc.</dd>
</dl>
<div class="Pp"></div>
Note: long options may not be available on your system.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
sort(1), uninum(3)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Bill Poser (billposer@alum.mit.edu)
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
GNU General Public License (http://www.gnu.org/licenses/gpl.html), version 3.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">January 2010</td>
    <td class="foot-os">msort </td>
  </tr>
</table>
</body>
</html>
