<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:57:56 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>CEC-COMPLIANCE(1) User Commands CEC-COMPLIANCE(1)</p>

<p style="margin-top: 1em">NAME <br>
cec-compliance - An application to verify remote CEC
devices</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cec-compliance [-h] [-d &lt;dev&gt;] [other options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The cec-compliance utility can be used to test how well
remote CEC devices comply with the CEC specification. It can
also be used to test the local CEC adapter (with the -A <br>
option).</p>

<p style="margin-top: 1em">By default it will run through
all tests, but if one or more of the feature test options is
given, then only those tests will be performed. A set of
core tests is always run.</p>

<p style="margin-top: 1em">The CEC adapter needs to be
configured before it is used to run tests with
cec-compliance. Use cec-ctl for configuration.</p>

<p style="margin-top: 1em">If the CEC adapter has claimed
several logical addresses, the test set is run from each
logical address in succession. The remote device needs to
report a valid physical address <br>
in order to run tests on it.</p>

<p style="margin-top: 1em">When running compliance tests,
cec-follower should be run on the same adapter. cec-follower
will reply to messages that are not handled by
cec-compliance. cec-follower will also <br>
monitor the device under test for behaviors that are not
compliant with the specification. Before each test-run
cec-follower should be restarted if it is already running,
to ini&acirc; <br>
tialize the emulated device with a clean and known initial
state.</p>

<p style="margin-top: 1em">Some tests require interactive
mode (with the -i option) to confirm that the test passed.
When in interactive mode, the user is asked to observe or
perform actions on the remote <br>
device. Some tests also give conclusive test results when
run in interactive mode.</p>

<p style="margin-top: 1em">When testing the local CEC
adapter&rsquo;s compliance with the CEC API, there must be
at least one remote device present in order to test
transmitting and receiving.</p>

<p style="margin-top: 1em">The compliance tests can have
several possible outcomes besides passing and failing:</p>

<p style="margin-top: 1em">OK The test passed.</p>

<p style="margin-top: 1em">OK (Unexpected) The test passed,
but it was unexpected for the device <br>
under test to support it. This might for example occur <br>
when a TV replies to messages in the Deck Control <br>
feature.</p>

<p style="margin-top: 1em">OK (Not Supported) The feature
that was tested is not supported by the <br>
device under test, and that feature was not mandatory for
<br>
the device to pass.</p>

<p style="margin-top: 1em">OK (Presumed) Nothing went wrong
during the test, but the test cannot <br>
positively verify that the required effects of the test <br>
occured. The test runner should verify that the test <br>
passed by manually observing the device under test. This
<br>
is typically the test result for tests that send <br>
messages that are not replied to, but which induce some <br>
side effect on the device under test, such as a TV <br>
switching to another input or sending a Remote Control <br>
command.</p>

<p style="margin-top: 1em">OK (Refused) The device supports
the feature or message being tested, <br>
but responded &lt;Feature Abort&gt; [&quot;Refused&quot;] to
indicate <br>
that it cannot perform the given operation. This might <br>
for example occur when trying to test the One Touch <br>
Record feature on a TV with copy protection enabled.</p>

<p style="margin-top: 1em">FAIL The test failed and was
expected to pass on the device.</p>

<p style="margin-top: 1em">Some tests depend on other tests
being successful. These are not run if the tests they depend
on failed, and they will not be shown in the test
listing.</p>

<p style="margin-top: 1em">OPTIONS <br>
-d, --device=&lt;dev&gt; <br>
Use device &lt;dev&gt; as the CEC device. If &lt;dev&gt; is
a number, then /dev/cec&lt;dev&gt; is used.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Turn on verbose reporting.</p>

<p style="margin-top: 1em">-T, --trace <br>
Trace all called ioctls. Useful for debugging.</p>

<p style="margin-top: 1em">-h, --help <br>
Prints the help message.</p>

<p style="margin-top: 1em">-n, --no-warnings <br>
Turn off warning messages.</p>

<p style="margin-top: 1em">-r, --remote=&lt;la&gt; <br>
As initiator test the remote logical address &lt;la&gt; or
all LAs if no LA was given.</p>

<p style="margin-top: 1em">-i, --interactive <br>
Interactive mode when doing remote tests.</p>

<p style="margin-top: 1em">-A, --test-adapter <br>
Test the CEC adapter API</p>

<p style="margin-top: 1em">--test-core <br>
Test the core functionality</p>

<p style="margin-top: 1em">--test-audio-rate-control <br>
Test the Audio Rate Control feature</p>


<p style="margin-top: 1em">--test-audio-return-channel-control
<br>
Test the Audio Return Channel Control feature</p>


<p style="margin-top: 1em">--test-capability-discovery-and-control
<br>
Test the Capability Discovery and Control feature</p>

<p style="margin-top: 1em">--test-deck-control <br>
Test the Deck Control feature</p>

<p style="margin-top: 1em">--test-device-menu-control <br>
Test the Device Menu Control feature</p>

<p style="margin-top: 1em">--test-device-osd-transfer <br>
Test the Device OSD Transfer feature</p>

<p style="margin-top: 1em">--test-dynamic-audio-lipsync
<br>
Test the Dynamic Audio Lipsync feature</p>

<p style="margin-top: 1em">--test-osd-display <br>
Test the OSD Display feature</p>

<p style="margin-top: 1em">--test-one-touch-play <br>
Test the One Touch Play feature</p>

<p style="margin-top: 1em">--test-one-touch-record <br>
Test the One Touch Record feature</p>

<p style="margin-top: 1em">--test-power-status <br>
Test the Power Status feature</p>


<p style="margin-top: 1em">--test-remote-control-passthrough
<br>
Test the Remote Control Passthrough feature</p>

<p style="margin-top: 1em">--test-routing-control <br>
Test the Routing Control feature</p>

<p style="margin-top: 1em">--test-system-audio-control <br>
Test the System Audio Control feature</p>

<p style="margin-top: 1em">--test-system-information <br>
Test the System Information feature</p>

<p style="margin-top: 1em">--test-timer-programming <br>
Test the Timer Programming feature</p>

<p style="margin-top: 1em">--test-tuner-control <br>
Test the Tuner Control feature</p>

<p style="margin-top: 1em">--test-vendor-specific-commands
<br>
Test the Vendor Specific Commands feature</p>

<p style="margin-top: 1em">--test-standby-resume <br>
Test standby and resume functionality. This will activate
testing of Standby, Give Device Power Status and One Touch
Play.</p>

<p style="margin-top: 1em">EXIT STATUS <br>
On success, it returns 0. Otherwise, it will return the
error code.</p>

<p style="margin-top: 1em">EXAMPLE <br>
We want to test the compliance of a TV when it is
interacting with a Playback device. The device node of the
CEC adapter which the TV is connected to is /dev/cec1.</p>

<p style="margin-top: 1em">The local CEC adapter first
needs to be configured as a Playback device, and it must
have an appropriate physical address. It is important that
the physical address is correct, <br>
so as to not confuse the device under test. For example, if
the CEC adapter is connected to the first input of the TV,
the physical address 1.0.0.0 should generally be used.</p>

<p style="margin-top: 1em">cec-ctl -d1 --playback
--phys-addr 1.0.0.0</p>

<p style="margin-top: 1em">Most CEC adapters will
automatically detect the physical address, and for those
adapters the --phys-addr option is not needed.</p>

<p style="margin-top: 1em">Next, cec-follower also has to
be started on the same device:</p>

<p style="margin-top: 1em">cec-follower -d1</p>

<p style="margin-top: 1em">cec-compliance can now be run
towards the TV by supplying the -r option with the logical
address 0:</p>

<p style="margin-top: 1em">cec-compliance -d1 -r0</p>

<p style="margin-top: 1em">BUGS <br>
This manual page is a work in progress.</p>

<p style="margin-top: 1em">Bug reports or questions about
this utility should be sent to the
linux-media@vger.kernel.org mailinglist.</p>

<p style="margin-top: 1em">SEE ALSO <br>
cec-follower(1), cec-ctl(1)</p>

<p style="margin-top: 1em">v4l-utils 1.12.5 August 2016
CEC-COMPLIANCE(1)</p>
<hr>
</body>
</html>
