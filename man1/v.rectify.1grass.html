<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.rectify(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.rectify(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.rectify(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.rectify</b> - Rectifies a vector by computing a coordinate
  transformation for each object in the vector based on the control points.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, rectify
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.rectify</b>
<div>&#x00A0;</div>
<b>v.rectify --help</b>
<div>&#x00A0;</div>
<b>v.rectify</b> [-<b>3orb</b>] <b>input</b>=<i>name</i>
  <b>output</b>=<i>name</i> [ <b>group</b>=<i>name</i>]
  [<b>points</b>=<i>name</i>] [ <b>rmsfile</b>=<i>name</i>]
  [<b>order</b>=<i>integer</i>] [ <b>separator</b>=<i>character</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-3</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Perform 3D transformation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Perform orthogonal 3D transformation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print RMS errors
    <div>&#x00A0;</div>
    Print RMS errors and exit without rectifying the input map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not build topology
    <div>&#x00A0;</div>
    Advantageous when handling a large number of points</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>input</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input vector map
    <div>&#x00A0;</div>
    Or data source for direct OGR access</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output vector map</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input imagery group</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>points</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input file with control points</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rmsfile</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of output file with RMS errors (if omitted or &#x2019;-&#x2019; output
      to stdout</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>order</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Rectification polynomial order (1-3)
    <div>&#x00A0;</div>
    Options: <i>1-3</i>
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>separator</b>=<i>character</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Field separator for RMS report
    <div>&#x00A0;</div>
    Special characters: pipe, comma, space, tab, newline
    <div>&#x00A0;</div>
    Default: <i>pipe</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.rectify</i> uses control points to calculate a 2D or 3D transformation
  matrix based on a first, second, or third order polynomial and then converts
  x,y(, z) coordinates to standard map coordinates for each object in the vector
  map. The result is a vector map with a transformed coordinate system (i.e., a
  different coordinate system than before it was rectified).
<div class="Pp"></div>
The <i>-o</i> flag enforces orthogonal rotation (currently for 3D only) where
  the axes remain orthogonal to each other, e.g. a cube with right angles
  remains a cube with right angles after transformation. This is not guaranteed
  even with affine (1st order) 3D transformation.
<div class="Pp"></div>
Great care should be taken with the placement of Ground Control Points. For 2D
  transformation, the control points must not lie on a line, instead 3 of the
  control points must form a triangle. For 3D transformation, the control points
  must not lie on a plane, instead 4 of the control points must form a
  triangular pyramid. It is recommended to investigate RMS errors and deviations
  of the Ground Control Points prior to transformation.
<div class="Pp"></div>
2D Ground Control Points can be identified in <i>g.gui.gcp</i>.
<div class="Pp"></div>
3D Ground Control Points must be provided in a text file with the <b>points</b>
  option. The 3D format is equivalent to the format for 2D ground control points
  with an additional third coordinate:
<div>&#x00A0;</div>
<pre>
 x y z east north height status
</pre>
where <i>x, y, z</i> are source coordinates, <i>east, north, height</i> are
  target coordinates and status (0 or 1) indicates whether a given point should
  be used. Numbers must be separated by space and must use a point (.) as
  decimal separator.
<div class="Pp"></div>
If no <b>group</b> is given, the rectified vector will be written to the current
  mapset. If a <b>group</b> is given and a target has been set for this group
  with <i>i.target</i>, the rectified vector will be written to the target
  location and mapset.
<h2 class="Ss" title="Ss" id="Coordinate_transformation_and_RMSE"><a class="selflink" href="#Coordinate_transformation_and_RMSE">Coordinate
  transformation and RMSE</a></h2>
The desired order of transformation (1, 2, or 3) is selected with the
  <b>order</b> option. <i>v.rectify</i> will calculate the RMSE if the <b>-r</b>
  flag is given and print out statistcs in tabular format. The last row gives a
  summary with the first column holding the number of active points, followed by
  average deviations for each dimension and both forward and backward
  transformation and finally forward and backward overall RMSE.
<h2 class="Ss" title="Ss" id="2D_linear_affine_transformation_(1st_order_transformation)"><a class="selflink" href="#2D_linear_affine_transformation_(1st_order_transformation)">2D
  linear affine transformation (1st order transformation)</a></h2>
x&#x2019; = a1 + b1 * x + c1 * y
<div>&#x00A0;</div>
y&#x2019; = a2 + b2 * x + c2 * y
<h2 class="Ss" title="Ss" id="3D_linear_affine_transformation_(1st_order_transformation)"><a class="selflink" href="#3D_linear_affine_transformation_(1st_order_transformation)">3D
  linear affine transformation (1st order transformation)</a></h2>
x&#x2019; = a1 + b1 * x + c1 * y + d1 * z
<div>&#x00A0;</div>
y&#x2019; = a2 + b2 * x + c2 * y + d2 * z
<div>&#x00A0;</div>
z&#x2019; = a3 + b3 * x + c3 * y + d3 * z The a,b,c,d coefficients are
  determined by least squares regression based on the control points entered.
  This transformation applies scaling, translation and rotation. It is NOT a
  general purpose rubber-sheeting, nor is it ortho-photo rectification using a
  DEM, not second order polynomial, etc. It can be used if (1) you have
  geometrically correct data, and (2) the terrain or camera distortion effect
  can be ignored.
<h2 class="Ss" title="Ss" id="Polynomial_Transformation_Matrix_(2nd,_3d_order_transformation)"><a class="selflink" href="#Polynomial_Transformation_Matrix_(2nd,_3d_order_transformation)">Polynomial
  Transformation Matrix (2nd, 3d order transformation)</a></h2>
<i>v.rectify</i> uses a first, second, or third order transformation matrix to
  calculate the registration coefficients. The minimum number of control points
  required for a 2D transformation of the selected order (represented by n) is
<div>&#x00A0;</div>
((n + 1) * (n + 2) / 2) or 3, 6, and 10 respectively. For a 3D transformation of
  first, second, or third order, the minimum number of required control points
  is 4, 10, and 20, respectively. It is strongly recommended that more than the
  minimum number of points be identified to allow for an overly-determined
  transformation calculation which will generate the Root Mean Square (RMS)
  error values for each included point. The polynomial equations are determined
  using a modified Gaussian elimination method.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
The GRASS 4 <i></i> <i>Image</i> <i>Processing manual</i>
<div class="Pp"></div>
<i></i> <i>g.gui.gcp,</i> <i>i.group,</i> <i>i.rectify,</i> <i>i.target,</i>
  <i>m.transform,</i> <i>r.proj,</i> <i>v.proj,</i> <i>v.transform,</i> <i></i>
<div>&#x00A0;</div>
<i></i> <i>Manage Ground Control Points</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Markus Metz
<div class="Pp"></div>
based on i.rectify
<div class="Pp"></div>
<i>Last changed: $Date: 2016-01-29 10:29:57 +0100 (Fri, 29 Jan 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.rectify source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
