<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:30:33 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>PERL5140DELTA(1) Perl Programmers Reference Guide
PERL5140DELTA(1)</p>

<p style="margin-top: 1em">NAME <br>
perl5140delta - what is new for perl v5.14.0</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This document describes differences between the 5.12.0
release and the 5.14.0 release.</p>

<p style="margin-top: 1em">If you are upgrading from an
earlier release such as 5.10.0, first read perl5120delta,
which describes differences between 5.10.0 and 5.12.0.</p>

<p style="margin-top: 1em">Some of the bug fixes in this
release have been backported to subsequent releases of
5.12.x. Those are indicated with the 5.12.x version in
parentheses.</p>

<p style="margin-top: 1em">Notice <br>
As described in perlpolicy, the release of Perl 5.14.0 marks
the official end of support for Perl 5.10. Users of Perl
5.10 or earlier should consider upgrading to a more recent
<br>
release of Perl.</p>

<p style="margin-top: 1em">Core Enhancements <br>
Unicode <br>
Unicode Version 6.0 is now supported (mostly)</p>

<p style="margin-top: 1em">Perl comes with the Unicode 6.0
data base updated with Corrigendum #8
&lt;http://www.unicode.org/versions/corrigendum8.html&gt;,
with one exception noted below. See <br>
&lt;http://unicode.org/versions/Unicode6.0.0/&gt; for
details on the new release. Perl does not support any
Unicode provisional properties, including the new ones for
this release.</p>

<p style="margin-top: 1em">Unicode 6.0 has chosen to use
the name &quot;BELL&quot; for the character at U+1F514,
which is a symbol that looks like a bell, and is used in
Japanese cell phones. This conflicts with <br>
the long-standing Perl usage of having &quot;BELL&quot; mean
the ASCII &quot;BEL&quot; character, U+0007. In Perl 5.14,
&quot;ELL}&quot; continues to mean U+0007, but its use
generates a deprecation <br>
warning message unless such warnings are turned off. The new
name for U+0007 in Perl is &quot;ALERT&quot;, which
corresponds nicely with the existing shorthand sequence for
it, &quot;&quot;. <br>
&quot;EL}&quot; means U+0007, with no warning given. The
character at U+1F514 has no name in 5.14, but can be
referred to by &quot;+1F514}&quot;. In Perl 5.16,
&quot;ELL}&quot; will refer to <br>
U+1F514; all code that uses &quot;ELL}&quot; should be
converted to use &quot;LERT}&quot;, &quot;EL}&quot;, or
&quot;&quot; before upgrading.</p>

<p style="margin-top: 1em">Full functionality for &quot;use
feature &rsquo;unicode_strings&rsquo;&quot;</p>

<p style="margin-top: 1em">This release provides full
functionality for &quot;use feature
&rsquo;unicode_strings&rsquo;&quot;. Under its scope, all
string operations executed and regular expressions compiled
(even if executed <br>
outside its scope) have Unicode semantics. See &quot;the
&rsquo;unicode_strings&rsquo; feature&quot; in feature.
However, see &quot;Inverted bracketed character classes and
multi-character folds&quot;, below.</p>

<p style="margin-top: 1em">This feature avoids most forms
of the &quot;Unicode Bug&quot; (see &quot;The &quot;Unicode
Bug&quot;&quot; in perlunicode for details). If there is any
possibility that your code will process Unicode <br>
strings, you are strongly encouraged to use this subpragma
to avoid nasty surprises.</p>

<p style="margin-top: 1em">&quot;AME}&quot; and
&quot;charnames&quot; enhancements</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;AME}&quot;
and &quot;charnames::vianame&quot; now know about the
abbreviated character names listed by Unicode, such as NBSP,
SHY, LRO, ZWJ, etc.; all customary abbreviations for the
<br>
C0 and C1 control characters (such as ACK, BEL, CAN, etc.);
and a few new variants of some C1 full names that are in
common usage.</p>

<p style="margin-top: 1em">&Acirc;&middot; Unicode has
several named character sequences, in which particular
sequences of code points are given names. &quot;AME}&quot;
now recognizes these.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;AME}&quot;, &quot;charnames::vianame&quot;, and
&quot;charnames::viacode&quot; now know about every
character in Unicode. In earlier releases of Perl, they
didn&rsquo;t know about the Hangul <br>
syllables nor several CJK (Chinese/Japanese/Korean)
characters.</p>

<p style="margin-top: 1em">&Acirc;&middot; It is now
possible to override Perl&rsquo;s abbreviations with your
own custom aliases.</p>

<p style="margin-top: 1em">&Acirc;&middot; You can now
create a custom alias of the ordinal of a character, known
by &quot;AME}&quot;, &quot;charnames::vianame()&quot;, and
&quot;charnames::viacode()&quot;. Previously, aliases had to
be to <br>
official Unicode character names. This made it impossible to
create an alias for unnamed code points, such as those
reserved for private use.</p>

<p style="margin-top: 1em">&Acirc;&middot; The new function
charnames::string_vianame() is a run-time version of
&quot;AME}}&quot;, returning the string of characters whose
Unicode name is its parameter. It can handle <br>
Unicode named character sequences, whereas the pre-existing
charnames::vianame() cannot, as the latter returns a single
code point.</p>

<p style="margin-top: 1em">See charnames for details on all
these changes.</p>

<p style="margin-top: 1em">New warnings categories for
problematic (non-)Unicode code points.</p>

<p style="margin-top: 1em">Three new warnings subcategories
of &quot;utf8&quot; have been added. These allow you to turn
off some &quot;utf8&quot; warnings, while allowing other
warnings to remain on. The three categories <br>
are: &quot;surrogate&quot; when UTF-16 surrogates are
encountered; &quot;nonchar&quot; when Unicode non-character
code points are encountered; and &quot;non_unicode&quot;
when code points above the legal <br>
Unicode maximum of 0x10FFFF are encountered.</p>

<p style="margin-top: 1em">Any unsigned value can be
encoded as a character</p>

<p style="margin-top: 1em">With this release, Perl is
adopting a model that any unsigned value can be treated as a
code point and encoded internally (as utf8) without
warnings, not just the code points <br>
that are legal in Unicode. However, unless utf8 or the
corresponding sub-category (see previous item) of lexical
warnings have been explicitly turned off, outputting or <br>
executing a Unicode-defined operation such as upper-casing
on such a code point generates a warning. Attempting to
input these using strict rules (such as with the <br>
&quot;:encoding(UTF-8)&quot; layer) will continue to fail.
Prior to this release, handling was inconsistent and in
places, incorrect.</p>

<p style="margin-top: 1em">Unicode non-characters, some of
which previously were erroneously considered illegal in
places by Perl, contrary to the Unicode Standard, are now
always legal internally. <br>
Inputting or outputting them works the same as with the
non-legal Unicode code points, because the Unicode Standard
says they are (only) illegal for &quot;open
interchange&quot;.</p>

<p style="margin-top: 1em">Unicode database files not
installed</p>

<p style="margin-top: 1em">The Unicode database files are
no longer installed with Perl. This doesn&rsquo;t affect any
functionality in Perl and saves significant disk space. If
you need these files, you can <br>
download them from
&lt;http://www.unicode.org/Public/zipped/6.0.0/&gt;.</p>

<p style="margin-top: 1em">Regular Expressions <br>
&quot;(?^...)&quot; construct signifies default
modifiers</p>

<p style="margin-top: 1em">An ASCII caret &quot;^&quot;
immediately following a &quot;(?&quot; in a regular
expression now means that the subexpression does not inherit
surrounding modifiers such as &quot;/i&quot;, but reverts to
the <br>
Perl defaults. Any modifiers following the caret override
the defaults.</p>

<p style="margin-top: 1em">Stringification of regular
expressions now uses this notation. For example,
&quot;qr/hlagh/i&quot; would previously be stringified as
&quot;(?i-xsm:hlagh)&quot;, but now it&rsquo;s stringified
as <br>
&quot;(?^i:hlagh)&quot;.</p>

<p style="margin-top: 1em">The main purpose of this change
is to allow tests that rely on the stringification not to
have to change whenever new modifiers are added. See
&quot;Extended Patterns&quot; in perlre.</p>

<p style="margin-top: 1em">This change is likely to break
code that compares stringified regular expressions with
fixed strings containing &quot;?-xism&quot;.</p>

<p style="margin-top: 1em">&quot;/d&quot;, &quot;/l&quot;,
&quot;/u&quot;, and &quot;/a&quot; modifiers</p>

<p style="margin-top: 1em">Four new regular expression
modifiers have been added. These are mutually exclusive: one
only can be turned on at a time.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;/l&quot; modifier says to compile the regular
expression as if it were in the scope of &quot;use
locale&quot;, even if it is not.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;/u&quot; modifier says to compile the regular
expression as if it were in the scope of a &quot;use feature
&rsquo;unicode_strings&rsquo;&quot; pragma.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;/d&quot; (default) modifier is used to override any
&quot;use locale&quot; and &quot;use feature
&rsquo;unicode_strings&rsquo;&quot; pragmas in effect at the
time of compiling the regular expression.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;/a&quot; regular expression modifier restricts &quot;
&quot;&quot; and &quot;384[[:posix:]]&quot;) character
classes to the ASCII range.a Their complements and
&quot;n0/a&quot; behaves like the &quot;/u&quot; modifier,
in dthat case-insensitive matching uses Unicode
semantics.</p>

<p style="margin-top: 1em">If the &quot;/a&quot; modifier
is repeated, then additionally in case-insensitive matching,
no ASCII character can match a non-ASCII character. For
example,</p>

<p style="margin-top: 1em">&quot;k&quot; =~ /ELVIN SIGN}/ai
<br>
&quot;&quot; =~ /ss/ai</p>

<p style="margin-top: 1em">match but</p>

<p style="margin-top: 1em">&quot;k&quot; =~ /ELVIN
SIGN}/aai <br>
&quot;&quot; =~ /ss/aai</p>

<p style="margin-top: 1em">do not match.</p>

<p style="margin-top: 1em">See &quot;Modifiers&quot; in
perlre for more detail.</p>

<p style="margin-top: 1em">Non-destructive substitution</p>

<p style="margin-top: 1em">The substitution
(&quot;s///&quot;) and transliteration (&quot;y///&quot;)
operators now support an &quot;/r&quot; option that copies
the input variable, carries out the substitution on the
copy, and returns <br>
the result. The original remains unmodified.</p>

<p style="margin-top: 1em">my $old = &quot;cat&quot;; <br>
my $new = $old =~ s/cat/dog/r; <br>
# $old is &quot;cat&quot; and $new is &quot;dog&quot;</p>

<p style="margin-top: 1em">This is particularly useful with
&quot;map&quot;. See perlop for more examples.</p>

<p style="margin-top: 1em">Re-entrant regular expression
engine</p>

<p style="margin-top: 1em">It is now safe to use regular
expressions within &quot;(?{...})&quot; and
&quot;(??{...})&quot; code blocks inside regular
expressions.</p>

<p style="margin-top: 1em">These blocks are still
experimental, however, and still have problems with lexical
(&quot;my&quot;) variables and abnormal exiting.</p>

<p style="margin-top: 1em">&quot;use re
&rsquo;/flags&rsquo;&quot;</p>

<p style="margin-top: 1em">The &quot;re&quot; pragma now
has the ability to turn on regular expression flags till the
end of the lexical scope:</p>

<p style="margin-top: 1em">use re &quot;/x&quot;; <br>
&quot;foo&quot; =~ / (.+) /; # /x implied</p>

<p style="margin-top: 1em">See &quot;&rsquo;/flags&rsquo;
mode&quot; in re for details. s</p>

<p style="margin-top: 1em">There is a new octal escape
sequence, &quot;o <br>
allows you to specify a character in octal which can safely
be concatenated with other regex snippets and which
won&rsquo;t be confused with being a backreference to a
regex capture <br>
group. See &quot;Capture groups&quot; in perlre.</p>

<p style="margin-top: 1em">Add &quot;{Titlecase}&quot; as a
synonym for &quot;{Title}&quot;</p>

<p style="margin-top: 1em">This synonym is added for
symmetry with the Unicode property names
&quot;{Uppercase}&quot; and &quot;{Lowercase}&quot;.</p>

<p style="margin-top: 1em">Regular expression debugging
output improvement</p>

<p style="margin-top: 1em">Regular expression debugging
output (turned on by &quot;use re &rsquo;debug&rsquo;&quot;)
now uses hexadecimal when escaping non-ASCII characters,
instead of octal.</p>

<p style="margin-top: 1em">Return value of &quot;delete
$+{...}&quot;</p>

<p style="margin-top: 1em">Custom regular expression
engines can now determine the return value of
&quot;delete&quot; on an entry of &quot;%+&quot; or
&quot;%-&quot;.</p>

<p style="margin-top: 1em">Syntactical Enhancements <br>
Array and hash container functions accept references</p>

<p style="margin-top: 1em">Warning: This feature is
considered experimental, as the exact behaviour may change
in a future version of Perl.</p>

<p style="margin-top: 1em">All builtin functions that
operate directly on array or hash containers now also accept
unblessed hard references to arrays or hashes:</p>


<p style="margin-top: 1em">|----------------------------+---------------------------|
<br>
| Traditional syntax | Terse syntax | <br>
|----------------------------+---------------------------|
<br>
| push @$arrayref, @stuff | push $arrayref, @stuff | <br>
| unshift @$arrayref, @stuff | unshift $arrayref, @stuff |
<br>
| pop @$arrayref | pop $arrayref | <br>
| shift @$arrayref | shift $arrayref | <br>
| splice @$arrayref, 0, 2 | splice $arrayref, 0, 2 | <br>
| keys %$hashref | keys $hashref | <br>
| keys @$arrayref | keys $arrayref | <br>
| values %$hashref | values $hashref | <br>
| values @$arrayref | values $arrayref | <br>
| ($k,$v) = each %$hashref | ($k,$v) = each $hashref | <br>
| ($k,$v) = each @$arrayref | ($k,$v) = each $arrayref |
<br>

|----------------------------+---------------------------|</p>

<p style="margin-top: 1em">This allows these builtin
functions to act on long dereferencing chains or on the
return value of subroutines without needing to wrap them in
&quot;@{}&quot; or &quot;%{}&quot;:</p>

<p style="margin-top: 1em">push @{$obj-&gt;tags}, $new_tag;
# old way <br>
push $obj-&gt;tags, $new_tag; # new way</p>

<p style="margin-top: 1em">for ( keys
%{$hoh-&gt;{genres}{artists}} ) {...} # old way <br>
for ( keys $hoh-&gt;{genres}{artists} ) {...} # new way</p>

<p style="margin-top: 1em">Single term prototype</p>

<p style="margin-top: 1em">The &quot;+&quot; prototype is a
special alternative to &quot;$&quot; that acts like
&quot;&quot; when given a literal array or hash variable,
but will otherwise force scalar context on the argument.
<br>
See &quot;Prototypes&quot; in perlsub.</p>

<p style="margin-top: 1em">&quot;package&quot; block
syntax</p>

<p style="margin-top: 1em">A package declaration can now
contain a code block, in which case the declaration is in
scope inside that block only. So &quot;package Foo { ...
}&quot; is precisely equivalent to &quot;{ <br>
package Foo; ... }&quot;. It also works with a version
number in the declaration, as in &quot;package Foo 1.2 { ...
}&quot;, which is its most attractive feature. See
perlfunc.</p>

<p style="margin-top: 1em">Statement labels can appear in
more places</p>

<p style="margin-top: 1em">Statement labels can now occur
before any type of statement or declaration, such as
&quot;package&quot;.</p>

<p style="margin-top: 1em">Stacked labels</p>

<p style="margin-top: 1em">Multiple statement labels can
now appear before a single statement.</p>

<p style="margin-top: 1em">Uppercase X/B allowed in
hexadecimal/binary literals</p>

<p style="margin-top: 1em">Literals may now use either
upper case &quot;0X...&quot; or &quot;0B...&quot; prefixes,
in addition to the already supported &quot;0x...&quot; and
&quot;0b...&quot; syntax [perl #76296].</p>

<p style="margin-top: 1em">C, Ruby, Python, and PHP already
support this syntax, and it makes Perl more internally
consistent: a round-trip with &quot;eval sprintf
&quot;%#X&quot;, 0x10&quot; now returns 16, just like
&quot;eval <br>
sprintf &quot;%#x&quot;, 0x10&quot;.</p>

<p style="margin-top: 1em">Overridable tie functions</p>

<p style="margin-top: 1em">&quot;tie&quot;,
&quot;tied&quot; and &quot;untie&quot; can now be overridden
[perl #75902].</p>

<p style="margin-top: 1em">Exception Handling <br>
To make them more reliable and consistent, several changes
have been made to how &quot;die&quot;, &quot;warn&quot;, and
$@ behave.</p>

<p style="margin-top: 1em">&Acirc;&middot; When an
exception is thrown inside an &quot;eval&quot;, the
exception is no longer at risk of being clobbered by
destructor code running during unwinding. Previously, the
exception <br>
was written into $@ early in the throwing process, and would
be overwritten if &quot;eval&quot; was used internally in
the destructor for an object that had to be freed while
exiting <br>
from the outer &quot;eval&quot;. Now the exception is
written into $@ last thing before exiting the outer
&quot;eval&quot;, so the code running immediately thereafter
can rely on the value in <br>
$@ correctly corresponding to that &quot;eval&quot;. ($@ is
still also set before exiting the &quot;eval&quot;, for the
sake of destructors that rely on this.)</p>

<p style="margin-top: 1em">Likewise, a &quot;local $@&quot;
inside an &quot;eval&quot; no longer clobbers any exception
thrown in its scope. Previously, the restoration of $@ upon
unwinding would overwrite any exception <br>
being thrown. Now the exception gets to the &quot;eval&quot;
anyway. So &quot;local $@&quot; is safe before a
&quot;die&quot;.</p>

<p style="margin-top: 1em">Exceptions thrown from object
destructors no longer modify the $@ of the surrounding
context. (If the surrounding context was exception
unwinding, this used to be another <br>
way to clobber the exception being thrown.) Previously such
an exception was sometimes emitted as a warning, and then
either was string-appended to the surrounding $@ or <br>
completely replaced the surrounding $@, depending on whether
that exception and the surrounding $@ were strings or
objects. Now, an exception in this situation is always <br>
emitted as a warning, leaving the surrounding $@ untouched.
In addition to object destructors, this also affects any
function call run by XS code using the &quot;G_KEEPERR&quot;
flag.</p>

<p style="margin-top: 1em">&Acirc;&middot; Warnings for
&quot;warn&quot; can now be objects in the same way as
exceptions for &quot;die&quot;. If an object-based warning
gets the default handling of writing to standard error, it
is <br>
stringified as before with the filename and line number
appended. But a $SIG{__WARN__} handler now receives an
object-based warning as an object, where previously it was
<br>
passed the result of stringifying the object.</p>

<p style="margin-top: 1em">Other Enhancements <br>
Assignment to $0 sets the legacy process name with prctl()
on Linux</p>

<p style="margin-top: 1em">On Linux the legacy process name
is now set with prctl(2), in addition to altering the POSIX
name via &quot;argv[0]&quot;, as Perl has done since version
4.000. Now system utilities that <br>
read the legacy process name such as ps, top, and killall
recognize the name you set when assigning to $0. The string
you supply is truncated at 16 bytes; this limitation is <br>
imposed by Linux.</p>

<p style="margin-top: 1em">srand() now returns the seed</p>

<p style="margin-top: 1em">This allows programs that need
to have repeatable results not to have to come up with their
own seed-generating mechanism. Instead, they can use srand()
and stash the return <br>
value for future use. One example is a test program with too
many combinations to test comprehensively in the time
available for each run. It can test a random subset each
time <br>
and, should there be a failure, log the seed used for that
run so this can later be used to produce the same
results.</p>

<p style="margin-top: 1em">printf-like functions understand
post-1980 size modifiers</p>

<p style="margin-top: 1em">Perl&rsquo;s printf and sprintf
operators, and Perl&rsquo;s internal printf replacement
function, now understand the C90 size modifiers
&quot;hh&quot; (&quot;char&quot;), &quot;z&quot;
(&quot;size_t&quot;), and &quot;t&quot;
(&quot;ptrdiff_t&quot;). <br>
Also, when compiled with a C99 compiler, Perl now
understands the size modifier &quot;j&quot;
(&quot;intmax_t&quot;) (but this is not portable).</p>

<p style="margin-top: 1em">So, for example, on any modern
machine, &quot;sprintf(&quot;%hhd&quot;, 257)&quot; returns
&quot;1&quot;.</p>

<p style="margin-top: 1em">New global variable
&quot;${^GLOBAL_PHASE}&quot;</p>

<p style="margin-top: 1em">A new global variable,
&quot;${^GLOBAL_PHASE}&quot;, has been added to allow
introspection of the current phase of the Perl interpreter.
It&rsquo;s explained in detail in
&quot;${^GLOBAL_PHASE}&quot; in <br>
perlvar and in &quot;BEGIN, UNITCHECK, CHECK, INIT and
END&quot; in perlmod.</p>

<p style="margin-top: 1em">&quot;-d:-foo&quot; calls
&quot;Devel::foo::unimport&quot;</p>

<p style="margin-top: 1em">The syntax -d:foo was extended
in 5.6.1 to make -d:foo=bar equivalent to -MDevel::foo=bar,
which expands internally to &quot;use Devel::foo
&rsquo;bar&rsquo;&quot;. Perl now allows prefixing the <br>
module name with -, with the same semantics as -M; that
is:</p>

<p style="margin-top: 1em">&quot;-d:-foo&quot; <br>
Equivalent to -M-Devel::foo: expands to &quot;no
Devel::foo&quot; and calls
&quot;Devel::foo-&gt;unimport()&quot; if that method
exists.</p>

<p style="margin-top: 1em">&quot;-d:-foo=bar&quot; <br>
Equivalent to -M-Devel::foo=bar: expands to &quot;no
Devel::foo &rsquo;bar&rsquo;&quot;, and calls
&quot;Devel::foo-&gt;unimport(&quot;bar&quot;)&quot; if that
method exists.</p>

<p style="margin-top: 1em">This is particularly useful for
suppressing the default actions of a &quot;Devel::*&quot;
module&rsquo;s &quot;import&quot; method whilst still
loading it for debugging.</p>

<p style="margin-top: 1em">Filehandle method calls load
IO::File on demand</p>

<p style="margin-top: 1em">When a method call on a
filehandle would die because the method cannot be resolved
and IO::File has not been loaded, Perl now loads IO::File
via &quot;require&quot; and attempts method <br>
resolution again:</p>

<p style="margin-top: 1em">open my $fh, &quot;&gt;&quot;,
$file; <br>
$fh-&gt;binmode(&quot;:raw&quot;); # loads IO::File and
succeeds</p>

<p style="margin-top: 1em">This also works for globs like
&quot;STDOUT&quot;, &quot;STDERR&quot;, and
&quot;STDIN&quot;:</p>

<p style="margin-top: 1em">STDOUT-&gt;autoflush(1);</p>

<p style="margin-top: 1em">Because this on-demand load
happens only if method resolution fails, the legacy approach
of manually loading an IO::File parent class for partial
method support still works as <br>
expected:</p>

<p style="margin-top: 1em">use IO::Handle; <br>
open my $fh, &quot;&gt;&quot;, $file; <br>
$fh-&gt;autoflush(1); # IO::File not loaded</p>

<p style="margin-top: 1em">Improved IPv6 support</p>

<p style="margin-top: 1em">The &quot;Socket&quot; module
provides new affordances for IPv6, including implementations
of the &quot;Socket::getaddrinfo()&quot; and
&quot;Socket::getnameinfo()&quot; functions, along with
related <br>
constants and a handful of new functions. See Socket.</p>

<p style="margin-top: 1em">DTrace probes now include
package name</p>

<p style="margin-top: 1em">The &quot;DTrace&quot; probes
now include an additional argument, &quot;arg3&quot;, which
contains the package the subroutine being entered or left
was compiled in.</p>

<p style="margin-top: 1em">For example, using the following
DTrace script:</p>

<p style="margin-top: 1em">perl$target:::sub-entry <br>
{ <br>
printf(&quot;%s::%s0, copyinstr(arg0), copyinstr(arg3));
<br>
}</p>

<p style="margin-top: 1em">and then running:</p>

<p style="margin-top: 1em">$ perl -e &rsquo;sub test { };
test&rsquo;</p>

<p style="margin-top: 1em">&quot;DTrace&quot; will
print:</p>

<p style="margin-top: 1em">main::test</p>

<p style="margin-top: 1em">New C APIs <br>
See &quot;Internal Changes&quot;.</p>

<p style="margin-top: 1em">Security <br>
User-defined regular expression properties <br>
&quot;User-Defined Character Properties&quot; in perlunicode
documented that you can create custom properties by defining
subroutines whose names begin with &quot;In&quot; or
&quot;Is&quot;. However, Perl <br>
did not actually enforce that naming restriction, so
&quot;{foo::bar}&quot; could call foo::bar() if it existed.
The documented convention is now enforced.</p>

<p style="margin-top: 1em">Also, Perl no longer allows
tainted regular expressions to invoke a user-defined
property. It simply dies instead [perl #82616].</p>

<p style="margin-top: 1em">Incompatible Changes <br>
Perl 5.14.0 is not binary-compatible with any previous
stable release.</p>

<p style="margin-top: 1em">In addition to the sections that
follow, see &quot;C API Changes&quot;.</p>

<p style="margin-top: 1em">Regular Expressions and String
Escapes <br>
Inverted bracketed character classes and multi-character
folds</p>

<p style="margin-top: 1em">Some characters match a sequence
of two or three characters in &quot;/i&quot; regular
expression matching under Unicode rules. One example is
&quot;LATIN SMALL LETTER SHARP S&quot; which matches <br>
the sequence &quot;ss&quot;.</p>

<p style="margin-top: 1em">&rsquo;ss&rsquo; =~ /0</p>

<p style="margin-top: 1em">This, however, can lead to very
counter-intuitive results, especially when inverted. Because
of this, Perl 5.14 does not use multi-character
&quot;/i&quot; matching in inverted character <br>
classes.</p>

<p style="margin-top: 1em">&rsquo;ss&rsquo; =~ /0</p>

<p style="margin-top: 1em">This should match any sequences
of characters that aren&rsquo;t the &quot;SHARP S&quot; nor
what &quot;SHARP S&quot; matches under &quot;/i&quot;.
&quot;s&quot; isn&rsquo;t &quot;SHARP S&quot;, but Unicode
says that &quot;ss&quot; is what &quot;SHARP S&quot; <br>
matches under &quot;/i&quot;. So which one &quot;wins&quot;?
Do you fail the match because the string has &quot;ss&quot;
or accept it because it has an &quot;s&quot; followed by
another &quot;s&quot;?</p>

<p style="margin-top: 1em">Earlier releases of Perl did
allow this multi-character matching, but due to bugs, it
mostly did not work.</p>

<p style="margin-top: 1em">400-777</p>

<p style="margin-top: 1em">In certain circumstances,
&quot;400&quot;-&quot;777&quot; in regexes have behaved
differently than they behave in all other doublequote-like
contexts. Since 5.10.1, Perl has issued a deprecation <br>
warning when this happens. Now, these literals behave the
same in all doublequote-like contexts, namely to be
equivalent to &quot;&quot;-&quot;F}&quot;, with no
deprecation warning.</p>

<p style="margin-top: 1em">Use of
&quot;400&quot;-&quot;777&quot; in the command-line option
-0 retain their conventional meaning. They slurp whole input
files; previously, this was documented only for -0777.</p>

<p style="margin-top: 1em">Because of various ambiguities,
you should use the new &quot;.</p>

<p style="margin-top: 1em">Most &quot;{}&quot; properties
are now immune to case-insensitive matching</p>

<p style="margin-top: 1em">For most Unicode properties, it
doesn&rsquo;t make sense to have them match differently
under &quot;/i&quot; case-insensitive matching. Doing so can
lead to unexpected results and potential <br>
security holes. For example</p>

<p style="margin-top: 1em">m/{ASCII_Hex_Digit}+/i</p>

<p style="margin-top: 1em">could previously match non-ASCII
characters because of the Unicode matching rules (although
there were several bugs with this). Now matching under
&quot;/i&quot; gives the same results as <br>
non-&quot;/i&quot; matching except for those few properties
where people have come to expect differences, namely the
ones where casing is an integral part of their meaning, such
as <br>
&quot;m/{Uppercase}/i&quot; and &quot;m/{Lowercase}/i&quot;,
both of which match the same code points as matched by
&quot;m/{Cased}/i&quot;. Details are in &quot;Unicode
Properties&quot; in perlrecharclass.</p>

<p style="margin-top: 1em">User-defined property handlers
that need to match differently under &quot;/i&quot; must be
changed to read the new boolean parameter passed to them,
which is non-zero if case-insensitive <br>
matching is in effect and 0 otherwise. See
&quot;User-Defined Character Properties&quot; in
perlunicode.</p>

<p style="margin-top: 1em">{} implies Unicode semantics</p>

<p style="margin-top: 1em">Specifying a Unicode property in
the pattern indicates that the pattern is meant for matching
according to Unicode rules, the way &quot;AME}&quot;
does.</p>

<p style="margin-top: 1em">Regular expressions retain their
localeness when interpolated</p>

<p style="margin-top: 1em">Regular expressions compiled
under &quot;use locale&quot; now retain this when
interpolated into a new regular expression compiled outside
a &quot;use locale&quot;, and vice-versa.</p>

<p style="margin-top: 1em">Previously, one regular
expression interpolated into another inherited the
localeness of the surrounding regex, losing whatever state
it originally had. This is considered a bug <br>
fix, but may trip up code that has come to rely on the
incorrect behaviour.</p>

<p style="margin-top: 1em">Stringification of regexes has
changed</p>

<p style="margin-top: 1em">Default regular expression
modifiers are now notated using &quot;(?^...)&quot;. Code
relying on the old stringification will fail. This is so
that when new modifiers are added, such code <br>
won&rsquo;t have to keep changing each time this happens,
because the stringification will automatically incorporate
the new modifiers.</p>

<p style="margin-top: 1em">Code that needs to work properly
with both old- and new-style regexes can avoid the whole
issue by using (for perls since 5.9.5; see re):</p>

<p style="margin-top: 1em">use re qw(regexp_pattern); <br>
my ($pat, $mods) = regexp_pattern($re_ref);</p>

<p style="margin-top: 1em">If the actual stringification is
important or older Perls need to be supported, you can use
something like the following:</p>

<p style="margin-top: 1em"># Accept both old and new-style
stringification <br>
my $modifiers = (qr/foobar/ =~ /Q(?^/) ? &quot;^&quot; :
&quot;-xism&quot;;</p>

<p style="margin-top: 1em">And then use $modifiers instead
of &quot;-xism&quot;.</p>

<p style="margin-top: 1em">Run-time code blocks in regular
expressions inherit pragmata</p>

<p style="margin-top: 1em">Code blocks in regular
expressions (&quot;(?{...})&quot; and &quot;(??{...})&quot;)
previously did not inherit pragmata (strict, warnings, etc.)
if the regular expression was compiled at run time as <br>
happens in cases like these two:</p>

<p style="margin-top: 1em">use re &quot;eval&quot;; <br>
$foo =~ $bar; # when $bar contains (?{...}) <br>
$foo =~ /$bar(?{ $finished = 1 })/;</p>

<p style="margin-top: 1em">This bug has now been fixed, but
code that relied on the buggy behaviour may need to be fixed
to account for the correct behaviour.</p>

<p style="margin-top: 1em">Stashes and Package Variables
<br>
Localised tied hashes and arrays are no longed tied</p>

<p style="margin-top: 1em">In the following:</p>

<p style="margin-top: 1em">tie @a, ...; <br>
{ <br>
local @a; <br>
# here, @a is a now a new, untied array <br>
} <br>
# here, @a refers again to the old, tied array</p>

<p style="margin-top: 1em">Earlier versions of Perl
incorrectly tied the new local array. This has now been
fixed. This fix could however potentially cause a change in
behaviour of some code.</p>

<p style="margin-top: 1em">Stashes are now always
defined</p>

<p style="margin-top: 1em">&quot;defined %Foo::&quot; now
always returns true, even when no symbols have yet been
defined in that package.</p>

<p style="margin-top: 1em">This is a side-effect of
removing a special-case kludge in the tokeniser, added for
5.10.0, to hide side-effects of changes to the internal
storage of hashes. The fix <br>
drastically reduces hashes&rsquo; memory overhead.</p>

<p style="margin-top: 1em">Calling defined on a stash has
been deprecated since 5.6.0, warned on lexicals since 5.6.0,
and warned for stashes and other package variables since
5.12.0. &quot;defined %hash&quot; has <br>
always exposed an implementation detail: emptying a hash by
deleting all entries from it does not make &quot;defined
%hash&quot; false. Hence &quot;defined %hash&quot; is not
valid code to <br>
determine whether an arbitrary hash is empty. Instead, use
the behaviour of an empty %hash always returning false in
scalar context.</p>

<p style="margin-top: 1em">Clearing stashes</p>

<p style="margin-top: 1em">Stash list assignment
&quot;%foo:: = ()&quot; used to make the stash temporarily
anonymous while it was being emptied. Consequently, any of
its subroutines referenced elsewhere would <br>
become anonymous, showing up as &quot;(unknown)&quot; in
&quot;caller&quot;. They now retain their package names such
that &quot;caller&quot; returns the original sub name if
there is still a reference to <br>
its typeglob and &quot;foo::__ANON__&quot; otherwise [perl
#79208].</p>

<p style="margin-top: 1em">Dereferencing typeglobs</p>

<p style="margin-top: 1em">If you assign a typeglob to a
scalar variable:</p>

<p style="margin-top: 1em">$glob = *foo;</p>

<p style="margin-top: 1em">the glob that is copied to $glob
is marked with a special flag indicating that the glob is
just a copy. This allows subsequent assignments to $glob to
overwrite the glob. The <br>
original glob, however, is immutable.</p>

<p style="margin-top: 1em">Some Perl operators did not
distinguish between these two types of globs. This would
result in strange behaviour in edge cases: &quot;untie
$scalar&quot; would not untie the scalar if the <br>
last thing assigned to it was a glob (because it treated it
as &quot;untie *$scalar&quot;, which unties a handle).
Assignment to a glob slot (such as &quot;*$glob =
@some_array&quot;) would simply <br>
assign &quot;@some_array&quot; to $glob.</p>

<p style="margin-top: 1em">To fix this, the &quot;*{}&quot;
operator (including its *foo and *$foo forms) has been
modified to make a new immutable glob if its operand is a
glob copy. This allows operators that <br>
make a distinction between globs and scalars to be modified
to treat only immutable globs as globs. (&quot;tie&quot;,
&quot;tied&quot; and &quot;untie&quot; have been left as
they are for compatibility&rsquo;s <br>
sake, but will warn. See &quot;Deprecations&quot;.)</p>

<p style="margin-top: 1em">This causes an incompatible
change in code that assigns a glob to the return value of
&quot;*{}&quot; when that operator was passed a glob copy.
Take the following code, for instance:</p>

<p style="margin-top: 1em">$glob = *foo; <br>
*$glob = *bar;</p>

<p style="margin-top: 1em">The *$glob on the second line
returns a new immutable glob. That new glob is made an alias
to *bar. Then it is discarded. So the second assignment has
no effect.</p>

<p style="margin-top: 1em">See
&lt;http://rt.perl.org/rt3/Public/Bug/Display.html?id=77810&gt;
for more detail.</p>

<p style="margin-top: 1em">Magic variables outside the main
package</p>

<p style="margin-top: 1em">In previous versions of Perl,
magic variables like $!, %SIG, etc. would &quot;leak&quot;
into other packages. So %foo::SIG could be used to access
signals, &quot;${&quot;foo::!&quot;}&quot; (with strict mode
<br>
off) to access C&rsquo;s &quot;errno&quot;, etc.</p>

<p style="margin-top: 1em">This was a bug, or an
&quot;unintentional&quot; feature, which caused various ill
effects, such as signal handlers being wiped when modules
were loaded, etc.</p>

<p style="margin-top: 1em">This has been fixed (or the
feature has been removed, depending on how you see it).</p>

<p style="margin-top: 1em">local($_) strips all magic from
$_</p>

<p style="margin-top: 1em">local() on scalar variables
gives them a new value but keeps all their magic intact.
This has proven problematic for the default scalar variable
$_, where perlsub recommends <br>
that any subroutine that assigns to $_ should first localize
it. This would throw an exception if $_ is aliased to a
read-only variable, and could in general have various <br>
unintentional side-effects.</p>

<p style="margin-top: 1em">Therefore, as an exception to
the general rule, local($_) will not only assign a new value
to $_, but also remove all existing magic from it as
well.</p>

<p style="margin-top: 1em">Parsing of package and variable
names</p>

<p style="margin-top: 1em">Parsing the names of packages
and package variables has changed: multiple adjacent pairs
of colons, as in &quot;foo::::bar&quot;, are now all treated
as package separators.</p>

<p style="margin-top: 1em">Regardless of this change, the
exact parsing of package separators has never been
guaranteed and is subject to change in future Perl
versions.</p>

<p style="margin-top: 1em">Changes to Syntax or to Perl
Operators <br>
&quot;given&quot; return values</p>

<p style="margin-top: 1em">&quot;given&quot; blocks now
return the last evaluated expression, or an empty list if
the block was exited by &quot;break&quot;. Thus you can now
write:</p>

<p style="margin-top: 1em">my $type = do { <br>
given ($num) { <br>
break when undef; <br>
&quot;integer&quot; when /^[+-]?[0-9]+$/; <br>
&quot;float&quot; when /^[+-]?[0-9]+(?:.[0-9]+)?$/; <br>
&quot;unknown&quot;; <br>
} <br>
};</p>

<p style="margin-top: 1em">See &quot;Return value&quot; in
perlsyn for details.</p>

<p style="margin-top: 1em">Change in parsing of certain
prototypes</p>

<p style="margin-top: 1em">Functions declared with the
following prototypes now behave correctly as unary
functions:</p>

<p style="margin-top: 1em">* <br>
@ <br>
;$ ;* <br>
;; etc. <br>
;</p>

<p style="margin-top: 1em">Due to this bug fix [perl
#75904], functions using the &quot;(*)&quot;,
&quot;(;$)&quot; and &quot;(;*)&quot; prototypes are parsed
with higher precedence than before. So in the following
example:</p>

<p style="margin-top: 1em">sub foo(;$); <br>
foo $a &lt; $b;</p>

<p style="margin-top: 1em">the second line is now parsed
correctly as &quot;foo($a) &lt; $b&quot;, rather than
&quot;foo($a &lt; $b)&quot;. This happens when one of these
operators is used in an unparenthesised argument:</p>

<p style="margin-top: 1em">&lt; &gt; &lt;= &gt;= lt gt le
ge <br>
== != &lt;=&gt; eq ne cmp ~~ <br>
&amp; <br>
| ^ <br>
&amp;&amp; <br>
|| // <br>
.. ... <br>
?: <br>
= += -= *= etc. <br>
, =&gt;</p>

<p style="margin-top: 1em">Smart-matching against array
slices</p>

<p style="margin-top: 1em">Previously, the following code
resulted in a successful match:</p>

<p style="margin-top: 1em">my @a = qw(a y0 z); <br>
my @b = qw(a x0 z); <br>
@a[0 .. $#b] ~~ @b;</p>

<p style="margin-top: 1em">This odd behaviour has now been
fixed [perl #77468].</p>

<p style="margin-top: 1em">Negation treats strings
differently from before</p>

<p style="margin-top: 1em">The unary negation operator,
&quot;-&quot;, now treats strings that look like numbers as
numbers [perl #57706].</p>

<p style="margin-top: 1em">Negative zero</p>

<p style="margin-top: 1em">Negative zero (-0.0), when
converted to a string, now becomes &quot;0&quot; on all
platforms. It used to become &quot;-0&quot; on some, but
&quot;0&quot; on others.</p>

<p style="margin-top: 1em">If you still need to determine
whether a zero is negative, use
&quot;sprintf(&quot;%g&quot;, $zero) =~ /^-/&quot; or the
Data::Float module on CPAN.</p>

<p style="margin-top: 1em">&quot;:=&quot; is now a syntax
error</p>

<p style="margin-top: 1em">Previously &quot;my $pi :=
4&quot; was exactly equivalent to &quot;my $pi : = 4&quot;,
with the &quot;:&quot; being treated as the start of an
attribute list, ending before the &quot;=&quot;. The use of
&quot;:=&quot; to mean <br>
&quot;: =&quot; was deprecated in 5.12.0, and is now a
syntax error. This allows future use of &quot;:=&quot; as a
new token.</p>

<p style="margin-top: 1em">Outside the core&rsquo;s tests
for it, we find no Perl 5 code on CPAN using this
construction, so we believe that this change will have
little impact on real-world codebases.</p>

<p style="margin-top: 1em">If it is absolutely necessary to
have empty attribute lists (for example, because of a code
generator), simply avoid the error by adding a space before
the &quot;=&quot;.</p>

<p style="margin-top: 1em">Change in the parsing of
identifiers</p>

<p style="margin-top: 1em">Characters outside the Unicode
&quot;XIDStart&quot; set are no longer allowed at the
beginning of an identifier. This means that certain accents
and marks that normally follow an <br>
alphabetic character may no longer be the first character of
an identifier.</p>

<p style="margin-top: 1em">Threads and Processes <br>
Directory handles not copied to threads</p>

<p style="margin-top: 1em">On systems other than Windows
that do not have a &quot;fchdir&quot; function,
newly-created threads no longer inherit directory handles
from their parent threads. Such programs would <br>
usually have crashed anyway [perl #75154].</p>

<p style="margin-top: 1em">&quot;close&quot; on shared
pipes</p>

<p style="margin-top: 1em">To avoid deadlocks, the
&quot;close&quot; function no longer waits for the child
process to exit if the underlying file descriptor is still
in use by another thread. It returns true in <br>
such cases.</p>

<p style="margin-top: 1em">fork() emulation will not wait
for signalled children</p>

<p style="margin-top: 1em">On Windows parent processes
would not terminate until all forked children had terminated
first. However, &quot;kill(&quot;KILL&quot;, ...)&quot; is
inherently unstable on pseudo-processes, and <br>
&quot;kill(&quot;TERM&quot;, ...)&quot; might not get
delivered if the child is blocked in a system call.</p>

<p style="margin-top: 1em">To avoid the deadlock and still
provide a safe mechanism to terminate the hosting process,
Perl now no longer waits for children that have been sent a
SIGTERM signal. It is up <br>
to the parent process to waitpid() for these children if
child-cleanup processing must be allowed to finish. However,
it is also then the responsibility of the parent to avoid
<br>
the deadlock by making sure the child process can&rsquo;t be
blocked on I/O.</p>

<p style="margin-top: 1em">See perlfork for more
information about the fork() emulation on Windows.</p>

<p style="margin-top: 1em">Configuration <br>
Naming fixes in Policy_sh.SH may invalidate Policy.sh</p>

<p style="margin-top: 1em">Several long-standing typos and
naming confusions in Policy_sh.SH have been fixed,
standardizing on the variable names used in config.sh.</p>

<p style="margin-top: 1em">This will change the behaviour
of Policy.sh if you happen to have been accidentally relying
on its incorrect behaviour.</p>

<p style="margin-top: 1em">Perl source code is read in text
mode on Windows</p>

<p style="margin-top: 1em">Perl scripts used to be read in
binary mode on Windows for the benefit of the ByteLoader
module (which is no longer part of core Perl). This had the
side-effect of breaking <br>
various operations on the &quot;DATA&quot; filehandle,
including seek()/tell(), and even simply reading from
&quot;DATA&quot; after filehandles have been flushed by a
call to system(), backticks, <br>
fork() etc.</p>

<p style="margin-top: 1em">The default build options for
Windows have been changed to read Perl source code on
Windows in text mode now. ByteLoader will (hopefully) be
updated on CPAN to automatically <br>
handle this situation [perl #28106].</p>

<p style="margin-top: 1em">Deprecations <br>
See also &quot;Deprecated C APIs&quot;.</p>

<p style="margin-top: 1em">Omitting a space between a
regular expression and subsequent word <br>
Omitting the space between a regular expression operator or
its modifiers and the following word is deprecated. For
example, &quot;m/foo/sand $bar&quot; is for now still parsed
as <br>
&quot;m/foo/s and $bar&quot;, but will now issue a
warning.</p>

<p style="margin-top: 1em">&quot; The backslash-c construct
was designed as a way of specifying non-printable
characters, but there were no restrictions (on ASCII
platforms) on what the character following the <br>
&quot;c&quot; could be. Now, a deprecation warning is raised
if that character isn&rsquo;t an ASCII character. Also, a
deprecation warning is raised for &quot; saying
&quot;;&quot;). &quot; a n</p>

<p style="margin-top: 1em">&quot;d &quot; 0 <br>
In regular expressions, a literal &quot;{&quot; immediately
( n o t i n a b r a c k e t e d c following a &quot;h0 a r a
c t e r c l a s s ) o r a</p>

<p style="margin-top: 1em">Perl 4-era .pl libraries <br>
Perl bundles a handful of library files that predate Perl 5.
This bundling is now deprecated for most of these files,
which are now available from CPAN. The affected files now
<br>
warn when run, if they were installed as part of the
core.</p>

<p style="margin-top: 1em">This is a mandatory warning, not
obeying -X or lexical warning bits. The warning is modelled
on that supplied by deprecate.pm for deprecated-in-core .pm
libraries. It points to <br>
the specific CPAN distribution that contains the .pl
libraries. The CPAN versions, of course, do not generate the
warning.</p>

<p style="margin-top: 1em">List assignment to $[ <br>
Assignment to $[ was deprecated and started to give warnings
in Perl version 5.12.0. This version of Perl (5.14) now also
emits a warning when assigning to $[ in list context. <br>
This fixes an oversight in 5.12.0.</p>

<p style="margin-top: 1em">Use of qw(...) as parentheses
<br>
Historically the parser fooled itself into thinking that
&quot;qw(...)&quot; literals were always enclosed in
parentheses, and as a result you could sometimes omit
parentheses around them:</p>

<p style="margin-top: 1em">for $x qw(a b c) { ... }</p>

<p style="margin-top: 1em">The parser no longer lies to
itself in this way. Wrap the list literal in parentheses
like this:</p>

<p style="margin-top: 1em">for $x (qw(a b c)) { ... }</p>

<p style="margin-top: 1em">This is being deprecated because
the parentheses in &quot;for $i (1,2,3) { ... }&quot; are
not part of expression syntax. They are part of the
statement syntax, with the &quot;for&quot; statement <br>
wanting literal parentheses. The synthetic parentheses that
a &quot;qw&quot; expression acquired were only intended to
be treated as part of expression syntax.</p>

<p style="margin-top: 1em">Note that this does not change
the behaviour of cases like:</p>

<p style="margin-top: 1em">use POSIX qw(setlocale
localeconv); <br>
our @EXPORT = qw(foo bar baz);</p>

<p style="margin-top: 1em">where parentheses were never
required around the expression.</p>

<p style="margin-top: 1em">&quot;ELL}&quot; <br>
This is because Unicode is using that name for a different
character. See &quot;Unicode Version 6.0 is now supported
(mostly)&quot; for more explanation.</p>

<p style="margin-top: 1em">&quot;?PATTERN?&quot; <br>
&quot;?PATTERN?&quot; (without the initial &quot;m&quot;)
has been deprecated and now produces a warning. This is to
allow future use of &quot;?&quot; in new operators. The
match-once functionality is still <br>
available as &quot;m?PATTERN?&quot;.</p>

<p style="margin-top: 1em">Tie functions on scalars holding
typeglobs <br>
Calling a tie function (&quot;tie&quot;, &quot;tied&quot;,
&quot;untie&quot;) with a scalar argument acts on a
filehandle if the scalar happens to hold a typeglob.</p>

<p style="margin-top: 1em">This is a long-standing bug that
will be removed in Perl 5.16, as there is currently no way
to tie the scalar itself when it holds a typeglob, and no
way to untie a scalar that <br>
has had a typeglob assigned to it.</p>

<p style="margin-top: 1em">Now there is a deprecation
warning whenever a tie function is used on a handle without
an explicit &quot;*&quot;.</p>

<p style="margin-top: 1em">User-defined case-mapping <br>
This feature is being deprecated due to its many issues, as
documented in &quot;User-Defined Case Mappings (for serious
hackers only)&quot; in perlunicode. This feature will be
removed in <br>
Perl 5.16. Instead use the CPAN module Unicode::Casing,
which provides improved functionality.</p>

<p style="margin-top: 1em">Deprecated modules <br>
The following module will be removed from the core
distribution in a future release, and should be installed
from CPAN instead. Distributions on CPAN that require this
should <br>
add it to their prerequisites. The core version of these
module now issues a deprecation warning.</p>

<p style="margin-top: 1em">If you ship a packaged version
of Perl, either alone or as part of a larger system, then
you should carefully consider the repercussions of core
module deprecations. You may <br>
want to consider shipping your default build of Perl with a
package for the deprecated module that installs into
&quot;vendor&quot; or &quot;site&quot; Perl library
directories. This will inhibit <br>
the deprecation warnings.</p>

<p style="margin-top: 1em">Alternatively, you may want to
consider patching lib/deprecate.pm to provide deprecation
warnings specific to your packaging system or distribution
of Perl, consistent with how <br>
your packaging system or distribution manages a staged
transition from a release where the installation of a single
package provides the given functionality, to a later release
<br>
where the system administrator needs to know to install
multiple packages to get that same functionality.</p>

<p style="margin-top: 1em">You can silence these
deprecation warnings by installing the module in question
from CPAN. To install the latest version of it by role
rather than by name, just install <br>
&quot;Task::Deprecations::5_14&quot;.</p>

<p style="margin-top: 1em">Devel::DProf <br>
We strongly recommend that you install and use
Devel::NYTProf instead of Devel::DProf, as Devel::NYTProf
offers significantly improved profiling and reporting.</p>

<p style="margin-top: 1em">Performance Enhancements <br>
&quot;Safe signals&quot; optimisation <br>
Signal dispatch has been moved from the runloop into control
ops. This should give a few percent speed increase, and
eliminates nearly all the speed penalty caused by the <br>
introduction of &quot;safe signals&quot; in 5.8.0. Signals
should still be dispatched within the same statement as they
were previously. If this does not happen, or if you find it
<br>
possible to create uninterruptible loops, this is a bug, and
reports are encouraged of how to recreate such issues.</p>

<p style="margin-top: 1em">Optimisation of shift() and
pop() calls without arguments <br>
Two fewer OPs are used for shift() and pop() calls with no
argument (with implicit @_). This change makes shift() 5%
faster than &quot;shift @_&quot; on non-threaded perls, and
25% faster <br>
on threaded ones.</p>

<p style="margin-top: 1em">Optimisation of regexp engine
string comparison work <br>
The &quot;foldEQ_utf8&quot; API function for
case-insensitive comparison of strings (which is used
heavily by the regexp engine) was substantially refactored
and optimised -- and its <br>
documentation much improved as a free bonus.</p>

<p style="margin-top: 1em">Regular expression compilation
speed-up <br>
Compiling regular expressions has been made faster when
upgrading the regex to utf8 is necessary but this
isn&rsquo;t known when the compilation begins.</p>

<p style="margin-top: 1em">String appending is 100 times
faster <br>
When doing a lot of string appending, perls built to use the
system&rsquo;s &quot;malloc&quot; could end up allocating a
lot more memory than needed in a inefficient way.</p>

<p style="margin-top: 1em">&quot;sv_grow&quot;, the
function used to allocate more memory if necessary when
appending to a string, has been taught to round up the
memory it requests to a certain geometric <br>
progression, making it much faster on certain platforms and
configurations. On Win32, it&rsquo;s now about 100 times
faster.</p>

<p style="margin-top: 1em">Eliminate &quot;PL_*&quot;
accessor functions under ithreads <br>
When &quot;MULTIPLICITY&quot; was first developed, and
interpreter state moved into an interpreter struct, thread-
and interpreter-local &quot;PL_*&quot; variables were
defined as macros that called <br>
accessor functions (returning the address of the value)
outside the Perl core. The intent was to allow members
within the interpreter struct to change size without
breaking <br>
binary compatibility, so that bug fixes could be merged to a
maintenance branch that necessitated such a size change.
This mechanism was redundant and penalised well-behaved <br>
code. It has been removed.</p>

<p style="margin-top: 1em">Freeing weak references <br>
When there are many weak references to an object, freeing
that object can under some circumstances take O(N*N) time to
free, where N is the number of references. The <br>
circumstances in which this can happen have been reduced
[perl #75254]</p>

<p style="margin-top: 1em">Lexical array and hash
assignments <br>
An earlier optimisation to speed up &quot;my @array =
...&quot; and &quot;my %hash = ...&quot; assignments caused
a bug and was disabled in Perl 5.12.0.</p>

<p style="margin-top: 1em">Now we have found another way to
speed up these assignments [perl #82110].</p>

<p style="margin-top: 1em">@_ uses less memory <br>
Previously, @_ was allocated for every subroutine at compile
time with enough space for four entries. Now this allocation
is done on demand when the subroutine is called [perl <br>
#72416].</p>

<p style="margin-top: 1em">Size optimisations to SV and HV
structures <br>
&quot;xhv_fill&quot; has been eliminated from &quot;struct
xpvhv&quot;, saving 1 IV per hash and on some systems will
cause &quot;struct xpvhv&quot; to become cache-aligned. To
avoid this memory saving <br>
causing a slowdown elsewhere, boolean use of
&quot;HvFILL&quot; now calls &quot;HvTOTALKEYS&quot; instead
(which is equivalent), so while the fill data when actually
required are now calculated on <br>
demand, cases when this needs to be done should be rare.</p>

<p style="margin-top: 1em">The order of structure elements
in SV bodies has changed. Effectively, the NV slot has
swapped location with STASH and MAGIC. As all access to SV
members is via macros, this <br>
should be completely transparent. This change allows the
space saving for PVHVs documented above, and may reduce the
memory allocation needed for PVIVs on some
architectures.</p>

<p style="margin-top: 1em">&quot;XPV&quot;,
&quot;XPVIV&quot;, and &quot;XPVNV&quot; now allocate only
the parts of the &quot;SV&quot; body they actually use,
saving some space.</p>

<p style="margin-top: 1em">Scalars containing regular
expressions now allocate only the part of the &quot;SV&quot;
body they actually use, saving some space.</p>

<p style="margin-top: 1em">Memory consumption improvements
to Exporter <br>
The @EXPORT_FAIL AV is no longer created unless needed,
hence neither is the typeglob backing it. This saves about
200 bytes for every package that uses Exporter but
doesn&rsquo;t use <br>
this functionality.</p>

<p style="margin-top: 1em">Memory savings for weak
references <br>
For weak references, the common case of just a single weak
reference per referent has been optimised to reduce the
storage required. In this case it saves the equivalent of
one <br>
small Perl array per referent.</p>

<p style="margin-top: 1em">&quot;%+&quot; and
&quot;%-&quot; use less memory <br>
The bulk of the &quot;Tie::Hash::NamedCapture&quot; module
used to be in the Perl core. It has now been moved to an XS
module to reduce overhead for programs that do not use
&quot;%+&quot; or &quot;%-&quot;.</p>

<p style="margin-top: 1em">Multiple small improvements to
threads <br>
The internal structures of threading now make fewer API
calls and fewer allocations, resulting in noticeably smaller
object code. Additionally, many thread context checks have
<br>
been deferred so they&rsquo;re done only as needed (although
this is only possible for non-debugging builds).</p>

<p style="margin-top: 1em">Adjacent pairs of nextstate
opcodes are now optimized away <br>
Previously, in code such as</p>

<p style="margin-top: 1em">use constant DEBUG =&gt; 0;</p>

<p style="margin-top: 1em">sub GAK { <br>
warn if DEBUG; <br>
print &quot;stuff0; <br>
}</p>

<p style="margin-top: 1em">the ops for &quot;warn if
DEBUG&quot; would be folded to a &quot;null&quot; op
(&quot;ex-const&quot;), but the &quot;nextstate&quot; op
would remain, resulting in a runtime op dispatch of
&quot;nextstate&quot;, &quot;nextstate&quot;, etc.</p>

<p style="margin-top: 1em">The execution of a sequence of
&quot;nextstate&quot; ops is indistinguishable from just the
last &quot;nextstate&quot; op so the peephole optimizer now
eliminates the first of a pair of &quot;nextstate&quot; <br>
ops except when the first carries a label, since labels must
not be eliminated by the optimizer, and label usage
isn&rsquo;t conclusively known at compile time.</p>

<p style="margin-top: 1em">Modules and Pragmata <br>
New Modules and Pragmata <br>
&Acirc;&middot; CPAN::Meta::YAML 0.003 has been added as a
dual-life module. It supports a subset of YAML sufficient
for reading and writing META.yml and MYMETA.yml files
included with CPAN <br>
distributions or generated by the module installation
toolchain. It should not be used for any other general YAML
parsing or generation task.</p>

<p style="margin-top: 1em">&Acirc;&middot; CPAN::Meta
version 2.110440 has been added as a dual-life module. It
provides a standard library to read, interpret and write
CPAN distribution metadata files (like <br>
META.json and META.yml) that describe a distribution, its
contents, and the requirements for building it and
installing it. The latest CPAN distribution metadata <br>
specification is included as CPAN::Meta::Spec and notes on
changes in the specification over time are given in
CPAN::Meta::History.</p>

<p style="margin-top: 1em">&Acirc;&middot; HTTP::Tiny 0.012
has been added as a dual-life module. It is a very small,
simple HTTP/1.1 client designed for simple GET requests and
file mirroring. It has been added so <br>
that CPAN.pm and CPANPLUS can &quot;bootstrap&quot; HTTP
access to CPAN using pure Perl without relying on external
binaries like curl(1) or wget(1).</p>

<p style="margin-top: 1em">&Acirc;&middot; JSON::PP 2.27105
has been added as a dual-life module to allow CPAN clients
to read META.json files in CPAN distributions.</p>

<p style="margin-top: 1em">&Acirc;&middot; Module::Metadata
1.000004 has been added as a dual-life module. It gathers
package and POD information from Perl module files. It is a
standalone module based on <br>
Module::Build::ModuleInfo for use by other module
installation toolchain components. Module::Build::ModuleInfo
has been deprecated in favor of this module instead.</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl::OSType
1.002 has been added as a dual-life module. It maps Perl
operating system names (like &quot;dragonfly&quot; or
&quot;MSWin32&quot;) to more generic types with standardized
names <br>
(like &quot;Unix&quot; or &quot;Windows&quot;). It has been
refactored out of Module::Build and ExtUtils::CBuilder and
consolidates such mappings into a single location for easier
maintenance.</p>

<p style="margin-top: 1em">&Acirc;&middot; The following
modules were added by the Unicode::Collate upgrade. See
below for details.</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::Big5</p>


<p style="margin-top: 1em">Unicode::Collate::CJK::GB2312</p>


<p style="margin-top: 1em">Unicode::Collate::CJK::JISX0208</p>


<p style="margin-top: 1em">Unicode::Collate::CJK::Korean</p>


<p style="margin-top: 1em">Unicode::Collate::CJK::Pinyin</p>


<p style="margin-top: 1em">Unicode::Collate::CJK::Stroke</p>

<p style="margin-top: 1em">&Acirc;&middot;
Version::Requirements version 0.101020 has been added as a
dual-life module. It provides a standard library to model
and manipulates module prerequisites and version <br>
constraints defined in CPAN::Meta::Spec.</p>

<p style="margin-top: 1em">Updated Modules and Pragma <br>
&Acirc;&middot; attributes has been upgraded from version
0.12 to 0.14.</p>

<p style="margin-top: 1em">&Acirc;&middot; Archive::Extract
has been upgraded from version 0.38 to 0.48.</p>

<p style="margin-top: 1em">Updates since 0.38 include: a
safe print method that guards Archive::Extract from changes
to &quot;$ <br>
modification for the lzma logic to favour
IO::Uncompress::Unlzma; and a fix for an issue with
NetBSD-current and its new unzip(1) executable.</p>

<p style="margin-top: 1em">&Acirc;&middot; Archive::Tar has
been upgraded from version 1.54 to 1.76.</p>

<p style="margin-top: 1em">Important changes since 1.54
include the following:</p>

<p style="margin-top: 1em">&Acirc;&middot; Compatibility
with busybox implementations of tar(1).</p>

<p style="margin-top: 1em">&Acirc;&middot; A fix so that
write() and create_archive() close only filehandles they
themselves opened.</p>

<p style="margin-top: 1em">&Acirc;&middot; A bug was fixed
regarding the exit code of extract_archive.</p>

<p style="margin-top: 1em">&Acirc;&middot; The ptar(1)
utility has a new option to allow safe creation of tarballs
without world-writable files on Windows, allowing those
archives to be uploaded to CPAN.</p>

<p style="margin-top: 1em">&Acirc;&middot; A new
ptargrep(1) utility for using regular expressions against
the contents of files in a tar archive.</p>

<p style="margin-top: 1em">&Acirc;&middot; pax extended
headers are now skipped.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Attribute::Handlers has been upgraded from version 0.87 to
0.89.</p>

<p style="margin-top: 1em">&Acirc;&middot; autodie has been
upgraded from version 2.06_01 to 2.1001.</p>

<p style="margin-top: 1em">&Acirc;&middot; AutoLoader has
been upgraded from version 5.70 to 5.71.</p>

<p style="margin-top: 1em">&Acirc;&middot; The B module has
been upgraded from version 1.23 to 1.29.</p>

<p style="margin-top: 1em">It no longer crashes when taking
apart a &quot;y///&quot; containing characters outside the
octet range or compiled in a &quot;use utf8&quot; scope.</p>

<p style="margin-top: 1em">The size of the shared object
has been reduced by about 40%, with no reduction in
functionality.</p>

<p style="margin-top: 1em">&Acirc;&middot; B::Concise has
been upgraded from version 0.78 to 0.83.</p>

<p style="margin-top: 1em">B::Concise marks rv2sv(),
rv2av(), and rv2hv() ops with the new &quot;OPpDEREF&quot;
flag as &quot;DREFed&quot;.</p>

<p style="margin-top: 1em">It no longer produces mangled
output with the -tree option [perl #80632].</p>

<p style="margin-top: 1em">&Acirc;&middot; B::Debug has
been upgraded from version 1.12 to 1.16.</p>

<p style="margin-top: 1em">&Acirc;&middot; B::Deparse has
been upgraded from version 0.96 to 1.03.</p>

<p style="margin-top: 1em">The deparsing of a
&quot;nextstate&quot; op has changed when it has both a
change of package relative to the previous nextstate, or a
change of &quot;%^H&quot; or other state and a label. The
<br>
label was previously emitted first, but is now emitted last
(5.12.1).</p>

<p style="margin-top: 1em">The &quot;no 5.13.2&quot; or
similar form is now correctly handled by B::Deparse
(5.12.3).</p>

<p style="margin-top: 1em">B::Deparse now properly handles
the code that applies a conditional pattern match against
implicit $_ as it was fixed in [perl #20444].</p>

<p style="margin-top: 1em">Deparsing of &quot;our&quot;
followed by a variable with funny characters (as permitted
under the &quot;use utf8&quot; pragma) has also been fixed
[perl #33752].</p>

<p style="margin-top: 1em">&Acirc;&middot; B::Lint has been
upgraded from version 1.11_01 to 1.13.</p>

<p style="margin-top: 1em">&Acirc;&middot; base has been
upgraded from version 2.15 to 2.16.</p>

<p style="margin-top: 1em">&Acirc;&middot; Benchmark has
been upgraded from version 1.11 to 1.12.</p>

<p style="margin-top: 1em">&Acirc;&middot; bignum has been
upgraded from version 0.23 to 0.27.</p>

<p style="margin-top: 1em">&Acirc;&middot; Carp has been
upgraded from version 1.15 to 1.20.</p>

<p style="margin-top: 1em">Carp now detects incomplete
caller() overrides and avoids using bogus @DB::args. To
provide backtraces, Carp relies on particular behaviour of
the caller() builtin. Carp <br>
now detects if other code has overridden this with an
incomplete implementation, and modifies its backtrace
accordingly. Previously incomplete overrides would cause
<br>
incorrect values in backtraces (best case), or obscure fatal
errors (worst case).</p>

<p style="margin-top: 1em">This fixes certain cases of
&quot;Bizarre copy of ARRAY&quot; caused by modules
overriding caller() incorrectly (5.12.2).</p>

<p style="margin-top: 1em">It now also avoids using regular
expressions that cause Perl to load its Unicode tables, so
as to avoid the &quot;BEGIN not safe after errors&quot;
error that ensue if there has been a <br>
syntax error [perl #82854].</p>

<p style="margin-top: 1em">&Acirc;&middot; CGI has been
upgraded from version 3.48 to 3.52.</p>

<p style="margin-top: 1em">This provides the following
security fixes: the MIME boundary in multipart_init() is now
random and the handling of newlines embedded in header
values has been improved.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Compress::Raw::Bzip2 has been upgraded from version 2.024 to
2.033.</p>

<p style="margin-top: 1em">It has been updated to use
bzip2(1) 1.0.6.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Compress::Raw::Zlib has been upgraded from version 2.024 to
2.033.</p>

<p style="margin-top: 1em">&Acirc;&middot; constant has
been upgraded from version 1.20 to 1.21.</p>

<p style="margin-top: 1em">Unicode constants work once
more. They have been broken since Perl 5.10.0 [CPAN RT
#67525].</p>

<p style="margin-top: 1em">&Acirc;&middot; CPAN has been
upgraded from version 1.94_56 to 1.9600.</p>

<p style="margin-top: 1em">Major highlights:</p>

<p style="margin-top: 1em">&Acirc;&middot; much less
configuration dialog hassle</p>

<p style="margin-top: 1em">&Acirc;&middot; support for
META/MYMETA.json</p>

<p style="margin-top: 1em">&Acirc;&middot; support for
local::lib</p>

<p style="margin-top: 1em">&Acirc;&middot; support for
HTTP::Tiny to reduce the dependency on FTP sites</p>

<p style="margin-top: 1em">&Acirc;&middot; automatic mirror
selection</p>

<p style="margin-top: 1em">&Acirc;&middot; iron out all
known bugs in configure_requires</p>

<p style="margin-top: 1em">&Acirc;&middot; support for
distributions compressed with bzip2(1)</p>

<p style="margin-top: 1em">&Acirc;&middot; allow Foo/Bar.pm
on the command line to mean &quot;Foo::Bar&quot;</p>

<p style="margin-top: 1em">&Acirc;&middot; CPANPLUS has
been upgraded from version 0.90 to 0.9103.</p>

<p style="margin-top: 1em">A change to cpanp-run-perl
resolves RT #55964
&lt;http://rt.cpan.org/Public/Bug/Display.html?id=55964&gt;
and RT #57106
&lt;http://rt.cpan.org/Public/Bug/Display.html?id=57106&gt;,
both <br>
of which related to failures to install distributions that
use &quot;Module::Install::DSL&quot; (5.12.2).</p>

<p style="margin-top: 1em">A dependency on Config was not
recognised as a core module dependency. This has been
fixed.</p>

<p style="margin-top: 1em">CPANPLUS now includes support
for META.json and MYMETA.json.</p>

<p style="margin-top: 1em">&Acirc;&middot;
CPANPLUS::Dist::Build has been upgraded from version 0.46 to
0.54.</p>

<p style="margin-top: 1em">&Acirc;&middot; Data::Dumper has
been upgraded from version 2.125 to 2.130_02.</p>

<p style="margin-top: 1em">The indentation used to be off
when $Data::Dumper::Terse was set. This has been fixed [perl
#73604].</p>

<p style="margin-top: 1em">This upgrade also fixes a crash
when using custom sort functions that might cause the stack
to change [perl #74170].</p>

<p style="margin-top: 1em">Dumpxs no longer crashes with
globs returned by *$io_ref [perl #72332].</p>

<p style="margin-top: 1em">&Acirc;&middot; DB_File has been
upgraded from version 1.820 to 1.821.</p>

<p style="margin-top: 1em">&Acirc;&middot; DBM_Filter has
been upgraded from version 0.03 to 0.04.</p>

<p style="margin-top: 1em">&Acirc;&middot; Devel::DProf has
been upgraded from version 20080331.00 to 20110228.00.</p>

<p style="margin-top: 1em">Merely loading Devel::DProf now
no longer triggers profiling to start. Both &quot;use
Devel::DProf&quot; and &quot;perl -d:DProf ...&quot; behave
as before and start the profiler.</p>

<p style="margin-top: 1em">NOTE: Devel::DProf is deprecated
and will be removed from a future version of Perl. We
strongly recommend that you install and use Devel::NYTProf
instead, as it offers <br>
significantly improved profiling and reporting.</p>

<p style="margin-top: 1em">&Acirc;&middot; Devel::Peek has
been upgraded from version 1.04 to 1.07.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Devel::SelfStubber has been upgraded from version 1.03 to
1.05.</p>

<p style="margin-top: 1em">&Acirc;&middot; diagnostics has
been upgraded from version 1.19 to 1.22.</p>

<p style="margin-top: 1em">It now renders pod links
slightly better, and has been taught to find descriptions
for messages that share their descriptions with other
messages.</p>

<p style="margin-top: 1em">&Acirc;&middot; Digest::MD5 has
been upgraded from version 2.39 to 2.51.</p>

<p style="margin-top: 1em">It is now safe to use this
module in combination with threads.</p>

<p style="margin-top: 1em">&Acirc;&middot; Digest::SHA has
been upgraded from version 5.47 to 5.61.</p>

<p style="margin-top: 1em">&quot;shasum&quot; now more
closely mimics sha1sum(1)/md5sum(1).</p>

<p style="margin-top: 1em">&quot;addfile&quot; accepts all
POSIX filenames.</p>

<p style="margin-top: 1em">New SHA-512/224 and SHA-512/256
transforms (ref. NIST Draft FIPS 180-4 [February 2011])</p>

<p style="margin-top: 1em">&Acirc;&middot; DirHandle has
been upgraded from version 1.03 to 1.04.</p>

<p style="margin-top: 1em">&Acirc;&middot; Dumpvalue has
been upgraded from version 1.13 to 1.16.</p>

<p style="margin-top: 1em">&Acirc;&middot; DynaLoader has
been upgraded from version 1.10 to 1.13.</p>

<p style="margin-top: 1em">It fixes a buffer overflow when
passed a very long file name.</p>

<p style="margin-top: 1em">It no longer inherits from
AutoLoader; hence it no longer produces weird error messages
for unsuccessful method calls on classes that inherit from
DynaLoader [perl #84358].</p>

<p style="margin-top: 1em">&Acirc;&middot; Encode has been
upgraded from version 2.39 to 2.42.</p>

<p style="margin-top: 1em">Now, all 66 Unicode
non-characters are treated the same way U+FFFF has always
been treated: in cases when it was disallowed, all 66 are
disallowed, and in cases where it <br>
warned, all 66 warn.</p>

<p style="margin-top: 1em">&Acirc;&middot; Env has been
upgraded from version 1.01 to 1.02.</p>

<p style="margin-top: 1em">&Acirc;&middot; Errno has been
upgraded from version 1.11 to 1.13.</p>

<p style="margin-top: 1em">The implementation of Errno has
been refactored to use about 55% less memory.</p>

<p style="margin-top: 1em">On some platforms with unusual
header files, like Win32 gcc(1) using &quot;mingw64&quot;
headers, some constants that weren&rsquo;t actually error
numbers have been exposed by Errno. This <br>
has been fixed [perl #77416].</p>

<p style="margin-top: 1em">&Acirc;&middot; Exporter has
been upgraded from version 5.64_01 to 5.64_03.</p>

<p style="margin-top: 1em">Exporter no longer overrides
$SIG{__WARN__} [perl #74472]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::CBuilder has been upgraded from version 0.27 to
0.280203.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::Command has been upgraded from version 1.16 to
1.17.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::Constant has been upgraded from 0.22 to 0.23.</p>

<p style="margin-top: 1em">The AUTOLOAD helper code
generated by &quot;ExtUtils::Constant::ProxySubs&quot; can
now croak() for missing constants, or generate a complete
&quot;AUTOLOAD&quot; subroutine in XS, allowing <br>
simplification of many modules that use it (Fcntl,
File::Glob, GDBM_File, I18N::Langinfo, POSIX, Socket).</p>

<p style="margin-top: 1em">ExtUtils::Constant::ProxySubs
can now optionally push the names of all constants onto the
package&rsquo;s @EXPORT_OK.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::Install has been upgraded from version 1.55 to
1.56.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::MakeMaker has been upgraded from version 6.56 to
6.57_05.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::Manifest has been upgraded from version 1.57 to
1.58.</p>

<p style="margin-top: 1em">&Acirc;&middot;
ExtUtils::ParseXS has been upgraded from version 2.21 to
2.2210.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fcntl has been
upgraded from version 1.06 to 1.11.</p>

<p style="margin-top: 1em">&Acirc;&middot; File::Basename
has been upgraded from version 2.78 to 2.82.</p>

<p style="margin-top: 1em">&Acirc;&middot; File::CheckTree
has been upgraded from version 4.4 to 4.41.</p>

<p style="margin-top: 1em">&Acirc;&middot; File::Copy has
been upgraded from version 2.17 to 2.21.</p>

<p style="margin-top: 1em">&Acirc;&middot; File::DosGlob
has been upgraded from version 1.01 to 1.04.</p>

<p style="margin-top: 1em">It allows patterns containing
literal parentheses: they no longer need to be escaped. On
Windows, it no longer adds an extra ./ to file names
returned when the pattern is a <br>
relative glob with a drive specification, like C:*.pl [perl
#71712].</p>

<p style="margin-top: 1em">&Acirc;&middot; File::Fetch has
been upgraded from version 0.24 to 0.32.</p>

<p style="margin-top: 1em">HTTP::Lite is now supported for
the &quot;http&quot; scheme.</p>

<p style="margin-top: 1em">The fetch(1) utility is
supported on FreeBSD, NetBSD, and Dragonfly BSD for the
&quot;http&quot; and &quot;ftp&quot; schemes.</p>

<p style="margin-top: 1em">&Acirc;&middot; File::Find has
been upgraded from version 1.15 to 1.19.</p>

<p style="margin-top: 1em">It improves handling of
backslashes on Windows, so that paths like C:irfile are no
longer generated [perl #71710].</p>

<p style="margin-top: 1em">&Acirc;&middot; File::Glob has
been upgraded from version 1.07 to 1.12.</p>

<p style="margin-top: 1em">&Acirc;&middot; File::Spec has
been upgraded from version 3.31 to 3.33.</p>

<p style="margin-top: 1em">Several portability fixes were
made in File::Spec::VMS: a colon is now recognized as a
delimiter in native filespecs; caret-escaped delimiters are
recognized for better <br>
handling of extended filespecs; catpath() returns an empty
directory rather than the current directory if the input
directory name is empty; and abs2rel() properly handles <br>
Unix-style input (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; File::stat has
been upgraded from 1.02 to 1.05.</p>

<p style="margin-top: 1em">The &quot;-x&quot; and
&quot;-X&quot; file test operators now work correctly when
run by the superuser.</p>

<p style="margin-top: 1em">&Acirc;&middot; Filter::Simple
has been upgraded from version 0.84 to 0.86.</p>

<p style="margin-top: 1em">&Acirc;&middot; GDBM_File has
been upgraded from 1.10 to 1.14.</p>

<p style="margin-top: 1em">This fixes a memory leak when
DBM filters are used.</p>

<p style="margin-top: 1em">&Acirc;&middot; Hash::Util has
been upgraded from 0.07 to 0.11.</p>

<p style="margin-top: 1em">Hash::Util no longer emits
spurious &quot;uninitialized&quot; warnings when recursively
locking hashes that have undefined values [perl #74280].</p>

<p style="margin-top: 1em">&Acirc;&middot;
Hash::Util::FieldHash has been upgraded from version 1.04 to
1.09.</p>

<p style="margin-top: 1em">&Acirc;&middot; I18N::Collate
has been upgraded from version 1.01 to 1.02.</p>

<p style="margin-top: 1em">&Acirc;&middot; I18N::Langinfo
has been upgraded from version 0.03 to 0.08.</p>

<p style="margin-top: 1em">langinfo() now defaults to using
$_ if there is no argument given, just as the documentation
has always claimed.</p>

<p style="margin-top: 1em">&Acirc;&middot; I18N::LangTags
has been upgraded from version 0.35 to 0.35_01.</p>

<p style="margin-top: 1em">&Acirc;&middot; if has been
upgraded from version 0.05 to 0.0601.</p>

<p style="margin-top: 1em">&Acirc;&middot; IO has been
upgraded from version 1.25_02 to 1.25_04.</p>

<p style="margin-top: 1em">This version of IO includes a
new IO::Select, which now allows IO::Handle objects (and
objects in derived classes) to be removed from an IO::Select
set even if the underlying <br>
file descriptor is closed or invalid.</p>

<p style="margin-top: 1em">&Acirc;&middot; IPC::Cmd has
been upgraded from version 0.54 to 0.70.</p>

<p style="margin-top: 1em">Resolves an issue with splitting
Win32 command lines. An argument consisting of the single
character &quot;0&quot; used to be omitted (CPAN RT
#62961).</p>

<p style="margin-top: 1em">&Acirc;&middot; IPC::Open3 has
been upgraded from 1.05 to 1.09.</p>

<p style="margin-top: 1em">open3() now produces an error if
the &quot;exec&quot; call fails, allowing this condition to
be distinguished from a child process that exited with a
non-zero status [perl #72016].</p>

<p style="margin-top: 1em">The internal xclose() routine
now knows how to handle file descriptors as documented, so
duplicating &quot;STDIN&quot; in a child process using its
file descriptor now works [perl <br>
#76474].</p>

<p style="margin-top: 1em">&Acirc;&middot; IPC::SysV has
been upgraded from version 2.01 to 2.03.</p>

<p style="margin-top: 1em">&Acirc;&middot; lib has been
upgraded from version 0.62 to 0.63.</p>

<p style="margin-top: 1em">&Acirc;&middot; Locale::Maketext
has been upgraded from version 1.14 to 1.19.</p>

<p style="margin-top: 1em">Locale::Maketext now supports
external caches.</p>

<p style="margin-top: 1em">This upgrade also fixes an
infinite loop in
&quot;Locale::Maketext::Guts::_compile()&quot; when working
with tainted values (CPAN RT #40727).</p>

<p style="margin-top: 1em">&quot;-&gt;maketext&quot; calls
now back up and restore $@ so error messages are not
suppressed (CPAN RT #34182).</p>

<p style="margin-top: 1em">&Acirc;&middot; Log::Message has
been upgraded from version 0.02 to 0.04.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Log::Message::Simple has been upgraded from version 0.06 to
0.08.</p>

<p style="margin-top: 1em">&Acirc;&middot; Math::BigInt has
been upgraded from version 1.89_01 to 1.994.</p>

<p style="margin-top: 1em">This fixes, among other things,
incorrect results when computing binomial coefficients [perl
#77640].</p>

<p style="margin-top: 1em">It also prevents
&quot;sqrt($int)&quot; from crashing under &quot;use
bigrat&quot;. [perl #73534].</p>

<p style="margin-top: 1em">&Acirc;&middot;
Math::BigInt::FastCalc has been upgraded from version 0.19
to 0.28.</p>

<p style="margin-top: 1em">&Acirc;&middot; Math::BigRat has
been upgraded from version 0.24 to 0.26_02.</p>

<p style="margin-top: 1em">&Acirc;&middot; Memoize has been
upgraded from version 1.01_03 to 1.02.</p>

<p style="margin-top: 1em">&Acirc;&middot; MIME::Base64 has
been upgraded from 3.08 to 3.13.</p>

<p style="margin-top: 1em">Includes new functions to
calculate the length of encoded and decoded base64
strings.</p>

<p style="margin-top: 1em">Now provides encode_base64url()
and decode_base64url() functions to process the base64
scheme for &quot;URL applications&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; Module::Build
has been upgraded from version 0.3603 to 0.3800.</p>

<p style="margin-top: 1em">A notable change is the
deprecation of several modules. Module::Build::Version has
been deprecated and Module::Build now relies on the version
pragma directly. <br>
Module::Build::ModuleInfo has been deprecated in favor of a
standalone copy called Module::Metadata. Module::Build::YAML
has been deprecated in favor of CPAN::Meta::YAML.</p>

<p style="margin-top: 1em">Module::Build now also generates
META.json and MYMETA.json files in accordance with version 2
of the CPAN distribution metadata specification,
CPAN::Meta::Spec. The older <br>
format META.yml and MYMETA.yml files are still
generated.</p>

<p style="margin-top: 1em">&Acirc;&middot; Module::CoreList
has been upgraded from version 2.29 to 2.47.</p>

<p style="margin-top: 1em">Besides listing the updated core
modules of this release, it also stops listing the
&quot;Filespec&quot; module. That module never existed in
core. The scripts generating <br>
Module::CoreList confused it with VMS::Filespec, which
actually is a core module as of Perl 5.8.7.</p>

<p style="margin-top: 1em">&Acirc;&middot; Module::Load has
been upgraded from version 0.16 to 0.18.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Module::Load::Conditional has been upgraded from version
0.34 to 0.44.</p>

<p style="margin-top: 1em">&Acirc;&middot; The mro pragma
has been upgraded from version 1.02 to 1.07.</p>

<p style="margin-top: 1em">&Acirc;&middot; NDBM_File has
been upgraded from version 1.08 to 1.12.</p>

<p style="margin-top: 1em">This fixes a memory leak when
DBM filters are used.</p>

<p style="margin-top: 1em">&Acirc;&middot; Net::Ping has
been upgraded from version 2.36 to 2.38.</p>

<p style="margin-top: 1em">&Acirc;&middot; NEXT has been
upgraded from version 0.64 to 0.65.</p>

<p style="margin-top: 1em">&Acirc;&middot; Object::Accessor
has been upgraded from version 0.36 to 0.38.</p>

<p style="margin-top: 1em">&Acirc;&middot; ODBM_File has
been upgraded from version 1.07 to 1.10.</p>

<p style="margin-top: 1em">This fixes a memory leak when
DBM filters are used.</p>

<p style="margin-top: 1em">&Acirc;&middot; Opcode has been
upgraded from version 1.15 to 1.18.</p>

<p style="margin-top: 1em">&Acirc;&middot; The overload
pragma has been upgraded from 1.10 to 1.13.</p>

<p style="margin-top: 1em">&quot;overload::Method&quot; can
now handle subroutines that are themselves blessed into
overloaded classes [perl #71998].</p>

<p style="margin-top: 1em">The documentation has greatly
improved. See &quot;Documentation&quot; below.</p>

<p style="margin-top: 1em">&Acirc;&middot; Params::Check
has been upgraded from version 0.26 to 0.28.</p>

<p style="margin-top: 1em">&Acirc;&middot; The parent
pragma has been upgraded from version 0.223 to 0.225.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Parse::CPAN::Meta has been upgraded from version 1.40 to
1.4401.</p>

<p style="margin-top: 1em">The latest Parse::CPAN::Meta can
now read YAML and JSON files using CPAN::Meta::YAML and
JSON::PP, which are now part of the Perl core.</p>

<p style="margin-top: 1em">&Acirc;&middot; PerlIO::encoding
has been upgraded from version 0.12 to 0.14.</p>

<p style="margin-top: 1em">&Acirc;&middot; PerlIO::scalar
has been upgraded from 0.07 to 0.11.</p>

<p style="margin-top: 1em">A read() after a seek() beyond
the end of the string no longer thinks it has data to read
[perl #78716].</p>

<p style="margin-top: 1em">&Acirc;&middot; PerlIO::via has
been upgraded from version 0.09 to 0.11.</p>

<p style="margin-top: 1em">&Acirc;&middot; Pod::Html has
been upgraded from version 1.09 to 1.11.</p>

<p style="margin-top: 1em">&Acirc;&middot; Pod::LaTeX has
been upgraded from version 0.58 to 0.59.</p>

<p style="margin-top: 1em">&Acirc;&middot; Pod::Perldoc has
been upgraded from version 3.15_02 to 3.15_03.</p>

<p style="margin-top: 1em">&Acirc;&middot; Pod::Simple has
been upgraded from version 3.13 to 3.16.</p>

<p style="margin-top: 1em">&Acirc;&middot; POSIX has been
upgraded from 1.19 to 1.24.</p>

<p style="margin-top: 1em">It now includes constants for
POSIX signal constants.</p>

<p style="margin-top: 1em">&Acirc;&middot; The re pragma
has been upgraded from version 0.11 to 0.18.</p>

<p style="margin-top: 1em">The &quot;use re
&rsquo;/flags&rsquo;&quot; subpragma is new.</p>

<p style="margin-top: 1em">The regmust() function used to
crash when called on a regular expression belonging to a
pluggable engine. Now it croaks instead.</p>

<p style="margin-top: 1em">regmust() no longer leaks
memory.</p>

<p style="margin-top: 1em">&Acirc;&middot; Safe has been
upgraded from version 2.25 to 2.29.</p>

<p style="margin-top: 1em">Coderefs returned by reval() and
rdo() are now wrapped via wrap_code_refs() (5.12.1).</p>

<p style="margin-top: 1em">This fixes a possible infinite
loop when looking for coderefs.</p>

<p style="margin-top: 1em">It adds several
&quot;version::vxs::*&quot; routines to the default
share.</p>

<p style="margin-top: 1em">&Acirc;&middot; SDBM_File has
been upgraded from version 1.06 to 1.09.</p>

<p style="margin-top: 1em">&Acirc;&middot; SelfLoader has
been upgraded from 1.17 to 1.18.</p>

<p style="margin-top: 1em">It now works in taint mode [perl
#72062].</p>

<p style="margin-top: 1em">&Acirc;&middot; The sigtrap
pragma has been upgraded from version 1.04 to 1.05.</p>

<p style="margin-top: 1em">It no longer tries to modify
read-only arguments when generating a backtrace [perl
#72340].</p>

<p style="margin-top: 1em">&Acirc;&middot; Socket has been
upgraded from version 1.87 to 1.94.</p>

<p style="margin-top: 1em">See &quot;Improved IPv6
support&quot; above.</p>

<p style="margin-top: 1em">&Acirc;&middot; Storable has
been upgraded from version 2.22 to 2.27.</p>

<p style="margin-top: 1em">Includes performance improvement
for overloaded classes.</p>

<p style="margin-top: 1em">This adds support for
serialising code references that contain UTF-8 strings
correctly. The Storable minor version number changed as a
result, meaning that Storable users <br>
who set $Storable::accept_future_minor to a
&quot;FALSE&quot; value will see errors (see &quot;FORWARD
COMPATIBILITY&quot; in Storable for more details).</p>

<p style="margin-top: 1em">Freezing no longer gets confused
if the Perl stack gets reallocated during freezing [perl
#80074].</p>

<p style="margin-top: 1em">&Acirc;&middot; Sys::Hostname
has been upgraded from version 1.11 to 1.16.</p>

<p style="margin-top: 1em">&Acirc;&middot; Term::ANSIColor
has been upgraded from version 2.02 to 3.00.</p>

<p style="margin-top: 1em">&Acirc;&middot; Term::UI has
been upgraded from version 0.20 to 0.26.</p>

<p style="margin-top: 1em">&Acirc;&middot; Test::Harness
has been upgraded from version 3.17 to 3.23.</p>

<p style="margin-top: 1em">&Acirc;&middot; Test::Simple has
been upgraded from version 0.94 to 0.98.</p>

<p style="margin-top: 1em">Among many other things,
subtests without a &quot;plan&quot; or &quot;no_plan&quot;
now have an implicit done_testing() added to them.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Thread::Semaphore has been upgraded from version 2.09 to
2.12.</p>

<p style="margin-top: 1em">It provides two new methods that
give more control over the decrementing of semaphores:
&quot;down_nb&quot; and &quot;down_force&quot;.</p>

<p style="margin-top: 1em">&Acirc;&middot; Thread::Queue
has been upgraded from version 2.11 to 2.12.</p>

<p style="margin-top: 1em">&Acirc;&middot; The threads
pragma has been upgraded from version 1.75 to 1.83.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
threads::shared pragma has been upgraded from version 1.32
to 1.37.</p>

<p style="margin-top: 1em">&Acirc;&middot; Tie::Hash has
been upgraded from version 1.03 to 1.04.</p>

<p style="margin-top: 1em">Calling
&quot;Tie::Hash-&gt;TIEHASH()&quot; used to loop forever.
Now it &quot;croak&quot;s.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Tie::Hash::NamedCapture has been upgraded from version 0.06
to 0.08.</p>

<p style="margin-top: 1em">&Acirc;&middot; Tie::RefHash has
been upgraded from version 1.38 to 1.39.</p>

<p style="margin-top: 1em">&Acirc;&middot; Time::HiRes has
been upgraded from version 1.9719 to 1.9721_01.</p>

<p style="margin-top: 1em">&Acirc;&middot; Time::Local has
been upgraded from version 1.1901_01 to 1.2000.</p>

<p style="margin-top: 1em">&Acirc;&middot; Time::Piece has
been upgraded from version 1.15_01 to 1.20_01.</p>

<p style="margin-top: 1em">&Acirc;&middot; Unicode::Collate
has been upgraded from version 0.52_01 to 0.73.</p>

<p style="margin-top: 1em">Unicode::Collate has been
updated to use Unicode 6.0.0.</p>

<p style="margin-top: 1em">Unicode::Collate::Locale now
supports a plethora of new locales: ar, be, bg,
de__phonebook, hu, hy, kk, mk, nso, om, tn, vi, hr, ig, ja,
ko, ru, sq, se, sr, to, uk, zh, <br>
zh__big5han, zh__gb2312han, zh__pinyin, and zh__stroke.</p>

<p style="margin-top: 1em">The following modules have been
added:</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::Big5 for
&quot;zh__big5han&quot; which makes tailoring of CJK Unified
Ideographs in the order of CLDR&rsquo;s big5han
ordering.</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::GB2312
for &quot;zh__gb2312han&quot; which makes tailoring of CJK
Unified Ideographs in the order of CLDR&rsquo;s gb2312han
ordering.</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::JISX0208
which makes tailoring of 6355 kanji (CJK Unified Ideographs)
in the JIS X 0208 order.</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::Korean
which makes tailoring of CJK Unified Ideographs in the order
of CLDR&rsquo;s Korean ordering.</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::Pinyin
for &quot;zh__pinyin&quot; which makes tailoring of CJK
Unified Ideographs in the order of CLDR&rsquo;s pinyin
ordering.</p>

<p style="margin-top: 1em">Unicode::Collate::CJK::Stroke
for &quot;zh__stroke&quot; which makes tailoring of CJK
Unified Ideographs in the order of CLDR&rsquo;s stroke
ordering.</p>

<p style="margin-top: 1em">This also sees the switch from
using the pure-Perl version of this module to the XS
version.</p>

<p style="margin-top: 1em">&Acirc;&middot;
Unicode::Normalize has been upgraded from version 1.03 to
1.10.</p>

<p style="margin-top: 1em">&Acirc;&middot; Unicode::UCD has
been upgraded from version 0.27 to 0.32.</p>

<p style="margin-top: 1em">A new function,
Unicode::UCD::num(), has been added. This function returns
the numeric value of the string passed it or
&quot;undef&quot; if the string in its entirety has no
&quot;safe&quot; <br>
numeric value. (For more detail, and for the definition of
&quot;safe&quot;, see &quot;num()&quot; in
Unicode::UCD.)</p>

<p style="margin-top: 1em">This upgrade also includes
several bug fixes:</p>

<p style="margin-top: 1em">charinfo() <br>
&Acirc;&middot; It is now updated to Unicode Version 6.0.0
with Corrigendum #8, excepting that, just as with Perl 5.14,
the code point at U+1F514 has no name.</p>

<p style="margin-top: 1em">&Acirc;&middot; Hangul syllable
code points have the correct names, and their decompositions
are always output without requiring Lingua::KO::Hangul::Util
to be installed.</p>

<p style="margin-top: 1em">&Acirc;&middot; CJK
(Chinese-Japanese-Korean) code points U+2A700 to U+2B734 and
U+2B740 to U+2B81D are now properly handled.</p>

<p style="margin-top: 1em">&Acirc;&middot; Numeric values
are now output for those CJK code points that have them.</p>

<p style="margin-top: 1em">&Acirc;&middot; Names output for
code points with multiple aliases are now the corrected
ones.</p>

<p style="margin-top: 1em">charscript() <br>
This now correctly returns &quot;Unknown&quot; instead of
&quot;undef&quot; for the script of a code point that
hasn&rsquo;t been assigned another one.</p>

<p style="margin-top: 1em">charblock() <br>
This now correctly returns &quot;No_Block&quot; instead of
&quot;undef&quot; for the block of a code point that
hasn&rsquo;t been assigned to another one.</p>

<p style="margin-top: 1em">&Acirc;&middot; The version
pragma has been upgraded from 0.82 to 0.88.</p>

<p style="margin-top: 1em">Because of a bug, now fixed, the
is_strict() and is_lax() functions did not work when
exported (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; The warnings
pragma has been upgraded from version 1.09 to 1.12.</p>

<p style="margin-top: 1em">Calling &quot;use warnings&quot;
without arguments is now significantly more efficient.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
warnings::register pragma has been upgraded from version
1.01 to 1.02.</p>

<p style="margin-top: 1em">It is now possible to register
warning categories other than the names of packages using
warnings::register. See perllexwarn(1) for more
information.</p>

<p style="margin-top: 1em">&Acirc;&middot; XSLoader has
been upgraded from version 0.10 to 0.13.</p>

<p style="margin-top: 1em">&Acirc;&middot; VMS::DCLsym has
been upgraded from version 1.03 to 1.05.</p>

<p style="margin-top: 1em">Two bugs have been fixed [perl
#84086]:</p>

<p style="margin-top: 1em">The symbol table name was lost
when tying a hash, due to a thinko in &quot;TIEHASH&quot;.
The result was that all tied hashes interacted with the
local symbol table.</p>

<p style="margin-top: 1em">Unless a symbol table name had
been explicitly specified in the call to the constructor,
querying the special key &quot;:LOCAL&quot; failed to
identify objects connected to the local <br>
symbol table.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Win32 module
has been upgraded from version 0.39 to 0.44.</p>

<p style="margin-top: 1em">This release has several new
functions: Win32::GetSystemMetrics(),
Win32::GetProductInfo(), Win32::GetOSDisplayName().</p>

<p style="margin-top: 1em">The names returned by
Win32::GetOSName() and Win32::GetOSDisplayName() have been
corrected.</p>

<p style="margin-top: 1em">&Acirc;&middot; XS::Typemap has
been upgraded from version 0.03 to 0.05.</p>

<p style="margin-top: 1em">Removed Modules and Pragmata
<br>
As promised in Perl 5.12.0&rsquo;s release notes, the
following modules have been removed from the core
distribution, and if needed should be installed from CPAN
instead.</p>

<p style="margin-top: 1em">&Acirc;&middot; Class::ISA has
been removed from the Perl core. Prior version was 0.36.</p>

<p style="margin-top: 1em">&Acirc;&middot; Pod::Plainer has
been removed from the Perl core. Prior version was 1.02.</p>

<p style="margin-top: 1em">&Acirc;&middot; Switch has been
removed from the Perl core. Prior version was 2.16.</p>

<p style="margin-top: 1em">The removal of Shell has been
deferred until after 5.14, as the implementation of Shell
shipped with 5.12.0 did not correctly issue the warning that
it was to be removed from <br>
core.</p>

<p style="margin-top: 1em">Documentation <br>
New Documentation <br>
perlgpl</p>

<p style="margin-top: 1em">perlgpl has been updated to
contain GPL version 1, as is included in the README
distributed with Perl (5.12.1).</p>

<p style="margin-top: 1em">Perl 5.12.x delta files</p>

<p style="margin-top: 1em">The perldelta files for Perl
5.12.1 to 5.12.3 have been added from the maintenance
branch: perl5121delta, perl5122delta, perl5123delta.</p>

<p style="margin-top: 1em">perlpodstyle</p>

<p style="margin-top: 1em">New style guide for POD
documentation, split mostly from the NOTES section of the
pod2man(1) manpage.</p>

<p style="margin-top: 1em">perlsource, perlinterp,
perlhacktut, and perlhacktips</p>

<p style="margin-top: 1em">See &quot;perlhack and
perlrepository revamp&quot;, below.</p>

<p style="margin-top: 1em">Changes to Existing
Documentation <br>
perlmodlib is now complete</p>

<p style="margin-top: 1em">The perlmodlib manpage that came
with Perl 5.12.0 was missing several modules due to a bug in
the script that generates the list. This has been fixed
[perl #74332] (5.12.1).</p>

<p style="margin-top: 1em">Replace incorrect tr/// table in
perlebcdic</p>

<p style="margin-top: 1em">perlebcdic contains a helpful
table to use in &quot;tr///&quot; to convert between EBCDIC
and Latin1/ASCII. The table was the inverse of the one it
describes, though the code that used <br>
the table worked correctly for the specific example
given.</p>

<p style="margin-top: 1em">The table has been corrected and
the sample code changed to correspond.</p>

<p style="margin-top: 1em">The table has also been changed
to hex from octal, and the recipes in the pod have been
altered to print out leading zeros to make all values the
same length.</p>

<p style="margin-top: 1em">Tricks for user-defined
casing</p>

<p style="margin-top: 1em">perlunicode now contains an
explanation of how to override, mangle and otherwise tweak
the way Perl handles upper-, lower- and other-case
conversions on Unicode data, and how to <br>
provide scoped changes to alter one&rsquo;s own code&rsquo;s
behaviour without stomping on anybody else&rsquo;s.</p>

<p style="margin-top: 1em">INSTALL explicitly states that
Perl requires a C89 compiler</p>

<p style="margin-top: 1em">This was already true, but
it&rsquo;s now Officially Stated For The Record
(5.12.2).</p>

<p style="margin-top: 1em">Explanation of &quot;&quot; and
&quot;O&quot; escapes</p>

<p style="margin-top: 1em">perlop has been updated with
more detailed explanation of these two character
escapes.</p>

<p style="margin-top: 1em">-0NNN switch</p>

<p style="margin-top: 1em">In perlrun, the behaviour of the
-0NNN switch for -0400 or higher has been clarified
(5.12.2).</p>

<p style="margin-top: 1em">Maintenance policy</p>

<p style="margin-top: 1em">perlpolicy now contains the
policy on what patches are acceptable for maintenance
branches (5.12.1).</p>

<p style="margin-top: 1em">Deprecation policy</p>

<p style="margin-top: 1em">perlpolicy now contains the
policy on compatibility and deprecation along with
definitions of terms like &quot;deprecation&quot;
(5.12.2).</p>

<p style="margin-top: 1em">New descriptions in perldiag</p>

<p style="margin-top: 1em">The following existing
diagnostics are now documented:</p>

<p style="margin-top: 1em">&Acirc;&middot; Ambiguous use of
%c resolved as operator %c</p>

<p style="margin-top: 1em">&Acirc;&middot; Ambiguous use of
%c{%s} resolved to %c%s</p>

<p style="margin-top: 1em">&Acirc;&middot; Ambiguous use of
%c{%s[...]} resolved to %c%s[...]</p>

<p style="margin-top: 1em">&Acirc;&middot; Ambiguous use of
%c{%s{...}} resolved to %c%s{...}</p>

<p style="margin-top: 1em">&Acirc;&middot; Ambiguous use of
-%s resolved as -&amp;%s()</p>

<p style="margin-top: 1em">&Acirc;&middot; Invalid strict
version format (%s)</p>

<p style="margin-top: 1em">&Acirc;&middot; Invalid version
format (%s)</p>

<p style="margin-top: 1em">&Acirc;&middot; Invalid version
object</p>

<p style="margin-top: 1em">perlbook</p>

<p style="margin-top: 1em">perlbook has been expanded to
cover many more popular books.</p>

<p style="margin-top: 1em">&quot;SvTRUE&quot; macro</p>

<p style="margin-top: 1em">The documentation for the
&quot;SvTRUE&quot; macro in perlapi was simply wrong in
stating that get-magic is not processed. It has been
corrected.</p>

<p style="margin-top: 1em">op manipulation functions</p>

<p style="margin-top: 1em">Several API functions that
process optrees have been newly documented.</p>

<p style="margin-top: 1em">perlvar revamp</p>

<p style="margin-top: 1em">perlvar reorders the variables
and groups them by topic. Each variable introduced after
Perl 5.000 notes the first version in which it is available.
perlvar also has a new <br>
section for deprecated variables to note when they were
removed.</p>

<p style="margin-top: 1em">Array and hash slices in scalar
context</p>

<p style="margin-top: 1em">These are now documented in
perldata.</p>

<p style="margin-top: 1em">&quot;use locale&quot; and
formats</p>

<p style="margin-top: 1em">perlform and perllocale have
been corrected to state that &quot;use locale&quot; affects
formats.</p>

<p style="margin-top: 1em">overload</p>

<p style="margin-top: 1em">overload&rsquo;s documentation
has practically undergone a rewrite. It is now much more
straightforward and clear.</p>

<p style="margin-top: 1em">perlhack and perlrepository
revamp</p>

<p style="margin-top: 1em">The perlhack document is now
much shorter, and focuses on the Perl 5 development process
and submitting patches to Perl. The technical content has
been moved to several new <br>
documents, perlsource, perlinterp, perlhacktut, and
perlhacktips. This technical content has been only lightly
edited.</p>

<p style="margin-top: 1em">The perlrepository document has
been renamed to perlgit. This new document is just a how-to
on using git with the Perl source code. Any other content
that used to be in <br>
perlrepository has been moved to perlhack.</p>

<p style="margin-top: 1em">Time::Piece examples</p>

<p style="margin-top: 1em">Examples in perlfaq4 have been
updated to show the use of Time::Piece.</p>

<p style="margin-top: 1em">Diagnostics <br>
The following additions or changes have been made to
diagnostic output, including warnings and fatal error
messages. For the complete list of diagnostic messages, see
perldiag.</p>

<p style="margin-top: 1em">New Diagnostics <br>
New Errors</p>

<p style="margin-top: 1em">Closure prototype called <br>
This error occurs when a subroutine reference passed to an
attribute handler is called, if the subroutine is a closure
[perl #68560].</p>

<p style="margin-top: 1em">Insecure user-defined property
%s <br>
Perl detected tainted data when trying to compile a regular
expression that contains a call to a user-defined character
property function, meaning &quot;{IsFoo}&quot; or
&quot;{InFoo}&quot;. <br>
See &quot;User-Defined Character Properties&quot; in
perlunicode and perlsec.</p>

<p style="margin-top: 1em">panic: gp_free failed to free
glob pointer - something is repeatedly re-creating entries
<br>
This new error is triggered if a destructor called on an
object in a typeglob that is being freed creates a new
typeglob entry containing an object with a destructor that
<br>
creates a new entry containing an object etc.</p>

<p style="margin-top: 1em">Parsing code internal error (%s)
<br>
This new fatal error is produced when parsing code supplied
by an extension violates the parser&rsquo;s API in a
detectable way.</p>

<p style="margin-top: 1em">refcnt: fd %d%s <br>
This new error only occurs if a internal consistency check
fails when a pipe is about to be closed.</p>

<p style="margin-top: 1em">Regexp modifier &quot;/%c&quot;
may not appear twice <br>
The regular expression pattern has one of the mutually
exclusive modifiers repeated.</p>

<p style="margin-top: 1em">Regexp modifiers &quot;/%c&quot;
and &quot;/%c&quot; are mutually exclusive <br>
The regular expression pattern has more than one of the
mutually exclusive modifiers.</p>

<p style="margin-top: 1em">Using !~ with %s doesn&rsquo;t
make sense <br>
This error occurs when &quot;!~&quot; is used with
&quot;s///r&quot; or &quot;y///r&quot;.</p>

<p style="margin-top: 1em">New Warnings &quot; i s d e p r
e c</p>

<p style="margin-top: 1em">&quot;a t e d ; u s e &quot;
<br>
&quot;0 o <br>
Use of an unescaped &quot;{&quot; immediately following a
&quot;r0</p>

<p style="margin-top: 1em">Operation &quot;%s&quot; returns
its argument for ... <br>
Performing an operation requiring Unicode semantics (such as
case-folding) on a Unicode surrogate or a non-Unicode
character now triggers this warning.</p>

<p style="margin-top: 1em">Use of qw(...) as parentheses is
deprecated <br>
See &quot;Use of qw(...) as parentheses&quot;, above, for
details.</p>

<p style="margin-top: 1em">Changes to Existing Diagnostics
<br>
&Acirc;&middot; The &quot;Variable $foo is not
imported&quot; warning that precedes a &quot;strict
&rsquo;vars&rsquo;&quot; error has now been assigned the
&quot;misc&quot; category, so that &quot;no warnings&quot;
will suppress it [perl <br>
#73712].</p>

<p style="margin-top: 1em">&Acirc;&middot; warn() and die()
now produce &quot;Wide character&quot; warnings when fed a
character outside the byte range if &quot;STDERR&quot; is a
byte-sized handle.</p>

<p style="margin-top: 1em">&Acirc;&middot; The &quot;Layer
does not match this perl&quot; error message has been
replaced with these more helpful messages [perl #73754]:</p>

<p style="margin-top: 1em">&Acirc;&middot; PerlIO layer
function table size (%d) does not match size expected by
this perl (%d)</p>

<p style="margin-top: 1em">&Acirc;&middot; PerlIO layer
instance size (%d) does not match size expected by this perl
(%d)</p>

<p style="margin-top: 1em">&Acirc;&middot; The &quot;Found
= in conditional&quot; warning that is emitted when a
constant is assigned to a variable in a condition is now
withheld if the constant is actually a subroutine or one
<br>
generated by &quot;use constant&quot;, since the value of
the constant may not be known at the time the program is
written [perl #77762].</p>

<p style="margin-top: 1em">&Acirc;&middot; Previously, if
none of the gethostbyaddr(), gethostbyname() and
gethostent() functions were implemented on a given platform,
they would all die with the message &quot;Unsupported <br>
socket function &rsquo;gethostent&rsquo; called&quot;, with
analogous messages for getnet*() and getserv*(). This has
been corrected.</p>

<p style="margin-top: 1em">&Acirc;&middot; The warning
message about unrecognized regular expression escapes passed
through has been changed to include any literal
&quot;{&quot; following the two-character escape. For
example, <br>
&quot;q{&quot; is now emitted instead of &quot;q&quot;.</p>

<p style="margin-top: 1em">Utility Changes <br>
perlbug(1)</p>

<p style="margin-top: 1em">&Acirc;&middot; perlbug now
looks in the EMAIL environment variable for a return address
if the REPLY-TO and REPLYTO variables are empty.</p>

<p style="margin-top: 1em">&Acirc;&middot; perlbug did not
previously generate a &quot;From:&quot; header, potentially
resulting in dropped mail; it now includes that header.</p>

<p style="margin-top: 1em">&Acirc;&middot; The user&rsquo;s
address is now used as the Return-Path.</p>

<p style="margin-top: 1em">Many systems these days
don&rsquo;t have a valid Internet domain name, and
perlbug@perl.org does not accept email with a return-path
that does not resolve. So the user&rsquo;s address <br>
is now passed to sendmail so it&rsquo;s less likely to get
stuck in a mail queue somewhere [perl #82996].</p>

<p style="margin-top: 1em">&Acirc;&middot; perlbug now
always gives the reporter a chance to change the email
address it guesses for them (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; perlbug should
no longer warn about uninitialized values when using the -d
and -v options (5.12.2).</p>

<p style="margin-top: 1em">perl5db.pl</p>

<p style="margin-top: 1em">&Acirc;&middot; The remote
terminal works after forking and spawns new sessions, one
per forked process.</p>

<p style="margin-top: 1em">ptargrep</p>

<p style="margin-top: 1em">&Acirc;&middot; ptargrep is a
new utility to apply pattern matching to the contents of
files in a tar archive. It comes with
&quot;Archive::Tar&quot;.</p>

<p style="margin-top: 1em">Configuration and Compilation
<br>
See also &quot;Naming fixes in Policy_sh.SH may invalidate
Policy.sh&quot;, above.</p>

<p style="margin-top: 1em">&Acirc;&middot; CCINCDIR and
CCLIBDIR for the mingw64 cross-compiler are now correctly
under $(CCHOME)ngwinclude and rather than immediately below
$(CCHOME).</p>

<p style="margin-top: 1em">This means the
&quot;incpath&quot;, &quot;libpth&quot;,
&quot;ldflags&quot;, &quot;lddlflags&quot; and
&quot;ldflags_nolargefiles&quot; values in Config.pm and
Config_heavy.pl are now set correctly.</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;make
test.valgrind&quot; has been adjusted to account for
cpan/dist/ext separation.</p>

<p style="margin-top: 1em">&Acirc;&middot; On compilers
that support it, -Wwrite-strings is now added to cflags by
default.</p>

<p style="margin-top: 1em">&Acirc;&middot; The Encode
module can now (once again) be included in a static Perl
build. The special-case handling for this situation got
broken in Perl 5.11.0, and has now been repaired.</p>

<p style="margin-top: 1em">&Acirc;&middot; The previous
default size of a PerlIO buffer (4096 bytes) has been
increased to the larger of 8192 bytes and your local BUFSIZ.
Benchmarks show that doubling this decade-old <br>
default increases read and write performance by around 25%
to 50% when using the default layers of perlio on top of
unix. To choose a non-default size, such as to get back <br>
the old value or to obtain an even larger value, configure
with:</p>

<p style="margin-top: 1em">./Configure
-Accflags=-DPERLIOBUF_DEFAULT_BUFSIZ=N</p>

<p style="margin-top: 1em">where N is the desired size in
bytes; it should probably be a multiple of your page
size.</p>

<p style="margin-top: 1em">&Acirc;&middot; An
&quot;incompatible operand types&quot; error in ternary
expressions when building with &quot;clang&quot; has been
fixed (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl now skips
setuid File::Copy tests on partitions it detects mounted as
&quot;nosuid&quot; (5.12.2).</p>

<p style="margin-top: 1em">Platform Support <br>
New Platforms <br>
AIX Perl now builds on AIX 4.2 (5.12.1).</p>

<p style="margin-top: 1em">Discontinued Platforms <br>
Apollo DomainOS <br>
The last vestiges of support for this platform have been
excised from the Perl distribution. It was officially
discontinued in version 5.12.0. It had not worked for years
<br>
before that.</p>

<p style="margin-top: 1em">MacOS Classic <br>
The last vestiges of support for this platform have been
excised from the Perl distribution. It was officially
discontinued in an earlier version.</p>

<p style="margin-top: 1em">Platform-Specific Notes <br>
AIX</p>

<p style="margin-top: 1em">&Acirc;&middot; README.aix has
been updated with information about the XL C/C++ V11
compiler suite (5.12.2).</p>

<p style="margin-top: 1em">ARM</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;d_u32align&quot; configuration probe on ARM has been
fixed (5.12.2).</p>

<p style="margin-top: 1em">Cygwin</p>

<p style="margin-top: 1em">&Acirc;&middot; MakeMaker has
been updated to build manpages on cygwin.</p>

<p style="margin-top: 1em">&Acirc;&middot; Improved rebase
behaviour</p>

<p style="margin-top: 1em">If a DLL is updated on cygwin
the old imagebase address is reused. This solves most rebase
errors, especially when updating on core DLL&rsquo;s. See
<br>

http://www.tishler.net/jason/software/rebase/rebase-2.4.2.README
&lt;http://www.tishler.net/jason/software/rebase/rebase-2.4.2.README&gt;
for more information.</p>

<p style="margin-top: 1em">&Acirc;&middot; Support for the
standard cygwin dll prefix (needed for FFIs)</p>

<p style="margin-top: 1em">&Acirc;&middot; Updated build
hints file</p>

<p style="margin-top: 1em">FreeBSD 7</p>

<p style="margin-top: 1em">&Acirc;&middot; FreeBSD 7 no
longer contains /usr/bin/objformat. At build time, Perl now
skips the objformat check for versions 7 and higher and
assumes ELF (5.12.1).</p>

<p style="margin-top: 1em">HP-UX</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl now allows
-Duse64bitint without promoting to &quot;use64bitall&quot;
on HP-UX (5.12.1).</p>

<p style="margin-top: 1em">IRIX</p>

<p style="margin-top: 1em">&Acirc;&middot; Conversion of
strings to floating-point numbers is now more accurate on
IRIX systems [perl #32380].</p>

<p style="margin-top: 1em">Mac OS X</p>

<p style="margin-top: 1em">&Acirc;&middot; Early versions
of Mac OS X (Darwin) had buggy implementations of the
setregid(), setreuid(), setrgid(,) and setruid() functions,
so Perl would pretend they did not exist.</p>

<p style="margin-top: 1em">These functions are now
recognised on Mac OS 10.5 (Leopard; Darwin 9) and higher, as
they have been fixed [perl #72990].</p>

<p style="margin-top: 1em">MirBSD</p>

<p style="margin-top: 1em">&Acirc;&middot; Previously if
you built Perl with a shared libperl.so on MirBSD (the
default config), it would work up to the installation;
however, once installed, it would be unable to <br>
find libperl. Path handling is now treated as in the other
BSD dialects.</p>

<p style="margin-top: 1em">NetBSD</p>

<p style="margin-top: 1em">&Acirc;&middot; The NetBSD hints
file has been changed to make the system malloc the
default.</p>

<p style="margin-top: 1em">OpenBSD</p>

<p style="margin-top: 1em">&Acirc;&middot; OpenBSD &gt; 3.7
has a new malloc implementation which is mmap-based, and as
such can release memory back to the OS; however,
Perl&rsquo;s use of this malloc causes a substantial <br>
slowdown, so we now default to using Perl&rsquo;s malloc
instead [perl #75742].</p>

<p style="margin-top: 1em">OpenVOS</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl now builds
again with OpenVOS (formerly known as Stratus VOS) [perl
#78132] (5.12.3).</p>

<p style="margin-top: 1em">Solaris</p>

<p style="margin-top: 1em">&Acirc;&middot; DTrace is now
supported on Solaris. There used to be build failures, but
these have been fixed [perl #73630] (5.12.3).</p>

<p style="margin-top: 1em">VMS</p>

<p style="margin-top: 1em">&Acirc;&middot; Extension
building on older (pre 7.3-2) VMS systems was broken because
configure.com hit the DCL symbol length limit of 1K. We now
work within this limit when assembling the <br>
list of extensions in the core build (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; We fixed
configuring and building Perl with -Uuseperlio (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;PerlIOUnix_open&quot; now honours the default
permissions on VMS.</p>

<p style="margin-top: 1em">When &quot;perlio&quot; became
the default and &quot;unix&quot; became the default bottom
layer, the most common path for creating files from Perl
became &quot;PerlIOUnix_open&quot;, which has always <br>
explicitly used 0666 as the permission mask. This prevents
inheriting permissions from RMS defaults and ACLs, so to
avoid that problem, we now pass 0777 to open(). In the <br>
VMS CRTL, 0777 has a special meaning over and above
intersecting with the current umask; specifically, it allows
Unix syscalls to preserve native default permissions <br>
(5.12.3).</p>

<p style="margin-top: 1em">&Acirc;&middot; The shortening
of symbols longer than 31 characters in the core C sources
and in extensions is now by default done by the C compiler
rather than by xsubpp (which could only <br>
do so for generated symbols in XS code). You can reenable
xsubpp&rsquo;s symbol shortening by configuring with
-Uuseshortenedsymbols, but you&rsquo;ll have some work to do
to get the <br>
core sources to compile.</p>

<p style="margin-top: 1em">&Acirc;&middot; Record-oriented
files (record format variable or variable with fixed
control) opened for write by the &quot;perlio&quot; layer
will now be line-buffered to prevent the introduction of
<br>
spurious line breaks whenever the perlio buffer fills
up.</p>

<p style="margin-top: 1em">&Acirc;&middot; git_version.h is
now installed on VMS. This was an oversight in v5.12.0 which
caused some extensions to fail to build (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; Several memory
leaks in stat() have been fixed (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; A memory leak in
Perl_rename() due to a double allocation has been fixed
(5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; A memory leak in
vms_fid_to_name() (used by realpath() and realname()&gt; has
been fixed (5.12.2).</p>

<p style="margin-top: 1em">Windows</p>

<p style="margin-top: 1em">See also &quot;fork() emulation
will not wait for signalled children&quot; and &quot;Perl
source code is read in text mode on Windows&quot;,
above.</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed build
process for SDK2003SP1 compilers.</p>

<p style="margin-top: 1em">&Acirc;&middot; Compilation with
Visual Studio 2010 is now supported.</p>

<p style="margin-top: 1em">&Acirc;&middot; When using old
32-bit compilers, the define &quot;_USE_32BIT_TIME_T&quot;
is now set in $Config{ccflags}. This improves portability
when compiling XS extensions using new compilers, <br>
but for a Perl compiled with old 32-bit compilers.</p>

<p style="margin-top: 1em">&Acirc;&middot;
$Config{gccversion} is now set correctly when Perl is built
using the mingw64 compiler from &lt;http://mingw64.org&gt;
[perl #73754].</p>

<p style="margin-top: 1em">&Acirc;&middot; When building
Perl with the mingw64 x64 cross-compiler
&quot;incpath&quot;, &quot;libpth&quot;,
&quot;ldflags&quot;, &quot;lddlflags&quot; and
&quot;ldflags_nolargefiles&quot; values in Config.pm and
Config_heavy.pl were not <br>
previously being set correctly because, with that compiler,
the include and lib directories are not immediately below
&quot;$(CCHOME)&quot; (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; The build
process proceeds more smoothly with mingw and dmake when
C:YSns in the PATH, due to a &quot;Cwd&quot; fix.</p>

<p style="margin-top: 1em">&Acirc;&middot; Support for
building with Visual C++ 2010 is now underway, but is not
yet complete. See README.win32 or perlwin32 for more
details.</p>

<p style="margin-top: 1em">&Acirc;&middot; The option to
use an externally-supplied crypt(), or to build with no
crypt() at all, has been removed. Perl supplies its own
crypt() implementation for Windows, and the <br>
political situation that required this part of the
distribution to sometimes be omitted is long gone.</p>

<p style="margin-top: 1em">Internal Changes <br>
New APIs <br>
CLONE_PARAMS structure added to ease correct thread
creation</p>

<p style="margin-top: 1em">Modules that create threads
should now create &quot;CLONE_PARAMS&quot; structures by
calling the new function Perl_clone_params_new(), and free
them with Perl_clone_params_del(). This <br>
will ensure compatibility with any future changes to the
internals of the &quot;CLONE_PARAMS&quot; structure layout,
and that it is correctly allocated and initialised.</p>

<p style="margin-top: 1em">New parsing functions</p>

<p style="margin-top: 1em">Several functions have been
added for parsing Perl statements and expressions. These
functions are meant to be used by XS code invoked during
Perl parsing, in a recursive- <br>
descent manner, to allow modules to augment the standard
Perl syntax.</p>

<p style="margin-top: 1em">&Acirc;&middot; parse_stmtseq()
parses a sequence of statements, up to closing brace or
EOF.</p>

<p style="margin-top: 1em">&Acirc;&middot; parse_fullstmt()
parses a complete Perl statement, including optional
label.</p>

<p style="margin-top: 1em">&Acirc;&middot; parse_barestmt()
parses a statement without a label.</p>

<p style="margin-top: 1em">&Acirc;&middot; parse_block()
parses a code block.</p>

<p style="margin-top: 1em">&Acirc;&middot; parse_label()
parses a statement label, separate from statements.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;parse_fullexpr()&quot;, &quot;parse_listexpr()&quot;,
&quot;parse_termexpr()&quot;, and
&quot;parse_arithexpr()&quot; parse expressions at various
precedence levels.</p>

<p style="margin-top: 1em">Hints hash API</p>

<p style="margin-top: 1em">A new C API for introspecting
the hinthash &quot;%^H&quot; at runtime has been added. See
&quot;cop_hints_2hv&quot;, &quot;cop_hints_fetchpvn&quot;,
&quot;cop_hints_fetchpvs&quot;,
&quot;cop_hints_fetchsv&quot;, and <br>
&quot;hv_copy_hints_hv&quot; in perlapi for details.</p>

<p style="margin-top: 1em">A new, experimental API has been
added for accessing the internal structure that Perl uses
for &quot;%^H&quot;. See the functions beginning with
&quot;cophh_&quot; in perlapi.</p>

<p style="margin-top: 1em">C interface to caller()</p>

<p style="margin-top: 1em">The &quot;caller_cx&quot;
function has been added as an XSUB-writer&rsquo;s equivalent
of caller(). See perlapi for details.</p>

<p style="margin-top: 1em">Custom per-subroutine check
hooks</p>

<p style="margin-top: 1em">XS code in an extension module
can now annotate a subroutine (whether implemented in XS or
in Perl) so that nominated XS code will be called at compile
time (specifically as part <br>
of op checking) to change the op tree of that subroutine.
The compile-time check function (supplied by the extension
module) can implement argument processing that can&rsquo;t
be <br>
expressed as a prototype, generate customised compile-time
warnings, perform constant folding for a pure function,
inline a subroutine consisting of sufficiently simple ops,
<br>
replace the whole call with a custom op, and so on. This was
previously all possible by hooking the &quot;entersub&quot;
op checker, but the new mechanism makes it easy to tie the
hook to <br>
a specific subroutine. See &quot;cv_set_call_checker&quot;
in perlapi.</p>

<p style="margin-top: 1em">To help in writing custom check
hooks, several subtasks within standard &quot;entersub&quot;
op checking have been separated out and exposed in the
API.</p>

<p style="margin-top: 1em">Improved support for custom
OPs</p>

<p style="margin-top: 1em">Custom ops can now be registered
with the new &quot;custom_op_register&quot; C function and
the &quot;XOP&quot; structure. This will make it easier to
add new properties of custom ops in the <br>
future. Two new properties have been added already,
&quot;xop_class&quot; and &quot;xop_peep&quot;.</p>

<p style="margin-top: 1em">&quot;xop_class&quot; is one of
the OA_*OP constants. It allows B and other introspection
mechanisms to work with custom ops that aren&rsquo;t
BASEOPs. &quot;xop_peep&quot; is a pointer to a function
<br>
that will be called for ops of this type from
&quot;Perl_rpeep&quot;.</p>

<p style="margin-top: 1em">See &quot;Custom Operators&quot;
in perlguts and &quot;Custom Operators&quot; in perlapi for
more detail.</p>

<p style="margin-top: 1em">The old
&quot;PL_custom_op_names&quot;/&quot;PL_custom_op_descs&quot;
interface is still supported but discouraged.</p>

<p style="margin-top: 1em">Scope hooks</p>

<p style="margin-top: 1em">It is now possible for XS code
to hook into Perl&rsquo;s lexical scope mechanism at compile
time, using the new &quot;Perl_blockhook_register&quot;
function. See &quot;Compile-time scope hooks&quot; in <br>
perlguts.</p>

<p style="margin-top: 1em">The recursive part of the
peephole optimizer is now hookable</p>

<p style="margin-top: 1em">In addition to
&quot;PL_peepp&quot;, for hooking into the toplevel peephole
optimizer, a &quot;PL_rpeepp&quot; is now available to hook
into the optimizer recursing into side-chains of the
optree.</p>

<p style="margin-top: 1em">New non-magical variants of
existing functions</p>

<p style="margin-top: 1em">The following functions/macros
have been added to the API. The *_nomg macros are equivalent
to their non-&quot;_nomg&quot; variants, except that they
ignore get-magic. Those ending in <br>
&quot;_flags&quot; allow one to specify whether get-magic is
processed.</p>

<p style="margin-top: 1em">sv_2bool_flags <br>
SvTRUE_nomg <br>
sv_2nv_flags <br>
SvNV_nomg <br>
sv_cmp_flags <br>
sv_cmp_locale_flags <br>
sv_eq_flags <br>
sv_collxfrm_flags</p>

<p style="margin-top: 1em">In some of these cases, the
non-&quot;_flags&quot; functions have been replaced with
wrappers around the new functions.</p>

<p style="margin-top: 1em">pv/pvs/sv versions of existing
functions</p>

<p style="margin-top: 1em">Many functions ending with pvn
now have equivalent &quot;pv/pvs/sv&quot; versions.</p>

<p style="margin-top: 1em">List op-building functions</p>

<p style="margin-top: 1em">List op-building functions have
been added to the API. See op_append_elem, op_append_list,
and op_prepend_elem in perlapi.</p>

<p style="margin-top: 1em">&quot;LINKLIST&quot;</p>

<p style="margin-top: 1em">The LINKLIST macro, part of op
building that constructs the execution-order op chain, has
been added to the API.</p>

<p style="margin-top: 1em">Localisation functions</p>

<p style="margin-top: 1em">The &quot;save_freeop&quot;,
&quot;save_op&quot;, &quot;save_pushi32ptr&quot; and
&quot;save_pushptrptr&quot; functions have been added to the
API.</p>

<p style="margin-top: 1em">Stash names</p>

<p style="margin-top: 1em">A stash can now have a list of
effective names in addition to its usual name. The first
effective name can be accessed via the &quot;HvENAME&quot;
macro, which is now the recommended name <br>
to use in MRO linearisations (&quot;HvNAME&quot; being a
fallback if there is no &quot;HvENAME&quot;).</p>

<p style="margin-top: 1em">These names are added and
deleted via &quot;hv_ename_add&quot; and
&quot;hv_ename_delete&quot;. These two functions are not
part of the API.</p>

<p style="margin-top: 1em">New functions for finding and
removing magic</p>

<p style="margin-top: 1em">The &quot;mg_findext()&quot; and
&quot;sv_unmagicext()&quot; functions have been added to the
API. They allow extension authors to find and remove magic
attached to scalars based on both the magic <br>
type and the magic virtual table, similar to how
sv_magicext() attaches magic of a certain type and with a
given virtual table to a scalar. This eliminates the need
for <br>
extensions to walk the list of &quot;MAGIC&quot; pointers of
an &quot;SV&quot; to find the magic that belongs to
them.</p>

<p style="margin-top: 1em">&quot;find_rundefsv&quot;</p>

<p style="margin-top: 1em">This function returns the SV
representing $_, whether it&rsquo;s lexical or dynamic.</p>


<p style="margin-top: 1em">&quot;Perl_croak_no_modify&quot;</p>

<p style="margin-top: 1em">Perl_croak_no_modify() is
short-hand for &quot;Perl_croak(&quot;%s&quot;,
PL_no_modify)&quot;.</p>

<p style="margin-top: 1em">&quot;PERL_STATIC_INLINE&quot;
define</p>

<p style="margin-top: 1em">The
&quot;PERL_STATIC_INLINE&quot; define has been added to
provide the best-guess incantation to use for static inline
functions, if the C compiler supports C99-style static
inline. If <br>
it doesn&rsquo;t, it&rsquo;ll give a plain
&quot;static&quot;.</p>

<p style="margin-top: 1em">&quot;HAS_STATIC_INLINE&quot;
can be used to check if the compiler actually supports
inline functions.</p>

<p style="margin-top: 1em">New &quot;pv_escape&quot; option
for hexadecimal escapes</p>

<p style="margin-top: 1em">A new option,
&quot;PERL_PV_ESCAPE_NONASCII&quot;, has been added to
&quot;pv_escape&quot; to dump all characters above ASCII in
hexadecimal. Before, one could get all characters as
hexadecimal or <br>
the Latin1 non-ASCII as octal.</p>

<p style="margin-top: 1em">&quot;lex_start&quot;</p>

<p style="margin-top: 1em">&quot;lex_start&quot; has been
added to the API, but is considered experimental.</p>

<p style="margin-top: 1em">op_scope() and op_lvalue()</p>

<p style="margin-top: 1em">The op_scope() and op_lvalue()
functions have been added to the API, but are considered
experimental.</p>

<p style="margin-top: 1em">C API Changes <br>
&quot;PERL_POLLUTE&quot; has been removed</p>

<p style="margin-top: 1em">The option to define
&quot;PERL_POLLUTE&quot; to expose older 5.005 symbols for
backwards compatibility has been removed. Its use was always
discouraged, and MakeMaker contains a more <br>
specific escape hatch:</p>

<p style="margin-top: 1em">perl Makefile.PL POLLUTE=1</p>

<p style="margin-top: 1em">This can be used for modules
that have not been upgraded to 5.6 naming conventions (and
really should be completely obsolete by now).</p>

<p style="margin-top: 1em">Check API compatibility when
loading XS modules</p>

<p style="margin-top: 1em">When Perl&rsquo;s API changes in
incompatible ways (which usually happens between major
releases), XS modules compiled for previous versions of Perl
will no longer work. They need to <br>
be recompiled against the new Perl.</p>

<p style="margin-top: 1em">The
&quot;XS_APIVERSION_BOOTCHECK&quot; macro has been added to
ensure that modules are recompiled and to prevent users from
accidentally loading modules compiled for old perls into
newer <br>
perls. That macro, which is called when loading every newly
compiled extension, compares the API version of the running
perl with the version a module has been compiled for and
<br>
raises an exception if they don&rsquo;t match.</p>

<p style="margin-top: 1em">Perl_fetch_cop_label</p>

<p style="margin-top: 1em">The first argument of the C API
function &quot;Perl_fetch_cop_label&quot; has changed from
&quot;struct refcounted_he *&quot; to &quot;COP *&quot;, to
insulate the user from implementation details.</p>

<p style="margin-top: 1em">This API function was marked as
&quot;may change&quot;, and likely isn&rsquo;t in use
outside the core. (Neither an unpacked CPAN nor
Google&rsquo;s codesearch finds any other references to
it.)</p>

<p style="margin-top: 1em">GvCV() and GvGP() are no longer
lvalues</p>

<p style="margin-top: 1em">The new GvCV_set() and
GvGP_set() macros are now provided to replace assignment to
those two macros.</p>

<p style="margin-top: 1em">This allows a future commit to
eliminate some backref magic between GV and CVs, which will
require complete control over assignment to the
&quot;gp_cv&quot; slot.</p>

<p style="margin-top: 1em">CvGV() is no longer an
lvalue</p>

<p style="margin-top: 1em">Under some circumstances, the
CvGV() field of a CV is now reference-counted. To ensure
consistent behaviour, direct assignment to it, for example
&quot;CvGV(cv) = gv&quot; is now a <br>
compile-time error. A new macro, &quot;CvGV_set(cv,gv)&quot;
has been introduced to run this operation safely. Note that
modification of this field is not part of the public API,
<br>
regardless of this new macro (and despite its being listed
in this section).</p>

<p style="margin-top: 1em">CvSTASH() is no longer an
lvalue</p>

<p style="margin-top: 1em">The CvSTASH() macro can now only
be used as an rvalue. CvSTASH_set() has been added to
replace assignment to CvSTASH(). This is to ensure that
backreferences are handled <br>
properly. These macros are not part of the API.</p>

<p style="margin-top: 1em">Calling conventions for
&quot;newFOROP&quot; and &quot;newWHILEOP&quot;</p>

<p style="margin-top: 1em">The way the parser handles
labels has been cleaned up and refactored. As a result, the
newFOROP() constructor function no longer takes a parameter
stating what label is to go in <br>
the state op.</p>

<p style="margin-top: 1em">The newWHILEOP() and newFOROP()
functions no longer accept a line number as a parameter.</p>

<p style="margin-top: 1em">Flags passed to
&quot;uvuni_to_utf8_flags&quot; and
&quot;utf8n_to_uvuni&quot;</p>

<p style="margin-top: 1em">Some of the flags parameters to
uvuni_to_utf8_flags() and utf8n_to_uvuni() have changed.
This is a result of Perl&rsquo;s now allowing internal
storage and manipulation of code points <br>
that are problematic in some situations. Hence, the default
actions for these functions has been complemented to allow
these code points. The new flags are documented in <br>
perlapi. Code that requires the problematic code points to
be rejected needs to change to use the new flags. Some flag
names are retained for backward source compatibility, <br>
though they do nothing, as they are now the default. However
the flags &quot;UNICODE_ALLOW_FDD0&quot;,
&quot;UNICODE_ALLOW_FFFF&quot;, &quot;UNICODE_ILLEGAL&quot;,
and &quot;UNICODE_IS_ILLEGAL&quot; have been removed, <br>
as they stem from a fundamentally broken model of how the
Unicode non-character code points should be handled, which
is now described in &quot;Non-character code points&quot; in
<br>
perlunicode. See also the Unicode section under
&quot;Selected Bug Fixes&quot;.</p>

<p style="margin-top: 1em">Deprecated C APIs <br>
&quot;Perl_ptr_table_clear&quot; <br>
&quot;Perl_ptr_table_clear&quot; is no longer part of
Perl&rsquo;s public API. Calling it now generates a
deprecation warning, and it will be removed in a future
release.</p>

<p style="margin-top: 1em">&quot;sv_compile_2op&quot; <br>
The sv_compile_2op() API function is now deprecated.
Searches suggest that nothing on CPAN is using it, so this
should have zero impact.</p>

<p style="margin-top: 1em">It attempted to provide an API
to compile code down to an optree, but failed to bind
correctly to lexicals in the enclosing scope. It&rsquo;s not
possible to fix this problem <br>
within the constraints of its parameters and return
value.</p>

<p style="margin-top: 1em">&quot;find_rundefsvoffset&quot;
<br>
The &quot;find_rundefsvoffset&quot; function has been
deprecated. It appeared that its design was insufficient for
reliably getting the lexical $_ at run-time.</p>

<p style="margin-top: 1em">Use the new
&quot;find_rundefsv&quot; function or the
&quot;UNDERBAR&quot; macro instead. They directly return the
right SV representing $_, whether it&rsquo;s lexical or
dynamic.</p>

<p style="margin-top: 1em">&quot;CALL_FPTR&quot; and
&quot;CPERLscope&quot; <br>
Those are left from an old implementation of
&quot;MULTIPLICITY&quot; using C++ objects, which was
removed in Perl 5.8. Nowadays these macros do exactly
nothing, so they shouldn&rsquo;t be <br>
used anymore.</p>

<p style="margin-top: 1em">For compatibility, they are
still defined for external &quot;XS&quot; code. Only
extensions defining &quot;PERL_CORE&quot; must be updated
now.</p>

<p style="margin-top: 1em">Other Internal Changes <br>
Stack unwinding</p>

<p style="margin-top: 1em">The protocol for unwinding the C
stack at the last stage of a &quot;die&quot; has changed how
it identifies the target stack frame. This now uses a
separate variable &quot;PL_restartjmpenv&quot;, <br>
where previously it relied on the
&quot;blk_eval.cur_top_env&quot; pointer in the
&quot;eval&quot; context frame that has nominally just been
discarded. This change means that code running during <br>
various stages of Perl-level unwinding no longer needs to
take care to avoid destroying the ghost frame.</p>

<p style="margin-top: 1em">Scope stack entries</p>

<p style="margin-top: 1em">The format of entries on the
scope stack has been changed, resulting in a reduction of
memory usage of about 10%. In particular, the memory used by
the scope stack to record <br>
each active lexical variable has been halved.</p>

<p style="margin-top: 1em">Memory allocation for pointer
tables</p>

<p style="margin-top: 1em">Memory allocation for pointer
tables has been changed. Previously
&quot;Perl_ptr_table_store&quot; allocated memory from the
same arena system as &quot;SV&quot; bodies and
&quot;HE&quot;s, with freed memory <br>
remaining bound to those arenas until interpreter exit. Now
it allocates memory from arenas private to the specific
pointer table, and that memory is returned to the system
when <br>
&quot;Perl_ptr_table_free&quot; is called. Additionally,
allocation and release are both less CPU intensive.</p>

<p style="margin-top: 1em">&quot;UNDERBAR&quot;</p>

<p style="margin-top: 1em">The &quot;UNDERBAR&quot; macro
now calls &quot;find_rundefsv&quot;. &quot;dUNDERBAR&quot;
is now a noop but should still be used to ensure past and
future compatibility.</p>

<p style="margin-top: 1em">String comparison routines
renamed</p>

<p style="margin-top: 1em">The &quot;ibcmp_*&quot;
functions have been renamed and are now called
&quot;foldEQ&quot;, &quot;foldEQ_locale&quot;, and
&quot;foldEQ_utf8&quot;. The old names are still available
as macros.</p>

<p style="margin-top: 1em">&quot;chop&quot; and
&quot;chomp&quot; implementations merged</p>

<p style="margin-top: 1em">The opcode bodies for
&quot;chop&quot; and &quot;chomp&quot; and for
&quot;schop&quot; and &quot;schomp&quot; have been merged.
The implementation functions Perl_do_chop() and
Perl_do_chomp(), never part of the public <br>
API, have been merged and moved to a static function in
pp.c. This shrinks the Perl binary slightly, and should not
affect any code outside the core (unless it is relying on
the <br>
order of side-effects when &quot;chomp&quot; is passed a
list of values).</p>

<p style="margin-top: 1em">Selected Bug Fixes <br>
I/O <br>
&Acirc;&middot; Perl no longer produces this warning:</p>

<p style="margin-top: 1em">$ perl -we &rsquo;open(my $f,
&quot;&gt;&quot;, $x); binmode($f,
&quot;scalar&quot;)&rsquo; <br>
Use of uninitialized value in binmode at -e line 1.</p>

<p style="margin-top: 1em">&Acirc;&middot; Opening a glob
reference via &quot;open($fh, &quot;&gt;&quot;, lob)&quot;
no longer causes the glob to be corrupted when the
filehandle is printed to. This would cause Perl to crash
whenever <br>
the glob&rsquo;s contents were accessed [perl #77492].</p>

<p style="margin-top: 1em">&Acirc;&middot; PerlIO no longer
crashes when called recursively, such as from a signal
handler. Now it just leaks memory [perl #75556].</p>

<p style="margin-top: 1em">&Acirc;&middot; Most I/O
functions were not warning for unopened handles unless the
&quot;closed&quot; and &quot;unopened&quot; warnings
categories were both enabled. Now only &quot;use warnings
&rsquo;unopened&rsquo;&quot; is <br>
necessary to trigger these warnings, as had always been the
intention.</p>

<p style="margin-top: 1em">&Acirc;&middot; There have been
several fixes to PerlIO layers:</p>

<p style="margin-top: 1em">When &quot;binmode(FH,
&quot;:crlf&quot;)&quot; pushes the &quot;:crlf&quot; layer
on top of the stack, it no longer enables crlf layers lower
in the stack so as to avoid unexpected results [perl
#38456].</p>

<p style="margin-top: 1em">Opening a file in
&quot;:raw&quot; mode now does what it advertises to do
(first open the file, then &quot;binmode&quot; it), instead
of simply leaving off the top layer [perl #80764].</p>

<p style="margin-top: 1em">The three layers
&quot;:pop&quot;, &quot;:utf8&quot;, and &quot;:bytes&quot;
didn&rsquo;t allow stacking when opening a file. For example
this:</p>

<p style="margin-top: 1em">open(FH,
&quot;&gt;:pop:perlio&quot;, &quot;some.file&quot;) or die
$!;</p>

<p style="margin-top: 1em">would throw an &quot;Invalid
argument&quot; error. This has been fixed in this release
[perl #82484].</p>

<p style="margin-top: 1em">Regular Expression Bug Fixes
<br>
&Acirc;&middot; The regular expression engine no longer
loops when matching &quot;&quot;ATIN SMALL LIGATURE
FF}&quot; =~ /f+/i&quot; and similar expressions [perl
#72998] (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; The trie runtime
code should no longer allocate massive amounts of memory,
fixing #74484.</p>

<p style="margin-top: 1em">&Acirc;&middot; Syntax errors in
&quot;(?{...})&quot; blocks no longer cause panic messages
[perl #2353].</p>

<p style="margin-top: 1em">&Acirc;&middot; A pattern like
&quot;(?:(o){2})?&quot; no longer causes a &quot;panic&quot;
error [perl #39233].</p>

<p style="margin-top: 1em">&Acirc;&middot; A fatal error in
regular expressions containing &quot;(.*?)&quot; when
processing UTF-8 data has been fixed [perl #75680]
(5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; An erroneous
regular expression engine optimisation that caused regex
verbs like *COMMIT sometimes to be ignored has been
removed.</p>

<p style="margin-top: 1em">&Acirc;&middot; The regular
expression bracketed character class &quot;[89]&quot; was
effectively the same as &quot;[89 00]&quot;, incorrectly
matching a NULL character. It also gave incorrect warnings
that <br>
the 8 and 9 were ignored. Now &quot;[89]&quot; is the same
as &quot;[89]&quot; and gives legitimate warnings that
&quot;8&quot; and &quot;9&quot; are unrecognized escape
sequences, passed-through.</p>

<p style="margin-top: 1em">&Acirc;&middot; A regular
expression match in the right-hand side of a global
substitution (&quot;s///g&quot;) that is in the same scope
will no longer cause match variables to have the wrong
values <br>
on subsequent iterations. This can happen when an array or
hash subscript is interpolated in the right-hand side, as in
&quot;s|(.)|@a{ print($1), /./ }|g&quot; [perl #19078].</p>

<p style="margin-top: 1em">&Acirc;&middot; Several cases in
which characters in the Latin-1 non-ASCII range (0x80 to
0xFF) used not to match themselves, or used to match both a
character class and its complement, have <br>
been fixed. For instance, U+00E2 could match both
&quot;120W&quot; [perl #78464] [perl #18281] [perl
#60156].</p>

<p style="margin-top: 1em">&Acirc;&middot; Matching a
Unicode character against an alternation containing
characters that happened to match continuation bytes in the
former&rsquo;s UTF8 representation (like &quot;qq{b}} =~
<br>
/|) would cause erroneous warnings [perl #70998].</p>

<p style="margin-top: 1em">&Acirc;&middot; The trie
optimisation was not taking empty groups into account,
preventing &quot;foo&quot; from matching
&quot;/1?:)foo|bar|zot)&quot; [perl #78356].</p>

<p style="margin-top: 1em">&Acirc;&middot; A pattern
containing a &quot;+&quot; inside a lookahead would
sometimes cause an incorrect match failure in a global match
(for example, &quot;/(?=())/g&quot;) [perl #68564].</p>

<p style="margin-top: 1em">&Acirc;&middot; A regular
expression optimisation would sometimes cause a match with a
&quot;{n,m}&quot; quantifier to fail when it should have
matched [perl #79152].</p>

<p style="margin-top: 1em">&Acirc;&middot; Case-insensitive
matching in regular expressions compiled under &quot;use
locale&quot; now works much more sanely when the pattern or
target string is internally encoded in UTF8. <br>
Previously, under these conditions the localeness was
completely lost. Now, code points above 255 are treated as
Unicode, but code points between 0 and 255 are treated using
<br>
the current locale rules, regardless of whether the pattern
or the string is encoded in UTF8. The few case-insensitive
matches that cross the 255/256 boundary are not <br>
allowed. For example, 0xFF does not caselessly match the
character at 0x178, LATIN CAPITAL LETTER Y WITH DIAERESIS,
because 0xFF may not be LATIN SMALL LETTER Y in the <br>
current locale, and Perl has no way of knowing if that
character even exists in the locale, much less what code
point it is.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;(?|...)&quot; regular expression construct no longer
crashes if the final branch has more sets of capturing
parentheses than any other branch. This was fixed in Perl
5.10.1 <br>
for the case of a single branch, but that fix did not take
multiple branches into account [perl #84746].</p>

<p style="margin-top: 1em">&Acirc;&middot; A bug has been
fixed in the implementation of &quot;{...}&quot; quantifiers
in regular expressions that prevented the code block in
&quot;/((984 <br>
sometimes [perl #84294].</p>

<p style="margin-top: 1em">Syntax/Parsing Bugs <br>
&Acirc;&middot; &quot;when (scalar) {...}&quot; no longer
crashes, but produces a syntax error [perl #74114]
(5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; A label right
before a string eval (&quot;foo: eval $string&quot;) no
longer causes the label to be associated also with the first
statement inside the eval [perl #74290] (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; The &quot;no
5.13.2&quot; form of &quot;no&quot; no longer tries to turn
on features or pragmata (like strict) [perl #70075]
(5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;BEGIN
{require 5.12.0}&quot; now behaves as documented, rather
than behaving identically to &quot;use 5.12.0&quot;.
Previously, &quot;require&quot; in a &quot;BEGIN&quot; block
was erroneously executing the <br>
&quot;use feature &rsquo;:5.12.0&rsquo;&quot; and &quot;use
strict&quot; behaviour, which only &quot;use&quot; was
documented to provide [perl #69050].</p>

<p style="margin-top: 1em">&Acirc;&middot; A regression
introduced in Perl 5.12.0, making &quot;my $x = 3; $x =
length(undef)&quot; result in $x set to 3 has been fixed. $x
will now be &quot;undef&quot; [perl #85508] (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; When strict
&quot;refs&quot; mode is off, &quot;%{...}&quot; in rvalue
context returns &quot;undef&quot; if its argument is
undefined. An optimisation introduced in Perl 5.12.0 to make
&quot;keys %{...}&quot; <br>
faster when used as a boolean did not take this into
account, causing &quot;keys %{+undef}&quot; (and &quot;keys
%$foo&quot; when $foo is undefined) to be an error, which it
should be so in <br>
strict mode only [perl #81750].</p>

<p style="margin-top: 1em">&Acirc;&middot; Constant-folding
used to cause</p>

<p style="margin-top: 1em">$text =~ ( 1 ? /phoo/ :
/bear/)</p>

<p style="margin-top: 1em">to turn into</p>

<p style="margin-top: 1em">$text =~ /phoo/</p>

<p style="margin-top: 1em">at compile time. Now it
correctly matches against $_ [perl #20444].</p>

<p style="margin-top: 1em">&Acirc;&middot; Parsing Perl
code (either with string &quot;eval&quot; or by loading
modules) from within a &quot;UNITCHECK&quot; block no longer
causes the interpreter to crash [perl #70614].</p>

<p style="margin-top: 1em">&Acirc;&middot; String
&quot;eval&quot;s no longer fail after 2 billion scopes have
been compiled [perl #83364].</p>

<p style="margin-top: 1em">&Acirc;&middot; The parser no
longer hangs when encountering certain Unicode characters,
such as U+387 [perl #74022].</p>

<p style="margin-top: 1em">&Acirc;&middot; Defining a
constant with the same name as one of Perl&rsquo;s special
blocks (like &quot;INIT&quot;) stopped working in 5.12.0,
but has now been fixed [perl #78634].</p>

<p style="margin-top: 1em">&Acirc;&middot; A reference to a
literal value used as a hash key ($hash{</p>

<p style="margin-top: 1em">&Acirc;&middot; A closure
containing an &quot;if&quot; statement followed by a
constant or variable is no longer treated as a constant
[perl #63540].</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;state&quot; can now be used with attributes. It used
to mean the same thing as &quot;my&quot; if any attributes
were present [perl #68658].</p>

<p style="margin-top: 1em">&Acirc;&middot; Expressions like
&quot;@$a &gt; 3&quot; no longer cause $a to be mentioned in
the &quot;Use of uninitialized value in numeric gt&quot;
warning when $a is undefined (since it is not part of the
&quot;&gt;&quot; <br>
expression, but the operand of the &quot;@&quot;) [perl
#72090].</p>

<p style="margin-top: 1em">&Acirc;&middot; Accessing an
element of a package array with a hard-coded number (as
opposed to an arbitrary expression) would crash if the array
did not exist. Usually the array would be <br>
autovivified during compilation, but typeglob manipulation
could remove it, as in these two cases which used to
crash:</p>

<p style="margin-top: 1em">*d = *a; print $d[0]; <br>
undef *d; print $d[0];</p>

<p style="margin-top: 1em">&Acirc;&middot; The -C
command-line option, when used on the shebang line, can now
be followed by other options [perl #72434].</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;B&quot; module was returning &quot;B::OP&quot;s
instead of &quot;B::LOGOP&quot;s for &quot;entertry&quot;
[perl #80622]. This was due to a bug in the Perl core, not
in &quot;B&quot; itself.</p>

<p style="margin-top: 1em">Stashes, Globs and Method Lookup
<br>
Perl 5.10.0 introduced a new internal mechanism for caching
MROs (method resolution orders, or lists of parent classes;
aka &quot;isa&quot; caches) to make method lookup faster (so
@ISA <br>
arrays would not have to be searched repeatedly).
Unfortunately, this brought with it quite a few bugs. Almost
all of these have been fixed now, along with a few
MRO-related <br>
bugs that existed before 5.10.0:</p>

<p style="margin-top: 1em">&Acirc;&middot; The following
used to have erratic effects on method resolution, because
the &quot;isa&quot; caches were not reset or otherwise ended
up listing the wrong classes. These have been <br>
fixed.</p>

<p style="margin-top: 1em">Aliasing packages by assigning
to globs [perl #77358] <br>
Deleting packages by deleting their containing stash
elements <br>
Undefining the glob containing a package (&quot;undef
*Foo::&quot;) <br>
Undefining an ISA glob (&quot;undef *Foo::ISA&quot;) <br>
Deleting an ISA stash element (&quot;delete
$Foo::{ISA}&quot;) <br>
Sharing @ISA arrays between classes (via &quot;*Foo::ISA =
@Bar::ISA&quot; or &quot;*Foo::ISA = *Bar::ISA&quot;) [perl
#77238]</p>

<p style="margin-top: 1em">&quot;undef *Foo::ISA&quot;
would even stop a new @Foo::ISA array from updating
caches.</p>

<p style="margin-top: 1em">&Acirc;&middot; Typeglob
assignments would crash if the glob&rsquo;s stash no longer
existed, so long as the glob assigned to were named
&quot;ISA&quot; or the glob on either side of the assignment
<br>
contained a subroutine.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;PL_isarev&quot;, which is accessible to Perl via
&quot;mro::get_isarev&quot; is now updated properly when
packages are deleted or removed from the @ISA of other
classes. This allows many <br>
packages to be created and deleted without causing a memory
leak [perl #75176].</p>

<p style="margin-top: 1em">In addition, various other bugs
related to typeglobs and stashes have been fixed:</p>

<p style="margin-top: 1em">&Acirc;&middot; Some work has
been done on the internal pointers that link between symbol
tables (stashes), typeglobs, and subroutines. This has the
effect that various edge cases related <br>
to deleting stashes or stash entries (for example,
&lt;%FOO:: = ()&gt;), and complex typeglob or code-reference
aliasing, will no longer crash the interpreter.</p>

<p style="margin-top: 1em">&Acirc;&middot; Assigning a
reference to a glob copy now assigns to a glob slot instead
of overwriting the glob with a scalar [perl #1804] [perl
#77508].</p>

<p style="margin-top: 1em">&Acirc;&middot; A bug when
replacing the glob of a loop variable within the loop has
been fixed [perl #21469]. This means the following code will
no longer crash:</p>

<p style="margin-top: 1em">for $x (...) { <br>
*x = *y; <br>
}</p>

<p style="margin-top: 1em">&Acirc;&middot; Assigning a glob
to a PVLV used to convert it to a plain string. Now it works
correctly, and a PVLV can hold a glob. This would happen
when a nonexistent hash or array <br>
element was passed to a subroutine:</p>

<p style="margin-top: 1em">sub { $_[0] = *foo
}-&gt;($hash{key}); <br>
# $_[0] would have been the string
&quot;*main::foo&quot;</p>

<p style="margin-top: 1em">It also happened when a glob was
assigned to, or returned from, an element of a tied array or
hash [perl #36051].</p>

<p style="margin-top: 1em">&Acirc;&middot; When trying to
report &quot;Use of uninitialized value $Foo::BAR&quot;,
crashes could occur if the glob holding the global variable
in question had been detached from its original <br>
stash by, for example, &quot;delete
$::{&quot;Foo::&quot;}&quot;. This has been fixed by
disabling the reporting of variable names in those
cases.</p>

<p style="margin-top: 1em">&Acirc;&middot; During the
restoration of a localised typeglob on scope exit, any
destructors called as a result would be able to see the
typeglob in an inconsistent state, containing freed <br>
entries, which could result in a crash. This would affect
code like this:</p>

<p style="margin-top: 1em">local *@; <br>
eval { die bless [] }; # puts an object in $@ <br>
sub DESTROY { <br>
local $@; # boom <br>
}</p>

<p style="margin-top: 1em">Now the glob entries are cleared
before any destructors are called. This also means that
destructors can vivify entries in the glob. So Perl tries
again and, if the entries <br>
are re-created too many times, dies with a &quot;panic:
gp_free ...&quot; error message.</p>

<p style="margin-top: 1em">&Acirc;&middot; If a typeglob is
freed while a subroutine attached to it is still referenced
elsewhere, the subroutine is renamed to &quot;__ANON__&quot;
in the same package, unless the package has <br>
been undefined, in which case the &quot;__ANON__&quot;
package is used. This could cause packages to be sometimes
autovivified, such as if the package had been deleted. Now
this no <br>
longer occurs. The &quot;__ANON__&quot; package is also now
used when the original package is no longer attached to the
symbol table. This avoids memory leaks in some cases [perl
<br>
#87664].</p>

<p style="margin-top: 1em">&Acirc;&middot; Subroutines and
package variables inside a package whose name ends with
&quot;::&quot; can now be accessed with a fully qualified
name.</p>

<p style="margin-top: 1em">Unicode <br>
&Acirc;&middot; What has become known as &quot;the Unicode
Bug&quot; is almost completely resolved in this release.
Under &quot;use feature &rsquo;unicode_strings&rsquo;&quot;
(which is automatically selected by &quot;use <br>
5.012&quot; and above), the internal storage format of a
string no longer affects the external semantics. [perl
#58182].</p>

<p style="margin-top: 1em">There are two known
exceptions:</p>

<p style="margin-top: 1em">1. The now-deprecated,
user-defined case-changing functions require utf8-encoded
strings to operate. The CPAN module Unicode::Casing has been
written to replace this <br>
feature without its drawbacks, and the feature is scheduled
to be removed in 5.16.</p>

<p style="margin-top: 1em">2. quotemeta() (and its in-line
equivalent &quot;Q&quot;) can also give different results
depending on whether a string is encoded in UTF-8. See
&quot;The &quot;Unicode Bug&quot;&quot; in perlunicode.</p>

<p style="margin-top: 1em">&Acirc;&middot; Handling of
Unicode non-character code points has changed. Previously
they were mostly considered illegal, except that in some
place only one of the 66 of them was known. <br>
The Unicode Standard considers them all legal, but forbids
their &quot;open interchange&quot;. This is part of the
change to allow internal use of any code point (see
&quot;Core <br>
Enhancements&quot;). Together, these changes resolve [perl
#38722], [perl #51918], [perl #51936], and [perl
#63446].</p>

<p style="margin-top: 1em">&Acirc;&middot; Case-insensitive
&quot;/i&quot; regular expression matching of Unicode
characters that match multiple characters now works much
more as intended. For example</p>

<p style="margin-top: 1em">&quot;ATIN SMALL LIGATURE
FFI}&quot; =~ /ffi/ui</p>

<p style="margin-top: 1em">and</p>

<p style="margin-top: 1em">&quot;ffi&quot; =~ /ATIN SMALL
LIGATURE FFI}/ui</p>

<p style="margin-top: 1em">are both true. Previously, there
were many bugs with this feature. What hasn&rsquo;t been
fixed are the places where the pattern contains the multiple
characters, but the <br>
characters are split up by other things, such as in</p>

<p style="margin-top: 1em">&quot;ATIN SMALL LIGATURE
FFI}&quot; =~ /(f)(f)i/ui</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">&quot;ATIN SMALL LIGATURE
FFI}&quot; =~ /ffi*/ui</p>

<p style="margin-top: 1em">or</p>

<p style="margin-top: 1em">&quot;ATIN SMALL LIGATURE
FFI}&quot; =~ /[a-f][f-m][g-z]/ui</p>

<p style="margin-top: 1em">None of these match.</p>

<p style="margin-top: 1em">Also, this matching
doesn&rsquo;t fully conform to the current Unicode Standard,
which asks that the matching be made upon the NFD
(Normalization Form Decomposed) of the text. <br>
However, as of this writing (April 2010), the Unicode
Standard is currently in flux about what they will recommend
doing with regard in such scenarios. It may be that they
<br>
will throw out the whole concept of multi-character matches.
[perl #71736].</p>

<p style="margin-top: 1em">&Acirc;&middot; Naming a
deprecated character in &quot;AME}&quot; no longer leaks
memory.</p>

<p style="margin-top: 1em">&Acirc;&middot; We fixed a bug
that could cause &quot;AME}&quot; constructs followed by a
single &quot;.&quot; to be parsed incorrectly [perl #74978]
(5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;chop&quot;
now correctly handles characters above &quot;fffff}&quot;
[perl #73246].</p>

<p style="margin-top: 1em">&Acirc;&middot; Passing to
&quot;index&quot; an offset beyond the end of the string
when the string is encoded internally in UTF8 no longer
causes panics [perl #75898].</p>

<p style="margin-top: 1em">&Acirc;&middot; warn() and die()
now respect utf8-encoded scalars [perl #45549].</p>

<p style="margin-top: 1em">&Acirc;&middot; Sometimes the
UTF8 length cache would not be reset on a value returned by
substr, causing &quot;length(substr($uni_string, ...))&quot;
to give wrong answers. With &quot;${^UTF8CACHE}&quot; set
<br>
to -1, it would also produce a &quot;panic&quot; error
message [perl #77692].</p>

<p style="margin-top: 1em">Ties, Overloading and Other
Magic <br>
&Acirc;&middot; Overloading now works properly in
conjunction with tied variables. What formerly happened was
that most ops checked their arguments for overloading before
checking for <br>
magic, so for example an overloaded object returned by a
tied array access would usually be treated as not overloaded
[RT #57012].</p>

<p style="margin-top: 1em">&Acirc;&middot; Various
instances of magic (like tie methods) being called on tied
variables too many or too few times have been fixed:</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;$tied-&gt;()&quot; did not always call FETCH [perl
#8438].</p>

<p style="margin-top: 1em">&Acirc;&middot; Filetest
operators and &quot;y///&quot; and &quot;tr///&quot; were
calling FETCH too many times.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;=&quot; operator used to ignore magic on its
right-hand side if the scalar happened to hold a typeglob
(if a typeglob was the last thing returned from or assigned
to a <br>
tied scalar) [perl #77498].</p>

<p style="margin-top: 1em">&Acirc;&middot; Dereference
operators used to ignore magic if the argument was a
reference already (such as from a previous FETCH) [perl
#72144].</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;splice&quot; now calls set-magic (so changes made by
&quot;splice @ISA&quot; are respected by method calls) [perl
#78400].</p>

<p style="margin-top: 1em">&Acirc;&middot; In-memory files
created by &quot;open($fh, &quot;&gt;&quot;, uffer)&quot;
were not calling FETCH/STORE at all [perl #43789]
(5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; utf8::is_utf8()
now respects get-magic (like $1) (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; Non-commutative
binary operators used to swap their operands if the same
tied scalar was used for both operands and returned a
different value for each FETCH. For instance, <br>
if $t returned 2 the first time and 3 the second, then
&quot;$t/$t&quot; would evaluate to 1.5. This has been fixed
[perl #87708].</p>

<p style="margin-top: 1em">&Acirc;&middot; String
&quot;eval&quot; now detects taintedness of overloaded or
tied arguments [perl #75716].</p>

<p style="margin-top: 1em">&Acirc;&middot; String
&quot;eval&quot; and regular expression matches against
objects with string overloading no longer cause memory
corruption or crashes [perl #77084].</p>

<p style="margin-top: 1em">&Acirc;&middot; readline now
honors &quot;&lt;&gt;&quot; overloading on tied
arguments.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;&lt;expr&gt;&quot; always respects overloading now if
the expression is overloaded.</p>

<p style="margin-top: 1em">Because &quot;&lt;&gt; as
glob&quot; was parsed differently from &quot;&lt;&gt; as
filehandle&quot; from 5.6 onwards, something like
&quot;&lt;$foo[0]&gt;&quot; did not handle overloading, even
if $foo[0] was an overloaded <br>
object. This was contrary to the documentation for overload,
and meant that &quot;&lt;&gt;&quot; could not be used as a
general overloaded iterator operator.</p>

<p style="margin-top: 1em">&Acirc;&middot; The fallback
behaviour of overloading on binary operators was asymmetric
[perl #71286].</p>

<p style="margin-top: 1em">&Acirc;&middot; Magic applied to
variables in the main package no longer affects other
packages. See &quot;Magic variables outside the main
package&quot; above [perl #76138].</p>

<p style="margin-top: 1em">&Acirc;&middot; Sometimes magic
(ties, taintedness, etc.) attached to variables could cause
an object to last longer than it should, or cause a crash if
a tied variable were freed from <br>
within a tie method. These have been fixed [perl
#81230].</p>

<p style="margin-top: 1em">&Acirc;&middot; DESTROY methods
of objects implementing ties are no longer able to crash by
accessing the tied variable through a weak reference [perl
#86328].</p>

<p style="margin-top: 1em">&Acirc;&middot; Fixed a
regression of kill() when a match variable is used for the
process ID to kill [perl #75812].</p>

<p style="margin-top: 1em">&Acirc;&middot; $AUTOLOAD used
to remain tainted forever if it ever became tainted. Now it
is correctly untainted if an autoloaded method is called and
the method name was not tainted.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;sprintf&quot; now dies when passed a tainted scalar
for the format. It did already die for arbitrary
expressions, but not for simple scalars [perl #82250].</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;lc&quot;,
&quot;uc&quot;, &quot;lcfirst&quot;, and &quot;ucfirst&quot;
no longer return untainted strings when the argument is
tainted. This has been broken since perl 5.8.9 [perl
#87336].</p>

<p style="margin-top: 1em">The Debugger <br>
&Acirc;&middot; The Perl debugger now also works in taint
mode [perl #76872].</p>

<p style="margin-top: 1em">&Acirc;&middot; Subroutine
redefinition works once more in the debugger [perl
#48332].</p>

<p style="margin-top: 1em">&Acirc;&middot; When -d is used
on the shebang (&quot;#!&quot;) line, the debugger now has
access to the lines of the main program. In the past, this
sometimes worked and sometimes did not, depending <br>
on the order in which things happened to be arranged in
memory [perl #71806].</p>

<p style="margin-top: 1em">&Acirc;&middot; A possible
memory leak when using caller() to set @DB::args has been
fixed (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl no longer
stomps on $DB::single, $DB::trace, and $DB::signal if these
variables already have values when $^P is assigned to [perl
#72422].</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;#line&quot; directives in string evals were not
properly updating the arrays of lines of code
(&quot;@{&quot;_&lt; ...&quot;}&quot;) that the debugger (or
any debugging or profiling module) uses. In <br>
threaded builds, they were not being updated at all. In
non-threaded builds, the line number was ignored, so any
change to the existing line number would cause the lines to
<br>
be misnumbered [perl #79442].</p>

<p style="margin-top: 1em">Threads <br>
&Acirc;&middot; Perl no longer accidentally clones lexicals
in scope within active stack frames in the parent when
creating a child thread [perl #73086].</p>

<p style="margin-top: 1em">&Acirc;&middot; Several memory
leaks in cloning and freeing threaded Perl interpreters have
been fixed [perl #77352].</p>

<p style="margin-top: 1em">&Acirc;&middot; Creating a new
thread when directory handles were open used to cause a
crash, because the handles were not cloned, but simply
passed to the new thread, resulting in a double <br>
free.</p>

<p style="margin-top: 1em">Now directory handles are cloned
properly on Windows and on systems that have a
&quot;fchdir&quot; function. On other systems, new threads
simply do not inherit directory handles from <br>
their parent threads [perl #75154].</p>

<p style="margin-top: 1em">&Acirc;&middot; The typeglob
&quot;*,&quot;, which holds the scalar variable $, (output
field separator), had the wrong reference count in child
threads.</p>

<p style="margin-top: 1em">&Acirc;&middot; [perl #78494]
When pipes are shared between threads, the &quot;close&quot;
function (and any implicit close, such as on thread exit) no
longer blocks.</p>

<p style="margin-top: 1em">&Acirc;&middot; Perl now does a
timely cleanup of SVs that are cloned into a new thread but
then discovered to be orphaned (that is, their owners are
not cloned). This eliminates several <br>
&quot;scalars leaked&quot; warnings when joining
threads.</p>

<p style="margin-top: 1em">Scoping and Subroutines <br>
&Acirc;&middot; Lvalue subroutines are again able to return
copy-on-write scalars. This had been broken since version
5.10.0 [perl #75656] (5.12.3).</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;require&quot; no longer causes &quot;caller&quot; to
return the wrong file name for the scope that called
&quot;require&quot; and other scopes higher up that had the
same file name [perl #68712].</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;sort&quot;
with a &quot;($$)&quot;-prototyped comparison routine used
to cause the value of @_ to leak out of the sort. Taking a
reference to @_ within the sorting routine could cause a
<br>
crash [perl #72334].</p>

<p style="margin-top: 1em">&Acirc;&middot; Match variables
(like $1) no longer persist between calls to a sort
subroutine [perl #76026].</p>

<p style="margin-top: 1em">&Acirc;&middot; Iterating with
&quot;foreach&quot; over an array returned by an lvalue sub
now works [perl #23790].</p>

<p style="margin-top: 1em">&Acirc;&middot; $@ is now
localised during calls to &quot;binmode&quot; to prevent
action at a distance [perl #78844].</p>

<p style="margin-top: 1em">&Acirc;&middot; Calling a
closure prototype (what is passed to an attribute handler
for a closure) now results in a &quot;Closure prototype
called&quot; error message instead of a crash [perl
#68560].</p>

<p style="margin-top: 1em">&Acirc;&middot; Mentioning a
read-only lexical variable from the enclosing scope in a
string &quot;eval&quot; no longer causes the variable to
become writable [perl #19135].</p>

<p style="margin-top: 1em">Signals <br>
&Acirc;&middot; Within signal handlers, $! is now implicitly
localized.</p>

<p style="margin-top: 1em">&Acirc;&middot; CHLD signals are
no longer unblocked after a signal handler is called if they
were blocked before by &quot;POSIX::sigprocmask&quot; [perl
#82040].</p>

<p style="margin-top: 1em">&Acirc;&middot; A signal handler
called within a signal handler could cause leaks or
double-frees. Now fixed [perl #76248].</p>

<p style="margin-top: 1em">Miscellaneous Memory Leaks <br>
&Acirc;&middot; Several memory leaks when loading XS modules
were fixed (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; substr(), pos(),
keys(), and vec() could, when used in combination with
lvalues, result in leaking the scalar value they operate on,
and cause its destruction to happen too <br>
late. This has now been fixed.</p>

<p style="margin-top: 1em">&Acirc;&middot; The
postincrement and postdecrement operators, &quot;++&quot;
and &quot;--&quot;, used to cause leaks when used on
references. This has now been fixed.</p>

<p style="margin-top: 1em">&Acirc;&middot; Nested
&quot;map&quot; and &quot;grep&quot; blocks no longer leak
memory when processing large lists [perl #48004].</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;use
VERSION&quot; and &quot;no VERSION&quot; no longer leak
memory [perl #78436] [perl #69050].</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;.=&quot;
followed by &quot;&lt;&gt;&quot; or &quot;readline&quot;
would leak memory if $/ contained characters beyond the
octet range and the scalar assigned to happened to be
encoded as UTF8 internally <br>
[perl #72246].</p>

<p style="margin-top: 1em">&Acirc;&middot; &quot;eval
&rsquo;BEGIN{die}&rsquo;&quot; no longer leaks memory on
non-threaded builds.</p>

<p style="margin-top: 1em">Memory Corruption and Crashes
<br>
&Acirc;&middot; glob() no longer crashes when %File::Glob::
is empty and &quot;CORE::GLOBAL::glob&quot; isn&rsquo;t
present [perl #75464] (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; readline() has
been fixed when interrupted by signals so it no longer
returns the &quot;same thing&quot; as before or random
memory.</p>

<p style="margin-top: 1em">&Acirc;&middot; When assigning a
list with duplicated keys to a hash, the assignment used to
return garbage and/or freed values:</p>

<p style="margin-top: 1em">@a = %h = (list with some
duplicate keys);</p>

<p style="margin-top: 1em">This has now been fixed [perl
#31865].</p>

<p style="margin-top: 1em">&Acirc;&middot; The mechanism
for freeing objects in globs used to leave dangling pointers
to freed SVs, meaning Perl users could see corrupted state
during destruction.</p>

<p style="margin-top: 1em">Perl now frees only the affected
slots of the GV, rather than freeing the GV itself. This
makes sure that there are no dangling refs or corrupted
state during destruction.</p>

<p style="margin-top: 1em">&Acirc;&middot; The interpreter
no longer crashes when freeing deeply-nested arrays of
arrays. Hashes have not been fixed yet [perl #44225].</p>

<p style="margin-top: 1em">&Acirc;&middot; Concatenating
long strings under &quot;use encoding&quot; no longer causes
Perl to crash [perl #78674].</p>

<p style="margin-top: 1em">&Acirc;&middot; Calling
&quot;-&gt;import&quot; on a class lacking an import method
could corrupt the stack, resulting in strange behaviour. For
instance,</p>

<p style="margin-top: 1em">push @a, &quot;foo&quot;, $b =
bar-&gt;import;</p>

<p style="margin-top: 1em">would assign &quot;foo&quot; to
$b [perl #63790].</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;recv&quot; function could crash when called with the
MSG_TRUNC flag [perl #75082].</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;formline&quot; no longer crashes when passed a tainted
format picture. It also taints $^A now if its arguments are
tainted [perl #79138].</p>

<p style="margin-top: 1em">&Acirc;&middot; A bug in how we
process filetest operations could cause a segfault.
Filetests don&rsquo;t always expect an op on the stack, so
we now use TOPs only if we&rsquo;re sure that we&rsquo;re
not <br>
&quot;stat&quot;ing the &quot;_&quot; filehandle. This is
indicated by &quot;OPf_KIDS&quot; (as checked in ck_ftst)
[perl #74542] (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; unpack() now
handles scalar context correctly for %32H and %32u, fixing a
potential crash. split() would crash because the third item
on the stack wasn&rsquo;t the regular <br>
expression it expected. &quot;unpack(&quot;%2H&quot;,
...)&quot; would return both the unpacked result and the
checksum on the stack, as would
&quot;unpack(&quot;%2u&quot;, ...)&quot; [perl #73814]
(5.12.2).</p>

<p style="margin-top: 1em">Fixes to Various Perl Operators
<br>
&Acirc;&middot; The &quot;&amp;&quot;, &quot;|&quot;, and
&quot;^&quot; bitwise operators no longer coerce read-only
arguments [perl #20661].</p>

<p style="margin-top: 1em">&Acirc;&middot; Stringifying a
scalar containing &quot;-0.0&quot; no longer has the effect
of turning false into true [perl #45133].</p>

<p style="margin-top: 1em">&Acirc;&middot; Some numeric
operators were converting integers to floating point,
resulting in loss of precision on 64-bit platforms [perl
#77456].</p>

<p style="margin-top: 1em">&Acirc;&middot; sprintf() was
ignoring locales when called with constant arguments [perl
#78632].</p>

<p style="margin-top: 1em">&Acirc;&middot; Combining the
vector (%v) flag and dynamic precision would cause
&quot;sprintf&quot; to confuse the order of its arguments,
making it treat the string as the precision and vice-versa
<br>
[perl #83194].</p>

<p style="margin-top: 1em">Bugs Relating to the C API <br>
&Acirc;&middot; The C-level &quot;lex_stuff_pvn&quot;
function would sometimes cause a spurious syntax error on
the last line of the file if it lacked a final semicolon
[perl #74006] (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;eval_sv&quot; and &quot;eval_pv&quot; C functions now
set $@ correctly when there is a syntax error and no
&quot;G_KEEPERR&quot; flag, and never set it if the
&quot;G_KEEPERR&quot; flag is present [perl <br>
#3719].</p>

<p style="margin-top: 1em">&Acirc;&middot; The XS multicall
API no longer causes subroutines to lose reference counts if
called via the multicall interface from within those very
subroutines. This affects modules <br>
like List::Util. Calling one of its functions with an active
subroutine as the first argument could cause a crash [perl
#78070].</p>

<p style="margin-top: 1em">&Acirc;&middot; The
&quot;SvPVbyte&quot; function available to XS modules now
calls magic before downgrading the SV, to avoid warnings
about wide characters [perl #72398].</p>

<p style="margin-top: 1em">&Acirc;&middot; The ref types in
the typemap for XS bindings now support magical variables
[perl #72684].</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;sv_catsv_flags&quot; no longer calls
&quot;mg_get&quot; on its second argument (the source
string) if the flags passed to it do not include SV_GMAGIC.
So it now matches the documentation.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;my_strftime&quot; no longer leaks memory. This fixes a
memory leak in &quot;POSIX::strftime&quot; [perl
#73520].</p>

<p style="margin-top: 1em">&Acirc;&middot; XSUB.h now
correctly redefines fgets under PERL_IMPLICIT_SYS [perl
#55049] (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; XS code using
fputc() or fputs() on Windows could cause an error due to
their arguments being swapped [perl #72704] (5.12.1).</p>

<p style="margin-top: 1em">&Acirc;&middot; A possible
segfault in the &quot;T_PTROBJ&quot; default typemap has
been fixed (5.12.2).</p>

<p style="margin-top: 1em">&Acirc;&middot; A bug that could
cause &quot;Unknown error&quot; messages when
&quot;call_sv(code, G_EVAL)&quot; is called from an XS
destructor has been fixed (5.12.2).</p>

<p style="margin-top: 1em">Known Problems <br>
This is a list of significant unresolved issues which are
regressions from earlier versions of Perl or which affect
widely-used CPAN modules.</p>

<p style="margin-top: 1em">&Acirc;&middot;
&quot;List::Util::first&quot; misbehaves in the presence of
a lexical $_ (typically introduced by &quot;my $_&quot; or
implicitly by &quot;given&quot;). The variable that gets set
for each iteration is <br>
the package variable $_, not the lexical $_.</p>

<p style="margin-top: 1em">A similar issue may occur in
other modules that provide functions which take a block as
their first argument, like</p>

<p style="margin-top: 1em">foo { ... $_ ...} list</p>

<p style="margin-top: 1em">See also:
&lt;http://rt.perl.org/rt3/Public/Bug/Display.html?id=67694&gt;</p>

<p style="margin-top: 1em">&Acirc;&middot; readline()
returns an empty string instead of a cached previous value
when it is interrupted by a signal</p>

<p style="margin-top: 1em">&Acirc;&middot; The changes in
prototype handling break Switch. A patch has been sent
upstream and will hopefully appear on CPAN soon.</p>

<p style="margin-top: 1em">&Acirc;&middot; The upgrade to
ExtUtils-MakeMaker-6.57_05 has caused some tests in the
Module-Install distribution on CPAN to fail. (Specifically,
02_mymeta.t tests 5 and 21; 18_all_from.t <br>
tests 6 and 15; 19_authors.t tests 5, 13, 21, and 29; and
20_authors_with_special_characters.t tests 6, 15, and 23 in
version 1.00 of that distribution now fail.)</p>

<p style="margin-top: 1em">&Acirc;&middot; On VMS,
&quot;Time::HiRes&quot; tests will fail due to a bug in the
CRTL&rsquo;s implementation of &quot;setitimer&quot;:
previous timer values would be cleared if a timer expired
but not if the timer <br>
was reset before expiring. HP OpenVMS Engineering have
corrected the problem and will release a patch in due course
(Quix case # QXCM1001115136).</p>

<p style="margin-top: 1em">&Acirc;&middot; On VMS, there
were a handful of &quot;Module::Build&quot; test failures we
didn&rsquo;t get to before the release; please watch CPAN
for updates.</p>

<p style="margin-top: 1em">Errata <br>
keys(), values(), and each() work on arrays <br>
You can now use the keys(), values(), and each() builtins on
arrays; previously you could use them only on hashes. See
perlfunc for details. This is actually a change <br>
introduced in perl 5.12.0, but it was missed from that
release&rsquo;s perl5120delta.</p>

<p style="margin-top: 1em">split() and @_ <br>
split() no longer modifies @_ when called in scalar or void
context. In void context it now produces a &quot;Useless use
of split&quot; warning. This was also a perl 5.12.0 change
that <br>
missed the perldelta.</p>

<p style="margin-top: 1em">Obituary <br>
Randy Kobes, creator of http://kobesearch.cpan.org/ and
contributor/maintainer to several core Perl toolchain
modules, passed away on September 18, 2010 after a battle
with lung <br>
cancer. The community was richer for his involvement. He
will be missed.</p>

<p style="margin-top: 1em">Acknowledgements <br>
Perl 5.14.0 represents one year of development since Perl
5.12.0 and contains nearly 550,000 lines of changes across
nearly 3,000 files from 150 authors and committers.</p>

<p style="margin-top: 1em">Perl continues to flourish into
its third decade thanks to a vibrant community of users and
developers. The following people are known to have
contributed the improvements that <br>
became Perl 5.14.0:</p>

<p style="margin-top: 1em">Aaron Crane, Abhijit Menon-Sen,
Abigail, var Arnfjoer&lsquo; Bjarmason, Alastair Douglas,
Alexander Alekseev, Alexander Hartmaier, Alexandr Ciornii,
Alex Davies, Alex Vandiver, Ali <br>
Polatel, Allen Smith, Andreas Koenig, Andrew Rodland, Andy
Armstrong, Andy Dougherty, Aristotle Pagaltzis, Arkturuz,
Arvan, A. Sinan Unur, Ben Morrow, Bo Lindbergh, Boris
Ratner, <br>
Brad Gilbert, Bram, brian d foy, Brian Phillips, Casey West,
Charles Bailey, Chas. Owens, Chip Salzenberg, Chris
&rsquo;BinGOs&rsquo; Williams, chromatic, Craig A. Berry,
Curtis Jewell, <br>
Dagfinn Ilmari Mannsaaker, Dan Dascalescu, Dave Rolsky,
David Caldwell, David Cantrell, David Golden, David
Leadbeater, David Mitchell, David Wheeler, Eric Brine,
Father <br>
Chrysostomos, Fingle Nark, Florian Ragwitz, Frank Wiegand,
Franz Fasching, Gene Sullivan, George Greer, Gerard Goossen,
Gisle Aas, Goro Fuji, Grant McLean, gregor herrmann, <br>
H.Merijn Brand, Hongwen Qiu, Hugo van der Sanden, Ian
Goodacre, James E Keenan, James Mastros, Jan Dubois, Jay
Hannah, Jerry D. Hedden, Jesse Vincent, Jim Cromie, Jirka
HruXka, <br>
John Peacock, Joshua ben Jore, Joshua Pritikin, Karl
Williamson, Kevin Ryde, kmx, Lars DXXXXXX XXX, Larwan Berke,
Leon Brocard, Leon Timmermans, Lubomir Rintel, Lukas Mai,
Maik <br>
Hentsche, Marty Pauley, Marvin Humphrey, Matt Johnson, Matt
S Trout, Max Maischein, Michael Breen, Michael Fig, Michael
G Schwern, Michael Parker, Michael Stevens, Michael <br>
Witten, Mike Kelly, Moritz Lenz, Nicholas Clark, Nick
Cleaton, Nick Johnston, Nicolas Kaiser, Niko Tyni, Noirin
Shirley, Nuno Carvalho, Paul Evans, Paul Green, Paul
Johnson, Paul <br>
Marquess, Peter J. Holzer, Peter John Acklam, Peter Martini,
Philippe Bruhat (BooK), Piotr Fusik, Rafael Garcia-Suarez,
Rainer Tammer, Reini Urban, Renee Baecker, Ricardo Signes,
<br>
Richard Moehn, Richard Soderberg, Rob Hoelz, Robin Barker,
Ruslan Zakirov, Salvador Fandin~o, Salvador Ortiz Garcia,
Shlomi Fish, Sinan Unur, Sisyphus, Slaven Rezic, Steffen
<br>
Mueller, Steve Hay, Steven Schubiger, Steve Peters, Sullivan
Beck, Tatsuhiko Miyagawa, Tim Bunce, Todd Rinaldo, Tom
Christiansen, Tom Hukins, Tony Cook, Tye McQueen, Vadim <br>
Konovalov, Vernon Lyon, Vincent Pit, Walt Mankowski, Wolfram
Humann, Yves Orton, Zefram, and Zsban Ambrus.</p>

<p style="margin-top: 1em">This is woefully incomplete as
it&rsquo;s automatically generated from version control
history. In particular, it doesn&rsquo;t include the names
of the (very much appreciated) contributors <br>
who reported issues in previous versions of Perl that helped
make Perl 5.14.0 better. For a more complete list of all of
Perl&rsquo;s historical contributors, please see the
&quot;AUTHORS&quot; <br>
file in the Perl 5.14.0 distribution.</p>

<p style="margin-top: 1em">Many of the changes included in
this version originated in the CPAN modules included in
Perl&rsquo;s core. We&rsquo;re grateful to the entire CPAN
community for helping Perl to flourish.</p>

<p style="margin-top: 1em">Reporting Bugs <br>
If you find what you think is a bug, you might check the
articles recently posted to the comp.lang.perl.misc
newsgroup and the Perl bug database at
http://rt.perl.org/perlbug/ . <br>
There may also be information at http://www.perl.org/ , the
Perl Home Page.</p>

<p style="margin-top: 1em">If you believe you have an
unreported bug, please run the perlbug program included with
your release. Be sure to trim your bug down to a tiny but
sufficient test case. Your bug <br>
report, along with the output of &quot;perl -V&quot;, will
be sent off to perlbug@perl.org to be analysed by the Perl
porting team.</p>

<p style="margin-top: 1em">If the bug you are reporting has
security implications, which make it inappropriate to send
to a publicly archived mailing list, then please send it to
<br>
perl5-security-report@perl.org. This points to a closed
subscription unarchived mailing list, which includes all the
core committers, who are able to help assess the impact of
<br>
issues, figure out a resolution, and help co-ordinate the
release of patches to mitigate or fix the problem across all
platforms on which Perl is supported. Please use this <br>
address for security issues in the Perl core only, not for
modules independently distributed on CPAN.</p>

<p style="margin-top: 1em">SEE ALSO <br>
The Changes file for an explanation of how to view
exhaustive details on what changed.</p>

<p style="margin-top: 1em">The INSTALL file for how to
build Perl.</p>

<p style="margin-top: 1em">The README file for general
stuff.</p>

<p style="margin-top: 1em">The Artistic and Copying files
for copyright information.</p>

<p style="margin-top: 1em">perl v5.16.3 2013-03-04
PERL5140DELTA(1)</p>
<hr>
</body>
</html>
