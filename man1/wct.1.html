<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>WCT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">WCT(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">WCT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
wct - Whozz Calling Ethernet Link Device interactive tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<pre>
 wct [--debug|-D]
     [--help|-h]
     [--logfile-append|-l &lt;filename&gt;]
     [--logfile-overwrite|-L &lt;filename&gt;]
     [--configfile|-C &lt;filename&gt;]
     [--man|-m]
     [--set-wc]
     [--pidfile|-p &lt;filename&gt;]
     [--discover|--discovery|-d]
     [--discover-loop|--discovery-loop &lt;secs&gt;]
     [--verbose|-v &lt;1-9&gt;]
     [--version|-V]
     [--wchost|-w &lt;address1&gt;[,address2][,...]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This script allows you to interact with a Whozz Calling device in order to view
  or change its configuration. This script is generic as configuration settings
  vary depending on the Whozz Calling model and firmware version.
<div class="Pp"></div>
Enter the commands one per line, or simply hit &lt;ENTER&gt; alone to see if
  there are pending responses.
<div class="Pp"></div>
DO NOT type the '^^Id' prefix as it will be included automatically.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-w &lt;address1[,address2][,...]&gt;,
    --wchost=&lt;address1[,address2],[,...]&gt;</dt>
  <dd class="It-tag">Specifies the Whozz Calling Ethernet Link Device or
      devices. Multiple addresses for devices are comma separated.
    <div style="height: 1.00em;">&#x00A0;</div>
    Input must be &lt;address&gt; or &lt;address1,address2,etc&gt;.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: 192.168.0.90
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is ignored if --discover or --discover-loop is in effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-D, --debug</dt>
  <dd class="It-tag">Debug mode, displays all messages that go into the log
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h, --help</dt>
  <dd class="It-tag">Prints the help message and exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m, --man</dt>
  <dd class="It-tag">Prints the manual page and exits.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-C, --configfile=&lt;filename&gt;</dt>
  <dd class="It-tag">Specifies the configuration file to use. The program will
      still run if a configuration file is not found.
    <div style="height: 1.00em;">&#x00A0;</div>
    If --discover or --discover-loop is in effect, the configuration file will
      still be processed but any &quot;wcaddr&quot; addresses will be ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: /usr/local/etc/ncid/wc2ncid.conf</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--set-wc</dt>
  <dd class="It-tag">Sets the IP address, beginning line number, number of
      telephone lines, and sending port for each Whozz Calling Ethernet Link
      Device.
    <div style="height: 1.00em;">&#x00A0;</div>
    It sets the IP address for the WC device from the address for
      &quot;wcaddr&quot; in the configuration file or --wchost on the command
      line.
    <div style="height: 1.00em;">&#x00A0;</div>
    It automatically sets the beginning line number for the WC device which is
      used as a line label prefixed with &quot;WC&quot;. Each device gets a
      beginning line number that is the ending line number plus one from the
      preceeding device, for example; device 1 (WC01 WC02) device 2 (WC03 WC04
      WC05 WC06).
    <div style="height: 1.00em;">&#x00A0;</div>
    NOTE: All devices are automatically configured to send call information on
      port 3520.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is ignored if --discover or --discover-loop is in effect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l, --logfile-append=&lt;filename&gt;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-L, --logfile-overwrite=&lt;filename&gt;</dt>
  <dd class="It-tag">Specifies the logfile name to write. The program will still
      run if it does not have permission to write to it.
    <div style="height: 1.00em;">&#x00A0;</div>
    If both options are present, --logfile-append takes precedence.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: Append to wct.log in your current directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p, --pidfile=&lt;filename&gt;</dt>
  <dd class="It-tag">Specifies the pidfile name to write. The program will still
      run if it does not have permission to write a pidfile. The pid filename
      that should be used is /var/run/wc2ncid.pid.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: no pidfile</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d, --discover, --discovery =item --discover-loop
    &lt;secs&gt;, --discovery-loop &lt;secs&gt;</dt>
  <dd class="It-tag">Force discovery of all powered-on Whozz Calling Ethernet
      Link Devices. IP addresses in the configuration file, or on the command
      line, will be ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    Using --discover-loop causes continuous looping with a new discovery
      (&quot;^^IdX&quot;) being sent every &lt;secs&gt; seconds.
    <div style="height: 1.00em;">&#x00A0;</div>
    Normal invocation of this script functions the same as wc2ncid, including
      the initialization of each device's configuration &quot;toggles.&quot; Use
      the --discover or --discover-loop options if you want to bypass this
      initialization.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v, --verbose &lt;1-9&gt;</dt>
  <dd class="It-tag">Output information, used for the logfile and the debug
      option. Set the level to a higher number for more information. Levels
      range from 1 to 9, but not all levels are used.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default: verbose = 1</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V, --version</dt>
  <dd class="It-tag">Displays the version.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">Start wct and look for all powered-on devices:</dt>
  <dd class="It-tag">wct -d</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Start wct, set IP address to 192.168.1.90 from command
    line, set the beginning line number automatically, and set the sending
    Ethernet port to 3520 (the default):</dt>
  <dd class="It-tag">wct --set-wc --wchost 192.168.1.90</dd>
</dl>
<h1 class="Sh" title="Sh" id="INTERACTIVE_COMMAND_MODE"><a class="selflink" href="#INTERACTIVE_COMMAND_MODE">INTERACTIVE
  COMMAND MODE</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">d2h</dt>
  <dd class="It-tag">Decimal-to-hex conversion.
    <div style="height: 1.00em;">&#x00A0;</div>
    User will be asked for the decimal number to be converted to hex.
    <div style="height: 1.00em;">&#x00A0;</div>
    An IP address may also be typed (e.g., 192.168.1.90) to show the proper hex
      digits for the 'D' and 'I' commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">help</dt>
  <dd class="It-tag">Displays this interactive command mode help. Press letter
      'q' to return to the command prompt at any time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">select</dt>
  <dd class="It-tag">When multiple Whozz Calling Ethernet Link Devices are being
      used, allows selecting which one to interact with.
    <div style="height: 1.00em;">&#x00A0;</div>
    A special &quot;ALL DEVICES&quot; choice is also available, meaning all
      typed commands will be broadcast to all devices. For example, selecting
      &quot;ALL DEVICES&quot; and then typing the Z command will cause all
      powered on devices to be reset to their factory defaults. Use &quot;ALL
      DEVICES&quot; with care because you could set all devices to have the same
      IP address, same MAC address, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1-9</dt>
  <dd class="It-tag">Entering a single digit changes the verbosity level
      on-the-fly.</dd>
</dl>
<div class="Pp"></div>
Not all of the commands below are supported by all WC devices.
<h2 class="Ss" title="Ss" id="Single_character_commands"><a class="selflink" href="#Single_character_commands">Single
  character commands</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">N</dt>
  <dd class="It-tag">Set destination IP and MAC addresses to THIS computer.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">X</dt>
  <dd class="It-tag">Show unit#, serial#, network settings. This command can be
      used to discover all powered-on WC devices. It is the same as runnning wct
      with the --discover command line option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Z</dt>
  <dd class="It-tag">Reset unit# to '123' and network settings to factory
      defaults; does NOT change: toggles, block/pass numbers in memory,
      date/time or the device's starting line#. See also &quot;Other ways to
      reset a device&quot; on the last page of this manual.
    <div style="height: 1.00em;">&#x00A0;</div>
    Settings changed by this command will not be reflected under the 'select'
      menu until the next time you do an 'X' to discover all available
    devices.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Two_character_commands"><a class="selflink" href="#Two_character_commands">Two
  character commands</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag">-@</dt>
  <dd class="It-tag">Causes a device to respond with &quot;#&quot; sign. Can be
      used for establishing device communication.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-J</dt>
  <dd class="It-tag">Show contents of block/pass numbers stored in memory. Be
      sure to first set the verbose level to 4 or greater to see the actual
      numbers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-R</dt>
  <dd class="It-tag">Perform power-on reset and sets all toggles to uppercase.
      Leaves network configuration, and block/pass memory, and the device's
      starting line# unchanged. See also &quot;Other ways to reset a
      device&quot; on the last page of this manual.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t</dt>
  <dd class="It-tag">Where 't' is any single toggle, case sensitive (e.g., -E,
      -b).
    <div style="height: 1.00em;">&#x00A0;</div>
    Uppercase usually means the feature/setting is OFF, lowercase means it is
      ON.</dd>
</dl>
<div style="margin-left: 8.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
 E, e   Command echo
 C, c   Leading '$' and dashes in numbers (wc2ncid and wct
        always strip both)
 X, x   Comprehensive (X) or limited (x) data format
 U, u   Use phone numbers in internal block/pass memory
 D, d   Detail information (rings, hook on/off/flash)
 A, a   Data sent at start AND end of a call
 S, s   See below
 O, o   Only inbound (O) calls reported, or inbound and 
        outbound (o)
 B, b   Suppress first ring (B) or always pass through (b)
 K, k   See below
 T, t   Inbound DTMF monitoring
 The 'U' and 'A' toggles each have a companion toggle as
 described below.
 
 If 'U' is set, blocking/passing is turned OFF and toggles
 'K' and 'k' are ignored.
 
 If 'u' is set, blocking/passing is turned ON. The toggle 'K'
 will pass all calls by default (i.e., only the phone numbers
 in the internal memory will be blocked) and 'k' will block
 all calls by default (i.e., only the phone numbers in the 
 internal memory will be passed through).
 
 If 'A' is set, data is sent at the start AND end of a call, 
 and toggles 'S' and 's' are ignored.
 
 If 'a' is set, data is sent only at start(S) or end(s) of a
 call.
</pre>
</div>
<div style="margin-left: 8.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">-V</dt>
  <dd class="It-tag">Show processor version, all toggles, line# of channel 1,
      date, time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">Show internal jumper settings.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Multiple_character_commands_requiring_HEX_digits."><a class="selflink" href="#Multiple_character_commands_requiring_HEX_digits.">Multiple
  character commands requiring HEX digits.</a></h2>
Numbers in parens () indicate required number of hex digits.
<div class="Pp"></div>
Commands I, T and U are typically the only ones that will be used.
<div class="Pp"></div>
Hex digits A - F may be entered in lowercase or uppercase.
<dl class="Bl-tag">
  <dt class="It-tag">Chhhhhhhhhhhh</dt>
  <dd class="It-tag">Set destination MAC address (12) of the computer to receive
      WC data (use all 'F's for entire LAN).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Dhhhhhhhh</dt>
  <dd class="It-tag">Set destination IP address (8) of the computer to receive
      WC data (use all 'F's for entire LAN).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Ihhhhhhhh</dt>
  <dd class="It-tag">Set device IP address (8).
    <div style="height: 1.00em;">&#x00A0;</div>
    Changing the IP address will not be reflected under the 'select' menu until
      the next time you do an 'X' to discover all available devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Mhhhhhhhhhhhh</dt>
  <dd class="It-tag">Set device MAC address (12).
    <div style="height: 1.00em;">&#x00A0;</div>
    Changing the MAC address will not be reflected under the 'select' menu until
      the next time you do an 'X' to discover all available devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Phhhh</dt>
  <dd class="It-tag">Set destination port number (4 hex digits) of the computer
      to receive WC data. This is normally 0DC0, or 3520 in decimal.
    <div style="height: 1.00em;">&#x00A0;</div>
    It is very rare that this command would be used. You most likely would want
      to use 'Thhhh' instead.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Thhhh</dt>
  <dd class="It-tag">Set device port number (4 hex digits). This is normally
      0DC0, or 3520 in decimal.
    <div style="height: 1.00em;">&#x00A0;</div>
    Changing the port number will not be reflected under the 'select' menu until
      the next time you do an 'X' to discover all available devices.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Uhhhhhhhhhhhh</dt>
  <dd class="It-tag">Set unit number (12).
    <div style="height: 1.00em;">&#x00A0;</div>
    Changing the unit number will not be reflected under the 'select' menu until
      the next time you do an 'X' to discover all available devices.
    <div style="height: 1.00em;">&#x00A0;</div>
    Note that wc2ncid will change and use the unit number to track the number of
      telephone lines (2, 4, or 8) that can be connected to the device. This is
      used when establishing the starting line# of channel#1, i.e., the
      &quot;L=xx&quot; parameter seen when executing the '-V' command.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Multiple_character_commands_requiring_DECIMAL_digits."><a class="selflink" href="#Multiple_character_commands_requiring_DECIMAL_digits.">Multiple
  character commands requiring DECIMAL digits.</a></h2>
Normally these require a terminating carriage return character, but the wct
  script takes care of this for you by sending a terminating carriage return
  after all commands.
<dl class="Bl-tag">
  <dt class="It-tag">-Nnnnnnnnnnnnn</dt>
  <dd class="It-tag">Add a 7 to 12 digit phone number to block/pass memory,
      maximum of 40 phone numbers.
    <div style="height: 1.00em;">&#x00A0;</div>
    The WC device will not check to see if the number you're adding is already
      stored in memory. It lets you add duplicates.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the memory becomes full, additional numbers will be silently
    ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-N66</dt>
  <dd class="It-tag">Add Out-of-area callers to block/pass memory. '-J' command
      will list as the letter 'O' (&quot;oh&quot;) and not '66'. This counts
      against the maximum of 40 phone numbers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-N77</dt>
  <dd class="It-tag">Add Private callers to block/pass memory. '-J' command will
      list as the letter 'P' and not '77'. This counts against the maximum of 40
      phone numbers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-N00000077nn</dt>
  <dd class="It-tag">Special undocumented command to set line# of channel#1
      instead of using the 'Line No. Select' button on back of the device. And
      unlike the 'Line No. Select' button, you're not restricted to increments
      of four. 'nn' is base 16 but accepts digits only (no letters 'A' to 'F').
      For example, '-N0000007710' sets line# to '16' not '10'.
    <div style="height: 1.00em;">&#x00A0;</div>
    The echo toggle ('E') must be OFF for this setting to be saved in the
      device's memory.
    <div style="height: 1.00em;">&#x00A0;</div>
    You should wait at least 9 seconds after sending this command before sending
      the next one. Otherwise, the next command sent may be ignored.
    <div style="height: 1.00em;">&#x00A0;</div>
    Unlike the other uses of '-N', this special command does not affect the
      internal block/pass memory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-Wnn</dt>
  <dd class="It-tag">If toggle 'u' is set, block or pass the real-time inbound
      call on logical line 'nn'. Note that this is NOT the physical channel#
      that a phone line is hooked into.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-Zmmddhhmm</dt>
  <dd class="It-tag">Manually set date and time (24 hour format). Normally the
      date and time are set automatically by the first incoming ring.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Other_ways_to_reset_a_device"><a class="selflink" href="#Other_ways_to_reset_a_device">Other
  ways to reset a device</a></h2>
The download section at CallerID.com has a Windows program called &quot;EL
  Config&quot;. To use wct to emulate the EL Config reset options, do the
  following commands:
<div class="Pp"></div>
Config-&gt;Reset Unit Defaults
<div class="Pp"></div>
<pre>
    -N0000007701
    -R
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The above sets the line# of channel#1 ('N') to
  be 1, followed by a power-on reset ('R') that sets all toggles to uppercase.
  It does not change the network settings nor the block/pass memory.</div>
<div class="Pp"></div>
Config-&gt;Reset Ethernet Defaults
<div class="Pp"></div>
<pre>
    DFFFFFFFF
    U000000000001
    IC0A8005A
    CFFFFFFFFFFFF
    T0DC0
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">The above will set the destination IP address
  ('D') to be the entire LAN, the unit number ('U') to 1, the device's IP
  address ('I') to 192.168.0.90, the destination MAC address ('C') to be the
  entire LAN, and the device's port# ('T') to 3520. It does not change the
  device toggles, nor the block/pass memory, nor the device's starting
  line#.</div>
<h1 class="Sh" title="Sh" id="REQUIREMENTS"><a class="selflink" href="#REQUIREMENTS">REQUIREMENTS</a></h1>
perl 5.6 or higher, perl(Config::Simple), perl(Data::HexDump)
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
/etc/ncid/wc2ncid.conf
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
ncidd.8, wc2ncid.8, wc2ncid.conf.5</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-05-21</td>
    <td class="foot-os">perl v5.24.1</td>
  </tr>
</table>
</body>
</html>
