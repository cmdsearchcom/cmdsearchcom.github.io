<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:46 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>WCT(1) User Contributed Perl Documentation WCT(1)</p>

<p style="margin-top: 1em">NAME <br>
wct - Whozz Calling Ethernet Link Device interactive
tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
wct [--debug|-D] <br>
[--help|-h] <br>
[--logfile-append|-l &lt;filename&gt;] <br>
[--logfile-overwrite|-L &lt;filename&gt;] <br>
[--configfile|-C &lt;filename&gt;] <br>
[--man|-m] <br>
[--set-wc] <br>
[--pidfile|-p &lt;filename&gt;] <br>
[--discover|--discovery|-d] <br>
[--discover-loop|--discovery-loop &lt;secs&gt;] <br>
[--verbose|-v &lt;1-9&gt;] <br>
[--version|-V] <br>
[--wchost|-w &lt;address1&gt;[,address2][,...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This script allows you to interact with a Whozz Calling
device in order to view or change its configuration. This
script is generic as configuration settings vary depending
on <br>
the Whozz Calling model and firmware version.</p>

<p style="margin-top: 1em">Enter the commands one per line,
or simply hit &lt;ENTER&gt; alone to see if there are
pending responses.</p>

<p style="margin-top: 1em">DO NOT type the
&rsquo;^^Id&rsquo; prefix as it will be included
automatically.</p>

<p style="margin-top: 1em">OPTIONS <br>
-w &lt;address1[,address2][,...]&gt;,
--wchost=&lt;address1[,address2],[,...]&gt; <br>
Specifies the Whozz Calling Ethernet Link Device or devices.
Multiple addresses for devices are comma separated.</p>

<p style="margin-top: 1em">Input must be &lt;address&gt; or
&lt;address1,address2,etc&gt;.</p>

<p style="margin-top: 1em">Default: 192.168.0.90</p>

<p style="margin-top: 1em">This option is ignored if
--discover or --discover-loop is in effect.</p>

<p style="margin-top: 1em">-D, --debug <br>
Debug mode, displays all messages that go into the log
file.</p>

<p style="margin-top: 1em">-h, --help <br>
Prints the help message and exits.</p>

<p style="margin-top: 1em">-m, --man <br>
Prints the manual page and exits.</p>

<p style="margin-top: 1em">-C,
--configfile=&lt;filename&gt; <br>
Specifies the configuration file to use. The program will
still run if a configuration file is not found.</p>

<p style="margin-top: 1em">If --discover or --discover-loop
is in effect, the configuration file will still be processed
but any &quot;wcaddr&quot; addresses will be ignored.</p>

<p style="margin-top: 1em">Default:
/usr/local/etc/ncid/wc2ncid.conf</p>

<p style="margin-top: 1em">--set-wc <br>
Sets the IP address, beginning line number, number of
telephone lines, and sending port for each Whozz Calling
Ethernet Link Device.</p>

<p style="margin-top: 1em">It sets the IP address for the
WC device from the address for &quot;wcaddr&quot; in the
configuration file or --wchost on the command line.</p>

<p style="margin-top: 1em">It automatically sets the
beginning line number for the WC device which is used as a
line label prefixed with &quot;WC&quot;. Each device gets a
beginning line number that is the ending <br>
line number plus one from the preceeding device, for
example; device 1 (WC01 WC02) device 2 (WC03 WC04 WC05
WC06).</p>

<p style="margin-top: 1em">NOTE: All devices are
automatically configured to send call information on port
3520.</p>

<p style="margin-top: 1em">This option is ignored if
--discover or --discover-loop is in effect.</p>

<p style="margin-top: 1em">-l,
--logfile-append=&lt;filename&gt; <br>
-L, --logfile-overwrite=&lt;filename&gt; <br>
Specifies the logfile name to write. The program will still
run if it does not have permission to write to it.</p>

<p style="margin-top: 1em">If both options are present,
--logfile-append takes precedence.</p>

<p style="margin-top: 1em">Default: Append to wct.log in
your current directory.</p>

<p style="margin-top: 1em">-p, --pidfile=&lt;filename&gt;
<br>
Specifies the pidfile name to write. The program will still
run if it does not have permission to write a pidfile. The
pid filename that should be used is
/var/run/wc2ncid.pid.</p>

<p style="margin-top: 1em">Default: no pidfile</p>

<p style="margin-top: 1em">-d, --discover, --discovery
=item --discover-loop &lt;secs&gt;, --discovery-loop
&lt;secs&gt; <br>
Force discovery of all powered-on Whozz Calling Ethernet
Link Devices. IP addresses in the configuration file, or on
the command line, will be ignored.</p>

<p style="margin-top: 1em">Using --discover-loop causes
continuous looping with a new discovery (&quot;^^IdX&quot;)
being sent every &lt;secs&gt; seconds.</p>

<p style="margin-top: 1em">Normal invocation of this script
functions the same as wc2ncid, including the initialization
of each device&rsquo;s configuration &quot;toggles.&quot;
Use the --discover or --discover-loop <br>
options if you want to bypass this initialization.</p>

<p style="margin-top: 1em">-v, --verbose &lt;1-9&gt; <br>
Output information, used for the logfile and the debug
option. Set the level to a higher number for more
information. Levels range from 1 to 9, but not all levels
are used.</p>

<p style="margin-top: 1em">Default: verbose = 1</p>

<p style="margin-top: 1em">-V, --version <br>
Displays the version.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Start wct and look for all powered-on devices: <br>
wct -d</p>

<p style="margin-top: 1em">Start wct, set IP address to
192.168.1.90 from command line, set the beginning line
number automatically, and set the sending Ethernet port to
3520 (the default): <br>
wct --set-wc --wchost 192.168.1.90</p>

<p style="margin-top: 1em">INTERACTIVE COMMAND MODE <br>
d2h <br>
Decimal-to-hex conversion.</p>

<p style="margin-top: 1em">User will be asked for the
decimal number to be converted to hex.</p>

<p style="margin-top: 1em">An IP address may also be typed
(e.g., 192.168.1.90) to show the proper hex digits for the
&rsquo;D&rsquo; and &rsquo;I&rsquo; commands.</p>

<p style="margin-top: 1em">help <br>
Displays this interactive command mode help. Press letter
&rsquo;q&rsquo; to return to the command prompt at any
time.</p>

<p style="margin-top: 1em">select <br>
When multiple Whozz Calling Ethernet Link Devices are being
used, allows selecting which one to interact with.</p>

<p style="margin-top: 1em">A special &quot;ALL
DEVICES&quot; choice is also available, meaning all typed
commands will be broadcast to all devices. For example,
selecting &quot;ALL DEVICES&quot; and then typing the Z <br>
command will cause all powered on devices to be reset to
their factory defaults. Use &quot;ALL DEVICES&quot; with
care because you could set all devices to have the same IP
address, same <br>
MAC address, etc.</p>

<p style="margin-top: 1em">1-9 <br>
Entering a single digit changes the verbosity level
on-the-fly.</p>

<p style="margin-top: 1em">Not all of the commands below
are supported by all WC devices.</p>

<p style="margin-top: 1em">Single character commands <br>
N Set destination IP and MAC addresses to THIS computer.</p>

<p style="margin-top: 1em">X Show unit#, serial#, network
settings. This command can be used to discover all
powered-on WC devices. It is the same as runnning wct with
the --discover command line <br>
option.</p>

<p style="margin-top: 1em">Z Reset unit# to
&rsquo;123&rsquo; and network settings to factory defaults;
does NOT change: toggles, block/pass numbers in memory,
date/time or the device&rsquo;s starting line#. See also
<br>
&quot;Other ways to reset a device&quot; on the last page of
this manual.</p>

<p style="margin-top: 1em">Settings changed by this command
will not be reflected under the &rsquo;select&rsquo; menu
until the next time you do an &rsquo;X&rsquo; to discover
all available devices.</p>

<p style="margin-top: 1em">Two character commands <br>
-@ Causes a device to respond with &quot;#&quot; sign. Can
be used for establishing device communication.</p>

<p style="margin-top: 1em">-J Show contents of block/pass
numbers stored in memory. Be sure to first set the verbose
level to 4 or greater to see the actual numbers.</p>

<p style="margin-top: 1em">-R Perform power-on reset and
sets all toggles to uppercase. Leaves network configuration,
and block/pass memory, and the device&rsquo;s starting line#
unchanged. See also &quot;Other <br>
ways to reset a device&quot; on the last page of this
manual.</p>

<p style="margin-top: 1em">-t Where &rsquo;t&rsquo; is any
single toggle, case sensitive (e.g., -E, -b).</p>

<p style="margin-top: 1em">Uppercase usually means the
feature/setting is OFF, lowercase means it is ON.</p>

<p style="margin-top: 1em">E, e Command echo <br>
C, c Leading &rsquo;$&rsquo; and dashes in numbers (wc2ncid
and wct <br>
always strip both) <br>
X, x Comprehensive (X) or limited (x) data format <br>
U, u Use phone numbers in internal block/pass memory <br>
D, d Detail information (rings, hook on/off/flash) <br>
A, a Data sent at start AND end of a call <br>
S, s See below <br>
O, o Only inbound (O) calls reported, or inbound and <br>
outbound (o) <br>
B, b Suppress first ring (B) or always pass through (b) <br>
K, k See below <br>
T, t Inbound DTMF monitoring</p>

<p style="margin-top: 1em">The &rsquo;U&rsquo; and
&rsquo;A&rsquo; toggles each have a companion toggle as <br>
described below.</p>

<p style="margin-top: 1em">If &rsquo;U&rsquo; is set,
blocking/passing is turned OFF and toggles <br>
&rsquo;K&rsquo; and &rsquo;k&rsquo; are ignored.</p>

<p style="margin-top: 1em">If &rsquo;u&rsquo; is set,
blocking/passing is turned ON. The toggle &rsquo;K&rsquo;
<br>
will pass all calls by default (i.e., only the phone numbers
<br>
in the internal memory will be blocked) and &rsquo;k&rsquo;
will block <br>
all calls by default (i.e., only the phone numbers in the
<br>
internal memory will be passed through).</p>

<p style="margin-top: 1em">If &rsquo;A&rsquo; is set, data
is sent at the start AND end of a call, <br>
and toggles &rsquo;S&rsquo; and &rsquo;s&rsquo; are
ignored.</p>

<p style="margin-top: 1em">If &rsquo;a&rsquo; is set, data
is sent only at start(S) or end(s) of a <br>
call.</p>

<p style="margin-top: 1em">-V Show processor version, all
toggles, line# of channel 1, date, time.</p>

<p style="margin-top: 1em">-v Show internal jumper
settings.</p>

<p style="margin-top: 1em">Multiple character commands
requiring HEX digits. <br>
Numbers in parens () indicate required number of hex
digits.</p>

<p style="margin-top: 1em">Commands I, T and U are
typically the only ones that will be used.</p>

<p style="margin-top: 1em">Hex digits A - F may be entered
in lowercase or uppercase.</p>

<p style="margin-top: 1em">Chhhhhhhhhhhh <br>
Set destination MAC address (12) of the computer to receive
WC data (use all &rsquo;F&rsquo;s for entire LAN).</p>

<p style="margin-top: 1em">Dhhhhhhhh <br>
Set destination IP address (8) of the computer to receive WC
data (use all &rsquo;F&rsquo;s for entire LAN).</p>

<p style="margin-top: 1em">Ihhhhhhhh <br>
Set device IP address (8).</p>

<p style="margin-top: 1em">Changing the IP address will not
be reflected under the &rsquo;select&rsquo; menu until the
next time you do an &rsquo;X&rsquo; to discover all
available devices.</p>

<p style="margin-top: 1em">Mhhhhhhhhhhhh <br>
Set device MAC address (12).</p>

<p style="margin-top: 1em">Changing the MAC address will
not be reflected under the &rsquo;select&rsquo; menu until
the next time you do an &rsquo;X&rsquo; to discover all
available devices.</p>

<p style="margin-top: 1em">Phhhh Set destination port
number (4 hex digits) of the computer to receive WC data.
This is normally 0DC0, or 3520 in decimal.</p>

<p style="margin-top: 1em">It is very rare that this
command would be used. You most likely would want to use
&rsquo;Thhhh&rsquo; instead.</p>

<p style="margin-top: 1em">Thhhh Set device port number (4
hex digits). This is normally 0DC0, or 3520 in decimal.</p>

<p style="margin-top: 1em">Changing the port number will
not be reflected under the &rsquo;select&rsquo; menu until
the next time you do an &rsquo;X&rsquo; to discover all
available devices.</p>

<p style="margin-top: 1em">Uhhhhhhhhhhhh <br>
Set unit number (12).</p>

<p style="margin-top: 1em">Changing the unit number will
not be reflected under the &rsquo;select&rsquo; menu until
the next time you do an &rsquo;X&rsquo; to discover all
available devices.</p>

<p style="margin-top: 1em">Note that wc2ncid will change
and use the unit number to track the number of telephone
lines (2, 4, or 8) that can be connected to the device. This
is used when <br>
establishing the starting line# of channel#1, i.e., the
&quot;L=xx&quot; parameter seen when executing the
&rsquo;-V&rsquo; command.</p>

<p style="margin-top: 1em">Multiple character commands
requiring DECIMAL digits. <br>
Normally these require a terminating carriage return
character, but the wct script takes care of this for you by
sending a terminating carriage return after all
commands.</p>

<p style="margin-top: 1em">-Nnnnnnnnnnnnn <br>
Add a 7 to 12 digit phone number to block/pass memory,
maximum of 40 phone numbers.</p>

<p style="margin-top: 1em">The WC device will not check to
see if the number you&rsquo;re adding is already stored in
memory. It lets you add duplicates.</p>

<p style="margin-top: 1em">If the memory becomes full,
additional numbers will be silently ignored.</p>

<p style="margin-top: 1em">-N66 Add Out-of-area callers to
block/pass memory. &rsquo;-J&rsquo; command will list as the
letter &rsquo;O&rsquo; (&quot;oh&quot;) and not
&rsquo;66&rsquo;. This counts against the maximum of 40
phone numbers.</p>

<p style="margin-top: 1em">-N77 Add Private callers to
block/pass memory. &rsquo;-J&rsquo; command will list as the
letter &rsquo;P&rsquo; and not &rsquo;77&rsquo;. This counts
against the maximum of 40 phone numbers.</p>

<p style="margin-top: 1em">-N00000077nn <br>
Special undocumented command to set line# of channel#1
instead of using the &rsquo;Line No. Select&rsquo; button on
back of the device. And unlike the &rsquo;Line No.
Select&rsquo; button, <br>
you&rsquo;re not restricted to increments of four.
&rsquo;nn&rsquo; is base 16 but accepts digits only (no
letters &rsquo;A&rsquo; to &rsquo;F&rsquo;). For example,
&rsquo;-N0000007710&rsquo; sets line# to &rsquo;16&rsquo;
not &rsquo;10&rsquo;.</p>

<p style="margin-top: 1em">The echo toggle
(&rsquo;E&rsquo;) must be OFF for this setting to be saved
in the device&rsquo;s memory.</p>

<p style="margin-top: 1em">You should wait at least 9
seconds after sending this command before sending the next
one. Otherwise, the next command sent may be ignored.</p>

<p style="margin-top: 1em">Unlike the other uses of
&rsquo;-N&rsquo;, this special command does not affect the
internal block/pass memory.</p>

<p style="margin-top: 1em">-Wnn If toggle &rsquo;u&rsquo;
is set, block or pass the real-time inbound call on logical
line &rsquo;nn&rsquo;. Note that this is NOT the physical
channel# that a phone line is hooked into.</p>

<p style="margin-top: 1em">-Zmmddhhmm <br>
Manually set date and time (24 hour format). Normally the
date and time are set automatically by the first incoming
ring.</p>

<p style="margin-top: 1em">Other ways to reset a device
<br>
The download section at CallerID.com has a Windows program
called &quot;EL Config&quot;. To use wct to emulate the EL
Config reset options, do the following commands:</p>

<p style="margin-top: 1em">Config-&gt;Reset Unit
Defaults</p>

<p style="margin-top: 1em">-N0000007701 <br>
-R</p>

<p style="margin-top: 1em">The above sets the line# of
channel#1 (&rsquo;N&rsquo;) to be 1, followed by a power-on
reset (&rsquo;R&rsquo;) that sets all toggles to uppercase.
It does not change the network settings nor the <br>
block/pass memory.</p>

<p style="margin-top: 1em">Config-&gt;Reset Ethernet
Defaults</p>

<p style="margin-top: 1em">DFFFFFFFF <br>
U000000000001 <br>
IC0A8005A <br>
CFFFFFFFFFFFF <br>
T0DC0</p>

<p style="margin-top: 1em">The above will set the
destination IP address (&rsquo;D&rsquo;) to be the entire
LAN, the unit number (&rsquo;U&rsquo;) to 1, the
device&rsquo;s IP address (&rsquo;I&rsquo;) to 192.168.0.90,
the destination MAC <br>
address (&rsquo;C&rsquo;) to be the entire LAN, and the
device&rsquo;s port# (&rsquo;T&rsquo;) to 3520. It does not
change the device toggles, nor the block/pass memory, nor
the device&rsquo;s starting line#.</p>

<p style="margin-top: 1em">REQUIREMENTS <br>
perl 5.6 or higher, perl(Config::Simple),
perl(Data::HexDump)</p>

<p style="margin-top: 1em">FILES <br>
/etc/ncid/wc2ncid.conf</p>

<p style="margin-top: 1em">SEE ALSO <br>
ncidd.8, wc2ncid.8, wc2ncid.conf.5</p>

<p style="margin-top: 1em">perl v5.24.1 2015-05-21
WCT(1)</p>
<hr>
</body>
</html>
