<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:10:24 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>flow-stat(1) General Commands Manual flow-stat(1)</p>

<p style="margin-top: 1em">NAME <br>
flow-stat &acirc; Generate reports with flow data.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
flow-stat [-hnpPw] [-d debug_level] [-f format] [-S
sort_field] [-s sort_field] [-t tally_lines] [-T title]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The flow-stat utility generates usage reports for flow data
sets by IP address, IP address pairs, ports, packets, bytes,
interfaces, next hops, autonomous systems, ToS bits, <br>
exporters, and tags.</p>

<p style="margin-top: 1em">OPTIONS <br>
-d debug_level <br>
Enable debugging.</p>

<p style="margin-top: 1em">-f format</p>

<p style="margin-top: 1em">Report format. Choose from the
following:</p>

<p style="margin-top: 1em">0 Overall Summary <br>
1 Average packet size distribution <br>
2 Packets per flow distribution <br>
3 Octets per flow distribution <br>
4 Bandwidth per flow distribution <br>
5 UDP/TCP destination port <br>
6 UDP/TCP source port <br>
7 UDP/TCP port <br>
8 Destination IP <br>
9 Source IP <br>
10 Source/Destination IP <br>
11 Source or Destination IP <br>
12 IP protocol <br>
13 octets for flow duration plot data <br>
14 packets for flow duration plot data <br>
15 short summary <br>
16 IP Next Hop <br>
17 Input interface <br>
18 Output interface <br>
19 Source AS <br>
20 Destination AS <br>
21 Source/Destination AS <br>
22 IP ToS <br>
23 Input/Output Interface <br>
24 Source Prefix <br>
25 Destination Prefix <br>
26 Source/Destination Prefix <br>
27 Exporter IP <br>
28 Engine Id <br>
29 Engine Type <br>
30 Source Tag <br>
31 Destination Tag <br>
32 Source/Destination Tag</p>

<p style="margin-top: 1em">-h Display help.</p>

<p style="margin-top: 1em">-n Use symbolic names where
appropriate.</p>

<p style="margin-top: 1em">-p Display header
information.</p>

<p style="margin-top: 1em">-P Report as percent total.</p>

<p style="margin-top: 1em">-s sort_field <br>
Sort ascending on field sort_field.</p>

<p style="margin-top: 1em">-S sort_field <br>
Sort descending on field sort_field.</p>

<p style="margin-top: 1em">-t tally_lines <br>
Tally totals every tally_lineslines.</p>

<p style="margin-top: 1em">-T title Set report title to
title.</p>

<p style="margin-top: 1em">-w Wide output.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Provide a report on top source/destination IP pairs sorted
by octets, report in percent total form for the flows in
/flows/krc4. Use the preload option to flow-cat to preserve
<br>
meta information and display it with flow-stat.</p>

<p style="margin-top: 1em">flow-cat -p /flows/krc4 |
flow-stat -f10 -P -p -S4</p>

<p style="margin-top: 1em">EXAMPLES <br>
Many times a campus network will have a single border router
which has one interface pointing to the internal side and
many interfaces pointing to other providers. These
inter&acirc; <br>
faces each have a unique numerical id known in SNMP terms as
an ifIndex. The ifIndex to interface name mappings can be
determined by using a tool such as snmpwalk or using show
<br>
commands in recent versions of IOS with the &rsquo;show snmp
mib ifmib ifindex&rsquo; or JunOS &rsquo;show
interfaces&rsquo;. Once the ifIndex for each interface is
known flow-filter can be combined <br>
with flow-stat to provide reports such as inbound vs
outbound top src/destination IP addresses.</p>

<p style="margin-top: 1em">Provide a top source IP address
report by outbound traffic, ie the top senders of traffic on
the campus network. Assume the ifIndex of the campus
interface is 5.</p>

<p style="margin-top: 1em">flow-cat -p /flows/krc4 |
flow-filter -i5 | flow-stat -f9 -P -p -S3</p>

<p style="margin-top: 1em">EXAMPLES <br>
Provide a top destination IP address report by outbound
traffic, ie the top sinks of traffic on the campus network.
Assume the ifIndex of the campus interface is 5.</p>

<p style="margin-top: 1em">flow-cat -p /flows/krc4 |
flow-filter -I5 | flow-stat -f8 -P -p -S3</p>

<p style="margin-top: 1em">EXAMPLES <br>
Provide a top source/destination AS report. Use symbolic
names.</p>

<p style="margin-top: 1em">flow-cat -p /flows/krc4 |
flow-stat -f20 -n -P -p -S4</p>

<p style="margin-top: 1em">BUGS <br>
None known.</p>

<p style="margin-top: 1em">AUTHOR <br>
Mark Fullmer maf@splintered.net</p>

<p style="margin-top: 1em">SEE ALSO <br>
flow-tools(1)</p>
 
<p style="margin-top: 1em">flow-stat(1)</p>
<hr>
</body>
</html>
