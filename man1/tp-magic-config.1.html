<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>TP-MAGIC-CONFIG(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">TP-MAGIC-CONFIG(1)</td>
    <td class="head-vol">tp-magic-config</td>
    <td class="head-rtitle">TP-MAGIC-CONFIG(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
tp-magic-config -- Helps creating 'Magic' tool plugins for Tux Paint(1)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSYS"><a class="selflink" href="#SYNOPSYS">SYNOPSYS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tp-magic-config [--apiversion | --version | --cflags |
    --pluginprefix | --plugindocprefix | --dataprefix | --localpluginprefix |
    --localdataprefix]</b></dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>tp-magic-config</i> is a simple shell script that responds with various
  pieces of information about the currently-installed version of <i>Tux
  Paint</i>(1) that are useful when building 'Magic' tool plugins.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--apiversion</b></dt>
  <dd class="It-tag">Outputs the version of the <i>Tux Paint</i> 'Magic' tool
      plugin API that the installed copy of <i>Tux Paint</i> supports. (For API
      compatibility testing.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Outputs the version of <i>Tux Paint</i> that
      <i>tp-magic-config</i> corresponds to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cflags</b></dt>
  <dd class="It-tag">Outputs the compiler flags that <i>Tux Paint</i> 'Magic'
      tool plugins should be compiled with. (For example, a &quot;-I&quot;
      include path option that tells the compiler where it can find the plugin
      API header file, &quot;tp_magic_config.h&quot;, that plugins must
      #include.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pluginprefix</b></dt>
  <dd class="It-tag">Outputs the system directory where the installed copy of
      <i>Tux Paint</i> expects to find 'Magic' tool plugins (&quot;.so&quot;
      shared objects). (e.g., &quot;/usr/share/tuxpaint/plugins&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--localpluginprefix</b></dt>
  <dd class="It-tag">Outputs the user directory where the installed copy of
      <i>Tux Paint</i> expects to find 'Magic' tool plugins (&quot;.so&quot;
      shared objects). (e.g., &quot;/home/username/.tuxpaint/plugins&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--plugindocprefix</b></dt>
  <dd class="It-tag">Outputs the directory where the installed copy of <i>Tux
      Paint</i> expects to find documentation for 'Magic' tool plugins
      (&quot;.html&quot; and &quot;.txt&quot; files). <i>Tux Paint's</i> main
      documentation includes a link to this directory under the section on
      &quot;Magic&quot; tools.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dataprefix</b></dt>
  <dd class="It-tag">Outputs the system directory where the installed copy of
      <i>Tux Paint</i> keeps its global data files (e.g.,
      &quot;/usr/share/tuxpaint/&quot;). This is the same value that plugins
      installed system-wide will receive in the &quot;data_directory&quot;
      string within the &quot;magic_api&quot; structure sent to the plugins'
      functions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--localdataprefix</b></dt>
  <dd class="It-tag">Outputs the user directory where the installed copy of
      <i>Tux Paint</i> expects plugins to install their local data files. (e.g.,
      &quot;/home/username/.tuxpaint/plugins/data&quot;). This is the same value
      that plugins installed locally will receive in the
      &quot;data_directory&quot; string within the &quot;magic_api&quot;
      structure sent to the plugins' functions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SYSTEM-WIDE_SHELL_EXAMPLES"><a class="selflink" href="#SYSTEM-WIDE_SHELL_EXAMPLES">SYSTEM-WIDE
  SHELL EXAMPLES</a></h1>
$ gcc -shared `tp-magic-config --cflags` my_plugin.c -o my_plugin.so
<div>&#x00A0;</div>
# cp my_plugin.so `tp-magic-config --pluginprefix`
<div>&#x00A0;</div>
# cp my_plugin_icon.png `tp-magic-config --dataprefix`/images/magic
<div>&#x00A0;</div>
# cp my_plugin.html `tp-magic-config --plugindocrefix`/html
<div>&#x00A0;</div>
# cp my_plugin.txt `tp-magic-config --plugindocrefix`
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="LOCAL_SHELL_EXAMPLES"><a class="selflink" href="#LOCAL_SHELL_EXAMPLES">LOCAL
  SHELL EXAMPLES</a></h1>
$ gcc -shared `tp-magic-config --cflags` my_plugin.c -o my_plugin.so
<div>&#x00A0;</div>
$ mkdir -p `tp-magic-config --localpluginprefix`
<div>&#x00A0;</div>
$ cp my_plugin.so `tp-magic-config --localpluginprefix`
<div>&#x00A0;</div>
$ mkdir -p `tp-magic-config --localdataprefix`/images/magic
<div>&#x00A0;</div>
$ cp my_plugin_icon.png `tp-magic-config --localdataprefix`/images/magic
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYSTEM-WIDE_MAKEFILE_EXAMPLE"><a class="selflink" href="#SYSTEM-WIDE_MAKEFILE_EXAMPLE">SYSTEM-WIDE
  MAKEFILE EXAMPLE</a></h1>
MAGIC_CFLAGS=$(shell tp-magic-config --cflags)
<div>&#x00A0;</div>
MAGIC_PREFIX=$(shell tp-magic-config --pluginprefix)
<div>&#x00A0;</div>
MAGIC_DOC_PREFIX=$(shell tp-magic-config --plugindocprefix)
<div>&#x00A0;</div>
DATA_PREFIX=$(shell tp-magic-config --dataprefix)
<div class="Pp"></div>
all: my_plugin.so
<div class="Pp"></div>
my_plugin.so: my_plugin.c
<div class="Pp"></div>
install: install-so install-data install-docs
<div class="Pp"></div>
install-so:
<div>&#x00A0;</div>
	mkdir -p $(MAGIC_PREFIX)
<div>&#x00A0;</div>
	cp my_plugin.so $(MAGIC_PREFIX)/
<div>&#x00A0;</div>
	chmod 644 $(MAGIC_PREFIX)/my_plugin.so
<div class="Pp"></div>
install-data:
<div>&#x00A0;</div>
	mkdir -p $(DATA_PREFIX)
<div>&#x00A0;</div>
	cp icons/my_plugin_icon.png $(DATA_PREFIX)/images/magic/
<div>&#x00A0;</div>
	chmod 644 $(DATA_PREFIX)/images/magic/my_plugin_icon.png
<div class="Pp"></div>
install-docs:
<div>&#x00A0;</div>
	mkdir -p $(MAGIC_DOC_PREFIX)
<div>&#x00A0;</div>
	cp docs/my_plugin.html $(MAGIC_DOC_PREFIX)/html/
<div>&#x00A0;</div>
	chmod 644 $(MAGIC_DOC_PREFIX)/html/my_plugin.html
<div>&#x00A0;</div>
	cp docs/my_plugin.txt $(MAGIC_DOC_PREFIX)/
<div>&#x00A0;</div>
	chmod 644 $(MAGIC_DOC_PREFIX)/my_plugin.txt
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Bill Kendrick. &lt;bill@newbreedsoftware.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>tuxpaint</b>(1),
<div class="Pp"></div>
And documentation within /usr/[local/]share/doc/tuxpaint/.
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">07 August 2007</td>
    <td class="foot-os">2007.08.07</td>
  </tr>
</table>
</body>
</html>
