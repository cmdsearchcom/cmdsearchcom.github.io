<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>AGENT-TRANSFER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">AGENT-TRANSFER(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">AGENT-TRANSFER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
agent-transfer - copy a secret key from gpg-agent to ssh-agent
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>agent-transfer [<i>options</i>] <i>KEYGRIP</i> [<i>COMMENT</i>]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>agent-transfer</b> extracts a secret key from a modern version of GnuPG agent
  and sends it to the running SSH agent. This is useful for people whose keys
  are managed in the long-term by GnuPG's gpg-agent, but who prefer the
  semantics of OpenSSH's ssh-agent for regular use.
<div style="height: 1.00em;">&#x00A0;</div>
<b>agent-transfer</b> was written as part of the monkeysphere project.
<div style="height: 1.00em;">&#x00A0;</div>
The <b>KEYGRIP</b> should be specified as a sequence of 20 hexadecimal
  characters. If you aren't sure of the keygrip, you can inspect the output of:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 gpg --with-keygrip --list-secret-keys
<div style="height: 1.00em;">&#x00A0;</div>
The <b>COMMENT</b> is optional, and will be stored alongside the key in
  ssh-agent. It must not start with a -, to avoid being mistaken for an option.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>agent-transfer</b> also accepts options that would normally be passed to
  <b>ssh-add</b>(1) to constrain the use of the transferred key:
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">-c</dt>
  <dd class="It-tag">Indicates that added identities should be subject to
      confirmation before being used for authentication.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t SECONDS</dt>
  <dd class="It-tag">Indicates that the key should have a lifetime of SECONDS in
      the running ssh-agent.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">~/.gnupg/S.gpg-agent</dt>
  <dd class="It-tag">The socket where gpg-agent is listening. This is the
      &quot;standard socket&quot; for modern GnuPG.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">GNUPGHOME</dt>
  <dd class="It-tag">The GnuPG home directory, where the standard socket for
      gpg-agent lives. If this is not set, it is assumed to be ~/.gnupg.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">SSH_AUTH_SOCK</dt>
  <dd class="It-tag">Specifies the location where the running ssh-agent is
      present.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Several other environment variables are also passed in some form to the
  gpg-agent to help it figure out how to run a sensible pinentry, including
  GPG_TTY, TERM, DISPLAY, XAUTHORITY, GTK_IM_MODULE, DBUS_SESSION_BUS_ADDRESS,
  and LANG.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Written by: Daniel Kahn Gillmor &lt;dkg@fifthhorseman.net&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>monkeysphere</b>(7), <b>ssh</b>(1), <b>ssh-add</b>(1), <b>ssh-agent</b>(1),
  <b>gpg</b>(1) <b>gpg-agent</b>(1),</div>
<table class="foot">
  <tr>
    <td class="foot-date">May 2016</td>
    <td class="foot-os">monkeysphere</td>
  </tr>
</table>
</body>
</html>
