<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:42:10 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>v.generalize(1grass) Grass User&rsquo;s Manual
v.generalize(1grass)</p>

<p style="margin-top: 1em">NAME <br>
v.generalize - Performs vector based generalization.</p>

<p style="margin-top: 1em">KEYWORDS <br>
vector, generalization, simplification, smoothing,
displacement, network generalization</p>

<p style="margin-top: 1em">SYNOPSIS <br>
v.generalize <br>
v.generalize --help <br>
v.generalize [-lt] input=name [layer=string]
[type=string[,string,...]] output=name [error=name]
method=string threshold=float [look_ahead=integer]
[reduction=float] <br>
[slide=float] [angle_thresh=float] [degree_thresh=integer]
[closeness_thresh=float] [betweeness_thresh=float]
[alpha=float] [beta=float] [iterations=integer] <br>
[cats=range] [where=sql_query] [--overwrite] [--help]
[--verbose] [--quiet] [--ui]</p>

<p style="margin-top: 1em">Flags: <br>
-l <br>
Disable loop support <br>
Do not modify end points of lines forming a closed loop</p>

<p style="margin-top: 1em">-t <br>
Do not copy attributes</p>

<p style="margin-top: 1em">--overwrite <br>
Allow output files to overwrite existing files</p>

<p style="margin-top: 1em">--help <br>
Print usage summary</p>

<p style="margin-top: 1em">--verbose <br>
Verbose module output</p>

<p style="margin-top: 1em">--quiet <br>
Quiet module output</p>

<p style="margin-top: 1em">--ui <br>
Force launching GUI dialog</p>

<p style="margin-top: 1em">Parameters: <br>
input=name [required] <br>
Name of input vector map <br>
Or data source for direct OGR access</p>

<p style="margin-top: 1em">layer=string <br>
Layer number or name (&acirc;-1&acirc; for all layers) <br>
A single vector map can be connected to multiple database
tables. This number determines which table to use. When used
with direct OGR access this is the layer name. <br>
Default: -1</p>

<p style="margin-top: 1em">type=string[,string,...] <br>
Input feature type <br>
Options: line, boundary, area <br>
Default: line,boundary,area</p>

<p style="margin-top: 1em">output=name [required] <br>
Name for output vector map</p>

<p style="margin-top: 1em">error=name <br>
Error map with failed generalizations <br>
Lines and boundaries causing errors (collapsed to a point or
topology errors)</p>

<p style="margin-top: 1em">method=string [required] <br>
Generalization algorithm <br>
Options: douglas, douglas_reduction, lang, reduction,
reumann, boyle, sliding_averaging, distance_weighting,
chaiken, hermite, snakes, network, displacement <br>
douglas: Douglas-Peucker Algorithm <br>
douglas_reduction: Douglas-Peucker Algorithm with reduction
parameter <br>
lang: Lang Simplification Algorithm <br>
reduction: Vertex Reduction Algorithm eliminates points
close to each other <br>
reumann: Reumann-Witkam Algorithm <br>
boyle: Boyle&acirc;s Forward-Looking Algorithm <br>
sliding_averaging: McMaster&acirc;s Sliding Averaging
Algorithm <br>
distance_weighting: McMaster&acirc;s Distance-Weighting
Algorithm <br>
chaiken: Chaiken&acirc;s Algorithm <br>
hermite: Interpolation by Cubic Hermite Splines <br>
snakes: Snakes method for line smoothing <br>
network: Network generalization <br>
displacement: Displacement of lines close to each other</p>

<p style="margin-top: 1em">threshold=float [required] <br>
Maximal tolerance value <br>
Options: 0-1000000000</p>

<p style="margin-top: 1em">look_ahead=integer <br>
Look-ahead parameter <br>
Default: 7</p>

<p style="margin-top: 1em">reduction=float <br>
Percentage of the points in the output of
&acirc;douglas_reduction&acirc; algorithm <br>
Options: 0-100 <br>
Default: 50</p>

<p style="margin-top: 1em">slide=float <br>
Slide of computed point toward the original point <br>
Options: 0-1 <br>
Default: 0.5</p>

<p style="margin-top: 1em">angle_thresh=float <br>
Minimum angle between two consecutive segments in Hermite
method <br>
Options: 0-180 <br>
Default: 3</p>

<p style="margin-top: 1em">degree_thresh=integer <br>
Degree threshold in network generalization <br>
Default: 0</p>

<p style="margin-top: 1em">closeness_thresh=float <br>
Closeness threshold in network generalization <br>
Options: 0-1 <br>
Default: 0</p>

<p style="margin-top: 1em">betweeness_thresh=float <br>
Betweeness threshold in network generalization <br>
Default: 0</p>

<p style="margin-top: 1em">alpha=float <br>
Snakes alpha parameter <br>
Default: 1.0</p>

<p style="margin-top: 1em">beta=float <br>
Snakes beta parameter <br>
Default: 1.0</p>

<p style="margin-top: 1em">iterations=integer <br>
Number of iterations <br>
Default: 1</p>

<p style="margin-top: 1em">cats=range <br>
Category values <br>
Example: 1,3,7-9,13</p>

<p style="margin-top: 1em">where=sql_query <br>
WHERE conditions of SQL statement without
&acirc;where&acirc; keyword <br>
Example: income &lt; 1000 and inhab &gt;= 10000</p>

<p style="margin-top: 1em">DESCRIPTION <br>
v.generalize is a module for the generalization of GRASS
vector maps. This module consists of algorithms for line
simplification, line smoothing, network generalization and
dis&acirc; <br>
placement (new methods may be added later).</p>

<p style="margin-top: 1em">If type=area is selected,
boundaries of selected areas will be generalized, and the
options cats, where, and layer will be used to select
areas.</p>

<p style="margin-top: 1em">NOTES <br>
(Line) simplification is a process of reducing the
complexity of vector features. The module transforms a line
into another line consisting of fewer vertices, that still
approxi&acirc; <br>
mate the original line. Most of the algorithms described
below select a subset of points on the original line.</p>

<p style="margin-top: 1em">(Line) smoothing is a
&quot;reverse&quot; process which takes as input a line and
produces a smoother approximate of the original. In some
cases, this is achieved by inserting new vertices <br>
into the original line, and can total up to 4000% of the
number of vertices in the original. In such an instance, it
is always a good idea to simplify the line after
smoothing.</p>

<p style="margin-top: 1em">Smoothing and simplification
algorithms implemented in this module work line by line,
i.e. simplification/smoothing of one line does not affect
the other lines; they are treated <br>
separately. For isolated loops formed by a single
line/boundary, he first and the last point of each
line/boundary can be translated and/or deleted, unless the
-l flag is used to <br>
disable loop support.</p>

<p style="margin-top: 1em">Lines and boundaries are not
translated if they would collapse to a single point.
Boundaries are not translated if they would intersect with
themselves or other boundaries. Such <br>
erroneous features are written to an optional error vector
map. Overlaying the error map over the generalized map
indicates the kind of error. Lines/boundaries collapsing to
a <br>
point are written out as points, boundaries violating
topology are written out as boundaries. The error map can be
overlaid over the generalized map to understand why some
fea&acirc; <br>
tures were not generalized.</p>

<p style="margin-top: 1em">SIMPLIFICATION <br>
Simplification can fail for many boundaries if the
simplification parameters would result in a large reduction
of vertices. If many lines/boundaries could not be
simplified, try <br>
different parameters that would cause a lower degree of
simplification.</p>

<p style="margin-top: 1em">v.generalize contains following
line simplification algorithms:</p>

<p style="margin-top: 1em">&Acirc;&middot; Douglas-Peucker
Algorithm</p>

<p style="margin-top: 1em">&Acirc;&middot; Douglas-Peucker
Reduction Algorithm</p>

<p style="margin-top: 1em">&Acirc;&middot; Lang
Algorithm</p>

<p style="margin-top: 1em">&Acirc;&middot; Vertex
Reduction</p>

<p style="margin-top: 1em">&Acirc;&middot; Reumann-Witkam
Algorithm</p>

<p style="margin-top: 1em">&Acirc;&middot; Remove Small
Lines/Areas <br>
Different algorithms require different parameters, but all
the algorithms have one parameter in common: the threshold
parameter, given in map units (for latitude-longitude
loca&acirc; <br>
tions: in decimal degree). In general, the degree of
simplification increases with the increasing value of
threshold.</p>

<p style="margin-top: 1em">ALGORITHM DESCRIPTIONS <br>
&Acirc;&middot; Douglas-Peucker - &quot;Quicksort&quot; of
line simplification, the most widely used algorithm. Input
parameters: input, threshold. For more information, see:
<br>
http://geomalgorithms.com/a16-_decimate-1.html.</p>

<p style="margin-top: 1em">&Acirc;&middot; Douglas-Peucker
Reduction Algorithm is essentially the same algorithm as the
algorithm above, the difference being that it takes an
additional reduction parameter which <br>
denotes the percentage of the number of points on the new
line with respect to the number of points on the original
line. Input parameters: input, threshold, reduction.</p>

<p style="margin-top: 1em">&Acirc;&middot; Lang - Another
standard algorithm. Input parameters: input, threshold,
look_ahead. For an excellent description, see: <br>

http://www.sli.unimelb.edu.au/gisweb/LGmodule/LGLangVisualisation.htm.</p>

<p style="margin-top: 1em">&Acirc;&middot; Vertex Reduction
- Simplest among the algorithms. Input parameters: input,
threshold. Given a line, this algorithm removes the points
of this line which are closer to <br>
each other than threshold. More precisely, if p1 and p2 are
two consecutive points, and the distance between p2 and p1
is less than threshold, it removes p2 and repeats <br>
the same process on the remaining points.</p>

<p style="margin-top: 1em">&Acirc;&middot; Reumann-Witkam -
Input parameters: input, threshold. This algorithm quite
reasonably preserves the global characteristics of the
lines. For more information, see for <br>
example: <br>
http://psimpl.sourceforge.net/reumann-witkam.html. <br>
Douglas-Peucker and Douglas-Peucker Reduction Algorithm use
the same method to simplify the lines. Note that <br>
v.generalize input=boundary_county
output=boundary_county_dp20 method=douglas threshold=20 <br>
is equivalent to <br>
v.generalize input=boundary_county
output=boundary_county_dp_red20_100 method=douglas_reduction
threshold=20 reduction=100 <br>
However, in this case, the first method is faster. Also
observe that douglas_reduction never outputs more vertices
than douglas, and that, in general, douglas is more
efficient <br>
than douglas_reduction. More importantly, the effect of <br>
v.generalize input=boundary_county
output=boundary_county_dp_red0_30 method=douglas_reduction
threshold=0 reduction=30 <br>
is that &acirc;out&acirc; contains approximately only 30% of
points of &acirc;in&acirc;.</p>

<p style="margin-top: 1em">SMOOTHING <br>
The following smoothing algorithms are implemented in
v.generalize:</p>

<p style="margin-top: 1em">&Acirc;&middot; Boyle&acirc;s
Forward-Looking Algorithm - The position of each point
depends on the position of the previous points and the point
look_ahead ahead. look_ahead consecutive <br>
points. Input parameters: input, look_ahead.</p>

<p style="margin-top: 1em">&Acirc;&middot; McMaster&acirc;s
Sliding Averaging Algorithm - Input Parameters: input,
slide, look_ahead. The new position of each point is the
average of the look_ahead points around. <br>
Parameter slide is used for linear interpolation between old
and new position (see below).</p>

<p style="margin-top: 1em">&Acirc;&middot; McMaster&acirc;s
Distance-Weighting Algorithm - Takes the weighted average of
look_ahead consecutive points where the weight is the
reciprocal of the distance from the point to <br>
the currently smoothed point. The parameter slide is used
for linear interpolation between the original position of
the point and newly computed position where value 0 <br>
means the original position. Input parameters: input, slide,
look_ahead.</p>

<p style="margin-top: 1em">&Acirc;&middot; Chaiken&acirc;s
Algorithm - &quot;Inscribes&quot; a line touching the
original line such that the points on this new line are at
least threshold apart. Input parameters: input,
thresh&acirc; <br>
old. This algorithm approximates the given line very
well.</p>

<p style="margin-top: 1em">&Acirc;&middot; Hermite
Interpolation - This algorithm takes the points of the given
line as the control points of hermite cubic spline and
approximates this spline by the points approx&acirc; <br>
imately threshold apart. This method has excellent results
for small values of threshold, but in this case it produces
a huge number of new points and some simplification <br>
is usually needed. Input parameters: input, threshold,
angle_thresh. Angle_thresh is used for reducing the number
of the points. It denotes the minimal angle (in <br>
degrees) between two consecutive segments of a line.</p>

<p style="margin-top: 1em">&Acirc;&middot; Snakes is the
method of minimisation of the &quot;energy&quot; of a line.
This method preserves the general characteristics of the
lines but smooths the &quot;sharp corners&quot; of a line.
<br>
Input parameters input, alpha, beta. This algorithm works
very well for small values of alpha and beta (between 0 and
5). These parameters affect the &quot;sharpness&quot; and
the <br>
curvature of the computed line. <br>
One of the key advantages of Hermite Interpolation is the
fact that the computed line always passes through the points
of the original line, whereas the lines produced by the <br>
remaining algorithms never pass through these points. In
some sense, this algorithm outputs a line which
&quot;circumscribes&quot; the input line.</p>

<p style="margin-top: 1em">On the other hand,
Chaiken&acirc;s Algorithm outputs a line which
&quot;inscribes&quot; a given line. The output line always
touches/intersects the centre of the input line segment
between two <br>
consecutive points. For more iterations, the property above
does not hold, but the computed lines are very similar to
the Bezier Splines. The disadvantage of the two algorithms
<br>
given above is that they increase the number of points.
However, Hermite Interpolation can be used as another
simplification algorithm. To achieve this, it is necessary
to set <br>
angle_thresh to higher values (15 or so).</p>

<p style="margin-top: 1em">One restriction on both
McMasters&acirc; Algorithms is that look_ahead parameter
must be odd. Also note that these algorithms have no effect
if look_ahead = 1.</p>

<p style="margin-top: 1em">Note that Boyle&acirc;s,
McMasters&acirc; and Snakes algorithm are sometimes used in
the signal processing to smooth the signals. More
importantly, these algorithms never change the number <br>
of points on the lines; they only translate the points, and
do not insert any new points.</p>

<p style="margin-top: 1em">Snakes Algorithm is
(asymptotically) the slowest among the algorithms presented
above. Also, it requires quite a lot of memory. This means
that it is not very efficient for maps <br>
with the lines consisting of many segments.</p>

<p style="margin-top: 1em">DISPLACEMENT <br>
The displacement is used when the lines overlap and/or are
close to each other at the current level of detail. In
general, displacement methods move the conflicting features
<br>
apart so that they do not interact and can be
distinguished.</p>

<p style="margin-top: 1em">This module implements an
algorithm for displacement of linear features based on the
Snakes approach. This method generally yields very good
results; however, it requires a lot <br>
of memory and is not very efficient.</p>

<p style="margin-top: 1em">Displacement is selected by
method=displacement. It uses the following parameters:</p>

<p style="margin-top: 1em">&Acirc;&middot; threshold -
specifies critical distance. Two features interact if they
are closer than threshold apart.</p>

<p style="margin-top: 1em">&Acirc;&middot; alpha, beta -
These parameters define the rigidity of lines. For larger
values of alpha, beta (&gt;=1), the algorithm does a better
job at retaining the original shape of <br>
the lines, possibly at the expense of displacement distance.
If the values of alpha, beta are too small (&lt;=0.001),
then the lines are moved sufficiently, but the geometry <br>
and topology of lines can be destroyed. Most likely the best
way to find the good values of alpha, beta is by trial and
error.</p>

<p style="margin-top: 1em">&Acirc;&middot; iterations -
denotes the number of iterations the interactions between
the lines are resolved. Good starting points for values of
iterations are between 10 and 100. <br>
The lines affected by the algorithm can be specified by the
layer, cats and where parameters.</p>

<p style="margin-top: 1em">NETWORK GENERALIZATION <br>
Used for selecting &quot;the most important&quot; part of
the network. This is based on the graph algorithms. Network
generalization is applied if method=network. The algorithm
calculates <br>
three centrality measures for each line in the network and
only the lines with the values greater than thresholds are
selected. The behaviour of algorithm can be altered by the
<br>
following parameters:</p>

<p style="margin-top: 1em">&Acirc;&middot; degree_thresh -
algorithm selects only the lines which share a point with at
least degree_thresh different lines.</p>

<p style="margin-top: 1em">&Acirc;&middot; closeness_thresh
- is always in the range (0, 1]. Only the lines with the
closeness centrality value at least closeness_thresh apart
are selected. The lines in the centre <br>
of a network have greater values of this measure than the
lines near the border of a network. This means that this
parameter can be used for selecting the centre(s) of a <br>
network. Note that if closeness_thresh=0 then everything is
selected.</p>

<p style="margin-top: 1em">&Acirc;&middot;
betweeness_thresh - Again, only the lines with a betweeness
centrality measure at least betweeness_thresh are selected.
This value is always positive and is larger for <br>
large networks. It denotes to what extent a line is in
between the other lines in the network. This value is large
for the lines which lie between other lines and lie on <br>
the paths between two parts of a network. In the terminology
of road networks, these are highways, bypasses, main
roads/streets, etc. <br>
All three parameters above can be presented at the same
time. In that case, the algorithm selects only the lines
which meet each criterion.</p>

<p style="margin-top: 1em">Also, the outputed network may
not be connected if the value of betweeness_thresh is too
large.</p>

<p style="margin-top: 1em">EXAMPLES <br>
SIMPLIFICATION EXAMPLE <br>
Simplification of county boundaries with DP method (North
Carolina sample dataset), threshold given in mapset units
(here: meters): <br>
v.generalize input=boundary_county
output=boundary_county_dp20 method=douglas threshold=20
error=boundary_county_dp20_leftover</p>

<p style="margin-top: 1em">SMOOTHING EXAMPLE <br>
Smoothing of road network with Chaiken method (North
Carolina sample dataset), threshold given in mapset units
(here: meters): <br>
v.generalize input=roads output=roads_chaiken method=chaiken
threshold=1 error=roads_chaiken_leftover</p>

<p style="margin-top: 1em">SEE ALSO <br>
v.clean, v.dissolve</p>

<p style="margin-top: 1em">v.generalize Tutorial
(GRASS-Wiki)</p>

<p style="margin-top: 1em">AUTHORS <br>
Daniel Bundala, Google Summer of Code 2007, Student <br>
Wolf Bergenheim, Mentor <br>
Partial rewrite: Markus Metz</p>

<p style="margin-top: 1em">Last changed: $Date: 2016-10-28
16:02:21 +0200 (Fri, 28 Oct 2016) $</p>

<p style="margin-top: 1em">SOURCE CODE <br>
Available at: v.generalize source code (history)</p>

<p style="margin-top: 1em">Main index | Vector index |
Topics index | Keywords index | Graphical index | Full
index</p>

<p style="margin-top: 1em">&Acirc;&copy; 2003-2016 GRASS
Development Team, GRASS GIS 7.2.0 Reference Manual</p>

<p style="margin-top: 1em">GRASS 7.2.0
v.generalize(1grass)</p>
<hr>
</body>
</html>
