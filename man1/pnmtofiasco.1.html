<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>Pnmtofiasco User Manual(0)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">Pnmtofiasco User Manual(0)</td>
    <td class="head-vol"></td>
    <td class="head-rtitle">Pnmtofiasco User Manual(0)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
pnmtofiasco - Convert PNM file to FIASCO compressed file
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pnmtofiasco</b> [ <i>option</i>]... [ <i>filename</i>]...
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of <b>Netpbm</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<b>pnmtofiasco</b> compresses the named pbm, pgm, or ppm image files, or
  Standard Input if no file is named, and produces a FIASCO file on Standard
  Output.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
All option names may be abbreviated; for example, --optimize may be written
  --optim or --opt. For most options a one letter short option is provided.
  Mandatory or optional arguments to long options are mandatory or optional for
  short options, too. Both short and long options are case sensitive.
<div class="Pp"></div>
The basic options are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b> <i>name</i>, <b>--input-name=</b><i>name</i></dt>
  <dd class="It-tag">Compress the named images, not Standard Input. If
      <i>name</i> is <b>-</b>, read Standard Input. <i>name</i> has to be either
      an image filename or a template of the form:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
prefix[start-end{+,-}step]suffix
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Templates are useful when compressing video streams: e.g., if you specify
      the template <b>img0[12-01-2].pgm</b>, then <b>pnmtofiasco</b> compresses
      the images img012.pgm, img010.pgm, ..., img002.pgm.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>name</i> is a relative path, <b>pnmtofiasco </b> searches for the
      image files in the current directory and in the (colon-separated) list of
      directories given by the environment variable <b>FIASCO_IMAGES</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> <i>output-file</i>,
    <b>--output-name=</b><i>name</i></dt>
  <dd class="It-tag">Write FIASCO output to the named file, not to Standard
      Output.
    <div style="height: 1.00em;">&#x00A0;</div>
    If <i>name</i> is a relative path and the environment variable
      <b>FIASCO_DATA</b> is a (colon-separated) list of directories, then
      <b>pnmtofiasco</b> writes the output file to the first (writable)
      directory of this list. Otherwise, <b>pnmtofiasco</b> write it to the
      current directory.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b> <i>N</i>, <b>--quality=</b><i>N</i></dt>
  <dd class="It-tag">Set quality of compression to <i>N</i>. Quality is 1
      (worst) to 100 (best); default is 20.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b>, <b>--version</b></dt>
  <dd class="It-tag">Print <b>pnmtofiasco</b> version number, then exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b> <i>N</i>, <b>--verbose </b><i>N</i></dt>
  <dd class="It-tag">Set level of verbosity to <i>N</i>. Level is 0 (no output
      at all), 1 (show progress meter), or 2 (show detailed compression
      statistics); default is 1.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b> <i>N</i>, <b>--progress-meter </b><i>N</i></dt>
  <dd class="It-tag">Set type of progress-meter to <i>N</i>. The following types
      are available; default is 1:
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>0</b></dt>
  <dd class="It-tag">no progress meter
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>1</b></dt>
  <dd class="It-tag">RPM style progress bar using 50 hash marks
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>2</b></dt>
  <dd class="It-tag">percentage meter
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <i>name</i>, <b>--config=</b><i>name</i></dt>
  <dd class="It-tag">Load parameter file <i>name </i> to initialize the options
      of <b>pnmtofiasco</b>. See file <b>system.fiascorc</b> for an example of
      the syntax. Options of <b>pnmtofiasco</b> are set by any of the following
      methods (in the specified order):
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Global resource file <b>/etc/system.fiascorc</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">$HOME/.fiascorc</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">command line</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">--config=<i>name</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--info</b></dt>
  <dd class="It-tag">Print brief help, then exit.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b>, <b>--help</b></dt>
  <dd class="It-tag">Print detailed help, then exit.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The options for advanced users are:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b> <i>name</i>, <b>--basis-name=</b><i>name</i></dt>
  <dd class="It-tag">Preload compression basis <i>name</i> into FIASCO. The
      basis <i>name</i> provides the initial compression dictionary. Either use
      one of the files 'small.fco', 'medium.fco', or 'large.fco' that come with
      <b>pnmtofiasco </b> or create a new ASCII basis file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b> <i>N</i>, <b>--optimize=</b><i>N</i></dt>
  <dd class="It-tag">Set optimization level to <i>N</i>. Level is 0 (fastest) to
      3 (slowest); default is 1. Be warned, the encoding time dramatically
      increased when <i>N</i>=<b>2</b> or <i>N</i>=<b>3</b> while the
      compression performance only slightly improves.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b>, <b>--prediction</b></dt>
  <dd class="It-tag">Use additional predictive coding. If this optimization is
      enabled then the image is compressed in two steps. In the first step, a
      coarse approximation of the image is computed using large unichrome
      blocks. Finally, the delta image is computed and the prediction error is
      approximated using the standard FIASCO algorithm.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D</b> <i>N</i>, <b>--dictionary-size=</b><i>N</i></dt>
  <dd class="It-tag">Set size of dictionary that is used when coding the
      luminance band to <i>N</i>; default is 10000, i.e., the dictionary is not
      restricted.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b> <i>N</i>,
    <b>--chroma-dictionary=</b><i>N</i></dt>
  <dd class="It-tag">Set size of dictionary that is used when coding chroma
      bands to <i>N</i>; default is 40.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b> <i>N</i>, <b>--chroma-qfactor=</b><i>N</i></dt>
  <dd class="It-tag">Reduce the quality of chroma band compression
      <i>N</i>-times with respect to the user defined quality <i>q</i> of the
      luminance band compression ( <b>--quality</b>=<i>q</i>); default is 2.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b> <i>N</i>, <b>--tiling-exponent=</b><i>N</i></dt>
  <dd class="It-tag">Subdivide the image into 2^<i>N</i> tiles prior coding;
      default is 4, i.e. the image is subdivided into 16 tiles. The processing
      order of the individual tiles is defined by the option
      <b>--tiling-method=</b> <i>name</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T</b> <i>name</i>,
    <b>--tiling-method=</b><i>name</i></dt>
  <dd class="It-tag">Order the individual image tiles (the image is subdivided
      into; see option <b>--tiling-exponent=</b><i>N</i>) by method <i>name</i>;
      default is <b>desc-variance</b>.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>desc-variance</b></dt>
  <dd class="It-tag">Tiles with small variances are processed first.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>asc-variance</b></dt>
  <dd class="It-tag">Tiles with large variances are processed first.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>desc-spiral</b></dt>
  <dd class="It-tag">Tiles are process in spiral order starting in the middle.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>asc-spiral</b></dt>
  <dd class="It-tag">Tiles are process in spiral order starting at the border.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rpf-mantissa=</b><i>N</i></dt>
  <dd class="It-tag">Use <i>N</i> mantissa bits for quantized coefficients.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dc-rpf-mantissa=</b><i>N</i></dt>
  <dd class="It-tag">Use <i>N</i> mantissa bits for quantized DC coefficients.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rpf-range=</b><i>N</i></dt>
  <dd class="It-tag">Coefficients outside the quantization interval [-
      <i>N</i>,+ <i>N</i>] are set to zero.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dc-rpf-range=</b><i>N</i></dt>
  <dd class="It-tag">DC coefficients outside the quantization interval [-
      <i>N</i>,+ <i>N</i>] are set to zero.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Additional options for video compression are
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b> <i>N</i>, <b>--smooth=</b><i>N</i></dt>
  <dd class="It-tag">Smooth decompressed reference frames along the partitioning
      borders by the given amount <i>N</i>. <i>N</i> is 0 (no smoothing) to 100;
      default is 70. This factor is stored in the FIASCO file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b> <i>N</i>, <b>--min-level=</b><i>N</i></dt>
  <dd class="It-tag">Start prediction (motion compensated prediction or
      additional prediction) on block level <i>N</i>; default is level 6. I.e.,
      motion compensation is applied to all image blocks of at least 8x8 pixels
      (binary tree level <i>N</i>=6), 16x8 (<i>N</i>=7), 16x16 (<i>N</i>=8),
      etc.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b> <i>N</i>, <b>--max-level=</b><i>N</i></dt>
  <dd class="It-tag">Stop prediction (motion compensated prediction or
      additional prediction) on block level <i>N</i>; default is level 10. I.e.,
      motion compensation is applied to all image blocks of at most 16x16 pixels
      ( <i>N</i>=8), 32x16 (<i>N</i>=9), 32x32 (<i>N</i>=10), etc.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-2</b>, <b>--half-pixel</b></dt>
  <dd class="It-tag">Use half pixel precise motion compensation.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F</b> <i>N</i>, <b>--fps=</b><i>N</i></dt>
  <dd class="It-tag">Set number of frames per second to <i>N</i>. This value is
      stored in the FIASCO output file and is used in the decoder
      <b>fiascotopnm</b>(1)
    <br/>
     to control the framerate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <i>type</i>, <b>--pattern=</b><i>type</i></dt>
  <dd class="It-tag">Defines the type of inter frame compression which should be
      applied to individual frames of a video stream. <i>type</i> is a sequence
      of characters; default is 'IPPPPPPPPP'. Element <b>N</b> defines the type
      of predicting which should be used for frame <b>N</b>; the frame type
      pattern is periodically extended. Valid characters are:
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>I</b></dt>
  <dd class="It-tag">intra frame, i.e., no motion compensated prediction is used
      at all.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>P</b></dt>
  <dd class="It-tag">predicted frame, i.e., a previously encoded frame is used
      for prediction (forward prediction).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>B</b></dt>
  <dd class="It-tag">bidirectional predicted frame, i.e., not only a previously
      shown frame but also a frame of the future is used for prediction
      (forward, backward or interpolated prediction).
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cross-B-search</b></dt>
  <dd class="It-tag">Instead of using exhaustive search the 'Cross-B-Search'
      algorithm is used to find the best interpolated prediction of B-frames.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--B-as-past-ref</dt>
  <dd class="It-tag">Also use previously encoded B-frames when prediction the
      current frame. If this option is not set, only I- and P-frames are used to
      predict the current frame.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Compress the still image 'foo.ppm' to the FIASCO file 'foo.wfa' using the
  default options:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
        pnmtofiasco &lt; foo.ppm &gt;foo.wfa
</pre>
<div class="Pp"></div>
Compress the video frames 'foo0*.ppm' to the FIASCO file 'video.wfa' using half
  pixel precise motion compensation at a frame rate of 15 frames per second.
  Intra frame 1 is used to predict P-frame 4, frames 1 and 4 are used to predict
  B-frames 2 and 3, and so on. Frame 10 is again an intra-frame.
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
        pnmtofiasco -2 -p 'IBBPBBPBB' -fps 15 -o video.wfa foo0*.ppm
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>/etc/system.fiascorc</b></dt>
  <dd class="It-tag">The systemwide initialization file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">$HOME<b>/.fiascorc</b></dt>
  <dd class="It-tag">The personal initialization file.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FIASCO_IMAGES</b></dt>
  <dd class="It-tag">Search path for image files. Default is './'.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>FIASCO_DATA</b></dt>
  <dd class="It-tag">Search and save path for FIASCO files. Default is './'.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>fiascotopnm</b>(1) , <b>ppmtojpeg</b>(1) , <b>pnmtojbig</b>(1) ,
  <b>pamtogif</b>(1) , <b>pnm</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
Ullrich Hafner, Juergen Albert, Stefan Frank, and Michael Unger. <b>Weighted
  Finite Automata for Video Compression</b>, IEEE Journal on Selected Areas In
  Communications, January 1998
<div class="Pp"></div>
Ullrich Hafner. <b>Low Bit-Rate Image and Video Coding with</b> <b>Weighted
  Finite Automata</b>, Ph.D. thesis, Mensch &amp; Buch Verlag, ISBN
  3-89820-002-7, October 1999.
  <a class="Lk" title="Lk" href="http://www.linuxjournal.com/node/4367/print">FIASCO:
  An Open-Source Fractal Image and Sequence Codec</a> , Linux Journal, January
  2001.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Ullrich Hafner &lt; <i>hafner@bigfoot.de</i>&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 12, 2000</td>
    <td class="foot-os">netpbm documentation</td>
  </tr>
</table>
</body>
</html>
