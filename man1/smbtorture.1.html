<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:38:10 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SMBTORTURE(1) Test Suite SMBTORTURE(1)</p>

<p style="margin-top: 1em">NAME <br>
smbtorture - Run a series of tests against a SMB server</p>

<p style="margin-top: 1em">SYNOPSIS <br>
smbtorture {//server/share} [-d debuglevel] [-U user%pass]
[-k] [-N numprocs] [-n netbios_name] [-W workgroup] [-o
num_operations] [-e num files(entries)] [-O socket_options]
<br>
[-m maximum_protocol] [-L] [-c CLIENT.TXT] [-t timelimit]
[-C filename] [-A] [-p port] [-s seed] [-f max_failures]
[-X] {BINDING-STRING|UNC} {TEST1} [TEST2] [...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
smbtorture is a testsuite that runs several tests against a
SMB server. All tests are known to succeed against a Windows
2003 server (?). Smbtorture&rsquo;s primary goal is finding
<br>
differences in implementations of the SMB protocol and
testing SMB servers.</p>

<p style="margin-top: 1em">Any number of tests can be
specified on the command-line. If no tests are specified,
all tests are run.</p>

<p style="margin-top: 1em">If no arguments are specified at
all, all available options and tests are listed.</p>

<p style="margin-top: 1em">Binding string format <br>
The binding string format is:</p>

<p style="margin-top: 1em">TRANSPORT:host[flags]</p>

<p style="margin-top: 1em">Where TRANSPORT is either
ncacn_np for SMB, ncacn_ip_tcp for RPC/TCP or ncalrpc for
local connections.</p>

<p style="margin-top: 1em">&rsquo;host&rsquo; is an IP or
hostname or netbios name. If the binding string identifies
the server side of an endpoint, &rsquo;host&rsquo; may be an
empty string.</p>

<p style="margin-top: 1em">&rsquo;flags&rsquo; can include
a SMB pipe name if using the ncacn_np transport or a TCP
port number if using the ncacn_ip_tcp transport, otherwise
they will be auto-determined.</p>

<p style="margin-top: 1em">other recognised flags are:</p>

<p style="margin-top: 1em">sign <br>
enable ntlmssp signing</p>

<p style="margin-top: 1em">seal <br>
enable ntlmssp sealing</p>

<p style="margin-top: 1em">connect <br>
enable rpc connect level auth (auth, but no sign or
seal)</p>

<p style="margin-top: 1em">validate <br>
enable the NDR validator</p>

<p style="margin-top: 1em">print <br>
enable debugging of the packets</p>

<p style="margin-top: 1em">bigendian <br>
use bigendian RPC</p>

<p style="margin-top: 1em">padcheck <br>
check reply data for non-zero pad bytes</p>

<p style="margin-top: 1em">For example, these all connect
to the samr pipe:</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver[samr]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver[\pipe\samr]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver[/pipe/samr]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver[samr,sign,print]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver[\pipe\samr,sign,seal,bigendian]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:myserver[/pipe/samr,seal,validate]</p>

<p style="margin-top: 1em">&Acirc;&middot; ncacn_np:</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_np:[/pipe/samr]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_ip_tcp:myserver</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_ip_tcp:myserver[1024]</p>

<p style="margin-top: 1em">&Acirc;&middot;
ncacn_ip_tcp:myserver[1024,sign,seal]</p>

<p style="margin-top: 1em">&Acirc;&middot; ncalrpc:</p>

<p style="margin-top: 1em">UNC Format <br>
The UNC format is:</p>

<p style="margin-top: 1em">//server/share</p>

<p style="margin-top: 1em">OPTIONS <br>
-d debuglevel <br>
Use the specified Samba debug level. A higher debug level
means more output.</p>

<p style="margin-top: 1em">-U user%pass <br>
Use the specified username/password combination when logging
in to a remote server.</p>

<p style="margin-top: 1em">-k <br>
Use kerberos when authenticating.</p>

<p style="margin-top: 1em">-W workgroup <br>
Use specified name as our workgroup name.</p>

<p style="margin-top: 1em">-n netbios_name <br>
Use specified name as our NetBIOS name.</p>

<p style="margin-top: 1em">-O socket_options <br>
Use specified socket options, equivalent of the smb.conf
option &acirc;socket options&acirc;. See the smb.conf(5)
manpage for details.</p>

<p style="margin-top: 1em">-m max_protocol <br>
Specify the maximum SMB dialect that should be used.
Possible values are: CORE, COREPLUS, LANMAN1, LANMAN2,
NT1</p>

<p style="margin-top: 1em">-s seed <br>
Initialize the randomizer using seed as seed.</p>

<p style="margin-top: 1em">-L <br>
Use oplocks.</p>

<p style="margin-top: 1em">-X <br>
Enable dangerous tests. Use with care! This might crash your
server...</p>

<p style="margin-top: 1em">-t timelimit <br>
Specify the NBENCH time limit in seconds. Defaults to
600.</p>

<p style="margin-top: 1em">-p ports <br>
Specify ports to connect to.</p>

<p style="margin-top: 1em">-c file <br>
Read NBENCH commands from file instead of from
CLIENT.TXT.</p>

<p style="margin-top: 1em">-A <br>
Show not just OK or FAILED but more detailed output. Used
only by DENY test at the moment.</p>

<p style="margin-top: 1em">-C filename <br>
Load a list of UNC names from the specified filename.
Smbtorture instances will connect to a random host from this
list.</p>

<p style="margin-top: 1em">-N numprocs <br>
Specify number of smbtorture processes to launch.</p>

<p style="margin-top: 1em">-o num_operations <br>
Number of times some operations should be tried before
assuming they&rsquo;re output is consistent
(default:100).</p>

<p style="margin-top: 1em">-e num_files <br>
Number of entries to use in certain tests (such as creating
X files) (default: 1000).</p>

<p style="margin-top: 1em">-f max_failures <br>
Number of failures before aborting a test (default: 1).</p>

<p style="margin-top: 1em">VERSION <br>
This man page is correct for version 4.0 of the Samba
suite.</p>

<p style="margin-top: 1em">SEE ALSO <br>
Samba</p>

<p style="margin-top: 1em">AUTHOR <br>
This utility is part of the Samba[1] suite, which is
developed by the global Samba Team[2].</p>

<p style="margin-top: 1em">smbtorture was written by Andrew
Tridgell.</p>

<p style="margin-top: 1em">This manpage was written by
Jelmer Vernooij.</p>

<p style="margin-top: 1em">NOTES <br>
1. Samba <br>
http://www.samba.org/</p>

<p style="margin-top: 1em">2. Samba Team <br>
http://www.samba.org/samba/team/</p>

<p style="margin-top: 1em">Samba 4.0 05/25/2017
SMBTORTURE(1)</p>
<hr>
</body>
</html>
