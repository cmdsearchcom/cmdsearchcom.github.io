<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.what.vect(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.what.vect(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.what.vect(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.what.vect</b> - Uploads vector values at positions of vector points
  to the table.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, sampling, database, position, querying, attribute table
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.what.vect</b>
<div>&#x00A0;</div>
<b>v.what.vect --help</b>
<div>&#x00A0;</div>
<b>v.what.vect</b> <b>map</b>=<i>name</i> [<b>layer</b>=<i>string</i>]
  <b>column</b>= <i>name</i> <b>query_map</b>=<i>name</i>
  [<b>query_layer</b>=<i>string</i>] <b>query_column</b>=<i>name</i>
  [<b>dmax</b>= <i>float</i>] [--<b>help</b>] [--<b>verbose</b>]
  [--<b>quiet</b>] [-- <b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>map</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of vector points map for which to edit attributes
    <div>&#x00A0;</div>
    Or data source for direct OGR access</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>layer</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer number or name
    <div>&#x00A0;</div>
    Vector features can have category values in different layers. This number
      determines which layer to use. When used with direct OGR access this is
      the layer name.
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>column</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of attribute column to be updated with the query result</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>query_map</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of vector map to be queried
    <div>&#x00A0;</div>
    Or data source for direct OGR access</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>query_layer</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Layer number or name
    <div>&#x00A0;</div>
    Vector features can have category values in different layers. This number
      determines which layer to use. When used with direct OGR access this is
      the layer name.
    <div>&#x00A0;</div>
    Default: <i>1</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>query_column</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of attribute column to be queried</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dmax</b>=<i>float</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Maximum query distance in map units
    <div>&#x00A0;</div>
    Default: <i>0.0</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.what.vect</i> transfers attributes from the <b>query_map</b>&#x2019;s map
  attribute table into the attribute table of points present in the <b>map</b>
  map. The script is based on <i>v.distance</i>.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The upload <b>column</b>, into which the query results are stored, must be
  present in the <b>map</b> map. Use <i>v.db.addcolumn</i> to add one if needed.
<div class="Pp"></div>
Use dmax parameter to control query distance tolerance (how far points/centroids
  can be from <b>query_map</b> features). For more options, use
  <i>v.distance</i> instead.
<div class="Pp"></div>
In case of a multipoint input <b>map</b> map, with several points having the
  same category number, it can happen, that the query result is NULL, if the
  same category number falls into different <b>query_map</b> polygons.
<div class="Pp"></div>
When transferring attributes from a point map to a polygon map, usually
  <b>dmax</b> has to be larger than zero (determined by distance between query
  points and polygon centroids).
<div class="Pp"></div>
In case that one or both input vector maps are 3D, features need to touch also
  in the 3rd dimension (z coordinate) in order to transfer attributes.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
In this example, the &#x2019;hospitals&#x2019; point map in the North Carolina
  location is copied to the current mapset, a new attribute column is added and
  the urban names from the &#x2019;urbanarea&#x2019; polygon map are transferred
  to the &#x2019;myhospitals&#x2019; map at the hospital points&#x2019;
  locations:
<div>&#x00A0;</div>
<pre>
g.copy vect=hospitals,myhospitals
v.db.addcolumn myhospitals column=&quot;urb_name varchar(25)&quot;
v.what.vect myhospitals query_map=urbanarea column=urb_name query_column=NAME
# verification:
v.db.select myhospitals
</pre>
<div class="Pp"></div>
In this example, city names, population data and more from Geonames.org country
  files are transferred to selected EU CORINE landuse/landcover classes
  (&quot;Continuous urban fabric&quot;, 111, and &quot;Discontinuous urban
  fabric&quot;, 112). Note: Example in UTM projection to which the input maps
  have been projected beforehand to have metric distances support:
<div>&#x00A0;</div>
<pre>
# extract populated places from geonames
v.extract geonames_IT where=&quot;featurecla=&#x2019;P&#x2019;&quot; output=geonames_IT_cities
# add new column
v.db.addcol corine_code111_112_cities column=&quot;gnameid double precision&quot;
# transfer geonameid (3000m maximal distance between points and centroids)
v.what.vect corine_code111_112_cities query_map=geonames_IT_cities column=gnameid \
            query_column=geonameid dmax=3000
# now gnameid can be used for v.db.join to join further
# attributes in from geonames.org
</pre>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>v.db.addcolumn,</i> <i>v.db.select,</i> <i>v.distance,</i>
  <i>v.rast.stats,</i> <i>v.what.rast,</i> <i>v.what.rast3,</i>
  <i>v.vect.stats</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Markus Neteler
<div class="Pp"></div>
<i>Last changed: $Date: 2016-08-22 04:16:33 +0200 (Mon, 22 Aug 2016) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.what.vect source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
