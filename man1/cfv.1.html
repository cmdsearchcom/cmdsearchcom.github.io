<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>cfv(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">cfv(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">cfv(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
cfv - Verify file consistency with .sfv, .csv, .crc, .md5, md5sum, sha1sum,
  .torrent, par, or par2 files
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>cfv [-p dir] [-v|-V|-VV] [-r|-rr|-R] [-n|-N] [--renameformat &lt;s&gt;]
  [-s|-S] [-zz|-z|-Z|-ZZ] [-T|-C] [-m|-M] [-i|-I] [-u|-uu|-U] [--unquote
  &lt;b&gt;] [--fixpaths &lt;s&gt;] [--showpaths &lt;i&gt;] [--list/--list0
  &lt;l&gt;] [--announceurl &lt;u&gt;] [--piece_size_pow2 &lt;n&gt;] [-t type]
  [-f file] [files...]</b>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>cfv</b> verifies that the files you have are the same as those that the were
  used to create the checksum file.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">Enable printing of extra messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V</dt>
  <dd class="It-tag">Disable printing of extra messages. (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-VV</dt>
  <dd class="It-tag">Like -V, but don't print status line at end either.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-q</dt>
  <dd class="It-tag">Like -VV, but not even error messages are printed. Check
      the exit status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-Q</dt>
  <dd class="It-tag">Only status lines are printed, but not individual
    errors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--progress VAL</dt>
  <dd class="It-tag">Set when cfv should display progress bars. If no, progress
      bars are never displayed. If auto, progress bars are displayed when the
      output is to a tty.(default) If yes, progress is always displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r</dt>
  <dd class="It-tag">Recursive mode 1. In create mode, make seperate chksum
      files for each dir.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-rr</dt>
  <dd class="It-tag">Recursive mode 2. In create mode make a single file with
      deep listing in it. Both recursive modes are equivilant for test
    mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-R</dt>
  <dd class="It-tag">Disable recursive mode (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l</dt>
  <dd class="It-tag">Follow directory symlinks in recursive mode. (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-L</dt>
  <dd class="It-tag">Don't follow directory symlinks in recursive mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-T</dt>
  <dd class="It-tag">Set test mode. (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-C</dt>
  <dd class="It-tag">Set create mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m</dt>
  <dd class="It-tag">Check only for missing files (don't compare checksums)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-M</dt>
  <dd class="It-tag">Check checksums (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n</dt>
  <dd class="It-tag">Rename bad files. With -s, also renames misnamed files to
      the correct name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-N</dt>
  <dd class="It-tag">Don't rename bad files (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--renameformat string</dt>
  <dd class="It-tag">Format string to use with -n option. Simply, put any of the
      4 strings %(fullname)s, %(name)s, %(ext)s, and %(count)i in the format
      string, along with whatever other text you wish.
    <div>&#x00A0;</div>
    The default is '%(name)s.bad-%(count)i%(ext)s'
    <div>&#x00A0;</div>
    In detail, this is a standard python format string with mapping that
      contains {'fullname': original filename, 'name': fullname minus extension,
      'ext': extension(including .), 'count': rename attempt}. If the format
      string does not contain count, then cfv will append '-%(count)i' to the
      filename if the first attempt fails.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">Search for misnamed files. No effect in create mode. Also,
      keep in mind that using -m together with -s will do nothing if the
      checksum type doesn't include filesizes, and if it does, can give false
      positives if some files have the same size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-S</dt>
  <dd class="It-tag">Don't search for misnamed files. (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i</dt>
  <dd class="It-tag">Ignore case. Currently has no effect in create mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-I</dt>
  <dd class="It-tag">Don't ignore case (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-u</dt>
  <dd class="It-tag">Show unverified files. If no files in a directory are
      verified, shows dir/*. If no files in a directory or its subdirs are
      verified, shows dir/**. Has no effect in create mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-uu</dt>
  <dd class="It-tag">Show each unverified file individually, no special
      directory handling. Has no effect in create mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-U</dt>
  <dd class="It-tag">Don't show unverified files (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-zz</dt>
  <dd class="It-tag">Force making/reading checksum files as gzipped files, even
      if not ending in .gz (mainly useful for &quot;-f -&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-z</dt>
  <dd class="It-tag">Make gzipped files in create mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-Z</dt>
  <dd class="It-tag">Don't create gzipped files automatically. (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-ZZ</dt>
  <dd class="It-tag">Never use gzip, even if file ends in &quot;.gz&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--unquote BOOL</dt>
  <dd class="It-tag">If yes, handle checksum files that were generated by buggy
      encoders that quote filenames in checksum formats that don't need it.
      Default is no, since quotes can be a valid character in a filename and we
      don't want to remove them if they are actually part of the filename.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--fixpaths string</dt>
  <dd class="It-tag">Convert all occurances of any characters in string to the
      dir seperator for the current platform. No effect in create mode. Use an
      empty string to disable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--strippaths VAL</dt>
  <dd class="It-tag">Strip NUM leading components from file names in test mode.
      Similar to the -p/--strip options of patch. VAL may be 'none': leave
      exactly as is, 'all': strip everything but the filename, 0: strip the
      leading driveletter/slash (if any), 1+: strip this many path components in
      addition. The default is 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--showpaths VAL</dt>
  <dd class="It-tag">Show paths in displayed filenames. VAL should be one of
      yes/1/no/0/auto/2 or absolute/relative, or one from first list and one
      from second joined by a -. For backwards compatability, 1=yes, 0=none,
      2=auto. The default is auto-relative. Abrieviations are accepted.
      Examples: --showpaths=y-a always shows absolute paths. --showpaths=n never
      shows paths.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p dir</dt>
  <dd class="It-tag">Change to directory before doing anything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f file</dt>
  <dd class="It-tag">Specify the name of the checksum file to test or create. If
      file is -, stdin (for -T) or stdout (for -C) will be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t type</dt>
  <dd class="It-tag">Specify the type of the file. Can be sfv, sfvmd5, csv,
      csv2, csv4, sha1, md5, bsdmd5, par, par2, torrent, crc, auto, or help. If
      the type is help, or an unknown type is given, a list of the types and
      their descriptions will be printed. The default is auto, which will detect
      the file type for you. When creating, if type is auto an sfv will be made,
      unless a different default has been set in the config file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--list listset</dt>
  <dd class="It-tag">Prints a raw listing of files in the given set (ok, bad,
      unverified, notfound). Usually used with -q, but not strictly needed since
      specifying --list will redirect all other messages to stderr.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--list0 listset</dt>
  <dd class="It-tag">Like --list but files are seperated by a null char. Useful
      in combination with xargs -0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--announceurl URL</dt>
  <dd class="It-tag">Tracker announce URL for .torrent file creation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--piece_size_pow2 N</dt>
  <dd class="It-tag">Power of two to set piece size to for .torrent file
      creation. The default is 18, which gives a piece size of 2^18=256KB.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h/--help</dt>
  <dd class="It-tag">Print help info.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--version</dt>
  <dd class="It-tag">Print version of cfv and modules it uses.</dd>
</dl>
<div class="Pp"></div>
<b>sfv</b> is a Simple File Verify format file
<div>&#x00A0;</div>
<b>sfvmd5</b> is a Simple File Verify format file, using MD5 checksums rather
  than crc32.
<div>&#x00A0;</div>
<b>csv</b> is a Comma Seperated Value file, with the fields being
  name,size,crc32,
<div>&#x00A0;</div>
<b>csv2</b> is a Comma Seperated Value file, with the fields being name,size,
<div>&#x00A0;</div>
<b>csv4</b> is a Comma Seperated Value file, with the fields being
  name,size,crc32,path
<div>&#x00A0;</div>
<b>sha1</b> is a sha1sum format file
<div>&#x00A0;</div>
<b>md5</b> is a md5sum format file
<div>&#x00A0;</div>
<b>bsdmd5</b> is a BSD md5 format file
<div>&#x00A0;</div>
<b>par</b> is parchive v1 format file (test-only)
<div>&#x00A0;</div>
<b>par2</b> is parchive v2 format file (test-only)
<div>&#x00A0;</div>
<b>torrent</b> is a BitTorrent metainfo file
<div>&#x00A0;</div>
<b>crc</b> is a JPEG Sheriff format crc file
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The exit status of cfv can be examined to determine what kind of errors, if any,
  occured.
<div class="Pp"></div>
An exit status of 1 indictates a command line argument error, or an unhandled
  exception.
<div class="Pp"></div>
Otherwise, the exit status will be a bitwise OR of:
<dl class="Bl-tag">
  <dt class="It-tag">2</dt>
  <dd class="It-tag">badcrc (a file had a different checksum than listed in the
      checksum file)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4</dt>
  <dd class="It-tag">badsize (a file had a different size than listed. Not all
      checksum file formats include file size)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">8</dt>
  <dd class="It-tag">notfound (a file that was listed was not found)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">16</dt>
  <dd class="It-tag">ferror (some other file error occured when trying to
      open/read a file)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">32</dt>
  <dd class="It-tag">unverified (a file was not verified, only with -u)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">64</dt>
  <dd class="It-tag">cferror (a checksum file was not found or not
    recognized)</dd>
</dl>
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Since different platforms represent the path seperator differently, using
  recursive mode 2 (-rr) is not recommended for anything other than personal
  usage. Although the addition of the fixpaths option can be used to work around
  this, it isn't guaranteed that whatever program others user have will have a
  similar feature.
<div class="Pp"></div>
The -s option is not currently implemented for .torrent files. (Unless you also
  use -m)
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
If no options are specified, the default will be -T -t auto, and it will search
  the current directory for any supported checksum files.
<div>&#x00A0;</div>
<b>cfv</b>
<div class="Pp"></div>
Force the file to test:
<div>&#x00A0;</div>
<b>cfv -f funny.name</b>
<div class="Pp"></div>
Test only the files you have, (avoid file not found errors):
<div>&#x00A0;</div>
<b>cfv *</b>
<div class="Pp"></div>
Create a csv file for all the files in the current dir:
<div>&#x00A0;</div>
<b>cfv -C -tcsv</b>
<div class="Pp"></div>
Create a csv file for only the zip files in the current dir, and specify the
  filename:
<div>&#x00A0;</div>
<b>cfv -C -fsomezips.csv *.zip</b>
<div class="Pp"></div>
Check if all files in current and subdirs are verified, but don't verify
  checksums of files that are. (For example, before writing a directory to a cdr
  and you want to make sure all the files are verified.):
<div>&#x00A0;</div>
<b>cfv -r -m -u</b>
<h1 class="Sh" title="Sh" id="CONFIGURATION"><a class="selflink" href="#CONFIGURATION">CONFIGURATION</a></h1>
Upon startup, cfv will test for ~/.cfvrc and if it exists, read configuration
  information from it. The file consists of any number of lines, each having a
  single option name and the value seperated by a space. Empty lines and lines
  beginning with a # are ignored.
<h1 class="Sh" title="Sh" id="EXAMPLE_CONFIGURATION"><a class="selflink" href="#EXAMPLE_CONFIGURATION">EXAMPLE
  CONFIGURATION</a></h1>
#this is an example .cfvrc that specifies all the default options
<div>&#x00A0;</div>
#don't be verbose (set to 1 or v for -v, 0 or V for -V, -1 or VV for -VV, -2 or
  q for -q, -3 or Q for -Q)
<div>&#x00A0;</div>
verbose V
<div>&#x00A0;</div>
#use progress meter when output is to a terminal (yes for always, no for never,
  auto for when output isatty)
<div>&#x00A0;</div>
progress auto
<div>&#x00A0;</div>
#create sfv files by default
<div>&#x00A0;</div>
default sfv
<div>&#x00A0;</div>
#sort dir listings before creating a checksum file
<div>&#x00A0;</div>
dirsort 1
<div>&#x00A0;</div>
#sort command line specified files
<div>&#x00A0;</div>
cmdlinesort 1
<div>&#x00A0;</div>
#expand wildcards in command line (yes for always, no for never, auto for when
  os.name is os2, nt, or dos)
<div>&#x00A0;</div>
cmdlineglob auto
<div>&#x00A0;</div>
#don't be recursive (set to 0 for -R, 1 for -r, 2 for -rr)
<div>&#x00A0;</div>
recursive 0
<div>&#x00A0;</div>
#follow symbolic links
<div>&#x00A0;</div>
dereference 1
<div>&#x00A0;</div>
#don't show unverified files (set to 0 for -U, 1 for -u, 2 for -uu)
<div>&#x00A0;</div>
showunverified 0
<div>&#x00A0;</div>
#don't ignore case
<div>&#x00A0;</div>
ignorecase 0
<div>&#x00A0;</div>
#don't use workaround for buggy encoders that quote filenames unnecessarily
<div>&#x00A0;</div>
unquote 0
<div>&#x00A0;</div>
#don't fix any paths (note that there is a single space after fixpaths, thus the
  value it gets set to is an empty string)
<div>&#x00A0;</div>
fixpaths
<div>&#x00A0;</div>
#A more useful example would be:
<div>&#x00A0;</div>
#fixpaths /\
<div>&#x00A0;</div>
#don't strip leading directories (all to strip all path info, 0+ to strip the
  leading / and the first X components, none for nothing)
<div>&#x00A0;</div>
strippaths 0
<div>&#x00A0;</div>
#show full paths in recursive mode (set to 0 for never, 1 for always, 2 for only
  in recursive mode)
<div>&#x00A0;</div>
showpaths 2
<div>&#x00A0;</div>
#access checksum filenames that end with .gz as gzipped files (-1 for never, 0
  for with .gz, and 1 to make -C make .gz files automatically)
<div>&#x00A0;</div>
gzip 0
<div>&#x00A0;</div>
#don't rename bad files
<div>&#x00A0;</div>
rename 0
<div>&#x00A0;</div>
#format to use for renaming bad files with -n
<div>&#x00A0;</div>
renameformat %(name)s.bad-%(count)i%(ext)s
<div>&#x00A0;</div>
#don't search for files
<div>&#x00A0;</div>
search 0
<div>&#x00A0;</div>
#filename_type can be used to override what type of file to create when -t isn't
  specified.
<div>&#x00A0;</div>
#The format of the argument is &lt;typename&gt;=&lt;regex&gt;. Can be specified
  multiple times, the earlier instances having higher priority.
<div>&#x00A0;</div>
#for example, the following line would cause cfv -C -f foo.md5 to create a
  'sfvmd5' file rather than a 'md5' file.
<div>&#x00A0;</div>
#filename_type sfvmd5=md5$
<div class="Pp"></div>
#torrent options:
<div>&#x00A0;</div>
# you can specify a default announce url:
<div>&#x00A0;</div>
#announceurl http://foo.bar/announce
<div>&#x00A0;</div>
# piece size of 2^18 bytes (256KB):
<div>&#x00A0;</div>
piece_size_pow2 18
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">~/.cfvrc</dt>
  <dd class="It-tag">cfv configuration file. See configuration section.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">~/_cfvrc</dt>
  <dd class="It-tag">alternate configuration file name. (Since windows won't let
      you create files starting with a dot.)</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">HOME</dt>
  <dd class="It-tag">Where to look for cfvrc file. Note that win9x doesn't set
      this to anything automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">CFV_NOFCHKSUM</dt>
  <dd class="It-tag">Set to a non-empty value to disable usage of python-fchksum
      module.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">CFV_NOMMAP</dt>
  <dd class="It-tag">Set to a non-empty value to disable usage of mmap.</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Matthew Mueller &lt;donut AT dakotacom DOT net&gt;
<div class="Pp"></div>
The latest version can be found at any of:
<div>&#x00A0;</div>
http://cfv.sourceforge.net/
<div>&#x00A0;</div>
http://www.dakotacom.net/~donut/programs/cfv.html
<div>&#x00A0;</div>
ftp://sunsite.unc.edu/pub/Linux/utils/file/
<div class="Pp"></div>
Other programs I have written can be found at:
<div>&#x00A0;</div>
http://www.dakotacom.net/~donut/programs/
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>md5sum</b>(1), <b>sha1sum</b>(1), <b>md5</b>(1), <b>xargs</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">01 Feb 2005</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
