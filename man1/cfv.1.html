<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:58:03 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>cfv(1) General Commands Manual cfv(1)</p>

<p style="margin-top: 1em">NAME <br>
cfv - Verify file consistency with .sfv, .csv, .crc, .md5,
md5sum, sha1sum, .torrent, par, or par2 files</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cfv [-p dir] [-v|-V|-VV] [-r|-rr|-R] [-n|-N] [--renameformat
&lt;s&gt;] [-s|-S] [-zz|-z|-Z|-ZZ] [-T|-C] [-m|-M] [-i|-I]
[-u|-uu|-U] [--unquote &lt;b&gt;] [--fixpaths &lt;s&gt;]
[--showpaths &lt;i&gt;] <br>
[--list/--list0 &lt;l&gt;] [--announceurl &lt;u&gt;]
[--piece_size_pow2 &lt;n&gt;] [-t type] [-f file]
[files...]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
cfv verifies that the files you have are the same as those
that the were used to create the checksum file.</p>

<p style="margin-top: 1em">OPTIONS <br>
-v Enable printing of extra messages.</p>

<p style="margin-top: 1em">-V Disable printing of extra
messages. (default)</p>

<p style="margin-top: 1em">-VV Like -V, but don&rsquo;t
print status line at end either.</p>

<p style="margin-top: 1em">-q Like -VV, but not even error
messages are printed. Check the exit status.</p>

<p style="margin-top: 1em">-Q Only status lines are
printed, but not individual errors.</p>

<p style="margin-top: 1em">--progress VAL <br>
Set when cfv should display progress bars. If no, progress
bars are never displayed. If auto, progress bars are
displayed when the output is to a tty.(default) If yes, <br>
progress is always displayed.</p>

<p style="margin-top: 1em">-r Recursive mode 1. In create
mode, make seperate chksum files for each dir.</p>

<p style="margin-top: 1em">-rr Recursive mode 2. In create
mode make a single file with deep listing in it. Both
recursive modes are equivilant for test mode.</p>

<p style="margin-top: 1em">-R Disable recursive mode
(default)</p>

<p style="margin-top: 1em">-l Follow directory symlinks in
recursive mode. (default)</p>

<p style="margin-top: 1em">-L Don&rsquo;t follow directory
symlinks in recursive mode.</p>

<p style="margin-top: 1em">-T Set test mode. (default)</p>

<p style="margin-top: 1em">-C Set create mode.</p>

<p style="margin-top: 1em">-m Check only for missing files
(don&rsquo;t compare checksums)</p>

<p style="margin-top: 1em">-M Check checksums (default)</p>

<p style="margin-top: 1em">-n Rename bad files. With -s,
also renames misnamed files to the correct name.</p>

<p style="margin-top: 1em">-N Don&rsquo;t rename bad files
(default)</p>

<p style="margin-top: 1em">--renameformat string <br>
Format string to use with -n option. Simply, put any of the
4 strings %(fullname)s, %(name)s, %(ext)s, and %(count)i in
the format string, along with whatever other text <br>
you wish. <br>
The default is &rsquo;%(name)s.bad-%(count)i%(ext)s&rsquo;
<br>
In detail, this is a standard python format string with
mapping that contains {&rsquo;fullname&rsquo;: original
filename, &rsquo;name&rsquo;: fullname minus extension,
&rsquo;ext&rsquo;: extension(including <br>
.), &rsquo;count&rsquo;: rename attempt}. If the format
string does not contain count, then cfv will append
&rsquo;-%(count)i&rsquo; to the filename if the first
attempt fails.</p>

<p style="margin-top: 1em">-s Search for misnamed files. No
effect in create mode. Also, keep in mind that using -m
together with -s will do nothing if the checksum type
doesn&rsquo;t include filesizes, <br>
and if it does, can give false positives if some files have
the same size.</p>

<p style="margin-top: 1em">-S Don&rsquo;t search for
misnamed files. (default)</p>

<p style="margin-top: 1em">-i Ignore case. Currently has no
effect in create mode.</p>

<p style="margin-top: 1em">-I Don&rsquo;t ignore case
(default)</p>

<p style="margin-top: 1em">-u Show unverified files. If no
files in a directory are verified, shows dir/*. If no files
in a directory or its subdirs are verified, shows dir/**.
Has no effect in cre&acirc; <br>
ate mode.</p>

<p style="margin-top: 1em">-uu Show each unverified file
individually, no special directory handling. Has no effect
in create mode.</p>

<p style="margin-top: 1em">-U Don&rsquo;t show unverified
files (default)</p>

<p style="margin-top: 1em">-zz Force making/reading
checksum files as gzipped files, even if not ending in .gz
(mainly useful for &quot;-f -&quot;)</p>

<p style="margin-top: 1em">-z Make gzipped files in create
mode.</p>

<p style="margin-top: 1em">-Z Don&rsquo;t create gzipped
files automatically. (default)</p>

<p style="margin-top: 1em">-ZZ Never use gzip, even if file
ends in &quot;.gz&quot;.</p>

<p style="margin-top: 1em">--unquote BOOL <br>
If yes, handle checksum files that were generated by buggy
encoders that quote filenames in checksum formats that
don&rsquo;t need it. Default is no, since quotes can be a
<br>
valid character in a filename and we don&rsquo;t want to
remove them if they are actually part of the filename.</p>

<p style="margin-top: 1em">--fixpaths string <br>
Convert all occurances of any characters in string to the
dir seperator for the current platform. No effect in create
mode. Use an empty string to disable.</p>

<p style="margin-top: 1em">--strippaths VAL <br>
Strip NUM leading components from file names in test mode.
Similar to the -p/--strip options of patch. VAL may be
&rsquo;none&rsquo;: leave exactly as is, &rsquo;all&rsquo;:
strip everything <br>
but the filename, 0: strip the leading driveletter/slash (if
any), 1+: strip this many path components in addition. The
default is 0.</p>

<p style="margin-top: 1em">--showpaths VAL <br>
Show paths in displayed filenames. VAL should be one of
yes/1/no/0/auto/2 or absolute/relative, or one from first
list and one from second joined by a -. For backwards <br>
compatability, 1=yes, 0=none, 2=auto. The default is
auto-relative. Abrieviations are accepted. Examples:
--showpaths=y-a always shows absolute paths. --showpaths=n
<br>
never shows paths.</p>

<p style="margin-top: 1em">-p dir Change to directory
before doing anything.</p>

<p style="margin-top: 1em">-f file <br>
Specify the name of the checksum file to test or create. If
file is -, stdin (for -T) or stdout (for -C) will be
used.</p>

<p style="margin-top: 1em">-t type <br>
Specify the type of the file. Can be sfv, sfvmd5, csv, csv2,
csv4, sha1, md5, bsdmd5, par, par2, torrent, crc, auto, or
help. If the type is help, or an unknown type is <br>
given, a list of the types and their descriptions will be
printed. The default is auto, which will detect the file
type for you. When creating, if type is auto an sfv <br>
will be made, unless a different default has been set in the
config file.</p>

<p style="margin-top: 1em">--list listset <br>
Prints a raw listing of files in the given set (ok, bad,
unverified, notfound). Usually used with -q, but not
strictly needed since specifying --list will redirect all
<br>
other messages to stderr.</p>

<p style="margin-top: 1em">--list0 listset <br>
Like --list but files are seperated by a null char. Useful
in combination with xargs -0.</p>

<p style="margin-top: 1em">--announceurl URL <br>
Tracker announce URL for .torrent file creation.</p>

<p style="margin-top: 1em">--piece_size_pow2 N <br>
Power of two to set piece size to for .torrent file
creation. The default is 18, which gives a piece size of
2^18=256KB.</p>

<p style="margin-top: 1em">-h/--help <br>
Print help info.</p>

<p style="margin-top: 1em">--version <br>
Print version of cfv and modules it uses.</p>

<p style="margin-top: 1em">sfv is a Simple File Verify
format file <br>
sfvmd5 is a Simple File Verify format file, using MD5
checksums rather than crc32. <br>
csv is a Comma Seperated Value file, with the fields being
name,size,crc32, <br>
csv2 is a Comma Seperated Value file, with the fields being
name,size, <br>
csv4 is a Comma Seperated Value file, with the fields being
name,size,crc32,path <br>
sha1 is a sha1sum format file <br>
md5 is a md5sum format file <br>
bsdmd5 is a BSD md5 format file <br>
par is parchive v1 format file (test-only) <br>
par2 is parchive v2 format file (test-only) <br>
torrent is a BitTorrent metainfo file <br>
crc is a JPEG Sheriff format crc file</p>

<p style="margin-top: 1em">EXIT STATUS <br>
The exit status of cfv can be examined to determine what
kind of errors, if any, occured.</p>

<p style="margin-top: 1em">An exit status of 1 indictates a
command line argument error, or an unhandled exception.</p>

<p style="margin-top: 1em">Otherwise, the exit status will
be a bitwise OR of:</p>

<p style="margin-top: 1em">2 badcrc (a file had a different
checksum than listed in the checksum file)</p>

<p style="margin-top: 1em">4 badsize (a file had a
different size than listed. Not all checksum file formats
include file size)</p>

<p style="margin-top: 1em">8 notfound (a file that was
listed was not found)</p>

<p style="margin-top: 1em">16 ferror (some other file error
occured when trying to open/read a file)</p>

<p style="margin-top: 1em">32 unverified (a file was not
verified, only with -u)</p>

<p style="margin-top: 1em">64 cferror (a checksum file was
not found or not recognized)</p>

<p style="margin-top: 1em">NOTES <br>
Since different platforms represent the path seperator
differently, using recursive mode 2 (-rr) is not recommended
for anything other than personal usage. Although the
addition <br>
of the fixpaths option can be used to work around this, it
isn&rsquo;t guaranteed that whatever program others user
have will have a similar feature.</p>

<p style="margin-top: 1em">The -s option is not currently
implemented for .torrent files. (Unless you also use -m)</p>

<p style="margin-top: 1em">EXAMPLES <br>
If no options are specified, the default will be -T -t auto,
and it will search the current directory for any supported
checksum files. <br>
cfv</p>

<p style="margin-top: 1em">Force the file to test: <br>
cfv -f funny.name</p>

<p style="margin-top: 1em">Test only the files you have,
(avoid file not found errors): <br>
cfv *</p>

<p style="margin-top: 1em">Create a csv file for all the
files in the current dir: <br>
cfv -C -tcsv</p>

<p style="margin-top: 1em">Create a csv file for only the
zip files in the current dir, and specify the filename: <br>
cfv -C -fsomezips.csv *.zip</p>

<p style="margin-top: 1em">Check if all files in current
and subdirs are verified, but don&rsquo;t verify checksums
of files that are. (For example, before writing a directory
to a cdr and you want to make sure <br>
all the files are verified.): <br>
cfv -r -m -u</p>

<p style="margin-top: 1em">CONFIGURATION <br>
Upon startup, cfv will test for ~/.cfvrc and if it exists,
read configuration information from it. The file consists of
any number of lines, each having a single option name and
<br>
the value seperated by a space. Empty lines and lines
beginning with a # are ignored.</p>

<p style="margin-top: 1em">EXAMPLE CONFIGURATION <br>
#this is an example .cfvrc that specifies all the default
options <br>
#don&rsquo;t be verbose (set to 1 or v for -v, 0 or V for
-V, -1 or VV for -VV, -2 or q for -q, -3 or Q for -Q) <br>
verbose V <br>
#use progress meter when output is to a terminal (yes for
always, no for never, auto for when output isatty) <br>
progress auto <br>
#create sfv files by default <br>
default sfv <br>
#sort dir listings before creating a checksum file <br>
dirsort 1 <br>
#sort command line specified files <br>
cmdlinesort 1 <br>
#expand wildcards in command line (yes for always, no for
never, auto for when os.name is os2, nt, or dos) <br>
cmdlineglob auto <br>
#don&rsquo;t be recursive (set to 0 for -R, 1 for -r, 2 for
-rr) <br>
recursive 0 <br>
#follow symbolic links <br>
dereference 1 <br>
#don&rsquo;t show unverified files (set to 0 for -U, 1 for
-u, 2 for -uu) <br>
showunverified 0 <br>
#don&rsquo;t ignore case <br>
ignorecase 0 <br>
#don&rsquo;t use workaround for buggy encoders that quote
filenames unnecessarily <br>
unquote 0 <br>
#don&rsquo;t fix any paths (note that there is a single
space after fixpaths, thus the value it gets set to is an
empty string) <br>
fixpaths <br>
#A more useful example would be: <br>
#fixpaths / #don&rsquo;t strip leading directories (all to
strip all path info, 0+ to strip the leading / and the first
X components, none for nothing) <br>
strippaths 0 <br>
#show full paths in recursive mode (set to 0 for never, 1
for always, 2 for only in recursive mode) <br>
showpaths 2 <br>
#access checksum filenames that end with .gz as gzipped
files (-1 for never, 0 for with .gz, and 1 to make -C make
.gz files automatically) <br>
gzip 0 <br>
#don&rsquo;t rename bad files <br>
rename 0 <br>
#format to use for renaming bad files with -n <br>
renameformat %(name)s.bad-%(count)i%(ext)s <br>
#don&rsquo;t search for files <br>
search 0 <br>
#filename_type can be used to override what type of file to
create when -t isn&rsquo;t specified. <br>
#The format of the argument is
&lt;typename&gt;=&lt;regex&gt;. Can be specified multiple
times, the earlier instances having higher priority. <br>
#for example, the following line would cause cfv -C -f
foo.md5 to create a &rsquo;sfvmd5&rsquo; file rather than a
&rsquo;md5&rsquo; file. <br>
#filename_type sfvmd5=md5$</p>

<p style="margin-top: 1em">#torrent options: <br>
# you can specify a default announce url: <br>
#announceurl http://foo.bar/announce <br>
# piece size of 2^18 bytes (256KB): <br>
piece_size_pow2 18</p>

<p style="margin-top: 1em">FILES <br>
~/.cfvrc <br>
cfv configuration file. See configuration section.</p>

<p style="margin-top: 1em">~/_cfvrc <br>
alternate configuration file name. (Since windows
won&rsquo;t let you create files starting with a dot.)</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
HOME Where to look for cfvrc file. Note that win9x
doesn&rsquo;t set this to anything automatically.</p>

<p style="margin-top: 1em">CFV_NOFCHKSUM <br>
Set to a non-empty value to disable usage of python-fchksum
module.</p>

<p style="margin-top: 1em">CFV_NOMMAP <br>
Set to a non-empty value to disable usage of mmap.</p>

<p style="margin-top: 1em">AUTHOR <br>
Matthew Mueller &lt;donut AT dakotacom DOT net&gt;</p>

<p style="margin-top: 1em">The latest version can be found
at any of: <br>
http://cfv.sourceforge.net/ <br>
http://www.dakotacom.net/~donut/programs/cfv.html <br>
ftp://sunsite.unc.edu/pub/Linux/utils/file/</p>

<p style="margin-top: 1em">Other programs I have written
can be found at: <br>
http://www.dakotacom.net/~donut/programs/</p>

<p style="margin-top: 1em">SEE ALSO <br>
md5sum(1), sha1sum(1), md5(1), xargs(1)</p>

<p style="margin-top: 1em">01 Feb 2005 cfv(1)</p>
<hr>
</body>
</html>
