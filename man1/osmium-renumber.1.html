<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:29:28 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>OSMIUM-RENUMBER(1) OSMIUM-RENUMBER(1)</p>

<p style="margin-top: 1em">NAME <br>
osmium-renumber - renumber object IDs</p>

<p style="margin-top: 1em">SYNOPSIS <br>
osmium renumber [OPTIONS] OSM-DATA-FILE</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The objects (nodes, ways, and relations) in an OSM file
often have very large IDs. This can make some kinds of
postprocessing difficult. This command will renumber all
objects <br>
using IDs starting at 1. Referential integrity will be kept.
All objects which appear in the source file will be in the
same order in the output file. IDs of objects which are <br>
not in the file but referenced from ways or relations are
not guaranteed to be in the correct order.</p>

<p style="margin-top: 1em">This command expects the input
file to be ordered in the usual way: First nodes in order of
ID, then ways in order of ID, then relations in order of ID.
The input file will be <br>
read twice, so it will not work with STDIN.</p>

<p style="margin-top: 1em">Currently this command can not
renumber negative IDs.</p>

<p style="margin-top: 1em">You must never upload the data
generated by this command to OSM! This would really confuse
the OSM database because it knows the objects under
different IDs.</p>

<p style="margin-top: 1em">OPTIONS <br>
-i, --index-directory=DIR <br>
Directory where the index files for mapping between old and
news IDs are read from and written to, respectively. Use
this if you want to map IDs in several OSM files. <br>
Without this option, the indexes are not read from or
written to disk. The directory must exist. Use
&rsquo;.&rsquo; for the current directory. The files written
will be named <br>
nodes.idx, ways.idx, and relations.idx. See also the INDEX
FILES section below.</p>

<p style="margin-top: 1em">-t, --object-type=TYPE <br>
Renumber only objects of given type (node, way, or
relation). By default all objects of all types are
renumbered. This option can be given multiple times.</p>

<p style="margin-top: 1em">COMMON OPTIONS <br>
-h, --help <br>
Show usage help.</p>

<p style="margin-top: 1em">-v, --verbose <br>
Set verbose mode. The program will output information about
what it is doing to stderr.</p>

<p style="margin-top: 1em">--progress <br>
Show progress bar. Usually a progress bar is only displayed
if STDERR is detected to be a TTY. With this option a
progress bar is always shown. Note that a progress bar <br>
will never be shown when reading from STDIN or a pipe.</p>

<p style="margin-top: 1em">--no-progress <br>
Do not show progress bar. Usually a progress bar is
displayed if STDERR is detected to be a TTY. With this
option the progress bar is suppressed. Note that a progress
<br>
bar will never be shown when reading from STDIN or a
pipe.</p>

<p style="margin-top: 1em">INPUT OPTIONS <br>
-F, --input-format=FORMAT <br>
The format of the input file(s). Can be used to set the
input format if it can&rsquo;t be autodetected from the file
name(s). This will set the format for all input files, <br>
there is no way to set the format for some input files only.
See osmium-file-formats(5) or the libosmium manual for
details.</p>

<p style="margin-top: 1em">OUTPUT OPTIONS <br>
-f, --output-format=FORMAT <br>
The format of the output file. Can be used to set the output
file format if it can&rsquo;t be autodetected from the
output file name. See osmium-file-formats(5) or the <br>
libosmium manual for details.</p>

<p style="margin-top: 1em">--fsync <br>
Call fsync after writing the output file to force flushing
buffers to disk.</p>

<p style="margin-top: 1em">--generator=NAME <br>
The name and version of the program generating the output
file. It will be added to the header of the output file.
Default is &quot;osmium/&quot; and the version of
osmium.</p>

<p style="margin-top: 1em">-o, --output=FILE <br>
Name of the output file. Default is &rsquo;-&rsquo;
(STDOUT).</p>

<p style="margin-top: 1em">-O, --overwrite <br>
Allow an existing output file to be overwritten. Normally
osmium will refuse to write over an existing file.</p>

<p style="margin-top: 1em">--output-header=OPTION <br>
Add output header option. This option can be given several
times. See the libosmium manual for a list of allowed header
options.</p>

<p style="margin-top: 1em">INDEX FILES <br>
When the -i or --index-directory option is used, index files
named nodes.idx, ways.idx, and relations.idx are read from
and written to the given directory. This can be used to <br>
force consistent mapping over several invocations of osmium
renumber, for instance when you want to remap an OSM data
file and a corresponding OSM change file.</p>

<p style="margin-top: 1em">The index files are in binary
format, but you can use the following command line to
convert them into something readable:</p>

<p style="margin-top: 1em">od -An -td8 -w8 TYPE.idx | cat
-n</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
osmium renumber exits with exit code</p>

<p style="margin-top: 1em">0 if everything went
alright,</p>

<p style="margin-top: 1em">1 if there was an error
processing the data, or</p>

<p style="margin-top: 1em">2 if there was a problem with
the command line arguments.</p>

<p style="margin-top: 1em">MEMORY USAGE <br>
osmium renumber needs quite a bit of main memory to keep the
mapping between old and new IDs. It is intended for small to
medium sized extracts. You will need more than 32 GB <br>
RAM to run this on a full planet.</p>

<p style="margin-top: 1em">Memory use is at least 8 bytes
per node, way, and relation ID in the input file.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Renumber a PBF file and output to a compressed XML file:</p>

<p style="margin-top: 1em">osmium renumber -o ch.osm.bz2
germany.osm.pbf</p>

<p style="margin-top: 1em">Renumbering Germany currently
(spring 2016) takes less than three minutes and needs about
3 GB RAM.</p>

<p style="margin-top: 1em">Renumber an OSM file storing the
indexes on disk:</p>

<p style="margin-top: 1em">osmium renumber -i. -o
renumbered.osm data.osm</p>

<p style="margin-top: 1em">then rewrite a change file,
too:</p>

<p style="margin-top: 1em">osmium renumber -i. -o
renumbered.osc changes.osc</p>

<p style="margin-top: 1em">SEE ALSO <br>
&Acirc;&middot; osmium(1), osmium-file-formats(5)</p>

<p style="margin-top: 1em">&Acirc;&middot; Osmium website
(http://osmcode.org/osmium-tool/)</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2013-2017 Jochen Topf
&lt;jochen@topf.org&gt;.</p>

<p style="margin-top: 1em">License GPLv3+: GNU GPL version
3 or later &lt;https://gnu.org/licenses/gpl.html&gt;. This
is free software: you are free to change and redistribute
it. There is NO WARRANTY, to the <br>
extent permitted by law.</p>

<p style="margin-top: 1em">CONTACT <br>
If you have any questions or want to report a bug, please go
to http://osmcode.org/contact.html</p>

<p style="margin-top: 1em">AUTHORS <br>
Jochen Topf &lt;jochen@topf.org&gt;.</p>

<p style="margin-top: 1em">1.6.1 OSMIUM-RENUMBER(1)</p>
<hr>
</body>
</html>
