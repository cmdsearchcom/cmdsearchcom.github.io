<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>RUNSIMTEST(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">RUNSIMTEST(1)</td>
    <td class="head-vol">IB MANAGEMENT SIMULATOR</td>
    <td class="head-rtitle">RUNSIMTEST(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>RunSimTest</b> - Run a test over the IB management simulator
<h1 class="Sh" title="Sh" id="SYNOPSYS"><a class="selflink" href="#SYNOPSYS">SYNOPSYS</a></h1>
RunSimTest [-h] [-o osm-path][-f flow-file][-c checker-file]
<br/>
 -t topology [-n osm-node-name][-p osm-port-num][-s seed][-V verbosity-list]
<div class="Pp"></div>
This command starts the simulator and runs the the given test flow on top of it.
  Then it runs the checker flow. The default test flow starts OpenSM and wait
  for Subnet-Up event. User given flow can make use of the provided facilities
  for starting OpenSM and tracking it events.
<h1 class="Sh" title="Sh" id="ARGUMENTS"><a class="selflink" href="#ARGUMENTS">ARGUMENTS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-t topology</dt>
  <dd class="It-tag">A topology file describing the fabric (see
      <b>ibdm-topo-file</b>)</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-f flow-file</dt>
  <dd class="It-tag">A tcl file sourced by the sim after the fabric is setup.
      See following discussion about the provided API and global variables that
      are available for the flow.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-c checker-file</dt>
  <dd class="It-tag">A tcl file defining when osm completed and what checks are
      requierd to validate it's outputs. The procedure named 'checker' is
      invoked by the test flow to start the checking flow. The default flow
      waits for OpenSM to complete setup the fabric and run ibdmchk.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o osm-path</dt>
  <dd class="It-tag">Full path to OpenSM (/usr/local/ofed/osm-sim/bin/opensm).
      NOTE OpenSM should be compiled with --with-osmv=sim to be able to connect
      to the simulator.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n osm-node</dt>
  <dd class="It-tag">Topology file node name the SM runs on (default
    H-1/U1)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p port-num</dt>
  <dd class="It-tag">Port number the SM attaches to (default 1).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s seed</dt>
  <dd class="It-tag">Random seed to be used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-V verbosity-list</dt>
  <dd class="It-tag">Module verbosity list. The first should be the global
      verbosity. See IBMgtSim for full list of modules. Examples:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
 -V 0xffff = Full verbosity on all modules
 -V '&quot;0x3 server 0x6f2 sma 0xffff&quot;' = Only fatal and error
    for all modules full verbosity for the SMA module and default
    verbosity for the Server module.
    </pre>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h</dt>
  <dd class="It-tag">This help message</dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Eitan Zahavi, Mellanox Technologies LTD, eitan@mellanox.co.il</div>
<table class="foot">
  <tr>
    <td class="foot-date">2008-06-16</td>
    <td class="foot-os">IBMGTSIM 1.0</td>
  </tr>
</table>
</body>
</html>
