<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:05:53 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>dvbsnoop(1) DVB Analyzer, MPEG Analyzer dvbsnoop(1)</p>

<p style="margin-top: 1em">Name <br>
dvbsnoop - DVB and MPEG stream analyzer</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dvbsnoop [-s mode] [options] pid</p>

<p style="margin-top: 1em">dvbsnoop [-s mode] [options] -if
filename [pid]</p>

<p style="margin-top: 1em">dvbsnoop [-s mode] [options] -b
[pid] &gt; binary.file</p>

<p style="margin-top: 1em">dvbsnoop [-s mode] [options]</p>

<p style="margin-top: 1em">Description <br>
DVBSNOOP is a text based DVB and MPEG stream analyzer for
viewing/debugging stream information, e.g. send via digital
TV. You may also use dvbsnoop to analyze mpeg compliant <br>
streams stored on DVD or other media. Dvbsnoop analyzes and
displays MPEG, DVB, DSM-CC, MHP, etc. data and structures in
human readable form. Possible stream types are TS
(tran&acirc; <br>
port streams), PS (program streams), PES (packetized
elementary streams) or SECTIONS (service information
streams).</p>

<p style="margin-top: 1em">DVBSNOOP also has some
additional functionality to analyze receiver (set top box,
dvb card) data, bandwidth of a transport stream, pid scan,
etc.</p>

<p style="margin-top: 1em">Using special network programs
like netcat (nc), dvbsnoop may also be used to do remote
sniffing and decoding. For post-processing dvbsnoop output,
you may use the full range of <br>
unix tools and scripting languages (grep, perl, python,
mrtg, gnuplot, etc.).</p>

<p style="margin-top: 1em">Usage <br>
Dvbsnoop provides an online and offline input and different
snoop/decoding modes (see below).</p>

<p style="margin-top: 1em">Using dvbsnoop
&rsquo;online&rsquo; requires dvb-api compliant devices
(http://www.linuxtv.org) to grab live stream information
from e.g. satellite or cable tv or data streams. You will
also <br>
need DVB compliant hardware (e.g. DVB-S pci card or a linux
based setop box like dbox2 or Dreambox) to receive DVB data
streams. To tune into a transponder or frequency, please
<br>
use a program like &rsquo;szap&rsquo;, &rsquo;dvbtune&rsquo;
or a DVB-GUI like &rsquo;Enigma&rsquo;,
&rsquo;Neutrino&rsquo;, &rsquo;MythTV&rsquo;,
&rsquo;VDR&rsquo;, etc..</p>

<p style="margin-top: 1em">The &rsquo;offline&rsquo; mode
enables you to analyze binary stream files (e.g. transport
stream files or PES files).</p>

<p style="margin-top: 1em">Some options are specific for
the selected modes. You may try different combinations of
command line options to get best results.</p>

<p style="margin-top: 1em">A short FAQ for common questions
and example decoding output can be found at
http://dvbsnoop.sourceforge.net.</p>

<p style="margin-top: 1em">Basic Decoding Selection Mode
Command Line Options <br>
-s [ts|ps|pes|sec|pidscan|bandwidth|signal|feinfo] <br>
Basic snoop mode selection. <br>
sec = SI mode (SECTIONS) <br>
ts = transport stream mode <br>
ps = program stream mode (same as PES mode) <br>
pes = packetized elementary stream mode, <br>
e.g. teletext, audio, video, data <br>
pidscan = scan and display PIDs on tuned <br>
transponder/frequency. <br>
bandwidth = bandwidth measurement mode <br>
for selected pid. <br>
signal = display tuner signal reception info. <br>
feinfo = display tuner data (frontend info).</p>

<p style="margin-top: 1em">The modes &rsquo;sec&rsquo;,
&quot;ps&quot; or &quot;pes&quot; require the selection of a
PID. The mode &rsquo;ts&rsquo; requires either a PID
specified or the option -tsraw.</p>

<p style="margin-top: 1em">A PID can be specified using
octal, decimal or hexadecimal values. Examples: octal: 021,
decimal: 17, hexadecimal: 0x11</p>

<p style="margin-top: 1em">If -s option is omitted, default
mode is &quot;-s sec&quot; (Section mode).</p>

<p style="margin-top: 1em">General Command Line Options
<br>
-help <br>
Print help text with command line options.</p>

<p style="margin-top: 1em">-hideproginfo <br>
Do not print dvbsnoop header (version, etc.).</p>

<p style="margin-top: 1em">General Decoding Output Command
Line Options <br>
-pd &lt;mode&gt; <br>
Specify print decoding verbose mode. Specify 0 for no
output. 9 will be very verbose. Default is 6.</p>

<p style="margin-top: 1em">-npd <br>
Same as -pd 0.</p>

<p style="margin-top: 1em">-ph &lt;mode&gt; <br>
Specify print hex output verbose mode: <br>
0=no hexdump output, 1=hex output, 2=hex line, <br>
3=ascii line, 4=alternate hex output. (default is 4)</p>

<p style="margin-top: 1em">-hexdumpbuffer</p>

<p style="margin-top: 1em">-nohexdumpbuffer <br>
Switch on/off hexdump of stream input buffer. May be used to
enhance -ph option. (e.g. -ph 4 -nohexdumpbuffer)</p>

<p style="margin-top: 1em">-nph <br>
Obsolete, same as -nohexdumpbuffer.</p>

<p style="margin-top: 1em">-t&lt;mode&gt; <br>
Timestamp output mode: <br>
-tf = full timestamp <br>
-td = delta timestamp mode, <br>
-tn = no time stamp.</p>

<p style="margin-top: 1em">-b <br>
Binary output of packets (disables other output). Use this
option to store raw data in file or chain data to another
program. <br>
E.g.: dvbsnoop -s ts 0x00 -b &gt; file <br>
dvbsnoop -s pes 0x3FF -b | ./myprogram</p>

<p style="margin-top: 1em">There might be a file limit on
your system (mostly 2 GB) when writing files using
&rsquo;&gt;&rsquo;.</p>

<p style="margin-top: 1em">Device Selection Command Line
Options <br>
Dvbsnoop uses default devices, defined by the DVB API. On
some platforms or if using multiple dvb cards, you may want
to override default settings, e.g. to select a different
<br>
tuner.</p>

<p style="margin-top: 1em">-demux &lt;device&gt; <br>
Specify &lt;device&gt; for demux. If not specified, dvbsnoop
uses the device specified by the linux dvb-api.</p>

<p style="margin-top: 1em">-dvr &lt;device&gt; <br>
Specify &lt;device&gt; for dvr. If not specified, dvbsnoop
uses the device specified by the linux dvb-api.</p>

<p style="margin-top: 1em">-frontend &lt;device&gt; <br>
Specify &lt;device&gt; for frontend. If not specified,
dvbsnoop uses the device specified by the linux dvb-api.</p>

<p style="margin-top: 1em">-adapter &lt;n&gt; <br>
Specify DVB adapter/card by number &lt;n&gt; (0-9) using
default path pattern (e.g. /dev/dvb/adapter1/...). If not
specified, dvbsnoop uses the default adapter/card - usually
0.</p>

<p style="margin-top: 1em">-devnr &lt;n&gt; <br>
Specify DVB device number &lt;n&gt; (0-9) on a DVB
adapter/card using default path pattern (e.g.
/dev/dvb/adapt.../demux1). If not specified, dvbsnoop uses
the default device <br>
number - usually 0.</p>

<p style="margin-top: 1em">-buffersize &lt;kb&gt; <br>
Set demux read buffer size in KBytes. Default is 0 (use
internal default value).</p>

<p style="margin-top: 1em">-n &lt;value&gt; <br>
Stop after reading &lt;value&gt; packets. Use this to limit
the read process. Default is 0 (no limit).</p>

<p style="margin-top: 1em">-if &lt;file&gt; <br>
Read binary stream data from file instead of the demux
device. <br>
&lt;file&gt; = &rsquo;-&rsquo; reads from standard input.
Depending on the decoding mode this might be transport
stream, packetized elementary stream or sections. Please
aware, that you <br>
cannot e.g. use -s pes or -s sec on a saved transport
stream. The decoding/snooping mode has to match the saved
stream format!</p>

<p style="margin-top: 1em">SECTION Mode (SEC) Specific
Command Line Options <br>
The following command line options are special to the
&rsquo;SECTION&rsquo; decoding mode:</p>

<p style="margin-top: 1em">-s sec <br>
Section mode.</p>

<p style="margin-top: 1em">-timeout &lt;ms&gt; <br>
Section read timeout in ms. Default is 0 (no timeout).</p>

<p style="margin-top: 1em">-f &lt;filter&gt; <br>
Filter value for filtering section data e.g. table
id&rsquo;s. Value may be decimal (49), octal (037) or
hexadecimal (0x4F). You may use multibyte filters like:
0x4E.01.20.FF <br>
The filter comprises e.g. 16 bytes covering byte 0 and byte
3..17 in a section, thus excluding bytes 1 and 2 (the length
field of a section). To check the filter values <br>
use -pd 9.</p>

<p style="margin-top: 1em">-m &lt;mask&gt; <br>
Mask value to use for filters. Value may be decimal (49),
octal (037) or hexadecimal (0x4F). You may use multibyte
filters like: 0xFF.F0.FE.FF The filter comprises e.g. <br>
16 bytes covering byte 0 and byte 3..17 in a section, thus
excluding bytes 1 and 2 (the length field of a section). To
check the filter values use -pd 9.</p>

<p style="margin-top: 1em">-N &lt;value&gt; <br>
Stop after decoding &lt;value&gt; packets. Use this to limit
the packet decoding process. Useful, when reading stream
data from file. -n limits the read packet process, -N <br>
limits the decoding process. Using dvb hardware filters -n
would be the same as -N. Default is 0 (no limit).</p>

<p style="margin-top: 1em">-crc <br>
Do CRC checking, when reading section data. Default is off.
This is only supported, if your DVB hardware/firmware
supports CRC checking. Remark: Some section types may <br>
use Checksum instead of CRC.</p>

<p style="margin-top: 1em">-nocrc <br>
Don&rsquo;t do hardware/firmware CRC, when reading section
data (default). Some DVB sections do not have proper CRC
set!</p>

<p style="margin-top: 1em">-softcrc <br>
Do soft CRC checking, when reading section data.
Hardware/firmware CRC should be preferred. Default is
-nosoftcrc. Remark: Some section types may use Checksum
instead of <br>
CRC.</p>

<p style="margin-top: 1em">-nosoftcrc <br>
Don&rsquo;t do soft CRC, when reading sections.
(default)</p>

<p style="margin-top: 1em">-spiderpid <br>
Snoop referenced section PIDs. This option recursively reads
all PIDs referenced by a section. This option also sets
number of packets to be read to 1 (sets -n 1). To <br>
read more packets for a pid, use -n &lt;count&gt; after
specifying -spiderpid.</p>

<p style="margin-top: 1em">-privateprovider &lt;id&gt; <br>
Set provider &lt;id&gt; string for decoding of special
private tables and descriptors. Use -help to display
provider currently supported. If omitted, private data will
be dis&acirc; <br>
played as hexdump depending on -ph option. (If you have
information on private data structures, currently not
supported by dvbsnoop, please let us know!)</p>

<p style="margin-top: 1em">Transport Stream (TS) Mode
Specific Command Line Options <br>
The following command line options are special to the
&rsquo;Transport Stream&rsquo; decoding mode:</p>

<p style="margin-top: 1em">-s ts <br>
Transport Stream mode.</p>

<p style="margin-top: 1em">-sync <br>
(obsolete as of 1.4.10, -sync is default. This option
enforces software packet sync for TS and PS/PES).</p>

<p style="margin-top: 1em">-nosync <br>
(obsolete as of 1.4.10).</p>

<p style="margin-top: 1em">-tssubdecode <br>
Sub-decode SI data (sections) or PS/PES data from transport
stream decoding. This reads transport stream packets and
tries to decode its content. Useful to decode PES or <br>
SI data from a transport stream file.</p>

<p style="margin-top: 1em">-tsraw <br>
Read full transport stream (all pids). Your
hardware/firmware has to support this mode.</p>

<p style="margin-top: 1em">-N &lt;value&gt; <br>
Stop after decoding &lt;value&gt; packets. Use this to limit
the packet decoding process. Useful, when reading stream
data from file. -n limits the read packet process, -N <br>
limits the decoding process. Using dvb hardware filters -n
would be the same as -N. Default is 0 (no limit).</p>

<p style="margin-top: 1em">PES or PS Mode Specific Command
Line Options <br>
The following command line options are special to the
&rsquo;PES&rsquo; (packetized elementary stream) or
&rsquo;PS&rsquo; (program stream) decoding mode:</p>

<p style="margin-top: 1em">-s ps Program Stream mode.</p>

<p style="margin-top: 1em">-s pes <br>
Packetized Elementary Stream mode.</p>

<p style="margin-top: 1em">-sync <br>
(obsolete as of 1.4.10, -sync is default. This option
enforces software packet sync for TS and PS/PES).</p>

<p style="margin-top: 1em">-nosync <br>
(obsolete as of 1.4.10).</p>

<p style="margin-top: 1em">PID Scan Mode Specific Command
Line Options <br>
The following command line options are special to the
&rsquo;PID Scan&rsquo; discovery mode:</p>

<p style="margin-top: 1em">-s pidscan <br>
Scan PIDs on transponder/frequency.</p>

<p style="margin-top: 1em">-maxdmx &lt;n&gt; <br>
Set maximum use of DMX filters. Default is 0 (use all
possible filters).</p>

<p style="margin-top: 1em">Bandwidth Mode Specific Command
Line Options <br>
There are no special command line options for the
&rsquo;Bandwidth&rsquo; display mode.</p>

<p style="margin-top: 1em">-s bandwidth <br>
Determine bandwidth for a dvb stream. This will be done by
calculating received ts packets in a timeslot.</p>

<p style="margin-top: 1em">Signal Mode Specific Command
Line Options <br>
There are no special command line options for the
&rsquo;Signal Strength&rsquo; display mode.</p>

<p style="margin-top: 1em">-s signal <br>
Poll frontend signal status.</p>

<p style="margin-top: 1em">-timeout &lt;ms&gt; <br>
Poll timing in msec.</p>

<p style="margin-top: 1em">Frontend Info Mode Specific
Command Line Options <br>
There are no special command line options for the
&rsquo;Frontend Info&rsquo; display mode.</p>

<p style="margin-top: 1em">-s feinfo <br>
Display frontend information.</p>

<p style="margin-top: 1em">Examples <br>
Examples how to use dvbsnoop:</p>

<p style="margin-top: 1em">Display EPG, 10 sections: <br>
dvbsnoop -s sec -nph -n 10 0x12 <br>
dvbsnoop -s sec -ph 3 -n 10 -crc 0x12</p>

<p style="margin-top: 1em">Display sections tree (1 packet
each) using private provider data: <br>
dvbsnoop -s sec -spiderpid -privateprovider premiere.de
0x00</p>

<p style="margin-top: 1em">Display sections tree (1 packet
each) skipping &quot;empty&quot; pids: <br>
dvbsnoop -s sec -spiderpid -timeout 15000 0x00</p>

<p style="margin-top: 1em">Display PAT transport stream
(ts) and do subdecoding of sections and descriptors: <br>
dvbsnoop -s ts -pd 4 -tssubdecode -nph 0x00</p>

<p style="margin-top: 1em">Read PES (e.g. Videotext, Video,
Audio) stream: <br>
dvbsnoop -s pes 0x28F <br>
dvbsnoop -s pes 0x28F -b &gt; pes.bin.file</p>

<p style="margin-top: 1em">Read PS from file and do not
show hex dump: <br>
dvbsnoop -if hdtv_ps_file.mpg -s ps -ph 0 -nohexdumpbuffer
-n 30</p>

<p style="margin-top: 1em">Show current signal strength:
<br>
dvbsnoop -s signal <br>
dvbsnoop -s signal -pd 9 -n 100 -timeout 100</p>

<p style="margin-top: 1em">Show bandwidth usage of a PID
0x1FF: <br>
dvbsnoop -s bandwidth -n 1000 -pd 2 0x1FF <br>
dvbsnoop -s bandwidth -buffersize 256 -n 1000 0x1FF</p>

<p style="margin-top: 1em">Do PID scan of a tuned
transponder (different display levels): <br>
dvbsnoop -s pidscan -pd 1 <br>
dvbsnoop -s pidscan -pd 6 <br>
dvbsnoop -s pidscan -pd 9 -maxdmx 12</p>

<p style="margin-top: 1em">Show frontend info: <br>
dvbsnoop -s feinfo -pd 9</p>

<p style="margin-top: 1em">Try to scan all sections, read 2
packets per PID: <br>
dvbsnoop -nohexdumpbuffer -spiderpid -n 2 0x0000</p>

<p style="margin-top: 1em">Save 1000 packets of a transport
stream to a file: <br>
dvbsnoop -b -n 1000 -s ts 0x200 &gt; ts_file.pid0x200.bin
<br>
dvbsnoop -b -n 1000 -s ts -tsraw &gt; ts_file.bin</p>

<p style="margin-top: 1em">Read transport stream (ts) from
file and decode: <br>
dvbsnoop -s ts -if ts_stream.bin <br>
dvbsnoop -s ts -if ts_file.pid0x200.bin 0x200</p>

<p style="margin-top: 1em">Simple filter for some PID
values, some examples: <br>
dvbsnoop -n 5 -nph 0x00 | grep -i &quot;PID: &quot; <br>
dvbsnoop -spiderpid -nph -n 10 0x00 | grep -i &quot;PID:
&quot; | sort | uniq <br>
dvbsnoop -s signal -pd 9 | ./perl-statistics-prog.pl</p>

<p style="margin-top: 1em">Other simple filter examples:
<br>
dvbsnoop -s sec -f 0x4E -m 0xFF 0x12 <br>
dvbsnoop -s sec -f 0x4E.34.00 -m 0xFF.FF.0F 0x12 <br>
dvbsnoop -s sec -f 16.00 -m 255.255 0x12 <br>
dvbsnoop -s sec -nph -n 5 0x10 | grep -i
&quot;frequency&quot; <br>
dvbsnoop -s ts -nph 0x100 | grep -i
&rsquo;Transport_error^PID&rsquo;</p>

<p style="margin-top: 1em">Selecting devices: <br>
dvbsnoop -s feinfo -pd 9 -frontend
/dev/dvb/adapter0/frontend1 <br>
dvbsnoop -s feinfo -pd 9 -adapter 0 -devnr 1 <br>
dvbsnoop -s feinfo -pd 9 -adapter 2</p>

<p style="margin-top: 1em">Sending dvbsnoop data over
network, using netcat: <br>
dvbsnoop -s pes 0x28F -b nc -q ServerName 31337</p>

<p style="margin-top: 1em">Do remote decoding of dvb data
over network using dvbsnoop and netcat: <br>
streaming site: <br>
dvbsnoop -s ts 0x0065 -b nc -q ServerName 31000 <br>
receiving site: <br>
nc -l -p 31000 dvbsnoop -nph -s ts -tssubdecode -if -</p>

<p style="margin-top: 1em">You may also use e.g. dvbtools
for sending dvb data over a network: <br>
dvbstream .... --&gt; dumprtp dvbsnoop -s ts -if -</p>

<p style="margin-top: 1em">For more examples and example
output of dvbsnoop, please visit
http://dvbsnoop.sourceforge.net.</p>

<p style="margin-top: 1em">NOTES <br>
dvbsnoop tries to decode all of the data it receives, e.g.
if you try to decode a video or audio stream in section
mode, dvbsnoop may assume a section table and will decode
the <br>
data wrong. In this case the decoding will be garbage. Using
the &rsquo;-crc&rsquo; option should prevent this (if
supported at the hardware/driver level). <br>
dvbsnoop does not do DVB stream validation. dvbsnoop assumes
correct DVB streams. Corrupted streams or streams with wrong
semantics (e.g. incorrect length information) will <br>
result in wrong decoding output. For this reason, the use of
&rsquo;-crc&rsquo; options is strongly recommended. <br>
Depending on the firmware of your dvb card, dvbsnoop may not
be able to sniff on pids, which are occupied by other
processes. This is no bug, this is a driver/firmware
issue.</p>

<p style="margin-top: 1em">SIGNALS <br>
dvbsnoop catches signals to provide smooth program
termination. <br>
SIGHUP, SIGQUIT and SIGTERM will terminate dvbsnoop
smoothly. <br>
SIGABORT will abort at once after flushing buffers. <br>
SIGKILL will just kill down dvbsnoop (OS specific).</p>

<p style="margin-top: 1em">BUGS <br>
Please check http://dvbsnoop.sourceforge.net for bug
reports. <br>
Bug reports:
http://sourceforge.net/tracker/?group_id=85040</p>

<p style="margin-top: 1em">SEE ALSO <br>
dvbtune (1), dvbstream (1).</p>

<p style="margin-top: 1em">Acknowledgments <br>
DVBSNOOP was written by Rainer Scherg (rasc). <br>
Copyright (c) 2001-2006 Rainer Scherg</p>

<p style="margin-top: 1em">Additional patches and
bugfixes/-reports were provided by members of the tuxbox
project - bringing digital TV to linux based set top boxes
(e.g. &quot;dbox2&quot; digital tv receiver) and <br>
also by users of dvbsnoop (see the ChangeLog file for
credits). <br>
For more information about DVBSNOOP please visit
&rsquo;http://dvbsnoop.sourceforge.net&rsquo;.</p>

<p style="margin-top: 1em">Rainer Scherg (rasc)
dvbsnoop(1)</p>
<hr>
</body>
</html>
