<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>XORRECORD(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">XORRECORD(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">XORRECORD(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
xorrecord - Emulation of CD/DVD/BD program cdrecord by program xorriso
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>xorrecord</b> [ options ] dev=device [track_source]
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>xorrecord</b> writes preformatted data to CD, DVD, and BD media.
<div>&#x00A0;</div>
<div class="Pp"></div>
It understands some options of program cdrecord from cdrtools by Joerg
  Schilling. Its implementation is part of program xorriso which shares no
  source code with cdrtools, but rather makes use of libburn for communicating
  with the drive.
<div>&#x00A0;</div>
Another, more complete cdrecord emulator is program <b>cdrskin</b> which uses
  the same burn functions as <b>xorrecord</b>, but is able to burn audio CDs and
  to handle CD-TEXT.
<h2 class="Ss" title="Ss" id="MMC,_Session,_Track,_Media_types:"><a class="selflink" href="#MMC,_Session,_Track,_Media_types:"><b>MMC,
  Session, Track, Media types:</b></a></h2>
<b>MMC</b> is a standard out of the SCSI family which defines the interaction
  between computers and optical drives. Since more than a decade all CD, DVD, or
  BD recorders obey this standard regardless by what bus cabling they are
  attached to the computer. libburn relies on this standard compliance and on
  the capability of the operating system to perform SCSI transactions over the
  particular bus cabling.
<div>&#x00A0;</div>
A <b>Session</b> is a data region on an optical disc which usually gets written
  in a single sweep. It contains at least one <b>Track</b> which is a contiguous
  string of readable blocks. <b>xorrecord</b> produces a single session with a
  single data track which consists of blocks with 2048 bytes each. It chooses
  the write mode automatically according to media type, medium state, and option
  -multi.
<div>&#x00A0;</div>
On CD media there are other track types, like audio, and particular write modes
  like TAO and SAO. CD and DVD- media can put more than one track into a
  session. Some of these features can be addressed by program <b>cdrskin</b>.
<div>&#x00A0;</div>
MMC describes several recordable <b>media types</b> which roughly form two
  families.
<div>&#x00A0;</div>
<b>Sequentially recordable media</b> are CD-R, CD-RW, DVD-R, DVD-R DL, DVD-RW,
  DVD+R, DVD+R DL, BD-R. Except DVD-R DL they can store more than one session if
  there is still unwritten space and if the previous session was written with
  option <b>-multi</b>. CD-RW and DVD-RW can be blanked in order to be re-usable
  from scratch.
<div>&#x00A0;</div>
<b>Overwritable media</b> are DVD-RAM, DVD+RW, formatted DVD-RW, BD-RE. They
  offer a single session with a single track for random access writing. There is
  no need to blank overwritable media before re-use.
<div>&#x00A0;</div>
DVD-RW media are sold in sequentially recordable state but can be formatted once
  to become overwritable. See options <b>blank=format_overwrite</b> and
  <b>blank=deformat</b>.
<div>&#x00A0;</div>
If ISO 9660 filesystems are to be stored on overwritable media, then it is
  possible to emulate multiple sessions, by using option
  <b>--grow_overwriteable_iso</b>. In this case, the need for blanking before
  re-use is emulated too.
<h2 class="Ss" title="Ss"><b>Drive preparation and addressing:</b></h2>
The drives, CD, DVD, or BD burners, are accessed via file addresses which are
  specific to libburn and the operating system. Those addresses get listed by a
  run of <b>xorrecord --devices</b> or <b>xorriso -device_links</b>.
<div>&#x00A0;</div>
On GNU/Linux, FreeBSD, and NetBSD, the user needs rw-permission for the device
  file. On Solaris, the user needs r-permission and privilege
  &quot;sys_devices&quot;, which is usually gained by running <b>xorrecord</b>
  via command pfexec.
<div>&#x00A0;</div>
These permissions or privileges are needed already for listing a drive. So it
  might be necessary to get the overview as superuser or via pfexec.
<div>&#x00A0;</div>
<b>xorrecord</b> does not perform cdrecord option -scanbus and does not accept
  the addresses of form Bus,Target,Lun which are told by -scanbus. If support
  for these addresses is necessary, consider to use program cdrskin.
<div>&#x00A0;</div>
It is possible to let <b>xorrecord</b> work on emulated drives. Their addresses
  begin by prefix &quot;stdio:&quot; followed by a file address. The emulated
  media behavior depends on the file type. See man xorriso for details.
<div>&#x00A0;</div>
If standard output is chosen as emulated drive, then all program result texts,
  which usually appear on standard output, will get redirected to standard
  error.
<h2 class="Ss" title="Ss" id="Relation_to_program_xorriso:"><a class="selflink" href="#Relation_to_program_xorriso:"><b>Relation
  to program xorriso:</b></a></h2>
<b>xorrecord</b> is actually a command mode of program <b>xorriso</b>, which
  gets entered either by xorriso command &quot;-as cdrecord&quot; or by starting
  the program by one of the names &quot;xorrecord&quot;, &quot;cdrecord&quot;,
  &quot;wodim&quot;, or &quot;cdrskin&quot;.
<div>&#x00A0;</div>
This command mode can be left by argument &quot;--&quot; which leads to generic
  xorriso command mode. See <b>man xorriso</b> for its description. Other than
  in xorriso command mode, the sequence of the cdrecord emulation options does
  not matter. All pending actions get performed in a fixed sequence before the
  program run ends or before cdrecord emulation ends.
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Addressing the drive:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--devices</b></dt>
  <dd class="It-tag">Print the list of accessible CD, DVD, or BD drives to
      standard output. Drives might be inaccessible if the user lacks of
      permissions to use them or if the drive is in use by another program.
    <div>&#x00A0;</div>
    Each accessible drive is shown by a line like:
    <div>&#x00A0;</div>
    <br/>
     0 -dev '/dev/sr0' rwrw-- : 'TSSTcorp' 'CDDVDW SH-S203B'
    <div>&#x00A0;</div>
    The libburn address of this drive is '/dev/sr0'. 'TSSTcorp' is the name of
      the vendor (in this case: Toshiba Samsung Storage Technologies
      Corporation), 'CDDVDW SH-S203B' is the model name (in this case: a DVD
      burner).
    <div>&#x00A0;</div>
    Afterwards end emulation without performing any further drive
    operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dev=drive_address</b></dt>
  <dd class="It-tag">Set the libburn address of the drive to be used.
    <div>&#x00A0;</div>
    E.g. on GNU/Linux: dev=/dev/sr0
    <div>&#x00A0;</div>
    E.g. on FreeBSD: dev=/dev/cd0
    <div>&#x00A0;</div>
    E.g. on NetBSD: dev=/dev/rcd0d
    <div>&#x00A0;</div>
    E.g. on Solaris: dev=/dev/rdsk/c2t2d0s2
    <div>&#x00A0;</div>
    See also above &quot;Drive preparation and addressing&quot;.
    <div>&#x00A0;</div>
    The medium in the drive should not be mounted or be otherwise in use.
    <div>&#x00A0;</div>
    This option will only get into effect if a track source, a blank= option, or
      a drive inquiry option is given. Else it will lead to a SORRY event and
      normally cause a non-zero exit value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Inquiring drive and media:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-inq</b></dt>
  <dd class="It-tag">Print to standard output: vendor, model name, and firmware
      revision of the drive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-checkdrive</b></dt>
  <dd class="It-tag">Print unconditionally that the drive supports burnfree,
      SAO, and TAO. Also print the output of option -inq.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-atip</b></dt>
  <dd class="It-tag">Print the output of -checkdrive, the most capable profile
      of the medium in the drive, the list of profiles which are supported by
      the drive, whether it is erasable (i.e. can be blanked), the media
      manufacturer, and the medium product name.
    <div>&#x00A0;</div>
    Profiles are usage models, which are often tied to a particular media type
      (e.g. CD-RW), but may also apply to a family of media. E.g. profile CD-ROM
      applies to all CD media which contain data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-toc</b></dt>
  <dd class="It-tag">Print a table of content of the medium in the drive. The
      output is not compatible to cdrecord option -toc, but rather the one of
      <b>xorriso</b> command -toc. It lists the address, vendor, model name, and
      firmware revision of the drive.
    <div>&#x00A0;</div>
    About the medium it tells product name and manufacturer, whether there is
      already content written, and if so, whether the medium is closed or
      appendable. Appendable media can take another session. The amount of
      readable and writable data is told. If there are sessions, then their
      start block address and size is reported. If a session contains an ISO
      9660 filesystem, then its Volume Id is reported. If the medium is
      writable, then the next writable block address is reported.
    <div>&#x00A0;</div>
    If not option <b>--grow_overwriteable_iso</b> is given or no ISO 9660 file
      system is present on the medium, then overwritable media are reported as
      being blank. This is due to the fact that they can be written from scratch
      without further preparation, and that MMC does not distinguish between
      data written by the most previous burn run and older data which have not
      been overwritten by that burn run. Consequently, these media are reported
      with 0 readable blocks, although all their writable blocks normally are
      readable, too.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-msinfo</b></dt>
  <dd class="It-tag">Print the argument text for option -C of programs mkisofs,
      genisoimage, or xorrisofs. It consists of two numbers separated by a
      comma.
    <div>&#x00A0;</div>
    The first number tells the first block of the first track of the last
      recorded session. This is also the address used by default when operating
      systems mount a medium with e.g. ISO 9660 filesystem.
    <div>&#x00A0;</div>
    The second number tells the next writable address, where <b>xorrecord</b>
      will begin to write the next session.
    <div>&#x00A0;</div>
    This option is only valid for written, appendable media. In all other cases
      it will yield no output text but will abort the program with non-zero exit
      value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Settings for the burn run:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
A burn run requires exactly one track source address argument, which tells from
  where to read the data which shall be put into the upcomming session. The
  medium state must be either blank or appendable.
<div>&#x00A0;</div>
Track source may be &quot;-&quot; for standard input or the address of a
  readable file of any type except directories. Nearly all media types accept a
  track source with unpredictable byte count, like standard input or named
  pipes. Nevertheless, DVD-R DL and DVD-RW blanked by mode deformat_quickest
  demand exact in-advance reservation of the track size, so that they either
  need to be read from a source of predictable length, or need to be accompanied
  by option <b>tsize=</b> or by option <b>-isosize</b>.
<div>&#x00A0;</div>
Several options expect a size value as argument. A number with a trailing letter
  &quot;b&quot; or without a trailing letter is a plain byte count. Other
  trailing letters cause multiplication of the given number by a scaling factor:
<div>&#x00A0;</div>
&quot;k&quot; or &quot;K&quot; = 1024 , &quot;m&quot; or &quot;M&quot; = 1024k ,
  &quot;g&quot; or &quot;G&quot; = 1024m , &quot;s&quot; or &quot;S&quot; = 2048
<div>&#x00A0;</div>
E.g. tsize=234567s means a size of 234567 * 2048 = 480393216 bytes.
<dl class="Bl-tag">
  <dt class="It-tag"><b>blank=mode</b></dt>
  <dd class="It-tag">Blank a CD-RW or DVD-RW to make it re-usable from scratch.
      Format a DVD-RW, DVD+RW, DVD-RAM, BD-R, or BD-RE if not yet formatted.
    <div>&#x00A0;</div>
    This operation normally makes any recorded data on the medium unreadable. It
      is combinable with burning in the same run of <b>xorrecord</b>, or it may
      be performed without a track source, leaving the medium empty.
    <div>&#x00A0;</div>
    The mode given with blank= selects the particular behavior:</dd>
</dl>
<div style="margin-left: 5.00ex;">
<div>&#x00A0;</div>
as_needed
<div>&#x00A0;</div>
Try to make the media ready for writing from scratch. If it needs formatting,
  then format it. If it is not blank, then try to apply blank=fast. It is a
  reason to abort if the medium cannot assume thoroughly writeable state, e.g.
  if it is a non-blank write-once.
<div>&#x00A0;</div>
This leaves unformatted DVD-RW in unformatted blank state. To format DVD-RW use
  blank=format_overwrite. Blank unformatted BD-R stay unformatted.
<div>&#x00A0;</div>
(Note: blank=as_needed is not an original cdrecord option.)
<div>&#x00A0;</div>
all
<div>&#x00A0;</div>
Blank an entire CD-RW or an unformatted DVD-RW.
<div>&#x00A0;</div>
fast
<div>&#x00A0;</div>
Minimally blank an entire CD-RW or blank an unformatted DVD-RW.
<div>&#x00A0;</div>
deformat
<div>&#x00A0;</div>
Like blank=all but with the additional ability to blank overwriteable DVD-RW.
  This will destroy their formatting and make them sequentially recordable.
<div>&#x00A0;</div>
(Note: blank=deformat is not an original cdrecord options)
<div>&#x00A0;</div>
deformat_quickest
<div>&#x00A0;</div>
Like blank=deformat but blanking DVD-RW only minimally. This is faster than full
  blanking but yields media incapable of writing tracks of unpredicatable size.
  Multi-session will not be possible either.
<div>&#x00A0;</div>
(Note: blank=deformat_quickest is not an original cdrecord option.)
<div>&#x00A0;</div>
format_overwrite
<div>&#x00A0;</div>
Format a DVD-RW to &quot;Restricted Overwrite&quot;. The user should bring some
  patience.
<div>&#x00A0;</div>
Format unformatted DVD+RW, BD-RE or blank BD-R to their default size. It is not
  mandatory to do this with DVD+RW and BD-RE media, because they will get
  formatted automatically on the first write attempt.
<div>&#x00A0;</div>
BD-R media may be written in unformatted state. This keeps disabled the
  replacement of bad blocks and enables full nominal write speed. Once BD-R
  media are written, they cannot be formatted any more.
<div>&#x00A0;</div>
For re-formatting already formatted media or for formatting with non-default
  size, use program <b>xorriso</b> with command <b>-format</b>.
<div>&#x00A0;</div>
(Note: blank=format_overwrite is not an original cdrecord options)
<div>&#x00A0;</div>
help
<div>&#x00A0;</div>
Print a short overview of blank modes to standard error output.
<div>&#x00A0;</div>
Afterwards end emulation without performing any drive operation.</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-multi</b></dt>
  <dd class="It-tag">This option keeps CD, unformatted DVD-R[W], DVD+R, or BD-R
      appendable after the current session has been written. Without it the disc
      gets closed and may not be written any more - unless it is a -RW and gets
      blanked, which causes loss of its content.
    <div>&#x00A0;</div>
    This option cannot be applied to DVD-R DL or to DVD-RW which were blanked by
      mode &quot;deformat_quickest&quot;. Option --multi_if_possible may
      automatically recognize and handle this situation.
    <div>&#x00A0;</div>
    In order to have all filesystem content accessible, the eventual ISO-9660
      filesystem of a follow-up session needs to be prepared in a special way by
      the filesystem formatter program. mkisofs, genisoimage, and xorrisofs
      expect particular info about the situation which can be retrieved by
      <b>xorrecord</b> option -msinfo.
    <div>&#x00A0;</div>
    With overwriteable DVD or BD media, -multi cannot mark the end of the
      session. So when adding a new session, this end has to be determined from
      the payload. Currently only ISO-9660 filesystems can be used that way. See
      option <b>--grow_overwriteable_iso</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-dummy</b></dt>
  <dd class="It-tag">Try to perform the drive operations without actually
      affecting the inserted media. There is no warranty that this will work
      with a particular combination of drive and media. Blanking is prevented
      reliably, though. To avoid inadverted real burning, -dummy refuses burn
      runs on anything but CD-R[W], DVD-R[W], or emulated stdio-drives.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-waiti</b></dt>
  <dd class="It-tag">Wait until input data is available at stdin or EOF occurs
      at stdin. Only then begin to access any drives.
    <div>&#x00A0;</div>
    One should use this if xorrisofs is working at the end of a pipe where the
      feeder process reads from the drive before it starts writing its output
      into xorrisofs. Example:
    <div>&#x00A0;</div>
    xorrisofs ... -C 0,12800 -M /dev/sr0 ... | \
    <div>&#x00A0;</div>
    xorrecord dev=/dev/sr0 ... -waiti -
    <div>&#x00A0;</div>
    This option works even if standard input is not the track source. If no
      process is piping in, then the Enter key of your terminal will act as
      trigger for <b>xorrecord</b>. Note that this input line will not be
      consumed by cdrskin if standard input is not the track source. It will end
      up as shell command, usually.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>tsize=size</b></dt>
  <dd class="It-tag">Announce the exact size of the track source. This is
      necessary with DVD-R DL media and with quickest blanked DVD-RW, if the
      size cannot be determined in advance from the track source. E.g. if it is
      standard input or a named pipe.
    <div>&#x00A0;</div>
    If the track source does not deliver the predicted amount of bytes, the
      remainder of the track is padded with zeros. This is not considered an
      error. If on the other hand the track source delivers more than the
      announced bytes then the track on media gets truncated to the predicted
      size and xorrecord exits with non-zero value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-isosize</b></dt>
  <dd class="It-tag">Try to obtain the track size from the content of the track
      source. This works only if the track source bears an ISO 9660 filesystem.
      Any other track source content will cause the burn run to abort.
    <div>&#x00A0;</div>
    If the track source is not a regular file or block device, then this option
      will work only if the program's fifo size is at least 64k. See option
    fs=.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>padsize=size</b></dt>
  <dd class="It-tag">Add the given amount of trailing zeros to the upcomming
      track. This feature can be disabled by size 0. Default is 300 kB in order
      to work around a problem with GNU/Linux which often fails to read the last
      few blocks of a CD track which was written in write mode TAO. TAO is used
      by <b>xorrecord</b> if the track size cannot be predicted or if the CD
      medium is not blank but appendable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nopad</b></dt>
  <dd class="It-tag">The same as padsize=0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-pad</b></dt>
  <dd class="It-tag">The same as padsize=15s. This was once sufficient with
      older GNU/Linux kernels. Meanwhile one should at least use padsize=128k,
      if not padsize=300k.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-data</b></dt>
  <dd class="It-tag">Explicitly announce that the track source shall be recorded
      as data track, and not as audio track. This option has no effect with
      <b>xorrecord</b>, because there is no support for other track formats
      anyway.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-tao</b></dt>
  <dd class="It-tag">Explicitly demand that write type TAO shall be used for CD,
      or Incremental for DVD-R. Normally the program will choose the write type
      according to the given medium state, option -multi, and track source.
      Demanding it explicitly prevents the start of a write run, if it is not
      appropriate to the situation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sao</b></dt>
  <dd class="It-tag">Explicitly demand that write type SAO shall be used for CD,
      or DAO for DVD-R. This might prevent the write run, if it is not
      appropriate to the situation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-dao</b></dt>
  <dd class="It-tag">Alias of -sao.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fs=size</b></dt>
  <dd class="It-tag">Set the size of the program fifo buffer to the given value
      rather than the default of 4m.
    <div>&#x00A0;</div>
    The fifo buffers a temporary surplus of track source data in order to
      provide the drive with a steady stream during times of temporary lack of
      track source supply.
    <div>&#x00A0;</div>
    Other than cdrecord, xorrecord enables drive buffer underrun protection by
      default and does not wait with writing until the fifo is full for a first
      time. On very old CD drives and slow computers, this might cause aborted
      burn runs. In this case, consider to use program <b>cdrskin</b> for CD
      burning. DVD and BD drives tolerate buffer underrun without problems.
    <div>&#x00A0;</div>
    The larger the fifo, the longer periods of poor source supply can be
      compensated. But a large fifo can deprive the operating system of read
      cache for better filesystem performance.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>speed=value</b></dt>
  <dd class="It-tag">Set the write speed. Default is 0 = maximum speed. Speed
      can be given in media type dependent x-speed numbers or as a desired
      throughput per second in MMC compliant kB (= 1000) or MB (= 1000 kB).
      Media x-speed factor can be set explicitly by appending &quot;c&quot; for
      CD, &quot;d&quot; for DVD, &quot;b&quot; for BD. &quot;x&quot; is
      optional.
    <div>&#x00A0;</div>
    Example speeds:
    <div>&#x00A0;</div>
    <br/>
     706k = 706kB/s = 4c = 4xCD
    <div>&#x00A0;</div>
    <br/>
     5540k = 5540kB/s = 4d = 4xDVD
    <div>&#x00A0;</div>
    If there is no hint about the speed unit attached, then the medium in the
      drive will decide. Default unit is CD, 1x = 176,400 raw bytes/second. With
      DVD, 1x = 1,385,000 bytes/second. With BD, 1x = 4,495,625 bytes/second.
    <div>&#x00A0;</div>
    MMC drives usually activate their own idea of speed and take the speed value
      given by the burn program only as a hint for their own decision.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>minbuf=percentage</b></dt>
  <dd class="It-tag">Equivalent to:
    <div>&#x00A0;</div>
    <br/>
     modesty_on_drive=&lt;percentage&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-immed</b></dt>
  <dd class="It-tag">Equivalent to:
    <div>&#x00A0;</div>
    <br/>
     modesty_on_drive=75
    <div>&#x00A0;</div>
    In cdrecord, this also controls use of the Immed bit. But xorriso uses Immed
      where possible and appropriate, unless it is disabled by option
      use_immed_bit=off .</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-eject</b></dt>
  <dd class="It-tag">Eject the drive tray after alll other work is done.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Program version and verbosity:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-version</b></dt>
  <dd class="It-tag">Print to standard output a line beginning by
    <div>&#x00A0;</div>
    &quot;Cdrecord 2.01-Emulation Copyright&quot;
    <div>&#x00A0;</div>
    and further lines which report the version of xorriso and its supporting
      libraries. They also state the license under which the program is
      provided, and disclaim any warranty, to the extent permitted by law.
    <div>&#x00A0;</div>
    Afterwards end emulation without performing any drive operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Increase program verbosity by one level. There are four
      verbosity levels from nearly silent to debugging verbosity. The both
      highest levels can be enabled by repeated -v or by -vv or by -vvv.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">Log SCSI commands and drive replies to standard error. This
      might be of interest if <b>xorrecord</b> and a particular drive or medium
      do not cooperate as expected, or if you just want to know how libburn
      interacts with the drive. To understand this extremely verbous log, one
      needs to read SCSI specs SPC, SBC, and MMC.
    <div>&#x00A0;</div>
    Please do not add such a log to a bug report on the first hand, unless you
      want to point out a particular deviation from said specs, or if you get
      asked for this log by a maintainer of <b>xorrecord</b> who feels in charge
      for your bug report.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Print a sparse list of program options to standard error
      and declare not to be cdrecord.
    <div>&#x00A0;</div>
    Afterwards end emulation without performing any drive operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Options not compatible to cdrecord:</b></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--no_rc</b></dt>
  <dd class="It-tag">Only if used as first command line argument this option
      prevents reading and interpretation of startup files. See section FILES
      below.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>drive_scsi_dev_family=sr|sdc|sg|default</b></dt>
  <dd class="It-tag">GNU/Linux specific:
    <div>&#x00A0;</div>
    By default, cdrskin tries to map Linux drive addresses to /dev/sr* before
      they get opened for operating the drive. This coordinates well with other
      use cases of optical drives, like mount(8). But since year 2010 all
      /dev/sr* share a global lock which allows only one drive to process an
      SCSI command while all others have to wait for its completion. This yields
      awful throughput if more than one drive is writing or reading
      simultaneously.
    <div>&#x00A0;</div>
    The global lock is not applied to device files /dev/sg* and also not with
      the system calls read(2), write(2). But ioctl(SG_IO) is affected, which is
      needed to perform the SCSI commands for optical burning.
    <div>&#x00A0;</div>
    So for simultaneous burn runs on modern GNU/Linux it is advisable to use
      drive_scsi_dev_family=&quot;sg&quot;. The drive addresses may then well be
      given as /dev/sr* but will nevertheless get used as /dev/sg*.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--grow_overwriteable_iso</b></dt>
  <dd class="It-tag">Enable emulation of multi-session writing on overwriteable
      media which contain an ISO 9660 filesystem. This emulation is learned from
      growisofs -M but adapted to the usage model of
    <div>&#x00A0;</div>
    xorrecord -msinfo
    <div>&#x00A0;</div>
    xorrisofs -C -M | xorrecord -waiti -multi -
    <div>&#x00A0;</div>
    for sequential media.
    <div>&#x00A0;</div>
    --grow_overwriteable_iso does not hamper the use of true multi-session
      media. I.e. it is possible to use the same <b>xorrecord</b> options with
      both kinds of media and to achieve similar results if ISO 9660 filesystem
      images are to be written. This option implies option -isosize and
      therefore demands that the track source is a ISO 9660 filesystem image.
    <div>&#x00A0;</div>
    With overwriteable media and no option blank=fast|all present it expands an
      eventual ISO 9660 filesystem on media. It is assumed that this image's
      inner size description points to the end of the valuable data.
      Overwriteable media with a recognizable ISO 9660 size will be regarded as
      appendable rather than as blank. I.e. options -msinfo and -toc will work.
      -toc will always show a single session with its size increasing with every
      added ISO 9660 image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--multi_if_possible</b></dt>
  <dd class="It-tag">Apply option -multi if the medium is suitable. Not suitable
      are DVD-R DL and DVD-RW, which were blanked with mode
      &quot;deformat_quickest&quot;.
    <div>&#x00A0;</div>
    Not all drives correctly recognize such fast-blanked DVD-RW which need
      &quot;on&quot;. If there is well founded suspicion that a burn run failed
      due to -multi, then this causes a re-try without -multi.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stream_recording=&quot;on&quot;|&quot;off&quot;|number</b></dt>
  <dd class="It-tag">Mode &quot;on&quot; requests that compliance to the desired
      speed setting is preferred over management of write errors. With DVD-RAM
      and BD this can bring effective write speed near to the nominal write
      speed of the media. But it will also disable the automatic use of
      replacement blocks if write errors occur. It might as well be disliked or
      ignored by the drive.
    <div>&#x00A0;</div>
    If a number is given, then error management stays enabled for all byte
      addresses below that number. Any number below 16s is the same as
      &quot;off&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dvd_obs=&quot;default&quot;|&quot;32k&quot;|&quot;64k&quot;</b></dt>
  <dd class="It-tag">Linux specific: Set the number of bytes to be transmitted
      with each write operation to DVD or BD media. Tracks get padded up to the
      next multiple of this write size. A number of 64 KB may improve throughput
      with bus systems which show latency problems. The default depends on media
      type, option stream_recording=, and on compile time options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>modesty_on_drive=parameter[:parameters]</b></dt>
  <dd class="It-tag">Control whether the drive buffer shall be kept from getting
      completely filled. Parameter &quot;on&quot; (or &quot;1&quot;) keeps the
      program from trying to write to the burner drive while its buffer is in
      danger to be filled over a given limit. If this filling is exceeded then
      the program will wait until the filling reaches a given low percentage
      value.
    <div>&#x00A0;</div>
    This can ease the load on operating system and drive controller and thus
      help with achieving better input bandwidth if disk and burner are not on
      independent controllers (like hda and hdb). It may also help with
      simultaneous burns on different burners with Linux kernels like 3.16, if
      one has reason not to fix the problem by
      drive_scsi_dev_family=&quot;sg&quot;. On the other hand it increases the
      risk of buffer underflow and thus reduced write speed.
    <div>&#x00A0;</div>
    Some burners are not suitable because they report buffer fill with
      granularity too coarse in size or time, or expect their buffer to be
      filled to the top before they go to full speed.
    <div>&#x00A0;</div>
    Parameters &quot;off&quot; or &quot;0&quot; disable this feature.
    <div>&#x00A0;</div>
    The threshold for beginning to wait is given by parameter
      &quot;max_percent=&quot;. Parameter &quot;min_percent=&quot; defines the
      threshold for resuming transmission. Percentages are permissible in the
      range of 25 to 100. Numbers in this range without a prepended name are
      interpreted as &quot;on:min_percent=&quot;.
    <div>&#x00A0;</div>
    E.g.: modesty_on_drive=75
    <div>&#x00A0;</div>
    The optimal values depend on the buffer behavior of the drive.
    <div>&#x00A0;</div>
    Parameter &quot;timeout_sec=&quot; defines after which time of unsuccessful
      waiting the modesty shall be disabled because it does not work.
    <div>&#x00A0;</div>
    Parameter &quot;min_usec=&quot; defines the initial sleeping period in
      microseconds. If the drive buffer appears to be too full for sending more
      data, the program will wait the given time and inquire the buffer fill
      state again. If repeated inquiry shows not enough free space, the sleep
      time will slowly be increased to what parameter &quot;max_usec=&quot;
      defines.
    <div>&#x00A0;</div>
    Parameters, which are not mentioned with a modesty_on_drive= option, stay
      unchanged. Default is:
    <div>&#x00A0;</div>
    <br/>
     modesty_on_drive=off:min_percent=90:max_percent=95:
    <br/>
     timeout_sec=120:min_usec=5000:max_usec=25000</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>use_immed_bit=&quot;on&quot;|&quot;off&quot;|&quot;default&quot;</b></dt>
  <dd class="It-tag">Control whether several long lasting SCSI commands shall be
      executed with the Immed bit, which makes the commands end early while the
      drive operation is still going on. xorriso then inquires progress
      indication until the drive reports to be ready again. If this feature is
      turned off, then blanking and formatting will show no progress indication.
    <div>&#x00A0;</div>
    It may depend on the operating system whether -use_immed_bit is set to
      &quot;off&quot; by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>write_start_address=value</b></dt>
  <dd class="It-tag">Set the block address on overwritable media where to start
      writing the track. With DVD+RW, DVD-RAM or BD-RE, byte_offset must be
      aligned to 2 kiB blocks, but better is 32 kiB on DVD and 64 kiB on BD.
      With formatted DVD-RW 32 kiB alignment is mandatory.
    <div>&#x00A0;</div>
    Other media are not suitable for this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stdio_sync=&quot;on&quot;|&quot;off&quot;|number</b></dt>
  <dd class="It-tag">Set the number of bytes after which to force output to
      emulated stdio: drives. This forcing keeps the memory from being clogged
      with lots of pending data for slow devices. Default &quot;on&quot; is the
      same as &quot;16m&quot;. Forced output can be disabled by
    &quot;off&quot;.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss"><b>Overview of examples:</b></h2>
Get an overview of drives and their addresses
<div>&#x00A0;</div>
Get info about a particular drive or loaded media
<div>&#x00A0;</div>
Prepare CD-RW or DVD-RW for re-use, BD-R for bad block handling
<div>&#x00A0;</div>
Format DVD-RW to avoid need for blanking before re-use
<div>&#x00A0;</div>
De-format DVD-RW to make it capable of multi-session again
<div>&#x00A0;</div>
Write a single ISO 9660 filesystem image
<div>&#x00A0;</div>
Write multiple ISO 9660 sessions
<div>&#x00A0;</div>
Write ISO 9660 session on-the-fly
<div>&#x00A0;</div>
Write compressed afio archive on-the-fly
<div>&#x00A0;</div>
<h2 class="Ss" title="Ss"><b>Get an overview of drives and their
  addresses:</b></h2>
<br/>
 $ xorrecord --devices
<h2 class="Ss" title="Ss"><b>Get info about a particular drive and loaded
  media:</b></h2>
<br/>
 $ xorrecord dev=/dev/sr0 -atip -toc --grow_overwriteable_iso
<h2 class="Ss" title="Ss"><b>Prepare CD-RW or DVD-RW for re-use:</b></h2>
<br/>
 $ xorrecord -v dev=/dev/sr0 blank=as_needed -eject
<h2 class="Ss" title="Ss"><b>Format DVD-RW to avoid need for blanking before
  re-use:</b></h2>
<br/>
 $ xorrecord -v dev=/dev/sr0 blank=format_overwrite -eject
<div>&#x00A0;</div>
This command may also be used to format BD-R media before first use, in order to
  enable handling of write errors. Several hundred MB of spare blocks will be
  reserved and write runs on such media will perform with less than half nominal
  speed.
<h2 class="Ss" title="Ss"><b>De-format DVD-RW to make it capable of
  multi-session again:</b></h2>
<br/>
 $ xorrecord -v dev=/dev/sr0 blank=deformat
<h2 class="Ss" title="Ss"><b>Write a single ISO 9660 filesystem image:</b></h2>
<br/>
 $ xorrecord -v dev=/dev/sr0 speed=12 fs=8m \
<br/>
 blank=as_needed -eject padsize=300k my_image.iso
<h2 class="Ss" title="Ss"><b>Write multiple ISO 9660 sessions:</b></h2>
This is possible with all media except minimally blanked DVD-RW and DVD-R DL,
  which cannot do multi-session.
<div>&#x00A0;</div>
The first session is written like in the previous example, except that option
  -multi is used. It will contain the files of hard disk directory ./tree1 under
  the ISO 9660 directory /dir1:
<div>&#x00A0;</div>
<br/>
 $ xorrisofs -o image_1.iso -J -graft-points /dir1=./tree1
<div>&#x00A0;</div>
<br/>
 $ xorrecord -v dev=/dev/sr0 speed=12 fs=8m \
<div>&#x00A0;</div>
<br/>
 -multi --grow_overwriteable_iso \
<div>&#x00A0;</div>
<br/>
 blank=as_needed -eject padsize=300k image_1.iso
<div>&#x00A0;</div>
For the second session xorrisofs needs to know the -msinfo numbers of the
  medium. Further it will read data from the medium by using the system's
  read-only CD-ROM driver.
<div>&#x00A0;</div>
It is advised to load the tray manually or via dd by the CD-ROM driver, rather
  than letting xorrecord do this by its own SCSI driver. Many system CD-ROM
  drivers do not take notice of xorrecord's activities.
<div>&#x00A0;</div>
<br/>
 $ dd if=/dev/sr0 count=1 &gt;/dev/null 2&gt;&amp;1
<div>&#x00A0;</div>
Now get the -msinfo numbers:
<div>&#x00A0;</div>
<br/>
 $ m=$(xorrecord dev=/dev/sr0 -msinfo)
<div>&#x00A0;</div>
and use them with xorrisofs to add ./tree2 to the image as /dir2:
<div>&#x00A0;</div>
<br/>
 $ xorrisofs -M /dev/sr0 -C $m -o image_2.iso \
<div>&#x00A0;</div>
<br/>
 -J -graft-points /dir2=./tree2
<div>&#x00A0;</div>
Now burn the new session onto the same medium. This time without blanking:
<div>&#x00A0;</div>
<br/>
 $ xorrecord -v dev=/dev/sr0 speed=12 fs=8m \
<div>&#x00A0;</div>
<br/>
 -multi --grow_overwriteable_iso \
<div>&#x00A0;</div>
<br/>
 -eject padsize=300k image_2.iso
<div>&#x00A0;</div>
Operating systems which mount this medium will read the superblock of the second
  session and show both directories /dir1 and /dir2.
<h2 class="Ss" title="Ss"><b>Write ISO 9660 session on-the-fly:</b></h2>
It is possible to combine the run of <b>xorrisofs</b> and <b>xorrecord</b> in a
  pipeline without storing the ISO 9660 image as file on hard disk:
<div>&#x00A0;</div>
<br/>
 $ xorrisofs -M /dev/sr0 -C $m \
<div>&#x00A0;</div>
<br/>
 -J -graft-points /dir2=./tree2 \
<div>&#x00A0;</div>
<br/>
 | xorrecord -v dev=/dev/sr0 speed=12 fs=8m \
<div>&#x00A0;</div>
<br/>
 -waiti -multi --grow_overwriteable_iso \
<div>&#x00A0;</div>
<br/>
 -eject padsize=300k -
<div>&#x00A0;</div>
This is also the main use case of program <b>xorriso</b> itself, where this run
  would look like:
<div>&#x00A0;</div>
<br/>
 $ xorriso -dev /dev/sr0 -joliet on -speed 12 -fs 8m \
<div>&#x00A0;</div>
<br/>
 -map ./tree2 /dir2 -commit_eject all
<h2 class="Ss" title="Ss"><b>Write compressed afio archive on-the-fly:</b></h2>
This is possible with all media except minimally blanked DVD-RW and DVD-R DL.
  Since the compressed output stream is of very variable speed, a larger fifo is
  advised. Nevertheless, this example is not suitable for very old CD drives
  which have no underrun protection and thus would abort the burn run on
  temporary data shortage.
<div>&#x00A0;</div>
<br/>
 $ find . | afio -oZ - | \
<div>&#x00A0;</div>
<br/>
 xorrecord -v dev=/dev/sr0 speed=12 fs=64m \
<div>&#x00A0;</div>
<br/>
 -multi padsize=300k -
<div>&#x00A0;</div>
afio archives do not contain references to absolute data block addresses. So
  they need no special precautions for multi-session. One may get the session
  start addresses by option -toc, and then use dd option skip= to begin reading
  at one of those addresses. E.g. for listing its content:
<div>&#x00A0;</div>
<br/>
 $ dd if=/dev/sr0 bs=2048 skip=64046 | afio -tvZ -
<div>&#x00A0;</div>
afio will know when the end of the archive is reached.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<h2 class="Ss" title="Ss"><b>Startup files:</b></h2>
If not --no_rc is given as the first argument then <b>xorrecord</b> attempts on
  startup to read and execute lines from the following files:
<div>&#x00A0;</div>
<br/>
 /etc/default/xorriso
<div>&#x00A0;</div>
<br/>
 /etc/opt/xorriso/rc
<div>&#x00A0;</div>
<br/>
 /etc/xorriso/xorriso.conf
<div>&#x00A0;</div>
<br/>
 $HOME/.xorrisorc
<div>&#x00A0;</div>
The files are read in the sequence given here, but none of them is required to
  exist. The lines are not interpreted as <b>xorrecord</b> options but as
  generic <b>xorriso</b> commands. See man xorriso.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">For generic xorriso command mode</dt>
  <dd class="It-tag"><b>xorriso(1)</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Formatting track sources for xorrecord:</dt>
  <dd class="It-tag"><b>xorrisofs(1),</b> <b>mkisofs(8),</b>
      <b>genisoimage(8),</b> <b>afio(1),</b> <b>star(1)</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Other programs which burn sessions to optical media</dt>
  <dd class="It-tag"><b>growisofs(1),</b> <b>cdrecord(1),</b> <b>wodim(1),</b>
      <b>cdrskin(1)</b></dd>
</dl>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
To report bugs, request help, or suggest enhancements for <b>xorriso</b>, please
  send electronic mail to the public list &lt;bug-xorriso@gnu.org&gt;. If more
  privacy is desired, mail to &lt;scdbackup@gmx.net&gt;.
<div>&#x00A0;</div>
Please describe what you expect <b>xorriso</b> to do, the program arguments or
  dialog commands by which you tried to achieve it, the messages of
  <b>xorriso</b>, and the undesirable outcome of your program run.
<div>&#x00A0;</div>
Expect to get asked more questions before solutions can be proposed.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Thomas Schmitt &lt;scdbackup@gmx.net&gt;
<div>&#x00A0;</div>
for libburnia-project.org
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (c) 2011 - 2016 Thomas Schmitt
<div>&#x00A0;</div>
Permission is granted to distribute this text freely. It shall only be modified
  in sync with the technical properties of xorriso. If you make use of the
  license to derive modified versions of xorriso then you are entitled to modify
  this text under that same license.
<h1 class="Sh" title="Sh" id="CREDITS"><a class="selflink" href="#CREDITS">CREDITS</a></h1>
<b>xorriso</b> is in part based on work by Vreixo Formoso who provides libisofs
  together with Mario Danic who also leads the libburnia team. Thanks to Andy
  Polyakov who invented emulated growing, to Derek Foreman and Ben Jansens who
  once founded libburn.
<div>&#x00A0;</div>
Compliments towards Joerg Schilling whose cdrtools served me for ten
  years.</div>
<table class="foot">
  <tr>
    <td class="foot-date">Version 1.4.6, Sep 16, 2016</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
