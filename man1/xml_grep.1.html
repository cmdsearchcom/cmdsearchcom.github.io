<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>XML_GREP(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">XML_GREP(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">XML_GREP(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
xml_grep - grep XML files looking for specific elements
<h1 class="Sh" title="Sh" id="SYNOPSYS"><a class="selflink" href="#SYNOPSYS">SYNOPSYS</a></h1>
<pre>
  xml_grep [options] &lt;file list&gt;
</pre>
<div class="Pp"></div>
or
<div class="Pp"></div>
<pre>
  xml_grep &lt;xpath expression&gt; &lt;file list&gt;
</pre>
<div class="Pp"></div>
By default you can just give &quot;xml_grep&quot; an XPath expression and a list
  of files, and get an XML file with the result.
<div class="Pp"></div>
This is equivalent to writing
<div class="Pp"></div>
<pre>
  xml_grep --group_by_file file --pretty_print indented --cond &lt;file list&gt;
</pre>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">brief help message</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--man</b></dt>
  <dd class="It-tag">full documentation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--Version</b></dt>
  <dd class="It-tag">display the tool version</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--root</b> &lt;cond&gt;</dt>
  <dd class="It-tag">look for and return xml chunks matching &lt;cond&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
    if neither &quot;--root&quot; nor &quot;--file&quot; are used then the
      element(s) that trigger the &quot;--cond&quot; option is (are) used. If
      &quot;--cond&quot; is not used then all elements matching the &lt;cond&gt;
      are returned
    <div style="height: 1.00em;">&#x00A0;</div>
    several &quot;--root&quot; can be provided</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cond</b> &lt;cond&gt;</dt>
  <dd class="It-tag">return the chunks (or file names) only if they contain
      elements matching &lt;cond&gt;
    <div style="height: 1.00em;">&#x00A0;</div>
    several &quot;--cond&quot; can be provided (in which case they are
    OR'ed)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--files</b></dt>
  <dd class="It-tag">return only file names (do not generate an XML output)
    <div style="height: 1.00em;">&#x00A0;</div>
    usage of this option precludes using any of the options that define the XML
      output: &quot;--roots&quot;, &quot;--encoding&quot;, &quot;--wrap&quot;,
      &quot;--group_by_file&quot; or &quot;--pretty_print&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--count</b></dt>
  <dd class="It-tag">return only the number of matches in each file
    <div style="height: 1.00em;">&#x00A0;</div>
    usage of this option precludes using any of the options that define the XML
      output: &quot;--roots&quot;, &quot;--encoding&quot;, &quot;--wrap&quot;,
      &quot;--group_by_file&quot; or &quot;--pretty_print&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strict</b></dt>
  <dd class="It-tag">without this option parsing errors are reported to STDOUT
      and the file skipped</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--date</b></dt>
  <dd class="It-tag">when on (by default) the wrapping element get a
      &quot;date&quot; attribute that gives the date the tool was run.
    <div style="height: 1.00em;">&#x00A0;</div>
    with &quot;--nodate&quot; this attribute is not added, which can be useful
      if you need to compare 2 runs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--encoding</b> &lt;enc&gt;</dt>
  <dd class="It-tag">encoding of the xml output (utf-8 by default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nb_results</b> &lt;nb&gt;</dt>
  <dd class="It-tag">output only &lt;nb&gt; results</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--by_file</b></dt>
  <dd class="It-tag">output only &lt;nb&gt; results by file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--wrap</b> &lt;tag&gt;</dt>
  <dd class="It-tag">wrap the xml result in the provided tag (defaults to
      'xml_grep')
    <div style="height: 1.00em;">&#x00A0;</div>
    If wrap is set to an empty string (&quot;--wrap ''&quot;) then the xml
      result is not wrapped at all.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nowrap</b></dt>
  <dd class="It-tag">same as using &quot;--wrap ''&quot;: the xml result is not
      wrapped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--descr</b> &lt;string&gt;</dt>
  <dd class="It-tag">attributes of the wrap tag (defaults to
      &quot;version=&quot;&lt;VERSION&gt;&quot;
      date=&quot;&lt;date&gt;&quot;&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--group_by_file</b> &lt;optional_tag&gt;</dt>
  <dd class="It-tag">wrap results for each files into a separate element. By
      default that element is named &quot;file&quot;. It has an attribute named
      &quot;filename&quot; that gives the name of the file.
    <div style="height: 1.00em;">&#x00A0;</div>
    the short version of this option is <b>-g</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--exclude</b> &lt;condition&gt;</dt>
  <dd class="It-tag">same as using &quot;-v&quot; in grep: the elements that
      match the condition are excluded from the result, the input file(s) is
      (are) otherwise unchanged
    <div style="height: 1.00em;">&#x00A0;</div>
    the short form of this option is <b>-v</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pretty_print</b> &lt;optional_style&gt;</dt>
  <dd class="It-tag">pretty print the output using XML::Twig styles
      ('&quot;indented&quot;', '&quot;record&quot;' or '&quot;record_c&quot;'
      are probably what you are looking for)
    <div style="height: 1.00em;">&#x00A0;</div>
    if the option is used but no style is given then '&quot;indented&quot;' is
      used
    <div style="height: 1.00em;">&#x00A0;</div>
    short form for this argument is <b>-s</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--text_only</b></dt>
  <dd class="It-tag">Displays the text of the results, one by line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--html</b></dt>
  <dd class="It-tag">Allow HTML input, files are converted using
      HTML::TreeBuilder</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--Tidy</b></dt>
  <dd class="It-tag">Allow HTML input, files are converted using HTML::Tidy</dd>
</dl>
<h2 class="Ss" title="Ss" id="Condition_Syntax"><a class="selflink" href="#Condition_Syntax">Condition
  Syntax</a></h2>
&lt;cond&gt; is an XPath-like expression as allowed by XML::Twig to trigger
  handlers.
<div class="Pp"></div>
exemples:
<br/>
 'para'
<br/>
 'para[@compact=&quot;compact&quot;]'
<br/>
 '*[@urgent]'
<br/>
 '*[@urgent=&quot;1&quot;]'
<br/>
 'para[ <i>string()</i>=&quot;WARNING&quot;]'
<div class="Pp"></div>
see XML::Twig for a more complete description of the &lt;cond&gt; syntax
<div class="Pp"></div>
options are processedby Getopt::Long so they can start with '-' or '--' and can
  be abbreviated (&quot;-r&quot; instead of &quot;--root&quot; for example)
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>xml_grep</b> does a grep on XML files. Instead of using regular expressions
  it uses XPath expressions (in fact the subset of XPath supported by XML::Twig)
<div class="Pp"></div>
the results can be the names of the files or XML elements containing matching
  elements.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
XML::Twig Getopt::Long
<h1 class="Sh" title="Sh" id="LICENSE"><a class="selflink" href="#LICENSE">LICENSE</a></h1>
This library is free software; you can redistribute it and/or modify it under
  the same terms as Perl itself.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Michel Rodriguez &lt;mirod@xmltwig.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-05-17</td>
    <td class="foot-os">perl v5.16.3</td>
  </tr>
</table>
</body>
</html>
