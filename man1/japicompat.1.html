<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>JAPICOMPAT(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">JAPICOMPAT(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">JAPICOMPAT(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
japicompat - Test Java APIs for binary backwards compatibility.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>japicompat</b> <i>[-svqhtjw4] [-o outfile] [-i ignorefiles]
  &lt;original_api&gt; &lt;api_to_check&gt;</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>japicompat</b> is part of japitools, designed to test for compatibility
  between Java APIs.
<div style="height: 1.00em;">&#x00A0;</div>
They were originally designed for testing free implementations of Java itself
  for compatibility with Sun's JDK, but they can also be used for testing
  backward compatibility between versions of any API.
<div style="height: 1.00em;">&#x00A0;</div>
The tools are japize and japicompat. Japize is a Java program which emits a
  listing of an API in a machine-readable format. Japicompat then takes two such
  listings and compares them for binary compatibility, as defined by Sun in the
  Java Language Specification.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">disable additional binary compatibility checks (only do
      checks defined by the JLS).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">enable checks for minor compatibility problems.
    <div style="height: 1.00em;">&#x00A0;</div>
    SerialVersionUID checking: japicompat reports a minor error if a
      Serializable class has a different SerialVersionUID between the two
      releases.
    <div style="height: 1.00em;">&#x00A0;</div>
    Deprecation checking: japicompat reports a minor error if a class or member
      was deprecated in the original API but is not deprecated in the API being
      checked.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b></dt>
  <dd class="It-tag">disables progress reports.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">generates output in HTML format. The HTML files produced
      depend on the japi.css file to get attractive presentation.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">generates output in text format. This is the default.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j</b></dt>
  <dd class="It-tag">generates output in raw machine readable form. The format
      produced is called &quot;japio&quot; format, and by convention should be
      saved with a &quot;.japio&quot; file extension. The standalone japiotext
      and japiohtml utilities can be used to convert this format into html or
      text (actually, japicompat calls japiotext or japiohtml internally if the
      -h or -t flags are used). Japio files can also be used with the -i flag to
      support ignoring errors caused by incompatibilities between JDK versions.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">disable warnings for running against old buggy japi files.
      By default japicompat will produce warnings if run against japi files
      originally generated by older versions of japitools that had known bugs
      that japifix cannot eliminate.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-4</b></dt>
  <dd class="It-tag">use 1.4-compatible mode. This works as long as the APIs to
      compare does not contain 1.5-only items.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> &lt;outfile&gt;</dt>
  <dd class="It-tag">Send the output to &lt;outfile&gt; instead of stdout. The
      format of this file depends on the -h, -t and -j flags.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b> &lt;ignorefiles&gt;</dt>
  <dd class="It-tag">Suppose you are attempting to implement the Java API. You
      have (pretty much) completed coverage of the early JDK versions (1.0 and
      1.1) but still have some distance to achieve full coverage of 1.4 (this is
      an accurate description of all Free Software Java implementations at the
      time of writing). Using japicompat to compare your implementation with JDK
      1.4 gives accurate results, but you might also want to show your coverage
      of the earlier versions.
    <div style="height: 1.00em;">&#x00A0;</div>
    Unfortunately Sun has not followed their own binary compatibility rules
      between JDK releases, let alone the expanded rules that japicompat tests
      for. So when you run a comparison between JDK 1.1 and your implementation,
      you will get spurious error reports when you're compatible with 1.4 but
      not 1.1.
    <div style="height: 1.00em;">&#x00A0;</div>
    Obviously what you really want is to ignore errors like this, and japicompat
      provides a way to do so. First, run a comparison between 1.1 and 1.4 using
      the -j switch. Then run the comparison between 1.1 and your
      implementation, passing the &quot;-i&quot; option with the output of the
      previous run. For example:
    <div style="height: 1.00em;">&#x00A0;</div>
    $ japicompat -jo ignore-11-14.japio jdk11.japi.gz jdk14.japi.gz
    <div>&#x00A0;</div>
    $ japicompat -ho jdk11-myimpl.html -i ignore-11-14.japio jdk11.japi.gz
      myimpl.japi.gz
    <div style="height: 1.00em;">&#x00A0;</div>
    You can also get the same effect by running:
    <div style="height: 1.00em;">&#x00A0;</div>
    $ japicompat -ho jdk11-myimpl.html -i jdk14.japi.gz jdk11.japi.gz
      myimpl.japi.gz
    <div style="height: 1.00em;">&#x00A0;</div>
    This is obviously simpler and quicker to type, but requires the comparison
      between jdk11 and jdk14 to be run every single time. Making the japio file
      manually allows for it to be saved and used again the next time, which
      lets japicompat run about twice as fast.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"> &lt;original_api&gt; &lt;api_to_check&gt;</dt>
  <dd class="It-tag">The japi files corresponding to the APIs to be compared.
    <div style="height: 1.00em;">&#x00A0;</div>
    japicompat specifically tests that the second argument is
      backwardly-compatible with the first. Therefore, a perfect implementation
      of JDK 1.1 would produce no errors regardless of the order of the
      arguments, but a perfect implementation of JDK1.1 plus parts of JDK1.2
      should be tested as follows:
    <div style="height: 1.00em;">&#x00A0;</div>
    $ japicompat jdk11.japi.gz myimpl.japi.gz
    <div>&#x00A0;</div>
    $ japicompat myimpl.japi.gz jdk12.japi.gz
    <div style="height: 1.00em;">&#x00A0;</div>
    It is probably impossible to make an implementation that passes both these
      tests, since Sun's own JDK1.2 produces numerous errors when tested against
      JDK1.1. See the discussion of the -i option above for a way to cope with
      this situation.
    <div style="height: 1.00em;">&#x00A0;</div>
    Either compressed (.japi.gz) or uncompressed (.japi) files can be passed to
      japicompat: The file extension is used to determine whether or not to pipe
      input through gzip or not.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>japize</b>(1) Produce a listing of an API in a machine-readable format.
<div>&#x00A0;</div>
<b>japilist</b>(1) List the contents of japi files.
<div>&#x00A0;</div>
<b>japiohtml</b>(1) Convert japicompat output to pretty html format.
<div>&#x00A0;</div>
<b>japiotext</b>(1) Convert japicompat output to readable plain text
  format.</div>
<table class="foot">
  <tr>
    <td class="foot-date">October 6, 2005</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
