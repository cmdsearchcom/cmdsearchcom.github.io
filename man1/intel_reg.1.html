<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>INTEL_REG(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">INTEL_REG(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">INTEL_REG(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
intel_reg - Intel graphics register multitool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>intel_reg</b> [<i>OPTIONS</i>] <i>COMMAND</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Intel graphics register multitool. Read, write, dump, and decode Intel graphics
  MMIO and sideband registers, and more.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Some options are global, and some specific to commands.
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">Increase verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">Decrease verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--count<b>=</b></b><i><b>N</b></i></dt>
  <dd class="It-tag">Read N registers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--binary</b></dt>
  <dd class="It-tag">Output binary values.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--all</b></dt>
  <dd class="It-tag">Decode registers for all known platforms.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mmio<b>=</b></b><i><b>FILE</b></i></dt>
  <dd class="It-tag">Use MMIO bar from FILE.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--devid<b>=</b></b><i><b>DEVID</b></i></dt>
  <dd class="It-tag">Pretend to be PCI ID DEVID. Useful with MMIO bar snapshots
      from other machines.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--spec<b>=</b></b><i><b>PATH</b></i></dt>
  <dd class="It-tag">Read register spec from directory or file specified by
      PATH; see REGISTER SPEC DEFINITIONS below for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Show brief help.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
See REGISTER REFERENCES below on how to describe registers for the commands.
<h2 class="Ss" title="Ss" id="read_[--count=N]_REGISTER_[...]"><a class="selflink" href="#read_[--count=N]_REGISTER_[...]">read
  [--count=N] REGISTER [...]</a></h2>
Dump each specified REGISTER, or N registers starting from each REGISTER.
<h2 class="Ss" title="Ss" id="write_REGISTER_VALUE_[REGISTER_VALUE_...]"><a class="selflink" href="#write_REGISTER_VALUE_[REGISTER_VALUE_...]">write
  REGISTER VALUE [REGISTER VALUE ...]</a></h2>
Write each VALUE to corresponding REGISTER.
<h2 class="Ss" title="Ss" id="dump_[--mmio=FILE_--devid=DEVID]"><a class="selflink" href="#dump_[--mmio=FILE_--devid=DEVID]">dump
  [--mmio=FILE --devid=DEVID]</a></h2>
Dump all registers specified in the register spec.
<h2 class="Ss" title="Ss" id="decode_REGISTER_VALUE"><a class="selflink" href="#decode_REGISTER_VALUE">decode
  REGISTER VALUE</a></h2>
Decode REGISTER VALUE.
<h2 class="Ss" title="Ss" id="snapshot"><a class="selflink" href="#snapshot">snapshot</a></h2>
Output the MMIO bar to stdout. The output can be used for a later invocation of
  dump or read with the --mmio=FILE and --devid=DEVID parameters.
<h2 class="Ss" title="Ss" id="list"><a class="selflink" href="#list">list</a></h2>
List the known registers.
<h2 class="Ss" title="Ss" id="help"><a class="selflink" href="#help">help</a></h2>
Display brief help.
<h1 class="Sh" title="Sh" id="REGISTER_REFERENCES"><a class="selflink" href="#REGISTER_REFERENCES">REGISTER
  REFERENCES</a></h1>
Registers are defined as [(PORTNAME|PORTNUM|MMIO-OFFSET):](REGNAME|REGADDR).
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>PORTNAME</b></dt>
  <dd class="It-tag">The register access method, most often MMIO, which is the
      default. The methods supported on all platforms are &quot;mmio&quot;,
      &quot;portio-vga&quot;, and &quot;mmio-vga&quot;.
    <div style="height: 1.00em;">&#x00A0;</div>
    On BYT and CHV, the sideband ports &quot;bunit&quot;, &quot;punit&quot;,
      &quot;nc&quot;, &quot;dpio&quot;, &quot;gpio-nc&quot;, &quot;cck&quot;,
      &quot;ccu&quot;, &quot;dpio2&quot;, and &quot;flisdsi&quot; are also
      supported.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>PORTNUM</b></dt>
  <dd class="It-tag">Port number for the sideband ports supported on BYT and
      CHV. Only numbers mapped to the supported ports are allowed, arbitrary
      numbers are not accepted.
    <div style="height: 1.00em;">&#x00A0;</div>
    Numbers above 0xff are automatically interpreted as MMIO offsets, not port
      numbers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>MMIO-OFFSET</b></dt>
  <dd class="It-tag">Use MMIO, and add this offset to the register address.
    <div style="height: 1.00em;">&#x00A0;</div>
    Numbers equal to or below 0xff are automatically interpreted as port
      numbers, not MMIO offsets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REGNAME</b></dt>
  <dd class="It-tag">Name of the register as defined in the register spec.
    <div style="height: 1.00em;">&#x00A0;</div>
    If MMIO offset is not specified, it is picked up from the register spec.
      However, ports are not; the port is a namespace for the register
    names.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>REGADDR</b></dt>
  <dd class="It-tag">Register address. The corresponding register name need not
      be specified in the register spec.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>INTEL_REG_SPEC</b></dt>
  <dd class="It-tag">Path to a directory or a file containing register spec
      definitions.</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="REGISTER_SPEC_DEFINITIONS"><a class="selflink" href="#REGISTER_SPEC_DEFINITIONS">REGISTER
  SPEC DEFINITIONS</a></h1>
A register spec associates register names with addresses. The spec is searched
  for in this order:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">Directory or file specified by the --spec option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">Directory or file specified by the INTEL_REG_SPEC
      environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">Builtin register spec. Also used as fallback with a warning
      if the above are used but fail.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
If a directory is specified using --spec option or INTEL_REG_SPEC environment
  variable, the directory is scanned for a spec file in this order:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">File named after the PCI device id. For example,
      &quot;0412&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">File named after the code name in lowercase, without
      punctuation. For example, &quot;valleyview&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3.</dt>
  <dd class="It-tag">File named after generation. For example, &quot;gen7&quot;
      (note that this matches valleyview, ivybridge and haswell!).</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Register_Spec_File_Format"><a class="selflink" href="#Register_Spec_File_Format">Register
  Spec File Format</a></h2>
The register spec format is briefly described below:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Empty lines and lines beginning with &quot;#&quot;,
      &quot;;&quot;, or &quot;//&quot; are ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Lines <i>not</i> beginning with &quot;(&quot; are
      interpreted as file names, absolute or relative, to be included.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Lines beginning with &quot;(&quot; are interpreted as
      register definitions.</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Registers are defined as tuples ('REGNAME', 'REGADDR',
  'PORTNAME|PORTNUM|MMIO-OFFSET'), as in REGISTER REFERENCES above. The port
  description may also be an empty string to denote MMIO.
<div style="height: 1.00em;">&#x00A0;</div>
Examples:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag"># this is a comment, below is an include</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">vlv_pipe_a.txt</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">('GEN6_PMINTRMSK', '0x0000a168', '')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">('MIPIA_PORT_CTRL', '0x61190', '0x180000')</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">('PLL1_DW0', '0x8000', 'DPIO')</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Reading some registers may hang the GPU or the machine.
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to <i>https://bugs.freedesktop.org</i>.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Jani Nikula &lt;jani.nikula@intel.com&gt;
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
2015-2016 Intel Corporation</div>
<table class="foot">
  <tr>
    <td class="foot-date">2016-03-01</td>
    <td class="foot-os">intel-gpu-tools 1.17</td>
  </tr>
</table>
</body>
</html>
