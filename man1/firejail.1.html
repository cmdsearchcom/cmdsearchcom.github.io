<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:10:03 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>FIREJAIL(1) firejail man page FIREJAIL(1)</p>

<p style="margin-top: 1em">NAME <br>
Firejail - Linux namespaces sandbox program</p>

<p style="margin-top: 1em">SYNOPSIS <br>
Start a sandbox:</p>

<p style="margin-top: 1em">firejail [OPTIONS] [program and
arguments]</p>

<p style="margin-top: 1em">File transfer from an existing
sandbox</p>

<p style="margin-top: 1em">firejail {--ls | --get | --put}
dir_or_filename</p>

<p style="margin-top: 1em">Network traffic shaping for an
existing sandbox:</p>

<p style="margin-top: 1em">firejail --bandwidth={name|pid}
bandwidth-command</p>

<p style="margin-top: 1em">Monitoring:</p>

<p style="margin-top: 1em">firejail {--list | --netstats |
--top | --tree}</p>

<p style="margin-top: 1em">Miscellaneous:</p>

<p style="margin-top: 1em">firejail {-? | --debug-caps |
--debug-errnos | --debug-syscalls | --debug-protocols |
--help | --version}</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Firejail is a SUID sandbox program that reduces the risk of
security breaches by restricting the running environment of
untrusted applications using Linux namespaces, seccomp-bpf
<br>
and Linux capabilities. It allows a process and all its
descendants to have their own private view of the globally
shared kernel resources, such as the network stack, process
<br>
table, mount table. Firejail can work in a SELinux or
AppArmor environment, and it is integrated with Linux
Control Groups.</p>

<p style="margin-top: 1em">Written in C with virtually no
dependencies, the software runs on any Linux computer with a
3.x kernel version or newer. It can sandbox any type of
processes: servers, graphical <br>
applications, and even user login sessions.</p>

<p style="margin-top: 1em">Firejail allows the user to
manage application security using security profiles. Each
profile defines a set of permissions for a specific
application or group of applications. <br>
The software includes security profiles for a number of more
common Linux programs, such as Mozilla Firefox, Chromium,
VLC, Transmission etc.</p>

<p style="margin-top: 1em">USAGE <br>
Without any options, the sandbox consists of a filesystem
build in a new mount namespace, and new PID and UTS
namespaces. IPC, network and user namespaces can be added
using the <br>
command line options. The default Firejail filesystem is
based on the host filesystem with the main system
directories mounted read-only. These directories are /etc,
/var, /usr, <br>
/bin, /sbin, /lib, /lib32, /libx32 and /lib64. Only /home
and /tmp are writable.</p>

<p style="margin-top: 1em">As it starts up, Firejail tries
to find a security profile based on the name of the
application. If an appropriate profile is not found,
Firejail will use a default profile. <br>
The default profile is quite restrictive. In case the
application doesn&rsquo;t work, use --noprofile option to
disable it. For more information, please see SECURITY
PROFILES section <br>
below.</p>

<p style="margin-top: 1em">If a program argument is not
specified, Firejail starts /bin/bash shell. Examples:</p>

<p style="margin-top: 1em">$ firejail [OPTIONS] # starting
a /bin/bash shell</p>

<p style="margin-top: 1em">$ firejail [OPTIONS] firefox #
starting Mozilla Firefox</p>

<p style="margin-top: 1em"># sudo firejail [OPTIONS]
/etc/init.d/nginx start</p>

<p style="margin-top: 1em">OPTIONS <br>
-- Signal the end of options and disables further option
processing.</p>

<p style="margin-top: 1em">--allow-debuggers <br>
Allow tools such as strace and gdb inside the sandbox. This
option is only available when running on Linux kernels 4.8
or newer - a kernel bug in ptrace system call allows <br>
a full bypass of the seccomp filter.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --allow-debuggers
--profile=/etc/firejail/firefox.profile strace -f
firefox</p>

<p style="margin-top: 1em">--allusers <br>
All user home directories are visible inside the sandbox. By
default, only current user home directory is visible.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --allusers</p>

<p style="margin-top: 1em">--apparmor <br>
Enable AppArmor confinement. For more information, please
see APPARMOR section below.</p>

<p style="margin-top: 1em">--appimage <br>
Sandbox an AppImage (http://appimage.org/) application.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --appimage krita-3.0-x86_64.appimage <br>
$ firejail --appimage --private krita-3.0-x86_64.appimage
<br>
$ firejail --appimage --net=none --x11
krita-3.0-x86_64.appimage</p>

<p style="margin-top: 1em">--audit <br>
Audit the sandbox, see AUDIT section for more details.</p>

<p style="margin-top: 1em">--audit=test-program <br>
Audit the sandbox, see AUDIT section for more details.</p>

<p style="margin-top: 1em">--bandwidth=name|pid <br>
Set bandwidth limits for the sandbox identified by name or
PID, see TRAFFIC SHAPING section for more details.</p>

<p style="margin-top: 1em">--bind=filename1,filename2 <br>
Mount-bind filename1 on top of filename2. This option is
only available when running as root.</p>

<p style="margin-top: 1em">Example: <br>
# firejail --bind=/config/etc/passwd,/etc/passwd</p>

<p style="margin-top: 1em">--blacklist=dirname_or_filename
<br>
Blacklist directory or file.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --blacklist=/sbin --blacklist=/usr/sbin <br>
$ firejail --blacklist=~/.mozilla <br>
$ firejail &quot;--blacklist=/home/username/My Virtual
Machines&quot; <br>
$ firejail
--blacklist=/home/username/My&nbsp;Virtual&nbsp;Machines</p>

<p style="margin-top: 1em">-c Execute command and exit.</p>

<p style="margin-top: 1em">--caps Linux capabilities is a
kernel feature designed to split up the root privilege into
a set of distinct privileges. These privileges can be
enabled or disabled indepen&acirc; <br>
dently, thus restricting what a process running as root can
do in the system.</p>

<p style="margin-top: 1em">By default root programs run
with all capabilities enabled. --caps option disables the
following capabilities: CAP_SYS_MODULE, CAP_SYS_RAWIO,
CAP_SYS_BOOT, CAP_SYS_NICE, <br>
CAP_SYS_TTY_CONFIG, CAP_SYSLOG, CAP_MKNOD, CAP_SYS_ADMIN.
The filter is applied to all processes started in the
sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ sudo firejail --caps /etc/init.d/nginx start</p>

<p style="margin-top: 1em">--caps.drop=all <br>
Drop all capabilities for the processes running in the
sandbox. This option is recommended for running GUI programs
or any other program that doesn&rsquo;t require root
privi&acirc; <br>
leges. It is a must-have option for sandboxing untrusted
programs installed from unofficial sources - such as games,
Java programs, etc.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --caps.drop=all warzone2100</p>


<p style="margin-top: 1em">--caps.drop=capability,capability,capability
<br>
Define a custom blacklist Linux capabilities filter.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --caps.keep=net_broadcast,net_admin,net_raw</p>


<p style="margin-top: 1em">--caps.keep=capability,capability,capability
<br>
Define a custom whitelist Linux capabilities filter.</p>

<p style="margin-top: 1em">Example: <br>
$ sudo firejail
--caps.keep=chown,net_bind_service,setgid,&nbsp;setuid
/etc/init.d/nginx start</p>

<p style="margin-top: 1em">--caps.print=name|pid <br>
Print the caps filter for the sandbox identified by name or
by PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mygame --caps.drop=all warzone2100 &amp;
<br>
$ firejail --caps.print=mygame</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --caps.print=3272</p>

<p style="margin-top: 1em">--cgroup=tasks-file <br>
Place the sandbox in the specified control group. tasks-file
is the full path of cgroup tasks file.</p>

<p style="margin-top: 1em">Example: <br>
# firejail --cgroup=/sys/fs/cgroup/g1/tasks</p>

<p style="margin-top: 1em">--chroot=dirname <br>
Chroot the sandbox into a root filesystem. Unlike the
regular filesystem container, the system directories are
mounted read-write. If the sandbox is started as a regular
<br>
user, default seccomp and capabilities filters are enabled.
This option is not available on Grsecurity systems.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --chroot=/media/ubuntu warzone2100</p>


<p style="margin-top: 1em">--cpu=cpu-number,cpu-number,cpu-number
<br>
Set CPU affinity.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --cpu=0,1 handbrake</p>

<p style="margin-top: 1em">--cpu.print=name|pid <br>
Print the CPU cores in use by the sandbox identified by name
or by PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mygame --caps.drop=all warzone2100 &amp;
<br>
$ firejail --cpu.print=mygame</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --cpu.print=3272</p>

<p style="margin-top: 1em">--csh Use /bin/csh as default
user shell.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --csh</p>

<p style="margin-top: 1em">--debug <br>
Print debug messages.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug firefox</p>

<p style="margin-top: 1em">--debug-blacklists <br>
Debug blacklisting.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-blacklists firefox</p>

<p style="margin-top: 1em">--debug-caps <br>
Print all recognized capabilities in the current Firejail
software build and exit.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-caps</p>

<p style="margin-top: 1em">--debug-check-filename <br>
Debug filename checking.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-check-filename firefox</p>

<p style="margin-top: 1em">--debug-errnos <br>
Print all recognized error numbers in the current Firejail
software build and exit.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-errnos</p>

<p style="margin-top: 1em">--debug-protocols <br>
Print all recognized protocols in the current Firejail
software build and exit.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-protocols</p>

<p style="margin-top: 1em">--debug-syscalls <br>
Print all recognized system calls in the current Firejail
software build and exit.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-syscalls</p>

<p style="margin-top: 1em">--debug-whitelists <br>
Debug whitelisting.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --debug-whitelists firefox</p>

<p style="margin-top: 1em">--defaultgw=address <br>
Use this address as default gateway in the new network
namespace.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --defaultgw=10.10.20.1 firefox</p>

<p style="margin-top: 1em">--dns=address <br>
Set a DNS server for the sandbox. Up to three DNS servers
can be defined. Use this option if you don&rsquo;t trust the
DNS setup on your network.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --dns=8.8.8.8 --dns=8.8.4.4 firefox</p>

<p style="margin-top: 1em">--dns.print=name|pid <br>
Print DNS configuration for a sandbox identified by name or
by PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mygame --caps.drop=all warzone2100 &amp;
<br>
$ firejail --dns.print=mygame</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --dns.print=3272</p>

<p style="margin-top: 1em">--env=name=value <br>
Set environment variable in the new sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --env=LD_LIBRARY_PATH=/opt/test/lib</p>

<p style="margin-top: 1em">--force <br>
By default, if Firejail is started in an existing sandbox,
it will run the program in a bash shell. This option
disables this behavior, and attempts to start Firejail in
<br>
the existing sandbox. There could be lots of reasons for it
to fail, for example if the existing sandbox disables admin
capabilities, SUID binaries, or if it runs sec&acirc; <br>
comp.</p>

<p style="margin-top: 1em">--fs.print=name|print <br>
Print the filesystem log for the sandbox identified by name
or by PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mygame --caps.drop=all warzone2100 &amp;
<br>
$ firejail --fs.print=mygame</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --fs.print=3272</p>

<p style="margin-top: 1em">--get=name|pid filename <br>
Get a file from sandbox container, see FILE TRANSFER section
for more details.</p>

<p style="margin-top: 1em">-?, --help <br>
Print options end exit.</p>

<p style="margin-top: 1em">--hostname=name <br>
Set sandbox hostname.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --hostname=officepc firefox</p>

<p style="margin-top: 1em">--ignore=command <br>
Ignore command in profile file.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --ignore=shell --ignore=seccomp firefox</p>

<p style="margin-top: 1em">--interface=interface <br>
Move interface in a new network namespace. Up to four
--interface options can be specified. Note: wlan devices are
not supported for this option.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --interface=eth1 --interface=eth0.vlan100</p>

<p style="margin-top: 1em">--ip=address <br>
Assign IP addresses to the last network interface defined by
a --net option. A default gateway is assigned by
default.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --ip=10.10.20.56 firefox</p>

<p style="margin-top: 1em">--ip=none <br>
No IP address and no default gateway are configured for the
last interface defined by a --net option. Use this option in
case you intend to start an external DHCP client <br>
in the sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --ip=none</p>

<p style="margin-top: 1em">If the corresponding interface
doesn&rsquo;t have an IP address configured, this option is
enabled by default.</p>

<p style="margin-top: 1em">--ip6=address <br>
Assign IPv6 addresses to the last network interface defined
by a --net option.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --ip6=2001:0db8:0:f101::1/64
firefox</p>

<p style="margin-top: 1em">Note: you don&rsquo;t need this
option if you obtain your ip6 address from router via SLAAC
(your ip6 address and default route will be configured by
kernel automatically).</p>

<p style="margin-top: 1em">--iprange=address,address <br>
Assign an IP address in the provided range to the last
network interface defined by a --net option. A default
gateway is assigned by default.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0
--iprange=192.168.1.100,192.168.1.150</p>

<p style="margin-top: 1em">--ipc-namespace <br>
Enable a new IPC namespace if the sandbox was started as a
regular user. IPC namespace is enabled by default for
sandboxes started as root.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --ipc-namespace firefox</p>

<p style="margin-top: 1em">--join=name|pid <br>
Join the sandbox identified by name or by PID. By default a
/bin/bash shell is started after joining the sandbox. If a
program is specified, the program is run in the <br>
sandbox. If --join command is issued as a regular user, all
security filters are configured for the new process the same
they are configured in the sandbox. If --join <br>
command is issued as root, the security filters, cgroups and
cpus configurations are not applied to the process joining
the sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mygame --caps.drop=all warzone2100 &amp;
<br>
$ firejail --join=mygame</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --join=3272</p>

<p style="margin-top: 1em">--join-filesystem=name|pid <br>
Join the mount namespace of the sandbox identified by name
or PID. By default a /bin/bash shell is started after
joining the sandbox. If a program is specified, the
pro&acirc; <br>
gram is run in the sandbox. This command is available only
to root user. Security filters, cgroups and cpus
configurations are not applied to the process joining the
<br>
sandbox.</p>

<p style="margin-top: 1em">--join-network=name|PID <br>
Join the network namespace of the sandbox identified by
name. By default a /bin/bash shell is started after joining
the sandbox. If a program is specified, the program is <br>
run in the sandbox. This command is available only to root
user. Security filters, cgroups and cpus configurations are
not applied to the process joining the sandbox. <br>
Example:</p>

<p style="margin-top: 1em"># start firefox <br>
$ firejail --net=eth0 --name=browser firefox &amp;</p>

<p style="margin-top: 1em"># change netfilter configuration
<br>
$ sudo firejail --join-network=browser bash -c &quot;cat
/etc/firejail/nolocal.net | /sbin/iptables-restore&quot;</p>

<p style="margin-top: 1em"># verify netfilter configuration
<br>
$ sudo firejail --join-network=browser /sbin/iptables
-vL</p>

<p style="margin-top: 1em"># verify IP addresses <br>
$ sudo firejail --join-network=browser ip addr <br>
Switching to pid 1932, the first child process inside the
sandbox <br>
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue
state UNKNOWN group default <br>
link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 <br>
inet 127.0.0.1/8 scope host lo <br>
valid_lft forever preferred_lft forever <br>
inet6 ::1/128 scope host <br>
valid_lft forever preferred_lft forever <br>
2: eth0-1931: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu
1500 qdisc noqueue state UNKNOWN group default <br>
link/ether 76:58:14:42:78:e4 brd ff:ff:ff:ff:ff:ff <br>
inet 192.168.1.158/24 brd 192.168.1.255 scope global
eth0-1931 <br>
valid_lft forever preferred_lft forever <br>
inet6 fe80::7458:14ff:fe42:78e4/64 scope link <br>
valid_lft forever preferred_lft forever</p>

<p style="margin-top: 1em">--join-or-start=name <br>
Join the sandbox identified by name or start a new one. Same
as &quot;firejail --join=name&quot; if sandbox with
specified name exists, otherwise same as &quot;firejail
--name=name ...&quot; <br>
Note that in contrary to other join options there is
respective profile option.</p>

<p style="margin-top: 1em">--ls=name|pid dir_or_filename
<br>
List files in sandbox container, see FILE TRANSFER section
for more details.</p>

<p style="margin-top: 1em">--list List all sandboxes, see
MONITORING section for more details.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
7015:netblue:firejail firefox <br>
7056:netblue:firejail --net=eth0 transmission-gtk <br>
7064:netblue:firejail --noroot xterm <br>
$</p>

<p style="margin-top: 1em">--mac=address <br>
Assign MAC addresses to the last network interface defined
by a --net option.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --mac=00:11:22:33:44:55 firefox</p>

<p style="margin-top: 1em">--machine-id <br>
Spoof id number in /etc/machine-id file - a new random id is
generated inside the sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --machine-id</p>

<p style="margin-top: 1em">--mtu=number <br>
Assign a MTU value to the last network interface defined by
a --net option.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --mtu=1492</p>

<p style="margin-top: 1em">--name=name <br>
Set sandbox name. Several options, such as --join and
--shutdown, can use this name to identify a sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mybrowser firefox</p>

<p style="margin-top: 1em">--net=bridge_interface <br>
Enable a new network namespace and connect it to this bridge
interface. Unless specified with option --ip and
--defaultgw, an IP address and a default gateway will be
<br>
assigned automatically to the sandbox. The IP address is
verified using ARP before assignment. The address configured
as default gateway is the bridge device IP address. <br>
Up to four --net bridge devices can be defined. Mixing
bridge and macvlan devices is allowed.</p>

<p style="margin-top: 1em">Example: <br>
$ sudo brctl addbr br0 <br>
$ sudo ifconfig br0 10.10.20.1/24 <br>
$ sudo brctl addbr br1 <br>
$ sudo ifconfig br1 10.10.30.1/24 <br>
$ firejail --net=br0 --net=br1</p>

<p style="margin-top: 1em">--net=ethernet_interface <br>
Enable a new network namespace and connect it to this
ethernet interface using the standard Linux macvlan driver.
Unless specified with option --ip and --defaultgw, an IP
<br>
address and a default gateway will be assigned automatically
to the sandbox. The IP address is verified using ARP before
assignment. The address configured as default <br>
gateway is the default gateway of the host. Up to four --net
devices can be defined. Mixing bridge and macvlan devices is
allowed. Note: wlan devices are not supported <br>
for this option.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --ip=192.168.1.80 --dns=8.8.8.8
firefox</p>

<p style="margin-top: 1em">--net=none <br>
Enable a new, unconnected network namespace. The only
interface available in the new namespace is a new loopback
interface (lo). Use this option to deny network access to
<br>
programs that don&rsquo;t really need network access.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=none vlc</p>

<p style="margin-top: 1em">--netfilter <br>
Enable a default client network filter in the new network
namespace. New network namespaces are created using --net
option. If a new network namespaces is not created, <br>
--netfilter option does nothing. The default filter is as
follows:</p>

<p style="margin-top: 1em">*filter <br>
:INPUT DROP [0:0] <br>
:FORWARD DROP [0:0] <br>
:OUTPUT ACCEPT [0:0] <br>
-A INPUT -i lo -j ACCEPT <br>
-A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT <br>
# allow ping <br>
-A INPUT -p icmp --icmp-type destination-unreachable -j
ACCEPT <br>
-A INPUT -p icmp --icmp-type time-exceeded -j ACCEPT <br>
-A INPUT -p icmp --icmp-type echo-request -j ACCEPT <br>
# drop STUN (WebRTC) requests <br>
-A OUTPUT -p udp --dport 3478 -j DROP <br>
-A OUTPUT -p udp --dport 3479 -j DROP <br>
-A OUTPUT -p tcp --dport 3478 -j DROP <br>
-A OUTPUT -p tcp --dport 3479 -j DROP <br>
COMMIT</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --netfilter firefox</p>

<p style="margin-top: 1em">--netfilter=filename <br>
Enable the network filter specified by filename in the new
network namespace. The filter file format is the format of
iptables-save and iptable-restore commands. New net&acirc;
<br>
work namespaces are created using --net option. If a new
network namespaces is not created, --netfilter option does
nothing.</p>

<p style="margin-top: 1em">The following filters are
available in /etc/firejail directory:</p>

<p style="margin-top: 1em">webserver.net is a webserver
filter that allows access only to TCP ports 80 and 443.
Example:</p>

<p style="margin-top: 1em">$ firejail
--netfilter=/etc/firejail/webserver.net --net=eth0
/etc/init.d/apache2 start</p>

<p style="margin-top: 1em">nolocal.net is a client filter
that disable access to local network. Example:</p>

<p style="margin-top: 1em">$ firejail
--netfilter=/etc/firejail/nolocal.net --net=eth0 firefox</p>

<p style="margin-top: 1em">--netfilter6=filename <br>
Enable the IPv6 network filter specified by filename in the
new network namespace. The filter file format is the format
of ip6tables-save and ip6table-restore commands. <br>
New network namespaces are created using --net option. If a
new network namespaces is not created, --netfilter6 option
does nothing.</p>

<p style="margin-top: 1em">--netstats <br>
Monitor network namespace statistics, see MONITORING section
for more details.</p>

<p style="margin-top: 1em">Example:</p>

<p style="margin-top: 1em">$ firejail --netstats <br>
PID User RX(KB/s) TX(KB/s) Command <br>
1294 netblue 53.355 1.473 firejail --net=eth0 firefox <br>
7383 netblue 9.045 0.112 firejail --net=eth0
transmission</p>

<p style="margin-top: 1em">--nice=value <br>
Set nice value for all processes running inside the sandbox.
Only root may specify a negative value.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --nice=2 firefox</p>

<p style="margin-top: 1em">--no3d Disable 3D hardware
acceleration.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --no3d firefox</p>


<p style="margin-top: 1em">--noblacklist=dirname_or_filename
<br>
Disable blacklist for this directory or file.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail <br>
$ nc dict.org 2628 <br>
bash: /bin/nc: Permission denied <br>
$ exit</p>

<p style="margin-top: 1em">$ firejail --noblacklist=/bin/nc
<br>
$ nc dict.org 2628 <br>
220 pan.alephnull.com dictd 1.12.1/rf on Linux
3.14-1-amd64</p>

<p style="margin-top: 1em">--noexec=dirname_or_filename
<br>
Remount directory or file noexec, nodev and nosuid.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --noexec=/tmp</p>

<p style="margin-top: 1em">/etc and /var are noexec by
default if the sandbox was started as a regular user. If
there are more than one mount operation on the path of the
file or directory, noexec <br>
should be applied to the last one. Always check if the
change took effect inside the sandbox.</p>

<p style="margin-top: 1em">--nogroups <br>
Disable supplementary groups. Without this option,
supplementary groups are enabled for the user starting the
sandbox. For root user supplementary groups are always
dis&acirc; <br>
abled.</p>

<p style="margin-top: 1em">Example: <br>
$ id <br>
uid=1000(netblue) gid=1000(netblue)
groups=1000(netblue),24(cdrom),25(floppy),27(sudo),29(audio)
<br>
$ firejail --nogroups <br>
Parent pid 8704, child pid 8705 <br>
Child process initialized <br>
$ id <br>
uid=1000(netblue) gid=1000(netblue) groups=1000(netblue)
<br>
$</p>

<p style="margin-top: 1em">--noprofile <br>
Do not use a security profile.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail <br>
Reading profile /etc/firejail/default.profile <br>
Parent pid 8553, child pid 8554 <br>
Child process initialized <br>
[...]</p>

<p style="margin-top: 1em">$ firejail --noprofile <br>
Parent pid 8553, child pid 8554 <br>
Child process initialized <br>
[...]</p>

<p style="margin-top: 1em">--noroot <br>
Install a user namespace with a single user - the current
user. root user does not exist in the new namespace. This
option requires a Linux kernel version 3.8 or newer. <br>
The option is not supported for --chroot and --overlay
configurations, or for sandboxes started as root.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --noroot <br>
Parent pid 8553, child pid 8554 <br>
Child process initialized <br>
$ ping google.com <br>
ping: icmp open socket: Operation not permitted <br>
$</p>

<p style="margin-top: 1em">--nonewprivs <br>
Sets the NO_NEW_PRIVS prctl. This ensures that child
processes cannot acquire new privileges using execve(2); in
particular, this means that calling a suid binary (or <br>
one with file capabilities) does not result in an increase
of privilege. This option is enabled by default if seccomp
filter is activated.</p>

<p style="margin-top: 1em">--nosound <br>
Disable sound system.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --nosound firefox</p>

<p style="margin-top: 1em">--output=logfile <br>
stdout logging and log rotation. Copy stdout and stderr to
logfile, and keep the size of the file under 500KB using log
rotation. Five files with prefixes .1 to .5 are <br>
used in rotation.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --output=sandboxlog /bin/bash <br>
[...] <br>
$ ls -l sandboxlog* <br>
-rw-r--r-- 1 netblue netblue 333890 Jun 2 07:48 sandboxlog
<br>
-rw-r--r-- 1 netblue netblue 511488 Jun 2 07:48 sandboxlog.1
<br>
-rw-r--r-- 1 netblue netblue 511488 Jun 2 07:48 sandboxlog.2
<br>
-rw-r--r-- 1 netblue netblue 511488 Jun 2 07:48 sandboxlog.3
<br>
-rw-r--r-- 1 netblue netblue 511488 Jun 2 07:48 sandboxlog.4
<br>
-rw-r--r-- 1 netblue netblue 511488 Jun 2 07:48
sandboxlog.5</p>

<p style="margin-top: 1em">--overlay <br>
Mount a filesystem overlay on top of the current filesystem.
Unlike the regular filesystem container, the system
directories are mounted read-write. All filesystem
modi&acirc; <br>
fications go into the overlay. The overlay is stored in
$HOME/.firejail/&lt;PID&gt; directory.</p>

<p style="margin-top: 1em">OverlayFS support is required in
Linux kernel for this option to work. OverlayFS was
officially introduced in Linux kernel version 3.18. This
option is not available on <br>
Grsecurity systems.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --overlay firefox</p>

<p style="margin-top: 1em">--overlay-named=name <br>
Mount a filesystem overlay on top of the current filesystem.
Unlike the regular filesystem container, the system
directories are mounted read-write. All filesystem
modi&acirc; <br>
fications go into the overlay. The overlay is stored in
$HOME/.firejail/&lt;NAME&gt; directory. The created overlay
can be reused between multiple sessions.</p>

<p style="margin-top: 1em">OverlayFS support is required in
Linux kernel for this option to work. OverlayFS was
officially introduced in Linux kernel version 3.18. This
option is not available on <br>
Grsecurity systems.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --overlay-named=jail1 firefox</p>

<p style="margin-top: 1em">--overlay-tmpfs <br>
Mount a filesystem overlay on top of the current filesystem.
All filesystem modifications go into the overlay, and are
discarded when the sandbox is closed.</p>

<p style="margin-top: 1em">OverlayFS support is required in
Linux kernel for this option to work. OverlayFS was
officially introduced in Linux kernel version 3.18. This
option is not available on <br>
Grsecurity systems.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --overlay-tmpfs firefox</p>

<p style="margin-top: 1em">--overlay-clean <br>
Clean all overlays stored in $HOME/.firejail directory.
Overlays created with --overlay-path=path outside
$HOME/.firejail will not be deleted.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --overlay-clean</p>

<p style="margin-top: 1em">--private <br>
Mount new /root and /home/user directories in temporary
filesystems. All modifications are discarded when the
sandbox is closed.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private firefox</p>

<p style="margin-top: 1em">--private=directory <br>
Use directory as user home.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private=/home/netblue/firefox-home firefox</p>

<p style="margin-top: 1em">--private-home=file,directory
<br>
Build a new user home in a temporary filesystem, and copy
the files and directories in the list in the new home. All
modifications are discarded when the sandbox is <br>
closed.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private-home=.mozilla firefox</p>

<p style="margin-top: 1em">--private-bin=file,file <br>
Build a new /bin in a temporary filesystem, and copy the
programs in the list. If no listed file is found, /bin
directory will be empty. The same directory is also bind-
<br>
mounted over /sbin, /usr/bin, /usr/sbin and /usr/local/bin.
All modifications are discarded when the sandbox is
closed.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private-bin=bash,sed,ls,cat <br>
Parent pid 20841, child pid 20842 <br>
Child process initialized <br>
$ ls /bin <br>
bash cat ls sed</p>

<p style="margin-top: 1em">--private-dev <br>
Create a new /dev directory. Only dri, null, full, zero,
tty, pts, ptmx, random, snd, urandom, log and shm devices
are available.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private-dev <br>
Parent pid 9887, child pid 9888 <br>
Child process initialized <br>
$ ls /dev <br>
dri full log null ptmx pts random shm snd tty urandom zero
<br>
$</p>

<p style="margin-top: 1em">--private-etc=file,directory
<br>
Build a new /etc in a temporary filesystem, and copy the
files and directories in the list. If no listed file is
found, /etc directory will be empty. All modifications <br>
are discarded when the sandbox is closed.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private-etc=group,hostname,localtime,
nsswitch.conf,passwd,resolv.conf</p>

<p style="margin-top: 1em">--private-tmp <br>
Mount an empty temporary filesystem on top of /tmp
directory.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --private-tmp</p>

<p style="margin-top: 1em">--profile=filename <br>
Load a custom security profile from filename. For filename
use an absolute path or a path relative to the current path.
For more information, see SECURITY PROFILES sec&acirc; <br>
tion below.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --profile=myprofile</p>

<p style="margin-top: 1em">--profile-path=directory <br>
Use this directory to look for profile files. Use an
absolute path or a path in the home directory starting with
~/. For more information, see SECURITY PROFILES section <br>
below and RELOCATING PROFILE FILES in man 5
firejail-profile.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --profile-path=~/myprofiles <br>
$ firejail --profile-path=/home/netblue/myprofiles</p>


<p style="margin-top: 1em">--protocol=protocol,protocol,protocol
<br>
Enable protocol filter. The filter is based on seccomp and
checks the first argument to socket system call. Recognized
values: unix, inet, inet6, netlink and packet. This <br>
option is not supported for i386 architecture.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --protocol=unix,inet,inet6 firefox</p>

<p style="margin-top: 1em">--protocol.print=name|pid <br>
Print the protocol filter for the sandbox identified by name
or PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mybrowser firefox &amp; <br>
$ firejail --protocol.print=mybrowser <br>
unix,inet,inet6,netlink</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --protocol.print=3272 <br>
unix,inet,inet6,netlink</p>

<p style="margin-top: 1em">--put=name|pid src-filename
dest-filename <br>
Put a file in sandbox container, see FILE TRANSFER section
for more details.</p>

<p style="margin-top: 1em">--quiet <br>
Turn off Firejail&rsquo;s output.</p>

<p style="margin-top: 1em">--read-only=dirname_or_filename
<br>
Set directory or file read-only.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --read-only=~/.mozilla firefox</p>

<p style="margin-top: 1em">A short note about mixing
--whitelist and --read-only options. Whitelisted directories
should be made read-only independently. Making a parent
directory read-only, will <br>
not make the whitelist read-only. Example:</p>

<p style="margin-top: 1em">$ firejail --whitelist=~/work
--read-only=~ --read-only=~/work</p>


<p style="margin-top: 1em">--read-write=dirname_or_filename
<br>
Set directory or file read-write. Only files or directories
belonging to the current user are allowed for this
operation. Example:</p>

<p style="margin-top: 1em">$ mkdir ~/test <br>
$ touch ~/test/a <br>
$ firejail --read-only=~/test --read-write=~/test/a</p>

<p style="margin-top: 1em">--rlimit-fsize=number <br>
Set the maximum file size that can be created by a
process.</p>

<p style="margin-top: 1em">--rlimit-nofile=number <br>
Set the maximum number of files that can be opened by a
process.</p>

<p style="margin-top: 1em">--rlimit-nproc=number <br>
Set the maximum number of processes that can be created for
the real user ID of the calling process.</p>

<p style="margin-top: 1em">--rlimit-sigpending=number <br>
Set the maximum number of pending signals for a process.</p>

<p style="margin-top: 1em">--rmenv=name <br>
Remove environment variable in the new sandbox.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --rmenv=DBUS_SESSION_BUS_ADDRESS</p>

<p style="margin-top: 1em">--scan ARP-scan all the networks
from inside a network namespace. This makes it possible to
detect macvlan kernel device drivers running on the current
host.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=eth0 --scan</p>

<p style="margin-top: 1em">--seccomp <br>
Enable seccomp filter and blacklist the syscalls in the
default list. The default list is as follows: mount,
umount2, ptrace, kexec_load, kexec_file_load,
name_to_han&acirc; <br>
dle_at, open_by_handle_at, create_module, init_module,
finit_module, delete_module, iopl, ioperm, ioprio_set,
swapon, swapoff, syslog, process_vm_readv,
process_vm_writev, <br>
sysfs,_sysctl, adjtimex, clock_adjtime, lookup_dcookie,
perf_event_open, fanotify_init, kcmp, add_key, request_key,
keyctl, uselib, acct, modify_ldt, pivot_root, io_setup, <br>
io_destroy, io_getevents, io_submit, io_cancel,
remap_file_pages, mbind, get_mempolicy, set_mempolicy,
migrate_pages, move_pages, vmsplice, chroot, tuxcall,
reboot, <br>
mfsservctl and get_kernel_syms.</p>

<p style="margin-top: 1em">System architecture is not
strictly imposed. The filter is applied at run time only if
the correct architecture was detected. For the case of I386
and AMD64 both 32-bit <br>
and 64-bit filters are installed.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --seccomp</p>


<p style="margin-top: 1em">--seccomp=syscall,syscall,syscall
<br>
Enable seccomp filter, blacklist the default list and the
syscalls specified by the command.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --seccomp=utime,utimensat,utimes firefox</p>


<p style="margin-top: 1em">--seccomp.drop=syscall,syscall,syscall
<br>
Enable seccomp filter, and blacklist the syscalls specified
by the command.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --seccomp.drop=utime,utimensat,utimes</p>


<p style="margin-top: 1em">--seccomp.keep=syscall,syscall,syscall
<br>
Enable seccomp filter, and whitelist the syscalls specified
by the command.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --shell=none --seccomp.keep=poll,select,[...]
transmission-gtk</p>


<p style="margin-top: 1em">--seccomp.&lt;errno&gt;=syscall,syscall,syscall
<br>
Enable seccomp filter, and return errno for the syscalls
specified by the command.</p>

<p style="margin-top: 1em">Example: a Bash shell where
deleting files is disabled</p>

<p style="margin-top: 1em">$ firejail
--seccomp.eperm=unlinkat <br>
Parent pid 10662, child pid 10663 <br>
Child process initialized <br>
$ touch testfile <br>
$ rm testfile <br>
rm: cannot remove &lsquo;testfile&rsquo;: Operation not
permitted</p>

<p style="margin-top: 1em">--seccomp.print=name|PID <br>
Print the seccomp filter for the sandbox identified by name
or PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=browser firefox &amp; <br>
$ firejail --seccomp.print=browser <br>
SECCOMP Filter: <br>
VALIDATE_ARCHITECTURE <br>
EXAMINE_SYSCALL <br>
BLACKLIST 165 mount <br>
BLACKLIST 166 umount2 <br>
BLACKLIST 101 ptrace <br>
BLACKLIST 246 kexec_load <br>
BLACKLIST 304 open_by_handle_at <br>
BLACKLIST 175 init_module <br>
BLACKLIST 176 delete_module <br>
BLACKLIST 172 iopl <br>
BLACKLIST 173 ioperm <br>
BLACKLIST 167 swapon <br>
BLACKLIST 168 swapoff <br>
BLACKLIST 103 syslog <br>
BLACKLIST 310 process_vm_readv <br>
BLACKLIST 311 process_vm_writev <br>
BLACKLIST 133 mknod <br>
BLACKLIST 139 sysfs <br>
BLACKLIST 156 _sysctl <br>
BLACKLIST 159 adjtimex <br>
BLACKLIST 305 clock_adjtime <br>
BLACKLIST 212 lookup_dcookie <br>
BLACKLIST 298 perf_event_open <br>
BLACKLIST 300 fanotify_init <br>
RETURN_ALLOW <br>
$</p>

<p style="margin-top: 1em">--shell=none <br>
Run the program directly, without a user shell.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --shell=none script.sh</p>

<p style="margin-top: 1em">--shell=program <br>
Set default user shell. Use this shell to run the
application using -c shell option. For example
&quot;firejail --shell=/bin/dash firefox&quot; will start
Mozilla Firefox as <br>
&quot;/bin/dash -c firefox&quot;. By default Bash shell
(/bin/bash) is used. Options such as --zsh and --csh can
also set the default shell.</p>

<p style="margin-top: 1em">Example: $firejail
--shell=/bin/dash script.sh</p>

<p style="margin-top: 1em">--shutdown=name|PID <br>
Shutdown the sandbox identified by name or PID.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mygame --caps.drop=all warzone2100 &amp;
<br>
$ firejail --shutdown=mygame</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --list <br>
3272:netblue:firejail --private firefox <br>
$ firejail --shutdown=3272</p>

<p style="margin-top: 1em">--tmpfs=dirname <br>
Mount a tmpfs filesystem on directory dirname. This option
is available only when running the sandbox as root.</p>

<p style="margin-top: 1em">Example: <br>
# firejail --tmpfs=/var</p>

<p style="margin-top: 1em">--top Monitor the most
CPU-intensive sandboxes, see MONITORING section for more
details.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --top</p>

<p style="margin-top: 1em">--trace <br>
Trace open, access and connect system calls.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --trace wget -q www.debian.org <br>
Parent pid 11793, child pid 11794 <br>
Child process initialized <br>
1:bash:open /dev/tty <br>
1:wget:fopen64 /etc/wgetrc <br>
1:wget:fopen /etc/hosts <br>
1:wget:socket AF_INET SOCK_DGRAM IPPROTO_IP <br>
1:wget:connect 8.8.8.8:53 <br>
1:wget:socket AF_INET SOCK_STREAM IPPROTO_IP <br>
1:wget:connect 140.211.15.34:80 <br>
1:wget:fopen64 index.html.1</p>

<p style="margin-top: 1em">parent is shutting down,
bye...</p>

<p style="margin-top: 1em">--tracelog <br>
This option enables auditing blacklisted files and
directories. A message is sent to syslog in case the file or
the directory is accessed.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --tracelog firefox</p>

<p style="margin-top: 1em">Sample messages: <br>
$ sudo tail -f /var/log/syslog <br>
[...] <br>
Dec 3 11:43:25 debian firejail[70]: blacklist violation -
sandbox 26370, exe firefox, syscall open64, path /etc/shadow
<br>
Dec 3 11:46:17 debian firejail[70]: blacklist violation -
sandbox 26370, exe firefox, syscall opendir, path /boot <br>
[...]</p>

<p style="margin-top: 1em">--tree Print a tree of all
sandboxed processes, see MONITORING section for more
details.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --tree <br>
11903:netblue:firejail iceweasel <br>
11904:netblue:iceweasel <br>
11957:netblue:/usr/lib/iceweasel/plugin-container <br>
11969:netblue:firejail --net=eth0 transmission-gtk <br>
11970:netblue:transmission-gtk</p>

<p style="margin-top: 1em">--version <br>
Print program version and exit.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --version <br>
firejail version 0.9.27</p>

<p style="margin-top: 1em">--veth-name=name <br>
Use this name for the interface connected to the bridge for
--net=bridge_interface commands, instead of the default
one.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --net=br0 --veth-name=if0</p>

<p style="margin-top: 1em">--whitelist=dirname_or_filename
<br>
Whitelist directory or file. A temporary file system is
mounted on the top directory, and the whitelisted files are
mount-binded inside. Modifications to whitelisted files <br>
are persistent, everything else is discarded when the
sandbox is closed. The top directory could be user home,
/dev, /media, /mnt, /opt, /srv, /var, and /tmp.</p>

<p style="margin-top: 1em">Symbolic link handling: with the
exception of user home, both the link and the real file
should be in the same top directory. For user home, both the
link and the real <br>
file should be owned by the user.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --noprofile --whitelist=~/.mozilla <br>
$ firejail --whitelist=/tmp/.X11-unix --whitelist=/dev/null
<br>
$ firejail &quot;--whitelist=/home/username/My Virtual
Machines&quot;</p>

<p style="margin-top: 1em">--writable-etc <br>
Mount /etc directory read-write.</p>

<p style="margin-top: 1em">Example: <br>
$ sudo firejail --writable-etc</p>

<p style="margin-top: 1em">--writable-var <br>
Mount /var directory read-write.</p>

<p style="margin-top: 1em">Example: <br>
$ sudo firejail --writable-var</p>

<p style="margin-top: 1em">--x11 Sandbox the application
using Xpra, Xephyr or Xorg security extension. The sandbox
will prevents screenshot and keylogger applications started
inside the sandbox from <br>
accessing clients running outside the sandbox. Firejail will
try first Xpra, and if Xpra is not installed on the system,
it will try to find Xephyr. If all fails, Fire&acirc; <br>
jail will not attempt to use X11 security extension.</p>

<p style="margin-top: 1em">Xpra and Xephyr modes require a
network namespace to be instantiated in order to disable X11
abstract Unix socket. If this is not possible, the user can
disable the <br>
abstract socket by adding &quot;-nolisten local&quot; on
Xorg command line.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --x11 --net=eth0 firefox</p>

<p style="margin-top: 1em">--x11=none <br>
Blacklist /tmp/.X11-unix directory, ${HOME}/.Xauthority and
the file specified in ${XAUTHORITY} environment variable.
Remove DISPLAY and XAUTHORITY environment variables. <br>
Stop with error message if X11 abstract socket will be
accessible in jail.</p>

<p style="margin-top: 1em">--x11=xephyr <br>
Start Xephyr and attach the sandbox to this server. Xephyr
is a display server implementing the X11 display server
protocol. A network namespace needs to be instantiated <br>
in order to deny access to X11 abstract Unix domain
socket.</p>

<p style="margin-top: 1em">Xephyr runs in a window just
like any other X11 application. The default window size is
800x600. This can be modified in
/etc/firejail/firejail.config file.</p>

<p style="margin-top: 1em">The recommended way to use this
feature is to run a window manager inside the sandbox. A
security profile for OpenBox is provided.</p>

<p style="margin-top: 1em">Xephyr is developed by Xorg
project. On Debian platforms it is installed with the
command sudo apt-get install xserver-xephyr. This feature is
not available when running <br>
as root.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --x11=xephyr --net=eth0 openbox</p>

<p style="margin-top: 1em">--x11=xorg <br>
Sandbox the application using the untrusted mode implemented
by X11 security extension. The extension is available in
Xorg package and it is installed by default on most <br>
Linux distributions. It provides support for a simple
trusted/untrusted connection model. Untrusted clients are
restricted in certain ways to prevent them from reading <br>
window contents of other clients, stealing input events,
etc.</p>

<p style="margin-top: 1em">The untrusted mode has several
limitations. A lot of regular programs assume they are a
trusted X11 clients and will crash or lock up when run in
untrusted mode. Chromium <br>
browser and xterm are two examples. Firefox and
transmission-gtk seem to be working fine. A network
namespace is not required for this option.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --x11=xorg firefox</p>

<p style="margin-top: 1em">--x11=xpra <br>
Start Xpra (http://xpra.org) and attach the sandbox to this
server. Xpra is a persistent remote display server and
client for forwarding X11 applications and desktop <br>
screens. A network namespace needs to be instantiated in
order to deny access to X11 abstract Unix domain socket.</p>

<p style="margin-top: 1em">On Debian platforms Xpra is
installed with the command sudo apt-get install xpra. This
feature is not available when running as root.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --x11=xpra --net=eth0 firefox</p>

<p style="margin-top: 1em">--zsh Use /usr/bin/zsh as
default user shell.</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --zsh</p>

<p style="margin-top: 1em">DESKTOP INTEGRATION <br>
A symbolic link to /usr/bin/firejail under the name of a
program, will start the program in Firejail sandbox. The
symbolic link should be placed in the first $PATH position.
On <br>
most systems, a good place is /usr/local/bin directory.
Example:</p>

<p style="margin-top: 1em">Make a firefox symlink to
/usr/bin/firejail:</p>

<p style="margin-top: 1em">$ ln -s /usr/bin/firejail
/usr/local/bin/firefox</p>

<p style="margin-top: 1em">Verify $PATH</p>

<p style="margin-top: 1em">$ which -a firefox <br>
/usr/local/bin/firefox <br>
/usr/bin/firefox</p>

<p style="margin-top: 1em">Starting firefox in this moment,
automatically invokes &acirc;firejail firefox&acirc;.</p>

<p style="margin-top: 1em">This works for clicking on
desktop environment icons, menus etc. Use &quot;firejail
--tree&quot; to verify the program is sandboxed.</p>

<p style="margin-top: 1em">$ firejail --tree <br>
1189:netblue:firejail firefox <br>
1190:netblue:firejail firefox <br>
1220:netblue:/bin/sh -c &quot;/usr/lib/firefox/firefox&quot;
<br>
1221:netblue:/usr/lib/firefox/firefox</p>

<p style="margin-top: 1em">APPARMOR <br>
AppArmor support is disabled by default at compile time. Use
--enable-apparmor configuration option to enable it:</p>

<p style="margin-top: 1em">$ ./configure --prefix=/usr
--enable-apparmor</p>

<p style="margin-top: 1em">During software install, a
generic AppArmor profile file, firejail-default, is placed
in /etc/apparmor.d directory. The profile needs to be loaded
into the kernel by running the <br>
following command as root:</p>

<p style="margin-top: 1em"># aa-enforce
firejail-default</p>

<p style="margin-top: 1em">The installed profile tries to
replicate some advanced security features inspired by
kernel-based Grsecurity:</p>

<p style="margin-top: 1em">- Prevent information leakage in
/proc and /sys directories. The resulting filesystem is
barely enough for running commands such as &quot;top&quot;
and &quot;ps aux&quot;.</p>

<p style="margin-top: 1em">- Allow running programs only
from well-known system paths, such as /bin, /sbin, /usr/bin
etc. Running programs and scripts from user home or other
directories writable by <br>
the user is not allowed.</p>

<p style="margin-top: 1em">- Disable D-Bus. D-Bus has long
been a huge security hole, and most programs don&rsquo;t use
it anyway. You should have no problems running Chromium or
Firefox.</p>

<p style="margin-top: 1em">To enable AppArmor confinement
on top of your current Firejail security features, pass
--apparmor flag to Firejail command line. You can also
include apparmor command in a Fire&acirc; <br>
jail profile file. Example:</p>

<p style="margin-top: 1em">$ firejail --apparmor
firefox</p>

<p style="margin-top: 1em">FILE TRANSFER <br>
These features allow the user to inspect the filesystem
container of an existing sandbox and transfer files from the
container to the host filesystem.</p>

<p style="margin-top: 1em">--get=name|pid filename <br>
Retrieve the container file and store it on the host in the
current working directory. The container is specified by
name or PID. This option is not available for sand&acirc;
<br>
boxes using --chroot.</p>

<p style="margin-top: 1em">--ls=name|pid dir_or_filename
<br>
List container files. The container is specified by name or
PID.</p>

<p style="margin-top: 1em">--put=name|pid src-filename
dest-filename <br>
Put src-filename in sandbox container. The container is
specified by name or PID. This option is not available for
sandboxes using --chroot.</p>

<p style="margin-top: 1em">Examples:</p>

<p style="margin-top: 1em">$ firejail --name=mybrowser
--private firefox</p>

<p style="margin-top: 1em">$ firejail --ls=mybrowser
~/Downloads <br>
drwxr-xr-x netblue netblue 4096 . <br>
drwxr-xr-x netblue netblue 4096 .. <br>
-rw-r--r-- netblue netblue 7847 x11-x305.png <br>
-rw-r--r-- netblue netblue 6800 x11-x642.png <br>
-rw-r--r-- netblue netblue 34139 xpra-clipboard.png</p>

<p style="margin-top: 1em">$ firejail --get=mybrowser
~/Downloads/xpra-clipboard.png</p>

<p style="margin-top: 1em">$ firejail --put=mybrowser
xpra-clipboard.png ~/Downloads/xpra-clipboard.png</p>

<p style="margin-top: 1em">TRAFFIC SHAPING <br>
Network bandwidth is an expensive resource shared among all
sandboxes running on a system. Traffic shaping allows the
user to increase network performance by controlling the <br>
amount of data that flows into and out of the sandboxes.</p>

<p style="margin-top: 1em">Firejail implements a simple
rate-limiting shaper based on Linux command tc. The shaper
works at sandbox level, and can be used only for sandboxes
configured with new network <br>
namespaces.</p>

<p style="margin-top: 1em">Set rate-limits:</p>

<p style="margin-top: 1em">$ firejail --bandwidth=name|pid
set network download upload</p>

<p style="margin-top: 1em">Clear rate-limits:</p>

<p style="margin-top: 1em">$ firejail --bandwidth=name|pid
clear network</p>

<p style="margin-top: 1em">Status:</p>

<p style="margin-top: 1em">$ firejail --bandwidth=name|pid
status</p>

<p style="margin-top: 1em">where: <br>
name - sandbox name <br>
pid - sandbox pid <br>
network - network interface as used by --net option <br>
download - download speed in KB/s (kilobyte per second) <br>
upload - upload speed in KB/s (kilobyte per second)</p>

<p style="margin-top: 1em">Example: <br>
$ firejail --name=mybrowser --net=eth0 firefox &amp; <br>
$ firejail --bandwidth=mybrowser set eth0 80 20 <br>
$ firejail --bandwidth=mybrowser status <br>
$ firejail --bandwidth=mybrowser clear eth0</p>

<p style="margin-top: 1em">AUDIT <br>
Audit feature allows the user to point out gaps in security
profiles. The implementation replaces the program to be
sandboxed with a test program. By default, we use faudit
pro&acirc; <br>
gram distributed with Firejail. A custom test program can
also be supplied by the user. Examples:</p>

<p style="margin-top: 1em">Running the default audit
program: <br>
$ firejail --audit transmission-gtk</p>

<p style="margin-top: 1em">Running a custom audit program:
<br>
$ firejail --audit=~/sandbox-test transmission-gtk</p>

<p style="margin-top: 1em">In the examples above, the
sandbox configures transmission-gtk profile and starts the
test program. The real program, transmission-gtk, will not
be started.</p>

<p style="margin-top: 1em">Limitations: audit feature is
not implemented for --x11 commands.</p>

<p style="margin-top: 1em">MONITORING <br>
Option --list prints a list of all sandboxes. The format for
each process entry is as follows:</p>

<p style="margin-top: 1em">PID:USER:Command</p>

<p style="margin-top: 1em">Option --tree prints the tree of
processes running in the sandbox. The format for each
process entry is as follows:</p>

<p style="margin-top: 1em">PID:USER:Command</p>

<p style="margin-top: 1em">Option --top is similar to the
UNIX top command, however it applies only to sandboxes.</p>

<p style="margin-top: 1em">Option --netstats prints network
statistics for active sandboxes installing new network
namespaces.</p>

<p style="margin-top: 1em">Listed below are the available
fields (columns) in alphabetical order for --top and
--netstat options:</p>

<p style="margin-top: 1em">Command <br>
Command used to start the sandbox.</p>

<p style="margin-top: 1em">CPU% CPU usage, the sandbox
share of the elapsed CPU time since the last screen
update</p>

<p style="margin-top: 1em">PID Unique process ID for the
task controlling the sandbox.</p>

<p style="margin-top: 1em">Prcs Number of processes running
in sandbox, including the controlling process.</p>

<p style="margin-top: 1em">RES Resident Memory Size (KiB),
sandbox non-swapped physical memory. It is a sum of the RES
values for all processes running in the sandbox.</p>

<p style="margin-top: 1em">RX(KB/s) <br>
Network receive speed.</p>

<p style="margin-top: 1em">SHR Shared Memory Size (KiB), it
reflects memory shared with other processes. It is a sum of
the SHR values for all processes running in the sandbox,
including the controlling <br>
process.</p>

<p style="margin-top: 1em">TX(KB/s) <br>
Network transmit speed.</p>

<p style="margin-top: 1em">Uptime Sandbox running time in
hours:minutes:seconds format.</p>

<p style="margin-top: 1em">User The owner of the
sandbox.</p>

<p style="margin-top: 1em">SECURITY PROFILES <br>
Several command line options can be passed to the program
using profile files. Firejail chooses the profile file as
follows:</p>

<p style="margin-top: 1em">1. If a profile file is provided
by the user with --profile option, the profile file is
loaded. Example:</p>

<p style="margin-top: 1em">$ firejail
--profile=/home/netblue/icecat.profile icecat <br>
Reading profile /home/netblue/icecat.profile <br>
[...]</p>

<p style="margin-top: 1em">2. If a profile file with the
same name as the application is present in
~/.config/firejail directory or in /etc/firejail, the
profile is loaded. ~/.config/firejail takes prece&acirc;
<br>
dence over /etc/firejail. Example:</p>

<p style="margin-top: 1em">$ firejail icecat <br>
Command name #icecat# <br>
Found icecat profile in /home/netblue/.config/firejail
directory <br>
Reading profile
/home/netblue/.config/firejail/icecat.profile <br>
[...]</p>

<p style="margin-top: 1em">3. Use default.profile file if
the sandbox is started by a regular user, or server.profile
file if the sandbox is started by root. Firejail looks for
these files in ~/.con&acirc; <br>
fig/firejail directory, followed by /etc/firejail directory.
To disable default profile loading, use --noprofile command
option. Example:</p>

<p style="margin-top: 1em">$ firejail <br>
Reading profile /etc/firejail/default.profile <br>
Parent pid 8553, child pid 8554 <br>
Child process initialized <br>
[...]</p>

<p style="margin-top: 1em">$ firejail --noprofile <br>
Parent pid 8553, child pid 8554 <br>
Child process initialized <br>
[...]</p>

<p style="margin-top: 1em">See man 5 firejail-profile for
profile file syntax information.</p>

<p style="margin-top: 1em">RESTRICTED SHELL <br>
To configure a restricted shell, replace /bin/bash with
/usr/bin/firejail in /etc/passwd file for each user that
needs to be restricted. Alternatively, you can specify <br>
/usr/bin/firejail in adduser command:</p>

<p style="margin-top: 1em">adduser --shell
/usr/bin/firejail username</p>

<p style="margin-top: 1em">Additional arguments passed to
firejail executable upon login are declared in
/etc/firejail/login.users file.</p>

<p style="margin-top: 1em">EXAMPLES <br>
firejail <br>
Sandbox a regular /bin/bash session.</p>

<p style="margin-top: 1em">firejail firefox <br>
Start Mozilla Firefox.</p>

<p style="margin-top: 1em">firejail --debug firefox <br>
Debug Firefox sandbox.</p>

<p style="margin-top: 1em">firejail --private firefox <br>
Start Firefox with a new, empty home directory.</p>

<p style="margin-top: 1em">firejail --net=none vlc <br>
Start VLC in an unconnected network namespace.</p>

<p style="margin-top: 1em">firejail --net=eth0 firefox <br>
Start Firefox in a new network namespace. An IP address is
assigned automatically.</p>

<p style="margin-top: 1em">firejail --net=br0
--ip=10.10.20.5 --net=br1 --net=br2 <br>
Start a /bin/bash session in a new network namespace and
connect it to br0, br1, and br2 host bridge devices. IP
addresses are assigned automatically for the interfaces <br>
connected to br1 and b2</p>

<p style="margin-top: 1em">firejail --list <br>
List all sandboxed processes.</p>

<p style="margin-top: 1em">LICENSE <br>
This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
<br>
version 2 of the License, or (at your option) any later
version.</p>

<p style="margin-top: 1em">Homepage:
http://firejail.wordpress.com</p>

<p style="margin-top: 1em">SEE ALSO <br>
firemon(1), firecfg(1), firejail-profile(5),
firejail-login(5)</p>

<p style="margin-top: 1em">0.9.44.8 Jan 2017
FIREJAIL(1)</p>
<hr>
</body>
</html>
