<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 15:57:34 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>cback-amazons3-sync(1) Kenneth J. Pronovici
cback-amazons3-sync(1)</p>

<p style="margin-top: 1em">NAME <br>
cback-amazons3-sync - Synchronize a local directory with an
Amazon S3 bucket</p>

<p style="margin-top: 1em">SYNOPSIS <br>
cback-amazons3-sync [switches] sourceDir s3BucketUrl</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This is the Cedar Backup 2 Amazon S3 sync tool. It
synchronizes a local directory to an Amazon S3 cloud storage
bucket. After the sync is complete, a validation step is
taken. <br>
An error is reported if the contents of the bucket do not
match the source directory, or if the indicated size for any
file differs.</p>

<p style="margin-top: 1em">Generally, one can run the
cback-amazons3-sync command with no special switches. This
will start it using the default Cedar Backup log file, etc.
You only need to use the <br>
switches if you need to change the default behavior.</p>

<p style="margin-top: 1em">MIGRATING FROM VERSION 2 TO
VERSION 3 <br>
The main difference between Cedar Backup version 2 and Cedar
Backup version 3 is the targeted Python interpreter. For
most users, migration should be straightforward. See the
<br>
discussion found at cback(1) or reference the Cedar Backup
user guide.</p>

<p style="margin-top: 1em">ARGUMENTS <br>
sourceDir <br>
The source directory on a local disk.</p>

<p style="margin-top: 1em">s3BucketUrl <br>
The URL specifying the location of the Amazon S3 cloud
storage bucket to synchronize with, like
s3://example.com-backup/subdir.</p>

<p style="margin-top: 1em">SWITCHES <br>
-h, --help <br>
Display usage/help listing.</p>

<p style="margin-top: 1em">-V, --version <br>
Display version information.</p>

<p style="margin-top: 1em">-b, --verbose <br>
Print verbose output to the screen as well writing to the
logfile. When this option is enabled, most information that
would normally be written to the logfile will also be <br>
written to the screen.</p>

<p style="margin-top: 1em">-l, --logfile <br>
Specify the path to an alternate logfile. The default
logfile file is /var/log/cback.log.</p>

<p style="margin-top: 1em">-o, --owner <br>
Specify the ownership of the logfile, in the form
user:group. The default ownership is root:adm, to match the
Debian standard for most logfiles. This value will only be
<br>
used when creating a new logfile. If the logfile already
exists when the cback script is executed, it will retain its
existing ownership and mode. Only user and group <br>
names may be used, not numeric uid and gid values.</p>

<p style="margin-top: 1em">-m, --mode <br>
Specify the permissions for the logfile, using the numeric
mode as in chmod(1). The default mode is 640 (-rw-r-----).
This value will only be used when creating a new <br>
logfile. If the logfile already exists when the cback script
is executed, it will retain its existing ownership and
mode.</p>

<p style="margin-top: 1em">-O, --output <br>
Record some sub-command output to the logfile. When this
option is enabled, all output from system commands will be
logged. This might be useful for debugging or just for <br>
reference.</p>

<p style="margin-top: 1em">-d, --debug <br>
Write debugging information to the logfile. This option
produces a high volume of output, and would generally only
be needed when debugging a problem. This option implies <br>
the --output option, as well.</p>

<p style="margin-top: 1em">-s, --stack <br>
Dump a Python stack trace instead of swallowing exceptions.
This forces Cedar Backup to dump the entire Python stack
trace associated with an error, rather than just pro&acirc;
<br>
gating last message it received back up to the user
interface. Under some circumstances, this is useful
information to include along with a bug report.</p>

<p style="margin-top: 1em">-D, --diagnostics <br>
Display runtime diagnostic information and then exit. This
diagnostic information is often useful when filing a bug
report.</p>

<p style="margin-top: 1em">RETURN VALUES <br>
This command returns 0 (zero) upon normal completion, and
several other error codes related to particular errors.</p>

<p style="margin-top: 1em">1 The Python interpreter version
is &lt; 2.7.</p>

<p style="margin-top: 1em">2 Error processing command-line
arguments.</p>

<p style="margin-top: 1em">3 Error configuring logging.</p>

<p style="margin-top: 1em">5 Backup was interrupted with a
CTRL-C or similar.</p>

<p style="margin-top: 1em">6 Other error during
processing.</p>

<p style="margin-top: 1em">NOTES <br>
This tool is a wrapper over the Amazon AWS CLI interface
found in the aws(1) command. Specifically,
cback-amazons3-sync invokes &quot;aws s3 sync&quot; followed
by &quot;aws s3api <br>
list-objects&quot;.</p>

<p style="margin-top: 1em">Cedar Backup itself is designed
to run as root. However, cback-amazons3-sync can be run
safely as any user that is configured to use the Amazon AWS
CLI interface. The aws(1) <br>
command will be executed by the same user which is executing
cback-amazons3-sync.</p>

<p style="margin-top: 1em">You must configure the AWS CLI
interface to have a valid connection to Amazon S3
infrastructure before using cback-amazons3-sync. For more
information about how to accomplish <br>
this, see the Cedar Backup user guide.</p>

<p style="margin-top: 1em">SEE ALSO <br>
cback(1)</p>

<p style="margin-top: 1em">FILES <br>
/var/log/cback.log - Default log file</p>

<p style="margin-top: 1em">URLS <br>
The project homepage is:
https://bitbucket.org/cedarsolutions/cedar-backup2</p>

<p style="margin-top: 1em">BUGS <br>
If you find a bug, please report it.</p>

<p style="margin-top: 1em">If possible, give me the output
from --diagnostics, all of the error messages that the
script printed into its log, and also any stack-traces
(exceptions) that Python printed. <br>
It would be even better if you could tell me how to
reproduce the problem, for instance by sending me your
configuration file.</p>

<p style="margin-top: 1em">Report bugs to
&lt;support@cedar-solutions.com&gt; or by using the
BitBucket issue tracker.</p>

<p style="margin-top: 1em">AUTHOR <br>
Written and maintained by Kenneth J. Pronovici
&lt;pronovic@ieee.org&gt; with contributions from
others.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (c) 2004-2011,2013-2015 Kenneth J. Pronovici.</p>

<p style="margin-top: 1em">This is free software; see the
source for copying conditions. There is NO warranty; not
even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE.</p>

<p style="margin-top: 1em">Cedar Backup 2 July 2015
cback-amazons3-sync(1)</p>
<hr>
</body>
</html>
