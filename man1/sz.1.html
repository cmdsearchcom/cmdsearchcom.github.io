<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>SZ(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SZ(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">SZ(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
sx, sb, sz - XMODEM, YMODEM, ZMODEM file send
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
sz [-<b>+8abdefkLlNnopqTtuvyY</b>] <i>file ...</i>
<div>&#x00A0;</div>
sb [-<b>adfkqtuv</b>] <i>file ...</i>
<div>&#x00A0;</div>
sx [-<b>akqtuv</b>] <i>file</i>
<div>&#x00A0;</div>
sz [-<b>oqtv</b>] <b>-c COMMAND</b>
<div>&#x00A0;</div>
sz [-<b>oqtv</b>] <b>-i COMMAND</b>
<div>&#x00A0;</div>
sz -TT
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Sz</b> uses the ZMODEM, YMODEM or XMODEM error correcting protocol to send
  one or more files over a dial-in serial port to a variety of programs running
  under PC-DOS, CP/M, Unix, VMS, and other operating systems.
<div style="height: 1.00em;">&#x00A0;</div>
While <i>rz</i> is smart enough to be called from <i>cu(1),</i> very few
  versions of <i>cu(1)</i> are smart enough to allow <i>sz</i> to work properly.
  Unix flavors of Professional-YAM are available for such dial-out application.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Sz</b> sends one or more files with ZMODEM protocol.
<div style="height: 1.00em;">&#x00A0;</div>
ZMODEM greatly simplifies file transfers compared to XMODEM. In addition to a
  friendly user interface, ZMODEM provides Personal Computer and other users an
  efficient, accurate, and robust file transfer method.
<div style="height: 1.00em;">&#x00A0;</div>
ZMODEM provides complete <b>END-TO-END</b> data integrity between application
  programs. ZMODEM's 32 bit CRC catches errors that sneak into even the most
  advanced networks.
<div style="height: 1.00em;">&#x00A0;</div>
Advanced file management features include AutoDownload (Automatic file Download
  initiated without user intervention), Display of individual and total file
  lengths and transmission time estimates, Crash Recovery, selective file
  transfers, and preservation of exact file date and length.
<div style="height: 1.00em;">&#x00A0;</div>
Output from another program may be piped to <b>sz</b> for transmission by
  denoting standard input with &quot;-&quot;:
<div>&#x00A0;</div>
ls -l | sz -
<div>&#x00A0;</div>
The program output is transmitted with the filename sPID.sz where PID is the
  process ID of the <b>sz</b> program. If the environment variable <b>ONAME</b>
  is set, that is used instead. In this case, the Unix command:
<div>&#x00A0;</div>
ls -l | ONAME=con sz -ay -
<div>&#x00A0;</div>
will send a &quot;file&quot; to the PC-DOS console display. The <b>-y</b> option
  instructs the receiver to open the file for writing unconditionally. The
  <b>-a</b> option causes the receiver to convert Unix newlines to PC-DOS
  carriage returns and linefeeds.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Sb</b> batch sends one or more files with YMODEM or ZMODEM protocol. The
  initial ZMODEM initialization is not sent. When requested by the receiver,
  <b>sb</b> supports <b>YMODEM-g</b> with &quot;cbreak&quot; tty mode, XON/XOFF
  flow control, and interrupt character set to CAN (^X). <b>YMODEM-g</b>
  (Professional-YAM <b>g</b> option) increases throughput over error free
  channels (direct connection, X.PC, etc.) by not acknowledging each transmitted
  sector.
<div style="height: 1.00em;">&#x00A0;</div>
On <small>Unix</small> systems, additional information about the file is
  transmitted. If the receiving program uses this information, the transmitted
  file length controls the exact number of bytes written to the output dataset,
  and the modify time and file mode are set accordingly.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>Sx</b> sends a single <i>file</i> with <b>XMODEM</b> or <b>XMODEM-1k</b>
  protocol (sometimes incorrectly called &quot;ymodem&quot;). The user must
  supply the file name to both sending and receiving programs.
<div style="height: 1.00em;">&#x00A0;</div>
If <b>sz</b> is invoked with $SHELL set and if that variable contains the string
  <i>rsh</i> , <i>rbash</i> or <i>rksh</i> (restricted shell), <b>sz</b>
  operates in restricted mode. Restricted mode restricts pathnames to the
  current directory and PUBDIR (usually /usr/spool/uucppublic) and/or
  subdirectories thereof.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The fourth form sends a single COMMAND to a ZMODEM receiver for execution.
  <b>Sz</b> exits with the COMMAND return value. If COMMAND includes spaces or
  characters special to the shell, it must be quoted.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The fifth form sends a single COMMAND to a ZMODEM receiver for execution.
  <b>Sz</b> exits as soon as the receiver has correctly received the command,
  before it is executed.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
The sixth form (sz -TT) attempts to output all 256 code combinations to the
  terminal. In you are having difficulty sending files, this command lets you
  see which character codes are being eaten by the operating system.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
If <b>sz</b> is invoked with stdout and stderr to different datasets, Verbose is
  set to 2, causing frame by frame progress reports to stderr. This may be
  disabled with the <b>q</b> option.
<div class="Pp"></div>
The meanings of the available options are:
<div class="Pp"></div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-+, --append</b></dt>
  <dd class="It-tag">Instruct the receiver to append transmitted data to an
      existing file (ZMODEM only).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-2, --twostop</b></dt>
  <dd class="It-tag">use two stop bits (if possible). Do not use this unless you
      know what you are doing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-8, --try-8k</b></dt>
  <dd class="It-tag">Try to go up to 8KB blocksize. This is incompatible with
      standard zmodem, but a common extension in the bbs world. (ZMODEM
    only).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--start-8k</b></dt>
  <dd class="It-tag">Start with 8KB blocksize. Like --try-8k.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a, --ascii</b></dt>
  <dd class="It-tag">Convert NL characters in the transmitted file to CR/LF.
      This is done by the sender for XMODEM and YMODEM, by the receiver for
      ZMODEM.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b, --binary</b></dt>
  <dd class="It-tag">(ZMODEM) Binary override: transfer file without any
      translation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B NUMBER, --bufsize NUMBER</b></dt>
  <dd class="It-tag">Use a readbuffer of <b>NUMBER</b> bytes. Default is 16384,
      which should be enough for most situations. If you have a slow machine or
      a bad disk interface or suffer from other hardware problems you might want
      to increase the buffersize. <b>-1</b> or <b>auto</b> use a buffer large
      enough to buffer the whole file. Be careful with this option - things
      normally get worse, not better, if the machine starts to swap.
    <div style="height: 1.00em;">&#x00A0;</div>
    Using this option turns of memory mapping of the input file. This increases
      memory and CPU usage.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c COMMAND, --command COMMAND</b></dt>
  <dd class="It-tag">Send COMMAND to the receiver for execution, return with
      COMMAND&#x00B4;s exit status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C N, --command-tries N</b></dt>
  <dd class="It-tag">Retry to send command N times (default: 11).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d, --dot-to-slash</b></dt>
  <dd class="It-tag">Change all instances of &quot;.&quot; to &quot;/&quot; in
      the transmitted pathname. Thus, C.omenB0000 (which is unacceptable to
      MSDOS or CP/M) is transmitted as C/omenB0000. If the resultant filename
      has more than 8 characters in the stem, a &quot;.&quot; is inserted to
      allow a total of eleven.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option enables the <b>--full-path</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--delay-startup N</b></dt>
  <dd class="It-tag">Wait <b>N</b> seconds before doing anything.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e, --escape</b></dt>
  <dd class="It-tag">Escape all control characters; normally XON, XOFF, DLE,
      CR-@-CR, and Ctrl-X are escaped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Force the sender to rename the new file if a file with the
    same</dt>
  <dd class="It-tag">name already exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f, --full-path</b></dt>
  <dd class="It-tag">Send Full pathname. Normally directory prefixes are
      stripped from the transmitted filename.
    <div style="height: 1.00em;">&#x00A0;</div>
    This is also turned on with to <b>--dot-to-slash</b> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h, --help</b></dt>
  <dd class="It-tag">give help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i COMMAND, --immediate-command COMMAND</b></dt>
  <dd class="It-tag">Send COMMAND to the receiver for execution, return
      immediately upon the receiving program's successful reception of the
      command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k, --1k</b></dt>
  <dd class="It-tag">(XMODEM/YMODEM) Send files using 1024 byte blocks rather
      than the default 128 byte blocks. 1024 byte packets speed file transfers
      at high bit rates. (ZMODEM streams the data for the best possible
      throughput.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L N, --packetlen N</b></dt>
  <dd class="It-tag">Use ZMODEM sub-packets of length N. A larger N (32 &lt;= N
      &lt;= 1024) gives slightly higher throughput, a smaller N speeds error
      recovery. The default is 128 below 300 baud, 256 above 300 baud, or 1024
      above 2400 baud.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m N, --min-bps N</b></dt>
  <dd class="It-tag">Stop transmission if BPS-Rate (Bytes Per Second) falls
      below N for a certain time (see --min-bps-time option).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M N, --min-bps-time</b></dt>
  <dd class="It-tag">Used together with --min-bps. Default is 120
    (seconds).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l N, --framelen N</b></dt>
  <dd class="It-tag">Wait for the receiver to acknowledge correct data every
      <b>N</b> (32 &lt;= N &lt;= 1024) characters. This may be used to avoid
      network overrun when XOFF flow control is lacking.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n, --newer</b></dt>
  <dd class="It-tag">(ZMODEM) Send each file if destination file does not exist.
      Overwrite destination file if source file is newer than the destination
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N, --newer-or-longer</b></dt>
  <dd class="It-tag">(ZMODEM) Send each file if destination file does not exist.
      Overwrite destination file if source file is newer or longer than the
      destination file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o, --16-bit-crc</b></dt>
  <dd class="It-tag">(ZMODEM) Disable automatic selection of 32 bit CRC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O, --disable-timeouts</b></dt>
  <dd class="It-tag">Disable read timeout handling. This makes lsz hang if the
      other side doesn't send anything, but increases performance (not much) and
      decreases system load (reduces number of system calls by about 50
      percent).
    <div style="height: 1.00em;">&#x00A0;</div>
    Use this option with care.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p, --protect</b></dt>
  <dd class="It-tag">(ZMODEM) Protect existing destination files by skipping
      transfer if the destination file exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q, --quiet</b></dt>
  <dd class="It-tag">Quiet suppresses verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R, --restricted</b></dt>
  <dd class="It-tag">Restricted mode: restricts pathnames to the current
      directory and PUBDIR (usually /usr/spool/uucppublic) and/or subdirectories
      thereof.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r, --resume</b></dt>
  <dd class="It-tag">(ZMODEM) Resume interrupted file transfer. If the source
      file is longer than the destination file, the transfer commences at the
      offset in the source file that equals the length of the destination
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s HH:MM, --stop-at HH:MM</b></dt>
  <dd class="It-tag">Stop transmission at <b>HH</b> hours, <b>MM</b> minutes.
      Another variant, using <b>+N</b> instead of <b>HH:MM,</b> stops
      transmission in <b>N</b> seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S, --timesync</b></dt>
  <dd class="It-tag">enable timesync protocol support. See timesync.doc for
      further information.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option is incompatible with standard zmodem. Use it with care.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--syslog[=off]</b></dt>
  <dd class="It-tag">turn syslogging on or off. the default is set at configure
      time. This option is ignored if no syslog support is compiled in.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t TIM, --timeout TIM</b></dt>
  <dd class="It-tag">Change timeout to <i>TIM</i> tenths of seconds.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T, --turbo</b></dt>
  <dd class="It-tag">Do not escape certain characters (^P, ^P|0x80, telenet
      escape sequence [CR + @]). This improves performance by about 1 percent
      and shouldn't hurt in the normal case (but be careful - ^P might be useful
      if connected through a terminal server).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tcp</b></dt>
  <dd class="It-tag">Try to initiate a TCP/IP connection. lsz will ask the
      receiving zmodem to open a TCP/IP connection. All handshaking (which
      address / port to use) will be done by the zmodem programs.
    <div style="height: 1.00em;">&#x00A0;</div>
    You will normally not want to use this option as lrzsz is the only zmodem
      which understands what to do (private extension). You might want to use
      this option if the two programs are connected (stdin/out) over a slow or
      bad (not 8bit clean) network connection.
    <div style="height: 1.00em;">&#x00A0;</div>
    Use of this option imposes a security risk, somebody else could connect to
      the port in between. See <b>SECURITY</b> for details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tcp-client ADDRESS:PORT</b></dt>
  <dd class="It-tag">Act as a tcp/ip client: Connect to the given port.
    <div style="height: 1.00em;">&#x00A0;</div>
    See <b>--tcp-server</b> for more information.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tcp-server</b></dt>
  <dd class="It-tag">Act as a server: Open a socket, print out what to do, wait
      for connection.
    <div style="height: 1.00em;">&#x00A0;</div>
    You will normally not want to use this option as lrzsz is the only zmodem
      which understands what to do (private extension). You might want to use
      this if you have to use zmodem (for which reason whatever), and cannot use
      the <b>--tcp</b> option of <i>lsz</i> (perhaps because your telnet doesn't
      allow to spawn a local program with stdin/stdout connected to the remote
      side).
    <div style="height: 1.00em;">&#x00A0;</div>
    If you use this option you have to start <i>lsz</i> with the <b>--tcp-client
      ADDRESS:PORT</b> option. <i>lrz will print the address and port on
      startup.</i>
    <div style="height: 1.00em;">&#x00A0;</div>
    Use of this option imposes a security risk, somebody else could connect to
      the port in between. See <b>SECURITY</b> for details.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b></dt>
  <dd class="It-tag">Unlink the file after successful transmission.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U, --unrestrict</b></dt>
  <dd class="It-tag">Turn off restricted mode (this is not possible if running
      under a restricted shell).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w N, --windowsize N</b></dt>
  <dd class="It-tag">Limit the transmit window size to N bytes (ZMODEM).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v, --verbose</b></dt>
  <dd class="It-tag">Verbose output to stderr. More v's generate more
    output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X, --xmodem</b></dt>
  <dd class="It-tag">use XMODEM protocol.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y, --overwrite</b></dt>
  <dd class="It-tag">Instruct a ZMODEM receiving program to overwrite any
      existing file with the same name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Y, --overwrite-or-skip</b></dt>
  <dd class="It-tag">Instruct a ZMODEM receiving program to overwrite any
      existing file with the same name, and to skip any source files that do
      have a file with the same pathname on the destination system.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ymodem</b></dt>
  <dd class="It-tag">use ZMODEM protocol.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z, --zmodem</b></dt>
  <dd class="It-tag">use ZMODEM protocol.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SECURITY"><a class="selflink" href="#SECURITY">SECURITY</a></h1>
Restricted mode restricts pathnames to the current directory and PUBDIR (usually
  /var/spool/uucppublic) and/or subdirectories thereof, and disables remote
  command execution.
<div style="height: 1.00em;">&#x00A0;</div>
Restricted mode is entered if the <b>R</b> option is given or if lsz detects
  that it runs under a restricted shell or if the environment variable
  ZMODEM_RESTRICTED is found.
<div style="height: 1.00em;">&#x00A0;</div>
Restricted mode can be turned of with the <b>U</b> option if not running under a
  restricted shell.
<div style="height: 1.00em;">&#x00A0;</div>
<dl class="Bl-tag">
  <dt class="It-tag">Use of the</dt>
  <dd class="It-tag"><b>--tcp-client</b> or <b>--tcp-server</b> options imposes
      a security risk, as somebody else could connect to the port before you do
      it, and grab your data. If there's strong demand for a more secure mode i
      might introduce some sort of password challenge.
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ZNULLS</b></dt>
  <dd class="It-tag">may be used to specify the number of nulls to send before a
      ZDATA frame.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SHELL</b></dt>
  <dd class="It-tag">lsz recognizes a restricted shell if this variable includes
      <i>rsh</i> or <i>rksh</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ZMODEM_RESTRICTED</b></dt>
  <dd class="It-tag">lrz enters restricted mode if the variable is set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>TMPDIR</b></dt>
  <dd class="It-tag">If this environment variable is set its content is used as
      the directory to place in the answer file to a <b>timesync</b> request.
      <b>TMP</b> Used instead of TMPDIR if TMPDIR is not set. If neither TMPDIR
      nor TMP is set /tmp will be used.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>ZMODEM File Transfer</b> (Unix to DSZ/ZCOMM/Professional-YAM)
<div>&#x00A0;</div>
<b>% sz -a *.c</b>
<div>&#x00A0;</div>
This single command transfers all .c files in the current Unix directory with
  conversion (<b>-a</b>) to end of line conventions appropriate to the receiving
  environment. With ZMODEM AutoDownload enabled, Professional-YAM and ZCOMM will
  automatically receive the files after performing a security check.
<div style="height: 1.00em;">&#x00A0;</div>
<div>&#x00A0;</div>
<b>% sz -Yan *.c *.h</b>
<div>&#x00A0;</div>
Send only the .c and .h files that exist on both systems, and are newer on the
  sending system than the corresponding version on the receiving system,
  converting Unix to DOS text format.
<div>&#x00A0;</div>
<b>$ sz -\Yan file1.c file2.c file3.c foo.h baz.h</b> (for VMS)
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<b>ZMODEM Command Download</b> (Unix to Professional-YAM)
<div>&#x00A0;</div>
<br/>
 cpszall:all
<br/>
 sz -c &quot;c:;cd /yam/dist&quot;
<br/>
 sz -ya $(YD)/*.me
<br/>
 sz -yqb y*.exe
<br/>
 sz -c &quot;cd /yam&quot;
<br/>
 sz -i &quot;!insms&quot;
<div>&#x00A0;</div>
This Makefile fragment uses <b>sz</b> to issue commands to Professional-YAM to
  change current disk and directory. Next, <b>sz</b> transfers the <i>.me</i>
  files from the $YD directory, commanding the receiver to overwrite the old
  files and to convert from Unix end of line conventions to PC-DOS conventions.
  The third line transfers some <i>.exe</i> files. The fourth and fifth lines
  command Pro-YAM to change directory and execute a PC-DOS batch file <i>insms
  .</i> Since the batch file takes considerable time, the <b>-i</b> form is used
  to allow <b>sz</b> to exit immediately.
<div style="height: 1.00em;">&#x00A0;</div>
<b>XMODEM File Transfer</b> (Unix to Crosstalk)
<div>&#x00A0;</div>
% <b>sx -a foo.c</b>
<div>&#x00A0;</div>
<b>ESC</b>
<div>&#x00A0;</div>
<b>rx foo.c</b>
<div>&#x00A0;</div>
The above three commands transfer a single file from Unix to a PC and Crosstalk
  with <i>sz</i> translating Unix newlines to DOS CR/LF. This combination is
  much slower and far less reliable than ZMODEM.
<h1 class="Sh" title="Sh" id="ERROR_MESSAGES"><a class="selflink" href="#ERROR_MESSAGES">ERROR
  MESSAGES</a></h1>
&quot;Caught signal 99&quot; indicates the program was not properly compiled,
  refer to &quot;bibi(99)&quot; in rbsb.c for details.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
rz(omen), ZMODEM.DOC, YMODEM.DOC, Professional-YAM, crc(omen), sq(omen),
  todos(omen), tocpm(omen), tomac(omen), yam(omen)
<div style="height: 1.00em;">&#x00A0;</div>
Compile time options required for various operating systems are described in the
  source file.
<h1 class="Sh" title="Sh" id="VMS_VERSION"><a class="selflink" href="#VMS_VERSION">VMS
  VERSION</a></h1>
The VMS version does not support wild cards. Because of VMS DCL, upper case
  option letters muse be represented by \ proceeding the letter.
<div style="height: 1.00em;">&#x00A0;</div>
The current VMS version does not support XMODEM, XMODEM-1k, or YMODEM.
<div style="height: 1.00em;">&#x00A0;</div>
VMS C Standard I/O and RMS may interact to modify the file contents.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
32 bit CRC code courtesy Gary S. Brown.
<div style="height: 1.00em;">&#x00A0;</div>
sz.c, crctab.c, rbsb.c, zm.c, zmodem.h Unix source files
<div style="height: 1.00em;">&#x00A0;</div>
sz.c, crctab.c, vrzsz.c, zm.c, zmodem.h, vmodem.h, vvmodem.c, VMS source files.
<div style="height: 1.00em;">&#x00A0;</div>
/tmp/szlog stores debugging output (sz -vv) (szlog on VMS).
<h1 class="Sh" title="Sh" id="TESTING_FEATURE"><a class="selflink" href="#TESTING_FEATURE">TESTING
  FEATURE</a></h1>
The command &quot;sz -T file&quot; exercises the <b>Attn</b> sequence error
  recovery by commanding errors with unterminated packets. The receiving program
  should complain five times about binary data packets being too long. Each time
  <b>sz</b> is interrupted, it should send a ZDATA header followed by another
  defective packet. If the receiver does not detect five long data packets, the
  <b>Attn</b> sequence is not interrupting the sender, and the <b>Myattn</b>
  string in <b>sz.c</b> must be modified.
<div style="height: 1.00em;">&#x00A0;</div>
After 5 packets, <b>sz</b> stops the &quot;transfer&quot; and prints the total
  number of characters &quot;sent&quot; (Tcount). The difference between Tcount
  and 5120 represents the number of characters stored in various buffers when
  the Attn sequence is generated.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Calling <i>sz</i> from most versions of cu(1) doesn't work because cu's receive
  process fights <i>sz</i> for characters from the modem.
<div style="height: 1.00em;">&#x00A0;</div>
On at least one BSD system, sz would hang or exit when it got within a few
  kilobytes of the end of file. Using the &quot;-w 8192&quot; flag fixed the
  problem. The real cause is unknown, perhaps a bug in the kernel TTY output
  routines.
<div style="height: 1.00em;">&#x00A0;</div>
Programs that do not properly implement the specified file transfer protocol may
  cause <i>sz</i> to &quot;hang&quot; the port for a minute or two. This problem
  is corrected by using ZCOMM, Pro-YAM, or other program with a correct
  implementation of the specified protocol.
<div style="height: 1.00em;">&#x00A0;</div>
Many programs claiming to support YMODEM only support XMODEM with 1k blocks, and
  they often don't get that quite right.
<div style="height: 1.00em;">&#x00A0;</div>
XMODEM transfers add up to 127 garbage bytes per file. XMODEM-1k and YMODEM-1k
  transfers use 128 byte blocks to avoid extra padding.
<div style="height: 1.00em;">&#x00A0;</div>
YMODEM programs use the file length transmitted at the beginning of the transfer
  to prune the file to the correct length; this may cause problems with source
  files that grow during the course of the transfer. This problem does not
  pertain to ZMODEM transfers, which preserve the exact file length
  unconditionally.
<div style="height: 1.00em;">&#x00A0;</div>
Most ZMODEM options are merely passed to the receiving program; some do not
  implement all these options.
<div style="height: 1.00em;">&#x00A0;</div>
Circular buffering and a ZMODEM sliding window should be used when input is from
  pipes instead of acknowledging frames each 1024 bytes. If no files can be
  opened, <b>sz</b> sends a ZMODEM command to echo a suitable complaint; perhaps
  it should check for the presence of at least one accessible file before
  getting hot and bothered. The test mode leaves a zero length file on the
  receiving system.
<div style="height: 1.00em;">&#x00A0;</div>
A few high speed modems have a firmware bug that drops characters when the
  direction of high speed transmission is reversed. The environment variable
  ZNULLS may be used to specify the number of nulls to send before a ZDATA
  frame. Values of 101 for a 4.77 MHz PC and 124 for an AT are typical.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2.6.1996</td>
    <td class="foot-os">lrzsz-0.12b</td>
  </tr>
</table>
</body>
</html>
