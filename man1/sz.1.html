<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:39:42 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SZ(1) General Commands Manual SZ(1)</p>

<p style="margin-top: 1em">NAME <br>
sx, sb, sz - XMODEM, YMODEM, ZMODEM file send</p>

<p style="margin-top: 1em">SYNOPSIS <br>
sz [-+8abdefkLlNnopqTtuvyY] file ... <br>
sb [-adfkqtuv] file ... <br>
sx [-akqtuv] file <br>
sz [-oqtv] -c COMMAND <br>
sz [-oqtv] -i COMMAND <br>
sz -TT</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Sz uses the ZMODEM, YMODEM or XMODEM error correcting
protocol to send one or more files over a dial-in serial
port to a variety of programs running under PC-DOS, CP/M,
Unix, <br>
VMS, and other operating systems.</p>

<p style="margin-top: 1em">While rz is smart enough to be
called from cu(1), very few versions of cu(1) are smart
enough to allow sz to work properly. Unix flavors of
Professional-YAM are available for <br>
such dial-out application.</p>

<p style="margin-top: 1em">Sz sends one or more files with
ZMODEM protocol.</p>

<p style="margin-top: 1em">ZMODEM greatly simplifies file
transfers compared to XMODEM. In addition to a friendly user
interface, ZMODEM provides Personal Computer and other users
an efficient, accurate, <br>
and robust file transfer method.</p>

<p style="margin-top: 1em">ZMODEM provides complete
END-TO-END data integrity between application programs.
ZMODEM&rsquo;s 32 bit CRC catches errors that sneak into
even the most advanced networks.</p>

<p style="margin-top: 1em">Advanced file management
features include AutoDownload (Automatic file Download
initiated without user intervention), Display of individual
and total file lengths and transmis&acirc; <br>
sion time estimates, Crash Recovery, selective file
transfers, and preservation of exact file date and
length.</p>

<p style="margin-top: 1em">Output from another program may
be piped to sz for transmission by denoting standard input
with &quot;-&quot;: <br>
ls -l | sz - <br>
The program output is transmitted with the filename sPID.sz
where PID is the process ID of the sz program. If the
environment variable ONAME is set, that is used instead. In
<br>
this case, the Unix command: <br>
ls -l | ONAME=con sz -ay - <br>
will send a &quot;file&quot; to the PC-DOS console display.
The -y option instructs the receiver to open the file for
writing unconditionally. The -a option causes the receiver
to con&acirc; <br>
vert Unix newlines to PC-DOS carriage returns and
linefeeds.</p>

<p style="margin-top: 1em">Sb batch sends one or more files
with YMODEM or ZMODEM protocol. The initial ZMODEM
initialization is not sent. When requested by the receiver,
sb supports YMODEM-g with <br>
&quot;cbreak&quot; tty mode, XON/XOFF flow control, and
interrupt character set to CAN (^X). YMODEM-g
(Professional-YAM g option) increases throughput over error
free channels (direct <br>
connection, X.PC, etc.) by not acknowledging each
transmitted sector.</p>

<p style="margin-top: 1em">On Unix systems, additional
information about the file is transmitted. If the receiving
program uses this information, the transmitted file length
controls the exact number of <br>
bytes written to the output dataset, and the modify time and
file mode are set accordingly.</p>

<p style="margin-top: 1em">Sx sends a single file with
XMODEM or XMODEM-1k protocol (sometimes incorrectly called
&quot;ymodem&quot;). The user must supply the file name to
both sending and receiving programs.</p>

<p style="margin-top: 1em">If sz is invoked with $SHELL set
and if that variable contains the string rsh , rbash or rksh
(restricted shell), sz operates in restricted mode.
Restricted mode restricts path&acirc; <br>
names to the current directory and PUBDIR (usually
/usr/spool/uucppublic) and/or subdirectories thereof.</p>

<p style="margin-top: 1em">The fourth form sends a single
COMMAND to a ZMODEM receiver for execution. Sz exits with
the COMMAND return value. If COMMAND includes spaces or
characters special to the <br>
shell, it must be quoted.</p>

<p style="margin-top: 1em">The fifth form sends a single
COMMAND to a ZMODEM receiver for execution. Sz exits as soon
as the receiver has correctly received the command, before
it is executed.</p>

<p style="margin-top: 1em">The sixth form (sz -TT) attempts
to output all 256 code combinations to the terminal. In you
are having difficulty sending files, this command lets you
see which character codes <br>
are being eaten by the operating system.</p>

<p style="margin-top: 1em">If sz is invoked with stdout and
stderr to different datasets, Verbose is set to 2, causing
frame by frame progress reports to stderr. This may be
disabled with the q option.</p>

<p style="margin-top: 1em">The meanings of the available
options are:</p>

<p style="margin-top: 1em">-+, --append <br>
Instruct the receiver to append transmitted data to an
existing file (ZMODEM only). <br>
-2, --twostop <br>
use two stop bits (if possible). Do not use this unless you
know what you are doing. <br>
-8, --try-8k <br>
Try to go up to 8KB blocksize. This is incompatible with
standard zmodem, but a common extension in the bbs world.
(ZMODEM only). <br>
--start-8k <br>
Start with 8KB blocksize. Like --try-8k. <br>
-a, --ascii <br>
Convert NL characters in the transmitted file to CR/LF. This
is done by the sender for XMODEM and YMODEM, by the receiver
for ZMODEM. <br>
-b, --binary <br>
(ZMODEM) Binary override: transfer file without any
translation. <br>
-B NUMBER, --bufsize NUMBER <br>
Use a readbuffer of NUMBER bytes. Default is 16384, which
should be enough for most situations. If you have a slow
machine or a bad disk interface or suffer from other <br>
hardware problems you might want to increase the buffersize.
-1 or auto use a buffer large enough to buffer the whole
file. Be careful with this option - things normally <br>
get worse, not better, if the machine starts to swap.</p>

<p style="margin-top: 1em">Using this option turns of
memory mapping of the input file. This increases memory and
CPU usage. <br>
-c COMMAND, --command COMMAND <br>
Send COMMAND to the receiver for execution, return with
COMMAND&Acirc;&acute;s exit status. <br>
-C N, --command-tries N <br>
Retry to send command N times (default: 11). <br>
-d, --dot-to-slash <br>
Change all instances of &quot;.&quot; to &quot;/&quot; in
the transmitted pathname. Thus, C.omenB0000 (which is
unacceptable to MSDOS or CP/M) is transmitted as
C/omenB0000. If the resul&acirc; <br>
tant filename has more than 8 characters in the stem, a
&quot;.&quot; is inserted to allow a total of eleven.</p>

<p style="margin-top: 1em">This option enables the
--full-path option. <br>
--delay-startup N <br>
Wait N seconds before doing anything. <br>
-e, --escape <br>
Escape all control characters; normally XON, XOFF, DLE,
CR-@-CR, and Ctrl-X are escaped. <br>
Force the sender to rename the new file if a file with the
same <br>
name already exists. <br>
-f, --full-path <br>
Send Full pathname. Normally directory prefixes are stripped
from the transmitted filename.</p>

<p style="margin-top: 1em">This is also turned on with to
--dot-to-slash option. <br>
-h, --help <br>
give help. <br>
-i COMMAND, --immediate-command COMMAND <br>
Send COMMAND to the receiver for execution, return
immediately upon the receiving program&rsquo;s successful
reception of the command. <br>
-k, --1k <br>
(XMODEM/YMODEM) Send files using 1024 byte blocks rather
than the default 128 byte blocks. 1024 byte packets speed
file transfers at high bit rates. (ZMODEM streams the <br>
data for the best possible throughput.) <br>
-L N, --packetlen N <br>
Use ZMODEM sub-packets of length N. A larger N (32 &lt;= N
&lt;= 1024) gives slightly higher throughput, a smaller N
speeds error recovery. The default is 128 below 300 baud,
<br>
256 above 300 baud, or 1024 above 2400 baud. <br>
-m N, --min-bps N <br>
Stop transmission if BPS-Rate (Bytes Per Second) falls below
N for a certain time (see --min-bps-time option). <br>
-M N, --min-bps-time <br>
Used together with --min-bps. Default is 120 (seconds). <br>
-l N, --framelen N <br>
Wait for the receiver to acknowledge correct data every N
(32 &lt;= N &lt;= 1024) characters. This may be used to
avoid network overrun when XOFF flow control is lacking.
<br>
-n, --newer <br>
(ZMODEM) Send each file if destination file does not exist.
Overwrite destination file if source file is newer than the
destination file. <br>
-N, --newer-or-longer <br>
(ZMODEM) Send each file if destination file does not exist.
Overwrite destination file if source file is newer or longer
than the destination file. <br>
-o, --16-bit-crc <br>
(ZMODEM) Disable automatic selection of 32 bit CRC. <br>
-O, --disable-timeouts <br>
Disable read timeout handling. This makes lsz hang if the
other side doesn&rsquo;t send anything, but increases
performance (not much) and decreases system load (reduces
number <br>
of system calls by about 50 percent).</p>

<p style="margin-top: 1em">Use this option with care. <br>
-p, --protect <br>
(ZMODEM) Protect existing destination files by skipping
transfer if the destination file exists. <br>
-q, --quiet <br>
Quiet suppresses verbosity. <br>
-R, --restricted <br>
Restricted mode: restricts pathnames to the current
directory and PUBDIR (usually /usr/spool/uucppublic) and/or
subdirectories thereof. <br>
-r, --resume <br>
(ZMODEM) Resume interrupted file transfer. If the source
file is longer than the destination file, the transfer
commences at the offset in the source file that equals the
<br>
length of the destination file. <br>
-s HH:MM, --stop-at HH:MM <br>
Stop transmission at HH hours, MM minutes. Another variant,
using +N instead of HH:MM, stops transmission in N seconds.
<br>
-S, --timesync <br>
enable timesync protocol support. See timesync.doc for
further information.</p>

<p style="margin-top: 1em">This option is incompatible with
standard zmodem. Use it with care. <br>
--syslog[=off] <br>
turn syslogging on or off. the default is set at configure
time. This option is ignored if no syslog support is
compiled in. <br>
-t TIM, --timeout TIM <br>
Change timeout to TIM tenths of seconds. <br>
-T, --turbo <br>
Do not escape certain characters (^P, ^P|0x80, telenet
escape sequence [CR + @]). This improves performance by
about 1 percent and shouldn&rsquo;t hurt in the normal case
(but <br>
be careful - ^P might be useful if connected through a
terminal server). <br>
--tcp Try to initiate a TCP/IP connection. lsz will ask the
receiving zmodem to open a TCP/IP connection. All
handshaking (which address / port to use) will be done by
the zmo&acirc; <br>
dem programs.</p>

<p style="margin-top: 1em">You will normally not want to
use this option as lrzsz is the only zmodem which
understands what to do (private extension). You might want
to use this option if the two <br>
programs are connected (stdin/out) over a slow or bad (not
8bit clean) network connection.</p>

<p style="margin-top: 1em">Use of this option imposes a
security risk, somebody else could connect to the port in
between. See SECURITY for details. <br>
--tcp-client ADDRESS:PORT <br>
Act as a tcp/ip client: Connect to the given port.</p>

<p style="margin-top: 1em">See --tcp-server for more
information.</p>

<p style="margin-top: 1em">--tcp-server <br>
Act as a server: Open a socket, print out what to do, wait
for connection.</p>

<p style="margin-top: 1em">You will normally not want to
use this option as lrzsz is the only zmodem which
understands what to do (private extension). You might want
to use this if you have to use <br>
zmodem (for which reason whatever), and cannot use the --tcp
option of lsz (perhaps because your telnet doesn&rsquo;t
allow to spawn a local program with stdin/stdout connected
<br>
to the remote side).</p>

<p style="margin-top: 1em">If you use this option you have
to start lsz with the --tcp-client ADDRESS:PORT option. lrz
will print the address and port on startup.</p>

<p style="margin-top: 1em">Use of this option imposes a
security risk, somebody else could connect to the port in
between. See SECURITY for details.</p>

<p style="margin-top: 1em">-u Unlink the file after
successful transmission. <br>
-U, --unrestrict <br>
Turn off restricted mode (this is not possible if running
under a restricted shell). <br>
-w N, --windowsize N <br>
Limit the transmit window size to N bytes (ZMODEM). <br>
-v, --verbose <br>
Verbose output to stderr. More v&rsquo;s generate more
output. <br>
-X, --xmodem <br>
use XMODEM protocol. <br>
-y, --overwrite <br>
Instruct a ZMODEM receiving program to overwrite any
existing file with the same name. <br>
-Y, --overwrite-or-skip <br>
Instruct a ZMODEM receiving program to overwrite any
existing file with the same name, and to skip any source
files that do have a file with the same pathname on the
des&acirc; <br>
tination system. <br>
--ymodem <br>
use ZMODEM protocol. <br>
-Z, --zmodem <br>
use ZMODEM protocol.</p>

<p style="margin-top: 1em">SECURITY <br>
Restricted mode restricts pathnames to the current directory
and PUBDIR (usually /var/spool/uucppublic) and/or
subdirectories thereof, and disables remote command
execution.</p>

<p style="margin-top: 1em">Restricted mode is entered if
the R option is given or if lsz detects that it runs under a
restricted shell or if the environment variable
ZMODEM_RESTRICTED is found.</p>

<p style="margin-top: 1em">Restricted mode can be turned of
with the U option if not running under a restricted
shell.</p>

<p style="margin-top: 1em">Use of the <br>
--tcp-client or --tcp-server options imposes a security
risk, as somebody else could connect to the port before you
do it, and grab your data. If there&rsquo;s strong demand
for <br>
a more secure mode i might introduce some sort of password
challenge.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
ZNULLS may be used to specify the number of nulls to send
before a ZDATA frame.</p>

<p style="margin-top: 1em">SHELL lsz recognizes a
restricted shell if this variable includes rsh or rksh</p>

<p style="margin-top: 1em">ZMODEM_RESTRICTED <br>
lrz enters restricted mode if the variable is set.</p>

<p style="margin-top: 1em">TMPDIR If this environment
variable is set its content is used as the directory to
place in the answer file to a timesync request. TMP Used
instead of TMPDIR if TMPDIR is not <br>
set. If neither TMPDIR nor TMP is set /tmp will be used.</p>

<p style="margin-top: 1em">EXAMPLES <br>
ZMODEM File Transfer (Unix to DSZ/ZCOMM/Professional-YAM)
<br>
% sz -a *.c <br>
This single command transfers all .c files in the current
Unix directory with conversion (-a) to end of line
conventions appropriate to the receiving environment. With
ZMODEM <br>
AutoDownload enabled, Professional-YAM and ZCOMM will
automatically receive the files after performing a security
check.</p>

<p style="margin-top: 1em">% sz -Yan *.c *.h <br>
Send only the .c and .h files that exist on both systems,
and are newer on the sending system than the corresponding
version on the receiving system, converting Unix to DOS text
<br>
format. <br>
$ sz -n file1.c file2.c file3.c foo.h baz.h &Acirc;&reg;(for
VMS)</p>

<p style="margin-top: 1em">ZMODEM Command Download (Unix to
Professional-YAM) <br>
cpszall:all <br>
sz -c &quot;c:;cd /yam/dist&quot; <br>
sz -ya $(YD)/*.me <br>
sz -yqb y*.exe <br>
sz -c &quot;cd /yam&quot; <br>
sz -i &quot;!insms&quot; <br>
This Makefile fragment uses sz to issue commands to
Professional-YAM to change current disk and directory. Next,
sz transfers the .me files from the $YD directory,
commanding <br>
the receiver to overwrite the old files and to convert from
Unix end of line conventions to PC-DOS conventions. The
third line transfers some .exe files. The fourth and fifth
<br>
lines command Pro-YAM to change directory and execute a
PC-DOS batch file insms . Since the batch file takes
considerable time, the -i form is used to allow sz to exit
immedi&acirc; <br>
ately.</p>

<p style="margin-top: 1em">XMODEM File Transfer (Unix to
Crosstalk) <br>
% sx -a foo.c <br>
ESC <br>
rx foo.c <br>
The above three commands transfer a single file from Unix to
a PC and Crosstalk with sz translating Unix newlines to DOS
CR/LF. This combination is much slower and far less <br>
reliable than ZMODEM.</p>

<p style="margin-top: 1em">ERROR MESSAGES <br>
&quot;Caught signal 99&quot; indicates the program was not
properly compiled, refer to &quot;bibi(99)&quot; in rbsb.c
for details.</p>

<p style="margin-top: 1em">SEE ALSO <br>
rz(omen), ZMODEM.DOC, YMODEM.DOC, Professional-YAM,
crc(omen), sq(omen), todos(omen), tocpm(omen), tomac(omen),
yam(omen)</p>

<p style="margin-top: 1em">Compile time options required
for various operating systems are described in the source
file.</p>

<p style="margin-top: 1em">VMS VERSION <br>
The VMS version does not support wild cards. Because of VMS
DCL, upper case option letters muse be represented by
&nbsp;proceeding the letter.</p>

<p style="margin-top: 1em">The current VMS version does not
support XMODEM, XMODEM-1k, or YMODEM.</p>

<p style="margin-top: 1em">VMS C Standard I/O and RMS may
interact to modify the file contents.</p>

<p style="margin-top: 1em">FILES <br>
32 bit CRC code courtesy Gary S. Brown.</p>

<p style="margin-top: 1em">sz.c, crctab.c, rbsb.c, zm.c,
zmodem.h Unix source files</p>

<p style="margin-top: 1em">sz.c, crctab.c, vrzsz.c, zm.c,
zmodem.h, vmodem.h, vvmodem.c, VMS source files.</p>

<p style="margin-top: 1em">/tmp/szlog stores debugging
output (sz -vv) (szlog on VMS).</p>

<p style="margin-top: 1em">TESTING FEATURE <br>
The command &quot;sz -T file&quot; exercises the Attn
sequence error recovery by commanding errors with
unterminated packets. The receiving program should complain
five times about binary <br>
data packets being too long. Each time sz is interrupted, it
should send a ZDATA header followed by another defective
packet. If the receiver does not detect five long data <br>
packets, the Attn sequence is not interrupting the sender,
and the Myattn string in sz.c must be modified.</p>

<p style="margin-top: 1em">After 5 packets, sz stops the
&quot;transfer&quot; and prints the total number of
characters &quot;sent&quot; (Tcount). The difference between
Tcount and 5120 represents the number of characters <br>
stored in various buffers when the Attn sequence is
generated.</p>

<p style="margin-top: 1em">BUGS <br>
Calling sz from most versions of cu(1) doesn&rsquo;t work
because cu&rsquo;s receive process fights sz for characters
from the modem.</p>

<p style="margin-top: 1em">On at least one BSD system, sz
would hang or exit when it got within a few kilobytes of the
end of file. Using the &quot;-w 8192&quot; flag fixed the
problem. The real cause is unknown, <br>
perhaps a bug in the kernel TTY output routines.</p>

<p style="margin-top: 1em">Programs that do not properly
implement the specified file transfer protocol may cause sz
to &quot;hang&quot; the port for a minute or two. This
problem is corrected by using ZCOMM, Pro- <br>
YAM, or other program with a correct implementation of the
specified protocol.</p>

<p style="margin-top: 1em">Many programs claiming to
support YMODEM only support XMODEM with 1k blocks, and they
often don&rsquo;t get that quite right.</p>

<p style="margin-top: 1em">XMODEM transfers add up to 127
garbage bytes per file. XMODEM-1k and YMODEM-1k transfers
use 128 byte blocks to avoid extra padding.</p>

<p style="margin-top: 1em">YMODEM programs use the file
length transmitted at the beginning of the transfer to prune
the file to the correct length; this may cause problems with
source files that grow dur&acirc; <br>
ing the course of the transfer. This problem does not
pertain to ZMODEM transfers, which preserve the exact file
length unconditionally.</p>

<p style="margin-top: 1em">Most ZMODEM options are merely
passed to the receiving program; some do not implement all
these options.</p>

<p style="margin-top: 1em">Circular buffering and a ZMODEM
sliding window should be used when input is from pipes
instead of acknowledging frames each 1024 bytes. If no files
can be opened, sz sends a <br>
ZMODEM command to echo a suitable complaint; perhaps it
should check for the presence of at least one accessible
file before getting hot and bothered. The test mode leaves a
<br>
zero length file on the receiving system.</p>

<p style="margin-top: 1em">A few high speed modems have a
firmware bug that drops characters when the direction of
high speed transmission is reversed. The environment
variable ZNULLS may be used to spec&acirc; <br>
ify the number of nulls to send before a ZDATA frame. Values
of 101 for a 4.77 MHz PC and 124 for an AT are typical.</p>

<p style="margin-top: 1em">lrzsz-0.12b 2.6.1996 SZ(1)</p>
<hr>
</body>
</html>
