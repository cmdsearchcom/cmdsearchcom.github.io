<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>amispammer(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">amispammer(1)</td>
    <td class="head-vol">User Manuals</td>
    <td class="head-rtitle">amispammer(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
amispammer - The way to know if your MX IPs are blacklisted
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>amispammer [ -v</b> <i>0|1</i> <b>] [ -i</b> <i>&lt;IPaddress&gt;</i> <b>|
  -d</b> <i>&lt;domain&gt;</i> <b>] [ -T</b> <i>0|1</i> <b>] [ -f</b>
  <i>emailfrom</i> <b>-t</b> <i>emailto</i> <b>-s</b> <i>smtp_server</i> <b>] [
  -h ]</b>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>amispammer</b> is a tool to check via command line if an IP address or domain
  MX IPs appear currently on any blacklist because of spam reported/reputation.
<div style="height: 1.00em;">&#x00A0;</div>
The main target to use it are system admininistrators or security
  officers/consultants who want to check by command line whether an IP address
  they are responsible or they are auditing (respectively) is blacklisted.
<div style="height: 1.00em;">&#x00A0;</div>
To get it, <b>amispammer</b> will check in over 90 popular blacklisting lists,
  used by almost every antispam professional devices and software.
<div style="height: 1.00em;">&#x00A0;</div>
Optionally, it is possible to send an email to some recipient when it finish the
  checks with the different lists where the IP address appears. This is very
  useful if this task is done automatically by night for example, or even more
  frequently, in organizations where email has critic importance. It will only
  send an email in case the IP add ress appears in some blacklist.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-i</dt>
  <dd class="It-tag">&lt;IP address&gt;: IP address to check. In A.B.C.D
    format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d</dt>
  <dd class="It-tag">&lt;domain&gt;: Domain to be checked. Useful when there are
      several MX records.
    <div style="height: 1.00em;">&#x00A0;</div>
    If no IP/domain is supplied with -i or -d flags, amISpammer will assume it
      has to check the public IP address from it is being executed, and it will
      detect it automatically
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-T</dt>
  <dd class="It-tag">0|1: Disable|Enable the queries using threads. Performance
      will be improved and query time will decrease but more memory and CPU
      resources will be required. By default -T 1 is enabled (with threads
      enabled)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f</dt>
  <dd class="It-tag">emailfrom: email account (sender@corp.org) who will send
      the email</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t</dt>
  <dd class="It-tag">emailto: recipient email account (recipient@corp.org) who
      will receive the email</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">smtp_server: SMTP Server IP Address where the email will be
      sent. By Default: localhost</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">0|1: Verbose detail.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
0 (by default if nothing is specified) -&gt; It will just show blacklists where
  the IP address appears as reported. In this mode, we will be able to send an
  email with results.
<div class="Pp"></div>
1 -&gt; It will show on terminal every blacklist and the result of checking one
  by one (blacklisted/not blacklisted)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<dl class="Bl-tag">
  <dt class="It-tag">-h</dt>
  <dd class="It-tag">To ask for program usage
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="CRON_EXAMPLE"><a class="selflink" href="#CRON_EXAMPLE">CRON
  EXAMPLE</a></h1>
30 4 * * * /usr/bin/amispammer -i &lt;A.B.C.D&gt; -v0 -f emailfrom@from.com -t
  emailto@to.com &gt;&gt; /dev/null 2&gt;&amp;1
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DEPENDENCIES"><a class="selflink" href="#DEPENDENCIES">DEPENDENCIES</a></h1>
Next are needed perl modules:
<dl class="Bl-tag">
  <dt class="It-tag">LWP::UserAgent</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Net::DNS</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">English</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">getopt.pl</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">threads</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">threads::shared</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Email::Sender::Simple</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Email::Simple::Creator</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Email::Sender::Transport::SMTP</dt>
  <dd class="It-tag">
    <div style="height: 1.00em;">&#x00A0;</div>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Lorenzo Martinez Rodriguez &lt;lorenzo at lorenzomartinez dot es&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2009-2010, Lorenzo Martinez Rodriguez</div>
<table class="foot">
  <tr>
    <td class="foot-date">APRIL 2010</td>
    <td class="foot-os">Linux</td>
  </tr>
</table>
</body>
</html>
