<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>BUCARDO(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">BUCARDO(1)</td>
    <td class="head-vol">User Contributed Perl Documentation</td>
    <td class="head-rtitle">BUCARDO(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
bucardo - utility script for controlling the Bucardo program
<h1 class="Sh" title="Sh" id="VERSION"><a class="selflink" href="#VERSION">VERSION</a></h1>
This document describes version 5.4.1 of bucardo
<h1 class="Sh" title="Sh" id="USAGE"><a class="selflink" href="#USAGE">USAGE</a></h1>
<pre>
  bucardo [&lt;options&gt;] &lt;command&gt; [&lt;action&gt;] [&lt;command-options&gt;] [&lt;command-params&gt;]
</pre>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The bucardo script is the main interaction to a running Bucardo instance. It can
  be used to start and stop Bucardo, add new items, kick syncs, and even install
  and upgrade Bucardo itself. For more complete documentation, please view the
  wiki &lt;http://bucardo.org/&gt;.
<h1 class="Sh" title="Sh" id="COMMANDS"><a class="selflink" href="#COMMANDS">COMMANDS</a></h1>
Run &quot;bucardo help &lt;command&gt;&quot; for additional details
<dl class="Bl-tag">
  <dt class="It-tag">&quot;install&quot;</dt>
  <dd class="It-tag">Installs the Bucardo configuration database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;upgrade&quot;</dt>
  <dd class="It-tag">Upgrades the Bucardo configuration database to the latest
      schema.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;start [&lt;start options&gt;]
    [&lt;reason&gt;]&quot;</dt>
  <dd class="It-tag">Starts Bucardo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stop [&lt;reason&gt;]&quot;</dt>
  <dd class="It-tag">Stops Bucardo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;restart [&lt;start options&gt;]
    [&lt;reason&gt;]&quot;</dt>
  <dd class="It-tag">Stops and starts Bucardo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;list &lt;type&gt; [&lt;regex&gt;]&quot;</dt>
  <dd class="It-tag">Lists objects managed by Bucardo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;add &lt;type&gt; &lt;name&gt;
    &lt;parameters&gt;&quot;</dt>
  <dd class="It-tag">Adds a new object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;update &lt;type&gt; &lt;name&gt;
    &lt;parameters&gt;&quot;</dt>
  <dd class="It-tag">Updates an object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;remove &lt;type&gt; &lt;name&gt;
    [&lt;name&gt;...]&quot;</dt>
  <dd class="It-tag">Removes one or more objects.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kick &lt;syncname&gt; [&lt;sync options&gt;]
    [&lt;syncname&gt;...] [&lt;timeout&gt;]&quot;</dt>
  <dd class="It-tag">Kicks off one or more syncs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;reload config&quot;</dt>
  <dd class="It-tag">Sends a message to all CTL and KID processes asking them to
      reload the Bucardo configuration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;reopen&quot;</dt>
  <dd class="It-tag">Sends a message to all Bucardo processes asking them to
      reopen any log files they may have open. Call this after you have rotated
      the log file(s).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;show all|&lt;setting&gt;
    [&lt;setting&gt;...]&quot;</dt>
  <dd class="It-tag">Shows the current Bucardo settings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;&lt;set &lt;setting=value&quot;
    [&lt;setting=value&gt;...] &gt;&gt;</dt>
  <dd class="It-tag">Sets one or more configuration setting..</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;ping [&lt;timeout&gt;]&quot;</dt>
  <dd class="It-tag">Sends a ping notice to the MCP process to see if it will
      respond.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status [&lt;status options&gt;] &lt;syncname&gt;
    [&lt;syncname&gt;...]&quot;</dt>
  <dd class="It-tag">Shows the brief status of syncs in a tabular format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;activate &lt;syncname&gt; [&lt;syncname&gt;...]
    [&lt;timeout&gt;]&quot;</dt>
  <dd class="It-tag">Activates one or more named syncs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;deactivate &lt;syncname&gt; [&lt;syncname&gt;...]
    [&lt;timeout&gt;]&quot;</dt>
  <dd class="It-tag">Deactivates one or more named syncs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;message &lt;body&gt;&quot;</dt>
  <dd class="It-tag">Sends a message to the running Bucardo logs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;reload [&lt;syncname&gt;
    [&lt;syncname&gt;...]]&quot;</dt>
  <dd class="It-tag">Sends a message to one or more sync processes, instructing
      them to reload.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;inspect &lt;type&gt; &lt;name&gt;
    [&lt;name&gt;...]&quot;</dt>
  <dd class="It-tag">Inspects one or more objects of a particular type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;validate all|&lt;syncname&gt;
    [&lt;syncname&gt;...]&quot;</dt>
  <dd class="It-tag">Validates one or more syncs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;purge all|&lt;table&gt; [&lt;table&gt;...]&quot;</dt>
  <dd class="It-tag">Purges the delta and track tables for one or more tables,
      for one or more databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;delta [&lt;database(s)&gt;]&quot;</dt>
  <dd class="It-tag">Show the delta counts for each source target.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;help [&lt;command&gt; [&lt;action&gt;]]&quot;</dt>
  <dd class="It-tag">Shows help.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<pre>
  -d --db-name       NAME  Database name.
  -U --db-user       USER  Database user name.
  -P --db-pass       PASS  Database password.
  -h --db-host       HOST  Database server host name.
  -p --db-port       PORT  Database server port number.
     --bucardorc     FILE  Use specified .bucardorc file.
     --no-bucardorc        Do not use .bucardorc file.
     --quiet               Incremental quiet.
     --verbose             Incremental verbose mode.
  -? --help                Output basic help and exit.
     --version             Print the version number and exit.
     --dryrun              Do not perform any actual actions.
     --confirm             Require direct confirmation before changes.
</pre>
<h1 class="Sh" title="Sh" id="COMMAND_DETAILS"><a class="selflink" href="#COMMAND_DETAILS">COMMAND
  DETAILS</a></h1>
Most of the commands take parameters. These may be passed after the command name
  and, where appropriate, an object name. Parameters take the form of key/value
  pairs separated by an equal sign (&quot;=&quot;). For example:
<div class="Pp"></div>
<pre>
  bucardo add db sea_widgets dbname=widgets host=db.example.com
</pre>
<div class="Pp"></div>
Here &quot;dbname&quot; and &lt;host&gt; are parameters.
<div class="Pp"></div>
Many of the commands also use command-line options, which are specified in the
  normal way. For example, the &quot;bucardo add db&quot; command could also be
  written as:
<div class="Pp"></div>
<pre>
  bucardo add db sea_widgets --dbname widgets --dbhost db.example.com
</pre>
<div class="Pp"></div>
However, parameters and options are not directly interchangeable in all cases.
  See the documentation for individual commands for their supported options.
<h2 class="Ss" title="Ss" id="install"><a class="selflink" href="#install">install</a></h2>
<pre>
  bucardo install
</pre>
<div class="Pp"></div>
Installs the Bucardo schema from the file <i>bucardo.schema</i> into an existing
  Postgres cluster. The user &quot;bucardo&quot; and database
  &quot;bucardo&quot; will be created first as needed. This is an interactive
  installer, but you can supply the following values from the command line:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--dbuser&quot;</dt>
  <dd class="It-tag">defaults to postgres</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--dbname&quot;</dt>
  <dd class="It-tag">defaults to postgres</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--dbport&quot;</dt>
  <dd class="It-tag">defaults to 5432</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--pid-dir&quot;</dt>
  <dd class="It-tag">defaults to /var/run/bucardo/</dd>
</dl>
<h2 class="Ss" title="Ss" id="upgrade"><a class="selflink" href="#upgrade">upgrade</a></h2>
<pre>
  bucardo upgrade
</pre>
<div class="Pp"></div>
Upgrades an existing Bucardo installation to the current version of the bucardo
  database script. Requires that bucardo and the <i>bucardo.schema</i> file be
  the same version. All changes should be backwards compatible, but you may need
  to re-validate existing scripts to make sure changes get propagated to all
  databases.
<h2 class="Ss" title="Ss" id="start"><a class="selflink" href="#start">start</a></h2>
<pre>
  bucardo start &quot;Reason&quot;
</pre>
<div class="Pp"></div>
Starts Bucardo. Fails if the MCP process is running (determined if its PID file
  is present). Otherwise, starts cleanly by first issuing the equivalent of a
  stop to ask any existing Bucardo processes to exit, and then starting a new
  Bucardo MCP process. A short reason and name should be provided - these are
  written to the &quot;reason_file&quot; file (
  <i>./bucardo.restart.reason.txt</i> by default) and sent in the email sent
  when Bucardo has been started up. It is also appended to the reason log, which
  has the same name as the the &quot;reason_file&quot; but ends in <i>.log</i>.
<div class="Pp"></div>
The options for the &quot;start&quot; command are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--sendmail&quot;</dt>
  <dd class="It-tag">Tells Bucardo whether or not to send mail on interesting
      events: startup, shutdown, and errors. Default is on.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--extra-name string&quot;</dt>
  <dd class="It-tag">A short string that will be appended to the version string
      as output by the Bucardo process names. Mostly useful for debugging.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--log-destination destination&quot;</dt>
  <dd class="It-tag">Determines the destination for logging output. The
      supported values are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stderr&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stdout&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;syslog&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;none&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">A file system directory.</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;">
<div style="height: 1.00em;">&#x00A0;</div>
May be specified more than once, which is useful for, e.g., logging both to a
  directory and to syslog. If &quot;--log-destination&quot; is not specified at
  all, the default is to log to files in <i>/var/log/bucardo</i>.</div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--log-separate&quot;</dt>
  <dd class="It-tag">Forces creation of separate log files for each Bucardo
      process of the form &quot;log.bucardo.X.Y&quot;, where X is the type of
      process (MCP, CTL, or KID), and Y is the process ID.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--log-extension string&quot;</dt>
  <dd class="It-tag">Appends the given string to the end of the default log file
      name, <i>log.bucardo</i>. A dot is added before the name as well, so a log
      extension of &quot;rootdb&quot; would produce a log file named
      <i>log.bucardo.rootdb</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--log-clean&quot;</dt>
  <dd class="It-tag">Forces removal of all old log files before running.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--debug&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--no-debug&quot;</dt>
  <dd class="It-tag">Enable or disable debugging output. Disabled by
    default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--exit-on-nosync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--no-exit-on-nosync&quot;</dt>
  <dd class="It-tag">On startup, if Bucardo finds no active syncs, it normally
      will continue to run, requiring a restart once syncs are added. This is
      useful for startup scripts and whatnot.
    <div style="height: 1.00em;">&#x00A0;</div>
    If, however, you want it to exit when there are no active syncs, pass the
      &quot;--exit-on-nosync&quot; option. You can also be explicit that it
      should <i>not</i> exit when there are no syncs by passing
      &quot;--no-exit-on-nosync&quot;. This is the default value.</dd>
</dl>
<h2 class="Ss" title="Ss" id="stop"><a class="selflink" href="#stop">stop</a></h2>
<pre>
  bucardo stop &quot;Reason&quot;
</pre>
<div class="Pp"></div>
Forces Bucardo to quit by creating a stop file which all MCP, CTL, and KID
  processes should detect and cause them to exit. Note that active syncs will
  not exit right away, as they will not look for the stop file until they have
  finished their current run. Typically, you should scan the list of processes
  after running this program to make sure that all Bucardo processes have
  stopped. One should also provide a reason for issuing the stop - usually this
  is a short explanation and your name. This is written to the
  &quot;reason_file&quot; file ( <i>./bucardo.restart.reason.txt</i> by default)
  and is also used by Bucardo when it exits and sends out mail about its death.
  It is also appended to the reason log, which has the same name as the the
  &quot;reason_file&quot; but ends in <i>.log</i>.
<h2 class="Ss" title="Ss" id="restart"><a class="selflink" href="#restart">restart</a></h2>
<pre>
  bucardo restart &quot;Reason&quot;
</pre>
<div class="Pp"></div>
Stops bucardo, waits for the stop to complete, and then starts it again.
  Supports the same options as &lt;&quot;start&quot;/start&gt;. Useful for start
  scripts. For getting just CTL and KID processes to recognize newly added,
  updated, or removed objects, use the &quot;reload&quot; command, instead.
<h2 class="Ss" title="Ss" id="list"><a class="selflink" href="#list">list</a></h2>
<pre>
  bucardo list &lt;type&gt; &lt;regex&gt;
</pre>
<div class="Pp"></div>
Lists summary information about Bucardo objects. The supported types are:
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;database&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;dbgroup&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;relgroup&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;sync&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;table&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;sequence&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;customcode&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;customname&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;customcols&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;all&quot;</dd>
</dl>
<div class="Pp"></div>
The &quot;all&quot; option will list information about all object types.
<div class="Pp"></div>
The optional &quot;regex&quot; option can be used to filter the list to only
  those matching a regular expression.
<h2 class="Ss" title="Ss" id="add"><a class="selflink" href="#add">add</a></h2>
<pre>
  bucardo add &lt;type&gt; &lt;name&gt; &lt;parameters&gt;
</pre>
<div class="Pp"></div>
Adds a new object to Bucardo. The &quot;type&quot; specifies the type of object
  to add, while the &quot;name&quot; should be the name of the object. The
  supported types include:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbgroup&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sequence&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;all tables&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;all sequences&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;customname&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;customcols&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<i>add db</i>
<div class="Pp"></div>
<pre>
  bucardo add db &lt;name&gt; dbname=actual_name port=xxx host=xxx user=xxx
</pre>
<div class="Pp"></div>
Adds one or more new databases. The &quot;name&quot; is the name by which the
  database will be known to Bucardo, and must be unique. This may vary from the
  actual database name, as multiple hosts might have databases with the same
  name. Multiple databases can be added by separating the names with commas.
  Options that differ between the databases should be separated by a matching
  commas. Example:
<div class="Pp"></div>
<pre>
  bucardo add db alpha,beta dbname=sales host=aa,bb user=bucardo
</pre>
<div class="Pp"></div>
This command will attempt an immediate test connection to the added database(s).
  The supported named parameters are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbname&quot;</dt>
  <dd class="It-tag">The actual name of the database. Required unless using a
      service file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;type&quot;</dt>
  <dd class="It-tag">The type of the database. Defaults to &quot;postgres&quot;.
      Currently supported values are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;postgres&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;drizzle&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;mongo&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;mysql&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;maria&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;oracle&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;redis&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;sqlite&quot;</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;user&quot;</dt>
  <dd class="It-tag">The username Bucardo should use when connecting to this
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;pass&quot;</dt>
  <dd class="It-tag">The password Bucardo should use when connecting to this
      database. It is recommended that you use a .pgpass file rather than
      entering the password here.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;host&quot;</dt>
  <dd class="It-tag">The host Bucardo should use when connecting to this
      database. Defaults to the value of the $PGHOSTADDR or $PGHOST environment
      variables, if present.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;port&quot;</dt>
  <dd class="It-tag">The port Bucardo should use when connecting to this
      database. Defaults to the value of the $PGPORT environment variable, if
      present.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conn&quot;</dt>
  <dd class="It-tag">Additional connection parameters, e.g.
      &quot;sslmode=require&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;service&quot;</dt>
  <dd class="It-tag">The service name Bucardo should use when connecting to this
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status&quot;</dt>
  <dd class="It-tag">Initial status of this database. Defaults to
      &quot;active&quot; but can be set to &quot;inactive&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbgroup&quot;</dt>
  <dd class="It-tag">Name of the database group this database should belong
    to.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;addalltables&quot;</dt>
  <dd class="It-tag">Automatically add all tables from this database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;addallsequences&quot;</dt>
  <dd class="It-tag">Automatically add all sequences from this database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;server_side_prepares&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;ssp&quot;</dt>
  <dd class="It-tag">Set to 1 or 0 to enable or disable server-side prepares.
      Defaults to 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;makedelta&quot;</dt>
  <dd class="It-tag">Set to 1 or 0 to enable or disable makedelta. Defaults to
      0.</dd>
</dl>
<div class="Pp"></div>
Additional parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--force&quot;</dt>
  <dd class="It-tag">Forces the database to be added without running a
      connection test.</dd>
</dl>
<div class="Pp"></div>
<b>Note:</b> As a convenience, if the &quot;dbuser&quot; value is its default
  value, &quot;bucardo&quot;, in the event that Bucardo cannot connect to the
  database, it will try connecting as &quot;postgres&quot; and create a
  superuser named &quot;bucardo&quot;. This is to make things easier for folks
  getting started with Bucardo, but will not work if it cannot connect as
  &quot;postgres&quot;, or if it the connection failed due to an authentication
  failure.
<div class="Pp"></div>
<i>add dbgroup</i>
<div class="Pp"></div>
<pre>
  bucardo add dbgroup name db1:source db2:source db3:target ...
</pre>
<div class="Pp"></div>
Adds one or more databases to the named dbgroup. If the dbgroup doesn't exist,
  it will be created. The database parameters should specify their roles, either
  &quot;source&quot; or &quot;target&quot;.
<div class="Pp"></div>
<i>add table</i>
<div class="Pp"></div>
<pre>
  bucardo add table [schema].table db=actual_db_name
</pre>
<div class="Pp"></div>
Adds a table object. The table information will be read from the specified
  database. Supported parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">The name of the database from which to read the table
      information. Should be a name known to Bucardo, thanks to a previous call
      to &quot;add database&quot;. Required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;autokick&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not the table should
      automatically send kick messages when it's modified. Overrides the
      &quot;autokick&quot; parameter of any syncs of which the table is a
    part.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rebuild_index&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to rebuild indexes after
      every sync. Off by default. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;analyze_after_copy&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to analyze the table
      after every sync. Off by default. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;vacuum_after_copy&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to vacuum the table after
      every sync. Off by default. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag">Adds the table to the named relgroup. If the relgroup does
      not exist, it will be created. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;makedelta&quot;</dt>
  <dd class="It-tag">Turns makedelta magic on or off. Value is a list of
      databases which need makedelta for this table. Value can also be
      &quot;on&quot; to enable makedelta for all databases. Defaults to
      &quot;off&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;strict_check&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to be strict when
      comparing the table between syncs. If the columns have different names or
      data types, the validation will fail. But perhaps the columns are allowed
      to have different names or data types. If so, disable
      &quot;strict_check&quot; and column differences will result in warnings
      rather than failing the validation. Defaults to true.</dd>
</dl>
<div class="Pp"></div>
<i>add sequence</i>
<div class="Pp"></div>
<pre>
  bucardo add sequence [schema].sequence relgroup=xxx
</pre>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">The name of the database from which to read the sequence
      information. Should be a name known to Bucardo, thanks to a previous call
      to &quot;add database&quot;. Required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag">Adds the sequence to the named relgroup. If the relgroup
      does not exist, it will be created. Optional.</dd>
</dl>
<div class="Pp"></div>
<i>add all tables</i>
<div class="Pp"></div>
<pre>
  bucardo add all tables [relgroup=xxx] [pkonly]
</pre>
<div class="Pp"></div>
Adds all the tables in all known databases or in a specified database. Excludes
  tables in the &quot;pg_catalog&quot;, &quot;information_schema&quot;, and
  &quot;bucardo&quot; schemas. (Yes, this means that you cannot replicate the
  Bucardo configuration database using Bucardo. Sorry about that.) Supported
  options and parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db&quot;</dt>
  <dd class="It-tag">Name of the database from which to find all the tables to
      add. If not provided, tables will be added from all known databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-n&quot;</dt>
  <dd class="It-tag">Limit to the tables in the specified comma-delimited list
      of schemas. The options may be specified more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;exclude-schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--exclude-schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-N&quot;</dt>
  <dd class="It-tag">Exclude tables in the specified comma-delimited list of
      schemas. The options may be specified more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-t&quot;</dt>
  <dd class="It-tag">Limit to the specified tables. The options may be specified
      more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;exclude-table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--exclude-table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-T&quot;</dt>
  <dd class="It-tag">Exclude the specified tables. The options may be specified
      more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--relgroup&quot;</dt>
  <dd class="It-tag">Name of the relgroup to which to add new tables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;pkonly&quot;</dt>
  <dd class="It-tag">Exclude tables without primary keys.</dd>
</dl>
<div class="Pp"></div>
<i>add all sequences</i>
<div class="Pp"></div>
<pre>
  bucardo add all sequences relgroup=xxx
</pre>
<div class="Pp"></div>
Adds all the sequences in all known databases or in a specified database.
  Excludes sequences in the &quot;pg_catalog&quot;,
  &quot;information_schema&quot;, and &quot;bucardo&quot; schemas. (Yes, this
  means that you cannot replicate the Bucardo configuration database using
  Bucardo. Sorry about that.) Supported options and parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db&quot;</dt>
  <dd class="It-tag">Name of the database from which to find all the sequences
      to add. If not provided, sequences will be added from all known
    databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-n&quot;</dt>
  <dd class="It-tag">Limit to the sequences in the specified comma-delimited
      list of schemas. The options may be specified more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;exclude-schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--exclude-schema&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-N&quot;</dt>
  <dd class="It-tag">Exclude sequences in the specified comma-delimited list of
      schemas. The options may be specified more than once.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--relgroup&quot;</dt>
  <dd class="It-tag">Name of the relgroup to which to add new tables or
      sequences.</dd>
</dl>
<div class="Pp"></div>
<i>add relgroup</i>
<div class="Pp"></div>
<pre>
  bucardo add relgroup name
  bucardo add relgroup name table, sequence, ...
</pre>
<div class="Pp"></div>
Adds a relgroup. After the name, pass in an optional list of tables and/or
  sequences and they will be added to the group.
<div class="Pp"></div>
<i>add sync</i>
<div class="Pp"></div>
<pre>
  bucardo add sync name relgroup=xxx dbs=xxx
</pre>
<div class="Pp"></div>
Adds a sync, which is a named replication event containing information about
  what to replicate from where to where. The supported parameters are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbs&quot;</dt>
  <dd class="It-tag">The name of a dbgroup or comma-delimited list of databases.
      All of the specified databases will be synchronized. Required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbgroup&quot;</dt>
  <dd class="It-tag">The name of a dbgroup. All of the databases within this
      group will be part of the sync. If the dbgroup does not exists and a
      separate list of databases is given, the group will be created and
      populated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag">The name of a relgroup to synchronize. All of the tables
      and/or sequences in the relgroup will be synchronized. Required unless
      &quot;tables&quot; is specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;tables&quot;</dt>
  <dd class="It-tag">List of tables to add to the sync. This implicitly creates
      a relgroup with the same name as the sync. Required unless
      &quot;relgroup&quot; is specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status&quot;</dt>
  <dd class="It-tag">Indicates whether or not the sync is active. Must be either
      &quot;active&quot; or &quot;inactive&quot;. Defaults to
      &quot;active&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rebuild_index&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to rebuild indexes after
      every sync. Defaults to off.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;lifetime&quot;</dt>
  <dd class="It-tag">Number of seconds a KID can live before being reaped. No
      limit by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;maxkicks&quot;</dt>
  <dd class="It-tag">Number of times a KID may be kicked before being reaped. No
      limit by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conflict_strategy&quot;</dt>
  <dd class="It-tag">The conflict resolution strategy to use in the sync.
      Supported values:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_source&quot;</dt>
  <dd class="It-tag">The rows on the &quot;source&quot; database always
      &quot;win&quot;. In other words, in a conflict, Bucardo copies rows from
      source to target.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_target&quot;</dt>
  <dd class="It-tag">The rows on the &quot;target&quot; database always
    win.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_skip&quot;</dt>
  <dd class="It-tag">Any conflicting rows are simply not replicated. Not
      recommended for most cases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_random&quot;</dt>
  <dd class="It-tag">Each database has an equal chance of winning each time.
      This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_latest&quot;</dt>
  <dd class="It-tag">The row that was most recently changed wins.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_abort&quot;</dt>
  <dd class="It-tag">The sync is aborted on a conflict.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;onetimecopy&quot;</dt>
  <dd class="It-tag">Determines whether or not a sync should switch to a full
      copy mode for a single run. Supported values are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">0: off</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1: always full copy</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2: only copy tables that are empty on the target</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stayalive&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not the sync processes (CTL)
      should be persistent. Defaults to false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kidsalive&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not the sync child processes
      (KID) should be persistent. Defaults to false.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;autokick&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not tables in the sync should
      automatically send kick messages when they're modified. May be overridden
      by the &quot;autokick&quot; parameter of individual tables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;checktime&quot;</dt>
  <dd class="It-tag">An interval specifying the maximum time a sync should go
      before being kicked. Useful for busy systems where you don't want the
      overhead of notify triggers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;priority&quot;</dt>
  <dd class="It-tag">An integer indicating the priority of the sync. Lower
      numbers are higher priority. Currently used only for display
    purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;analyze_after_copy&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to analyze tables after
      every sync. Off by default. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;overdue&quot;</dt>
  <dd class="It-tag">An interval specifying the amount of time after which the
      sync has not run that it should be considered overdue.
      &quot;check_bucardo_sync&quot; issues a warning when a sync has not been
      run in this amount of time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;expired&quot;</dt>
  <dd class="It-tag">An interval specifying the amount of time after which the
      sync has not run that it should be considered expired.
      &quot;check_bucardo_sync&quot; issues a critical message when a sync has
      not been run in this amount of time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;track_rates&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to track synchronization
      rates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rebuild_index&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to rebuild indexes after
      every sync. Off by default. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;strict_check&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to be strict when
      comparing tables in the sync. If the columns have different names or data
      types, the validation will fail. But perhaps the columns are allowed to
      have different names or data types. If so, disable
      &quot;strict_check&quot; and column differences will result in warnings
      rather than failing the validation. Defaults to true.</dd>
</dl>
<div class="Pp"></div>
<i>add customname</i>
<div class="Pp"></div>
<pre>
  bucardo add customname oldname newname [db=name] [sync=name]
</pre>
<div class="Pp"></div>
Creates a new Bucardo custom name mapping. This allows the tables involved in
  replication to have different names on different databases. The
  &quot;oldname&quot; must contain the schema as well as the table name (if the
  source database supports schemas). The optional parameters limit it to one or
  more databases, and/or to one or more syncs. Supported parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sync&quot;</dt>
  <dd class="It-tag">A sync to which to add the customname. May be specified
      multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;database&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">A database for which to add the customname. May be
      specified multiple times.</dd>
</dl>
<div class="Pp"></div>
<i>add customcols</i>
<div class="Pp"></div>
<pre>
  bucardo add customcols tablename select_clause [sync=x db=x]
</pre>
<div class="Pp"></div>
Specify the list of columns to select from when syncing. Rather than the default
  &quot;SELECT *&quot; behavior, you can specify any columns you want, including
  the use of function call return values and things not in the source column
  list. The optional parameters limit it to one or more databases, and/or to one
  or more syncs. Some examples:
<div class="Pp"></div>
<pre>
  bucardo add customcols public.foobar &quot;select a, b, c&quot;
  bucardo add customcols public.foobar &quot;select a, upper(b) AS b, c&quot; db=foo
  bucardo add customcols public.foobar &quot;select a, b, c&quot; db=foo sync=abc
</pre>
<div class="Pp"></div>
Supported parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sync&quot;</dt>
  <dd class="It-tag">A sync to which to add the customcols. May be specified
      multiple times.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;database&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">A database for which to add the customcols. May be
      specified multiple times.</dd>
</dl>
<div class="Pp"></div>
<i>add customcode</i>
<div class="Pp"></div>
<pre>
  bucardo add customcode &lt;name&gt; &lt;whenrun=value&gt; &lt;src_code=filename&gt; [optional information]
</pre>
<div class="Pp"></div>
Adds a customcode, which is a Perl subroutine that can be run at certain points
  in the sync process. It might handle exceptions, handle conflicts, or just run
  at certain times with no expectation of functionality (e.g., before Bucardo
  drops triggers). Metadata about that point will be passed to the subroutine as
  a hash reference.
<div class="Pp"></div>
Supported parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;name&quot;</dt>
  <dd class="It-tag">The name of the custom code object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;about&quot;</dt>
  <dd class="It-tag">A short description of the custom code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;whenrun&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;when_run&quot;</dt>
  <dd class="It-tag">A string indicating when the custom code should be run.
      Supported values include:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_txn&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_check_rows&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_trigger_drop&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_trigger_drop&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_table_sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;exception&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conflict&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_trigger_enable&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_trigger_enable&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_txn&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;getdbh&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not Perl DBI database handles
      should be provided to the custom code subroutine. If true, database
      handles will be provided under the &quot;dbh&quot; key of the hash
      reference passed to the subroutine. The value under this key will be a
      hash reference mapping database names to their respective handles.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sync&quot;</dt>
  <dd class="It-tag">Name of the sync with which to associate the custom
    code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relation&quot;</dt>
  <dd class="It-tag">Name of the table or sequence with which to associate the
      custom code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status&quot;</dt>
  <dd class="It-tag">The current status of this customcode. Anything other than
      &quot;active&quot; means the code is not run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;priority&quot;</dt>
  <dd class="It-tag">Number indicating the priority in which order to execute
      custom codes. Lower numbers are higher priority. Useful for subroutines
      that set &quot;lastcode&quot; in order to cancel the execution of
      subsequent custom codes for the same &quot;when_run&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;src_code&quot;</dt>
  <dd class="It-tag">File from which to read the custom code Perl source.</dd>
</dl>
<div class="Pp"></div>
The body of the Perl subroutine should be implemented in the
  &quot;src_code&quot; file, and not inside a &quot;sub&quot; declaration. When
  called, it will be passed a single hash reference with the following keys:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;syncname&quot;</dt>
  <dd class="It-tag">The name of the currently-executing sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;version&quot;</dt>
  <dd class="It-tag">The version of Bucardo executing the sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sourcename&quot;</dt>
  <dd class="It-tag">The name of the source database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;targetname&quot;</dt>
  <dd class="It-tag">The name of the target database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sendmail&quot;</dt>
  <dd class="It-tag">A code reference that can be used to send email
    messages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sourcedbh&quot;</dt>
  <dd class="It-tag">A DBI database handle to the sync source database. Provided
      only to custom code executed by the controller.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rellist&quot;</dt>
  <dd class="It-tag">An array reference of hash references, each representing a
      relation in the sync. Provided only to custom code executed by the
      controller. The keys in the hash are the same as the parameters supported
      by &quot;add table&quot; and &quot;add sequence&quot;, as
    appropriate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;schemaname&quot;</dt>
  <dd class="It-tag">The schema for the table that triggered the exception.
      Provided only to &quot;exception&quot; custom codes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;tablename&quot;</dt>
  <dd class="It-tag">The name of the table that triggered the exception.
      Provided only to &quot;exception&quot; custom codes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;error_string&quot;</dt>
  <dd class="It-tag">The string containing the actual error message. Provided
      only to &quot;exception&quot; custom codes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;deltabin&quot;</dt>
  <dd class="It-tag">A hash reference with the name of each source database as a
      key and a list of all primary keys joined together with &quot;\0&quot;.
      Provided only to &quot;exception&quot; custom codes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;attempts&quot;</dt>
  <dd class="It-tag">The number of times the sync has been attempted. Provided
      only to &quot;exception&quot; custom codes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conflicts&quot;</dt>
  <dd class="It-tag">A hash reference of conflicting rows. The keys are the
      primary key values, and the values are hash references with the names of
      the databases containing the conflicting rows and true values. Provided
      only to &quot;conflict&quot; custom codes.</dd>
</dl>
<div class="Pp"></div>
The custom code subroutine may set any of these keys in the hash reference to
  change the behavior of the sync:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;message&quot;</dt>
  <dd class="It-tag">Message to send to the logs.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;warning&quot;</dt>
  <dd class="It-tag">A warning to emit after the subroutine has returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;error&quot;</dt>
  <dd class="It-tag">An error to be thrown after the subroutine has
    returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;nextcode&quot;</dt>
  <dd class="It-tag">Set to send execution to the next custom code of the same
      type. Mainly useful to exception custom codes, and supported only by
      custom codes executed by the controller.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;lastcode&quot;</dt>
  <dd class="It-tag">Set to true to have any subsequent custom codes of the same
      type to be skipped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;endsync&quot;</dt>
  <dd class="It-tag">Cancels the sync altogether.</dd>
</dl>
<div class="Pp"></div>
An example:
<div class="Pp"></div>
<pre>
  use strict;
  use warnings;
  use Data::Dumper;
  my $info = shift;
  # Let's open a file.
  my $file = '/tmp/bucardo_dump.txt';
  open my $fh, '&gt;:encoding(UTF-8)', $file or do {
      $info-&gt;{warning} = &quot;Cannot open $file: $!\n&quot;;
      return;
  };
  # Inspect $info for fun.
  print $fh Dumper $info;
  close $fh or $info-&gt;{warning} = &quot;Error closing $file: $!\n&quot;;
  # Log a message and return.
  $info-&gt;{message} = 'IN UR DATABASEZ NORMALIZIN UR RELAYSHUNS';
  return;
</pre>
<h2 class="Ss" title="Ss" id="update"><a class="selflink" href="#update">update</a></h2>
<pre>
  bucardo update &lt;type&gt; &lt;name&gt; &lt;parameters&gt;
</pre>
<div class="Pp"></div>
Updates a Bucardo object. The &quot;type&quot; specifies the type of object to
  update, while the &quot;name&quot; should be the name of the object. The
  supported parameters for each type are the same as those for &quot;add&quot;.
  The supported types are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;customcode&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sequence&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<div class="Pp"></div>
<i>update customcode</i>
<div class="Pp"></div>
<pre>
  bucardo update customcode &lt;name&gt; setting=value
</pre>
<div class="Pp"></div>
Updates an existing customcode. Items that can be changed are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;about&quot;</dt>
  <dd class="It-tag">A short description of the custom code.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;getdbh&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not Perl DBI database handles
      should be provided to the custom code subroutine. If true, database
      handles will be provided under the &quot;dbh&quot; key of the hash
      reference passed to the subroutine. The value under this key will be a
      hash reference mapping database names to their respective handles.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;name&quot;</dt>
  <dd class="It-tag">The name of the custom code object.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;priority&quot;</dt>
  <dd class="It-tag">Number indicating the priority in which order to execute
      custom codes. Lower numbers are higher priority. Useful for subroutines
      that set &quot;lastcode&quot; in order to cancel the execution of
      subsequent custom codes for the same &quot;when_run&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status&quot;</dt>
  <dd class="It-tag">The current status of this customcode. Anything other than
      &quot;active&quot; means the code is not run.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;whenrun&quot;</dt>
  <dd class="It-tag">A string indicating when the custom code should be run.
      Supported values include:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_txn&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_check_rows&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_trigger_drop&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_trigger_drop&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_table_sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;exception&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conflict&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_trigger_enable&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_trigger_enable&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_txn&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;before_sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;after_sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<div class="Pp"></div>
<i>update db</i>
<div class="Pp"></div>
<pre>
  bucardo udpate db &lt;name&gt; port=xxx host=xxx user=xxx pass=xxx
</pre>
<div class="Pp"></div>
Updates a database. The &quot;name&quot; is the name by which the database is
  known to Bucardo. This may vary from the actual database name, as multiple
  hosts might have databases with the same name.
<div class="Pp"></div>
The supported named parameters are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbname&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">The actual name of the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;type&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbtype&quot;</dt>
  <dd class="It-tag">The type of the database. Currently supported values
    are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;postgres&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;drizzle&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;mongo&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;mysql&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;maria&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;oracle&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;redis&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;sqlite&quot;</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;username&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbuser&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;user&quot;</dt>
  <dd class="It-tag">The username Bucardo should use to connect to the
    database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;password&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbpass&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;pass&quot;</dt>
  <dd class="It-tag">The password Bucardo should use when connecting to the
      database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbhost&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;pghost&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;host&quot;</dt>
  <dd class="It-tag">The host name to which to connect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbport&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;pgport&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;port&quot;</dt>
  <dd class="It-tag">The port to which to connect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbconn&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;pgconn&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conn&quot;</dt>
  <dd class="It-tag">Additional connection parameters, e.g.,
      &quot;sslmode=require&quot;. Optional.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status&quot;</dt>
  <dd class="It-tag">Status of the database in Bucardo. Must be either
      &quot;active&quot; or &quot;inactive&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbgroup&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;server_side_prepares&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;ssp&quot;</dt>
  <dd class="It-tag">Enable or disable server-side prepares. Pass 1 to enable
      them or 0 to disable them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;makedelta&quot;</dt>
  <dd class="It-tag">Enable or disable makedelta for this database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbservice&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;service&quot;</dt>
  <dd class="It-tag">The service name to use for a Postgres database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbgroup&quot;</dt>
  <dd class="It-tag">A comma-separated list of dbgroups to which to add the
      database. The database will be removed from any other dbgroups of which it
      was previously a member.</dd>
</dl>
<div class="Pp"></div>
<i>update sync</i>
<div class="Pp"></div>
<pre>
  bucardo update sync syncname relgroup=xxx dbs=xxx
</pre>
<div class="Pp"></div>
Updates a sync, which is a named replication event containing information about
  what to replicate from where to where. The supported parameters are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;name&quot;</dt>
  <dd class="It-tag">The name of the sync. Required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;dbs&quot;</dt>
  <dd class="It-tag">The name of a dbgroup or comma-delimited list of
    databases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag">The name of a relgroup to synchronize.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;status&quot;</dt>
  <dd class="It-tag">Indicates whether or not the sync is active. Must be either
      &quot;active&quot; or &quot;inactive&quot;. Note that this will not change
      the current run status of the sync, just mark whether it should be active
      or inactive on the next reload. Use the &quot;activate sync&quot; and
      &lt;deactivate sync&gt; commands to actually activate or deactivate a
      sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rebuild_index&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to rebuild indexes after
      every sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;lifetime&quot;</dt>
  <dd class="It-tag">Number of seconds a KID can live before being reaped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;maxkicks&quot;</dt>
  <dd class="It-tag">Number of times a KID may be kicked before being
    reaped.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;isolation_level&quot;</dt>
  <dd class="It-tag">The transaction isolation level this sync should use. Only
      choices are &quot;serializable&quot; and &quot;repeatable read&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;conflict_strategy&quot;</dt>
  <dd class="It-tag">The conflict resolution strategy to use in the sync.
      Supported values:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_source&quot;</dt>
  <dd class="It-tag">The rows on the &quot;source&quot; database always
      &quot;win&quot;. In other words, in a conflict, Bucardo copies rows from
      source to target.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_target&quot;</dt>
  <dd class="It-tag">The rows on the &quot;target&quot; database always
    win.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_skip&quot;</dt>
  <dd class="It-tag">Any conflicting rows are simply not replicated. Not
      recommended for most cases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_random&quot;</dt>
  <dd class="It-tag">Each database has an equal chance of winning each
    time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_latest&quot;</dt>
  <dd class="It-tag">The row that was most recently changed wins.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_abort&quot;</dt>
  <dd class="It-tag">The sync is aborted on a conflict.</dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;onetimecopy&quot;</dt>
  <dd class="It-tag">Determines whether or not a sync should switch to a full
      copy mode for a single run. Supported values are:</dd>
</dl>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">0: off</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1: always full copy</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2: only copy tables that are empty on the target</dt>
  <dd class="It-tag"></dd>
</dl>
</div>
<div style="margin-left: 4.00ex;"></div>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stayalive&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not the sync processes (CTL)
      should be persistent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kidsalive&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not the sync child processes
      (KID) should be persistent.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;autokick&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not tables in the sync should
      automatically send kick messages when they're modified. May be overridden
      by the &quot;autokick&quot; parameter of individual tables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;checktime&quot;</dt>
  <dd class="It-tag">An interval specifying the maximum time a sync should go
      before being kicked. Useful for busy systems where you don't want the
      overhead of notify triggers.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;priority&quot;</dt>
  <dd class="It-tag">An integer indicating the priority of the sync. Lower
      numbers are higher priority. Currently used only for display
    purposes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;analyze_after_copy&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to analyze tables after
      every sync. Off by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;overdue&quot;</dt>
  <dd class="It-tag">An interval specifying the amount of time after which the
      sync has not run that it should be considered overdue.
      &quot;check_bucardo_sync&quot; issues a warning when a sync has not been
      run in this amount of time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;expired&quot;</dt>
  <dd class="It-tag">An interval specifying the amount of time after which the
      sync has not run that it should be considered expired.
      &quot;check_bucardo_sync&quot; issues a critical message when a sync has
      not been run in this amount of time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;track_rates&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to track synchronization
      rates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rebuild_index&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to rebuild indexes after
      every sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;strict_check&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to be strict when
      comparing tables in the sync. If the columns have different names or data
      types, the validation will fail. But perhaps the columns are allowed to
      have different names or data types. If so, disable
      &quot;strict_check&quot; and column differences will result in warnings
      rather than failing the validation. Defaults to true.</dd>
</dl>
<div class="Pp"></div>
<i>update table</i>
<div class="Pp"></div>
<pre>
  bucardo update table [schema].table db=actual_db_name
</pre>
<div class="Pp"></div>
Updates a table object. The table information will be read from the specified
  database. Supported parameters:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">The name of the database from which to read the table
      information. Should be a name known to Bucardo.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;schemaname&quot;</dt>
  <dd class="It-tag">The name of the schema in which the table is found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;tablename&quot;</dt>
  <dd class="It-tag">The actual name of the table.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;autokick&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not the table should
      automatically send kick messages when it's modified. Overrides the
      &quot;autokick&quot; parameter of any syncs of which the table is a
    part.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;rebuild_index&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to rebuild indexes after
      every sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;analyze_after_copy&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to analyze the table
      after every sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;vacuum_after_copy&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to vacuum the table after
      every sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag">Adds the table to the named relgroup. May be specified more
      than once. The table will be removed from any other relgroups.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;makedelta&quot;</dt>
  <dd class="It-tag">Specifies which databases need makedelta enabled for this
      table.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;strict_check&quot;</dt>
  <dd class="It-tag">Boolean indicating whether or not to be strict when
      comparing the table between syncs. If the columns have different names or
      data types, the validation will fail. But perhaps the columns are allowed
      to have different names or data types. If so, disable
      &quot;strict_check&quot; and column differences will result in warnings
      rather than failing the validation. Defaults to true.</dd>
</dl>
<div class="Pp"></div>
<i>update sequence</i>
<div class="Pp"></div>
<pre>
  bucardo update sequence [schema].sequence relgroup=xxx
</pre>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;db&quot;</dt>
  <dd class="It-tag">The name of the database where the sequence lives.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;schemaname&quot;</dt>
  <dd class="It-tag">The name of the schema in which the sequence is found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag">Adds the sequence to the named relgroup. May be
      speci&lt;fied more than once. The sequence will be removed from any other
      relgroups.</dd>
</dl>
<h2 class="Ss" title="Ss" id="remove"><a class="selflink" href="#remove">remove</a></h2>
<pre>
  bucardo remove &lt;item_type&gt; &lt;item_name&gt;
</pre>
<div class="Pp"></div>
Removes one or more objects from Bucardo. Valid item types are;
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;db&quot; or &quot;database&quot;
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the &quot;--force&quot; option to clear out related tables and groups
      instead of erroring out.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;dbgroup&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;relgroup&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;sync&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;table&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;sequence&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;customcols&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;customname&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">&quot;customcode&quot;</dd>
</dl>
<h2 class="Ss" title="Ss" id="kick"><a class="selflink" href="#kick">kick</a></h2>
<pre>
  bucardo kick &lt;syncname(s)&gt; [timeout]
</pre>
<div class="Pp"></div>
Tells one or more named syncs to fire as soon as possible. Note that this simply
  sends a request that the sync fire: it may not start right away if the same
  sync is already running, or if the source or target database has exceeded the
  number of allowed Bucardo connections. If the final argument is a number, it
  is treated as a timeout. If this number is zero, the bucardo command will not
  return until the sync has finished. For any other number, the sync will wait
  at most that number of seconds. If any sync has not finished before the
  timeout, an exit value of 1 will be returned. Errors will cause exit values of
  2 or 3. In all other cases, an exit value of 0 will be returned.
<div class="Pp"></div>
If a timeout is given, the total completion time in seconds is also displayed.
  If the sync is going to multiple targets, the time that each target takes from
  the start of the kick is also shown as each target finishes. Options:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--retry&quot;</dt>
  <dd class="It-tag">The number of times to retry a sync if it fails. Defaults
      to 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--retry-sleep&quot;</dt>
  <dd class="It-tag">How long to sleep, in seconds, between each retry
    attempt.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--notimer&quot;</dt>
  <dd class="It-tag">By default, kicks with a timeout argument give a running
      real-time summary of time elapsed by using the backspace character. This
      may not be wanted if running a kick, for example, via a cronjob, so
      turning --notimer on will simply print the entire message without
      backspaces.</dd>
</dl>
<h2 class="Ss" title="Ss" id="pause"><a class="selflink" href="#pause">pause</a></h2>
<pre>
  bucardo pause &lt;syncname(s)&gt;
  bucardo pause all
  bucardo resume &lt;syncname(s)&gt;
  bucardo resume all
</pre>
<div class="Pp"></div>
Tells one or more named syncs to temporarily pause, or to resume from a previous
  pause. This only applies to active syncs and only takes effect if Bucardo is
  currently running. The keyword 'all' can be used as well to pause or resume
  all known active syncs.
<h2 class="Ss" title="Ss" id="reload_config"><a class="selflink" href="#reload_config">reload
  config</a></h2>
<pre>
  bucardo reload config
  bucardo reload config 30
</pre>
<div class="Pp"></div>
Sends a message to all CTL and KID processes asking them to reload the Bucardo
  configuration. This configuration is a series of key/value pairs that
  configure Bucardo's behavior, and not any of the objects managed by the
  &quot;add&quot;, &quot;remove&quot;, or &quot;update&quot; commands.
<div class="Pp"></div>
By default, Bucardo will send the message and then exit. Pass an optional number
  and Bucardo will instead wait up to that length of time for all child
  processes to report completion.
<h2 class="Ss" title="Ss" id="set"><a class="selflink" href="#set">set</a></h2>
<pre>
  bucardo set setting1=value [setting2=value]
</pre>
<div class="Pp"></div>
Sets one or more configuration setting table. Setting names are
  case-insensitive. The available settings are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;autosync_ddl&quot;</dt>
  <dd class="It-tag">Which DDL changing conditions do we try to remedy
      automatically? Default: &quot;newcol&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_version&quot;</dt>
  <dd class="It-tag">Current version of Bucardo. Default: 5.4.1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_vac&quot;</dt>
  <dd class="It-tag">Do we want the automatic VAC daemon to run? Default:
    1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;bucardo_initial_version&quot;</dt>
  <dd class="It-tag">Bucardo version this schema was created with. Default:
      5.4.1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;ctl_checkonkids_time&quot;</dt>
  <dd class="It-tag">How often does the controller check on the kids health?
      Default: 10.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;ctl_createkid_time&quot;</dt>
  <dd class="It-tag">How long do we sleep to allow kids-on-demand to get on
      their feet? Default: 0.5.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;ctl_sleep&quot;</dt>
  <dd class="It-tag">How long does the controller loop sleep? Default: 0.2.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;default_conflict_strategy&quot;</dt>
  <dd class="It-tag">Default conflict strategy for all syncs. Default:
      &quot;bucardo_latest&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;default_email_from&quot;</dt>
  <dd class="It-tag">Who the alert emails are sent as. Default:
      &quot;nobody@example.com&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;default_email_host&quot;</dt>
  <dd class="It-tag">Which host to send email through. Default:
      &quot;localhost&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;default_email_to&quot;</dt>
  <dd class="It-tag">Who to send alert emails to. Default:
      &quot;nobody@example.com&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;email_debug_file&quot;</dt>
  <dd class="It-tag">File to save a copy of all outgoing emails to. Default:
      None.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;endsync_sleep&quot;</dt>
  <dd class="It-tag">How long do we sleep when custom code requests an endsync?
      Default: 1.0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;flatfile_dir&quot;</dt>
  <dd class="It-tag">Directory to store the flatfile output inside of. Default:
      &quot;.&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;host_safety_check&quot;</dt>
  <dd class="It-tag">Regex to make sure we don't accidentally run where we
      should not. Default: None.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;isolation_level&quot;</dt>
  <dd class="It-tag">The transaction isolation level all sync should use.
      Defaults to 'serializable'. The only other valid option is 'repeatable
      read'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kid_deadlock_sleep&quot;</dt>
  <dd class="It-tag">How long to sleep in seconds if we hit a deadlock error.
      Default: 0.5. Set to -1 to prevent the kid from retrying.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kid_nodeltarows_sleep&quot;</dt>
  <dd class="It-tag">How long do kids sleep if no delta rows are found? Default:
      0.5.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kid_pingtime&quot;</dt>
  <dd class="It-tag">How often do we ping check the KID? Default: 60.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kid_restart_sleep&quot;</dt>
  <dd class="It-tag">How long to sleep in seconds when restarting a kid?
      Default: 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kid_serial_sleep&quot;</dt>
  <dd class="It-tag">How long to sleep in seconds if we hit a serialization
      error. Default: 0.5. Set to -1 to prevent the kid from retrying.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;kid_sleep&quot;</dt>
  <dd class="It-tag">How long does a kid loop sleep? Default: 0.5.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_conflict_file&quot;</dt>
  <dd class="It-tag">Name of the conflict detail log file. Default:
      &quot;bucardo_conflict.log&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_level&quot;</dt>
  <dd class="It-tag">How verbose to make the logging. Higher is more verbose.
      Default: &quot;normal&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_microsecond&quot;</dt>
  <dd class="It-tag">Show microsecond output in the timestamps? Default: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_showlevel&quot;</dt>
  <dd class="It-tag">Show log level in the log output? Default: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_showline&quot;</dt>
  <dd class="It-tag">Show line number in the log output? Default: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_showpid&quot;</dt>
  <dd class="It-tag">Show PID in the log output? Default: 1.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;log_showtime&quot;</dt>
  <dd class="It-tag">Show timestamp in the log output? 0=off 1=seconds since
      epoch 2=scalar gmtime 3=scalar localtime. Default: 3.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;mcp_dbproblem_sleep&quot;</dt>
  <dd class="It-tag">How many seconds to sleep before trying to respawn.
      Default: 15.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;mcp_loop_sleep&quot;</dt>
  <dd class="It-tag">How long does the main MCP daemon sleep between loops?
      Default: 0.2.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;mcp_pingtime&quot;</dt>
  <dd class="It-tag">How often do we ping check the MCP? Default: 60.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;mcp_vactime&quot;</dt>
  <dd class="It-tag">How often in seconds do we check that a VAC is still
      running? Default: 60.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;piddir&quot;</dt>
  <dd class="It-tag">Directory holding Bucardo PID files. Default:
      &quot;/var/run/bucardo&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;reason_file&quot;</dt>
  <dd class="It-tag">File to hold reasons for stopping and starting. Default:
      &quot;bucardo.restart.reason.txt&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;reload_config_timeout&quot;</dt>
  <dd class="It-tag">Number of seconds the &quot;reload_config&quot; command
      should wait for the reload to complete. Default: 30.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;semaphore_table&quot;</dt>
  <dd class="It-tag">Table to let apps know a sync is ongoing. Default:
      &quot;bucardo_status&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;statement_chunk_size&quot;</dt>
  <dd class="It-tag">How many primary keys to shove into a single statement.
      Default: 10000.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stats_script_url&quot;</dt>
  <dd class="It-tag">Location of the stats script. Default:
      &quot;http://www.bucardo.org/&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;stopfile&quot;</dt>
  <dd class="It-tag">Name of the semaphore file used to stop Bucardo processes.
      Default: &quot;fullstopbucardo&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;syslog_facility&quot;</dt>
  <dd class="It-tag">Which syslog facility level to use. Default:
      &quot;log_local1&quot;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;tcp_keepalives_count&quot;</dt>
  <dd class="It-tag">How many probes to send. 0 indicates sticking with system
      defaults. Default: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;tcp_keepalives_idle&quot;</dt>
  <dd class="It-tag">How long to wait between each keepalive probe. Default:
    0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;tcp_keepalives_interval&quot;</dt>
  <dd class="It-tag">How long to wait for a response to a keepalive probe.
      Default: 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;vac_run&quot;</dt>
  <dd class="It-tag">How often does the VAC process run? Default: 30.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;vac_sleep&quot;</dt>
  <dd class="It-tag">How long does VAC process sleep between runs? Default:
    120.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;warning_file&quot;</dt>
  <dd class="It-tag">File containing all log lines starting with
      &quot;Warning&quot;. Default: &quot;bucardo.warning.log&quot;.</dd>
</dl>
<h2 class="Ss" title="Ss" id="show"><a class="selflink" href="#show">show</a></h2>
<pre>
  bucardo show all|&lt;setting&gt; [&lt;setting&gt;...]
</pre>
<div class="Pp"></div>
Shows the current Bucardo settings. Use the keyword &quot;all&quot; to see all
  the settings, or specify one or more search terms. See &quot;set&quot; for
  complete details on the configuration settings.
<h2 class="Ss" title="Ss" id="config"><a class="selflink" href="#config">config</a></h2>
<pre>
  bucardo config show all|&lt;setting&gt; [&lt;setting&gt;...]
  bucardo config set &lt;setting=value&gt; [&lt;setting=value&gt;...]
</pre>
<div class="Pp"></div>
Deprecated interface for showing and setting configuration settings. Use the
  &quot;show&quot; and &quot;set&quot; commands, instead.
<h2 class="Ss" title="Ss" id="ping"><a class="selflink" href="#ping">ping</a></h2>
<pre>
  bucardo ping
  bucardo ping 60
  bucardo ping 0
</pre>
<div class="Pp"></div>
Sends a ping notice to the MCP process to see if it will respond. By default, it
  will wait 15 seconds. A numeric argument will change this timeout. Using a 0
  as the timeout indicates waiting forever. If a response was returned, the
  program will exit with a value of 0. If it times out, the value will be 1.
  Returns a Nagios like message starting with &quot;OK&quot; or
  &quot;CRITICAL&quot; for success or failure.
<h2 class="Ss" title="Ss" id="status"><a class="selflink" href="#status">status</a></h2>
<pre>
  bucardo status [syncname(s)] [--sort=#] [--show-days] [--compress]
</pre>
<div class="Pp"></div>
Shows the brief status of all known syncs in a tabular format. If given one or
  more sync names, shows detailed information for each one. To see detailed
  information for all syncs, simply use &quot;status all&quot;
<div class="Pp"></div>
When showing brief information, the columns are:
<dl class="Bl-tag">
  <dt class="It-tag">1. <b>Name</b></dt>
  <dd class="It-tag">The name of the sync</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2. <b>State</b></dt>
  <dd class="It-tag">The state of the sync. Can be 'Good', 'Bad', 'Empty', 'No
      records found', 'Unknown', or the run state for a currently-running
    sync.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">3. <b>Last good</b></dt>
  <dd class="It-tag">When the sync last successfully ran.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">4. <b>Time</b></dt>
  <dd class="It-tag">How long it has been since the last sync success</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">5. <b>Last I/U</b></dt>
  <dd class="It-tag">The number of insert and deletes performed by the last
      successful sync. May also show the number of rows truncated (T) or
      conflicted (C), if applicable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">6. <b>Last bad</b></dt>
  <dd class="It-tag">When the sync last failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">7. <b>Time</b></dt>
  <dd class="It-tag">How long it has been since the last sync failure</dd>
</dl>
<div class="Pp"></div>
The options for &quot;status&quot; are:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--show-days&quot;</dt>
  <dd class="It-tag">Specifies whether or not do list the time interval with
      days, or simply show the hours. For example, &quot;3d 12h 6m 3s&quot; vs.
      &quot;48h 6m 3s&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--compress&quot;</dt>
  <dd class="It-tag">Specifies whether or not to compress the time interval by
      removing spaces. Mostly used to limit the width of the 'status'
    display.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--sort=#&quot;</dt>
  <dd class="It-tag">Requests sorting of the 'status' output by one of the nine
      columns. Use a negative number to reverse the sort order.</dd>
</dl>
<h2 class="Ss" title="Ss" id="activate"><a class="selflink" href="#activate">activate</a></h2>
<pre>
  bucardo activate syncname [syncname2 syncname3 ...] [timeout]
</pre>
<div class="Pp"></div>
Activates one or more named syncs. If given a timeout argument, it will wait
  until it has received confirmation from Bucardo that each sync has been
  successfully activated.
<h2 class="Ss" title="Ss" id="deactivate"><a class="selflink" href="#deactivate">deactivate</a></h2>
<pre>
  bucardo deactivate syncname [syncname2 syncname3 ...] [timeout]
</pre>
<div class="Pp"></div>
Deactivates one or more named syncs. If given a timeout argument, it will wait
  until it has received confirmation from Bucardo that the sync has been
  successfully deactivated.
<h2 class="Ss" title="Ss" id="message"><a class="selflink" href="#message">message</a></h2>
<pre>
  bucardo message 'I WAS HERE'
</pre>
<div class="Pp"></div>
Sends a message to the running Bucardo logs. This message will appear prefixed
  with &quot;MESSAGE: &quot;. If Bucardo is not running, the message will go to
  the logs the next time Bucardo runs and someone adds another message.
<h2 class="Ss" title="Ss" id="reload"><a class="selflink" href="#reload">reload</a></h2>
<pre>
  bucardo reload [syncname2 syncname3 ...]
</pre>
<div class="Pp"></div>
Sends a message to one or more sync processes, instructing them to reload. Waits
  for each to reload before going on to the next. Reloading consists of
  deactivating a sync, reloading its information from the database, and
  activating it again.
<h2 class="Ss" title="Ss" id="inspect"><a class="selflink" href="#inspect">inspect</a></h2>
<pre>
  bucardo inspect &lt;type&gt; &lt;name&gt; [&lt;name2&gt;...]
</pre>
<div class="Pp"></div>
Inspects one or more objects of a particular type. The results are sent to
  &quot;STDOUT&quot;. The supported types include:
<dl class="Bl-tag">
  <dt class="It-tag">&quot;table&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;sync&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;relgroup&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<h2 class="Ss" title="Ss" id="validate"><a class="selflink" href="#validate">validate</a></h2>
<pre>
  bucardo validate all|&lt;sync&gt; [&lt;sync&gt;...]
</pre>
<div class="Pp"></div>
Validates one or more syncs. Use the keyword &quot;all&quot; to validate all
  syncs, or specify one or more syncs to validate.
<div class="Pp"></div>
Note that this command executes a subset of all the validation done when a sync
  is started or activated.
<h2 class="Ss" title="Ss" id="purge"><a class="selflink" href="#purge">purge</a></h2>
<pre>
  bucardo purge all|&lt;table&gt; [&lt;table&gt;...]
</pre>
<div class="Pp"></div>
Purges the delta and track tables for one or more tables, for one or more
  databases. Use the keyword &quot;all&quot; to validate all tables, or specify
  one or more tables to validate.
<h2 class="Ss" title="Ss" id="delta"><a class="selflink" href="#delta">delta</a></h2>
<pre>
  bucardo delta [total] [&lt;database&gt;...]
</pre>
<div class="Pp"></div>
Show the current delta count for each source target. Provide a list of databases
  to limit it to just the given ones. Wildcards are allowed. Use the special
  name &quot;totals&quot; to show only the grand total.
<h2 class="Ss" title="Ss" id="help"><a class="selflink" href="#help">help</a></h2>
<pre>
  bucardo help
  bucardo help &lt;command&gt;
  bucardo help &lt;command&gt; &lt;action&gt;
</pre>
<div class="Pp"></div>
Get help. General help can be returned, as well as help for a single command or
  a command and its action. Some examples:
<div class="Pp"></div>
<pre>
  bucard help list
  bucard help add table
</pre>
<h1 class="Sh" title="Sh" id="OPTIONS_DETAILS"><a class="selflink" href="#OPTIONS_DETAILS">OPTIONS
  DETAILS</a></h1>
It is usually easier to set most of these options at the top of the script, or
  make an alias for them, as they will not change very often if at all.
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-d&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db-name&quot;</dt>
  <dd class="It-tag">
    <pre>
  bucardo --db-name widgets
  bucardo -d bricolage
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Name of the Bucardo database to which to connect.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-U&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db-user&quot;</dt>
  <dd class="It-tag">
    <pre>
  bucardo --db-user postgres
  bucardo -U Mom
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    User name to use when connecting to the Bucardo database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-P&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db-pass&quot;</dt>
  <dd class="It-tag">
    <pre>
  bucardo --db-pass s3cr1t
  bucardo -P lolz
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Password to use when connecting to the Bucardo database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-h&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db-host&quot;</dt>
  <dd class="It-tag">
    <pre>
  bucardo --db-host db.example.com
  bucardo -h db2.example.net
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Host name to use when connecting to the Bucardo database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;-p&quot;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--db-port&quot;</dt>
  <dd class="It-tag">
    <pre>
  bucardo --db-port 7654
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Port number to connect to when connecting to the Bucardo database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--bucardorc&quot;</dt>
  <dd class="It-tag">
    <pre>
  bucardo --bucardorc myrcfile
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    Use the specified file for configuration instead of the default
      <i>./.bucardorc</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--no-bucardorc&quot;</dt>
  <dd class="It-tag">Do not use the <i>./.bucardorc</i> configuration file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--verbose&quot;</dt>
  <dd class="It-tag">Makes bucardo run verbosely. Default is off.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--quiet&quot;</dt>
  <dd class="It-tag">Tells bucardo to be as quiet as possible. Default is
    off.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&quot;--help&quot;</dt>
  <dd class="It-tag">Shows a brief summary of usage for bucardo.</dd>
</dl>
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
In addition to command-line configurations, you can put any options inside of a
  file. The file <i>.bucardorc</i> in the current directory will be used if
  found. If not found, then the file <i>~/.bucardorc</i> will be used. Finally,
  the file /etc/bucardorc will be used if available. The format of the file is
  option = value, one per line. Any line starting with a '#' will be skipped.
  Any values loaded from a bucardorc file will be overwritten by command-line
  options. All bucardorc files can be ignored by supplying a
  &quot;--no-bucardorc&quot; argument. A specific file can be forced with the
  &quot;--bucardorc=file&quot; option; if this option is set, bucardo will
  refuse to run unless that file can be read.
<h1 class="Sh" title="Sh" id="ENVIRONMENT_VARIABLES"><a class="selflink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
The bucardo script uses <i></i><i>$ENV</i><i>{HOME}</i> to look for a
  <i>.bucardorc</i> file.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Bug reports and feature requests are always welcome, please visit bucardo.org
  &lt;http://bucardo.org&gt;, file GitHub Issues
  &lt;http://github.com/bucardo/bucardo/issues&gt;, or post to our email list
  &lt;https://mail.endcrypt.com/mailman/listinfo/bucardo-general&gt;.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Bucardo
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2006-2015 Greg Sabino Mullane &lt;greg@endpoint.com&gt;
<div class="Pp"></div>
This program is free to use, subject to the limitations in the LICENSE
  file.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2015-09-27</td>
    <td class="foot-os">perl v5.24.1</td>
  </tr>
</table>
</body>
</html>
