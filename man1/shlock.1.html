<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:37:50 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>SHLOCK(1) General Commands Manual SHLOCK(1)</p>

<p style="margin-top: 1em">NAME <br>
shlock - create lock files for use in shell scripts</p>

<p style="margin-top: 1em">SYNOPSIS <br>
shlock -p pid -f name [ -b ] [ -u ] [ -c ]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Shlock tries to create a lock file named name and write the
process ID pid into it. If the file already exists, shlock
will read the process ID from the file and test to see if
<br>
the process is currently running. If the process exists,
then the file will not be created.</p>

<p style="margin-top: 1em">Shlock exits with a zero status
if it was able to create the lock file, or non-zero if the
file refers to currently-active process.</p>

<p style="margin-top: 1em">OPTIONS <br>
-b Process IDs are normally read and written in ASCII. If
the &lsquo;&lsquo;-b&rsquo;&rsquo; flag is used, then they
will be written as a binary int. For compatibility with
other systems, the <br>
&lsquo;&lsquo;-u&rsquo;&rsquo; flag is accepted as a synonym
for &lsquo;&lsquo;-b&rsquo;&rsquo; since binary locks are
used by many UUCP packages.</p>

<p style="margin-top: 1em">-c If the
&lsquo;&lsquo;-c&rsquo;&rsquo; flag is used, then shlock
will not create a lock file, but will instead use the file
to see if the lock is held by another program. If the lock
is valid, <br>
the program will exit with a non-zero status; if the lock is
not valid (i.e., invoking shlock without the flag would have
succeeded), then the program will exit with a <br>
zero status.</p>

<p style="margin-top: 1em">EXAMPLES <br>
The following example shows how shlock would be used within
a shell script: <br>
LOCK=/run/innd/LOCK.send <br>
trap &rsquo;rm -f ${LOCK} ; exit 1&rsquo; 1 2 3 15 <br>
if shlock -p $$ -f ${LOCK} ; then <br>
# Do appropriate work <br>
else <br>
echo Locked by &lsquo;cat ${LOCK}&lsquo; <br>
fi</p>

<p style="margin-top: 1em">HISTORY <br>
Written by Rich $alz &lt;rsalz@uunet.uu.net&gt; after a
description of HDB UUCP locking given by Peter Honeyman.
This is revision 1.9, dated 1996/10/29.</p>
 
<p style="margin-top: 1em">SHLOCK(1)</p>
<hr>
</body>
</html>
