<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:20:57 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>KTSERVER(1) Kyoto Tycoon KTSERVER(1)</p>

<p style="margin-top: 1em">NAME <br>
ktserver - a lightweight database server</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The command &lsquo;ktserver&rsquo; runs the server managing
database instances. This command is used in the following
format. &lsquo;db&rsquo; specifies a database name. If no
database is specified, <br>
an unnamed on-memory database is opened.</p>

<p style="margin-top: 1em">ktserver [-host str] [-port num]
[-tout num] [-th num] [-log file] [-li|-ls|-le|-lz] [-ulog
dir] [-ulim num] [-uasi num] [-sid num] [-ord]
[-oat|-oas|-onl|-otl|-onr] [-asi <br>
num] [-ash] [-bgs dir] [-bgsi num] [-bgc str] [-dmn] [-pid
file] [-scr file] [-mhost str] [-mport num] [-rts file]
[-riv num] [-plsv file] [-plex str] [-pldb file] [db...]</p>

<p style="margin-top: 1em">Options feature the
following.</p>

<p style="margin-top: 1em">-host str : specifies the host
name of the server. <br>
-port num : specifies the port number of the server. <br>
-tout num : specifies the timeout in seconds. <br>
-th num : specifies the number of worker threads. By
default, it is 8. <br>
-log file : specifies the path of the log file. By default,
logs are written into the standard output. <br>
-li : sets the logging level &quot;INFO&quot;. <br>
-ls : sets the logging level &quot;SYSTEM&quot;. <br>
-le : sets the logging level &quot;ERROR&quot;. <br>
-lz : sets the logging level &quot;NONE&quot;. <br>
-ulog dir : specifies the path of the update log directory.
By default, it is disabled. <br>
-ulim num : specifies the limit size of each update log
file. <br>
-uasi num : specifies the interval of synchronization of
update log files. By default, it is disabled. <br>
-sid num : specifies the server ID number. <br>
-ord : opens the database as a reader. <br>
-oat : opens the database with the auto transaction option.
<br>
-oas : opens the database with the auto synchronization
option. <br>
-onl : opens the database with the no locking option. <br>
-otl : opens the database with the try locking option. <br>
-onr : opens the database with the no auto repair option.
<br>
-asi num : specifies the interval of auto synchronization.
By default, it is disabled. <br>
-ash : does physical synchronization while auto
synchronization. <br>
-bgs dir : specifies the path of the background snapshot
directory. By default, it is disabled. <br>
-bgsi num : specifies the interval of background
snapshotting. By default, it is 180. <br>
-bgsc str : specifies the compression algorithm of the
snapshot. &quot;zlib&quot;, &quot;lzo&quot;, are
&quot;lzma&quot; are supported. <br>
-dmn : switches to a daemon process. <br>
-pid file : specifies the file to contain the process ID to
send signals by. <br>
-cmd dir : specifies the command search path for outer
commands. By default, it is the current directroy. <br>
-scr file : specifies the script file for the scripting
extention. <br>
-mhost str : specifies the host name of the master server of
replication. <br>
-mport num : specifies the port number of the master server
of replication. <br>
-rts file : specifies the file to contain the replication
time stamp. <br>
-riv num : specifies the interval of each replication
operation in milliseconds. By default, it is 0.04. <br>
-plsv file : specifies the shared library file of a
pluggable server. <br>
-plex str : specifies the configuration expression of a
pluggable server. <br>
-pldb file : specifies the shared library file of a
pluggable database.</p>

<p style="margin-top: 1em">This command returns 0 on
success, another on failure.</p>

<p style="margin-top: 1em">To finish the server process
running on foreground, input &lsquo;Ctrl-C&rsquo; on the
terminal. To finish the server process running as a daemon,
send a termination signal such as SIGTERM <br>
by the &lsquo;kill&rsquo; command. If a daemon process
catches SIGHUP, the server restarts and the log file is
re-opened. Because thr current directory of a daemon process
is changed to <br>
the root directory, paths of related files should be
described as their absolute paths.</p>

<p style="margin-top: 1em">The naming convention of
database name is the same as polymorphic database of Kyoto
Cabinet. If it is &quot;-&quot;, the database will be a
prototype hash database. If it is &quot;+&quot;, the <br>
database will be a prototype tree database. If it is
&quot;:&quot;, the database will be a stash database. If it
is &quot;*&quot;, the database will be a cache hash
database. If it is &quot;%&quot;, the <br>
database will be a cache tree database. If its suffix is
&quot;.kch&quot;, the database will be a file hash database.
If its suffix is &quot;.kct&quot;, the database will be a
file tree database. <br>
If its suffix is &quot;.kcd&quot;, the database will be a
directory hash database. If its suffix is &quot;.kcf&quot;,
the database will be a directory tree database. Tuning
parameters can trail <br>
the name, separated by &quot;#&quot;. Each parameter is
composed of the name and the value, separated by
&quot;=&quot;. If the &quot;type&quot; parameter is
specified, the database type is determined by the <br>
value in &quot;-&quot;, &quot;+&quot;, &quot;:&quot;,
&quot;*&quot;, &quot;%&quot;, &quot;kch&quot;,
&quot;kct&quot;, &quot;kcd&quot;, and &quot;kcf&quot;. All
database types support the logging parameters of
&quot;log&quot;, &quot;logkinds&quot;, and
&quot;logpx&quot;. The prototype hash data&acirc; <br>
base and the prototype tree database do not support any
other tuning parameter. The stash database supports
&quot;bnum&quot;. The cache hash database supports
&quot;opts&quot;, &quot;bnum&quot;, &quot;zcomp&quot;, <br>
&quot;capcnt&quot;, &quot;capsiz&quot;, and
&quot;zkey&quot;. The cache tree database supports all
parameters of the cache hash database except for capacity
limitation, and supports &quot;psiz&quot;,
&quot;rcomp&quot;, &quot;pccap&quot; <br>
in addition. The file hash database supports
&quot;apow&quot;, &quot;fpow&quot;, &quot;opts&quot;,
&quot;bnum&quot;, &quot;msiz&quot;, &quot;dfunit&quot;,
&quot;zcomp&quot;, and &quot;zkey&quot;. The file tree
database supports all parameters of the file <br>
hash database and &quot;psiz&quot;, &quot;rcomp&quot;,
&quot;pccap&quot; in addition. The directory hash database
supports &quot;opts&quot;, &quot;zcomp&quot;, and
&quot;zkey&quot;. The directory tree database supports all
parameters of <br>
the directory hash database and &quot;psiz&quot;,
&quot;rcomp&quot;, &quot;pccap&quot; in addition.</p>

<p style="margin-top: 1em">Furthermore, several parameters
are added by Kyoto Tycoon. &quot;ktopts&quot; sets options
and the value can contain &quot;p&quot; for the persistent
option. &quot;ktcapcnt&quot; sets the capacity by record
<br>
number. &quot;ktcapsiz&quot; sets the capacity by database
size.</p>

<p style="margin-top: 1em">SEE ALSO <br>
ktremotetest(1), ktremotemgr(1)</p>

<p style="margin-top: 1em">Man Page 2012-05-25
KTSERVER(1)</p>
<hr>
</body>
</html>
