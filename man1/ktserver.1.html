<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KTSERVER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KTSERVER(1)</td>
    <td class="head-vol">Kyoto Tycoon</td>
    <td class="head-rtitle">KTSERVER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
ktserver - a lightweight database server
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The command ` <b>ktserver</b>' runs the server managing database instances. This
  command is used in the following format. ` <i>db</i>' specifies a database
  name. If no database is specified, an unnamed on-memory database is opened.
<div class="Pp"></div>
<div style="margin-left: 5.00ex;">
<div>&#x00A0;</div>
<b>ktserver </b>[<b>-host </b><i>str</i><b></b>]<b> </b>[<b>-port
  </b><i>num</i><b></b>]<b> </b>[<b>-tout </b><i>num</i><b></b>]<b> </b>[<b>-th
  </b> <i>num</i><b></b>]<b> </b>[<b>-log </b><i>file</i><b></b>]<b>
  </b>[<b>-li</b>| <b>-ls</b>|<b>-le</b>|<b>-lz</b>]<b> </b>[<b>-ulog
  </b><i>dir</i> <b></b>]<b> </b>[<b>-ulim </b><i>num</i><b></b>]<b>
  </b>[<b>-uasi </b> <i>num</i><b></b>]<b> </b>[<b>-sid
  </b><i>num</i><b></b>]<b> </b>[<b>-ord</b>]<b>
  </b>[<b>-oat</b>|<b>-oas</b>|<b>-onl</b>|<b>-otl</b>|<b>-onr</b>]<b>
  </b>[<b>-asi </b> <i>num</i><b></b>]<b> </b>[<b>-ash</b>]<b> </b>[<b>-bgs
  </b><i>dir</i><b></b>]<b> </b>[<b>-bgsi </b><i>num</i><b></b>]<b> </b>[<b>-bgc
  </b> <i>str</i><b></b>]<b> </b>[<b>-dmn</b>]<b> </b>[<b>-pid
  </b><i>file</i><b></b>]<b> </b>[<b>-scr </b><i>file</i><b></b>]<b>
  </b>[<b>-mhost </b> <i>str</i><b></b>]<b> </b>[<b>-mport
  </b><i>num</i><b></b>] <b> </b>[<b>-rts </b><i>file</i><b></b>]<b>
  </b>[<b>-riv </b> <i>num</i><b></b>]<b> </b>[<b>-plsv
  </b><i>file</i><b></b>]<b> </b>[<b>-plex </b><i>str</i><b></b>]<b>
  </b>[<b>-pldb </b> <i>file</i><b></b>]<b>
  </b>[<b></b><i>db</i><b>...</b>]<b></b></div>
<div class="Pp"></div>
Options feature the following.
<div class="Pp"></div>
<div style="margin-left: 5.00ex;"><b>-host </b><i>str</i> : specifies the host
  name of the server.
<div>&#x00A0;</div>
<b>-port </b><i>num</i> : specifies the port number of the server.
<div>&#x00A0;</div>
<b>-tout </b><i>num</i> : specifies the timeout in seconds.
<div>&#x00A0;</div>
<b>-th </b><i>num</i> : specifies the number of worker threads. By default, it
  is 8.
<div>&#x00A0;</div>
<b>-log </b><i>file</i> : specifies the path of the log file. By default, logs
  are written into the standard output.
<div>&#x00A0;</div>
<b>-li</b> : sets the logging level &quot;INFO&quot;.
<div>&#x00A0;</div>
<b>-ls</b> : sets the logging level &quot;SYSTEM&quot;.
<div>&#x00A0;</div>
<b>-le</b> : sets the logging level &quot;ERROR&quot;.
<div>&#x00A0;</div>
<b>-lz</b> : sets the logging level &quot;NONE&quot;.
<div>&#x00A0;</div>
<b>-ulog </b><i>dir</i> : specifies the path of the update log directory. By
  default, it is disabled.
<div>&#x00A0;</div>
<b>-ulim </b><i>num</i> : specifies the limit size of each update log file.
<div>&#x00A0;</div>
<b>-uasi </b><i>num</i> : specifies the interval of synchronization of update
  log files. By default, it is disabled.
<div>&#x00A0;</div>
<b>-sid </b><i>num</i> : specifies the server ID number.
<div>&#x00A0;</div>
<b>-ord</b> : opens the database as a reader.
<div>&#x00A0;</div>
<b>-oat</b> : opens the database with the auto transaction option.
<div>&#x00A0;</div>
<b>-oas</b> : opens the database with the auto synchronization option.
<div>&#x00A0;</div>
<b>-onl</b> : opens the database with the no locking option.
<div>&#x00A0;</div>
<b>-otl</b> : opens the database with the try locking option.
<div>&#x00A0;</div>
<b>-onr</b> : opens the database with the no auto repair option.
<div>&#x00A0;</div>
<b>-asi </b><i>num</i> : specifies the interval of auto synchronization. By
  default, it is disabled.
<div>&#x00A0;</div>
<b>-ash</b> : does physical synchronization while auto synchronization.
<div>&#x00A0;</div>
<b>-bgs </b><i>dir</i> : specifies the path of the background snapshot
  directory. By default, it is disabled.
<div>&#x00A0;</div>
<b>-bgsi </b><i>num</i> : specifies the interval of background snapshotting. By
  default, it is 180.
<div>&#x00A0;</div>
<b>-bgsc </b><i>str</i> : specifies the compression algorithm of the snapshot.
  &quot;zlib&quot;, &quot;lzo&quot;, are &quot;lzma&quot; are supported.
<div>&#x00A0;</div>
<b>-dmn</b> : switches to a daemon process.
<div>&#x00A0;</div>
<b>-pid </b><i>file</i> : specifies the file to contain the process ID to send
  signals by.
<div>&#x00A0;</div>
<b>-cmd </b><i>dir</i> : specifies the command search path for outer commands.
  By default, it is the current directroy.
<div>&#x00A0;</div>
<b>-scr </b><i>file</i> : specifies the script file for the scripting extention.
<div>&#x00A0;</div>
<b>-mhost </b><i>str</i> : specifies the host name of the master server of
  replication.
<div>&#x00A0;</div>
<b>-mport </b><i>num</i> : specifies the port number of the master server of
  replication.
<div>&#x00A0;</div>
<b>-rts </b><i>file</i> : specifies the file to contain the replication time
  stamp.
<div>&#x00A0;</div>
<b>-riv </b><i>num</i> : specifies the interval of each replication operation in
  milliseconds. By default, it is 0.04.
<div>&#x00A0;</div>
<b>-plsv </b><i>file</i> : specifies the shared library file of a pluggable
  server.
<div>&#x00A0;</div>
<b>-plex </b><i>str</i> : specifies the configuration expression of a pluggable
  server.
<div>&#x00A0;</div>
<b>-pldb </b><i>file</i> : specifies the shared library file of a pluggable
  database.
<div>&#x00A0;</div>
</div>
<div class="Pp"></div>
This command returns 0 on success, another on failure.
<div class="Pp"></div>
To finish the server process running on foreground, input ` <b>Ctrl-C</b>' on
  the terminal. To finish the server process running as a daemon, send a
  termination signal such as SIGTERM by the ` <b>kill</b>' command. If a daemon
  process catches SIGHUP, the server restarts and the log file is re-opened.
  Because thr current directory of a daemon process is changed to the root
  directory, paths of related files should be described as their absolute paths.
<div class="Pp"></div>
The naming convention of database name is the same as polymorphic database of
  Kyoto Cabinet. If it is &quot;-&quot;, the database will be a prototype hash
  database. If it is &quot;+&quot;, the database will be a prototype tree
  database. If it is &quot;:&quot;, the database will be a stash database. If it
  is &quot;*&quot;, the database will be a cache hash database. If it is
  &quot;%&quot;, the database will be a cache tree database. If its suffix is
  &quot;.kch&quot;, the database will be a file hash database. If its suffix is
  &quot;.kct&quot;, the database will be a file tree database. If its suffix is
  &quot;.kcd&quot;, the database will be a directory hash database. If its
  suffix is &quot;.kcf&quot;, the database will be a directory tree database.
  Tuning parameters can trail the name, separated by &quot;#&quot;. Each
  parameter is composed of the name and the value, separated by &quot;=&quot;.
  If the &quot;type&quot; parameter is specified, the database type is
  determined by the value in &quot;-&quot;, &quot;+&quot;, &quot;:&quot;,
  &quot;*&quot;, &quot;%&quot;, &quot;kch&quot;, &quot;kct&quot;,
  &quot;kcd&quot;, and &quot;kcf&quot;. All database types support the logging
  parameters of &quot;log&quot;, &quot;logkinds&quot;, and &quot;logpx&quot;.
  The prototype hash database and the prototype tree database do not support any
  other tuning parameter. The stash database supports &quot;bnum&quot;. The
  cache hash database supports &quot;opts&quot;, &quot;bnum&quot;,
  &quot;zcomp&quot;, &quot;capcnt&quot;, &quot;capsiz&quot;, and
  &quot;zkey&quot;. The cache tree database supports all parameters of the cache
  hash database except for capacity limitation, and supports &quot;psiz&quot;,
  &quot;rcomp&quot;, &quot;pccap&quot; in addition. The file hash database
  supports &quot;apow&quot;, &quot;fpow&quot;, &quot;opts&quot;,
  &quot;bnum&quot;, &quot;msiz&quot;, &quot;dfunit&quot;, &quot;zcomp&quot;, and
  &quot;zkey&quot;. The file tree database supports all parameters of the file
  hash database and &quot;psiz&quot;, &quot;rcomp&quot;, &quot;pccap&quot; in
  addition. The directory hash database supports &quot;opts&quot;,
  &quot;zcomp&quot;, and &quot;zkey&quot;. The directory tree database supports
  all parameters of the directory hash database and &quot;psiz&quot;,
  &quot;rcomp&quot;, &quot;pccap&quot; in addition.
<div class="Pp"></div>
Furthermore, several parameters are added by Kyoto Tycoon. &quot;ktopts&quot;
  sets options and the value can contain &quot;p&quot; for the persistent
  option. &quot;ktcapcnt&quot; sets the capacity by record number.
  &quot;ktcapsiz&quot; sets the capacity by database size.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>ktremotetest</b>(1), <b>ktremotemgr</b>(1)</div>
<table class="foot">
  <tr>
    <td class="foot-date">2012-05-25</td>
    <td class="foot-os">Man Page</td>
  </tr>
</table>
</body>
</html>
