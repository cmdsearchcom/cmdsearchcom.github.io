<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>sispmctl(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">sispmctl(1)</td>
    <td class="head-vol">User Manuals</td>
    <td class="head-rtitle">sispmctl(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
sispmctl - Gembird Silver Shield PM ConTroL program
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>sispmctl</b> <i>-s</i>
<div class="Pp"></div>
<b>sispmctl [</b> <i>-q</i> <b>] [</b> <i>-n</i> <b>] [</b> <i>-d</i> <b>0...
  ]</b> <b>[</b> <i>-D</i> <b>... ]</b> <i>-b</i> <b>&lt;on|off&gt;</b>
<div class="Pp"></div>
<b>sispmctl [</b> <i>-q</i> <b>] [</b> <i>-n</i> <b>] [</b> <i>-d</i> <b>0...
  ]</b> <b>[</b> <i>-D</i> <b>... ] &lt;</b> <i>-o</i> <b>|</b> <i>-f</i>
  <b>|</b> <i>-t</i> <b>|</b> <i>-g</i> <b>|</b> <i>-m</i> <b>&gt;
  &lt;1..4|all&gt;</b>
<div class="Pp"></div>
<b>sispmctl [</b> <i>-q</i> <b>] [</b> <i>-n</i> <b>] [</b> <i>-d</i> <b>0...
  ]</b> <b>[</b> <i>-D</i> <b>... ] &lt;</b> <i>-a</i> <b>|</b> <i>-A</i>
  <b>&gt; &lt;1..4|all&gt;</b> <b>[</b> <i>--Aat</i> <b>'...' ] [</b>
  <i>--Aafter</i> <b>... ] [</b> <i>--Ado</i> <b>&lt;on|off&gt; ] ... [</b>
  <i>--Aloop</i> <b>... ]</b>
<div class="Pp"></div>
<b>sispmctl [</b> <i>-d</i> <b>0... ]</b> <b>[</b> <i>-D</i> <b>... ] [</b>
  <i>-i &lt;ip&gt;</i> <b>] [</b> <i>-p &lt;#port&gt;</i> <b>] [</b> <i>-u
  &lt;path&gt;</i> <b>]</b> <i>-l</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>sispmctl</b> is a tool to switch the USB controlled outlets of Gembird Silver
  Shield PM. It is known by many names, e.g. Revolt Power Switch.
<div class="Pp"></div>
It is coded in C and uses the usb specific library (LibUSB). This allows you a
  portable and fast solution.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-h</dt>
  <dd class="It-tag">print usage information</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s</dt>
  <dd class="It-tag">scan for supported GEMBIRD devices</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-l</dt>
  <dd class="It-tag">daemonize and start to listening as a simple http webserver
      (default port: 2638)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p</dt>
  <dd class="It-tag">IP network port (default: 2638) for listener. There is no
      authentication implemented yet.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-u</dt>
  <dd class="It-tag">give the directory path where pages lay, that are served
      (default: /usr/local/httpd/sispmctl). The Web path component is completely
      ignored for security reasons.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-b</dt>
  <dd class="It-tag">switch the buzzer on and off</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o</dt>
  <dd class="It-tag">switch the given outlet(s) to &quot;ON&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f</dt>
  <dd class="It-tag">switch the given outlet(s) to &quot;OFF&quot;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-t</dt>
  <dd class="It-tag">toggle the state of the given outlet(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-g</dt>
  <dd class="It-tag">show the status of the given outlet(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-m</dt>
  <dd class="It-tag">get power supply status for the given outlet(s)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d</dt>
  <dd class="It-tag">Use not the first but the given device in the sequence of
      detected devices, starting with &quot;0&quot; for the first device (see
      scan option)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-D</dt>
  <dd class="It-tag">Same as -d, but choose by serial number (see scan
    option)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-n</dt>
  <dd class="It-tag">do not print &quot;ON&quot; and &quot;OFF&quot;, but
      &quot;1&quot; and &quot;0&quot; instead</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-q</dt>
  <dd class="It-tag">do neither print explanations nor disclaimers except it is
      requested</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-a</dt>
  <dd class="It-tag">get plannification for given outlet</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-A</dt>
  <dd class="It-tag">set plannification for given outlet
    <br/>
     --Aat &quot;date&quot; - sets an event time as a date '%Y-%m-%d %H:%M'
    <br/>
     --Aafter N - sets an event time as N minutes after the previous one
    <br/>
     --Ado &lt;on|off&gt; - sets the current event's action
    <br/>
     --Aloop N - loops to 1st event's action after N minutes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-v</dt>
  <dd class="It-tag">print version &amp; copyright
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="WEB_INTERFACE"><a class="selflink" href="#WEB_INTERFACE">WEB
  INTERFACE</a></h1>
The sispmctl program provides a web interface when started with the <i>-l</i>
  option. No additional http server is needed. Each selected usb device is
  blocked by sispmctl while running.
<div class="Pp"></div>
After installation, the first of two web-interfaces is selected. The default
  location of the HTML files is /usr/local/httpd/sispmctl/doc which is a
  symbolic link to /usr/local/httpd/sispmctl/skin1.
<div class="Pp"></div>
The http capabilities of sispmctl are limited. Technically speaking, only the
  first line of each http request is parsed. The terminating path component,
  i.e. file name, is looked up in the repository directory. If present the file
  is parsed and in absence of control sequences sent as is. The files must
  include the http header portion.
<div class="Pp"></div>
Control sequences start and end with double dollar `$$'. They consist of a
  command portion separated by a question mark `?' from alternative outputs
  which are separated by the first colon `:'. The command portion is a token
  followed by an embraced number that references the outlet, e.g.
  <i>$$command(1)?positive:negative$$</i> while command is one of <b>status,</b>
  <b>toggle,</b> <b>on</b> or <b>off.</b> I strongly recommend to avoid the
  on/off/toggle commands in pages that may be reloaded. Best is to redirect to
  other pages that only include status requests.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="PLANNIFICATIONS"><a class="selflink" href="#PLANNIFICATIONS">PLANNIFICATIONS</a></h1>
The sispmctl program provides plannifications, plannifications can be used to
  turn given outlets of the device &quot;ON&quot; or &quot;OFF&quot; at or after
  a given time. Plannifications can also be set to loop after a given number of
  minutes.
<div class="Pp"></div>
To show the planned plannification for a given outlet use the option <i>-a</i>
  and specify the wanted outlet(s). The option <i>-A</i> plus any of the options
  <i>--Aat</i> , <i>--Aafter</i> , <i>--Ado</i> and <i>--Aloop</i> will create a
  new plannification for the given output. If only <i>-A</i> plus an outlet is
  called, the plannification for the outlet will be deleted.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Switch off the first outlet of the first SiS-PM and the third outlet of the
  second SiS-PM:
<div class="Pp"></div>
<b>sispmctl -f 1 -d 1 -f 3</b>
<div style="height: 1.00em;">&#x00A0;</div>
Print the status of the forth outlet as zero or one:
<div class="Pp"></div>
<b>sispmctl -nqg 4</b>
<div style="height: 1.00em;">&#x00A0;</div>
Set a planification so outlet 2 on the first device gets turned &quot;ON&quot;
  on the given date and time:
<div class="Pp"></div>
<b>sispmctl -A 2 --Aat '2011-07-27 20:45' --Ado on</b>
<div style="height: 1.00em;">&#x00A0;</div>
Set a planification so outlet 3 on the second device gets turned &quot;ON&quot;
  after 2 minutes and &quot;OFF&quot; after another 10 minutes. The
  planification will loop after 1 hour:
<div class="Pp"></div>
<b>sispmctl -d 1 -A 3 --Aafter 2 --Ado on --Aafter 10 --Ado off --Aloop 60</b>
<div style="height: 1.00em;">&#x00A0;</div>
Run sispmctl on the second device as a web-server:
<div class="Pp"></div>
<b>sispmctl -d 1 -l</b>
<div style="height: 1.00em;">&#x00A0;</div>
You can connect to it from the same machine by pointing to http://localhost:2638
  with your webbrowser
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
First version by Mondrian Nuessle, nuessle@uni-mannheim.de
<div class="Pp"></div>
Web integration and man page by Andreas Neuper, ANeuper-at-web-dot-de
<div class="Pp"></div>
Plannifications by Olivier Matheret</div>
<table class="foot">
  <tr>
    <td class="foot-date">JUL 2011</td>
    <td class="foot-os">Linux</td>
  </tr>
</table>
</body>
</html>
