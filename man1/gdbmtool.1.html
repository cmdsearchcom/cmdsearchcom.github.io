<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GDBMTOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GDBMTOOL(1)</td>
    <td class="head-vol">GDBM User Reference</td>
    <td class="head-rtitle">GDBMTOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
gdbmtool - examine and modify a GDBM database
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>gdbmtool</b> [<b>-lmNnqrs</b>] [<b>-b</b> <i>SIZE</i>] [<b>-c</b>
  <i>SIZE</i>] [ <b>-f</b> <i>FILE</i>] [<b>--block-size</b>=<i>SIZE</i>]
<br/>
 [ <b>--cache-size</b>=<i>SIZE</i>] [<b>--file</b> <i>FILE</i>] [<b>--newdb</b>]
  [ <b>--no-lock</b>]
<br/>
 [ <b>--no-mmap</b>] [<b>--norc</b>]
<br/>
 [ <b>--quiet</b>] [<b>--read-only</b>] [<b>--synchronize</b>] [<i>DBFILE</i>]
<div style="height: 1.00em;">&#x00A0;</div>
<b>gdbmtool</b> [<b>-Vh</b>] ][<b>--help</b>] [<b>--usage</b>]
  [<b>--version</b>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The <b>gdbmtool</b> utility allows you to view and modify an existing GDBM
  database or to create a new one.
<div class="Pp"></div>
The <i>DBFILE</i> argument supplies the name of the database to open. If not
  supplied, the default name <b>junk.gdbm</b> is used instead. If the named
  database does not exist, it will be created. An existing database can be
  cleared (i.e. all records removed from it) using the <b>--newdb</b> option
  (see below).
<div class="Pp"></div>
Unless the <b>-N</b> (<b>--norc</b>) option is given, after startup
  <b>gdbmtool</b> looks for file named <b>.gdbmtoolrc</b> first in the current
  working directory, and, if not found there, in the home directory of the user
  who started the program. If found, this file is read and interpreted as a list
  of <b>gdbmtool</b> commands.
<div class="Pp"></div>
Then <b>gdbmtool</b> starts a loop, in which it reads commands from the standard
  input, executes them and prints the results on the standard output. If the
  standard input is attached to a console, the program runs in interactive mode.
<div class="Pp"></div>
The program terminates when the <b>quit</b> command is given, or end-of-file is
  detected on its standard input.
<div class="Pp"></div>
A <b>gdbmtool</b> command consists of a command verb, optionally followed by one
  or more arguments, separated by any amount of white space. A command verb can
  be entered either in full or in an abbreviated form, as long as that
  abbreviation does not match any other verb.
<div class="Pp"></div>
Any sequence of non-whitespace characters appearing after the command verb forms
  an argument. If the argument contains whitespace or unprintable characters it
  must be enclosed in double quotes. Within double quotes the usual escape
  sequences are understood, as shown in the table below:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
	Escape	Expansion
	\a	Audible bell character (ASCII 7)
	\b	Backspace character (ASCII 8)
	\f	Form-feed character (ASCII 12)
	\n	Newline character (ASCII 10)
	\r	Carriage return character (ASCII 13)
	\t	Horizontal tabulation character (ASCII 9)
	\v	Vertical tabulation character (ASCII 11)
	\\	Single slash
	
</pre>
<div class="Pp"></div>
In addition, a backslash immediately followed by the end-of-line character
  effectively removes that character, allowing to split long arguments over
  several input lines.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b>, <b>--block-size</b>=<i>SIZE</i></dt>
  <dd class="It-tag">Set block size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b>, <b>--cache-size</b>=<i>SIZE</i></dt>
  <dd class="It-tag">Set cache size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b>, <b>--file</b>=<i>FILE</i></dt>
  <dd class="It-tag">Read commands from <i>FILE</i>, instead of from the
      standard input.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b>, <b>--no-lock</b></dt>
  <dd class="It-tag">Disable file locking.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b>, <b>--no-mmap</b></dt>
  <dd class="It-tag">Do not use <b>mmap</b>(2).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b>, <b>--newdb</b></dt>
  <dd class="It-tag">Create the database, truncating it if it already
    exists.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b>, <b>--quiet</b></dt>
  <dd class="It-tag">Don't print initial banner.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b>, <b>--read-only</b></dt>
  <dd class="It-tag">Open database in read-only mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b>, <b>--synchronize</b></dt>
  <dd class="It-tag">Synchronize to disk after each write.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">Print a short usage summary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--usage</b></dt>
  <dd class="It-tag">Print a list of available options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--version</b></dt>
  <dd class="It-tag">Print program version</dd>
</dl>
<h1 class="Sh" title="Sh" id="SHELL_COMMANDS"><a class="selflink" href="#SHELL_COMMANDS">SHELL
  COMMANDS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>avail</b></dt>
  <dd class="It-tag">Print the <b>avail list</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>bucket</b> <i>NUM</i></dt>
  <dd class="It-tag">Print the bucket number <i>NUM</i> and set is as the
      current one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cache</b></dt>
  <dd class="It-tag">Print the bucket cache.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>close</b></dt>
  <dd class="It-tag">Close the currently open database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>count</b></dt>
  <dd class="It-tag">Print the number of entries in the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>current</b></dt>
  <dd class="It-tag">Print the current bucket.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete</b> <i>KEY</i></dt>
  <dd class="It-tag">Delete record with the given <i>KEY</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>dir</b></dt>
  <dd class="It-tag">Print hash directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>export</b> <i>FILE-NAME</i> [<b>truncate</b>]
    [<b>binary</b>| <b>ascii</b>]</dt>
  <dd class="It-tag">Export the database to the flat file <i>FILE-NAME</i>. This
      is equivalent to <b>gdbm_dump</b>(1).
    <div style="height: 1.00em;">&#x00A0;</div>
    This command will not overwrite an existing file, unless the <b>truncate</b>
      parameter is also given. Another optional parameter determines the type of
      the dump (*note Flat files::). By default, ASCII dump will be
    created.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>fetch</b> <i>KEY</i></dt>
  <dd class="It-tag">Fetch and display the record with the given
    <i>KEY</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>first</b></dt>
  <dd class="It-tag">Fetch and display the first record in the database.
      Subsequent records can be fetched using the <b>next</b> command (see
      below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>hash</b> <i>KEY</i></dt>
  <dd class="It-tag">Compute and display the hash value for the given
      <i>KEY</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>header</b></dt>
  <dd class="It-tag">Print file header.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>help</b> or <b>?</b></dt>
  <dd class="It-tag">Print a concise command summary, showing each command
      letter and verb with its parameters and a short description of what it
      does. Optional arguments are enclosed in square brackets.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>history</b></dt>
  <dd class="It-tag">Shows the command history list with line numbers. This
      command is available only if the program was compiled with GNU
    Readline.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>history</b> <i>COUNT</i>.</dt>
  <dd class="It-tag">Shows <i>COUNT</i> latest commands from the command
      history.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>history</b> <i>N</i> <i>COUNT</i>.</dt>
  <dd class="It-tag">Shows <i>COUNT</i> commands from the command history
      starting with <i>N</i>th command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>import</b> <i>FILE-NAME</i> [<b>replace</b>]
    [<b>nometa</b>]</dt>
  <dd class="It-tag">Import data from a flat dump file <i>FILE-NAME</i>. If the
      <b>replace</b> argument is given, any records with the same keys as the
      already existing ones will replace them. The <b>nometa</b> argument turns
      off restoring meta-information from the dump file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>list</b></dt>
  <dd class="It-tag">List the contents of the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>next</b> [<i>KEY</i>]</dt>
  <dd class="It-tag">Sequential access: fetch and display the next record. If
      the <i>KEY</i> is given, the record following the one with this key will
      be fetched.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>open</b> <i>FILE</i></dt>
  <dd class="It-tag">Open the database file <i>FILE</i>. If successful, any
      previously open database is closed. Otherwise, if the operation fails, the
      currently opened database remains unchanged.
    <div style="height: 1.00em;">&#x00A0;</div>
    This command takes additional information from the variables <b>open</b>,
      <b>lock</b>, <b>mmap</b>, and <b>sync</b>. See the section
      <b>VARIABLES</b>, for a detailed description of these.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quit</b></dt>
  <dd class="It-tag">Close the database and quit the utility.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reorganize</b></dt>
  <dd class="It-tag">Reorganize the database.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set</b> [<i>VAR</i>=<i>VALUE</i>...]</dt>
  <dd class="It-tag">Without arguments, lists variables and their values. If
      arguments are specified, sets variables. Boolean variables can be set by
      specifying variable name, optionally prefixed with <b>no</b>, to set it to
      <b>false</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>source</b> <i>FILE</i></dt>
  <dd class="It-tag">Read commands from the given <i>FILE</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>status</b></dt>
  <dd class="It-tag">Print current program status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>store</b> <i>KEY</i> <i>DATA</i></dt>
  <dd class="It-tag">Store the <i>DATA</i> with the given <i>KEY</i> in the
      database. If the <i>KEY</i> already exists, its data will be
    replaced.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unset</b> <i>VARIABLE</i>...</dt>
  <dd class="It-tag">Unsets listed variables.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>version</b></dt>
  <dd class="It-tag">Print the version of <b>gdbm</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DATA_DEFINITIONS"><a class="selflink" href="#DATA_DEFINITIONS">DATA
  DEFINITIONS</a></h1>
The <b>define</b> statement provides a mechanism for defining key or content
  structures. It is similar to the <b>C</b> <b>struct</b> declaration:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<br/>
<b>define</b> <b>key</b>|<b>content</b> <b>{</b> <i>defnlist</i> <b>}</b>
<br/>
</pre>
<div class="Pp"></div>
The <i>defnlist</i> is a comma-separated list of member declarations. Within
  <i>defnlist</i> the newline character looses its special meaning as the
  command terminator, so each declaration can appear on a separate line and
  arbitrary number of comments can be inserted to document the definition.
<div class="Pp"></div>
Each declaration has one of the following formats
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<br/>
<i>type</i> <i>name</i>
<i>type</i> <i>name</i> <b>[</b><i>N</i><b>]</b>
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
where <i>type</i> is a data type and <i>name</i> is the member name. The second
  format defines the member <i>name</i> as an array of <i>N</i> elements of
  <i>type</i>.
<div class="Pp"></div>
The supported types are:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
	type	meaning
	char	single byte (signed)
	short	signed short integer
	ushort	unsigned short integer
	int	signed integer
	unsigned	unsigned integer
	uint	ditto
	long	signed long integer
	ulong	unsigned long integer
	llong	signed long long integer
	ullong	unsigned long long integer
	float	a floating point number
	double	double-precision floating point number
	string	array of characters (see the  <b>NOTE</b> below)
	stringz	null-terminated string of characters
</pre>
<div class="Pp"></div>
The following alignment declarations can be used within <i>defnlist</i>:
<dl class="Bl-tag">
  <dt class="It-tag"><b>offset</b> <i>N</i></dt>
  <dd class="It-tag">The next member begins at offset <i>N</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pad</b> <i>N</i></dt>
  <dd class="It-tag">Add <i>N</i> bytes of padding to the previous member.</dd>
</dl>
<div class="Pp"></div>
For example:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<br/>
<b>define content {</b>
<b>        int status,</b>
<b>        pad 8,</b>
<b>        char id[3],</b>
<b>        stringz name</b>
<b>}</b>
</pre>
<div class="Pp"></div>
To define data consisting of a single data member, the following simplified
  construct can be used:
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
<br/>
<b>define</b> <b>key</b>|<b>content</b> <i>type</i>
</pre>
<div class="Pp"></div>
where <i>type</i> is one of the types discussed above.
<div class="Pp"></div>
<b>NOTE</b>: The <b>string</b> type can reasonably be used only if it is the
  last or the only member of the data structure. That's because it provides no
  information about the number of elements in the array, so it is interpreted to
  contain all bytes up to the end of the datum.
<h1 class="Sh" title="Sh" id="VARIABLES"><a class="selflink" href="#VARIABLES">VARIABLES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>confirm</b>, boolean</dt>
  <dd class="It-tag">Whether to ask for confirmation before certain destructive
      operations, such as truncating the existing database. Default is
      <b>true</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ps1</b>, string</dt>
  <dd class="It-tag">Primary prompt string. Its value can contain
      <i>conversion</i> <i>specifiers</i>, consisting of the <b>%</b> character
      followed by another character. These specifiers are expanded in the
      resulting prompt as follows:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
	Sequence	Expansion
	 <b>%f</b>	name of the db file
	 <b>%p</b>	program name
	 <b>%P</b>	package name (<b>gdbm</b>)
	 <b>%_</b>	horizontal space (<b>ASCII</b> 32)
	 <b>%v</b>	program version
	 <b>%%</b>	<b>%</b>
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
    The default prompt is <b>%p&gt;%_</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>ps2</b>, string</dt>
  <dd class="It-tag">Secondary prompt. See <b>ps1</b> for a description of its
      value. This prompt is displayed before reading the second and subsequent
      lines of a multi-line command.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default value is <b>%_&gt;%_</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delim1</b>, string</dt>
  <dd class="It-tag">A string used to delimit fields of a structured datum on
      output (see the section <b>DATA DEFINITIONS</b>).
    <div style="height: 1.00em;">&#x00A0;</div>
    Default is <b>,</b> (a comma). This variable cannot be unset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delim2</b>, string</dt>
  <dd class="It-tag">A string used to delimit array items when printing a
      structured datum.
    <div style="height: 1.00em;">&#x00A0;</div>
    Default is <b>,</b> (a comma). This variable cannot be unset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>pager</b>, string</dt>
  <dd class="It-tag">The name and command line of the pager program to pipe
      output to. This program is used in interactive mode when the estimated
      number of output lines is greater then the number of lines on your screen.
    <div style="height: 1.00em;">&#x00A0;</div>
    The default value is inherited from the environment variable <b>PAGER</b>.
      Unsetting this variable disables paging.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quiet</b>, boolean</dt>
  <dd class="It-tag">Whether to display welcome banner at startup. This variable
      should be set in a startup script file.</dd>
</dl>
<div class="Pp"></div>
The following variables control how the database is opened:
<dl class="Bl-tag">
  <dt class="It-tag"><b>cachesize</b>, numeric</dt>
  <dd class="It-tag">Sets the cache size. By default this variable is not
    set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>blocksize</b>, numeric</dt>
  <dd class="It-tag">Sets the block size. Unset by default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>open</b>, string</dt>
  <dd class="It-tag">Open mode. The following values are allowed:</dd>
</dl>
<div style="margin-left: 7.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>newdb</b></dt>
  <dd class="It-tag">Truncate the database if it exists or create a new one.
      Open it in read-write mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>wrcreat</b> or <b>rw</b></dt>
  <dd class="It-tag">Open the database in read-write mode. Create it if it does
      not exist. This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reader</b> or <b>readonly</b></dt>
  <dd class="It-tag">Open the database in read-only mode. Signal an error if it
      does not exist.</dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>lock</b>, boolean</dt>
  <dd class="It-tag">Lock the database. This is the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>mmap</b>, boolean</dt>
  <dd class="It-tag">Use memory mapping. This is the default.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>gdbm_dump</b>(1), <b>gdbm_load</b>(1), <b>gdbm</b>(3).
<h1 class="Sh" title="Sh" id="REPORTING_BUGS"><a class="selflink" href="#REPORTING_BUGS">REPORTING
  BUGS</a></h1>
Report bugs to &lt;bug-gdbm@gnu.org&gt;.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright &#x00A9; 2013 Free Software Foundation, Inc
<div>&#x00A0;</div>
License GPLv3+: GNU GPL version 3 or later
  &lt;http://gnu.org/licenses/gpl.html&gt;
<div>&#x00A0;</div>
This is free software: you are free to change and redistribute it. There is NO
  WARRANTY, to the extent permitted by law.</div>
<table class="foot">
  <tr>
    <td class="foot-date">July 12, 2016</td>
    <td class="foot-os">GDBM</td>
  </tr>
</table>
</body>
</html>
