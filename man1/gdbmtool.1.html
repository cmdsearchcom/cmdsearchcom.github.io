<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:12:18 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>GDBMTOOL(1) GDBM User Reference GDBMTOOL(1)</p>

<p style="margin-top: 1em">NAME <br>
gdbmtool - examine and modify a GDBM database</p>

<p style="margin-top: 1em">SYNOPSIS <br>
gdbmtool [-lmNnqrs] [-b SIZE] [-c SIZE] [-f FILE]
[--block-size=SIZE] <br>
[--cache-size=SIZE] [--file FILE] [--newdb] [--no-lock] <br>
[--no-mmap] [--norc] <br>
[--quiet] [--read-only] [--synchronize] [DBFILE]</p>

<p style="margin-top: 1em">gdbmtool [-Vh] ][--help]
[--usage] [--version]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The gdbmtool utility allows you to view and modify an
existing GDBM database or to create a new one.</p>

<p style="margin-top: 1em">The DBFILE argument supplies the
name of the database to open. If not supplied, the default
name junk.gdbm is used instead. If the named database does
not exist, it will be <br>
created. An existing database can be cleared (i.e. all
records removed from it) using the --newdb option (see
below).</p>

<p style="margin-top: 1em">Unless the -N (--norc) option is
given, after startup gdbmtool looks for file named
.gdbmtoolrc first in the current working directory, and, if
not found there, in the home <br>
directory of the user who started the program. If found,
this file is read and interpreted as a list of gdbmtool
commands.</p>

<p style="margin-top: 1em">Then gdbmtool starts a loop, in
which it reads commands from the standard input, executes
them and prints the results on the standard output. If the
standard input is attached <br>
to a console, the program runs in interactive mode.</p>

<p style="margin-top: 1em">The program terminates when the
quit command is given, or end-of-file is detected on its
standard input.</p>

<p style="margin-top: 1em">A gdbmtool command consists of a
command verb, optionally followed by one or more arguments,
separated by any amount of white space. A command verb can
be entered either in full <br>
or in an abbreviated form, as long as that abbreviation does
not match any other verb.</p>

<p style="margin-top: 1em">Any sequence of non-whitespace
characters appearing after the command verb forms an
argument. If the argument contains whitespace or unprintable
characters it must be enclosed <br>
in double quotes. Within double quotes the usual escape
sequences are understood, as shown in the table below:</p>

<p style="margin-top: 1em">Escape Expansion <br>
Audible bell character (ASCII 7) <br>
Backspace character (ASCII 8) <br>
Form-feed character (ASCII 12) <br>
Newline character (ASCII 10) <br>
Carriage return character (ASCII 13) <br>
Horizontal tabulation character (ASCII 9) <br>
Vertical tabulation character (ASCII 11) <br>
\ Single slash</p>

<p style="margin-top: 1em">In addition, a backslash
immediately followed by the end-of-line character
effectively removes that character, allowing to split long
arguments over several input lines.</p>

<p style="margin-top: 1em">OPTIONS <br>
-b, --block-size=SIZE <br>
Set block size.</p>

<p style="margin-top: 1em">-c, --cache-size=SIZE <br>
Set cache size.</p>

<p style="margin-top: 1em">-f, --file=FILE <br>
Read commands from FILE, instead of from the standard
input.</p>

<p style="margin-top: 1em">-l, --no-lock <br>
Disable file locking.</p>

<p style="margin-top: 1em">-m, --no-mmap <br>
Do not use mmap(2).</p>

<p style="margin-top: 1em">-n, --newdb <br>
Create the database, truncating it if it already exists.</p>

<p style="margin-top: 1em">-q, --quiet <br>
Don&rsquo;t print initial banner.</p>

<p style="margin-top: 1em">-r, --read-only <br>
Open database in read-only mode.</p>

<p style="margin-top: 1em">-s, --synchronize <br>
Synchronize to disk after each write.</p>

<p style="margin-top: 1em">-h, --help <br>
Print a short usage summary.</p>

<p style="margin-top: 1em">--usage <br>
Print a list of available options.</p>

<p style="margin-top: 1em">-V, --version <br>
Print program version</p>

<p style="margin-top: 1em">SHELL COMMANDS <br>
avail Print the avail list.</p>

<p style="margin-top: 1em">bucket NUM <br>
Print the bucket number NUM and set is as the current
one.</p>

<p style="margin-top: 1em">cache Print the bucket
cache.</p>

<p style="margin-top: 1em">close Close the currently open
database.</p>

<p style="margin-top: 1em">count Print the number of
entries in the database.</p>

<p style="margin-top: 1em">current <br>
Print the current bucket.</p>

<p style="margin-top: 1em">delete KEY <br>
Delete record with the given KEY.</p>

<p style="margin-top: 1em">dir Print hash directory.</p>

<p style="margin-top: 1em">export FILE-NAME [truncate]
[binary|ascii] <br>
Export the database to the flat file FILE-NAME. This is
equivalent to gdbm_dump(1).</p>

<p style="margin-top: 1em">This command will not overwrite
an existing file, unless the truncate parameter is also
given. Another optional parameter determines the type of the
dump (*note Flat <br>
files::). By default, ASCII dump will be created.</p>

<p style="margin-top: 1em">fetch KEY <br>
Fetch and display the record with the given KEY.</p>

<p style="margin-top: 1em">first Fetch and display the
first record in the database. Subsequent records can be
fetched using the next command (see below).</p>

<p style="margin-top: 1em">hash KEY <br>
Compute and display the hash value for the given KEY.</p>

<p style="margin-top: 1em">header Print file header.</p>

<p style="margin-top: 1em">help or ? <br>
Print a concise command summary, showing each command letter
and verb with its parameters and a short description of what
it does. Optional arguments are enclosed in <br>
square brackets.</p>

<p style="margin-top: 1em">history <br>
Shows the command history list with line numbers. This
command is available only if the program was compiled with
GNU Readline.</p>

<p style="margin-top: 1em">history COUNT. <br>
Shows COUNT latest commands from the command history.</p>

<p style="margin-top: 1em">history N COUNT. <br>
Shows COUNT commands from the command history starting with
Nth command.</p>

<p style="margin-top: 1em">import FILE-NAME [replace]
[nometa] <br>
Import data from a flat dump file FILE-NAME. If the replace
argument is given, any records with the same keys as the
already existing ones will replace them. The nometa <br>
argument turns off restoring meta-information from the dump
file.</p>

<p style="margin-top: 1em">list List the contents of the
database.</p>

<p style="margin-top: 1em">next [KEY] <br>
Sequential access: fetch and display the next record. If the
KEY is given, the record following the one with this key
will be fetched.</p>

<p style="margin-top: 1em">open FILE <br>
Open the database file FILE. If successful, any previously
open database is closed. Otherwise, if the operation fails,
the currently opened database remains unchanged.</p>

<p style="margin-top: 1em">This command takes additional
information from the variables open, lock, mmap, and sync.
See the section VARIABLES, for a detailed description of
these.</p>

<p style="margin-top: 1em">quit Close the database and quit
the utility.</p>

<p style="margin-top: 1em">reorganize <br>
Reorganize the database.</p>

<p style="margin-top: 1em">set [VAR=VALUE...] <br>
Without arguments, lists variables and their values. If
arguments are specified, sets variables. Boolean variables
can be set by specifying variable name, optionally <br>
prefixed with no, to set it to false.</p>

<p style="margin-top: 1em">source FILE <br>
Read commands from the given FILE.</p>

<p style="margin-top: 1em">status Print current program
status.</p>

<p style="margin-top: 1em">store KEY DATA <br>
Store the DATA with the given KEY in the database. If the
KEY already exists, its data will be replaced.</p>

<p style="margin-top: 1em">unset VARIABLE... <br>
Unsets listed variables.</p>

<p style="margin-top: 1em">version <br>
Print the version of gdbm.</p>

<p style="margin-top: 1em">DATA DEFINITIONS <br>
The define statement provides a mechanism for defining key
or content structures. It is similar to the C struct
declaration:</p>

<p style="margin-top: 1em">define key|content { defnlist
}</p>

<p style="margin-top: 1em">The defnlist is a
comma-separated list of member declarations. Within defnlist
the newline character looses its special meaning as the
command terminator, so each declaration <br>
can appear on a separate line and arbitrary number of
comments can be inserted to document the definition.</p>

<p style="margin-top: 1em">Each declaration has one of the
following formats</p>

<p style="margin-top: 1em">type name <br>
type name [N]</p>

<p style="margin-top: 1em">where type is a data type and
name is the member name. The second format defines the
member name as an array of N elements of type.</p>

<p style="margin-top: 1em">The supported types are:</p>

<p style="margin-top: 1em">type meaning <br>
char single byte (signed) <br>
short signed short integer <br>
ushort unsigned short integer <br>
int signed integer <br>
unsigned unsigned integer <br>
uint ditto <br>
long signed long integer <br>
ulong unsigned long integer <br>
llong signed long long integer <br>
ullong unsigned long long integer <br>
float a floating point number <br>
double double-precision floating point number <br>
string array of characters (see the NOTE below) <br>
stringz null-terminated string of characters</p>

<p style="margin-top: 1em">The following alignment
declarations can be used within defnlist:</p>

<p style="margin-top: 1em">offset N <br>
The next member begins at offset N.</p>

<p style="margin-top: 1em">pad N Add N bytes of padding to
the previous member.</p>

<p style="margin-top: 1em">For example:</p>

<p style="margin-top: 1em">define content { <br>
int status, <br>
pad 8, <br>
char id[3], <br>
stringz name <br>
}</p>

<p style="margin-top: 1em">To define data consisting of a
single data member, the following simplified construct can
be used:</p>

<p style="margin-top: 1em">define key|content type</p>

<p style="margin-top: 1em">where type is one of the types
discussed above.</p>

<p style="margin-top: 1em">NOTE: The string type can
reasonably be used only if it is the last or the only member
of the data structure. That&rsquo;s because it provides no
information about the number of ele&acirc; <br>
ments in the array, so it is interpreted to contain all
bytes up to the end of the datum.</p>

<p style="margin-top: 1em">VARIABLES <br>
confirm, boolean <br>
Whether to ask for confirmation before certain destructive
operations, such as truncating the existing database.
Default is true.</p>

<p style="margin-top: 1em">ps1, string <br>
Primary prompt string. Its value can contain conversion
specifiers, consisting of the % character followed by
another character. These specifiers are expanded in the <br>
resulting prompt as follows:</p>

<p style="margin-top: 1em">Sequence Expansion <br>
%f name of the db file <br>
%p program name <br>
%P package name (gdbm) <br>
%_ horizontal space (ASCII 32) <br>
%v program version <br>
%% %</p>

<p style="margin-top: 1em">The default prompt is
%p&gt;%_.</p>

<p style="margin-top: 1em">ps2, string <br>
Secondary prompt. See ps1 for a description of its value.
This prompt is displayed before reading the second and
subsequent lines of a multi-line command.</p>

<p style="margin-top: 1em">The default value is
%_&gt;%_.</p>

<p style="margin-top: 1em">delim1, string <br>
A string used to delimit fields of a structured datum on
output (see the section DATA DEFINITIONS).</p>

<p style="margin-top: 1em">Default is , (a comma). This
variable cannot be unset.</p>

<p style="margin-top: 1em">delim2, string <br>
A string used to delimit array items when printing a
structured datum.</p>

<p style="margin-top: 1em">Default is , (a comma). This
variable cannot be unset.</p>

<p style="margin-top: 1em">pager, string <br>
The name and command line of the pager program to pipe
output to. This program is used in interactive mode when the
estimated number of output lines is greater then the <br>
number of lines on your screen.</p>

<p style="margin-top: 1em">The default value is inherited
from the environment variable PAGER. Unsetting this variable
disables paging.</p>

<p style="margin-top: 1em">quiet, boolean <br>
Whether to display welcome banner at startup. This variable
should be set in a startup script file.</p>

<p style="margin-top: 1em">The following variables control
how the database is opened:</p>

<p style="margin-top: 1em">cachesize, numeric <br>
Sets the cache size. By default this variable is not
set.</p>

<p style="margin-top: 1em">blocksize, numeric <br>
Sets the block size. Unset by default.</p>

<p style="margin-top: 1em">open, string <br>
Open mode. The following values are allowed:</p>

<p style="margin-top: 1em">newdb Truncate the database if
it exists or create a new one. Open it in read-write
mode.</p>

<p style="margin-top: 1em">wrcreat or rw <br>
Open the database in read-write mode. Create it if it does
not exist. This is the default.</p>

<p style="margin-top: 1em">reader or readonly <br>
Open the database in read-only mode. Signal an error if it
does not exist.</p>

<p style="margin-top: 1em">lock, boolean <br>
Lock the database. This is the default.</p>

<p style="margin-top: 1em">mmap, boolean <br>
Use memory mapping. This is the default.</p>

<p style="margin-top: 1em">SEE ALSO <br>
gdbm_dump(1), gdbm_load(1), gdbm(3).</p>

<p style="margin-top: 1em">REPORTING BUGS <br>
Report bugs to &lt;bug-gdbm@gnu.org&gt;.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2013 Free Software Foundation, Inc
<br>
License GPLv3+: GNU GPL version 3 or later
&lt;http://gnu.org/licenses/gpl.html&gt; <br>
This is free software: you are free to change and
redistribute it. There is NO WARRANTY, to the extent
permitted by law.</p>

<p style="margin-top: 1em">GDBM July 12, 2016
GDBMTOOL(1)</p>
<hr>
</body>
</html>
