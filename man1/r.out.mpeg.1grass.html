<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>r.out.mpeg(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">r.out.mpeg(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">r.out.mpeg(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>r.out.mpeg</b> - Converts raster map series to MPEG movie.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
raster, export, animation
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>r.out.mpeg</b>
<div>&#x00A0;</div>
<b>r.out.mpeg --help</b>
<div>&#x00A0;</div>
<b>r.out.mpeg</b> [-<b>c</b>] <b>view1</b>=<i>name</i>[,<i>name</i>,...]
  [<b>view2</b>= <i>name</i>[,<i>name</i>,...]]
  [<b>view3</b>=<i>name</i>[,<i>name</i>,...]] [
  <b>view4</b>=<i>name</i>[,<i>name</i>,...]] <b>output</b>=<i>name</i>
  [<b>quality</b>= <i>integer</i>] [--<b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Convert on the fly, uses less disk space
    <div>&#x00A0;</div>
    Requires r.out.ppm with stdout option</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>view1</b>=<i>name[,</i><i>name</i>,...]
    <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map(s) for view no.1</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>view2</b>=<i>name[,</i><i>name</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map(s) for view no.2</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>view3</b>=<i>name[,</i><i>name</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map(s) for view no.3</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>view4</b>=<i>name[,</i><i>name</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input raster map(s) for view no.4</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>quality</b>=<i>integer</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quality factor (1 = highest quality, lowest compression)
    <div>&#x00A0;</div>
    Options: <i>1-5</i>
    <div>&#x00A0;</div>
    Default: <i>3</i></dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>r.out.mpeg</i> is a tool for combining a series of GRASS raster maps into a
  single MPEG-1 (Motion Pictures Experts Group) format file. MPEG-1 is a
  &quot;lossy&quot; video compression format, so the quality of each resulting
  frame of the animation will be much diminished from the original raster image.
  The resulting output file may then be viewed using your favorite mpeg-format
  viewing program. MPEG-2 and MPEG-4 provide much better quality animations.
<div class="Pp"></div>
The user may define up to four &quot;views&quot;, or sub-windows, to animate
  simultaneously. e.g., View 1 could be rainfall, View 2 flooded areas, View 3
  damage to bridges or levees, View 4 other economic damage, all animated as a
  time series. A black border 2 pixels wide is drawn around each view. There is
  an arbitrary limit of 400 files per view (400 animation frames). Temporary
  files are created in the conversion process, so lack of adequate tmp space
  could also limit the number of frames you are able to convert.
<div class="Pp"></div>
The environment variable GMPEG_SIZE is checked for a value to use as the
  dimension, in pixels, of the longest dimension of the animation image. If
  GMPEG_SIZE is not set, the animation size defaults to the rows &amp; columns
  in the current GRASS region, scaling if necessary to a default minimum size of
  200 and maximum of 500. These size defaults are overridden when using the
  <b>-c</b> flag (see below). The resolution of the current GRASS region is
  maintained, independent of image size. Playback programs have to decode the
  compressed data &quot;on-the-fly&quot;, therefore smaller dimensioned
  animations will provide higher frame rates and smoother animations.
<div class="Pp"></div>
UNIX - style wild cards may be used with the command line version in place of a
  raster map name, but wild cards must be quoted.
<div class="Pp"></div>
A quality value of <b>quality=1</b> will yield higher quality images, but with
  less compression (larger MPEG file size). Compression ratios will vary
  depending on the number of frames in the animation, but an MPEG produced using
  <b>quality=5</b> will usually be about 60% the size of the MPEG produced using
  <b>quality=1</b>.
<h1 class="Sh" title="Sh" id="Example"><a class="selflink" href="#Example">Example</a></h1>
<pre>
r.out.mpeg view1=&quot;rain[1-9]&quot;,&quot;rain1[0-2]&quot; view2=&quot;temp*&quot;
</pre>
<div class="Pp"></div>
If the number of files differs for each view, the view with the fewest files
  will determine the number of frames in the animation.
<div class="Pp"></div>
With <b>-c</b> flag the module converts &quot;on the fly&quot;, uses less disk
  space by using <i>r.out.ppm</i> with stdout option to convert frames as needed
  instead of converting all frames to ppm before encoding. Only use when
  encoding a single view. Use of this option also overrides any size defaults,
  using the <b>CURRENTLY DEFINED GRASS REGION for the output size</b>. So be
  careful to set region to a reasonable size prior to encoding.
<h1 class="Sh" title="Sh" id="KNOWN_ISSUES"><a class="selflink" href="#KNOWN_ISSUES">KNOWN
  ISSUES</a></h1>
MPEG images must be 16-pixel aligned for successful compression, so if the rows
  &amp; columns of the calculated image size (scaled, with borders added) are
  not evenly divisible by 16, a few rows/columns will be cut off the bottom
  &amp; right sides of the image. The MPEG format is optimized to recognize
  image MOTION, so abrupt changes from one frame to another will cause a
  &quot;noisy&quot; encoding.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
This program requires the program <i>mpeg_encode</i> (aka <i>ppmtompeg</i>):
<div class="Pp"></div>
MPEG-1 Video Software Encoder
<div>&#x00A0;</div>
(Version 1.3; March 14, 1994)
<div class="Pp"></div>
Lawrence A. Rowe, Kevin Gong, Ketan Patel, and Dan Wallach Computer Science
  Division-EECS, Univ. of Calif. at Berkeley
<div class="Pp"></div>
Available from Berkeley: http://biowiki.org/BerkeleyMpegEncoder
<div>&#x00A0;</div>
or as part of the netpbm package ( <i>ppmtompeg</i>):
  http://netpbm.sourceforge.net
<div class="Pp"></div>
Use of the <b>-c</b> flag requires the <i>r.out.ppm</i> GRASS module with the
  <b>stdout</b> option.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i>r.out.ppm</i>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Bill Brown, U.S. Army Construction Engineering Research Laboratories
<div class="Pp"></div>
<i>Last changed: $Date: 2015-05-11 02:11:34 +0200 (Mon, 11 May 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: r.out.mpeg source code (history)
<div class="Pp"></div>
Main index | Raster index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
