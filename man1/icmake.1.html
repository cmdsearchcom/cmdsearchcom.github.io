<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>icmake(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">icmake(1)</td>
    <td class="head-vol">A program maintenance utility</td>
    <td class="head-rtitle">icmake(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
icmake - A program maintenance ( <i>make</i>) utility using a <b>C</b>-like
  grammar
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>icmake</b> [options] <i>source[.im] [dest[.bim]]</i> [-- [args]]
<div class="Pp"></div>
<b>icmun</b> <i>bimfile</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>Icmake</b>(1) was designed as a generic tool that can be used as an
  alternative to <b>make</b>(1), handling program maintenance. It&#x2019;s a
  generic tool in that <i>icmake</i>-scripts, written in a language closely
  resembling the <b>C</b> programming language, can perform tasks that are
  traditionally the domain of scripting languages.
<div class="Pp"></div>
<b>Icmake</b> allows programmers to use a programming language (closely
  resembling the well-known <b>C</b>-programming language) to define the actions
  that are required for (complex) program maintenance. For this, <b>icmake</b>
  offers various special operators as well as a set of support functions that
  have shown their usefulness in program maintenance.
<div class="Pp"></div>
Although <i>icmake</i>-scripts can be written from scratch for handling program
  maintenance, often the required activities are highly comparable. This
  observation resulted in the construction of two <i>icmake</i>-scripts:
  <b>icmstart</b>(1), initializing a directory for program development and
  <b>icmbuild</b>(1), handling the actual program maintenance. Both come
  predefined as scripts tailored to initializing and maintaining <b>C++</b>
  programs (or, after minimal adaptation, <b>C</b> programs), but can easily be
  adapted to other programming languages. Both <i>icmstart</i> and
  <i>icmbuild</i> can be run without explicitly calling <i>icmake</i>.
<div class="Pp"></div>
This man-page covers <i>icmake</i> (the program), its support programs and the
  syntax and facilities offered by <i>icmake&#x2019;s</i> scripting language.
  Refer to the <b>icmstart</b>(1)) man-page for information about how a
  directory can be initialized (created) in which (by default) a <b>C++</b> or
  <b>C</b> program can be developed and refer to the <b>icmbuild</b>(1) man-page
  for information about how <i>icmbuild</i> can be used to handle program
  maintenance.
<div class="Pp"></div>
It should be stressed that <i>icmake</i> and its support programs and scripts do
  not offer an <i>Integrated Development Environment</i> (IDE). It merely
  performs tasks for which scripts can be written, and it offers just a few
  pre-defined scripts ( <i>icmstart</i> and <i>icmbuild</i>) that repeatedly
  have shown to be extremely useful when developing and maintaining programs.
<div class="Pp"></div>
In its standard operation mode, <i>icmake</i> calls the following programs:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>icm-pp</i> to preprocess the icmake file</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>icm-comp</i> to byte-code compile the <b>icmake</b>
      <b>s</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>icm-dep</i> to handle class-dependencies (see section
      <b>ICM-DEP</b> in <b>icmbuild</b>(1)&#x2019;s man-page for more
      information about <i>icm-dep</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>icm-exec</i> to execute the byte-code file
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
The program <b>icmun</b>(1) can be used to disassemble the compiled byte-code
  (.bim) file. <i>Icmun</i> is mainly used for illustration, education, and
  debugging. As it is not required for <i>icmake</i>&#x2019;s daily use it is
  not installed in a standard <i>PATH</i> directory but (since
  <i>icmake&#x2019;s</i> version 9.02.00) in <i>icmake&#x2019;s</i> <i>lib</i>
  directory, commonly <i>/usr/lib/icmake</i>.
<div class="Pp"></div>
Traditional make-utilities recompile sources once header files are modified.
  When developing <b>C++</b> programs this is often a bad idea, as adding a new
  member to a class does not normally require you to recompile all of the
  class&#x2019;s source files. To handle class dependencies <b>icmbuld</b>(1)
  may inspect class dependencies, (re)compiling sources of dependent classes
  whenever necessary. By default, class-dependencies are not interpreted, but
  this can easily be changed by activating the <i>PRECOMP</i> and/or
  <i>USE_ALL</i> defines in <i>icmconf</i>. Refer to the <b>icmconf</b>(7)
  man-page for further details.
<div class="Pp"></div>
Precompiled header files can also easily be used. Precompiled header files
  dramatically reduce the time that is required for compiling classes&#x2019;
  source files. Refer to the <b>icmconf</b>(7) man-page (in particular the
  description of the <i>PRECOMP</i> define) for further details.
<div class="Pp"></div>
<i>Icmake&#x2019;s</i> <b>C</b>-like scripting language is described in the
  upcoming sections of this man-page:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>PREPROCESSOR DIRECTIVES</b>
    <div>&#x00A0;</div>
    - supported preprocessor directives, like <i>#include</i> and
      <i>#define</i>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>DATA TYPES</b>
    <div>&#x00A0;</div>
    - <i>int, list, string</i>, and <i>void</i> (for functions);</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>PREDEFINED CONSTANTS</b>
    <div>&#x00A0;</div>
    - like <i>O_FILE, OFF</i>, and <i>S_IFREG</i>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>OPERATORS</b>
    <div>&#x00A0;</div>
    - like <i>+, younger</i>, and casts</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>FLOW CONTROL</b>
    <div>&#x00A0;</div>
    - <i>if, for, while</i>, etc. (the <i>switch</i> is not available);</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>PREDEFINED FUNCTIONS</b>
    <div>&#x00A0;</div>
    - executing programs, changing directories, operations on <i>string</i> and
      <i>list</i> type variables, etc.;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>USER DEFINED FUNCTIONS</b>
    <div>&#x00A0;</div>
    - at least <i>main</i>, with or without its common parameters <i>argc,
      argv,</i> and <i>envp</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
Where available, single letter options are listed between parentheses beyond
  their associated long-option variants.
<div class="Pp"></div>
The <i>--</i> option is special:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>--</i>: <b>icmake</b> arguments separator separating
      <b>icmake</b> arguments from arguments passed to the .bim filenl(). Those
      arguments are passed to the .bim file as-is, and are available from the
      <i>list argv</i> parameter available from the <b>icmake</b>
      script&#x2019;s <i>main</i> function&#x2019;s second parameter (see below
      at section <b>USER DEFINED</b> <b>FUNCTIONS</b>). For some options (see
      below) the <i>--</i> separator is not required.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<b>Icmake</b> supports various options, and only one of these can be specified
  when <b>icmake</b> is invocated.
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--about</b> (<b>-a</b>)
    <div>&#x00A0;</div>
    Show information about <b>icmake</b> and terminate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--compile</b> (<b>-c</b>)
    <div>&#x00A0;</div>
    The <b>icmake</b> source file is compiled, generating a .bim file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--execute</b> (<b>-e</b>)
    <div>&#x00A0;</div>
    Execute the <b>icmake</b> .bim file, given as <b>icmake</b>&#x2019;s first
      file argument. Any additional arguments are passed to the .bim file as-is,
      and <i>--</i> should not be specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--force</b> (<b>-f</b>)
    <div>&#x00A0;</div>
    The icmake source file is recompiled (even if the <i>.bim</i> file is
      up-to-date) either when no other options are specified, or when in
      combination with options <i>--source</i> and <i>--tmpbin</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--help</b> (<b>-h</b>)
    <div>&#x00A0;</div>
    Provide usage info and terminate.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--icm-dep</b> (<b>-d</b>)
    <div>&#x00A0;</div>
    Calls <i>/usr/lib/icmake/icm-dep</i>, passing it all remaining arguments. If
      no additional arguments are specified <i>icm-dep&#x2019;s</i> short usage
      information is shown to the std. output stream. See section <b>ICM-DEP</b>
      in <b>icbuild</b>(1)&#x2019;s man-page for more information about the
      <i>icm-dep</i> support program. An overview of <i>icm-dep&#x2019;s</i>
      option follows below, next to this overview of <b>icmake</b>&#x2019;s
      options.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--preprocess</b> (<b>-p</b>)
    <div>&#x00A0;</div>
    The <b>icmake</b> source file is only preprocessed, and the preprocessed
      file is written to <b>icmake</b>&#x2019;s second file argument (by default
      <i>`source&#x2019;.pim</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--source</b> (<b>-i</b>)
    <div>&#x00A0;</div>
    The first argument is the <b>icmake</b> source file, the default binary file
      is constructed if necessary. Any additional arguments are passed to the
      .bim file as-is, and <i>--</i> should not be specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--summary</b> (<b>-F</b>)
    <div>&#x00A0;</div>
    The filenames and flags as well as an overview of all actions to be
      performed by <b>icmake</b> are shown on the standard output stream.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>-t</b> <i>tmpbim</i>
    <div>&#x00A0;</div>
    The <i>tmpbim</i> argument following <i>-t</i> is the name of a temporary
      .bim file, which is removed after <b>icmake</b>&#x2019;s call. When
      <i>.</i> is specified for <i>tmpbim</i> then the default temporary
      directory, followed by <b>icmake</b>&#x2019;s process-id, followed by
      <i>.bim</i> is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Following the name of the temporary .bim file the name of
      the <b>icmake</b> source script must be specified. Any additional
      arguments are passed to the .bim file as-is, and <i>--</i> should not be
      specified; After setting the source script file&#x2019;s executable flag (
      <i>chmod +x</i> <i>script</i>), and providing it with an initial line like
      this:
    <pre>
<div class="Pp"></div>
    #!/usr/bin/icmake -t.
            
    </pre>
    the <b>icmake</b> script can directly be called:
    <pre>
<div class="Pp"></div>
    script arg1 arg2 
            
    </pre>
    in which case the <b>icmake</b> script <i>`script&#x2019;</i> is executed
      while it receives the arguments <i>script arg1 arg2</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>-T</b> <i>directory</i>
    <div>&#x00A0;</div>
    The specified directory is used to store temporary files. E.g., when
      compiling an <b>icmake</b> script, the output of <b>icmake</b>&#x2019;s
      preprocessor is a temporary file which is removed on exit. By default
      <i>/tmp</i> is used, unless <i>/tmp</i> is not a writable directory, in
      which case the current user&#x2019;s <i>$HOME</i> directory is used.
      Implicit temporary filenames always start with the process id of the
      current <b>icmake</b> process.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--version</b> (<b>-v</b>)
    <div>&#x00A0;</div>
    Displays <b>icmake</b>&#x2019;s version number, and terminates.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<b>Icmun</b>:
<div class="Pp"></div>
<i>bimfile</i>: binary <b>icmake</b> script file.
<h1 class="Sh" title="Sh" id="ICM-DEP_invocation_and_options"><a class="selflink" href="#ICM-DEP_invocation_and_options">ICM-DEP
  invocation and options</a></h1>
To start its work, the dependencies-analyzer <i>icm_dep</i> needs one
  command-line argument: <i>go</i>. Any other argument results in <i>icm_dep</i>
  performing a `dry run&#x2019;: it will perform all its duties (and verbose
  messages are displayed as if <i>go</i> had been specified), but no files
  (precompiled headers or <i>USE_ALL</i> files) will be touched or removed. If
  neither options nor arguments are specified <i>icm_dep</i> writes its usage
  summary to the standard output.
<div class="Pp"></div>
Options of <i>icm-dep</i> can be specified immediately following
  <b>icmake</b>&#x2019;s <i>--icm-dep</i> option. The following options are
  recognized by <i>icm-dep</i>:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--classes</b>=<i>filename</i> (<b>-c</b>)
    <div>&#x00A0;</div>
    By default, <i>icm-dep</i> inspects dependencies of the classes whose
      directories are mentioned in the file <i>CLASSES</i>. If specified in the
      <b>icmconf</b>(7) file, it will also consider dependencies of the classes
      <i>Parser</i> (directory <i>parser</i>) and <i>Scanner</i> (directory
      <i>scanner</i>), or it uses their actual names as defined in the
      <b>icmconf</b>(7) file. Use this option if instead of <i>CLASSES</i>
      another file should be inspected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--help</b> (<b>-h</b>)
    <div>&#x00A0;</div>
     <i>Icm-dep</i> writes a summary of its usage to the standard output and
      terminates.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--icmconf</b>=<i>filename</i> (<b>-i</b>)
    <div>&#x00A0;</div>
    By default <i>icm-dep</i> inspects the contents of an <i>icmconf</i> file,
      looking for the <i>USE_ALL</i> and <i>PRECOMP</i> specifications. Use this
      option if instead of <i>icmconf</i> another file should be inspected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--mainih</b>=<i>mainheader</i> (<b>-m</b>)
    <div>&#x00A0;</div>
    The <i>icmconf</i> file uses the <i>#define IH</i> parameter to specify the
      suffix of class header files that should be precompiled, their filenames
      being equal to the names of the classes mentioned in the <i>CLASSES</i>
      file. <i>CLASSES</i> does not specify a top-level directory. The name of
      the top-level header file to precompile can be specified using this
      option. By default it is <i>main.ih</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--gch</b>
    <div>&#x00A0;</div>
    By default precompiled header files are inspected if <i>icmconf</i> contains
      a <i>#define PRECOMP</i> specification. If it does not, but precompiled
      headers should nonetheless be inspected, the option <i>--gch</i> can be
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--no-gch</b>
    <div>&#x00A0;</div>
    By default precompiled header files are inspected if <i>icmconf</i> contains
      a <i>#define PRECOMP</i> specification. If so, but precompiled headers
      should <i>not</i> be inspected, the option <i>--no-gch</i> can be
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--no-use-all</b>
    <div>&#x00A0;</div>
    By default files named at the <i>#define USE_ALL</i> specification are
      inspected if <i>icmconf</i> contains such a specification. If it does, but
      the <i>`USE_ALL&#x2019;</i> files should not be inspected, this option can
      be specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--use-all</b>=<i>filename</i>
    <div>&#x00A0;</div>
    By default files named at the <i>#define USE_ALL</i> specification are
      inspected if <i>icmconf</i> contains such a specification. If it does not,
      but <i>`USE_ALL&#x2019;</i> files should nonetheless be inspected, this
      option can be specified, together with the name of files (existing in one
      or more directories that indicate that all the directory&#x2019;s source
      files must be recompiled).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--verbose</b> (<b>-V</b>)
    <div>&#x00A0;</div>
    This option can be specified multiple times. The number of times it is
      specified defines <i>icm_dep&#x2019;s</i> verbosity. If none is specified,
      <i>icm_dep</i> silently performs its duties. If specified once, then
      <i>icm_dep</i> reports to the standard output what actions it performs; if
      specified twice it reports the options it encountered; if specified three
      times it also reports the class dependencies; if specified more often it
      reports what files it encountered and what situations caused it to make
      its decisions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>--version</b> (<b>-v</b>)
    <div>&#x00A0;</div>
     <i>Icm_dep</i> reports its version number to the standard output and
      terminates.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="PREPROCESSOR_DIRECTIVES"><a class="selflink" href="#PREPROCESSOR_DIRECTIVES">PREPROCESSOR
  DIRECTIVES</a></h1>
The following preprocessor directives are available:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">comment:
    <div>&#x00A0;</div>
    standard <b>C</b> comment (all between <i>/*</i> and <i>*/</i>) as well as
      comment-to-end-of-line (all line contents following <i>//</i>) are
      ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">Shell startup: The first line of the <b>icmake</b>-script
      may start with <i>#!path</i>, where <i>path</i> defines the absolute
      location of the <b>icmake</b> program. By making the script executable, it
      can be called without explicitly calling <b>icmake</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">E.g., if the first line of an (executable) icmakefile
      &#x2019;icm&#x2019; (without extension) contains
    <pre>
<div class="Pp"></div>
            #!/usr/bin/icmake -i
        
    </pre>
    then <i>icm</i> may be issued as a command, thus executing
    <pre>
<div class="Pp"></div>
            /usr/bin/icmake -i icm ...
        
    </pre>
    Alternatively,
    <pre>
<div class="Pp"></div>
            #!/usr/bin/icmake -t /tmp/icm
        
    </pre>
    may be used, resulting in the execution of
    <pre>
<div class="Pp"></div>
            #!/usr/bin/icmake -t /tmp/icm icm ...
        
    </pre>
    In this case the binary file is removed on exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#include &quot;filename&quot;</i>
    <div>&#x00A0;</div>
    The file <i>filename</i> is included at the location of the directive</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#include &lt;filename&gt;</i>
    <div>&#x00A0;</div>
    The file <i>filename</i> is included at the location of the <i>#include</i>
      directive; <i>filename</i> is searched in the colon-separated directories
      specified by the <i>IM</i> environment variable. The first occurrence of
      <i>filename</i> in the directories specified by the <i>IM</i> environment
      variable is used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#define identifier [definition]</i>
    <div>&#x00A0;</div>
    The text <i>identifier</i> will be replaced by <i>definition</i>. The
      definition may contain references to already defined identifiers, using
      the <i>${identifier}</i> format. If the <i>${identifier}</i> hasn&#x2019;t
      been defined (yet), the text <i>${identifier}</i> is literally kept. To
      prevent infinite recursion at most 100 <i>${identifier}</i> replacements
      are allowed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Definitions continue at the next line if the last character
      on a line is a backslash ( <i>\</i>). (which is not included in the
      definition). The preprocessor concatenates double-quuted strings, and
      double quoted strings may not span multiple lines. Multiple blanks
      (outside of double quoted strings) in definitions are contracted to a
      single blank space.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The definition following the <i>#define&#x2019;s</i>
      identifier is optional. If omitted, the macro is defined, so it can be
      used in <i>#if(n)def</i> directives (see below), but they are not replaced
      by any text in <b>icmake</b> code statements.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#ifdef identifier</i>
    <div>&#x00A0;</div>
    If the <i>identifier</i> macro was defined the next block of code (until a
      matching <i>#else</i> or <i>#endif</i> directive was read) is
      byte-compiled. Otherwise, the block of code is ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#ifndef identifier</i>
    <div>&#x00A0;</div>
    If the <i>identifier</i> macro was <i>not</i> defined the next block of code
      (until a matching <i>#else</i> or <i>#endif</i> directive was detected) is
      byte-compiled. Otherwise, the block of code is ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#else</i>
    <div>&#x00A0;</div>
    Terminates a <i>#ifdef</i> and <i>#ifndef</i> directive, reversing the
      acceptance decision about the following code. Only one <i>#else</i>
      directive can be associated with <i>#if(n)def</i> directives.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#endif</i>
    <div>&#x00A0;</div>
    Terminates the preprocessor block starting at the matching <i>#ifdef</i>,
      <i>#ifndef</i> or <i>#else</i> directive. The <i>#endif</i> directory and
      its matching <i>#if(n)def</i> directive must be specified in the same
      file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>#undef identifier</i>
    <div>&#x00A0;</div>
    Remove <i>identifier</i> from the set of defined symbols. This does not
      affect the specification of any previously defined symbols in which
      <i>identifier&#x2019;s</i> definition has been used. If <i>identifier</i>
      hasn&#x2019;t been defined a warning is issued.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="DATA_TYPES"><a class="selflink" href="#DATA_TYPES">DATA
  TYPES</a></h1>
<b>Icmake</b> supports these data types:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>ASCII character constants</i>
    <div>&#x00A0;</div>
    ASCII character constants consist of one character, surrounded by single or
      double quotes. Single characters (e.g., <i>&#x2019;a&#x2019;</i>)
      represent the character itself. Standard escape sequences (e.g.,
      <i>&#x2019;\n&#x2019;</i>) are supported and represent their standard
      converted value (e.g., <i>&#x2019;\n&#x2019;</i> represents ascii value 10
      (decimal)). Non-standard escape sequences (e.g.,
      <i>&#x2019;\x&#x2019;</i>) represent the ascii character following the
      escape character (so <i>&#x2019;\x&#x2019;</i> equals
      <i>&#x2019;x&#x2019;</i>). Escape sequences consisting of three octal
      digits represent the ascii character corresponding to the octal value
      modulo 256 (e.g., <i>&#x2019;\123&#x2019;</i>). Escape sequences
      consisting of an x followed by two hexadecimal digits represent the ascii
      character corresponding to the hexadecimal value (e.g.,
      <i>&#x2019;\xa4&#x2019;</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int</i>
    <div>&#x00A0;</div>
    Integral values, ranging from <i>-0x8000</i> through <i>0x7fff</i>.
      <i>int</i> constants may be specified as decimal numbers (starting with
      digits 1 through 9), octal numbers (starting with 0, followed by one or
      more octal digits) hexadecimal numbers (starting with 0x, followed by one
      or more hexadecimal digits) or as <i>ASCII</i> character constants.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string</i>
    <div>&#x00A0;</div>
    Text variables. String constants are delimited by double quotes. Multiple
      string constants may be concatenated, but a single string constant may not
      span multiple lines. String constants separated by white space only (i.e.,
      blanks, newlines, comment) are concatenated and represent one single
      string constant. To indicate an end-of-line in a string constant use the
      <i>\n</i> escape sequence.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">ASCII character constants surrounded by double quotes can
      also be used in arithmetic expressions if one of the operands is an
      <i>int</i>. The single character string constant <i>must</i> be a
      constant, and cannot be a <i>string</i> variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Likewise, ASCII character constants surrounded by single
      quotes may be used in situations where a string operand is expected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list</i>
    <div>&#x00A0;</div>
    A data structure containing a series of individually accessible
      <i>string</i> values. When a list contains elements, its first element is
      indicated by index 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>void</i>
    <div>&#x00A0;</div>
    Used with function definitions to indicate that the function does not return
      a value.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Variables can be defined at the global level as well as at any local level
  inside functions. When defined inside functions, the standard <b>C</b> scoping
  and visibility rules apply. E.g., local variables can only be used in their
  own or in more deeply nested blocks, their visibility is masked in more deeply
  nested blocks by defining an identically named variable inside those more
  deeply nested blocks. Variables are strongly typed, and cannot have type
  <i>void</i>.
<div class="Pp"></div>
Variables may be initialized when they are defined. Initializations are
  expressions, that can use pre- or user-defined functions, constant values, and
  values of variables that are visible at the point of definition.
<h1 class="Sh" title="Sh" id="PREDEFINED_CONSTANTS"><a class="selflink" href="#PREDEFINED_CONSTANTS">PREDEFINED
  CONSTANTS</a></h1>
The following constants are predefined by <b>icmake</b>. All are constant
  <i>int</i> values:
<table class="tbl">
  <colgroup>
    <col style="width: 9.00ex;"/>
    <col style="width: 5.00ex;"/>
    <col style="width: 12.00ex;"/>
  </colgroup>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>symbol</td>
    <td>value</td>
    <td>intended for</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>O_ALL</td>
    <td>8</td>
    <td>makelist</td>
  </tr>
  <tr>
    <td>O_DIR</td>
    <td>2</td>
    <td>makelist</td>
  </tr>
  <tr>
    <td>O_FILE</td>
    <td>1</td>
    <td>makelist</td>
  </tr>
  <tr>
    <td>O_SUBDIR</td>
    <td>4</td>
    <td>makelist</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>OFF</td>
    <td>0</td>
    <td>echo</td>
  </tr>
  <tr>
    <td>ON</td>
    <td>1</td>
    <td>echo</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>P_CHECK</td>
    <td>0</td>
    <td>system calls</td>
  </tr>
  <tr>
    <td>P_NOCHECK</td>
    <td>1</td>
    <td>system calls</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>S_IEXEC</td>
    <td>32</td>
    <td>stat</td>
  </tr>
  <tr>
    <td>S_IFCHR</td>
    <td>1</td>
    <td>stat</td>
  </tr>
  <tr>
    <td>S_IFDIR</td>
    <td>2</td>
    <td>stat </td>
  </tr>
  <tr>
    <td>S_IFREG</td>
    <td>4</td>
    <td>stat</td>
  </tr>
  <tr>
    <td>S_IREAD</td>
    <td>8</td>
    <td>stat </td>
  </tr>
  <tr>
    <td>S_IWRITE</td>
    <td>16</td>
    <td>stat</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The following constants are architecture dependent:
<table class="tbl">
  <colgroup>
    <col style="width: 14.00ex;"/>
    <col style="width: 44.00ex;"/>
  </colgroup>
  <tr>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>symbol</td>
    <td>1 when defined on the platform, otherwise 0</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>unix</td>
    <td>Unix, usually with GNU&#x2019;s gcc compiler</td>
  </tr>
  <tr>
    <td>UNIX</td>
    <td>may alternatively be available</td>
  </tr>
  <tr>
    <td>linux</td>
    <td>x86 running Linux (usually with gcc)</td>
  </tr>
  <tr>
    <td>LINUX</td>
    <td>may alternatively be available</td>
  </tr>
  <tr>
    <td>M_SYSV, M_UNIX</td>
    <td>x86 running SCO/Unix</td>
  </tr>
  <tr>
    <td>_POSIX</td>
    <td>_SOURCE Unix with Posix compliant compiler</td>
  </tr>
  <tr>
    <td>__hpux</td>
    <td>HP-UX, with the native HP compiler</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td></td>
    <td></td>
  </tr>
</table>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="OPERATORS"><a class="selflink" href="#OPERATORS">OPERATORS</a></h1>
<b>int-typed operand(s):</b>
<div class="Pp"></div>
All <b>C</b> operators are available (except for pointer operators, as
  <b>icmake</b> does not support pointers). They operate like their
  <b>C</b>-programming language counterparts.
<div class="Pp"></div>
<b>string-typed operand(s):</b>
<div class="Pp"></div>
For <i>string</i> type variables and/or constants the following operators are
  available ( <i>a</i> and <i>b</i> represent <i>string</i> variables or
  constants):
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a + b</i>: returns a new <i>string</i> value containing
      the concatenation of <i>string</i> values <i>a</i> and <i>b</i>. Note that
      <i>string</i> constants may be directly concatetated (without using the
      <i>+</i> operator), e.g., the following two lines both define the string
      <i>&quot;hello world&quot;</i>:
    <pre>
<div class="Pp"></div>
&quot;hello &quot;   &quot;world&quot;
&quot;hello &quot; + &quot;world&quot;
        
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a += b</i>: <i>a</i> must be a <i>string</i> variable,
      to which the <i>string</i> variable or value <i>b</i> is appended.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">string comparisons: operators <i>== != &lt;= &gt;= &lt;
      &gt; !=</i> and <i>==</i> may be applied to <i>string</i> values or
      variables, returning 1 if the comparison succeeds, otherwise 0. Comparison
      is case sensitively, and follows the ordering or characters as defined in
      the <i>ASCII</i> character set.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>!a</i>: the boolean <i>!</i> (not) operator returns 1 if
      the <i>string a</i> is empty, otherwise 0 is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a younger b, a newer b</i>: returns 1 if file <i>a</i>
      is more recent than file <i>b</i>. E.g., <i>&quot;source.cc&quot; newer
      &quot;source.o&quot;</i>. The files <i>a</i> and <i>b</i> do not have to
      exist: if both don&#x2019;t exist 0 is returned; if <i>b</i>
      doesn&#x2019;t exist, 1 is returned; if <i>a</i> doesn&#x2019;t exist 0 is
      returned; if they are equally old 0 is returned. (the <i>exists()</i>
      predefined function (see below, section <b>PREDEFINED FUNCTIONS</b>) can
      be used to test explicitly whether a file exists).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a older b</i>: turns 1 if file <i>a</i> is older than
      file <i>b</i>. E.g., <i>&quot;libprog.a&quot; older
      &quot;source.o&quot;</i>. The files <i>a</i> and <i>b</i> do not have to
      exist: if both don&#x2019;t exist 0 is returned; if <i>a</i>
      doesn&#x2019;t exist, 1 is returned; if <i>b</i> doesn&#x2019;t exist 0 is
      returned; if they are equally old 0 is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>[]</i>: the index operator retrieves a character from a
      string variable or constant: it returns a string as an <i>rvalue</i>.
      Therefore, the following statement compiles OK:
    <pre>
<div class="Pp"></div>
    // assume str1 and str2 are strings
str1 = str2[3];
        
    </pre>
    but the following statement won&#x2019;t compile:
    <pre>
<div class="Pp"></div>
str2[3] = &quot;a&quot;; 
        
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">An empty string is returned if an invalid index value is
      provided.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The `backtick` operator (<i>`string cmd`</i>)
    <div>&#x00A0;</div>
    A string placed between two backticks is executed by the <i>popen</i>(3)
      function. The standard output gererated by the command that is stored in
      the string argument is returned as a list. An empty list indicates that
      the command could not be executed. A command that could be executed but
      did not produce any output returns a list containing one empty element.
      The command&#x2019;s standard error stream output is not collected by the
      backtick operator. However, standard shell redirection could be used to
      collect the standard error stream&#x2019;s output. Example:
    <pre>
<div class="Pp"></div>
printf(`&quot;ls&quot;`);     // prints the elements in 
                    // the current directory
            
    </pre>
    The predefined function <i>eval(string cmd)</i> behaves exactly like the
      backtick operator: they are synonyms.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<b>list-typed operand(s):</b>
<div class="Pp"></div>
For <i>list</i> type variables and/or values the following operators are
  available:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a + b</i>: returns a new <i>list</i> value containing
      the concatenation of <i>list</i> values <i>a</i> and <i>b</i>. This is
      <i>not</i> a set operation: if an element appears both in <i>a</i> and in
      <i>b</i>, they will appear twice in the resulting list (set-addition is
      provided by the built-in function <i>listunion</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a - b</i>: returns a new <i>list</i> value containing
      the elements in <i>a</i> that are not present in <i>b</i>. This <i>is</i>
      a set-difference operation: the returned list contains all elements in
      <i>a</i> that are not elements of <i>b</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a += b</i>: elements in <i>b</i> are added to the
      elements in <i>a</i>, which must be a <i>list</i> variable. This is
      <i>not</i> a set operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>a -= b</i>: elements in <i>b</i> are removed from the
      elements in <i>a</i>, which must be a <i>list</i> variable. This <i>is</i>
      a set operation: all elements of <i>a</i> that are found in <i>b</i> are
      removed from <i>a</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">list equality comparisons: operators <i>!=</i> and
      <i>==</i> may be applied to <i>list</i> values or variables. Operator
      <i>==</i> returns 1 if both lists have element-by-element identical
      elements, otherwise 0 is returned. Operator <i>!=</i> reverses the result
      of <i>==</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>!a</i>: the boolean <i>!</i> operator returns 1 if the
      <i>list a</i> is empty, otherwise 0 is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>[]</i>: the index operator retrieves a list element from
      a list variable: it returns a string as an <i>rvalue</i>. Therefore, the
      following statement compiles OK:
    <pre>
<div class="Pp"></div>
    // assume lst is a list, str is a string
str = lst[3];
        
    </pre>
    but the following statement won&#x2019;t compile:
    <pre>
<div class="Pp"></div>
lst[3] = str;
        
    </pre>
    An empty string is returned if an invalid index value is provided.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
<b>Casting:</b>
<div class="Pp"></div>
Type-casts may be performed using the standard <b>C</b> cast-operator to cast:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">Strings to ints and vice versa (<i>(int)&quot;123&quot;,
      (string)55</i>)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">Strings to lists (<i>list lst =
      (list)&quot;hello&quot;</i>)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="FLOW_CONTROL"><a class="selflink" href="#FLOW_CONTROL">FLOW
  CONTROL</a></h1>
<b>Icmake</b> offers the following subset of <b>C</b>&#x2019;s statements. They
  can be used as in the <b>C</b> programming language.
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>expression ;</i>
    <div>&#x00A0;</div>
    The plain expression statement;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The compound statement
    <div>&#x00A0;</div>
    Variables of any type may be defined and initialized anywhere inside any
      compound statement. The <i>visibility</i> of a variable starts at its
      point of definition.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>if (condition) statement</i>
    <div>&#x00A0;</div>
    Inside the condition a variable may be defined and initialized. E.g,
    <pre>
<div class="Pp"></div>
    if (string str = getText())
        process(str);
            
    </pre>
    In this example, <i>process</i> is not called if <i>getText()</i> returns an
      empty string. The variable <i>str</i> does not exist either before or
      after the <i>if</i> statement.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>if (condition) statement else statement</i>
    <div>&#x00A0;</div>
    As with the previous statement, inside the condition a variable may be
      defined and initialized.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>for (init; condition; increment) statement</i>
    <div>&#x00A0;</div>
    Variables (of a single type) may be initialized (and optionally be defined)
      in the <i>init</i> section. The <i>init</i>, <i>condition</i> and
      <i>increment</i> sections may remain empty. The empty condition section is
      interpreted as `always <i>true</i>&#x2019;.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>while (condition) statement</i>
    <div>&#x00A0;</div>
    Inside the condition a variable may be defined and initialized.
    <div>&#x00A0;</div>
    A complementary <i>do ... while()</i> statement is not available. Note that
      defining a variable, using an initialization expression means that the
      initialization expressing is executed at each iteration of the
      <i>while</i> statement. So the following statement will never end, and
      will display a never ending stream of values 10:
    <pre>
<div class="Pp"></div>
while (int x = 10)
    printf(x--, &quot;\n&quot;);
        
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>return;</i>, and <i>return expression;</i>
    <div>&#x00A0;</div>
    Plain <i>return</i> statements can be used in <i>void</i> functions, and
      <i>return expression</i> statements are used in other type of functions.
      The function <i>main</i> has return type <i>void</i> and so in <i>main</i>
      only plain <i>return</i> statements can be used. By default an
      <b>icmake</b> script&#x2019;s exit value equals 0. Use the built-in
      function <i>exit</i> (see below) to specify any other exit value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag"><b>Be advised: </b> the behavior of non-void functions not
      returning values is undefined.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>break</i>
    <div>&#x00A0;</div>
    Leaves <i>for</i> and <i>while</i> statements, overruling the
      statement&#x2019;s condition.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>continue</i>
    <div>&#x00A0;</div>
    Continues with the next iteration of a <i>for</i> or <i>while</i>
    statement.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>exit(expression)</i>
    <div>&#x00A0;</div>
    Ends the execution of an <b>icmake</b>-script. The <i>expression</i> must
      evaluate to an <i>int</i> value, which becomes the script&#x2019;s exit
      value.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="PREDEFINED_FUNCTIONS"><a class="selflink" href="#PREDEFINED_FUNCTIONS">PREDEFINED
  FUNCTIONS</a></h1>
<b>Icmake</b> offers the following predefined functions, which can be used
  anywhere in <b>icmake</b> scripts. The following overview is ordered
  alphabetically by function name.
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>void arghead(string h)</i>
    <div>&#x00A0;</div>
    Helper function of <i>exec()</i> (see also below at <i>exec()</i>): defines
      the `argument head&#x2019;, to be used with <i>exec()</i>. By default, the
      `argument head&#x2019; is an empty string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>void argtail (string t)</i>
    <div>&#x00A0;</div>
    Helper function of <i>exec()</i> (see also below at <i>exec()</i>): defines
      the `argument tail&#x2019;, to be used with <i>exec()</i>. By default, the
      `argument tail&#x2019; is an empty string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int ascii(string s)</i>
    <div>&#x00A0;</div>
    Returns the first character of <i>s</i> as an int; e.g.,
      <i>ascii(&quot;A&quot;)</i> returns 65;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string ascii(int i)</i>
    <div>&#x00A0;</div>
    Returns <i>i</i> as a string, e.g., <i>ascii(65)</i> returns the string
      <i>&quot;A&quot;</i>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string change_base(string file, string newbase)</i>
    <div>&#x00A0;</div>
    Changes the basename of <i>file</i>, returns the changed name. E.g,
      <i>change_base(&quot;/path/demo.im&quot;, &quot;out&quot;)</i> returns
      <i>&quot;/path/out.im&quot;</i>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string change_ext(string file, string newext)</i>
    <div>&#x00A0;</div>
    Changes the extension of <i>file</i>, returns the changed name. E.g,
      <i>rss_changeExt(&quot;source.cc&quot;, &quot;o&quot;)</i> returns
      <i>&quot;source.o&quot;</i>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string change_path(string file, string newpath)</i>
    <div>&#x00A0;</div>
    Changes the path specification of <i>file</i>, returns the changed name.
      E.g, <i>change_path(&quot;tmp/binary&quot;, &quot;/usr/bin&quot;)</i>
      returns <i>&quot;/usr/bin/binary&quot;</i>. Note that the
      <i>/</i>-separator is inserted if required.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string chdir(string newdir)</i>
    <div>&#x00A0;</div>
    Changes the script&#x2019;s working directory, returns the previous dir as
      an absolute path.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Use <i>chdir(&quot;.&quot;)</i> to obtain the current
      working directory, <i>chdir(&quot;&quot;)</i> may be used to obtain the
      startup working directory (this functionality was broken in releases
      before than 7.00, but is now operational). The function terminates the
      <b>icmake</b>-script if the specified <i>newdir</i> does not exist.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string chdir(int checking, string newdir)</i>
    <div>&#x00A0;</div>
    Same functionality as the previous function, but by specifying
      <i>checking</i> as <i>P_NOCHECK</i>. the function won&#x2019;t terminate
      the script. Rather, it will return the script&#x2019;s current working
      directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>cmdhead(string h)</i>
    <div>&#x00A0;</div>
    Helper function of <i>exec()</i> (see also below at <i>exec()</i>): Defines
      a `command head&#x2019;, to be used with <i>exec()</i>. By default, the
      `command head&#x2019; is an empty string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>cmdtail(string t)</i>
    <div>&#x00A0;</div>
    Helper function of <i>exec()</i> (see also below at <i>exec()</i>): Defines
      a `command tail&#x2019;, to be used with <i>exec()</i>. By default, the
      `command tail&#x2019; is an empty string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>echo(int opt)</i>
    <div>&#x00A0;</div>
    Controls echoing of called programs (and their arguments), specify
      <i>OFF</i> if echoing is not requested. By default <i>echo(ON)</i> is
      used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string element(int index, list (or string) var)</i>
    <div>&#x00A0;</div>
    Acts identical to the index operator: refer to the index ( <i>[]</i>)
      operator in the section <b>OPERATORS</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list eval(string str)</i>
    <div>&#x00A0;</div>
    This function acts identically to the backtick operator. The example
      provided with the backtick operator could therefore also have been written
      like this:
    <pre>
 
printf(eval(&quot;ls&quot;)); // prints the elements in the current 
                    // directory 
        
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>exec(string cmd, ...)</i>
    <div>&#x00A0;</div>
    Executes command with arguments. Each argument will be prefixed by
      <i>arghead()</i>&#x2019;s argument and postfixed by
      <i>argtail()</i>&#x2019;s argument. Note that no blanks are inserted
      between <i>arghead()</i>&#x2019;s contents, the argument proper, and
      <i>argtail()</i>&#x2019;s argument. All thus modified arguments are
      concatenated, this time separated by single blanks, and then
      <i>cmdhead()</i>&#x2019;s contents are inserted between the command and
      the first argument (on either side delimited by single blanks) and
      <i>cmdtail()</i>&#x2019;s contents are appended to the arguments (again,
      separated by a single blank). <i>PATH</i> is searched to locate
      <i>cmd</i>. 0 is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>exec(int checkcmd, string cmd, ...)</i>
    <div>&#x00A0;</div>
    Same functionality as the previous function, but by specifying
      <i>checking</i> as <i>NOT_CHECKED</i> the function won&#x2019;t terminate
      the script. Rather, it will return the called command&#x2019;s exit
      status, or <i>0x7f00</i> if the command wasn&#x2019;t found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>execute(string cmd, string cmdhd,</i> <i>string arghd,
      ..., string argtl, string cmdtl)</i>
    <div>&#x00A0;</div>
    Same as <i>exec()</i>, but command head/tail and argument head/tail must be
      specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The actually executed command starts with <i>cmd</i>,
      followed by <i>cmdhd</i>. Next is a series of arguments follows, each
      enclosed by <i>arghd</i> and <i>argtl</i>. The command terminates with
      <i>cmdtl</i>. 0 is returned</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>execute(int checking, string cmd, string cmdhd,</i>
      <i>string arghd, ..., string argtl, string cmdtl)</i>
    <div>&#x00A0;</div>
    Same functionality as the previous function, but by specifying
      <i>checking</i> as <i>NOT_CHECKED</i> the function won&#x2019;t terminate
      the script. Rather, it will return the called command&#x2019;s exit
      status, or <i>0x7f00</i> if the command wasn&#x2019;t found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int exists(string file)</i>
    <div>&#x00A0;</div>
    Returns a non-zero value if <i>file</i> exists, otherwise 0 is
    returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list fgets(string file, list offset)</i>
    <div>&#x00A0;</div>
     <b>NOTE:</b> in <b>icmake</b> version 8.00.00 the prototype of this
      function was changed from <i>list fgets(string file, int offset)</i> to
      <i>list fgets(string file, list offset)</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">The next line found at the offset contained in
      <i>offset</i> is read from <i>file</i>. Pass an empty list to <i>fgets</i>
      to read <i>file</i> from its beginning.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">It returns a list containing as its first element the
      contents of the read line (without the <i>\n</i> line terminator), as its
      second element the line&#x2019;s terminator ` <i>\n</i>&#x2019; (if
      encountered), and as its third element the string <i>OK</i> if a line was
      successfully read, <i>FAIL</i> if reading from file failed. When reading
      at EOF an empty list is returned. The returned list may contain additional
      elements, which are internally used by <i>fgets</i> when reading the next
      line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">To read multiple lines, start by passing an empty list as
      <i>gets&#x2019;s</i> second argument. To read subsequent lines, pass the
      previously returned list to <i>fgets&#x2019;s</i> second argument.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Here is an example showing how to read a complete file:
    <pre>
<div class="Pp"></div>
list ret;
while (1)
{
    ret = fgets(&quot;filename&quot;, ret);
    if (!ret)
        break;
    process(ret[0], ret[1]);
}
            
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int fprintf(string filename, ...)</i>
    <div>&#x00A0;</div>
    Appends all (comma separated) arguments to the file <i>filename</i>. Returns
      the number of printed arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int fprintf(string filename, string format, ...)</i>
    <div>&#x00A0;</div>
    Appends all (comma separated) arguments to the file <i>filename</i>. Returns
      the number of printed arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <i>format</i> contains placeholders %1 .. %n the output
      is formatted (see also <i>strformat</i>). Note that in this case argument
      counting (also) starts beyond the format string: the first argument
      following <i>format</i> is referred to as <i>%1</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string get_base(string file)</i>
    <div>&#x00A0;</div>
    Returns the base name of <i>file</i>. The base name is the file without its
      path prefix and without its extension. The extension is all information
      starting at the final dot in the filename. If no final dot is found, the
      file name is the base name. E.g., the base name of <i>a.b</i> equals
      <i>a</i>, the base name of <i>a.b.c</i> equals <i>a.b</i>, the base name
      of <i>a/b/c</i> equals <i>c</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string getch()</i>
    <div>&#x00A0;</div>
    Returns the next pressed key as a string (pressing `Enter&#x2019; is not
      required).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string get_dext(string file)</i>
    <div>&#x00A0;</div>
    Returns the extension of <i>file</i>, including the separating dot. The
      extension is all information starting at the filename&#x2019;s final
    dot.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If no final dot is found, an empty string is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list getenv(string envvar)</i>
    <div>&#x00A0;</div>
    Returns the value of environment variable <i>envvar</i> in a list containing
      two elements:</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">the first element indicates whether the environment
      variable was defined (value <i>&quot;1&quot;</i>) or not (value
      <i>&quot;0&quot;</i>);
    <div>&#x00A0;</div>
    the second element indicates the value of the environment variable.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Enivironment variables are of the form
      <i>variable=value</i>, and if defined the list&#x2019;s second element
      contains <i>value</i>. If the value is empty, the variable is defined, but
      has no text associated with it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string get_ext(string file)</i>
    <div>&#x00A0;</div>
    Returns the extension of <i>file</i>, except for the separating dot. The
      extension is all information starting at the final dot in the
    filename.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If no final dot is found, an empty string is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int getpid()</i>
    <div>&#x00A0;</div>
    Returns the process-id of the icmake byte code interpreter
    <b>icm-exec</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string gets()</i>
    <div>&#x00A0;</div>
    Returns the next line read from the keyboard as a <i>string</i>. The line
      entered on the keyboard must be terminated by an `Enter&#x2019; key, which
      is not stored in the returned string.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string get_path(string file)</i>
    <div>&#x00A0;</div>
    Returns the path-prefix of <i>file</i>. The path prefix is all information
      up to (and including) the final directory separator (which is, depending
      on the operating system, a forward- or backslash).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If no path is found, an empty strring is returned.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int listfind(list lst, string str)</i>
    <div>&#x00A0;</div>
    Returns the first index in <i>lst</i> where the string <i>str</i> is found,
      or -1 if <i>lst</i> does not contain <i>str</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int listlen(list l)</i>
    <div>&#x00A0;</div>
    Returns the number of elements in <i>list</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list listunion(list lhs, list rhs)</i>
    <div>&#x00A0;</div>
    Returns a list containing the union of the elements in <i>lhs</i> and
      <i>rhs</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list listunion(list lst, string str)</i>
    <div>&#x00A0;</div>
    Returns a list containing the union of the elements in <i>lst</i> and
      <i>str</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list makelist(string mask)</i>
    <div>&#x00A0;</div>
    Returns a list of all files matching <i>mask</i>. E.g.,
      <i>makelist(&quot;*.c&quot;)</i> returns a list containing all files
      ending in <i>.c</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list makelist(type, string mask)</i>
    <div>&#x00A0;</div>
    Same as the previous function, but the type of the directory elements may be
      specified as its first argument:
    <table class="tbl">
      <colgroup>
        <col style="width: 8.00ex;"/>
        <col style="width: 48.00ex;"/>
      </colgroup>
      <tr>
        <td>symbol</td>
        <td>meaning</td>
      </tr>
      <tr>
        <td>O_ALL</td>
        <td>obtain all directory entries</td>
      </tr>
      <tr>
        <td>O_DIR</td>
        <td>obtain all directories, including . and ..</td>
      </tr>
      <tr>
        <td>O_FILE</td>
        <td>obtain a list of files</td>
      </tr>
      <tr>
        <td>O_SUBDIR</td>
        <td>obtain all subdirectories</td>
      </tr>
      <tr>
        <td></td>
        <td></td>
      </tr>
    </table>
    Note that the pattern <i>*</i> will not match hidden entries under Unix-type
      operating systems. Use <i>.*</i> for that.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list makelist(string mask, newer, string
      comparefile)</i>
    <div>&#x00A0;</div>
    Returns list of all files matching mask which are newer than a provided
      comparefile. Operator <i>younger</i> may be used instead of <i>newer</i>.
      Note that <i>newer</i> and <i>younger</i> are operators, not strings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list makelist([int = IS_FILE,] string mask, newer,</i>
      <i>string comparefile)</i>
    <div>&#x00A0;</div>
    Same as the previous function, but <i>type</i> may be specified as in
      <i>list makelist(type, string mask)</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>makelist(string mask, older, string comparefile)</i>
    <div>&#x00A0;</div>
    See above; returns a list of files that are older than the comparefile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>makelist(type, string mask, older, string
      comparefile)</i>
    <div>&#x00A0;</div>
    Same as the previous function, but <i>type</i> may be specified as in
      <i>list makelist(type, string mask)</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int printf(...)</i>
    <div>&#x00A0;</div>
    Shows all (comma separated) arguments to screen (i.e., the standard output
      stream). Returns the number of printed arguments.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int printf(string format, ...)</i>
    <div>&#x00A0;</div>
    Shows all (comma separated) arguments to screen (i.e., the standard output
      stream). Returns the number of printed arguments (the <i>format</i> string
      counts as one argument).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">If <i>format</i> contains placeholders %1 .. %n the output
      is formatted (see also <i>strformat</i>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int putenv(string envvar)</i>
    <div>&#x00A0;</div>
    Adds <i>envvar</i> to the current (<b>icmake</b>) environment Use the
      format: &quot;VAR=value&quot;. Returns 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string resize(string str, int newlength)</i> Returns a
      copy of string <i>str</i>, resized to <i>newlength</i> characters. If
      <i>newlength</i> is negative then an empty string is returned, if
      <i>newlength</i> exceeds <i>str&#x2019;s</i> length then the newly added
      characters are initialized to blank spaces.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int sizeof(list l)</i>
    <div>&#x00A0;</div>
    Deprecated: use <i>listlen</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int sizeoflist(list l)</i>
    <div>&#x00A0;</div>
    Deprecated: use <i>listlen</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list stat(string entry)</i>
    <div>&#x00A0;</div>
    Returns <b>stat</b>(2) information of directory entry <i>entry</i> as a
      list. The returned list has two elements: element 0 is the <i>attribute
      value</i>, element 1 contains the size of the file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Attributes are returned as bit-flags, composed from the
      following predefined constants:
    <pre>
<div class="Pp"></div>
S_IFCHR     S_IFDIR     S_IFREG
S_IREAD     S_IWRITE    S_IEXEC
        
    </pre>
    See the <b>stat</b>(2) manual page for the meanings of these constants.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list stat(checking, string entry)</i>
    <div>&#x00A0;</div>
    Same as the previous function, but by specifying <i>checking</i> as
      <i>P_NOCHECK</i> the function won&#x2019;t terminate the script. Rather,
      it returns <b>stat</b>(2)&#x2019;s return value.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int strchr(string str, string chars)</i>
    <div>&#x00A0;</div>
    Returns the first index in <i>str</i> where any of the characters in
      <i>chars</i> is found, or -1 if <i>str</i> does not contain any of the
      characters in <i>chars</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int strlen(string str)</i>
    <div>&#x00A0;</div>
    Returns the number of characters in <i>str</i> (not counting the final
    0).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int strfind(string haystack, string needle)</i>
    <div>&#x00A0;</div>
    Returns index in <i>haystack</i> where <i>needle</i> is found, or -1 if
      <i>needle</i> is not contained in <i>haystack</i>.
    <div>&#x00A0;</div>
     <b>This function was</b> <b>called strstr() in versions before
    7.00</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int strformat(string format,...)</i>
    <div>&#x00A0;</div>
    Returns a formatted string using placeholders %1 .. %2 to address arguments
      following format.
    <div>&#x00A0;</div>
    Example:
    <div>&#x00A0;</div>
    <pre>
<div class="Pp"></div>
void main()
{
    int i = 10;
    int j = 20;
    string s1;
    string s2;
                                    // traditional approach:
    s1 = (string)i + &quot; &quot; + (string)j + &quot; &quot; + (string)i;
                                    // using strformat:  
    s2 = strformat(&quot;%1 %2 %1&quot;, i, j);
    printf(&quot;s1 = %1, s2 = %2\n&quot;, s1, s2);
}
        
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string strlwr(string s)</i>
    <div>&#x00A0;</div>
    Returns a lower-case duplicate of <i>s</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>list strtok(string str, string separators)</i>
    <div>&#x00A0;</div>
    Returns a list containing all substrings of <i>str</i> separated by one or
      more (consecutive) characters in <i>separators</i>. E.g.,
      <i>strtok(&quot;hello icmake&#x2019;s+world&quot;, &quot; +&quot;)</i>
      returns the list containing the three strings <i>&quot;hello&quot;</i>,
      <i>&quot;icmake&#x2019;s&quot;</i>, and <i>&quot;world&quot;</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string strupr(string s)</i>
    <div>&#x00A0;</div>
    Returns an upper-case duplicate of <i>s</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string substr(string text, int offset, int count)</i>
    <div>&#x00A0;</div>
    Returns a substring of <i>text</i>, starting at <i>offset</i>, consisting of
      <i>count</i> characters. If <i>offset</i> exceeds (or equals) the
      string&#x2019;s size or if <i>count &lt;= 0</i>, then an empty string is
      returned. If <i>offset</i> is less than 0 then <i>offset = 0</i> is
    used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int system(string command)</i>
    <div>&#x00A0;</div>
    Executes <i>command</i>. The return value indicates the executed
      command&#x2019;s exit value. The string <i>command</i> may contain
      redirection and/or piping characters.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>int system(int checking, string command)</i>
    <div>&#x00A0;</div>
    Same functionality as the previous function, but by specifying
      <i>checking</i> as <i>NOT_CHECKED</i> the function won&#x2019;t terminate
      the script. Rather, it will return the called command&#x2019;s exit
      status, or <i>0x7f00</i> if the command wasn&#x2019;t found.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string trim(string s)</i>
    <div>&#x00A0;</div>
    Returns a copy of <i>s</i> without leading and trailing white spaces.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string trimleft(string str)</i>
    <div>&#x00A0;</div>
    Returns a copy of <i>s</i> without leading white spaces.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>string trim(string s)</i>
    <div>&#x00A0;</div>
    Returns a copy of <i>s</i> without trailing white spaces.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="USER_DEFINED_FUNCTIONS"><a class="selflink" href="#USER_DEFINED_FUNCTIONS">USER
  DEFINED FUNCTIONS</a></h1>
<b>void main</b>
<div class="Pp"></div>
<b>Icmake</b> scripts must be provided with a user-defined function <i>main</i>.
  The function <i>main</i> has three optional parameters, which may be omitted
  from the last one ( <i>envp</i>) to the first (<i>argc</i>), like in <b>C</b>.
  Its full prototype is (note: <b>void</b> return type):
<pre>
<div class="Pp"></div>
    void main(int argc, list argv, list envp)
        
</pre>
In <i>main()</i>,
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>argc</i> represents the number of elements in
      <i>argv</i>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>argv</i> contains the arguments, with element 0 being
      equal to the name of the .bim file;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><i>envp</i> contains the `environment&#x2019; variables.
      The function <i>listlen</i> can be used to determine the number of its
      elements. Elements in <i>envp</i> have the form <i>variable=value</i>.
      Alternatively, the function <i>getenv</i> can be used to retrieve a
      specific environment variable immediately. Example:
    <pre>
<div class="Pp"></div>
    void main(int argc, list argv)
    {
        list toCompile;
        int idx;
<div class="Pp"></div>
        if (argc == 1)
            usage(element(0, argv));
<div class="Pp"></div>
        if (toCompile = altered(&quot;*.cc&quot;))
        {
            for (idx = length(toCompile); idx--; )
                compile(element(idx, toCompile));
<div class="Pp"></div>
            if (getenv(&quot;dryrun&quot;)[0] == &quot;0&quot;)
                linking(element(2, argv));
        }
    }    
        
    </pre>
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Having initialized all global variables in order of their definitions
  <i>main</i> is called by <b>icmake</b>&#x2019;s run-time support system to
  perform additional tasks.
<div class="Pp"></div>
<b>Additionally defined user functions</b>
<div class="Pp"></div>
Additional functions may be defined. Once defined, these functions can be
  called. Forward referencing of either variables or functions is not supported,
  but recursively calling functions is. As function declarations are not
  supported indirect recursion is not supported either.
<div class="Pp"></div>
User-defined functions must have the following elements:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The function&#x2019;s return type, which must be one of
      <i>void, int,</i> <i>string</i> or <i>list</i>. There is no default
    type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">The function&#x2019;s name, e.g., <i>compile</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">A parameter list, defining zero or more comma-separated
      parameters. The parameters themselves consist of a type name ( <i>int,</i>
      <i>string</i>, or <i>list</i>) followed by the parameter&#x2019;s
      identifier. E.g., <i>(string outfile, string source)</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag">A <i>body</i> surrounded by a pair of curly braces
      (<i>{</i> and <i>}</i>).
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
Function bodies may contain (optionally initialized) variable definitions.
  Variable definitions start with a type name, followed by one or more comma
  separated (optionally initialized) variable identifiers. If a variable is not
  explicitly initialized it is initialized by default. By default an <i>int</i>
  variable is initialized to 0, a <i>string</i> is initialized to an empty
  string ( <i>&quot;&quot;</i>) and a <i>list</i> is initialized to a list of
  zero elements.
<div class="Pp"></div>
In addition to variable definitions, bodies may contain zero or more statements
  (cf. section <b>FLOW CONTROL</b>). Note that variables may be defined (and
  optionally initialized) anywhere inside functions, and also in <i>if,</i>
  <i>for</i> and <i>while</i> statements.
<div class="Pp"></div>
The behavior of <b>icmake</b>-scripts using non-void functions that do not
  return values is not defined.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
The mentioned paths are sugestive only and may vary over different
  <b>icmake</b>-installations:
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>/usr/bin/icmake</b>: the main <b>icmake</b>
    program;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>/usr/bin/icmun</b>: the <b>icmake</b> unassembler;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>/usr/lib/icmake/icm-dep</b>: the support program
      handling class- and precompiled header dependencies;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>/usr/lib/icmake/icm-pp</b>: the preprocessor called by
      <b>icmake</b>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>/usr/lib/icmake/icm-comp</b>: the compiler called by
      <b>icmake</b>;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">o</dt>
  <dd class="It-tag"><b>/usr/lib/icmake/icm-exec</b>: the byte-code interpreter
      called by <b>icmake</b>;
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The distribution (usually in <i>/usr/share/doc/icmake</i>) contains a directory
  <i>examples</i> containing various examples of <b>icmake</b> script. Note in
  particular the <i>examples/icmbuild</i> subdirectory containing a general
  script for <b>C++</b> and <b>C</b> program maintenance.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>icmbuild</b>(1), <b>icmconf</b>(7), <b>icmstart</b>(1),
  <b>icmstart.rc</b>(7), <b>make</b>(1)
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Standard comment starting on lines containing preprocessor directives may not
  extend over multiple lines.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
This is free software, distributed under the terms of the GNU General Public
  License (GPL).
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Frank B. Brokken ( <b>f.b.brokken@rug.nl</b>).</div>
<table class="foot">
  <tr>
    <td class="foot-date">1992-2016</td>
    <td class="foot-os">icmake.9.02.02.tar.gz</td>
  </tr>
</table>
</body>
</html>
