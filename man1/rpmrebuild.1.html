<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:35:59 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>rpmrebuild(1) rpm tools rpmrebuild(1)</p>

<p style="margin-top: 1em">NAME <br>
rpmrebuild - a tool to build an rpm package from an
installed package</p>

<p style="margin-top: 1em">SYNOPSIS <br>
rpmrebuild [option] &lt;packagename&gt;</p>

<p style="margin-top: 1em">DESCRIPTION <br>
rpmrebuild is a tool to build easily rpm package. it can be
used to build an rpm file from an installed package (lost
rpm) or to quickly make change to a package: just have your
<br>
change on installed files and call rpmrebuild.</p>

<p style="margin-top: 1em">OPTIONS <br>
-5 --md5-compat-digest <br>
use rpm 4.4 compatible digest (md5)</p>

<p style="margin-top: 1em">-a, --additional=&lt;flags&gt;
<br>
pass additional flags to rpmbuild</p>

<p style="margin-top: 1em">-b, --batch <br>
work in batch mode (no interactive query if files
change)</p>

<p style="margin-top: 1em">--cap-from-db (default) <br>
set files posix capabilities as saved in rpm database</p>

<p style="margin-top: 1em">--cap-from-fs <br>
set files posix capabilities as installed files (do not
force to original capabilities, saved in rpm database)</p>

<p style="margin-top: 1em">-c,
--comment-missing=&lt;yes|no&gt; <br>
comment out in the specfile missing files. Default: no.</p>

<p style="margin-top: 1em">-D, --define=&lt;defines&gt;
<br>
defines to be passed to rpmbuild.</p>

<p style="margin-top: 1em">-d,
--directory=&lt;directory&gt; <br>
rpm package result will be written in directory.</p>

<p style="margin-top: 1em">-e, --edit-spec <br>
alias to --edit-whole.</p>

<p style="margin-top: 1em">-f, --filter=&lt;command&gt;
<br>
alias for --change-spec-whole</p>

<p style="margin-top: 1em">-h, --help <br>
output help information about all, but plugins option and
exit.</p>

<p style="margin-top: 1em">--help-plugins <br>
output help information about plugins options and exit.</p>

<p style="margin-top: 1em">-i, --include=&lt;file&gt; <br>
read more options from the file &rsquo;file&rsquo;.</p>

<p style="margin-top: 1em">-I, --install&gt; <br>
install the created package</p>

<p style="margin-top: 1em">-k, --keep-perm <br>
alias to --pug-from-fs</p>

<p style="margin-top: 1em">-l, --list-plugin <br>
list installed plugins</p>

<p style="margin-top: 1em">-m, --modify=&lt;command&gt;
<br>
alias to --change-files</p>

<p style="margin-top: 1em">-n, --notest-install <br>
do not test install at end of rpm building</p>

<p style="margin-top: 1em">-p, --package <br>
use package file, not installed rpm (this option is like
rpm&rsquo;s -p option)</p>

<p style="margin-top: 1em">--pug-from-db (default) <br>
set files permission, uid and gid as saved in rpm
database</p>

<p style="margin-top: 1em">--pug-from-fs <br>
keep installed files permission, uid and gid (do not force
to original files permission, uid and gid saved in rpm
database)</p>

<p style="margin-top: 1em">-P, --autoprovide <br>
use rpm scripts to compute provides</p>

<p style="margin-top: 1em">-R, --autorequire <br>
use rpm scripts to compute requires</p>

<p style="margin-top: 1em">-r, --release=&lt;version&gt;
<br>
specify a release</p>

<p style="margin-top: 1em">-s, --spec-only=&lt;specfile&gt;
<br>
do not rebuild package, only generate specfile. Can&rsquo;t
be used with --change-files.</p>

<p style="margin-top: 1em">-v, --verbose <br>
verbose output</p>

<p style="margin-top: 1em">--debug <br>
for debugging purposes : do not remove temporary files at
end of work</p>

<p style="margin-top: 1em">-V, --version <br>
output version information and exit.</p>

<p style="margin-top: 1em">-w, --warning <br>
display some warnings if it detects a potential problem (for
example, spec file which contains filename with globbing
char).</p>

<p style="margin-top: 1em">-y, --verify=&lt;yes|no&gt; <br>
Turn on/off package verifying before processing. Default:
yes. Can be turn off to get better performance.</p>

<p style="margin-top: 1em">PLUGINS OPTION</p>

<p style="margin-top: 1em">rpmrebuild use may be extended
with plugins. Plugins are searched in
/usr/lib/rpmrebuild/plugins and then in $PATH</p>

<p style="margin-top: 1em">--change-files=&lt;command&gt;
<br>
Invoke plugin which change package&rsquo;s files. Note, that
these files are copied before to the temporary location, so
installed package&rsquo;s files not changed. <br>
Can&rsquo;t be used with --spec-only</p>


<p style="margin-top: 1em">--change-spec-whole=&lt;command&gt;
<br>
--edit-whole <br>
Invoke plugin or editor to change specfile.</p>


<p style="margin-top: 1em">--change-spec-preamble=&lt;command&gt;
<br>
--edit-preamble</p>


<p style="margin-top: 1em">--change-spec-conflicts=&lt;command&gt;
<br>
--edit-conflicts</p>


<p style="margin-top: 1em">--change-spec-obsoletes=&lt;command&gt;
<br>
--edit-obsoletes</p>


<p style="margin-top: 1em">--change-spec-provides=&lt;command&gt;
<br>
--edit-provides</p>


<p style="margin-top: 1em">--change-spec-requires=&lt;command&gt;
<br>
--edit-requires</p>


<p style="margin-top: 1em">--change-spec-suggests=&lt;command&gt;
<br>
--edit-suggests</p>


<p style="margin-top: 1em">--change-spec-enhances=&lt;command&gt;
<br>
--edit-enhances</p>


<p style="margin-top: 1em">--change-spec-description=&lt;command&gt;
<br>
--edit-description</p>


<p style="margin-top: 1em">--change-spec-files=&lt;command&gt;
<br>
--edit-files</p>


<p style="margin-top: 1em">--change-spec-triggers=&lt;command&gt;
<br>
--edit-triggers</p>


<p style="margin-top: 1em">--change-spec-pre=&lt;command&gt;
<br>
--edit-pre</p>


<p style="margin-top: 1em">--change-spec-post=&lt;command&gt;
<br>
--edit-post</p>


<p style="margin-top: 1em">--change-spec-preun=&lt;command&gt;
<br>
--edit-preun</p>


<p style="margin-top: 1em">--change-spec-postun=&lt;command&gt;
<br>
--edit-postun</p>


<p style="margin-top: 1em">--change-spec-pretrans=&lt;command&gt;
<br>
--edit-postrans</p>


<p style="margin-top: 1em">--change-spec-postrans=&lt;command&gt;
<br>
--edit-postrans</p>


<p style="margin-top: 1em">--change-spec-verifyscript=&lt;command&gt;
<br>
--edit-verifyscript</p>


<p style="margin-top: 1em">--change-spec-changelog=&lt;command&gt;
<br>
--edit-changelog</p>

<p style="margin-top: 1em">Invoke plugin or editor to
change preamble, conflicts, obsoletes, provides, requires,
description, files, triggers, preinstall, postinstall,
preuninstall, postuninstall, <br>
verifyscript or changelog. <br>
None of these options can be specified after
--change-spec-whole or --edit-whole.</p>

<p style="margin-top: 1em">INCLUDE FILES <br>
Any of the rpmrebuild&rsquo;s LONG option can be specified
on the command line or in the include file (file specified
with -i/--include option).</p>

<p style="margin-top: 1em">Include files are also searched
in the /usr/lib/rpmrebuild/plugins directory.</p>

<p style="margin-top: 1em">Include file has following
syntax.</p>

<p style="margin-top: 1em">comments <br>
Any line begin with &rsquo;#&rsquo; or some number of
whitespace and &rsquo;#&rsquo;.</p>

<p style="margin-top: 1em">empty line <br>
empty line are ignored.</p>

<p style="margin-top: 1em">option line <br>
option line is very similar to the option written on the
command line. the limitation of the option line in the file
are:</p>

<p style="margin-top: 1em">long option <br>
should be used ONLY long options WITHOUT leading --.</p>

<p style="margin-top: 1em">option&rsquo;s argument <br>
option&rsquo;s argument should not be quoted.</p>

<p style="margin-top: 1em">separator <br>
option&rsquo;s argument should be separated from option by
spaces or tabs, not by equal (&rsquo;=&rsquo;) sign.</p>

<p style="margin-top: 1em">non-optional argument(s) <br>
package name (non-optional argument) shouldn&rsquo;t be
specified in the include file.</p>

<p style="margin-top: 1em">For example, if command line
looks like: <br>
rpmrebuild --change-files=&quot;pgm1 a b c&quot;
--change-spec-pre=&quot;pgm2 bb&quot; pkg</p>

<p style="margin-top: 1em">Then include file should be
written like: <br>
change-files pgm1 a b c <br>
change-spec-pre pgm2 bb</p>

<p style="margin-top: 1em">FILES <br>
~/.rpmmacros <br>
is used by rpm when building packages (macros)</p>

<p style="margin-top: 1em">$RPMREBUILD_TMPDIR/work <br>
directory where rpmrebuild put temporary files.</p>

<p style="margin-top: 1em">ENVIRONMENT <br>
RPMREBUILD_TMPDIR <br>
Directory for temporal files. If not set
~/.tmp/rpmrebuild.$$ is used.</p>

<p style="margin-top: 1em">RPMREBUILD_OPTS <br>
This is another way to pass options to rpmrebuild (to use
with care). It allows to change the default options on a
host. For example to activate the un_prelink plugin, <br>
just set RPMREBUILD_OPTS=&quot;--include
un_prelink.plug&quot;</p>

<p style="margin-top: 1em">VISUAL used to specify an editor
for specfile. if not set EDITOR variable examined.</p>

<p style="margin-top: 1em">EDITOR used to specify an editor
for specfile. if not set vi used.</p>

<p style="margin-top: 1em">EXAMPLES <br>
Build an rpm package as closed as possible to original
one:</p>

<p style="margin-top: 1em">rpmrebuild --batch package</p>

<p style="margin-top: 1em">Build a modified package:</p>

<p style="margin-top: 1em">rpmrebuild --keep-perm
package</p>

<p style="margin-top: 1em">Build a rpm from another rpm
file:</p>

<p style="margin-top: 1em">rpmrebuild --package --filter
filter /usr/src/redhat/i386/package-i386.rpm</p>

<p style="margin-top: 1em">rebuild and sign the bash
package</p>

<p style="margin-top: 1em">rpmrebuild --additional
&quot;--sign&quot; bash</p>

<p style="margin-top: 1em">Rebuild rpm as legacy (rpm[23])
package:</p>

<p style="margin-top: 1em">rpmrebuild --additional
&quot;--nodirtokens&quot; bash</p>

<p style="margin-top: 1em">Specify generated rpm name:</p>

<p style="margin-top: 1em">rpmrebuild --define
&quot;_rpmfilename %%{NAME}.rpm&quot; bash</p>

<p style="margin-top: 1em">Change package interactive</p>

<p style="margin-top: 1em">rpmrebuild --package
--change-files &quot;/bin/bash&quot;
/some/place/bash.rpm</p>

<p style="margin-top: 1em">Change package
non-interactive</p>

<p style="margin-top: 1em">rpmrebuild --package
--change-files &quot;a.sh &amp;&amp; b.sh&quot;
/some/place/bash.rpm</p>

<p style="margin-top: 1em">if you have problem with rpm
building, and if you know specfile syntax, you can also edit
it:</p>

<p style="margin-top: 1em">rpmrebuild --edit-whole
package</p>

<p style="margin-top: 1em">batch change of version tag</p>

<p style="margin-top: 1em">rpmrebuild
--change-spec-preamble=&rsquo;sed -e
&quot;s/^Version:.*/Version: YourVersion/&quot;&rsquo;
YourPackage</p>

<p style="margin-top: 1em">AUTHORS <br>
Eric Gerbier &lt;gerbier@users.sourceforge.net&gt; <br>
Valery Reznic
&lt;valery_reznic@users.sourceforge.net&gt;</p>

<p style="margin-top: 1em">See
&lt;URL:http://rpmrebuild.sourceforge.net/&gt;.</p>

<p style="margin-top: 1em">NOTES <br>
rpmrebuild can not reproduce exactly a package, so <br>
- md5 checksum will not match original ones. <br>
- gpg or pgp signatures are lost</p>

<p style="margin-top: 1em">packages which contains file
with globbing characters (* .. ? ) will not build</p>

<p style="margin-top: 1em">COPYRIGHT <br>
rpmrebuild is copyright (C) 2002 by Eric Gerbier. <br>
this program is distributed under GNU General Public License
<br>
It is provided &quot;as is&quot;, without any express or
implied warranties. <br>
See the file COPYING for details.</p>

<p style="margin-top: 1em">SEE ALSO <br>
rpm(8), rpmbuild(8), rpmrebuild_plugins(1), &rsquo;man -k
rrp&rsquo; for plugins specific manpages.</p>

<p style="margin-top: 1em">Eric Gerbier 2.11
rpmrebuild(1)</p>
<hr>
</body>
</html>
