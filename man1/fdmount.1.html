<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:09:17 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>fdmount(1) General Commands Manual fdmount(1)</p>

<p style="margin-top: 1em">Name <br>
fdmount - Floppy disk mount utility</p>

<p style="margin-top: 1em">Note <br>
This manpage has been automatically generated from
fdutils&rsquo;s texinfo documentation. However, this process
is only approximative, and some items, such as
cross-references, foot&acirc; <br>
notes and indices are lost in this translation process.
Indeed, these items have no appropriate representation in
the manpage format. Moreover, only the items specific to
each <br>
command have been translated, and the general information
about fdutils has been dropped in the manpage version. Thus
I strongly advise you to use the original texinfo doc.</p>

<p style="margin-top: 1em">* To generate a printable copy
from the texinfo doc, run the following commands:</p>

<p style="margin-top: 1em">./configure; make dvi; dvips
fdutils.dvi</p>

<p style="margin-top: 1em">* To generate a HTML copy,
run:</p>

<p style="margin-top: 1em">./configure; make html</p>

<p style="margin-top: 1em">A pre-made HTML can be found at:
&lsquo;http://www.tux.org/pub/knaff/fdutils&rsquo;</p>

<p style="margin-top: 1em">* To generate an info copy
(browsable using emacs&rsquo; info mode), run:</p>

<p style="margin-top: 1em">./configure; make info</p>

<p style="margin-top: 1em">The texinfo doc looks most
pretty when printed or as HTML. Indeed, in the info version
certain examples are difficult to read due to the quoting
conventions used in info.</p>

<p style="margin-top: 1em">Description <br>
fdmount [-l] [--list] [-d] [--daemon] [--detach] <br>
[-i interval] [--interval interval] [-o mount-options] <br>
[-r] [-readonly] [-s] [--sync] [--nosync] [--nodev] <br>
[--nosuid] [--noexec] [-f] [--force] [-h] [--help] <br>
[drivename] [mountpoint]</p>

<p style="margin-top: 1em">fdumount [-f] [--force]
[drivename]</p>

<p style="margin-top: 1em">fdlist</p>

<p style="margin-top: 1em">fdmountd [-i interval]
[--interval interval] [-r] <br>
[-readonly] [-s] [--sync] [--nosync] [--nodev] <br>
[--nosuid] [--noexec] [--help] [drivename] [mountpoint]]</p>

<p style="margin-top: 1em">The fdmount program mounts a
floppy disk in the specified drive. It tries to figure out
the exact format and filesystem type of the disk from data
in the disk&rsquo;s boot sector or <br>
super block and the auto-detected track layout.</p>

<p style="margin-top: 1em">Currently, fdmount supports the
filesystems minix, ext, ext2, xia, and msdos, and includes
special support for disks formatted by the 2M utility for
MS-DOS.</p>

<p style="margin-top: 1em">It also checks whether the disk
is write protected, in which case it is mounted
read-only.</p>

<p style="margin-top: 1em">The symbolic drivename is
(currently) one of &lsquo;fd[0-7]&rsquo;, corresponding to
the special device files &lsquo;/dev/fd[0-7]&rsquo;. If
drivename is not specified, &lsquo;fd0&rsquo; is
assumed.</p>

<p style="margin-top: 1em">The disk is mounted on the
directory mountpoint, if specified, or on
&lsquo;/fd[0-7]&rsquo;. In either case, the mount point must
be an existing, writable directory.</p>

<p style="margin-top: 1em">Due to a bug in the floppy
driver (?), the polling interval (-i flag) must be longer
than the spindown offset. Thus you need to do (for example)
floppycontrol --spindown 99 <br>
before starting fdmountd in daemon mode</p>

<p style="margin-top: 1em">Options <br>
-l --list <br>
List all known drives with their symbolic name, type, and
mount status.</p>

<p style="margin-top: 1em">-d --daemon <br>
Run in daemon mode (see below).</p>

<p style="margin-top: 1em">--detach <br>
Runs daemon in background, and detaches it from its tty.
Messages produced after the fork are logged to syslog.</p>

<p style="margin-top: 1em">-p file <br>
--pidfile file</p>

<p style="margin-top: 1em">Dumps the process id of the
daemon to file. This makes killing the daemon easier: kill
-9 &lsquo;cat file&lsquo;</p>

<p style="margin-top: 1em">-i interval <br>
--interval interval <br>
Set the polling interval for daemon mode. The unit for
interval is 0.1 seconds, the default value is 10 (i.e. 1
second).</p>

<p style="margin-top: 1em">-o options <br>
--options options <br>
Sets filesystem-specific options. So far, these are only
available for DOS and Ext2 disks. The following DOS options
are supported: check, conv, dotsOK, debug, fat, quiet, <br>
blocksize. The following Ext2 options are supported: check,
errors, grpid, bsdgroups, nogrpid, sysvgroups, bsddf,
minixdf, resgid, debug, nocheck. When running as a
dae&acirc; <br>
mon, options not applying to the disk that is inserted
(because of its filesystem type) are not passed to
mount.</p>

<p style="margin-top: 1em">-r --readonly <br>
Mount the disk read-only. This is automatically assumed if
the disk is write protected.</p>

<p style="margin-top: 1em">-s --sync <br>
Mount with the SYNC option.</p>

<p style="margin-top: 1em">--nosync <br>
Mounts without the SYNC option, even when running as
daemon.</p>

<p style="margin-top: 1em">--nodev <br>
Mount with the NODEV option. Ignored for msdos filesystems,
otherwise always set for non-root users.</p>

<p style="margin-top: 1em">--nosuid <br>
Mount with the NOSUID option. Ignored for msdos filesystems,
otherwise always set for non-root users.</p>

<p style="margin-top: 1em">--noexec <br>
Mount with the NOEXEC option.</p>

<p style="margin-top: 1em">-f --force <br>
Attempt a mount or unmount operation even
&lsquo;/etc/mtab&rsquo; says that the drive is already
mounted, or not mounted, respectively. This option is useful
if &lsquo;/etc/mtab&rsquo; got out <br>
of sync with the actual state for some reason.</p>

<p style="margin-top: 1em">-h --help <br>
Show short parameter description</p>

<p style="margin-top: 1em">Security <br>
When mounting on the default mount point, the mount
points&rsquo; owner is set to the current user, and the
access flags according to the user&rsquo;s umask. For a
specified mountpoint, <br>
owner and permissions are left unchanged. Default mount
points are called /fd0, /fd1, ... , /fd7.</p>

<p style="margin-top: 1em">The user running fdmount must
have read access to the floppy device for read only mounts,
and read/write access for read/write mounts.</p>

<p style="margin-top: 1em">Fdmount can be run suid root,
allowing users to mount floppy disks. The following
restrictions are placed upon non-root users:</p>

<p style="margin-top: 1em">* If a mountpoint is specified
explicitly, it must be owned by the user.</p>

<p style="margin-top: 1em">* A user may only unmount a disk
if the mount point is owned by the user, or if it the disk
has been mounted by the same user.</p>

<p style="margin-top: 1em">* Non-msdos disks are
automatically mounted with the nodev and nosuid flags
set.</p>

<p style="margin-top: 1em">However, do not rely on fdmount
being secure at the moment.</p>

<p style="margin-top: 1em">Daemon mode <br>
In daemon mode, the specified drive is periodically checked
and if a disk is inserted, it is automatically mounted.</p>

<p style="margin-top: 1em">When the disk is removed, it is
automatically unmounted. However, it is recommended to
unmount the disk manually before removing it. In order to
limit corruption, disks are <br>
mounted with the SYNC option when running in daemon mode,
unless the --nosync flag is given.</p>

<p style="margin-top: 1em">Note that this mode has some
potential drawbacks:</p>

<p style="margin-top: 1em">* Some floppy drives have to
move the drive head physically in order to reset the disk
change signal. It is strongly recommended not to use daemon
mode with these drives. <br>
See section floppycontrol, for details.</p>

<p style="margin-top: 1em">* If a disk does not contain a
filesystem (e.g. a tar archive), the mount attempt may slow
down initial access.</p>

<p style="margin-top: 1em">* As fdmount cannot identify the
user trying to use the disk drive, there is no way to
protect privacy. Disks are always mounted with public access
permissions set.</p>

<p style="margin-top: 1em">Diagnostics <br>
error opening device name</p>

<p style="margin-top: 1em">error reading boot/super block
<br>
fdmount failed to read the first 1K of the disk. The disk
might be damaged, unformatted, or it may have a format which
is unsupported by the FDC or the Linux kernel.</p>

<p style="margin-top: 1em">unknown filesystem type <br>
No magic number of any of the supported filesystems (see
above) could be identified.</p>

<p style="margin-top: 1em">sorry, can&acirc;&sup2;t figure
out format (fs filesystem) <br>
The size of the filesystem on the disk is incompatible with
the track layout detected by the kernel and an integer
number of tracks. This may occur if the filesystem uses <br>
only part of the disk, or the track layout was detected
incorrectly by the kernel.</p>

<p style="margin-top: 1em">failed to mount fs&gt;
&lt;sizeK-disk <br>
The actual mount system call failed.</p>

<p style="margin-top: 1em">failed to unmount <br>
The actual unmount system call failed.</p>

<p style="margin-top: 1em">cannot create lock file
/etc/mtab~ <br>
If &lsquo;/etc/mtab~&rsquo; exists, you should probably
delete it. Otherwise, check permissions.</p>

<p style="margin-top: 1em">Can&acirc;&sup2;t access
mountpoint <br>
Most probably, the default or specified mount point does not
exist. Use mkdir.</p>

<p style="margin-top: 1em">mountpoint is not a directory
<br>
The mountpoint is not a directory.</p>

<p style="margin-top: 1em">not owner of mountpoint <br>
Non-root users must own the directory specified as mount
point. (This does not apply for the default mount points,
/fd[0-3].)</p>

<p style="margin-top: 1em">No write permission to
mountpoint <br>
Non-root users must have write permission on the mount point
directory.</p>

<p style="margin-top: 1em">Not owner of mounted directory:
UID=uid <br>
Non-root users cannot unmount if the mount point is owned
(i.e. the disk was mounted) by another user.</p>

<p style="margin-top: 1em">invalid drive name <br>
Valid drive names are &lsquo;fd0&rsquo;, &lsquo;fd1&rsquo;,
etc.</p>

<p style="margin-top: 1em">drive name does not exist <br>
The drive does not exist physically, is unknown to the Linux
kernel, or is an unknown type.</p>

<p style="margin-top: 1em">Drive name is mounted already
<br>
Trying to mount a drive which appears to be mounted already.
Use the --force option if you think this is wrong.</p>

<p style="margin-top: 1em">Drive name is not mounted <br>
Trying to unmount a drive which does not appear to be
mounted. Use the --force option if you think this is
wrong.</p>

<p style="margin-top: 1em">ioctl(...) failed <br>
If this occurs with the FDGETDRVTYP or FDGETDRVSTAT,
ioctl&rsquo;s you should probably update your Linux
kernel.</p>

<p style="margin-top: 1em">mounted fs size-disk (options)
<br>
Success message.</p>

<p style="margin-top: 1em">Bugs <br>
* Fdmount should be more flexible about drive names and
default mount points (currently hard coded).</p>

<p style="margin-top: 1em">* Probably not very secure yet
(when running suid root). Untested with ext and xia
filesystems.</p>

<p style="margin-top: 1em">* Can&rsquo;t specify filesystem
type and disk layout explicitly.</p>

<p style="margin-top: 1em">* In daemon mode, the drive
light stays on all the time.</p>

<p style="margin-top: 1em">* Some newer filesystem types,
such as vfat are not yet supported.</p>

<p style="margin-top: 1em">See Also <br>
Fdutils&rsquo; texinfo doc</p>

<p style="margin-top: 1em">fdutils-5.5 03Mar05
fdmount(1)</p>
<hr>
</body>
</html>
