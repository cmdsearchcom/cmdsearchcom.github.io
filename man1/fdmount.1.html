<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>fdmount(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">fdmount(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">fdmount(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="Name"><a class="selflink" href="#Name">Name</a></h1>
fdmount - Floppy disk mount utility
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Note"><a class="selflink" href="#Note">Note</a></h1>
This manpage has been automatically generated from fdutils's texinfo
  documentation. However, this process is only approximative, and some items,
  such as cross-references, footnotes and indices are lost in this translation
  process. Indeed, these items have no appropriate representation in the manpage
  format. Moreover, only the items specific to each command have been
  translated, and the general information about fdutils has been dropped in the
  manpage version. Thus I strongly advise you to use the original texinfo doc.
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">To generate a printable copy from the texinfo doc, run the
      following commands:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<br/>
    ./configure; make dvi; dvips fdutils.dvi
    </pre>
    <br/>
    <div style="height: 1.00em;">&#x00A0;</div>
    </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">To generate a HTML copy, run:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<br/>
    ./configure; make html
    </pre>
    <br/>
    <div style="height: 1.00em;">&#x00A0;</div>
    A pre-made HTML can be found at: `http://www.tux.org/pub/knaff/fdutils'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">To generate an info copy (browsable using emacs' info
      mode), run:
    <div style="height: 1.00em;">&#x00A0;</div>
    <pre>
<br/>
    ./configure; make info
    </pre>
    <br/>
    <div style="height: 1.00em;">&#x00A0;</div>
    </dd>
</dl>
<div class="Pp"></div>
The texinfo doc looks most pretty when printed or as HTML. Indeed, in the info
  version certain examples are difficult to read due to the quoting conventions
  used in info.
<h1 class="Sh" title="Sh" id="Description"><a class="selflink" href="#Description">Description</a></h1>
<pre>
<br/>
fdmount [-l] [--list] [-d] [--daemon] [--detach]
[-i  <i>interval</i>] [--interval <i>interval</i>] [-o <i>mount-options</i>]
[-r] [-readonly] [-s] [--sync] [--nosync] [--nodev]
[--nosuid] [--noexec] [-f] [--force] [-h] [--help]
[ <i>drivename</i>] [<i>mountpoint</i>]
fdumount [-f] [--force] [ <i>drivename</i>]
fdlist
fdmountd [-i  <i>interval</i>] [--interval <i>interval</i>] [-r]
[-readonly] [-s] [--sync] [--nosync] [--nodev]
[--nosuid] [--noexec] [--help] [ <i>drivename</i>] [<i>mountpoint</i>]]
</pre>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
<div class="Pp"></div>
The fdmount program mounts a floppy disk in the specified drive. It tries to
  figure out the exact format and filesystem type of the disk from data in the
  disk's boot sector or super block and the auto-detected track layout.
<div class="Pp"></div>
Currently, fdmount supports the filesystems minix, ext, ext2, xia, and msdos,
  and includes special support for disks formatted by the 2M utility for MS-DOS.
<div class="Pp"></div>
It also checks whether the disk is write protected, in which case it is mounted
  read-only.
<div class="Pp"></div>
The symbolic <i>drivename</i> is (currently) one of `fd[0-7]', corresponding to
  the special device files `/dev/fd[0-7]'. If <i>drivename</i> is not specified,
  `fd0' is assumed.
<div class="Pp"></div>
The disk is mounted on the directory <i>mountpoint</i>, if specified, or on
  `/fd[0-7]'. In either case, the mount point must be an existing, writable
  directory.
<div class="Pp"></div>
<b>Due to a bug in the floppy driver (?), the polling interval (-i</b> <b>flag)
  must be longer than the spindown offset. Thus you need to do (for</b>
  <b>example) floppycontrol --spindown 99 before starting fdmountd in daemon</b>
  <b>mode</b>
<h1 class="Sh" title="Sh" id="Options"><a class="selflink" href="#Options">Options</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">-l&#x00A0;<i>--list</i>&#x00A0;</dt>
  <dd class="It-tag">List all known drives with their symbolic name, type, and
      mount status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-d&#x00A0;<i>--daemon</i>&#x00A0;</dt>
  <dd class="It-tag">Run in daemon mode (see below).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--detach&#x00A0;</dt>
  <dd class="It-tag">Runs daemon in background, and detaches it from its tty.
      Messages produced after the fork are logged to syslog.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-p&#x00A0;<i>file</i>&#x00A0;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--pidfile&#x00A0;<i>file</i></dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Dumps the process id of the daemon to <i>file</i>. This
      makes killing the daemon easier: kill -9 `cat <i>file</i>`</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-i&#x00A0;<i>interval</i>&#x00A0;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--interval&#x00A0;<i>interval</i></dt>
  <dd class="It-tag">Set the polling interval for daemon mode. The unit for
      <i>interval</i> is 0.1 seconds, the default value is 10 (i.e. 1
    second).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-o&#x00A0;<i>options</i>&#x00A0;</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--options&#x00A0;<i>options</i></dt>
  <dd class="It-tag">Sets filesystem-specific options. So far, these are only
      available for DOS and Ext2 disks. The following DOS options are supported:
      check, conv, dotsOK, debug, fat, quiet, blocksize. The following Ext2
      options are supported: check, errors, grpid, bsdgroups, nogrpid,
      sysvgroups, bsddf, minixdf, resgid, debug, nocheck. When running as a
      daemon, options not applying to the disk that is inserted (because of its
      filesystem type) are not passed to mount.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-r&#x00A0;<i>--readonly</i>&#x00A0;</dt>
  <dd class="It-tag">Mount the disk read-only. This is automatically assumed if
      the disk is write protected.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-s&#x00A0;<i>--sync</i>&#x00A0;</dt>
  <dd class="It-tag">Mount with the SYNC option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--nosync&#x00A0;</dt>
  <dd class="It-tag">Mounts without the SYNC option, even when running as
      daemon.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--nodev&#x00A0;</dt>
  <dd class="It-tag">Mount with the NODEV option. Ignored for msdos filesystems,
      otherwise always set for non-root users.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--nosuid&#x00A0;</dt>
  <dd class="It-tag">Mount with the NOSUID option. Ignored for msdos
      filesystems, otherwise always set for non-root users.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">--noexec&#x00A0;</dt>
  <dd class="It-tag">Mount with the NOEXEC option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-f&#x00A0;<i>--force</i>&#x00A0;</dt>
  <dd class="It-tag">Attempt a mount or unmount operation even `/etc/mtab' says
      that the drive is already mounted, or not mounted, respectively. This
      option is useful if `/etc/mtab' got out of sync with the actual state for
      some reason.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">-h&#x00A0;<i>--help</i>&#x00A0;</dt>
  <dd class="It-tag">Show short parameter description</dd>
</dl>
<h1 class="Sh" title="Sh" id="Security"><a class="selflink" href="#Security">Security</a></h1>
When mounting on the default mount point, the mount points' owner is set to the
  current user, and the access flags according to the user's umask. For a
  specified mountpoint, owner and permissions are left unchanged. Default mount
  points are called /fd0, /fd1, ... , /fd7.
<div class="Pp"></div>
The user running fdmount must have read access to the floppy device for read
  only mounts, and read/write access for read/write mounts.
<div class="Pp"></div>
Fdmount can be run suid root, allowing users to mount floppy disks. The
  following restrictions are placed upon non-root users:
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">If a mountpoint is specified explicitly, it must be owned
      by the user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">A user may only unmount a disk if the mount point is owned
      by the user, or if it the disk has been mounted by the same user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">Non-msdos disks are automatically mounted with the nodev
      and nosuid flags set.</dd>
</dl>
<div class="Pp"></div>
However, <b>do not rely on fdmount being secure at the moment</b>.
<h1 class="Sh" title="Sh" id="Daemon_mode"><a class="selflink" href="#Daemon_mode">Daemon&#x00A0;mode</a></h1>
In daemon mode, the specified drive is periodically checked and if a disk is
  inserted, it is automatically mounted.
<div class="Pp"></div>
When the disk is removed, it is automatically unmounted. However, it is
  recommended to unmount the disk manually <i>before</i> removing it. In order
  to limit corruption, disks are mounted with the SYNC option when running in
  daemon mode, unless the --nosync flag is given.
<div class="Pp"></div>
Note that this mode has some potential drawbacks:
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">Some floppy drives have to move the drive head physically
      in order to reset the disk change signal. It is strongly recommended not
      to use daemon mode with these drives. See section floppycontrol, for
      details.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">If a disk does not contain a filesystem (e.g. a tar
      archive), the mount attempt may slow down initial access.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">As fdmount cannot identify the user trying to use the disk
      drive, there is no way to protect privacy. Disks are always mounted with
      public access permissions set.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Diagnostics"><a class="selflink" href="#Diagnostics">Diagnostics</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">error&#x00A0;opening&#x00A0;device&#x00A0;<i>name</i>&#x00A0;</dt>
  <dd class="It-tag"></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">error&#x00A0;reading&#x00A0;boot/super&#x00A0;block&#x00A0;</dt>
  <dd class="It-tag">fdmount failed to read the first 1K of the disk. The disk
      might be damaged, unformatted, or it may have a format which is
      unsupported by the FDC or the Linux kernel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">unknown&#x00A0;filesystem&#x00A0;type&#x00A0;</dt>
  <dd class="It-tag">No magic number of any of the supported filesystems (see
      above) could be identified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">sorry,&#x00A0;can&#x2032;t&#x00A0;figure&#x00A0;out&#x00A0;format&#x00A0;(<i>fs</i>&#x00A0;filesystem)&#x00A0;</dt>
  <dd class="It-tag">The size of the filesystem on the disk is incompatible with
      the track layout detected by the kernel and an integer number of tracks.
      This may occur if the filesystem uses only part of the disk, or the track
      layout was detected incorrectly by the kernel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">failed&#x00A0;to&#x00A0;mount&#x00A0;<i>fs&gt;&#x00A0;&lt;size</i>K-disk&#x00A0;</dt>
  <dd class="It-tag">The actual mount system call failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">failed&#x00A0;to&#x00A0;unmount&#x00A0;</dt>
  <dd class="It-tag">The actual unmount system call failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">cannot&#x00A0;create&#x00A0;lock&#x00A0;file&#x00A0;/etc/mtab~&#x00A0;</dt>
  <dd class="It-tag">If `/etc/mtab~' exists, you should probably delete it.
      Otherwise, check permissions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Can&#x2032;t&#x00A0;access&#x00A0;<i>mountpoint</i>&#x00A0;</dt>
  <dd class="It-tag">Most probably, the default or specified mount point does
      not exist. Use mkdir.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>mountpoint</i>&#x00A0;is&#x00A0;not&#x00A0;a&#x00A0;directory&#x00A0;</dt>
  <dd class="It-tag">The mountpoint is not a directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">not&#x00A0;owner&#x00A0;of&#x00A0;<i>mountpoint</i>&#x00A0;</dt>
  <dd class="It-tag">Non-root users must own the directory specified as mount
      point. (This does not apply for the default mount points, /fd[0-3].)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">No&#x00A0;write&#x00A0;permission&#x00A0;to&#x00A0;<i>mountpoint</i>&#x00A0;</dt>
  <dd class="It-tag">Non-root users must have write permission on the mount
      point directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Not&#x00A0;owner&#x00A0;of&#x00A0;mounted&#x00A0;directory:&#x00A0;UID=<i>uid</i>&#x00A0;</dt>
  <dd class="It-tag">Non-root users cannot unmount if the mount point is owned
      (i.e. the disk was mounted) by another user.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">invalid&#x00A0;drive&#x00A0;name&#x00A0;</dt>
  <dd class="It-tag">Valid drive names are `fd0', `fd1', etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">drive&#x00A0;<i>name</i>&#x00A0;does&#x00A0;not&#x00A0;exist&#x00A0;</dt>
  <dd class="It-tag">The drive does not exist physically, is unknown to the
      Linux kernel, or is an unknown type.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Drive&#x00A0;<i>name</i>&#x00A0;is&#x00A0;mounted&#x00A0;already&#x00A0;</dt>
  <dd class="It-tag">Trying to mount a drive which appears to be mounted
      already. Use the --force option if you think this is wrong.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">Drive&#x00A0;<i>name</i>&#x00A0;is&#x00A0;not&#x00A0;mounted&#x00A0;</dt>
  <dd class="It-tag">Trying to unmount a drive which does not appear to be
      mounted. Use the --force option if you think this is wrong.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">ioctl(...)&#x00A0;failed&#x00A0;</dt>
  <dd class="It-tag">If this occurs with the FDGETDRVTYP or FDGETDRVSTAT,
      ioctl's you should probably update your Linux kernel.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">mounted&#x00A0;<i>fs</i>&#x00A0;<i>size</i>-disk&#x00A0;(<i>options</i>)&#x00A0;</dt>
  <dd class="It-tag">Success message.</dd>
</dl>
<h1 class="Sh" title="Sh" id="Bugs"><a class="selflink" href="#Bugs">Bugs</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">Fdmount should be more flexible about drive names and
      default mount points (currently hard coded).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">Probably not very secure yet (when running suid root).
      Untested with ext and xia filesystems.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">Can't specify filesystem type and disk layout
    explicitly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">In daemon mode, the drive light stays on all the time.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">* &#x00A0;&#x00A0;</dt>
  <dd class="It-tag">Some newer filesystem types, such as vfat are not yet
      supported.</dd>
</dl>
<h1 class="Sh" title="Sh" id="See_Also"><a class="selflink" href="#See_Also">See
  Also</a></h1>
Fdutils' texinfo doc</div>
<table class="foot">
  <tr>
    <td class="foot-date">03Mar05</td>
    <td class="foot-os">fdutils-5.5</td>
  </tr>
</table>
</body>
</html>
