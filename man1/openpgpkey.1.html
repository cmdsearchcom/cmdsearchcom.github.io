<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>OPENPGPKEY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">OPENPGPKEY(1)</td>
    <td class="head-vol">Internet / DNS</td>
    <td class="head-rtitle">OPENPGPKEY(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
openpgpkey - Create and verify RFC-TBD OPENPGPKEY DNS records
<h1 class="Sh" title="Sh" id="SYNTAX"><a class="selflink" href="#SYNTAX">SYNTAX</a></h1>
openpgpkey [ <b>--fetch</b> | <b>--verify</b>] [<b>--insecure</b>]
  [<b>--resolv.conf /PATH/TO/RESOLV.CONF</b>] <i>user@domain</i>
<div class="Pp"></div>
openpgpkey [ <b>--create</b>] [<b>--insecure</b>] [<b>--resolv.conf
  /PATH/TO/RESOLV.CONF</b>] [ <b>--output {rfc,generic,both}</b>] [<b>--uid
  &lt;uid&gt;</b>] [ <b>--keyid &lt;keyid&gt;</b>] <i>user@domain</i>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
openpgpkey generates RFC-TBD OPENPGPKEY DNS records. To generate these records
  for older nameserver implementations that do not yet support the OPENPGPKEY
  record, specify <i>--output generic</i> to output the openpgpkey data in
  Generic Record (RFC-3597) format. Records are generated by taking all keys
  with the specified email address associated with it from the user's local
  GnuPG keychain.
<div class="Pp"></div>
Verification of OPENPGPKEY records is done by comparing the keyid and
  fingerprint of the OPENPGPKEY obtained from DNS with the version in the local
  GnuPG keychain.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>--fetch</b>
<div style="margin-left: 4.00ex;">Fetch an OPENPGPKEY public key record from
  DNS</div>
<div class="Pp"></div>
<b>--create</b>
<div style="margin-left: 4.00ex;">Create an OPENPGPKEY DNS record</div>
<div class="Pp"></div>
<b>--verify</b>
<div style="margin-left: 4.00ex;">Verify a public key from the local GPG keyring
  with the OPENPGPKEY DNS record</div>
<div class="Pp"></div>
<b>--resolvconf</b> FILE
<div style="margin-left: 4.00ex;">Specify a custom resolv.conf file (default:
  /etc/resolv.conf)</div>
<div class="Pp"></div>
<b>--output</b> rfc | generic | both
<div style="margin-left: 4.00ex;">Output format of OPENPGPKEY record.
  &quot;OPENPGPKEY&quot; for rfc, &quot;TYPE61&quot; for generic (default:
  generic)</div>
<div class="Pp"></div>
If neither create or verify is specified, create is used.
<h1 class="Sh" title="Sh" id="REQUIREMENTS"><a class="selflink" href="#REQUIREMENTS">REQUIREMENTS</a></h1>
openpgpkey requires the following python libraries: unbound, gnupg and argparse.
  It also requires gnupg which provides the gpg command.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
none known
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
typical usage:
<div class="Pp"></div>
openpgpkey --fetch paul@nohats.ca &gt; paul.pubkey
<div class="Pp"></div>
openpgpkey --verify paul@nohats.ca
<div class="Pp"></div>
openpgpkey --create paul@nohats.ca
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
draft-ietf-dane-openpgpkey
<div class="Pp"></div>
<b>http://people.redhat.com/pwouters/hash-slinger/</b>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Paul Wouters &lt;pwouters@redhat.com&gt;
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright 2014-2015
<div class="Pp"></div>
This program is free software; you can redistribute it and/or modify it under
  the terms of the GNU General Public License as published by the Free Software
  Foundation; either version 2 of the License, or (at your option) any later
  version. See &lt; <b>http://www.fsf.org/copyleft/gpl.txt</b>&gt;.
<div class="Pp"></div>
This program is distributed in the hope that it will be useful, but WITHOUT ANY
  WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
  A PARTICULAR PURPOSE. See the GNU General Public License (file COPYING in the
  distribution) for more details.</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 30, 2013</td>
    <td class="foot-os">Paul Wouters</td>
  </tr>
</table>
</body>
</html>
