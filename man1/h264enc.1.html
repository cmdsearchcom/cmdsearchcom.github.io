<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>h264enc(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">h264enc(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">h264enc(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
h264enc - the interactive shell script ripper
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>h264enc</b> [-1p | -2p | -3p | -qp | -crf | -b | -e | -r | -sc | -scan | -iso
  | -spr | -mfr | -bpp | -bpb | -v | -help] [-p &lt;preset&gt;] [preset_file]
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>h264enc</b> is an advanced and powerful interactive menu-driven shell script
  which uses the encoding utility <b>MEncoder</b> from the <b>MPlayer</b>
  project. The script can be used to encode DVDs, (S)VCDs or regular video files
  to the high-quality H.264 video format (also known as AVC (Advanced Video
  Coding) or MPEG-4 Part 10). At the moment, the script supports virtually all
  options of the libx264 library and a variety of audio codecs, including
  support for <b>up to three</b> DVD audio tracks muxed into the MKV/MP4/OGM/TS
  containers. <b>h264enc</b> is targeted primarily at power users or users who
  understand the process of video encoding and want to tweak their settings in
  order to achieve the best possible quality/file size of their encodes. For
  more information and a FAQ, visit <b>http://h264enc.sourceforge.net</b>
<div class="Pp"></div>
<b>h264enc</b> uses a configuration file stored in the user's home directory
  inside a hidden directory named as .h264enc where the user can enable or
  disable many of the supported audio/video filters and containers. This can
  reduce the time it takes to pass through the script when the user disables
  filters and/or containers he never intends to use. Further, the configuration
  file stores the paths to the required programs and a few other things like
  some script options, MPlayer flags and email support.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="REQUIREMENTS"><a class="selflink" href="#REQUIREMENTS">REQUIREMENTS</a></h1>
- MPlayer/MEncoder &gt;= 1.0rc2 compiled with libx264 support (SVN highly
  recommended)
<div>&#x00A0;</div>
- libx264
<div>&#x00A0;</div>
- lsdvd
<div>&#x00A0;</div>
- dvdxchap from 'ogmtools' (for DVD chapter export)
<div>&#x00A0;</div>
- LAME (for MP3 audio encoding)
<div>&#x00A0;</div>
- FAAC (for AAC audio encoding)
<div>&#x00A0;</div>
- neroAacEnc (for AAC/AAC+ audio encoding)
<div>&#x00A0;</div>
- aacplusenc (for AAC+ audio encoding)
<div>&#x00A0;</div>
- oggenc (for Vorbis audio encoding)
<div>&#x00A0;</div>
- flac (for FLAC audio encoding)
<div>&#x00A0;</div>
- MP4Box from 'gpac' (for AVI -&gt; MP4 container conversion)
<div>&#x00A0;</div>
- mkvtoolnix (for AVI -&gt; MKV container conversion)
<div>&#x00A0;</div>
- ogmtools (for AVI -&gt; OGM container conversion)
<div>&#x00A0;</div>
- tsMuxeR (for AVI -&gt; TS container conversion)
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="PARAMETERS"><a class="selflink" href="#PARAMETERS">PARAMETERS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-1p</b></dt>
  <dd class="It-tag">Encode in 1-pass mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-2p</b></dt>
  <dd class="It-tag">Encode in 2-pass mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-3p</b></dt>
  <dd class="It-tag">Encode in 3-pass mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-qp</b></dt>
  <dd class="It-tag">Encode in fixed-quant mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-crf</b></dt>
  <dd class="It-tag">Encode in constant rate factor mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&lt;passmode&gt; -p &lt;preset&gt; [-t &lt;tune&gt;]
    [-pf &lt;profile&gt;]</b></dt>
  <dd class="It-tag">Use a predefined H.264 quality preset, where
      <b>&lt;passmode&gt;</b> is the desired encoding mode ( <b>-1p</b> or
      <b>-2p</b> or <b>-3p</b> or <b>-qp</b> or <b>-crf</b>) and
      <b>&lt;preset&gt;</b> is the desired quality preset to use (see below).
      Note that the <b>-t</b> and <b>-pf</b> options only work with the x264
      presets below! See examples at the end of this option.</dd>
</dl>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag"><b>cp --------&gt; Load a custom preset file (see example
      below)</b>
    <div>&#x00A0;</div>
    <b>ulq -------&gt; Ultra Low Quality preset</b>
    <div>&#x00A0;</div>
    <b>elq -------&gt; Extreme Low Quality preset</b>
    <div>&#x00A0;</div>
    <b>vlq -------&gt; Very Low Quality preset</b>
    <div>&#x00A0;</div>
    <b>lq --------&gt; Low Quality preset</b>
    <div>&#x00A0;</div>
    <b>mq --------&gt; Medium Quality preset</b>
    <div>&#x00A0;</div>
    <b>nq --------&gt; Normal Quality preset (recommended)</b>
    <div>&#x00A0;</div>
    <b>hq --------&gt; High Quality preset (recommended)</b>
    <div>&#x00A0;</div>
    <b>vhq -------&gt; Very High Quality preset (recommended)</b>
    <div>&#x00A0;</div>
    <b>ehq -------&gt; Extreme High Quality preset</b>
    <div>&#x00A0;</div>
    <b>uhq -------&gt; Ultra High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ihq -------&gt; Insane High Quality preset</b>
    <div>&#x00A0;</div>
    <b>nlq -------&gt; Near Lossless Quality preset</b>
    <div>&#x00A0;</div>
    <b>fghq ------&gt; Film Grain optimized High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ani -------&gt; Anime preset</b>
    <div>&#x00A0;</div>
    <b>anihq -----&gt; Anime High Quality preset</b>
    <div>&#x00A0;</div>
    <b>vdhq ------&gt; VDPAU/DXVA High Quality (High@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>vdehq -----&gt; VDPAU/DXVA Extreme High Quality (High@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>vdihq -----&gt; VDPAU/DXVA Insane High Quality (High@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>fl --------&gt; Flash Player preset</b>
    <div>&#x00A0;</div>
    <b>flhq ------&gt; Flash Player High Quality preset</b>
    <div>&#x00A0;</div>
    <b>qt --------&gt; QuickTime preset</b>
    <div>&#x00A0;</div>
    <b>qthq ------&gt; QucikTime High Quality preset</b>
    <div>&#x00A0;</div>
    <b>bd40 ------&gt; Blu-ray (Main@L4.0) preset</b>
    <div>&#x00A0;</div>
    <b>bdhq40 ----&gt; Blu-ray High Quality (High@L4.0) preset</b>
    <div>&#x00A0;</div>
    <b>bd41 ------&gt; Blu-ray (Main@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>bdhq41 ----&gt; Blu-ray High Quality (High@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>avchd -----&gt; AVCHD (Main@L4.0) preset</b>
    <div>&#x00A0;</div>
    <b>avchdhq ---&gt; AVCHD High Quality (High@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>sdb -------&gt; Stand-alone HW players SD (Baseline@L3.1) preset</b>
    <div>&#x00A0;</div>
    <b>sdm -------&gt; Stand-alone HW players SD (Main@L3.1) preset</b>
    <div>&#x00A0;</div>
    <b>sdh -------&gt; Stand-alone HW players SD (High@L3.1) preset</b>
    <div>&#x00A0;</div>
    <b>hdb -------&gt; Stand-alone HW players HD (Baseline@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>hdm -------&gt; Stand-alone HW players HD (Main@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>hdh -------&gt; Stand-alone HW players HD (High@L4.1) preset</b>
    <div>&#x00A0;</div>
    <b>ag1 -------&gt; Android G1 preset</b>
    <div>&#x00A0;</div>
    <b>ag1hq -----&gt; Android G1 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ipc -------&gt; Apple iPod Classic preset</b>
    <div>&#x00A0;</div>
    <b>ipchq -----&gt; Apple iPod Classic High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ip --------&gt; Apple iPod preset</b>
    <div>&#x00A0;</div>
    <b>iphq ------&gt; Apple iPod High Quality preset</b>
    <div>&#x00A0;</div>
    <b>iph -------&gt; Apple iPhone preset</b>
    <div>&#x00A0;</div>
    <b>iphhq -----&gt; Apple iPhone High Quality preset</b>
    <div>&#x00A0;</div>
    <b>atv -------&gt; AppleTV preset</b>
    <div>&#x00A0;</div>
    <b>atvhq -----&gt; AppleTV High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ar --------&gt; Archos 605 preset</b>
    <div>&#x00A0;</div>
    <b>arhq ------&gt; Archos 605 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ar5 -------&gt; Archos 5 preset</b>
    <div>&#x00A0;</div>
    <b>ar5hq -----&gt; Archos 5 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>bb --------&gt; Blackberry 9000 preset</b>
    <div>&#x00A0;</div>
    <b>bbhq ------&gt; Blackberry 9000 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>nks60 -----&gt; Nokia S60 preset</b>
    <div>&#x00A0;</div>
    <b>nks60hq ---&gt; Nokia S60 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>psp -------&gt; Sony PSP preset</b>
    <div>&#x00A0;</div>
    <b>psphq -----&gt; Sony PSP High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ps3 -------&gt; Sony PS3 preset</b>
    <div>&#x00A0;</div>
    <b>ps3hq -----&gt; Sony PS3 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>mz --------&gt; Microsoft Zune preset</b>
    <div>&#x00A0;</div>
    <b>mzhq ------&gt; Microsoft Zune High Quality preset</b>
    <div>&#x00A0;</div>
    <b>mx --------&gt; Microsoft XBOX 360 preset</b>
    <div>&#x00A0;</div>
    <b>mxhq ------&gt; Microsoft XBOX 360 High Quality preset</b>
    <div>&#x00A0;</div>
    <b>ultrafast (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>superfast (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>veryfast (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>faster (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>fast (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>medium (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>slow (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>slower (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>veryslow (x264 preset)</b>
    <div>&#x00A0;</div>
    <b>placebo (x264 preset)</b></dd>
</dl>
</div>
<div style="margin-left: 5.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">Example of presets usage: <b>h264enc -2p -p hq</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">The above example will encode the DVD or input video file
      in 2-pass mode using the High Quality (HQ) preset</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">Load a custom preset from a file:
    <div>&#x00A0;</div>
     <b>h264enc -2p -p cp /path/to/file/preset.cfg</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">Please have a look at the <b>preset.cfg</b> file inside the
      h264enc package to give you an example on how to write a custom preset.
      The <b>preset.cfg</b> file is usually located inside the doc directory of
      the h264enc package.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">Examples of x264 presets/tune/profiles usage:
    <div>&#x00A0;</div>
     <b>h264enc -2p -p slow</b>
    <div>&#x00A0;</div>
    h264enc -2p -p slow -t film
    <div>&#x00A0;</div>
    h264enc -2p -p slow -pf main
    <div>&#x00A0;</div>
    h264enc -2p -p slow -t film -pf high</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">
  <div class="Pp"></div>
  </dt>
  <dd class="It-tag">The first example encodes the input with x264's slow
      preset. The second one does the same but tunes the encode settings for
      film footage. The third example is as the first one but selects the main
      H.264 profile and the last example uses both a tuning for film and selects
      the high H.264 profile. You can also switch the <b>-t</b> and <b>-pf</b>
      options, eg: <b>h264enc -2p -p slow -pf main -t film</b></dd>
</dl>
</div>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b /path/to/file/batchfile</b></dt>
  <dd class="It-tag">Load a batch file generated by <b>this</b> script. This
      option can be useful for testing or debugging the MEncoder parameters and
      for batch encoding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Edit the config file from within the terminal. This option
      defaults to using the 'nano' text editor but one can manually set his
      preferred editor in the EDITOR variable of the config file. The config
      file is located in <b>/home/username/.h264enc</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Reset configuration file. As of version 8.5.7, h264enc uses
      a configuration file which contains the paths to the programs needed for
      its correct operation. This option tells the script to remove and recreate
      the config file using the default values. It can be used to restore the
      original values of the config file in case the user has modified it and
      wants to get rid of those modifications. It is also used for resetting the
      config file in case the user has installed a required program <b>after</b>
      h264enc has generated its config file. If this is the case, the config
      file will not contain the path to the newly installed program so one has
      to reset the file in order to find it. This is because the config file is
      generated/updated only once: if it's not available on the user's system
      and during config version updates. The configuration file is located in
      <b>/home/username/.h264enc/config</b></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-sc</b></dt>
  <dd class="It-tag">Perform a sanity check. This will check for the programs
      which are required for the correct operation of this script and it will
      print the status in a list. It will also display which audio codecs are
      supported by MEncoder.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-scan</b></dt>
  <dd class="It-tag">Scan the DVD disc and display extensive information about
      it. With this option, one can display or export the information to a file
      on disk in text, perl, python, ruby or xml format.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-iso</b></dt>
  <dd class="It-tag">Create an ISO image of the DVD disc. Note that this option
      does no do any stripping of specific titles, audio languages and/or
      subtitles. It dumps the DVD content 1:1 to an ISO image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-spr</b></dt>
  <dd class="It-tag">Calculate the Storage and Pixel Aspect Ratios (SAR/PAR) for
      various resolutions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-mfr</b></dt>
  <dd class="It-tag">Calculate the maximum allowed frame references within DPB
      (Decoded Picture Buffer) limits for different H.264 levels and
      resolutions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bpp</b></dt>
  <dd class="It-tag">This is an informative option which lets you calculate the
      Bits Per Pixel (bpp) values for various resolutions. The bpp value
      represents how much bits each pixel gets. The higher the bpp value is, the
      more distinct colors the pixels will have which leads to a higher overall
      picture quality. Note that these values are not absolute! For video
      content with a lot of black in it, a bpp value of 0.14 may look very good.
      Video content with a lot of high motion scenes may still look bad with a
      bpp value of 0.20, so this really depends on the content you are willing
      to encode and the resolution you choose when scaling down.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-bpb</b></dt>
  <dd class="It-tag">This option is similar to the <b>-bpp</b> one, except it
      calculates the Bits Per Block (bpb) values for various resolutions. The
      bpb value expresses how many bits each 16x16 macroblock gets. Good bpb
      values are between 37-52. As is the case with Bits Per Pixel, the bpb
      values are not absolute and depend on the video content you are willing to
      encode and the resolution you choose when scaling down.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-help</b></dt>
  <dd class="It-tag">Display built-in help of the h264enc script and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">Display version of the h264enc script and exit
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>mencoder</b>(1), <b>lsdvd</b>(1), <b>dvdxchap</b>(1), <b>lame</b>(1),
  <b>oggenc</b>(1), <b>flac</b>(1), <b>mkvmerge</b>(1), <b>ogmmerge</b>(1),
  <b>mp4box</b>(1)
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
<b>h264enc</b> was written by Grozdan Nikolov &lt;neutrino8@gmail.com&gt;
<div class="Pp"></div>
This manual page was written by the author of h264enc
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="BUG_REPORTS"><a class="selflink" href="#BUG_REPORTS">BUG
  REPORTS</a></h1>
Please send all bug reports and/or questions/suggestions to
  &lt;neutrino8@gmail.com&gt;
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="WWW"><a class="selflink" href="#WWW">WWW</a></h1>
http://h264enc.sourceforge.net</div>
<table class="foot">
  <tr>
    <td class="foot-date">June 25, 2010</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
