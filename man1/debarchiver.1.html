<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:03:11 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DEBARCHIVER(1) Debarchiver DEBARCHIVER(1)</p>

<p style="margin-top: 1em">NAME <br>
debarchiver - Tool to sort debian packages into a package
archive.</p>

<p style="margin-top: 1em">SYNOPSIS <br>
debarchiver [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
The debian archiver is a tool that installs debian packages
into a file structure suitable for apt-get, aptitude,
dselect and similar tools. This can be used for updating the
<br>
Debian system. It is meant to be used by local
administrators that need special packages, or tweaked
versions to ease administration.</p>

<p style="margin-top: 1em">The file structure is based on
the potato file structure and does not support package
pools.</p>

<p style="margin-top: 1em">OPTIONS <br>
-a | --autoscan <br>
Does both --autoscanpackages and --autoscansources.</p>

<p style="margin-top: 1em">--autoscanall <br>
Same as --scanall --autoscan.</p>

<p style="margin-top: 1em">--autoscanpackages <br>
Automatically run dpkg-scanpackages after all new packages
are installed.</p>

<p style="margin-top: 1em">--autoscansources <br>
Automatically run dpkg-scansources after all new packages
are installed.</p>

<p style="margin-top: 1em">-b | --bzip <br>
Create bzip2 compressed Packages.bz2 and Sources.bz2
files.</p>

<p style="margin-top: 1em">--cachedir dir <br>
The apt-ftparchive package cache directory, if --index is
used. The default is $cachedir.</p>

<p style="margin-top: 1em">--cinstall dir <br>
Where the .changes file will be installed to. Use the empty
string to remove the .changes file instead. The default is
$cinstall.</p>

<p style="margin-top: 1em">--configfile file <br>
Specifies an extra configuration file to read. Will be read
after etc configuration and after user configuration
files.</p>

<p style="margin-top: 1em">--copycmd <br>
The install command to use where the default is $copycmd.
Both packages and .changes files are installed using this
command.</p>

<p style="margin-top: 1em">-d | --dest | --destdir dir <br>
Destination directory. The base directory where all the
distribution packages will reside and where the
$distrib/$major/$arch/$section directory structure will be
created. <br>
The default is $destdir, relative to the input
directory.</p>

<p style="margin-top: 1em">--debug-level | --dl level <br>
What information that should be printed. 1=critical,
2=error, 3=normal, 4=message, 5=debug, 6=verbose debug
(modules).</p>

<p style="margin-top: 1em">--distinputcriteria <br>
The criteria for what binary packages should be installed
even if they do not have a .changes file. The default is
$distinputcriteria.</p>

<p style="margin-top: 1em">--gpgkey <br>
The GnuPG key to use to sign the archive.</p>

<p style="margin-top: 1em">--gpgpassfile <br>
The file that provides the password to GnuPG.</p>

<p style="margin-top: 1em">--help <br>
Prints this information.</p>

<p style="margin-top: 1em">-i | --input | --indir |
--inputdir dir <br>
This is the directory where debarchiver will look for new
package versions and corresponding *.changes files that
should be installed to the --dest directory. The default is
<br>
$instdir.</p>

<p style="margin-top: 1em">--ignoredestcheck <br>
Force install of .changes file even if some files specified
in the .changes file already exists with wrong size or md5
hash.</p>

<p style="margin-top: 1em">--incompletetime <br>
The time to allow .changes file to be incomplete in seconds.
The default is 24 hours.</p>

<p style="margin-top: 1em">--index | -x <br>
Automatically run apt-ftparchive after all new packages are
installed. Use this *or* --autoscan, not both.</p>

<p style="margin-top: 1em">--instcmd <br>
DEPRECATED!</p>

<p style="margin-top: 1em">--lockfile file <br>
The lockfile to use. The default is $lockfile.</p>

<p style="margin-top: 1em">--mailcmd <br>
The command to use to send emails. The default behavior is
to use the sendmail command. You can disable email sending
by specifying the /bin/true command.</p>

<p style="margin-top: 1em">--mailformat <br>
Defines the format to be used to send emails with, by the
command specified by --mailfrom. Only &rsquo;sendmail&rsquo;
and &rsquo;mail&rsquo; formats are supported. By default
debarchiver assumes <br>
&rsquo;sendmail&rsquo; format. The argument can be one of
the following: <br>
sendmail = use of the sendmail format <br>
mail = use of the mail format</p>

<p style="margin-top: 1em">--mailfrom <br>
Specify mail sender.</p>

<p style="margin-top: 1em">--majordefault <br>
Default major section to use. The default is
&rsquo;main&rsquo;.</p>

<p style="margin-top: 1em">--movecmd <br>
Command to move files (currently not used at all).</p>

<p style="margin-top: 1em">--nosort <br>
Do not sort packages.</p>

<p style="margin-top: 1em">--nostructurefix <br>
Do not create directories and touch Package files.</p>

<p style="margin-top: 1em">-o | --addoverride <br>
Automatically add new packages to the override file.</p>

<p style="margin-top: 1em">--quit-level level <br>
On what level to quit the application, see debug level.</p>

<p style="margin-top: 1em">--rmcmd <br>
The remove command to use. The default is $rmcmd. This can
be used to move away the old packages to some other
place.</p>

<p style="margin-top: 1em">--scanall <br>
Scan all distributions, sections, etc.</p>

<p style="margin-top: 1em">--scandetect | -s <br>
Scan using &rsquo;apt-ftparchive&rsquo; or
&rsquo;dpkg-scan*&rsquo; (dpkg-scanpackages and
dpkg-scansources) depending on what is installed on the
system. This is the recommended way. Only use <br>
--index or --autoscan if you know what you are doing.</p>

<p style="margin-top: 1em">--scanonly <br>
Same as --nosort --nostructurefix.</p>

<p style="margin-top: 1em">-v | --version <br>
Prints the version string.</p>

<p style="margin-top: 1em">CONFIGURATION FILES <br>
You can also place configuration files with the following
names (in the following order) /etc/debarchiver.conf,
~/.debarchiver.conf and input.conf (relative to input
directory) <br>
that will be read before the arguments to this program will
be parsed. In the above files you can change the following
variables:</p>

<p style="margin-top: 1em">The configuration files are read
as perl modules they should end with a true value. Therefore
they should always end with a line that states
&rsquo;1;&rsquo;.</p>

<p style="margin-top: 1em">$bzip <br>
If set to 0 no bzip2 files will be generated. If set to 1
bzip2 files will be generated.</p>

<p style="margin-top: 1em">$cachedir <br>
The cache directory for apt-ftparchive used if --index is
used.</p>

<p style="margin-top: 1em">$cinstall <br>
Where the .changes files are installed (see --cinstall
above).</p>

<p style="margin-top: 1em">$copycmd <br>
The install command (see --copycmd).</p>

<p style="margin-top: 1em">$destdir <br>
The destination directory (see --destdir above).</p>

<p style="margin-top: 1em">$distinputcriteria <br>
The criteria for which packages that should be installed
even if it does not have a .changes file. The default is
$distinputcriteria.</p>

<p style="margin-top: 1em">%distinputdirs <br>
Directories (distribution =&gt; dir) to be searched for
extra binary packages that does not need a .changes file to
be installed but match $distinputcriteria. The default is to
<br>
accept kernel packages generated by make-kpkg (which does
not generate a .changes file). Additionally binary packages
with a valid .changes file will have the default <br>
distribution overridden to be the current queue directory.
This cause uploads to a specific queue to place the package
into that distribution directly.</p>

<p style="margin-top: 1em">$gpgkey <br>
The GnuPG key to use to sign the archive. If this variable
is set, the Release file for each changed section of the
archive will be signed with GnuPG using $gpgkey as the key
<br>
ID. Unless you use a key that has no passphrase or use
$gpgpassfile, you will need to run debarchiver interactively
when using this option so that you can supply the <br>
passphrase.</p>

<p style="margin-top: 1em">$gpgpassfile <br>
The file that contains the passphrase for the GnuPG key. See
$gpgkey for more information.</p>

<p style="margin-top: 1em">$ignoredestcheck <br>
Force install of .changes file even if some files specified
in the .changes file already exist with wrong size or md5
hash. Default to 0 (do not ignore).</p>

<p style="margin-top: 1em">$incompletetime <br>
Time to allow .changes files to be incomplete in seconds.
Useful for slow uploads. The default is 24 hours.</p>

<p style="margin-top: 1em">$inputdir <br>
The input directory (no effect in $inputconfigfile).</p>

<p style="margin-top: 1em">$lockfile <br>
The lockfile to use. The default is $lockfile.</p>

<p style="margin-top: 1em">@mailtos <br>
An array of strings that will receive emails. If the string
contains an email address that one is used. If it contains
an incomplete email address, i.e. @hostname, the <br>
username owning the file is used @ the hostname specified.
If no &rsquo;@&rsquo; character is found in the string, it
is considered as a field in the .changes file. Such a field
can for <br>
example be Maintainer or Uploaders.</p>

<p style="margin-top: 1em">$mailformat <br>
The format to use to send emails (see --mailformat
above).</p>

<p style="margin-top: 1em">$mailfrom <br>
Specifies the sender of emails. The default is none
(&quot;&quot;)</p>

<p style="margin-top: 1em">$majordefault <br>
Default major section (see --majordefault above).</p>

<p style="margin-top: 1em">$movecmd <br>
The move command (see --movecmd).</p>

<p style="margin-top: 1em">%release <br>
Additional information to add to generated Release files.
Supported keys are &rsquo;origin&rsquo;,
&rsquo;label&rsquo;, and &rsquo;description&rsquo;.</p>

<p style="margin-top: 1em">$rmcmd <br>
The remove command (see --rmcmd above).</p>

<p style="margin-top: 1em">$vrfycmd <br>
The verify command. Deprecated. Still functional but you are
adviced to set @vrfycmd instead as the $vrfycmd may be
removed in future releases.</p>

<p style="margin-top: 1em">@vrfycmd <br>
The verify command. @vrfycmd is set to the list ($vrfycmd)
just before the verify command is executed is the array is
empty. It was made like this for backwards compatibility
<br>
reasons.</p>

<p style="margin-top: 1em">$verifysignatures <br>
Choose to enable (1) or disable (0) signature verification
for packages uploaded into $inputdir (not
%distinputdirs).</p>

<p style="margin-top: 1em">$verifysignaturesdistinput <br>
Choose to enable (1) or disable (2) signature verification
for packages uploaded into %distinputdirs. This works
independently from $verifysignatures.</p>

<p style="margin-top: 1em">$usermailcmd <br>
It allows the user to tell debarchiver to use a specific
command to send emails. You may also want to specify the
mailformat your mail command handles by setting the value
<br>
of the $mailformat variable. Using the --mailcmd option on
the command line will superseed this variable. You can
disable email sending by specifying the /bin/true
command.</p>

<p style="margin-top: 1em">PACKAGE INDEXING <br>
There are two ways to generate the indexes that apt-get
relies on.</p>

<p style="margin-top: 1em">Using --autoscanpackages,
--autoscansources, or --autoscan will use dpkg-scanpackages
and dpkg-scansources. This will generate the Packages and
Sources files, but will not <br>
generate Contents files and can be slow with a large
repository.</p>

<p style="margin-top: 1em">Alternatively, the --index
config option will call apt-ftparchive to index the package
tree. apt-ftparchive can also generate Contents files (for
use with apt-file), and can <br>
optionally use a cache of package information to speed up
multiple runs. The apt-ftparchive configuration file will be
generated automatically. This is however not fully
tested.</p>

<p style="margin-top: 1em">You should use either
--autoscanpackages and --autoscansources or --index, not
both, as they do basically the same thing.</p>

<p style="margin-top: 1em">The default action (and the
recommended) is --scandetect that probe for installed
software and use the best choice depending on what software
you have installed (chooses between <br>
--index and --autoscan right now).</p>

<p style="margin-top: 1em">REJECT <br>
Changes files are rejected in the following conditions: <br>
* A file that is about to be installed already exist in the
archive and is not identical to the one that is about to be
installed. <br>
* Changes file is incomplete and has been there for
$incompletetime time. <br>
* A file that is part of the Changes file is not yet big
enough and the changes file has been there for
$incompletetime time. <br>
* A file that is part of the Changes file is bigger than
specified. <br>
* Verify signatures is enabled and signature do not
match.</p>

<p style="margin-top: 1em">FILES <br>
/etc/debarchiver.conf</p>

<p style="margin-top: 1em">SEE ALSO <br>
apt-ftparchive(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Ola Lundqvist &lt;ola@inguza.com&gt;</p>

<p style="margin-top: 1em">Debarchiver Mon, 14 Nov 2016
21:34:42 +0100 DEBARCHIVER(1)</p>
<hr>
</body>
</html>
