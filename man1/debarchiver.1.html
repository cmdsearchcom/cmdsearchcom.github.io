<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DEBARCHIVER(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DEBARCHIVER(1)</td>
    <td class="head-vol">Debarchiver</td>
    <td class="head-rtitle">DEBARCHIVER(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
debarchiver - Tool to sort debian packages into a package archive.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
debarchiver [options]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
The debian archiver is a tool that installs debian packages into a file
  structure suitable for apt-get, aptitude, dselect and similar tools. This can
  be used for updating the Debian system. It is meant to be used by local
  administrators that need special packages, or tweaked versions to ease
  administration.
<div class="Pp"></div>
The file structure is based on the potato file structure and does not support
  package pools.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a | --autoscan</b></dt>
  <dd class="It-tag">Does both --autoscanpackages and --autoscansources.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--autoscanall</b></dt>
  <dd class="It-tag">Same as --scanall --autoscan.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--autoscanpackages</b></dt>
  <dd class="It-tag">Automatically run dpkg-scanpackages after all new packages
      are installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--autoscansources</b></dt>
  <dd class="It-tag">Automatically run dpkg-scansources after all new packages
      are installed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b | --bzip</b></dt>
  <dd class="It-tag">Create bzip2 compressed Packages.bz2 and Sources.bz2
    files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cachedir</b> dir</dt>
  <dd class="It-tag">The apt-ftparchive package cache directory, if --index is
      used. The default is $cachedir.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cinstall</b> dir</dt>
  <dd class="It-tag">Where the .changes file will be installed to. Use the empty
      string to remove the .changes file instead. The default is $cinstall.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--configfile</b> file</dt>
  <dd class="It-tag">Specifies an extra configuration file to read. Will be read
      after etc configuration and after user configuration files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--copycmd</b></dt>
  <dd class="It-tag">The install command to use where the default is $copycmd.
      Both packages and .changes files are installed using this command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d | --dest | --destdir</b> dir</dt>
  <dd class="It-tag">Destination directory. The base directory where all the
      distribution packages will reside and where the
      $distrib/$major/$arch/$section directory structure will be created. The
      default is $destdir, relative to the input directory.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--debug-level | --dl</b> level</dt>
  <dd class="It-tag">What information that should be printed. 1=critical,
      2=error, 3=normal, 4=message, 5=debug, 6=verbose debug (modules).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--distinputcriteria</b></dt>
  <dd class="It-tag">The criteria for what binary packages should be installed
      even if they do not have a .changes file. The default is
      $distinputcriteria.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gpgkey</b></dt>
  <dd class="It-tag">The GnuPG key to use to sign the archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--gpgpassfile</b></dt>
  <dd class="It-tag">The file that provides the password to GnuPG.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">Prints this information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i | --input | --indir | --inputdir</b> dir</dt>
  <dd class="It-tag">This is the directory where debarchiver will look for new
      package versions and corresponding *.changes files that should be
      installed to the --dest directory. The default is $instdir.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ignoredestcheck</b></dt>
  <dd class="It-tag">Force install of .changes file even if some files specified
      in the .changes file already exists with wrong size or md5 hash.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--incompletetime</b></dt>
  <dd class="It-tag">The time to allow .changes file to be incomplete in
      seconds. The default is 24 hours.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--index | -x</b></dt>
  <dd class="It-tag">Automatically run apt-ftparchive after all new packages are
      installed. Use this *or* --autoscan, not both.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--instcmd</b></dt>
  <dd class="It-tag">DEPRECATED!</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--lockfile</b> file</dt>
  <dd class="It-tag">The lockfile to use. The default is $lockfile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mailcmd</b></dt>
  <dd class="It-tag">The command to use to send emails. The default behavior is
      to use the sendmail command. You can disable email sending by specifying
      the /bin/true command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mailformat</b></dt>
  <dd class="It-tag">Defines the format to be used to send emails with, by the
      command specified by --mailfrom. Only 'sendmail' and 'mail' formats are
      supported. By default debarchiver assumes 'sendmail' format. The argument
      can be one of the following:
    <br/>
     sendmail = use of the sendmail format
    <br/>
     mail = use of the mail format</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mailfrom</b></dt>
  <dd class="It-tag">Specify mail sender.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--majordefault</b></dt>
  <dd class="It-tag">Default major section to use. The default is 'main'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--movecmd</b></dt>
  <dd class="It-tag">Command to move files (currently not used at all).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nosort</b></dt>
  <dd class="It-tag">Do not sort packages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--nostructurefix</b></dt>
  <dd class="It-tag">Do not create directories and touch Package files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o | --addoverride</b></dt>
  <dd class="It-tag">Automatically add new packages to the override file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quit-level</b> level</dt>
  <dd class="It-tag">On what level to quit the application, see debug
    level.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--rmcmd</b></dt>
  <dd class="It-tag">The remove command to use. The default is $rmcmd. This can
      be used to move away the old packages to some other place.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--scanall</b></dt>
  <dd class="It-tag">Scan all distributions, sections, etc.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--scandetect | -s</b></dt>
  <dd class="It-tag">Scan using 'apt-ftparchive' or 'dpkg-scan*'
      (dpkg-scanpackages and dpkg-scansources) depending on what is installed on
      the system. This is the recommended way. Only use --index or --autoscan if
      you know what you are doing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--scanonly</b></dt>
  <dd class="It-tag">Same as --nosort --nostructurefix.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v | --version</b></dt>
  <dd class="It-tag">Prints the version string.</dd>
</dl>
<h1 class="Sh" title="Sh" id="CONFIGURATION_FILES"><a class="selflink" href="#CONFIGURATION_FILES">CONFIGURATION
  FILES</a></h1>
You can also place configuration files with the following names (in the
  following order) /etc/debarchiver.conf, ~/.debarchiver.conf and input.conf
  (relative to input directory) that will be read before the arguments to this
  program will be parsed. In the above files you can change the following
  variables:
<div class="Pp"></div>
The configuration files are read as perl modules they should end with a true
  value. Therefore they should always end with a line that states '1;'.
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$bzip</b><b></b></dt>
  <dd class="It-tag">If set to 0 no bzip2 files will be generated. If set to 1
      bzip2 files will be generated.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$cachedir</b><b></b></dt>
  <dd class="It-tag">The cache directory for apt-ftparchive used if --index is
      used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$cinstall</b><b></b></dt>
  <dd class="It-tag">Where the .changes files are installed (see --cinstall
      above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$copycmd</b><b></b></dt>
  <dd class="It-tag">The install command (see --copycmd).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$destdir</b><b></b></dt>
  <dd class="It-tag">The destination directory (see --destdir above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$distinputcriteria</b><b></b></dt>
  <dd class="It-tag">The criteria for which packages that should be installed
      even if it does not have a .changes file. The default is
      $distinputcriteria.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>%distinputdirs</b><b></b></dt>
  <dd class="It-tag">Directories (distribution =&gt; dir) to be searched for
      extra binary packages that does not need a .changes file to be installed
      but match $distinputcriteria. The default is to accept kernel packages
      generated by make-kpkg (which does not generate a .changes file).
      Additionally binary packages with a valid .changes file will have the
      default distribution overridden to be the current queue directory. This
      cause uploads to a specific queue to place the package into that
      distribution directly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$gpgkey</b><b></b></dt>
  <dd class="It-tag">The GnuPG key to use to sign the archive. If this variable
      is set, the Release file for each changed section of the archive will be
      signed with GnuPG using $gpgkey as the key ID. Unless you use a key that
      has no passphrase or use $gpgpassfile, you will need to run
      <b>debarchiver</b> interactively when using this option so that you can
      supply the passphrase.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$gpgpassfile</b><b></b></dt>
  <dd class="It-tag">The file that contains the passphrase for the GnuPG key.
      See $gpgkey for more information.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$ignoredestcheck</b><b></b></dt>
  <dd class="It-tag">Force install of .changes file even if some files specified
      in the .changes file already exist with wrong size or md5 hash. Default to
      0 (do not ignore).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$incompletetime</b><b></b></dt>
  <dd class="It-tag">Time to allow .changes files to be incomplete in seconds.
      Useful for slow uploads. The default is 24 hours.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$inputdir</b><b></b></dt>
  <dd class="It-tag">The input directory (no effect in $inputconfigfile).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$lockfile</b><b></b></dt>
  <dd class="It-tag">The lockfile to use. The default is $lockfile.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>@mailtos</b><b></b></dt>
  <dd class="It-tag">An array of strings that will receive emails. If the string
      contains an email address that one is used. If it contains an incomplete
      email address, i.e. @hostname, the username owning the file is used @ the
      hostname specified. If no '@' character is found in the string, it is
      considered as a field in the .changes file. Such a field can for example
      be Maintainer or Uploaders.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$mailformat</b><b></b></dt>
  <dd class="It-tag">The format to use to send emails (see --mailformat
    above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$mailfrom</b><b></b></dt>
  <dd class="It-tag">Specifies the sender of emails. The default is none
      (&quot;&quot;)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$majordefault</b><b></b></dt>
  <dd class="It-tag">Default major section (see --majordefault above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$movecmd</b><b></b></dt>
  <dd class="It-tag">The move command (see --movecmd).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>%release</b><b></b></dt>
  <dd class="It-tag">Additional information to add to generated Release files.
      Supported keys are 'origin', 'label', and 'description'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$rmcmd</b><b></b></dt>
  <dd class="It-tag">The remove command (see --rmcmd above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$vrfycmd</b><b></b></dt>
  <dd class="It-tag">The verify command. Deprecated. Still functional but you
      are adviced to set @vrfycmd instead as the $vrfycmd may be removed in
      future releases.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>@vrfycmd</b><b></b></dt>
  <dd class="It-tag">The verify command. @vrfycmd is set to the list ($vrfycmd)
      just before the verify command is executed is the array is empty. It was
      made like this for backwards compatibility reasons.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$verifysignatures</b><b></b></dt>
  <dd class="It-tag">Choose to enable (1) or disable (0) signature verification
      for packages uploaded into $inputdir (not %distinputdirs).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$verifysignaturesdistinput</b><b></b></dt>
  <dd class="It-tag">Choose to enable (1) or disable (2) signature verification
      for packages uploaded into %distinputdirs. This works independently from
      $verifysignatures.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b></b><b>$usermailcmd</b><b></b></dt>
  <dd class="It-tag">It allows the user to tell debarchiver to use a specific
      command to send emails. You may also want to specify the mailformat your
      mail command handles by setting the value of the $mailformat variable.
      Using the --mailcmd option on the command line will superseed this
      variable. You can disable email sending by specifying the /bin/true
      command.</dd>
</dl>
<h1 class="Sh" title="Sh" id="PACKAGE_INDEXING"><a class="selflink" href="#PACKAGE_INDEXING">PACKAGE
  INDEXING</a></h1>
There are two ways to generate the indexes that <b>apt-get</b> relies on.
<div class="Pp"></div>
Using <b>--autoscanpackages</b>, <b>--autoscansources</b>, or <b>--autoscan</b>
  will use <b>dpkg-scanpackages</b> and <b>dpkg-scansources</b>. This will
  generate the Packages and Sources files, but will not generate Contents files
  and can be slow with a large repository.
<div class="Pp"></div>
Alternatively, the <b>--index</b> <i>config</i> option will call
  <b>apt-ftparchive</b> to index the package tree. <b>apt-ftparchive</b> can
  also generate Contents files (for use with <b>apt-file</b>), and can
  optionally use a cache of package information to speed up multiple runs. The
  <b>apt-ftparchive</b> configuration file will be generated automatically. This
  is however not fully tested.
<div class="Pp"></div>
You should use either <b>--autoscanpackages</b> and <b>--autoscansources</b> or
  <b>--index</b>, not both, as they do basically the same thing.
<div class="Pp"></div>
The default action (and the recommended) is <b>--scandetect</b> that probe for
  installed software and use the best choice depending on what software you have
  installed (chooses between --index and --autoscan right now).
<h1 class="Sh" title="Sh" id="REJECT"><a class="selflink" href="#REJECT">REJECT</a></h1>
Changes files are rejected in the following conditions:
<br/>
 * A file that is about to be installed already exist in the archive and is not
  identical to the one that is about to be installed.
<br/>
 * Changes file is incomplete and has been there for $incompletetime time.
<br/>
 * A file that is part of the Changes file is not yet big enough and the changes
  file has been there for $incompletetime time.
<br/>
 * A file that is part of the Changes file is bigger than specified.
<br/>
 * Verify signatures is enabled and signature do not match.
<h1 class="Sh" title="Sh" id="FILES"><a class="selflink" href="#FILES">FILES</a></h1>
<b>/etc/debarchiver.conf</b>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>apt-ftparchive</b>(1)
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Ola Lundqvist &lt;ola@inguza.com&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">Mon, 14 Nov 2016 21:34:42 +0100</td>
    <td class="foot-os">Debarchiver </td>
  </tr>
</table>
</body>
</html>
