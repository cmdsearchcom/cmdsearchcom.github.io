<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>KNIFE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">KNIFE(1)</td>
    <td class="head-vol">knife</td>
    <td class="head-rtitle">KNIFE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
knife - The man page for the knife command line tool.
<div style="height: 1.00em;">&#x00A0;</div>
knife is a command-line tool that provides an interface between a local
  chef-repo and the Chef server. knife helps users to manage:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Nodes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Cookbooks and recipes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Roles</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Stores of JSON data (data bags), including encrypted
    data</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Environments</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Cloud resources, including provisioning</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">The installation of the chef-client on management
      workstations</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">Searching of indexed data on the Chef server</dd>
</dl>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Knife subcommands:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife bootstrap</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife client</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife configure</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife cookbook</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife cookbook site</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife data bag</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife delete</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife deps</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife diff</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife download</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife edit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife environment</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife exec</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife list</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife node</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife raw</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife recipe list</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife role</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife search</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife show</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife ssh</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife status</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife tag</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife upload</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife user</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">knife xargs</dd>
</dl>
</div>
<br/>
<h1 class="Sh" title="Sh" id="WORKING_WITH_KNIFE"><a class="selflink" href="#WORKING_WITH_KNIFE">WORKING
  WITH KNIFE</a></h1>
knife runs from a management workstation and sits in-between a Chef server and
  an organization's infrastructure. knife interacts with a Chef server by using
  the same REST API that is used by a chef-client. Role-based authentication
  controls (RBAC) can be used to authorize changes when knife is run with
  Enterprise Chef. knife is configured during workstation setup, but subsequent
  modifications can be made using the knife.rb configuration file.
<h2 class="Ss" title="Ss" id="Common_Options"><a class="selflink" href="#Common_Options">Common
  Options</a></h2>
The following options can be run with all knife sub-commands and plug-ins:
<div style="margin-left: 0.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-c CONFIG_FILE</b>, <b>--config
    CONFIG_FILE</b></b></dt>
  <dd class="It-tag">The configuration file to use. For example, when knife is
      run from a node that is configured to be managed by the Chef server, this
      option is used to allow knife to use the same credentials as the
      chef-client when communicating with the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--chef-zero-port PORT</b></b></dt>
  <dd class="It-tag">The port on which chef-zero will listen.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-d</b>, <b>--disable-editing</b></b></dt>
  <dd class="It-tag">Use to prevent the $EDITOR from being opened and to accept
      data as-is.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--defaults</b></b></dt>
  <dd class="It-tag">Use to have knife use the default value instead of asking a
      user to provide one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-e EDITOR</b>, <b>--editor EDITOR</b></b></dt>
  <dd class="It-tag">The $EDITOR that is used for all interactive commands.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-E ENVIRONMENT</b>, <b>--environment
    ENVIRONMENT</b></b></dt>
  <dd class="It-tag">The name of the environment. When this option is added to a
      command, the command will run only against the named environment. This
      option is ignored during search queries made using the <b>knife search</b>
      subcommand.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-F FORMAT</b>, <b>--format FORMAT</b></b></dt>
  <dd class="It-tag">The output format: <b>summary</b> (default), <b>text</b>,
      <b>json</b>, <b>yaml</b>, and <b>pp</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-h</b>, <b>--help</b></b></dt>
  <dd class="It-tag">Shows help for the command.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-k KEY</b>, <b>--key KEY</b></b></dt>
  <dd class="It-tag">The private key that knife will use to sign requests made
      by the API client to the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--[no-]color</b></b></dt>
  <dd class="It-tag">Use to view colored output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>--print-after</b></b></dt>
  <dd class="It-tag">Use to show data after a destructive operation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-s URL</b>, <b>--server-url URL</b></b></dt>
  <dd class="It-tag">The URL for the Chef server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-u USER</b>, <b>--user USER</b></b></dt>
  <dd class="It-tag">The user name used by knife to sign requests made by the
      API client to the Chef server. Authentication will fail if the user name
      does not match the private key.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-v</b>, <b>--version</b></b></dt>
  <dd class="It-tag">The version of the chef-client.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-V</b>, <b>--verbose</b></b></dt>
  <dd class="It-tag">Set for more verbose outputs. Use <b>-VV</b> for maximum
      verbosity.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-y</b>, <b>--yes</b></b></dt>
  <dd class="It-tag">Use to respond to all confirmation prompts with
      &quot;Yes&quot;. knife will not ask for confirmation.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b><b>-z</b>, <b>--local-mode</b></b></dt>
  <dd class="It-tag">Use to run the chef-client in local mode. This allows all
      commands that work against the Chef server to also work against the local
      chef-repo.</dd>
</dl>
</div>
<br/>
<h2 class="Ss" title="Ss" id="JSON_Data_Format"><a class="selflink" href="#JSON_Data_Format">JSON
  Data Format</a></h2>
Most data is entered using a text editor in JSON format, unless the
  <b>--disable-editing</b> option is entered as part of a command. (Encrypted
  data bags use YAML, which is a superset of JSON.) JSON is a common,
  language-independent data format that provides a simple text representation of
  arbitrary data structures. For more information about JSON, see
  <i>http://www.json.org/</i> or <i>http://en.wikipedia.org/wiki/JSON</i>.
<h2 class="Ss" title="Ss" id="Set_the_Text_Editor"><a class="selflink" href="#Set_the_Text_Editor">Set
  the Text Editor</a></h2>
Some knife commands, such as <b>knife data bag edit</b>, require that
  information be edited as JSON data using a text editor. For example, the
  following command:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
$ knife data bag edit admins admin_name
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
will open up the text editor with data similar to:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
{
  &quot;id&quot;: &quot;admin_name&quot;
}
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Changes to that file can then be made:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
{
  &quot;id&quot;: &quot;Justin C.&quot;
  &quot;description&quot;: &quot;I am passing the time by letting time pass over me ...&quot;
}
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
The type of text editor that is used by knife can be configured by adding an
  entry to the knife.rb file or by setting an <b>EDITOR</b> environment
  variable. For example, to configure the text editor to always open with vim,
  add the following to the knife.rb file:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
knife[:editor] = &quot;/usr/bin/vim&quot;
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
When a Microsoft Windows file path is enclosed in a double-quoted string (&quot;
  &quot;), the same backslash character ( <b>\</b>) that is used to define the
  file path separator is also used in Ruby to define an escape character. The
  knife.rb file is a Ruby file; therefore, file path separators must be escaped.
  In addition, spaces in the file path must be replaced with <b>~1</b> so that
  the length of each section within the file path is not more than 8 characters.
  For example, if EditPad Pro is the text editor of choice and is located at the
  following path:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
C:\\Program Files (x86)\EditPad Pro\EditPad.exe
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
the setting in the knife.rb file would be similar to:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
knife[:editor] = &quot;C:\\Progra~1\\EditPa~1\\EditPad.exe&quot;
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
One approach to working around the double- vs. single-quote issue is to put the
  single-quotes outside of the double-quotes. For example, for Notepad++:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
knife[:editor] = '&quot;C:\Program Files (x86)\Notepad++\notepad++.exe -nosession -multiInst&quot;'
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
for Sublime Text:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
knife[:editor] = '&quot;C:\Program Files\Sublime Text 2\sublime_text.exe --wait&quot;'
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
for TextPad:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
knife[:editor] = '&quot;C:\Program Files (x86)\TextPad 7\TextPad.exe&quot;'
</pre>
</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
and for vim:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">
<div style="height: 1.00em;">&#x00A0;</div>
<pre>
knife[:editor] = '&quot;C:\Program Files (x86)\vim\vim74\gvim.exe&quot;'
</pre>
</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Using_Quotes"><a class="selflink" href="#Using_Quotes">Using
  Quotes</a></h2>
Values can be entered with double quotes (&quot; &quot;) or single quotes (' '),
  but this should be done consistently.
<h2 class="Ss" title="Ss" id="Sub-commands"><a class="selflink" href="#Sub-commands">Sub-commands</a></h2>
knife comes with a collection of built in subcommands that work together to
  provide all of the functionality required to take specific actions against any
  object in an organization, including cookbooks, nodes, roles, data bags,
  environments, and users. A knife plugin extends the functionality beyond
  built-in subcommands.
<div style="height: 1.00em;">&#x00A0;</div>
knife has the following subcommands: <b>bootstrap</b>, <b>client</b>,
  <b>configure</b>, <b>cookbook</b>, <b>cookbook site</b>, <b>data bag</b>,
  <b>delete</b>, <b>deps</b>, <b>diff</b>, <b>download</b>, <b>edit</b>,
  <b>environment</b>, <b>exec</b>, <b>index rebuild</b>, <b>list</b>,
  <b>node</b>, <b>recipe list</b>, <b>role</b>, <b>search</b>, <b>show</b>,
  <b>ssh</b>, <b>status</b>, <b>tag</b>, <b>upload</b>, <b>user</b>, and
  <b>xargs</b>.
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">The following subcommands run only against the
  open source Chef server: <b>index rebuild</b> and <b>user</b>.</div>
<br/>
</div>
<br/>
<h2 class="Ss" title="Ss" id="Syntax"><a class="selflink" href="#Syntax">Syntax</a></h2>
All knife subcommands have the following syntax:
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">knife subcommand [ARGUMENT] (options)</div>
<br/>
</div>
<br/>
<div style="height: 1.00em;">&#x00A0;</div>
Each subcommand has its own set of arguments and options.
<div style="height: 1.00em;">&#x00A0;</div>
<b>NOTE:</b>
<div style="margin-left: 0.00ex;">
<div style="margin-left: 3.50ex;">All syntax examples in this document show
  variables in ALL_CAPS. For example <b>-u PORT_LIST</b> (where PORT_LIST is a
  comma-separated list of local and public UDP ports) or <b>-F FORMAT</b> (where
  FORMAT determines the output format, either <b>summary</b>, <b>text</b>,
  <b>json</b>, <b>yaml</b>, or <b>pp</b>). These variables often require
  specific values that are unique to each organization.</div>
<br/>
</div>
<br/>
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Chef</div>
<table class="foot">
  <tr>
    <td class="foot-date">Chef 12.0</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
