<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>PMQUERY(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">PMQUERY(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">PMQUERY(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>pmconfirm</b>, <b>pmmessage</b>, <b>pmquery</b> - general purpose dialog box
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>pmconfirm</b> [ <b>-c</b>] [ <b>-b</b> <i>button-name</i>] [ <b>-B</b>
  <i>default-button-name</i>] [ <b>-t</b> <i>string</i>] [ <b>-file</b>
  <i>filename</i>] [ <b>-icon</b> <i>icontype</i>] [ <b>-font</b> <i>font</i>] [
  <b>-header</b> <i>titlebar-string</i>] [ <b>-useslider</b>] [
  <b>-noslider</b>] [ <b>-noframe</b>] [ <b>-exclusive</b>]
<div>&#x00A0;</div>
<div class="Pp"></div>
<b>pmmessage</b> [ <b>-buttons</b>
  <i>label1</i>[:<i>value1</i>][,<i>label2</i>[: <i>value2</i>][,...]]] [
  <b>-center</b>] [ <b>-nearmouse</b>] [ <b>-default</b> <i>button</i>] [
  <b>-file</b> <i>filename</i>] [ <b>-print</b>] [ <b>-timeout</b> <i>sec</i>]
  <i>message...</i>
<div>&#x00A0;</div>
<div class="Pp"></div>
<b>pmquery</b> <b>[</b><b>-input</b>] [ <b>all above options...</b>] [
  <i>message...</i>]
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>pmquery</b> provides a command-line-option compatible implementation of the
  <b>xconfirm</b> and <b>xmessage</b> tools, using a look-and-feel that is
  consistent with <b>pmchart</b>. Several extensions to the functionality of the
  original tools have been made, in order to improve their specific utility for
  <b>pmchart</b>, but wherever possible the original semantics remain.
<div class="Pp"></div>
<b>pmconfirm</b> displays a line of text for each <b>-t</b> argument specified
  (or a file when the <b>-file</b> argument is used), and a button for each
  <b>-b</b> argument specified. When one of the buttons is pressed, the label of
  that button is written to <b>pmquery's</b> standard output. This provides a
  means of communication/feedback from within shell scripts and a means to
  display useful information to a user from an application.
<div class="Pp"></div>
<b>pmmessage</b> displays a window containing a message from the command line, a
  file, or standard input. It additionally allows buttons to be associated with
  an exit status, and only optionally will write the label of the button to
  standard output.
<div class="Pp"></div>
<b>pmquery</b> extends the above tools to additionally support limited user
  input, as free form text. In this <b>-input</b> mode, any text entered will be
  output when the default button is pressed. A default text can be entered using
  the same mechanisms as the other tools.
<div class="Pp"></div>
Command line options are available to specify font style, frame style, modality
  and one of several different icons to be presented for tailored visual
  feedback to the user.
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c or <b>-center</b></b></dt>
  <dd class="It-tag">Center the window on the display.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-nearmouse</b></dt>
  <dd class="It-tag">Pop up the window near the mouse cursor.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b <i>button-name</i></b></dt>
  <dd class="It-tag">Displays a button with the label <i>button-name</i>. If
      <i>button-name</i> is the empty string, the button in that position is not
      displayed. If no <b>-b</b> arguments are present, the default is a button
      with the label Continue. The exit status associated with
      <i>button-name</i> is zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B <i>button-name</i></b></dt>
  <dd class="It-tag">Displays a button with the label <i>button-name</i> and
      specifies it as the button to be activated when enter is pressed. The exit
      status associated with <i>button-name</i> is zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-buttons <i>button,button,...</i></b></dt>
  <dd class="It-tag">This option will create one button for each comma-separated
      <i>button</i> argument. Each <i>button</i> consists of a label optionally
      followed by a colon and an exit value. The exit value will be returned if
      that button is selected. The default exit value is 100 plus the button
      number. Buttons are numbered from the left starting with one.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-default <i>label</i></b></dt>
  <dd class="It-tag">Defines the button with a matching <i>label</i> to be the
      default. If not specified there is no default. The corresponding resource
      is <b>defaultButton</b>. Pressing Return anywhere in the <i>xmessage</i>
      window will activate the default button. The default button has a wider
      border than the others.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t <i>message</i></b></dt>
  <dd class="It-tag">Displays message. Any number of strings can be listed on
      the command line (each must be preceded with the <b>-t</b> option).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-file <i>filename</i></b></dt>
  <dd class="It-tag">Displays the file <i>filename.</i> All <b>-t</b> options
      will be ignored. A <i>filename</i> of `<i>-</i>' reads from standard
      input.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-icon <i>icontype</i></b></dt>
  <dd class="It-tag">Displays the icon <i>icontype</i> where icontype is one of:
      <i>info</i>, <i>error</i>, <i>question</i>, <i>warning</i>,
      <i>critical</i>. <i>action</i> is also accepted as a synonym for
      <i>error</i> for backward compatibility. <b>pmquery</b> introduces the
      additional <i>archive</i> and <i>host</i> icon types as well as the
      original <b>xconfirm</b> types listed earlier.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-font <i>fontname</i></b></dt>
  <dd class="It-tag">Use fontname as the font. This option is only available
      when using the X Window System.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-header <i>string</i></b></dt>
  <dd class="It-tag">Use string as the window title.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-print</b></dt>
  <dd class="It-tag">This causes the program to write the label of the button
      pressed to standard output. It is the default behaviour for
      <b>pmconfirm</b> and <b>pmquery</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noprint</b></dt>
  <dd class="It-tag">This causes the program to not write the label of the
      button pressed to standard output. It is the default behaviour for
      <b>pmmessage</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-geometry <i>geometry-string</i></b></dt>
  <dd class="It-tag">This provides xconfirm with an X-compatible geometry string
      specification. This option is only available when using the X Window
      System.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-useslider</b></dt>
  <dd class="It-tag">When displaying a file, always use a slider instead of
      determining automatically whether a slider is necessary.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noslider</b></dt>
  <dd class="It-tag">Do not create a slider, and clip text to the window size,
      instead of determining automatically whether a slider is necessary..</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-noframe</b></dt>
  <dd class="It-tag">Do not display a frame around the contents.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-exclusive</b></dt>
  <dd class="It-tag">Grab the keyboard/pointer and do not allow further input
      until a button is pressed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-timeout <i>secs</i></b></dt>
  <dd class="It-tag">Exit with status 0 after <i>secs</i> seconds if the user
      has not clicked on a button yet. The corresponding resource is
      <b>timeout</b>.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The following shell script will display a window with an information icon,
  asking the user a yes or no question with &quot;Yes&quot; as the default.
<div class="Pp"></div>
<pre>
 #! /bin/sh
 case `pmquery -t &quot;Really power down?&quot; -b No -B Yes -icon question
 in
   Yes) shutdown;;
   No) ;;
 esac
</pre>
<div class="Pp"></div>
A second example, which prompts for a hostname then starts a terminal with an
  ssh session connected to the requested host.
<div class="Pp"></div>
<pre>
 #! /bin/sh
 host=`pmquery -input -icon host -b Cancel -B OK \
               -header &quot;Remote Terminal - Secure Shell&quot;
 [ &quot;$host&quot; = &quot;Cancel&quot; -o -z &quot;$host&quot; ] &amp;&amp; exit
 gnome-terminal -e &quot;ssh $host&quot;
</pre>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<b>pmquery</b> is an excellent choice of utility for the
  &quot;PCP_XCONFIRM_PROG&quot; Performance Co-Pilot configuration parameter
  (refer to <b>pcp.conf</b>(5) for details).
<div class="Pp"></div>
Note that PCP_XCONFIRM_PROG will be automatically set to <b>pmquery</b> inside
  tools like <b>pmchart</b>, unless PCP_XCONFIRM_PROG is already set in the
  environment.
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
If it detects an error, <b>pmquery</b> always returns 1, so this value should
  not be associated with a button. Unless <i>-button</i> option has not been
  used, the return code will be zero on success.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>pmchart</b>(1), <b>xconfirm</b>(1), <b>xmessage</b>(1),
  <b>pcp.conf</b>(5).</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">Performance Co-Pilot</td>
  </tr>
</table>
</body>
</html>
