<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:08 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>danetool(1) User Commands danetool(1)</p>

<p style="margin-top: 1em">NAME <br>
danetool - GnuTLS DANE tool</p>

<p style="margin-top: 1em">SYNOPSIS <br>
danetool [-flags] [-flag [value]] [--option-name[[=|
]value]]</p>

<p style="margin-top: 1em">All arguments must be
options.</p>

<p style="margin-top: 1em">DESCRIPTION <br>
Tool to generate and check DNS resource records for the DANE
protocol.</p>

<p style="margin-top: 1em">OPTIONS <br>
-d number, --debug=number <br>
Enable debugging. This option takes an integer number as its
argument. The value of number is constrained to being: <br>
in the range 0 through 9999</p>

<p style="margin-top: 1em">Specifies the debug level.</p>

<p style="margin-top: 1em">-V, --verbose <br>
More verbose output. This option may appear an unlimited
number of times.</p>

<p style="margin-top: 1em">--infile=file <br>
Input file.</p>

<p style="margin-top: 1em">--outfile=string <br>
Output file.</p>

<p style="margin-top: 1em">--load-pubkey=string <br>
Loads a public key file.</p>

<p style="margin-top: 1em">This can be either a file or a
PKCS #11 URL</p>

<p style="margin-top: 1em">--load-certificate=string <br>
Loads a certificate file.</p>

<p style="margin-top: 1em">This can be either a file or a
PKCS #11 URL</p>

<p style="margin-top: 1em">--dlv=string <br>
Sets a DLV file.</p>

<p style="margin-top: 1em">This sets a DLV file to be used
for DNSSEC verification.</p>

<p style="margin-top: 1em">--hash=string <br>
Hash algorithm to use for signing.</p>

<p style="margin-top: 1em">Available hash functions are
SHA1, RMD160, SHA256, SHA384, SHA512.</p>

<p style="margin-top: 1em">--check=string <br>
Check a host&rsquo;s DANE TLSA entry.</p>

<p style="margin-top: 1em">Obtains the DANE TLSA entry from
the given hostname and prints information. Note that the
actual certificate of the host can be provided using
--load-certificate, other&acirc; <br>
wise danetool will connect to the server to obtain it. The
exit code on verification success will be zero.</p>

<p style="margin-top: 1em">--check-ee <br>
Check only the end-entity&rsquo;s certificate.</p>

<p style="margin-top: 1em">Checks the end-entity&rsquo;s
certificate only. Trust anchors or CAs are not
considered.</p>

<p style="margin-top: 1em">--check-ca <br>
Check only the CA&rsquo;s certificate.</p>

<p style="margin-top: 1em">Checks the trust anchor&rsquo;s
and CA&rsquo;s certificate only. End-entities are not
considered.</p>

<p style="margin-top: 1em">--tlsa-rr <br>
Print the DANE RR data on a certificate or public key. This
option must appear in combination with the following
options: host.</p>

<p style="margin-top: 1em">This command prints the DANE RR
data needed to enable DANE on a DNS server.</p>

<p style="margin-top: 1em">--host=hostname <br>
Specify the hostname to be used in the DANE RR.</p>

<p style="margin-top: 1em">This command sets the hostname
for the DANE RR.</p>

<p style="margin-top: 1em">--proto=protocol <br>
The protocol set for DANE data (tcp, udp etc.).</p>

<p style="margin-top: 1em">This command specifies the
protocol for the service set in the DANE data.</p>

<p style="margin-top: 1em">--port=number <br>
Specify the port number for the DANE data. This option takes
an integer number as its argument.</p>

<p style="margin-top: 1em">--app-proto=string <br>
The application protocol to be used to obtain the
server&rsquo;s certificate (https, ftp, smtp, imap).</p>

<p style="margin-top: 1em">When the server&rsquo;s
certificate isn&rsquo;t provided danetool will connect to
the server to obtain the certificate. In that case it is
required to known the protocol to talk with <br>
the server prior to initiating the TLS handshake.</p>

<p style="margin-top: 1em">--ca Whether the provided
certificate or public key is a Certificate Authority.</p>

<p style="margin-top: 1em">Marks the DANE RR as a CA
certificate if specified.</p>

<p style="margin-top: 1em">--x509 Use the hash of the X.509
certificate, rather than the public key.</p>

<p style="margin-top: 1em">This option forces the generated
record to contain the hash of the full X.509 certificate. By
default only the hash of the public key is used.</p>

<p style="margin-top: 1em">--local <br>
This is an alias for the --domain option.</p>

<p style="margin-top: 1em">--domain, - Fl -no-domain <br>
The provided certificate or public key is issued by the
local domain. The no-domain form will disable the option.
This option is enabled by default.</p>

<p style="margin-top: 1em">DANE distinguishes certificates
and public keys offered via the DNSSEC to trusted and local
entities. This flag indicates that this is a domain-issued
certificate, meaning <br>
that there could be no CA involved.</p>

<p style="margin-top: 1em">--local-dns, - Fl -no-local-dns
<br>
Use the local DNS server for DNSSEC resolving. The
no-local-dns form will disable the option.</p>

<p style="margin-top: 1em">This option will use the local
DNS server for DNSSEC. This is disabled by default due to
many servers not allowing DNSSEC.</p>

<p style="margin-top: 1em">--insecure <br>
Do not verify any DNSSEC signature.</p>

<p style="margin-top: 1em">Ignores any DNSSEC signature
verification results.</p>

<p style="margin-top: 1em">--inder, - Fl -no-inder <br>
Use DER format for input certificates and private keys. The
no-inder form will disable the option.</p>

<p style="margin-top: 1em">The input files will be assumed
to be in DER or RAW format. Unlike options that in PEM input
would allow multiple input data (e.g. multiple
certificates), when reading in <br>
DER format a single data structure is read.</p>

<p style="margin-top: 1em">--inraw <br>
This is an alias for the --inder option.</p>

<p style="margin-top: 1em">--print-raw, - Fl -no-print-raw
<br>
Print the received DANE data in raw format. The no-print-raw
form will disable the option.</p>

<p style="margin-top: 1em">This option will print the
received DANE data.</p>

<p style="margin-top: 1em">--quiet <br>
Suppress several informational messages.</p>

<p style="margin-top: 1em">In that case on the exit code
can be used as an indication of verification success</p>

<p style="margin-top: 1em">-h, --help <br>
Display usage information and exit.</p>

<p style="margin-top: 1em">-!, --more-help <br>
Pass the extended usage information through a pager.</p>

<p style="margin-top: 1em">-v [{v|c|n --version [{v|c|n}]}]
<br>
Output version of program and exit. The default mode is
&lsquo;v&rsquo;, a simple version. The &lsquo;c&rsquo; mode
will print copyright information and &lsquo;n&rsquo; will
print the full copyright <br>
notice.</p>

<p style="margin-top: 1em">EXAMPLES <br>
DANE TLSA RR generation</p>

<p style="margin-top: 1em">To create a DANE TLSA resource
record for a certificate (or public key) that was issued
localy and may or may not be signed by a CA use the
following command. <br>
$ danetool --tlsa-rr --host www.example.com
--load-certificate cert.pem</p>

<p style="margin-top: 1em">To create a DANE TLSA resource
record for a CA signed certificate, which will be marked as
such use the following command. <br>
$ danetool --tlsa-rr --host www.example.com
--load-certificate cert.pem --no-domain</p>

<p style="margin-top: 1em">The former is useful to add in
your DNS entry even if your certificate is signed by a CA.
That way even users who do not trust your CA will be able to
verify your certificate <br>
using DANE.</p>

<p style="margin-top: 1em">In order to create a record for
the CA signer of your certificate use the following. <br>
$ danetool --tlsa-rr --host www.example.com
--load-certificate cert.pem --ca --no-domain</p>

<p style="margin-top: 1em">To read a server&rsquo;s DANE
TLSA entry, use: <br>
$ danetool --check www.example.com --proto tcp --port
443</p>

<p style="margin-top: 1em">To verify a server&rsquo;s DANE
TLSA entry, use: <br>
$ danetool --check www.example.com --proto tcp --port 443
--load-certificate chain.pem</p>

<p style="margin-top: 1em">EXIT STATUS <br>
One of the following exit values will be returned:</p>

<p style="margin-top: 1em">0 (EXIT_SUCCESS) <br>
Successful program execution.</p>

<p style="margin-top: 1em">1 (EXIT_FAILURE) <br>
The operation failed or the command syntax was not
valid.</p>

<p style="margin-top: 1em">70 (EX_SOFTWARE) <br>
libopts had an internal operational error. Please report it
to autogen-users@lists.sourceforge.net. Thank you.</p>

<p style="margin-top: 1em">SEE ALSO <br>
certtool (1)</p>

<p style="margin-top: 1em">AUTHORS <br>
Nikos Mavrogiannopoulos, Simon Josefsson and others; see
/usr/share/doc/gnutls/AUTHORS for a complete list.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright (C) 2000-2016 Free Software Foundation, and others
all rights reserved. This program is released under the
terms of the GNU General Public License, version 3 or
later.</p>

<p style="margin-top: 1em">BUGS <br>
Please send bug reports to: bugs@gnutls.org</p>

<p style="margin-top: 1em">NOTES <br>
This manual page was AutoGen-erated from the danetool option
definitions.</p>

<p style="margin-top: 1em">3.3.24 06 Jul 2016
danetool(1)</p>
<hr>
</body>
</html>
