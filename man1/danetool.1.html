<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>danetool(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">danetool(1)</td>
    <td class="head-vol">User Commands</td>
    <td class="head-rtitle">danetool(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>danetool</b> - GnuTLS DANE tool
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>danetool</b> [ <b>-flags</b>] [ <b>-flag</b> [<i>value</i>]] [
  <b>--option-name</b>[[=| ] <i>value</i>]]
<div style="height: 0.00ex;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
All arguments must be options.
<div style="height: 0.00ex;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
Tool to generate and check DNS resource records for the DANE protocol.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b> <i>number</i>, <b>--debug</b>=<i>number</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Enable debugging. This option takes an integer number as its argument. The
      value of <i>number</i> is constrained to being:
    <br/>
    <pre>
in the range  0 through 9999
    </pre>
    <br/>
    <div style="height: 1.00em;">&#x00A0;</div>
    Specifies the debug level.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b>, <b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    More verbose output. This option may appear an unlimited number of times.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--infile</b>=<i>file</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Input file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--outfile</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output file.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-pubkey</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads a public key file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--load-certificate</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Loads a certificate file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This can be either a file or a PKCS #11 URL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--dlv</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Sets a DLV file.
    <div style="height: 1.00em;">&#x00A0;</div>
    This sets a DLV file to be used for DNSSEC verification.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--hash</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Hash algorithm to use for signing.
    <div style="height: 1.00em;">&#x00A0;</div>
    Available hash functions are SHA1, RMD160, SHA256, SHA384, SHA512.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Check a host's DANE TLSA entry.
    <div style="height: 1.00em;">&#x00A0;</div>
    Obtains the DANE TLSA entry from the given hostname and prints information.
      Note that the actual certificate of the host can be provided using
      --load-certificate, otherwise danetool will connect to the server to
      obtain it. The exit code on verification success will be zero.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check-ee</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Check only the end-entity's certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    Checks the end-entity's certificate only. Trust anchors or CAs are not
      considered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--check-ca</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Check only the CA's certificate.
    <div style="height: 1.00em;">&#x00A0;</div>
    Checks the trust anchor's and CA's certificate only. End-entities are not
      considered.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--tlsa-rr</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print the DANE RR data on a certificate or public key. This option must
      appear in combination with the following options: host.
    <div style="height: 1.00em;">&#x00A0;</div>
    This command prints the DANE RR data needed to enable DANE on a DNS
    server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--host</b>=<i>hostname</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specify the hostname to be used in the DANE RR.
    <div style="height: 1.00em;">&#x00A0;</div>
    This command sets the hostname for the DANE RR.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--proto</b>=<i>protocol</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The protocol set for DANE data (tcp, udp etc.).
    <div style="height: 1.00em;">&#x00A0;</div>
    This command specifies the protocol for the service set in the DANE
    data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--port</b>=<i>number</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Specify the port number for the DANE data. This option takes an integer
      number as its argument.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--app-proto</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The application protocol to be used to obtain the server's certificate
      (https, ftp, smtp, imap).
    <div style="height: 1.00em;">&#x00A0;</div>
    When the server's certificate isn't provided danetool will connect to the
      server to obtain the certificate. In that case it is required to known the
      protocol to talk with the server prior to initiating the TLS
    handshake.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ca</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Whether the provided certificate or public key is a Certificate Authority.
    <div style="height: 1.00em;">&#x00A0;</div>
    Marks the DANE RR as a CA certificate if specified.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--x509</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use the hash of the X.509 certificate, rather than the public key.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option forces the generated record to contain the hash of the full
      X.509 certificate. By default only the hash of the public key is
    used.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--local</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This is an alias for the <i>--domain</i> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--domain</b>, <b>- Fl -no-domain</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The provided certificate or public key is issued by the local domain. The
      <i>no-domain</i> form will disable the option. This option is enabled by
      default.
    <div style="height: 1.00em;">&#x00A0;</div>
    DANE distinguishes certificates and public keys offered via the DNSSEC to
      trusted and local entities. This flag indicates that this is a
      domain-issued certificate, meaning that there could be no CA
    involved.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--local-dns</b>, <b>- Fl -no-local-dns</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use the local DNS server for DNSSEC resolving. The <i>no-local-dns</i> form
      will disable the option.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option will use the local DNS server for DNSSEC. This is disabled by
      default due to many servers not allowing DNSSEC.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--insecure</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Do not verify any DNSSEC signature.
    <div style="height: 1.00em;">&#x00A0;</div>
    Ignores any DNSSEC signature verification results.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--inder</b>, <b>- Fl -no-inder</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Use DER format for input certificates and private keys. The <i>no-inder</i>
      form will disable the option.
    <div style="height: 1.00em;">&#x00A0;</div>
    The input files will be assumed to be in DER or RAW format. Unlike options
      that in PEM input would allow multiple input data (e.g. multiple
      certificates), when reading in DER format a single data structure is
    read.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--inraw</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    This is an alias for the <i>--inder</i> option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--print-raw</b>, <b>- Fl -no-print-raw</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print the received DANE data in raw format. The <i>no-print-raw</i> form
      will disable the option.
    <div style="height: 1.00em;">&#x00A0;</div>
    This option will print the received DANE data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Suppress several informational messages.
    <div style="height: 1.00em;">&#x00A0;</div>
    In that case on the exit code can be used as an indication of verification
      success</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b>, <b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Display usage information and exit.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-!</b>, <b>--more-help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Pass the extended usage information through a pager.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b> [{<i>v|c|n</i> <b>--version</b>
    [{<i>v|c|n</i>}]}]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Output version of program and exit. The default mode is `v', a simple
      version. The `c' mode will print copyright information and `n' will print
      the full copyright notice.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>DANE TLSA RR generation</b>
<div>&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
To create a DANE TLSA resource record for a certificate (or public key) that was
  issued localy and may or may not be signed by a CA use the following command.
<div>&#x00A0;</div>
<br/>
<pre>
$ danetool --tlsa-rr --host www.example.com --load-certificate cert.pem
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To create a DANE TLSA resource record for a CA signed certificate, which will be
  marked as such use the following command.
<div>&#x00A0;</div>
<br/>
<pre>
$ danetool --tlsa-rr --host www.example.com --load-certificate cert.pem   --no-domain
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
The former is useful to add in your DNS entry even if your certificate is signed
  by a CA. That way even users who do not trust your CA will be able to verify
  your certificate using DANE.
<div style="height: 1.00em;">&#x00A0;</div>
In order to create a record for the CA signer of your certificate use the
  following.
<div>&#x00A0;</div>
<br/>
<pre>
$ danetool --tlsa-rr --host www.example.com --load-certificate cert.pem   --ca --no-domain
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To read a server's DANE TLSA entry, use:
<div>&#x00A0;</div>
<br/>
<pre>
$ danetool --check www.example.com --proto tcp --port 443
<br/>
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
To verify a server's DANE TLSA entry, use:
<div>&#x00A0;</div>
<br/>
<pre>
$ danetool --check www.example.com --proto tcp --port 443 --load-certificate chain.pem
<br/>
</pre>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
One of the following exit values will be returned:
<dl class="Bl-tag">
  <dt class="It-tag">0 (EXIT_SUCCESS)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Successful program execution.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">1 (EXIT_FAILURE)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    The operation failed or the command syntax was not valid.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">70 (EX_SOFTWARE)</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    libopts had an internal operational error. Please report it to
      autogen-users@lists.sourceforge.net. Thank you.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<br/>
 certtool (1)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Nikos Mavrogiannopoulos, Simon Josefsson and others; see
  /usr/share/doc/gnutls/AUTHORS for a complete list.
<h1 class="Sh" title="Sh" id="COPYRIGHT"><a class="selflink" href="#COPYRIGHT">COPYRIGHT</a></h1>
Copyright (C) 2000-2016 Free Software Foundation, and others all rights
  reserved. This program is released under the terms of the GNU General Public
  License, version 3 or later.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
Please send bug reports to: bugs@gnutls.org
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
This manual page was <i>AutoGen</i>-erated from the <b>danetool</b> option
  definitions.</div>
<table class="foot">
  <tr>
    <td class="foot-date">06 Jul 2016</td>
    <td class="foot-os">3.3.24</td>
  </tr>
</table>
</body>
</html>
