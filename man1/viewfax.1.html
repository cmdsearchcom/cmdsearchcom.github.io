<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>viewfax(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">viewfax(1)</td>
    <td class="head-vol">Local commands</td>
    <td class="head-rtitle">viewfax(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
viewfax - display fax files in an X11 window
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>viewfax</b> [<b>-fnluirvW24</b>] [<b>-h<i>height</i></b><i>]</i>
  [<b>-w<i>width</i></b><i>]</i> [<b>-z<i>zoom</i></b><i>]</i>
  [<b>-d<i>display</i></b><i>]</i> [<b>-g<i>wxh+x+y</i></b><i>]</i>
  [<b>-b<i>bell</i></b><i>]</i> [<b>-m<i>memory</i></b><i>]</i>
  <i>filename...</i>
<div>&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>viewfax</b> displays one or more fax files in an X11 window. The input files
  may be either raw, single-page faxes received by a fax modem with a program
  such as <b>mgetty(1),</b> or tiff files such as those used by <b>hylafax.</b>
  The first (or only) page of &quot;PC-Research&quot;-style (DigiFAX) files
  produced by the <b>ghostscript</b> dfaxhigh or dfaxlow drivers can also be
  displayed.
<div style="height: 1.00em;">&#x00A0;</div>
Input files using any common fax encoding such as group 3 (1 and 2 dimensional)
  and group 4 can be displayed.
<div style="height: 1.00em;">&#x00A0;</div>
The fax images are rendered at full resolution and then successively scaled down
  by a linear factor of 2 prior to display, until they fit on the screen. The
  display can be controlled interactively using mouse and keyboard commands. The
  left mouse button expands the image by a factor of two and the right button
  reduces it by the same factor. If the image is bigger than the available
  window size, the middle mouse button can be used to reposition it within the
  window. Hold down the middle button while dragging the image to its new
  position.
<div style="height: 1.00em;">&#x00A0;</div>
If the mouse has a scroll-wheel it can be used to move an oversized image
  vertically. With the shift key depressed, the wheel scrolls through the pages.
  The shift sense is inverted if <b>viewfax</b> is started with <b>-W</b> on the
  command-line.
<div style="height: 1.00em;">&#x00A0;</div>
Further interaction is controlled by single-key commands:
<dl class="Bl-tag">
  <dt class="It-tag"><b>h or Help</b></dt>
  <dd class="It-tag">displays a page of help information. Type 'q' to return to
      the original document.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>p or Prior or PgUP or - or BackSpace</b></dt>
  <dd class="It-tag">displays the previous page from the command-line list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>n or Next or PgDn or + or space</b></dt>
  <dd class="It-tag">displays the next page from the command-line list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift HOME</b></dt>
  <dd class="It-tag">displays the first page from the command-line list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift END</b></dt>
  <dd class="It-tag">displays the last page from the command-line list.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>z</b></dt>
  <dd class="It-tag">zoom in (same as right mouse button).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift Z</b></dt>
  <dd class="It-tag">zoom out (same as left mouse button).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>u</b></dt>
  <dd class="It-tag">turns the image upside down, which is useful if the fax was
      originally fed the wrong way into the machine.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift U</b></dt>
  <dd class="It-tag">turns this and all following pages upside down.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>l</b></dt>
  <dd class="It-tag">turns the image through 90 degrees, to view landscape
    text.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift L</b></dt>
  <dd class="It-tag">turns this and all following pages sideways.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>m</b></dt>
  <dd class="It-tag">produce a left/right mirror image of the page.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift M</b></dt>
  <dd class="It-tag">mirror this and all following pages.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cursor arrows</b></dt>
  <dd class="It-tag">reposition the displayed image if it exceeds the window
      size.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>HOME</b></dt>
  <dd class="It-tag">repositions so that the top left corner is visible.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>END</b></dt>
  <dd class="It-tag">makes the bottom right corner visible.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Print</b></dt>
  <dd class="It-tag">if the environment variable VIEWFAX_PRINT is defined, the
      current page is printed. All pages are printed with Shift Print.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>e</b></dt>
  <dd class="It-tag">if the environment variable VIEWFAX_EDIT is defined, the
      current page is passed to the editor. All input files can be edited with
      Shift e.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>q</b></dt>
  <dd class="It-tag">terminates the program.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Shift Q</b></dt>
  <dd class="It-tag">terminates the program with non-zero exit status. Can be
      used to abort a shell script, e.g. when the user is previewing an outbound
      fax and decides not to send it.</dd>
</dl>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>viewfax</b> is designed to &quot;do the right thing&quot; when given just a
  filename. Special cases can be handled with the following options. (Note that
  tiff-files contain a header which overrides the <b>-f, -n, -h, -w, -l,</b>
  <b>-m, </b>and <b>-u </b>flags.)
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">indicates that raw input files are fine resolution (7.7
      lines/mm) faxes. This is the default unless the filename begins with
      &quot;fn&quot;. Tiff and &quot;PC-Research&quot; (DigiFAX) files are
      self-specifying.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">indicates that raw input files are normal resolution (3.85
      lines/mm) faxes. Each fax line is duplicated in the displayed image to
      give approximately equal vertical and horizontal scales.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h<i>height</i></b></dt>
  <dd class="It-tag">specifies the number of fax lines. If this option is
      missing, <b>viewfax</b> counts the number of lines in the input file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w<i>width</i></b></dt>
  <dd class="It-tag">specifies the number of pixels in each scan-line. The
      default value is 1728.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">display in landscape mode.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u</b></dt>
  <dd class="It-tag">turn the image upside down.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">invert pixels (black/white).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">preferred warning style: 'a' for audible bell (console
      beep), 'v' for visible bell (flash the window), 'n' for neither. 'v' is
      the default.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d or -display</b></dt>
  <dd class="It-tag">use specified X server</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g or -geometry</b></dt>
  <dd class="It-tag">the preferred size and position of the window, specified as
      <i>width</i>x<i>height</i>+<i>x</i>+<i>y</i>. If a position is given (x
      and y values), <b>viewfax</b> asks the window manager to place the window
      there. The initial size of the window is constrained to be at most
      <i>width</i>x <i>height</i>.
    <div style="height: 1.00em;">&#x00A0;</div>
    If the window is subsequently resized due to the user zooming in or out, the
      geometry is taken as a constraint on the screen area which may be used by
      <b>viewfax.</b>
    <div style="height: 1.00em;">&#x00A0;</div>
    If you do not supply a geometry value, everything works fine with
      ICCCM-compliant window managers like <b>olwm, mwm, twm, </b>and
      <b>tvtwm</b>. When fully zoomed out the <b>viewfax</b> window will occupy
      the entire screen.
    <div style="height: 1.00em;">&#x00A0;</div>
    Users of <b>fvwm</b> will notice that the title bar and left border are
      moved off screen when <b>viewfax</b> repositions the window to (0,0). A
      workaround is to use -geometry +5+23 when using <b>fvwm.</b> The proper
      fix would be for someone to update the routine HandleConfigureRequest() in
      fvwm/events.c to correspond to the code in twm/events.c.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m<i>memory limit</i></b></dt>
  <dd class="It-tag">each page is kept in memory after being fetched and
      expanded, which saves time if the user returns to it in the same session.
      To prevent viewfax from using all the available swap space, a limit is
      placed on the total size of cached images. This defaults to 4 MBytes,
      enough for about 6 typical pages. If the memory limit is exceeded, old
      images are discarded and must be reloaded from disk if the user returns to
      them. The operation of this mechanism is transparent apart from the
      occasional delays due to reloading. The value specified on the command
      line can be suffixed <b>k</b> or <b>m</b> for kilo- or megabytes.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">the bit order of the bytes in the input file is reversed.
      The fax specification deals only with serial data transmission. Modem
      manufacturers have to decide whether the first bit received should be
      placed in the most significant or the least significant position in a
      byte. The consensus is to pack most significant first, but the -r flag is
      available to deal with the opposite order.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">produce some informative messages (verbose mode).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z<i>zoom</i></b></dt>
  <dd class="It-tag">specifies an initial zoom factor. A full-scale fax will
      usually not fit on the screen. If the <b>-z</b> option is not specified,
      <b>viewfax</b> scales the image by a power of 2 such that it is fully
      visible at a reduced size. The user can then use the mouse buttons (see
      above) to view expanded portions of the image.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-2</b></dt>
  <dd class="It-tag">Assume that raw input files use group 3 two dimensional
      coding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-4</b></dt>
  <dd class="It-tag">Assume that raw input files use group 4 coding. The number
      of fax lines (-h option) is required in this case.</dd>
</dl>
<h1 class="Sh" title="Sh" id="ENVIRONMENT"><a class="selflink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>VIEWFAX_PRINT</b></dt>
  <dd class="It-tag">Defines a command that will print one or more fax pages.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>VIEWFAX_EDIT</b></dt>
  <dd class="It-tag">Defines a command that will calls an editor on one or more
      fax pages.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<div class="Pp"></div>
These two variables are optional. If a variable is undefined, the corresponding
  keyboard command is ignored. If the variable is defined, it should contain the
  name of a command or executable script that performs the desired function. The
  command should process a single page if called with a -p&#x00A0;
  <i>page-number</i> argument. Alternatively, if can be called with just a list
  of filenames, meaning that all pages should be processed.
<div style="height: 1.00em;">&#x00A0;</div>
Here is an oversimplified example of a print command. Note that it assumes that
  the format is tiff and will fail when handed a raw fax file.
<pre>
  VIEWFAX_PRINT=printfax
 
  /usr/local/bin/printfax:
  #!/bin/sh
  case &quot;$1&quot; in
  -p) shift
      dopt=`expr $1 - 1`
      shift
      tiff2ps -d ${dopt} -2 -h 11.69 -w 8.27 &quot;$1&quot; | lp
      ;;
  *)  tiff2ps -2 -h 11.69 -w 8.27 &quot;$*&quot; | lp
      ;;
  esac
</pre>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>mgetty</b> (http://alpha.greenie.net/mgetty/) controls data/fax/voice modems.
<div style="height: 1.00em;">&#x00A0;</div>
<b>hylafax</b> (http://www.hylafax.org/) is a full-function fax client/server
  system.
<div style="height: 1.00em;">&#x00A0;</div>
<b>g3topbm(1)</b> and <b>xv(1)</b> can be used in a pipeline to view faxes. This
  will usually be slower than using <b>viewfax,</b> but <b>xv</b> has many
  capabilities for manipulating the image and saving it in other formats.
<div style="height: 1.00em;">&#x00A0;</div>
<b>faxview.tcl,</b>
  (ftp://ftp.leo.org/pub/comp/os/unix/networking/mgetty/faxview.tcl.gz) a simple
  dialog for viewing FAX messages by Ralph Schleicher (rs@purple.in-ulm.de).
  This is a useful tool which provides a file menu from which incoming faxes can
  be selected for display with <b>viewfax.</b>
<div style="height: 1.00em;">&#x00A0;</div>
<div style="height: 1.00em;">&#x00A0;</div>
CCITT (now ITU) Recommendation T.4, <i>Standardization of Group 3 Facsimile
  Apparatus for Document</i> <i>Transmission.</i>
<div style="height: 1.00em;">&#x00A0;</div>
CCITT (now ITU) Recommendation T.6, <i>Facsimile Coding Schemes and Coding
  Control Functions for Group 4</i> <i>Facsimile Apparatus.</i>
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
The user interface does not comply with any known style guide.
<div>&#x00A0;</div>
The help text looks moth-eaten because it is encoded as a fax. This avoids
  dealing with X11 fonts.
<div>&#x00A0;</div>
The program does not refer to the X resources database.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Frank D. Cringle (fdc@cliwe.ping.de).</div>
<table class="foot">
  <tr>
    <td class="foot-date">14 November 2004</td>
    <td class="foot-os">Frank&#x00B4;s Hacks</td>
  </tr>
</table>
</body>
</html>
