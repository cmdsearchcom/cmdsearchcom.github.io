<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>HWLOC-BIND(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">HWLOC-BIND(1)</td>
    <td class="head-vol">hwloc</td>
    <td class="head-rtitle">HWLOC-BIND(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
hwloc-bind - Launch a command that is bound to specific processors and/or
  memory, or consult the binding of an existing program
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>hwloc-bind</b> [ <i>options</i>] <i>&lt;location1&gt; [&lt;location2&gt;
  [...] ] [--] &lt;command&gt; </i>...
<div class="Pp"></div>
Note that hwloc(7) provides a detailed explanation of the hwloc system and of
  valid &lt;location&gt; formats; it should be read before reading this man
  page.
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--cpubind</b></dt>
  <dd class="It-tag">Use following arguments for CPU binding (default).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--membind</b></dt>
  <dd class="It-tag">Use following arguments for memory binding. If
      <b>--mempolicy</b> is not also given, the default policy is bind.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--mempolicy</b> &lt;policy&gt;</dt>
  <dd class="It-tag">Change the memory binding policy. The available policies
      are default, firsttouch, bind, interleave replicate and nexttouch. This
      option is only meaningful when an actual binding is also given with
      <b>--membind</b>. If <b>--membind</b> is given without <b>--mempolicy</b>,
      the default policy is bind.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--get</b></dt>
  <dd class="It-tag">Report the current bindings.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">When a command is given, the binding is displayed before
      executing the command. When no command is given, the program exits after
      displaying the current binding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">When combined with <b>--membind</b>, report the memory
      binding instead of CPU binding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">No location may be given since no binding is performed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b> <b>--get-last-cpu-location</b></dt>
  <dd class="It-tag">Report the last processors where the process ran. Note that
      the result may already be outdated when reported since the operating
      system may move the process to other processors at any time according to
      the binding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">When a command is given, the last processors is displayed
      before executing the command. When no command is given, the program exits
      after displaying the last processors.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">This option cannot be combined with <b>--membind</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x00A0;</dt>
  <dd class="It-tag">No location may be given since no binding is performed.
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--single</b></dt>
  <dd class="It-tag">Bind on a single CPU to prevent migration.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--strict</b></dt>
  <dd class="It-tag">Require strict binding.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--pid</b> &lt;pid&gt;</dt>
  <dd class="It-tag">Operate on pid &lt;pid&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b> <b>--physical</b></dt>
  <dd class="It-tag">take OS/physical indexes instead of logical indexes</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> <b>--logical</b></dt>
  <dd class="It-tag">take logical indexes instead of physical/OS indexes
      (default)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--taskset</b></dt>
  <dd class="It-tag">Display CPU set strings in the format recognized by the
      taskset command-line program instead of hwloc-specific CPU set string
      format. This option has no impact on the format of input CPU set strings,
      both formats are always accepted.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--restrict</b> &lt;cpuset&gt;</dt>
  <dd class="It-tag">Restrict the topology to the given cpuset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--whole-system</b></dt>
  <dd class="It-tag">Do not consider administration limitations.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b> <b>--force</b></dt>
  <dd class="It-tag">Launch the executable even if binding failed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b> <b>--quiet</b></dt>
  <dd class="It-tag">Hide non-fatal error messages. It includes locations
      pointing to non-existing objects, as well as failure to bind. This is
      usually useful in addition to <b>--force</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b> <b>--verbose</b></dt>
  <dd class="It-tag">Verbose output.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--version</b></dt>
  <dd class="It-tag">Report version and exit.</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
hwloc-bind execs an executable (with optional command line arguments) that is
  bound to the specified location (or list of locations). Upon successful
  execution, hwloc-bind simply sets bindings and then execs the executable over
  itself.
<div class="Pp"></div>
If binding fails, or if the binding set is empty, and <b>--force</b> was not
  given, hwloc-bind returns with an error instead of launching the executable.
<div class="Pp"></div>
<b>NOTE:</b> It is highly recommended that you read the hwloc(7) overview page
  before reading this man page. Most of the concepts described in hwloc(7)
  directly apply to the hwloc-bind utility.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
hwloc-bind's operation is best described through several examples. More details
  about how locations are specified on the hwloc-bind command line are described
  in hwloc(7).
<div class="Pp"></div>
To run the echo command on the first logical processor of the second package:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind package:1.pu:0 -- echo hello
<div style="height: 1.00em;">&#x00A0;</div>
which is exactly equivalent to
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind package:1.pu:0 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To bind the &quot;echo&quot; command to the first core of the second package and
  the second core of the first package:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind package:1.core:0 package:0.core:1 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
Note that binding the &quot;echo&quot; command to multiple processors is
  probably meaningless (because &quot;echo&quot; is likely implemented as a
  single-threaded application); these examples just serve to show what
  hwloc-bind can do.
<div class="Pp"></div>
To run on the first three packages on the second and third nodes:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind node:1-2.package:0:3 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
which is also equivalent to:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind node:1-2.package:0-2 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
Note that if you attempt to bind to objects that do not exist, hwloc-bind will
  not warn unless <i>-v</i> was specified.
<div style="height: 1.00em;">&#x00A0;</div>
To run on processor with physical index 2 in package with physical index 1:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind --physical package:1.core:2 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To run on odd cores within even packages:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind package:even.core:odd echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To run on the first package, except on its second and fifth cores:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind package:0 ~package:0.core:1 ~package:0.core:4 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To run anywhere except on the first package:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind all ~package:0 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To run on a core near the network interface named eth0:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind os=eth0 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To run on a core near the PCI device whose bus ID is 0000:01:02.0:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind pci=0000:01:02.0 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
To bind memory on second memory node and run on first node (when supported by
  the OS):
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind --cpubind node:1 --membind node:0 echo hello
<div style="height: 1.00em;">&#x00A0;</div>
The --get option can report current bindings. This example shows nesting
  hwloc-bind invocations to set a binding and then report it:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind node:1.package:2 hwloc-bind --get
<div style="height: 1.00em;">&#x00A0;</div>
On one of the hwloc developer's machines, this example reports
  &quot;0x00004444,0x44000000&quot;. The mask reported on your machine may be
  different.
<div class="Pp"></div>
Locations may also be specified as a hex bit mask (typically generated by
  hwloc-calc). For example:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind 0x00004444,0x44000000 echo hello
<br/>
 hwloc-bind `hwloc-calc node:1.package:2` echo hello
<div style="height: 1.00em;">&#x00A0;</div>
Memory binding may also be reported:
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind --membind node:1 --mempolicy interleave -- hwloc-bind --get
  --membind
<div style="height: 1.00em;">&#x00A0;</div>
This returns a string describing the memory binding, such as &quot;0x000000f0
  (interleave)&quot;. Note that if the system does not contain any NUMA nodes,
  the reported string will indicate that the process is bound to the entire
  system memory (e.g., &quot;0xf...f&quot;).
<h1 class="Sh" title="Sh" id="HINT"><a class="selflink" href="#HINT">HINT</a></h1>
If the graphics-enabled lstopo is available, use for instance
<div style="height: 1.00em;">&#x00A0;</div>
<br/>
 hwloc-bind core:2 -- lstopo --pid 0
<div style="height: 1.00em;">&#x00A0;</div>
to check what the result of your binding command actually is. lstopo will
  graphically show where it is bound to by hwloc-bind.
<h1 class="Sh" title="Sh" id="RETURN_VALUE"><a class="selflink" href="#RETURN_VALUE">RETURN
  VALUE</a></h1>
Upon successful execution, hwloc-bind execs the command over itself. The return
  value is therefore whatever the return value of the command is.
<div class="Pp"></div>
hwloc-bind will return nonzero if any kind of error occurs, such as (but not
  limited to): failure to parse the command line, failure to retrieve process
  bindings, or lack of a command to execute.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
hwloc(7), lstopo(1), hwloc-calc(1), hwloc-distrib(1)
<div style="height: 1.00em;">&#x00A0;</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 17, 2015</td>
    <td class="foot-os">1.11.2</td>
  </tr>
</table>
</body>
</html>
