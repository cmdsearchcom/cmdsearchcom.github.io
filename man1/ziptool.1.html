<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>ZIPTOOL(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">ZIPTOOL(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">ZIPTOOL(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<b>ziptool</b> - modify zip archives
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 8.00ex; text-indent: -8.00ex;"><b>ziptool</b>
  [ <b>-cegHhmnrst</b>] [ <b>-l</b>&#x00A0;<i>length</i>] [
  <b>-o</b>&#x00A0;<i>offset</i>] <i>zip-archive</i>
  <b>command</b>&#x00A0;[<i>command-args&#x00A0;...</i>] [
  <b>command</b>&#x00A0;[ <i>command-args&#x00A0;...</i>]&#x00A0;...]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>ziptool</b> modifies the zip archive <i>zip-archive</i> according to the
  <i>commands</i> given.
<div class="Pp"></div>
Supported options:
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Check zip archive consistency when opening it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b></dt>
  <dd class="It-tag">Error if archive already exists (only useful with
      <b>-n</b>).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag">Guess file name encoding (for <b>stat</b> command).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H</b></dt>
  <dd class="It-tag">Write files with &#x201C;holes&#x201D; compactly. In other
      words, when the modified zip archive contains long runs of zeroes, write a
      basic run-length encoded block instead. <i>Note</i>: This command is for
      internal testing of libzip(3) and will usually create invalid zip
      archives.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Display help.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b> <i>length</i></dt>
  <dd class="It-tag">Only read <i>length</i> bytes of archive. See also
      <b>-o</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b></dt>
  <dd class="It-tag">Read archive into memory, and modify there; write out at
      end. <i>Note</i>: This command is for internal testing of libzip(3).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Create archive if it doesn't exist. See also
    <b>-e</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b> <i>offset</i></dt>
  <dd class="It-tag">Start reading input archive from <i>offset</i>. See also
      <b>-l</b>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">Print raw file name encoding without translation (for
      <b>stat</b> command).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">Follow file name convention strictly (for <b>stat</b>
      command).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Disregard current file contents, if any. <i>Note</i>: use
      this with care, it deletes all existing file contents when you modify the
      archive.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Commands"><a class="selflink" href="#Commands">Commands</a></h2>
For all commands below, the index is zero-based. In other words, the first entry
  in the zip archive has index 0.
<div class="Pp"></div>
Supported commands and arguments are:
<dl class="Bl-tag">
  <dt class="It-tag"><b>add</b> <i>name content</i></dt>
  <dd class="It-tag">Add file called <i>name</i> using the string <i>content</i>
      from the command line as data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>add_dir</b> <i>name</i></dt>
  <dd class="It-tag">Add directory <i>name</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>add_file</b> <i>name file_to_add offset len</i></dt>
  <dd class="It-tag">Add file <i>name</i> to archive, using <i>len</i> bytes
      from the file <i>file_to_add</i> as input data, starting at
    <i>offset</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>add_from_zip</b> <i>name archivename index offset
    len</i></dt>
  <dd class="It-tag">Add file called <i>name</i> to archive using data from
      another zip archive <i>archivename</i> using the entry with index
      <i>index</i> and reading <i>len</i> bytes from <i>offset</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>add_nul</b> <i>name length</i></dt>
  <dd class="It-tag">Add a file <i>name</i> consisting of <i>length</i> NUL
      bytes. (Mostly useful for testing.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>cat</b> <i>index</i></dt>
  <dd class="It-tag">Output file contents for entry <i>index</i> to stdout.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>count_extra</b> <i>index flags</i></dt>
  <dd class="It-tag">Print the number of extra fields for archive entry
      <i>index</i> using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>count_extra_by_id</b> <i>index extra_id flags</i></dt>
  <dd class="It-tag">Print number of extra fields of type <i>extra_id</i> for
      archive entry <i>index</i> using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete</b> <i>index</i></dt>
  <dd class="It-tag">Remove entry at <i>index</i> from zip archive.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete_extra</b> <i>index extra_idx flags</i></dt>
  <dd class="It-tag">Remove extra field number <i>extra_idx</i> from archive
      entry <i>index</i> using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>delete_extra_by_id</b> <i>index extra_id extra_index
    flags</i></dt>
  <dd class="It-tag">Remove extra field number <i>extra_index</i> of type
      <i>extra_id</i> from archive entry <i>index</i> using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_archive_comment</b></dt>
  <dd class="It-tag">Print archive comment.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_extra</b> <i>index extra_index flags</i></dt>
  <dd class="It-tag">Print extra field <i>extra_index</i> for archive entry
      <i>index</i> using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_extra_by_id</b> <i>index extra_id extra_index
    flags</i></dt>
  <dd class="It-tag">Print extra field <i>extra_index</i> of type
      <i>extra_id</i> for archive entry <i>index</i> using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_file_comment</b> <i>index</i></dt>
  <dd class="It-tag">Get file comment for archive entry <i>index</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>get_num_entries</b> <i>flags</i></dt>
  <dd class="It-tag">Print number of entries in archive using <i>flags</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>name_locate</b> <i>name flags</i></dt>
  <dd class="It-tag">Find entry in archive with the filename <i>name</i> using
      <i>flags</i> and print its index.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>rename</b> <i>index name</i></dt>
  <dd class="It-tag">Rename archive entry <i>index</i> to <i>name</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>replace_file_contents</b> <i>index data</i></dt>
  <dd class="It-tag">Replace file contents for archive entry <i>index</i> with
      the string <i>data</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_archive_comment</b> <i>comment</i></dt>
  <dd class="It-tag">Set archive comment to <i>comment</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_extra</b> <i>index extra_id extra_index flags
    value</i></dt>
  <dd class="It-tag">Set extra field number <i>extra_index</i> of type
      <i>extra_id</i> for archive entry <i>index</i> using <i>flags</i> to
      <i>value</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_file_comment</b> <i>index comment</i></dt>
  <dd class="It-tag">Set file comment for archive entry <i>index</i> to string
      <i>comment</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_file_compression</b> <i>index method
    compression_flags</i></dt>
  <dd class="It-tag">Set file compression method for archive entry <i>index</i>
      to <i>method</i> using <i>compression_flags</i>. <i>Note</i>: Currently,
      <i>compression_flags</i> are ignored.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_file_encryption</b> <i>index method
    password</i></dt>
  <dd class="It-tag">Set file encryption method for archive entry <i>index</i>
      to <i>method</i> with password <i>password</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_file_mtime</b> <i>index timestamp</i></dt>
  <dd class="It-tag">Set file modification time for archive entry <i>index</i>
      to UNIX mtime <i>timestamp</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_file_mtime_all</b> <i>timestamp</i></dt>
  <dd class="It-tag">Set file modification time for all archive entries to UNIX
      mtime <i>timestamp</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>set_password</b> <i>password</i></dt>
  <dd class="It-tag">Set default password for encryption/decryption to
      <i>password</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>stat</b> <i>index</i></dt>
  <dd class="It-tag">Print information about archive entry <i>index</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>unchange_all</b></dt>
  <dd class="It-tag">Revert all changes up to that point. Mostly useful for
      testing.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>zin_close</b> <i>index</i></dt>
  <dd class="It-tag">Close input zip_source <i>index</i>. For internal tests
      only.</dd>
</dl>
<h2 class="Ss" title="Ss" id="Flags"><a class="selflink" href="#Flags">Flags</a></h2>
Some commands take flag arguments. Supported flags are:
<div style="margin-left: 6.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><i>C</i></dt>
  <dd class="It-tag">ZIP_FL_NOCASE</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>c</i></dt>
  <dd class="It-tag">ZIP_FL_CENTRAL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>d</i></dt>
  <dd class="It-tag">ZIP_FL_NODIR</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>l</i></dt>
  <dd class="It-tag">ZIP_FL_LOCAL</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><i>u</i></dt>
  <dd class="It-tag">ZIP_FL_UNCHANGED</dd>
</dl>
</div>
<h2 class="Ss" title="Ss" id="Compression_Methods"><a class="selflink" href="#Compression_Methods">Compression
  Methods</a></h2>
Some commands take compression method arguments. Supported methods are:
<div style="margin-left: 6.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">default</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">deflate</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">store</dd>
</dl>
</div>
<h2 class="Ss" title="Ss" id="Encryption_Methods"><a class="selflink" href="#Encryption_Methods">Encryption
  Methods</a></h2>
Some commands take encryption method arguments. Supported methods are:
<div style="margin-left: 6.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">none</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">AES-128</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">AES-192</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>&#x2022;</b></dt>
  <dd class="It-tag">AES-256</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="EXIT_STATUS"><a class="selflink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
The <b>ziptool</b> utility exits&#x00A0;0 on success, and&#x00A0;&gt;0 if an
  error occurs.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
Add a file called <i>teststring.txt</i> to the zip archive <i>testbuffer.zip</i>
  with data &#x201C;This is a test.\n&#x201D; where &#x201C;\n&#x201D; is
  replaced with a newline character:
<pre>
<div style="height: 1.00em;">&#x00A0;</div>
</pre>
<div style="margin-left: 6.00ex;">
<pre>
ziptool testbuffer.zip add teststring.txt \&quot;This is a test.\n\&quot;
</pre>
</div>
<br/>
<div class="Pp"></div>
Delete the first file from the zip archive <i>testfile.zip</i>:
<pre>
<div style="height: 1.00em;">&#x00A0;</div>
</pre>
<div style="margin-left: 6.00ex;">
<pre>
ziptool testfile.zip delete 0
</pre>
</div>
<br/>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
zipcmp(1), zipmerge(1), libzip(3)
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Dieter Baron &lt; <i>dillo@nih.at</i>&gt; and Thomas Klausner &lt;
  <i>tk@giga.or.at</i>&gt;</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 16, 2016</td>
    <td class="foot-os">NiH</td>
  </tr>
</table>
</body>
</html>
