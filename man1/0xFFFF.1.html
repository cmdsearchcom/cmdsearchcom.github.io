<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>0xFFFF(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">0xFFFF(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">0xFFFF(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
0xFFFF - Open Free Fiasco Firmware Flasher, version 0.7
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>0xFFFF</b> <i>[options]</i>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
0xFFFF is Open Free Fiasco Firmware Flasher for Maemo devices. It support
  generating and unpacking FIASCO images on local computer. Useful for editing
  Maemo firmware package for future flash. It support via USB flashing any image
  type to Maemo device and also &quot;cold&quot; flashing which means flashing
  dead device with erased bootloader. There is support for booting kernel via
  USB without flashing to NAND and also changing configuration of Maemo device
  (enable/disable R&amp;D mode, changing HW revision strings, ...).
<div style="height: 1.00em;">&#x00A0;</div>
0xFFFF is alternative tool to proprietary Nokia flasher-3.5 and fiasco-gen.
  0xFFFF generate compatible FIASCO images and also accept FIASCO images
  generated by Nokia fiasco-gen.
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Operations:"><a class="selflink" href="#Operations:">Operations:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b [cmdline]</b></dt>
  <dd class="It-tag">boot default or loaded kernel (default: no cmdline)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b update</b></dt>
  <dd class="It-tag">boot default or loaded kernel to Update mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">reboot device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">load kernel and initfs images to RAM</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">flash all specified images</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">cold flash 2nd and secondary images</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x [/dev/mtd]</b></dt>
  <dd class="It-tag">check for bad blocks on mtd device (default: all)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E file</b></dt>
  <dd class="It-tag">dump all device images to one fiasco image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e [dir]</b></dt>
  <dd class="It-tag">dump all device images (or one -t) to directory (default:
      current)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Device_configuration:"><a class="selflink" href="#Device_configuration:">Device
  configuration:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I</b></dt>
  <dd class="It-tag">identify, show all information about device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D 0|1|2</b></dt>
  <dd class="It-tag">change root device: 0 - flash, 1 - mmc, 2 - usb</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U 0|1</b></dt>
  <dd class="It-tag">disable/enable USB host mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R 0|1</b></dt>
  <dd class="It-tag">disable/enable R&amp;D mode</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F flags</b></dt>
  <dd class="It-tag">change R&amp;D flags, flags are comma separated list, can
      be empty</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H rev</b></dt>
  <dd class="It-tag">change HW revision</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N ver</b></dt>
  <dd class="It-tag">change NOLO version string</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K ver</b></dt>
  <dd class="It-tag">change kernel version string</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T ver</b></dt>
  <dd class="It-tag">change initfs version string</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S ver</b></dt>
  <dd class="It-tag">change SW release version string</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C ver</b></dt>
  <dd class="It-tag">change content eMMC version string
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Input_image_specification:"><a class="selflink" href="#Input_image_specification:">Input
  image specification:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M file</b></dt>
  <dd class="It-tag">specify fiasco image</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m arg</b></dt>
  <dd class="It-tag">specify normal image
    <div>&#x00A0;</div>
    arg is [[[dev:[hw:]]ver:]type:]file[%lay]
    <div>&#x00A0;</div>
    dev is device name string (default: empty)
    <div>&#x00A0;</div>
    hw are comma separated list of HW revisions (default: empty)
    <div>&#x00A0;</div>
    ver is image version string (default: empty)
    <div>&#x00A0;</div>
    type is image type (default: autodetect)
    <div>&#x00A0;</div>
    file is image file name
    <div>&#x00A0;</div>
    lay is layout file name (default: none)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Image_filters:"><a class="selflink" href="#Image_filters:">Image
  filters:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t type</b></dt>
  <dd class="It-tag">filter images by type</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d dev</b></dt>
  <dd class="It-tag">filter images by device</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w hw</b></dt>
  <dd class="It-tag">filter images by HW revision
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Fiasco_image:"><a class="selflink" href="#Fiasco_image:">Fiasco
  image:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-u [dir]</b></dt>
  <dd class="It-tag">unpack fiasco image to directory (default: current)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g file[%sw]</b></dt>
  <dd class="It-tag">generate fiasco image with SW rel version (default: no
      version)
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Other_options:"><a class="selflink" href="#Other_options:">Other
  options:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">identify images</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">simulate, do not flash or write on disk</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">disable hash, checksum and image type checking</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">be verbose and noisy</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">show this help message
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="R&amp;D_flags:"><a class="selflink" href="#R&amp;D_flags:">R&amp;D
  flags:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>no-omap-wd</b></dt>
  <dd class="It-tag">disable auto reboot by OMAP watchdog</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>no-ext-wd</b></dt>
  <dd class="It-tag">disable auto reboot by external watchdog</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>no-lifeguard-reset</b></dt>
  <dd class="It-tag">disable auto reboot by software lifeguard</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>serial-console</b></dt>
  <dd class="It-tag">enable serial console</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>no-usb-timeout</b></dt>
  <dd class="It-tag">disable usb timeout for flashing</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>sti-console</b></dt>
  <dd class="It-tag">enable sti console</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>no-charging</b></dt>
  <dd class="It-tag">disable battery charging</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>force-power-key</b></dt>
  <dd class="It-tag">force omap boot reason to power key
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Supported_devices:"><a class="selflink" href="#Supported_devices:">Supported
  devices:</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>SU-18</b></dt>
  <dd class="It-tag">Nokia 770</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RX-34</b></dt>
  <dd class="It-tag">Nokia N800</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RX-44</b></dt>
  <dd class="It-tag">Nokia N810</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RX-48</b></dt>
  <dd class="It-tag">Nokia N810 Wimax</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RX-51</b></dt>
  <dd class="It-tag">Nokia N900</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RM-680</b></dt>
  <dd class="It-tag">Nokia N950</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>RM-696</b></dt>
  <dd class="It-tag">Nokia N9
    <div style="height: 1.00em;">&#x00A0;</div>
  </dd>
</dl>
<h1 class="Sh" title="Sh" id="Supported_image_types:"><a class="selflink" href="#Supported_image_types:">Supported
  image types:</a></h1>
xloader
<div>&#x00A0;</div>
2nd
<div>&#x00A0;</div>
secondary
<div>&#x00A0;</div>
kernel
<div>&#x00A0;</div>
initfs
<div>&#x00A0;</div>
rootfs
<div>&#x00A0;</div>
mmc
<div>&#x00A0;</div>
cmt-2nd
<div>&#x00A0;</div>
cmt-algo
<div>&#x00A0;</div>
cmt-mcusw
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="Supported_connection_protocols:"><a class="selflink" href="#Supported_connection_protocols:">Supported
  connection protocols:</a></h1>
Local on device
<div>&#x00A0;</div>
NOLO via USB
<div>&#x00A0;</div>
Cold flashing via USB
<div>&#x00A0;</div>
Mk II protocol via USB
<div>&#x00A0;</div>
RAW disk via USB
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>Via USB:</b>
<div class="Pp"></div>
<b>Identify device:</b>
<pre>
$ 0xFFFF -I
</pre>
<div class="Pp"></div>
<b>Load kernel &amp; initfs and boot it with cmdline:</b>
<pre>
$ 0xFFFF -m initfs:&lt;file&gt; -m kernel:&lt;file&gt; -l -b &quot;&lt;cmdline&gt;&quot;
</pre>
<div class="Pp"></div>
<b>Flash kernel and reboot:</b>
<pre>
$ 0xFFFF -m kernel:&lt;file&gt; -f -r
</pre>
<div class="Pp"></div>
<b>Flash FIASCO image and reboot:</b>
<pre>
$ 0xFFFF -M &lt;file&gt; -f -r
</pre>
<div class="Pp"></div>
<b>Flash only kernel from FIASCO image and reboot:</b>
<pre>
$ 0xFFFF -M &lt;file&gt; -t kernel -f -r
</pre>
<div class="Pp"></div>
<b>Cold-Flash 2nd and secondary bootloaders:</b>
<pre>
$ 0xFFFF -m 2nd:&lt;file&gt; -m secondary:&lt;file&gt; -c
</pre>
<div class="Pp"></div>
<b>On device (need nanddump from mtd-utils):</b>
<div class="Pp"></div>
<b>Dump all images to current directory:</b>
<pre>
$ 0xFFFF -e
</pre>
<div class="Pp"></div>
<b>Dump all images to one FIASCO file:</b>
<pre>
$ 0xFFFF -E &lt;file&gt;
</pre>
<div class="Pp"></div>
<b>FIASCO packaging:</b>
<div class="Pp"></div>
<b>Show FIASCO image content:</b>
<pre>
$ 0xFFFF -M &lt;file&gt; -i
</pre>
<div class="Pp"></div>
<b>Unpack FIASCO image to current directory:</b>
<pre>
$ 0xFFFF -M &lt;file&gt; -u
</pre>
<div class="Pp"></div>
<b>Generate new FIASCO image image.fiasco from files xloader.bin, nolo.bin,
  zImage, rootfs and append device&amp;version information (xloader for RX-51 hw
  revision: 2101 and 2102, version 1.0)</b>
<pre>
$ 0xFFFF -m RX-51:2101,2102:1.0:xloader:xloader.bin -m RX-51:2101,2102:1.0:secondary:nolo.bin -m 2.6.28:kernel:zImage -m rootfs -g image.fiasco
</pre>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Dec 25 2016</td>
    <td class="foot-os">0xFFFF 0.7</td>
  </tr>
</table>
</body>
</html>
