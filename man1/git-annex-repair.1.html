<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:13:12 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>git-annex-repair(1) General Commands Manual
git-annex-repair(1)</p>

<p style="margin-top: 1em">NAME <br>
git-annex-repair - recover broken git repository</p>

<p style="margin-top: 1em">SYNOPSIS <br>
git annex repair</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This can repair many of the problems with git repositories
that git fsck detects, but does not itself fix. It&rsquo;s
useful if a repository has become badly damaged. One way
this can <br>
happen is if a repository used by git-annex is on a
removable drive that gets unplugged at the wrong time.</p>

<p style="margin-top: 1em">This command can actually be
used inside git repositories that do not use git-annex at
all; when used in a repository using git-annex, it does
additional repairs of the git-annex <br>
branch.</p>

<p style="margin-top: 1em">It works by deleting any corrupt
objects from the git repository, and retrieving all missing
objects it can from the remotes of the repository.</p>

<p style="margin-top: 1em">If that is not sufficient to
fully recover the repository, it can also reset branches
back to commits before the corruption happened, delete
branches that are no longer available <br>
due to the lost data, and remove any missing files from the
index. It will only do this if run with the --force option,
since that rewrites history and throws out missing data.
<br>
Note that the --force option never touches tags, even if
they are no longer usable due to missing data.</p>

<p style="margin-top: 1em">After running this command, you
will probably want to run git fsck to verify it fixed the
repository. Note that fsck may still complain about objects
referenced by the reflog, or <br>
the stash, if they were unable to be recovered. This command
does not try to clean up either the reflog or the stash.</p>

<p style="margin-top: 1em">It is also a good idea to run
git annex fsck --fast after this command, to make sure that
the git-annex branch reflects reality.</p>

<p style="margin-top: 1em">OPTIONS <br>
--force</p>

<p style="margin-top: 1em">Enable repair actions that
involve deleting data that has been lost due to git
repository corruption.</p>

<p style="margin-top: 1em">SEE ALSO <br>
git-annex(1)</p>

<p style="margin-top: 1em">git-annex-fsck(1)</p>

<p style="margin-top: 1em">AUTHOR <br>
Joey Hess &lt;id@joeyh.name&gt;</p>
 
<p style="margin-top: 1em">git-annex-repair(1)</p>
<hr>
</body>
</html>
