<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>GLIMPSE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">GLIMPSE(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">GLIMPSE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
glimpse - search quickly through entire file systems
<h1 class="Sh" title="Sh" id="OVERVIEW"><a class="selflink" href="#OVERVIEW">OVERVIEW</a></h1>
<i>Glimpse</i> (which stands for GLobal IMPlicit SEarch) is a very popular UNIX
  indexing and query system that allows you to search through a large set of
  files very quickly. Glimpse supports most of <i>agrep</i>'s options (
  <i>agrep</i> is our powerful version of <i>grep</i>) including approximate
  matching (e.g., finding misspelled words), Boolean queries, and even some
  limited forms of regular expressions. It is used in the same way, except that
  you don't have to specify file names. So, if you are looking for a
  <i>needle</i> anywhere in your file system, all you have to do is say
  <i>glimpse needle</i> and all lines containing <i>needle</i> will appear
  preceded by the file name.
<div class="Pp"></div>
To use glimpse you first need to index your files with glimpseindex. For
  example, <i>glimpseindex -o ~</i> will index everything at or below your home
  directory. See man glimpseindex for more details.
<div class="Pp"></div>
Glimpse is also available for web sites, as a set of tools called
  <i>WebGlimpse</i>. (The old glimpseHTTP is no longer supported and is not
  recommended.) See http://webglimpse.net/ for more information.
<div class="Pp"></div>
Glimpse includes all of agrep and can be used instead of agrep by giving a file
  name(s) at the end of the command. This will cause glimpse to ignore the index
  and run agrep as usual. For example, <i>glimpse -1 pattern file</i> is the
  same as <i>agrep -1</i> <i>pattern file</i>. Agrep is distributed as a
  self-contained package within glimpse, and can be used separately. We added a
  new option to agrep: -r searches recursively the directory and everything
  below it (see agrep options below); it is used only when glimpse reverts to
  agrep.
<div class="Pp"></div>
Mail majordomo@webglimpse.net with SUBSCRIBE wgusers in the body to be added to
  the Webglimpse users mailing list. This is now the location where glimpse
  questions are also discussed. Bugs can be reported at
  http://webglimpse.net/bugzilla/ HTML version of these manual pages can be
  found in http://webglimpse.net/docs/glimpsehelp.html Also, see the glimpse
  home pages in http://webglimpse.net/glimpse
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>glimpse</b> - [almost all letters] <i>pattern</i>
<h1 class="Sh" title="Sh" id="INTRODUCTION"><a class="selflink" href="#INTRODUCTION">INTRODUCTION</a></h1>
We start with simple ways to use glimpse and describe all the options in detail
  later on. Once an index is built, using glimpseindex, searching for
  <i>pattern</i> is as easy as saying
<div class="Pp"></div>
<i>glimpse pattern</i>
<div class="Pp"></div>
The output of glimpse is similar to that of <i>agrep</i> (or any other grep).
  The pattern can be any agrep legal pattern including a regular expression or a
  Boolean query (e.g., searching for Tucson AND Arizona is done by <i>glimpse
  'Tucson;Arizona'</i>).
<div class="Pp"></div>
The speed of glimpse depends mainly on the number and sizes of the files that
  contain a match and only to a second degree on the total size of all indexed
  files. If the pattern is reasonably uncommon, then all matches will be
  reported in a few seconds even if the indexed files total 500MB or more. Some
  information on how glimpse works and a reference to a detailed article are
  given below.
<div class="Pp"></div>
Most of agrep (and other grep's) options are supported, including approximate
  matching. For example,
<div class="Pp"></div>
<i>glimpse -1 'Tuson;Arezona'</i>
<div class="Pp"></div>
will output all lines containing both patterns allowing one spelling error in
  any of the patterns (either insertion, deletion, or substitution), which in
  this case is definitely needed.
<div class="Pp"></div>
<i>glimpse -w -i 'parent'</i>
<div class="Pp"></div>
specifies case insensitive (-i) and match on complete words (-w). So 'Parent'
  and 'PARENT' will match, 'parent/child' will match, but 'parenthesis' or
  'parents' will not match. (Starting at version 3.0, glimpse can be much faster
  when these two options are specified, especially for very large indexes. You
  may want to set an alias especially for &quot;glimpse -w -i&quot;.)
<div class="Pp"></div>
The -F option provides a pattern that must match the file name. For example,
<div class="Pp"></div>
<i>glimpse -F '\.c$' needle</i>
<div class="Pp"></div>
will find the pattern <i>needle</i> in all files whose name ends with .c.
  (Glimpse will first check its index to determine which files may contain the
  pattern and then run agrep on the file names to further limit the search.) The
  -F option <i>should not</i> be put at the end after the main pattern (e.g.,
  &quot;glimpse needle -F hay&quot; is incorrect).
<h1 class="Sh" title="Sh" id="A_Detailed_Description_of_All_the_Options_of_Glimpse"><a class="selflink" href="#A_Detailed_Description_of_All_the_Options_of_Glimpse">A
  Detailed Description of All the Options of Glimpse</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-<i>#</i></b></dt>
  <dd class="It-tag"><i>#</i> is an integer between 1 and 8 specifying the
      maximum number of errors permitted in finding the approximate matches (the
      default is zero). Generally, each insertion, deletion, or substitution
      counts as one error. It is possible to adjust the relative cost of
      insertions, deletions and substitutions (see -I -D and -S options). Since
      the index stores only lower case characters, errors of substituting upper
      case with lower case may be missed (see LIMITATIONS). Allowing errors in
      the match requires more time and can slow down the match by a factor of
      2-4. Be very careful when specifying more than one error, as the number of
      matches tend to grow very quickly.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-a</b></dt>
  <dd class="It-tag">prints attribute names. This option applies only to Harvest
      SOIF structured data (used with glimpseindex -s). (See
      http://harvest.sourceforge.net/ for more information about the Harvest
      project.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-A</b></dt>
  <dd class="It-tag">used for glimpse internals.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-b</b></dt>
  <dd class="It-tag">prints the byte offset (from the beginning of the file) of
      the end of each match. The first character in a file has offset 0.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-B</b></dt>
  <dd class="It-tag">Best match mode. (Warning: -B sometimes misses matches. It
      is safer to specify the number of errors explicitly.) When -B is specified
      and no exact matches are found, glimpse will continue to search until the
      closest matches (i.e., the ones with minimum number of errors) are found,
      at which point the following message will be shown: &quot;the best match
      contains x errors, there are y matches, output them? (y/n)&quot; This
      message refers to the number of matches found in the index. There may be
      many more matches in the actual text (or there may be none if -F is used
      to filter files). When the -#, -c, or -l options are specified, the -B
      option is ignored. In general, -B may be slower than -#, but not by very
      much. Since the index stores only lower case characters, errors of
      substituting upper case with lower case may be missed (see
    LIMITATIONS).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-c</b></dt>
  <dd class="It-tag">Display only the count of matching records. Only files with
      count &gt; 0 are displayed.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-C</b></dt>
  <dd class="It-tag">tells glimpse to send its queries to
    <i>glimpseserver</i>.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d '<i>delim</i>'</b></dt>
  <dd class="It-tag">Define <i>delim</i> to be the separator between two
      records. The default value is '$', namely a record is by default a line.
      <i>delim</i> can be a string of size at most 8 (with possible use of ^ and
      $), but not a regular expression. Text between two <i>delim</i>'s, before
      the first <i>delim</i>, and after the last <i>delim</i> is considered as
      one record. For example, -d '$$' defines paragraphs as records and -d
      '^From&#x00A0;' defines mail messages as records. <i>glimpse</i> matches
      each record separately. <b>This option does not currently work with
      regular expressions.</b> The -d option is especially useful for Boolean
      AND queries, because the patterns need not appear in the same line but in
      the same record. For example, <i>glimpse -F mail -d '^From&#x00A0;'
      'glimpse;arizona;announcement'</i> will output all mail messages (in their
      entirety) that have the 3 patterns anywhere in the message (or the
      header), assuming that files with 'mail' in their name contain mail
      messages. If you want the scope of the record to be the whole file, use
      the -W option. <b>Glimpse warning</b>: Use this option with care. If the
      delimiter is set to match mail messages, for example, and glimpse finds
      the pattern in a regular file, it may not find the delimiter and will
      therefore output the whole file. (The -t option - see below - can be used
      to put the <i>delim</i> at the end of the record.) <b>Performance
      Note:</b> Agrep (and glimpse) resorts to more complex search when the -d
      option is used. The search is slower and unfortunately no more than 32
      characters can be used in the pattern.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-D<i>k</i></b></dt>
  <dd class="It-tag">Set the cost of a deletion to <i>k</i> (<i>k</i> is a
      positive integer). This option does not currently work with regular
      expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-e</b><i> pattern</i></dt>
  <dd class="It-tag">Same as a simple <i>pattern</i> argument, but useful when
      the <i>pattern</i> begins with a `<b>-</b>'.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-E</b></dt>
  <dd class="It-tag">prints the lines in the index (as they appear in the index)
      which match the pattern. Used mostly for debugging and maintenance of the
      index. This is not an option that a user needs to know about.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f <i>file_name</i></b></dt>
  <dd class="It-tag">this option has a different meaning for agrep than for
      glimpse: In glimpse, only the files whose names are listed in
      <i>file_name</i> are matched. (The file names have to appear as in
      .glimpse_filenames.) In agrep, the file_name contains the list of the
      patterns that are searched. (Starting at version 3.6, this option for
      glimpse is much faster for large files.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-F <i>file_pattern</i></b></dt>
  <dd class="It-tag">limits the search to those files whose name (including the
      whole path) matches <i>file_pattern</i>. This option can be used in a
      variety of applications to provide limited search even for one large
      index. If <i>file_pattern</i> matches a directory, then all files with
      this directory on their path will be considered. To limit the search to
      actual file names, use $ at the end of the pattern. <i>file_pattern</i>
      can be a regular expression and even a Boolean pattern. This option is
      implemented by running agrep <i>file_pattern</i> on the list of file names
      obtained from the index. Therefore, searching the index itself takes the
      same amount of time, but limiting the second phase of the search to only a
      few files can speed up the search significantly. For example,
    <div style="height: 1.00em;">&#x00A0;</div>
    glimpse -F 'src#\.c$' needle
    <div style="height: 1.00em;">&#x00A0;</div>
    will search for needle in all .c files with src somewhere along the path.
      The -F <i>file_pattern</i> must appear before the search pattern (e.g.,
      glimpse needle -F '\.c$' will not work). It is possible to use some of
      agrep's options when matching file names. In this case all options as well
      as the file_pattern should be in quotes. (-B and -v do not work very well
      as part of a file_pattern.) For example,
    <div style="height: 1.00em;">&#x00A0;</div>
    glimpse -F '-1 \.html' pattern
    <div style="height: 1.00em;">&#x00A0;</div>
    will allow one spelling error when matching .html to the file names (so
      &quot;.htm&quot; and &quot;.shtml&quot; will match as well).
    <div style="height: 1.00em;">&#x00A0;</div>
    glimpse -F '-v \.c$' counter
    <div style="height: 1.00em;">&#x00A0;</div>
    will search for 'counter' in all files <i>except</i> for .c files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag">prints the file number (its position in the
      .glimpse_filenames file) rather than its name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-G</b></dt>
  <dd class="It-tag">Output the (whole) files that contain a match.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-h</b></dt>
  <dd class="It-tag">Do not display filenames.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-H <i>directory_name</i></b></dt>
  <dd class="It-tag">searches for the index and the other .glimpse files in
      <i>directory_name</i>. The default is the home directory. This option is
      useful, for example, if several different indexes are maintained for
      different archives (e.g., one for mail messages, one for source code, one
      for articles).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-i</b></dt>
  <dd class="It-tag">Case-insensitive search &#x2014; e.g., &quot;A&quot; and
      &quot;a&quot; are considered equivalent. Glimpse's index stores all
      patterns in lower case (see LIMITATIONS below). <b>Performance Note:</b>
      When -i is used together with the -w option, the search may become much
      faster. It is recommended to have -i and -w as defaults, for example,
      through an alias. We use the following alias in our .cshrc file
    <div>&#x00A0;</div>
    alias glwi 'glimpse -w -i'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-I<i>k</i></b></dt>
  <dd class="It-tag">Set the cost of an insertion to <i>k</i> (<i>k</i> is a
      positive integer). This option does not currently work with regular
      expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-j</b></dt>
  <dd class="It-tag">If the index was constructed with the -t option, then -j
      will output the files last modification dates in addition to everything
      else. There are no major performance penalties for this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-J <i>host_name</i></b></dt>
  <dd class="It-tag">used in conjunction with glimpseserver (-C) to connect to
      one particular server.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-k</b></dt>
  <dd class="It-tag">No symbol in the pattern is treated as a meta character.
      For example, glimpse -k 'a(b|c)*d' will find the occurrences of a(b|c)*d
      whereas glimpse 'a(b|c)*d' will find substrings that match the regular
      expression 'a(b|c)*d'. (The only exception is ^ at the beginning of the
      pattern and $ at the end of the pattern, which are still interpreted in
      the usual way. Use \^ or \$ if you need them verbatim.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-K <i>port_number</i></b></dt>
  <dd class="It-tag">used in conjunction with glimpseserver (-C) to connect to
      one particular server at the specified TCP port number.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-l</b></dt>
  <dd class="It-tag">Output only the files names that contain a match. This
      option differs from the -N option in that the files themselves <i>are</i>
      searched, but the matching lines are not shown.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-L x | x:y | x:y:z</b></dt>
  <dd class="It-tag">if one number is given, it is a limit on the total number
      of matches. Glimpse outputs only the first x matches. If -l is used (i.e.,
      only file names are sought), then the limit is on the number of files;
      otherwise, the limit is on the number of records. If two numbers are given
      (x:y), then y is an added limit on the total number of files. If three
      numbers are given (x:y:z), then z is an added limit on the number of
      matches per file. If any of the x, y, or z is set to 0, it means to ignore
      it (in other words 0 = infinity in this case); for example, -L 0:10 will
      output all matches to the first 10 files that contain a match. This option
      is particularly useful for servers that needs to limit the amount of
      output provided to clients.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-m</b></dt>
  <dd class="It-tag">used for glimpse internals.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-M</b></dt>
  <dd class="It-tag">used for glimpse internals.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Each matching record (line) is prefixed by its record
      (line) number in the file. <b>Performance Note:</b> To compute the
      record/line number, agrep needs to search for all record delimiters (or
      line breaks), which can slow down the search.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-N</b></dt>
  <dd class="It-tag">searches only the index (so the search is faster). If -o or
      -b are used then the result is the number of files that have a potential
      match plus a prompt to ask if you want to see the file names. (If -y is
      used, then there is no prompt and the names of the files will be shown.)
      This could be a way to get the matching file names without even having
      access to the files themselves. However, because only the index is
      searched, some potential matches may not be real matches. In other words,
      with -N you will not miss any file but you may get extra files. For
      example, since the index stores everything in lower case, a case-sensitive
      query may match a file that has only a case-insensitive match. Boolean
      queries may match a file that has all the keywords but not in the same
      line (indexing with -b allows glimpse to figure out whether the keywords
      are close, but it cannot figure out from the index whether they are
      exactly on the same line or in the same record without looking at the
      file). If the index was not build with -o or -b, then this option outputs
      the number of <i>blocks</i> matching the pattern. This is useful as an
      indication of how long the search will take. All files are partitioned
      into usually 200-250 blocks. The file <b>.glimpse_statistics</b> contains
      the total number of blocks (or <b>glimpse -N a</b> will give a pretty good
      estimate; only blocks with no occurrences of 'a' will be missed).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-o</b></dt>
  <dd class="It-tag">the opposite of -t: the delimiter is not output at the
      tail, but at the beginning of the matched record.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-O</b></dt>
  <dd class="It-tag">the file names are not printed before every matched record;
      instead, each filename is printed just once, and all the matched records
      within it are printed after it.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">(from version 4.0B1 only) Supports reading compressed set
      of filenames. The -p option allows you to utilize compressed
      `neighborhoods' (sets of filenames) to limit your search, without
      uncompressing them. Added mostly for WebGlimpse. The usage is:
    <div>&#x00A0;</div>
    &quot;-p filename:X:Y:Z&quot; where &quot;filename&quot; is the file with
      compressed neighborhoods, X is an offset into that file (usually 0, must
      be a multiple of sizeof(int)), Y is the length glimpse must access from
      that file (if 0, then whole file; must be a multiple of sizeof(int)), and
      Z must be 2 (it indicates that &quot;filename&quot; has the sparse-set
      representation of compressed neighborhoods: the other values are for
      internal use only). Note that any colon &quot;:&quot; in filename must be
      escaped using a backslash .</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-P</b></dt>
  <dd class="It-tag">used for glimpse internals.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-q</b></dt>
  <dd class="It-tag">prints the offsets of the beginning and end of each matched
      record. The difference between -q and -b is that -b prints the offsets of
      the actual matched string, while -q prints the offsets of the whole record
      where the match occurred. The output format is @x{y}, where x is the
      beginning offset and y is the end offset.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Q</b></dt>
  <dd class="It-tag">when used together with -N glimpse not only displays the
      filename where the match occurs, but the exact occurrences (offsets) as
      seen in the index. This option is relevant only if the index was built
      with -b; otherwise, the offsets are not available in the index. This
      option is ignored when used not with -N.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">This option is an agrep option and it will be ignored in
      glimpse, unless glimpse is used with a file name at the end which makes it
      run as agrep. If the file name is a directory name, the -r option will
      search (recursively) the whole directory and everything below it. (The
      glimpse index will not be used.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-R <i>k</i></b></dt>
  <dd class="It-tag">defines the maximum size (in bytes) of a record. The
      maximum value (which is the default) is 48K. Defining the maximum to be
      lower than the deafult may speed up some searches.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-s</b></dt>
  <dd class="It-tag">Work silently, that is, display nothing except error
      messages. This is useful for checking the error status.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-S<i>k</i></b></dt>
  <dd class="It-tag">Set the cost of a substitution to <i>k</i> (<i>k</i> is a
      positive integer). This option does not currently work with regular
      expressions.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-t</b></dt>
  <dd class="It-tag">Similar to the -d option, except that the delimiter is
      assumed to appear at the <i>end</i> of the record. Glimpse will output the
      record starting from the end of <i>delim</i> to (and including) the next
      <i>delim.</i> (See warning for the -d option.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-T directory</b></dt>
  <dd class="It-tag">Use <i>directory</i> as a place where temporary files are
      built. (Glimpse produces some small temporary files usually in /tmp.) This
      option is useful mainly in the context of structured queries for the
      Harvest project, where the temporary files may be non-trivial, and the
      /tmp directory may not have enough space for them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-U</b></dt>
  <dd class="It-tag">(starting at version 4.0B1) Interprets an index created
      with the -X or the -U option in glimpseindex. Useful mostly for WebGlimpse
      or similar web applications. When glimpse outputs matches, it will display
      the filename, the URL, and the title automatically.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-v</b></dt>
  <dd class="It-tag">(This option is an agrep option and it will be ignored in
      glimpse, unless glimpse is used with a file name at the end which makes it
      run as agrep.) Output all records/lines that do <i>not</i> contain a
      match. (Glimpse does not support the NOT operator yet.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-V</b></dt>
  <dd class="It-tag">prints the current version of glimpse.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-w</b></dt>
  <dd class="It-tag">Search for the pattern as a word &#x2014; i.e., surrounded
      by non-alphanumeric characters. For example, <i>glimpse -w car</i> will
      match car, but not characters and not car10. The non-alphanumeric
      <i>must</i> surround the match; they cannot be counted as errors. This
      option does not work with regular expressions. <b>Performance Note:</b>
      When -w is used together with the -i option, the search may become much
      faster. The -w will not work with $, ^, and _ (see BUGS below). It is
      recommended to have -i and -w as defaults, for example, through an alias.
      We use the following alias in our .cshrc file
    <div>&#x00A0;</div>
    alias glwi 'glimpse -w -i'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-W</b></dt>
  <dd class="It-tag">The default for Boolean AND queries is that they cover one
      record (the default for a record is one line) at a time. For example,
      glimpse 'good;bad' will output all lines containing both 'good' and 'bad'.
      The -W option changes the scope of Booleans to be the whole file. Within a
      file glimpse will output all matches to any of the patterns. So, glimpse
      -W 'good;bad' will output all lines containing 'good' <i>or</i> 'bad', but
      only in files that contain both patterns. The NOT operator '~' can be used
      only with -W. It is described later on. The OR operator is essentially
      unaffected (unless it is in combination with the other Boolean
      operations). For structured queries, the scope is always the whole
      attribute or file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-x</b></dt>
  <dd class="It-tag">The pattern must match the whole line. (This option is
      translated to -w when the index is searched and it is used only when the
      actual text is searched. It is of limited use in glimpse.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-X</b></dt>
  <dd class="It-tag">(from version 4.0B1 only) Output the names of files that
      contain a match even if these files have been deleted since the index was
      built. Without this option glimpse will simply ignore these files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-y</b></dt>
  <dd class="It-tag">Do not prompt. Proceed with the match as if the answer to
      any prompt is y. Servers (or any other scripts) using glimpse will
      probably want to use this option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Y <i>k</i></b></dt>
  <dd class="It-tag">If the index was constructed with the -t option, then -Y x
      will output only matches to files that were created or modified within the
      last x days. There are no major performance penalties for this
    option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-z</b></dt>
  <dd class="It-tag">Allow customizable filtering, using the file
      .glimpse_filters to perform the programs listed there for each match. The
      best example is compress/decompress. If .glimpse_filters include the line
    <div>&#x00A0;</div>
    *.Z uncompress &lt;
    <div>&#x00A0;</div>
    (separated by tabs) then before indexing any file that matches the pattern
      &quot;*.Z&quot; (same syntax as the one for .glimpse_exclude) the command
      listed is executed first (assuming input is from stdin, which is why
      uncompress needs &lt;) and its output (assuming it goes to stdout) is
      indexed. The file itself is not changed (i.e., it stays compressed). Then
      if glimpse -z is used, the same program is used on these files on the fly.
      Any program can be used (we run 'exec'). For example, one can filter out
      parts of files that should not be indexed. Glimpseindex tries to apply all
      filters in .glimpse_filters in the order they are given. For example, if
      you want to uncompress a file and then extract some part of it, put the
      compression command (the example above) first and then another line that
      specifies the extraction. Note that this can slow down the search because
      the filters need to be run before files are searched. (See also
      glimpseindex.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-Z</b></dt>
  <dd class="It-tag">No op. (It's useful for glimpse's internals. Trust
    us.)</dd>
</dl>
<div class="Pp"></div>
The characters `<b>$</b>', `^<b>',</b> `<b>&#x2217;</b>', `<b>[</b>'<b>,</b>
  `<b>]</b>'<b>,</b> `<b>^</b>', `<b>|</b>', `<b>(</b>', `<b>)</b>', `<b>!</b>',
  and `<b>\</b>' can cause unexpected results when included in the
  <i>pattern</i>, as these characters are also meaningful to the shell. To avoid
  these problems, enclose the entire pattern in single quotes, i.e., 'pattern'.
  Do not use double quotes (&quot;).
<h1 class="Sh" title="Sh" id="PATTERNS"><a class="selflink" href="#PATTERNS">PATTERNS</a></h1>
<i>glimpse</i> supports a large variety of patterns, including simple strings,
  strings with classes of characters, sets of strings, wild cards, and regular
  expressions (see LIMITATIONS).
<dl class="Bl-tag">
  <dt class="It-tag"><b>Strings </b></dt>
  <dd class="It-tag">Strings are any sequence of characters, including the
      special symbols `^' for beginning of line and `$' for end of line. The
      following special characters ( `<b>$</b>', `^<b>',</b> `<b>&#x2217;</b>',
      `<b>[</b>'<b>,</b> `<b>^</b>', `<b>|</b>', `<b>(</b>', `<b>)</b>',
      `<b>!</b>', and `<b>\</b>' ) as well as the following meta characters
      special to glimpse (and agrep): `<b>;</b>', `<b>,</b>', `<b>#</b>',
      `<b>&lt;</b>', `<b>&gt;</b>', `<b>-</b>', and `<b>.</b>', should be
      preceded by `\' if they are to be matched as regular characters. For
      example, \^abc\\ corresponds to the string ^abc\, whereas ^abc corresponds
      to the string abc at the beginning of a line.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Classes of characters</b></dt>
  <dd class="It-tag">a list of characters inside [] (in order) corresponds to
      any character from the list. For example, [a-ho-z] is any character
      between a and h or between o and z. The symbol `^' inside [] complements
      the list. For example, [^i-n] denote any character in the character set
      except character 'i' to 'n'. The symbol `^' thus has two meanings, but
      this is consistent with egrep. The symbol `.' (don't care) stands for any
      symbol (except for the newline symbol).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Boolean operations</b></dt>
  <dd class="It-tag"><b>Glimpse</b> supports an `AND' operation denoted by the
      symbol `;' an `OR' operation denoted by the symbol `,', a limited version
      of a 'NOT' operation (starting at version 4.0B1) denoted by the symbol
      `~', or any combination. For example, <i>glimpse 'pizza;cheeseburger'</i>
      will output all lines containing both patterns. <i>glimpse -F 'gnu;\.c$'
      'define;DEFAULT'</i> will output all lines containing both 'define' and
      'DEFAULT' (anywhere in the line, not necessarily in order) in files whose
      name contains 'gnu' and ends with .c. <i>glimpse
      '{political,computer};science'</i> will match 'political science' or
      'science of computers'. The NOT operation works only together with the -W
      option and it is generally applies only to the whole file rather to
      individual records. Its output may sometimes seem counterintuitive. Use
      with care. <i>glimpse -W 'fame;~glory'</i> will output all lines
      containing 'fame' in all files that contain 'fame' but do not contain
      'glory'; This is the most common use of NOT, and in this case it works as
      expected. <i>glimpse -W '~{fame;glory}'</i> will be limited to files that
      do not contain both words, and will output all lines containing one of
      them.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Wild cards</b></dt>
  <dd class="It-tag">The symbol '#' is used to denote a sequence of any number
      (including 0) of arbitrary characters (see LIMITATIONS). The symbol # is
      equivalent to .* in egrep. In fact, .* will work too, because it is a
      valid regular expression (see below), but unless this is part of an actual
      regular expression, # will work faster. (Currently glimpse is experiencing
      some problems with #.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Combination of exact and approximate matching</b></dt>
  <dd class="It-tag">Any pattern inside angle brackets &lt;&gt; must match the
      text exactly even if the match is with errors. For example,
      &lt;mathemat&gt;ics matches mathematical with one error (replacing the
      last s with an a), but mathe&lt;matics&gt; does not match mathematical no
      matter how many errors are allowed. (This option is buggy at the
    moment.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>Regular expressions</b></dt>
  <dd class="It-tag">Since the index is word based, a regular expression must
      match words that appear in the index for glimpse to find it. Glimpse first
      strips the regular expression from all non-alphabetic characters, and
      searches the index for all remaining words. It then applies the regular
      expression matching algorithm to the files found in the index. For
      example, <i>glimpse</i> 'abc.*xyz' will search the index for all files
      that contain both 'abc' and 'xyz', and then search directly for 'abc.*xyz'
      in those files. (If you use glimpse -w 'abc.*xyz', then 'abcxyz' will not
      be found, because glimpse will think that abc and xyz need to be matches
      to whole words.) The syntax of regular expressions in <b>glimpse</b> is in
      general the same as that for <b>agrep</b>. The union operation `|', Kleene
      closure `*', and parentheses () are all supported. Currently '+' is not
      supported. Regular expressions are currently limited to approximately 30
      characters (generally excluding meta characters). Some options (-d, -w,
      -t, -x, -D, -I, -S) do not currently work with regular expressions. The
      maximal number of errors for regular expressions that use '*' or '|' is 4.
      (See LIMITATIONS.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>structured queries</b></dt>
  <dd class="It-tag">Glimpse supports some form of structured queries using
      Harvest's SOIF format. See STRUCTURED QUERIES below for details.</dd>
</dl>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
(Run &quot;glimpse '^glimpse' this-file&quot; to get a list of all examples,
  some of which were given earlier.)
<dl class="Bl-tag">
  <dt class="It-tag">glimpse -F 'haystack.h$' needle</dt>
  <dd class="It-tag">finds all needles in all haystack.h's files.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">glimpse -2 -F html Anestesiology</dt>
  <dd class="It-tag">outputs all occurrences of Anestesiology with two errors in
      files with html somewhere in their full name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">glimpse -l -F '\.c$' variablename</dt>
  <dd class="It-tag">lists the names of all .c files that contain variablename
      (the -l option lists file names rather than output the matched
    lines).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">glimpse -F 'mail;1993' 'windsurfing;Arizona'</dt>
  <dd class="It-tag">finds all lines containing <i>windsurfing</i> and
      <i>Arizona</i> in all files having `mail' and '1993' somewhere in their
      full name.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">glimpse -F mail 't.j@#uk'</dt>
  <dd class="It-tag">finds all mail addresses (search only files with mail
      somewhere in their name) from the uk, where the login name ends with t.j,
      where the . stands for any one character. (This is very useful to find a
      login name of someone whose middle name you don't know.)</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">glimpse -F mbox -h -G . &gt; MBOX</dt>
  <dd class="It-tag">concatenates all files whose name matches `mbox' into one
      big one.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEARCHING_IN_COMPRESSED_FILES"><a class="selflink" href="#SEARCHING_IN_COMPRESSED_FILES">SEARCHING
  IN COMPRESSED FILES</a></h1>
Glimpse includes an optional new compression program, called <i>cast</i>, which
  allows glimpse (and agrep) to search the compressed files without having to
  decompress them. The search is actually significantly faster when the files
  are compressed. However, we have not tested <i>cast</i> as thoroughly as we
  would have liked, and a mishap in a compression algorithm can cause loss of
  data, so we recommend at this point to use <i>cast</i> very carefully. We do
  not support or maintain cast. (Unless you specifically use <i>cast</i>, the
  default is to ignore it.)
<h1 class="Sh" title="Sh" id="GLIMPSEINDEX_FILES"><a class="selflink" href="#GLIMPSEINDEX_FILES">GLIMPSEINDEX
  FILES</a></h1>
All files used by glimpse are located at the directory(ies) where the index(es)
  is (are) stored and have .glimpse_ as a prefix. The first two files
  (.glimpse_exclude and .glimpse_include) are optionally supplied by the user.
  The other files are built and read by glimpse.
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_exclude</b></dt>
  <dd class="It-tag">contains a list of files that glimpseindex is explicitly
      told to ignore. In general, the syntax of .glimpse_exclude/include is the
      same as that of agrep (or any other grep). The lines in the
      .glimpse_exclude file are matched to the file names, and if they match,
      the files are excluded. Notice that agrep matches to parts of the string!
      e.g., agrep /ftp/pub will match /home/ftp/pub and /ftp/pub/whatever. So,
      if you want to exclude /ftp/pub/core, you just list it, as is, in the
      .glimpse_exclude file. If you put &quot;/home/ftp/pub/cdrom&quot; in
      .glimpse_exclude, every file name that matches that string will be
      excluded, meaning all files below it. You can use ^ to indicate the
      beginning of a file name, and $ to indicate the end of one, and you can
      use * and ? in the usual way. For example /ftp/*html will exclude
      /ftp/pub/foo.html, but will also exclude /home/ftp/pub/html/whatever; if
      you want to exclude files that start with /ftp and end with html use
      ^/ftp*html$ Notice that putting a * at the beginning or at the end is
      redundant (in fact, in this case glimpseindex will remove the * when it
      does the indexing). No other meta characters are allowed in
      .glimpse_exclude (e.g., don't use .* or # or |). Lines with * or ? must
      have no more than 30 characters. Notice that, although the index itself
      will not be indexed, the list of file names (.glimpse_filenames) will be
      indexed unless it is explicitly listed in .glimpse_exclude.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_filters</b></dt>
  <dd class="It-tag">See the description above for the -z option.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_include</b></dt>
  <dd class="It-tag">contains a list of files that glimpseindex is explicitly
      told to <i>include</i> in the index even though they may look like
      non-text files. Symbolic links are followed by glimpseindex only if they
      are specifically included here. If a file is in both .glimpse_exclude and
      .glimpse_include it will be excluded.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_filenames</b></dt>
  <dd class="It-tag">contains the list of all indexed file names, one per line.
      This is an ASCII file that can also be used with agrep to search for a
      file name leading to a fast find command. For example,
    <div>&#x00A0;</div>
    glimpse 'count#\.c$' ~/.glimpse_filenames
    <div>&#x00A0;</div>
    will output the names of all (indexed) .c files that have 'count' in their
      name (including anywhere on the path from the index). Setting the
      following alias in the .login file may be useful:
    <div>&#x00A0;</div>
    alias findfile 'glimpse -h !:1 ~/.glimpse_filenames'</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">.<b>glimpse_index</b></dt>
  <dd class="It-tag">contains the index. The index consists of lines, each
      starting with a word followed by a list of block numbers (unless the -o or
      -b options are used, in which case each word is followed by an offset into
      the file .glimpse_partitions where all pointers are kept). The block/file
      numbers are stored in binary form, so this is not an ASCII file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_messages</b></dt>
  <dd class="It-tag">contains the output of the -w option (see above).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_partitions</b></dt>
  <dd class="It-tag">contains the partition of the indexed space into blocks
      and, when the index is built with the -o or -b options, some part of the
      index. This file is used internally by glimpse and it is a non-ASCII
    file.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_statistics</b></dt>
  <dd class="It-tag">contains some statistics about the makeup of the index.
      Useful for some advanced applications and customization of glimpse.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>.glimpse_turbo</b></dt>
  <dd class="It-tag">An added data structure (used under glimpseindex -o or -b
      only) that helps to speed up queries significantly for large indexes. Its
      size is 0.25MB. Glimpse will work without it if needed.</dd>
</dl>
<h1 class="Sh" title="Sh" id="STRUCTURED_QUERIES"><a class="selflink" href="#STRUCTURED_QUERIES">STRUCTURED
  QUERIES</a></h1>
Glimpse can search for Boolean combinations of &quot;attribute=value&quot; terms
  by using the Harvest SOIF parser library (in glimpse/libtemplate). To search
  this way, the index must be made by using the -s option of glimpseindex (this
  can be used in conjunction with other glimpseindex options). For glimpse and
  glimpseindex to recognize &quot;structured&quot; files, they must be in SOIF
  format. In this format, each value is prefixed by an attribute-name with the
  size of the value (in bytes) present in &quot;{}&quot; after the name of the
  attribute. For example, The following lines are part of an SOIF file:
<div>&#x00A0;</div>
<pre>
type{17}:       Directory-Listing
md5{32}:        3858c73d68616df0ed58a44d306b12ba
</pre>
Any string can serve as an attribute name. Glimpse
  &quot;pattern;type=Directory-Listing&quot; will search for &quot;pattern&quot;
  only in files whose type is &quot;Directory-Listing&quot;. The file itself is
  considered to be one &quot;object&quot; and its name/url appears as the first
  attribute with an &quot;@&quot; prefix; e.g., @FILE { http://xxx... } The
  scope of Boolean operations changes from records (lines) to whole files when
  structured queries are used in glimpse (since individual query terms can look
  at different attributes and they may not be &quot;covered&quot; by the
  record/line). Note that glimpse can only search for patterns in the value
  parts of the SOIF file: there are some attributes (like the TTL, MD5, etc.)
  that are interpreted by Harvest's internal routines. See RFC 2655 for more
  detailed information of the SOIF format.
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag">1.</dt>
  <dd class="It-tag">U. Manber and S. Wu, &quot;GLIMPSE: A Tool to Search
      Through Entire File Systems,&quot; <i>Usenix Winter 1994 Technical
      Conference</i> (best paper award), San Francisco (January 1994), pp.
      23-32. Also, Technical Report #TR 93-34, Dept. of Computer Science,
      University of Arizona, October 1993 (a postscript file is available by
      anonymous ftp at ftp://webglimpse.net/pub/glimpse/TR93-34.ps).</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">2.</dt>
  <dd class="It-tag">S. Wu and U. Manber, &quot;Fast Text Searching Allowing
      Errors,&quot; <i>Communications of the ACM</i> <b>35</b> (October 1992),
      pp. 83-91.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>agrep</b>(1), <b>ed</b>(1), <b>ex</b>(1), <b>glimpseindex</b>(1),
  <b>glimpseserver</b>(1), <b>grep</b>(1), <b>sh</b>(1), <b>csh</b>(1).
<h1 class="Sh" title="Sh" id="LIMITATIONS"><a class="selflink" href="#LIMITATIONS">LIMITATIONS</a></h1>
The index of glimpse is word based. A pattern that contains more than one word
  cannot be found in the index. The way glimpse overcomes this weakness is by
  splitting any multi-word pattern into its set of words and looking for all of
  them in the index. For example, <b>glimpse 'linear programming'</b> will first
  consult the index to find all files containing both <i>linear</i> and
  <i>programming</i>, and then apply agrep to find the combined pattern. This is
  usually an effective solution, but it can be slow for cases where both words
  are very common, but their combination is not.
<div class="Pp"></div>
As was mentioned in the section on PATTERNS above, some characters serve as meta
  characters for glimpse and need to be preceded by '\' to search for them. The
  most common examples are the characters '.' (which stands for a wild card),
  and '*' (the Kleene closure). So, &quot;glimpse ab.de&quot; will match abcde,
  but &quot;glimpse ab\.de&quot; will not, and &quot;glimpse ab*de&quot; will
  not match ab*de, but &quot;glimpse ab\*de&quot; will. The meta character - is
  translated automatically to a hypen unless it appears between [] (in which
  case it denotes a range of characters).
<div class="Pp"></div>
The index of glimpse stores all patterns in lower case. When glimpse searches
  the index it first converts all patterns to lower case, finds the appropriate
  files, and then searches the actual files using the original patterns. So, for
  example, <i>glimpse ABCXYZ</i> will first find all files containing abcxyz in
  any combination of lower and upper cases, and then searches these files
  directly, so only the right cases will be found. One problem with this
  approach is discovering misspellings that are caused by wrong cases. For
  example, <i>glimpse -B abcXYZ</i> will first search the index for the best
  match to abcxyz (because the pattern is converted to lower case); it will find
  that there are matches with no errors, and will go to those files to search
  them directly, this time with the original upper cases. If the closest match
  is, say AbcXYZ, glimpse may miss it, because it doesn't expect an error.
  Another problem is speed. If you search for &quot;ATT&quot;, it will look at
  the index for &quot;att&quot;. Unless you use -w to match the whole word,
  glimpse may have to search all files containing, for example,
  &quot;Seattle&quot; which has &quot;att&quot; in it.
<div class="Pp"></div>
There is no size limit for simple patterns and simple patterns within Boolean
  expressions. More complicated patterns, such as regular expressions, are
  currently limited to approximately 30 characters. Lines are limited to 1024
  characters. Records are limited to 48K, and may be truncated if they are
  larger than that. The limit of record length can be changed by modifying the
  parameter Max_record in agrep.h.
<div class="Pp"></div>
Glimpseindex does not index words of size &gt; 64.
<h1 class="Sh" title="Sh" id="BUGS"><a class="selflink" href="#BUGS">BUGS</a></h1>
In some rare cases, regular expressions using * or # may not match correctly.
<div class="Pp"></div>
A query that contains no alphanumeric characters is not recommended (unless
  glimpse is used as agrep and the file names are provided). This is an
  understatement.
<div class="Pp"></div>
The notion of &quot;match to the whole word&quot; (the -w option) can be tricky
  sometimes. For example, glimpse -w 'word$' will not match 'word' appearing at
  the end of a line, because the extra '$' makes the pattern more than just one
  simple word. The same thing can happen with ^ and with _. To be on the safe
  side, use the -w option only when the patterns are actual words.
<div class="Pp"></div>
Please send bug reports or comments to gvelez@webglimpse.net.
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
Exit status is 0 if any matches are found, 1 if none, 2 for syntax errors or
  inaccessible files.
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Udi Manber and Burra Gopal, Department of Computer Science, University of
  Arizona, and Sun Wu, the National Chung-Cheng University, Taiwan. Now
  maintained by Golda Velez at Internet WorkShop (Email:
  gvelez@webglimpse.net)</div>
<table class="foot">
  <tr>
    <td class="foot-date">November 10, 1997</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
