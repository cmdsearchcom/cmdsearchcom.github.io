<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:28:32 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p style="margin-top: 1em">opafabricinfo(1) Master map:
IFSFFCLIRG (Man Page) opafabricinfo(1)</p>

<p style="margin-top: 1em">NAME <br>
opafabricinfo</p>

<p style="margin-top: 1em">Provides a brief summary of the
components in the fabric, using the first active port on the
given local host to perform its analysis. opafabricinfo is
supplied in both:</p>

<p style="margin-top: 1em">&Acirc;&middot; Intel(R)
Omni-Path Fabric Suite FastFabric Toolset In this situation,
the command can manage more than one fabric (subnet).</p>

<p style="margin-top: 1em">&Acirc;&middot; FastFabric Tools
In this situation, the command performs analysis against the
first active port on the system only. It takes no options
and uses no environment variables.</p>

<p style="margin-top: 1em">opafabricinfo can be very useful
as a quick assessment of the fabric state. It can be run
against a known good fabric to identify its components and
then later run to see if any&acirc; <br>
thing has changed about the fabric configuration or
state.</p>

<p style="margin-top: 1em">For more extensive fabric
analysis, use opareport and opareports Intel(R) Omni-Path
Fabric Suite FastFabric User Guide</p>

<p style="margin-top: 1em">Syntax <br>
opafabricinfo [-t portsfile] [-p ports]</p>

<p style="margin-top: 1em">Options <br>
--help Produces full help text.</p>

<p style="margin-top: 1em">-t portsfile <br>
File with list of local HFI ports used to access fabric(s)
for analysis. Default is /etc/sysconfig/opa/ports file.</p>

<p style="margin-top: 1em">-p ports List of local HFI ports
used to access fabric(s) for analysis. Default is first
active port. The first HFI in the system is 1. The first
port on an HFI is 1.</p>

<p style="margin-top: 1em">Uses the format hfi:port, for
example:</p>

<p style="margin-top: 1em">0:0 First active port in
system.</p>

<p style="margin-top: 1em">0:y Port y within system.</p>

<p style="margin-top: 1em">x:0 First active port on HFI
x.</p>

<p style="margin-top: 1em">x:y HFI x, port y.</p>

<p style="margin-top: 1em">Environment Variables <br>
The following environment variables are also used by this
command:</p>

<p style="margin-top: 1em">PORTS List of ports, used in
absence of -t and -p.</p>

<p style="margin-top: 1em">PORTS_FILE <br>
File containing list of ports, used in absence of -t and
-p.</p>

<p style="margin-top: 1em">For simple fabrics, the Intel(R)
Omni-Path Fabric Suite FastFabric Toolset host is connected
to a single fabric. By default, the first active port on the
FastFabric <br>
Toolset host is used to analyze the fabric. However, in more
complex fabrics, the FastFabric Toolset host may be
connected to more than one fabric or subnet. In this <br>
case, you can specify the ports or HFIs to use with one of
the following methods:</p>

<p style="margin-top: 1em">&Acirc;&middot; On the command
line using the -p option.</p>

<p style="margin-top: 1em">&Acirc;&middot; In a file
specified using the -t option.</p>

<p style="margin-top: 1em">&Acirc;&middot; Through the
environment variables PORTS or PORTS_FILE.</p>

<p style="margin-top: 1em">&Acirc;&middot; Using the
ports_file configuration option in opafastfabric.conf.</p>

<p style="margin-top: 1em">If the specified port does not
exist or is empty, the first active port on the local system
is used. In more complex configurations, you must specify
the exact ports to <br>
use for all fabrics to be analyzed.</p>

<p style="margin-top: 1em">Example <br>
opafabricinfo <br>
opafabricinfo -p &rsquo;1:1 1:2 2:1 2:2&rsquo;</p>

<p style="margin-top: 1em">Output example</p>

<p style="margin-top: 1em"># opafabricinfo <br>
Fabric 0:0 Information: <br>
SM: hds1fnb6241 hfi1_0 Guid: 0x0011750101575ffe State:
Master <br>
Number of HFIs: 8 <br>
Number of Switches: 1 <br>
Number of Links: 8 <br>
Number of HFI Links: 8 (Internal: 0 External: 8) <br>
Number of ISLs: 0 (Internal: 0 External: 0) <br>
Number of Degraded Links: 0 (HFI Links: 0 ISLs: 0) <br>
Number of Omitted Links: 0 (HFI Links: 0 ISLs: 0)</p>

<p style="margin-top: 1em">Copyright(C) 2015-2016 Intel
Corporation opafabricinfo(1)</p>
<hr>
</body>
</html>
