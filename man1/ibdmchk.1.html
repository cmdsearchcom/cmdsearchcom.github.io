<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:17:58 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>IBDMCHK(1) IB DATA MODEL PACKAGE IBDMCHK(1)</p>

<p style="margin-top: 1em">NAME <br>
IBDM - Network Checker and Attributes Analyzer</p>

<p style="margin-top: 1em">SYNOPSYS <br>
ibdmchk has two operation modes: design and
verification.</p>

<p style="margin-top: 1em">DESIGN:</p>

<p style="margin-top: 1em">ibdmchk [-v][-h][-u][-r
&lt;roots file&gt;] -t &lt;topology file&gt; -n &lt;SM
Node&gt; <br>
-p &lt;SM Port&gt; [-e] [-l &lt;lmc&gt;]</p>

<p style="margin-top: 1em">VERIFICATION:</p>

<p style="margin-top: 1em">ibdmchk [-v][-h][-r &lt;roots
file&gt;] [-s &lt;subnet file&gt;] [-f &lt;fdb file&gt;]
<br>
[-m &lt;mcfdbs file&gt; [-l &lt;lmc&gt;] [-u] [-M] [-a] <br>
[-c &lt;path sl file&gt;] [-d &lt;sl2vl tables file&gt;]</p>

<p style="margin-top: 1em">DESIGN MODE DESCRIPTION <br>
The Design mode is intended to be used before the cluster is
built. It provides basic checks of the specified network as
described by a topology file. After simulating the SM LID
<br>
assignment and routing algorithms it provides reports of the
(H)CA to (H)CA paths depth histogram and credit deadlock
potential in the resulting routing scheme.</p>

<p style="margin-top: 1em">ARGUMENTS: <br>
-t&acirc;&ordf;--topo &lt;topo file&gt; <br>
The topology file specifying the network. See man
ibdm-topology-file</p>

<p style="margin-top: 1em">-n&acirc;&ordf;--node &lt;SM
Node&gt; <br>
The name of the Subnet Manager node (syntax:
&lt;Topo-File-System&gt;/U1)</p>

<p style="margin-top: 1em">-p&acirc;&ordf;--port &lt;SM
Port&gt; <br>
The port number by which the SM nodes is attached to the
fabric.</p>

<p style="margin-top: 1em">OPTIONS <br>
-v&acirc;&ordf;--verbose <br>
Verbsoe mode</p>

<p style="margin-top: 1em">-h&acirc;&ordf;--help <br>
Provides this help message</p>

<p style="margin-top: 1em">-l&acirc;&ordf;--lmc &lt;lmc&gt;
<br>
LMC value &gt; 0 means assigning 2^lmc lids to each
port.</p>

<p style="margin-top: 1em">-e&acirc;&ordf;--enh <br>
Use enhanced routing algorithm when LMC &gt; 0 and report
the resulting paths correlation (using same system/node)
histogram</p>

<p style="margin-top: 1em">-r&acirc;&ordf;--roots &lt;roots
file&gt; A file with all the roots node names (one on each
line).</p>

<p style="margin-top: 1em">VERIFICATION MODE DESCRIPTION
<br>
After the cluster is built and OpenSM is run (using flag -D
0x43) it reports the subnet and FDB tables into the files
osm-subnet.lst, osm.fdbs and osm.fdbs in /var/log/ (or
sub&acirc; <br>
net.lst, osm.fdbs and osm.mcfdbs into /var/cache/ibutils in
older OpenSM versions). ibdiagnet is also producing the same
files in its output directory. Based on these files the <br>
utility checks all CA to CA connectivity. Further analysis
for credit deadlock potential is performed and reported. In
case of an LMC &gt; 0 it reports histograms for how many
sys&acirc; <br>
tems and nodes are common between the different paths for
the same port pairs.</p>

<p style="margin-top: 1em">ARGUMENTS <br>
-l&acirc;&ordf;--lmc &lt;lmc&gt; <br>
The LMC value used while running OpenSM. Mandatory if not
the default 0.</p>

<p style="margin-top: 1em">OPTIONS <br>
-v&acirc;&ordf;--verbose <br>
Verbsoe mode</p>

<p style="margin-top: 1em">-h&acirc;&ordf;--help <br>
Provides this help message</p>

<p style="margin-top: 1em">-s&acirc;&ordf;--subnet
&lt;file&gt; <br>
OpenSM subnet.lst file (default is /var/log/osm-subnet.lst
or /var/cache/ibutils/subnet.lst)</p>

<p style="margin-top: 1em">-f&acirc;&ordf;--fdb
&lt;file&gt; <br>
OpenSM dump of Ucast LFDB. Use -D 0x41 to generate it
(default is /var/log/osm.fdbs or
/var/cache/ibutils/osm.fdbs).</p>

<p style="margin-top: 1em">-m&acirc;&ordf;--mcfdb
&lt;file&gt; <br>
OpenSM dump of Multicast LFDB. Use -D 0x41 to generate it
(default is /var/log/osm.mcfdbs or
/var/cache/ibutils/osm.mcfdbs).</p>

<p style="margin-top: 1em">-c&acirc;&ordf;--psl
&lt;file&gt; <br>
Source Guid to DLID -&gt; Path SL mapping. Each line holds:
src_node_guid dlid sl. Used by the credit loop check to
accuartly model SL/VL based routing.</p>

<p style="margin-top: 1em">-d&acirc;&ordf;--slvl
&lt;file&gt; <br>
SL2VL mapping of all switces. Each line holds: swguid iport
oport 0x(sl0)(sl1) 0x(sl2)(sl3)... Used by the credit loop
check to accuartly model SL/VL based routing.</p>

<p style="margin-top: 1em">-r&acirc;&ordf;--roots &lt;roots
file&gt; <br>
A file holding all root nodes guids (one per line).</p>

<p style="margin-top: 1em">-u&acirc;&ordf;--updn <br>
Use Up/Down based credit loop check algorithm instead of the
generic one.</p>

<p style="margin-top: 1em">-M&acirc;&ordf;--MFT <br>
Include multicast routing in credit loops analysis.</p>

<p style="margin-top: 1em">-a&acirc;&ordf;--all <br>
Verify not only CA-CA paths but also SW-SW, CA-SW and SW-CA.
Both check for FDB path connectivity and also for credit
loops.</p>

<p style="margin-top: 1em">AUTHOR <br>
Eitan Zahavi, Mellanox Technologies LTD,
eitan@mellanox.co.il</p>

<p style="margin-top: 1em">IBDM 1.0 2009-03-17
IBDMCHK(1)</p>
<hr>
</body>
</html>
