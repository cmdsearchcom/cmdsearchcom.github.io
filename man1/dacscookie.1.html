<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>DACSCOOKIE(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">DACSCOOKIE(1)</td>
    <td class="head-vol">DACS Commands Manual</td>
    <td class="head-rtitle">DACSCOOKIE(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
dacscookie - create <b>DACS</b> credentials and emit as a cookie
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<div class="Pp" style="margin-left: 21.00ex; text-indent: -21.00ex;"><b>dacscookie</b>
  [ <i></i><b>dacsoptions</b>[1]] [<b>-create</b>]
  [<b>-i</b>&#x00A0;<i>ident</i>] [ <b>-user</b>&#x00A0;<i>user</i>]
  [<b>-ip</b>&#x00A0; <i>ipaddr</i>]
<div>&#x00A0;</div>
[ <b>-role</b>&#x00A0;<i>role_str</i>] [<b>-expires</b>&#x00A0;<i>date</i>]
  [<b>-ua</b>&#x00A0; <i>str</i>]
<div>&#x00A0;</div>
<b>dacscookie</b> [<i></i><b>dacsoptions</b>[1]] <b>-decrypt</b>
  [<b>-concise</b>]</div>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
This program is part of the <b>DACS</b> suite.
<div class="Pp"></div>
The <b>dacscookie</b> utility constructs <b>DACS</b> credentials that represent
  a single <b>DACS</b> identity and emits them as the <i>NAME</i>=<i>VALUE</i>
  element of a <b>HTTP cookie</b>[2] ( <b>RFC 2109</b>[3], <b>RFC 2965</b>[4],
  <b>RFC 6265</b>[5]) that may be used by <b>DACS</b>. It can also decode and
  display these cookies, provided the same encryption keys used to create the
  cookies are available. The program is useful for testing purposes, or by
  programs that perform authentication (e.g., by calling <b>dacsauth(1)</b>[6])
  and need to return credentials. It may also be used to generate an identity
  &quot;offline&quot;; the resulting credentials could be used by applications
  other than standard Web browsers, or be distributed via any secure channel
  (e.g., encrypted email) for use by the recipient.
<div class="Pp"></div>
Configured or derived defaults are used if optional identity information is not
  provided.
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<div>&#x00A0;</div>
<b>Security</b>
<div>&#x00A0;</div>
<div>&#x00A0;</div>
<div class="Pp"></div>
Only the <b>DACS</b> administrator should be able to successfully run this
  program. Because DACS keys and configuration files must be limited to the
  administrator, this will normally be the case, but a careful administrator
  will set file permissions to deny access to all other users, or even delete
  the binary.
<div class="Pp"></div>
Similarly, access to cookies generated by this program must be carefully
  controlled. Any jurisdiction within the same federation in which the
  credentials were created will be able to directly decrypt the credentials.
<div style="height: 0.50em;">&#x00A0;</div>
</div>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<b>dacscookie</b> recognizes these options for cookie creation:
<div class="Pp"></div>
<b>-create</b>
<div style="margin-left: 4.00ex;">Create the specified credentials and emit them
  to the standard output as the <i>NAME</i>=<i>VALUE</i> component of an HTTP
  cookie. This is the default.</div>
<div class="Pp"></div>
<b>-expires</b> <i>date</i>
<div style="margin-left: 4.00ex;">Set the expiry date for the cookie. If
  <i>date</i> begins with '+' and is followed by a digit string, the expiry date
  will be that number of seconds relative to the current time. Otherwise, the
  date is expected to be in one of the recognized formats (see <b>concise
  syntax</b>[7]). If not provided, the configured default value,
  <b>AUTH_CREDENTIALS_DEFAULT_LIFETIME_SECS</b>[8], will be used.</div>
<div class="Pp"></div>
<b>-i</b> <i>ident</i>
<div style="margin-left: 4.00ex;">The identity (<i>ident</i>) is given in the
  <b>concise syntax</b>[7]. Note that any elements that are explicitly given
  will override those that appear in <i>ident</i>.</div>
<div class="Pp"></div>
<b>-ip</b> <i>ipaddr</i>
<div style="margin-left: 4.00ex;">Use <i>ipaddr</i> as the user's IP address (in
  standard dot notation). If not provided, this element will be obtained from
  any <b>-i</b> flag or else omitted from the credentials.</div>
<div class="Pp"></div>
<b>-role</b> <i>role_str</i>
<div style="margin-left: 4.00ex;">Use <i>role_str</i> as the user's role string,
  which must be syntactically correct. If not provided, this element will be
  obtained from any <b>-i</b> flag or else omitted from the credentials.</div>
<div class="Pp"></div>
<b>-ua</b> <i>str</i>
<div style="margin-left: 4.00ex;">Use <i>str</i> as the user agent string
  associated with the credentials. If no string is specified, the credentials
  cannot be verified against a user agent string. See
  <b>dacs.conf(5)</b>[9].</div>
<div class="Pp"></div>
<b>-user</b> <i>name</i>
<div style="margin-left: 4.00ex;">Use <i>name</i>, a syntactically correct
  username, within the applicable jurisdiction. If not provided, this element
  must be specified using the <b>-i</b> flag.</div>
<div class="Pp"></div>
<b>dacscookie</b> recognizes these options for cookie decryption:
<div class="Pp"></div>
<b>-decrypt</b>
<div style="margin-left: 4.00ex;">Instead of creating credentials, read a cookie
  from the standard input and print its decoded contents to the standard output.
  If the input is invalid in any way, a message is displayed.</div>
<div class="Pp"></div>
<b>-concise</b>
<div style="margin-left: 4.00ex;">With the <b>-decrypt</b> flag, only print the
  identity in the <b>concise user syntax</b>[7].</div>
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
The following will generate an identity and store it in a file:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
% dacscookie -u j1.example.com -user bobo &gt; cookie.out
% chmod 0600 cookie.out
</pre>
</div>
<div class="Pp"></div>
The following will display various elements of the credentials to stdout:
<div style="height: 1.00em;">&#x00A0;</div>
<div style="margin-left: 4.00ex;">
<pre>
% dacscookie -u j1.example.com -decrypt &lt; cookie.out
% rm cookie.out
</pre>
</div>
<div style="height: 1.00em;">&#x00A0;</div>
<h1 class="Sh" title="Sh" id="DIAGNOSTICS"><a class="selflink" href="#DIAGNOSTICS">DIAGNOSTICS</a></h1>
The program exits 0 if everything was fine, 1 if an error occurred.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<b>dacs_auth_agent(8)</b>[10], <b>dacs_auth_transfer(8)</b>[11],
  <b>dacs_authenticate(8)</b>[12], <b>dacsauth(1)</b>[6],
  <b>dacscred(1)</b>[13], <b>dacs_current_credentials(8)</b>[14].
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Distributed Systems Software ( <b>www.dss.ca</b>[15])
<h1 class="Sh" title="Sh" id="COPYING"><a class="selflink" href="#COPYING">COPYING</a></h1>
Copyright2003-2015 Distributed Systems Software. See the <b>LICENSE</b>[16] file
  that accompanies the distribution for licensing information.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"> 1.</dt>
  <dd class="It-tag">dacsoptions</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.1.html#dacsoptions</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 2.</dt>
  <dd class="It-tag">HTTP cookie</dd>
</dl>
<div style="margin-left: 4.00ex;">http://web.archive.org/web/20070805052634/http://wp.netscape.com/newsref/std/cookie_spec.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 3.</dt>
  <dd class="It-tag">RFC 2109</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.rfc-editor.org/rfc/rfc2109.txt</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 4.</dt>
  <dd class="It-tag">RFC 2965</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.rfc-editor.org/rfc/rfc2965.txt</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 5.</dt>
  <dd class="It-tag">RFC 6265</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.rfc-editor.org/rfc/rfc6265.txt</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 6.</dt>
  <dd class="It-tag">dacsauth(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacsauth.1.html</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 7.</dt>
  <dd class="It-tag">concise syntax</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.1.html#concise_user_syntax</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 8.</dt>
  <dd class="It-tag">AUTH_CREDENTIALS_DEFAULT_LIFETIME_SECS</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.conf.5.html#AUTH_CREDENTIALS_DEFAULT_LIFETIME_SECS</div>
<dl class="Bl-tag">
  <dt class="It-tag"> 9.</dt>
  <dd class="It-tag">dacs.conf(5)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs.conf.5.html#VERIFY_UA</div>
<dl class="Bl-tag">
  <dt class="It-tag">10.</dt>
  <dd class="It-tag">dacs_auth_agent(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs_auth_agent.8.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">11.</dt>
  <dd class="It-tag">dacs_auth_transfer(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs_auth_transfer.8.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">12.</dt>
  <dd class="It-tag">dacs_authenticate(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs_authenticate.8.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">13.</dt>
  <dd class="It-tag">dacscred(1)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacscred.1.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">14.</dt>
  <dd class="It-tag">dacs_current_credentials(8)</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/dacs_current_credentials.8.html</div>
<dl class="Bl-tag">
  <dt class="It-tag">15.</dt>
  <dd class="It-tag">www.dss.ca</dd>
</dl>
<div style="margin-left: 4.00ex;">http://www.dss.ca</div>
<dl class="Bl-tag">
  <dt class="It-tag">16.</dt>
  <dd class="It-tag">LICENSE</dd>
</dl>
<div style="margin-left: 4.00ex;">http://dacs.dss.ca/man/../misc/LICENSE</div>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">01/12/2017</td>
    <td class="foot-os">DACS 1.4.38a</td>
  </tr>
</table>
</body>
</html>
