<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:02:02 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>DACSCOOKIE(1) DACS Commands Manual DACSCOOKIE(1)</p>

<p style="margin-top: 1em">NAME <br>
dacscookie - create DACS credentials and emit as a
cookie</p>

<p style="margin-top: 1em">SYNOPSIS <br>
dacscookie [dacsoptions[1]] [-create] [-i ident] [-user
user] [-ip ipaddr] <br>
[-role role_str] [-expires date] [-ua str] <br>
dacscookie [dacsoptions[1]] -decrypt [-concise]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This program is part of the DACS suite.</p>

<p style="margin-top: 1em">The dacscookie utility
constructs DACS credentials that represent a single DACS
identity and emits them as the NAME=VALUE element of a HTTP
cookie[2] (RFC 2109[3], RFC 2965[4], <br>
RFC 6265[5]) that may be used by DACS. It can also decode
and display these cookies, provided the same encryption keys
used to create the cookies are available. The program is
<br>
useful for testing purposes, or by programs that perform
authentication (e.g., by calling dacsauth(1)[6]) and need to
return credentials. It may also be used to generate an <br>
identity &quot;offline&quot;; the resulting credentials
could be used by applications other than standard Web
browsers, or be distributed via any secure channel (e.g.,
encrypted email) for <br>
use by the recipient.</p>

<p style="margin-top: 1em">Configured or derived defaults
are used if optional identity information is not
provided.</p>

<p style="margin-top: 1em">Security <br>
Only the DACS administrator should be able to successfully
run this program. Because DACS keys and configuration files
must be limited to the administrator, this will <br>
normally be the case, but a careful administrator will set
file permissions to deny access to all other users, or even
delete the binary.</p>

<p style="margin-top: 1em">Similarly, access to cookies
generated by this program must be carefully controlled. Any
jurisdiction within the same federation in which the
credentials were created will be <br>
able to directly decrypt the credentials.</p>

<p style="margin-top: 1em">OPTIONS <br>
dacscookie recognizes these options for cookie creation:</p>

<p style="margin-top: 1em">-create <br>
Create the specified credentials and emit them to the
standard output as the NAME=VALUE component of an HTTP
cookie. This is the default.</p>

<p style="margin-top: 1em">-expires date <br>
Set the expiry date for the cookie. If date begins with
&rsquo;+&rsquo; and is followed by a digit string, the
expiry date will be that number of seconds relative to the
current time. <br>
Otherwise, the date is expected to be in one of the
recognized formats (see concise syntax[7]). If not provided,
the configured default value, <br>
AUTH_CREDENTIALS_DEFAULT_LIFETIME_SECS[8], will be used.</p>

<p style="margin-top: 1em">-i ident <br>
The identity (ident) is given in the concise syntax[7]. Note
that any elements that are explicitly given will override
those that appear in ident.</p>

<p style="margin-top: 1em">-ip ipaddr <br>
Use ipaddr as the user&rsquo;s IP address (in standard dot
notation). If not provided, this element will be obtained
from any -i flag or else omitted from the credentials.</p>

<p style="margin-top: 1em">-role role_str <br>
Use role_str as the user&rsquo;s role string, which must be
syntactically correct. If not provided, this element will be
obtained from any -i flag or else omitted from the <br>
credentials.</p>

<p style="margin-top: 1em">-ua str <br>
Use str as the user agent string associated with the
credentials. If no string is specified, the credentials
cannot be verified against a user agent string. See <br>
dacs.conf(5)[9].</p>

<p style="margin-top: 1em">-user name <br>
Use name, a syntactically correct username, within the
applicable jurisdiction. If not provided, this element must
be specified using the -i flag.</p>

<p style="margin-top: 1em">dacscookie recognizes these
options for cookie decryption:</p>

<p style="margin-top: 1em">-decrypt <br>
Instead of creating credentials, read a cookie from the
standard input and print its decoded contents to the
standard output. If the input is invalid in any way, a
message is <br>
displayed.</p>

<p style="margin-top: 1em">-concise <br>
With the -decrypt flag, only print the identity in the
concise user syntax[7].</p>

<p style="margin-top: 1em">EXAMPLES <br>
The following will generate an identity and store it in a
file:</p>

<p style="margin-top: 1em">% dacscookie -u j1.example.com
-user bobo &gt; cookie.out <br>
% chmod 0600 cookie.out</p>

<p style="margin-top: 1em">The following will display
various elements of the credentials to stdout:</p>

<p style="margin-top: 1em">% dacscookie -u j1.example.com
-decrypt &lt; cookie.out <br>
% rm cookie.out</p>

<p style="margin-top: 1em">DIAGNOSTICS <br>
The program exits 0 if everything was fine, 1 if an error
occurred.</p>

<p style="margin-top: 1em">SEE ALSO <br>
dacs_auth_agent(8)[10], dacs_auth_transfer(8)[11],
dacs_authenticate(8)[12], dacsauth(1)[6], dacscred(1)[13],
dacs_current_credentials(8)[14].</p>

<p style="margin-top: 1em">AUTHOR <br>
Distributed Systems Software (www.dss.ca[15])</p>

<p style="margin-top: 1em">COPYING <br>
Copyright2003-2015 Distributed Systems Software. See the
LICENSE[16] file that accompanies the distribution for
licensing information.</p>

<p style="margin-top: 1em">NOTES <br>
1. dacsoptions <br>
http://dacs.dss.ca/man/dacs.1.html#dacsoptions</p>

<p style="margin-top: 1em">2. HTTP cookie <br>

http://web.archive.org/web/20070805052634/http://wp.netscape.com/newsref/std/cookie_spec.html</p>

<p style="margin-top: 1em">3. RFC 2109 <br>
http://www.rfc-editor.org/rfc/rfc2109.txt</p>

<p style="margin-top: 1em">4. RFC 2965 <br>
http://www.rfc-editor.org/rfc/rfc2965.txt</p>

<p style="margin-top: 1em">5. RFC 6265 <br>
http://www.rfc-editor.org/rfc/rfc6265.txt</p>

<p style="margin-top: 1em">6. dacsauth(1) <br>
http://dacs.dss.ca/man/dacsauth.1.html</p>

<p style="margin-top: 1em">7. concise syntax <br>
http://dacs.dss.ca/man/dacs.1.html#concise_user_syntax</p>

<p style="margin-top: 1em">8.
AUTH_CREDENTIALS_DEFAULT_LIFETIME_SECS <br>

http://dacs.dss.ca/man/dacs.conf.5.html#AUTH_CREDENTIALS_DEFAULT_LIFETIME_SECS</p>

<p style="margin-top: 1em">9. dacs.conf(5) <br>
http://dacs.dss.ca/man/dacs.conf.5.html#VERIFY_UA</p>

<p style="margin-top: 1em">10. dacs_auth_agent(8) <br>
http://dacs.dss.ca/man/dacs_auth_agent.8.html</p>

<p style="margin-top: 1em">11. dacs_auth_transfer(8) <br>
http://dacs.dss.ca/man/dacs_auth_transfer.8.html</p>

<p style="margin-top: 1em">12. dacs_authenticate(8) <br>
http://dacs.dss.ca/man/dacs_authenticate.8.html</p>

<p style="margin-top: 1em">13. dacscred(1) <br>
http://dacs.dss.ca/man/dacscred.1.html</p>

<p style="margin-top: 1em">14. dacs_current_credentials(8)
<br>
http://dacs.dss.ca/man/dacs_current_credentials.8.html</p>

<p style="margin-top: 1em">15. www.dss.ca <br>
http://www.dss.ca</p>

<p style="margin-top: 1em">16. LICENSE <br>
http://dacs.dss.ca/man/../misc/LICENSE</p>

<p style="margin-top: 1em">DACS 1.4.38a 01/12/2017
DACSCOOKIE(1)</p>
<hr>
</body>
</html>
