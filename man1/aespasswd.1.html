<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>aespasswd(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">aespasswd(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">aespasswd(1)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
aespasswd - Used to create and manage an AES keyfile.
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>aespasswd</b> [ <i>-n</i>] [<i>-d</i>] <i>-f keyfile identity</i>
<h1 class="Sh" title="Sh" id="OPTIONS"><a class="selflink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-n</b></dt>
  <dd class="It-tag">Create the keyfile</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-d</b></dt>
  <dd class="It-tag">Delete given identity from keyfile</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f keyfile</b></dt>
  <dd class="It-tag">Specifies file that holds identity/key pairs</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<b>aespasswd</b> is used to create and manage files that hold identity/key
  pairs. It is primarily used to manage the <i>bwctld.keys</i> file for
  <b>bwctld</b> and the <i>owampd.keys</i> file for <b>owampd</b>.
<div class="Pp"></div>
If the <i>-d</i> option is not specified, then <b>aespasswd</b> prompts the
  caller for a passphrase. The passphrase is hashed using an internal MD5
  algorithm to generate a key that is then saved in the <i>keyfile</i>
  associated with the given <i>identity</i>. If the given <i>identity</i>
  already exists in the <i>keyfile</i>, the previous key is overwritten with the
  new one.
<div class="Pp"></div>
<i>keyfiles</i> generated by <b>aespasswd</b> are formatted for use with
  <b>BWCTL</b> and <b>OWAMP</b>.
<h1 class="Sh" title="Sh" id="KEYFILE_FORMAT"><a class="selflink" href="#KEYFILE_FORMAT">KEYFILE
  FORMAT</a></h1>
<b>aespasswd</b> generates lines of the format:
<div class="Pp"></div>
test	54b0c58c7ce9f2a8b551351102ee0938
<div class="Pp"></div>
An <i>identity</i>, followed by whitespace, followed by a hex encoded 128-bit
  number, that is suitable to be used as a symmetric AES key.
<div class="Pp"></div>
No other text is allowed on these lines; however, comment lines may be added.
  Comment lines are any line where the first non-white space character is '
  <b>#</b>'.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<b>aespasswd -f /etc/bwctl/bwctld.keys testuser</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Adds a key for the identity <i>testuser</i>. The user is
      prompted for a passphrase. If the file does not exist, an error message
      will be printed and no action will be taken.</dd>
</dl>
<div class="Pp"></div>
<b>aespasswd -f /etc/bwctl/bwctld.keys -n testuser</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Creates the file before doing the same as above. If the
      file already exists, an error message will be printed and no action will
      be taken.</dd>
</dl>
<div class="Pp"></div>
<b>aespasswd -f /etc/bwctl/bwctld.keys -d testuser</b>
<dl class="Bl-tag">
  <dt class="It-tag"></dt>
  <dd class="It-tag">Deletes the identity <i>testuser</i> from the keyfile. If
      the file does not exist, an error message will be printed and no action
      will be taken.</dd>
</dl>
<h1 class="Sh" title="Sh" id="SECURITY_CONSIDERATIONS"><a class="selflink" href="#SECURITY_CONSIDERATIONS">SECURITY
  CONSIDERATIONS</a></h1>
The keys in the <i>keyfile</i> are not encrypted in any way. The security of
  these keys is completely dependent upon the security of the system and the
  discretion of the system administrator.
<h1 class="Sh" title="Sh" id="RESTRICTIONS"><a class="selflink" href="#RESTRICTIONS">RESTRICTIONS</a></h1>
<i>identity</i> names are restricted to 16 characters, and passphrases are
  limited to 1024 characters.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
owping(1), owampd(1), bwctl(1), bwctld(1) and the
  http://e2epi.internet2.edu/owamp and http://e2epi.internet2.edu/bwctl web
  sites.
<h1 class="Sh" title="Sh" id="ACKNOWLEDGMENTS"><a class="selflink" href="#ACKNOWLEDGMENTS">ACKNOWLEDGMENTS</a></h1>
This material is based in part on work supported by the National Science
  Foundation (NSF) under Grant No. ANI-0314723. Any opinions, findings and
  conclusions or recommendations expressed in this material are those of the
  author(s) and do not necessarily reflect the views of the NSF.</div>
<table class="foot">
  <tr>
    <td class="foot-date">2004 Feb 8</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
