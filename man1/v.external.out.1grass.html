<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>v.external.out(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">v.external.out(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">v.external.out(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>v.external.out</b> - Defines vector output format.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
vector, export, output, external, OGR, PostGIS
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>v.external.out</b>
<div>&#x00A0;</div>
<b>v.external.out --help</b>
<div>&#x00A0;</div>
<b>v.external.out</b> [-<b>frpg</b>] [<b>output</b>=<i>string</i>]
  [<b>format</b>= <i>string</i>]
  [<b>options</b>=<i>string</i>[,<i>string</i>,...]] [
  <b>loadsettings</b>=<i>name</i>] [ <b>savesettings</b>=<i>name</i>]
  [--<b>overwrite</b>] [-- <b>help</b>] [--<b>verbose</b>] [--<b>quiet</b>]
  [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-f</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    List supported formats and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-r</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Cease using OGR/PostGIS, revert to native output and exit</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-p</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print current status</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>-g</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print current status in shell script style</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of output directory or OGR or PostGIS data source
    <div>&#x00A0;</div>
    Examples:
    <div>&#x00A0;</div>
    ESRI Shapefile: directory containing a shapefile
    <div>&#x00A0;</div>
    MapInfo File: directory containing a mapinfo file
    <div>&#x00A0;</div>
    PostGIS database: connection string, eg. &#x2019;PG:dbname=db
      user=grass&#x2019;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>format</b>=<i>string</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Format for output vector data
    <div>&#x00A0;</div>
    Options: <i>AmigoCloud, BNA, CSV, Carto, Cloudant, CouchDB, DGN, DXF,
      ESRI_Shapefile, ElasticSearch, GFT, GML, GPKG, GPSBabel, GPSTrackMaker,
      GPX, GeoJSON, GeoRSS, Geoconcept, Interlis_1, Interlis_2, JML, KML,
      LIBKML, MSSQLSpatial, MapInfo_File, Memory, MySQL, ODBC, ODS, OGR_GMT,
      PCIDSK, PDF, PGDUMP, PostgreSQL, S57, SQLite, Selafin, TIGER, VDV, WAsP,
      XLSX, netCDF</i>
    <div>&#x00A0;</div>
    Default: <i>ESRI_Shapefile</i></dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>options</b>=<i>string[,</i><i>string</i>,...]</dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Creation options
    <div>&#x00A0;</div>
    Examples:
    <div>&#x00A0;</div>
    &#x2019;SHPT=POINTZ&#x2019;: create 3D point Shapefile data
    <div>&#x00A0;</div>
    &#x2019;GEOM_TYPE=geography&#x2019;: use geography PostGIS data
    <div>&#x00A0;</div>
    &#x2019;SCHEMA=grass&#x2019;: create new PostGIS tables in
      &#x2019;grass&#x2019; schema</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>loadsettings</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input file to read settings from</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>savesettings</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output file where to save current settings</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>v.external.out</i> instructs GRASS to write vector maps in external data
  format (e.g. ESRI Shapefile, Mapinfo, and others) using OGR library. PostGIS
  data can be also written by built-in GRASS-PostGIS data provider.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
Number of available output formats (v.external.out -f) depends on OGR
  installation. &#x2019;PostgreSQL&#x2019; format is presented also when GRASS
  comes with PostgreSQL support (check for &#x2019;--with-postgres&#x2019; in
  g.version -b output).
<div class="Pp"></div>
To store geometry and attribute data in PostGIS database
  (&#x2019;PostgreSQL&#x2019; format) GRASS uses built-in <i>GRASS-PostGIS
  data</i> <i>provider</i>. PostGIS data can be written also by OGR library when
  GRASS_VECTOR_OGR environmental variable is defined or GRASS is not compiled
  with PostgreSQL support.
<div class="Pp"></div>
Creation <b>options</b> refer to the output format specified by <b>format</b>
  option. See the list of valid creation options at OGR formats specification
  page, example for ESRI Shapefile or PostgreSQL/PostGIS format (section
  &quot;Layer Creation Options&quot;). Options are comma-separated pairs
  (key=value), the options are case-insensitive, eg.
  options=&quot;SCHEMA=myschema,FID=cat&quot;.
<h2 class="Ss" title="Ss" id="PostgreSQL/PostGIS_Creation_Options"><a class="selflink" href="#PostgreSQL/PostGIS_Creation_Options">PostgreSQL/PostGIS
  Creation Options</a></h2>
Note that built-in <i>GRASS-PostGIS data provider</i> (
  <b>format=PostgreSQL</b>) supports different creation <b>options</b> compared
  to PostgreSQL/PostGIS driver from OGR library:
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SCHEMA=&lt;name&gt; - name of schema where to create
      feature tables. If schema doesn&#x2019;t exists, it&#x2019;s automatically
      created when writing PostGIS data.</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">FID=&lt;column&gt; - name of column which will be used as
      primary key (feature id), default: fid</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">GEOMETRY_NAME=&lt;column&gt; name of column which will be
      used for storing geometry data in feature table, default: geom</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SPATIAL_INDEX=YES|NO - enable/disable spatial index on
      geometry column, default: YES</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">PRIMARY_KEY=YES|NO - enable/disable primary key on FID
      column, default: YES</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SRID=&lt;value&gt; - spatial reference identifier, default:
      not defined</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">TOPOLOGY=YES|NO - enable/disable native PostGIS topology,
      default: NO</dd>
</dl>
</div>
Options relevant only to topological output (TOPOLOGY=YES):
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">TOPOSCHEMA_NAME=&lt;schema name&gt; - name of PostGIS
      Topology schema (relevant only for TOPOLOGY=YES), default:
      topo_&lt;input&gt;</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">TOPOGEOM_NAME=&lt;column&gt; - name of column which will be
      used for storing topogeometry data in feature table, default: topo</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">TOPO_TOLERANCE=&lt;value&gt; - tolerance for PostGIS
      Topology schema, see CreateTopology function for defails, default: 0</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">TOPO_GEO_ONLY=YES|NO - store in PostGIS Topology schema
      only data relevant to Topo-Geo data model, default: NO</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">SIMPLE_FEATURE=YES|NO - build simple features geometry in
      GEOMETRY_NAME column from topogeometry data, default: NO</dd>
</dl>
</div>
Note that topological output requires <b>PostGIS version 2 or later</b>.
<h1 class="Sh" title="Sh" id="EXAMPLES"><a class="selflink" href="#EXAMPLES">EXAMPLES</a></h1>
<h2 class="Ss" title="Ss" id="ESRI_Shapefile"><a class="selflink" href="#ESRI_Shapefile">ESRI
  Shapefile</a></h2>
<i>v.external.out</i> can be used along with <i>v.external</i> to process
  external geodata in GRASS while writing out the results directly eg. in ESRI
  Shapefile format:
<div>&#x00A0;</div>
<pre>
# register Shapefile in GRASS mapset:
v.external input=/path/to/shapefiles layer=cities
# define output directory for GRASS calculation results:
v.external.out output=$HOME/gisoutput
# do something (here: spatial query), write output directly as Shapefile
v.select ainput=cities atype=point binput=forests btype=area operator=within output=fcities
</pre>
Current settings can be printed using <b>-p</b> or <b>-g</b> flag.
<div>&#x00A0;</div>
<pre>
v.external.out -p
output: /path/to/home/gisoutput
format: ESRI Shapefile
</pre>
<h2 class="Ss" title="Ss" id="PostGIS_(simple_features)"><a class="selflink" href="#PostGIS_(simple_features)">PostGIS
  (simple features)</a></h2>
PostGIS data can be accessed directly using <i>GRASS-PostGIS data</i>
  <i>provider</i> (GRASS must be compiled with PostgreSQL support).
<div>&#x00A0;</div>
<pre>
# register PostGIS table in GRASS mapset:
v.external output=PG:dbname=gisdb layer=cities
# define output PostGIS database for GRASS calculation results stored as simple features:
v.external.out output=PG:dbname=gisdb format=PostgreSQL
# do some processing...
</pre>
<i>Note:</i> If the environment variable GRASS_VECTOR_OGR is defined, or GRASS
  is compiled without PostgreSQL support then GRASS will use PostgreSQL driver
  from OGR library for reading and writing PostGIS data.
<h2 class="Ss" title="Ss" id="PostGIS_Topology"><a class="selflink" href="#PostGIS_Topology">PostGIS
  Topology</a></h2>
<pre>
# define output PostGIS database for GRASS calculation results stored as topological elements:
v.external.out output=PG:dbname=gisdb format=PostgreSQL options=topology=YES
# do some processing...
</pre>
<i>Note:</i> PostGIS topological access is supported only in built-in
  <i>GRASS-PostGIS data provider</i>.
<h2 class="Ss" title="Ss" id="GRASS_native_format"><a class="selflink" href="#GRASS_native_format">GRASS
  native format</a></h2>
To restore original settings, ie. use the GRASS native format, type:
<div>&#x00A0;</div>
<pre>
v.external.out -r
</pre>
<h2 class="Ss" title="Ss" id="Restore_settings"><a class="selflink" href="#Restore_settings">Restore
  settings</a></h2>
Current settings can be stored to file by specifying <b>output</b> option.
<div>&#x00A0;</div>
<pre>
# define output PostGIS database for GRASS calculation with
# results stored as topological elements:
v.external.out output=PG:dbname=gisdb format=PostgreSQL \
  options=topology=YES savesettings=gisdb_topo.txt
# ... and do some processing in PostGIS Topology
</pre>
Back to native format:
<div>&#x00A0;</div>
<pre>
v.external.out -r
# do some processing in native format
</pre>
Restore previous settings from &quot;gisdb_topo.txt&quot; file by specifying
  <b>loadsettings</b> option.
<div>&#x00A0;</div>
<pre>
v.external.out loadsettings=gisdb_topo.txt
# ... and do some processing in PostGIS Topology
</pre>
<h1 class="Sh" title="Sh" id="REFERENCES"><a class="selflink" href="#REFERENCES">REFERENCES</a></h1>
<div style="margin-left: 4.00ex;">
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">GRASS-OGR data provider</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">OGR vector library C API documentation</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">GRASS-PostGIS data provider</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag">&#x2022;</dt>
  <dd class="It-tag">libpq - C Library</dd>
</dl>
</div>
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<i></i> <i>v.external,</i> <i>v.in.ogr,</i> <i>v.out.ogr,</i>
  <i>v.out.postgis</i> <i></i>
<div class="Pp"></div>
See also GRASS user wiki page for more examples.
<h1 class="Sh" title="Sh" id="AUTHOR"><a class="selflink" href="#AUTHOR">AUTHOR</a></h1>
Martin Landa, Czech Technical University in Prague, Czech Republic (development
  supported by Fondazione Edmund Mach and Comune di Trento, Italy)
<div class="Pp"></div>
<i>Last changed: $Date: 2015-11-24 09:07:58 +0100 (Tue, 24 Nov 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: v.external.out source code (history)
<div class="Pp"></div>
Main index | Vector index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
