<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    div.Pp { margin: 1ex 0ex; }
  </style>
  <title>i.maxlik(1grass)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">i.maxlik(1grass)</td>
    <td class="head-vol">Grass User's Manual</td>
    <td class="head-rtitle">i.maxlik(1grass)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="selflink" href="#NAME">NAME</a></h1>
<i></i><b>i.maxlik</b> - Classifies the cell spectral reflectances in imagery
  data.
<div>&#x00A0;</div>
Classification is based on the spectral signature information generated by
  either i.cluster, g.gui.iclass, or i.gensig.
<h1 class="Sh" title="Sh" id="KEYWORDS"><a class="selflink" href="#KEYWORDS">KEYWORDS</a></h1>
imagery, classification, Maximum Likelihood Classification, MLC
<h1 class="Sh" title="Sh" id="SYNOPSIS"><a class="selflink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<b>i.maxlik</b>
<div>&#x00A0;</div>
<b>i.maxlik --help</b>
<div>&#x00A0;</div>
<b>i.maxlik</b> <b>group</b>=<i>name</i> <b>subgroup</b>=<i>name</i>
  <b>signaturefile</b>= <i>name</i> <b>output</b>=<i>name</i>
  [<b>reject</b>=<i>name</i>] [-- <b>overwrite</b>] [--<b>help</b>]
  [--<b>verbose</b>] [-- <b>quiet</b>] [--<b>ui</b>]
<h2 class="Ss" title="Ss" id="Flags:"><a class="selflink" href="#Flags:">Flags:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--overwrite</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Allow output files to overwrite existing files</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--help</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Print usage summary</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--verbose</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Verbose module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--quiet</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Quiet module output</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>--ui</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Force launching GUI dialog</dd>
</dl>
<h2 class="Ss" title="Ss" id="Parameters:"><a class="selflink" href="#Parameters:">Parameters:</a></h2>
<dl class="Bl-tag">
  <dt class="It-tag"><b>group</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input imagery group</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>subgroup</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input imagery subgroup</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>signaturefile</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name of input file containing signatures
    <div>&#x00A0;</div>
    Generated by either i.cluster, g.gui.iclass, or i.gensig</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>output</b>=<i>name</i> <b>[required]</b></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output raster map holding classification results</dd>
</dl>
<dl class="Bl-tag">
  <dt class="It-tag"><b>reject</b>=<i>name</i></dt>
  <dd class="It-tag">
    <div>&#x00A0;</div>
    Name for output raster map holding reject threshold results</dd>
</dl>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="selflink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<i>i.maxlik</i> is a maximum-likelihood discriminant analysis classifier. It can
  be used to perform the second step in either an unsupervised or a supervised
  image classification.
<div class="Pp"></div>
Either image classification methods are performed in two steps. The first step
  in an unsupervised image classification is performed by <i>i.cluster</i>; the
  first step in a supervised classification is executed by the GRASS program
  <i>g.gui.iclass</i>. In both cases, the second step in the image
  classification procedure is performed by <i>i.maxlik</i>.
<div class="Pp"></div>
In an unsupervised classification, the maximum-likelihood classifier uses the
  cluster means and covariance matrices from the <i>i.cluster</i> signature file
  to determine to which category (spectral class) each cell in the image has the
  highest probability of belonging. In a supervised image classification, the
  maximum-likelihood classifier uses the region means and covariance matrices
  from the spectral signature file generated by <i></i> <i>g.gui.iclass</i>,
  based on regions (groups of image pixels) chosen by the user, to determine to
  which category each cell in the image has the highest probability of
  belonging.
<div class="Pp"></div>
In either case, the raster map output by <i>i.maxlik</i> is a classified image
  in which each cell has been assigned to a spectral class (i.e., a category).
  The spectral classes (categories) can be related to specific land cover types
  on the ground.
<h1 class="Sh" title="Sh" id="NOTES"><a class="selflink" href="#NOTES">NOTES</a></h1>
The maximum-likelihood classifier assumes that the spectral signatures for each
  class (category) in each band file are normally distributed (i.e., Gaussian in
  nature). Algorithms, such as <i>i.cluster</i>, <i>g.gui.iclass</i>, or
  <i>i.gensig</i>, however, can create signatures that are not valid distributed
  (more likely with <i>g.gui.iclass).</i> If this occurs, <i>i.maxlik</i> will
  reject them and display a warning message.
<div class="Pp"></div>
The signature file ( <b>signaturefile</b>) contains the cluster and covariance
  matrices that were calculated by the GRASS program <i>i.cluster</i> (or the
  region means and covariance matrices generated by <i>g.gui.iclass</i>, if the
  user runs a supervised classification). These spectral signatures are what
  determine the categories (classes) to which image pixels will be assigned
  during the classification process.
<div class="Pp"></div>
The optional name of a <b>reject</b> raster map holds the reject threshold
  results. This is the result of a chi square test on each discriminant result
  at various threshold levels of confidence to determine at what confidence
  level each cell classified (categorized). It is the reject threshold map
  layer, and contains the index to one calculated confidence level for each
  classified cell in the classified image. 16 confidence intervals are
  predefined, and the reject map is to be interpreted as 1 = keep and 16 =
  reject. One of the possible uses for this map layer is as a mask, to identify
  cells in the classified image that have a low probability (high reject index)
  of being assigned to the correct class.
<h1 class="Sh" title="Sh" id="EXAMPLE"><a class="selflink" href="#EXAMPLE">EXAMPLE</a></h1>
Second part of the unsupervised classification of a LANDSAT subscene (VIZ, NIR,
  MIR channels) in North Carolina (see <i>i.cluster</i> manual page for the
  first part of the example):
<div>&#x00A0;</div>
<pre>
# using here the signaturefile created by i.cluster
i.maxlik group=lsat7_2002 subgroup=lsat7_2002 \
  signaturefile=sig_cluster_lsat2002 \
  output=lsat7_2002_cluster_classes reject=lsat7_2002_cluster_reject
# visually check result
d.mon wx0
d.rast.leg lsat7_2002_cluster_classes
d.rast.leg lsat7_2002_cluster_reject
# see how many pixels were rejected at given levels
r.report lsat7_2002_cluster_reject units=k,p
# optionally, filter out pixels with high level of rejection
# here we remove pixels of at least 90% of rejection probability, i.e. categories 12-16
r.mapcalc &quot;lsat7_2002_cluster_classes_filtered = \
           if(lsat7_2002_cluster_reject &lt;= 12, lsat7_2002_cluster_classes, null())&quot;
</pre>
<div class="Pp"></div>
RGB composite of input data
<div class="Pp"></div>
Output raster map with pixels classified (10 classes)
<div class="Pp"></div>
Output raster map with rejection probability values (pixel classification
  confidence levels)
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="selflink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
Image processing and Image classification wiki pages and for historical
  reference also the GRASS GIS 4 <i></i> <i>Image</i> <i>Processing manual</i>
<div class="Pp"></div>
<i></i> <i>g.gui.iclass,</i> <i>i.cluster,</i> <i>i.gensig,</i> <i>i.group,</i>
  <i>i.segment,</i> <i>i.smap,</i> <i>r.kappa</i> <i></i>
<h1 class="Sh" title="Sh" id="AUTHORS"><a class="selflink" href="#AUTHORS">AUTHORS</a></h1>
Michael Shapiro, U.S.Army Construction Engineering Research Laboratory
<div>&#x00A0;</div>
Tao Wen, University of Illinois at Urbana-Champaign, Illinois
<div class="Pp"></div>
<i>Last changed: $Date: 2015-09-14 18:35:33 +0200 (Mon, 14 Sep 2015) $</i>
<h1 class="Sh" title="Sh" id="SOURCE_CODE"><a class="selflink" href="#SOURCE_CODE">SOURCE
  CODE</a></h1>
Available at: i.maxlik source code (history)
<div class="Pp"></div>
Main index | Imagery index | Topics index | Keywords index | Graphical index |
  Full index
<div class="Pp"></div>
&#x00A9; 2003-2016 GRASS Development Team, GRASS GIS 7.2.0 Reference
  Manual</div>
<table class="foot">
  <tr>
    <td class="foot-date"></td>
    <td class="foot-os">GRASS 7.2.0</td>
  </tr>
</table>
</body>
</html>
