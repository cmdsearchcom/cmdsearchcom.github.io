<!-- Creator     : groff version 1.22.3 -->
<!-- CreationDate: Sun Aug 27 16:26:42 2017 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title></title>
</head>
<body>

<hr>


<p>MYSQLSERVERCLONE() MYSQLSERVERCLONE()</p>

<p style="margin-top: 1em">NAME <br>
mysqlserverclone - Clone Existing Server to Create New
Server</p>

<p style="margin-top: 1em">SYNOPSIS <br>
mysqlserverclone [options]</p>

<p style="margin-top: 1em">DESCRIPTION <br>
This utility enables you to clone an existing MySQL server
instance to create a new server instance on the same host.
The utility creates a new datadir (--new-data), and, on Unix
<br>
systems, starts the server with a socket file. You can
optionally add a password for the login user account on the
new instance.</p>

<p style="margin-top: 1em">If the user does not have read
and write access to the folder specified by the --new-data
option, the utility shall issue an error.</p>

<p style="margin-top: 1em">Similarly, if the folder
specified by <br>
--new-data exists and is not empty, the utility will not
delete the folder and will issue an error message. Users
must specify the --delete-data option to permit the utility
to <br>
remove the folder prior to starting the cloned server.
OPTIONS.PP mysqlserverclone accepts the following
command-line options:</p>

<p style="margin-top: 1em">&Acirc;&middot; --help</p>

<p style="margin-top: 1em">Display a help message and
exit.</p>

<p style="margin-top: 1em">&Acirc;&middot; --license</p>

<p style="margin-top: 1em">Display license information and
exit.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--delete-data</p>

<p style="margin-top: 1em">Delete the folder specified by
--new-data if it exists and is not empty.</p>

<p style="margin-top: 1em">&Acirc;&middot; --basedir</p>

<p style="margin-top: 1em">The base directory for the MySQL
server source, as an alternative to the --server option.</p>

<p style="margin-top: 1em">shell&gt; mysqlserverclone
--basedir=/source/mysql-5.6 --new-data=/source/temp_3007
--new-port=3007 --new-id=101 --root=root
--mysqld=&quot;--log-bin --gtid-mode=on --log-slave-updates
--enforce-gtid-consistency --master-info-repository=table
--report-host=localhost --report-port=3007&quot;
--delete</p>

<p style="margin-top: 1em">&Acirc;&middot; --force</p>

<p style="margin-top: 1em">Ignore the maximum path length
and the low space checks for the --new-data option.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--mysqld=&lt;options&gt;</p>

<p style="margin-top: 1em">Additional options for mysqld.
To specify multiple options, separate them by spaces. Use
appropriate quoting as necessary. For example, to specify
--log-bin=binlog and <br>
--general-log-file=&quot;mylogfile&quot;, use:</p>

<p style="margin-top: 1em">If the option --skip-innodb is
included when connecting to a MySQL server version 5.7.5 or
higher, the option is ignored and a warning is issued.</p>

<p style="margin-top: 1em">--mysqld=&quot;--log-bin=binlog
--general-log-file=&rsquo;my log file&rsquo;&quot;</p>

<p style="margin-top: 1em">&Acirc;&middot;
--new-data=&lt;path_to_new_datadir&gt;</p>

<p style="margin-top: 1em">The full path to the location of
the data directory for the new instance. The path size must
be 200 characters or less and it requires at least 120 MB of
free space.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--new-id=&lt;server_id&gt;</p>

<p style="margin-top: 1em">The server_id value for the new
server instance. The default is 2.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--new-port=&lt;port&gt;</p>

<p style="margin-top: 1em">The port number for the new
server instance. The default is 3307.</p>

<p style="margin-top: 1em">&Acirc;&middot; --quiet, -q</p>

<p style="margin-top: 1em">Turn off all messages for quiet
execution.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--root-password=&lt;password&gt;</p>

<p style="margin-top: 1em">The password for the root user
of the new server instance.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--server=&lt;source&gt;</p>

<p style="margin-top: 1em">Connection information for the
server to be cloned.</p>

<p style="margin-top: 1em">To connect to a server, it is
necessary to specify connection parameters such as user
name, host name, password, and either a port or socket.
MySQL Utilities provides a <br>
number of ways to provide this information. All of the
methods require specifying your choice via a command-line
option such as --server, --master, --slave, etc. The methods
<br>
include the following in order of most secure to least
secure.</p>

<p style="margin-top: 1em">&Acirc;&middot; Use login-paths
from your .mylogin.cnf file (encrypted, not visible).
Example :
&lt;login-path&gt;[:&lt;port&gt;][:&lt;socket&gt;]</p>

<p style="margin-top: 1em">&Acirc;&middot; Use a
configuration file (unencrypted, not visible) Note:
available in release-1.5.0. Example :
&lt;configuration-file-path&gt;[:&lt;section&gt;]</p>

<p style="margin-top: 1em">&Acirc;&middot; Specify the data
on the command-line (unencrypted, visible). Example :
&lt;user&gt;[:&lt;passwd&gt;]@&lt;host&gt;[:&lt;port&gt;][:&lt;socket&gt;]</p>

<p style="margin-top: 1em">&Acirc;&middot; --ssl-ca</p>

<p style="margin-top: 1em">The path to a file that contains
a list of trusted SSL CAs.</p>

<p style="margin-top: 1em">&Acirc;&middot; --ssl-cert</p>

<p style="margin-top: 1em">The name of the SSL certificate
file to use for establishing a secure connection.</p>

<p style="margin-top: 1em">&Acirc;&middot; --ssl-cert</p>

<p style="margin-top: 1em">The name of the SSL key file to
use for establishing a secure connection.</p>

<p style="margin-top: 1em">&Acirc;&middot; --ssl</p>

<p style="margin-top: 1em">Specifies if the server
connection requires use of SSL. If an encrypted connection
cannot be established, the connection attempt fails. Default
setting is 0 (SSL not <br>
required).</p>

<p style="margin-top: 1em">&Acirc;&middot;
--start-timeout=&lt;timeout_in_seconds&gt;</p>

<p style="margin-top: 1em">Number of seconds to wait for
server to start. Default = 10 seconds.</p>

<p style="margin-top: 1em">&Acirc;&middot; --verbose,
-v</p>

<p style="margin-top: 1em">Specify how much information to
display. Use this option multiple times to increase the
amount of information. For example, -v = verbose, -vv = more
verbose, -vvv = debug.</p>

<p style="margin-top: 1em">&Acirc;&middot; --version</p>

<p style="margin-top: 1em">Display version information and
exit.</p>

<p style="margin-top: 1em">&Acirc;&middot;
--write-command=&lt;file_name&gt;, -w&lt;file_name&gt;</p>

<p style="margin-top: 1em">Path name of file in which to
write the command used to launch the new server instance.
<br>
EXAMPLES.PP The following command demonstrates how to create
a new instance of a running server, set the root user
password and enable binary logging:</p>

<p style="margin-top: 1em">shell&gt; mkdir /source/test123
<br>
shell&gt; mysqlserverclone --server=root:pass@localhost
--new-data=/Users/cbell/source/test123 --new-port=3310
--root-password=pass --mysqld=--log-bin=mysql-bin <br>
# Cloning the MySQL server running on localhost. <br>
# Creating new data directory... <br>
# Configuring new instance... <br>
# Locating mysql tools... <br>
# Setting up empty database and mysql tables... <br>
# Starting new instance of the server... <br>
# Testing connection to new instance... <br>
# Success! <br>
# Setting the root password... <br>
# ...done.</p>

<p style="margin-top: 1em">PERMISSIONS REQUIRED.PP The user
must have permission to read all databases. Since we are
using the root account for these examples (and you typically
would), permissions are not <br>
generally a problem.</p>

<p style="margin-top: 1em">You also need permissions to
create the new data directory and write data to it.</p>

<p style="margin-top: 1em">COPYRIGHT <br>
Copyright &Acirc;&copy; 2006, 2015, Oracle and/or its
affiliates. All rights reserved.</p>

<p style="margin-top: 1em">This documentation is free
software; you can redistribute it and/or modify it only
under the terms of the GNU General Public License as
published by the Free Software Foundation; <br>
version 2 of the License.</p>

<p style="margin-top: 1em">This documentation is
distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR <br>
PURPOSE. See the GNU General Public License for more
details.</p>

<p style="margin-top: 1em">You should have received a copy
of the GNU General Public License along with the program; if
not, write to the Free Software Foundation, Inc., 51
Franklin Street, Fifth Floor, <br>
Boston, MA 02110-1301 USA or see
http://www.gnu.org/licenses/.</p>

<p style="margin-top: 1em">SEE ALSO <br>
For more information, please refer to the MySQL Utilities
and Fabric documentation, which is available online at
http://dev.mysql.com/doc/index-utils-fabric.html</p>

<p style="margin-top: 1em">AUTHOR <br>
Oracle Corporation (http://dev.mysql.com/).</p>
 
<p style="margin-top: 1em">MYSQLSERVERCLONE()</p>
<hr>
</body>
</html>
